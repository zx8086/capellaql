// @bun
import{a as p51}from"./index-b5vnstf5.js";import{d as C}from"./index-t2bwpaq6.js";import{e as M1,f as B,g as r9,h as p}from"./index-32sm2skh.js";var wN1=B((VN1)=>{Object.defineProperty(VN1,"__esModule",{value:!0});VN1.versionInfo=VN1.version=void 0;var k74="16.11.0";VN1.version=k74;var b74=Object.freeze({major:16,minor:11,patch:0,preReleaseTag:null});VN1.versionInfo=b74});var z7=B((AN1)=>{Object.defineProperty(AN1,"__esModule",{value:!0});AN1.devAssert=_74;function _74(J,Z){if(!Boolean(J))throw new Error(Z)}});var iS=B((MN1)=>{Object.defineProperty(MN1,"__esModule",{value:!0});MN1.isPromise=v74;function v74(J){return typeof(J===null||J===void 0?void 0:J.then)==="function"}});var H$=B((NN1)=>{Object.defineProperty(NN1,"__esModule",{value:!0});NN1.isObjectLike=g74;function g74(J){return typeof J=="object"&&J!==null}});var S9=B((PN1)=>{Object.defineProperty(PN1,"__esModule",{value:!0});PN1.invariant=u74;function u74(J,Z){if(!Boolean(J))throw new Error(Z!=null?Z:"Unexpected invariant triggered.")}});var oS=B((LN1)=>{Object.defineProperty(LN1,"__esModule",{value:!0});LN1.getLocation=p74;var c74=S9(),l74=/\r\n|[\n\r]/g;function p74(J,Z){let X=0,Y=1;for(let $ of J.body.matchAll(l74)){if(typeof $.index==="number"||(0,c74.invariant)(!1),$.index>=Z)break;X=$.index+$[0].length,Y+=1}return{line:Y,column:Z+1-X}}});var ci=B((RN1)=>{Object.defineProperty(RN1,"__esModule",{value:!0});RN1.printLocation=o74;RN1.printSourceLocation=jN1;var i74=oS();function o74(J){return jN1(J.source,(0,i74.getLocation)(J.source,J.start))}function jN1(J,Z){let X=J.locationOffset.column-1,Y="".padStart(X)+J.body,$=Z.line-1,z=J.locationOffset.line-1,W=Z.line+z,Q=Z.line===1?X:0,G=Z.column+Q,K=`${J.name}:${W}:${G}
`,q=Y.split(/\r\n|[\n\r]/g),H=q[$];if(H.length>120){let F=Math.floor(G/80),U=G%80,D=[];for(let V=0;V<H.length;V+=80)D.push(H.slice(V,V+80));return K+CN1([[`${W} |`,D[0]],...D.slice(1,F+1).map((V)=>["|",V]),["|","^".padStart(U)],["|",D[F+1]]])}return K+CN1([[`${W-1} |`,q[$-1]],[`${W} |`,H],["|","^".padStart(G)],[`${W+1} |`,q[$+1]]])}function CN1(J){let Z=J.filter(([Y,$])=>$!==void 0),X=Math.max(...Z.map(([Y])=>Y.length));return Z.map(([Y,$])=>Y.padStart(X)+($?" "+$:"")).join(`
`)}});var O0=B((fN1)=>{Object.defineProperty(fN1,"__esModule",{value:!0});fN1.GraphQLError=void 0;fN1.formatError=JJ4;fN1.printError=e74;var r74=H$(),EN1=oS(),SN1=ci();function t74(J){let Z=J[0];if(Z==null||"kind"in Z||"length"in Z)return{nodes:Z,source:J[1],positions:J[2],path:J[3],originalError:J[4],extensions:J[5]};return Z}class li extends Error{constructor(J,...Z){var X,Y,$;let{nodes:z,source:W,positions:Q,path:G,originalError:K,extensions:q}=t74(Z);super(J);this.name="GraphQLError",this.path=G!==null&&G!==void 0?G:void 0,this.originalError=K!==null&&K!==void 0?K:void 0,this.nodes=TN1(Array.isArray(z)?z:z?[z]:void 0);let H=TN1((X=this.nodes)===null||X===void 0?void 0:X.map((U)=>U.loc).filter((U)=>U!=null));this.source=W!==null&&W!==void 0?W:H===null||H===void 0?void 0:(Y=H[0])===null||Y===void 0?void 0:Y.source,this.positions=Q!==null&&Q!==void 0?Q:H===null||H===void 0?void 0:H.map((U)=>U.start),this.locations=Q&&W?Q.map((U)=>(0,EN1.getLocation)(W,U)):H===null||H===void 0?void 0:H.map((U)=>(0,EN1.getLocation)(U.source,U.start));let F=(0,r74.isObjectLike)(K===null||K===void 0?void 0:K.extensions)?K===null||K===void 0?void 0:K.extensions:void 0;if(this.extensions=($=q!==null&&q!==void 0?q:F)!==null&&$!==void 0?$:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),K!==null&&K!==void 0&&K.stack)Object.defineProperty(this,"stack",{value:K.stack,writable:!0,configurable:!0});else if(Error.captureStackTrace)Error.captureStackTrace(this,li);else Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let J=this.message;if(this.nodes){for(let Z of this.nodes)if(Z.loc)J+=`

`+(0,SN1.printLocation)(Z.loc)}else if(this.source&&this.locations)for(let Z of this.locations)J+=`

`+(0,SN1.printSourceLocation)(this.source,Z);return J}toJSON(){let J={message:this.message};if(this.locations!=null)J.locations=this.locations;if(this.path!=null)J.path=this.path;if(this.extensions!=null&&Object.keys(this.extensions).length>0)J.extensions=this.extensions;return J}}fN1.GraphQLError=li;function TN1(J){return J===void 0||J.length===0?void 0:J}function e74(J){return J.toString()}function JJ4(J){return J.toJSON()}});var sS=B((bN1)=>{Object.defineProperty(bN1,"__esModule",{value:!0});bN1.syntaxError=$J4;var YJ4=O0();function $J4(J,Z,X){return new YJ4.GraphQLError(`Syntax Error: ${X}`,{source:J,positions:[Z]})}});var F$=B((vN1)=>{Object.defineProperty(vN1,"__esModule",{value:!0});vN1.Token=vN1.QueryDocumentKeys=vN1.OperationTypeNode=vN1.Location=void 0;vN1.isNode=QJ4;class hN1{constructor(J,Z,X){this.start=J.start,this.end=Z.end,this.startToken=J,this.endToken=Z,this.source=X}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}vN1.Location=hN1;class _N1{constructor(J,Z,X,Y,$,z){this.kind=J,this.start=Z,this.end=X,this.line=Y,this.column=$,this.value=z,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}vN1.Token=_N1;var yN1={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};vN1.QueryDocumentKeys=yN1;var WJ4=new Set(Object.keys(yN1));function QJ4(J){let Z=J===null||J===void 0?void 0:J.kind;return typeof Z==="string"&&WJ4.has(Z)}var pi;vN1.OperationTypeNode=pi;(function(J){J.QUERY="query",J.MUTATION="mutation",J.SUBSCRIPTION="subscription"})(pi||(vN1.OperationTypeNode=pi={}))});var OV=B((dN1)=>{Object.defineProperty(dN1,"__esModule",{value:!0});dN1.DirectiveLocation=void 0;var ni;dN1.DirectiveLocation=ni;(function(J){J.QUERY="QUERY",J.MUTATION="MUTATION",J.SUBSCRIPTION="SUBSCRIPTION",J.FIELD="FIELD",J.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",J.FRAGMENT_SPREAD="FRAGMENT_SPREAD",J.INLINE_FRAGMENT="INLINE_FRAGMENT",J.VARIABLE_DEFINITION="VARIABLE_DEFINITION",J.SCHEMA="SCHEMA",J.SCALAR="SCALAR",J.OBJECT="OBJECT",J.FIELD_DEFINITION="FIELD_DEFINITION",J.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",J.INTERFACE="INTERFACE",J.UNION="UNION",J.ENUM="ENUM",J.ENUM_VALUE="ENUM_VALUE",J.INPUT_OBJECT="INPUT_OBJECT",J.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(ni||(dN1.DirectiveLocation=ni={}))});var o6=B((uN1)=>{Object.defineProperty(uN1,"__esModule",{value:!0});uN1.Kind=void 0;var oi;uN1.Kind=oi;(function(J){J.NAME="Name",J.DOCUMENT="Document",J.OPERATION_DEFINITION="OperationDefinition",J.VARIABLE_DEFINITION="VariableDefinition",J.SELECTION_SET="SelectionSet",J.FIELD="Field",J.ARGUMENT="Argument",J.FRAGMENT_SPREAD="FragmentSpread",J.INLINE_FRAGMENT="InlineFragment",J.FRAGMENT_DEFINITION="FragmentDefinition",J.VARIABLE="Variable",J.INT="IntValue",J.FLOAT="FloatValue",J.STRING="StringValue",J.BOOLEAN="BooleanValue",J.NULL="NullValue",J.ENUM="EnumValue",J.LIST="ListValue",J.OBJECT="ObjectValue",J.OBJECT_FIELD="ObjectField",J.DIRECTIVE="Directive",J.NAMED_TYPE="NamedType",J.LIST_TYPE="ListType",J.NON_NULL_TYPE="NonNullType",J.SCHEMA_DEFINITION="SchemaDefinition",J.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",J.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",J.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",J.FIELD_DEFINITION="FieldDefinition",J.INPUT_VALUE_DEFINITION="InputValueDefinition",J.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",J.UNION_TYPE_DEFINITION="UnionTypeDefinition",J.ENUM_TYPE_DEFINITION="EnumTypeDefinition",J.ENUM_VALUE_DEFINITION="EnumValueDefinition",J.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",J.DIRECTIVE_DEFINITION="DirectiveDefinition",J.SCHEMA_EXTENSION="SchemaExtension",J.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",J.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",J.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",J.UNION_TYPE_EXTENSION="UnionTypeExtension",J.ENUM_TYPE_EXTENSION="EnumTypeExtension",J.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(oi||(uN1.Kind=oi={}))});var aS=B((cN1)=>{Object.defineProperty(cN1,"__esModule",{value:!0});cN1.isDigit=mN1;cN1.isLetter=ai;cN1.isNameContinue=FJ4;cN1.isNameStart=HJ4;cN1.isWhiteSpace=BJ4;function BJ4(J){return J===9||J===32}function mN1(J){return J>=48&&J<=57}function ai(J){return J>=97&&J<=122||J>=65&&J<=90}function HJ4(J){return ai(J)||J===95}function FJ4(J){return ai(J)||mN1(J)||J===95}});var xM=B((lN1)=>{Object.defineProperty(lN1,"__esModule",{value:!0});lN1.dedentBlockStringLines=wJ4;lN1.isPrintableAsBlockString=MJ4;lN1.printBlockString=NJ4;var ri=aS();function wJ4(J){var Z;let X=Number.MAX_SAFE_INTEGER,Y=null,$=-1;for(let W=0;W<J.length;++W){var z;let Q=J[W],G=AJ4(Q);if(G===Q.length)continue;if(Y=(z=Y)!==null&&z!==void 0?z:W,$=W,W!==0&&G<X)X=G}return J.map((W,Q)=>Q===0?W:W.slice(X)).slice((Z=Y)!==null&&Z!==void 0?Z:0,$+1)}function AJ4(J){let Z=0;while(Z<J.length&&(0,ri.isWhiteSpace)(J.charCodeAt(Z)))++Z;return Z}function MJ4(J){if(J==="")return!0;let Z=!0,X=!1,Y=!0,$=!1;for(let z=0;z<J.length;++z)switch(J.codePointAt(z)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 11:case 12:case 14:case 15:return!1;case 13:return!1;case 10:if(Z&&!$)return!1;$=!0,Z=!0,X=!1;break;case 9:case 32:X||(X=Z);break;default:Y&&(Y=X),Z=!1}if(Z)return!1;if(Y&&$)return!1;return!0}function NJ4(J,Z){let X=J.replace(/"""/g,'\\"""'),Y=X.split(/\r\n|[\n\r]/g),$=Y.length===1,z=Y.length>1&&Y.slice(1).every((U)=>U.length===0||(0,ri.isWhiteSpace)(U.charCodeAt(0))),W=X.endsWith('\\"""'),Q=J.endsWith('"')&&!W,G=J.endsWith("\\"),K=Q||G,q=!(Z!==null&&Z!==void 0&&Z.minimize)&&(!$||J.length>70||K||z||W),H="",F=$&&(0,ri.isWhiteSpace)(J.charCodeAt(0));if(q&&!F||z)H+=`
`;if(H+=X,q||K)H+=`
`;return'"""'+H+'"""'}});var gM=B((pN1)=>{Object.defineProperty(pN1,"__esModule",{value:!0});pN1.TokenKind=void 0;var ti;pN1.TokenKind=ti;(function(J){J.SOF="<SOF>",J.EOF="<EOF>",J.BANG="!",J.DOLLAR="$",J.AMP="&",J.PAREN_L="(",J.PAREN_R=")",J.SPREAD="...",J.COLON=":",J.EQUALS="=",J.AT="@",J.BRACKET_L="[",J.BRACKET_R="]",J.BRACE_L="{",J.PIPE="|",J.BRACE_R="}",J.NAME="Name",J.INT="Int",J.FLOAT="Float",J.STRING="String",J.BLOCK_STRING="BlockString",J.COMMENT="Comment"})(ti||(pN1.TokenKind=ti={}))});var tS=B((rN1)=>{Object.defineProperty(rN1,"__esModule",{value:!0});rN1.Lexer=void 0;rN1.isPunctuatorTokenKind=RJ4;var JY=sS(),iN1=F$(),jJ4=xM(),SH=aS(),E6=gM();class oN1{constructor(J){let Z=new iN1.Token(E6.TokenKind.SOF,0,0,0,0);this.source=J,this.lastToken=Z,this.token=Z,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let J=this.token;if(J.kind!==E6.TokenKind.EOF)do if(J.next)J=J.next;else{let Z=EJ4(this,J.end);J.next=Z,Z.prev=J,J=Z}while(J.kind===E6.TokenKind.COMMENT);return J}}rN1.Lexer=oN1;function RJ4(J){return J===E6.TokenKind.BANG||J===E6.TokenKind.DOLLAR||J===E6.TokenKind.AMP||J===E6.TokenKind.PAREN_L||J===E6.TokenKind.PAREN_R||J===E6.TokenKind.SPREAD||J===E6.TokenKind.COLON||J===E6.TokenKind.EQUALS||J===E6.TokenKind.AT||J===E6.TokenKind.BRACKET_L||J===E6.TokenKind.BRACKET_R||J===E6.TokenKind.BRACE_L||J===E6.TokenKind.PIPE||J===E6.TokenKind.BRACE_R}function DV(J){return J>=0&&J<=55295||J>=57344&&J<=1114111}function rS(J,Z){return sN1(J.charCodeAt(Z))&&aN1(J.charCodeAt(Z+1))}function sN1(J){return J>=55296&&J<=56319}function aN1(J){return J>=56320&&J<=57343}function TH(J,Z){let X=J.source.body.codePointAt(Z);if(X===void 0)return E6.TokenKind.EOF;else if(X>=32&&X<=126){let Y=String.fromCodePoint(X);return Y==='"'?`'"'`:`"${Y}"`}return"U+"+X.toString(16).toUpperCase().padStart(4,"0")}function H5(J,Z,X,Y,$){let z=J.line,W=1+X-J.lineStart;return new iN1.Token(Z,X,Y,z,W,$)}function EJ4(J,Z){let X=J.source.body,Y=X.length,$=Z;while($<Y){let z=X.charCodeAt($);switch(z){case 65279:case 9:case 32:case 44:++$;continue;case 10:++$,++J.line,J.lineStart=$;continue;case 13:if(X.charCodeAt($+1)===10)$+=2;else++$;++J.line,J.lineStart=$;continue;case 35:return SJ4(J,$);case 33:return H5(J,E6.TokenKind.BANG,$,$+1);case 36:return H5(J,E6.TokenKind.DOLLAR,$,$+1);case 38:return H5(J,E6.TokenKind.AMP,$,$+1);case 40:return H5(J,E6.TokenKind.PAREN_L,$,$+1);case 41:return H5(J,E6.TokenKind.PAREN_R,$,$+1);case 46:if(X.charCodeAt($+1)===46&&X.charCodeAt($+2)===46)return H5(J,E6.TokenKind.SPREAD,$,$+3);break;case 58:return H5(J,E6.TokenKind.COLON,$,$+1);case 61:return H5(J,E6.TokenKind.EQUALS,$,$+1);case 64:return H5(J,E6.TokenKind.AT,$,$+1);case 91:return H5(J,E6.TokenKind.BRACKET_L,$,$+1);case 93:return H5(J,E6.TokenKind.BRACKET_R,$,$+1);case 123:return H5(J,E6.TokenKind.BRACE_L,$,$+1);case 124:return H5(J,E6.TokenKind.PIPE,$,$+1);case 125:return H5(J,E6.TokenKind.BRACE_R,$,$+1);case 34:if(X.charCodeAt($+1)===34&&X.charCodeAt($+2)===34)return _J4(J,$);return fJ4(J,$)}if((0,SH.isDigit)(z)||z===45)return TJ4(J,$,z);if((0,SH.isNameStart)(z))return yJ4(J,$);throw(0,JY.syntaxError)(J.source,$,z===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:DV(z)||rS(X,$)?`Unexpected character: ${TH(J,$)}.`:`Invalid character: ${TH(J,$)}.`)}return H5(J,E6.TokenKind.EOF,Y,Y)}function SJ4(J,Z){let X=J.source.body,Y=X.length,$=Z+1;while($<Y){let z=X.charCodeAt($);if(z===10||z===13)break;if(DV(z))++$;else if(rS(X,$))$+=2;else break}return H5(J,E6.TokenKind.COMMENT,Z,$,X.slice(Z+1,$))}function TJ4(J,Z,X){let Y=J.source.body,$=Z,z=X,W=!1;if(z===45)z=Y.charCodeAt(++$);if(z===48){if(z=Y.charCodeAt(++$),(0,SH.isDigit)(z))throw(0,JY.syntaxError)(J.source,$,`Invalid number, unexpected digit after 0: ${TH(J,$)}.`)}else $=Jo(J,$,z),z=Y.charCodeAt($);if(z===46)W=!0,z=Y.charCodeAt(++$),$=Jo(J,$,z),z=Y.charCodeAt($);if(z===69||z===101){if(W=!0,z=Y.charCodeAt(++$),z===43||z===45)z=Y.charCodeAt(++$);$=Jo(J,$,z),z=Y.charCodeAt($)}if(z===46||(0,SH.isNameStart)(z))throw(0,JY.syntaxError)(J.source,$,`Invalid number, expected digit but got: ${TH(J,$)}.`);return H5(J,W?E6.TokenKind.FLOAT:E6.TokenKind.INT,Z,$,Y.slice(Z,$))}function Jo(J,Z,X){if(!(0,SH.isDigit)(X))throw(0,JY.syntaxError)(J.source,Z,`Invalid number, expected digit but got: ${TH(J,Z)}.`);let Y=J.source.body,$=Z+1;while((0,SH.isDigit)(Y.charCodeAt($)))++$;return $}function fJ4(J,Z){let X=J.source.body,Y=X.length,$=Z+1,z=$,W="";while($<Y){let Q=X.charCodeAt($);if(Q===34)return W+=X.slice(z,$),H5(J,E6.TokenKind.STRING,Z,$+1,W);if(Q===92){W+=X.slice(z,$);let G=X.charCodeAt($+1)===117?X.charCodeAt($+2)===123?kJ4(J,$):bJ4(J,$):hJ4(J,$);W+=G.value,$+=G.size,z=$;continue}if(Q===10||Q===13)break;if(DV(Q))++$;else if(rS(X,$))$+=2;else throw(0,JY.syntaxError)(J.source,$,`Invalid character within String: ${TH(J,$)}.`)}throw(0,JY.syntaxError)(J.source,$,"Unterminated string.")}function kJ4(J,Z){let X=J.source.body,Y=0,$=3;while($<12){let z=X.charCodeAt(Z+$++);if(z===125){if($<5||!DV(Y))break;return{value:String.fromCodePoint(Y),size:$}}if(Y=Y<<4|dM(z),Y<0)break}throw(0,JY.syntaxError)(J.source,Z,`Invalid Unicode escape sequence: "${X.slice(Z,Z+$)}".`)}function bJ4(J,Z){let X=J.source.body,Y=nN1(X,Z+2);if(DV(Y))return{value:String.fromCodePoint(Y),size:6};if(sN1(Y)){if(X.charCodeAt(Z+6)===92&&X.charCodeAt(Z+7)===117){let $=nN1(X,Z+8);if(aN1($))return{value:String.fromCodePoint(Y,$),size:12}}}throw(0,JY.syntaxError)(J.source,Z,`Invalid Unicode escape sequence: "${X.slice(Z,Z+6)}".`)}function nN1(J,Z){return dM(J.charCodeAt(Z))<<12|dM(J.charCodeAt(Z+1))<<8|dM(J.charCodeAt(Z+2))<<4|dM(J.charCodeAt(Z+3))}function dM(J){return J>=48&&J<=57?J-48:J>=65&&J<=70?J-55:J>=97&&J<=102?J-87:-1}function hJ4(J,Z){let X=J.source.body;switch(X.charCodeAt(Z+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw(0,JY.syntaxError)(J.source,Z,`Invalid character escape sequence: "${X.slice(Z,Z+2)}".`)}function _J4(J,Z){let X=J.source.body,Y=X.length,$=J.lineStart,z=Z+3,W=z,Q="",G=[];while(z<Y){let K=X.charCodeAt(z);if(K===34&&X.charCodeAt(z+1)===34&&X.charCodeAt(z+2)===34){Q+=X.slice(W,z),G.push(Q);let q=H5(J,E6.TokenKind.BLOCK_STRING,Z,z+3,(0,jJ4.dedentBlockStringLines)(G).join(`
`));return J.line+=G.length-1,J.lineStart=$,q}if(K===92&&X.charCodeAt(z+1)===34&&X.charCodeAt(z+2)===34&&X.charCodeAt(z+3)===34){Q+=X.slice(W,z),W=z+1,z+=4;continue}if(K===10||K===13){if(Q+=X.slice(W,z),G.push(Q),K===13&&X.charCodeAt(z+1)===10)z+=2;else++z;Q="",W=z,$=z;continue}if(DV(K))++z;else if(rS(X,z))z+=2;else throw(0,JY.syntaxError)(J.source,z,`Invalid character within String: ${TH(J,z)}.`)}throw(0,JY.syntaxError)(J.source,z,"Unterminated string.")}function yJ4(J,Z){let X=J.source.body,Y=X.length,$=Z+1;while($<Y){let z=X.charCodeAt($);if((0,SH.isNameContinue)(z))++$;else break}return H5(J,E6.TokenKind.NAME,Z,$,X.slice(Z,$))}});var M4=B((JP1)=>{Object.defineProperty(JP1,"__esModule",{value:!0});JP1.inspect=gJ4;var xJ4=10,eN1=2;function gJ4(J){return eS(J,[])}function eS(J,Z){switch(typeof J){case"string":return JSON.stringify(J);case"function":return J.name?`[function ${J.name}]`:"[function]";case"object":return dJ4(J,Z);default:return String(J)}}function dJ4(J,Z){if(J===null)return"null";if(Z.includes(J))return"[Circular]";let X=[...Z,J];if(uJ4(J)){let Y=J.toJSON();if(Y!==J)return typeof Y==="string"?Y:eS(Y,X)}else if(Array.isArray(J))return cJ4(J,X);return mJ4(J,X)}function uJ4(J){return typeof J.toJSON==="function"}function mJ4(J,Z){let X=Object.entries(J);if(X.length===0)return"{}";if(Z.length>eN1)return"["+lJ4(J)+"]";return"{ "+X.map(([$,z])=>$+": "+eS(z,Z)).join(", ")+" }"}function cJ4(J,Z){if(J.length===0)return"[]";if(Z.length>eN1)return"[Array]";let X=Math.min(xJ4,J.length),Y=J.length-X,$=[];for(let z=0;z<X;++z)$.push(eS(J[z],Z));if(Y===1)$.push("... 1 more item");else if(Y>1)$.push(`... ${Y} more items`);return"["+$.join(", ")+"]"}function lJ4(J){let Z=Object.prototype.toString.call(J).replace(/^\[object /,"").replace(/]$/,"");if(Z==="Object"&&typeof J.constructor==="function"){let X=J.constructor.name;if(typeof X==="string"&&X!=="")return X}return Z}});var uM=B((ZP1)=>{Object.defineProperty(ZP1,"__esModule",{value:!0});ZP1.instanceOf=void 0;var nJ4=M4(),iJ4=globalThis.process&&!1,oJ4=iJ4?function J(Z,X){return Z instanceof X}:function J(Z,X){if(Z instanceof X)return!0;if(typeof Z==="object"&&Z!==null){var Y;let $=X.prototype[Symbol.toStringTag],z=Symbol.toStringTag in Z?Z[Symbol.toStringTag]:(Y=Z.constructor)===null||Y===void 0?void 0:Y.name;if($===z){let W=(0,nJ4.inspect)(Z);throw new Error(`Cannot use ${$} "${W}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};ZP1.instanceOf=oJ4});var JT=B((YP1)=>{Object.defineProperty(YP1,"__esModule",{value:!0});YP1.Source=void 0;YP1.isSource=rJ4;var Zo=z7(),sJ4=M4(),aJ4=uM();class Xo{constructor(J,Z="GraphQL request",X={line:1,column:1}){typeof J==="string"||(0,Zo.devAssert)(!1,`Body must be a string. Received: ${(0,sJ4.inspect)(J)}.`),this.body=J,this.name=Z,this.locationOffset=X,this.locationOffset.line>0||(0,Zo.devAssert)(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,Zo.devAssert)(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}YP1.Source=Xo;function rJ4(J){return(0,aJ4.instanceOf)(J,Xo)}});var IV=B((GP1)=>{Object.defineProperty(GP1,"__esModule",{value:!0});GP1.Parser=void 0;GP1.parse=JZ4;GP1.parseConstValue=XZ4;GP1.parseType=YZ4;GP1.parseValue=ZZ4;var fH=sS(),mM=F$(),eJ4=OV(),K6=o6(),WP1=tS(),zP1=JT(),v1=gM();function JZ4(J,Z){let X=new VV(J,Z),Y=X.parseDocument();return Object.defineProperty(Y,"tokenCount",{enumerable:!1,value:X.tokenCount}),Y}function ZZ4(J,Z){let X=new VV(J,Z);X.expectToken(v1.TokenKind.SOF);let Y=X.parseValueLiteral(!1);return X.expectToken(v1.TokenKind.EOF),Y}function XZ4(J,Z){let X=new VV(J,Z);X.expectToken(v1.TokenKind.SOF);let Y=X.parseConstValueLiteral();return X.expectToken(v1.TokenKind.EOF),Y}function YZ4(J,Z){let X=new VV(J,Z);X.expectToken(v1.TokenKind.SOF);let Y=X.parseTypeReference();return X.expectToken(v1.TokenKind.EOF),Y}class VV{constructor(J,Z={}){let X=(0,zP1.isSource)(J)?J:new zP1.Source(J);this._lexer=new WP1.Lexer(X),this._options=Z,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){let J=this.expectToken(v1.TokenKind.NAME);return this.node(J,{kind:K6.Kind.NAME,value:J.value})}parseDocument(){return this.node(this._lexer.token,{kind:K6.Kind.DOCUMENT,definitions:this.many(v1.TokenKind.SOF,this.parseDefinition,v1.TokenKind.EOF)})}parseDefinition(){if(this.peek(v1.TokenKind.BRACE_L))return this.parseOperationDefinition();let J=this.peekDescription(),Z=J?this._lexer.lookahead():this._lexer.token;if(Z.kind===v1.TokenKind.NAME){switch(Z.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(J)throw(0,fH.syntaxError)(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(Z.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(Z)}parseOperationDefinition(){let J=this._lexer.token;if(this.peek(v1.TokenKind.BRACE_L))return this.node(J,{kind:K6.Kind.OPERATION_DEFINITION,operation:mM.OperationTypeNode.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let Z=this.parseOperationType(),X;if(this.peek(v1.TokenKind.NAME))X=this.parseName();return this.node(J,{kind:K6.Kind.OPERATION_DEFINITION,operation:Z,name:X,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let J=this.expectToken(v1.TokenKind.NAME);switch(J.value){case"query":return mM.OperationTypeNode.QUERY;case"mutation":return mM.OperationTypeNode.MUTATION;case"subscription":return mM.OperationTypeNode.SUBSCRIPTION}throw this.unexpected(J)}parseVariableDefinitions(){return this.optionalMany(v1.TokenKind.PAREN_L,this.parseVariableDefinition,v1.TokenKind.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:K6.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(v1.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(v1.TokenKind.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let J=this._lexer.token;return this.expectToken(v1.TokenKind.DOLLAR),this.node(J,{kind:K6.Kind.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:K6.Kind.SELECTION_SET,selections:this.many(v1.TokenKind.BRACE_L,this.parseSelection,v1.TokenKind.BRACE_R)})}parseSelection(){return this.peek(v1.TokenKind.SPREAD)?this.parseFragment():this.parseField()}parseField(){let J=this._lexer.token,Z=this.parseName(),X,Y;if(this.expectOptionalToken(v1.TokenKind.COLON))X=Z,Y=this.parseName();else Y=Z;return this.node(J,{kind:K6.Kind.FIELD,alias:X,name:Y,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(v1.TokenKind.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(J){let Z=J?this.parseConstArgument:this.parseArgument;return this.optionalMany(v1.TokenKind.PAREN_L,Z,v1.TokenKind.PAREN_R)}parseArgument(J=!1){let Z=this._lexer.token,X=this.parseName();return this.expectToken(v1.TokenKind.COLON),this.node(Z,{kind:K6.Kind.ARGUMENT,name:X,value:this.parseValueLiteral(J)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let J=this._lexer.token;this.expectToken(v1.TokenKind.SPREAD);let Z=this.expectOptionalKeyword("on");if(!Z&&this.peek(v1.TokenKind.NAME))return this.node(J,{kind:K6.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)});return this.node(J,{kind:K6.Kind.INLINE_FRAGMENT,typeCondition:Z?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let J=this._lexer.token;if(this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0)return this.node(J,{kind:K6.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()});return this.node(J,{kind:K6.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(J){let Z=this._lexer.token;switch(Z.kind){case v1.TokenKind.BRACKET_L:return this.parseList(J);case v1.TokenKind.BRACE_L:return this.parseObject(J);case v1.TokenKind.INT:return this.advanceLexer(),this.node(Z,{kind:K6.Kind.INT,value:Z.value});case v1.TokenKind.FLOAT:return this.advanceLexer(),this.node(Z,{kind:K6.Kind.FLOAT,value:Z.value});case v1.TokenKind.STRING:case v1.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case v1.TokenKind.NAME:switch(this.advanceLexer(),Z.value){case"true":return this.node(Z,{kind:K6.Kind.BOOLEAN,value:!0});case"false":return this.node(Z,{kind:K6.Kind.BOOLEAN,value:!1});case"null":return this.node(Z,{kind:K6.Kind.NULL});default:return this.node(Z,{kind:K6.Kind.ENUM,value:Z.value})}case v1.TokenKind.DOLLAR:if(J)if(this.expectToken(v1.TokenKind.DOLLAR),this._lexer.token.kind===v1.TokenKind.NAME){let X=this._lexer.token.value;throw(0,fH.syntaxError)(this._lexer.source,Z.start,`Unexpected variable "$${X}" in constant value.`)}else throw this.unexpected(Z);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let J=this._lexer.token;return this.advanceLexer(),this.node(J,{kind:K6.Kind.STRING,value:J.value,block:J.kind===v1.TokenKind.BLOCK_STRING})}parseList(J){let Z=()=>this.parseValueLiteral(J);return this.node(this._lexer.token,{kind:K6.Kind.LIST,values:this.any(v1.TokenKind.BRACKET_L,Z,v1.TokenKind.BRACKET_R)})}parseObject(J){let Z=()=>this.parseObjectField(J);return this.node(this._lexer.token,{kind:K6.Kind.OBJECT,fields:this.any(v1.TokenKind.BRACE_L,Z,v1.TokenKind.BRACE_R)})}parseObjectField(J){let Z=this._lexer.token,X=this.parseName();return this.expectToken(v1.TokenKind.COLON),this.node(Z,{kind:K6.Kind.OBJECT_FIELD,name:X,value:this.parseValueLiteral(J)})}parseDirectives(J){let Z=[];while(this.peek(v1.TokenKind.AT))Z.push(this.parseDirective(J));return Z}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(J){let Z=this._lexer.token;return this.expectToken(v1.TokenKind.AT),this.node(Z,{kind:K6.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(J)})}parseTypeReference(){let J=this._lexer.token,Z;if(this.expectOptionalToken(v1.TokenKind.BRACKET_L)){let X=this.parseTypeReference();this.expectToken(v1.TokenKind.BRACKET_R),Z=this.node(J,{kind:K6.Kind.LIST_TYPE,type:X})}else Z=this.parseNamedType();if(this.expectOptionalToken(v1.TokenKind.BANG))return this.node(J,{kind:K6.Kind.NON_NULL_TYPE,type:Z});return Z}parseNamedType(){return this.node(this._lexer.token,{kind:K6.Kind.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(v1.TokenKind.STRING)||this.peek(v1.TokenKind.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let J=this._lexer.token,Z=this.parseDescription();this.expectKeyword("schema");let X=this.parseConstDirectives(),Y=this.many(v1.TokenKind.BRACE_L,this.parseOperationTypeDefinition,v1.TokenKind.BRACE_R);return this.node(J,{kind:K6.Kind.SCHEMA_DEFINITION,description:Z,directives:X,operationTypes:Y})}parseOperationTypeDefinition(){let J=this._lexer.token,Z=this.parseOperationType();this.expectToken(v1.TokenKind.COLON);let X=this.parseNamedType();return this.node(J,{kind:K6.Kind.OPERATION_TYPE_DEFINITION,operation:Z,type:X})}parseScalarTypeDefinition(){let J=this._lexer.token,Z=this.parseDescription();this.expectKeyword("scalar");let X=this.parseName(),Y=this.parseConstDirectives();return this.node(J,{kind:K6.Kind.SCALAR_TYPE_DEFINITION,description:Z,name:X,directives:Y})}parseObjectTypeDefinition(){let J=this._lexer.token,Z=this.parseDescription();this.expectKeyword("type");let X=this.parseName(),Y=this.parseImplementsInterfaces(),$=this.parseConstDirectives(),z=this.parseFieldsDefinition();return this.node(J,{kind:K6.Kind.OBJECT_TYPE_DEFINITION,description:Z,name:X,interfaces:Y,directives:$,fields:z})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(v1.TokenKind.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(v1.TokenKind.BRACE_L,this.parseFieldDefinition,v1.TokenKind.BRACE_R)}parseFieldDefinition(){let J=this._lexer.token,Z=this.parseDescription(),X=this.parseName(),Y=this.parseArgumentDefs();this.expectToken(v1.TokenKind.COLON);let $=this.parseTypeReference(),z=this.parseConstDirectives();return this.node(J,{kind:K6.Kind.FIELD_DEFINITION,description:Z,name:X,arguments:Y,type:$,directives:z})}parseArgumentDefs(){return this.optionalMany(v1.TokenKind.PAREN_L,this.parseInputValueDef,v1.TokenKind.PAREN_R)}parseInputValueDef(){let J=this._lexer.token,Z=this.parseDescription(),X=this.parseName();this.expectToken(v1.TokenKind.COLON);let Y=this.parseTypeReference(),$;if(this.expectOptionalToken(v1.TokenKind.EQUALS))$=this.parseConstValueLiteral();let z=this.parseConstDirectives();return this.node(J,{kind:K6.Kind.INPUT_VALUE_DEFINITION,description:Z,name:X,type:Y,defaultValue:$,directives:z})}parseInterfaceTypeDefinition(){let J=this._lexer.token,Z=this.parseDescription();this.expectKeyword("interface");let X=this.parseName(),Y=this.parseImplementsInterfaces(),$=this.parseConstDirectives(),z=this.parseFieldsDefinition();return this.node(J,{kind:K6.Kind.INTERFACE_TYPE_DEFINITION,description:Z,name:X,interfaces:Y,directives:$,fields:z})}parseUnionTypeDefinition(){let J=this._lexer.token,Z=this.parseDescription();this.expectKeyword("union");let X=this.parseName(),Y=this.parseConstDirectives(),$=this.parseUnionMemberTypes();return this.node(J,{kind:K6.Kind.UNION_TYPE_DEFINITION,description:Z,name:X,directives:Y,types:$})}parseUnionMemberTypes(){return this.expectOptionalToken(v1.TokenKind.EQUALS)?this.delimitedMany(v1.TokenKind.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let J=this._lexer.token,Z=this.parseDescription();this.expectKeyword("enum");let X=this.parseName(),Y=this.parseConstDirectives(),$=this.parseEnumValuesDefinition();return this.node(J,{kind:K6.Kind.ENUM_TYPE_DEFINITION,description:Z,name:X,directives:Y,values:$})}parseEnumValuesDefinition(){return this.optionalMany(v1.TokenKind.BRACE_L,this.parseEnumValueDefinition,v1.TokenKind.BRACE_R)}parseEnumValueDefinition(){let J=this._lexer.token,Z=this.parseDescription(),X=this.parseEnumValueName(),Y=this.parseConstDirectives();return this.node(J,{kind:K6.Kind.ENUM_VALUE_DEFINITION,description:Z,name:X,directives:Y})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw(0,fH.syntaxError)(this._lexer.source,this._lexer.token.start,`${ZT(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let J=this._lexer.token,Z=this.parseDescription();this.expectKeyword("input");let X=this.parseName(),Y=this.parseConstDirectives(),$=this.parseInputFieldsDefinition();return this.node(J,{kind:K6.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:Z,name:X,directives:Y,fields:$})}parseInputFieldsDefinition(){return this.optionalMany(v1.TokenKind.BRACE_L,this.parseInputValueDef,v1.TokenKind.BRACE_R)}parseTypeSystemExtension(){let J=this._lexer.lookahead();if(J.kind===v1.TokenKind.NAME)switch(J.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(J)}parseSchemaExtension(){let J=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let Z=this.parseConstDirectives(),X=this.optionalMany(v1.TokenKind.BRACE_L,this.parseOperationTypeDefinition,v1.TokenKind.BRACE_R);if(Z.length===0&&X.length===0)throw this.unexpected();return this.node(J,{kind:K6.Kind.SCHEMA_EXTENSION,directives:Z,operationTypes:X})}parseScalarTypeExtension(){let J=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let Z=this.parseName(),X=this.parseConstDirectives();if(X.length===0)throw this.unexpected();return this.node(J,{kind:K6.Kind.SCALAR_TYPE_EXTENSION,name:Z,directives:X})}parseObjectTypeExtension(){let J=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let Z=this.parseName(),X=this.parseImplementsInterfaces(),Y=this.parseConstDirectives(),$=this.parseFieldsDefinition();if(X.length===0&&Y.length===0&&$.length===0)throw this.unexpected();return this.node(J,{kind:K6.Kind.OBJECT_TYPE_EXTENSION,name:Z,interfaces:X,directives:Y,fields:$})}parseInterfaceTypeExtension(){let J=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let Z=this.parseName(),X=this.parseImplementsInterfaces(),Y=this.parseConstDirectives(),$=this.parseFieldsDefinition();if(X.length===0&&Y.length===0&&$.length===0)throw this.unexpected();return this.node(J,{kind:K6.Kind.INTERFACE_TYPE_EXTENSION,name:Z,interfaces:X,directives:Y,fields:$})}parseUnionTypeExtension(){let J=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let Z=this.parseName(),X=this.parseConstDirectives(),Y=this.parseUnionMemberTypes();if(X.length===0&&Y.length===0)throw this.unexpected();return this.node(J,{kind:K6.Kind.UNION_TYPE_EXTENSION,name:Z,directives:X,types:Y})}parseEnumTypeExtension(){let J=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let Z=this.parseName(),X=this.parseConstDirectives(),Y=this.parseEnumValuesDefinition();if(X.length===0&&Y.length===0)throw this.unexpected();return this.node(J,{kind:K6.Kind.ENUM_TYPE_EXTENSION,name:Z,directives:X,values:Y})}parseInputObjectTypeExtension(){let J=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let Z=this.parseName(),X=this.parseConstDirectives(),Y=this.parseInputFieldsDefinition();if(X.length===0&&Y.length===0)throw this.unexpected();return this.node(J,{kind:K6.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:Z,directives:X,fields:Y})}parseDirectiveDefinition(){let J=this._lexer.token,Z=this.parseDescription();this.expectKeyword("directive"),this.expectToken(v1.TokenKind.AT);let X=this.parseName(),Y=this.parseArgumentDefs(),$=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let z=this.parseDirectiveLocations();return this.node(J,{kind:K6.Kind.DIRECTIVE_DEFINITION,description:Z,name:X,arguments:Y,repeatable:$,locations:z})}parseDirectiveLocations(){return this.delimitedMany(v1.TokenKind.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let J=this._lexer.token,Z=this.parseName();if(Object.prototype.hasOwnProperty.call(eJ4.DirectiveLocation,Z.value))return Z;throw this.unexpected(J)}node(J,Z){if(this._options.noLocation!==!0)Z.loc=new mM.Location(J,this._lexer.lastToken,this._lexer.source);return Z}peek(J){return this._lexer.token.kind===J}expectToken(J){let Z=this._lexer.token;if(Z.kind===J)return this.advanceLexer(),Z;throw(0,fH.syntaxError)(this._lexer.source,Z.start,`Expected ${QP1(J)}, found ${ZT(Z)}.`)}expectOptionalToken(J){if(this._lexer.token.kind===J)return this.advanceLexer(),!0;return!1}expectKeyword(J){let Z=this._lexer.token;if(Z.kind===v1.TokenKind.NAME&&Z.value===J)this.advanceLexer();else throw(0,fH.syntaxError)(this._lexer.source,Z.start,`Expected "${J}", found ${ZT(Z)}.`)}expectOptionalKeyword(J){let Z=this._lexer.token;if(Z.kind===v1.TokenKind.NAME&&Z.value===J)return this.advanceLexer(),!0;return!1}unexpected(J){let Z=J!==null&&J!==void 0?J:this._lexer.token;return(0,fH.syntaxError)(this._lexer.source,Z.start,`Unexpected ${ZT(Z)}.`)}any(J,Z,X){this.expectToken(J);let Y=[];while(!this.expectOptionalToken(X))Y.push(Z.call(this));return Y}optionalMany(J,Z,X){if(this.expectOptionalToken(J)){let Y=[];do Y.push(Z.call(this));while(!this.expectOptionalToken(X));return Y}return[]}many(J,Z,X){this.expectToken(J);let Y=[];do Y.push(Z.call(this));while(!this.expectOptionalToken(X));return Y}delimitedMany(J,Z){this.expectOptionalToken(J);let X=[];do X.push(Z.call(this));while(this.expectOptionalToken(J));return X}advanceLexer(){let{maxTokens:J}=this._options,Z=this._lexer.advance();if(Z.kind!==v1.TokenKind.EOF){if(++this._tokenCounter,J!==void 0&&this._tokenCounter>J)throw(0,fH.syntaxError)(this._lexer.source,Z.start,`Document contains more that ${J} tokens. Parsing aborted.`)}}}GP1.Parser=VV;function ZT(J){let Z=J.value;return QP1(J.kind)+(Z!=null?` "${Z}"`:"")}function QP1(J){return(0,WP1.isPunctuatorTokenKind)(J)?`"${J}"`:J}});var xK=B((qP1)=>{Object.defineProperty(qP1,"__esModule",{value:!0});qP1.didYouMean=KZ4;var GZ4=5;function KZ4(J,Z){let[X,Y]=Z?[J,Z]:[void 0,J],$=" Did you mean ";if(X)$+=X+" ";let z=Y.map((G)=>`"${G}"`);switch(z.length){case 0:return"";case 1:return $+z[0]+"?";case 2:return $+z[0]+" or "+z[1]+"?"}let W=z.slice(0,GZ4),Q=W.pop();return $+W.join(", ")+", or "+Q+"?"}});var HP1=B((BP1)=>{Object.defineProperty(BP1,"__esModule",{value:!0});BP1.identityFunc=BZ4;function BZ4(J){return J}});var gK=B((FP1)=>{Object.defineProperty(FP1,"__esModule",{value:!0});FP1.keyMap=FZ4;function FZ4(J,Z){let X=Object.create(null);for(let Y of J)X[Z(Y)]=Y;return X}});var cM=B((UP1)=>{Object.defineProperty(UP1,"__esModule",{value:!0});UP1.keyValMap=OZ4;function OZ4(J,Z,X){let Y=Object.create(null);for(let $ of J)Y[Z($)]=X($);return Y}});var Yo=B((OP1)=>{Object.defineProperty(OP1,"__esModule",{value:!0});OP1.mapValue=VZ4;function VZ4(J,Z){let X=Object.create(null);for(let Y of Object.keys(J))X[Y]=Z(J[Y],Y);return X}});var lM=B((DP1)=>{Object.defineProperty(DP1,"__esModule",{value:!0});DP1.naturalCompare=wZ4;function wZ4(J,Z){let X=0,Y=0;while(X<J.length&&Y<Z.length){let $=J.charCodeAt(X),z=Z.charCodeAt(Y);if(XT($)&&XT(z)){let W=0;do++X,W=W*10+$-$o,$=J.charCodeAt(X);while(XT($)&&W>0);let Q=0;do++Y,Q=Q*10+z-$o,z=Z.charCodeAt(Y);while(XT(z)&&Q>0);if(W<Q)return-1;if(W>Q)return 1}else{if($<z)return-1;if($>z)return 1;++X,++Y}}return J.length-Z.length}var $o=48,AZ4=57;function XT(J){return!isNaN(J)&&$o<=J&&J<=AZ4}});var dK=B((wP1)=>{Object.defineProperty(wP1,"__esModule",{value:!0});wP1.suggestionList=PZ4;var NZ4=lM();function PZ4(J,Z){let X=Object.create(null),Y=new IP1(J),$=Math.floor(J.length*0.4)+1;for(let z of Z){let W=Y.measure(z,$);if(W!==void 0)X[z]=W}return Object.keys(X).sort((z,W)=>{let Q=X[z]-X[W];return Q!==0?Q:(0,NZ4.naturalCompare)(z,W)})}class IP1{constructor(J){this._input=J,this._inputLowerCase=J.toLowerCase(),this._inputArray=VP1(this._inputLowerCase),this._rows=[new Array(J.length+1).fill(0),new Array(J.length+1).fill(0),new Array(J.length+1).fill(0)]}measure(J,Z){if(this._input===J)return 0;let X=J.toLowerCase();if(this._inputLowerCase===X)return 1;let Y=VP1(X),$=this._inputArray;if(Y.length<$.length){let K=Y;Y=$,$=K}let z=Y.length,W=$.length;if(z-W>Z)return;let Q=this._rows;for(let K=0;K<=W;K++)Q[0][K]=K;for(let K=1;K<=z;K++){let q=Q[(K-1)%3],H=Q[K%3],F=H[0]=K;for(let U=1;U<=W;U++){let D=Y[K-1]===$[U-1]?0:1,V=Math.min(q[U]+1,H[U-1]+1,q[U-1]+D);if(K>1&&U>1&&Y[K-1]===$[U-2]&&Y[K-2]===$[U-1]){let w=Q[(K-2)%3][U-2];V=Math.min(V,w+1)}if(V<F)F=V;H[U]=V}if(F>Z)return}let G=Q[z%3][W];return G<=Z?G:void 0}}function VP1(J){let Z=J.length,X=new Array(Z);for(let Y=0;Y<Z;++Y)X[Y]=J.charCodeAt(Y);return X}});var YT=B((AP1)=>{Object.defineProperty(AP1,"__esModule",{value:!0});AP1.toObjMap=CZ4;function CZ4(J){if(J==null)return Object.create(null);if(Object.getPrototypeOf(J)===null)return J;let Z=Object.create(null);for(let[X,Y]of Object.entries(J))Z[X]=Y;return Z}});var NP1=B((MP1)=>{Object.defineProperty(MP1,"__esModule",{value:!0});MP1.printString=RZ4;function RZ4(J){return`"${J.replace(EZ4,SZ4)}"`}var EZ4=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function SZ4(J){return TZ4[J.charCodeAt(0)]}var TZ4=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","","\\\"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"]});var kH=B((LP1)=>{Object.defineProperty(LP1,"__esModule",{value:!0});LP1.BREAK=void 0;LP1.getEnterLeaveForKind=$T;LP1.getVisitFn=yZ4;LP1.visit=hZ4;LP1.visitInParallel=_Z4;var kZ4=z7(),bZ4=M4(),zo=F$(),PP1=o6(),wV=Object.freeze({});LP1.BREAK=wV;function hZ4(J,Z,X=zo.QueryDocumentKeys){let Y=new Map;for(let M of Object.values(PP1.Kind))Y.set(M,$T(Z,M));let $=void 0,z=Array.isArray(J),W=[J],Q=-1,G=[],K=J,q=void 0,H=void 0,F=[],U=[];do{Q++;let M=Q===W.length,P=M&&G.length!==0;if(M){if(q=U.length===0?void 0:F[F.length-1],K=H,H=U.pop(),P)if(z){K=K.slice();let f=0;for(let[d,v]of G){let l=d-f;if(v===null)K.splice(l,1),f++;else K[l]=v}}else{K={...K};for(let[f,d]of G)K[f]=d}Q=$.index,W=$.keys,G=$.edits,z=$.inArray,$=$.prev}else if(H){if(q=z?Q:W[Q],K=H[q],K===null||K===void 0)continue;F.push(q)}let R;if(!Array.isArray(K)){var D,V;(0,zo.isNode)(K)||(0,kZ4.devAssert)(!1,`Invalid AST Node: ${(0,bZ4.inspect)(K)}.`);let f=M?(D=Y.get(K.kind))===null||D===void 0?void 0:D.leave:(V=Y.get(K.kind))===null||V===void 0?void 0:V.enter;if(R=f===null||f===void 0?void 0:f.call(Z,K,q,H,F,U),R===wV)break;if(R===!1){if(!M){F.pop();continue}}else if(R!==void 0){if(G.push([q,R]),!M)if((0,zo.isNode)(R))K=R;else{F.pop();continue}}}if(R===void 0&&P)G.push([q,K]);if(M)F.pop();else{var w;if($={inArray:z,index:Q,keys:W,edits:G,prev:$},z=Array.isArray(K),W=z?K:(w=X[K.kind])!==null&&w!==void 0?w:[],Q=-1,G=[],H)U.push(H);H=K}}while($!==void 0);if(G.length!==0)return G[G.length-1][1];return J}function _Z4(J){let Z=new Array(J.length).fill(null),X=Object.create(null);for(let Y of Object.values(PP1.Kind)){let $=!1,z=new Array(J.length).fill(void 0),W=new Array(J.length).fill(void 0);for(let G=0;G<J.length;++G){let{enter:K,leave:q}=$T(J[G],Y);$||($=K!=null||q!=null),z[G]=K,W[G]=q}if(!$)continue;let Q={enter(...G){let K=G[0];for(let H=0;H<J.length;H++)if(Z[H]===null){var q;let F=(q=z[H])===null||q===void 0?void 0:q.apply(J[H],G);if(F===!1)Z[H]=K;else if(F===wV)Z[H]=wV;else if(F!==void 0)return F}},leave(...G){let K=G[0];for(let H=0;H<J.length;H++)if(Z[H]===null){var q;let F=(q=W[H])===null||q===void 0?void 0:q.apply(J[H],G);if(F===wV)Z[H]=wV;else if(F!==void 0&&F!==!1)return F}else if(Z[H]===K)Z[H]=null}};X[Y]=Q}return X}function $T(J,Z){let X=J[Z];if(typeof X==="object")return X;else if(typeof X==="function")return{enter:X,leave:void 0};return{enter:J.enter,leave:J.leave}}function yZ4(J,Z,X){let{enter:Y,leave:$}=$T(J,Z);return X?$:Y}});var UJ=B((RP1)=>{Object.defineProperty(RP1,"__esModule",{value:!0});RP1.print=lZ4;var uZ4=xM(),mZ4=NP1(),cZ4=kH();function lZ4(J){return(0,cZ4.visit)(J,nZ4)}var pZ4=80,nZ4={Name:{leave:(J)=>J.value},Variable:{leave:(J)=>"$"+J.name},Document:{leave:(J)=>t1(J.definitions,`

`)},OperationDefinition:{leave(J){let Z=l6("(",t1(J.variableDefinitions,", "),")"),X=t1([J.operation,t1([J.name,Z]),t1(J.directives," ")]," ");return(X==="query"?"":X+" ")+J.selectionSet}},VariableDefinition:{leave:({variable:J,type:Z,defaultValue:X,directives:Y})=>J+": "+Z+l6(" = ",X)+l6(" ",t1(Y," "))},SelectionSet:{leave:({selections:J})=>ZY(J)},Field:{leave({alias:J,name:Z,arguments:X,directives:Y,selectionSet:$}){let z=l6("",J,": ")+Z,W=z+l6("(",t1(X,", "),")");if(W.length>pZ4)W=z+l6(`(
`,zT(t1(X,`
`)),`
)`);return t1([W,t1(Y," "),$]," ")}},Argument:{leave:({name:J,value:Z})=>J+": "+Z},FragmentSpread:{leave:({name:J,directives:Z})=>"..."+J+l6(" ",t1(Z," "))},InlineFragment:{leave:({typeCondition:J,directives:Z,selectionSet:X})=>t1(["...",l6("on ",J),t1(Z," "),X]," ")},FragmentDefinition:{leave:({name:J,typeCondition:Z,variableDefinitions:X,directives:Y,selectionSet:$})=>`fragment ${J}${l6("(",t1(X,", "),")")} on ${Z} ${l6("",t1(Y," ")," ")}`+$},IntValue:{leave:({value:J})=>J},FloatValue:{leave:({value:J})=>J},StringValue:{leave:({value:J,block:Z})=>Z?(0,uZ4.printBlockString)(J):(0,mZ4.printString)(J)},BooleanValue:{leave:({value:J})=>J?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:J})=>J},ListValue:{leave:({values:J})=>"["+t1(J,", ")+"]"},ObjectValue:{leave:({fields:J})=>"{"+t1(J,", ")+"}"},ObjectField:{leave:({name:J,value:Z})=>J+": "+Z},Directive:{leave:({name:J,arguments:Z})=>"@"+J+l6("(",t1(Z,", "),")")},NamedType:{leave:({name:J})=>J},ListType:{leave:({type:J})=>"["+J+"]"},NonNullType:{leave:({type:J})=>J+"!"},SchemaDefinition:{leave:({description:J,directives:Z,operationTypes:X})=>l6("",J,`
`)+t1(["schema",t1(Z," "),ZY(X)]," ")},OperationTypeDefinition:{leave:({operation:J,type:Z})=>J+": "+Z},ScalarTypeDefinition:{leave:({description:J,name:Z,directives:X})=>l6("",J,`
`)+t1(["scalar",Z,t1(X," ")]," ")},ObjectTypeDefinition:{leave:({description:J,name:Z,interfaces:X,directives:Y,fields:$})=>l6("",J,`
`)+t1(["type",Z,l6("implements ",t1(X," & ")),t1(Y," "),ZY($)]," ")},FieldDefinition:{leave:({description:J,name:Z,arguments:X,type:Y,directives:$})=>l6("",J,`
`)+Z+(jP1(X)?l6(`(
`,zT(t1(X,`
`)),`
)`):l6("(",t1(X,", "),")"))+": "+Y+l6(" ",t1($," "))},InputValueDefinition:{leave:({description:J,name:Z,type:X,defaultValue:Y,directives:$})=>l6("",J,`
`)+t1([Z+": "+X,l6("= ",Y),t1($," ")]," ")},InterfaceTypeDefinition:{leave:({description:J,name:Z,interfaces:X,directives:Y,fields:$})=>l6("",J,`
`)+t1(["interface",Z,l6("implements ",t1(X," & ")),t1(Y," "),ZY($)]," ")},UnionTypeDefinition:{leave:({description:J,name:Z,directives:X,types:Y})=>l6("",J,`
`)+t1(["union",Z,t1(X," "),l6("= ",t1(Y," | "))]," ")},EnumTypeDefinition:{leave:({description:J,name:Z,directives:X,values:Y})=>l6("",J,`
`)+t1(["enum",Z,t1(X," "),ZY(Y)]," ")},EnumValueDefinition:{leave:({description:J,name:Z,directives:X})=>l6("",J,`
`)+t1([Z,t1(X," ")]," ")},InputObjectTypeDefinition:{leave:({description:J,name:Z,directives:X,fields:Y})=>l6("",J,`
`)+t1(["input",Z,t1(X," "),ZY(Y)]," ")},DirectiveDefinition:{leave:({description:J,name:Z,arguments:X,repeatable:Y,locations:$})=>l6("",J,`
`)+"directive @"+Z+(jP1(X)?l6(`(
`,zT(t1(X,`
`)),`
)`):l6("(",t1(X,", "),")"))+(Y?" repeatable":"")+" on "+t1($," | ")},SchemaExtension:{leave:({directives:J,operationTypes:Z})=>t1(["extend schema",t1(J," "),ZY(Z)]," ")},ScalarTypeExtension:{leave:({name:J,directives:Z})=>t1(["extend scalar",J,t1(Z," ")]," ")},ObjectTypeExtension:{leave:({name:J,interfaces:Z,directives:X,fields:Y})=>t1(["extend type",J,l6("implements ",t1(Z," & ")),t1(X," "),ZY(Y)]," ")},InterfaceTypeExtension:{leave:({name:J,interfaces:Z,directives:X,fields:Y})=>t1(["extend interface",J,l6("implements ",t1(Z," & ")),t1(X," "),ZY(Y)]," ")},UnionTypeExtension:{leave:({name:J,directives:Z,types:X})=>t1(["extend union",J,t1(Z," "),l6("= ",t1(X," | "))]," ")},EnumTypeExtension:{leave:({name:J,directives:Z,values:X})=>t1(["extend enum",J,t1(Z," "),ZY(X)]," ")},InputObjectTypeExtension:{leave:({name:J,directives:Z,fields:X})=>t1(["extend input",J,t1(Z," "),ZY(X)]," ")}};function t1(J,Z=""){var X;return(X=J===null||J===void 0?void 0:J.filter((Y)=>Y).join(Z))!==null&&X!==void 0?X:""}function ZY(J){return l6(`{
`,zT(t1(J,`
`)),`
}`)}function l6(J,Z,X=""){return Z!=null&&Z!==""?J+Z+X:""}function zT(J){return l6("  ",J.replace(/\n/g,`
  `))}function jP1(J){var Z;return(Z=J===null||J===void 0?void 0:J.some((X)=>X.includes(`
`)))!==null&&Z!==void 0?Z:!1}});var Qo=B((EP1)=>{Object.defineProperty(EP1,"__esModule",{value:!0});EP1.valueFromASTUntyped=Wo;var oZ4=cM(),KQ=o6();function Wo(J,Z){switch(J.kind){case KQ.Kind.NULL:return null;case KQ.Kind.INT:return parseInt(J.value,10);case KQ.Kind.FLOAT:return parseFloat(J.value);case KQ.Kind.STRING:case KQ.Kind.ENUM:case KQ.Kind.BOOLEAN:return J.value;case KQ.Kind.LIST:return J.values.map((X)=>Wo(X,Z));case KQ.Kind.OBJECT:return(0,oZ4.keyValMap)(J.fields,(X)=>X.name.value,(X)=>Wo(X.value,Z));case KQ.Kind.VARIABLE:return Z===null||Z===void 0?void 0:Z[J.name.value]}}});var pM=B((kP1)=>{Object.defineProperty(kP1,"__esModule",{value:!0});kP1.assertEnumValueName=aZ4;kP1.assertName=fP1;var SP1=z7(),WT=O0(),TP1=aS();function fP1(J){if(J!=null||(0,SP1.devAssert)(!1,"Must provide name."),typeof J==="string"||(0,SP1.devAssert)(!1,"Expected name to be a string."),J.length===0)throw new WT.GraphQLError("Expected name to be a non-empty string.");for(let Z=1;Z<J.length;++Z)if(!(0,TP1.isNameContinue)(J.charCodeAt(Z)))throw new WT.GraphQLError(`Names must only contain [_a-zA-Z0-9] but "${J}" does not.`);if(!(0,TP1.isNameStart)(J.charCodeAt(0)))throw new WT.GraphQLError(`Names must start with [_a-zA-Z] but "${J}" does not.`);return J}function aZ4(J){if(J==="true"||J==="false"||J==="null")throw new WT.GraphQLError(`Enum values cannot be named: ${J}`);return fP1(J)}});var s6=B((nP1)=>{Object.defineProperty(nP1,"__esModule",{value:!0});nP1.GraphQLUnionType=nP1.GraphQLScalarType=nP1.GraphQLObjectType=nP1.GraphQLNonNull=nP1.GraphQLList=nP1.GraphQLInterfaceType=nP1.GraphQLInputObjectType=nP1.GraphQLEnumType=void 0;nP1.argsToArgsConfig=pP1;nP1.assertAbstractType=IX4;nP1.assertCompositeType=VX4;nP1.assertEnumType=qX4;nP1.assertInputObjectType=BX4;nP1.assertInputType=UX4;nP1.assertInterfaceType=GX4;nP1.assertLeafType=DX4;nP1.assertListType=HX4;nP1.assertNamedType=NX4;nP1.assertNonNullType=FX4;nP1.assertNullableType=AX4;nP1.assertObjectType=QX4;nP1.assertOutputType=OX4;nP1.assertScalarType=WX4;nP1.assertType=zX4;nP1.assertUnionType=KX4;nP1.assertWrappingType=wX4;nP1.defineArguments=cP1;nP1.getNamedType=PX4;nP1.getNullableType=MX4;nP1.isAbstractType=gP1;nP1.isCompositeType=xP1;nP1.isEnumType=yH;nP1.isInputObjectType=iM;nP1.isInputType=Go;nP1.isInterfaceType=hH;nP1.isLeafType=vP1;nP1.isListType=qT;nP1.isNamedType=dP1;nP1.isNonNullType=mK;nP1.isNullableType=Ho;nP1.isObjectType=MV;nP1.isOutputType=Ko;nP1.isRequiredArgument=LX4;nP1.isRequiredInputField=RX4;nP1.isScalarType=bH;nP1.isType=KT;nP1.isUnionType=_H;nP1.isWrappingType=oM;nP1.resolveObjMapThunk=Uo;nP1.resolveReadonlyArrayThunk=Fo;var l5=z7(),eZ4=xK(),bP1=HP1(),i4=M4(),uK=uM(),JX4=H$(),ZX4=gK(),yP1=cM(),GT=Yo(),XX4=dK(),U$=YT(),nM=O0(),YX4=o6(),hP1=UJ(),$X4=Qo(),O$=pM();function KT(J){return bH(J)||MV(J)||hH(J)||_H(J)||yH(J)||iM(J)||qT(J)||mK(J)}function zX4(J){if(!KT(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL type.`);return J}function bH(J){return(0,uK.instanceOf)(J,Oo)}function WX4(J){if(!bH(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL Scalar type.`);return J}function MV(J){return(0,uK.instanceOf)(J,Do)}function QX4(J){if(!MV(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL Object type.`);return J}function hH(J){return(0,uK.instanceOf)(J,Vo)}function GX4(J){if(!hH(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL Interface type.`);return J}function _H(J){return(0,uK.instanceOf)(J,Io)}function KX4(J){if(!_H(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL Union type.`);return J}function yH(J){return(0,uK.instanceOf)(J,wo)}function qX4(J){if(!yH(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL Enum type.`);return J}function iM(J){return(0,uK.instanceOf)(J,Ao)}function BX4(J){if(!iM(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL Input Object type.`);return J}function qT(J){return(0,uK.instanceOf)(J,qo)}function HX4(J){if(!qT(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL List type.`);return J}function mK(J){return(0,uK.instanceOf)(J,Bo)}function FX4(J){if(!mK(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL Non-Null type.`);return J}function Go(J){return bH(J)||yH(J)||iM(J)||oM(J)&&Go(J.ofType)}function UX4(J){if(!Go(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL input type.`);return J}function Ko(J){return bH(J)||MV(J)||hH(J)||_H(J)||yH(J)||oM(J)&&Ko(J.ofType)}function OX4(J){if(!Ko(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL output type.`);return J}function vP1(J){return bH(J)||yH(J)}function DX4(J){if(!vP1(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL leaf type.`);return J}function xP1(J){return MV(J)||hH(J)||_H(J)}function VX4(J){if(!xP1(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL composite type.`);return J}function gP1(J){return hH(J)||_H(J)}function IX4(J){if(!gP1(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL abstract type.`);return J}class qo{constructor(J){KT(J)||(0,l5.devAssert)(!1,`Expected ${(0,i4.inspect)(J)} to be a GraphQL type.`),this.ofType=J}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}nP1.GraphQLList=qo;class Bo{constructor(J){Ho(J)||(0,l5.devAssert)(!1,`Expected ${(0,i4.inspect)(J)} to be a GraphQL nullable type.`),this.ofType=J}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}nP1.GraphQLNonNull=Bo;function oM(J){return qT(J)||mK(J)}function wX4(J){if(!oM(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL wrapping type.`);return J}function Ho(J){return KT(J)&&!mK(J)}function AX4(J){if(!Ho(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL nullable type.`);return J}function MX4(J){if(J)return mK(J)?J.ofType:J}function dP1(J){return bH(J)||MV(J)||hH(J)||_H(J)||yH(J)||iM(J)}function NX4(J){if(!dP1(J))throw new Error(`Expected ${(0,i4.inspect)(J)} to be a GraphQL named type.`);return J}function PX4(J){if(J){let Z=J;while(oM(Z))Z=Z.ofType;return Z}}function Fo(J){return typeof J==="function"?J():J}function Uo(J){return typeof J==="function"?J():J}class Oo{constructor(J){var Z,X,Y,$;let z=(Z=J.parseValue)!==null&&Z!==void 0?Z:bP1.identityFunc;if(this.name=(0,O$.assertName)(J.name),this.description=J.description,this.specifiedByURL=J.specifiedByURL,this.serialize=(X=J.serialize)!==null&&X!==void 0?X:bP1.identityFunc,this.parseValue=z,this.parseLiteral=(Y=J.parseLiteral)!==null&&Y!==void 0?Y:(W,Q)=>z((0,$X4.valueFromASTUntyped)(W,Q)),this.extensions=(0,U$.toObjMap)(J.extensions),this.astNode=J.astNode,this.extensionASTNodes=($=J.extensionASTNodes)!==null&&$!==void 0?$:[],J.specifiedByURL==null||typeof J.specifiedByURL==="string"||(0,l5.devAssert)(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${(0,i4.inspect)(J.specifiedByURL)}.`),J.serialize==null||typeof J.serialize==="function"||(0,l5.devAssert)(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),J.parseLiteral)typeof J.parseValue==="function"&&typeof J.parseLiteral==="function"||(0,l5.devAssert)(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`)}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}nP1.GraphQLScalarType=Oo;class Do{constructor(J){var Z;this.name=(0,O$.assertName)(J.name),this.description=J.description,this.isTypeOf=J.isTypeOf,this.extensions=(0,U$.toObjMap)(J.extensions),this.astNode=J.astNode,this.extensionASTNodes=(Z=J.extensionASTNodes)!==null&&Z!==void 0?Z:[],this._fields=()=>mP1(J),this._interfaces=()=>uP1(J),J.isTypeOf==null||typeof J.isTypeOf==="function"||(0,l5.devAssert)(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${(0,i4.inspect)(J.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){if(typeof this._fields==="function")this._fields=this._fields();return this._fields}getInterfaces(){if(typeof this._interfaces==="function")this._interfaces=this._interfaces();return this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:lP1(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}nP1.GraphQLObjectType=Do;function uP1(J){var Z;let X=Fo((Z=J.interfaces)!==null&&Z!==void 0?Z:[]);return Array.isArray(X)||(0,l5.devAssert)(!1,`${J.name} interfaces must be an Array or a function which returns an Array.`),X}function mP1(J){let Z=Uo(J.fields);return AV(Z)||(0,l5.devAssert)(!1,`${J.name} fields must be an object with field names as keys or a function which returns such an object.`),(0,GT.mapValue)(Z,(X,Y)=>{var $;AV(X)||(0,l5.devAssert)(!1,`${J.name}.${Y} field config must be an object.`),X.resolve==null||typeof X.resolve==="function"||(0,l5.devAssert)(!1,`${J.name}.${Y} field resolver must be a function if provided, but got: ${(0,i4.inspect)(X.resolve)}.`);let z=($=X.args)!==null&&$!==void 0?$:{};return AV(z)||(0,l5.devAssert)(!1,`${J.name}.${Y} args must be an object with argument names as keys.`),{name:(0,O$.assertName)(Y),description:X.description,type:X.type,args:cP1(z),resolve:X.resolve,subscribe:X.subscribe,deprecationReason:X.deprecationReason,extensions:(0,U$.toObjMap)(X.extensions),astNode:X.astNode}})}function cP1(J){return Object.entries(J).map(([Z,X])=>({name:(0,O$.assertName)(Z),description:X.description,type:X.type,defaultValue:X.defaultValue,deprecationReason:X.deprecationReason,extensions:(0,U$.toObjMap)(X.extensions),astNode:X.astNode}))}function AV(J){return(0,JX4.isObjectLike)(J)&&!Array.isArray(J)}function lP1(J){return(0,GT.mapValue)(J,(Z)=>({description:Z.description,type:Z.type,args:pP1(Z.args),resolve:Z.resolve,subscribe:Z.subscribe,deprecationReason:Z.deprecationReason,extensions:Z.extensions,astNode:Z.astNode}))}function pP1(J){return(0,yP1.keyValMap)(J,(Z)=>Z.name,(Z)=>({description:Z.description,type:Z.type,defaultValue:Z.defaultValue,deprecationReason:Z.deprecationReason,extensions:Z.extensions,astNode:Z.astNode}))}function LX4(J){return mK(J.type)&&J.defaultValue===void 0}class Vo{constructor(J){var Z;this.name=(0,O$.assertName)(J.name),this.description=J.description,this.resolveType=J.resolveType,this.extensions=(0,U$.toObjMap)(J.extensions),this.astNode=J.astNode,this.extensionASTNodes=(Z=J.extensionASTNodes)!==null&&Z!==void 0?Z:[],this._fields=mP1.bind(void 0,J),this._interfaces=uP1.bind(void 0,J),J.resolveType==null||typeof J.resolveType==="function"||(0,l5.devAssert)(!1,`${this.name} must provide "resolveType" as a function, but got: ${(0,i4.inspect)(J.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){if(typeof this._fields==="function")this._fields=this._fields();return this._fields}getInterfaces(){if(typeof this._interfaces==="function")this._interfaces=this._interfaces();return this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:lP1(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}nP1.GraphQLInterfaceType=Vo;class Io{constructor(J){var Z;this.name=(0,O$.assertName)(J.name),this.description=J.description,this.resolveType=J.resolveType,this.extensions=(0,U$.toObjMap)(J.extensions),this.astNode=J.astNode,this.extensionASTNodes=(Z=J.extensionASTNodes)!==null&&Z!==void 0?Z:[],this._types=CX4.bind(void 0,J),J.resolveType==null||typeof J.resolveType==="function"||(0,l5.devAssert)(!1,`${this.name} must provide "resolveType" as a function, but got: ${(0,i4.inspect)(J.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){if(typeof this._types==="function")this._types=this._types();return this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}nP1.GraphQLUnionType=Io;function CX4(J){let Z=Fo(J.types);return Array.isArray(Z)||(0,l5.devAssert)(!1,`Must provide Array of types or a function which returns such an array for Union ${J.name}.`),Z}class wo{constructor(J){var Z;this.name=(0,O$.assertName)(J.name),this.description=J.description,this.extensions=(0,U$.toObjMap)(J.extensions),this.astNode=J.astNode,this.extensionASTNodes=(Z=J.extensionASTNodes)!==null&&Z!==void 0?Z:[],this._values=typeof J.values==="function"?J.values:_P1(this.name,J.values),this._valueLookup=null,this._nameLookup=null}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){if(typeof this._values==="function")this._values=_P1(this.name,this._values());return this._values}getValue(J){if(this._nameLookup===null)this._nameLookup=(0,ZX4.keyMap)(this.getValues(),(Z)=>Z.name);return this._nameLookup[J]}serialize(J){if(this._valueLookup===null)this._valueLookup=new Map(this.getValues().map((X)=>[X.value,X]));let Z=this._valueLookup.get(J);if(Z===void 0)throw new nM.GraphQLError(`Enum "${this.name}" cannot represent value: ${(0,i4.inspect)(J)}`);return Z.name}parseValue(J){if(typeof J!=="string"){let X=(0,i4.inspect)(J);throw new nM.GraphQLError(`Enum "${this.name}" cannot represent non-string value: ${X}.`+QT(this,X))}let Z=this.getValue(J);if(Z==null)throw new nM.GraphQLError(`Value "${J}" does not exist in "${this.name}" enum.`+QT(this,J));return Z.value}parseLiteral(J,Z){if(J.kind!==YX4.Kind.ENUM){let Y=(0,hP1.print)(J);throw new nM.GraphQLError(`Enum "${this.name}" cannot represent non-enum value: ${Y}.`+QT(this,Y),{nodes:J})}let X=this.getValue(J.value);if(X==null){let Y=(0,hP1.print)(J);throw new nM.GraphQLError(`Value "${Y}" does not exist in "${this.name}" enum.`+QT(this,Y),{nodes:J})}return X.value}toConfig(){let J=(0,yP1.keyValMap)(this.getValues(),(Z)=>Z.name,(Z)=>({description:Z.description,value:Z.value,deprecationReason:Z.deprecationReason,extensions:Z.extensions,astNode:Z.astNode}));return{name:this.name,description:this.description,values:J,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}nP1.GraphQLEnumType=wo;function QT(J,Z){let X=J.getValues().map(($)=>$.name),Y=(0,XX4.suggestionList)(Z,X);return(0,eZ4.didYouMean)("the enum value",Y)}function _P1(J,Z){return AV(Z)||(0,l5.devAssert)(!1,`${J} values must be an object with value names as keys.`),Object.entries(Z).map(([X,Y])=>{return AV(Y)||(0,l5.devAssert)(!1,`${J}.${X} must refer to an object with a "value" key representing an internal value but got: ${(0,i4.inspect)(Y)}.`),{name:(0,O$.assertEnumValueName)(X),description:Y.description,value:Y.value!==void 0?Y.value:X,deprecationReason:Y.deprecationReason,extensions:(0,U$.toObjMap)(Y.extensions),astNode:Y.astNode}})}class Ao{constructor(J){var Z,X;this.name=(0,O$.assertName)(J.name),this.description=J.description,this.extensions=(0,U$.toObjMap)(J.extensions),this.astNode=J.astNode,this.extensionASTNodes=(Z=J.extensionASTNodes)!==null&&Z!==void 0?Z:[],this.isOneOf=(X=J.isOneOf)!==null&&X!==void 0?X:!1,this._fields=jX4.bind(void 0,J)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){if(typeof this._fields==="function")this._fields=this._fields();return this._fields}toConfig(){let J=(0,GT.mapValue)(this.getFields(),(Z)=>({description:Z.description,type:Z.type,defaultValue:Z.defaultValue,deprecationReason:Z.deprecationReason,extensions:Z.extensions,astNode:Z.astNode}));return{name:this.name,description:this.description,fields:J,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,isOneOf:this.isOneOf}}toString(){return this.name}toJSON(){return this.toString()}}nP1.GraphQLInputObjectType=Ao;function jX4(J){let Z=Uo(J.fields);return AV(Z)||(0,l5.devAssert)(!1,`${J.name} fields must be an object with field names as keys or a function which returns such an object.`),(0,GT.mapValue)(Z,(X,Y)=>{return!("resolve"in X)||(0,l5.devAssert)(!1,`${J.name}.${Y} field has a resolve property, but Input Types cannot define resolvers.`),{name:(0,O$.assertName)(Y),description:X.description,type:X.type,defaultValue:X.defaultValue,deprecationReason:X.deprecationReason,extensions:(0,U$.toObjMap)(X.extensions),astNode:X.astNode}})}function RX4(J){return mK(J.type)&&J.defaultValue===void 0}});var sM=B((oP1)=>{Object.defineProperty(oP1,"__esModule",{value:!0});oP1.doTypesOverlap=PY4;oP1.isEqualType=Mo;oP1.isTypeSubTypeOf=BT;var T9=s6();function Mo(J,Z){if(J===Z)return!0;if((0,T9.isNonNullType)(J)&&(0,T9.isNonNullType)(Z))return Mo(J.ofType,Z.ofType);if((0,T9.isListType)(J)&&(0,T9.isListType)(Z))return Mo(J.ofType,Z.ofType);return!1}function BT(J,Z,X){if(Z===X)return!0;if((0,T9.isNonNullType)(X)){if((0,T9.isNonNullType)(Z))return BT(J,Z.ofType,X.ofType);return!1}if((0,T9.isNonNullType)(Z))return BT(J,Z.ofType,X);if((0,T9.isListType)(X)){if((0,T9.isListType)(Z))return BT(J,Z.ofType,X.ofType);return!1}if((0,T9.isListType)(Z))return!1;return(0,T9.isAbstractType)(X)&&((0,T9.isInterfaceType)(Z)||(0,T9.isObjectType)(Z))&&J.isSubType(X,Z)}function PY4(J,Z,X){if(Z===X)return!0;if((0,T9.isAbstractType)(Z)){if((0,T9.isAbstractType)(X))return J.getPossibleTypes(Z).some((Y)=>J.isSubType(X,Y));return J.isSubType(Z,X)}if((0,T9.isAbstractType)(X))return J.isSubType(X,Z);return!1}});var D$=B((XL1)=>{Object.defineProperty(XL1,"__esModule",{value:!0});XL1.GraphQLString=XL1.GraphQLInt=XL1.GraphQLID=XL1.GraphQLFloat=XL1.GraphQLBoolean=XL1.GRAPHQL_MIN_INT=XL1.GRAPHQL_MAX_INT=void 0;XL1.isSpecifiedScalarType=RY4;XL1.specifiedScalarTypes=void 0;var XY=M4(),sP1=H$(),p5=O0(),vH=o6(),aM=UJ(),rM=s6(),HT=2147483647;XL1.GRAPHQL_MAX_INT=HT;var FT=-2147483648;XL1.GRAPHQL_MIN_INT=FT;var aP1=new rM.GraphQLScalarType({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(J){let Z=tM(J);if(typeof Z==="boolean")return Z?1:0;let X=Z;if(typeof Z==="string"&&Z!=="")X=Number(Z);if(typeof X!=="number"||!Number.isInteger(X))throw new p5.GraphQLError(`Int cannot represent non-integer value: ${(0,XY.inspect)(Z)}`);if(X>HT||X<FT)throw new p5.GraphQLError("Int cannot represent non 32-bit signed integer value: "+(0,XY.inspect)(Z));return X},parseValue(J){if(typeof J!=="number"||!Number.isInteger(J))throw new p5.GraphQLError(`Int cannot represent non-integer value: ${(0,XY.inspect)(J)}`);if(J>HT||J<FT)throw new p5.GraphQLError(`Int cannot represent non 32-bit signed integer value: ${J}`);return J},parseLiteral(J){if(J.kind!==vH.Kind.INT)throw new p5.GraphQLError(`Int cannot represent non-integer value: ${(0,aM.print)(J)}`,{nodes:J});let Z=parseInt(J.value,10);if(Z>HT||Z<FT)throw new p5.GraphQLError(`Int cannot represent non 32-bit signed integer value: ${J.value}`,{nodes:J});return Z}});XL1.GraphQLInt=aP1;var rP1=new rM.GraphQLScalarType({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(J){let Z=tM(J);if(typeof Z==="boolean")return Z?1:0;let X=Z;if(typeof Z==="string"&&Z!=="")X=Number(Z);if(typeof X!=="number"||!Number.isFinite(X))throw new p5.GraphQLError(`Float cannot represent non numeric value: ${(0,XY.inspect)(Z)}`);return X},parseValue(J){if(typeof J!=="number"||!Number.isFinite(J))throw new p5.GraphQLError(`Float cannot represent non numeric value: ${(0,XY.inspect)(J)}`);return J},parseLiteral(J){if(J.kind!==vH.Kind.FLOAT&&J.kind!==vH.Kind.INT)throw new p5.GraphQLError(`Float cannot represent non numeric value: ${(0,aM.print)(J)}`,J);return parseFloat(J.value)}});XL1.GraphQLFloat=rP1;var tP1=new rM.GraphQLScalarType({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(J){let Z=tM(J);if(typeof Z==="string")return Z;if(typeof Z==="boolean")return Z?"true":"false";if(typeof Z==="number"&&Number.isFinite(Z))return Z.toString();throw new p5.GraphQLError(`String cannot represent value: ${(0,XY.inspect)(J)}`)},parseValue(J){if(typeof J!=="string")throw new p5.GraphQLError(`String cannot represent a non string value: ${(0,XY.inspect)(J)}`);return J},parseLiteral(J){if(J.kind!==vH.Kind.STRING)throw new p5.GraphQLError(`String cannot represent a non string value: ${(0,aM.print)(J)}`,{nodes:J});return J.value}});XL1.GraphQLString=tP1;var eP1=new rM.GraphQLScalarType({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(J){let Z=tM(J);if(typeof Z==="boolean")return Z;if(Number.isFinite(Z))return Z!==0;throw new p5.GraphQLError(`Boolean cannot represent a non boolean value: ${(0,XY.inspect)(Z)}`)},parseValue(J){if(typeof J!=="boolean")throw new p5.GraphQLError(`Boolean cannot represent a non boolean value: ${(0,XY.inspect)(J)}`);return J},parseLiteral(J){if(J.kind!==vH.Kind.BOOLEAN)throw new p5.GraphQLError(`Boolean cannot represent a non boolean value: ${(0,aM.print)(J)}`,{nodes:J});return J.value}});XL1.GraphQLBoolean=eP1;var JL1=new rM.GraphQLScalarType({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(J){let Z=tM(J);if(typeof Z==="string")return Z;if(Number.isInteger(Z))return String(Z);throw new p5.GraphQLError(`ID cannot represent value: ${(0,XY.inspect)(J)}`)},parseValue(J){if(typeof J==="string")return J;if(typeof J==="number"&&Number.isInteger(J))return J.toString();throw new p5.GraphQLError(`ID cannot represent value: ${(0,XY.inspect)(J)}`)},parseLiteral(J){if(J.kind!==vH.Kind.STRING&&J.kind!==vH.Kind.INT)throw new p5.GraphQLError("ID cannot represent a non-string and non-integer value: "+(0,aM.print)(J),{nodes:J});return J.value}});XL1.GraphQLID=JL1;var ZL1=Object.freeze([tP1,aP1,rP1,eP1,JL1]);XL1.specifiedScalarTypes=ZL1;function RY4(J){return ZL1.some(({name:Z})=>J.name===Z)}function tM(J){if((0,sP1.isObjectLike)(J)){if(typeof J.valueOf==="function"){let Z=J.valueOf();if(!(0,sP1.isObjectLike)(Z))return Z}if(typeof J.toJSON==="function")return J.toJSON()}return J}});var h7=B((UL1)=>{Object.defineProperty(UL1,"__esModule",{value:!0});UL1.GraphQLSpecifiedByDirective=UL1.GraphQLSkipDirective=UL1.GraphQLOneOfDirective=UL1.GraphQLIncludeDirective=UL1.GraphQLDirective=UL1.GraphQLDeprecatedDirective=UL1.DEFAULT_DEPRECATION_REASON=void 0;UL1.assertDirective=dY4;UL1.isDirective=WL1;UL1.isSpecifiedDirective=uY4;UL1.specifiedDirectives=void 0;var zL1=z7(),_Y4=M4(),yY4=uM(),vY4=H$(),xY4=YT(),aJ=OV(),gY4=pM(),eM=s6(),UT=D$();function WL1(J){return(0,yY4.instanceOf)(J,cK)}function dY4(J){if(!WL1(J))throw new Error(`Expected ${(0,_Y4.inspect)(J)} to be a GraphQL directive.`);return J}class cK{constructor(J){var Z,X;this.name=(0,gY4.assertName)(J.name),this.description=J.description,this.locations=J.locations,this.isRepeatable=(Z=J.isRepeatable)!==null&&Z!==void 0?Z:!1,this.extensions=(0,xY4.toObjMap)(J.extensions),this.astNode=J.astNode,Array.isArray(J.locations)||(0,zL1.devAssert)(!1,`@${J.name} locations must be an Array.`);let Y=(X=J.args)!==null&&X!==void 0?X:{};(0,vY4.isObjectLike)(Y)&&!Array.isArray(Y)||(0,zL1.devAssert)(!1,`@${J.name} args must be an object with argument names as keys.`),this.args=(0,eM.defineArguments)(Y)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:(0,eM.argsToArgsConfig)(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}UL1.GraphQLDirective=cK;var QL1=new cK({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[aJ.DirectiveLocation.FIELD,aJ.DirectiveLocation.FRAGMENT_SPREAD,aJ.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new eM.GraphQLNonNull(UT.GraphQLBoolean),description:"Included when true."}}});UL1.GraphQLIncludeDirective=QL1;var GL1=new cK({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[aJ.DirectiveLocation.FIELD,aJ.DirectiveLocation.FRAGMENT_SPREAD,aJ.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new eM.GraphQLNonNull(UT.GraphQLBoolean),description:"Skipped when true."}}});UL1.GraphQLSkipDirective=GL1;var KL1="No longer supported";UL1.DEFAULT_DEPRECATION_REASON=KL1;var qL1=new cK({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[aJ.DirectiveLocation.FIELD_DEFINITION,aJ.DirectiveLocation.ARGUMENT_DEFINITION,aJ.DirectiveLocation.INPUT_FIELD_DEFINITION,aJ.DirectiveLocation.ENUM_VALUE],args:{reason:{type:UT.GraphQLString,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:KL1}}});UL1.GraphQLDeprecatedDirective=qL1;var BL1=new cK({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[aJ.DirectiveLocation.SCALAR],args:{url:{type:new eM.GraphQLNonNull(UT.GraphQLString),description:"The URL that specifies the behavior of this scalar."}}});UL1.GraphQLSpecifiedByDirective=BL1;var HL1=new cK({name:"oneOf",description:"Indicates exactly one field must be supplied and this field must not be `null`.",locations:[aJ.DirectiveLocation.INPUT_OBJECT],args:{}});UL1.GraphQLOneOfDirective=HL1;var FL1=Object.freeze([QL1,GL1,qL1,BL1,HL1]);UL1.specifiedDirectives=FL1;function uY4(J){return FL1.some(({name:Z})=>Z===J.name)}});var OT=B((VL1)=>{Object.defineProperty(VL1,"__esModule",{value:!0});VL1.isIterableObject=rY4;function rY4(J){return typeof J==="object"&&typeof(J===null||J===void 0?void 0:J[Symbol.iterator])==="function"}});var XN=B((AL1)=>{Object.defineProperty(AL1,"__esModule",{value:!0});AL1.astFromValue=ZN;var IL1=M4(),eY4=S9(),J$4=OT(),Z$4=H$(),rJ=o6(),JN=s6(),X$4=D$();function ZN(J,Z){if((0,JN.isNonNullType)(Z)){let X=ZN(J,Z.ofType);if((X===null||X===void 0?void 0:X.kind)===rJ.Kind.NULL)return null;return X}if(J===null)return{kind:rJ.Kind.NULL};if(J===void 0)return null;if((0,JN.isListType)(Z)){let X=Z.ofType;if((0,J$4.isIterableObject)(J)){let Y=[];for(let $ of J){let z=ZN($,X);if(z!=null)Y.push(z)}return{kind:rJ.Kind.LIST,values:Y}}return ZN(J,X)}if((0,JN.isInputObjectType)(Z)){if(!(0,Z$4.isObjectLike)(J))return null;let X=[];for(let Y of Object.values(Z.getFields())){let $=ZN(J[Y.name],Y.type);if($)X.push({kind:rJ.Kind.OBJECT_FIELD,name:{kind:rJ.Kind.NAME,value:Y.name},value:$})}return{kind:rJ.Kind.OBJECT,fields:X}}if((0,JN.isLeafType)(Z)){let X=Z.serialize(J);if(X==null)return null;if(typeof X==="boolean")return{kind:rJ.Kind.BOOLEAN,value:X};if(typeof X==="number"&&Number.isFinite(X)){let Y=String(X);return wL1.test(Y)?{kind:rJ.Kind.INT,value:Y}:{kind:rJ.Kind.FLOAT,value:Y}}if(typeof X==="string"){if((0,JN.isEnumType)(Z))return{kind:rJ.Kind.ENUM,value:X};if(Z===X$4.GraphQLID&&wL1.test(X))return{kind:rJ.Kind.INT,value:X};return{kind:rJ.Kind.STRING,value:X}}throw new TypeError(`Cannot convert value to AST: ${(0,IL1.inspect)(X)}.`)}(0,eY4.invariant)(!1,"Unexpected input type: "+(0,IL1.inspect)(Z))}var wL1=/^-?(?:0|[1-9][0-9]*)$/});var eJ=B((NL1)=>{Object.defineProperty(NL1,"__esModule",{value:!0});NL1.introspectionTypes=NL1.__TypeKind=NL1.__Type=NL1.__Schema=NL1.__InputValue=NL1.__Field=NL1.__EnumValue=NL1.__DirectiveLocation=NL1.__Directive=NL1.TypeNameMetaFieldDef=NL1.TypeMetaFieldDef=NL1.TypeKind=NL1.SchemaMetaFieldDef=void 0;NL1.isIntrospectionType=B$4;var $$4=M4(),z$4=S9(),R5=OV(),W$4=UJ(),Q$4=XN(),s1=s6(),y4=D$(),No=new s1.GraphQLObjectType({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:y4.GraphQLString,resolve:(J)=>J.description},types:{description:"A list of all types supported by this server.",type:new s1.GraphQLNonNull(new s1.GraphQLList(new s1.GraphQLNonNull(tJ))),resolve(J){return Object.values(J.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:new s1.GraphQLNonNull(tJ),resolve:(J)=>J.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:tJ,resolve:(J)=>J.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:tJ,resolve:(J)=>J.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new s1.GraphQLNonNull(new s1.GraphQLList(new s1.GraphQLNonNull(Po))),resolve:(J)=>J.getDirectives()}})});NL1.__Schema=No;var Po=new s1.GraphQLObjectType({name:"__Directive",description:`A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.

In some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.`,fields:()=>({name:{type:new s1.GraphQLNonNull(y4.GraphQLString),resolve:(J)=>J.name},description:{type:y4.GraphQLString,resolve:(J)=>J.description},isRepeatable:{type:new s1.GraphQLNonNull(y4.GraphQLBoolean),resolve:(J)=>J.isRepeatable},locations:{type:new s1.GraphQLNonNull(new s1.GraphQLList(new s1.GraphQLNonNull(Lo))),resolve:(J)=>J.locations},args:{type:new s1.GraphQLNonNull(new s1.GraphQLList(new s1.GraphQLNonNull(YN))),args:{includeDeprecated:{type:y4.GraphQLBoolean,defaultValue:!1}},resolve(J,{includeDeprecated:Z}){return Z?J.args:J.args.filter((X)=>X.deprecationReason==null)}}})});NL1.__Directive=Po;var Lo=new s1.GraphQLEnumType({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:R5.DirectiveLocation.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:R5.DirectiveLocation.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:R5.DirectiveLocation.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:R5.DirectiveLocation.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:R5.DirectiveLocation.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:R5.DirectiveLocation.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:R5.DirectiveLocation.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:R5.DirectiveLocation.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:R5.DirectiveLocation.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:R5.DirectiveLocation.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:R5.DirectiveLocation.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:R5.DirectiveLocation.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:R5.DirectiveLocation.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:R5.DirectiveLocation.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:R5.DirectiveLocation.UNION,description:"Location adjacent to a union definition."},ENUM:{value:R5.DirectiveLocation.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:R5.DirectiveLocation.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:R5.DirectiveLocation.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:R5.DirectiveLocation.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}});NL1.__DirectiveLocation=Lo;var tJ=new s1.GraphQLObjectType({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new s1.GraphQLNonNull(Ro),resolve(J){if((0,s1.isScalarType)(J))return E5.SCALAR;if((0,s1.isObjectType)(J))return E5.OBJECT;if((0,s1.isInterfaceType)(J))return E5.INTERFACE;if((0,s1.isUnionType)(J))return E5.UNION;if((0,s1.isEnumType)(J))return E5.ENUM;if((0,s1.isInputObjectType)(J))return E5.INPUT_OBJECT;if((0,s1.isListType)(J))return E5.LIST;if((0,s1.isNonNullType)(J))return E5.NON_NULL;(0,z$4.invariant)(!1,`Unexpected type: "${(0,$$4.inspect)(J)}".`)}},name:{type:y4.GraphQLString,resolve:(J)=>("name"in J)?J.name:void 0},description:{type:y4.GraphQLString,resolve:(J)=>("description"in J)?J.description:void 0},specifiedByURL:{type:y4.GraphQLString,resolve:(J)=>("specifiedByURL"in J)?J.specifiedByURL:void 0},fields:{type:new s1.GraphQLList(new s1.GraphQLNonNull(Co)),args:{includeDeprecated:{type:y4.GraphQLBoolean,defaultValue:!1}},resolve(J,{includeDeprecated:Z}){if((0,s1.isObjectType)(J)||(0,s1.isInterfaceType)(J)){let X=Object.values(J.getFields());return Z?X:X.filter((Y)=>Y.deprecationReason==null)}}},interfaces:{type:new s1.GraphQLList(new s1.GraphQLNonNull(tJ)),resolve(J){if((0,s1.isObjectType)(J)||(0,s1.isInterfaceType)(J))return J.getInterfaces()}},possibleTypes:{type:new s1.GraphQLList(new s1.GraphQLNonNull(tJ)),resolve(J,Z,X,{schema:Y}){if((0,s1.isAbstractType)(J))return Y.getPossibleTypes(J)}},enumValues:{type:new s1.GraphQLList(new s1.GraphQLNonNull(jo)),args:{includeDeprecated:{type:y4.GraphQLBoolean,defaultValue:!1}},resolve(J,{includeDeprecated:Z}){if((0,s1.isEnumType)(J)){let X=J.getValues();return Z?X:X.filter((Y)=>Y.deprecationReason==null)}}},inputFields:{type:new s1.GraphQLList(new s1.GraphQLNonNull(YN)),args:{includeDeprecated:{type:y4.GraphQLBoolean,defaultValue:!1}},resolve(J,{includeDeprecated:Z}){if((0,s1.isInputObjectType)(J)){let X=Object.values(J.getFields());return Z?X:X.filter((Y)=>Y.deprecationReason==null)}}},ofType:{type:tJ,resolve:(J)=>("ofType"in J)?J.ofType:void 0},isOneOf:{type:y4.GraphQLBoolean,resolve:(J)=>{if((0,s1.isInputObjectType)(J))return J.isOneOf}}})});NL1.__Type=tJ;var Co=new s1.GraphQLObjectType({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new s1.GraphQLNonNull(y4.GraphQLString),resolve:(J)=>J.name},description:{type:y4.GraphQLString,resolve:(J)=>J.description},args:{type:new s1.GraphQLNonNull(new s1.GraphQLList(new s1.GraphQLNonNull(YN))),args:{includeDeprecated:{type:y4.GraphQLBoolean,defaultValue:!1}},resolve(J,{includeDeprecated:Z}){return Z?J.args:J.args.filter((X)=>X.deprecationReason==null)}},type:{type:new s1.GraphQLNonNull(tJ),resolve:(J)=>J.type},isDeprecated:{type:new s1.GraphQLNonNull(y4.GraphQLBoolean),resolve:(J)=>J.deprecationReason!=null},deprecationReason:{type:y4.GraphQLString,resolve:(J)=>J.deprecationReason}})});NL1.__Field=Co;var YN=new s1.GraphQLObjectType({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new s1.GraphQLNonNull(y4.GraphQLString),resolve:(J)=>J.name},description:{type:y4.GraphQLString,resolve:(J)=>J.description},type:{type:new s1.GraphQLNonNull(tJ),resolve:(J)=>J.type},defaultValue:{type:y4.GraphQLString,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(J){let{type:Z,defaultValue:X}=J,Y=(0,Q$4.astFromValue)(X,Z);return Y?(0,W$4.print)(Y):null}},isDeprecated:{type:new s1.GraphQLNonNull(y4.GraphQLBoolean),resolve:(J)=>J.deprecationReason!=null},deprecationReason:{type:y4.GraphQLString,resolve:(J)=>J.deprecationReason}})});NL1.__InputValue=YN;var jo=new s1.GraphQLObjectType({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new s1.GraphQLNonNull(y4.GraphQLString),resolve:(J)=>J.name},description:{type:y4.GraphQLString,resolve:(J)=>J.description},isDeprecated:{type:new s1.GraphQLNonNull(y4.GraphQLBoolean),resolve:(J)=>J.deprecationReason!=null},deprecationReason:{type:y4.GraphQLString,resolve:(J)=>J.deprecationReason}})});NL1.__EnumValue=jo;var E5;NL1.TypeKind=E5;(function(J){J.SCALAR="SCALAR",J.OBJECT="OBJECT",J.INTERFACE="INTERFACE",J.UNION="UNION",J.ENUM="ENUM",J.INPUT_OBJECT="INPUT_OBJECT",J.LIST="LIST",J.NON_NULL="NON_NULL"})(E5||(NL1.TypeKind=E5={}));var Ro=new s1.GraphQLEnumType({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:E5.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:E5.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:E5.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:E5.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:E5.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:E5.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:E5.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:E5.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}});NL1.__TypeKind=Ro;var G$4={name:"__schema",type:new s1.GraphQLNonNull(No),description:"Access the current type schema of this server.",args:[],resolve:(J,Z,X,{schema:Y})=>Y,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0};NL1.SchemaMetaFieldDef=G$4;var K$4={name:"__type",type:tJ,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new s1.GraphQLNonNull(y4.GraphQLString),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(J,{name:Z},X,{schema:Y})=>Y.getType(Z),deprecationReason:void 0,extensions:Object.create(null),astNode:void 0};NL1.TypeMetaFieldDef=K$4;var q$4={name:"__typename",type:new s1.GraphQLNonNull(y4.GraphQLString),description:"The name of the current Object type at runtime.",args:[],resolve:(J,Z,X,{parentType:Y})=>Y.name,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0};NL1.TypeNameMetaFieldDef=q$4;var ML1=Object.freeze([No,Po,Lo,tJ,Co,YN,jo,Ro]);NL1.introspectionTypes=ML1;function B$4(J){return ML1.some(({name:Z})=>J.name===Z)}});var xH=B((RL1)=>{Object.defineProperty(RL1,"__esModule",{value:!0});RL1.GraphQLSchema=void 0;RL1.assertSchema=E$4;RL1.isSchema=jL1;var DT=z7(),So=M4(),L$4=uM(),C$4=H$(),j$4=YT(),Eo=F$(),YY=s6(),CL1=h7(),R$4=eJ();function jL1(J){return(0,L$4.instanceOf)(J,To)}function E$4(J){if(!jL1(J))throw new Error(`Expected ${(0,So.inspect)(J)} to be a GraphQL schema.`);return J}class To{constructor(J){var Z,X;this.__validationErrors=J.assumeValid===!0?[]:void 0,(0,C$4.isObjectLike)(J)||(0,DT.devAssert)(!1,"Must provide configuration object."),!J.types||Array.isArray(J.types)||(0,DT.devAssert)(!1,`"types" must be Array if provided but got: ${(0,So.inspect)(J.types)}.`),!J.directives||Array.isArray(J.directives)||(0,DT.devAssert)(!1,`"directives" must be Array if provided but got: ${(0,So.inspect)(J.directives)}.`),this.description=J.description,this.extensions=(0,j$4.toObjMap)(J.extensions),this.astNode=J.astNode,this.extensionASTNodes=(Z=J.extensionASTNodes)!==null&&Z!==void 0?Z:[],this._queryType=J.query,this._mutationType=J.mutation,this._subscriptionType=J.subscription,this._directives=(X=J.directives)!==null&&X!==void 0?X:CL1.specifiedDirectives;let Y=new Set(J.types);if(J.types!=null)for(let $ of J.types)Y.delete($),$Y($,Y);if(this._queryType!=null)$Y(this._queryType,Y);if(this._mutationType!=null)$Y(this._mutationType,Y);if(this._subscriptionType!=null)$Y(this._subscriptionType,Y);for(let $ of this._directives)if((0,CL1.isDirective)($))for(let z of $.args)$Y(z.type,Y);$Y(R$4.__Schema,Y),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(let $ of Y){if($==null)continue;let z=$.name;if(z||(0,DT.devAssert)(!1,"One of the provided types for building the Schema is missing a name."),this._typeMap[z]!==void 0)throw new Error(`Schema must contain uniquely named types but contains multiple types named "${z}".`);if(this._typeMap[z]=$,(0,YY.isInterfaceType)($)){for(let W of $.getInterfaces())if((0,YY.isInterfaceType)(W)){let Q=this._implementationsMap[W.name];if(Q===void 0)Q=this._implementationsMap[W.name]={objects:[],interfaces:[]};Q.interfaces.push($)}}else if((0,YY.isObjectType)($)){for(let W of $.getInterfaces())if((0,YY.isInterfaceType)(W)){let Q=this._implementationsMap[W.name];if(Q===void 0)Q=this._implementationsMap[W.name]={objects:[],interfaces:[]};Q.objects.push($)}}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(J){switch(J){case Eo.OperationTypeNode.QUERY:return this.getQueryType();case Eo.OperationTypeNode.MUTATION:return this.getMutationType();case Eo.OperationTypeNode.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(J){return this.getTypeMap()[J]}getPossibleTypes(J){return(0,YY.isUnionType)(J)?J.getTypes():this.getImplementations(J).objects}getImplementations(J){let Z=this._implementationsMap[J.name];return Z!==null&&Z!==void 0?Z:{objects:[],interfaces:[]}}isSubType(J,Z){let X=this._subTypeMap[J.name];if(X===void 0){if(X=Object.create(null),(0,YY.isUnionType)(J))for(let Y of J.getTypes())X[Y.name]=!0;else{let Y=this.getImplementations(J);for(let $ of Y.objects)X[$.name]=!0;for(let $ of Y.interfaces)X[$.name]=!0}this._subTypeMap[J.name]=X}return X[Z.name]!==void 0}getDirectives(){return this._directives}getDirective(J){return this.getDirectives().find((Z)=>Z.name===J)}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:this.__validationErrors!==void 0}}}RL1.GraphQLSchema=To;function $Y(J,Z){let X=(0,YY.getNamedType)(J);if(!Z.has(X)){if(Z.add(X),(0,YY.isUnionType)(X))for(let Y of X.getTypes())$Y(Y,Z);else if((0,YY.isObjectType)(X)||(0,YY.isInterfaceType)(X)){for(let Y of X.getInterfaces())$Y(Y,Z);for(let Y of Object.values(X.getFields())){$Y(Y.type,Z);for(let $ of Y.args)$Y($.type,Z)}}else if((0,YY.isInputObjectType)(X))for(let Y of Object.values(X.getFields()))$Y(Y.type,Z)}return Z}});var zN=B((yL1)=>{Object.defineProperty(yL1,"__esModule",{value:!0});yL1.assertValidSchema=h$4;yL1.validateSchema=hL1;var f9=M4(),f$4=O0(),fo=F$(),SL1=sM(),g8=s6(),bL1=h7(),k$4=eJ(),b$4=xH();function hL1(J){if((0,b$4.assertSchema)(J),J.__validationErrors)return J.__validationErrors;let Z=new _L1(J);_$4(Z),y$4(Z),v$4(Z);let X=Z.getErrors();return J.__validationErrors=X,X}function h$4(J){let Z=hL1(J);if(Z.length!==0)throw new Error(Z.map((X)=>X.message).join(`

`))}class _L1{constructor(J){this._errors=[],this.schema=J}reportError(J,Z){let X=Array.isArray(Z)?Z.filter(Boolean):Z;this._errors.push(new f$4.GraphQLError(J,{nodes:X}))}getErrors(){return this._errors}}function _$4(J){let Z=J.schema,X=Z.getQueryType();if(!X)J.reportError("Query root type must be provided.",Z.astNode);else if(!(0,g8.isObjectType)(X)){var Y;J.reportError(`Query root type must be Object type, it cannot be ${(0,f9.inspect)(X)}.`,(Y=ko(Z,fo.OperationTypeNode.QUERY))!==null&&Y!==void 0?Y:X.astNode)}let $=Z.getMutationType();if($&&!(0,g8.isObjectType)($)){var z;J.reportError(`Mutation root type must be Object type if provided, it cannot be ${(0,f9.inspect)($)}.`,(z=ko(Z,fo.OperationTypeNode.MUTATION))!==null&&z!==void 0?z:$.astNode)}let W=Z.getSubscriptionType();if(W&&!(0,g8.isObjectType)(W)){var Q;J.reportError(`Subscription root type must be Object type if provided, it cannot be ${(0,f9.inspect)(W)}.`,(Q=ko(Z,fo.OperationTypeNode.SUBSCRIPTION))!==null&&Q!==void 0?Q:W.astNode)}}function ko(J,Z){var X;return(X=[J.astNode,...J.extensionASTNodes].flatMap((Y)=>{var $;return($=Y===null||Y===void 0?void 0:Y.operationTypes)!==null&&$!==void 0?$:[]}).find((Y)=>Y.operation===Z))===null||X===void 0?void 0:X.type}function y$4(J){for(let X of J.schema.getDirectives()){if(!(0,bL1.isDirective)(X)){J.reportError(`Expected directive but got: ${(0,f9.inspect)(X)}.`,X===null||X===void 0?void 0:X.astNode);continue}if(gH(J,X),X.locations.length===0)J.reportError(`Directive @${X.name} must include 1 or more locations.`,X.astNode);for(let Y of X.args){if(gH(J,Y),!(0,g8.isInputType)(Y.type))J.reportError(`The type of @${X.name}(${Y.name}:) must be Input Type but got: ${(0,f9.inspect)(Y.type)}.`,Y.astNode);if((0,g8.isRequiredArgument)(Y)&&Y.deprecationReason!=null){var Z;J.reportError(`Required argument @${X.name}(${Y.name}:) cannot be deprecated.`,[bo(Y.astNode),(Z=Y.astNode)===null||Z===void 0?void 0:Z.type])}}}}function gH(J,Z){if(Z.name.startsWith("__"))J.reportError(`Name "${Z.name}" must not begin with "__", which is reserved by GraphQL introspection.`,Z.astNode)}function v$4(J){let Z=l$4(J),X=J.schema.getTypeMap();for(let Y of Object.values(X)){if(!(0,g8.isNamedType)(Y)){J.reportError(`Expected GraphQL named type but got: ${(0,f9.inspect)(Y)}.`,Y.astNode);continue}if(!(0,k$4.isIntrospectionType)(Y))gH(J,Y);if((0,g8.isObjectType)(Y))TL1(J,Y),fL1(J,Y);else if((0,g8.isInterfaceType)(Y))TL1(J,Y),fL1(J,Y);else if((0,g8.isUnionType)(Y))d$4(J,Y);else if((0,g8.isEnumType)(Y))u$4(J,Y);else if((0,g8.isInputObjectType)(Y))m$4(J,Y),Z(Y)}}function TL1(J,Z){let X=Object.values(Z.getFields());if(X.length===0)J.reportError(`Type ${Z.name} must define one or more fields.`,[Z.astNode,...Z.extensionASTNodes]);for(let W of X){if(gH(J,W),!(0,g8.isOutputType)(W.type)){var Y;J.reportError(`The type of ${Z.name}.${W.name} must be Output Type but got: ${(0,f9.inspect)(W.type)}.`,(Y=W.astNode)===null||Y===void 0?void 0:Y.type)}for(let Q of W.args){let G=Q.name;if(gH(J,Q),!(0,g8.isInputType)(Q.type)){var $;J.reportError(`The type of ${Z.name}.${W.name}(${G}:) must be Input Type but got: ${(0,f9.inspect)(Q.type)}.`,($=Q.astNode)===null||$===void 0?void 0:$.type)}if((0,g8.isRequiredArgument)(Q)&&Q.deprecationReason!=null){var z;J.reportError(`Required argument ${Z.name}.${W.name}(${G}:) cannot be deprecated.`,[bo(Q.astNode),(z=Q.astNode)===null||z===void 0?void 0:z.type])}}}}function fL1(J,Z){let X=Object.create(null);for(let Y of Z.getInterfaces()){if(!(0,g8.isInterfaceType)(Y)){J.reportError(`Type ${(0,f9.inspect)(Z)} must only implement Interface types, it cannot implement ${(0,f9.inspect)(Y)}.`,$N(Z,Y));continue}if(Z===Y){J.reportError(`Type ${Z.name} cannot implement itself because it would create a circular reference.`,$N(Z,Y));continue}if(X[Y.name]){J.reportError(`Type ${Z.name} can only implement ${Y.name} once.`,$N(Z,Y));continue}X[Y.name]=!0,g$4(J,Z,Y),x$4(J,Z,Y)}}function x$4(J,Z,X){let Y=Z.getFields();for(let G of Object.values(X.getFields())){let K=G.name,q=Y[K];if(!q){J.reportError(`Interface field ${X.name}.${K} expected but ${Z.name} does not provide it.`,[G.astNode,Z.astNode,...Z.extensionASTNodes]);continue}if(!(0,SL1.isTypeSubTypeOf)(J.schema,q.type,G.type)){var $,z;J.reportError(`Interface field ${X.name}.${K} expects type ${(0,f9.inspect)(G.type)} but ${Z.name}.${K} is type ${(0,f9.inspect)(q.type)}.`,[($=G.astNode)===null||$===void 0?void 0:$.type,(z=q.astNode)===null||z===void 0?void 0:z.type])}for(let H of G.args){let F=H.name,U=q.args.find((D)=>D.name===F);if(!U){J.reportError(`Interface field argument ${X.name}.${K}(${F}:) expected but ${Z.name}.${K} does not provide it.`,[H.astNode,q.astNode]);continue}if(!(0,SL1.isEqualType)(H.type,U.type)){var W,Q;J.reportError(`Interface field argument ${X.name}.${K}(${F}:) expects type ${(0,f9.inspect)(H.type)} but ${Z.name}.${K}(${F}:) is type ${(0,f9.inspect)(U.type)}.`,[(W=H.astNode)===null||W===void 0?void 0:W.type,(Q=U.astNode)===null||Q===void 0?void 0:Q.type])}}for(let H of q.args){let F=H.name;if(!G.args.find((D)=>D.name===F)&&(0,g8.isRequiredArgument)(H))J.reportError(`Object field ${Z.name}.${K} includes required argument ${F} that is missing from the Interface field ${X.name}.${K}.`,[H.astNode,G.astNode])}}}function g$4(J,Z,X){let Y=Z.getInterfaces();for(let $ of X.getInterfaces())if(!Y.includes($))J.reportError($===Z?`Type ${Z.name} cannot implement ${X.name} because it would create a circular reference.`:`Type ${Z.name} must implement ${$.name} because it is implemented by ${X.name}.`,[...$N(X,$),...$N(Z,X)])}function d$4(J,Z){let X=Z.getTypes();if(X.length===0)J.reportError(`Union type ${Z.name} must define one or more member types.`,[Z.astNode,...Z.extensionASTNodes]);let Y=Object.create(null);for(let $ of X){if(Y[$.name]){J.reportError(`Union type ${Z.name} can only include type ${$.name} once.`,kL1(Z,$.name));continue}if(Y[$.name]=!0,!(0,g8.isObjectType)($))J.reportError(`Union type ${Z.name} can only include Object types, it cannot include ${(0,f9.inspect)($)}.`,kL1(Z,String($)))}}function u$4(J,Z){let X=Z.getValues();if(X.length===0)J.reportError(`Enum type ${Z.name} must define one or more values.`,[Z.astNode,...Z.extensionASTNodes]);for(let Y of X)gH(J,Y)}function m$4(J,Z){let X=Object.values(Z.getFields());if(X.length===0)J.reportError(`Input Object type ${Z.name} must define one or more fields.`,[Z.astNode,...Z.extensionASTNodes]);for(let z of X){if(gH(J,z),!(0,g8.isInputType)(z.type)){var Y;J.reportError(`The type of ${Z.name}.${z.name} must be Input Type but got: ${(0,f9.inspect)(z.type)}.`,(Y=z.astNode)===null||Y===void 0?void 0:Y.type)}if((0,g8.isRequiredInputField)(z)&&z.deprecationReason!=null){var $;J.reportError(`Required input field ${Z.name}.${z.name} cannot be deprecated.`,[bo(z.astNode),($=z.astNode)===null||$===void 0?void 0:$.type])}if(Z.isOneOf)c$4(Z,z,J)}}function c$4(J,Z,X){if((0,g8.isNonNullType)(Z.type)){var Y;X.reportError(`OneOf input field ${J.name}.${Z.name} must be nullable.`,(Y=Z.astNode)===null||Y===void 0?void 0:Y.type)}if(Z.defaultValue!==void 0)X.reportError(`OneOf input field ${J.name}.${Z.name} cannot have a default value.`,Z.astNode)}function l$4(J){let Z=Object.create(null),X=[],Y=Object.create(null);return $;function $(z){if(Z[z.name])return;Z[z.name]=!0,Y[z.name]=X.length;let W=Object.values(z.getFields());for(let Q of W)if((0,g8.isNonNullType)(Q.type)&&(0,g8.isInputObjectType)(Q.type.ofType)){let G=Q.type.ofType,K=Y[G.name];if(X.push(Q),K===void 0)$(G);else{let q=X.slice(K),H=q.map((F)=>F.name).join(".");J.reportError(`Cannot reference Input Object "${G.name}" within itself through a series of non-null fields: "${H}".`,q.map((F)=>F.astNode))}X.pop()}Y[z.name]=void 0}}function $N(J,Z){let{astNode:X,extensionASTNodes:Y}=J;return(X!=null?[X,...Y]:Y).flatMap((z)=>{var W;return(W=z.interfaces)!==null&&W!==void 0?W:[]}).filter((z)=>z.name.value===Z.name)}function kL1(J,Z){let{astNode:X,extensionASTNodes:Y}=J;return(X!=null?[X,...Y]:Y).flatMap((z)=>{var W;return(W=z.types)!==null&&W!==void 0?W:[]}).filter((z)=>z.name.value===Z)}function bo(J){var Z;return J===null||J===void 0?void 0:(Z=J.directives)===null||Z===void 0?void 0:Z.find((X)=>X.name.value===bL1.GraphQLDeprecatedDirective.name)}});var V$=B((xL1)=>{Object.defineProperty(xL1,"__esModule",{value:!0});xL1.typeFromAST=_o;var ho=o6(),vL1=s6();function _o(J,Z){switch(Z.kind){case ho.Kind.LIST_TYPE:{let X=_o(J,Z.type);return X&&new vL1.GraphQLList(X)}case ho.Kind.NON_NULL_TYPE:{let X=_o(J,Z.type);return X&&new vL1.GraphQLNonNull(X)}case ho.Kind.NAMED_TYPE:return J.getType(Z.name.value)}}});var VT=B((mL1)=>{Object.defineProperty(mL1,"__esModule",{value:!0});mL1.TypeInfo=void 0;mL1.visitWithTypeInfo=a$4;var o$4=F$(),d8=o6(),gL1=kH(),u8=s6(),NV=eJ(),dL1=V$();class uL1{constructor(J,Z,X){if(this._schema=J,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=X!==null&&X!==void 0?X:s$4,Z){if((0,u8.isInputType)(Z))this._inputTypeStack.push(Z);if((0,u8.isCompositeType)(Z))this._parentTypeStack.push(Z);if((0,u8.isOutputType)(Z))this._typeStack.push(Z)}}get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(J){let Z=this._schema;switch(J.kind){case d8.Kind.SELECTION_SET:{let Y=(0,u8.getNamedType)(this.getType());this._parentTypeStack.push((0,u8.isCompositeType)(Y)?Y:void 0);break}case d8.Kind.FIELD:{let Y=this.getParentType(),$,z;if(Y){if($=this._getFieldDef(Z,Y,J),$)z=$.type}this._fieldDefStack.push($),this._typeStack.push((0,u8.isOutputType)(z)?z:void 0);break}case d8.Kind.DIRECTIVE:this._directive=Z.getDirective(J.name.value);break;case d8.Kind.OPERATION_DEFINITION:{let Y=Z.getRootType(J.operation);this._typeStack.push((0,u8.isObjectType)(Y)?Y:void 0);break}case d8.Kind.INLINE_FRAGMENT:case d8.Kind.FRAGMENT_DEFINITION:{let Y=J.typeCondition,$=Y?(0,dL1.typeFromAST)(Z,Y):(0,u8.getNamedType)(this.getType());this._typeStack.push((0,u8.isOutputType)($)?$:void 0);break}case d8.Kind.VARIABLE_DEFINITION:{let Y=(0,dL1.typeFromAST)(Z,J.type);this._inputTypeStack.push((0,u8.isInputType)(Y)?Y:void 0);break}case d8.Kind.ARGUMENT:{var X;let Y,$,z=(X=this.getDirective())!==null&&X!==void 0?X:this.getFieldDef();if(z){if(Y=z.args.find((W)=>W.name===J.name.value),Y)$=Y.type}this._argument=Y,this._defaultValueStack.push(Y?Y.defaultValue:void 0),this._inputTypeStack.push((0,u8.isInputType)($)?$:void 0);break}case d8.Kind.LIST:{let Y=(0,u8.getNullableType)(this.getInputType()),$=(0,u8.isListType)(Y)?Y.ofType:Y;this._defaultValueStack.push(void 0),this._inputTypeStack.push((0,u8.isInputType)($)?$:void 0);break}case d8.Kind.OBJECT_FIELD:{let Y=(0,u8.getNamedType)(this.getInputType()),$,z;if((0,u8.isInputObjectType)(Y)){if(z=Y.getFields()[J.name.value],z)$=z.type}this._defaultValueStack.push(z?z.defaultValue:void 0),this._inputTypeStack.push((0,u8.isInputType)($)?$:void 0);break}case d8.Kind.ENUM:{let Y=(0,u8.getNamedType)(this.getInputType()),$;if((0,u8.isEnumType)(Y))$=Y.getValue(J.value);this._enumValue=$;break}default:}}leave(J){switch(J.kind){case d8.Kind.SELECTION_SET:this._parentTypeStack.pop();break;case d8.Kind.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case d8.Kind.DIRECTIVE:this._directive=null;break;case d8.Kind.OPERATION_DEFINITION:case d8.Kind.INLINE_FRAGMENT:case d8.Kind.FRAGMENT_DEFINITION:this._typeStack.pop();break;case d8.Kind.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case d8.Kind.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case d8.Kind.LIST:case d8.Kind.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case d8.Kind.ENUM:this._enumValue=null;break;default:}}}mL1.TypeInfo=uL1;function s$4(J,Z,X){let Y=X.name.value;if(Y===NV.SchemaMetaFieldDef.name&&J.getQueryType()===Z)return NV.SchemaMetaFieldDef;if(Y===NV.TypeMetaFieldDef.name&&J.getQueryType()===Z)return NV.TypeMetaFieldDef;if(Y===NV.TypeNameMetaFieldDef.name&&(0,u8.isCompositeType)(Z))return NV.TypeNameMetaFieldDef;if((0,u8.isObjectType)(Z)||(0,u8.isInterfaceType)(Z))return Z.getFields()[Y]}function a$4(J,Z){return{enter(...X){let Y=X[0];J.enter(Y);let $=(0,gL1.getEnterLeaveForKind)(Z,Y.kind).enter;if($){let z=$.apply(Z,X);if(z!==void 0){if(J.leave(Y),(0,o$4.isNode)(z))J.enter(z)}return z}},leave(...X){let Y=X[0],$=(0,gL1.getEnterLeaveForKind)(Z,Y.kind).leave,z;if($)z=$.apply(Z,X);return J.leave(Y),z}}}});var dH=B((aL1)=>{Object.defineProperty(aL1,"__esModule",{value:!0});aL1.isConstValueNode=yo;aL1.isDefinitionNode=t$4;aL1.isExecutableDefinitionNode=lL1;aL1.isSelectionNode=e$4;aL1.isTypeDefinitionNode=iL1;aL1.isTypeExtensionNode=sL1;aL1.isTypeNode=Jz4;aL1.isTypeSystemDefinitionNode=nL1;aL1.isTypeSystemExtensionNode=oL1;aL1.isValueNode=pL1;var a6=o6();function t$4(J){return lL1(J)||nL1(J)||oL1(J)}function lL1(J){return J.kind===a6.Kind.OPERATION_DEFINITION||J.kind===a6.Kind.FRAGMENT_DEFINITION}function e$4(J){return J.kind===a6.Kind.FIELD||J.kind===a6.Kind.FRAGMENT_SPREAD||J.kind===a6.Kind.INLINE_FRAGMENT}function pL1(J){return J.kind===a6.Kind.VARIABLE||J.kind===a6.Kind.INT||J.kind===a6.Kind.FLOAT||J.kind===a6.Kind.STRING||J.kind===a6.Kind.BOOLEAN||J.kind===a6.Kind.NULL||J.kind===a6.Kind.ENUM||J.kind===a6.Kind.LIST||J.kind===a6.Kind.OBJECT}function yo(J){return pL1(J)&&(J.kind===a6.Kind.LIST?J.values.some(yo):J.kind===a6.Kind.OBJECT?J.fields.some((Z)=>yo(Z.value)):J.kind!==a6.Kind.VARIABLE)}function Jz4(J){return J.kind===a6.Kind.NAMED_TYPE||J.kind===a6.Kind.LIST_TYPE||J.kind===a6.Kind.NON_NULL_TYPE}function nL1(J){return J.kind===a6.Kind.SCHEMA_DEFINITION||iL1(J)||J.kind===a6.Kind.DIRECTIVE_DEFINITION}function iL1(J){return J.kind===a6.Kind.SCALAR_TYPE_DEFINITION||J.kind===a6.Kind.OBJECT_TYPE_DEFINITION||J.kind===a6.Kind.INTERFACE_TYPE_DEFINITION||J.kind===a6.Kind.UNION_TYPE_DEFINITION||J.kind===a6.Kind.ENUM_TYPE_DEFINITION||J.kind===a6.Kind.INPUT_OBJECT_TYPE_DEFINITION}function oL1(J){return J.kind===a6.Kind.SCHEMA_EXTENSION||sL1(J)}function sL1(J){return J.kind===a6.Kind.SCALAR_TYPE_EXTENSION||J.kind===a6.Kind.OBJECT_TYPE_EXTENSION||J.kind===a6.Kind.INTERFACE_TYPE_EXTENSION||J.kind===a6.Kind.UNION_TYPE_EXTENSION||J.kind===a6.Kind.ENUM_TYPE_EXTENSION||J.kind===a6.Kind.INPUT_OBJECT_TYPE_EXTENSION}});var vo=B((tL1)=>{Object.defineProperty(tL1,"__esModule",{value:!0});tL1.ExecutableDefinitionsRule=Fz4;var Bz4=O0(),rL1=o6(),Hz4=dH();function Fz4(J){return{Document(Z){for(let X of Z.definitions)if(!(0,Hz4.isExecutableDefinitionNode)(X)){let Y=X.kind===rL1.Kind.SCHEMA_DEFINITION||X.kind===rL1.Kind.SCHEMA_EXTENSION?"schema":'"'+X.name.value+'"';J.reportError(new Bz4.GraphQLError(`The ${Y} definition is not executable.`,{nodes:X}))}return!1}}}});var xo=B((JC1)=>{Object.defineProperty(JC1,"__esModule",{value:!0});JC1.FieldsOnCorrectTypeRule=Iz4;var eL1=xK(),Oz4=lM(),Dz4=dK(),Vz4=O0(),WN=s6();function Iz4(J){return{Field(Z){let X=J.getParentType();if(X){if(!J.getFieldDef()){let $=J.getSchema(),z=Z.name.value,W=(0,eL1.didYouMean)("to use an inline fragment on",wz4($,X,z));if(W==="")W=(0,eL1.didYouMean)(Az4(X,z));J.reportError(new Vz4.GraphQLError(`Cannot query field "${z}" on type "${X.name}".`+W,{nodes:Z}))}}}}}function wz4(J,Z,X){if(!(0,WN.isAbstractType)(Z))return[];let Y=new Set,$=Object.create(null);for(let W of J.getPossibleTypes(Z)){if(!W.getFields()[X])continue;Y.add(W),$[W.name]=1;for(let Q of W.getInterfaces()){var z;if(!Q.getFields()[X])continue;Y.add(Q),$[Q.name]=((z=$[Q.name])!==null&&z!==void 0?z:0)+1}}return[...Y].sort((W,Q)=>{let G=$[Q.name]-$[W.name];if(G!==0)return G;if((0,WN.isInterfaceType)(W)&&J.isSubType(W,Q))return-1;if((0,WN.isInterfaceType)(Q)&&J.isSubType(Q,W))return 1;return(0,Oz4.naturalCompare)(W.name,Q.name)}).map((W)=>W.name)}function Az4(J,Z){if((0,WN.isObjectType)(J)||(0,WN.isInterfaceType)(J)){let X=Object.keys(J.getFields());return(0,Dz4.suggestionList)(Z,X)}return[]}});var go=B((zC1)=>{Object.defineProperty(zC1,"__esModule",{value:!0});zC1.FragmentsOnCompositeTypesRule=Nz4;var ZC1=O0(),XC1=UJ(),YC1=s6(),$C1=V$();function Nz4(J){return{InlineFragment(Z){let X=Z.typeCondition;if(X){let Y=(0,$C1.typeFromAST)(J.getSchema(),X);if(Y&&!(0,YC1.isCompositeType)(Y)){let $=(0,XC1.print)(X);J.reportError(new ZC1.GraphQLError(`Fragment cannot condition on non composite type "${$}".`,{nodes:X}))}}},FragmentDefinition(Z){let X=(0,$C1.typeFromAST)(J.getSchema(),Z.typeCondition);if(X&&!(0,YC1.isCompositeType)(X)){let Y=(0,XC1.print)(Z.typeCondition);J.reportError(new ZC1.GraphQLError(`Fragment "${Z.name.value}" cannot condition on non composite type "${Y}".`,{nodes:Z.typeCondition}))}}}}});var uo=B((qC1)=>{Object.defineProperty(qC1,"__esModule",{value:!0});qC1.KnownArgumentNamesOnDirectivesRule=KC1;qC1.KnownArgumentNamesRule=jz4;var WC1=xK(),QC1=dK(),GC1=O0(),Lz4=o6(),Cz4=h7();function jz4(J){return{...KC1(J),Argument(Z){let X=J.getArgument(),Y=J.getFieldDef(),$=J.getParentType();if(!X&&Y&&$){let z=Z.name.value,W=Y.args.map((G)=>G.name),Q=(0,QC1.suggestionList)(z,W);J.reportError(new GC1.GraphQLError(`Unknown argument "${z}" on field "${$.name}.${Y.name}".`+(0,WC1.didYouMean)(Q),{nodes:Z}))}}}}function KC1(J){let Z=Object.create(null),X=J.getSchema(),Y=X?X.getDirectives():Cz4.specifiedDirectives;for(let W of Y)Z[W.name]=W.args.map((Q)=>Q.name);let $=J.getDocument().definitions;for(let W of $)if(W.kind===Lz4.Kind.DIRECTIVE_DEFINITION){var z;let Q=(z=W.arguments)!==null&&z!==void 0?z:[];Z[W.name.value]=Q.map((G)=>G.name.value)}return{Directive(W){let Q=W.name.value,G=Z[Q];if(W.arguments&&G)for(let K of W.arguments){let q=K.name.value;if(!G.includes(q)){let H=(0,QC1.suggestionList)(q,G);J.reportError(new GC1.GraphQLError(`Unknown argument "${q}" on directive "@${Q}".`+(0,WC1.didYouMean)(H),{nodes:K}))}}return!1}}}});var lo=B((HC1)=>{Object.defineProperty(HC1,"__esModule",{value:!0});HC1.KnownDirectivesRule=fz4;var Sz4=M4(),mo=S9(),BC1=O0(),co=F$(),S5=OV(),B8=o6(),Tz4=h7();function fz4(J){let Z=Object.create(null),X=J.getSchema(),Y=X?X.getDirectives():Tz4.specifiedDirectives;for(let z of Y)Z[z.name]=z.locations;let $=J.getDocument().definitions;for(let z of $)if(z.kind===B8.Kind.DIRECTIVE_DEFINITION)Z[z.name.value]=z.locations.map((W)=>W.value);return{Directive(z,W,Q,G,K){let q=z.name.value,H=Z[q];if(!H){J.reportError(new BC1.GraphQLError(`Unknown directive "@${q}".`,{nodes:z}));return}let F=kz4(K);if(F&&!H.includes(F))J.reportError(new BC1.GraphQLError(`Directive "@${q}" may not be used on ${F}.`,{nodes:z}))}}}function kz4(J){let Z=J[J.length-1];switch("kind"in Z||(0,mo.invariant)(!1),Z.kind){case B8.Kind.OPERATION_DEFINITION:return bz4(Z.operation);case B8.Kind.FIELD:return S5.DirectiveLocation.FIELD;case B8.Kind.FRAGMENT_SPREAD:return S5.DirectiveLocation.FRAGMENT_SPREAD;case B8.Kind.INLINE_FRAGMENT:return S5.DirectiveLocation.INLINE_FRAGMENT;case B8.Kind.FRAGMENT_DEFINITION:return S5.DirectiveLocation.FRAGMENT_DEFINITION;case B8.Kind.VARIABLE_DEFINITION:return S5.DirectiveLocation.VARIABLE_DEFINITION;case B8.Kind.SCHEMA_DEFINITION:case B8.Kind.SCHEMA_EXTENSION:return S5.DirectiveLocation.SCHEMA;case B8.Kind.SCALAR_TYPE_DEFINITION:case B8.Kind.SCALAR_TYPE_EXTENSION:return S5.DirectiveLocation.SCALAR;case B8.Kind.OBJECT_TYPE_DEFINITION:case B8.Kind.OBJECT_TYPE_EXTENSION:return S5.DirectiveLocation.OBJECT;case B8.Kind.FIELD_DEFINITION:return S5.DirectiveLocation.FIELD_DEFINITION;case B8.Kind.INTERFACE_TYPE_DEFINITION:case B8.Kind.INTERFACE_TYPE_EXTENSION:return S5.DirectiveLocation.INTERFACE;case B8.Kind.UNION_TYPE_DEFINITION:case B8.Kind.UNION_TYPE_EXTENSION:return S5.DirectiveLocation.UNION;case B8.Kind.ENUM_TYPE_DEFINITION:case B8.Kind.ENUM_TYPE_EXTENSION:return S5.DirectiveLocation.ENUM;case B8.Kind.ENUM_VALUE_DEFINITION:return S5.DirectiveLocation.ENUM_VALUE;case B8.Kind.INPUT_OBJECT_TYPE_DEFINITION:case B8.Kind.INPUT_OBJECT_TYPE_EXTENSION:return S5.DirectiveLocation.INPUT_OBJECT;case B8.Kind.INPUT_VALUE_DEFINITION:{let X=J[J.length-3];return"kind"in X||(0,mo.invariant)(!1),X.kind===B8.Kind.INPUT_OBJECT_TYPE_DEFINITION?S5.DirectiveLocation.INPUT_FIELD_DEFINITION:S5.DirectiveLocation.ARGUMENT_DEFINITION}default:(0,mo.invariant)(!1,"Unexpected kind: "+(0,Sz4.inspect)(Z.kind))}}function bz4(J){switch(J){case co.OperationTypeNode.QUERY:return S5.DirectiveLocation.QUERY;case co.OperationTypeNode.MUTATION:return S5.DirectiveLocation.MUTATION;case co.OperationTypeNode.SUBSCRIPTION:return S5.DirectiveLocation.SUBSCRIPTION}}});var po=B((FC1)=>{Object.defineProperty(FC1,"__esModule",{value:!0});FC1.KnownFragmentNamesRule=yz4;var _z4=O0();function yz4(J){return{FragmentSpread(Z){let X=Z.name.value;if(!J.getFragment(X))J.reportError(new _z4.GraphQLError(`Unknown fragment "${X}".`,{nodes:Z.name}))}}}});var io=B((OC1)=>{Object.defineProperty(OC1,"__esModule",{value:!0});OC1.KnownTypeNamesRule=cz4;var xz4=xK(),gz4=dK(),dz4=O0(),no=dH(),uz4=eJ(),mz4=D$();function cz4(J){let Z=J.getSchema(),X=Z?Z.getTypeMap():Object.create(null),Y=Object.create(null);for(let z of J.getDocument().definitions)if((0,no.isTypeDefinitionNode)(z))Y[z.name.value]=!0;let $=[...Object.keys(X),...Object.keys(Y)];return{NamedType(z,W,Q,G,K){let q=z.name.value;if(!X[q]&&!Y[q]){var H;let F=(H=K[2])!==null&&H!==void 0?H:Q,U=F!=null&&lz4(F);if(U&&UC1.includes(q))return;let D=(0,gz4.suggestionList)(q,U?UC1.concat($):$);J.reportError(new dz4.GraphQLError(`Unknown type "${q}".`+(0,xz4.didYouMean)(D),{nodes:z}))}}}}var UC1=[...mz4.specifiedScalarTypes,...uz4.introspectionTypes].map((J)=>J.name);function lz4(J){return"kind"in J&&((0,no.isTypeSystemDefinitionNode)(J)||(0,no.isTypeSystemExtensionNode)(J))}});var oo=B((DC1)=>{Object.defineProperty(DC1,"__esModule",{value:!0});DC1.LoneAnonymousOperationRule=oz4;var nz4=O0(),iz4=o6();function oz4(J){let Z=0;return{Document(X){Z=X.definitions.filter((Y)=>Y.kind===iz4.Kind.OPERATION_DEFINITION).length},OperationDefinition(X){if(!X.name&&Z>1)J.reportError(new nz4.GraphQLError("This anonymous operation must be the only defined operation.",{nodes:X}))}}}});var so=B((IC1)=>{Object.defineProperty(IC1,"__esModule",{value:!0});IC1.LoneSchemaDefinitionRule=az4;var VC1=O0();function az4(J){var Z,X,Y;let $=J.getSchema(),z=(Z=(X=(Y=$===null||$===void 0?void 0:$.astNode)!==null&&Y!==void 0?Y:$===null||$===void 0?void 0:$.getQueryType())!==null&&X!==void 0?X:$===null||$===void 0?void 0:$.getMutationType())!==null&&Z!==void 0?Z:$===null||$===void 0?void 0:$.getSubscriptionType(),W=0;return{SchemaDefinition(Q){if(z){J.reportError(new VC1.GraphQLError("Cannot define a new schema within a schema extension.",{nodes:Q}));return}if(W>0)J.reportError(new VC1.GraphQLError("Must provide only one schema definition.",{nodes:Q}));++W}}}});var ao=B((AC1)=>{Object.defineProperty(AC1,"__esModule",{value:!0});AC1.MaxIntrospectionDepthRule=JW4;var tz4=O0(),wC1=o6(),ez4=3;function JW4(J){function Z(X,Y=Object.create(null),$=0){if(X.kind===wC1.Kind.FRAGMENT_SPREAD){let z=X.name.value;if(Y[z]===!0)return!1;let W=J.getFragment(z);if(!W)return!1;try{return Y[z]=!0,Z(W,Y,$)}finally{Y[z]=void 0}}if(X.kind===wC1.Kind.FIELD&&(X.name.value==="fields"||X.name.value==="interfaces"||X.name.value==="possibleTypes"||X.name.value==="inputFields")){if($++,$>=ez4)return!0}if("selectionSet"in X&&X.selectionSet){for(let z of X.selectionSet.selections)if(Z(z,Y,$))return!0}return!1}return{Field(X){if(X.name.value==="__schema"||X.name.value==="__type"){if(Z(X))return J.reportError(new tz4.GraphQLError("Maximum introspection depth exceeded",{nodes:[X]})),!1}}}}});var ro=B((MC1)=>{Object.defineProperty(MC1,"__esModule",{value:!0});MC1.NoFragmentCyclesRule=YW4;var XW4=O0();function YW4(J){let Z=Object.create(null),X=[],Y=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(z){return $(z),!1}};function $(z){if(Z[z.name.value])return;let W=z.name.value;Z[W]=!0;let Q=J.getFragmentSpreads(z.selectionSet);if(Q.length===0)return;Y[W]=X.length;for(let G of Q){let K=G.name.value,q=Y[K];if(X.push(G),q===void 0){let H=J.getFragment(K);if(H)$(H)}else{let H=X.slice(q),F=H.slice(0,-1).map((U)=>'"'+U.name.value+'"').join(", ");J.reportError(new XW4.GraphQLError(`Cannot spread fragment "${K}" within itself`+(F!==""?` via ${F}.`:"."),{nodes:H}))}X.pop()}Y[W]=void 0}}});var to=B((NC1)=>{Object.defineProperty(NC1,"__esModule",{value:!0});NC1.NoUndefinedVariablesRule=WW4;var zW4=O0();function WW4(J){let Z=Object.create(null);return{OperationDefinition:{enter(){Z=Object.create(null)},leave(X){let Y=J.getRecursiveVariableUsages(X);for(let{node:$}of Y){let z=$.name.value;if(Z[z]!==!0)J.reportError(new zW4.GraphQLError(X.name?`Variable "$${z}" is not defined by operation "${X.name.value}".`:`Variable "$${z}" is not defined.`,{nodes:[$,X]}))}}},VariableDefinition(X){Z[X.variable.name.value]=!0}}}});var eo=B((PC1)=>{Object.defineProperty(PC1,"__esModule",{value:!0});PC1.NoUnusedFragmentsRule=KW4;var GW4=O0();function KW4(J){let Z=[],X=[];return{OperationDefinition(Y){return Z.push(Y),!1},FragmentDefinition(Y){return X.push(Y),!1},Document:{leave(){let Y=Object.create(null);for(let $ of Z)for(let z of J.getRecursivelyReferencedFragments($))Y[z.name.value]=!0;for(let $ of X){let z=$.name.value;if(Y[z]!==!0)J.reportError(new GW4.GraphQLError(`Fragment "${z}" is never used.`,{nodes:$}))}}}}}});var Js=B((LC1)=>{Object.defineProperty(LC1,"__esModule",{value:!0});LC1.NoUnusedVariablesRule=HW4;var BW4=O0();function HW4(J){let Z=[];return{OperationDefinition:{enter(){Z=[]},leave(X){let Y=Object.create(null),$=J.getRecursiveVariableUsages(X);for(let{node:z}of $)Y[z.name.value]=!0;for(let z of Z){let W=z.variable.name.value;if(Y[W]!==!0)J.reportError(new BW4.GraphQLError(X.name?`Variable "$${W}" is never used in operation "${X.name.value}".`:`Variable "$${W}" is never used.`,{nodes:z}))}}},VariableDefinition(X){Z.push(X)}}}});var Xs=B((CC1)=>{Object.defineProperty(CC1,"__esModule",{value:!0});CC1.sortValueNode=Zs;var UW4=lM(),qQ=o6();function Zs(J){switch(J.kind){case qQ.Kind.OBJECT:return{...J,fields:OW4(J.fields)};case qQ.Kind.LIST:return{...J,values:J.values.map(Zs)};case qQ.Kind.INT:case qQ.Kind.FLOAT:case qQ.Kind.STRING:case qQ.Kind.BOOLEAN:case qQ.Kind.NULL:case qQ.Kind.ENUM:case qQ.Kind.VARIABLE:return J}}function OW4(J){return J.map((Z)=>({...Z,value:Zs(Z.value)})).sort((Z,X)=>(0,UW4.naturalCompare)(Z.name.value,X.name.value))}});var Gs=B((bC1)=>{Object.defineProperty(bC1,"__esModule",{value:!0});bC1.OverlappingFieldsCanBeMergedRule=AW4;var jC1=M4(),VW4=O0(),Ys=o6(),IW4=UJ(),_7=s6(),wW4=Xs(),EC1=V$();function SC1(J){if(Array.isArray(J))return J.map(([Z,X])=>`subfields "${Z}" conflict because `+SC1(X)).join(" and ");return J}function AW4(J){let Z=new Qs,X=new kC1,Y=new Map;return{SelectionSet($){let z=MW4(J,Y,Z,X,J.getParentType(),$);for(let[[W,Q],G,K]of z){let q=SC1(Q);J.reportError(new VW4.GraphQLError(`Fields "${W}" conflict because ${q}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:G.concat(K)}))}}}}function MW4(J,Z,X,Y,$,z){let W=[],[Q,G]=AT(J,Z,$,z);if(PW4(J,W,Z,X,Y,Q),G.length!==0)for(let K=0;K<G.length;K++){IT(J,W,Z,X,Y,!1,Q,G[K]);for(let q=K+1;q<G.length;q++)wT(J,W,Z,X,Y,!1,G[K],G[q])}return W}function IT(J,Z,X,Y,$,z,W,Q){if(Y.has(W,Q,z))return;Y.add(W,Q,z);let G=J.getFragment(Q);if(!G)return;let[K,q]=zs(J,X,G);if(W===K)return;Ws(J,Z,X,Y,$,z,W,K);for(let H of q)IT(J,Z,X,Y,$,z,W,H)}function wT(J,Z,X,Y,$,z,W,Q){if(W===Q)return;if($.has(W,Q,z))return;$.add(W,Q,z);let G=J.getFragment(W),K=J.getFragment(Q);if(!G||!K)return;let[q,H]=zs(J,X,G),[F,U]=zs(J,X,K);Ws(J,Z,X,Y,$,z,q,F);for(let D of U)wT(J,Z,X,Y,$,z,W,D);for(let D of H)wT(J,Z,X,Y,$,z,D,Q)}function NW4(J,Z,X,Y,$,z,W,Q,G){let K=[],[q,H]=AT(J,Z,z,W),[F,U]=AT(J,Z,Q,G);Ws(J,K,Z,X,Y,$,q,F);for(let D of U)IT(J,K,Z,X,Y,$,q,D);for(let D of H)IT(J,K,Z,X,Y,$,F,D);for(let D of H)for(let V of U)wT(J,K,Z,X,Y,$,D,V);return K}function PW4(J,Z,X,Y,$,z){for(let[W,Q]of Object.entries(z))if(Q.length>1)for(let G=0;G<Q.length;G++)for(let K=G+1;K<Q.length;K++){let q=TC1(J,X,Y,$,!1,W,Q[G],Q[K]);if(q)Z.push(q)}}function Ws(J,Z,X,Y,$,z,W,Q){for(let[G,K]of Object.entries(W)){let q=Q[G];if(q)for(let H of K)for(let F of q){let U=TC1(J,X,Y,$,z,G,H,F);if(U)Z.push(U)}}}function TC1(J,Z,X,Y,$,z,W,Q){let[G,K,q]=W,[H,F,U]=Q,D=$||G!==H&&(0,_7.isObjectType)(G)&&(0,_7.isObjectType)(H);if(!D){let R=K.name.value,f=F.name.value;if(R!==f)return[[z,`"${R}" and "${f}" are different fields`],[K],[F]];if(!LW4(K,F))return[[z,"they have differing arguments"],[K],[F]]}let V=q===null||q===void 0?void 0:q.type,w=U===null||U===void 0?void 0:U.type;if(V&&w&&$s(V,w))return[[z,`they return conflicting types "${(0,jC1.inspect)(V)}" and "${(0,jC1.inspect)(w)}"`],[K],[F]];let M=K.selectionSet,P=F.selectionSet;if(M&&P){let R=NW4(J,Z,X,Y,D,(0,_7.getNamedType)(V),M,(0,_7.getNamedType)(w),P);return CW4(R,z,K,F)}}function LW4(J,Z){let X=J.arguments,Y=Z.arguments;if(X===void 0||X.length===0)return Y===void 0||Y.length===0;if(Y===void 0||Y.length===0)return!1;if(X.length!==Y.length)return!1;let $=new Map(Y.map(({name:z,value:W})=>[z.value,W]));return X.every((z)=>{let W=z.value,Q=$.get(z.name.value);if(Q===void 0)return!1;return RC1(W)===RC1(Q)})}function RC1(J){return(0,IW4.print)((0,wW4.sortValueNode)(J))}function $s(J,Z){if((0,_7.isListType)(J))return(0,_7.isListType)(Z)?$s(J.ofType,Z.ofType):!0;if((0,_7.isListType)(Z))return!0;if((0,_7.isNonNullType)(J))return(0,_7.isNonNullType)(Z)?$s(J.ofType,Z.ofType):!0;if((0,_7.isNonNullType)(Z))return!0;if((0,_7.isLeafType)(J)||(0,_7.isLeafType)(Z))return J!==Z;return!1}function AT(J,Z,X,Y){let $=Z.get(Y);if($)return $;let z=Object.create(null),W=Object.create(null);fC1(J,X,Y,z,W);let Q=[z,Object.keys(W)];return Z.set(Y,Q),Q}function zs(J,Z,X){let Y=Z.get(X.selectionSet);if(Y)return Y;let $=(0,EC1.typeFromAST)(J.getSchema(),X.typeCondition);return AT(J,Z,$,X.selectionSet)}function fC1(J,Z,X,Y,$){for(let z of X.selections)switch(z.kind){case Ys.Kind.FIELD:{let W=z.name.value,Q;if((0,_7.isObjectType)(Z)||(0,_7.isInterfaceType)(Z))Q=Z.getFields()[W];let G=z.alias?z.alias.value:W;if(!Y[G])Y[G]=[];Y[G].push([Z,z,Q]);break}case Ys.Kind.FRAGMENT_SPREAD:$[z.name.value]=!0;break;case Ys.Kind.INLINE_FRAGMENT:{let W=z.typeCondition,Q=W?(0,EC1.typeFromAST)(J.getSchema(),W):Z;fC1(J,Q,z.selectionSet,Y,$);break}}}function CW4(J,Z,X,Y){if(J.length>0)return[[Z,J.map(([$])=>$)],[X,...J.map(([,$])=>$).flat()],[Y,...J.map(([,,$])=>$).flat()]]}class Qs{constructor(){this._data=new Map}has(J,Z,X){var Y;let $=(Y=this._data.get(J))===null||Y===void 0?void 0:Y.get(Z);if($===void 0)return!1;return X?!0:X===$}add(J,Z,X){let Y=this._data.get(J);if(Y===void 0)this._data.set(J,new Map([[Z,X]]));else Y.set(Z,X)}}class kC1{constructor(){this._orderedPairSet=new Qs}has(J,Z,X){return J<Z?this._orderedPairSet.has(J,Z,X):this._orderedPairSet.has(Z,J,X)}add(J,Z,X){if(J<Z)this._orderedPairSet.add(J,Z,X);else this._orderedPairSet.add(Z,J,X)}}});var qs=B((yC1)=>{Object.defineProperty(yC1,"__esModule",{value:!0});yC1.PossibleFragmentSpreadsRule=EW4;var MT=M4(),hC1=O0(),Ks=s6(),_C1=sM(),RW4=V$();function EW4(J){return{InlineFragment(Z){let X=J.getType(),Y=J.getParentType();if((0,Ks.isCompositeType)(X)&&(0,Ks.isCompositeType)(Y)&&!(0,_C1.doTypesOverlap)(J.getSchema(),X,Y)){let $=(0,MT.inspect)(Y),z=(0,MT.inspect)(X);J.reportError(new hC1.GraphQLError(`Fragment cannot be spread here as objects of type "${$}" can never be of type "${z}".`,{nodes:Z}))}},FragmentSpread(Z){let X=Z.name.value,Y=SW4(J,X),$=J.getParentType();if(Y&&$&&!(0,_C1.doTypesOverlap)(J.getSchema(),Y,$)){let z=(0,MT.inspect)($),W=(0,MT.inspect)(Y);J.reportError(new hC1.GraphQLError(`Fragment "${X}" cannot be spread here as objects of type "${z}" can never be of type "${W}".`,{nodes:Z}))}}}}function SW4(J,Z){let X=J.getFragment(Z);if(X){let Y=(0,RW4.typeFromAST)(J.getSchema(),X.typeCondition);if((0,Ks.isCompositeType)(Y))return Y}}});var Bs=B((dC1)=>{Object.defineProperty(dC1,"__esModule",{value:!0});dC1.PossibleTypeExtensionsRule=hW4;var fW4=xK(),xC1=M4(),gC1=S9(),kW4=dK(),vC1=O0(),L8=o6(),bW4=dH(),PV=s6();function hW4(J){let Z=J.getSchema(),X=Object.create(null);for(let $ of J.getDocument().definitions)if((0,bW4.isTypeDefinitionNode)($))X[$.name.value]=$;return{ScalarTypeExtension:Y,ObjectTypeExtension:Y,InterfaceTypeExtension:Y,UnionTypeExtension:Y,EnumTypeExtension:Y,InputObjectTypeExtension:Y};function Y($){let z=$.name.value,W=X[z],Q=Z===null||Z===void 0?void 0:Z.getType(z),G;if(W)G=_W4[W.kind];else if(Q)G=yW4(Q);if(G){if(G!==$.kind){let K=vW4($.kind);J.reportError(new vC1.GraphQLError(`Cannot extend non-${K} type "${z}".`,{nodes:W?[W,$]:$}))}}else{let K=Object.keys({...X,...Z===null||Z===void 0?void 0:Z.getTypeMap()}),q=(0,kW4.suggestionList)(z,K);J.reportError(new vC1.GraphQLError(`Cannot extend type "${z}" because it is not defined.`+(0,fW4.didYouMean)(q),{nodes:$.name}))}}}var _W4={[L8.Kind.SCALAR_TYPE_DEFINITION]:L8.Kind.SCALAR_TYPE_EXTENSION,[L8.Kind.OBJECT_TYPE_DEFINITION]:L8.Kind.OBJECT_TYPE_EXTENSION,[L8.Kind.INTERFACE_TYPE_DEFINITION]:L8.Kind.INTERFACE_TYPE_EXTENSION,[L8.Kind.UNION_TYPE_DEFINITION]:L8.Kind.UNION_TYPE_EXTENSION,[L8.Kind.ENUM_TYPE_DEFINITION]:L8.Kind.ENUM_TYPE_EXTENSION,[L8.Kind.INPUT_OBJECT_TYPE_DEFINITION]:L8.Kind.INPUT_OBJECT_TYPE_EXTENSION};function yW4(J){if((0,PV.isScalarType)(J))return L8.Kind.SCALAR_TYPE_EXTENSION;if((0,PV.isObjectType)(J))return L8.Kind.OBJECT_TYPE_EXTENSION;if((0,PV.isInterfaceType)(J))return L8.Kind.INTERFACE_TYPE_EXTENSION;if((0,PV.isUnionType)(J))return L8.Kind.UNION_TYPE_EXTENSION;if((0,PV.isEnumType)(J))return L8.Kind.ENUM_TYPE_EXTENSION;if((0,PV.isInputObjectType)(J))return L8.Kind.INPUT_OBJECT_TYPE_EXTENSION;(0,gC1.invariant)(!1,"Unexpected type: "+(0,xC1.inspect)(J))}function vW4(J){switch(J){case L8.Kind.SCALAR_TYPE_EXTENSION:return"scalar";case L8.Kind.OBJECT_TYPE_EXTENSION:return"object";case L8.Kind.INTERFACE_TYPE_EXTENSION:return"interface";case L8.Kind.UNION_TYPE_EXTENSION:return"union";case L8.Kind.ENUM_TYPE_EXTENSION:return"enum";case L8.Kind.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:(0,gC1.invariant)(!1,"Unexpected kind: "+(0,xC1.inspect)(J))}}});var Fs=B((nC1)=>{Object.defineProperty(nC1,"__esModule",{value:!0});nC1.ProvidedRequiredArgumentsOnDirectivesRule=pC1;nC1.ProvidedRequiredArgumentsRule=uW4;var mC1=M4(),uC1=gK(),cC1=O0(),lC1=o6(),gW4=UJ(),Hs=s6(),dW4=h7();function uW4(J){return{...pC1(J),Field:{leave(Z){var X;let Y=J.getFieldDef();if(!Y)return!1;let $=new Set((X=Z.arguments)===null||X===void 0?void 0:X.map((z)=>z.name.value));for(let z of Y.args)if(!$.has(z.name)&&(0,Hs.isRequiredArgument)(z)){let W=(0,mC1.inspect)(z.type);J.reportError(new cC1.GraphQLError(`Field "${Y.name}" argument "${z.name}" of type "${W}" is required, but it was not provided.`,{nodes:Z}))}}}}}function pC1(J){var Z;let X=Object.create(null),Y=J.getSchema(),$=(Z=Y===null||Y===void 0?void 0:Y.getDirectives())!==null&&Z!==void 0?Z:dW4.specifiedDirectives;for(let Q of $)X[Q.name]=(0,uC1.keyMap)(Q.args.filter(Hs.isRequiredArgument),(G)=>G.name);let z=J.getDocument().definitions;for(let Q of z)if(Q.kind===lC1.Kind.DIRECTIVE_DEFINITION){var W;let G=(W=Q.arguments)!==null&&W!==void 0?W:[];X[Q.name.value]=(0,uC1.keyMap)(G.filter(mW4),(K)=>K.name.value)}return{Directive:{leave(Q){let G=Q.name.value,K=X[G];if(K){var q;let H=(q=Q.arguments)!==null&&q!==void 0?q:[],F=new Set(H.map((U)=>U.name.value));for(let[U,D]of Object.entries(K))if(!F.has(U)){let V=(0,Hs.isType)(D.type)?(0,mC1.inspect)(D.type):(0,gW4.print)(D.type);J.reportError(new cC1.GraphQLError(`Directive "@${G}" argument "${U}" of type "${V}" is required, but it was not provided.`,{nodes:Q}))}}}}}}function mW4(J){return J.type.kind===lC1.Kind.NON_NULL_TYPE&&J.defaultValue==null}});var Ds=B((oC1)=>{Object.defineProperty(oC1,"__esModule",{value:!0});oC1.ScalarLeafsRule=pW4;var Us=M4(),Os=O0(),iC1=s6();function pW4(J){return{Field(Z){let X=J.getType(),Y=Z.selectionSet;if(X){if((0,iC1.isLeafType)((0,iC1.getNamedType)(X))){if(Y){let $=Z.name.value,z=(0,Us.inspect)(X);J.reportError(new Os.GraphQLError(`Field "${$}" must not have a selection since type "${z}" has no subfields.`,{nodes:Y}))}}else if(!Y){let $=Z.name.value,z=(0,Us.inspect)(X);J.reportError(new Os.GraphQLError(`Field "${$}" of type "${z}" must have a selection of subfields. Did you mean "${$} { ... }"?`,{nodes:Z}))}else if(Y.selections.length===0){let $=Z.name.value,z=(0,Us.inspect)(X);J.reportError(new Os.GraphQLError(`Field "${$}" of type "${z}" must have at least one field selected.`,{nodes:Z}))}}}}}});var Vs=B((sC1)=>{Object.defineProperty(sC1,"__esModule",{value:!0});sC1.printPathArray=iW4;function iW4(J){return J.map((Z)=>typeof Z==="number"?"["+Z.toString()+"]":"."+Z).join("")}});var QN=B((aC1)=>{Object.defineProperty(aC1,"__esModule",{value:!0});aC1.addPath=sW4;aC1.pathToArray=aW4;function sW4(J,Z,X){return{prev:J,key:Z,typename:X}}function aW4(J){let Z=[],X=J;while(X)Z.push(X.key),X=X.prev;return Z.reverse()}});var Is=B((rC1)=>{Object.defineProperty(rC1,"__esModule",{value:!0});rC1.coerceInputValue=zQ4;var eW4=xK(),NT=M4(),JQ4=S9(),ZQ4=OT(),XQ4=H$(),zY=QN(),YQ4=Vs(),$Q4=dK(),BQ=O0(),GN=s6();function zQ4(J,Z,X=WQ4){return KN(J,Z,X,void 0)}function WQ4(J,Z,X){let Y="Invalid value "+(0,NT.inspect)(Z);if(J.length>0)Y+=` at "value${(0,YQ4.printPathArray)(J)}"`;throw X.message=Y+": "+X.message,X}function KN(J,Z,X,Y){if((0,GN.isNonNullType)(Z)){if(J!=null)return KN(J,Z.ofType,X,Y);X((0,zY.pathToArray)(Y),J,new BQ.GraphQLError(`Expected non-nullable type "${(0,NT.inspect)(Z)}" not to be null.`));return}if(J==null)return null;if((0,GN.isListType)(Z)){let $=Z.ofType;if((0,ZQ4.isIterableObject)(J))return Array.from(J,(z,W)=>{let Q=(0,zY.addPath)(Y,W,void 0);return KN(z,$,X,Q)});return[KN(J,$,X,Y)]}if((0,GN.isInputObjectType)(Z)){if(!(0,XQ4.isObjectLike)(J)||Array.isArray(J)){X((0,zY.pathToArray)(Y),J,new BQ.GraphQLError(`Expected type "${Z.name}" to be an object.`));return}let $={},z=Z.getFields();for(let W of Object.values(z)){let Q=J[W.name];if(Q===void 0){if(W.defaultValue!==void 0)$[W.name]=W.defaultValue;else if((0,GN.isNonNullType)(W.type)){let G=(0,NT.inspect)(W.type);X((0,zY.pathToArray)(Y),J,new BQ.GraphQLError(`Field "${W.name}" of required type "${G}" was not provided.`))}continue}$[W.name]=KN(Q,W.type,X,(0,zY.addPath)(Y,W.name,Z.name))}for(let W of Object.keys(J))if(!z[W]){let Q=(0,$Q4.suggestionList)(W,Object.keys(Z.getFields()));X((0,zY.pathToArray)(Y),J,new BQ.GraphQLError(`Field "${W}" is not defined by type "${Z.name}".`+(0,eW4.didYouMean)(Q)))}if(Z.isOneOf){let W=Object.keys($);if(W.length!==1)X((0,zY.pathToArray)(Y),J,new BQ.GraphQLError(`Exactly one key must be specified for OneOf type "${Z.name}".`));let Q=W[0],G=$[Q];if(G===null)X((0,zY.pathToArray)(Y).concat(Q),G,new BQ.GraphQLError(`Field "${Q}" must be non-null.`))}return $}if((0,GN.isLeafType)(Z)){let $;try{$=Z.parseValue(J)}catch(z){if(z instanceof BQ.GraphQLError)X((0,zY.pathToArray)(Y),J,z);else X((0,zY.pathToArray)(Y),J,new BQ.GraphQLError(`Expected type "${Z.name}". `+z.message,{originalError:z}));return}if($===void 0)X((0,zY.pathToArray)(Y),J,new BQ.GraphQLError(`Expected type "${Z.name}".`));return $}(0,JQ4.invariant)(!1,"Unexpected input type: "+(0,NT.inspect)(Z))}});var BN=B((eC1)=>{Object.defineProperty(eC1,"__esModule",{value:!0});eC1.valueFromAST=qN;var GQ4=M4(),KQ4=S9(),qQ4=gK(),LV=o6(),uH=s6();function qN(J,Z,X){if(!J)return;if(J.kind===LV.Kind.VARIABLE){let Y=J.name.value;if(X==null||X[Y]===void 0)return;let $=X[Y];if($===null&&(0,uH.isNonNullType)(Z))return;return $}if((0,uH.isNonNullType)(Z)){if(J.kind===LV.Kind.NULL)return;return qN(J,Z.ofType,X)}if(J.kind===LV.Kind.NULL)return null;if((0,uH.isListType)(Z)){let Y=Z.ofType;if(J.kind===LV.Kind.LIST){let z=[];for(let W of J.values)if(tC1(W,X)){if((0,uH.isNonNullType)(Y))return;z.push(null)}else{let Q=qN(W,Y,X);if(Q===void 0)return;z.push(Q)}return z}let $=qN(J,Y,X);if($===void 0)return;return[$]}if((0,uH.isInputObjectType)(Z)){if(J.kind!==LV.Kind.OBJECT)return;let Y=Object.create(null),$=(0,qQ4.keyMap)(J.fields,(z)=>z.name.value);for(let z of Object.values(Z.getFields())){let W=$[z.name];if(!W||tC1(W.value,X)){if(z.defaultValue!==void 0)Y[z.name]=z.defaultValue;else if((0,uH.isNonNullType)(z.type))return;continue}let Q=qN(W.value,z.type,X);if(Q===void 0)return;Y[z.name]=Q}if(Z.isOneOf){let z=Object.keys(Y);if(z.length!==1)return;if(Y[z[0]]===null)return}return Y}if((0,uH.isLeafType)(Z)){let Y;try{Y=Z.parseLiteral(J,X)}catch($){return}if(Y===void 0)return;return Y}(0,KQ4.invariant)(!1,"Unexpected input type: "+(0,GQ4.inspect)(Z))}function tC1(J,Z){return J.kind===LV.Kind.VARIABLE&&(Z==null||Z[J.name.value]===void 0)}});var RV=B((z21)=>{Object.defineProperty(z21,"__esModule",{value:!0});z21.getArgumentValues=Y21;z21.getDirectiveValues=IQ4;z21.getVariableValues=DQ4;var CV=M4(),HQ4=gK(),FQ4=Vs(),HQ=O0(),J21=o6(),Z21=UJ(),jV=s6(),UQ4=Is(),OQ4=V$(),X21=BN();function DQ4(J,Z,X,Y){let $=[],z=Y===null||Y===void 0?void 0:Y.maxErrors;try{let W=VQ4(J,Z,X,(Q)=>{if(z!=null&&$.length>=z)throw new HQ.GraphQLError("Too many errors processing variables, error limit reached. Execution aborted.");$.push(Q)});if($.length===0)return{coerced:W}}catch(W){$.push(W)}return{errors:$}}function VQ4(J,Z,X,Y){let $={};for(let z of Z){let W=z.variable.name.value,Q=(0,OQ4.typeFromAST)(J,z.type);if(!(0,jV.isInputType)(Q)){let K=(0,Z21.print)(z.type);Y(new HQ.GraphQLError(`Variable "$${W}" expected value of type "${K}" which cannot be used as an input type.`,{nodes:z.type}));continue}if(!$21(X,W)){if(z.defaultValue)$[W]=(0,X21.valueFromAST)(z.defaultValue,Q);else if((0,jV.isNonNullType)(Q)){let K=(0,CV.inspect)(Q);Y(new HQ.GraphQLError(`Variable "$${W}" of required type "${K}" was not provided.`,{nodes:z}))}continue}let G=X[W];if(G===null&&(0,jV.isNonNullType)(Q)){let K=(0,CV.inspect)(Q);Y(new HQ.GraphQLError(`Variable "$${W}" of non-null type "${K}" must not be null.`,{nodes:z}));continue}$[W]=(0,UQ4.coerceInputValue)(G,Q,(K,q,H)=>{let F=`Variable "$${W}" got invalid value `+(0,CV.inspect)(q);if(K.length>0)F+=` at "${W}${(0,FQ4.printPathArray)(K)}"`;Y(new HQ.GraphQLError(F+"; "+H.message,{nodes:z,originalError:H}))})}return $}function Y21(J,Z,X){var Y;let $={},z=(Y=Z.arguments)!==null&&Y!==void 0?Y:[],W=(0,HQ4.keyMap)(z,(Q)=>Q.name.value);for(let Q of J.args){let{name:G,type:K}=Q,q=W[G];if(!q){if(Q.defaultValue!==void 0)$[G]=Q.defaultValue;else if((0,jV.isNonNullType)(K))throw new HQ.GraphQLError(`Argument "${G}" of required type "${(0,CV.inspect)(K)}" was not provided.`,{nodes:Z});continue}let H=q.value,F=H.kind===J21.Kind.NULL;if(H.kind===J21.Kind.VARIABLE){let D=H.name.value;if(X==null||!$21(X,D)){if(Q.defaultValue!==void 0)$[G]=Q.defaultValue;else if((0,jV.isNonNullType)(K))throw new HQ.GraphQLError(`Argument "${G}" of required type "${(0,CV.inspect)(K)}" was provided the variable "$${D}" which was not provided a runtime value.`,{nodes:H});continue}F=X[D]==null}if(F&&(0,jV.isNonNullType)(K))throw new HQ.GraphQLError(`Argument "${G}" of non-null type "${(0,CV.inspect)(K)}" must not be null.`,{nodes:H});let U=(0,X21.valueFromAST)(H,K,X);if(U===void 0)throw new HQ.GraphQLError(`Argument "${G}" has invalid value ${(0,Z21.print)(H)}.`,{nodes:H});$[G]=U}return $}function IQ4(J,Z,X){var Y;let $=(Y=Z.directives)===null||Y===void 0?void 0:Y.find((z)=>z.name.value===J.name);if($)return Y21(J,$,X)}function $21(J,Z){return Object.prototype.hasOwnProperty.call(J,Z)}});var LT=B((K21)=>{Object.defineProperty(K21,"__esModule",{value:!0});K21.collectFields=LQ4;K21.collectSubfields=CQ4;var ws=o6(),NQ4=s6(),W21=h7(),PQ4=V$(),Q21=RV();function LQ4(J,Z,X,Y,$){let z=new Map;return PT(J,Z,X,Y,$,z,new Set),z}function CQ4(J,Z,X,Y,$){let z=new Map,W=new Set;for(let Q of $)if(Q.selectionSet)PT(J,Z,X,Y,Q.selectionSet,z,W);return z}function PT(J,Z,X,Y,$,z,W){for(let Q of $.selections)switch(Q.kind){case ws.Kind.FIELD:{if(!As(X,Q))continue;let G=jQ4(Q),K=z.get(G);if(K!==void 0)K.push(Q);else z.set(G,[Q]);break}case ws.Kind.INLINE_FRAGMENT:{if(!As(X,Q)||!G21(J,Q,Y))continue;PT(J,Z,X,Y,Q.selectionSet,z,W);break}case ws.Kind.FRAGMENT_SPREAD:{let G=Q.name.value;if(W.has(G)||!As(X,Q))continue;W.add(G);let K=Z[G];if(!K||!G21(J,K,Y))continue;PT(J,Z,X,Y,K.selectionSet,z,W);break}}}function As(J,Z){let X=(0,Q21.getDirectiveValues)(W21.GraphQLSkipDirective,Z,J);if((X===null||X===void 0?void 0:X.if)===!0)return!1;let Y=(0,Q21.getDirectiveValues)(W21.GraphQLIncludeDirective,Z,J);if((Y===null||Y===void 0?void 0:Y.if)===!1)return!1;return!0}function G21(J,Z,X){let Y=Z.typeCondition;if(!Y)return!0;let $=(0,PQ4.typeFromAST)(J,Y);if($===X)return!0;if((0,NQ4.isAbstractType)($))return J.isSubType($,X);return!1}function jQ4(J){return J.alias?J.alias.value:J.name.value}});var Ms=B((B21)=>{Object.defineProperty(B21,"__esModule",{value:!0});B21.SingleFieldSubscriptionsRule=fQ4;var q21=O0(),SQ4=o6(),TQ4=LT();function fQ4(J){return{OperationDefinition(Z){if(Z.operation==="subscription"){let X=J.getSchema(),Y=X.getSubscriptionType();if(Y){let $=Z.name?Z.name.value:null,z=Object.create(null),W=J.getDocument(),Q=Object.create(null);for(let K of W.definitions)if(K.kind===SQ4.Kind.FRAGMENT_DEFINITION)Q[K.name.value]=K;let G=(0,TQ4.collectFields)(X,Q,z,Y,Z.selectionSet);if(G.size>1){let H=[...G.values()].slice(1).flat();J.reportError(new q21.GraphQLError($!=null?`Subscription "${$}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:H}))}for(let K of G.values())if(K[0].name.value.startsWith("__"))J.reportError(new q21.GraphQLError($!=null?`Subscription "${$}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:K}))}}}}}});var CT=B((H21)=>{Object.defineProperty(H21,"__esModule",{value:!0});H21.groupBy=bQ4;function bQ4(J,Z){let X=new Map;for(let Y of J){let $=Z(Y),z=X.get($);if(z===void 0)X.set($,[Y]);else z.push(Y)}return X}});var Ns=B((F21)=>{Object.defineProperty(F21,"__esModule",{value:!0});F21.UniqueArgumentDefinitionNamesRule=vQ4;var _Q4=CT(),yQ4=O0();function vQ4(J){return{DirectiveDefinition(Y){var $;let z=($=Y.arguments)!==null&&$!==void 0?$:[];return X(`@${Y.name.value}`,z)},InterfaceTypeDefinition:Z,InterfaceTypeExtension:Z,ObjectTypeDefinition:Z,ObjectTypeExtension:Z};function Z(Y){var $;let z=Y.name.value,W=($=Y.fields)!==null&&$!==void 0?$:[];for(let G of W){var Q;let K=G.name.value,q=(Q=G.arguments)!==null&&Q!==void 0?Q:[];X(`${z}.${K}`,q)}return!1}function X(Y,$){let z=(0,_Q4.groupBy)($,(W)=>W.name.value);for(let[W,Q]of z)if(Q.length>1)J.reportError(new yQ4.GraphQLError(`Argument "${Y}(${W}:)" can only be defined once.`,{nodes:Q.map((G)=>G.name)}));return!1}}});var Ps=B((U21)=>{Object.defineProperty(U21,"__esModule",{value:!0});U21.UniqueArgumentNamesRule=uQ4;var gQ4=CT(),dQ4=O0();function uQ4(J){return{Field:Z,Directive:Z};function Z(X){var Y;let $=(Y=X.arguments)!==null&&Y!==void 0?Y:[],z=(0,gQ4.groupBy)($,(W)=>W.name.value);for(let[W,Q]of z)if(Q.length>1)J.reportError(new dQ4.GraphQLError(`There can be only one argument named "${W}".`,{nodes:Q.map((G)=>G.name)}))}}});var Ls=B((D21)=>{Object.defineProperty(D21,"__esModule",{value:!0});D21.UniqueDirectiveNamesRule=cQ4;var O21=O0();function cQ4(J){let Z=Object.create(null),X=J.getSchema();return{DirectiveDefinition(Y){let $=Y.name.value;if(X!==null&&X!==void 0&&X.getDirective($)){J.reportError(new O21.GraphQLError(`Directive "@${$}" already exists in the schema. It cannot be redefined.`,{nodes:Y.name}));return}if(Z[$])J.reportError(new O21.GraphQLError(`There can be only one directive named "@${$}".`,{nodes:[Z[$],Y.name]}));else Z[$]=Y.name;return!1}}}});var js=B((I21)=>{Object.defineProperty(I21,"__esModule",{value:!0});I21.UniqueDirectivesPerLocationRule=iQ4;var pQ4=O0(),Cs=o6(),V21=dH(),nQ4=h7();function iQ4(J){let Z=Object.create(null),X=J.getSchema(),Y=X?X.getDirectives():nQ4.specifiedDirectives;for(let Q of Y)Z[Q.name]=!Q.isRepeatable;let $=J.getDocument().definitions;for(let Q of $)if(Q.kind===Cs.Kind.DIRECTIVE_DEFINITION)Z[Q.name.value]=!Q.repeatable;let z=Object.create(null),W=Object.create(null);return{enter(Q){if(!("directives"in Q)||!Q.directives)return;let G;if(Q.kind===Cs.Kind.SCHEMA_DEFINITION||Q.kind===Cs.Kind.SCHEMA_EXTENSION)G=z;else if((0,V21.isTypeDefinitionNode)(Q)||(0,V21.isTypeExtensionNode)(Q)){let K=Q.name.value;if(G=W[K],G===void 0)W[K]=G=Object.create(null)}else G=Object.create(null);for(let K of Q.directives){let q=K.name.value;if(Z[q])if(G[q])J.reportError(new pQ4.GraphQLError(`The directive "@${q}" can only be used once at this location.`,{nodes:[G[q],K]}));else G[q]=K}}}}});var Rs=B((A21)=>{Object.defineProperty(A21,"__esModule",{value:!0});A21.UniqueEnumValueNamesRule=aQ4;var w21=O0(),sQ4=s6();function aQ4(J){let Z=J.getSchema(),X=Z?Z.getTypeMap():Object.create(null),Y=Object.create(null);return{EnumTypeDefinition:$,EnumTypeExtension:$};function $(z){var W;let Q=z.name.value;if(!Y[Q])Y[Q]=Object.create(null);let G=(W=z.values)!==null&&W!==void 0?W:[],K=Y[Q];for(let q of G){let H=q.name.value,F=X[Q];if((0,sQ4.isEnumType)(F)&&F.getValue(H))J.reportError(new w21.GraphQLError(`Enum value "${Q}.${H}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:q.name}));else if(K[H])J.reportError(new w21.GraphQLError(`Enum value "${Q}.${H}" can only be defined once.`,{nodes:[K[H],q.name]}));else K[H]=q.name}return!1}}});var Ss=B((N21)=>{Object.defineProperty(N21,"__esModule",{value:!0});N21.UniqueFieldDefinitionNamesRule=tQ4;var M21=O0(),Es=s6();function tQ4(J){let Z=J.getSchema(),X=Z?Z.getTypeMap():Object.create(null),Y=Object.create(null);return{InputObjectTypeDefinition:$,InputObjectTypeExtension:$,InterfaceTypeDefinition:$,InterfaceTypeExtension:$,ObjectTypeDefinition:$,ObjectTypeExtension:$};function $(z){var W;let Q=z.name.value;if(!Y[Q])Y[Q]=Object.create(null);let G=(W=z.fields)!==null&&W!==void 0?W:[],K=Y[Q];for(let q of G){let H=q.name.value;if(eQ4(X[Q],H))J.reportError(new M21.GraphQLError(`Field "${Q}.${H}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:q.name}));else if(K[H])J.reportError(new M21.GraphQLError(`Field "${Q}.${H}" can only be defined once.`,{nodes:[K[H],q.name]}));else K[H]=q.name}return!1}}function eQ4(J,Z){if((0,Es.isObjectType)(J)||(0,Es.isInterfaceType)(J)||(0,Es.isInputObjectType)(J))return J.getFields()[Z]!=null;return!1}});var Ts=B((P21)=>{Object.defineProperty(P21,"__esModule",{value:!0});P21.UniqueFragmentNamesRule=XG4;var ZG4=O0();function XG4(J){let Z=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(X){let Y=X.name.value;if(Z[Y])J.reportError(new ZG4.GraphQLError(`There can be only one fragment named "${Y}".`,{nodes:[Z[Y],X.name]}));else Z[Y]=X.name;return!1}}}});var fs=B((L21)=>{Object.defineProperty(L21,"__esModule",{value:!0});L21.UniqueInputFieldNamesRule=WG4;var $G4=S9(),zG4=O0();function WG4(J){let Z=[],X=Object.create(null);return{ObjectValue:{enter(){Z.push(X),X=Object.create(null)},leave(){let Y=Z.pop();Y||(0,$G4.invariant)(!1),X=Y}},ObjectField(Y){let $=Y.name.value;if(X[$])J.reportError(new zG4.GraphQLError(`There can be only one input field named "${$}".`,{nodes:[X[$],Y.name]}));else X[$]=Y.name}}}});var ks=B((C21)=>{Object.defineProperty(C21,"__esModule",{value:!0});C21.UniqueOperationNamesRule=KG4;var GG4=O0();function KG4(J){let Z=Object.create(null);return{OperationDefinition(X){let Y=X.name;if(Y)if(Z[Y.value])J.reportError(new GG4.GraphQLError(`There can be only one operation named "${Y.value}".`,{nodes:[Z[Y.value],Y]}));else Z[Y.value]=Y;return!1},FragmentDefinition:()=>!1}}});var bs=B((R21)=>{Object.defineProperty(R21,"__esModule",{value:!0});R21.UniqueOperationTypesRule=BG4;var j21=O0();function BG4(J){let Z=J.getSchema(),X=Object.create(null),Y=Z?{query:Z.getQueryType(),mutation:Z.getMutationType(),subscription:Z.getSubscriptionType()}:{};return{SchemaDefinition:$,SchemaExtension:$};function $(z){var W;let Q=(W=z.operationTypes)!==null&&W!==void 0?W:[];for(let G of Q){let K=G.operation,q=X[K];if(Y[K])J.reportError(new j21.GraphQLError(`Type for ${K} already defined in the schema. It cannot be redefined.`,{nodes:G}));else if(q)J.reportError(new j21.GraphQLError(`There can be only one ${K} type in schema.`,{nodes:[q,G]}));else X[K]=G}return!1}}});var hs=B((S21)=>{Object.defineProperty(S21,"__esModule",{value:!0});S21.UniqueTypeNamesRule=FG4;var E21=O0();function FG4(J){let Z=Object.create(null),X=J.getSchema();return{ScalarTypeDefinition:Y,ObjectTypeDefinition:Y,InterfaceTypeDefinition:Y,UnionTypeDefinition:Y,EnumTypeDefinition:Y,InputObjectTypeDefinition:Y};function Y($){let z=$.name.value;if(X!==null&&X!==void 0&&X.getType(z)){J.reportError(new E21.GraphQLError(`Type "${z}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:$.name}));return}if(Z[z])J.reportError(new E21.GraphQLError(`There can be only one type named "${z}".`,{nodes:[Z[z],$.name]}));else Z[z]=$.name;return!1}}});var _s=B((T21)=>{Object.defineProperty(T21,"__esModule",{value:!0});T21.UniqueVariableNamesRule=VG4;var OG4=CT(),DG4=O0();function VG4(J){return{OperationDefinition(Z){var X;let Y=(X=Z.variableDefinitions)!==null&&X!==void 0?X:[],$=(0,OG4.groupBy)(Y,(z)=>z.variable.name.value);for(let[z,W]of $)if(W.length>1)J.reportError(new DG4.GraphQLError(`There can be only one variable named "$${z}".`,{nodes:W.map((Q)=>Q.variable.name)}))}}}});var vs=B((f21)=>{Object.defineProperty(f21,"__esModule",{value:!0});f21.ValuesOfCorrectTypeRule=NG4;var wG4=xK(),HN=M4(),AG4=gK(),MG4=dK(),w$=O0(),ys=o6(),jT=UJ(),I$=s6();function NG4(J){let Z={};return{OperationDefinition:{enter(){Z={}}},VariableDefinition(X){Z[X.variable.name.value]=X},ListValue(X){let Y=(0,I$.getNullableType)(J.getParentInputType());if(!(0,I$.isListType)(Y))return mH(J,X),!1},ObjectValue(X){let Y=(0,I$.getNamedType)(J.getInputType());if(!(0,I$.isInputObjectType)(Y))return mH(J,X),!1;let $=(0,AG4.keyMap)(X.fields,(z)=>z.name.value);for(let z of Object.values(Y.getFields()))if(!$[z.name]&&(0,I$.isRequiredInputField)(z)){let Q=(0,HN.inspect)(z.type);J.reportError(new w$.GraphQLError(`Field "${Y.name}.${z.name}" of required type "${Q}" was not provided.`,{nodes:X}))}if(Y.isOneOf)PG4(J,X,Y,$,Z)},ObjectField(X){let Y=(0,I$.getNamedType)(J.getParentInputType());if(!J.getInputType()&&(0,I$.isInputObjectType)(Y)){let z=(0,MG4.suggestionList)(X.name.value,Object.keys(Y.getFields()));J.reportError(new w$.GraphQLError(`Field "${X.name.value}" is not defined by type "${Y.name}".`+(0,wG4.didYouMean)(z),{nodes:X}))}},NullValue(X){let Y=J.getInputType();if((0,I$.isNonNullType)(Y))J.reportError(new w$.GraphQLError(`Expected value of type "${(0,HN.inspect)(Y)}", found ${(0,jT.print)(X)}.`,{nodes:X}))},EnumValue:(X)=>mH(J,X),IntValue:(X)=>mH(J,X),FloatValue:(X)=>mH(J,X),StringValue:(X)=>mH(J,X),BooleanValue:(X)=>mH(J,X)}}function mH(J,Z){let X=J.getInputType();if(!X)return;let Y=(0,I$.getNamedType)(X);if(!(0,I$.isLeafType)(Y)){let $=(0,HN.inspect)(X);J.reportError(new w$.GraphQLError(`Expected value of type "${$}", found ${(0,jT.print)(Z)}.`,{nodes:Z}));return}try{if(Y.parseLiteral(Z,void 0)===void 0){let z=(0,HN.inspect)(X);J.reportError(new w$.GraphQLError(`Expected value of type "${z}", found ${(0,jT.print)(Z)}.`,{nodes:Z}))}}catch($){let z=(0,HN.inspect)(X);if($ instanceof w$.GraphQLError)J.reportError($);else J.reportError(new w$.GraphQLError(`Expected value of type "${z}", found ${(0,jT.print)(Z)}; `+$.message,{nodes:Z,originalError:$}))}}function PG4(J,Z,X,Y,$){var z;let W=Object.keys(Y);if(W.length!==1){J.reportError(new w$.GraphQLError(`OneOf Input Object "${X.name}" must specify exactly one key.`,{nodes:[Z]}));return}let G=(z=Y[W[0]])===null||z===void 0?void 0:z.value,K=!G||G.kind===ys.Kind.NULL,q=(G===null||G===void 0?void 0:G.kind)===ys.Kind.VARIABLE;if(K){J.reportError(new w$.GraphQLError(`Field "${X.name}.${W[0]}" must be non-null.`,{nodes:[Z]}));return}if(q){let H=G.name.value;if($[H].type.kind!==ys.Kind.NON_NULL_TYPE)J.reportError(new w$.GraphQLError(`Variable "${H}" must be non-nullable to be used for OneOf Input Object "${X.name}".`,{nodes:[Z]}))}}});var xs=B((k21)=>{Object.defineProperty(k21,"__esModule",{value:!0});k21.VariablesAreInputTypesRule=SG4;var CG4=O0(),jG4=UJ(),RG4=s6(),EG4=V$();function SG4(J){return{VariableDefinition(Z){let X=(0,EG4.typeFromAST)(J.getSchema(),Z.type);if(X!==void 0&&!(0,RG4.isInputType)(X)){let Y=Z.variable.name.value,$=(0,jG4.print)(Z.type);J.reportError(new CG4.GraphQLError(`Variable "$${Y}" cannot be non-input type "${$}".`,{nodes:Z.type}))}}}}});var gs=B((y21)=>{Object.defineProperty(y21,"__esModule",{value:!0});y21.VariablesInAllowedPositionRule=bG4;var b21=M4(),h21=O0(),fG4=o6(),RT=s6(),_21=sM(),kG4=V$();function bG4(J){let Z=Object.create(null);return{OperationDefinition:{enter(){Z=Object.create(null)},leave(X){let Y=J.getRecursiveVariableUsages(X);for(let{node:$,type:z,defaultValue:W,parentType:Q}of Y){let G=$.name.value,K=Z[G];if(K&&z){let q=J.getSchema(),H=(0,kG4.typeFromAST)(q,K.type);if(H&&!hG4(q,H,K.defaultValue,z,W)){let F=(0,b21.inspect)(H),U=(0,b21.inspect)(z);J.reportError(new h21.GraphQLError(`Variable "$${G}" of type "${F}" used in position expecting type "${U}".`,{nodes:[K,$]}))}if((0,RT.isInputObjectType)(Q)&&Q.isOneOf&&(0,RT.isNullableType)(H))J.reportError(new h21.GraphQLError(`Variable "$${G}" is of type "${H}" but must be non-nullable to be used for OneOf Input Object "${Q}".`,{nodes:[K,$]}))}}}},VariableDefinition(X){Z[X.variable.name.value]=X}}}function hG4(J,Z,X,Y,$){if((0,RT.isNonNullType)(Y)&&!(0,RT.isNonNullType)(Z)){if(!(X!=null&&X.kind!==fG4.Kind.NULL)&&$===void 0)return!1;let Q=Y.ofType;return(0,_21.isTypeSubTypeOf)(J,Z,Q)}return(0,_21.isTypeSubTypeOf)(J,Z,Y)}});var ds=B((p21)=>{Object.defineProperty(p21,"__esModule",{value:!0});p21.specifiedSDLRules=p21.specifiedRules=p21.recommendedRules=void 0;var yG4=vo(),vG4=xo(),xG4=go(),v21=uo(),x21=lo(),gG4=po(),g21=io(),dG4=oo(),uG4=so(),mG4=ao(),cG4=ro(),lG4=to(),pG4=eo(),nG4=Js(),iG4=Gs(),oG4=qs(),sG4=Bs(),d21=Fs(),aG4=Ds(),rG4=Ms(),tG4=Ns(),u21=Ps(),eG4=Ls(),m21=js(),JK4=Rs(),ZK4=Ss(),XK4=Ts(),c21=fs(),YK4=ks(),$K4=bs(),zK4=hs(),WK4=_s(),QK4=vs(),GK4=xs(),KK4=gs(),l21=Object.freeze([mG4.MaxIntrospectionDepthRule]);p21.recommendedRules=l21;var qK4=Object.freeze([yG4.ExecutableDefinitionsRule,YK4.UniqueOperationNamesRule,dG4.LoneAnonymousOperationRule,rG4.SingleFieldSubscriptionsRule,g21.KnownTypeNamesRule,xG4.FragmentsOnCompositeTypesRule,GK4.VariablesAreInputTypesRule,aG4.ScalarLeafsRule,vG4.FieldsOnCorrectTypeRule,XK4.UniqueFragmentNamesRule,gG4.KnownFragmentNamesRule,pG4.NoUnusedFragmentsRule,oG4.PossibleFragmentSpreadsRule,cG4.NoFragmentCyclesRule,WK4.UniqueVariableNamesRule,lG4.NoUndefinedVariablesRule,nG4.NoUnusedVariablesRule,x21.KnownDirectivesRule,m21.UniqueDirectivesPerLocationRule,v21.KnownArgumentNamesRule,u21.UniqueArgumentNamesRule,QK4.ValuesOfCorrectTypeRule,d21.ProvidedRequiredArgumentsRule,KK4.VariablesInAllowedPositionRule,iG4.OverlappingFieldsCanBeMergedRule,c21.UniqueInputFieldNamesRule,...l21]);p21.specifiedRules=qK4;var BK4=Object.freeze([uG4.LoneSchemaDefinitionRule,$K4.UniqueOperationTypesRule,zK4.UniqueTypeNamesRule,JK4.UniqueEnumValueNamesRule,ZK4.UniqueFieldDefinitionNamesRule,tG4.UniqueArgumentDefinitionNamesRule,eG4.UniqueDirectiveNamesRule,g21.KnownTypeNamesRule,x21.KnownDirectivesRule,m21.UniqueDirectivesPerLocationRule,sG4.PossibleTypeExtensionsRule,v21.KnownArgumentNamesOnDirectivesRule,u21.UniqueArgumentNamesRule,c21.UniqueInputFieldNamesRule,d21.ProvidedRequiredArgumentsOnDirectivesRule]);p21.specifiedSDLRules=BK4});var us=B((r21)=>{Object.defineProperty(r21,"__esModule",{value:!0});r21.ValidationContext=r21.SDLValidationContext=r21.ASTValidationContext=void 0;var i21=o6(),UK4=kH(),o21=VT();class ET{constructor(J,Z){this._ast=J,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=Z}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(J){this._onError(J)}getDocument(){return this._ast}getFragment(J){let Z;if(this._fragments)Z=this._fragments;else{Z=Object.create(null);for(let X of this.getDocument().definitions)if(X.kind===i21.Kind.FRAGMENT_DEFINITION)Z[X.name.value]=X;this._fragments=Z}return Z[J]}getFragmentSpreads(J){let Z=this._fragmentSpreads.get(J);if(!Z){Z=[];let X=[J],Y;while(Y=X.pop())for(let $ of Y.selections)if($.kind===i21.Kind.FRAGMENT_SPREAD)Z.push($);else if($.selectionSet)X.push($.selectionSet);this._fragmentSpreads.set(J,Z)}return Z}getRecursivelyReferencedFragments(J){let Z=this._recursivelyReferencedFragments.get(J);if(!Z){Z=[];let X=Object.create(null),Y=[J.selectionSet],$;while($=Y.pop())for(let z of this.getFragmentSpreads($)){let W=z.name.value;if(X[W]!==!0){X[W]=!0;let Q=this.getFragment(W);if(Q)Z.push(Q),Y.push(Q.selectionSet)}}this._recursivelyReferencedFragments.set(J,Z)}return Z}}r21.ASTValidationContext=ET;class s21 extends ET{constructor(J,Z,X){super(J,X);this._schema=Z}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}r21.SDLValidationContext=s21;class a21 extends ET{constructor(J,Z,X,Y){super(Z,Y);this._schema=J,this._typeInfo=X,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}get[Symbol.toStringTag](){return"ValidationContext"}getSchema(){return this._schema}getVariableUsages(J){let Z=this._variableUsages.get(J);if(!Z){let X=[],Y=new o21.TypeInfo(this._schema);(0,UK4.visit)(J,(0,o21.visitWithTypeInfo)(Y,{VariableDefinition:()=>!1,Variable($){X.push({node:$,type:Y.getInputType(),defaultValue:Y.getDefaultValue(),parentType:Y.getParentInputType()})}})),Z=X,this._variableUsages.set(J,Z)}return Z}getRecursiveVariableUsages(J){let Z=this._recursiveVariableUsages.get(J);if(!Z){Z=this.getVariableUsages(J);for(let X of this.getRecursivelyReferencedFragments(J))Z=Z.concat(this.getVariableUsages(X));this._recursiveVariableUsages.set(J,Z)}return Z}getType(){return this._typeInfo.getType()}getParentType(){return this._typeInfo.getParentType()}getInputType(){return this._typeInfo.getInputType()}getParentInputType(){return this._typeInfo.getParentInputType()}getFieldDef(){return this._typeInfo.getFieldDef()}getDirective(){return this._typeInfo.getDirective()}getArgument(){return this._typeInfo.getArgument()}getEnumValue(){return this._typeInfo.getEnumValue()}}r21.ValidationContext=a21});var FN=B((Xj1)=>{Object.defineProperty(Xj1,"__esModule",{value:!0});Xj1.assertValidSDL=MK4;Xj1.assertValidSDLExtension=NK4;Xj1.validate=AK4;Xj1.validateSDL=ms;var VK4=z7(),IK4=O0(),ST=kH(),wK4=zN(),e21=VT(),Jj1=ds(),Zj1=us();function AK4(J,Z,X=Jj1.specifiedRules,Y,$=new e21.TypeInfo(J)){var z;let W=(z=Y===null||Y===void 0?void 0:Y.maxErrors)!==null&&z!==void 0?z:100;Z||(0,VK4.devAssert)(!1,"Must provide document."),(0,wK4.assertValidSchema)(J);let Q=Object.freeze({}),G=[],K=new Zj1.ValidationContext(J,Z,$,(H)=>{if(G.length>=W)throw G.push(new IK4.GraphQLError("Too many validation errors, error limit reached. Validation aborted.")),Q;G.push(H)}),q=(0,ST.visitInParallel)(X.map((H)=>H(K)));try{(0,ST.visit)(Z,(0,e21.visitWithTypeInfo)($,q))}catch(H){if(H!==Q)throw H}return G}function ms(J,Z,X=Jj1.specifiedSDLRules){let Y=[],$=new Zj1.SDLValidationContext(J,Z,(W)=>{Y.push(W)}),z=X.map((W)=>W($));return(0,ST.visit)(J,(0,ST.visitInParallel)(z)),Y}function MK4(J){let Z=ms(J);if(Z.length!==0)throw new Error(Z.map((X)=>X.message).join(`

`))}function NK4(J,Z){let X=ms(J,Z);if(X.length!==0)throw new Error(X.map((Y)=>Y.message).join(`

`))}});var $j1=B((Yj1)=>{Object.defineProperty(Yj1,"__esModule",{value:!0});Yj1.memoize3=RK4;function RK4(J){let Z;return function X(Y,$,z){if(Z===void 0)Z=new WeakMap;let W=Z.get(Y);if(W===void 0)W=new WeakMap,Z.set(Y,W);let Q=W.get($);if(Q===void 0)Q=new WeakMap,W.set($,Q);let G=Q.get(z);if(G===void 0)G=J(Y,$,z),Q.set(z,G);return G}}});var Wj1=B((zj1)=>{Object.defineProperty(zj1,"__esModule",{value:!0});zj1.promiseForObject=SK4;function SK4(J){return Promise.all(Object.values(J)).then((Z)=>{let X=Object.create(null);for(let[Y,$]of Object.keys(J).entries())X[$]=Z[Y];return X})}});var Gj1=B((Qj1)=>{Object.defineProperty(Qj1,"__esModule",{value:!0});Qj1.promiseReduce=kK4;var fK4=iS();function kK4(J,Z,X){let Y=X;for(let $ of J)Y=(0,fK4.isPromise)(Y)?Y.then((z)=>Z(z,$)):Z(Y,$);return Y}});var Bj1=B((qj1)=>{Object.defineProperty(qj1,"__esModule",{value:!0});qj1.toError=_K4;var hK4=M4();function _K4(J){return J instanceof Error?J:new Kj1(J)}class Kj1 extends Error{constructor(J){super("Unexpected error value: "+(0,hK4.inspect)(J));this.name="NonErrorThrown",this.thrownValue=J}}});var TT=B((Hj1)=>{Object.defineProperty(Hj1,"__esModule",{value:!0});Hj1.locatedError=gK4;var vK4=Bj1(),xK4=O0();function gK4(J,Z,X){var Y;let $=(0,vK4.toError)(J);if(dK4($))return $;return new xK4.GraphQLError($.message,{nodes:(Y=$.nodes)!==null&&Y!==void 0?Y:Z,source:$.source,positions:$.positions,path:X,originalError:$})}function dK4(J){return Array.isArray(J.path)}});var ON=B((jj1)=>{Object.defineProperty(jj1,"__esModule",{value:!0});jj1.assertValidExecutionArguments=Aj1;jj1.buildExecutionContext=Mj1;jj1.buildResolveInfo=Pj1;jj1.defaultTypeResolver=jj1.defaultFieldResolver=void 0;jj1.execute=wj1;jj1.executeSync=oK4;jj1.getFieldDef=Cj1;var ls=z7(),cH=M4(),mK4=S9(),cK4=OT(),is=H$(),WY=iS(),lK4=$j1(),lH=QN(),Fj1=Wj1(),pK4=Gj1(),JZ=O0(),kT=TT(),cs=F$(),Uj1=o6(),lK=s6(),EV=eJ(),nK4=zN(),Vj1=LT(),Ij1=RV(),iK4=(0,lK4.memoize3)((J,Z,X)=>(0,Vj1.collectSubfields)(J.schema,J.fragments,J.variableValues,Z,X));function wj1(J){arguments.length<2||(0,ls.devAssert)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");let{schema:Z,document:X,variableValues:Y,rootValue:$}=J;Aj1(Z,X,Y);let z=Mj1(J);if(!("schema"in z))return{errors:z};try{let{operation:W}=z,Q=sK4(z,W,$);if((0,WY.isPromise)(Q))return Q.then((G)=>fT(G,z.errors),(G)=>{return z.errors.push(G),fT(null,z.errors)});return fT(Q,z.errors)}catch(W){return z.errors.push(W),fT(null,z.errors)}}function oK4(J){let Z=wj1(J);if((0,WY.isPromise)(Z))throw new Error("GraphQL execution failed to complete synchronously.");return Z}function fT(J,Z){return Z.length===0?{data:J}:{errors:Z,data:J}}function Aj1(J,Z,X){Z||(0,ls.devAssert)(!1,"Must provide document."),(0,nK4.assertValidSchema)(J),X==null||(0,is.isObjectLike)(X)||(0,ls.devAssert)(!1,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function Mj1(J){var Z,X,Y;let{schema:$,document:z,rootValue:W,contextValue:Q,variableValues:G,operationName:K,fieldResolver:q,typeResolver:H,subscribeFieldResolver:F,options:U}=J,D,V=Object.create(null);for(let P of z.definitions)switch(P.kind){case Uj1.Kind.OPERATION_DEFINITION:if(K==null){if(D!==void 0)return[new JZ.GraphQLError("Must provide operation name if query contains multiple operations.")];D=P}else if(((Z=P.name)===null||Z===void 0?void 0:Z.value)===K)D=P;break;case Uj1.Kind.FRAGMENT_DEFINITION:V[P.name.value]=P;break;default:}if(!D){if(K!=null)return[new JZ.GraphQLError(`Unknown operation named "${K}".`)];return[new JZ.GraphQLError("Must provide an operation.")]}let w=(X=D.variableDefinitions)!==null&&X!==void 0?X:[],M=(0,Ij1.getVariableValues)($,w,G!==null&&G!==void 0?G:{},{maxErrors:(Y=U===null||U===void 0?void 0:U.maxCoercionErrors)!==null&&Y!==void 0?Y:50});if(M.errors)return M.errors;return{schema:$,fragments:V,rootValue:W,contextValue:Q,operation:D,variableValues:M.coerced,fieldResolver:q!==null&&q!==void 0?q:ns,typeResolver:H!==null&&H!==void 0?H:Lj1,subscribeFieldResolver:F!==null&&F!==void 0?F:ns,errors:[]}}function sK4(J,Z,X){let Y=J.schema.getRootType(Z.operation);if(Y==null)throw new JZ.GraphQLError(`Schema is not configured to execute ${Z.operation} operation.`,{nodes:Z});let $=(0,Vj1.collectFields)(J.schema,J.fragments,J.variableValues,Y,Z.selectionSet),z=void 0;switch(Z.operation){case cs.OperationTypeNode.QUERY:return bT(J,Y,X,z,$);case cs.OperationTypeNode.MUTATION:return aK4(J,Y,X,z,$);case cs.OperationTypeNode.SUBSCRIPTION:return bT(J,Y,X,z,$)}}function aK4(J,Z,X,Y,$){return(0,pK4.promiseReduce)($.entries(),(z,[W,Q])=>{let G=(0,lH.addPath)(Y,W,Z.name),K=Nj1(J,Z,X,Q,G);if(K===void 0)return z;if((0,WY.isPromise)(K))return K.then((q)=>{return z[W]=q,z});return z[W]=K,z},Object.create(null))}function bT(J,Z,X,Y,$){let z=Object.create(null),W=!1;try{for(let[Q,G]of $.entries()){let K=(0,lH.addPath)(Y,Q,Z.name),q=Nj1(J,Z,X,G,K);if(q!==void 0){if(z[Q]=q,(0,WY.isPromise)(q))W=!0}}}catch(Q){if(W)return(0,Fj1.promiseForObject)(z).finally(()=>{throw Q});throw Q}if(!W)return z;return(0,Fj1.promiseForObject)(z)}function Nj1(J,Z,X,Y,$){var z;let W=Cj1(J.schema,Z,Y[0]);if(!W)return;let Q=W.type,G=(z=W.resolve)!==null&&z!==void 0?z:J.fieldResolver,K=Pj1(J,W,Y,Z,$);try{let q=(0,Ij1.getArgumentValues)(W,Y[0],J.variableValues),H=J.contextValue,F=G(X,q,H,K),U;if((0,WY.isPromise)(F))U=F.then((D)=>UN(J,Q,Y,K,$,D));else U=UN(J,Q,Y,K,$,F);if((0,WY.isPromise)(U))return U.then(void 0,(D)=>{let V=(0,kT.locatedError)(D,Y,(0,lH.pathToArray)($));return hT(V,Q,J)});return U}catch(q){let H=(0,kT.locatedError)(q,Y,(0,lH.pathToArray)($));return hT(H,Q,J)}}function Pj1(J,Z,X,Y,$){return{fieldName:Z.name,fieldNodes:X,returnType:Z.type,parentType:Y,path:$,schema:J.schema,fragments:J.fragments,rootValue:J.rootValue,operation:J.operation,variableValues:J.variableValues}}function hT(J,Z,X){if((0,lK.isNonNullType)(Z))throw J;return X.errors.push(J),null}function UN(J,Z,X,Y,$,z){if(z instanceof Error)throw z;if((0,lK.isNonNullType)(Z)){let W=UN(J,Z.ofType,X,Y,$,z);if(W===null)throw new Error(`Cannot return null for non-nullable field ${Y.parentType.name}.${Y.fieldName}.`);return W}if(z==null)return null;if((0,lK.isListType)(Z))return rK4(J,Z,X,Y,$,z);if((0,lK.isLeafType)(Z))return tK4(Z,z);if((0,lK.isAbstractType)(Z))return eK4(J,Z,X,Y,$,z);if((0,lK.isObjectType)(Z))return ps(J,Z,X,Y,$,z);(0,mK4.invariant)(!1,"Cannot complete value of unexpected output type: "+(0,cH.inspect)(Z))}function rK4(J,Z,X,Y,$,z){if(!(0,cK4.isIterableObject)(z))throw new JZ.GraphQLError(`Expected Iterable, but did not find one for field "${Y.parentType.name}.${Y.fieldName}".`);let W=Z.ofType,Q=!1,G=Array.from(z,(K,q)=>{let H=(0,lH.addPath)($,q,void 0);try{let F;if((0,WY.isPromise)(K))F=K.then((U)=>UN(J,W,X,Y,H,U));else F=UN(J,W,X,Y,H,K);if((0,WY.isPromise)(F))return Q=!0,F.then(void 0,(U)=>{let D=(0,kT.locatedError)(U,X,(0,lH.pathToArray)(H));return hT(D,W,J)});return F}catch(F){let U=(0,kT.locatedError)(F,X,(0,lH.pathToArray)(H));return hT(U,W,J)}});return Q?Promise.all(G):G}function tK4(J,Z){let X=J.serialize(Z);if(X==null)throw new Error(`Expected \`${(0,cH.inspect)(J)}.serialize(${(0,cH.inspect)(Z)})\` to return non-nullable value, returned: ${(0,cH.inspect)(X)}`);return X}function eK4(J,Z,X,Y,$,z){var W;let Q=(W=Z.resolveType)!==null&&W!==void 0?W:J.typeResolver,G=J.contextValue,K=Q(z,G,Y,Z);if((0,WY.isPromise)(K))return K.then((q)=>ps(J,Oj1(q,J,Z,X,Y,z),X,Y,$,z));return ps(J,Oj1(K,J,Z,X,Y,z),X,Y,$,z)}function Oj1(J,Z,X,Y,$,z){if(J==null)throw new JZ.GraphQLError(`Abstract type "${X.name}" must resolve to an Object type at runtime for field "${$.parentType.name}.${$.fieldName}". Either the "${X.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,Y);if((0,lK.isObjectType)(J))throw new JZ.GraphQLError("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if(typeof J!=="string")throw new JZ.GraphQLError(`Abstract type "${X.name}" must resolve to an Object type at runtime for field "${$.parentType.name}.${$.fieldName}" with value ${(0,cH.inspect)(z)}, received "${(0,cH.inspect)(J)}".`);let W=Z.schema.getType(J);if(W==null)throw new JZ.GraphQLError(`Abstract type "${X.name}" was resolved to a type "${J}" that does not exist inside the schema.`,{nodes:Y});if(!(0,lK.isObjectType)(W))throw new JZ.GraphQLError(`Abstract type "${X.name}" was resolved to a non-object type "${J}".`,{nodes:Y});if(!Z.schema.isSubType(X,W))throw new JZ.GraphQLError(`Runtime Object type "${W.name}" is not a possible type for "${X.name}".`,{nodes:Y});return W}function ps(J,Z,X,Y,$,z){let W=iK4(J,Z,X);if(Z.isTypeOf){let Q=Z.isTypeOf(z,J.contextValue,Y);if((0,WY.isPromise)(Q))return Q.then((G)=>{if(!G)throw Dj1(Z,z,X);return bT(J,Z,z,$,W)});if(!Q)throw Dj1(Z,z,X)}return bT(J,Z,z,$,W)}function Dj1(J,Z,X){return new JZ.GraphQLError(`Expected value of type "${J.name}" but got: ${(0,cH.inspect)(Z)}.`,{nodes:X})}var Lj1=function(J,Z,X,Y){if((0,is.isObjectLike)(J)&&typeof J.__typename==="string")return J.__typename;let $=X.schema.getPossibleTypes(Y),z=[];for(let W=0;W<$.length;W++){let Q=$[W];if(Q.isTypeOf){let G=Q.isTypeOf(J,Z,X);if((0,WY.isPromise)(G))z[W]=G;else if(G)return Q.name}}if(z.length)return Promise.all(z).then((W)=>{for(let Q=0;Q<W.length;Q++)if(W[Q])return $[Q].name})};jj1.defaultTypeResolver=Lj1;var ns=function(J,Z,X,Y){if((0,is.isObjectLike)(J)||typeof J==="function"){let $=J[Y.fieldName];if(typeof $==="function")return J[Y.fieldName](Z,X,Y);return $}};jj1.defaultFieldResolver=ns;function Cj1(J,Z,X){let Y=X.name.value;if(Y===EV.SchemaMetaFieldDef.name&&J.getQueryType()===Z)return EV.SchemaMetaFieldDef;else if(Y===EV.TypeMetaFieldDef.name&&J.getQueryType()===Z)return EV.TypeMetaFieldDef;else if(Y===EV.TypeNameMetaFieldDef.name)return EV.TypeNameMetaFieldDef;return Z.getFields()[Y]}});var Tj1=B((Sj1)=>{Object.defineProperty(Sj1,"__esModule",{value:!0});Sj1.graphql=F34;Sj1.graphqlSync=U34;var Q34=z7(),G34=iS(),K34=IV(),q34=zN(),B34=FN(),H34=ON();function F34(J){return new Promise((Z)=>Z(Ej1(J)))}function U34(J){let Z=Ej1(J);if((0,G34.isPromise)(Z))throw new Error("GraphQL execution failed to complete synchronously.");return Z}function Ej1(J){arguments.length<2||(0,Q34.devAssert)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");let{schema:Z,source:X,rootValue:Y,contextValue:$,variableValues:z,operationName:W,fieldResolver:Q,typeResolver:G}=J,K=(0,q34.validateSchema)(Z);if(K.length>0)return{errors:K};let q;try{q=(0,K34.parse)(X)}catch(F){return{errors:[F]}}let H=(0,B34.validate)(Z,q);if(H.length>0)return{errors:H};return(0,H34.execute)({schema:Z,document:q,rootValue:Y,contextValue:$,variableValues:z,operationName:W,fieldResolver:Q,typeResolver:G})}});var bj1=B((P1)=>{Object.defineProperty(P1,"__esModule",{value:!0});Object.defineProperty(P1,"DEFAULT_DEPRECATION_REASON",{enumerable:!0,get:function(){return QY.DEFAULT_DEPRECATION_REASON}});Object.defineProperty(P1,"GRAPHQL_MAX_INT",{enumerable:!0,get:function(){return FQ.GRAPHQL_MAX_INT}});Object.defineProperty(P1,"GRAPHQL_MIN_INT",{enumerable:!0,get:function(){return FQ.GRAPHQL_MIN_INT}});Object.defineProperty(P1,"GraphQLBoolean",{enumerable:!0,get:function(){return FQ.GraphQLBoolean}});Object.defineProperty(P1,"GraphQLDeprecatedDirective",{enumerable:!0,get:function(){return QY.GraphQLDeprecatedDirective}});Object.defineProperty(P1,"GraphQLDirective",{enumerable:!0,get:function(){return QY.GraphQLDirective}});Object.defineProperty(P1,"GraphQLEnumType",{enumerable:!0,get:function(){return Y6.GraphQLEnumType}});Object.defineProperty(P1,"GraphQLFloat",{enumerable:!0,get:function(){return FQ.GraphQLFloat}});Object.defineProperty(P1,"GraphQLID",{enumerable:!0,get:function(){return FQ.GraphQLID}});Object.defineProperty(P1,"GraphQLIncludeDirective",{enumerable:!0,get:function(){return QY.GraphQLIncludeDirective}});Object.defineProperty(P1,"GraphQLInputObjectType",{enumerable:!0,get:function(){return Y6.GraphQLInputObjectType}});Object.defineProperty(P1,"GraphQLInt",{enumerable:!0,get:function(){return FQ.GraphQLInt}});Object.defineProperty(P1,"GraphQLInterfaceType",{enumerable:!0,get:function(){return Y6.GraphQLInterfaceType}});Object.defineProperty(P1,"GraphQLList",{enumerable:!0,get:function(){return Y6.GraphQLList}});Object.defineProperty(P1,"GraphQLNonNull",{enumerable:!0,get:function(){return Y6.GraphQLNonNull}});Object.defineProperty(P1,"GraphQLObjectType",{enumerable:!0,get:function(){return Y6.GraphQLObjectType}});Object.defineProperty(P1,"GraphQLOneOfDirective",{enumerable:!0,get:function(){return QY.GraphQLOneOfDirective}});Object.defineProperty(P1,"GraphQLScalarType",{enumerable:!0,get:function(){return Y6.GraphQLScalarType}});Object.defineProperty(P1,"GraphQLSchema",{enumerable:!0,get:function(){return os.GraphQLSchema}});Object.defineProperty(P1,"GraphQLSkipDirective",{enumerable:!0,get:function(){return QY.GraphQLSkipDirective}});Object.defineProperty(P1,"GraphQLSpecifiedByDirective",{enumerable:!0,get:function(){return QY.GraphQLSpecifiedByDirective}});Object.defineProperty(P1,"GraphQLString",{enumerable:!0,get:function(){return FQ.GraphQLString}});Object.defineProperty(P1,"GraphQLUnionType",{enumerable:!0,get:function(){return Y6.GraphQLUnionType}});Object.defineProperty(P1,"SchemaMetaFieldDef",{enumerable:!0,get:function(){return y7.SchemaMetaFieldDef}});Object.defineProperty(P1,"TypeKind",{enumerable:!0,get:function(){return y7.TypeKind}});Object.defineProperty(P1,"TypeMetaFieldDef",{enumerable:!0,get:function(){return y7.TypeMetaFieldDef}});Object.defineProperty(P1,"TypeNameMetaFieldDef",{enumerable:!0,get:function(){return y7.TypeNameMetaFieldDef}});Object.defineProperty(P1,"__Directive",{enumerable:!0,get:function(){return y7.__Directive}});Object.defineProperty(P1,"__DirectiveLocation",{enumerable:!0,get:function(){return y7.__DirectiveLocation}});Object.defineProperty(P1,"__EnumValue",{enumerable:!0,get:function(){return y7.__EnumValue}});Object.defineProperty(P1,"__Field",{enumerable:!0,get:function(){return y7.__Field}});Object.defineProperty(P1,"__InputValue",{enumerable:!0,get:function(){return y7.__InputValue}});Object.defineProperty(P1,"__Schema",{enumerable:!0,get:function(){return y7.__Schema}});Object.defineProperty(P1,"__Type",{enumerable:!0,get:function(){return y7.__Type}});Object.defineProperty(P1,"__TypeKind",{enumerable:!0,get:function(){return y7.__TypeKind}});Object.defineProperty(P1,"assertAbstractType",{enumerable:!0,get:function(){return Y6.assertAbstractType}});Object.defineProperty(P1,"assertCompositeType",{enumerable:!0,get:function(){return Y6.assertCompositeType}});Object.defineProperty(P1,"assertDirective",{enumerable:!0,get:function(){return QY.assertDirective}});Object.defineProperty(P1,"assertEnumType",{enumerable:!0,get:function(){return Y6.assertEnumType}});Object.defineProperty(P1,"assertEnumValueName",{enumerable:!0,get:function(){return kj1.assertEnumValueName}});Object.defineProperty(P1,"assertInputObjectType",{enumerable:!0,get:function(){return Y6.assertInputObjectType}});Object.defineProperty(P1,"assertInputType",{enumerable:!0,get:function(){return Y6.assertInputType}});Object.defineProperty(P1,"assertInterfaceType",{enumerable:!0,get:function(){return Y6.assertInterfaceType}});Object.defineProperty(P1,"assertLeafType",{enumerable:!0,get:function(){return Y6.assertLeafType}});Object.defineProperty(P1,"assertListType",{enumerable:!0,get:function(){return Y6.assertListType}});Object.defineProperty(P1,"assertName",{enumerable:!0,get:function(){return kj1.assertName}});Object.defineProperty(P1,"assertNamedType",{enumerable:!0,get:function(){return Y6.assertNamedType}});Object.defineProperty(P1,"assertNonNullType",{enumerable:!0,get:function(){return Y6.assertNonNullType}});Object.defineProperty(P1,"assertNullableType",{enumerable:!0,get:function(){return Y6.assertNullableType}});Object.defineProperty(P1,"assertObjectType",{enumerable:!0,get:function(){return Y6.assertObjectType}});Object.defineProperty(P1,"assertOutputType",{enumerable:!0,get:function(){return Y6.assertOutputType}});Object.defineProperty(P1,"assertScalarType",{enumerable:!0,get:function(){return Y6.assertScalarType}});Object.defineProperty(P1,"assertSchema",{enumerable:!0,get:function(){return os.assertSchema}});Object.defineProperty(P1,"assertType",{enumerable:!0,get:function(){return Y6.assertType}});Object.defineProperty(P1,"assertUnionType",{enumerable:!0,get:function(){return Y6.assertUnionType}});Object.defineProperty(P1,"assertValidSchema",{enumerable:!0,get:function(){return fj1.assertValidSchema}});Object.defineProperty(P1,"assertWrappingType",{enumerable:!0,get:function(){return Y6.assertWrappingType}});Object.defineProperty(P1,"getNamedType",{enumerable:!0,get:function(){return Y6.getNamedType}});Object.defineProperty(P1,"getNullableType",{enumerable:!0,get:function(){return Y6.getNullableType}});Object.defineProperty(P1,"introspectionTypes",{enumerable:!0,get:function(){return y7.introspectionTypes}});Object.defineProperty(P1,"isAbstractType",{enumerable:!0,get:function(){return Y6.isAbstractType}});Object.defineProperty(P1,"isCompositeType",{enumerable:!0,get:function(){return Y6.isCompositeType}});Object.defineProperty(P1,"isDirective",{enumerable:!0,get:function(){return QY.isDirective}});Object.defineProperty(P1,"isEnumType",{enumerable:!0,get:function(){return Y6.isEnumType}});Object.defineProperty(P1,"isInputObjectType",{enumerable:!0,get:function(){return Y6.isInputObjectType}});Object.defineProperty(P1,"isInputType",{enumerable:!0,get:function(){return Y6.isInputType}});Object.defineProperty(P1,"isInterfaceType",{enumerable:!0,get:function(){return Y6.isInterfaceType}});Object.defineProperty(P1,"isIntrospectionType",{enumerable:!0,get:function(){return y7.isIntrospectionType}});Object.defineProperty(P1,"isLeafType",{enumerable:!0,get:function(){return Y6.isLeafType}});Object.defineProperty(P1,"isListType",{enumerable:!0,get:function(){return Y6.isListType}});Object.defineProperty(P1,"isNamedType",{enumerable:!0,get:function(){return Y6.isNamedType}});Object.defineProperty(P1,"isNonNullType",{enumerable:!0,get:function(){return Y6.isNonNullType}});Object.defineProperty(P1,"isNullableType",{enumerable:!0,get:function(){return Y6.isNullableType}});Object.defineProperty(P1,"isObjectType",{enumerable:!0,get:function(){return Y6.isObjectType}});Object.defineProperty(P1,"isOutputType",{enumerable:!0,get:function(){return Y6.isOutputType}});Object.defineProperty(P1,"isRequiredArgument",{enumerable:!0,get:function(){return Y6.isRequiredArgument}});Object.defineProperty(P1,"isRequiredInputField",{enumerable:!0,get:function(){return Y6.isRequiredInputField}});Object.defineProperty(P1,"isScalarType",{enumerable:!0,get:function(){return Y6.isScalarType}});Object.defineProperty(P1,"isSchema",{enumerable:!0,get:function(){return os.isSchema}});Object.defineProperty(P1,"isSpecifiedDirective",{enumerable:!0,get:function(){return QY.isSpecifiedDirective}});Object.defineProperty(P1,"isSpecifiedScalarType",{enumerable:!0,get:function(){return FQ.isSpecifiedScalarType}});Object.defineProperty(P1,"isType",{enumerable:!0,get:function(){return Y6.isType}});Object.defineProperty(P1,"isUnionType",{enumerable:!0,get:function(){return Y6.isUnionType}});Object.defineProperty(P1,"isWrappingType",{enumerable:!0,get:function(){return Y6.isWrappingType}});Object.defineProperty(P1,"resolveObjMapThunk",{enumerable:!0,get:function(){return Y6.resolveObjMapThunk}});Object.defineProperty(P1,"resolveReadonlyArrayThunk",{enumerable:!0,get:function(){return Y6.resolveReadonlyArrayThunk}});Object.defineProperty(P1,"specifiedDirectives",{enumerable:!0,get:function(){return QY.specifiedDirectives}});Object.defineProperty(P1,"specifiedScalarTypes",{enumerable:!0,get:function(){return FQ.specifiedScalarTypes}});Object.defineProperty(P1,"validateSchema",{enumerable:!0,get:function(){return fj1.validateSchema}});var os=xH(),Y6=s6(),QY=h7(),FQ=D$(),y7=eJ(),fj1=zN(),kj1=pM()});var _j1=B((G4)=>{Object.defineProperty(G4,"__esModule",{value:!0});Object.defineProperty(G4,"BREAK",{enumerable:!0,get:function(){return DN.BREAK}});Object.defineProperty(G4,"DirectiveLocation",{enumerable:!0,get:function(){return P34.DirectiveLocation}});Object.defineProperty(G4,"Kind",{enumerable:!0,get:function(){return w34.Kind}});Object.defineProperty(G4,"Lexer",{enumerable:!0,get:function(){return M34.Lexer}});Object.defineProperty(G4,"Location",{enumerable:!0,get:function(){return ss.Location}});Object.defineProperty(G4,"OperationTypeNode",{enumerable:!0,get:function(){return ss.OperationTypeNode}});Object.defineProperty(G4,"Source",{enumerable:!0,get:function(){return V34.Source}});Object.defineProperty(G4,"Token",{enumerable:!0,get:function(){return ss.Token}});Object.defineProperty(G4,"TokenKind",{enumerable:!0,get:function(){return A34.TokenKind}});Object.defineProperty(G4,"getEnterLeaveForKind",{enumerable:!0,get:function(){return DN.getEnterLeaveForKind}});Object.defineProperty(G4,"getLocation",{enumerable:!0,get:function(){return I34.getLocation}});Object.defineProperty(G4,"getVisitFn",{enumerable:!0,get:function(){return DN.getVisitFn}});Object.defineProperty(G4,"isConstValueNode",{enumerable:!0,get:function(){return A$.isConstValueNode}});Object.defineProperty(G4,"isDefinitionNode",{enumerable:!0,get:function(){return A$.isDefinitionNode}});Object.defineProperty(G4,"isExecutableDefinitionNode",{enumerable:!0,get:function(){return A$.isExecutableDefinitionNode}});Object.defineProperty(G4,"isSelectionNode",{enumerable:!0,get:function(){return A$.isSelectionNode}});Object.defineProperty(G4,"isTypeDefinitionNode",{enumerable:!0,get:function(){return A$.isTypeDefinitionNode}});Object.defineProperty(G4,"isTypeExtensionNode",{enumerable:!0,get:function(){return A$.isTypeExtensionNode}});Object.defineProperty(G4,"isTypeNode",{enumerable:!0,get:function(){return A$.isTypeNode}});Object.defineProperty(G4,"isTypeSystemDefinitionNode",{enumerable:!0,get:function(){return A$.isTypeSystemDefinitionNode}});Object.defineProperty(G4,"isTypeSystemExtensionNode",{enumerable:!0,get:function(){return A$.isTypeSystemExtensionNode}});Object.defineProperty(G4,"isValueNode",{enumerable:!0,get:function(){return A$.isValueNode}});Object.defineProperty(G4,"parse",{enumerable:!0,get:function(){return _T.parse}});Object.defineProperty(G4,"parseConstValue",{enumerable:!0,get:function(){return _T.parseConstValue}});Object.defineProperty(G4,"parseType",{enumerable:!0,get:function(){return _T.parseType}});Object.defineProperty(G4,"parseValue",{enumerable:!0,get:function(){return _T.parseValue}});Object.defineProperty(G4,"print",{enumerable:!0,get:function(){return N34.print}});Object.defineProperty(G4,"printLocation",{enumerable:!0,get:function(){return hj1.printLocation}});Object.defineProperty(G4,"printSourceLocation",{enumerable:!0,get:function(){return hj1.printSourceLocation}});Object.defineProperty(G4,"visit",{enumerable:!0,get:function(){return DN.visit}});Object.defineProperty(G4,"visitInParallel",{enumerable:!0,get:function(){return DN.visitInParallel}});var V34=JT(),I34=oS(),hj1=ci(),w34=o6(),A34=gM(),M34=tS(),_T=IV(),N34=UJ(),DN=kH(),ss=F$(),A$=dH(),P34=OV()});var vj1=B((yj1)=>{Object.defineProperty(yj1,"__esModule",{value:!0});yj1.isAsyncIterable=L34;function L34(J){return typeof(J===null||J===void 0?void 0:J[Symbol.asyncIterator])==="function"}});var gj1=B((xj1)=>{Object.defineProperty(xj1,"__esModule",{value:!0});xj1.mapAsyncIterator=j34;function j34(J,Z){let X=J[Symbol.asyncIterator]();async function Y($){if($.done)return $;try{return{value:await Z($.value),done:!1}}catch(z){if(typeof X.return==="function")try{await X.return()}catch(W){}throw z}}return{async next(){return Y(await X.next())},async return(){return typeof X.return==="function"?Y(await X.return()):{value:void 0,done:!0}},async throw($){if(typeof X.throw==="function")return Y(await X.throw($));throw $},[Symbol.asyncIterator](){return this}}}});var lj1=B((cj1)=>{Object.defineProperty(cj1,"__esModule",{value:!0});cj1.createSourceEventStream=mj1;cj1.subscribe=h34;var E34=z7(),S34=M4(),uj1=vj1(),dj1=QN(),as=O0(),T34=TT(),f34=LT(),VN=ON(),k34=gj1(),b34=RV();async function h34(J){arguments.length<2||(0,E34.devAssert)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");let Z=await mj1(J);if(!(0,uj1.isAsyncIterable)(Z))return Z;let X=(Y)=>(0,VN.execute)({...J,rootValue:Y});return(0,k34.mapAsyncIterator)(Z,X)}function _34(J){let Z=J[0];if(Z&&"document"in Z)return Z;return{schema:Z,document:J[1],rootValue:J[2],contextValue:J[3],variableValues:J[4],operationName:J[5],subscribeFieldResolver:J[6]}}async function mj1(...J){let Z=_34(J),{schema:X,document:Y,variableValues:$}=Z;(0,VN.assertValidExecutionArguments)(X,Y,$);let z=(0,VN.buildExecutionContext)(Z);if(!("schema"in z))return{errors:z};try{let W=await y34(z);if(!(0,uj1.isAsyncIterable)(W))throw new Error(`Subscription field must return Async Iterable. Received: ${(0,S34.inspect)(W)}.`);return W}catch(W){if(W instanceof as.GraphQLError)return{errors:[W]};throw W}}async function y34(J){let{schema:Z,fragments:X,operation:Y,variableValues:$,rootValue:z}=J,W=Z.getSubscriptionType();if(W==null)throw new as.GraphQLError("Schema is not configured to execute subscription operation.",{nodes:Y});let Q=(0,f34.collectFields)(Z,X,$,W,Y.selectionSet),[G,K]=[...Q.entries()][0],q=(0,VN.getFieldDef)(Z,W,K[0]);if(!q){let D=K[0].name.value;throw new as.GraphQLError(`The subscription field "${D}" is not defined.`,{nodes:K})}let H=(0,dj1.addPath)(void 0,G,W.name),F=(0,VN.buildResolveInfo)(J,q,K,W,H);try{var U;let D=(0,b34.getArgumentValues)(q,K[0],$),V=J.contextValue,M=await((U=q.subscribe)!==null&&U!==void 0?U:J.subscribeFieldResolver)(z,D,V,F);if(M instanceof Error)throw M;return M}catch(D){throw(0,T34.locatedError)(D,K,(0,dj1.pathToArray)(H))}}});var nj1=B((ZZ)=>{Object.defineProperty(ZZ,"__esModule",{value:!0});Object.defineProperty(ZZ,"createSourceEventStream",{enumerable:!0,get:function(){return pj1.createSourceEventStream}});Object.defineProperty(ZZ,"defaultFieldResolver",{enumerable:!0,get:function(){return yT.defaultFieldResolver}});Object.defineProperty(ZZ,"defaultTypeResolver",{enumerable:!0,get:function(){return yT.defaultTypeResolver}});Object.defineProperty(ZZ,"execute",{enumerable:!0,get:function(){return yT.execute}});Object.defineProperty(ZZ,"executeSync",{enumerable:!0,get:function(){return yT.executeSync}});Object.defineProperty(ZZ,"getArgumentValues",{enumerable:!0,get:function(){return rs.getArgumentValues}});Object.defineProperty(ZZ,"getDirectiveValues",{enumerable:!0,get:function(){return rs.getDirectiveValues}});Object.defineProperty(ZZ,"getVariableValues",{enumerable:!0,get:function(){return rs.getVariableValues}});Object.defineProperty(ZZ,"responsePathAsArray",{enumerable:!0,get:function(){return g34.pathToArray}});Object.defineProperty(ZZ,"subscribe",{enumerable:!0,get:function(){return pj1.subscribe}});var g34=QN(),yT=ON(),pj1=lj1(),rs=RV()});var oj1=B((ij1)=>{Object.defineProperty(ij1,"__esModule",{value:!0});ij1.NoDeprecatedCustomRule=d34;var ts=S9(),IN=O0(),es=s6();function d34(J){return{Field(Z){let X=J.getFieldDef(),Y=X===null||X===void 0?void 0:X.deprecationReason;if(X&&Y!=null){let $=J.getParentType();$!=null||(0,ts.invariant)(!1),J.reportError(new IN.GraphQLError(`The field ${$.name}.${X.name} is deprecated. ${Y}`,{nodes:Z}))}},Argument(Z){let X=J.getArgument(),Y=X===null||X===void 0?void 0:X.deprecationReason;if(X&&Y!=null){let $=J.getDirective();if($!=null)J.reportError(new IN.GraphQLError(`Directive "@${$.name}" argument "${X.name}" is deprecated. ${Y}`,{nodes:Z}));else{let z=J.getParentType(),W=J.getFieldDef();z!=null&&W!=null||(0,ts.invariant)(!1),J.reportError(new IN.GraphQLError(`Field "${z.name}.${W.name}" argument "${X.name}" is deprecated. ${Y}`,{nodes:Z}))}}},ObjectField(Z){let X=(0,es.getNamedType)(J.getParentInputType());if((0,es.isInputObjectType)(X)){let Y=X.getFields()[Z.name.value],$=Y===null||Y===void 0?void 0:Y.deprecationReason;if($!=null)J.reportError(new IN.GraphQLError(`The input field ${X.name}.${Y.name} is deprecated. ${$}`,{nodes:Z}))}},EnumValue(Z){let X=J.getEnumValue(),Y=X===null||X===void 0?void 0:X.deprecationReason;if(X&&Y!=null){let $=(0,es.getNamedType)(J.getInputType());$!=null||(0,ts.invariant)(!1),J.reportError(new IN.GraphQLError(`The enum value "${$.name}.${X.name}" is deprecated. ${Y}`,{nodes:Z}))}}}}});var aj1=B((sj1)=>{Object.defineProperty(sj1,"__esModule",{value:!0});sj1.NoSchemaIntrospectionCustomRule=p34;var m34=O0(),c34=s6(),l34=eJ();function p34(J){return{Field(Z){let X=(0,c34.getNamedType)(J.getType());if(X&&(0,l34.isIntrospectionType)(X))J.reportError(new m34.GraphQLError(`GraphQL introspection has been disabled, but the requested query contained the field "${Z.name.value}".`,{nodes:Z}))}}}});var tj1=B((H6)=>{Object.defineProperty(H6,"__esModule",{value:!0});Object.defineProperty(H6,"ExecutableDefinitionsRule",{enumerable:!0,get:function(){return s34.ExecutableDefinitionsRule}});Object.defineProperty(H6,"FieldsOnCorrectTypeRule",{enumerable:!0,get:function(){return a34.FieldsOnCorrectTypeRule}});Object.defineProperty(H6,"FragmentsOnCompositeTypesRule",{enumerable:!0,get:function(){return r34.FragmentsOnCompositeTypesRule}});Object.defineProperty(H6,"KnownArgumentNamesRule",{enumerable:!0,get:function(){return t34.KnownArgumentNamesRule}});Object.defineProperty(H6,"KnownDirectivesRule",{enumerable:!0,get:function(){return e34.KnownDirectivesRule}});Object.defineProperty(H6,"KnownFragmentNamesRule",{enumerable:!0,get:function(){return Jq4.KnownFragmentNamesRule}});Object.defineProperty(H6,"KnownTypeNamesRule",{enumerable:!0,get:function(){return Zq4.KnownTypeNamesRule}});Object.defineProperty(H6,"LoneAnonymousOperationRule",{enumerable:!0,get:function(){return Xq4.LoneAnonymousOperationRule}});Object.defineProperty(H6,"LoneSchemaDefinitionRule",{enumerable:!0,get:function(){return Nq4.LoneSchemaDefinitionRule}});Object.defineProperty(H6,"MaxIntrospectionDepthRule",{enumerable:!0,get:function(){return Mq4.MaxIntrospectionDepthRule}});Object.defineProperty(H6,"NoDeprecatedCustomRule",{enumerable:!0,get:function(){return Tq4.NoDeprecatedCustomRule}});Object.defineProperty(H6,"NoFragmentCyclesRule",{enumerable:!0,get:function(){return Yq4.NoFragmentCyclesRule}});Object.defineProperty(H6,"NoSchemaIntrospectionCustomRule",{enumerable:!0,get:function(){return fq4.NoSchemaIntrospectionCustomRule}});Object.defineProperty(H6,"NoUndefinedVariablesRule",{enumerable:!0,get:function(){return $q4.NoUndefinedVariablesRule}});Object.defineProperty(H6,"NoUnusedFragmentsRule",{enumerable:!0,get:function(){return zq4.NoUnusedFragmentsRule}});Object.defineProperty(H6,"NoUnusedVariablesRule",{enumerable:!0,get:function(){return Wq4.NoUnusedVariablesRule}});Object.defineProperty(H6,"OverlappingFieldsCanBeMergedRule",{enumerable:!0,get:function(){return Qq4.OverlappingFieldsCanBeMergedRule}});Object.defineProperty(H6,"PossibleFragmentSpreadsRule",{enumerable:!0,get:function(){return Gq4.PossibleFragmentSpreadsRule}});Object.defineProperty(H6,"PossibleTypeExtensionsRule",{enumerable:!0,get:function(){return Sq4.PossibleTypeExtensionsRule}});Object.defineProperty(H6,"ProvidedRequiredArgumentsRule",{enumerable:!0,get:function(){return Kq4.ProvidedRequiredArgumentsRule}});Object.defineProperty(H6,"ScalarLeafsRule",{enumerable:!0,get:function(){return qq4.ScalarLeafsRule}});Object.defineProperty(H6,"SingleFieldSubscriptionsRule",{enumerable:!0,get:function(){return Bq4.SingleFieldSubscriptionsRule}});Object.defineProperty(H6,"UniqueArgumentDefinitionNamesRule",{enumerable:!0,get:function(){return Rq4.UniqueArgumentDefinitionNamesRule}});Object.defineProperty(H6,"UniqueArgumentNamesRule",{enumerable:!0,get:function(){return Hq4.UniqueArgumentNamesRule}});Object.defineProperty(H6,"UniqueDirectiveNamesRule",{enumerable:!0,get:function(){return Eq4.UniqueDirectiveNamesRule}});Object.defineProperty(H6,"UniqueDirectivesPerLocationRule",{enumerable:!0,get:function(){return Fq4.UniqueDirectivesPerLocationRule}});Object.defineProperty(H6,"UniqueEnumValueNamesRule",{enumerable:!0,get:function(){return Cq4.UniqueEnumValueNamesRule}});Object.defineProperty(H6,"UniqueFieldDefinitionNamesRule",{enumerable:!0,get:function(){return jq4.UniqueFieldDefinitionNamesRule}});Object.defineProperty(H6,"UniqueFragmentNamesRule",{enumerable:!0,get:function(){return Uq4.UniqueFragmentNamesRule}});Object.defineProperty(H6,"UniqueInputFieldNamesRule",{enumerable:!0,get:function(){return Oq4.UniqueInputFieldNamesRule}});Object.defineProperty(H6,"UniqueOperationNamesRule",{enumerable:!0,get:function(){return Dq4.UniqueOperationNamesRule}});Object.defineProperty(H6,"UniqueOperationTypesRule",{enumerable:!0,get:function(){return Pq4.UniqueOperationTypesRule}});Object.defineProperty(H6,"UniqueTypeNamesRule",{enumerable:!0,get:function(){return Lq4.UniqueTypeNamesRule}});Object.defineProperty(H6,"UniqueVariableNamesRule",{enumerable:!0,get:function(){return Vq4.UniqueVariableNamesRule}});Object.defineProperty(H6,"ValidationContext",{enumerable:!0,get:function(){return o34.ValidationContext}});Object.defineProperty(H6,"ValuesOfCorrectTypeRule",{enumerable:!0,get:function(){return Iq4.ValuesOfCorrectTypeRule}});Object.defineProperty(H6,"VariablesAreInputTypesRule",{enumerable:!0,get:function(){return wq4.VariablesAreInputTypesRule}});Object.defineProperty(H6,"VariablesInAllowedPositionRule",{enumerable:!0,get:function(){return Aq4.VariablesInAllowedPositionRule}});Object.defineProperty(H6,"recommendedRules",{enumerable:!0,get:function(){return rj1.recommendedRules}});Object.defineProperty(H6,"specifiedRules",{enumerable:!0,get:function(){return rj1.specifiedRules}});Object.defineProperty(H6,"validate",{enumerable:!0,get:function(){return i34.validate}});var i34=FN(),o34=us(),rj1=ds(),s34=vo(),a34=xo(),r34=go(),t34=uo(),e34=lo(),Jq4=po(),Zq4=io(),Xq4=oo(),Yq4=ro(),$q4=to(),zq4=eo(),Wq4=Js(),Qq4=Gs(),Gq4=qs(),Kq4=Fs(),qq4=Ds(),Bq4=Ms(),Hq4=Ps(),Fq4=js(),Uq4=Ts(),Oq4=fs(),Dq4=ks(),Vq4=_s(),Iq4=vs(),wq4=xs(),Aq4=gs(),Mq4=ao(),Nq4=so(),Pq4=bs(),Lq4=hs(),Cq4=Rs(),jq4=Ss(),Rq4=Ns(),Eq4=Ls(),Sq4=Bs(),Tq4=oj1(),fq4=aj1()});var ej1=B((pH)=>{Object.defineProperty(pH,"__esModule",{value:!0});Object.defineProperty(pH,"GraphQLError",{enumerable:!0,get:function(){return Ja.GraphQLError}});Object.defineProperty(pH,"formatError",{enumerable:!0,get:function(){return Ja.formatError}});Object.defineProperty(pH,"locatedError",{enumerable:!0,get:function(){return bq4.locatedError}});Object.defineProperty(pH,"printError",{enumerable:!0,get:function(){return Ja.printError}});Object.defineProperty(pH,"syntaxError",{enumerable:!0,get:function(){return kq4.syntaxError}});var Ja=O0(),kq4=sS(),bq4=TT()});var Za=B((JR1)=>{Object.defineProperty(JR1,"__esModule",{value:!0});JR1.getIntrospectionQuery=hq4;function hq4(J){let Z={descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1,inputValueDeprecation:!1,oneOf:!1,...J},X=Z.descriptions?"description":"",Y=Z.specifiedByUrl?"specifiedByURL":"",$=Z.directiveIsRepeatable?"isRepeatable":"",z=Z.schemaDescription?X:"";function W(G){return Z.inputValueDeprecation?G:""}let Q=Z.oneOf?"isOneOf":"";return`
    query IntrospectionQuery {
      __schema {
        ${z}
        queryType { name kind }
        mutationType { name kind }
        subscriptionType { name kind }
        types {
          ...FullType
        }
        directives {
          name
          ${X}
          ${$}
          locations
          args${W("(includeDeprecated: true)")} {
            ...InputValue
          }
        }
      }
    }

    fragment FullType on __Type {
      kind
      name
      ${X}
      ${Y}
      ${Q}
      fields(includeDeprecated: true) {
        name
        ${X}
        args${W("(includeDeprecated: true)")} {
          ...InputValue
        }
        type {
          ...TypeRef
        }
        isDeprecated
        deprecationReason
      }
      inputFields${W("(includeDeprecated: true)")} {
        ...InputValue
      }
      interfaces {
        ...TypeRef
      }
      enumValues(includeDeprecated: true) {
        name
        ${X}
        isDeprecated
        deprecationReason
      }
      possibleTypes {
        ...TypeRef
      }
    }

    fragment InputValue on __InputValue {
      name
      ${X}
      type { ...TypeRef }
      defaultValue
      ${W("isDeprecated")}
      ${W("deprecationReason")}
    }

    fragment TypeRef on __Type {
      kind
      name
      ofType {
        kind
        name
        ofType {
          kind
          name
          ofType {
            kind
            name
            ofType {
              kind
              name
              ofType {
                kind
                name
                ofType {
                  kind
                  name
                  ofType {
                    kind
                    name
                    ofType {
                      kind
                      name
                      ofType {
                        kind
                        name
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  `}});var XR1=B((ZR1)=>{Object.defineProperty(ZR1,"__esModule",{value:!0});ZR1.getOperationAST=vq4;var yq4=o6();function vq4(J,Z){let X=null;for(let $ of J.definitions)if($.kind===yq4.Kind.OPERATION_DEFINITION){var Y;if(Z==null){if(X)return null;X=$}else if(((Y=$.name)===null||Y===void 0?void 0:Y.value)===Z)return $}return X}});var $R1=B((YR1)=>{Object.defineProperty(YR1,"__esModule",{value:!0});YR1.getOperationRootType=gq4;var vT=O0();function gq4(J,Z){if(Z.operation==="query"){let X=J.getQueryType();if(!X)throw new vT.GraphQLError("Schema does not define the required query root type.",{nodes:Z});return X}if(Z.operation==="mutation"){let X=J.getMutationType();if(!X)throw new vT.GraphQLError("Schema is not configured for mutations.",{nodes:Z});return X}if(Z.operation==="subscription"){let X=J.getSubscriptionType();if(!X)throw new vT.GraphQLError("Schema is not configured for subscriptions.",{nodes:Z});return X}throw new vT.GraphQLError("Can only have query, mutation and subscription operations.",{nodes:Z})}});var WR1=B((zR1)=>{Object.defineProperty(zR1,"__esModule",{value:!0});zR1.introspectionFromSchema=pq4;var uq4=S9(),mq4=IV(),cq4=ON(),lq4=Za();function pq4(J,Z){let X={specifiedByUrl:!0,directiveIsRepeatable:!0,schemaDescription:!0,inputValueDeprecation:!0,oneOf:!0,...Z},Y=(0,mq4.parse)((0,lq4.getIntrospectionQuery)(X)),$=(0,cq4.executeSync)({schema:J,document:Y});return!$.errors&&$.data||(0,uq4.invariant)(!1),$.data}});var KR1=B((GR1)=>{Object.defineProperty(GR1,"__esModule",{value:!0});GR1.buildClientSchema=eq4;var iq4=z7(),OJ=M4(),QR1=H$(),xT=cM(),oq4=IV(),DJ=s6(),sq4=h7(),M$=eJ(),aq4=D$(),rq4=xH(),tq4=BN();function eq4(J,Z){(0,QR1.isObjectLike)(J)&&(0,QR1.isObjectLike)(J.__schema)||(0,iq4.devAssert)(!1,`Invalid or incomplete introspection result. Ensure that you are passing "data" property of introspection response and no "errors" was returned alongside: ${(0,OJ.inspect)(J)}.`);let X=J.__schema,Y=(0,xT.keyValMap)(X.types,(S)=>S.name,(S)=>F(S));for(let S of[...aq4.specifiedScalarTypes,...M$.introspectionTypes])if(Y[S.name])Y[S.name]=S;let $=X.queryType?q(X.queryType):null,z=X.mutationType?q(X.mutationType):null,W=X.subscriptionType?q(X.subscriptionType):null,Q=X.directives?X.directives.map(o):[];return new rq4.GraphQLSchema({description:X.description,query:$,mutation:z,subscription:W,types:Object.values(Y),directives:Q,assumeValid:Z===null||Z===void 0?void 0:Z.assumeValid});function G(S){if(S.kind===M$.TypeKind.LIST){let i=S.ofType;if(!i)throw new Error("Decorated type deeper than introspection query.");return new DJ.GraphQLList(G(i))}if(S.kind===M$.TypeKind.NON_NULL){let i=S.ofType;if(!i)throw new Error("Decorated type deeper than introspection query.");let u=G(i);return new DJ.GraphQLNonNull((0,DJ.assertNullableType)(u))}return K(S)}function K(S){let i=S.name;if(!i)throw new Error(`Unknown type reference: ${(0,OJ.inspect)(S)}.`);let u=Y[i];if(!u)throw new Error(`Invalid or incomplete schema, unknown type: ${i}. Ensure that a full introspection query is used in order to build a client schema.`);return u}function q(S){return(0,DJ.assertObjectType)(K(S))}function H(S){return(0,DJ.assertInterfaceType)(K(S))}function F(S){if(S!=null&&S.name!=null&&S.kind!=null)switch(S.kind){case M$.TypeKind.SCALAR:return U(S);case M$.TypeKind.OBJECT:return V(S);case M$.TypeKind.INTERFACE:return w(S);case M$.TypeKind.UNION:return M(S);case M$.TypeKind.ENUM:return P(S);case M$.TypeKind.INPUT_OBJECT:return R(S)}let i=(0,OJ.inspect)(S);throw new Error(`Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema: ${i}.`)}function U(S){return new DJ.GraphQLScalarType({name:S.name,description:S.description,specifiedByURL:S.specifiedByURL})}function D(S){if(S.interfaces===null&&S.kind===M$.TypeKind.INTERFACE)return[];if(!S.interfaces){let i=(0,OJ.inspect)(S);throw new Error(`Introspection result missing interfaces: ${i}.`)}return S.interfaces.map(H)}function V(S){return new DJ.GraphQLObjectType({name:S.name,description:S.description,interfaces:()=>D(S),fields:()=>f(S)})}function w(S){return new DJ.GraphQLInterfaceType({name:S.name,description:S.description,interfaces:()=>D(S),fields:()=>f(S)})}function M(S){if(!S.possibleTypes){let i=(0,OJ.inspect)(S);throw new Error(`Introspection result missing possibleTypes: ${i}.`)}return new DJ.GraphQLUnionType({name:S.name,description:S.description,types:()=>S.possibleTypes.map(q)})}function P(S){if(!S.enumValues){let i=(0,OJ.inspect)(S);throw new Error(`Introspection result missing enumValues: ${i}.`)}return new DJ.GraphQLEnumType({name:S.name,description:S.description,values:(0,xT.keyValMap)(S.enumValues,(i)=>i.name,(i)=>({description:i.description,deprecationReason:i.deprecationReason}))})}function R(S){if(!S.inputFields){let i=(0,OJ.inspect)(S);throw new Error(`Introspection result missing inputFields: ${i}.`)}return new DJ.GraphQLInputObjectType({name:S.name,description:S.description,fields:()=>v(S.inputFields),isOneOf:S.isOneOf})}function f(S){if(!S.fields)throw new Error(`Introspection result missing fields: ${(0,OJ.inspect)(S)}.`);return(0,xT.keyValMap)(S.fields,(i)=>i.name,d)}function d(S){let i=G(S.type);if(!(0,DJ.isOutputType)(i)){let u=(0,OJ.inspect)(i);throw new Error(`Introspection must provide output type for fields, but received: ${u}.`)}if(!S.args){let u=(0,OJ.inspect)(S);throw new Error(`Introspection result missing field args: ${u}.`)}return{description:S.description,deprecationReason:S.deprecationReason,type:i,args:v(S.args)}}function v(S){return(0,xT.keyValMap)(S,(i)=>i.name,l)}function l(S){let i=G(S.type);if(!(0,DJ.isInputType)(i)){let G1=(0,OJ.inspect)(i);throw new Error(`Introspection must provide input type for arguments, but received: ${G1}.`)}let u=S.defaultValue!=null?(0,tq4.valueFromAST)((0,oq4.parseValue)(S.defaultValue),i):void 0;return{description:S.description,type:i,defaultValue:u,deprecationReason:S.deprecationReason}}function o(S){if(!S.args){let i=(0,OJ.inspect)(S);throw new Error(`Introspection result missing directive args: ${i}.`)}if(!S.locations){let i=(0,OJ.inspect)(S);throw new Error(`Introspection result missing directive locations: ${i}.`)}return new sq4.GraphQLDirective({name:S.name,description:S.description,isRepeatable:S.isRepeatable,locations:S.locations.slice(),args:v(S.args)})}}});var Ya=B((IR1)=>{Object.defineProperty(IR1,"__esModule",{value:!0});IR1.extendSchema=WB4;IR1.extendSchemaImpl=VR1;var ZB4=z7(),XB4=M4(),YB4=S9(),$B4=gK(),wN=Yo(),XZ=o6(),qR1=dH(),C8=s6(),AN=h7(),OR1=eJ(),DR1=D$(),BR1=xH(),zB4=FN(),Xa=RV(),HR1=BN();function WB4(J,Z,X){if((0,BR1.assertSchema)(J),Z!=null&&Z.kind===XZ.Kind.DOCUMENT||(0,ZB4.devAssert)(!1,"Must provide valid Document AST."),(X===null||X===void 0?void 0:X.assumeValid)!==!0&&(X===null||X===void 0?void 0:X.assumeValidSDL)!==!0)(0,zB4.assertValidSDLExtension)(Z,J);let Y=J.toConfig(),$=VR1(Y,Z,X);return Y===$?J:new BR1.GraphQLSchema($)}function VR1(J,Z,X){var Y,$,z,W;let Q=[],G=Object.create(null),K=[],q,H=[];for(let Y1 of Z.definitions)if(Y1.kind===XZ.Kind.SCHEMA_DEFINITION)q=Y1;else if(Y1.kind===XZ.Kind.SCHEMA_EXTENSION)H.push(Y1);else if((0,qR1.isTypeDefinitionNode)(Y1))Q.push(Y1);else if((0,qR1.isTypeExtensionNode)(Y1)){let a=Y1.name.value,w1=G[a];G[a]=w1?w1.concat([Y1]):[Y1]}else if(Y1.kind===XZ.Kind.DIRECTIVE_DEFINITION)K.push(Y1);if(Object.keys(G).length===0&&Q.length===0&&K.length===0&&H.length===0&&q==null)return J;let F=Object.create(null);for(let Y1 of J.types)F[Y1.name]=P(Y1);for(let Y1 of Q){var U;let a=Y1.name.value;F[a]=(U=FR1[a])!==null&&U!==void 0?U:z0(Y1)}let D={query:J.query&&w(J.query),mutation:J.mutation&&w(J.mutation),subscription:J.subscription&&w(J.subscription),...q&&u([q]),...u(H)};return{description:(Y=q)===null||Y===void 0?void 0:($=Y.description)===null||$===void 0?void 0:$.value,...D,types:Object.values(F),directives:[...J.directives.map(M),...K.map(_)],extensions:Object.create(null),astNode:(z=q)!==null&&z!==void 0?z:J.astNode,extensionASTNodes:J.extensionASTNodes.concat(H),assumeValid:(W=X===null||X===void 0?void 0:X.assumeValid)!==null&&W!==void 0?W:!1};function V(Y1){if((0,C8.isListType)(Y1))return new C8.GraphQLList(V(Y1.ofType));if((0,C8.isNonNullType)(Y1))return new C8.GraphQLNonNull(V(Y1.ofType));return w(Y1)}function w(Y1){return F[Y1.name]}function M(Y1){let a=Y1.toConfig();return new AN.GraphQLDirective({...a,args:(0,wN.mapValue)(a.args,i)})}function P(Y1){if((0,OR1.isIntrospectionType)(Y1)||(0,DR1.isSpecifiedScalarType)(Y1))return Y1;if((0,C8.isScalarType)(Y1))return d(Y1);if((0,C8.isObjectType)(Y1))return v(Y1);if((0,C8.isInterfaceType)(Y1))return l(Y1);if((0,C8.isUnionType)(Y1))return o(Y1);if((0,C8.isEnumType)(Y1))return f(Y1);if((0,C8.isInputObjectType)(Y1))return R(Y1);(0,YB4.invariant)(!1,"Unexpected type: "+(0,XB4.inspect)(Y1))}function R(Y1){var a;let w1=Y1.toConfig(),I1=(a=G[w1.name])!==null&&a!==void 0?a:[];return new C8.GraphQLInputObjectType({...w1,fields:()=>({...(0,wN.mapValue)(w1.fields,(r1)=>({...r1,type:V(r1.type)})),...N1(I1)}),extensionASTNodes:w1.extensionASTNodes.concat(I1)})}function f(Y1){var a;let w1=Y1.toConfig(),I1=(a=G[Y1.name])!==null&&a!==void 0?a:[];return new C8.GraphQLEnumType({...w1,values:{...w1.values,...m1(I1)},extensionASTNodes:w1.extensionASTNodes.concat(I1)})}function d(Y1){var a;let w1=Y1.toConfig(),I1=(a=G[w1.name])!==null&&a!==void 0?a:[],r1=w1.specifiedByURL;for(let H0 of I1){var Y0;r1=(Y0=UR1(H0))!==null&&Y0!==void 0?Y0:r1}return new C8.GraphQLScalarType({...w1,specifiedByURL:r1,extensionASTNodes:w1.extensionASTNodes.concat(I1)})}function v(Y1){var a;let w1=Y1.toConfig(),I1=(a=G[w1.name])!==null&&a!==void 0?a:[];return new C8.GraphQLObjectType({...w1,interfaces:()=>[...Y1.getInterfaces().map(w),...h1(I1)],fields:()=>({...(0,wN.mapValue)(w1.fields,S),...Z1(I1)}),extensionASTNodes:w1.extensionASTNodes.concat(I1)})}function l(Y1){var a;let w1=Y1.toConfig(),I1=(a=G[w1.name])!==null&&a!==void 0?a:[];return new C8.GraphQLInterfaceType({...w1,interfaces:()=>[...Y1.getInterfaces().map(w),...h1(I1)],fields:()=>({...(0,wN.mapValue)(w1.fields,S),...Z1(I1)}),extensionASTNodes:w1.extensionASTNodes.concat(I1)})}function o(Y1){var a;let w1=Y1.toConfig(),I1=(a=G[w1.name])!==null&&a!==void 0?a:[];return new C8.GraphQLUnionType({...w1,types:()=>[...Y1.getTypes().map(w),...X0(I1)],extensionASTNodes:w1.extensionASTNodes.concat(I1)})}function S(Y1){return{...Y1,type:V(Y1.type),args:Y1.args&&(0,wN.mapValue)(Y1.args,i)}}function i(Y1){return{...Y1,type:V(Y1.type)}}function u(Y1){let a={};for(let I1 of Y1){var w1;let r1=(w1=I1.operationTypes)!==null&&w1!==void 0?w1:[];for(let Y0 of r1)a[Y0.operation]=G1(Y0.type)}return a}function G1(Y1){var a;let w1=Y1.name.value,I1=(a=FR1[w1])!==null&&a!==void 0?a:F[w1];if(I1===void 0)throw new Error(`Unknown type: "${w1}".`);return I1}function e(Y1){if(Y1.kind===XZ.Kind.LIST_TYPE)return new C8.GraphQLList(e(Y1.type));if(Y1.kind===XZ.Kind.NON_NULL_TYPE)return new C8.GraphQLNonNull(e(Y1.type));return G1(Y1)}function _(Y1){var a;return new AN.GraphQLDirective({name:Y1.name.value,description:(a=Y1.description)===null||a===void 0?void 0:a.value,locations:Y1.locations.map(({value:w1})=>w1),isRepeatable:Y1.repeatable,args:V1(Y1.arguments),astNode:Y1})}function Z1(Y1){let a=Object.create(null);for(let r1 of Y1){var w1;let Y0=(w1=r1.fields)!==null&&w1!==void 0?w1:[];for(let H0 of Y0){var I1;a[H0.name.value]={type:e(H0.type),description:(I1=H0.description)===null||I1===void 0?void 0:I1.value,args:V1(H0.arguments),deprecationReason:gT(H0),astNode:H0}}}return a}function V1(Y1){let a=Y1!==null&&Y1!==void 0?Y1:[],w1=Object.create(null);for(let r1 of a){var I1;let Y0=e(r1.type);w1[r1.name.value]={type:Y0,description:(I1=r1.description)===null||I1===void 0?void 0:I1.value,defaultValue:(0,HR1.valueFromAST)(r1.defaultValue,Y0),deprecationReason:gT(r1),astNode:r1}}return w1}function N1(Y1){let a=Object.create(null);for(let r1 of Y1){var w1;let Y0=(w1=r1.fields)!==null&&w1!==void 0?w1:[];for(let H0 of Y0){var I1;let k=e(H0.type);a[H0.name.value]={type:k,description:(I1=H0.description)===null||I1===void 0?void 0:I1.value,defaultValue:(0,HR1.valueFromAST)(H0.defaultValue,k),deprecationReason:gT(H0),astNode:H0}}}return a}function m1(Y1){let a=Object.create(null);for(let r1 of Y1){var w1;let Y0=(w1=r1.values)!==null&&w1!==void 0?w1:[];for(let H0 of Y0){var I1;a[H0.name.value]={description:(I1=H0.description)===null||I1===void 0?void 0:I1.value,deprecationReason:gT(H0),astNode:H0}}}return a}function h1(Y1){return Y1.flatMap((a)=>{var w1,I1;return(w1=(I1=a.interfaces)===null||I1===void 0?void 0:I1.map(G1))!==null&&w1!==void 0?w1:[]})}function X0(Y1){return Y1.flatMap((a)=>{var w1,I1;return(w1=(I1=a.types)===null||I1===void 0?void 0:I1.map(G1))!==null&&w1!==void 0?w1:[]})}function z0(Y1){var a;let w1=Y1.name.value,I1=(a=G[w1])!==null&&a!==void 0?a:[];switch(Y1.kind){case XZ.Kind.OBJECT_TYPE_DEFINITION:{var r1;let j=[Y1,...I1];return new C8.GraphQLObjectType({name:w1,description:(r1=Y1.description)===null||r1===void 0?void 0:r1.value,interfaces:()=>h1(j),fields:()=>Z1(j),astNode:Y1,extensionASTNodes:I1})}case XZ.Kind.INTERFACE_TYPE_DEFINITION:{var Y0;let j=[Y1,...I1];return new C8.GraphQLInterfaceType({name:w1,description:(Y0=Y1.description)===null||Y0===void 0?void 0:Y0.value,interfaces:()=>h1(j),fields:()=>Z1(j),astNode:Y1,extensionASTNodes:I1})}case XZ.Kind.ENUM_TYPE_DEFINITION:{var H0;let j=[Y1,...I1];return new C8.GraphQLEnumType({name:w1,description:(H0=Y1.description)===null||H0===void 0?void 0:H0.value,values:m1(j),astNode:Y1,extensionASTNodes:I1})}case XZ.Kind.UNION_TYPE_DEFINITION:{var k;let j=[Y1,...I1];return new C8.GraphQLUnionType({name:w1,description:(k=Y1.description)===null||k===void 0?void 0:k.value,types:()=>X0(j),astNode:Y1,extensionASTNodes:I1})}case XZ.Kind.SCALAR_TYPE_DEFINITION:{var b;return new C8.GraphQLScalarType({name:w1,description:(b=Y1.description)===null||b===void 0?void 0:b.value,specifiedByURL:UR1(Y1),astNode:Y1,extensionASTNodes:I1})}case XZ.Kind.INPUT_OBJECT_TYPE_DEFINITION:{var A;let j=[Y1,...I1];return new C8.GraphQLInputObjectType({name:w1,description:(A=Y1.description)===null||A===void 0?void 0:A.value,fields:()=>N1(j),astNode:Y1,extensionASTNodes:I1,isOneOf:QB4(Y1)})}}}}var FR1=(0,$B4.keyMap)([...DR1.specifiedScalarTypes,...OR1.introspectionTypes],(J)=>J.name);function gT(J){let Z=(0,Xa.getDirectiveValues)(AN.GraphQLDeprecatedDirective,J);return Z===null||Z===void 0?void 0:Z.reason}function UR1(J){let Z=(0,Xa.getDirectiveValues)(AN.GraphQLSpecifiedByDirective,J);return Z===null||Z===void 0?void 0:Z.url}function QB4(J){return Boolean((0,Xa.getDirectiveValues)(AN.GraphQLOneOfDirective,J))}});var MR1=B((AR1)=>{Object.defineProperty(AR1,"__esModule",{value:!0});AR1.buildASTSchema=wR1;AR1.buildSchema=VB4;var qB4=z7(),BB4=o6(),HB4=IV(),FB4=h7(),UB4=xH(),OB4=FN(),DB4=Ya();function wR1(J,Z){if(J!=null&&J.kind===BB4.Kind.DOCUMENT||(0,qB4.devAssert)(!1,"Must provide valid Document AST."),(Z===null||Z===void 0?void 0:Z.assumeValid)!==!0&&(Z===null||Z===void 0?void 0:Z.assumeValidSDL)!==!0)(0,OB4.assertValidSDL)(J);let X={description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},Y=(0,DB4.extendSchemaImpl)(X,J,Z);if(Y.astNode==null)for(let z of Y.types)switch(z.name){case"Query":Y.query=z;break;case"Mutation":Y.mutation=z;break;case"Subscription":Y.subscription=z;break}let $=[...Y.directives,...FB4.specifiedDirectives.filter((z)=>Y.directives.every((W)=>W.name!==z.name))];return new UB4.GraphQLSchema({...Y,directives:$})}function VB4(J,Z){let X=(0,HB4.parse)(J,{noLocation:Z===null||Z===void 0?void 0:Z.noLocation,allowLegacyFragmentVariables:Z===null||Z===void 0?void 0:Z.allowLegacyFragmentVariables});return wR1(X,{assumeValidSDL:Z===null||Z===void 0?void 0:Z.assumeValidSDL,assumeValid:Z===null||Z===void 0?void 0:Z.assumeValid})}});var CR1=B((LR1)=>{Object.defineProperty(LR1,"__esModule",{value:!0});LR1.lexicographicSortSchema=jB4;var AB4=M4(),MB4=S9(),NB4=cM(),NR1=lM(),W7=s6(),PB4=h7(),LB4=eJ(),CB4=xH();function jB4(J){let Z=J.toConfig(),X=(0,NB4.keyValMap)($a(Z.types),(F)=>F.name,H);return new CB4.GraphQLSchema({...Z,types:Object.values(X),directives:$a(Z.directives).map(W),query:z(Z.query),mutation:z(Z.mutation),subscription:z(Z.subscription)});function Y(F){if((0,W7.isListType)(F))return new W7.GraphQLList(Y(F.ofType));else if((0,W7.isNonNullType)(F))return new W7.GraphQLNonNull(Y(F.ofType));return $(F)}function $(F){return X[F.name]}function z(F){return F&&$(F)}function W(F){let U=F.toConfig();return new PB4.GraphQLDirective({...U,locations:PR1(U.locations,(D)=>D),args:Q(U.args)})}function Q(F){return dT(F,(U)=>({...U,type:Y(U.type)}))}function G(F){return dT(F,(U)=>({...U,type:Y(U.type),args:U.args&&Q(U.args)}))}function K(F){return dT(F,(U)=>({...U,type:Y(U.type)}))}function q(F){return $a(F).map($)}function H(F){if((0,W7.isScalarType)(F)||(0,LB4.isIntrospectionType)(F))return F;if((0,W7.isObjectType)(F)){let U=F.toConfig();return new W7.GraphQLObjectType({...U,interfaces:()=>q(U.interfaces),fields:()=>G(U.fields)})}if((0,W7.isInterfaceType)(F)){let U=F.toConfig();return new W7.GraphQLInterfaceType({...U,interfaces:()=>q(U.interfaces),fields:()=>G(U.fields)})}if((0,W7.isUnionType)(F)){let U=F.toConfig();return new W7.GraphQLUnionType({...U,types:()=>q(U.types)})}if((0,W7.isEnumType)(F)){let U=F.toConfig();return new W7.GraphQLEnumType({...U,values:dT(U.values,(D)=>D)})}if((0,W7.isInputObjectType)(F)){let U=F.toConfig();return new W7.GraphQLInputObjectType({...U,fields:()=>K(U.fields)})}(0,MB4.invariant)(!1,"Unexpected type: "+(0,AB4.inspect)(F))}}function dT(J,Z){let X=Object.create(null);for(let Y of Object.keys(J).sort(NR1.naturalCompare))X[Y]=Z(J[Y]);return X}function $a(J){return PR1(J,(Z)=>Z.name)}function PR1(J,Z){return J.slice().sort((X,Y)=>{let $=Z(X),z=Z(Y);return(0,NR1.naturalCompare)($,z)})}});var bR1=B((kR1)=>{Object.defineProperty(kR1,"__esModule",{value:!0});kR1.printIntrospectionSchema=hB4;kR1.printSchema=bB4;kR1.printType=ER1;var EB4=M4(),SB4=S9(),TB4=xM(),Wa=o6(),uT=UJ(),SV=s6(),Qa=h7(),jR1=eJ(),fB4=D$(),kB4=XN();function bB4(J){return RR1(J,(Z)=>!(0,Qa.isSpecifiedDirective)(Z),_B4)}function hB4(J){return RR1(J,Qa.isSpecifiedDirective,jR1.isIntrospectionType)}function _B4(J){return!(0,fB4.isSpecifiedScalarType)(J)&&!(0,jR1.isIntrospectionType)(J)}function RR1(J,Z,X){let Y=J.getDirectives().filter(Z),$=Object.values(J.getTypeMap()).filter(X);return[yB4(J),...Y.map((z)=>lB4(z)),...$.map((z)=>ER1(z))].filter(Boolean).join(`

`)}function yB4(J){if(J.description==null&&vB4(J))return;let Z=[],X=J.getQueryType();if(X)Z.push(`  query: ${X.name}`);let Y=J.getMutationType();if(Y)Z.push(`  mutation: ${Y.name}`);let $=J.getSubscriptionType();if($)Z.push(`  subscription: ${$.name}`);return YZ(J)+`schema {
${Z.join(`
`)}
}`}function vB4(J){let Z=J.getQueryType();if(Z&&Z.name!=="Query")return!1;let X=J.getMutationType();if(X&&X.name!=="Mutation")return!1;let Y=J.getSubscriptionType();if(Y&&Y.name!=="Subscription")return!1;return!0}function ER1(J){if((0,SV.isScalarType)(J))return xB4(J);if((0,SV.isObjectType)(J))return gB4(J);if((0,SV.isInterfaceType)(J))return dB4(J);if((0,SV.isUnionType)(J))return uB4(J);if((0,SV.isEnumType)(J))return mB4(J);if((0,SV.isInputObjectType)(J))return cB4(J);(0,SB4.invariant)(!1,"Unexpected type: "+(0,EB4.inspect)(J))}function xB4(J){return YZ(J)+`scalar ${J.name}`+pB4(J)}function SR1(J){let Z=J.getInterfaces();return Z.length?" implements "+Z.map((X)=>X.name).join(" & "):""}function gB4(J){return YZ(J)+`type ${J.name}`+SR1(J)+TR1(J)}function dB4(J){return YZ(J)+`interface ${J.name}`+SR1(J)+TR1(J)}function uB4(J){let Z=J.getTypes(),X=Z.length?" = "+Z.join(" | "):"";return YZ(J)+"union "+J.name+X}function mB4(J){let Z=J.getValues().map((X,Y)=>YZ(X,"  ",!Y)+"  "+X.name+Ka(X.deprecationReason));return YZ(J)+`enum ${J.name}`+Ga(Z)}function cB4(J){let Z=Object.values(J.getFields()).map((X,Y)=>YZ(X,"  ",!Y)+"  "+za(X));return YZ(J)+`input ${J.name}`+(J.isOneOf?" @oneOf":"")+Ga(Z)}function TR1(J){let Z=Object.values(J.getFields()).map((X,Y)=>YZ(X,"  ",!Y)+"  "+X.name+fR1(X.args,"  ")+": "+String(X.type)+Ka(X.deprecationReason));return Ga(Z)}function Ga(J){return J.length!==0?` {
`+J.join(`
`)+`
}`:""}function fR1(J,Z=""){if(J.length===0)return"";if(J.every((X)=>!X.description))return"("+J.map(za).join(", ")+")";return`(
`+J.map((X,Y)=>YZ(X,"  "+Z,!Y)+"  "+Z+za(X)).join(`
`)+`
`+Z+")"}function za(J){let Z=(0,kB4.astFromValue)(J.defaultValue,J.type),X=J.name+": "+String(J.type);if(Z)X+=` = ${(0,uT.print)(Z)}`;return X+Ka(J.deprecationReason)}function lB4(J){return YZ(J)+"directive @"+J.name+fR1(J.args)+(J.isRepeatable?" repeatable":"")+" on "+J.locations.join(" | ")}function Ka(J){if(J==null)return"";if(J!==Qa.DEFAULT_DEPRECATION_REASON)return` @deprecated(reason: ${(0,uT.print)({kind:Wa.Kind.STRING,value:J})})`;return" @deprecated"}function pB4(J){if(J.specifiedByURL==null)return"";return` @specifiedBy(url: ${(0,uT.print)({kind:Wa.Kind.STRING,value:J.specifiedByURL})})`}function YZ(J,Z="",X=!0){let{description:Y}=J;if(Y==null)return"";let $=(0,uT.print)({kind:Wa.Kind.STRING,value:Y,block:(0,TB4.isPrintableAsBlockString)(Y)});return(Z&&!X?`
`+Z:Z)+$.replace(/\n/g,`
`+Z)+`
`}});var _R1=B((hR1)=>{Object.defineProperty(hR1,"__esModule",{value:!0});hR1.concatAST=aB4;var sB4=o6();function aB4(J){let Z=[];for(let X of J)Z.push(...X.definitions);return{kind:sB4.Kind.DOCUMENT,definitions:Z}}});var gR1=B((xR1)=>{Object.defineProperty(xR1,"__esModule",{value:!0});xR1.separateOperations=eB4;var mT=o6(),tB4=kH();function eB4(J){let Z=[],X=Object.create(null);for(let $ of J.definitions)switch($.kind){case mT.Kind.OPERATION_DEFINITION:Z.push($);break;case mT.Kind.FRAGMENT_DEFINITION:X[$.name.value]=yR1($.selectionSet);break;default:}let Y=Object.create(null);for(let $ of Z){let z=new Set;for(let Q of yR1($.selectionSet))vR1(z,X,Q);let W=$.name?$.name.value:"";Y[W]={kind:mT.Kind.DOCUMENT,definitions:J.definitions.filter((Q)=>Q===$||Q.kind===mT.Kind.FRAGMENT_DEFINITION&&z.has(Q.name.value))}}return Y}function vR1(J,Z,X){if(!J.has(X)){J.add(X);let Y=Z[X];if(Y!==void 0)for(let $ of Y)vR1(J,Z,$)}}function yR1(J){let Z=[];return(0,tB4.visit)(J,{FragmentSpread(X){Z.push(X.name.value)}}),Z}});var cR1=B((mR1)=>{Object.defineProperty(mR1,"__esModule",{value:!0});mR1.stripIgnoredCharacters=XH4;var ZH4=xM(),dR1=tS(),uR1=JT(),qa=gM();function XH4(J){let Z=(0,uR1.isSource)(J)?J:new uR1.Source(J),X=Z.body,Y=new dR1.Lexer(Z),$="",z=!1;while(Y.advance().kind!==qa.TokenKind.EOF){let W=Y.token,Q=W.kind,G=!(0,dR1.isPunctuatorTokenKind)(W.kind);if(z){if(G||W.kind===qa.TokenKind.SPREAD)$+=" "}let K=X.slice(W.start,W.end);if(Q===qa.TokenKind.BLOCK_STRING)$+=(0,ZH4.printBlockString)(W.value,{minimize:!0});else $+=K;z=G}return $}});var nR1=B((pR1)=>{Object.defineProperty(pR1,"__esModule",{value:!0});pR1.assertValidName=QH4;pR1.isValidNameError=lR1;var $H4=z7(),zH4=O0(),WH4=pM();function QH4(J){let Z=lR1(J);if(Z)throw Z;return J}function lR1(J){if(typeof J==="string"||(0,$H4.devAssert)(!1,"Expected name to be a string."),J.startsWith("__"))return new zH4.GraphQLError(`Name "${J}" must not begin with "__", which is reserved by GraphQL introspection.`);try{(0,WH4.assertName)(J)}catch(Z){return Z}}});var XE1=B((JE1)=>{Object.defineProperty(JE1,"__esModule",{value:!0});JE1.DangerousChangeType=JE1.BreakingChangeType=void 0;JE1.findBreakingChanges=OH4;JE1.findDangerousChanges=DH4;var qH4=M4(),tR1=S9(),iR1=gK(),BH4=UJ(),O4=s6(),HH4=D$(),FH4=XN(),UH4=Xs(),m8;JE1.BreakingChangeType=m8;(function(J){J.TYPE_REMOVED="TYPE_REMOVED",J.TYPE_CHANGED_KIND="TYPE_CHANGED_KIND",J.TYPE_REMOVED_FROM_UNION="TYPE_REMOVED_FROM_UNION",J.VALUE_REMOVED_FROM_ENUM="VALUE_REMOVED_FROM_ENUM",J.REQUIRED_INPUT_FIELD_ADDED="REQUIRED_INPUT_FIELD_ADDED",J.IMPLEMENTED_INTERFACE_REMOVED="IMPLEMENTED_INTERFACE_REMOVED",J.FIELD_REMOVED="FIELD_REMOVED",J.FIELD_CHANGED_KIND="FIELD_CHANGED_KIND",J.REQUIRED_ARG_ADDED="REQUIRED_ARG_ADDED",J.ARG_REMOVED="ARG_REMOVED",J.ARG_CHANGED_KIND="ARG_CHANGED_KIND",J.DIRECTIVE_REMOVED="DIRECTIVE_REMOVED",J.DIRECTIVE_ARG_REMOVED="DIRECTIVE_ARG_REMOVED",J.REQUIRED_DIRECTIVE_ARG_ADDED="REQUIRED_DIRECTIVE_ARG_ADDED",J.DIRECTIVE_REPEATABLE_REMOVED="DIRECTIVE_REPEATABLE_REMOVED",J.DIRECTIVE_LOCATION_REMOVED="DIRECTIVE_LOCATION_REMOVED"})(m8||(JE1.BreakingChangeType=m8={}));var GY;JE1.DangerousChangeType=GY;(function(J){J.VALUE_ADDED_TO_ENUM="VALUE_ADDED_TO_ENUM",J.TYPE_ADDED_TO_UNION="TYPE_ADDED_TO_UNION",J.OPTIONAL_INPUT_FIELD_ADDED="OPTIONAL_INPUT_FIELD_ADDED",J.OPTIONAL_ARG_ADDED="OPTIONAL_ARG_ADDED",J.IMPLEMENTED_INTERFACE_ADDED="IMPLEMENTED_INTERFACE_ADDED",J.ARG_DEFAULT_VALUE_CHANGE="ARG_DEFAULT_VALUE_CHANGE"})(GY||(JE1.DangerousChangeType=GY={}));function OH4(J,Z){return eR1(J,Z).filter((X)=>(X.type in m8))}function DH4(J,Z){return eR1(J,Z).filter((X)=>(X.type in GY))}function eR1(J,Z){return[...IH4(J,Z),...VH4(J,Z)]}function VH4(J,Z){let X=[],Y=UQ(J.getDirectives(),Z.getDirectives());for(let $ of Y.removed)X.push({type:m8.DIRECTIVE_REMOVED,description:`${$.name} was removed.`});for(let[$,z]of Y.persisted){let W=UQ($.args,z.args);for(let Q of W.added)if((0,O4.isRequiredArgument)(Q))X.push({type:m8.REQUIRED_DIRECTIVE_ARG_ADDED,description:`A required arg ${Q.name} on directive ${$.name} was added.`});for(let Q of W.removed)X.push({type:m8.DIRECTIVE_ARG_REMOVED,description:`${Q.name} was removed from ${$.name}.`});if($.isRepeatable&&!z.isRepeatable)X.push({type:m8.DIRECTIVE_REPEATABLE_REMOVED,description:`Repeatable flag was removed from ${$.name}.`});for(let Q of $.locations)if(!z.locations.includes(Q))X.push({type:m8.DIRECTIVE_LOCATION_REMOVED,description:`${Q} was removed from ${$.name}.`})}return X}function IH4(J,Z){let X=[],Y=UQ(Object.values(J.getTypeMap()),Object.values(Z.getTypeMap()));for(let $ of Y.removed)X.push({type:m8.TYPE_REMOVED,description:(0,HH4.isSpecifiedScalarType)($)?`Standard scalar ${$.name} was removed because it is not referenced anymore.`:`${$.name} was removed.`});for(let[$,z]of Y.persisted)if((0,O4.isEnumType)($)&&(0,O4.isEnumType)(z))X.push(...MH4($,z));else if((0,O4.isUnionType)($)&&(0,O4.isUnionType)(z))X.push(...AH4($,z));else if((0,O4.isInputObjectType)($)&&(0,O4.isInputObjectType)(z))X.push(...wH4($,z));else if((0,O4.isObjectType)($)&&(0,O4.isObjectType)(z))X.push(...sR1($,z),...oR1($,z));else if((0,O4.isInterfaceType)($)&&(0,O4.isInterfaceType)(z))X.push(...sR1($,z),...oR1($,z));else if($.constructor!==z.constructor)X.push({type:m8.TYPE_CHANGED_KIND,description:`${$.name} changed from ${aR1($)} to ${aR1(z)}.`});return X}function wH4(J,Z){let X=[],Y=UQ(Object.values(J.getFields()),Object.values(Z.getFields()));for(let $ of Y.added)if((0,O4.isRequiredInputField)($))X.push({type:m8.REQUIRED_INPUT_FIELD_ADDED,description:`A required field ${$.name} on input type ${J.name} was added.`});else X.push({type:GY.OPTIONAL_INPUT_FIELD_ADDED,description:`An optional field ${$.name} on input type ${J.name} was added.`});for(let $ of Y.removed)X.push({type:m8.FIELD_REMOVED,description:`${J.name}.${$.name} was removed.`});for(let[$,z]of Y.persisted)if(!NN($.type,z.type))X.push({type:m8.FIELD_CHANGED_KIND,description:`${J.name}.${$.name} changed type from ${String($.type)} to ${String(z.type)}.`});return X}function AH4(J,Z){let X=[],Y=UQ(J.getTypes(),Z.getTypes());for(let $ of Y.added)X.push({type:GY.TYPE_ADDED_TO_UNION,description:`${$.name} was added to union type ${J.name}.`});for(let $ of Y.removed)X.push({type:m8.TYPE_REMOVED_FROM_UNION,description:`${$.name} was removed from union type ${J.name}.`});return X}function MH4(J,Z){let X=[],Y=UQ(J.getValues(),Z.getValues());for(let $ of Y.added)X.push({type:GY.VALUE_ADDED_TO_ENUM,description:`${$.name} was added to enum type ${J.name}.`});for(let $ of Y.removed)X.push({type:m8.VALUE_REMOVED_FROM_ENUM,description:`${$.name} was removed from enum type ${J.name}.`});return X}function oR1(J,Z){let X=[],Y=UQ(J.getInterfaces(),Z.getInterfaces());for(let $ of Y.added)X.push({type:GY.IMPLEMENTED_INTERFACE_ADDED,description:`${$.name} added to interfaces implemented by ${J.name}.`});for(let $ of Y.removed)X.push({type:m8.IMPLEMENTED_INTERFACE_REMOVED,description:`${J.name} no longer implements interface ${$.name}.`});return X}function sR1(J,Z){let X=[],Y=UQ(Object.values(J.getFields()),Object.values(Z.getFields()));for(let $ of Y.removed)X.push({type:m8.FIELD_REMOVED,description:`${J.name}.${$.name} was removed.`});for(let[$,z]of Y.persisted)if(X.push(...NH4(J,$,z)),!MN($.type,z.type))X.push({type:m8.FIELD_CHANGED_KIND,description:`${J.name}.${$.name} changed type from ${String($.type)} to ${String(z.type)}.`});return X}function NH4(J,Z,X){let Y=[],$=UQ(Z.args,X.args);for(let z of $.removed)Y.push({type:m8.ARG_REMOVED,description:`${J.name}.${Z.name} arg ${z.name} was removed.`});for(let[z,W]of $.persisted)if(!NN(z.type,W.type))Y.push({type:m8.ARG_CHANGED_KIND,description:`${J.name}.${Z.name} arg ${z.name} has changed type from ${String(z.type)} to ${String(W.type)}.`});else if(z.defaultValue!==void 0)if(W.defaultValue===void 0)Y.push({type:GY.ARG_DEFAULT_VALUE_CHANGE,description:`${J.name}.${Z.name} arg ${z.name} defaultValue was removed.`});else{let G=rR1(z.defaultValue,z.type),K=rR1(W.defaultValue,W.type);if(G!==K)Y.push({type:GY.ARG_DEFAULT_VALUE_CHANGE,description:`${J.name}.${Z.name} arg ${z.name} has changed defaultValue from ${G} to ${K}.`})}for(let z of $.added)if((0,O4.isRequiredArgument)(z))Y.push({type:m8.REQUIRED_ARG_ADDED,description:`A required arg ${z.name} on ${J.name}.${Z.name} was added.`});else Y.push({type:GY.OPTIONAL_ARG_ADDED,description:`An optional arg ${z.name} on ${J.name}.${Z.name} was added.`});return Y}function MN(J,Z){if((0,O4.isListType)(J))return(0,O4.isListType)(Z)&&MN(J.ofType,Z.ofType)||(0,O4.isNonNullType)(Z)&&MN(J,Z.ofType);if((0,O4.isNonNullType)(J))return(0,O4.isNonNullType)(Z)&&MN(J.ofType,Z.ofType);return(0,O4.isNamedType)(Z)&&J.name===Z.name||(0,O4.isNonNullType)(Z)&&MN(J,Z.ofType)}function NN(J,Z){if((0,O4.isListType)(J))return(0,O4.isListType)(Z)&&NN(J.ofType,Z.ofType);if((0,O4.isNonNullType)(J))return(0,O4.isNonNullType)(Z)&&NN(J.ofType,Z.ofType)||!(0,O4.isNonNullType)(Z)&&NN(J.ofType,Z);return(0,O4.isNamedType)(Z)&&J.name===Z.name}function aR1(J){if((0,O4.isScalarType)(J))return"a Scalar type";if((0,O4.isObjectType)(J))return"an Object type";if((0,O4.isInterfaceType)(J))return"an Interface type";if((0,O4.isUnionType)(J))return"a Union type";if((0,O4.isEnumType)(J))return"an Enum type";if((0,O4.isInputObjectType)(J))return"an Input type";(0,tR1.invariant)(!1,"Unexpected type: "+(0,qH4.inspect)(J))}function rR1(J,Z){let X=(0,FH4.astFromValue)(J,Z);return X!=null||(0,tR1.invariant)(!1),(0,BH4.print)((0,UH4.sortValueNode)(X))}function UQ(J,Z){let X=[],Y=[],$=[],z=(0,iR1.keyMap)(J,({name:Q})=>Q),W=(0,iR1.keyMap)(Z,({name:Q})=>Q);for(let Q of J){let G=W[Q.name];if(G===void 0)Y.push(Q);else $.push([Q,G])}for(let Q of Z)if(z[Q.name]===void 0)X.push(Q);return{added:X,persisted:$,removed:Y}}});var WE1=B((K4)=>{Object.defineProperty(K4,"__esModule",{value:!0});Object.defineProperty(K4,"BreakingChangeType",{enumerable:!0,get:function(){return cT.BreakingChangeType}});Object.defineProperty(K4,"DangerousChangeType",{enumerable:!0,get:function(){return cT.DangerousChangeType}});Object.defineProperty(K4,"TypeInfo",{enumerable:!0,get:function(){return $E1.TypeInfo}});Object.defineProperty(K4,"assertValidName",{enumerable:!0,get:function(){return zE1.assertValidName}});Object.defineProperty(K4,"astFromValue",{enumerable:!0,get:function(){return _H4.astFromValue}});Object.defineProperty(K4,"buildASTSchema",{enumerable:!0,get:function(){return YE1.buildASTSchema}});Object.defineProperty(K4,"buildClientSchema",{enumerable:!0,get:function(){return SH4.buildClientSchema}});Object.defineProperty(K4,"buildSchema",{enumerable:!0,get:function(){return YE1.buildSchema}});Object.defineProperty(K4,"coerceInputValue",{enumerable:!0,get:function(){return yH4.coerceInputValue}});Object.defineProperty(K4,"concatAST",{enumerable:!0,get:function(){return vH4.concatAST}});Object.defineProperty(K4,"doTypesOverlap",{enumerable:!0,get:function(){return Fa.doTypesOverlap}});Object.defineProperty(K4,"extendSchema",{enumerable:!0,get:function(){return TH4.extendSchema}});Object.defineProperty(K4,"findBreakingChanges",{enumerable:!0,get:function(){return cT.findBreakingChanges}});Object.defineProperty(K4,"findDangerousChanges",{enumerable:!0,get:function(){return cT.findDangerousChanges}});Object.defineProperty(K4,"getIntrospectionQuery",{enumerable:!0,get:function(){return CH4.getIntrospectionQuery}});Object.defineProperty(K4,"getOperationAST",{enumerable:!0,get:function(){return jH4.getOperationAST}});Object.defineProperty(K4,"getOperationRootType",{enumerable:!0,get:function(){return RH4.getOperationRootType}});Object.defineProperty(K4,"introspectionFromSchema",{enumerable:!0,get:function(){return EH4.introspectionFromSchema}});Object.defineProperty(K4,"isEqualType",{enumerable:!0,get:function(){return Fa.isEqualType}});Object.defineProperty(K4,"isTypeSubTypeOf",{enumerable:!0,get:function(){return Fa.isTypeSubTypeOf}});Object.defineProperty(K4,"isValidNameError",{enumerable:!0,get:function(){return zE1.isValidNameError}});Object.defineProperty(K4,"lexicographicSortSchema",{enumerable:!0,get:function(){return fH4.lexicographicSortSchema}});Object.defineProperty(K4,"printIntrospectionSchema",{enumerable:!0,get:function(){return Ha.printIntrospectionSchema}});Object.defineProperty(K4,"printSchema",{enumerable:!0,get:function(){return Ha.printSchema}});Object.defineProperty(K4,"printType",{enumerable:!0,get:function(){return Ha.printType}});Object.defineProperty(K4,"separateOperations",{enumerable:!0,get:function(){return xH4.separateOperations}});Object.defineProperty(K4,"stripIgnoredCharacters",{enumerable:!0,get:function(){return gH4.stripIgnoredCharacters}});Object.defineProperty(K4,"typeFromAST",{enumerable:!0,get:function(){return kH4.typeFromAST}});Object.defineProperty(K4,"valueFromAST",{enumerable:!0,get:function(){return bH4.valueFromAST}});Object.defineProperty(K4,"valueFromASTUntyped",{enumerable:!0,get:function(){return hH4.valueFromASTUntyped}});Object.defineProperty(K4,"visitWithTypeInfo",{enumerable:!0,get:function(){return $E1.visitWithTypeInfo}});var CH4=Za(),jH4=XR1(),RH4=$R1(),EH4=WR1(),SH4=KR1(),YE1=MR1(),TH4=Ya(),fH4=CR1(),Ha=bR1(),kH4=V$(),bH4=BN(),hH4=Qo(),_H4=XN(),$E1=VT(),yH4=Is(),vH4=_R1(),xH4=gR1(),gH4=cR1(),Fa=sM(),zE1=nR1(),cT=XE1()});var B6=B((s)=>{Object.defineProperty(s,"__esModule",{value:!0});Object.defineProperty(s,"BREAK",{enumerable:!0,get:function(){return V4.BREAK}});Object.defineProperty(s,"BreakingChangeType",{enumerable:!0,get:function(){return I4.BreakingChangeType}});Object.defineProperty(s,"DEFAULT_DEPRECATION_REASON",{enumerable:!0,get:function(){return R1.DEFAULT_DEPRECATION_REASON}});Object.defineProperty(s,"DangerousChangeType",{enumerable:!0,get:function(){return I4.DangerousChangeType}});Object.defineProperty(s,"DirectiveLocation",{enumerable:!0,get:function(){return V4.DirectiveLocation}});Object.defineProperty(s,"ExecutableDefinitionsRule",{enumerable:!0,get:function(){return A6.ExecutableDefinitionsRule}});Object.defineProperty(s,"FieldsOnCorrectTypeRule",{enumerable:!0,get:function(){return A6.FieldsOnCorrectTypeRule}});Object.defineProperty(s,"FragmentsOnCompositeTypesRule",{enumerable:!0,get:function(){return A6.FragmentsOnCompositeTypesRule}});Object.defineProperty(s,"GRAPHQL_MAX_INT",{enumerable:!0,get:function(){return R1.GRAPHQL_MAX_INT}});Object.defineProperty(s,"GRAPHQL_MIN_INT",{enumerable:!0,get:function(){return R1.GRAPHQL_MIN_INT}});Object.defineProperty(s,"GraphQLBoolean",{enumerable:!0,get:function(){return R1.GraphQLBoolean}});Object.defineProperty(s,"GraphQLDeprecatedDirective",{enumerable:!0,get:function(){return R1.GraphQLDeprecatedDirective}});Object.defineProperty(s,"GraphQLDirective",{enumerable:!0,get:function(){return R1.GraphQLDirective}});Object.defineProperty(s,"GraphQLEnumType",{enumerable:!0,get:function(){return R1.GraphQLEnumType}});Object.defineProperty(s,"GraphQLError",{enumerable:!0,get:function(){return PN.GraphQLError}});Object.defineProperty(s,"GraphQLFloat",{enumerable:!0,get:function(){return R1.GraphQLFloat}});Object.defineProperty(s,"GraphQLID",{enumerable:!0,get:function(){return R1.GraphQLID}});Object.defineProperty(s,"GraphQLIncludeDirective",{enumerable:!0,get:function(){return R1.GraphQLIncludeDirective}});Object.defineProperty(s,"GraphQLInputObjectType",{enumerable:!0,get:function(){return R1.GraphQLInputObjectType}});Object.defineProperty(s,"GraphQLInt",{enumerable:!0,get:function(){return R1.GraphQLInt}});Object.defineProperty(s,"GraphQLInterfaceType",{enumerable:!0,get:function(){return R1.GraphQLInterfaceType}});Object.defineProperty(s,"GraphQLList",{enumerable:!0,get:function(){return R1.GraphQLList}});Object.defineProperty(s,"GraphQLNonNull",{enumerable:!0,get:function(){return R1.GraphQLNonNull}});Object.defineProperty(s,"GraphQLObjectType",{enumerable:!0,get:function(){return R1.GraphQLObjectType}});Object.defineProperty(s,"GraphQLOneOfDirective",{enumerable:!0,get:function(){return R1.GraphQLOneOfDirective}});Object.defineProperty(s,"GraphQLScalarType",{enumerable:!0,get:function(){return R1.GraphQLScalarType}});Object.defineProperty(s,"GraphQLSchema",{enumerable:!0,get:function(){return R1.GraphQLSchema}});Object.defineProperty(s,"GraphQLSkipDirective",{enumerable:!0,get:function(){return R1.GraphQLSkipDirective}});Object.defineProperty(s,"GraphQLSpecifiedByDirective",{enumerable:!0,get:function(){return R1.GraphQLSpecifiedByDirective}});Object.defineProperty(s,"GraphQLString",{enumerable:!0,get:function(){return R1.GraphQLString}});Object.defineProperty(s,"GraphQLUnionType",{enumerable:!0,get:function(){return R1.GraphQLUnionType}});Object.defineProperty(s,"Kind",{enumerable:!0,get:function(){return V4.Kind}});Object.defineProperty(s,"KnownArgumentNamesRule",{enumerable:!0,get:function(){return A6.KnownArgumentNamesRule}});Object.defineProperty(s,"KnownDirectivesRule",{enumerable:!0,get:function(){return A6.KnownDirectivesRule}});Object.defineProperty(s,"KnownFragmentNamesRule",{enumerable:!0,get:function(){return A6.KnownFragmentNamesRule}});Object.defineProperty(s,"KnownTypeNamesRule",{enumerable:!0,get:function(){return A6.KnownTypeNamesRule}});Object.defineProperty(s,"Lexer",{enumerable:!0,get:function(){return V4.Lexer}});Object.defineProperty(s,"Location",{enumerable:!0,get:function(){return V4.Location}});Object.defineProperty(s,"LoneAnonymousOperationRule",{enumerable:!0,get:function(){return A6.LoneAnonymousOperationRule}});Object.defineProperty(s,"LoneSchemaDefinitionRule",{enumerable:!0,get:function(){return A6.LoneSchemaDefinitionRule}});Object.defineProperty(s,"MaxIntrospectionDepthRule",{enumerable:!0,get:function(){return A6.MaxIntrospectionDepthRule}});Object.defineProperty(s,"NoDeprecatedCustomRule",{enumerable:!0,get:function(){return A6.NoDeprecatedCustomRule}});Object.defineProperty(s,"NoFragmentCyclesRule",{enumerable:!0,get:function(){return A6.NoFragmentCyclesRule}});Object.defineProperty(s,"NoSchemaIntrospectionCustomRule",{enumerable:!0,get:function(){return A6.NoSchemaIntrospectionCustomRule}});Object.defineProperty(s,"NoUndefinedVariablesRule",{enumerable:!0,get:function(){return A6.NoUndefinedVariablesRule}});Object.defineProperty(s,"NoUnusedFragmentsRule",{enumerable:!0,get:function(){return A6.NoUnusedFragmentsRule}});Object.defineProperty(s,"NoUnusedVariablesRule",{enumerable:!0,get:function(){return A6.NoUnusedVariablesRule}});Object.defineProperty(s,"OperationTypeNode",{enumerable:!0,get:function(){return V4.OperationTypeNode}});Object.defineProperty(s,"OverlappingFieldsCanBeMergedRule",{enumerable:!0,get:function(){return A6.OverlappingFieldsCanBeMergedRule}});Object.defineProperty(s,"PossibleFragmentSpreadsRule",{enumerable:!0,get:function(){return A6.PossibleFragmentSpreadsRule}});Object.defineProperty(s,"PossibleTypeExtensionsRule",{enumerable:!0,get:function(){return A6.PossibleTypeExtensionsRule}});Object.defineProperty(s,"ProvidedRequiredArgumentsRule",{enumerable:!0,get:function(){return A6.ProvidedRequiredArgumentsRule}});Object.defineProperty(s,"ScalarLeafsRule",{enumerable:!0,get:function(){return A6.ScalarLeafsRule}});Object.defineProperty(s,"SchemaMetaFieldDef",{enumerable:!0,get:function(){return R1.SchemaMetaFieldDef}});Object.defineProperty(s,"SingleFieldSubscriptionsRule",{enumerable:!0,get:function(){return A6.SingleFieldSubscriptionsRule}});Object.defineProperty(s,"Source",{enumerable:!0,get:function(){return V4.Source}});Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return V4.Token}});Object.defineProperty(s,"TokenKind",{enumerable:!0,get:function(){return V4.TokenKind}});Object.defineProperty(s,"TypeInfo",{enumerable:!0,get:function(){return I4.TypeInfo}});Object.defineProperty(s,"TypeKind",{enumerable:!0,get:function(){return R1.TypeKind}});Object.defineProperty(s,"TypeMetaFieldDef",{enumerable:!0,get:function(){return R1.TypeMetaFieldDef}});Object.defineProperty(s,"TypeNameMetaFieldDef",{enumerable:!0,get:function(){return R1.TypeNameMetaFieldDef}});Object.defineProperty(s,"UniqueArgumentDefinitionNamesRule",{enumerable:!0,get:function(){return A6.UniqueArgumentDefinitionNamesRule}});Object.defineProperty(s,"UniqueArgumentNamesRule",{enumerable:!0,get:function(){return A6.UniqueArgumentNamesRule}});Object.defineProperty(s,"UniqueDirectiveNamesRule",{enumerable:!0,get:function(){return A6.UniqueDirectiveNamesRule}});Object.defineProperty(s,"UniqueDirectivesPerLocationRule",{enumerable:!0,get:function(){return A6.UniqueDirectivesPerLocationRule}});Object.defineProperty(s,"UniqueEnumValueNamesRule",{enumerable:!0,get:function(){return A6.UniqueEnumValueNamesRule}});Object.defineProperty(s,"UniqueFieldDefinitionNamesRule",{enumerable:!0,get:function(){return A6.UniqueFieldDefinitionNamesRule}});Object.defineProperty(s,"UniqueFragmentNamesRule",{enumerable:!0,get:function(){return A6.UniqueFragmentNamesRule}});Object.defineProperty(s,"UniqueInputFieldNamesRule",{enumerable:!0,get:function(){return A6.UniqueInputFieldNamesRule}});Object.defineProperty(s,"UniqueOperationNamesRule",{enumerable:!0,get:function(){return A6.UniqueOperationNamesRule}});Object.defineProperty(s,"UniqueOperationTypesRule",{enumerable:!0,get:function(){return A6.UniqueOperationTypesRule}});Object.defineProperty(s,"UniqueTypeNamesRule",{enumerable:!0,get:function(){return A6.UniqueTypeNamesRule}});Object.defineProperty(s,"UniqueVariableNamesRule",{enumerable:!0,get:function(){return A6.UniqueVariableNamesRule}});Object.defineProperty(s,"ValidationContext",{enumerable:!0,get:function(){return A6.ValidationContext}});Object.defineProperty(s,"ValuesOfCorrectTypeRule",{enumerable:!0,get:function(){return A6.ValuesOfCorrectTypeRule}});Object.defineProperty(s,"VariablesAreInputTypesRule",{enumerable:!0,get:function(){return A6.VariablesAreInputTypesRule}});Object.defineProperty(s,"VariablesInAllowedPositionRule",{enumerable:!0,get:function(){return A6.VariablesInAllowedPositionRule}});Object.defineProperty(s,"__Directive",{enumerable:!0,get:function(){return R1.__Directive}});Object.defineProperty(s,"__DirectiveLocation",{enumerable:!0,get:function(){return R1.__DirectiveLocation}});Object.defineProperty(s,"__EnumValue",{enumerable:!0,get:function(){return R1.__EnumValue}});Object.defineProperty(s,"__Field",{enumerable:!0,get:function(){return R1.__Field}});Object.defineProperty(s,"__InputValue",{enumerable:!0,get:function(){return R1.__InputValue}});Object.defineProperty(s,"__Schema",{enumerable:!0,get:function(){return R1.__Schema}});Object.defineProperty(s,"__Type",{enumerable:!0,get:function(){return R1.__Type}});Object.defineProperty(s,"__TypeKind",{enumerable:!0,get:function(){return R1.__TypeKind}});Object.defineProperty(s,"assertAbstractType",{enumerable:!0,get:function(){return R1.assertAbstractType}});Object.defineProperty(s,"assertCompositeType",{enumerable:!0,get:function(){return R1.assertCompositeType}});Object.defineProperty(s,"assertDirective",{enumerable:!0,get:function(){return R1.assertDirective}});Object.defineProperty(s,"assertEnumType",{enumerable:!0,get:function(){return R1.assertEnumType}});Object.defineProperty(s,"assertEnumValueName",{enumerable:!0,get:function(){return R1.assertEnumValueName}});Object.defineProperty(s,"assertInputObjectType",{enumerable:!0,get:function(){return R1.assertInputObjectType}});Object.defineProperty(s,"assertInputType",{enumerable:!0,get:function(){return R1.assertInputType}});Object.defineProperty(s,"assertInterfaceType",{enumerable:!0,get:function(){return R1.assertInterfaceType}});Object.defineProperty(s,"assertLeafType",{enumerable:!0,get:function(){return R1.assertLeafType}});Object.defineProperty(s,"assertListType",{enumerable:!0,get:function(){return R1.assertListType}});Object.defineProperty(s,"assertName",{enumerable:!0,get:function(){return R1.assertName}});Object.defineProperty(s,"assertNamedType",{enumerable:!0,get:function(){return R1.assertNamedType}});Object.defineProperty(s,"assertNonNullType",{enumerable:!0,get:function(){return R1.assertNonNullType}});Object.defineProperty(s,"assertNullableType",{enumerable:!0,get:function(){return R1.assertNullableType}});Object.defineProperty(s,"assertObjectType",{enumerable:!0,get:function(){return R1.assertObjectType}});Object.defineProperty(s,"assertOutputType",{enumerable:!0,get:function(){return R1.assertOutputType}});Object.defineProperty(s,"assertScalarType",{enumerable:!0,get:function(){return R1.assertScalarType}});Object.defineProperty(s,"assertSchema",{enumerable:!0,get:function(){return R1.assertSchema}});Object.defineProperty(s,"assertType",{enumerable:!0,get:function(){return R1.assertType}});Object.defineProperty(s,"assertUnionType",{enumerable:!0,get:function(){return R1.assertUnionType}});Object.defineProperty(s,"assertValidName",{enumerable:!0,get:function(){return I4.assertValidName}});Object.defineProperty(s,"assertValidSchema",{enumerable:!0,get:function(){return R1.assertValidSchema}});Object.defineProperty(s,"assertWrappingType",{enumerable:!0,get:function(){return R1.assertWrappingType}});Object.defineProperty(s,"astFromValue",{enumerable:!0,get:function(){return I4.astFromValue}});Object.defineProperty(s,"buildASTSchema",{enumerable:!0,get:function(){return I4.buildASTSchema}});Object.defineProperty(s,"buildClientSchema",{enumerable:!0,get:function(){return I4.buildClientSchema}});Object.defineProperty(s,"buildSchema",{enumerable:!0,get:function(){return I4.buildSchema}});Object.defineProperty(s,"coerceInputValue",{enumerable:!0,get:function(){return I4.coerceInputValue}});Object.defineProperty(s,"concatAST",{enumerable:!0,get:function(){return I4.concatAST}});Object.defineProperty(s,"createSourceEventStream",{enumerable:!0,get:function(){return N$.createSourceEventStream}});Object.defineProperty(s,"defaultFieldResolver",{enumerable:!0,get:function(){return N$.defaultFieldResolver}});Object.defineProperty(s,"defaultTypeResolver",{enumerable:!0,get:function(){return N$.defaultTypeResolver}});Object.defineProperty(s,"doTypesOverlap",{enumerable:!0,get:function(){return I4.doTypesOverlap}});Object.defineProperty(s,"execute",{enumerable:!0,get:function(){return N$.execute}});Object.defineProperty(s,"executeSync",{enumerable:!0,get:function(){return N$.executeSync}});Object.defineProperty(s,"extendSchema",{enumerable:!0,get:function(){return I4.extendSchema}});Object.defineProperty(s,"findBreakingChanges",{enumerable:!0,get:function(){return I4.findBreakingChanges}});Object.defineProperty(s,"findDangerousChanges",{enumerable:!0,get:function(){return I4.findDangerousChanges}});Object.defineProperty(s,"formatError",{enumerable:!0,get:function(){return PN.formatError}});Object.defineProperty(s,"getArgumentValues",{enumerable:!0,get:function(){return N$.getArgumentValues}});Object.defineProperty(s,"getDirectiveValues",{enumerable:!0,get:function(){return N$.getDirectiveValues}});Object.defineProperty(s,"getEnterLeaveForKind",{enumerable:!0,get:function(){return V4.getEnterLeaveForKind}});Object.defineProperty(s,"getIntrospectionQuery",{enumerable:!0,get:function(){return I4.getIntrospectionQuery}});Object.defineProperty(s,"getLocation",{enumerable:!0,get:function(){return V4.getLocation}});Object.defineProperty(s,"getNamedType",{enumerable:!0,get:function(){return R1.getNamedType}});Object.defineProperty(s,"getNullableType",{enumerable:!0,get:function(){return R1.getNullableType}});Object.defineProperty(s,"getOperationAST",{enumerable:!0,get:function(){return I4.getOperationAST}});Object.defineProperty(s,"getOperationRootType",{enumerable:!0,get:function(){return I4.getOperationRootType}});Object.defineProperty(s,"getVariableValues",{enumerable:!0,get:function(){return N$.getVariableValues}});Object.defineProperty(s,"getVisitFn",{enumerable:!0,get:function(){return V4.getVisitFn}});Object.defineProperty(s,"graphql",{enumerable:!0,get:function(){return GE1.graphql}});Object.defineProperty(s,"graphqlSync",{enumerable:!0,get:function(){return GE1.graphqlSync}});Object.defineProperty(s,"introspectionFromSchema",{enumerable:!0,get:function(){return I4.introspectionFromSchema}});Object.defineProperty(s,"introspectionTypes",{enumerable:!0,get:function(){return R1.introspectionTypes}});Object.defineProperty(s,"isAbstractType",{enumerable:!0,get:function(){return R1.isAbstractType}});Object.defineProperty(s,"isCompositeType",{enumerable:!0,get:function(){return R1.isCompositeType}});Object.defineProperty(s,"isConstValueNode",{enumerable:!0,get:function(){return V4.isConstValueNode}});Object.defineProperty(s,"isDefinitionNode",{enumerable:!0,get:function(){return V4.isDefinitionNode}});Object.defineProperty(s,"isDirective",{enumerable:!0,get:function(){return R1.isDirective}});Object.defineProperty(s,"isEnumType",{enumerable:!0,get:function(){return R1.isEnumType}});Object.defineProperty(s,"isEqualType",{enumerable:!0,get:function(){return I4.isEqualType}});Object.defineProperty(s,"isExecutableDefinitionNode",{enumerable:!0,get:function(){return V4.isExecutableDefinitionNode}});Object.defineProperty(s,"isInputObjectType",{enumerable:!0,get:function(){return R1.isInputObjectType}});Object.defineProperty(s,"isInputType",{enumerable:!0,get:function(){return R1.isInputType}});Object.defineProperty(s,"isInterfaceType",{enumerable:!0,get:function(){return R1.isInterfaceType}});Object.defineProperty(s,"isIntrospectionType",{enumerable:!0,get:function(){return R1.isIntrospectionType}});Object.defineProperty(s,"isLeafType",{enumerable:!0,get:function(){return R1.isLeafType}});Object.defineProperty(s,"isListType",{enumerable:!0,get:function(){return R1.isListType}});Object.defineProperty(s,"isNamedType",{enumerable:!0,get:function(){return R1.isNamedType}});Object.defineProperty(s,"isNonNullType",{enumerable:!0,get:function(){return R1.isNonNullType}});Object.defineProperty(s,"isNullableType",{enumerable:!0,get:function(){return R1.isNullableType}});Object.defineProperty(s,"isObjectType",{enumerable:!0,get:function(){return R1.isObjectType}});Object.defineProperty(s,"isOutputType",{enumerable:!0,get:function(){return R1.isOutputType}});Object.defineProperty(s,"isRequiredArgument",{enumerable:!0,get:function(){return R1.isRequiredArgument}});Object.defineProperty(s,"isRequiredInputField",{enumerable:!0,get:function(){return R1.isRequiredInputField}});Object.defineProperty(s,"isScalarType",{enumerable:!0,get:function(){return R1.isScalarType}});Object.defineProperty(s,"isSchema",{enumerable:!0,get:function(){return R1.isSchema}});Object.defineProperty(s,"isSelectionNode",{enumerable:!0,get:function(){return V4.isSelectionNode}});Object.defineProperty(s,"isSpecifiedDirective",{enumerable:!0,get:function(){return R1.isSpecifiedDirective}});Object.defineProperty(s,"isSpecifiedScalarType",{enumerable:!0,get:function(){return R1.isSpecifiedScalarType}});Object.defineProperty(s,"isType",{enumerable:!0,get:function(){return R1.isType}});Object.defineProperty(s,"isTypeDefinitionNode",{enumerable:!0,get:function(){return V4.isTypeDefinitionNode}});Object.defineProperty(s,"isTypeExtensionNode",{enumerable:!0,get:function(){return V4.isTypeExtensionNode}});Object.defineProperty(s,"isTypeNode",{enumerable:!0,get:function(){return V4.isTypeNode}});Object.defineProperty(s,"isTypeSubTypeOf",{enumerable:!0,get:function(){return I4.isTypeSubTypeOf}});Object.defineProperty(s,"isTypeSystemDefinitionNode",{enumerable:!0,get:function(){return V4.isTypeSystemDefinitionNode}});Object.defineProperty(s,"isTypeSystemExtensionNode",{enumerable:!0,get:function(){return V4.isTypeSystemExtensionNode}});Object.defineProperty(s,"isUnionType",{enumerable:!0,get:function(){return R1.isUnionType}});Object.defineProperty(s,"isValidNameError",{enumerable:!0,get:function(){return I4.isValidNameError}});Object.defineProperty(s,"isValueNode",{enumerable:!0,get:function(){return V4.isValueNode}});Object.defineProperty(s,"isWrappingType",{enumerable:!0,get:function(){return R1.isWrappingType}});Object.defineProperty(s,"lexicographicSortSchema",{enumerable:!0,get:function(){return I4.lexicographicSortSchema}});Object.defineProperty(s,"locatedError",{enumerable:!0,get:function(){return PN.locatedError}});Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return V4.parse}});Object.defineProperty(s,"parseConstValue",{enumerable:!0,get:function(){return V4.parseConstValue}});Object.defineProperty(s,"parseType",{enumerable:!0,get:function(){return V4.parseType}});Object.defineProperty(s,"parseValue",{enumerable:!0,get:function(){return V4.parseValue}});Object.defineProperty(s,"print",{enumerable:!0,get:function(){return V4.print}});Object.defineProperty(s,"printError",{enumerable:!0,get:function(){return PN.printError}});Object.defineProperty(s,"printIntrospectionSchema",{enumerable:!0,get:function(){return I4.printIntrospectionSchema}});Object.defineProperty(s,"printLocation",{enumerable:!0,get:function(){return V4.printLocation}});Object.defineProperty(s,"printSchema",{enumerable:!0,get:function(){return I4.printSchema}});Object.defineProperty(s,"printSourceLocation",{enumerable:!0,get:function(){return V4.printSourceLocation}});Object.defineProperty(s,"printType",{enumerable:!0,get:function(){return I4.printType}});Object.defineProperty(s,"recommendedRules",{enumerable:!0,get:function(){return A6.recommendedRules}});Object.defineProperty(s,"resolveObjMapThunk",{enumerable:!0,get:function(){return R1.resolveObjMapThunk}});Object.defineProperty(s,"resolveReadonlyArrayThunk",{enumerable:!0,get:function(){return R1.resolveReadonlyArrayThunk}});Object.defineProperty(s,"responsePathAsArray",{enumerable:!0,get:function(){return N$.responsePathAsArray}});Object.defineProperty(s,"separateOperations",{enumerable:!0,get:function(){return I4.separateOperations}});Object.defineProperty(s,"specifiedDirectives",{enumerable:!0,get:function(){return R1.specifiedDirectives}});Object.defineProperty(s,"specifiedRules",{enumerable:!0,get:function(){return A6.specifiedRules}});Object.defineProperty(s,"specifiedScalarTypes",{enumerable:!0,get:function(){return R1.specifiedScalarTypes}});Object.defineProperty(s,"stripIgnoredCharacters",{enumerable:!0,get:function(){return I4.stripIgnoredCharacters}});Object.defineProperty(s,"subscribe",{enumerable:!0,get:function(){return N$.subscribe}});Object.defineProperty(s,"syntaxError",{enumerable:!0,get:function(){return PN.syntaxError}});Object.defineProperty(s,"typeFromAST",{enumerable:!0,get:function(){return I4.typeFromAST}});Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return A6.validate}});Object.defineProperty(s,"validateSchema",{enumerable:!0,get:function(){return R1.validateSchema}});Object.defineProperty(s,"valueFromAST",{enumerable:!0,get:function(){return I4.valueFromAST}});Object.defineProperty(s,"valueFromASTUntyped",{enumerable:!0,get:function(){return I4.valueFromASTUntyped}});Object.defineProperty(s,"version",{enumerable:!0,get:function(){return QE1.version}});Object.defineProperty(s,"versionInfo",{enumerable:!0,get:function(){return QE1.versionInfo}});Object.defineProperty(s,"visit",{enumerable:!0,get:function(){return V4.visit}});Object.defineProperty(s,"visitInParallel",{enumerable:!0,get:function(){return V4.visitInParallel}});Object.defineProperty(s,"visitWithTypeInfo",{enumerable:!0,get:function(){return I4.visitWithTypeInfo}});var QE1=wN1(),GE1=Tj1(),R1=bj1(),V4=_j1(),N$=nj1(),A6=tj1(),PN=ej1(),I4=WE1()});var mS1=B((F59,uS1)=>{uS1.exports=function(J){J.prototype[Symbol.iterator]=function*(){for(let Z=this.head;Z;Z=Z.next)yield Z.value}}});var lS1=B((U59,cS1)=>{cS1.exports=D4;D4.Node=aH;D4.create=D4;function D4(J){var Z=this;if(!(Z instanceof D4))Z=new D4;if(Z.tail=null,Z.head=null,Z.length=0,J&&typeof J.forEach==="function")J.forEach(function($){Z.push($)});else if(arguments.length>0)for(var X=0,Y=arguments.length;X<Y;X++)Z.push(arguments[X]);return Z}D4.prototype.removeNode=function(J){if(J.list!==this)throw new Error("removing node which does not belong to this list");var{next:Z,prev:X}=J;if(Z)Z.prev=X;if(X)X.next=Z;if(J===this.head)this.head=Z;if(J===this.tail)this.tail=X;return J.list.length--,J.next=null,J.prev=null,J.list=null,Z};D4.prototype.unshiftNode=function(J){if(J===this.head)return;if(J.list)J.list.removeNode(J);var Z=this.head;if(J.list=this,J.next=Z,Z)Z.prev=J;if(this.head=J,!this.tail)this.tail=J;this.length++};D4.prototype.pushNode=function(J){if(J===this.tail)return;if(J.list)J.list.removeNode(J);var Z=this.tail;if(J.list=this,J.prev=Z,Z)Z.next=J;if(this.tail=J,!this.head)this.head=J;this.length++};D4.prototype.push=function(){for(var J=0,Z=arguments.length;J<Z;J++)$U4(this,arguments[J]);return this.length};D4.prototype.unshift=function(){for(var J=0,Z=arguments.length;J<Z;J++)zU4(this,arguments[J]);return this.length};D4.prototype.pop=function(){if(!this.tail)return;var J=this.tail.value;if(this.tail=this.tail.prev,this.tail)this.tail.next=null;else this.head=null;return this.length--,J};D4.prototype.shift=function(){if(!this.head)return;var J=this.head.value;if(this.head=this.head.next,this.head)this.head.prev=null;else this.tail=null;return this.length--,J};D4.prototype.forEach=function(J,Z){Z=Z||this;for(var X=this.head,Y=0;X!==null;Y++)J.call(Z,X.value,Y,this),X=X.next};D4.prototype.forEachReverse=function(J,Z){Z=Z||this;for(var X=this.tail,Y=this.length-1;X!==null;Y--)J.call(Z,X.value,Y,this),X=X.prev};D4.prototype.get=function(J){for(var Z=0,X=this.head;X!==null&&Z<J;Z++)X=X.next;if(Z===J&&X!==null)return X.value};D4.prototype.getReverse=function(J){for(var Z=0,X=this.tail;X!==null&&Z<J;Z++)X=X.prev;if(Z===J&&X!==null)return X.value};D4.prototype.map=function(J,Z){Z=Z||this;var X=new D4;for(var Y=this.head;Y!==null;)X.push(J.call(Z,Y.value,this)),Y=Y.next;return X};D4.prototype.mapReverse=function(J,Z){Z=Z||this;var X=new D4;for(var Y=this.tail;Y!==null;)X.push(J.call(Z,Y.value,this)),Y=Y.prev;return X};D4.prototype.reduce=function(J,Z){var X,Y=this.head;if(arguments.length>1)X=Z;else if(this.head)Y=this.head.next,X=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var $=0;Y!==null;$++)X=J(X,Y.value,$),Y=Y.next;return X};D4.prototype.reduceReverse=function(J,Z){var X,Y=this.tail;if(arguments.length>1)X=Z;else if(this.tail)Y=this.tail.prev,X=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var $=this.length-1;Y!==null;$--)X=J(X,Y.value,$),Y=Y.prev;return X};D4.prototype.toArray=function(){var J=new Array(this.length);for(var Z=0,X=this.head;X!==null;Z++)J[Z]=X.value,X=X.next;return J};D4.prototype.toArrayReverse=function(){var J=new Array(this.length);for(var Z=0,X=this.tail;X!==null;Z++)J[Z]=X.value,X=X.prev;return J};D4.prototype.slice=function(J,Z){if(Z=Z||this.length,Z<0)Z+=this.length;if(J=J||0,J<0)J+=this.length;var X=new D4;if(Z<J||Z<0)return X;if(J<0)J=0;if(Z>this.length)Z=this.length;for(var Y=0,$=this.head;$!==null&&Y<J;Y++)$=$.next;for(;$!==null&&Y<Z;Y++,$=$.next)X.push($.value);return X};D4.prototype.sliceReverse=function(J,Z){if(Z=Z||this.length,Z<0)Z+=this.length;if(J=J||0,J<0)J+=this.length;var X=new D4;if(Z<J||Z<0)return X;if(J<0)J=0;if(Z>this.length)Z=this.length;for(var Y=this.length,$=this.tail;$!==null&&Y>Z;Y--)$=$.prev;for(;$!==null&&Y>J;Y--,$=$.prev)X.push($.value);return X};D4.prototype.splice=function(J,Z,...X){if(J>this.length)J=this.length-1;if(J<0)J=this.length+J;for(var Y=0,$=this.head;$!==null&&Y<J;Y++)$=$.next;var z=[];for(var Y=0;$&&Y<Z;Y++)z.push($.value),$=this.removeNode($);if($===null)$=this.tail;if($!==this.head&&$!==this.tail)$=$.prev;for(var Y=0;Y<X.length;Y++)$=YU4(this,$,X[Y]);return z};D4.prototype.reverse=function(){var J=this.head,Z=this.tail;for(var X=J;X!==null;X=X.prev){var Y=X.prev;X.prev=X.next,X.next=Y}return this.head=Z,this.tail=J,this};function YU4(J,Z,X){var Y=Z===J.head?new aH(X,null,Z,J):new aH(X,Z,Z.next,J);if(Y.next===null)J.tail=Y;if(Y.prev===null)J.head=Y;return J.length++,Y}function $U4(J,Z){if(J.tail=new aH(Z,J.tail,null,J),!J.head)J.head=J.tail;J.length++}function zU4(J,Z){if(J.head=new aH(Z,null,J.head,J),!J.tail)J.tail=J.head;J.length++}function aH(J,Z,X,Y){if(!(this instanceof aH))return new aH(J,Z,X,Y);if(this.list=Y,this.value=J,Z)Z.next=this,this.prev=Z;else this.prev=null;if(X)X.prev=this,this.next=X;else this.next=null}try{mS1()(D4)}catch(J){}});var rS1=B((O59,aS1)=>{var WU4=lS1(),rH=Symbol("max"),VQ=Symbol("length"),lV=Symbol("lengthCalculator"),fN=Symbol("allowStale"),tH=Symbol("maxAge"),DQ=Symbol("dispose"),pS1=Symbol("noDisposeOnSet"),o5=Symbol("lruList"),BY=Symbol("cache"),iS1=Symbol("updateAgeOnGet"),ha=()=>1;class oS1{constructor(J){if(typeof J==="number")J={max:J};if(!J)J={};if(J.max&&(typeof J.max!=="number"||J.max<0))throw new TypeError("max must be a non-negative number");let Z=this[rH]=J.max||1/0,X=J.length||ha;if(this[lV]=typeof X!=="function"?ha:X,this[fN]=J.stale||!1,J.maxAge&&typeof J.maxAge!=="number")throw new TypeError("maxAge must be a number");this[tH]=J.maxAge||0,this[DQ]=J.dispose,this[pS1]=J.noDisposeOnSet||!1,this[iS1]=J.updateAgeOnGet||!1,this.reset()}set max(J){if(typeof J!=="number"||J<0)throw new TypeError("max must be a non-negative number");this[rH]=J||1/0,TN(this)}get max(){return this[rH]}set allowStale(J){this[fN]=!!J}get allowStale(){return this[fN]}set maxAge(J){if(typeof J!=="number")throw new TypeError("maxAge must be a non-negative number");this[tH]=J,TN(this)}get maxAge(){return this[tH]}set lengthCalculator(J){if(typeof J!=="function")J=ha;if(J!==this[lV])this[lV]=J,this[VQ]=0,this[o5].forEach((Z)=>{Z.length=this[lV](Z.value,Z.key),this[VQ]+=Z.length});TN(this)}get lengthCalculator(){return this[lV]}get length(){return this[VQ]}get itemCount(){return this[o5].length}rforEach(J,Z){Z=Z||this;for(let X=this[o5].tail;X!==null;){let Y=X.prev;nS1(this,J,X,Z),X=Y}}forEach(J,Z){Z=Z||this;for(let X=this[o5].head;X!==null;){let Y=X.next;nS1(this,J,X,Z),X=Y}}keys(){return this[o5].toArray().map((J)=>J.key)}values(){return this[o5].toArray().map((J)=>J.value)}reset(){if(this[DQ]&&this[o5]&&this[o5].length)this[o5].forEach((J)=>this[DQ](J.key,J.value));this[BY]=new Map,this[o5]=new WU4,this[VQ]=0}dump(){return this[o5].map((J)=>wf(this,J)?!1:{k:J.key,v:J.value,e:J.now+(J.maxAge||0)}).toArray().filter((J)=>J)}dumpLru(){return this[o5]}set(J,Z,X){if(X=X||this[tH],X&&typeof X!=="number")throw new TypeError("maxAge must be a number");let Y=X?Date.now():0,$=this[lV](Z,J);if(this[BY].has(J)){if($>this[rH])return pV(this,this[BY].get(J)),!1;let Q=this[BY].get(J).value;if(this[DQ]){if(!this[pS1])this[DQ](J,Q.value)}return Q.now=Y,Q.maxAge=X,Q.value=Z,this[VQ]+=$-Q.length,Q.length=$,this.get(J),TN(this),!0}let z=new sS1(J,Z,$,Y,X);if(z.length>this[rH]){if(this[DQ])this[DQ](J,Z);return!1}return this[VQ]+=z.length,this[o5].unshift(z),this[BY].set(J,this[o5].head),TN(this),!0}has(J){if(!this[BY].has(J))return!1;let Z=this[BY].get(J).value;return!wf(this,Z)}get(J){return _a(this,J,!0)}peek(J){return _a(this,J,!1)}pop(){let J=this[o5].tail;if(!J)return null;return pV(this,J),J.value}del(J){pV(this,this[BY].get(J))}load(J){this.reset();let Z=Date.now();for(let X=J.length-1;X>=0;X--){let Y=J[X],$=Y.e||0;if($===0)this.set(Y.k,Y.v);else{let z=$-Z;if(z>0)this.set(Y.k,Y.v,z)}}}prune(){this[BY].forEach((J,Z)=>_a(this,Z,!1))}}var _a=(J,Z,X)=>{let Y=J[BY].get(Z);if(Y){let $=Y.value;if(wf(J,$)){if(pV(J,Y),!J[fN])return}else if(X){if(J[iS1])Y.value.now=Date.now();J[o5].unshiftNode(Y)}return $.value}},wf=(J,Z)=>{if(!Z||!Z.maxAge&&!J[tH])return!1;let X=Date.now()-Z.now;return Z.maxAge?X>Z.maxAge:J[tH]&&X>J[tH]},TN=(J)=>{if(J[VQ]>J[rH])for(let Z=J[o5].tail;J[VQ]>J[rH]&&Z!==null;){let X=Z.prev;pV(J,Z),Z=X}},pV=(J,Z)=>{if(Z){let X=Z.value;if(J[DQ])J[DQ](X.key,X.value);J[VQ]-=X.length,J[BY].delete(X.key),J[o5].removeNode(Z)}};class sS1{constructor(J,Z,X,Y,$){this.key=J,this.value=Z,this.length=X,this.now=Y,this.maxAge=$||0}}var nS1=(J,Z,X,Y)=>{let $=X.value;if(wf(J,$)){if(pV(J,X),!J[fN])$=void 0}if($)Z.call(Y,$.value,$.key,J)};aS1.exports=oS1});var pT1=B((v59,lT1)=>{var{defineProperty:oa,getOwnPropertyDescriptor:oU4,getOwnPropertyNames:sU4}=Object,aU4=Object.prototype.hasOwnProperty,rU4=(J,Z)=>{for(var X in Z)oa(J,X,{get:Z[X],enumerable:!0})},tU4=(J,Z,X,Y)=>{if(Z&&typeof Z==="object"||typeof Z==="function"){for(let $ of sU4(Z))if(!aU4.call(J,$)&&$!==X)oa(J,$,{get:()=>Z[$],enumerable:!(Y=oU4(Z,$))||Y.enumerable})}return J},eU4=(J)=>tU4(oa({},"__esModule",{value:!0}),J),kT1={};rU4(kT1,{URLPattern:()=>CO4});lT1.exports=eU4(kT1);var yN=class{constructor(J,Z,X,Y,$,z){this.type=3,this.name="",this.prefix="",this.value="",this.suffix="",this.modifier=3,this.type=J,this.name=Z,this.prefix=X,this.value=Y,this.suffix=$,this.modifier=z}hasCustomName(){return this.name!==""&&typeof this.name!=="number"}},JO4=/[$_\p{ID_Start}]/u,ZO4=/[$_\u200C\u200D\p{ID_Continue}]/u,ia=".*";function XO4(J,Z){return(Z?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(J)}function bT1(J,Z=!1){let X=[],Y=0;while(Y<J.length){let $=J[Y],z=function(W){if(!Z)throw new TypeError(W);X.push({type:"INVALID_CHAR",index:Y,value:J[Y++]})};if($==="*"){X.push({type:"ASTERISK",index:Y,value:J[Y++]});continue}if($==="+"||$==="?"){X.push({type:"OTHER_MODIFIER",index:Y,value:J[Y++]});continue}if($==="\\"){X.push({type:"ESCAPED_CHAR",index:Y++,value:J[Y++]});continue}if($==="{"){X.push({type:"OPEN",index:Y,value:J[Y++]});continue}if($==="}"){X.push({type:"CLOSE",index:Y,value:J[Y++]});continue}if($===":"){let W="",Q=Y+1;while(Q<J.length){let G=J.substr(Q,1);if(Q===Y+1&&JO4.test(G)||Q!==Y+1&&ZO4.test(G)){W+=J[Q++];continue}break}if(!W){z(`Missing parameter name at ${Y}`);continue}X.push({type:"NAME",index:Y,value:W}),Y=Q;continue}if($==="("){let W=1,Q="",G=Y+1,K=!1;if(J[G]==="?"){z(`Pattern cannot start with "?" at ${G}`);continue}while(G<J.length){if(!XO4(J[G],!1)){z(`Invalid character '${J[G]}' at ${G}.`),K=!0;break}if(J[G]==="\\"){Q+=J[G++]+J[G++];continue}if(J[G]===")"){if(W--,W===0){G++;break}}else if(J[G]==="("){if(W++,J[G+1]!=="?"){z(`Capturing groups are not allowed at ${G}`),K=!0;break}}Q+=J[G++]}if(K)continue;if(W){z(`Unbalanced pattern at ${Y}`);continue}if(!Q){z(`Missing pattern at ${Y}`);continue}X.push({type:"REGEX",index:Y,value:Q}),Y=G;continue}X.push({type:"CHAR",index:Y,value:J[Y++]})}return X.push({type:"END",index:Y,value:""}),X}function hT1(J,Z={}){let X=bT1(J);Z.delimiter??(Z.delimiter="/#?"),Z.prefixes??(Z.prefixes="./");let Y=`[^${zZ(Z.delimiter)}]+?`,$=[],z=0,W=0,Q="",G=new Set,K=(R)=>{if(W<X.length&&X[W].type===R)return X[W++].value},q=()=>{return K("OTHER_MODIFIER")??K("ASTERISK")},H=(R)=>{let f=K(R);if(f!==void 0)return f;let{type:d,index:v}=X[W];throw new TypeError(`Unexpected ${d} at ${v}, expected ${R}`)},F=()=>{let R="",f;while(f=K("CHAR")??K("ESCAPED_CHAR"))R+=f;return R},U=(R)=>{return R},D=Z.encodePart||U,V="",w=(R)=>{V+=R},M=()=>{if(!V.length)return;$.push(new yN(3,"","",D(V),"",3)),V=""},P=(R,f,d,v,l)=>{let o=3;switch(l){case"?":o=1;break;case"*":o=0;break;case"+":o=2;break}if(!f&&!d&&o===3){w(R);return}if(M(),!f&&!d){if(!R)return;$.push(new yN(3,"","",D(R),"",o));return}let S;if(!d)S=Y;else if(d==="*")S=ia;else S=d;let i=2;if(S===Y)i=1,S="";else if(S===ia)i=0,S="";let u;if(f)u=f;else if(d)u=z++;if(G.has(u))throw new TypeError(`Duplicate name '${u}'.`);G.add(u),$.push(new yN(i,u,D(R),S,D(v),o))};while(W<X.length){let R=K("CHAR"),f=K("NAME"),d=K("REGEX");if(!f&&!d)d=K("ASTERISK");if(f||d){let o=R??"";if(Z.prefixes.indexOf(o)===-1)w(o),o="";M();let S=q();P(o,f,d,"",S);continue}let v=R??K("ESCAPED_CHAR");if(v){w(v);continue}if(K("OPEN")){let o=F(),S=K("NAME"),i=K("REGEX");if(!S&&!i)i=K("ASTERISK");let u=F();H("CLOSE");let G1=q();P(o,S,i,u,G1);continue}M(),H("END")}return $}function zZ(J){return J.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function TT1(J){return J&&J.ignoreCase?"ui":"u"}function YO4(J,Z,X){return _T1(hT1(J,X),Z,X)}function iV(J){switch(J){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function _T1(J,Z,X={}){X.delimiter??(X.delimiter="/#?"),X.prefixes??(X.prefixes="./"),X.sensitive??(X.sensitive=!1),X.strict??(X.strict=!1),X.end??(X.end=!0),X.start??(X.start=!0),X.endsWith="";let Y=X.start?"^":"";for(let Q of J){if(Q.type===3){if(Q.modifier===3)Y+=zZ(Q.value);else Y+=`(?:${zZ(Q.value)})${iV(Q.modifier)}`;continue}if(Z)Z.push(Q.name);let G=`[^${zZ(X.delimiter)}]+?`,K=Q.value;if(Q.type===1)K=G;else if(Q.type===0)K=ia;if(!Q.prefix.length&&!Q.suffix.length){if(Q.modifier===3||Q.modifier===1)Y+=`(${K})${iV(Q.modifier)}`;else Y+=`((?:${K})${iV(Q.modifier)})`;continue}if(Q.modifier===3||Q.modifier===1){Y+=`(?:${zZ(Q.prefix)}(${K})${zZ(Q.suffix)})`,Y+=iV(Q.modifier);continue}if(Y+=`(?:${zZ(Q.prefix)}`,Y+=`((?:${K})(?:`,Y+=zZ(Q.suffix),Y+=zZ(Q.prefix),Y+=`(?:${K}))*)${zZ(Q.suffix)})`,Q.modifier===0)Y+="?"}let $=`[${zZ(X.endsWith)}]|$`,z=`[${zZ(X.delimiter)}]`;if(X.end){if(!X.strict)Y+=`${z}?`;if(!X.endsWith.length)Y+="$";else Y+=`(?=${$})`;return new RegExp(Y,TT1(X))}if(!X.strict)Y+=`(?:${z}(?=${$}))?`;let W=!1;if(J.length){let Q=J[J.length-1];if(Q.type===3&&Q.modifier===3)W=X.delimiter.indexOf(Q)>-1}if(!W)Y+=`(?=${z}|${$})`;return new RegExp(Y,TT1(X))}var eK={delimiter:"",prefixes:"",sensitive:!0,strict:!0},$O4={delimiter:".",prefixes:"",sensitive:!0,strict:!0},zO4={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function WO4(J,Z){if(!J.length)return!1;if(J[0]==="/")return!0;if(!Z)return!1;if(J.length<2)return!1;if((J[0]=="\\"||J[0]=="{")&&J[1]=="/")return!0;return!1}function yT1(J,Z){if(J.startsWith(Z))return J.substring(Z.length,J.length);return J}function QO4(J,Z){if(J.endsWith(Z))return J.substr(0,J.length-Z.length);return J}function vT1(J){if(!J||J.length<2)return!1;if(J[0]==="[")return!0;if((J[0]==="\\"||J[0]==="{")&&J[1]==="[")return!0;return!1}var xT1=["ftp","file","http","https","ws","wss"];function gT1(J){if(!J)return!0;for(let Z of xT1)if(J.test(Z))return!0;return!1}function GO4(J,Z){if(J=yT1(J,"#"),Z||J==="")return J;let X=new URL("https://example.com");return X.hash=J,X.hash?X.hash.substring(1,X.hash.length):""}function KO4(J,Z){if(J=yT1(J,"?"),Z||J==="")return J;let X=new URL("https://example.com");return X.search=J,X.search?X.search.substring(1,X.search.length):""}function qO4(J,Z){if(Z||J==="")return J;if(vT1(J))return mT1(J);else return uT1(J)}function BO4(J,Z){if(Z||J==="")return J;let X=new URL("https://example.com");return X.password=J,X.password}function HO4(J,Z){if(Z||J==="")return J;let X=new URL("https://example.com");return X.username=J,X.username}function FO4(J,Z,X){if(X||J==="")return J;if(Z&&!xT1.includes(Z))return new URL(`${Z}:${J}`).pathname;let Y=J[0]=="/";if(J=new URL(!Y?"/-"+J:J,"https://example.com").pathname,!Y)J=J.substring(2,J.length);return J}function UO4(J,Z,X){if(dT1(Z)===J)J="";if(X||J==="")return J;return cT1(J)}function OO4(J,Z){if(J=QO4(J,":"),Z||J==="")return J;return sa(J)}function dT1(J){switch(J){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function sa(J){if(J==="")return J;if(/^[-+.A-Za-z0-9]*$/.test(J))return J.toLowerCase();throw new TypeError(`Invalid protocol '${J}'.`)}function DO4(J){if(J==="")return J;let Z=new URL("https://example.com");return Z.username=J,Z.username}function VO4(J){if(J==="")return J;let Z=new URL("https://example.com");return Z.password=J,Z.password}function uT1(J){if(J==="")return J;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(J))throw new TypeError(`Invalid hostname '${J}'`);let Z=new URL("https://example.com");return Z.hostname=J,Z.hostname}function mT1(J){if(J==="")return J;if(/[^0-9a-fA-F[\]:]/g.test(J))throw new TypeError(`Invalid IPv6 hostname '${J}'`);return J.toLowerCase()}function cT1(J){if(J==="")return J;if(/^[0-9]*$/.test(J)&&parseInt(J)<=65535)return J;throw new TypeError(`Invalid port '${J}'.`)}function IO4(J){if(J==="")return J;let Z=new URL("https://example.com");if(Z.pathname=J[0]!=="/"?"/-"+J:J,J[0]!=="/")return Z.pathname.substring(2,Z.pathname.length);return Z.pathname}function wO4(J){if(J==="")return J;return new URL(`data:${J}`).pathname}function AO4(J){if(J==="")return J;let Z=new URL("https://example.com");return Z.search=J,Z.search.substring(1,Z.search.length)}function MO4(J){if(J==="")return J;let Z=new URL("https://example.com");return Z.hash=J,Z.hash.substring(1,Z.hash.length)}var NO4=class{constructor(J){this.tokenList=[],this.internalResult={},this.tokenIndex=0,this.tokenIncrement=1,this.componentStart=0,this.state=0,this.groupDepth=0,this.hostnameIPv6BracketDepth=0,this.shouldTreatAsStandardURL=!1,this.input=J}get result(){return this.internalResult}parse(){this.tokenList=bT1(this.input,!0);for(;this.tokenIndex<this.tokenList.length;this.tokenIndex+=this.tokenIncrement){if(this.tokenIncrement=1,this.tokenList[this.tokenIndex].type==="END"){if(this.state===0){if(this.rewind(),this.isHashPrefix())this.changeState(9,1);else if(this.isSearchPrefix())this.changeState(8,1),this.internalResult.hash="";else this.changeState(7,0),this.internalResult.search="",this.internalResult.hash="";continue}else if(this.state===2){this.rewindAndSetState(5);continue}this.changeState(10,0);break}if(this.groupDepth>0)if(this.isGroupClose())this.groupDepth-=1;else continue;if(this.isGroupOpen()){this.groupDepth+=1;continue}switch(this.state){case 0:if(this.isProtocolSuffix())this.internalResult.username="",this.internalResult.password="",this.internalResult.hostname="",this.internalResult.port="",this.internalResult.pathname="",this.internalResult.search="",this.internalResult.hash="",this.rewindAndSetState(1);break;case 1:if(this.isProtocolSuffix()){this.computeShouldTreatAsStandardURL();let J=7,Z=1;if(this.shouldTreatAsStandardURL)this.internalResult.pathname="/";if(this.nextIsAuthoritySlashes())J=2,Z=3;else if(this.shouldTreatAsStandardURL)J=2;this.changeState(J,Z)}break;case 2:if(this.isIdentityTerminator())this.rewindAndSetState(3);else if(this.isPathnameStart()||this.isSearchPrefix()||this.isHashPrefix())this.rewindAndSetState(5);break;case 3:if(this.isPasswordPrefix())this.changeState(4,1);else if(this.isIdentityTerminator())this.changeState(5,1);break;case 4:if(this.isIdentityTerminator())this.changeState(5,1);break;case 5:if(this.isIPv6Open())this.hostnameIPv6BracketDepth+=1;else if(this.isIPv6Close())this.hostnameIPv6BracketDepth-=1;if(this.isPortPrefix()&&!this.hostnameIPv6BracketDepth)this.changeState(6,1);else if(this.isPathnameStart())this.changeState(7,0);else if(this.isSearchPrefix())this.changeState(8,1);else if(this.isHashPrefix())this.changeState(9,1);break;case 6:if(this.isPathnameStart())this.changeState(7,0);else if(this.isSearchPrefix())this.changeState(8,1);else if(this.isHashPrefix())this.changeState(9,1);break;case 7:if(this.isSearchPrefix())this.changeState(8,1);else if(this.isHashPrefix())this.changeState(9,1);break;case 8:if(this.isHashPrefix())this.changeState(9,1);break;case 9:break;case 10:break}}}changeState(J,Z){switch(this.state){case 0:break;case 1:this.internalResult.protocol=this.makeComponentString();break;case 2:break;case 3:this.internalResult.username=this.makeComponentString();break;case 4:this.internalResult.password=this.makeComponentString();break;case 5:this.internalResult.hostname=this.makeComponentString();break;case 6:this.internalResult.port=this.makeComponentString();break;case 7:this.internalResult.pathname=this.makeComponentString();break;case 8:this.internalResult.search=this.makeComponentString();break;case 9:this.internalResult.hash=this.makeComponentString();break;case 10:break}this.changeStateWithoutSettingComponent(J,Z)}changeStateWithoutSettingComponent(J,Z){this.state=J,this.componentStart=this.tokenIndex+Z,this.tokenIndex+=Z,this.tokenIncrement=0}rewind(){this.tokenIndex=this.componentStart,this.tokenIncrement=0}rewindAndSetState(J){this.rewind(),this.state=J}safeToken(J){if(J<0)J=this.tokenList.length-J;if(J<this.tokenList.length)return this.tokenList[J];return this.tokenList[this.tokenList.length-1]}isNonSpecialPatternChar(J,Z){let X=this.safeToken(J);return X.value===Z&&(X.type==="CHAR"||X.type==="ESCAPED_CHAR"||X.type==="INVALID_CHAR")}isProtocolSuffix(){return this.isNonSpecialPatternChar(this.tokenIndex,":")}nextIsAuthoritySlashes(){return this.isNonSpecialPatternChar(this.tokenIndex+1,"/")&&this.isNonSpecialPatternChar(this.tokenIndex+2,"/")}isIdentityTerminator(){return this.isNonSpecialPatternChar(this.tokenIndex,"@")}isPasswordPrefix(){return this.isNonSpecialPatternChar(this.tokenIndex,":")}isPortPrefix(){return this.isNonSpecialPatternChar(this.tokenIndex,":")}isPathnameStart(){return this.isNonSpecialPatternChar(this.tokenIndex,"/")}isSearchPrefix(){if(this.isNonSpecialPatternChar(this.tokenIndex,"?"))return!0;if(this.tokenList[this.tokenIndex].value!=="?")return!1;let J=this.safeToken(this.tokenIndex-1);return J.type!=="NAME"&&J.type!=="REGEX"&&J.type!=="CLOSE"&&J.type!=="ASTERISK"}isHashPrefix(){return this.isNonSpecialPatternChar(this.tokenIndex,"#")}isGroupOpen(){return this.tokenList[this.tokenIndex].type=="OPEN"}isGroupClose(){return this.tokenList[this.tokenIndex].type=="CLOSE"}isIPv6Open(){return this.isNonSpecialPatternChar(this.tokenIndex,"[")}isIPv6Close(){return this.isNonSpecialPatternChar(this.tokenIndex,"]")}makeComponentString(){let J=this.tokenList[this.tokenIndex],Z=this.safeToken(this.componentStart).index;return this.input.substring(Z,J.index)}computeShouldTreatAsStandardURL(){let J={};Object.assign(J,eK),J.encodePart=sa;let Z=YO4(this.makeComponentString(),void 0,J);this.shouldTreatAsStandardURL=gT1(Z)}},na=["protocol","username","password","hostname","port","pathname","search","hash"],tK="*";function fT1(J,Z){if(typeof J!=="string")throw new TypeError("parameter 1 is not of type 'string'.");let X=new URL(J,Z);return{protocol:X.protocol.substring(0,X.protocol.length-1),username:X.username,password:X.password,hostname:X.hostname,port:X.port,pathname:X.pathname,search:X.search!==""?X.search.substring(1,X.search.length):void 0,hash:X.hash!==""?X.hash.substring(1,X.hash.length):void 0}}function IQ(J,Z){if(!Z)return J;return _N(J)}function hN(J,Z,X){let Y;if(typeof Z.baseURL==="string")try{Y=new URL(Z.baseURL),J.protocol=IQ(Y.protocol.substring(0,Y.protocol.length-1),X),J.username=IQ(Y.username,X),J.password=IQ(Y.password,X),J.hostname=IQ(Y.hostname,X),J.port=IQ(Y.port,X),J.pathname=IQ(Y.pathname,X),J.search=IQ(Y.search.substring(1,Y.search.length),X),J.hash=IQ(Y.hash.substring(1,Y.hash.length),X)}catch{throw new TypeError(`invalid baseURL '${Z.baseURL}'.`)}if(typeof Z.protocol==="string")J.protocol=OO4(Z.protocol,X);if(typeof Z.username==="string")J.username=HO4(Z.username,X);if(typeof Z.password==="string")J.password=BO4(Z.password,X);if(typeof Z.hostname==="string")J.hostname=qO4(Z.hostname,X);if(typeof Z.port==="string")J.port=UO4(Z.port,J.protocol,X);if(typeof Z.pathname==="string"){if(J.pathname=Z.pathname,Y&&!WO4(J.pathname,X)){let $=Y.pathname.lastIndexOf("/");if($>=0)J.pathname=IQ(Y.pathname.substring(0,$+1),X)+J.pathname}J.pathname=FO4(J.pathname,J.protocol,X)}if(typeof Z.search==="string")J.search=KO4(Z.search,X);if(typeof Z.hash==="string")J.hash=GO4(Z.hash,X);return J}function _N(J){return J.replace(/([+*?:{}()\\])/g,"\\$1")}function PO4(J){return J.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function LO4(J,Z){Z.delimiter??(Z.delimiter="/#?"),Z.prefixes??(Z.prefixes="./"),Z.sensitive??(Z.sensitive=!1),Z.strict??(Z.strict=!1),Z.end??(Z.end=!0),Z.start??(Z.start=!0),Z.endsWith="";let X=".*",Y=`[^${PO4(Z.delimiter)}]+?`,$=/[$_\u200C\u200D\p{ID_Continue}]/u,z="";for(let W=0;W<J.length;++W){let Q=J[W];if(Q.type===3){if(Q.modifier===3){z+=_N(Q.value);continue}z+=`{${_N(Q.value)}}${iV(Q.modifier)}`;continue}let G=Q.hasCustomName(),K=!!Q.suffix.length||!!Q.prefix.length&&(Q.prefix.length!==1||!Z.prefixes.includes(Q.prefix)),q=W>0?J[W-1]:null,H=W<J.length-1?J[W+1]:null;if(!K&&G&&Q.type===1&&Q.modifier===3&&H&&!H.prefix.length&&!H.suffix.length)if(H.type===3){let F=H.value.length>0?H.value[0]:"";K=$.test(F)}else K=!H.hasCustomName();if(!K&&!Q.prefix.length&&q&&q.type===3){let F=q.value[q.value.length-1];K=Z.prefixes.includes(F)}if(K)z+="{";if(z+=_N(Q.prefix),G)z+=`:${Q.name}`;if(Q.type===2)z+=`(${Q.value})`;else if(Q.type===1){if(!G)z+=`(${Y})`}else if(Q.type===0)if(!G&&(!q||q.type===3||q.modifier!==3||K||Q.prefix!==""))z+="*";else z+=`(${X})`;if(Q.type===1&&G&&!!Q.suffix.length){if($.test(Q.suffix[0]))z+="\\"}if(z+=_N(Q.suffix),K)z+="}";if(Q.modifier!==3)z+=iV(Q.modifier)}return z}var CO4=class{constructor(J={},Z,X){this.regexp={},this.names={},this.component_pattern={},this.parts={};try{let Y=void 0;if(typeof Z==="string")Y=Z;else X=Z;if(typeof J==="string"){let Q=new NO4(J);if(Q.parse(),J=Q.result,Y===void 0&&typeof J.protocol!=="string")throw new TypeError("A base URL must be provided for a relative constructor string.");J.baseURL=Y}else{if(!J||typeof J!=="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(Y)throw new TypeError("parameter 1 is not of type 'string'.")}if(typeof X==="undefined")X={ignoreCase:!1};let $={ignoreCase:X.ignoreCase===!0},z={pathname:tK,protocol:tK,username:tK,password:tK,hostname:tK,port:tK,search:tK,hash:tK};if(this.pattern=hN(z,J,!0),dT1(this.pattern.protocol)===this.pattern.port)this.pattern.port="";let W;for(W of na){if(!(W in this.pattern))continue;let Q={},G=this.pattern[W];switch(this.names[W]=[],W){case"protocol":Object.assign(Q,eK),Q.encodePart=sa;break;case"username":Object.assign(Q,eK),Q.encodePart=DO4;break;case"password":Object.assign(Q,eK),Q.encodePart=VO4;break;case"hostname":if(Object.assign(Q,$O4),vT1(G))Q.encodePart=mT1;else Q.encodePart=uT1;break;case"port":Object.assign(Q,eK),Q.encodePart=cT1;break;case"pathname":if(gT1(this.regexp.protocol))Object.assign(Q,zO4,$),Q.encodePart=IO4;else Object.assign(Q,eK,$),Q.encodePart=wO4;break;case"search":Object.assign(Q,eK,$),Q.encodePart=AO4;break;case"hash":Object.assign(Q,eK,$),Q.encodePart=MO4;break}try{this.parts[W]=hT1(G,Q),this.regexp[W]=_T1(this.parts[W],this.names[W],Q),this.component_pattern[W]=LO4(this.parts[W],Q)}catch(K){throw new TypeError(`invalid ${W} pattern '${this.pattern[W]}'.`)}}}catch(Y){throw new TypeError(`Failed to construct 'URLPattern': ${Y.message}`)}}test(J={},Z){let X={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof J!=="string"&&Z)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof J==="undefined")return!1;try{if(typeof J==="object")X=hN(X,J,!1);else X=hN(X,fT1(J,Z),!1)}catch($){return!1}let Y;for(Y of na)if(!this.regexp[Y].exec(X[Y]))return!1;return!0}exec(J={},Z){let X={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof J!=="string"&&Z)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof J==="undefined")return;try{if(typeof J==="object")X=hN(X,J,!1);else X=hN(X,fT1(J,Z),!1)}catch(z){return null}let Y={};if(Z)Y.inputs=[J,Z];else Y.inputs=[J];let $;for($ of na){let z=this.regexp[$].exec(X[$]);if(!z)return null;let W={};for(let[Q,G]of this.names[$].entries())if(typeof G==="string"||typeof G==="number"){let K=z[Q+1];W[G]=K}Y[$]={input:X[$]??"",groups:W}}return Y}static compareComponent(J,Z,X){let Y=(Q,G)=>{for(let K of["type","modifier","prefix","value","suffix"])if(Q[K]<G[K])return-1;else if(Q[K]===G[K])continue;else return 1;return 0},$=new yN(3,"","","","",3),z=new yN(0,"","","","",3),W=(Q,G)=>{let K=0;for(;K<Math.min(Q.length,G.length);++K){let q=Y(Q[K],G[K]);if(q)return q}if(Q.length===G.length)return 0;return Y(Q[K]??$,G[K]??$)};if(!Z.component_pattern[J]&&!X.component_pattern[J])return 0;if(Z.component_pattern[J]&&!X.component_pattern[J])return W(Z.parts[J],[z]);if(!Z.component_pattern[J]&&X.component_pattern[J])return W([z],X.parts[J]);return W(Z.parts[J],X.parts[J])}get protocol(){return this.component_pattern.protocol}get username(){return this.component_pattern.username}get password(){return this.component_pattern.password}get hostname(){return this.component_pattern.hostname}get port(){return this.component_pattern.port}get pathname(){return this.component_pattern.pathname}get search(){return this.component_pattern.search}get hash(){return this.component_pattern.hash}}});var oT1=B((u59,iT1)=>{var{URLPattern:nT1}=pT1();iT1.exports={URLPattern:nT1};if(!globalThis.URLPattern)globalThis.URLPattern=nT1});var Mf=B((aT1)=>{Object.defineProperty(aT1,"__esModule",{value:!0});aT1.PonyfillAbortError=void 0;class sT1 extends Error{constructor(J){let Z="The operation was aborted.";if(J)Z+=` reason: ${J}`;super(Z,{cause:J});this.name="AbortError"}get reason(){return this.cause}}aT1.PonyfillAbortError=sT1});var vN=B((Jf1)=>{Object.defineProperty(Jf1,"__esModule",{value:!0});Jf1.PonyfillReadableStream=void 0;var tT1=p("stream");function eT1(J,Z){let X=[],Y=!1,$=!1;return{desiredSize:J,enqueue(z){let W=typeof z==="string"?Buffer.from(z):z;if(!$)X.push(W);else Z.push(W)},close(){if(X.length>0)this._flush();Z.push(null),Y=!0},error(z){if(X.length>0)this._flush();Z.destroy(z)},get _closed(){return Y},_flush(){if($=!0,X.length>0){let z=Buffer.concat(X);Z.push(z),X=[]}}}}class aa{constructor(J){if(this.locked=!1,J instanceof aa)this.readable=J.readable;else if(J&&"read"in J)this.readable=J;else if(J&&"getReader"in J){let Z,X=!1;this.readable=new tT1.Readable({read(){if(!X)X=!0,Z=J.getReader();Z.read().then(({value:Y,done:$})=>{if($)this.push(null);else this.push(Y)}).catch((Y)=>{this.destroy(Y)})},destroy(Y,$){Z.cancel(Y).then(()=>$(Y),$)}})}else{let Z=!1,X=!1;this.readable=new tT1.Readable({read(Y){if(X)return;return X=!0,Promise.resolve().then(async()=>{var $,z;if(!Z){let Q=eT1(Y,this);if(Z=!0,await(($=J===null||J===void 0?void 0:J.start)===null||$===void 0?void 0:$.call(J,Q)),Q._flush(),Q._closed)return}let W=eT1(Y,this);await((z=J===null||J===void 0?void 0:J.pull)===null||z===void 0?void 0:z.call(J,W)),W._flush(),X=!1})},async destroy(Y,$){var z;try{await((z=J===null||J===void 0?void 0:J.cancel)===null||z===void 0?void 0:z.call(J,Y)),$(null)}catch(W){$(W)}}})}}cancel(J){return this.readable.destroy(J),Promise.resolve()}getReader(J){let Z=this.readable[Symbol.asyncIterator]();return this.locked=!0,{read(){return Z.next()},releaseLock:()=>{var X;(X=Z.return)===null||X===void 0||X.call(Z),this.locked=!1},cancel:async(X)=>{var Y;await((Y=Z.return)===null||Y===void 0?void 0:Y.call(Z,X)),this.locked=!1},closed:new Promise((X,Y)=>{this.readable.once("end",X),this.readable.once("error",Y)})}}[Symbol.asyncIterator](){return this.readable[Symbol.asyncIterator]()}tee(){throw new Error("Not implemented")}async pipeTo(J){let Z=J.getWriter();await Z.ready;for await(let X of this.readable)await Z.write(X);return await Z.ready,Z.close()}pipeThrough({writable:J,readable:Z}){return this.pipeTo(J),Z}static[Symbol.hasInstance](J){return J!=null&&typeof J==="object"&&"getReader"in J}}Jf1.PonyfillReadableStream=aa});var xN=B((Xf1)=>{Object.defineProperty(Xf1,"__esModule",{value:!0});Xf1.uint8ArrayToArrayBuffer=Xf1.getHeadersObj=void 0;function jO4(J){if(J==null||!("forEach"in J))return J;let Z={};return J.forEach((X,Y)=>{Z[Y]=X}),Z}Xf1.getHeadersObj=jO4;function RO4(J){return J.buffer.slice(J.byteOffset,J.byteOffset+J.byteLength)}Xf1.uint8ArrayToArrayBuffer=RO4});var gN=B((zf1)=>{Object.defineProperty(zf1,"__esModule",{value:!0});zf1.PonyfillBlob=void 0;var SO4=vN(),TO4=xN();function ra(J){if(typeof J==="string")return Buffer.from(J);else if(Buffer.isBuffer(J))return J;else if(J instanceof Uint8Array)return Buffer.from(J);else if("buffer"in J)return Buffer.from(J.buffer,J.byteOffset,J.byteLength);else return Buffer.from(J)}function ta(J){return J!=null&&typeof J==="object"&&J.arrayBuffer!=null}class $f1{constructor(J,Z){this.blobParts=J,this.type=(Z===null||Z===void 0?void 0:Z.type)||"application/octet-stream",this.encoding=(Z===null||Z===void 0?void 0:Z.encoding)||"utf8"}async buffer(){let J=[];for(let Z of this.blobParts)if(ta(Z)){let X=await Z.arrayBuffer(),Y=Buffer.from(X,void 0,Z.size);J.push(Y)}else{let X=ra(Z);J.push(X)}return Buffer.concat(J)}async arrayBuffer(){let J=await this.buffer();return(0,TO4.uint8ArrayToArrayBuffer)(J)}async text(){let J="";for(let Z of this.blobParts)if(typeof Z==="string")J+=Z;else if("text"in Z)J+=await Z.text();else{let X=ra(Z);J+=X.toString(this.encoding)}return J}get size(){let J=0;for(let Z of this.blobParts)if(typeof Z==="string")J+=Buffer.byteLength(Z);else if(ta(Z))J+=Z.size;else if("length"in Z)J+=Z.length;else if("byteLength"in Z)J+=Z.byteLength;return J}stream(){let J=[];return new SO4.PonyfillReadableStream({start:(Z)=>{if(J=[...this.blobParts],J.length===0)Z.close()},pull:async(Z)=>{let X=J.pop();if(X)if(ta(X)){let Y=await X.arrayBuffer(),$=Buffer.from(Y,void 0,X.size);Z.enqueue($)}else{let Y=ra(X);Z.enqueue(Y)}else Z.close()}})}slice(){throw new Error("Not implemented")}}zf1.PonyfillBlob=$f1});var Qf1=B((fO4,WZ)=>{fO4.Event=globalThis.Event;if(!fO4.Event)fO4.Event=class J{constructor(Z,X){this.bubbles=!!X&&!!X.bubbles,this.cancelable=!!X&&!!X.cancelable,this.composed=!!X&&!!X.composed,this.type=Z}};fO4.EventTarget=globalThis.EventTarget;if(!fO4.EventTarget)fO4.EventTarget=class J{constructor(){this.__listeners=new Map}addEventListener(Z,X,Y){if(arguments.length<2)throw new TypeError(`TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only ${arguments.length} present.`);let $=this.__listeners,z=Z.toString();if(!$.has(z))$.set(z,new Map);let W=$.get(z);if(!W.has(X))W.set(X,Y)}removeEventListener(Z,X,Y){if(arguments.length<2)throw new TypeError(`TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only ${arguments.length} present.`);let $=this.__listeners,z=Z.toString();if($.has(z)){let W=$.get(z);if(W.has(X))W.delete(X)}}dispatchEvent(Z){if(!(Z instanceof fO4.Event))throw new TypeError("Failed to execute 'dispatchEvent' on 'EventTarget': parameter 1 is not of type 'Event'.");let X=Z.type,$=this.__listeners.get(X);if($)for(let[z,W]of $.entries()){try{if(typeof z==="function")z.call(this,Z);else if(z&&typeof z.handleEvent==="function")z.handleEvent(Z)}catch(Q){setTimeout(()=>{throw Q})}if(W&&W.once)$.delete(z)}return!0}};fO4.CustomEvent=globalThis.CustomEvent;if(!fO4.CustomEvent)fO4.CustomEvent=class J extends fO4.Event{constructor(Z,X){super(Z,X);this.detail=X&&X.detail}}});var Xr=B((Kf1)=>{Object.defineProperty(Kf1,"__esModule",{value:!0});Kf1.PonyfillAbortSignal=void 0;var Gf1=Qf1(),kO4=Mf();class Zr extends Gf1.EventTarget{constructor(){super(...arguments);this.aborted=!1,this._onabort=null}throwIfAborted(){if(this.aborted)throw new kO4.PonyfillAbortError}get onabort(){return this._onabort}set onabort(J){if(this._onabort)this.removeEventListener("abort",this._onabort);this.addEventListener("abort",J)}abort(J){let Z=new Gf1.CustomEvent("abort",{detail:J});this.dispatchEvent(Z)}static timeout(J){let Z=new Zr;return setTimeout(()=>Z.abort(`timeout in ${J} ms`),J),Z}}Kf1.PonyfillAbortSignal=Zr});var Yr=B((Hf1)=>{Object.defineProperty(Hf1,"__esModule",{value:!0});Hf1.PonyfillAbortController=void 0;var bO4=Xr();class Bf1{constructor(){this.signal=new bO4.PonyfillAbortSignal}abort(J){this.signal.abort(J)}}Hf1.PonyfillAbortController=Bf1});var R$=B((o59,Lf)=>{var Uf1,Of1,Df1,Vf1,If1,wf1,Af1,Mf1,Nf1,Pf1,Lf1,Cf1,jf1,Nf,$r,Rf1,Ef1,Sf1,oV,Tf1,ff1,kf1,bf1,hf1,_f1,yf1,vf1,xf1,Pf,gf1,df1,uf1;(function(J){var Z=typeof global==="object"?global:typeof self==="object"?self:typeof this==="object"?this:{};if(typeof define==="function"&&define.amd)define("tslib",["exports"],function(Y){J(X(Z,X(Y)))});else if(typeof Lf==="object"&&typeof o59==="object")J(X(Z,X(o59)));else J(X(Z));function X(Y,$){if(Y!==Z)if(typeof Object.create==="function")Object.defineProperty(Y,"__esModule",{value:!0});else Y.__esModule=!0;return function(z,W){return Y[z]=$?$(z,W):W}}})(function(J){var Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,W){z.__proto__=W}||function(z,W){for(var Q in W)if(Object.prototype.hasOwnProperty.call(W,Q))z[Q]=W[Q]};Uf1=function(z,W){if(typeof W!=="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");Z(z,W);function Q(){this.constructor=z}z.prototype=W===null?Object.create(W):(Q.prototype=W.prototype,new Q)},Of1=Object.assign||function(z){for(var W,Q=1,G=arguments.length;Q<G;Q++){W=arguments[Q];for(var K in W)if(Object.prototype.hasOwnProperty.call(W,K))z[K]=W[K]}return z},Df1=function(z,W){var Q={};for(var G in z)if(Object.prototype.hasOwnProperty.call(z,G)&&W.indexOf(G)<0)Q[G]=z[G];if(z!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var K=0,G=Object.getOwnPropertySymbols(z);K<G.length;K++)if(W.indexOf(G[K])<0&&Object.prototype.propertyIsEnumerable.call(z,G[K]))Q[G[K]]=z[G[K]]}return Q},Vf1=function(z,W,Q,G){var K=arguments.length,q=K<3?W:G===null?G=Object.getOwnPropertyDescriptor(W,Q):G,H;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")q=Reflect.decorate(z,W,Q,G);else for(var F=z.length-1;F>=0;F--)if(H=z[F])q=(K<3?H(q):K>3?H(W,Q,q):H(W,Q))||q;return K>3&&q&&Object.defineProperty(W,Q,q),q},If1=function(z,W){return function(Q,G){W(Q,G,z)}},wf1=function(z,W,Q,G,K,q){function H(v){if(v!==void 0&&typeof v!=="function")throw new TypeError("Function expected");return v}var F=G.kind,U=F==="getter"?"get":F==="setter"?"set":"value",D=!W&&z?G.static?z:z.prototype:null,V=W||(D?Object.getOwnPropertyDescriptor(D,G.name):{}),w,M=!1;for(var P=Q.length-1;P>=0;P--){var R={};for(var f in G)R[f]=f==="access"?{}:G[f];for(var f in G.access)R.access[f]=G.access[f];R.addInitializer=function(v){if(M)throw new TypeError("Cannot add initializers after decoration has completed");q.push(H(v||null))};var d=(0,Q[P])(F==="accessor"?{get:V.get,set:V.set}:V[U],R);if(F==="accessor"){if(d===void 0)continue;if(d===null||typeof d!=="object")throw new TypeError("Object expected");if(w=H(d.get))V.get=w;if(w=H(d.set))V.set=w;if(w=H(d.init))K.unshift(w)}else if(w=H(d))if(F==="field")K.unshift(w);else V[U]=w}if(D)Object.defineProperty(D,G.name,V);M=!0},Af1=function(z,W,Q){var G=arguments.length>2;for(var K=0;K<W.length;K++)Q=G?W[K].call(z,Q):W[K].call(z);return G?Q:void 0},Mf1=function(z){return typeof z==="symbol"?z:"".concat(z)},Nf1=function(z,W,Q){if(typeof W==="symbol")W=W.description?"[".concat(W.description,"]"):"";return Object.defineProperty(z,"name",{configurable:!0,value:Q?"".concat(Q," ",W):W})},Pf1=function(z,W){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(z,W)},Lf1=function(z,W,Q,G){function K(q){return q instanceof Q?q:new Q(function(H){H(q)})}return new(Q||(Q=Promise))(function(q,H){function F(V){try{D(G.next(V))}catch(w){H(w)}}function U(V){try{D(G.throw(V))}catch(w){H(w)}}function D(V){V.done?q(V.value):K(V.value).then(F,U)}D((G=G.apply(z,W||[])).next())})},Cf1=function(z,W){var Q={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},G,K,q,H=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return H.next=F(0),H.throw=F(1),H.return=F(2),typeof Symbol==="function"&&(H[Symbol.iterator]=function(){return this}),H;function F(D){return function(V){return U([D,V])}}function U(D){if(G)throw new TypeError("Generator is already executing.");while(H&&(H=0,D[0]&&(Q=0)),Q)try{if(G=1,K&&(q=D[0]&2?K.return:D[0]?K.throw||((q=K.return)&&q.call(K),0):K.next)&&!(q=q.call(K,D[1])).done)return q;if(K=0,q)D=[D[0]&2,q.value];switch(D[0]){case 0:case 1:q=D;break;case 4:return Q.label++,{value:D[1],done:!1};case 5:Q.label++,K=D[1],D=[0];continue;case 7:D=Q.ops.pop(),Q.trys.pop();continue;default:if((q=Q.trys,!(q=q.length>0&&q[q.length-1]))&&(D[0]===6||D[0]===2)){Q=0;continue}if(D[0]===3&&(!q||D[1]>q[0]&&D[1]<q[3])){Q.label=D[1];break}if(D[0]===6&&Q.label<q[1]){Q.label=q[1],q=D;break}if(q&&Q.label<q[2]){Q.label=q[2],Q.ops.push(D);break}if(q[2])Q.ops.pop();Q.trys.pop();continue}D=W.call(z,Q)}catch(V){D=[6,V],K=0}finally{G=q=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}},jf1=function(z,W){for(var Q in z)if(Q!=="default"&&!Object.prototype.hasOwnProperty.call(W,Q))Pf(W,z,Q)},Pf=Object.create?function(z,W,Q,G){if(G===void 0)G=Q;var K=Object.getOwnPropertyDescriptor(W,Q);if(!K||("get"in K?!W.__esModule:K.writable||K.configurable))K={enumerable:!0,get:function(){return W[Q]}};Object.defineProperty(z,G,K)}:function(z,W,Q,G){if(G===void 0)G=Q;z[G]=W[Q]},Nf=function(z){var W=typeof Symbol==="function"&&Symbol.iterator,Q=W&&z[W],G=0;if(Q)return Q.call(z);if(z&&typeof z.length==="number")return{next:function(){if(z&&G>=z.length)z=void 0;return{value:z&&z[G++],done:!z}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")},$r=function(z,W){var Q=typeof Symbol==="function"&&z[Symbol.iterator];if(!Q)return z;var G=Q.call(z),K,q=[],H;try{while((W===void 0||W-- >0)&&!(K=G.next()).done)q.push(K.value)}catch(F){H={error:F}}finally{try{if(K&&!K.done&&(Q=G.return))Q.call(G)}finally{if(H)throw H.error}}return q},Rf1=function(){for(var z=[],W=0;W<arguments.length;W++)z=z.concat($r(arguments[W]));return z},Ef1=function(){for(var z=0,W=0,Q=arguments.length;W<Q;W++)z+=arguments[W].length;for(var G=Array(z),K=0,W=0;W<Q;W++)for(var q=arguments[W],H=0,F=q.length;H<F;H++,K++)G[K]=q[H];return G},Sf1=function(z,W,Q){if(Q||arguments.length===2){for(var G=0,K=W.length,q;G<K;G++)if(q||!(G in W)){if(!q)q=Array.prototype.slice.call(W,0,G);q[G]=W[G]}}return z.concat(q||Array.prototype.slice.call(W))},oV=function(z){return this instanceof oV?(this.v=z,this):new oV(z)},Tf1=function(z,W,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=Q.apply(z,W||[]),K,q=[];return K=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),F("next"),F("throw"),F("return",H),K[Symbol.asyncIterator]=function(){return this},K;function H(P){return function(R){return Promise.resolve(R).then(P,w)}}function F(P,R){if(G[P]){if(K[P]=function(f){return new Promise(function(d,v){q.push([P,f,d,v])>1||U(P,f)})},R)K[P]=R(K[P])}}function U(P,R){try{D(G[P](R))}catch(f){M(q[0][3],f)}}function D(P){P.value instanceof oV?Promise.resolve(P.value.v).then(V,w):M(q[0][2],P)}function V(P){U("next",P)}function w(P){U("throw",P)}function M(P,R){if(P(R),q.shift(),q.length)U(q[0][0],q[0][1])}},ff1=function(z){var W,Q;return W={},G("next"),G("throw",function(K){throw K}),G("return"),W[Symbol.iterator]=function(){return this},W;function G(K,q){W[K]=z[K]?function(H){return(Q=!Q)?{value:oV(z[K](H)),done:!1}:q?q(H):H}:q}},kf1=function(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=z[Symbol.asyncIterator],Q;return W?W.call(z):(z=typeof Nf==="function"?Nf(z):z[Symbol.iterator](),Q={},G("next"),G("throw"),G("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function G(q){Q[q]=z[q]&&function(H){return new Promise(function(F,U){H=z[q](H),K(F,U,H.done,H.value)})}}function K(q,H,F,U){Promise.resolve(U).then(function(D){q({value:D,done:F})},H)}},bf1=function(z,W){if(Object.defineProperty)Object.defineProperty(z,"raw",{value:W});else z.raw=W;return z};var X=Object.create?function(z,W){Object.defineProperty(z,"default",{enumerable:!0,value:W})}:function(z,W){z.default=W},Y=function(z){return Y=Object.getOwnPropertyNames||function(W){var Q=[];for(var G in W)if(Object.prototype.hasOwnProperty.call(W,G))Q[Q.length]=G;return Q},Y(z)};hf1=function(z){if(z&&z.__esModule)return z;var W={};if(z!=null){for(var Q=Y(z),G=0;G<Q.length;G++)if(Q[G]!=="default")Pf(W,z,Q[G])}return X(W,z),W},_f1=function(z){return z&&z.__esModule?z:{default:z}},yf1=function(z,W,Q,G){if(Q==="a"&&!G)throw new TypeError("Private accessor was defined without a getter");if(typeof W==="function"?z!==W||!G:!W.has(z))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Q==="m"?G:Q==="a"?G.call(z):G?G.value:W.get(z)},vf1=function(z,W,Q,G,K){if(G==="m")throw new TypeError("Private method is not writable");if(G==="a"&&!K)throw new TypeError("Private accessor was defined without a setter");if(typeof W==="function"?z!==W||!K:!W.has(z))throw new TypeError("Cannot write private member to an object whose class did not declare it");return G==="a"?K.call(z,Q):K?K.value=Q:W.set(z,Q),Q},xf1=function(z,W){if(W===null||typeof W!=="object"&&typeof W!=="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof z==="function"?W===z:z.has(W)},gf1=function(z,W,Q){if(W!==null&&W!==void 0){if(typeof W!=="object"&&typeof W!=="function")throw new TypeError("Object expected.");var G,K;if(Q){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");G=W[Symbol.asyncDispose]}if(G===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");if(G=W[Symbol.dispose],Q)K=G}if(typeof G!=="function")throw new TypeError("Object not disposable.");if(K)G=function(){try{K.call(this)}catch(q){return Promise.reject(q)}};z.stack.push({value:W,dispose:G,async:Q})}else if(Q)z.stack.push({async:!0});return W};var $=typeof SuppressedError==="function"?SuppressedError:function(z,W,Q){var G=new Error(Q);return G.name="SuppressedError",G.error=z,G.suppressed=W,G};df1=function(z){function W(q){z.error=z.hasError?new $(q,z.error,"An error was suppressed during disposal."):q,z.hasError=!0}var Q,G=0;function K(){while(Q=z.stack.pop())try{if(!Q.async&&G===1)return G=0,z.stack.push(Q),Promise.resolve().then(K);if(Q.dispose){var q=Q.dispose.call(Q.value);if(Q.async)return G|=2,Promise.resolve(q).then(K,function(H){return W(H),K()})}else G|=1}catch(H){W(H)}if(G===1)return z.hasError?Promise.reject(z.error):Promise.resolve();if(z.hasError)throw z.error}return K()},uf1=function(z,W){if(typeof z==="string"&&/^\.\.?\//.test(z))return z.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(Q,G,K,q,H){return G?W?".jsx":".js":K&&(!q||!H)?Q:K+q+"."+H.toLowerCase()+"js"});return z},J("__extends",Uf1),J("__assign",Of1),J("__rest",Df1),J("__decorate",Vf1),J("__param",If1),J("__esDecorate",wf1),J("__runInitializers",Af1),J("__propKey",Mf1),J("__setFunctionName",Nf1),J("__metadata",Pf1),J("__awaiter",Lf1),J("__generator",Cf1),J("__exportStar",jf1),J("__createBinding",Pf),J("__values",Nf),J("__read",$r),J("__spread",Rf1),J("__spreadArrays",Ef1),J("__spreadArray",Sf1),J("__await",oV),J("__asyncGenerator",Tf1),J("__asyncDelegator",ff1),J("__asyncValues",kf1),J("__makeTemplateObject",bf1),J("__importStar",hf1),J("__importDefault",_f1),J("__classPrivateFieldGet",yf1),J("__classPrivateFieldSet",vf1),J("__classPrivateFieldIn",xf1),J("__addDisposableResource",gf1),J("__disposeResources",df1),J("__rewriteRelativeImportExtension",uf1)})});var Cf=B((nf1,if1)=>{function hO4(J){if(J.length===0)return;let Z=Object.create(null),X=0;for(;X<J.length;++X){let W=J.charCodeAt(X);if(eH[W]!==1){if(W!==47||X===0)return;break}}if(X===J.length)return;let Y=J.slice(0,X).toLowerCase(),$=++X;for(;X<J.length;++X){let W=J.charCodeAt(X);if(eH[W]!==1){if(X===$)return;if(_O4(J,X,Z)===void 0)return;break}}if(X===$)return;let z=J.slice($,X).toLowerCase();return{type:Y,subtype:z,params:Z}}function _O4(J,Z,X){while(Z<J.length){for(;Z<J.length;++Z){let Q=J.charCodeAt(Z);if(Q!==32&&Q!==9)break}if(Z===J.length)break;if(J.charCodeAt(Z++)!==59)return;for(;Z<J.length;++Z){let Q=J.charCodeAt(Z);if(Q!==32&&Q!==9)break}if(Z===J.length)return;let Y,$=Z;for(;Z<J.length;++Z){let Q=J.charCodeAt(Z);if(eH[Q]!==1){if(Q!==61)return;break}}if(Z===J.length)return;if(Y=J.slice($,Z),++Z,Z===J.length)return;let z="",W;if(J.charCodeAt(Z)===34){W=++Z;let Q=!1;for(;Z<J.length;++Z){let G=J.charCodeAt(Z);if(G===92){if(Q)W=Z,Q=!1;else z+=J.slice(W,Z),Q=!0;continue}if(G===34){if(Q){W=Z,Q=!1;continue}z+=J.slice(W,Z);break}if(Q)W=Z-1,Q=!1;if(pf1[G]!==1)return}if(Z===J.length)return;++Z}else{W=Z;for(;Z<J.length;++Z){let Q=J.charCodeAt(Z);if(eH[Q]!==1){if(Z===W)return;break}}z=J.slice(W,Z)}if(Y=Y.toLowerCase(),X[Y]===void 0)X[Y]=z}return X}function yO4(J,Z){if(J.length===0)return;let X=Object.create(null),Y=0;for(;Y<J.length;++Y){let z=J.charCodeAt(Y);if(eH[z]!==1){if(vO4(J,Y,X,Z)===void 0)return;break}}return{type:J.slice(0,Y).toLowerCase(),params:X}}function vO4(J,Z,X,Y){while(Z<J.length){for(;Z<J.length;++Z){let K=J.charCodeAt(Z);if(K!==32&&K!==9)break}if(Z===J.length)break;if(J.charCodeAt(Z++)!==59)return;for(;Z<J.length;++Z){let K=J.charCodeAt(Z);if(K!==32&&K!==9)break}if(Z===J.length)return;let $,z=Z;for(;Z<J.length;++Z){let K=J.charCodeAt(Z);if(eH[K]!==1){if(K===61)break;return}}if(Z===J.length)return;let W="",Q,G;if($=J.slice(z,Z),$.charCodeAt($.length-1)===42){let K=++Z;for(;Z<J.length;++Z){let H=J.charCodeAt(Z);if(gO4[H]!==1){if(H!==39)return;break}}if(Z===J.length)return;G=J.slice(K,Z),++Z;for(;Z<J.length;++Z)if(J.charCodeAt(Z)===39)break;if(Z===J.length)return;if(++Z,Z===J.length)return;Q=Z;let q=0;for(;Z<J.length;++Z){let H=J.charCodeAt(Z);if(dO4[H]!==1){if(H===37){let F,U;if(Z+2<J.length&&(F=mf1[J.charCodeAt(Z+1)])!==-1&&(U=mf1[J.charCodeAt(Z+2)])!==-1){let D=(F<<4)+U;if(W+=J.slice(Q,Z),W+=String.fromCharCode(D),Z+=2,Q=Z+1,D>=128)q=2;else if(q===0)q=1;continue}return}break}}if(W+=J.slice(Q,Z),W=lf1(W,G,q),W===void 0)return}else{if(++Z,Z===J.length)return;if(J.charCodeAt(Z)===34){Q=++Z;let K=!1;for(;Z<J.length;++Z){let q=J.charCodeAt(Z);if(q===92){if(K)Q=Z,K=!1;else W+=J.slice(Q,Z),K=!0;continue}if(q===34){if(K){Q=Z,K=!1;continue}W+=J.slice(Q,Z);break}if(K)Q=Z-1,K=!1;if(pf1[q]!==1)return}if(Z===J.length)return;++Z}else{Q=Z;for(;Z<J.length;++Z){let K=J.charCodeAt(Z);if(eH[K]!==1){if(Z===Q)return;break}}W=J.slice(Q,Z)}if(W=Y(W,2),W===void 0)return}if($=$.toLowerCase(),X[$]===void 0)X[$]=W}return X}function cf1(J){let Z;while(!0)switch(J){case"utf-8":case"utf8":return uN.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return uN.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return uN.utf16le;case"base64":return uN.base64;default:if(Z===void 0){Z=!0,J=J.toLowerCase();continue}return uN.other.bind(J)}}var uN={utf8:(J,Z)=>{if(J.length===0)return"";if(typeof J==="string"){if(Z<2)return J;J=Buffer.from(J,"latin1")}return J.utf8Slice(0,J.length)},latin1:(J,Z)=>{if(J.length===0)return"";if(typeof J==="string")return J;return J.latin1Slice(0,J.length)},utf16le:(J,Z)=>{if(J.length===0)return"";if(typeof J==="string")J=Buffer.from(J,"latin1");return J.ucs2Slice(0,J.length)},base64:(J,Z)=>{if(J.length===0)return"";if(typeof J==="string")J=Buffer.from(J,"latin1");return J.base64Slice(0,J.length)},other:(J,Z)=>{if(J.length===0)return"";if(typeof J==="string")J=Buffer.from(J,"latin1");try{return new TextDecoder(nf1).decode(J)}catch{}}};function lf1(J,Z,X){let Y=cf1(Z);if(Y)return Y(J,X)}function xO4(J){if(typeof J!=="string")return"";for(let Z=J.length-1;Z>=0;--Z)switch(J.charCodeAt(Z)){case 47:case 92:return J=J.slice(Z+1),J===".."||J==="."?"":J}return J===".."||J==="."?"":J}var eH=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pf1=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],gO4=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,0,0,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],dO4=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],mf1=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];if1.exports={basename:xO4,convertToUTF8:lf1,getDecoder:cf1,parseContentType:hO4,parseDisposition:yO4}});var tf1=B((s59,rf1)=>{function of1(J,Z,X,Y,$){for(let z=0;z<$;++z)if(J[Z+z]!==X[Y+z])return!1;return!0}class af1{constructor(J,Z){if(typeof Z!=="function")throw new Error("Missing match callback");if(typeof J==="string")J=Buffer.from(J);else if(!Buffer.isBuffer(J))throw new Error(`Expected Buffer for needle, got ${typeof J}`);let X=J.length;if(this.maxMatches=1/0,this.matches=0,this._cb=Z,this._lookbehindSize=0,this._needle=J,this._bufPos=0,this._lookbehind=Buffer.allocUnsafe(X),this._occ=[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],X>1)for(let Y=0;Y<X-1;++Y)this._occ[J[Y]]=X-1-Y}reset(){this.matches=0,this._lookbehindSize=0,this._bufPos=0}push(J,Z){let X;if(!Buffer.isBuffer(J))J=Buffer.from(J,"latin1");let Y=J.length;this._bufPos=Z||0;while(X!==Y&&this.matches<this.maxMatches)X=uO4(this,J);return X}destroy(){let J=this._lookbehindSize;if(J)this._cb(!1,this._lookbehind,0,J,!1);this.reset()}}function uO4(J,Z){let X=Z.length,Y=J._needle,$=Y.length,z=-J._lookbehindSize,W=$-1,Q=Y[W],G=X-$,K=J._occ,q=J._lookbehind;if(z<0){while(z<0&&z<=G){let F=z+W,U=F<0?q[J._lookbehindSize+F]:Z[F];if(U===Q&&sf1(J,Z,z,W)){if(J._lookbehindSize=0,++J.matches,z>-J._lookbehindSize)J._cb(!0,q,0,J._lookbehindSize+z,!1);else J._cb(!0,void 0,0,0,!0);return J._bufPos=z+$}z+=K[U]}while(z<0&&!sf1(J,Z,z,X-z))++z;if(z<0){let F=J._lookbehindSize+z;if(F>0)J._cb(!1,q,0,F,!1);return J._lookbehindSize-=F,q.copy(q,0,F,J._lookbehindSize),q.set(Z,J._lookbehindSize),J._lookbehindSize+=X,J._bufPos=X,X}J._cb(!1,q,0,J._lookbehindSize,!1),J._lookbehindSize=0}z+=J._bufPos;let H=Y[0];while(z<=G){let F=Z[z+W];if(F===Q&&Z[z]===H&&of1(Y,0,Z,z,W)){if(++J.matches,z>0)J._cb(!0,Z,J._bufPos,z,!0);else J._cb(!0,void 0,0,0,!0);return J._bufPos=z+$}z+=K[F]}while(z<X){if(Z[z]!==H||!of1(Z,z,Y,0,X-z)){++z;continue}Z.copy(q,0,z,X),J._lookbehindSize=X-z;break}if(z>0)J._cb(!1,Z,J._bufPos,z<X?z:X,!0);return J._bufPos=X,X}function sf1(J,Z,X,Y){let{_lookbehind:$,_lookbehindSize:z,_needle:W}=J;for(let Q=0;Q<Y;++Q,++X)if((X<0?$[z+X]:Z[X])!==W[Q])return!1;return!0}rf1.exports=af1});var qk1=B((a59,Kk1)=>{var{Readable:mO4,Writable:cO4}=p("stream"),lO4=tf1(),{basename:pO4,convertToUTF8:ef1,getDecoder:nO4,parseContentType:iO4,parseDisposition:oO4}=Cf(),sO4=Buffer.from(`\r
`),aO4=Buffer.from("\r"),rO4=Buffer.from("-");function Jk1(){}var tO4=2000,sV=16384,jf=0,Zk1=1,Xk1=2;class zk1{constructor(J){this.header=Object.create(null),this.pairCount=0,this.byteCount=0,this.state=jf,this.name="",this.value="",this.crlf=0,this.cb=J}reset(){this.header=Object.create(null),this.pairCount=0,this.byteCount=0,this.state=jf,this.name="",this.value="",this.crlf=0}push(J,Z,X){let Y=Z;while(Z<X)switch(this.state){case jf:{let $=!1;for(;Z<X;++Z){if(this.byteCount===sV)return-1;++this.byteCount;let z=J[Z];if(ZD4[z]!==1){if(z!==58)return-1;if(this.name+=J.latin1Slice(Y,Z),this.name.length===0)return-1;++Z,$=!0,this.state=Zk1;break}}if(!$){this.name+=J.latin1Slice(Y,Z);break}}case Zk1:{let $=!1;for(;Z<X;++Z){if(this.byteCount===sV)return-1;++this.byteCount;let z=J[Z];if(z!==32&&z!==9){Y=Z,$=!0,this.state=Xk1;break}}if(!$)break}case Xk1:switch(this.crlf){case 0:for(;Z<X;++Z){if(this.byteCount===sV)return-1;++this.byteCount;let $=J[Z];if(XD4[$]!==1){if($!==13)return-1;++this.crlf;break}}this.value+=J.latin1Slice(Y,Z++);break;case 1:if(this.byteCount===sV)return-1;if(++this.byteCount,J[Z++]!==10)return-1;++this.crlf;break;case 2:{if(this.byteCount===sV)return-1;++this.byteCount;let $=J[Z];if($===32||$===9)Y=Z,this.crlf=0;else{if(++this.pairCount<tO4)if(this.name=this.name.toLowerCase(),this.header[this.name]===void 0)this.header[this.name]=[this.value];else this.header[this.name].push(this.value);if($===13)++this.crlf,++Z;else Y=Z,this.crlf=0,this.state=jf,this.name="",this.value=""}break}case 3:{if(this.byteCount===sV)return-1;if(++this.byteCount,J[Z++]!==10)return-1;let $=this.header;return this.reset(),this.cb($),Z}}break}return Z}}class Wk1 extends mO4{constructor(J,Z){super(J);this.truncated=!1,this._readcb=null,this.once("end",()=>{if(this._read(),--Z._fileEndsLeft===0&&Z._finalcb){let X=Z._finalcb;Z._finalcb=null,process.nextTick(X)}})}_read(J){let Z=this._readcb;if(Z)this._readcb=null,Z()}}var Yk1={push:(J,Z)=>{},destroy:()=>{}};function eO4(J,Z){let X=J._writecb;if(J._writecb=null,Z)J.destroy(Z);else if(X)X()}function JD4(J,Z){return J}class Qk1 extends cO4{constructor(J){let Z={autoDestroy:!0,emitClose:!0,highWaterMark:typeof J.highWaterMark==="number"?J.highWaterMark:void 0};super(Z);if(!J.conType.params||typeof J.conType.params.boundary!=="string")throw new Error("Multipart: Boundary not found");let X=J.conType.params.boundary,Y=typeof J.defParamCharset==="string"&&J.defParamCharset?nO4(J.defParamCharset):JD4,$=J.defCharset||"utf8",z=J.preservePath,W={autoDestroy:!0,emitClose:!0,highWaterMark:typeof J.fileHwm==="number"?J.fileHwm:void 0},Q=J.limits,G=Q&&typeof Q.fieldSize==="number"?Q.fieldSize:1048576,K=Q&&typeof Q.fileSize==="number"?Q.fileSize:1/0,q=Q&&typeof Q.files==="number"?Q.files:1/0,H=Q&&typeof Q.fields==="number"?Q.fields:1/0,F=Q&&typeof Q.parts==="number"?Q.parts:1/0,U=-1,D=0,V=0,w=!1;this._fileEndsLeft=0,this._fileStream=void 0,this._complete=!1;let M=0,P,R=0,f,d,v,l,o=!1,S=!1,i=!1;this._hparser=null;let u=new zk1((_)=>{this._hparser=null,w=!1,v="text/plain",f=$,d="7bit",l=void 0,o=!1;let Z1;if(!_["content-disposition"]){w=!0;return}let V1=oO4(_["content-disposition"][0],Y);if(!V1||V1.type!=="form-data"){w=!0;return}if(V1.params){if(V1.params.name)l=V1.params.name;if(V1.params["filename*"])Z1=V1.params["filename*"];else if(V1.params.filename)Z1=V1.params.filename;if(Z1!==void 0&&!z)Z1=pO4(Z1)}if(_["content-type"]){let N1=iO4(_["content-type"][0]);if(N1){if(v=`${N1.type}/${N1.subtype}`,N1.params&&typeof N1.params.charset==="string")f=N1.params.charset.toLowerCase()}}if(_["content-transfer-encoding"])d=_["content-transfer-encoding"][0].toLowerCase();if(v==="application/octet-stream"||Z1!==void 0){if(V===q){if(!S)S=!0,this.emit("filesLimit");w=!0;return}if(++V,this.listenerCount("file")===0){w=!0;return}M=0,this._fileStream=new Wk1(W,this),++this._fileEndsLeft,this.emit("file",l,this._fileStream,{filename:Z1,encoding:d,mimeType:v})}else{if(D===H){if(!i)i=!0,this.emit("fieldsLimit");w=!0;return}if(++D,this.listenerCount("field")===0){w=!0;return}P=[],R=0}}),G1=0,e=(_,Z1,V1,N1,m1)=>{J:while(Z1){if(this._hparser!==null){let h1=this._hparser.push(Z1,V1,N1);if(h1===-1){this._hparser=null,u.reset(),this.emit("error",new Error("Malformed part header"));break}V1=h1}if(V1===N1)break;if(G1!==0){if(G1===1){switch(Z1[V1]){case 45:G1=2,++V1;break;case 13:G1=3,++V1;break;default:G1=0}if(V1===N1)return}if(G1===2){if(G1=0,Z1[V1]===45){this._complete=!0,this._bparser=Yk1;return}let h1=this._writecb;this._writecb=Jk1,e(!1,rO4,0,1,!1),this._writecb=h1}else if(G1===3)if(G1=0,Z1[V1]===10){if(++V1,U>=F)break;if(this._hparser=u,V1===N1)break;continue J}else{let h1=this._writecb;this._writecb=Jk1,e(!1,aO4,0,1,!1),this._writecb=h1}}if(!w){if(this._fileStream){let h1,X0=Math.min(N1-V1,K-M);if(!m1)h1=Buffer.allocUnsafe(X0),Z1.copy(h1,0,V1,V1+X0);else h1=Z1.slice(V1,V1+X0);if(M+=h1.length,M===K){if(h1.length>0)this._fileStream.push(h1);this._fileStream.emit("limit"),this._fileStream.truncated=!0,w=!0}else if(!this._fileStream.push(h1)){if(this._writecb)this._fileStream._readcb=this._writecb;this._writecb=null}}else if(P!==void 0){let h1,X0=Math.min(N1-V1,G-R);if(!m1)h1=Buffer.allocUnsafe(X0),Z1.copy(h1,0,V1,V1+X0);else h1=Z1.slice(V1,V1+X0);if(R+=X0,P.push(h1),R===G)w=!0,o=!0}}break}if(_){if(G1=1,this._fileStream)this._fileStream.push(null),this._fileStream=null;else if(P!==void 0){let h1;switch(P.length){case 0:h1="";break;case 1:h1=ef1(P[0],f,0);break;default:h1=ef1(Buffer.concat(P,R),f,0)}P=void 0,R=0,this.emit("field",l,h1,{nameTruncated:!1,valueTruncated:o,encoding:d,mimeType:v})}if(++U===F)this.emit("partsLimit")}};this._bparser=new lO4(`\r
--${X}`,e),this._writecb=null,this._finalcb=null,this.write(sO4)}static detect(J){return J.type==="multipart"&&J.subtype==="form-data"}_write(J,Z,X){if(this._writecb=X,this._bparser.push(J,0),this._writecb)eO4(this)}_destroy(J,Z){if(this._hparser=null,this._bparser=Yk1,!J)J=Gk1(this);let X=this._fileStream;if(X)this._fileStream=null,X.destroy(J);Z(J)}_final(J){if(this._bparser.destroy(),!this._complete)return J(new Error("Unexpected end of form"));if(this._fileEndsLeft)this._finalcb=$k1.bind(null,this,J);else $k1(this,J)}}function $k1(J,Z,X){if(X)return Z(X);X=Gk1(J),Z(X)}function Gk1(J){if(J._hparser)return new Error("Malformed part header");let Z=J._fileStream;if(Z)J._fileStream=null,Z.destroy(new Error("Unexpected end of file"));if(!J._complete)return new Error("Unexpected end of form")}var ZD4=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],XD4=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Kk1.exports=Qk1});var Fk1=B((r59,Hk1)=>{var{Writable:YD4}=p("stream"),{getDecoder:$D4}=Cf();class Bk1 extends YD4{constructor(J){let Z={autoDestroy:!0,emitClose:!0,highWaterMark:typeof J.highWaterMark==="number"?J.highWaterMark:void 0};super(Z);let X=J.defCharset||"utf8";if(J.conType.params&&typeof J.conType.params.charset==="string")X=J.conType.params.charset;this.charset=X;let Y=J.limits;this.fieldSizeLimit=Y&&typeof Y.fieldSize==="number"?Y.fieldSize:1048576,this.fieldsLimit=Y&&typeof Y.fields==="number"?Y.fields:1/0,this.fieldNameSizeLimit=Y&&typeof Y.fieldNameSize==="number"?Y.fieldNameSize:100,this._inKey=!0,this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,this._fields=0,this._key="",this._val="",this._byte=-2,this._lastPos=0,this._encode=0,this._decoder=$D4(X)}static detect(J){return J.type==="application"&&J.subtype==="x-www-form-urlencoded"}_write(J,Z,X){if(this._fields>=this.fieldsLimit)return X();let Y=0,$=J.length;if(this._lastPos=0,this._byte!==-2){if(Y=zr(this,J,Y,$),Y===-1)return X(new Error("Malformed urlencoded form"));if(Y>=$)return X();if(this._inKey)++this._bytesKey;else++this._bytesVal}J:while(Y<$)if(this._inKey){Y=Wr(this,J,Y,$);while(Y<$){switch(J[Y]){case 61:if(this._lastPos<Y)this._key+=J.latin1Slice(this._lastPos,Y);this._lastPos=++Y,this._key=this._decoder(this._key,this._encode),this._encode=0,this._inKey=!1;continue J;case 38:if(this._lastPos<Y)this._key+=J.latin1Slice(this._lastPos,Y);if(this._lastPos=++Y,this._key=this._decoder(this._key,this._encode),this._encode=0,this._bytesKey>0)this.emit("field",this._key,"",{nameTruncated:this._keyTrunc,valueTruncated:!1,encoding:this.charset,mimeType:"text/plain"});if(this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,++this._fields>=this.fieldsLimit)return this.emit("fieldsLimit"),X();continue;case 43:if(this._lastPos<Y)this._key+=J.latin1Slice(this._lastPos,Y);this._key+=" ",this._lastPos=Y+1;break;case 37:if(this._encode===0)this._encode=1;if(this._lastPos<Y)this._key+=J.latin1Slice(this._lastPos,Y);if(this._lastPos=Y+1,this._byte=-1,Y=zr(this,J,Y+1,$),Y===-1)return X(new Error("Malformed urlencoded form"));if(Y>=$)return X();++this._bytesKey,Y=Wr(this,J,Y,$);continue}++Y,++this._bytesKey,Y=Wr(this,J,Y,$)}if(this._lastPos<Y)this._key+=J.latin1Slice(this._lastPos,Y)}else{Y=Qr(this,J,Y,$);while(Y<$){switch(J[Y]){case 38:if(this._lastPos<Y)this._val+=J.latin1Slice(this._lastPos,Y);if(this._lastPos=++Y,this._inKey=!0,this._val=this._decoder(this._val,this._encode),this._encode=0,this._bytesKey>0||this._bytesVal>0)this.emit("field",this._key,this._val,{nameTruncated:this._keyTrunc,valueTruncated:this._valTrunc,encoding:this.charset,mimeType:"text/plain"});if(this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,++this._fields>=this.fieldsLimit)return this.emit("fieldsLimit"),X();continue J;case 43:if(this._lastPos<Y)this._val+=J.latin1Slice(this._lastPos,Y);this._val+=" ",this._lastPos=Y+1;break;case 37:if(this._encode===0)this._encode=1;if(this._lastPos<Y)this._val+=J.latin1Slice(this._lastPos,Y);if(this._lastPos=Y+1,this._byte=-1,Y=zr(this,J,Y+1,$),Y===-1)return X(new Error("Malformed urlencoded form"));if(Y>=$)return X();++this._bytesVal,Y=Qr(this,J,Y,$);continue}++Y,++this._bytesVal,Y=Qr(this,J,Y,$)}if(this._lastPos<Y)this._val+=J.latin1Slice(this._lastPos,Y)}X()}_final(J){if(this._byte!==-2)return J(new Error("Malformed urlencoded form"));if(!this._inKey||this._bytesKey>0||this._bytesVal>0){if(this._inKey)this._key=this._decoder(this._key,this._encode);else this._val=this._decoder(this._val,this._encode);this.emit("field",this._key,this._val,{nameTruncated:this._keyTrunc,valueTruncated:this._valTrunc,encoding:this.charset,mimeType:"text/plain"})}J()}}function zr(J,Z,X,Y){if(X>=Y)return Y;if(J._byte===-1){let $=Gr[Z[X++]];if($===-1)return-1;if($>=8)J._encode=2;if(X<Y){let z=Gr[Z[X++]];if(z===-1)return-1;if(J._inKey)J._key+=String.fromCharCode(($<<4)+z);else J._val+=String.fromCharCode(($<<4)+z);J._byte=-2,J._lastPos=X}else J._byte=$}else{let $=Gr[Z[X++]];if($===-1)return-1;if(J._inKey)J._key+=String.fromCharCode((J._byte<<4)+$);else J._val+=String.fromCharCode((J._byte<<4)+$);J._byte=-2,J._lastPos=X}return X}function Wr(J,Z,X,Y){if(J._bytesKey>J.fieldNameSizeLimit){if(!J._keyTrunc){if(J._lastPos<X)J._key+=Z.latin1Slice(J._lastPos,X-1)}J._keyTrunc=!0;for(;X<Y;++X){let $=Z[X];if($===61||$===38)break;++J._bytesKey}J._lastPos=X}return X}function Qr(J,Z,X,Y){if(J._bytesVal>J.fieldSizeLimit){if(!J._valTrunc){if(J._lastPos<X)J._val+=Z.latin1Slice(J._lastPos,X-1)}J._valTrunc=!0;for(;X<Y;++X){if(Z[X]===38)break;++J._bytesVal}J._lastPos=X}return X}var Gr=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Hk1.exports=Bk1});var Ok1=B((t59,Uk1)=>{var{parseContentType:zD4}=Cf();function WD4(J){let Z=J.headers,X=zD4(Z["content-type"]);if(!X)throw new Error("Malformed content type");for(let Y of QD4){if(!Y.detect(X))continue;let z={limits:J.limits,headers:Z,conType:X,highWaterMark:void 0,fileHwm:void 0,defCharset:void 0,defParamCharset:void 0,preservePath:!1};if(J.highWaterMark)z.highWaterMark=J.highWaterMark;if(J.fileHwm)z.fileHwm=J.fileHwm;return z.defCharset=J.defCharset,z.defParamCharset=J.defParamCharset,z.preservePath=J.preservePath,new Y(z)}throw new Error(`Unsupported content type: ${Z["content-type"]}`)}var QD4=[qk1(),Fk1()].filter(function(J){return typeof J.detect==="function"});Uk1.exports=(J)=>{if(typeof J!=="object"||J===null)J={};if(typeof J.headers!=="object"||J.headers===null||typeof J.headers["content-type"]!=="string")throw new Error("Missing Content-Type");return WD4(J)}});var Rf=B((Vk1)=>{Object.defineProperty(Vk1,"__esModule",{value:!0});Vk1.PonyfillFile=void 0;var GD4=gN();class Dk1 extends GD4.PonyfillBlob{constructor(J,Z,X){super(J,X);this.name=Z,this.webkitRelativePath="",this.lastModified=(X===null||X===void 0?void 0:X.lastModified)||Date.now()}}Vk1.PonyfillFile=Dk1});var qr=B((Nk1)=>{Object.defineProperty(Nk1,"__esModule",{value:!0});Nk1.getStreamFromFormData=Nk1.PonyfillFormData=void 0;var Kr=Rf(),KD4=vN();class Mk1{constructor(){this.map=new Map}append(J,Z,X){let Y=this.map.get(J);if(!Y)Y=[],this.map.set(J,Y);let $=Ak1(Z)?wk1(J,Z,X):Z;Y.push($)}delete(J){this.map.delete(J)}get(J){let Z=this.map.get(J);return Z?Z[0]:null}getAll(J){return this.map.get(J)||[]}has(J){return this.map.has(J)}set(J,Z,X){let Y=Ak1(Z)?wk1(J,Z,X):Z;this.map.set(J,[Y])}*[Symbol.iterator](){for(let[J,Z]of this.map)for(let X of Z)yield[J,X]}entries(){return this[Symbol.iterator]()}keys(){return this.map.keys()}*values(){for(let J of this.map.values())for(let Z of J)yield Z}forEach(J){for(let[Z,X]of this)J(X,Z,this)}}Nk1.PonyfillFormData=Mk1;function qD4(J,Z="---"){let X=[],Y=!1;return new KD4.PonyfillReadableStream({start:($)=>{if(J.forEach((z,W)=>{if(!Y)$.enqueue(Buffer.from(`--${Z}\r
`)),Y=!0;X.push([W,z])}),!Y)$.enqueue(Buffer.from(`--${Z}--\r
`)),$.close()},pull:async($)=>{let z=X.shift();if(z){let[W,Q]=z;if(typeof Q==="string")$.enqueue(Buffer.from(`Content-Disposition: form-data; name="${W}"\r
\r
`)),$.enqueue(Buffer.from(Q));else{let G="";if(Q.name)G=`; filename="${Q.name}"`;$.enqueue(Buffer.from(`Content-Disposition: form-data; name="${W}"${G}\r
`)),$.enqueue(Buffer.from(`Content-Type: ${Q.type||"application/octet-stream"}\r
\r
`));let K=Q.stream();for await(let q of K)$.enqueue(q)}if(X.length===0)$.enqueue(Buffer.from(`\r
--${Z}--\r
`)),$.close();else $.enqueue(Buffer.from(`\r
--${Z}\r
`))}else $.enqueue(Buffer.from(`\r
--${Z}--\r
`)),$.close()}})}Nk1.getStreamFromFormData=qD4;function wk1(J,Z,X){if(Z instanceof Kr.PonyfillFile){if(X!=null)return new Kr.PonyfillFile([Z],X,{type:Z.type,lastModified:Z.lastModified});return Z}return new Kr.PonyfillFile([Z],X||J,{type:Z.type})}function Ak1(J){return J!=null&&typeof J==="object"&&typeof J.arrayBuffer==="function"}});var Ef=B((Rk1)=>{Object.defineProperty(Rk1,"__esModule",{value:!0});Rk1.PonyfillBody=void 0;var HD4=R$(),J3=p("stream"),FD4=HD4.__importDefault(Ok1()),mN=gN(),UD4=Rf(),Ck1=qr(),E$=vN(),Lk1=xN(),o4;(function(J){J.ReadableStream="ReadableStream",J.Blob="Blob",J.FormData="FormData",J.ArrayBuffer="ArrayBuffer",J.String="String",J.Readable="Readable",J.Buffer="Buffer",J.Uint8Array="Uint8Array"})(o4||(o4={}));class jk1{constructor(J,Z={}){this.bodyInit=J,this.options=Z,this.bodyUsed=!1,this.contentType=null,this.contentLength=null,this._bodyFactory=()=>null,this._generatedBody=null;let{bodyFactory:X,contentType:Y,contentLength:$,bodyType:z}=OD4(J);this._bodyFactory=X,this.contentType=Y,this.contentLength=$,this.bodyType=z}generateBody(){if(this._generatedBody)return this._generatedBody;let J=this._bodyFactory();return this._generatedBody=J,J}get body(){let J=this.generateBody();if(J!=null){let Z=J,X=J.readable;return new Proxy(J.readable,{get(Y,$){if($ in Z){let z=Z[$];if(typeof z==="function")return z.bind(Z);return z}if($ in X){let z=X[$];if(typeof z==="function")return z.bind(X);return z}}})}return null}async arrayBuffer(){if(this.bodyType===o4.ArrayBuffer)return this.bodyInit;if(this.bodyType===o4.Uint8Array||this.bodyType===o4.Buffer){let Z=this.bodyInit;return(0,Lk1.uint8ArrayToArrayBuffer)(Z)}if(this.bodyType===o4.String){let Z=Buffer.from(this.bodyInit);return(0,Lk1.uint8ArrayToArrayBuffer)(Z)}if(this.bodyType===o4.Blob)return await this.bodyInit.arrayBuffer();return(await this.blob()).arrayBuffer()}async _collectChunksFromReadable(){let J=[],Z=this.generateBody();if(Z)for await(let X of Z.readable)J.push(X);return J}async blob(){if(this.bodyType===o4.Blob)return this.bodyInit;if(this.bodyType===o4.String||this.bodyType===o4.Buffer||this.bodyType===o4.Uint8Array){let Z=this.bodyInit;return new mN.PonyfillBlob([Z],{type:this.contentType||""})}if(this.bodyType===o4.ArrayBuffer){let Z=this.bodyInit,X=Buffer.from(Z,void 0,Z.byteLength);return new mN.PonyfillBlob([X],{type:this.contentType||""})}let J=await this._collectChunksFromReadable();return new mN.PonyfillBlob(J,{type:this.contentType||""})}formData(J){if(this.bodyType===o4.FormData)return Promise.resolve(this.bodyInit);let Z=new Ck1.PonyfillFormData,X=this.generateBody();if(X==null)return Promise.resolve(Z);let Y={...this.options.formDataLimits,...J===null||J===void 0?void 0:J.formDataLimits};return new Promise(($,z)=>{let W=(0,FD4.default)({headers:{"content-type":this.contentType||""},limits:Y,defParamCharset:"utf-8"});W.on("field",(Q,G,{nameTruncated:K,valueTruncated:q})=>{if(K)z(new Error(`Field name size exceeded: ${Y===null||Y===void 0?void 0:Y.fieldNameSize} bytes`));if(q)z(new Error(`Field value size exceeded: ${Y===null||Y===void 0?void 0:Y.fieldSize} bytes`));Z.set(Q,G)}),W.on("fieldsLimit",()=>{z(new Error(`Fields limit exceeded: ${Y===null||Y===void 0?void 0:Y.fields}`))}),W.on("file",(Q,G,{filename:K,mimeType:q})=>{let H=[];G.on("limit",()=>{z(new Error(`File size limit exceeded: ${Y===null||Y===void 0?void 0:Y.fileSize} bytes`))}),G.on("data",(F)=>{H.push(Buffer.from(F))}),G.on("close",()=>{if(G.truncated)z(new Error(`File size limit exceeded: ${Y===null||Y===void 0?void 0:Y.fileSize} bytes`));let F=new UD4.PonyfillFile(H,K,{type:q});Z.set(Q,F)})}),W.on("filesLimit",()=>{z(new Error(`Files limit exceeded: ${Y===null||Y===void 0?void 0:Y.files}`))}),W.on("partsLimit",()=>{z(new Error(`Parts limit exceeded: ${Y===null||Y===void 0?void 0:Y.parts}`))}),W.on("close",()=>{$(Z)}),W.on("error",(Q)=>{z(Q)}),X===null||X===void 0||X.readable.pipe(W)})}async buffer(){if(this.bodyType===o4.Buffer)return this.bodyInit;if(this.bodyType===o4.String)return Buffer.from(this.bodyInit);if(this.bodyType===o4.Uint8Array||this.bodyType===o4.ArrayBuffer){let Z=this.bodyInit;return Buffer.from(Z,"byteOffset"in Z?Z.byteOffset:void 0,Z.byteLength)}if(this.bodyType===o4.Blob){if(this.bodyInit instanceof mN.PonyfillBlob)return this.bodyInit.buffer();let Z=this.bodyInit;return Buffer.from(await Z.arrayBuffer(),void 0,Z.size)}let J=await this._collectChunksFromReadable();return Buffer.concat(J)}async json(){let J=await this.text();return JSON.parse(J)}async text(){if(this.bodyType===o4.String)return this.bodyInit;return(await this.buffer()).toString("utf-8")}}Rk1.PonyfillBody=jk1;function OD4(J){if(J==null)return{bodyFactory:()=>null,contentType:null,contentLength:null};if(typeof J==="string")return{bodyType:o4.String,contentType:"text/plain;charset=UTF-8",contentLength:Buffer.byteLength(J),bodyFactory(){let Z=J3.Readable.from(J);return new E$.PonyfillReadableStream(Z)}};if(J instanceof E$.PonyfillReadableStream)return{bodyType:o4.ReadableStream,bodyFactory:()=>J,contentType:null,contentLength:null};if(J instanceof mN.PonyfillBlob)return{bodyType:o4.Blob,contentType:J.type,contentLength:J.size,bodyFactory(){return J.stream()}};if(J instanceof Buffer){let Z=J.length;return{bodyType:o4.Buffer,contentLength:Z,contentType:null,bodyFactory(){let X=J3.Readable.from(J);return new E$.PonyfillReadableStream(X)}}}if(J instanceof Uint8Array){let Z=J.byteLength;return{bodyType:o4.Uint8Array,contentLength:Z,contentType:null,bodyFactory(){let X=J3.Readable.from(J);return new E$.PonyfillReadableStream(X)}}}if("buffer"in J)return{contentLength:J.byteLength,contentType:null,bodyFactory(){let X=Buffer.from(J),Y=J3.Readable.from(X);return new E$.PonyfillReadableStream(Y)}};if(J instanceof ArrayBuffer){let Z=J.byteLength;return{bodyType:o4.ArrayBuffer,contentType:null,contentLength:Z,bodyFactory(){let X=Buffer.from(J,void 0,J.byteLength),Y=J3.Readable.from(X);return new E$.PonyfillReadableStream(Y)}}}if(J instanceof J3.Readable)return{bodyType:o4.Readable,contentType:null,contentLength:null,bodyFactory(){return new E$.PonyfillReadableStream(J)}};if("stream"in J)return{contentType:J.type,contentLength:J.size,bodyFactory(){let Z=J.stream();return new E$.PonyfillReadableStream(Z)}};if("sort"in J)return{bodyType:o4.String,contentType:"application/x-www-form-urlencoded;charset=UTF-8",contentLength:null,bodyFactory(){return new E$.PonyfillReadableStream(J3.Readable.from(J.toString()))}};if("forEach"in J){let Z=Math.random().toString(36).substr(2);return{contentType:`multipart/form-data; boundary=${Z}`,contentLength:null,bodyFactory(){return(0,Ck1.getStreamFromFormData)(J,Z)}}}if(J[Symbol.iterator]||J[Symbol.asyncIterator])return{contentType:null,contentLength:null,bodyFactory(){let Z=J3.Readable.from(J);return new E$.PonyfillReadableStream(Z)}};throw new Error("Unknown body type")}});var Sf=B((fk1)=>{Object.defineProperty(fk1,"__esModule",{value:!0});fk1.PonyfillHeaders=void 0;function Sk1(J){return J&&typeof J.get==="function"}class Tk1{constructor(J){this.headersInit=J,this.map=new Map,this.mapIsBuilt=!1,this.objectNormalizedKeysOfHeadersInit=[],this.objectOriginalKeysOfHeadersInit=[]}_get(J){if(this.mapIsBuilt)return this.map.get(J.toLowerCase())||null;if(this.headersInit==null)return null;let Z=J.toLowerCase();if(Array.isArray(this.headersInit))return this.headersInit.find((X)=>X[0]===Z);else if(Sk1(this.headersInit))return this.headersInit.get(Z);else{let X=this.headersInit[J]||this.headersInit[Z];if(X!=null)return X;if(!this.objectNormalizedKeysOfHeadersInit.length)Object.keys(this.headersInit).forEach((z)=>{this.objectOriginalKeysOfHeadersInit.push(z),this.objectNormalizedKeysOfHeadersInit.push(z.toLowerCase())});let Y=this.objectNormalizedKeysOfHeadersInit.indexOf(Z);if(Y===-1)return null;let $=this.objectOriginalKeysOfHeadersInit[Y];return this.headersInit[$]}}getMap(){if(this.mapIsBuilt)return this.map;if(this.headersInit!=null)if(Array.isArray(this.headersInit))this.map=new Map(this.headersInit);else if(Sk1(this.headersInit))this.headersInit.forEach((J,Z)=>{this.map.set(Z,J)});else for(let J in this.headersInit){let Z=this.headersInit[J];if(Z!=null){let X=Array.isArray(Z)?Z.join(", "):Z,Y=J.toLowerCase();this.map.set(Y,X)}}return this.mapIsBuilt=!0,this.map}append(J,Z){let X=J.toLowerCase(),Y=this.getMap().get(X),$=Y?`${Y}, ${Z}`:Z;this.getMap().set(X,$)}get(J){let Z=J.toLowerCase(),X=this._get(Z);if(X==null)return null;if(Array.isArray(X))return X.join(", ");return X}has(J){let Z=J.toLowerCase();return!!this._get(Z)}set(J,Z){let X=J.toLowerCase();this.getMap().set(X,Z)}delete(J){let Z=J.toLowerCase();this.getMap().delete(Z)}forEach(J){this.getMap().forEach((Z,X)=>{J(Z,X,this)})}keys(){return this.getMap().keys()}values(){return this.getMap().values()}entries(){return this.getMap().entries()}[Symbol.iterator](){return this.getMap().entries()}}fk1.PonyfillHeaders=Tk1});var Br=B((hk1)=>{Object.defineProperty(hk1,"__esModule",{value:!0});hk1.PonyfillRequest=void 0;var DD4=Yr(),VD4=Ef(),ID4=Sf(),wD4=xN();function AD4(J){return J[Symbol.toStringTag]==="Request"}class bk1 extends VD4.PonyfillBody{constructor(J,Z){var X;let Y,$=null,z;if(typeof J==="string")Y=J;else if("href"in J)Y=J.toString();else if(AD4(J))Y=J.url,$=J.body,z=J;if(Z!=null)$=Z.body||null,z=Z;super($,Z);this.destination="",this.priority="auto",this.cache=(z===null||z===void 0?void 0:z.cache)||"default",this.credentials=(z===null||z===void 0?void 0:z.credentials)||"same-origin",this.headers=new ID4.PonyfillHeaders(z===null||z===void 0?void 0:z.headers),this.integrity=(z===null||z===void 0?void 0:z.integrity)||"",this.keepalive=(z===null||z===void 0?void 0:z.keepalive)!=null?z===null||z===void 0?void 0:z.keepalive:!1,this.method=((X=z===null||z===void 0?void 0:z.method)===null||X===void 0?void 0:X.toUpperCase())||"GET",this.mode=(z===null||z===void 0?void 0:z.mode)||"cors",this.redirect=(z===null||z===void 0?void 0:z.redirect)||"follow",this.referrer=(z===null||z===void 0?void 0:z.referrer)||"about:client",this.referrerPolicy=(z===null||z===void 0?void 0:z.referrerPolicy)||"no-referrer",this.signal=(z===null||z===void 0?void 0:z.signal)||new DD4.PonyfillAbortController().signal,this.headersSerializer=(z===null||z===void 0?void 0:z.headersSerializer)||wD4.getHeadersObj,this.url=Y||"";let W=this.headers.get("content-type");if(!W){if(this.contentType)this.headers.set("content-type",this.contentType)}else this.contentType=W;let Q=this.headers.get("content-length");if(!Q){if(this.contentLength)this.headers.set("content-length",this.contentLength.toString())}else this.contentLength=parseInt(Q,10)}clone(){return new Request(this)}}hk1.PonyfillRequest=bk1});var Hr=B((vk1)=>{Object.defineProperty(vk1,"__esModule",{value:!0});vk1.PonyfillResponse=void 0;var MD4=p("http"),ND4=Ef(),yk1=Sf();class aV extends ND4.PonyfillBody{constructor(J,Z){super(J||null,Z);if(this.headers=new yk1.PonyfillHeaders,this.status=200,this.statusText="OK",this.url="",this.redirected=!1,this.type="default",Z)this.headers=new yk1.PonyfillHeaders(Z.headers),this.status=Z.status||200,this.statusText=Z.statusText||MD4.STATUS_CODES[this.status]||"OK",this.url=Z.url||"",this.redirected=Z.redirected||!1,this.type=Z.type||"default";let X=this.headers.get("content-type");if(!X){if(this.contentType)this.headers.set("content-type",this.contentType)}else this.contentType=X;let Y=this.headers.get("content-length");if(!Y){if(this.contentLength)this.headers.set("content-length",this.contentLength.toString())}else this.contentLength=parseInt(Y,10)}get ok(){return this.status>=200&&this.status<300}clone(){return new aV(this.body,this)}static error(){return new aV(null,{status:500,statusText:"Internal Server Error"})}static redirect(J,Z=301){if(Z<300||Z>399)throw new RangeError("Invalid status code");return new aV(null,{headers:{location:J},status:Z})}static json(J,Z={}){return new aV(JSON.stringify(J),{...Z,headers:{"Content-Type":"application/json",...Z===null||Z===void 0?void 0:Z.headers}})}}vk1.PonyfillResponse=aV});var mk1=B((z99,uk1)=>{var gk1=12,PD4=0,Fr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function LD4(J){var Z=J.indexOf("%");if(Z===-1)return J;var X=J.length,Y="",$=0,z=0,W=Z,Q=gk1;while(Z>-1&&Z<X){var G=dk1(J[Z+1],4),K=dk1(J[Z+2],0),q=G|K,H=Fr[q];if(Q=Fr[256+Q+H],z=z<<6|q&Fr[364+H],Q===gk1)Y+=J.slice($,W),Y+=z<=65535?String.fromCharCode(z):String.fromCharCode(55232+(z>>10),56320+(z&1023)),z=0,$=Z+3,Z=W=J.indexOf("%",$);else if(Q===PD4)return null;else{if(Z+=3,Z<X&&J.charCodeAt(Z)===37)continue;return null}}return Y+J.slice($)}var CD4={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function dk1(J,Z){var X=CD4[J];return X===void 0?255:X<<Z}uk1.exports=LD4});var ik1=B((W99,nk1)=>{var ck1=mk1(),lk1=/\+/g,pk1=function(){};pk1.prototype=Object.create(null);function jD4(J){let Z=new pk1;if(typeof J!=="string")return Z;let X=J.length,Y="",$="",z=-1,W=-1,Q=!1,G=!1,K=!1,q=!1,H=!1,F=0;for(let U=0;U<X+1;U++)if(F=U!==X?J.charCodeAt(U):38,F===38){if(H=W>z,!H)W=U;if(Y=J.slice(z+1,W),H||Y.length>0){if(K)Y=Y.replace(lk1," ");if(Q)Y=ck1(Y)||Y;if(H){if($=J.slice(W+1,U),q)$=$.replace(lk1," ");if(G)$=ck1($)||$}let D=Z[Y];if(D===void 0)Z[Y]=$;else if(D.pop)D.push($);else Z[Y]=[D,$]}$="",z=U,W=U,Q=!1,G=!1,K=!1,q=!1}else if(F===61)if(W<=z)W=U;else G=!0;else if(F===43)if(W>z)q=!0;else K=!0;else if(F===37)if(W>z)G=!0;else Q=!0;return Z}nk1.exports=jD4});var sk1=B((Q99,ok1)=>{var S$=Array.from({length:256},(J,Z)=>"%"+((Z<16?"0":"")+Z.toString(16)).toUpperCase()),RD4=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function ED4(J){let Z=J.length;if(Z===0)return"";let X="",Y=0,$=0;J:for(;$<Z;$++){let z=J.charCodeAt($);while(z<128){if(RD4[z]!==1){if(Y<$)X+=J.slice(Y,$);Y=$+1,X+=S$[z]}if(++$===Z)break J;z=J.charCodeAt($)}if(Y<$)X+=J.slice(Y,$);if(z<2048){Y=$+1,X+=S$[192|z>>6]+S$[128|z&63];continue}if(z<55296||z>=57344){Y=$+1,X+=S$[224|z>>12]+S$[128|z>>6&63]+S$[128|z&63];continue}if(++$,$>=Z)throw new Error("URI malformed");let W=J.charCodeAt($)&1023;Y=$+1,z=65536+((z&1023)<<10|W),X+=S$[240|z>>18]+S$[128|z>>12&63]+S$[128|z>>6&63]+S$[128|z&63]}if(Y===0)return J;if(Y<Z)return X+J.slice(Y);return X}ok1.exports={encodeString:ED4}});var tk1=B((G99,rk1)=>{var{encodeString:Ur}=sk1();function ak1(J){let Z=typeof J;if(Z==="string")return Ur(J);else if(Z==="bigint")return J.toString();else if(Z==="boolean")return J?"true":"false";else if(Z==="number"&&Number.isFinite(J))return J<1000000000000000000000?""+J:Ur(""+J);return""}function SD4(J){let Z="";if(J===null||typeof J!=="object")return Z;let X="&",Y=Object.keys(J),$=Y.length,z=0;for(let W=0;W<$;W++){let Q=Y[W],G=J[Q],K=Ur(Q)+"=";if(W)Z+=X;if(Array.isArray(G)){z=G.length;for(let q=0;q<z;q++){if(q)Z+=X;Z+=K,Z+=ak1(G[q])}}else Z+=K,Z+=ak1(G)}return Z}rk1.exports=SD4});var Or=B((K99,cN)=>{var ek1=ik1(),Jb1=tk1(),Zb1={parse:ek1,stringify:Jb1};cN.exports=Zb1;cN.exports.default=Zb1;cN.exports.parse=ek1;cN.exports.stringify=Jb1});var $b1=B((q99,Yb1)=>{function e0(){this._protocol=null,this._href="",this._port=-1,this._query=null,this.auth=null,this.slashes=null,this.host=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null,this._prependSlash=!1}var TD4=p("querystring");e0.queryString=TD4;e0.prototype.parse=function J(Z,X,Y,$){if(typeof Z!=="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof Z);var z=0,W=Z.length-1;while(Z.charCodeAt(z)<=32)z++;while(Z.charCodeAt(W)<=32)W--;if(z=this._parseProtocol(Z,z,W),this._protocol!=="javascript"){z=this._parseHost(Z,z,W,Y);var Q=this._protocol;if(!this.hostname&&(this.slashes||Q&&!JF[Q]))this.hostname=this.host=""}if(z<=W){var G=Z.charCodeAt(z);if(G===47||G===92)this._parsePath(Z,z,W,$);else if(G===63)this._parseQuery(Z,z,W,$);else if(G===35)this._parseHash(Z,z,W,$);else if(this._protocol!=="javascript")this._parsePath(Z,z,W,$);else this.pathname=Z.slice(z,W+1)}if(!this.pathname&&this.hostname&&this._slashProtocols[this._protocol])this.pathname="/";if(X){var K=this.search;if(K==null)K=this.search="";if(K.charCodeAt(0)===63)K=K.slice(1);this.query=e0.queryString.parse(K)}};e0.prototype.resolve=function J(Z){return this.resolveObject(e0.parse(Z,!1,!0)).format()};e0.prototype.format=function J(){var Z=this.auth||"";if(Z)Z=encodeURIComponent(Z),Z=Z.replace(/%3A/i,":"),Z+="@";var X=this.protocol||"",Y=this.pathname||"",$=this.hash||"",z=this.search||"",W="",Q=this.hostname||"",G=this.port||"",K=!1,q="",H=this.query;if(H&&typeof H==="object")W=e0.queryString.stringify(H);if(!z)z=W?"?"+W:"";if(X&&X.charCodeAt(X.length-1)!==58)X+=":";if(this.host)K=Z+this.host;else if(Q){var F=Q.indexOf(":")>-1;if(F)Q="["+Q+"]";K=Z+Q+(G?":"+G:"")}var U=this.slashes||(!X||JF[X])&&K!==!1;if(X)q=X+(U?"//":"");else if(U)q="//";if(U&&Y&&Y.charCodeAt(0)!==47)Y="/"+Y;if(z&&z.charCodeAt(0)!==63)z="?"+z;if($&&$.charCodeAt(0)!==35)$="#"+$;return Y=kD4(Y),z=bD4(z),q+(K===!1?"":K)+Y+z+$};e0.prototype.resolveObject=function J(Z){if(typeof Z==="string")Z=e0.parse(Z,!1,!0);var X=this._clone();if(X.hash=Z.hash,!Z.href)return X._href="",X;if(Z.slashes&&!Z._protocol){if(Z._copyPropsTo(X,!0),JF[X._protocol]&&X.hostname&&!X.pathname)X.pathname="/";return X._href="",X}if(Z._protocol&&Z._protocol!==X._protocol){if(!JF[Z._protocol])return Z._copyPropsTo(X,!1),X._href="",X;if(X._protocol=Z._protocol,!Z.host&&Z._protocol!=="javascript"){var G=(Z.pathname||"").split("/");while(G.length&&!(Z.host=G.shift()));if(!Z.host)Z.host="";if(!Z.hostname)Z.hostname="";if(G[0]!=="")G.unshift("");if(G.length<2)G.unshift("");X.pathname=G.join("/")}else X.pathname=Z.pathname;return X.search=Z.search,X.host=Z.host||"",X.auth=Z.auth,X.hostname=Z.hostname||Z.host,X._port=Z._port,X.slashes=X.slashes||Z.slashes,X._href="",X}var Y=X.pathname&&X.pathname.charCodeAt(0)===47,$=Z.host||Z.pathname&&Z.pathname.charCodeAt(0)===47,z=$||Y||X.host&&Z.pathname,W=z,Q=X.pathname&&X.pathname.split("/")||[],G=Z.pathname&&Z.pathname.split("/")||[],K=X._protocol&&!JF[X._protocol];if(K){if(X.hostname="",X._port=-1,X.host)if(Q[0]==="")Q[0]=X.host;else Q.unshift(X.host);if(X.host="",Z._protocol){if(Z.hostname="",Z._port=-1,Z.host)if(G[0]==="")G[0]=Z.host;else G.unshift(Z.host);Z.host=""}z=z&&(G[0]===""||Q[0]==="")}if($)X.host=Z.host?Z.host:X.host,X.hostname=Z.hostname?Z.hostname:X.hostname,X.search=Z.search,Q=G;else if(G.length){if(!Q)Q=[];Q.pop(),Q=Q.concat(G),X.search=Z.search}else if(Z.search){if(K){X.hostname=X.host=Q.shift();var q=X.host&&X.host.indexOf("@")>0?X.host.split("@"):!1;if(q)X.auth=q.shift(),X.host=X.hostname=q.shift()}return X.search=Z.search,X._href="",X}if(!Q.length)return X.pathname=null,X._href="",X;var H=Q.slice(-1)[0],F=(X.host||Z.host)&&(H==="."||H==="..")||H==="",U=0;for(var D=Q.length;D>=0;D--)if(H=Q[D],H===".")Q.splice(D,1);else if(H==="..")Q.splice(D,1),U++;else if(U)Q.splice(D,1),U--;if(!z&&!W)for(;U--;U)Q.unshift("..");if(z&&Q[0]!==""&&(!Q[0]||Q[0].charCodeAt(0)!==47))Q.unshift("");if(F&&Q.join("/").substr(-1)!=="/")Q.push("");var V=Q[0]===""||Q[0]&&Q[0].charCodeAt(0)===47;if(K){X.hostname=X.host=V?"":Q.length?Q.shift():"";var q=X.host&&X.host.indexOf("@")>0?X.host.split("@"):!1;if(q)X.auth=q.shift(),X.host=X.hostname=q.shift()}if(z=z||X.host&&Q.length,z&&!V)Q.unshift("");return X.pathname=Q.length===0?null:Q.join("/"),X.auth=Z.auth||X.auth,X.slashes=X.slashes||Z.slashes,X._href="",X};var fD4=p("punycode");e0.prototype._hostIdna=function J(Z){return fD4.toASCII(Z)};var kD4=e0.prototype._escapePathName=function J(Z){if(!Xb1(Z,35,63))return Z;return hD4(Z)},bD4=e0.prototype._escapeSearch=function J(Z){if(!Xb1(Z,35,-1))return Z;return _D4(Z)};e0.prototype._parseProtocol=function J(Z,X,Y){var $=!1,z=this._protocolCharacters;for(var W=X;W<=Y;++W){var Q=Z.charCodeAt(W);if(Q===58){var G=Z.slice(X,W);if($)G=G.toLowerCase();return this._protocol=G,W+1}else if(z[Q]===1){if(Q<97)$=!0}else return X}return X};e0.prototype._parseAuth=function J(Z,X,Y,$){var z=Z.slice(X,Y+1);if($)z=decodeURIComponent(z);this.auth=z};e0.prototype._parsePort=function J(Z,X,Y){var $=0,z=!1,W=!0;for(var Q=X;Q<=Y;++Q){var G=Z.charCodeAt(Q);if(48<=G&&G<=57)$=10*$+(G-48),z=!0;else{if(W=!1,G===92||G===47)W=!0;break}}if($===0&&!z||!W){if(!W)this._port=-2;return 0}return this._port=$,Q-X};e0.prototype._parseHost=function J(Z,X,Y,$){var z=this._hostEndingCharacters,W=Z.charCodeAt(X),Q=Z.charCodeAt(X+1);if((W===47||W===92)&&(Q===47||Q===92)){if(this.slashes=!0,X===0){if(Y<2)return X;var G=yD4(Z,64,2,z);if(!G&&!$)return this.slashes=null,X}X+=2}else if(!this._protocol||JF[this._protocol])return X;var K=!1,q=!1,H=X,F=Y,U=-1,D=0,V=0,w=!1,M=-1;for(var P=X;P<=Y;++P){var R=Z.charCodeAt(P);if(R===64)M=P;else if(R===37)w=!0;else if(z[R]===1)break}if(M>-1)this._parseAuth(Z,X,M-1,w),X=H=M+1;if(Z.charCodeAt(X)===91){for(var P=X+1;P<=Y;++P){var R=Z.charCodeAt(P);if(R===93){if(Z.charCodeAt(P+1)===58)D=this._parsePort(Z,P+2,Y)+1;var f=Z.slice(X+1,P).toLowerCase();return this.hostname=f,this.host=this._port>0?"["+f+"]:"+this._port:"["+f+"]",this.pathname="/",P+D+1}}return X}for(var P=X;P<=Y;++P){if(V>62)return this.hostname=this.host=Z.slice(X,P),P;var R=Z.charCodeAt(P);if(R===58){D=this._parsePort(Z,P+1,Y)+1,F=P-1;break}else if(R<97){if(R===46)V=-1;else if(65<=R&&R<=90)K=!0;else if(!(R===45||R===95||R===43||48<=R&&R<=57)){if(z[R]===0&&this._noPrependSlashHostEnders[R]===0)this._prependSlash=!0;F=P-1;break}}else if(R>=123){if(R<=126){if(this._noPrependSlashHostEnders[R]===0)this._prependSlash=!0;F=P-1;break}q=!0}U=R,V++}if(F+1!==X&&F-H<=256){var f=Z.slice(H,F+1);if(K)f=f.toLowerCase();if(q)f=this._hostIdna(f);this.hostname=f,this.host=this._port>0?f+":"+this._port:f}return F+1+D};e0.prototype._copyPropsTo=function J(Z,X){if(!X)Z._protocol=this._protocol;Z._href=this._href,Z._port=this._port,Z._prependSlash=this._prependSlash,Z.auth=this.auth,Z.slashes=this.slashes,Z.host=this.host,Z.hostname=this.hostname,Z.hash=this.hash,Z.search=this.search,Z.pathname=this.pathname};e0.prototype._clone=function J(){var Z=new e0;return Z._protocol=this._protocol,Z._href=this._href,Z._port=this._port,Z._prependSlash=this._prependSlash,Z.auth=this.auth,Z.slashes=this.slashes,Z.host=this.host,Z.hostname=this.hostname,Z.hash=this.hash,Z.search=this.search,Z.pathname=this.pathname,Z};e0.prototype._getComponentEscaped=function J(Z,X,Y,$){var z=X,W=X,Q="",G=$?this._afterQueryAutoEscapeMap:this._autoEscapeMap;for(;W<=Y;++W){var K=Z.charCodeAt(W),q=G[K];if(q!==""&&q!==void 0){if(z<W)Q+=Z.slice(z,W);Q+=q,z=W+1}}if(z<W+1)Q+=Z.slice(z,W);return Q};e0.prototype._parsePath=function J(Z,X,Y,$){var z=X,W=Y,Q=!1,G=this._autoEscapeCharacters,K=this._port===-2?"/:":"";for(var q=X;q<=Y;++q){var H=Z.charCodeAt(q);if(H===35){this._parseHash(Z,q,Y,$),W=q-1;break}else if(H===63){this._parseQuery(Z,q,Y,$),W=q-1;break}else if(!$&&!Q&&G[H]===1)Q=!0}if(z>W){this.pathname=K===""?"/":K;return}var F;if(Q)F=this._getComponentEscaped(Z,z,W,!1);else F=Z.slice(z,W+1);this.pathname=K===""?this._prependSlash?"/"+F:F:K+F};e0.prototype._parseQuery=function J(Z,X,Y,$){var z=X,W=Y,Q=!1,G=this._autoEscapeCharacters;for(var K=X;K<=Y;++K){var q=Z.charCodeAt(K);if(q===35){this._parseHash(Z,K,Y,$),W=K-1;break}else if(!$&&!Q&&G[q]===1)Q=!0}if(z>W){this.search="";return}var H;if(Q)H=this._getComponentEscaped(Z,z,W,!0);else H=Z.slice(z,W+1);this.search=H};e0.prototype._parseHash=function J(Z,X,Y,$){if(X>Y){this.hash="";return}this.hash=$?Z.slice(X,Y+1):this._getComponentEscaped(Z,X,Y,!0)};Object.defineProperty(e0.prototype,"port",{get:function(){if(this._port>=0)return""+this._port;return null},set:function(J){if(J==null)this._port=-1;else this._port=parseInt(J,10)}});Object.defineProperty(e0.prototype,"query",{get:function(){var J=this._query;if(J!=null)return J;var Z=this.search;if(Z){if(Z.charCodeAt(0)===63)Z=Z.slice(1);if(Z!=="")return this._query=Z,Z}return Z},set:function(J){this._query=J}});Object.defineProperty(e0.prototype,"path",{get:function(){var J=this.pathname||"",Z=this.search||"";if(J||Z)return J+Z;return J==null&&Z?"/"+Z:null},set:function(){}});Object.defineProperty(e0.prototype,"protocol",{get:function(){var J=this._protocol;return J?J+":":J},set:function(J){if(typeof J==="string"){var Z=J.length-1;if(J.charCodeAt(Z)===58)this._protocol=J.slice(0,Z);else this._protocol=J}else if(J==null)this._protocol=null}});Object.defineProperty(e0.prototype,"href",{get:function(){var J=this._href;if(!J)J=this._href=this.format();return J},set:function(J){this._href=J}});e0.parse=function J(Z,X,Y,$){if(Z instanceof e0)return Z;var z=new e0;return z.parse(Z,!!X,!!Y,!!$),z};e0.format=function J(Z){if(typeof Z==="string")Z=e0.parse(Z);if(!(Z instanceof e0))return e0.prototype.format.call(Z);return Z.format()};e0.resolve=function J(Z,X){return e0.parse(Z,!1,!0).resolve(X)};e0.resolveObject=function J(Z,X){if(!Z)return X;return e0.parse(Z,!1,!0).resolveObject(X)};function hD4(J){return J.replace(/[?#]/g,function(Z){return encodeURIComponent(Z)})}function _D4(J){return J.replace(/#/g,function(Z){return encodeURIComponent(Z)})}function yD4(J,Z,X,Y){var $=J.length;for(var z=X;z<$;++z){var W=J.charCodeAt(z);if(W===Z)return!0;else if(Y[W]===1)return!1}return!1}function Xb1(J,Z,X){for(var Y=0,$=J.length;Y<$;++Y){var z=J.charCodeAt(Y);if(z===Z||z===X)return!0}return!1}function Tf(J){var Z=new Uint8Array(128);return J.forEach(function(X){if(typeof X==="number")Z[X]=1;else{var Y=X[0],$=X[1];for(var z=Y;z<=$;++z)Z[z]=1}}),Z}var Dr=["<",">",'"',"`"," ","\r",`
`,"\t","{","}","|","\\","^","`","'"],tV=new Array(128);for(HY=0,ZF=tV.length;HY<ZF;++HY)tV[HY]="";var HY,ZF;for(HY=0,ZF=Dr.length;HY<ZF;++HY){if(rV=Dr[HY],lN=encodeURIComponent(rV),lN===rV)lN=escape(rV);tV[rV.charCodeAt(0)]=lN}var rV,lN,HY,ZF,vD4=tV.slice();tV[92]="/";var JF=e0.prototype._slashProtocols={http:!0,https:!0,gopher:!0,file:!0,ftp:!0,"http:":!0,"https:":!0,"gopher:":!0,"file:":!0,"ftp:":!0};function xD4(){}xD4.prototype=JF;e0.prototype._protocolCharacters=Tf([[97,122],[65,90],46,43,45]);e0.prototype._hostEndingCharacters=Tf([35,63,47,92]);e0.prototype._autoEscapeCharacters=Tf(Dr.map(function(J){return J.charCodeAt(0)}));e0.prototype._noPrependSlashHostEnders=Tf(["<",">","'","`"," ","\r",`
`,"\t","{","}","|","^","`",'"',"%",";"].map(function(J){return J.charCodeAt(0)}));e0.prototype._autoEscapeMap=tV;e0.prototype._afterQueryAutoEscapeMap=vD4;Yb1.exports=e0;e0.replace=function J(){p.cache.url={exports:e0}}});var Vr=B((Qb1)=>{Object.defineProperty(Qb1,"__esModule",{value:!0});Qb1.PonyfillURLSearchParams=void 0;var gD4=R$(),zb1=gD4.__importDefault(Or());class Wb1{constructor(J){if(J)if(typeof J==="string")this.params=zb1.default.parse(J);else if(Array.isArray(J)){this.params={};for(let[Z,X]of J)this.params[Z]=X}else if("entries"in J){this.params={};for(let[Z,X]of J.entries())this.params[Z]=X}else this.params=J;else this.params={}}append(J,Z){let X=this.params[J],Y=X?`${X},${Z}`:Z;this.params[J]=Y}delete(J){delete this.params[J]}get(J){let Z=this.params[J];if(Array.isArray(Z))return Z[0]||null;return Z||null}getAll(J){let Z=this.params[J];if(!Array.isArray(Z))return Z?[Z]:[];return Z}has(J){return J in this.params}set(J,Z){this.params[J]=Z}sort(){let J=Object.keys(this.params).sort(),Z={};for(let X of J)Z[X]=this.params[X];this.params=Z}toString(){return zb1.default.stringify(this.params)}*keys(){for(let J in this.params)yield J}*entries(){for(let J of this.keys()){let Z=this.params[J];if(Array.isArray(Z))for(let X of Z)yield[J,X];else yield[J,Z]}}*values(){for(let[,J]of this)yield J}[Symbol.iterator](){return this.entries()}forEach(J){for(let[Z,X]of this)J(X,Z,this)}get size(){return Object.keys(this.params).length}}Qb1.PonyfillURLSearchParams=Wb1});var wr=B((Bb1)=>{Object.defineProperty(Bb1,"__esModule",{value:!0});Bb1.PonyfillURL=void 0;var Kb1=R$(),dD4=Kb1.__importDefault(Or()),qb1=Kb1.__importDefault($b1()),uD4=Vr();qb1.default.queryString=dD4.default;class Ir extends qb1.default{constructor(J,Z){super();if(J.startsWith("data:")){this.protocol="data:",this.pathname=J.slice(5);return}if(this.parse(J,!1),Z){let X=typeof Z==="string"?new Ir(Z):Z;this.protocol=this.protocol||X.protocol,this.host=this.host||X.host,this.pathname=this.pathname||X.pathname}}get origin(){return`${this.protocol}//${this.host}`}get searchParams(){if(!this._searchParams)this._searchParams=new uD4.PonyfillURLSearchParams(this.query);return this._searchParams}get username(){var J;return((J=this.auth)===null||J===void 0?void 0:J.split(":")[0])||""}set username(J){this.auth=`${J}:${this.password}`}get password(){var J;return((J=this.auth)===null||J===void 0?void 0:J.split(":")[1])||""}set password(J){this.auth=`${this.username}:${J}`}toString(){return this.format()}toJSON(){return this.toString()}}Bb1.PonyfillURL=Ir});var Vb1=B((Ob1)=>{Object.defineProperty(Ob1,"__esModule",{value:!0});Ob1.fetchPonyfill=void 0;var mD4=p("fs"),cD4=p("http"),lD4=p("https"),pD4=p("stream"),nD4=p("url"),Ar=p("zlib"),iD4=Mf(),oD4=gN(),sD4=Br(),ff=Hr(),Fb1=wr(),aD4=xN();function rD4(J){let Z=(0,nD4.fileURLToPath)(J),X=(0,mD4.createReadStream)(Z);return new ff.PonyfillResponse(X)}function tD4(J){switch(J){case"http:":return cD4.request;case"https:":return lD4.request}throw new Error(`Unsupported protocol: ${J}`)}var Ub1=";base64";function Mr(J,Z){if(typeof J==="string"||"href"in J){let Y=new sD4.PonyfillRequest(J,Z);return Mr(Y)}let X=J;return new Promise((Y,$)=>{try{let z=new Fb1.PonyfillURL(X.url,"http://localhost");if(z.protocol==="data:"){let[F="text/plain",...U]=z.pathname.split(","),D=decodeURIComponent(U.join(","));if(F.endsWith(Ub1)){let w=Buffer.from(D,"base64url"),M=F.slice(0,-Ub1.length),P=new oD4.PonyfillBlob([w],{type:M}),R=new ff.PonyfillResponse(P,{status:200,statusText:"OK"});Y(R);return}let V=new ff.PonyfillResponse(D,{status:200,statusText:"OK",headers:{"content-type":F}});Y(V);return}if(z.protocol==="file:"){let F=rD4(X.url);Y(F);return}let W=tD4(z.protocol),Q=X.body!=null?"pipe"in X.body?X.body:pD4.Readable.from(X.body):null,K=(X.headersSerializer||aD4.getHeadersObj)(X.headers),q=function F(U){H.destroy();let D=U.detail;$(new iD4.PonyfillAbortError(D))};X.signal.addEventListener("abort",q);let H=W(X.url,{method:X.method,headers:K});if(H.once("response",(F)=>{let U=F;switch(F.headers["content-encoding"]){case"x-gzip":case"gzip":U=F.pipe((0,Ar.createGunzip)());break;case"x-deflate":case"deflate":U=F.pipe((0,Ar.createInflate)());break;case"br":U=F.pipe((0,Ar.createBrotliDecompress)());break}if(F.headers.location){if(X.redirect==="error"){let M=new Error("Redirects are not allowed");$(M),F.resume();return}if(X.redirect==="follow"){let M=new Fb1.PonyfillURL(F.headers.location,z),P=Mr(M,J);Y(P.then((R)=>{return R.redirected=!0,R})),F.resume();return}}let V=F.headers,w=new ff.PonyfillResponse(U,{status:F.statusCode,statusText:F.statusMessage,headers:V,url:J.url});Y(w)}),H.once("error",$),Q)Q.pipe(H);else H.end()}catch(z){$(z)}})}Ob1.fetchPonyfill=Mr});var Nb1=B((Ab1)=>{Object.defineProperty(Ab1,"__esModule",{value:!0});Ab1.PonyfillBtoa=Ab1.PonyfillTextDecoder=Ab1.PonyfillTextEncoder=void 0;class Ib1{constructor(J="utf-8"){this.encoding=J}encode(J){return Buffer.from(J,this.encoding)}encodeInto(J,Z){let Y=this.encode(J).copy(Z);return{read:Y,written:Y}}}Ab1.PonyfillTextEncoder=Ib1;class wb1{constructor(J="utf-8",Z){if(this.encoding=J,this.fatal=!1,this.ignoreBOM=!1,Z)this.fatal=Z.fatal||!1,this.ignoreBOM=Z.ignoreBOM||!1}decode(J){return Buffer.from(J).toString(this.encoding)}}Ab1.PonyfillTextDecoder=wb1;function eD4(J){return Buffer.from(J,"binary").toString("base64")}Ab1.PonyfillBtoa=eD4});var Pb1=B((k5)=>{Object.defineProperty(k5,"__esModule",{value:!0});k5.URLSearchParams=k5.URL=k5.btoa=k5.TextDecoder=k5.TextEncoder=k5.Blob=k5.AbortError=k5.AbortSignal=k5.AbortController=k5.FormData=k5.File=k5.ReadableStream=k5.Response=k5.Request=k5.Body=k5.Headers=k5.fetch=void 0;var XV4=Vb1();Object.defineProperty(k5,"fetch",{enumerable:!0,get:function(){return XV4.fetchPonyfill}});var YV4=Sf();Object.defineProperty(k5,"Headers",{enumerable:!0,get:function(){return YV4.PonyfillHeaders}});var $V4=Ef();Object.defineProperty(k5,"Body",{enumerable:!0,get:function(){return $V4.PonyfillBody}});var zV4=Br();Object.defineProperty(k5,"Request",{enumerable:!0,get:function(){return zV4.PonyfillRequest}});var WV4=Hr();Object.defineProperty(k5,"Response",{enumerable:!0,get:function(){return WV4.PonyfillResponse}});var QV4=vN();Object.defineProperty(k5,"ReadableStream",{enumerable:!0,get:function(){return QV4.PonyfillReadableStream}});var GV4=Rf();Object.defineProperty(k5,"File",{enumerable:!0,get:function(){return GV4.PonyfillFile}});var KV4=qr();Object.defineProperty(k5,"FormData",{enumerable:!0,get:function(){return KV4.PonyfillFormData}});var qV4=Yr();Object.defineProperty(k5,"AbortController",{enumerable:!0,get:function(){return qV4.PonyfillAbortController}});var BV4=Xr();Object.defineProperty(k5,"AbortSignal",{enumerable:!0,get:function(){return BV4.PonyfillAbortSignal}});var HV4=Mf();Object.defineProperty(k5,"AbortError",{enumerable:!0,get:function(){return HV4.PonyfillAbortError}});var FV4=gN();Object.defineProperty(k5,"Blob",{enumerable:!0,get:function(){return FV4.PonyfillBlob}});var Nr=Nb1();Object.defineProperty(k5,"TextEncoder",{enumerable:!0,get:function(){return Nr.PonyfillTextEncoder}});Object.defineProperty(k5,"TextDecoder",{enumerable:!0,get:function(){return Nr.PonyfillTextDecoder}});Object.defineProperty(k5,"btoa",{enumerable:!0,get:function(){return Nr.PonyfillBtoa}});var UV4=wr();Object.defineProperty(k5,"URL",{enumerable:!0,get:function(){return UV4.PonyfillURL}});var OV4=Vr();Object.defineProperty(k5,"URLSearchParams",{enumerable:!0,get:function(){return OV4.PonyfillURLSearchParams}})});var Cb1=B((kf,Lb1)=>{(function(J,Z){typeof kf==="object"&&typeof Lb1!=="undefined"?Z(kf):typeof define==="function"&&define.amd?define(["exports"],Z):(J=typeof globalThis!=="undefined"?globalThis:J||self,Z(J.WebStreamsPolyfill={}))})(kf,function(J){var Z=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Symbol:function(O){return"Symbol(".concat(O,")")};function X(O,I){var N={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},g,n,r,K1;return K1={next:T1(0),throw:T1(1),return:T1(2)},typeof Symbol==="function"&&(K1[Symbol.iterator]=function(){return this}),K1;function T1(C1){return function(r0){return $0([C1,r0])}}function $0(C1){if(g)throw new TypeError("Generator is already executing.");while(K1&&(K1=0,C1[0]&&(N=0)),N)try{if(g=1,n&&(r=C1[0]&2?n.return:C1[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,C1[1])).done)return r;if(n=0,r)C1=[C1[0]&2,r.value];switch(C1[0]){case 0:case 1:r=C1;break;case 4:return N.label++,{value:C1[1],done:!1};case 5:N.label++,n=C1[1],C1=[0];continue;case 7:C1=N.ops.pop(),N.trys.pop();continue;default:if((r=N.trys,!(r=r.length>0&&r[r.length-1]))&&(C1[0]===6||C1[0]===2)){N=0;continue}if(C1[0]===3&&(!r||C1[1]>r[0]&&C1[1]<r[3])){N.label=C1[1];break}if(C1[0]===6&&N.label<r[1]){N.label=r[1],r=C1;break}if(r&&N.label<r[2]){N.label=r[2],N.ops.push(C1);break}if(r[2])N.ops.pop();N.trys.pop();continue}C1=I.call(O,N)}catch(r0){C1=[6,r0],n=0}finally{g=r=0}if(C1[0]&5)throw C1[1];return{value:C1[0]?C1[1]:void 0,done:!0}}}function Y(O){var I=typeof Symbol==="function"&&Symbol.iterator,N=I&&O[I],g=0;if(N)return N.call(O);if(O&&typeof O.length==="number")return{next:function(){if(O&&g>=O.length)O=void 0;return{value:O&&O[g++],done:!O}}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(O){return this instanceof $?(this.v=O,this):new $(O)}function z(O,I,N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=N.apply(O,I||[]),n,r=[];return n={},K1("next"),K1("throw"),K1("return"),n[Symbol.asyncIterator]=function(){return this},n;function K1(h6){if(g[h6])n[h6]=function(G5){return new Promise(function($J,gJ){r.push([h6,G5,$J,gJ])>1||T1(h6,G5)})}}function T1(h6,G5){try{$0(g[h6](G5))}catch($J){U6(r[0][3],$J)}}function $0(h6){h6.value instanceof $?Promise.resolve(h6.value.v).then(C1,r0):U6(r[0][2],h6)}function C1(h6){T1("next",h6)}function r0(h6){T1("throw",h6)}function U6(h6,G5){if(h6(G5),r.shift(),r.length)T1(r[0][0],r[0][1])}}function W(O){var I,N;return I={},g("next"),g("throw",function(n){throw n}),g("return"),I[Symbol.iterator]=function(){return this},I;function g(n,r){I[n]=O[n]?function(K1){return(N=!N)?{value:$(O[n](K1)),done:!1}:r?r(K1):K1}:r}}function Q(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I=O[Symbol.asyncIterator],N;return I?I.call(O):(O=typeof Y==="function"?Y(O):O[Symbol.iterator](),N={},g("next"),g("throw"),g("return"),N[Symbol.asyncIterator]=function(){return this},N);function g(r){N[r]=O[r]&&function(K1){return new Promise(function(T1,$0){K1=O[r](K1),n(T1,$0,K1.done,K1.value)})}}function n(r,K1,T1,$0){Promise.resolve($0).then(function(C1){r({value:C1,done:T1})},K1)}}typeof SuppressedError==="function"&&SuppressedError;function G(){return}function K(O){return typeof O==="object"&&O!==null||typeof O==="function"}var q=G;function H(O,I){try{Object.defineProperty(O,"name",{value:I,configurable:!0})}catch(N){}}var F=Promise,U=Promise.prototype.then,D=Promise.reject.bind(F);function V(O){return new F(O)}function w(O){return V(function(I){return I(O)})}function M(O){return D(O)}function P(O,I,N){return U.call(O,I,N)}function R(O,I,N){P(P(O,I,N),void 0,q)}function f(O,I){R(O,I)}function d(O,I){R(O,void 0,I)}function v(O,I,N){return P(O,I,N)}function l(O){P(O,void 0,q)}var o=function(O){if(typeof queueMicrotask==="function")o=queueMicrotask;else{var I=w(void 0);o=function(N){return P(I,N)}}return o(O)};function S(O,I,N){if(typeof O!=="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(O,I,N)}function i(O,I,N){try{return w(S(O,I,N))}catch(g){return M(g)}}var u=16384,G1=function(){function O(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(O.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),O.prototype.push=function(I){var N=this._back,g=N;if(N._elements.length===u-1)g={_elements:[],_next:void 0};if(N._elements.push(I),g!==N)this._back=g,N._next=g;++this._size},O.prototype.shift=function(){var I=this._front,N=I,g=this._cursor,n=g+1,r=I._elements,K1=r[g];if(n===u)N=I._next,n=0;if(--this._size,this._cursor=n,I!==N)this._front=N;return r[g]=void 0,K1},O.prototype.forEach=function(I){var N=this._cursor,g=this._front,n=g._elements;while(N!==n.length||g._next!==void 0){if(N===n.length){if(g=g._next,n=g._elements,N=0,n.length===0)break}I(n[N]),++N}},O.prototype.peek=function(){var I=this._front,N=this._cursor;return I._elements[N]},O}(),e=Z("[[AbortSteps]]"),_=Z("[[ErrorSteps]]"),Z1=Z("[[CancelSteps]]"),V1=Z("[[PullSteps]]"),N1=Z("[[ReleaseSteps]]");function m1(O,I){if(O._ownerReadableStream=I,I._reader=O,I._state==="readable")Y1(O);else if(I._state==="closed")w1(O);else a(O,I._storedError)}function h1(O,I){var N=O._ownerReadableStream;return _X(N,I)}function X0(O){var I=O._ownerReadableStream;if(I._state==="readable")I1(O,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));else r1(O,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));I._readableStreamController[N1](),I._reader=void 0,O._ownerReadableStream=void 0}function z0(O){return new TypeError("Cannot "+O+" a stream using a released reader")}function Y1(O){O._closedPromise=V(function(I,N){O._closedPromise_resolve=I,O._closedPromise_reject=N})}function a(O,I){Y1(O),I1(O,I)}function w1(O){Y1(O),Y0(O)}function I1(O,I){if(O._closedPromise_reject===void 0)return;l(O._closedPromise),O._closedPromise_reject(I),O._closedPromise_resolve=void 0,O._closedPromise_reject=void 0}function r1(O,I){a(O,I)}function Y0(O){if(O._closedPromise_resolve===void 0)return;O._closedPromise_resolve(void 0),O._closedPromise_resolve=void 0,O._closedPromise_reject=void 0}var H0=Number.isFinite||function(O){return typeof O==="number"&&isFinite(O)},k=Math.trunc||function(O){return O<0?Math.ceil(O):Math.floor(O)};function b(O){return typeof O==="object"||typeof O==="function"}function A(O,I){if(O!==void 0&&!b(O))throw new TypeError("".concat(I," is not an object."))}function j(O,I){if(typeof O!=="function")throw new TypeError("".concat(I," is not a function."))}function L(O){return typeof O==="object"&&O!==null||typeof O==="function"}function h(O,I){if(!L(O))throw new TypeError("".concat(I," is not an object."))}function x(O,I,N){if(O===void 0)throw new TypeError("Parameter ".concat(I," is required in '").concat(N,"'."))}function y(O,I,N){if(O===void 0)throw new TypeError("".concat(I," is required in '").concat(N,"'."))}function c(O){return Number(O)}function t(O){return O===0?0:O}function X1(O){return t(k(O))}function B1(O,I){var N=0,g=Number.MAX_SAFE_INTEGER,n=Number(O);if(n=t(n),!H0(n))throw new TypeError("".concat(I," is not a finite number"));if(n=X1(n),n<N||n>g)throw new TypeError("".concat(I," is outside the accepted range of ").concat(N," to ").concat(g,", inclusive"));if(!H0(n)||n===0)return 0;return n}function y1(O,I){if(!DK(O))throw new TypeError("".concat(I," is not a ReadableStream."))}function c1(O){return new b6(O)}function I6(O,I){O._reader._readRequests.push(I)}function k4(O,I,N){var g=O._reader,n=g._readRequests.shift();if(N)n._closeSteps();else n._chunkSteps(I)}function M8(O){return O._reader._readRequests.length}function u6(O){var I=O._reader;if(I===void 0)return!1;if(!z8(I))return!1;return!0}var b6=function(){function O(I){if(x(I,1,"ReadableStreamDefaultReader"),y1(I,"First parameter"),VK(I))throw new TypeError("This stream has already been locked for exclusive reading by another reader");m1(this,I),this._readRequests=new G1}return Object.defineProperty(O.prototype,"closed",{get:function(){if(!z8(this))return M(a9("closed"));return this._closedPromise},enumerable:!1,configurable:!0}),O.prototype.cancel=function(I){if(I===void 0)I=void 0;if(!z8(this))return M(a9("cancel"));if(this._ownerReadableStream===void 0)return M(z0("cancel"));return h1(this,I)},O.prototype.read=function(){if(!z8(this))return M(a9("read"));if(this._ownerReadableStream===void 0)return M(z0("read from"));var I,N,g=V(function(r,K1){I=r,N=K1}),n={_chunkSteps:function(r){return I({value:r,done:!1})},_closeSteps:function(){return I({value:void 0,done:!0})},_errorSteps:function(r){return N(r)}};return tY(this,n),g},O.prototype.releaseLock=function(){if(!z8(this))throw a9("releaseLock");if(this._ownerReadableStream===void 0)return;oA(this)},O}();if(Object.defineProperties(b6.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),H(b6.prototype.cancel,"cancel"),H(b6.prototype.read,"read"),H(b6.prototype.releaseLock,"releaseLock"),typeof Z.toStringTag==="symbol")Object.defineProperty(b6.prototype,Z.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function z8(O){if(!K(O))return!1;if(!Object.prototype.hasOwnProperty.call(O,"_readRequests"))return!1;return O instanceof b6}function tY(O,I){var N=O._ownerReadableStream;if(N._disturbed=!0,N._state==="closed")I._closeSteps();else if(N._state==="errored")I._errorSteps(N._storedError);else N._readableStreamController[V1](I)}function oA(O){X0(O);var I=new TypeError("Reader was released");SD(O,I)}function SD(O,I){var N=O._readRequests;O._readRequests=new G1,N.forEach(function(g){g._errorSteps(I)})}function a9(O){return new TypeError("ReadableStreamDefaultReader.prototype.".concat(O," can only be used on a ReadableStreamDefaultReader"))}var hW,N9,P5;function b4(O){return O.slice()}function $V1(O,I,N,g,n){new Uint8Array(O).set(new Uint8Array(N,g,n),I)}var _W=function(O){if(typeof O.transfer==="function")_W=function(I){return I.transfer()};else if(typeof structuredClone==="function")_W=function(I){return structuredClone(I,{transfer:[I]})};else _W=function(I){return I};return _W(O)},HK=function(O){if(typeof O.detached==="boolean")HK=function(I){return I.detached};else HK=function(I){return I.byteLength===0};return HK(O)};function zV1(O,I,N){if(O.slice)return O.slice(I,N);var g=N-I,n=new ArrayBuffer(g);return $V1(n,0,O,I,g),n}function FE(O,I){var N=O[I];if(N===void 0||N===null)return;if(typeof N!=="function")throw new TypeError("".concat(String(I)," is not a function"));return N}function ao6(O){var I,N=(I={},I[Z.iterator]=function(){return O.iterator},I),g=function(){return z(this,arguments,function(){return X(this,function(r){switch(r.label){case 0:return[5,Y(W(Q(N)))];case 1:return[4,$.apply(void 0,[r.sent()])];case 2:return[4,$.apply(void 0,[r.sent()])];case 3:return[2,r.sent()]}})})}(),n=g.next;return{iterator:g,nextMethod:n,done:!1}}var sA=(P5=(hW=Z.asyncIterator)!==null&&hW!==void 0?hW:(N9=Z.for)===null||N9===void 0?void 0:N9.call(Z,"Symbol.asyncIterator"))!==null&&P5!==void 0?P5:"@@asyncIterator";function WV1(O,I,N){if(I===void 0)I="sync";if(N===void 0)if(I==="async"){if(N=FE(O,sA),N===void 0){var g=FE(O,Z.iterator),n=WV1(O,"sync",g);return ao6(n)}}else N=FE(O,Z.iterator);if(N===void 0)throw new TypeError("The object is not iterable");var r=S(N,O,[]);if(!K(r))throw new TypeError("The iterator method must return an object");var K1=r.next;return{iterator:r,nextMethod:K1,done:!1}}function ro6(O){var I=S(O.nextMethod,O.iterator,[]);if(!K(I))throw new TypeError("The iterator.next() method must return an object");return I}function to6(O){return Boolean(O.done)}function eo6(O){return O.value}var Yn,QV1=(Yn={},Yn[sA]=function(){return this},Yn);Object.defineProperty(QV1,sA,{enumerable:!1});var GV1=function(){function O(I,N){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=I,this._preventCancel=N}return O.prototype.next=function(){var I=this,N=function(){return I._nextSteps()};return this._ongoingPromise=this._ongoingPromise?v(this._ongoingPromise,N,N):N(),this._ongoingPromise},O.prototype.return=function(I){var N=this,g=function(){return N._returnSteps(I)};return this._ongoingPromise?v(this._ongoingPromise,g,g):g()},O.prototype._nextSteps=function(){var I=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var N=this._reader,g,n,r=V(function(T1,$0){g=T1,n=$0}),K1={_chunkSteps:function(T1){I._ongoingPromise=void 0,o(function(){return g({value:T1,done:!1})})},_closeSteps:function(){I._ongoingPromise=void 0,I._isFinished=!0,X0(N),g({value:void 0,done:!0})},_errorSteps:function(T1){I._ongoingPromise=void 0,I._isFinished=!0,X0(N),n(T1)}};return tY(N,K1),r},O.prototype._returnSteps=function(I){if(this._isFinished)return Promise.resolve({value:I,done:!0});this._isFinished=!0;var N=this._reader;if(!this._preventCancel){var g=h1(N,I);return X0(N),v(g,function(){return{value:I,done:!0}})}return X0(N),w({value:I,done:!0})},O}(),KV1={next:function(){if(!qV1(this))return M(BV1("next"));return this._asyncIteratorImpl.next()},return:function(O){if(!qV1(this))return M(BV1("return"));return this._asyncIteratorImpl.return(O)}};Object.setPrototypeOf(KV1,QV1);function Js6(O,I){var N=c1(O),g=new GV1(N,I),n=Object.create(KV1);return n._asyncIteratorImpl=g,n}function qV1(O){if(!K(O))return!1;if(!Object.prototype.hasOwnProperty.call(O,"_asyncIteratorImpl"))return!1;try{return O._asyncIteratorImpl instanceof GV1}catch(I){return!1}}function BV1(O){return new TypeError("ReadableStreamAsyncIterator.".concat(O," can only be used on a ReadableSteamAsyncIterator"))}var HV1=Number.isNaN||function(O){return O!==O};function Zs6(O){if(typeof O!=="number")return!1;if(HV1(O))return!1;if(O<0)return!1;return!0}function FV1(O){var I=zV1(O.buffer,O.byteOffset,O.byteOffset+O.byteLength);return new Uint8Array(I)}function $n(O){var I=O._queue.shift();if(O._queueTotalSize-=I.size,O._queueTotalSize<0)O._queueTotalSize=0;return I.value}function zn(O,I,N){if(!Zs6(N)||N===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");O._queue.push({value:I,size:N}),O._queueTotalSize+=N}function Xs6(O){var I=O._queue.peek();return I.value}function FK(O){O._queue=new G1,O._queueTotalSize=0}function UV1(O){return O===DataView}function Ys6(O){return UV1(O.constructor)}function $s6(O){if(UV1(O))return 1;return O.BYTES_PER_ELEMENT}var WH=function(){function O(){throw new TypeError("Illegal constructor")}return Object.defineProperty(O.prototype,"view",{get:function(){if(!Wn(this))throw Bn("view");return this._view},enumerable:!1,configurable:!0}),O.prototype.respond=function(I){if(!Wn(this))throw Bn("respond");if(x(I,1,"respond"),I=B1(I,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(HK(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");VE(this._associatedReadableByteStreamController,I)},O.prototype.respondWithNewView=function(I){if(!Wn(this))throw Bn("respondWithNewView");if(x(I,1,"respondWithNewView"),!ArrayBuffer.isView(I))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(HK(I.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");IE(this._associatedReadableByteStreamController,I)},O}();if(Object.defineProperties(WH.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),H(WH.prototype.respond,"respond"),H(WH.prototype.respondWithNewView,"respondWithNewView"),typeof Z.toStringTag==="symbol")Object.defineProperty(WH.prototype,Z.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var yW=function(){function O(){throw new TypeError("Illegal constructor")}return Object.defineProperty(O.prototype,"byobRequest",{get:function(){if(!QH(this))throw rA("byobRequest");return qn(this)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"desiredSize",{get:function(){if(!QH(this))throw rA("desiredSize");return LV1(this)},enumerable:!1,configurable:!0}),O.prototype.close=function(){if(!QH(this))throw rA("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var I=this._controlledReadableByteStream._state;if(I!=="readable")throw new TypeError("The stream (in ".concat(I," state) is not in the readable state and cannot be closed"));aA(this)},O.prototype.enqueue=function(I){if(!QH(this))throw rA("enqueue");if(x(I,1,"enqueue"),!ArrayBuffer.isView(I))throw new TypeError("chunk must be an array buffer view");if(I.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(I.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var N=this._controlledReadableByteStream._state;if(N!=="readable")throw new TypeError("The stream (in ".concat(N," state) is not in the readable state and cannot be enqueued to"));DE(this,I)},O.prototype.error=function(I){if(I===void 0)I=void 0;if(!QH(this))throw rA("error");xJ(this,I)},O.prototype[Z1]=function(I){OV1(this),FK(this);var N=this._cancelAlgorithm(I);return OE(this),N},O.prototype[V1]=function(I){var N=this._controlledReadableByteStream;if(this._queueTotalSize>0){PV1(this,I);return}var g=this._autoAllocateChunkSize;if(g!==void 0){var n=void 0;try{n=new ArrayBuffer(g)}catch(K1){I._errorSteps(K1);return}var r={buffer:n,bufferByteLength:g,byteOffset:0,byteLength:g,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(r)}I6(N,I),GH(this)},O.prototype[N1]=function(){if(this._pendingPullIntos.length>0){var I=this._pendingPullIntos.peek();I.readerType="none",this._pendingPullIntos=new G1,this._pendingPullIntos.push(I)}},O}();if(Object.defineProperties(yW.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),H(yW.prototype.close,"close"),H(yW.prototype.enqueue,"enqueue"),H(yW.prototype.error,"error"),typeof Z.toStringTag==="symbol")Object.defineProperty(yW.prototype,Z.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function QH(O){if(!K(O))return!1;if(!Object.prototype.hasOwnProperty.call(O,"_controlledReadableByteStream"))return!1;return O instanceof yW}function Wn(O){if(!K(O))return!1;if(!Object.prototype.hasOwnProperty.call(O,"_associatedReadableByteStreamController"))return!1;return O instanceof WH}function GH(O){var I=Ks6(O);if(!I)return;if(O._pulling){O._pullAgain=!0;return}O._pulling=!0;var N=O._pullAlgorithm();R(N,function(){if(O._pulling=!1,O._pullAgain)O._pullAgain=!1,GH(O);return null},function(g){return xJ(O,g),null})}function OV1(O){Gn(O),O._pendingPullIntos=new G1}function Qn(O,I){var N=!1;if(O._state==="closed")N=!0;var g=DV1(I);if(I.readerType==="default")k4(O,g,N);else Os6(O,g,N)}function DV1(O){var{bytesFilled:I,elementSize:N}=O;return new O.viewConstructor(O.buffer,O.byteOffset,I/N)}function UE(O,I,N,g){O._queue.push({buffer:I,byteOffset:N,byteLength:g}),O._queueTotalSize+=g}function VV1(O,I,N,g){var n;try{n=zV1(I,N,N+g)}catch(r){throw xJ(O,r),r}UE(O,n,0,g)}function IV1(O,I){if(I.bytesFilled>0)VV1(O,I.buffer,I.byteOffset,I.bytesFilled);TD(O)}function wV1(O,I){var N=Math.min(O._queueTotalSize,I.byteLength-I.bytesFilled),g=I.bytesFilled+N,n=N,r=!1,K1=g%I.elementSize,T1=g-K1;if(T1>=I.minimumFill)n=T1-I.bytesFilled,r=!0;var $0=O._queue;while(n>0){var C1=$0.peek(),r0=Math.min(n,C1.byteLength),U6=I.byteOffset+I.bytesFilled;if($V1(I.buffer,U6,C1.buffer,C1.byteOffset,r0),C1.byteLength===r0)$0.shift();else C1.byteOffset+=r0,C1.byteLength-=r0;O._queueTotalSize-=r0,AV1(O,r0,I),n-=r0}return r}function AV1(O,I,N){N.bytesFilled+=I}function MV1(O){if(O._queueTotalSize===0&&O._closeRequested)OE(O),YM(O._controlledReadableByteStream);else GH(O)}function Gn(O){if(O._byobRequest===null)return;O._byobRequest._associatedReadableByteStreamController=void 0,O._byobRequest._view=null,O._byobRequest=null}function Kn(O){while(O._pendingPullIntos.length>0){if(O._queueTotalSize===0)return;var I=O._pendingPullIntos.peek();if(wV1(O,I))TD(O),Qn(O._controlledReadableByteStream,I)}}function zs6(O){var I=O._controlledReadableByteStream._reader;while(I._readRequests.length>0){if(O._queueTotalSize===0)return;var N=I._readRequests.shift();PV1(O,N)}}function Ws6(O,I,N,g){var n=O._controlledReadableByteStream,r=I.constructor,K1=$s6(r),T1=I.byteOffset,$0=I.byteLength,C1=N*K1,r0;try{r0=_W(I.buffer)}catch(gJ){g._errorSteps(gJ);return}var U6={buffer:r0,bufferByteLength:r0.byteLength,byteOffset:T1,byteLength:$0,bytesFilled:0,minimumFill:C1,elementSize:K1,viewConstructor:r,readerType:"byob"};if(O._pendingPullIntos.length>0){O._pendingPullIntos.push(U6),RV1(n,g);return}if(n._state==="closed"){var h6=new r(U6.buffer,U6.byteOffset,0);g._closeSteps(h6);return}if(O._queueTotalSize>0){if(wV1(O,U6)){var G5=DV1(U6);MV1(O),g._chunkSteps(G5);return}if(O._closeRequested){var $J=new TypeError("Insufficient bytes to fill elements in the given buffer");xJ(O,$J),g._errorSteps($J);return}}O._pendingPullIntos.push(U6),RV1(n,g),GH(O)}function Qs6(O,I){if(I.readerType==="none")TD(O);var N=O._controlledReadableByteStream;if(Hn(N))while(EV1(N)>0){var g=TD(O);Qn(N,g)}}function Gs6(O,I,N){if(AV1(O,I,N),N.readerType==="none"){IV1(O,N),Kn(O);return}if(N.bytesFilled<N.minimumFill)return;TD(O);var g=N.bytesFilled%N.elementSize;if(g>0){var n=N.byteOffset+N.bytesFilled;VV1(O,N.buffer,n-g,g)}N.bytesFilled-=g,Qn(O._controlledReadableByteStream,N),Kn(O)}function NV1(O,I){var N=O._pendingPullIntos.peek();Gn(O);var g=O._controlledReadableByteStream._state;if(g==="closed")Qs6(O,N);else Gs6(O,I,N);GH(O)}function TD(O){var I=O._pendingPullIntos.shift();return I}function Ks6(O){var I=O._controlledReadableByteStream;if(I._state!=="readable")return!1;if(O._closeRequested)return!1;if(!O._started)return!1;if(u6(I)&&M8(I)>0)return!0;if(Hn(I)&&EV1(I)>0)return!0;var N=LV1(O);if(N>0)return!0;return!1}function OE(O){O._pullAlgorithm=void 0,O._cancelAlgorithm=void 0}function aA(O){var I=O._controlledReadableByteStream;if(O._closeRequested||I._state!=="readable")return;if(O._queueTotalSize>0){O._closeRequested=!0;return}if(O._pendingPullIntos.length>0){var N=O._pendingPullIntos.peek();if(N.bytesFilled%N.elementSize!==0){var g=new TypeError("Insufficient bytes to fill elements in the given buffer");throw xJ(O,g),g}}OE(O),YM(I)}function DE(O,I){var N=O._controlledReadableByteStream;if(O._closeRequested||N._state!=="readable")return;var{buffer:g,byteOffset:n,byteLength:r}=I;if(HK(g))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");var K1=_W(g);if(O._pendingPullIntos.length>0){var T1=O._pendingPullIntos.peek();if(HK(T1.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");if(Gn(O),T1.buffer=_W(T1.buffer),T1.readerType==="none")IV1(O,T1)}if(u6(N))if(zs6(O),M8(N)===0)UE(O,K1,n,r);else{if(O._pendingPullIntos.length>0)TD(O);var $0=new Uint8Array(K1,n,r);k4(N,$0,!1)}else if(Hn(N))UE(O,K1,n,r),Kn(O);else UE(O,K1,n,r);GH(O)}function xJ(O,I){var N=O._controlledReadableByteStream;if(N._state!=="readable")return;OV1(O),FK(O),OE(O),tV1(N,I)}function PV1(O,I){var N=O._queue.shift();O._queueTotalSize-=N.byteLength,MV1(O);var g=new Uint8Array(N.buffer,N.byteOffset,N.byteLength);I._chunkSteps(g)}function qn(O){if(O._byobRequest===null&&O._pendingPullIntos.length>0){var I=O._pendingPullIntos.peek(),N=new Uint8Array(I.buffer,I.byteOffset+I.bytesFilled,I.byteLength-I.bytesFilled),g=Object.create(WH.prototype);Bs6(g,O,N),O._byobRequest=g}return O._byobRequest}function LV1(O){var I=O._controlledReadableByteStream._state;if(I==="errored")return null;if(I==="closed")return 0;return O._strategyHWM-O._queueTotalSize}function VE(O,I){var N=O._pendingPullIntos.peek(),g=O._controlledReadableByteStream._state;if(g==="closed"){if(I!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(I===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(N.bytesFilled+I>N.byteLength)throw new RangeError("bytesWritten out of range")}N.buffer=_W(N.buffer),NV1(O,I)}function IE(O,I){var N=O._pendingPullIntos.peek(),g=O._controlledReadableByteStream._state;if(g==="closed"){if(I.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(I.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(N.byteOffset+N.bytesFilled!==I.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(N.bufferByteLength!==I.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(N.bytesFilled+I.byteLength>N.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var n=I.byteLength;N.buffer=_W(I.buffer),NV1(O,n)}function CV1(O,I,N,g,n,r,K1){I._controlledReadableByteStream=O,I._pullAgain=!1,I._pulling=!1,I._byobRequest=null,I._queue=I._queueTotalSize=void 0,FK(I),I._closeRequested=!1,I._started=!1,I._strategyHWM=r,I._pullAlgorithm=g,I._cancelAlgorithm=n,I._autoAllocateChunkSize=K1,I._pendingPullIntos=new G1,O._readableStreamController=I;var T1=N();R(w(T1),function(){return I._started=!0,GH(I),null},function($0){return xJ(I,$0),null})}function qs6(O,I,N){var g=Object.create(yW.prototype),n,r,K1;if(I.start!==void 0)n=function(){return I.start(g)};else n=function(){return};if(I.pull!==void 0)r=function(){return I.pull(g)};else r=function(){return w(void 0)};if(I.cancel!==void 0)K1=function($0){return I.cancel($0)};else K1=function(){return w(void 0)};var T1=I.autoAllocateChunkSize;if(T1===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");CV1(O,g,n,r,K1,N,T1)}function Bs6(O,I,N){O._associatedReadableByteStreamController=I,O._view=N}function Bn(O){return new TypeError("ReadableStreamBYOBRequest.prototype.".concat(O," can only be used on a ReadableStreamBYOBRequest"))}function rA(O){return new TypeError("ReadableByteStreamController.prototype.".concat(O," can only be used on a ReadableByteStreamController"))}function Hs6(O,I){A(O,I);var N=O===null||O===void 0?void 0:O.mode;return{mode:N===void 0?void 0:Fs6(N,"".concat(I," has member 'mode' that"))}}function Fs6(O,I){if(O="".concat(O),O!=="byob")throw new TypeError("".concat(I," '").concat(O,"' is not a valid enumeration value for ReadableStreamReaderMode"));return O}function Us6(O,I){var N;A(O,I);var g=(N=O===null||O===void 0?void 0:O.min)!==null&&N!==void 0?N:1;return{min:B1(g,"".concat(I," has member 'min' that"))}}function jV1(O){return new UK(O)}function RV1(O,I){O._reader._readIntoRequests.push(I)}function Os6(O,I,N){var g=O._reader,n=g._readIntoRequests.shift();if(N)n._closeSteps(I);else n._chunkSteps(I)}function EV1(O){return O._reader._readIntoRequests.length}function Hn(O){var I=O._reader;if(I===void 0)return!1;if(!KH(I))return!1;return!0}var UK=function(){function O(I){if(x(I,1,"ReadableStreamBYOBReader"),y1(I,"First parameter"),VK(I))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!QH(I._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");m1(this,I),this._readIntoRequests=new G1}return Object.defineProperty(O.prototype,"closed",{get:function(){if(!KH(this))return M(wE("closed"));return this._closedPromise},enumerable:!1,configurable:!0}),O.prototype.cancel=function(I){if(I===void 0)I=void 0;if(!KH(this))return M(wE("cancel"));if(this._ownerReadableStream===void 0)return M(z0("cancel"));return h1(this,I)},O.prototype.read=function(I,N){if(N===void 0)N={};if(!KH(this))return M(wE("read"));if(!ArrayBuffer.isView(I))return M(new TypeError("view must be an array buffer view"));if(I.byteLength===0)return M(new TypeError("view must have non-zero byteLength"));if(I.buffer.byteLength===0)return M(new TypeError("view's buffer must have non-zero byteLength"));if(HK(I.buffer))return M(new TypeError("view's buffer has been detached"));var g;try{g=Us6(N,"options")}catch(C1){return M(C1)}var n=g.min;if(n===0)return M(new TypeError("options.min must be greater than 0"));if(!Ys6(I)){if(n>I.length)return M(new RangeError("options.min must be less than or equal to view's length"))}else if(n>I.byteLength)return M(new RangeError("options.min must be less than or equal to view's byteLength"));if(this._ownerReadableStream===void 0)return M(z0("read from"));var r,K1,T1=V(function(C1,r0){r=C1,K1=r0}),$0={_chunkSteps:function(C1){return r({value:C1,done:!1})},_closeSteps:function(C1){return r({value:C1,done:!0})},_errorSteps:function(C1){return K1(C1)}};return SV1(this,I,n,$0),T1},O.prototype.releaseLock=function(){if(!KH(this))throw wE("releaseLock");if(this._ownerReadableStream===void 0)return;Ds6(this)},O}();if(Object.defineProperties(UK.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),H(UK.prototype.cancel,"cancel"),H(UK.prototype.read,"read"),H(UK.prototype.releaseLock,"releaseLock"),typeof Z.toStringTag==="symbol")Object.defineProperty(UK.prototype,Z.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function KH(O){if(!K(O))return!1;if(!Object.prototype.hasOwnProperty.call(O,"_readIntoRequests"))return!1;return O instanceof UK}function SV1(O,I,N,g){var n=O._ownerReadableStream;if(n._disturbed=!0,n._state==="errored")g._errorSteps(n._storedError);else Ws6(n._readableStreamController,I,N,g)}function Ds6(O){X0(O);var I=new TypeError("Reader was released");TV1(O,I)}function TV1(O,I){var N=O._readIntoRequests;O._readIntoRequests=new G1,N.forEach(function(g){g._errorSteps(I)})}function wE(O){return new TypeError("ReadableStreamBYOBReader.prototype.".concat(O," can only be used on a ReadableStreamBYOBReader"))}function tA(O,I){var N=O.highWaterMark;if(N===void 0)return I;if(HV1(N)||N<0)throw new RangeError("Invalid highWaterMark");return N}function AE(O){var I=O.size;if(!I)return function(){return 1};return I}function ME(O,I){A(O,I);var N=O===null||O===void 0?void 0:O.highWaterMark,g=O===null||O===void 0?void 0:O.size;return{highWaterMark:N===void 0?void 0:c(N),size:g===void 0?void 0:Vs6(g,"".concat(I," has member 'size' that"))}}function Vs6(O,I){return j(O,I),function(N){return c(O(N))}}function Is6(O,I){A(O,I);var N=O===null||O===void 0?void 0:O.abort,g=O===null||O===void 0?void 0:O.close,n=O===null||O===void 0?void 0:O.start,r=O===null||O===void 0?void 0:O.type,K1=O===null||O===void 0?void 0:O.write;return{abort:N===void 0?void 0:ws6(N,O,"".concat(I," has member 'abort' that")),close:g===void 0?void 0:As6(g,O,"".concat(I," has member 'close' that")),start:n===void 0?void 0:Ms6(n,O,"".concat(I," has member 'start' that")),write:K1===void 0?void 0:Ns6(K1,O,"".concat(I," has member 'write' that")),type:r}}function ws6(O,I,N){return j(O,N),function(g){return i(O,I,[g])}}function As6(O,I,N){return j(O,N),function(){return i(O,I,[])}}function Ms6(O,I,N){return j(O,N),function(g){return S(O,I,[g])}}function Ns6(O,I,N){return j(O,N),function(g,n){return i(O,I,[g,n])}}function fV1(O,I){if(!fD(O))throw new TypeError("".concat(I," is not a WritableStream."))}function Ps6(O){if(typeof O!=="object"||O===null)return!1;try{return typeof O.aborted==="boolean"}catch(I){return!1}}var Ls6=typeof AbortController==="function";function Cs6(){if(Ls6)return new AbortController;return}var OK=function(){function O(I,N){if(I===void 0)I={};if(N===void 0)N={};if(I===void 0)I=null;else h(I,"First parameter");var g=ME(N,"Second parameter"),n=Is6(I,"First parameter");bV1(this);var r=n.type;if(r!==void 0)throw new RangeError("Invalid type is specified");var K1=AE(g),T1=tA(g,1);gs6(this,n,T1,K1)}return Object.defineProperty(O.prototype,"locked",{get:function(){if(!fD(this))throw jE("locked");return kD(this)},enumerable:!1,configurable:!0}),O.prototype.abort=function(I){if(I===void 0)I=void 0;if(!fD(this))return M(jE("abort"));if(kD(this))return M(new TypeError("Cannot abort a stream that already has a writer"));return NE(this,I)},O.prototype.close=function(){if(!fD(this))return M(jE("close"));if(kD(this))return M(new TypeError("Cannot close a stream that already has a writer"));if(eY(this))return M(new TypeError("Cannot close an already-closing stream"));return hV1(this)},O.prototype.getWriter=function(){if(!fD(this))throw jE("getWriter");return kV1(this)},O}();if(Object.defineProperties(OK.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),H(OK.prototype.abort,"abort"),H(OK.prototype.close,"close"),H(OK.prototype.getWriter,"getWriter"),typeof Z.toStringTag==="symbol")Object.defineProperty(OK.prototype,Z.toStringTag,{value:"WritableStream",configurable:!0});function kV1(O){return new vW(O)}function js6(O,I,N,g,n,r){if(n===void 0)n=1;if(r===void 0)r=function(){return 1};var K1=Object.create(OK.prototype);bV1(K1);var T1=Object.create(bD.prototype);return dV1(K1,T1,O,I,N,g,n,r),K1}function bV1(O){O._state="writable",O._storedError=void 0,O._writer=void 0,O._writableStreamController=void 0,O._writeRequests=new G1,O._inFlightWriteRequest=void 0,O._closeRequest=void 0,O._inFlightCloseRequest=void 0,O._pendingAbortRequest=void 0,O._backpressure=!1}function fD(O){if(!K(O))return!1;if(!Object.prototype.hasOwnProperty.call(O,"_writableStreamController"))return!1;return O instanceof OK}function kD(O){if(O._writer===void 0)return!1;return!0}function NE(O,I){var N;if(O._state==="closed"||O._state==="errored")return w(void 0);O._writableStreamController._abortReason=I,(N=O._writableStreamController._abortController)===null||N===void 0||N.abort(I);var g=O._state;if(g==="closed"||g==="errored")return w(void 0);if(O._pendingAbortRequest!==void 0)return O._pendingAbortRequest._promise;var n=!1;if(g==="erroring")n=!0,I=void 0;var r=V(function(K1,T1){O._pendingAbortRequest={_promise:void 0,_resolve:K1,_reject:T1,_reason:I,_wasAlreadyErroring:n}});if(O._pendingAbortRequest._promise=r,!n)Un(O,I);return r}function hV1(O){var I=O._state;if(I==="closed"||I==="errored")return M(new TypeError("The stream (in ".concat(I," state) is not in the writable state and cannot be closed")));var N=V(function(n,r){var K1={_resolve:n,_reject:r};O._closeRequest=K1}),g=O._writer;if(g!==void 0&&O._backpressure&&I==="writable")Nn(g);return ds6(O._writableStreamController),N}function Rs6(O){var I=V(function(N,g){var n={_resolve:N,_reject:g};O._writeRequests.push(n)});return I}function Fn(O,I){var N=O._state;if(N==="writable"){Un(O,I);return}On(O)}function Un(O,I){var N=O._writableStreamController;O._state="erroring",O._storedError=I;var g=O._writer;if(g!==void 0)yV1(g,I);if(!ks6(O)&&N._started)On(O)}function On(O){O._state="errored",O._writableStreamController[_]();var I=O._storedError;if(O._writeRequests.forEach(function(n){n._reject(I)}),O._writeRequests=new G1,O._pendingAbortRequest===void 0){PE(O);return}var N=O._pendingAbortRequest;if(O._pendingAbortRequest=void 0,N._wasAlreadyErroring){N._reject(I),PE(O);return}var g=O._writableStreamController[e](N._reason);R(g,function(){return N._resolve(),PE(O),null},function(n){return N._reject(n),PE(O),null})}function Es6(O){O._inFlightWriteRequest._resolve(void 0),O._inFlightWriteRequest=void 0}function Ss6(O,I){O._inFlightWriteRequest._reject(I),O._inFlightWriteRequest=void 0,Fn(O,I)}function Ts6(O){O._inFlightCloseRequest._resolve(void 0),O._inFlightCloseRequest=void 0;var I=O._state;if(I==="erroring"){if(O._storedError=void 0,O._pendingAbortRequest!==void 0)O._pendingAbortRequest._resolve(),O._pendingAbortRequest=void 0}O._state="closed";var N=O._writer;if(N!==void 0)lV1(N)}function fs6(O,I){if(O._inFlightCloseRequest._reject(I),O._inFlightCloseRequest=void 0,O._pendingAbortRequest!==void 0)O._pendingAbortRequest._reject(I),O._pendingAbortRequest=void 0;Fn(O,I)}function eY(O){if(O._closeRequest===void 0&&O._inFlightCloseRequest===void 0)return!1;return!0}function ks6(O){if(O._inFlightWriteRequest===void 0&&O._inFlightCloseRequest===void 0)return!1;return!0}function bs6(O){O._inFlightCloseRequest=O._closeRequest,O._closeRequest=void 0}function hs6(O){O._inFlightWriteRequest=O._writeRequests.shift()}function PE(O){if(O._closeRequest!==void 0)O._closeRequest._reject(O._storedError),O._closeRequest=void 0;var I=O._writer;if(I!==void 0)An(I,O._storedError)}function Dn(O,I){var N=O._writer;if(N!==void 0&&I!==O._backpressure)if(I)is6(N);else Nn(N);O._backpressure=I}var vW=function(){function O(I){if(x(I,1,"WritableStreamDefaultWriter"),fV1(I,"First parameter"),kD(I))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=I,I._writer=this;var N=I._state;if(N==="writable"){if(!eY(I)&&I._backpressure)EE(this);else pV1(this);RE(this)}else if(N==="erroring")Mn(this,I._storedError),RE(this);else if(N==="closed")pV1(this),ps6(this);else{var g=I._storedError;Mn(this,g),cV1(this,g)}}return Object.defineProperty(O.prototype,"closed",{get:function(){if(!qH(this))return M(BH("closed"));return this._closedPromise},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"desiredSize",{get:function(){if(!qH(this))throw BH("desiredSize");if(this._ownerWritableStream===void 0)throw JM("desiredSize");return xs6(this)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"ready",{get:function(){if(!qH(this))return M(BH("ready"));return this._readyPromise},enumerable:!1,configurable:!0}),O.prototype.abort=function(I){if(I===void 0)I=void 0;if(!qH(this))return M(BH("abort"));if(this._ownerWritableStream===void 0)return M(JM("abort"));return _s6(this,I)},O.prototype.close=function(){if(!qH(this))return M(BH("close"));var I=this._ownerWritableStream;if(I===void 0)return M(JM("close"));if(eY(I))return M(new TypeError("Cannot close an already-closing stream"));return _V1(this)},O.prototype.releaseLock=function(){if(!qH(this))throw BH("releaseLock");var I=this._ownerWritableStream;if(I===void 0)return;vV1(this)},O.prototype.write=function(I){if(I===void 0)I=void 0;if(!qH(this))return M(BH("write"));if(this._ownerWritableStream===void 0)return M(JM("write to"));return xV1(this,I)},O}();if(Object.defineProperties(vW.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),H(vW.prototype.abort,"abort"),H(vW.prototype.close,"close"),H(vW.prototype.releaseLock,"releaseLock"),H(vW.prototype.write,"write"),typeof Z.toStringTag==="symbol")Object.defineProperty(vW.prototype,Z.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function qH(O){if(!K(O))return!1;if(!Object.prototype.hasOwnProperty.call(O,"_ownerWritableStream"))return!1;return O instanceof vW}function _s6(O,I){var N=O._ownerWritableStream;return NE(N,I)}function _V1(O){var I=O._ownerWritableStream;return hV1(I)}function ys6(O){var I=O._ownerWritableStream,N=I._state;if(eY(I)||N==="closed")return w(void 0);if(N==="errored")return M(I._storedError);return _V1(O)}function vs6(O,I){if(O._closedPromiseState==="pending")An(O,I);else ns6(O,I)}function yV1(O,I){if(O._readyPromiseState==="pending")nV1(O,I);else os6(O,I)}function xs6(O){var I=O._ownerWritableStream,N=I._state;if(N==="errored"||N==="erroring")return null;if(N==="closed")return 0;return uV1(I._writableStreamController)}function vV1(O){var I=O._ownerWritableStream,N=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");yV1(O,N),vs6(O,N),I._writer=void 0,O._ownerWritableStream=void 0}function xV1(O,I){var N=O._ownerWritableStream,g=N._writableStreamController,n=us6(g,I);if(N!==O._ownerWritableStream)return M(JM("write to"));var r=N._state;if(r==="errored")return M(N._storedError);if(eY(N)||r==="closed")return M(new TypeError("The stream is closing or closed and cannot be written to"));if(r==="erroring")return M(N._storedError);var K1=Rs6(N);return ms6(g,I,n),K1}var gV1={},bD=function(){function O(){throw new TypeError("Illegal constructor")}return Object.defineProperty(O.prototype,"abortReason",{get:function(){if(!Vn(this))throw wn("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"signal",{get:function(){if(!Vn(this))throw wn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),O.prototype.error=function(I){if(I===void 0)I=void 0;if(!Vn(this))throw wn("error");var N=this._controlledWritableStream._state;if(N!=="writable")return;mV1(this,I)},O.prototype[e]=function(I){var N=this._abortAlgorithm(I);return LE(this),N},O.prototype[_]=function(){FK(this)},O}();if(Object.defineProperties(bD.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Z.toStringTag==="symbol")Object.defineProperty(bD.prototype,Z.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Vn(O){if(!K(O))return!1;if(!Object.prototype.hasOwnProperty.call(O,"_controlledWritableStream"))return!1;return O instanceof bD}function dV1(O,I,N,g,n,r,K1,T1){I._controlledWritableStream=O,O._writableStreamController=I,I._queue=void 0,I._queueTotalSize=void 0,FK(I),I._abortReason=void 0,I._abortController=Cs6(),I._started=!1,I._strategySizeAlgorithm=T1,I._strategyHWM=K1,I._writeAlgorithm=g,I._closeAlgorithm=n,I._abortAlgorithm=r;var $0=In(I);Dn(O,$0);var C1=N(),r0=w(C1);R(r0,function(){return I._started=!0,CE(I),null},function(U6){return I._started=!0,Fn(O,U6),null})}function gs6(O,I,N,g){var n=Object.create(bD.prototype),r,K1,T1,$0;if(I.start!==void 0)r=function(){return I.start(n)};else r=function(){return};if(I.write!==void 0)K1=function(C1){return I.write(C1,n)};else K1=function(){return w(void 0)};if(I.close!==void 0)T1=function(){return I.close()};else T1=function(){return w(void 0)};if(I.abort!==void 0)$0=function(C1){return I.abort(C1)};else $0=function(){return w(void 0)};dV1(O,n,r,K1,T1,$0,N,g)}function LE(O){O._writeAlgorithm=void 0,O._closeAlgorithm=void 0,O._abortAlgorithm=void 0,O._strategySizeAlgorithm=void 0}function ds6(O){zn(O,gV1,0),CE(O)}function us6(O,I){try{return O._strategySizeAlgorithm(I)}catch(N){return eA(O,N),1}}function uV1(O){return O._strategyHWM-O._queueTotalSize}function ms6(O,I,N){try{zn(O,I,N)}catch(r){eA(O,r);return}var g=O._controlledWritableStream;if(!eY(g)&&g._state==="writable"){var n=In(O);Dn(g,n)}CE(O)}function CE(O){var I=O._controlledWritableStream;if(!O._started)return;if(I._inFlightWriteRequest!==void 0)return;var N=I._state;if(N==="erroring"){On(I);return}if(O._queue.length===0)return;var g=Xs6(O);if(g===gV1)cs6(O);else ls6(O,g)}function eA(O,I){if(O._controlledWritableStream._state==="writable")mV1(O,I)}function cs6(O){var I=O._controlledWritableStream;bs6(I),$n(O);var N=O._closeAlgorithm();LE(O),R(N,function(){return Ts6(I),null},function(g){return fs6(I,g),null})}function ls6(O,I){var N=O._controlledWritableStream;hs6(N);var g=O._writeAlgorithm(I);R(g,function(){Es6(N);var n=N._state;if($n(O),!eY(N)&&n==="writable"){var r=In(O);Dn(N,r)}return CE(O),null},function(n){if(N._state==="writable")LE(O);return Ss6(N,n),null})}function In(O){var I=uV1(O);return I<=0}function mV1(O,I){var N=O._controlledWritableStream;LE(O),Un(N,I)}function jE(O){return new TypeError("WritableStream.prototype.".concat(O," can only be used on a WritableStream"))}function wn(O){return new TypeError("WritableStreamDefaultController.prototype.".concat(O," can only be used on a WritableStreamDefaultController"))}function BH(O){return new TypeError("WritableStreamDefaultWriter.prototype.".concat(O," can only be used on a WritableStreamDefaultWriter"))}function JM(O){return new TypeError("Cannot "+O+" a stream using a released writer")}function RE(O){O._closedPromise=V(function(I,N){O._closedPromise_resolve=I,O._closedPromise_reject=N,O._closedPromiseState="pending"})}function cV1(O,I){RE(O),An(O,I)}function ps6(O){RE(O),lV1(O)}function An(O,I){if(O._closedPromise_reject===void 0)return;l(O._closedPromise),O._closedPromise_reject(I),O._closedPromise_resolve=void 0,O._closedPromise_reject=void 0,O._closedPromiseState="rejected"}function ns6(O,I){cV1(O,I)}function lV1(O){if(O._closedPromise_resolve===void 0)return;O._closedPromise_resolve(void 0),O._closedPromise_resolve=void 0,O._closedPromise_reject=void 0,O._closedPromiseState="resolved"}function EE(O){O._readyPromise=V(function(I,N){O._readyPromise_resolve=I,O._readyPromise_reject=N}),O._readyPromiseState="pending"}function Mn(O,I){EE(O),nV1(O,I)}function pV1(O){EE(O),Nn(O)}function nV1(O,I){if(O._readyPromise_reject===void 0)return;l(O._readyPromise),O._readyPromise_reject(I),O._readyPromise_resolve=void 0,O._readyPromise_reject=void 0,O._readyPromiseState="rejected"}function is6(O){EE(O)}function os6(O,I){Mn(O,I)}function Nn(O){if(O._readyPromise_resolve===void 0)return;O._readyPromise_resolve(void 0),O._readyPromise_resolve=void 0,O._readyPromise_reject=void 0,O._readyPromiseState="fulfilled"}function ss6(){if(typeof globalThis!=="undefined")return globalThis;else if(typeof self!=="undefined")return self;else if(typeof global!=="undefined")return global;return}var Pn=ss6();function as6(O){if(!(typeof O==="function"||typeof O==="object"))return!1;if(O.name!=="DOMException")return!1;try{return new O,!0}catch(I){return!1}}function rs6(){var O=Pn===null||Pn===void 0?void 0:Pn.DOMException;return as6(O)?O:void 0}function ts6(){var O=function I(N,g){if(this.message=N||"",this.name=g||"Error",Error.captureStackTrace)Error.captureStackTrace(this,this.constructor)};return H(O,"DOMException"),O.prototype=Object.create(Error.prototype),Object.defineProperty(O.prototype,"constructor",{value:O,writable:!0,configurable:!0}),O}var es6=rs6()||ts6();function iV1(O,I,N,g,n,r){var K1=c1(O),T1=kV1(I);O._disturbed=!0;var $0=!1,C1=w(void 0);return V(function(r0,U6){var h6;if(r!==void 0){if(h6=function(){var X6=r.reason!==void 0?r.reason:new es6("Aborted","AbortError"),w4=[];if(!g)w4.push(function(){if(I._state==="writable")return NE(I,X6);return w(void 0)});if(!n)w4.push(function(){if(O._state==="readable")return _X(O,X6);return w(void 0)});zJ(function(){return Promise.all(w4.map(function(S8){return S8()}))},!0,X6)},r.aborted){h6();return}r.addEventListener("abort",h6)}function G5(){return V(function(X6,w4){function S8(X$){if(X$)X6();else P($J(),S8,w4)}S8(!1)})}function $J(){if($0)return w(!0);return P(T1._readyPromise,function(){return V(function(X6,w4){tY(K1,{_chunkSteps:function(S8){C1=P(xV1(T1,S8),void 0,G),X6(!1)},_closeSteps:function(){return X6(!0)},_errorSteps:w4})})})}if(G9(O,K1._closedPromise,function(X6){if(!g)zJ(function(){return NE(I,X6)},!0,X6);else gW(!0,X6);return null}),G9(I,T1._closedPromise,function(X6){if(!n)zJ(function(){return _X(O,X6)},!0,X6);else gW(!0,X6);return null}),Z$(O,K1._closedPromise,function(){if(!N)zJ(function(){return ys6(T1)});else gW();return null}),eY(I)||I._state==="closed"){var gJ=new TypeError("the destination writable stream closed before all data could be piped to it");if(!n)zJ(function(){return _X(O,gJ)},!0,gJ);else gW(!0,gJ)}l(G5());function J$(){var X6=C1;return P(C1,function(){return X6!==C1?J$():void 0})}function G9(X6,w4,S8){if(X6._state==="errored")S8(X6._storedError);else d(w4,S8)}function Z$(X6,w4,S8){if(X6._state==="closed")S8();else f(w4,S8)}function zJ(X6,w4,S8){if($0)return;if($0=!0,I._state==="writable"&&!eY(I))f(J$(),X$);else X$();function X$(){return R(X6(),function(){return E8(w4,S8)},function(wK){return E8(!0,wK)}),null}}function gW(X6,w4){if($0)return;if($0=!0,I._state==="writable"&&!eY(I))f(J$(),function(){return E8(X6,w4)});else E8(X6,w4)}function E8(X6,w4){if(vV1(T1),X0(K1),r!==void 0)r.removeEventListener("abort",h6);if(X6)U6(w4);else r0(void 0);return null}})}var xW=function(){function O(){throw new TypeError("Illegal constructor")}return Object.defineProperty(O.prototype,"desiredSize",{get:function(){if(!SE(this))throw fE("desiredSize");return Ln(this)},enumerable:!1,configurable:!0}),O.prototype.close=function(){if(!SE(this))throw fE("close");if(!_D(this))throw new TypeError("The stream is not in a state that permits close");HH(this)},O.prototype.enqueue=function(I){if(I===void 0)I=void 0;if(!SE(this))throw fE("enqueue");if(!_D(this))throw new TypeError("The stream is not in a state that permits enqueue");return hD(this,I)},O.prototype.error=function(I){if(I===void 0)I=void 0;if(!SE(this))throw fE("error");hX(this,I)},O.prototype[Z1]=function(I){FK(this);var N=this._cancelAlgorithm(I);return TE(this),N},O.prototype[V1]=function(I){var N=this._controlledReadableStream;if(this._queue.length>0){var g=$n(this);if(this._closeRequested&&this._queue.length===0)TE(this),YM(N);else ZM(this);I._chunkSteps(g)}else I6(N,I),ZM(this)},O.prototype[N1]=function(){},O}();if(Object.defineProperties(xW.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),H(xW.prototype.close,"close"),H(xW.prototype.enqueue,"enqueue"),H(xW.prototype.error,"error"),typeof Z.toStringTag==="symbol")Object.defineProperty(xW.prototype,Z.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function SE(O){if(!K(O))return!1;if(!Object.prototype.hasOwnProperty.call(O,"_controlledReadableStream"))return!1;return O instanceof xW}function ZM(O){var I=oV1(O);if(!I)return;if(O._pulling){O._pullAgain=!0;return}O._pulling=!0;var N=O._pullAlgorithm();R(N,function(){if(O._pulling=!1,O._pullAgain)O._pullAgain=!1,ZM(O);return null},function(g){return hX(O,g),null})}function oV1(O){var I=O._controlledReadableStream;if(!_D(O))return!1;if(!O._started)return!1;if(VK(I)&&M8(I)>0)return!0;var N=Ln(O);if(N>0)return!0;return!1}function TE(O){O._pullAlgorithm=void 0,O._cancelAlgorithm=void 0,O._strategySizeAlgorithm=void 0}function HH(O){if(!_D(O))return;var I=O._controlledReadableStream;if(O._closeRequested=!0,O._queue.length===0)TE(O),YM(I)}function hD(O,I){if(!_D(O))return;var N=O._controlledReadableStream;if(VK(N)&&M8(N)>0)k4(N,I,!1);else{var g=void 0;try{g=O._strategySizeAlgorithm(I)}catch(n){throw hX(O,n),n}try{zn(O,I,g)}catch(n){throw hX(O,n),n}}ZM(O)}function hX(O,I){var N=O._controlledReadableStream;if(N._state!=="readable")return;FK(O),TE(O),tV1(N,I)}function Ln(O){var I=O._controlledReadableStream._state;if(I==="errored")return null;if(I==="closed")return 0;return O._strategyHWM-O._queueTotalSize}function Ja6(O){if(oV1(O))return!1;return!0}function _D(O){var I=O._controlledReadableStream._state;if(!O._closeRequested&&I==="readable")return!0;return!1}function sV1(O,I,N,g,n,r,K1){I._controlledReadableStream=O,I._queue=void 0,I._queueTotalSize=void 0,FK(I),I._started=!1,I._closeRequested=!1,I._pullAgain=!1,I._pulling=!1,I._strategySizeAlgorithm=K1,I._strategyHWM=r,I._pullAlgorithm=g,I._cancelAlgorithm=n,O._readableStreamController=I;var T1=N();R(w(T1),function(){return I._started=!0,ZM(I),null},function($0){return hX(I,$0),null})}function Za6(O,I,N,g){var n=Object.create(xW.prototype),r,K1,T1;if(I.start!==void 0)r=function(){return I.start(n)};else r=function(){return};if(I.pull!==void 0)K1=function(){return I.pull(n)};else K1=function(){return w(void 0)};if(I.cancel!==void 0)T1=function($0){return I.cancel($0)};else T1=function(){return w(void 0)};sV1(O,n,r,K1,T1,N,g)}function fE(O){return new TypeError("ReadableStreamDefaultController.prototype.".concat(O," can only be used on a ReadableStreamDefaultController"))}function Xa6(O,I){if(QH(O._readableStreamController))return $a6(O);return Ya6(O)}function Ya6(O,I){var N=c1(O),g=!1,n=!1,r=!1,K1=!1,T1,$0,C1,r0,U6,h6=V(function(G9){U6=G9});function G5(){if(g)return n=!0,w(void 0);g=!0;var G9={_chunkSteps:function(Z$){o(function(){n=!1;var zJ=Z$,gW=Z$;if(!r)hD(C1._readableStreamController,zJ);if(!K1)hD(r0._readableStreamController,gW);if(g=!1,n)G5()})},_closeSteps:function(){if(g=!1,!r)HH(C1._readableStreamController);if(!K1)HH(r0._readableStreamController);if(!r||!K1)U6(void 0)},_errorSteps:function(){g=!1}};return tY(N,G9),w(void 0)}function $J(G9){if(r=!0,T1=G9,K1){var Z$=b4([T1,$0]),zJ=_X(O,Z$);U6(zJ)}return h6}function gJ(G9){if(K1=!0,$0=G9,r){var Z$=b4([T1,$0]),zJ=_X(O,Z$);U6(zJ)}return h6}function J$(){}return C1=XM(J$,G5,$J),r0=XM(J$,G5,gJ),d(N._closedPromise,function(G9){if(hX(C1._readableStreamController,G9),hX(r0._readableStreamController,G9),!r||!K1)U6(void 0);return null}),[C1,r0]}function $a6(O){var I=c1(O),N=!1,g=!1,n=!1,r=!1,K1=!1,T1,$0,C1,r0,U6,h6=V(function(E8){U6=E8});function G5(E8){d(E8._closedPromise,function(X6){if(E8!==I)return null;if(xJ(C1._readableStreamController,X6),xJ(r0._readableStreamController,X6),!r||!K1)U6(void 0);return null})}function $J(){if(KH(I))X0(I),I=c1(O),G5(I);var E8={_chunkSteps:function(X6){o(function(){g=!1,n=!1;var w4=X6,S8=X6;if(!r&&!K1)try{S8=FV1(X6)}catch(X$){xJ(C1._readableStreamController,X$),xJ(r0._readableStreamController,X$),U6(_X(O,X$));return}if(!r)DE(C1._readableStreamController,w4);if(!K1)DE(r0._readableStreamController,S8);if(N=!1,g)J$();else if(n)G9()})},_closeSteps:function(){if(N=!1,!r)aA(C1._readableStreamController);if(!K1)aA(r0._readableStreamController);if(C1._readableStreamController._pendingPullIntos.length>0)VE(C1._readableStreamController,0);if(r0._readableStreamController._pendingPullIntos.length>0)VE(r0._readableStreamController,0);if(!r||!K1)U6(void 0)},_errorSteps:function(){N=!1}};tY(I,E8)}function gJ(E8,X6){if(z8(I))X0(I),I=jV1(O),G5(I);var w4=X6?r0:C1,S8=X6?C1:r0,X$={_chunkSteps:function(wK){o(function(){g=!1,n=!1;var vD=X6?K1:r,$M=X6?r:K1;if(!$M){var BI1=void 0;try{BI1=FV1(wK)}catch(Sn){xJ(w4._readableStreamController,Sn),xJ(S8._readableStreamController,Sn),U6(_X(O,Sn));return}if(!vD)IE(w4._readableStreamController,wK);DE(S8._readableStreamController,BI1)}else if(!vD)IE(w4._readableStreamController,wK);if(N=!1,g)J$();else if(n)G9()})},_closeSteps:function(wK){N=!1;var vD=X6?K1:r,$M=X6?r:K1;if(!vD)aA(w4._readableStreamController);if(!$M)aA(S8._readableStreamController);if(wK!==void 0){if(!vD)IE(w4._readableStreamController,wK);if(!$M&&S8._readableStreamController._pendingPullIntos.length>0)VE(S8._readableStreamController,0)}if(!vD||!$M)U6(void 0)},_errorSteps:function(){N=!1}};SV1(I,E8,1,X$)}function J$(){if(N)return g=!0,w(void 0);N=!0;var E8=qn(C1._readableStreamController);if(E8===null)$J();else gJ(E8._view,!1);return w(void 0)}function G9(){if(N)return n=!0,w(void 0);N=!0;var E8=qn(r0._readableStreamController);if(E8===null)$J();else gJ(E8._view,!0);return w(void 0)}function Z$(E8){if(r=!0,T1=E8,K1){var X6=b4([T1,$0]),w4=_X(O,X6);U6(w4)}return h6}function zJ(E8){if(K1=!0,$0=E8,r){var X6=b4([T1,$0]),w4=_X(O,X6);U6(w4)}return h6}function gW(){return}return C1=rV1(gW,J$,Z$),r0=rV1(gW,G9,zJ),G5(I),[C1,r0]}function za6(O){return K(O)&&typeof O.getReader!=="undefined"}function Wa6(O){if(za6(O))return Ga6(O.getReader());return Qa6(O)}function Qa6(O){var I,N=WV1(O,"async"),g=G;function n(){var K1;try{K1=ro6(N)}catch($0){return M($0)}var T1=w(K1);return v(T1,function($0){if(!K($0))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");var C1=to6($0);if(C1)HH(I._readableStreamController);else{var r0=eo6($0);hD(I._readableStreamController,r0)}})}function r(K1){var T1=N.iterator,$0;try{$0=FE(T1,"return")}catch(U6){return M(U6)}if($0===void 0)return w(void 0);var C1;try{C1=S($0,T1,[K1])}catch(U6){return M(U6)}var r0=w(C1);return v(r0,function(U6){if(!K(U6))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object");return})}return I=XM(g,n,r,0),I}function Ga6(O){var I,N=G;function g(){var r;try{r=O.read()}catch(K1){return M(K1)}return v(r,function(K1){if(!K(K1))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(K1.done)HH(I._readableStreamController);else{var T1=K1.value;hD(I._readableStreamController,T1)}})}function n(r){try{return w(O.cancel(r))}catch(K1){return M(K1)}}return I=XM(N,g,n,0),I}function Ka6(O,I){A(O,I);var N=O,g=N===null||N===void 0?void 0:N.autoAllocateChunkSize,n=N===null||N===void 0?void 0:N.cancel,r=N===null||N===void 0?void 0:N.pull,K1=N===null||N===void 0?void 0:N.start,T1=N===null||N===void 0?void 0:N.type;return{autoAllocateChunkSize:g===void 0?void 0:B1(g,"".concat(I," has member 'autoAllocateChunkSize' that")),cancel:n===void 0?void 0:qa6(n,N,"".concat(I," has member 'cancel' that")),pull:r===void 0?void 0:Ba6(r,N,"".concat(I," has member 'pull' that")),start:K1===void 0?void 0:Ha6(K1,N,"".concat(I," has member 'start' that")),type:T1===void 0?void 0:Fa6(T1,"".concat(I," has member 'type' that"))}}function qa6(O,I,N){return j(O,N),function(g){return i(O,I,[g])}}function Ba6(O,I,N){return j(O,N),function(g){return i(O,I,[g])}}function Ha6(O,I,N){return j(O,N),function(g){return S(O,I,[g])}}function Fa6(O,I){if(O="".concat(O),O!=="bytes")throw new TypeError("".concat(I," '").concat(O,"' is not a valid enumeration value for ReadableStreamType"));return O}function Ua6(O,I){A(O,I);var N=O===null||O===void 0?void 0:O.preventCancel;return{preventCancel:Boolean(N)}}function aV1(O,I){A(O,I);var N=O===null||O===void 0?void 0:O.preventAbort,g=O===null||O===void 0?void 0:O.preventCancel,n=O===null||O===void 0?void 0:O.preventClose,r=O===null||O===void 0?void 0:O.signal;if(r!==void 0)Oa6(r,"".concat(I," has member 'signal' that"));return{preventAbort:Boolean(N),preventCancel:Boolean(g),preventClose:Boolean(n),signal:r}}function Oa6(O,I){if(!Ps6(O))throw new TypeError("".concat(I," is not an AbortSignal."))}function Da6(O,I){A(O,I);var N=O===null||O===void 0?void 0:O.readable;y(N,"readable","ReadableWritablePair"),y1(N,"".concat(I," has member 'readable' that"));var g=O===null||O===void 0?void 0:O.writable;return y(g,"writable","ReadableWritablePair"),fV1(g,"".concat(I," has member 'writable' that")),{readable:N,writable:g}}var P9=function(){function O(I,N){if(I===void 0)I={};if(N===void 0)N={};if(I===void 0)I=null;else h(I,"First parameter");var g=ME(N,"Second parameter"),n=Ka6(I,"First parameter");if(Cn(this),n.type==="bytes"){if(g.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var r=tA(g,0);qs6(this,n,r)}else{var K1=AE(g),r=tA(g,1);Za6(this,n,r,K1)}}return Object.defineProperty(O.prototype,"locked",{get:function(){if(!DK(this))throw FH("locked");return VK(this)},enumerable:!1,configurable:!0}),O.prototype.cancel=function(I){if(I===void 0)I=void 0;if(!DK(this))return M(FH("cancel"));if(VK(this))return M(new TypeError("Cannot cancel a stream that already has a reader"));return _X(this,I)},O.prototype.getReader=function(I){if(I===void 0)I=void 0;if(!DK(this))throw FH("getReader");var N=Hs6(I,"First parameter");if(N.mode===void 0)return c1(this);return jV1(this)},O.prototype.pipeThrough=function(I,N){if(N===void 0)N={};if(!DK(this))throw FH("pipeThrough");x(I,1,"pipeThrough");var g=Da6(I,"First parameter"),n=aV1(N,"Second parameter");if(VK(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(kD(g.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var r=iV1(this,g.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal);return l(r),g.readable},O.prototype.pipeTo=function(I,N){if(N===void 0)N={};if(!DK(this))return M(FH("pipeTo"));if(I===void 0)return M("Parameter 1 is required in 'pipeTo'.");if(!fD(I))return M(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var g;try{g=aV1(N,"Second parameter")}catch(n){return M(n)}if(VK(this))return M(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(kD(I))return M(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));return iV1(this,I,g.preventClose,g.preventAbort,g.preventCancel,g.signal)},O.prototype.tee=function(){if(!DK(this))throw FH("tee");var I=Xa6(this);return b4(I)},O.prototype.values=function(I){if(I===void 0)I=void 0;if(!DK(this))throw FH("values");var N=Ua6(I,"First parameter");return Js6(this,N.preventCancel)},O.prototype[sA]=function(I){return this.values(I)},O.from=function(I){return Wa6(I)},O}();if(Object.defineProperties(P9,{from:{enumerable:!0}}),Object.defineProperties(P9.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),H(P9.from,"from"),H(P9.prototype.cancel,"cancel"),H(P9.prototype.getReader,"getReader"),H(P9.prototype.pipeThrough,"pipeThrough"),H(P9.prototype.pipeTo,"pipeTo"),H(P9.prototype.tee,"tee"),H(P9.prototype.values,"values"),typeof Z.toStringTag==="symbol")Object.defineProperty(P9.prototype,Z.toStringTag,{value:"ReadableStream",configurable:!0});Object.defineProperty(P9.prototype,sA,{value:P9.prototype.values,writable:!0,configurable:!0});function XM(O,I,N,g,n){if(g===void 0)g=1;if(n===void 0)n=function(){return 1};var r=Object.create(P9.prototype);Cn(r);var K1=Object.create(xW.prototype);return sV1(r,K1,O,I,N,g,n),r}function rV1(O,I,N){var g=Object.create(P9.prototype);Cn(g);var n=Object.create(yW.prototype);return CV1(g,n,O,I,N,0,void 0),g}function Cn(O){O._state="readable",O._reader=void 0,O._storedError=void 0,O._disturbed=!1}function DK(O){if(!K(O))return!1;if(!Object.prototype.hasOwnProperty.call(O,"_readableStreamController"))return!1;return O instanceof P9}function VK(O){if(O._reader===void 0)return!1;return!0}function _X(O,I){if(O._disturbed=!0,O._state==="closed")return w(void 0);if(O._state==="errored")return M(O._storedError);YM(O);var N=O._reader;if(N!==void 0&&KH(N)){var g=N._readIntoRequests;N._readIntoRequests=new G1,g.forEach(function(r){r._closeSteps(void 0)})}var n=O._readableStreamController[Z1](I);return v(n,G)}function YM(O){O._state="closed";var I=O._reader;if(I===void 0)return;if(Y0(I),z8(I)){var N=I._readRequests;I._readRequests=new G1,N.forEach(function(g){g._closeSteps()})}}function tV1(O,I){O._state="errored",O._storedError=I;var N=O._reader;if(N===void 0)return;if(I1(N,I),z8(N))SD(N,I);else TV1(N,I)}function FH(O){return new TypeError("ReadableStream.prototype.".concat(O," can only be used on a ReadableStream"))}function eV1(O,I){A(O,I);var N=O===null||O===void 0?void 0:O.highWaterMark;return y(N,"highWaterMark","QueuingStrategyInit"),{highWaterMark:c(N)}}var JI1=function(O){return O.byteLength};H(JI1,"size");var kE=function(){function O(I){x(I,1,"ByteLengthQueuingStrategy"),I=eV1(I,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=I.highWaterMark}return Object.defineProperty(O.prototype,"highWaterMark",{get:function(){if(!XI1(this))throw ZI1("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"size",{get:function(){if(!XI1(this))throw ZI1("size");return JI1},enumerable:!1,configurable:!0}),O}();if(Object.defineProperties(kE.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Z.toStringTag==="symbol")Object.defineProperty(kE.prototype,Z.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function ZI1(O){return new TypeError("ByteLengthQueuingStrategy.prototype.".concat(O," can only be used on a ByteLengthQueuingStrategy"))}function XI1(O){if(!K(O))return!1;if(!Object.prototype.hasOwnProperty.call(O,"_byteLengthQueuingStrategyHighWaterMark"))return!1;return O instanceof kE}var YI1=function(){return 1};H(YI1,"size");var bE=function(){function O(I){x(I,1,"CountQueuingStrategy"),I=eV1(I,"First parameter"),this._countQueuingStrategyHighWaterMark=I.highWaterMark}return Object.defineProperty(O.prototype,"highWaterMark",{get:function(){if(!zI1(this))throw $I1("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"size",{get:function(){if(!zI1(this))throw $I1("size");return YI1},enumerable:!1,configurable:!0}),O}();if(Object.defineProperties(bE.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Z.toStringTag==="symbol")Object.defineProperty(bE.prototype,Z.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function $I1(O){return new TypeError("CountQueuingStrategy.prototype.".concat(O," can only be used on a CountQueuingStrategy"))}function zI1(O){if(!K(O))return!1;if(!Object.prototype.hasOwnProperty.call(O,"_countQueuingStrategyHighWaterMark"))return!1;return O instanceof bE}function Va6(O,I){A(O,I);var N=O===null||O===void 0?void 0:O.cancel,g=O===null||O===void 0?void 0:O.flush,n=O===null||O===void 0?void 0:O.readableType,r=O===null||O===void 0?void 0:O.start,K1=O===null||O===void 0?void 0:O.transform,T1=O===null||O===void 0?void 0:O.writableType;return{cancel:N===void 0?void 0:Ma6(N,O,"".concat(I," has member 'cancel' that")),flush:g===void 0?void 0:Ia6(g,O,"".concat(I," has member 'flush' that")),readableType:n,start:r===void 0?void 0:wa6(r,O,"".concat(I," has member 'start' that")),transform:K1===void 0?void 0:Aa6(K1,O,"".concat(I," has member 'transform' that")),writableType:T1}}function Ia6(O,I,N){return j(O,N),function(g){return i(O,I,[g])}}function wa6(O,I,N){return j(O,N),function(g){return S(O,I,[g])}}function Aa6(O,I,N){return j(O,N),function(g,n){return i(O,I,[g,n])}}function Ma6(O,I,N){return j(O,N),function(g){return i(O,I,[g])}}var hE=function(){function O(I,N,g){if(I===void 0)I={};if(N===void 0)N={};if(g===void 0)g={};if(I===void 0)I=null;var n=ME(N,"Second parameter"),r=ME(g,"Third parameter"),K1=Va6(I,"First parameter");if(K1.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(K1.writableType!==void 0)throw new RangeError("Invalid writableType specified");var T1=tA(r,0),$0=AE(r),C1=tA(n,1),r0=AE(n),U6,h6=V(function(G5){U6=G5});if(Na6(this,h6,C1,r0,T1,$0),La6(this,K1),K1.start!==void 0)U6(K1.start(this._transformStreamController));else U6(void 0)}return Object.defineProperty(O.prototype,"readable",{get:function(){if(!WI1(this))throw qI1("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"writable",{get:function(){if(!WI1(this))throw qI1("writable");return this._writable},enumerable:!1,configurable:!0}),O}();if(Object.defineProperties(hE.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Z.toStringTag==="symbol")Object.defineProperty(hE.prototype,Z.toStringTag,{value:"TransformStream",configurable:!0});function Na6(O,I,N,g,n,r){function K1(){return I}function T1(h6){return Ra6(O,h6)}function $0(h6){return Ea6(O,h6)}function C1(){return Sa6(O)}O._writable=js6(K1,T1,C1,$0,N,g);function r0(){return Ta6(O)}function U6(h6){return fa6(O,h6)}O._readable=XM(K1,r0,U6,n,r),O._backpressure=void 0,O._backpressureChangePromise=void 0,O._backpressureChangePromise_resolve=void 0,_E(O,!0),O._transformStreamController=void 0}function WI1(O){if(!K(O))return!1;if(!Object.prototype.hasOwnProperty.call(O,"_transformStreamController"))return!1;return O instanceof hE}function QI1(O,I){hX(O._readable._readableStreamController,I),jn(O,I)}function jn(O,I){vE(O._transformStreamController),eA(O._writable._writableStreamController,I),Rn(O)}function Rn(O){if(O._backpressure)_E(O,!1)}function _E(O,I){if(O._backpressureChangePromise!==void 0)O._backpressureChangePromise_resolve();O._backpressureChangePromise=V(function(N){O._backpressureChangePromise_resolve=N}),O._backpressure=I}var IK=function(){function O(){throw new TypeError("Illegal constructor")}return Object.defineProperty(O.prototype,"desiredSize",{get:function(){if(!yE(this))throw xE("desiredSize");var I=this._controlledTransformStream._readable._readableStreamController;return Ln(I)},enumerable:!1,configurable:!0}),O.prototype.enqueue=function(I){if(I===void 0)I=void 0;if(!yE(this))throw xE("enqueue");GI1(this,I)},O.prototype.error=function(I){if(I===void 0)I=void 0;if(!yE(this))throw xE("error");Ca6(this,I)},O.prototype.terminate=function(){if(!yE(this))throw xE("terminate");ja6(this)},O}();if(Object.defineProperties(IK.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),H(IK.prototype.enqueue,"enqueue"),H(IK.prototype.error,"error"),H(IK.prototype.terminate,"terminate"),typeof Z.toStringTag==="symbol")Object.defineProperty(IK.prototype,Z.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function yE(O){if(!K(O))return!1;if(!Object.prototype.hasOwnProperty.call(O,"_controlledTransformStream"))return!1;return O instanceof IK}function Pa6(O,I,N,g,n){I._controlledTransformStream=O,O._transformStreamController=I,I._transformAlgorithm=N,I._flushAlgorithm=g,I._cancelAlgorithm=n,I._finishPromise=void 0,I._finishPromise_resolve=void 0,I._finishPromise_reject=void 0}function La6(O,I){var N=Object.create(IK.prototype),g,n,r;if(I.transform!==void 0)g=function(K1){return I.transform(K1,N)};else g=function(K1){try{return GI1(N,K1),w(void 0)}catch(T1){return M(T1)}};if(I.flush!==void 0)n=function(){return I.flush(N)};else n=function(){return w(void 0)};if(I.cancel!==void 0)r=function(K1){return I.cancel(K1)};else r=function(){return w(void 0)};Pa6(O,N,g,n,r)}function vE(O){O._transformAlgorithm=void 0,O._flushAlgorithm=void 0,O._cancelAlgorithm=void 0}function GI1(O,I){var N=O._controlledTransformStream,g=N._readable._readableStreamController;if(!_D(g))throw new TypeError("Readable side is not in a state that permits enqueue");try{hD(g,I)}catch(r){throw jn(N,r),N._readable._storedError}var n=Ja6(g);if(n!==N._backpressure)_E(N,!0)}function Ca6(O,I){QI1(O._controlledTransformStream,I)}function KI1(O,I){var N=O._transformAlgorithm(I);return v(N,void 0,function(g){throw QI1(O._controlledTransformStream,g),g})}function ja6(O){var I=O._controlledTransformStream,N=I._readable._readableStreamController;HH(N);var g=new TypeError("TransformStream terminated");jn(I,g)}function Ra6(O,I){var N=O._transformStreamController;if(O._backpressure){var g=O._backpressureChangePromise;return v(g,function(){var n=O._writable,r=n._state;if(r==="erroring")throw n._storedError;return KI1(N,I)})}return KI1(N,I)}function Ea6(O,I){var N=O._transformStreamController;if(N._finishPromise!==void 0)return N._finishPromise;var g=O._readable;N._finishPromise=V(function(r,K1){N._finishPromise_resolve=r,N._finishPromise_reject=K1});var n=N._cancelAlgorithm(I);return vE(N),R(n,function(){if(g._state==="errored")yD(N,g._storedError);else hX(g._readableStreamController,I),En(N);return null},function(r){return hX(g._readableStreamController,r),yD(N,r),null}),N._finishPromise}function Sa6(O){var I=O._transformStreamController;if(I._finishPromise!==void 0)return I._finishPromise;var N=O._readable;I._finishPromise=V(function(n,r){I._finishPromise_resolve=n,I._finishPromise_reject=r});var g=I._flushAlgorithm();return vE(I),R(g,function(){if(N._state==="errored")yD(I,N._storedError);else HH(N._readableStreamController),En(I);return null},function(n){return hX(N._readableStreamController,n),yD(I,n),null}),I._finishPromise}function Ta6(O){return _E(O,!1),O._backpressureChangePromise}function fa6(O,I){var N=O._transformStreamController;if(N._finishPromise!==void 0)return N._finishPromise;var g=O._writable;N._finishPromise=V(function(r,K1){N._finishPromise_resolve=r,N._finishPromise_reject=K1});var n=N._cancelAlgorithm(I);return vE(N),R(n,function(){if(g._state==="errored")yD(N,g._storedError);else eA(g._writableStreamController,I),Rn(O),En(N);return null},function(r){return eA(g._writableStreamController,r),Rn(O),yD(N,r),null}),N._finishPromise}function xE(O){return new TypeError("TransformStreamDefaultController.prototype.".concat(O," can only be used on a TransformStreamDefaultController"))}function En(O){if(O._finishPromise_resolve===void 0)return;O._finishPromise_resolve(),O._finishPromise_resolve=void 0,O._finishPromise_reject=void 0}function yD(O,I){if(O._finishPromise_reject===void 0)return;l(O._finishPromise),O._finishPromise_reject(I),O._finishPromise_resolve=void 0,O._finishPromise_reject=void 0}function qI1(O){return new TypeError("TransformStream.prototype.".concat(O," can only be used on a TransformStream"))}J.ByteLengthQueuingStrategy=kE,J.CountQueuingStrategy=bE,J.ReadableByteStreamController=yW,J.ReadableStream=P9,J.ReadableStreamBYOBReader=UK,J.ReadableStreamBYOBRequest=WH,J.ReadableStreamDefaultController=xW,J.ReadableStreamDefaultReader=b6,J.TransformStream=hE,J.TransformStreamDefaultController=IK,J.WritableStream=OK,J.WritableStreamDefaultController=bD,J.WritableStreamDefaultWriter=vW})});var XF=B((PV4)=>{/*!
 * MIT License
 * 
 * Copyright (c) 2017-2024 Peculiar Ventures, LLC
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */class T${static isArrayBuffer(J){return Object.prototype.toString.call(J)==="[object ArrayBuffer]"}static toArrayBuffer(J){if(this.isArrayBuffer(J))return J;if(J.byteLength===J.buffer.byteLength)return J.buffer;if(J.byteOffset===0&&J.byteLength===J.buffer.byteLength)return J.buffer;return this.toUint8Array(J.buffer).slice(J.byteOffset,J.byteOffset+J.byteLength).buffer}static toUint8Array(J){return this.toView(J,Uint8Array)}static toView(J,Z){if(J.constructor===Z)return J;if(this.isArrayBuffer(J))return new Z(J);if(this.isArrayBufferView(J))return new Z(J.buffer,J.byteOffset,J.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(J){return this.isArrayBufferView(J)||this.isArrayBuffer(J)}static isArrayBufferView(J){return ArrayBuffer.isView(J)||J&&this.isArrayBuffer(J.buffer)}static isEqual(J,Z){let X=T$.toUint8Array(J),Y=T$.toUint8Array(Z);if(X.length!==Y.byteLength)return!1;for(let $=0;$<X.length;$++)if(X[$]!==Y[$])return!1;return!0}static concat(...J){let Z;if(Array.isArray(J[0])&&!(J[1]instanceof Function))Z=J[0];else if(Array.isArray(J[0])&&J[1]instanceof Function)Z=J[0];else if(J[J.length-1]instanceof Function)Z=J.slice(0,J.length-1);else Z=J;let X=0;for(let z of Z)X+=z.byteLength;let Y=new Uint8Array(X),$=0;for(let z of Z){let W=this.toUint8Array(z);Y.set(W,$),$+=W.length}if(J[J.length-1]instanceof Function)return this.toView(Y,J[J.length-1]);return Y.buffer}}var Pr="string",VV4=/^[0-9a-f\s]+$/i,IV4=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,wV4=/^[a-zA-Z0-9-_]+$/;class Lr{static fromString(J){let Z=unescape(encodeURIComponent(J)),X=new Uint8Array(Z.length);for(let Y=0;Y<Z.length;Y++)X[Y]=Z.charCodeAt(Y);return X.buffer}static toString(J){let Z=T$.toUint8Array(J),X="";for(let $=0;$<Z.length;$++)X+=String.fromCharCode(Z[$]);return decodeURIComponent(escape(X))}}class FY{static toString(J,Z=!1){let X=T$.toArrayBuffer(J),Y=new DataView(X),$="";for(let z=0;z<X.byteLength;z+=2){let W=Y.getUint16(z,Z);$+=String.fromCharCode(W)}return $}static fromString(J,Z=!1){let X=new ArrayBuffer(J.length*2),Y=new DataView(X);for(let $=0;$<J.length;$++)Y.setUint16($*2,J.charCodeAt($),Z);return X}}class Z3{static isHex(J){return typeof J===Pr&&VV4.test(J)}static isBase64(J){return typeof J===Pr&&IV4.test(J)}static isBase64Url(J){return typeof J===Pr&&wV4.test(J)}static ToString(J,Z="utf8"){let X=T$.toUint8Array(J);switch(Z.toLowerCase()){case"utf8":return this.ToUtf8String(X);case"binary":return this.ToBinary(X);case"hex":return this.ToHex(X);case"base64":return this.ToBase64(X);case"base64url":return this.ToBase64Url(X);case"utf16le":return FY.toString(X,!0);case"utf16":case"utf16be":return FY.toString(X);default:throw new Error(`Unknown type of encoding '${Z}'`)}}static FromString(J,Z="utf8"){if(!J)return new ArrayBuffer(0);switch(Z.toLowerCase()){case"utf8":return this.FromUtf8String(J);case"binary":return this.FromBinary(J);case"hex":return this.FromHex(J);case"base64":return this.FromBase64(J);case"base64url":return this.FromBase64Url(J);case"utf16le":return FY.fromString(J,!0);case"utf16":case"utf16be":return FY.fromString(J);default:throw new Error(`Unknown type of encoding '${Z}'`)}}static ToBase64(J){let Z=T$.toUint8Array(J);if(typeof btoa!=="undefined"){let X=this.ToString(Z,"binary");return btoa(X)}else return Buffer.from(Z).toString("base64")}static FromBase64(J){let Z=this.formatString(J);if(!Z)return new ArrayBuffer(0);if(!Z3.isBase64(Z))throw new TypeError("Argument 'base64Text' is not Base64 encoded");if(typeof atob!=="undefined")return this.FromBinary(atob(Z));else return new Uint8Array(Buffer.from(Z,"base64")).buffer}static FromBase64Url(J){let Z=this.formatString(J);if(!Z)return new ArrayBuffer(0);if(!Z3.isBase64Url(Z))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(Z.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(J){return this.ToBase64(J).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(J,Z=Z3.DEFAULT_UTF8_ENCODING){switch(Z){case"ascii":return this.FromBinary(J);case"utf8":return Lr.fromString(J);case"utf16":case"utf16be":return FY.fromString(J);case"utf16le":case"usc2":return FY.fromString(J,!0);default:throw new Error(`Unknown type of encoding '${Z}'`)}}static ToUtf8String(J,Z=Z3.DEFAULT_UTF8_ENCODING){switch(Z){case"ascii":return this.ToBinary(J);case"utf8":return Lr.toString(J);case"utf16":case"utf16be":return FY.toString(J);case"utf16le":case"usc2":return FY.toString(J,!0);default:throw new Error(`Unknown type of encoding '${Z}'`)}}static FromBinary(J){let Z=J.length,X=new Uint8Array(Z);for(let Y=0;Y<Z;Y++)X[Y]=J.charCodeAt(Y);return X.buffer}static ToBinary(J){let Z=T$.toUint8Array(J),X="";for(let Y=0;Y<Z.length;Y++)X+=String.fromCharCode(Z[Y]);return X}static ToHex(J){let Z=T$.toUint8Array(J),X="",Y=Z.length;for(let $=0;$<Y;$++){let z=Z[$];if(z<16)X+="0";X+=z.toString(16)}return X}static FromHex(J){let Z=this.formatString(J);if(!Z)return new ArrayBuffer(0);if(!Z3.isHex(Z))throw new TypeError("Argument 'hexString' is not HEX encoded");if(Z.length%2)Z=`0${Z}`;let X=new Uint8Array(Z.length/2);for(let Y=0;Y<Z.length;Y=Y+2){let $=Z.slice(Y,Y+2);X[Y/2]=parseInt($,16)}return X.buffer}static ToUtf16String(J,Z=!1){return FY.toString(J,Z)}static FromUtf16String(J,Z=!1){return FY.fromString(J,Z)}static Base64Padding(J){let Z=4-J.length%4;if(Z<4)for(let X=0;X<Z;X++)J+="=";return J}static formatString(J){return(J===null||J===void 0?void 0:J.replace(/[\n\r\t ]/g,""))||""}}Z3.DEFAULT_UTF8_ENCODING="utf8";function AV4(J,...Z){let X=arguments[0];for(let Y=1;Y<arguments.length;Y++){let $=arguments[Y];for(let z in $)X[z]=$[z]}return X}function MV4(...J){let Z=J.map(($)=>$.byteLength).reduce(($,z)=>$+z),X=new Uint8Array(Z),Y=0;return J.map(($)=>new Uint8Array($)).forEach(($)=>{for(let z of $)X[Y++]=z}),X.buffer}function NV4(J,Z){if(!(J&&Z))return!1;if(J.byteLength!==Z.byteLength)return!1;let X=new Uint8Array(J),Y=new Uint8Array(Z);for(let $=0;$<J.byteLength;$++)if(X[$]!==Y[$])return!1;return!0}PV4.BufferSourceConverter=T$;PV4.Convert=Z3;PV4.assign=AV4;PV4.combine=MV4;PV4.isEqual=NV4});var Sb1=B((Eb1)=>{/*!
 Copyright (c) Peculiar Ventures, LLC
*/Object.defineProperty(Eb1,"__esModule",{value:!0});function SV4(J){return new Date(J.getTime()+J.getTimezoneOffset()*60000)}function TV4(J,Z,X){var Y;if(J instanceof Object===!1)return X;return(Y=J[Z])!==null&&Y!==void 0?Y:X}function fV4(J,Z=0,X=J.byteLength-Z,Y=!1){let $="";for(let z of new Uint8Array(J,Z,X)){let W=z.toString(16).toUpperCase();if(W.length===1)$+="0";if($+=W,Y)$+=" "}return $.trim()}function kV4(J,Z,X,Y){if(!(Z instanceof ArrayBuffer))return J.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1;if(!Z.byteLength)return J.error="Wrong parameter: inputBuffer has zero length",!1;if(X<0)return J.error="Wrong parameter: inputOffset less than zero",!1;if(Y<0)return J.error="Wrong parameter: inputLength less than zero",!1;if(Z.byteLength-X-Y<0)return J.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1;return!0}function Cr(J,Z){let X=0;if(J.length===1)return J[0];for(let Y=J.length-1;Y>=0;Y--)X+=J[J.length-1-Y]*Math.pow(2,Z*Y);return X}function jr(J,Z,X=-1){let Y=X,$=J,z=0,W=Math.pow(2,Z);for(let Q=1;Q<8;Q++){if(J<W){let G;if(Y<0)G=new ArrayBuffer(Q),z=Q;else{if(Y<Q)return new ArrayBuffer(0);G=new ArrayBuffer(Y),z=Y}let K=new Uint8Array(G);for(let q=Q-1;q>=0;q--){let H=Math.pow(2,q*Z);K[z-q-1]=Math.floor($/H),$-=K[z-q-1]*H}return G}W*=Math.pow(2,Z)}return new ArrayBuffer(0)}function bV4(...J){let Z=0,X=0;for(let z of J)Z+=z.byteLength;let Y=new ArrayBuffer(Z),$=new Uint8Array(Y);for(let z of J)$.set(new Uint8Array(z),X),X+=z.byteLength;return Y}function hV4(...J){let Z=0,X=0;for(let z of J)Z+=z.length;let Y=new ArrayBuffer(Z),$=new Uint8Array(Y);for(let z of J)$.set(z,X),X+=z.length;return $}function _V4(){let J=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let Q=J[0]===255&&J[1]&128,G=J[0]===0&&(J[1]&128)===0;if(Q||G)this.warnings.push("Needlessly long format")}let Z=new ArrayBuffer(this.valueHex.byteLength),X=new Uint8Array(Z);for(let Q=0;Q<this.valueHex.byteLength;Q++)X[Q]=0;X[0]=J[0]&128;let Y=Cr(X,8),$=new ArrayBuffer(this.valueHex.byteLength),z=new Uint8Array($);for(let Q=0;Q<this.valueHex.byteLength;Q++)z[Q]=J[Q];return z[0]&=127,Cr(z,8)-Y}function yV4(J){let Z=J<0?J*-1:J,X=128;for(let Y=1;Y<8;Y++){if(Z<=X){if(J<0){let W=X-Z,Q=jr(W,8,Y),G=new Uint8Array(Q);return G[0]|=128,Q}let $=jr(Z,8,Y),z=new Uint8Array($);if(z[0]&128){let W=$.slice(0),Q=new Uint8Array(W);$=new ArrayBuffer($.byteLength+1),z=new Uint8Array($);for(let G=0;G<W.byteLength;G++)z[G+1]=Q[G];z[0]=0}return $}X*=Math.pow(2,8)}return new ArrayBuffer(0)}function vV4(J,Z){if(J.byteLength!==Z.byteLength)return!1;let X=new Uint8Array(J),Y=new Uint8Array(Z);for(let $=0;$<X.length;$++)if(X[$]!==Y[$])return!1;return!0}function xV4(J,Z){let X=J.toString(10);if(Z<X.length)return"";let Y=Z-X.length,$=new Array(Y);for(let W=0;W<Y;W++)$[W]="0";return $.join("").concat(X)}var jb1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Rb1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function gV4(J,Z=!1,X=!1,Y=!1){let $=0,z=0,W=0,Q="",G=Z?Rb1:jb1;if(Y){let K=0;for(let q=0;q<J.length;q++)if(J.charCodeAt(q)!==0){K=q;break}J=J.slice(K)}while($<J.length){let K=J.charCodeAt($++);if($>=J.length)z=1;let q=J.charCodeAt($++);if($>=J.length)W=1;let H=J.charCodeAt($++),F=K>>2,U=(K&3)<<4|q>>4,D=(q&15)<<2|H>>6,V=H&63;if(z===1)D=V=64;else if(W===1)V=64;if(X)if(D===64)Q+=`${G.charAt(F)}${G.charAt(U)}`;else if(V===64)Q+=`${G.charAt(F)}${G.charAt(U)}${G.charAt(D)}`;else Q+=`${G.charAt(F)}${G.charAt(U)}${G.charAt(D)}${G.charAt(V)}`;else Q+=`${G.charAt(F)}${G.charAt(U)}${G.charAt(D)}${G.charAt(V)}`}return Q}function dV4(J,Z=!1,X=!1){let Y=Z?Rb1:jb1;function $(G){for(let K=0;K<64;K++)if(Y.charAt(K)===G)return K;return 64}function z(G){return G===64?0:G}let W=0,Q="";while(W<J.length){let G=$(J.charAt(W++)),K=W>=J.length?0:$(J.charAt(W++)),q=W>=J.length?0:$(J.charAt(W++)),H=W>=J.length?0:$(J.charAt(W++)),F=z(G)<<2|z(K)>>4,U=(z(K)&15)<<4|z(q)>>2,D=(z(q)&3)<<6|z(H);if(Q+=String.fromCharCode(F),q!==64)Q+=String.fromCharCode(U);if(H!==64)Q+=String.fromCharCode(D)}if(X){let G=Q.length,K=-1;for(let q=G-1;q>=0;q--)if(Q.charCodeAt(q)!==0){K=q;break}if(K!==-1)Q=Q.slice(0,K+1);else Q=""}return Q}function uV4(J){let Z="",X=new Uint8Array(J);for(let Y of X)Z+=String.fromCharCode(Y);return Z}function mV4(J){let Z=J.length,X=new ArrayBuffer(Z),Y=new Uint8Array(X);for(let $=0;$<Z;$++)Y[$]=J.charCodeAt($);return X}var cV4=Math.log(2);function lV4(J){let Z=Math.log(J)/cV4,X=Math.floor(Z),Y=Math.round(Z);return X===Y?X:Y}function pV4(J,Z){for(let X of Z)delete J[X]}Eb1.arrayBufferToString=uV4;Eb1.bufferToHexCodes=fV4;Eb1.checkBufferParams=kV4;Eb1.clearProps=pV4;Eb1.fromBase64=dV4;Eb1.getParametersValue=TV4;Eb1.getUTCDate=SV4;Eb1.isEqualBuffer=vV4;Eb1.nearestPowerOf2=lV4;Eb1.padNumber=xV4;Eb1.stringToArrayBuffer=mV4;Eb1.toBase64=gV4;Eb1.utilConcatBuf=bV4;Eb1.utilConcatView=hV4;Eb1.utilDecodeTC=_V4;Eb1.utilEncodeTC=yV4;Eb1.utilFromBase=Cr;Eb1.utilToBase=jr});var NQ=B((jI4)=>{/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */var qI4=XF(),BI4=Sb1();function bb1(J){var Z=Object.create(null);if(J)Object.keys(J).forEach(function(X){if(X!=="default"){var Y=Object.getOwnPropertyDescriptor(J,X);Object.defineProperty(Z,X,Y.get?Y:{enumerable:!0,get:function(){return J[X]}})}});return Z.default=J,Object.freeze(Z)}var v6=bb1(qI4),S4=bb1(BI4);function bf(){if(typeof BigInt==="undefined")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function Er(J){let Z=0,X=0;for(let $=0;$<J.length;$++){let z=J[$];Z+=z.byteLength}let Y=new Uint8Array(Z);for(let $=0;$<J.length;$++){let z=J[$];Y.set(new Uint8Array(z),X),X+=z.byteLength}return Y.buffer}function AQ(J,Z,X,Y){if(!(Z instanceof Uint8Array))return J.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1;if(!Z.byteLength)return J.error="Wrong parameter: inputBuffer has zero length",!1;if(X<0)return J.error="Wrong parameter: inputOffset less than zero",!1;if(Y<0)return J.error="Wrong parameter: inputLength less than zero",!1;if(Z.byteLength-X-Y<0)return J.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1;return!0}class oN{constructor(){this.items=[]}write(J){this.items.push(J)}final(){return Er(this.items)}}var pN=[new Uint8Array([1])],Tb1="0123456789",Rr="name",fb1="valueHexView",HI4="isHexOnly",FI4="idBlock",UI4="tagClass",OI4="tagNumber",DI4="isConstructed",VI4="fromBER",II4="toBER",wI4="local",x7="",UY=new ArrayBuffer(0),vf=new Uint8Array(0),iN="EndOfContent",hb1="OCTET STRING",_b1="BIT STRING";function f$(J){var Z;return Z=class X extends J{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(Y){this.valueHexView=new Uint8Array(Y)}constructor(...Y){var $;super(...Y);let z=Y[0]||{};this.isHexOnly=($=z.isHexOnly)!==null&&$!==void 0?$:!1,this.valueHexView=z.valueHex?v6.BufferSourceConverter.toUint8Array(z.valueHex):vf}fromBER(Y,$,z){let W=Y instanceof ArrayBuffer?new Uint8Array(Y):Y;if(!AQ(this,W,$,z))return-1;let Q=$+z;if(this.valueHexView=W.subarray($,Q),!this.valueHexView.length)return this.warnings.push("Zero buffer length"),$;return this.blockLength=z,Q}toBER(Y=!1){if(!this.isHexOnly)return this.error="Flag 'isHexOnly' is not set, abort",UY;if(Y)return new ArrayBuffer(this.valueHexView.byteLength);return this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:v6.Convert.ToHex(this.valueHexView)}}},Z.NAME="hexBlock",Z}class X3{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(J){this.valueBeforeDecodeView=new Uint8Array(J)}constructor({blockLength:J=0,error:Z=x7,warnings:X=[],valueBeforeDecode:Y=vf}={}){this.blockLength=J,this.error=Z,this.warnings=X,this.valueBeforeDecodeView=v6.BufferSourceConverter.toUint8Array(Y)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:v6.Convert.ToHex(this.valueBeforeDecodeView)}}}X3.NAME="baseBlock";class y9 extends X3{fromBER(J,Z,X){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(J,Z){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}y9.NAME="valueBlock";class Sr extends f$(X3){constructor({idBlock:J={}}={}){var Z,X,Y,$;super();if(J)this.isHexOnly=(Z=J.isHexOnly)!==null&&Z!==void 0?Z:!1,this.valueHexView=J.valueHex?v6.BufferSourceConverter.toUint8Array(J.valueHex):vf,this.tagClass=(X=J.tagClass)!==null&&X!==void 0?X:-1,this.tagNumber=(Y=J.tagNumber)!==null&&Y!==void 0?Y:-1,this.isConstructed=($=J.isConstructed)!==null&&$!==void 0?$:!1;else this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1}toBER(J=!1){let Z=0;switch(this.tagClass){case 1:Z|=0;break;case 2:Z|=64;break;case 3:Z|=128;break;case 4:Z|=192;break;default:return this.error="Unknown tag class",UY}if(this.isConstructed)Z|=32;if(this.tagNumber<31&&!this.isHexOnly){let Y=new Uint8Array(1);if(!J){let $=this.tagNumber;$&=31,Z|=$,Y[0]=Z}return Y.buffer}if(!this.isHexOnly){let Y=S4.utilToBase(this.tagNumber,7),$=new Uint8Array(Y),z=Y.byteLength,W=new Uint8Array(z+1);if(W[0]=Z|31,!J){for(let Q=0;Q<z-1;Q++)W[Q+1]=$[Q]|128;W[z]=$[z-1]}return W.buffer}let X=new Uint8Array(this.valueHexView.byteLength+1);if(X[0]=Z|31,!J){let Y=this.valueHexView;for(let $=0;$<Y.length-1;$++)X[$+1]=Y[$]|128;X[this.valueHexView.byteLength]=Y[Y.length-1]}return X.buffer}fromBER(J,Z,X){let Y=v6.BufferSourceConverter.toUint8Array(J);if(!AQ(this,Y,Z,X))return-1;let $=Y.subarray(Z,Z+X);if($.length===0)return this.error="Zero buffer length",-1;switch($[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=($[0]&32)===32,this.isHexOnly=!1;let W=$[0]&31;if(W!==31)this.tagNumber=W,this.blockLength=1;else{let Q=1,G=this.valueHexView=new Uint8Array(255),K=255;while($[Q]&128){if(G[Q-1]=$[Q]&127,Q++,Q>=$.length)return this.error="End of input reached before message was fully decoded",-1;if(Q===K){K+=255;let H=new Uint8Array(K);for(let F=0;F<G.length;F++)H[F]=G[F];G=this.valueHexView=new Uint8Array(K)}}this.blockLength=Q+1,G[Q-1]=$[Q]&127;let q=new Uint8Array(Q);for(let H=0;H<Q;H++)q[H]=G[H];if(G=this.valueHexView=new Uint8Array(Q),G.set(q),this.blockLength<=9)this.tagNumber=S4.utilFromBase(G,7);else this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded")}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return Z+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}Sr.NAME="identificationBlock";class Tr extends X3{constructor({lenBlock:J={}}={}){var Z,X,Y;super();this.isIndefiniteForm=(Z=J.isIndefiniteForm)!==null&&Z!==void 0?Z:!1,this.longFormUsed=(X=J.longFormUsed)!==null&&X!==void 0?X:!1,this.length=(Y=J.length)!==null&&Y!==void 0?Y:0}fromBER(J,Z,X){let Y=v6.BufferSourceConverter.toUint8Array(J);if(!AQ(this,Y,Z,X))return-1;let $=Y.subarray(Z,Z+X);if($.length===0)return this.error="Zero buffer length",-1;if($[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=$[0]===128,this.isIndefiniteForm)return this.blockLength=1,Z+this.blockLength;if(this.longFormUsed=!!($[0]&128),this.longFormUsed===!1)return this.length=$[0],this.blockLength=1,Z+this.blockLength;let z=$[0]&127;if(z>8)return this.error="Too big integer",-1;if(z+1>$.length)return this.error="End of input reached before message was fully decoded",-1;let W=Z+1,Q=Y.subarray(W,W+z);if(Q[z-1]===0)this.warnings.push("Needlessly long encoded length");if(this.length=S4.utilFromBase(Q,8),this.longFormUsed&&this.length<=127)this.warnings.push("Unnecessary usage of long length form");return this.blockLength=z+1,Z+this.blockLength}toBER(J=!1){let Z,X;if(this.length>127)this.longFormUsed=!0;if(this.isIndefiniteForm){if(Z=new ArrayBuffer(1),J===!1)X=new Uint8Array(Z),X[0]=128;return Z}if(this.longFormUsed){let Y=S4.utilToBase(this.length,8);if(Y.byteLength>127)return this.error="Too big length",UY;if(Z=new ArrayBuffer(Y.byteLength+1),J)return Z;let $=new Uint8Array(Y);X=new Uint8Array(Z),X[0]=Y.byteLength|128;for(let z=0;z<Y.byteLength;z++)X[z+1]=$[z];return Z}if(Z=new ArrayBuffer(1),J===!1)X=new Uint8Array(Z),X[0]=this.length;return Z}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}Tr.NAME="lengthBlock";var i1={};class F9 extends X3{constructor({name:J=x7,optional:Z=!1,primitiveSchema:X,...Y}={},$){super(Y);if(this.name=J,this.optional=Z,X)this.primitiveSchema=X;this.idBlock=new Sr(Y),this.lenBlock=new Tr(Y),this.valueBlock=$?new $(Y):new y9(Y)}fromBER(J,Z,X){let Y=this.valueBlock.fromBER(J,Z,this.lenBlock.isIndefiniteForm?X:this.lenBlock.length);if(Y===-1)return this.error=this.valueBlock.error,Y;if(!this.idBlock.error.length)this.blockLength+=this.idBlock.blockLength;if(!this.lenBlock.error.length)this.blockLength+=this.lenBlock.blockLength;if(!this.valueBlock.error.length)this.blockLength+=this.valueBlock.blockLength;return Y}toBER(J,Z){let X=Z||new oN;if(!Z)yb1(this);let Y=this.idBlock.toBER(J);if(X.write(Y),this.lenBlock.isIndefiniteForm)X.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(J,X),X.write(new ArrayBuffer(2));else{let $=this.valueBlock.toBER(J);this.lenBlock.length=$.byteLength;let z=this.lenBlock.toBER(J);X.write(z),X.write($)}if(!Z)return X.final();return UY}toJSON(){let J={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};if(this.primitiveSchema)J.primitiveSchema=this.primitiveSchema.toJSON();return J}toString(J="ascii"){if(J==="ascii")return this.onAsciiEncoding();return v6.Convert.ToHex(this.toBER())}onAsciiEncoding(){let J=this.constructor.NAME,Z=v6.Convert.ToHex(this.valueBlock.valueBeforeDecodeView);return`${J} : ${Z}`}isEqual(J){if(this===J)return!0;if(!(J instanceof this.constructor))return!1;let Z=this.toBER(),X=J.toBER();return S4.isEqualBuffer(Z,X)}}F9.NAME="BaseBlock";function yb1(J){var Z;if(J instanceof i1.Constructed){for(let X of J.valueBlock.value)if(yb1(X))J.lenBlock.isIndefiniteForm=!0}return!!((Z=J.lenBlock)===null||Z===void 0?void 0:Z.isIndefiniteForm)}class xf extends F9{getValue(){return this.valueBlock.value}setValue(J){this.valueBlock.value=J}constructor({value:J=x7,...Z}={},X){super(Z,X);if(J)this.fromString(J)}fromBER(J,Z,X){let Y=this.valueBlock.fromBER(J,Z,this.lenBlock.isIndefiniteForm?X:this.lenBlock.length);if(Y===-1)return this.error=this.valueBlock.error,Y;if(this.fromBuffer(this.valueBlock.valueHexView),!this.idBlock.error.length)this.blockLength+=this.idBlock.blockLength;if(!this.lenBlock.error.length)this.blockLength+=this.lenBlock.blockLength;if(!this.valueBlock.error.length)this.blockLength+=this.valueBlock.blockLength;return Y}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}xf.NAME="BaseStringBlock";class fr extends f$(y9){constructor({isHexOnly:J=!0,...Z}={}){super(Z);this.isHexOnly=J}}fr.NAME="PrimitiveValueBlock";var vb1;class gf extends F9{constructor(J={}){super(J,fr);this.idBlock.isConstructed=!1}}vb1=gf;(()=>{i1.Primitive=vb1})();gf.NAME="PRIMITIVE";function AI4(J,Z){if(J instanceof Z)return J;let X=new Z;return X.idBlock=J.idBlock,X.lenBlock=J.lenBlock,X.warnings=J.warnings,X.valueBeforeDecodeView=J.valueBeforeDecodeView,X}function ZI(J,Z=0,X=J.length){let Y=Z,$=new F9({},y9),z=new X3;if(!AQ(z,J,Z,X))return $.error=z.error,{offset:-1,result:$};if(!J.subarray(Z,Z+X).length)return $.error="Zero buffer length",{offset:-1,result:$};let Q=$.idBlock.fromBER(J,Z,X);if($.idBlock.warnings.length)$.warnings.concat($.idBlock.warnings);if(Q===-1)return $.error=$.idBlock.error,{offset:-1,result:$};if(Z=Q,X-=$.idBlock.blockLength,Q=$.lenBlock.fromBER(J,Z,X),$.lenBlock.warnings.length)$.warnings.concat($.lenBlock.warnings);if(Q===-1)return $.error=$.lenBlock.error,{offset:-1,result:$};if(Z=Q,X-=$.lenBlock.blockLength,!$.idBlock.isConstructed&&$.lenBlock.isIndefiniteForm)return $.error="Indefinite length form used for primitive encoding form",{offset:-1,result:$};let G=F9;switch($.idBlock.tagClass){case 1:if($.idBlock.tagNumber>=37&&$.idBlock.isHexOnly===!1)return $.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:$};switch($.idBlock.tagNumber){case 0:if($.idBlock.isConstructed&&$.lenBlock.length>0)return $.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:$};G=i1.EndOfContent;break;case 1:G=i1.Boolean;break;case 2:G=i1.Integer;break;case 3:G=i1.BitString;break;case 4:G=i1.OctetString;break;case 5:G=i1.Null;break;case 6:G=i1.ObjectIdentifier;break;case 10:G=i1.Enumerated;break;case 12:G=i1.Utf8String;break;case 13:G=i1.RelativeObjectIdentifier;break;case 14:G=i1.TIME;break;case 15:return $.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:$};case 16:G=i1.Sequence;break;case 17:G=i1.Set;break;case 18:G=i1.NumericString;break;case 19:G=i1.PrintableString;break;case 20:G=i1.TeletexString;break;case 21:G=i1.VideotexString;break;case 22:G=i1.IA5String;break;case 23:G=i1.UTCTime;break;case 24:G=i1.GeneralizedTime;break;case 25:G=i1.GraphicString;break;case 26:G=i1.VisibleString;break;case 27:G=i1.GeneralString;break;case 28:G=i1.UniversalString;break;case 29:G=i1.CharacterString;break;case 30:G=i1.BmpString;break;case 31:G=i1.DATE;break;case 32:G=i1.TimeOfDay;break;case 33:G=i1.DateTime;break;case 34:G=i1.Duration;break;default:{let K=$.idBlock.isConstructed?new i1.Constructed:new i1.Primitive;K.idBlock=$.idBlock,K.lenBlock=$.lenBlock,K.warnings=$.warnings,$=K}}break;case 2:case 3:case 4:default:G=$.idBlock.isConstructed?i1.Constructed:i1.Primitive}return $=AI4($,G),Q=$.fromBER(J,Z,$.lenBlock.isIndefiniteForm?X:$.lenBlock.length),$.valueBeforeDecodeView=J.subarray(Y,Y+$.blockLength),{offset:Q,result:$}}function MI4(J){if(!J.byteLength){let Z=new F9({},y9);return Z.error="Input buffer has zero length",{offset:-1,result:Z}}return ZI(v6.BufferSourceConverter.toUint8Array(J).slice(),0,J.byteLength)}function NI4(J,Z){if(J)return 1;return Z}class wQ extends y9{constructor({value:J=[],isIndefiniteForm:Z=!1,...X}={}){super(X);this.value=J,this.isIndefiniteForm=Z}fromBER(J,Z,X){let Y=v6.BufferSourceConverter.toUint8Array(J);if(!AQ(this,Y,Z,X))return-1;if(this.valueBeforeDecodeView=Y.subarray(Z,Z+X),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),Z;let $=Z;while(NI4(this.isIndefiniteForm,X)>0){let z=ZI(Y,$,X);if(z.offset===-1)return this.error=z.result.error,this.warnings.concat(z.result.warnings),-1;if($=z.offset,this.blockLength+=z.result.blockLength,X-=z.result.blockLength,this.value.push(z.result),this.isIndefiniteForm&&z.result.constructor.NAME===iN)break}if(this.isIndefiniteForm)if(this.value[this.value.length-1].constructor.NAME===iN)this.value.pop();else this.warnings.push("No EndOfContent block encoded");return $}toBER(J,Z){let X=Z||new oN;for(let Y=0;Y<this.value.length;Y++)this.value[Y].toBER(J,X);if(!Z)return X.final();return UY}toJSON(){let J={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let Z of this.value)J.value.push(Z.toJSON());return J}}wQ.NAME="ConstructedValueBlock";var xb1;class Y3 extends F9{constructor(J={}){super(J,wQ);this.idBlock.isConstructed=!0}fromBER(J,Z,X){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let Y=this.valueBlock.fromBER(J,Z,this.lenBlock.isIndefiniteForm?X:this.lenBlock.length);if(Y===-1)return this.error=this.valueBlock.error,Y;if(!this.idBlock.error.length)this.blockLength+=this.idBlock.blockLength;if(!this.lenBlock.error.length)this.blockLength+=this.lenBlock.blockLength;if(!this.valueBlock.error.length)this.blockLength+=this.valueBlock.blockLength;return Y}onAsciiEncoding(){let J=[];for(let X of this.valueBlock.value)J.push(X.toString("ascii").split(`
`).map((Y)=>`  ${Y}`).join(`
`));let Z=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return J.length?`${Z} :
${J.join(`
`)}`:`${Z} :`}}xb1=Y3;(()=>{i1.Constructed=xb1})();Y3.NAME="CONSTRUCTED";class kr extends y9{fromBER(J,Z,X){return Z}toBER(J){return UY}}kr.override="EndOfContentValueBlock";var gb1;class df extends F9{constructor(J={}){super(J,kr);this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}gb1=df;(()=>{i1.EndOfContent=gb1})();df.NAME=iN;var db1;class uf extends F9{constructor(J={}){super(J,y9);this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(J,Z,X){if(this.lenBlock.length>0)this.warnings.push("Non-zero length of value block for Null type");if(!this.idBlock.error.length)this.blockLength+=this.idBlock.blockLength;if(!this.lenBlock.error.length)this.blockLength+=this.lenBlock.blockLength;if(this.blockLength+=X,Z+X>J.byteLength)return this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1;return Z+X}toBER(J,Z){let X=new ArrayBuffer(2);if(!J){let Y=new Uint8Array(X);Y[0]=5,Y[1]=0}if(Z)Z.write(X);return X}onAsciiEncoding(){return`${this.constructor.NAME}`}}db1=uf;(()=>{i1.Null=db1})();uf.NAME="NULL";class br extends f$(y9){get value(){for(let J of this.valueHexView)if(J>0)return!0;return!1}set value(J){this.valueHexView[0]=J?255:0}constructor({value:J,...Z}={}){super(Z);if(Z.valueHex)this.valueHexView=v6.BufferSourceConverter.toUint8Array(Z.valueHex);else this.valueHexView=new Uint8Array(1);if(J)this.value=J}fromBER(J,Z,X){let Y=v6.BufferSourceConverter.toUint8Array(J);if(!AQ(this,Y,Z,X))return-1;if(this.valueHexView=Y.subarray(Z,Z+X),X>1)this.warnings.push("Boolean value encoded in more then 1 octet");return this.isHexOnly=!0,S4.utilDecodeTC.call(this),this.blockLength=X,Z+X}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}br.NAME="BooleanValueBlock";var ub1;class mf extends F9{getValue(){return this.valueBlock.value}setValue(J){this.valueBlock.value=J}constructor(J={}){super(J,br);this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}ub1=mf;(()=>{i1.Boolean=ub1})();mf.NAME="BOOLEAN";class hr extends f$(wQ){constructor({isConstructed:J=!1,...Z}={}){super(Z);this.isConstructed=J}fromBER(J,Z,X){let Y=0;if(this.isConstructed){if(this.isHexOnly=!1,Y=wQ.prototype.fromBER.call(this,J,Z,X),Y===-1)return Y;for(let $=0;$<this.value.length;$++){let z=this.value[$].constructor.NAME;if(z===iN)if(this.isIndefiniteForm)break;else return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1;if(z!==hb1)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,Y=super.fromBER(J,Z,X),this.blockLength=X;return Y}toBER(J,Z){if(this.isConstructed)return wQ.prototype.toBER.call(this,J,Z);return J?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}hr.NAME="OctetStringValueBlock";var _r;class cf extends F9{constructor({idBlock:J={},lenBlock:Z={},...X}={}){var Y,$;(Y=X.isConstructed)!==null&&Y!==void 0||(X.isConstructed=!!(($=X.value)===null||$===void 0?void 0:$.length));super({idBlock:{isConstructed:X.isConstructed,...J},lenBlock:{...Z,isIndefiniteForm:!!X.isIndefiniteForm},...X},hr);this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(J,Z,X){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,X===0){if(this.idBlock.error.length===0)this.blockLength+=this.idBlock.blockLength;if(this.lenBlock.error.length===0)this.blockLength+=this.lenBlock.blockLength;return Z}if(!this.valueBlock.isConstructed){let $=(J instanceof ArrayBuffer?new Uint8Array(J):J).subarray(Z,Z+X);try{if($.byteLength){let z=ZI($,0,$.byteLength);if(z.offset!==-1&&z.offset===X)this.valueBlock.value=[z.result]}}catch{}}return super.fromBER(J,Z,X)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Y3.prototype.onAsciiEncoding.call(this);let J=this.constructor.NAME,Z=v6.Convert.ToHex(this.valueBlock.valueHexView);return`${J} : ${Z}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let J=[];for(let Z of this.valueBlock.value)if(Z instanceof _r)J.push(Z.valueBlock.valueHexView);return v6.BufferSourceConverter.concat(J)}}_r=cf;(()=>{i1.OctetString=_r})();cf.NAME=hb1;class yr extends f$(wQ){constructor({unusedBits:J=0,isConstructed:Z=!1,...X}={}){super(X);this.unusedBits=J,this.isConstructed=Z,this.blockLength=this.valueHexView.byteLength}fromBER(J,Z,X){if(!X)return Z;let Y=-1;if(this.isConstructed){if(Y=wQ.prototype.fromBER.call(this,J,Z,X),Y===-1)return Y;for(let W of this.value){let Q=W.constructor.NAME;if(Q===iN)if(this.isIndefiniteForm)break;else return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1;if(Q!==_b1)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let G=W.valueBlock;if(this.unusedBits>0&&G.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=G.unusedBits}return Y}let $=v6.BufferSourceConverter.toUint8Array(J);if(!AQ(this,$,Z,X))return-1;let z=$.subarray(Z,Z+X);if(this.unusedBits=z[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let W=z.subarray(1);try{if(W.byteLength){let Q=ZI(W,0,W.byteLength);if(Q.offset!==-1&&Q.offset===X-1)this.value=[Q.result]}}catch{}}return this.valueHexView=z.subarray(1),this.blockLength=z.length,Z+X}toBER(J,Z){if(this.isConstructed)return wQ.prototype.toBER.call(this,J,Z);if(J)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return UY;let X=new Uint8Array(this.valueHexView.length+1);return X[0]=this.unusedBits,X.set(this.valueHexView,1),X.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}yr.NAME="BitStringValueBlock";var mb1;class lf extends F9{constructor({idBlock:J={},lenBlock:Z={},...X}={}){var Y,$;(Y=X.isConstructed)!==null&&Y!==void 0||(X.isConstructed=!!(($=X.value)===null||$===void 0?void 0:$.length));super({idBlock:{isConstructed:X.isConstructed,...J},lenBlock:{...Z,isIndefiniteForm:!!X.isIndefiniteForm},...X},yr);this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(J,Z,X){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(J,Z,X)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Y3.prototype.onAsciiEncoding.call(this);else{let J=[],Z=this.valueBlock.valueHexView;for(let z of Z)J.push(z.toString(2).padStart(8,"0"));let X=J.join(""),Y=this.constructor.NAME,$=X.substring(0,X.length-this.valueBlock.unusedBits);return`${Y} : ${$}`}}}mb1=lf;(()=>{i1.BitString=mb1})();lf.NAME=_b1;var cb1;function PI4(J,Z){let X=new Uint8Array([0]),Y=new Uint8Array(J),$=new Uint8Array(Z),z=Y.slice(0),W=z.length-1,Q=$.slice(0),G=Q.length-1,K=0,q=G<W?W:G,H=0;for(let F=q;F>=0;F--,H++){switch(!0){case H<Q.length:K=z[W-H]+Q[G-H]+X[0];break;default:K=z[W-H]+X[0]}switch(X[0]=K/10,!0){case H>=z.length:z=S4.utilConcatView(new Uint8Array([K%10]),z);break;default:z[W-H]=K%10}}if(X[0]>0)z=S4.utilConcatView(X,z);return z}function kb1(J){if(J>=pN.length)for(let Z=pN.length;Z<=J;Z++){let X=new Uint8Array([0]),Y=pN[Z-1].slice(0);for(let $=Y.length-1;$>=0;$--){let z=new Uint8Array([(Y[$]<<1)+X[0]]);X[0]=z[0]/10,Y[$]=z[0]%10}if(X[0]>0)Y=S4.utilConcatView(X,Y);pN.push(Y)}return pN[J]}function LI4(J,Z){let X=0,Y=new Uint8Array(J),$=new Uint8Array(Z),z=Y.slice(0),W=z.length-1,Q=$.slice(0),G=Q.length-1,K,q=0;for(let H=G;H>=0;H--,q++)switch(K=z[W-q]-Q[G-q]-X,!0){case K<0:X=1,z[W-q]=K+10;break;default:X=0,z[W-q]=K}if(X>0)for(let H=W-G+1;H>=0;H--,q++)if(K=z[W-q]-X,K<0)X=1,z[W-q]=K+10;else{X=0,z[W-q]=K;break}return z.slice()}class pf extends f$(y9){setValueHex(){if(this.valueHexView.length>=4)this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0;else if(this.isHexOnly=!1,this.valueHexView.length>0)this._valueDec=S4.utilDecodeTC.call(this)}constructor({value:J,...Z}={}){super(Z);if(this._valueDec=0,Z.valueHex)this.setValueHex();if(J!==void 0)this.valueDec=J}set valueDec(J){this._valueDec=J,this.isHexOnly=!1,this.valueHexView=new Uint8Array(S4.utilEncodeTC(J))}get valueDec(){return this._valueDec}fromDER(J,Z,X,Y=0){let $=this.fromBER(J,Z,X);if($===-1)return $;let z=this.valueHexView;if(z[0]===0&&(z[1]&128)!==0)this.valueHexView=z.subarray(1);else if(Y!==0){if(z.length<Y){if(Y-z.length>1)Y=z.length+1;this.valueHexView=z.subarray(Y-z.length)}}return $}toDER(J=!1){let Z=this.valueHexView;switch(!0){case(Z[0]&128)!==0:{let X=new Uint8Array(this.valueHexView.length+1);X[0]=0,X.set(Z,1),this.valueHexView=X}break;case(Z[0]===0&&(Z[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(J)}fromBER(J,Z,X){let Y=super.fromBER(J,Z,X);if(Y===-1)return Y;return this.setValueHex(),Y}toBER(J){return J?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let J=this.valueHexView.length*8-1,Z=new Uint8Array(this.valueHexView.length*8/3),X=0,Y,$=this.valueHexView,z="",W=!1;for(let Q=$.byteLength-1;Q>=0;Q--){Y=$[Q];for(let G=0;G<8;G++){if((Y&1)===1)switch(X){case J:Z=LI4(kb1(X),Z),z="-";break;default:Z=PI4(Z,kb1(X))}X++,Y>>=1}}for(let Q=0;Q<Z.length;Q++){if(Z[Q])W=!0;if(W)z+=Tb1.charAt(Z[Q])}if(W===!1)z+=Tb1.charAt(0);return z}}cb1=pf;pf.NAME="IntegerValueBlock";(()=>{Object.defineProperty(cb1.prototype,"valueHex",{set:function(J){this.valueHexView=new Uint8Array(J),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}})})();var nN;class sN extends F9{constructor(J={}){super(J,pf);this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return bf(),BigInt(this.valueBlock.toString())}static fromBigInt(J){bf();let Z=BigInt(J),X=new oN,Y=Z.toString(16).replace(/^-/,""),$=new Uint8Array(v6.Convert.FromHex(Y));if(Z<0){let W=new Uint8Array($.length+($[0]&128?1:0));W[0]|=128;let G=BigInt(`0x${v6.Convert.ToHex(W)}`)+Z,K=v6.BufferSourceConverter.toUint8Array(v6.Convert.FromHex(G.toString(16)));K[0]|=128,X.write(K)}else{if($[0]&128)X.write(new Uint8Array([0]));X.write($)}return new nN({valueHex:X.final()})}convertToDER(){let J=new nN({valueHex:this.valueBlock.valueHexView});return J.valueBlock.toDER(),J}convertFromDER(){return new nN({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}nN=sN;(()=>{i1.Integer=nN})();sN.NAME="INTEGER";var lb1;class nf extends sN{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}lb1=nf;(()=>{i1.Enumerated=lb1})();nf.NAME="ENUMERATED";class hf extends f$(y9){constructor({valueDec:J=-1,isFirstSid:Z=!1,...X}={}){super(X);this.valueDec=J,this.isFirstSid=Z}fromBER(J,Z,X){if(!X)return Z;let Y=v6.BufferSourceConverter.toUint8Array(J);if(!AQ(this,Y,Z,X))return-1;let $=Y.subarray(Z,Z+X);this.valueHexView=new Uint8Array(X);for(let W=0;W<X;W++)if(this.valueHexView[W]=$[W]&127,this.blockLength++,($[W]&128)===0)break;let z=new Uint8Array(this.blockLength);for(let W=0;W<this.blockLength;W++)z[W]=this.valueHexView[W];if(this.valueHexView=z,($[this.blockLength-1]&128)!==0)return this.error="End of input reached before message was fully decoded",-1;if(this.valueHexView[0]===0)this.warnings.push("Needlessly long format of SID encoding");if(this.blockLength<=8)this.valueDec=S4.utilFromBase(this.valueHexView,7);else this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only");return Z+this.blockLength}set valueBigInt(J){bf();let Z=BigInt(J).toString(2);while(Z.length%7)Z="0"+Z;let X=new Uint8Array(Z.length/7);for(let Y=0;Y<X.length;Y++)X[Y]=parseInt(Z.slice(Y*7,Y*7+7),2)+(Y+1<X.length?128:0);this.fromBER(X.buffer,0,X.length)}toBER(J){if(this.isHexOnly){if(J)return new ArrayBuffer(this.valueHexView.byteLength);let Y=this.valueHexView,$=new Uint8Array(this.blockLength);for(let z=0;z<this.blockLength-1;z++)$[z]=Y[z]|128;return $[this.blockLength-1]=Y[this.blockLength-1],$.buffer}let Z=S4.utilToBase(this.valueDec,7);if(Z.byteLength===0)return this.error="Error during encoding SID value",UY;let X=new Uint8Array(Z.byteLength);if(!J){let Y=new Uint8Array(Z),$=Z.byteLength-1;for(let z=0;z<$;z++)X[z]=Y[z]|128;X[$]=Y[$]}return X}toString(){let J="";if(this.isHexOnly)J=v6.Convert.ToHex(this.valueHexView);else if(this.isFirstSid){let Z=this.valueDec;if(this.valueDec<=39)J="0.";else if(this.valueDec<=79)J="1.",Z-=40;else J="2.",Z-=80;J+=Z.toString()}else J=this.valueDec.toString();return J}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}hf.NAME="sidBlock";class vr extends y9{constructor({value:J=x7,...Z}={}){super(Z);if(this.value=[],J)this.fromString(J)}fromBER(J,Z,X){let Y=Z;while(X>0){let $=new hf;if(Y=$.fromBER(J,Y,X),Y===-1)return this.blockLength=0,this.error=$.error,Y;if(this.value.length===0)$.isFirstSid=!0;this.blockLength+=$.blockLength,X-=$.blockLength,this.value.push($)}return Y}toBER(J){let Z=[];for(let X=0;X<this.value.length;X++){let Y=this.value[X].toBER(J);if(Y.byteLength===0)return this.error=this.value[X].error,UY;Z.push(Y)}return Er(Z)}fromString(J){this.value=[];let Z=0,X=0,Y="",$=!1;do{if(X=J.indexOf(".",Z),X===-1)Y=J.substring(Z);else Y=J.substring(Z,X);if(Z=X+1,$){let z=this.value[0],W=0;switch(z.valueDec){case 0:break;case 1:W=40;break;case 2:W=80;break;default:this.value=[];return}let Q=parseInt(Y,10);if(isNaN(Q))return;z.valueDec=Q+W,$=!1}else{let z=new hf;if(Y>Number.MAX_SAFE_INTEGER){bf();let W=BigInt(Y);z.valueBigInt=W}else if(z.valueDec=parseInt(Y,10),isNaN(z.valueDec))return;if(!this.value.length)z.isFirstSid=!0,$=!0;this.value.push(z)}}while(X!==-1)}toString(){let J="",Z=!1;for(let X=0;X<this.value.length;X++){Z=this.value[X].isHexOnly;let Y=this.value[X].toString();if(X!==0)J=`${J}.`;if(Z)if(Y=`{${Y}}`,this.value[X].isFirstSid)J=`2.{${Y} - 80}`;else J+=Y;else J+=Y}return J}toJSON(){let J={...super.toJSON(),value:this.toString(),sidArray:[]};for(let Z=0;Z<this.value.length;Z++)J.sidArray.push(this.value[Z].toJSON());return J}}vr.NAME="ObjectIdentifierValueBlock";var pb1;class of extends F9{getValue(){return this.valueBlock.toString()}setValue(J){this.valueBlock.fromString(J)}constructor(J={}){super(J,vr);this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}pb1=of;(()=>{i1.ObjectIdentifier=pb1})();of.NAME="OBJECT IDENTIFIER";class _f extends f$(X3){constructor({valueDec:J=0,...Z}={}){super(Z);this.valueDec=J}fromBER(J,Z,X){if(X===0)return Z;let Y=v6.BufferSourceConverter.toUint8Array(J);if(!AQ(this,Y,Z,X))return-1;let $=Y.subarray(Z,Z+X);this.valueHexView=new Uint8Array(X);for(let W=0;W<X;W++)if(this.valueHexView[W]=$[W]&127,this.blockLength++,($[W]&128)===0)break;let z=new Uint8Array(this.blockLength);for(let W=0;W<this.blockLength;W++)z[W]=this.valueHexView[W];if(this.valueHexView=z,($[this.blockLength-1]&128)!==0)return this.error="End of input reached before message was fully decoded",-1;if(this.valueHexView[0]===0)this.warnings.push("Needlessly long format of SID encoding");if(this.blockLength<=8)this.valueDec=S4.utilFromBase(this.valueHexView,7);else this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only");return Z+this.blockLength}toBER(J){if(this.isHexOnly){if(J)return new ArrayBuffer(this.valueHexView.byteLength);let Y=this.valueHexView,$=new Uint8Array(this.blockLength);for(let z=0;z<this.blockLength-1;z++)$[z]=Y[z]|128;return $[this.blockLength-1]=Y[this.blockLength-1],$.buffer}let Z=S4.utilToBase(this.valueDec,7);if(Z.byteLength===0)return this.error="Error during encoding SID value",UY;let X=new Uint8Array(Z.byteLength);if(!J){let Y=new Uint8Array(Z),$=Z.byteLength-1;for(let z=0;z<$;z++)X[z]=Y[z]|128;X[$]=Y[$]}return X.buffer}toString(){let J="";if(this.isHexOnly)J=v6.Convert.ToHex(this.valueHexView);else J=this.valueDec.toString();return J}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}_f.NAME="relativeSidBlock";class xr extends y9{constructor({value:J=x7,...Z}={}){super(Z);if(this.value=[],J)this.fromString(J)}fromBER(J,Z,X){let Y=Z;while(X>0){let $=new _f;if(Y=$.fromBER(J,Y,X),Y===-1)return this.blockLength=0,this.error=$.error,Y;this.blockLength+=$.blockLength,X-=$.blockLength,this.value.push($)}return Y}toBER(J,Z){let X=[];for(let Y=0;Y<this.value.length;Y++){let $=this.value[Y].toBER(J);if($.byteLength===0)return this.error=this.value[Y].error,UY;X.push($)}return Er(X)}fromString(J){this.value=[];let Z=0,X=0,Y="";do{if(X=J.indexOf(".",Z),X===-1)Y=J.substring(Z);else Y=J.substring(Z,X);Z=X+1;let $=new _f;if($.valueDec=parseInt(Y,10),isNaN($.valueDec))return!0;this.value.push($)}while(X!==-1);return!0}toString(){let J="",Z=!1;for(let X=0;X<this.value.length;X++){Z=this.value[X].isHexOnly;let Y=this.value[X].toString();if(X!==0)J=`${J}.`;if(Z)Y=`{${Y}}`,J+=Y;else J+=Y}return J}toJSON(){let J={...super.toJSON(),value:this.toString(),sidArray:[]};for(let Z=0;Z<this.value.length;Z++)J.sidArray.push(this.value[Z].toJSON());return J}}xr.NAME="RelativeObjectIdentifierValueBlock";var nb1;class sf extends F9{getValue(){return this.valueBlock.toString()}setValue(J){this.valueBlock.fromString(J)}constructor(J={}){super(J,xr);this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}nb1=sf;(()=>{i1.RelativeObjectIdentifier=nb1})();sf.NAME="RelativeObjectIdentifier";var ib1;class af extends Y3{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}ib1=af;(()=>{i1.Sequence=ib1})();af.NAME="SEQUENCE";var ob1;class rf extends Y3{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}ob1=rf;(()=>{i1.Set=ob1})();rf.NAME="SET";class gr extends f$(y9){constructor({...J}={}){super(J);this.isHexOnly=!0,this.value=x7}toJSON(){return{...super.toJSON(),value:this.value}}}gr.NAME="StringValueBlock";class dr extends gr{}dr.NAME="SimpleStringValueBlock";class g7 extends xf{constructor({...J}={}){super(J,dr)}fromBuffer(J){this.valueBlock.value=String.fromCharCode.apply(null,v6.BufferSourceConverter.toUint8Array(J))}fromString(J){let Z=J.length,X=this.valueBlock.valueHexView=new Uint8Array(Z);for(let Y=0;Y<Z;Y++)X[Y]=J.charCodeAt(Y);this.valueBlock.value=J}}g7.NAME="SIMPLE STRING";class ur extends g7{fromBuffer(J){this.valueBlock.valueHexView=v6.BufferSourceConverter.toUint8Array(J);try{this.valueBlock.value=v6.Convert.ToUtf8String(J)}catch(Z){this.warnings.push(`Error during "decodeURIComponent": ${Z}, using raw string`),this.valueBlock.value=v6.Convert.ToBinary(J)}}fromString(J){this.valueBlock.valueHexView=new Uint8Array(v6.Convert.FromUtf8String(J)),this.valueBlock.value=J}}ur.NAME="Utf8StringValueBlock";var sb1;class MQ extends ur{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}sb1=MQ;(()=>{i1.Utf8String=sb1})();MQ.NAME="UTF8String";class mr extends g7{fromBuffer(J){this.valueBlock.value=v6.Convert.ToUtf16String(J),this.valueBlock.valueHexView=v6.BufferSourceConverter.toUint8Array(J)}fromString(J){this.valueBlock.value=J,this.valueBlock.valueHexView=new Uint8Array(v6.Convert.FromUtf16String(J))}}mr.NAME="BmpStringValueBlock";var ab1;class tf extends mr{constructor({...J}={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}ab1=tf;(()=>{i1.BmpString=ab1})();tf.NAME="BMPString";class cr extends g7{fromBuffer(J){let Z=ArrayBuffer.isView(J)?J.slice().buffer:J.slice(0),X=new Uint8Array(Z);for(let Y=0;Y<X.length;Y+=4)X[Y]=X[Y+3],X[Y+1]=X[Y+2],X[Y+2]=0,X[Y+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(Z))}fromString(J){let Z=J.length,X=this.valueBlock.valueHexView=new Uint8Array(Z*4);for(let Y=0;Y<Z;Y++){let $=S4.utilToBase(J.charCodeAt(Y),8),z=new Uint8Array($);if(z.length>4)continue;let W=4-z.length;for(let Q=z.length-1;Q>=0;Q--)X[Y*4+Q+W]=z[Q]}this.valueBlock.value=J}}cr.NAME="UniversalStringValueBlock";var rb1;class ef extends cr{constructor({...J}={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}rb1=ef;(()=>{i1.UniversalString=rb1})();ef.NAME="UniversalString";var tb1;class Jk extends g7{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}tb1=Jk;(()=>{i1.NumericString=tb1})();Jk.NAME="NumericString";var eb1;class Zk extends g7{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}eb1=Zk;(()=>{i1.PrintableString=eb1})();Zk.NAME="PrintableString";var Jh1;class Xk extends g7{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}Jh1=Xk;(()=>{i1.TeletexString=Jh1})();Xk.NAME="TeletexString";var Zh1;class Yk extends g7{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}Zh1=Yk;(()=>{i1.VideotexString=Zh1})();Yk.NAME="VideotexString";var Xh1;class $k extends g7{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}Xh1=$k;(()=>{i1.IA5String=Xh1})();$k.NAME="IA5String";var Yh1;class zk extends g7{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}Yh1=zk;(()=>{i1.GraphicString=Yh1})();zk.NAME="GraphicString";var $h1;class aN extends g7{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}$h1=aN;(()=>{i1.VisibleString=$h1})();aN.NAME="VisibleString";var zh1;class Wk extends g7{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}zh1=Wk;(()=>{i1.GeneralString=zh1})();Wk.NAME="GeneralString";var Wh1;class Qk extends g7{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}Wh1=Qk;(()=>{i1.CharacterString=Wh1})();Qk.NAME="CharacterString";var Qh1;class rN extends aN{constructor({value:J,valueDate:Z,...X}={}){super(X);if(this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,J){this.fromString(J),this.valueBlock.valueHexView=new Uint8Array(J.length);for(let Y=0;Y<J.length;Y++)this.valueBlock.valueHexView[Y]=J.charCodeAt(Y)}if(Z)this.fromDate(Z),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer());this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(J){this.fromString(String.fromCharCode.apply(null,v6.BufferSourceConverter.toUint8Array(J)))}toBuffer(){let J=this.toString(),Z=new ArrayBuffer(J.length),X=new Uint8Array(Z);for(let Y=0;Y<J.length;Y++)X[Y]=J.charCodeAt(Y);return Z}fromDate(J){this.year=J.getUTCFullYear(),this.month=J.getUTCMonth()+1,this.day=J.getUTCDate(),this.hour=J.getUTCHours(),this.minute=J.getUTCMinutes(),this.second=J.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(J){let X=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(J);if(X===null){this.error="Wrong input string for conversion";return}let Y=parseInt(X[1],10);if(Y>=50)this.year=1900+Y;else this.year=2000+Y;this.month=parseInt(X[2],10),this.day=parseInt(X[3],10),this.hour=parseInt(X[4],10),this.minute=parseInt(X[5],10),this.second=parseInt(X[6],10)}toString(J="iso"){if(J==="iso"){let Z=new Array(7);return Z[0]=S4.padNumber(this.year<2000?this.year-1900:this.year-2000,2),Z[1]=S4.padNumber(this.month,2),Z[2]=S4.padNumber(this.day,2),Z[3]=S4.padNumber(this.hour,2),Z[4]=S4.padNumber(this.minute,2),Z[5]=S4.padNumber(this.second,2),Z[6]="Z",Z.join("")}return super.toString(J)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}Qh1=rN;(()=>{i1.UTCTime=Qh1})();rN.NAME="UTCTime";var Gh1;class Gk extends rN{constructor(J={}){var Z;super(J);(Z=this.millisecond)!==null&&Z!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(J){super.fromDate(J),this.millisecond=J.getUTCMilliseconds()}toDate(){let J=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(J)}fromString(J){let Z=!1,X="",Y="",$=0,z,W=0,Q=0;if(J[J.length-1]==="Z")X=J.substring(0,J.length-1),Z=!0;else{let q=new Number(J[J.length-1]);if(isNaN(q.valueOf()))throw new Error("Wrong input string for conversion");X=J}if(Z){if(X.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(X.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let q=1,H=X.indexOf("+"),F="";if(H===-1)H=X.indexOf("-"),q=-1;if(H!==-1){if(F=X.substring(H+1),X=X.substring(0,H),F.length!==2&&F.length!==4)throw new Error("Wrong input string for conversion");let U=parseInt(F.substring(0,2),10);if(isNaN(U.valueOf()))throw new Error("Wrong input string for conversion");if(W=q*U,F.length===4){if(U=parseInt(F.substring(2,4),10),isNaN(U.valueOf()))throw new Error("Wrong input string for conversion");Q=q*U}}}let G=X.indexOf(".");if(G===-1)G=X.indexOf(",");if(G!==-1){let q=new Number(`0${X.substring(G)}`);if(isNaN(q.valueOf()))throw new Error("Wrong input string for conversion");$=q.valueOf(),Y=X.substring(0,G)}else Y=X;switch(!0){case Y.length===8:if(z=/(\d{4})(\d{2})(\d{2})/ig,G!==-1)throw new Error("Wrong input string for conversion");break;case Y.length===10:if(z=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,G!==-1){let q=60*$;this.minute=Math.floor(q),q=60*(q-this.minute),this.second=Math.floor(q),q=1000*(q-this.second),this.millisecond=Math.floor(q)}break;case Y.length===12:if(z=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,G!==-1){let q=60*$;this.second=Math.floor(q),q=1000*(q-this.second),this.millisecond=Math.floor(q)}break;case Y.length===14:if(z=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,G!==-1){let q=1000*$;this.millisecond=Math.floor(q)}break;default:throw new Error("Wrong input string for conversion")}let K=z.exec(Y);if(K===null)throw new Error("Wrong input string for conversion");for(let q=1;q<K.length;q++)switch(q){case 1:this.year=parseInt(K[q],10);break;case 2:this.month=parseInt(K[q],10);break;case 3:this.day=parseInt(K[q],10);break;case 4:this.hour=parseInt(K[q],10)+W;break;case 5:this.minute=parseInt(K[q],10)+Q;break;case 6:this.second=parseInt(K[q],10);break;default:throw new Error("Wrong input string for conversion")}if(Z===!1){let q=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=q.getUTCFullYear(),this.month=q.getUTCMonth(),this.day=q.getUTCDay(),this.hour=q.getUTCHours(),this.minute=q.getUTCMinutes(),this.second=q.getUTCSeconds(),this.millisecond=q.getUTCMilliseconds()}}toString(J="iso"){if(J==="iso"){let Z=[];if(Z.push(S4.padNumber(this.year,4)),Z.push(S4.padNumber(this.month,2)),Z.push(S4.padNumber(this.day,2)),Z.push(S4.padNumber(this.hour,2)),Z.push(S4.padNumber(this.minute,2)),Z.push(S4.padNumber(this.second,2)),this.millisecond!==0)Z.push("."),Z.push(S4.padNumber(this.millisecond,3));return Z.push("Z"),Z.join("")}return super.toString(J)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}Gh1=Gk;(()=>{i1.GeneralizedTime=Gh1})();Gk.NAME="GeneralizedTime";var Kh1;class Kk extends MQ{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}Kh1=Kk;(()=>{i1.DATE=Kh1})();Kk.NAME="DATE";var qh1;class qk extends MQ{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}qh1=qk;(()=>{i1.TimeOfDay=qh1})();qk.NAME="TimeOfDay";var Bh1;class Bk extends MQ{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}Bh1=Bk;(()=>{i1.DateTime=Bh1})();Bk.NAME="DateTime";var Hh1;class Hk extends MQ{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}Hh1=Hk;(()=>{i1.Duration=Hh1})();Hk.NAME="Duration";var Fh1;class Fk extends MQ{constructor(J={}){super(J);this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}Fh1=Fk;(()=>{i1.TIME=Fh1})();Fk.NAME="TIME";class JI{constructor({name:J=x7,optional:Z=!1}={}){this.name=J,this.optional=Z}}class lr extends JI{constructor({value:J=[],...Z}={}){super(Z);this.value=J}}class yf extends JI{constructor({value:J=new JI,local:Z=!1,...X}={}){super(X);this.value=J,this.local=Z}}class Uh1{get data(){return this.dataView.slice().buffer}set data(J){this.dataView=v6.BufferSourceConverter.toUint8Array(J)}constructor({data:J=vf}={}){this.dataView=v6.BufferSourceConverter.toUint8Array(J)}fromBER(J,Z,X){let Y=Z+X;return this.dataView=v6.BufferSourceConverter.toUint8Array(J).subarray(Z,Y),Y}toBER(J){return this.dataView.slice().buffer}}function eV(J,Z,X){if(X instanceof lr){for(let z of X.value)if(eV(J,Z,z).verified)return{verified:!0,result:J};{let z={verified:!1,result:{error:"Wrong values for Choice type"}};if(X.hasOwnProperty(Rr))z.name=X.name;return z}}if(X instanceof JI){if(X.hasOwnProperty(Rr))J[X.name]=Z;return{verified:!0,result:J}}if(J instanceof Object===!1)return{verified:!1,result:{error:"Wrong root object"}};if(Z instanceof Object===!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(X instanceof Object===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(FI4 in X===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(VI4 in X.idBlock===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(II4 in X.idBlock===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let Y=X.idBlock.toBER(!1);if(Y.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(X.idBlock.fromBER(Y,0,Y.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(X.idBlock.hasOwnProperty(UI4)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(X.idBlock.tagClass!==Z.idBlock.tagClass)return{verified:!1,result:J};if(X.idBlock.hasOwnProperty(OI4)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(X.idBlock.tagNumber!==Z.idBlock.tagNumber)return{verified:!1,result:J};if(X.idBlock.hasOwnProperty(DI4)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(X.idBlock.isConstructed!==Z.idBlock.isConstructed)return{verified:!1,result:J};if(!(HI4 in X.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(X.idBlock.isHexOnly!==Z.idBlock.isHexOnly)return{verified:!1,result:J};if(X.idBlock.isHexOnly){if(fb1 in X.idBlock===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let z=X.idBlock.valueHexView,W=Z.idBlock.valueHexView;if(z.length!==W.length)return{verified:!1,result:J};for(let Q=0;Q<z.length;Q++)if(z[Q]!==W[1])return{verified:!1,result:J}}if(X.name){if(X.name=X.name.replace(/^\s+|\s+$/g,x7),X.name)J[X.name]=Z}if(X instanceof i1.Constructed){let z=0,W={verified:!1,result:{error:"Unknown error"}},Q=X.valueBlock.value.length;if(Q>0){if(X.valueBlock.value[0]instanceof yf)Q=Z.valueBlock.value.length}if(Q===0)return{verified:!0,result:J};if(Z.valueBlock.value.length===0&&X.valueBlock.value.length!==0){let G=!0;for(let K=0;K<X.valueBlock.value.length;K++)G=G&&(X.valueBlock.value[K].optional||!1);if(G)return{verified:!0,result:J};if(X.name){if(X.name=X.name.replace(/^\s+|\s+$/g,x7),X.name)delete J[X.name]}return J.error="Inconsistent object length",{verified:!1,result:J}}for(let G=0;G<Q;G++)if(G-z>=Z.valueBlock.value.length){if(X.valueBlock.value[G].optional===!1){let K={verified:!1,result:J};if(J.error="Inconsistent length between ASN.1 data and schema",X.name){if(X.name=X.name.replace(/^\s+|\s+$/g,x7),X.name)delete J[X.name],K.name=X.name}return K}}else if(X.valueBlock.value[0]instanceof yf){if(W=eV(J,Z.valueBlock.value[G],X.valueBlock.value[0].value),W.verified===!1)if(X.valueBlock.value[0].optional)z++;else{if(X.name){if(X.name=X.name.replace(/^\s+|\s+$/g,x7),X.name)delete J[X.name]}return W}if(Rr in X.valueBlock.value[0]&&X.valueBlock.value[0].name.length>0){let K={};if(wI4 in X.valueBlock.value[0]&&X.valueBlock.value[0].local)K=Z;else K=J;if(typeof K[X.valueBlock.value[0].name]==="undefined")K[X.valueBlock.value[0].name]=[];K[X.valueBlock.value[0].name].push(Z.valueBlock.value[G])}}else if(W=eV(J,Z.valueBlock.value[G-z],X.valueBlock.value[G]),W.verified===!1)if(X.valueBlock.value[G].optional)z++;else{if(X.name){if(X.name=X.name.replace(/^\s+|\s+$/g,x7),X.name)delete J[X.name]}return W}if(W.verified===!1){let G={verified:!1,result:J};if(X.name){if(X.name=X.name.replace(/^\s+|\s+$/g,x7),X.name)delete J[X.name],G.name=X.name}return G}return{verified:!0,result:J}}if(X.primitiveSchema&&fb1 in Z.valueBlock){let z=ZI(Z.valueBlock.valueHexView);if(z.offset===-1){let W={verified:!1,result:z.result};if(X.name){if(X.name=X.name.replace(/^\s+|\s+$/g,x7),X.name)delete J[X.name],W.name=X.name}return W}return eV(J,z.result,X.primitiveSchema)}return{verified:!0,result:J}}function CI4(J,Z){if(Z instanceof Object===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let X=ZI(v6.BufferSourceConverter.toUint8Array(J));if(X.offset===-1)return{verified:!1,result:X.result};return eV(X.result,X.result,Z)}jI4.Any=JI;jI4.BaseBlock=F9;jI4.BaseStringBlock=xf;jI4.BitString=lf;jI4.BmpString=tf;jI4.Boolean=mf;jI4.CharacterString=Qk;jI4.Choice=lr;jI4.Constructed=Y3;jI4.DATE=Kk;jI4.DateTime=Bk;jI4.Duration=Hk;jI4.EndOfContent=df;jI4.Enumerated=nf;jI4.GeneralString=Wk;jI4.GeneralizedTime=Gk;jI4.GraphicString=zk;jI4.HexBlock=f$;jI4.IA5String=$k;jI4.Integer=sN;jI4.Null=uf;jI4.NumericString=Jk;jI4.ObjectIdentifier=of;jI4.OctetString=cf;jI4.Primitive=gf;jI4.PrintableString=Zk;jI4.RawData=Uh1;jI4.RelativeObjectIdentifier=sf;jI4.Repeated=yf;jI4.Sequence=af;jI4.Set=rf;jI4.TIME=Fk;jI4.TeletexString=Xk;jI4.TimeOfDay=qk;jI4.UTCTime=rN;jI4.UniversalString=ef;jI4.Utf8String=MQ;jI4.ValueBlock=y9;jI4.VideotexString=Yk;jI4.ViewWriter=oN;jI4.VisibleString=aN;jI4.compareSchema=eV;jI4.fromBER=MI4;jI4.verifySchema=CI4});var YF=B((Vh1)=>{Object.defineProperty(Vh1,"__esModule",{value:!0});Vh1.AsnPropTypes=Vh1.AsnTypeTypes=void 0;var Oh1;(function(J){J[J.Sequence=0]="Sequence",J[J.Set=1]="Set",J[J.Choice=2]="Choice"})(Oh1||(Vh1.AsnTypeTypes=Oh1={}));var Dh1;(function(J){J[J.Any=1]="Any",J[J.Boolean=2]="Boolean",J[J.OctetString=3]="OctetString",J[J.BitString=4]="BitString",J[J.Integer=5]="Integer",J[J.Enumerated=6]="Enumerated",J[J.ObjectIdentifier=7]="ObjectIdentifier",J[J.Utf8String=8]="Utf8String",J[J.BmpString=9]="BmpString",J[J.UniversalString=10]="UniversalString",J[J.NumericString=11]="NumericString",J[J.PrintableString=12]="PrintableString",J[J.TeletexString=13]="TeletexString",J[J.VideotexString=14]="VideotexString",J[J.IA5String=15]="IA5String",J[J.GraphicString=16]="GraphicString",J[J.VisibleString=17]="VisibleString",J[J.GeneralString=18]="GeneralString",J[J.CharacterString=19]="CharacterString",J[J.UTCTime=20]="UTCTime",J[J.GeneralizedTime=21]="GeneralizedTime",J[J.DATE=22]="DATE",J[J.TimeOfDay=23]="TimeOfDay",J[J.DateTime=24]="DateTime",J[J.Duration=25]="Duration",J[J.TIME=26]="TIME",J[J.Null=27]="Null"})(Dh1||(Vh1.AsnPropTypes=Dh1={}))});var Ph1=B((Mh1)=>{Object.defineProperty(Mh1,"__esModule",{value:!0});Mh1.BitString=void 0;var pr=NQ(),wh1=XF();class Ah1{constructor(J,Z=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),J)if(typeof J==="number")this.fromNumber(J);else if(wh1.BufferSourceConverter.isBufferSource(J))this.unusedBits=Z,this.value=wh1.BufferSourceConverter.toArrayBuffer(J);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(J){if(!(J instanceof pr.BitString))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=J.valueBlock.unusedBits,this.value=J.valueBlock.valueHex,this}toASN(){return new pr.BitString({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(J){return new pr.BitString({name:J})}toNumber(){let J="",Z=new Uint8Array(this.value);for(let X of Z)J+=X.toString(2).padStart(8,"0");if(J=J.split("").reverse().join(""),this.unusedBits)J=J.slice(this.unusedBits).padStart(this.unusedBits,"0");return parseInt(J,2)}fromNumber(J){let Z=J.toString(2),X=Z.length+7>>3;this.unusedBits=(X<<3)-Z.length;let Y=new Uint8Array(X);Z=Z.padStart(X<<3,"0").split("").reverse().join("");let $=0;while($<X)Y[$]=parseInt(Z.slice($<<3,($<<3)+8),2),$++;this.value=Y.buffer}}Mh1.BitString=Ah1});var Eh1=B((jh1)=>{Object.defineProperty(jh1,"__esModule",{value:!0});jh1.OctetString=void 0;var nr=NQ(),Lh1=XF();class Ch1{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(J){if(typeof J==="number")this.buffer=new ArrayBuffer(J);else if(Lh1.BufferSourceConverter.isBufferSource(J))this.buffer=Lh1.BufferSourceConverter.toArrayBuffer(J);else if(Array.isArray(J))this.buffer=new Uint8Array(J);else this.buffer=new ArrayBuffer(0)}fromASN(J){if(!(J instanceof nr.OctetString))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=J.valueBlock.valueHex,this}toASN(){return new nr.OctetString({valueHex:this.buffer})}toSchema(J){return new nr.OctetString({name:J})}}jh1.OctetString=Ch1});var ir=B((Uk)=>{Object.defineProperty(Uk,"__esModule",{value:!0});var Sh1=R$();Sh1.__exportStar(Ph1(),Uk);Sh1.__exportStar(Eh1(),Uk)});var tN=B((Th1)=>{Object.defineProperty(Th1,"__esModule",{value:!0});Th1.AsnNullConverter=Th1.AsnGeneralizedTimeConverter=Th1.AsnUTCTimeConverter=Th1.AsnCharacterStringConverter=Th1.AsnGeneralStringConverter=Th1.AsnVisibleStringConverter=Th1.AsnGraphicStringConverter=Th1.AsnIA5StringConverter=Th1.AsnVideotexStringConverter=Th1.AsnTeletexStringConverter=Th1.AsnPrintableStringConverter=Th1.AsnNumericStringConverter=Th1.AsnUniversalStringConverter=Th1.AsnBmpStringConverter=Th1.AsnUtf8StringConverter=Th1.AsnConstructedOctetStringConverter=Th1.AsnOctetStringConverter=Th1.AsnBooleanConverter=Th1.AsnObjectIdentifierConverter=Th1.AsnBitStringConverter=Th1.AsnIntegerBigIntConverter=Th1.AsnIntegerArrayBufferConverter=Th1.AsnEnumeratedConverter=Th1.AsnIntegerConverter=Th1.AsnAnyConverter=void 0;Th1.defaultConverter=ww4;var Z8=NQ(),c8=YF(),Iw4=ir();Th1.AsnAnyConverter={fromASN:(J)=>J instanceof Z8.Null?null:J.valueBeforeDecodeView,toASN:(J)=>{if(J===null)return new Z8.Null;let Z=Z8.fromBER(J);if(Z.result.error)throw new Error(Z.result.error);return Z.result}};Th1.AsnIntegerConverter={fromASN:(J)=>J.valueBlock.valueHexView.byteLength>=4?J.valueBlock.toString():J.valueBlock.valueDec,toASN:(J)=>new Z8.Integer({value:+J})};Th1.AsnEnumeratedConverter={fromASN:(J)=>J.valueBlock.valueDec,toASN:(J)=>new Z8.Enumerated({value:J})};Th1.AsnIntegerArrayBufferConverter={fromASN:(J)=>J.valueBlock.valueHexView,toASN:(J)=>new Z8.Integer({valueHex:J})};Th1.AsnIntegerBigIntConverter={fromASN:(J)=>J.toBigInt(),toASN:(J)=>Z8.Integer.fromBigInt(J)};Th1.AsnBitStringConverter={fromASN:(J)=>J.valueBlock.valueHexView,toASN:(J)=>new Z8.BitString({valueHex:J})};Th1.AsnObjectIdentifierConverter={fromASN:(J)=>J.valueBlock.toString(),toASN:(J)=>new Z8.ObjectIdentifier({value:J})};Th1.AsnBooleanConverter={fromASN:(J)=>J.valueBlock.value,toASN:(J)=>new Z8.Boolean({value:J})};Th1.AsnOctetStringConverter={fromASN:(J)=>J.valueBlock.valueHexView,toASN:(J)=>new Z8.OctetString({valueHex:J})};Th1.AsnConstructedOctetStringConverter={fromASN:(J)=>new Iw4.OctetString(J.getValue()),toASN:(J)=>J.toASN()};function QZ(J){return{fromASN:(Z)=>Z.valueBlock.value,toASN:(Z)=>new J({value:Z})}}Th1.AsnUtf8StringConverter=QZ(Z8.Utf8String);Th1.AsnBmpStringConverter=QZ(Z8.BmpString);Th1.AsnUniversalStringConverter=QZ(Z8.UniversalString);Th1.AsnNumericStringConverter=QZ(Z8.NumericString);Th1.AsnPrintableStringConverter=QZ(Z8.PrintableString);Th1.AsnTeletexStringConverter=QZ(Z8.TeletexString);Th1.AsnVideotexStringConverter=QZ(Z8.VideotexString);Th1.AsnIA5StringConverter=QZ(Z8.IA5String);Th1.AsnGraphicStringConverter=QZ(Z8.GraphicString);Th1.AsnVisibleStringConverter=QZ(Z8.VisibleString);Th1.AsnGeneralStringConverter=QZ(Z8.GeneralString);Th1.AsnCharacterStringConverter=QZ(Z8.CharacterString);Th1.AsnUTCTimeConverter={fromASN:(J)=>J.toDate(),toASN:(J)=>new Z8.UTCTime({valueDate:J})};Th1.AsnGeneralizedTimeConverter={fromASN:(J)=>J.toDate(),toASN:(J)=>new Z8.GeneralizedTime({valueDate:J})};Th1.AsnNullConverter={fromASN:()=>null,toASN:()=>{return new Z8.Null}};function ww4(J){switch(J){case c8.AsnPropTypes.Any:return Th1.AsnAnyConverter;case c8.AsnPropTypes.BitString:return Th1.AsnBitStringConverter;case c8.AsnPropTypes.BmpString:return Th1.AsnBmpStringConverter;case c8.AsnPropTypes.Boolean:return Th1.AsnBooleanConverter;case c8.AsnPropTypes.CharacterString:return Th1.AsnCharacterStringConverter;case c8.AsnPropTypes.Enumerated:return Th1.AsnEnumeratedConverter;case c8.AsnPropTypes.GeneralString:return Th1.AsnGeneralStringConverter;case c8.AsnPropTypes.GeneralizedTime:return Th1.AsnGeneralizedTimeConverter;case c8.AsnPropTypes.GraphicString:return Th1.AsnGraphicStringConverter;case c8.AsnPropTypes.IA5String:return Th1.AsnIA5StringConverter;case c8.AsnPropTypes.Integer:return Th1.AsnIntegerConverter;case c8.AsnPropTypes.Null:return Th1.AsnNullConverter;case c8.AsnPropTypes.NumericString:return Th1.AsnNumericStringConverter;case c8.AsnPropTypes.ObjectIdentifier:return Th1.AsnObjectIdentifierConverter;case c8.AsnPropTypes.OctetString:return Th1.AsnOctetStringConverter;case c8.AsnPropTypes.PrintableString:return Th1.AsnPrintableStringConverter;case c8.AsnPropTypes.TeletexString:return Th1.AsnTeletexStringConverter;case c8.AsnPropTypes.UTCTime:return Th1.AsnUTCTimeConverter;case c8.AsnPropTypes.UniversalString:return Th1.AsnUniversalStringConverter;case c8.AsnPropTypes.Utf8String:return Th1.AsnUtf8StringConverter;case c8.AsnPropTypes.VideotexString:return Th1.AsnVideotexStringConverter;case c8.AsnPropTypes.VisibleString:return Th1.AsnVisibleStringConverter;default:return null}}});var Ok=B((J_1)=>{Object.defineProperty(J_1,"__esModule",{value:!0});J_1.isConvertible=th1;J_1.isTypeOfArray=eh1;J_1.isArrayEqual=Lw4;function th1(J){if(typeof J==="function"&&J.prototype)if(J.prototype.toASN&&J.prototype.fromASN)return!0;else return th1(J.prototype);else return!!(J&&typeof J==="object"&&("toASN"in J)&&("fromASN"in J))}function eh1(J){var Z;if(J){let X=Object.getPrototypeOf(J);if(((Z=X===null||X===void 0?void 0:X.prototype)===null||Z===void 0?void 0:Z.constructor)===Array)return!0;return eh1(X)}return!1}function Lw4(J,Z){if(!(J&&Z))return!1;if(J.byteLength!==Z.byteLength)return!1;let X=new Uint8Array(J),Y=new Uint8Array(Z);for(let $=0;$<J.byteLength;$++)if(X[$]!==Y[$])return!1;return!0}});var z_1=B((Y_1)=>{Object.defineProperty(Y_1,"__esModule",{value:!0});Y_1.AsnSchemaStorage=void 0;var wJ=NQ(),XI=YF(),Z_1=Ok();class X_1{constructor(){this.items=new WeakMap}has(J){return this.items.has(J)}get(J,Z=!1){let X=this.items.get(J);if(!X)throw new Error(`Cannot get schema for '${J.prototype.constructor.name}' target`);if(Z&&!X.schema)throw new Error(`Schema '${J.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return X}cache(J){let Z=this.get(J);if(!Z.schema)Z.schema=this.create(J,!0)}createDefault(J){let Z={type:XI.AsnTypeTypes.Sequence,items:{}},X=this.findParentSchema(J);if(X)Object.assign(Z,X),Z.items=Object.assign({},Z.items,X.items);return Z}create(J,Z){let X=this.items.get(J)||this.createDefault(J),Y=[];for(let $ in X.items){let z=X.items[$],W=Z?$:"",Q;if(typeof z.type==="number"){let K=XI.AsnPropTypes[z.type],q=wJ[K];if(!q)throw new Error(`Cannot get ASN1 class by name '${K}'`);Q=new q({name:W})}else if((0,Z_1.isConvertible)(z.type))Q=new z.type().toSchema(W);else if(z.optional)if(this.get(z.type).type===XI.AsnTypeTypes.Choice)Q=new wJ.Any({name:W});else Q=this.create(z.type,!1),Q.name=W;else Q=new wJ.Any({name:W});let G=!!z.optional||z.defaultValue!==void 0;if(z.repeated)Q.name="",Q=new(z.repeated==="set"?wJ.Set:wJ.Sequence)({name:"",value:[new wJ.Repeated({name:W,value:Q})]});if(z.context!==null&&z.context!==void 0)if(z.implicit)if(typeof z.type==="number"||(0,Z_1.isConvertible)(z.type)){let K=z.repeated?wJ.Constructed:wJ.Primitive;Y.push(new K({name:W,optional:G,idBlock:{tagClass:3,tagNumber:z.context}}))}else{this.cache(z.type);let K=!!z.repeated,q=!K?this.get(z.type,!0).schema:Q;q="valueBlock"in q?q.valueBlock.value:q.value,Y.push(new wJ.Constructed({name:!K?W:"",optional:G,idBlock:{tagClass:3,tagNumber:z.context},value:q}))}else Y.push(new wJ.Constructed({optional:G,idBlock:{tagClass:3,tagNumber:z.context},value:[Q]}));else Q.optional=G,Y.push(Q)}switch(X.type){case XI.AsnTypeTypes.Sequence:return new wJ.Sequence({value:Y,name:""});case XI.AsnTypeTypes.Set:return new wJ.Set({value:Y,name:""});case XI.AsnTypeTypes.Choice:return new wJ.Choice({value:Y,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(J,Z){return this.items.set(J,Z),this}findParentSchema(J){let Z=Object.getPrototypeOf(J);if(Z)return this.items.get(Z)||this.findParentSchema(Z);return null}}Y_1.AsnSchemaStorage=X_1});var Dk=B((W_1)=>{Object.defineProperty(W_1,"__esModule",{value:!0});W_1.schemaStorage=void 0;var Ew4=z_1();W_1.schemaStorage=new Ew4.AsnSchemaStorage});var q_1=B((G_1)=>{Object.defineProperty(G_1,"__esModule",{value:!0});G_1.AsnProp=G_1.AsnSequenceType=G_1.AsnSetType=G_1.AsnChoiceType=G_1.AsnType=void 0;var Sw4=tN(),sr=YF(),$3=Dk(),Tw4=(J)=>(Z)=>{let X;if(!$3.schemaStorage.has(Z))X=$3.schemaStorage.createDefault(Z),$3.schemaStorage.set(Z,X);else X=$3.schemaStorage.get(Z);Object.assign(X,J)};G_1.AsnType=Tw4;var fw4=()=>G_1.AsnType({type:sr.AsnTypeTypes.Choice});G_1.AsnChoiceType=fw4;var kw4=(J)=>G_1.AsnType({type:sr.AsnTypeTypes.Set,...J});G_1.AsnSetType=kw4;var bw4=(J)=>G_1.AsnType({type:sr.AsnTypeTypes.Sequence,...J});G_1.AsnSequenceType=bw4;var hw4=(J)=>(Z,X)=>{let Y;if(!$3.schemaStorage.has(Z.constructor))Y=$3.schemaStorage.createDefault(Z.constructor),$3.schemaStorage.set(Z.constructor,Y);else Y=$3.schemaStorage.get(Z.constructor);let $=Object.assign({},J);if(typeof $.type==="number"&&!$.converter){let z=Sw4.defaultConverter(J.type);if(!z)throw new Error(`Cannot get default converter for property '${X}' of ${Z.constructor.name}`);$.converter=z}Y.items[X]=$};G_1.AsnProp=hw4});var U_1=B((H_1)=>{Object.defineProperty(H_1,"__esModule",{value:!0});H_1.AsnSchemaValidationError=void 0;class B_1 extends Error{constructor(){super(...arguments);this.schemas=[]}}H_1.AsnSchemaValidationError=B_1});var rr=B((ar)=>{Object.defineProperty(ar,"__esModule",{value:!0});var xw4=R$();xw4.__exportStar(U_1(),ar)});var tr=B((w_1)=>{Object.defineProperty(w_1,"__esModule",{value:!0});w_1.AsnParser=void 0;var PQ=NQ(),O_1=YF(),gw4=tN(),D_1=rr(),eN=Ok(),V_1=Dk();class I_1{static parse(J,Z){let X=PQ.fromBER(J);if(X.result.error)throw new Error(X.result.error);return this.fromASN(X.result,Z)}static fromASN(J,Z){var X;try{if((0,eN.isConvertible)(Z))return new Z().fromASN(J);let Y=V_1.schemaStorage.get(Z);V_1.schemaStorage.cache(Z);let $=Y.schema;if(J.constructor===PQ.Constructed&&Y.type!==O_1.AsnTypeTypes.Choice){$=new PQ.Constructed({idBlock:{tagClass:3,tagNumber:J.idBlock.tagNumber},value:Y.schema.valueBlock.value});for(let Q in Y.items)delete J[Q]}let z=PQ.compareSchema({},J,$);if(!z.verified)throw new D_1.AsnSchemaValidationError(`Data does not match to ${Z.name} ASN1 schema. ${z.result.error}`);let W=new Z;if((0,eN.isTypeOfArray)(Z)){if(!(("value"in J.valueBlock)&&Array.isArray(J.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let Q=Y.itemType;if(typeof Q==="number"){let G=gw4.defaultConverter(Q);if(!G)throw new Error(`Cannot get default converter for array item of ${Z.name} ASN1 schema`);return Z.from(J.valueBlock.value,(K)=>G.fromASN(K))}else return Z.from(J.valueBlock.value,(G)=>this.fromASN(G,Q))}for(let Q in Y.items){let G=z.result[Q];if(!G)continue;let K=Y.items[Q],q=K.type;if(typeof q==="number"||(0,eN.isConvertible)(q)){let H=(X=K.converter)!==null&&X!==void 0?X:(0,eN.isConvertible)(q)?new q:null;if(!H)throw new Error("Converter is empty");if(K.repeated)if(K.implicit){let U=new(K.repeated==="sequence"?PQ.Sequence:PQ.Set);U.valueBlock=G.valueBlock;let D=PQ.fromBER(U.toBER(!1));if(D.offset===-1)throw new Error(`Cannot parse the child item. ${D.result.error}`);if(!(("value"in D.result.valueBlock)&&Array.isArray(D.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let V=D.result.valueBlock.value;W[Q]=Array.from(V,(w)=>H.fromASN(w))}else W[Q]=Array.from(G,(F)=>H.fromASN(F));else{let F=G;if(K.implicit){let U;if((0,eN.isConvertible)(q))U=new q().toSchema("");else{let D=O_1.AsnPropTypes[q],V=PQ[D];if(!V)throw new Error(`Cannot get '${D}' class from asn1js module`);U=new V}U.valueBlock=F.valueBlock,F=PQ.fromBER(U.toBER(!1)).result}W[Q]=H.fromASN(F)}}else if(K.repeated){if(!Array.isArray(G))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");W[Q]=Array.from(G,(H)=>this.fromASN(H,q))}else W[Q]=this.fromASN(G,q)}return W}catch(Y){if(Y instanceof D_1.AsnSchemaValidationError)Y.schemas.push(Z.name);throw Y}}}w_1.AsnParser=I_1});var Zt=B((N_1)=>{Object.defineProperty(N_1,"__esModule",{value:!0});N_1.AsnSerializer=void 0;var OY=NQ(),dw4=tN(),Ik=YF(),er=Ok(),M_1=Dk();class Jt{static serialize(J){if(J instanceof OY.BaseBlock)return J.toBER(!1);return this.toASN(J).toBER(!1)}static toASN(J){if(J&&typeof J==="object"&&(0,er.isConvertible)(J))return J.toASN();if(!(J&&typeof J==="object"))throw new TypeError("Parameter 1 should be type of Object.");let Z=J.constructor,X=M_1.schemaStorage.get(Z);M_1.schemaStorage.cache(Z);let Y=[];if(X.itemType){if(!Array.isArray(J))throw new TypeError("Parameter 1 should be type of Array.");if(typeof X.itemType==="number"){let z=dw4.defaultConverter(X.itemType);if(!z)throw new Error(`Cannot get default converter for array item of ${Z.name} ASN1 schema`);Y=J.map((W)=>z.toASN(W))}else Y=J.map((z)=>this.toAsnItem({type:X.itemType},"[]",Z,z))}else for(let z in X.items){let W=X.items[z],Q=J[z];if(Q===void 0||W.defaultValue===Q||typeof W.defaultValue==="object"&&typeof Q==="object"&&(0,er.isArrayEqual)(this.serialize(W.defaultValue),this.serialize(Q)))continue;let G=Jt.toAsnItem(W,z,Z,Q);if(typeof W.context==="number")if(W.implicit)if(!W.repeated&&(typeof W.type==="number"||(0,er.isConvertible)(W.type))){let K={};K.valueHex=G instanceof OY.Null?G.valueBeforeDecodeView:G.valueBlock.toBER(),Y.push(new OY.Primitive({optional:W.optional,idBlock:{tagClass:3,tagNumber:W.context},...K}))}else Y.push(new OY.Constructed({optional:W.optional,idBlock:{tagClass:3,tagNumber:W.context},value:G.valueBlock.value}));else Y.push(new OY.Constructed({optional:W.optional,idBlock:{tagClass:3,tagNumber:W.context},value:[G]}));else if(W.repeated)Y=Y.concat(G);else Y.push(G)}let $;switch(X.type){case Ik.AsnTypeTypes.Sequence:$=new OY.Sequence({value:Y});break;case Ik.AsnTypeTypes.Set:$=new OY.Set({value:Y});break;case Ik.AsnTypeTypes.Choice:if(!Y[0])throw new Error(`Schema '${Z.name}' has wrong data. Choice cannot be empty.`);$=Y[0];break}return $}static toAsnItem(J,Z,X,Y){let $;if(typeof J.type==="number"){let z=J.converter;if(!z)throw new Error(`Property '${Z}' doesn't have converter for type ${Ik.AsnPropTypes[J.type]} in schema '${X.name}'`);if(J.repeated){if(!Array.isArray(Y))throw new TypeError("Parameter 'objProp' should be type of Array.");let W=Array.from(Y,(G)=>z.toASN(G));$=new(J.repeated==="sequence"?OY.Sequence:OY.Set)({value:W})}else $=z.toASN(Y)}else if(J.repeated){if(!Array.isArray(Y))throw new TypeError("Parameter 'objProp' should be type of Array.");let z=Array.from(Y,(Q)=>this.toASN(Q));$=new(J.repeated==="sequence"?OY.Sequence:OY.Set)({value:z})}else $=this.toASN(Y);return $}}N_1.AsnSerializer=Jt});var R_1=B((C_1)=>{Object.defineProperty(C_1,"__esModule",{value:!0});C_1.AsnArray=void 0;class L_1 extends Array{constructor(J=[]){if(typeof J==="number")super(J);else{super();for(let Z of J)this.push(Z)}}}C_1.AsnArray=L_1});var f_1=B((S_1)=>{Object.defineProperty(S_1,"__esModule",{value:!0});S_1.AsnConvert=void 0;var uw4=NQ(),E_1=XF(),mw4=tr(),cw4=Zt();class Xt{static serialize(J){return cw4.AsnSerializer.serialize(J)}static parse(J,Z){return mw4.AsnParser.parse(J,Z)}static toString(J){let Z=E_1.BufferSourceConverter.isBufferSource(J)?E_1.BufferSourceConverter.toArrayBuffer(J):Xt.serialize(J),X=uw4.fromBER(Z);if(X.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${X.result.error}`);return X.result.toString()}}S_1.AsnConvert=Xt});var Yt=B((v9)=>{Object.defineProperty(v9,"__esModule",{value:!0});v9.AsnSerializer=v9.AsnParser=v9.AsnPropTypes=v9.AsnTypeTypes=v9.AsnSetType=v9.AsnSequenceType=v9.AsnChoiceType=v9.AsnType=v9.AsnProp=void 0;var JP=R$();JP.__exportStar(tN(),v9);JP.__exportStar(ir(),v9);var ZP=q_1();Object.defineProperty(v9,"AsnProp",{enumerable:!0,get:function(){return ZP.AsnProp}});Object.defineProperty(v9,"AsnType",{enumerable:!0,get:function(){return ZP.AsnType}});Object.defineProperty(v9,"AsnChoiceType",{enumerable:!0,get:function(){return ZP.AsnChoiceType}});Object.defineProperty(v9,"AsnSequenceType",{enumerable:!0,get:function(){return ZP.AsnSequenceType}});Object.defineProperty(v9,"AsnSetType",{enumerable:!0,get:function(){return ZP.AsnSetType}});var k_1=YF();Object.defineProperty(v9,"AsnTypeTypes",{enumerable:!0,get:function(){return k_1.AsnTypeTypes}});Object.defineProperty(v9,"AsnPropTypes",{enumerable:!0,get:function(){return k_1.AsnPropTypes}});var lw4=tr();Object.defineProperty(v9,"AsnParser",{enumerable:!0,get:function(){return lw4.AsnParser}});var pw4=Zt();Object.defineProperty(v9,"AsnSerializer",{enumerable:!0,get:function(){return pw4.AsnSerializer}});JP.__exportStar(rr(),v9);JP.__exportStar(R_1(),v9);JP.__exportStar(f_1(),v9)});var Gt=B((g_1)=>{Object.defineProperty(g_1,"__esModule",{value:!0});class $I extends Error{constructor(J,Z){super(Z?`${J}. See the inner exception for more details.`:J);this.message=J,this.innerError=Z}}class $t extends $I{constructor(J,Z,X){super(Z,X);this.schema=J}}class YI extends $t{constructor(J,Z,X){super(J,`JSON doesn't match to '${J.target.name}' schema. ${Z}`,X)}}class k$ extends $I{}class XP extends $I{constructor(J,Z,X){super(`Cannot serialize by '${J}' schema. ${Z}`,X);this.schemaName=J}}class wk extends YI{constructor(J,Z,X={}){super(J,"Some keys doesn't match to schema");this.keys=Z,this.errors=X}}(function(J){J[J.Any=0]="Any",J[J.Boolean=1]="Boolean",J[J.Number=2]="Number",J[J.String=3]="String"})(g_1.JsonPropTypes||(g_1.JsonPropTypes={}));function iw4(J,Z){switch(Z){case g_1.JsonPropTypes.Boolean:return typeof J==="boolean";case g_1.JsonPropTypes.Number:return typeof J==="number";case g_1.JsonPropTypes.String:return typeof J==="string"}return!0}function Ak(J,Z){if(!iw4(J,Z))throw new TypeError(`Value must be ${g_1.JsonPropTypes[Z]}`)}function Mk(J){if(J&&J.prototype)if(J.prototype.toJSON&&J.prototype.fromJSON)return!0;else return Mk(J.prototype);else return!!(J&&J.toJSON&&J.fromJSON)}class b_1{constructor(){this.items=new Map}has(J){return this.items.has(J)||!!this.findParentSchema(J)}get(J){let Z=this.items.get(J)||this.findParentSchema(J);if(!Z)throw new Error("Cannot get schema for current target");return Z}create(J){let Z={names:{}},X=this.findParentSchema(J);if(X){Object.assign(Z,X),Z.names={};for(let Y in X.names)Z.names[Y]=Object.assign({},X.names[Y])}return Z.target=J,Z}set(J,Z){return this.items.set(J,Z),this}findParentSchema(J){let Z=J.__proto__;if(Z)return this.items.get(Z)||this.findParentSchema(Z);return null}}var YP="default",DY=new b_1;class h_1{constructor(J){this.pattern=new RegExp(J)}validate(J){let Z=new RegExp(this.pattern.source,this.pattern.flags);if(typeof J!=="string")throw new k$("Incoming value must be string");if(!Z.exec(J))throw new k$(`Value doesn't match to pattern '${Z.toString()}'`)}}class __1{constructor(J=Number.MIN_VALUE,Z=Number.MAX_VALUE){this.min=J,this.max=Z}validate(J){if(Ak(J,g_1.JsonPropTypes.Number),!(this.min<=J&&J<=this.max)){let Z=this.min===Number.MIN_VALUE?"MIN":this.min,X=this.max===Number.MAX_VALUE?"MAX":this.max;throw new k$(`Value doesn't match to diapason [${Z},${X}]`)}}}class y_1{constructor(J=Number.MIN_VALUE,Z=Number.MAX_VALUE){this.min=J,this.max=Z}validate(J){if(Ak(J,g_1.JsonPropTypes.Number),!(this.min<J&&J<this.max)){let Z=this.min===Number.MIN_VALUE?"MIN":this.min,X=this.max===Number.MAX_VALUE?"MAX":this.max;throw new k$(`Value doesn't match to diapason (${Z},${X})`)}}}class zt{constructor(J,Z,X){this.length=J,this.minLength=Z,this.maxLength=X}validate(J){if(this.length!==void 0){if(J.length!==this.length)throw new k$(`Value length must be exactly ${this.length}.`);return}if(this.minLength!==void 0){if(J.length<this.minLength)throw new k$(`Value length must be more than ${this.minLength}.`)}if(this.maxLength!==void 0){if(J.length>this.maxLength)throw new k$(`Value length must be less than ${this.maxLength}.`)}}}class v_1{constructor(J){this.enumeration=J}validate(J){if(Ak(J,g_1.JsonPropTypes.String),!this.enumeration.includes(J))throw new k$(`Value must be one of ${this.enumeration.map((Z)=>`'${Z}'`).join(", ")}`)}}class Wt{static checkValues(J,Z){let X=Array.isArray(J)?J:[J];for(let Y of X)for(let $ of Z.validations)if($ instanceof zt&&Z.repeated)$.validate(J);else $.validate(Y)}static checkTypes(J,Z){if(Z.repeated&&!Array.isArray(J))throw new TypeError("Value must be Array");if(typeof Z.type==="number"){let X=Array.isArray(J)?J:[J];for(let Y of X)Ak(Y,Z.type)}}static getSchemaByName(J,Z=YP){return{...J.names[YP],...J.names[Z]}}}class x_1 extends Wt{static serialize(J,Z,X,Y){let $=this.toJSON(J,Z);return JSON.stringify($,X,Y)}static toJSON(J,Z={}){let X,Y=Z.targetSchema,$=Z.schemaName||YP;if(Mk(J))return J.toJSON();if(Array.isArray(J)){X=[];for(let z of J)X.push(this.toJSON(z,Z))}else if(typeof J==="object"){if(Y&&!DY.has(Y))throw new $I("Cannot get schema for `targetSchema` param");if(Y=Y||J.constructor,DY.has(Y)){let z=DY.get(Y);X={};let W=this.getSchemaByName(z,$);for(let Q in W)try{let G=W[Q],K=J[Q],q;if(G.optional&&K===void 0||G.defaultValue!==void 0&&K===G.defaultValue)continue;if(!G.optional&&K===void 0)throw new XP(Y.name,`Property '${Q}' is required.`);if(typeof G.type==="number")if(G.converter)if(G.repeated)q=K.map((H)=>G.converter.toJSON(H,J));else q=G.converter.toJSON(K,J);else q=K;else if(G.repeated)q=K.map((H)=>this.toJSON(H,{schemaName:$}));else q=this.toJSON(K,{schemaName:$});this.checkTypes(q,G),this.checkValues(q,G),X[G.name||Q]=q}catch(G){if(G instanceof XP)throw G;else throw new XP(z.target.name,`Property '${Q}' is wrong. ${G.message}`,G)}}else{X={};for(let z in J)X[z]=this.toJSON(J[z],{schemaName:$})}}else X=J;return X}}class Qt extends Wt{static parse(J,Z){let X=JSON.parse(J);return this.fromJSON(X,Z)}static fromJSON(J,Z){let X=Z.targetSchema,Y=Z.schemaName||YP,$=new X;if(Mk($))return $.fromJSON(J);let z=DY.get(X),W=this.getSchemaByName(z,Y),Q={};if(Z.strictProperty&&!Array.isArray(J))Qt.checkStrictProperty(J,W,z);for(let K in W)try{let q=W[K],H=q.name||K,F=J[H];if(F===void 0&&(q.optional||q.defaultValue!==void 0))continue;if(!q.optional&&F===void 0)throw new YI(z,`Property '${H}' is required.`);if(this.checkTypes(F,q),this.checkValues(F,q),typeof q.type==="number")if(q.converter)if(q.repeated)$[K]=F.map((U)=>q.converter.fromJSON(U,$));else $[K]=q.converter.fromJSON(F,$);else $[K]=F;else{let U={...Z,targetSchema:q.type,schemaName:Y};if(q.repeated)$[K]=F.map((D)=>this.fromJSON(D,U));else $[K]=this.fromJSON(F,U)}}catch(q){if(!(q instanceof YI))q=new YI(z,`Property '${K}' is wrong. ${q.message}`,q);if(Z.strictAllKeys)Q[K]=q;else throw q}let G=Object.keys(Q);if(G.length)throw new wk(z,G,Q);return $}static checkStrictProperty(J,Z,X){let Y=Object.keys(J),$=Object.keys(Z),z=[];for(let W of Y)if($.indexOf(W)===-1)z.push(W);if(z.length)throw new wk(X,z)}}function ow4(J){let Z=[];if(J.pattern)Z.push(new h_1(J.pattern));if(J.type===g_1.JsonPropTypes.Number||J.type===g_1.JsonPropTypes.Any){if(J.minInclusive!==void 0||J.maxInclusive!==void 0)Z.push(new __1(J.minInclusive,J.maxInclusive));if(J.minExclusive!==void 0||J.maxExclusive!==void 0)Z.push(new y_1(J.minExclusive,J.maxExclusive));if(J.enumeration!==void 0)Z.push(new v_1(J.enumeration))}if(J.type===g_1.JsonPropTypes.String||J.repeated||J.type===g_1.JsonPropTypes.Any){if(J.length!==void 0||J.minLength!==void 0||J.maxLength!==void 0)Z.push(new zt(J.length,J.minLength,J.maxLength))}return Z}var sw4=(J={})=>(Z,X)=>{let Y=`Cannot set type for ${X} property of ${Z.constructor.name} schema`,$;if(!DY.has(Z.constructor))$=DY.create(Z.constructor),DY.set(Z.constructor,$);else if($=DY.get(Z.constructor),$.target!==Z.constructor)$=DY.create(Z.constructor),DY.set(Z.constructor,$);let z={type:g_1.JsonPropTypes.Any,validations:[]},W=Object.assign(z,J);if(W.validations=ow4(W),typeof W.type!=="number"){if(!DY.has(W.type)&&!Mk(W.type))throw new Error(`${Y}. Assigning type doesn't have schema.`)}let Q;if(Array.isArray(J.schema))Q=J.schema;else Q=[J.schema||YP];for(let G of Q){if(!$.names[G])$.names[G]={};let K=$.names[G];K[X]=W}};g_1.JsonError=$I;g_1.JsonParser=Qt;g_1.JsonProp=sw4;g_1.JsonSerializer=x_1;g_1.KeyError=wk;g_1.ParserError=YI;g_1.SerializerError=XP;g_1.TransformError=$t;g_1.ValidationError=k$});var Ty1=B((Sy1)=>{/*!
 Copyright (c) Peculiar Ventures, LLC
*/var F6=XF(),x1=Yt(),x6=R$(),GZ=Gt(),zA4=NQ();function WA4(J){var Z=Object.create(null);if(J)Object.keys(J).forEach(function(X){if(X!=="default"){var Y=Object.getOwnPropertyDescriptor(J,X);Object.defineProperty(Z,X,Y.get?Y:{enumerable:!0,get:function(){return J[X]}})}});return Z.default=J,Object.freeze(Z)}var Kt=WA4(zA4);class LQ extends Error{}class jk extends LQ{}class VY extends LQ{constructor(J){super(`Unsupported operation: ${J?`${J}`:""}`)}}class KZ extends LQ{}class qt extends LQ{constructor(J){super(`${J}: Missing required property`)}}class u_1{static toArrayBuffer(J){let Z=J.replace(/-{5}(BEGIN|END) .*-{5}/g,"").replace("\r","").replace(`
`,"");return F6.Convert.FromBase64(Z)}static toUint8Array(J){let Z=this.toArrayBuffer(J);return new Uint8Array(Z)}static fromBufferSource(J,Z){let X=F6.Convert.ToBase64(J),Y,$=0,z=[];while($<X.length){if(Y=X.slice($,$+64),Y.length)z.push(Y);else break;$+=64}let W=Z.toUpperCase();return`-----BEGIN ${W}-----
${z.join(`
`)}
-----END ${W}-----`}static isPEM(J){return/-----BEGIN .+-----[A-Za-z0-9+/+=\s\n]+-----END .+-----/i.test(J)}static getTagName(J){if(!this.isPEM(J))throw new Error("Bad parameter. Incoming data is not right PEM");let Z=/-----BEGIN (.+)-----/.exec(J);if(!Z)throw new Error("Cannot get tag from PEM");return Z[1]}static hasTagName(J,Z){let X=this.getTagName(J);return Z.toLowerCase()===X.toLowerCase()}static isCertificate(J){return this.hasTagName(J,"certificate")}static isCertificateRequest(J){return this.hasTagName(J,"certificate request")}static isCRL(J){return this.hasTagName(J,"x509 crl")}static isPublicKey(J){return this.hasTagName(J,"public key")}}function m_1(J){return typeof J==="object"&&"kty"in J}class qZ{async digest(...J){return this.checkDigest.apply(this,J),this.onDigest.apply(this,J)}checkDigest(J,Z){this.checkAlgorithmName(J)}async onDigest(J,Z){throw new VY("digest")}async generateKey(...J){return this.checkGenerateKey.apply(this,J),this.onGenerateKey.apply(this,J)}checkGenerateKey(J,Z,X,...Y){if(this.checkAlgorithmName(J),this.checkGenerateKeyParams(J),!(X&&X.length))throw new TypeError("Usages cannot be empty when creating a key.");let $;if(Array.isArray(this.usages))$=this.usages;else $=this.usages.privateKey.concat(this.usages.publicKey);this.checkKeyUsages(X,$)}checkGenerateKeyParams(J){}async onGenerateKey(J,Z,X,...Y){throw new VY("generateKey")}async sign(...J){return this.checkSign.apply(this,J),this.onSign.apply(this,J)}checkSign(J,Z,X,...Y){this.checkAlgorithmName(J),this.checkAlgorithmParams(J),this.checkCryptoKey(Z,"sign")}async onSign(J,Z,X,...Y){throw new VY("sign")}async verify(...J){return this.checkVerify.apply(this,J),this.onVerify.apply(this,J)}checkVerify(J,Z,X,Y,...$){this.checkAlgorithmName(J),this.checkAlgorithmParams(J),this.checkCryptoKey(Z,"verify")}async onVerify(J,Z,X,Y,...$){throw new VY("verify")}async encrypt(...J){return this.checkEncrypt.apply(this,J),this.onEncrypt.apply(this,J)}checkEncrypt(J,Z,X,Y={},...$){this.checkAlgorithmName(J),this.checkAlgorithmParams(J),this.checkCryptoKey(Z,Y.keyUsage?"encrypt":void 0)}async onEncrypt(J,Z,X,...Y){throw new VY("encrypt")}async decrypt(...J){return this.checkDecrypt.apply(this,J),this.onDecrypt.apply(this,J)}checkDecrypt(J,Z,X,Y={},...$){this.checkAlgorithmName(J),this.checkAlgorithmParams(J),this.checkCryptoKey(Z,Y.keyUsage?"decrypt":void 0)}async onDecrypt(J,Z,X,...Y){throw new VY("decrypt")}async deriveBits(...J){return this.checkDeriveBits.apply(this,J),this.onDeriveBits.apply(this,J)}checkDeriveBits(J,Z,X,Y={},...$){if(this.checkAlgorithmName(J),this.checkAlgorithmParams(J),this.checkCryptoKey(Z,Y.keyUsage?"deriveBits":void 0),X%8!==0)throw new KZ("length: Is not multiple of 8")}async onDeriveBits(J,Z,X,...Y){throw new VY("deriveBits")}async exportKey(...J){return this.checkExportKey.apply(this,J),this.onExportKey.apply(this,J)}checkExportKey(J,Z,...X){if(this.checkKeyFormat(J),this.checkCryptoKey(Z),!Z.extractable)throw new LQ("key: Is not extractable")}async onExportKey(J,Z,...X){throw new VY("exportKey")}async importKey(...J){return this.checkImportKey.apply(this,J),this.onImportKey.apply(this,J)}checkImportKey(J,Z,X,Y,$,...z){if(this.checkKeyFormat(J),this.checkKeyData(J,Z),this.checkAlgorithmName(X),this.checkImportParams(X),Array.isArray(this.usages))this.checkKeyUsages($,this.usages)}async onImportKey(J,Z,X,Y,$,...z){throw new VY("importKey")}checkAlgorithmName(J){if(J.name.toLowerCase()!==this.name.toLowerCase())throw new jk("Unrecognized name")}checkAlgorithmParams(J){}checkDerivedKeyParams(J){}checkKeyUsages(J,Z){for(let X of J)if(Z.indexOf(X)===-1)throw new TypeError("Cannot create a key using the specified key usages")}checkCryptoKey(J,Z){if(this.checkAlgorithmName(J.algorithm),Z&&J.usages.indexOf(Z)===-1)throw new LQ("key does not match that of operation")}checkRequiredProperty(J,Z){if(!(Z in J))throw new qt(Z)}checkHashAlgorithm(J,Z){for(let X of Z)if(X.toLowerCase()===J.name.toLowerCase())return;throw new KZ(`hash: Must be one of ${Z.join(", ")}`)}checkImportParams(J){}checkKeyFormat(J){switch(J){case"raw":case"pkcs8":case"spki":case"jwk":break;default:throw new TypeError("format: Is invalid value. Must be 'jwk', 'raw', 'spki', or 'pkcs8'")}}checkKeyData(J,Z){if(!Z)throw new TypeError("keyData: Cannot be empty on empty on key importing");if(J==="jwk"){if(!m_1(Z))throw new TypeError("keyData: Is not JsonWebToken")}else if(!F6.BufferSourceConverter.isBufferSource(Z))throw new TypeError("keyData: Is not ArrayBufferView or ArrayBuffer")}prepareData(J){return F6.BufferSourceConverter.toArrayBuffer(J)}}class z3 extends qZ{checkGenerateKeyParams(J){if(this.checkRequiredProperty(J,"length"),typeof J.length!=="number")throw new TypeError("length: Is not of type Number");switch(J.length){case 128:case 192:case 256:break;default:throw new TypeError("length: Must be 128, 192, or 256")}}checkDerivedKeyParams(J){this.checkGenerateKeyParams(J)}}class c_1 extends z3{constructor(){super(...arguments);this.name="AES-CBC",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(J){if(this.checkRequiredProperty(J,"iv"),!(J.iv instanceof ArrayBuffer||ArrayBuffer.isView(J.iv)))throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(J.iv.byteLength!==16)throw new TypeError("iv: Must have length 16 bytes")}}class l_1 extends z3{constructor(){super(...arguments);this.name="AES-CMAC",this.usages=["sign","verify"]}checkAlgorithmParams(J){if(this.checkRequiredProperty(J,"length"),typeof J.length!=="number")throw new TypeError("length: Is not a Number");if(J.length<1)throw new KZ("length: Must be more than 0")}}class p_1 extends z3{constructor(){super(...arguments);this.name="AES-CTR",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(J){if(this.checkRequiredProperty(J,"counter"),!(J.counter instanceof ArrayBuffer||ArrayBuffer.isView(J.counter)))throw new TypeError("counter: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(J.counter.byteLength!==16)throw new TypeError("iv: Must have length 16 bytes");if(this.checkRequiredProperty(J,"length"),typeof J.length!=="number")throw new TypeError("length: Is not a Number");if(J.length<1)throw new KZ("length: Must be more than 0")}}class n_1 extends z3{constructor(){super(...arguments);this.name="AES-ECB",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}}class i_1 extends z3{constructor(){super(...arguments);this.name="AES-GCM",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(J){var Z;if(this.checkRequiredProperty(J,"iv"),!(J.iv instanceof ArrayBuffer||ArrayBuffer.isView(J.iv)))throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(J.iv.byteLength<1)throw new KZ("iv: Must have length more than 0 and less than 2^64 - 1");switch((Z=J.tagLength)!==null&&Z!==void 0||(J.tagLength=128),J.tagLength){case 32:case 64:case 96:case 104:case 112:case 120:case 128:break;default:throw new KZ("tagLength: Must be one of 32, 64, 96, 104, 112, 120 or 128")}}}class o_1 extends z3{constructor(){super(...arguments);this.name="AES-KW",this.usages=["wrapKey","unwrapKey"]}}class s_1 extends qZ{constructor(){super(...arguments);this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(J){if(this.ivSize){if(this.checkRequiredProperty(J,"iv"),!(J.iv instanceof ArrayBuffer||ArrayBuffer.isView(J.iv)))throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(J.iv.byteLength!==this.ivSize)throw new TypeError(`iv: Must have length ${this.ivSize} bytes`)}}checkGenerateKeyParams(J){if(this.checkRequiredProperty(J,"length"),typeof J.length!=="number")throw new TypeError("length: Is not of type Number");if(J.length!==this.keySizeBits)throw new KZ(`algorithm.length: Must be ${this.keySizeBits}`)}checkDerivedKeyParams(J){this.checkGenerateKeyParams(J)}}class zP extends qZ{constructor(){super(...arguments);this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"]}checkGenerateKeyParams(J){if(this.checkRequiredProperty(J,"hash"),this.checkHashAlgorithm(J.hash,this.hashAlgorithms),this.checkRequiredProperty(J,"publicExponent"),!(J.publicExponent&&J.publicExponent instanceof Uint8Array))throw new TypeError("publicExponent: Missing or not a Uint8Array");let Z=F6.Convert.ToBase64(J.publicExponent);if(!(Z==="Aw=="||Z==="AQAB"))throw new TypeError("publicExponent: Must be [3] or [1,0,1]");if(this.checkRequiredProperty(J,"modulusLength"),J.modulusLength%8||J.modulusLength<256||J.modulusLength>16384)throw new TypeError("The modulus length must be a multiple of 8 bits and >= 256 and <= 16384")}checkImportParams(J){this.checkRequiredProperty(J,"hash"),this.checkHashAlgorithm(J.hash,this.hashAlgorithms)}}class a_1 extends zP{constructor(){super(...arguments);this.name="RSASSA-PKCS1-v1_5",this.usages={privateKey:["sign"],publicKey:["verify"]}}}class r_1 extends zP{constructor(){super(...arguments);this.name="RSA-PSS",this.usages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmParams(J){if(this.checkRequiredProperty(J,"saltLength"),typeof J.saltLength!=="number")throw new TypeError("saltLength: Is not a Number");if(J.saltLength<0)throw new RangeError("saltLength: Must be positive number")}}class t_1 extends zP{constructor(){super(...arguments);this.name="RSA-OAEP",this.usages={privateKey:["decrypt","unwrapKey"],publicKey:["encrypt","wrapKey"]}}checkAlgorithmParams(J){if(J.label&&!(J.label instanceof ArrayBuffer||ArrayBuffer.isView(J.label)))throw new TypeError("label: Is not of type '(ArrayBuffer or ArrayBufferView)'")}}class WP extends qZ{checkGenerateKeyParams(J){this.checkRequiredProperty(J,"namedCurve"),this.checkNamedCurve(J.namedCurve)}checkNamedCurve(J){for(let Z of this.namedCurves)if(Z.toLowerCase()===J.toLowerCase())return;throw new KZ(`namedCurve: Must be one of ${this.namedCurves.join(", ")}`)}}class e_1 extends WP{constructor(){super(...arguments);this.name="ECDSA",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(J){this.checkRequiredProperty(J,"hash"),this.checkHashAlgorithm(J.hash,this.hashAlgorithms)}}var QA4=["secret","private","public"];class Rk{static create(J,Z,X,Y){let $=new this;return $.algorithm=J,$.type=Z,$.extractable=X,$.usages=Y,$}static isKeyType(J){return QA4.indexOf(J)!==-1}get[Symbol.toStringTag](){return"CryptoKey"}}class Bt extends WP{constructor(){super(...arguments);this.name="ECDH",this.usages={privateKey:["deriveBits","deriveKey"],publicKey:[]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(J){if(this.checkRequiredProperty(J,"public"),!(J.public instanceof Rk))throw new TypeError("public: Is not a CryptoKey");if(J.public.type!=="public")throw new KZ("public: Is not a public key");if(J.public.algorithm.name!==this.name)throw new KZ(`public: Is not ${this.name} key`)}}class Jy1 extends Bt{constructor(){super(...arguments);this.name="ECDH-ES",this.namedCurves=["X25519","X448"]}}class Zy1 extends WP{constructor(){super(...arguments);this.name="EdDSA",this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["Ed25519","Ed448"]}}var $P=class J{constructor(Z){if(Z)this.value=Z}};x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.ObjectIdentifier})],$P.prototype,"value",void 0);$P=x6.__decorate([x1.AsnType({type:x1.AsnTypeTypes.Choice})],$P);class W3{constructor(J){Object.assign(this,J)}}x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.ObjectIdentifier})],W3.prototype,"algorithm",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Any,optional:!0})],W3.prototype,"parameters",void 0);class $F{constructor(){this.version=0,this.privateKeyAlgorithm=new W3,this.privateKey=new ArrayBuffer(0)}}x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer})],$F.prototype,"version",void 0);x6.__decorate([x1.AsnProp({type:W3})],$F.prototype,"privateKeyAlgorithm",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.OctetString})],$F.prototype,"privateKey",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Any,optional:!0})],$F.prototype,"attributes",void 0);class Ek{constructor(){this.publicKeyAlgorithm=new W3,this.publicKey=new ArrayBuffer(0)}}x6.__decorate([x1.AsnProp({type:W3})],Ek.prototype,"publicKeyAlgorithm",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.BitString})],Ek.prototype,"publicKey",void 0);var BZ={fromJSON:(J)=>F6.Convert.FromBase64Url(J),toJSON:(J)=>F6.Convert.ToBase64Url(new Uint8Array(J))},IY={fromASN:(J)=>{let Z=J.valueBlock.valueHex;return!new Uint8Array(Z)[0]?J.valueBlock.valueHex.slice(1):J.valueBlock.valueHex},toASN:(J)=>{let Z=new Uint8Array(J)[0]>127?F6.combine(new Uint8Array([0]).buffer,J):J;return new Kt.Integer({valueHex:Z})}},GA4=Object.freeze({__proto__:null,AsnIntegerArrayBufferConverter:IY,JsonBase64UrlArrayBufferConverter:BZ});class HZ{constructor(){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0)}}x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer,converter:x1.AsnIntegerConverter})],HZ.prototype,"version",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer,converter:IY}),GZ.JsonProp({name:"n",converter:BZ})],HZ.prototype,"modulus",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer,converter:IY}),GZ.JsonProp({name:"e",converter:BZ})],HZ.prototype,"publicExponent",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer,converter:IY}),GZ.JsonProp({name:"d",converter:BZ})],HZ.prototype,"privateExponent",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer,converter:IY}),GZ.JsonProp({name:"p",converter:BZ})],HZ.prototype,"prime1",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer,converter:IY}),GZ.JsonProp({name:"q",converter:BZ})],HZ.prototype,"prime2",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer,converter:IY}),GZ.JsonProp({name:"dp",converter:BZ})],HZ.prototype,"exponent1",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer,converter:IY}),GZ.JsonProp({name:"dq",converter:BZ})],HZ.prototype,"exponent2",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer,converter:IY}),GZ.JsonProp({name:"qi",converter:BZ})],HZ.prototype,"coefficient",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Any,optional:!0})],HZ.prototype,"otherPrimeInfos",void 0);class Sk{constructor(){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0)}}x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer,converter:IY}),GZ.JsonProp({name:"n",converter:BZ})],Sk.prototype,"modulus",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer,converter:IY}),GZ.JsonProp({name:"e",converter:BZ})],Sk.prototype,"publicExponent",void 0);var zI=class J{constructor(Z){if(this.value=new ArrayBuffer(0),Z)this.value=Z}toJSON(){let Z=new Uint8Array(this.value);if(Z[0]!==4)throw new LQ("Wrong ECPoint. Current version supports only Uncompressed (0x04) point");Z=new Uint8Array(this.value.slice(1));let X=Z.length/2,Y=0;return{x:F6.Convert.ToBase64Url(Z.buffer.slice(Y,Y+X)),y:F6.Convert.ToBase64Url(Z.buffer.slice(Y+X,Y+X+X))}}fromJSON(Z){if(!("x"in Z))throw new Error("x: Missing required property");if(!("y"in Z))throw new Error("y: Missing required property");let X=F6.Convert.FromBase64Url(Z.x),Y=F6.Convert.FromBase64Url(Z.y),$=F6.combine(new Uint8Array([4]).buffer,X,Y);return this.value=new Uint8Array($).buffer,this}};x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.OctetString})],zI.prototype,"value",void 0);zI=x6.__decorate([x1.AsnType({type:x1.AsnTypeTypes.Choice})],zI);class WI{constructor(){this.version=1,this.privateKey=new ArrayBuffer(0)}fromJSON(J){if(!("d"in J))throw new Error("d: Missing required property");if(this.privateKey=F6.Convert.FromBase64Url(J.d),"x"in J){let Z=new zI;Z.fromJSON(J);let X=x1.AsnSerializer.toASN(Z);if("valueHex"in X.valueBlock)this.publicKey=X.valueBlock.valueHex}return this}toJSON(){let J={};if(J.d=F6.Convert.ToBase64Url(this.privateKey),this.publicKey)Object.assign(J,new zI(this.publicKey).toJSON());return J}}x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer,converter:x1.AsnIntegerConverter})],WI.prototype,"version",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.OctetString})],WI.prototype,"privateKey",void 0);x6.__decorate([x1.AsnProp({context:0,type:x1.AsnPropTypes.Any,optional:!0})],WI.prototype,"parameters",void 0);x6.__decorate([x1.AsnProp({context:1,type:x1.AsnPropTypes.BitString,optional:!0})],WI.prototype,"publicKey",void 0);var Ht={fromASN:(J)=>{let Z=new Uint8Array(J.valueBlock.valueHex);return Z[0]===0?Z.buffer.slice(1):Z.buffer},toASN:(J)=>{let Z=new Uint8Array(J);if(Z[0]>127){let X=new Uint8Array(Z.length+1);return X.set(Z,1),new Kt.Integer({valueHex:X.buffer})}return new Kt.Integer({valueHex:J})}},KA4=Object.freeze({__proto__:null,AsnIntegerWithoutPaddingConverter:Ht});class Nk{static decodePoint(J,Z){let X=F6.BufferSourceConverter.toUint8Array(J);if(X.length===0||X[0]!==4)throw new Error("Only uncompressed point format supported");let Y=(X.length-1)/2;if(Y!==Math.ceil(Z/8))throw new Error("Point does not match field size");let $=X.slice(1,Y+1),z=X.slice(Y+1,Y+1+Y);return{x:$,y:z}}static encodePoint(J,Z){let X=Math.ceil(Z/8);if(J.x.byteLength!==X||J.y.byteLength!==X)throw new Error("X,Y coordinates don't match point size criteria");let Y=F6.BufferSourceConverter.toUint8Array(J.x),$=F6.BufferSourceConverter.toUint8Array(J.y),z=new Uint8Array(X*2+1);return z[0]=4,z.set(Y,1),z.set($,X+1),z}static getSize(J){return Math.ceil(J/8)}static encodeSignature(J,Z){let X=this.getSize(Z),Y=F6.BufferSourceConverter.toUint8Array(J.r),$=F6.BufferSourceConverter.toUint8Array(J.s),z=new Uint8Array(X*2);return z.set(this.padStart(Y,X)),z.set(this.padStart($,X),X),z}static decodeSignature(J,Z){let X=this.getSize(Z),Y=F6.BufferSourceConverter.toUint8Array(J);if(Y.length!==X*2)throw new Error("Incorrect size of the signature");let $=Y.slice(0,X),z=Y.slice(X);return{r:this.trimStart($),s:this.trimStart(z)}}static trimStart(J){let Z=0;while(Z<J.length-1&&J[Z]===0)Z++;if(Z===0)return J;return J.slice(Z,J.length)}static padStart(J,Z){if(Z===J.length)return J;let X=new Uint8Array(Z);return X.set(J,Z-J.length),X}}class QP{constructor(){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0)}static fromWebCryptoSignature(J){let Z=J.byteLength/2,X=Nk.decodeSignature(J,Z*8),Y=new QP;return Y.r=F6.BufferSourceConverter.toArrayBuffer(X.r),Y.s=F6.BufferSourceConverter.toArrayBuffer(X.s),Y}toWebCryptoSignature(J){if(!J){let X=Math.max(this.r.byteLength,this.s.byteLength);if(X<=32)J=256;else if(X<=48)J=384;else J=521}return Nk.encodeSignature(this,J).buffer}}x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer,converter:Ht})],QP.prototype,"r",void 0);x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.Integer,converter:Ht})],QP.prototype,"s",void 0);class Ft extends $F{}x6.__decorate([x1.AsnProp({context:1,implicit:!0,type:x1.AsnPropTypes.BitString,optional:!0})],Ft.prototype,"publicKey",void 0);var Pk=class J{constructor(){this.value=new ArrayBuffer(0)}fromJSON(Z){if(!Z.d)throw new Error("d: Missing required property");return this.value=F6.Convert.FromBase64Url(Z.d),this}toJSON(){return{d:F6.Convert.ToBase64Url(this.value)}}};x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.OctetString})],Pk.prototype,"value",void 0);Pk=x6.__decorate([x1.AsnType({type:x1.AsnTypeTypes.Choice})],Pk);var Lk=class J{constructor(Z){if(this.value=new ArrayBuffer(0),Z)this.value=Z}toJSON(){return{x:F6.Convert.ToBase64Url(this.value)}}fromJSON(Z){if(!("x"in Z))throw new Error("x: Missing required property");return this.value=F6.Convert.FromBase64Url(Z.x),this}};x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.BitString})],Lk.prototype,"value",void 0);Lk=x6.__decorate([x1.AsnType({type:x1.AsnTypeTypes.Choice})],Lk);var Ck=class J{};x6.__decorate([x1.AsnProp({type:x1.AsnPropTypes.OctetString}),GZ.JsonProp({type:GZ.JsonPropTypes.String,converter:BZ})],Ck.prototype,"d",void 0);Ck=x6.__decorate([x1.AsnType({type:x1.AsnTypeTypes.Choice})],Ck);var Xy1="1.2.840.10045.3.1.7",Tk="1.3.132.0",Yy1=`${Tk}.34`,$y1=`${Tk}.35`,zy1=`${Tk}.10`,Q7="1.3.36.3.3.2.8.1.1",Wy1=`${Q7}.1`,Qy1=`${Q7}.2`,Gy1=`${Q7}.3`,Ky1=`${Q7}.4`,qy1=`${Q7}.5`,By1=`${Q7}.6`,Hy1=`${Q7}.7`,Fy1=`${Q7}.8`,Uy1=`${Q7}.9`,Oy1=`${Q7}.10`,Dy1=`${Q7}.11`,Vy1=`${Q7}.12`,Iy1=`${Q7}.13`,wy1=`${Q7}.14`,qA4="1.3.101.110",BA4="1.3.101.111",HA4="1.3.101.112",FA4="1.3.101.113",UA4=Object.freeze({__proto__:null,AlgorithmIdentifier:W3,get CurvePrivateKey(){return Ck},EcDsaSignature:QP,EcPrivateKey:WI,get EcPublicKey(){return zI},get EdPrivateKey(){return Pk},get EdPublicKey(){return Lk},get ObjectIdentifier(){return $P},OneAsymmetricKey:Ft,PrivateKeyInfo:$F,PublicKeyInfo:Ek,RsaPrivateKey:HZ,RsaPublicKey:Sk,converters:KA4,idBrainpoolP160r1:Wy1,idBrainpoolP160t1:Qy1,idBrainpoolP192r1:Gy1,idBrainpoolP192t1:Ky1,idBrainpoolP224r1:qy1,idBrainpoolP224t1:By1,idBrainpoolP256r1:Hy1,idBrainpoolP256t1:Fy1,idBrainpoolP320r1:Uy1,idBrainpoolP320t1:Oy1,idBrainpoolP384r1:Dy1,idBrainpoolP384t1:Vy1,idBrainpoolP512r1:Iy1,idBrainpoolP512t1:wy1,idEd25519:HA4,idEd448:FA4,idEllipticCurve:Tk,idSecp256k1:zy1,idSecp256r1:Xy1,idSecp384r1:Yy1,idSecp521r1:$y1,idVersionOne:Q7,idX25519:qA4,idX448:BA4});class l8{constructor(){}static register(J){let Z=new $P;Z.value=J.id;let X=x1.AsnConvert.serialize(Z);this.items.push({...J,raw:X}),this.names.push(J.name)}static find(J){J=J.toUpperCase();for(let Z of this.items)if(Z.name.toUpperCase()===J||Z.id.toUpperCase()===J)return Z;return null}static get(J){let Z=this.find(J);if(!Z)throw new Error(`Unsupported EC named curve '${J}'`);return Z}}l8.items=[];l8.names=[];l8.register({name:"P-256",id:Xy1,size:256});l8.register({name:"P-384",id:Yy1,size:384});l8.register({name:"P-521",id:$y1,size:521});l8.register({name:"K-256",id:zy1,size:256});l8.register({name:"brainpoolP160r1",id:Wy1,size:160});l8.register({name:"brainpoolP160t1",id:Qy1,size:160});l8.register({name:"brainpoolP192r1",id:Gy1,size:192});l8.register({name:"brainpoolP192t1",id:Ky1,size:192});l8.register({name:"brainpoolP224r1",id:qy1,size:224});l8.register({name:"brainpoolP224t1",id:By1,size:224});l8.register({name:"brainpoolP256r1",id:Hy1,size:256});l8.register({name:"brainpoolP256t1",id:Fy1,size:256});l8.register({name:"brainpoolP320r1",id:Uy1,size:320});l8.register({name:"brainpoolP320t1",id:Oy1,size:320});l8.register({name:"brainpoolP384r1",id:Dy1,size:384});l8.register({name:"brainpoolP384t1",id:Vy1,size:384});l8.register({name:"brainpoolP512r1",id:Iy1,size:512});l8.register({name:"brainpoolP512t1",id:wy1,size:512});class Ay1 extends qZ{constructor(){super(...arguments);this.name="X25519",this.usages={privateKey:["deriveKey","deriveBits"],publicKey:[]}}checkAlgorithmParams(J){this.checkRequiredProperty(J,"public")}}class My1 extends qZ{constructor(){super(...arguments);this.name="Ed25519",this.usages={privateKey:["sign"],publicKey:["verify"]}}}class Ny1 extends qZ{constructor(){super(...arguments);this.name="HMAC",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["sign","verify"]}getDefaultLength(J){switch(J.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":return 512;default:throw new Error(`Unknown algorithm name '${J}'`)}}checkGenerateKeyParams(J){if(this.checkRequiredProperty(J,"hash"),this.checkHashAlgorithm(J.hash,this.hashAlgorithms),"length"in J){if(typeof J.length!=="number")throw new TypeError("length: Is not a Number");if(J.length<1)throw new RangeError("length: Number is out of range")}}checkImportParams(J){this.checkRequiredProperty(J,"hash"),this.checkHashAlgorithm(J.hash,this.hashAlgorithms)}}class Py1 extends qZ{constructor(){super(...arguments);this.name="PBKDF2",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveBits","deriveKey"]}checkAlgorithmParams(J){if(this.checkRequiredProperty(J,"hash"),this.checkHashAlgorithm(J.hash,this.hashAlgorithms),this.checkRequiredProperty(J,"salt"),!(J.salt instanceof ArrayBuffer||ArrayBuffer.isView(J.salt)))throw new TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(this.checkRequiredProperty(J,"iterations"),typeof J.iterations!=="number")throw new TypeError("iterations: Is not a Number");if(J.iterations<1)throw new TypeError("iterations: Is less than 1")}checkImportKey(J,Z,X,Y,$,...z){if(super.checkImportKey(J,Z,X,Y,$,...z),Y)throw new SyntaxError("extractable: Must be 'false'")}}class Ly1 extends qZ{constructor(){super(...arguments);this.name="HKDF",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveKey","deriveBits"]}checkAlgorithmParams(J){if(this.checkRequiredProperty(J,"hash"),this.checkHashAlgorithm(J.hash,this.hashAlgorithms),this.checkRequiredProperty(J,"salt"),!F6.BufferSourceConverter.isBufferSource(J.salt))throw new TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(this.checkRequiredProperty(J,"info"),!F6.BufferSourceConverter.isBufferSource(J.info))throw new TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'")}checkImportKey(J,Z,X,Y,$,...z){if(super.checkImportKey(J,Z,X,Y,$,...z),Y)throw new SyntaxError("extractable: Must be 'false'")}}class fk extends qZ{constructor(){super(...arguments);this.usages=[],this.defaultLength=0}digest(...J){return J[0]={length:this.defaultLength,...J[0]},super.digest.apply(this,J)}checkDigest(J,Z){super.checkDigest(J,Z);let X=J.length||0;if(typeof X!=="number")throw new TypeError("length: Is not a Number");if(X<0)throw new TypeError("length: Is negative")}}class Cy1 extends fk{constructor(){super(...arguments);this.name="shake128",this.defaultLength=16}}class jy1 extends fk{constructor(){super(...arguments);this.name="shake256",this.defaultLength=32}}class Ry1{get[Symbol.toStringTag](){return"Crypto"}randomUUID(){let J=this.getRandomValues(new Uint8Array(16));J[6]=J[6]&15|64,J[8]=J[8]&63|128;let Z=F6.Convert.ToHex(J).toLowerCase();return`${Z.substring(0,8)}-${Z.substring(8,12)}-${Z.substring(12,16)}-${Z.substring(16,20)}-${Z.substring(20)}`}}class Ut{constructor(){this.items={}}get(J){return this.items[J.toLowerCase()]||null}set(J){this.items[J.name.toLowerCase()]=J}removeAt(J){let Z=this.get(J.toLowerCase());if(Z)delete this.items[J];return Z}has(J){return!!this.get(J)}get length(){return Object.keys(this.items).length}get algorithms(){let J=[];for(let Z in this.items){let X=this.items[Z];J.push(X.name)}return J.sort()}}var d_1={jwk:["private","public","secret"],pkcs8:["private"],spki:["public"],raw:["secret","public"]},OA4=["pkcs8","spki","raw"];class Ot{constructor(){this.providers=new Ut}static isHashedAlgorithm(J){return J&&typeof J==="object"&&"name"in J&&"hash"in J?!0:!1}get[Symbol.toStringTag](){return"SubtleCrypto"}async digest(...J){this.checkRequiredArguments(J,2,"digest");let[Z,X,...Y]=J,$=this.prepareAlgorithm(Z),z=F6.BufferSourceConverter.toArrayBuffer(X);return await this.getProvider($.name).digest($,z,...Y)}async generateKey(...J){this.checkRequiredArguments(J,3,"generateKey");let[Z,X,Y,...$]=J,z=this.prepareAlgorithm(Z),W=this.getProvider(z.name);return await W.generateKey({...z,name:W.name},X,Y,...$)}async sign(...J){this.checkRequiredArguments(J,3,"sign");let[Z,X,Y,...$]=J;this.checkCryptoKey(X);let z=this.prepareAlgorithm(Z),W=F6.BufferSourceConverter.toArrayBuffer(Y),Q=this.getProvider(z.name);return await Q.sign({...z,name:Q.name},X,W,...$)}async verify(...J){this.checkRequiredArguments(J,4,"verify");let[Z,X,Y,$,...z]=J;this.checkCryptoKey(X);let W=this.prepareAlgorithm(Z),Q=F6.BufferSourceConverter.toArrayBuffer($),G=F6.BufferSourceConverter.toArrayBuffer(Y),K=this.getProvider(W.name);return await K.verify({...W,name:K.name},X,G,Q,...z)}async encrypt(...J){this.checkRequiredArguments(J,3,"encrypt");let[Z,X,Y,...$]=J;this.checkCryptoKey(X);let z=this.prepareAlgorithm(Z),W=F6.BufferSourceConverter.toArrayBuffer(Y),Q=this.getProvider(z.name);return await Q.encrypt({...z,name:Q.name},X,W,{keyUsage:!0},...$)}async decrypt(...J){this.checkRequiredArguments(J,3,"decrypt");let[Z,X,Y,...$]=J;this.checkCryptoKey(X);let z=this.prepareAlgorithm(Z),W=F6.BufferSourceConverter.toArrayBuffer(Y),Q=this.getProvider(z.name);return await Q.decrypt({...z,name:Q.name},X,W,{keyUsage:!0},...$)}async deriveBits(...J){this.checkRequiredArguments(J,3,"deriveBits");let[Z,X,Y,...$]=J;this.checkCryptoKey(X);let z=this.prepareAlgorithm(Z),W=this.getProvider(z.name);return await W.deriveBits({...z,name:W.name},X,Y,{keyUsage:!0},...$)}async deriveKey(...J){this.checkRequiredArguments(J,5,"deriveKey");let[Z,X,Y,$,z,...W]=J,Q=this.prepareAlgorithm(Y);this.getProvider(Q.name).checkDerivedKeyParams(Q);let K=this.prepareAlgorithm(Z),q=this.getProvider(K.name);q.checkCryptoKey(X,"deriveKey");let H=await q.deriveBits({...K,name:q.name},X,Y.length||512,{keyUsage:!1},...W);return this.importKey("raw",H,Y,$,z,...W)}async exportKey(...J){this.checkRequiredArguments(J,2,"exportKey");let[Z,X,...Y]=J;if(this.checkCryptoKey(X),!d_1[Z])throw new TypeError("Invalid keyFormat argument");if(!d_1[Z].includes(X.type))throw new DOMException("The key is not of the expected type");return await this.getProvider(X.algorithm.name).exportKey(Z,X,...Y)}async importKey(...J){this.checkRequiredArguments(J,5,"importKey");let[Z,X,Y,$,z,...W]=J,Q=this.prepareAlgorithm(Y),G=this.getProvider(Q.name);if(Z==="jwk"){if(typeof X!=="object"||!X.kty)throw new TypeError("Key data must be an object for JWK import")}else if(OA4.includes(Z)){if(!F6.BufferSourceConverter.isBufferSource(X))throw new TypeError("Key data must be a BufferSource for non-JWK formats")}else throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView or JsonWebKey)'");return G.importKey(Z,X,{...Q,name:G.name},$,z,...W)}async wrapKey(J,Z,X,Y,...$){let z=await this.exportKey(J,Z,...$);if(J==="jwk"){let K=JSON.stringify(z);z=F6.Convert.FromUtf8String(K)}let W=this.prepareAlgorithm(Y),Q=F6.BufferSourceConverter.toArrayBuffer(z),G=this.getProvider(W.name);return G.encrypt({...W,name:G.name},X,Q,{keyUsage:!1},...$)}async unwrapKey(J,Z,X,Y,$,z,W,...Q){let G=this.prepareAlgorithm(Y),K=F6.BufferSourceConverter.toArrayBuffer(Z),q=this.getProvider(G.name),H=await q.decrypt({...G,name:q.name},X,K,{keyUsage:!1},...Q);if(J==="jwk")try{H=JSON.parse(F6.Convert.ToUtf8String(H))}catch(F){let U=new TypeError("wrappedKey: Is not a JSON");throw U.internal=F,U}return this.importKey(J,H,$,z,W,...Q)}checkRequiredArguments(J,Z,X){if(J.length<Z)throw new TypeError(`Failed to execute '${X}' on 'SubtleCrypto': ${Z} arguments required, but only ${J.length} present`)}prepareAlgorithm(J){if(typeof J==="string")return{name:J};if(Ot.isHashedAlgorithm(J)){let Z={...J};return Z.hash=this.prepareAlgorithm(J.hash),Z}return{...J}}getProvider(J){let Z=this.providers.get(J);if(!Z)throw new jk("Unrecognized name");return Z}checkCryptoKey(J){if(!(J instanceof Rk))throw new TypeError("Key is not of type 'CryptoKey'")}}var DA4=Object.freeze({__proto__:null,converters:GA4}),VA4=["crv","e","k","kty","n","x","y"];class Ey1{static async thumbprint(J,Z,X){let Y=this.format(Z,!0);return X.subtle.digest(J,F6.Convert.FromBinary(JSON.stringify(Y)))}static format(J,Z=!1){let X=Object.entries(J);if(Z)X=X.filter((Y)=>VA4.includes(Y[0]));return X=X.sort(([Y],[$])=>Y>$?1:Y<$?-1:0),Object.fromEntries(X)}}Object.defineProperty(Sy1,"BufferSourceConverter",{enumerable:!0,get:function(){return F6.BufferSourceConverter}});Sy1.AesCbcProvider=c_1;Sy1.AesCmacProvider=l_1;Sy1.AesCtrProvider=p_1;Sy1.AesEcbProvider=n_1;Sy1.AesGcmProvider=i_1;Sy1.AesKwProvider=o_1;Sy1.AesProvider=z3;Sy1.AlgorithmError=jk;Sy1.Crypto=Ry1;Sy1.CryptoError=LQ;Sy1.CryptoKey=Rk;Sy1.DesProvider=s_1;Sy1.EcCurves=l8;Sy1.EcUtils=Nk;Sy1.EcdhEsProvider=Jy1;Sy1.EcdhProvider=Bt;Sy1.EcdsaProvider=e_1;Sy1.Ed25519Provider=My1;Sy1.EdDsaProvider=Zy1;Sy1.EllipticProvider=WP;Sy1.HkdfProvider=Ly1;Sy1.HmacProvider=Ny1;Sy1.JwkUtils=Ey1;Sy1.OperationError=KZ;Sy1.Pbkdf2Provider=Py1;Sy1.PemConverter=u_1;Sy1.ProviderCrypto=qZ;Sy1.ProviderStorage=Ut;Sy1.RequiredPropertyError=qt;Sy1.RsaOaepProvider=t_1;Sy1.RsaProvider=zP;Sy1.RsaPssProvider=r_1;Sy1.RsaSsaProvider=a_1;Sy1.Shake128Provider=Cy1;Sy1.Shake256Provider=jy1;Sy1.ShakeProvider=fk;Sy1.SubtleCrypto=Ot;Sy1.UnsupportedOperationError=VY;Sy1.X25519Provider=Ay1;Sy1.asn1=UA4;Sy1.isJWK=m_1;Sy1.json=DA4});var Vv1=B((Dv1)=>{/*!
 Copyright (c) Peculiar Ventures, LLC
*/var KP=Ty1(),f1=p("buffer"),p1=p("crypto"),WM4=p("process"),GF=R$(),r6=Gt(),OZ=XF(),B0=Yt();function hy1(J){var Z=Object.create(null);if(J)Object.keys(J).forEach(function(X){if(X!=="default"){var Y=Object.getOwnPropertyDescriptor(J,X);Object.defineProperty(Z,X,Y.get?Y:{enumerable:!0,get:function(){return J[X]}})}});return Z.default=J,Object.freeze(Z)}var Q1=hy1(KP),QM4=hy1(WM4),Mt={fromJSON:(J)=>f1.Buffer.from(OZ.Convert.FromBase64Url(J)),toJSON:(J)=>OZ.Convert.ToBase64Url(J)};class MY extends Q1.CryptoKey{constructor(){super(...arguments);this.data=f1.Buffer.alloc(0),this.algorithm={name:""},this.extractable=!1,this.type="secret",this.usages=[],this.kty="oct",this.alg=""}}GF.__decorate([r6.JsonProp({name:"ext",type:r6.JsonPropTypes.Boolean,optional:!0})],MY.prototype,"extractable",void 0);GF.__decorate([r6.JsonProp({name:"key_ops",type:r6.JsonPropTypes.String,repeated:!0,optional:!0})],MY.prototype,"usages",void 0);GF.__decorate([r6.JsonProp({type:r6.JsonPropTypes.String})],MY.prototype,"kty",void 0);GF.__decorate([r6.JsonProp({type:r6.JsonPropTypes.String,optional:!0})],MY.prototype,"alg",void 0);class Nt extends MY{constructor(){super(...arguments);this.kty="oct",this.type="secret"}}class KF extends MY{}class MJ extends Nt{get alg(){switch(this.algorithm.name.toUpperCase()){case"AES-CBC":return`A${this.algorithm.length}CBC`;case"AES-CTR":return`A${this.algorithm.length}CTR`;case"AES-GCM":return`A${this.algorithm.length}GCM`;case"AES-KW":return`A${this.algorithm.length}KW`;case"AES-CMAC":return`A${this.algorithm.length}CMAC`;case"AES-ECB":return`A${this.algorithm.length}ECB`;default:throw new Q1.AlgorithmError("Unsupported algorithm name")}}set alg(J){}}GF.__decorate([r6.JsonProp({name:"k",converter:Mt})],MJ.prototype,"data",void 0);class N4{static async generateKey(J,Z,X){let Y=new MJ;return Y.algorithm=J,Y.extractable=Z,Y.usages=X,Y.data=p1.randomBytes(J.length>>3),Y}static async exportKey(J,Z){if(!(Z instanceof MJ))throw new Error("key: Is not AesCryptoKey");switch(J.toLowerCase()){case"jwk":return r6.JsonSerializer.toJSON(Z);case"raw":return new Uint8Array(Z.data).buffer;default:throw new Q1.OperationError("format: Must be 'jwk' or 'raw'")}}static async importKey(J,Z,X,Y,$){let z;switch(J.toLowerCase()){case"jwk":z=r6.JsonParser.fromJSON(Z,{targetSchema:MJ});break;case"raw":z=new MJ,z.data=f1.Buffer.from(Z);break;default:throw new Q1.OperationError("format: Must be 'jwk' or 'raw'")}switch(z.algorithm=X,z.algorithm.length=z.data.length<<3,z.extractable=Y,z.usages=$,z.algorithm.length){case 128:case 192:case 256:break;default:throw new Q1.OperationError("keyData: Is wrong key length")}return z}static async encrypt(J,Z,X){switch(J.name.toUpperCase()){case"AES-CBC":return this.encryptAesCBC(J,Z,f1.Buffer.from(X));case"AES-CTR":return this.encryptAesCTR(J,Z,f1.Buffer.from(X));case"AES-GCM":return this.encryptAesGCM(J,Z,f1.Buffer.from(X));case"AES-KW":return this.encryptAesKW(J,Z,f1.Buffer.from(X));case"AES-ECB":return this.encryptAesECB(J,Z,f1.Buffer.from(X));default:throw new Q1.OperationError("algorithm: Is not recognized")}}static async decrypt(J,Z,X){if(!(Z instanceof MJ))throw new Error("key: Is not AesCryptoKey");switch(J.name.toUpperCase()){case"AES-CBC":return this.decryptAesCBC(J,Z,f1.Buffer.from(X));case"AES-CTR":return this.decryptAesCTR(J,Z,f1.Buffer.from(X));case"AES-GCM":return this.decryptAesGCM(J,Z,f1.Buffer.from(X));case"AES-KW":return this.decryptAesKW(J,Z,f1.Buffer.from(X));case"AES-ECB":return this.decryptAesECB(J,Z,f1.Buffer.from(X));default:throw new Q1.OperationError("algorithm: Is not recognized")}}static async encryptAesCBC(J,Z,X){let Y=p1.createCipheriv(`aes-${Z.algorithm.length}-cbc`,Z.data,new Uint8Array(J.iv)),$=Y.update(X);return $=f1.Buffer.concat([$,Y.final()]),new Uint8Array($).buffer}static async decryptAesCBC(J,Z,X){let Y=p1.createDecipheriv(`aes-${Z.algorithm.length}-cbc`,Z.data,new Uint8Array(J.iv)),$=Y.update(X);return $=f1.Buffer.concat([$,Y.final()]),new Uint8Array($).buffer}static async encryptAesCTR(J,Z,X){let Y=p1.createCipheriv(`aes-${Z.algorithm.length}-ctr`,Z.data,f1.Buffer.from(J.counter)),$=Y.update(X);return $=f1.Buffer.concat([$,Y.final()]),new Uint8Array($).buffer}static async decryptAesCTR(J,Z,X){let Y=p1.createDecipheriv(`aes-${Z.algorithm.length}-ctr`,Z.data,new Uint8Array(J.counter)),$=Y.update(X);return $=f1.Buffer.concat([$,Y.final()]),new Uint8Array($).buffer}static async encryptAesGCM(J,Z,X){let Y=p1.createCipheriv(`aes-${Z.algorithm.length}-gcm`,Z.data,f1.Buffer.from(J.iv),{authTagLength:(J.tagLength||128)>>3});if(J.additionalData)Y.setAAD(f1.Buffer.from(J.additionalData));let $=Y.update(X);return $=f1.Buffer.concat([$,Y.final(),Y.getAuthTag()]),new Uint8Array($).buffer}static async decryptAesGCM(J,Z,X){let Y=(J.tagLength||128)>>3,$=p1.createDecipheriv(`aes-${Z.algorithm.length}-gcm`,Z.data,new Uint8Array(J.iv),{authTagLength:Y}),z=X.slice(0,X.length-Y),W=X.slice(X.length-Y);if(J.additionalData)$.setAAD(f1.Buffer.from(J.additionalData));$.setAuthTag(W);let Q=$.update(z);return Q=f1.Buffer.concat([Q,$.final()]),new Uint8Array(Q).buffer}static async encryptAesKW(J,Z,X){let Y=p1.createCipheriv(`id-aes${Z.algorithm.length}-wrap`,Z.data,this.AES_KW_IV),$=Y.update(X);return $=f1.Buffer.concat([$,Y.final()]),new Uint8Array($).buffer}static async decryptAesKW(J,Z,X){let Y=p1.createDecipheriv(`id-aes${Z.algorithm.length}-wrap`,Z.data,this.AES_KW_IV),$=Y.update(X);return $=f1.Buffer.concat([$,Y.final()]),new Uint8Array($).buffer}static async encryptAesECB(J,Z,X){let Y=p1.createCipheriv(`aes-${Z.algorithm.length}-ecb`,Z.data,new Uint8Array(0)),$=Y.update(X);return $=f1.Buffer.concat([$,Y.final()]),new Uint8Array($).buffer}static async decryptAesECB(J,Z,X){let Y=p1.createDecipheriv(`aes-${Z.algorithm.length}-ecb`,Z.data,new Uint8Array(0)),$=Y.update(X);return $=f1.Buffer.concat([$,Y.final()]),new Uint8Array($).buffer}}N4.AES_KW_IV=f1.Buffer.from("A6A6A6A6A6A6A6A6","hex");var _y1=new WeakMap;function g1(J){let Z=_y1.get(J);if(!Z)throw new Q1.OperationError("Cannot get CryptoKey from secure storage");return Z}function a0(J){let Z=Q1.CryptoKey.create(J.algorithm,J.type,J.extractable,J.usages);return Object.freeze(Z),_y1.set(Z,J),Z}class yy1 extends Q1.AesCbcProvider{async onGenerateKey(J,Z,X){let Y=await N4.generateKey({name:this.name,length:J.length},Z,X);return a0(Y)}async onEncrypt(J,Z,X){return N4.encrypt(J,g1(Z),new Uint8Array(X))}async onDecrypt(J,Z,X){return N4.decrypt(J,g1(Z),new Uint8Array(X))}async onExportKey(J,Z){return N4.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await N4.importKey(J,Z,{name:X.name},Y,$);return a0(z)}checkCryptoKey(J,Z){if(super.checkCryptoKey(J,Z),!(g1(J)instanceof MJ))throw new TypeError("key: Is not a AesCryptoKey")}}var Pt=f1.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),fy1=f1.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135]),zF=16;function ky1(J){let Z=f1.Buffer.alloc(J.length),X=J.length-1;for(let Y=0;Y<X;Y++)if(Z[Y]=J[Y]<<1,J[Y+1]&128)Z[Y]+=1;return Z[X]=J[X]<<1,Z}function QI(J,Z){let X=Math.min(J.length,Z.length),Y=f1.Buffer.alloc(X);for(let $=0;$<X;$++)Y[$]=J[$]^Z[$];return Y}function Dt(J,Z){let X=p1.createCipheriv(`aes${J.length<<3}`,J,Pt),Y=X.update(Z);return X.final(),Y}function by1(J,Z){let X=f1.Buffer.alloc(zF),Y=Z*zF,$=Y+zF;return J.copy(X,0,Y,$),X}function GM4(J,Z){let X=f1.Buffer.alloc(zF),Y=Z*zF,$=J.length;return X.fill(0),J.copy(X,0,Y,$),X[$-Y]=128,X}function KM4(J){let Z=Dt(J,Pt),X=ky1(Z);if(Z[0]&128)X=QI(X,fy1);let Y=ky1(X);if(X[0]&128)Y=QI(Y,fy1);return{subkey1:X,subkey2:Y}}function qM4(J,Z){let X=KM4(J),Y=Math.ceil(Z.length/zF),$,z;if(Y===0)Y=1,$=!1;else $=Z.length%zF===0;let W=Y-1;if($)z=QI(by1(Z,W),X.subkey1);else z=QI(GM4(Z,W),X.subkey2);let Q=Pt,G;for(let K=0;K<W;K++)G=QI(Q,by1(Z,K)),Q=Dt(J,G);return G=QI(z,Q),Dt(J,G)}class vy1 extends Q1.AesCmacProvider{async onGenerateKey(J,Z,X){let Y=await N4.generateKey({name:this.name,length:J.length},Z,X);return a0(Y)}async onSign(J,Z,X){let Y=qM4(g1(Z).data,f1.Buffer.from(X));return new Uint8Array(Y).buffer}async onVerify(J,Z,X,Y){let $=await this.sign(J,Z,Y);return f1.Buffer.from(X).compare(f1.Buffer.from($))===0}async onExportKey(J,Z){return N4.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await N4.importKey(J,Z,{name:X.name},Y,$);return a0(z)}checkCryptoKey(J,Z){if(super.checkCryptoKey(J,Z),!(g1(J)instanceof MJ))throw new TypeError("key: Is not a AesCryptoKey")}}class xy1 extends Q1.AesCtrProvider{async onGenerateKey(J,Z,X){let Y=await N4.generateKey({name:this.name,length:J.length},Z,X);return a0(Y)}async onEncrypt(J,Z,X){return N4.encrypt(J,g1(Z),new Uint8Array(X))}async onDecrypt(J,Z,X){return N4.decrypt(J,g1(Z),new Uint8Array(X))}async onExportKey(J,Z){return N4.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await N4.importKey(J,Z,{name:X.name},Y,$);return a0(z)}checkCryptoKey(J,Z){if(super.checkCryptoKey(J,Z),!(g1(J)instanceof MJ))throw new TypeError("key: Is not a AesCryptoKey")}}class gy1 extends Q1.AesGcmProvider{async onGenerateKey(J,Z,X){let Y=await N4.generateKey({name:this.name,length:J.length},Z,X);return a0(Y)}async onEncrypt(J,Z,X){return N4.encrypt(J,g1(Z),new Uint8Array(X))}async onDecrypt(J,Z,X){return N4.decrypt(J,g1(Z),new Uint8Array(X))}async onExportKey(J,Z){return N4.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await N4.importKey(J,Z,{name:X.name},Y,$);return a0(z)}checkCryptoKey(J,Z){if(super.checkCryptoKey(J,Z),!(g1(J)instanceof MJ))throw new TypeError("key: Is not a AesCryptoKey")}}class dy1 extends Q1.AesKwProvider{async onGenerateKey(J,Z,X){let Y=await N4.generateKey({name:this.name,length:J.length},Z,X);return a0(Y)}async onExportKey(J,Z){return N4.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await N4.importKey(J,Z,{name:X.name},Y,$);return a0(z)}async onEncrypt(J,Z,X){return N4.encrypt(J,g1(Z),new Uint8Array(X))}async onDecrypt(J,Z,X){return N4.decrypt(J,g1(Z),new Uint8Array(X))}checkCryptoKey(J,Z){if(super.checkCryptoKey(J,Z),!(g1(J)instanceof MJ))throw new TypeError("key: Is not a AesCryptoKey")}}class uy1 extends Q1.AesEcbProvider{async onGenerateKey(J,Z,X){let Y=await N4.generateKey({name:this.name,length:J.length},Z,X);return a0(Y)}async onEncrypt(J,Z,X){return N4.encrypt(J,g1(Z),new Uint8Array(X))}async onDecrypt(J,Z,X){return N4.decrypt(J,g1(Z),new Uint8Array(X))}async onExportKey(J,Z){return N4.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await N4.importKey(J,Z,{name:X.name},Y,$);return a0(z)}checkCryptoKey(J,Z){if(super.checkCryptoKey(J,Z),!(g1(J)instanceof MJ))throw new TypeError("key: Is not a AesCryptoKey")}}class Q3 extends Nt{get alg(){switch(this.algorithm.name.toUpperCase()){case"DES-CBC":return"DES-CBC";case"DES-EDE3-CBC":return"3DES-CBC";default:throw new Q1.AlgorithmError("Unsupported algorithm name")}}set alg(J){}}GF.__decorate([r6.JsonProp({name:"k",converter:Mt})],Q3.prototype,"data",void 0);class wY{static async generateKey(J,Z,X){let Y=new Q3;return Y.algorithm=J,Y.extractable=Z,Y.usages=X,Y.data=p1.randomBytes(J.length>>3),Y}static async exportKey(J,Z){switch(J.toLowerCase()){case"jwk":return r6.JsonSerializer.toJSON(Z);case"raw":return new Uint8Array(Z.data).buffer;default:throw new Q1.OperationError("format: Must be 'jwk' or 'raw'")}}static async importKey(J,Z,X,Y,$){let z;switch(J.toLowerCase()){case"jwk":z=r6.JsonParser.fromJSON(Z,{targetSchema:Q3});break;case"raw":z=new Q3,z.data=f1.Buffer.from(Z);break;default:throw new Q1.OperationError("format: Must be 'jwk' or 'raw'")}return z.algorithm=X,z.extractable=Y,z.usages=$,z}static async encrypt(J,Z,X){switch(J.name.toUpperCase()){case"DES-CBC":return this.encryptDesCBC(J,Z,f1.Buffer.from(X));case"DES-EDE3-CBC":return this.encryptDesEDE3CBC(J,Z,f1.Buffer.from(X));default:throw new Q1.OperationError("algorithm: Is not recognized")}}static async decrypt(J,Z,X){if(!(Z instanceof Q3))throw new Error("key: Is not DesCryptoKey");switch(J.name.toUpperCase()){case"DES-CBC":return this.decryptDesCBC(J,Z,f1.Buffer.from(X));case"DES-EDE3-CBC":return this.decryptDesEDE3CBC(J,Z,f1.Buffer.from(X));default:throw new Q1.OperationError("algorithm: Is not recognized")}}static async encryptDesCBC(J,Z,X){let Y=p1.createCipheriv("des-cbc",Z.data,new Uint8Array(J.iv)),$=Y.update(X);return $=f1.Buffer.concat([$,Y.final()]),new Uint8Array($).buffer}static async decryptDesCBC(J,Z,X){let Y=p1.createDecipheriv("des-cbc",Z.data,new Uint8Array(J.iv)),$=Y.update(X);return $=f1.Buffer.concat([$,Y.final()]),new Uint8Array($).buffer}static async encryptDesEDE3CBC(J,Z,X){let Y=p1.createCipheriv("des-ede3-cbc",Z.data,f1.Buffer.from(J.iv)),$=Y.update(X);return $=f1.Buffer.concat([$,Y.final()]),new Uint8Array($).buffer}static async decryptDesEDE3CBC(J,Z,X){let Y=p1.createDecipheriv("des-ede3-cbc",Z.data,new Uint8Array(J.iv)),$=Y.update(X);return $=f1.Buffer.concat([$,Y.final()]),new Uint8Array($).buffer}}class my1 extends Q1.DesProvider{constructor(){super(...arguments);this.keySizeBits=64,this.ivSize=8,this.name="DES-CBC"}async onGenerateKey(J,Z,X){let Y=await wY.generateKey({name:this.name,length:this.keySizeBits},Z,X);return a0(Y)}async onEncrypt(J,Z,X){return wY.encrypt(J,g1(Z),new Uint8Array(X))}async onDecrypt(J,Z,X){return wY.decrypt(J,g1(Z),new Uint8Array(X))}async onExportKey(J,Z){return wY.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await wY.importKey(J,Z,{name:this.name,length:this.keySizeBits},Y,$);if(z.data.length!==this.keySizeBits>>3)throw new Q1.OperationError("keyData: Wrong key size");return a0(z)}checkCryptoKey(J,Z){if(super.checkCryptoKey(J,Z),!(g1(J)instanceof Q3))throw new TypeError("key: Is not a DesCryptoKey")}}class cy1 extends Q1.DesProvider{constructor(){super(...arguments);this.keySizeBits=192,this.ivSize=8,this.name="DES-EDE3-CBC"}async onGenerateKey(J,Z,X){let Y=await wY.generateKey({name:this.name,length:this.keySizeBits},Z,X);return a0(Y)}async onEncrypt(J,Z,X){return wY.encrypt(J,g1(Z),new Uint8Array(X))}async onDecrypt(J,Z,X){return wY.decrypt(J,g1(Z),new Uint8Array(X))}async onExportKey(J,Z){return wY.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await wY.importKey(J,Z,{name:this.name,length:this.keySizeBits},Y,$);if(z.data.length!==this.keySizeBits>>3)throw new Q1.OperationError("keyData: Wrong key size");return a0(z)}checkCryptoKey(J,Z){if(super.checkCryptoKey(J,Z),!(g1(J)instanceof Q3))throw new TypeError("key: Is not a DesCryptoKey")}}function ly1(J){switch(J.name.toUpperCase()){case"RSA-OAEP":{let Z=/(\d+)$/.exec(J.hash.name)[1];return`RSA-OAEP${Z!=="1"?`-${Z}`:""}`}case"RSASSA-PKCS1-V1_5":return`RS${/(\d+)$/.exec(J.hash.name)[1]}`;case"RSA-PSS":return`PS${/(\d+)$/.exec(J.hash.name)[1]}`;case"RSA-PKCS1":return"RS1";default:throw new Q1.OperationError("algorithm: Is not recognized")}}class WF extends KF{constructor(){super(...arguments);this.type="private"}getKey(){let J=B0.AsnParser.parse(this.data,Q1.asn1.PrivateKeyInfo);return B0.AsnParser.parse(J.privateKey,Q1.asn1.RsaPrivateKey)}toJSON(){let J=this.getKey(),Z={kty:"RSA",alg:ly1(this.algorithm),key_ops:this.usages,ext:this.extractable};return Object.assign(Z,r6.JsonSerializer.toJSON(J))}fromJSON(J){let Z=r6.JsonParser.fromJSON(J,{targetSchema:Q1.asn1.RsaPrivateKey}),X=new Q1.asn1.PrivateKeyInfo;X.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",X.privateKeyAlgorithm.parameters=null,X.privateKey=B0.AsnSerializer.serialize(Z),this.data=f1.Buffer.from(B0.AsnSerializer.serialize(X))}}class QF extends KF{constructor(){super(...arguments);this.type="public"}getKey(){let J=B0.AsnParser.parse(this.data,Q1.asn1.PublicKeyInfo);return B0.AsnParser.parse(J.publicKey,Q1.asn1.RsaPublicKey)}toJSON(){let J=this.getKey(),Z={kty:"RSA",alg:ly1(this.algorithm),key_ops:this.usages,ext:this.extractable};return Object.assign(Z,r6.JsonSerializer.toJSON(J))}fromJSON(J){let Z=r6.JsonParser.fromJSON(J,{targetSchema:Q1.asn1.RsaPublicKey}),X=new Q1.asn1.PublicKeyInfo;X.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",X.publicKeyAlgorithm.parameters=null,X.publicKey=B0.AsnSerializer.serialize(Z),this.data=f1.Buffer.from(B0.AsnSerializer.serialize(X))}}class b5{static async generateKey(J,Z,X){let Y=new WF;Y.algorithm=J,Y.extractable=Z,Y.usages=X.filter((G)=>this.privateKeyUsages.indexOf(G)!==-1);let $=new QF;$.algorithm=J,$.extractable=!0,$.usages=X.filter((G)=>this.publicKeyUsages.indexOf(G)!==-1);let z=f1.Buffer.concat([f1.Buffer.alloc(4-J.publicExponent.byteLength,0),f1.Buffer.from(J.publicExponent)]).readInt32BE(0),W=p1.generateKeyPairSync("rsa",{modulusLength:J.modulusLength,publicExponent:z,publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return Y.data=W.privateKey,$.data=W.publicKey,{privateKey:Y,publicKey:$}}static async exportKey(J,Z){switch(J.toLowerCase()){case"jwk":return r6.JsonSerializer.toJSON(Z);case"pkcs8":case"spki":return new Uint8Array(Z.data).buffer;default:throw new Q1.OperationError("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async importKey(J,Z,X,Y,$){switch(J.toLowerCase()){case"jwk":if(Z.d){let W=r6.JsonParser.fromJSON(Z,{targetSchema:Q1.asn1.RsaPrivateKey});return this.importPrivateKey(W,X,Y,$)}else{let W=r6.JsonParser.fromJSON(Z,{targetSchema:Q1.asn1.RsaPublicKey});return this.importPublicKey(W,X,Y,$)}case"spki":{let z=B0.AsnParser.parse(new Uint8Array(Z),Q1.asn1.PublicKeyInfo),W=B0.AsnParser.parse(z.publicKey,Q1.asn1.RsaPublicKey);return this.importPublicKey(W,X,Y,$)}case"pkcs8":{let z=B0.AsnParser.parse(new Uint8Array(Z),Q1.asn1.PrivateKeyInfo),W=B0.AsnParser.parse(z.privateKey,Q1.asn1.RsaPrivateKey);return this.importPrivateKey(W,X,Y,$)}default:throw new Q1.OperationError("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async sign(J,Z,X){switch(J.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.signRsa(J,Z,X);default:throw new Q1.OperationError("algorithm: Is not recognized")}}static async verify(J,Z,X,Y){switch(J.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.verifySSA(J,Z,Y,X);default:throw new Q1.OperationError("algorithm: Is not recognized")}}static async encrypt(J,Z,X){switch(J.name.toUpperCase()){case"RSA-OAEP":return this.encryptOAEP(J,Z,X);default:throw new Q1.OperationError("algorithm: Is not recognized")}}static async decrypt(J,Z,X){switch(J.name.toUpperCase()){case"RSA-OAEP":return this.decryptOAEP(J,Z,X);default:throw new Q1.OperationError("algorithm: Is not recognized")}}static importPrivateKey(J,Z,X,Y){let $=new Q1.asn1.PrivateKeyInfo;$.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",$.privateKeyAlgorithm.parameters=null,$.privateKey=B0.AsnSerializer.serialize(J);let z=new WF;return z.data=f1.Buffer.from(B0.AsnSerializer.serialize($)),z.algorithm=Object.assign({},Z),z.algorithm.publicExponent=new Uint8Array(J.publicExponent),z.algorithm.modulusLength=J.modulus.byteLength<<3,z.extractable=X,z.usages=Y,z}static importPublicKey(J,Z,X,Y){let $=new Q1.asn1.PublicKeyInfo;$.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",$.publicKeyAlgorithm.parameters=null,$.publicKey=B0.AsnSerializer.serialize(J);let z=new QF;return z.data=f1.Buffer.from(B0.AsnSerializer.serialize($)),z.algorithm=Object.assign({},Z),z.algorithm.publicExponent=new Uint8Array(J.publicExponent),z.algorithm.modulusLength=J.modulus.byteLength<<3,z.extractable=X,z.usages=Y,z}static getCryptoAlgorithm(J){switch(J.hash.name.toUpperCase()){case"SHA-1":return"RSA-SHA1";case"SHA-256":return"RSA-SHA256";case"SHA-384":return"RSA-SHA384";case"SHA-512":return"RSA-SHA512";case"SHA3-256":return"RSA-SHA3-256";case"SHA3-384":return"RSA-SHA3-384";case"SHA3-512":return"RSA-SHA3-512";default:throw new Q1.OperationError("algorithm.hash: Is not recognized")}}static signRsa(J,Z,X){let Y=this.getCryptoAlgorithm(Z.algorithm),$=p1.createSign(Y);if($.update(f1.Buffer.from(X)),!Z.pem)Z.pem=`-----BEGIN PRIVATE KEY-----
${Z.data.toString("base64")}
-----END PRIVATE KEY-----`;let z={key:Z.pem};if(J.name.toUpperCase()==="RSA-PSS")z.padding=p1.constants.RSA_PKCS1_PSS_PADDING,z.saltLength=J.saltLength;let W=$.sign(z);return new Uint8Array(W).buffer}static verifySSA(J,Z,X,Y){let $=this.getCryptoAlgorithm(Z.algorithm),z=p1.createVerify($);if(z.update(f1.Buffer.from(X)),!Z.pem)Z.pem=`-----BEGIN PUBLIC KEY-----
${Z.data.toString("base64")}
-----END PUBLIC KEY-----`;let W={key:Z.pem};if(J.name.toUpperCase()==="RSA-PSS")W.padding=p1.constants.RSA_PKCS1_PSS_PADDING,W.saltLength=J.saltLength;return z.verify(W,Y)}static encryptOAEP(J,Z,X){let Y={key:`-----BEGIN PUBLIC KEY-----
${Z.data.toString("base64")}
-----END PUBLIC KEY-----`,padding:p1.constants.RSA_PKCS1_OAEP_PADDING};if(J.label);return new Uint8Array(p1.publicEncrypt(Y,X)).buffer}static decryptOAEP(J,Z,X){let Y={key:`-----BEGIN PRIVATE KEY-----
${Z.data.toString("base64")}
-----END PRIVATE KEY-----`,padding:p1.constants.RSA_PKCS1_OAEP_PADDING};if(J.label);return new Uint8Array(p1.privateDecrypt(Y,X)).buffer}}b5.publicKeyUsages=["verify","encrypt","wrapKey"];b5.privateKeyUsages=["sign","decrypt","unwrapKey"];class py1 extends Q1.RsaSsaProvider{constructor(){super(...arguments);this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(J,Z,X){let Y=await b5.generateKey({...J,name:this.name},Z,X);return{privateKey:a0(Y.privateKey),publicKey:a0(Y.publicKey)}}async onSign(J,Z,X){return b5.sign(J,g1(Z),new Uint8Array(X))}async onVerify(J,Z,X,Y){return b5.verify(J,g1(Z),new Uint8Array(X),new Uint8Array(Y))}async onExportKey(J,Z){return b5.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await b5.importKey(J,Z,{...X,name:this.name},Y,$);return a0(z)}checkCryptoKey(J,Z){super.checkCryptoKey(J,Z);let X=g1(J);if(!(X instanceof WF||X instanceof QF))throw new TypeError("key: Is not RSA CryptoKey")}}class ny1 extends Q1.RsaPssProvider{constructor(){super(...arguments);this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(J,Z,X){let Y=await b5.generateKey({...J,name:this.name},Z,X);return{privateKey:a0(Y.privateKey),publicKey:a0(Y.publicKey)}}async onSign(J,Z,X){return b5.sign(J,g1(Z),new Uint8Array(X))}async onVerify(J,Z,X,Y){return b5.verify(J,g1(Z),new Uint8Array(X),new Uint8Array(Y))}async onExportKey(J,Z){return b5.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await b5.importKey(J,Z,{...X,name:this.name},Y,$);return a0(z)}checkCryptoKey(J,Z){super.checkCryptoKey(J,Z);let X=g1(J);if(!(X instanceof WF||X instanceof QF))throw new TypeError("key: Is not RSA CryptoKey")}}class G7{static size(J){switch(J.name.toUpperCase()){case"SHA-1":return 160;case"SHA-256":case"SHA3-256":return 256;case"SHA-384":case"SHA3-384":return 384;case"SHA-512":case"SHA3-512":return 512;default:throw new Error("Unrecognized name")}}static getAlgorithmName(J){switch(J.name.toUpperCase()){case"SHA-1":return"sha1";case"SHA-256":return"sha256";case"SHA-384":return"sha384";case"SHA-512":return"sha512";case"SHA3-256":return"sha3-256";case"SHA3-384":return"sha3-384";case"SHA3-512":return"sha3-512";default:throw new Error("Unrecognized name")}}static digest(J,Z){let X=this.getAlgorithmName(J),Y=p1.createHash(X).update(f1.Buffer.from(Z)).digest();return new Uint8Array(Y).buffer}}class iy1 extends Q1.RsaOaepProvider{async onGenerateKey(J,Z,X){let Y=await b5.generateKey({...J,name:this.name},Z,X);return{privateKey:a0(Y.privateKey),publicKey:a0(Y.publicKey)}}async onEncrypt(J,Z,X){let Y=g1(Z),$=new Uint8Array(X),z=Math.ceil(Y.algorithm.modulusLength>>3),W=G7.size(Y.algorithm.hash)>>3,Q=$.byteLength,G=z-Q-2*W-2;if(Q>z-2*W-2)throw new Error("Data too large");let K=new Uint8Array(z),q=K.subarray(1,W+1),H=K.subarray(W+1);H.set($,W+G+1);let F=p1.createHash(Y.algorithm.hash.name.replace("-","")).update(Q1.BufferSourceConverter.toUint8Array(J.label||new Uint8Array(0))).digest();H.set(F,0),H[W+G]=1,p1.randomFillSync(q);let U=this.mgf1(Y.algorithm.hash,q,H.length);for(let w=0;w<H.length;w++)H[w]^=U[w];let D=this.mgf1(Y.algorithm.hash,H,q.length);for(let w=0;w<q.length;w++)q[w]^=D[w];if(!Y.pem)Y.pem=`-----BEGIN PUBLIC KEY-----
${Y.data.toString("base64")}
-----END PUBLIC KEY-----`;let V=p1.publicEncrypt({key:Y.pem,padding:p1.constants.RSA_NO_PADDING},f1.Buffer.from(K));return new Uint8Array(V).buffer}async onDecrypt(J,Z,X){let Y=g1(Z),$=Math.ceil(Y.algorithm.modulusLength>>3),z=G7.size(Y.algorithm.hash)>>3;if(X.byteLength!==$)throw new Error("Bad data");if(!Y.pem)Y.pem=`-----BEGIN PRIVATE KEY-----
${Y.data.toString("base64")}
-----END PRIVATE KEY-----`;let Q=p1.privateDecrypt({key:Y.pem,padding:p1.constants.RSA_NO_PADDING},f1.Buffer.from(X)),G=Q[0],K=Q.subarray(1,z+1),q=Q.subarray(z+1);if(G!==0)throw new Error("Decryption failed");let H=this.mgf1(Y.algorithm.hash,q,K.length);for(let V=0;V<K.length;V++)K[V]^=H[V];let F=this.mgf1(Y.algorithm.hash,K,q.length);for(let V=0;V<q.length;V++)q[V]^=F[V];let U=p1.createHash(Y.algorithm.hash.name.replace("-","")).update(Q1.BufferSourceConverter.toUint8Array(J.label||new Uint8Array(0))).digest();for(let V=0;V<z;V++)if(U[V]!==q[V])throw new Error("Decryption failed");let D=z;for(;D<q.length;D++){let V=q[D];if(V===1)break;if(V!==0)throw new Error("Decryption failed")}if(D===q.length)throw new Error("Decryption failed");return Q=q.subarray(D+1),new Uint8Array(Q).buffer}async onExportKey(J,Z){return b5.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await b5.importKey(J,Z,{...X,name:this.name},Y,$);return a0(z)}checkCryptoKey(J,Z){super.checkCryptoKey(J,Z);let X=g1(J);if(!(X instanceof WF||X instanceof QF))throw new TypeError("key: Is not RSA CryptoKey")}mgf1(J,Z,X=0){let Y=G7.size(J)>>3,$=new Uint8Array(X),z=new Uint8Array(4),W=Math.ceil(X/Y);for(let Q=0;Q<W;Q++){z[0]=Q>>>24,z[1]=Q>>>16&255,z[2]=Q>>>8&255,z[3]=Q&255;let G=$.subarray(Q*Y),K=p1.createHash(J.name.replace("-","")).update(Z).update(z).digest();if(K.length>G.length)K=K.subarray(0,G.length);G.set(K)}return $}}class oy1 extends Q1.ProviderCrypto{constructor(){super(...arguments);this.name="RSAES-PKCS1-v1_5",this.usages={publicKey:["encrypt","wrapKey"],privateKey:["decrypt","unwrapKey"]}}async onGenerateKey(J,Z,X){let Y=await b5.generateKey({...J,name:this.name},Z,X);return{privateKey:a0(Y.privateKey),publicKey:a0(Y.publicKey)}}checkGenerateKeyParams(J){if(this.checkRequiredProperty(J,"publicExponent"),!(J.publicExponent&&J.publicExponent instanceof Uint8Array))throw new TypeError("publicExponent: Missing or not a Uint8Array");let Z=OZ.Convert.ToBase64(J.publicExponent);if(!(Z==="Aw=="||Z==="AQAB"))throw new TypeError("publicExponent: Must be [3] or [1,0,1]");switch(this.checkRequiredProperty(J,"modulusLength"),J.modulusLength){case 1024:case 2048:case 4096:break;default:throw new TypeError("modulusLength: Must be 1024, 2048, or 4096")}}async onEncrypt(J,Z,X){let Y=this.toCryptoOptions(Z),$=p1.publicEncrypt(Y,new Uint8Array(X));return new Uint8Array($).buffer}async onDecrypt(J,Z,X){let Y=this.toCryptoOptions(Z),$=p1.privateDecrypt(Y,new Uint8Array(X));return new Uint8Array($).buffer}async onExportKey(J,Z){return b5.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await b5.importKey(J,Z,{...X,name:this.name},Y,$);return a0(z)}checkCryptoKey(J,Z){super.checkCryptoKey(J,Z);let X=g1(J);if(!(X instanceof WF||X instanceof QF))throw new TypeError("key: Is not RSA CryptoKey")}toCryptoOptions(J){let Z=J.type.toUpperCase();return{key:`-----BEGIN ${Z} KEY-----
${g1(J).data.toString("base64")}
-----END ${Z} KEY-----`,padding:p1.constants.RSA_PKCS1_PADDING}}}var BM4={"1.2.840.10045.3.1.7":"P-256","P-256":"1.2.840.10045.3.1.7","1.3.132.0.34":"P-384","P-384":"1.3.132.0.34","1.3.132.0.35":"P-521","P-521":"1.3.132.0.35","1.3.132.0.10":"K-256","K-256":"1.3.132.0.10",brainpoolP160r1:"1.3.36.3.3.2.8.1.1.1","1.3.36.3.3.2.8.1.1.1":"brainpoolP160r1",brainpoolP160t1:"1.3.36.3.3.2.8.1.1.2","1.3.36.3.3.2.8.1.1.2":"brainpoolP160t1",brainpoolP192r1:"1.3.36.3.3.2.8.1.1.3","1.3.36.3.3.2.8.1.1.3":"brainpoolP192r1",brainpoolP192t1:"1.3.36.3.3.2.8.1.1.4","1.3.36.3.3.2.8.1.1.4":"brainpoolP192t1",brainpoolP224r1:"1.3.36.3.3.2.8.1.1.5","1.3.36.3.3.2.8.1.1.5":"brainpoolP224r1",brainpoolP224t1:"1.3.36.3.3.2.8.1.1.6","1.3.36.3.3.2.8.1.1.6":"brainpoolP224t1",brainpoolP256r1:"1.3.36.3.3.2.8.1.1.7","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1",brainpoolP256t1:"1.3.36.3.3.2.8.1.1.8","1.3.36.3.3.2.8.1.1.8":"brainpoolP256t1",brainpoolP320r1:"1.3.36.3.3.2.8.1.1.9","1.3.36.3.3.2.8.1.1.9":"brainpoolP320r1",brainpoolP320t1:"1.3.36.3.3.2.8.1.1.10","1.3.36.3.3.2.8.1.1.10":"brainpoolP320t1",brainpoolP384r1:"1.3.36.3.3.2.8.1.1.11","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1",brainpoolP384t1:"1.3.36.3.3.2.8.1.1.12","1.3.36.3.3.2.8.1.1.12":"brainpoolP384t1",brainpoolP512r1:"1.3.36.3.3.2.8.1.1.13","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1",brainpoolP512t1:"1.3.36.3.3.2.8.1.1.14","1.3.36.3.3.2.8.1.1.14":"brainpoolP512t1"};function qP(J){let Z=BM4[J];if(!Z)throw new Q1.OperationError(`Cannot convert WebCrypto named curve '${J}' to OID`);return Z}class BP extends KF{constructor(){super(...arguments);this.type="private"}getKey(){let J=B0.AsnParser.parse(this.data,Q1.asn1.PrivateKeyInfo);return B0.AsnParser.parse(J.privateKey,Q1.asn1.EcPrivateKey)}toJSON(){let J=this.getKey(),Z={kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(Z,r6.JsonSerializer.toJSON(J))}fromJSON(J){if(!J.crv)throw new Q1.OperationError("Cannot get named curve from JWK. Property 'crv' is required");let Z=new Q1.asn1.PrivateKeyInfo;Z.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",Z.privateKeyAlgorithm.parameters=B0.AsnSerializer.serialize(new Q1.asn1.ObjectIdentifier(qP(J.crv)));let X=r6.JsonParser.fromJSON(J,{targetSchema:Q1.asn1.EcPrivateKey});return Z.privateKey=B0.AsnSerializer.serialize(X),this.data=f1.Buffer.from(B0.AsnSerializer.serialize(Z)),this}}class HP extends KF{constructor(){super(...arguments);this.type="public"}getKey(){let J=B0.AsnParser.parse(this.data,Q1.asn1.PublicKeyInfo);return new Q1.asn1.EcPublicKey(J.publicKey)}toJSON(){let J=this.getKey(),Z={kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(Z,r6.JsonSerializer.toJSON(J))}fromJSON(J){if(!J.crv)throw new Q1.OperationError("Cannot get named curve from JWK. Property 'crv' is required");let Z=r6.JsonParser.fromJSON(J,{targetSchema:Q1.asn1.EcPublicKey}),X=new Q1.asn1.PublicKeyInfo;return X.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1",X.publicKeyAlgorithm.parameters=B0.AsnSerializer.serialize(new Q1.asn1.ObjectIdentifier(qP(J.crv))),X.publicKey=B0.AsnSerializer.toASN(Z).valueHex,this.data=f1.Buffer.from(B0.AsnSerializer.serialize(X)),this}}class sy1 extends Q1.ProviderCrypto{constructor(){super(...arguments);this.name="SHA-1",this.usages=[]}async onDigest(J,Z){return G7.digest(J,Z)}}class ay1 extends Q1.ProviderCrypto{constructor(){super(...arguments);this.name="SHA-256",this.usages=[]}async onDigest(J,Z){return G7.digest(J,Z)}}class ry1 extends Q1.ProviderCrypto{constructor(){super(...arguments);this.name="SHA-384",this.usages=[]}async onDigest(J,Z){return G7.digest(J,Z)}}class ty1 extends Q1.ProviderCrypto{constructor(){super(...arguments);this.name="SHA-512",this.usages=[]}async onDigest(J,Z){return G7.digest(J,Z)}}class ey1 extends Q1.ProviderCrypto{constructor(){super(...arguments);this.name="SHA3-256",this.usages=[]}async onDigest(J,Z){return G7.digest(J,Z)}}class Jv1 extends Q1.ProviderCrypto{constructor(){super(...arguments);this.name="SHA3-384",this.usages=[]}async onDigest(J,Z){return G7.digest(J,Z)}}class Zv1 extends Q1.ProviderCrypto{constructor(){super(...arguments);this.name="SHA3-512",this.usages=[]}async onDigest(J,Z){return G7.digest(J,Z)}}class FZ{static async generateKey(J,Z,X){let Y=new BP;Y.algorithm=J,Y.extractable=Z,Y.usages=X.filter((Q)=>this.privateKeyUsages.indexOf(Q)!==-1);let $=new HP;$.algorithm=J,$.extractable=!0,$.usages=X.filter((Q)=>this.publicKeyUsages.indexOf(Q)!==-1);let z=p1.generateKeyPairSync("ec",{namedCurve:this.getOpenSSLNamedCurve(J.namedCurve),publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return Y.data=z.privateKey,$.data=z.publicKey,{privateKey:Y,publicKey:$}}static async sign(J,Z,X){let Y=G7.getAlgorithmName(J.hash),$=p1.createSign(Y);if($.update(f1.Buffer.from(X)),!Z.pem)Z.pem=`-----BEGIN PRIVATE KEY-----
${Z.data.toString("base64")}
-----END PRIVATE KEY-----`;let z={key:Z.pem},W=$.sign(z),Q=B0.AsnParser.parse(W,Q1.asn1.EcDsaSignature);return Q1.EcUtils.encodeSignature(Q,Q1.EcCurves.get(Z.algorithm.namedCurve).size).buffer}static async verify(J,Z,X,Y){let $=G7.getAlgorithmName(J.hash),z=p1.createVerify($);if(z.update(f1.Buffer.from(Y)),!Z.pem)Z.pem=`-----BEGIN PUBLIC KEY-----
${Z.data.toString("base64")}
-----END PUBLIC KEY-----`;let W={key:Z.pem},Q=new Q1.asn1.EcDsaSignature,G=Q1.EcCurves.get(Z.algorithm.namedCurve),K=Q1.EcUtils.decodeSignature(X,G.size);Q.r=OZ.BufferSourceConverter.toArrayBuffer(K.r),Q.s=OZ.BufferSourceConverter.toArrayBuffer(K.s);let q=f1.Buffer.from(B0.AsnSerializer.serialize(Q));return z.verify(W,q)}static async deriveBits(J,Z,X){let Y=this.getOpenSSLNamedCurve(Z.algorithm.namedCurve),$=p1.createECDH(Y),z=B0.AsnParser.parse(Z.data,Q1.asn1.PrivateKeyInfo),W=B0.AsnParser.parse(z.privateKey,Q1.asn1.EcPrivateKey);$.setPrivateKey(f1.Buffer.from(W.privateKey));let Q=B0.AsnParser.parse(J.public.data,Q1.asn1.PublicKeyInfo),G=$.computeSecret(f1.Buffer.from(Q.publicKey));if(X===null)return G;return new Uint8Array(G).buffer.slice(0,X>>3)}static async exportKey(J,Z){switch(J.toLowerCase()){case"jwk":return r6.JsonSerializer.toJSON(Z);case"pkcs8":case"spki":return new Uint8Array(Z.data).buffer;case"raw":return B0.AsnParser.parse(Z.data,Q1.asn1.PublicKeyInfo).publicKey;default:throw new Q1.OperationError("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(J,Z,X,Y,$){switch(J.toLowerCase()){case"jwk":if(Z.d){let W=r6.JsonParser.fromJSON(Z,{targetSchema:Q1.asn1.EcPrivateKey});return this.importPrivateKey(W,X,Y,$)}else{let W=r6.JsonParser.fromJSON(Z,{targetSchema:Q1.asn1.EcPublicKey});return this.importPublicKey(W,X,Y,$)}case"raw":{let z=new Q1.asn1.EcPublicKey(Z);return this.importPublicKey(z,X,Y,$)}case"spki":{let z=B0.AsnParser.parse(new Uint8Array(Z),Q1.asn1.PublicKeyInfo),W=new Q1.asn1.EcPublicKey(z.publicKey);return this.assertKeyParameters(z.publicKeyAlgorithm.parameters,X.namedCurve),this.importPublicKey(W,X,Y,$)}case"pkcs8":{let z=B0.AsnParser.parse(new Uint8Array(Z),Q1.asn1.PrivateKeyInfo),W=B0.AsnParser.parse(z.privateKey,Q1.asn1.EcPrivateKey);return this.assertKeyParameters(z.privateKeyAlgorithm.parameters,X.namedCurve),this.importPrivateKey(W,X,Y,$)}default:throw new Q1.OperationError("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static assertKeyParameters(J,Z){if(!J)throw new Q1.CryptoError("Key info doesn't have required parameters");let X="";try{X=B0.AsnParser.parse(J,Q1.asn1.ObjectIdentifier).value}catch(Y){throw new Q1.CryptoError("Cannot read key info parameters")}if(qP(Z)!==X)throw new Q1.CryptoError("Key info parameter doesn't match to named curve")}static async importPrivateKey(J,Z,X,Y){let $=new Q1.asn1.PrivateKeyInfo;$.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",$.privateKeyAlgorithm.parameters=B0.AsnSerializer.serialize(new Q1.asn1.ObjectIdentifier(qP(Z.namedCurve))),$.privateKey=B0.AsnSerializer.serialize(J);let z=new BP;return z.data=f1.Buffer.from(B0.AsnSerializer.serialize($)),z.algorithm=Object.assign({},Z),z.extractable=X,z.usages=Y,z}static async importPublicKey(J,Z,X,Y){let $=new Q1.asn1.PublicKeyInfo;$.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1";let z=qP(Z.namedCurve);$.publicKeyAlgorithm.parameters=B0.AsnSerializer.serialize(new Q1.asn1.ObjectIdentifier(z)),$.publicKey=J.value;let W=new HP;return W.data=f1.Buffer.from(B0.AsnSerializer.serialize($)),W.algorithm=Object.assign({},Z),W.extractable=X,W.usages=Y,W}static getOpenSSLNamedCurve(J){switch(J.toUpperCase()){case"P-256":return"prime256v1";case"K-256":return"secp256k1";case"P-384":return"secp384r1";case"P-521":return"secp521r1";default:return J}}}FZ.publicKeyUsages=["verify"];FZ.privateKeyUsages=["sign","deriveKey","deriveBits"];class Xv1 extends Q1.EcdsaProvider{constructor(){super(...arguments);this.namedCurves=Q1.EcCurves.names,this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(J,Z,X){let Y=await FZ.generateKey({...J,name:this.name},Z,X);return{privateKey:a0(Y.privateKey),publicKey:a0(Y.publicKey)}}async onSign(J,Z,X){return FZ.sign(J,g1(Z),new Uint8Array(X))}async onVerify(J,Z,X,Y){return FZ.verify(J,g1(Z),new Uint8Array(X),new Uint8Array(Y))}async onExportKey(J,Z){return FZ.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await FZ.importKey(J,Z,{...X,name:this.name},Y,$);return a0(z)}checkCryptoKey(J,Z){super.checkCryptoKey(J,Z);let X=g1(J);if(!(X instanceof BP||X instanceof HP))throw new TypeError("key: Is not EC CryptoKey")}}class Yv1 extends Q1.EcdhProvider{constructor(){super(...arguments);this.namedCurves=Q1.EcCurves.names}async onGenerateKey(J,Z,X){let Y=await FZ.generateKey({...J,name:this.name},Z,X);return{privateKey:a0(Y.privateKey),publicKey:a0(Y.publicKey)}}async onExportKey(J,Z){return FZ.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await FZ.importKey(J,Z,{...X,name:this.name},Y,$);return a0(z)}checkCryptoKey(J,Z){super.checkCryptoKey(J,Z);let X=g1(J);if(!(X instanceof BP||X instanceof HP))throw new TypeError("key: Is not EC CryptoKey")}async onDeriveBits(J,Z,X){return await FZ.deriveBits({...J,public:g1(J.public)},g1(Z),X)}}var HM4={[Q1.asn1.idEd448]:"Ed448",ed448:Q1.asn1.idEd448,[Q1.asn1.idX448]:"X448",x448:Q1.asn1.idX448,[Q1.asn1.idEd25519]:"Ed25519",ed25519:Q1.asn1.idEd25519,[Q1.asn1.idX25519]:"X25519",x25519:Q1.asn1.idX25519};function $v1(J){let Z=HM4[J.toLowerCase()];if(!Z)throw new Q1.OperationError(`Cannot convert WebCrypto named curve '${J}' to OID`);return Z}class Vt extends KF{constructor(){super(...arguments);this.type="private"}getKey(){let J=B0.AsnParser.parse(this.data,Q1.asn1.PrivateKeyInfo);return B0.AsnParser.parse(J.privateKey,Q1.asn1.CurvePrivateKey)}toJSON(){let J=this.getKey(),Z={kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(Z,r6.JsonSerializer.toJSON(J))}fromJSON(J){if(!J.crv)throw new Q1.OperationError("Cannot get named curve from JWK. Property 'crv' is required");let Z=new Q1.asn1.PrivateKeyInfo;Z.privateKeyAlgorithm.algorithm=$v1(J.crv);let X=r6.JsonParser.fromJSON(J,{targetSchema:Q1.asn1.CurvePrivateKey});return Z.privateKey=B0.AsnSerializer.serialize(X),this.data=f1.Buffer.from(B0.AsnSerializer.serialize(Z)),this}}class It extends KF{constructor(){super(...arguments);this.type="public"}getKey(){return B0.AsnParser.parse(this.data,Q1.asn1.PublicKeyInfo).publicKey}toJSON(){let J=this.getKey(),Z={kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(Z,{x:OZ.Convert.ToBase64Url(J)})}fromJSON(J){if(!J.crv)throw new Q1.OperationError("Cannot get named curve from JWK. Property 'crv' is required");if(!J.x)throw new Q1.OperationError("Cannot get property from JWK. Property 'x' is required");let Z=new Q1.asn1.PublicKeyInfo;return Z.publicKeyAlgorithm.algorithm=$v1(J.crv),Z.publicKey=OZ.Convert.FromBase64Url(J.x),this.data=f1.Buffer.from(B0.AsnSerializer.serialize(Z)),this}}class UZ{static async generateKey(J,Z,X){let Y=new Vt;Y.algorithm=J,Y.extractable=Z,Y.usages=X.filter((G)=>this.privateKeyUsages.indexOf(G)!==-1);let $=new It;$.algorithm=J,$.extractable=!0,$.usages=X.filter((G)=>this.publicKeyUsages.indexOf(G)!==-1);let z=J.namedCurve.toLowerCase(),W=p1.generateKeyPairSync(z,{publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return Y.data=W.privateKey,$.data=W.publicKey,{privateKey:Y,publicKey:$}}static async sign(J,Z,X){if(!Z.pem)Z.pem=`-----BEGIN PRIVATE KEY-----
${Z.data.toString("base64")}
-----END PRIVATE KEY-----`;let Y={key:Z.pem},$=p1.sign(null,f1.Buffer.from(X),Y);return Q1.BufferSourceConverter.toArrayBuffer($)}static async verify(J,Z,X,Y){if(!Z.pem)Z.pem=`-----BEGIN PUBLIC KEY-----
${Z.data.toString("base64")}
-----END PUBLIC KEY-----`;let $={key:Z.pem};return p1.verify(null,f1.Buffer.from(Y),$,f1.Buffer.from(X))}static async deriveBits(J,Z,X){let Y=p1.createPublicKey({key:J.public.data,format:"der",type:"spki"}),$=p1.createPrivateKey({key:Z.data,format:"der",type:"pkcs8"}),z=p1.diffieHellman({publicKey:Y,privateKey:$});return new Uint8Array(z).buffer.slice(0,X>>3)}static async exportKey(J,Z){switch(J.toLowerCase()){case"jwk":return r6.JsonSerializer.toJSON(Z);case"pkcs8":case"spki":return new Uint8Array(Z.data).buffer;case"raw":return B0.AsnParser.parse(Z.data,Q1.asn1.PublicKeyInfo).publicKey;default:throw new Q1.OperationError("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(J,Z,X,Y,$){switch(J.toLowerCase()){case"jwk":{let z=Z;if(z.d){let W=r6.JsonParser.fromJSON(Z,{targetSchema:Q1.asn1.CurvePrivateKey});return this.importPrivateKey(W,X,Y,$)}else{if(!z.x)throw new TypeError("keyData: Cannot get required 'x' filed");return this.importPublicKey(OZ.Convert.FromBase64Url(z.x),X,Y,$)}}case"raw":return this.importPublicKey(Z,X,Y,$);case"spki":{let z=B0.AsnParser.parse(new Uint8Array(Z),Q1.asn1.PublicKeyInfo);return this.importPublicKey(z.publicKey,X,Y,$)}case"pkcs8":{let z=B0.AsnParser.parse(new Uint8Array(Z),Q1.asn1.PrivateKeyInfo),W=B0.AsnParser.parse(z.privateKey,Q1.asn1.CurvePrivateKey);return this.importPrivateKey(W,X,Y,$)}default:throw new Q1.OperationError("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static importPrivateKey(J,Z,X,Y){let $=new Vt;return $.fromJSON({crv:Z.namedCurve,d:OZ.Convert.ToBase64Url(J.d)}),$.algorithm=Object.assign({},Z),$.extractable=X,$.usages=Y,$}static async importPublicKey(J,Z,X,Y){let $=new It;return $.fromJSON({crv:Z.namedCurve,x:OZ.Convert.ToBase64Url(J)}),$.algorithm=Object.assign({},Z),$.extractable=X,$.usages=Y,$}}UZ.publicKeyUsages=["verify"];UZ.privateKeyUsages=["sign","deriveKey","deriveBits"];class zv1 extends Q1.EdDsaProvider{async onGenerateKey(J,Z,X){let Y=await UZ.generateKey({name:this.name,namedCurve:J.namedCurve.replace(/^ed/i,"Ed")},Z,X);return{privateKey:a0(Y.privateKey),publicKey:a0(Y.publicKey)}}async onSign(J,Z,X){return UZ.sign(J,g1(Z),new Uint8Array(X))}async onVerify(J,Z,X,Y){return UZ.verify(J,g1(Z),new Uint8Array(X),new Uint8Array(Y))}async onExportKey(J,Z){return UZ.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await UZ.importKey(J,Z,{...X,name:this.name},Y,$);return a0(z)}}class Wv1 extends Q1.EcdhEsProvider{async onGenerateKey(J,Z,X){let Y=await UZ.generateKey({name:this.name,namedCurve:J.namedCurve.toUpperCase()},Z,X);return{privateKey:a0(Y.privateKey),publicKey:a0(Y.publicKey)}}async onDeriveBits(J,Z,X){return await UZ.deriveBits({...J,public:g1(J.public)},g1(Z),X)}async onExportKey(J,Z){return UZ.exportKey(J,g1(Z))}async onImportKey(J,Z,X,Y,$){let z=await UZ.importKey(J,Z,{...X,name:this.name},Y,$);return a0(z)}}class bk extends MY{constructor(J,Z,X,Y){super();this.algorithm=J,this.extractable=Z,this.usages=X,this.data=Buffer.from(Y)}toJWK(){return{kty:"OKP",crv:this.algorithm.name,key_ops:this.usages,ext:this.extractable}}}class kk extends bk{constructor(){super(...arguments);this.type="private"}toJWK(){let J=p1.createPublicKey({key:this.data,format:"pem"}).export({format:"jwk"}),Z=Q1.PemConverter.toUint8Array(this.data.toString()),X=B0.AsnConvert.parse(Z,Q1.asn1.PrivateKeyInfo),Y=B0.AsnConvert.parse(X.privateKey,Q1.asn1.EdPrivateKey).value;return{...super.toJWK(),...J,d:Buffer.from(new Uint8Array(Y)).toString("base64url")}}}class GP extends bk{constructor(){super(...arguments);this.type="public"}toJWK(){let J=p1.createPublicKey({key:this.data,format:"pem"}).export({format:"jwk"});return{...super.toJWK(),...J}}}class AY{static async generateKey(J,Z,X){let Y=J.name.toLowerCase(),$=p1.generateKeyPairSync(Y,{publicKeyEncoding:{format:"pem",type:"spki"},privateKeyEncoding:{format:"pem",type:"pkcs8"}}),z={name:Y==="ed25519"?"Ed25519":"X25519"},W=X.filter((G)=>this.privateKeyUsages.includes(G)),Q=X.filter((G)=>this.publicKeyUsages.includes(G));return{privateKey:new kk(z,Z,W,$.privateKey),publicKey:new GP(z,!0,Q,$.publicKey)}}static async sign(J,Z,X){let Y=p1.sign(null,Buffer.from(X),Z.data);return Q1.BufferSourceConverter.toArrayBuffer(Y)}static async verify(J,Z,X,Y){return p1.verify(null,Buffer.from(Y),Z.data,X)}static async exportKey(J,Z){switch(J){case"jwk":return Z.toJWK();case"pkcs8":return Q1.PemConverter.toArrayBuffer(Z.data.toString());case"spki":return Q1.PemConverter.toArrayBuffer(Z.data.toString());case"raw":{let X=Z.toJWK();return OZ.Convert.FromBase64Url(X.x)}default:return Promise.reject(new Q1.OperationError("format: Must be 'jwk', 'raw', pkcs8' or 'spki'"))}}static async importKey(J,Z,X,Y,$){switch(J){case"jwk":{let z=Z;if(z.d){let W=new Q1.asn1.EdPrivateKey;W.value=Q1.BufferSourceConverter.toArrayBuffer(Buffer.from(z.d,"base64url"));let Q=new Q1.asn1.PrivateKeyInfo;Q.privateKeyAlgorithm.algorithm=X.name.toLowerCase()==="ed25519"?Q1.asn1.idEd25519:Q1.asn1.idX25519,Q.privateKey=B0.AsnConvert.serialize(W);let G=B0.AsnConvert.serialize(Q),K=Q1.PemConverter.fromBufferSource(G,"PRIVATE KEY");return new kk(X,Y,$,K)}else if(z.x){let Q=p1.createPublicKey({format:"jwk",key:z}).export({format:"pem",type:"spki"});return new GP(X,Y,$,Q)}else throw new Q1.OperationError("keyData: Cannot import JWK. 'd' or 'x' must be presented")}case"pkcs8":{let z=Q1.PemConverter.fromBufferSource(Z,"PRIVATE KEY");return new kk(X,Y,$,z)}case"spki":{let z=Q1.PemConverter.fromBufferSource(Z,"PUBLIC KEY");return new GP(X,Y,$,z)}case"raw":{let z=Z,Q=p1.createPublicKey({format:"jwk",key:{kty:"OKP",crv:X.name.toLowerCase()==="ed25519"?"Ed25519":"X25519",x:OZ.Convert.ToBase64Url(z)}}).export({format:"pem",type:"spki"});return new GP(X,Y,$,Q)}default:return Promise.reject(new Q1.OperationError("format: Must be 'jwk', 'raw', pkcs8' or 'spki'"))}}}AY.privateKeyUsages=["sign","deriveBits","deriveKey"];AY.publicKeyUsages=["verify"];class Qv1 extends Q1.Ed25519Provider{async onGenerateKey(J,Z,X){let Y=await AY.generateKey(J,Z,X);return{privateKey:a0(Y.privateKey),publicKey:a0(Y.publicKey)}}async onSign(J,Z,X){let Y=g1(Z);return AY.sign(J,Y,new Uint8Array(X))}onVerify(J,Z,X,Y){let $=g1(Z);return AY.verify(J,$,new Uint8Array(X),new Uint8Array(Y))}async onExportKey(J,Z){let X=g1(Z);return AY.exportKey(J,X)}async onImportKey(J,Z,X,Y,$){let z=await AY.importKey(J,Z,X,Y,$);return a0(z)}}class Gv1 extends Q1.X25519Provider{async onGenerateKey(J,Z,X){let Y=await AY.generateKey(J,Z,X);return{privateKey:a0(Y.privateKey),publicKey:a0(Y.publicKey)}}async onDeriveBits(J,Z,X){let Y=g1(Z),$=g1(J.public),z=p1.createPublicKey({key:$.data.toString(),format:"pem",type:"spki"}),W=p1.createPrivateKey({key:Y.data.toString(),format:"pem",type:"pkcs8"}),Q=p1.diffieHellman({publicKey:z,privateKey:W});return new Uint8Array(Q).buffer.slice(0,X>>3)}async onExportKey(J,Z){let X=g1(Z);return AY.exportKey(J,X)}async onImportKey(J,Z,X,Y,$){let z=await AY.importKey(J,Z,X,Y,$);return a0(z)}checkCryptoKey(J,Z){if(super.checkCryptoKey(J,Z),!(g1(J)instanceof bk))throw new TypeError("key: Is not a Ed25519CryptoKey")}}class wt extends MY{}class Kv1 extends Q1.Pbkdf2Provider{async onDeriveBits(J,Z,X){return new Promise((Y,$)=>{let z=Q1.BufferSourceConverter.toArrayBuffer(J.salt),W=J.hash.name.replace("-","");p1.pbkdf2(g1(Z).data,f1.Buffer.from(z),J.iterations,X>>3,W,(Q,G)=>{if(Q)$(Q);else Y(new Uint8Array(G).buffer)})})}async onImportKey(J,Z,X,Y,$){if(J==="raw"){let z=new wt;return z.data=f1.Buffer.from(Z),z.algorithm={name:this.name},z.extractable=!1,z.usages=$,a0(z)}throw new Q1.OperationError("format: Must be 'raw'")}checkCryptoKey(J,Z){if(super.checkCryptoKey(J,Z),!(g1(J)instanceof wt))throw new TypeError("key: Is not PBKDF CryptoKey")}}class GI extends MY{get alg(){return`HS${this.algorithm.hash.name.toUpperCase().replace("SHA-","")}`}set alg(J){}}GF.__decorate([r6.JsonProp({name:"k",converter:Mt})],GI.prototype,"data",void 0);class qv1 extends Q1.HmacProvider{async onGenerateKey(J,Z,X){let Y=(J.length||this.getDefaultLength(J.hash.name))>>3<<3,$=new GI;return $.algorithm={...J,length:Y,name:this.name},$.extractable=Z,$.usages=X,$.data=p1.randomBytes(Y>>3),a0($)}async onSign(J,Z,X){let Y=G7.getAlgorithmName(Z.algorithm.hash),$=p1.createHmac(Y,g1(Z).data).update(f1.Buffer.from(X)).digest();return new Uint8Array($).buffer}async onVerify(J,Z,X,Y){let $=G7.getAlgorithmName(Z.algorithm.hash);return p1.createHmac($,g1(Z).data).update(f1.Buffer.from(Y)).digest().compare(f1.Buffer.from(X))===0}async onImportKey(J,Z,X,Y,$){let z;switch(J.toLowerCase()){case"jwk":z=r6.JsonParser.fromJSON(Z,{targetSchema:GI});break;case"raw":z=new GI,z.data=f1.Buffer.from(Z);break;default:throw new Q1.OperationError("format: Must be 'jwk' or 'raw'")}return z.algorithm={hash:{name:X.hash.name},name:this.name,length:z.data.length<<3},z.extractable=Y,z.usages=$,a0(z)}async onExportKey(J,Z){switch(J.toLowerCase()){case"jwk":return r6.JsonSerializer.toJSON(g1(Z));case"raw":return new Uint8Array(g1(Z).data).buffer;default:throw new Q1.OperationError("format: Must be 'jwk' or 'raw'")}}checkCryptoKey(J,Z){if(super.checkCryptoKey(J,Z),!(g1(J)instanceof GI))throw new TypeError("key: Is not HMAC CryptoKey")}}class At extends MY{}class Bv1 extends Q1.HkdfProvider{async onImportKey(J,Z,X,Y,$){if(J.toLowerCase()!=="raw")throw new Q1.OperationError("Operation not supported");let z=new At;return z.data=f1.Buffer.from(Z),z.algorithm={name:this.name},z.extractable=Y,z.usages=$,a0(z)}async onDeriveBits(J,Z,X){let Y=J.hash.name.replace("-",""),$=p1.createHash(Y).digest().length,z=X/8,W=KP.BufferSourceConverter.toUint8Array(J.info),Q=p1.createHmac(Y,KP.BufferSourceConverter.toUint8Array(J.salt)).update(KP.BufferSourceConverter.toUint8Array(g1(Z).data)).digest(),G=[f1.Buffer.alloc(0)],K=Math.ceil(z/$)+1;for(let q=1;q<K;++q)G.push(p1.createHmac(Y,Q).update(f1.Buffer.concat([G[q-1],W,f1.Buffer.from([q])])).digest());return f1.Buffer.concat(G).slice(0,z)}checkCryptoKey(J,Z){if(super.checkCryptoKey(J,Z),!(g1(J)instanceof At))throw new TypeError("key: Is not HKDF CryptoKey")}}class Lt{static digest(J,Z){let X=p1.createHash(J.name.toLowerCase(),{outputLength:J.length}).update(f1.Buffer.from(Z)).digest();return new Uint8Array(X).buffer}}class Hv1 extends Q1.Shake128Provider{async onDigest(J,Z){return Lt.digest(J,Z)}}class Fv1 extends Q1.Shake256Provider{async onDigest(J,Z){return Lt.digest(J,Z)}}class Uv1 extends Q1.SubtleCrypto{constructor(){var J;super();if(this.providers.set(new yy1),this.providers.set(new xy1),this.providers.set(new gy1),this.providers.set(new vy1),this.providers.set(new dy1),this.providers.set(new uy1),p1.getCiphers().includes("des-cbc"))this.providers.set(new my1);this.providers.set(new cy1),this.providers.set(new py1),this.providers.set(new ny1),this.providers.set(new iy1),this.providers.set(new oy1),this.providers.set(new Xv1),this.providers.set(new Yv1),this.providers.set(new sy1),this.providers.set(new ay1),this.providers.set(new ry1),this.providers.set(new ty1),this.providers.set(new Kv1),this.providers.set(new qv1),this.providers.set(new Bv1);let X=(J=/^v(\d+)/.exec(QM4.version))===null||J===void 0?void 0:J[1];if(X&&parseInt(X,10)>=12)this.providers.set(new Hv1),this.providers.set(new Fv1);let Y=p1.getHashes();if(Y.includes("sha3-256"))this.providers.set(new ey1);if(Y.includes("sha3-384"))this.providers.set(new Jv1);if(Y.includes("sha3-512"))this.providers.set(new Zv1);if(X&&parseInt(X,10)>=14)this.providers.set(new zv1),this.providers.set(new Wv1),this.providers.set(new Qv1),this.providers.set(new Gv1)}}class Ov1 extends Q1.Crypto{constructor(){super(...arguments);this.subtle=new Uv1}getRandomValues(J){if(!ArrayBuffer.isView(J))throw new TypeError("Failed to execute 'getRandomValues' on 'Crypto': parameter 1 is not of type 'ArrayBufferView'");let Z=f1.Buffer.from(J.buffer,J.byteOffset,J.byteLength);return p1.randomFillSync(Z),J}}Object.defineProperty(Dv1,"CryptoKey",{enumerable:!0,get:function(){return KP.CryptoKey}});Dv1.Crypto=Ov1});var wv1=B((K79,Iv1)=>{Iv1.exports=function J(Z={}){let X={};if(!X.URLPattern){let $=oT1();X.URLPattern=$.URLPattern}if(globalThis.Deno||process.versions.bun)return globalThis;let Y=Pb1();if(X.fetch=Y.fetch,X.Request=Y.Request,X.Response=Y.Response,X.Headers=Y.Headers,X.FormData=Y.FormData,X.AbortController=Y.AbortController,X.ReadableStream=Y.ReadableStream,X.URL=Y.URL,X.URLSearchParams=Y.URLSearchParams,X.WritableStream=globalThis.WritableStream,X.TransformStream=globalThis.TransformStream,!X.WritableStream)try{let $=p("stream/web");X.WritableStream=$.WritableStream,X.TransformStream=$.TransformStream}catch($){let z=Cb1();X.WritableStream=z.WritableStream,X.TransformStream=z.TransformStream}if(X.Blob=Y.Blob,X.File=Y.File,X.crypto=globalThis.crypto,X.btoa=Y.btoa,X.TextEncoder=Y.TextEncoder,X.TextDecoder=Y.TextDecoder,X.AbortSignal=Y.AbortSignal,Z.formDataLimits)X.Body=class $ extends Y.Body{constructor(z,W){super(z,{formDataLimits:Z.formDataLimits,...W})}},X.Request=class $ extends Y.Request{constructor(z,W){super(z,{formDataLimits:Z.formDataLimits,...W})}},X.Response=class $ extends Y.Response{constructor(z,W){super(z,{formDataLimits:Z.formDataLimits,...W})}};if(!X.crypto){let $=p("crypto");X.crypto=$.webcrypto}if(!X.crypto){let $=Vv1();X.crypto=new $.Crypto}return X}});var gx1=B((tJ9,xx1)=>{xx1.exports=function(J){if(J===null||J===void 0)return[];return Array.isArray(J)?J:[J]}});var ux1=B((eJ9,dx1)=>{var{GraphQLError:xM4,Kind:BF}=B6(),gM4=gx1(),dM4=(J,Z={},X=()=>{})=>(Y)=>{try{let{definitions:$}=Y.getDocument(),z=uM4($),W=mM4($),Q={};for(let G in W)Q[G]=uk(W[G],z,0,J,Y,G,Z);return X(Q),Y}catch($){throw console.error($),$}};dx1.exports=dM4;function uM4(J){return J.reduce((Z,X)=>{if(X.kind===BF.FRAGMENT_DEFINITION)Z[X.name.value]=X;return Z},{})}function mM4(J){return J.reduce((Z,X)=>{if(X.kind===BF.OPERATION_DEFINITION)Z[X.name?X.name.value:""]=X;return Z},{})}function uk(J,Z,X,Y,$,z,W){if(X>Y)return $.reportError(new xM4(`'${z}' exceeds maximum operation depth of ${Y}`,[J]));switch(J.kind){case BF.FIELD:if(/^__/.test(J.name.value)||cM4(J,W.ignore)||!J.selectionSet)return 0;return 1+Math.max(...J.selectionSet.selections.map((G)=>uk(G,Z,X+1,Y,$,z,W)));case BF.FRAGMENT_SPREAD:return uk(Z[J.name.value],Z,X,Y,$,z,W);case BF.INLINE_FRAGMENT:case BF.FRAGMENT_DEFINITION:case BF.OPERATION_DEFINITION:return Math.max(...J.selectionSet.selections.map((G)=>uk(G,Z,X,Y,$,z,W)));default:throw new Error("uh oh! depth crawler cannot handle: "+J.kind)}}function cM4(J,Z){for(let X of gM4(Z)){let Y=J.name.value;switch(X.constructor){case Function:if(X(Y))return!0;break;case String:case RegExp:if(Y.match(X))return!0;break;default:throw new Error(`Invalid ignore option: ${X}`)}}return!1}});var XL=B((Y$9,iC4)=>{iC4.exports={name:"cmake-js",description:"CMake.js - a Node.js native addon build tool",license:"MIT",keywords:["native","addon","module","c","c++","bindings","build","buildtools","cmake","nw.js","electron","boost","nan","napi","node-api","node-addon-api"],main:"lib",version:"7.3.1",author:"G\xE1bor Mez\u0151 aka unbornchikken",maintainers:[{name:"Julian Waller",email:"git@julusian.co.uk",url:"https://github.com/julusian/"}],repository:{type:"git",url:"git://github.com/cmake-js/cmake-js.git"},bin:{"cmake-js":"./bin/cmake-js"},engines:{node:">= 14.15.0"},dependencies:{axios:"^1.6.5",debug:"^4","fs-extra":"^11.2.0","memory-stream":"^1.0.0","node-api-headers":"^1.1.0",npmlog:"^6.0.2",rc:"^1.2.7",semver:"^7.5.4",tar:"^6.2.0","url-join":"^4.0.1",which:"^2.0.2",yargs:"^17.7.2"},devDependencies:{eslint:"^8.56.0","eslint-config-prettier":"^9.1.0",mocha:"*",nan:"^2.22.2","node-addon-api":"^6.1.0",prettier:"^3.2.2"},scripts:{test:"mocha tests",lint:"eslint lib bin/cmake-js tests"},files:["lib","bin","*.md","bindings.js","bindings.d.ts"],packageManager:"yarn@1.22.22+sha256.c17d3797fb9a9115bf375e31bfd30058cac6bc9c3b8807a3d8cb2094794b51ca"}});var Ld1=B(($$9,Pd1)=>{var __filename="/Users/Simon.Owusu@Tommy.com/WebstormProjects/CapellaQL/node_modules/couchbase/scripts/prebuilds.js",O5=p("fs"),B4=p("path"),wd1=p("child_process"),Ad1=typeof __webpack_require__==="function"?__non_webpack_require__:p,oC4=["darwin","linux","linuxmusl","win32"],sC4=["x64","arm64"],aC4=["napi","electron"],bQ=G24()?"electron":"node",R41=Y24(),rC4=Md1(R41),Jh=process.arch,D3=process.platform,YL=X24(D3),tC4=z24(bQ,R41);CN_ROOT=B4.resolve(B4.dirname(__filename),"..");CXXCBC_CACHE_DIR=process.env.CN_CXXCBC_CACHE_DIR||B4.join(CN_ROOT,"deps","couchbase-cxx-cache");ENV_TRUE=["true","1","y","yes","on"];function eC4(J,Z,X,Y,$){if(J=J||process.env.CN_PREBUILD_RUNTIME||"node",Z=Z||process.env.CN_PREBUILD_RUNTIME_VERSION||process.version.replace("v",""),typeof X==="undefined")X=ENV_TRUE.includes((process.env.CN_USE_OPENSSL||"true").toLowerCase());let z=process.env.CN_REARRANGE_PATH||!1;if(z&&!["null","false","undefined","0","n","no","off"].includes(z.toLowerCase())){let U=process.env.PATH.split(B4.delimiter),D=[],V=[];U.forEach((w)=>{if(w.includes("node_modules"))V.push(w);else D.push(w)}),D.push(...V),process.env.PATH=D.join(B4.delimiter)}let Q=[B4.join(p.resolve("/Users/Simon.Owusu@Tommy.com/WebstormProjects/CapellaQL/node_modules/cmake-js/package.json"),"..",XL().bin["cmake-js"]),Y?"compile":"build","--runtime",J,"--runtime-version",Z,"--parallel",$],G=process.env.CN_BUILD_CONFIG;if(G&&["Debug","Release","RelWithDebInfo"].includes(G))Q.push(...["--config",`${G}`]);let K=process.env.CN_CMAKE_GENERATOR_PLATFORM;if(K)Q.push(`--generator=${K}`);if(!X)Q.push("--CDUSE_STATIC_OPENSSL=OFF");if(ENV_TRUE.includes((process.env.CN_USE_CPM_CACHE||"true").toLowerCase())){if(!O5.existsSync(CXXCBC_CACHE_DIR))throw new Error(`Cannot use cached dependencies, path=${CXXCBC_CACHE_DIR} does not exist.`);Q.push(...["--CDCPM_DOWNLOAD_ALL=OFF","--CDCPM_USE_NAMED_CACHE_DIRECTORIES=ON","--CDCPM_USE_LOCAL_PACKAGES=OFF",`--CDCPM_SOURCE_CACHE=${CXXCBC_CACHE_DIR}`,`--CDCOUCHBASE_CXX_CLIENT_EMBED_MOZILLA_CA_BUNDLE_ROOT=${CXXCBC_CACHE_DIR}`])}if(ENV_TRUE.includes((process.env.CN_VERBOSE_MAKEFILE||"false").toLowerCase()))Q.push("--CDCMAKE_VERBOSE_MAKEFILE=ON");let q=process.env.CN_CMAKE_SYSTEM_VERSION;if(q)Q.push(`--CDCMAKE_SYSTEM_VERSION=${q}`);let H=process.env.CN_CACHE_OPTION;if(H)Q.push(`--CDCACHE_OPTION=${H}`);let F=wd1.spawnSync(process.execPath,Q,{stdio:"inherit"});process.exit(F.status)}function J24(J,Z,X,Y,$){if(J=J||process.env.CN_PREBUILD_RUNTIME||"node",Z=Z||process.env.CN_PREBUILD_RUNTIME_VERSION||process.version.replace("v",""),typeof X==="undefined")X=ENV_TRUE.includes((process.env.CN_USE_OPENSSL||"true").toLowerCase());if(typeof Y==="undefined")Y=ENV_TRUE.includes((process.env.CN_SET_CPM_CACHE||"false").toLowerCase());let W=[B4.join(p.resolve("/Users/Simon.Owusu@Tommy.com/WebstormProjects/CapellaQL/node_modules/cmake-js/package.json"),"..",XL().bin["cmake-js"]),"configure","--runtime",J,"--runtime-version",Z,"--parallel",$];if(Y){if(O5.existsSync(CXXCBC_CACHE_DIR))O5.rmSync(`${CXXCBC_CACHE_DIR}`,{recursive:!0});W.push(...[`--CDCOUCHBASE_CXX_CPM_CACHE_DIR=${CXXCBC_CACHE_DIR}`,"--CDCPM_DOWNLOAD_ALL=ON","--CDCPM_USE_NAMED_CACHE_DIRECTORIES=ON","--CDCPM_USE_LOCAL_PACKAGES=OFF"])}if(!X)W.push("--CDUSE_STATIC_OPENSSL=OFF");let Q=wd1.spawnSync(process.execPath,W,{stdio:"inherit"});if(!Q.status){if(!X){let K=B4.join(CXXCBC_CACHE_DIR,"boringssl");if(O5.existsSync(K)){let q=O5.readdirSync(K);if(q.length==1&&O5.statSync(B4.join(K,q[0])).isDirectory()){K=B4.join(K,q[0],"boringssl"),q=O5.readdirSync(K);let H=q.find((F)=>F=="crypto_test_data.cc");if(H)O5.rmSync(B4.join(K,H))}}}let G=B4.join(CXXCBC_CACHE_DIR,"cpm");if(O5.existsSync(G)){let K=O5.readdirSync(G);if(K.length==1&&K[0].endsWith(".cmake")){let q=O5.readFileSync(B4.join(G,K[0]),"utf-8");q=q.replace(/Git REQUIRED/g,"Git"),O5.writeFileSync(B4.join(G,K[0]),q,"utf-8")}}}process.exit(Q.status)}function Z24(J){let Z=["build",B4.join("build","Release"),B4.join("build","RelWithDebInfo"),B4.join("build","Debug")],X=void 0;for(let Y=0;Y<Z.length;Y++)try{let $=B4.join(J,Z[Y]),z=S41($).filter(E41);if(X=z[0]&&B4.join($,z[0]),X)break}catch($){}return X}function X24(J){if(J!=="linux")return"";return`linux${Q24(J)?"musl":""}`}function Md1(J){let Z=J.split(".");return parseInt(Z[0])}function Y24(){return process.version.replace("v","")}function $24(J){J=B4.resolve(J||".");let Z={packageDir:B4.join(J,"package.json"),platformPackageDir:void 0},X=JSON.parse(O5.readFileSync(Z.packageDir)).name;if(X!==void 0){let $=`${X}-${D3==="linux"?YL:D3}-${Jh}-${bQ==="node"?"napi":bQ}`,z=`@${X}/${$}`,W=p("module").createRequire(B4.join(J,"package.json"));Z.packageDir=B4.dirname(B4.join(J,"package.json")),Z.platformPackageDir=B4.dirname(W.resolve(z))}return Z}function z24(J,Z){if(J==="electron")return"boringssl";if(Md1(Z)>=18)return"openssl3";return"openssl1"}function W24(J){if(J=J||"couchbase",J!=="couchbase")throw new Error("Cannot build supported platform packages for package other than couchbase.");let Z=[];return oC4.forEach((X)=>{sC4.forEach((Y)=>{if(X==="win32"&&Y==="arm64")return;aC4.forEach(($)=>{Z.push(`${J}-${X}-${Y}-${$}`)})})}),Z}function Q24(J){return J==="linux"&&O5.existsSync("/etc/alpine-release")}function G24(){if(process.versions&&process.versions.electron)return!0;if(process.env.ELECTRON_RUN_AS_NODE)return!0;return typeof window!=="undefined"&&window.process&&window.process.type==="renderer"}function K24(J){return Ad1(Nd1(J))}function E41(J){return/\.node$/.test(J)}function q24(J,Z=!1){if(["index.js","package.json","README.md"].includes(J))return!1;let X="";if(Z)X="electron";else if(bQ==="node")X="napi";else if(bQ==="electron")X="electron";else return console.log(`Unsupported runtime: ${bQ}`),!1;let Y=J.split("-");if(Y.length<7)return!1;let $=Y[Y.length-1].replace(".node","");if(X==="electron"){if($!=="boringssl")return!1}else{let W=["boringssl"];if(rC4>=18)W.push("openssl3");else W.push("openssl1");if(!W.includes($))return!1}if(Y[Y.length-2]!==Jh)return!1;let z=D3==="linux"?YL:D3;if(Y[Y.length-3]!==z)return!1;if(!E41(J))return!1;return!0}function S41(J){try{return O5.readdirSync(J)}catch(Z){return[]}}async function B24(J,Z){if(O5.existsSync(J)){let X=S41(J).filter(E41);if(X&&X.length>=1){if(!O5.existsSync(Z))O5.mkdirSync(Z,{recursive:!0});try{O5.copyFileSync(B4.join(J,X[0]),B4.join(Z,X[0]))}catch(Y){}}}}function Nd1(J,{runtimeResolve:Z=!0,useElectronRuntime:X=!1}={}){J=B4.resolve(J||".");let Y="";if(X)Y="electron";else if(bQ==="node")Y="napi";else if(bQ==="electron")Y="electron";else throw new Error(`Unsupported runtime: ${bQ}`);try{let z=Z24(J);if(z)return z;let W=Z?Ad1(B4.join(J,"package.json")).name:JSON.parse(O5.readFileSync(B4.join(J,"package.json"))).name;if(W!==void 0){let Q=W24(W),G=`${W}-${D3==="linux"?YL:D3}-${Jh}-${Y}`;if(Q.includes(G)){let K=`@${W}/${G}`,q=p("module").createRequire(B4.join(J,"package.json")),H=B4.dirname(q.resolve(K));if(H!==void 0){let F=S41(H).filter((U)=>{return q24(U,X)});if(F&&F.length==1)return B4.join(H,F[0])}}}}catch(z){}let $=[`platform=${D3}`,`arch=${Jh}`,`runtime=${Y}`,`nodeVersion=${R41}`,`sslType=${tC4}`];if(YL)$.push(`libc=${YL}`);if(typeof __webpack_require__==="function")$.push("webpack=true");throw new Error(`Could not find native build for ${$.join(", ")} loaded from ${J}.`)}Pd1.exports={ENV_TRUE,buildBinary:eC4,configureBinary:J24,getPrebuildsInfo:$24,loadPrebuild:K24,resolveLocalPrebuild:B24,resolvePrebuild:Nd1}});var wF=B((A1)=>{var __dirname="/Users/Simon.Owusu@Tommy.com/WebstormProjects/CapellaQL/node_modules/couchbase/dist",H24=A1&&A1.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(A1,"__esModule",{value:!0});A1.CppTxnExternalException=A1.CppTxnFailureType=A1.CppVectorQueryCombination=A1.CppReadPreference=A1.CppReplicateTo=A1.CppPersistTo=A1.CppStoreSemantics=A1.CppImplSubdocOpcode=A1.CppKeyValueStatusCode=A1.CppErrcNetwork=A1.CppErrcFieldLevelEncryption=A1.CppErrcManagement=A1.CppErrcView=A1.CppErrcSearch=A1.CppErrcAnalytics=A1.CppErrcQuery=A1.CppErrcKeyValue=A1.CppErrcCommon=A1.CppDurabilityLevel=A1.CppAnalyticsResponseAnalyticsStatus=A1.CppViewSortOrder=A1.CppViewScanConsistency=A1.CppViewOnError=A1.CppServiceType=A1.CppSearchScanConsistency=A1.CppSearchHighlightStyle=A1.CppQueryScanConsistency=A1.CppQueryProfile=A1.CppDiagPingState=A1.CppDiagEndpointState=A1.CppDiagClusterState=A1.CppDesignDocumentNamespace=A1.CppAnalyticsScanConsistency=A1.CppProtocolSubdocOpcode=A1.CppRetryReason=A1.CppManagementRbacAuthDomain=A1.CppManagementEventingFunctionProcessingStatus=A1.CppManagementEventingFunctionDeploymentStatus=A1.CppManagementEventingFunctionStatus=A1.CppManagementEventingFunctionBucketAccess=A1.CppManagementEventingFunctionLogLevel=A1.CppManagementEventingFunctionLanguageCompatibility=A1.CppManagementEventingFunctionDcpBoundary=A1.CppManagementClusterBucketStorageBackend=A1.CppManagementClusterBucketConflictResolution=A1.CppManagementClusterBucketEvictionPolicy=A1.CppManagementClusterBucketCompression=A1.CppManagementClusterBucketType=A1.CppManagementAnalyticsCouchbaseLinkEncryptionLevel=A1.zeroCas=void 0;var F24=H24(p("path"));A1.zeroCas=0;var Cd1;(function(J){})(Cd1||(A1.CppManagementAnalyticsCouchbaseLinkEncryptionLevel=Cd1={}));var jd1;(function(J){})(jd1||(A1.CppManagementClusterBucketType=jd1={}));var Rd1;(function(J){})(Rd1||(A1.CppManagementClusterBucketCompression=Rd1={}));var Ed1;(function(J){})(Ed1||(A1.CppManagementClusterBucketEvictionPolicy=Ed1={}));var Sd1;(function(J){})(Sd1||(A1.CppManagementClusterBucketConflictResolution=Sd1={}));var Td1;(function(J){})(Td1||(A1.CppManagementClusterBucketStorageBackend=Td1={}));var fd1;(function(J){})(fd1||(A1.CppManagementEventingFunctionDcpBoundary=fd1={}));var kd1;(function(J){})(kd1||(A1.CppManagementEventingFunctionLanguageCompatibility=kd1={}));var bd1;(function(J){})(bd1||(A1.CppManagementEventingFunctionLogLevel=bd1={}));var hd1;(function(J){})(hd1||(A1.CppManagementEventingFunctionBucketAccess=hd1={}));var _d1;(function(J){})(_d1||(A1.CppManagementEventingFunctionStatus=_d1={}));var yd1;(function(J){})(yd1||(A1.CppManagementEventingFunctionDeploymentStatus=yd1={}));var vd1;(function(J){})(vd1||(A1.CppManagementEventingFunctionProcessingStatus=vd1={}));var xd1;(function(J){})(xd1||(A1.CppManagementRbacAuthDomain=xd1={}));var gd1;(function(J){})(gd1||(A1.CppRetryReason=gd1={}));var dd1;(function(J){})(dd1||(A1.CppProtocolSubdocOpcode=dd1={}));var ud1;(function(J){})(ud1||(A1.CppAnalyticsScanConsistency=ud1={}));var md1;(function(J){})(md1||(A1.CppDesignDocumentNamespace=md1={}));var cd1;(function(J){})(cd1||(A1.CppDiagClusterState=cd1={}));var ld1;(function(J){})(ld1||(A1.CppDiagEndpointState=ld1={}));var pd1;(function(J){})(pd1||(A1.CppDiagPingState=pd1={}));var nd1;(function(J){})(nd1||(A1.CppQueryProfile=nd1={}));var id1;(function(J){})(id1||(A1.CppQueryScanConsistency=id1={}));var od1;(function(J){})(od1||(A1.CppSearchHighlightStyle=od1={}));var sd1;(function(J){})(sd1||(A1.CppSearchScanConsistency=sd1={}));var ad1;(function(J){})(ad1||(A1.CppServiceType=ad1={}));var rd1;(function(J){})(rd1||(A1.CppViewOnError=rd1={}));var td1;(function(J){})(td1||(A1.CppViewScanConsistency=td1={}));var ed1;(function(J){})(ed1||(A1.CppViewSortOrder=ed1={}));var Ju1;(function(J){})(Ju1||(A1.CppAnalyticsResponseAnalyticsStatus=Ju1={}));var Zu1;(function(J){})(Zu1||(A1.CppDurabilityLevel=Zu1={}));var Xu1;(function(J){})(Xu1||(A1.CppErrcCommon=Xu1={}));var Yu1;(function(J){})(Yu1||(A1.CppErrcKeyValue=Yu1={}));var $u1;(function(J){})($u1||(A1.CppErrcQuery=$u1={}));var zu1;(function(J){})(zu1||(A1.CppErrcAnalytics=zu1={}));var Wu1;(function(J){})(Wu1||(A1.CppErrcSearch=Wu1={}));var Qu1;(function(J){})(Qu1||(A1.CppErrcView=Qu1={}));var Gu1;(function(J){})(Gu1||(A1.CppErrcManagement=Gu1={}));var Ku1;(function(J){})(Ku1||(A1.CppErrcFieldLevelEncryption=Ku1={}));var qu1;(function(J){})(qu1||(A1.CppErrcNetwork=qu1={}));var Bu1;(function(J){})(Bu1||(A1.CppKeyValueStatusCode=Bu1={}));var Hu1;(function(J){})(Hu1||(A1.CppImplSubdocOpcode=Hu1={}));var Fu1;(function(J){})(Fu1||(A1.CppStoreSemantics=Fu1={}));var Uu1;(function(J){})(Uu1||(A1.CppPersistTo=Uu1={}));var Ou1;(function(J){})(Ou1||(A1.CppReplicateTo=Ou1={}));var Du1;(function(J){})(Du1||(A1.CppReadPreference=Du1={}));var Vu1;(function(J){})(Vu1||(A1.CppVectorQueryCombination=Vu1={}));var Iu1;(function(J){})(Iu1||(A1.CppTxnFailureType=Iu1={}));var wu1;(function(J){})(wu1||(A1.CppTxnExternalException=wu1={}));var U24=process.env.CN_PREBUILD_PATH_OVERRIDE?p(process.env.CN_PREBUILD_PATH_OVERRIDE):Ld1().loadPrebuild(F24.default.resolve(__dirname,".."));A1.default=U24});var Zh=B((ju1)=>{Object.defineProperty(ju1,"__esModule",{value:!0});ju1.AnalyticsScanConsistency=ju1.AnalyticsMetrics=ju1.AnalyticsWarning=ju1.AnalyticsMetaData=ju1.AnalyticsResult=ju1.AnalyticsStatus=void 0;var Au1;(function(J){J.Running="running",J.Success="success",J.Errors="errors",J.Completed="completed",J.Stopped="stopped",J.Timeout="timeout",J.Closed="closed",J.Fatal="fatal",J.Aborted="aborted",J.Unknown="unknown"})(Au1||(ju1.AnalyticsStatus=Au1={}));class Nu1{constructor(J){this.rows=J.rows,this.meta=J.meta}}ju1.AnalyticsResult=Nu1;class Pu1{constructor(J){this.requestId=J.requestId,this.clientContextId=J.clientContextId,this.status=J.status,this.signature=J.signature,this.warnings=J.warnings,this.metrics=J.metrics}}ju1.AnalyticsMetaData=Pu1;class Lu1{constructor(J){this.code=J.code,this.message=J.message}}ju1.AnalyticsWarning=Lu1;class Cu1{constructor(J){this.elapsedTime=J.elapsedTime,this.executionTime=J.executionTime,this.resultCount=J.resultCount,this.resultSize=J.resultSize,this.errorCount=J.errorCount,this.processedObjects=J.processedObjects,this.warningCount=J.warningCount}}ju1.AnalyticsMetrics=Cu1;var Mu1;(function(J){J.NotBounded="not_bounded",J.RequestPlus="request_plus"})(Mu1||(ju1.AnalyticsScanConsistency=Mu1={}))});var Xh=B((hu1)=>{Object.defineProperty(hu1,"__esModule",{value:!0});hu1.HttpErrorContext=hu1.AnalyticsErrorContext=hu1.SearchErrorContext=hu1.QueryErrorContext=hu1.ViewErrorContext=hu1.KeyValueErrorContext=hu1.ErrorContext=void 0;class V3{}hu1.ErrorContext=V3;class Eu1 extends V3{constructor(J){super();this.status_code=J.status_code,this.opaque=J.opaque,this.cas=J.cas,this.key=J.key,this.bucket=J.bucket,this.collection=J.collection,this.scope=J.scope,this.context=J.context,this.ref=J.ref}}hu1.KeyValueErrorContext=Eu1;class Su1 extends V3{constructor(J){super();this.design_document=J.design_document,this.view=J.view,this.parameters=J.parameters,this.http_response_code=J.http_response_code,this.http_response_body=J.http_response_body}}hu1.ViewErrorContext=Su1;class Tu1 extends V3{constructor(J){super();this.statement=J.statement,this.client_context_id=J.client_context_id,this.parameters=J.parameters,this.http_response_code=J.http_response_code,this.http_response_body=J.http_response_body}}hu1.QueryErrorContext=Tu1;class fu1 extends V3{constructor(J){super();this.index_name=J.index_name,this.query=J.query,this.parameters=J.parameters,this.http_response_code=J.http_response_code,this.http_response_body=J.http_response_body}}hu1.SearchErrorContext=fu1;class ku1 extends V3{constructor(J){super();this.statement=J.statement,this.client_context_id=J.client_context_id,this.parameters=J.parameters,this.http_response_code=J.http_response_code,this.http_response_body=J.http_response_body}}hu1.AnalyticsErrorContext=ku1;class bu1 extends V3{constructor(J){super();this.method=J.method,this.request_path=J.request_path,this.response_code=J.response_code,this.response_body=J.response_body}}hu1.HttpErrorContext=bu1});var IZ=B((Hc1)=>{Object.defineProperty(Hc1,"__esModule",{value:!0});Hc1.DocumentNotJsonError=Hc1.ValueInvalidError=Hc1.ValueTooDeepError=Hc1.PathTooDeepError=Hc1.PathTooBigError=Hc1.PathInvalidError=Hc1.PathMismatchError=Hc1.PathNotFoundError=Hc1.MutationLostError=Hc1.DurableWriteReCommitInProgressError=Hc1.DurableWriteInProgressError=Hc1.DurabilityAmbiguousError=Hc1.DurabilityImpossibleError=Hc1.DurabilityLevelNotAvailableError=Hc1.ValueNotJsonError=Hc1.DocumentExistsError=Hc1.ValueTooLargeError=Hc1.DocumentNotLockedError=Hc1.DocumentLockedError=Hc1.DocumentUnretrievableError=Hc1.DocumentNotFoundError=Hc1.IndexExistsError=Hc1.QuotaLimitedError=Hc1.RateLimitedError=Hc1.IndexNotFoundError=Hc1.ScopeNotFoundError=Hc1.FeatureNotAvailableError=Hc1.UnambiguousTimeoutError=Hc1.AmbiguousTimeoutError=Hc1.UnsupportedOperationError=Hc1.DecodingFailureError=Hc1.EncodingFailureError=Hc1.CollectionNotFoundError=Hc1.BucketNotFoundError=Hc1.CasMismatchError=Hc1.ParsingFailureError=Hc1.TemporaryFailureError=Hc1.AuthenticationFailureError=Hc1.InternalServerFailureError=Hc1.ServiceNotAvailableError=Hc1.InvalidArgumentError=Hc1.RequestCanceledError=Hc1.TimeoutError=Hc1.InvalidDurabilityReplicateToLevel=Hc1.InvalidDurabilityPersistToLevel=Hc1.InvalidDurabilityLevel=Hc1.NeedOpenBucketError=Hc1.ClusterClosedError=Hc1.ConnectionClosedError=Hc1.CouchbaseError=void 0;Hc1.TransactionCommitAmbiguousError=Hc1.TransactionExpiredError=Hc1.TransactionFailedError=Hc1.TransactionOperationFailedError=Hc1.EventingFunctionPausedError=Hc1.EventingFunctionDeployedError=Hc1.EventingFunctionNotBootstrappedError=Hc1.EventingFunctionIdenticalKeyspaceError=Hc1.EventingFunctionCompilationFailureError=Hc1.EventingFunctionNotDeployedError=Hc1.EventingFunctionNotFoundError=Hc1.BucketNotFlushableError=Hc1.UserExistsError=Hc1.BucketExistsError=Hc1.GroupNotFoundError=Hc1.UserNotFoundError=Hc1.ScopeExistsError=Hc1.CollectionExistsError=Hc1.DesignDocumentNotFoundError=Hc1.ViewNotFoundError=Hc1.LinkExistsError=Hc1.LinkNotFoundError=Hc1.DataverseExistsError=Hc1.DatasetExistsError=Hc1.DataverseNotFoundError=Hc1.DatasetNotFoundError=Hc1.JobQueueFullError=Hc1.CompilationFailureError=Hc1.IndexNotReadyError=Hc1.DmlFailureError=Hc1.PreparedStatementFailureError=Hc1.IndexFailureError=Hc1.PlanningFailureError=Hc1.PathExistsError=Hc1.DeltaInvalidError=Hc1.NumberTooBigError=void 0;Xh();class b1 extends Error{constructor(J,Z,X){super(J);this.name=this.constructor.name,this.stack=void 0,this.cause=Z,this.context=X}}Hc1.CouchbaseError=b1;class yu1 extends b1{constructor(){super("The connection has been closed.")}}Hc1.ConnectionClosedError=yu1;class vu1 extends b1{constructor(){super("The parent cluster object has been closed.")}}Hc1.ClusterClosedError=vu1;class xu1 extends b1{constructor(){super("You must have one open bucket before you can perform queries.")}}Hc1.NeedOpenBucketError=xu1;class gu1 extends b1{constructor(){super("An invalid durability level was specified.")}}Hc1.InvalidDurabilityLevel=gu1;class du1 extends b1{constructor(){super("An invalid durability PersistTo level was specified.")}}Hc1.InvalidDurabilityPersistToLevel=du1;class uu1 extends b1{constructor(){super("An invalid durability ReplicateTo level was specified.")}}Hc1.InvalidDurabilityReplicateToLevel=uu1;class Yh extends b1{constructor(J,Z){super("timeout",J,Z)}}Hc1.TimeoutError=Yh;class mu1 extends b1{constructor(J,Z){super("request canceled",J,Z)}}Hc1.RequestCanceledError=mu1;class cu1 extends b1{constructor(J,Z){super("invalid argument",J,Z)}}Hc1.InvalidArgumentError=cu1;class lu1 extends b1{constructor(J,Z){super("service not available",J,Z)}}Hc1.ServiceNotAvailableError=lu1;class pu1 extends b1{constructor(J,Z){super("internal server failure",J,Z)}}Hc1.InternalServerFailureError=pu1;class nu1 extends b1{constructor(J,Z){super("authentication failure",J,Z)}}Hc1.AuthenticationFailureError=nu1;class iu1 extends b1{constructor(J,Z){super("temporary failure",J,Z)}}Hc1.TemporaryFailureError=iu1;class ou1 extends b1{constructor(J,Z){super("parsing failure",J,Z)}}Hc1.ParsingFailureError=ou1;class su1 extends b1{constructor(J,Z){super("cas mismatch",J,Z)}}Hc1.CasMismatchError=su1;class au1 extends b1{constructor(J,Z){super("bucket not found",J,Z)}}Hc1.BucketNotFoundError=au1;class ru1 extends b1{constructor(J,Z){super("collection not found",J,Z)}}Hc1.CollectionNotFoundError=ru1;class tu1 extends b1{constructor(J,Z){super("encoding failure",J,Z)}}Hc1.EncodingFailureError=tu1;class eu1 extends b1{constructor(J,Z){super("decoding failure",J,Z)}}Hc1.DecodingFailureError=eu1;class Jm1 extends b1{constructor(J,Z){super("unsupported operation",J,Z)}}Hc1.UnsupportedOperationError=Jm1;class Zm1 extends Yh{constructor(J,Z){super(J,Z);this.message="ambiguous timeout"}}Hc1.AmbiguousTimeoutError=Zm1;class Xm1 extends Yh{constructor(J,Z){super(J,Z);this.message="unambiguous timeout"}}Hc1.UnambiguousTimeoutError=Xm1;class Ym1 extends b1{constructor(J,Z){super("feature not available",J,Z)}}Hc1.FeatureNotAvailableError=Ym1;class $m1 extends b1{constructor(J,Z){super("scope not found",J,Z)}}Hc1.ScopeNotFoundError=$m1;class zm1 extends b1{constructor(J,Z){super("index not found",J,Z)}}Hc1.IndexNotFoundError=zm1;class Wm1 extends b1{constructor(J,Z){super("operation was rate limited",J,Z)}}Hc1.RateLimitedError=Wm1;class Qm1 extends b1{constructor(J,Z){super("operation was quota limited",J,Z)}}Hc1.QuotaLimitedError=Qm1;class Gm1 extends b1{constructor(J,Z){super("index exists",J,Z)}}Hc1.IndexExistsError=Gm1;class Km1 extends b1{constructor(J,Z){super("document not found",J,Z)}}Hc1.DocumentNotFoundError=Km1;class qm1 extends b1{constructor(J,Z){super("document unretrievable",J,Z)}}Hc1.DocumentUnretrievableError=qm1;class Bm1 extends b1{constructor(J,Z){super("document locked",J,Z)}}Hc1.DocumentLockedError=Bm1;class Hm1 extends b1{constructor(J,Z){super("document not locked",J,Z)}}Hc1.DocumentNotLockedError=Hm1;class Fm1 extends b1{constructor(J,Z){super("value too large",J,Z)}}Hc1.ValueTooLargeError=Fm1;class Um1 extends b1{constructor(J,Z){super("document exists",J,Z)}}Hc1.DocumentExistsError=Um1;class Om1 extends b1{constructor(J,Z){super("value not json",J,Z)}}Hc1.ValueNotJsonError=Om1;class Dm1 extends b1{constructor(J,Z){super("durability level not available",J,Z)}}Hc1.DurabilityLevelNotAvailableError=Dm1;class Vm1 extends b1{constructor(J,Z){super("durability impossible",J,Z)}}Hc1.DurabilityImpossibleError=Vm1;class Im1 extends b1{constructor(J,Z){super("durability ambiguous",J,Z)}}Hc1.DurabilityAmbiguousError=Im1;class wm1 extends b1{constructor(J,Z){super("durable write in progress",J,Z)}}Hc1.DurableWriteInProgressError=wm1;class Am1 extends b1{constructor(J,Z){super("durable write recommit in progress",J,Z)}}Hc1.DurableWriteReCommitInProgressError=Am1;class Mm1 extends b1{constructor(J,Z){super("mutation lost",J,Z)}}Hc1.MutationLostError=Mm1;class Nm1 extends b1{constructor(J,Z){super("path not found",J,Z)}}Hc1.PathNotFoundError=Nm1;class Pm1 extends b1{constructor(J,Z){super("path mismatch",J,Z)}}Hc1.PathMismatchError=Pm1;class Lm1 extends b1{constructor(J,Z){super("path invalid",J,Z)}}Hc1.PathInvalidError=Lm1;class Cm1 extends b1{constructor(J,Z){super("path too big",J,Z)}}Hc1.PathTooBigError=Cm1;class jm1 extends b1{constructor(J,Z){super("path too deep",J,Z)}}Hc1.PathTooDeepError=jm1;class Rm1 extends b1{constructor(J,Z){super("value too deep",J,Z)}}Hc1.ValueTooDeepError=Rm1;class Em1 extends b1{constructor(J,Z){super("value invalid",J,Z)}}Hc1.ValueInvalidError=Em1;class Sm1 extends b1{constructor(J,Z){super("document not json",J,Z)}}Hc1.DocumentNotJsonError=Sm1;class Tm1 extends b1{constructor(J,Z){super("number too big",J,Z)}}Hc1.NumberTooBigError=Tm1;class fm1 extends b1{constructor(J,Z){super("delta invalid",J,Z)}}Hc1.DeltaInvalidError=fm1;class km1 extends b1{constructor(J,Z){super("path exists",J,Z)}}Hc1.PathExistsError=km1;class bm1 extends b1{constructor(J,Z){super("planning failure",J,Z)}}Hc1.PlanningFailureError=bm1;class hm1 extends b1{constructor(J,Z){super("index failure",J,Z)}}Hc1.IndexFailureError=hm1;class _m1 extends b1{constructor(J,Z){super("prepared statement failure",J,Z)}}Hc1.PreparedStatementFailureError=_m1;class ym1 extends b1{constructor(J,Z){super("generic dml failure",J,Z)}}Hc1.DmlFailureError=ym1;class vm1 extends b1{constructor(J,Z){super("index not ready",J,Z)}}Hc1.IndexNotReadyError=vm1;class xm1 extends b1{constructor(J,Z){super("compilation failure",J,Z)}}Hc1.CompilationFailureError=xm1;class gm1 extends b1{constructor(J,Z){super("job queue full",J,Z)}}Hc1.JobQueueFullError=gm1;class dm1 extends b1{constructor(J,Z){super("dataset not found",J,Z)}}Hc1.DatasetNotFoundError=dm1;class um1 extends b1{constructor(J,Z){super("dataverse not found",J,Z)}}Hc1.DataverseNotFoundError=um1;class mm1 extends b1{constructor(J,Z){super("dataset exists",J,Z)}}Hc1.DatasetExistsError=mm1;class cm1 extends b1{constructor(J,Z){super("dataverse exists",J,Z)}}Hc1.DataverseExistsError=cm1;class lm1 extends b1{constructor(J,Z){super("link not found",J,Z)}}Hc1.LinkNotFoundError=lm1;class pm1 extends b1{constructor(J,Z){super("link already exists",J,Z)}}Hc1.LinkExistsError=pm1;class nm1 extends b1{constructor(J,Z){super("view not found",J,Z)}}Hc1.ViewNotFoundError=nm1;class im1 extends b1{constructor(J,Z){super("design document not found",J,Z)}}Hc1.DesignDocumentNotFoundError=im1;class om1 extends b1{constructor(J,Z){super("collection exists",J,Z)}}Hc1.CollectionExistsError=om1;class sm1 extends b1{constructor(J,Z){super("scope exists",J,Z)}}Hc1.ScopeExistsError=sm1;class am1 extends b1{constructor(J,Z){super("user not found",J,Z)}}Hc1.UserNotFoundError=am1;class rm1 extends b1{constructor(J,Z){super("group not found",J,Z)}}Hc1.GroupNotFoundError=rm1;class tm1 extends b1{constructor(J,Z){super("bucket exists",J,Z)}}Hc1.BucketExistsError=tm1;class em1 extends b1{constructor(J,Z){super("user exists",J,Z)}}Hc1.UserExistsError=em1;class Jc1 extends b1{constructor(J,Z){super("bucket not flushable",J,Z)}}Hc1.BucketNotFlushableError=Jc1;class Zc1 extends b1{constructor(J,Z){super("eventing function not found",J,Z)}}Hc1.EventingFunctionNotFoundError=Zc1;class Xc1 extends b1{constructor(J,Z){super("eventing function not deployed",J,Z)}}Hc1.EventingFunctionNotDeployedError=Xc1;class Yc1 extends b1{constructor(J,Z){super("eventing function compilation failed",J,Z)}}Hc1.EventingFunctionCompilationFailureError=Yc1;class $c1 extends b1{constructor(J,Z){super("eventing function identical keyspace",J,Z)}}Hc1.EventingFunctionIdenticalKeyspaceError=$c1;class zc1 extends b1{constructor(J,Z){super("eventing function not bootstrapped",J,Z)}}Hc1.EventingFunctionNotBootstrappedError=zc1;class Wc1 extends b1{constructor(J,Z){super("eventing function deployed",J,Z)}}Hc1.EventingFunctionDeployedError=Wc1;class Qc1 extends b1{constructor(J,Z){super("eventing function paused",J,Z)}}Hc1.EventingFunctionPausedError=Qc1;class Gc1 extends b1{constructor(J,Z){super("transaction operation failed",J,Z)}}Hc1.TransactionOperationFailedError=Gc1;class Kc1 extends b1{constructor(J,Z){super("transaction failed",J,Z)}}Hc1.TransactionFailedError=Kc1;class qc1 extends b1{constructor(J){super("transaction expired",J)}}Hc1.TransactionExpiredError=qc1;class Bc1 extends b1{constructor(J){super("transaction commit ambiguous",J)}}Hc1.TransactionCommitAmbiguousError=Bc1});var SI=B((Ic1)=>{Object.defineProperty(Ic1,"__esModule",{value:!0});Ic1.StoreSemantics=Ic1.DurabilityLevel=Ic1.ServiceType=void 0;var Oc1;(function(J){J.KeyValue="kv",J.Management="mgmt",J.Views="views",J.Query="query",J.Search="search",J.Analytics="analytics",J.Eventing="eventing"})(Oc1||(Ic1.ServiceType=Oc1={}));var Dc1;(function(J){J[J.None=0]="None",J[J.Majority=1]="Majority",J[J.MajorityAndPersistOnMaster=2]="MajorityAndPersistOnMaster",J[J.PersistToMajority=3]="PersistToMajority"})(Dc1||(Ic1.DurabilityLevel=Dc1={}));var Vc1;(function(J){J[J.Replace=0]="Replace",J[J.Upsert=1]="Upsert",J[J.Insert=2]="Insert"})(Vc1||(Ic1.StoreSemantics=Vc1={}))});var s5=B((D5)=>{var $R4=D5&&D5.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),zR4=D5&&D5.__setModuleDefault||(Object.create?function(J,Z){Object.defineProperty(J,"default",{enumerable:!0,value:Z})}:function(J,Z){J.default=Z}),WR4=D5&&D5.__importStar||function(J){if(J&&J.__esModule)return J;var Z={};if(J!=null){for(var X in J)if(X!=="default"&&Object.prototype.hasOwnProperty.call(J,X))$R4(Z,J,X)}return zR4(Z,J),Z};Object.defineProperty(D5,"__esModule",{value:!0});D5.expiryToTimestamp=D5.cbQsStringify=D5.nsServerStrToDuraLevel=D5.duraLevelToNsServerStr=D5.CompoundTimeout=D5.PromiseHelper=void 0;var hQ=SI(),Ac1=IZ(),QR4=WR4(p("querystring"));class Mc1{static wrapAsync(J,Z){if(Z){let X=J();return X.then((Y)=>Z(null,Y),(Y)=>Z(Y,null)),X}return J()}static wrap(J,Z){let X=new Promise((Y,$)=>{J((z,W)=>{if(z)$(z);else Y(W)})});if(Z)X.then((Y)=>Z(null,Y),(Y)=>Z(Y,null));return X}}D5.PromiseHelper=Mc1;class Nc1{constructor(J){this._start=process.hrtime(),this._timeout=J}left(){if(this._timeout===void 0)return;let J=process.hrtime(this._start),Z=J[0]*1000+J[1]/1e6;if(Z>this._timeout)return 0;return this._timeout-Z}expired(){let J=this.left();if(J===void 0)return!1;return J<=0}}D5.CompoundTimeout=Nc1;function GR4(J){if(J===void 0)return;if(typeof J==="string")return J;if(J===hQ.DurabilityLevel.None)return"none";else if(J===hQ.DurabilityLevel.Majority)return"majority";else if(J===hQ.DurabilityLevel.MajorityAndPersistOnMaster)return"majorityAndPersistActive";else if(J===hQ.DurabilityLevel.PersistToMajority)return"persistToMajority";else throw new Error("invalid durability level specified")}D5.duraLevelToNsServerStr=GR4;function KR4(J){if(J===void 0)return hQ.DurabilityLevel.None;if(J==="none")return hQ.DurabilityLevel.None;else if(J==="majority")return hQ.DurabilityLevel.Majority;else if(J==="majorityAndPersistActive")return hQ.DurabilityLevel.MajorityAndPersistOnMaster;else if(J==="persistToMajority")return hQ.DurabilityLevel.PersistToMajority;else throw new Error("invalid durability level string")}D5.nsServerStrToDuraLevel=KR4;function qR4(J,Z){let X={};for(let Y in J)if(J[Y]===void 0);else if(typeof J[Y]==="boolean")if(Z&&Z.boolAsString)X[Y]=J[Y]?"true":"false";else X[Y]=J[Y]?1:0;else X[Y]=J[Y];return QR4.stringify(X)}D5.cbQsStringify=qR4;var BR4=2592000;function HR4(J){if(typeof J!=="number")throw new Ac1.InvalidArgumentError(new Error("Expected expiry to be a number."));if(J<0)throw new Ac1.InvalidArgumentError(new Error(`Expected expiry to be either zero (for no expiry) or greater but got ${J}.`));if(J<BR4)return J;return J+Math.floor(Date.now()/1000)}D5.expiryToTimestamp=HR4});var zh=B((Cc1)=>{Object.defineProperty(Cc1,"__esModule",{value:!0});Cc1.AnalyticsIndexManager=Cc1.AzureExternalAnalyticsLink=Cc1.S3ExternalAnalyticsLink=Cc1.CouchbaseRemoteAnalyticsLink=Cc1.AnalyticsLink=Cc1.CouchbaseAnalyticsEncryptionSettings=Cc1.AnalyticsIndex=Cc1.AnalyticsDataset=Cc1.AnalyticsEncryptionLevel=Cc1.AnalyticsLinkType=void 0;var c7=IZ(),Y5=v5(),X5=s5(),O9;(function(J){J.S3External="s3",J.AzureBlobExternal="azureblob",J.CouchbaseRemote="couchbase"})(O9||(Cc1.AnalyticsLinkType=O9={}));var $h;(function(J){J.None="none",J.Half="half",J.Full="full"})($h||(Cc1.AnalyticsEncryptionLevel=$h={}));class T41{constructor(J){this.name=J.name,this.dataverseName=J.dataverseName,this.linkName=J.linkName,this.bucketName=J.bucketName}}Cc1.AnalyticsDataset=T41;class f41{constructor(J){this.name=J.name,this.datasetName=J.datasetName,this.dataverseName=J.dataverseName,this.isPrimary=J.isPrimary}}Cc1.AnalyticsIndex=f41;class Pc1{constructor(J){this.encryptionLevel=J.encryptionLevel,this.certificate=J.certificate,this.clientCertificate=J.clientCertificate,this.clientKey=J.clientKey}}Cc1.CouchbaseAnalyticsEncryptionSettings=Pc1;class $L{constructor(){this.linkType="",this.dataverse="",this.name=""}static _toHttpData(J){if(J.linkType===O9.CouchbaseRemote)return NY._toHttpData(new NY(J));else if(J.linkType===O9.S3External)return PY._toHttpData(new PY(J));else if(J.linkType===O9.AzureBlobExternal)return LY._toHttpData(new LY(J));else throw new Error("invalid link type")}static _fromHttpData(J){if(J.type==="couchbase")return NY._fromHttpData(J);else if(J.type==="s3")return PY._fromHttpData(J);else if(J.type==="azure")return LY._fromHttpData(J);else throw new Error("invalid link type")}}Cc1.AnalyticsLink=$L;class NY extends $L{validate(){if(!this.dataverse)throw new c7.InvalidArgumentError(new Error("Must provide a dataverse for the CouchbaseRemoteAnalyticsLink."));if(!this.name)throw new c7.InvalidArgumentError(new Error("Must provide a name for the CouchbaseRemoteAnalyticsLink."));if(!this.hostname)throw new c7.InvalidArgumentError(new Error("Must provide a hostname for the CouchbaseRemoteAnalyticsLink."));if(this.encryption)if([$h.None,$h.Half].includes(this.encryption.encryptionLevel)){if(!this.username||!this.password)throw new c7.InvalidArgumentError(new Error("When encryption level is half or none, username and password must be set for the CouchbaseRemoteAnalyticsLink."))}else{if(!this.encryption.certificate||this.encryption.certificate.length==0)throw new c7.InvalidArgumentError(new Error("When encryption level full, a certificate must be set for the CouchbaseRemoteAnalyticsLink."));let J=!this.encryption.clientCertificate||this.encryption.clientCertificate.length==0,Z=!this.encryption.clientKey||this.encryption.clientKey.length==0;if(J||Z)throw new c7.InvalidArgumentError(new Error("When encryption level full, a client key and certificate must be set for the CouchbaseRemoteAnalyticsLink."))}}constructor(J){super();this.linkType=O9.CouchbaseRemote,this.dataverse=J.dataverse,this.name=J.name,this.hostname=J.hostname,this.encryption=J.encryption,this.username=J.username,this.password=J.password}static _toCppData(J){return J.validate(),{link_name:J.name,dataverse:J.dataverse,hostname:J.hostname,username:J.hostname,password:J.password,encryption:(0,Y5.encryptionSettingsToCpp)(J.encryption)}}static _fromCppData(J){return new NY({linkType:O9.CouchbaseRemote,dataverse:J.dataverse,name:J.link_name,hostname:J.hostname,encryption:(0,Y5.encryptionSettingsFromCpp)(J.encryption),username:J.username,password:void 0})}}Cc1.CouchbaseRemoteAnalyticsLink=NY;class PY extends $L{constructor(J){super();this.linkType=O9.S3External,this.dataverse=J.dataverse,this.name=J.name,this.accessKeyId=J.accessKeyId,this.secretAccessKey=J.secretAccessKey,this.sessionToken=J.sessionToken,this.region=J.region,this.serviceEndpoint=J.serviceEndpoint}validate(){if(!this.dataverse)throw new c7.InvalidArgumentError(new Error("Must provide a dataverse for the S3ExternalAnalyticsLink."));if(!this.name)throw new c7.InvalidArgumentError(new Error("Must provide a name for the S3ExternalAnalyticsLink."));if(!this.accessKeyId)throw new c7.InvalidArgumentError(new Error("Must provide an accessKeyId for the S3ExternalAnalyticsLink."));if(!this.secretAccessKey)throw new c7.InvalidArgumentError(new Error("Must provide an secretAccessKey for the S3ExternalAnalyticsLink."));if(!this.region)throw new c7.InvalidArgumentError(new Error("Must provide an region for the S3ExternalAnalyticsLink."))}static _toCppData(J){return J.validate(),{link_name:J.name,dataverse:J.dataverse,access_key_id:J.accessKeyId,secret_access_key:J.secretAccessKey,session_token:J.sessionToken,region:J.region,service_endpoint:J.serviceEndpoint}}static _fromCppData(J){return new PY({name:J.link_name,linkType:O9.S3External,dataverse:J.dataverse,accessKeyId:J.access_key_id,secretAccessKey:void 0,sessionToken:void 0,region:J.region,serviceEndpoint:J.service_endpoint})}}Cc1.S3ExternalAnalyticsLink=PY;class LY extends $L{constructor(J){super();this.linkType=O9.AzureBlobExternal,this.dataverse=J.dataverse,this.name=J.name,this.connectionString=J.connectionString,this.accountName=J.accountName,this.accountKey=J.accountKey,this.sharedAccessSignature=J.sharedAccessSignature,this.blobEndpoint=J.blobEndpoint,this.endpointSuffix=J.endpointSuffix}validate(){if(!this.dataverse)throw new c7.InvalidArgumentError(new Error("Must provide a dataverse for the AzureExternalAnalyticsLink."));if(!this.name)throw new c7.InvalidArgumentError(new Error("Must provide a name for the AzureExternalAnalyticsLink."));if(!this.connectionString){let J=!(this.accountName&&this.accountKey),Z=!(this.accountName&&this.sharedAccessSignature);if(J&&Z)throw new c7.InvalidArgumentError(new Error("If not providing connectionString, accountName and either accountKey or sharedAccessSignature must be provided for the AzureExternalAnalyticsLink."))}}static _toCppData(J){return J.validate(),{link_name:J.name,dataverse:J.dataverse,connection_string:J.connectionString,account_name:J.accountName,account_key:J.accountKey,shared_access_signature:J.sharedAccessSignature,blob_endpoint:J.blobEndpoint,endpoint_suffix:J.endpointSuffix}}static _fromCppData(J){return new LY({name:J.link_name,linkType:O9.AzureBlobExternal,dataverse:J.dataverse,connectionString:void 0,accountName:J.account_name,accountKey:void 0,sharedAccessSignature:void 0,blobEndpoint:J.blob_endpoint,endpointSuffix:J.endpoint_suffix})}}Cc1.AzureExternalAnalyticsLink=LY;class Lc1{constructor(J){this._cluster=J}async createDataverse(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout,$=Z.ignoreIfExists||!1;return X5.PromiseHelper.wrap((z)=>{this._cluster.conn.managementAnalyticsDataverseCreate({dataverse_name:J,timeout:Y,ignore_if_exists:$},(W)=>{let Q=(0,Y5.errorFromCpp)(W);if(Q)return z(Q,null);z(Q)})},X)}async dropDataverse(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout,$=Z.ignoreIfNotExists||!1;return X5.PromiseHelper.wrap((z)=>{this._cluster.conn.managementAnalyticsDataverseDrop({dataverse_name:J,timeout:Y,ignore_if_does_not_exist:$},(W)=>{let Q=(0,Y5.errorFromCpp)(W);if(Q)return z(Q,null);z(Q)})},X)}async createDataset(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=X.dataverseName||"Default",z=X.ignoreIfExists||!1,W=X.timeout||this._cluster.managementTimeout;return X5.PromiseHelper.wrap((Q)=>{this._cluster.conn.managementAnalyticsDatasetCreate({dataverse_name:$,dataset_name:Z,bucket_name:J,condition:X===null||X===void 0?void 0:X.condition,timeout:W,ignore_if_exists:z},(G)=>{let K=(0,Y5.errorFromCpp)(G);if(K)return Q(K,null);Q(K)})},Y)}async dropDataset(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.dataverseName||"Default",$=Z.ignoreIfNotExists||!1,z=Z.timeout||this._cluster.managementTimeout;return X5.PromiseHelper.wrap((W)=>{this._cluster.conn.managementAnalyticsDatasetDrop({dataverse_name:Y,dataset_name:J,timeout:z,ignore_if_does_not_exist:$},(Q)=>{let G=(0,Y5.errorFromCpp)(Q);if(G)return W(G,null);W(G)})},X)}async getAllDatasets(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=J.timeout||this._cluster.managementTimeout;return X5.PromiseHelper.wrap((Y)=>{this._cluster.conn.managementAnalyticsDatasetGetAll({timeout:X},($,z)=>{let W=(0,Y5.errorFromCpp)($);if(W)return Y(W,null);let Q=z.datasets.map((G)=>new T41({name:G.name,dataverseName:G.dataverse_name,linkName:G.link_name,bucketName:G.bucket_name}));Y(null,Q)})},Z)}async createIndex(J,Z,X,Y,$){if(Y instanceof Function)$=arguments[3],Y=void 0;if(!Y)Y={};let z=Y.dataverseName||"Default",W=Y.ignoreIfExists||!1,Q=Y.timeout||this._cluster.managementTimeout;return X5.PromiseHelper.wrap((G)=>{this._cluster.conn.managementAnalyticsIndexCreate({dataverse_name:z,dataset_name:J,index_name:Z,fields:X,timeout:Q,ignore_if_exists:W},(K)=>{let q=(0,Y5.errorFromCpp)(K);if(q)return G(q,null);G(q)})},$)}async dropIndex(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=X.dataverseName||"Default",z=X.ignoreIfNotExists||!1,W=X.timeout||this._cluster.managementTimeout;return X5.PromiseHelper.wrap((Q)=>{this._cluster.conn.managementAnalyticsIndexDrop({dataverse_name:$,dataset_name:J,index_name:Z,timeout:W,ignore_if_does_not_exist:z},(G)=>{let K=(0,Y5.errorFromCpp)(G);if(K)return Q(K,null);Q(K)})},Y)}async getAllIndexes(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=J.timeout||this._cluster.managementTimeout;return X5.PromiseHelper.wrap((Y)=>{this._cluster.conn.managementAnalyticsIndexGetAll({timeout:X},($,z)=>{let W=(0,Y5.errorFromCpp)($);if(W)return Y(W,null);let Q=z.indexes.map((G)=>new f41({name:G.name,dataverseName:G.dataverse_name,datasetName:G.dataset_name,isPrimary:G.is_primary}));Y(null,Q)})},Z)}async connectLink(){if(typeof arguments[0]==="string")return this._connectLinkDeprecated(arguments[0],arguments[1],arguments[2]);else return this._connectLink(arguments[0],arguments[1])}async _connectLinkDeprecated(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.force||!1,$=Z.timeout||this._cluster.managementTimeout,z="CONNECT LINK "+J;if(Y)z+=' WITH {"force": true}';return X5.PromiseHelper.wrapAsync(async()=>{await this._cluster.analyticsQuery(z,{timeout:$})},X)}async _connectLink(J,Z){if(J instanceof Function)Z=arguments[1],J=void 0;if(!J)J={};let X=J.dataverseName||"Default",Y=J.linkName||"Local",$=J.force||!1,z=J.timeout||this._cluster.managementTimeout;return X5.PromiseHelper.wrap((W)=>{this._cluster.conn.managementAnalyticsLinkConnect({dataverse_name:X,link_name:Y,timeout:z,force:$},(Q)=>{let G=(0,Y5.errorFromCpp)(Q);if(G)return W(G,null);W(G)})},Z)}async disconnectLink(){if(typeof arguments[0]==="string")return this._disconnectLinkDeprecated(arguments[0],arguments[1],arguments[2]);else return this._disconnectLink(arguments[0],arguments[1])}async _disconnectLinkDeprecated(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y="DISCONNECT LINK "+J,$=Z.timeout||this._cluster.managementTimeout;return X5.PromiseHelper.wrapAsync(async()=>{await this._cluster.analyticsQuery(Y,{timeout:$})},X)}async _disconnectLink(J,Z){if(J instanceof Function)Z=arguments[1],J=void 0;if(!J)J={};let X=J.dataverseName||"Default",Y=J.linkName||"Local",$=J.timeout||this._cluster.managementTimeout;return X5.PromiseHelper.wrap((z)=>{this._cluster.conn.managementAnalyticsLinkDisconnect({dataverse_name:X,link_name:Y,timeout:$},(W)=>{let Q=(0,Y5.errorFromCpp)(W);if(Q)return z(Q,null);z(Q)})},Z)}async getPendingMutations(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=J.timeout||this._cluster.managementTimeout;return X5.PromiseHelper.wrap((Y)=>{this._cluster.conn.managementAnalyticsGetPendingMutations({timeout:X},($,z)=>{let W=(0,Y5.errorFromCpp)($);if(W)return Y(W,null);let Q={stats:z.stats};Y(null,Q)})},Z)}async createLink(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;if(J.linkType==O9.CouchbaseRemote)return X5.PromiseHelper.wrap(($)=>{this._cluster.conn.managementAnalyticsLinkCreateCouchbaseRemoteLink({link:NY._toCppData(new NY(J)),timeout:Y},(z)=>{let W=(0,Y5.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X);else if(J.linkType==O9.S3External)return X5.PromiseHelper.wrap(($)=>{this._cluster.conn.managementAnalyticsLinkCreateS3ExternalLink({link:PY._toCppData(new PY(J)),timeout:Y},(z)=>{let W=(0,Y5.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X);else if(J.linkType==O9.AzureBlobExternal)return X5.PromiseHelper.wrap(($)=>{this._cluster.conn.managementAnalyticsLinkCreateAzureBlobExternalLink({link:LY._toCppData(new LY(J)),timeout:Y},(z)=>{let W=(0,Y5.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X);else throw new Error("invalid link type")}async replaceLink(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;if(J.linkType==O9.CouchbaseRemote)return X5.PromiseHelper.wrap(($)=>{this._cluster.conn.managementAnalyticsLinkReplaceCouchbaseRemoteLink({link:NY._toCppData(new NY(J)),timeout:Y},(z)=>{let W=(0,Y5.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X);else if(J.linkType==O9.S3External)return X5.PromiseHelper.wrap(($)=>{this._cluster.conn.managementAnalyticsLinkReplaceS3ExternalLink({link:PY._toCppData(new PY(J)),timeout:Y},(z)=>{let W=(0,Y5.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X);else if(J.linkType==O9.AzureBlobExternal)return X5.PromiseHelper.wrap(($)=>{this._cluster.conn.managementAnalyticsLinkReplaceAzureBlobExternalLink({link:LY._toCppData(new LY(J)),timeout:Y},(z)=>{let W=(0,Y5.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X);else throw new Error("invalid link type")}async dropLink(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=X.timeout||this._cluster.managementTimeout;return X5.PromiseHelper.wrap((z)=>{this._cluster.conn.managementAnalyticsLinkDrop({dataverse_name:Z,link_name:J,timeout:$},(W)=>{let Q=(0,Y5.errorFromCpp)(W);if(Q)return z(Q,null);z(Q)})},Y)}async getAllLinks(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let{dataverse:X,name:Y,linkType:$}=J,z=J.timeout||this._cluster.managementTimeout;return X5.PromiseHelper.wrap((W)=>{this._cluster.conn.managementAnalyticsLinkGetAll({link_type:$,link_name:Y,dataverse_name:X,timeout:z},(Q,G)=>{let K=(0,Y5.errorFromCpp)(Q);if(K)return W(K,null);let q=[];G.couchbase.forEach((H)=>{q.push(NY._fromCppData(H))}),G.s3.forEach((H)=>{q.push(PY._fromCppData(H))}),G.azure_blob.forEach((H)=>{q.push(LY._fromCppData(H))}),W(null,q)})},Z)}}Cc1.AnalyticsIndexManager=Lc1});var Wh=B((hc1)=>{Object.defineProperty(hc1,"__esModule",{value:!0});hc1.BucketManager=hc1.BucketSettings=hc1.CompressionMode=hc1.EvictionPolicy=hc1.StorageBackend=hc1.BucketType=hc1.ConflictResolutionType=void 0;var a5=v5(),I3=s5(),Rc1;(function(J){J.Timestamp="lww",J.SequenceNumber="seqno",J.Custom="custom"})(Rc1||(hc1.ConflictResolutionType=Rc1={}));var Ec1;(function(J){J.Couchbase="membase",J.Memcached="memcached",J.Ephemeral="ephemeral"})(Ec1||(hc1.BucketType=Ec1={}));var Sc1;(function(J){J.Couchstore="couchstore",J.Magma="magma"})(Sc1||(hc1.StorageBackend=Sc1={}));var Tc1;(function(J){J.FullEviction="fullEviction",J.ValueOnly="valueOnly",J.NotRecentlyUsed="nruEviction",J.NoEviction="noEviction"})(Tc1||(hc1.EvictionPolicy=Tc1={}));var fc1;(function(J){J.Off="off",J.Passive="passive",J.Active="active"})(fc1||(hc1.CompressionMode=fc1={}));class w3{constructor(J){this.name=J.name,this.flushEnabled=J.flushEnabled,this.ramQuotaMB=J.ramQuotaMB,this.numReplicas=J.numReplicas,this.replicaIndexes=J.replicaIndexes,this.bucketType=J.bucketType,this.storageBackend=J.storageBackend,this.evictionPolicy=J.evictionPolicy,this.maxExpiry=J.maxExpiry,this.compressionMode=J.compressionMode,this.minimumDurabilityLevel=J.minimumDurabilityLevel,this.historyRetentionCollectionDefault=J.historyRetentionCollectionDefault,this.historyRetentionDuration=J.historyRetentionDuration,this.historyRetentionBytes=J.historyRetentionBytes}get maxTTL(){var J;return(J=this.maxExpiry)!==null&&J!==void 0?J:0}set maxTTL(J){this.maxExpiry=J}get ejectionMethod(){return this.evictionPolicy}set ejectionMethod(J){this.evictionPolicy=J}get durabilityMinLevel(){return(0,I3.duraLevelToNsServerStr)(this.minimumDurabilityLevel)}static _toCppData(J){return{name:J.name,bucket_type:(0,a5.bucketTypeToCpp)(J.bucketType),ram_quota_mb:J.ramQuotaMB,max_expiry:J.maxTTL||J.maxExpiry,compression_mode:(0,a5.bucketCompressionModeToCpp)(J.compressionMode),minimum_durability_level:(0,a5.durabilityToCpp)((0,I3.nsServerStrToDuraLevel)(J.durabilityMinLevel))||(0,a5.durabilityToCpp)(J.minimumDurabilityLevel),num_replicas:J.numReplicas,replica_indexes:J.replicaIndexes,flush_enabled:J.flushEnabled,eviction_policy:(0,a5.bucketEvictionPolicyToCpp)(J.evictionPolicy),storage_backend:(0,a5.bucketStorageBackendToCpp)(J.storageBackend),history_retention_collection_default:J.historyRetentionCollectionDefault,history_retention_bytes:J.historyRetentionBytes,history_retention_duration:J.historyRetentionDuration}}static _fromCppData(J){return new w3({name:J.name,flushEnabled:J.flush_enabled,ramQuotaMB:J.ram_quota_mb,numReplicas:J.num_replicas,replicaIndexes:J.replica_indexes,bucketType:(0,a5.bucketTypeFromCpp)(J.bucket_type),storageBackend:(0,a5.bucketStorageBackendFromCpp)(J.storage_backend),evictionPolicy:(0,a5.bucketEvictionPolicyFromCpp)(J.eviction_policy),maxExpiry:J.max_expiry,compressionMode:(0,a5.bucketCompressionModeFromCpp)(J.compression_mode),historyRetentionCollectionDefault:J.history_retention_collection_default,historyRetentionBytes:J.history_retention_bytes,historyRetentionDuration:J.history_retention_duration,minimumDurabilityLevel:(0,a5.durabilityFromCpp)(J.minimum_durability_level),maxTTL:0,durabilityMinLevel:"",ejectionMethod:""})}}hc1.BucketSettings=w3;class kc1 extends w3{constructor(J){super(J);this.conflictResolutionType=J.conflictResolutionType}static _toCppData(J){return{...w3._toCppData(J),conflict_resolution_type:(0,a5.bucketConflictResolutionTypeToCpp)(J.conflictResolutionType)}}}class bc1{constructor(J){this._cluster=J}async createBucket(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return I3.PromiseHelper.wrap(($)=>{let z=kc1._toCppData(J);this._cluster.conn.managementBucketCreate({bucket:z,timeout:Y},(W)=>{let Q=(0,a5.errorFromCpp)(W);if(Q)return $(Q,null);$(Q)})},X)}async updateBucket(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return I3.PromiseHelper.wrap(($)=>{let z=w3._toCppData(J);this._cluster.conn.managementBucketUpdate({bucket:z,timeout:Y},(W)=>{let Q=(0,a5.errorFromCpp)(W);if(Q)return $(Q,null);$(Q)})},X)}async dropBucket(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return I3.PromiseHelper.wrap(($)=>{this._cluster.conn.managementBucketDrop({name:J,timeout:Y},(z)=>{let W=(0,a5.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async getBucket(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return I3.PromiseHelper.wrap(($)=>{this._cluster.conn.managementBucketGet({name:J,timeout:Y},(z,W)=>{let Q=(0,a5.errorFromCpp)(z);if(Q)return $(Q,null);let G=w3._fromCppData(W.bucket);$(null,G)})},X)}async getAllBuckets(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=J.timeout||this._cluster.managementTimeout;return I3.PromiseHelper.wrap((Y)=>{this._cluster.conn.managementBucketGetAll({timeout:X},($,z)=>{let W=(0,a5.errorFromCpp)($);if(W)return Y(W,null);let Q=z.buckets.map((G)=>w3._fromCppData(G));Y(null,Q)})},Z)}async flushBucket(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return I3.PromiseHelper.wrap(($)=>{this._cluster.conn.managementBucketFlush({name:J,timeout:Y},(z)=>{let W=(0,a5.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}}hc1.BucketManager=bc1});var Qh=B((mc1)=>{Object.defineProperty(mc1,"__esModule",{value:!0});mc1.DiagnosticsResult=mc1.DiagnosticsEndpoint=mc1.PingResult=mc1.PingEndpoint=mc1.PingState=mc1.EndpointState=void 0;var yc1;(function(J){J[J.Disconnected=0]="Disconnected",J[J.Connecting=1]="Connecting",J[J.Connected=2]="Connected",J[J.Disconnecting=3]="Disconnecting"})(yc1||(mc1.EndpointState=yc1={}));var vc1;(function(J){J[J.Ok=0]="Ok",J[J.Timeout=1]="Timeout",J[J.Error=2]="Error"})(vc1||(mc1.PingState=vc1={}));class xc1{constructor(J){this.type=J.type,this.id=J.id,this.latency=J.latency,this.remote=J.remote,this.local=J.local,this.state=J.state,this.bucket=J.bucket,this.error=J.error}}mc1.PingEndpoint=xc1;class gc1{constructor(J){this.version=J.version,this.id=J.id,this.sdk=J.sdk,this.services=J.services}toJSON(){return{version:this.version,id:this.id,sdk:this.sdk,services:Object.fromEntries(Object.entries(this.services).map(([J,Z])=>{return[J,Z.map((X)=>{return{latency_us:X.latency*1e6,remote:X.remote,local:X.local,id:X.id,state:X.state,namespace:X.bucket,error:X.error}})]}))}}}mc1.PingResult=gc1;class dc1{constructor(J){this.type=J.type,this.id=J.id,this.local=J.local,this.remote=J.remote,this.lastActivity=J.lastActivity,this.state=J.state}}mc1.DiagnosticsEndpoint=dc1;class uc1{constructor(J){this.version=J.version,this.id=J.id,this.sdk=J.sdk,this.services=J.services}toJSON(){return{version:this.version,id:this.id,sdk:this.sdk,services:Object.fromEntries(Object.entries(this.services).map(([J,Z])=>{return[J,Z.map((X)=>{return{last_activity_us:X.lastActivity*1e6,remote:X.remote,local:X.local,id:X.id,state:X.state,namespace:X.bucket,details:X.details}})]}))}}}mc1.DiagnosticsResult=uc1});var Gh=B((rc1)=>{Object.defineProperty(rc1,"__esModule",{value:!0});rc1.QueryScanConsistency=rc1.QueryProfileMode=rc1.QueryMetrics=rc1.QueryWarning=rc1.QueryMetaData=rc1.QueryResult=rc1.QueryStatus=void 0;var lc1;(function(J){J.Running="running",J.Success="success",J.Errors="errors",J.Completed="completed",J.Stopped="stopped",J.Timeout="timeout",J.Closed="closed",J.Fatal="fatal",J.Aborted="aborted",J.Unknown="unknown"})(lc1||(rc1.QueryStatus=lc1={}));class ic1{constructor(J){this.rows=J.rows,this.meta=J.meta}}rc1.QueryResult=ic1;class oc1{constructor(J){this.requestId=J.requestId,this.clientContextId=J.clientContextId,this.status=J.status,this.signature=J.signature,this.warnings=J.warnings,this.metrics=J.metrics,this.profile=J.profile}}rc1.QueryMetaData=oc1;class sc1{constructor(J){this.code=J.code,this.message=J.message}}rc1.QueryWarning=sc1;class ac1{constructor(J){this.elapsedTime=J.elapsedTime,this.executionTime=J.executionTime,this.sortCount=J.sortCount,this.resultCount=J.resultCount,this.resultSize=J.resultSize,this.mutationCount=J.mutationCount,this.errorCount=J.errorCount,this.warningCount=J.warningCount}}rc1.QueryMetrics=ac1;var pc1;(function(J){J.Off="off",J.Phases="phases",J.Timings="timings"})(pc1||(rc1.QueryProfileMode=pc1={}));var nc1;(function(J){J.NotBounded="not_bounded",J.RequestPlus="request_plus"})(nc1||(rc1.QueryScanConsistency=nc1={}))});var Kh=B((Yl1)=>{Object.defineProperty(Yl1,"__esModule",{value:!0});Yl1.PrefixScan=Yl1.SamplingScan=Yl1.RangeScan=Yl1.ScanTerm=void 0;class ec1{constructor(J,Z){this.term=J,this.exclusive=Z}}Yl1.ScanTerm=ec1;class Jl1{constructor(J,Z){this.start=J,this.end=Z}getScanType(){return"range_scan"}}Yl1.RangeScan=Jl1;class Zl1{constructor(J,Z){this.limit=J,this.seed=Z}getScanType(){return"sampling_scan"}}Yl1.SamplingScan=Zl1;class Xl1{constructor(J){this.prefix=J}getScanType(){return"prefix_scan"}}Yl1.PrefixScan=Xl1});var Bh=B((Wl1)=>{Object.defineProperty(Wl1,"__esModule",{value:!0});Wl1.GeoPolygonSearchQuery=Wl1.GeoBoundingBoxSearchQuery=Wl1.GeoDistanceSearchQuery=Wl1.MatchNoneSearchQuery=Wl1.MatchAllSearchQuery=Wl1.PrefixSearchQuery=Wl1.PhraseSearchQuery=Wl1.TermSearchQuery=Wl1.BooleanFieldSearchQuery=Wl1.DocIdSearchQuery=Wl1.WildcardSearchQuery=Wl1.BooleanSearchQuery=Wl1.DisjunctionSearchQuery=Wl1.ConjunctionSearchQuery=Wl1.DateRangeSearchQuery=Wl1.NumericRangeSearchQuery=Wl1.QueryStringSearchQuery=Wl1.RegexpSearchQuery=Wl1.MatchPhraseSearchQuery=Wl1.MatchSearchQuery=Wl1.SearchQuery=Wl1.MatchOperator=void 0;var zl1;(function(J){J.Or="or",J.And="and"})(zl1||(Wl1.MatchOperator=zl1={}));function mR4(J){if(Array.isArray(J))return J;else if(J instanceof Object){let Z=J;if(Z.lon||Z.lat)return[Z.lon,Z.lat];else if(Z.longitude||Z.latitude)return[Z.longitude,Z.latitude]}throw new Error("invalid geopoint specified")}function TI(J){if(Array.isArray(J[0]))return J[0];return J}class x4{constructor(J){if(!J)J={};this._data=J}toJSON(){return this._data}static toJSON(J){if(J.toJSON)return J.toJSON();return J}static hasProp(J,Z){return this.toJSON(J)[Z]!==void 0}static match(J){return new k41(J)}static matchPhrase(J){return new b41(J)}static regexp(J){return new h41(J)}static queryString(J){return new _41(J)}static numericRange(){return new y41}static dateRange(){return new v41}static conjuncts(...J){let Z=TI(J);return new qh(...Z)}static disjuncts(...J){let Z=TI(J);return new zL(...Z)}static boolean(){return new x41}static wildcard(J){return new g41(J)}static docIds(...J){let Z=TI(J);return new d41(...Z)}static booleanField(J){return new u41(J)}static term(J){return new m41(J)}static phrase(J){return new c41(J)}static prefix(J){return new l41(J)}static matchAll(){return new p41}static matchNone(){return new n41}static geoDistance(J,Z,X){return new i41(J,Z,X)}static geoBoundingBox(J,Z,X,Y){return new o41(J,Z,X,Y)}static geoPolygon(J){return new s41(J)}}Wl1.SearchQuery=x4;class k41 extends x4{constructor(J){super({match:J})}operator(J){return this._data.operator=J,this}field(J){return this._data.field=J,this}analyzer(J){return this._data.analyzer=J,this}prefixLength(J){return this._data.prefix_length=J,this}fuzziness(J){return this._data.fuzziness=J,this}boost(J){return this._data.boost=J,this}}Wl1.MatchSearchQuery=k41;class b41 extends x4{constructor(J){super({match_phrase:J})}field(J){return this._data.field=J,this}analyzer(J){return this._data.analyzer=J,this}boost(J){return this._data.boost=J,this}}Wl1.MatchPhraseSearchQuery=b41;class h41 extends x4{constructor(J){super({regexp:J})}field(J){return this._data.field=J,this}boost(J){return this._data.boost=J,this}}Wl1.RegexpSearchQuery=h41;class _41 extends x4{constructor(J){super({query:J})}boost(J){return this._data.boost=J,this}}Wl1.QueryStringSearchQuery=_41;class y41 extends x4{constructor(){super({})}min(J,Z){if(Z===void 0)Z=!0;return this._data.min=J,this._data.inclusive_min=Z,this}max(J,Z){if(Z===void 0)Z=!1;return this._data.max=J,this._data.inclusive_max=Z,this}field(J){return this._data.field=J,this}boost(J){return this._data.boost=J,this}}Wl1.NumericRangeSearchQuery=y41;class v41 extends x4{constructor(){super({})}start(J,Z){if(Z===void 0)Z=!0;if(J instanceof Date)this._data.start=J.toISOString();else this._data.start=J;return this._data.inclusive_start=Z,this}end(J,Z){if(Z===void 0)Z=!1;if(J instanceof Date)this._data.end=J.toISOString();else this._data.end=J;return this._data.inclusive_end=Z,this}field(J){return this._data.field=J,this}dateTimeParser(J){return this._data.datetime_parser=J,this}boost(J){return this._data.boost=J,this}}Wl1.DateRangeSearchQuery=v41;class qh extends x4{constructor(...J){super({conjuncts:[]});this.and(...J)}and(...J){let Z=TI(J);for(let X=0;X<Z.length;++X)this._data.conjuncts.push(Z[X]);return this}boost(J){return this._data.boost=J,this}}Wl1.ConjunctionSearchQuery=qh;class zL extends x4{constructor(...J){super({disjuncts:[]});this.or(...J)}or(...J){let Z=TI(J);for(let X=0;X<Z.length;++X)this._data.disjuncts.push(Z[X]);return this}boost(J){return this._data.boost=J,this}}Wl1.DisjunctionSearchQuery=zL;class x41 extends x4{constructor(){super({});this._shouldMin=void 0}must(J){if(!x4.hasProp(J,"conjuncts"))J=new qh(J);return this._data.must=J,this}should(J){if(!x4.hasProp(J,"disjuncts"))J=new zL(J);return this._data.should=J,this}mustNot(J){if(!x4.hasProp(J,"disjuncts"))J=new zL(J);return this._data.must_not=J,this}shouldMin(J){return this._shouldMin=J,this}boost(J){return this._data.boost=J,this}toJSON(){let J={};if(this._data.must)J.must=x4.toJSON(this._data.must);if(this._data.should){if(J.should=x4.toJSON(this._data.should),this._shouldMin)J.should.min=this._shouldMin}if(this._data.must_not)J.must_not=x4.toJSON(this._data.must_not);return J}}Wl1.BooleanSearchQuery=x41;class g41 extends x4{constructor(J){super({wildcard:J})}field(J){return this._data.field=J,this}boost(J){return this._data.boost=J,this}}Wl1.WildcardSearchQuery=g41;class d41 extends x4{constructor(...J){super({ids:[]});this.addDocIds(...J)}addDocIds(...J){let Z=TI(J);for(let X=0;X<Z.length;++X)this._data.ids.push(Z[X]);return this}field(J){return this._data.field=J,this}boost(J){return this._data.boost=J,this}}Wl1.DocIdSearchQuery=d41;class u41 extends x4{constructor(J){super({bool:J})}field(J){return this._data.field=J,this}boost(J){return this._data.boost=J,this}}Wl1.BooleanFieldSearchQuery=u41;class m41 extends x4{constructor(J){super({term:J})}field(J){return this._data.field=J,this}prefixLength(J){return this._data.prefix_length=J,this}fuzziness(J){return this._data.fuzziness=J,this}boost(J){return this._data.boost=J,this}}Wl1.TermSearchQuery=m41;class c41 extends x4{constructor(J){super({terms:J})}field(J){return this._data.field=J,this}boost(J){return this._data.boost=J,this}}Wl1.PhraseSearchQuery=c41;class l41 extends x4{constructor(J){super({prefix:J})}field(J){return this._data.field=J,this}boost(J){return this._data.boost=J,this}}Wl1.PrefixSearchQuery=l41;class p41 extends x4{constructor(){super({match_all:null})}}Wl1.MatchAllSearchQuery=p41;class n41 extends x4{constructor(){super({match_none:!0})}}Wl1.MatchNoneSearchQuery=n41;class i41 extends x4{constructor(J,Z,X){super({location:[J,Z],distance:X})}field(J){return this._data.field=J,this}boost(J){return this._data.boost=J,this}}Wl1.GeoDistanceSearchQuery=i41;class o41 extends x4{constructor(J,Z,X,Y){super({top_left:[J,Z],bottom_right:[X,Y]})}field(J){return this._data.field=J,this}boost(J){return this._data.boost=J,this}}Wl1.GeoBoundingBoxSearchQuery=o41;class s41 extends x4{constructor(J){let Z=J.map((X)=>mR4(X));super({polygon_points:Z})}field(J){return this._data.field=J,this}boost(J){return this._data.boost=J,this}}Wl1.GeoPolygonSearchQuery=s41});var Fh=B((Kl1)=>{Object.defineProperty(Kl1,"__esModule",{value:!0});Kl1.VectorSearch=Kl1.VectorQuery=Kl1.VectorQueryCombination=void 0;var AF=IZ(),Gl1;(function(J){J.AND="and",J.OR="or"})(Gl1||(Kl1.VectorQueryCombination=Gl1={}));class Hh{constructor(J,Z){if(!J)throw new AF.InvalidArgumentError(new Error("Must provide a field name."));if(this._fieldName=J,!Z)throw new AF.InvalidArgumentError(new Error("Provided vector cannot be empty."));if(Array.isArray(Z)){if(Z.length==0)throw new AF.InvalidArgumentError(new Error("Provided vector cannot be empty."));this._vector=Z}else if(typeof Z==="string")this._vectorBase64=Z;else throw new AF.InvalidArgumentError(new Error("Provided vector must be either a number[] or base64 encoded string."))}toJSON(){var J;let Z={field:this._fieldName,k:(J=this._numCandidates)!==null&&J!==void 0?J:3};if(this._vector)Z.vector=this._vector;else Z.vector_base64=this._vectorBase64;if(this._boost)Z.boost=this._boost;return Z}boost(J){return this._boost=J,this}numCandidates(J){if(J<1)throw new AF.InvalidArgumentError(new Error("Provided value for numCandidates must be >= 1."));return this._numCandidates=J,this}static create(J,Z){return new Hh(J,Z)}}Kl1.VectorQuery=Hh;class a41{constructor(J,Z){if(!Array.isArray(J)||J.length==0)throw new AF.InvalidArgumentError(new Error("Provided queries must be an array and cannot be empty."));if(!J.every((X)=>X instanceof Hh))throw new AF.InvalidArgumentError(new Error("All provided queries must be a VectorQuery."));this._queries=J,this._options=Z}get queries(){return this._queries}get options(){return this._options}static fromVectorQuery(J){return new a41([J])}}Kl1.VectorSearch=a41});var Uh=B((Il1)=>{Object.defineProperty(Il1,"__esModule",{value:!0});Il1.SearchRequest=Il1.SearchScanConsistency=Il1.HighlightStyle=Il1.SearchResult=Il1.SearchRow=Il1.SearchMetaData=void 0;var WL=IZ(),Bl1=Bh(),Hl1=Fh();class Ol1{}Il1.SearchMetaData=Ol1;class Dl1{}Il1.SearchRow=Dl1;class Vl1{constructor(J){this.rows=J.rows,this.meta=J.meta}}Il1.SearchResult=Vl1;var Fl1;(function(J){J.HTML="html",J.ANSI="ansi"})(Fl1||(Il1.HighlightStyle=Fl1={}));var Ul1;(function(J){J.NotBounded="not_bounded"})(Ul1||(Il1.SearchScanConsistency=Ul1={}));class r41{constructor(J){if(J instanceof Bl1.SearchQuery)this._searchQuery=J;else if(J instanceof Hl1.VectorSearch)this._vectorSearch=J;else throw new WL.InvalidArgumentError(new Error("Must provide either a SearchQuery or VectorSearch when creating SearchRequest."))}get searchQuery(){return this._searchQuery}get vectorSearch(){return this._vectorSearch}withSearchQuery(J){if(!(J instanceof Bl1.SearchQuery))throw new WL.InvalidArgumentError(new Error("Must provide a SearchQuery."));if(this._searchQuery)throw new WL.InvalidArgumentError(new Error("Request already has a SearchQuery."));return this._searchQuery=J,this}withVectorSearch(J){if(!(J instanceof Hl1.VectorSearch))throw new WL.InvalidArgumentError(new Error("Must provide a VectorSearch."));if(this._vectorSearch)throw new WL.InvalidArgumentError(new Error("Request already has a VectorSearch."));return this._vectorSearch=J,this}static create(J){return new r41(J)}}Il1.SearchRequest=r41});var QL=B((Rl1)=>{Object.defineProperty(Rl1,"__esModule",{value:!0});Rl1.ViewErrorMode=Rl1.ViewOrdering=Rl1.ViewScanConsistency=Rl1.DesignDocumentNamespace=Rl1.ViewRow=Rl1.ViewMetaData=Rl1.ViewResult=void 0;class Ll1{constructor(J){this.rows=J.rows,this.meta=J.meta}}Rl1.ViewResult=Ll1;class Cl1{constructor(J){this.totalRows=J.totalRows,this.debug=J.debug}get total_rows(){return this.totalRows}}Rl1.ViewMetaData=Cl1;class jl1{constructor(J){this.value=J.value,this.key=J.key,this.id=J.id}}Rl1.ViewRow=jl1;var Al1;(function(J){J.Development="development",J.Production="production"})(Al1||(Rl1.DesignDocumentNamespace=Al1={}));var Ml1;(function(J){J.NotBounded="ok",J.RequestPlus="false",J.UpdateAfter="update_after"})(Ml1||(Rl1.ViewScanConsistency=Ml1={}));var Nl1;(function(J){J.Ascending="false",J.Descending="true"})(Nl1||(Rl1.ViewOrdering=Nl1={}));var Pl1;(function(J){J.Continue="continue",J.Stop="stop"})(Pl1||(Rl1.ViewErrorMode=Pl1={}))});var HL=B((Q6)=>{var PE4=Q6&&Q6.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),LE4=Q6&&Q6.__setModuleDefault||(Object.create?function(J,Z){Object.defineProperty(J,"default",{enumerable:!0,value:Z})}:function(J,Z){J.default=Z}),CE4=Q6&&Q6.__importStar||function(J){if(J&&J.__esModule)return J;var Z={};if(J!=null){for(var X in J)if(X!=="default"&&Object.prototype.hasOwnProperty.call(J,X))PE4(Z,J,X)}return LE4(Z,J),Z};Object.defineProperty(Q6,"__esModule",{value:!0});Q6.EventingFunctionManager=Q6.EventingState=Q6.EventingFunctionState=Q6.EventingFunction=Q6.EventingFunctionSettings=Q6.EventingFunctionConstantBinding=Q6.EventingFunctionUrlBinding=Q6.EventingFunctionUrlAuthBearer=Q6.EventingFunctionUrlAuthDigest=Q6.EventingFunctionUrlAuthBasic=Q6.EventingFunctionBucketBinding=Q6.EventingFunctionKeyspace=Q6.EventingFunctionUrlAuthMethod=Q6.EventingFunctionBucketAccess=Q6.EventingFunctionLogLevel=Q6.EventingFunctionLanguageCompatibility=Q6.EventingFunctionStatus=Q6.EventingFunctionProcessingStatus=Q6.EventingFunctionDeploymentStatus=Q6.EventingFunctionDcpBoundary=void 0;var _Q=s5(),Y8=v5(),Sl1=CE4(IZ()),Tl1;(function(J){J.Everything="everything",J.FromNow="from_now"})(Tl1||(Q6.EventingFunctionDcpBoundary=Tl1={}));var fl1;(function(J){J.Deployed="deployed",J.Undeployed="undeployed"})(fl1||(Q6.EventingFunctionDeploymentStatus=fl1={}));var kl1;(function(J){J.Running="running",J.Paused="paused"})(kl1||(Q6.EventingFunctionProcessingStatus=kl1={}));var bl1;(function(J){J.Undeployed="undeployed",J.Deploying="deploying",J.Deployed="deployed",J.Undeploying="undeploying",J.Paused="paused",J.Pausing="pausing"})(bl1||(Q6.EventingFunctionStatus=bl1={}));var hl1;(function(J){J.Version_6_0_0="6.0.0",J.Version_6_5_0="6.5.0",J.Version_6_6_2="6.6.2",J.Version_7_2_0="7.2.0"})(hl1||(Q6.EventingFunctionLanguageCompatibility=hl1={}));var _l1;(function(J){J.Info="INFO",J.Error="ERROR",J.Warning="WARNING",J.Debug="DEBUG",J.Trace="TRACE"})(_l1||(Q6.EventingFunctionLogLevel=_l1={}));var yl1;(function(J){J.ReadOnly="r",J.ReadWrite="rw"})(yl1||(Q6.EventingFunctionBucketAccess=yl1={}));var yQ;(function(J){J.None="no-auth",J.Basic="basic",J.Digest="digest",J.Bearer="bearer"})(yQ||(Q6.EventingFunctionUrlAuthMethod=yQ={}));class GL{constructor(J){this.bucket=J.bucket,this.scope=J.scope,this.collection=J.collection}}Q6.EventingFunctionKeyspace=GL;class KL{constructor(J){this.alias=J.alias,this.name=J.name,this.access=J.access}static _fromCppData(J){return new KL({alias:J.alias,name:new GL({bucket:J.name.bucket,scope:J.name.scope,collection:J.name.collection}),access:(0,Y8.eventingBucketBindingAccessFromCpp)(J.access)})}static _toCppData(J){return{alias:J.alias,name:{bucket:J.name.bucket,scope:J.name.scope,collection:J.name.collection},access:(0,Y8.eventingBucketBindingAccessToCpp)(J.access)}}}Q6.EventingFunctionBucketBinding=KL;class t41{constructor(J){this.method=yQ.Basic,this.username=J.username,this.password=J.password}}Q6.EventingFunctionUrlAuthBasic=t41;class e41{constructor(J){this.method=yQ.Digest,this.username=J.username,this.password=J.password}}Q6.EventingFunctionUrlAuthDigest=e41;class J81{constructor(J){this.method=yQ.Bearer,this.key=J.key}}Q6.EventingFunctionUrlAuthBearer=J81;class Oh{constructor(J){this.hostname=J.hostname,this.alias=J.alias,this.auth=J.auth,this.allowCookies=J.allowCookies,this.validateSslCertificate=J.validateSslCertificate}static _fromCppData(J){let Z;if(J.auth_name==="function_url_no_auth")Z=void 0;else if(J.auth_name==="function_url_auth_basic")Z=new t41({username:J.auth_value.username,password:J.auth_value.password});else if(J.auth_name==="function_url_auth_digest")Z=new e41({username:J.auth_value.username,password:J.auth_value.password});else if(J.auth_name==="function_url_auth_bearer")Z=new J81({key:J.auth_value.key});else throw new Sl1.InvalidArgumentError(new Error("Unrecognized EventingFunctionUrlBinding: "+J.auth_name));return{hostname:J.hostname,alias:J.alias,allowCookies:J.allow_cookies,validateSslCertificate:J.validate_ssl_certificate,auth:Z}}static _toCppData(J){let Z,X;if(!J.auth||J.auth.method===yQ.None)Z={},X="function_url_no_auth";else if(J.auth.method===yQ.Basic)Z={username:J.auth.username,password:J.auth.password},X="function_url_auth_basic";else if(J.auth.method===yQ.Digest)Z={username:J.auth.username,password:J.auth.password},X="function_url_auth_digest";else if(J.auth.method===yQ.Bearer)Z={key:J.auth.key},X="function_url_auth_bearer";else throw new Sl1.InvalidArgumentError(new Error("Unrecognized EventingFunctionUrlBinding"));return{alias:J.alias,hostname:J.hostname,allow_cookies:J.allowCookies,validate_ssl_certificate:J.validateSslCertificate,auth_name:X,auth_value:Z}}}Q6.EventingFunctionUrlBinding=Oh;class qL{constructor(J){this.alias=J.alias,this.literal=J.literal}static _fromCppData(J){return new qL({alias:J.alias,literal:J.literal})}static _toCppData(J){return{alias:J.alias,literal:J.literal}}}Q6.EventingFunctionConstantBinding=qL;class BL{constructor(J){this.cppWorkerThreadCount=J.cppWorkerThreadCount,this.dcpStreamBoundary=J.dcpStreamBoundary,this.description=J.description,this.deploymentStatus=J.deploymentStatus,this.processingStatus=J.processingStatus,this.languageCompatibility=J.languageCompatibility,this.logLevel=J.logLevel,this.executionTimeout=J.executionTimeout,this.lcbInstCapacity=J.lcbInstCapacity,this.lcbRetryCount=J.lcbRetryCount,this.lcbTimeout=J.lcbTimeout,this.queryConsistency=J.queryConsistency,this.numTimerPartitions=J.numTimerPartitions,this.sockBatchSize=J.sockBatchSize,this.tickDuration=J.tickDuration,this.timerContextSize=J.timerContextSize,this.userPrefix=J.userPrefix,this.bucketCacheSize=J.bucketCacheSize,this.bucketCacheAge=J.bucketCacheAge,this.curlMaxAllowedRespSize=J.curlMaxAllowedRespSize,this.queryPrepareAll=J.queryPrepareAll,this.workerCount=J.workerCount,this.handlerHeaders=J.handlerHeaders,this.handlerFooters=J.handlerFooters,this.enableAppLogRotation=J.enableAppLogRotation,this.appLogDir=J.appLogDir,this.appLogMaxSize=J.appLogMaxSize,this.appLogMaxFiles=J.appLogMaxFiles,this.checkpointInterval=J.checkpointInterval}static _fromCppData(J){return new BL({cppWorkerThreadCount:J.cpp_worker_count,dcpStreamBoundary:(0,Y8.eventingFunctionDcpBoundaryFromCpp)(J.dcp_stream_boundary),description:J.description,deploymentStatus:(0,Y8.eventingFunctionDeploymentStatusFromCpp)(J.deployment_status),processingStatus:(0,Y8.eventingFunctionProcessingStatusFromCpp)(J.processing_status),logLevel:(0,Y8.eventingFunctionLogLevelFromCpp)(J.log_level),languageCompatibility:(0,Y8.eventingFunctionLanguageCompatibilityFromCpp)(J.language_compatibility),executionTimeout:J.execution_timeout,lcbInstCapacity:J.lcb_inst_capacity,lcbRetryCount:J.lcb_retry_count,lcbTimeout:J.lcb_timeout,queryConsistency:(0,Y8.queryScanConsistencyFromCpp)(J.query_consistency),numTimerPartitions:J.num_timer_partitions,sockBatchSize:J.sock_batch_size,tickDuration:J.tick_duration,timerContextSize:J.timer_context_size,userPrefix:J.user_prefix,bucketCacheSize:J.bucket_cache_size,bucketCacheAge:J.bucket_cache_age,curlMaxAllowedRespSize:J.curl_max_allowed_resp_size,queryPrepareAll:J.query_prepare_all,workerCount:J.worker_count,handlerHeaders:J.handler_headers,handlerFooters:J.handler_footers,enableAppLogRotation:J.enable_app_log_rotation,appLogDir:J.app_log_dir,appLogMaxSize:J.app_log_max_size,appLogMaxFiles:J.app_log_max_files,checkpointInterval:J.checkpoint_interval})}static _toCppData(J){var Z,X;if(!J)return{handler_headers:[],handler_footers:[]};return{cpp_worker_count:J.cppWorkerThreadCount,dcp_stream_boundary:(0,Y8.eventingFunctionDcpBoundaryToCpp)(J.dcpStreamBoundary),description:J.description,deployment_status:(0,Y8.eventingFunctionDeploymentStatusToCpp)(J.deploymentStatus),processing_status:(0,Y8.eventingFunctionProcessingStatusToCpp)(J.processingStatus),log_level:(0,Y8.eventingFunctionLogLevelToCpp)(J.logLevel),language_compatibility:(0,Y8.eventingFunctionLanguageCompatibilityToCpp)(J.languageCompatibility),execution_timeout:J.executionTimeout,lcb_inst_capacity:J.lcbInstCapacity,lcb_retry_count:J.lcbRetryCount,lcb_timeout:J.lcbTimeout,query_consistency:(0,Y8.queryScanConsistencyToCpp)(J.queryConsistency),num_timer_partitions:J.numTimerPartitions,sock_batch_size:J.sockBatchSize,tick_duration:J.tickDuration,timer_context_size:J.timerContextSize,user_prefix:J.userPrefix,bucket_cache_size:J.bucketCacheSize,bucket_cache_age:J.bucketCacheAge,curl_max_allowed_resp_size:J.curlMaxAllowedRespSize,query_prepare_all:J.queryPrepareAll,worker_count:J.workerCount,handler_headers:(Z=J.handlerHeaders)!==null&&Z!==void 0?Z:[],handler_footers:(X=J.handlerFooters)!==null&&X!==void 0?X:[],enable_app_log_rotation:J.enableAppLogRotation,app_log_dir:J.appLogDir,app_log_max_size:J.appLogMaxSize,app_log_max_files:J.appLogMaxFiles,checkpoint_interval:J.checkpointInterval}}}Q6.EventingFunctionSettings=BL;class fI{constructor(J){this.name=J.name,this.code=J.code,this.version=J.version,this.enforceSchema=J.enforceSchema,this.handlerUuid=J.handlerUuid,this.functionInstanceId=J.functionInstanceId,this.metadataKeyspace=J.metadataKeyspace,this.sourceKeyspace=J.sourceKeyspace,this.bucketBindings=J.bucketBindings,this.urlBindings=J.urlBindings,this.constantBindings=J.constantBindings,this.settings=J.settings}static _fromCppData(J){return new fI({name:J.name,code:J.code,metadataKeyspace:new GL({bucket:J.metadata_keyspace.bucket,scope:J.metadata_keyspace.scope,collection:J.metadata_keyspace.collection}),sourceKeyspace:new GL({bucket:J.source_keyspace.bucket,scope:J.source_keyspace.scope,collection:J.source_keyspace.collection}),version:J.version,enforceSchema:J.enforce_schema,handlerUuid:J.handler_uuid,functionInstanceId:J.function_instance_id,bucketBindings:J.bucket_bindings.map((Z)=>KL._fromCppData(Z)),urlBindings:J.url_bindings.map((Z)=>Oh._fromCppData(Z)),constantBindings:J.constant_bindings.map((Z)=>qL._fromCppData(Z)),settings:BL._fromCppData(J.settings)})}static _toCppData(J){return{name:J.name,code:J.code,metadata_keyspace:{bucket:J.metadataKeyspace.bucket,scope:J.metadataKeyspace.scope,collection:J.metadataKeyspace.collection},source_keyspace:{bucket:J.sourceKeyspace.bucket,scope:J.sourceKeyspace.scope,collection:J.sourceKeyspace.collection},version:J.version,enforce_schema:J.enforceSchema,handler_uuid:J.handlerUuid,function_instance_id:J.functionInstanceId,bucket_bindings:J.bucketBindings.map((Z)=>KL._toCppData(Z)),url_bindings:J.urlBindings.map((Z)=>Oh._toCppData(Z)),constant_bindings:J.constantBindings.map((Z)=>qL._toCppData(Z)),settings:BL._toCppData(J.settings)}}}Q6.EventingFunction=fI;class Dh{constructor(J){this.name=J.name,this.status=J.status,this.numBootstrappingNodes=J.numBootstrappingNodes,this.numDeployedNodes=J.numDeployedNodes,this.deploymentStatus=J.deploymentStatus,this.processingStatus=J.processingStatus}static _fromCppData(J){return new Dh({name:J.name,status:(0,Y8.eventingFunctionStatusFromCpp)(J.status),numBootstrappingNodes:J.num_bootstrapping_nodes,numDeployedNodes:J.num_deployed_nodes,deploymentStatus:(0,Y8.eventingFunctionDeploymentStatusFromCpp)(J.deployment_status),processingStatus:(0,Y8.eventingFunctionProcessingStatusFromCpp)(J.processing_status)})}}Q6.EventingFunctionState=Dh;class Vh{constructor(J){this.numEventingNodes=J.numEventingNodes,this.functions=J.functions}static _fromCppData(J){return new Vh({numEventingNodes:J.num_eventing_nodes,functions:J.functions.map((Z)=>Dh._fromCppData(Z))})}}Q6.EventingState=Vh;class vl1{constructor(J){this._cluster=J}async upsertFunction(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return _Q.PromiseHelper.wrap(($)=>{this._cluster.conn.managementEventingUpsertFunction({function:fI._toCppData(J),timeout:Y},(z)=>{let W=(0,Y8.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async dropFunction(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return _Q.PromiseHelper.wrap(($)=>{this._cluster.conn.managementEventingDropFunction({name:J,timeout:Y},(z)=>{let W=(0,Y8.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async getAllFunctions(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=J.timeout||this._cluster.managementTimeout;return _Q.PromiseHelper.wrap((Y)=>{this._cluster.conn.managementEventingGetAllFunctions({timeout:X},($,z)=>{let W=(0,Y8.errorFromCpp)($);if(W)return Y(W,null);let Q=z.functions.map((G)=>fI._fromCppData(G));Y(null,Q)})},Z)}async getFunction(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return _Q.PromiseHelper.wrap(($)=>{this._cluster.conn.managementEventingGetFunction({name:J,timeout:Y},(z,W)=>{let Q=(0,Y8.errorFromCpp)(z);if(Q)return $(Q,null);let G=fI._fromCppData(W.function);$(null,G)})},X)}async deployFunction(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return _Q.PromiseHelper.wrap(($)=>{this._cluster.conn.managementEventingDeployFunction({name:J,timeout:Y},(z)=>{let W=(0,Y8.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async undeployFunction(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return _Q.PromiseHelper.wrap(($)=>{this._cluster.conn.managementEventingUndeployFunction({name:J,timeout:Y},(z)=>{let W=(0,Y8.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async pauseFunction(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return _Q.PromiseHelper.wrap(($)=>{this._cluster.conn.managementEventingPauseFunction({name:J,timeout:Y},(z)=>{let W=(0,Y8.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async resumeFunction(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return _Q.PromiseHelper.wrap(($)=>{this._cluster.conn.managementEventingResumeFunction({name:J,timeout:Y},(z)=>{let W=(0,Y8.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async functionsStatus(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=J.timeout||this._cluster.managementTimeout;return _Q.PromiseHelper.wrap((Y)=>{this._cluster.conn.managementEventingGetStatus({timeout:X},($,z)=>{let W=(0,Y8.errorFromCpp)($);if(W)return Y(W,null);let Q=Vh._fromCppData(z.status);Y(null,Q)})},Z)}}Q6.EventingFunctionManager=vl1});var v5=B((D1)=>{var jE4=D1&&D1.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),RE4=D1&&D1.__setModuleDefault||(Object.create?function(J,Z){Object.defineProperty(J,"default",{enumerable:!0,value:Z})}:function(J,Z){J.default=Z}),dl1=D1&&D1.__importStar||function(J){if(J&&J.__esModule)return J;var Z={};if(J!=null){for(var X in J)if(X!=="default"&&Object.prototype.hasOwnProperty.call(J,X))jE4(Z,J,X)}return RE4(Z,J),Z},EE4=D1&&D1.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(D1,"__esModule",{value:!0});D1.eventingFunctionLanguageCompatibilityFromCpp=D1.eventingFunctionLanguageCompatibilityToCpp=D1.eventingFunctionLogLevelFromCpp=D1.eventingFunctionLogLevelToCpp=D1.eventingFunctionProcessingStatusFromCpp=D1.eventingFunctionProcessingStatusToCpp=D1.eventingFunctionDeploymentStatusFromCpp=D1.eventingFunctionDeploymentStatusToCpp=D1.eventingFunctionDcpBoundaryFromCpp=D1.eventingFunctionDcpBoundaryToCpp=D1.eventingBucketBindingAccessFromCpp=D1.eventingBucketBindingAccessToCpp=D1.transactionKeyspaceToCpp=D1.designDocumentNamespaceToCpp=D1.designDocumentNamespaceFromCpp=D1.vectorQueryCombinationToCpp=D1.bucketConflictResolutionTypeFromCpp=D1.bucketConflictResolutionTypeToCpp=D1.bucketStorageBackendFromCpp=D1.bucketStorageBackendToCpp=D1.bucketEvictionPolicyFromCpp=D1.bucketEvictionPolicyToCpp=D1.bucketCompressionModeFromCpp=D1.bucketCompressionModeToCpp=D1.bucketTypeFromCpp=D1.bucketTypeToCpp=D1.scanTypeToCpp=D1.errorFromCpp=D1.contextFromCpp=D1.pingStateFromCpp=D1.txnOpExeptionFromCpp=D1.txnExternalExceptionStringFromCpp=D1.endpointStateFromCpp=D1.serviceTypeFromCpp=D1.serviceTypeToCpp=D1.mutationStateToCpp=D1.searchHighlightStyleToCpp=D1.searchScanConsistencyToCpp=D1.analyticsStatusFromCpp=D1.analyticsScanConsistencyToCpp=D1.queryProfileToCpp=D1.queryScanConsistencyFromCpp=D1.queryScanConsistencyToCpp=D1.viewOrderingToCpp=D1.viewScanConsistencyToCpp=D1.storeSemanticToCpp=D1.replicateToToCpp=D1.persistToToCpp=D1.durabilityFromCpp=D1.durabilityToCpp=void 0;D1.authDomainFromCpp=D1.authDomainToCpp=D1.encryptionSettingsFromCpp=D1.encryptionSettingsToCpp=D1.encryptionLevelToCpp=D1.couchbaseLinkEncryptionLevelFromCpp=D1.eventingFunctionStatusFromCpp=void 0;var wZ=Zh(),NF=zh(),m=EE4(wF()),P4=Wh(),MF=Qh(),kI=dl1(Xh()),U1=dl1(IZ()),F8=SI(),PF=Gh(),xl1=Kh(),Z81=Uh(),SE4=s5(),gl1=Fh(),vQ=QL(),C6=HL();function TE4(J){if(J===null||J===void 0)return m.default.durability_level.none;if(typeof J==="string")J=(0,SE4.nsServerStrToDuraLevel)(J);if(J===F8.DurabilityLevel.None)return m.default.durability_level.none;else if(J===F8.DurabilityLevel.Majority)return m.default.durability_level.majority;else if(J===F8.DurabilityLevel.MajorityAndPersistOnMaster)return m.default.durability_level.majority_and_persist_to_active;else if(J===F8.DurabilityLevel.PersistToMajority)return m.default.durability_level.persist_to_majority;throw new U1.InvalidDurabilityLevel}D1.durabilityToCpp=TE4;function fE4(J){if(J===null||J===void 0)return;if(J===m.default.durability_level.none)return F8.DurabilityLevel.None;else if(J===m.default.durability_level.majority)return F8.DurabilityLevel.Majority;else if(J===m.default.durability_level.majority_and_persist_to_active)return F8.DurabilityLevel.MajorityAndPersistOnMaster;else if(J===m.default.durability_level.persist_to_majority)return F8.DurabilityLevel.PersistToMajority;throw new U1.InvalidDurabilityLevel}D1.durabilityFromCpp=fE4;function kE4(J){if(J===null||J===void 0)return m.default.persist_to.none;if(J===0)return m.default.persist_to.none;else if(J===1)return m.default.persist_to.active;else if(J===2)return m.default.persist_to.one;else if(J===3)return m.default.persist_to.two;else if(J===4)return m.default.persist_to.three;else if(J===5)return m.default.persist_to.four;throw new U1.InvalidDurabilityPersistToLevel}D1.persistToToCpp=kE4;function bE4(J){if(J===null||J===void 0)return m.default.replicate_to.none;if(J===0)return m.default.replicate_to.none;else if(J===1)return m.default.replicate_to.one;else if(J===2)return m.default.replicate_to.two;else if(J===3)return m.default.replicate_to.three;throw new U1.InvalidDurabilityReplicateToLevel}D1.replicateToToCpp=bE4;function hE4(J){if(J===null||J===void 0)return m.default.store_semantics.replace;if(J===F8.StoreSemantics.Insert)return m.default.store_semantics.insert;else if(J===F8.StoreSemantics.Upsert)return m.default.store_semantics.upsert;else if(J===F8.StoreSemantics.Replace)return m.default.store_semantics.replace;throw new U1.InvalidArgumentError}D1.storeSemanticToCpp=hE4;function _E4(J){if(J===null||J===void 0)return;if(J===vQ.ViewScanConsistency.NotBounded)return m.default.view_scan_consistency.not_bounded;else if(J===vQ.ViewScanConsistency.UpdateAfter)return m.default.view_scan_consistency.update_after;else if(J===vQ.ViewScanConsistency.RequestPlus)return m.default.view_scan_consistency.request_plus;throw new U1.InvalidArgumentError}D1.viewScanConsistencyToCpp=_E4;function yE4(J){if(J===null||J===void 0)return;if(J===vQ.ViewOrdering.Ascending)return m.default.view_sort_order.ascending;else if(J===vQ.ViewOrdering.Descending)return m.default.view_sort_order.descending;throw new U1.InvalidArgumentError(new Error("Unrecognized view ordering."))}D1.viewOrderingToCpp=yE4;function vE4(J){if(J===null||J===void 0)return;if(J===PF.QueryScanConsistency.NotBounded)return m.default.query_scan_consistency.not_bounded;else if(J===PF.QueryScanConsistency.RequestPlus)return m.default.query_scan_consistency.request_plus;throw new U1.InvalidArgumentError}D1.queryScanConsistencyToCpp=vE4;function xE4(J){if(!J)return;if(J===m.default.query_scan_consistency.not_bounded)return PF.QueryScanConsistency.NotBounded;else if(J===m.default.query_scan_consistency.request_plus)return PF.QueryScanConsistency.RequestPlus;throw new U1.InvalidArgumentError}D1.queryScanConsistencyFromCpp=xE4;function gE4(J){if(J===null||J===void 0)return m.default.query_profile.off;if(J===PF.QueryProfileMode.Off)return m.default.query_profile.off;else if(J===PF.QueryProfileMode.Phases)return m.default.query_profile.phases;else if(J===PF.QueryProfileMode.Timings)return m.default.query_profile.timings;throw new U1.InvalidArgumentError}D1.queryProfileToCpp=gE4;function dE4(J){if(J===null||J===void 0)return m.default.analytics_scan_consistency.not_bounded;if(J===wZ.AnalyticsScanConsistency.NotBounded)return m.default.analytics_scan_consistency.not_bounded;else if(J===wZ.AnalyticsScanConsistency.RequestPlus)return m.default.analytics_scan_consistency.request_plus;throw new U1.InvalidArgumentError}D1.analyticsScanConsistencyToCpp=dE4;function uE4(J){if(J===m.default.analytics_response_analytics_status.running)return wZ.AnalyticsStatus.Running;else if(J===m.default.analytics_response_analytics_status.success)return wZ.AnalyticsStatus.Success;else if(J===m.default.analytics_response_analytics_status.errors)return wZ.AnalyticsStatus.Errors;else if(J===m.default.analytics_response_analytics_status.completed)return wZ.AnalyticsStatus.Completed;else if(J===m.default.analytics_response_analytics_status.stopped)return wZ.AnalyticsStatus.Stopped;else if(J===m.default.analytics_response_analytics_status.timedout)return wZ.AnalyticsStatus.Timeout;else if(J===m.default.analytics_response_analytics_status.closed)return wZ.AnalyticsStatus.Closed;else if(J===m.default.analytics_response_analytics_status.fatal)return wZ.AnalyticsStatus.Fatal;else if(J===m.default.analytics_response_analytics_status.aborted)return wZ.AnalyticsStatus.Aborted;else if(J===m.default.analytics_response_analytics_status.unknown)return wZ.AnalyticsStatus.Unknown;throw new U1.InvalidArgumentError}D1.analyticsStatusFromCpp=uE4;function mE4(J){if(J===null||J===void 0)return m.default.search_scan_consistency.not_bounded;if(J===Z81.SearchScanConsistency.NotBounded)return m.default.search_scan_consistency.not_bounded;throw new U1.InvalidArgumentError}D1.searchScanConsistencyToCpp=mE4;function cE4(J){if(J===null||J===void 0)return;if(J===Z81.HighlightStyle.ANSI)return m.default.search_highlight_style.ansi;else if(J===Z81.HighlightStyle.HTML)return m.default.search_highlight_style.html;throw new U1.InvalidArgumentError}D1.searchHighlightStyleToCpp=cE4;function lE4(J){if(J===null||J===void 0)return{tokens:[]};let Z=[];for(let X in J._data)for(let Y in J._data[X]){let $=J._data[X][Y];Z.push($)}return{tokens:Z}}D1.mutationStateToCpp=lE4;function pE4(J){if(J===F8.ServiceType.KeyValue)return m.default.service_type.key_value;else if(J===F8.ServiceType.Query)return m.default.service_type.query;else if(J===F8.ServiceType.Analytics)return m.default.service_type.analytics;else if(J===F8.ServiceType.Search)return m.default.service_type.search;else if(J===F8.ServiceType.Views)return m.default.service_type.view;else if(J===F8.ServiceType.Management)return m.default.service_type.management;else if(J===F8.ServiceType.Eventing)return m.default.service_type.eventing;throw new U1.InvalidArgumentError}D1.serviceTypeToCpp=pE4;function nE4(J){if(J===m.default.service_type.key_value)return F8.ServiceType.KeyValue;else if(J===m.default.service_type.query)return F8.ServiceType.Query;else if(J===m.default.service_type.analytics)return F8.ServiceType.Analytics;else if(J===m.default.service_type.search)return F8.ServiceType.Search;else if(J===m.default.service_type.view)return F8.ServiceType.Views;else if(J===m.default.service_type.management)return F8.ServiceType.Management;else if(J===m.default.service_type.eventing)return F8.ServiceType.Eventing;throw new U1.InvalidArgumentError}D1.serviceTypeFromCpp=nE4;function iE4(J){if(J===m.default.diag_endpoint_state.disconnected)return MF.EndpointState.Disconnected;else if(J===m.default.diag_endpoint_state.connecting)return MF.EndpointState.Connecting;else if(J===m.default.diag_endpoint_state.connected)return MF.EndpointState.Connected;else if(J===m.default.diag_endpoint_state.disconnecting)return MF.EndpointState.Disconnecting;throw new U1.InvalidArgumentError}D1.endpointStateFromCpp=iE4;function CY(J,Z){if(J===m.default.txn_external_exception.unknown){if(Z)return Z;return"unknown"}else if(J===m.default.txn_external_exception.active_transaction_record_entry_not_found)return"active_transaction_record_entry_not_found";else if(J===m.default.txn_external_exception.active_transaction_record_full)return"active_transaction_record_full";else if(J===m.default.txn_external_exception.active_transaction_record_not_found)return"active_transaction_record_not_found";else if(J===m.default.txn_external_exception.document_already_in_transaction)return"document_already_in_transaction";else if(J===m.default.txn_external_exception.document_exists_exception)return"document_exists_exception";else if(J===m.default.txn_external_exception.document_not_found_exception)return"document_not_found_exception";else if(J===m.default.txn_external_exception.not_set)return"not_set";else if(J===m.default.txn_external_exception.feature_not_available_exception)return"feature_not_available_exception";else if(J===m.default.txn_external_exception.transaction_aborted_externally)return"transaction_aborted_externally";else if(J===m.default.txn_external_exception.previous_operation_failed)return"previous_operation_failed";else if(J===m.default.txn_external_exception.forward_compatibility_failure)return"forward_compatibility_failure";else if(J===m.default.txn_external_exception.parsing_failure)return"parsing_failure";else if(J===m.default.txn_external_exception.illegal_state_exception)return"illegal_state_exception";else if(J===m.default.txn_external_exception.couchbase_exception)return"couchbase_exception";else if(J===m.default.txn_external_exception.service_not_available_exception)return"service_not_available_exception";else if(J===m.default.txn_external_exception.request_canceled_exception)return"request_canceled_exception";else if(J===m.default.txn_external_exception.concurrent_operations_detected_on_same_document)return"concurrent_operations_detected_on_same_document";else if(J===m.default.txn_external_exception.commit_not_permitted)return"commit_not_permitted";else if(J===m.default.txn_external_exception.rollback_not_permitted)return"rollback_not_permitted";else if(J===m.default.txn_external_exception.transaction_already_aborted)return"transaction_already_aborted";else if(J===m.default.txn_external_exception.transaction_already_committed)return"transaction_already_committed";return"unknown"}D1.txnExternalExceptionStringFromCpp=CY;function ul1(J,Z){if(!J)return null;let X=Z?Z:void 0;if(J.cause===m.default.txn_external_exception.document_exists_exception)return new U1.DocumentExistsError(new Error(CY(J.cause,J.message)),X);else if(J.cause===m.default.txn_external_exception.document_not_found_exception)return new U1.DocumentNotFoundError(new Error(CY(J.cause,J.message)),X);else if(J.cause===m.default.txn_external_exception.parsing_failure)return new U1.ParsingFailureError(new Error(CY(J.cause,J.message)),X);else if(J.cause===m.default.txn_external_exception.couchbase_exception){let Y=CY(J.cause,J.message);return new U1.CouchbaseError(Y,new Error(Y),X)}return J}D1.txnOpExeptionFromCpp=ul1;function oE4(J){if(J===m.default.diag_ping_state.ok)return MF.PingState.Ok;else if(J===m.default.diag_ping_state.timeout)return MF.PingState.Timeout;else if(J===m.default.diag_ping_state.error)return MF.PingState.Error;throw new U1.InvalidArgumentError}D1.pingStateFromCpp=oE4;function X81(J){if(!J)return null;let Z=null;if(J.ctxtype==="key_value")Z=new kI.KeyValueErrorContext({status_code:J.status_code,opaque:J.opaque,cas:J.cas,key:J.id?J.id.key:"",bucket:J.id?J.id.bucket:"",collection:J.id?J.id.collection:"",scope:J.id?J.id.scope:"",context:J.enhanced_error_info?J.enhanced_error_info.context:"",ref:J.enhanced_error_info?J.enhanced_error_info.reference:""});else if(J.ctxtype==="view")Z=new kI.ViewErrorContext({design_document:J.design_document_name,view:J.view_name,parameters:J.query_string,http_response_code:J.http_status,http_response_body:J.http_body});else if(J.ctxtype==="query")Z=new kI.QueryErrorContext({statement:J.statement,client_context_id:J.client_context_id,parameters:J.parameters,http_response_code:J.http_status,http_response_body:J.http_body});else if(J.ctxtype==="search")Z=new kI.SearchErrorContext({index_name:J.index_name,query:J.query,parameters:J.parameters,http_response_code:J.http_status,http_response_body:J.http_body});else if(J.ctxtype==="analytics")Z=new kI.AnalyticsErrorContext({statement:J.statement,client_context_id:J.client_context_id,parameters:J.parameters,http_response_code:J.http_status,http_response_body:J.http_body});else if(J.ctxtype==="http")Z=new kI.HttpErrorContext({method:J.method,request_path:J.path,response_code:J.http_status,response_body:J.http_body});return Z}D1.contextFromCpp=X81;function sE4(J){var Z;if(!J)return null;if(J.ctxtype==="transaction_operation_failed"){if(CY(J.cause,J.message)=="feature_not_available_exception")return new U1.TransactionOperationFailedError(new U1.FeatureNotAvailableError(new Error("Possibly attempting a binary transaction operation with a server version < 7.6.2")));return new U1.TransactionOperationFailedError(new Error(CY(J.cause,J.message)))}else if(J.ctxtype==="transaction_op_exception"){let z=null;if((Z=J.ctx)===null||Z===void 0?void 0:Z.cause)z=X81(J.ctx.cause);return ul1(J,z)}else if(J.ctxtype==="transaction_exception"){if(J.type===m.default.txn_failure_type.fail)return new U1.TransactionFailedError(new Error(CY(J.cause,J.message)));else if(J.type===m.default.txn_failure_type.expiry)return new U1.TransactionExpiredError(new Error(CY(J.cause,J.message)));else if(J.type===m.default.txn_failure_type.commit_ambiguous)return new U1.TransactionCommitAmbiguousError(new Error(CY(J.cause,J.message)));return new U1.TransactionFailedError(new Error(CY(J.cause,J.message)))}let X=J,Y=X81(J),$=Y?Y:void 0;switch(J.code){case m.default.errc_common.request_canceled:return new U1.RequestCanceledError(X,$);case m.default.errc_common.invalid_argument:return new U1.InvalidArgumentError(X,$);case m.default.errc_common.service_not_available:return new U1.ServiceNotAvailableError(X,$);case m.default.errc_common.internal_server_failure:return new U1.InternalServerFailureError(X,$);case m.default.errc_common.authentication_failure:return new U1.AuthenticationFailureError(X,$);case m.default.errc_common.temporary_failure:return new U1.TemporaryFailureError(X,$);case m.default.errc_common.parsing_failure:return new U1.ParsingFailureError(X,$);case m.default.errc_common.cas_mismatch:return new U1.CasMismatchError(X,$);case m.default.errc_common.bucket_not_found:return new U1.BucketNotFoundError(X,$);case m.default.errc_common.collection_not_found:return new U1.CollectionNotFoundError(X,$);case m.default.errc_common.unsupported_operation:return new U1.UnsupportedOperationError(X,$);case m.default.errc_common.unambiguous_timeout:return new U1.UnambiguousTimeoutError(X,$);case m.default.errc_common.ambiguous_timeout:return new U1.AmbiguousTimeoutError(X,$);case m.default.errc_common.feature_not_available:return new U1.FeatureNotAvailableError(X,$);case m.default.errc_common.scope_not_found:return new U1.ScopeNotFoundError(X,$);case m.default.errc_common.index_not_found:return new U1.IndexNotFoundError(X,$);case m.default.errc_common.index_exists:return new U1.IndexExistsError(X,$);case m.default.errc_common.decoding_failure:return new U1.DecodingFailureError(X,$);case m.default.errc_common.rate_limited:return new U1.RateLimitedError(X,$);case m.default.errc_common.quota_limited:return new U1.QuotaLimitedError(X,$);case m.default.errc_key_value.document_not_found:return new U1.DocumentNotFoundError(X,$);case m.default.errc_key_value.document_irretrievable:return new U1.DocumentUnretrievableError(X,$);case m.default.errc_key_value.document_locked:return new U1.DocumentLockedError(X,$);case m.default.errc_key_value.document_not_locked:return new U1.DocumentNotLockedError(X,$);case m.default.errc_key_value.value_too_large:return new U1.ValueTooLargeError(X,$);case m.default.errc_key_value.document_exists:return new U1.DocumentExistsError(X,$);case m.default.errc_key_value.durability_level_not_available:return new U1.DurabilityLevelNotAvailableError(X,$);case m.default.errc_key_value.durability_impossible:return new U1.DurabilityImpossibleError(X,$);case m.default.errc_key_value.durability_ambiguous:return new U1.DurabilityAmbiguousError(X,$);case m.default.errc_key_value.durable_write_in_progress:return new U1.DurableWriteInProgressError(X,$);case m.default.errc_key_value.durable_write_re_commit_in_progress:return new U1.DurableWriteReCommitInProgressError(X,$);case m.default.errc_key_value.path_not_found:return new U1.PathNotFoundError(X,$);case m.default.errc_key_value.path_mismatch:return new U1.PathMismatchError(X,$);case m.default.errc_key_value.path_invalid:return new U1.PathInvalidError(X,$);case m.default.errc_key_value.path_too_big:return new U1.PathTooBigError(X,$);case m.default.errc_key_value.path_too_deep:return new U1.PathTooDeepError(X,$);case m.default.errc_key_value.value_too_deep:return new U1.ValueTooDeepError(X,$);case m.default.errc_key_value.value_invalid:return new U1.ValueInvalidError(X,$);case m.default.errc_key_value.document_not_json:return new U1.DocumentNotJsonError(X,$);case m.default.errc_key_value.number_too_big:return new U1.NumberTooBigError(X,$);case m.default.errc_key_value.delta_invalid:return new U1.DeltaInvalidError(X,$);case m.default.errc_key_value.path_exists:return new U1.PathExistsError(X,$);case m.default.errc_key_value.xattr_unknown_macro:case m.default.errc_key_value.xattr_invalid_key_combo:case m.default.errc_key_value.xattr_unknown_virtual_attribute:case m.default.errc_key_value.xattr_cannot_modify_virtual_attribute:case m.default.errc_key_value.xattr_no_access:case m.default.errc_key_value.cannot_revive_living_document:break;case m.default.errc_query.planning_failure:return new U1.PlanningFailureError(X,$);case m.default.errc_query.index_failure:return new U1.IndexFailureError(X,$);case m.default.errc_query.prepared_statement_failure:return new U1.PreparedStatementFailureError(X,$);case m.default.errc_query.dml_failure:return new U1.DmlFailureError(X,$);case m.default.errc_analytics.compilation_failure:return new U1.CompilationFailureError(X,$);case m.default.errc_analytics.job_queue_full:return new U1.JobQueueFullError(X,$);case m.default.errc_analytics.dataset_not_found:return new U1.DatasetNotFoundError(X,$);case m.default.errc_analytics.dataverse_not_found:return new U1.DataverseNotFoundError(X,$);case m.default.errc_analytics.dataset_exists:return new U1.DatasetExistsError(X,$);case m.default.errc_analytics.dataverse_exists:return new U1.DataverseExistsError(X,$);case m.default.errc_analytics.link_not_found:return new U1.LinkNotFoundError(X,$);case m.default.errc_analytics.link_exists:return new U1.LinkExistsError(X,$);case m.default.errc_search.index_not_ready:return new U1.IndexNotReadyError(X,$);case m.default.errc_search.consistency_mismatch:break;case m.default.errc_view.view_not_found:return new U1.ViewNotFoundError(X,$);case m.default.errc_view.design_document_not_found:return new U1.DesignDocumentNotFoundError(X,$);case m.default.errc_management.collection_exists:return new U1.CollectionExistsError(X,$);case m.default.errc_management.scope_exists:return new U1.ScopeExistsError(X,$);case m.default.errc_management.user_not_found:return new U1.UserNotFoundError(X,$);case m.default.errc_management.group_not_found:return new U1.GroupNotFoundError(X,$);case m.default.errc_management.bucket_exists:return new U1.BucketExistsError(X,$);case m.default.errc_management.user_exists:return new U1.UserExistsError(X,$);case m.default.errc_management.bucket_not_flushable:return new U1.BucketNotFlushableError(X,$);case m.default.errc_management.eventing_function_not_found:return new U1.EventingFunctionNotFoundError(X,$);case m.default.errc_management.eventing_function_not_deployed:return new U1.EventingFunctionNotDeployedError(X,$);case m.default.errc_management.eventing_function_compilation_failure:return new U1.EventingFunctionCompilationFailureError(X,$);case m.default.errc_management.eventing_function_identical_keyspace:return new U1.EventingFunctionIdenticalKeyspaceError(X,$);case m.default.errc_management.eventing_function_not_bootstrapped:return new U1.EventingFunctionNotBootstrappedError(X,$);case m.default.errc_management.eventing_function_deployed:return new U1.EventingFunctionDeployedError(X,$);case m.default.errc_management.eventing_function_paused:return new U1.EventingFunctionPausedError(X,$)}return X}D1.errorFromCpp=sE4;function aE4(J){var Z,X,Y,$;if(J instanceof xl1.RangeScan)return{from:J.start!==void 0?{term:J.start.term,exclusive:(X=(Z=J.start)===null||Z===void 0?void 0:Z.exclusive)!==null&&X!==void 0?X:!1}:void 0,to:J.end!==void 0?{term:J.end.term,exclusive:($=(Y=J.end)===null||Y===void 0?void 0:Y.exclusive)!==null&&$!==void 0?$:!1}:void 0};else if(J instanceof xl1.SamplingScan)return{limit:J.limit,seed:J.seed};else return{prefix:J.prefix}}D1.scanTypeToCpp=aE4;function rE4(J){if(J===null||J===void 0)return m.default.management_cluster_bucket_type.couchbase;if(J===P4.BucketType.Couchbase)return m.default.management_cluster_bucket_type.couchbase;else if(J===P4.BucketType.Ephemeral)return m.default.management_cluster_bucket_type.ephemeral;else if(J===P4.BucketType.Memcached)return m.default.management_cluster_bucket_type.memcached;throw new U1.InvalidArgumentError}D1.bucketTypeToCpp=rE4;function tE4(J){if(J===m.default.management_cluster_bucket_type.couchbase)return P4.BucketType.Couchbase;else if(J===m.default.management_cluster_bucket_type.ephemeral)return P4.BucketType.Ephemeral;else if(J===m.default.management_cluster_bucket_type.memcached)return P4.BucketType.Memcached;else if(J===m.default.management_cluster_bucket_type.unknown)return;throw new U1.InvalidArgumentError}D1.bucketTypeFromCpp=tE4;function eE4(J){if(J===null||J===void 0)return m.default.management_cluster_bucket_compression.unknown;if(J===P4.CompressionMode.Active)return m.default.management_cluster_bucket_compression.active;else if(J===P4.CompressionMode.Passive)return m.default.management_cluster_bucket_compression.passive;else if(J===P4.CompressionMode.Off)return m.default.management_cluster_bucket_compression.off;throw new U1.InvalidArgumentError}D1.bucketCompressionModeToCpp=eE4;function JS4(J){if(J===m.default.management_cluster_bucket_compression.active)return P4.CompressionMode.Active;else if(J===m.default.management_cluster_bucket_compression.passive)return P4.CompressionMode.Passive;else if(J===m.default.management_cluster_bucket_compression.off)return P4.CompressionMode.Off;else if(J===m.default.management_cluster_bucket_compression.unknown)return;throw new U1.InvalidArgumentError}D1.bucketCompressionModeFromCpp=JS4;function ZS4(J){if(J===null||J===void 0)return m.default.management_cluster_bucket_eviction_policy.unknown;if(J===P4.EvictionPolicy.FullEviction)return m.default.management_cluster_bucket_eviction_policy.full;else if(J===P4.EvictionPolicy.ValueOnly)return m.default.management_cluster_bucket_eviction_policy.value_only;else if(J===P4.EvictionPolicy.NotRecentlyUsed)return m.default.management_cluster_bucket_eviction_policy.not_recently_used;else if(J===P4.EvictionPolicy.NoEviction)return m.default.management_cluster_bucket_eviction_policy.no_eviction;throw new U1.InvalidArgumentError}D1.bucketEvictionPolicyToCpp=ZS4;function XS4(J){if(J===m.default.management_cluster_bucket_eviction_policy.full)return P4.EvictionPolicy.FullEviction;else if(J===m.default.management_cluster_bucket_eviction_policy.value_only)return P4.EvictionPolicy.ValueOnly;else if(J===m.default.management_cluster_bucket_eviction_policy.not_recently_used)return P4.EvictionPolicy.NotRecentlyUsed;else if(J===m.default.management_cluster_bucket_eviction_policy.no_eviction)return P4.EvictionPolicy.NoEviction;else if(J===m.default.management_cluster_bucket_eviction_policy.unknown)return;throw new U1.InvalidArgumentError}D1.bucketEvictionPolicyFromCpp=XS4;function YS4(J){if(J===null||J===void 0)return m.default.management_cluster_bucket_storage_backend.unknown;if(J===P4.StorageBackend.Couchstore)return m.default.management_cluster_bucket_storage_backend.couchstore;else if(J===P4.StorageBackend.Magma)return m.default.management_cluster_bucket_storage_backend.magma;throw new U1.InvalidArgumentError}D1.bucketStorageBackendToCpp=YS4;function $S4(J){if(J===m.default.management_cluster_bucket_storage_backend.couchstore)return P4.StorageBackend.Couchstore;else if(J===m.default.management_cluster_bucket_storage_backend.magma)return P4.StorageBackend.Magma;else if(J===m.default.management_cluster_bucket_storage_backend.unknown)return;throw new U1.InvalidArgumentError}D1.bucketStorageBackendFromCpp=$S4;function zS4(J){if(J===null||J===void 0)return m.default.management_cluster_bucket_conflict_resolution.unknown;if(J===P4.ConflictResolutionType.SequenceNumber)return m.default.management_cluster_bucket_conflict_resolution.sequence_number;else if(J===P4.ConflictResolutionType.Timestamp)return m.default.management_cluster_bucket_conflict_resolution.timestamp;else if(J===P4.ConflictResolutionType.Custom)return m.default.management_cluster_bucket_conflict_resolution.custom;throw new U1.InvalidArgumentError}D1.bucketConflictResolutionTypeToCpp=zS4;function WS4(J){if(J===m.default.management_cluster_bucket_conflict_resolution.sequence_number)return P4.ConflictResolutionType.SequenceNumber;else if(J===m.default.management_cluster_bucket_conflict_resolution.timestamp)return P4.ConflictResolutionType.Timestamp;else if(J===m.default.management_cluster_bucket_conflict_resolution.custom)return P4.ConflictResolutionType.Custom;else if(J===m.default.management_cluster_bucket_conflict_resolution.unknown)return;throw new U1.InvalidArgumentError}D1.bucketConflictResolutionTypeFromCpp=WS4;function QS4(J){if(J===gl1.VectorQueryCombination.AND)return m.default.vector_query_combination.combination_and;else if(J===gl1.VectorQueryCombination.OR)return m.default.vector_query_combination.combination_or;throw new U1.InvalidArgumentError(new Error("Unrecognized VectorQueryCombination."))}D1.vectorQueryCombinationToCpp=QS4;function GS4(J){if(J===m.default.design_document_namespace.production)return vQ.DesignDocumentNamespace.Production;else if(J===m.default.design_document_namespace.development)return vQ.DesignDocumentNamespace.Development;throw new U1.InvalidArgumentError(new Error("Unrecognized DesignDocumentNamespace."))}D1.designDocumentNamespaceFromCpp=GS4;function KS4(J){if(J===vQ.DesignDocumentNamespace.Production)return m.default.design_document_namespace.production;else if(J===vQ.DesignDocumentNamespace.Development)return m.default.design_document_namespace.development;throw new U1.InvalidArgumentError(new Error("Unrecognized DesignDocumentNamespace."))}D1.designDocumentNamespaceToCpp=KS4;function qS4(J){var Z,X;if(!J)return;return{bucket_name:J.bucket,scope_name:(Z=J.scope)!==null&&Z!==void 0?Z:"_default",collection_name:(X=J.collection)!==null&&X!==void 0?X:"_default"}}D1.transactionKeyspaceToCpp=qS4;function BS4(J){if(J===C6.EventingFunctionBucketAccess.ReadOnly)return m.default.management_eventing_function_bucket_access.read_only;if(J===C6.EventingFunctionBucketAccess.ReadWrite)return m.default.management_eventing_function_bucket_access.read_write;throw new U1.InvalidArgumentError(new Error("Unrecognized EventingFunctionBucketAccess"))}D1.eventingBucketBindingAccessToCpp=BS4;function HS4(J){if(J===m.default.management_eventing_function_bucket_access.read_only)return C6.EventingFunctionBucketAccess.ReadOnly;if(J===m.default.management_eventing_function_bucket_access.read_write)return C6.EventingFunctionBucketAccess.ReadWrite;throw new U1.InvalidArgumentError(new Error("Unrecognized EventingFunctionBucketAccess"))}D1.eventingBucketBindingAccessFromCpp=HS4;function FS4(J){if(!J)return;if(J===C6.EventingFunctionDcpBoundary.Everything)return m.default.management_eventing_function_dcp_boundary.everything;if(J===C6.EventingFunctionDcpBoundary.FromNow)return m.default.management_eventing_function_dcp_boundary.from_now;throw new U1.InvalidArgumentError(new Error("Unrecognized EventingFunctionDcpBoundary"))}D1.eventingFunctionDcpBoundaryToCpp=FS4;function US4(J){if(!J)return;if(J===m.default.management_eventing_function_dcp_boundary.everything)return C6.EventingFunctionDcpBoundary.Everything;if(J===m.default.management_eventing_function_dcp_boundary.from_now)return C6.EventingFunctionDcpBoundary.FromNow;throw new U1.InvalidArgumentError(new Error("Unrecognized EventingFunctionDcpBoundary"))}D1.eventingFunctionDcpBoundaryFromCpp=US4;function OS4(J){if(!J)return;if(J===C6.EventingFunctionDeploymentStatus.Deployed)return m.default.management_eventing_function_deployment_status.deployed;if(J===C6.EventingFunctionDeploymentStatus.Undeployed)return m.default.management_eventing_function_deployment_status.undeployed;throw new U1.InvalidArgumentError(new Error("Unrecognized EventingFunctionDeploymentStatus"))}D1.eventingFunctionDeploymentStatusToCpp=OS4;function DS4(J){if(!J)return;if(J===m.default.management_eventing_function_deployment_status.deployed)return C6.EventingFunctionDeploymentStatus.Deployed;if(J===m.default.management_eventing_function_deployment_status.undeployed)return C6.EventingFunctionDeploymentStatus.Undeployed;throw new U1.InvalidArgumentError(new Error("Unrecognized EventingFunctionDeploymentStatus"))}D1.eventingFunctionDeploymentStatusFromCpp=DS4;function VS4(J){if(!J)return;if(J===C6.EventingFunctionProcessingStatus.Running)return m.default.management_eventing_function_processing_status.running;if(J===C6.EventingFunctionProcessingStatus.Paused)return m.default.management_eventing_function_processing_status.paused;throw new U1.InvalidArgumentError(new Error("Unrecognized EventingFunctionProcessingStatus"))}D1.eventingFunctionProcessingStatusToCpp=VS4;function IS4(J){if(!J)return;if(J===m.default.management_eventing_function_processing_status.running)return C6.EventingFunctionProcessingStatus.Running;if(J===m.default.management_eventing_function_processing_status.paused)return C6.EventingFunctionProcessingStatus.Paused;throw new U1.InvalidArgumentError(new Error("Unrecognized EventingFunctionProcessingStatus"))}D1.eventingFunctionProcessingStatusFromCpp=IS4;function wS4(J){if(!J)return;if(J===C6.EventingFunctionLogLevel.Debug)return m.default.management_eventing_function_log_level.debug;if(J===C6.EventingFunctionLogLevel.Error)return m.default.management_eventing_function_log_level.error;if(J===C6.EventingFunctionLogLevel.Info)return m.default.management_eventing_function_log_level.info;if(J===C6.EventingFunctionLogLevel.Trace)return m.default.management_eventing_function_log_level.trace;if(J===C6.EventingFunctionLogLevel.Warning)return m.default.management_eventing_function_log_level.warning;throw new U1.InvalidArgumentError(new Error("Unrecognized EventingFunctionLogLevel"))}D1.eventingFunctionLogLevelToCpp=wS4;function AS4(J){if(!J)return;if(J===m.default.management_eventing_function_log_level.debug)return C6.EventingFunctionLogLevel.Debug;if(J===m.default.management_eventing_function_log_level.error)return C6.EventingFunctionLogLevel.Error;if(J===m.default.management_eventing_function_log_level.info)return C6.EventingFunctionLogLevel.Info;if(J===m.default.management_eventing_function_log_level.trace)return C6.EventingFunctionLogLevel.Trace;if(J===m.default.management_eventing_function_log_level.warning)return C6.EventingFunctionLogLevel.Warning;throw new U1.InvalidArgumentError(new Error("Unrecognized EventingFunctionLogLevel"))}D1.eventingFunctionLogLevelFromCpp=AS4;function MS4(J){if(!J)return;if(J===C6.EventingFunctionLanguageCompatibility.Version_6_0_0)return m.default.management_eventing_function_language_compatibility.version_6_0_0;if(J===C6.EventingFunctionLanguageCompatibility.Version_6_5_0)return m.default.management_eventing_function_language_compatibility.version_6_5_0;if(J===C6.EventingFunctionLanguageCompatibility.Version_6_6_2)return m.default.management_eventing_function_language_compatibility.version_6_6_2;if(J===C6.EventingFunctionLanguageCompatibility.Version_7_2_0)return m.default.management_eventing_function_language_compatibility.version_7_2_0;throw new U1.InvalidArgumentError(new Error("Unrecognized EventingFunctionLanguageCompatibility"))}D1.eventingFunctionLanguageCompatibilityToCpp=MS4;function NS4(J){if(!J)return;if(J===m.default.management_eventing_function_language_compatibility.version_6_0_0)return C6.EventingFunctionLanguageCompatibility.Version_6_0_0;if(J===m.default.management_eventing_function_language_compatibility.version_6_5_0)return C6.EventingFunctionLanguageCompatibility.Version_6_5_0;if(J===m.default.management_eventing_function_language_compatibility.version_6_6_2)return C6.EventingFunctionLanguageCompatibility.Version_6_6_2;if(J===m.default.management_eventing_function_language_compatibility.version_7_2_0)return C6.EventingFunctionLanguageCompatibility.Version_7_2_0;throw new U1.InvalidArgumentError(new Error("Unrecognized EventingFunctionLanguageCompatibility"))}D1.eventingFunctionLanguageCompatibilityFromCpp=NS4;function PS4(J){if(J===m.default.management_eventing_function_status.undeployed)return C6.EventingFunctionStatus.Undeployed;if(J===m.default.management_eventing_function_status.deploying)return C6.EventingFunctionStatus.Deploying;if(J===m.default.management_eventing_function_status.deployed)return C6.EventingFunctionStatus.Deployed;if(J===m.default.management_eventing_function_status.undeploying)return C6.EventingFunctionStatus.Undeploying;if(J===m.default.management_eventing_function_status.paused)return C6.EventingFunctionStatus.Paused;if(J===m.default.management_eventing_function_status.pausing)return C6.EventingFunctionStatus.Pausing;throw new U1.InvalidArgumentError(new Error("Unrecognized EventingFunctionStatus"))}D1.eventingFunctionStatusFromCpp=PS4;function ml1(J){if(J===m.default.management_analytics_couchbase_link_encryption_level.none)return NF.AnalyticsEncryptionLevel.None;if(J===m.default.management_analytics_couchbase_link_encryption_level.half)return NF.AnalyticsEncryptionLevel.Half;if(J===m.default.management_analytics_couchbase_link_encryption_level.full)return NF.AnalyticsEncryptionLevel.Full;throw new U1.InvalidArgumentError(new Error("Unrecognized CppManagementAnalyticsCouchbaseLinkEncryptionLevel"))}D1.couchbaseLinkEncryptionLevelFromCpp=ml1;function cl1(J){if(J===NF.AnalyticsEncryptionLevel.None)return m.default.management_analytics_couchbase_link_encryption_level.none;if(J===NF.AnalyticsEncryptionLevel.Half)return m.default.management_analytics_couchbase_link_encryption_level.half;if(J===NF.AnalyticsEncryptionLevel.Full)return m.default.management_analytics_couchbase_link_encryption_level.full;throw new U1.InvalidArgumentError(new Error("Unrecognized AnalyticsEncryptionLevel"))}D1.encryptionLevelToCpp=cl1;function LS4(J){if(!J)return{level:m.default.management_analytics_couchbase_link_encryption_level.none};return{level:cl1(J.encryptionLevel),certificate:J.certificate?J.certificate.toString():void 0,client_certificate:J.clientCertificate?J.clientCertificate.toString():void 0,client_key:J.clientKey?J.clientKey.toString():void 0}}D1.encryptionSettingsToCpp=LS4;function CS4(J){return new NF.CouchbaseAnalyticsEncryptionSettings({encryptionLevel:ml1(J.level),certificate:J.certificate?Buffer.from(J.certificate):void 0,clientCertificate:J.client_certificate?Buffer.from(J.client_certificate):void 0,clientKey:void 0})}D1.encryptionSettingsFromCpp=CS4;function jS4(J){if(J==="unknown")return m.default.management_rbac_auth_domain.unknown;if(J==="local")return m.default.management_rbac_auth_domain.local;if(J==="external")return m.default.management_rbac_auth_domain.external;throw new U1.InvalidArgumentError(new Error("Unrecognized auth domain."))}D1.authDomainToCpp=jS4;function RS4(J){if(J===m.default.management_rbac_auth_domain.unknown)return"unknown";if(J===m.default.management_rbac_auth_domain.local)return"local";if(J===m.default.management_rbac_auth_domain.external)return"external";throw new U1.InvalidArgumentError(new Error("Unrecognized CppManagementRbacAuthDomain."))}D1.authDomainFromCpp=RS4});var LF=B((AZ)=>{var ES4=AZ&&AZ.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(AZ,"__esModule",{value:!0});AZ.StreamableScanPromise=AZ.StreamableReplicasPromise=AZ.StreamableRowPromise=AZ.StreamablePromise=void 0;var SS4=ES4(p("events"));class FL extends SS4.default{constructor(J){super();this._promise=null,this._promiseifyFn=J}get promise(){if(!this._promise)this._promise=new Promise((J,Z)=>this._promiseifyFn(this,J,Z));return this._promise}then(J,Z){return this.promise.then(J,Z)}catch(J){return this.promise.catch(J)}finally(J){return this.promise.finally(J)}get[Symbol.toStringTag](){return Promise[Symbol.toStringTag]}}AZ.StreamablePromise=FL;class ll1 extends FL{constructor(J){super((Z,X,Y)=>{let $,z=[],W;Z.on("row",(Q)=>z.push(Q)),Z.on("meta",(Q)=>W=Q),Z.on("error",(Q)=>$=Q),Z.on("end",()=>{if($)return Y($);X(J(z,W))})})}}AZ.StreamableRowPromise=ll1;class pl1 extends FL{constructor(J){super((Z,X,Y)=>{let $,z=[];Z.on("replica",(W)=>z.push(W)),Z.on("error",(W)=>$=W),Z.on("end",()=>{if($)return Y($);X(J(z))})})}}AZ.StreamableReplicasPromise=pl1;class nl1 extends FL{constructor(J){super((Z,X,Y)=>{let $,z=[];Z.on("result",(W)=>z.push(W)),Z.on("error",(W)=>$=W),Z.on("end",()=>{if($)return Y($);X(J(z))})});this._cancelRequested=!1}get cancelRequested(){return this._cancelRequested}cancelStreaming(){this._cancelRequested=!0}}AZ.StreamableScanPromise=nl1});var $81=B((ol1)=>{Object.defineProperty(ol1,"__esModule",{value:!0});ol1.AnalyticsExecutor=void 0;var Ih=Zh(),Y81=v5(),TS4=LF();class il1{constructor(J){this._cluster=J}query(J,Z){let X=new TS4.StreamableRowPromise(($,z)=>{return new Ih.AnalyticsResult({rows:$,meta:z})}),Y=Z.timeout||this._cluster.analyticsTimeout;return this._cluster.conn.analytics({statement:J,timeout:Y,client_context_id:Z.clientContextId,readonly:Z.readOnly||!1,priority:Z.priority||!1,scope_qualifier:Z.queryContext,scan_consistency:(0,Y81.analyticsScanConsistencyToCpp)(Z.scanConsistency),raw:Z.raw?Object.fromEntries(Object.entries(Z.raw).filter(([,$])=>$!==void 0).map(([$,z])=>[$,JSON.stringify(z)])):{},positional_parameters:Z.parameters&&Array.isArray(Z.parameters)?Z.parameters.map(($)=>JSON.stringify($!==null&&$!==void 0?$:null)):[],named_parameters:Z.parameters&&!Array.isArray(Z.parameters)?Object.fromEntries(Object.entries(Z.parameters).filter(([,$])=>$!==void 0).map(([$,z])=>[$,JSON.stringify(z)])):{},body_str:""},($,z)=>{let W=(0,Y81.errorFromCpp)($);if(W){X.emit("error",W),X.emit("end");return}z.rows.forEach((Q)=>{X.emit("row",JSON.parse(Q))});{let Q=z.meta,G;if(Q.warnings)G=Q.warnings.map((F)=>new Ih.AnalyticsWarning({code:F.code,message:F.message}));else G=[];let K=Q.metrics,q=new Ih.AnalyticsMetrics({elapsedTime:K.elapsed_time,executionTime:K.execution_time,resultCount:K.result_count,resultSize:K.result_size,errorCount:K.error_count,processedObjects:K.processed_objects,warningCount:K.warning_count}),H=new Ih.AnalyticsMetaData({requestId:Q.request_id,clientContextId:Q.client_context_id,status:(0,Y81.analyticsStatusFromCpp)(Q.status),signature:Q.signature?JSON.parse(Q.signature):void 0,warnings:G,metrics:q});X.emit("meta",H)}X.emit("end");return}),X}}ol1.AnalyticsExecutor=il1});var z81=B((rl1)=>{Object.defineProperty(rl1,"__esModule",{value:!0});rl1.BinaryCollection=void 0;class al1{constructor(J){this._coll=J}increment(J,Z,X,Y){return this._coll._binaryIncrement(J,Z,X,Y)}decrement(J,Z,X,Y){return this._coll._binaryDecrement(J,Z,X,Y)}append(J,Z,X,Y){return this._coll._binaryAppend(J,Z,X,Y)}prepend(J,Z,X,Y){return this._coll._binaryPrepend(J,Z,X,Y)}}rl1.BinaryCollection=al1});var W81=B((qp1)=>{Object.defineProperty(qp1,"__esModule",{value:!0});qp1.CounterResult=qp1.MutateInResult=qp1.MutateInResultEntry=qp1.LookupInReplicaResult=qp1.LookupInResult=qp1.LookupInResultEntry=qp1.GetReplicaResult=qp1.MutationResult=qp1.ExistsResult=qp1.ScanResult=qp1.GetResult=void 0;class el1{constructor(J){this.content=J.content,this.cas=J.cas,this.expiryTime=J.expiryTime}get value(){return this.content}set value(J){this.content=J}get expiry(){return this.expiryTime}}qp1.GetResult=el1;class Jp1{constructor(J){this.id=J.id,this.content=J.content,this.cas=J.cas,this.expiryTime=J.expiryTime}}qp1.ScanResult=Jp1;class Zp1{constructor(J){this.exists=J.exists,this.cas=J.cas}}qp1.ExistsResult=Zp1;class Xp1{constructor(J){this.cas=J.cas,this.token=J.token}}qp1.MutationResult=Xp1;class Yp1{constructor(J){this.content=J.content,this.cas=J.cas,this.isReplica=J.isReplica}}qp1.GetReplicaResult=Yp1;class $p1{constructor(J){this.error=J.error,this.value=J.value}}qp1.LookupInResultEntry=$p1;class zp1{constructor(J){this.content=J.content,this.cas=J.cas}get results(){return this.content}set results(J){this.content=J}}qp1.LookupInResult=zp1;class Wp1{constructor(J){this.content=J.content,this.cas=J.cas,this.isReplica=J.isReplica}}qp1.LookupInReplicaResult=Wp1;class Qp1{constructor(J){this.value=J.value}}qp1.MutateInResultEntry=Qp1;class Gp1{constructor(J){this.content=J.content,this.cas=J.cas,this.token=J.token}}qp1.MutateInResult=Gp1;class Kp1{constructor(J){this.value=J.value,this.cas=J.cas,this.token=J.token}}qp1.CounterResult=Kp1});var wh=B((NZ)=>{var uS4=NZ&&NZ.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(NZ,"__esModule",{value:!0});NZ.MutateInSpec=NZ.LookupInSpec=NZ.MutateInMacro=NZ.LookupInMacro=void 0;var p8=uS4(wF());class MZ{constructor(J){this._value=J}static get Document(){return new MZ("$document")}static get Expiry(){return new MZ("$document.exptime")}static get Cas(){return new MZ("$document.CAS")}static get SeqNo(){return new MZ("$document.seqno")}static get LastModified(){return new MZ("$document.last_modified")}static get IsDeleted(){return new MZ("$document.deleted")}static get ValueSizeBytes(){return new MZ("$document.value_bytes")}static get RevId(){return new MZ("$document.revid")}}NZ.LookupInMacro=MZ;class CF{constructor(J){this._value=J}static get Cas(){return new CF("${Mutation.CAS}")}static get SeqNo(){return new CF("${Mutation.seqno}")}static get ValueCrc32c(){return new CF("${Mutation.value_crc32c}")}}NZ.MutateInMacro=CF;class Q81{static get Expiry(){return MZ.Expiry}constructor(J,Z,X){this._op=J,this._path=Z,this._flags=X}static _create(J,Z,X){if(!X)X={};let Y=0;if(Z instanceof MZ)Z=Z._value,Y|=p8.default.protocol_lookup_in_request_body_lookup_in_specs_path_flag.xattr;if(X.xattr)Y|=p8.default.protocol_lookup_in_request_body_lookup_in_specs_path_flag.xattr;return new Q81(J,Z,Y)}static get(J,Z){if(!J)return this._create(p8.default.protocol_subdoc_opcode.get_doc,"",Z);return this._create(p8.default.protocol_subdoc_opcode.get,J,Z)}static exists(J,Z){return this._create(p8.default.protocol_subdoc_opcode.exists,J,Z)}static count(J,Z){return this._create(p8.default.protocol_subdoc_opcode.get_count,J,Z)}}NZ.LookupInSpec=Q81;class G81{static get CasPlaceholder(){return CF.Cas}constructor(J,Z,X,Y){this._op=J,this._path=Z,this._flags=X,this._data=Y}static _create(J,Z,X,Y){if(!Y)Y={};let $=0;if(Y.createPath)$|=p8.default.protocol_mutate_in_request_body_mutate_in_specs_path_flag.create_parents;if(X instanceof CF)X=X._value,$|=p8.default.protocol_mutate_in_request_body_mutate_in_specs_path_flag.expand_macros|p8.default.protocol_mutate_in_request_body_mutate_in_specs_path_flag.xattr;else if(Y.xattr)$|=p8.default.protocol_mutate_in_request_body_mutate_in_specs_path_flag.xattr;if(X!==void 0)if(!Y.multi)X=JSON.stringify(X);else{if(!Array.isArray(X))throw new Error("value must be an array for a multi operation");X=JSON.stringify(X),X=X.substr(1,X.length-2)}return new G81(J,Z,$,X)}static insert(J,Z,X){return this._create(p8.default.protocol_subdoc_opcode.dict_add,J,Z,X)}static upsert(J,Z,X){if(!J)return this._create(p8.default.protocol_subdoc_opcode.set_doc,"",Z,X);return this._create(p8.default.protocol_subdoc_opcode.dict_upsert,J,Z,X)}static replace(J,Z,X){return this._create(p8.default.protocol_subdoc_opcode.replace,J,Z,X)}static remove(J,Z){if(!J)return this._create(p8.default.protocol_subdoc_opcode.remove_doc,"",void 0,Z);return this._create(p8.default.protocol_subdoc_opcode.remove,J,void 0,Z)}static arrayAppend(J,Z,X){return this._create(p8.default.protocol_subdoc_opcode.array_push_last,J,Z,X)}static arrayPrepend(J,Z,X){return this._create(p8.default.protocol_subdoc_opcode.array_push_first,J,Z,X)}static arrayInsert(J,Z,X){return this._create(p8.default.protocol_subdoc_opcode.array_insert,J,Z,X)}static arrayAddUnique(J,Z,X){return this._create(p8.default.protocol_subdoc_opcode.array_add_unique,J,Z,X)}static increment(J,Z,X){return this._create(p8.default.protocol_subdoc_opcode.counter,J,+Z,X)}static decrement(J,Z,X){return this._create(p8.default.protocol_subdoc_opcode.counter,J,-1*+Z,X)}}NZ.MutateInSpec=G81});var K81=B((Dp1)=>{Object.defineProperty(Dp1,"__esModule",{value:!0});Dp1.CouchbaseSet=Dp1.CouchbaseQueue=Dp1.CouchbaseMap=Dp1.CouchbaseList=void 0;var y$=IZ(),UL=SI(),D9=wh(),U8=s5();class Hp1{constructor(J,Z){this._coll=J,this._key=Z}async _get(){let J=await this._coll.get(this._key);if(!(J.content instanceof Array))throw new y$.CouchbaseError("expected document of array type");return J.content}async getAll(J){return U8.PromiseHelper.wrapAsync(async()=>{return await this._get()},J)}async forEach(J,Z){return U8.PromiseHelper.wrapAsync(async()=>{let X=await this._get();for(let Y=0;Y<X.length;++Y)J(X[Y],Y,this)},Z)}[Symbol.asyncIterator](){let J=async()=>this._get();return{data:null,index:-1,async next(){if(this.index<0)this.data=await J(),this.index=0;let Z=this.data;if(this.index<Z.length)return{done:!1,value:Z[this.index++]};return{done:!0}}}}async getAt(J,Z){return U8.PromiseHelper.wrapAsync(async()=>{let Y=(await this._coll.lookupIn(this._key,[D9.LookupInSpec.get("["+J+"]")])).content[0];if(Y.error)throw Y.error;return Y.value},Z)}async removeAt(J,Z){return U8.PromiseHelper.wrapAsync(async()=>{await this._coll.mutateIn(this._key,[D9.MutateInSpec.remove("["+J+"]")])},Z)}async indexOf(J,Z){return U8.PromiseHelper.wrapAsync(async()=>{let X=await this._get();for(let Y=0;Y<X.length;++Y)if(X[Y]===J)return Y;return-1},Z)}async size(J){return U8.PromiseHelper.wrapAsync(async()=>{return(await this._coll.lookupIn(this._key,[D9.LookupInSpec.count("")])).content[0].value},J)}async push(J,Z){return U8.PromiseHelper.wrapAsync(async()=>{await this._coll.mutateIn(this._key,[D9.MutateInSpec.arrayAppend("",J)],{storeSemantics:UL.StoreSemantics.Upsert})},Z)}async unshift(J,Z){return U8.PromiseHelper.wrapAsync(async()=>{await this._coll.mutateIn(this._key,[D9.MutateInSpec.arrayPrepend("",J)],{storeSemantics:UL.StoreSemantics.Upsert})},Z)}}Dp1.CouchbaseList=Hp1;class Fp1{constructor(J,Z){this._coll=J,this._key=Z}async _get(){let J=await this._coll.get(this._key);if(!(J.content instanceof Object))throw new y$.CouchbaseError("expected document of object type");return J.content}async getAll(J){return U8.PromiseHelper.wrapAsync(async()=>{return await this._get()},J)}async forEach(J,Z){return U8.PromiseHelper.wrapAsync(async()=>{let X=await this._get();for(let Y in X)J(X[Y],Y,this)},Z)}[Symbol.asyncIterator](){let J=async()=>this._get();return{data:null,keys:null,index:-1,async next(){if(this.index<0)this.data=await J(),this.keys=Object.keys(this.data),this.index=0;let Z=this.keys,X=this.data;if(this.index<Z.length){let Y=Z[this.index++];return{done:!1,value:[X[Y],Y]}}return{done:!0,value:void 0}}}}async set(J,Z,X){return U8.PromiseHelper.wrapAsync(async()=>{await this._coll.mutateIn(this._key,[D9.MutateInSpec.upsert(J,Z)],{storeSemantics:UL.StoreSemantics.Upsert})},X)}async get(J,Z){return U8.PromiseHelper.wrapAsync(async()=>{let Y=(await this._coll.lookupIn(this._key,[D9.LookupInSpec.get(J)])).content[0];if(Y.error)throw Y.error;return Y.value},Z)}async remove(J,Z){return U8.PromiseHelper.wrapAsync(async()=>{await this._coll.mutateIn(this._key,[D9.MutateInSpec.remove(J)])},Z)}async exists(J,Z){return U8.PromiseHelper.wrapAsync(async()=>{return(await this._coll.lookupIn(this._key,[D9.LookupInSpec.exists(J)])).content[0].value},Z)}async keys(J){return U8.PromiseHelper.wrapAsync(async()=>{let Z=await this._get();return Object.keys(Z)},J)}async values(J){return U8.PromiseHelper.wrapAsync(async()=>{let Z=await this._get();return Object.values(Z)},J)}async size(J){return U8.PromiseHelper.wrapAsync(async()=>{return(await this._coll.lookupIn(this._key,[D9.LookupInSpec.count("")])).content[0].value},J)}}Dp1.CouchbaseMap=Fp1;class Up1{constructor(J,Z){this._coll=J,this._key=Z}async _get(){let J=await this._coll.get(this._key);if(!(J.content instanceof Array))throw new y$.CouchbaseError("expected document of array type");return J.content}async size(J){return U8.PromiseHelper.wrapAsync(async()=>{return(await this._coll.lookupIn(this._key,[D9.LookupInSpec.count("")])).content[0].value},J)}async push(J,Z){return U8.PromiseHelper.wrapAsync(async()=>{await this._coll.mutateIn(this._key,[D9.MutateInSpec.arrayPrepend("",J)],{storeSemantics:UL.StoreSemantics.Upsert})},Z)}async pop(J){return U8.PromiseHelper.wrapAsync(async()=>{for(let Z=0;Z<16;++Z)try{let X=await this._coll.lookupIn(this._key,[D9.LookupInSpec.get("[-1]")]),Y=X.content[0].value;return await this._coll.mutateIn(this._key,[D9.MutateInSpec.remove("[-1]")],{cas:X.cas}),Y}catch(X){if(X instanceof y$.PathInvalidError)throw new y$.CouchbaseError("no items available in list")}throw new y$.CouchbaseError("no items available to pop")},J)}}Dp1.CouchbaseQueue=Up1;class Op1{constructor(J,Z){this._coll=J,this._key=Z}async _get(){let J=await this._coll.get(this._key);if(!(J.content instanceof Array))throw new y$.CouchbaseError("expected document of array type");return J.content}async add(J,Z){return U8.PromiseHelper.wrapAsync(async()=>{try{await this._coll.mutateIn(this._key,[D9.MutateInSpec.arrayAddUnique("",J)],{storeSemantics:UL.StoreSemantics.Upsert})}catch(X){if(X instanceof y$.PathExistsError)return!1;throw X}return!0},Z)}async contains(J,Z){return U8.PromiseHelper.wrapAsync(async()=>{let X=await this._get();for(let Y=0;Y<X.length;++Y)if(X[Y]===J)return!0;return!1},Z)}async remove(J,Z){return U8.PromiseHelper.wrapAsync(async()=>{for(let X=0;X<16;++X)try{let Y=await this._coll.get(this._key);if(!(Y.content instanceof Array))throw new y$.CouchbaseError("expected document of array type");let $=Y.content.indexOf(J);if($===-1)throw new Error("item was not found in set");await this._coll.mutateIn(this._key,[D9.MutateInSpec.remove("["+$+"]")],{cas:Y.cas});return}catch(Y){}throw new y$.CouchbaseError("no items available to pop")},Z)}async values(J){return U8.PromiseHelper.wrapAsync(async()=>{return await this._get()},J)}async size(J){return U8.PromiseHelper.wrapAsync(async()=>{return(await this._coll.lookupIn(this._key,[D9.LookupInSpec.count("")])).content[0].value},J)}}Dp1.CouchbaseSet=Op1});var Mh=B((Mp1)=>{Object.defineProperty(Mp1,"__esModule",{value:!0});Mp1.QueryIndexManager=Mp1.CollectionQueryIndexManager=Mp1.QueryIndex=void 0;var Ah=v5(),Ip1=IZ(),bI=s5();class q81{constructor(J){this.name=J.name,this.isPrimary=J.isPrimary,this.type=J.type,this.state=J.state,this.indexKey=J.indexKey,this.condition=J.condition,this.partition=J.partition,this.collectionName=J.collectionName,this.scopeName=J.scopeName,this.bucketName=J.bucketName}}Mp1.QueryIndex=q81;class B81{constructor(J){this._cluster=J,this._queryContext={bucket_name:"",scope_name:""}}async createIndex(J,Z,X,Y){let $=X.timeout||this._cluster.managementTimeout;return bI.PromiseHelper.wrap((z)=>{this._cluster.conn.managementQueryIndexCreate({bucket_name:J,scope_name:X.scopeName||"",collection_name:X.collectionName||"",index_name:X.name||"",keys:X.keys||[],query_ctx:X.queryContext||this._queryContext,is_primary:Z,ignore_if_exists:X.ignoreIfExists||!1,deferred:X.deferred,num_replicas:X.numReplicas,timeout:$,condition:void 0},(W)=>{let Q=(0,Ah.errorFromCpp)(W);if(Q)return z(Q,null);z(Q)})},Y)}async dropIndex(J,Z,X,Y){let $=X.timeout||this._cluster.managementTimeout;if(X.name)Z=!1;return bI.PromiseHelper.wrap((z)=>{this._cluster.conn.managementQueryIndexDrop({bucket_name:J,scope_name:X.scopeName||"",collection_name:X.collectionName||"",index_name:X.name||"",query_ctx:X.queryContext||this._queryContext,is_primary:Z,ignore_if_does_not_exist:X.ignoreIfNotExists||!1,timeout:$},(W)=>{let Q=(0,Ah.errorFromCpp)(W);if(Q)return z(Q,null);z(Q)})},Y)}async getAllIndexes(J,Z,X){let Y=Z.timeout||this._cluster.managementTimeout;return bI.PromiseHelper.wrap(($)=>{this._cluster.conn.managementQueryIndexGetAll({bucket_name:J,scope_name:Z.scopeName||"",collection_name:Z.collectionName||"",query_ctx:Z.queryContext||this._queryContext,timeout:Y},(z,W)=>{let Q=(0,Ah.errorFromCpp)(z);if(Q)return $(Q,null);let G=W.indexes.map((K)=>new q81({isPrimary:K.is_primary,name:K.name,state:K.state,type:K.type,indexKey:K.index_key,partition:K.partition,condition:K.condition,bucketName:K.bucket_name,scopeName:K.scope_name,collectionName:K.collection_name}));$(null,G)})},X)}async buildDeferredIndexes(J,Z,X){let Y=Z.timeout||this._cluster.managementTimeout;return bI.PromiseHelper.wrap(($)=>{this._cluster.conn.managementQueryIndexBuildDeferred({bucket_name:J,scope_name:Z.scopeName||"",collection_name:Z.collectionName||"",query_ctx:Z.queryContext||this._queryContext,timeout:Y},(z)=>{let W=(0,Ah.errorFromCpp)(z);if(W)return $(W,null);$(null,null)})},X)}async watchIndexes(J,Z,X,Y,$){if(Y.watchPrimary)Z=[...Z,"#primary"];let z=new bI.CompoundTimeout(X);return bI.PromiseHelper.wrapAsync(async()=>{let W=50;for(;;){let Q=await this.getAllIndexes(J,{timeout:z.left()}),G=Q.map((U)=>U.name),q=Q.filter((U)=>U.state==="online").map((U)=>U.name),H=!0;if(Z.forEach((U)=>{if(!G.includes(U))throw new Ip1.IndexNotFoundError(new Error(`Cannot find index with name ${U}`));H=H&&q.indexOf(U)!==-1}),H)break;W=Math.min(1000,W+500);let F=z.left();if(F!==void 0)W=Math.min(W,F);if(W<=0)throw new Ip1.CouchbaseError("Failed to find all indexes online within the alloted time.");await new Promise((U)=>setTimeout(()=>U(!0),W))}},$)}}class wp1{constructor(J){this._bucketName=J.scope.bucket.name,this._collectionName=J.name,this._scopeName=J.scope.name,this._manager=new B81(J.cluster)}async createIndex(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};return this._manager.createIndex(this._bucketName,!1,{collectionName:this._collectionName,scopeName:this._scopeName,name:J,keys:Z,ignoreIfExists:X.ignoreIfExists,numReplicas:X.numReplicas,deferred:X.deferred,timeout:X.timeout},Y)}async createPrimaryIndex(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};return this._manager.createIndex(this._bucketName,!0,{collectionName:this._collectionName,scopeName:this._scopeName,name:J.name,ignoreIfExists:J.ignoreIfExists,deferred:J.deferred,timeout:J.timeout},Z)}async dropIndex(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};return this._manager.dropIndex(this._bucketName,!1,{collectionName:this._collectionName,scopeName:this._scopeName,name:J,ignoreIfNotExists:Z.ignoreIfNotExists,timeout:Z.timeout},X)}async dropPrimaryIndex(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};return this._manager.dropIndex(this._bucketName,!0,{collectionName:this._collectionName,scopeName:this._scopeName,name:J.name,ignoreIfNotExists:J.ignoreIfNotExists,timeout:J.timeout},Z)}async getAllIndexes(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};return this._manager.getAllIndexes(this._bucketName,{collectionName:this._collectionName,scopeName:this._scopeName,timeout:J.timeout},Z)}async buildDeferredIndexes(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};return this._manager.buildDeferredIndexes(this._bucketName,{collectionName:this._collectionName,scopeName:this._scopeName,timeout:J.timeout},Z)}async watchIndexes(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};return this._manager.watchIndexes(this._bucketName,J,Z,{collectionName:this._collectionName,scopeName:this._scopeName,watchPrimary:X.watchPrimary},Y)}}Mp1.CollectionQueryIndexManager=wp1;class Ap1{constructor(J){this._manager=new B81(J)}async createIndex(J,Z,X,Y,$){if(Y instanceof Function)$=arguments[3],Y=void 0;if(!Y)Y={};return this._manager.createIndex(J,!1,{collectionName:Y.collectionName,scopeName:Y.scopeName,name:Z,keys:X,ignoreIfExists:Y.ignoreIfExists,numReplicas:Y.numReplicas,deferred:Y.deferred,timeout:Y.timeout},$)}async createPrimaryIndex(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};return this._manager.createIndex(J,!0,{collectionName:Z.collectionName,scopeName:Z.scopeName,name:Z.name,ignoreIfExists:Z.ignoreIfExists,deferred:Z.deferred,timeout:Z.timeout},X)}async dropIndex(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};return this._manager.dropIndex(J,!1,{collectionName:X.collectionName,scopeName:X.scopeName,name:Z,ignoreIfNotExists:X.ignoreIfNotExists,timeout:X.timeout},Y)}async dropPrimaryIndex(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};return this._manager.dropIndex(J,!0,{collectionName:Z.collectionName,scopeName:Z.scopeName,name:Z.name,ignoreIfNotExists:Z.ignoreIfNotExists,timeout:Z.timeout},X)}async getAllIndexes(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};return this._manager.getAllIndexes(J,{collectionName:Z.collectionName,scopeName:Z.scopeName,timeout:Z.timeout},X)}async buildDeferredIndexes(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};return this._manager.buildDeferredIndexes(J,{collectionName:Z.collectionName,scopeName:Z.scopeName,timeout:Z.timeout},X)}async watchIndexes(J,Z,X,Y,$){if(Y instanceof Function)$=arguments[3],Y=void 0;if(!Y)Y={};return this._manager.watchIndexes(J,Z,X,{collectionName:Y.collectionName,scopeName:Y.scopeName,watchPrimary:Y.watchPrimary},$)}}Mp1.QueryIndexManager=Ap1});var jp1=B((Lp1)=>{Object.defineProperty(Lp1,"__esModule",{value:!0});Lp1.SdUtils=void 0;class Pp1{static _parsePath(J){if(!J)return[];let Z="",X=[];for(let Y=0;Y<J.length;++Y)if(J[Y]==="["){if(Z)X.push({type:"property",path:Z}),Z=""}else if(J[Y]==="]")X.push({type:"index",index:parseInt(Z)}),Z="",++Y;else if(J[Y]===".")X.push({type:"property",path:Z}),Z="";else Z+=J[Y];if(Z)X.push({type:"property",path:Z});return X}static _insertByPath(J,Z,X){if(Z.length===0)return X;let Y=Z.shift();if(Y.type==="property"){if(!J)J={};if(Array.isArray(J))throw new Error("expected object, found array");J[Y.path]=this._insertByPath(J[Y.path],Z,X)}else if(Y.type==="index"){if(!J)J=[];if(!Array.isArray(J))throw new Error("expected array, found object");J[Y.index]=this._insertByPath(J[Y.index],Z,X)}else throw new Error("encountered unexpected path type");return J}static insertByPath(J,Z,X){let Y=this._parsePath(Z);return this._insertByPath(J,Y,X)}static _getByPath(J,Z){if(Z.length===0)return J;let X=Z.shift();if(X.type==="property"){if(!J)return;if(Array.isArray(J))throw new Error("expected object, found array");return this._getByPath(J[X.path],Z)}else if(X.type==="index"){if(!J)return;if(!Array.isArray(J))throw new Error("expected array, found object");return this._getByPath(J[X.index],Z)}else throw new Error("encountered unexpected path type")}static getByPath(J,Z){let X=this._parsePath(Z);return this._getByPath(J,X)}static convertMacroCasToCas(J){return`0x${Buffer.from(J.startsWith("0x")?J.slice(2):J,"hex").reverse().toString("hex")}`}}Lp1.SdUtils=Pp1});var Ph=B((v$)=>{var iS4=v$&&v$.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),oS4=v$&&v$.__setModuleDefault||(Object.create?function(J,Z){Object.defineProperty(J,"default",{enumerable:!0,value:Z})}:function(J,Z){J.default=Z}),sS4=v$&&v$.__importStar||function(J){if(J&&J.__esModule)return J;var Z={};if(J!=null){for(var X in J)if(X!=="default"&&Object.prototype.hasOwnProperty.call(J,X))iS4(Z,J,X)}return oS4(Z,J),Z};Object.defineProperty(v$,"__esModule",{value:!0});v$.Collection=void 0;var aS4=z81(),A3=sS4(wF()),q0=v5(),a4=W81(),Nh=K81(),Rp1=IZ(),Ep1=SI(),rS4=Mh(),tS4=Kh(),OL=wh(),H81=jp1(),F81=LF(),L4=s5();class Sp1{static get DEFAULT_NAME(){return"_default"}constructor(J,Z){this._scope=J,this._name=Z,this._conn=J.conn,this._kvScanTimeout=75000,this._scanBatchByteLimit=15000,this._scanBatchItemLimit=50}get conn(){return this._conn}get cluster(){return this._scope.bucket.cluster}get scope(){return this._scope}get transcoder(){return this._scope.transcoder}_mutationTimeout(J){if(J!==void 0&&J!==null&&J!==Ep1.DurabilityLevel.None)return this.cluster.kvDurableTimeout;return this.cluster.kvTimeout}_cppDocId(J){return{bucket:this.scope.bucket.name,scope:this.scope.name||"_default",collection:this.name||"_default",key:J}}_encodeDoc(J,Z,X){try{let[Y,$]=J.encode(Z);X(null,Y,$)}catch(Y){return X(Y,Buffer.alloc(0),0)}}_decodeDoc(J,Z,X,Y){try{let $=J.decode(Z,X);Y(null,$)}catch($){return Y($,null)}}_subdocEncode(J){return Buffer.from(J)}_subdocDecode(J){try{return JSON.parse(J.toString("utf8"))}catch(Z){return J}}get name(){return this._name}get(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};if(Z.project||Z.withExpiry)return this._projectedGet(J,Z,X);let Y=Z.transcoder||this.transcoder,$=Z.timeout||this.cluster.kvTimeout;return L4.PromiseHelper.wrap((z)=>{this._conn.get({id:this._cppDocId(J),timeout:$,partition:0,opaque:0},(W,Q)=>{let G=(0,q0.errorFromCpp)(W);if(G)return z(G,null);this._decodeDoc(Y,Q.value,Q.flags,(K,q)=>{if(K)return z(K,null);z(null,new a4.GetResult({content:q,cas:Q.cas}))})})},X)}_projectedGet(J,Z,X){let Y=-1,$=-1,z=[],W=[],Q=!1;if(Z.withExpiry)Y=W.length,W.push(OL.LookupInSpec.get(OL.LookupInMacro.Expiry));if($=W.length,!Z.project)z=[""],W.push(OL.LookupInSpec.get(""));else{let G=Z.project;if(!Array.isArray(G))G=[G];for(let K=0;K<G.length;++K)z.push(G[K]),W.push(OL.LookupInSpec.get(G[K]))}if(W.length>16)W=W.splice(0,$),W.push(OL.LookupInSpec.get("")),Q=!0;return L4.PromiseHelper.wrapAsync(async()=>{let G=await this.lookupIn(J,W,{...Z}),K=null,q=void 0;if(Y>=0)q=G.content[Y].value;if($>=0)if(!Q)for(let H=0;H<z.length;++H){let F=z[H],U=G.content[$+H];if(!U.error)K=H81.SdUtils.insertByPath(K,F,U.value)}else{K={};let H=G.content[$];for(let F=0;F<z.length;++F){let U=z[F],D=H81.SdUtils.getByPath(H.value,U);K=H81.SdUtils.insertByPath(K,U,D)}}return new a4.GetResult({content:K,cas:G.cas,expiryTime:q})},X)}exists(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this.cluster.kvTimeout;return L4.PromiseHelper.wrap(($)=>{this._conn.exists({id:this._cppDocId(J),partition:0,opaque:0,timeout:Y},(z,W)=>{let Q=(0,q0.errorFromCpp)(z);if(Q)return $(Q,null);if(W.deleted)return $(null,new a4.ExistsResult({cas:void 0,exists:!1}));$(null,new a4.ExistsResult({cas:W.cas,exists:W.document_exists}))})},X)}_getReplica(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=new F81.StreamableReplicasPromise((Q)=>Q),z=X.transcoder||this.transcoder,W=X.timeout||this.cluster.kvTimeout;if(Z)this._conn.getAllReplicas({id:this._cppDocId(J),timeout:W},(Q,G)=>{let K=(0,q0.errorFromCpp)(Q);if(K){$.emit("error",K),$.emit("end");return}G.entries.forEach((q)=>{this._decodeDoc(z,q.value,q.flags,(H,F)=>{if(H){$.emit("error",H),$.emit("end");return}$.emit("replica",new a4.GetReplicaResult({content:F,cas:q.cas,isReplica:q.replica}))})}),$.emit("end");return});else this._conn.getAnyReplica({id:this._cppDocId(J),timeout:W},(Q,G)=>{let K=(0,q0.errorFromCpp)(Q);if(K){$.emit("error",K),$.emit("end");return}this._decodeDoc(z,G.value,G.flags,(q,H)=>{if(q){$.emit("error",q),$.emit("end");return}$.emit("replica",new a4.GetReplicaResult({content:H,cas:G.cas,isReplica:G.replica}))}),$.emit("end");return});return L4.PromiseHelper.wrapAsync(()=>$,Y)}getAnyReplica(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;return L4.PromiseHelper.wrapAsync(async()=>{return(await this._getReplica(J,!1,Z))[0]},X)}getAllReplicas(J,Z,X){return this._getReplica(J,!0,Z,X)}insert(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=X.expiry?(0,L4.expiryToTimestamp)(X.expiry):0,z=X.transcoder||this.transcoder,W=X.durabilityLevel,Q=X.durabilityPersistTo,G=X.durabilityReplicateTo,K=X.timeout||this._mutationTimeout(W);return L4.PromiseHelper.wrap((q)=>{this._encodeDoc(z,Z,(H,F,U)=>{if(H)return q(H,null);let D={id:this._cppDocId(J),value:F,flags:U,expiry:$,timeout:K,partition:0,opaque:0},V=(w,M)=>{let P=(0,q0.errorFromCpp)(w);if(P)return q(P,null);q(P,new a4.MutationResult({cas:M.cas,token:M.token}))};if(Q||G)this._conn.insertWithLegacyDurability({...D,persist_to:(0,q0.persistToToCpp)(Q),replicate_to:(0,q0.replicateToToCpp)(G)},V);else this._conn.insert({...D,durability_level:(0,q0.durabilityToCpp)(W)},V)})},Y)}upsert(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=X.expiry?(0,L4.expiryToTimestamp)(X.expiry):0,z=X.preserveExpiry,W=X.transcoder||this.transcoder,Q=X.durabilityLevel,G=X.durabilityPersistTo,K=X.durabilityReplicateTo,q=X.timeout||this._mutationTimeout(Q);return L4.PromiseHelper.wrap((H)=>{this._encodeDoc(W,Z,(F,U,D)=>{if(F)return H(F,null);let V={id:this._cppDocId(J),value:U,flags:D,expiry:$,preserve_expiry:z||!1,timeout:q,partition:0,opaque:0},w=(M,P)=>{let R=(0,q0.errorFromCpp)(M);if(R)return H(R,null);H(R,new a4.MutationResult({cas:P.cas,token:P.token}))};if(G||K)this._conn.upsertWithLegacyDurability({...V,persist_to:(0,q0.persistToToCpp)(G),replicate_to:(0,q0.replicateToToCpp)(K)},w);else this._conn.upsert({...V,durability_level:(0,q0.durabilityToCpp)(Q)},w)})},Y)}replace(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=X.expiry?(0,L4.expiryToTimestamp)(X.expiry):0,z=X.cas,W=X.preserveExpiry,Q=X.transcoder||this.transcoder,G=X.durabilityLevel,K=X.durabilityPersistTo,q=X.durabilityReplicateTo,H=X.timeout||this._mutationTimeout(G);return L4.PromiseHelper.wrap((F)=>{this._encodeDoc(Q,Z,(U,D,V)=>{if(U)return F(U,null);let w={id:this._cppDocId(J),value:D,flags:V,expiry:$,cas:z||A3.zeroCas,preserve_expiry:W||!1,timeout:H,partition:0,opaque:0},M=(P,R)=>{let f=(0,q0.errorFromCpp)(P);if(f)return F(f,null);F(f,new a4.MutationResult({cas:R.cas,token:R.token}))};if(K||q)this._conn.replaceWithLegacyDurability({...w,persist_to:(0,q0.persistToToCpp)(K),replicate_to:(0,q0.replicateToToCpp)(q)},M);else this._conn.replace({...w,durability_level:(0,q0.durabilityToCpp)(G)},M)})},Y)}remove(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let{cas:Y,durabilityLevel:$,durabilityPersistTo:z,durabilityReplicateTo:W}=Z,Q=Z.timeout||this._mutationTimeout($);return L4.PromiseHelper.wrap((G)=>{let K={id:this._cppDocId(J),cas:Y||A3.zeroCas,timeout:Q,partition:0,opaque:0},q=(H,F)=>{let U=(0,q0.errorFromCpp)(H);if(U)return G(U,null);G(U,new a4.MutationResult({cas:F.cas,token:F.token}))};if(z||W)this._conn.removeWithLegacyDurability({...K,persist_to:(0,q0.persistToToCpp)(z),replicate_to:(0,q0.replicateToToCpp)(W)},q);else this._conn.remove({...K,durability_level:(0,q0.durabilityToCpp)($)},q)},X)}getAndTouch(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=X.transcoder||this.transcoder,z=X.timeout||this.cluster.kvTimeout;return L4.PromiseHelper.wrap((W)=>{this._conn.getAndTouch({id:this._cppDocId(J),expiry:(0,L4.expiryToTimestamp)(Z),timeout:z,partition:0,opaque:0},(Q,G)=>{let K=(0,q0.errorFromCpp)(Q);if(K)return W(K,null);this._decodeDoc($,G.value,G.flags,(q,H)=>{if(q)return W(q,null);W(q,new a4.GetResult({content:H,cas:G.cas}))})})},Y)}touch(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=X.timeout||this.cluster.kvTimeout;return L4.PromiseHelper.wrap((z)=>{this._conn.touch({id:this._cppDocId(J),expiry:(0,L4.expiryToTimestamp)(Z),timeout:$,partition:0,opaque:0},(W,Q)=>{let G=(0,q0.errorFromCpp)(W);if(G)return z(G,null);z(G,new a4.MutationResult({cas:Q.cas}))})},Y)}getAndLock(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=X.transcoder||this.transcoder,z=X.timeout||this.cluster.kvTimeout;return L4.PromiseHelper.wrap((W)=>{this._conn.getAndLock({id:this._cppDocId(J),lock_time:Z,timeout:z,partition:0,opaque:0},(Q,G)=>{let K=(0,q0.errorFromCpp)(Q);if(K)return W(K,null);this._decodeDoc($,G.value,G.flags,(q,H)=>{if(q)return W(q,null);W(q,new a4.GetResult({cas:G.cas,content:H}))})})},Y)}unlock(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=X.timeout||this.cluster.kvTimeout;return L4.PromiseHelper.wrap((z)=>{this._conn.unlock({id:this._cppDocId(J),cas:Z,timeout:$,partition:0,opaque:0},(W)=>{let Q=(0,q0.errorFromCpp)(W);if(Q)return z(Q);z(null)})},Y)}_continueScan(J,Z,X){J.next((Y,$)=>{let z=(0,q0.errorFromCpp)(Y);if(z){X.emit("error",z),X.emit("end");return}if(typeof $==="undefined"){X.emit("end");return}let W=$.key;if(typeof $.body!=="undefined"){let Q=$.body.cas,G=$.body.expiry;this._decodeDoc(Z,$.body.value,$.body.flags,(K,q)=>{if(K){X.emit("error",K),X.emit("end");return}X.emit("result",new a4.ScanResult({id:W,content:q,cas:Q,expiryTime:G}))})}else X.emit("result",new a4.ScanResult({id:W}));if(X.cancelRequested&&!J.cancelled)J.cancel();this._continueScan(J,Z,X);return})}_doScan(J,Z,X,Y){let $=this._scope.bucket.name,z=this._scope.name,W=this._name;return L4.PromiseHelper.wrapAsync(()=>{let{cppErr:Q,result:G}=this._conn.scan($,z,W,J.getScanType(),(0,q0.scanTypeToCpp)(J),Z),K=(0,q0.errorFromCpp)(Q);if(K)throw K;let q=new F81.StreamableScanPromise((H)=>H);return this._continueScan(G,X,q),q},Y)}scan(J,Z,X){if(Z instanceof Function)X=arguments[2],Z=void 0;if(!Z)Z={};let Y=Z.transcoder||this.transcoder,$=Z.timeout||this._kvScanTimeout,z=Z.idsOnly||!1,W=Z.batchByteLimit||this._scanBatchByteLimit,Q=Z.batchByteLimit||this._scanBatchItemLimit;if(typeof Z.concurrency!=="undefined"&&Z.concurrency<1)throw new Rp1.InvalidArgumentError(new Error("Concurrency option must be positive"));let G=Z.concurrency||1;if(J instanceof tS4.SamplingScan&&J.limit<1)throw new Rp1.InvalidArgumentError(new Error("Sampling scan limit must be positive"));let K={ids_only:z,consistent_with:(0,q0.mutationStateToCpp)(Z.consistentWith),batch_item_limit:Q,batch_byte_limit:W,concurrency:G,timeout:$};return this._doScan(J,K,Y,X)}lookupIn(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=[];for(let Q=0;Q<Z.length;++Q)$.push({opcode_:Z[Q]._op,flags_:Z[Q]._flags,path_:Z[Q]._path,original_index_:Q});let z=X.timeout||this.cluster.kvTimeout,W=X.accessDeleted||!1;return L4.PromiseHelper.wrap((Q)=>{this._conn.lookupIn({id:this._cppDocId(J),specs:$,timeout:z,partition:0,opaque:0,access_deleted:W},(G,K)=>{let q=(0,q0.errorFromCpp)(G);if(K&&K.fields){let H=[];for(let F=0;F<K.fields.length;++F){let U=K.fields[F],D=(0,q0.errorFromCpp)(U.ec),V=void 0;if(U.value&&U.value.length>0)V=this._subdocDecode(U.value);if(U.opcode===A3.default.protocol_subdoc_opcode.exists)V=U.exists;H.push(new a4.LookupInResultEntry({error:D,value:V}))}Q(q,new a4.LookupInResult({content:H,cas:K.cas}));return}Q(q,null)})},Y)}_lookupInReplica(J,Z,X,Y,$){if(Y instanceof Function)$=arguments[3],Y=void 0;if(!Y)Y={};let z=new F81.StreamableReplicasPromise((G)=>G),W=[];for(let G=0;G<X.length;++G)W.push({opcode_:X[G]._op,flags_:X[G]._flags,path_:X[G]._path,original_index_:G});let Q=Y.timeout||this.cluster.kvTimeout;if(Z)this._conn.lookupInAllReplicas({id:this._cppDocId(J),specs:W,timeout:Q},(G,K)=>{let q=(0,q0.errorFromCpp)(G);if(q){z.emit("error",q),z.emit("end");return}K.entries.forEach((H)=>{let F=[];for(let U=0;U<H.fields.length;++U){let D=H.fields[U],V=(0,q0.errorFromCpp)(D.ec),w=void 0;if(D.value&&D.value.length>0)w=this._subdocDecode(D.value);if(D.opcode===A3.default.protocol_subdoc_opcode.exists)w=D.exists;F.push(new a4.LookupInResultEntry({error:V,value:w}))}z.emit("replica",new a4.LookupInReplicaResult({content:F,cas:H.cas,isReplica:H.is_replica}))}),z.emit("end");return});else this._conn.lookupInAnyReplica({id:this._cppDocId(J),specs:W,timeout:Q},(G,K)=>{let q=(0,q0.errorFromCpp)(G);if(q){z.emit("error",q),z.emit("end");return}let H=[];for(let F=0;F<K.fields.length;++F){let U=K.fields[F],D=(0,q0.errorFromCpp)(U.ec),V=void 0;if(U.value&&U.value.length>0)V=this._subdocDecode(U.value);if(U.opcode===A3.default.protocol_subdoc_opcode.exists)V=U.exists;H.push(new a4.LookupInResultEntry({error:D,value:V}))}z.emit("replica",new a4.LookupInReplicaResult({content:H,cas:K.cas,isReplica:K.is_replica})),z.emit("end");return});return L4.PromiseHelper.wrapAsync(()=>z,$)}lookupInAnyReplica(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;return L4.PromiseHelper.wrapAsync(async()=>{return(await this._lookupInReplica(J,!1,Z,X))[0]},Y)}lookupInAllReplicas(J,Z,X,Y){return this._lookupInReplica(J,!0,Z,X,Y)}mutateIn(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=[];for(let U=0;U<Z.length;++U)$.push({opcode_:Z[U]._op,flags_:Z[U]._flags,path_:Z[U]._path,value_:Z[U]._data?this._subdocEncode(Z[U]._data):Z[U]._data,original_index_:0});let z=X.upsertDocument?Ep1.StoreSemantics.Upsert:X.storeSemantics,W=X.expiry?(0,L4.expiryToTimestamp)(X.expiry):void 0,Q=X.preserveExpiry,G=X.cas,K=X.durabilityLevel,q=X.durabilityPersistTo,H=X.durabilityReplicateTo,F=X.timeout||this._mutationTimeout(K);return L4.PromiseHelper.wrap((U)=>{let D={id:this._cppDocId(J),store_semantics:(0,q0.storeSemanticToCpp)(z),specs:$,expiry:W,preserve_expiry:Q||!1,cas:G||A3.zeroCas,timeout:F,partition:0,opaque:0,access_deleted:!1,create_as_deleted:!1},V=(w,M)=>{let P=(0,q0.errorFromCpp)(w);if(M&&M.fields){let R=[];for(let f=0;f<M.fields.length;++f){let d=M.fields[f],v=void 0;if(d.value&&d.value.length>0)v=this._subdocDecode(d.value);R.push(new a4.MutateInResultEntry({value:v}))}U(P,new a4.MutateInResult({content:R,cas:M.cas,token:M.token}));return}U(P,null)};if(q||H)this._conn.mutateInWithLegacyDurability({...D,persist_to:(0,q0.persistToToCpp)(q),replicate_to:(0,q0.replicateToToCpp)(H)},V);else this._conn.mutateIn({...D,durability_level:(0,q0.durabilityToCpp)(K)},V)},Y)}list(J){return new Nh.CouchbaseList(this,J)}queue(J){return new Nh.CouchbaseQueue(this,J)}map(J){return new Nh.CouchbaseMap(this,J)}set(J){return new Nh.CouchbaseSet(this,J)}binary(){return new aS4.BinaryCollection(this)}_binaryIncrement(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=X.initial,z=X.expiry?(0,L4.expiryToTimestamp)(X.expiry):0,W=X.durabilityLevel,Q=X.durabilityPersistTo,G=X.durabilityReplicateTo,K=X.timeout||this.cluster.kvTimeout;return L4.PromiseHelper.wrap((q)=>{let H={id:this._cppDocId(J),delta:Z,initial_value:$,expiry:z,timeout:K,partition:0,opaque:0},F=(U,D)=>{let V=(0,q0.errorFromCpp)(U);if(V)return q(V,null);q(V,new a4.CounterResult({cas:D.cas,token:D.token,value:D.content}))};if(Q||G)this._conn.incrementWithLegacyDurability({...H,persist_to:(0,q0.persistToToCpp)(Q),replicate_to:(0,q0.replicateToToCpp)(G)},F);else this._conn.increment({...H,durability_level:(0,q0.durabilityToCpp)(W)},F)},Y)}_binaryDecrement(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=X.initial,z=X.expiry?(0,L4.expiryToTimestamp)(X.expiry):0,W=X.durabilityLevel,Q=X.durabilityPersistTo,G=X.durabilityReplicateTo,K=X.timeout||this.cluster.kvTimeout;return L4.PromiseHelper.wrap((q)=>{let H={id:this._cppDocId(J),delta:Z,initial_value:$,expiry:z,timeout:K,partition:0,opaque:0},F=(U,D)=>{let V=(0,q0.errorFromCpp)(U);if(V)return q(V,null);q(V,new a4.CounterResult({cas:D.cas,token:D.token,value:D.content}))};if(Q||G)this._conn.decrementWithLegacyDurability({...H,persist_to:(0,q0.persistToToCpp)(Q),replicate_to:(0,q0.replicateToToCpp)(G)},F);else this._conn.decrement({...H,durability_level:(0,q0.durabilityToCpp)(W)},F)},Y)}_binaryAppend(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let{durabilityLevel:$,durabilityPersistTo:z,durabilityReplicateTo:W,cas:Q}=X,G=X.timeout||this.cluster.kvTimeout;return L4.PromiseHelper.wrap((K)=>{if(!Buffer.isBuffer(Z))Z=Buffer.from(Z);let q={id:this._cppDocId(J),value:Z,cas:Q||A3.zeroCas,timeout:G,partition:0,opaque:0},H=(F,U)=>{let D=(0,q0.errorFromCpp)(F);if(D)return K(D,null);K(D,new a4.MutationResult({cas:U.cas,token:U.token}))};if(z||W)this._conn.appendWithLegacyDurability({...q,persist_to:(0,q0.persistToToCpp)(z),replicate_to:(0,q0.replicateToToCpp)(W)},H);else this._conn.append({...q,durability_level:(0,q0.durabilityToCpp)($)},H)},Y)}_binaryPrepend(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let{durabilityLevel:$,durabilityPersistTo:z,durabilityReplicateTo:W,cas:Q}=X,G=X.timeout||this.cluster.kvTimeout;return L4.PromiseHelper.wrap((K)=>{if(!Buffer.isBuffer(Z))Z=Buffer.from(Z);let q={id:this._cppDocId(J),value:Z,cas:Q||A3.zeroCas,timeout:G,partition:0,opaque:0},H=(F,U)=>{let D=(0,q0.errorFromCpp)(F);if(D)return K(D,null);K(D,new a4.MutationResult({cas:U.cas,token:U.token}))};if(z||W)this._conn.prependWithLegacyDurability({...q,persist_to:(0,q0.persistToToCpp)(z),replicate_to:(0,q0.replicateToToCpp)(W)},H);else this._conn.prepend({...q,durability_level:(0,q0.durabilityToCpp)($)},H)},Y)}queryIndexes(){return new rS4.CollectionQueryIndexManager(this)}}v$.Collection=Sp1});var U81=B((fp1)=>{Object.defineProperty(fp1,"__esModule",{value:!0});fp1.CollectionManager=fp1.ScopeSpec=fp1.CollectionSpec=void 0;var hI=v5(),_I=s5();class Lh{constructor(J){this.name=J.name,this.scopeName=J.scopeName,this.maxExpiry=J.maxExpiry,this.history=J.history}static _fromCppData(J,Z){return new Lh({name:Z.name,scopeName:J,maxExpiry:Z.max_expiry,history:Z.history})}}fp1.CollectionSpec=Lh;class Ch{constructor(J){this.name=J.name,this.collections=J.collections}static _fromCppData(J){let Z;if(J.collections.length>0){let X=J.name;Z=J.collections.map((Y)=>Lh._fromCppData(X,Y))}else Z=[];return new Ch({name:J.name,collections:Z})}}fp1.ScopeSpec=Ch;class Tp1{constructor(J){this._bucket=J}get _cluster(){return this._bucket.cluster}async getAllScopes(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=this._bucket.name,Y=J.timeout||this._cluster.managementTimeout;return _I.PromiseHelper.wrap(($)=>{this._cluster.conn.managementScopeGetAll({bucket_name:X,timeout:Y},(z,W)=>{let Q=(0,hI.errorFromCpp)(z);if(Q)return $(Q,null);let G=W.manifest.scopes.map((K)=>Ch._fromCppData(K));$(null,G)})},Z)}async createCollection(){let J=arguments[0],Z=arguments[1],X=arguments[2],Y=arguments[3],$=arguments[4];if(typeof J==="object"){let K=J;if(J=K.name,Z=K.scopeName,X={maxExpiry:K.maxExpiry,history:K.history},Y=arguments[1],$=arguments[2],Y instanceof Function)$=arguments[1],Y=void 0}if(X instanceof Function)$=arguments[2],X=void 0;else if(Y instanceof Function)$=arguments[3],Y=void 0;if(!Y)Y={};if(!X)X={};let z=this._bucket.name,W=Y.timeout||this._cluster.managementTimeout,Q=X===null||X===void 0?void 0:X.maxExpiry,G=X===null||X===void 0?void 0:X.history;return _I.PromiseHelper.wrap((K)=>{this._cluster.conn.managementCollectionCreate({bucket_name:z,scope_name:Z,collection_name:J,max_expiry:Q,history:G,timeout:W},(q)=>{let H=(0,hI.errorFromCpp)(q);if(H)return K(H,null);K(H)})},$)}async dropCollection(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=this._bucket.name,z=X.timeout||this._cluster.managementTimeout;return _I.PromiseHelper.wrap((W)=>{this._cluster.conn.managementCollectionDrop({bucket_name:$,scope_name:Z,collection_name:J,timeout:z},(Q)=>{let G=(0,hI.errorFromCpp)(Q);if(G)return W(G,null);W(G)})},Y)}async updateCollection(J,Z,X,Y,$){if(Y instanceof Function)$=arguments[3],Y=void 0;if(!Y)Y={};let z=this._bucket.name,W=Y.timeout||this._cluster.managementTimeout;return _I.PromiseHelper.wrap((Q)=>{this._cluster.conn.managementCollectionUpdate({bucket_name:z,scope_name:Z,collection_name:J,max_expiry:X.maxExpiry,history:X.history,timeout:W},(G)=>{let K=(0,hI.errorFromCpp)(G);if(K)return Q(K,null);Q(K)})},$)}async createScope(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=this._bucket.name,$=Z.timeout||this._cluster.managementTimeout;return _I.PromiseHelper.wrap((z)=>{this._cluster.conn.managementScopeCreate({bucket_name:Y,scope_name:J,timeout:$},(W)=>{let Q=(0,hI.errorFromCpp)(W);if(Q)return z(Q,null);z(Q)})},X)}async dropScope(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=this._bucket.name,$=Z.timeout||this._cluster.managementTimeout;return _I.PromiseHelper.wrap((z)=>{this._cluster.conn.managementScopeDrop({bucket_name:Y,scope_name:J,timeout:$},(W)=>{let Q=(0,hI.errorFromCpp)(W);if(Q)return z(Q,null);z(Q)})},X)}}fp1.CollectionManager=Tp1});var O81=B((_p1)=>{Object.defineProperty(_p1,"__esModule",{value:!0});_p1.PingExecutor=_p1.DiagnoticsExecutor=void 0;var xQ=v5(),jh=Qh();class bp1{constructor(J){this._cluster=J}async diagnostics(J){return new Promise((Z,X)=>{this._cluster.conn.diagnostics({report_id:J.reportId},(Y,$)=>{let z=(0,xQ.errorFromCpp)(Y);if(z||!$){X(z);return}Z(new jh.DiagnosticsResult({version:$.version,id:$.id,sdk:$.sdk,services:Object.fromEntries(Object.entries($.services).map(([W,Q])=>{return[(0,xQ.serviceTypeFromCpp)(parseInt(W)),Q.map((G)=>{return new jh.DiagnosticsEndpoint({type:(0,xQ.serviceTypeFromCpp)(G.type),id:G.id,local:G.local,remote:G.remote,lastActivity:G.last_activity,state:(0,xQ.endpointStateFromCpp)(G.state)})})]}))}))})})}}_p1.DiagnoticsExecutor=bp1;class hp1{constructor(J){this._cluster=J}async ping(J){return new Promise((Z,X)=>{J.timeout,this._cluster.conn.ping({report_id:J.reportId,services:J.serviceTypes?J.serviceTypes.map((Y)=>(0,xQ.serviceTypeToCpp)(Y)):void 0},(Y,$)=>{let z=(0,xQ.errorFromCpp)(Y);if(z||!$){X(z);return}Z(new jh.PingResult({version:$.version,id:$.id,sdk:$.sdk,services:Object.fromEntries(Object.entries($.services).map(([W,Q])=>{return[(0,xQ.serviceTypeFromCpp)(parseInt(W)),Q.map((G)=>{return new jh.PingEndpoint({type:(0,xQ.serviceTypeFromCpp)(G.type),id:G.id,latency:G.latency,remote:G.remote,local:G.local,state:(0,xQ.pingStateFromCpp)(G.state),bucket:G.bucket,error:G.error})})]}))}))})})}}_p1.PingExecutor=hp1});var Sh=B((vp1)=>{Object.defineProperty(vp1,"__esModule",{value:!0});vp1.QueryExecutor=void 0;var Rh=v5(),Eh=Gh(),XT4=LF();class D81{constructor(J){this._cluster=J}static execute(J){let Z=new XT4.StreamableRowPromise((X,Y)=>{return new Eh.QueryResult({rows:X,meta:Y})});return J((X,Y)=>{let $=(0,Rh.errorFromCpp)(X);if($){Z.emit("error",$),Z.emit("end");return}Y.rows.forEach((z)=>{Z.emit("row",JSON.parse(z))});{let z=Y.meta,W;if(z.warnings)W=z.warnings.map((K)=>new Eh.QueryWarning({code:K.code,message:K.message}));else W=[];let Q;if(z.metrics){let K=z.metrics;Q=new Eh.QueryMetrics({elapsedTime:K.elapsed_time,executionTime:K.execution_time,sortCount:K.sort_count||0,resultCount:K.result_count||0,resultSize:K.result_size||0,mutationCount:K.mutation_count||0,errorCount:K.error_count||0,warningCount:K.warning_count||0})}else Q=void 0;let G=new Eh.QueryMetaData({requestId:z.request_id,clientContextId:z.client_context_id,status:z.status,signature:z.signature?JSON.parse(z.signature):void 0,warnings:W,metrics:Q,profile:z.profile?JSON.parse(z.profile):void 0});Z.emit("meta",G)}Z.emit("end");return}),Z}query(J,Z){let X=Z.timeout||this._cluster.queryTimeout;return D81.execute((Y)=>{this._cluster.conn.query({statement:J,client_context_id:Z.clientContextId,adhoc:Z.adhoc===!1?!1:!0,metrics:Z.metrics||!1,readonly:Z.readOnly||!1,flex_index:Z.flexIndex||!1,preserve_expiry:Z.preserveExpiry||!1,use_replica:Z.useReplica,max_parallelism:Z.maxParallelism,scan_cap:Z.scanCap,scan_wait:Z.scanWait,pipeline_batch:Z.pipelineBatch,pipeline_cap:Z.pipelineCap,scan_consistency:(0,Rh.queryScanConsistencyToCpp)(Z.scanConsistency),mutation_state:(0,Rh.mutationStateToCpp)(Z.consistentWith).tokens,timeout:X,query_context:Z.queryContext,profile:(0,Rh.queryProfileToCpp)(Z.profile),raw:Z.raw?Object.fromEntries(Object.entries(Z.raw).filter(([,$])=>$!==void 0).map(([$,z])=>[$,JSON.stringify(z)])):{},positional_parameters:Z.parameters&&Array.isArray(Z.parameters)?Z.parameters.map(($)=>JSON.stringify($!==null&&$!==void 0?$:null)):[],named_parameters:Z.parameters&&!Array.isArray(Z.parameters)?Object.fromEntries(Object.entries(Z.parameters).filter(([,$])=>$!==void 0).map(([$,z])=>[$,JSON.stringify(z)])):{},body_str:""},Y)})}}vp1.QueryExecutor=D81});var V81=B((mp1)=>{Object.defineProperty(mp1,"__esModule",{value:!0});mp1.SearchExecutor=void 0;var DL=v5(),gp1=Bh(),dp1=Uh(),YT4=LF();class up1{constructor(J,Z,X){this._cluster=J,this._bucketName=Z,this._scopeName=X}query(J,Z,X){let Y=new YT4.StreamableRowPromise((Q,G)=>{return new dp1.SearchResult({rows:Q,meta:G})}),$=Z instanceof gp1.SearchQuery?JSON.stringify(Z):Z.searchQuery?JSON.stringify(Z.searchQuery):JSON.stringify(new gp1.MatchNoneSearchQuery),W={timeout:X.timeout||this._cluster.searchTimeout,index_name:J,query:$,limit:X.limit,skip:X.skip,explain:X.explain||!1,disable_scoring:X.disableScoring||!1,include_locations:X.includeLocations||!1,highlight_style:X.highlight?(0,DL.searchHighlightStyleToCpp)(X.highlight.style):void 0,highlight_fields:X.highlight&&X.highlight.fields?X.highlight.fields:[],fields:X.fields||[],collections:X.collections||[],scan_consistency:(0,DL.searchScanConsistencyToCpp)(X.consistency),mutation_state:(0,DL.mutationStateToCpp)(X.consistentWith).tokens,sort_specs:X.sort?X.sort.map((Q)=>JSON.stringify(Q)):[],facets:X.facets?Object.fromEntries(Object.entries(X.facets).filter(([,Q])=>Q!==void 0).map(([Q,G])=>[Q,JSON.stringify(G)])):{},raw:X.raw?Object.fromEntries(Object.entries(X.raw).filter(([,Q])=>Q!==void 0).map(([Q,G])=>[Q,JSON.stringify(G)])):{},body_str:"",show_request:X.showRequest||!1,log_request:X.logRequest||!1,log_response:X.logResponse||!1};if(Z instanceof dp1.SearchRequest){if(Z.vectorSearch){if(W.vector_search=JSON.stringify(Z.vectorSearch.queries),Z.vectorSearch.options&&Z.vectorSearch.options.vectorQueryCombination)W.vector_query_combination=(0,DL.vectorQueryCombinationToCpp)(Z.vectorSearch.options.vectorQueryCombination)}}if(this._bucketName&&this._scopeName)W.bucket_name=this._bucketName,W.scope_name=this._scopeName;return this._cluster.conn.search(W,(Q,G)=>{let K=(0,DL.errorFromCpp)(Q);if(K){Y.emit("error",K),Y.emit("end");return}G.rows.forEach((q)=>{q.fields=q.fields?JSON.parse(q.fields):void 0,q.explanation=q.explanation?JSON.parse(q.explanation):void 0,Y.emit("row",q)});{let q=G.meta;Y.emit("meta",{facets:Object.fromEntries(Object.values(G.facets).map((H)=>[H.name,H])),...q})}Y.emit("end");return}),Y}}mp1.SearchExecutor=up1});var Th=B((pp1)=>{Object.defineProperty(pp1,"__esModule",{value:!0});pp1.SearchIndexManager=pp1.SearchIndex=void 0;var PZ=s5(),LZ=v5();class yI{constructor(J){this.uuid=J.uuid,this.name=J.name,this.sourceName=J.sourceName,this.type=J.type,this.params=J.params,this.sourceUuid=J.sourceUuid,this.sourceParams=J.sourceParams,this.sourceType=J.sourceType,this.planParams=J.planParams}static _toCppData(J){return{uuid:J.uuid,name:J.name,type:J.type,params_json:JSON.stringify(J.params),source_uuid:J.sourceUuid,source_name:J.sourceName,source_type:J.sourceType,source_params_json:JSON.stringify(J.sourceParams),plan_params_json:JSON.stringify(J.planParams)}}static _fromCppData(J){let Z=new yI({uuid:J.uuid,name:J.name,type:J.type,params:{},sourceUuid:J.source_uuid,sourceName:J.source_name,sourceType:J.source_type,sourceParams:{},planParams:{}});if(J.params_json)Z.params=JSON.parse(J.params_json);if(J.source_params_json)Z.sourceParams=JSON.parse(J.source_params_json);if(J.plan_params_json)Z.planParams=JSON.parse(J.plan_params_json);return Z}}pp1.SearchIndex=yI;class lp1{constructor(J){this._cluster=J}async getIndex(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return PZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexGet({index_name:J,timeout:Y},(z,W)=>{let Q=(0,LZ.errorFromCpp)(z);if(Q)return $(Q,null);let G=yI._fromCppData(W.index);$(null,G)})},X)}async getAllIndexes(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=J.timeout||this._cluster.managementTimeout;return PZ.PromiseHelper.wrap((Y)=>{this._cluster.conn.managementSearchIndexGetAll({timeout:X},($,z)=>{let W=(0,LZ.errorFromCpp)($);if(W)return Y(W,null);let Q=z.indexes.map((G)=>yI._fromCppData(G));Y(null,Q)})},Z)}async upsertIndex(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return PZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexUpsert({index:yI._toCppData(J),timeout:Y},(z)=>{let W=(0,LZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async dropIndex(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return PZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexDrop({index_name:J,timeout:Y},(z)=>{let W=(0,LZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async getIndexedDocumentsCount(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return PZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexGetDocumentsCount({index_name:J,timeout:Y},(z,W)=>{let Q=(0,LZ.errorFromCpp)(z);if(Q)return $(Q,null);$(null,W.count)})},X)}async pauseIngest(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return PZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexControlIngest({index_name:J,pause:!0,timeout:Y},(z)=>{let W=(0,LZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async resumeIngest(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return PZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexControlIngest({index_name:J,pause:!1,timeout:Y},(z)=>{let W=(0,LZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async allowQuerying(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return PZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexControlQuery({index_name:J,allow:!0,timeout:Y},(z)=>{let W=(0,LZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async disallowQuerying(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return PZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexControlQuery({index_name:J,allow:!1,timeout:Y},(z)=>{let W=(0,LZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async freezePlan(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return PZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexControlPlanFreeze({index_name:J,freeze:!0,timeout:Y},(z)=>{let W=(0,LZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async unfreezePlan(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return PZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexControlPlanFreeze({index_name:J,freeze:!1,timeout:Y},(z)=>{let W=(0,LZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async analyzeDocument(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=X.timeout||this._cluster.managementTimeout;return PZ.PromiseHelper.wrap((z)=>{this._cluster.conn.managementSearchIndexAnalyzeDocument({index_name:J,encoded_document:JSON.stringify(Z),timeout:$},(W,Q)=>{let G=(0,LZ.errorFromCpp)(W);if(G)return z(G,null);let K=JSON.parse(Q.analysis);z(K,null)})},Y)}}pp1.SearchIndexManager=lp1});var w81=B((op1)=>{Object.defineProperty(op1,"__esModule",{value:!0});op1.ScopeSearchIndexManager=void 0;var CZ=s5(),jZ=v5(),I81=Th();class ip1{constructor(J,Z,X){this._cluster=J,this._bucketName=Z,this._scopeName=X}async getIndex(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return CZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexGet({index_name:J,timeout:Y,bucket_name:this._bucketName,scope_name:this._scopeName},(z,W)=>{let Q=(0,jZ.errorFromCpp)(z);if(Q)return $(Q,null);let G=I81.SearchIndex._fromCppData(W.index);$(null,G)})},X)}async getAllIndexes(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=J.timeout||this._cluster.managementTimeout;return CZ.PromiseHelper.wrap((Y)=>{this._cluster.conn.managementSearchIndexGetAll({timeout:X,bucket_name:this._bucketName,scope_name:this._scopeName},($,z)=>{let W=(0,jZ.errorFromCpp)($);if(W)return Y(W,null);let Q=z.indexes.map((G)=>I81.SearchIndex._fromCppData(G));Y(null,Q)})},Z)}async upsertIndex(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return CZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexUpsert({index:I81.SearchIndex._toCppData(J),timeout:Y,bucket_name:this._bucketName,scope_name:this._scopeName},(z)=>{let W=(0,jZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async dropIndex(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return CZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexDrop({index_name:J,timeout:Y,bucket_name:this._bucketName,scope_name:this._scopeName},(z)=>{let W=(0,jZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async getIndexedDocumentsCount(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return CZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexGetDocumentsCount({index_name:J,timeout:Y,bucket_name:this._bucketName,scope_name:this._scopeName},(z,W)=>{let Q=(0,jZ.errorFromCpp)(z);if(Q)return $(Q,null);$(null,W.count)})},X)}async pauseIngest(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return CZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexControlIngest({index_name:J,pause:!0,timeout:Y,bucket_name:this._bucketName,scope_name:this._scopeName},(z)=>{let W=(0,jZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async resumeIngest(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return CZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexControlIngest({index_name:J,pause:!1,timeout:Y,bucket_name:this._bucketName,scope_name:this._scopeName},(z)=>{let W=(0,jZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async allowQuerying(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return CZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexControlQuery({index_name:J,allow:!0,timeout:Y,bucket_name:this._bucketName,scope_name:this._scopeName},(z)=>{let W=(0,jZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async disallowQuerying(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return CZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexControlQuery({index_name:J,allow:!1,timeout:Y,bucket_name:this._bucketName,scope_name:this._scopeName},(z)=>{let W=(0,jZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async freezePlan(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return CZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexControlPlanFreeze({index_name:J,freeze:!0,timeout:Y,bucket_name:this._bucketName,scope_name:this._scopeName},(z)=>{let W=(0,jZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async unfreezePlan(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return CZ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexControlPlanFreeze({index_name:J,freeze:!1,timeout:Y,bucket_name:this._bucketName,scope_name:this._scopeName},(z)=>{let W=(0,jZ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async analyzeDocument(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=X.timeout||this._cluster.managementTimeout;return CZ.PromiseHelper.wrap((z)=>{this._cluster.conn.managementSearchIndexAnalyzeDocument({index_name:J,encoded_document:JSON.stringify(Z),timeout:$,bucket_name:this._bucketName,scope_name:this._scopeName},(W,Q)=>{let G=(0,jZ.errorFromCpp)(W);if(G)return z(G,null);let K=JSON.parse(Q.analysis);z(K,null)})},Y)}}op1.ScopeSearchIndexManager=ip1});var A81=B((rp1)=>{Object.defineProperty(rp1,"__esModule",{value:!0});rp1.ScopeEventingFunctionManager=void 0;var gQ=s5(),dQ=v5(),fh=HL();class ap1{constructor(J,Z,X){this._cluster=J,this._bucketName=Z,this._scopeName=X}async upsertFunction(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return gQ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementEventingUpsertFunction({function:fh.EventingFunction._toCppData(J),bucket_name:this._bucketName,scope_name:this._scopeName,timeout:Y},(z)=>{let W=(0,dQ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async dropFunction(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return gQ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementEventingDropFunction({name:J,bucket_name:this._bucketName,scope_name:this._scopeName,timeout:Y},(z)=>{let W=(0,dQ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async getAllFunctions(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=J.timeout||this._cluster.managementTimeout;return gQ.PromiseHelper.wrap((Y)=>{this._cluster.conn.managementEventingGetAllFunctions({bucket_name:this._bucketName,scope_name:this._scopeName,timeout:X},($,z)=>{let W=(0,dQ.errorFromCpp)($);if(W)return Y(W,null);let Q=z.functions.map((G)=>fh.EventingFunction._fromCppData(G));Y(null,Q)})},Z)}async getFunction(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return gQ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementEventingGetFunction({name:J,bucket_name:this._bucketName,scope_name:this._scopeName,timeout:Y},(z,W)=>{let Q=(0,dQ.errorFromCpp)(z);if(Q)return $(Q,null);let G=fh.EventingFunction._fromCppData(W.function);$(null,G)})},X)}async deployFunction(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return gQ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementEventingDeployFunction({name:J,bucket_name:this._bucketName,scope_name:this._scopeName,timeout:Y},(z)=>{let W=(0,dQ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async undeployFunction(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return gQ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementEventingUndeployFunction({name:J,bucket_name:this._bucketName,scope_name:this._scopeName,timeout:Y},(z)=>{let W=(0,dQ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async pauseFunction(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return gQ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementEventingPauseFunction({name:J,bucket_name:this._bucketName,scope_name:this._scopeName,timeout:Y},(z)=>{let W=(0,dQ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async resumeFunction(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return gQ.PromiseHelper.wrap(($)=>{this._cluster.conn.managementEventingResumeFunction({name:J,bucket_name:this._bucketName,scope_name:this._scopeName,timeout:Y},(z)=>{let W=(0,dQ.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async functionsStatus(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=J.timeout||this._cluster.managementTimeout;return gQ.PromiseHelper.wrap((Y)=>{this._cluster.conn.managementEventingGetStatus({bucket_name:this._bucketName,scope_name:this._scopeName,timeout:X},($,z)=>{let W=(0,dQ.errorFromCpp)($);if(W)return Y(W,null);let Q=fh.EventingState._fromCppData(z.status);Y(null,Q)})},Z)}}rp1.ScopeEventingFunctionManager=ap1});var N81=B((Jn1)=>{Object.defineProperty(Jn1,"__esModule",{value:!0});Jn1.Scope=void 0;var zT4=$81(),WT4=Ph(),QT4=Sh(),GT4=V81(),KT4=w81(),M81=s5(),qT4=A81();class ep1{static get DEFAULT_NAME(){return"_default"}constructor(J,Z){this._bucket=J,this._name=Z,this._conn=J.conn}get conn(){return this._conn}get bucket(){return this._bucket}get cluster(){return this._bucket.cluster}get transcoder(){return this._bucket.transcoder}get name(){return this._name}collection(J){return new WT4.Collection(this,J)}searchIndexes(){return new KT4.ScopeSearchIndexManager(this.cluster,this.bucket.name,this._name)}eventingFunctions(){return new qT4.ScopeEventingFunctionManager(this.cluster,this._bucket.name,this._name)}query(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=this.bucket,$=new QT4.QueryExecutor(this.cluster),z=Z;return M81.PromiseHelper.wrapAsync(()=>$.query(J,{...z,queryContext:`${Y.name}.${this.name}`}),X)}analyticsQuery(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=this.bucket,$=new zT4.AnalyticsExecutor(this.cluster),z=Z;return M81.PromiseHelper.wrapAsync(()=>$.query(J,{...z,queryContext:`${Y.name}.${this.name}`}),X)}search(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=new GT4.SearchExecutor(this.cluster,this._bucket.name,this._name),z=X;return M81.PromiseHelper.wrapAsync(()=>$.query(J,Z,z),Y)}}Jn1.Scope=ep1});var P81=B((Yn1)=>{Object.defineProperty(Yn1,"__esModule",{value:!0});Yn1.ViewExecutor=void 0;var kh=v5(),BT4=LF(),bh=QL();class Xn1{constructor(J){this._bucket=J}get _cluster(){return this._bucket.cluster}query(J,Z,X){var Y;let $=new BT4.StreamableRowPromise((K,q)=>{return new bh.ViewResult({rows:K,meta:q})}),z=X.timeout||this._cluster.viewTimeout,W=X.raw||{},Q=(Y=X.namespace)!==null&&Y!==void 0?Y:bh.DesignDocumentNamespace.Production,G=X.full_set;if(typeof X.fullSet!=="undefined")G=X.fullSet;return this._cluster.conn.documentView({timeout:z,bucket_name:this._bucket.name,document_name:J,view_name:Z,ns:(0,kh.designDocumentNamespaceToCpp)(Q),limit:X.limit,skip:X.skip,consistency:(0,kh.viewScanConsistencyToCpp)(X.scanConsistency),keys:X.keys?X.keys.map((K)=>JSON.stringify(K)):[],key:JSON.stringify(X.key),start_key:X.range&&X.range.start?JSON.stringify(X.range.start):void 0,end_key:X.range&&X.range.end?JSON.stringify(X.range.end):void 0,inclusive_end:X.range?X.range.inclusiveEnd:void 0,start_key_doc_id:X.idRange&&X.idRange.start?X.idRange.start:void 0,end_key_doc_id:X.idRange&&X.idRange.end?X.idRange.end:void 0,reduce:X.reduce,group:X.group,group_level:X.groupLevel,order:(0,kh.viewOrderingToCpp)(X.order),debug:!1,query_string:[],raw:W,full_set:G},(K,q)=>{let H=(0,kh.errorFromCpp)(K);if(H){$.emit("error",H),$.emit("end");return}q.rows.forEach((F)=>{$.emit("row",new bh.ViewRow({value:JSON.parse(F.value),id:F.id,key:JSON.parse(F.key)}))});{let F=q.meta,U=new bh.ViewMetaData({totalRows:F.total_rows,debug:F.debug_info});$.emit("meta",U)}$.emit("end");return}),$}}Yn1.ViewExecutor=Xn1});var L81=B((Wn1)=>{Object.defineProperty(Wn1,"__esModule",{value:!0});Wn1.ViewIndexManager=Wn1.DesignDocument=Wn1.DesignDocumentView=void 0;var vI=s5(),x$=QL(),uQ=v5();class jF{constructor(...J){let Z;if(typeof J[0]==="string"||typeof J[0]==="function")Z={map:J[0],reduce:J[1]};else Z=J[0];this.map=Z.map,this.reduce=Z.reduce}static _toCppData(J,Z){return{name:J,map:Z.map,reduce:Z.reduce}}static _fromCppData(J){return new jF({map:J.map,reduce:J.reduce})}}Wn1.DesignDocumentView=jF;class RF{static get View(){return jF}constructor(...J){let Z;if(typeof J[0]==="string")Z={name:J[0],views:J[1]};else Z=J[0];this.name=Z.name,this.views=Z.views||{},this.namespace=Z.namespace||x$.DesignDocumentNamespace.Production,this.rev=Z.rev}static _fromNsData(J,Z){let X={};for(let Y in Z.views){let $=Z.views[Y];X[Y]=new jF({map:$.map,reduce:$.reduce})}return new RF({name:J,views:X})}static _toCppData(J,Z){let X={};for(let[Y,$]of Object.entries(J.views))X[Y]=jF._toCppData(Y,$);return{rev:J.rev,name:J.name,ns:(0,uQ.designDocumentNamespaceToCpp)(Z),views:X}}static _fromCppData(J){let Z={};for(let[X,Y]of Object.entries(J.views))Z[X]=jF._fromCppData(Y);return new RF({name:J.name,views:Z,namespace:(0,uQ.designDocumentNamespaceFromCpp)(J.ns),rev:J.rev})}}Wn1.DesignDocument=RF;class zn1{constructor(J){this._bucket=J}get _cluster(){return this._bucket.cluster}async getAllDesignDocuments(){let J,Z,X;if(typeof arguments[0]==="object")J=void 0,Z=arguments[0],X=arguments[1];else if(arguments[0]instanceof Function)J=void 0,Z=void 0,X=arguments[0];else if(J=arguments[0],arguments[1]instanceof Function)X=arguments[1],Z=void 0;else Z=arguments[1],X=arguments[2];if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout,$=J!==null&&J!==void 0?J:x$.DesignDocumentNamespace.Production;return vI.PromiseHelper.wrap((z)=>{this._cluster.conn.managementViewIndexGetAll({bucket_name:this._bucket.name,ns:(0,uQ.designDocumentNamespaceToCpp)($),timeout:Y},(W,Q)=>{let G=(0,uQ.errorFromCpp)(W);if(G)return z(G,null);let K=[];for(let q of Q.design_documents)K.push(RF._fromCppData(q));z(null,K)})},X)}async getDesignDocument(){let J=arguments[0],Z,X,Y;if(typeof arguments[1]==="object")Z=void 0,X=arguments[1],Y=arguments[2];else if(arguments[1]instanceof Function)Z=void 0,X=void 0,Y=arguments[1];else if(Z=arguments[1],arguments[2]instanceof Function)Y=arguments[2],X=void 0;else X=arguments[2],Y=arguments[3];if(!X)X={};let $=X.timeout||this._cluster.managementTimeout;if(J.startsWith("dev_"))Z=x$.DesignDocumentNamespace.Development,J=J.substring(4);let z=Z!==null&&Z!==void 0?Z:x$.DesignDocumentNamespace.Production;return vI.PromiseHelper.wrap((W)=>{this._cluster.conn.managementViewIndexGet({bucket_name:this._bucket.name,document_name:J,ns:(0,uQ.designDocumentNamespaceToCpp)(z),timeout:$},(Q,G)=>{let K=(0,uQ.errorFromCpp)(Q);if(K)return W(K,null);let q=RF._fromCppData(G.document);W(null,q)})},Y)}async upsertDesignDocument(){let J=arguments[0],Z,X,Y;if(typeof arguments[1]==="object")Z=void 0,X=arguments[1],Y=arguments[2];else if(arguments[1]instanceof Function)Z=void 0,X=void 0,Y=arguments[1];else if(Z=arguments[1],arguments[2]instanceof Function)Y=arguments[2],X=void 0;else X=arguments[2],Y=arguments[3];if(!X)X={};let $=X.timeout||this._cluster.managementTimeout;if(J.name.startsWith("dev_"))Z=x$.DesignDocumentNamespace.Development,J.name=J.name.substring(4);let z=Z!==null&&Z!==void 0?Z:x$.DesignDocumentNamespace.Production;return vI.PromiseHelper.wrap((W)=>{this._cluster.conn.managementViewIndexUpsert({bucket_name:this._bucket.name,document:RF._toCppData(J,z),timeout:$},(Q)=>{let G=(0,uQ.errorFromCpp)(Q);if(G)return W(G,null);W(G)})},Y)}async dropDesignDocument(){let J=arguments[0],Z,X,Y;if(typeof arguments[1]==="object")Z=void 0,X=arguments[1],Y=arguments[2];else if(arguments[1]instanceof Function)Z=void 0,X=void 0,Y=arguments[1];else if(Z=arguments[1],arguments[2]instanceof Function)Y=arguments[2],X=void 0;else X=arguments[2],Y=arguments[3];if(!X)X={};let $=X.timeout||this._cluster.managementTimeout;if(J.startsWith("dev_"))Z=x$.DesignDocumentNamespace.Development,J=J.substring(4);let z=Z!==null&&Z!==void 0?Z:x$.DesignDocumentNamespace.Production;return vI.PromiseHelper.wrap((W)=>{this._cluster.conn.managementViewIndexDrop({bucket_name:this._bucket.name,document_name:J,ns:(0,uQ.designDocumentNamespaceToCpp)(z),timeout:$},(Q)=>{let G=(0,uQ.errorFromCpp)(Q);if(G)return W(G,null);W(G)})},Y)}async publishDesignDocument(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout,$=new vI.CompoundTimeout(Y);return vI.PromiseHelper.wrapAsync(async()=>{let z=await this.getDesignDocument(J,x$.DesignDocumentNamespace.Development,{timeout:$.left()});await this.upsertDesignDocument(z,x$.DesignDocumentNamespace.Production,{timeout:$.left()})},X)}}Wn1.ViewIndexManager=zn1});var C81=B((Bn1)=>{Object.defineProperty(Bn1,"__esModule",{value:!0});Bn1.Bucket=void 0;var UT4=Ph(),OT4=U81(),DT4=O81(),Gn1=N81(),Kn1=s5(),VT4=P81(),IT4=L81();class qn1{constructor(J,Z){this._cluster=J,this._name=Z,this._conn=J.conn}get conn(){return this._conn}get cluster(){return this._cluster}get transcoder(){return this._cluster.transcoder}get name(){return this._name}scope(J){return new Gn1.Scope(this,J)}defaultScope(){return this.scope(Gn1.Scope.DEFAULT_NAME)}collection(J){return this.defaultScope().collection(J)}defaultCollection(){return this.collection(UT4.Collection.DEFAULT_NAME)}viewIndexes(){return new IT4.ViewIndexManager(this)}collections(){return new OT4.CollectionManager(this)}viewQuery(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=new VT4.ViewExecutor(this),z=X;return Kn1.PromiseHelper.wrapAsync(()=>$.query(J,Z,z),Y)}ping(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=new DT4.PingExecutor(this._cluster),Y=J;return Kn1.PromiseHelper.wrapAsync(()=>X.ping({...Y,bucket:this.name}),Z)}}Bn1.Bucket=qn1});var On1=B((Fn1)=>{Object.defineProperty(Fn1,"__esModule",{value:!0});Fn1.knownProfiles=Fn1.ConfigProfiles=Fn1.WanDevelopmentProfile=void 0;class j81{apply(J){J.timeouts={...J.timeouts,...{kvTimeout:20000,kvDurableTimeout:20000,analyticsTimeout:120000,managementTimeout:120000,queryTimeout:120000,searchTimeout:120000,viewTimeout:120000,bootstrapTimeout:120000,connectTimeout:20000,resolveTimeout:20000}},J.dnsConfig={...J.dnsConfig,...{dnsSrvTimeout:20000}}}}Fn1.WanDevelopmentProfile=j81;class R81{constructor(){this._profiles={},this.registerProfile("wanDevelopment",new j81)}applyProfile(J,Z){if(!(J in this._profiles))throw new Error(`${J} is not a registered profile.`);this._profiles[J].apply(Z)}registerProfile(J,Z){this._profiles[J]=Z}unregisterProfile(J){delete this._profiles[J]}}Fn1.ConfigProfiles=R81;Fn1.knownProfiles=new R81});var Vn1=B((g$)=>{var MT4=g$&&g$.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),NT4=g$&&g$.__setModuleDefault||(Object.create?function(J,Z){Object.defineProperty(J,"default",{enumerable:!0,value:Z})}:function(J,Z){J.default=Z}),PT4=g$&&g$.__importStar||function(J){if(J&&J.__esModule)return J;var Z={};if(J!=null){for(var X in J)if(X!=="default"&&Object.prototype.hasOwnProperty.call(J,X))MT4(Z,J,X)}return NT4(Z,J),Z};Object.defineProperty(g$,"__esModule",{value:!0});g$.ConnSpec=void 0;var xI=PT4(p("querystring")),LT4=/((.*):\/\/)?(([^/?:]*)(:([^/?:@]*))?@)?([^/?]*)(\/([^?]*))?(\?(.*))?/,Dn1=/((\[[^\]]+\]+)|([^;,:]+))(:([0-9]*))?(;,)?/g,CT4=/([^=]*)=([^&?]*)[&?]?/g;class E81{constructor(J){if(this.scheme="couchbase",this.hosts=[["localhost",0]],this.bucket="",this.options={},J)Object.assign(this,J)}static parse(J){let Z=new E81;if(!J)return Z;let X=LT4.exec(J);if(!X)return Z;if(X[2])Z.scheme=X[2];else Z.scheme="couchbase";if(X[7]){Z.hosts=[];while(Dn1){let Y=Dn1.exec(X[7]);if(!Y)break;Z.hosts.push([Y[1],Y[5]?parseInt(Y[5],10):0])}}else throw new Error("a connection string with no hosts is illegal");if(X[9])Z.bucket=X[9];else Z.bucket="";if(X[11]){Z.options={};for(;;){let Y=CT4.exec(X[11]);if(!Y)break;let $=xI.unescape(Y[1]),z=xI.unescape(Y[2]);if($ in Z.options){let W=Z.options[$];if(typeof W==="string")Z.options[$]=[W,z];else W.push(z)}else Z.options[$]=z}}else Z.options={};return Z}toString(){let J="";if(this.scheme)J+=this.scheme+"://";if(this.hosts.length===0)throw new Error("a connection string with no hosts is illegal");for(let Z=0;Z<this.hosts.length;++Z){let X=this.hosts[Z];if(Z!==0)J+=",";if(J+=X[0],X[1])J+=":"+X[1]}if(this.bucket)J+="/"+this.bucket;if(this.options){let Z=[];for(let X in this.options){let Y=this.options[X];if(typeof Y==="string")Z.push(xI.escape(X)+"="+xI.escape(Y));else for(let $=0;$<Y.length;++$)Z.push(xI.escape(X)+"="+xI.escape(Y[$]))}if(Z.length>0)J+="?"+Z.join("&")}return J}}g$.ConnSpec=E81});var xh=B((Nn1)=>{Object.defineProperty(Nn1,"__esModule",{value:!0});Nn1.RawJsonTranscoder=Nn1.RawStringTranscoder=Nn1.RawBinaryTranscoder=Nn1.DefaultTranscoder=void 0;var jY=0,d$=2,u$=4,hh=255,SF=256,_h=0,yh=16777216,EF=33554432,gI=50331648,dI=67108864,vh=-16777216;class In1{encode(J){if(Buffer.isBuffer(J))return[J,gI|d$];if(typeof J==="string")return[Buffer.from(J),dI|u$];return[Buffer.from(JSON.stringify(J)),EF|jY]}decode(J,Z){let X=Z&hh,Y=Z&vh;if(Y!==_h){if(Y===EF)X=jY;else if(Y===gI)X=d$;else if(Y===dI)X=u$;else if(Y!==yh)X=SF}if(X===u$)return J.toString("utf8");else if(X===d$)return J;else if(X===jY)try{return JSON.parse(J.toString("utf8"))}catch($){return J}return J}}Nn1.DefaultTranscoder=In1;class wn1{encode(J){if(Buffer.isBuffer(J))return[J,gI|d$];throw new Error("Only binary data supported by RawBinaryTranscoder.")}decode(J,Z){let X=Z&hh,Y=Z&vh;if(Y!==_h){if(Y===EF)X=jY;else if(Y===gI)X=d$;else if(Y===dI)X=u$;else if(Y!==yh)X=SF}if(X===d$)return J;else if(X===u$)throw new Error("String format not supported by RawBinaryTranscoder.");else if(X===jY)throw new Error("JSON format not supported by RawBinaryTranscoder.");else if(X===SF)throw new Error("Unknown format not supported by RawBinaryTranscoder.");else throw new Error(`Unrecognized format provided: ${X}.`)}}Nn1.RawBinaryTranscoder=wn1;class An1{encode(J){if(typeof J==="string")return[Buffer.from(J),dI|u$];throw new Error("Only string data supported by RawStringTranscoder.")}decode(J,Z){let X=Z&hh,Y=Z&vh;if(Y!==_h){if(Y===EF)X=jY;else if(Y===gI)X=d$;else if(Y===dI)X=u$;else if(Y!==yh)X=SF}if(X===u$)return J.toString("utf8");else if(X===d$)throw new Error("Binary format not supported by RawStringTranscoder.");else if(X===jY)throw new Error("JSON format not supported by RawStringTranscoder.");else if(X===SF)throw new Error("Unknown format not supported by RawStringTranscoder.");else throw new Error(`Unrecognized format provided: ${X}.`)}}Nn1.RawStringTranscoder=An1;class Mn1{encode(J){if(typeof J==="string")return[Buffer.from(J),EF|jY];if(Buffer.isBuffer(J))return[J,EF|jY];throw new Error("Only binary and string data supported by RawJsonTranscoder.")}decode(J,Z){let X=Z&hh,Y=Z&vh;if(Y!==_h){if(Y===EF)X=jY;else if(Y===gI)X=d$;else if(Y===dI)X=u$;else if(Y!==yh)X=SF}if(X===u$)throw new Error("string format not supported by RawJsonTranscoder.");else if(X===d$)throw new Error("Binary format not supported by RawJsonTranscoder.");else if(X===jY)return J;else if(X===SF)throw new Error("Unknown format not supported by RawJsonTranscoder.");else throw new Error(`Unrecognized format provided: ${X}.`)}}Nn1.RawJsonTranscoder=Mn1});var h81=B((g9)=>{var ST4=g9&&g9.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(g9,"__esModule",{value:!0});g9.Transactions=g9.TransactionAttemptContext=g9.TransactionQueryResult=g9.TransactionGetResult=g9.TransactionResult=g9.DocumentId=void 0;var Ln1=ST4(wF()),x9=v5(),gh=IZ(),TT4=Sh(),fT4=xh(),M3=s5();class Cn1{constructor(){this.bucket="",this.scope="",this.collection="",this.key=""}}g9.DocumentId=Cn1;class T81{constructor(J){this.transactionId=J.transactionId,this.unstagingComplete=J.unstagingComplete}}g9.TransactionResult=T81;class f81{constructor(J){this.id=J.id,this.content=J.content,this.cas=J.cas,this._links=J._links,this._metadata=J._metadata}}g9.TransactionGetResult=f81;class k81{constructor(J){this.rows=J.rows,this.meta=J.meta}}g9.TransactionQueryResult=k81;function S81(J,Z){if(!J)return null;let X;if(J.content&&J.content.data&&J.content.data.length>0)X=Z.decode(J.content.data,J.content.flags);return new f81({id:J.id,content:X,cas:J.cas,_links:J.links,_metadata:J.metadata})}class b81{constructor(J,Z){if(!Z)Z={};this._impl=new Ln1.default.Transaction(J.impl,{durability_level:(0,x9.durabilityToCpp)(Z.durabilityLevel),timeout:Z.timeout,query_scan_consistency:(0,x9.queryScanConsistencyToCpp)(void 0)}),this._transcoder=new fT4.DefaultTranscoder}get impl(){return this._impl}_newAttempt(){return M3.PromiseHelper.wrap((J)=>{this._impl.newAttempt((Z)=>{let X=(0,x9.errorFromCpp)(Z);J(X)})})}async get(J,Z,X){let Y=(X===null||X===void 0?void 0:X.transcoder)||this._transcoder;return M3.PromiseHelper.wrap(($)=>{let z=J._cppDocId(Z);this._impl.get({id:z},(W,Q)=>{let G=(0,x9.errorFromCpp)(W);if(G)return $(G,null);$(G,S81(Q,Y))})})}async insert(J,Z,X,Y){return M3.PromiseHelper.wrap(($)=>{let z=J._cppDocId(Z),W=(Y===null||Y===void 0?void 0:Y.transcoder)||this._transcoder,[Q,G]=W.encode(X);this._impl.insert({id:z,content:{data:Q,flags:G}},(K,q)=>{let H=(0,x9.errorFromCpp)(K);if(H)return $(H,null);$(H,S81(q,W))})})}async replace(J,Z,X){return M3.PromiseHelper.wrap((Y)=>{let $=(X===null||X===void 0?void 0:X.transcoder)||this._transcoder,[z,W]=$.encode(Z);this._impl.replace({doc:{id:J.id,content:{data:Buffer.from(""),flags:0},cas:J.cas,links:J._links,metadata:J._metadata},content:{data:z,flags:W}},(Q,G)=>{let K=(0,x9.errorFromCpp)(Q);if(K)return Y(K,null);Y(K,S81(G,$))})})}async remove(J){return M3.PromiseHelper.wrap((Z)=>{this._impl.remove({doc:{id:J.id,content:{data:Buffer.from(""),flags:0},cas:J.cas,links:J._links,metadata:J._metadata}},(X)=>{let Y=(0,x9.errorFromCpp)(X);Z(Y,null)})})}async query(J,Z){let X=await TT4.QueryExecutor.execute((Y)=>{if(!Z)Z={};this._impl.query(J,{scan_consistency:(0,x9.queryScanConsistencyToCpp)(Z.scanConsistency),ad_hoc:Z.adhoc===!1?!1:!0,client_context_id:Z.clientContextId,pipeline_batch:Z.pipelineBatch,pipeline_cap:Z.pipelineCap,max_parallelism:Z.maxParallelism,scan_wait:Z.scanWait,scan_cap:Z.scanCap,readonly:Z.readOnly||!1,profile:(0,x9.queryProfileToCpp)(Z.profile),metrics:Z.metrics||!1,raw:Z.raw?Object.fromEntries(Object.entries(Z.raw).filter(([,$])=>$!==void 0).map(([$,z])=>[$,Buffer.from(JSON.stringify(z))])):{},positional_parameters:Z.parameters&&Array.isArray(Z.parameters)?Z.parameters.map(($)=>Buffer.from(JSON.stringify($!==null&&$!==void 0?$:null))):[],named_parameters:Z.parameters&&!Array.isArray(Z.parameters)?Object.fromEntries(Object.entries(Z.parameters).filter(([,$])=>$!==void 0).map(([$,z])=>[$,Buffer.from(JSON.stringify(z))])):{}},($,z)=>{Y($,z)})});return new k81({rows:X.rows,meta:X.meta})}async _commit(){return M3.PromiseHelper.wrap((J)=>{this._impl.commit((Z,X)=>{let Y=(0,x9.errorFromCpp)(Z),$=null;if(X)$=new T81({transactionId:X.transaction_id,unstagingComplete:X.unstaging_complete});J(Y,$)})})}async _rollback(){return M3.PromiseHelper.wrap((J)=>{this._impl.rollback((Z)=>{let X=(0,x9.errorFromCpp)(Z);J(X)})})}}g9.TransactionAttemptContext=b81;class jn1{constructor(J,Z){if(!Z)Z={};if(!Z.cleanupConfig)Z.cleanupConfig={};if(!Z.queryConfig)Z.queryConfig={};let X=J.conn;try{let Y=new Ln1.default.Transactions(X,{durability_level:(0,x9.durabilityToCpp)(Z.durabilityLevel),timeout:Z.timeout,query_scan_consistency:(0,x9.queryScanConsistencyToCpp)(Z.queryConfig.scanConsistency),cleanup_window:Z.cleanupConfig.cleanupWindow,cleanup_lost_attempts:!Z.cleanupConfig.disableLostAttemptCleanup,cleanup_client_attempts:!Z.cleanupConfig.disableClientAttemptCleanup,metadata_collection:(0,x9.transactionKeyspaceToCpp)(Z.metadataCollection)});this._cluster=J,this._impl=Y}catch(Y){throw(0,x9.errorFromCpp)(Y)}}get impl(){return this._impl}_close(){return M3.PromiseHelper.wrap((J)=>{this._impl.close((Z)=>{let X=(0,x9.errorFromCpp)(Z);J(X,null)})})}async run(J,Z){let X=new b81(this,Z);for(;;){await X._newAttempt();try{await J(X)}catch(Y){if(await X._rollback(),Y instanceof gh.TransactionOperationFailedError)throw new gh.TransactionFailedError(Y.cause,Y.context);else if(Y instanceof gh.TransactionFailedError)throw Y;throw new gh.TransactionFailedError(Y)}try{let Y=await X._commit();if(!Y)continue;return Y}catch(Y){}}}}g9.Transactions=jn1});var y81=B((En1)=>{Object.defineProperty(En1,"__esModule",{value:!0});En1.UserManager=En1.Group=En1.UserAndMetadata=En1.User=En1.RoleAndOrigin=En1.RoleAndDescription=En1.Role=En1.Origin=void 0;var q7=v5(),m$=s5();class dh{constructor(J){this.type=J.type,this.name=J.name}static _fromCppData(J){return new dh({type:J.type,name:J.name})}}En1.Origin=dh;class RZ{constructor(J){this.name=J.name,this.bucket=J.bucket,this.scope=J.scope,this.collection=J.collection}static _fromCppData(J){return new RZ({name:J.name,bucket:J.bucket,scope:J.scope,collection:J.collection})}static _toCppData(J){return{name:J.name,bucket:J.bucket,scope:J.scope,collection:J.collection}}}En1.Role=RZ;class _81 extends RZ{constructor(J){super(J);this.displayName=J.displayName,this.description=J.description}static _fromCppData(J){let Z=RZ._fromCppData(J);return new _81({...Z,displayName:J.name,description:J.description})}}En1.RoleAndDescription=_81;class uh extends RZ{constructor(J){super(J);this.origins=J.origins}static _fromCppData(J){let Z=J.origins.map((X)=>dh._fromCppData(X));return new uh({...RZ._fromCppData({name:J.name,bucket:J.bucket,scope:J.scope,collection:J.collection}),origins:Z})}}En1.RoleAndOrigin=uh;class mI{constructor(J){this.username=J.username,this.displayName=J.displayName,this.groups=J.groups,this.roles=J.roles}static _fromCppData(J){return new mI({username:J.username,displayName:J.display_name,groups:J.groups,roles:J.roles.map((Z)=>RZ._fromCppData(Z)),password:void 0})}static _toCppData(J){let Z=[];if(J.roles)J.roles.forEach((X)=>{if(typeof X==="string")Z.push({name:X});else Z.push(RZ._toCppData(X))});return{username:J.username,display_name:J.displayName,groups:J.groups?J.groups:[],roles:Z,password:J.password}}}En1.User=mI;class VL extends mI{get effectiveRolesAndOrigins(){return this.effectiveRoles}constructor(J){super(J);this.domain=J.domain,this.effectiveRoles=J.effectiveRoles,this.passwordChanged=J.passwordChanged,this.externalGroups=J.externalGroups}static _fromCppData(J){let Z=mI._fromCppData({username:J.username,display_name:J.display_name,groups:J.groups,roles:J.roles,password:J.password}),X=J.effective_roles.map((Y)=>uh._fromCppData(Y));return new VL({...Z,domain:(0,q7.authDomainFromCpp)(J.domain),effectiveRoles:X,effectiveRolesAndOrigins:X,passwordChanged:J.password_changed?new Date(J.password_changed):void 0,externalGroups:J.external_groups})}}En1.UserAndMetadata=VL;class uI{constructor(J){this.name=J.name,this.description=J.description,this.roles=J.roles,this.ldapGroupReference=J.ldapGroupReference}static _fromCppData(J){return new uI({name:J.name,description:J.description||"",roles:J.roles.map((Z)=>RZ._fromCppData(Z)),ldapGroupReference:J.ldap_group_reference})}static _toCppData(J){let Z=[];if(J.roles)J.roles.forEach((X)=>{if(typeof X==="string")Z.push({name:X});else Z.push(RZ._toCppData(X))});return{name:J.name,description:J.description,roles:Z,ldap_group_reference:J.ldapGroupReference}}}En1.Group=uI;class Rn1{constructor(J){this._cluster=J}async getUser(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=(0,q7.authDomainToCpp)(Z.domainName||"local"),$=Z.timeout||this._cluster.managementTimeout;return m$.PromiseHelper.wrap((z)=>{this._cluster.conn.managementUserGet({username:J,domain:Y,timeout:$},(W,Q)=>{let G=(0,q7.errorFromCpp)(W);if(G)return z(G,null);z(null,VL._fromCppData(Q.user))})},X)}async getAllUsers(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=(0,q7.authDomainToCpp)(J.domainName||"local"),Y=J.timeout||this._cluster.managementTimeout;return m$.PromiseHelper.wrap(($)=>{this._cluster.conn.managementUserGetAll({domain:X,timeout:Y},(z,W)=>{let Q=(0,q7.errorFromCpp)(z);if(Q)return $(Q,null);let G=W.users.map((K)=>VL._fromCppData(K));$(null,G)})},Z)}async upsertUser(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=(0,q7.authDomainToCpp)(Z.domainName||"local"),$=Z.timeout||this._cluster.managementTimeout;return m$.PromiseHelper.wrap((z)=>{this._cluster.conn.managementUserUpsert({user:mI._toCppData(J),domain:Y,timeout:$},(W)=>{let Q=(0,q7.errorFromCpp)(W);if(Q)return z(Q,null);z(Q)})},X)}async changePassword(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return m$.PromiseHelper.wrap(($)=>{this._cluster.conn.managementChangePassword({newPassword:J,timeout:Y},(z)=>{let W=(0,q7.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async dropUser(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=(0,q7.authDomainToCpp)(Z.domainName||"local"),$=Z.timeout||this._cluster.managementTimeout;return m$.PromiseHelper.wrap((z)=>{this._cluster.conn.managementUserDrop({username:J,domain:Y,timeout:$},(W)=>{let Q=(0,q7.errorFromCpp)(W);if(Q)return z(Q,null);z(Q)})},X)}async getRoles(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=J.timeout||this._cluster.managementTimeout;return m$.PromiseHelper.wrap((Y)=>{this._cluster.conn.managementRoleGetAll({timeout:X},($,z)=>{let W=(0,q7.errorFromCpp)($);if(W)return Y(W,null);let Q=z.roles.map((G)=>RZ._fromCppData(G));Y(null,Q)})},Z)}async getGroup(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return m$.PromiseHelper.wrap(($)=>{this._cluster.conn.managementGroupGet({name:J,timeout:Y},(z,W)=>{let Q=(0,q7.errorFromCpp)(z);if(Q)return $(Q,null);$(null,uI._fromCppData(W.group))})},X)}async getAllGroups(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=J.timeout||this._cluster.managementTimeout;return m$.PromiseHelper.wrap((Y)=>{this._cluster.conn.managementGroupGetAll({timeout:X},($,z)=>{let W=(0,q7.errorFromCpp)($);if(W)return Y(W,null);let Q=z.groups.map((G)=>uI._fromCppData(G));Y(null,Q)})},Z)}async upsertGroup(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return m$.PromiseHelper.wrap(($)=>{this._cluster.conn.managementGroupUpsert({group:uI._toCppData(J),timeout:Y},(z)=>{let W=(0,q7.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}async dropGroup(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=Z.timeout||this._cluster.managementTimeout;return m$.PromiseHelper.wrap(($)=>{this._cluster.conn.managementGroupDrop({name:J,timeout:Y},(z)=>{let W=(0,q7.errorFromCpp)(z);if(W)return $(W,null);$(W)})},X)}}En1.UserManager=Rn1});var kn1=B((Tn1)=>{Object.defineProperty(Tn1,"__esModule",{value:!0});Tn1.generateClientString=void 0;function gT4(){let J=process.versions.node.trim(),Z=process.versions.v8.trim(),X=process.versions.openssl.trim();return`node/${J}; v8/${Z}; ssl/${X}`}Tn1.generateClientString=gT4});var x81=B((cI)=>{var dT4=cI&&cI.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(cI,"__esModule",{value:!0});cI.Cluster=void 0;var uT4=$81(),mT4=zh(),cT4=dT4(wF()),bn1=v5(),lT4=C81(),pT4=Wh(),nT4=On1(),iT4=Vn1(),hn1=O81(),oT4=HL(),sT4=Sh(),aT4=Mh(),_n1=V81(),rT4=Th(),tT4=h81(),eT4=xh(),Jf4=y81(),N3=s5(),Zf4=kn1(),Xf4=p("util");class v81{get conn(){return this._conn}get transcoder(){return this._transcoder}get kvTimeout(){return this._kvTimeout}get kvDurableTimeout(){return this._kvDurableTimeout}get viewTimeout(){return this._viewTimeout}get queryTimeout(){return this._queryTimeout}get analyticsTimeout(){return this._analyticsTimeout}get searchTimeout(){return this._searchTimeout}get managementTimeout(){return this._managementTimeout}get bootstrapTimeout(){return this._bootstrapTimeout}get connectTimeout(){return this._connectTimeout}get resolveTimeout(){return this._resolveTimeout}[Xf4.inspect.custom](){let{_auth:J,...Z}=this;return{...Z,_auth:"***hidden***"}}toJSON(){let{_auth:J,...Z}=this;return{...Z,_auth:"***hidden***"}}constructor(J,Z){var X,Y,$;if(!Z)Z={};if(!Z.security)Z.security={};if(!Z.timeouts)Z.timeouts={};if(this._connStr=J,this._trustStorePath=Z.security.trustStorePath||"",Z.configProfile)nT4.knownProfiles.applyProfile(Z.configProfile,Z);if(this._kvTimeout=Z.timeouts.kvTimeout||2500,this._kvDurableTimeout=Z.timeouts.kvDurableTimeout||1e4,this._viewTimeout=Z.timeouts.viewTimeout||75000,this._queryTimeout=Z.timeouts.queryTimeout||75000,this._analyticsTimeout=Z.timeouts.analyticsTimeout||75000,this._searchTimeout=Z.timeouts.searchTimeout||75000,this._managementTimeout=Z.timeouts.managementTimeout||75000,this._bootstrapTimeout=(X=Z.timeouts)===null||X===void 0?void 0:X.bootstrapTimeout,this._connectTimeout=(Y=Z.timeouts)===null||Y===void 0?void 0:Y.connectTimeout,this._resolveTimeout=($=Z.timeouts)===null||$===void 0?void 0:$.resolveTimeout,Z.transcoder)this._transcoder=Z.transcoder;else this._transcoder=new eT4.DefaultTranscoder;if(Z.transactions)this._txnConfig=Z.transactions;else this._txnConfig={};if(Z.username||Z.password){if(Z.authenticator)throw new Error("Cannot specify authenticator along with username/password.");this._auth={username:Z.username||"",password:Z.password||""}}else if(Z.authenticator)this._auth=Z.authenticator;else this._auth={username:"",password:""};if(Z.dnsConfig&&(Z.dnsConfig.nameserver||Z.dnsConfig.port||Z.dnsConfig.dnsSrvTimeout))this._dnsConfig={nameserver:Z.dnsConfig.nameserver,port:Z.dnsConfig.port,dnsSrvTimeout:Z.dnsConfig.dnsSrvTimeout||500};else this._dnsConfig=null;this._openBuckets=[],this._conn=new cT4.default.Connection}static async connect(J,Z,X){return N3.PromiseHelper.wrapAsync(async()=>{let Y=new v81(J,Z);return await Y._connect(),Y},X)}bucket(J){if(!this._openBuckets.includes(J))this._conn.openBucket(J,(Z)=>{if(Z)console.error("failed to open bucket: %O",Z)}),this._openBuckets.push(J);return new lT4.Bucket(this,J)}users(){return new Jf4.UserManager(this)}buckets(){return new pT4.BucketManager(this)}queryIndexes(){return new aT4.QueryIndexManager(this)}analyticsIndexes(){return new mT4.AnalyticsIndexManager(this)}searchIndexes(){return new rT4.SearchIndexManager(this)}eventingFunctions(){return new oT4.EventingFunctionManager(this)}transactions(){if(!this._transactions)this._transactions=new tT4.Transactions(this,this._txnConfig);return this._transactions}query(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=new sT4.QueryExecutor(this),$=Z;return N3.PromiseHelper.wrapAsync(()=>Y.query(J,$),X)}analyticsQuery(J,Z,X){if(Z instanceof Function)X=arguments[1],Z=void 0;if(!Z)Z={};let Y=new uT4.AnalyticsExecutor(this),$=Z;return N3.PromiseHelper.wrapAsync(()=>Y.query(J,$),X)}searchQuery(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=new _n1.SearchExecutor(this),z=X;return N3.PromiseHelper.wrapAsync(()=>$.query(J,Z,z),Y)}search(J,Z,X,Y){if(X instanceof Function)Y=arguments[2],X=void 0;if(!X)X={};let $=new _n1.SearchExecutor(this),z=X;return N3.PromiseHelper.wrapAsync(()=>$.query(J,Z,z),Y)}diagnostics(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=new hn1.DiagnoticsExecutor(this),Y=J;return N3.PromiseHelper.wrapAsync(()=>X.diagnostics(Y),Z)}ping(J,Z){if(J instanceof Function)Z=arguments[0],J=void 0;if(!J)J={};let X=new hn1.PingExecutor(this),Y=J;return N3.PromiseHelper.wrapAsync(()=>X.ping(Y),Z)}async close(J){if(this._transactions)await this._transactions._close(),this._transactions=void 0;return N3.PromiseHelper.wrap((Z)=>{this._conn.shutdown((X)=>{Z((0,bn1.errorFromCpp)(X))})},J)}async _connect(){return new Promise((J,Z)=>{let X=iT4.ConnSpec.parse(this._connStr);if(X.options.user_agent_extra=(0,Zf4.generateClientString)(),"trust_store_path"in X.options&&!("trust_certificate"in X.options))X.options.trust_certificate=X.options.trust_store_path,delete X.options.trust_store_path;if(this._trustStorePath)X.options.trust_certificate=this._trustStorePath;if(this.bootstrapTimeout)X.options.bootstrap_timeout=this.bootstrapTimeout.toString();if(this.connectTimeout)X.options.kv_connect_timeout=this.connectTimeout.toString();if(this.resolveTimeout)X.options.resolve_timeout=this.resolveTimeout.toString();let Y=X.toString(),$={};for(let z of["sasl_mech_force","allowed_sasl_mechanisms"]){if(!(z in X.options))continue;if(typeof X.options[z]==="string")$.allowed_sasl_mechanisms=[X.options[z]];else $.allowed_sasl_mechanisms=X.options[z];delete X.options[z]}if(this._auth){let z=this._auth;if(z.username||z.password){if($.username=z.username,$.password=z.password,z.allowed_sasl_mechanisms)$.allowed_sasl_mechanisms=z.allowed_sasl_mechanisms}let W=this._auth;if(W.certificatePath||W.keyPath)$.certificate_path=W.certificatePath,$.key_path=W.keyPath}this._conn.connect(Y,$,this._dnsConfig,(z)=>{if(z){let W=(0,bn1.errorFromCpp)(z);return Z(W)}J(null)})})}}cI.Cluster=v81});var gn1=B((vn1)=>{Object.defineProperty(vn1,"__esModule",{value:!0});vn1.CertificateAuthenticator=vn1.PasswordAuthenticator=void 0;class g81{constructor(J,Z){this.username=J,this.password=Z}static ldapCompatible(J,Z){let X=new g81(J,Z);return X.allowed_sasl_mechanisms=["PLAIN"],X}}vn1.PasswordAuthenticator=g81;class yn1{constructor(J,Z){this.certificatePath=J,this.keyPath=Z}}vn1.CertificateAuthenticator=yn1});var cn1=B((un1)=>{Object.defineProperty(un1,"__esModule",{value:!0});un1.MutationState=void 0;class dn1{constructor(...J){this._data={},J.forEach((Z)=>this._addOne(Z))}add(...J){J.forEach((Z)=>this._addOne(Z))}_addOne(J){if(!J)return;let Z=J,X=Z.toJSON(),Y=parseInt(X.partition_id,10),$=parseInt(X.sequence_number,10),z=X.bucket_name;if(!this._data[z])this._data[z]={};if(!this._data[z][Y])this._data[z][Y]=Z;else{let W=this._data[z][Y];if(parseInt(W.toJSON().sequence,10)<$)this._data[z][Y]=Z}}toJSON(){return this._data}inspect(){let J=[];for(let Z in this._data)for(let X in this._data[Z]){let Y=this._data[Z][X];J.push(Z+":"+X+":"+Y.toString())}return"MutationState<"+J.join("; ")+">"}}un1.MutationState=dn1});var nn1=B((ln1)=>{Object.defineProperty(ln1,"__esModule",{value:!0});ln1.DateSearchFacet=ln1.NumericSearchFacet=ln1.TermSearchFacet=ln1.SearchFacet=void 0;class IL{constructor(J){if(!J)J={};this._data=J}toJSON(){return this._data}static term(J,Z){return new d81(J,Z)}static numeric(J,Z){return new u81(J,Z)}static date(J,Z){return new m81(J,Z)}}ln1.SearchFacet=IL;class d81 extends IL{constructor(J,Z){super({field:J,size:Z})}}ln1.TermSearchFacet=d81;class u81 extends IL{constructor(J,Z){super({field:J,size:Z,numeric_ranges:[]})}addRange(J,Z,X){return this._data.numeric_ranges.push({name:J,min:Z,max:X}),this}}ln1.NumericSearchFacet=u81;class m81 extends IL{constructor(J,Z){super({field:J,size:Z,date_ranges:[]})}addRange(J,Z,X){return this._data.date_ranges.push({name:J,start:Z,end:X}),this}}ln1.DateSearchFacet=m81});var sn1=B((in1)=>{Object.defineProperty(in1,"__esModule",{value:!0});in1.GeoDistanceSearchSort=in1.FieldSearchSort=in1.IdSearchSort=in1.ScoreSearchSort=in1.SearchSort=void 0;class lI{constructor(J){if(!J)J={};this._data=J}toJSON(){return this._data}static score(){return new c81}static id(){return new l81}static field(J){return new p81(J)}static geoDistance(J,Z,X){return new n81(J,Z,X)}}in1.SearchSort=lI;class c81 extends lI{constructor(){super({by:"score"})}descending(J){return this._data.desc=J,this}}in1.ScoreSearchSort=c81;class l81 extends lI{constructor(){super({by:"id"})}descending(J){return this._data.desc=J,this}}in1.IdSearchSort=l81;class p81 extends lI{constructor(J){super({by:"field",field:J})}type(J){return this._data.type=J,this}mode(J){return this._data.mode=J,this}missing(J){return this._data.missing=J,this}descending(J){return this._data.desc=J,this}}in1.FieldSearchSort=p81;class n81 extends lI{constructor(J,Z,X){super({by:"geo_distance",field:J,location:[X,Z]})}unit(J){return this._data.unit=J,this}descending(J){return this._data.desc=J,this}}in1.GeoDistanceSearchSort=n81});var an1=B((G0)=>{var Bf4=G0&&G0.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),d6=G0&&G0.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))Bf4(Z,J,X)},Hf4=G0&&G0.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(G0,"__esModule",{value:!0});G0.shutdownLogger=G0.enableProtocolLoggerToSaveNetworkTrafficToFile=G0.cbppMetadata=G0.cbppVersion=G0.lcbVersion=G0.connect=void 0;var wL=Hf4(wF()),Ff4=x81();async function Uf4(J,Z,X){return Ff4.Cluster.connect(J,Z,X)}G0.connect=Uf4;G0.lcbVersion=wL.default.cbppVersion;G0.cbppVersion=wL.default.cbppVersion;G0.cbppMetadata=wL.default.cbppMetadata;function Of4(J){wL.default.enableProtocolLogger(J)}G0.enableProtocolLoggerToSaveNetworkTrafficToFile=Of4;function Df4(){wL.default.shutdownLogger()}G0.shutdownLogger=Df4;d6(zh(),G0);d6(Zh(),G0);d6(gn1(),G0);d6(z81(),G0);d6(C81(),G0);d6(Wh(),G0);d6(x81(),G0);d6(Ph(),G0);d6(U81(),G0);d6(W81(),G0);d6(K81(),G0);d6(Qh(),G0);d6(Xh(),G0);d6(IZ(),G0);d6(HL(),G0);d6(SI(),G0);d6(cn1(),G0);d6(Mh(),G0);d6(Gh(),G0);d6(Kh(),G0);d6(N81(),G0);d6(A81(),G0);d6(w81(),G0);d6(wh(),G0);d6(nn1(),G0);d6(Th(),G0);d6(Bh(),G0);d6(sn1(),G0);d6(Uh(),G0);d6(LF(),G0);d6(h81(),G0);d6(xh(),G0);d6(y81(),G0);d6(Fh(),G0);d6(P81(),G0);d6(L81(),G0);d6(QL(),G0)});var ML=B((Zi1)=>{Object.defineProperty(Zi1,"__esModule",{value:!0});Zi1.isTracingSuppressed=Zi1.unsuppressTracing=Zi1.suppressTracing=void 0;var Nf4=C(),Z51=(0,Nf4.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Pf4(J){return J.setValue(Z51,!0)}Zi1.suppressTracing=Pf4;function Lf4(J){return J.deleteValue(Z51)}Zi1.unsuppressTracing=Lf4;function Cf4(J){return J.getValue(Z51)===!0}Zi1.isTracingSuppressed=Cf4});var X51=B((Yi1)=>{Object.defineProperty(Yi1,"__esModule",{value:!0});Yi1.BAGGAGE_MAX_TOTAL_LENGTH=Yi1.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Yi1.BAGGAGE_MAX_NAME_VALUE_PAIRS=Yi1.BAGGAGE_HEADER=Yi1.BAGGAGE_ITEMS_SEPARATOR=Yi1.BAGGAGE_PROPERTIES_SEPARATOR=Yi1.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Yi1.BAGGAGE_KEY_PAIR_SEPARATOR="=";Yi1.BAGGAGE_PROPERTIES_SEPARATOR=";";Yi1.BAGGAGE_ITEMS_SEPARATOR=",";Yi1.BAGGAGE_HEADER="baggage";Yi1.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Yi1.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Yi1.BAGGAGE_MAX_TOTAL_LENGTH=8192});var Y51=B((Wi1)=>{Object.defineProperty(Wi1,"__esModule",{value:!0});Wi1.parseKeyPairsIntoRecord=Wi1.parsePairKeyValue=Wi1.getKeyPairs=Wi1.serializeKeyPairs=void 0;var hf4=C(),TF=X51();function _f4(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?TF.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>TF.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}Wi1.serializeKeyPairs=_f4;function yf4(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=TF.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}Wi1.getKeyPairs=yf4;function zi1(J){let Z=J.split(TF.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(TF.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,hf4.baggageEntryMetadataFromString)(Z.join(TF.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}Wi1.parsePairKeyValue=zi1;function vf4(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(TF.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=zi1(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}Wi1.parseKeyPairsIntoRecord=vf4});var Bi1=B((Ki1)=>{Object.defineProperty(Ki1,"__esModule",{value:!0});Ki1.W3CBaggagePropagator=void 0;var $51=C(),uf4=ML(),fF=X51(),z51=Y51();class Gi1{inject(J,Z,X){let Y=$51.propagation.getBaggage(J);if(!Y||(0,uf4.isTracingSuppressed)(J))return;let $=(0,z51.getKeyPairs)(Y).filter((W)=>{return W.length<=fF.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,fF.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,z51.serializeKeyPairs)($);if(z.length>0)X.set(Z,fF.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,fF.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(fF.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(fF.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,z51.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return $51.propagation.setBaggage(J,$51.propagation.createBaggage(z))}fields(){return[fF.BAGGAGE_HEADER]}}Ki1.W3CBaggagePropagator=Gi1});var Oi1=B((Fi1)=>{Object.defineProperty(Fi1,"__esModule",{value:!0});Fi1.AnchoredClock=void 0;class Hi1{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}Fi1.AnchoredClock=Hi1});var Ni1=B((Ai1)=>{Object.defineProperty(Ai1,"__esModule",{value:!0});Ai1.isAttributeValue=Ai1.isAttributeKey=Ai1.sanitizeAttributes=void 0;var Di1=C();function mf4(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!Vi1(X)){Di1.diag.warn(`Invalid attribute key: ${X}`);continue}if(!Ii1(Y)){Di1.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}Ai1.sanitizeAttributes=mf4;function Vi1(J){return typeof J==="string"&&J.length>0}Ai1.isAttributeKey=Vi1;function Ii1(J){if(J==null)return!0;if(Array.isArray(J))return cf4(J);return wi1(J)}Ai1.isAttributeValue=Ii1;function cf4(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(wi1(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function wi1(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var W51=B((Pi1)=>{Object.defineProperty(Pi1,"__esModule",{value:!0});Pi1.loggingErrorHandler=void 0;var nf4=C();function if4(){return(J)=>{nf4.diag.error(of4(J))}}Pi1.loggingErrorHandler=if4;function of4(J){if(typeof J==="string")return J;else return JSON.stringify(sf4(J))}function sf4(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var Ei1=B((ji1)=>{Object.defineProperty(ji1,"__esModule",{value:!0});ji1.globalErrorHandler=ji1.setGlobalErrorHandler=void 0;var af4=W51(),Ci1=(0,af4.loggingErrorHandler)();function rf4(J){Ci1=J}ji1.setGlobalErrorHandler=rf4;function tf4(J){try{Ci1(J)}catch{}}ji1.globalErrorHandler=tf4});var hi1=B((ki1)=>{Object.defineProperty(ki1,"__esModule",{value:!0});ki1.getStringListFromEnv=ki1.getBooleanFromEnv=ki1.getStringFromEnv=ki1.getNumberFromEnv=void 0;var Si1=C(),Ti1=p("util");function Jk4(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){Si1.diag.warn(`Unknown value ${(0,Ti1.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}ki1.getNumberFromEnv=Jk4;function fi1(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}ki1.getStringFromEnv=fi1;function Zk4(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return Si1.diag.warn(`Unknown value ${(0,Ti1.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}ki1.getBooleanFromEnv=Zk4;function Xk4(J){return fi1(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}ki1.getStringListFromEnv=Xk4});var vi1=B((_i1)=>{Object.defineProperty(_i1,"__esModule",{value:!0});_i1._globalThis=void 0;_i1._globalThis=typeof globalThis==="object"?globalThis:global});var di1=B((xi1)=>{Object.defineProperty(xi1,"__esModule",{value:!0});xi1.otperformance=void 0;var Wk4=p("perf_hooks");xi1.otperformance=Wk4.performance});var ci1=B((ui1)=>{Object.defineProperty(ui1,"__esModule",{value:!0});ui1.VERSION=void 0;ui1.VERSION="2.0.1"});var Q51=B((li1)=>{Object.defineProperty(li1,"__esModule",{value:!0});li1.createConstMap=void 0;function Qk4(J){let Z={},X=J.length;for(let Y=0;Y<X;Y++){let $=J[Y];if($)Z[String($).toUpperCase().replace(/[-.]/g,"_")]=$}return Z}li1.createConstMap=Qk4});var mt1=B((_t1)=>{Object.defineProperty(_t1,"__esModule",{value:!0});_t1.SEMATTRS_NET_HOST_CARRIER_ICC=_t1.SEMATTRS_NET_HOST_CARRIER_MNC=_t1.SEMATTRS_NET_HOST_CARRIER_MCC=_t1.SEMATTRS_NET_HOST_CARRIER_NAME=_t1.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=_t1.SEMATTRS_NET_HOST_CONNECTION_TYPE=_t1.SEMATTRS_NET_HOST_NAME=_t1.SEMATTRS_NET_HOST_PORT=_t1.SEMATTRS_NET_HOST_IP=_t1.SEMATTRS_NET_PEER_NAME=_t1.SEMATTRS_NET_PEER_PORT=_t1.SEMATTRS_NET_PEER_IP=_t1.SEMATTRS_NET_TRANSPORT=_t1.SEMATTRS_FAAS_INVOKED_REGION=_t1.SEMATTRS_FAAS_INVOKED_PROVIDER=_t1.SEMATTRS_FAAS_INVOKED_NAME=_t1.SEMATTRS_FAAS_COLDSTART=_t1.SEMATTRS_FAAS_CRON=_t1.SEMATTRS_FAAS_TIME=_t1.SEMATTRS_FAAS_DOCUMENT_NAME=_t1.SEMATTRS_FAAS_DOCUMENT_TIME=_t1.SEMATTRS_FAAS_DOCUMENT_OPERATION=_t1.SEMATTRS_FAAS_DOCUMENT_COLLECTION=_t1.SEMATTRS_FAAS_EXECUTION=_t1.SEMATTRS_FAAS_TRIGGER=_t1.SEMATTRS_EXCEPTION_ESCAPED=_t1.SEMATTRS_EXCEPTION_STACKTRACE=_t1.SEMATTRS_EXCEPTION_MESSAGE=_t1.SEMATTRS_EXCEPTION_TYPE=_t1.SEMATTRS_DB_SQL_TABLE=_t1.SEMATTRS_DB_MONGODB_COLLECTION=_t1.SEMATTRS_DB_REDIS_DATABASE_INDEX=_t1.SEMATTRS_DB_HBASE_NAMESPACE=_t1.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=_t1.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=_t1.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=_t1.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=_t1.SEMATTRS_DB_CASSANDRA_TABLE=_t1.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=_t1.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=_t1.SEMATTRS_DB_CASSANDRA_KEYSPACE=_t1.SEMATTRS_DB_MSSQL_INSTANCE_NAME=_t1.SEMATTRS_DB_OPERATION=_t1.SEMATTRS_DB_STATEMENT=_t1.SEMATTRS_DB_NAME=_t1.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=_t1.SEMATTRS_DB_USER=_t1.SEMATTRS_DB_CONNECTION_STRING=_t1.SEMATTRS_DB_SYSTEM=_t1.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=void 0;_t1.SEMATTRS_MESSAGING_DESTINATION_KIND=_t1.SEMATTRS_MESSAGING_DESTINATION=_t1.SEMATTRS_MESSAGING_SYSTEM=_t1.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=_t1.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=_t1.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=_t1.SEMATTRS_AWS_DYNAMODB_COUNT=_t1.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=_t1.SEMATTRS_AWS_DYNAMODB_SEGMENT=_t1.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=_t1.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=_t1.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=_t1.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=_t1.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=_t1.SEMATTRS_AWS_DYNAMODB_SELECT=_t1.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=_t1.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=_t1.SEMATTRS_AWS_DYNAMODB_LIMIT=_t1.SEMATTRS_AWS_DYNAMODB_PROJECTION=_t1.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=_t1.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=_t1.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=_t1.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=_t1.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=_t1.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=_t1.SEMATTRS_HTTP_CLIENT_IP=_t1.SEMATTRS_HTTP_ROUTE=_t1.SEMATTRS_HTTP_SERVER_NAME=_t1.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=_t1.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=_t1.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=_t1.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=_t1.SEMATTRS_HTTP_USER_AGENT=_t1.SEMATTRS_HTTP_FLAVOR=_t1.SEMATTRS_HTTP_STATUS_CODE=_t1.SEMATTRS_HTTP_SCHEME=_t1.SEMATTRS_HTTP_HOST=_t1.SEMATTRS_HTTP_TARGET=_t1.SEMATTRS_HTTP_URL=_t1.SEMATTRS_HTTP_METHOD=_t1.SEMATTRS_CODE_LINENO=_t1.SEMATTRS_CODE_FILEPATH=_t1.SEMATTRS_CODE_NAMESPACE=_t1.SEMATTRS_CODE_FUNCTION=_t1.SEMATTRS_THREAD_NAME=_t1.SEMATTRS_THREAD_ID=_t1.SEMATTRS_ENDUSER_SCOPE=_t1.SEMATTRS_ENDUSER_ROLE=_t1.SEMATTRS_ENDUSER_ID=_t1.SEMATTRS_PEER_SERVICE=void 0;_t1.DBSYSTEMVALUES_FILEMAKER=_t1.DBSYSTEMVALUES_DERBY=_t1.DBSYSTEMVALUES_FIREBIRD=_t1.DBSYSTEMVALUES_ADABAS=_t1.DBSYSTEMVALUES_CACHE=_t1.DBSYSTEMVALUES_EDB=_t1.DBSYSTEMVALUES_FIRSTSQL=_t1.DBSYSTEMVALUES_INGRES=_t1.DBSYSTEMVALUES_HANADB=_t1.DBSYSTEMVALUES_MAXDB=_t1.DBSYSTEMVALUES_PROGRESS=_t1.DBSYSTEMVALUES_HSQLDB=_t1.DBSYSTEMVALUES_CLOUDSCAPE=_t1.DBSYSTEMVALUES_HIVE=_t1.DBSYSTEMVALUES_REDSHIFT=_t1.DBSYSTEMVALUES_POSTGRESQL=_t1.DBSYSTEMVALUES_DB2=_t1.DBSYSTEMVALUES_ORACLE=_t1.DBSYSTEMVALUES_MYSQL=_t1.DBSYSTEMVALUES_MSSQL=_t1.DBSYSTEMVALUES_OTHER_SQL=_t1.SemanticAttributes=_t1.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=_t1.SEMATTRS_MESSAGE_COMPRESSED_SIZE=_t1.SEMATTRS_MESSAGE_ID=_t1.SEMATTRS_MESSAGE_TYPE=_t1.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=_t1.SEMATTRS_RPC_JSONRPC_ERROR_CODE=_t1.SEMATTRS_RPC_JSONRPC_REQUEST_ID=_t1.SEMATTRS_RPC_JSONRPC_VERSION=_t1.SEMATTRS_RPC_GRPC_STATUS_CODE=_t1.SEMATTRS_RPC_METHOD=_t1.SEMATTRS_RPC_SERVICE=_t1.SEMATTRS_RPC_SYSTEM=_t1.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=_t1.SEMATTRS_MESSAGING_KAFKA_PARTITION=_t1.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=_t1.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=_t1.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=_t1.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=_t1.SEMATTRS_MESSAGING_CONSUMER_ID=_t1.SEMATTRS_MESSAGING_OPERATION=_t1.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=_t1.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=_t1.SEMATTRS_MESSAGING_CONVERSATION_ID=_t1.SEMATTRS_MESSAGING_MESSAGE_ID=_t1.SEMATTRS_MESSAGING_URL=_t1.SEMATTRS_MESSAGING_PROTOCOL_VERSION=_t1.SEMATTRS_MESSAGING_PROTOCOL=_t1.SEMATTRS_MESSAGING_TEMP_DESTINATION=void 0;_t1.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=_t1.FaasDocumentOperationValues=_t1.FAASDOCUMENTOPERATIONVALUES_DELETE=_t1.FAASDOCUMENTOPERATIONVALUES_EDIT=_t1.FAASDOCUMENTOPERATIONVALUES_INSERT=_t1.FaasTriggerValues=_t1.FAASTRIGGERVALUES_OTHER=_t1.FAASTRIGGERVALUES_TIMER=_t1.FAASTRIGGERVALUES_PUBSUB=_t1.FAASTRIGGERVALUES_HTTP=_t1.FAASTRIGGERVALUES_DATASOURCE=_t1.DbCassandraConsistencyLevelValues=_t1.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=_t1.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=_t1.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=_t1.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=_t1.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=_t1.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=_t1.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=_t1.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=_t1.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=_t1.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=_t1.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=_t1.DbSystemValues=_t1.DBSYSTEMVALUES_COCKROACHDB=_t1.DBSYSTEMVALUES_MEMCACHED=_t1.DBSYSTEMVALUES_ELASTICSEARCH=_t1.DBSYSTEMVALUES_GEODE=_t1.DBSYSTEMVALUES_NEO4J=_t1.DBSYSTEMVALUES_DYNAMODB=_t1.DBSYSTEMVALUES_COSMOSDB=_t1.DBSYSTEMVALUES_COUCHDB=_t1.DBSYSTEMVALUES_COUCHBASE=_t1.DBSYSTEMVALUES_REDIS=_t1.DBSYSTEMVALUES_MONGODB=_t1.DBSYSTEMVALUES_HBASE=_t1.DBSYSTEMVALUES_CASSANDRA=_t1.DBSYSTEMVALUES_COLDFUSION=_t1.DBSYSTEMVALUES_H2=_t1.DBSYSTEMVALUES_VERTICA=_t1.DBSYSTEMVALUES_TERADATA=_t1.DBSYSTEMVALUES_SYBASE=_t1.DBSYSTEMVALUES_SQLITE=_t1.DBSYSTEMVALUES_POINTBASE=_t1.DBSYSTEMVALUES_PERVASIVE=_t1.DBSYSTEMVALUES_NETEZZA=_t1.DBSYSTEMVALUES_MARIADB=_t1.DBSYSTEMVALUES_INTERBASE=_t1.DBSYSTEMVALUES_INSTANTDB=_t1.DBSYSTEMVALUES_INFORMIX=void 0;_t1.MESSAGINGOPERATIONVALUES_RECEIVE=_t1.MessagingDestinationKindValues=_t1.MESSAGINGDESTINATIONKINDVALUES_TOPIC=_t1.MESSAGINGDESTINATIONKINDVALUES_QUEUE=_t1.HttpFlavorValues=_t1.HTTPFLAVORVALUES_QUIC=_t1.HTTPFLAVORVALUES_SPDY=_t1.HTTPFLAVORVALUES_HTTP_2_0=_t1.HTTPFLAVORVALUES_HTTP_1_1=_t1.HTTPFLAVORVALUES_HTTP_1_0=_t1.NetHostConnectionSubtypeValues=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_NR=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=_t1.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=_t1.NetHostConnectionTypeValues=_t1.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=_t1.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=_t1.NETHOSTCONNECTIONTYPEVALUES_CELL=_t1.NETHOSTCONNECTIONTYPEVALUES_WIRED=_t1.NETHOSTCONNECTIONTYPEVALUES_WIFI=_t1.NetTransportValues=_t1.NETTRANSPORTVALUES_OTHER=_t1.NETTRANSPORTVALUES_INPROC=_t1.NETTRANSPORTVALUES_PIPE=_t1.NETTRANSPORTVALUES_UNIX=_t1.NETTRANSPORTVALUES_IP=_t1.NETTRANSPORTVALUES_IP_UDP=_t1.NETTRANSPORTVALUES_IP_TCP=_t1.FaasInvokedProviderValues=_t1.FAASINVOKEDPROVIDERVALUES_GCP=_t1.FAASINVOKEDPROVIDERVALUES_AZURE=_t1.FAASINVOKEDPROVIDERVALUES_AWS=void 0;_t1.MessageTypeValues=_t1.MESSAGETYPEVALUES_RECEIVED=_t1.MESSAGETYPEVALUES_SENT=_t1.RpcGrpcStatusCodeValues=_t1.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=_t1.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=_t1.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=_t1.RPCGRPCSTATUSCODEVALUES_INTERNAL=_t1.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=_t1.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=_t1.RPCGRPCSTATUSCODEVALUES_ABORTED=_t1.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=_t1.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=_t1.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=_t1.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=_t1.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=_t1.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=_t1.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=_t1.RPCGRPCSTATUSCODEVALUES_UNKNOWN=_t1.RPCGRPCSTATUSCODEVALUES_CANCELLED=_t1.RPCGRPCSTATUSCODEVALUES_OK=_t1.MessagingOperationValues=_t1.MESSAGINGOPERATIONVALUES_PROCESS=void 0;var EZ=Q51(),ni1="aws.lambda.invoked_arn",ii1="db.system",oi1="db.connection_string",si1="db.user",ai1="db.jdbc.driver_classname",ri1="db.name",ti1="db.statement",ei1="db.operation",Jo1="db.mssql.instance_name",Zo1="db.cassandra.keyspace",Xo1="db.cassandra.page_size",Yo1="db.cassandra.consistency_level",$o1="db.cassandra.table",zo1="db.cassandra.idempotence",Wo1="db.cassandra.speculative_execution_count",Qo1="db.cassandra.coordinator.id",Go1="db.cassandra.coordinator.dc",Ko1="db.hbase.namespace",qo1="db.redis.database_index",Bo1="db.mongodb.collection",Ho1="db.sql.table",Fo1="exception.type",Uo1="exception.message",Oo1="exception.stacktrace",Do1="exception.escaped",Vo1="faas.trigger",Io1="faas.execution",wo1="faas.document.collection",Ao1="faas.document.operation",Mo1="faas.document.time",No1="faas.document.name",Po1="faas.time",Lo1="faas.cron",Co1="faas.coldstart",jo1="faas.invoked_name",Ro1="faas.invoked_provider",Eo1="faas.invoked_region",So1="net.transport",To1="net.peer.ip",fo1="net.peer.port",ko1="net.peer.name",bo1="net.host.ip",ho1="net.host.port",_o1="net.host.name",yo1="net.host.connection.type",vo1="net.host.connection.subtype",xo1="net.host.carrier.name",go1="net.host.carrier.mcc",do1="net.host.carrier.mnc",uo1="net.host.carrier.icc",mo1="peer.service",co1="enduser.id",lo1="enduser.role",po1="enduser.scope",no1="thread.id",io1="thread.name",oo1="code.function",so1="code.namespace",ao1="code.filepath",ro1="code.lineno",to1="http.method",eo1="http.url",Js1="http.target",Zs1="http.host",Xs1="http.scheme",Ys1="http.status_code",$s1="http.flavor",zs1="http.user_agent",Ws1="http.request_content_length",Qs1="http.request_content_length_uncompressed",Gs1="http.response_content_length",Ks1="http.response_content_length_uncompressed",qs1="http.server_name",Bs1="http.route",Hs1="http.client_ip",Fs1="aws.dynamodb.table_names",Us1="aws.dynamodb.consumed_capacity",Os1="aws.dynamodb.item_collection_metrics",Ds1="aws.dynamodb.provisioned_read_capacity",Vs1="aws.dynamodb.provisioned_write_capacity",Is1="aws.dynamodb.consistent_read",ws1="aws.dynamodb.projection",As1="aws.dynamodb.limit",Ms1="aws.dynamodb.attributes_to_get",Ns1="aws.dynamodb.index_name",Ps1="aws.dynamodb.select",Ls1="aws.dynamodb.global_secondary_indexes",Cs1="aws.dynamodb.local_secondary_indexes",js1="aws.dynamodb.exclusive_start_table",Rs1="aws.dynamodb.table_count",Es1="aws.dynamodb.scan_forward",Ss1="aws.dynamodb.segment",Ts1="aws.dynamodb.total_segments",fs1="aws.dynamodb.count",ks1="aws.dynamodb.scanned_count",bs1="aws.dynamodb.attribute_definitions",hs1="aws.dynamodb.global_secondary_index_updates",_s1="messaging.system",ys1="messaging.destination",vs1="messaging.destination_kind",xs1="messaging.temp_destination",gs1="messaging.protocol",ds1="messaging.protocol_version",us1="messaging.url",ms1="messaging.message_id",cs1="messaging.conversation_id",ls1="messaging.message_payload_size_bytes",ps1="messaging.message_payload_compressed_size_bytes",ns1="messaging.operation",is1="messaging.consumer_id",os1="messaging.rabbitmq.routing_key",ss1="messaging.kafka.message_key",as1="messaging.kafka.consumer_group",rs1="messaging.kafka.client_id",ts1="messaging.kafka.partition",es1="messaging.kafka.tombstone",Ja1="rpc.system",Za1="rpc.service",Xa1="rpc.method",Ya1="rpc.grpc.status_code",$a1="rpc.jsonrpc.version",za1="rpc.jsonrpc.request_id",Wa1="rpc.jsonrpc.error_code",Qa1="rpc.jsonrpc.error_message",Ga1="message.type",Ka1="message.id",qa1="message.compressed_size",Ba1="message.uncompressed_size";_t1.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=ni1;_t1.SEMATTRS_DB_SYSTEM=ii1;_t1.SEMATTRS_DB_CONNECTION_STRING=oi1;_t1.SEMATTRS_DB_USER=si1;_t1.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=ai1;_t1.SEMATTRS_DB_NAME=ri1;_t1.SEMATTRS_DB_STATEMENT=ti1;_t1.SEMATTRS_DB_OPERATION=ei1;_t1.SEMATTRS_DB_MSSQL_INSTANCE_NAME=Jo1;_t1.SEMATTRS_DB_CASSANDRA_KEYSPACE=Zo1;_t1.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=Xo1;_t1.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=Yo1;_t1.SEMATTRS_DB_CASSANDRA_TABLE=$o1;_t1.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=zo1;_t1.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=Wo1;_t1.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=Qo1;_t1.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=Go1;_t1.SEMATTRS_DB_HBASE_NAMESPACE=Ko1;_t1.SEMATTRS_DB_REDIS_DATABASE_INDEX=qo1;_t1.SEMATTRS_DB_MONGODB_COLLECTION=Bo1;_t1.SEMATTRS_DB_SQL_TABLE=Ho1;_t1.SEMATTRS_EXCEPTION_TYPE=Fo1;_t1.SEMATTRS_EXCEPTION_MESSAGE=Uo1;_t1.SEMATTRS_EXCEPTION_STACKTRACE=Oo1;_t1.SEMATTRS_EXCEPTION_ESCAPED=Do1;_t1.SEMATTRS_FAAS_TRIGGER=Vo1;_t1.SEMATTRS_FAAS_EXECUTION=Io1;_t1.SEMATTRS_FAAS_DOCUMENT_COLLECTION=wo1;_t1.SEMATTRS_FAAS_DOCUMENT_OPERATION=Ao1;_t1.SEMATTRS_FAAS_DOCUMENT_TIME=Mo1;_t1.SEMATTRS_FAAS_DOCUMENT_NAME=No1;_t1.SEMATTRS_FAAS_TIME=Po1;_t1.SEMATTRS_FAAS_CRON=Lo1;_t1.SEMATTRS_FAAS_COLDSTART=Co1;_t1.SEMATTRS_FAAS_INVOKED_NAME=jo1;_t1.SEMATTRS_FAAS_INVOKED_PROVIDER=Ro1;_t1.SEMATTRS_FAAS_INVOKED_REGION=Eo1;_t1.SEMATTRS_NET_TRANSPORT=So1;_t1.SEMATTRS_NET_PEER_IP=To1;_t1.SEMATTRS_NET_PEER_PORT=fo1;_t1.SEMATTRS_NET_PEER_NAME=ko1;_t1.SEMATTRS_NET_HOST_IP=bo1;_t1.SEMATTRS_NET_HOST_PORT=ho1;_t1.SEMATTRS_NET_HOST_NAME=_o1;_t1.SEMATTRS_NET_HOST_CONNECTION_TYPE=yo1;_t1.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=vo1;_t1.SEMATTRS_NET_HOST_CARRIER_NAME=xo1;_t1.SEMATTRS_NET_HOST_CARRIER_MCC=go1;_t1.SEMATTRS_NET_HOST_CARRIER_MNC=do1;_t1.SEMATTRS_NET_HOST_CARRIER_ICC=uo1;_t1.SEMATTRS_PEER_SERVICE=mo1;_t1.SEMATTRS_ENDUSER_ID=co1;_t1.SEMATTRS_ENDUSER_ROLE=lo1;_t1.SEMATTRS_ENDUSER_SCOPE=po1;_t1.SEMATTRS_THREAD_ID=no1;_t1.SEMATTRS_THREAD_NAME=io1;_t1.SEMATTRS_CODE_FUNCTION=oo1;_t1.SEMATTRS_CODE_NAMESPACE=so1;_t1.SEMATTRS_CODE_FILEPATH=ao1;_t1.SEMATTRS_CODE_LINENO=ro1;_t1.SEMATTRS_HTTP_METHOD=to1;_t1.SEMATTRS_HTTP_URL=eo1;_t1.SEMATTRS_HTTP_TARGET=Js1;_t1.SEMATTRS_HTTP_HOST=Zs1;_t1.SEMATTRS_HTTP_SCHEME=Xs1;_t1.SEMATTRS_HTTP_STATUS_CODE=Ys1;_t1.SEMATTRS_HTTP_FLAVOR=$s1;_t1.SEMATTRS_HTTP_USER_AGENT=zs1;_t1.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=Ws1;_t1.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=Qs1;_t1.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=Gs1;_t1.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=Ks1;_t1.SEMATTRS_HTTP_SERVER_NAME=qs1;_t1.SEMATTRS_HTTP_ROUTE=Bs1;_t1.SEMATTRS_HTTP_CLIENT_IP=Hs1;_t1.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=Fs1;_t1.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=Us1;_t1.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=Os1;_t1.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=Ds1;_t1.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=Vs1;_t1.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=Is1;_t1.SEMATTRS_AWS_DYNAMODB_PROJECTION=ws1;_t1.SEMATTRS_AWS_DYNAMODB_LIMIT=As1;_t1.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=Ms1;_t1.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=Ns1;_t1.SEMATTRS_AWS_DYNAMODB_SELECT=Ps1;_t1.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=Ls1;_t1.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=Cs1;_t1.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=js1;_t1.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=Rs1;_t1.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=Es1;_t1.SEMATTRS_AWS_DYNAMODB_SEGMENT=Ss1;_t1.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=Ts1;_t1.SEMATTRS_AWS_DYNAMODB_COUNT=fs1;_t1.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=ks1;_t1.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=bs1;_t1.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=hs1;_t1.SEMATTRS_MESSAGING_SYSTEM=_s1;_t1.SEMATTRS_MESSAGING_DESTINATION=ys1;_t1.SEMATTRS_MESSAGING_DESTINATION_KIND=vs1;_t1.SEMATTRS_MESSAGING_TEMP_DESTINATION=xs1;_t1.SEMATTRS_MESSAGING_PROTOCOL=gs1;_t1.SEMATTRS_MESSAGING_PROTOCOL_VERSION=ds1;_t1.SEMATTRS_MESSAGING_URL=us1;_t1.SEMATTRS_MESSAGING_MESSAGE_ID=ms1;_t1.SEMATTRS_MESSAGING_CONVERSATION_ID=cs1;_t1.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=ls1;_t1.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=ps1;_t1.SEMATTRS_MESSAGING_OPERATION=ns1;_t1.SEMATTRS_MESSAGING_CONSUMER_ID=is1;_t1.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=os1;_t1.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=ss1;_t1.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=as1;_t1.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=rs1;_t1.SEMATTRS_MESSAGING_KAFKA_PARTITION=ts1;_t1.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=es1;_t1.SEMATTRS_RPC_SYSTEM=Ja1;_t1.SEMATTRS_RPC_SERVICE=Za1;_t1.SEMATTRS_RPC_METHOD=Xa1;_t1.SEMATTRS_RPC_GRPC_STATUS_CODE=Ya1;_t1.SEMATTRS_RPC_JSONRPC_VERSION=$a1;_t1.SEMATTRS_RPC_JSONRPC_REQUEST_ID=za1;_t1.SEMATTRS_RPC_JSONRPC_ERROR_CODE=Wa1;_t1.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=Qa1;_t1.SEMATTRS_MESSAGE_TYPE=Ga1;_t1.SEMATTRS_MESSAGE_ID=Ka1;_t1.SEMATTRS_MESSAGE_COMPRESSED_SIZE=qa1;_t1.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=Ba1;_t1.SemanticAttributes=(0,EZ.createConstMap)([ni1,ii1,oi1,si1,ai1,ri1,ti1,ei1,Jo1,Zo1,Xo1,Yo1,$o1,zo1,Wo1,Qo1,Go1,Ko1,qo1,Bo1,Ho1,Fo1,Uo1,Oo1,Do1,Vo1,Io1,wo1,Ao1,Mo1,No1,Po1,Lo1,Co1,jo1,Ro1,Eo1,So1,To1,fo1,ko1,bo1,ho1,_o1,yo1,vo1,xo1,go1,do1,uo1,mo1,co1,lo1,po1,no1,io1,oo1,so1,ao1,ro1,to1,eo1,Js1,Zs1,Xs1,Ys1,$s1,zs1,Ws1,Qs1,Gs1,Ks1,qs1,Bs1,Hs1,Fs1,Us1,Os1,Ds1,Vs1,Is1,ws1,As1,Ms1,Ns1,Ps1,Ls1,Cs1,js1,Rs1,Es1,Ss1,Ts1,fs1,ks1,bs1,hs1,_s1,ys1,vs1,xs1,gs1,ds1,us1,ms1,cs1,ls1,ps1,ns1,is1,os1,ss1,as1,rs1,ts1,es1,Ja1,Za1,Xa1,Ya1,$a1,za1,Wa1,Qa1,Ga1,Ka1,qa1,Ba1]);var Ha1="other_sql",Fa1="mssql",Ua1="mysql",Oa1="oracle",Da1="db2",Va1="postgresql",Ia1="redshift",wa1="hive",Aa1="cloudscape",Ma1="hsqldb",Na1="progress",Pa1="maxdb",La1="hanadb",Ca1="ingres",ja1="firstsql",Ra1="edb",Ea1="cache",Sa1="adabas",Ta1="firebird",fa1="derby",ka1="filemaker",ba1="informix",ha1="instantdb",_a1="interbase",ya1="mariadb",va1="netezza",xa1="pervasive",ga1="pointbase",da1="sqlite",ua1="sybase",ma1="teradata",ca1="vertica",la1="h2",pa1="coldfusion",na1="cassandra",ia1="hbase",oa1="mongodb",sa1="redis",aa1="couchbase",ra1="couchdb",ta1="cosmosdb",ea1="dynamodb",Jr1="neo4j",Zr1="geode",Xr1="elasticsearch",Yr1="memcached",$r1="cockroachdb";_t1.DBSYSTEMVALUES_OTHER_SQL=Ha1;_t1.DBSYSTEMVALUES_MSSQL=Fa1;_t1.DBSYSTEMVALUES_MYSQL=Ua1;_t1.DBSYSTEMVALUES_ORACLE=Oa1;_t1.DBSYSTEMVALUES_DB2=Da1;_t1.DBSYSTEMVALUES_POSTGRESQL=Va1;_t1.DBSYSTEMVALUES_REDSHIFT=Ia1;_t1.DBSYSTEMVALUES_HIVE=wa1;_t1.DBSYSTEMVALUES_CLOUDSCAPE=Aa1;_t1.DBSYSTEMVALUES_HSQLDB=Ma1;_t1.DBSYSTEMVALUES_PROGRESS=Na1;_t1.DBSYSTEMVALUES_MAXDB=Pa1;_t1.DBSYSTEMVALUES_HANADB=La1;_t1.DBSYSTEMVALUES_INGRES=Ca1;_t1.DBSYSTEMVALUES_FIRSTSQL=ja1;_t1.DBSYSTEMVALUES_EDB=Ra1;_t1.DBSYSTEMVALUES_CACHE=Ea1;_t1.DBSYSTEMVALUES_ADABAS=Sa1;_t1.DBSYSTEMVALUES_FIREBIRD=Ta1;_t1.DBSYSTEMVALUES_DERBY=fa1;_t1.DBSYSTEMVALUES_FILEMAKER=ka1;_t1.DBSYSTEMVALUES_INFORMIX=ba1;_t1.DBSYSTEMVALUES_INSTANTDB=ha1;_t1.DBSYSTEMVALUES_INTERBASE=_a1;_t1.DBSYSTEMVALUES_MARIADB=ya1;_t1.DBSYSTEMVALUES_NETEZZA=va1;_t1.DBSYSTEMVALUES_PERVASIVE=xa1;_t1.DBSYSTEMVALUES_POINTBASE=ga1;_t1.DBSYSTEMVALUES_SQLITE=da1;_t1.DBSYSTEMVALUES_SYBASE=ua1;_t1.DBSYSTEMVALUES_TERADATA=ma1;_t1.DBSYSTEMVALUES_VERTICA=ca1;_t1.DBSYSTEMVALUES_H2=la1;_t1.DBSYSTEMVALUES_COLDFUSION=pa1;_t1.DBSYSTEMVALUES_CASSANDRA=na1;_t1.DBSYSTEMVALUES_HBASE=ia1;_t1.DBSYSTEMVALUES_MONGODB=oa1;_t1.DBSYSTEMVALUES_REDIS=sa1;_t1.DBSYSTEMVALUES_COUCHBASE=aa1;_t1.DBSYSTEMVALUES_COUCHDB=ra1;_t1.DBSYSTEMVALUES_COSMOSDB=ta1;_t1.DBSYSTEMVALUES_DYNAMODB=ea1;_t1.DBSYSTEMVALUES_NEO4J=Jr1;_t1.DBSYSTEMVALUES_GEODE=Zr1;_t1.DBSYSTEMVALUES_ELASTICSEARCH=Xr1;_t1.DBSYSTEMVALUES_MEMCACHED=Yr1;_t1.DBSYSTEMVALUES_COCKROACHDB=$r1;_t1.DbSystemValues=(0,EZ.createConstMap)([Ha1,Fa1,Ua1,Oa1,Da1,Va1,Ia1,wa1,Aa1,Ma1,Na1,Pa1,La1,Ca1,ja1,Ra1,Ea1,Sa1,Ta1,fa1,ka1,ba1,ha1,_a1,ya1,va1,xa1,ga1,da1,ua1,ma1,ca1,la1,pa1,na1,ia1,oa1,sa1,aa1,ra1,ta1,ea1,Jr1,Zr1,Xr1,Yr1,$r1]);var zr1="all",Wr1="each_quorum",Qr1="quorum",Gr1="local_quorum",Kr1="one",qr1="two",Br1="three",Hr1="local_one",Fr1="any",Ur1="serial",Or1="local_serial";_t1.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=zr1;_t1.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=Wr1;_t1.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=Qr1;_t1.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=Gr1;_t1.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=Kr1;_t1.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=qr1;_t1.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=Br1;_t1.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=Hr1;_t1.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=Fr1;_t1.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=Ur1;_t1.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=Or1;_t1.DbCassandraConsistencyLevelValues=(0,EZ.createConstMap)([zr1,Wr1,Qr1,Gr1,Kr1,qr1,Br1,Hr1,Fr1,Ur1,Or1]);var Dr1="datasource",Vr1="http",Ir1="pubsub",wr1="timer",Ar1="other";_t1.FAASTRIGGERVALUES_DATASOURCE=Dr1;_t1.FAASTRIGGERVALUES_HTTP=Vr1;_t1.FAASTRIGGERVALUES_PUBSUB=Ir1;_t1.FAASTRIGGERVALUES_TIMER=wr1;_t1.FAASTRIGGERVALUES_OTHER=Ar1;_t1.FaasTriggerValues=(0,EZ.createConstMap)([Dr1,Vr1,Ir1,wr1,Ar1]);var Mr1="insert",Nr1="edit",Pr1="delete";_t1.FAASDOCUMENTOPERATIONVALUES_INSERT=Mr1;_t1.FAASDOCUMENTOPERATIONVALUES_EDIT=Nr1;_t1.FAASDOCUMENTOPERATIONVALUES_DELETE=Pr1;_t1.FaasDocumentOperationValues=(0,EZ.createConstMap)([Mr1,Nr1,Pr1]);var Lr1="alibaba_cloud",Cr1="aws",jr1="azure",Rr1="gcp";_t1.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=Lr1;_t1.FAASINVOKEDPROVIDERVALUES_AWS=Cr1;_t1.FAASINVOKEDPROVIDERVALUES_AZURE=jr1;_t1.FAASINVOKEDPROVIDERVALUES_GCP=Rr1;_t1.FaasInvokedProviderValues=(0,EZ.createConstMap)([Lr1,Cr1,jr1,Rr1]);var Er1="ip_tcp",Sr1="ip_udp",Tr1="ip",fr1="unix",kr1="pipe",br1="inproc",hr1="other";_t1.NETTRANSPORTVALUES_IP_TCP=Er1;_t1.NETTRANSPORTVALUES_IP_UDP=Sr1;_t1.NETTRANSPORTVALUES_IP=Tr1;_t1.NETTRANSPORTVALUES_UNIX=fr1;_t1.NETTRANSPORTVALUES_PIPE=kr1;_t1.NETTRANSPORTVALUES_INPROC=br1;_t1.NETTRANSPORTVALUES_OTHER=hr1;_t1.NetTransportValues=(0,EZ.createConstMap)([Er1,Sr1,Tr1,fr1,kr1,br1,hr1]);var _r1="wifi",yr1="wired",vr1="cell",xr1="unavailable",gr1="unknown";_t1.NETHOSTCONNECTIONTYPEVALUES_WIFI=_r1;_t1.NETHOSTCONNECTIONTYPEVALUES_WIRED=yr1;_t1.NETHOSTCONNECTIONTYPEVALUES_CELL=vr1;_t1.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=xr1;_t1.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=gr1;_t1.NetHostConnectionTypeValues=(0,EZ.createConstMap)([_r1,yr1,vr1,xr1,gr1]);var dr1="gprs",ur1="edge",mr1="umts",cr1="cdma",lr1="evdo_0",pr1="evdo_a",nr1="cdma2000_1xrtt",ir1="hsdpa",or1="hsupa",sr1="hspa",ar1="iden",rr1="evdo_b",tr1="lte",er1="ehrpd",Jt1="hspap",Zt1="gsm",Xt1="td_scdma",Yt1="iwlan",$t1="nr",zt1="nrnsa",Wt1="lte_ca";_t1.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=dr1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=ur1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=mr1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=cr1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=lr1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=pr1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=nr1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=ir1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=or1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=sr1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=ar1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=rr1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=tr1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=er1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=Jt1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=Zt1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=Xt1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=Yt1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_NR=$t1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=zt1;_t1.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=Wt1;_t1.NetHostConnectionSubtypeValues=(0,EZ.createConstMap)([dr1,ur1,mr1,cr1,lr1,pr1,nr1,ir1,or1,sr1,ar1,rr1,tr1,er1,Jt1,Zt1,Xt1,Yt1,$t1,zt1,Wt1]);var Qt1="1.0",Gt1="1.1",Kt1="2.0",qt1="SPDY",Bt1="QUIC";_t1.HTTPFLAVORVALUES_HTTP_1_0=Qt1;_t1.HTTPFLAVORVALUES_HTTP_1_1=Gt1;_t1.HTTPFLAVORVALUES_HTTP_2_0=Kt1;_t1.HTTPFLAVORVALUES_SPDY=qt1;_t1.HTTPFLAVORVALUES_QUIC=Bt1;_t1.HttpFlavorValues={HTTP_1_0:Qt1,HTTP_1_1:Gt1,HTTP_2_0:Kt1,SPDY:qt1,QUIC:Bt1};var Ht1="queue",Ft1="topic";_t1.MESSAGINGDESTINATIONKINDVALUES_QUEUE=Ht1;_t1.MESSAGINGDESTINATIONKINDVALUES_TOPIC=Ft1;_t1.MessagingDestinationKindValues=(0,EZ.createConstMap)([Ht1,Ft1]);var Ut1="receive",Ot1="process";_t1.MESSAGINGOPERATIONVALUES_RECEIVE=Ut1;_t1.MESSAGINGOPERATIONVALUES_PROCESS=Ot1;_t1.MessagingOperationValues=(0,EZ.createConstMap)([Ut1,Ot1]);var Dt1=0,Vt1=1,It1=2,wt1=3,At1=4,Mt1=5,Nt1=6,Pt1=7,Lt1=8,Ct1=9,jt1=10,Rt1=11,Et1=12,St1=13,Tt1=14,ft1=15,kt1=16;_t1.RPCGRPCSTATUSCODEVALUES_OK=Dt1;_t1.RPCGRPCSTATUSCODEVALUES_CANCELLED=Vt1;_t1.RPCGRPCSTATUSCODEVALUES_UNKNOWN=It1;_t1.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=wt1;_t1.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=At1;_t1.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=Mt1;_t1.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=Nt1;_t1.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=Pt1;_t1.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=Lt1;_t1.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=Ct1;_t1.RPCGRPCSTATUSCODEVALUES_ABORTED=jt1;_t1.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=Rt1;_t1.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=Et1;_t1.RPCGRPCSTATUSCODEVALUES_INTERNAL=St1;_t1.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=Tt1;_t1.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=ft1;_t1.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=kt1;_t1.RpcGrpcStatusCodeValues={OK:Dt1,CANCELLED:Vt1,UNKNOWN:It1,INVALID_ARGUMENT:wt1,DEADLINE_EXCEEDED:At1,NOT_FOUND:Mt1,ALREADY_EXISTS:Nt1,PERMISSION_DENIED:Pt1,RESOURCE_EXHAUSTED:Lt1,FAILED_PRECONDITION:Ct1,ABORTED:jt1,OUT_OF_RANGE:Rt1,UNIMPLEMENTED:Et1,INTERNAL:St1,UNAVAILABLE:Tt1,DATA_LOSS:ft1,UNAUTHENTICATED:kt1};var bt1="SENT",ht1="RECEIVED";_t1.MESSAGETYPEVALUES_SENT=bt1;_t1.MESSAGETYPEVALUES_RECEIVED=ht1;_t1.MessageTypeValues=(0,EZ.createConstMap)([bt1,ht1])});var ct1=B((kF)=>{var zv4=kF&&kF.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),Wv4=kF&&kF.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))zv4(Z,J,X)};Object.defineProperty(kF,"__esModule",{value:!0});Wv4(mt1(),kF)});var I00=B((U00)=>{Object.defineProperty(U00,"__esModule",{value:!0});U00.SEMRESATTRS_K8S_STATEFULSET_NAME=U00.SEMRESATTRS_K8S_STATEFULSET_UID=U00.SEMRESATTRS_K8S_DEPLOYMENT_NAME=U00.SEMRESATTRS_K8S_DEPLOYMENT_UID=U00.SEMRESATTRS_K8S_REPLICASET_NAME=U00.SEMRESATTRS_K8S_REPLICASET_UID=U00.SEMRESATTRS_K8S_CONTAINER_NAME=U00.SEMRESATTRS_K8S_POD_NAME=U00.SEMRESATTRS_K8S_POD_UID=U00.SEMRESATTRS_K8S_NAMESPACE_NAME=U00.SEMRESATTRS_K8S_NODE_UID=U00.SEMRESATTRS_K8S_NODE_NAME=U00.SEMRESATTRS_K8S_CLUSTER_NAME=U00.SEMRESATTRS_HOST_IMAGE_VERSION=U00.SEMRESATTRS_HOST_IMAGE_ID=U00.SEMRESATTRS_HOST_IMAGE_NAME=U00.SEMRESATTRS_HOST_ARCH=U00.SEMRESATTRS_HOST_TYPE=U00.SEMRESATTRS_HOST_NAME=U00.SEMRESATTRS_HOST_ID=U00.SEMRESATTRS_FAAS_MAX_MEMORY=U00.SEMRESATTRS_FAAS_INSTANCE=U00.SEMRESATTRS_FAAS_VERSION=U00.SEMRESATTRS_FAAS_ID=U00.SEMRESATTRS_FAAS_NAME=U00.SEMRESATTRS_DEVICE_MODEL_NAME=U00.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=U00.SEMRESATTRS_DEVICE_ID=U00.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=U00.SEMRESATTRS_CONTAINER_IMAGE_TAG=U00.SEMRESATTRS_CONTAINER_IMAGE_NAME=U00.SEMRESATTRS_CONTAINER_RUNTIME=U00.SEMRESATTRS_CONTAINER_ID=U00.SEMRESATTRS_CONTAINER_NAME=U00.SEMRESATTRS_AWS_LOG_STREAM_ARNS=U00.SEMRESATTRS_AWS_LOG_STREAM_NAMES=U00.SEMRESATTRS_AWS_LOG_GROUP_ARNS=U00.SEMRESATTRS_AWS_LOG_GROUP_NAMES=U00.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=U00.SEMRESATTRS_AWS_ECS_TASK_REVISION=U00.SEMRESATTRS_AWS_ECS_TASK_FAMILY=U00.SEMRESATTRS_AWS_ECS_TASK_ARN=U00.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=U00.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=U00.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=U00.SEMRESATTRS_CLOUD_PLATFORM=U00.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=U00.SEMRESATTRS_CLOUD_REGION=U00.SEMRESATTRS_CLOUD_ACCOUNT_ID=U00.SEMRESATTRS_CLOUD_PROVIDER=void 0;U00.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=U00.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=U00.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=U00.CLOUDPLATFORMVALUES_AZURE_AKS=U00.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=U00.CLOUDPLATFORMVALUES_AZURE_VM=U00.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=U00.CLOUDPLATFORMVALUES_AWS_LAMBDA=U00.CLOUDPLATFORMVALUES_AWS_EKS=U00.CLOUDPLATFORMVALUES_AWS_ECS=U00.CLOUDPLATFORMVALUES_AWS_EC2=U00.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=U00.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=U00.CloudProviderValues=U00.CLOUDPROVIDERVALUES_GCP=U00.CLOUDPROVIDERVALUES_AZURE=U00.CLOUDPROVIDERVALUES_AWS=U00.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=U00.SemanticResourceAttributes=U00.SEMRESATTRS_WEBENGINE_DESCRIPTION=U00.SEMRESATTRS_WEBENGINE_VERSION=U00.SEMRESATTRS_WEBENGINE_NAME=U00.SEMRESATTRS_TELEMETRY_AUTO_VERSION=U00.SEMRESATTRS_TELEMETRY_SDK_VERSION=U00.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=U00.SEMRESATTRS_TELEMETRY_SDK_NAME=U00.SEMRESATTRS_SERVICE_VERSION=U00.SEMRESATTRS_SERVICE_INSTANCE_ID=U00.SEMRESATTRS_SERVICE_NAMESPACE=U00.SEMRESATTRS_SERVICE_NAME=U00.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=U00.SEMRESATTRS_PROCESS_RUNTIME_VERSION=U00.SEMRESATTRS_PROCESS_RUNTIME_NAME=U00.SEMRESATTRS_PROCESS_OWNER=U00.SEMRESATTRS_PROCESS_COMMAND_ARGS=U00.SEMRESATTRS_PROCESS_COMMAND_LINE=U00.SEMRESATTRS_PROCESS_COMMAND=U00.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=U00.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=U00.SEMRESATTRS_PROCESS_PID=U00.SEMRESATTRS_OS_VERSION=U00.SEMRESATTRS_OS_NAME=U00.SEMRESATTRS_OS_DESCRIPTION=U00.SEMRESATTRS_OS_TYPE=U00.SEMRESATTRS_K8S_CRONJOB_NAME=U00.SEMRESATTRS_K8S_CRONJOB_UID=U00.SEMRESATTRS_K8S_JOB_NAME=U00.SEMRESATTRS_K8S_JOB_UID=U00.SEMRESATTRS_K8S_DAEMONSET_NAME=U00.SEMRESATTRS_K8S_DAEMONSET_UID=void 0;U00.TelemetrySdkLanguageValues=U00.TELEMETRYSDKLANGUAGEVALUES_WEBJS=U00.TELEMETRYSDKLANGUAGEVALUES_RUBY=U00.TELEMETRYSDKLANGUAGEVALUES_PYTHON=U00.TELEMETRYSDKLANGUAGEVALUES_PHP=U00.TELEMETRYSDKLANGUAGEVALUES_NODEJS=U00.TELEMETRYSDKLANGUAGEVALUES_JAVA=U00.TELEMETRYSDKLANGUAGEVALUES_GO=U00.TELEMETRYSDKLANGUAGEVALUES_ERLANG=U00.TELEMETRYSDKLANGUAGEVALUES_DOTNET=U00.TELEMETRYSDKLANGUAGEVALUES_CPP=U00.OsTypeValues=U00.OSTYPEVALUES_Z_OS=U00.OSTYPEVALUES_SOLARIS=U00.OSTYPEVALUES_AIX=U00.OSTYPEVALUES_HPUX=U00.OSTYPEVALUES_DRAGONFLYBSD=U00.OSTYPEVALUES_OPENBSD=U00.OSTYPEVALUES_NETBSD=U00.OSTYPEVALUES_FREEBSD=U00.OSTYPEVALUES_DARWIN=U00.OSTYPEVALUES_LINUX=U00.OSTYPEVALUES_WINDOWS=U00.HostArchValues=U00.HOSTARCHVALUES_X86=U00.HOSTARCHVALUES_PPC64=U00.HOSTARCHVALUES_PPC32=U00.HOSTARCHVALUES_IA64=U00.HOSTARCHVALUES_ARM64=U00.HOSTARCHVALUES_ARM32=U00.HOSTARCHVALUES_AMD64=U00.AwsEcsLaunchtypeValues=U00.AWSECSLAUNCHTYPEVALUES_FARGATE=U00.AWSECSLAUNCHTYPEVALUES_EC2=U00.CloudPlatformValues=U00.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=U00.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=U00.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=U00.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=void 0;var bF=Q51(),lt1="cloud.provider",pt1="cloud.account.id",nt1="cloud.region",it1="cloud.availability_zone",ot1="cloud.platform",st1="aws.ecs.container.arn",at1="aws.ecs.cluster.arn",rt1="aws.ecs.launchtype",tt1="aws.ecs.task.arn",et1="aws.ecs.task.family",Je1="aws.ecs.task.revision",Ze1="aws.eks.cluster.arn",Xe1="aws.log.group.names",Ye1="aws.log.group.arns",$e1="aws.log.stream.names",ze1="aws.log.stream.arns",We1="container.name",Qe1="container.id",Ge1="container.runtime",Ke1="container.image.name",qe1="container.image.tag",Be1="deployment.environment",He1="device.id",Fe1="device.model.identifier",Ue1="device.model.name",Oe1="faas.name",De1="faas.id",Ve1="faas.version",Ie1="faas.instance",we1="faas.max_memory",Ae1="host.id",Me1="host.name",Ne1="host.type",Pe1="host.arch",Le1="host.image.name",Ce1="host.image.id",je1="host.image.version",Re1="k8s.cluster.name",Ee1="k8s.node.name",Se1="k8s.node.uid",Te1="k8s.namespace.name",fe1="k8s.pod.uid",ke1="k8s.pod.name",be1="k8s.container.name",he1="k8s.replicaset.uid",_e1="k8s.replicaset.name",ye1="k8s.deployment.uid",ve1="k8s.deployment.name",xe1="k8s.statefulset.uid",ge1="k8s.statefulset.name",de1="k8s.daemonset.uid",ue1="k8s.daemonset.name",me1="k8s.job.uid",ce1="k8s.job.name",le1="k8s.cronjob.uid",pe1="k8s.cronjob.name",ne1="os.type",ie1="os.description",oe1="os.name",se1="os.version",ae1="process.pid",re1="process.executable.name",te1="process.executable.path",ee1="process.command",J10="process.command_line",Z10="process.command_args",X10="process.owner",Y10="process.runtime.name",$10="process.runtime.version",z10="process.runtime.description",W10="service.name",Q10="service.namespace",G10="service.instance.id",K10="service.version",q10="telemetry.sdk.name",B10="telemetry.sdk.language",H10="telemetry.sdk.version",F10="telemetry.auto.version",U10="webengine.name",O10="webengine.version",D10="webengine.description";U00.SEMRESATTRS_CLOUD_PROVIDER=lt1;U00.SEMRESATTRS_CLOUD_ACCOUNT_ID=pt1;U00.SEMRESATTRS_CLOUD_REGION=nt1;U00.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=it1;U00.SEMRESATTRS_CLOUD_PLATFORM=ot1;U00.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=st1;U00.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=at1;U00.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=rt1;U00.SEMRESATTRS_AWS_ECS_TASK_ARN=tt1;U00.SEMRESATTRS_AWS_ECS_TASK_FAMILY=et1;U00.SEMRESATTRS_AWS_ECS_TASK_REVISION=Je1;U00.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=Ze1;U00.SEMRESATTRS_AWS_LOG_GROUP_NAMES=Xe1;U00.SEMRESATTRS_AWS_LOG_GROUP_ARNS=Ye1;U00.SEMRESATTRS_AWS_LOG_STREAM_NAMES=$e1;U00.SEMRESATTRS_AWS_LOG_STREAM_ARNS=ze1;U00.SEMRESATTRS_CONTAINER_NAME=We1;U00.SEMRESATTRS_CONTAINER_ID=Qe1;U00.SEMRESATTRS_CONTAINER_RUNTIME=Ge1;U00.SEMRESATTRS_CONTAINER_IMAGE_NAME=Ke1;U00.SEMRESATTRS_CONTAINER_IMAGE_TAG=qe1;U00.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=Be1;U00.SEMRESATTRS_DEVICE_ID=He1;U00.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=Fe1;U00.SEMRESATTRS_DEVICE_MODEL_NAME=Ue1;U00.SEMRESATTRS_FAAS_NAME=Oe1;U00.SEMRESATTRS_FAAS_ID=De1;U00.SEMRESATTRS_FAAS_VERSION=Ve1;U00.SEMRESATTRS_FAAS_INSTANCE=Ie1;U00.SEMRESATTRS_FAAS_MAX_MEMORY=we1;U00.SEMRESATTRS_HOST_ID=Ae1;U00.SEMRESATTRS_HOST_NAME=Me1;U00.SEMRESATTRS_HOST_TYPE=Ne1;U00.SEMRESATTRS_HOST_ARCH=Pe1;U00.SEMRESATTRS_HOST_IMAGE_NAME=Le1;U00.SEMRESATTRS_HOST_IMAGE_ID=Ce1;U00.SEMRESATTRS_HOST_IMAGE_VERSION=je1;U00.SEMRESATTRS_K8S_CLUSTER_NAME=Re1;U00.SEMRESATTRS_K8S_NODE_NAME=Ee1;U00.SEMRESATTRS_K8S_NODE_UID=Se1;U00.SEMRESATTRS_K8S_NAMESPACE_NAME=Te1;U00.SEMRESATTRS_K8S_POD_UID=fe1;U00.SEMRESATTRS_K8S_POD_NAME=ke1;U00.SEMRESATTRS_K8S_CONTAINER_NAME=be1;U00.SEMRESATTRS_K8S_REPLICASET_UID=he1;U00.SEMRESATTRS_K8S_REPLICASET_NAME=_e1;U00.SEMRESATTRS_K8S_DEPLOYMENT_UID=ye1;U00.SEMRESATTRS_K8S_DEPLOYMENT_NAME=ve1;U00.SEMRESATTRS_K8S_STATEFULSET_UID=xe1;U00.SEMRESATTRS_K8S_STATEFULSET_NAME=ge1;U00.SEMRESATTRS_K8S_DAEMONSET_UID=de1;U00.SEMRESATTRS_K8S_DAEMONSET_NAME=ue1;U00.SEMRESATTRS_K8S_JOB_UID=me1;U00.SEMRESATTRS_K8S_JOB_NAME=ce1;U00.SEMRESATTRS_K8S_CRONJOB_UID=le1;U00.SEMRESATTRS_K8S_CRONJOB_NAME=pe1;U00.SEMRESATTRS_OS_TYPE=ne1;U00.SEMRESATTRS_OS_DESCRIPTION=ie1;U00.SEMRESATTRS_OS_NAME=oe1;U00.SEMRESATTRS_OS_VERSION=se1;U00.SEMRESATTRS_PROCESS_PID=ae1;U00.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=re1;U00.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=te1;U00.SEMRESATTRS_PROCESS_COMMAND=ee1;U00.SEMRESATTRS_PROCESS_COMMAND_LINE=J10;U00.SEMRESATTRS_PROCESS_COMMAND_ARGS=Z10;U00.SEMRESATTRS_PROCESS_OWNER=X10;U00.SEMRESATTRS_PROCESS_RUNTIME_NAME=Y10;U00.SEMRESATTRS_PROCESS_RUNTIME_VERSION=$10;U00.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=z10;U00.SEMRESATTRS_SERVICE_NAME=W10;U00.SEMRESATTRS_SERVICE_NAMESPACE=Q10;U00.SEMRESATTRS_SERVICE_INSTANCE_ID=G10;U00.SEMRESATTRS_SERVICE_VERSION=K10;U00.SEMRESATTRS_TELEMETRY_SDK_NAME=q10;U00.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=B10;U00.SEMRESATTRS_TELEMETRY_SDK_VERSION=H10;U00.SEMRESATTRS_TELEMETRY_AUTO_VERSION=F10;U00.SEMRESATTRS_WEBENGINE_NAME=U10;U00.SEMRESATTRS_WEBENGINE_VERSION=O10;U00.SEMRESATTRS_WEBENGINE_DESCRIPTION=D10;U00.SemanticResourceAttributes=(0,bF.createConstMap)([lt1,pt1,nt1,it1,ot1,st1,at1,rt1,tt1,et1,Je1,Ze1,Xe1,Ye1,$e1,ze1,We1,Qe1,Ge1,Ke1,qe1,Be1,He1,Fe1,Ue1,Oe1,De1,Ve1,Ie1,we1,Ae1,Me1,Ne1,Pe1,Le1,Ce1,je1,Re1,Ee1,Se1,Te1,fe1,ke1,be1,he1,_e1,ye1,ve1,xe1,ge1,de1,ue1,me1,ce1,le1,pe1,ne1,ie1,oe1,se1,ae1,re1,te1,ee1,J10,Z10,X10,Y10,$10,z10,W10,Q10,G10,K10,q10,B10,H10,F10,U10,O10,D10]);var V10="alibaba_cloud",I10="aws",w10="azure",A10="gcp";U00.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=V10;U00.CLOUDPROVIDERVALUES_AWS=I10;U00.CLOUDPROVIDERVALUES_AZURE=w10;U00.CLOUDPROVIDERVALUES_GCP=A10;U00.CloudProviderValues=(0,bF.createConstMap)([V10,I10,w10,A10]);var M10="alibaba_cloud_ecs",N10="alibaba_cloud_fc",P10="aws_ec2",L10="aws_ecs",C10="aws_eks",j10="aws_lambda",R10="aws_elastic_beanstalk",E10="azure_vm",S10="azure_container_instances",T10="azure_aks",f10="azure_functions",k10="azure_app_service",b10="gcp_compute_engine",h10="gcp_cloud_run",_10="gcp_kubernetes_engine",y10="gcp_cloud_functions",v10="gcp_app_engine";U00.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=M10;U00.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=N10;U00.CLOUDPLATFORMVALUES_AWS_EC2=P10;U00.CLOUDPLATFORMVALUES_AWS_ECS=L10;U00.CLOUDPLATFORMVALUES_AWS_EKS=C10;U00.CLOUDPLATFORMVALUES_AWS_LAMBDA=j10;U00.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=R10;U00.CLOUDPLATFORMVALUES_AZURE_VM=E10;U00.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=S10;U00.CLOUDPLATFORMVALUES_AZURE_AKS=T10;U00.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=f10;U00.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=k10;U00.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=b10;U00.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=h10;U00.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=_10;U00.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=y10;U00.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=v10;U00.CloudPlatformValues=(0,bF.createConstMap)([M10,N10,P10,L10,C10,j10,R10,E10,S10,T10,f10,k10,b10,h10,_10,y10,v10]);var x10="ec2",g10="fargate";U00.AWSECSLAUNCHTYPEVALUES_EC2=x10;U00.AWSECSLAUNCHTYPEVALUES_FARGATE=g10;U00.AwsEcsLaunchtypeValues=(0,bF.createConstMap)([x10,g10]);var d10="amd64",u10="arm32",m10="arm64",c10="ia64",l10="ppc32",p10="ppc64",n10="x86";U00.HOSTARCHVALUES_AMD64=d10;U00.HOSTARCHVALUES_ARM32=u10;U00.HOSTARCHVALUES_ARM64=m10;U00.HOSTARCHVALUES_IA64=c10;U00.HOSTARCHVALUES_PPC32=l10;U00.HOSTARCHVALUES_PPC64=p10;U00.HOSTARCHVALUES_X86=n10;U00.HostArchValues=(0,bF.createConstMap)([d10,u10,m10,c10,l10,p10,n10]);var i10="windows",o10="linux",s10="darwin",a10="freebsd",r10="netbsd",t10="openbsd",e10="dragonflybsd",J00="hpux",Z00="aix",X00="solaris",Y00="z_os";U00.OSTYPEVALUES_WINDOWS=i10;U00.OSTYPEVALUES_LINUX=o10;U00.OSTYPEVALUES_DARWIN=s10;U00.OSTYPEVALUES_FREEBSD=a10;U00.OSTYPEVALUES_NETBSD=r10;U00.OSTYPEVALUES_OPENBSD=t10;U00.OSTYPEVALUES_DRAGONFLYBSD=e10;U00.OSTYPEVALUES_HPUX=J00;U00.OSTYPEVALUES_AIX=Z00;U00.OSTYPEVALUES_SOLARIS=X00;U00.OSTYPEVALUES_Z_OS=Y00;U00.OsTypeValues=(0,bF.createConstMap)([i10,o10,s10,a10,r10,t10,e10,J00,Z00,X00,Y00]);var $00="cpp",z00="dotnet",W00="erlang",Q00="go",G00="java",K00="nodejs",q00="php",B00="python",H00="ruby",F00="webjs";U00.TELEMETRYSDKLANGUAGEVALUES_CPP=$00;U00.TELEMETRYSDKLANGUAGEVALUES_DOTNET=z00;U00.TELEMETRYSDKLANGUAGEVALUES_ERLANG=W00;U00.TELEMETRYSDKLANGUAGEVALUES_GO=Q00;U00.TELEMETRYSDKLANGUAGEVALUES_JAVA=G00;U00.TELEMETRYSDKLANGUAGEVALUES_NODEJS=K00;U00.TELEMETRYSDKLANGUAGEVALUES_PHP=q00;U00.TELEMETRYSDKLANGUAGEVALUES_PYTHON=B00;U00.TELEMETRYSDKLANGUAGEVALUES_RUBY=H00;U00.TELEMETRYSDKLANGUAGEVALUES_WEBJS=F00;U00.TelemetrySdkLanguageValues=(0,bF.createConstMap)([$00,z00,W00,Q00,G00,K00,q00,B00,H00,F00])});var w00=B((hF)=>{var _g4=hF&&hF.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),yg4=hF&&hF.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))_g4(Z,J,X)};Object.defineProperty(hF,"__esModule",{value:!0});yg4(I00(),hF)});var L00=B((A00)=>{Object.defineProperty(A00,"__esModule",{value:!0});A00.ATTR_HTTP_REQUEST_HEADER=A00.ATTR_EXCEPTION_TYPE=A00.ATTR_EXCEPTION_STACKTRACE=A00.ATTR_EXCEPTION_MESSAGE=A00.ATTR_EXCEPTION_ESCAPED=A00.ERROR_TYPE_VALUE_OTHER=A00.ATTR_ERROR_TYPE=A00.DOTNET_GC_HEAP_GENERATION_VALUE_POH=A00.DOTNET_GC_HEAP_GENERATION_VALUE_LOH=A00.DOTNET_GC_HEAP_GENERATION_VALUE_GEN2=A00.DOTNET_GC_HEAP_GENERATION_VALUE_GEN1=A00.DOTNET_GC_HEAP_GENERATION_VALUE_GEN0=A00.ATTR_DOTNET_GC_HEAP_GENERATION=A00.DB_SYSTEM_NAME_VALUE_POSTGRESQL=A00.DB_SYSTEM_NAME_VALUE_MYSQL=A00.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER=A00.DB_SYSTEM_NAME_VALUE_MARIADB=A00.ATTR_DB_SYSTEM_NAME=A00.ATTR_DB_STORED_PROCEDURE_NAME=A00.ATTR_DB_RESPONSE_STATUS_CODE=A00.ATTR_DB_QUERY_TEXT=A00.ATTR_DB_QUERY_SUMMARY=A00.ATTR_DB_OPERATION_NAME=A00.ATTR_DB_OPERATION_BATCH_SIZE=A00.ATTR_DB_NAMESPACE=A00.ATTR_DB_COLLECTION_NAME=A00.ATTR_CODE_STACKTRACE=A00.ATTR_CODE_LINE_NUMBER=A00.ATTR_CODE_FUNCTION_NAME=A00.ATTR_CODE_FILE_PATH=A00.ATTR_CODE_COLUMN_NUMBER=A00.ATTR_CLIENT_PORT=A00.ATTR_CLIENT_ADDRESS=A00.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS=A00.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE=A00.ATTR_ASPNETCORE_ROUTING_MATCH_STATUS=A00.ATTR_ASPNETCORE_ROUTING_IS_FALLBACK=A00.ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED=A00.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED=A00.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER=A00.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER=A00.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED=A00.ATTR_ASPNETCORE_RATE_LIMITING_RESULT=A00.ATTR_ASPNETCORE_RATE_LIMITING_POLICY=A00.ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE=A00.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED=A00.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED=A00.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED=A00.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED=A00.ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT=void 0;A00.OTEL_STATUS_CODE_VALUE_OK=A00.OTEL_STATUS_CODE_VALUE_ERROR=A00.ATTR_OTEL_STATUS_CODE=A00.ATTR_OTEL_SCOPE_VERSION=A00.ATTR_OTEL_SCOPE_NAME=A00.NETWORK_TYPE_VALUE_IPV6=A00.NETWORK_TYPE_VALUE_IPV4=A00.ATTR_NETWORK_TYPE=A00.NETWORK_TRANSPORT_VALUE_UNIX=A00.NETWORK_TRANSPORT_VALUE_UDP=A00.NETWORK_TRANSPORT_VALUE_TCP=A00.NETWORK_TRANSPORT_VALUE_QUIC=A00.NETWORK_TRANSPORT_VALUE_PIPE=A00.ATTR_NETWORK_TRANSPORT=A00.ATTR_NETWORK_PROTOCOL_VERSION=A00.ATTR_NETWORK_PROTOCOL_NAME=A00.ATTR_NETWORK_PEER_PORT=A00.ATTR_NETWORK_PEER_ADDRESS=A00.ATTR_NETWORK_LOCAL_PORT=A00.ATTR_NETWORK_LOCAL_ADDRESS=A00.JVM_THREAD_STATE_VALUE_WAITING=A00.JVM_THREAD_STATE_VALUE_TIMED_WAITING=A00.JVM_THREAD_STATE_VALUE_TERMINATED=A00.JVM_THREAD_STATE_VALUE_RUNNABLE=A00.JVM_THREAD_STATE_VALUE_NEW=A00.JVM_THREAD_STATE_VALUE_BLOCKED=A00.ATTR_JVM_THREAD_STATE=A00.ATTR_JVM_THREAD_DAEMON=A00.JVM_MEMORY_TYPE_VALUE_NON_HEAP=A00.JVM_MEMORY_TYPE_VALUE_HEAP=A00.ATTR_JVM_MEMORY_TYPE=A00.ATTR_JVM_MEMORY_POOL_NAME=A00.ATTR_JVM_GC_NAME=A00.ATTR_JVM_GC_ACTION=A00.ATTR_HTTP_ROUTE=A00.ATTR_HTTP_RESPONSE_STATUS_CODE=A00.ATTR_HTTP_RESPONSE_HEADER=A00.ATTR_HTTP_REQUEST_RESEND_COUNT=A00.ATTR_HTTP_REQUEST_METHOD_ORIGINAL=A00.HTTP_REQUEST_METHOD_VALUE_TRACE=A00.HTTP_REQUEST_METHOD_VALUE_PUT=A00.HTTP_REQUEST_METHOD_VALUE_POST=A00.HTTP_REQUEST_METHOD_VALUE_PATCH=A00.HTTP_REQUEST_METHOD_VALUE_OPTIONS=A00.HTTP_REQUEST_METHOD_VALUE_HEAD=A00.HTTP_REQUEST_METHOD_VALUE_GET=A00.HTTP_REQUEST_METHOD_VALUE_DELETE=A00.HTTP_REQUEST_METHOD_VALUE_CONNECT=A00.HTTP_REQUEST_METHOD_VALUE_OTHER=A00.ATTR_HTTP_REQUEST_METHOD=void 0;A00.ATTR_USER_AGENT_ORIGINAL=A00.ATTR_URL_SCHEME=A00.ATTR_URL_QUERY=A00.ATTR_URL_PATH=A00.ATTR_URL_FULL=A00.ATTR_URL_FRAGMENT=A00.ATTR_TELEMETRY_SDK_VERSION=A00.ATTR_TELEMETRY_SDK_NAME=A00.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS=A00.TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT=A00.TELEMETRY_SDK_LANGUAGE_VALUE_RUST=A00.TELEMETRY_SDK_LANGUAGE_VALUE_RUBY=A00.TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON=A00.TELEMETRY_SDK_LANGUAGE_VALUE_PHP=A00.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS=A00.TELEMETRY_SDK_LANGUAGE_VALUE_JAVA=A00.TELEMETRY_SDK_LANGUAGE_VALUE_GO=A00.TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG=A00.TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET=A00.TELEMETRY_SDK_LANGUAGE_VALUE_CPP=A00.ATTR_TELEMETRY_SDK_LANGUAGE=A00.SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS=A00.SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS=A00.SIGNALR_TRANSPORT_VALUE_LONG_POLLING=A00.ATTR_SIGNALR_TRANSPORT=A00.SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT=A00.SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE=A00.SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN=A00.ATTR_SIGNALR_CONNECTION_STATUS=A00.ATTR_SERVICE_VERSION=A00.ATTR_SERVICE_NAME=A00.ATTR_SERVER_PORT=A00.ATTR_SERVER_ADDRESS=A00.ATTR_OTEL_STATUS_DESCRIPTION=void 0;A00.ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT="aspnetcore.diagnostics.exception.result";A00.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED="aborted";A00.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED="handled";A00.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED="skipped";A00.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED="unhandled";A00.ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE="aspnetcore.diagnostics.handler.type";A00.ATTR_ASPNETCORE_RATE_LIMITING_POLICY="aspnetcore.rate_limiting.policy";A00.ATTR_ASPNETCORE_RATE_LIMITING_RESULT="aspnetcore.rate_limiting.result";A00.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED="acquired";A00.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER="endpoint_limiter";A00.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER="global_limiter";A00.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED="request_canceled";A00.ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED="aspnetcore.request.is_unhandled";A00.ATTR_ASPNETCORE_ROUTING_IS_FALLBACK="aspnetcore.routing.is_fallback";A00.ATTR_ASPNETCORE_ROUTING_MATCH_STATUS="aspnetcore.routing.match_status";A00.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE="failure";A00.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS="success";A00.ATTR_CLIENT_ADDRESS="client.address";A00.ATTR_CLIENT_PORT="client.port";A00.ATTR_CODE_COLUMN_NUMBER="code.column.number";A00.ATTR_CODE_FILE_PATH="code.file.path";A00.ATTR_CODE_FUNCTION_NAME="code.function.name";A00.ATTR_CODE_LINE_NUMBER="code.line.number";A00.ATTR_CODE_STACKTRACE="code.stacktrace";A00.ATTR_DB_COLLECTION_NAME="db.collection.name";A00.ATTR_DB_NAMESPACE="db.namespace";A00.ATTR_DB_OPERATION_BATCH_SIZE="db.operation.batch.size";A00.ATTR_DB_OPERATION_NAME="db.operation.name";A00.ATTR_DB_QUERY_SUMMARY="db.query.summary";A00.ATTR_DB_QUERY_TEXT="db.query.text";A00.ATTR_DB_RESPONSE_STATUS_CODE="db.response.status_code";A00.ATTR_DB_STORED_PROCEDURE_NAME="db.stored_procedure.name";A00.ATTR_DB_SYSTEM_NAME="db.system.name";A00.DB_SYSTEM_NAME_VALUE_MARIADB="mariadb";A00.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER="microsoft.sql_server";A00.DB_SYSTEM_NAME_VALUE_MYSQL="mysql";A00.DB_SYSTEM_NAME_VALUE_POSTGRESQL="postgresql";A00.ATTR_DOTNET_GC_HEAP_GENERATION="dotnet.gc.heap.generation";A00.DOTNET_GC_HEAP_GENERATION_VALUE_GEN0="gen0";A00.DOTNET_GC_HEAP_GENERATION_VALUE_GEN1="gen1";A00.DOTNET_GC_HEAP_GENERATION_VALUE_GEN2="gen2";A00.DOTNET_GC_HEAP_GENERATION_VALUE_LOH="loh";A00.DOTNET_GC_HEAP_GENERATION_VALUE_POH="poh";A00.ATTR_ERROR_TYPE="error.type";A00.ERROR_TYPE_VALUE_OTHER="_OTHER";A00.ATTR_EXCEPTION_ESCAPED="exception.escaped";A00.ATTR_EXCEPTION_MESSAGE="exception.message";A00.ATTR_EXCEPTION_STACKTRACE="exception.stacktrace";A00.ATTR_EXCEPTION_TYPE="exception.type";var vg4=(J)=>`http.request.header.${J}`;A00.ATTR_HTTP_REQUEST_HEADER=vg4;A00.ATTR_HTTP_REQUEST_METHOD="http.request.method";A00.HTTP_REQUEST_METHOD_VALUE_OTHER="_OTHER";A00.HTTP_REQUEST_METHOD_VALUE_CONNECT="CONNECT";A00.HTTP_REQUEST_METHOD_VALUE_DELETE="DELETE";A00.HTTP_REQUEST_METHOD_VALUE_GET="GET";A00.HTTP_REQUEST_METHOD_VALUE_HEAD="HEAD";A00.HTTP_REQUEST_METHOD_VALUE_OPTIONS="OPTIONS";A00.HTTP_REQUEST_METHOD_VALUE_PATCH="PATCH";A00.HTTP_REQUEST_METHOD_VALUE_POST="POST";A00.HTTP_REQUEST_METHOD_VALUE_PUT="PUT";A00.HTTP_REQUEST_METHOD_VALUE_TRACE="TRACE";A00.ATTR_HTTP_REQUEST_METHOD_ORIGINAL="http.request.method_original";A00.ATTR_HTTP_REQUEST_RESEND_COUNT="http.request.resend_count";var xg4=(J)=>`http.response.header.${J}`;A00.ATTR_HTTP_RESPONSE_HEADER=xg4;A00.ATTR_HTTP_RESPONSE_STATUS_CODE="http.response.status_code";A00.ATTR_HTTP_ROUTE="http.route";A00.ATTR_JVM_GC_ACTION="jvm.gc.action";A00.ATTR_JVM_GC_NAME="jvm.gc.name";A00.ATTR_JVM_MEMORY_POOL_NAME="jvm.memory.pool.name";A00.ATTR_JVM_MEMORY_TYPE="jvm.memory.type";A00.JVM_MEMORY_TYPE_VALUE_HEAP="heap";A00.JVM_MEMORY_TYPE_VALUE_NON_HEAP="non_heap";A00.ATTR_JVM_THREAD_DAEMON="jvm.thread.daemon";A00.ATTR_JVM_THREAD_STATE="jvm.thread.state";A00.JVM_THREAD_STATE_VALUE_BLOCKED="blocked";A00.JVM_THREAD_STATE_VALUE_NEW="new";A00.JVM_THREAD_STATE_VALUE_RUNNABLE="runnable";A00.JVM_THREAD_STATE_VALUE_TERMINATED="terminated";A00.JVM_THREAD_STATE_VALUE_TIMED_WAITING="timed_waiting";A00.JVM_THREAD_STATE_VALUE_WAITING="waiting";A00.ATTR_NETWORK_LOCAL_ADDRESS="network.local.address";A00.ATTR_NETWORK_LOCAL_PORT="network.local.port";A00.ATTR_NETWORK_PEER_ADDRESS="network.peer.address";A00.ATTR_NETWORK_PEER_PORT="network.peer.port";A00.ATTR_NETWORK_PROTOCOL_NAME="network.protocol.name";A00.ATTR_NETWORK_PROTOCOL_VERSION="network.protocol.version";A00.ATTR_NETWORK_TRANSPORT="network.transport";A00.NETWORK_TRANSPORT_VALUE_PIPE="pipe";A00.NETWORK_TRANSPORT_VALUE_QUIC="quic";A00.NETWORK_TRANSPORT_VALUE_TCP="tcp";A00.NETWORK_TRANSPORT_VALUE_UDP="udp";A00.NETWORK_TRANSPORT_VALUE_UNIX="unix";A00.ATTR_NETWORK_TYPE="network.type";A00.NETWORK_TYPE_VALUE_IPV4="ipv4";A00.NETWORK_TYPE_VALUE_IPV6="ipv6";A00.ATTR_OTEL_SCOPE_NAME="otel.scope.name";A00.ATTR_OTEL_SCOPE_VERSION="otel.scope.version";A00.ATTR_OTEL_STATUS_CODE="otel.status_code";A00.OTEL_STATUS_CODE_VALUE_ERROR="ERROR";A00.OTEL_STATUS_CODE_VALUE_OK="OK";A00.ATTR_OTEL_STATUS_DESCRIPTION="otel.status_description";A00.ATTR_SERVER_ADDRESS="server.address";A00.ATTR_SERVER_PORT="server.port";A00.ATTR_SERVICE_NAME="service.name";A00.ATTR_SERVICE_VERSION="service.version";A00.ATTR_SIGNALR_CONNECTION_STATUS="signalr.connection.status";A00.SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN="app_shutdown";A00.SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE="normal_closure";A00.SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT="timeout";A00.ATTR_SIGNALR_TRANSPORT="signalr.transport";A00.SIGNALR_TRANSPORT_VALUE_LONG_POLLING="long_polling";A00.SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS="server_sent_events";A00.SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS="web_sockets";A00.ATTR_TELEMETRY_SDK_LANGUAGE="telemetry.sdk.language";A00.TELEMETRY_SDK_LANGUAGE_VALUE_CPP="cpp";A00.TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET="dotnet";A00.TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG="erlang";A00.TELEMETRY_SDK_LANGUAGE_VALUE_GO="go";A00.TELEMETRY_SDK_LANGUAGE_VALUE_JAVA="java";A00.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS="nodejs";A00.TELEMETRY_SDK_LANGUAGE_VALUE_PHP="php";A00.TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON="python";A00.TELEMETRY_SDK_LANGUAGE_VALUE_RUBY="ruby";A00.TELEMETRY_SDK_LANGUAGE_VALUE_RUST="rust";A00.TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT="swift";A00.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS="webjs";A00.ATTR_TELEMETRY_SDK_NAME="telemetry.sdk.name";A00.ATTR_TELEMETRY_SDK_VERSION="telemetry.sdk.version";A00.ATTR_URL_FRAGMENT="url.fragment";A00.ATTR_URL_FULL="url.full";A00.ATTR_URL_PATH="url.path";A00.ATTR_URL_QUERY="url.query";A00.ATTR_URL_SCHEME="url.scheme";A00.ATTR_USER_AGENT_ORIGINAL="user_agent.original"});var E00=B((C00)=>{Object.defineProperty(C00,"__esModule",{value:!0});C00.METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS=C00.METRIC_KESTREL_UPGRADED_CONNECTIONS=C00.METRIC_KESTREL_TLS_HANDSHAKE_DURATION=C00.METRIC_KESTREL_REJECTED_CONNECTIONS=C00.METRIC_KESTREL_QUEUED_REQUESTS=C00.METRIC_KESTREL_QUEUED_CONNECTIONS=C00.METRIC_KESTREL_CONNECTION_DURATION=C00.METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES=C00.METRIC_KESTREL_ACTIVE_CONNECTIONS=C00.METRIC_JVM_THREAD_COUNT=C00.METRIC_JVM_MEMORY_USED_AFTER_LAST_GC=C00.METRIC_JVM_MEMORY_USED=C00.METRIC_JVM_MEMORY_LIMIT=C00.METRIC_JVM_MEMORY_COMMITTED=C00.METRIC_JVM_GC_DURATION=C00.METRIC_JVM_CPU_TIME=C00.METRIC_JVM_CPU_RECENT_UTILIZATION=C00.METRIC_JVM_CPU_COUNT=C00.METRIC_JVM_CLASS_UNLOADED=C00.METRIC_JVM_CLASS_LOADED=C00.METRIC_JVM_CLASS_COUNT=C00.METRIC_HTTP_SERVER_REQUEST_DURATION=C00.METRIC_HTTP_CLIENT_REQUEST_DURATION=C00.METRIC_DOTNET_TIMER_COUNT=C00.METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT=C00.METRIC_DOTNET_THREAD_POOL_THREAD_COUNT=C00.METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH=C00.METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET=C00.METRIC_DOTNET_PROCESS_CPU_TIME=C00.METRIC_DOTNET_PROCESS_CPU_COUNT=C00.METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS=C00.METRIC_DOTNET_JIT_COMPILED_METHODS=C00.METRIC_DOTNET_JIT_COMPILED_IL_SIZE=C00.METRIC_DOTNET_JIT_COMPILATION_TIME=C00.METRIC_DOTNET_GC_PAUSE_TIME=C00.METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE=C00.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE=C00.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE=C00.METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED=C00.METRIC_DOTNET_GC_COLLECTIONS=C00.METRIC_DOTNET_EXCEPTIONS=C00.METRIC_DOTNET_ASSEMBLY_COUNT=C00.METRIC_DB_CLIENT_OPERATION_DURATION=C00.METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS=C00.METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS=C00.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION=C00.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE=C00.METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS=C00.METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES=C00.METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS=void 0;C00.METRIC_SIGNALR_SERVER_CONNECTION_DURATION=void 0;C00.METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS="aspnetcore.diagnostics.exceptions";C00.METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES="aspnetcore.rate_limiting.active_request_leases";C00.METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS="aspnetcore.rate_limiting.queued_requests";C00.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE="aspnetcore.rate_limiting.request.time_in_queue";C00.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION="aspnetcore.rate_limiting.request_lease.duration";C00.METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS="aspnetcore.rate_limiting.requests";C00.METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS="aspnetcore.routing.match_attempts";C00.METRIC_DB_CLIENT_OPERATION_DURATION="db.client.operation.duration";C00.METRIC_DOTNET_ASSEMBLY_COUNT="dotnet.assembly.count";C00.METRIC_DOTNET_EXCEPTIONS="dotnet.exceptions";C00.METRIC_DOTNET_GC_COLLECTIONS="dotnet.gc.collections";C00.METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED="dotnet.gc.heap.total_allocated";C00.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE="dotnet.gc.last_collection.heap.fragmentation.size";C00.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE="dotnet.gc.last_collection.heap.size";C00.METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE="dotnet.gc.last_collection.memory.committed_size";C00.METRIC_DOTNET_GC_PAUSE_TIME="dotnet.gc.pause.time";C00.METRIC_DOTNET_JIT_COMPILATION_TIME="dotnet.jit.compilation.time";C00.METRIC_DOTNET_JIT_COMPILED_IL_SIZE="dotnet.jit.compiled_il.size";C00.METRIC_DOTNET_JIT_COMPILED_METHODS="dotnet.jit.compiled_methods";C00.METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS="dotnet.monitor.lock_contentions";C00.METRIC_DOTNET_PROCESS_CPU_COUNT="dotnet.process.cpu.count";C00.METRIC_DOTNET_PROCESS_CPU_TIME="dotnet.process.cpu.time";C00.METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET="dotnet.process.memory.working_set";C00.METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH="dotnet.thread_pool.queue.length";C00.METRIC_DOTNET_THREAD_POOL_THREAD_COUNT="dotnet.thread_pool.thread.count";C00.METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT="dotnet.thread_pool.work_item.count";C00.METRIC_DOTNET_TIMER_COUNT="dotnet.timer.count";C00.METRIC_HTTP_CLIENT_REQUEST_DURATION="http.client.request.duration";C00.METRIC_HTTP_SERVER_REQUEST_DURATION="http.server.request.duration";C00.METRIC_JVM_CLASS_COUNT="jvm.class.count";C00.METRIC_JVM_CLASS_LOADED="jvm.class.loaded";C00.METRIC_JVM_CLASS_UNLOADED="jvm.class.unloaded";C00.METRIC_JVM_CPU_COUNT="jvm.cpu.count";C00.METRIC_JVM_CPU_RECENT_UTILIZATION="jvm.cpu.recent_utilization";C00.METRIC_JVM_CPU_TIME="jvm.cpu.time";C00.METRIC_JVM_GC_DURATION="jvm.gc.duration";C00.METRIC_JVM_MEMORY_COMMITTED="jvm.memory.committed";C00.METRIC_JVM_MEMORY_LIMIT="jvm.memory.limit";C00.METRIC_JVM_MEMORY_USED="jvm.memory.used";C00.METRIC_JVM_MEMORY_USED_AFTER_LAST_GC="jvm.memory.used_after_last_gc";C00.METRIC_JVM_THREAD_COUNT="jvm.thread.count";C00.METRIC_KESTREL_ACTIVE_CONNECTIONS="kestrel.active_connections";C00.METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES="kestrel.active_tls_handshakes";C00.METRIC_KESTREL_CONNECTION_DURATION="kestrel.connection.duration";C00.METRIC_KESTREL_QUEUED_CONNECTIONS="kestrel.queued_connections";C00.METRIC_KESTREL_QUEUED_REQUESTS="kestrel.queued_requests";C00.METRIC_KESTREL_REJECTED_CONNECTIONS="kestrel.rejected_connections";C00.METRIC_KESTREL_TLS_HANDSHAKE_DURATION="kestrel.tls_handshake.duration";C00.METRIC_KESTREL_UPGRADED_CONNECTIONS="kestrel.upgraded_connections";C00.METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS="signalr.server.active_connections";C00.METRIC_SIGNALR_SERVER_CONNECTION_DURATION="signalr.server.connection.duration"});var j1=B((c$)=>{var Yc4=c$&&c$.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),nh=c$&&c$.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))Yc4(Z,J,X)};Object.defineProperty(c$,"__esModule",{value:!0});nh(ct1(),c$);nh(w00(),c$);nh(L00(),c$);nh(E00(),c$)});var f00=B((S00)=>{Object.defineProperty(S00,"__esModule",{value:!0});S00.ATTR_PROCESS_RUNTIME_NAME=void 0;S00.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var h00=B((k00)=>{Object.defineProperty(k00,"__esModule",{value:!0});k00.SDK_INFO=void 0;var $c4=ci1(),ih=j1(),zc4=f00();k00.SDK_INFO={[ih.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[zc4.ATTR_PROCESS_RUNTIME_NAME]:"node",[ih.ATTR_TELEMETRY_SDK_LANGUAGE]:ih.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[ih.ATTR_TELEMETRY_SDK_VERSION]:$c4.VERSION}});var v00=B((_00)=>{Object.defineProperty(_00,"__esModule",{value:!0});_00.unrefTimer=void 0;function Wc4(J){J.unref()}_00.unrefTimer=Wc4});var x00=B((l$)=>{Object.defineProperty(l$,"__esModule",{value:!0});l$.unrefTimer=l$.SDK_INFO=l$.otperformance=l$._globalThis=l$.getStringListFromEnv=l$.getNumberFromEnv=l$.getBooleanFromEnv=l$.getStringFromEnv=void 0;var oh=hi1();Object.defineProperty(l$,"getStringFromEnv",{enumerable:!0,get:function(){return oh.getStringFromEnv}});Object.defineProperty(l$,"getBooleanFromEnv",{enumerable:!0,get:function(){return oh.getBooleanFromEnv}});Object.defineProperty(l$,"getNumberFromEnv",{enumerable:!0,get:function(){return oh.getNumberFromEnv}});Object.defineProperty(l$,"getStringListFromEnv",{enumerable:!0,get:function(){return oh.getStringListFromEnv}});var Qc4=vi1();Object.defineProperty(l$,"_globalThis",{enumerable:!0,get:function(){return Qc4._globalThis}});var Gc4=di1();Object.defineProperty(l$,"otperformance",{enumerable:!0,get:function(){return Gc4.otperformance}});var Kc4=h00();Object.defineProperty(l$,"SDK_INFO",{enumerable:!0,get:function(){return Kc4.SDK_INFO}});var qc4=v00();Object.defineProperty(l$,"unrefTimer",{enumerable:!0,get:function(){return qc4.unrefTimer}})});var G51=B((p$)=>{Object.defineProperty(p$,"__esModule",{value:!0});p$.getStringListFromEnv=p$.getNumberFromEnv=p$.getStringFromEnv=p$.getBooleanFromEnv=p$.unrefTimer=p$.otperformance=p$._globalThis=p$.SDK_INFO=void 0;var P3=x00();Object.defineProperty(p$,"SDK_INFO",{enumerable:!0,get:function(){return P3.SDK_INFO}});Object.defineProperty(p$,"_globalThis",{enumerable:!0,get:function(){return P3._globalThis}});Object.defineProperty(p$,"otperformance",{enumerable:!0,get:function(){return P3.otperformance}});Object.defineProperty(p$,"unrefTimer",{enumerable:!0,get:function(){return P3.unrefTimer}});Object.defineProperty(p$,"getBooleanFromEnv",{enumerable:!0,get:function(){return P3.getBooleanFromEnv}});Object.defineProperty(p$,"getStringFromEnv",{enumerable:!0,get:function(){return P3.getStringFromEnv}});Object.defineProperty(p$,"getNumberFromEnv",{enumerable:!0,get:function(){return P3.getNumberFromEnv}});Object.defineProperty(p$,"getStringListFromEnv",{enumerable:!0,get:function(){return P3.getStringListFromEnv}})});var l00=B((m00)=>{Object.defineProperty(m00,"__esModule",{value:!0});m00.addHrTimes=m00.isTimeInput=m00.isTimeInputHrTime=m00.hrTimeToMicroseconds=m00.hrTimeToMilliseconds=m00.hrTimeToNanoseconds=m00.hrTimeToTimeStamp=m00.hrTimeDuration=m00.timeInputToHrTime=m00.hrTime=m00.getTimeOrigin=m00.millisToHrTime=void 0;var K51=G51(),g00=9,Fc4=6,Uc4=Math.pow(10,Fc4),sh=Math.pow(10,g00);function NL(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*Uc4);return[X,Y]}m00.millisToHrTime=NL;function q51(){let J=K51.otperformance.timeOrigin;if(typeof J!=="number"){let Z=K51.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}m00.getTimeOrigin=q51;function d00(J){let Z=NL(q51()),X=NL(typeof J==="number"?J:K51.otperformance.now());return u00(Z,X)}m00.hrTime=d00;function Oc4(J){if(B51(J))return J;else if(typeof J==="number")if(J<q51())return d00(J);else return NL(J);else if(J instanceof Date)return NL(J.getTime());else throw TypeError("Invalid input type")}m00.timeInputToHrTime=Oc4;function Dc4(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=sh;return[X,Y]}m00.hrTimeDuration=Dc4;function Vc4(J){let Z=g00,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}m00.hrTimeToTimeStamp=Vc4;function Ic4(J){return J[0]*sh+J[1]}m00.hrTimeToNanoseconds=Ic4;function wc4(J){return J[0]*1000+J[1]/1e6}m00.hrTimeToMilliseconds=wc4;function Ac4(J){return J[0]*1e6+J[1]/1000}m00.hrTimeToMicroseconds=Ac4;function B51(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}m00.isTimeInputHrTime=B51;function Mc4(J){return B51(J)||typeof J==="number"||J instanceof Date}m00.isTimeInput=Mc4;function u00(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=sh)X[1]-=sh,X[0]+=1;return X}m00.addHrTimes=u00});var n00=B((p00)=>{Object.defineProperty(p00,"__esModule",{value:!0});p00.ExportResultCode=void 0;var bc4;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(bc4=p00.ExportResultCode||(p00.ExportResultCode={}))});var r00=B((s00)=>{Object.defineProperty(s00,"__esModule",{value:!0});s00.CompositePropagator=void 0;var i00=C();class o00{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){i00.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){i00.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}s00.CompositePropagator=o00});var J60=B((t00)=>{Object.defineProperty(t00,"__esModule",{value:!0});t00.validateValue=t00.validateKey=void 0;var F51="[_0-9a-z-*/]",hc4=`[a-z]${F51}{0,255}`,_c4=`[a-z0-9]${F51}{0,240}@[a-z]${F51}{0,13}`,yc4=new RegExp(`^(?:${hc4}|${_c4})$`),vc4=/^[ -~]{0,255}[!-~]$/,xc4=/,|=/;function gc4(J){return yc4.test(J)}t00.validateKey=gc4;function dc4(J){return vc4.test(J)&&!xc4.test(J)}t00.validateValue=dc4});var O51=B((z60)=>{Object.defineProperty(z60,"__esModule",{value:!0});z60.TraceState=void 0;var Z60=J60(),X60=32,mc4=512,Y60=",",$60="=";class U51{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+$60+this.get(Z)),J},[]).join(Y60)}_parse(J){if(J.length>mc4)return;if(this._internalState=J.split(Y60).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf($60);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,Z60.validateKey)(z)&&(0,Z60.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>X60)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,X60))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new U51;return J._internalState=new Map(this._internalState),J}}z60.TraceState=U51});var B60=B((K60)=>{Object.defineProperty(K60,"__esModule",{value:!0});K60.W3CTraceContextPropagator=K60.parseTraceParent=K60.TRACE_STATE_HEADER=K60.TRACE_PARENT_HEADER=void 0;var ah=C(),cc4=ML(),lc4=O51();K60.TRACE_PARENT_HEADER="traceparent";K60.TRACE_STATE_HEADER="tracestate";var pc4="00",nc4="(?!ff)[\\da-f]{2}",ic4="(?![0]{32})[\\da-f]{32}",oc4="(?![0]{16})[\\da-f]{16}",sc4="[\\da-f]{2}",ac4=new RegExp(`^\\s?(${nc4})-(${ic4})-(${oc4})-(${sc4})(-.*)?\\s?$`);function Q60(J){let Z=ac4.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}K60.parseTraceParent=Q60;class G60{inject(J,Z,X){let Y=ah.trace.getSpanContext(J);if(!Y||(0,cc4.isTracingSuppressed)(J)||!(0,ah.isSpanContextValid)(Y))return;let $=`${pc4}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||ah.TraceFlags.NONE).toString(16)}`;if(X.set(Z,K60.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,K60.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,K60.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=Q60($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,K60.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new lc4.TraceState(typeof Q==="string"?Q:void 0)}return ah.trace.setSpanContext(J,z)}fields(){return[K60.TRACE_PARENT_HEADER,K60.TRACE_STATE_HEADER]}}K60.W3CTraceContextPropagator=G60});var O60=B((F60)=>{Object.defineProperty(F60,"__esModule",{value:!0});F60.getRPCMetadata=F60.deleteRPCMetadata=F60.setRPCMetadata=F60.RPCType=void 0;var tc4=C(),D51=(0,tc4.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),ec4;(function(J){J.HTTP="http"})(ec4=F60.RPCType||(F60.RPCType={}));function Jl4(J,Z){return J.setValue(D51,Z)}F60.setRPCMetadata=Jl4;function Zl4(J){return J.deleteValue(D51)}F60.deleteRPCMetadata=Zl4;function Xl4(J){return J.getValue(D51)}F60.getRPCMetadata=Xl4});var N60=B((A60)=>{Object.defineProperty(A60,"__esModule",{value:!0});A60.isPlainObject=void 0;var zl4="[object Object]",Wl4="[object Null]",Ql4="[object Undefined]",Gl4=Function.prototype,D60=Gl4.toString,Kl4=D60.call(Object),ql4=Object.getPrototypeOf,V60=Object.prototype,I60=V60.hasOwnProperty,_F=Symbol?Symbol.toStringTag:void 0,w60=V60.toString;function Bl4(J){if(!Hl4(J)||Fl4(J)!==zl4)return!1;let Z=ql4(J);if(Z===null)return!0;let X=I60.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&D60.call(X)===Kl4}A60.isPlainObject=Bl4;function Hl4(J){return J!=null&&typeof J=="object"}function Fl4(J){if(J==null)return J===void 0?Ql4:Wl4;return _F&&_F in Object(J)?Ul4(J):Ol4(J)}function Ul4(J){let Z=I60.call(J,_F),X=J[_F],Y=!1;try{J[_F]=void 0,Y=!0}catch(z){}let $=w60.call(J);if(Y)if(Z)J[_F]=X;else delete J[_F];return $}function Ol4(J){return w60.call(J)}});var S60=B((R60)=>{Object.defineProperty(R60,"__esModule",{value:!0});R60.merge=void 0;var P60=N60(),Dl4=20;function Vl4(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=C60(Z,J.shift(),0,X);return Z}R60.merge=Vl4;function V51(J){if(J_(J))return J.slice();return J}function C60(J,Z,X=0,Y){let $;if(X>Dl4)return;if(X++,eh(J)||eh(Z)||j60(Z))$=V51(Z);else if(J_(J)){if($=J.slice(),J_(Z))for(let z=0,W=Z.length;z<W;z++)$.push(V51(Z[z]));else if(PL(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=V51(Z[G])}}}else if(PL(J))if(PL(Z)){if(!Il4(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(eh(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(L60(J,G,Y)||L60(Z,G,Y))delete $[G];else{if(PL(q)&&PL(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=C60($[G],K,X,Y)}}}}else $=Z;return $}function L60(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function J_(J){return Array.isArray(J)}function j60(J){return typeof J==="function"}function PL(J){return!eh(J)&&!J_(J)&&!j60(J)&&typeof J==="object"}function eh(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function Il4(J,Z){if(!(0,P60.isPlainObject)(J)||!(0,P60.isPlainObject)(Z))return!1;return!0}});var k60=B((T60)=>{Object.defineProperty(T60,"__esModule",{value:!0});T60.callWithTimeout=T60.TimeoutError=void 0;class Z_ extends Error{constructor(J){super(J);Object.setPrototypeOf(this,Z_.prototype)}}T60.TimeoutError=Z_;function wl4(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new Z_("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}T60.callWithTimeout=wl4});var y60=B((h60)=>{Object.defineProperty(h60,"__esModule",{value:!0});h60.isUrlIgnored=h60.urlMatches=void 0;function b60(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}h60.urlMatches=b60;function Ml4(J,Z){if(!Z)return!1;for(let X of Z)if(b60(J,X))return!0;return!1}h60.isUrlIgnored=Ml4});var d60=B((x60)=>{Object.defineProperty(x60,"__esModule",{value:!0});x60.Deferred=void 0;class v60{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}x60.Deferred=v60});var l60=B((m60)=>{Object.defineProperty(m60,"__esModule",{value:!0});m60.BindOnceFuture=void 0;var Pl4=d60();class u60{_callback;_that;_isCalled=!1;_deferred=new Pl4.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}m60.BindOnceFuture=u60});var o60=B((n60)=>{Object.defineProperty(n60,"__esModule",{value:!0});n60.diagLogLevelFromString=void 0;var mQ=C(),p60={ALL:mQ.DiagLogLevel.ALL,VERBOSE:mQ.DiagLogLevel.VERBOSE,DEBUG:mQ.DiagLogLevel.DEBUG,INFO:mQ.DiagLogLevel.INFO,WARN:mQ.DiagLogLevel.WARN,ERROR:mQ.DiagLogLevel.ERROR,NONE:mQ.DiagLogLevel.NONE};function Ll4(J){if(J==null)return;let Z=p60[J.toUpperCase()];if(Z==null)return mQ.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(p60)}, using default`),mQ.DiagLogLevel.INFO;return Z}n60.diagLogLevelFromString=Ll4});var t60=B((a60)=>{Object.defineProperty(a60,"__esModule",{value:!0});a60._export=void 0;var s60=C(),Cl4=ML();function jl4(J,Z){return new Promise((X)=>{s60.context.with((0,Cl4.suppressTracing)(s60.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}a60._export=jl4});var $40=B((V0)=>{Object.defineProperty(V0,"__esModule",{value:!0});V0.internal=V0.diagLogLevelFromString=V0.BindOnceFuture=V0.urlMatches=V0.isUrlIgnored=V0.callWithTimeout=V0.TimeoutError=V0.merge=V0.TraceState=V0.unsuppressTracing=V0.suppressTracing=V0.isTracingSuppressed=V0.setRPCMetadata=V0.getRPCMetadata=V0.deleteRPCMetadata=V0.RPCType=V0.parseTraceParent=V0.W3CTraceContextPropagator=V0.TRACE_STATE_HEADER=V0.TRACE_PARENT_HEADER=V0.CompositePropagator=V0.unrefTimer=V0.otperformance=V0.getStringListFromEnv=V0.getNumberFromEnv=V0.getBooleanFromEnv=V0.getStringFromEnv=V0._globalThis=V0.SDK_INFO=V0.parseKeyPairsIntoRecord=V0.ExportResultCode=V0.timeInputToHrTime=V0.millisToHrTime=V0.isTimeInputHrTime=V0.isTimeInput=V0.hrTimeToTimeStamp=V0.hrTimeToNanoseconds=V0.hrTimeToMilliseconds=V0.hrTimeToMicroseconds=V0.hrTimeDuration=V0.hrTime=V0.getTimeOrigin=V0.addHrTimes=V0.loggingErrorHandler=V0.setGlobalErrorHandler=V0.globalErrorHandler=V0.sanitizeAttributes=V0.isAttributeValue=V0.AnchoredClock=V0.W3CBaggagePropagator=void 0;var Rl4=Bi1();Object.defineProperty(V0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return Rl4.W3CBaggagePropagator}});var El4=Oi1();Object.defineProperty(V0,"AnchoredClock",{enumerable:!0,get:function(){return El4.AnchoredClock}});var e60=Ni1();Object.defineProperty(V0,"isAttributeValue",{enumerable:!0,get:function(){return e60.isAttributeValue}});Object.defineProperty(V0,"sanitizeAttributes",{enumerable:!0,get:function(){return e60.sanitizeAttributes}});var J40=Ei1();Object.defineProperty(V0,"globalErrorHandler",{enumerable:!0,get:function(){return J40.globalErrorHandler}});Object.defineProperty(V0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return J40.setGlobalErrorHandler}});var Sl4=W51();Object.defineProperty(V0,"loggingErrorHandler",{enumerable:!0,get:function(){return Sl4.loggingErrorHandler}});var SZ=l00();Object.defineProperty(V0,"addHrTimes",{enumerable:!0,get:function(){return SZ.addHrTimes}});Object.defineProperty(V0,"getTimeOrigin",{enumerable:!0,get:function(){return SZ.getTimeOrigin}});Object.defineProperty(V0,"hrTime",{enumerable:!0,get:function(){return SZ.hrTime}});Object.defineProperty(V0,"hrTimeDuration",{enumerable:!0,get:function(){return SZ.hrTimeDuration}});Object.defineProperty(V0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return SZ.hrTimeToMicroseconds}});Object.defineProperty(V0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return SZ.hrTimeToMilliseconds}});Object.defineProperty(V0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return SZ.hrTimeToNanoseconds}});Object.defineProperty(V0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return SZ.hrTimeToTimeStamp}});Object.defineProperty(V0,"isTimeInput",{enumerable:!0,get:function(){return SZ.isTimeInput}});Object.defineProperty(V0,"isTimeInputHrTime",{enumerable:!0,get:function(){return SZ.isTimeInputHrTime}});Object.defineProperty(V0,"millisToHrTime",{enumerable:!0,get:function(){return SZ.millisToHrTime}});Object.defineProperty(V0,"timeInputToHrTime",{enumerable:!0,get:function(){return SZ.timeInputToHrTime}});var Tl4=n00();Object.defineProperty(V0,"ExportResultCode",{enumerable:!0,get:function(){return Tl4.ExportResultCode}});var fl4=Y51();Object.defineProperty(V0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return fl4.parseKeyPairsIntoRecord}});var L3=G51();Object.defineProperty(V0,"SDK_INFO",{enumerable:!0,get:function(){return L3.SDK_INFO}});Object.defineProperty(V0,"_globalThis",{enumerable:!0,get:function(){return L3._globalThis}});Object.defineProperty(V0,"getStringFromEnv",{enumerable:!0,get:function(){return L3.getStringFromEnv}});Object.defineProperty(V0,"getBooleanFromEnv",{enumerable:!0,get:function(){return L3.getBooleanFromEnv}});Object.defineProperty(V0,"getNumberFromEnv",{enumerable:!0,get:function(){return L3.getNumberFromEnv}});Object.defineProperty(V0,"getStringListFromEnv",{enumerable:!0,get:function(){return L3.getStringListFromEnv}});Object.defineProperty(V0,"otperformance",{enumerable:!0,get:function(){return L3.otperformance}});Object.defineProperty(V0,"unrefTimer",{enumerable:!0,get:function(){return L3.unrefTimer}});var kl4=r00();Object.defineProperty(V0,"CompositePropagator",{enumerable:!0,get:function(){return kl4.CompositePropagator}});var X_=B60();Object.defineProperty(V0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return X_.TRACE_PARENT_HEADER}});Object.defineProperty(V0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return X_.TRACE_STATE_HEADER}});Object.defineProperty(V0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return X_.W3CTraceContextPropagator}});Object.defineProperty(V0,"parseTraceParent",{enumerable:!0,get:function(){return X_.parseTraceParent}});var Y_=O60();Object.defineProperty(V0,"RPCType",{enumerable:!0,get:function(){return Y_.RPCType}});Object.defineProperty(V0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Y_.deleteRPCMetadata}});Object.defineProperty(V0,"getRPCMetadata",{enumerable:!0,get:function(){return Y_.getRPCMetadata}});Object.defineProperty(V0,"setRPCMetadata",{enumerable:!0,get:function(){return Y_.setRPCMetadata}});var I51=ML();Object.defineProperty(V0,"isTracingSuppressed",{enumerable:!0,get:function(){return I51.isTracingSuppressed}});Object.defineProperty(V0,"suppressTracing",{enumerable:!0,get:function(){return I51.suppressTracing}});Object.defineProperty(V0,"unsuppressTracing",{enumerable:!0,get:function(){return I51.unsuppressTracing}});var bl4=O51();Object.defineProperty(V0,"TraceState",{enumerable:!0,get:function(){return bl4.TraceState}});var hl4=S60();Object.defineProperty(V0,"merge",{enumerable:!0,get:function(){return hl4.merge}});var Z40=k60();Object.defineProperty(V0,"TimeoutError",{enumerable:!0,get:function(){return Z40.TimeoutError}});Object.defineProperty(V0,"callWithTimeout",{enumerable:!0,get:function(){return Z40.callWithTimeout}});var X40=y60();Object.defineProperty(V0,"isUrlIgnored",{enumerable:!0,get:function(){return X40.isUrlIgnored}});Object.defineProperty(V0,"urlMatches",{enumerable:!0,get:function(){return X40.urlMatches}});var _l4=l60();Object.defineProperty(V0,"BindOnceFuture",{enumerable:!0,get:function(){return _l4.BindOnceFuture}});var yl4=o60();Object.defineProperty(V0,"diagLogLevelFromString",{enumerable:!0,get:function(){return yl4.diagLogLevelFromString}});var vl4=t60();V0.internal={_export:vl4._export}});var W40=B((z40)=>{Object.defineProperty(z40,"__esModule",{value:!0});z40.SeverityNumber=void 0;var xl4;(function(J){J[J.UNSPECIFIED=0]="UNSPECIFIED",J[J.TRACE=1]="TRACE",J[J.TRACE2=2]="TRACE2",J[J.TRACE3=3]="TRACE3",J[J.TRACE4=4]="TRACE4",J[J.DEBUG=5]="DEBUG",J[J.DEBUG2=6]="DEBUG2",J[J.DEBUG3=7]="DEBUG3",J[J.DEBUG4=8]="DEBUG4",J[J.INFO=9]="INFO",J[J.INFO2=10]="INFO2",J[J.INFO3=11]="INFO3",J[J.INFO4=12]="INFO4",J[J.WARN=13]="WARN",J[J.WARN2=14]="WARN2",J[J.WARN3=15]="WARN3",J[J.WARN4=16]="WARN4",J[J.ERROR=17]="ERROR",J[J.ERROR2=18]="ERROR2",J[J.ERROR3=19]="ERROR3",J[J.ERROR4=20]="ERROR4",J[J.FATAL=21]="FATAL",J[J.FATAL2=22]="FATAL2",J[J.FATAL3=23]="FATAL3",J[J.FATAL4=24]="FATAL4"})(xl4=z40.SeverityNumber||(z40.SeverityNumber={}))});var $_=B((Q40)=>{Object.defineProperty(Q40,"__esModule",{value:!0});Q40.NOOP_LOGGER=Q40.NoopLogger=void 0;class A51{emit(J){}}Q40.NoopLogger=A51;Q40.NOOP_LOGGER=new A51});var z_=B((K40)=>{Object.defineProperty(K40,"__esModule",{value:!0});K40.NOOP_LOGGER_PROVIDER=K40.NoopLoggerProvider=void 0;var dl4=$_();class M51{getLogger(J,Z,X){return new dl4.NoopLogger}}K40.NoopLoggerProvider=M51;K40.NOOP_LOGGER_PROVIDER=new M51});var N51=B((H40)=>{Object.defineProperty(H40,"__esModule",{value:!0});H40.ProxyLogger=void 0;var ml4=$_();class B40{constructor(J,Z,X,Y){this._provider=J,this.name=Z,this.version=X,this.options=Y}emit(J){this._getLogger().emit(J)}_getLogger(){if(this._delegate)return this._delegate;let J=this._provider.getDelegateLogger(this.name,this.version,this.options);if(!J)return ml4.NOOP_LOGGER;return this._delegate=J,this._delegate}}H40.ProxyLogger=B40});var P51=B((O40)=>{Object.defineProperty(O40,"__esModule",{value:!0});O40.ProxyLoggerProvider=void 0;var cl4=z_(),ll4=N51();class U40{getLogger(J,Z,X){var Y;return(Y=this.getDelegateLogger(J,Z,X))!==null&&Y!==void 0?Y:new ll4.ProxyLogger(this,J,Z,X)}getDelegate(){var J;return(J=this._delegate)!==null&&J!==void 0?J:cl4.NOOP_LOGGER_PROVIDER}setDelegate(J){this._delegate=J}getDelegateLogger(J,Z,X){var Y;return(Y=this._delegate)===null||Y===void 0?void 0:Y.getLogger(J,Z,X)}}O40.ProxyLoggerProvider=U40});var w40=B((V40)=>{Object.defineProperty(V40,"__esModule",{value:!0});V40._globalThis=void 0;V40._globalThis=typeof globalThis==="object"?globalThis:global});var A40=B((L51)=>{Object.defineProperty(L51,"__esModule",{value:!0});L51._globalThis=void 0;var pl4=w40();Object.defineProperty(L51,"_globalThis",{enumerable:!0,get:function(){return pl4._globalThis}})});var M40=B((C51)=>{Object.defineProperty(C51,"__esModule",{value:!0});C51._globalThis=void 0;var il4=A40();Object.defineProperty(C51,"_globalThis",{enumerable:!0,get:function(){return il4._globalThis}})});var L40=B((N40)=>{Object.defineProperty(N40,"__esModule",{value:!0});N40.API_BACKWARDS_COMPATIBILITY_VERSION=N40.makeGetter=N40._global=N40.GLOBAL_LOGS_API_KEY=void 0;var sl4=M40();N40.GLOBAL_LOGS_API_KEY=Symbol.for("io.opentelemetry.js.api.logs");N40._global=sl4._globalThis;function al4(J,Z,X){return(Y)=>Y===J?Z:X}N40.makeGetter=al4;N40.API_BACKWARDS_COMPATIBILITY_VERSION=1});var E40=B((j40)=>{Object.defineProperty(j40,"__esModule",{value:!0});j40.LogsAPI=void 0;var TZ=L40(),Jp4=z_(),C40=P51();class j51{constructor(){this._proxyLoggerProvider=new C40.ProxyLoggerProvider}static getInstance(){if(!this._instance)this._instance=new j51;return this._instance}setGlobalLoggerProvider(J){if(TZ._global[TZ.GLOBAL_LOGS_API_KEY])return this.getLoggerProvider();return TZ._global[TZ.GLOBAL_LOGS_API_KEY]=(0,TZ.makeGetter)(TZ.API_BACKWARDS_COMPATIBILITY_VERSION,J,Jp4.NOOP_LOGGER_PROVIDER),this._proxyLoggerProvider.setDelegate(J),J}getLoggerProvider(){var J,Z;return(Z=(J=TZ._global[TZ.GLOBAL_LOGS_API_KEY])===null||J===void 0?void 0:J.call(TZ._global,TZ.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&Z!==void 0?Z:this._proxyLoggerProvider}getLogger(J,Z,X){return this.getLoggerProvider().getLogger(J,Z,X)}disable(){delete TZ._global[TZ.GLOBAL_LOGS_API_KEY],this._proxyLoggerProvider=new C40.ProxyLoggerProvider}}j40.LogsAPI=j51});var R51=B((cQ)=>{Object.defineProperty(cQ,"__esModule",{value:!0});cQ.logs=cQ.ProxyLoggerProvider=cQ.ProxyLogger=cQ.NoopLoggerProvider=cQ.NOOP_LOGGER_PROVIDER=cQ.NoopLogger=cQ.NOOP_LOGGER=cQ.SeverityNumber=void 0;var Zp4=W40();Object.defineProperty(cQ,"SeverityNumber",{enumerable:!0,get:function(){return Zp4.SeverityNumber}});var S40=$_();Object.defineProperty(cQ,"NOOP_LOGGER",{enumerable:!0,get:function(){return S40.NOOP_LOGGER}});Object.defineProperty(cQ,"NoopLogger",{enumerable:!0,get:function(){return S40.NoopLogger}});var T40=z_();Object.defineProperty(cQ,"NOOP_LOGGER_PROVIDER",{enumerable:!0,get:function(){return T40.NOOP_LOGGER_PROVIDER}});Object.defineProperty(cQ,"NoopLoggerProvider",{enumerable:!0,get:function(){return T40.NoopLoggerProvider}});var Xp4=N51();Object.defineProperty(cQ,"ProxyLogger",{enumerable:!0,get:function(){return Xp4.ProxyLogger}});var Yp4=P51();Object.defineProperty(cQ,"ProxyLoggerProvider",{enumerable:!0,get:function(){return Yp4.ProxyLoggerProvider}});var $p4=E40();cQ.logs=$p4.LogsAPI.getInstance()});var h40=B((k40)=>{Object.defineProperty(k40,"__esModule",{value:!0});k40.disableInstrumentations=k40.enableInstrumentations=void 0;function zp4(J,Z,X,Y){for(let $=0,z=J.length;$<z;$++){let W=J[$];if(Z)W.setTracerProvider(Z);if(X)W.setMeterProvider(X);if(Y&&W.setLoggerProvider)W.setLoggerProvider(Y);if(!W.getConfig().enabled)W.enable()}}k40.enableInstrumentations=zp4;function Wp4(J){J.forEach((Z)=>Z.disable())}k40.disableInstrumentations=Wp4});var g40=B((v40)=>{Object.defineProperty(v40,"__esModule",{value:!0});v40.registerInstrumentations=void 0;var _40=C(),Gp4=R51(),y40=h40();function Kp4(J){let Z=J.tracerProvider||_40.trace.getTracerProvider(),X=J.meterProvider||_40.metrics.getMeterProvider(),Y=J.loggerProvider||Gp4.logs.getLoggerProvider(),$=J.instrumentations?.flat()??[];return(0,y40.enableInstrumentations)($,Z,X,Y),()=>{(0,y40.disableInstrumentations)($)}}v40.registerInstrumentations=Kp4});var a40=B((o40)=>{Object.defineProperty(o40,"__esModule",{value:!0});o40.satisfies=void 0;var f51=C(),l40=/^(?:v)?(?<version>(?<major>0|[1-9]\d*)\.(?<minor>0|[1-9]\d*)\.(?<patch>0|[1-9]\d*))(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,qp4=/^(?<op><|>|=|==|<=|>=|~|\^|~>)?\s*(?:v)?(?<version>(?<major>x|X|\*|0|[1-9]\d*)(?:\.(?<minor>x|X|\*|0|[1-9]\d*))?(?:\.(?<patch>x|X|\*|0|[1-9]\d*))?)(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,Bp4={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]};function Hp4(J,Z,X){if(!Fp4(J))return f51.diag.error(`Invalid version: ${J}`),!1;if(!Z)return!0;Z=Z.replace(/([<>=~^]+)\s+/g,"$1");let Y=Vp4(J);if(!Y)return!1;let $=[],z=p40(Y,Z,$,X);if(z&&!X?.includePrerelease)return Op4(Y,$);return z}o40.satisfies=Hp4;function Fp4(J){return typeof J==="string"&&l40.test(J)}function p40(J,Z,X,Y){if(Z.includes("||")){let $=Z.trim().split("||");for(let z of $)if(E51(J,z,X,Y))return!0;return!1}else if(Z.includes(" - "))Z=xp4(Z,Y);else if(Z.includes(" ")){let $=Z.trim().replace(/\s{2,}/g," ").split(" ");for(let z of $)if(!E51(J,z,X,Y))return!1;return!0}return E51(J,Z,X,Y)}function E51(J,Z,X,Y){if(Z=Dp4(Z,Y),Z.includes(" "))return p40(J,Z,X,Y);else{let $=Ip4(Z);return X.push($),Up4(J,$)}}function Up4(J,Z){if(Z.invalid)return!1;if(!Z.version||T51(Z.version))return!0;let X=u40(J.versionSegments||[],Z.versionSegments||[]);if(X===0){let Y=J.prereleaseSegments||[],$=Z.prereleaseSegments||[];if(!Y.length&&!$.length)X=0;else if(!Y.length&&$.length)X=1;else if(Y.length&&!$.length)X=-1;else X=u40(Y,$)}return Bp4[Z.op]?.includes(X)}function Op4(J,Z){if(J.prerelease)return Z.some((X)=>X.prerelease&&X.version===J.version);return!0}function Dp4(J,Z){return J=J.trim(),J=yp4(J,Z),J=_p4(J),J=vp4(J,Z),J=J.trim(),J}function B7(J){return!J||J.toLowerCase()==="x"||J==="*"}function Vp4(J){let Z=J.match(l40);if(!Z){f51.diag.error(`Invalid version: ${J}`);return}let X=Z.groups.version,Y=Z.groups.prerelease,$=Z.groups.build,z=X.split("."),W=Y?.split(".");return{op:void 0,version:X,versionSegments:z,versionSegmentCount:z.length,prerelease:Y,prereleaseSegments:W,prereleaseSegmentCount:W?W.length:0,build:$}}function Ip4(J){if(!J)return{};let Z=J.match(qp4);if(!Z)return f51.diag.error(`Invalid range: ${J}`),{invalid:!0};let X=Z.groups.op,Y=Z.groups.version,$=Z.groups.prerelease,z=Z.groups.build,W=Y.split("."),Q=$?.split(".");if(X==="==")X="=";return{op:X||"=",version:Y,versionSegments:W,versionSegmentCount:W.length,prerelease:$,prereleaseSegments:Q,prereleaseSegmentCount:Q?Q.length:0,build:z}}function T51(J){return J==="*"||J==="x"||J==="X"}function d40(J){let Z=parseInt(J,10);return isNaN(Z)?J:Z}function wp4(J,Z){if(typeof J===typeof Z)if(typeof J==="number")return[J,Z];else if(typeof J==="string")return[J,Z];else throw new Error("Version segments can only be strings or numbers");else return[String(J),String(Z)]}function Ap4(J,Z){if(T51(J)||T51(Z))return 0;let[X,Y]=wp4(d40(J),d40(Z));if(X>Y)return 1;else if(X<Y)return-1;return 0}function u40(J,Z){for(let X=0;X<Math.max(J.length,Z.length);X++){let Y=Ap4(J[X]||"0",Z[X]||"0");if(Y!==0)return Y}return 0}var n40="[a-zA-Z0-9-]",i40="0|[1-9]\\d*",Mp4=`\\d*[a-zA-Z-]${n40}*`,Np4="((?:<|>)?=?)",m40=`(?:${i40}|${Mp4})`,Pp4=`(?:-(${m40}(?:\\.${m40})*))`,c40=`${n40}+`,Lp4=`(?:\\+(${c40}(?:\\.${c40})*))`,S51=`${i40}|x|X|\\*`,LL=`[v=\\s]*(${S51})(?:\\.(${S51})(?:\\.(${S51})(?:${Pp4})?${Lp4}?)?)?`,Cp4=`^${Np4}\\s*${LL}$`,jp4=new RegExp(Cp4),Rp4=`^\\s*(${LL})\\s+-\\s+(${LL})\\s*$`,Ep4=new RegExp(Rp4),Sp4="(?:~>?)",Tp4=`^${Sp4}${LL}$`,fp4=new RegExp(Tp4),kp4="(?:\\^)",bp4=`^${kp4}${LL}$`,hp4=new RegExp(bp4);function _p4(J){let Z=fp4;return J.replace(Z,(X,Y,$,z,W)=>{let Q;if(B7(Y))Q="";else if(B7($))Q=`>=${Y}.0.0 <${+Y+1}.0.0-0`;else if(B7(z))Q=`>=${Y}.${$}.0 <${Y}.${+$+1}.0-0`;else if(W)Q=`>=${Y}.${$}.${z}-${W} <${Y}.${+$+1}.0-0`;else Q=`>=${Y}.${$}.${z} <${Y}.${+$+1}.0-0`;return Q})}function yp4(J,Z){let X=hp4,Y=Z?.includePrerelease?"-0":"";return J.replace(X,($,z,W,Q,G)=>{let K;if(B7(z))K="";else if(B7(W))K=`>=${z}.0.0${Y} <${+z+1}.0.0-0`;else if(B7(Q))if(z==="0")K=`>=${z}.${W}.0${Y} <${z}.${+W+1}.0-0`;else K=`>=${z}.${W}.0${Y} <${+z+1}.0.0-0`;else if(G)if(z==="0")if(W==="0")K=`>=${z}.${W}.${Q}-${G} <${z}.${W}.${+Q+1}-0`;else K=`>=${z}.${W}.${Q}-${G} <${z}.${+W+1}.0-0`;else K=`>=${z}.${W}.${Q}-${G} <${+z+1}.0.0-0`;else if(z==="0")if(W==="0")K=`>=${z}.${W}.${Q}${Y} <${z}.${W}.${+Q+1}-0`;else K=`>=${z}.${W}.${Q}${Y} <${z}.${+W+1}.0-0`;else K=`>=${z}.${W}.${Q} <${+z+1}.0.0-0`;return K})}function vp4(J,Z){let X=jp4;return J.replace(X,(Y,$,z,W,Q,G)=>{let K=B7(z),q=K||B7(W),H=q||B7(Q),F=H;if($==="="&&F)$="";if(G=Z?.includePrerelease?"-0":"",K)if($===">"||$==="<")Y="<0.0.0-0";else Y="*";else if($&&F){if(q)W=0;if(Q=0,$===">")if($=">=",q)z=+z+1,W=0,Q=0;else W=+W+1,Q=0;else if($==="<=")if($="<",q)z=+z+1;else W=+W+1;if($==="<")G="-0";Y=`${$+z}.${W}.${Q}${G}`}else if(q)Y=`>=${z}.0.0${G} <${+z+1}.0.0-0`;else if(H)Y=`>=${z}.${W}.0${G} <${z}.${+W+1}.0-0`;return Y})}function xp4(J,Z){let X=Ep4;return J.replace(X,(Y,$,z,W,Q,G,K,q,H,F,U,D)=>{if(B7(z))$="";else if(B7(W))$=`>=${z}.0.0${Z?.includePrerelease?"-0":""}`;else if(B7(Q))$=`>=${z}.${W}.0${Z?.includePrerelease?"-0":""}`;else if(G)$=`>=${$}`;else $=`>=${$}${Z?.includePrerelease?"-0":""}`;if(B7(H))q="";else if(B7(F))q=`<${+H+1}.0.0-0`;else if(B7(U))q=`<${H}.${+F+1}.0-0`;else if(D)q=`<=${H}.${F}.${U}-${D}`;else if(Z?.includePrerelease)q=`<${H}.${F}.${+U+1}-0`;else q=`<=${q}`;return`${$} ${q}`.trim()})}});var b51=B((lQ9,e40)=>{function k51(J){return typeof J==="function"}var H7=console.error.bind(console);function CL(J,Z,X){var Y=!!J[Z]&&J.propertyIsEnumerable(Z);Object.defineProperty(J,Z,{configurable:!0,enumerable:Y,writable:!0,value:X})}function jL(J){if(J&&J.logger)if(!k51(J.logger))H7("new logger isn't a function, not replacing");else H7=J.logger}function r40(J,Z,X){if(!J||!J[Z]){H7("no original function "+Z+" to wrap");return}if(!X){H7("no wrapper function"),H7(new Error().stack);return}if(!k51(J[Z])||!k51(X)){H7("original object and wrapper must be functions");return}var Y=J[Z],$=X(Y,Z);return CL($,"__original",Y),CL($,"__unwrap",function(){if(J[Z]===$)CL(J,Z,Y)}),CL($,"__wrapped",!0),CL(J,Z,$),$}function gp4(J,Z,X){if(!J){H7("must provide one or more modules to patch"),H7(new Error().stack);return}else if(!Array.isArray(J))J=[J];if(!(Z&&Array.isArray(Z))){H7("must provide one or more functions to wrap on modules");return}J.forEach(function(Y){Z.forEach(function($){r40(Y,$,X)})})}function t40(J,Z){if(!J||!J[Z]){H7("no function to unwrap."),H7(new Error().stack);return}if(!J[Z].__unwrap)H7("no original to unwrap to -- has "+Z+" already been unwrapped?");else return J[Z].__unwrap()}function dp4(J,Z){if(!J){H7("must provide one or more modules to patch"),H7(new Error().stack);return}else if(!Array.isArray(J))J=[J];if(!(Z&&Array.isArray(Z))){H7("must provide one or more functions to unwrap on modules");return}J.forEach(function(X){Z.forEach(function(Y){t40(X,Y)})})}jL.wrap=r40;jL.massWrap=gp4;jL.unwrap=t40;jL.massUnwrap=dp4;e40.exports=jL});var Y80=B((Z80)=>{Object.defineProperty(Z80,"__esModule",{value:!0});Z80.InstrumentationAbstract=void 0;var h51=C(),up4=R51(),W_=b51();class J80{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(J,Z,X){this.instrumentationName=J,this.instrumentationVersion=Z,this.setConfig(X),this._diag=h51.diag.createComponentLogger({namespace:J}),this._tracer=h51.trace.getTracer(J,Z),this._meter=h51.metrics.getMeter(J,Z),this._logger=up4.logs.getLogger(J,Z),this._updateMetricInstruments()}_wrap=W_.wrap;_unwrap=W_.unwrap;_massWrap=W_.massWrap;_massUnwrap=W_.massUnwrap;get meter(){return this._meter}setMeterProvider(J){this._meter=J.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(J){this._logger=J.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){let J=this.init()??[];if(!Array.isArray(J))return[J];return J}_updateMetricInstruments(){return}getConfig(){return this._config}setConfig(J){this._config={enabled:!0,...J}}setTracerProvider(J){this._tracer=J.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(J,Z,X,Y){if(!J)return;try{J(X,Y)}catch($){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:Z},$)}}}Z80.InstrumentationAbstract=J80});var y51=B((nQ9,$80)=>{var _51=p("path").sep;$80.exports=function(J){var Z=J.split(_51),X=Z.lastIndexOf("node_modules");if(X===-1)return;if(!Z[X+1])return;var Y=Z[X+1][0]==="@",$=Y?Z[X+1]+"/"+Z[X+2]:Z[X+1],z=Y?3:2,W="",Q=X+z-1;for(var G=0;G<=Q;G++)if(G===Q)W+=Z[G];else W+=Z[G]+_51;var K="",q=Z.length-1;for(var H=X+z;H<=q;H++)if(H===q)K+=Z[H];else K+=Z[H]+_51;return{name:$,basedir:W,path:K}}});var v51=B((iQ9,z80)=>{var mp4=p("os");z80.exports=mp4.homedir||function J(){var Z=process.env.HOME,X=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;if(process.platform==="win32")return process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||Z||null;if(process.platform==="darwin")return Z||(X?"/Users/"+X:null);if(process.platform==="linux")return Z||(process.getuid()===0?"/root":X?"/home/"+X:null);return Z||null}});var x51=B((oQ9,W80)=>{W80.exports=function(){var J=Error.prepareStackTrace;Error.prepareStackTrace=function(X,Y){return Y};var Z=new Error().stack;return Error.prepareStackTrace=J,Z[2].getFileName()}});var Q80=B((sQ9,RL)=>{var cp4=process.platform==="win32",lp4=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,g51={};function pp4(J){return lp4.exec(J).slice(1)}g51.parse=function(J){if(typeof J!=="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof J);var Z=pp4(J);if(!Z||Z.length!==5)throw new TypeError("Invalid path '"+J+"'");return{root:Z[1],dir:Z[0]===Z[1]?Z[0]:Z[0].slice(0,-1),base:Z[2],ext:Z[4],name:Z[3]}};var np4=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,d51={};function ip4(J){return np4.exec(J).slice(1)}d51.parse=function(J){if(typeof J!=="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof J);var Z=ip4(J);if(!Z||Z.length!==5)throw new TypeError("Invalid path '"+J+"'");return{root:Z[1],dir:Z[0].slice(0,-1),base:Z[2],ext:Z[4],name:Z[3]}};if(cp4)RL.exports=g51.parse;else RL.exports=d51.parse;RL.exports.posix=d51.parse;RL.exports.win32=g51.parse});var u51=B((aQ9,B80)=>{var q80=p("path"),G80=q80.parse||Q80(),K80=function J(Z,X){var Y="/";if(/^([A-Za-z]:)/.test(Z))Y="";else if(/^\\\\/.test(Z))Y="\\\\";var $=[Z],z=G80(Z);while(z.dir!==$[$.length-1])$.push(z.dir),z=G80(z.dir);return $.reduce(function(W,Q){return W.concat(X.map(function(G){return q80.resolve(Y,Q,G)}))},[])};B80.exports=function J(Z,X,Y){var $=X&&X.moduleDirectory?[].concat(X.moduleDirectory):["node_modules"];if(X&&typeof X.paths==="function")return X.paths(Y,Z,function(){return K80(Z,$)},X);var z=K80(Z,$);return X&&X.paths?z.concat(X.paths):z}});var m51=B((rQ9,H80)=>{H80.exports=function(J,Z){return Z||{}}});var O80=B((tQ9,U80)=>{var op4="Function.prototype.bind called on incompatible ",sp4=Object.prototype.toString,ap4=Math.max,rp4="[object Function]",F80=function J(Z,X){var Y=[];for(var $=0;$<Z.length;$+=1)Y[$]=Z[$];for(var z=0;z<X.length;z+=1)Y[z+Z.length]=X[z];return Y},tp4=function J(Z,X){var Y=[];for(var $=X||0,z=0;$<Z.length;$+=1,z+=1)Y[z]=Z[$];return Y},ep4=function(J,Z){var X="";for(var Y=0;Y<J.length;Y+=1)if(X+=J[Y],Y+1<J.length)X+=Z;return X};U80.exports=function J(Z){var X=this;if(typeof X!=="function"||sp4.apply(X)!==rp4)throw new TypeError(op4+X);var Y=tp4(arguments,1),$,z=function(){if(this instanceof $){var q=X.apply(this,F80(Y,arguments));if(Object(q)===q)return q;return this}return X.apply(Z,F80(Y,arguments))},W=ap4(0,X.length-Y.length),Q=[];for(var G=0;G<W;G++)Q[G]="$"+G;if($=Function("binder","return function ("+ep4(Q,",")+"){ return binder.apply(this,arguments); }")(z),X.prototype){var K=function q(){};K.prototype=X.prototype,$.prototype=new K,K.prototype=null}return $}});var V80=B((eQ9,D80)=>{var Jn4=O80();D80.exports=Function.prototype.bind||Jn4});var w80=B((JG9,I80)=>{var Zn4=Function.prototype.call,Xn4=Object.prototype.hasOwnProperty,Yn4=V80();I80.exports=Yn4.call(Zn4,Xn4)});var A80=B((ZG9,$n4)=>{$n4.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3","node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var EL=B((XG9,P80)=>{var zn4=w80();function Wn4(J,Z){var X=J.split("."),Y=Z.split(" "),$=Y.length>1?Y[0]:"=",z=(Y.length>1?Y[1]:Y[0]).split(".");for(var W=0;W<3;++W){var Q=parseInt(X[W]||0,10),G=parseInt(z[W]||0,10);if(Q===G)continue;if($==="<")return Q<G;if($===">=")return Q>=G;return!1}return $===">="}function M80(J,Z){var X=Z.split(/ ?&& ?/);if(X.length===0)return!1;for(var Y=0;Y<X.length;++Y)if(!Wn4(J,X[Y]))return!1;return!0}function Qn4(J,Z){if(typeof Z==="boolean")return Z;var X=typeof J==="undefined"?process.versions&&process.versions.node:J;if(typeof X!=="string")throw new TypeError(typeof J==="undefined"?"Unable to determine current node version":"If provided, a valid node version is required");if(Z&&typeof Z==="object"){for(var Y=0;Y<Z.length;++Y)if(M80(X,Z[Y]))return!0;return!1}return M80(X,Z)}var N80=A80();P80.exports=function J(Z,X){return zn4(N80,Z)&&Qn4(X,N80[Z])}});var j80=B((YG9,C80)=>{var yF=p("fs"),Gn4=v51(),V5=p("path"),Kn4=x51(),qn4=u51(),Bn4=m51(),Hn4=EL(),Fn4=process.platform!=="win32"&&yF.realpath&&typeof yF.realpath.native==="function"?yF.realpath.native:yF.realpath,L80=Gn4(),Un4=function(){return[V5.join(L80,".node_modules"),V5.join(L80,".node_libraries")]},On4=function J(Z,X){yF.stat(Z,function(Y,$){if(!Y)return X(null,$.isFile()||$.isFIFO());if(Y.code==="ENOENT"||Y.code==="ENOTDIR")return X(null,!1);return X(Y)})},Dn4=function J(Z,X){yF.stat(Z,function(Y,$){if(!Y)return X(null,$.isDirectory());if(Y.code==="ENOENT"||Y.code==="ENOTDIR")return X(null,!1);return X(Y)})},Vn4=function J(Z,X){Fn4(Z,function(Y,$){if(Y&&Y.code!=="ENOENT")X(Y);else X(null,Y?Z:$)})},SL=function J(Z,X,Y,$){if(Y&&Y.preserveSymlinks===!1)Z(X,$);else $(null,X)},In4=function J(Z,X,Y){Z(X,function($,z){if($)Y($);else try{var W=JSON.parse(z);Y(null,W)}catch(Q){Y(null)}})},wn4=function J(Z,X,Y){var $=qn4(X,Y,Z);for(var z=0;z<$.length;z++)$[z]=V5.join($[z],Z);return $};C80.exports=function J(Z,X,Y){var $=Y,z=X;if(typeof X==="function")$=z,z={};if(typeof Z!=="string"){var W=new TypeError("Path must be a string.");return process.nextTick(function(){$(W)})}z=Bn4(Z,z);var Q=z.isFile||On4,G=z.isDirectory||Dn4,K=z.readFile||yF.readFile,q=z.realpath||Vn4,H=z.readPackage||In4;if(z.readFile&&z.readPackage){var F=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){$(F)})}var U=z.packageIterator,D=z.extensions||[".js"],V=z.includeCoreModules!==!1,w=z.basedir||V5.dirname(Kn4()),M=z.filename||w;z.paths=z.paths||Un4();var P=V5.resolve(w);SL(q,P,z,function(u,G1){if(u)$(u);else f(G1)});var R;function f(u){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(Z)){if(R=V5.resolve(u,Z),Z==="."||Z===".."||Z.slice(-1)==="/")R+="/";if(/\/$/.test(Z)&&R===u)o(R,z.package,d);else v(R,z.package,d)}else if(V&&Hn4(Z))return $(null,Z);else i(Z,u,function(G1,e,_){if(G1)$(G1);else if(e)return SL(q,e,z,function(V1,N1){if(V1)$(V1);else $(null,N1,_)});else{var Z1=new Error("Cannot find module '"+Z+"' from '"+M+"'");Z1.code="MODULE_NOT_FOUND",$(Z1)}})}function d(u,G1,e){if(u)$(u);else if(G1)$(null,G1,e);else o(R,function(_,Z1,V1){if(_)$(_);else if(Z1)SL(q,Z1,z,function(m1,h1){if(m1)$(m1);else $(null,h1,V1)});else{var N1=new Error("Cannot find module '"+Z+"' from '"+M+"'");N1.code="MODULE_NOT_FOUND",$(N1)}})}function v(u,G1,e){var _=G1,Z1=e;if(typeof _==="function")Z1=_,_=void 0;var V1=[""].concat(D);N1(V1,u,_);function N1(m1,h1,X0){if(m1.length===0)return Z1(null,void 0,X0);var z0=h1+m1[0],Y1=X0;if(Y1)a(null,Y1);else l(V5.dirname(z0),a);function a(I1,r1,Y0){if(Y1=r1,I1)return Z1(I1);if(Y0&&Y1&&z.pathFilter){var H0=V5.relative(Y0,z0),k=H0.slice(0,H0.length-m1[0].length),b=z.pathFilter(Y1,h1,k);if(b)return N1([""].concat(D.slice()),V5.resolve(Y0,b),Y1)}Q(z0,w1)}function w1(I1,r1){if(I1)return Z1(I1);if(r1)return Z1(null,z0,Y1);N1(m1.slice(1),h1,Y1)}}}function l(u,G1){if(u===""||u==="/")return G1(null);if(process.platform==="win32"&&/^\w:[/\\]*$/.test(u))return G1(null);if(/[/\\]node_modules[/\\]*$/.test(u))return G1(null);SL(q,u,z,function(e,_){if(e)return l(V5.dirname(u),G1);var Z1=V5.join(_,"package.json");Q(Z1,function(V1,N1){if(!N1)return l(V5.dirname(u),G1);H(K,Z1,function(m1,h1){if(m1)G1(m1);var X0=h1;if(X0&&z.packageFilter)X0=z.packageFilter(X0,Z1);G1(null,X0,u)})})})}function o(u,G1,e){var _=e,Z1=G1;if(typeof Z1==="function")_=Z1,Z1=z.package;SL(q,u,z,function(V1,N1){if(V1)return _(V1);var m1=V5.join(N1,"package.json");Q(m1,function(h1,X0){if(h1)return _(h1);if(!X0)return v(V5.join(u,"index"),Z1,_);H(K,m1,function(z0,Y1){if(z0)return _(z0);var a=Y1;if(a&&z.packageFilter)a=z.packageFilter(a,m1);if(a&&a.main){if(typeof a.main!=="string"){var w1=new TypeError("package \u201C"+a.name+"\u201D `main` must be a string");return w1.code="INVALID_PACKAGE_MAIN",_(w1)}if(a.main==="."||a.main==="./")a.main="index";v(V5.resolve(u,a.main),a,function(I1,r1,Y0){if(I1)return _(I1);if(r1)return _(null,r1,Y0);if(!Y0)return v(V5.join(u,"index"),Y0,_);var H0=V5.resolve(u,Y0.main);o(H0,Y0,function(k,b,A){if(k)return _(k);if(b)return _(null,b,A);v(V5.join(u,"index"),A,_)})});return}v(V5.join(u,"/index"),a,_)})})})}function S(u,G1){if(G1.length===0)return u(null,void 0);var e=G1[0];G(V5.dirname(e),_);function _(N1,m1){if(N1)return u(N1);if(!m1)return S(u,G1.slice(1));v(e,z.package,Z1)}function Z1(N1,m1,h1){if(N1)return u(N1);if(m1)return u(null,m1,h1);o(e,z.package,V1)}function V1(N1,m1,h1){if(N1)return u(N1);if(m1)return u(null,m1,h1);S(u,G1.slice(1))}}function i(u,G1,e){var _=function(){return wn4(u,G1,z)};S(e,U?U(u,G1,_,z):_())}}});var R80=B(($G9,An4)=>{An4.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3","node:sqlite":">= 23.4",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var f80=B((zG9,T80)=>{var Mn4=EL(),E80=R80(),S80={};for(TL in E80)if(Object.prototype.hasOwnProperty.call(E80,TL))S80[TL]=Mn4(TL);var TL;T80.exports=S80});var b80=B((WG9,k80)=>{var Nn4=EL();k80.exports=function J(Z){return Nn4(Z)}});var y80=B((QG9,_80)=>{var Pn4=EL(),vF=p("fs"),d9=p("path"),Ln4=v51(),Cn4=x51(),jn4=u51(),Rn4=m51(),En4=process.platform!=="win32"&&vF.realpathSync&&typeof vF.realpathSync.native==="function"?vF.realpathSync.native:vF.realpathSync,h80=Ln4(),Sn4=function(){return[d9.join(h80,".node_modules"),d9.join(h80,".node_libraries")]},Tn4=function J(Z){try{var X=vF.statSync(Z,{throwIfNoEntry:!1})}catch(Y){if(Y&&(Y.code==="ENOENT"||Y.code==="ENOTDIR"))return!1;throw Y}return!!X&&(X.isFile()||X.isFIFO())},fn4=function J(Z){try{var X=vF.statSync(Z,{throwIfNoEntry:!1})}catch(Y){if(Y&&(Y.code==="ENOENT"||Y.code==="ENOTDIR"))return!1;throw Y}return!!X&&X.isDirectory()},kn4=function J(Z){try{return En4(Z)}catch(X){if(X.code!=="ENOENT")throw X}return Z},fL=function J(Z,X,Y){if(Y&&Y.preserveSymlinks===!1)return Z(X);return X},bn4=function J(Z,X){var Y=Z(X);try{var $=JSON.parse(Y);return $}catch(z){}},hn4=function J(Z,X,Y){var $=jn4(X,Y,Z);for(var z=0;z<$.length;z++)$[z]=d9.join($[z],Z);return $};_80.exports=function J(Z,X){if(typeof Z!=="string")throw new TypeError("Path must be a string.");var Y=Rn4(Z,X),$=Y.isFile||Tn4,z=Y.readFileSync||vF.readFileSync,W=Y.isDirectory||fn4,Q=Y.realpathSync||kn4,G=Y.readPackageSync||bn4;if(Y.readFileSync&&Y.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var K=Y.packageIterator,q=Y.extensions||[".js"],H=Y.includeCoreModules!==!1,F=Y.basedir||d9.dirname(Cn4()),U=Y.filename||F;Y.paths=Y.paths||Sn4();var D=fL(Q,d9.resolve(F),Y);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(Z)){var V=d9.resolve(D,Z);if(Z==="."||Z===".."||Z.slice(-1)==="/")V+="/";var w=R(V)||d(V);if(w)return fL(Q,w,Y)}else if(H&&Pn4(Z))return Z;else{var M=v(Z,D);if(M)return fL(Q,M,Y)}var P=new Error("Cannot find module '"+Z+"' from '"+U+"'");throw P.code="MODULE_NOT_FOUND",P;function R(l){var o=f(d9.dirname(l));if(o&&o.dir&&o.pkg&&Y.pathFilter){var S=d9.relative(o.dir,l),i=Y.pathFilter(o.pkg,l,S);if(i)l=d9.resolve(o.dir,i)}if($(l))return l;for(var u=0;u<q.length;u++){var G1=l+q[u];if($(G1))return G1}}function f(l){if(l===""||l==="/")return;if(process.platform==="win32"&&/^\w:[/\\]*$/.test(l))return;if(/[/\\]node_modules[/\\]*$/.test(l))return;var o=d9.join(fL(Q,l,Y),"package.json");if(!$(o))return f(d9.dirname(l));var S=G(z,o);if(S&&Y.packageFilter)S=Y.packageFilter(S,l);return{pkg:S,dir:l}}function d(l){var o=d9.join(fL(Q,l,Y),"/package.json");if($(o)){try{var S=G(z,o)}catch(e){}if(S&&Y.packageFilter)S=Y.packageFilter(S,l);if(S&&S.main){if(typeof S.main!=="string"){var i=new TypeError("package \u201C"+S.name+"\u201D `main` must be a string");throw i.code="INVALID_PACKAGE_MAIN",i}if(S.main==="."||S.main==="./")S.main="index";try{var u=R(d9.resolve(l,S.main));if(u)return u;var G1=d(d9.resolve(l,S.main));if(G1)return G1}catch(e){}}}return R(d9.join(l,"/index"))}function v(l,o){var S=function(){return hn4(l,o,Y)},i=K?K(l,o,S,Y):S();for(var u=0;u<i.length;u++){var G1=i[u];if(W(d9.dirname(G1))){var e=R(G1);if(e)return e;var _=d(G1);if(_)return _}}}}});var c51=B((GG9,v80)=>{var Q_=j80();Q_.core=f80();Q_.isCore=b80();Q_.sync=y80();v80.exports=Q_});var x80=B((KG9,_n4)=>{_n4.exports={name:"require-in-the-middle",version:"7.5.2",description:"Module to hook into the Node.js require function",main:"index.js",types:"types/index.d.ts",dependencies:{debug:"^4.3.5","module-details-from-path":"^1.0.3",resolve:"^1.22.8"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/nodejs/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:["types"],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/nodejs/require-in-the-middle/issues"},homepage:"https://github.com/nodejs/require-in-the-middle#readme",engines:{node:">=8.6.0"}}});var i51=B((qG9,n51)=>{var sI=p("path"),RY=p("module"),$5=p51()("require-in-the-middle"),yn4=y51();n51.exports=kL;n51.exports.Hook=kL;var l51,oI;if(RY.isBuiltin)oI=RY.isBuiltin;else if(RY.builtinModules)oI=(J)=>{if(J.startsWith("node:"))return!0;if(l51===void 0)l51=new Set(RY.builtinModules);return l51.has(J)};else{let J=c51(),[Z,X]=process.versions.node.split(".").map(Number);if(Z===8&&X<8)oI=(Y)=>{if(Y==="http2")return!0;return!!J.core[Y]};else oI=(Y)=>{return!!J.core[Y]}}var G_;function vn4(J,Z){if(!G_)if(p.resolve&&p.resolve.paths)G_=function(X,Y){return p.resolve(X,{paths:[Y]})};else{let X=c51();G_=function(Y,$){return X.sync(Y,{basedir:$})}}return G_(J,Z)}var xn4=/([/\\]index)?(\.js)?$/;class g80{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(J,Z){if(this._localCache.has(J))return!0;else if(!Z){let X=p.cache[J];return!!(X&&(this._kRitmExports in X))}else return!1}get(J,Z){let X=this._localCache.get(J);if(X!==void 0)return X;else if(!Z){let Y=p.cache[J];return Y&&Y[this._kRitmExports]}}set(J,Z,X){if(X)this._localCache.set(J,Z);else if(J in p.cache)p.cache[J][this._kRitmExports]=Z;else $5('non-core module is unexpectedly not in require.cache: "%s"',J),this._localCache.set(J,Z)}}function kL(J,Z,X){if(this instanceof kL===!1)return new kL(J,Z,X);if(typeof J==="function")X=J,J=null,Z=null;else if(typeof Z==="function")X=Z,Z=null;if(typeof RY._resolveFilename!=="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof RY._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,x80().bugs.url);return}this._cache=new g80,this._unhooked=!1,this._origRequire=RY.prototype.require;let Y=this,$=new Set,z=Z?Z.internals===!0:!1,W=Array.isArray(J);if($5("registering require hook"),this._require=RY.prototype.require=function(G){if(Y._unhooked===!0)return $5("ignoring require call - module is soft-unhooked"),Y._origRequire.apply(this,arguments);return Q.call(this,arguments,!1)},typeof process.getBuiltinModule==="function")this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(G){if(Y._unhooked===!0)return $5("ignoring process.getBuiltinModule call - module is soft-unhooked"),Y._origGetBuiltinModule.apply(this,arguments);return Q.call(this,arguments,!0)};function Q(G,K){let q=G[0],H=oI(q),F;if(H){if(F=q,q.startsWith("node:")){let P=q.slice(5);if(oI(P))F=P}}else if(K)return $5("call to process.getBuiltinModule with unknown built-in id"),Y._origGetBuiltinModule.apply(this,G);else try{F=RY._resolveFilename(q,this)}catch(P){return $5('Module._resolveFilename("%s") threw %j, calling original Module.require',q,P.message),Y._origRequire.apply(this,G)}let U,D;if($5("processing %s module require('%s'): %s",H===!0?"core":"non-core",q,F),Y._cache.has(F,H)===!0)return $5("returning already patched cached module: %s",F),Y._cache.get(F,H);let V=$.has(F);if(V===!1)$.add(F);let w=K?Y._origGetBuiltinModule.apply(this,G):Y._origRequire.apply(this,G);if(V===!0)return $5("module is in the process of being patched already - ignoring: %s",F),w;if($.delete(F),H===!0){if(W===!0&&J.includes(F)===!1)return $5("ignoring core module not on whitelist: %s",F),w;U=F}else if(W===!0&&J.includes(F)){let P=sI.parse(F);U=P.name,D=P.dir}else{let P=yn4(F);if(P===void 0)return $5("could not parse filename: %s",F),w;U=P.name,D=P.basedir;let R=gn4(P);$5("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",U,q,R,D);let f=!1;if(W){if(!q.startsWith(".")&&J.includes(q))U=q,f=!0;if(!J.includes(U)&&!J.includes(R))return w;if(J.includes(R)&&R!==U)U=R,f=!0}if(!f){let d;try{d=vn4(U,D)}catch(v){return $5("could not resolve module: %s",U),Y._cache.set(F,w,H),w}if(d!==F)if(z===!0)U=U+sI.sep+sI.relative(D,F),$5("preparing to process require of internal file: %s",U);else return $5("ignoring require of non-main module file: %s",d),Y._cache.set(F,w,H),w}}Y._cache.set(F,w,H),$5("calling require hook: %s",U);let M=X(w,U,D);return Y._cache.set(F,M,H),$5("returning module: %s",U),M}}kL.prototype.unhook=function(){if(this._unhooked=!0,this._require===RY.prototype.require)RY.prototype.require=this._origRequire,$5("require unhook successful");else $5("require unhook unsuccessful");if(process.getBuiltinModule!==void 0)if(this._getBuiltinModule===process.getBuiltinModule)process.getBuiltinModule=this._origGetBuiltinModule,$5("process.getBuiltinModule unhook successful");else $5("process.getBuiltinModule unhook unsuccessful")};function gn4(J){let Z=sI.sep!=="/"?J.path.split(sI.sep).join("/"):J.path;return sI.posix.join(J.name,Z).replace(xn4,"")}});var c80=B((u80)=>{Object.defineProperty(u80,"__esModule",{value:!0});u80.ModuleNameTrie=u80.ModuleNameSeparator=void 0;u80.ModuleNameSeparator="/";class o51{hooks=[];children=new Map}class d80{_trie=new o51;_counter=0;insert(J){let Z=this._trie;for(let X of J.moduleName.split(u80.ModuleNameSeparator)){let Y=Z.children.get(X);if(!Y)Y=new o51,Z.children.set(X,Y);Z=Y}Z.hooks.push({hook:J,insertedId:this._counter++})}search(J,{maintainInsertionOrder:Z,fullOnly:X}={}){let Y=this._trie,$=[],z=!0;for(let W of J.split(u80.ModuleNameSeparator)){let Q=Y.children.get(W);if(!Q){z=!1;break}if(!X)$.push(...Q.hooks);Y=Q}if(X&&z)$.push(...Y.hooks);if($.length===0)return[];if($.length===1)return[$[0].hook];if(Z)$.sort((W,Q)=>W.insertedId-Q.insertedId);return $.map(({hook:W})=>W)}}u80.ModuleNameTrie=d80});var i80=B((p80)=>{Object.defineProperty(p80,"__esModule",{value:!0});p80.RequireInTheMiddleSingleton=void 0;var dn4=i51(),l80=p("path"),a51=c80(),un4=["afterEach","after","beforeEach","before","describe","it"].every((J)=>{return typeof global[J]==="function"});class K_{_moduleNameTrie=new a51.ModuleNameTrie;static _instance;constructor(){this._initialize()}_initialize(){new dn4.Hook(null,{internals:!0},(J,Z,X)=>{let Y=mn4(Z),$=this._moduleNameTrie.search(Y,{maintainInsertionOrder:!0,fullOnly:X===void 0});for(let{onRequire:z}of $)J=z(J,Z,X);return J})}register(J,Z){let X={moduleName:J,onRequire:Z};return this._moduleNameTrie.insert(X),X}static getInstance(){if(un4)return new K_;return this._instance=this._instance??new K_}}p80.RequireInTheMiddleSingleton=K_;function mn4(J){return l80.sep!==a51.ModuleNameSeparator?J.split(l80.sep).join(a51.ModuleNameSeparator):J}});var e80=B((in4)=>{var o80=[],r51=new WeakMap,s80=new WeakMap,a80=new Map,r80=[],cn4={set(J,Z,X){return r51.get(J)[Z](X)},get(J,Z){if(Z===Symbol.toStringTag)return"Module";let X=s80.get(J)[Z];if(typeof X==="function")return X()},defineProperty(J,Z,X){if(!("value"in X))throw new Error("Getters/setters are not supported for exports property descriptors.");return r51.get(J)[Z](X.value)}};function ln4(J,Z,X,Y,$){a80.set(J,$),r51.set(Z,X),s80.set(Z,Y);let z=new Proxy(Z,cn4);o80.forEach((W)=>W(J,z)),r80.push([J,z])}var t80=!1;function pn4(){return t80}function nn4(J){t80=J}in4.register=ln4;in4.importHooks=o80;in4.specifiers=a80;in4.toHook=r80;in4.getExperimentalPatchInternals=pn4;in4.setExperimentalPatchInternals=nn4});var z50=B((OG9,aI)=>{var J50=p("path"),Ji4=y51(),{fileURLToPath:Z50}=p("url"),{MessageChannel:Zi4}=p("worker_threads"),{importHooks:t51,specifiers:Xi4,toHook:Yi4,getExperimentalPatchInternals:$i4}=e80();function Y50(J){t51.push(J),Yi4.forEach(([Z,X])=>J(Z,X))}function $50(J){let Z=t51.indexOf(J);if(Z>-1)t51.splice(Z,1)}function X50(J,Z,X,Y){let $=J(Z,X,Y);if($&&$!==Z)Z.default=$}var e51;function zi4(){let{port1:J,port2:Z}=new Zi4,X=0,Y;e51=(Q)=>{X++,J.postMessage(Q)},J.on("message",()=>{if(X--,Y&&X<=0)Y()}).unref();function $(){let Q=setInterval(()=>{},1000),G=new Promise((K)=>{Y=K}).then(()=>{clearInterval(Q)});if(X===0)Y();return G}let z=Z;return{registerOptions:{data:{addHookMessagePort:z,include:[]},transferList:[z]},addHookMessagePort:z,waitForAllMessagesAcknowledged:$}}function bL(J,Z,X){if(this instanceof bL===!1)return new bL(J,Z,X);if(typeof J==="function")X=J,J=null,Z=null;else if(typeof Z==="function")X=Z,Z=null;let Y=Z?Z.internals===!0:!1;if(e51&&Array.isArray(J))e51(J);this._iitmHook=($,z)=>{let W=$,Q=$.startsWith("node:"),G;if(Q)$=$.replace(/^node:/,"");else{if($.startsWith("file://"))try{$=Z50($)}catch(q){}let K=Ji4($);if(K)$=K.name,G=K.basedir}if(J){for(let K of J)if(K===$){if(G){if(Y)$=$+J50.sep+J50.relative(G,Z50(W));else if(!$i4()&&!G.endsWith(Xi4.get(W)))continue}X50(X,z,$,G)}}else X50(X,z,$,G)},Y50(this._iitmHook)}bL.prototype.unhook=function(){$50(this._iitmHook)};aI.exports=bL;aI.exports.Hook=bL;aI.exports.addHook=Y50;aI.exports.removeHook=$50;aI.exports.createAddHookMessageChannel=zi4});var J91=B((W50)=>{Object.defineProperty(W50,"__esModule",{value:!0});W50.isWrapped=W50.safeExecuteInTheMiddleAsync=W50.safeExecuteInTheMiddle=void 0;function Wi4(J,Z,X){let Y,$;try{$=J()}catch(z){Y=z}finally{if(Z(Y,$),Y&&!X)throw Y;return $}}W50.safeExecuteInTheMiddle=Wi4;async function Qi4(J,Z,X){let Y,$;try{$=await J()}catch(z){Y=z}finally{if(Z(Y,$),Y&&!X)throw Y;return $}}W50.safeExecuteInTheMiddleAsync=Qi4;function Gi4(J){return typeof J==="function"&&typeof J.__original==="function"&&typeof J.__unwrap==="function"&&J.__wrapped===!0}W50.isWrapped=Gi4});var F50=B((B50)=>{Object.defineProperty(B50,"__esModule",{value:!0});B50.InstrumentationBase=void 0;var hL=p("path"),G50=p("util"),Bi4=a40(),Z91=b51(),Hi4=Y80(),Fi4=i80(),Ui4=z50(),_L=C(),Oi4=i51(),Di4=p("fs"),Vi4=J91();class q50 extends Hi4.InstrumentationAbstract{_modules;_hooks=[];_requireInTheMiddleSingleton=Fi4.RequireInTheMiddleSingleton.getInstance();_enabled=!1;constructor(J,Z,X){super(J,Z,X);let Y=this.init();if(Y&&!Array.isArray(Y))Y=[Y];if(this._modules=Y||[],this._config.enabled)this.enable()}_wrap=(J,Z,X)=>{if((0,Vi4.isWrapped)(J[Z]))this._unwrap(J,Z);if(!G50.types.isProxy(J))return(0,Z91.wrap)(J,Z,X);else{let Y=(0,Z91.wrap)(Object.assign({},J),Z,X);return Object.defineProperty(J,Z,{value:Y}),Y}};_unwrap=(J,Z)=>{if(!G50.types.isProxy(J))return(0,Z91.unwrap)(J,Z);else return Object.defineProperty(J,Z,{value:J[Z]})};_massWrap=(J,Z,X)=>{if(!J){_L.diag.error("must provide one or more modules to patch");return}else if(!Array.isArray(J))J=[J];if(!(Z&&Array.isArray(Z))){_L.diag.error("must provide one or more functions to wrap on modules");return}J.forEach((Y)=>{Z.forEach(($)=>{this._wrap(Y,$,X)})})};_massUnwrap=(J,Z)=>{if(!J){_L.diag.error("must provide one or more modules to patch");return}else if(!Array.isArray(J))J=[J];if(!(Z&&Array.isArray(Z))){_L.diag.error("must provide one or more functions to wrap on modules");return}J.forEach((X)=>{Z.forEach((Y)=>{this._unwrap(X,Y)})})};_warnOnPreloadedModules(){this._modules.forEach((J)=>{let{name:Z}=J;try{let X=p.resolve(Z);if(p.cache[X])this._diag.warn(`Module ${Z} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${Z}`)}catch{}})}_extractPackageVersion(J){try{let Z=(0,Di4.readFileSync)(hL.join(J,"package.json"),{encoding:"utf8"}),X=JSON.parse(Z).version;return typeof X==="string"?X:void 0}catch(Z){_L.diag.warn("Failed extracting version",J)}return}_onRequire(J,Z,X,Y){if(!Y){if(typeof J.patch==="function"){if(J.moduleExports=Z,this._enabled)return this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:J.name}),J.patch(Z)}return Z}let $=this._extractPackageVersion(Y);if(J.moduleVersion=$,J.name===X){if(K50(J.supportedVersions,$,J.includePrerelease)){if(typeof J.patch==="function"){if(J.moduleExports=Z,this._enabled)return this._diag.debug("Applying instrumentation patch for module on require hook",{module:J.name,version:J.moduleVersion,baseDir:Y}),J.patch(Z,J.moduleVersion)}}return Z}let z=J.files??[],W=hL.normalize(X);return z.filter((G)=>G.name===W).filter((G)=>K50(G.supportedVersions,$,J.includePrerelease)).reduce((G,K)=>{if(K.moduleExports=G,this._enabled)return this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:J.name,version:J.moduleVersion,fileName:K.name,baseDir:Y}),K.patch(G,J.moduleVersion);return G},Z)}enable(){if(this._enabled)return;if(this._enabled=!0,this._hooks.length>0){for(let J of this._modules){if(typeof J.patch==="function"&&J.moduleExports)this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:J.name,version:J.moduleVersion}),J.patch(J.moduleExports,J.moduleVersion);for(let Z of J.files)if(Z.moduleExports)this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:J.name,version:J.moduleVersion,fileName:Z.name}),Z.patch(Z.moduleExports,J.moduleVersion)}return}this._warnOnPreloadedModules();for(let J of this._modules){let Z=(z,W,Q)=>{if(!Q&&hL.isAbsolute(W)){let G=hL.parse(W);W=G.name,Q=G.dir}return this._onRequire(J,z,W,Q)},X=(z,W,Q)=>{return this._onRequire(J,z,W,Q)},Y=hL.isAbsolute(J.name)?new Oi4.Hook([J.name],{internals:!0},X):this._requireInTheMiddleSingleton.register(J.name,X);this._hooks.push(Y);let $=new Ui4.Hook([J.name],{internals:!1},Z);this._hooks.push($)}}disable(){if(!this._enabled)return;this._enabled=!1;for(let J of this._modules){if(typeof J.unpatch==="function"&&J.moduleExports)this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:J.name,version:J.moduleVersion}),J.unpatch(J.moduleExports,J.moduleVersion);for(let Z of J.files)if(Z.moduleExports)this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:J.name,version:J.moduleVersion,fileName:Z.name}),Z.unpatch(Z.moduleExports,J.moduleVersion)}}isEnabled(){return this._enabled}}B50.InstrumentationBase=q50;function K50(J,Z,X){if(typeof Z==="undefined")return J.includes("*");return J.some((Y)=>{return(0,Bi4.satisfies)(Z,Y,{includePrerelease:X})})}});var U50=B((X91)=>{Object.defineProperty(X91,"__esModule",{value:!0});X91.normalize=void 0;var Ii4=p("path");Object.defineProperty(X91,"normalize",{enumerable:!0,get:function(){return Ii4.normalize}})});var O50=B((q_)=>{Object.defineProperty(q_,"__esModule",{value:!0});q_.normalize=q_.InstrumentationBase=void 0;var Ai4=F50();Object.defineProperty(q_,"InstrumentationBase",{enumerable:!0,get:function(){return Ai4.InstrumentationBase}});var Mi4=U50();Object.defineProperty(q_,"normalize",{enumerable:!0,get:function(){return Mi4.normalize}})});var Y91=B((B_)=>{Object.defineProperty(B_,"__esModule",{value:!0});B_.normalize=B_.InstrumentationBase=void 0;var D50=O50();Object.defineProperty(B_,"InstrumentationBase",{enumerable:!0,get:function(){return D50.InstrumentationBase}});Object.defineProperty(B_,"normalize",{enumerable:!0,get:function(){return D50.normalize}})});var A50=B((I50)=>{Object.defineProperty(I50,"__esModule",{value:!0});I50.InstrumentationNodeModuleDefinition=void 0;class V50{name;supportedVersions;patch;unpatch;files;constructor(J,Z,X,Y,$){this.name=J,this.supportedVersions=Z,this.patch=X,this.unpatch=Y,this.files=$||[]}}I50.InstrumentationNodeModuleDefinition=V50});var L50=B((N50)=>{Object.defineProperty(N50,"__esModule",{value:!0});N50.InstrumentationNodeModuleFile=void 0;var Li4=Y91();class M50{supportedVersions;patch;unpatch;name;constructor(J,Z,X,Y){this.supportedVersions=Z,this.patch=X,this.unpatch=Y,this.name=(0,Li4.normalize)(J)}}N50.InstrumentationNodeModuleFile=M50});var E50=B((j50)=>{Object.defineProperty(j50,"__esModule",{value:!0});j50.semconvStabilityFromStr=j50.SemconvStability=void 0;var H_;(function(J){J[J.STABLE=1]="STABLE",J[J.OLD=2]="OLD",J[J.DUPLICATE=3]="DUPLICATE"})(H_=j50.SemconvStability||(j50.SemconvStability={}));function Ci4(J,Z){let X=H_.OLD,Y=Z?.split(",").map(($)=>$.trim()).filter(($)=>$!=="");for(let $ of Y??[])if($.toLowerCase()===J+"/dup"){X=H_.DUPLICATE;break}else if($.toLowerCase()===J)X=H_.STABLE;return X}j50.semconvStabilityFromStr=Ci4});var J6=B((EY)=>{Object.defineProperty(EY,"__esModule",{value:!0});EY.semconvStabilityFromStr=EY.SemconvStability=EY.safeExecuteInTheMiddleAsync=EY.safeExecuteInTheMiddle=EY.isWrapped=EY.InstrumentationNodeModuleFile=EY.InstrumentationNodeModuleDefinition=EY.InstrumentationBase=EY.registerInstrumentations=void 0;var ji4=g40();Object.defineProperty(EY,"registerInstrumentations",{enumerable:!0,get:function(){return ji4.registerInstrumentations}});var Ri4=Y91();Object.defineProperty(EY,"InstrumentationBase",{enumerable:!0,get:function(){return Ri4.InstrumentationBase}});var Ei4=A50();Object.defineProperty(EY,"InstrumentationNodeModuleDefinition",{enumerable:!0,get:function(){return Ei4.InstrumentationNodeModuleDefinition}});var Si4=L50();Object.defineProperty(EY,"InstrumentationNodeModuleFile",{enumerable:!0,get:function(){return Si4.InstrumentationNodeModuleFile}});var $91=J91();Object.defineProperty(EY,"isWrapped",{enumerable:!0,get:function(){return $91.isWrapped}});Object.defineProperty(EY,"safeExecuteInTheMiddle",{enumerable:!0,get:function(){return $91.safeExecuteInTheMiddle}});Object.defineProperty(EY,"safeExecuteInTheMiddleAsync",{enumerable:!0,get:function(){return $91.safeExecuteInTheMiddleAsync}});var S50=E50();Object.defineProperty(EY,"SemconvStability",{enumerable:!0,get:function(){return S50.SemconvStability}});Object.defineProperty(EY,"semconvStabilityFromStr",{enumerable:!0,get:function(){return S50.semconvStabilityFromStr}})});var z91=B((f50)=>{Object.defineProperty(f50,"__esModule",{value:!0});f50.DEFAULT_CONFIG=f50.EndOperation=void 0;var fi4;(function(J){J.AutoAck="auto ack",J.Ack="ack",J.AckAll="ackAll",J.Reject="reject",J.Nack="nack",J.NackAll="nackAll",J.ChannelClosed="channel closed",J.ChannelError="channel error",J.InstrumentationTimeout="instrumentation timeout"})(fi4=f50.EndOperation||(f50.EndOperation={}));f50.DEFAULT_CONFIG={consumeTimeoutMs:60000,useLinksForConsume:!1}});var x50=B((y50)=>{Object.defineProperty(y50,"__esModule",{value:!0});y50.isConfirmChannelTracing=y50.unmarkConfirmChannelTracing=y50.markConfirmChannelTracing=y50.getConnectionAttributesFromUrl=y50.getConnectionAttributesFromServer=y50.normalizeExchange=y50.CONNECTION_ATTRIBUTES=y50.CHANNEL_CONSUME_TIMEOUT_TIMER=y50.CHANNEL_SPANS_NOT_ENDED=y50.MESSAGE_STORED_SPAN=void 0;var W91=C(),lQ=j1();y50.MESSAGE_STORED_SPAN=Symbol("opentelemetry.amqplib.message.stored-span");y50.CHANNEL_SPANS_NOT_ENDED=Symbol("opentelemetry.amqplib.channel.spans-not-ended");y50.CHANNEL_CONSUME_TIMEOUT_TIMER=Symbol("opentelemetry.amqplib.channel.consumer-timeout-timer");y50.CONNECTION_ATTRIBUTES=Symbol("opentelemetry.amqplib.connection.attributes");var Q91=(0,W91.createContextKey)("opentelemetry.amqplib.channel.is-confirm-channel"),ki4=(J)=>J!==""?J:"<default>";y50.normalizeExchange=ki4;var bi4=(J)=>{return J.replace(/:[^:@/]*@/,":***@")},b50=(J,Z)=>{return J||(Z==="AMQP"?5672:5671)},h50=(J)=>{let Z=J||"amqp";return(Z.endsWith(":")?Z.substring(0,Z.length-1):Z).toUpperCase()},_50=(J)=>{return J||"localhost"},rI=(J,Z,X,Y)=>{if(X)return{[Z]:X};else return W91.diag.error(`amqplib instrumentation: could not extract connection attribute ${Y} from user supplied url`,{url:J}),{}},hi4=(J)=>{let Z=J.serverProperties.product?.toLowerCase?.();if(Z)return{[lQ.SEMATTRS_MESSAGING_SYSTEM]:Z};else return{}};y50.getConnectionAttributesFromServer=hi4;var _i4=(J)=>{let Z={[lQ.SEMATTRS_MESSAGING_PROTOCOL_VERSION]:"0.9.1"};if(J=J||"amqp://localhost",typeof J==="object"){let X=J,Y=h50(X?.protocol);Object.assign(Z,{...rI(J,lQ.SEMATTRS_MESSAGING_PROTOCOL,Y,"protocol")});let $=_50(X?.hostname);Object.assign(Z,{...rI(J,lQ.SEMATTRS_NET_PEER_NAME,$,"hostname")});let z=b50(X.port,Y);Object.assign(Z,{...rI(J,lQ.SEMATTRS_NET_PEER_PORT,z,"port")})}else{let X=bi4(J);Z[lQ.SEMATTRS_MESSAGING_URL]=X;try{let Y=new URL(X),$=h50(Y.protocol);Object.assign(Z,{...rI(X,lQ.SEMATTRS_MESSAGING_PROTOCOL,$,"protocol")});let z=_50(Y.hostname);Object.assign(Z,{...rI(X,lQ.SEMATTRS_NET_PEER_NAME,z,"hostname")});let W=b50(Y.port?parseInt(Y.port):void 0,$);Object.assign(Z,{...rI(X,lQ.SEMATTRS_NET_PEER_PORT,W,"port")})}catch(Y){W91.diag.error("amqplib instrumentation: error while extracting connection details from connection url",{censoredUrl:X,err:Y})}}return Z};y50.getConnectionAttributesFromUrl=_i4;var yi4=(J)=>{return J.setValue(Q91,!0)};y50.markConfirmChannelTracing=yi4;var vi4=(J)=>{return J.deleteValue(Q91)};y50.unmarkConfirmChannelTracing=vi4;var xi4=(J)=>{return J.getValue(Q91)===!0};y50.isConfirmChannelTracing=xi4});var u50=B((g50)=>{Object.defineProperty(g50,"__esModule",{value:!0});g50.PACKAGE_NAME=g50.PACKAGE_VERSION=void 0;g50.PACKAGE_VERSION="0.48.0";g50.PACKAGE_NAME="@opentelemetry/instrumentation-amqplib"});var n50=B((l50)=>{Object.defineProperty(l50,"__esModule",{value:!0});l50.AmqplibInstrumentation=void 0;var h8=C(),F_=$40(),C4=J6(),l7=j1(),F7=z91(),i8=x50(),m50=u50(),U_=[">=0.5.5 <1"];class c50 extends C4.InstrumentationBase{constructor(J={}){super(m50.PACKAGE_NAME,m50.PACKAGE_VERSION,{...F7.DEFAULT_CONFIG,...J})}setConfig(J={}){super.setConfig({...F7.DEFAULT_CONFIG,...J})}init(){let J=new C4.InstrumentationNodeModuleFile("amqplib/lib/channel_model.js",U_,this.patchChannelModel.bind(this),this.unpatchChannelModel.bind(this)),Z=new C4.InstrumentationNodeModuleFile("amqplib/lib/callback_model.js",U_,this.patchChannelModel.bind(this),this.unpatchChannelModel.bind(this)),X=new C4.InstrumentationNodeModuleFile("amqplib/lib/connect.js",U_,this.patchConnect.bind(this),this.unpatchConnect.bind(this));return new C4.InstrumentationNodeModuleDefinition("amqplib",U_,void 0,void 0,[J,X,Z])}patchConnect(J){if(J=this.unpatchConnect(J),!(0,C4.isWrapped)(J.connect))this._wrap(J,"connect",this.getConnectPatch.bind(this));return J}unpatchConnect(J){if((0,C4.isWrapped)(J.connect))this._unwrap(J,"connect");return J}patchChannelModel(J,Z){if(!(0,C4.isWrapped)(J.Channel.prototype.publish))this._wrap(J.Channel.prototype,"publish",this.getPublishPatch.bind(this,Z));if(!(0,C4.isWrapped)(J.Channel.prototype.consume))this._wrap(J.Channel.prototype,"consume",this.getConsumePatch.bind(this,Z));if(!(0,C4.isWrapped)(J.Channel.prototype.ack))this._wrap(J.Channel.prototype,"ack",this.getAckPatch.bind(this,!1,F7.EndOperation.Ack));if(!(0,C4.isWrapped)(J.Channel.prototype.nack))this._wrap(J.Channel.prototype,"nack",this.getAckPatch.bind(this,!0,F7.EndOperation.Nack));if(!(0,C4.isWrapped)(J.Channel.prototype.reject))this._wrap(J.Channel.prototype,"reject",this.getAckPatch.bind(this,!0,F7.EndOperation.Reject));if(!(0,C4.isWrapped)(J.Channel.prototype.ackAll))this._wrap(J.Channel.prototype,"ackAll",this.getAckAllPatch.bind(this,!1,F7.EndOperation.AckAll));if(!(0,C4.isWrapped)(J.Channel.prototype.nackAll))this._wrap(J.Channel.prototype,"nackAll",this.getAckAllPatch.bind(this,!0,F7.EndOperation.NackAll));if(!(0,C4.isWrapped)(J.Channel.prototype.emit))this._wrap(J.Channel.prototype,"emit",this.getChannelEmitPatch.bind(this));if(!(0,C4.isWrapped)(J.ConfirmChannel.prototype.publish))this._wrap(J.ConfirmChannel.prototype,"publish",this.getConfirmedPublishPatch.bind(this,Z));return J}unpatchChannelModel(J){if((0,C4.isWrapped)(J.Channel.prototype.publish))this._unwrap(J.Channel.prototype,"publish");if((0,C4.isWrapped)(J.Channel.prototype.consume))this._unwrap(J.Channel.prototype,"consume");if((0,C4.isWrapped)(J.Channel.prototype.ack))this._unwrap(J.Channel.prototype,"ack");if((0,C4.isWrapped)(J.Channel.prototype.nack))this._unwrap(J.Channel.prototype,"nack");if((0,C4.isWrapped)(J.Channel.prototype.reject))this._unwrap(J.Channel.prototype,"reject");if((0,C4.isWrapped)(J.Channel.prototype.ackAll))this._unwrap(J.Channel.prototype,"ackAll");if((0,C4.isWrapped)(J.Channel.prototype.nackAll))this._unwrap(J.Channel.prototype,"nackAll");if((0,C4.isWrapped)(J.Channel.prototype.emit))this._unwrap(J.Channel.prototype,"emit");if((0,C4.isWrapped)(J.ConfirmChannel.prototype.publish))this._unwrap(J.ConfirmChannel.prototype,"publish");return J}getConnectPatch(J){return function Z(X,Y,$){return J.call(this,X,Y,function(z,W){if(z==null){let Q=(0,i8.getConnectionAttributesFromUrl)(X),G=(0,i8.getConnectionAttributesFromServer)(W);W[i8.CONNECTION_ATTRIBUTES]={...Q,...G}}$.apply(this,arguments)})}}getChannelEmitPatch(J){let Z=this;return function X(Y){if(Y==="close"){Z.endAllSpansOnChannel(this,!0,F7.EndOperation.ChannelClosed,void 0);let $=this[i8.CHANNEL_CONSUME_TIMEOUT_TIMER];if($)clearInterval($);this[i8.CHANNEL_CONSUME_TIMEOUT_TIMER]=void 0}else if(Y==="error")Z.endAllSpansOnChannel(this,!0,F7.EndOperation.ChannelError,void 0);return J.apply(this,arguments)}}getAckAllPatch(J,Z,X){let Y=this;return function $(z){return Y.endAllSpansOnChannel(this,J,Z,z),X.apply(this,arguments)}}getAckPatch(J,Z,X){let Y=this;return function $(z,W,Q){let G=this,K=Z===F7.EndOperation.Reject?W:Q,q=G[i8.CHANNEL_SPANS_NOT_ENDED]??[],H=q.findIndex((F)=>F.msg===z);if(H<0)Y.endConsumerSpan(z,J,Z,K);else if(Z!==F7.EndOperation.Reject&&W){for(let F=0;F<=H;F++)Y.endConsumerSpan(q[F].msg,J,Z,K);q.splice(0,H+1)}else Y.endConsumerSpan(z,J,Z,K),q.splice(H,1);return X.apply(this,arguments)}}getConsumePatch(J,Z){let X=this;return function Y($,z,W){let Q=this;if(!Object.prototype.hasOwnProperty.call(Q,i8.CHANNEL_SPANS_NOT_ENDED)){let{consumeTimeoutMs:K}=X.getConfig();if(K){let q=setInterval(()=>{X.checkConsumeTimeoutOnChannel(Q)},K);q.unref(),Q[i8.CHANNEL_CONSUME_TIMEOUT_TIMER]=q}Q[i8.CHANNEL_SPANS_NOT_ENDED]=[]}let G=function(K){if(!K)return z.call(this,K);let q=K.properties.headers??{},H=h8.propagation.extract(h8.ROOT_CONTEXT,q),F=K.fields?.exchange,U;if(X._config.useLinksForConsume){let M=H?h8.trace.getSpan(H)?.spanContext():void 0;if(H=void 0,M)U=[{context:M}]}let D=X.tracer.startSpan(`${$} process`,{kind:h8.SpanKind.CONSUMER,attributes:{...Q?.connection?.[i8.CONNECTION_ATTRIBUTES],[l7.SEMATTRS_MESSAGING_DESTINATION]:F,[l7.SEMATTRS_MESSAGING_DESTINATION_KIND]:l7.MESSAGINGDESTINATIONKINDVALUES_TOPIC,[l7.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY]:K.fields?.routingKey,[l7.SEMATTRS_MESSAGING_OPERATION]:l7.MESSAGINGOPERATIONVALUES_PROCESS,[l7.SEMATTRS_MESSAGING_MESSAGE_ID]:K?.properties.messageId,[l7.SEMATTRS_MESSAGING_CONVERSATION_ID]:K?.properties.correlationId},links:U},H),{consumeHook:V}=X.getConfig();if(V)(0,C4.safeExecuteInTheMiddle)(()=>V(D,{moduleVersion:J,msg:K}),(M)=>{if(M)h8.diag.error("amqplib instrumentation: consumerHook error",M)},!0);if(!W?.noAck)Q[i8.CHANNEL_SPANS_NOT_ENDED].push({msg:K,timeOfConsume:(0,F_.hrTime)()}),K[i8.MESSAGE_STORED_SPAN]=D;let w=H?H:h8.ROOT_CONTEXT;if(h8.context.with(h8.trace.setSpan(w,D),()=>{z.call(this,K)}),W?.noAck)X.callConsumeEndHook(D,K,!1,F7.EndOperation.AutoAck),D.end()};return arguments[1]=G,Z.apply(this,arguments)}}getConfirmedPublishPatch(J,Z){let X=this;return function Y($,z,W,Q,G){let K=this,{span:q,modifiedOptions:H}=X.createPublishSpan(X,$,z,K,Q),{publishHook:F}=X.getConfig();if(F)(0,C4.safeExecuteInTheMiddle)(()=>F(q,{moduleVersion:J,exchange:$,routingKey:z,content:W,options:H,isConfirmChannel:!0}),(w)=>{if(w)h8.diag.error("amqplib instrumentation: publishHook error",w)},!0);let U=function(w,M){try{G?.call(this,w,M)}finally{let{publishConfirmHook:P}=X.getConfig();if(P)(0,C4.safeExecuteInTheMiddle)(()=>P(q,{moduleVersion:J,exchange:$,routingKey:z,content:W,options:Q,isConfirmChannel:!0,confirmError:w}),(R)=>{if(R)h8.diag.error("amqplib instrumentation: publishConfirmHook error",R)},!0);if(w)q.setStatus({code:h8.SpanStatusCode.ERROR,message:"message confirmation has been nack'ed"});q.end()}},D=(0,i8.markConfirmChannelTracing)(h8.context.active()),V=[...arguments];return V[3]=H,V[4]=h8.context.bind((0,i8.unmarkConfirmChannelTracing)(h8.trace.setSpan(D,q)),U),h8.context.with(D,Z.bind(this,...V))}}getPublishPatch(J,Z){let X=this;return function Y($,z,W,Q){if((0,i8.isConfirmChannelTracing)(h8.context.active()))return Z.apply(this,arguments);else{let G=this,{span:K,modifiedOptions:q}=X.createPublishSpan(X,$,z,G,Q),{publishHook:H}=X.getConfig();if(H)(0,C4.safeExecuteInTheMiddle)(()=>H(K,{moduleVersion:J,exchange:$,routingKey:z,content:W,options:q,isConfirmChannel:!1}),(D)=>{if(D)h8.diag.error("amqplib instrumentation: publishHook error",D)},!0);let F=[...arguments];F[3]=q;let U=Z.apply(this,F);return K.end(),U}}}createPublishSpan(J,Z,X,Y,$){let z=(0,i8.normalizeExchange)(Z),W=J.tracer.startSpan(`publish ${z}`,{kind:h8.SpanKind.PRODUCER,attributes:{...Y.connection[i8.CONNECTION_ATTRIBUTES],[l7.SEMATTRS_MESSAGING_DESTINATION]:Z,[l7.SEMATTRS_MESSAGING_DESTINATION_KIND]:l7.MESSAGINGDESTINATIONKINDVALUES_TOPIC,[l7.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY]:X,[l7.SEMATTRS_MESSAGING_MESSAGE_ID]:$?.messageId,[l7.SEMATTRS_MESSAGING_CONVERSATION_ID]:$?.correlationId}}),Q=$??{};return Q.headers=Q.headers??{},h8.propagation.inject(h8.trace.setSpan(h8.context.active(),W),Q.headers),{span:W,modifiedOptions:Q}}endConsumerSpan(J,Z,X,Y){let $=J[i8.MESSAGE_STORED_SPAN];if(!$)return;if(Z!==!1)$.setStatus({code:h8.SpanStatusCode.ERROR,message:X!==F7.EndOperation.ChannelClosed&&X!==F7.EndOperation.ChannelError?`${X} called on message${Y===!0?" with requeue":Y===!1?" without requeue":""}`:X});this.callConsumeEndHook($,J,Z,X),$.end(),J[i8.MESSAGE_STORED_SPAN]=void 0}endAllSpansOnChannel(J,Z,X,Y){(J[i8.CHANNEL_SPANS_NOT_ENDED]??[]).forEach((z)=>{this.endConsumerSpan(z.msg,Z,X,Y)}),J[i8.CHANNEL_SPANS_NOT_ENDED]=[]}callConsumeEndHook(J,Z,X,Y){let{consumeEndHook:$}=this.getConfig();if(!$)return;(0,C4.safeExecuteInTheMiddle)(()=>$(J,{msg:Z,rejected:X,endOperation:Y}),(z)=>{if(z)h8.diag.error("amqplib instrumentation: consumerEndHook error",z)},!0)}checkConsumeTimeoutOnChannel(J){let Z=(0,F_.hrTime)(),X=J[i8.CHANNEL_SPANS_NOT_ENDED]??[],Y,{consumeTimeoutMs:$}=this.getConfig();for(Y=0;Y<X.length;Y++){let z=X[Y],W=(0,F_.hrTimeDuration)(z.timeOfConsume,Z);if((0,F_.hrTimeToMilliseconds)(W)<$)break;this.endConsumerSpan(z.msg,null,F7.EndOperation.InstrumentationTimeout,!0)}X.splice(0,Y)}}l50.AmqplibInstrumentation=c50});var o50=B((C3)=>{var si4=C3&&C3.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),i50=C3&&C3.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))si4(Z,J,X)};Object.defineProperty(C3,"__esModule",{value:!0});i50(n50(),C3);i50(z91(),C3)});var r50=B((s50)=>{Object.defineProperty(s50,"__esModule",{value:!0});s50.ATTR_FAAS_COLDSTART=void 0;s50.ATTR_FAAS_COLDSTART="faas.coldstart"});var J90=B((t50)=>{Object.defineProperty(t50,"__esModule",{value:!0});t50.PACKAGE_NAME=t50.PACKAGE_VERSION=void 0;t50.PACKAGE_VERSION="0.52.0";t50.PACKAGE_NAME="@opentelemetry/instrumentation-aws-lambda"});var W90=B((Y90)=>{Object.defineProperty(Y90,"__esModule",{value:!0});Y90.AwsLambdaInstrumentation=Y90.lambdaMaxInitInMilliseconds=void 0;var Z90=p("path"),G91=p("fs"),j3=J6(),V9=C(),O_=j1(),ri4=r50(),X90=J90(),ti4={keys(J){return Object.keys(J)},get(J,Z){return J[Z]}};Y90.lambdaMaxInitInMilliseconds=1e4;class tI extends j3.InstrumentationBase{constructor(J={}){super(X90.PACKAGE_NAME,X90.PACKAGE_VERSION,J)}init(){let J=process.env.LAMBDA_TASK_ROOT,Z=this.getConfig().lambdaHandler??process.env._HANDLER;if(!J||!Z)return this._diag.debug("Skipping lambda instrumentation: no _HANDLER/lambdaHandler or LAMBDA_TASK_ROOT.",{taskRoot:J,handlerDef:Z}),[];let X=Z90.basename(Z),Y=Z.substring(0,Z.length-X.length),[$,z]=X.split(".",2),W=Z90.resolve(J,Y,$);if(!W.endsWith(".js"))try{G91.statSync(`${W}.js`),W+=".js"}catch(G){try{G91.statSync(`${W}.mjs`),W+=".mjs"}catch(K){try{G91.statSync(`${W}.cjs`),W+=".cjs"}catch(q){this._diag.warn("No handler file was able to resolved with one of the known extensions for the file",W)}}}V9.diag.debug("Instrumenting lambda handler",{taskRoot:J,handlerDef:Z,handler:X,moduleRoot:Y,module:$,filename:W,functionName:z});let Q=this.getConfig().lambdaStartTime||Date.now()-Math.floor(1000*process.uptime());return[new j3.InstrumentationNodeModuleDefinition(W,["*"],void 0,void 0,[new j3.InstrumentationNodeModuleFile($,["*"],(G)=>{if((0,j3.isWrapped)(G[z]))this._unwrap(G,z);return this._wrap(G,z,this._getHandler(Q)),G},(G)=>{if(G==null)return;this._unwrap(G,z)})])]}_getHandler(J){return(Z)=>{return this._getPatchHandler(Z,J)}}_getPatchHandler(J,Z){V9.diag.debug("patch handler function");let X=this,Y=!1,$=!0;function z(){if(Y)$=!1;else{if(process.env.AWS_LAMBDA_INITIALIZATION_TYPE==="provisioned-concurrency")$=!1;else $=!(Date.now()-Z>Y90.lambdaMaxInitInMilliseconds);Y=!0}}return function W(Q,G,K){z();let q=X.getConfig(),H=tI._determineParent(Q,G,q.eventContextExtractor||tI._defaultEventContextExtractor),F=G.functionName,U=X.tracer.startSpan(F,{kind:V9.SpanKind.SERVER,attributes:{[O_.SEMATTRS_FAAS_EXECUTION]:G.awsRequestId,[O_.SEMRESATTRS_FAAS_ID]:G.invokedFunctionArn,[O_.SEMRESATTRS_CLOUD_ACCOUNT_ID]:tI._extractAccountId(G.invokedFunctionArn),[ri4.ATTR_FAAS_COLDSTART]:$,...tI._extractOtherEventFields(Q)}},H),{requestHook:D}=q;if(D)(0,j3.safeExecuteInTheMiddle)(()=>D(U,{event:Q,context:G}),(V)=>{if(V)V9.diag.error("aws-lambda instrumentation: requestHook error",V)},!0);return V9.context.with(V9.trace.setSpan(H,U),()=>{let V=X._wrapCallback(K,U),w=(0,j3.safeExecuteInTheMiddle)(()=>J.apply(this,[Q,G,V]),(M)=>{if(M!=null)X._applyResponseHook(U,M),X._endSpan(U,M,()=>{})});if(typeof w?.then==="function")return w.then((M)=>{return X._applyResponseHook(U,null,M),new Promise((P)=>X._endSpan(U,void 0,()=>P(M)))},(M)=>{return X._applyResponseHook(U,M),new Promise((P,R)=>X._endSpan(U,M,()=>R(M)))});return w})}}setTracerProvider(J){super.setTracerProvider(J),this._traceForceFlusher=this._traceForceFlush(J)}_traceForceFlush(J){if(!J)return;let Z=J;if(typeof Z.getDelegate==="function")Z=Z.getDelegate();if(typeof Z.forceFlush==="function")return Z.forceFlush.bind(Z);return}setMeterProvider(J){super.setMeterProvider(J),this._metricForceFlusher=this._metricForceFlush(J)}_metricForceFlush(J){if(!J)return;let Z=J;if(typeof Z.forceFlush==="function")return Z.forceFlush.bind(Z);return}_wrapCallback(J,Z){let X=this;return function Y($,z){V9.diag.debug("executing wrapped lookup callback function"),X._applyResponseHook(Z,$,z),X._endSpan(Z,$,()=>{return V9.diag.debug("executing original lookup callback function"),J.apply(this,[$,z])})}}_endSpan(J,Z,X){if(Z)J.recordException(Z);let Y;if(typeof Z==="string")Y=Z;else if(Z)Y=Z.message;if(Y)J.setStatus({code:V9.SpanStatusCode.ERROR,message:Y});J.end();let $=[];if(this._traceForceFlusher)$.push(this._traceForceFlusher());else V9.diag.debug("Spans may not be exported for the lambda function because we are not force flushing before callback.");if(this._metricForceFlusher)$.push(this._metricForceFlusher());else V9.diag.debug("Metrics may not be exported for the lambda function because we are not force flushing before callback.");Promise.all($).then(X,X)}_applyResponseHook(J,Z,X){let{responseHook:Y}=this.getConfig();if(Y)(0,j3.safeExecuteInTheMiddle)(()=>Y(J,{err:Z,res:X}),($)=>{if($)V9.diag.error("aws-lambda instrumentation: responseHook error",$)},!0)}static _extractAccountId(J){let Z=J.split(":");if(Z.length>=5)return Z[4];return}static _defaultEventContextExtractor(J){let Z=J.headers||{};return V9.propagation.extract(V9.context.active(),Z,ti4)}static _extractOtherEventFields(J){let Z={},X=this._extractFullUrl(J);if(X)Z[O_.ATTR_URL_FULL]=X;return Z}static _extractFullUrl(J){if(!J.headers)return;function Z(W,Q,G){return W.headers[Q]??W.headers[G]}let X=Z(J,"host","Host"),Y=Z(J,"x-forwarded-proto","X-Forwarded-Proto"),$=Z(J,"x-forwarded-port","X-Forwarded-Port");if(!(Y&&X&&(J.path||J.rawPath)))return;let z=Y+"://"+X;if($)z+=":"+$;if(z+=J.path??J.rawPath,J.queryStringParameters){let W=!0;for(let Q in J.queryStringParameters)z+=W?"?":"&",z+=encodeURIComponent(Q),z+="=",z+=encodeURIComponent(J.queryStringParameters[Q]),W=!1}return z}static _determineParent(J,Z,X){let Y=(0,j3.safeExecuteInTheMiddle)(()=>X(J,Z),($)=>{if($)V9.diag.error("aws-lambda instrumentation: eventContextExtractor error",$)},!0);if(V9.trace.getSpan(Y)?.spanContext())return Y;return V9.ROOT_CONTEXT}}Y90.AwsLambdaInstrumentation=tI});var G90=B((Q90)=>{Object.defineProperty(Q90,"__esModule",{value:!0})});var q90=B((R3)=>{var ei4=R3&&R3.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),K90=R3&&R3.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))ei4(Z,J,X)};Object.defineProperty(R3,"__esModule",{value:!0});K90(W90(),R3);K90(G90(),R3)});var yL=B((B90)=>{Object.defineProperty(B90,"__esModule",{value:!0});B90.isTracingSuppressed=B90.unsuppressTracing=B90.suppressTracing=void 0;var Jo4=C(),K91=(0,Jo4.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Zo4(J){return J.setValue(K91,!0)}B90.suppressTracing=Zo4;function Xo4(J){return J.deleteValue(K91)}B90.unsuppressTracing=Xo4;function Yo4(J){return J.getValue(K91)===!0}B90.isTracingSuppressed=Yo4});var q91=B((F90)=>{Object.defineProperty(F90,"__esModule",{value:!0});F90.BAGGAGE_MAX_TOTAL_LENGTH=F90.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=F90.BAGGAGE_MAX_NAME_VALUE_PAIRS=F90.BAGGAGE_HEADER=F90.BAGGAGE_ITEMS_SEPARATOR=F90.BAGGAGE_PROPERTIES_SEPARATOR=F90.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;F90.BAGGAGE_KEY_PAIR_SEPARATOR="=";F90.BAGGAGE_PROPERTIES_SEPARATOR=";";F90.BAGGAGE_ITEMS_SEPARATOR=",";F90.BAGGAGE_HEADER="baggage";F90.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;F90.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;F90.BAGGAGE_MAX_TOTAL_LENGTH=8192});var B91=B((D90)=>{Object.defineProperty(D90,"__esModule",{value:!0});D90.parseKeyPairsIntoRecord=D90.parsePairKeyValue=D90.getKeyPairs=D90.serializeKeyPairs=void 0;var Ho4=C(),xF=q91();function Fo4(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?xF.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>xF.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}D90.serializeKeyPairs=Fo4;function Uo4(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=xF.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}D90.getKeyPairs=Uo4;function O90(J){let Z=J.split(xF.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(xF.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,Ho4.baggageEntryMetadataFromString)(Z.join(xF.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}D90.parsePairKeyValue=O90;function Oo4(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(xF.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=O90(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}D90.parseKeyPairsIntoRecord=Oo4});var M90=B((w90)=>{Object.defineProperty(w90,"__esModule",{value:!0});w90.W3CBaggagePropagator=void 0;var H91=C(),wo4=yL(),gF=q91(),F91=B91();class I90{inject(J,Z,X){let Y=H91.propagation.getBaggage(J);if(!Y||(0,wo4.isTracingSuppressed)(J))return;let $=(0,F91.getKeyPairs)(Y).filter((W)=>{return W.length<=gF.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,gF.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,F91.serializeKeyPairs)($);if(z.length>0)X.set(Z,gF.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,gF.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(gF.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(gF.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,F91.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return H91.propagation.setBaggage(J,H91.propagation.createBaggage(z))}fields(){return[gF.BAGGAGE_HEADER]}}w90.W3CBaggagePropagator=I90});var C90=B((P90)=>{Object.defineProperty(P90,"__esModule",{value:!0});P90.AnchoredClock=void 0;class N90{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}P90.AnchoredClock=N90});var k90=B((T90)=>{Object.defineProperty(T90,"__esModule",{value:!0});T90.isAttributeValue=T90.isAttributeKey=T90.sanitizeAttributes=void 0;var j90=C();function Ao4(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!R90(X)){j90.diag.warn(`Invalid attribute key: ${X}`);continue}if(!E90(Y)){j90.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}T90.sanitizeAttributes=Ao4;function R90(J){return typeof J==="string"&&J.length>0}T90.isAttributeKey=R90;function E90(J){if(J==null)return!0;if(Array.isArray(J))return Mo4(J);return S90(J)}T90.isAttributeValue=E90;function Mo4(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(S90(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function S90(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var U91=B((b90)=>{Object.defineProperty(b90,"__esModule",{value:!0});b90.loggingErrorHandler=void 0;var Lo4=C();function Co4(){return(J)=>{Lo4.diag.error(jo4(J))}}b90.loggingErrorHandler=Co4;function jo4(J){if(typeof J==="string")return J;else return JSON.stringify(Ro4(J))}function Ro4(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var x90=B((y90)=>{Object.defineProperty(y90,"__esModule",{value:!0});y90.globalErrorHandler=y90.setGlobalErrorHandler=void 0;var Eo4=U91(),_90=(0,Eo4.loggingErrorHandler)();function So4(J){_90=J}y90.setGlobalErrorHandler=So4;function To4(J){try{_90(J)}catch{}}y90.globalErrorHandler=To4});var l90=B((m90)=>{Object.defineProperty(m90,"__esModule",{value:!0});m90.getStringListFromEnv=m90.getBooleanFromEnv=m90.getStringFromEnv=m90.getNumberFromEnv=void 0;var g90=C(),d90=p("util");function ko4(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){g90.diag.warn(`Unknown value ${(0,d90.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}m90.getNumberFromEnv=ko4;function u90(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}m90.getStringFromEnv=u90;function bo4(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return g90.diag.warn(`Unknown value ${(0,d90.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}m90.getBooleanFromEnv=bo4;function ho4(J){return u90(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}m90.getStringListFromEnv=ho4});var i90=B((p90)=>{Object.defineProperty(p90,"__esModule",{value:!0});p90._globalThis=void 0;p90._globalThis=typeof globalThis==="object"?globalThis:global});var a90=B((o90)=>{Object.defineProperty(o90,"__esModule",{value:!0});o90.otperformance=void 0;var xo4=p("perf_hooks");o90.otperformance=xo4.performance});var e90=B((r90)=>{Object.defineProperty(r90,"__esModule",{value:!0});r90.VERSION=void 0;r90.VERSION="2.0.1"});var X70=B((J70)=>{Object.defineProperty(J70,"__esModule",{value:!0});J70.ATTR_PROCESS_RUNTIME_NAME=void 0;J70.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var z70=B((Y70)=>{Object.defineProperty(Y70,"__esModule",{value:!0});Y70.SDK_INFO=void 0;var go4=e90(),D_=j1(),do4=X70();Y70.SDK_INFO={[D_.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[do4.ATTR_PROCESS_RUNTIME_NAME]:"node",[D_.ATTR_TELEMETRY_SDK_LANGUAGE]:D_.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[D_.ATTR_TELEMETRY_SDK_VERSION]:go4.VERSION}});var G70=B((W70)=>{Object.defineProperty(W70,"__esModule",{value:!0});W70.unrefTimer=void 0;function uo4(J){J.unref()}W70.unrefTimer=uo4});var K70=B((n$)=>{Object.defineProperty(n$,"__esModule",{value:!0});n$.unrefTimer=n$.SDK_INFO=n$.otperformance=n$._globalThis=n$.getStringListFromEnv=n$.getNumberFromEnv=n$.getBooleanFromEnv=n$.getStringFromEnv=void 0;var V_=l90();Object.defineProperty(n$,"getStringFromEnv",{enumerable:!0,get:function(){return V_.getStringFromEnv}});Object.defineProperty(n$,"getBooleanFromEnv",{enumerable:!0,get:function(){return V_.getBooleanFromEnv}});Object.defineProperty(n$,"getNumberFromEnv",{enumerable:!0,get:function(){return V_.getNumberFromEnv}});Object.defineProperty(n$,"getStringListFromEnv",{enumerable:!0,get:function(){return V_.getStringListFromEnv}});var mo4=i90();Object.defineProperty(n$,"_globalThis",{enumerable:!0,get:function(){return mo4._globalThis}});var co4=a90();Object.defineProperty(n$,"otperformance",{enumerable:!0,get:function(){return co4.otperformance}});var lo4=z70();Object.defineProperty(n$,"SDK_INFO",{enumerable:!0,get:function(){return lo4.SDK_INFO}});var po4=G70();Object.defineProperty(n$,"unrefTimer",{enumerable:!0,get:function(){return po4.unrefTimer}})});var O91=B((i$)=>{Object.defineProperty(i$,"__esModule",{value:!0});i$.getStringListFromEnv=i$.getNumberFromEnv=i$.getStringFromEnv=i$.getBooleanFromEnv=i$.unrefTimer=i$.otperformance=i$._globalThis=i$.SDK_INFO=void 0;var E3=K70();Object.defineProperty(i$,"SDK_INFO",{enumerable:!0,get:function(){return E3.SDK_INFO}});Object.defineProperty(i$,"_globalThis",{enumerable:!0,get:function(){return E3._globalThis}});Object.defineProperty(i$,"otperformance",{enumerable:!0,get:function(){return E3.otperformance}});Object.defineProperty(i$,"unrefTimer",{enumerable:!0,get:function(){return E3.unrefTimer}});Object.defineProperty(i$,"getBooleanFromEnv",{enumerable:!0,get:function(){return E3.getBooleanFromEnv}});Object.defineProperty(i$,"getStringFromEnv",{enumerable:!0,get:function(){return E3.getStringFromEnv}});Object.defineProperty(i$,"getNumberFromEnv",{enumerable:!0,get:function(){return E3.getNumberFromEnv}});Object.defineProperty(i$,"getStringListFromEnv",{enumerable:!0,get:function(){return E3.getStringListFromEnv}})});var O70=B((F70)=>{Object.defineProperty(F70,"__esModule",{value:!0});F70.addHrTimes=F70.isTimeInput=F70.isTimeInputHrTime=F70.hrTimeToMicroseconds=F70.hrTimeToMilliseconds=F70.hrTimeToNanoseconds=F70.hrTimeToTimeStamp=F70.hrTimeDuration=F70.timeInputToHrTime=F70.hrTime=F70.getTimeOrigin=F70.millisToHrTime=void 0;var D91=O91(),q70=9,oo4=6,so4=Math.pow(10,oo4),I_=Math.pow(10,q70);function vL(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*so4);return[X,Y]}F70.millisToHrTime=vL;function V91(){let J=D91.otperformance.timeOrigin;if(typeof J!=="number"){let Z=D91.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}F70.getTimeOrigin=V91;function B70(J){let Z=vL(V91()),X=vL(typeof J==="number"?J:D91.otperformance.now());return H70(Z,X)}F70.hrTime=B70;function ao4(J){if(I91(J))return J;else if(typeof J==="number")if(J<V91())return B70(J);else return vL(J);else if(J instanceof Date)return vL(J.getTime());else throw TypeError("Invalid input type")}F70.timeInputToHrTime=ao4;function ro4(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=I_;return[X,Y]}F70.hrTimeDuration=ro4;function to4(J){let Z=q70,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}F70.hrTimeToTimeStamp=to4;function eo4(J){return J[0]*I_+J[1]}F70.hrTimeToNanoseconds=eo4;function Js4(J){return J[0]*1000+J[1]/1e6}F70.hrTimeToMilliseconds=Js4;function Zs4(J){return J[0]*1e6+J[1]/1000}F70.hrTimeToMicroseconds=Zs4;function I91(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}F70.isTimeInputHrTime=I91;function Xs4(J){return I91(J)||typeof J==="number"||J instanceof Date}F70.isTimeInput=Xs4;function H70(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=I_)X[1]-=I_,X[0]+=1;return X}F70.addHrTimes=H70});var V70=B((D70)=>{Object.defineProperty(D70,"__esModule",{value:!0});D70.ExportResultCode=void 0;var Us4;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(Us4=D70.ExportResultCode||(D70.ExportResultCode={}))});var N70=B((A70)=>{Object.defineProperty(A70,"__esModule",{value:!0});A70.CompositePropagator=void 0;var I70=C();class w70{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){I70.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){I70.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}A70.CompositePropagator=w70});var C70=B((P70)=>{Object.defineProperty(P70,"__esModule",{value:!0});P70.validateValue=P70.validateKey=void 0;var A91="[_0-9a-z-*/]",Os4=`[a-z]${A91}{0,255}`,Ds4=`[a-z0-9]${A91}{0,240}@[a-z]${A91}{0,13}`,Vs4=new RegExp(`^(?:${Os4}|${Ds4})$`),Is4=/^[ -~]{0,255}[!-~]$/,ws4=/,|=/;function As4(J){return Vs4.test(J)}P70.validateKey=As4;function Ms4(J){return Is4.test(J)&&!ws4.test(J)}P70.validateValue=Ms4});var N91=B((T70)=>{Object.defineProperty(T70,"__esModule",{value:!0});T70.TraceState=void 0;var j70=C70(),R70=32,Ps4=512,E70=",",S70="=";class M91{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+S70+this.get(Z)),J},[]).join(E70)}_parse(J){if(J.length>Ps4)return;if(this._internalState=J.split(E70).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(S70);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,j70.validateKey)(z)&&(0,j70.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>R70)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,R70))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new M91;return J._internalState=new Map(this._internalState),J}}T70.TraceState=M91});var y70=B((h70)=>{Object.defineProperty(h70,"__esModule",{value:!0});h70.W3CTraceContextPropagator=h70.parseTraceParent=h70.TRACE_STATE_HEADER=h70.TRACE_PARENT_HEADER=void 0;var w_=C(),Ls4=yL(),Cs4=N91();h70.TRACE_PARENT_HEADER="traceparent";h70.TRACE_STATE_HEADER="tracestate";var js4="00",Rs4="(?!ff)[\\da-f]{2}",Es4="(?![0]{32})[\\da-f]{32}",Ss4="(?![0]{16})[\\da-f]{16}",Ts4="[\\da-f]{2}",fs4=new RegExp(`^\\s?(${Rs4})-(${Es4})-(${Ss4})-(${Ts4})(-.*)?\\s?$`);function k70(J){let Z=fs4.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}h70.parseTraceParent=k70;class b70{inject(J,Z,X){let Y=w_.trace.getSpanContext(J);if(!Y||(0,Ls4.isTracingSuppressed)(J)||!(0,w_.isSpanContextValid)(Y))return;let $=`${js4}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||w_.TraceFlags.NONE).toString(16)}`;if(X.set(Z,h70.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,h70.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,h70.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=k70($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,h70.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new Cs4.TraceState(typeof Q==="string"?Q:void 0)}return w_.trace.setSpanContext(J,z)}fields(){return[h70.TRACE_PARENT_HEADER,h70.TRACE_STATE_HEADER]}}h70.W3CTraceContextPropagator=b70});var d70=B((x70)=>{Object.defineProperty(x70,"__esModule",{value:!0});x70.getRPCMetadata=x70.deleteRPCMetadata=x70.setRPCMetadata=x70.RPCType=void 0;var bs4=C(),P91=(0,bs4.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),hs4;(function(J){J.HTTP="http"})(hs4=x70.RPCType||(x70.RPCType={}));function _s4(J,Z){return J.setValue(P91,Z)}x70.setRPCMetadata=_s4;function ys4(J){return J.deleteValue(P91)}x70.deleteRPCMetadata=ys4;function vs4(J){return J.getValue(P91)}x70.getRPCMetadata=vs4});var i70=B((p70)=>{Object.defineProperty(p70,"__esModule",{value:!0});p70.isPlainObject=void 0;var ds4="[object Object]",us4="[object Null]",ms4="[object Undefined]",cs4=Function.prototype,u70=cs4.toString,ls4=u70.call(Object),ps4=Object.getPrototypeOf,m70=Object.prototype,c70=m70.hasOwnProperty,dF=Symbol?Symbol.toStringTag:void 0,l70=m70.toString;function ns4(J){if(!is4(J)||os4(J)!==ds4)return!1;let Z=ps4(J);if(Z===null)return!0;let X=c70.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&u70.call(X)===ls4}p70.isPlainObject=ns4;function is4(J){return J!=null&&typeof J=="object"}function os4(J){if(J==null)return J===void 0?ms4:us4;return dF&&dF in Object(J)?ss4(J):as4(J)}function ss4(J){let Z=c70.call(J,dF),X=J[dF],Y=!1;try{J[dF]=void 0,Y=!0}catch(z){}let $=l70.call(J);if(Y)if(Z)J[dF]=X;else delete J[dF];return $}function as4(J){return l70.call(J)}});var JJ0=B((t70)=>{Object.defineProperty(t70,"__esModule",{value:!0});t70.merge=void 0;var o70=i70(),rs4=20;function ts4(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=a70(Z,J.shift(),0,X);return Z}t70.merge=ts4;function L91(J){if(P_(J))return J.slice();return J}function a70(J,Z,X=0,Y){let $;if(X>rs4)return;if(X++,N_(J)||N_(Z)||r70(Z))$=L91(Z);else if(P_(J)){if($=J.slice(),P_(Z))for(let z=0,W=Z.length;z<W;z++)$.push(L91(Z[z]));else if(xL(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=L91(Z[G])}}}else if(xL(J))if(xL(Z)){if(!es4(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(N_(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(s70(J,G,Y)||s70(Z,G,Y))delete $[G];else{if(xL(q)&&xL(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=a70($[G],K,X,Y)}}}}else $=Z;return $}function s70(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function P_(J){return Array.isArray(J)}function r70(J){return typeof J==="function"}function xL(J){return!N_(J)&&!P_(J)&&!r70(J)&&typeof J==="object"}function N_(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function es4(J,Z){if(!(0,o70.isPlainObject)(J)||!(0,o70.isPlainObject)(Z))return!1;return!0}});var YJ0=B((ZJ0)=>{Object.defineProperty(ZJ0,"__esModule",{value:!0});ZJ0.callWithTimeout=ZJ0.TimeoutError=void 0;class L_ extends Error{constructor(J){super(J);Object.setPrototypeOf(this,L_.prototype)}}ZJ0.TimeoutError=L_;function Ja4(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new L_("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}ZJ0.callWithTimeout=Ja4});var QJ0=B((zJ0)=>{Object.defineProperty(zJ0,"__esModule",{value:!0});zJ0.isUrlIgnored=zJ0.urlMatches=void 0;function $J0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}zJ0.urlMatches=$J0;function Xa4(J,Z){if(!Z)return!1;for(let X of Z)if($J0(J,X))return!0;return!1}zJ0.isUrlIgnored=Xa4});var BJ0=B((KJ0)=>{Object.defineProperty(KJ0,"__esModule",{value:!0});KJ0.Deferred=void 0;class GJ0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}KJ0.Deferred=GJ0});var OJ0=B((FJ0)=>{Object.defineProperty(FJ0,"__esModule",{value:!0});FJ0.BindOnceFuture=void 0;var $a4=BJ0();class HJ0{_callback;_that;_isCalled=!1;_deferred=new $a4.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}FJ0.BindOnceFuture=HJ0});var wJ0=B((VJ0)=>{Object.defineProperty(VJ0,"__esModule",{value:!0});VJ0.diagLogLevelFromString=void 0;var pQ=C(),DJ0={ALL:pQ.DiagLogLevel.ALL,VERBOSE:pQ.DiagLogLevel.VERBOSE,DEBUG:pQ.DiagLogLevel.DEBUG,INFO:pQ.DiagLogLevel.INFO,WARN:pQ.DiagLogLevel.WARN,ERROR:pQ.DiagLogLevel.ERROR,NONE:pQ.DiagLogLevel.NONE};function za4(J){if(J==null)return;let Z=DJ0[J.toUpperCase()];if(Z==null)return pQ.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(DJ0)}, using default`),pQ.DiagLogLevel.INFO;return Z}VJ0.diagLogLevelFromString=za4});var PJ0=B((MJ0)=>{Object.defineProperty(MJ0,"__esModule",{value:!0});MJ0._export=void 0;var AJ0=C(),Wa4=yL();function Qa4(J,Z){return new Promise((X)=>{AJ0.context.with((0,Wa4.suppressTracing)(AJ0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}MJ0._export=Qa4});var j91=B((I0)=>{Object.defineProperty(I0,"__esModule",{value:!0});I0.internal=I0.diagLogLevelFromString=I0.BindOnceFuture=I0.urlMatches=I0.isUrlIgnored=I0.callWithTimeout=I0.TimeoutError=I0.merge=I0.TraceState=I0.unsuppressTracing=I0.suppressTracing=I0.isTracingSuppressed=I0.setRPCMetadata=I0.getRPCMetadata=I0.deleteRPCMetadata=I0.RPCType=I0.parseTraceParent=I0.W3CTraceContextPropagator=I0.TRACE_STATE_HEADER=I0.TRACE_PARENT_HEADER=I0.CompositePropagator=I0.unrefTimer=I0.otperformance=I0.getStringListFromEnv=I0.getNumberFromEnv=I0.getBooleanFromEnv=I0.getStringFromEnv=I0._globalThis=I0.SDK_INFO=I0.parseKeyPairsIntoRecord=I0.ExportResultCode=I0.timeInputToHrTime=I0.millisToHrTime=I0.isTimeInputHrTime=I0.isTimeInput=I0.hrTimeToTimeStamp=I0.hrTimeToNanoseconds=I0.hrTimeToMilliseconds=I0.hrTimeToMicroseconds=I0.hrTimeDuration=I0.hrTime=I0.getTimeOrigin=I0.addHrTimes=I0.loggingErrorHandler=I0.setGlobalErrorHandler=I0.globalErrorHandler=I0.sanitizeAttributes=I0.isAttributeValue=I0.AnchoredClock=I0.W3CBaggagePropagator=void 0;var Ga4=M90();Object.defineProperty(I0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return Ga4.W3CBaggagePropagator}});var Ka4=C90();Object.defineProperty(I0,"AnchoredClock",{enumerable:!0,get:function(){return Ka4.AnchoredClock}});var LJ0=k90();Object.defineProperty(I0,"isAttributeValue",{enumerable:!0,get:function(){return LJ0.isAttributeValue}});Object.defineProperty(I0,"sanitizeAttributes",{enumerable:!0,get:function(){return LJ0.sanitizeAttributes}});var CJ0=x90();Object.defineProperty(I0,"globalErrorHandler",{enumerable:!0,get:function(){return CJ0.globalErrorHandler}});Object.defineProperty(I0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return CJ0.setGlobalErrorHandler}});var qa4=U91();Object.defineProperty(I0,"loggingErrorHandler",{enumerable:!0,get:function(){return qa4.loggingErrorHandler}});var fZ=O70();Object.defineProperty(I0,"addHrTimes",{enumerable:!0,get:function(){return fZ.addHrTimes}});Object.defineProperty(I0,"getTimeOrigin",{enumerable:!0,get:function(){return fZ.getTimeOrigin}});Object.defineProperty(I0,"hrTime",{enumerable:!0,get:function(){return fZ.hrTime}});Object.defineProperty(I0,"hrTimeDuration",{enumerable:!0,get:function(){return fZ.hrTimeDuration}});Object.defineProperty(I0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return fZ.hrTimeToMicroseconds}});Object.defineProperty(I0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return fZ.hrTimeToMilliseconds}});Object.defineProperty(I0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return fZ.hrTimeToNanoseconds}});Object.defineProperty(I0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return fZ.hrTimeToTimeStamp}});Object.defineProperty(I0,"isTimeInput",{enumerable:!0,get:function(){return fZ.isTimeInput}});Object.defineProperty(I0,"isTimeInputHrTime",{enumerable:!0,get:function(){return fZ.isTimeInputHrTime}});Object.defineProperty(I0,"millisToHrTime",{enumerable:!0,get:function(){return fZ.millisToHrTime}});Object.defineProperty(I0,"timeInputToHrTime",{enumerable:!0,get:function(){return fZ.timeInputToHrTime}});var Ba4=V70();Object.defineProperty(I0,"ExportResultCode",{enumerable:!0,get:function(){return Ba4.ExportResultCode}});var Ha4=B91();Object.defineProperty(I0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return Ha4.parseKeyPairsIntoRecord}});var S3=O91();Object.defineProperty(I0,"SDK_INFO",{enumerable:!0,get:function(){return S3.SDK_INFO}});Object.defineProperty(I0,"_globalThis",{enumerable:!0,get:function(){return S3._globalThis}});Object.defineProperty(I0,"getStringFromEnv",{enumerable:!0,get:function(){return S3.getStringFromEnv}});Object.defineProperty(I0,"getBooleanFromEnv",{enumerable:!0,get:function(){return S3.getBooleanFromEnv}});Object.defineProperty(I0,"getNumberFromEnv",{enumerable:!0,get:function(){return S3.getNumberFromEnv}});Object.defineProperty(I0,"getStringListFromEnv",{enumerable:!0,get:function(){return S3.getStringListFromEnv}});Object.defineProperty(I0,"otperformance",{enumerable:!0,get:function(){return S3.otperformance}});Object.defineProperty(I0,"unrefTimer",{enumerable:!0,get:function(){return S3.unrefTimer}});var Fa4=N70();Object.defineProperty(I0,"CompositePropagator",{enumerable:!0,get:function(){return Fa4.CompositePropagator}});var C_=y70();Object.defineProperty(I0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return C_.TRACE_PARENT_HEADER}});Object.defineProperty(I0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return C_.TRACE_STATE_HEADER}});Object.defineProperty(I0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return C_.W3CTraceContextPropagator}});Object.defineProperty(I0,"parseTraceParent",{enumerable:!0,get:function(){return C_.parseTraceParent}});var j_=d70();Object.defineProperty(I0,"RPCType",{enumerable:!0,get:function(){return j_.RPCType}});Object.defineProperty(I0,"deleteRPCMetadata",{enumerable:!0,get:function(){return j_.deleteRPCMetadata}});Object.defineProperty(I0,"getRPCMetadata",{enumerable:!0,get:function(){return j_.getRPCMetadata}});Object.defineProperty(I0,"setRPCMetadata",{enumerable:!0,get:function(){return j_.setRPCMetadata}});var C91=yL();Object.defineProperty(I0,"isTracingSuppressed",{enumerable:!0,get:function(){return C91.isTracingSuppressed}});Object.defineProperty(I0,"suppressTracing",{enumerable:!0,get:function(){return C91.suppressTracing}});Object.defineProperty(I0,"unsuppressTracing",{enumerable:!0,get:function(){return C91.unsuppressTracing}});var Ua4=N91();Object.defineProperty(I0,"TraceState",{enumerable:!0,get:function(){return Ua4.TraceState}});var Oa4=JJ0();Object.defineProperty(I0,"merge",{enumerable:!0,get:function(){return Oa4.merge}});var jJ0=YJ0();Object.defineProperty(I0,"TimeoutError",{enumerable:!0,get:function(){return jJ0.TimeoutError}});Object.defineProperty(I0,"callWithTimeout",{enumerable:!0,get:function(){return jJ0.callWithTimeout}});var RJ0=QJ0();Object.defineProperty(I0,"isUrlIgnored",{enumerable:!0,get:function(){return RJ0.isUrlIgnored}});Object.defineProperty(I0,"urlMatches",{enumerable:!0,get:function(){return RJ0.urlMatches}});var Da4=OJ0();Object.defineProperty(I0,"BindOnceFuture",{enumerable:!0,get:function(){return Da4.BindOnceFuture}});var Va4=wJ0();Object.defineProperty(I0,"diagLogLevelFromString",{enumerable:!0,get:function(){return Va4.diagLogLevelFromString}});var Ia4=PJ0();I0.internal={_export:Ia4._export}});var gL=B((SJ0)=>{Object.defineProperty(SJ0,"__esModule",{value:!0});SJ0.AttributeNames=void 0;var wa4;(function(J){J.AWS_OPERATION="aws.operation",J.AWS_REGION="aws.region",J.AWS_SERVICE_API="aws.service.api",J.AWS_SERVICE_NAME="aws.service.name",J.AWS_SERVICE_IDENTIFIER="aws.service.identifier",J.AWS_REQUEST_ID="aws.request.id",J.AWS_REQUEST_EXTENDED_ID="aws.request.extended_id",J.AWS_SIGNATURE_VERSION="aws.signature.version",J.AWS_S3_BUCKET="aws.s3.bucket",J.AWS_KINESIS_STREAM_NAME="aws.kinesis.stream.name"})(wa4=SJ0.AttributeNames||(SJ0.AttributeNames={}))});var bJ0=B((kJ0)=>{Object.defineProperty(kJ0,"__esModule",{value:!0});var Jw=C(),dL=Symbol("opentelemetry.pubsub-propagation.start_span"),eI=Symbol("opentelemetry.pubsub-propagation.end_span"),Aa4=(J,Z,X)=>{let Y=J.filter;Object.defineProperty(J,"filter",{enumerable:!1,value:function(...z){let W=Y.apply(this,z);return E91(W,Z,X),W}})};function TJ0(J){return typeof J?.then==="function"}var fJ0=(J,Z,X,Y)=>{let $=J[Z];Object.defineProperty(J,Z,{enumerable:!1,value:function(...W){let Q=W[0],G=function(...q){let H=q[0],F=H?.[dL]?.();if(!F)return Q.apply(this,q);let U=Jw.context.with(Jw.trace.setSpan(Y,F),()=>{let D;try{if(D=Q.apply(this,q),TJ0(D)){let V=()=>H[eI]?.();D.then(V,V)}return D}finally{if(!TJ0(D))H[eI]?.()}});if(typeof U==="object"){let D=Object.getOwnPropertyDescriptor(H,dL);D&&Object.defineProperty(U,dL,D);let V=Object.getOwnPropertyDescriptor(H,eI);V&&Object.defineProperty(U,eI,V)}return U};W[0]=G;let K=$.apply(this,W);if(Array.isArray(K))E91(K,X,Y);return K}})},E91=(J,Z,X=Jw.context.active())=>{fJ0(J,"forEach",Z,X),fJ0(J,"map",Z,X),Aa4(J,Z,X)},Ma4=(J,Z,X,Y,$,z,W)=>{let Q=[],G=Jw.trace.getSpanContext($);if(G)Q.push({context:G});let K=`${Z} process`,q=z.startSpan(K,{kind:Jw.SpanKind.CONSUMER,attributes:{...X,["messaging.operation"]:"process"},links:Q},Y);Object.defineProperty(J,dL,{enumerable:!1,writable:!0,value:()=>q}),Object.defineProperty(J,eI,{enumerable:!1,writable:!0,value:()=>{q.end(),Object.defineProperty(J,eI,{enumerable:!1,writable:!0,value:()=>{}})}});try{W?.(q,J)}catch(H){Jw.diag.error("opentelemetry-pubsub-propagation: process hook error",H)}return q},Na4=({messages:J,tracer:Z,parentContext:X,messageToSpanDetails:Y,processHook:$})=>{J.forEach((z)=>{let{attributes:W,name:Q,parentContext:G}=Y(z);Object.defineProperty(z,dL,{enumerable:!1,writable:!0,value:()=>Ma4(z,Q,W,X,G,Z,$)})})};kJ0.default={patchMessagesArrayToStartProcessSpans:Na4,patchArrayForProcessSpans:E91}});var hJ0=B((S91)=>{Object.defineProperty(S91,"__esModule",{value:!0});S91.pubsubPropagation=void 0;var La4=bJ0();Object.defineProperty(S91,"pubsubPropagation",{enumerable:!0,get:function(){return La4.default}})});var T91=B((vJ0)=>{Object.defineProperty(vJ0,"__esModule",{value:!0});vJ0.addPropagationFieldsToAttributeNames=vJ0.extractPropagationContext=vJ0.injectPropagationContext=vJ0.contextGetter=vJ0.contextSetter=vJ0.MAX_MESSAGE_ATTRIBUTES=void 0;var Zw=C();vJ0.MAX_MESSAGE_ATTRIBUTES=10;class _J0{set(J,Z,X){J[Z]={DataType:"String",StringValue:X}}}vJ0.contextSetter=new _J0;class yJ0{keys(J){if(J==null)return[];return Object.keys(J)}get(J,Z){return J?.[Z]?.StringValue||J?.[Z]?.Value}}vJ0.contextGetter=new yJ0;var ja4=(J)=>{let Z=J??{};if(Object.keys(Z).length+Zw.propagation.fields().length<=vJ0.MAX_MESSAGE_ATTRIBUTES)Zw.propagation.inject(Zw.context.active(),Z,vJ0.contextSetter);else Zw.diag.warn("aws-sdk instrumentation: cannot set context propagation on SQS/SNS message due to maximum amount of MessageAttributes");return Z};vJ0.injectPropagationContext=ja4;var Ra4=(J,Z)=>{let X=Zw.propagation.fields();if(Object.keys(J.MessageAttributes||[]).some(($)=>X.includes($)))return J.MessageAttributes;else if(Z&&J.Body)try{return JSON.parse(J.Body).MessageAttributes}catch{Zw.diag.debug("failed to parse SQS payload to extract context propagation, trace might be incomplete.")}return};vJ0.extractPropagationContext=Ra4;var Ea4=(J=[],Z)=>{return J.length?Array.from(new Set([...J,...Z])):Z};vJ0.addPropagationFieldsToAttributeNames=Ea4});var pJ0=B((cJ0)=>{Object.defineProperty(cJ0,"__esModule",{value:!0});cJ0.SqsServiceExtension=void 0;var nQ=C(),uJ0=hJ0(),u9=j1(),uL=T91();class mJ0{requestPreSpanHook(J,Z){let X=this.extractQueueUrl(J.commandInput),Y=this.extractQueueNameFromUrl(X),$=nQ.SpanKind.CLIENT,z,W={[u9.SEMATTRS_MESSAGING_SYSTEM]:"aws.sqs",[u9.SEMATTRS_MESSAGING_DESTINATION_KIND]:u9.MESSAGINGDESTINATIONKINDVALUES_QUEUE,[u9.SEMATTRS_MESSAGING_DESTINATION]:Y,[u9.SEMATTRS_MESSAGING_URL]:X},Q=!1;switch(J.commandName){case"ReceiveMessage":Q=!0,$=nQ.SpanKind.CONSUMER,z=`${Y} receive`,W[u9.SEMATTRS_MESSAGING_OPERATION]=u9.MESSAGINGOPERATIONVALUES_RECEIVE,J.commandInput.MessageAttributeNames=(0,uL.addPropagationFieldsToAttributeNames)(J.commandInput.MessageAttributeNames,nQ.propagation.fields());break;case"SendMessage":case"SendMessageBatch":$=nQ.SpanKind.PRODUCER,z=`${Y} send`;break}return{isIncoming:Q,spanAttributes:W,spanKind:$,spanName:z}}requestPostSpanHook=(J)=>{switch(J.commandName){case"SendMessage":{let Z=J.commandInput.MessageAttributes??{};if(Z)J.commandInput.MessageAttributes=(0,uL.injectPropagationContext)(Z)}break;case"SendMessageBatch":{let Z=J.commandInput?.Entries;if(Array.isArray(Z))Z.forEach((X)=>{X.MessageAttributes=(0,uL.injectPropagationContext)(X.MessageAttributes??{})})}break}};responseHook=(J,Z,X,Y)=>{switch(J.request.commandName){case"SendMessage":Z.setAttribute(u9.SEMATTRS_MESSAGING_MESSAGE_ID,J?.data?.MessageId);break;case"SendMessageBatch":break;case"ReceiveMessage":{let $=J?.data?.Messages;if($){let z=this.extractQueueUrl(J.request.commandInput),W=this.extractQueueNameFromUrl(z);uJ0.pubsubPropagation.patchMessagesArrayToStartProcessSpans({messages:$,parentContext:nQ.trace.setSpan(nQ.context.active(),Z),tracer:X,messageToSpanDetails:(Q)=>({name:W??"unknown",parentContext:nQ.propagation.extract(nQ.ROOT_CONTEXT,(0,uL.extractPropagationContext)(Q,Y.sqsExtractContextPropagationFromPayload),uL.contextGetter),attributes:{[u9.SEMATTRS_MESSAGING_SYSTEM]:"aws.sqs",[u9.SEMATTRS_MESSAGING_DESTINATION]:W,[u9.SEMATTRS_MESSAGING_DESTINATION_KIND]:u9.MESSAGINGDESTINATIONKINDVALUES_QUEUE,[u9.SEMATTRS_MESSAGING_MESSAGE_ID]:Q.MessageId,[u9.SEMATTRS_MESSAGING_URL]:z,[u9.SEMATTRS_MESSAGING_OPERATION]:u9.MESSAGINGOPERATIONVALUES_PROCESS}}),processHook:(Q,G)=>Y.sqsProcessHook?.(Q,{message:G})}),uJ0.pubsubPropagation.patchArrayForProcessSpans($,X,nQ.context.active())}break}}};extractQueueUrl=(J)=>{return J?.QueueUrl};extractQueueNameFromUrl=(J)=>{if(!J)return;let Z=J.split("/");if(Z.length===0)return;return Z[Z.length-1]}}cJ0.SqsServiceExtension=mJ0});var oJ0=B((nJ0)=>{Object.defineProperty(nJ0,"__esModule",{value:!0});nJ0.GEN_AI_TOKEN_TYPE_VALUE_OUTPUT=nJ0.GEN_AI_TOKEN_TYPE_VALUE_INPUT=nJ0.GEN_AI_SYSTEM_VALUE_AWS_BEDROCK=nJ0.GEN_AI_OPERATION_NAME_VALUE_CHAT=nJ0.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS=nJ0.ATTR_GEN_AI_USAGE_INPUT_TOKENS=nJ0.ATTR_GEN_AI_TOKEN_TYPE=nJ0.ATTR_GEN_AI_SYSTEM=nJ0.ATTR_GEN_AI_RESPONSE_FINISH_REASONS=nJ0.ATTR_GEN_AI_REQUEST_TOP_P=nJ0.ATTR_GEN_AI_REQUEST_TEMPERATURE=nJ0.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES=nJ0.ATTR_GEN_AI_REQUEST_MODEL=nJ0.ATTR_GEN_AI_REQUEST_MAX_TOKENS=nJ0.ATTR_GEN_AI_OPERATION_NAME=void 0;nJ0.ATTR_GEN_AI_OPERATION_NAME="gen_ai.operation.name";nJ0.ATTR_GEN_AI_REQUEST_MAX_TOKENS="gen_ai.request.max_tokens";nJ0.ATTR_GEN_AI_REQUEST_MODEL="gen_ai.request.model";nJ0.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES="gen_ai.request.stop_sequences";nJ0.ATTR_GEN_AI_REQUEST_TEMPERATURE="gen_ai.request.temperature";nJ0.ATTR_GEN_AI_REQUEST_TOP_P="gen_ai.request.top_p";nJ0.ATTR_GEN_AI_RESPONSE_FINISH_REASONS="gen_ai.response.finish_reasons";nJ0.ATTR_GEN_AI_SYSTEM="gen_ai.system";nJ0.ATTR_GEN_AI_TOKEN_TYPE="gen_ai.token.type";nJ0.ATTR_GEN_AI_USAGE_INPUT_TOKENS="gen_ai.usage.input_tokens";nJ0.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS="gen_ai.usage.output_tokens";nJ0.GEN_AI_OPERATION_NAME_VALUE_CHAT="chat";nJ0.GEN_AI_SYSTEM_VALUE_AWS_BEDROCK="aws.bedrock";nJ0.GEN_AI_TOKEN_TYPE_VALUE_INPUT="input";nJ0.GEN_AI_TOKEN_TYPE_VALUE_OUTPUT="output"});var tJ0=B((aJ0)=>{Object.defineProperty(aJ0,"__esModule",{value:!0});aJ0.BedrockRuntimeServiceExtension=void 0;var na4=C(),u1=oJ0(),f91=j91();class sJ0{tokenUsage;operationDuration;updateMetricInstruments(J){this.tokenUsage=J.createHistogram("gen_ai.client.token.usage",{unit:"{token}",description:"Measures number of input and output tokens used",valueType:na4.ValueType.INT,advice:{explicitBucketBoundaries:[1,4,16,64,256,1024,4096,16384,65536,262144,1048576,4194304,16777216,67108864]}}),this.operationDuration=J.createHistogram("gen_ai.client.operation.duration",{unit:"s",description:"GenAI operation duration",advice:{explicitBucketBoundaries:[0.01,0.02,0.04,0.08,0.16,0.32,0.64,1.28,2.56,5.12,10.24,20.48,40.96,81.92]}})}requestPreSpanHook(J,Z,X){switch(J.commandName){case"Converse":return this.requestPreSpanHookConverse(J,Z,X);case"InvokeModel":return this.requestPreSpanHookInvokeModel(J,Z,X)}return{isIncoming:!1}}requestPreSpanHookConverse(J,Z,X){let Y=u1.GEN_AI_OPERATION_NAME_VALUE_CHAT,$={[u1.ATTR_GEN_AI_SYSTEM]:u1.GEN_AI_SYSTEM_VALUE_AWS_BEDROCK,[u1.ATTR_GEN_AI_OPERATION_NAME]:u1.GEN_AI_OPERATION_NAME_VALUE_CHAT},z=J.commandInput.modelId;if(z){if($[u1.ATTR_GEN_AI_REQUEST_MODEL]=z,Y)Y+=` ${z}`}let W=J.commandInput.inferenceConfig;if(W){let{maxTokens:Q,temperature:G,topP:K,stopSequences:q}=W;if(Q!==void 0)$[u1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=Q;if(G!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=G;if(K!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TOP_P]=K;if(q!==void 0)$[u1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=q}return{spanName:Y,isIncoming:!1,spanAttributes:$}}requestPreSpanHookInvokeModel(J,Z,X){let Y,$={[u1.ATTR_GEN_AI_SYSTEM]:u1.GEN_AI_SYSTEM_VALUE_AWS_BEDROCK},z=J.commandInput?.modelId;if(z)$[u1.ATTR_GEN_AI_REQUEST_MODEL]=z;if(J.commandInput?.body){let W=JSON.parse(J.commandInput.body);if(z.includes("amazon.titan")){if(W.textGenerationConfig?.temperature!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=W.textGenerationConfig.temperature;if(W.textGenerationConfig?.topP!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TOP_P]=W.textGenerationConfig.topP;if(W.textGenerationConfig?.maxTokenCount!==void 0)$[u1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=W.textGenerationConfig.maxTokenCount;if(W.textGenerationConfig?.stopSequences!==void 0)$[u1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=W.textGenerationConfig.stopSequences}else if(z.includes("amazon.nova")){if(W.inferenceConfig?.temperature!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=W.inferenceConfig.temperature;if(W.inferenceConfig?.top_p!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TOP_P]=W.inferenceConfig.top_p;if(W.inferenceConfig?.max_new_tokens!==void 0)$[u1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=W.inferenceConfig.max_new_tokens;if(W.inferenceConfig?.stopSequences!==void 0)$[u1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=W.inferenceConfig.stopSequences}else if(z.includes("anthropic.claude")){if(W.max_tokens!==void 0)$[u1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=W.max_tokens;if(W.temperature!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=W.temperature;if(W.top_p!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TOP_P]=W.top_p;if(W.stop_sequences!==void 0)$[u1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=W.stop_sequences}else if(z.includes("meta.llama")){if(W.max_gen_len!==void 0)$[u1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=W.max_gen_len;if(W.temperature!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=W.temperature;if(W.top_p!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TOP_P]=W.top_p}else if(z.includes("cohere.command-r")){if(W.max_tokens!==void 0)$[u1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=W.max_tokens;if(W.temperature!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=W.temperature;if(W.p!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TOP_P]=W.p;if(W.message!==void 0)$[u1.ATTR_GEN_AI_USAGE_INPUT_TOKENS]=Math.ceil(W.message.length/6);if(W.stop_sequences!==void 0)$[u1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=W.stop_sequences}else if(z.includes("cohere.command")){if(W.max_tokens!==void 0)$[u1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=W.max_tokens;if(W.temperature!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=W.temperature;if(W.p!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TOP_P]=W.p;if(W.prompt!==void 0)$[u1.ATTR_GEN_AI_USAGE_INPUT_TOKENS]=Math.ceil(W.prompt.length/6);if(W.stop_sequences!==void 0)$[u1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=W.stop_sequences}else if(z.includes("mistral")){if(W.prompt!==void 0)$[u1.ATTR_GEN_AI_USAGE_INPUT_TOKENS]=Math.ceil(W.prompt.length/6);if(W.max_tokens!==void 0)$[u1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=W.max_tokens;if(W.temperature!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=W.temperature;if(W.top_p!==void 0)$[u1.ATTR_GEN_AI_REQUEST_TOP_P]=W.top_p;if(W.stop!==void 0)$[u1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=W.stop}}return{spanName:Y,isIncoming:!1,spanAttributes:$}}responseHook(J,Z,X,Y,$){if(!Z.isRecording())return;switch(J.request.commandName){case"Converse":return this.responseHookConverse(J,Z,X,Y,$);case"InvokeModel":return this.responseHookInvokeModel(J,Z,X,Y)}}responseHookConverse(J,Z,X,Y,$){let{stopReason:z,usage:W}=J.data,Q={[u1.ATTR_GEN_AI_SYSTEM]:u1.GEN_AI_SYSTEM_VALUE_AWS_BEDROCK,[u1.ATTR_GEN_AI_OPERATION_NAME]:u1.GEN_AI_OPERATION_NAME_VALUE_CHAT,[u1.ATTR_GEN_AI_REQUEST_MODEL]:J.request.commandInput.modelId},G=(0,f91.hrTimeToMilliseconds)((0,f91.hrTimeDuration)($,(0,f91.hrTime)()))/1000;if(this.operationDuration.record(G,Q),W){let{inputTokens:K,outputTokens:q}=W;if(K!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,K),this.tokenUsage.record(K,{...Q,[u1.ATTR_GEN_AI_TOKEN_TYPE]:u1.GEN_AI_TOKEN_TYPE_VALUE_INPUT});if(q!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,q),this.tokenUsage.record(q,{...Q,[u1.ATTR_GEN_AI_TOKEN_TYPE]:u1.GEN_AI_TOKEN_TYPE_VALUE_OUTPUT})}if(z!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[z])}responseHookInvokeModel(J,Z,X,Y){let $=J.request.commandInput?.modelId;if(J.data?.body){let z=new TextDecoder().decode(J.data.body),W=JSON.parse(z);if($.includes("amazon.titan")){if(W.inputTextTokenCount!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,W.inputTextTokenCount);if(W.results?.[0]?.tokenCount!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,W.results[0].tokenCount);if(W.results?.[0]?.completionReason!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[W.results[0].completionReason])}else if($.includes("amazon.nova")){if(W.usage!==void 0){if(W.usage.inputTokens!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,W.usage.inputTokens);if(W.usage.outputTokens!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,W.usage.outputTokens)}if(W.stopReason!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[W.stopReason])}else if($.includes("anthropic.claude")){if(W.usage?.input_tokens!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,W.usage.input_tokens);if(W.usage?.output_tokens!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,W.usage.output_tokens);if(W.stop_reason!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[W.stop_reason])}else if($.includes("meta.llama")){if(W.prompt_token_count!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,W.prompt_token_count);if(W.generation_token_count!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,W.generation_token_count);if(W.stop_reason!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[W.stop_reason])}else if($.includes("cohere.command-r")){if(W.text!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Math.ceil(W.text.length/6));if(W.finish_reason!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[W.finish_reason])}else if($.includes("cohere.command")){if(W.generations?.[0]?.text!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Math.ceil(W.generations[0].text.length/6));if(W.generations?.[0]?.finish_reason!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[W.generations[0].finish_reason])}else if($.includes("mistral")){if(W.outputs?.[0]?.text!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Math.ceil(W.outputs[0].text.length/6));if(W.outputs?.[0]?.stop_reason!==void 0)Z.setAttribute(u1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[W.outputs[0].stop_reason])}}}}aJ0.BedrockRuntimeServiceExtension=sJ0});var XZ0=B((JZ0)=>{Object.defineProperty(JZ0,"__esModule",{value:!0});JZ0.DynamodbServiceExtension=void 0;var ia4=C(),T4=j1();class eJ0{toArray(J){return Array.isArray(J)?J:[J]}requestPreSpanHook(J,Z,X){let Y=ia4.SpanKind.CLIENT,$,z=!1,W=J.commandName,Q={[T4.SEMATTRS_DB_SYSTEM]:T4.DBSYSTEMVALUES_DYNAMODB,[T4.SEMATTRS_DB_NAME]:J.commandInput?.TableName,[T4.SEMATTRS_DB_OPERATION]:W};if(Z.dynamoDBStatementSerializer)try{let G=Z.dynamoDBStatementSerializer(W,J.commandInput);if(typeof G==="string")Q[T4.SEMATTRS_DB_STATEMENT]=G}catch(G){X.error("failed to sanitize DynamoDB statement",G)}if(J.commandInput?.TableName)Q[T4.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES]=[J.commandInput.TableName];else if(J.commandInput?.RequestItems)Q[T4.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES]=Object.keys(J.commandInput.RequestItems);if(W==="CreateTable"||W==="UpdateTable"){if(J.commandInput?.ProvisionedThroughput)Q[T4.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY]=J.commandInput.ProvisionedThroughput.ReadCapacityUnits,Q[T4.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY]=J.commandInput.ProvisionedThroughput.WriteCapacityUnits}if(W==="GetItem"||W==="Scan"||W==="Query"){if(J.commandInput?.ConsistentRead)Q[T4.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ]=J.commandInput.ConsistentRead}if(W==="Query"||W==="Scan"){if(J.commandInput?.ProjectionExpression)Q[T4.SEMATTRS_AWS_DYNAMODB_PROJECTION]=J.commandInput.ProjectionExpression}if(W==="CreateTable"){if(J.commandInput?.GlobalSecondaryIndexes)Q[T4.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES]=this.toArray(J.commandInput.GlobalSecondaryIndexes).map((G)=>JSON.stringify(G));if(J.commandInput?.LocalSecondaryIndexes)Q[T4.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES]=this.toArray(J.commandInput.LocalSecondaryIndexes).map((G)=>JSON.stringify(G))}if(W==="ListTables"||W==="Query"||W==="Scan"){if(J.commandInput?.Limit)Q[T4.SEMATTRS_AWS_DYNAMODB_LIMIT]=J.commandInput.Limit}if(W==="ListTables"){if(J.commandInput?.ExclusiveStartTableName)Q[T4.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE]=J.commandInput.ExclusiveStartTableName}if(W==="Query"){if(J.commandInput?.ScanIndexForward)Q[T4.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD]=J.commandInput.ScanIndexForward;if(J.commandInput?.IndexName)Q[T4.SEMATTRS_AWS_DYNAMODB_INDEX_NAME]=J.commandInput.IndexName;if(J.commandInput?.Select)Q[T4.SEMATTRS_AWS_DYNAMODB_SELECT]=J.commandInput.Select}if(W==="Scan"){if(J.commandInput?.Segment)Q[T4.SEMATTRS_AWS_DYNAMODB_SEGMENT]=J.commandInput?.Segment;if(J.commandInput?.TotalSegments)Q[T4.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS]=J.commandInput?.TotalSegments;if(J.commandInput?.IndexName)Q[T4.SEMATTRS_AWS_DYNAMODB_INDEX_NAME]=J.commandInput.IndexName;if(J.commandInput?.Select)Q[T4.SEMATTRS_AWS_DYNAMODB_SELECT]=J.commandInput.Select}if(W==="UpdateTable"){if(J.commandInput?.AttributeDefinitions)Q[T4.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS]=this.toArray(J.commandInput.AttributeDefinitions).map((G)=>JSON.stringify(G));if(J.commandInput?.GlobalSecondaryIndexUpdates)Q[T4.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES]=this.toArray(J.commandInput.GlobalSecondaryIndexUpdates).map((G)=>JSON.stringify(G))}return{isIncoming:!1,spanAttributes:Q,spanKind:Y,spanName:$}}responseHook(J,Z,X,Y){if(J.data?.ConsumedCapacity)Z.setAttribute(T4.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY,oa4(J.data.ConsumedCapacity).map(($)=>JSON.stringify($)));if(J.data?.ItemCollectionMetrics)Z.setAttribute(T4.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS,this.toArray(J.data.ItemCollectionMetrics).map(($)=>JSON.stringify($)));if(J.data?.TableNames)Z.setAttribute(T4.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT,J.data?.TableNames.length);if(J.data?.Count)Z.setAttribute(T4.SEMATTRS_AWS_DYNAMODB_COUNT,J.data?.Count);if(J.data?.ScannedCount)Z.setAttribute(T4.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT,J.data?.ScannedCount)}}JZ0.DynamodbServiceExtension=eJ0;function oa4(J){return Array.isArray(J)?J:[J]}});var QZ0=B((zZ0)=>{Object.defineProperty(zZ0,"__esModule",{value:!0});zZ0.SnsServiceExtension=void 0;var YZ0=C(),mL=j1(),sa4=T91();class $Z0{requestPreSpanHook(J,Z){let X=YZ0.SpanKind.CLIENT,Y=`SNS ${J.commandName}`,$={[mL.SEMATTRS_MESSAGING_SYSTEM]:"aws.sns"};if(J.commandName==="Publish"){X=YZ0.SpanKind.PRODUCER,$[mL.SEMATTRS_MESSAGING_DESTINATION_KIND]=mL.MESSAGINGDESTINATIONKINDVALUES_TOPIC;let{TopicArn:z,TargetArn:W,PhoneNumber:Q}=J.commandInput;$[mL.SEMATTRS_MESSAGING_DESTINATION]=this.extractDestinationName(z,W,Q),$["messaging.destination.name"]=z||W||Q||"unknown",Y=`${Q?"phone_number":$[mL.SEMATTRS_MESSAGING_DESTINATION]} send`}return{isIncoming:!1,spanAttributes:$,spanKind:X,spanName:Y}}requestPostSpanHook(J){if(J.commandName==="Publish"){let Z=J.commandInput.MessageAttributes??{};if(Z)J.commandInput.MessageAttributes=(0,sa4.injectPropagationContext)(Z)}}responseHook(J,Z,X,Y){}extractDestinationName(J,Z,X){if(J||Z){let Y=J??Z;try{return Y.substring(Y.lastIndexOf(":")+1)}catch($){return Y}}else if(X)return X;else return"unknown"}}zZ0.SnsServiceExtension=$Z0});var HZ0=B((qZ0)=>{Object.defineProperty(qZ0,"__esModule",{value:!0});qZ0.LambdaServiceExtension=void 0;var k91=C(),R_=j1(),GZ0=C();class E_{static Invoke="Invoke"}class KZ0{requestPreSpanHook(J,Z){let X=this.extractFunctionName(J.commandInput),Y={},$;switch(J.commandName){case"Invoke":if(Y={[R_.SEMATTRS_FAAS_INVOKED_NAME]:X,[R_.SEMATTRS_FAAS_INVOKED_PROVIDER]:"aws"},J.region)Y[R_.SEMATTRS_FAAS_INVOKED_REGION]=J.region;$=`${X} ${E_.Invoke}`;break}return{isIncoming:!1,spanAttributes:Y,spanKind:k91.SpanKind.CLIENT,spanName:$}}requestPostSpanHook=(J)=>{switch(J.commandName){case E_.Invoke:if(J.commandInput)J.commandInput.ClientContext=aa4(J.commandInput.ClientContext);break}};responseHook(J,Z,X,Y){switch(J.request.commandName){case E_.Invoke:Z.setAttribute(R_.SEMATTRS_FAAS_EXECUTION,J.requestId);break}}extractFunctionName=(J)=>{return J?.FunctionName}}qZ0.LambdaServiceExtension=KZ0;var aa4=(J)=>{try{let Z={};GZ0.propagation.inject(GZ0.context.active(),Z);let X=J?JSON.parse(Buffer.from(J,"base64").toString("utf8")):{},Y={...X,Custom:{...X.Custom,...Z}},$=Buffer.from(JSON.stringify(Y)).toString("base64");if($.length>3583)return k91.diag.warn("lambda instrumentation: cannot set context propagation on lambda invoke parameters due to ClientContext length limitations."),J;return $}catch(Z){return k91.diag.debug("lambda instrumentation: failed to set context propagation on ClientContext",Z),J}}});var DZ0=B((UZ0)=>{Object.defineProperty(UZ0,"__esModule",{value:!0});UZ0.S3ServiceExtension=void 0;var ra4=C(),ta4=gL();class FZ0{requestPreSpanHook(J,Z){let X=J.commandInput?.Bucket,Y=ra4.SpanKind.CLIENT,$={};if(X)$[ta4.AttributeNames.AWS_S3_BUCKET]=X;return{isIncoming:!1,spanAttributes:$,spanKind:Y}}}UZ0.S3ServiceExtension=FZ0});var AZ0=B((IZ0)=>{Object.defineProperty(IZ0,"__esModule",{value:!0});IZ0.KinesisServiceExtension=void 0;var ea4=C(),Jr4=gL();class VZ0{requestPreSpanHook(J,Z){let X=J.commandInput?.StreamName,Y=ea4.SpanKind.CLIENT,$={};if(X)$[Jr4.AttributeNames.AWS_KINESIS_STREAM_NAME]=X;return{isIncoming:!1,spanAttributes:$,spanKind:Y}}}IZ0.KinesisServiceExtension=VZ0});var LZ0=B((NZ0)=>{Object.defineProperty(NZ0,"__esModule",{value:!0});NZ0.ServicesExtensions=void 0;var Zr4=pJ0(),Xr4=tJ0(),Yr4=XZ0(),$r4=QZ0(),zr4=HZ0(),Wr4=DZ0(),Qr4=AZ0();class MZ0{services=new Map;constructor(){this.services.set("SQS",new Zr4.SqsServiceExtension),this.services.set("SNS",new $r4.SnsServiceExtension),this.services.set("DynamoDB",new Yr4.DynamodbServiceExtension),this.services.set("Lambda",new zr4.LambdaServiceExtension),this.services.set("S3",new Wr4.S3ServiceExtension),this.services.set("Kinesis",new Qr4.KinesisServiceExtension),this.services.set("BedrockRuntime",new Xr4.BedrockRuntimeServiceExtension)}requestPreSpanHook(J,Z,X){let Y=this.services.get(J.serviceName);if(!Y)return{isIncoming:!1};return Y.requestPreSpanHook(J,Z,X)}requestPostSpanHook(J){let Z=this.services.get(J.serviceName);if(!Z?.requestPostSpanHook)return;return Z.requestPostSpanHook(J)}responseHook(J,Z,X,Y,$){this.services.get(J.request.serviceName)?.responseHook?.(J,Z,X,Y,$)}updateMetricInstruments(J){for(let Z of this.services.values())Z.updateMetricInstruments?.(J)}}NZ0.ServicesExtensions=MZ0});var CZ0=B((b91)=>{Object.defineProperty(b91,"__esModule",{value:!0});b91.ServicesExtensions=void 0;var Gr4=LZ0();Object.defineProperty(b91,"ServicesExtensions",{enumerable:!0,get:function(){return Gr4.ServicesExtensions}})});var EZ0=B((jZ0)=>{Object.defineProperty(jZ0,"__esModule",{value:!0});jZ0.PACKAGE_NAME=jZ0.PACKAGE_VERSION=void 0;jZ0.PACKAGE_VERSION="0.53.0";jZ0.PACKAGE_NAME="@opentelemetry/instrumentation-aws-sdk"});var kZ0=B((TZ0)=>{Object.defineProperty(TZ0,"__esModule",{value:!0});TZ0.bindPromise=TZ0.extractAttributesFromNormalizedRequest=TZ0.normalizeV3Request=TZ0.removeSuffixFromStringIfExists=void 0;var SZ0=C(),h91=j1(),Br4=gL(),Hr4=(J,Z)=>{let X=Z.length;return J?.slice(-X)===Z?J.slice(0,J.length-X):J};TZ0.removeSuffixFromStringIfExists=Hr4;var Fr4=(J,Z,X,Y)=>{return{serviceName:J?.replace(/\s+/g,""),commandName:TZ0.removeSuffixFromStringIfExists(Z,"Command"),commandInput:X,region:Y}};TZ0.normalizeV3Request=Fr4;var Ur4=(J)=>{return{[h91.SEMATTRS_RPC_SYSTEM]:"aws-api",[h91.SEMATTRS_RPC_METHOD]:J.commandName,[h91.SEMATTRS_RPC_SERVICE]:J.serviceName,[Br4.AttributeNames.AWS_REGION]:J.region}};TZ0.extractAttributesFromNormalizedRequest=Ur4;var Or4=(J,Z,X=1)=>{let Y=J.then;return J.then=function($,z){let W=SZ0.context.bind(Z,$),Q=SZ0.context.bind(Z,z),G=Y.call(this,W,Q);return X>1?TZ0.bindPromise(G,Z,X-1):G},J};TZ0.bindPromise=Or4});var vZ0=B((_Z0)=>{Object.defineProperty(_Z0,"__esModule",{value:!0});_Z0.propwrap=void 0;var{defineProperty:bZ0,getOwnPropertyDescriptor:hZ0}=Object,Ir4=Object.prototype.hasOwnProperty,wr4=Object.getOwnPropertyNames,Ar4=(J,Z,X,Y)=>{if(Z&&typeof Z==="object"||typeof Z==="function"){for(let $ of wr4(Z))if(!Ir4.call(J,$)&&$!==X)bZ0(J,$,{get:()=>Z[$],enumerable:!(Y=hZ0(Z,$))||Y.enumerable})}return J},Mr4=(J,Z,X)=>{let Y=Z.split("."),$=[J],z=J,W,Q;for(let G=0;G<Y.length;G++)if(W=Y[G],Q=z[W],!Q)throw new TypeError(`cannot wrap "${Z}": "<obj>.${Y.slice(0,G).join(".")}" is ${typeof Q}`);else if(G<Y.length-1){if(typeof Q!=="object")throw new TypeError(`cannot wrap "${Z}": "<obj>.${Y.slice(0,G).join(".")}" is not an Object`);z=Q,$.push(z)}for(let G=Y.length-1;G>=0;G--){if(W=Y[G],z=$[G],G===Y.length-1){let H=z[W];Q=X(H)}else Q=$[G+1];let K=hZ0(z,W),q=bZ0({},W,{value:Q,enumerable:!K||K.enumerable});Ar4(q,z,W),$[G]=q}return $[0]};_Z0.propwrap=Mr4});var lZ0=B((mZ0)=>{Object.defineProperty(mZ0,"__esModule",{value:!0});mZ0.AwsInstrumentation=void 0;var o$=C(),xZ0=j91(),cL=gL(),Nr4=CZ0(),gZ0=EZ0(),s$=J6(),S_=kZ0(),Pr4=vZ0(),dZ0=j1(),uZ0=Symbol("opentelemetry.instrumentation.aws-sdk.client.config");class lL extends s$.InstrumentationBase{static component="aws-sdk";constructor(J={}){super(gZ0.PACKAGE_NAME,gZ0.PACKAGE_VERSION,J)}init(){let J=new s$.InstrumentationNodeModuleFile("@aws-sdk/middleware-stack/dist/cjs/MiddlewareStack.js",[">=3.1.0 <3.35.0"],this.patchV3ConstructStack.bind(this),this.unpatchV3ConstructStack.bind(this)),Z=new s$.InstrumentationNodeModuleFile("@aws-sdk/middleware-stack/dist-cjs/MiddlewareStack.js",[">=3.35.0"],this.patchV3ConstructStack.bind(this),this.unpatchV3ConstructStack.bind(this)),X=new s$.InstrumentationNodeModuleDefinition("@aws-sdk/middleware-stack",["^3.1.0"],void 0,void 0,[J,Z]),Y=this,$=new s$.InstrumentationNodeModuleDefinition("@smithy/middleware-stack",[">=2.0.0"],(Q,G)=>{return(0,Pr4.propwrap)(Q,"constructStack",(q)=>{return Y._diag.debug("propwrapping aws-sdk v3 constructStack"),Y._getV3ConstructStackPatch(G,q)})}),z=new s$.InstrumentationNodeModuleDefinition("@aws-sdk/smithy-client",["^3.1.0"],this.patchV3SmithyClient.bind(this),this.unpatchV3SmithyClient.bind(this)),W=new s$.InstrumentationNodeModuleDefinition("@smithy/smithy-client",[">=1.0.3"],this.patchV3SmithyClient.bind(this),this.unpatchV3SmithyClient.bind(this));return[X,$,z,W]}patchV3ConstructStack(J,Z){return this._wrap(J,"constructStack",this._getV3ConstructStackPatch.bind(this,Z)),J}unpatchV3ConstructStack(J){return this._unwrap(J,"constructStack"),J}patchV3SmithyClient(J){return this._wrap(J.Client.prototype,"send",this._getV3SmithyClientSendPatch.bind(this)),J}unpatchV3SmithyClient(J){return this._unwrap(J.Client.prototype,"send"),J}_startAwsV3Span(J,Z){let X=Z.spanName??`${J.serviceName}.${J.commandName}`;return this.tracer.startSpan(X,{kind:Z.spanKind??o$.SpanKind.CLIENT,attributes:{...(0,S_.extractAttributesFromNormalizedRequest)(J),...Z.spanAttributes}})}_callUserPreRequestHook(J,Z,X){let{preRequestHook:Y}=this.getConfig();if(Y){let $={moduleVersion:X,request:Z};(0,s$.safeExecuteInTheMiddle)(()=>Y(J,$),(z)=>{if(z)o$.diag.error(`${lL.component} instrumentation: preRequestHook error`,z)},!0)}}_callUserResponseHook(J,Z){let{responseHook:X}=this.getConfig();if(!X)return;let Y={response:Z};(0,s$.safeExecuteInTheMiddle)(()=>X(J,Y),($)=>{if($)o$.diag.error(`${lL.component} instrumentation: responseHook error`,$)},!0)}_getV3ConstructStackPatch(J,Z){let X=this;return function Y(...$){let z=Z.apply(this,$);return X.patchV3MiddlewareStack(J,z),z}}_getV3SmithyClientSendPatch(J){return function Z(X,...Y){return X[uZ0]=this.config,J.apply(this,[X,...Y])}}patchV3MiddlewareStack(J,Z){if(!(0,s$.isWrapped)(Z.resolve))this._wrap(Z,"resolve",this._getV3MiddlewareStackResolvePatch.bind(this,J));this._wrap(Z,"clone",this._getV3MiddlewareStackClonePatch.bind(this,J)),this._wrap(Z,"concat",this._getV3MiddlewareStackClonePatch.bind(this,J))}_getV3MiddlewareStackClonePatch(J,Z){let X=this;return function(...Y){let $=Z.apply(this,Y);return X.patchV3MiddlewareStack(J,$),$}}_getV3MiddlewareStackResolvePatch(J,Z){let X=this;return function(Y,$){let z=Z.call(this,Y,$);return function(Q){let G=Q[uZ0],K=G?.region?.(),q=G?.serviceId??(0,S_.removeSuffixFromStringIfExists)($.clientName||"AWS","Client"),H=$.commandName??Q.constructor?.name,F=(0,S_.normalizeV3Request)(q,H,Q.input,void 0),U=X.servicesExtensions.requestPreSpanHook(F,X.getConfig(),X._diag),D=(0,xZ0.hrTime)(),V=X._startAwsV3Span(F,U),w=o$.trace.setSpan(o$.context.active(),V),M=new Promise((P,R)=>{Promise.resolve(K).then((f)=>{F.region=f,V.setAttribute(cL.AttributeNames.AWS_REGION,f)}).catch((f)=>{o$.diag.debug(`${lL.component} instrumentation: failed to extract region from async function`,f)}).finally(()=>{X._callUserPreRequestHook(V,F,J),o$.context.with(w,()=>{return X.servicesExtensions.requestPostSpanHook(F),X._callOriginalFunction(()=>z.call(this,Q))}).then((v)=>{let l=v.output?.$metadata?.requestId;if(l)V.setAttribute(cL.AttributeNames.AWS_REQUEST_ID,l);let o=v.output?.$metadata?.httpStatusCode;if(o)V.setAttribute(dZ0.SEMATTRS_HTTP_STATUS_CODE,o);let S=v.output?.$metadata?.extendedRequestId;if(S)V.setAttribute(cL.AttributeNames.AWS_REQUEST_EXTENDED_ID,S);let i={data:v.output,request:F,requestId:l};return X.servicesExtensions.responseHook(i,V,X.tracer,X.getConfig(),D),X._callUserResponseHook(V,i),v}).catch((v)=>{let l=v?.RequestId;if(l)V.setAttribute(cL.AttributeNames.AWS_REQUEST_ID,l);let o=v?.$metadata?.httpStatusCode;if(o)V.setAttribute(dZ0.SEMATTRS_HTTP_STATUS_CODE,o);let S=v?.extendedRequestId;if(S)V.setAttribute(cL.AttributeNames.AWS_REQUEST_EXTENDED_ID,S);throw V.setStatus({code:o$.SpanStatusCode.ERROR,message:v.message}),V.recordException(v),v}).finally(()=>{V.end()}).then((v)=>{P(v)}).catch((v)=>R(v))})});return U.isIncoming?(0,S_.bindPromise)(M,w,2):M}}}_callOriginalFunction(J){if(this.getConfig().suppressInternalInstrumentation)return o$.context.with((0,xZ0.suppressTracing)(o$.context.active()),J);else return J()}_updateMetricInstruments(){if(!this.servicesExtensions)this.servicesExtensions=new Nr4.ServicesExtensions;this.servicesExtensions.updateMetricInstruments(this.meter)}}mZ0.AwsInstrumentation=lL});var nZ0=B((pZ0)=>{Object.defineProperty(pZ0,"__esModule",{value:!0})});var oZ0=B((T3)=>{var Lr4=T3&&T3.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),iZ0=T3&&T3.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))Lr4(Z,J,X)};Object.defineProperty(T3,"__esModule",{value:!0});iZ0(lZ0(),T3);iZ0(nZ0(),T3)});var y91=B((sZ0)=>{Object.defineProperty(sZ0,"__esModule",{value:!0});sZ0.PACKAGE_NAME=sZ0.PACKAGE_VERSION=void 0;sZ0.PACKAGE_VERSION="0.47.0";sZ0.PACKAGE_NAME="@opentelemetry/instrumentation-bunyan"});var tZ0=B((rZ0)=>{Object.defineProperty(rZ0,"__esModule",{value:!0});rZ0.SeverityNumber=void 0;var jr4;(function(J){J[J.UNSPECIFIED=0]="UNSPECIFIED",J[J.TRACE=1]="TRACE",J[J.TRACE2=2]="TRACE2",J[J.TRACE3=3]="TRACE3",J[J.TRACE4=4]="TRACE4",J[J.DEBUG=5]="DEBUG",J[J.DEBUG2=6]="DEBUG2",J[J.DEBUG3=7]="DEBUG3",J[J.DEBUG4=8]="DEBUG4",J[J.INFO=9]="INFO",J[J.INFO2=10]="INFO2",J[J.INFO3=11]="INFO3",J[J.INFO4=12]="INFO4",J[J.WARN=13]="WARN",J[J.WARN2=14]="WARN2",J[J.WARN3=15]="WARN3",J[J.WARN4=16]="WARN4",J[J.ERROR=17]="ERROR",J[J.ERROR2=18]="ERROR2",J[J.ERROR3=19]="ERROR3",J[J.ERROR4=20]="ERROR4",J[J.FATAL=21]="FATAL",J[J.FATAL2=22]="FATAL2",J[J.FATAL3=23]="FATAL3",J[J.FATAL4=24]="FATAL4"})(jr4=rZ0.SeverityNumber||(rZ0.SeverityNumber={}))});var T_=B((eZ0)=>{Object.defineProperty(eZ0,"__esModule",{value:!0});eZ0.NOOP_LOGGER=eZ0.NoopLogger=void 0;class x91{emit(J){}}eZ0.NoopLogger=x91;eZ0.NOOP_LOGGER=new x91});var f_=B((ZX0)=>{Object.defineProperty(ZX0,"__esModule",{value:!0});ZX0.NOOP_LOGGER_PROVIDER=ZX0.NoopLoggerProvider=void 0;var Er4=T_();class g91{getLogger(J,Z,X){return new Er4.NoopLogger}}ZX0.NoopLoggerProvider=g91;ZX0.NOOP_LOGGER_PROVIDER=new g91});var d91=B(($X0)=>{Object.defineProperty($X0,"__esModule",{value:!0});$X0.ProxyLogger=void 0;var Tr4=T_();class YX0{constructor(J,Z,X,Y){this._provider=J,this.name=Z,this.version=X,this.options=Y}emit(J){this._getLogger().emit(J)}_getLogger(){if(this._delegate)return this._delegate;let J=this._provider.getDelegateLogger(this.name,this.version,this.options);if(!J)return Tr4.NOOP_LOGGER;return this._delegate=J,this._delegate}}$X0.ProxyLogger=YX0});var u91=B((QX0)=>{Object.defineProperty(QX0,"__esModule",{value:!0});QX0.ProxyLoggerProvider=void 0;var fr4=f_(),kr4=d91();class WX0{getLogger(J,Z,X){var Y;return(Y=this.getDelegateLogger(J,Z,X))!==null&&Y!==void 0?Y:new kr4.ProxyLogger(this,J,Z,X)}getDelegate(){var J;return(J=this._delegate)!==null&&J!==void 0?J:fr4.NOOP_LOGGER_PROVIDER}setDelegate(J){this._delegate=J}getDelegateLogger(J,Z,X){var Y;return(Y=this._delegate)===null||Y===void 0?void 0:Y.getLogger(J,Z,X)}}QX0.ProxyLoggerProvider=WX0});var BX0=B((KX0)=>{Object.defineProperty(KX0,"__esModule",{value:!0});KX0._globalThis=void 0;KX0._globalThis=typeof globalThis==="object"?globalThis:global});var HX0=B((m91)=>{Object.defineProperty(m91,"__esModule",{value:!0});m91._globalThis=void 0;var br4=BX0();Object.defineProperty(m91,"_globalThis",{enumerable:!0,get:function(){return br4._globalThis}})});var FX0=B((c91)=>{Object.defineProperty(c91,"__esModule",{value:!0});c91._globalThis=void 0;var _r4=HX0();Object.defineProperty(c91,"_globalThis",{enumerable:!0,get:function(){return _r4._globalThis}})});var DX0=B((UX0)=>{Object.defineProperty(UX0,"__esModule",{value:!0});UX0.API_BACKWARDS_COMPATIBILITY_VERSION=UX0.makeGetter=UX0._global=UX0.GLOBAL_LOGS_API_KEY=void 0;var vr4=FX0();UX0.GLOBAL_LOGS_API_KEY=Symbol.for("io.opentelemetry.js.api.logs");UX0._global=vr4._globalThis;function xr4(J,Z,X){return(Y)=>Y===J?Z:X}UX0.makeGetter=xr4;UX0.API_BACKWARDS_COMPATIBILITY_VERSION=1});var AX0=B((IX0)=>{Object.defineProperty(IX0,"__esModule",{value:!0});IX0.LogsAPI=void 0;var kZ=DX0(),mr4=f_(),VX0=u91();class l91{constructor(){this._proxyLoggerProvider=new VX0.ProxyLoggerProvider}static getInstance(){if(!this._instance)this._instance=new l91;return this._instance}setGlobalLoggerProvider(J){if(kZ._global[kZ.GLOBAL_LOGS_API_KEY])return this.getLoggerProvider();return kZ._global[kZ.GLOBAL_LOGS_API_KEY]=(0,kZ.makeGetter)(kZ.API_BACKWARDS_COMPATIBILITY_VERSION,J,mr4.NOOP_LOGGER_PROVIDER),this._proxyLoggerProvider.setDelegate(J),J}getLoggerProvider(){var J,Z;return(Z=(J=kZ._global[kZ.GLOBAL_LOGS_API_KEY])===null||J===void 0?void 0:J.call(kZ._global,kZ.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&Z!==void 0?Z:this._proxyLoggerProvider}getLogger(J,Z,X){return this.getLoggerProvider().getLogger(J,Z,X)}disable(){delete kZ._global[kZ.GLOBAL_LOGS_API_KEY],this._proxyLoggerProvider=new VX0.ProxyLoggerProvider}}IX0.LogsAPI=l91});var p91=B((iQ)=>{Object.defineProperty(iQ,"__esModule",{value:!0});iQ.logs=iQ.ProxyLoggerProvider=iQ.ProxyLogger=iQ.NoopLoggerProvider=iQ.NOOP_LOGGER_PROVIDER=iQ.NoopLogger=iQ.NOOP_LOGGER=iQ.SeverityNumber=void 0;var cr4=tZ0();Object.defineProperty(iQ,"SeverityNumber",{enumerable:!0,get:function(){return cr4.SeverityNumber}});var MX0=T_();Object.defineProperty(iQ,"NOOP_LOGGER",{enumerable:!0,get:function(){return MX0.NOOP_LOGGER}});Object.defineProperty(iQ,"NoopLogger",{enumerable:!0,get:function(){return MX0.NoopLogger}});var NX0=f_();Object.defineProperty(iQ,"NOOP_LOGGER_PROVIDER",{enumerable:!0,get:function(){return NX0.NOOP_LOGGER_PROVIDER}});Object.defineProperty(iQ,"NoopLoggerProvider",{enumerable:!0,get:function(){return NX0.NoopLoggerProvider}});var lr4=d91();Object.defineProperty(iQ,"ProxyLogger",{enumerable:!0,get:function(){return lr4.ProxyLogger}});var pr4=u91();Object.defineProperty(iQ,"ProxyLoggerProvider",{enumerable:!0,get:function(){return pr4.ProxyLoggerProvider}});var nr4=AX0();iQ.logs=nr4.LogsAPI.getInstance()});var i91=B((hX0)=>{Object.defineProperty(hX0,"__esModule",{value:!0});hX0.OpenTelemetryBunyanStream=void 0;var O8=p91(),CX0=y91(),ir4=CX0.PACKAGE_NAME,or4=CX0.PACKAGE_VERSION,jX0=10,RX0=20,EX0=30,SX0=40,TX0=50,fX0=60,LX0={trace:jX0,debug:RX0,info:EX0,warn:SX0,error:TX0,fatal:fX0},kX0={};Object.keys(LX0).forEach(function(J){kX0[LX0[J]]=J});var sr4={[jX0]:O8.SeverityNumber.TRACE,[RX0]:O8.SeverityNumber.DEBUG,[EX0]:O8.SeverityNumber.INFO,[SX0]:O8.SeverityNumber.WARN,[TX0]:O8.SeverityNumber.ERROR,[fX0]:O8.SeverityNumber.FATAL},n91=[O8.SeverityNumber.TRACE2,O8.SeverityNumber.TRACE3,O8.SeverityNumber.TRACE4,O8.SeverityNumber.DEBUG2,O8.SeverityNumber.DEBUG3,O8.SeverityNumber.DEBUG4,O8.SeverityNumber.INFO2,O8.SeverityNumber.INFO3,O8.SeverityNumber.INFO4,O8.SeverityNumber.WARN2,O8.SeverityNumber.WARN3,O8.SeverityNumber.WARN4,O8.SeverityNumber.ERROR2,O8.SeverityNumber.ERROR3,O8.SeverityNumber.ERROR4,O8.SeverityNumber.FATAL2,O8.SeverityNumber.FATAL3,O8.SeverityNumber.FATAL4];function ar4(J){let Z=sr4[J];if(Z!==void 0)return Z;let X=(J-10)/60,Y=Math.floor(X*n91.length),$=Math.min(n91.length-1,Math.max(0,Y));return n91[$]}class bX0{_otelLogger;constructor(){this._otelLogger=O8.logs.getLogger(ir4,or4)}write(J){let{time:Z,level:X,msg:Y,v:$,hostname:z,pid:W,trace_id:Q,span_id:G,trace_flags:K,...q}=J,H=void 0;if(typeof Z.getTime==="function")H=Z.getTime();else q.time=Z;let F={timestamp:H,observedTimestamp:H,severityNumber:ar4(X),severityText:kX0[X],body:Y,attributes:q};this._otelLogger.emit(F)}}hX0.OpenTelemetryBunyanStream=bX0});var uX0=B((gX0)=>{Object.defineProperty(gX0,"__esModule",{value:!0});gX0.BunyanInstrumentation=void 0;var rr4=p("util"),o91=C(),s91=J6(),yX0=y91(),tr4=i91(),Xw=p91(),vX0={disableLogSending:!1,disableLogCorrelation:!1};class xX0 extends s91.InstrumentationBase{constructor(J={}){super(yX0.PACKAGE_NAME,yX0.PACKAGE_VERSION,{...vX0,...J})}init(){return[new s91.InstrumentationNodeModuleDefinition("bunyan",[">=1.0.0 <2"],(J)=>{let Z=this,X=J[Symbol.toStringTag]==="Module"?J.default:J;this._wrap(X.prototype,"_emit",this._getPatchedEmit());function Y(...z){let W,Q=void 0;if(this instanceof Y)W=this,X.apply(this,z);else W=X(...z),Q=W;if(z[1]===void 0)Z._addStream(W);return Q}(0,rr4.inherits)(Y,X);let $=Object.assign(Y,X);return this._wrap($,"createLogger",this._getPatchedCreateLogger()),$})]}setConfig(J={}){super.setConfig({...vX0,...J})}_getPatchedEmit(){return(J)=>{let Z=this;return function X(...Y){let $=Z.getConfig();if(!Z.isEnabled()||$.disableLogCorrelation)return J.apply(this,Y);let z=o91.trace.getSpan(o91.context.active());if(!z)return J.apply(this,Y);let W=z.spanContext();if(!(0,o91.isSpanContextValid)(W))return J.apply(this,Y);let Q=Y[0];return Q.trace_id=W.traceId,Q.span_id=W.spanId,Q.trace_flags=`0${W.traceFlags.toString(16)}`,Z._callHook(z,Q),J.apply(this,Y)}}}_getPatchedCreateLogger(){return(J)=>{let Z=this;return function X(...Y){let $=J(...Y);return Z._addStream($),$}}}_addStream(J){let Z=this.getConfig();if(!this.isEnabled()||Z.disableLogSending)return;this._diag.debug("Adding OpenTelemetryBunyanStream to logger");let X=J.level();if(Z.logSeverity)X=er4(Z.logSeverity)||X;J.addStream({type:"raw",stream:new tr4.OpenTelemetryBunyanStream,level:X})}_callHook(J,Z){let{logHook:X}=this.getConfig();if(typeof X!=="function")return;(0,s91.safeExecuteInTheMiddle)(()=>X(J,Z),(Y)=>{if(Y)this._diag.error("error calling logHook",Y)},!0)}}gX0.BunyanInstrumentation=xX0;function er4(J){if(J>=Xw.SeverityNumber.FATAL)return"fatal";else if(J>=Xw.SeverityNumber.ERROR)return"error";else if(J>=Xw.SeverityNumber.WARN)return"warn";else if(J>=Xw.SeverityNumber.INFO)return"info";else if(J>=Xw.SeverityNumber.DEBUG)return"debug";else if(J>=Xw.SeverityNumber.TRACE)return"trace";return}});var cX0=B((mX0)=>{Object.defineProperty(mX0,"__esModule",{value:!0})});var lX0=B((oQ)=>{var Jt4=oQ&&oQ.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),a91=oQ&&oQ.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))Jt4(Z,J,X)};Object.defineProperty(oQ,"__esModule",{value:!0});a91(uX0(),oQ);a91(cX0(),oQ);a91(i91(),oQ)});var iX0=B((pX0)=>{Object.defineProperty(pX0,"__esModule",{value:!0});pX0.PACKAGE_NAME=pX0.PACKAGE_VERSION=void 0;pX0.PACKAGE_VERSION="0.47.0";pX0.PACKAGE_NAME="@opentelemetry/instrumentation-cassandra-driver"});var JY0=B((tX0)=>{Object.defineProperty(tX0,"__esModule",{value:!0});tX0.CassandraDriverInstrumentation=void 0;var U7=C(),p7=J6(),uF=j1(),oX0=iX0(),sX0=[">=4.4.0 <5"];class rX0 extends p7.InstrumentationBase{constructor(J={}){super(oX0.PACKAGE_NAME,oX0.PACKAGE_VERSION,J)}init(){return new p7.InstrumentationNodeModuleDefinition("cassandra-driver",sX0,(J)=>{let Z=J.Client.prototype;if((0,p7.isWrapped)(Z._execute))this._unwrap(Z,"_execute");if((0,p7.isWrapped)(Z.batch))this._unwrap(Z,"batch");if((0,p7.isWrapped)(Z.stream))this._unwrap(Z,"stream");return this._wrap(Z,"_execute",this._getPatchedExecute()),this._wrap(Z,"batch",this._getPatchedBatch()),this._wrap(Z,"stream",this._getPatchedStream()),J},(J)=>{let Z=J.Client.prototype;if((0,p7.isWrapped)(Z._execute))this._unwrap(Z,"_execute");if((0,p7.isWrapped)(Z.batch))this._unwrap(Z,"batch");if((0,p7.isWrapped)(Z.stream))this._unwrap(Z,"stream")},[new p7.InstrumentationNodeModuleFile("cassandra-driver/lib/request-execution.js",sX0,(J)=>{if((0,p7.isWrapped)(J.prototype._sendOnConnection))this._unwrap(J.prototype,"_sendOnConnection");return this._wrap(J.prototype,"_sendOnConnection",this._getPatchedSendOnConnection()),J},(J)=>{if(J===void 0)return;this._unwrap(J.prototype,"_sendOnConnection")})])}_getMaxQueryLength(){return this.getConfig().maxQueryLength??65536}_shouldIncludeDbStatement(){return this.getConfig().enhancedDatabaseReporting??!1}_getPatchedExecute(){return(J)=>{let Z=this;return function X(...Y){let $=Z.startSpan({op:"execute",query:Y[0]},this),z=U7.trace.setSpan(U7.context.active(),$),W=(0,p7.safeExecuteInTheMiddle)(()=>{return U7.context.with(z,()=>{return J.apply(this,Y)})},(G)=>{if(G)r91($,G)}),Q=aX0($,W,(G,K)=>{Z._callResponseHook(G,K)});return U7.context.bind(z,Q)}}}_getPatchedSendOnConnection(){return(J)=>{return function Z(...X){let Y=U7.trace.getSpan(U7.context.active()),$=this._connection;if(Y!==void 0&&$!==void 0){let z=parseInt($.port,10);if(Y.setAttribute(uF.SEMATTRS_NET_PEER_NAME,$.address),!isNaN(z))Y.setAttribute(uF.SEMATTRS_NET_PEER_PORT,z)}return J.apply(this,X)}}}_getPatchedBatch(){return(J)=>{let Z=this;return function X(...Y){let $=Array.isArray(Y[0])?Y[0]:[],z=Z.startSpan({op:"batch",query:Xt4($)},this),W=U7.trace.setSpan(U7.context.active(),z);if(typeof Y[Y.length-1]==="function"){let K=Y[Y.length-1],q=function(...H){let F=H[0];if(F)z.setStatus({code:U7.SpanStatusCode.ERROR,message:F.message}),z.recordException(F);return z.end(),K.apply(this,H)};return Y[Y.length-1]=q,U7.context.with(W,()=>{return J.apply(this,Y)})}let Q=(0,p7.safeExecuteInTheMiddle)(()=>{return J.apply(this,Y)},(K)=>{if(K)r91(z,K)}),G=aX0(z,Q);return U7.context.bind(W,G)}}}_getPatchedStream(){return(J)=>{let Z=this;return function X(...Y){let $=Z.startSpan({op:"stream"},this),z=Y[3],W=(Q)=>{if(Q)$.setStatus({code:U7.SpanStatusCode.ERROR,message:Q.message}),$.recordException(Q);$.end()};if(z===void 0)Y[3]=W;else if(typeof z==="function"){let Q=function(G){return W(G),z.call(this,G)};Y[3]=Q}return(0,p7.safeExecuteInTheMiddle)(()=>{return J.apply(this,Y)},(Q)=>{if(Q)r91($,Q)})}}}startSpan({op:J,query:Z},X){let Y={[uF.SEMATTRS_DB_SYSTEM]:uF.DBSYSTEMVALUES_CASSANDRA};if(this._shouldIncludeDbStatement()&&Z!==void 0){let z=Yt4(Z,this._getMaxQueryLength());Y[uF.SEMATTRS_DB_STATEMENT]=z}let $=X.options?.credentials?.username;if($)Y[uF.SEMATTRS_DB_USER]=$;if(X.keyspace)Y[uF.SEMATTRS_DB_NAME]=X.keyspace;return this.tracer.startSpan(`cassandra-driver.${J}`,{kind:U7.SpanKind.CLIENT,attributes:Y})}_callResponseHook(J,Z){let{responseHook:X}=this.getConfig();if(!X)return;(0,p7.safeExecuteInTheMiddle)(()=>X(J,{response:Z}),(Y)=>{if(Y)this._diag.error("responseHook error",Y)},!0)}}tX0.CassandraDriverInstrumentation=rX0;function r91(J,Z){J.setStatus({code:U7.SpanStatusCode.ERROR,message:Z.message}),J.recordException(Z),J.end()}function Xt4(J){return J.map((Z)=>typeof Z==="string"?Z:Z.query).join(`
`)}function aX0(J,Z,X){return Z.then((Y)=>{return new Promise(($)=>{if(X)X(J,Y);J.end(),$(Y)})}).catch((Y)=>{return new Promise(($,z)=>{J.setStatus({code:U7.SpanStatusCode.ERROR,message:Y.message}),J.recordException(Y),J.end(),z(Y)})})}function Yt4(J,Z){return String(J).substring(0,Z)}});var XY0=B((ZY0)=>{Object.defineProperty(ZY0,"__esModule",{value:!0})});var $Y0=B((f3)=>{var $t4=f3&&f3.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),YY0=f3&&f3.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))$t4(Z,J,X)};Object.defineProperty(f3,"__esModule",{value:!0});YY0(JY0(),f3);YY0(XY0(),f3)});var e91=B((QY0)=>{Object.defineProperty(QY0,"__esModule",{value:!0});QY0.ConnectNames=QY0.ConnectTypes=QY0.AttributeNames=void 0;var zt4;(function(J){J.CONNECT_TYPE="connect.type",J.CONNECT_NAME="connect.name"})(zt4=QY0.AttributeNames||(QY0.AttributeNames={}));var Wt4;(function(J){J.MIDDLEWARE="middleware",J.REQUEST_HANDLER="request_handler"})(Wt4=QY0.ConnectTypes||(QY0.ConnectTypes={}));var Qt4;(function(J){J.MIDDLEWARE="middleware",J.REQUEST_HANDLER="request handler"})(Qt4=QY0.ConnectNames||(QY0.ConnectNames={}))});var pL=B((GY0)=>{Object.defineProperty(GY0,"__esModule",{value:!0});GY0.isTracingSuppressed=GY0.unsuppressTracing=GY0.suppressTracing=void 0;var Gt4=C(),J71=(0,Gt4.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Kt4(J){return J.setValue(J71,!0)}GY0.suppressTracing=Kt4;function qt4(J){return J.deleteValue(J71)}GY0.unsuppressTracing=qt4;function Bt4(J){return J.getValue(J71)===!0}GY0.isTracingSuppressed=Bt4});var Z71=B((qY0)=>{Object.defineProperty(qY0,"__esModule",{value:!0});qY0.BAGGAGE_MAX_TOTAL_LENGTH=qY0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=qY0.BAGGAGE_MAX_NAME_VALUE_PAIRS=qY0.BAGGAGE_HEADER=qY0.BAGGAGE_ITEMS_SEPARATOR=qY0.BAGGAGE_PROPERTIES_SEPARATOR=qY0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;qY0.BAGGAGE_KEY_PAIR_SEPARATOR="=";qY0.BAGGAGE_PROPERTIES_SEPARATOR=";";qY0.BAGGAGE_ITEMS_SEPARATOR=",";qY0.BAGGAGE_HEADER="baggage";qY0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;qY0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;qY0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var X71=B((FY0)=>{Object.defineProperty(FY0,"__esModule",{value:!0});FY0.parseKeyPairsIntoRecord=FY0.parsePairKeyValue=FY0.getKeyPairs=FY0.serializeKeyPairs=void 0;var At4=C(),mF=Z71();function Mt4(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?mF.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>mF.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}FY0.serializeKeyPairs=Mt4;function Nt4(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=mF.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}FY0.getKeyPairs=Nt4;function HY0(J){let Z=J.split(mF.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(mF.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,At4.baggageEntryMetadataFromString)(Z.join(mF.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}FY0.parsePairKeyValue=HY0;function Pt4(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(mF.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=HY0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}FY0.parseKeyPairsIntoRecord=Pt4});var IY0=B((DY0)=>{Object.defineProperty(DY0,"__esModule",{value:!0});DY0.W3CBaggagePropagator=void 0;var Y71=C(),Rt4=pL(),cF=Z71(),$71=X71();class OY0{inject(J,Z,X){let Y=Y71.propagation.getBaggage(J);if(!Y||(0,Rt4.isTracingSuppressed)(J))return;let $=(0,$71.getKeyPairs)(Y).filter((W)=>{return W.length<=cF.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,cF.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,$71.serializeKeyPairs)($);if(z.length>0)X.set(Z,cF.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,cF.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(cF.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(cF.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,$71.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return Y71.propagation.setBaggage(J,Y71.propagation.createBaggage(z))}fields(){return[cF.BAGGAGE_HEADER]}}DY0.W3CBaggagePropagator=OY0});var NY0=B((AY0)=>{Object.defineProperty(AY0,"__esModule",{value:!0});AY0.AnchoredClock=void 0;class wY0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}AY0.AnchoredClock=wY0});var SY0=B((RY0)=>{Object.defineProperty(RY0,"__esModule",{value:!0});RY0.isAttributeValue=RY0.isAttributeKey=RY0.sanitizeAttributes=void 0;var PY0=C();function Et4(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!LY0(X)){PY0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!CY0(Y)){PY0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}RY0.sanitizeAttributes=Et4;function LY0(J){return typeof J==="string"&&J.length>0}RY0.isAttributeKey=LY0;function CY0(J){if(J==null)return!0;if(Array.isArray(J))return St4(J);return jY0(J)}RY0.isAttributeValue=CY0;function St4(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(jY0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function jY0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var z71=B((TY0)=>{Object.defineProperty(TY0,"__esModule",{value:!0});TY0.loggingErrorHandler=void 0;var kt4=C();function bt4(){return(J)=>{kt4.diag.error(ht4(J))}}TY0.loggingErrorHandler=bt4;function ht4(J){if(typeof J==="string")return J;else return JSON.stringify(_t4(J))}function _t4(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var _Y0=B((bY0)=>{Object.defineProperty(bY0,"__esModule",{value:!0});bY0.globalErrorHandler=bY0.setGlobalErrorHandler=void 0;var yt4=z71(),kY0=(0,yt4.loggingErrorHandler)();function vt4(J){kY0=J}bY0.setGlobalErrorHandler=vt4;function xt4(J){try{kY0(J)}catch{}}bY0.globalErrorHandler=xt4});var uY0=B((gY0)=>{Object.defineProperty(gY0,"__esModule",{value:!0});gY0.getStringListFromEnv=gY0.getBooleanFromEnv=gY0.getStringFromEnv=gY0.getNumberFromEnv=void 0;var yY0=C(),vY0=p("util");function dt4(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){yY0.diag.warn(`Unknown value ${(0,vY0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}gY0.getNumberFromEnv=dt4;function xY0(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}gY0.getStringFromEnv=xY0;function ut4(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return yY0.diag.warn(`Unknown value ${(0,vY0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}gY0.getBooleanFromEnv=ut4;function mt4(J){return xY0(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}gY0.getStringListFromEnv=mt4});var lY0=B((mY0)=>{Object.defineProperty(mY0,"__esModule",{value:!0});mY0._globalThis=void 0;mY0._globalThis=typeof globalThis==="object"?globalThis:global});var iY0=B((pY0)=>{Object.defineProperty(pY0,"__esModule",{value:!0});pY0.otperformance=void 0;var nt4=p("perf_hooks");pY0.otperformance=nt4.performance});var aY0=B((oY0)=>{Object.defineProperty(oY0,"__esModule",{value:!0});oY0.VERSION=void 0;oY0.VERSION="2.0.1"});var eY0=B((rY0)=>{Object.defineProperty(rY0,"__esModule",{value:!0});rY0.ATTR_PROCESS_RUNTIME_NAME=void 0;rY0.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var X$0=B((J$0)=>{Object.defineProperty(J$0,"__esModule",{value:!0});J$0.SDK_INFO=void 0;var it4=aY0(),k_=j1(),ot4=eY0();J$0.SDK_INFO={[k_.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[ot4.ATTR_PROCESS_RUNTIME_NAME]:"node",[k_.ATTR_TELEMETRY_SDK_LANGUAGE]:k_.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[k_.ATTR_TELEMETRY_SDK_VERSION]:it4.VERSION}});var z$0=B((Y$0)=>{Object.defineProperty(Y$0,"__esModule",{value:!0});Y$0.unrefTimer=void 0;function st4(J){J.unref()}Y$0.unrefTimer=st4});var W$0=B((a$)=>{Object.defineProperty(a$,"__esModule",{value:!0});a$.unrefTimer=a$.SDK_INFO=a$.otperformance=a$._globalThis=a$.getStringListFromEnv=a$.getNumberFromEnv=a$.getBooleanFromEnv=a$.getStringFromEnv=void 0;var b_=uY0();Object.defineProperty(a$,"getStringFromEnv",{enumerable:!0,get:function(){return b_.getStringFromEnv}});Object.defineProperty(a$,"getBooleanFromEnv",{enumerable:!0,get:function(){return b_.getBooleanFromEnv}});Object.defineProperty(a$,"getNumberFromEnv",{enumerable:!0,get:function(){return b_.getNumberFromEnv}});Object.defineProperty(a$,"getStringListFromEnv",{enumerable:!0,get:function(){return b_.getStringListFromEnv}});var at4=lY0();Object.defineProperty(a$,"_globalThis",{enumerable:!0,get:function(){return at4._globalThis}});var rt4=iY0();Object.defineProperty(a$,"otperformance",{enumerable:!0,get:function(){return rt4.otperformance}});var tt4=X$0();Object.defineProperty(a$,"SDK_INFO",{enumerable:!0,get:function(){return tt4.SDK_INFO}});var et4=z$0();Object.defineProperty(a$,"unrefTimer",{enumerable:!0,get:function(){return et4.unrefTimer}})});var W71=B((r$)=>{Object.defineProperty(r$,"__esModule",{value:!0});r$.getStringListFromEnv=r$.getNumberFromEnv=r$.getStringFromEnv=r$.getBooleanFromEnv=r$.unrefTimer=r$.otperformance=r$._globalThis=r$.SDK_INFO=void 0;var k3=W$0();Object.defineProperty(r$,"SDK_INFO",{enumerable:!0,get:function(){return k3.SDK_INFO}});Object.defineProperty(r$,"_globalThis",{enumerable:!0,get:function(){return k3._globalThis}});Object.defineProperty(r$,"otperformance",{enumerable:!0,get:function(){return k3.otperformance}});Object.defineProperty(r$,"unrefTimer",{enumerable:!0,get:function(){return k3.unrefTimer}});Object.defineProperty(r$,"getBooleanFromEnv",{enumerable:!0,get:function(){return k3.getBooleanFromEnv}});Object.defineProperty(r$,"getStringFromEnv",{enumerable:!0,get:function(){return k3.getStringFromEnv}});Object.defineProperty(r$,"getNumberFromEnv",{enumerable:!0,get:function(){return k3.getNumberFromEnv}});Object.defineProperty(r$,"getStringListFromEnv",{enumerable:!0,get:function(){return k3.getStringListFromEnv}})});var H$0=B((q$0)=>{Object.defineProperty(q$0,"__esModule",{value:!0});q$0.addHrTimes=q$0.isTimeInput=q$0.isTimeInputHrTime=q$0.hrTimeToMicroseconds=q$0.hrTimeToMilliseconds=q$0.hrTimeToNanoseconds=q$0.hrTimeToTimeStamp=q$0.hrTimeDuration=q$0.timeInputToHrTime=q$0.hrTime=q$0.getTimeOrigin=q$0.millisToHrTime=void 0;var Q71=W71(),Q$0=9,Xe4=6,Ye4=Math.pow(10,Xe4),h_=Math.pow(10,Q$0);function nL(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*Ye4);return[X,Y]}q$0.millisToHrTime=nL;function G71(){let J=Q71.otperformance.timeOrigin;if(typeof J!=="number"){let Z=Q71.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}q$0.getTimeOrigin=G71;function G$0(J){let Z=nL(G71()),X=nL(typeof J==="number"?J:Q71.otperformance.now());return K$0(Z,X)}q$0.hrTime=G$0;function $e4(J){if(K71(J))return J;else if(typeof J==="number")if(J<G71())return G$0(J);else return nL(J);else if(J instanceof Date)return nL(J.getTime());else throw TypeError("Invalid input type")}q$0.timeInputToHrTime=$e4;function ze4(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=h_;return[X,Y]}q$0.hrTimeDuration=ze4;function We4(J){let Z=Q$0,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}q$0.hrTimeToTimeStamp=We4;function Qe4(J){return J[0]*h_+J[1]}q$0.hrTimeToNanoseconds=Qe4;function Ge4(J){return J[0]*1000+J[1]/1e6}q$0.hrTimeToMilliseconds=Ge4;function Ke4(J){return J[0]*1e6+J[1]/1000}q$0.hrTimeToMicroseconds=Ke4;function K71(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}q$0.isTimeInputHrTime=K71;function qe4(J){return K71(J)||typeof J==="number"||J instanceof Date}q$0.isTimeInput=qe4;function K$0(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=h_)X[1]-=h_,X[0]+=1;return X}q$0.addHrTimes=K$0});var U$0=B((F$0)=>{Object.defineProperty(F$0,"__esModule",{value:!0});F$0.ExportResultCode=void 0;var Ne4;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(Ne4=F$0.ExportResultCode||(F$0.ExportResultCode={}))});var w$0=B((V$0)=>{Object.defineProperty(V$0,"__esModule",{value:!0});V$0.CompositePropagator=void 0;var O$0=C();class D$0{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){O$0.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){O$0.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}V$0.CompositePropagator=D$0});var N$0=B((A$0)=>{Object.defineProperty(A$0,"__esModule",{value:!0});A$0.validateValue=A$0.validateKey=void 0;var B71="[_0-9a-z-*/]",Pe4=`[a-z]${B71}{0,255}`,Le4=`[a-z0-9]${B71}{0,240}@[a-z]${B71}{0,13}`,Ce4=new RegExp(`^(?:${Pe4}|${Le4})$`),je4=/^[ -~]{0,255}[!-~]$/,Re4=/,|=/;function Ee4(J){return Ce4.test(J)}A$0.validateKey=Ee4;function Se4(J){return je4.test(J)&&!Re4.test(J)}A$0.validateValue=Se4});var F71=B((R$0)=>{Object.defineProperty(R$0,"__esModule",{value:!0});R$0.TraceState=void 0;var P$0=N$0(),L$0=32,fe4=512,C$0=",",j$0="=";class H71{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+j$0+this.get(Z)),J},[]).join(C$0)}_parse(J){if(J.length>fe4)return;if(this._internalState=J.split(C$0).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(j$0);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,P$0.validateKey)(z)&&(0,P$0.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>L$0)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,L$0))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new H71;return J._internalState=new Map(this._internalState),J}}R$0.TraceState=H71});var b$0=B((f$0)=>{Object.defineProperty(f$0,"__esModule",{value:!0});f$0.W3CTraceContextPropagator=f$0.parseTraceParent=f$0.TRACE_STATE_HEADER=f$0.TRACE_PARENT_HEADER=void 0;var __=C(),ke4=pL(),be4=F71();f$0.TRACE_PARENT_HEADER="traceparent";f$0.TRACE_STATE_HEADER="tracestate";var he4="00",_e4="(?!ff)[\\da-f]{2}",ye4="(?![0]{32})[\\da-f]{32}",ve4="(?![0]{16})[\\da-f]{16}",xe4="[\\da-f]{2}",ge4=new RegExp(`^\\s?(${_e4})-(${ye4})-(${ve4})-(${xe4})(-.*)?\\s?$`);function S$0(J){let Z=ge4.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}f$0.parseTraceParent=S$0;class T$0{inject(J,Z,X){let Y=__.trace.getSpanContext(J);if(!Y||(0,ke4.isTracingSuppressed)(J)||!(0,__.isSpanContextValid)(Y))return;let $=`${he4}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||__.TraceFlags.NONE).toString(16)}`;if(X.set(Z,f$0.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,f$0.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,f$0.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=S$0($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,f$0.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new be4.TraceState(typeof Q==="string"?Q:void 0)}return __.trace.setSpanContext(J,z)}fields(){return[f$0.TRACE_PARENT_HEADER,f$0.TRACE_STATE_HEADER]}}f$0.W3CTraceContextPropagator=T$0});var v$0=B((_$0)=>{Object.defineProperty(_$0,"__esModule",{value:!0});_$0.getRPCMetadata=_$0.deleteRPCMetadata=_$0.setRPCMetadata=_$0.RPCType=void 0;var ue4=C(),U71=(0,ue4.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),me4;(function(J){J.HTTP="http"})(me4=_$0.RPCType||(_$0.RPCType={}));function ce4(J,Z){return J.setValue(U71,Z)}_$0.setRPCMetadata=ce4;function le4(J){return J.deleteValue(U71)}_$0.deleteRPCMetadata=le4;function pe4(J){return J.getValue(U71)}_$0.getRPCMetadata=pe4});var l$0=B((m$0)=>{Object.defineProperty(m$0,"__esModule",{value:!0});m$0.isPlainObject=void 0;var oe4="[object Object]",se4="[object Null]",ae4="[object Undefined]",re4=Function.prototype,x$0=re4.toString,te4=x$0.call(Object),ee4=Object.getPrototypeOf,g$0=Object.prototype,d$0=g$0.hasOwnProperty,lF=Symbol?Symbol.toStringTag:void 0,u$0=g$0.toString;function J18(J){if(!Z18(J)||X18(J)!==oe4)return!1;let Z=ee4(J);if(Z===null)return!0;let X=d$0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&x$0.call(X)===te4}m$0.isPlainObject=J18;function Z18(J){return J!=null&&typeof J=="object"}function X18(J){if(J==null)return J===void 0?ae4:se4;return lF&&lF in Object(J)?Y18(J):$18(J)}function Y18(J){let Z=d$0.call(J,lF),X=J[lF],Y=!1;try{J[lF]=void 0,Y=!0}catch(z){}let $=u$0.call(J);if(Y)if(Z)J[lF]=X;else delete J[lF];return $}function $18(J){return u$0.call(J)}});var r$0=B((s$0)=>{Object.defineProperty(s$0,"__esModule",{value:!0});s$0.merge=void 0;var p$0=l$0(),z18=20;function W18(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=i$0(Z,J.shift(),0,X);return Z}s$0.merge=W18;function O71(J){if(g_(J))return J.slice();return J}function i$0(J,Z,X=0,Y){let $;if(X>z18)return;if(X++,x_(J)||x_(Z)||o$0(Z))$=O71(Z);else if(g_(J)){if($=J.slice(),g_(Z))for(let z=0,W=Z.length;z<W;z++)$.push(O71(Z[z]));else if(iL(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=O71(Z[G])}}}else if(iL(J))if(iL(Z)){if(!Q18(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(x_(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(n$0(J,G,Y)||n$0(Z,G,Y))delete $[G];else{if(iL(q)&&iL(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=i$0($[G],K,X,Y)}}}}else $=Z;return $}function n$0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function g_(J){return Array.isArray(J)}function o$0(J){return typeof J==="function"}function iL(J){return!x_(J)&&!g_(J)&&!o$0(J)&&typeof J==="object"}function x_(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function Q18(J,Z){if(!(0,p$0.isPlainObject)(J)||!(0,p$0.isPlainObject)(Z))return!1;return!0}});var Jz0=B((t$0)=>{Object.defineProperty(t$0,"__esModule",{value:!0});t$0.callWithTimeout=t$0.TimeoutError=void 0;class d_ extends Error{constructor(J){super(J);Object.setPrototypeOf(this,d_.prototype)}}t$0.TimeoutError=d_;function G18(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new d_("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}t$0.callWithTimeout=G18});var $z0=B((Xz0)=>{Object.defineProperty(Xz0,"__esModule",{value:!0});Xz0.isUrlIgnored=Xz0.urlMatches=void 0;function Zz0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}Xz0.urlMatches=Zz0;function q18(J,Z){if(!Z)return!1;for(let X of Z)if(Zz0(J,X))return!0;return!1}Xz0.isUrlIgnored=q18});var Gz0=B((Wz0)=>{Object.defineProperty(Wz0,"__esModule",{value:!0});Wz0.Deferred=void 0;class zz0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}Wz0.Deferred=zz0});var Hz0=B((qz0)=>{Object.defineProperty(qz0,"__esModule",{value:!0});qz0.BindOnceFuture=void 0;var H18=Gz0();class Kz0{_callback;_that;_isCalled=!1;_deferred=new H18.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}qz0.BindOnceFuture=Kz0});var Dz0=B((Uz0)=>{Object.defineProperty(Uz0,"__esModule",{value:!0});Uz0.diagLogLevelFromString=void 0;var sQ=C(),Fz0={ALL:sQ.DiagLogLevel.ALL,VERBOSE:sQ.DiagLogLevel.VERBOSE,DEBUG:sQ.DiagLogLevel.DEBUG,INFO:sQ.DiagLogLevel.INFO,WARN:sQ.DiagLogLevel.WARN,ERROR:sQ.DiagLogLevel.ERROR,NONE:sQ.DiagLogLevel.NONE};function F18(J){if(J==null)return;let Z=Fz0[J.toUpperCase()];if(Z==null)return sQ.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(Fz0)}, using default`),sQ.DiagLogLevel.INFO;return Z}Uz0.diagLogLevelFromString=F18});var Az0=B((Iz0)=>{Object.defineProperty(Iz0,"__esModule",{value:!0});Iz0._export=void 0;var Vz0=C(),U18=pL();function O18(J,Z){return new Promise((X)=>{Vz0.context.with((0,U18.suppressTracing)(Vz0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}Iz0._export=O18});var jz0=B((w0)=>{Object.defineProperty(w0,"__esModule",{value:!0});w0.internal=w0.diagLogLevelFromString=w0.BindOnceFuture=w0.urlMatches=w0.isUrlIgnored=w0.callWithTimeout=w0.TimeoutError=w0.merge=w0.TraceState=w0.unsuppressTracing=w0.suppressTracing=w0.isTracingSuppressed=w0.setRPCMetadata=w0.getRPCMetadata=w0.deleteRPCMetadata=w0.RPCType=w0.parseTraceParent=w0.W3CTraceContextPropagator=w0.TRACE_STATE_HEADER=w0.TRACE_PARENT_HEADER=w0.CompositePropagator=w0.unrefTimer=w0.otperformance=w0.getStringListFromEnv=w0.getNumberFromEnv=w0.getBooleanFromEnv=w0.getStringFromEnv=w0._globalThis=w0.SDK_INFO=w0.parseKeyPairsIntoRecord=w0.ExportResultCode=w0.timeInputToHrTime=w0.millisToHrTime=w0.isTimeInputHrTime=w0.isTimeInput=w0.hrTimeToTimeStamp=w0.hrTimeToNanoseconds=w0.hrTimeToMilliseconds=w0.hrTimeToMicroseconds=w0.hrTimeDuration=w0.hrTime=w0.getTimeOrigin=w0.addHrTimes=w0.loggingErrorHandler=w0.setGlobalErrorHandler=w0.globalErrorHandler=w0.sanitizeAttributes=w0.isAttributeValue=w0.AnchoredClock=w0.W3CBaggagePropagator=void 0;var D18=IY0();Object.defineProperty(w0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return D18.W3CBaggagePropagator}});var V18=NY0();Object.defineProperty(w0,"AnchoredClock",{enumerable:!0,get:function(){return V18.AnchoredClock}});var Mz0=SY0();Object.defineProperty(w0,"isAttributeValue",{enumerable:!0,get:function(){return Mz0.isAttributeValue}});Object.defineProperty(w0,"sanitizeAttributes",{enumerable:!0,get:function(){return Mz0.sanitizeAttributes}});var Nz0=_Y0();Object.defineProperty(w0,"globalErrorHandler",{enumerable:!0,get:function(){return Nz0.globalErrorHandler}});Object.defineProperty(w0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return Nz0.setGlobalErrorHandler}});var I18=z71();Object.defineProperty(w0,"loggingErrorHandler",{enumerable:!0,get:function(){return I18.loggingErrorHandler}});var bZ=H$0();Object.defineProperty(w0,"addHrTimes",{enumerable:!0,get:function(){return bZ.addHrTimes}});Object.defineProperty(w0,"getTimeOrigin",{enumerable:!0,get:function(){return bZ.getTimeOrigin}});Object.defineProperty(w0,"hrTime",{enumerable:!0,get:function(){return bZ.hrTime}});Object.defineProperty(w0,"hrTimeDuration",{enumerable:!0,get:function(){return bZ.hrTimeDuration}});Object.defineProperty(w0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return bZ.hrTimeToMicroseconds}});Object.defineProperty(w0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return bZ.hrTimeToMilliseconds}});Object.defineProperty(w0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return bZ.hrTimeToNanoseconds}});Object.defineProperty(w0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return bZ.hrTimeToTimeStamp}});Object.defineProperty(w0,"isTimeInput",{enumerable:!0,get:function(){return bZ.isTimeInput}});Object.defineProperty(w0,"isTimeInputHrTime",{enumerable:!0,get:function(){return bZ.isTimeInputHrTime}});Object.defineProperty(w0,"millisToHrTime",{enumerable:!0,get:function(){return bZ.millisToHrTime}});Object.defineProperty(w0,"timeInputToHrTime",{enumerable:!0,get:function(){return bZ.timeInputToHrTime}});var w18=U$0();Object.defineProperty(w0,"ExportResultCode",{enumerable:!0,get:function(){return w18.ExportResultCode}});var A18=X71();Object.defineProperty(w0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return A18.parseKeyPairsIntoRecord}});var b3=W71();Object.defineProperty(w0,"SDK_INFO",{enumerable:!0,get:function(){return b3.SDK_INFO}});Object.defineProperty(w0,"_globalThis",{enumerable:!0,get:function(){return b3._globalThis}});Object.defineProperty(w0,"getStringFromEnv",{enumerable:!0,get:function(){return b3.getStringFromEnv}});Object.defineProperty(w0,"getBooleanFromEnv",{enumerable:!0,get:function(){return b3.getBooleanFromEnv}});Object.defineProperty(w0,"getNumberFromEnv",{enumerable:!0,get:function(){return b3.getNumberFromEnv}});Object.defineProperty(w0,"getStringListFromEnv",{enumerable:!0,get:function(){return b3.getStringListFromEnv}});Object.defineProperty(w0,"otperformance",{enumerable:!0,get:function(){return b3.otperformance}});Object.defineProperty(w0,"unrefTimer",{enumerable:!0,get:function(){return b3.unrefTimer}});var M18=w$0();Object.defineProperty(w0,"CompositePropagator",{enumerable:!0,get:function(){return M18.CompositePropagator}});var u_=b$0();Object.defineProperty(w0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return u_.TRACE_PARENT_HEADER}});Object.defineProperty(w0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return u_.TRACE_STATE_HEADER}});Object.defineProperty(w0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return u_.W3CTraceContextPropagator}});Object.defineProperty(w0,"parseTraceParent",{enumerable:!0,get:function(){return u_.parseTraceParent}});var m_=v$0();Object.defineProperty(w0,"RPCType",{enumerable:!0,get:function(){return m_.RPCType}});Object.defineProperty(w0,"deleteRPCMetadata",{enumerable:!0,get:function(){return m_.deleteRPCMetadata}});Object.defineProperty(w0,"getRPCMetadata",{enumerable:!0,get:function(){return m_.getRPCMetadata}});Object.defineProperty(w0,"setRPCMetadata",{enumerable:!0,get:function(){return m_.setRPCMetadata}});var D71=pL();Object.defineProperty(w0,"isTracingSuppressed",{enumerable:!0,get:function(){return D71.isTracingSuppressed}});Object.defineProperty(w0,"suppressTracing",{enumerable:!0,get:function(){return D71.suppressTracing}});Object.defineProperty(w0,"unsuppressTracing",{enumerable:!0,get:function(){return D71.unsuppressTracing}});var N18=F71();Object.defineProperty(w0,"TraceState",{enumerable:!0,get:function(){return N18.TraceState}});var P18=r$0();Object.defineProperty(w0,"merge",{enumerable:!0,get:function(){return P18.merge}});var Pz0=Jz0();Object.defineProperty(w0,"TimeoutError",{enumerable:!0,get:function(){return Pz0.TimeoutError}});Object.defineProperty(w0,"callWithTimeout",{enumerable:!0,get:function(){return Pz0.callWithTimeout}});var Lz0=$z0();Object.defineProperty(w0,"isUrlIgnored",{enumerable:!0,get:function(){return Lz0.isUrlIgnored}});Object.defineProperty(w0,"urlMatches",{enumerable:!0,get:function(){return Lz0.urlMatches}});var L18=Hz0();Object.defineProperty(w0,"BindOnceFuture",{enumerable:!0,get:function(){return L18.BindOnceFuture}});var C18=Dz0();Object.defineProperty(w0,"diagLogLevelFromString",{enumerable:!0,get:function(){return C18.diagLogLevelFromString}});var j18=Az0();w0.internal={_export:j18._export}});var Sz0=B((Rz0)=>{Object.defineProperty(Rz0,"__esModule",{value:!0});Rz0.PACKAGE_NAME=Rz0.PACKAGE_VERSION=void 0;Rz0.PACKAGE_VERSION="0.45.0";Rz0.PACKAGE_NAME="@opentelemetry/instrumentation-connect"});var kz0=B((Tz0)=>{Object.defineProperty(Tz0,"__esModule",{value:!0});Tz0._LAYERS_STORE_PROPERTY=void 0;Tz0._LAYERS_STORE_PROPERTY=Symbol("opentelemetry.instrumentation-connect.request-route-stack")});var _z0=B((bz0)=>{Object.defineProperty(bz0,"__esModule",{value:!0});bz0.generateRoute=bz0.replaceCurrentStackRoute=bz0.addNewStackLayer=void 0;var E18=C(),h3=kz0(),S18=(J)=>{if(Array.isArray(J[h3._LAYERS_STORE_PROPERTY])===!1)Object.defineProperty(J,h3._LAYERS_STORE_PROPERTY,{enumerable:!1,value:[]});J[h3._LAYERS_STORE_PROPERTY].push("/");let Z=J[h3._LAYERS_STORE_PROPERTY].length;return()=>{if(Z===J[h3._LAYERS_STORE_PROPERTY].length)J[h3._LAYERS_STORE_PROPERTY].pop();else E18.diag.warn("Connect: Trying to pop the stack multiple time")}};bz0.addNewStackLayer=S18;var T18=(J,Z)=>{if(Z)J[h3._LAYERS_STORE_PROPERTY].splice(-1,1,Z)};bz0.replaceCurrentStackRoute=T18;var f18=(J)=>{return J[h3._LAYERS_STORE_PROPERTY].reduce((Z,X)=>Z.replace(/\/+$/,"")+X)};bz0.generateRoute=f18});var uz0=B((gz0)=>{Object.defineProperty(gz0,"__esModule",{value:!0});gz0.ConnectInstrumentation=gz0.ANONYMOUS_NAME=void 0;var h18=C(),yz0=jz0(),Yw=e91(),vz0=Sz0(),c_=J6(),_18=j1(),V71=_z0();gz0.ANONYMOUS_NAME="anonymous";class xz0 extends c_.InstrumentationBase{constructor(J={}){super(vz0.PACKAGE_NAME,vz0.PACKAGE_VERSION,J)}init(){return[new c_.InstrumentationNodeModuleDefinition("connect",[">=3.0.0 <4"],(J)=>{return this._patchConstructor(J)})]}_patchApp(J){if(!(0,c_.isWrapped)(J.use))this._wrap(J,"use",this._patchUse.bind(this));if(!(0,c_.isWrapped)(J.handle))this._wrap(J,"handle",this._patchHandle.bind(this))}_patchConstructor(J){let Z=this;return function(...X){let Y=J.apply(this,X);return Z._patchApp(Y),Y}}_patchNext(J,Z){return function X(Y){let $=J.apply(this,[Y]);return Z(),$}}_startSpan(J,Z){let X,Y,$;if(J)X=Yw.ConnectTypes.REQUEST_HANDLER,$=Yw.ConnectNames.REQUEST_HANDLER,Y=J;else X=Yw.ConnectTypes.MIDDLEWARE,$=Yw.ConnectNames.MIDDLEWARE,Y=Z.name||gz0.ANONYMOUS_NAME;let z=`${$} - ${Y}`,W={attributes:{[_18.SEMATTRS_HTTP_ROUTE]:J.length>0?J:"/",[Yw.AttributeNames.CONNECT_TYPE]:X,[Yw.AttributeNames.CONNECT_NAME]:Y}};return this.tracer.startSpan(z,W)}_patchMiddleware(J,Z){let X=this,Y=Z.length===4;function $(){if(!X.isEnabled())return Z.apply(this,arguments);let[z,W,Q]=Y?[1,2,3]:[0,1,2],G=arguments[z],K=arguments[W],q=arguments[Q];(0,V71.replaceCurrentStackRoute)(G,J);let H=(0,yz0.getRPCMetadata)(h18.context.active());if(J&&H?.type===yz0.RPCType.HTTP)H.route=(0,V71.generateRoute)(G);let F="";if(J)F=`request handler - ${J}`;else F=`middleware - ${Z.name||gz0.ANONYMOUS_NAME}`;let U=X._startSpan(J,Z);X._diag.debug("start span",F);let D=!1;function V(){if(!D)D=!0,X._diag.debug(`finishing span ${U.name}`),U.end();else X._diag.debug(`span ${U.name} - already finished`);K.removeListener("close",V)}return K.addListener("close",V),arguments[Q]=X._patchNext(q,V),Z.apply(this,arguments)}return Object.defineProperty($,"length",{value:Z.length,writable:!1,configurable:!0}),$}_patchUse(J){let Z=this;return function(...X){let Y=X[X.length-1],$=X[X.length-2]||"";return X[X.length-1]=Z._patchMiddleware($,Y),J.apply(this,X)}}_patchHandle(J){let Z=this;return function(){let[X,Y]=[0,2],$=arguments[X],z=arguments[Y],W=(0,V71.addNewStackLayer)($);if(typeof z==="function")arguments[Y]=Z._patchOut(z,W);return J.apply(this,arguments)}}_patchOut(J,Z){return function X(...Y){return Z(),Reflect.apply(J,this,Y)}}}gz0.ConnectInstrumentation=xz0});var cz0=B((_3)=>{var y18=_3&&_3.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),mz0=_3&&_3.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))y18(Z,J,X)};Object.defineProperty(_3,"__esModule",{value:!0});mz0(e91(),_3);mz0(uz0(),_3)});var A71=B((lz0)=>{Object.defineProperty(lz0,"__esModule",{value:!0});lz0.AttributeNames=void 0;var v18;(function(J){J.FEATURE_TAGS="cucumber.feature.tags",J.FEATURE_LANGUAGE="cucumber.feature.language",J.FEATURE_DESCRIPTION="cucumber.feature.description",J.SCENARIO_TAGS="cucumber.scenario.tags",J.SCENARIO_DESCRIPTION="cucumber.scenario.description",J.STEP_TYPE="cucumber.step.type",J.STEP_STATUS="cucumber.step.status",J.STEP_ARGS="cucumber.step.args"})(v18=lz0.AttributeNames||(lz0.AttributeNames={}))});var iz0=B((pz0)=>{Object.defineProperty(pz0,"__esModule",{value:!0});pz0.PACKAGE_NAME=pz0.PACKAGE_VERSION=void 0;pz0.PACKAGE_VERSION="0.16.0";pz0.PACKAGE_NAME="@opentelemetry/instrumentation-cucumber"});var JW0=B((tz0)=>{Object.defineProperty(tz0,"__esModule",{value:!0});tz0.CucumberInstrumentation=void 0;var pF=C(),$w=J6(),l_=j1(),y3=A71(),oz0=iz0(),sz0=["Before","BeforeStep","AfterStep","After"],az0=["Given","When","Then"],rz0=[">=8.0.0 <12"];class aQ extends $w.InstrumentationBase{module;constructor(J={}){super(oz0.PACKAGE_NAME,oz0.PACKAGE_VERSION,J)}init(){return[new $w.InstrumentationNodeModuleDefinition("@cucumber/cucumber",rz0,(J)=>{return this.module=J,az0.forEach((Z)=>{if((0,$w.isWrapped)(J[Z]))this._unwrap(J,Z);this._wrap(J,Z,this._getStepPatch(Z))}),sz0.forEach((Z)=>{if((0,$w.isWrapped)(J[Z]))this._unwrap(J,Z);this._wrap(J,Z,this._getHookPatch(Z))}),J},(J)=>{if(J===void 0)return;[...sz0,...az0].forEach((Z)=>{this._unwrap(J,Z)})},[new $w.InstrumentationNodeModuleFile("@cucumber/cucumber/lib/runtime/test_case_runner.js",rz0,(J)=>{if((0,$w.isWrapped)(J.default.prototype.run)){if(this._unwrap(J.default.prototype,"run"),this._unwrap(J.default.prototype,"runStep"),"runAttempt"in J.default.prototype)this._unwrap(J.default.prototype,"runAttempt")}if(this._wrap(J.default.prototype,"run",this._getTestCaseRunPatch()),this._wrap(J.default.prototype,"runStep",this._getTestCaseRunStepPatch()),"runAttempt"in J.default.prototype)this._wrap(J.default.prototype,"runAttempt",this._getTestCaseRunAttemptPatch());return J},(J)=>{if(J===void 0)return;if(this._unwrap(J.default.prototype,"run"),this._unwrap(J.default.prototype,"runStep"),"runAttempt"in J.default.prototype)this._unwrap(J.default.prototype,"runAttempt")})])]}static mapTags(J){return J.map((Z)=>Z.name)}static setSpanToError(J,Z){J.recordException(Z),J.setStatus({code:pF.SpanStatusCode.ERROR,message:Z?.message??Z})}setSpanToStepStatus(J,Z,X){if(!this.module)return;if(J.setAttribute(y3.AttributeNames.STEP_STATUS,Z),[this.module.Status.UNDEFINED,this.module.Status.AMBIGUOUS,this.module.Status.FAILED].includes(Z))J.recordException(Z),J.setStatus({code:pF.SpanStatusCode.ERROR,message:X||Z})}_getTestCaseRunPatch(){let J=this;return function(Z){return async function(...X){let Y=this.gherkinDocument,{feature:$}=Y,z=this.pickle,W=$.children.find((Q)=>Q?.scenario?.id===z.astNodeIds[0])?.scenario;return J.tracer.startActiveSpan(`Feature: ${$.name}. Scenario: ${z.name}`,{kind:pF.SpanKind.CLIENT,attributes:{[l_.SEMATTRS_CODE_FILEPATH]:Y.uri,[l_.SEMATTRS_CODE_LINENO]:W.location.line,[l_.SEMATTRS_CODE_FUNCTION]:W.name,[l_.SEMATTRS_CODE_NAMESPACE]:$.name,[y3.AttributeNames.FEATURE_TAGS]:aQ.mapTags($.tags),[y3.AttributeNames.FEATURE_LANGUAGE]:$.language,[y3.AttributeNames.FEATURE_DESCRIPTION]:$.description,[y3.AttributeNames.SCENARIO_TAGS]:aQ.mapTags(W.tags),[y3.AttributeNames.SCENARIO_DESCRIPTION]:W.description}},async(Q)=>{try{let G=await Z.apply(this,X);return J.setSpanToStepStatus(Q,G),G}catch(G){throw aQ.setSpanToError(Q,G),G}finally{Q.end()}})}}}_getTestCaseRunStepPatch(){let J=this;return function(Z){return async function(...X){let[Y]=X;return J.tracer.startActiveSpan(Y.text,{kind:pF.SpanKind.CLIENT,attributes:{[y3.AttributeNames.STEP_TYPE]:Y.type}},async($)=>{try{let z=await Z.apply(this,X);return J.setSpanToStepStatus($,z.status,z.message),z}catch(z){throw aQ.setSpanToError($,z),z}finally{$.end()}})}}}_getTestCaseRunAttemptPatch(){let J=this;return function(Z){return async function(...X){let[Y]=X;return J.tracer.startActiveSpan(`Attempt #${Y}`,{kind:pF.SpanKind.CLIENT,attributes:{}},async($)=>{try{let z=await Z.apply(this,X),W=this.getWorstStepResult();return J.setSpanToStepStatus($,W.status,W.message),z}catch(z){throw aQ.setSpanToError($,z),z}finally{$.end()}})}}}_getHookPatch(J){let Z=this;return function(X){return function(Y,$){if(typeof Y==="function")$=Y,Y={};function z(W){if(!Z.isEnabled())return $?.call(this,W);return Z.tracer.startActiveSpan(J,{kind:pF.SpanKind.CLIENT},async(Q)=>{try{return await $?.call(this,W)}catch(G){throw this.attach?.(JSON.stringify(Q.spanContext())),aQ.setSpanToError(Q,G),G}finally{Q.end()}})}return X.call(this,Y,z)}}}_getStepPatch(J){let Z=this;return function(X){return function(Y,$,z){if(typeof $==="function")z=$,$={};function W(...Q){if(!Z.isEnabled())return z?.apply(this,Q);return Z.tracer.startActiveSpan(`${J}(${Y.toString()})`,{kind:pF.SpanKind.CLIENT,attributes:Q.slice(0,-1).reduce((G,K,q)=>({...G,[`${y3.AttributeNames.STEP_ARGS}[${q}]`]:K?.raw instanceof Function?JSON.stringify(K.raw()):K}),{})},async(G)=>{try{return await z?.apply(this,Q)}catch(K){throw this.attach?.(JSON.stringify(G.spanContext())),aQ.setSpanToError(G,K),K}finally{G.end()}})}return Object.defineProperty(W,"length",{value:z?.length}),X.call(this,Y,$,W)}}}}tz0.CucumberInstrumentation=aQ});var XW0=B((v3)=>{var g18=v3&&v3.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),ZW0=v3&&v3.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))g18(Z,J,X)};Object.defineProperty(v3,"__esModule",{value:!0});ZW0(JW0(),v3);ZW0(A71(),v3)});var $W0=B((YW0)=>{Object.defineProperty(YW0,"__esModule",{value:!0})});var QW0=B((zW0)=>{Object.defineProperty(zW0,"__esModule",{value:!0});zW0.PACKAGE_NAME=zW0.PACKAGE_VERSION=void 0;zW0.PACKAGE_VERSION="0.18.0";zW0.PACKAGE_NAME="@opentelemetry/instrumentation-dataloader"});var HW0=B((qW0)=>{Object.defineProperty(qW0,"__esModule",{value:!0});qW0.DataloaderInstrumentation=void 0;var nF=J6(),O7=C(),GW0=QW0(),M71="dataloader";class KW0 extends nF.InstrumentationBase{constructor(J={}){super(GW0.PACKAGE_NAME,GW0.PACKAGE_VERSION,J)}init(){return[new nF.InstrumentationNodeModuleDefinition(M71,[">=2.0.0 <3"],(J)=>{return this._patchLoad(J.prototype),this._patchLoadMany(J.prototype),this._getPatchedConstructor(J)},(J)=>{if((0,nF.isWrapped)(J.prototype.load))this._unwrap(J.prototype,"load");if((0,nF.isWrapped)(J.prototype.loadMany))this._unwrap(J.prototype,"loadMany")})]}shouldCreateSpans(){let J=this.getConfig();return O7.trace.getSpan(O7.context.active())!==void 0||!J.requireParentSpan}getSpanName(J,Z){let X=J.name;if(X===void 0||X===null)return`${M71}.${Z}`;return`${M71}.${Z} ${X}`}_getPatchedConstructor(J){let Z=J.prototype,X=this;function Y(...$){let z=new J(...$);if(!X.isEnabled())return z;if((0,nF.isWrapped)(z._batchLoadFn))X._unwrap(z,"_batchLoadFn");return X._wrap(z,"_batchLoadFn",(W)=>{return function Q(...G){if(!X.isEnabled()||!X.shouldCreateSpans())return W.call(this,...G);let K=O7.context.active(),q=X.tracer.startSpan(X.getSpanName(z,"batch"),{links:this._batch?.spanLinks},K);return O7.context.with(O7.trace.setSpan(K,q),()=>{return W.apply(this,G).then((H)=>{return q.end(),H}).catch((H)=>{throw q.recordException(H),q.setStatus({code:O7.SpanStatusCode.ERROR,message:H.message}),q.end(),H})})}}),z}return Y.prototype=Z,Y}_patchLoad(J){if((0,nF.isWrapped)(J.load))this._unwrap(J,"load");this._wrap(J,"load",this._getPatchedLoad.bind(this))}_getPatchedLoad(J){let Z=this;return function X(...Y){if(!Z.shouldCreateSpans())return J.call(this,...Y);let $=O7.context.active(),z=Z.tracer.startSpan(Z.getSpanName(this,"load"),{kind:O7.SpanKind.CLIENT},$);return O7.context.with(O7.trace.setSpan($,z),()=>{let W=J.call(this,...Y).then((G)=>{return z.end(),G}).catch((G)=>{throw z.recordException(G),z.setStatus({code:O7.SpanStatusCode.ERROR,message:G.message}),z.end(),G}),Q=this;if(Q._batch){if(!Q._batch.spanLinks)Q._batch.spanLinks=[];Q._batch.spanLinks.push({context:z.spanContext()})}return W})}}_patchLoadMany(J){if((0,nF.isWrapped)(J.loadMany))this._unwrap(J,"loadMany");this._wrap(J,"loadMany",this._getPatchedLoadMany.bind(this))}_getPatchedLoadMany(J){let Z=this;return function X(...Y){if(!Z.shouldCreateSpans())return J.call(this,...Y);let $=O7.context.active(),z=Z.tracer.startSpan(Z.getSpanName(this,"loadMany"),{kind:O7.SpanKind.CLIENT},$);return O7.context.with(O7.trace.setSpan($,z),()=>{return J.call(this,...Y).then((W)=>{return z.end(),W})})}}}qW0.DataloaderInstrumentation=KW0});var UW0=B((x3)=>{var u18=x3&&x3.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),FW0=x3&&x3.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))u18(Z,J,X)};Object.defineProperty(x3,"__esModule",{value:!0});FW0($W0(),x3);FW0(HW0(),x3)});var DW0=B((OW0)=>{Object.defineProperty(OW0,"__esModule",{value:!0});OW0.AttributeNames=void 0;var m18;(function(J){J.DNS_ERROR_NAME="dns.error_name",J.DNS_ERROR_MESSAGE="dns.error_message"})(m18=OW0.AttributeNames||(OW0.AttributeNames={}))});var NW0=B((IW0)=>{Object.defineProperty(IW0,"__esModule",{value:!0});IW0.isIgnored=IW0.satisfiesPattern=IW0.setLookupAttributes=IW0.getOperationName=IW0.getFamilyAttribute=IW0.setError=void 0;var c18=C(),VW0=DW0(),l18=(J,Z)=>{let{message:X,name:Y}=J,$={[VW0.AttributeNames.DNS_ERROR_MESSAGE]:X,[VW0.AttributeNames.DNS_ERROR_NAME]:Y};Z.setAttributes($),Z.setStatus({code:c18.SpanStatusCode.ERROR,message:X})};IW0.setError=l18;var p18=(J,Z)=>{return Z?`peer[${Z}].ipv${J}`:`peer.ipv${J}`};IW0.getFamilyAttribute=p18;var n18=(J,Z)=>{return Z?`dns.${Z}/${J}`:`dns.${J}`};IW0.getOperationName=n18;var i18=(J,Z,X)=>{let Y={},$=typeof Z==="object",z=Z;if(!$)z=[{address:Z,family:X}];else if(!(z instanceof Array))z=[{address:Z.address,family:Z.family}];z.forEach((W,Q)=>{let G=IW0.getFamilyAttribute(W.family,Q);Y[G]=W.address}),J.setAttributes(Y)};IW0.setLookupAttributes=i18;var o18=(J,Z)=>{if(typeof Z==="string")return Z===J;else if(Z instanceof RegExp)return Z.test(J);else if(typeof Z==="function")return Z(J);else throw new TypeError("Pattern is in unsupported datatype")};IW0.satisfiesPattern=o18;var s18=(J,Z,X)=>{if(!Z)return!1;if(!Array.isArray(Z))Z=[Z];try{for(let Y of Z)if(IW0.satisfiesPattern(J,Y))return!0}catch(Y){if(X)X(Y)}return!1};IW0.isIgnored=s18});var CW0=B((PW0)=>{Object.defineProperty(PW0,"__esModule",{value:!0});PW0.PACKAGE_NAME=PW0.PACKAGE_VERSION=void 0;PW0.PACKAGE_VERSION="0.45.0";PW0.PACKAGE_NAME="@opentelemetry/instrumentation-dns"});var TW0=B((EW0)=>{Object.defineProperty(EW0,"__esModule",{value:!0});EW0.DnsInstrumentation=void 0;var oL=C(),iF=J6(),g3=NW0(),jW0=CW0();class RW0 extends iF.InstrumentationBase{constructor(J={}){super(jW0.PACKAGE_NAME,jW0.PACKAGE_VERSION,J)}init(){return[new iF.InstrumentationNodeModuleDefinition("dns",["*"],(J)=>{if((0,iF.isWrapped)(J.lookup))this._unwrap(J,"lookup");return this._wrap(J,"lookup",this._getLookup()),this._wrap(J.promises,"lookup",this._getLookup()),J},(J)=>{if(J===void 0)return;this._unwrap(J,"lookup"),this._unwrap(J.promises,"lookup")}),new iF.InstrumentationNodeModuleDefinition("dns/promises",["*"],(J)=>{if((0,iF.isWrapped)(J.lookup))this._unwrap(J,"lookup");return this._wrap(J,"lookup",this._getLookup()),J},(J)=>{if(J===void 0)return;this._unwrap(J,"lookup")})]}_getLookup(){return(J)=>{return this._getPatchLookupFunction(J)}}_getPatchLookupFunction(J){let Z=this;return function X(Y,...$){if(g3.isIgnored(Y,Z.getConfig().ignoreHostnames,(K)=>oL.diag.error("caught ignoreHostname error: ",K)))return J.apply(this,[Y,...$]);let z=$.length;oL.diag.debug("wrap lookup callback function and starts span");let W=g3.getOperationName("lookup"),Q=Z.tracer.startSpan(W,{kind:oL.SpanKind.CLIENT}),G=$[z-1];if(typeof G==="function")return $[z-1]=Z._wrapLookupCallback(G,Q),(0,iF.safeExecuteInTheMiddle)(()=>J.apply(this,[Y,...$]),(K)=>{if(K!=null)g3.setError(K,Q),Q.end()});else{let K=(0,iF.safeExecuteInTheMiddle)(()=>J.apply(this,[Y,...$]),(q)=>{if(q!=null)g3.setError(q,Q),Q.end()});return K.then((q)=>{g3.setLookupAttributes(Q,q),Q.end()},(q)=>{g3.setError(q,Q),Q.end()}),K}}}_wrapLookupCallback(J,Z){return function X(Y,$,z){if(oL.diag.debug("executing wrapped lookup callback function"),Y!==null)g3.setError(Y,Z);else g3.setLookupAttributes(Z,$,z);return Z.end(),oL.diag.debug("executing original lookup callback function"),J.apply(this,arguments)}}}EW0.DnsInstrumentation=RW0});var fW0=B((P71)=>{Object.defineProperty(P71,"__esModule",{value:!0});P71.DnsInstrumentation=void 0;var J08=TW0();Object.defineProperty(P71,"DnsInstrumentation",{enumerable:!0,get:function(){return J08.DnsInstrumentation}})});var sL=B((kW0)=>{Object.defineProperty(kW0,"__esModule",{value:!0});kW0.isTracingSuppressed=kW0.unsuppressTracing=kW0.suppressTracing=void 0;var X08=C(),L71=(0,X08.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Y08(J){return J.setValue(L71,!0)}kW0.suppressTracing=Y08;function $08(J){return J.deleteValue(L71)}kW0.unsuppressTracing=$08;function z08(J){return J.getValue(L71)===!0}kW0.isTracingSuppressed=z08});var C71=B((hW0)=>{Object.defineProperty(hW0,"__esModule",{value:!0});hW0.BAGGAGE_MAX_TOTAL_LENGTH=hW0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=hW0.BAGGAGE_MAX_NAME_VALUE_PAIRS=hW0.BAGGAGE_HEADER=hW0.BAGGAGE_ITEMS_SEPARATOR=hW0.BAGGAGE_PROPERTIES_SEPARATOR=hW0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;hW0.BAGGAGE_KEY_PAIR_SEPARATOR="=";hW0.BAGGAGE_PROPERTIES_SEPARATOR=";";hW0.BAGGAGE_ITEMS_SEPARATOR=",";hW0.BAGGAGE_HEADER="baggage";hW0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;hW0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;hW0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var j71=B((vW0)=>{Object.defineProperty(vW0,"__esModule",{value:!0});vW0.parseKeyPairsIntoRecord=vW0.parsePairKeyValue=vW0.getKeyPairs=vW0.serializeKeyPairs=void 0;var U08=C(),oF=C71();function O08(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?oF.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>oF.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}vW0.serializeKeyPairs=O08;function D08(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=oF.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}vW0.getKeyPairs=D08;function yW0(J){let Z=J.split(oF.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(oF.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,U08.baggageEntryMetadataFromString)(Z.join(oF.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}vW0.parsePairKeyValue=yW0;function V08(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(oF.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=yW0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}vW0.parseKeyPairsIntoRecord=V08});var mW0=B((dW0)=>{Object.defineProperty(dW0,"__esModule",{value:!0});dW0.W3CBaggagePropagator=void 0;var R71=C(),M08=sL(),sF=C71(),E71=j71();class gW0{inject(J,Z,X){let Y=R71.propagation.getBaggage(J);if(!Y||(0,M08.isTracingSuppressed)(J))return;let $=(0,E71.getKeyPairs)(Y).filter((W)=>{return W.length<=sF.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,sF.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,E71.serializeKeyPairs)($);if(z.length>0)X.set(Z,sF.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,sF.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(sF.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(sF.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,E71.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return R71.propagation.setBaggage(J,R71.propagation.createBaggage(z))}fields(){return[sF.BAGGAGE_HEADER]}}dW0.W3CBaggagePropagator=gW0});var nW0=B((lW0)=>{Object.defineProperty(lW0,"__esModule",{value:!0});lW0.AnchoredClock=void 0;class cW0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}lW0.AnchoredClock=cW0});var eW0=B((rW0)=>{Object.defineProperty(rW0,"__esModule",{value:!0});rW0.isAttributeValue=rW0.isAttributeKey=rW0.sanitizeAttributes=void 0;var iW0=C();function N08(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!oW0(X)){iW0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!sW0(Y)){iW0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}rW0.sanitizeAttributes=N08;function oW0(J){return typeof J==="string"&&J.length>0}rW0.isAttributeKey=oW0;function sW0(J){if(J==null)return!0;if(Array.isArray(J))return P08(J);return aW0(J)}rW0.isAttributeValue=sW0;function P08(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(aW0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function aW0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var S71=B((JQ0)=>{Object.defineProperty(JQ0,"__esModule",{value:!0});JQ0.loggingErrorHandler=void 0;var j08=C();function R08(){return(J)=>{j08.diag.error(E08(J))}}JQ0.loggingErrorHandler=R08;function E08(J){if(typeof J==="string")return J;else return JSON.stringify(S08(J))}function S08(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var zQ0=B((YQ0)=>{Object.defineProperty(YQ0,"__esModule",{value:!0});YQ0.globalErrorHandler=YQ0.setGlobalErrorHandler=void 0;var T08=S71(),XQ0=(0,T08.loggingErrorHandler)();function f08(J){XQ0=J}YQ0.setGlobalErrorHandler=f08;function k08(J){try{XQ0(J)}catch{}}YQ0.globalErrorHandler=k08});var BQ0=B((KQ0)=>{Object.defineProperty(KQ0,"__esModule",{value:!0});KQ0.getStringListFromEnv=KQ0.getBooleanFromEnv=KQ0.getStringFromEnv=KQ0.getNumberFromEnv=void 0;var WQ0=C(),QQ0=p("util");function h08(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){WQ0.diag.warn(`Unknown value ${(0,QQ0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}KQ0.getNumberFromEnv=h08;function GQ0(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}KQ0.getStringFromEnv=GQ0;function _08(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return WQ0.diag.warn(`Unknown value ${(0,QQ0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}KQ0.getBooleanFromEnv=_08;function y08(J){return GQ0(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}KQ0.getStringListFromEnv=y08});var UQ0=B((HQ0)=>{Object.defineProperty(HQ0,"__esModule",{value:!0});HQ0._globalThis=void 0;HQ0._globalThis=typeof globalThis==="object"?globalThis:global});var VQ0=B((OQ0)=>{Object.defineProperty(OQ0,"__esModule",{value:!0});OQ0.otperformance=void 0;var d08=p("perf_hooks");OQ0.otperformance=d08.performance});var AQ0=B((IQ0)=>{Object.defineProperty(IQ0,"__esModule",{value:!0});IQ0.VERSION=void 0;IQ0.VERSION="2.0.1"});var PQ0=B((MQ0)=>{Object.defineProperty(MQ0,"__esModule",{value:!0});MQ0.ATTR_PROCESS_RUNTIME_NAME=void 0;MQ0.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var jQ0=B((LQ0)=>{Object.defineProperty(LQ0,"__esModule",{value:!0});LQ0.SDK_INFO=void 0;var u08=AQ0(),p_=j1(),m08=PQ0();LQ0.SDK_INFO={[p_.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[m08.ATTR_PROCESS_RUNTIME_NAME]:"node",[p_.ATTR_TELEMETRY_SDK_LANGUAGE]:p_.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[p_.ATTR_TELEMETRY_SDK_VERSION]:u08.VERSION}});var SQ0=B((RQ0)=>{Object.defineProperty(RQ0,"__esModule",{value:!0});RQ0.unrefTimer=void 0;function c08(J){J.unref()}RQ0.unrefTimer=c08});var TQ0=B((t$)=>{Object.defineProperty(t$,"__esModule",{value:!0});t$.unrefTimer=t$.SDK_INFO=t$.otperformance=t$._globalThis=t$.getStringListFromEnv=t$.getNumberFromEnv=t$.getBooleanFromEnv=t$.getStringFromEnv=void 0;var n_=BQ0();Object.defineProperty(t$,"getStringFromEnv",{enumerable:!0,get:function(){return n_.getStringFromEnv}});Object.defineProperty(t$,"getBooleanFromEnv",{enumerable:!0,get:function(){return n_.getBooleanFromEnv}});Object.defineProperty(t$,"getNumberFromEnv",{enumerable:!0,get:function(){return n_.getNumberFromEnv}});Object.defineProperty(t$,"getStringListFromEnv",{enumerable:!0,get:function(){return n_.getStringListFromEnv}});var l08=UQ0();Object.defineProperty(t$,"_globalThis",{enumerable:!0,get:function(){return l08._globalThis}});var p08=VQ0();Object.defineProperty(t$,"otperformance",{enumerable:!0,get:function(){return p08.otperformance}});var n08=jQ0();Object.defineProperty(t$,"SDK_INFO",{enumerable:!0,get:function(){return n08.SDK_INFO}});var i08=SQ0();Object.defineProperty(t$,"unrefTimer",{enumerable:!0,get:function(){return i08.unrefTimer}})});var T71=B((e$)=>{Object.defineProperty(e$,"__esModule",{value:!0});e$.getStringListFromEnv=e$.getNumberFromEnv=e$.getStringFromEnv=e$.getBooleanFromEnv=e$.unrefTimer=e$.otperformance=e$._globalThis=e$.SDK_INFO=void 0;var d3=TQ0();Object.defineProperty(e$,"SDK_INFO",{enumerable:!0,get:function(){return d3.SDK_INFO}});Object.defineProperty(e$,"_globalThis",{enumerable:!0,get:function(){return d3._globalThis}});Object.defineProperty(e$,"otperformance",{enumerable:!0,get:function(){return d3.otperformance}});Object.defineProperty(e$,"unrefTimer",{enumerable:!0,get:function(){return d3.unrefTimer}});Object.defineProperty(e$,"getBooleanFromEnv",{enumerable:!0,get:function(){return d3.getBooleanFromEnv}});Object.defineProperty(e$,"getStringFromEnv",{enumerable:!0,get:function(){return d3.getStringFromEnv}});Object.defineProperty(e$,"getNumberFromEnv",{enumerable:!0,get:function(){return d3.getNumberFromEnv}});Object.defineProperty(e$,"getStringListFromEnv",{enumerable:!0,get:function(){return d3.getStringListFromEnv}})});var yQ0=B((hQ0)=>{Object.defineProperty(hQ0,"__esModule",{value:!0});hQ0.addHrTimes=hQ0.isTimeInput=hQ0.isTimeInputHrTime=hQ0.hrTimeToMicroseconds=hQ0.hrTimeToMilliseconds=hQ0.hrTimeToNanoseconds=hQ0.hrTimeToTimeStamp=hQ0.hrTimeDuration=hQ0.timeInputToHrTime=hQ0.hrTime=hQ0.getTimeOrigin=hQ0.millisToHrTime=void 0;var f71=T71(),fQ0=9,a08=6,r08=Math.pow(10,a08),i_=Math.pow(10,fQ0);function aL(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*r08);return[X,Y]}hQ0.millisToHrTime=aL;function k71(){let J=f71.otperformance.timeOrigin;if(typeof J!=="number"){let Z=f71.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}hQ0.getTimeOrigin=k71;function kQ0(J){let Z=aL(k71()),X=aL(typeof J==="number"?J:f71.otperformance.now());return bQ0(Z,X)}hQ0.hrTime=kQ0;function t08(J){if(b71(J))return J;else if(typeof J==="number")if(J<k71())return kQ0(J);else return aL(J);else if(J instanceof Date)return aL(J.getTime());else throw TypeError("Invalid input type")}hQ0.timeInputToHrTime=t08;function e08(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=i_;return[X,Y]}hQ0.hrTimeDuration=e08;function J68(J){let Z=fQ0,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}hQ0.hrTimeToTimeStamp=J68;function Z68(J){return J[0]*i_+J[1]}hQ0.hrTimeToNanoseconds=Z68;function X68(J){return J[0]*1000+J[1]/1e6}hQ0.hrTimeToMilliseconds=X68;function Y68(J){return J[0]*1e6+J[1]/1000}hQ0.hrTimeToMicroseconds=Y68;function b71(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}hQ0.isTimeInputHrTime=b71;function $68(J){return b71(J)||typeof J==="number"||J instanceof Date}hQ0.isTimeInput=$68;function bQ0(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=i_)X[1]-=i_,X[0]+=1;return X}hQ0.addHrTimes=bQ0});var xQ0=B((vQ0)=>{Object.defineProperty(vQ0,"__esModule",{value:!0});vQ0.ExportResultCode=void 0;var D68;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(D68=vQ0.ExportResultCode||(vQ0.ExportResultCode={}))});var cQ0=B((uQ0)=>{Object.defineProperty(uQ0,"__esModule",{value:!0});uQ0.CompositePropagator=void 0;var gQ0=C();class dQ0{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){gQ0.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){gQ0.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}uQ0.CompositePropagator=dQ0});var nQ0=B((lQ0)=>{Object.defineProperty(lQ0,"__esModule",{value:!0});lQ0.validateValue=lQ0.validateKey=void 0;var _71="[_0-9a-z-*/]",V68=`[a-z]${_71}{0,255}`,I68=`[a-z0-9]${_71}{0,240}@[a-z]${_71}{0,13}`,w68=new RegExp(`^(?:${V68}|${I68})$`),A68=/^[ -~]{0,255}[!-~]$/,M68=/,|=/;function N68(J){return w68.test(J)}lQ0.validateKey=N68;function P68(J){return A68.test(J)&&!M68.test(J)}lQ0.validateValue=P68});var v71=B((rQ0)=>{Object.defineProperty(rQ0,"__esModule",{value:!0});rQ0.TraceState=void 0;var iQ0=nQ0(),oQ0=32,C68=512,sQ0=",",aQ0="=";class y71{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+aQ0+this.get(Z)),J},[]).join(sQ0)}_parse(J){if(J.length>C68)return;if(this._internalState=J.split(sQ0).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(aQ0);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,iQ0.validateKey)(z)&&(0,iQ0.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>oQ0)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,oQ0))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new y71;return J._internalState=new Map(this._internalState),J}}rQ0.TraceState=y71});var YG0=B((ZG0)=>{Object.defineProperty(ZG0,"__esModule",{value:!0});ZG0.W3CTraceContextPropagator=ZG0.parseTraceParent=ZG0.TRACE_STATE_HEADER=ZG0.TRACE_PARENT_HEADER=void 0;var o_=C(),j68=sL(),R68=v71();ZG0.TRACE_PARENT_HEADER="traceparent";ZG0.TRACE_STATE_HEADER="tracestate";var E68="00",S68="(?!ff)[\\da-f]{2}",T68="(?![0]{32})[\\da-f]{32}",f68="(?![0]{16})[\\da-f]{16}",k68="[\\da-f]{2}",b68=new RegExp(`^\\s?(${S68})-(${T68})-(${f68})-(${k68})(-.*)?\\s?$`);function eQ0(J){let Z=b68.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}ZG0.parseTraceParent=eQ0;class JG0{inject(J,Z,X){let Y=o_.trace.getSpanContext(J);if(!Y||(0,j68.isTracingSuppressed)(J)||!(0,o_.isSpanContextValid)(Y))return;let $=`${E68}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||o_.TraceFlags.NONE).toString(16)}`;if(X.set(Z,ZG0.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,ZG0.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,ZG0.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=eQ0($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,ZG0.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new R68.TraceState(typeof Q==="string"?Q:void 0)}return o_.trace.setSpanContext(J,z)}fields(){return[ZG0.TRACE_PARENT_HEADER,ZG0.TRACE_STATE_HEADER]}}ZG0.W3CTraceContextPropagator=JG0});var QG0=B((zG0)=>{Object.defineProperty(zG0,"__esModule",{value:!0});zG0.getRPCMetadata=zG0.deleteRPCMetadata=zG0.setRPCMetadata=zG0.RPCType=void 0;var _68=C(),x71=(0,_68.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),y68;(function(J){J.HTTP="http"})(y68=zG0.RPCType||(zG0.RPCType={}));function v68(J,Z){return J.setValue(x71,Z)}zG0.setRPCMetadata=v68;function x68(J){return J.deleteValue(x71)}zG0.deleteRPCMetadata=x68;function g68(J){return J.getValue(x71)}zG0.getRPCMetadata=g68});var UG0=B((HG0)=>{Object.defineProperty(HG0,"__esModule",{value:!0});HG0.isPlainObject=void 0;var m68="[object Object]",c68="[object Null]",l68="[object Undefined]",p68=Function.prototype,GG0=p68.toString,n68=GG0.call(Object),i68=Object.getPrototypeOf,KG0=Object.prototype,qG0=KG0.hasOwnProperty,aF=Symbol?Symbol.toStringTag:void 0,BG0=KG0.toString;function o68(J){if(!s68(J)||a68(J)!==m68)return!1;let Z=i68(J);if(Z===null)return!0;let X=qG0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&GG0.call(X)===n68}HG0.isPlainObject=o68;function s68(J){return J!=null&&typeof J=="object"}function a68(J){if(J==null)return J===void 0?l68:c68;return aF&&aF in Object(J)?r68(J):t68(J)}function r68(J){let Z=qG0.call(J,aF),X=J[aF],Y=!1;try{J[aF]=void 0,Y=!0}catch(z){}let $=BG0.call(J);if(Y)if(Z)J[aF]=X;else delete J[aF];return $}function t68(J){return BG0.call(J)}});var MG0=B((wG0)=>{Object.defineProperty(wG0,"__esModule",{value:!0});wG0.merge=void 0;var OG0=UG0(),e68=20;function J48(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=VG0(Z,J.shift(),0,X);return Z}wG0.merge=J48;function g71(J){if(t_(J))return J.slice();return J}function VG0(J,Z,X=0,Y){let $;if(X>e68)return;if(X++,r_(J)||r_(Z)||IG0(Z))$=g71(Z);else if(t_(J)){if($=J.slice(),t_(Z))for(let z=0,W=Z.length;z<W;z++)$.push(g71(Z[z]));else if(rL(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=g71(Z[G])}}}else if(rL(J))if(rL(Z)){if(!Z48(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(r_(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(DG0(J,G,Y)||DG0(Z,G,Y))delete $[G];else{if(rL(q)&&rL(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=VG0($[G],K,X,Y)}}}}else $=Z;return $}function DG0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function t_(J){return Array.isArray(J)}function IG0(J){return typeof J==="function"}function rL(J){return!r_(J)&&!t_(J)&&!IG0(J)&&typeof J==="object"}function r_(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function Z48(J,Z){if(!(0,OG0.isPlainObject)(J)||!(0,OG0.isPlainObject)(Z))return!1;return!0}});var LG0=B((NG0)=>{Object.defineProperty(NG0,"__esModule",{value:!0});NG0.callWithTimeout=NG0.TimeoutError=void 0;class e_ extends Error{constructor(J){super(J);Object.setPrototypeOf(this,e_.prototype)}}NG0.TimeoutError=e_;function X48(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new e_("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}NG0.callWithTimeout=X48});var EG0=B((jG0)=>{Object.defineProperty(jG0,"__esModule",{value:!0});jG0.isUrlIgnored=jG0.urlMatches=void 0;function CG0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}jG0.urlMatches=CG0;function $48(J,Z){if(!Z)return!1;for(let X of Z)if(CG0(J,X))return!0;return!1}jG0.isUrlIgnored=$48});var kG0=B((TG0)=>{Object.defineProperty(TG0,"__esModule",{value:!0});TG0.Deferred=void 0;class SG0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}TG0.Deferred=SG0});var yG0=B((hG0)=>{Object.defineProperty(hG0,"__esModule",{value:!0});hG0.BindOnceFuture=void 0;var W48=kG0();class bG0{_callback;_that;_isCalled=!1;_deferred=new W48.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}hG0.BindOnceFuture=bG0});var dG0=B((xG0)=>{Object.defineProperty(xG0,"__esModule",{value:!0});xG0.diagLogLevelFromString=void 0;var rQ=C(),vG0={ALL:rQ.DiagLogLevel.ALL,VERBOSE:rQ.DiagLogLevel.VERBOSE,DEBUG:rQ.DiagLogLevel.DEBUG,INFO:rQ.DiagLogLevel.INFO,WARN:rQ.DiagLogLevel.WARN,ERROR:rQ.DiagLogLevel.ERROR,NONE:rQ.DiagLogLevel.NONE};function Q48(J){if(J==null)return;let Z=vG0[J.toUpperCase()];if(Z==null)return rQ.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(vG0)}, using default`),rQ.DiagLogLevel.INFO;return Z}xG0.diagLogLevelFromString=Q48});var lG0=B((mG0)=>{Object.defineProperty(mG0,"__esModule",{value:!0});mG0._export=void 0;var uG0=C(),G48=sL();function K48(J,Z){return new Promise((X)=>{uG0.context.with((0,G48.suppressTracing)(uG0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}mG0._export=K48});var aG0=B((A0)=>{Object.defineProperty(A0,"__esModule",{value:!0});A0.internal=A0.diagLogLevelFromString=A0.BindOnceFuture=A0.urlMatches=A0.isUrlIgnored=A0.callWithTimeout=A0.TimeoutError=A0.merge=A0.TraceState=A0.unsuppressTracing=A0.suppressTracing=A0.isTracingSuppressed=A0.setRPCMetadata=A0.getRPCMetadata=A0.deleteRPCMetadata=A0.RPCType=A0.parseTraceParent=A0.W3CTraceContextPropagator=A0.TRACE_STATE_HEADER=A0.TRACE_PARENT_HEADER=A0.CompositePropagator=A0.unrefTimer=A0.otperformance=A0.getStringListFromEnv=A0.getNumberFromEnv=A0.getBooleanFromEnv=A0.getStringFromEnv=A0._globalThis=A0.SDK_INFO=A0.parseKeyPairsIntoRecord=A0.ExportResultCode=A0.timeInputToHrTime=A0.millisToHrTime=A0.isTimeInputHrTime=A0.isTimeInput=A0.hrTimeToTimeStamp=A0.hrTimeToNanoseconds=A0.hrTimeToMilliseconds=A0.hrTimeToMicroseconds=A0.hrTimeDuration=A0.hrTime=A0.getTimeOrigin=A0.addHrTimes=A0.loggingErrorHandler=A0.setGlobalErrorHandler=A0.globalErrorHandler=A0.sanitizeAttributes=A0.isAttributeValue=A0.AnchoredClock=A0.W3CBaggagePropagator=void 0;var q48=mW0();Object.defineProperty(A0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return q48.W3CBaggagePropagator}});var B48=nW0();Object.defineProperty(A0,"AnchoredClock",{enumerable:!0,get:function(){return B48.AnchoredClock}});var pG0=eW0();Object.defineProperty(A0,"isAttributeValue",{enumerable:!0,get:function(){return pG0.isAttributeValue}});Object.defineProperty(A0,"sanitizeAttributes",{enumerable:!0,get:function(){return pG0.sanitizeAttributes}});var nG0=zQ0();Object.defineProperty(A0,"globalErrorHandler",{enumerable:!0,get:function(){return nG0.globalErrorHandler}});Object.defineProperty(A0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return nG0.setGlobalErrorHandler}});var H48=S71();Object.defineProperty(A0,"loggingErrorHandler",{enumerable:!0,get:function(){return H48.loggingErrorHandler}});var hZ=yQ0();Object.defineProperty(A0,"addHrTimes",{enumerable:!0,get:function(){return hZ.addHrTimes}});Object.defineProperty(A0,"getTimeOrigin",{enumerable:!0,get:function(){return hZ.getTimeOrigin}});Object.defineProperty(A0,"hrTime",{enumerable:!0,get:function(){return hZ.hrTime}});Object.defineProperty(A0,"hrTimeDuration",{enumerable:!0,get:function(){return hZ.hrTimeDuration}});Object.defineProperty(A0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return hZ.hrTimeToMicroseconds}});Object.defineProperty(A0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return hZ.hrTimeToMilliseconds}});Object.defineProperty(A0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return hZ.hrTimeToNanoseconds}});Object.defineProperty(A0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return hZ.hrTimeToTimeStamp}});Object.defineProperty(A0,"isTimeInput",{enumerable:!0,get:function(){return hZ.isTimeInput}});Object.defineProperty(A0,"isTimeInputHrTime",{enumerable:!0,get:function(){return hZ.isTimeInputHrTime}});Object.defineProperty(A0,"millisToHrTime",{enumerable:!0,get:function(){return hZ.millisToHrTime}});Object.defineProperty(A0,"timeInputToHrTime",{enumerable:!0,get:function(){return hZ.timeInputToHrTime}});var F48=xQ0();Object.defineProperty(A0,"ExportResultCode",{enumerable:!0,get:function(){return F48.ExportResultCode}});var U48=j71();Object.defineProperty(A0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return U48.parseKeyPairsIntoRecord}});var u3=T71();Object.defineProperty(A0,"SDK_INFO",{enumerable:!0,get:function(){return u3.SDK_INFO}});Object.defineProperty(A0,"_globalThis",{enumerable:!0,get:function(){return u3._globalThis}});Object.defineProperty(A0,"getStringFromEnv",{enumerable:!0,get:function(){return u3.getStringFromEnv}});Object.defineProperty(A0,"getBooleanFromEnv",{enumerable:!0,get:function(){return u3.getBooleanFromEnv}});Object.defineProperty(A0,"getNumberFromEnv",{enumerable:!0,get:function(){return u3.getNumberFromEnv}});Object.defineProperty(A0,"getStringListFromEnv",{enumerable:!0,get:function(){return u3.getStringListFromEnv}});Object.defineProperty(A0,"otperformance",{enumerable:!0,get:function(){return u3.otperformance}});Object.defineProperty(A0,"unrefTimer",{enumerable:!0,get:function(){return u3.unrefTimer}});var O48=cQ0();Object.defineProperty(A0,"CompositePropagator",{enumerable:!0,get:function(){return O48.CompositePropagator}});var Jy=YG0();Object.defineProperty(A0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return Jy.TRACE_PARENT_HEADER}});Object.defineProperty(A0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return Jy.TRACE_STATE_HEADER}});Object.defineProperty(A0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return Jy.W3CTraceContextPropagator}});Object.defineProperty(A0,"parseTraceParent",{enumerable:!0,get:function(){return Jy.parseTraceParent}});var Zy=QG0();Object.defineProperty(A0,"RPCType",{enumerable:!0,get:function(){return Zy.RPCType}});Object.defineProperty(A0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Zy.deleteRPCMetadata}});Object.defineProperty(A0,"getRPCMetadata",{enumerable:!0,get:function(){return Zy.getRPCMetadata}});Object.defineProperty(A0,"setRPCMetadata",{enumerable:!0,get:function(){return Zy.setRPCMetadata}});var d71=sL();Object.defineProperty(A0,"isTracingSuppressed",{enumerable:!0,get:function(){return d71.isTracingSuppressed}});Object.defineProperty(A0,"suppressTracing",{enumerable:!0,get:function(){return d71.suppressTracing}});Object.defineProperty(A0,"unsuppressTracing",{enumerable:!0,get:function(){return d71.unsuppressTracing}});var D48=v71();Object.defineProperty(A0,"TraceState",{enumerable:!0,get:function(){return D48.TraceState}});var V48=MG0();Object.defineProperty(A0,"merge",{enumerable:!0,get:function(){return V48.merge}});var iG0=LG0();Object.defineProperty(A0,"TimeoutError",{enumerable:!0,get:function(){return iG0.TimeoutError}});Object.defineProperty(A0,"callWithTimeout",{enumerable:!0,get:function(){return iG0.callWithTimeout}});var oG0=EG0();Object.defineProperty(A0,"isUrlIgnored",{enumerable:!0,get:function(){return oG0.isUrlIgnored}});Object.defineProperty(A0,"urlMatches",{enumerable:!0,get:function(){return oG0.urlMatches}});var I48=yG0();Object.defineProperty(A0,"BindOnceFuture",{enumerable:!0,get:function(){return I48.BindOnceFuture}});var w48=dG0();Object.defineProperty(A0,"diagLogLevelFromString",{enumerable:!0,get:function(){return w48.diagLogLevelFromString}});var A48=lG0();A0.internal={_export:A48._export}});var Xy=B((rG0)=>{Object.defineProperty(rG0,"__esModule",{value:!0});rG0.ExpressLayerType=void 0;var M48;(function(J){J.ROUTER="router",J.MIDDLEWARE="middleware",J.REQUEST_HANDLER="request_handler"})(M48=rG0.ExpressLayerType||(rG0.ExpressLayerType={}))});var Yy=B((tG0)=>{Object.defineProperty(tG0,"__esModule",{value:!0});tG0.AttributeNames=void 0;var N48;(function(J){J.EXPRESS_TYPE="express.type",J.EXPRESS_NAME="express.name"})(N48=tG0.AttributeNames||(tG0.AttributeNames={}))});var c71=B((eG0)=>{Object.defineProperty(eG0,"__esModule",{value:!0});eG0._LAYERS_STORE_PROPERTY=eG0.kLayerPatched=void 0;eG0.kLayerPatched=Symbol("express-layer-patched");eG0._LAYERS_STORE_PROPERTY="__ot_middlewares"});var $K0=B((XK0)=>{Object.defineProperty(XK0,"__esModule",{value:!0});XK0.getLayerPath=XK0.asErrorAndMessage=XK0.isLayerIgnored=XK0.getLayerMetadata=XK0.getRouterPath=XK0.storeLayerPath=void 0;var l71=Xy(),zw=Yy(),p71=c71(),L48=(J,Z)=>{if(Array.isArray(J[p71._LAYERS_STORE_PROPERTY])===!1)Object.defineProperty(J,p71._LAYERS_STORE_PROPERTY,{enumerable:!1,value:[]});if(Z===void 0)return{isLayerPathStored:!1};return J[p71._LAYERS_STORE_PROPERTY].push(Z),{isLayerPathStored:!0}};XK0.storeLayerPath=L48;var C48=(J,Z)=>{let X=Z.handle?.stack?.[0];if(X?.route?.path)return`${J}${X.route.path}`;if(X?.handle?.stack)return XK0.getRouterPath(J,X);return J};XK0.getRouterPath=C48;var j48=(J,Z,X)=>{if(Z.name==="router"){let Y=XK0.getRouterPath("",Z),$=Y?Y:X||J||"/";return{attributes:{[zw.AttributeNames.EXPRESS_NAME]:$,[zw.AttributeNames.EXPRESS_TYPE]:l71.ExpressLayerType.ROUTER},name:`router - ${$}`}}else if(Z.name==="bound dispatch"||Z.name==="handle")return{attributes:{[zw.AttributeNames.EXPRESS_NAME]:(J||X)??"request handler",[zw.AttributeNames.EXPRESS_TYPE]:l71.ExpressLayerType.REQUEST_HANDLER},name:`request handler${Z.path?` - ${J||X}`:""}`};else return{attributes:{[zw.AttributeNames.EXPRESS_NAME]:Z.name,[zw.AttributeNames.EXPRESS_TYPE]:l71.ExpressLayerType.MIDDLEWARE},name:`middleware - ${Z.name}`}};XK0.getLayerMetadata=j48;var R48=(J,Z)=>{if(typeof Z==="string")return Z===J;else if(Z instanceof RegExp)return Z.test(J);else if(typeof Z==="function")return Z(J);else throw new TypeError("Pattern is in unsupported datatype")},E48=(J,Z,X)=>{if(Array.isArray(X?.ignoreLayersType)&&X?.ignoreLayersType?.includes(Z))return!0;if(Array.isArray(X?.ignoreLayers)===!1)return!1;try{for(let Y of X.ignoreLayers)if(R48(J,Y))return!0}catch(Y){}return!1};XK0.isLayerIgnored=E48;var S48=(J)=>J instanceof Error?[J,J.message]:[String(J),String(J)];XK0.asErrorAndMessage=S48;var T48=(J)=>{let Z=J[0];if(Array.isArray(Z))return Z.map((X)=>ZK0(X)||"").join(",");return ZK0(Z)};XK0.getLayerPath=T48;var ZK0=(J)=>{if(typeof J==="string")return J;if(J instanceof RegExp||typeof J==="number")return J.toString();return}});var QK0=B((zK0)=>{Object.defineProperty(zK0,"__esModule",{value:!0});zK0.PACKAGE_NAME=zK0.PACKAGE_VERSION=void 0;zK0.PACKAGE_VERSION="0.50.0";zK0.PACKAGE_NAME="@opentelemetry/instrumentation-express"});var OK0=B((FK0)=>{Object.defineProperty(FK0,"__esModule",{value:!0});FK0.ExpressInstrumentation=void 0;var GK0=aG0(),SY=C(),KK0=Xy(),qK0=Yy(),m3=$K0(),BK0=QK0(),Ww=J6(),y48=j1(),tL=c71();class HK0 extends Ww.InstrumentationBase{constructor(J={}){super(BK0.PACKAGE_NAME,BK0.PACKAGE_VERSION,J)}init(){return[new Ww.InstrumentationNodeModuleDefinition("express",[">=4.0.0 <6"],(J)=>{let Z=typeof J?.Router?.prototype?.route==="function",X=Z?J.Router.prototype:J.Router;if((0,Ww.isWrapped)(X.route))this._unwrap(X,"route");if(this._wrap(X,"route",this._getRoutePatch()),(0,Ww.isWrapped)(X.use))this._unwrap(X,"use");if(this._wrap(X,"use",this._getRouterUsePatch()),(0,Ww.isWrapped)(J.application.use))this._unwrap(J.application,"use");return this._wrap(J.application,"use",this._getAppUsePatch(Z)),J},(J)=>{if(J===void 0)return;let X=typeof J?.Router?.prototype?.route==="function"?J.Router.prototype:J.Router;this._unwrap(X,"route"),this._unwrap(X,"use"),this._unwrap(J.application,"use")})]}_getRoutePatch(){let J=this;return function(Z){return function X(...Y){let $=Z.apply(this,Y),z=this.stack[this.stack.length-1];return J._applyPatch(z,(0,m3.getLayerPath)(Y)),$}}}_getRouterUsePatch(){let J=this;return function(Z){return function X(...Y){let $=Z.apply(this,Y),z=this.stack[this.stack.length-1];return J._applyPatch(z,(0,m3.getLayerPath)(Y)),$}}}_getAppUsePatch(J){let Z=this;return function(X){return function Y(...$){let z=J?this.router:this._router,W=X.apply(this,$);if(z){let Q=z.stack[z.stack.length-1];Z._applyPatch(Q,(0,m3.getLayerPath)($))}return W}}}_applyPatch(J,Z){let X=this;if(J[tL.kLayerPatched]===!0)return;J[tL.kLayerPatched]=!0,this._wrap(J,"handle",(Y)=>{if(Y.length===4)return Y;let $=function(z,W){let{isLayerPathStored:Q}=(0,m3.storeLayerPath)(z,Z),G=z[tL._LAYERS_STORE_PROPERTY].filter((v)=>v!=="/"&&v!=="/*").join("").replace(/\/{2,}/g,"/"),K={[y48.SEMATTRS_HTTP_ROUTE]:G.length>0?G:"/"},q=(0,m3.getLayerMetadata)(G,J,Z),H=q.attributes[qK0.AttributeNames.EXPRESS_TYPE],F=(0,GK0.getRPCMetadata)(SY.context.active());if(F?.type===GK0.RPCType.HTTP)F.route=G||"/";if((0,m3.isLayerIgnored)(q.name,H,X.getConfig())){if(H===KK0.ExpressLayerType.MIDDLEWARE)z[tL._LAYERS_STORE_PROPERTY].pop();return Y.apply(this,arguments)}if(SY.trace.getSpan(SY.context.active())===void 0)return Y.apply(this,arguments);let U=X._getSpanName({request:z,layerType:H,route:G},q.name),D=X.tracer.startSpan(U,{attributes:Object.assign(K,q.attributes)}),V=SY.context.active(),w=SY.trace.setSpan(V,D),{requestHook:M}=X.getConfig();if(M)(0,Ww.safeExecuteInTheMiddle)(()=>M(D,{request:z,layerType:H,route:G}),(v)=>{if(v)SY.diag.error("express instrumentation: request hook failed",v)},!0);let P=!1;if(q.attributes[qK0.AttributeNames.EXPRESS_TYPE]===KK0.ExpressLayerType.ROUTER)D.end(),P=!0,w=V;let R=()=>{if(P===!1)P=!0,D.end()},f=Array.from(arguments),d=f.findIndex((v)=>typeof v==="function");if(d>=0)arguments[d]=function(){let v=arguments[0],l=![void 0,null,"route","router"].includes(v);if(!P&&l){let[S,i]=(0,m3.asErrorAndMessage)(v);D.recordException(S),D.setStatus({code:SY.SpanStatusCode.ERROR,message:i})}if(P===!1)P=!0,z.res?.removeListener("finish",R),D.end();if(!(z.route&&l)&&Q)z[tL._LAYERS_STORE_PROPERTY].pop();let o=f[d];return SY.context.bind(V,o).apply(this,arguments)};try{return SY.context.bind(w,Y).apply(this,arguments)}catch(v){let[l,o]=(0,m3.asErrorAndMessage)(v);throw D.recordException(l),D.setStatus({code:SY.SpanStatusCode.ERROR,message:o}),v}finally{if(!P)W.once("finish",R)}};for(let z in Y)Object.defineProperty($,z,{get(){return Y[z]},set(W){Y[z]=W}});return $})}_getSpanName(J,Z){let{spanNameHook:X}=this.getConfig();if(!(X instanceof Function))return Z;try{return X(J,Z)??Z}catch(Y){return SY.diag.error("express instrumentation: error calling span name rewrite hook",Y),Z}}}FK0.ExpressInstrumentation=HK0});var VK0=B((DK0)=>{Object.defineProperty(DK0,"__esModule",{value:!0})});var IK0=B((Jz)=>{var v48=Jz&&Jz.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),$y=Jz&&Jz.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))v48(Z,J,X)};Object.defineProperty(Jz,"__esModule",{value:!0});$y(OK0(),Jz);$y(Xy(),Jz);$y(Yy(),Jz);$y(VK0(),Jz)});var o71=B((MK0)=>{Object.defineProperty(MK0,"__esModule",{value:!0});MK0.FastifyNames=MK0.FastifyTypes=MK0.AttributeNames=void 0;var x48;(function(J){J.FASTIFY_NAME="fastify.name",J.FASTIFY_TYPE="fastify.type",J.HOOK_NAME="hook.name",J.PLUGIN_NAME="plugin.name"})(x48=MK0.AttributeNames||(MK0.AttributeNames={}));var g48;(function(J){J.MIDDLEWARE="middleware",J.REQUEST_HANDLER="request_handler"})(g48=MK0.FastifyTypes||(MK0.FastifyTypes={}));var d48;(function(J){J.MIDDLEWARE="middleware",J.REQUEST_HANDLER="request handler"})(d48=MK0.FastifyNames||(MK0.FastifyNames={}))});var PK0=B((NK0)=>{Object.defineProperty(NK0,"__esModule",{value:!0})});var eL=B((LK0)=>{Object.defineProperty(LK0,"__esModule",{value:!0});LK0.isTracingSuppressed=LK0.unsuppressTracing=LK0.suppressTracing=void 0;var u48=C(),s71=(0,u48.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function m48(J){return J.setValue(s71,!0)}LK0.suppressTracing=m48;function c48(J){return J.deleteValue(s71)}LK0.unsuppressTracing=c48;function l48(J){return J.getValue(s71)===!0}LK0.isTracingSuppressed=l48});var a71=B((jK0)=>{Object.defineProperty(jK0,"__esModule",{value:!0});jK0.BAGGAGE_MAX_TOTAL_LENGTH=jK0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=jK0.BAGGAGE_MAX_NAME_VALUE_PAIRS=jK0.BAGGAGE_HEADER=jK0.BAGGAGE_ITEMS_SEPARATOR=jK0.BAGGAGE_PROPERTIES_SEPARATOR=jK0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;jK0.BAGGAGE_KEY_PAIR_SEPARATOR="=";jK0.BAGGAGE_PROPERTIES_SEPARATOR=";";jK0.BAGGAGE_ITEMS_SEPARATOR=",";jK0.BAGGAGE_HEADER="baggage";jK0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;jK0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;jK0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var r71=B((SK0)=>{Object.defineProperty(SK0,"__esModule",{value:!0});SK0.parseKeyPairsIntoRecord=SK0.parsePairKeyValue=SK0.getKeyPairs=SK0.serializeKeyPairs=void 0;var e48=C(),rF=a71();function J88(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?rF.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>rF.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}SK0.serializeKeyPairs=J88;function Z88(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=rF.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}SK0.getKeyPairs=Z88;function EK0(J){let Z=J.split(rF.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(rF.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,e48.baggageEntryMetadataFromString)(Z.join(rF.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}SK0.parsePairKeyValue=EK0;function X88(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(rF.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=EK0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}SK0.parseKeyPairsIntoRecord=X88});var hK0=B((kK0)=>{Object.defineProperty(kK0,"__esModule",{value:!0});kK0.W3CBaggagePropagator=void 0;var t71=C(),W88=eL(),tF=a71(),e71=r71();class fK0{inject(J,Z,X){let Y=t71.propagation.getBaggage(J);if(!Y||(0,W88.isTracingSuppressed)(J))return;let $=(0,e71.getKeyPairs)(Y).filter((W)=>{return W.length<=tF.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,tF.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,e71.serializeKeyPairs)($);if(z.length>0)X.set(Z,tF.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,tF.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(tF.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(tF.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,e71.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return t71.propagation.setBaggage(J,t71.propagation.createBaggage(z))}fields(){return[tF.BAGGAGE_HEADER]}}kK0.W3CBaggagePropagator=fK0});var xK0=B((yK0)=>{Object.defineProperty(yK0,"__esModule",{value:!0});yK0.AnchoredClock=void 0;class _K0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}yK0.AnchoredClock=_K0});var pK0=B((cK0)=>{Object.defineProperty(cK0,"__esModule",{value:!0});cK0.isAttributeValue=cK0.isAttributeKey=cK0.sanitizeAttributes=void 0;var gK0=C();function Q88(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!dK0(X)){gK0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!uK0(Y)){gK0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}cK0.sanitizeAttributes=Q88;function dK0(J){return typeof J==="string"&&J.length>0}cK0.isAttributeKey=dK0;function uK0(J){if(J==null)return!0;if(Array.isArray(J))return G88(J);return mK0(J)}cK0.isAttributeValue=uK0;function G88(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(mK0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function mK0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var JJ1=B((nK0)=>{Object.defineProperty(nK0,"__esModule",{value:!0});nK0.loggingErrorHandler=void 0;var B88=C();function H88(){return(J)=>{B88.diag.error(F88(J))}}nK0.loggingErrorHandler=H88;function F88(J){if(typeof J==="string")return J;else return JSON.stringify(U88(J))}function U88(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var rK0=B((sK0)=>{Object.defineProperty(sK0,"__esModule",{value:!0});sK0.globalErrorHandler=sK0.setGlobalErrorHandler=void 0;var O88=JJ1(),oK0=(0,O88.loggingErrorHandler)();function D88(J){oK0=J}sK0.setGlobalErrorHandler=D88;function V88(J){try{oK0(J)}catch{}}sK0.globalErrorHandler=V88});var Y30=B((Z30)=>{Object.defineProperty(Z30,"__esModule",{value:!0});Z30.getStringListFromEnv=Z30.getBooleanFromEnv=Z30.getStringFromEnv=Z30.getNumberFromEnv=void 0;var tK0=C(),eK0=p("util");function w88(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){tK0.diag.warn(`Unknown value ${(0,eK0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}Z30.getNumberFromEnv=w88;function J30(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}Z30.getStringFromEnv=J30;function A88(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return tK0.diag.warn(`Unknown value ${(0,eK0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}Z30.getBooleanFromEnv=A88;function M88(J){return J30(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}Z30.getStringListFromEnv=M88});var W30=B(($30)=>{Object.defineProperty($30,"__esModule",{value:!0});$30._globalThis=void 0;$30._globalThis=typeof globalThis==="object"?globalThis:global});var K30=B((Q30)=>{Object.defineProperty(Q30,"__esModule",{value:!0});Q30.otperformance=void 0;var C88=p("perf_hooks");Q30.otperformance=C88.performance});var H30=B((q30)=>{Object.defineProperty(q30,"__esModule",{value:!0});q30.VERSION=void 0;q30.VERSION="2.0.1"});var O30=B((F30)=>{Object.defineProperty(F30,"__esModule",{value:!0});F30.ATTR_PROCESS_RUNTIME_NAME=void 0;F30.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var I30=B((D30)=>{Object.defineProperty(D30,"__esModule",{value:!0});D30.SDK_INFO=void 0;var j88=H30(),zy=j1(),R88=O30();D30.SDK_INFO={[zy.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[R88.ATTR_PROCESS_RUNTIME_NAME]:"node",[zy.ATTR_TELEMETRY_SDK_LANGUAGE]:zy.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[zy.ATTR_TELEMETRY_SDK_VERSION]:j88.VERSION}});var M30=B((w30)=>{Object.defineProperty(w30,"__esModule",{value:!0});w30.unrefTimer=void 0;function E88(J){J.unref()}w30.unrefTimer=E88});var N30=B((Zz)=>{Object.defineProperty(Zz,"__esModule",{value:!0});Zz.unrefTimer=Zz.SDK_INFO=Zz.otperformance=Zz._globalThis=Zz.getStringListFromEnv=Zz.getNumberFromEnv=Zz.getBooleanFromEnv=Zz.getStringFromEnv=void 0;var Wy=Y30();Object.defineProperty(Zz,"getStringFromEnv",{enumerable:!0,get:function(){return Wy.getStringFromEnv}});Object.defineProperty(Zz,"getBooleanFromEnv",{enumerable:!0,get:function(){return Wy.getBooleanFromEnv}});Object.defineProperty(Zz,"getNumberFromEnv",{enumerable:!0,get:function(){return Wy.getNumberFromEnv}});Object.defineProperty(Zz,"getStringListFromEnv",{enumerable:!0,get:function(){return Wy.getStringListFromEnv}});var S88=W30();Object.defineProperty(Zz,"_globalThis",{enumerable:!0,get:function(){return S88._globalThis}});var T88=K30();Object.defineProperty(Zz,"otperformance",{enumerable:!0,get:function(){return T88.otperformance}});var f88=I30();Object.defineProperty(Zz,"SDK_INFO",{enumerable:!0,get:function(){return f88.SDK_INFO}});var k88=M30();Object.defineProperty(Zz,"unrefTimer",{enumerable:!0,get:function(){return k88.unrefTimer}})});var ZJ1=B((Xz)=>{Object.defineProperty(Xz,"__esModule",{value:!0});Xz.getStringListFromEnv=Xz.getNumberFromEnv=Xz.getStringFromEnv=Xz.getBooleanFromEnv=Xz.unrefTimer=Xz.otperformance=Xz._globalThis=Xz.SDK_INFO=void 0;var c3=N30();Object.defineProperty(Xz,"SDK_INFO",{enumerable:!0,get:function(){return c3.SDK_INFO}});Object.defineProperty(Xz,"_globalThis",{enumerable:!0,get:function(){return c3._globalThis}});Object.defineProperty(Xz,"otperformance",{enumerable:!0,get:function(){return c3.otperformance}});Object.defineProperty(Xz,"unrefTimer",{enumerable:!0,get:function(){return c3.unrefTimer}});Object.defineProperty(Xz,"getBooleanFromEnv",{enumerable:!0,get:function(){return c3.getBooleanFromEnv}});Object.defineProperty(Xz,"getStringFromEnv",{enumerable:!0,get:function(){return c3.getStringFromEnv}});Object.defineProperty(Xz,"getNumberFromEnv",{enumerable:!0,get:function(){return c3.getNumberFromEnv}});Object.defineProperty(Xz,"getStringListFromEnv",{enumerable:!0,get:function(){return c3.getStringListFromEnv}})});var E30=B((j30)=>{Object.defineProperty(j30,"__esModule",{value:!0});j30.addHrTimes=j30.isTimeInput=j30.isTimeInputHrTime=j30.hrTimeToMicroseconds=j30.hrTimeToMilliseconds=j30.hrTimeToNanoseconds=j30.hrTimeToTimeStamp=j30.hrTimeDuration=j30.timeInputToHrTime=j30.hrTime=j30.getTimeOrigin=j30.millisToHrTime=void 0;var XJ1=ZJ1(),P30=9,_88=6,y88=Math.pow(10,_88),Qy=Math.pow(10,P30);function JC(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*y88);return[X,Y]}j30.millisToHrTime=JC;function YJ1(){let J=XJ1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=XJ1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}j30.getTimeOrigin=YJ1;function L30(J){let Z=JC(YJ1()),X=JC(typeof J==="number"?J:XJ1.otperformance.now());return C30(Z,X)}j30.hrTime=L30;function v88(J){if($J1(J))return J;else if(typeof J==="number")if(J<YJ1())return L30(J);else return JC(J);else if(J instanceof Date)return JC(J.getTime());else throw TypeError("Invalid input type")}j30.timeInputToHrTime=v88;function x88(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=Qy;return[X,Y]}j30.hrTimeDuration=x88;function g88(J){let Z=P30,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}j30.hrTimeToTimeStamp=g88;function d88(J){return J[0]*Qy+J[1]}j30.hrTimeToNanoseconds=d88;function u88(J){return J[0]*1000+J[1]/1e6}j30.hrTimeToMilliseconds=u88;function m88(J){return J[0]*1e6+J[1]/1000}j30.hrTimeToMicroseconds=m88;function $J1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}j30.isTimeInputHrTime=$J1;function c88(J){return $J1(J)||typeof J==="number"||J instanceof Date}j30.isTimeInput=c88;function C30(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=Qy)X[1]-=Qy,X[0]+=1;return X}j30.addHrTimes=C30});var T30=B((S30)=>{Object.defineProperty(S30,"__esModule",{value:!0});S30.ExportResultCode=void 0;var Z58;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(Z58=S30.ExportResultCode||(S30.ExportResultCode={}))});var _30=B((b30)=>{Object.defineProperty(b30,"__esModule",{value:!0});b30.CompositePropagator=void 0;var f30=C();class k30{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){f30.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){f30.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}b30.CompositePropagator=k30});var x30=B((y30)=>{Object.defineProperty(y30,"__esModule",{value:!0});y30.validateValue=y30.validateKey=void 0;var WJ1="[_0-9a-z-*/]",X58=`[a-z]${WJ1}{0,255}`,Y58=`[a-z0-9]${WJ1}{0,240}@[a-z]${WJ1}{0,13}`,$58=new RegExp(`^(?:${X58}|${Y58})$`),z58=/^[ -~]{0,255}[!-~]$/,W58=/,|=/;function Q58(J){return $58.test(J)}y30.validateKey=Q58;function G58(J){return z58.test(J)&&!W58.test(J)}y30.validateValue=G58});var GJ1=B((c30)=>{Object.defineProperty(c30,"__esModule",{value:!0});c30.TraceState=void 0;var g30=x30(),d30=32,q58=512,u30=",",m30="=";class QJ1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+m30+this.get(Z)),J},[]).join(u30)}_parse(J){if(J.length>q58)return;if(this._internalState=J.split(u30).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(m30);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,g30.validateKey)(z)&&(0,g30.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>d30)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,d30))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new QJ1;return J._internalState=new Map(this._internalState),J}}c30.TraceState=QJ1});var s30=B((i30)=>{Object.defineProperty(i30,"__esModule",{value:!0});i30.W3CTraceContextPropagator=i30.parseTraceParent=i30.TRACE_STATE_HEADER=i30.TRACE_PARENT_HEADER=void 0;var Gy=C(),B58=eL(),H58=GJ1();i30.TRACE_PARENT_HEADER="traceparent";i30.TRACE_STATE_HEADER="tracestate";var F58="00",U58="(?!ff)[\\da-f]{2}",O58="(?![0]{32})[\\da-f]{32}",D58="(?![0]{16})[\\da-f]{16}",V58="[\\da-f]{2}",I58=new RegExp(`^\\s?(${U58})-(${O58})-(${D58})-(${V58})(-.*)?\\s?$`);function p30(J){let Z=I58.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}i30.parseTraceParent=p30;class n30{inject(J,Z,X){let Y=Gy.trace.getSpanContext(J);if(!Y||(0,B58.isTracingSuppressed)(J)||!(0,Gy.isSpanContextValid)(Y))return;let $=`${F58}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||Gy.TraceFlags.NONE).toString(16)}`;if(X.set(Z,i30.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,i30.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,i30.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=p30($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,i30.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new H58.TraceState(typeof Q==="string"?Q:void 0)}return Gy.trace.setSpanContext(J,z)}fields(){return[i30.TRACE_PARENT_HEADER,i30.TRACE_STATE_HEADER]}}i30.W3CTraceContextPropagator=n30});var e30=B((r30)=>{Object.defineProperty(r30,"__esModule",{value:!0});r30.getRPCMetadata=r30.deleteRPCMetadata=r30.setRPCMetadata=r30.RPCType=void 0;var A58=C(),KJ1=(0,A58.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),M58;(function(J){J.HTTP="http"})(M58=r30.RPCType||(r30.RPCType={}));function N58(J,Z){return J.setValue(KJ1,Z)}r30.setRPCMetadata=N58;function P58(J){return J.deleteValue(KJ1)}r30.deleteRPCMetadata=P58;function L58(J){return J.getValue(KJ1)}r30.getRPCMetadata=L58});var Wq0=B(($q0)=>{Object.defineProperty($q0,"__esModule",{value:!0});$q0.isPlainObject=void 0;var R58="[object Object]",E58="[object Null]",S58="[object Undefined]",T58=Function.prototype,Jq0=T58.toString,f58=Jq0.call(Object),k58=Object.getPrototypeOf,Zq0=Object.prototype,Xq0=Zq0.hasOwnProperty,eF=Symbol?Symbol.toStringTag:void 0,Yq0=Zq0.toString;function b58(J){if(!h58(J)||_58(J)!==R58)return!1;let Z=k58(J);if(Z===null)return!0;let X=Xq0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&Jq0.call(X)===f58}$q0.isPlainObject=b58;function h58(J){return J!=null&&typeof J=="object"}function _58(J){if(J==null)return J===void 0?S58:E58;return eF&&eF in Object(J)?y58(J):v58(J)}function y58(J){let Z=Xq0.call(J,eF),X=J[eF],Y=!1;try{J[eF]=void 0,Y=!0}catch(z){}let $=Yq0.call(J);if(Y)if(Z)J[eF]=X;else delete J[eF];return $}function v58(J){return Yq0.call(J)}});var Fq0=B((Bq0)=>{Object.defineProperty(Bq0,"__esModule",{value:!0});Bq0.merge=void 0;var Qq0=Wq0(),x58=20;function g58(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=Kq0(Z,J.shift(),0,X);return Z}Bq0.merge=g58;function qJ1(J){if(Hy(J))return J.slice();return J}function Kq0(J,Z,X=0,Y){let $;if(X>x58)return;if(X++,By(J)||By(Z)||qq0(Z))$=qJ1(Z);else if(Hy(J)){if($=J.slice(),Hy(Z))for(let z=0,W=Z.length;z<W;z++)$.push(qJ1(Z[z]));else if(ZC(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=qJ1(Z[G])}}}else if(ZC(J))if(ZC(Z)){if(!d58(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(By(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(Gq0(J,G,Y)||Gq0(Z,G,Y))delete $[G];else{if(ZC(q)&&ZC(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=Kq0($[G],K,X,Y)}}}}else $=Z;return $}function Gq0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function Hy(J){return Array.isArray(J)}function qq0(J){return typeof J==="function"}function ZC(J){return!By(J)&&!Hy(J)&&!qq0(J)&&typeof J==="object"}function By(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function d58(J,Z){if(!(0,Qq0.isPlainObject)(J)||!(0,Qq0.isPlainObject)(Z))return!1;return!0}});var Dq0=B((Uq0)=>{Object.defineProperty(Uq0,"__esModule",{value:!0});Uq0.callWithTimeout=Uq0.TimeoutError=void 0;class Fy extends Error{constructor(J){super(J);Object.setPrototypeOf(this,Fy.prototype)}}Uq0.TimeoutError=Fy;function u58(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new Fy("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}Uq0.callWithTimeout=u58});var Aq0=B((Iq0)=>{Object.defineProperty(Iq0,"__esModule",{value:!0});Iq0.isUrlIgnored=Iq0.urlMatches=void 0;function Vq0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}Iq0.urlMatches=Vq0;function c58(J,Z){if(!Z)return!1;for(let X of Z)if(Vq0(J,X))return!0;return!1}Iq0.isUrlIgnored=c58});var Lq0=B((Nq0)=>{Object.defineProperty(Nq0,"__esModule",{value:!0});Nq0.Deferred=void 0;class Mq0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}Nq0.Deferred=Mq0});var Eq0=B((jq0)=>{Object.defineProperty(jq0,"__esModule",{value:!0});jq0.BindOnceFuture=void 0;var p58=Lq0();class Cq0{_callback;_that;_isCalled=!1;_deferred=new p58.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}jq0.BindOnceFuture=Cq0});var kq0=B((Tq0)=>{Object.defineProperty(Tq0,"__esModule",{value:!0});Tq0.diagLogLevelFromString=void 0;var tQ=C(),Sq0={ALL:tQ.DiagLogLevel.ALL,VERBOSE:tQ.DiagLogLevel.VERBOSE,DEBUG:tQ.DiagLogLevel.DEBUG,INFO:tQ.DiagLogLevel.INFO,WARN:tQ.DiagLogLevel.WARN,ERROR:tQ.DiagLogLevel.ERROR,NONE:tQ.DiagLogLevel.NONE};function n58(J){if(J==null)return;let Z=Sq0[J.toUpperCase()];if(Z==null)return tQ.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(Sq0)}, using default`),tQ.DiagLogLevel.INFO;return Z}Tq0.diagLogLevelFromString=n58});var yq0=B((hq0)=>{Object.defineProperty(hq0,"__esModule",{value:!0});hq0._export=void 0;var bq0=C(),i58=eL();function o58(J,Z){return new Promise((X)=>{bq0.context.with((0,i58.suppressTracing)(bq0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}hq0._export=o58});var mq0=B((M0)=>{Object.defineProperty(M0,"__esModule",{value:!0});M0.internal=M0.diagLogLevelFromString=M0.BindOnceFuture=M0.urlMatches=M0.isUrlIgnored=M0.callWithTimeout=M0.TimeoutError=M0.merge=M0.TraceState=M0.unsuppressTracing=M0.suppressTracing=M0.isTracingSuppressed=M0.setRPCMetadata=M0.getRPCMetadata=M0.deleteRPCMetadata=M0.RPCType=M0.parseTraceParent=M0.W3CTraceContextPropagator=M0.TRACE_STATE_HEADER=M0.TRACE_PARENT_HEADER=M0.CompositePropagator=M0.unrefTimer=M0.otperformance=M0.getStringListFromEnv=M0.getNumberFromEnv=M0.getBooleanFromEnv=M0.getStringFromEnv=M0._globalThis=M0.SDK_INFO=M0.parseKeyPairsIntoRecord=M0.ExportResultCode=M0.timeInputToHrTime=M0.millisToHrTime=M0.isTimeInputHrTime=M0.isTimeInput=M0.hrTimeToTimeStamp=M0.hrTimeToNanoseconds=M0.hrTimeToMilliseconds=M0.hrTimeToMicroseconds=M0.hrTimeDuration=M0.hrTime=M0.getTimeOrigin=M0.addHrTimes=M0.loggingErrorHandler=M0.setGlobalErrorHandler=M0.globalErrorHandler=M0.sanitizeAttributes=M0.isAttributeValue=M0.AnchoredClock=M0.W3CBaggagePropagator=void 0;var s58=hK0();Object.defineProperty(M0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return s58.W3CBaggagePropagator}});var a58=xK0();Object.defineProperty(M0,"AnchoredClock",{enumerable:!0,get:function(){return a58.AnchoredClock}});var vq0=pK0();Object.defineProperty(M0,"isAttributeValue",{enumerable:!0,get:function(){return vq0.isAttributeValue}});Object.defineProperty(M0,"sanitizeAttributes",{enumerable:!0,get:function(){return vq0.sanitizeAttributes}});var xq0=rK0();Object.defineProperty(M0,"globalErrorHandler",{enumerable:!0,get:function(){return xq0.globalErrorHandler}});Object.defineProperty(M0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return xq0.setGlobalErrorHandler}});var r58=JJ1();Object.defineProperty(M0,"loggingErrorHandler",{enumerable:!0,get:function(){return r58.loggingErrorHandler}});var _Z=E30();Object.defineProperty(M0,"addHrTimes",{enumerable:!0,get:function(){return _Z.addHrTimes}});Object.defineProperty(M0,"getTimeOrigin",{enumerable:!0,get:function(){return _Z.getTimeOrigin}});Object.defineProperty(M0,"hrTime",{enumerable:!0,get:function(){return _Z.hrTime}});Object.defineProperty(M0,"hrTimeDuration",{enumerable:!0,get:function(){return _Z.hrTimeDuration}});Object.defineProperty(M0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return _Z.hrTimeToMicroseconds}});Object.defineProperty(M0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return _Z.hrTimeToMilliseconds}});Object.defineProperty(M0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return _Z.hrTimeToNanoseconds}});Object.defineProperty(M0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return _Z.hrTimeToTimeStamp}});Object.defineProperty(M0,"isTimeInput",{enumerable:!0,get:function(){return _Z.isTimeInput}});Object.defineProperty(M0,"isTimeInputHrTime",{enumerable:!0,get:function(){return _Z.isTimeInputHrTime}});Object.defineProperty(M0,"millisToHrTime",{enumerable:!0,get:function(){return _Z.millisToHrTime}});Object.defineProperty(M0,"timeInputToHrTime",{enumerable:!0,get:function(){return _Z.timeInputToHrTime}});var t58=T30();Object.defineProperty(M0,"ExportResultCode",{enumerable:!0,get:function(){return t58.ExportResultCode}});var e58=r71();Object.defineProperty(M0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return e58.parseKeyPairsIntoRecord}});var l3=ZJ1();Object.defineProperty(M0,"SDK_INFO",{enumerable:!0,get:function(){return l3.SDK_INFO}});Object.defineProperty(M0,"_globalThis",{enumerable:!0,get:function(){return l3._globalThis}});Object.defineProperty(M0,"getStringFromEnv",{enumerable:!0,get:function(){return l3.getStringFromEnv}});Object.defineProperty(M0,"getBooleanFromEnv",{enumerable:!0,get:function(){return l3.getBooleanFromEnv}});Object.defineProperty(M0,"getNumberFromEnv",{enumerable:!0,get:function(){return l3.getNumberFromEnv}});Object.defineProperty(M0,"getStringListFromEnv",{enumerable:!0,get:function(){return l3.getStringListFromEnv}});Object.defineProperty(M0,"otperformance",{enumerable:!0,get:function(){return l3.otperformance}});Object.defineProperty(M0,"unrefTimer",{enumerable:!0,get:function(){return l3.unrefTimer}});var J98=_30();Object.defineProperty(M0,"CompositePropagator",{enumerable:!0,get:function(){return J98.CompositePropagator}});var Uy=s30();Object.defineProperty(M0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return Uy.TRACE_PARENT_HEADER}});Object.defineProperty(M0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return Uy.TRACE_STATE_HEADER}});Object.defineProperty(M0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return Uy.W3CTraceContextPropagator}});Object.defineProperty(M0,"parseTraceParent",{enumerable:!0,get:function(){return Uy.parseTraceParent}});var Oy=e30();Object.defineProperty(M0,"RPCType",{enumerable:!0,get:function(){return Oy.RPCType}});Object.defineProperty(M0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Oy.deleteRPCMetadata}});Object.defineProperty(M0,"getRPCMetadata",{enumerable:!0,get:function(){return Oy.getRPCMetadata}});Object.defineProperty(M0,"setRPCMetadata",{enumerable:!0,get:function(){return Oy.setRPCMetadata}});var BJ1=eL();Object.defineProperty(M0,"isTracingSuppressed",{enumerable:!0,get:function(){return BJ1.isTracingSuppressed}});Object.defineProperty(M0,"suppressTracing",{enumerable:!0,get:function(){return BJ1.suppressTracing}});Object.defineProperty(M0,"unsuppressTracing",{enumerable:!0,get:function(){return BJ1.unsuppressTracing}});var Z98=GJ1();Object.defineProperty(M0,"TraceState",{enumerable:!0,get:function(){return Z98.TraceState}});var X98=Fq0();Object.defineProperty(M0,"merge",{enumerable:!0,get:function(){return X98.merge}});var gq0=Dq0();Object.defineProperty(M0,"TimeoutError",{enumerable:!0,get:function(){return gq0.TimeoutError}});Object.defineProperty(M0,"callWithTimeout",{enumerable:!0,get:function(){return gq0.callWithTimeout}});var dq0=Aq0();Object.defineProperty(M0,"isUrlIgnored",{enumerable:!0,get:function(){return dq0.isUrlIgnored}});Object.defineProperty(M0,"urlMatches",{enumerable:!0,get:function(){return dq0.urlMatches}});var Y98=Eq0();Object.defineProperty(M0,"BindOnceFuture",{enumerable:!0,get:function(){return Y98.BindOnceFuture}});var $98=kq0();Object.defineProperty(M0,"diagLogLevelFromString",{enumerable:!0,get:function(){return $98.diagLogLevelFromString}});var z98=yq0();M0.internal={_export:z98._export}});var HJ1=B((cq0)=>{Object.defineProperty(cq0,"__esModule",{value:!0});cq0.hooksNamesToWrap=cq0.spanRequestSymbol=void 0;cq0.spanRequestSymbol=Symbol("opentelemetry.instrumentation.fastify.request_active_span");cq0.hooksNamesToWrap=new Set(["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError"])});var oq0=B((nq0)=>{Object.defineProperty(nq0,"__esModule",{value:!0});nq0.safeExecuteInTheMiddleMaybePromise=nq0.endSpan=nq0.startSpan=void 0;var Q98=C(),Dy=HJ1();function G98(J,Z,X,Y={}){let $=Z.startSpan(X,{attributes:Y}),z=J[Dy.spanRequestSymbol]||[];return z.push($),Object.defineProperty(J,Dy.spanRequestSymbol,{enumerable:!1,configurable:!0,value:z}),$}nq0.startSpan=G98;function K98(J,Z){let X=J[Dy.spanRequestSymbol]||[];if(!X.length)return;X.forEach((Y)=>{if(Z)Y.setStatus({code:Q98.SpanStatusCode.ERROR,message:Z.message}),Y.recordException(Z);Y.end()}),delete J[Dy.spanRequestSymbol]}nq0.endSpan=K98;function q98(J,Z,X){let Y,$=void 0;try{if($=J(),pq0($))$.then((z)=>Z(void 0,z),(z)=>Z(z))}catch(z){Y=z}finally{if(!pq0($)){if(Z(Y,$),Y&&!X)throw Y}return $}}nq0.safeExecuteInTheMiddleMaybePromise=q98;function pq0(J){return typeof J==="object"&&J&&typeof Object.getOwnPropertyDescriptor(J,"then")?.value==="function"||!1}});var rq0=B((sq0)=>{Object.defineProperty(sq0,"__esModule",{value:!0});sq0.PACKAGE_NAME=sq0.PACKAGE_VERSION=void 0;sq0.PACKAGE_VERSION="0.46.0";sq0.PACKAGE_NAME="@opentelemetry/instrumentation-fastify"});var YB0=B((ZB0)=>{Object.defineProperty(ZB0,"__esModule",{value:!0});ZB0.FastifyInstrumentation=ZB0.ANONYMOUS_NAME=void 0;var p3=C(),tq0=mq0(),Vy=J6(),U98=j1(),O98=HJ1(),Yz=o71(),Qw=oq0(),eq0=rq0();ZB0.ANONYMOUS_NAME="anonymous";class JB0 extends Vy.InstrumentationBase{constructor(J={}){super(eq0.PACKAGE_NAME,eq0.PACKAGE_VERSION,J)}init(){return[new Vy.InstrumentationNodeModuleDefinition("fastify",[">=3.0.0 <6"],(J)=>{return this._patchConstructor(J)})]}_hookOnRequest(){let J=this;return function Z(X,Y,$){if(!J.isEnabled())return $();J._wrap(Y,"send",J._patchSend());let z=X,W=(0,tq0.getRPCMetadata)(p3.context.active()),Q=z.routeOptions?z.routeOptions.url:X.routerPath;if(Q&&W?.type===tq0.RPCType.HTTP)W.route=Q;$()}}_wrapHandler(J,Z,X,Y){let $=this;return this._diag.debug("Patching fastify route.handler function"),function(...z){if(!$.isEnabled())return X.apply(this,z);let W=X.name||J||ZB0.ANONYMOUS_NAME,Q=`${Yz.FastifyNames.MIDDLEWARE} - ${W}`,G=z[1],K=(0,Qw.startSpan)(G,$.tracer,Q,{[Yz.AttributeNames.FASTIFY_TYPE]:Yz.FastifyTypes.MIDDLEWARE,[Yz.AttributeNames.PLUGIN_NAME]:J,[Yz.AttributeNames.HOOK_NAME]:Z}),q=Y&&z[z.length-1];if(q)z[z.length-1]=function(...H){(0,Qw.endSpan)(G),q.apply(this,H)};return p3.context.with(p3.trace.setSpan(p3.context.active(),K),()=>{return(0,Qw.safeExecuteInTheMiddleMaybePromise)(()=>{return X.apply(this,z)},(H)=>{if(H instanceof Error)K.setStatus({code:p3.SpanStatusCode.ERROR,message:H.message}),K.recordException(H);if(!Y)(0,Qw.endSpan)(G)})})}}_wrapAddHook(){let J=this;return this._diag.debug("Patching fastify server.addHook function"),function(Z){return function X(...Y){let $=Y[0],z=Y[1],W=this.pluginName;if(!O98.hooksNamesToWrap.has($))return Z.apply(this,Y);let Q=typeof Y[Y.length-1]==="function"&&z.constructor.name!=="AsyncFunction";return Z.apply(this,[$,J._wrapHandler(W,$,z,Q)])}}}_patchConstructor(J){let Z=this;function X(...Y){let $=J.fastify.apply(this,Y);return $.addHook("onRequest",Z._hookOnRequest()),$.addHook("preHandler",Z._hookPreHandler()),Z._wrap($,"addHook",Z._wrapAddHook()),$}if(J.errorCodes!==void 0)X.errorCodes=J.errorCodes;return X.fastify=X,X.default=X,X}_patchSend(){let J=this;return this._diag.debug("Patching fastify reply.send function"),function Z(X){return function Y(...$){let z=$[0];if(!J.isEnabled())return X.apply(this,$);return(0,Vy.safeExecuteInTheMiddle)(()=>{return X.apply(this,$)},(W)=>{if(!W&&z instanceof Error)W=z;(0,Qw.endSpan)(this,W)})}}}_hookPreHandler(){let J=this;return this._diag.debug("Patching fastify preHandler function"),function Z(X,Y,$){if(!J.isEnabled())return $();let z=X,W=z.routeOptions?.handler||z.context?.handler,Q=W?.name.startsWith("bound ")?W.name.substring(6):W?.name,G=`${Yz.FastifyNames.REQUEST_HANDLER} - ${Q||this.pluginName||ZB0.ANONYMOUS_NAME}`,K={[Yz.AttributeNames.PLUGIN_NAME]:this.pluginName,[Yz.AttributeNames.FASTIFY_TYPE]:Yz.FastifyTypes.REQUEST_HANDLER,[U98.SEMATTRS_HTTP_ROUTE]:z.routeOptions?z.routeOptions.url:X.routerPath};if(Q)K[Yz.AttributeNames.FASTIFY_NAME]=Q;let q=(0,Qw.startSpan)(Y,J.tracer,G,K),{requestHook:H}=J.getConfig();if(H)(0,Vy.safeExecuteInTheMiddle)(()=>H(q,{request:X}),(F)=>{if(F)J._diag.error("request hook failed",F)},!0);return p3.context.with(p3.trace.setSpan(p3.context.active(),q),()=>{$()})}}}ZB0.FastifyInstrumentation=JB0});var $B0=B((eQ)=>{var D98=eQ&&eQ.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),UJ1=eQ&&eQ.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))D98(Z,J,X)};Object.defineProperty(eQ,"__esModule",{value:!0});UJ1(o71(),eQ);UJ1(PK0(),eQ);UJ1(YB0(),eQ)});var XC=B((zB0)=>{Object.defineProperty(zB0,"__esModule",{value:!0});zB0.isTracingSuppressed=zB0.unsuppressTracing=zB0.suppressTracing=void 0;var V98=C(),OJ1=(0,V98.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function I98(J){return J.setValue(OJ1,!0)}zB0.suppressTracing=I98;function w98(J){return J.deleteValue(OJ1)}zB0.unsuppressTracing=w98;function A98(J){return J.getValue(OJ1)===!0}zB0.isTracingSuppressed=A98});var DJ1=B((QB0)=>{Object.defineProperty(QB0,"__esModule",{value:!0});QB0.BAGGAGE_MAX_TOTAL_LENGTH=QB0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=QB0.BAGGAGE_MAX_NAME_VALUE_PAIRS=QB0.BAGGAGE_HEADER=QB0.BAGGAGE_ITEMS_SEPARATOR=QB0.BAGGAGE_PROPERTIES_SEPARATOR=QB0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;QB0.BAGGAGE_KEY_PAIR_SEPARATOR="=";QB0.BAGGAGE_PROPERTIES_SEPARATOR=";";QB0.BAGGAGE_ITEMS_SEPARATOR=",";QB0.BAGGAGE_HEADER="baggage";QB0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;QB0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;QB0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var VJ1=B((qB0)=>{Object.defineProperty(qB0,"__esModule",{value:!0});qB0.parseKeyPairsIntoRecord=qB0.parsePairKeyValue=qB0.getKeyPairs=qB0.serializeKeyPairs=void 0;var S98=C(),JU=DJ1();function T98(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?JU.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>JU.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}qB0.serializeKeyPairs=T98;function f98(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=JU.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}qB0.getKeyPairs=f98;function KB0(J){let Z=J.split(JU.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(JU.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,S98.baggageEntryMetadataFromString)(Z.join(JU.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}qB0.parsePairKeyValue=KB0;function k98(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(JU.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=KB0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}qB0.parseKeyPairsIntoRecord=k98});var OB0=B((FB0)=>{Object.defineProperty(FB0,"__esModule",{value:!0});FB0.W3CBaggagePropagator=void 0;var IJ1=C(),y98=XC(),ZU=DJ1(),wJ1=VJ1();class HB0{inject(J,Z,X){let Y=IJ1.propagation.getBaggage(J);if(!Y||(0,y98.isTracingSuppressed)(J))return;let $=(0,wJ1.getKeyPairs)(Y).filter((W)=>{return W.length<=ZU.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,ZU.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,wJ1.serializeKeyPairs)($);if(z.length>0)X.set(Z,ZU.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,ZU.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(ZU.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(ZU.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,wJ1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return IJ1.propagation.setBaggage(J,IJ1.propagation.createBaggage(z))}fields(){return[ZU.BAGGAGE_HEADER]}}FB0.W3CBaggagePropagator=HB0});var wB0=B((VB0)=>{Object.defineProperty(VB0,"__esModule",{value:!0});VB0.AnchoredClock=void 0;class DB0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}VB0.AnchoredClock=DB0});var jB0=B((LB0)=>{Object.defineProperty(LB0,"__esModule",{value:!0});LB0.isAttributeValue=LB0.isAttributeKey=LB0.sanitizeAttributes=void 0;var AB0=C();function v98(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!MB0(X)){AB0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!NB0(Y)){AB0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}LB0.sanitizeAttributes=v98;function MB0(J){return typeof J==="string"&&J.length>0}LB0.isAttributeKey=MB0;function NB0(J){if(J==null)return!0;if(Array.isArray(J))return x98(J);return PB0(J)}LB0.isAttributeValue=NB0;function x98(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(PB0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function PB0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var AJ1=B((RB0)=>{Object.defineProperty(RB0,"__esModule",{value:!0});RB0.loggingErrorHandler=void 0;var u98=C();function m98(){return(J)=>{u98.diag.error(c98(J))}}RB0.loggingErrorHandler=m98;function c98(J){if(typeof J==="string")return J;else return JSON.stringify(l98(J))}function l98(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var kB0=B((TB0)=>{Object.defineProperty(TB0,"__esModule",{value:!0});TB0.globalErrorHandler=TB0.setGlobalErrorHandler=void 0;var p98=AJ1(),SB0=(0,p98.loggingErrorHandler)();function n98(J){SB0=J}TB0.setGlobalErrorHandler=n98;function i98(J){try{SB0(J)}catch{}}TB0.globalErrorHandler=i98});var xB0=B((yB0)=>{Object.defineProperty(yB0,"__esModule",{value:!0});yB0.getStringListFromEnv=yB0.getBooleanFromEnv=yB0.getStringFromEnv=yB0.getNumberFromEnv=void 0;var bB0=C(),hB0=p("util");function s98(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){bB0.diag.warn(`Unknown value ${(0,hB0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}yB0.getNumberFromEnv=s98;function _B0(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}yB0.getStringFromEnv=_B0;function a98(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return bB0.diag.warn(`Unknown value ${(0,hB0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}yB0.getBooleanFromEnv=a98;function r98(J){return _B0(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}yB0.getStringListFromEnv=r98});var uB0=B((gB0)=>{Object.defineProperty(gB0,"__esModule",{value:!0});gB0._globalThis=void 0;gB0._globalThis=typeof globalThis==="object"?globalThis:global});var lB0=B((mB0)=>{Object.defineProperty(mB0,"__esModule",{value:!0});mB0.otperformance=void 0;var Z78=p("perf_hooks");mB0.otperformance=Z78.performance});var iB0=B((pB0)=>{Object.defineProperty(pB0,"__esModule",{value:!0});pB0.VERSION=void 0;pB0.VERSION="2.0.1"});var aB0=B((oB0)=>{Object.defineProperty(oB0,"__esModule",{value:!0});oB0.ATTR_PROCESS_RUNTIME_NAME=void 0;oB0.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var eB0=B((rB0)=>{Object.defineProperty(rB0,"__esModule",{value:!0});rB0.SDK_INFO=void 0;var X78=iB0(),Iy=j1(),Y78=aB0();rB0.SDK_INFO={[Iy.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[Y78.ATTR_PROCESS_RUNTIME_NAME]:"node",[Iy.ATTR_TELEMETRY_SDK_LANGUAGE]:Iy.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[Iy.ATTR_TELEMETRY_SDK_VERSION]:X78.VERSION}});var XH0=B((JH0)=>{Object.defineProperty(JH0,"__esModule",{value:!0});JH0.unrefTimer=void 0;function $78(J){J.unref()}JH0.unrefTimer=$78});var YH0=B(($z)=>{Object.defineProperty($z,"__esModule",{value:!0});$z.unrefTimer=$z.SDK_INFO=$z.otperformance=$z._globalThis=$z.getStringListFromEnv=$z.getNumberFromEnv=$z.getBooleanFromEnv=$z.getStringFromEnv=void 0;var wy=xB0();Object.defineProperty($z,"getStringFromEnv",{enumerable:!0,get:function(){return wy.getStringFromEnv}});Object.defineProperty($z,"getBooleanFromEnv",{enumerable:!0,get:function(){return wy.getBooleanFromEnv}});Object.defineProperty($z,"getNumberFromEnv",{enumerable:!0,get:function(){return wy.getNumberFromEnv}});Object.defineProperty($z,"getStringListFromEnv",{enumerable:!0,get:function(){return wy.getStringListFromEnv}});var z78=uB0();Object.defineProperty($z,"_globalThis",{enumerable:!0,get:function(){return z78._globalThis}});var W78=lB0();Object.defineProperty($z,"otperformance",{enumerable:!0,get:function(){return W78.otperformance}});var Q78=eB0();Object.defineProperty($z,"SDK_INFO",{enumerable:!0,get:function(){return Q78.SDK_INFO}});var G78=XH0();Object.defineProperty($z,"unrefTimer",{enumerable:!0,get:function(){return G78.unrefTimer}})});var MJ1=B((zz)=>{Object.defineProperty(zz,"__esModule",{value:!0});zz.getStringListFromEnv=zz.getNumberFromEnv=zz.getStringFromEnv=zz.getBooleanFromEnv=zz.unrefTimer=zz.otperformance=zz._globalThis=zz.SDK_INFO=void 0;var n3=YH0();Object.defineProperty(zz,"SDK_INFO",{enumerable:!0,get:function(){return n3.SDK_INFO}});Object.defineProperty(zz,"_globalThis",{enumerable:!0,get:function(){return n3._globalThis}});Object.defineProperty(zz,"otperformance",{enumerable:!0,get:function(){return n3.otperformance}});Object.defineProperty(zz,"unrefTimer",{enumerable:!0,get:function(){return n3.unrefTimer}});Object.defineProperty(zz,"getBooleanFromEnv",{enumerable:!0,get:function(){return n3.getBooleanFromEnv}});Object.defineProperty(zz,"getStringFromEnv",{enumerable:!0,get:function(){return n3.getStringFromEnv}});Object.defineProperty(zz,"getNumberFromEnv",{enumerable:!0,get:function(){return n3.getNumberFromEnv}});Object.defineProperty(zz,"getStringListFromEnv",{enumerable:!0,get:function(){return n3.getStringListFromEnv}})});var KH0=B((QH0)=>{Object.defineProperty(QH0,"__esModule",{value:!0});QH0.addHrTimes=QH0.isTimeInput=QH0.isTimeInputHrTime=QH0.hrTimeToMicroseconds=QH0.hrTimeToMilliseconds=QH0.hrTimeToNanoseconds=QH0.hrTimeToTimeStamp=QH0.hrTimeDuration=QH0.timeInputToHrTime=QH0.hrTime=QH0.getTimeOrigin=QH0.millisToHrTime=void 0;var NJ1=MJ1(),$H0=9,B78=6,H78=Math.pow(10,B78),Ay=Math.pow(10,$H0);function YC(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*H78);return[X,Y]}QH0.millisToHrTime=YC;function PJ1(){let J=NJ1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=NJ1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}QH0.getTimeOrigin=PJ1;function zH0(J){let Z=YC(PJ1()),X=YC(typeof J==="number"?J:NJ1.otperformance.now());return WH0(Z,X)}QH0.hrTime=zH0;function F78(J){if(LJ1(J))return J;else if(typeof J==="number")if(J<PJ1())return zH0(J);else return YC(J);else if(J instanceof Date)return YC(J.getTime());else throw TypeError("Invalid input type")}QH0.timeInputToHrTime=F78;function U78(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=Ay;return[X,Y]}QH0.hrTimeDuration=U78;function O78(J){let Z=$H0,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}QH0.hrTimeToTimeStamp=O78;function D78(J){return J[0]*Ay+J[1]}QH0.hrTimeToNanoseconds=D78;function V78(J){return J[0]*1000+J[1]/1e6}QH0.hrTimeToMilliseconds=V78;function I78(J){return J[0]*1e6+J[1]/1000}QH0.hrTimeToMicroseconds=I78;function LJ1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}QH0.isTimeInputHrTime=LJ1;function w78(J){return LJ1(J)||typeof J==="number"||J instanceof Date}QH0.isTimeInput=w78;function WH0(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=Ay)X[1]-=Ay,X[0]+=1;return X}QH0.addHrTimes=WH0});var BH0=B((qH0)=>{Object.defineProperty(qH0,"__esModule",{value:!0});qH0.ExportResultCode=void 0;var f78;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(f78=qH0.ExportResultCode||(qH0.ExportResultCode={}))});var DH0=B((UH0)=>{Object.defineProperty(UH0,"__esModule",{value:!0});UH0.CompositePropagator=void 0;var HH0=C();class FH0{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){HH0.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){HH0.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}UH0.CompositePropagator=FH0});var wH0=B((VH0)=>{Object.defineProperty(VH0,"__esModule",{value:!0});VH0.validateValue=VH0.validateKey=void 0;var jJ1="[_0-9a-z-*/]",k78=`[a-z]${jJ1}{0,255}`,b78=`[a-z0-9]${jJ1}{0,240}@[a-z]${jJ1}{0,13}`,h78=new RegExp(`^(?:${k78}|${b78})$`),_78=/^[ -~]{0,255}[!-~]$/,y78=/,|=/;function v78(J){return h78.test(J)}VH0.validateKey=v78;function x78(J){return _78.test(J)&&!y78.test(J)}VH0.validateValue=x78});var EJ1=B((LH0)=>{Object.defineProperty(LH0,"__esModule",{value:!0});LH0.TraceState=void 0;var AH0=wH0(),MH0=32,d78=512,NH0=",",PH0="=";class RJ1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+PH0+this.get(Z)),J},[]).join(NH0)}_parse(J){if(J.length>d78)return;if(this._internalState=J.split(NH0).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(PH0);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,AH0.validateKey)(z)&&(0,AH0.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>MH0)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,MH0))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new RJ1;return J._internalState=new Map(this._internalState),J}}LH0.TraceState=RJ1});var TH0=B((EH0)=>{Object.defineProperty(EH0,"__esModule",{value:!0});EH0.W3CTraceContextPropagator=EH0.parseTraceParent=EH0.TRACE_STATE_HEADER=EH0.TRACE_PARENT_HEADER=void 0;var My=C(),u78=XC(),m78=EJ1();EH0.TRACE_PARENT_HEADER="traceparent";EH0.TRACE_STATE_HEADER="tracestate";var c78="00",l78="(?!ff)[\\da-f]{2}",p78="(?![0]{32})[\\da-f]{32}",n78="(?![0]{16})[\\da-f]{16}",i78="[\\da-f]{2}",o78=new RegExp(`^\\s?(${l78})-(${p78})-(${n78})-(${i78})(-.*)?\\s?$`);function jH0(J){let Z=o78.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}EH0.parseTraceParent=jH0;class RH0{inject(J,Z,X){let Y=My.trace.getSpanContext(J);if(!Y||(0,u78.isTracingSuppressed)(J)||!(0,My.isSpanContextValid)(Y))return;let $=`${c78}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||My.TraceFlags.NONE).toString(16)}`;if(X.set(Z,EH0.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,EH0.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,EH0.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=jH0($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,EH0.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new m78.TraceState(typeof Q==="string"?Q:void 0)}return My.trace.setSpanContext(J,z)}fields(){return[EH0.TRACE_PARENT_HEADER,EH0.TRACE_STATE_HEADER]}}EH0.W3CTraceContextPropagator=RH0});var hH0=B((kH0)=>{Object.defineProperty(kH0,"__esModule",{value:!0});kH0.getRPCMetadata=kH0.deleteRPCMetadata=kH0.setRPCMetadata=kH0.RPCType=void 0;var a78=C(),SJ1=(0,a78.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),r78;(function(J){J.HTTP="http"})(r78=kH0.RPCType||(kH0.RPCType={}));function t78(J,Z){return J.setValue(SJ1,Z)}kH0.setRPCMetadata=t78;function e78(J){return J.deleteValue(SJ1)}kH0.deleteRPCMetadata=e78;function JJ8(J){return J.getValue(SJ1)}kH0.getRPCMetadata=JJ8});var uH0=B((gH0)=>{Object.defineProperty(gH0,"__esModule",{value:!0});gH0.isPlainObject=void 0;var YJ8="[object Object]",$J8="[object Null]",zJ8="[object Undefined]",WJ8=Function.prototype,_H0=WJ8.toString,QJ8=_H0.call(Object),GJ8=Object.getPrototypeOf,yH0=Object.prototype,vH0=yH0.hasOwnProperty,XU=Symbol?Symbol.toStringTag:void 0,xH0=yH0.toString;function KJ8(J){if(!qJ8(J)||BJ8(J)!==YJ8)return!1;let Z=GJ8(J);if(Z===null)return!0;let X=vH0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&_H0.call(X)===QJ8}gH0.isPlainObject=KJ8;function qJ8(J){return J!=null&&typeof J=="object"}function BJ8(J){if(J==null)return J===void 0?zJ8:$J8;return XU&&XU in Object(J)?HJ8(J):FJ8(J)}function HJ8(J){let Z=vH0.call(J,XU),X=J[XU],Y=!1;try{J[XU]=void 0,Y=!0}catch(z){}let $=xH0.call(J);if(Y)if(Z)J[XU]=X;else delete J[XU];return $}function FJ8(J){return xH0.call(J)}});var oH0=B((nH0)=>{Object.defineProperty(nH0,"__esModule",{value:!0});nH0.merge=void 0;var mH0=uH0(),UJ8=20;function OJ8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=lH0(Z,J.shift(),0,X);return Z}nH0.merge=OJ8;function TJ1(J){if(Cy(J))return J.slice();return J}function lH0(J,Z,X=0,Y){let $;if(X>UJ8)return;if(X++,Ly(J)||Ly(Z)||pH0(Z))$=TJ1(Z);else if(Cy(J)){if($=J.slice(),Cy(Z))for(let z=0,W=Z.length;z<W;z++)$.push(TJ1(Z[z]));else if($C(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=TJ1(Z[G])}}}else if($C(J))if($C(Z)){if(!DJ8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(Ly(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(cH0(J,G,Y)||cH0(Z,G,Y))delete $[G];else{if($C(q)&&$C(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=lH0($[G],K,X,Y)}}}}else $=Z;return $}function cH0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function Cy(J){return Array.isArray(J)}function pH0(J){return typeof J==="function"}function $C(J){return!Ly(J)&&!Cy(J)&&!pH0(J)&&typeof J==="object"}function Ly(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function DJ8(J,Z){if(!(0,mH0.isPlainObject)(J)||!(0,mH0.isPlainObject)(Z))return!1;return!0}});var rH0=B((sH0)=>{Object.defineProperty(sH0,"__esModule",{value:!0});sH0.callWithTimeout=sH0.TimeoutError=void 0;class jy extends Error{constructor(J){super(J);Object.setPrototypeOf(this,jy.prototype)}}sH0.TimeoutError=jy;function VJ8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new jy("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}sH0.callWithTimeout=VJ8});var ZF0=B((eH0)=>{Object.defineProperty(eH0,"__esModule",{value:!0});eH0.isUrlIgnored=eH0.urlMatches=void 0;function tH0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}eH0.urlMatches=tH0;function wJ8(J,Z){if(!Z)return!1;for(let X of Z)if(tH0(J,X))return!0;return!1}eH0.isUrlIgnored=wJ8});var zF0=B((YF0)=>{Object.defineProperty(YF0,"__esModule",{value:!0});YF0.Deferred=void 0;class XF0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}YF0.Deferred=XF0});var KF0=B((QF0)=>{Object.defineProperty(QF0,"__esModule",{value:!0});QF0.BindOnceFuture=void 0;var MJ8=zF0();class WF0{_callback;_that;_isCalled=!1;_deferred=new MJ8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}QF0.BindOnceFuture=WF0});var FF0=B((BF0)=>{Object.defineProperty(BF0,"__esModule",{value:!0});BF0.diagLogLevelFromString=void 0;var JG=C(),qF0={ALL:JG.DiagLogLevel.ALL,VERBOSE:JG.DiagLogLevel.VERBOSE,DEBUG:JG.DiagLogLevel.DEBUG,INFO:JG.DiagLogLevel.INFO,WARN:JG.DiagLogLevel.WARN,ERROR:JG.DiagLogLevel.ERROR,NONE:JG.DiagLogLevel.NONE};function NJ8(J){if(J==null)return;let Z=qF0[J.toUpperCase()];if(Z==null)return JG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(qF0)}, using default`),JG.DiagLogLevel.INFO;return Z}BF0.diagLogLevelFromString=NJ8});var VF0=B((OF0)=>{Object.defineProperty(OF0,"__esModule",{value:!0});OF0._export=void 0;var UF0=C(),PJ8=XC();function LJ8(J,Z){return new Promise((X)=>{UF0.context.with((0,PJ8.suppressTracing)(UF0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}OF0._export=LJ8});var PF0=B((N0)=>{Object.defineProperty(N0,"__esModule",{value:!0});N0.internal=N0.diagLogLevelFromString=N0.BindOnceFuture=N0.urlMatches=N0.isUrlIgnored=N0.callWithTimeout=N0.TimeoutError=N0.merge=N0.TraceState=N0.unsuppressTracing=N0.suppressTracing=N0.isTracingSuppressed=N0.setRPCMetadata=N0.getRPCMetadata=N0.deleteRPCMetadata=N0.RPCType=N0.parseTraceParent=N0.W3CTraceContextPropagator=N0.TRACE_STATE_HEADER=N0.TRACE_PARENT_HEADER=N0.CompositePropagator=N0.unrefTimer=N0.otperformance=N0.getStringListFromEnv=N0.getNumberFromEnv=N0.getBooleanFromEnv=N0.getStringFromEnv=N0._globalThis=N0.SDK_INFO=N0.parseKeyPairsIntoRecord=N0.ExportResultCode=N0.timeInputToHrTime=N0.millisToHrTime=N0.isTimeInputHrTime=N0.isTimeInput=N0.hrTimeToTimeStamp=N0.hrTimeToNanoseconds=N0.hrTimeToMilliseconds=N0.hrTimeToMicroseconds=N0.hrTimeDuration=N0.hrTime=N0.getTimeOrigin=N0.addHrTimes=N0.loggingErrorHandler=N0.setGlobalErrorHandler=N0.globalErrorHandler=N0.sanitizeAttributes=N0.isAttributeValue=N0.AnchoredClock=N0.W3CBaggagePropagator=void 0;var CJ8=OB0();Object.defineProperty(N0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return CJ8.W3CBaggagePropagator}});var jJ8=wB0();Object.defineProperty(N0,"AnchoredClock",{enumerable:!0,get:function(){return jJ8.AnchoredClock}});var IF0=jB0();Object.defineProperty(N0,"isAttributeValue",{enumerable:!0,get:function(){return IF0.isAttributeValue}});Object.defineProperty(N0,"sanitizeAttributes",{enumerable:!0,get:function(){return IF0.sanitizeAttributes}});var wF0=kB0();Object.defineProperty(N0,"globalErrorHandler",{enumerable:!0,get:function(){return wF0.globalErrorHandler}});Object.defineProperty(N0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return wF0.setGlobalErrorHandler}});var RJ8=AJ1();Object.defineProperty(N0,"loggingErrorHandler",{enumerable:!0,get:function(){return RJ8.loggingErrorHandler}});var yZ=KH0();Object.defineProperty(N0,"addHrTimes",{enumerable:!0,get:function(){return yZ.addHrTimes}});Object.defineProperty(N0,"getTimeOrigin",{enumerable:!0,get:function(){return yZ.getTimeOrigin}});Object.defineProperty(N0,"hrTime",{enumerable:!0,get:function(){return yZ.hrTime}});Object.defineProperty(N0,"hrTimeDuration",{enumerable:!0,get:function(){return yZ.hrTimeDuration}});Object.defineProperty(N0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return yZ.hrTimeToMicroseconds}});Object.defineProperty(N0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return yZ.hrTimeToMilliseconds}});Object.defineProperty(N0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return yZ.hrTimeToNanoseconds}});Object.defineProperty(N0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return yZ.hrTimeToTimeStamp}});Object.defineProperty(N0,"isTimeInput",{enumerable:!0,get:function(){return yZ.isTimeInput}});Object.defineProperty(N0,"isTimeInputHrTime",{enumerable:!0,get:function(){return yZ.isTimeInputHrTime}});Object.defineProperty(N0,"millisToHrTime",{enumerable:!0,get:function(){return yZ.millisToHrTime}});Object.defineProperty(N0,"timeInputToHrTime",{enumerable:!0,get:function(){return yZ.timeInputToHrTime}});var EJ8=BH0();Object.defineProperty(N0,"ExportResultCode",{enumerable:!0,get:function(){return EJ8.ExportResultCode}});var SJ8=VJ1();Object.defineProperty(N0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return SJ8.parseKeyPairsIntoRecord}});var i3=MJ1();Object.defineProperty(N0,"SDK_INFO",{enumerable:!0,get:function(){return i3.SDK_INFO}});Object.defineProperty(N0,"_globalThis",{enumerable:!0,get:function(){return i3._globalThis}});Object.defineProperty(N0,"getStringFromEnv",{enumerable:!0,get:function(){return i3.getStringFromEnv}});Object.defineProperty(N0,"getBooleanFromEnv",{enumerable:!0,get:function(){return i3.getBooleanFromEnv}});Object.defineProperty(N0,"getNumberFromEnv",{enumerable:!0,get:function(){return i3.getNumberFromEnv}});Object.defineProperty(N0,"getStringListFromEnv",{enumerable:!0,get:function(){return i3.getStringListFromEnv}});Object.defineProperty(N0,"otperformance",{enumerable:!0,get:function(){return i3.otperformance}});Object.defineProperty(N0,"unrefTimer",{enumerable:!0,get:function(){return i3.unrefTimer}});var TJ8=DH0();Object.defineProperty(N0,"CompositePropagator",{enumerable:!0,get:function(){return TJ8.CompositePropagator}});var Ry=TH0();Object.defineProperty(N0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return Ry.TRACE_PARENT_HEADER}});Object.defineProperty(N0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return Ry.TRACE_STATE_HEADER}});Object.defineProperty(N0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return Ry.W3CTraceContextPropagator}});Object.defineProperty(N0,"parseTraceParent",{enumerable:!0,get:function(){return Ry.parseTraceParent}});var Ey=hH0();Object.defineProperty(N0,"RPCType",{enumerable:!0,get:function(){return Ey.RPCType}});Object.defineProperty(N0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Ey.deleteRPCMetadata}});Object.defineProperty(N0,"getRPCMetadata",{enumerable:!0,get:function(){return Ey.getRPCMetadata}});Object.defineProperty(N0,"setRPCMetadata",{enumerable:!0,get:function(){return Ey.setRPCMetadata}});var fJ1=XC();Object.defineProperty(N0,"isTracingSuppressed",{enumerable:!0,get:function(){return fJ1.isTracingSuppressed}});Object.defineProperty(N0,"suppressTracing",{enumerable:!0,get:function(){return fJ1.suppressTracing}});Object.defineProperty(N0,"unsuppressTracing",{enumerable:!0,get:function(){return fJ1.unsuppressTracing}});var fJ8=EJ1();Object.defineProperty(N0,"TraceState",{enumerable:!0,get:function(){return fJ8.TraceState}});var kJ8=oH0();Object.defineProperty(N0,"merge",{enumerable:!0,get:function(){return kJ8.merge}});var AF0=rH0();Object.defineProperty(N0,"TimeoutError",{enumerable:!0,get:function(){return AF0.TimeoutError}});Object.defineProperty(N0,"callWithTimeout",{enumerable:!0,get:function(){return AF0.callWithTimeout}});var MF0=ZF0();Object.defineProperty(N0,"isUrlIgnored",{enumerable:!0,get:function(){return MF0.isUrlIgnored}});Object.defineProperty(N0,"urlMatches",{enumerable:!0,get:function(){return MF0.urlMatches}});var bJ8=KF0();Object.defineProperty(N0,"BindOnceFuture",{enumerable:!0,get:function(){return bJ8.BindOnceFuture}});var hJ8=FF0();Object.defineProperty(N0,"diagLogLevelFromString",{enumerable:!0,get:function(){return hJ8.diagLogLevelFromString}});var _J8=VF0();N0.internal={_export:_J8._export}});var jF0=B((LF0)=>{Object.defineProperty(LF0,"__esModule",{value:!0});LF0.PACKAGE_NAME=LF0.PACKAGE_VERSION=void 0;LF0.PACKAGE_VERSION="0.21.0";LF0.PACKAGE_NAME="@opentelemetry/instrumentation-fs"});var SF0=B((RF0)=>{Object.defineProperty(RF0,"__esModule",{value:!0});RF0.SYNC_FUNCTIONS=RF0.CALLBACK_FUNCTIONS=RF0.PROMISE_FUNCTIONS=void 0;RF0.PROMISE_FUNCTIONS=["access","appendFile","chmod","chown","copyFile","cp","lchown","link","lstat","lutimes","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"];RF0.CALLBACK_FUNCTIONS=["access","appendFile","chmod","chown","copyFile","cp","exists","lchown","link","lstat","lutimes","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","realpath.native","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"];RF0.SYNC_FUNCTIONS=["accessSync","appendFileSync","chmodSync","chownSync","copyFileSync","cpSync","existsSync","lchownSync","linkSync","lstatSync","lutimesSync","mkdirSync","mkdtempSync","opendirSync","openSync","readdirSync","readFileSync","readlinkSync","realpathSync","realpathSync.native","renameSync","rmdirSync","rmSync","statSync","symlinkSync","truncateSync","unlinkSync","utimesSync","writeFileSync"]});var bF0=B((fF0)=>{Object.defineProperty(fF0,"__esModule",{value:!0});fF0.indexFs=fF0.splitTwoLevels=void 0;function TF0(J){let Z=J.split(".");if(Z.length>1){if(Z.length!==2)throw Error(`Invalid member function name ${J}`);return Z}else return[J]}fF0.splitTwoLevels=TF0;function gJ8(J,Z){if(!Z)throw new Error(JSON.stringify({member:Z}));let X=TF0(Z),[Y,$]=X;if($)return{objectToPatch:J[Y],functionNameToPatch:$};else return{objectToPatch:J,functionNameToPatch:Y}}fF0.indexFs=gJ8});var xF0=B((yF0)=>{Object.defineProperty(yF0,"__esModule",{value:!0});yF0.FsInstrumentation=void 0;var j8=C(),ZG=PF0(),TY=J6(),hF0=jF0(),o3=SF0(),uJ8=p("util"),Sy=bF0();function Ty(J,Z){return Object.assign(J,Z)}class _F0 extends TY.InstrumentationBase{constructor(J={}){super(hF0.PACKAGE_NAME,hF0.PACKAGE_VERSION,J)}init(){return[new TY.InstrumentationNodeModuleDefinition("fs",["*"],(J)=>{for(let Z of o3.SYNC_FUNCTIONS){let{objectToPatch:X,functionNameToPatch:Y}=(0,Sy.indexFs)(J,Z);if((0,TY.isWrapped)(X[Y]))this._unwrap(X,Y);this._wrap(X,Y,this._patchSyncFunction.bind(this,Z))}for(let Z of o3.CALLBACK_FUNCTIONS){let{objectToPatch:X,functionNameToPatch:Y}=(0,Sy.indexFs)(J,Z);if((0,TY.isWrapped)(X[Y]))this._unwrap(X,Y);if(Z==="exists"){this._wrap(X,Y,this._patchExistsCallbackFunction.bind(this,Z));continue}this._wrap(X,Y,this._patchCallbackFunction.bind(this,Z))}for(let Z of o3.PROMISE_FUNCTIONS){if((0,TY.isWrapped)(J.promises[Z]))this._unwrap(J.promises,Z);this._wrap(J.promises,Z,this._patchPromiseFunction.bind(this,Z))}return J},(J)=>{if(J===void 0)return;for(let Z of o3.SYNC_FUNCTIONS){let{objectToPatch:X,functionNameToPatch:Y}=(0,Sy.indexFs)(J,Z);if((0,TY.isWrapped)(X[Y]))this._unwrap(X,Y)}for(let Z of o3.CALLBACK_FUNCTIONS){let{objectToPatch:X,functionNameToPatch:Y}=(0,Sy.indexFs)(J,Z);if((0,TY.isWrapped)(X[Y]))this._unwrap(X,Y)}for(let Z of o3.PROMISE_FUNCTIONS)if((0,TY.isWrapped)(J.promises[Z]))this._unwrap(J.promises,Z)}),new TY.InstrumentationNodeModuleDefinition("fs/promises",["*"],(J)=>{for(let Z of o3.PROMISE_FUNCTIONS){if((0,TY.isWrapped)(J[Z]))this._unwrap(J,Z);this._wrap(J,Z,this._patchPromiseFunction.bind(this,Z))}return J},(J)=>{if(J===void 0)return;for(let Z of o3.PROMISE_FUNCTIONS)if((0,TY.isWrapped)(J[Z]))this._unwrap(J,Z)})]}_patchSyncFunction(J,Z){let X=this;return Ty(function(...$){let z=j8.context.active();if(!X._shouldTrace(z))return Z.apply(this,$);if(X._runCreateHook(J,{args:$})===!1)return j8.context.with((0,ZG.suppressTracing)(z),Z,this,...$);let W=X.tracer.startSpan(`fs ${J}`);try{let Q=j8.context.with((0,ZG.suppressTracing)(j8.trace.setSpan(z,W)),Z,this,...$);return X._runEndHook(J,{args:$,span:W}),Q}catch(Q){throw W.recordException(Q),W.setStatus({message:Q.message,code:j8.SpanStatusCode.ERROR}),X._runEndHook(J,{args:$,span:W,error:Q}),Q}finally{W.end()}},Z)}_patchCallbackFunction(J,Z){let X=this;return Ty(function(...$){let z=j8.context.active();if(!X._shouldTrace(z))return Z.apply(this,$);if(X._runCreateHook(J,{args:$})===!1)return j8.context.with((0,ZG.suppressTracing)(z),Z,this,...$);let W=$.length-1,Q=$[W];if(typeof Q==="function"){let G=X.tracer.startSpan(`fs ${J}`);$[W]=j8.context.bind(z,function(K){if(K)G.recordException(K),G.setStatus({message:K.message,code:j8.SpanStatusCode.ERROR});return X._runEndHook(J,{args:$,span:G,error:K}),G.end(),Q.apply(this,arguments)});try{return j8.context.with((0,ZG.suppressTracing)(j8.trace.setSpan(z,G)),Z,this,...$)}catch(K){throw G.recordException(K),G.setStatus({message:K.message,code:j8.SpanStatusCode.ERROR}),X._runEndHook(J,{args:$,span:G,error:K}),G.end(),K}}else return Z.apply(this,$)},Z)}_patchExistsCallbackFunction(J,Z){let X=this,$=Ty(function(...W){let Q=j8.context.active();if(!X._shouldTrace(Q))return Z.apply(this,W);if(X._runCreateHook(J,{args:W})===!1)return j8.context.with((0,ZG.suppressTracing)(Q),Z,this,...W);let G=W.length-1,K=W[G];if(typeof K==="function"){let q=X.tracer.startSpan(`fs ${J}`);W[G]=j8.context.bind(Q,function(){return X._runEndHook(J,{args:W,span:q}),q.end(),K.apply(this,arguments)});try{return j8.context.with((0,ZG.suppressTracing)(j8.trace.setSpan(Q,q)),Z,this,...W)}catch(H){throw q.recordException(H),q.setStatus({message:H.message,code:j8.SpanStatusCode.ERROR}),X._runEndHook(J,{args:W,span:q,error:H}),q.end(),H}}else return Z.apply(this,W)},Z),z=function(W){return new Promise((Q)=>$(W,Q))};return Object.defineProperty(z,"name",{value:J}),Object.defineProperty($,uJ8.promisify.custom,{value:z}),$}_patchPromiseFunction(J,Z){let X=this;return Ty(async function(...$){let z=j8.context.active();if(!X._shouldTrace(z))return Z.apply(this,$);if(X._runCreateHook(J,{args:$})===!1)return j8.context.with((0,ZG.suppressTracing)(z),Z,this,...$);let W=X.tracer.startSpan(`fs ${J}`);try{let Q=await j8.context.with((0,ZG.suppressTracing)(j8.trace.setSpan(z,W)),Z,this,...$);return X._runEndHook(J,{args:$,span:W}),Q}catch(Q){throw W.recordException(Q),W.setStatus({message:Q.message,code:j8.SpanStatusCode.ERROR}),X._runEndHook(J,{args:$,span:W,error:Q}),Q}finally{W.end()}},Z)}_runCreateHook(...J){let{createHook:Z}=this.getConfig();if(typeof Z==="function")try{return Z(...J)}catch(X){this._diag.error("caught createHook error",X)}return!0}_runEndHook(...J){let{endHook:Z}=this.getConfig();if(typeof Z==="function")try{Z(...J)}catch(X){this._diag.error("caught endHook error",X)}}_shouldTrace(J){if((0,ZG.isTracingSuppressed)(J))return!1;let{requireParentSpan:Z}=this.getConfig();if(Z){if(j8.trace.getSpan(J)==null)return!1}return!0}}yF0.FsInstrumentation=_F0});var dF0=B((gF0)=>{Object.defineProperty(gF0,"__esModule",{value:!0})});var mF0=B((s3)=>{var mJ8=s3&&s3.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),uF0=s3&&s3.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))mJ8(Z,J,X)};Object.defineProperty(s3,"__esModule",{value:!0});uF0(xF0(),s3);uF0(dF0(),s3)});var pF0=B((cF0)=>{Object.defineProperty(cF0,"__esModule",{value:!0});cF0.PACKAGE_NAME=cF0.PACKAGE_VERSION=void 0;cF0.PACKAGE_VERSION="0.45.0";cF0.PACKAGE_NAME="@opentelemetry/instrumentation-generic-pool"});var aF0=B((oF0)=>{Object.defineProperty(oF0,"__esModule",{value:!0});oF0.GenericPoolInstrumentation=void 0;var Gw=C(),YU=J6(),nF0=pF0(),kJ1="generic-pool";class iF0 extends YU.InstrumentationBase{_isDisabled=!1;constructor(J={}){super(nF0.PACKAGE_NAME,nF0.PACKAGE_VERSION,J)}init(){return[new YU.InstrumentationNodeModuleDefinition(kJ1,[">=3.0.0 <4"],(J)=>{let Z=J.Pool;if((0,YU.isWrapped)(Z.prototype.acquire))this._unwrap(Z.prototype,"acquire");return this._wrap(Z.prototype,"acquire",this._acquirePatcher.bind(this)),J},(J)=>{let Z=J.Pool;return this._unwrap(Z.prototype,"acquire"),J}),new YU.InstrumentationNodeModuleDefinition(kJ1,[">=2.4.0 <3"],(J)=>{let Z=J.Pool;if((0,YU.isWrapped)(Z.prototype.acquire))this._unwrap(Z.prototype,"acquire");return this._wrap(Z.prototype,"acquire",this._acquireWithCallbacksPatcher.bind(this)),J},(J)=>{let Z=J.Pool;return this._unwrap(Z.prototype,"acquire"),J}),new YU.InstrumentationNodeModuleDefinition(kJ1,[">=2.0.0 <2.4"],(J)=>{if(this._isDisabled=!1,(0,YU.isWrapped)(J.Pool))this._unwrap(J,"Pool");return this._wrap(J,"Pool",this._poolWrapper.bind(this)),J},(J)=>{return this._isDisabled=!0,J})]}_acquirePatcher(J){let Z=this;return function X(...Y){let $=Gw.context.active(),z=Z.tracer.startSpan("generic-pool.acquire",{},$);return Gw.context.with(Gw.trace.setSpan($,z),()=>{return J.call(this,...Y).then((W)=>{return z.end(),W},(W)=>{throw z.recordException(W),z.end(),W})})}}_poolWrapper(J){let Z=this;return function X(){let Y=J.apply(this,arguments);return Z._wrap(Y,"acquire",Z._acquireWithCallbacksPatcher.bind(Z)),Y}}_acquireWithCallbacksPatcher(J){let Z=this;return function X(Y,$){if(Z._isDisabled)return J.call(this,Y,$);let z=Gw.context.active(),W=Z.tracer.startSpan("generic-pool.acquire",{},z);return Gw.context.with(Gw.trace.setSpan(z,W),()=>{J.call(this,(Q,G)=>{if(W.end(),Y)return Y(Q,G)},$)})}}}oF0.GenericPoolInstrumentation=iF0});var rF0=B(($U)=>{var lJ8=$U&&$U.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),pJ8=$U&&$U.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))lJ8(Z,J,X)};Object.defineProperty($U,"__esModule",{value:!0});pJ8(aF0(),$U)});var hJ1=B((JU0)=>{Object.defineProperty(JU0,"__esModule",{value:!0});JU0.SpanNames=JU0.TokenKind=JU0.AllowedOperationTypes=void 0;var nJ8;(function(J){J.QUERY="query",J.MUTATION="mutation",J.SUBSCRIPTION="subscription"})(nJ8=JU0.AllowedOperationTypes||(JU0.AllowedOperationTypes={}));var iJ8;(function(J){J.SOF="<SOF>",J.EOF="<EOF>",J.BANG="!",J.DOLLAR="$",J.AMP="&",J.PAREN_L="(",J.PAREN_R=")",J.SPREAD="...",J.COLON=":",J.EQUALS="=",J.AT="@",J.BRACKET_L="[",J.BRACKET_R="]",J.BRACE_L="{",J.PIPE="|",J.BRACE_R="}",J.NAME="Name",J.INT="Int",J.FLOAT="Float",J.STRING="String",J.BLOCK_STRING="BlockString",J.COMMENT="Comment"})(iJ8=JU0.TokenKind||(JU0.TokenKind={}));var oJ8;(function(J){J.EXECUTE="graphql.execute",J.PARSE="graphql.parse",J.RESOLVE="graphql.resolve",J.VALIDATE="graphql.validate",J.SCHEMA_VALIDATE="graphql.validateSchema",J.SCHEMA_PARSE="graphql.parseSchema"})(oJ8=JU0.SpanNames||(JU0.SpanNames={}))});var yJ1=B((ZU0)=>{Object.defineProperty(ZU0,"__esModule",{value:!0});ZU0.AttributeNames=void 0;var sJ8;(function(J){J.SOURCE="graphql.source",J.FIELD_NAME="graphql.field.name",J.FIELD_PATH="graphql.field.path",J.FIELD_TYPE="graphql.field.type",J.OPERATION_TYPE="graphql.operation.type",J.OPERATION_NAME="graphql.operation.name",J.VARIABLES="graphql.variables.",J.ERROR_VALIDATION_NAME="graphql.validation.error"})(sJ8=ZU0.AttributeNames||(ZU0.AttributeNames={}))});var fy=B((XU0)=>{Object.defineProperty(XU0,"__esModule",{value:!0});XU0.OTEL_GRAPHQL_DATA_SYMBOL=XU0.OTEL_PATCHED_SYMBOL=void 0;XU0.OTEL_PATCHED_SYMBOL=Symbol.for("opentelemetry.patched");XU0.OTEL_GRAPHQL_DATA_SYMBOL=Symbol.for("opentelemetry.graphql_data")});var WU0=B(($U0)=>{Object.defineProperty($U0,"__esModule",{value:!0});$U0.OPERATION_NOT_SUPPORTED=void 0;var CI9=fy();$U0.OPERATION_NOT_SUPPORTED="Operation$operationName$not supported"});var MU0=B((IU0)=>{Object.defineProperty(IU0,"__esModule",{value:!0});IU0.wrapFieldResolver=IU0.wrapFields=IU0.getSourceFromLocation=IU0.getOperation=IU0.endSpan=IU0.addSpanSource=IU0.addInputVariableAttributes=IU0.isPromise=void 0;var qw=C(),a3=hJ1(),Kw=yJ1(),XG=fy(),QU0=Object.values(a3.AllowedOperationTypes),rJ8=(J)=>{return typeof J?.then==="function"};IU0.isPromise=rJ8;var tJ8=(J)=>{return typeof J=="object"&&J!==null};function vJ1(J,Z,X){if(Array.isArray(X))X.forEach((Y,$)=>{vJ1(J,`${Z}.${$}`,Y)});else if(X instanceof Object)Object.entries(X).forEach(([Y,$])=>{vJ1(J,`${Z}.${Y}`,$)});else J.setAttribute(`${Kw.AttributeNames.VARIABLES}${String(Z)}`,X)}function eJ8(J,Z){Object.entries(Z).forEach(([X,Y])=>{vJ1(J,X,Y)})}IU0.addInputVariableAttributes=eJ8;function BU0(J,Z,X,Y,$){let z=OU0(Z,X,Y,$);J.setAttribute(Kw.AttributeNames.SOURCE,z)}IU0.addSpanSource=BU0;function JZ8(J,Z,X,Y,$){let z=HU0(X,$),W=!1;if(!z){W=!0;let Q=FU0(X,$);z={parent:Q,span:ZZ8(J,Z,X,Y,$,Q.span),error:null},$Z8(X,$,z)}return{spanAdded:W,field:z}}function ZZ8(J,Z,X,Y,$,z){let W={[Kw.AttributeNames.FIELD_NAME]:Y.fieldName,[Kw.AttributeNames.FIELD_PATH]:$.join("."),[Kw.AttributeNames.FIELD_TYPE]:Y.returnType.toString()},Q=J.startSpan(`${a3.SpanNames.RESOLVE} ${W[Kw.AttributeNames.FIELD_PATH]}`,{attributes:W},z?qw.trace.setSpan(qw.context.active(),z):void 0),G=X[XG.OTEL_GRAPHQL_DATA_SYMBOL].source,K=Y.fieldNodes.find((q)=>q.kind==="Field");if(K)BU0(Q,G.loc,Z().allowValues,K.loc?.start,K.loc?.end);return Q}function XZ8(J,Z){if(Z)J.recordException(Z);J.end()}IU0.endSpan=XZ8;function YZ8(J,Z){if(!J||!Array.isArray(J.definitions))return;if(Z)return J.definitions.filter((X)=>QU0.indexOf(X?.operation)!==-1).find((X)=>Z===X?.name?.value);else return J.definitions.find((X)=>QU0.indexOf(X?.operation)!==-1)}IU0.getOperation=YZ8;function $Z8(J,Z,X){return J[XG.OTEL_GRAPHQL_DATA_SYMBOL].fields[Z.join(".")]=X}function HU0(J,Z){return J[XG.OTEL_GRAPHQL_DATA_SYMBOL].fields[Z.join(".")]}function FU0(J,Z){for(let X=Z.length-1;X>0;X--){let Y=HU0(J,Z.slice(0,X));if(Y)return Y}return{span:J[XG.OTEL_GRAPHQL_DATA_SYMBOL].span}}function zZ8(J,Z){let X=[],Y=Z;while(Y){let $=Y.key;if(J&&typeof $==="number")$="*";X.push(String($)),Y=Y.prev}return X.reverse()}function WZ8(J){return UU0(`
`,J)}function GU0(J){return UU0(" ",J)}function UU0(J,Z){let X="";for(let Y=0;Y<Z;Y++)X+=J;return X}var QZ8=[a3.TokenKind.FLOAT,a3.TokenKind.STRING,a3.TokenKind.INT,a3.TokenKind.BLOCK_STRING];function OU0(J,Z=!1,X,Y){let $="";if(J?.startToken){let z=typeof X==="number"?X:J.start,W=typeof Y==="number"?Y:J.end,Q=J.startToken.next,G=1;while(Q){if(Q.start<z){Q=Q.next,G=Q?.line;continue}if(Q.end>W){Q=Q.next,G=Q?.line;continue}let K=Q.value||Q.kind,q="";if(!Z&&QZ8.indexOf(Q.kind)>=0)K="*";if(Q.kind===a3.TokenKind.STRING)K=`"${K}"`;if(Q.kind===a3.TokenKind.EOF)K="";if(Q.line>G)$+=WZ8(Q.line-G),G=Q.line,q=GU0(Q.column-1);else if(Q.line===Q.prev?.line)q=GU0(Q.start-(Q.prev?.end||0));if($+=q+K,Q)Q=Q.next}}return $}IU0.getSourceFromLocation=OU0;function DU0(J,Z,X){if(!J||typeof J.getFields!=="function"||J[XG.OTEL_PATCHED_SYMBOL])return;let Y=J.getFields();J[XG.OTEL_PATCHED_SYMBOL]=!0,Object.keys(Y).forEach(($)=>{let z=Y[$];if(!z)return;if(z.resolve)z.resolve=VU0(Z,X,z.resolve);if(z.type){let W=z.type;while(W.ofType)W=W.ofType;DU0(W,Z,X)}})}IU0.wrapFields=DU0;var KU0=(J,Z,X)=>{if(!X)return;J.recordException(Z),J.setStatus({code:qw.SpanStatusCode.ERROR,message:Z.message}),J.end()},qU0=(J,Z)=>{if(!Z)return;J.end()};function VU0(J,Z,X,Y=!1){if($[XG.OTEL_PATCHED_SYMBOL]||typeof X!=="function")return X;function $(z,W,Q,G){if(!X)return;let K=Z();if(K.ignoreTrivialResolveSpans&&Y&&(tJ8(z)||typeof z==="function")){if(typeof z[G.fieldName]!=="function")return X.call(this,z,W,Q,G)}if(!Q[XG.OTEL_GRAPHQL_DATA_SYMBOL])return X.call(this,z,W,Q,G);let q=zZ8(K.mergeItems,G&&G.path),H=q.filter((D)=>typeof D==="string").length,F,U=!1;if(K.depth>=0&&K.depth<H)F=FU0(Q,q);else{let D=JZ8(J,Z,Q,G,q);F=D.field,U=D.spanAdded}return qw.context.with(qw.trace.setSpan(qw.context.active(),F.span),()=>{try{let D=X.call(this,z,W,Q,G);if(IU0.isPromise(D))return D.then((V)=>{return qU0(F.span,U),V},(V)=>{throw KU0(F.span,V,U),V});else return qU0(F.span,U),D}catch(D){throw KU0(F.span,D,U),D}})}return $[XG.OTEL_PATCHED_SYMBOL]=!0,$}IU0.wrapFieldResolver=VU0});var LU0=B((NU0)=>{Object.defineProperty(NU0,"__esModule",{value:!0});NU0.PACKAGE_NAME=NU0.PACKAGE_VERSION=void 0;NU0.PACKAGE_VERSION="0.49.0";NU0.PACKAGE_NAME="@opentelemetry/instrumentation-graphql"});var TU0=B((EU0)=>{Object.defineProperty(EU0,"__esModule",{value:!0});EU0.GraphQLInstrumentation=void 0;var YG=C(),vZ=J6(),zC=hJ1(),ky=yJ1(),xJ1=fy(),OZ8=WU0(),m9=MU0(),CU0=LU0(),jU0={mergeItems:!1,depth:-1,allowValues:!1,ignoreResolveSpans:!1},by=[">=14.0.0 <17"];class RU0 extends vZ.InstrumentationBase{constructor(J={}){super(CU0.PACKAGE_NAME,CU0.PACKAGE_VERSION,{...jU0,...J})}setConfig(J={}){super.setConfig({...jU0,...J})}init(){let J=new vZ.InstrumentationNodeModuleDefinition("graphql",by);return J.files.push(this._addPatchingExecute()),J.files.push(this._addPatchingParser()),J.files.push(this._addPatchingValidate()),J}_addPatchingExecute(){return new vZ.InstrumentationNodeModuleFile("graphql/execution/execute.js",by,(J)=>{if((0,vZ.isWrapped)(J.execute))this._unwrap(J,"execute");return this._wrap(J,"execute",this._patchExecute(J.defaultFieldResolver)),J},(J)=>{if(J)this._unwrap(J,"execute")})}_addPatchingParser(){return new vZ.InstrumentationNodeModuleFile("graphql/language/parser.js",by,(J)=>{if((0,vZ.isWrapped)(J.parse))this._unwrap(J,"parse");return this._wrap(J,"parse",this._patchParse()),J},(J)=>{if(J)this._unwrap(J,"parse")})}_addPatchingValidate(){return new vZ.InstrumentationNodeModuleFile("graphql/validation/validate.js",by,(J)=>{if((0,vZ.isWrapped)(J.validate))this._unwrap(J,"validate");return this._wrap(J,"validate",this._patchValidate()),J},(J)=>{if(J)this._unwrap(J,"validate")})}_patchExecute(J){let Z=this;return function X(Y){return function $(){let z;if(arguments.length>=2){let G=arguments;z=Z._wrapExecuteArgs(G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],J)}else{let G=arguments[0];z=Z._wrapExecuteArgs(G.schema,G.document,G.rootValue,G.contextValue,G.variableValues,G.operationName,G.fieldResolver,G.typeResolver,J)}let W=(0,m9.getOperation)(z.document,z.operationName),Q=Z._createExecuteSpan(W,z);return z.contextValue[xJ1.OTEL_GRAPHQL_DATA_SYMBOL]={source:z.document?z.document||z.document[xJ1.OTEL_GRAPHQL_DATA_SYMBOL]:void 0,span:Q,fields:{}},YG.context.with(YG.trace.setSpan(YG.context.active(),Q),()=>{return(0,vZ.safeExecuteInTheMiddle)(()=>{return Y.apply(this,[z])},(G,K)=>{Z._handleExecutionResult(Q,G,K)})})}}}_handleExecutionResult(J,Z,X){let Y=this.getConfig();if(X===void 0||Z){(0,m9.endSpan)(J,Z);return}if((0,m9.isPromise)(X))X.then(($)=>{if(typeof Y.responseHook!=="function"){(0,m9.endSpan)(J);return}this._executeResponseHook(J,$)},($)=>{(0,m9.endSpan)(J,$)});else{if(typeof Y.responseHook!=="function"){(0,m9.endSpan)(J);return}this._executeResponseHook(J,X)}}_executeResponseHook(J,Z){let{responseHook:X}=this.getConfig();if(!X)return;(0,vZ.safeExecuteInTheMiddle)(()=>{X(J,Z)},(Y)=>{if(Y)this._diag.error("Error running response hook",Y);(0,m9.endSpan)(J,void 0)},!0)}_patchParse(){let J=this;return function Z(X){return function Y($,z){return J._parse(this,X,$,z)}}}_patchValidate(){let J=this;return function Z(X){return function Y($,z,W,Q,G){return J._validate(this,X,$,z,W,G,Q)}}}_parse(J,Z,X,Y){let $=this.getConfig(),z=this.tracer.startSpan(zC.SpanNames.PARSE);return YG.context.with(YG.trace.setSpan(YG.context.active(),z),()=>{return(0,vZ.safeExecuteInTheMiddle)(()=>{return Z.call(J,X,Y)},(W,Q)=>{if(Q){if(!(0,m9.getOperation)(Q))z.updateName(zC.SpanNames.SCHEMA_PARSE);else if(Q.loc)(0,m9.addSpanSource)(z,Q.loc,$.allowValues)}(0,m9.endSpan)(z,W)})})}_validate(J,Z,X,Y,$,z,W){let Q=this.tracer.startSpan(zC.SpanNames.VALIDATE,{});return YG.context.with(YG.trace.setSpan(YG.context.active(),Q),()=>{return(0,vZ.safeExecuteInTheMiddle)(()=>{return Z.call(J,X,Y,$,W,z)},(G,K)=>{if(!Y.loc)Q.updateName(zC.SpanNames.SCHEMA_VALIDATE);if(K&&K.length)Q.recordException({name:ky.AttributeNames.ERROR_VALIDATION_NAME,message:JSON.stringify(K)});(0,m9.endSpan)(Q,G)})})}_createExecuteSpan(J,Z){let X=this.getConfig(),Y=this.tracer.startSpan(zC.SpanNames.EXECUTE,{});if(J){let{operation:$,name:z}=J;Y.setAttribute(ky.AttributeNames.OPERATION_TYPE,$);let W=z?.value;if(W)Y.setAttribute(ky.AttributeNames.OPERATION_NAME,W),Y.updateName(`${$} ${W}`);else Y.updateName($)}else{let $=" ";if(Z.operationName)$=` "${Z.operationName}" `;$=OZ8.OPERATION_NOT_SUPPORTED.replace("$operationName$",$),Y.setAttribute(ky.AttributeNames.OPERATION_NAME,$)}if(Z.document?.loc)(0,m9.addSpanSource)(Y,Z.document.loc,X.allowValues);if(Z.variableValues&&X.allowValues)(0,m9.addInputVariableAttributes)(Y,Z.variableValues);return Y}_wrapExecuteArgs(J,Z,X,Y,$,z,W,Q,G){if(!Y)Y={};if(Y[xJ1.OTEL_GRAPHQL_DATA_SYMBOL]||this.getConfig().ignoreResolveSpans)return{schema:J,document:Z,rootValue:X,contextValue:Y,variableValues:$,operationName:z,fieldResolver:W,typeResolver:Q};let K=W==null,q=W??G;if(W=(0,m9.wrapFieldResolver)(this.tracer,()=>this.getConfig(),q,K),J)(0,m9.wrapFields)(J.getQueryType(),this.tracer,()=>this.getConfig()),(0,m9.wrapFields)(J.getMutationType(),this.tracer,()=>this.getConfig());return{schema:J,document:Z,rootValue:X,contextValue:Y,variableValues:$,operationName:z,fieldResolver:W,typeResolver:Q}}}EU0.GraphQLInstrumentation=RU0});var kU0=B((fU0)=>{Object.defineProperty(fU0,"__esModule",{value:!0})});var gJ1=B((r3)=>{var DZ8=r3&&r3.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),bU0=r3&&r3.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))DZ8(Z,J,X)};Object.defineProperty(r3,"__esModule",{value:!0});bU0(TU0(),r3);bU0(kU0(),r3)});var hy=B((hU0)=>{Object.defineProperty(hU0,"__esModule",{value:!0});hU0.RPC_GRPC_STATUS_CODE_VALUE_OK=hU0.ATTR_RPC_GRPC_STATUS_CODE=hU0.ATTR_RPC_SYSTEM=hU0.ATTR_RPC_SERVICE=hU0.ATTR_RPC_METHOD=hU0.ATTR_NET_PEER_PORT=hU0.ATTR_NET_PEER_NAME=void 0;hU0.ATTR_NET_PEER_NAME="net.peer.name";hU0.ATTR_NET_PEER_PORT="net.peer.port";hU0.ATTR_RPC_METHOD="rpc.method";hU0.ATTR_RPC_SERVICE="rpc.service";hU0.ATTR_RPC_SYSTEM="rpc.system";hU0.ATTR_RPC_GRPC_STATUS_CODE="rpc.grpc.status_code";hU0.RPC_GRPC_STATUS_CODE_VALUE_OK=0});var _y=B((vU0)=>{Object.defineProperty(vU0,"__esModule",{value:!0});vU0.metadataCapture=vU0._extractMethodAndService=vU0._methodIsIgnored=vU0._grpcStatusCodeToSpanStatus=vU0._grpcStatusCodeToOpenTelemetryStatusCode=vU0.URI_REGEX=void 0;var yU0=C();vU0.URI_REGEX=/(?:([A-Za-z0-9+.-]+):(?:\/\/)?)?(?<name>[A-Za-z0-9+.-]+):(?<port>[0-9+.-]+)$/;var PZ8=(J)=>{if(J!==void 0&&J===0)return yU0.SpanStatusCode.UNSET;return yU0.SpanStatusCode.ERROR};vU0._grpcStatusCodeToOpenTelemetryStatusCode=PZ8;var LZ8=(J)=>{return{code:vU0._grpcStatusCodeToOpenTelemetryStatusCode(J)}};vU0._grpcStatusCodeToSpanStatus=LZ8;var CZ8=(J,Z)=>{if(typeof Z==="string")return Z.toLowerCase()===J.toLowerCase();else if(Z instanceof RegExp)return Z.test(J);else if(typeof Z==="function")return Z(J);else return!1},jZ8=(J,Z)=>{if(!Z)return!1;for(let X of Z)if(CZ8(J,X))return!0;return!1};vU0._methodIsIgnored=jZ8;var RZ8=(J)=>{let Z=J.replace(/^\//,"").split("/"),X=Z.shift()||"",Y=Z.join("/");return{service:X,method:Y}};vU0._extractMethodAndService=RZ8;function EZ8(J,Z){let X=new Map(Z.map((Y)=>[Y.toLowerCase(),Y.toLowerCase().replace(/-/g,"_")]));return(Y,$)=>{for(let[z,W]of X){let Q=$.get(z).flatMap((K)=>typeof K==="string"?K.toString():[]);if(Q===void 0||Q.length===0)continue;let G=`rpc.${J}.metadata.${W}`;Y.setAttribute(G,Q)}}}vU0.metadataCapture=EZ8});var dJ1=B((dU0)=>{Object.defineProperty(dU0,"__esModule",{value:!0});dU0.AttributeNames=void 0;dU0.AttributeNames={GRPC_ERROR_NAME:"grpc.error_name",GRPC_ERROR_MESSAGE:"grpc.error_message"}});var lU0=B((mU0)=>{Object.defineProperty(mU0,"__esModule",{value:!0});mU0.shouldNotTraceServerCall=mU0.handleUntracedServerFunction=mU0.handleServerFunction=mU0.CALL_SPAN_ENDED=void 0;var bZ8=p("events"),Bw=C(),uJ1=_y(),yy=dJ1(),Hw=hy();mU0.CALL_SPAN_ENDED=Symbol("opentelemetry call span ended");function hZ8(J,Z,X){let Y=!1,$=()=>{if(!Y)Y=!0,J.end()};return Bw.context.bind(Bw.context.active(),Z),Z.on("finish",()=>{if(Z[mU0.CALL_SPAN_ENDED])return;Z[mU0.CALL_SPAN_ENDED]=!0,J.setStatus({code:Bw.SpanStatusCode.UNSET}),J.setAttribute(Hw.ATTR_RPC_GRPC_STATUS_CODE,Hw.RPC_GRPC_STATUS_CODE_VALUE_OK),$()}),Z.on(bZ8.errorMonitor,(z)=>{if(Z[mU0.CALL_SPAN_ENDED])return;Z[mU0.CALL_SPAN_ENDED]=!0,J.setStatus({code:(0,uJ1._grpcStatusCodeToOpenTelemetryStatusCode)(z.code),message:z.message}),J.setAttributes({[yy.AttributeNames.GRPC_ERROR_NAME]:z.name,[yy.AttributeNames.GRPC_ERROR_MESSAGE]:z.message,[Hw.ATTR_RPC_GRPC_STATUS_CODE]:z.code}),$()}),X.call({},Z)}function _Z8(J,Z,X,Y){let $=(z,W)=>{if(z){if(z.code)J.setStatus({code:(0,uJ1._grpcStatusCodeToOpenTelemetryStatusCode)(z.code),message:z.message}),J.setAttribute(Hw.ATTR_RPC_GRPC_STATUS_CODE,z.code);J.setAttributes({[yy.AttributeNames.GRPC_ERROR_NAME]:z.name,[yy.AttributeNames.GRPC_ERROR_MESSAGE]:z.message})}else J.setStatus({code:Bw.SpanStatusCode.UNSET}),J.setAttribute(Hw.ATTR_RPC_GRPC_STATUS_CODE,Hw.RPC_GRPC_STATUS_CODE_VALUE_OK);return J.end(),X(z,W)};return Bw.context.bind(Bw.context.active(),Z),Y.call({},Z,$)}function yZ8(J,Z,X,Y,$){switch(Z){case"unary":case"clientStream":case"client_stream":return _Z8(J,Y,$,X);case"serverStream":case"server_stream":case"bidi":return hZ8(J,Y,X);default:break}}mU0.handleServerFunction=yZ8;function vZ8(J,Z,X,Y){switch(J){case"unary":case"clientStream":case"client_stream":return Z.call({},X,Y);case"serverStream":case"server_stream":case"bidi":return Z.call({},X);default:break}}mU0.handleUntracedServerFunction=vZ8;function xZ8(J,Z){let X=J.split("/");return(0,uJ1._methodIsIgnored)(X[X.length-1]||J,Z)}mU0.shouldNotTraceServerCall=xZ8});var tU0=B((aU0)=>{Object.defineProperty(aU0,"__esModule",{value:!0});aU0.setSpanContext=aU0.extractMetadataOrSpliceDefault=aU0.extractMetadataOrSplice=aU0.getMetadataIndex=aU0.makeGrpcClientRemoteCall=aU0.patchResponseStreamEvents=aU0.patchResponseMetadataEvent=aU0.patchedCallback=aU0.getMethodsToWrap=void 0;var Fw=C(),vy=dJ1(),QC=hy(),xy=_y(),uZ8=p("events");function mZ8(J,Z){let X=[];return Object.entries(Z).forEach(([Y,{originalName:$}])=>{if(!(0,xy._methodIsIgnored)(Y,this.getConfig().ignoreGrpcMethods)){if(X.push(Y),$&&J.prototype.hasOwnProperty($)&&Y!==$)X.push($)}}),X}aU0.getMethodsToWrap=mZ8;function pU0(J,Z){let X=(Y,$)=>{if(Y){if(Y.code)J.setStatus((0,xy._grpcStatusCodeToSpanStatus)(Y.code)),J.setAttribute(QC.ATTR_RPC_GRPC_STATUS_CODE,Y.code);J.setAttributes({[vy.AttributeNames.GRPC_ERROR_NAME]:Y.name,[vy.AttributeNames.GRPC_ERROR_MESSAGE]:Y.message})}else J.setAttribute(QC.ATTR_RPC_GRPC_STATUS_CODE,QC.RPC_GRPC_STATUS_CODE_VALUE_OK);J.end(),Z(Y,$)};return Fw.context.bind(Fw.context.active(),X)}aU0.patchedCallback=pU0;function cZ8(J,Z,X){Z.on("metadata",(Y)=>{X.client.captureResponseMetadata(J,Y)})}aU0.patchResponseMetadataEvent=cZ8;function nU0(J,Z){let X=!1,Y=()=>{if(!X)J.end(),X=!0};Fw.context.bind(Fw.context.active(),Z),Z.on(uZ8.errorMonitor,($)=>{if(X)return;J.setStatus({code:(0,xy._grpcStatusCodeToOpenTelemetryStatusCode)($.code),message:$.message}),J.setAttributes({[vy.AttributeNames.GRPC_ERROR_NAME]:$.name,[vy.AttributeNames.GRPC_ERROR_MESSAGE]:$.message,[QC.ATTR_RPC_GRPC_STATUS_CODE]:$.code}),Y()}),Z.on("status",($)=>{if(X)return;J.setStatus((0,xy._grpcStatusCodeToSpanStatus)($.code)),J.setAttribute(QC.ATTR_RPC_GRPC_STATUS_CODE,$.code),Y()})}aU0.patchResponseStreamEvents=nU0;function lZ8(J,Z,X,Y,$){return(z)=>{if(!Z.responseStream){let Q=X.findIndex((G)=>{return typeof G==="function"});if(Q!==-1)X[Q]=pU0(z,X[Q])}sU0(Y);let W=Z.apply($,X);if(W.on("metadata",(Q)=>{J.client.captureResponseMetadata(z,Q)}),Z.responseStream)nU0(z,W);return W}}aU0.makeGrpcClientRemoteCall=lZ8;function iU0(J){return J.findIndex((Z)=>{return Z&&typeof Z==="object"&&Z.internalRepr&&typeof Z.getMap==="function"})}aU0.getMetadataIndex=iU0;function oU0(J,Z,X){let Y,$=iU0(Z);if($===-1)Y=new J.Metadata,Z.splice(X,0,Y);else Y=Z[$];return Y}aU0.extractMetadataOrSplice=oU0;function pZ8(J,Z,X){return oU0(J,X,Z.requestStream?0:1)}aU0.extractMetadataOrSpliceDefault=pZ8;function sU0(J){Fw.propagation.inject(Fw.context.active(),J,{set:(Z,X,Y)=>Z.set(X,Y)})}aU0.setSpanContext=sU0});var ZO0=B((eU0)=>{Object.defineProperty(eU0,"__esModule",{value:!0});eU0.AttributeValues=void 0;eU0.AttributeValues={RPC_SYSTEM:"grpc"}});var $O0=B((XO0)=>{Object.defineProperty(XO0,"__esModule",{value:!0});XO0.VERSION=void 0;XO0.VERSION="0.201.1"});var KO0=B((QO0)=>{Object.defineProperty(QO0,"__esModule",{value:!0});QO0.GrpcInstrumentation=void 0;var D7=C(),Uw=J6(),zO0=j1(),fY=hy(),mJ1=lU0(),$G=tU0(),zG=_y(),JX8=ZO0(),ZX8=$O0();class WO0 extends Uw.InstrumentationBase{_metadataCapture;_semconvStability;constructor(J={}){super("@opentelemetry/instrumentation-grpc",ZX8.VERSION,J);this._metadataCapture=this._createMetadataCapture(),this._semconvStability=(0,Uw.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}init(){return[new Uw.InstrumentationNodeModuleDefinition("@grpc/grpc-js",["^1.0.0"],(J)=>{return this._wrap(J.Server.prototype,"register",this._patchServer()),this._wrap(J,"makeGenericClientConstructor",this._patchClient(J)),this._wrap(J,"makeClientConstructor",this._patchClient(J)),this._wrap(J,"loadPackageDefinition",this._patchLoadPackageDefinition(J)),this._wrap(J.Client.prototype,"makeUnaryRequest",this._patchClientRequestMethod(J,!1)),this._wrap(J.Client.prototype,"makeClientStreamRequest",this._patchClientRequestMethod(J,!1)),this._wrap(J.Client.prototype,"makeServerStreamRequest",this._patchClientRequestMethod(J,!0)),this._wrap(J.Client.prototype,"makeBidiStreamRequest",this._patchClientRequestMethod(J,!0)),J},(J)=>{if(J===void 0)return;this._unwrap(J.Server.prototype,"register"),this._unwrap(J,"makeClientConstructor"),this._unwrap(J,"makeGenericClientConstructor"),this._unwrap(J,"loadPackageDefinition"),this._unwrap(J.Client.prototype,"makeUnaryRequest"),this._unwrap(J.Client.prototype,"makeClientStreamRequest"),this._unwrap(J.Client.prototype,"makeServerStreamRequest"),this._unwrap(J.Client.prototype,"makeBidiStreamRequest")})]}setConfig(J={}){super.setConfig(J),this._metadataCapture=this._createMetadataCapture()}_patchServer(){let J=this;return(Z)=>{let X=this.getConfig();return J._diag.debug("patched gRPC server"),function Y($,z,W,Q,G){let K=Z.call(this,$,z,W,Q,G),q=this.handlers.get($);return J._wrap(q,"func",(H)=>{return function F(U,D){let V=this;if((0,mJ1.shouldNotTraceServerCall)($,X.ignoreGrpcMethods))return(0,mJ1.handleUntracedServerFunction)(G,H,U,D);let w=`grpc.${$.replace("/","")}`,M={kind:D7.SpanKind.SERVER};J._diag.debug(`patch func: ${JSON.stringify(M)}`),D7.context.with(D7.propagation.extract(D7.ROOT_CONTEXT,U.metadata,{get:(P,R)=>P.get(R).map(String),keys:(P)=>Object.keys(P.getMap())}),()=>{let{service:P,method:R}=(0,zG._extractMethodAndService)($),f=J.tracer.startSpan(w,M).setAttributes({[fY.ATTR_RPC_SYSTEM]:JX8.AttributeValues.RPC_SYSTEM,[fY.ATTR_RPC_METHOD]:R,[fY.ATTR_RPC_SERVICE]:P});J._metadataCapture.server.captureRequestMetadata(f,U.metadata),J._wrap(U,"sendMetadata",(d)=>(v)=>{J._metadataCapture.server.captureResponseMetadata(f,v),d.call(U,v)}),D7.context.with(D7.trace.setSpan(D7.context.active(),f),()=>{mJ1.handleServerFunction.call(V,f,G,H,U,D)})})}}),K}}}_patchClientRequestMethod(J,Z){let X=this;return(Y)=>{return X._diag.debug("patched makeClientStreamRequest on grpc client"),function $(){let z=arguments[0],{name:W,service:Q,methodAttributeValue:G}=X._splitMethodString(z);if(z!=null&&(0,zG._methodIsIgnored)(G,X.getConfig().ignoreGrpcMethods))return Y.apply(this,[...arguments]);let K=[...arguments],q=(0,$G.extractMetadataOrSplice)(J,K,4),H=X.createClientSpan(W,G,Q,q);if(X.extractNetMetadata(this,H,X._semconvStability),!Z){let F=K.length-1,U=K[F];if(typeof U==="function")K[F]=(0,$G.patchedCallback)(H,U)}return D7.context.with(D7.trace.setSpan(D7.context.active(),H),()=>{(0,$G.setSpanContext)(q);let F=Y.apply(this,[...K]);if((0,$G.patchResponseMetadataEvent)(H,F,X._metadataCapture),Z)(0,$G.patchResponseStreamEvents)(H,F);return F})}}}_patchClient(J){let Z=this;return(X)=>{return Z._diag.debug("patching client"),function Y($,z,W){let Q=X.call(this,$,z,W);return Z._massWrap(Q.prototype,$G.getMethodsToWrap.call(Z,Q,$),Z._getPatchedClientMethods(J)),Q}}}_patchLoadPackageDefinition(J){let Z=this;return Z._diag.debug("patching loadPackageDefinition"),(X)=>{return function Y($){let z=X.call(this,$);return Z._patchLoadedPackage(J,z),z}}}_getPatchedClientMethods(J){let Z=this;return(X)=>{Z._diag.debug("patch all client methods");function Y(){let $=`grpc.${X.path.replace("/","")}`,z=[...arguments],W=$G.extractMetadataOrSpliceDefault.call(Z,J,X,z),{service:Q,method:G}=(0,zG._extractMethodAndService)(X.path),K=Z.tracer.startSpan($,{kind:D7.SpanKind.CLIENT}).setAttributes({[fY.ATTR_RPC_SYSTEM]:"grpc",[fY.ATTR_RPC_METHOD]:G,[fY.ATTR_RPC_SERVICE]:Q});return Z.extractNetMetadata(this,K,Z._semconvStability),Z._metadataCapture.client.captureRequestMetadata(K,W),D7.context.with(D7.trace.setSpan(D7.context.active(),K),()=>(0,$G.makeGrpcClientRemoteCall)(Z._metadataCapture,X,z,W,this)(K))}return Object.assign(Y,X),Y}}_splitMethodString(J){if(J==null)return{name:"",service:"",methodAttributeValue:""};let Z=`grpc.${J.replace("/","")}`,{service:X,method:Y}=(0,zG._extractMethodAndService)(J);return{name:Z,service:X,methodAttributeValue:Y}}createClientSpan(J,Z,X,Y){let $=this.tracer.startSpan(J,{kind:D7.SpanKind.CLIENT}).setAttributes({[fY.ATTR_RPC_SYSTEM]:"grpc",[fY.ATTR_RPC_METHOD]:Z,[fY.ATTR_RPC_SERVICE]:X});if(Y!=null)this._metadataCapture.client.captureRequestMetadata($,Y);return $}extractNetMetadata(J,Z,X){let Y=zG.URI_REGEX.exec(J.getChannel().getTarget()),$=Y?.groups?.name,z=parseInt(Y?.groups?.port??""),W={[fY.ATTR_NET_PEER_NAME]:$,[fY.ATTR_NET_PEER_PORT]:z},Q={[zO0.ATTR_SERVER_ADDRESS]:$,[zO0.ATTR_SERVER_PORT]:z};switch(X){case Uw.SemconvStability.STABLE:Z.setAttributes(Q);break;case Uw.SemconvStability.OLD:Z.setAttributes(W);break;case Uw.SemconvStability.DUPLICATE:Z.setAttributes({...W,...Q});break;default:Z.setAttributes(W)}}_patchLoadedPackage(J,Z){Object.values(Z).forEach((X)=>{if(typeof X==="function")this._massWrap(X.prototype,$G.getMethodsToWrap.call(this,X,X.service),this._getPatchedClientMethods.call(this,J));else if(typeof X.format!=="string")this._patchLoadedPackage.call(this,J,X)})}_createMetadataCapture(){let J=this.getConfig();return{client:{captureRequestMetadata:(0,zG.metadataCapture)("request",J.metadataToSpanAttributes?.client?.requestMetadata??[]),captureResponseMetadata:(0,zG.metadataCapture)("response",J.metadataToSpanAttributes?.client?.responseMetadata??[])},server:{captureRequestMetadata:(0,zG.metadataCapture)("request",J.metadataToSpanAttributes?.server?.requestMetadata??[]),captureResponseMetadata:(0,zG.metadataCapture)("response",J.metadataToSpanAttributes?.server?.responseMetadata??[])}}}}QO0.GrpcInstrumentation=WO0});var qO0=B((cJ1)=>{Object.defineProperty(cJ1,"__esModule",{value:!0});cJ1.GrpcInstrumentation=void 0;var XX8=KO0();Object.defineProperty(cJ1,"GrpcInstrumentation",{enumerable:!0,get:function(){return XX8.GrpcInstrumentation}})});var GC=B((BO0)=>{Object.defineProperty(BO0,"__esModule",{value:!0});BO0.isTracingSuppressed=BO0.unsuppressTracing=BO0.suppressTracing=void 0;var $X8=C(),lJ1=(0,$X8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function zX8(J){return J.setValue(lJ1,!0)}BO0.suppressTracing=zX8;function WX8(J){return J.deleteValue(lJ1)}BO0.unsuppressTracing=WX8;function QX8(J){return J.getValue(lJ1)===!0}BO0.isTracingSuppressed=QX8});var pJ1=B((FO0)=>{Object.defineProperty(FO0,"__esModule",{value:!0});FO0.BAGGAGE_MAX_TOTAL_LENGTH=FO0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=FO0.BAGGAGE_MAX_NAME_VALUE_PAIRS=FO0.BAGGAGE_HEADER=FO0.BAGGAGE_ITEMS_SEPARATOR=FO0.BAGGAGE_PROPERTIES_SEPARATOR=FO0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;FO0.BAGGAGE_KEY_PAIR_SEPARATOR="=";FO0.BAGGAGE_PROPERTIES_SEPARATOR=";";FO0.BAGGAGE_ITEMS_SEPARATOR=",";FO0.BAGGAGE_HEADER="baggage";FO0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;FO0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;FO0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var nJ1=B((DO0)=>{Object.defineProperty(DO0,"__esModule",{value:!0});DO0.parseKeyPairsIntoRecord=DO0.parsePairKeyValue=DO0.getKeyPairs=DO0.serializeKeyPairs=void 0;var DX8=C(),zU=pJ1();function VX8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?zU.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>zU.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}DO0.serializeKeyPairs=VX8;function IX8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=zU.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}DO0.getKeyPairs=IX8;function OO0(J){let Z=J.split(zU.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(zU.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,DX8.baggageEntryMetadataFromString)(Z.join(zU.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}DO0.parsePairKeyValue=OO0;function wX8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(zU.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=OO0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}DO0.parseKeyPairsIntoRecord=wX8});var MO0=B((wO0)=>{Object.defineProperty(wO0,"__esModule",{value:!0});wO0.W3CBaggagePropagator=void 0;var iJ1=C(),PX8=GC(),WU=pJ1(),oJ1=nJ1();class IO0{inject(J,Z,X){let Y=iJ1.propagation.getBaggage(J);if(!Y||(0,PX8.isTracingSuppressed)(J))return;let $=(0,oJ1.getKeyPairs)(Y).filter((W)=>{return W.length<=WU.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,WU.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,oJ1.serializeKeyPairs)($);if(z.length>0)X.set(Z,WU.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,WU.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(WU.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(WU.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,oJ1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return iJ1.propagation.setBaggage(J,iJ1.propagation.createBaggage(z))}fields(){return[WU.BAGGAGE_HEADER]}}wO0.W3CBaggagePropagator=IO0});var CO0=B((PO0)=>{Object.defineProperty(PO0,"__esModule",{value:!0});PO0.AnchoredClock=void 0;class NO0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}PO0.AnchoredClock=NO0});var kO0=B((TO0)=>{Object.defineProperty(TO0,"__esModule",{value:!0});TO0.isAttributeValue=TO0.isAttributeKey=TO0.sanitizeAttributes=void 0;var jO0=C();function LX8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!RO0(X)){jO0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!EO0(Y)){jO0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}TO0.sanitizeAttributes=LX8;function RO0(J){return typeof J==="string"&&J.length>0}TO0.isAttributeKey=RO0;function EO0(J){if(J==null)return!0;if(Array.isArray(J))return CX8(J);return SO0(J)}TO0.isAttributeValue=EO0;function CX8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(SO0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function SO0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var sJ1=B((bO0)=>{Object.defineProperty(bO0,"__esModule",{value:!0});bO0.loggingErrorHandler=void 0;var EX8=C();function SX8(){return(J)=>{EX8.diag.error(TX8(J))}}bO0.loggingErrorHandler=SX8;function TX8(J){if(typeof J==="string")return J;else return JSON.stringify(fX8(J))}function fX8(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var xO0=B((yO0)=>{Object.defineProperty(yO0,"__esModule",{value:!0});yO0.globalErrorHandler=yO0.setGlobalErrorHandler=void 0;var kX8=sJ1(),_O0=(0,kX8.loggingErrorHandler)();function bX8(J){_O0=J}yO0.setGlobalErrorHandler=bX8;function hX8(J){try{_O0(J)}catch{}}yO0.globalErrorHandler=hX8});var lO0=B((mO0)=>{Object.defineProperty(mO0,"__esModule",{value:!0});mO0.getStringListFromEnv=mO0.getBooleanFromEnv=mO0.getStringFromEnv=mO0.getNumberFromEnv=void 0;var gO0=C(),dO0=p("util");function yX8(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){gO0.diag.warn(`Unknown value ${(0,dO0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}mO0.getNumberFromEnv=yX8;function uO0(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}mO0.getStringFromEnv=uO0;function vX8(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return gO0.diag.warn(`Unknown value ${(0,dO0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}mO0.getBooleanFromEnv=vX8;function xX8(J){return uO0(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}mO0.getStringListFromEnv=xX8});var iO0=B((pO0)=>{Object.defineProperty(pO0,"__esModule",{value:!0});pO0._globalThis=void 0;pO0._globalThis=typeof globalThis==="object"?globalThis:global});var aO0=B((oO0)=>{Object.defineProperty(oO0,"__esModule",{value:!0});oO0.otperformance=void 0;var mX8=p("perf_hooks");oO0.otperformance=mX8.performance});var eO0=B((rO0)=>{Object.defineProperty(rO0,"__esModule",{value:!0});rO0.VERSION=void 0;rO0.VERSION="2.0.1"});var XD0=B((JD0)=>{Object.defineProperty(JD0,"__esModule",{value:!0});JD0.ATTR_PROCESS_RUNTIME_NAME=void 0;JD0.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var zD0=B((YD0)=>{Object.defineProperty(YD0,"__esModule",{value:!0});YD0.SDK_INFO=void 0;var cX8=eO0(),gy=j1(),lX8=XD0();YD0.SDK_INFO={[gy.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[lX8.ATTR_PROCESS_RUNTIME_NAME]:"node",[gy.ATTR_TELEMETRY_SDK_LANGUAGE]:gy.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[gy.ATTR_TELEMETRY_SDK_VERSION]:cX8.VERSION}});var GD0=B((WD0)=>{Object.defineProperty(WD0,"__esModule",{value:!0});WD0.unrefTimer=void 0;function pX8(J){J.unref()}WD0.unrefTimer=pX8});var KD0=B((Wz)=>{Object.defineProperty(Wz,"__esModule",{value:!0});Wz.unrefTimer=Wz.SDK_INFO=Wz.otperformance=Wz._globalThis=Wz.getStringListFromEnv=Wz.getNumberFromEnv=Wz.getBooleanFromEnv=Wz.getStringFromEnv=void 0;var dy=lO0();Object.defineProperty(Wz,"getStringFromEnv",{enumerable:!0,get:function(){return dy.getStringFromEnv}});Object.defineProperty(Wz,"getBooleanFromEnv",{enumerable:!0,get:function(){return dy.getBooleanFromEnv}});Object.defineProperty(Wz,"getNumberFromEnv",{enumerable:!0,get:function(){return dy.getNumberFromEnv}});Object.defineProperty(Wz,"getStringListFromEnv",{enumerable:!0,get:function(){return dy.getStringListFromEnv}});var nX8=iO0();Object.defineProperty(Wz,"_globalThis",{enumerable:!0,get:function(){return nX8._globalThis}});var iX8=aO0();Object.defineProperty(Wz,"otperformance",{enumerable:!0,get:function(){return iX8.otperformance}});var oX8=zD0();Object.defineProperty(Wz,"SDK_INFO",{enumerable:!0,get:function(){return oX8.SDK_INFO}});var sX8=GD0();Object.defineProperty(Wz,"unrefTimer",{enumerable:!0,get:function(){return sX8.unrefTimer}})});var aJ1=B((Qz)=>{Object.defineProperty(Qz,"__esModule",{value:!0});Qz.getStringListFromEnv=Qz.getNumberFromEnv=Qz.getStringFromEnv=Qz.getBooleanFromEnv=Qz.unrefTimer=Qz.otperformance=Qz._globalThis=Qz.SDK_INFO=void 0;var t3=KD0();Object.defineProperty(Qz,"SDK_INFO",{enumerable:!0,get:function(){return t3.SDK_INFO}});Object.defineProperty(Qz,"_globalThis",{enumerable:!0,get:function(){return t3._globalThis}});Object.defineProperty(Qz,"otperformance",{enumerable:!0,get:function(){return t3.otperformance}});Object.defineProperty(Qz,"unrefTimer",{enumerable:!0,get:function(){return t3.unrefTimer}});Object.defineProperty(Qz,"getBooleanFromEnv",{enumerable:!0,get:function(){return t3.getBooleanFromEnv}});Object.defineProperty(Qz,"getStringFromEnv",{enumerable:!0,get:function(){return t3.getStringFromEnv}});Object.defineProperty(Qz,"getNumberFromEnv",{enumerable:!0,get:function(){return t3.getNumberFromEnv}});Object.defineProperty(Qz,"getStringListFromEnv",{enumerable:!0,get:function(){return t3.getStringListFromEnv}})});var OD0=B((FD0)=>{Object.defineProperty(FD0,"__esModule",{value:!0});FD0.addHrTimes=FD0.isTimeInput=FD0.isTimeInputHrTime=FD0.hrTimeToMicroseconds=FD0.hrTimeToMilliseconds=FD0.hrTimeToNanoseconds=FD0.hrTimeToTimeStamp=FD0.hrTimeDuration=FD0.timeInputToHrTime=FD0.hrTime=FD0.getTimeOrigin=FD0.millisToHrTime=void 0;var rJ1=aJ1(),qD0=9,tX8=6,eX8=Math.pow(10,tX8),uy=Math.pow(10,qD0);function KC(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*eX8);return[X,Y]}FD0.millisToHrTime=KC;function tJ1(){let J=rJ1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=rJ1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}FD0.getTimeOrigin=tJ1;function BD0(J){let Z=KC(tJ1()),X=KC(typeof J==="number"?J:rJ1.otperformance.now());return HD0(Z,X)}FD0.hrTime=BD0;function JY8(J){if(eJ1(J))return J;else if(typeof J==="number")if(J<tJ1())return BD0(J);else return KC(J);else if(J instanceof Date)return KC(J.getTime());else throw TypeError("Invalid input type")}FD0.timeInputToHrTime=JY8;function ZY8(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=uy;return[X,Y]}FD0.hrTimeDuration=ZY8;function XY8(J){let Z=qD0,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}FD0.hrTimeToTimeStamp=XY8;function YY8(J){return J[0]*uy+J[1]}FD0.hrTimeToNanoseconds=YY8;function $Y8(J){return J[0]*1000+J[1]/1e6}FD0.hrTimeToMilliseconds=$Y8;function zY8(J){return J[0]*1e6+J[1]/1000}FD0.hrTimeToMicroseconds=zY8;function eJ1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}FD0.isTimeInputHrTime=eJ1;function WY8(J){return eJ1(J)||typeof J==="number"||J instanceof Date}FD0.isTimeInput=WY8;function HD0(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=uy)X[1]-=uy,X[0]+=1;return X}FD0.addHrTimes=HD0});var VD0=B((DD0)=>{Object.defineProperty(DD0,"__esModule",{value:!0});DD0.ExportResultCode=void 0;var IY8;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(IY8=DD0.ExportResultCode||(DD0.ExportResultCode={}))});var ND0=B((AD0)=>{Object.defineProperty(AD0,"__esModule",{value:!0});AD0.CompositePropagator=void 0;var ID0=C();class wD0{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){ID0.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){ID0.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}AD0.CompositePropagator=wD0});var CD0=B((PD0)=>{Object.defineProperty(PD0,"__esModule",{value:!0});PD0.validateValue=PD0.validateKey=void 0;var ZZ1="[_0-9a-z-*/]",wY8=`[a-z]${ZZ1}{0,255}`,AY8=`[a-z0-9]${ZZ1}{0,240}@[a-z]${ZZ1}{0,13}`,MY8=new RegExp(`^(?:${wY8}|${AY8})$`),NY8=/^[ -~]{0,255}[!-~]$/,PY8=/,|=/;function LY8(J){return MY8.test(J)}PD0.validateKey=LY8;function CY8(J){return NY8.test(J)&&!PY8.test(J)}PD0.validateValue=CY8});var YZ1=B((TD0)=>{Object.defineProperty(TD0,"__esModule",{value:!0});TD0.TraceState=void 0;var jD0=CD0(),RD0=32,RY8=512,ED0=",",SD0="=";class XZ1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+SD0+this.get(Z)),J},[]).join(ED0)}_parse(J){if(J.length>RY8)return;if(this._internalState=J.split(ED0).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(SD0);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,jD0.validateKey)(z)&&(0,jD0.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>RD0)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,RD0))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new XZ1;return J._internalState=new Map(this._internalState),J}}TD0.TraceState=XZ1});var yD0=B((hD0)=>{Object.defineProperty(hD0,"__esModule",{value:!0});hD0.W3CTraceContextPropagator=hD0.parseTraceParent=hD0.TRACE_STATE_HEADER=hD0.TRACE_PARENT_HEADER=void 0;var my=C(),EY8=GC(),SY8=YZ1();hD0.TRACE_PARENT_HEADER="traceparent";hD0.TRACE_STATE_HEADER="tracestate";var TY8="00",fY8="(?!ff)[\\da-f]{2}",kY8="(?![0]{32})[\\da-f]{32}",bY8="(?![0]{16})[\\da-f]{16}",hY8="[\\da-f]{2}",_Y8=new RegExp(`^\\s?(${fY8})-(${kY8})-(${bY8})-(${hY8})(-.*)?\\s?$`);function kD0(J){let Z=_Y8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}hD0.parseTraceParent=kD0;class bD0{inject(J,Z,X){let Y=my.trace.getSpanContext(J);if(!Y||(0,EY8.isTracingSuppressed)(J)||!(0,my.isSpanContextValid)(Y))return;let $=`${TY8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||my.TraceFlags.NONE).toString(16)}`;if(X.set(Z,hD0.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,hD0.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,hD0.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=kD0($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,hD0.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new SY8.TraceState(typeof Q==="string"?Q:void 0)}return my.trace.setSpanContext(J,z)}fields(){return[hD0.TRACE_PARENT_HEADER,hD0.TRACE_STATE_HEADER]}}hD0.W3CTraceContextPropagator=bD0});var dD0=B((xD0)=>{Object.defineProperty(xD0,"__esModule",{value:!0});xD0.getRPCMetadata=xD0.deleteRPCMetadata=xD0.setRPCMetadata=xD0.RPCType=void 0;var vY8=C(),$Z1=(0,vY8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),xY8;(function(J){J.HTTP="http"})(xY8=xD0.RPCType||(xD0.RPCType={}));function gY8(J,Z){return J.setValue($Z1,Z)}xD0.setRPCMetadata=gY8;function dY8(J){return J.deleteValue($Z1)}xD0.deleteRPCMetadata=dY8;function uY8(J){return J.getValue($Z1)}xD0.getRPCMetadata=uY8});var iD0=B((pD0)=>{Object.defineProperty(pD0,"__esModule",{value:!0});pD0.isPlainObject=void 0;var lY8="[object Object]",pY8="[object Null]",nY8="[object Undefined]",iY8=Function.prototype,uD0=iY8.toString,oY8=uD0.call(Object),sY8=Object.getPrototypeOf,mD0=Object.prototype,cD0=mD0.hasOwnProperty,QU=Symbol?Symbol.toStringTag:void 0,lD0=mD0.toString;function aY8(J){if(!rY8(J)||tY8(J)!==lY8)return!1;let Z=sY8(J);if(Z===null)return!0;let X=cD0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&uD0.call(X)===oY8}pD0.isPlainObject=aY8;function rY8(J){return J!=null&&typeof J=="object"}function tY8(J){if(J==null)return J===void 0?nY8:pY8;return QU&&QU in Object(J)?eY8(J):J$8(J)}function eY8(J){let Z=cD0.call(J,QU),X=J[QU],Y=!1;try{J[QU]=void 0,Y=!0}catch(z){}let $=lD0.call(J);if(Y)if(Z)J[QU]=X;else delete J[QU];return $}function J$8(J){return lD0.call(J)}});var JV0=B((tD0)=>{Object.defineProperty(tD0,"__esModule",{value:!0});tD0.merge=void 0;var oD0=iD0(),Z$8=20;function X$8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=aD0(Z,J.shift(),0,X);return Z}tD0.merge=X$8;function zZ1(J){if(ny(J))return J.slice();return J}function aD0(J,Z,X=0,Y){let $;if(X>Z$8)return;if(X++,py(J)||py(Z)||rD0(Z))$=zZ1(Z);else if(ny(J)){if($=J.slice(),ny(Z))for(let z=0,W=Z.length;z<W;z++)$.push(zZ1(Z[z]));else if(qC(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=zZ1(Z[G])}}}else if(qC(J))if(qC(Z)){if(!Y$8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(py(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(sD0(J,G,Y)||sD0(Z,G,Y))delete $[G];else{if(qC(q)&&qC(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=aD0($[G],K,X,Y)}}}}else $=Z;return $}function sD0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function ny(J){return Array.isArray(J)}function rD0(J){return typeof J==="function"}function qC(J){return!py(J)&&!ny(J)&&!rD0(J)&&typeof J==="object"}function py(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function Y$8(J,Z){if(!(0,oD0.isPlainObject)(J)||!(0,oD0.isPlainObject)(Z))return!1;return!0}});var YV0=B((ZV0)=>{Object.defineProperty(ZV0,"__esModule",{value:!0});ZV0.callWithTimeout=ZV0.TimeoutError=void 0;class iy extends Error{constructor(J){super(J);Object.setPrototypeOf(this,iy.prototype)}}ZV0.TimeoutError=iy;function $$8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new iy("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}ZV0.callWithTimeout=$$8});var QV0=B((zV0)=>{Object.defineProperty(zV0,"__esModule",{value:!0});zV0.isUrlIgnored=zV0.urlMatches=void 0;function $V0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}zV0.urlMatches=$V0;function W$8(J,Z){if(!Z)return!1;for(let X of Z)if($V0(J,X))return!0;return!1}zV0.isUrlIgnored=W$8});var BV0=B((KV0)=>{Object.defineProperty(KV0,"__esModule",{value:!0});KV0.Deferred=void 0;class GV0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}KV0.Deferred=GV0});var OV0=B((FV0)=>{Object.defineProperty(FV0,"__esModule",{value:!0});FV0.BindOnceFuture=void 0;var G$8=BV0();class HV0{_callback;_that;_isCalled=!1;_deferred=new G$8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}FV0.BindOnceFuture=HV0});var wV0=B((VV0)=>{Object.defineProperty(VV0,"__esModule",{value:!0});VV0.diagLogLevelFromString=void 0;var WG=C(),DV0={ALL:WG.DiagLogLevel.ALL,VERBOSE:WG.DiagLogLevel.VERBOSE,DEBUG:WG.DiagLogLevel.DEBUG,INFO:WG.DiagLogLevel.INFO,WARN:WG.DiagLogLevel.WARN,ERROR:WG.DiagLogLevel.ERROR,NONE:WG.DiagLogLevel.NONE};function K$8(J){if(J==null)return;let Z=DV0[J.toUpperCase()];if(Z==null)return WG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(DV0)}, using default`),WG.DiagLogLevel.INFO;return Z}VV0.diagLogLevelFromString=K$8});var PV0=B((MV0)=>{Object.defineProperty(MV0,"__esModule",{value:!0});MV0._export=void 0;var AV0=C(),q$8=GC();function B$8(J,Z){return new Promise((X)=>{AV0.context.with((0,q$8.suppressTracing)(AV0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}MV0._export=B$8});var SV0=B((P0)=>{Object.defineProperty(P0,"__esModule",{value:!0});P0.internal=P0.diagLogLevelFromString=P0.BindOnceFuture=P0.urlMatches=P0.isUrlIgnored=P0.callWithTimeout=P0.TimeoutError=P0.merge=P0.TraceState=P0.unsuppressTracing=P0.suppressTracing=P0.isTracingSuppressed=P0.setRPCMetadata=P0.getRPCMetadata=P0.deleteRPCMetadata=P0.RPCType=P0.parseTraceParent=P0.W3CTraceContextPropagator=P0.TRACE_STATE_HEADER=P0.TRACE_PARENT_HEADER=P0.CompositePropagator=P0.unrefTimer=P0.otperformance=P0.getStringListFromEnv=P0.getNumberFromEnv=P0.getBooleanFromEnv=P0.getStringFromEnv=P0._globalThis=P0.SDK_INFO=P0.parseKeyPairsIntoRecord=P0.ExportResultCode=P0.timeInputToHrTime=P0.millisToHrTime=P0.isTimeInputHrTime=P0.isTimeInput=P0.hrTimeToTimeStamp=P0.hrTimeToNanoseconds=P0.hrTimeToMilliseconds=P0.hrTimeToMicroseconds=P0.hrTimeDuration=P0.hrTime=P0.getTimeOrigin=P0.addHrTimes=P0.loggingErrorHandler=P0.setGlobalErrorHandler=P0.globalErrorHandler=P0.sanitizeAttributes=P0.isAttributeValue=P0.AnchoredClock=P0.W3CBaggagePropagator=void 0;var H$8=MO0();Object.defineProperty(P0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return H$8.W3CBaggagePropagator}});var F$8=CO0();Object.defineProperty(P0,"AnchoredClock",{enumerable:!0,get:function(){return F$8.AnchoredClock}});var LV0=kO0();Object.defineProperty(P0,"isAttributeValue",{enumerable:!0,get:function(){return LV0.isAttributeValue}});Object.defineProperty(P0,"sanitizeAttributes",{enumerable:!0,get:function(){return LV0.sanitizeAttributes}});var CV0=xO0();Object.defineProperty(P0,"globalErrorHandler",{enumerable:!0,get:function(){return CV0.globalErrorHandler}});Object.defineProperty(P0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return CV0.setGlobalErrorHandler}});var U$8=sJ1();Object.defineProperty(P0,"loggingErrorHandler",{enumerable:!0,get:function(){return U$8.loggingErrorHandler}});var xZ=OD0();Object.defineProperty(P0,"addHrTimes",{enumerable:!0,get:function(){return xZ.addHrTimes}});Object.defineProperty(P0,"getTimeOrigin",{enumerable:!0,get:function(){return xZ.getTimeOrigin}});Object.defineProperty(P0,"hrTime",{enumerable:!0,get:function(){return xZ.hrTime}});Object.defineProperty(P0,"hrTimeDuration",{enumerable:!0,get:function(){return xZ.hrTimeDuration}});Object.defineProperty(P0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return xZ.hrTimeToMicroseconds}});Object.defineProperty(P0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return xZ.hrTimeToMilliseconds}});Object.defineProperty(P0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return xZ.hrTimeToNanoseconds}});Object.defineProperty(P0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return xZ.hrTimeToTimeStamp}});Object.defineProperty(P0,"isTimeInput",{enumerable:!0,get:function(){return xZ.isTimeInput}});Object.defineProperty(P0,"isTimeInputHrTime",{enumerable:!0,get:function(){return xZ.isTimeInputHrTime}});Object.defineProperty(P0,"millisToHrTime",{enumerable:!0,get:function(){return xZ.millisToHrTime}});Object.defineProperty(P0,"timeInputToHrTime",{enumerable:!0,get:function(){return xZ.timeInputToHrTime}});var O$8=VD0();Object.defineProperty(P0,"ExportResultCode",{enumerable:!0,get:function(){return O$8.ExportResultCode}});var D$8=nJ1();Object.defineProperty(P0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return D$8.parseKeyPairsIntoRecord}});var e3=aJ1();Object.defineProperty(P0,"SDK_INFO",{enumerable:!0,get:function(){return e3.SDK_INFO}});Object.defineProperty(P0,"_globalThis",{enumerable:!0,get:function(){return e3._globalThis}});Object.defineProperty(P0,"getStringFromEnv",{enumerable:!0,get:function(){return e3.getStringFromEnv}});Object.defineProperty(P0,"getBooleanFromEnv",{enumerable:!0,get:function(){return e3.getBooleanFromEnv}});Object.defineProperty(P0,"getNumberFromEnv",{enumerable:!0,get:function(){return e3.getNumberFromEnv}});Object.defineProperty(P0,"getStringListFromEnv",{enumerable:!0,get:function(){return e3.getStringListFromEnv}});Object.defineProperty(P0,"otperformance",{enumerable:!0,get:function(){return e3.otperformance}});Object.defineProperty(P0,"unrefTimer",{enumerable:!0,get:function(){return e3.unrefTimer}});var V$8=ND0();Object.defineProperty(P0,"CompositePropagator",{enumerable:!0,get:function(){return V$8.CompositePropagator}});var oy=yD0();Object.defineProperty(P0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return oy.TRACE_PARENT_HEADER}});Object.defineProperty(P0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return oy.TRACE_STATE_HEADER}});Object.defineProperty(P0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return oy.W3CTraceContextPropagator}});Object.defineProperty(P0,"parseTraceParent",{enumerable:!0,get:function(){return oy.parseTraceParent}});var sy=dD0();Object.defineProperty(P0,"RPCType",{enumerable:!0,get:function(){return sy.RPCType}});Object.defineProperty(P0,"deleteRPCMetadata",{enumerable:!0,get:function(){return sy.deleteRPCMetadata}});Object.defineProperty(P0,"getRPCMetadata",{enumerable:!0,get:function(){return sy.getRPCMetadata}});Object.defineProperty(P0,"setRPCMetadata",{enumerable:!0,get:function(){return sy.setRPCMetadata}});var WZ1=GC();Object.defineProperty(P0,"isTracingSuppressed",{enumerable:!0,get:function(){return WZ1.isTracingSuppressed}});Object.defineProperty(P0,"suppressTracing",{enumerable:!0,get:function(){return WZ1.suppressTracing}});Object.defineProperty(P0,"unsuppressTracing",{enumerable:!0,get:function(){return WZ1.unsuppressTracing}});var I$8=YZ1();Object.defineProperty(P0,"TraceState",{enumerable:!0,get:function(){return I$8.TraceState}});var w$8=JV0();Object.defineProperty(P0,"merge",{enumerable:!0,get:function(){return w$8.merge}});var jV0=YV0();Object.defineProperty(P0,"TimeoutError",{enumerable:!0,get:function(){return jV0.TimeoutError}});Object.defineProperty(P0,"callWithTimeout",{enumerable:!0,get:function(){return jV0.callWithTimeout}});var RV0=QV0();Object.defineProperty(P0,"isUrlIgnored",{enumerable:!0,get:function(){return RV0.isUrlIgnored}});Object.defineProperty(P0,"urlMatches",{enumerable:!0,get:function(){return RV0.urlMatches}});var A$8=OV0();Object.defineProperty(P0,"BindOnceFuture",{enumerable:!0,get:function(){return A$8.BindOnceFuture}});var M$8=wV0();Object.defineProperty(P0,"diagLogLevelFromString",{enumerable:!0,get:function(){return M$8.diagLogLevelFromString}});var N$8=PV0();P0.internal={_export:N$8._export}});var kV0=B((TV0)=>{Object.defineProperty(TV0,"__esModule",{value:!0});TV0.PACKAGE_NAME=TV0.PACKAGE_VERSION=void 0;TV0.PACKAGE_VERSION="0.47.0";TV0.PACKAGE_NAME="@opentelemetry/instrumentation-hapi"});var QZ1=B((bV0)=>{Object.defineProperty(bV0,"__esModule",{value:!0});bV0.HapiLifecycleMethodNames=bV0.HapiLayerType=bV0.handlerPatched=bV0.HapiComponentName=void 0;bV0.HapiComponentName="@hapi/hapi";bV0.handlerPatched=Symbol("hapi-handler-patched");bV0.HapiLayerType={ROUTER:"router",PLUGIN:"plugin",EXT:"server.ext"};bV0.HapiLifecycleMethodNames=new Set(["onPreAuth","onCredentials","onPostAuth","onPreHandler","onPostHandler","onPreResponse","onRequest"])});var KZ1=B((_V0)=>{Object.defineProperty(_V0,"__esModule",{value:!0});_V0.AttributeNames=void 0;var R$8;(function(J){J.HAPI_TYPE="hapi.type",J.PLUGIN_NAME="hapi.plugin.name",J.EXT_TYPE="server.ext.type"})(R$8=_V0.AttributeNames||(_V0.AttributeNames={}))});var xV0=B((yV0)=>{Object.defineProperty(yV0,"__esModule",{value:!0});yV0.getPluginFromInput=yV0.getExtMetadata=yV0.getRouteMetadata=yV0.isPatchableExtMethod=yV0.isDirectExtInput=yV0.isLifecycleExtEventObj=yV0.isLifecycleExtType=yV0.getPluginName=void 0;var ay=j1(),BC=QZ1(),Jq=KZ1();function E$8(J){if(J.name)return J.name;else return J.pkg.name}yV0.getPluginName=E$8;var S$8=(J)=>{return typeof J==="string"&&BC.HapiLifecycleMethodNames.has(J)};yV0.isLifecycleExtType=S$8;var T$8=(J)=>{let Z=J?.type;return Z!==void 0&&yV0.isLifecycleExtType(Z)};yV0.isLifecycleExtEventObj=T$8;var f$8=(J)=>{return Array.isArray(J)&&J.length<=3&&yV0.isLifecycleExtType(J[0])&&typeof J[1]==="function"};yV0.isDirectExtInput=f$8;var k$8=(J)=>{return!Array.isArray(J)};yV0.isPatchableExtMethod=k$8;var b$8=(J,Z)=>{if(Z)return{attributes:{[ay.SEMATTRS_HTTP_ROUTE]:J.path,[ay.SEMATTRS_HTTP_METHOD]:J.method,[Jq.AttributeNames.HAPI_TYPE]:BC.HapiLayerType.PLUGIN,[Jq.AttributeNames.PLUGIN_NAME]:Z},name:`${Z}: route - ${J.path}`};return{attributes:{[ay.SEMATTRS_HTTP_ROUTE]:J.path,[ay.SEMATTRS_HTTP_METHOD]:J.method,[Jq.AttributeNames.HAPI_TYPE]:BC.HapiLayerType.ROUTER},name:`route - ${J.path}`}};yV0.getRouteMetadata=b$8;var h$8=(J,Z)=>{if(Z)return{attributes:{[Jq.AttributeNames.EXT_TYPE]:J,[Jq.AttributeNames.HAPI_TYPE]:BC.HapiLayerType.EXT,[Jq.AttributeNames.PLUGIN_NAME]:Z},name:`${Z}: ext - ${J}`};return{attributes:{[Jq.AttributeNames.EXT_TYPE]:J,[Jq.AttributeNames.HAPI_TYPE]:BC.HapiLayerType.EXT},name:`ext - ${J}`}};yV0.getExtMetadata=h$8;var _$8=(J)=>{if("plugin"in J){if("plugin"in J.plugin)return J.plugin.plugin;return J.plugin}return J};yV0.getPluginFromInput=_$8});var lV0=B((mV0)=>{Object.defineProperty(mV0,"__esModule",{value:!0});mV0.HapiInstrumentation=void 0;var CJ=C(),gV0=SV0(),ry=J6(),dV0=kV0(),HC=QZ1(),QG=xV0();class uV0 extends ry.InstrumentationBase{constructor(J={}){super(dV0.PACKAGE_NAME,dV0.PACKAGE_VERSION,J)}init(){return new ry.InstrumentationNodeModuleDefinition(HC.HapiComponentName,[">=17.0.0 <22"],(J)=>{let Z=J[Symbol.toStringTag]==="Module"?J.default:J;if(!(0,ry.isWrapped)(Z.server))this._wrap(Z,"server",this._getServerPatch.bind(this));if(!(0,ry.isWrapped)(Z.Server))this._wrap(Z,"Server",this._getServerPatch.bind(this));return Z},(J)=>{let Z=J[Symbol.toStringTag]==="Module"?J.default:J;this._massUnwrap([Z],["server","Server"])})}_getServerPatch(J){let Z=this,X=this;return function Y($){let z=J.apply(this,[$]);return X._wrap(z,"route",(W)=>{return Z._getServerRoutePatch.bind(Z)(W)}),X._wrap(z,"ext",(W)=>{return Z._getServerExtPatch.bind(Z)(W)}),X._wrap(z,"register",Z._getServerRegisterPatch.bind(Z)),z}}_getServerRegisterPatch(J){let Z=this;return function X(Y,$){if(Array.isArray(Y))for(let z of Y){let W=(0,QG.getPluginFromInput)(z);Z._wrapRegisterHandler(W)}else{let z=(0,QG.getPluginFromInput)(Y);Z._wrapRegisterHandler(z)}return J.apply(this,[Y,$])}}_getServerExtPatch(J,Z){let X=this;return function Y(...$){if(Array.isArray($[0])){let z=$[0];for(let W=0;W<z.length;W++){let Q=z[W];if((0,QG.isLifecycleExtType)(Q.type)){let G=Q,K=X._wrapExtMethods(G.method,Q.type,Z);G.method=K,z[W]=G}}return J.apply(this,$)}else if((0,QG.isDirectExtInput)($)){let z=$,W=z[1],Q=X._wrapExtMethods(W,z[0],Z);return J.apply(this,[z[0],Q,z[2]])}else if((0,QG.isLifecycleExtEventObj)($[0])){let z=$[0],W=X._wrapExtMethods(z.method,z.type,Z);return z.method=W,J.call(this,z)}return J.apply(this,$)}}_getServerRoutePatch(J,Z){let X=this;return function Y(Y){if(Array.isArray(Y))for(let $=0;$<Y.length;$++){let z=X._wrapRouteHandler.call(X,Y[$],Z);Y[$]=z}else Y=X._wrapRouteHandler.call(X,Y,Z);return J.apply(this,[Y])}}_wrapRegisterHandler(J){let Z=this,X=(0,QG.getPluginName)(J),Y=J.register,$=this,z=function(W,Q){return $._wrap(W,"route",(G)=>{return Z._getServerRoutePatch.bind(Z)(G,X)}),$._wrap(W,"ext",(G)=>{return Z._getServerExtPatch.bind(Z)(G,X)}),Y.call(this,W,Q)};J.register=z}_wrapExtMethods(J,Z,X){let Y=this;if(J instanceof Array){for(let $=0;$<J.length;$++)J[$]=Y._wrapExtMethods(J[$],Z);return J}else if((0,QG.isPatchableExtMethod)(J)){if(J[HC.handlerPatched]===!0)return J;return J[HC.handlerPatched]=!0,async function(...z){if(CJ.trace.getSpan(CJ.context.active())===void 0)return await J.apply(this,z);let W=(0,QG.getExtMetadata)(Z,X),Q=Y.tracer.startSpan(W.name,{attributes:W.attributes});try{return await CJ.context.with(CJ.trace.setSpan(CJ.context.active(),Q),J,void 0,...z)}catch(G){throw Q.recordException(G),Q.setStatus({code:CJ.SpanStatusCode.ERROR,message:G.message}),G}finally{Q.end()}}}return J}_wrapRouteHandler(J,Z){let X=this;if(J[HC.handlerPatched]===!0)return J;J[HC.handlerPatched]=!0;let Y=($)=>{return async function(...z){if(CJ.trace.getSpan(CJ.context.active())===void 0)return await $.call(this,...z);let W=(0,gV0.getRPCMetadata)(CJ.context.active());if(W?.type===gV0.RPCType.HTTP)W.route=J.path;let Q=(0,QG.getRouteMetadata)(J,Z),G=X.tracer.startSpan(Q.name,{attributes:Q.attributes});try{return await CJ.context.with(CJ.trace.setSpan(CJ.context.active(),G),()=>$.call(this,...z))}catch(K){throw G.recordException(K),G.setStatus({code:CJ.SpanStatusCode.ERROR,message:K.message}),K}finally{G.end()}}};if(typeof J.handler==="function")J.handler=Y(J.handler);else if(typeof J.options==="function"){let $=J.options;J.options=function(z){let W=$(z);if(typeof W.handler==="function")W.handler=Y(W.handler);return W}}else if(typeof J.options?.handler==="function")J.options.handler=Y(J.options.handler);return J}}mV0.HapiInstrumentation=uV0});var nV0=B((Zq)=>{var m$8=Zq&&Zq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),pV0=Zq&&Zq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))m$8(Z,J,X)};Object.defineProperty(Zq,"__esModule",{value:!0});pV0(lV0(),Zq);pV0(KZ1(),Zq)});var FC=B((iV0)=>{Object.defineProperty(iV0,"__esModule",{value:!0});iV0.isTracingSuppressed=iV0.unsuppressTracing=iV0.suppressTracing=void 0;var c$8=C(),BZ1=(0,c$8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function l$8(J){return J.setValue(BZ1,!0)}iV0.suppressTracing=l$8;function p$8(J){return J.deleteValue(BZ1)}iV0.unsuppressTracing=p$8;function n$8(J){return J.getValue(BZ1)===!0}iV0.isTracingSuppressed=n$8});var HZ1=B((sV0)=>{Object.defineProperty(sV0,"__esModule",{value:!0});sV0.BAGGAGE_MAX_TOTAL_LENGTH=sV0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=sV0.BAGGAGE_MAX_NAME_VALUE_PAIRS=sV0.BAGGAGE_HEADER=sV0.BAGGAGE_ITEMS_SEPARATOR=sV0.BAGGAGE_PROPERTIES_SEPARATOR=sV0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;sV0.BAGGAGE_KEY_PAIR_SEPARATOR="=";sV0.BAGGAGE_PROPERTIES_SEPARATOR=";";sV0.BAGGAGE_ITEMS_SEPARATOR=",";sV0.BAGGAGE_HEADER="baggage";sV0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;sV0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;sV0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var FZ1=B((tV0)=>{Object.defineProperty(tV0,"__esModule",{value:!0});tV0.parseKeyPairsIntoRecord=tV0.parsePairKeyValue=tV0.getKeyPairs=tV0.serializeKeyPairs=void 0;var Zz8=C(),GU=HZ1();function Xz8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?GU.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>GU.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}tV0.serializeKeyPairs=Xz8;function Yz8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=GU.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}tV0.getKeyPairs=Yz8;function rV0(J){let Z=J.split(GU.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(GU.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,Zz8.baggageEntryMetadataFromString)(Z.join(GU.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}tV0.parsePairKeyValue=rV0;function $z8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(GU.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=rV0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}tV0.parseKeyPairsIntoRecord=$z8});var YI0=B((ZI0)=>{Object.defineProperty(ZI0,"__esModule",{value:!0});ZI0.W3CBaggagePropagator=void 0;var UZ1=C(),Gz8=FC(),KU=HZ1(),OZ1=FZ1();class JI0{inject(J,Z,X){let Y=UZ1.propagation.getBaggage(J);if(!Y||(0,Gz8.isTracingSuppressed)(J))return;let $=(0,OZ1.getKeyPairs)(Y).filter((W)=>{return W.length<=KU.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,KU.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,OZ1.serializeKeyPairs)($);if(z.length>0)X.set(Z,KU.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,KU.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(KU.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(KU.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,OZ1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return UZ1.propagation.setBaggage(J,UZ1.propagation.createBaggage(z))}fields(){return[KU.BAGGAGE_HEADER]}}ZI0.W3CBaggagePropagator=JI0});var QI0=B((zI0)=>{Object.defineProperty(zI0,"__esModule",{value:!0});zI0.AnchoredClock=void 0;class $I0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}zI0.AnchoredClock=$I0});var UI0=B((HI0)=>{Object.defineProperty(HI0,"__esModule",{value:!0});HI0.isAttributeValue=HI0.isAttributeKey=HI0.sanitizeAttributes=void 0;var GI0=C();function Kz8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!KI0(X)){GI0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!qI0(Y)){GI0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}HI0.sanitizeAttributes=Kz8;function KI0(J){return typeof J==="string"&&J.length>0}HI0.isAttributeKey=KI0;function qI0(J){if(J==null)return!0;if(Array.isArray(J))return qz8(J);return BI0(J)}HI0.isAttributeValue=qI0;function qz8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(BI0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function BI0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var DZ1=B((OI0)=>{Object.defineProperty(OI0,"__esModule",{value:!0});OI0.loggingErrorHandler=void 0;var Fz8=C();function Uz8(){return(J)=>{Fz8.diag.error(Oz8(J))}}OI0.loggingErrorHandler=Uz8;function Oz8(J){if(typeof J==="string")return J;else return JSON.stringify(Dz8(J))}function Dz8(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var AI0=B((II0)=>{Object.defineProperty(II0,"__esModule",{value:!0});II0.globalErrorHandler=II0.setGlobalErrorHandler=void 0;var Vz8=DZ1(),VI0=(0,Vz8.loggingErrorHandler)();function Iz8(J){VI0=J}II0.setGlobalErrorHandler=Iz8;function wz8(J){try{VI0(J)}catch{}}II0.globalErrorHandler=wz8});var jI0=B((LI0)=>{Object.defineProperty(LI0,"__esModule",{value:!0});LI0.getStringListFromEnv=LI0.getBooleanFromEnv=LI0.getStringFromEnv=LI0.getNumberFromEnv=void 0;var MI0=C(),NI0=p("util");function Mz8(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){MI0.diag.warn(`Unknown value ${(0,NI0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}LI0.getNumberFromEnv=Mz8;function PI0(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}LI0.getStringFromEnv=PI0;function Nz8(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return MI0.diag.warn(`Unknown value ${(0,NI0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}LI0.getBooleanFromEnv=Nz8;function Pz8(J){return PI0(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}LI0.getStringListFromEnv=Pz8});var SI0=B((RI0)=>{Object.defineProperty(RI0,"__esModule",{value:!0});RI0._globalThis=void 0;RI0._globalThis=typeof globalThis==="object"?globalThis:global});var kI0=B((TI0)=>{Object.defineProperty(TI0,"__esModule",{value:!0});TI0.otperformance=void 0;var Rz8=p("perf_hooks");TI0.otperformance=Rz8.performance});var _I0=B((bI0)=>{Object.defineProperty(bI0,"__esModule",{value:!0});bI0.VERSION=void 0;bI0.VERSION="2.0.1"});var xI0=B((yI0)=>{Object.defineProperty(yI0,"__esModule",{value:!0});yI0.ATTR_PROCESS_RUNTIME_NAME=void 0;yI0.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var uI0=B((gI0)=>{Object.defineProperty(gI0,"__esModule",{value:!0});gI0.SDK_INFO=void 0;var Ez8=_I0(),ty=j1(),Sz8=xI0();gI0.SDK_INFO={[ty.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[Sz8.ATTR_PROCESS_RUNTIME_NAME]:"node",[ty.ATTR_TELEMETRY_SDK_LANGUAGE]:ty.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[ty.ATTR_TELEMETRY_SDK_VERSION]:Ez8.VERSION}});var lI0=B((mI0)=>{Object.defineProperty(mI0,"__esModule",{value:!0});mI0.unrefTimer=void 0;function Tz8(J){J.unref()}mI0.unrefTimer=Tz8});var pI0=B((Gz)=>{Object.defineProperty(Gz,"__esModule",{value:!0});Gz.unrefTimer=Gz.SDK_INFO=Gz.otperformance=Gz._globalThis=Gz.getStringListFromEnv=Gz.getNumberFromEnv=Gz.getBooleanFromEnv=Gz.getStringFromEnv=void 0;var ey=jI0();Object.defineProperty(Gz,"getStringFromEnv",{enumerable:!0,get:function(){return ey.getStringFromEnv}});Object.defineProperty(Gz,"getBooleanFromEnv",{enumerable:!0,get:function(){return ey.getBooleanFromEnv}});Object.defineProperty(Gz,"getNumberFromEnv",{enumerable:!0,get:function(){return ey.getNumberFromEnv}});Object.defineProperty(Gz,"getStringListFromEnv",{enumerable:!0,get:function(){return ey.getStringListFromEnv}});var fz8=SI0();Object.defineProperty(Gz,"_globalThis",{enumerable:!0,get:function(){return fz8._globalThis}});var kz8=kI0();Object.defineProperty(Gz,"otperformance",{enumerable:!0,get:function(){return kz8.otperformance}});var bz8=uI0();Object.defineProperty(Gz,"SDK_INFO",{enumerable:!0,get:function(){return bz8.SDK_INFO}});var hz8=lI0();Object.defineProperty(Gz,"unrefTimer",{enumerable:!0,get:function(){return hz8.unrefTimer}})});var VZ1=B((Kz)=>{Object.defineProperty(Kz,"__esModule",{value:!0});Kz.getStringListFromEnv=Kz.getNumberFromEnv=Kz.getStringFromEnv=Kz.getBooleanFromEnv=Kz.unrefTimer=Kz.otperformance=Kz._globalThis=Kz.SDK_INFO=void 0;var Xq=pI0();Object.defineProperty(Kz,"SDK_INFO",{enumerable:!0,get:function(){return Xq.SDK_INFO}});Object.defineProperty(Kz,"_globalThis",{enumerable:!0,get:function(){return Xq._globalThis}});Object.defineProperty(Kz,"otperformance",{enumerable:!0,get:function(){return Xq.otperformance}});Object.defineProperty(Kz,"unrefTimer",{enumerable:!0,get:function(){return Xq.unrefTimer}});Object.defineProperty(Kz,"getBooleanFromEnv",{enumerable:!0,get:function(){return Xq.getBooleanFromEnv}});Object.defineProperty(Kz,"getStringFromEnv",{enumerable:!0,get:function(){return Xq.getStringFromEnv}});Object.defineProperty(Kz,"getNumberFromEnv",{enumerable:!0,get:function(){return Xq.getNumberFromEnv}});Object.defineProperty(Kz,"getStringListFromEnv",{enumerable:!0,get:function(){return Xq.getStringListFromEnv}})});var rI0=B((sI0)=>{Object.defineProperty(sI0,"__esModule",{value:!0});sI0.addHrTimes=sI0.isTimeInput=sI0.isTimeInputHrTime=sI0.hrTimeToMicroseconds=sI0.hrTimeToMilliseconds=sI0.hrTimeToNanoseconds=sI0.hrTimeToTimeStamp=sI0.hrTimeDuration=sI0.timeInputToHrTime=sI0.hrTime=sI0.getTimeOrigin=sI0.millisToHrTime=void 0;var IZ1=VZ1(),nI0=9,vz8=6,xz8=Math.pow(10,vz8),Jv=Math.pow(10,nI0);function UC(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*xz8);return[X,Y]}sI0.millisToHrTime=UC;function wZ1(){let J=IZ1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=IZ1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}sI0.getTimeOrigin=wZ1;function iI0(J){let Z=UC(wZ1()),X=UC(typeof J==="number"?J:IZ1.otperformance.now());return oI0(Z,X)}sI0.hrTime=iI0;function gz8(J){if(AZ1(J))return J;else if(typeof J==="number")if(J<wZ1())return iI0(J);else return UC(J);else if(J instanceof Date)return UC(J.getTime());else throw TypeError("Invalid input type")}sI0.timeInputToHrTime=gz8;function dz8(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=Jv;return[X,Y]}sI0.hrTimeDuration=dz8;function uz8(J){let Z=nI0,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}sI0.hrTimeToTimeStamp=uz8;function mz8(J){return J[0]*Jv+J[1]}sI0.hrTimeToNanoseconds=mz8;function cz8(J){return J[0]*1000+J[1]/1e6}sI0.hrTimeToMilliseconds=cz8;function lz8(J){return J[0]*1e6+J[1]/1000}sI0.hrTimeToMicroseconds=lz8;function AZ1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}sI0.isTimeInputHrTime=AZ1;function pz8(J){return AZ1(J)||typeof J==="number"||J instanceof Date}sI0.isTimeInput=pz8;function oI0(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=Jv)X[1]-=Jv,X[0]+=1;return X}sI0.addHrTimes=oI0});var eI0=B((tI0)=>{Object.defineProperty(tI0,"__esModule",{value:!0});tI0.ExportResultCode=void 0;var YW8;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(YW8=tI0.ExportResultCode||(tI0.ExportResultCode={}))});var $w0=B((Xw0)=>{Object.defineProperty(Xw0,"__esModule",{value:!0});Xw0.CompositePropagator=void 0;var Jw0=C();class Zw0{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){Jw0.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){Jw0.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}Xw0.CompositePropagator=Zw0});var Qw0=B((zw0)=>{Object.defineProperty(zw0,"__esModule",{value:!0});zw0.validateValue=zw0.validateKey=void 0;var NZ1="[_0-9a-z-*/]",$W8=`[a-z]${NZ1}{0,255}`,zW8=`[a-z0-9]${NZ1}{0,240}@[a-z]${NZ1}{0,13}`,WW8=new RegExp(`^(?:${$W8}|${zW8})$`),QW8=/^[ -~]{0,255}[!-~]$/,GW8=/,|=/;function KW8(J){return WW8.test(J)}zw0.validateKey=KW8;function qW8(J){return QW8.test(J)&&!GW8.test(J)}zw0.validateValue=qW8});var LZ1=B((Hw0)=>{Object.defineProperty(Hw0,"__esModule",{value:!0});Hw0.TraceState=void 0;var Gw0=Qw0(),Kw0=32,HW8=512,qw0=",",Bw0="=";class PZ1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+Bw0+this.get(Z)),J},[]).join(qw0)}_parse(J){if(J.length>HW8)return;if(this._internalState=J.split(qw0).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(Bw0);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,Gw0.validateKey)(z)&&(0,Gw0.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>Kw0)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Kw0))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new PZ1;return J._internalState=new Map(this._internalState),J}}Hw0.TraceState=PZ1});var Iw0=B((Dw0)=>{Object.defineProperty(Dw0,"__esModule",{value:!0});Dw0.W3CTraceContextPropagator=Dw0.parseTraceParent=Dw0.TRACE_STATE_HEADER=Dw0.TRACE_PARENT_HEADER=void 0;var Zv=C(),FW8=FC(),UW8=LZ1();Dw0.TRACE_PARENT_HEADER="traceparent";Dw0.TRACE_STATE_HEADER="tracestate";var OW8="00",DW8="(?!ff)[\\da-f]{2}",VW8="(?![0]{32})[\\da-f]{32}",IW8="(?![0]{16})[\\da-f]{16}",wW8="[\\da-f]{2}",AW8=new RegExp(`^\\s?(${DW8})-(${VW8})-(${IW8})-(${wW8})(-.*)?\\s?$`);function Uw0(J){let Z=AW8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}Dw0.parseTraceParent=Uw0;class Ow0{inject(J,Z,X){let Y=Zv.trace.getSpanContext(J);if(!Y||(0,FW8.isTracingSuppressed)(J)||!(0,Zv.isSpanContextValid)(Y))return;let $=`${OW8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||Zv.TraceFlags.NONE).toString(16)}`;if(X.set(Z,Dw0.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,Dw0.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,Dw0.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=Uw0($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,Dw0.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new UW8.TraceState(typeof Q==="string"?Q:void 0)}return Zv.trace.setSpanContext(J,z)}fields(){return[Dw0.TRACE_PARENT_HEADER,Dw0.TRACE_STATE_HEADER]}}Dw0.W3CTraceContextPropagator=Ow0});var Nw0=B((Aw0)=>{Object.defineProperty(Aw0,"__esModule",{value:!0});Aw0.getRPCMetadata=Aw0.deleteRPCMetadata=Aw0.setRPCMetadata=Aw0.RPCType=void 0;var NW8=C(),CZ1=(0,NW8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),PW8;(function(J){J.HTTP="http"})(PW8=Aw0.RPCType||(Aw0.RPCType={}));function LW8(J,Z){return J.setValue(CZ1,Z)}Aw0.setRPCMetadata=LW8;function CW8(J){return J.deleteValue(CZ1)}Aw0.deleteRPCMetadata=CW8;function jW8(J){return J.getValue(CZ1)}Aw0.getRPCMetadata=jW8});var Sw0=B((Rw0)=>{Object.defineProperty(Rw0,"__esModule",{value:!0});Rw0.isPlainObject=void 0;var SW8="[object Object]",TW8="[object Null]",fW8="[object Undefined]",kW8=Function.prototype,Pw0=kW8.toString,bW8=Pw0.call(Object),hW8=Object.getPrototypeOf,Lw0=Object.prototype,Cw0=Lw0.hasOwnProperty,qU=Symbol?Symbol.toStringTag:void 0,jw0=Lw0.toString;function _W8(J){if(!yW8(J)||vW8(J)!==SW8)return!1;let Z=hW8(J);if(Z===null)return!0;let X=Cw0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&Pw0.call(X)===bW8}Rw0.isPlainObject=_W8;function yW8(J){return J!=null&&typeof J=="object"}function vW8(J){if(J==null)return J===void 0?fW8:TW8;return qU&&qU in Object(J)?xW8(J):gW8(J)}function xW8(J){let Z=Cw0.call(J,qU),X=J[qU],Y=!1;try{J[qU]=void 0,Y=!0}catch(z){}let $=jw0.call(J);if(Y)if(Z)J[qU]=X;else delete J[qU];return $}function gW8(J){return jw0.call(J)}});var yw0=B((hw0)=>{Object.defineProperty(hw0,"__esModule",{value:!0});hw0.merge=void 0;var Tw0=Sw0(),dW8=20;function uW8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=kw0(Z,J.shift(),0,X);return Z}hw0.merge=uW8;function jZ1(J){if(zv(J))return J.slice();return J}function kw0(J,Z,X=0,Y){let $;if(X>dW8)return;if(X++,$v(J)||$v(Z)||bw0(Z))$=jZ1(Z);else if(zv(J)){if($=J.slice(),zv(Z))for(let z=0,W=Z.length;z<W;z++)$.push(jZ1(Z[z]));else if(OC(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=jZ1(Z[G])}}}else if(OC(J))if(OC(Z)){if(!mW8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if($v(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(fw0(J,G,Y)||fw0(Z,G,Y))delete $[G];else{if(OC(q)&&OC(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=kw0($[G],K,X,Y)}}}}else $=Z;return $}function fw0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function zv(J){return Array.isArray(J)}function bw0(J){return typeof J==="function"}function OC(J){return!$v(J)&&!zv(J)&&!bw0(J)&&typeof J==="object"}function $v(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function mW8(J,Z){if(!(0,Tw0.isPlainObject)(J)||!(0,Tw0.isPlainObject)(Z))return!1;return!0}});var gw0=B((vw0)=>{Object.defineProperty(vw0,"__esModule",{value:!0});vw0.callWithTimeout=vw0.TimeoutError=void 0;class Wv extends Error{constructor(J){super(J);Object.setPrototypeOf(this,Wv.prototype)}}vw0.TimeoutError=Wv;function cW8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new Wv("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}vw0.callWithTimeout=cW8});var cw0=B((uw0)=>{Object.defineProperty(uw0,"__esModule",{value:!0});uw0.isUrlIgnored=uw0.urlMatches=void 0;function dw0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}uw0.urlMatches=dw0;function pW8(J,Z){if(!Z)return!1;for(let X of Z)if(dw0(J,X))return!0;return!1}uw0.isUrlIgnored=pW8});var iw0=B((pw0)=>{Object.defineProperty(pw0,"__esModule",{value:!0});pw0.Deferred=void 0;class lw0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}pw0.Deferred=lw0});var rw0=B((sw0)=>{Object.defineProperty(sw0,"__esModule",{value:!0});sw0.BindOnceFuture=void 0;var iW8=iw0();class ow0{_callback;_that;_isCalled=!1;_deferred=new iW8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}sw0.BindOnceFuture=ow0});var ZA0=B((ew0)=>{Object.defineProperty(ew0,"__esModule",{value:!0});ew0.diagLogLevelFromString=void 0;var GG=C(),tw0={ALL:GG.DiagLogLevel.ALL,VERBOSE:GG.DiagLogLevel.VERBOSE,DEBUG:GG.DiagLogLevel.DEBUG,INFO:GG.DiagLogLevel.INFO,WARN:GG.DiagLogLevel.WARN,ERROR:GG.DiagLogLevel.ERROR,NONE:GG.DiagLogLevel.NONE};function oW8(J){if(J==null)return;let Z=tw0[J.toUpperCase()];if(Z==null)return GG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(tw0)}, using default`),GG.DiagLogLevel.INFO;return Z}ew0.diagLogLevelFromString=oW8});var zA0=B((YA0)=>{Object.defineProperty(YA0,"__esModule",{value:!0});YA0._export=void 0;var XA0=C(),sW8=FC();function aW8(J,Z){return new Promise((X)=>{XA0.context.with((0,sW8.suppressTracing)(XA0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}YA0._export=aW8});var EZ1=B((L0)=>{Object.defineProperty(L0,"__esModule",{value:!0});L0.internal=L0.diagLogLevelFromString=L0.BindOnceFuture=L0.urlMatches=L0.isUrlIgnored=L0.callWithTimeout=L0.TimeoutError=L0.merge=L0.TraceState=L0.unsuppressTracing=L0.suppressTracing=L0.isTracingSuppressed=L0.setRPCMetadata=L0.getRPCMetadata=L0.deleteRPCMetadata=L0.RPCType=L0.parseTraceParent=L0.W3CTraceContextPropagator=L0.TRACE_STATE_HEADER=L0.TRACE_PARENT_HEADER=L0.CompositePropagator=L0.unrefTimer=L0.otperformance=L0.getStringListFromEnv=L0.getNumberFromEnv=L0.getBooleanFromEnv=L0.getStringFromEnv=L0._globalThis=L0.SDK_INFO=L0.parseKeyPairsIntoRecord=L0.ExportResultCode=L0.timeInputToHrTime=L0.millisToHrTime=L0.isTimeInputHrTime=L0.isTimeInput=L0.hrTimeToTimeStamp=L0.hrTimeToNanoseconds=L0.hrTimeToMilliseconds=L0.hrTimeToMicroseconds=L0.hrTimeDuration=L0.hrTime=L0.getTimeOrigin=L0.addHrTimes=L0.loggingErrorHandler=L0.setGlobalErrorHandler=L0.globalErrorHandler=L0.sanitizeAttributes=L0.isAttributeValue=L0.AnchoredClock=L0.W3CBaggagePropagator=void 0;var rW8=YI0();Object.defineProperty(L0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return rW8.W3CBaggagePropagator}});var tW8=QI0();Object.defineProperty(L0,"AnchoredClock",{enumerable:!0,get:function(){return tW8.AnchoredClock}});var WA0=UI0();Object.defineProperty(L0,"isAttributeValue",{enumerable:!0,get:function(){return WA0.isAttributeValue}});Object.defineProperty(L0,"sanitizeAttributes",{enumerable:!0,get:function(){return WA0.sanitizeAttributes}});var QA0=AI0();Object.defineProperty(L0,"globalErrorHandler",{enumerable:!0,get:function(){return QA0.globalErrorHandler}});Object.defineProperty(L0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return QA0.setGlobalErrorHandler}});var eW8=DZ1();Object.defineProperty(L0,"loggingErrorHandler",{enumerable:!0,get:function(){return eW8.loggingErrorHandler}});var gZ=rI0();Object.defineProperty(L0,"addHrTimes",{enumerable:!0,get:function(){return gZ.addHrTimes}});Object.defineProperty(L0,"getTimeOrigin",{enumerable:!0,get:function(){return gZ.getTimeOrigin}});Object.defineProperty(L0,"hrTime",{enumerable:!0,get:function(){return gZ.hrTime}});Object.defineProperty(L0,"hrTimeDuration",{enumerable:!0,get:function(){return gZ.hrTimeDuration}});Object.defineProperty(L0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return gZ.hrTimeToMicroseconds}});Object.defineProperty(L0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return gZ.hrTimeToMilliseconds}});Object.defineProperty(L0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return gZ.hrTimeToNanoseconds}});Object.defineProperty(L0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return gZ.hrTimeToTimeStamp}});Object.defineProperty(L0,"isTimeInput",{enumerable:!0,get:function(){return gZ.isTimeInput}});Object.defineProperty(L0,"isTimeInputHrTime",{enumerable:!0,get:function(){return gZ.isTimeInputHrTime}});Object.defineProperty(L0,"millisToHrTime",{enumerable:!0,get:function(){return gZ.millisToHrTime}});Object.defineProperty(L0,"timeInputToHrTime",{enumerable:!0,get:function(){return gZ.timeInputToHrTime}});var JQ8=eI0();Object.defineProperty(L0,"ExportResultCode",{enumerable:!0,get:function(){return JQ8.ExportResultCode}});var ZQ8=FZ1();Object.defineProperty(L0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return ZQ8.parseKeyPairsIntoRecord}});var Yq=VZ1();Object.defineProperty(L0,"SDK_INFO",{enumerable:!0,get:function(){return Yq.SDK_INFO}});Object.defineProperty(L0,"_globalThis",{enumerable:!0,get:function(){return Yq._globalThis}});Object.defineProperty(L0,"getStringFromEnv",{enumerable:!0,get:function(){return Yq.getStringFromEnv}});Object.defineProperty(L0,"getBooleanFromEnv",{enumerable:!0,get:function(){return Yq.getBooleanFromEnv}});Object.defineProperty(L0,"getNumberFromEnv",{enumerable:!0,get:function(){return Yq.getNumberFromEnv}});Object.defineProperty(L0,"getStringListFromEnv",{enumerable:!0,get:function(){return Yq.getStringListFromEnv}});Object.defineProperty(L0,"otperformance",{enumerable:!0,get:function(){return Yq.otperformance}});Object.defineProperty(L0,"unrefTimer",{enumerable:!0,get:function(){return Yq.unrefTimer}});var XQ8=$w0();Object.defineProperty(L0,"CompositePropagator",{enumerable:!0,get:function(){return XQ8.CompositePropagator}});var Qv=Iw0();Object.defineProperty(L0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return Qv.TRACE_PARENT_HEADER}});Object.defineProperty(L0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return Qv.TRACE_STATE_HEADER}});Object.defineProperty(L0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return Qv.W3CTraceContextPropagator}});Object.defineProperty(L0,"parseTraceParent",{enumerable:!0,get:function(){return Qv.parseTraceParent}});var Gv=Nw0();Object.defineProperty(L0,"RPCType",{enumerable:!0,get:function(){return Gv.RPCType}});Object.defineProperty(L0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Gv.deleteRPCMetadata}});Object.defineProperty(L0,"getRPCMetadata",{enumerable:!0,get:function(){return Gv.getRPCMetadata}});Object.defineProperty(L0,"setRPCMetadata",{enumerable:!0,get:function(){return Gv.setRPCMetadata}});var RZ1=FC();Object.defineProperty(L0,"isTracingSuppressed",{enumerable:!0,get:function(){return RZ1.isTracingSuppressed}});Object.defineProperty(L0,"suppressTracing",{enumerable:!0,get:function(){return RZ1.suppressTracing}});Object.defineProperty(L0,"unsuppressTracing",{enumerable:!0,get:function(){return RZ1.unsuppressTracing}});var YQ8=LZ1();Object.defineProperty(L0,"TraceState",{enumerable:!0,get:function(){return YQ8.TraceState}});var $Q8=yw0();Object.defineProperty(L0,"merge",{enumerable:!0,get:function(){return $Q8.merge}});var GA0=gw0();Object.defineProperty(L0,"TimeoutError",{enumerable:!0,get:function(){return GA0.TimeoutError}});Object.defineProperty(L0,"callWithTimeout",{enumerable:!0,get:function(){return GA0.callWithTimeout}});var KA0=cw0();Object.defineProperty(L0,"isUrlIgnored",{enumerable:!0,get:function(){return KA0.isUrlIgnored}});Object.defineProperty(L0,"urlMatches",{enumerable:!0,get:function(){return KA0.urlMatches}});var zQ8=rw0();Object.defineProperty(L0,"BindOnceFuture",{enumerable:!0,get:function(){return zQ8.BindOnceFuture}});var WQ8=ZA0();Object.defineProperty(L0,"diagLogLevelFromString",{enumerable:!0,get:function(){return WQ8.diagLogLevelFromString}});var QQ8=zA0();L0.internal={_export:QQ8._export}});var FA0=B((BA0)=>{Object.defineProperty(BA0,"__esModule",{value:!0});BA0.VERSION=void 0;BA0.VERSION="0.201.1"});var DA0=B((UA0)=>{Object.defineProperty(UA0,"__esModule",{value:!0});UA0.HTTP_FLAVOR_VALUE_HTTP_1_1=UA0.NET_TRANSPORT_VALUE_IP_UDP=UA0.NET_TRANSPORT_VALUE_IP_TCP=UA0.ATTR_NET_TRANSPORT=UA0.ATTR_NET_PEER_PORT=UA0.ATTR_NET_PEER_NAME=UA0.ATTR_NET_PEER_IP=UA0.ATTR_NET_HOST_PORT=UA0.ATTR_NET_HOST_NAME=UA0.ATTR_NET_HOST_IP=UA0.ATTR_HTTP_USER_AGENT=UA0.ATTR_HTTP_URL=UA0.ATTR_HTTP_TARGET=UA0.ATTR_HTTP_STATUS_CODE=UA0.ATTR_HTTP_SERVER_NAME=UA0.ATTR_HTTP_SCHEME=UA0.ATTR_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=UA0.ATTR_HTTP_RESPONSE_CONTENT_LENGTH=UA0.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=UA0.ATTR_HTTP_REQUEST_CONTENT_LENGTH=UA0.ATTR_HTTP_METHOD=UA0.ATTR_HTTP_HOST=UA0.ATTR_HTTP_FLAVOR=UA0.ATTR_HTTP_CLIENT_IP=UA0.USER_AGENT_SYNTHETIC_TYPE_VALUE_TEST=UA0.USER_AGENT_SYNTHETIC_TYPE_VALUE_BOT=UA0.ATTR_USER_AGENT_SYNTHETIC_TYPE=void 0;UA0.ATTR_USER_AGENT_SYNTHETIC_TYPE="user_agent.synthetic.type";UA0.USER_AGENT_SYNTHETIC_TYPE_VALUE_BOT="bot";UA0.USER_AGENT_SYNTHETIC_TYPE_VALUE_TEST="test";UA0.ATTR_HTTP_CLIENT_IP="http.client_ip";UA0.ATTR_HTTP_FLAVOR="http.flavor";UA0.ATTR_HTTP_HOST="http.host";UA0.ATTR_HTTP_METHOD="http.method";UA0.ATTR_HTTP_REQUEST_CONTENT_LENGTH="http.request_content_length";UA0.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED="http.request_content_length_uncompressed";UA0.ATTR_HTTP_RESPONSE_CONTENT_LENGTH="http.response_content_length";UA0.ATTR_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED="http.response_content_length_uncompressed";UA0.ATTR_HTTP_SCHEME="http.scheme";UA0.ATTR_HTTP_SERVER_NAME="http.server_name";UA0.ATTR_HTTP_STATUS_CODE="http.status_code";UA0.ATTR_HTTP_TARGET="http.target";UA0.ATTR_HTTP_URL="http.url";UA0.ATTR_HTTP_USER_AGENT="http.user_agent";UA0.ATTR_NET_HOST_IP="net.host.ip";UA0.ATTR_NET_HOST_NAME="net.host.name";UA0.ATTR_NET_HOST_PORT="net.host.port";UA0.ATTR_NET_PEER_IP="net.peer.ip";UA0.ATTR_NET_PEER_NAME="net.peer.name";UA0.ATTR_NET_PEER_PORT="net.peer.port";UA0.ATTR_NET_TRANSPORT="net.transport";UA0.NET_TRANSPORT_VALUE_IP_TCP="ip_tcp";UA0.NET_TRANSPORT_VALUE_IP_UDP="ip_udp";UA0.HTTP_FLAVOR_VALUE_HTTP_1_1="1.1"});var IA0=B((VA0)=>{Object.defineProperty(VA0,"__esModule",{value:!0});VA0.AttributeNames=void 0;var hQ8;(function(J){J.HTTP_ERROR_NAME="http.error_name",J.HTTP_ERROR_MESSAGE="http.error_message",J.HTTP_STATUS_TEXT="http.status_text"})(hQ8=VA0.AttributeNames||(VA0.AttributeNames={}))});var MA0=B((wA0)=>{Object.defineProperty(wA0,"__esModule",{value:!0});wA0.SYNTHETIC_BOT_NAMES=wA0.SYNTHETIC_TEST_NAMES=void 0;wA0.SYNTHETIC_TEST_NAMES=["alwayson"];wA0.SYNTHETIC_BOT_NAMES=["googlebot","bingbot"]});var PA0=B((RN9,NA0)=>{var yQ8=p("util");function TZ1(J,Z){Error.captureStackTrace(this,TZ1),this.name=this.constructor.name,this.message=J,this.input=Z}yQ8.inherits(TZ1,Error);NA0.exports=TZ1});var CA0=B((EN9,LA0)=>{function vQ8(J){return J===34||J===40||J===41||J===44||J===47||J>=58&&J<=64||J>=91&&J<=93||J===123||J===125}function xQ8(J){return J===33||J>=35&&J<=39||J===42||J===43||J===45||J===46||J>=48&&J<=57||J>=65&&J<=90||J>=94&&J<=122||J===124||J===126}function gQ8(J){return J>=32&&J<=126}function dQ8(J){return J>=128&&J<=255}LA0.exports={isDelimiter:vQ8,isTokenChar:xQ8,isExtended:dQ8,isPrint:gQ8}});var TA0=B((SN9,SA0)=>{var uQ8=p("util"),Ow=PA0(),Kv=CA0(),mQ8=Kv.isDelimiter,jA0=Kv.isTokenChar,RA0=Kv.isExtended,cQ8=Kv.isPrint;function EA0(J){return J.replace(/\\(.)/g,"$1")}function DC(J,Z){return uQ8.format("Unexpected character '%s' at index %d",J.charAt(Z),Z)}function lQ8(J){var Z=!1,X=!1,Y=!1,$={},z=[],W=-1,Q=-1,G,K;for(var q=0;q<J.length;q++)if(K=J.charCodeAt(q),G===void 0){if(q!==0&&W===-1&&(K===32||K===9))continue;if(jA0(K)){if(W===-1)W=q}else if(K===61&&W!==-1)G=J.slice(W,q).toLowerCase(),W=-1;else throw new Ow(DC(J,q),J)}else if(X&&(K===9||cQ8(K)||RA0(K)))X=!1;else if(jA0(K)){if(Q!==-1)throw new Ow(DC(J,q),J);if(W===-1)W=q}else if(mQ8(K)||RA0(K))if(Y){if(K===34)Y=!1,Q=q;else if(K===92){if(W===-1)W=q;X=Z=!0}else if(W===-1)W=q}else if(K===34&&J.charCodeAt(q-1)===61)Y=!0;else if((K===44||K===59)&&(W!==-1||Q!==-1)){if(W!==-1){if(Q===-1)Q=q;$[G]=Z?EA0(J.slice(W,Q)):J.slice(W,Q)}else $[G]="";if(K===44)z.push($),$={};G=void 0,W=Q=-1}else throw new Ow(DC(J,q),J);else if(K===32||K===9){if(Q!==-1)continue;if(Y){if(W===-1)W=q}else if(W!==-1)Q=q;else throw new Ow(DC(J,q),J)}else throw new Ow(DC(J,q),J);if(G===void 0||Y||W===-1&&Q===-1||K===32||K===9)throw new Ow("Unexpected end of input",J);if(W!==-1){if(Q===-1)Q=q;$[G]=Z?EA0(J.slice(W,Q)):J.slice(W,Q)}else $[G]="";return z.push($),z}SA0.exports=lQ8});var cA0=B((xA0)=>{Object.defineProperty(xA0,"__esModule",{value:!0});xA0.headerCapture=xA0.getIncomingStableRequestMetricAttributesOnResponse=xA0.getIncomingRequestMetricAttributesOnResponse=xA0.getIncomingRequestAttributesOnResponse=xA0.getIncomingRequestMetricAttributes=xA0.getIncomingRequestAttributes=xA0.getRemoteClientAddress=xA0.getOutgoingStableRequestMetricAttributesOnResponse=xA0.getOutgoingRequestMetricAttributesOnResponse=xA0.getOutgoingRequestAttributesOnResponse=xA0.setAttributesFromHttpKind=xA0.getOutgoingRequestMetricAttributes=xA0.getOutgoingRequestAttributes=xA0.extractHostnameAndPort=xA0.isValidOptionsType=xA0.getRequestInfo=xA0.isCompressed=xA0.setResponseContentLengthAttribute=xA0.setRequestContentLengthAttribute=xA0.setSpanWithError=xA0.satisfiesPattern=xA0.parseResponseStatus=xA0.getAbsoluteUrl=void 0;var VC=C(),M6=j1(),W0=DA0(),fA0=EZ1(),qz=J6(),pQ8=p("url"),qv=IA0(),kA0=MA0(),nQ8=TA0(),iQ8=(J,Z,X="http:")=>{let Y=J||{},$=Y.protocol||X,z=(Y.port||"").toString(),W=Y.path||"/",Q=Y.host||Y.hostname||Z.host||"localhost";if(Q.indexOf(":")===-1&&z&&z!=="80"&&z!=="443")Q+=`:${z}`;return`${$}//${Q}${W}`};xA0.getAbsoluteUrl=iQ8;var oQ8=(J,Z)=>{let X=J===VC.SpanKind.CLIENT?400:500;if(Z&&Z>=100&&Z<X)return VC.SpanStatusCode.UNSET;return VC.SpanStatusCode.ERROR};xA0.parseResponseStatus=oQ8;var sQ8=(J,Z)=>{if(typeof Z==="string")return Z===J;else if(Z instanceof RegExp)return Z.test(J);else if(typeof Z==="function")return Z(J);else throw new TypeError("Pattern is in unsupported datatype")};xA0.satisfiesPattern=sQ8;var aQ8=(J,Z,X)=>{let Y=Z.message;if(X&qz.SemconvStability.OLD)J.setAttribute(qv.AttributeNames.HTTP_ERROR_NAME,Z.name),J.setAttribute(qv.AttributeNames.HTTP_ERROR_MESSAGE,Y);if(X&qz.SemconvStability.STABLE)J.setAttribute(M6.ATTR_ERROR_TYPE,Z.name);J.setStatus({code:VC.SpanStatusCode.ERROR,message:Y}),J.recordException(Z)};xA0.setSpanWithError=aQ8;var rQ8=(J,Z)=>{let X=bA0(J.headers);if(X===null)return;if(xA0.isCompressed(J.headers))Z[W0.ATTR_HTTP_REQUEST_CONTENT_LENGTH]=X;else Z[W0.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED]=X};xA0.setRequestContentLengthAttribute=rQ8;var tQ8=(J,Z)=>{let X=bA0(J.headers);if(X===null)return;if(xA0.isCompressed(J.headers))Z[W0.ATTR_HTTP_RESPONSE_CONTENT_LENGTH]=X;else Z[W0.ATTR_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED]=X};xA0.setResponseContentLengthAttribute=tQ8;function bA0(J){let Z=J["content-length"];if(Z===void 0)return null;let X=parseInt(Z,10);if(isNaN(X))return null;return X}var eQ8=(J)=>{let Z=J["content-encoding"];return!!Z&&Z!=="identity"};xA0.isCompressed=eQ8;function JG8(J){let{hostname:Z,pathname:X,port:Y,username:$,password:z,search:W,protocol:Q,hash:G,href:K,origin:q,host:H}=new URL(J),F={protocol:Q,hostname:Z&&Z[0]==="["?Z.slice(1,-1):Z,hash:G,search:W,pathname:X,path:`${X||""}${W||""}`,href:K,origin:q,host:H};if(Y!=="")F.port=Number(Y);if($||z)F.auth=`${decodeURIComponent($)}:${decodeURIComponent(z)}`;return F}var ZG8=(J,Z,X)=>{let Y,$,z,W=!1;if(typeof Z==="string"){try{let G=JG8(Z);z=G,Y=G.pathname||"/"}catch(G){W=!0,J.verbose("Unable to parse URL provided to HTTP request, using fallback to determine path. Original error:",G),z={path:Z},Y=z.path||"/"}if($=`${z.protocol||"http:"}//${z.host}`,X!==void 0)Object.assign(z,X)}else if(Z instanceof pQ8.URL){if(z={protocol:Z.protocol,hostname:typeof Z.hostname==="string"&&Z.hostname.startsWith("[")?Z.hostname.slice(1,-1):Z.hostname,path:`${Z.pathname||""}${Z.search||""}`},Z.port!=="")z.port=Number(Z.port);if(Z.username||Z.password)z.auth=`${Z.username}:${Z.password}`;if(Y=Z.pathname,$=Z.origin,X!==void 0)Object.assign(z,X)}else{z=Object.assign({protocol:Z.host?"http:":void 0},Z);let G=z.host||(z.port!=null?`${z.hostname}${z.port}`:z.hostname);if($=`${z.protocol||"http:"}//${G}`,Y=Z.pathname,!Y&&z.path)try{Y=new URL(z.path,$).pathname||"/"}catch(K){Y="/"}}let Q=z.method?z.method.toUpperCase():"GET";return{origin:$,pathname:Y,method:Q,optionsParsed:z,invalidUrl:W}};xA0.getRequestInfo=ZG8;var XG8=(J)=>{if(!J)return!1;let Z=typeof J;return Z==="string"||Z==="object"&&!Array.isArray(J)};xA0.isValidOptionsType=XG8;var YG8=(J)=>{if(J.hostname&&J.port)return{hostname:J.hostname,port:J.port};let Z=J.host?.match(/^([^:/ ]+)(:\d{1,5})?/)||null,X=J.hostname||(Z===null?"localhost":Z[1]),Y=J.port;if(!Y)if(Z&&Z[2])Y=Z[2].substring(1);else Y=J.protocol==="https:"?"443":"80";return{hostname:X,port:Y}};xA0.extractHostnameAndPort=YG8;var $G8=(J,Z,X,Y)=>{let{hostname:$,port:z}=Z,W=J.method??"GET",Q=yA0(W),G=J.headers||{},K=G["user-agent"],q=xA0.getAbsoluteUrl(J,G,`${Z.component}:`),H={[W0.ATTR_HTTP_URL]:q,[W0.ATTR_HTTP_METHOD]:W,[W0.ATTR_HTTP_TARGET]:J.path||"/",[W0.ATTR_NET_PEER_NAME]:$,[W0.ATTR_HTTP_HOST]:G.host??`${$}:${z}`},F={[M6.ATTR_HTTP_REQUEST_METHOD]:Q,[M6.ATTR_SERVER_ADDRESS]:$,[M6.ATTR_SERVER_PORT]:Number(z),[M6.ATTR_URL_FULL]:q,[M6.ATTR_USER_AGENT_ORIGINAL]:K};if(W!==Q)F[M6.ATTR_HTTP_REQUEST_METHOD_ORIGINAL]=W;if(Y&&K)F[W0.ATTR_USER_AGENT_SYNTHETIC_TYPE]=hA0(K);if(K!==void 0)H[W0.ATTR_HTTP_USER_AGENT]=K;switch(X){case qz.SemconvStability.STABLE:return Object.assign(F,Z.hookAttributes);case qz.SemconvStability.OLD:return Object.assign(H,Z.hookAttributes)}return Object.assign(H,F,Z.hookAttributes)};xA0.getOutgoingRequestAttributes=$G8;var zG8=(J)=>{let Z={};return Z[W0.ATTR_HTTP_METHOD]=J[W0.ATTR_HTTP_METHOD],Z[W0.ATTR_NET_PEER_NAME]=J[W0.ATTR_NET_PEER_NAME],Z};xA0.getOutgoingRequestMetricAttributes=zG8;var WG8=(J,Z)=>{if(J)if(Z[W0.ATTR_HTTP_FLAVOR]=J,J.toUpperCase()!=="QUIC")Z[W0.ATTR_NET_TRANSPORT]=W0.NET_TRANSPORT_VALUE_IP_TCP;else Z[W0.ATTR_NET_TRANSPORT]=W0.NET_TRANSPORT_VALUE_IP_UDP};xA0.setAttributesFromHttpKind=WG8;var hA0=(J)=>{let Z=String(J).toLowerCase();for(let X of kA0.SYNTHETIC_TEST_NAMES)if(Z.includes(X))return W0.USER_AGENT_SYNTHETIC_TYPE_VALUE_TEST;for(let X of kA0.SYNTHETIC_BOT_NAMES)if(Z.includes(X))return W0.USER_AGENT_SYNTHETIC_TYPE_VALUE_BOT;return},QG8=(J,Z)=>{let{statusCode:X,statusMessage:Y,httpVersion:$,socket:z}=J,W={},Q={};if(X!=null)Q[M6.ATTR_HTTP_RESPONSE_STATUS_CODE]=X;if(z){let{remoteAddress:G,remotePort:K}=z;W[W0.ATTR_NET_PEER_IP]=G,W[W0.ATTR_NET_PEER_PORT]=K,Q[M6.ATTR_NETWORK_PEER_ADDRESS]=G,Q[M6.ATTR_NETWORK_PEER_PORT]=K,Q[M6.ATTR_NETWORK_PROTOCOL_VERSION]=J.httpVersion}if(xA0.setResponseContentLengthAttribute(J,W),X)W[W0.ATTR_HTTP_STATUS_CODE]=X,W[qv.AttributeNames.HTTP_STATUS_TEXT]=(Y||"").toUpperCase();switch(xA0.setAttributesFromHttpKind($,W),Z){case qz.SemconvStability.STABLE:return Q;case qz.SemconvStability.OLD:return W}return Object.assign(W,Q)};xA0.getOutgoingRequestAttributesOnResponse=QG8;var GG8=(J)=>{let Z={};return Z[W0.ATTR_NET_PEER_PORT]=J[W0.ATTR_NET_PEER_PORT],Z[W0.ATTR_HTTP_STATUS_CODE]=J[W0.ATTR_HTTP_STATUS_CODE],Z[W0.ATTR_HTTP_FLAVOR]=J[W0.ATTR_HTTP_FLAVOR],Z};xA0.getOutgoingRequestMetricAttributesOnResponse=GG8;var KG8=(J)=>{let Z={};if(J[M6.ATTR_NETWORK_PROTOCOL_VERSION])Z[M6.ATTR_NETWORK_PROTOCOL_VERSION]=J[M6.ATTR_NETWORK_PROTOCOL_VERSION];if(J[M6.ATTR_HTTP_RESPONSE_STATUS_CODE])Z[M6.ATTR_HTTP_RESPONSE_STATUS_CODE]=J[M6.ATTR_HTTP_RESPONSE_STATUS_CODE];return Z};xA0.getOutgoingStableRequestMetricAttributesOnResponse=KG8;function $q(J,Z){let X=J.split(":");if(X.length===1){if(Z==="http")return{host:X[0],port:"80"};if(Z==="https")return{host:X[0],port:"443"};return{host:X[0]}}if(X.length===2)return{host:X[0],port:X[1]};if(X[0].startsWith("[")){if(X[X.length-1].endsWith("]")){if(Z==="http")return{host:J,port:"80"};if(Z==="https")return{host:J,port:"443"}}else if(X[X.length-2].endsWith("]"))return{host:X.slice(0,-1).join(":"),port:X[X.length-1]}}return{host:J}}function qG8(J,Z){let X=J.headers.forwarded;if(X){for(let z of vA0(X))if(z.host)return $q(z.host,z.proto)}let Y=J.headers["x-forwarded-host"];if(typeof Y==="string"){if(typeof J.headers["x-forwarded-proto"]==="string")return $q(Y,J.headers["x-forwarded-proto"]);if(Array.isArray(J.headers["x-forwarded-proto"]))return $q(Y,J.headers["x-forwarded-proto"][0]);return $q(Y)}else if(Array.isArray(Y)&&typeof Y[0]==="string"&&Y[0].length>0){if(typeof J.headers["x-forwarded-proto"]==="string")return $q(Y[0],J.headers["x-forwarded-proto"]);if(Array.isArray(J.headers["x-forwarded-proto"]))return $q(Y[0],J.headers["x-forwarded-proto"][0]);return $q(Y[0])}let $=J.headers.host;if(typeof $==="string"&&$.length>0)return $q($,Z);return null}function _A0(J){let Z=J.headers.forwarded;if(Z){for(let $ of vA0(Z))if($.for)return $.for}let X=J.headers["x-forwarded-for"];if(typeof X==="string")return X;else if(Array.isArray(X))return X[0];let Y=J.socket.remoteAddress;if(Y)return Y;return null}xA0.getRemoteClientAddress=_A0;function BG8(J,Z,X){try{if(Z.headers.host)return new URL(Z.url??"/",`${J}://${Z.headers.host}`);else{let Y=new URL(Z.url??"/",`${J}://localhost`);return{pathname:Y.pathname,search:Y.search,toString:function(){return Y.pathname+Y.search}}}}catch(Y){return X.verbose("Unable to get URL from request",Y),{}}}var HG8=(J,Z,X)=>{let Y=J.headers,$=Y["user-agent"],z=Y["x-forwarded-for"],W=J.httpVersion,Q=Y.host,G=Q?.replace(/^(.*)(:[0-9]{1,5})/,"$1")||"localhost",K=J.method,q=yA0(K),H=qG8(J,Z.component),F=Z.serverName,U=_A0(J),D={[M6.ATTR_HTTP_REQUEST_METHOD]:q,[M6.ATTR_URL_SCHEME]:Z.component,[M6.ATTR_SERVER_ADDRESS]:H?.host,[M6.ATTR_NETWORK_PEER_ADDRESS]:J.socket.remoteAddress,[M6.ATTR_NETWORK_PEER_PORT]:J.socket.remotePort,[M6.ATTR_NETWORK_PROTOCOL_VERSION]:J.httpVersion,[M6.ATTR_USER_AGENT_ORIGINAL]:$},V=BG8(Z.component,J,X);if(V?.pathname!=null)D[M6.ATTR_URL_PATH]=V.pathname;if(V.search)D[M6.ATTR_URL_QUERY]=V.search.slice(1);if(U!=null)D[M6.ATTR_CLIENT_ADDRESS]=U.split(",")[0];if(H?.port!=null)D[M6.ATTR_SERVER_PORT]=Number(H.port);if(K!==q)D[M6.ATTR_HTTP_REQUEST_METHOD_ORIGINAL]=K;if(Z.enableSyntheticSourceDetection&&$)D[W0.ATTR_USER_AGENT_SYNTHETIC_TYPE]=hA0($);let w={[W0.ATTR_HTTP_URL]:V.toString(),[W0.ATTR_HTTP_HOST]:Q,[W0.ATTR_NET_HOST_NAME]:G,[W0.ATTR_HTTP_METHOD]:K,[W0.ATTR_HTTP_SCHEME]:Z.component};if(typeof z==="string")w[W0.ATTR_HTTP_CLIENT_IP]=z.split(",")[0];if(typeof F==="string")w[W0.ATTR_HTTP_SERVER_NAME]=F;if(V?.pathname)w[W0.ATTR_HTTP_TARGET]=V?.pathname+V?.search||"/";if($!==void 0)w[W0.ATTR_HTTP_USER_AGENT]=$;switch(xA0.setRequestContentLengthAttribute(J,w),xA0.setAttributesFromHttpKind(W,w),Z.semconvStability){case qz.SemconvStability.STABLE:return Object.assign(D,Z.hookAttributes);case qz.SemconvStability.OLD:return Object.assign(w,Z.hookAttributes)}return Object.assign(w,D,Z.hookAttributes)};xA0.getIncomingRequestAttributes=HG8;var FG8=(J)=>{let Z={};return Z[W0.ATTR_HTTP_SCHEME]=J[W0.ATTR_HTTP_SCHEME],Z[W0.ATTR_HTTP_METHOD]=J[W0.ATTR_HTTP_METHOD],Z[W0.ATTR_NET_HOST_NAME]=J[W0.ATTR_NET_HOST_NAME],Z[W0.ATTR_HTTP_FLAVOR]=J[W0.ATTR_HTTP_FLAVOR],Z};xA0.getIncomingRequestMetricAttributes=FG8;var UG8=(J,Z,X)=>{let{socket:Y}=J,{statusCode:$,statusMessage:z}=Z,W={[M6.ATTR_HTTP_RESPONSE_STATUS_CODE]:$},Q=(0,fA0.getRPCMetadata)(VC.context.active()),G={};if(Y){let{localAddress:K,localPort:q,remoteAddress:H,remotePort:F}=Y;G[W0.ATTR_NET_HOST_IP]=K,G[W0.ATTR_NET_HOST_PORT]=q,G[W0.ATTR_NET_PEER_IP]=H,G[W0.ATTR_NET_PEER_PORT]=F}if(G[W0.ATTR_HTTP_STATUS_CODE]=$,G[qv.AttributeNames.HTTP_STATUS_TEXT]=(z||"").toUpperCase(),Q?.type===fA0.RPCType.HTTP&&Q.route!==void 0)G[M6.ATTR_HTTP_ROUTE]=Q.route,W[M6.ATTR_HTTP_ROUTE]=Q.route;switch(X){case qz.SemconvStability.STABLE:return W;case qz.SemconvStability.OLD:return G}return Object.assign(G,W)};xA0.getIncomingRequestAttributesOnResponse=UG8;var OG8=(J)=>{let Z={};if(Z[W0.ATTR_HTTP_STATUS_CODE]=J[W0.ATTR_HTTP_STATUS_CODE],Z[W0.ATTR_NET_HOST_PORT]=J[W0.ATTR_NET_HOST_PORT],J[M6.ATTR_HTTP_ROUTE]!==void 0)Z[M6.ATTR_HTTP_ROUTE]=J[M6.ATTR_HTTP_ROUTE];return Z};xA0.getIncomingRequestMetricAttributesOnResponse=OG8;var DG8=(J)=>{let Z={};if(J[M6.ATTR_HTTP_ROUTE]!==void 0)Z[M6.ATTR_HTTP_ROUTE]=J[M6.ATTR_HTTP_ROUTE];if(J[M6.ATTR_HTTP_RESPONSE_STATUS_CODE])Z[M6.ATTR_HTTP_RESPONSE_STATUS_CODE]=J[M6.ATTR_HTTP_RESPONSE_STATUS_CODE];return Z};xA0.getIncomingStableRequestMetricAttributesOnResponse=DG8;function VG8(J,Z){let X=new Map;for(let Y=0,$=Z.length;Y<$;Y++){let z=Z[Y].toLowerCase();X.set(z,z.replace(/-/g,"_"))}return(Y,$)=>{for(let z of X.keys()){let W=$(z);if(W===void 0)continue;let Q=X.get(z),G=`http.${J}.header.${Q}`;if(typeof W==="string")Y.setAttribute(G,[W]);else if(Array.isArray(W))Y.setAttribute(G,W);else Y.setAttribute(G,[W])}}}xA0.headerCapture=VG8;var IG8=new Set(["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH"]);function yA0(J){if(J==null)return"GET";let Z=J.toUpperCase();if(IG8.has(Z))return Z;return"_OTHER"}function vA0(J){try{return nQ8(J)}catch{return[]}}});var iA0=B((pA0)=>{Object.defineProperty(pA0,"__esModule",{value:!0});pA0.HttpInstrumentation=void 0;var G6=C(),zq=EZ1(),yG8=p("url"),vG8=FA0(),r5=J6(),bZ1=p("events"),o8=j1(),R8=cA0();class lA0 extends r5.InstrumentationBase{_spanNotEnded=new WeakSet;_headerCapture;_semconvStability=r5.SemconvStability.OLD;constructor(J={}){super("@opentelemetry/instrumentation-http",vG8.VERSION,J);this._headerCapture=this._createHeaderCapture(),this._semconvStability=(0,r5.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}_updateMetricInstruments(){this._oldHttpServerDurationHistogram=this.meter.createHistogram("http.server.duration",{description:"Measures the duration of inbound HTTP requests.",unit:"ms",valueType:G6.ValueType.DOUBLE}),this._oldHttpClientDurationHistogram=this.meter.createHistogram("http.client.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"ms",valueType:G6.ValueType.DOUBLE}),this._stableHttpServerDurationHistogram=this.meter.createHistogram(o8.METRIC_HTTP_SERVER_REQUEST_DURATION,{description:"Duration of HTTP server requests.",unit:"s",valueType:G6.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[0.005,0.01,0.025,0.05,0.075,0.1,0.25,0.5,0.75,1,2.5,5,7.5,10]}}),this._stableHttpClientDurationHistogram=this.meter.createHistogram(o8.METRIC_HTTP_CLIENT_REQUEST_DURATION,{description:"Duration of HTTP client requests.",unit:"s",valueType:G6.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[0.005,0.01,0.025,0.05,0.075,0.1,0.25,0.5,0.75,1,2.5,5,7.5,10]}})}_recordServerDuration(J,Z,X){if(this._semconvStability&r5.SemconvStability.OLD)this._oldHttpServerDurationHistogram.record(J,Z);if(this._semconvStability&r5.SemconvStability.STABLE)this._stableHttpServerDurationHistogram.record(J/1000,X)}_recordClientDuration(J,Z,X){if(this._semconvStability&r5.SemconvStability.OLD)this._oldHttpClientDurationHistogram.record(J,Z);if(this._semconvStability&r5.SemconvStability.STABLE)this._stableHttpClientDurationHistogram.record(J/1000,X)}setConfig(J={}){super.setConfig(J),this._headerCapture=this._createHeaderCapture()}init(){return[this._getHttpsInstrumentation(),this._getHttpInstrumentation()]}_getHttpInstrumentation(){return new r5.InstrumentationNodeModuleDefinition("http",["*"],(J)=>{let Z=J[Symbol.toStringTag]==="Module";if(!this.getConfig().disableOutgoingRequestInstrumentation){let X=this._wrap(J,"request",this._getPatchOutgoingRequestFunction("http")),Y=this._wrap(J,"get",this._getPatchOutgoingGetFunction(X));if(Z)J.default.request=X,J.default.get=Y}if(!this.getConfig().disableIncomingRequestInstrumentation)this._wrap(J.Server.prototype,"emit",this._getPatchIncomingRequestFunction("http"));return J},(J)=>{if(J===void 0)return;if(!this.getConfig().disableOutgoingRequestInstrumentation)this._unwrap(J,"request"),this._unwrap(J,"get");if(!this.getConfig().disableIncomingRequestInstrumentation)this._unwrap(J.Server.prototype,"emit")})}_getHttpsInstrumentation(){return new r5.InstrumentationNodeModuleDefinition("https",["*"],(J)=>{let Z=J[Symbol.toStringTag]==="Module";if(!this.getConfig().disableOutgoingRequestInstrumentation){let X=this._wrap(J,"request",this._getPatchHttpsOutgoingRequestFunction("https")),Y=this._wrap(J,"get",this._getPatchHttpsOutgoingGetFunction(X));if(Z)J.default.request=X,J.default.get=Y}if(!this.getConfig().disableIncomingRequestInstrumentation)this._wrap(J.Server.prototype,"emit",this._getPatchIncomingRequestFunction("https"));return J},(J)=>{if(J===void 0)return;if(!this.getConfig().disableOutgoingRequestInstrumentation)this._unwrap(J,"request"),this._unwrap(J,"get");if(!this.getConfig().disableIncomingRequestInstrumentation)this._unwrap(J.Server.prototype,"emit")})}_getPatchIncomingRequestFunction(J){return(Z)=>{return this._incomingRequestFunction(J,Z)}}_getPatchOutgoingRequestFunction(J){return(Z)=>{return this._outgoingRequestFunction(J,Z)}}_getPatchOutgoingGetFunction(J){return(Z)=>{return function X(Y,...$){let z=J(Y,...$);return z.end(),z}}}_getPatchHttpsOutgoingRequestFunction(J){return(Z)=>{let X=this;return function Y($,...z){if(J==="https"&&typeof $==="object"&&$?.constructor?.name!=="URL")$=Object.assign({},$),X._setDefaultOptions($);return X._getPatchOutgoingRequestFunction(J)(Z)($,...z)}}}_setDefaultOptions(J){J.protocol=J.protocol||"https:",J.port=J.port||443}_getPatchHttpsOutgoingGetFunction(J){return(Z)=>{let X=this;return function Y($,...z){return X._getPatchOutgoingGetFunction(J)(Z)($,...z)}}}_traceClientRequest(J,Z,X,Y,$){if(this.getConfig().requestHook)this._callRequestHook(Z,J);let z=!1;return J.prependListener("response",(W)=>{if(this._diag.debug("outgoingRequest on response()"),J.listenerCount("response")<=1)W.resume();let Q=(0,R8.getOutgoingRequestAttributesOnResponse)(W,this._semconvStability);if(Z.setAttributes(Q),Y=Object.assign(Y,(0,R8.getOutgoingRequestMetricAttributesOnResponse)(Q)),$=Object.assign($,(0,R8.getOutgoingStableRequestMetricAttributesOnResponse)(Q)),this.getConfig().responseHook)this._callResponseHook(Z,W);this._headerCapture.client.captureRequestHeaders(Z,(K)=>J.getHeader(K)),this._headerCapture.client.captureResponseHeaders(Z,(K)=>W.headers[K]),G6.context.bind(G6.context.active(),W);let G=()=>{if(this._diag.debug("outgoingRequest on end()"),z)return;z=!0;let K;if(W.aborted&&!W.complete)K={code:G6.SpanStatusCode.ERROR};else K={code:(0,R8.parseResponseStatus)(G6.SpanKind.CLIENT,W.statusCode)};if(Z.setStatus(K),this.getConfig().applyCustomAttributesOnSpan)(0,r5.safeExecuteInTheMiddle)(()=>this.getConfig().applyCustomAttributesOnSpan(Z,J,W),()=>{},!0);this._closeHttpSpan(Z,G6.SpanKind.CLIENT,X,Y,$)};W.on("end",G),W.on(bZ1.errorMonitor,(K)=>{if(this._diag.debug("outgoingRequest on error()",K),z)return;z=!0,(0,R8.setSpanWithError)(Z,K,this._semconvStability),Z.setStatus({code:G6.SpanStatusCode.ERROR,message:K.message}),this._closeHttpSpan(Z,G6.SpanKind.CLIENT,X,Y,$)})}),J.on("close",()=>{if(this._diag.debug("outgoingRequest on request close()"),J.aborted||z)return;z=!0,this._closeHttpSpan(Z,G6.SpanKind.CLIENT,X,Y,$)}),J.on(bZ1.errorMonitor,(W)=>{if(this._diag.debug("outgoingRequest on request error()",W),z)return;z=!0,(0,R8.setSpanWithError)(Z,W,this._semconvStability),this._closeHttpSpan(Z,G6.SpanKind.CLIENT,X,Y,$)}),this._diag.debug("http.ClientRequest return request"),J}_incomingRequestFunction(J,Z){let X=this;return function Y($,...z){if($!=="request")return Z.apply(this,[$,...z]);let W=z[0],Q=z[1],G=W.method||"GET";if(X._diag.debug(`${J} instrumentation incomingRequest`),(0,r5.safeExecuteInTheMiddle)(()=>X.getConfig().ignoreIncomingRequestHook?.(W),(P)=>{if(P!=null)X._diag.error("caught ignoreIncomingRequestHook error: ",P)},!0))return G6.context.with((0,zq.suppressTracing)(G6.context.active()),()=>{return G6.context.bind(G6.context.active(),W),G6.context.bind(G6.context.active(),Q),Z.apply(this,[$,...z])});let K=W.headers,q=(0,R8.getIncomingRequestAttributes)(W,{component:J,serverName:X.getConfig().serverName,hookAttributes:X._callStartSpanHook(W,X.getConfig().startIncomingSpanHook),semconvStability:X._semconvStability,enableSyntheticSourceDetection:X.getConfig().enableSyntheticSourceDetection||!1},X._diag),H={kind:G6.SpanKind.SERVER,attributes:q},F=(0,zq.hrTime)(),U=(0,R8.getIncomingRequestMetricAttributes)(q),D={[o8.ATTR_HTTP_REQUEST_METHOD]:q[o8.ATTR_HTTP_REQUEST_METHOD],[o8.ATTR_URL_SCHEME]:q[o8.ATTR_URL_SCHEME]};if(q[o8.ATTR_NETWORK_PROTOCOL_VERSION])D[o8.ATTR_NETWORK_PROTOCOL_VERSION]=q[o8.ATTR_NETWORK_PROTOCOL_VERSION];let V=G6.propagation.extract(G6.ROOT_CONTEXT,K),w=X._startHttpSpan(G,H,V),M={type:zq.RPCType.HTTP,span:w};return G6.context.with((0,zq.setRPCMetadata)(G6.trace.setSpan(V,w),M),()=>{if(G6.context.bind(G6.context.active(),W),G6.context.bind(G6.context.active(),Q),X.getConfig().requestHook)X._callRequestHook(w,W);if(X.getConfig().responseHook)X._callResponseHook(w,Q);X._headerCapture.server.captureRequestHeaders(w,(R)=>W.headers[R]);let P=!1;return Q.on("close",()=>{if(P)return;X._onServerResponseFinish(W,Q,w,U,D,F)}),Q.on(bZ1.errorMonitor,(R)=>{P=!0,X._onServerResponseError(w,U,D,F,R)}),(0,r5.safeExecuteInTheMiddle)(()=>Z.apply(this,[$,...z]),(R)=>{if(R)throw(0,R8.setSpanWithError)(w,R,X._semconvStability),X._closeHttpSpan(w,G6.SpanKind.SERVER,F,U,D),R})})}}_outgoingRequestFunction(J,Z){let X=this;return function Y($,...z){if(!(0,R8.isValidOptionsType)($))return Z.apply(this,[$,...z]);let W=typeof z[0]==="object"&&(typeof $==="string"||$ instanceof yG8.URL)?z.shift():void 0,{method:Q,invalidUrl:G,optionsParsed:K}=(0,R8.getRequestInfo)(X._diag,$,W);if((0,r5.safeExecuteInTheMiddle)(()=>X.getConfig().ignoreOutgoingRequestHook?.(K),(f)=>{if(f!=null)X._diag.error("caught ignoreOutgoingRequestHook error: ",f)},!0))return Z.apply(this,[K,...z]);let{hostname:q,port:H}=(0,R8.extractHostnameAndPort)(K),F=(0,R8.getOutgoingRequestAttributes)(K,{component:J,port:H,hostname:q,hookAttributes:X._callStartSpanHook(K,X.getConfig().startOutgoingSpanHook)},X._semconvStability,X.getConfig().enableSyntheticSourceDetection||!1),U=(0,zq.hrTime)(),D=(0,R8.getOutgoingRequestMetricAttributes)(F),V={[o8.ATTR_HTTP_REQUEST_METHOD]:F[o8.ATTR_HTTP_REQUEST_METHOD],[o8.ATTR_SERVER_ADDRESS]:F[o8.ATTR_SERVER_ADDRESS],[o8.ATTR_SERVER_PORT]:F[o8.ATTR_SERVER_PORT]};if(F[o8.ATTR_HTTP_RESPONSE_STATUS_CODE])V[o8.ATTR_HTTP_RESPONSE_STATUS_CODE]=F[o8.ATTR_HTTP_RESPONSE_STATUS_CODE];if(F[o8.ATTR_NETWORK_PROTOCOL_VERSION])V[o8.ATTR_NETWORK_PROTOCOL_VERSION]=F[o8.ATTR_NETWORK_PROTOCOL_VERSION];let w={kind:G6.SpanKind.CLIENT,attributes:F},M=X._startHttpSpan(Q,w),P=G6.context.active(),R=G6.trace.setSpan(P,M);if(!K.headers)K.headers={};else K.headers=Object.assign({},K.headers);return G6.propagation.inject(R,K.headers),G6.context.with(R,()=>{let f=z[z.length-1];if(typeof f==="function")z[z.length-1]=G6.context.bind(P,f);let d=(0,r5.safeExecuteInTheMiddle)(()=>{if(G)return Z.apply(this,[$,...z]);else return Z.apply(this,[K,...z])},(v)=>{if(v)throw(0,R8.setSpanWithError)(M,v,X._semconvStability),X._closeHttpSpan(M,G6.SpanKind.CLIENT,U,D,V),v});return X._diag.debug(`${J} instrumentation outgoingRequest`),G6.context.bind(P,d),X._traceClientRequest(d,M,U,D,V)})}}_onServerResponseFinish(J,Z,X,Y,$,z){let W=(0,R8.getIncomingRequestAttributesOnResponse)(J,Z,this._semconvStability);Y=Object.assign(Y,(0,R8.getIncomingRequestMetricAttributesOnResponse)(W)),$=Object.assign($,(0,R8.getIncomingStableRequestMetricAttributesOnResponse)(W)),this._headerCapture.server.captureResponseHeaders(X,(G)=>Z.getHeader(G)),X.setAttributes(W).setStatus({code:(0,R8.parseResponseStatus)(G6.SpanKind.SERVER,Z.statusCode)});let Q=W[o8.ATTR_HTTP_ROUTE];if(Q)X.updateName(`${J.method||"GET"} ${Q}`);if(this.getConfig().applyCustomAttributesOnSpan)(0,r5.safeExecuteInTheMiddle)(()=>this.getConfig().applyCustomAttributesOnSpan(X,J,Z),()=>{},!0);this._closeHttpSpan(X,G6.SpanKind.SERVER,z,Y,$)}_onServerResponseError(J,Z,X,Y,$){(0,R8.setSpanWithError)(J,$,this._semconvStability),this._closeHttpSpan(J,G6.SpanKind.SERVER,Y,Z,X)}_startHttpSpan(J,Z,X=G6.context.active()){let Y=Z.kind===G6.SpanKind.CLIENT?this.getConfig().requireParentforOutgoingSpans:this.getConfig().requireParentforIncomingSpans,$,z=G6.trace.getSpan(X);if(Y===!0&&z===void 0)$=G6.trace.wrapSpanContext(G6.INVALID_SPAN_CONTEXT);else if(Y===!0&&z?.spanContext().isRemote)$=z;else $=this.tracer.startSpan(J,Z,X);return this._spanNotEnded.add($),$}_closeHttpSpan(J,Z,X,Y,$){if(!this._spanNotEnded.has(J))return;J.end(),this._spanNotEnded.delete(J);let z=(0,zq.hrTimeToMilliseconds)((0,zq.hrTimeDuration)(X,(0,zq.hrTime)()));if(Z===G6.SpanKind.SERVER)this._recordServerDuration(z,Y,$);else if(Z===G6.SpanKind.CLIENT)this._recordClientDuration(z,Y,$)}_callResponseHook(J,Z){(0,r5.safeExecuteInTheMiddle)(()=>this.getConfig().responseHook(J,Z),()=>{},!0)}_callRequestHook(J,Z){(0,r5.safeExecuteInTheMiddle)(()=>this.getConfig().requestHook(J,Z),()=>{},!0)}_callStartSpanHook(J,Z){if(typeof Z==="function")return(0,r5.safeExecuteInTheMiddle)(()=>Z(J),()=>{},!0)}_createHeaderCapture(){let J=this.getConfig();return{client:{captureRequestHeaders:(0,R8.headerCapture)("request",J.headersToSpanAttributes?.client?.requestHeaders??[]),captureResponseHeaders:(0,R8.headerCapture)("response",J.headersToSpanAttributes?.client?.responseHeaders??[])},server:{captureRequestHeaders:(0,R8.headerCapture)("request",J.headersToSpanAttributes?.server?.requestHeaders??[]),captureResponseHeaders:(0,R8.headerCapture)("response",J.headersToSpanAttributes?.server?.responseHeaders??[])}}}}pA0.HttpInstrumentation=lA0});var oA0=B((hZ1)=>{Object.defineProperty(hZ1,"__esModule",{value:!0});hZ1.HttpInstrumentation=void 0;var xG8=iA0();Object.defineProperty(hZ1,"HttpInstrumentation",{enumerable:!0,get:function(){return xG8.HttpInstrumentation}})});var rA0=B((sA0)=>{Object.defineProperty(sA0,"__esModule",{value:!0});sA0.endSpan=void 0;var dG8=C(),uG8=(J,Z)=>{if(Z)J.recordException(Z),J.setStatus({code:dG8.SpanStatusCode.ERROR,message:Z.message});J.end()};sA0.endSpan=uG8});var Bv=B((tA0)=>{Object.defineProperty(tA0,"__esModule",{value:!0});tA0.defaultDbStatementSerializer=void 0;var mG8=[{regex:/^ECHO/i,args:0},{regex:/^(LPUSH|MSET|PFA|PUBLISH|RPUSH|SADD|SET|SPUBLISH|XADD|ZADD)/i,args:1},{regex:/^(HSET|HMSET|LSET|LINSERT)/i,args:2},{regex:/^(ACL|BIT|B[LRZ]|CLIENT|CLUSTER|CONFIG|COMMAND|DECR|DEL|EVAL|EX|FUNCTION|GEO|GET|HINCR|HMGET|HSCAN|INCR|L[TRLM]|MEMORY|P[EFISTU]|RPOP|S[CDIMORSU]|XACK|X[CDGILPRT]|Z[CDILMPRS])/i,args:-1}],cG8=(J,Z)=>{if(Array.isArray(Z)&&Z.length){let X=mG8.find(({regex:$})=>{return $.test(J)})?.args??0,Y=X>=0?Z.slice(0,X):Z;if(Z.length>Y.length)Y.push(`[${Z.length-X} other arguments]`);return`${J} ${Y.join(" ")}`}return J};tA0.defaultDbStatementSerializer=cG8});var XM0=B((JM0)=>{Object.defineProperty(JM0,"__esModule",{value:!0});JM0.PACKAGE_NAME=JM0.PACKAGE_VERSION=void 0;JM0.PACKAGE_VERSION="0.49.0";JM0.PACKAGE_NAME="@opentelemetry/instrumentation-ioredis"});var KM0=B((QM0)=>{Object.defineProperty(QM0,"__esModule",{value:!0});QM0.IORedisInstrumentation=void 0;var Wq=C(),Hv=J6(),dZ=j1(),YM0=J6(),IC=rA0(),pG8=Bv(),$M0=XM0(),zM0={requireParentSpan:!0};class WM0 extends Hv.InstrumentationBase{constructor(J={}){super($M0.PACKAGE_NAME,$M0.PACKAGE_VERSION,{...zM0,...J})}setConfig(J={}){super.setConfig({...zM0,...J})}init(){return[new Hv.InstrumentationNodeModuleDefinition("ioredis",[">=2.0.0 <6"],(J,Z)=>{let X=J[Symbol.toStringTag]==="Module"?J.default:J;if((0,Hv.isWrapped)(X.prototype.sendCommand))this._unwrap(X.prototype,"sendCommand");if(this._wrap(X.prototype,"sendCommand",this._patchSendCommand(Z)),(0,Hv.isWrapped)(X.prototype.connect))this._unwrap(X.prototype,"connect");return this._wrap(X.prototype,"connect",this._patchConnection()),J},(J)=>{if(J===void 0)return;let Z=J[Symbol.toStringTag]==="Module"?J.default:J;this._unwrap(Z.prototype,"sendCommand"),this._unwrap(Z.prototype,"connect")})]}_patchSendCommand(J){return(Z)=>{return this._traceSendCommand(Z,J)}}_patchConnection(){return(J)=>{return this._traceConnection(J)}}_traceSendCommand(J,Z){let X=this;return function(Y){if(arguments.length<1||typeof Y!=="object")return J.apply(this,arguments);let $=X.getConfig(),z=$.dbStatementSerializer||pG8.defaultDbStatementSerializer,W=Wq.trace.getSpan(Wq.context.active())===void 0;if($.requireParentSpan===!0&&W)return J.apply(this,arguments);let Q=X.tracer.startSpan(Y.name,{kind:Wq.SpanKind.CLIENT,attributes:{[dZ.SEMATTRS_DB_SYSTEM]:dZ.DBSYSTEMVALUES_REDIS,[dZ.SEMATTRS_DB_STATEMENT]:z(Y.name,Y.args)}}),{requestHook:G}=$;if(G)(0,YM0.safeExecuteInTheMiddle)(()=>G(Q,{moduleVersion:Z,cmdName:Y.name,cmdArgs:Y.args}),(H)=>{if(H)Wq.diag.error("ioredis instrumentation: request hook failed",H)},!0);let{host:K,port:q}=this.options;Q.setAttributes({[dZ.SEMATTRS_NET_PEER_NAME]:K,[dZ.SEMATTRS_NET_PEER_PORT]:q,[dZ.SEMATTRS_DB_CONNECTION_STRING]:`redis://${K}:${q}`});try{let H=J.apply(this,arguments),F=Y.resolve;Y.resolve=function(D){(0,YM0.safeExecuteInTheMiddle)(()=>$.responseHook?.(Q,Y.name,Y.args,D),(V)=>{if(V)Wq.diag.error("ioredis instrumentation: response hook failed",V)},!0),(0,IC.endSpan)(Q,null),F(D)};let U=Y.reject;return Y.reject=function(D){(0,IC.endSpan)(Q,D),U(D)},H}catch(H){throw(0,IC.endSpan)(Q,H),H}}}_traceConnection(J){let Z=this;return function(){let X=Wq.trace.getSpan(Wq.context.active())===void 0;if(Z.getConfig().requireParentSpan===!0&&X)return J.apply(this,arguments);let Y=Z.tracer.startSpan("connect",{kind:Wq.SpanKind.CLIENT,attributes:{[dZ.SEMATTRS_DB_SYSTEM]:dZ.DBSYSTEMVALUES_REDIS,[dZ.SEMATTRS_DB_STATEMENT]:"connect"}}),{host:$,port:z}=this.options;Y.setAttributes({[dZ.SEMATTRS_NET_PEER_NAME]:$,[dZ.SEMATTRS_NET_PEER_PORT]:z,[dZ.SEMATTRS_DB_CONNECTION_STRING]:`redis://${$}:${z}`});try{let W=J.apply(this,arguments);return(0,IC.endSpan)(Y,null),W}catch(W){throw(0,IC.endSpan)(Y,W),W}}}}QM0.IORedisInstrumentation=WM0});var BM0=B((qM0)=>{Object.defineProperty(qM0,"__esModule",{value:!0})});var FM0=B((Qq)=>{var nG8=Qq&&Qq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),HM0=Qq&&Qq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))nG8(Z,J,X)};Object.defineProperty(Qq,"__esModule",{value:!0});HM0(KM0(),Qq);HM0(BM0(),Qq)});var DM0=B((UM0)=>{Object.defineProperty(UM0,"__esModule",{value:!0});UM0.EVENT_LISTENERS_SET=void 0;UM0.EVENT_LISTENERS_SET=Symbol("opentelemetry.instrumentation.kafkajs.eventListenersSet")});var wM0=B((VM0)=>{Object.defineProperty(VM0,"__esModule",{value:!0});VM0.bufferTextMapGetter=void 0;VM0.bufferTextMapGetter={get(J,Z){if(!J)return;let X=Object.keys(J);for(let Y of X)if(Y===Z||Y.toLowerCase()===Z)return J[Y]?.toString();return},keys(J){return J?Object.keys(J):[]}}});var NM0=B((AM0)=>{Object.defineProperty(AM0,"__esModule",{value:!0});AM0.METRIC_MESSAGING_PROCESS_DURATION=AM0.METRIC_MESSAGING_CLIENT_SENT_MESSAGES=AM0.METRIC_MESSAGING_CLIENT_OPERATION_DURATION=AM0.METRIC_MESSAGING_CLIENT_CONSUMED_MESSAGES=AM0.MESSAGING_SYSTEM_VALUE_KAFKA=AM0.MESSAGING_OPERATION_TYPE_VALUE_SEND=AM0.MESSAGING_OPERATION_TYPE_VALUE_RECEIVE=AM0.MESSAGING_OPERATION_TYPE_VALUE_PROCESS=AM0.ATTR_MESSAGING_SYSTEM=AM0.ATTR_MESSAGING_OPERATION_TYPE=AM0.ATTR_MESSAGING_OPERATION_NAME=AM0.ATTR_MESSAGING_KAFKA_OFFSET=AM0.ATTR_MESSAGING_KAFKA_MESSAGE_TOMBSTONE=AM0.ATTR_MESSAGING_KAFKA_MESSAGE_KEY=AM0.ATTR_MESSAGING_DESTINATION_PARTITION_ID=AM0.ATTR_MESSAGING_DESTINATION_NAME=AM0.ATTR_MESSAGING_BATCH_MESSAGE_COUNT=void 0;AM0.ATTR_MESSAGING_BATCH_MESSAGE_COUNT="messaging.batch.message_count";AM0.ATTR_MESSAGING_DESTINATION_NAME="messaging.destination.name";AM0.ATTR_MESSAGING_DESTINATION_PARTITION_ID="messaging.destination.partition.id";AM0.ATTR_MESSAGING_KAFKA_MESSAGE_KEY="messaging.kafka.message.key";AM0.ATTR_MESSAGING_KAFKA_MESSAGE_TOMBSTONE="messaging.kafka.message.tombstone";AM0.ATTR_MESSAGING_KAFKA_OFFSET="messaging.kafka.offset";AM0.ATTR_MESSAGING_OPERATION_NAME="messaging.operation.name";AM0.ATTR_MESSAGING_OPERATION_TYPE="messaging.operation.type";AM0.ATTR_MESSAGING_SYSTEM="messaging.system";AM0.MESSAGING_OPERATION_TYPE_VALUE_PROCESS="process";AM0.MESSAGING_OPERATION_TYPE_VALUE_RECEIVE="receive";AM0.MESSAGING_OPERATION_TYPE_VALUE_SEND="send";AM0.MESSAGING_SYSTEM_VALUE_KAFKA="kafka";AM0.METRIC_MESSAGING_CLIENT_CONSUMED_MESSAGES="messaging.client.consumed.messages";AM0.METRIC_MESSAGING_CLIENT_OPERATION_DURATION="messaging.client.operation.duration";AM0.METRIC_MESSAGING_CLIENT_SENT_MESSAGES="messaging.client.sent.messages";AM0.METRIC_MESSAGING_PROCESS_DURATION="messaging.process.duration"});var CM0=B((PM0)=>{Object.defineProperty(PM0,"__esModule",{value:!0});PM0.PACKAGE_NAME=PM0.PACKAGE_VERSION=void 0;PM0.PACKAGE_VERSION="0.10.0";PM0.PACKAGE_NAME="@opentelemetry/instrumentation-kafkajs"});var hM0=B((kM0)=>{Object.defineProperty(kM0,"__esModule",{value:!0});kM0.KafkaJsInstrumentation=void 0;var t5=C(),kY=J6(),Dw=j1(),jM0=DM0(),RM0=wM0(),J0=NM0(),EM0=CM0();function Fv(J,Z,X){return(Y)=>{J.add(Z,{...X,...Y?{[Dw.ATTR_ERROR_TYPE]:Y}:{}})}}function SM0(J,Z,X){return(Y)=>{J.record((Date.now()-Z)/1000,{...X,...Y?{[Dw.ATTR_ERROR_TYPE]:Y}:{}})}}var TM0=[0.005,0.01,0.025,0.05,0.075,0.1,0.25,0.5,0.75,1,2.5,5,7.5,10];class fM0 extends kY.InstrumentationBase{constructor(J={}){super(EM0.PACKAGE_NAME,EM0.PACKAGE_VERSION,J)}_updateMetricInstruments(){this._clientDuration=this.meter.createHistogram(J0.METRIC_MESSAGING_CLIENT_OPERATION_DURATION,{advice:{explicitBucketBoundaries:TM0}}),this._sentMessages=this.meter.createCounter(J0.METRIC_MESSAGING_CLIENT_SENT_MESSAGES),this._consumedMessages=this.meter.createCounter(J0.METRIC_MESSAGING_CLIENT_CONSUMED_MESSAGES),this._processDuration=this.meter.createHistogram(J0.METRIC_MESSAGING_PROCESS_DURATION,{advice:{explicitBucketBoundaries:TM0}})}init(){let J=(X)=>{if((0,kY.isWrapped)(X?.Kafka?.prototype.producer))this._unwrap(X.Kafka.prototype,"producer");if((0,kY.isWrapped)(X?.Kafka?.prototype.consumer))this._unwrap(X.Kafka.prototype,"consumer")};return new kY.InstrumentationNodeModuleDefinition("kafkajs",[">=0.3.0 <3"],(X)=>{return J(X),this._wrap(X?.Kafka?.prototype,"producer",this._getProducerPatch()),this._wrap(X?.Kafka?.prototype,"consumer",this._getConsumerPatch()),X},J)}_getConsumerPatch(){let J=this;return(Z)=>{return function X(...Y){let $=Z.apply(this,Y);if((0,kY.isWrapped)($.run))J._unwrap($,"run");return J._wrap($,"run",J._getConsumerRunPatch()),J._setKafkaEventListeners($),$}}}_setKafkaEventListeners(J){if(J[jM0.EVENT_LISTENERS_SET])return;if(J.events?.REQUEST)J.on(J.events.REQUEST,this._recordClientDurationMetric.bind(this));J[jM0.EVENT_LISTENERS_SET]=!0}_recordClientDurationMetric(J){let[Z,X]=J.payload.broker.split(":");this._clientDuration.record(J.payload.duration/1000,{[J0.ATTR_MESSAGING_SYSTEM]:J0.MESSAGING_SYSTEM_VALUE_KAFKA,[J0.ATTR_MESSAGING_OPERATION_NAME]:`${J.payload.apiName}`,[Dw.ATTR_SERVER_ADDRESS]:Z,[Dw.ATTR_SERVER_PORT]:Number.parseInt(X,10)})}_getProducerPatch(){let J=this;return(Z)=>{return function X(...Y){let $=Z.apply(this,Y);if((0,kY.isWrapped)($.sendBatch))J._unwrap($,"sendBatch");if(J._wrap($,"sendBatch",J._getProducerSendBatchPatch()),(0,kY.isWrapped)($.send))J._unwrap($,"send");return J._wrap($,"send",J._getProducerSendPatch()),J._setKafkaEventListeners($),$}}}_getConsumerRunPatch(){let J=this;return(Z)=>{return function X(...Y){let $=Y[0];if($?.eachMessage){if((0,kY.isWrapped)($.eachMessage))J._unwrap($,"eachMessage");J._wrap($,"eachMessage",J._getConsumerEachMessagePatch())}if($?.eachBatch){if((0,kY.isWrapped)($.eachBatch))J._unwrap($,"eachBatch");J._wrap($,"eachBatch",J._getConsumerEachBatchPatch())}return Z.call(this,$)}}}_getConsumerEachMessagePatch(){let J=this;return(Z)=>{return function X(...Y){let $=Y[0],z=t5.propagation.extract(t5.ROOT_CONTEXT,$.message.headers,RM0.bufferTextMapGetter),W=J._startConsumerSpan({topic:$.topic,message:$.message,operationType:J0.MESSAGING_OPERATION_TYPE_VALUE_PROCESS,ctx:z,attributes:{[J0.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String($.partition)}}),Q=[SM0(J._processDuration,Date.now(),{[J0.ATTR_MESSAGING_SYSTEM]:J0.MESSAGING_SYSTEM_VALUE_KAFKA,[J0.ATTR_MESSAGING_OPERATION_NAME]:"process",[J0.ATTR_MESSAGING_DESTINATION_NAME]:$.topic,[J0.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String($.partition)}),Fv(J._consumedMessages,1,{[J0.ATTR_MESSAGING_SYSTEM]:J0.MESSAGING_SYSTEM_VALUE_KAFKA,[J0.ATTR_MESSAGING_OPERATION_NAME]:"process",[J0.ATTR_MESSAGING_DESTINATION_NAME]:$.topic,[J0.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String($.partition)})],G=t5.context.with(t5.trace.setSpan(z,W),()=>{return Z.apply(this,Y)});return J._endSpansOnPromise([W],Q,G)}}}_getConsumerEachBatchPatch(){return(J)=>{let Z=this;return function X(...Y){let $=Y[0],z=Z._startConsumerSpan({topic:$.batch.topic,message:void 0,operationType:J0.MESSAGING_OPERATION_TYPE_VALUE_RECEIVE,ctx:t5.ROOT_CONTEXT,attributes:{[J0.ATTR_MESSAGING_BATCH_MESSAGE_COUNT]:$.batch.messages.length,[J0.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String($.batch.partition)}});return t5.context.with(t5.trace.setSpan(t5.context.active(),z),()=>{let W=Date.now(),Q=[],G=[Fv(Z._consumedMessages,$.batch.messages.length,{[J0.ATTR_MESSAGING_SYSTEM]:J0.MESSAGING_SYSTEM_VALUE_KAFKA,[J0.ATTR_MESSAGING_OPERATION_NAME]:"process",[J0.ATTR_MESSAGING_DESTINATION_NAME]:$.batch.topic,[J0.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String($.batch.partition)})];$.batch.messages.forEach((q)=>{let H=t5.propagation.extract(t5.ROOT_CONTEXT,q.headers,RM0.bufferTextMapGetter),F=t5.trace.getSpan(H)?.spanContext(),U;if(F)U={context:F};Q.push(Z._startConsumerSpan({topic:$.batch.topic,message:q,operationType:J0.MESSAGING_OPERATION_TYPE_VALUE_PROCESS,link:U,attributes:{[J0.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String($.batch.partition)}})),G.push(SM0(Z._processDuration,W,{[J0.ATTR_MESSAGING_SYSTEM]:J0.MESSAGING_SYSTEM_VALUE_KAFKA,[J0.ATTR_MESSAGING_OPERATION_NAME]:"process",[J0.ATTR_MESSAGING_DESTINATION_NAME]:$.batch.topic,[J0.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String($.batch.partition)}))});let K=J.apply(this,Y);return Q.unshift(z),Z._endSpansOnPromise(Q,G,K)})}}}_getProducerSendBatchPatch(){let J=this;return(Z)=>{return function X(...Y){let z=Y[0].topicMessages||[],W=[],Q=[];z.forEach((K)=>{K.messages.forEach((q)=>{W.push(J._startProducerSpan(K.topic,q)),Q.push(Fv(J._sentMessages,1,{[J0.ATTR_MESSAGING_SYSTEM]:J0.MESSAGING_SYSTEM_VALUE_KAFKA,[J0.ATTR_MESSAGING_OPERATION_NAME]:"send",[J0.ATTR_MESSAGING_DESTINATION_NAME]:K.topic,...q.partition!==void 0?{[J0.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String(q.partition)}:{}}))})});let G=Z.apply(this,Y);return J._endSpansOnPromise(W,Q,G)}}}_getProducerSendPatch(){let J=this;return(Z)=>{return function X(...Y){let $=Y[0],z=$.messages.map((G)=>{return J._startProducerSpan($.topic,G)}),W=$.messages.map((G)=>Fv(J._sentMessages,1,{[J0.ATTR_MESSAGING_SYSTEM]:J0.MESSAGING_SYSTEM_VALUE_KAFKA,[J0.ATTR_MESSAGING_OPERATION_NAME]:"send",[J0.ATTR_MESSAGING_DESTINATION_NAME]:$.topic,...G.partition!==void 0?{[J0.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String(G.partition)}:{}})),Q=Z.apply(this,Y);return J._endSpansOnPromise(z,W,Q)}}}_endSpansOnPromise(J,Z,X){return Promise.resolve(X).then((Y)=>{return Z.forEach(($)=>$()),Y}).catch((Y)=>{let $,z=Dw.ERROR_TYPE_VALUE_OTHER;if(typeof Y==="string"||Y===void 0)$=Y;else if(typeof Y==="object"&&Object.prototype.hasOwnProperty.call(Y,"message"))$=Y.message,z=Y.constructor.name;throw Z.forEach((W)=>W(z)),J.forEach((W)=>{W.setAttribute(Dw.ATTR_ERROR_TYPE,z),W.setStatus({code:t5.SpanStatusCode.ERROR,message:$})}),Y}).finally(()=>{J.forEach((Y)=>Y.end())})}_startConsumerSpan({topic:J,message:Z,operationType:X,ctx:Y,link:$,attributes:z}){let W=X===J0.MESSAGING_OPERATION_TYPE_VALUE_RECEIVE?"poll":X,Q=this.tracer.startSpan(`${W} ${J}`,{kind:X===J0.MESSAGING_OPERATION_TYPE_VALUE_RECEIVE?t5.SpanKind.CLIENT:t5.SpanKind.CONSUMER,attributes:{...z,[J0.ATTR_MESSAGING_SYSTEM]:J0.MESSAGING_SYSTEM_VALUE_KAFKA,[J0.ATTR_MESSAGING_DESTINATION_NAME]:J,[J0.ATTR_MESSAGING_OPERATION_TYPE]:X,[J0.ATTR_MESSAGING_OPERATION_NAME]:W,[J0.ATTR_MESSAGING_KAFKA_MESSAGE_KEY]:Z?.key?String(Z.key):void 0,[J0.ATTR_MESSAGING_KAFKA_MESSAGE_TOMBSTONE]:Z?.key&&Z.value===null?!0:void 0,[J0.ATTR_MESSAGING_KAFKA_OFFSET]:Z?.offset},links:$?[$]:[]},Y),{consumerHook:G}=this.getConfig();if(G&&Z)(0,kY.safeExecuteInTheMiddle)(()=>G(Q,{topic:J,message:Z}),(K)=>{if(K)this._diag.error("consumerHook error",K)},!0);return Q}_startProducerSpan(J,Z){let X=this.tracer.startSpan(`send ${J}`,{kind:t5.SpanKind.PRODUCER,attributes:{[J0.ATTR_MESSAGING_SYSTEM]:J0.MESSAGING_SYSTEM_VALUE_KAFKA,[J0.ATTR_MESSAGING_DESTINATION_NAME]:J,[J0.ATTR_MESSAGING_KAFKA_MESSAGE_KEY]:Z.key?String(Z.key):void 0,[J0.ATTR_MESSAGING_KAFKA_MESSAGE_TOMBSTONE]:Z.key&&Z.value===null?!0:void 0,[J0.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:Z.partition!==void 0?String(Z.partition):void 0,[J0.ATTR_MESSAGING_OPERATION_NAME]:"send",[J0.ATTR_MESSAGING_OPERATION_TYPE]:J0.MESSAGING_OPERATION_TYPE_VALUE_SEND}});Z.headers=Z.headers??{},t5.propagation.inject(t5.trace.setSpan(t5.context.active(),X),Z.headers);let{producerHook:Y}=this.getConfig();if(Y)(0,kY.safeExecuteInTheMiddle)(()=>Y(X,{topic:J,message:Z}),($)=>{if($)this._diag.error("producerHook error",$)},!0);return X}}kM0.KafkaJsInstrumentation=fM0});var yM0=B((_M0)=>{Object.defineProperty(_M0,"__esModule",{value:!0})});var xM0=B((Gq)=>{var qK8=Gq&&Gq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),vM0=Gq&&Gq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))qK8(Z,J,X)};Object.defineProperty(Gq,"__esModule",{value:!0});vM0(hM0(),Gq);vM0(yM0(),Gq)});var uM0=B((gM0)=>{Object.defineProperty(gM0,"__esModule",{value:!0});gM0.PACKAGE_NAME=gM0.PACKAGE_VERSION=void 0;gM0.PACKAGE_VERSION="0.46.0";gM0.PACKAGE_NAME="@opentelemetry/instrumentation-knex"});var lM0=B((mM0)=>{Object.defineProperty(mM0,"__esModule",{value:!0});mM0.SUPPORTED_VERSIONS=mM0.MODULE_NAME=void 0;mM0.MODULE_NAME="knex";mM0.SUPPORTED_VERSIONS=[">=0.22.0 <4",">=0.10.0 <0.18.0",">=0.19.0 <0.22.0",">=0.18.0 <0.19.0"]});var iM0=B((nM0)=>{Object.defineProperty(nM0,"__esModule",{value:!0});nM0.extractTableName=nM0.limitLength=nM0.getName=nM0.mapSystem=nM0.otelExceptionFromKnexError=nM0.getFormatter=void 0;var pM0=j1(),FK8=(J)=>{if(J){if(J.client){if(J.client._formatQuery)return J.client._formatQuery.bind(J.client);else if(J.client.SqlString)return J.client.SqlString.format.bind(J.client.SqlString)}if(J.builder)return J.builder.toString.bind(J.builder)}return()=>"<noop formatter>"};nM0.getFormatter=FK8;function UK8(J,Z){if(!(J&&J instanceof Error))return J;return{message:Z,code:J.code,stack:J.stack,name:J.name}}nM0.otelExceptionFromKnexError=UK8;var OK8=new Map([["sqlite3",pM0.DBSYSTEMVALUES_SQLITE],["pg",pM0.DBSYSTEMVALUES_POSTGRESQL]]),DK8=(J)=>{return OK8.get(J)||J};nM0.mapSystem=DK8;var VK8=(J,Z,X)=>{if(Z){if(X)return`${Z} ${J}.${X}`;return`${Z} ${J}`}return J};nM0.getName=VK8;var IK8=(J,Z)=>{if(typeof J==="string"&&typeof Z==="number"&&0<Z&&Z<J.length)return J.substring(0,Z)+"..";return J};nM0.limitLength=IK8;var wK8=(J)=>{let Z=J?._single?.table;if(typeof Z==="object")return nM0.extractTableName(Z);return Z};nM0.extractTableName=wK8});var JN0=B((tM0)=>{Object.defineProperty(tM0,"__esModule",{value:!0});tM0.KnexInstrumentation=void 0;var KG=C(),oM0=uM0(),Uv=lM0(),wC=J6(),qG=j1(),Vw=iM0(),sM0=Symbol("opentelemetry.instrumentation-knex.context"),aM0={maxQueryLength:1022,requireParentSpan:!1};class rM0 extends wC.InstrumentationBase{constructor(J={}){super(oM0.PACKAGE_NAME,oM0.PACKAGE_VERSION,{...aM0,...J})}setConfig(J={}){super.setConfig({...aM0,...J})}init(){let J=new wC.InstrumentationNodeModuleDefinition(Uv.MODULE_NAME,Uv.SUPPORTED_VERSIONS);return J.files.push(this.getClientNodeModuleFileInstrumentation("src"),this.getClientNodeModuleFileInstrumentation("lib"),this.getRunnerNodeModuleFileInstrumentation("src"),this.getRunnerNodeModuleFileInstrumentation("lib"),this.getRunnerNodeModuleFileInstrumentation("lib/execution")),J}getRunnerNodeModuleFileInstrumentation(J){return new wC.InstrumentationNodeModuleFile(`knex/${J}/runner.js`,Uv.SUPPORTED_VERSIONS,(Z,X)=>{return this.ensureWrapped(Z.prototype,"query",this.createQueryWrapper(X)),Z},(Z,X)=>{return this._unwrap(Z.prototype,"query"),Z})}getClientNodeModuleFileInstrumentation(J){return new wC.InstrumentationNodeModuleFile(`knex/${J}/client.js`,Uv.SUPPORTED_VERSIONS,(Z)=>{return this.ensureWrapped(Z.prototype,"queryBuilder",this.storeContext.bind(this)),this.ensureWrapped(Z.prototype,"schemaBuilder",this.storeContext.bind(this)),this.ensureWrapped(Z.prototype,"raw",this.storeContext.bind(this)),Z},(Z)=>{return this._unwrap(Z.prototype,"queryBuilder"),this._unwrap(Z.prototype,"schemaBuilder"),this._unwrap(Z.prototype,"raw"),Z})}createQueryWrapper(J){let Z=this;return function X(Y){return function $(z){let W=this.client.config,Q=Vw.extractTableName(this.builder),G=z?.method,K=W?.connection?.filename||W?.connection?.database,{maxQueryLength:q}=Z.getConfig(),H={"knex.version":J,[qG.SEMATTRS_DB_SYSTEM]:Vw.mapSystem(W.client),[qG.SEMATTRS_DB_SQL_TABLE]:Q,[qG.SEMATTRS_DB_OPERATION]:G,[qG.SEMATTRS_DB_USER]:W?.connection?.user,[qG.SEMATTRS_DB_NAME]:K,[qG.SEMATTRS_NET_PEER_NAME]:W?.connection?.host,[qG.SEMATTRS_NET_PEER_PORT]:W?.connection?.port,[qG.SEMATTRS_NET_TRANSPORT]:W?.connection?.filename===":memory:"?"inproc":void 0};if(q)H[qG.SEMATTRS_DB_STATEMENT]=Vw.limitLength(z?.sql,q);let F=this.builder[sM0]||KG.context.active(),U=KG.trace.getSpan(F),D=U&&KG.trace.isSpanContextValid(U.spanContext());if(Z._config.requireParentSpan&&!D)return Y.bind(this)(...arguments);let V=Z.tracer.startSpan(Vw.getName(K,G,Q),{kind:KG.SpanKind.CLIENT,attributes:H},F),w=KG.trace.setSpan(KG.context.active(),V);return KG.context.with(w,Y,this,...arguments).then((M)=>{return V.end(),M}).catch((M)=>{let R=Vw.getFormatter(this)(z.sql,z.bindings||[]),f=M.message.replace(R+" - ",""),d=Vw.otelExceptionFromKnexError(M,f);throw V.recordException(d),V.setStatus({code:KG.SpanStatusCode.ERROR,message:f}),V.end(),M})}}}storeContext(J){return function Z(){let X=J.apply(this,arguments);return Object.defineProperty(X,sM0,{value:KG.context.active()}),X}}ensureWrapped(J,Z,X){if((0,wC.isWrapped)(J[Z]))this._unwrap(J,Z);this._wrap(J,Z,X)}}tM0.KnexInstrumentation=rM0});var XN0=B((ZN0)=>{Object.defineProperty(ZN0,"__esModule",{value:!0})});var $N0=B((Kq)=>{var CK8=Kq&&Kq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),YN0=Kq&&Kq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))CK8(Z,J,X)};Object.defineProperty(Kq,"__esModule",{value:!0});YN0(JN0(),Kq);YN0(XN0(),Kq)});var Ov=B((zN0)=>{Object.defineProperty(zN0,"__esModule",{value:!0});zN0.KoaLayerType=void 0;var jK8;(function(J){J.ROUTER="router",J.MIDDLEWARE="middleware"})(jK8=zN0.KoaLayerType||(zN0.KoaLayerType={}))});var GN0=B((WN0)=>{Object.defineProperty(WN0,"__esModule",{value:!0});WN0.PACKAGE_NAME=WN0.PACKAGE_VERSION=void 0;WN0.PACKAGE_VERSION="0.49.0";WN0.PACKAGE_NAME="@opentelemetry/instrumentation-koa"});var xZ1=B((KN0)=>{Object.defineProperty(KN0,"__esModule",{value:!0});KN0.AttributeNames=void 0;var EK8;(function(J){J.KOA_TYPE="koa.type",J.KOA_NAME="koa.name"})(EK8=KN0.AttributeNames||(KN0.AttributeNames={}))});var FN0=B((BN0)=>{Object.defineProperty(BN0,"__esModule",{value:!0});BN0.isLayerIgnored=BN0.getMiddlewareMetadata=void 0;var qN0=Ov(),Dv=xZ1(),SK8=j1(),TK8=(J,Z,X,Y)=>{if(X)return{attributes:{[Dv.AttributeNames.KOA_NAME]:Y?.toString(),[Dv.AttributeNames.KOA_TYPE]:qN0.KoaLayerType.ROUTER,[SK8.SEMATTRS_HTTP_ROUTE]:Y?.toString()},name:J._matchedRouteName||`router - ${Y}`};else return{attributes:{[Dv.AttributeNames.KOA_NAME]:Z.name??"middleware",[Dv.AttributeNames.KOA_TYPE]:qN0.KoaLayerType.MIDDLEWARE},name:`middleware - ${Z.name}`}};BN0.getMiddlewareMetadata=TK8;var fK8=(J,Z)=>{return!!(Array.isArray(Z?.ignoreLayersType)&&Z?.ignoreLayersType?.includes(J))};BN0.isLayerIgnored=fK8});var AC=B((UN0)=>{Object.defineProperty(UN0,"__esModule",{value:!0});UN0.isTracingSuppressed=UN0.unsuppressTracing=UN0.suppressTracing=void 0;var bK8=C(),gZ1=(0,bK8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function hK8(J){return J.setValue(gZ1,!0)}UN0.suppressTracing=hK8;function _K8(J){return J.deleteValue(gZ1)}UN0.unsuppressTracing=_K8;function yK8(J){return J.getValue(gZ1)===!0}UN0.isTracingSuppressed=yK8});var dZ1=B((DN0)=>{Object.defineProperty(DN0,"__esModule",{value:!0});DN0.BAGGAGE_MAX_TOTAL_LENGTH=DN0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=DN0.BAGGAGE_MAX_NAME_VALUE_PAIRS=DN0.BAGGAGE_HEADER=DN0.BAGGAGE_ITEMS_SEPARATOR=DN0.BAGGAGE_PROPERTIES_SEPARATOR=DN0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;DN0.BAGGAGE_KEY_PAIR_SEPARATOR="=";DN0.BAGGAGE_PROPERTIES_SEPARATOR=";";DN0.BAGGAGE_ITEMS_SEPARATOR=",";DN0.BAGGAGE_HEADER="baggage";DN0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;DN0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;DN0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var uZ1=B((wN0)=>{Object.defineProperty(wN0,"__esModule",{value:!0});wN0.parseKeyPairsIntoRecord=wN0.parsePairKeyValue=wN0.getKeyPairs=wN0.serializeKeyPairs=void 0;var pK8=C(),BU=dZ1();function nK8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?BU.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>BU.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}wN0.serializeKeyPairs=nK8;function iK8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=BU.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}wN0.getKeyPairs=iK8;function IN0(J){let Z=J.split(BU.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(BU.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,pK8.baggageEntryMetadataFromString)(Z.join(BU.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}wN0.parsePairKeyValue=IN0;function oK8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(BU.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=IN0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}wN0.parseKeyPairsIntoRecord=oK8});var LN0=B((NN0)=>{Object.defineProperty(NN0,"__esModule",{value:!0});NN0.W3CBaggagePropagator=void 0;var mZ1=C(),tK8=AC(),HU=dZ1(),cZ1=uZ1();class MN0{inject(J,Z,X){let Y=mZ1.propagation.getBaggage(J);if(!Y||(0,tK8.isTracingSuppressed)(J))return;let $=(0,cZ1.getKeyPairs)(Y).filter((W)=>{return W.length<=HU.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,HU.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,cZ1.serializeKeyPairs)($);if(z.length>0)X.set(Z,HU.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,HU.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(HU.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(HU.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,cZ1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return mZ1.propagation.setBaggage(J,mZ1.propagation.createBaggage(z))}fields(){return[HU.BAGGAGE_HEADER]}}NN0.W3CBaggagePropagator=MN0});var EN0=B((jN0)=>{Object.defineProperty(jN0,"__esModule",{value:!0});jN0.AnchoredClock=void 0;class CN0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}jN0.AnchoredClock=CN0});var _N0=B((bN0)=>{Object.defineProperty(bN0,"__esModule",{value:!0});bN0.isAttributeValue=bN0.isAttributeKey=bN0.sanitizeAttributes=void 0;var SN0=C();function eK8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!TN0(X)){SN0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!fN0(Y)){SN0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}bN0.sanitizeAttributes=eK8;function TN0(J){return typeof J==="string"&&J.length>0}bN0.isAttributeKey=TN0;function fN0(J){if(J==null)return!0;if(Array.isArray(J))return J38(J);return kN0(J)}bN0.isAttributeValue=fN0;function J38(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(kN0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function kN0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var lZ1=B((yN0)=>{Object.defineProperty(yN0,"__esModule",{value:!0});yN0.loggingErrorHandler=void 0;var Y38=C();function $38(){return(J)=>{Y38.diag.error(z38(J))}}yN0.loggingErrorHandler=$38;function z38(J){if(typeof J==="string")return J;else return JSON.stringify(W38(J))}function W38(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var uN0=B((gN0)=>{Object.defineProperty(gN0,"__esModule",{value:!0});gN0.globalErrorHandler=gN0.setGlobalErrorHandler=void 0;var Q38=lZ1(),xN0=(0,Q38.loggingErrorHandler)();function G38(J){xN0=J}gN0.setGlobalErrorHandler=G38;function K38(J){try{xN0(J)}catch{}}gN0.globalErrorHandler=K38});var iN0=B((pN0)=>{Object.defineProperty(pN0,"__esModule",{value:!0});pN0.getStringListFromEnv=pN0.getBooleanFromEnv=pN0.getStringFromEnv=pN0.getNumberFromEnv=void 0;var mN0=C(),cN0=p("util");function B38(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){mN0.diag.warn(`Unknown value ${(0,cN0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}pN0.getNumberFromEnv=B38;function lN0(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}pN0.getStringFromEnv=lN0;function H38(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return mN0.diag.warn(`Unknown value ${(0,cN0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}pN0.getBooleanFromEnv=H38;function F38(J){return lN0(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}pN0.getStringListFromEnv=F38});var aN0=B((oN0)=>{Object.defineProperty(oN0,"__esModule",{value:!0});oN0._globalThis=void 0;oN0._globalThis=typeof globalThis==="object"?globalThis:global});var eN0=B((rN0)=>{Object.defineProperty(rN0,"__esModule",{value:!0});rN0.otperformance=void 0;var V38=p("perf_hooks");rN0.otperformance=V38.performance});var XP0=B((JP0)=>{Object.defineProperty(JP0,"__esModule",{value:!0});JP0.VERSION=void 0;JP0.VERSION="2.0.1"});var zP0=B((YP0)=>{Object.defineProperty(YP0,"__esModule",{value:!0});YP0.ATTR_PROCESS_RUNTIME_NAME=void 0;YP0.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var GP0=B((WP0)=>{Object.defineProperty(WP0,"__esModule",{value:!0});WP0.SDK_INFO=void 0;var I38=XP0(),Vv=j1(),w38=zP0();WP0.SDK_INFO={[Vv.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[w38.ATTR_PROCESS_RUNTIME_NAME]:"node",[Vv.ATTR_TELEMETRY_SDK_LANGUAGE]:Vv.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[Vv.ATTR_TELEMETRY_SDK_VERSION]:I38.VERSION}});var BP0=B((KP0)=>{Object.defineProperty(KP0,"__esModule",{value:!0});KP0.unrefTimer=void 0;function A38(J){J.unref()}KP0.unrefTimer=A38});var HP0=B((Bz)=>{Object.defineProperty(Bz,"__esModule",{value:!0});Bz.unrefTimer=Bz.SDK_INFO=Bz.otperformance=Bz._globalThis=Bz.getStringListFromEnv=Bz.getNumberFromEnv=Bz.getBooleanFromEnv=Bz.getStringFromEnv=void 0;var Iv=iN0();Object.defineProperty(Bz,"getStringFromEnv",{enumerable:!0,get:function(){return Iv.getStringFromEnv}});Object.defineProperty(Bz,"getBooleanFromEnv",{enumerable:!0,get:function(){return Iv.getBooleanFromEnv}});Object.defineProperty(Bz,"getNumberFromEnv",{enumerable:!0,get:function(){return Iv.getNumberFromEnv}});Object.defineProperty(Bz,"getStringListFromEnv",{enumerable:!0,get:function(){return Iv.getStringListFromEnv}});var M38=aN0();Object.defineProperty(Bz,"_globalThis",{enumerable:!0,get:function(){return M38._globalThis}});var N38=eN0();Object.defineProperty(Bz,"otperformance",{enumerable:!0,get:function(){return N38.otperformance}});var P38=GP0();Object.defineProperty(Bz,"SDK_INFO",{enumerable:!0,get:function(){return P38.SDK_INFO}});var L38=BP0();Object.defineProperty(Bz,"unrefTimer",{enumerable:!0,get:function(){return L38.unrefTimer}})});var pZ1=B((Hz)=>{Object.defineProperty(Hz,"__esModule",{value:!0});Hz.getStringListFromEnv=Hz.getNumberFromEnv=Hz.getStringFromEnv=Hz.getBooleanFromEnv=Hz.unrefTimer=Hz.otperformance=Hz._globalThis=Hz.SDK_INFO=void 0;var qq=HP0();Object.defineProperty(Hz,"SDK_INFO",{enumerable:!0,get:function(){return qq.SDK_INFO}});Object.defineProperty(Hz,"_globalThis",{enumerable:!0,get:function(){return qq._globalThis}});Object.defineProperty(Hz,"otperformance",{enumerable:!0,get:function(){return qq.otperformance}});Object.defineProperty(Hz,"unrefTimer",{enumerable:!0,get:function(){return qq.unrefTimer}});Object.defineProperty(Hz,"getBooleanFromEnv",{enumerable:!0,get:function(){return qq.getBooleanFromEnv}});Object.defineProperty(Hz,"getStringFromEnv",{enumerable:!0,get:function(){return qq.getStringFromEnv}});Object.defineProperty(Hz,"getNumberFromEnv",{enumerable:!0,get:function(){return qq.getNumberFromEnv}});Object.defineProperty(Hz,"getStringListFromEnv",{enumerable:!0,get:function(){return qq.getStringListFromEnv}})});var IP0=B((DP0)=>{Object.defineProperty(DP0,"__esModule",{value:!0});DP0.addHrTimes=DP0.isTimeInput=DP0.isTimeInputHrTime=DP0.hrTimeToMicroseconds=DP0.hrTimeToMilliseconds=DP0.hrTimeToNanoseconds=DP0.hrTimeToTimeStamp=DP0.hrTimeDuration=DP0.timeInputToHrTime=DP0.hrTime=DP0.getTimeOrigin=DP0.millisToHrTime=void 0;var nZ1=pZ1(),FP0=9,R38=6,E38=Math.pow(10,R38),wv=Math.pow(10,FP0);function MC(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*E38);return[X,Y]}DP0.millisToHrTime=MC;function iZ1(){let J=nZ1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=nZ1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}DP0.getTimeOrigin=iZ1;function UP0(J){let Z=MC(iZ1()),X=MC(typeof J==="number"?J:nZ1.otperformance.now());return OP0(Z,X)}DP0.hrTime=UP0;function S38(J){if(oZ1(J))return J;else if(typeof J==="number")if(J<iZ1())return UP0(J);else return MC(J);else if(J instanceof Date)return MC(J.getTime());else throw TypeError("Invalid input type")}DP0.timeInputToHrTime=S38;function T38(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=wv;return[X,Y]}DP0.hrTimeDuration=T38;function f38(J){let Z=FP0,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}DP0.hrTimeToTimeStamp=f38;function k38(J){return J[0]*wv+J[1]}DP0.hrTimeToNanoseconds=k38;function b38(J){return J[0]*1000+J[1]/1e6}DP0.hrTimeToMilliseconds=b38;function h38(J){return J[0]*1e6+J[1]/1000}DP0.hrTimeToMicroseconds=h38;function oZ1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}DP0.isTimeInputHrTime=oZ1;function _38(J){return oZ1(J)||typeof J==="number"||J instanceof Date}DP0.isTimeInput=_38;function OP0(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=wv)X[1]-=wv,X[0]+=1;return X}DP0.addHrTimes=OP0});var AP0=B((wP0)=>{Object.defineProperty(wP0,"__esModule",{value:!0});wP0.ExportResultCode=void 0;var i38;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(i38=wP0.ExportResultCode||(wP0.ExportResultCode={}))});var CP0=B((PP0)=>{Object.defineProperty(PP0,"__esModule",{value:!0});PP0.CompositePropagator=void 0;var MP0=C();class NP0{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){MP0.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){MP0.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}PP0.CompositePropagator=NP0});var EP0=B((jP0)=>{Object.defineProperty(jP0,"__esModule",{value:!0});jP0.validateValue=jP0.validateKey=void 0;var aZ1="[_0-9a-z-*/]",o38=`[a-z]${aZ1}{0,255}`,s38=`[a-z0-9]${aZ1}{0,240}@[a-z]${aZ1}{0,13}`,a38=new RegExp(`^(?:${o38}|${s38})$`),r38=/^[ -~]{0,255}[!-~]$/,t38=/,|=/;function e38(J){return a38.test(J)}jP0.validateKey=e38;function Jq8(J){return r38.test(J)&&!t38.test(J)}jP0.validateValue=Jq8});var tZ1=B((bP0)=>{Object.defineProperty(bP0,"__esModule",{value:!0});bP0.TraceState=void 0;var SP0=EP0(),TP0=32,Xq8=512,fP0=",",kP0="=";class rZ1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+kP0+this.get(Z)),J},[]).join(fP0)}_parse(J){if(J.length>Xq8)return;if(this._internalState=J.split(fP0).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(kP0);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,SP0.validateKey)(z)&&(0,SP0.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>TP0)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,TP0))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new rZ1;return J._internalState=new Map(this._internalState),J}}bP0.TraceState=rZ1});var gP0=B((vP0)=>{Object.defineProperty(vP0,"__esModule",{value:!0});vP0.W3CTraceContextPropagator=vP0.parseTraceParent=vP0.TRACE_STATE_HEADER=vP0.TRACE_PARENT_HEADER=void 0;var Av=C(),Yq8=AC(),$q8=tZ1();vP0.TRACE_PARENT_HEADER="traceparent";vP0.TRACE_STATE_HEADER="tracestate";var zq8="00",Wq8="(?!ff)[\\da-f]{2}",Qq8="(?![0]{32})[\\da-f]{32}",Gq8="(?![0]{16})[\\da-f]{16}",Kq8="[\\da-f]{2}",qq8=new RegExp(`^\\s?(${Wq8})-(${Qq8})-(${Gq8})-(${Kq8})(-.*)?\\s?$`);function _P0(J){let Z=qq8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}vP0.parseTraceParent=_P0;class yP0{inject(J,Z,X){let Y=Av.trace.getSpanContext(J);if(!Y||(0,Yq8.isTracingSuppressed)(J)||!(0,Av.isSpanContextValid)(Y))return;let $=`${zq8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||Av.TraceFlags.NONE).toString(16)}`;if(X.set(Z,vP0.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,vP0.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,vP0.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=_P0($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,vP0.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new $q8.TraceState(typeof Q==="string"?Q:void 0)}return Av.trace.setSpanContext(J,z)}fields(){return[vP0.TRACE_PARENT_HEADER,vP0.TRACE_STATE_HEADER]}}vP0.W3CTraceContextPropagator=yP0});var cP0=B((uP0)=>{Object.defineProperty(uP0,"__esModule",{value:!0});uP0.getRPCMetadata=uP0.deleteRPCMetadata=uP0.setRPCMetadata=uP0.RPCType=void 0;var Hq8=C(),eZ1=(0,Hq8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),Fq8;(function(J){J.HTTP="http"})(Fq8=uP0.RPCType||(uP0.RPCType={}));function Uq8(J,Z){return J.setValue(eZ1,Z)}uP0.setRPCMetadata=Uq8;function Oq8(J){return J.deleteValue(eZ1)}uP0.deleteRPCMetadata=Oq8;function Dq8(J){return J.getValue(eZ1)}uP0.getRPCMetadata=Dq8});var aP0=B((oP0)=>{Object.defineProperty(oP0,"__esModule",{value:!0});oP0.isPlainObject=void 0;var wq8="[object Object]",Aq8="[object Null]",Mq8="[object Undefined]",Nq8=Function.prototype,lP0=Nq8.toString,Pq8=lP0.call(Object),Lq8=Object.getPrototypeOf,pP0=Object.prototype,nP0=pP0.hasOwnProperty,FU=Symbol?Symbol.toStringTag:void 0,iP0=pP0.toString;function Cq8(J){if(!jq8(J)||Rq8(J)!==wq8)return!1;let Z=Lq8(J);if(Z===null)return!0;let X=nP0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&lP0.call(X)===Pq8}oP0.isPlainObject=Cq8;function jq8(J){return J!=null&&typeof J=="object"}function Rq8(J){if(J==null)return J===void 0?Mq8:Aq8;return FU&&FU in Object(J)?Eq8(J):Sq8(J)}function Eq8(J){let Z=nP0.call(J,FU),X=J[FU],Y=!1;try{J[FU]=void 0,Y=!0}catch(z){}let $=iP0.call(J);if(Y)if(Z)J[FU]=X;else delete J[FU];return $}function Sq8(J){return iP0.call(J)}});var YL0=B((ZL0)=>{Object.defineProperty(ZL0,"__esModule",{value:!0});ZL0.merge=void 0;var rP0=aP0(),Tq8=20;function fq8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=eP0(Z,J.shift(),0,X);return Z}ZL0.merge=fq8;function JX1(J){if(Lv(J))return J.slice();return J}function eP0(J,Z,X=0,Y){let $;if(X>Tq8)return;if(X++,Pv(J)||Pv(Z)||JL0(Z))$=JX1(Z);else if(Lv(J)){if($=J.slice(),Lv(Z))for(let z=0,W=Z.length;z<W;z++)$.push(JX1(Z[z]));else if(NC(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=JX1(Z[G])}}}else if(NC(J))if(NC(Z)){if(!kq8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(Pv(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(tP0(J,G,Y)||tP0(Z,G,Y))delete $[G];else{if(NC(q)&&NC(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=eP0($[G],K,X,Y)}}}}else $=Z;return $}function tP0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function Lv(J){return Array.isArray(J)}function JL0(J){return typeof J==="function"}function NC(J){return!Pv(J)&&!Lv(J)&&!JL0(J)&&typeof J==="object"}function Pv(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function kq8(J,Z){if(!(0,rP0.isPlainObject)(J)||!(0,rP0.isPlainObject)(Z))return!1;return!0}});var WL0=B(($L0)=>{Object.defineProperty($L0,"__esModule",{value:!0});$L0.callWithTimeout=$L0.TimeoutError=void 0;class Cv extends Error{constructor(J){super(J);Object.setPrototypeOf(this,Cv.prototype)}}$L0.TimeoutError=Cv;function bq8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new Cv("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}$L0.callWithTimeout=bq8});var qL0=B((GL0)=>{Object.defineProperty(GL0,"__esModule",{value:!0});GL0.isUrlIgnored=GL0.urlMatches=void 0;function QL0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}GL0.urlMatches=QL0;function _q8(J,Z){if(!Z)return!1;for(let X of Z)if(QL0(J,X))return!0;return!1}GL0.isUrlIgnored=_q8});var UL0=B((HL0)=>{Object.defineProperty(HL0,"__esModule",{value:!0});HL0.Deferred=void 0;class BL0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}HL0.Deferred=BL0});var IL0=B((DL0)=>{Object.defineProperty(DL0,"__esModule",{value:!0});DL0.BindOnceFuture=void 0;var vq8=UL0();class OL0{_callback;_that;_isCalled=!1;_deferred=new vq8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}DL0.BindOnceFuture=OL0});var NL0=B((AL0)=>{Object.defineProperty(AL0,"__esModule",{value:!0});AL0.diagLogLevelFromString=void 0;var BG=C(),wL0={ALL:BG.DiagLogLevel.ALL,VERBOSE:BG.DiagLogLevel.VERBOSE,DEBUG:BG.DiagLogLevel.DEBUG,INFO:BG.DiagLogLevel.INFO,WARN:BG.DiagLogLevel.WARN,ERROR:BG.DiagLogLevel.ERROR,NONE:BG.DiagLogLevel.NONE};function xq8(J){if(J==null)return;let Z=wL0[J.toUpperCase()];if(Z==null)return BG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(wL0)}, using default`),BG.DiagLogLevel.INFO;return Z}AL0.diagLogLevelFromString=xq8});var jL0=B((LL0)=>{Object.defineProperty(LL0,"__esModule",{value:!0});LL0._export=void 0;var PL0=C(),gq8=AC();function dq8(J,Z){return new Promise((X)=>{PL0.context.with((0,gq8.suppressTracing)(PL0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}LL0._export=dq8});var kL0=B((C0)=>{Object.defineProperty(C0,"__esModule",{value:!0});C0.internal=C0.diagLogLevelFromString=C0.BindOnceFuture=C0.urlMatches=C0.isUrlIgnored=C0.callWithTimeout=C0.TimeoutError=C0.merge=C0.TraceState=C0.unsuppressTracing=C0.suppressTracing=C0.isTracingSuppressed=C0.setRPCMetadata=C0.getRPCMetadata=C0.deleteRPCMetadata=C0.RPCType=C0.parseTraceParent=C0.W3CTraceContextPropagator=C0.TRACE_STATE_HEADER=C0.TRACE_PARENT_HEADER=C0.CompositePropagator=C0.unrefTimer=C0.otperformance=C0.getStringListFromEnv=C0.getNumberFromEnv=C0.getBooleanFromEnv=C0.getStringFromEnv=C0._globalThis=C0.SDK_INFO=C0.parseKeyPairsIntoRecord=C0.ExportResultCode=C0.timeInputToHrTime=C0.millisToHrTime=C0.isTimeInputHrTime=C0.isTimeInput=C0.hrTimeToTimeStamp=C0.hrTimeToNanoseconds=C0.hrTimeToMilliseconds=C0.hrTimeToMicroseconds=C0.hrTimeDuration=C0.hrTime=C0.getTimeOrigin=C0.addHrTimes=C0.loggingErrorHandler=C0.setGlobalErrorHandler=C0.globalErrorHandler=C0.sanitizeAttributes=C0.isAttributeValue=C0.AnchoredClock=C0.W3CBaggagePropagator=void 0;var uq8=LN0();Object.defineProperty(C0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return uq8.W3CBaggagePropagator}});var mq8=EN0();Object.defineProperty(C0,"AnchoredClock",{enumerable:!0,get:function(){return mq8.AnchoredClock}});var RL0=_N0();Object.defineProperty(C0,"isAttributeValue",{enumerable:!0,get:function(){return RL0.isAttributeValue}});Object.defineProperty(C0,"sanitizeAttributes",{enumerable:!0,get:function(){return RL0.sanitizeAttributes}});var EL0=uN0();Object.defineProperty(C0,"globalErrorHandler",{enumerable:!0,get:function(){return EL0.globalErrorHandler}});Object.defineProperty(C0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return EL0.setGlobalErrorHandler}});var cq8=lZ1();Object.defineProperty(C0,"loggingErrorHandler",{enumerable:!0,get:function(){return cq8.loggingErrorHandler}});var uZ=IP0();Object.defineProperty(C0,"addHrTimes",{enumerable:!0,get:function(){return uZ.addHrTimes}});Object.defineProperty(C0,"getTimeOrigin",{enumerable:!0,get:function(){return uZ.getTimeOrigin}});Object.defineProperty(C0,"hrTime",{enumerable:!0,get:function(){return uZ.hrTime}});Object.defineProperty(C0,"hrTimeDuration",{enumerable:!0,get:function(){return uZ.hrTimeDuration}});Object.defineProperty(C0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return uZ.hrTimeToMicroseconds}});Object.defineProperty(C0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return uZ.hrTimeToMilliseconds}});Object.defineProperty(C0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return uZ.hrTimeToNanoseconds}});Object.defineProperty(C0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return uZ.hrTimeToTimeStamp}});Object.defineProperty(C0,"isTimeInput",{enumerable:!0,get:function(){return uZ.isTimeInput}});Object.defineProperty(C0,"isTimeInputHrTime",{enumerable:!0,get:function(){return uZ.isTimeInputHrTime}});Object.defineProperty(C0,"millisToHrTime",{enumerable:!0,get:function(){return uZ.millisToHrTime}});Object.defineProperty(C0,"timeInputToHrTime",{enumerable:!0,get:function(){return uZ.timeInputToHrTime}});var lq8=AP0();Object.defineProperty(C0,"ExportResultCode",{enumerable:!0,get:function(){return lq8.ExportResultCode}});var pq8=uZ1();Object.defineProperty(C0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return pq8.parseKeyPairsIntoRecord}});var Bq=pZ1();Object.defineProperty(C0,"SDK_INFO",{enumerable:!0,get:function(){return Bq.SDK_INFO}});Object.defineProperty(C0,"_globalThis",{enumerable:!0,get:function(){return Bq._globalThis}});Object.defineProperty(C0,"getStringFromEnv",{enumerable:!0,get:function(){return Bq.getStringFromEnv}});Object.defineProperty(C0,"getBooleanFromEnv",{enumerable:!0,get:function(){return Bq.getBooleanFromEnv}});Object.defineProperty(C0,"getNumberFromEnv",{enumerable:!0,get:function(){return Bq.getNumberFromEnv}});Object.defineProperty(C0,"getStringListFromEnv",{enumerable:!0,get:function(){return Bq.getStringListFromEnv}});Object.defineProperty(C0,"otperformance",{enumerable:!0,get:function(){return Bq.otperformance}});Object.defineProperty(C0,"unrefTimer",{enumerable:!0,get:function(){return Bq.unrefTimer}});var nq8=CP0();Object.defineProperty(C0,"CompositePropagator",{enumerable:!0,get:function(){return nq8.CompositePropagator}});var jv=gP0();Object.defineProperty(C0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return jv.TRACE_PARENT_HEADER}});Object.defineProperty(C0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return jv.TRACE_STATE_HEADER}});Object.defineProperty(C0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return jv.W3CTraceContextPropagator}});Object.defineProperty(C0,"parseTraceParent",{enumerable:!0,get:function(){return jv.parseTraceParent}});var Rv=cP0();Object.defineProperty(C0,"RPCType",{enumerable:!0,get:function(){return Rv.RPCType}});Object.defineProperty(C0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Rv.deleteRPCMetadata}});Object.defineProperty(C0,"getRPCMetadata",{enumerable:!0,get:function(){return Rv.getRPCMetadata}});Object.defineProperty(C0,"setRPCMetadata",{enumerable:!0,get:function(){return Rv.setRPCMetadata}});var ZX1=AC();Object.defineProperty(C0,"isTracingSuppressed",{enumerable:!0,get:function(){return ZX1.isTracingSuppressed}});Object.defineProperty(C0,"suppressTracing",{enumerable:!0,get:function(){return ZX1.suppressTracing}});Object.defineProperty(C0,"unsuppressTracing",{enumerable:!0,get:function(){return ZX1.unsuppressTracing}});var iq8=tZ1();Object.defineProperty(C0,"TraceState",{enumerable:!0,get:function(){return iq8.TraceState}});var oq8=YL0();Object.defineProperty(C0,"merge",{enumerable:!0,get:function(){return oq8.merge}});var SL0=WL0();Object.defineProperty(C0,"TimeoutError",{enumerable:!0,get:function(){return SL0.TimeoutError}});Object.defineProperty(C0,"callWithTimeout",{enumerable:!0,get:function(){return SL0.callWithTimeout}});var TL0=qL0();Object.defineProperty(C0,"isUrlIgnored",{enumerable:!0,get:function(){return TL0.isUrlIgnored}});Object.defineProperty(C0,"urlMatches",{enumerable:!0,get:function(){return TL0.urlMatches}});var sq8=IL0();Object.defineProperty(C0,"BindOnceFuture",{enumerable:!0,get:function(){return sq8.BindOnceFuture}});var aq8=NL0();Object.defineProperty(C0,"diagLogLevelFromString",{enumerable:!0,get:function(){return aq8.diagLogLevelFromString}});var rq8=jL0();C0.internal={_export:rq8._export}});var _L0=B((bL0)=>{Object.defineProperty(bL0,"__esModule",{value:!0});bL0.kLayerPatched=void 0;bL0.kLayerPatched=Symbol("koa-layer-patched")});var lL0=B((mL0)=>{Object.defineProperty(mL0,"__esModule",{value:!0});mL0.KoaInstrumentation=void 0;var Fz=C(),PC=J6(),yL0=Ov(),vL0=GN0(),xL0=FN0(),gL0=kL0(),dL0=_L0();class uL0 extends PC.InstrumentationBase{constructor(J={}){super(vL0.PACKAGE_NAME,vL0.PACKAGE_VERSION,J)}init(){return new PC.InstrumentationNodeModuleDefinition("koa",[">=2.0.0 <3"],(J)=>{let Z=J[Symbol.toStringTag]==="Module"?J.default:J;if(Z==null)return Z;if((0,PC.isWrapped)(Z.prototype.use))this._unwrap(Z.prototype,"use");return this._wrap(Z.prototype,"use",this._getKoaUsePatch.bind(this)),J},(J)=>{let Z=J[Symbol.toStringTag]==="Module"?J.default:J;if((0,PC.isWrapped)(Z.prototype.use))this._unwrap(Z.prototype,"use")})}_getKoaUsePatch(J){let Z=this;return function X(Y){let $;if(Y.router)$=Z._patchRouterDispatch(Y);else $=Z._patchLayer(Y,!1);return J.apply(this,[$])}}_patchRouterDispatch(J){Fz.diag.debug("Patching @koa/router dispatch");let X=J.router?.stack??[];for(let Y of X){let{path:$,stack:z}=Y;for(let W=0;W<z.length;W++){let Q=z[W];z[W]=this._patchLayer(Q,!0,$)}}return J}_patchLayer(J,Z,X){let Y=Z?yL0.KoaLayerType.ROUTER:yL0.KoaLayerType.MIDDLEWARE;if(J[dL0.kLayerPatched]===!0||(0,xL0.isLayerIgnored)(Y,this.getConfig()))return J;if(J.constructor.name==="GeneratorFunction"||J.constructor.name==="AsyncGeneratorFunction")return Fz.diag.debug("ignoring generator-based Koa middleware layer"),J;return J[dL0.kLayerPatched]=!0,Fz.diag.debug("patching Koa middleware layer"),async($,z)=>{if(Fz.trace.getSpan(Fz.context.active())===void 0)return J($,z);let Q=(0,xL0.getMiddlewareMetadata)($,J,Z,X),G=this.tracer.startSpan(Q.name,{attributes:Q.attributes}),K=(0,gL0.getRPCMetadata)(Fz.context.active());if(K?.type===gL0.RPCType.HTTP&&$._matchedRoute)K.route=$._matchedRoute.toString();let{requestHook:q}=this.getConfig();if(q)(0,PC.safeExecuteInTheMiddle)(()=>q(G,{context:$,middlewareLayer:J,layerType:Y}),(F)=>{if(F)Fz.diag.error("koa instrumentation: request hook failed",F)},!0);let H=Fz.trace.setSpan(Fz.context.active(),G);return Fz.context.with(H,async()=>{try{return await J($,z)}catch(F){throw G.recordException(F),F}finally{G.end()}})}}}mL0.KoaInstrumentation=uL0});var pL0=B((HG)=>{var tq8=HG&&HG.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),XX1=HG&&HG.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))tq8(Z,J,X)};Object.defineProperty(HG,"__esModule",{value:!0});XX1(lL0(),HG);XX1(Ov(),HG);XX1(xZ1(),HG)});var oL0=B((nL0)=>{Object.defineProperty(nL0,"__esModule",{value:!0});nL0.PACKAGE_NAME=nL0.PACKAGE_VERSION=void 0;nL0.PACKAGE_VERSION="0.46.0";nL0.PACKAGE_NAME="@opentelemetry/instrumentation-lru-memoizer"});var ZC0=B((eL0)=>{Object.defineProperty(eL0,"__esModule",{value:!0});eL0.LruMemoizerInstrumentation=void 0;var sL0=C(),aL0=J6(),rL0=oL0();class tL0 extends aL0.InstrumentationBase{constructor(J={}){super(rL0.PACKAGE_NAME,rL0.PACKAGE_VERSION,J)}init(){return[new aL0.InstrumentationNodeModuleDefinition("lru-memoizer",[">=1.3 <3"],(J)=>{let Z=function(){let X=J.apply(this,arguments);return function(){let Y=[...arguments],$=Y.pop(),z=typeof $==="function"?sL0.context.bind(sL0.context.active(),$):$;return Y.push(z),X.apply(this,Y)}};return Z.sync=J.sync,Z},void 0)]}}eL0.LruMemoizerInstrumentation=tL0});var XC0=B((UU)=>{var JB8=UU&&UU.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),ZB8=UU&&UU.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))JB8(Z,J,X)};Object.defineProperty(UU,"__esModule",{value:!0});ZB8(ZC0(),UU)});var zC0=B((YC0)=>{Object.defineProperty(YC0,"__esModule",{value:!0});YC0.getPeerAttributes=void 0;var YX1=j1(),XB8=(J,Z,X)=>{if(!Z)if(J.servers.length===1)Z=J.servers[0];else{let Y=J.redundancy&&J.redundancy<J.servers.length,$=X.redundancyEnabled;if(Y&&$)Y=J.HashRing.range(X.key,J.redundancy+1,!0),Z=Y.shift();else Z=J.HashRing.get(X.key)}if(typeof Z==="string"){let[Y,$]=Z&&Z.split(":");if(Y&&$){let z=parseInt($,10);if(!isNaN(z))return{[YX1.SEMATTRS_NET_PEER_NAME]:Y,[YX1.SEMATTRS_NET_PEER_PORT]:z};return{[YX1.SEMATTRS_NET_PEER_NAME]:Y}}}return{}};YC0.getPeerAttributes=XB8});var GC0=B((WC0)=>{Object.defineProperty(WC0,"__esModule",{value:!0});WC0.PACKAGE_NAME=WC0.PACKAGE_VERSION=void 0;WC0.PACKAGE_VERSION="0.45.0";WC0.PACKAGE_NAME="@opentelemetry/instrumentation-memcached"});var HC0=B((qC0)=>{Object.defineProperty(qC0,"__esModule",{value:!0});qC0.MemcachedInstrumentation=void 0;var Iw=C(),$X1=J6(),Ev=j1(),$B8=zC0(),KC0=GC0();class LC extends $X1.InstrumentationBase{static COMPONENT="memcached";static COMMON_ATTRIBUTES={[Ev.SEMATTRS_DB_SYSTEM]:Ev.DBSYSTEMVALUES_MEMCACHED};static DEFAULT_CONFIG={enhancedDatabaseReporting:!1};constructor(J={}){super(KC0.PACKAGE_NAME,KC0.PACKAGE_VERSION,{...LC.DEFAULT_CONFIG,...J})}setConfig(J={}){super.setConfig({...LC.DEFAULT_CONFIG,...J})}init(){return[new $X1.InstrumentationNodeModuleDefinition("memcached",[">=2.2.0 <3"],(J,Z)=>{return this.ensureWrapped(J.prototype,"command",this.wrapCommand.bind(this,Z)),J},(J)=>{if(J===void 0)return;this._unwrap(J.prototype,"command")})]}wrapCommand(J,Z){let X=this;return function(Y,$){if(typeof Y!=="function")return Z.apply(this,arguments);let z=X.tracer.startSpan("unknown memcached command",{kind:Iw.SpanKind.CLIENT,attributes:{"memcached.version":J,...LC.COMMON_ATTRIBUTES}}),W=Iw.context.active(),Q=Iw.trace.setSpan(W,z);return Iw.context.with(Q,Z,this,X.wrapQueryCompiler.call(X,Y,this,$,W,z),$)}}wrapQueryCompiler(J,Z,X,Y,$){let z=this;return function(){let W=J.apply(this,arguments),Q=W.callback;return $.updateName(`memcached ${W.type}`),$.setAttributes({"db.memcached.key":W.key,"db.memcached.lifetime":W.lifetime,[Ev.SEMATTRS_DB_OPERATION]:W.type,[Ev.SEMATTRS_DB_STATEMENT]:z.getConfig().enhancedDatabaseReporting?W.command:void 0,...$B8.getPeerAttributes(Z,X,W)}),W.callback=Iw.context.bind(Y,function(G){if(G)$.recordException(G),$.setStatus({code:Iw.SpanStatusCode.ERROR,message:G.message});if($.end(),typeof Q==="function")return Q.apply(this,arguments)}),W}}ensureWrapped(J,Z,X){if((0,$X1.isWrapped)(J[Z]))this._unwrap(J,Z);this._wrap(J,Z,X)}}qC0.MemcachedInstrumentation=LC});var UC0=B((FC0)=>{Object.defineProperty(FC0,"__esModule",{value:!0})});var DC0=B((Hq)=>{var zB8=Hq&&Hq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),OC0=Hq&&Hq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))zB8(Z,J,X)};Object.defineProperty(Hq,"__esModule",{value:!0});OC0(HC0(),Hq);OC0(UC0(),Hq)});var IC0=B((VC0)=>{Object.defineProperty(VC0,"__esModule",{value:!0});VC0.MongodbCommandType=void 0;var WB8;(function(J){J.CREATE_INDEXES="createIndexes",J.FIND_AND_MODIFY="findAndModify",J.IS_MASTER="isMaster",J.COUNT="count",J.AGGREGATE="aggregate",J.UNKNOWN="unknown"})(WB8=VC0.MongodbCommandType||(VC0.MongodbCommandType={}))});var MC0=B((wC0)=>{Object.defineProperty(wC0,"__esModule",{value:!0});wC0.PACKAGE_NAME=wC0.PACKAGE_VERSION=void 0;wC0.PACKAGE_VERSION="0.54.0";wC0.PACKAGE_NAME="@opentelemetry/instrumentation-mongodb"});var jC0=B((LC0)=>{Object.defineProperty(LC0,"__esModule",{value:!0});LC0.MongoDBInstrumentation=void 0;var _8=C(),D8=J6(),FG=j1(),Fq=IC0(),NC0=MC0(),PC0={requireParentSpan:!0};class WX1 extends D8.InstrumentationBase{constructor(J={}){super(NC0.PACKAGE_NAME,NC0.PACKAGE_VERSION,{...PC0,...J})}setConfig(J={}){super.setConfig({...PC0,...J})}_updateMetricInstruments(){this._connectionsUsage=this.meter.createUpDownCounter("db.client.connections.usage",{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"})}init(){let{v3PatchConnection:J,v3UnpatchConnection:Z}=this._getV3ConnectionPatches(),{v4PatchConnect:X,v4UnpatchConnect:Y}=this._getV4ConnectPatches(),{v4PatchConnectionCallback:$,v4PatchConnectionPromise:z,v4UnpatchConnection:W}=this._getV4ConnectionPatches(),{v4PatchConnectionPool:Q,v4UnpatchConnectionPool:G}=this._getV4ConnectionPoolPatches(),{v4PatchSessions:K,v4UnpatchSessions:q}=this._getV4SessionsPatches();return[new D8.InstrumentationNodeModuleDefinition("mongodb",[">=3.3.0 <4"],void 0,void 0,[new D8.InstrumentationNodeModuleFile("mongodb/lib/core/wireprotocol/index.js",[">=3.3.0 <4"],J,Z)]),new D8.InstrumentationNodeModuleDefinition("mongodb",[">=4.0.0 <7"],void 0,void 0,[new D8.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection.js",[">=4.0.0 <6.4"],$,W),new D8.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection.js",[">=6.4.0 <7"],z,W),new D8.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection_pool.js",[">=4.0.0 <6.4"],Q,G),new D8.InstrumentationNodeModuleFile("mongodb/lib/cmap/connect.js",[">=4.0.0 <7"],X,Y),new D8.InstrumentationNodeModuleFile("mongodb/lib/sessions.js",[">=4.0.0 <7"],K,q)])]}_getV3ConnectionPatches(){return{v3PatchConnection:(J)=>{if((0,D8.isWrapped)(J.insert))this._unwrap(J,"insert");if(this._wrap(J,"insert",this._getV3PatchOperation("insert")),(0,D8.isWrapped)(J.remove))this._unwrap(J,"remove");if(this._wrap(J,"remove",this._getV3PatchOperation("remove")),(0,D8.isWrapped)(J.update))this._unwrap(J,"update");if(this._wrap(J,"update",this._getV3PatchOperation("update")),(0,D8.isWrapped)(J.command))this._unwrap(J,"command");if(this._wrap(J,"command",this._getV3PatchCommand()),(0,D8.isWrapped)(J.query))this._unwrap(J,"query");if(this._wrap(J,"query",this._getV3PatchFind()),(0,D8.isWrapped)(J.getMore))this._unwrap(J,"getMore");return this._wrap(J,"getMore",this._getV3PatchCursor()),J},v3UnpatchConnection:(J)=>{if(J===void 0)return;this._unwrap(J,"insert"),this._unwrap(J,"remove"),this._unwrap(J,"update"),this._unwrap(J,"command"),this._unwrap(J,"query"),this._unwrap(J,"getMore")}}}_getV4SessionsPatches(){return{v4PatchSessions:(J)=>{if((0,D8.isWrapped)(J.acquire))this._unwrap(J,"acquire");if(this._wrap(J.ServerSessionPool.prototype,"acquire",this._getV4AcquireCommand()),(0,D8.isWrapped)(J.release))this._unwrap(J,"release");return this._wrap(J.ServerSessionPool.prototype,"release",this._getV4ReleaseCommand()),J},v4UnpatchSessions:(J)=>{if(J===void 0)return;if((0,D8.isWrapped)(J.acquire))this._unwrap(J,"acquire");if((0,D8.isWrapped)(J.release))this._unwrap(J,"release")}}}_getV4AcquireCommand(){let J=this;return(Z)=>{return function X(){let Y=this.sessions.length,$=Z.call(this),z=this.sessions.length;if(Y===z)J._connectionsUsage.add(1,{state:"used","pool.name":J._poolName});else if(Y-1===z)J._connectionsUsage.add(-1,{state:"idle","pool.name":J._poolName}),J._connectionsUsage.add(1,{state:"used","pool.name":J._poolName});return $}}}_getV4ReleaseCommand(){let J=this;return(Z)=>{return function X(Y){let $=Z.call(this,Y);return J._connectionsUsage.add(-1,{state:"used","pool.name":J._poolName}),J._connectionsUsage.add(1,{state:"idle","pool.name":J._poolName}),$}}}_getV4ConnectionPoolPatches(){return{v4PatchConnectionPool:(J)=>{let Z=J.ConnectionPool.prototype;if((0,D8.isWrapped)(Z.checkOut))this._unwrap(Z,"checkOut");return this._wrap(Z,"checkOut",this._getV4ConnectionPoolCheckOut()),J},v4UnpatchConnectionPool:(J)=>{if(J===void 0)return;this._unwrap(J.ConnectionPool.prototype,"checkOut")}}}_getV4ConnectPatches(){return{v4PatchConnect:(J)=>{if((0,D8.isWrapped)(J.connect))this._unwrap(J,"connect");return this._wrap(J,"connect",this._getV4ConnectCommand()),J},v4UnpatchConnect:(J)=>{if(J===void 0)return;this._unwrap(J,"connect")}}}_getV4ConnectionPoolCheckOut(){return(J)=>{return function Z(X){let Y=_8.context.bind(_8.context.active(),X);return J.call(this,Y)}}}_getV4ConnectCommand(){let J=this;return(Z)=>{return function X(Y,$){if(Z.length===1){let W=Z.call(this,Y);if(W&&typeof W.then==="function")W.then(()=>J.setPoolName(Y),()=>{return});return W}let z=function(W,Q){if(W||!Q){$(W,Q);return}J.setPoolName(Y),$(W,Q)};return Z.call(this,Y,z)}}}_getV4ConnectionPatches(){return{v4PatchConnectionCallback:(J)=>{if((0,D8.isWrapped)(J.Connection.prototype.command))this._unwrap(J.Connection.prototype,"command");return this._wrap(J.Connection.prototype,"command",this._getV4PatchCommandCallback()),J},v4PatchConnectionPromise:(J)=>{if((0,D8.isWrapped)(J.Connection.prototype.command))this._unwrap(J.Connection.prototype,"command");return this._wrap(J.Connection.prototype,"command",this._getV4PatchCommandPromise()),J},v4UnpatchConnection:(J)=>{if(J===void 0)return;this._unwrap(J.Connection.prototype,"command")}}}_getV3PatchOperation(J){let Z=this;return(X)=>{return function Y($,z,W,Q,G){let K=_8.trace.getSpan(_8.context.active()),q=Z._checkSkipInstrumentation(K),H=typeof Q==="function"?Q:G;if(q||typeof H!=="function"||typeof W!=="object")if(typeof Q==="function")return X.call(this,$,z,W,Q);else return X.call(this,$,z,W,Q,G);let F=Z.tracer.startSpan(`mongodb.${J}`,{kind:_8.SpanKind.CLIENT});Z._populateV3Attributes(F,z,$,W[0],J);let U=Z._patchEnd(F,H);if(typeof Q==="function")return X.call(this,$,z,W,U);else return X.call(this,$,z,W,Q,U)}}}_getV3PatchCommand(){let J=this;return(Z)=>{return function X(Y,$,z,W,Q){let G=_8.trace.getSpan(_8.context.active()),K=J._checkSkipInstrumentation(G),q=typeof W==="function"?W:Q;if(K||typeof q!=="function"||typeof z!=="object")if(typeof W==="function")return Z.call(this,Y,$,z,W);else return Z.call(this,Y,$,z,W,Q);let H=WX1._getCommandType(z),F=H===Fq.MongodbCommandType.UNKNOWN?"command":H,U=J.tracer.startSpan(`mongodb.${F}`,{kind:_8.SpanKind.CLIENT}),D=H===Fq.MongodbCommandType.UNKNOWN?void 0:H;J._populateV3Attributes(U,$,Y,z,D);let V=J._patchEnd(U,q);if(typeof W==="function")return Z.call(this,Y,$,z,V);else return Z.call(this,Y,$,z,W,V)}}}_getV4PatchCommandCallback(){let J=this;return(Z)=>{return function X(Y,$,z,W){let Q=_8.trace.getSpan(_8.context.active()),G=J._checkSkipInstrumentation(Q),K=W,q=Object.keys($)[0];if(typeof $!=="object"||$.ismaster||$.hello)return Z.call(this,Y,$,z,W);let H=void 0;if(!G)H=J.tracer.startSpan(`mongodb.${q}`,{kind:_8.SpanKind.CLIENT}),J._populateV4Attributes(H,this,Y,$,q);let F=J._patchEnd(H,K,this.id,q);return Z.call(this,Y,$,z,F)}}}_getV4PatchCommandPromise(){let J=this;return(Z)=>{return function X(...Y){let[$,z]=Y,W=_8.trace.getSpan(_8.context.active()),Q=J._checkSkipInstrumentation(W),G=Object.keys(z)[0],K=()=>{return};if(typeof z!=="object"||z.ismaster||z.hello)return Z.apply(this,Y);let q=void 0;if(!Q)q=J.tracer.startSpan(`mongodb.${G}`,{kind:_8.SpanKind.CLIENT}),J._populateV4Attributes(q,this,$,z,G);let H=J._patchEnd(q,K,this.id,G),F=Z.apply(this,Y);return F.then((U)=>H(null,U),(U)=>H(U)),F}}}_getV3PatchFind(){let J=this;return(Z)=>{return function X(Y,$,z,W,Q,G){let K=_8.trace.getSpan(_8.context.active()),q=J._checkSkipInstrumentation(K),H=typeof Q==="function"?Q:G;if(q||typeof H!=="function"||typeof z!=="object")if(typeof Q==="function")return Z.call(this,Y,$,z,W,Q);else return Z.call(this,Y,$,z,W,Q,G);let F=J.tracer.startSpan("mongodb.find",{kind:_8.SpanKind.CLIENT});J._populateV3Attributes(F,$,Y,z,"find");let U=J._patchEnd(F,H);if(typeof Q==="function")return Z.call(this,Y,$,z,W,U);else return Z.call(this,Y,$,z,W,Q,U)}}}_getV3PatchCursor(){let J=this;return(Z)=>{return function X(Y,$,z,W,Q,G){let K=_8.trace.getSpan(_8.context.active()),q=J._checkSkipInstrumentation(K),H=typeof Q==="function"?Q:G;if(q||typeof H!=="function")if(typeof Q==="function")return Z.call(this,Y,$,z,W,Q);else return Z.call(this,Y,$,z,W,Q,G);let F=J.tracer.startSpan("mongodb.getMore",{kind:_8.SpanKind.CLIENT});J._populateV3Attributes(F,$,Y,z.cmd,"getMore");let U=J._patchEnd(F,H);if(typeof Q==="function")return Z.call(this,Y,$,z,W,U);else return Z.call(this,Y,$,z,W,Q,U)}}}static _getCommandType(J){if(J.createIndexes!==void 0)return Fq.MongodbCommandType.CREATE_INDEXES;else if(J.findandmodify!==void 0)return Fq.MongodbCommandType.FIND_AND_MODIFY;else if(J.ismaster!==void 0)return Fq.MongodbCommandType.IS_MASTER;else if(J.count!==void 0)return Fq.MongodbCommandType.COUNT;else if(J.aggregate!==void 0)return Fq.MongodbCommandType.AGGREGATE;else return Fq.MongodbCommandType.UNKNOWN}_populateV4Attributes(J,Z,X,Y,$){let z,W;if(Z){let G=typeof Z.address==="string"?Z.address.split(":"):"";if(G.length===2)z=G[0],W=G[1]}let Q;if(Y?.documents&&Y.documents[0])Q=Y.documents[0];else if(Y?.cursors)Q=Y.cursors;else Q=Y;this._addAllSpanAttributes(J,X.db,X.collection,z,W,Q,$)}_populateV3Attributes(J,Z,X,Y,$){let z,W;if(X&&X.s){if(z=X.s.options?.host??X.s.host,W=(X.s.options?.port??X.s.port)?.toString(),z==null||W==null){let q=X.description?.address;if(q){let H=q.split(":");z=H[0],W=H[1]}}}let[Q,G]=Z.toString().split("."),K=Y?.query??Y?.q??Y;this._addAllSpanAttributes(J,Q,G,z,W,K,$)}_addAllSpanAttributes(J,Z,X,Y,$,z,W){if(J.setAttributes({[FG.SEMATTRS_DB_SYSTEM]:FG.DBSYSTEMVALUES_MONGODB,[FG.SEMATTRS_DB_NAME]:Z,[FG.SEMATTRS_DB_MONGODB_COLLECTION]:X,[FG.SEMATTRS_DB_OPERATION]:W,[FG.SEMATTRS_DB_CONNECTION_STRING]:`mongodb://${Y}:${$}/${Z}`}),Y&&$){J.setAttribute(FG.SEMATTRS_NET_PEER_NAME,Y);let K=parseInt($,10);if(!isNaN(K))J.setAttribute(FG.SEMATTRS_NET_PEER_PORT,K)}if(!z)return;let{dbStatementSerializer:Q}=this.getConfig(),G=typeof Q==="function"?Q:this._defaultDbStatementSerializer.bind(this);(0,D8.safeExecuteInTheMiddle)(()=>{let K=G(z);J.setAttribute(FG.SEMATTRS_DB_STATEMENT,K)},(K)=>{if(K)this._diag.error("Error running dbStatementSerializer hook",K)},!0)}_defaultDbStatementSerializer(J){let{enhancedDatabaseReporting:Z}=this.getConfig(),X=Z?J:this._scrubStatement(J);return JSON.stringify(X)}_scrubStatement(J){if(Array.isArray(J))return J.map((Z)=>this._scrubStatement(Z));if(typeof J==="object"&&J!==null)return Object.fromEntries(Object.entries(J).map(([Z,X])=>[Z,this._scrubStatement(X)]));return"?"}_handleExecutionResult(J,Z){let{responseHook:X}=this.getConfig();if(typeof X==="function")(0,D8.safeExecuteInTheMiddle)(()=>{X(J,{data:Z})},(Y)=>{if(Y)this._diag.error("Error running response hook",Y)},!0)}_patchEnd(J,Z,X,Y){let $=_8.context.active(),z=this;return function W(...Q){let G=Q[0];if(J){if(G instanceof Error)J?.setStatus({code:_8.SpanStatusCode.ERROR,message:G.message});else{let K=Q[1];z._handleExecutionResult(J,K)}J.end()}return _8.context.with($,()=>{if(Y==="endSessions")z._connectionsUsage.add(-1,{state:"idle","pool.name":z._poolName});return Z.apply(this,Q)})}}setPoolName(J){let Z=J.hostAddress?.host,X=J.hostAddress?.port,Y=J.dbName,$=`mongodb://${Z}:${X}/${Y}`;this._poolName=$}_checkSkipInstrumentation(J){return this.getConfig().requireParentSpan===!0&&J===void 0}}LC0.MongoDBInstrumentation=WX1});var EC0=B((RC0)=>{Object.defineProperty(RC0,"__esModule",{value:!0});RC0.MongodbCommandType=void 0;var GB8;(function(J){J.CREATE_INDEXES="createIndexes",J.FIND_AND_MODIFY="findAndModify",J.IS_MASTER="isMaster",J.COUNT="count",J.UNKNOWN="unknown"})(GB8=RC0.MongodbCommandType||(RC0.MongodbCommandType={}))});var TC0=B((Uq)=>{var KB8=Uq&&Uq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),SC0=Uq&&Uq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))KB8(Z,J,X)};Object.defineProperty(Uq,"__esModule",{value:!0});SC0(jC0(),Uq);SC0(EC0(),Uq)});var CC=B((fC0)=>{Object.defineProperty(fC0,"__esModule",{value:!0});fC0.isTracingSuppressed=fC0.unsuppressTracing=fC0.suppressTracing=void 0;var qB8=C(),GX1=(0,qB8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function BB8(J){return J.setValue(GX1,!0)}fC0.suppressTracing=BB8;function HB8(J){return J.deleteValue(GX1)}fC0.unsuppressTracing=HB8;function FB8(J){return J.getValue(GX1)===!0}fC0.isTracingSuppressed=FB8});var KX1=B((bC0)=>{Object.defineProperty(bC0,"__esModule",{value:!0});bC0.BAGGAGE_MAX_TOTAL_LENGTH=bC0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=bC0.BAGGAGE_MAX_NAME_VALUE_PAIRS=bC0.BAGGAGE_HEADER=bC0.BAGGAGE_ITEMS_SEPARATOR=bC0.BAGGAGE_PROPERTIES_SEPARATOR=bC0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;bC0.BAGGAGE_KEY_PAIR_SEPARATOR="=";bC0.BAGGAGE_PROPERTIES_SEPARATOR=";";bC0.BAGGAGE_ITEMS_SEPARATOR=",";bC0.BAGGAGE_HEADER="baggage";bC0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;bC0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;bC0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var qX1=B((yC0)=>{Object.defineProperty(yC0,"__esModule",{value:!0});yC0.parseKeyPairsIntoRecord=yC0.parsePairKeyValue=yC0.getKeyPairs=yC0.serializeKeyPairs=void 0;var NB8=C(),OU=KX1();function PB8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?OU.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>OU.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}yC0.serializeKeyPairs=PB8;function LB8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=OU.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}yC0.getKeyPairs=LB8;function _C0(J){let Z=J.split(OU.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(OU.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,NB8.baggageEntryMetadataFromString)(Z.join(OU.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}yC0.parsePairKeyValue=_C0;function CB8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(OU.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=_C0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}yC0.parseKeyPairsIntoRecord=CB8});var uC0=B((gC0)=>{Object.defineProperty(gC0,"__esModule",{value:!0});gC0.W3CBaggagePropagator=void 0;var BX1=C(),SB8=CC(),DU=KX1(),HX1=qX1();class xC0{inject(J,Z,X){let Y=BX1.propagation.getBaggage(J);if(!Y||(0,SB8.isTracingSuppressed)(J))return;let $=(0,HX1.getKeyPairs)(Y).filter((W)=>{return W.length<=DU.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,DU.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,HX1.serializeKeyPairs)($);if(z.length>0)X.set(Z,DU.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,DU.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(DU.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(DU.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,HX1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return BX1.propagation.setBaggage(J,BX1.propagation.createBaggage(z))}fields(){return[DU.BAGGAGE_HEADER]}}gC0.W3CBaggagePropagator=xC0});var pC0=B((cC0)=>{Object.defineProperty(cC0,"__esModule",{value:!0});cC0.AnchoredClock=void 0;class mC0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}cC0.AnchoredClock=mC0});var tC0=B((aC0)=>{Object.defineProperty(aC0,"__esModule",{value:!0});aC0.isAttributeValue=aC0.isAttributeKey=aC0.sanitizeAttributes=void 0;var nC0=C();function TB8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!iC0(X)){nC0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!oC0(Y)){nC0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}aC0.sanitizeAttributes=TB8;function iC0(J){return typeof J==="string"&&J.length>0}aC0.isAttributeKey=iC0;function oC0(J){if(J==null)return!0;if(Array.isArray(J))return fB8(J);return sC0(J)}aC0.isAttributeValue=oC0;function fB8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(sC0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function sC0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var FX1=B((eC0)=>{Object.defineProperty(eC0,"__esModule",{value:!0});eC0.loggingErrorHandler=void 0;var hB8=C();function _B8(){return(J)=>{hB8.diag.error(yB8(J))}}eC0.loggingErrorHandler=_B8;function yB8(J){if(typeof J==="string")return J;else return JSON.stringify(vB8(J))}function vB8(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var $20=B((X20)=>{Object.defineProperty(X20,"__esModule",{value:!0});X20.globalErrorHandler=X20.setGlobalErrorHandler=void 0;var xB8=FX1(),Z20=(0,xB8.loggingErrorHandler)();function gB8(J){Z20=J}X20.setGlobalErrorHandler=gB8;function dB8(J){try{Z20(J)}catch{}}X20.globalErrorHandler=dB8});var q20=B((G20)=>{Object.defineProperty(G20,"__esModule",{value:!0});G20.getStringListFromEnv=G20.getBooleanFromEnv=G20.getStringFromEnv=G20.getNumberFromEnv=void 0;var z20=C(),W20=p("util");function mB8(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){z20.diag.warn(`Unknown value ${(0,W20.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}G20.getNumberFromEnv=mB8;function Q20(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}G20.getStringFromEnv=Q20;function cB8(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return z20.diag.warn(`Unknown value ${(0,W20.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}G20.getBooleanFromEnv=cB8;function lB8(J){return Q20(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}G20.getStringListFromEnv=lB8});var F20=B((B20)=>{Object.defineProperty(B20,"__esModule",{value:!0});B20._globalThis=void 0;B20._globalThis=typeof globalThis==="object"?globalThis:global});var D20=B((U20)=>{Object.defineProperty(U20,"__esModule",{value:!0});U20.otperformance=void 0;var oB8=p("perf_hooks");U20.otperformance=oB8.performance});var w20=B((V20)=>{Object.defineProperty(V20,"__esModule",{value:!0});V20.VERSION=void 0;V20.VERSION="2.0.1"});var N20=B((A20)=>{Object.defineProperty(A20,"__esModule",{value:!0});A20.ATTR_PROCESS_RUNTIME_NAME=void 0;A20.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var C20=B((P20)=>{Object.defineProperty(P20,"__esModule",{value:!0});P20.SDK_INFO=void 0;var sB8=w20(),Sv=j1(),aB8=N20();P20.SDK_INFO={[Sv.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[aB8.ATTR_PROCESS_RUNTIME_NAME]:"node",[Sv.ATTR_TELEMETRY_SDK_LANGUAGE]:Sv.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[Sv.ATTR_TELEMETRY_SDK_VERSION]:sB8.VERSION}});var E20=B((j20)=>{Object.defineProperty(j20,"__esModule",{value:!0});j20.unrefTimer=void 0;function rB8(J){J.unref()}j20.unrefTimer=rB8});var S20=B((Uz)=>{Object.defineProperty(Uz,"__esModule",{value:!0});Uz.unrefTimer=Uz.SDK_INFO=Uz.otperformance=Uz._globalThis=Uz.getStringListFromEnv=Uz.getNumberFromEnv=Uz.getBooleanFromEnv=Uz.getStringFromEnv=void 0;var Tv=q20();Object.defineProperty(Uz,"getStringFromEnv",{enumerable:!0,get:function(){return Tv.getStringFromEnv}});Object.defineProperty(Uz,"getBooleanFromEnv",{enumerable:!0,get:function(){return Tv.getBooleanFromEnv}});Object.defineProperty(Uz,"getNumberFromEnv",{enumerable:!0,get:function(){return Tv.getNumberFromEnv}});Object.defineProperty(Uz,"getStringListFromEnv",{enumerable:!0,get:function(){return Tv.getStringListFromEnv}});var tB8=F20();Object.defineProperty(Uz,"_globalThis",{enumerable:!0,get:function(){return tB8._globalThis}});var eB8=D20();Object.defineProperty(Uz,"otperformance",{enumerable:!0,get:function(){return eB8.otperformance}});var JH8=C20();Object.defineProperty(Uz,"SDK_INFO",{enumerable:!0,get:function(){return JH8.SDK_INFO}});var ZH8=E20();Object.defineProperty(Uz,"unrefTimer",{enumerable:!0,get:function(){return ZH8.unrefTimer}})});var UX1=B((Oz)=>{Object.defineProperty(Oz,"__esModule",{value:!0});Oz.getStringListFromEnv=Oz.getNumberFromEnv=Oz.getStringFromEnv=Oz.getBooleanFromEnv=Oz.unrefTimer=Oz.otperformance=Oz._globalThis=Oz.SDK_INFO=void 0;var Oq=S20();Object.defineProperty(Oz,"SDK_INFO",{enumerable:!0,get:function(){return Oq.SDK_INFO}});Object.defineProperty(Oz,"_globalThis",{enumerable:!0,get:function(){return Oq._globalThis}});Object.defineProperty(Oz,"otperformance",{enumerable:!0,get:function(){return Oq.otperformance}});Object.defineProperty(Oz,"unrefTimer",{enumerable:!0,get:function(){return Oq.unrefTimer}});Object.defineProperty(Oz,"getBooleanFromEnv",{enumerable:!0,get:function(){return Oq.getBooleanFromEnv}});Object.defineProperty(Oz,"getStringFromEnv",{enumerable:!0,get:function(){return Oq.getStringFromEnv}});Object.defineProperty(Oz,"getNumberFromEnv",{enumerable:!0,get:function(){return Oq.getNumberFromEnv}});Object.defineProperty(Oz,"getStringListFromEnv",{enumerable:!0,get:function(){return Oq.getStringListFromEnv}})});var _20=B((b20)=>{Object.defineProperty(b20,"__esModule",{value:!0});b20.addHrTimes=b20.isTimeInput=b20.isTimeInputHrTime=b20.hrTimeToMicroseconds=b20.hrTimeToMilliseconds=b20.hrTimeToNanoseconds=b20.hrTimeToTimeStamp=b20.hrTimeDuration=b20.timeInputToHrTime=b20.hrTime=b20.getTimeOrigin=b20.millisToHrTime=void 0;var OX1=UX1(),T20=9,$H8=6,zH8=Math.pow(10,$H8),fv=Math.pow(10,T20);function jC(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*zH8);return[X,Y]}b20.millisToHrTime=jC;function DX1(){let J=OX1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=OX1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}b20.getTimeOrigin=DX1;function f20(J){let Z=jC(DX1()),X=jC(typeof J==="number"?J:OX1.otperformance.now());return k20(Z,X)}b20.hrTime=f20;function WH8(J){if(VX1(J))return J;else if(typeof J==="number")if(J<DX1())return f20(J);else return jC(J);else if(J instanceof Date)return jC(J.getTime());else throw TypeError("Invalid input type")}b20.timeInputToHrTime=WH8;function QH8(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=fv;return[X,Y]}b20.hrTimeDuration=QH8;function GH8(J){let Z=T20,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}b20.hrTimeToTimeStamp=GH8;function KH8(J){return J[0]*fv+J[1]}b20.hrTimeToNanoseconds=KH8;function qH8(J){return J[0]*1000+J[1]/1e6}b20.hrTimeToMilliseconds=qH8;function BH8(J){return J[0]*1e6+J[1]/1000}b20.hrTimeToMicroseconds=BH8;function VX1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}b20.isTimeInputHrTime=VX1;function HH8(J){return VX1(J)||typeof J==="number"||J instanceof Date}b20.isTimeInput=HH8;function k20(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=fv)X[1]-=fv,X[0]+=1;return X}b20.addHrTimes=k20});var v20=B((y20)=>{Object.defineProperty(y20,"__esModule",{value:!0});y20.ExportResultCode=void 0;var LH8;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(LH8=y20.ExportResultCode||(y20.ExportResultCode={}))});var m20=B((d20)=>{Object.defineProperty(d20,"__esModule",{value:!0});d20.CompositePropagator=void 0;var x20=C();class g20{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){x20.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){x20.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}d20.CompositePropagator=g20});var p20=B((c20)=>{Object.defineProperty(c20,"__esModule",{value:!0});c20.validateValue=c20.validateKey=void 0;var wX1="[_0-9a-z-*/]",CH8=`[a-z]${wX1}{0,255}`,jH8=`[a-z0-9]${wX1}{0,240}@[a-z]${wX1}{0,13}`,RH8=new RegExp(`^(?:${CH8}|${jH8})$`),EH8=/^[ -~]{0,255}[!-~]$/,SH8=/,|=/;function TH8(J){return RH8.test(J)}c20.validateKey=TH8;function fH8(J){return EH8.test(J)&&!SH8.test(J)}c20.validateValue=fH8});var MX1=B((a20)=>{Object.defineProperty(a20,"__esModule",{value:!0});a20.TraceState=void 0;var n20=p20(),i20=32,bH8=512,o20=",",s20="=";class AX1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+s20+this.get(Z)),J},[]).join(o20)}_parse(J){if(J.length>bH8)return;if(this._internalState=J.split(o20).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(s20);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,n20.validateKey)(z)&&(0,n20.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>i20)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,i20))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new AX1;return J._internalState=new Map(this._internalState),J}}a20.TraceState=AX1});var Xj0=B((Jj0)=>{Object.defineProperty(Jj0,"__esModule",{value:!0});Jj0.W3CTraceContextPropagator=Jj0.parseTraceParent=Jj0.TRACE_STATE_HEADER=Jj0.TRACE_PARENT_HEADER=void 0;var kv=C(),hH8=CC(),_H8=MX1();Jj0.TRACE_PARENT_HEADER="traceparent";Jj0.TRACE_STATE_HEADER="tracestate";var yH8="00",vH8="(?!ff)[\\da-f]{2}",xH8="(?![0]{32})[\\da-f]{32}",gH8="(?![0]{16})[\\da-f]{16}",dH8="[\\da-f]{2}",uH8=new RegExp(`^\\s?(${vH8})-(${xH8})-(${gH8})-(${dH8})(-.*)?\\s?$`);function t20(J){let Z=uH8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}Jj0.parseTraceParent=t20;class e20{inject(J,Z,X){let Y=kv.trace.getSpanContext(J);if(!Y||(0,hH8.isTracingSuppressed)(J)||!(0,kv.isSpanContextValid)(Y))return;let $=`${yH8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||kv.TraceFlags.NONE).toString(16)}`;if(X.set(Z,Jj0.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,Jj0.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,Jj0.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=t20($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,Jj0.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new _H8.TraceState(typeof Q==="string"?Q:void 0)}return kv.trace.setSpanContext(J,z)}fields(){return[Jj0.TRACE_PARENT_HEADER,Jj0.TRACE_STATE_HEADER]}}Jj0.W3CTraceContextPropagator=e20});var Wj0=B(($j0)=>{Object.defineProperty($j0,"__esModule",{value:!0});$j0.getRPCMetadata=$j0.deleteRPCMetadata=$j0.setRPCMetadata=$j0.RPCType=void 0;var cH8=C(),NX1=(0,cH8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),lH8;(function(J){J.HTTP="http"})(lH8=$j0.RPCType||($j0.RPCType={}));function pH8(J,Z){return J.setValue(NX1,Z)}$j0.setRPCMetadata=pH8;function nH8(J){return J.deleteValue(NX1)}$j0.deleteRPCMetadata=nH8;function iH8(J){return J.getValue(NX1)}$j0.getRPCMetadata=iH8});var Fj0=B((Bj0)=>{Object.defineProperty(Bj0,"__esModule",{value:!0});Bj0.isPlainObject=void 0;var aH8="[object Object]",rH8="[object Null]",tH8="[object Undefined]",eH8=Function.prototype,Qj0=eH8.toString,JF8=Qj0.call(Object),ZF8=Object.getPrototypeOf,Gj0=Object.prototype,Kj0=Gj0.hasOwnProperty,VU=Symbol?Symbol.toStringTag:void 0,qj0=Gj0.toString;function XF8(J){if(!YF8(J)||$F8(J)!==aH8)return!1;let Z=ZF8(J);if(Z===null)return!0;let X=Kj0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&Qj0.call(X)===JF8}Bj0.isPlainObject=XF8;function YF8(J){return J!=null&&typeof J=="object"}function $F8(J){if(J==null)return J===void 0?tH8:rH8;return VU&&VU in Object(J)?zF8(J):WF8(J)}function zF8(J){let Z=Kj0.call(J,VU),X=J[VU],Y=!1;try{J[VU]=void 0,Y=!0}catch(z){}let $=qj0.call(J);if(Y)if(Z)J[VU]=X;else delete J[VU];return $}function WF8(J){return qj0.call(J)}});var Aj0=B((Ij0)=>{Object.defineProperty(Ij0,"__esModule",{value:!0});Ij0.merge=void 0;var Uj0=Fj0(),QF8=20;function GF8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=Dj0(Z,J.shift(),0,X);return Z}Ij0.merge=GF8;function PX1(J){if(yv(J))return J.slice();return J}function Dj0(J,Z,X=0,Y){let $;if(X>QF8)return;if(X++,_v(J)||_v(Z)||Vj0(Z))$=PX1(Z);else if(yv(J)){if($=J.slice(),yv(Z))for(let z=0,W=Z.length;z<W;z++)$.push(PX1(Z[z]));else if(RC(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=PX1(Z[G])}}}else if(RC(J))if(RC(Z)){if(!KF8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(_v(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(Oj0(J,G,Y)||Oj0(Z,G,Y))delete $[G];else{if(RC(q)&&RC(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=Dj0($[G],K,X,Y)}}}}else $=Z;return $}function Oj0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function yv(J){return Array.isArray(J)}function Vj0(J){return typeof J==="function"}function RC(J){return!_v(J)&&!yv(J)&&!Vj0(J)&&typeof J==="object"}function _v(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function KF8(J,Z){if(!(0,Uj0.isPlainObject)(J)||!(0,Uj0.isPlainObject)(Z))return!1;return!0}});var Pj0=B((Mj0)=>{Object.defineProperty(Mj0,"__esModule",{value:!0});Mj0.callWithTimeout=Mj0.TimeoutError=void 0;class vv extends Error{constructor(J){super(J);Object.setPrototypeOf(this,vv.prototype)}}Mj0.TimeoutError=vv;function qF8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new vv("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}Mj0.callWithTimeout=qF8});var Rj0=B((Cj0)=>{Object.defineProperty(Cj0,"__esModule",{value:!0});Cj0.isUrlIgnored=Cj0.urlMatches=void 0;function Lj0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}Cj0.urlMatches=Lj0;function HF8(J,Z){if(!Z)return!1;for(let X of Z)if(Lj0(J,X))return!0;return!1}Cj0.isUrlIgnored=HF8});var fj0=B((Sj0)=>{Object.defineProperty(Sj0,"__esModule",{value:!0});Sj0.Deferred=void 0;class Ej0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}Sj0.Deferred=Ej0});var _j0=B((bj0)=>{Object.defineProperty(bj0,"__esModule",{value:!0});bj0.BindOnceFuture=void 0;var UF8=fj0();class kj0{_callback;_that;_isCalled=!1;_deferred=new UF8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}bj0.BindOnceFuture=kj0});var gj0=B((vj0)=>{Object.defineProperty(vj0,"__esModule",{value:!0});vj0.diagLogLevelFromString=void 0;var UG=C(),yj0={ALL:UG.DiagLogLevel.ALL,VERBOSE:UG.DiagLogLevel.VERBOSE,DEBUG:UG.DiagLogLevel.DEBUG,INFO:UG.DiagLogLevel.INFO,WARN:UG.DiagLogLevel.WARN,ERROR:UG.DiagLogLevel.ERROR,NONE:UG.DiagLogLevel.NONE};function OF8(J){if(J==null)return;let Z=yj0[J.toUpperCase()];if(Z==null)return UG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(yj0)}, using default`),UG.DiagLogLevel.INFO;return Z}vj0.diagLogLevelFromString=OF8});var cj0=B((uj0)=>{Object.defineProperty(uj0,"__esModule",{value:!0});uj0._export=void 0;var dj0=C(),DF8=CC();function VF8(J,Z){return new Promise((X)=>{dj0.context.with((0,DF8.suppressTracing)(dj0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}uj0._export=VF8});var sj0=B((j0)=>{Object.defineProperty(j0,"__esModule",{value:!0});j0.internal=j0.diagLogLevelFromString=j0.BindOnceFuture=j0.urlMatches=j0.isUrlIgnored=j0.callWithTimeout=j0.TimeoutError=j0.merge=j0.TraceState=j0.unsuppressTracing=j0.suppressTracing=j0.isTracingSuppressed=j0.setRPCMetadata=j0.getRPCMetadata=j0.deleteRPCMetadata=j0.RPCType=j0.parseTraceParent=j0.W3CTraceContextPropagator=j0.TRACE_STATE_HEADER=j0.TRACE_PARENT_HEADER=j0.CompositePropagator=j0.unrefTimer=j0.otperformance=j0.getStringListFromEnv=j0.getNumberFromEnv=j0.getBooleanFromEnv=j0.getStringFromEnv=j0._globalThis=j0.SDK_INFO=j0.parseKeyPairsIntoRecord=j0.ExportResultCode=j0.timeInputToHrTime=j0.millisToHrTime=j0.isTimeInputHrTime=j0.isTimeInput=j0.hrTimeToTimeStamp=j0.hrTimeToNanoseconds=j0.hrTimeToMilliseconds=j0.hrTimeToMicroseconds=j0.hrTimeDuration=j0.hrTime=j0.getTimeOrigin=j0.addHrTimes=j0.loggingErrorHandler=j0.setGlobalErrorHandler=j0.globalErrorHandler=j0.sanitizeAttributes=j0.isAttributeValue=j0.AnchoredClock=j0.W3CBaggagePropagator=void 0;var IF8=uC0();Object.defineProperty(j0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return IF8.W3CBaggagePropagator}});var wF8=pC0();Object.defineProperty(j0,"AnchoredClock",{enumerable:!0,get:function(){return wF8.AnchoredClock}});var lj0=tC0();Object.defineProperty(j0,"isAttributeValue",{enumerable:!0,get:function(){return lj0.isAttributeValue}});Object.defineProperty(j0,"sanitizeAttributes",{enumerable:!0,get:function(){return lj0.sanitizeAttributes}});var pj0=$20();Object.defineProperty(j0,"globalErrorHandler",{enumerable:!0,get:function(){return pj0.globalErrorHandler}});Object.defineProperty(j0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return pj0.setGlobalErrorHandler}});var AF8=FX1();Object.defineProperty(j0,"loggingErrorHandler",{enumerable:!0,get:function(){return AF8.loggingErrorHandler}});var mZ=_20();Object.defineProperty(j0,"addHrTimes",{enumerable:!0,get:function(){return mZ.addHrTimes}});Object.defineProperty(j0,"getTimeOrigin",{enumerable:!0,get:function(){return mZ.getTimeOrigin}});Object.defineProperty(j0,"hrTime",{enumerable:!0,get:function(){return mZ.hrTime}});Object.defineProperty(j0,"hrTimeDuration",{enumerable:!0,get:function(){return mZ.hrTimeDuration}});Object.defineProperty(j0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return mZ.hrTimeToMicroseconds}});Object.defineProperty(j0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return mZ.hrTimeToMilliseconds}});Object.defineProperty(j0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return mZ.hrTimeToNanoseconds}});Object.defineProperty(j0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return mZ.hrTimeToTimeStamp}});Object.defineProperty(j0,"isTimeInput",{enumerable:!0,get:function(){return mZ.isTimeInput}});Object.defineProperty(j0,"isTimeInputHrTime",{enumerable:!0,get:function(){return mZ.isTimeInputHrTime}});Object.defineProperty(j0,"millisToHrTime",{enumerable:!0,get:function(){return mZ.millisToHrTime}});Object.defineProperty(j0,"timeInputToHrTime",{enumerable:!0,get:function(){return mZ.timeInputToHrTime}});var MF8=v20();Object.defineProperty(j0,"ExportResultCode",{enumerable:!0,get:function(){return MF8.ExportResultCode}});var NF8=qX1();Object.defineProperty(j0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return NF8.parseKeyPairsIntoRecord}});var Dq=UX1();Object.defineProperty(j0,"SDK_INFO",{enumerable:!0,get:function(){return Dq.SDK_INFO}});Object.defineProperty(j0,"_globalThis",{enumerable:!0,get:function(){return Dq._globalThis}});Object.defineProperty(j0,"getStringFromEnv",{enumerable:!0,get:function(){return Dq.getStringFromEnv}});Object.defineProperty(j0,"getBooleanFromEnv",{enumerable:!0,get:function(){return Dq.getBooleanFromEnv}});Object.defineProperty(j0,"getNumberFromEnv",{enumerable:!0,get:function(){return Dq.getNumberFromEnv}});Object.defineProperty(j0,"getStringListFromEnv",{enumerable:!0,get:function(){return Dq.getStringListFromEnv}});Object.defineProperty(j0,"otperformance",{enumerable:!0,get:function(){return Dq.otperformance}});Object.defineProperty(j0,"unrefTimer",{enumerable:!0,get:function(){return Dq.unrefTimer}});var PF8=m20();Object.defineProperty(j0,"CompositePropagator",{enumerable:!0,get:function(){return PF8.CompositePropagator}});var xv=Xj0();Object.defineProperty(j0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return xv.TRACE_PARENT_HEADER}});Object.defineProperty(j0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return xv.TRACE_STATE_HEADER}});Object.defineProperty(j0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return xv.W3CTraceContextPropagator}});Object.defineProperty(j0,"parseTraceParent",{enumerable:!0,get:function(){return xv.parseTraceParent}});var gv=Wj0();Object.defineProperty(j0,"RPCType",{enumerable:!0,get:function(){return gv.RPCType}});Object.defineProperty(j0,"deleteRPCMetadata",{enumerable:!0,get:function(){return gv.deleteRPCMetadata}});Object.defineProperty(j0,"getRPCMetadata",{enumerable:!0,get:function(){return gv.getRPCMetadata}});Object.defineProperty(j0,"setRPCMetadata",{enumerable:!0,get:function(){return gv.setRPCMetadata}});var LX1=CC();Object.defineProperty(j0,"isTracingSuppressed",{enumerable:!0,get:function(){return LX1.isTracingSuppressed}});Object.defineProperty(j0,"suppressTracing",{enumerable:!0,get:function(){return LX1.suppressTracing}});Object.defineProperty(j0,"unsuppressTracing",{enumerable:!0,get:function(){return LX1.unsuppressTracing}});var LF8=MX1();Object.defineProperty(j0,"TraceState",{enumerable:!0,get:function(){return LF8.TraceState}});var CF8=Aj0();Object.defineProperty(j0,"merge",{enumerable:!0,get:function(){return CF8.merge}});var nj0=Pj0();Object.defineProperty(j0,"TimeoutError",{enumerable:!0,get:function(){return nj0.TimeoutError}});Object.defineProperty(j0,"callWithTimeout",{enumerable:!0,get:function(){return nj0.callWithTimeout}});var ij0=Rj0();Object.defineProperty(j0,"isUrlIgnored",{enumerable:!0,get:function(){return ij0.isUrlIgnored}});Object.defineProperty(j0,"urlMatches",{enumerable:!0,get:function(){return ij0.urlMatches}});var jF8=_j0();Object.defineProperty(j0,"BindOnceFuture",{enumerable:!0,get:function(){return jF8.BindOnceFuture}});var RF8=gj0();Object.defineProperty(j0,"diagLogLevelFromString",{enumerable:!0,get:function(){return RF8.diagLogLevelFromString}});var EF8=cj0();j0.internal={_export:EF8._export}});var JR0=B((tj0)=>{Object.defineProperty(tj0,"__esModule",{value:!0});tj0.handleCallbackResponse=tj0.handlePromiseResponse=tj0.getAttributesFromCollection=void 0;var aj0=C(),SF8=J6(),EC=j1();function TF8(J){return{[EC.SEMATTRS_DB_MONGODB_COLLECTION]:J.name,[EC.SEMATTRS_DB_NAME]:J.conn.name,[EC.SEMATTRS_DB_USER]:J.conn.user,[EC.SEMATTRS_NET_PEER_NAME]:J.conn.host,[EC.SEMATTRS_NET_PEER_PORT]:J.conn.port}}tj0.getAttributesFromCollection=TF8;function rj0(J,Z={}){J.recordException(Z),J.setStatus({code:aj0.SpanStatusCode.ERROR,message:`${Z.message} ${Z.code?`
Mongoose Error Code: ${Z.code}`:""}`})}function CX1(J,Z,X,Y=void 0){if(!X)return;(0,SF8.safeExecuteInTheMiddle)(()=>X(J,{moduleVersion:Y,response:Z}),($)=>{if($)aj0.diag.error("mongoose instrumentation: responseHook error",$)},!0)}function fF8(J,Z,X,Y=void 0){if(!(J instanceof Promise))return CX1(Z,J,X,Y),Z.end(),J;return J.then(($)=>{return CX1(Z,$,X,Y),$}).catch(($)=>{throw rj0(Z,$),$}).finally(()=>Z.end())}tj0.handlePromiseResponse=fF8;function kF8(J,Z,X,Y,$,z,W=void 0){let Q=0;if($.length===2)Q=1;return $[Q]=(G,K)=>{return G?rj0(Y,G):CX1(Y,K,z,W),Y.end(),J(G,K)},Z.apply(X,$)}tj0.handleCallbackResponse=kF8});var YR0=B((ZR0)=>{Object.defineProperty(ZR0,"__esModule",{value:!0});ZR0.PACKAGE_NAME=ZR0.PACKAGE_VERSION=void 0;ZR0.PACKAGE_VERSION="0.48.0";ZR0.PACKAGE_NAME="@opentelemetry/instrumentation-mongoose"});var BR0=B((KR0)=>{Object.defineProperty(KR0,"__esModule",{value:!0});KR0.MongooseInstrumentation=KR0._STORED_PARENT_SPAN=void 0;var V7=C(),yF8=sj0(),jX1=JR0(),$R0=J6(),zR0=YR0(),SC=j1(),dv=["deleteOne","deleteMany","find","findOne","estimatedDocumentCount","countDocuments","distinct","where","$where","findOneAndUpdate","findOneAndDelete","findOneAndReplace"],vF8=["remove","count","findOneAndRemove",...dv],xF8=["count","findOneAndRemove",...dv],gF8=[...dv];function WR0(J){if(!J)return dv;else if(J.startsWith("6.")||J.startsWith("5."))return vF8;else if(J.startsWith("7."))return xF8;else return gF8}function QR0(J){return J&&(J.startsWith("5.")||J.startsWith("6."))||!1}KR0._STORED_PARENT_SPAN=Symbol("stored-parent-span");class GR0 extends $R0.InstrumentationBase{constructor(J={}){super(zR0.PACKAGE_NAME,zR0.PACKAGE_VERSION,J)}init(){return new $R0.InstrumentationNodeModuleDefinition("mongoose",[">=5.9.7 <9"],this.patch.bind(this),this.unpatch.bind(this))}patch(J,Z){let X=J[Symbol.toStringTag]==="Module"?J.default:J;if(this._wrap(X.Model.prototype,"save",this.patchOnModelMethods("save",Z)),X.Model.prototype.$save=X.Model.prototype.save,QR0(Z))this._wrap(X.Model.prototype,"remove",this.patchOnModelMethods("remove",Z));return this._wrap(X.Query.prototype,"exec",this.patchQueryExec(Z)),this._wrap(X.Aggregate.prototype,"exec",this.patchAggregateExec(Z)),WR0(Z).forEach(($)=>{this._wrap(X.Query.prototype,$,this.patchAndCaptureSpanContext($))}),this._wrap(X.Model,"aggregate",this.patchModelAggregate()),X}unpatch(J,Z){let X=J[Symbol.toStringTag]==="Module"?J.default:J,Y=WR0(Z);if(this._unwrap(X.Model.prototype,"save"),X.Model.prototype.$save=X.Model.prototype.save,QR0(Z))this._unwrap(X.Model.prototype,"remove");this._unwrap(X.Query.prototype,"exec"),this._unwrap(X.Aggregate.prototype,"exec"),Y.forEach(($)=>{this._unwrap(X.Query.prototype,$)}),this._unwrap(X.Model,"aggregate")}patchAggregateExec(J){let Z=this;return(X)=>{return function Y($){if(Z.getConfig().requireParentSpan&&V7.trace.getSpan(V7.context.active())===void 0)return X.apply(this,arguments);let z=this[KR0._STORED_PARENT_SPAN],W={},{dbStatementSerializer:Q}=Z.getConfig();if(Q)W[SC.SEMATTRS_DB_STATEMENT]=Q("aggregate",{options:this.options,aggregatePipeline:this._pipeline});let G=Z._startSpan(this._model.collection,this._model?.modelName,"aggregate",W,z);return Z._handleResponse(G,X,this,arguments,$,J)}}}patchQueryExec(J){let Z=this;return(X)=>{return function Y($){if(Z.getConfig().requireParentSpan&&V7.trace.getSpan(V7.context.active())===void 0)return X.apply(this,arguments);let z=this[KR0._STORED_PARENT_SPAN],W={},{dbStatementSerializer:Q}=Z.getConfig();if(Q)W[SC.SEMATTRS_DB_STATEMENT]=Q(this.op,{condition:this._conditions,updates:this._update,options:this.options,fields:this._fields});let G=Z._startSpan(this.mongooseCollection,this.model.modelName,this.op,W,z);return Z._handleResponse(G,X,this,arguments,$,J)}}}patchOnModelMethods(J,Z){let X=this;return(Y)=>{return function $(z,W){if(X.getConfig().requireParentSpan&&V7.trace.getSpan(V7.context.active())===void 0)return Y.apply(this,arguments);let Q={document:this};if(z&&!(z instanceof Function))Q.options=z;let G={},{dbStatementSerializer:K}=X.getConfig();if(K)G[SC.SEMATTRS_DB_STATEMENT]=K(J,Q);let q=X._startSpan(this.constructor.collection,this.constructor.modelName,J,G);if(z instanceof Function)W=z,z=void 0;return X._handleResponse(q,Y,this,arguments,W,Z)}}}patchModelAggregate(){let J=this;return(Z)=>{return function X(){let Y=V7.trace.getSpan(V7.context.active()),$=J._callOriginalFunction(()=>Z.apply(this,arguments));if($)$[KR0._STORED_PARENT_SPAN]=Y;return $}}}patchAndCaptureSpanContext(J){let Z=this;return(X)=>{return function Y(){return this[KR0._STORED_PARENT_SPAN]=V7.trace.getSpan(V7.context.active()),Z._callOriginalFunction(()=>X.apply(this,arguments))}}}_startSpan(J,Z,X,Y,$){return this.tracer.startSpan(`mongoose.${Z}.${X}`,{kind:V7.SpanKind.CLIENT,attributes:{...Y,...(0,jX1.getAttributesFromCollection)(J),[SC.SEMATTRS_DB_OPERATION]:X,[SC.SEMATTRS_DB_SYSTEM]:"mongoose"}},$?V7.trace.setSpan(V7.context.active(),$):void 0)}_handleResponse(J,Z,X,Y,$,z=void 0){let W=this;if($ instanceof Function)return W._callOriginalFunction(()=>(0,jX1.handleCallbackResponse)($,Z,X,J,Y,W.getConfig().responseHook,z));else{let Q=W._callOriginalFunction(()=>Z.apply(X,Y));return(0,jX1.handlePromiseResponse)(Q,J,W.getConfig().responseHook,z)}}_callOriginalFunction(J){if(this.getConfig().suppressInternalInstrumentation)return V7.context.with((0,yF8.suppressTracing)(V7.context.active()),J);else return J()}}KR0.MongooseInstrumentation=GR0});var FR0=B((HR0)=>{Object.defineProperty(HR0,"__esModule",{value:!0})});var OR0=B((Vq)=>{var dF8=Vq&&Vq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),UR0=Vq&&Vq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))dF8(Z,J,X)};Object.defineProperty(Vq,"__esModule",{value:!0});UR0(BR0(),Vq);UR0(FR0(),Vq)});var fC=B((DR0)=>{Object.defineProperty(DR0,"__esModule",{value:!0});DR0.isTracingSuppressed=DR0.unsuppressTracing=DR0.suppressTracing=void 0;var uF8=C(),RX1=(0,uF8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function mF8(J){return J.setValue(RX1,!0)}DR0.suppressTracing=mF8;function cF8(J){return J.deleteValue(RX1)}DR0.unsuppressTracing=cF8;function lF8(J){return J.getValue(RX1)===!0}DR0.isTracingSuppressed=lF8});var EX1=B((IR0)=>{Object.defineProperty(IR0,"__esModule",{value:!0});IR0.BAGGAGE_MAX_TOTAL_LENGTH=IR0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=IR0.BAGGAGE_MAX_NAME_VALUE_PAIRS=IR0.BAGGAGE_HEADER=IR0.BAGGAGE_ITEMS_SEPARATOR=IR0.BAGGAGE_PROPERTIES_SEPARATOR=IR0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;IR0.BAGGAGE_KEY_PAIR_SEPARATOR="=";IR0.BAGGAGE_PROPERTIES_SEPARATOR=";";IR0.BAGGAGE_ITEMS_SEPARATOR=",";IR0.BAGGAGE_HEADER="baggage";IR0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;IR0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;IR0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var SX1=B((MR0)=>{Object.defineProperty(MR0,"__esModule",{value:!0});MR0.parseKeyPairsIntoRecord=MR0.parsePairKeyValue=MR0.getKeyPairs=MR0.serializeKeyPairs=void 0;var eF8=C(),IU=EX1();function JU8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?IU.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>IU.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}MR0.serializeKeyPairs=JU8;function ZU8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=IU.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}MR0.getKeyPairs=ZU8;function AR0(J){let Z=J.split(IU.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(IU.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,eF8.baggageEntryMetadataFromString)(Z.join(IU.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}MR0.parsePairKeyValue=AR0;function XU8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(IU.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=AR0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}MR0.parseKeyPairsIntoRecord=XU8});var jR0=B((LR0)=>{Object.defineProperty(LR0,"__esModule",{value:!0});LR0.W3CBaggagePropagator=void 0;var TX1=C(),WU8=fC(),wU=EX1(),fX1=SX1();class PR0{inject(J,Z,X){let Y=TX1.propagation.getBaggage(J);if(!Y||(0,WU8.isTracingSuppressed)(J))return;let $=(0,fX1.getKeyPairs)(Y).filter((W)=>{return W.length<=wU.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,wU.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,fX1.serializeKeyPairs)($);if(z.length>0)X.set(Z,wU.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,wU.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(wU.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(wU.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,fX1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return TX1.propagation.setBaggage(J,TX1.propagation.createBaggage(z))}fields(){return[wU.BAGGAGE_HEADER]}}LR0.W3CBaggagePropagator=PR0});var TR0=B((ER0)=>{Object.defineProperty(ER0,"__esModule",{value:!0});ER0.AnchoredClock=void 0;class RR0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}ER0.AnchoredClock=RR0});var vR0=B((_R0)=>{Object.defineProperty(_R0,"__esModule",{value:!0});_R0.isAttributeValue=_R0.isAttributeKey=_R0.sanitizeAttributes=void 0;var fR0=C();function QU8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!kR0(X)){fR0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!bR0(Y)){fR0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}_R0.sanitizeAttributes=QU8;function kR0(J){return typeof J==="string"&&J.length>0}_R0.isAttributeKey=kR0;function bR0(J){if(J==null)return!0;if(Array.isArray(J))return GU8(J);return hR0(J)}_R0.isAttributeValue=bR0;function GU8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(hR0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function hR0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var kX1=B((xR0)=>{Object.defineProperty(xR0,"__esModule",{value:!0});xR0.loggingErrorHandler=void 0;var BU8=C();function HU8(){return(J)=>{BU8.diag.error(FU8(J))}}xR0.loggingErrorHandler=HU8;function FU8(J){if(typeof J==="string")return J;else return JSON.stringify(UU8(J))}function UU8(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var cR0=B((uR0)=>{Object.defineProperty(uR0,"__esModule",{value:!0});uR0.globalErrorHandler=uR0.setGlobalErrorHandler=void 0;var OU8=kX1(),dR0=(0,OU8.loggingErrorHandler)();function DU8(J){dR0=J}uR0.setGlobalErrorHandler=DU8;function VU8(J){try{dR0(J)}catch{}}uR0.globalErrorHandler=VU8});var sR0=B((iR0)=>{Object.defineProperty(iR0,"__esModule",{value:!0});iR0.getStringListFromEnv=iR0.getBooleanFromEnv=iR0.getStringFromEnv=iR0.getNumberFromEnv=void 0;var lR0=C(),pR0=p("util");function wU8(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){lR0.diag.warn(`Unknown value ${(0,pR0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}iR0.getNumberFromEnv=wU8;function nR0(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}iR0.getStringFromEnv=nR0;function AU8(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return lR0.diag.warn(`Unknown value ${(0,pR0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}iR0.getBooleanFromEnv=AU8;function MU8(J){return nR0(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}iR0.getStringListFromEnv=MU8});var tR0=B((aR0)=>{Object.defineProperty(aR0,"__esModule",{value:!0});aR0._globalThis=void 0;aR0._globalThis=typeof globalThis==="object"?globalThis:global});var ZE0=B((eR0)=>{Object.defineProperty(eR0,"__esModule",{value:!0});eR0.otperformance=void 0;var CU8=p("perf_hooks");eR0.otperformance=CU8.performance});var $E0=B((XE0)=>{Object.defineProperty(XE0,"__esModule",{value:!0});XE0.VERSION=void 0;XE0.VERSION="2.0.1"});var QE0=B((zE0)=>{Object.defineProperty(zE0,"__esModule",{value:!0});zE0.ATTR_PROCESS_RUNTIME_NAME=void 0;zE0.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var qE0=B((GE0)=>{Object.defineProperty(GE0,"__esModule",{value:!0});GE0.SDK_INFO=void 0;var jU8=$E0(),uv=j1(),RU8=QE0();GE0.SDK_INFO={[uv.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[RU8.ATTR_PROCESS_RUNTIME_NAME]:"node",[uv.ATTR_TELEMETRY_SDK_LANGUAGE]:uv.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[uv.ATTR_TELEMETRY_SDK_VERSION]:jU8.VERSION}});var FE0=B((BE0)=>{Object.defineProperty(BE0,"__esModule",{value:!0});BE0.unrefTimer=void 0;function EU8(J){J.unref()}BE0.unrefTimer=EU8});var UE0=B((Dz)=>{Object.defineProperty(Dz,"__esModule",{value:!0});Dz.unrefTimer=Dz.SDK_INFO=Dz.otperformance=Dz._globalThis=Dz.getStringListFromEnv=Dz.getNumberFromEnv=Dz.getBooleanFromEnv=Dz.getStringFromEnv=void 0;var mv=sR0();Object.defineProperty(Dz,"getStringFromEnv",{enumerable:!0,get:function(){return mv.getStringFromEnv}});Object.defineProperty(Dz,"getBooleanFromEnv",{enumerable:!0,get:function(){return mv.getBooleanFromEnv}});Object.defineProperty(Dz,"getNumberFromEnv",{enumerable:!0,get:function(){return mv.getNumberFromEnv}});Object.defineProperty(Dz,"getStringListFromEnv",{enumerable:!0,get:function(){return mv.getStringListFromEnv}});var SU8=tR0();Object.defineProperty(Dz,"_globalThis",{enumerable:!0,get:function(){return SU8._globalThis}});var TU8=ZE0();Object.defineProperty(Dz,"otperformance",{enumerable:!0,get:function(){return TU8.otperformance}});var fU8=qE0();Object.defineProperty(Dz,"SDK_INFO",{enumerable:!0,get:function(){return fU8.SDK_INFO}});var kU8=FE0();Object.defineProperty(Dz,"unrefTimer",{enumerable:!0,get:function(){return kU8.unrefTimer}})});var bX1=B((Vz)=>{Object.defineProperty(Vz,"__esModule",{value:!0});Vz.getStringListFromEnv=Vz.getNumberFromEnv=Vz.getStringFromEnv=Vz.getBooleanFromEnv=Vz.unrefTimer=Vz.otperformance=Vz._globalThis=Vz.SDK_INFO=void 0;var Iq=UE0();Object.defineProperty(Vz,"SDK_INFO",{enumerable:!0,get:function(){return Iq.SDK_INFO}});Object.defineProperty(Vz,"_globalThis",{enumerable:!0,get:function(){return Iq._globalThis}});Object.defineProperty(Vz,"otperformance",{enumerable:!0,get:function(){return Iq.otperformance}});Object.defineProperty(Vz,"unrefTimer",{enumerable:!0,get:function(){return Iq.unrefTimer}});Object.defineProperty(Vz,"getBooleanFromEnv",{enumerable:!0,get:function(){return Iq.getBooleanFromEnv}});Object.defineProperty(Vz,"getStringFromEnv",{enumerable:!0,get:function(){return Iq.getStringFromEnv}});Object.defineProperty(Vz,"getNumberFromEnv",{enumerable:!0,get:function(){return Iq.getNumberFromEnv}});Object.defineProperty(Vz,"getStringListFromEnv",{enumerable:!0,get:function(){return Iq.getStringListFromEnv}})});var AE0=B((IE0)=>{Object.defineProperty(IE0,"__esModule",{value:!0});IE0.addHrTimes=IE0.isTimeInput=IE0.isTimeInputHrTime=IE0.hrTimeToMicroseconds=IE0.hrTimeToMilliseconds=IE0.hrTimeToNanoseconds=IE0.hrTimeToTimeStamp=IE0.hrTimeDuration=IE0.timeInputToHrTime=IE0.hrTime=IE0.getTimeOrigin=IE0.millisToHrTime=void 0;var hX1=bX1(),OE0=9,_U8=6,yU8=Math.pow(10,_U8),cv=Math.pow(10,OE0);function kC(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*yU8);return[X,Y]}IE0.millisToHrTime=kC;function _X1(){let J=hX1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=hX1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}IE0.getTimeOrigin=_X1;function DE0(J){let Z=kC(_X1()),X=kC(typeof J==="number"?J:hX1.otperformance.now());return VE0(Z,X)}IE0.hrTime=DE0;function vU8(J){if(yX1(J))return J;else if(typeof J==="number")if(J<_X1())return DE0(J);else return kC(J);else if(J instanceof Date)return kC(J.getTime());else throw TypeError("Invalid input type")}IE0.timeInputToHrTime=vU8;function xU8(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=cv;return[X,Y]}IE0.hrTimeDuration=xU8;function gU8(J){let Z=OE0,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}IE0.hrTimeToTimeStamp=gU8;function dU8(J){return J[0]*cv+J[1]}IE0.hrTimeToNanoseconds=dU8;function uU8(J){return J[0]*1000+J[1]/1e6}IE0.hrTimeToMilliseconds=uU8;function mU8(J){return J[0]*1e6+J[1]/1000}IE0.hrTimeToMicroseconds=mU8;function yX1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}IE0.isTimeInputHrTime=yX1;function cU8(J){return yX1(J)||typeof J==="number"||J instanceof Date}IE0.isTimeInput=cU8;function VE0(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=cv)X[1]-=cv,X[0]+=1;return X}IE0.addHrTimes=VE0});var NE0=B((ME0)=>{Object.defineProperty(ME0,"__esModule",{value:!0});ME0.ExportResultCode=void 0;var ZO8;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(ZO8=ME0.ExportResultCode||(ME0.ExportResultCode={}))});var RE0=B((CE0)=>{Object.defineProperty(CE0,"__esModule",{value:!0});CE0.CompositePropagator=void 0;var PE0=C();class LE0{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){PE0.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){PE0.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}CE0.CompositePropagator=LE0});var TE0=B((EE0)=>{Object.defineProperty(EE0,"__esModule",{value:!0});EE0.validateValue=EE0.validateKey=void 0;var xX1="[_0-9a-z-*/]",XO8=`[a-z]${xX1}{0,255}`,YO8=`[a-z0-9]${xX1}{0,240}@[a-z]${xX1}{0,13}`,$O8=new RegExp(`^(?:${XO8}|${YO8})$`),zO8=/^[ -~]{0,255}[!-~]$/,WO8=/,|=/;function QO8(J){return $O8.test(J)}EE0.validateKey=QO8;function GO8(J){return zO8.test(J)&&!WO8.test(J)}EE0.validateValue=GO8});var dX1=B((_E0)=>{Object.defineProperty(_E0,"__esModule",{value:!0});_E0.TraceState=void 0;var fE0=TE0(),kE0=32,qO8=512,bE0=",",hE0="=";class gX1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+hE0+this.get(Z)),J},[]).join(bE0)}_parse(J){if(J.length>qO8)return;if(this._internalState=J.split(bE0).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(hE0);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,fE0.validateKey)(z)&&(0,fE0.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>kE0)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,kE0))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new gX1;return J._internalState=new Map(this._internalState),J}}_E0.TraceState=gX1});var uE0=B((gE0)=>{Object.defineProperty(gE0,"__esModule",{value:!0});gE0.W3CTraceContextPropagator=gE0.parseTraceParent=gE0.TRACE_STATE_HEADER=gE0.TRACE_PARENT_HEADER=void 0;var lv=C(),BO8=fC(),HO8=dX1();gE0.TRACE_PARENT_HEADER="traceparent";gE0.TRACE_STATE_HEADER="tracestate";var FO8="00",UO8="(?!ff)[\\da-f]{2}",OO8="(?![0]{32})[\\da-f]{32}",DO8="(?![0]{16})[\\da-f]{16}",VO8="[\\da-f]{2}",IO8=new RegExp(`^\\s?(${UO8})-(${OO8})-(${DO8})-(${VO8})(-.*)?\\s?$`);function vE0(J){let Z=IO8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}gE0.parseTraceParent=vE0;class xE0{inject(J,Z,X){let Y=lv.trace.getSpanContext(J);if(!Y||(0,BO8.isTracingSuppressed)(J)||!(0,lv.isSpanContextValid)(Y))return;let $=`${FO8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||lv.TraceFlags.NONE).toString(16)}`;if(X.set(Z,gE0.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,gE0.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,gE0.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=vE0($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,gE0.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new HO8.TraceState(typeof Q==="string"?Q:void 0)}return lv.trace.setSpanContext(J,z)}fields(){return[gE0.TRACE_PARENT_HEADER,gE0.TRACE_STATE_HEADER]}}gE0.W3CTraceContextPropagator=xE0});var pE0=B((cE0)=>{Object.defineProperty(cE0,"__esModule",{value:!0});cE0.getRPCMetadata=cE0.deleteRPCMetadata=cE0.setRPCMetadata=cE0.RPCType=void 0;var AO8=C(),uX1=(0,AO8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),MO8;(function(J){J.HTTP="http"})(MO8=cE0.RPCType||(cE0.RPCType={}));function NO8(J,Z){return J.setValue(uX1,Z)}cE0.setRPCMetadata=NO8;function PO8(J){return J.deleteValue(uX1)}cE0.deleteRPCMetadata=PO8;function LO8(J){return J.getValue(uX1)}cE0.getRPCMetadata=LO8});var tE0=B((aE0)=>{Object.defineProperty(aE0,"__esModule",{value:!0});aE0.isPlainObject=void 0;var RO8="[object Object]",EO8="[object Null]",SO8="[object Undefined]",TO8=Function.prototype,nE0=TO8.toString,fO8=nE0.call(Object),kO8=Object.getPrototypeOf,iE0=Object.prototype,oE0=iE0.hasOwnProperty,AU=Symbol?Symbol.toStringTag:void 0,sE0=iE0.toString;function bO8(J){if(!hO8(J)||_O8(J)!==RO8)return!1;let Z=kO8(J);if(Z===null)return!0;let X=oE0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&nE0.call(X)===fO8}aE0.isPlainObject=bO8;function hO8(J){return J!=null&&typeof J=="object"}function _O8(J){if(J==null)return J===void 0?SO8:EO8;return AU&&AU in Object(J)?yO8(J):vO8(J)}function yO8(J){let Z=oE0.call(J,AU),X=J[AU],Y=!1;try{J[AU]=void 0,Y=!0}catch(z){}let $=sE0.call(J);if(Y)if(Z)J[AU]=X;else delete J[AU];return $}function vO8(J){return sE0.call(J)}});var zS0=B((YS0)=>{Object.defineProperty(YS0,"__esModule",{value:!0});YS0.merge=void 0;var eE0=tE0(),xO8=20;function gO8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=ZS0(Z,J.shift(),0,X);return Z}YS0.merge=gO8;function mX1(J){if(ov(J))return J.slice();return J}function ZS0(J,Z,X=0,Y){let $;if(X>xO8)return;if(X++,iv(J)||iv(Z)||XS0(Z))$=mX1(Z);else if(ov(J)){if($=J.slice(),ov(Z))for(let z=0,W=Z.length;z<W;z++)$.push(mX1(Z[z]));else if(bC(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=mX1(Z[G])}}}else if(bC(J))if(bC(Z)){if(!dO8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(iv(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(JS0(J,G,Y)||JS0(Z,G,Y))delete $[G];else{if(bC(q)&&bC(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=ZS0($[G],K,X,Y)}}}}else $=Z;return $}function JS0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function ov(J){return Array.isArray(J)}function XS0(J){return typeof J==="function"}function bC(J){return!iv(J)&&!ov(J)&&!XS0(J)&&typeof J==="object"}function iv(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function dO8(J,Z){if(!(0,eE0.isPlainObject)(J)||!(0,eE0.isPlainObject)(Z))return!1;return!0}});var GS0=B((WS0)=>{Object.defineProperty(WS0,"__esModule",{value:!0});WS0.callWithTimeout=WS0.TimeoutError=void 0;class sv extends Error{constructor(J){super(J);Object.setPrototypeOf(this,sv.prototype)}}WS0.TimeoutError=sv;function uO8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new sv("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}WS0.callWithTimeout=uO8});var HS0=B((qS0)=>{Object.defineProperty(qS0,"__esModule",{value:!0});qS0.isUrlIgnored=qS0.urlMatches=void 0;function KS0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}qS0.urlMatches=KS0;function cO8(J,Z){if(!Z)return!1;for(let X of Z)if(KS0(J,X))return!0;return!1}qS0.isUrlIgnored=cO8});var DS0=B((US0)=>{Object.defineProperty(US0,"__esModule",{value:!0});US0.Deferred=void 0;class FS0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}US0.Deferred=FS0});var AS0=B((IS0)=>{Object.defineProperty(IS0,"__esModule",{value:!0});IS0.BindOnceFuture=void 0;var pO8=DS0();class VS0{_callback;_that;_isCalled=!1;_deferred=new pO8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}IS0.BindOnceFuture=VS0});var LS0=B((NS0)=>{Object.defineProperty(NS0,"__esModule",{value:!0});NS0.diagLogLevelFromString=void 0;var OG=C(),MS0={ALL:OG.DiagLogLevel.ALL,VERBOSE:OG.DiagLogLevel.VERBOSE,DEBUG:OG.DiagLogLevel.DEBUG,INFO:OG.DiagLogLevel.INFO,WARN:OG.DiagLogLevel.WARN,ERROR:OG.DiagLogLevel.ERROR,NONE:OG.DiagLogLevel.NONE};function nO8(J){if(J==null)return;let Z=MS0[J.toUpperCase()];if(Z==null)return OG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(MS0)}, using default`),OG.DiagLogLevel.INFO;return Z}NS0.diagLogLevelFromString=nO8});var ES0=B((jS0)=>{Object.defineProperty(jS0,"__esModule",{value:!0});jS0._export=void 0;var CS0=C(),iO8=fC();function oO8(J,Z){return new Promise((X)=>{CS0.context.with((0,iO8.suppressTracing)(CS0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}jS0._export=oO8});var hS0=B((R0)=>{Object.defineProperty(R0,"__esModule",{value:!0});R0.internal=R0.diagLogLevelFromString=R0.BindOnceFuture=R0.urlMatches=R0.isUrlIgnored=R0.callWithTimeout=R0.TimeoutError=R0.merge=R0.TraceState=R0.unsuppressTracing=R0.suppressTracing=R0.isTracingSuppressed=R0.setRPCMetadata=R0.getRPCMetadata=R0.deleteRPCMetadata=R0.RPCType=R0.parseTraceParent=R0.W3CTraceContextPropagator=R0.TRACE_STATE_HEADER=R0.TRACE_PARENT_HEADER=R0.CompositePropagator=R0.unrefTimer=R0.otperformance=R0.getStringListFromEnv=R0.getNumberFromEnv=R0.getBooleanFromEnv=R0.getStringFromEnv=R0._globalThis=R0.SDK_INFO=R0.parseKeyPairsIntoRecord=R0.ExportResultCode=R0.timeInputToHrTime=R0.millisToHrTime=R0.isTimeInputHrTime=R0.isTimeInput=R0.hrTimeToTimeStamp=R0.hrTimeToNanoseconds=R0.hrTimeToMilliseconds=R0.hrTimeToMicroseconds=R0.hrTimeDuration=R0.hrTime=R0.getTimeOrigin=R0.addHrTimes=R0.loggingErrorHandler=R0.setGlobalErrorHandler=R0.globalErrorHandler=R0.sanitizeAttributes=R0.isAttributeValue=R0.AnchoredClock=R0.W3CBaggagePropagator=void 0;var sO8=jR0();Object.defineProperty(R0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return sO8.W3CBaggagePropagator}});var aO8=TR0();Object.defineProperty(R0,"AnchoredClock",{enumerable:!0,get:function(){return aO8.AnchoredClock}});var SS0=vR0();Object.defineProperty(R0,"isAttributeValue",{enumerable:!0,get:function(){return SS0.isAttributeValue}});Object.defineProperty(R0,"sanitizeAttributes",{enumerable:!0,get:function(){return SS0.sanitizeAttributes}});var TS0=cR0();Object.defineProperty(R0,"globalErrorHandler",{enumerable:!0,get:function(){return TS0.globalErrorHandler}});Object.defineProperty(R0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return TS0.setGlobalErrorHandler}});var rO8=kX1();Object.defineProperty(R0,"loggingErrorHandler",{enumerable:!0,get:function(){return rO8.loggingErrorHandler}});var cZ=AE0();Object.defineProperty(R0,"addHrTimes",{enumerable:!0,get:function(){return cZ.addHrTimes}});Object.defineProperty(R0,"getTimeOrigin",{enumerable:!0,get:function(){return cZ.getTimeOrigin}});Object.defineProperty(R0,"hrTime",{enumerable:!0,get:function(){return cZ.hrTime}});Object.defineProperty(R0,"hrTimeDuration",{enumerable:!0,get:function(){return cZ.hrTimeDuration}});Object.defineProperty(R0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return cZ.hrTimeToMicroseconds}});Object.defineProperty(R0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return cZ.hrTimeToMilliseconds}});Object.defineProperty(R0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return cZ.hrTimeToNanoseconds}});Object.defineProperty(R0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return cZ.hrTimeToTimeStamp}});Object.defineProperty(R0,"isTimeInput",{enumerable:!0,get:function(){return cZ.isTimeInput}});Object.defineProperty(R0,"isTimeInputHrTime",{enumerable:!0,get:function(){return cZ.isTimeInputHrTime}});Object.defineProperty(R0,"millisToHrTime",{enumerable:!0,get:function(){return cZ.millisToHrTime}});Object.defineProperty(R0,"timeInputToHrTime",{enumerable:!0,get:function(){return cZ.timeInputToHrTime}});var tO8=NE0();Object.defineProperty(R0,"ExportResultCode",{enumerable:!0,get:function(){return tO8.ExportResultCode}});var eO8=SX1();Object.defineProperty(R0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return eO8.parseKeyPairsIntoRecord}});var wq=bX1();Object.defineProperty(R0,"SDK_INFO",{enumerable:!0,get:function(){return wq.SDK_INFO}});Object.defineProperty(R0,"_globalThis",{enumerable:!0,get:function(){return wq._globalThis}});Object.defineProperty(R0,"getStringFromEnv",{enumerable:!0,get:function(){return wq.getStringFromEnv}});Object.defineProperty(R0,"getBooleanFromEnv",{enumerable:!0,get:function(){return wq.getBooleanFromEnv}});Object.defineProperty(R0,"getNumberFromEnv",{enumerable:!0,get:function(){return wq.getNumberFromEnv}});Object.defineProperty(R0,"getStringListFromEnv",{enumerable:!0,get:function(){return wq.getStringListFromEnv}});Object.defineProperty(R0,"otperformance",{enumerable:!0,get:function(){return wq.otperformance}});Object.defineProperty(R0,"unrefTimer",{enumerable:!0,get:function(){return wq.unrefTimer}});var JD8=RE0();Object.defineProperty(R0,"CompositePropagator",{enumerable:!0,get:function(){return JD8.CompositePropagator}});var av=uE0();Object.defineProperty(R0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return av.TRACE_PARENT_HEADER}});Object.defineProperty(R0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return av.TRACE_STATE_HEADER}});Object.defineProperty(R0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return av.W3CTraceContextPropagator}});Object.defineProperty(R0,"parseTraceParent",{enumerable:!0,get:function(){return av.parseTraceParent}});var rv=pE0();Object.defineProperty(R0,"RPCType",{enumerable:!0,get:function(){return rv.RPCType}});Object.defineProperty(R0,"deleteRPCMetadata",{enumerable:!0,get:function(){return rv.deleteRPCMetadata}});Object.defineProperty(R0,"getRPCMetadata",{enumerable:!0,get:function(){return rv.getRPCMetadata}});Object.defineProperty(R0,"setRPCMetadata",{enumerable:!0,get:function(){return rv.setRPCMetadata}});var cX1=fC();Object.defineProperty(R0,"isTracingSuppressed",{enumerable:!0,get:function(){return cX1.isTracingSuppressed}});Object.defineProperty(R0,"suppressTracing",{enumerable:!0,get:function(){return cX1.suppressTracing}});Object.defineProperty(R0,"unsuppressTracing",{enumerable:!0,get:function(){return cX1.unsuppressTracing}});var ZD8=dX1();Object.defineProperty(R0,"TraceState",{enumerable:!0,get:function(){return ZD8.TraceState}});var XD8=zS0();Object.defineProperty(R0,"merge",{enumerable:!0,get:function(){return XD8.merge}});var fS0=GS0();Object.defineProperty(R0,"TimeoutError",{enumerable:!0,get:function(){return fS0.TimeoutError}});Object.defineProperty(R0,"callWithTimeout",{enumerable:!0,get:function(){return fS0.callWithTimeout}});var kS0=HS0();Object.defineProperty(R0,"isUrlIgnored",{enumerable:!0,get:function(){return kS0.isUrlIgnored}});Object.defineProperty(R0,"urlMatches",{enumerable:!0,get:function(){return kS0.urlMatches}});var YD8=AS0();Object.defineProperty(R0,"BindOnceFuture",{enumerable:!0,get:function(){return YD8.BindOnceFuture}});var $D8=LS0();Object.defineProperty(R0,"diagLogLevelFromString",{enumerable:!0,get:function(){return $D8.diagLogLevelFromString}});var zD8=ES0();R0.internal={_export:zD8._export}});var pX1=B((_S0)=>{Object.defineProperty(_S0,"__esModule",{value:!0});_S0.addSqlCommenterComment=void 0;var lX1=C(),WD8=hS0();function QD8(J){let Z=J.indexOf("--");if(Z>=0)return!0;if(J.indexOf("/*")<0)return!1;let Y=J.indexOf("*/");return Z<Y}function GD8(J){return encodeURIComponent(J).replace(/[!'()*]/g,(Z)=>`%${Z.charCodeAt(0).toString(16).toUpperCase()}`)}function KD8(J,Z){if(typeof Z!=="string"||Z.length===0)return Z;if(QD8(Z))return Z;let X=new WD8.W3CTraceContextPropagator,Y={};X.inject(lX1.trace.setSpan(lX1.ROOT_CONTEXT,J),Y,lX1.defaultTextMapSetter);let $=Object.keys(Y).sort();if($.length===0)return Z;let z=$.map((W)=>{let Q=GD8(Y[W]);return`${W}='${Q}'`}).join(",");return`${Z} /*${z}*/`}_S0.addSqlCommenterComment=KD8});var dS0=B((xS0)=>{Object.defineProperty(xS0,"__esModule",{value:!0});xS0.getConnectionPrototypeToInstrument=xS0.once=xS0.getSpanName=xS0.getDbStatement=xS0.getConnectionAttributes=void 0;var DG=j1();function qD8(J){let{host:Z,port:X,database:Y,user:$}=BD8(J),z=parseInt(X,10);if(!isNaN(z))return{[DG.SEMATTRS_NET_PEER_NAME]:Z,[DG.SEMATTRS_NET_PEER_PORT]:z,[DG.SEMATTRS_DB_CONNECTION_STRING]:vS0(Z,X,Y),[DG.SEMATTRS_DB_NAME]:Y,[DG.SEMATTRS_DB_USER]:$};return{[DG.SEMATTRS_NET_PEER_NAME]:Z,[DG.SEMATTRS_DB_CONNECTION_STRING]:vS0(Z,X,Y),[DG.SEMATTRS_DB_NAME]:Y,[DG.SEMATTRS_DB_USER]:$}}xS0.getConnectionAttributes=qD8;function BD8(J){let{host:Z,port:X,database:Y,user:$}=J&&J.connectionConfig||J||{};return{host:Z,port:X,database:Y,user:$}}function vS0(J,Z,X){let Y=`jdbc:mysql://${J||"localhost"}`;if(typeof Z==="number")Y+=`:${Z}`;if(typeof X==="string")Y+=`/${X}`;return Y}function HD8(J,Z,X){if(!Z)return typeof J==="string"?J:J.sql;if(typeof J==="string")return X?Z(J,X):J;else return X||J.values?Z(J.sql,X||J.values):J.sql}xS0.getDbStatement=HD8;function FD8(J){let Z=typeof J==="object"?J.sql:J,X=Z?.indexOf(" ");if(typeof X==="number"&&X!==-1)return Z?.substring(0,X);return Z}xS0.getSpanName=FD8;var UD8=(J)=>{let Z=!1;return(...X)=>{if(Z)return;return Z=!0,J(...X)}};xS0.once=UD8;function OD8(J){let Z=J.prototype,X=Object.getPrototypeOf(Z);if(typeof X?.query==="function"&&typeof X?.execute==="function")return X;return Z}xS0.getConnectionPrototypeToInstrument=OD8});var cS0=B((uS0)=>{Object.defineProperty(uS0,"__esModule",{value:!0});uS0.PACKAGE_NAME=uS0.PACKAGE_VERSION=void 0;uS0.PACKAGE_VERSION="0.47.0";uS0.PACKAGE_NAME="@opentelemetry/instrumentation-mysql2"});var sS0=B((iS0)=>{Object.defineProperty(iS0,"__esModule",{value:!0});iS0.MySQL2Instrumentation=void 0;var lS0=C(),MU=J6(),nX1=j1(),pS0=pX1(),ww=dS0(),nS0=cS0(),iX1=[">=1.4.2 <4"];class oX1 extends MU.InstrumentationBase{static COMMON_ATTRIBUTES={[nX1.SEMATTRS_DB_SYSTEM]:nX1.DBSYSTEMVALUES_MYSQL};constructor(J={}){super(nS0.PACKAGE_NAME,nS0.PACKAGE_VERSION,J)}init(){let J;function Z($){if(!J&&$.format)J=$.format}let X=($)=>{if((0,MU.isWrapped)($.query))this._unwrap($,"query");if(this._wrap($,"query",this._patchQuery(J,!1)),(0,MU.isWrapped)($.execute))this._unwrap($,"execute");this._wrap($,"execute",this._patchQuery(J,!0))},Y=($)=>{this._unwrap($,"query"),this._unwrap($,"execute")};return[new MU.InstrumentationNodeModuleDefinition("mysql2",iX1,($)=>{return Z($),$},()=>{},[new MU.InstrumentationNodeModuleFile("mysql2/promise.js",iX1,($)=>{return Z($),$},()=>{}),new MU.InstrumentationNodeModuleFile("mysql2/lib/connection.js",iX1,($)=>{let z=(0,ww.getConnectionPrototypeToInstrument)($);return X(z),$},($)=>{if($===void 0)return;let z=(0,ww.getConnectionPrototypeToInstrument)($);Y(z)})])]}_patchQuery(J,Z){return(X)=>{let Y=this;return function $($,z,W){let Q;if(Array.isArray(z))Q=z;else if(arguments[2])Q=[z];let G=Y.tracer.startSpan((0,ww.getSpanName)($),{kind:lS0.SpanKind.CLIENT,attributes:{...oX1.COMMON_ATTRIBUTES,...(0,ww.getConnectionAttributes)(this.config),[nX1.SEMATTRS_DB_STATEMENT]:(0,ww.getDbStatement)($,J,Q)}});if(!Z&&Y.getConfig().addSqlCommenterCommentToQueries)arguments[0]=$=typeof $==="string"?(0,pS0.addSqlCommenterComment)(G,$):Object.assign($,{sql:(0,pS0.addSqlCommenterComment)(G,$.sql)});let K=(0,ww.once)((q,H)=>{if(q)G.setStatus({code:lS0.SpanStatusCode.ERROR,message:q.message});else{let{responseHook:F}=Y.getConfig();if(typeof F==="function")(0,MU.safeExecuteInTheMiddle)(()=>{F(G,{queryResults:H})},(U)=>{if(U)Y._diag.warn("Failed executing responseHook",U)},!0)}G.end()});if(arguments.length===1){if(typeof $.onResult==="function")Y._wrap($,"onResult",Y._patchCallbackQuery(K));let q=X.apply(this,arguments);return q.once("error",(H)=>{K(H)}).once("result",(H)=>{K(void 0,H)}),q}if(typeof arguments[1]==="function")Y._wrap(arguments,1,Y._patchCallbackQuery(K));else if(typeof arguments[2]==="function")Y._wrap(arguments,2,Y._patchCallbackQuery(K));return X.apply(this,arguments)}}}_patchCallbackQuery(J){return(Z)=>{return function(X,Y,$){return J(X,Y),Z(...arguments)}}}}iS0.MySQL2Instrumentation=oX1});var rS0=B((aS0)=>{Object.defineProperty(aS0,"__esModule",{value:!0})});var eS0=B((Aq)=>{var MD8=Aq&&Aq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),tS0=Aq&&Aq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))MD8(Z,J,X)};Object.defineProperty(Aq,"__esModule",{value:!0});tS0(sS0(),Aq);tS0(rS0(),Aq)});var ZT0=B((JT0)=>{Object.defineProperty(JT0,"__esModule",{value:!0});JT0.AttributeNames=void 0;var ND8;(function(J){J.MYSQL_VALUES="db.mysql.values"})(ND8=JT0.AttributeNames||(JT0.AttributeNames={}))});var zT0=B((YT0)=>{Object.defineProperty(YT0,"__esModule",{value:!0});YT0.getPoolName=YT0.arrayStringifyHelper=YT0.getSpanName=YT0.getDbValues=YT0.getDbStatement=YT0.getConnectionAttributes=void 0;var VG=j1();function PD8(J){let{host:Z,port:X,database:Y,user:$}=LD8(J),z=parseInt(X,10);if(!isNaN(z))return{[VG.SEMATTRS_NET_PEER_NAME]:Z,[VG.SEMATTRS_NET_PEER_PORT]:z,[VG.SEMATTRS_DB_CONNECTION_STRING]:XT0(Z,X,Y),[VG.SEMATTRS_DB_NAME]:Y,[VG.SEMATTRS_DB_USER]:$};return{[VG.SEMATTRS_NET_PEER_NAME]:Z,[VG.SEMATTRS_DB_CONNECTION_STRING]:XT0(Z,X,Y),[VG.SEMATTRS_DB_NAME]:Y,[VG.SEMATTRS_DB_USER]:$}}YT0.getConnectionAttributes=PD8;function LD8(J){let{host:Z,port:X,database:Y,user:$}=J&&J.connectionConfig||J||{};return{host:Z,port:X,database:Y,user:$}}function XT0(J,Z,X){let Y=`jdbc:mysql://${J||"localhost"}`;if(typeof Z==="number")Y+=`:${Z}`;if(typeof X==="string")Y+=`/${X}`;return Y}function CD8(J){if(typeof J==="string")return J;else return J.sql}YT0.getDbStatement=CD8;function jD8(J,Z){if(typeof J==="string")return aX1(Z);else return aX1(Z||J.values)}YT0.getDbValues=jD8;function RD8(J){let Z=typeof J==="object"?J.sql:J,X=Z?.indexOf(" ");if(typeof X==="number"&&X!==-1)return Z?.substring(0,X);return Z}YT0.getSpanName=RD8;function aX1(J){if(J)return`[${J.toString()}]`;return""}YT0.arrayStringifyHelper=aX1;function ED8(J){let Z=J.config.connectionConfig,X="";if(X+=Z.host?`host: '${Z.host}', `:"",X+=Z.port?`port: ${Z.port}, `:"",X+=Z.database?`database: '${Z.database}', `:"",X+=Z.user?`user: '${Z.user}'`:"",!Z.user)X=X.substring(0,X.length-2);return X.trim()}YT0.getPoolName=ED8});var GT0=B((WT0)=>{Object.defineProperty(WT0,"__esModule",{value:!0});WT0.PACKAGE_NAME=WT0.PACKAGE_VERSION=void 0;WT0.PACKAGE_VERSION="0.47.0";WT0.PACKAGE_NAME="@opentelemetry/instrumentation-mysql"});var HT0=B((qT0)=>{Object.defineProperty(qT0,"__esModule",{value:!0});qT0.MySQLInstrumentation=void 0;var n7=C(),Aw=J6(),rX1=j1(),_D8=ZT0(),Mw=zT0(),KT0=GT0();class tX1 extends Aw.InstrumentationBase{static COMMON_ATTRIBUTES={[rX1.SEMATTRS_DB_SYSTEM]:rX1.DBSYSTEMVALUES_MYSQL};constructor(J={}){super(KT0.PACKAGE_NAME,KT0.PACKAGE_VERSION,J);this._setMetricInstruments()}setMeterProvider(J){super.setMeterProvider(J),this._setMetricInstruments()}_setMetricInstruments(){this._connectionsUsage=this.meter.createUpDownCounter("db.client.connections.usage",{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"})}init(){return[new Aw.InstrumentationNodeModuleDefinition("mysql",[">=2.0.0 <3"],(J)=>{if((0,Aw.isWrapped)(J.createConnection))this._unwrap(J,"createConnection");if(this._wrap(J,"createConnection",this._patchCreateConnection()),(0,Aw.isWrapped)(J.createPool))this._unwrap(J,"createPool");if(this._wrap(J,"createPool",this._patchCreatePool()),(0,Aw.isWrapped)(J.createPoolCluster))this._unwrap(J,"createPoolCluster");return this._wrap(J,"createPoolCluster",this._patchCreatePoolCluster()),J},(J)=>{if(J===void 0)return;this._unwrap(J,"createConnection"),this._unwrap(J,"createPool"),this._unwrap(J,"createPoolCluster")})]}_patchCreateConnection(){return(J)=>{let Z=this;return function X(Y){let $=J(...arguments);return Z._wrap($,"query",Z._patchQuery($)),$}}}_patchCreatePool(){return(J)=>{let Z=this;return function X(Y){let $=J(...arguments);return Z._wrap($,"query",Z._patchQuery($)),Z._wrap($,"getConnection",Z._patchGetConnection($)),Z._wrap($,"end",Z._patchPoolEnd($)),Z._setPoolcallbacks($,Z,""),$}}}_patchPoolEnd(J){return(Z)=>{let X=this;return function Y($){let z=J._allConnections.length,W=J._freeConnections.length,Q=z-W,G=(0,Mw.getPoolName)(J);X._connectionsUsage.add(-Q,{state:"used",name:G}),X._connectionsUsage.add(-W,{state:"idle",name:G}),Z.apply(J,arguments)}}}_patchCreatePoolCluster(){return(J)=>{let Z=this;return function X(Y){let $=J(...arguments);return Z._wrap($,"getConnection",Z._patchGetConnection($)),Z._wrap($,"add",Z._patchAdd($)),$}}}_patchAdd(J){return(Z)=>{let X=this;return function Y($,z){if(!X._enabled)return X._unwrap(J,"add"),Z.apply(J,arguments);Z.apply(J,arguments);let W=J._nodes;if(W){let Q=typeof $==="object"?"CLUSTER::"+J._lastId:String($),G=W[Q].pool;X._setPoolcallbacks(G,X,$)}}}}_patchGetConnection(J){return(Z)=>{let X=this;return function Y($,z,W){if(!X._enabled)return X._unwrap(J,"getConnection"),Z.apply(J,arguments);if(arguments.length===1&&typeof $==="function"){let Q=X._getConnectionCallbackPatchFn($);return Z.call(J,Q)}if(arguments.length===2&&typeof z==="function"){let Q=X._getConnectionCallbackPatchFn(z);return Z.call(J,$,Q)}if(arguments.length===3&&typeof W==="function"){let Q=X._getConnectionCallbackPatchFn(W);return Z.call(J,$,z,Q)}return Z.apply(J,arguments)}}}_getConnectionCallbackPatchFn(J){let Z=this,X=n7.context.active();return function(Y,$){if($){if(!(0,Aw.isWrapped)($.query))Z._wrap($,"query",Z._patchQuery($))}if(typeof J==="function")n7.context.with(X,J,this,Y,$)}}_patchQuery(J){return(Z)=>{let X=this;return function Y(Y,$,z){if(!X._enabled)return X._unwrap(J,"query"),Z.apply(J,arguments);let W=X.tracer.startSpan((0,Mw.getSpanName)(Y),{kind:n7.SpanKind.CLIENT,attributes:{...tX1.COMMON_ATTRIBUTES,...(0,Mw.getConnectionAttributes)(J.config)}});if(W.setAttribute(rX1.SEMATTRS_DB_STATEMENT,(0,Mw.getDbStatement)(Y)),X.getConfig().enhancedDatabaseReporting){let K;if(Array.isArray($))K=$;else if(arguments[2])K=[$];W.setAttribute(_D8.AttributeNames.MYSQL_VALUES,(0,Mw.getDbValues)(Y,K))}let Q=Array.from(arguments).findIndex((K)=>typeof K==="function"),G=n7.context.active();if(Q===-1){let K=n7.context.with(n7.trace.setSpan(n7.context.active(),W),()=>{return Z.apply(J,arguments)});return n7.context.bind(G,K),K.on("error",(q)=>W.setStatus({code:n7.SpanStatusCode.ERROR,message:q.message})).on("end",()=>{W.end()})}else return X._wrap(arguments,Q,X._patchCallbackQuery(W,G)),n7.context.with(n7.trace.setSpan(n7.context.active(),W),()=>{return Z.apply(J,arguments)})}}}_patchCallbackQuery(J,Z){return(X)=>{return function(Y,$,z){if(Y)J.setStatus({code:n7.SpanStatusCode.ERROR,message:Y.message});return J.end(),n7.context.with(Z,()=>X(...arguments))}}}_setPoolcallbacks(J,Z,X){let Y=X||(0,Mw.getPoolName)(J);J.on("connection",($)=>{Z._connectionsUsage.add(1,{state:"idle",name:Y})}),J.on("acquire",($)=>{Z._connectionsUsage.add(-1,{state:"idle",name:Y}),Z._connectionsUsage.add(1,{state:"used",name:Y})}),J.on("release",($)=>{Z._connectionsUsage.add(-1,{state:"used",name:Y}),Z._connectionsUsage.add(1,{state:"idle",name:Y})})}}qT0.MySQLInstrumentation=tX1});var UT0=B((FT0)=>{Object.defineProperty(FT0,"__esModule",{value:!0})});var DT0=B((Mq)=>{var yD8=Mq&&Mq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),OT0=Mq&&Mq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))yD8(Z,J,X)};Object.defineProperty(Mq,"__esModule",{value:!0});OT0(HT0(),Mq);OT0(UT0(),Mq)});var wT0=B((VT0)=>{Object.defineProperty(VT0,"__esModule",{value:!0});VT0.PACKAGE_NAME=VT0.PACKAGE_VERSION=void 0;VT0.PACKAGE_VERSION="0.47.0";VT0.PACKAGE_NAME="@opentelemetry/instrumentation-nestjs-core"});var JY1=B((AT0)=>{Object.defineProperty(AT0,"__esModule",{value:!0});AT0.AttributeNames=void 0;var xD8;(function(J){J.VERSION="nestjs.version",J.TYPE="nestjs.type",J.MODULE="nestjs.module",J.CONTROLLER="nestjs.controller",J.CALLBACK="nestjs.callback",J.PIPES="nestjs.pipes",J.INTERCEPTORS="nestjs.interceptors",J.GUARDS="nestjs.guards"})(xD8=AT0.AttributeNames||(AT0.AttributeNames={}))});var NT0=B((MT0)=>{Object.defineProperty(MT0,"__esModule",{value:!0});MT0.NestType=void 0;var gD8;(function(J){J.APP_CREATION="app_creation",J.REQUEST_CONTEXT="request_context",J.REQUEST_HANDLER="handler"})(gD8=MT0.NestType||(MT0.NestType={}))});var PT0=B((tv)=>{Object.defineProperty(tv,"__esModule",{value:!0});tv.NestType=tv.AttributeNames=void 0;var dD8=JY1();Object.defineProperty(tv,"AttributeNames",{enumerable:!0,get:function(){return dD8.AttributeNames}});var uD8=NT0();Object.defineProperty(tv,"NestType",{enumerable:!0,get:function(){return uD8.NestType}})});var RT0=B((CT0)=>{Object.defineProperty(CT0,"__esModule",{value:!0});CT0.NestInstrumentation=void 0;var Iz=C(),hC=J6(),LT0=wT0(),XY1=j1(),jJ=PT0(),YY1=[">=4.0.0 <12"];class NU extends hC.InstrumentationBase{static COMPONENT="@nestjs/core";static COMMON_ATTRIBUTES={component:NU.COMPONENT};constructor(J={}){super(LT0.PACKAGE_NAME,LT0.PACKAGE_VERSION,J)}init(){let J=new hC.InstrumentationNodeModuleDefinition(NU.COMPONENT,YY1);return J.files.push(this.getNestFactoryFileInstrumentation(YY1),this.getRouterExecutionContextFileInstrumentation(YY1)),J}getNestFactoryFileInstrumentation(J){return new hC.InstrumentationNodeModuleFile("@nestjs/core/nest-factory.js",J,(Z,X)=>{return this.ensureWrapped(Z.NestFactoryStatic.prototype,"create",cD8(this.tracer,X)),Z},(Z)=>{this._unwrap(Z.NestFactoryStatic.prototype,"create")})}getRouterExecutionContextFileInstrumentation(J){return new hC.InstrumentationNodeModuleFile("@nestjs/core/router/router-execution-context.js",J,(Z,X)=>{return this.ensureWrapped(Z.RouterExecutionContext.prototype,"create",lD8(this.tracer,X)),Z},(Z)=>{this._unwrap(Z.RouterExecutionContext.prototype,"create")})}ensureWrapped(J,Z,X){if((0,hC.isWrapped)(J[Z]))this._unwrap(J,Z);this._wrap(J,Z,X)}}CT0.NestInstrumentation=NU;function cD8(J,Z){return function X(Y){return function $(z){let W=J.startSpan("Create Nest App",{attributes:{...NU.COMMON_ATTRIBUTES,[jJ.AttributeNames.TYPE]:jJ.NestType.APP_CREATION,[jJ.AttributeNames.VERSION]:Z,[jJ.AttributeNames.MODULE]:z.name}}),Q=Iz.trace.setSpan(Iz.context.active(),W);return Iz.context.with(Q,async()=>{try{return await Y.apply(this,arguments)}catch(G){throw $Y1(W,G)}finally{W.end()}})}}}function lD8(J,Z){return function X(Y){return function $(z,W){arguments[1]=pD8(J,Z,W);let Q=Y.apply(this,arguments),G=W.name,K=z.constructor&&z.constructor.name?z.constructor.name:"UnnamedInstance",q=G?`${K}.${G}`:K;return function(H,F,U){let D=J.startSpan(q,{attributes:{...NU.COMMON_ATTRIBUTES,[jJ.AttributeNames.VERSION]:Z,[jJ.AttributeNames.TYPE]:jJ.NestType.REQUEST_CONTEXT,[XY1.SEMATTRS_HTTP_METHOD]:H.method,[XY1.SEMATTRS_HTTP_URL]:H.originalUrl||H.url,[XY1.SEMATTRS_HTTP_ROUTE]:H.route?.path||H.routeOptions?.url||H.routerPath,[jJ.AttributeNames.CONTROLLER]:K,[jJ.AttributeNames.CALLBACK]:G}}),V=Iz.trace.setSpan(Iz.context.active(),D);return Iz.context.with(V,async()=>{try{return await Q.apply(this,arguments)}catch(w){throw $Y1(D,w)}finally{D.end()}})}}}}function pD8(J,Z,X){let Y=X.name||"anonymous nest handler",$={attributes:{...NU.COMMON_ATTRIBUTES,[jJ.AttributeNames.VERSION]:Z,[jJ.AttributeNames.TYPE]:jJ.NestType.REQUEST_HANDLER,[jJ.AttributeNames.CALLBACK]:X.name}},z=function(){let W=J.startSpan(Y,$),Q=Iz.trace.setSpan(Iz.context.active(),W);return Iz.context.with(Q,async()=>{try{return await X.apply(this,arguments)}catch(G){throw $Y1(W,G)}finally{W.end()}})};if(X.name)Object.defineProperty(z,"name",{value:X.name});return Reflect.getMetadataKeys(X).forEach((W)=>{Reflect.defineMetadata(W,Reflect.getMetadata(W,X),z)}),z}var $Y1=(J,Z)=>{return J.recordException(Z),J.setStatus({code:Iz.SpanStatusCode.ERROR,message:Z.message}),Z}});var ST0=B((Nq)=>{var nD8=Nq&&Nq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),ET0=Nq&&Nq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))nD8(Z,J,X)};Object.defineProperty(Nq,"__esModule",{value:!0});ET0(RT0(),Nq);ET0(JY1(),Nq)});var WY1=B((TT0)=>{Object.defineProperty(TT0,"__esModule",{value:!0});TT0.TLSAttributes=void 0;var iD8;(function(J){J.PROTOCOL="tls.protocol",J.AUTHORIZED="tls.authorized",J.CIPHER_NAME="tls.cipher.name",J.CIPHER_VERSION="tls.cipher.version",J.CERTIFICATE_FINGERPRINT="tls.certificate.fingerprint",J.CERTIFICATE_SERIAL_NUMBER="tls.certificate.serialNumber",J.CERTIFICATE_VALID_FROM="tls.certificate.validFrom",J.CERTIFICATE_VALID_TO="tls.certificate.validTo",J.ALPN_PROTOCOL="tls.alpnProtocol"})(iD8=TT0.TLSAttributes||(TT0.TLSAttributes={}))});var kT0=B((fT0)=>{Object.defineProperty(fT0,"__esModule",{value:!0});fT0.SocketEvent=void 0;var oD8;(function(J){J.CLOSE="close",J.CONNECT="connect",J.ERROR="error",J.SECURE_CONNECT="secureConnect"})(oD8=fT0.SocketEvent||(fT0.SocketEvent={}))});var xT0=B((yT0)=>{Object.defineProperty(yT0,"__esModule",{value:!0});yT0.getNormalizedArgs=yT0.IPC_TRANSPORT=void 0;var bT0=j1(),sD8=p("os");yT0.IPC_TRANSPORT=(0,sD8.platform)()==="win32"?bT0.NETTRANSPORTVALUES_PIPE:bT0.NETTRANSPORTVALUES_UNIX;function hT0(J){return typeof J[1]==="string"?J[1]:"localhost"}function _T0(J){let Z=J[0];if(!Z)return;switch(typeof Z){case"number":return{port:Z,host:hT0(J)};case"object":if(Array.isArray(Z))return _T0(Z);return Z;case"string":{let X=Number(Z);if(X>=0)return{port:X,host:hT0(J)};return{path:Z}}default:return}}yT0.getNormalizedArgs=_T0});var uT0=B((gT0)=>{Object.defineProperty(gT0,"__esModule",{value:!0});gT0.PACKAGE_NAME=gT0.PACKAGE_VERSION=void 0;gT0.PACKAGE_VERSION="0.45.0";gT0.PACKAGE_NAME="@opentelemetry/instrumentation-net"});var iT0=B((pT0)=>{Object.defineProperty(pT0,"__esModule",{value:!0});pT0.NetInstrumentation=void 0;var Nw=C(),ev=J6(),IG=j1(),wz=WY1(),i7=kT0(),mT0=xT0(),cT0=uT0(),tD8=p("tls");class lT0 extends ev.InstrumentationBase{constructor(J={}){super(cT0.PACKAGE_NAME,cT0.PACKAGE_VERSION,J)}init(){return[new ev.InstrumentationNodeModuleDefinition("net",["*"],(J)=>{if((0,ev.isWrapped)(J.Socket.prototype.connect))this._unwrap(J.Socket.prototype,"connect");return this._wrap(J.Socket.prototype,"connect",this._getPatchedConnect()),J},(J)=>{if(J===void 0)return;this._unwrap(J.Socket.prototype,"connect")})]}_getPatchedConnect(){return(J)=>{let Z=this;return function X(...Y){let $=(0,mT0.getNormalizedArgs)(Y),z=this instanceof tD8.TLSSocket?Z._startTLSSpan($,this):Z._startSpan($,this);return(0,ev.safeExecuteInTheMiddle)(()=>J.apply(this,Y),(W)=>{if(W!==void 0)z.setStatus({code:Nw.SpanStatusCode.ERROR,message:W.message}),z.recordException(W),z.end()})}}}_startSpan(J,Z){if(!J)return this._startGenericSpan(Z);if(J.path)return this._startIpcSpan(J,Z);return this._startTcpSpan(J,Z)}_startTLSSpan(J,Z){let X=this.tracer.startSpan("tls.connect"),Y=Nw.context.with(Nw.trace.setSpan(Nw.context.active(),X),()=>{return this._startSpan(J,Z)}),$=()=>{let Q=Z.getPeerCertificate(!0),G=Z.getCipher(),K=Z.getProtocol(),q={[wz.TLSAttributes.PROTOCOL]:String(K),[wz.TLSAttributes.AUTHORIZED]:String(Z.authorized),[wz.TLSAttributes.CIPHER_NAME]:G.name,[wz.TLSAttributes.CIPHER_VERSION]:G.version,[wz.TLSAttributes.CERTIFICATE_FINGERPRINT]:Q.fingerprint,[wz.TLSAttributes.CERTIFICATE_SERIAL_NUMBER]:Q.serialNumber,[wz.TLSAttributes.CERTIFICATE_VALID_FROM]:Q.valid_from,[wz.TLSAttributes.CERTIFICATE_VALID_TO]:Q.valid_to,[wz.TLSAttributes.ALPN_PROTOCOL]:""};if(Z.alpnProtocol)q[wz.TLSAttributes.ALPN_PROTOCOL]=Z.alpnProtocol;X.setAttributes(q),X.end()},z=(Q)=>{X.setStatus({code:Nw.SpanStatusCode.ERROR,message:Q.message}),X.end()};Z.prependOnceListener(i7.SocketEvent.SECURE_CONNECT,$),Z.once(i7.SocketEvent.ERROR,z);let W=()=>{Z.removeListener(i7.SocketEvent.SECURE_CONNECT,$),Z.removeListener(i7.SocketEvent.ERROR,z);for(let Q of KY1)Z.removeListener(Q,W)};for(let Q of[i7.SocketEvent.CLOSE,i7.SocketEvent.ERROR,i7.SocketEvent.SECURE_CONNECT])Z.once(Q,W);return Y}_startGenericSpan(J){let Z=this.tracer.startSpan("connect");return GY1(J,Z),Z}_startIpcSpan(J,Z){let X=this.tracer.startSpan("ipc.connect",{attributes:{[IG.SEMATTRS_NET_TRANSPORT]:mT0.IPC_TRANSPORT,[IG.SEMATTRS_NET_PEER_NAME]:J.path}});return GY1(Z,X),X}_startTcpSpan(J,Z){let X=this.tracer.startSpan("tcp.connect",{attributes:{[IG.SEMATTRS_NET_TRANSPORT]:IG.NETTRANSPORTVALUES_IP_TCP,[IG.SEMATTRS_NET_PEER_NAME]:J.host,[IG.SEMATTRS_NET_PEER_PORT]:J.port}});return GY1(Z,X,{hostAttributes:!0}),X}}pT0.NetInstrumentation=lT0;var KY1=[i7.SocketEvent.CLOSE,i7.SocketEvent.CONNECT,i7.SocketEvent.ERROR];function eD8(J){return()=>{J.end()}}function JV8(J){return(Z)=>{J.setStatus({code:Nw.SpanStatusCode.ERROR,message:Z.message})}}function GY1(J,Z,{hostAttributes:X=!1}={}){let Y=JV8(Z),$=eD8(Z),z=()=>{Z.setAttributes({[IG.SEMATTRS_NET_PEER_IP]:J.remoteAddress,[IG.SEMATTRS_NET_HOST_IP]:J.localAddress,[IG.SEMATTRS_NET_HOST_PORT]:J.localPort})};if(J.once(i7.SocketEvent.ERROR,Y),X)J.once(i7.SocketEvent.CONNECT,z);let W=()=>{J.removeListener(i7.SocketEvent.ERROR,Y),J.removeListener(i7.SocketEvent.CONNECT,z);for(let Q of KY1)J.removeListener(Q,$),J.removeListener(Q,W)};for(let Q of KY1)J.once(Q,$),J.once(Q,W)}});var sT0=B((Pq)=>{var ZV8=Pq&&Pq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),oT0=Pq&&Pq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))ZV8(Z,J,X)};Object.defineProperty(Pq,"__esModule",{value:!0});oT0(iT0(),Pq);oT0(WY1(),Pq)});var tT0=B((aT0)=>{Object.defineProperty(aT0,"__esModule",{value:!0});aT0.ATTR_DB_USER=aT0.ATTR_DB_OPERATION_PARAMETER=aT0.ATTR_DB_STATEMENT=aT0.ATTR_DB_OPERATION_NAME=aT0.ATTR_DB_NAMESPACE=aT0.ATTR_DB_SYSTEM=void 0;aT0.ATTR_DB_SYSTEM="db.system.name";aT0.ATTR_DB_NAMESPACE="db.namespace";aT0.ATTR_DB_OPERATION_NAME="db.operation.name";aT0.ATTR_DB_STATEMENT="db.query.text";aT0.ATTR_DB_OPERATION_PARAMETER="db.operation.parameter";aT0.ATTR_DB_USER="db.user"});var Xf0=B((Jf0)=>{Object.defineProperty(Jf0,"__esModule",{value:!0});Jf0.DB_SYSTEM_VALUE_ORACLE=Jf0.SpanNames=void 0;var QV8;(function(J){J.CONNECT="oracledb.getConnection",J.POOL_CONNECT="oracledb.Pool.getConnection",J.POOL_CREATE="oracledb.createPool",J.CONNECT_PROTOCOL_NEG="oracledb.ProtocolMessage",J.CONNECT_DATATYPE_NEG="oracledb.DataTypeMessage",J.CONNECT_AUTH_MSG="oracledb.AuthMessage",J.CONNECT_FAST_AUTH="oracledb.FastAuthMessage",J.EXECUTE_MSG="oracledb.ExecuteMessage",J.EXECUTE="oracledb.Connection.execute",J.EXECUTE_MANY="oracledb.Connection.executeMany",J.LOGOFF_MSG="oracledb.LogOffMessage",J.CONNECT_CLOSE="oracledb.Connection.close",J.CREATE_LOB="oracledb.Connection.createLob",J.LOB_MESSAGE="oracledb.LobOpMessage",J.LOB_GETDATA="oracledb.Lob.getData"})(QV8=Jf0.SpanNames||(Jf0.SpanNames={}));Jf0.DB_SYSTEM_VALUE_ORACLE="oracle.db"});var Wf0=B(($f0)=>{Object.defineProperty($f0,"__esModule",{value:!0});$f0.getOracleTelemetryTraceHandlerClass=void 0;var Yf0=J6(),lZ=C(),qY1=j1(),PU=tT0(),GV8=3003,Pw=Xf0();function KV8(J){try{return J.traceHandler.TraceHandlerBase}catch(Z){return lZ.diag.error("Failed to load oracledb module.",Z),null}}function qV8(J){let Z=KV8(J);if(!Z)return;class X extends Z{_getTracer;_instrumentConfig;constructor(Y,$){super();this._getTracer=Y,this._instrumentConfig=$}_shouldSkipInstrumentation(){return this._instrumentConfig.requireParentSpan===!0&&lZ.trace.getSpan(lZ.context.active())===void 0}_getDBNameSpace(Y,$,z){if(Y==null&&$==null&&z==null)return;return`${Y??""}|${$??""}|${z??""}`}_getConnectionSpanAttributes(Y){return{[PU.ATTR_DB_SYSTEM]:Pw.DB_SYSTEM_VALUE_ORACLE,[qY1.ATTR_NETWORK_TRANSPORT]:Y.protocol,[PU.ATTR_DB_USER]:Y.user,[PU.ATTR_DB_NAMESPACE]:this._getDBNameSpace(Y.instanceName,Y.pdbName,Y.serviceName),[qY1.ATTR_SERVER_ADDRESS]:Y.hostName,[qY1.ATTR_SERVER_PORT]:Y.port}}_isLobInstance(Y){return typeof Y==="object"&&Y!==null&&Reflect.getPrototypeOf(Y)?.constructor?.name==="Lob"}_getValues(Y){if(!Y)return;let $={};try{if(Array.isArray(Y))Y.forEach((z,W)=>{let Q=`${PU.ATTR_DB_OPERATION_PARAMETER}.${W}`,G=this._extractValue(z);if(G!==void 0)$[Q]=G});else if(Y&&typeof Y==="object")for(let[z,W]of Object.entries(Y)){let Q=`${PU.ATTR_DB_OPERATION_PARAMETER}.${z}`,G=W;if(G&&typeof G==="object"){if(G.dir===GV8){$[Q]="";continue}if("val"in G)G=G.val}let K=this._extractValue(G);if(K!==void 0)$[Q]=K}}catch(z){lZ.diag.error("failed to stringify bind values:",Y,z);return}return $}_extractValue(Y){if(Y==null)return"null";if(Y instanceof Buffer||this._isLobInstance(Y))return Y.toString();if(typeof Y==="object")return JSON.stringify(Y);return Y.toString()}_setCallLevelAttributes(Y,$,z=!1){if(!$)return;if($.statement){if(Y.setAttribute(PU.ATTR_DB_OPERATION_NAME,$.statement.split(" ")[0].toUpperCase()),this._instrumentConfig.dbStatementDump||this._instrumentConfig.enhancedDatabaseReporting){if(Y.setAttribute(PU.ATTR_DB_STATEMENT,$.statement),this._instrumentConfig.enhancedDatabaseReporting&&!z){let W=this._getValues($.values);if(W)Y.setAttributes(W)}}}}_handleExecuteCustomRequest(Y,$){if(typeof this._instrumentConfig.requestHook==="function")(0,Yf0.safeExecuteInTheMiddle)(()=>{this._instrumentConfig.requestHook?.(Y,{connection:$.connectLevelConfig,inputArgs:$.additionalConfig.args})},(z)=>{if(z)lZ.diag.error("Error running request hook",z)},!0)}_handleExecuteCustomResult(Y,$){if(typeof this._instrumentConfig.responseHook==="function")(0,Yf0.safeExecuteInTheMiddle)(()=>{this._instrumentConfig.responseHook?.(Y,{data:$.additionalConfig.result})},(z)=>{if(z)lZ.diag.error("Error running query hook",z)},!0)}_updateSpanName(Y){let{connectLevelConfig:$,callLevelConfig:z,userContext:W,operation:Q}=Y;if(![Pw.SpanNames.EXECUTE,Pw.SpanNames.EXECUTE_MANY,Pw.SpanNames.EXECUTE_MSG].includes(Q))return;let{instanceName:G,pdbName:K,serviceName:q}=$,H=this._getDBNameSpace(G,K,q),F=z?.statement?.split(" ")[0].toUpperCase()||"";W.span.updateName(`${Q}:${F}${H&&` ${H}`}`)}_updateFinalSpanAttributes(Y,$=!1){let z=Y.userContext.span;if(Y.connectLevelConfig)z.setAttributes(this._getConnectionSpanAttributes(Y.connectLevelConfig));if(Y.callLevelConfig)this._setCallLevelAttributes(z,Y.callLevelConfig,$);if(Y.error)z.recordException(Y.error),z.setStatus({code:lZ.SpanStatusCode.ERROR,message:Y.error.message})}setInstrumentConfig(Y={}){this._instrumentConfig=Y}onEnterFn(Y){if(this._shouldSkipInstrumentation())return;let $=Y.operation,z=Y.connectLevelConfig?this._getConnectionSpanAttributes(Y.connectLevelConfig):{};if(Y.userContext={span:this._getTracer().startSpan($,{kind:lZ.SpanKind.CLIENT,attributes:z})},Y.fn)Y.fn=lZ.context.bind(lZ.trace.setSpan(lZ.context.active(),Y.userContext.span),Y.fn);if(Y.operation===Pw.SpanNames.EXECUTE)this._handleExecuteCustomRequest(Y.userContext.span,Y)}onExitFn(Y){if(!Y.userContext?.span)return;switch(this._updateFinalSpanAttributes(Y),Y.operation){case Pw.SpanNames.EXECUTE:this._handleExecuteCustomResult(Y.userContext.span,Y);break;default:break}this._updateSpanName(Y),Y.userContext.span.end()}onBeginRoundTrip(Y){if(this._shouldSkipInstrumentation())return;let $=Y.operation,z={};Y.userContext={span:this._getTracer().startSpan($,{kind:lZ.SpanKind.CLIENT,attributes:z})}}onEndRoundTrip(Y){if(!Y.userContext?.span)return;this._updateFinalSpanAttributes(Y,!0),this._updateSpanName(Y),Y.userContext.span.end()}}return X}$f0.getOracleTelemetryTraceHandlerClass=qV8});var Kf0=B((Qf0)=>{Object.defineProperty(Qf0,"__esModule",{value:!0});Qf0.PACKAGE_NAME=Qf0.PACKAGE_VERSION=void 0;Qf0.PACKAGE_VERSION="0.27.0";Qf0.PACKAGE_NAME="@opentelemetry/instrumentation-oracledb"});var Of0=B((Ff0)=>{Object.defineProperty(Ff0,"__esModule",{value:!0});Ff0.OracleInstrumentation=void 0;var qf0=J6(),HV8=Wf0(),Bf0=Kf0();class Hf0 extends qf0.InstrumentationBase{_tmHandler;constructor(J={}){super(Bf0.PACKAGE_NAME,Bf0.PACKAGE_VERSION,J)}init(){return[new qf0.InstrumentationNodeModuleDefinition("oracledb",[">= 6.7 < 7"],(Z)=>{if(!Z)return;if(this._tmHandler)Z.traceHandler.setTraceInstance(),this._tmHandler=null;let X=this.getConfig(),Y=(0,HV8.getOracleTelemetryTraceHandlerClass)(Z);if(Y){let $=new Y(()=>this.tracer,X);$.enable(),Z.traceHandler.setTraceInstance($),this._tmHandler=$}return Z},(Z)=>{if(this._tmHandler)Z.traceHandler.setTraceInstance(),this._tmHandler=null})]}setConfig(J={}){super.setConfig(J),this._tmHandler?.setInstrumentConfig(this._config)}}Ff0.OracleInstrumentation=Hf0});var Vf0=B((Df0)=>{Object.defineProperty(Df0,"__esModule",{value:!0})});var wf0=B((Lq)=>{var FV8=Lq&&Lq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),If0=Lq&&Lq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))FV8(Z,J,X)};Object.defineProperty(Lq,"__esModule",{value:!0});If0(Of0(),Lq);If0(Vf0(),Lq)});var Nf0=B((Af0)=>{Object.defineProperty(Af0,"__esModule",{value:!0});Af0.EVENT_LISTENERS_SET=void 0;Af0.EVENT_LISTENERS_SET=Symbol("opentelemetry.instrumentation.pg.eventListenersSet")});var HY1=B((Pf0)=>{Object.defineProperty(Pf0,"__esModule",{value:!0});Pf0.AttributeNames=void 0;var UV8;(function(J){J.PG_VALUES="db.postgresql.values",J.PG_PLAN="db.postgresql.plan",J.IDLE_TIMEOUT_MILLIS="db.postgresql.idle.timeout.millis",J.MAX_CLIENT="db.postgresql.max.client"})(UV8=Pf0.AttributeNames||(Pf0.AttributeNames={}))});var FY1=B((Lf0)=>{Object.defineProperty(Lf0,"__esModule",{value:!0});Lf0.METRIC_DB_CLIENT_OPERATION_DURATION=Lf0.METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS=Lf0.METRIC_DB_CLIENT_CONNECTION_COUNT=Lf0.DB_CLIENT_CONNECTION_STATE_VALUE_IDLE=Lf0.DB_CLIENT_CONNECTION_STATE_VALUE_USED=Lf0.ATTR_DB_OPERATION_NAME=Lf0.ATTR_DB_NAMESPACE=Lf0.ATTR_DB_CLIENT_CONNECTION_STATE=Lf0.ATTR_DB_CLIENT_CONNECTION_POOL_NAME=void 0;Lf0.ATTR_DB_CLIENT_CONNECTION_POOL_NAME="db.client.connection.pool.name";Lf0.ATTR_DB_CLIENT_CONNECTION_STATE="db.client.connection.state";Lf0.ATTR_DB_NAMESPACE="db.namespace";Lf0.ATTR_DB_OPERATION_NAME="db.operation.name";Lf0.DB_CLIENT_CONNECTION_STATE_VALUE_USED="used";Lf0.DB_CLIENT_CONNECTION_STATE_VALUE_IDLE="idle";Lf0.METRIC_DB_CLIENT_CONNECTION_COUNT="db.client.connection.count";Lf0.METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS="db.client.connection.pending_requests";Lf0.METRIC_DB_CLIENT_OPERATION_DURATION="db.client.operation.duration"});var OY1=B((jf0)=>{Object.defineProperty(jf0,"__esModule",{value:!0});jf0.SpanNames=void 0;var PV8;(function(J){J.QUERY_PREFIX="pg.query",J.CONNECT="pg.connect",J.POOL_CONNECT="pg-pool.connect"})(PV8=jf0.SpanNames||(jf0.SpanNames={}))});var yf0=B((hf0)=>{Object.defineProperty(hf0,"__esModule",{value:!0});hf0.isObjectWithTextString=hf0.getErrorMessage=hf0.patchClientConnectCallback=hf0.patchCallbackPGPool=hf0.updateCounter=hf0.getPoolName=hf0.patchCallback=hf0.handleExecutionResult=hf0.handleConfigQuery=hf0.shouldSkipInstrumentation=hf0.getSemanticAttributesFromPool=hf0.getSemanticAttributesFromConnection=hf0.getConnectionString=hf0.parseAndMaskConnectionString=hf0.parseNormalizedOperationName=hf0.getQuerySpanName=void 0;var Cq=C(),Jx=HY1(),c9=j1(),LU=FY1(),LV8=J6(),Rf0=OY1();function Ef0(J,Z){if(!Z)return Rf0.SpanNames.QUERY_PREFIX;let X=typeof Z.name==="string"&&Z.name?Z.name:Sf0(Z.text);return`${Rf0.SpanNames.QUERY_PREFIX}:${X}${J?` ${J}`:""}`}hf0.getQuerySpanName=Ef0;function Sf0(J){let Z=J.indexOf(" "),X=Z===-1?J:J.slice(0,Z);return X=X.toUpperCase(),X.endsWith(";")?X.slice(0,-1):X}hf0.parseNormalizedOperationName=Sf0;function Tf0(J){try{let Z=new URL(J);return Z.username="",Z.password="",Z.toString()}catch(Z){return"postgresql://localhost:5432/"}}hf0.parseAndMaskConnectionString=Tf0;function DY1(J){if("connectionString"in J&&J.connectionString)return Tf0(J.connectionString);let Z=J.host||"localhost",X=J.port||5432,Y=J.database||"";return`postgresql://${Z}:${X}/${Y}`}hf0.getConnectionString=DY1;function ff0(J){if(Number.isInteger(J))return J;return}function kf0(J){return{[c9.SEMATTRS_DB_SYSTEM]:c9.DBSYSTEMVALUES_POSTGRESQL,[c9.SEMATTRS_DB_NAME]:J.database,[c9.SEMATTRS_DB_CONNECTION_STRING]:DY1(J),[c9.SEMATTRS_NET_PEER_NAME]:J.host,[c9.SEMATTRS_NET_PEER_PORT]:ff0(J.port),[c9.SEMATTRS_DB_USER]:J.user}}hf0.getSemanticAttributesFromConnection=kf0;function CV8(J){let Z;try{Z=J.connectionString?new URL(J.connectionString):void 0}catch(X){Z=void 0}return{[c9.SEMATTRS_DB_SYSTEM]:c9.DBSYSTEMVALUES_POSTGRESQL,[c9.SEMATTRS_DB_NAME]:Z?.pathname.slice(1)??J.database,[c9.SEMATTRS_DB_CONNECTION_STRING]:DY1(J),[c9.SEMATTRS_NET_PEER_NAME]:Z?.hostname??J.host,[c9.SEMATTRS_NET_PEER_PORT]:Number(Z?.port)||ff0(J.port),[c9.SEMATTRS_DB_USER]:Z?.username??J.user,[Jx.AttributeNames.IDLE_TIMEOUT_MILLIS]:J.idleTimeoutMillis,[Jx.AttributeNames.MAX_CLIENT]:J.maxClient}}hf0.getSemanticAttributesFromPool=CV8;function jV8(J){return J.requireParentSpan===!0&&Cq.trace.getSpan(Cq.context.active())===void 0}hf0.shouldSkipInstrumentation=jV8;function RV8(J,Z,X){let{connectionParameters:Y}=this,$=Y.database,z=Ef0($,X),W=J.startSpan(z,{kind:Cq.SpanKind.CLIENT,attributes:kf0(Y)});if(!X)return W;if(X.text)W.setAttribute(c9.SEMATTRS_DB_STATEMENT,X.text);if(Z.enhancedDatabaseReporting&&Array.isArray(X.values))try{let Q=X.values.map((G)=>{if(G==null)return"null";else if(G instanceof Buffer)return G.toString();else if(typeof G==="object"){if(typeof G.toPostgres==="function")return G.toPostgres();return JSON.stringify(G)}else return G.toString()});W.setAttribute(Jx.AttributeNames.PG_VALUES,Q)}catch(Q){Cq.diag.error("failed to stringify ",X.values,Q)}if(typeof X.name==="string")W.setAttribute(Jx.AttributeNames.PG_PLAN,X.name);return W}hf0.handleConfigQuery=RV8;function bf0(J,Z,X){if(typeof J.responseHook==="function")(0,LV8.safeExecuteInTheMiddle)(()=>{J.responseHook(Z,{data:X})},(Y)=>{if(Y)Cq.diag.error("Error running response hook",Y)},!0)}hf0.handleExecutionResult=bf0;function EV8(J,Z,X,Y,$){return function z(W,Q){if(W){if(Object.prototype.hasOwnProperty.call(W,"code"))Y[c9.ATTR_ERROR_TYPE]=W.code;Z.setStatus({code:Cq.SpanStatusCode.ERROR,message:W.message})}else bf0(J,Z,Q);$(),Z.end(),X.call(this,W,Q)}}hf0.patchCallback=EV8;function SV8(J){let Z="";return Z+=(J?.host?`${J.host}`:"unknown_host")+":",Z+=(J?.port?`${J.port}`:"unknown_port")+"/",Z+=J?.database?`${J.database}`:"unknown_database",Z.trim()}hf0.getPoolName=SV8;function TV8(J,Z,X,Y,$){let{totalCount:z,waitingCount:W,idleCount:Q}=Z,G=z-Q;return X.add(G-$.used,{[LU.ATTR_DB_CLIENT_CONNECTION_STATE]:LU.DB_CLIENT_CONNECTION_STATE_VALUE_USED,[LU.ATTR_DB_CLIENT_CONNECTION_POOL_NAME]:J}),X.add(Q-$.idle,{[LU.ATTR_DB_CLIENT_CONNECTION_STATE]:LU.DB_CLIENT_CONNECTION_STATE_VALUE_IDLE,[LU.ATTR_DB_CLIENT_CONNECTION_POOL_NAME]:J}),Y.add(W-$.pending,{[LU.ATTR_DB_CLIENT_CONNECTION_POOL_NAME]:J}),{used:G,idle:Q,pending:W}}hf0.updateCounter=TV8;function fV8(J,Z){return function X(Y,$,z){if(Y)J.setStatus({code:Cq.SpanStatusCode.ERROR,message:Y.message});J.end(),Z.call(this,Y,$,z)}}hf0.patchCallbackPGPool=fV8;function kV8(J,Z){return function X(Y){if(Y)J.setStatus({code:Cq.SpanStatusCode.ERROR,message:Y.message});J.end(),Z.apply(this,arguments)}}hf0.patchClientConnectCallback=kV8;function bV8(J){return typeof J==="object"&&J!==null&&"message"in J?String(J.message):void 0}hf0.getErrorMessage=bV8;function hV8(J){return typeof J==="object"&&typeof J?.text==="string"}hf0.isObjectWithTextString=hV8});var gf0=B((vf0)=>{Object.defineProperty(vf0,"__esModule",{value:!0});vf0.PACKAGE_NAME=vf0.PACKAGE_VERSION=void 0;vf0.PACKAGE_VERSION="0.53.0";vf0.PACKAGE_NAME="@opentelemetry/instrumentation-pg"});var _C=B((df0)=>{Object.defineProperty(df0,"__esModule",{value:!0});df0.isTracingSuppressed=df0.unsuppressTracing=df0.suppressTracing=void 0;var rV8=C(),VY1=(0,rV8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function tV8(J){return J.setValue(VY1,!0)}df0.suppressTracing=tV8;function eV8(J){return J.deleteValue(VY1)}df0.unsuppressTracing=eV8;function JI8(J){return J.getValue(VY1)===!0}df0.isTracingSuppressed=JI8});var IY1=B((mf0)=>{Object.defineProperty(mf0,"__esModule",{value:!0});mf0.BAGGAGE_MAX_TOTAL_LENGTH=mf0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=mf0.BAGGAGE_MAX_NAME_VALUE_PAIRS=mf0.BAGGAGE_HEADER=mf0.BAGGAGE_ITEMS_SEPARATOR=mf0.BAGGAGE_PROPERTIES_SEPARATOR=mf0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;mf0.BAGGAGE_KEY_PAIR_SEPARATOR="=";mf0.BAGGAGE_PROPERTIES_SEPARATOR=";";mf0.BAGGAGE_ITEMS_SEPARATOR=",";mf0.BAGGAGE_HEADER="baggage";mf0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;mf0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;mf0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var wY1=B((pf0)=>{Object.defineProperty(pf0,"__esModule",{value:!0});pf0.parseKeyPairsIntoRecord=pf0.parsePairKeyValue=pf0.getKeyPairs=pf0.serializeKeyPairs=void 0;var KI8=C(),CU=IY1();function qI8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?CU.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>CU.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}pf0.serializeKeyPairs=qI8;function BI8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=CU.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}pf0.getKeyPairs=BI8;function lf0(J){let Z=J.split(CU.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(CU.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,KI8.baggageEntryMetadataFromString)(Z.join(CU.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}pf0.parsePairKeyValue=lf0;function HI8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(CU.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=lf0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}pf0.parseKeyPairsIntoRecord=HI8});var af0=B((of0)=>{Object.defineProperty(of0,"__esModule",{value:!0});of0.W3CBaggagePropagator=void 0;var AY1=C(),DI8=_C(),jU=IY1(),MY1=wY1();class if0{inject(J,Z,X){let Y=AY1.propagation.getBaggage(J);if(!Y||(0,DI8.isTracingSuppressed)(J))return;let $=(0,MY1.getKeyPairs)(Y).filter((W)=>{return W.length<=jU.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,jU.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,MY1.serializeKeyPairs)($);if(z.length>0)X.set(Z,jU.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,jU.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(jU.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(jU.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,MY1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return AY1.propagation.setBaggage(J,AY1.propagation.createBaggage(z))}fields(){return[jU.BAGGAGE_HEADER]}}of0.W3CBaggagePropagator=if0});var Jk0=B((tf0)=>{Object.defineProperty(tf0,"__esModule",{value:!0});tf0.AnchoredClock=void 0;class rf0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}tf0.AnchoredClock=rf0});var Qk0=B((zk0)=>{Object.defineProperty(zk0,"__esModule",{value:!0});zk0.isAttributeValue=zk0.isAttributeKey=zk0.sanitizeAttributes=void 0;var Zk0=C();function VI8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!Xk0(X)){Zk0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!Yk0(Y)){Zk0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}zk0.sanitizeAttributes=VI8;function Xk0(J){return typeof J==="string"&&J.length>0}zk0.isAttributeKey=Xk0;function Yk0(J){if(J==null)return!0;if(Array.isArray(J))return II8(J);return $k0(J)}zk0.isAttributeValue=Yk0;function II8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if($k0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function $k0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var NY1=B((Gk0)=>{Object.defineProperty(Gk0,"__esModule",{value:!0});Gk0.loggingErrorHandler=void 0;var MI8=C();function NI8(){return(J)=>{MI8.diag.error(PI8(J))}}Gk0.loggingErrorHandler=NI8;function PI8(J){if(typeof J==="string")return J;else return JSON.stringify(LI8(J))}function LI8(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var Fk0=B((Bk0)=>{Object.defineProperty(Bk0,"__esModule",{value:!0});Bk0.globalErrorHandler=Bk0.setGlobalErrorHandler=void 0;var CI8=NY1(),qk0=(0,CI8.loggingErrorHandler)();function jI8(J){qk0=J}Bk0.setGlobalErrorHandler=jI8;function RI8(J){try{qk0(J)}catch{}}Bk0.globalErrorHandler=RI8});var wk0=B((Vk0)=>{Object.defineProperty(Vk0,"__esModule",{value:!0});Vk0.getStringListFromEnv=Vk0.getBooleanFromEnv=Vk0.getStringFromEnv=Vk0.getNumberFromEnv=void 0;var Uk0=C(),Ok0=p("util");function SI8(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){Uk0.diag.warn(`Unknown value ${(0,Ok0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}Vk0.getNumberFromEnv=SI8;function Dk0(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}Vk0.getStringFromEnv=Dk0;function TI8(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return Uk0.diag.warn(`Unknown value ${(0,Ok0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}Vk0.getBooleanFromEnv=TI8;function fI8(J){return Dk0(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}Vk0.getStringListFromEnv=fI8});var Nk0=B((Ak0)=>{Object.defineProperty(Ak0,"__esModule",{value:!0});Ak0._globalThis=void 0;Ak0._globalThis=typeof globalThis==="object"?globalThis:global});var Ck0=B((Pk0)=>{Object.defineProperty(Pk0,"__esModule",{value:!0});Pk0.otperformance=void 0;var _I8=p("perf_hooks");Pk0.otperformance=_I8.performance});var Ek0=B((jk0)=>{Object.defineProperty(jk0,"__esModule",{value:!0});jk0.VERSION=void 0;jk0.VERSION="2.0.1"});var fk0=B((Sk0)=>{Object.defineProperty(Sk0,"__esModule",{value:!0});Sk0.ATTR_PROCESS_RUNTIME_NAME=void 0;Sk0.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var hk0=B((kk0)=>{Object.defineProperty(kk0,"__esModule",{value:!0});kk0.SDK_INFO=void 0;var yI8=Ek0(),Zx=j1(),vI8=fk0();kk0.SDK_INFO={[Zx.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[vI8.ATTR_PROCESS_RUNTIME_NAME]:"node",[Zx.ATTR_TELEMETRY_SDK_LANGUAGE]:Zx.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[Zx.ATTR_TELEMETRY_SDK_VERSION]:yI8.VERSION}});var vk0=B((_k0)=>{Object.defineProperty(_k0,"__esModule",{value:!0});_k0.unrefTimer=void 0;function xI8(J){J.unref()}_k0.unrefTimer=xI8});var xk0=B((Az)=>{Object.defineProperty(Az,"__esModule",{value:!0});Az.unrefTimer=Az.SDK_INFO=Az.otperformance=Az._globalThis=Az.getStringListFromEnv=Az.getNumberFromEnv=Az.getBooleanFromEnv=Az.getStringFromEnv=void 0;var Xx=wk0();Object.defineProperty(Az,"getStringFromEnv",{enumerable:!0,get:function(){return Xx.getStringFromEnv}});Object.defineProperty(Az,"getBooleanFromEnv",{enumerable:!0,get:function(){return Xx.getBooleanFromEnv}});Object.defineProperty(Az,"getNumberFromEnv",{enumerable:!0,get:function(){return Xx.getNumberFromEnv}});Object.defineProperty(Az,"getStringListFromEnv",{enumerable:!0,get:function(){return Xx.getStringListFromEnv}});var gI8=Nk0();Object.defineProperty(Az,"_globalThis",{enumerable:!0,get:function(){return gI8._globalThis}});var dI8=Ck0();Object.defineProperty(Az,"otperformance",{enumerable:!0,get:function(){return dI8.otperformance}});var uI8=hk0();Object.defineProperty(Az,"SDK_INFO",{enumerable:!0,get:function(){return uI8.SDK_INFO}});var mI8=vk0();Object.defineProperty(Az,"unrefTimer",{enumerable:!0,get:function(){return mI8.unrefTimer}})});var PY1=B((Mz)=>{Object.defineProperty(Mz,"__esModule",{value:!0});Mz.getStringListFromEnv=Mz.getNumberFromEnv=Mz.getStringFromEnv=Mz.getBooleanFromEnv=Mz.unrefTimer=Mz.otperformance=Mz._globalThis=Mz.SDK_INFO=void 0;var jq=xk0();Object.defineProperty(Mz,"SDK_INFO",{enumerable:!0,get:function(){return jq.SDK_INFO}});Object.defineProperty(Mz,"_globalThis",{enumerable:!0,get:function(){return jq._globalThis}});Object.defineProperty(Mz,"otperformance",{enumerable:!0,get:function(){return jq.otperformance}});Object.defineProperty(Mz,"unrefTimer",{enumerable:!0,get:function(){return jq.unrefTimer}});Object.defineProperty(Mz,"getBooleanFromEnv",{enumerable:!0,get:function(){return jq.getBooleanFromEnv}});Object.defineProperty(Mz,"getStringFromEnv",{enumerable:!0,get:function(){return jq.getStringFromEnv}});Object.defineProperty(Mz,"getNumberFromEnv",{enumerable:!0,get:function(){return jq.getNumberFromEnv}});Object.defineProperty(Mz,"getStringListFromEnv",{enumerable:!0,get:function(){return jq.getStringListFromEnv}})});var lk0=B((mk0)=>{Object.defineProperty(mk0,"__esModule",{value:!0});mk0.addHrTimes=mk0.isTimeInput=mk0.isTimeInputHrTime=mk0.hrTimeToMicroseconds=mk0.hrTimeToMilliseconds=mk0.hrTimeToNanoseconds=mk0.hrTimeToTimeStamp=mk0.hrTimeDuration=mk0.timeInputToHrTime=mk0.hrTime=mk0.getTimeOrigin=mk0.millisToHrTime=void 0;var LY1=PY1(),gk0=9,pI8=6,nI8=Math.pow(10,pI8),Yx=Math.pow(10,gk0);function yC(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*nI8);return[X,Y]}mk0.millisToHrTime=yC;function CY1(){let J=LY1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=LY1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}mk0.getTimeOrigin=CY1;function dk0(J){let Z=yC(CY1()),X=yC(typeof J==="number"?J:LY1.otperformance.now());return uk0(Z,X)}mk0.hrTime=dk0;function iI8(J){if(jY1(J))return J;else if(typeof J==="number")if(J<CY1())return dk0(J);else return yC(J);else if(J instanceof Date)return yC(J.getTime());else throw TypeError("Invalid input type")}mk0.timeInputToHrTime=iI8;function oI8(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=Yx;return[X,Y]}mk0.hrTimeDuration=oI8;function sI8(J){let Z=gk0,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}mk0.hrTimeToTimeStamp=sI8;function aI8(J){return J[0]*Yx+J[1]}mk0.hrTimeToNanoseconds=aI8;function rI8(J){return J[0]*1000+J[1]/1e6}mk0.hrTimeToMilliseconds=rI8;function tI8(J){return J[0]*1e6+J[1]/1000}mk0.hrTimeToMicroseconds=tI8;function jY1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}mk0.isTimeInputHrTime=jY1;function eI8(J){return jY1(J)||typeof J==="number"||J instanceof Date}mk0.isTimeInput=eI8;function uk0(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=Yx)X[1]-=Yx,X[0]+=1;return X}mk0.addHrTimes=uk0});var nk0=B((pk0)=>{Object.defineProperty(pk0,"__esModule",{value:!0});pk0.ExportResultCode=void 0;var Bw8;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(Bw8=pk0.ExportResultCode||(pk0.ExportResultCode={}))});var rk0=B((sk0)=>{Object.defineProperty(sk0,"__esModule",{value:!0});sk0.CompositePropagator=void 0;var ik0=C();class ok0{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){ik0.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){ik0.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}sk0.CompositePropagator=ok0});var Jb0=B((tk0)=>{Object.defineProperty(tk0,"__esModule",{value:!0});tk0.validateValue=tk0.validateKey=void 0;var EY1="[_0-9a-z-*/]",Hw8=`[a-z]${EY1}{0,255}`,Fw8=`[a-z0-9]${EY1}{0,240}@[a-z]${EY1}{0,13}`,Uw8=new RegExp(`^(?:${Hw8}|${Fw8})$`),Ow8=/^[ -~]{0,255}[!-~]$/,Dw8=/,|=/;function Vw8(J){return Uw8.test(J)}tk0.validateKey=Vw8;function Iw8(J){return Ow8.test(J)&&!Dw8.test(J)}tk0.validateValue=Iw8});var TY1=B((zb0)=>{Object.defineProperty(zb0,"__esModule",{value:!0});zb0.TraceState=void 0;var Zb0=Jb0(),Xb0=32,Aw8=512,Yb0=",",$b0="=";class SY1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+$b0+this.get(Z)),J},[]).join(Yb0)}_parse(J){if(J.length>Aw8)return;if(this._internalState=J.split(Yb0).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf($b0);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,Zb0.validateKey)(z)&&(0,Zb0.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>Xb0)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Xb0))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new SY1;return J._internalState=new Map(this._internalState),J}}zb0.TraceState=SY1});var Bb0=B((Kb0)=>{Object.defineProperty(Kb0,"__esModule",{value:!0});Kb0.W3CTraceContextPropagator=Kb0.parseTraceParent=Kb0.TRACE_STATE_HEADER=Kb0.TRACE_PARENT_HEADER=void 0;var $x=C(),Mw8=_C(),Nw8=TY1();Kb0.TRACE_PARENT_HEADER="traceparent";Kb0.TRACE_STATE_HEADER="tracestate";var Pw8="00",Lw8="(?!ff)[\\da-f]{2}",Cw8="(?![0]{32})[\\da-f]{32}",jw8="(?![0]{16})[\\da-f]{16}",Rw8="[\\da-f]{2}",Ew8=new RegExp(`^\\s?(${Lw8})-(${Cw8})-(${jw8})-(${Rw8})(-.*)?\\s?$`);function Qb0(J){let Z=Ew8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}Kb0.parseTraceParent=Qb0;class Gb0{inject(J,Z,X){let Y=$x.trace.getSpanContext(J);if(!Y||(0,Mw8.isTracingSuppressed)(J)||!(0,$x.isSpanContextValid)(Y))return;let $=`${Pw8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||$x.TraceFlags.NONE).toString(16)}`;if(X.set(Z,Kb0.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,Kb0.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,Kb0.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=Qb0($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,Kb0.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new Nw8.TraceState(typeof Q==="string"?Q:void 0)}return $x.trace.setSpanContext(J,z)}fields(){return[Kb0.TRACE_PARENT_HEADER,Kb0.TRACE_STATE_HEADER]}}Kb0.W3CTraceContextPropagator=Gb0});var Ob0=B((Fb0)=>{Object.defineProperty(Fb0,"__esModule",{value:!0});Fb0.getRPCMetadata=Fb0.deleteRPCMetadata=Fb0.setRPCMetadata=Fb0.RPCType=void 0;var Tw8=C(),fY1=(0,Tw8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),fw8;(function(J){J.HTTP="http"})(fw8=Fb0.RPCType||(Fb0.RPCType={}));function kw8(J,Z){return J.setValue(fY1,Z)}Fb0.setRPCMetadata=kw8;function bw8(J){return J.deleteValue(fY1)}Fb0.deleteRPCMetadata=bw8;function hw8(J){return J.getValue(fY1)}Fb0.getRPCMetadata=hw8});var Nb0=B((Ab0)=>{Object.defineProperty(Ab0,"__esModule",{value:!0});Ab0.isPlainObject=void 0;var vw8="[object Object]",xw8="[object Null]",gw8="[object Undefined]",dw8=Function.prototype,Db0=dw8.toString,uw8=Db0.call(Object),mw8=Object.getPrototypeOf,Vb0=Object.prototype,Ib0=Vb0.hasOwnProperty,RU=Symbol?Symbol.toStringTag:void 0,wb0=Vb0.toString;function cw8(J){if(!lw8(J)||pw8(J)!==vw8)return!1;let Z=mw8(J);if(Z===null)return!0;let X=Ib0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&Db0.call(X)===uw8}Ab0.isPlainObject=cw8;function lw8(J){return J!=null&&typeof J=="object"}function pw8(J){if(J==null)return J===void 0?gw8:xw8;return RU&&RU in Object(J)?nw8(J):iw8(J)}function nw8(J){let Z=Ib0.call(J,RU),X=J[RU],Y=!1;try{J[RU]=void 0,Y=!0}catch(z){}let $=wb0.call(J);if(Y)if(Z)J[RU]=X;else delete J[RU];return $}function iw8(J){return wb0.call(J)}});var Sb0=B((Rb0)=>{Object.defineProperty(Rb0,"__esModule",{value:!0});Rb0.merge=void 0;var Pb0=Nb0(),ow8=20;function sw8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=Cb0(Z,J.shift(),0,X);return Z}Rb0.merge=sw8;function kY1(J){if(Gx(J))return J.slice();return J}function Cb0(J,Z,X=0,Y){let $;if(X>ow8)return;if(X++,Qx(J)||Qx(Z)||jb0(Z))$=kY1(Z);else if(Gx(J)){if($=J.slice(),Gx(Z))for(let z=0,W=Z.length;z<W;z++)$.push(kY1(Z[z]));else if(vC(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=kY1(Z[G])}}}else if(vC(J))if(vC(Z)){if(!aw8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(Qx(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(Lb0(J,G,Y)||Lb0(Z,G,Y))delete $[G];else{if(vC(q)&&vC(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=Cb0($[G],K,X,Y)}}}}else $=Z;return $}function Lb0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function Gx(J){return Array.isArray(J)}function jb0(J){return typeof J==="function"}function vC(J){return!Qx(J)&&!Gx(J)&&!jb0(J)&&typeof J==="object"}function Qx(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function aw8(J,Z){if(!(0,Pb0.isPlainObject)(J)||!(0,Pb0.isPlainObject)(Z))return!1;return!0}});var kb0=B((Tb0)=>{Object.defineProperty(Tb0,"__esModule",{value:!0});Tb0.callWithTimeout=Tb0.TimeoutError=void 0;class Kx extends Error{constructor(J){super(J);Object.setPrototypeOf(this,Kx.prototype)}}Tb0.TimeoutError=Kx;function rw8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new Kx("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}Tb0.callWithTimeout=rw8});var yb0=B((hb0)=>{Object.defineProperty(hb0,"__esModule",{value:!0});hb0.isUrlIgnored=hb0.urlMatches=void 0;function bb0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}hb0.urlMatches=bb0;function ew8(J,Z){if(!Z)return!1;for(let X of Z)if(bb0(J,X))return!0;return!1}hb0.isUrlIgnored=ew8});var db0=B((xb0)=>{Object.defineProperty(xb0,"__esModule",{value:!0});xb0.Deferred=void 0;class vb0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}xb0.Deferred=vb0});var lb0=B((mb0)=>{Object.defineProperty(mb0,"__esModule",{value:!0});mb0.BindOnceFuture=void 0;var ZA8=db0();class ub0{_callback;_that;_isCalled=!1;_deferred=new ZA8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}mb0.BindOnceFuture=ub0});var ob0=B((nb0)=>{Object.defineProperty(nb0,"__esModule",{value:!0});nb0.diagLogLevelFromString=void 0;var wG=C(),pb0={ALL:wG.DiagLogLevel.ALL,VERBOSE:wG.DiagLogLevel.VERBOSE,DEBUG:wG.DiagLogLevel.DEBUG,INFO:wG.DiagLogLevel.INFO,WARN:wG.DiagLogLevel.WARN,ERROR:wG.DiagLogLevel.ERROR,NONE:wG.DiagLogLevel.NONE};function XA8(J){if(J==null)return;let Z=pb0[J.toUpperCase()];if(Z==null)return wG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(pb0)}, using default`),wG.DiagLogLevel.INFO;return Z}nb0.diagLogLevelFromString=XA8});var tb0=B((ab0)=>{Object.defineProperty(ab0,"__esModule",{value:!0});ab0._export=void 0;var sb0=C(),YA8=_C();function $A8(J,Z){return new Promise((X)=>{sb0.context.with((0,YA8.suppressTracing)(sb0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}ab0._export=$A8});var $h0=B((E0)=>{Object.defineProperty(E0,"__esModule",{value:!0});E0.internal=E0.diagLogLevelFromString=E0.BindOnceFuture=E0.urlMatches=E0.isUrlIgnored=E0.callWithTimeout=E0.TimeoutError=E0.merge=E0.TraceState=E0.unsuppressTracing=E0.suppressTracing=E0.isTracingSuppressed=E0.setRPCMetadata=E0.getRPCMetadata=E0.deleteRPCMetadata=E0.RPCType=E0.parseTraceParent=E0.W3CTraceContextPropagator=E0.TRACE_STATE_HEADER=E0.TRACE_PARENT_HEADER=E0.CompositePropagator=E0.unrefTimer=E0.otperformance=E0.getStringListFromEnv=E0.getNumberFromEnv=E0.getBooleanFromEnv=E0.getStringFromEnv=E0._globalThis=E0.SDK_INFO=E0.parseKeyPairsIntoRecord=E0.ExportResultCode=E0.timeInputToHrTime=E0.millisToHrTime=E0.isTimeInputHrTime=E0.isTimeInput=E0.hrTimeToTimeStamp=E0.hrTimeToNanoseconds=E0.hrTimeToMilliseconds=E0.hrTimeToMicroseconds=E0.hrTimeDuration=E0.hrTime=E0.getTimeOrigin=E0.addHrTimes=E0.loggingErrorHandler=E0.setGlobalErrorHandler=E0.globalErrorHandler=E0.sanitizeAttributes=E0.isAttributeValue=E0.AnchoredClock=E0.W3CBaggagePropagator=void 0;var zA8=af0();Object.defineProperty(E0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return zA8.W3CBaggagePropagator}});var WA8=Jk0();Object.defineProperty(E0,"AnchoredClock",{enumerable:!0,get:function(){return WA8.AnchoredClock}});var eb0=Qk0();Object.defineProperty(E0,"isAttributeValue",{enumerable:!0,get:function(){return eb0.isAttributeValue}});Object.defineProperty(E0,"sanitizeAttributes",{enumerable:!0,get:function(){return eb0.sanitizeAttributes}});var Jh0=Fk0();Object.defineProperty(E0,"globalErrorHandler",{enumerable:!0,get:function(){return Jh0.globalErrorHandler}});Object.defineProperty(E0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return Jh0.setGlobalErrorHandler}});var QA8=NY1();Object.defineProperty(E0,"loggingErrorHandler",{enumerable:!0,get:function(){return QA8.loggingErrorHandler}});var pZ=lk0();Object.defineProperty(E0,"addHrTimes",{enumerable:!0,get:function(){return pZ.addHrTimes}});Object.defineProperty(E0,"getTimeOrigin",{enumerable:!0,get:function(){return pZ.getTimeOrigin}});Object.defineProperty(E0,"hrTime",{enumerable:!0,get:function(){return pZ.hrTime}});Object.defineProperty(E0,"hrTimeDuration",{enumerable:!0,get:function(){return pZ.hrTimeDuration}});Object.defineProperty(E0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return pZ.hrTimeToMicroseconds}});Object.defineProperty(E0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return pZ.hrTimeToMilliseconds}});Object.defineProperty(E0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return pZ.hrTimeToNanoseconds}});Object.defineProperty(E0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return pZ.hrTimeToTimeStamp}});Object.defineProperty(E0,"isTimeInput",{enumerable:!0,get:function(){return pZ.isTimeInput}});Object.defineProperty(E0,"isTimeInputHrTime",{enumerable:!0,get:function(){return pZ.isTimeInputHrTime}});Object.defineProperty(E0,"millisToHrTime",{enumerable:!0,get:function(){return pZ.millisToHrTime}});Object.defineProperty(E0,"timeInputToHrTime",{enumerable:!0,get:function(){return pZ.timeInputToHrTime}});var GA8=nk0();Object.defineProperty(E0,"ExportResultCode",{enumerable:!0,get:function(){return GA8.ExportResultCode}});var KA8=wY1();Object.defineProperty(E0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return KA8.parseKeyPairsIntoRecord}});var Rq=PY1();Object.defineProperty(E0,"SDK_INFO",{enumerable:!0,get:function(){return Rq.SDK_INFO}});Object.defineProperty(E0,"_globalThis",{enumerable:!0,get:function(){return Rq._globalThis}});Object.defineProperty(E0,"getStringFromEnv",{enumerable:!0,get:function(){return Rq.getStringFromEnv}});Object.defineProperty(E0,"getBooleanFromEnv",{enumerable:!0,get:function(){return Rq.getBooleanFromEnv}});Object.defineProperty(E0,"getNumberFromEnv",{enumerable:!0,get:function(){return Rq.getNumberFromEnv}});Object.defineProperty(E0,"getStringListFromEnv",{enumerable:!0,get:function(){return Rq.getStringListFromEnv}});Object.defineProperty(E0,"otperformance",{enumerable:!0,get:function(){return Rq.otperformance}});Object.defineProperty(E0,"unrefTimer",{enumerable:!0,get:function(){return Rq.unrefTimer}});var qA8=rk0();Object.defineProperty(E0,"CompositePropagator",{enumerable:!0,get:function(){return qA8.CompositePropagator}});var qx=Bb0();Object.defineProperty(E0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return qx.TRACE_PARENT_HEADER}});Object.defineProperty(E0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return qx.TRACE_STATE_HEADER}});Object.defineProperty(E0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return qx.W3CTraceContextPropagator}});Object.defineProperty(E0,"parseTraceParent",{enumerable:!0,get:function(){return qx.parseTraceParent}});var Bx=Ob0();Object.defineProperty(E0,"RPCType",{enumerable:!0,get:function(){return Bx.RPCType}});Object.defineProperty(E0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Bx.deleteRPCMetadata}});Object.defineProperty(E0,"getRPCMetadata",{enumerable:!0,get:function(){return Bx.getRPCMetadata}});Object.defineProperty(E0,"setRPCMetadata",{enumerable:!0,get:function(){return Bx.setRPCMetadata}});var bY1=_C();Object.defineProperty(E0,"isTracingSuppressed",{enumerable:!0,get:function(){return bY1.isTracingSuppressed}});Object.defineProperty(E0,"suppressTracing",{enumerable:!0,get:function(){return bY1.suppressTracing}});Object.defineProperty(E0,"unsuppressTracing",{enumerable:!0,get:function(){return bY1.unsuppressTracing}});var BA8=TY1();Object.defineProperty(E0,"TraceState",{enumerable:!0,get:function(){return BA8.TraceState}});var HA8=Sb0();Object.defineProperty(E0,"merge",{enumerable:!0,get:function(){return HA8.merge}});var Zh0=kb0();Object.defineProperty(E0,"TimeoutError",{enumerable:!0,get:function(){return Zh0.TimeoutError}});Object.defineProperty(E0,"callWithTimeout",{enumerable:!0,get:function(){return Zh0.callWithTimeout}});var Xh0=yb0();Object.defineProperty(E0,"isUrlIgnored",{enumerable:!0,get:function(){return Xh0.isUrlIgnored}});Object.defineProperty(E0,"urlMatches",{enumerable:!0,get:function(){return Xh0.urlMatches}});var FA8=lb0();Object.defineProperty(E0,"BindOnceFuture",{enumerable:!0,get:function(){return FA8.BindOnceFuture}});var UA8=ob0();Object.defineProperty(E0,"diagLogLevelFromString",{enumerable:!0,get:function(){return UA8.diagLogLevelFromString}});var OA8=tb0();E0.internal={_export:OA8._export}});var Fh0=B((Bh0)=>{Object.defineProperty(Bh0,"__esModule",{value:!0});Bh0.PgInstrumentation=void 0;var nZ=J6(),g4=C(),zh0=Nf0(),I5=yf0(),Wh0=pX1(),Qh0=gf0(),Gh0=OY1(),Hx=$h0(),Eq=j1(),EU=FY1();function Lw(J){return J[Symbol.toStringTag]==="Module"?J.default:J}class qh0 extends nZ.InstrumentationBase{_connectionsCounter={used:0,idle:0,pending:0};constructor(J={}){super(Qh0.PACKAGE_NAME,Qh0.PACKAGE_VERSION,J)}_updateMetricInstruments(){this._operationDuration=this.meter.createHistogram(EU.METRIC_DB_CLIENT_OPERATION_DURATION,{description:"Duration of database client operations.",unit:"s",valueType:g4.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[0.001,0.005,0.01,0.05,0.1,0.5,1,5,10]}}),this._connectionsCounter={idle:0,pending:0,used:0},this._connectionsCount=this.meter.createUpDownCounter(EU.METRIC_DB_CLIENT_CONNECTION_COUNT,{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"}),this._connectionPendingRequests=this.meter.createUpDownCounter(EU.METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS,{description:"The number of current pending requests for an open connection.",unit:"{connection}"})}init(){let J=[">=8.0.3 <9"],Z=[">=2.0.0 <4"],X=new nZ.InstrumentationNodeModuleFile("pg/lib/native/client.js",J,this._patchPgClient.bind(this),this._unpatchPgClient.bind(this)),Y=new nZ.InstrumentationNodeModuleFile("pg/lib/client.js",J,this._patchPgClient.bind(this),this._unpatchPgClient.bind(this)),$=new nZ.InstrumentationNodeModuleDefinition("pg",J,(W)=>{let Q=Lw(W);return this._patchPgClient(Q.Client),W},(W)=>{let Q=Lw(W);return this._unpatchPgClient(Q.Client),W},[Y,X]),z=new nZ.InstrumentationNodeModuleDefinition("pg-pool",Z,(W)=>{let Q=Lw(W);if((0,nZ.isWrapped)(Q.prototype.connect))this._unwrap(Q.prototype,"connect");return this._wrap(Q.prototype,"connect",this._getPoolConnectPatch()),Q},(W)=>{let Q=Lw(W);if((0,nZ.isWrapped)(Q.prototype.connect))this._unwrap(Q.prototype,"connect")});return[$,z]}_patchPgClient(J){if(!J)return;let Z=Lw(J);if((0,nZ.isWrapped)(Z.prototype.query))this._unwrap(Z.prototype,"query");if((0,nZ.isWrapped)(Z.prototype.connect))this._unwrap(Z.prototype,"connect");return this._wrap(Z.prototype,"query",this._getClientQueryPatch()),this._wrap(Z.prototype,"connect",this._getClientConnectPatch()),J}_unpatchPgClient(J){let Z=Lw(J);if((0,nZ.isWrapped)(Z.prototype.query))this._unwrap(Z.prototype,"query");if((0,nZ.isWrapped)(Z.prototype.connect))this._unwrap(Z.prototype,"connect");return J}_getClientConnectPatch(){let J=this;return(Z)=>{return function X(Y){if(I5.shouldSkipInstrumentation(J.getConfig()))return Z.call(this,Y);let $=J.tracer.startSpan(Gh0.SpanNames.CONNECT,{kind:g4.SpanKind.CLIENT,attributes:I5.getSemanticAttributesFromConnection(this)});if(Y){let W=g4.trace.getSpan(g4.context.active());if(Y=I5.patchClientConnectCallback($,Y),W)Y=g4.context.bind(g4.context.active(),Y)}let z=g4.context.with(g4.trace.setSpan(g4.context.active(),$),()=>{return Z.call(this,Y)});return Kh0($,z)}}}recordOperationDuration(J,Z){let X={};[Eq.SEMATTRS_DB_SYSTEM,EU.ATTR_DB_NAMESPACE,Eq.ATTR_ERROR_TYPE,Eq.ATTR_SERVER_PORT,Eq.ATTR_SERVER_ADDRESS,EU.ATTR_DB_OPERATION_NAME].forEach((z)=>{if(z in J)X[z]=J[z]});let $=(0,Hx.hrTimeToMilliseconds)((0,Hx.hrTimeDuration)(Z,(0,Hx.hrTime)()))/1000;this._operationDuration.record($,X)}_getClientQueryPatch(){let J=this;return(Z)=>{return this._diag.debug("Patching pg.Client.prototype.query"),function X(...Y){if(I5.shouldSkipInstrumentation(J.getConfig()))return Z.apply(this,Y);let $=(0,Hx.hrTime)(),z=Y[0],W=typeof z==="string",Q=I5.isObjectWithTextString(z),G=W?{text:z,values:Array.isArray(Y[1])?Y[1]:void 0}:Q?z:void 0,K={[Eq.SEMATTRS_DB_SYSTEM]:Eq.DBSYSTEMVALUES_POSTGRESQL,[EU.ATTR_DB_NAMESPACE]:this.database,[Eq.ATTR_SERVER_PORT]:this.connectionParameters.port,[Eq.ATTR_SERVER_ADDRESS]:this.connectionParameters.host};if(G?.text)K[EU.ATTR_DB_OPERATION_NAME]=I5.parseNormalizedOperationName(G?.text);let q=()=>{J.recordOperationDuration(K,$)},H=J.getConfig(),F=I5.handleConfigQuery.call(this,J.tracer,H,G);if(H.addSqlCommenterCommentToQueries){if(W)Y[0]=(0,Wh0.addSqlCommenterComment)(F,z);else if(Q&&!("name"in z))Y[0]={...z,text:(0,Wh0.addSqlCommenterComment)(F,z.text)}}if(Y.length>0){let V=g4.trace.getSpan(g4.context.active());if(typeof Y[Y.length-1]==="function"){if(Y[Y.length-1]=I5.patchCallback(H,F,Y[Y.length-1],K,q),V)Y[Y.length-1]=g4.context.bind(g4.context.active(),Y[Y.length-1])}else if(typeof G?.callback==="function"){let w=I5.patchCallback(J.getConfig(),F,G.callback,K,q);if(V)w=g4.context.bind(g4.context.active(),w);Y[0].callback=w}}let{requestHook:U}=H;if(typeof U==="function"&&G)(0,nZ.safeExecuteInTheMiddle)(()=>{let{database:V,host:w,port:M,user:P}=this.connectionParameters;U(F,{connection:{database:V,host:w,port:M,user:P},query:{text:G.text,values:G.values,name:G.name}})},(V)=>{if(V)J._diag.error("Error running query hook",V)},!0);let D;try{D=Z.apply(this,Y)}catch(V){throw F.setStatus({code:g4.SpanStatusCode.ERROR,message:I5.getErrorMessage(V)}),F.end(),V}if(D instanceof Promise)return D.then((V)=>{return new Promise((w)=>{I5.handleExecutionResult(J.getConfig(),F,V),q(),F.end(),w(V)})}).catch((V)=>{return new Promise((w,M)=>{F.setStatus({code:g4.SpanStatusCode.ERROR,message:V.message}),q(),F.end(),M(V)})});return D}}}_setPoolConnectEventListeners(J){if(J[zh0.EVENT_LISTENERS_SET])return;let Z=I5.getPoolName(J.options);J.on("connect",()=>{this._connectionsCounter=I5.updateCounter(Z,J,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter)}),J.on("acquire",()=>{this._connectionsCounter=I5.updateCounter(Z,J,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter)}),J.on("remove",()=>{this._connectionsCounter=I5.updateCounter(Z,J,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter)}),J.on("release",()=>{this._connectionsCounter=I5.updateCounter(Z,J,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter)}),J[zh0.EVENT_LISTENERS_SET]=!0}_getPoolConnectPatch(){let J=this;return(Z)=>{return function X(Y){if(I5.shouldSkipInstrumentation(J.getConfig()))return Z.call(this,Y);let $=J.tracer.startSpan(Gh0.SpanNames.POOL_CONNECT,{kind:g4.SpanKind.CLIENT,attributes:I5.getSemanticAttributesFromPool(this.options)});if(J._setPoolConnectEventListeners(this),Y){let W=g4.trace.getSpan(g4.context.active());if(Y=I5.patchCallbackPGPool($,Y),W)Y=g4.context.bind(g4.context.active(),Y)}let z=g4.context.with(g4.trace.setSpan(g4.context.active(),$),()=>{return Z.call(this,Y)});return Kh0($,z)}}}}Bh0.PgInstrumentation=qh0;function Kh0(J,Z){if(!(Z instanceof Promise))return Z;let X=Z;return g4.context.bind(g4.context.active(),X.then((Y)=>{return J.end(),Y}).catch((Y)=>{return J.setStatus({code:g4.SpanStatusCode.ERROR,message:I5.getErrorMessage(Y)}),J.end(),Promise.reject(Y)}))}});var Oh0=B((Uh0)=>{Object.defineProperty(Uh0,"__esModule",{value:!0})});var Dh0=B((AG)=>{var DA8=AG&&AG.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),hY1=AG&&AG.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))DA8(Z,J,X)};Object.defineProperty(AG,"__esModule",{value:!0});hY1(Fh0(),AG);hY1(Oh0(),AG);hY1(HY1(),AG)});var _Y1=B((Vh0)=>{Object.defineProperty(Vh0,"__esModule",{value:!0});Vh0.PACKAGE_NAME=Vh0.PACKAGE_VERSION=void 0;Vh0.PACKAGE_VERSION="0.48.0";Vh0.PACKAGE_NAME="@opentelemetry/instrumentation-pino"});var Ah0=B((wh0)=>{Object.defineProperty(wh0,"__esModule",{value:!0});wh0.SeverityNumber=void 0;var IA8;(function(J){J[J.UNSPECIFIED=0]="UNSPECIFIED",J[J.TRACE=1]="TRACE",J[J.TRACE2=2]="TRACE2",J[J.TRACE3=3]="TRACE3",J[J.TRACE4=4]="TRACE4",J[J.DEBUG=5]="DEBUG",J[J.DEBUG2=6]="DEBUG2",J[J.DEBUG3=7]="DEBUG3",J[J.DEBUG4=8]="DEBUG4",J[J.INFO=9]="INFO",J[J.INFO2=10]="INFO2",J[J.INFO3=11]="INFO3",J[J.INFO4=12]="INFO4",J[J.WARN=13]="WARN",J[J.WARN2=14]="WARN2",J[J.WARN3=15]="WARN3",J[J.WARN4=16]="WARN4",J[J.ERROR=17]="ERROR",J[J.ERROR2=18]="ERROR2",J[J.ERROR3=19]="ERROR3",J[J.ERROR4=20]="ERROR4",J[J.FATAL=21]="FATAL",J[J.FATAL2=22]="FATAL2",J[J.FATAL3=23]="FATAL3",J[J.FATAL4=24]="FATAL4"})(IA8=wh0.SeverityNumber||(wh0.SeverityNumber={}))});var Fx=B((Mh0)=>{Object.defineProperty(Mh0,"__esModule",{value:!0});Mh0.NOOP_LOGGER=Mh0.NoopLogger=void 0;class vY1{emit(J){}}Mh0.NoopLogger=vY1;Mh0.NOOP_LOGGER=new vY1});var Ux=B((Ph0)=>{Object.defineProperty(Ph0,"__esModule",{value:!0});Ph0.NOOP_LOGGER_PROVIDER=Ph0.NoopLoggerProvider=void 0;var AA8=Fx();class xY1{getLogger(J,Z,X){return new AA8.NoopLogger}}Ph0.NoopLoggerProvider=xY1;Ph0.NOOP_LOGGER_PROVIDER=new xY1});var gY1=B((jh0)=>{Object.defineProperty(jh0,"__esModule",{value:!0});jh0.ProxyLogger=void 0;var NA8=Fx();class Ch0{constructor(J,Z,X,Y){this._provider=J,this.name=Z,this.version=X,this.options=Y}emit(J){this._getLogger().emit(J)}_getLogger(){if(this._delegate)return this._delegate;let J=this._provider.getDelegateLogger(this.name,this.version,this.options);if(!J)return NA8.NOOP_LOGGER;return this._delegate=J,this._delegate}}jh0.ProxyLogger=Ch0});var dY1=B((Sh0)=>{Object.defineProperty(Sh0,"__esModule",{value:!0});Sh0.ProxyLoggerProvider=void 0;var PA8=Ux(),LA8=gY1();class Eh0{getLogger(J,Z,X){var Y;return(Y=this.getDelegateLogger(J,Z,X))!==null&&Y!==void 0?Y:new LA8.ProxyLogger(this,J,Z,X)}getDelegate(){var J;return(J=this._delegate)!==null&&J!==void 0?J:PA8.NOOP_LOGGER_PROVIDER}setDelegate(J){this._delegate=J}getDelegateLogger(J,Z,X){var Y;return(Y=this._delegate)===null||Y===void 0?void 0:Y.getLogger(J,Z,X)}}Sh0.ProxyLoggerProvider=Eh0});var bh0=B((fh0)=>{Object.defineProperty(fh0,"__esModule",{value:!0});fh0._globalThis=void 0;fh0._globalThis=typeof globalThis==="object"?globalThis:global});var hh0=B((uY1)=>{Object.defineProperty(uY1,"__esModule",{value:!0});uY1._globalThis=void 0;var CA8=bh0();Object.defineProperty(uY1,"_globalThis",{enumerable:!0,get:function(){return CA8._globalThis}})});var _h0=B((mY1)=>{Object.defineProperty(mY1,"__esModule",{value:!0});mY1._globalThis=void 0;var RA8=hh0();Object.defineProperty(mY1,"_globalThis",{enumerable:!0,get:function(){return RA8._globalThis}})});var xh0=B((yh0)=>{Object.defineProperty(yh0,"__esModule",{value:!0});yh0.API_BACKWARDS_COMPATIBILITY_VERSION=yh0.makeGetter=yh0._global=yh0.GLOBAL_LOGS_API_KEY=void 0;var SA8=_h0();yh0.GLOBAL_LOGS_API_KEY=Symbol.for("io.opentelemetry.js.api.logs");yh0._global=SA8._globalThis;function TA8(J,Z,X){return(Y)=>Y===J?Z:X}yh0.makeGetter=TA8;yh0.API_BACKWARDS_COMPATIBILITY_VERSION=1});var mh0=B((dh0)=>{Object.defineProperty(dh0,"__esModule",{value:!0});dh0.LogsAPI=void 0;var iZ=xh0(),hA8=Ux(),gh0=dY1();class cY1{constructor(){this._proxyLoggerProvider=new gh0.ProxyLoggerProvider}static getInstance(){if(!this._instance)this._instance=new cY1;return this._instance}setGlobalLoggerProvider(J){if(iZ._global[iZ.GLOBAL_LOGS_API_KEY])return this.getLoggerProvider();return iZ._global[iZ.GLOBAL_LOGS_API_KEY]=(0,iZ.makeGetter)(iZ.API_BACKWARDS_COMPATIBILITY_VERSION,J,hA8.NOOP_LOGGER_PROVIDER),this._proxyLoggerProvider.setDelegate(J),J}getLoggerProvider(){var J,Z;return(Z=(J=iZ._global[iZ.GLOBAL_LOGS_API_KEY])===null||J===void 0?void 0:J.call(iZ._global,iZ.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&Z!==void 0?Z:this._proxyLoggerProvider}getLogger(J,Z,X){return this.getLoggerProvider().getLogger(J,Z,X)}disable(){delete iZ._global[iZ.GLOBAL_LOGS_API_KEY],this._proxyLoggerProvider=new gh0.ProxyLoggerProvider}}dh0.LogsAPI=cY1});var nh0=B((MG)=>{Object.defineProperty(MG,"__esModule",{value:!0});MG.logs=MG.ProxyLoggerProvider=MG.ProxyLogger=MG.NoopLoggerProvider=MG.NOOP_LOGGER_PROVIDER=MG.NoopLogger=MG.NOOP_LOGGER=MG.SeverityNumber=void 0;var _A8=Ah0();Object.defineProperty(MG,"SeverityNumber",{enumerable:!0,get:function(){return _A8.SeverityNumber}});var ch0=Fx();Object.defineProperty(MG,"NOOP_LOGGER",{enumerable:!0,get:function(){return ch0.NOOP_LOGGER}});Object.defineProperty(MG,"NoopLogger",{enumerable:!0,get:function(){return ch0.NoopLogger}});var lh0=Ux();Object.defineProperty(MG,"NOOP_LOGGER_PROVIDER",{enumerable:!0,get:function(){return lh0.NOOP_LOGGER_PROVIDER}});Object.defineProperty(MG,"NoopLoggerProvider",{enumerable:!0,get:function(){return lh0.NoopLoggerProvider}});var yA8=gY1();Object.defineProperty(MG,"ProxyLogger",{enumerable:!0,get:function(){return yA8.ProxyLogger}});var vA8=dY1();Object.defineProperty(MG,"ProxyLoggerProvider",{enumerable:!0,get:function(){return vA8.ProxyLoggerProvider}});var xA8=mh0();MG.logs=xA8.LogsAPI.getInstance()});var xC=B((ih0)=>{Object.defineProperty(ih0,"__esModule",{value:!0});ih0.isTracingSuppressed=ih0.unsuppressTracing=ih0.suppressTracing=void 0;var gA8=C(),lY1=(0,gA8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function dA8(J){return J.setValue(lY1,!0)}ih0.suppressTracing=dA8;function uA8(J){return J.deleteValue(lY1)}ih0.unsuppressTracing=uA8;function mA8(J){return J.getValue(lY1)===!0}ih0.isTracingSuppressed=mA8});var pY1=B((sh0)=>{Object.defineProperty(sh0,"__esModule",{value:!0});sh0.BAGGAGE_MAX_TOTAL_LENGTH=sh0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=sh0.BAGGAGE_MAX_NAME_VALUE_PAIRS=sh0.BAGGAGE_HEADER=sh0.BAGGAGE_ITEMS_SEPARATOR=sh0.BAGGAGE_PROPERTIES_SEPARATOR=sh0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;sh0.BAGGAGE_KEY_PAIR_SEPARATOR="=";sh0.BAGGAGE_PROPERTIES_SEPARATOR=";";sh0.BAGGAGE_ITEMS_SEPARATOR=",";sh0.BAGGAGE_HEADER="baggage";sh0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;sh0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;sh0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var nY1=B((th0)=>{Object.defineProperty(th0,"__esModule",{value:!0});th0.parseKeyPairsIntoRecord=th0.parsePairKeyValue=th0.getKeyPairs=th0.serializeKeyPairs=void 0;var rA8=C(),SU=pY1();function tA8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?SU.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>SU.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}th0.serializeKeyPairs=tA8;function eA8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=SU.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}th0.getKeyPairs=eA8;function rh0(J){let Z=J.split(SU.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(SU.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,rA8.baggageEntryMetadataFromString)(Z.join(SU.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}th0.parsePairKeyValue=rh0;function JM8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(SU.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=rh0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}th0.parseKeyPairsIntoRecord=JM8});var Y_0=B((Z_0)=>{Object.defineProperty(Z_0,"__esModule",{value:!0});Z_0.W3CBaggagePropagator=void 0;var iY1=C(),$M8=xC(),TU=pY1(),oY1=nY1();class J_0{inject(J,Z,X){let Y=iY1.propagation.getBaggage(J);if(!Y||(0,$M8.isTracingSuppressed)(J))return;let $=(0,oY1.getKeyPairs)(Y).filter((W)=>{return W.length<=TU.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,TU.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,oY1.serializeKeyPairs)($);if(z.length>0)X.set(Z,TU.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,TU.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(TU.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(TU.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,oY1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return iY1.propagation.setBaggage(J,iY1.propagation.createBaggage(z))}fields(){return[TU.BAGGAGE_HEADER]}}Z_0.W3CBaggagePropagator=J_0});var Q_0=B((z_0)=>{Object.defineProperty(z_0,"__esModule",{value:!0});z_0.AnchoredClock=void 0;class $_0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}z_0.AnchoredClock=$_0});var U_0=B((H_0)=>{Object.defineProperty(H_0,"__esModule",{value:!0});H_0.isAttributeValue=H_0.isAttributeKey=H_0.sanitizeAttributes=void 0;var G_0=C();function zM8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!K_0(X)){G_0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!q_0(Y)){G_0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}H_0.sanitizeAttributes=zM8;function K_0(J){return typeof J==="string"&&J.length>0}H_0.isAttributeKey=K_0;function q_0(J){if(J==null)return!0;if(Array.isArray(J))return WM8(J);return B_0(J)}H_0.isAttributeValue=q_0;function WM8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(B_0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function B_0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var sY1=B((O_0)=>{Object.defineProperty(O_0,"__esModule",{value:!0});O_0.loggingErrorHandler=void 0;var KM8=C();function qM8(){return(J)=>{KM8.diag.error(BM8(J))}}O_0.loggingErrorHandler=qM8;function BM8(J){if(typeof J==="string")return J;else return JSON.stringify(HM8(J))}function HM8(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var A_0=B((I_0)=>{Object.defineProperty(I_0,"__esModule",{value:!0});I_0.globalErrorHandler=I_0.setGlobalErrorHandler=void 0;var FM8=sY1(),V_0=(0,FM8.loggingErrorHandler)();function UM8(J){V_0=J}I_0.setGlobalErrorHandler=UM8;function OM8(J){try{V_0(J)}catch{}}I_0.globalErrorHandler=OM8});var j_0=B((L_0)=>{Object.defineProperty(L_0,"__esModule",{value:!0});L_0.getStringListFromEnv=L_0.getBooleanFromEnv=L_0.getStringFromEnv=L_0.getNumberFromEnv=void 0;var M_0=C(),N_0=p("util");function VM8(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){M_0.diag.warn(`Unknown value ${(0,N_0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}L_0.getNumberFromEnv=VM8;function P_0(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}L_0.getStringFromEnv=P_0;function IM8(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return M_0.diag.warn(`Unknown value ${(0,N_0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}L_0.getBooleanFromEnv=IM8;function wM8(J){return P_0(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}L_0.getStringListFromEnv=wM8});var S_0=B((R_0)=>{Object.defineProperty(R_0,"__esModule",{value:!0});R_0._globalThis=void 0;R_0._globalThis=typeof globalThis==="object"?globalThis:global});var k_0=B((T_0)=>{Object.defineProperty(T_0,"__esModule",{value:!0});T_0.otperformance=void 0;var PM8=p("perf_hooks");T_0.otperformance=PM8.performance});var __0=B((b_0)=>{Object.defineProperty(b_0,"__esModule",{value:!0});b_0.VERSION=void 0;b_0.VERSION="2.0.1"});var x_0=B((y_0)=>{Object.defineProperty(y_0,"__esModule",{value:!0});y_0.ATTR_PROCESS_RUNTIME_NAME=void 0;y_0.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var u_0=B((g_0)=>{Object.defineProperty(g_0,"__esModule",{value:!0});g_0.SDK_INFO=void 0;var LM8=__0(),Ox=j1(),CM8=x_0();g_0.SDK_INFO={[Ox.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[CM8.ATTR_PROCESS_RUNTIME_NAME]:"node",[Ox.ATTR_TELEMETRY_SDK_LANGUAGE]:Ox.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[Ox.ATTR_TELEMETRY_SDK_VERSION]:LM8.VERSION}});var l_0=B((m_0)=>{Object.defineProperty(m_0,"__esModule",{value:!0});m_0.unrefTimer=void 0;function jM8(J){J.unref()}m_0.unrefTimer=jM8});var p_0=B((Nz)=>{Object.defineProperty(Nz,"__esModule",{value:!0});Nz.unrefTimer=Nz.SDK_INFO=Nz.otperformance=Nz._globalThis=Nz.getStringListFromEnv=Nz.getNumberFromEnv=Nz.getBooleanFromEnv=Nz.getStringFromEnv=void 0;var Dx=j_0();Object.defineProperty(Nz,"getStringFromEnv",{enumerable:!0,get:function(){return Dx.getStringFromEnv}});Object.defineProperty(Nz,"getBooleanFromEnv",{enumerable:!0,get:function(){return Dx.getBooleanFromEnv}});Object.defineProperty(Nz,"getNumberFromEnv",{enumerable:!0,get:function(){return Dx.getNumberFromEnv}});Object.defineProperty(Nz,"getStringListFromEnv",{enumerable:!0,get:function(){return Dx.getStringListFromEnv}});var RM8=S_0();Object.defineProperty(Nz,"_globalThis",{enumerable:!0,get:function(){return RM8._globalThis}});var EM8=k_0();Object.defineProperty(Nz,"otperformance",{enumerable:!0,get:function(){return EM8.otperformance}});var SM8=u_0();Object.defineProperty(Nz,"SDK_INFO",{enumerable:!0,get:function(){return SM8.SDK_INFO}});var TM8=l_0();Object.defineProperty(Nz,"unrefTimer",{enumerable:!0,get:function(){return TM8.unrefTimer}})});var aY1=B((Pz)=>{Object.defineProperty(Pz,"__esModule",{value:!0});Pz.getStringListFromEnv=Pz.getNumberFromEnv=Pz.getStringFromEnv=Pz.getBooleanFromEnv=Pz.unrefTimer=Pz.otperformance=Pz._globalThis=Pz.SDK_INFO=void 0;var Sq=p_0();Object.defineProperty(Pz,"SDK_INFO",{enumerable:!0,get:function(){return Sq.SDK_INFO}});Object.defineProperty(Pz,"_globalThis",{enumerable:!0,get:function(){return Sq._globalThis}});Object.defineProperty(Pz,"otperformance",{enumerable:!0,get:function(){return Sq.otperformance}});Object.defineProperty(Pz,"unrefTimer",{enumerable:!0,get:function(){return Sq.unrefTimer}});Object.defineProperty(Pz,"getBooleanFromEnv",{enumerable:!0,get:function(){return Sq.getBooleanFromEnv}});Object.defineProperty(Pz,"getStringFromEnv",{enumerable:!0,get:function(){return Sq.getStringFromEnv}});Object.defineProperty(Pz,"getNumberFromEnv",{enumerable:!0,get:function(){return Sq.getNumberFromEnv}});Object.defineProperty(Pz,"getStringListFromEnv",{enumerable:!0,get:function(){return Sq.getStringListFromEnv}})});var r_0=B((s_0)=>{Object.defineProperty(s_0,"__esModule",{value:!0});s_0.addHrTimes=s_0.isTimeInput=s_0.isTimeInputHrTime=s_0.hrTimeToMicroseconds=s_0.hrTimeToMilliseconds=s_0.hrTimeToNanoseconds=s_0.hrTimeToTimeStamp=s_0.hrTimeDuration=s_0.timeInputToHrTime=s_0.hrTime=s_0.getTimeOrigin=s_0.millisToHrTime=void 0;var rY1=aY1(),n_0=9,bM8=6,hM8=Math.pow(10,bM8),Vx=Math.pow(10,n_0);function gC(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*hM8);return[X,Y]}s_0.millisToHrTime=gC;function tY1(){let J=rY1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=rY1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}s_0.getTimeOrigin=tY1;function i_0(J){let Z=gC(tY1()),X=gC(typeof J==="number"?J:rY1.otperformance.now());return o_0(Z,X)}s_0.hrTime=i_0;function _M8(J){if(eY1(J))return J;else if(typeof J==="number")if(J<tY1())return i_0(J);else return gC(J);else if(J instanceof Date)return gC(J.getTime());else throw TypeError("Invalid input type")}s_0.timeInputToHrTime=_M8;function yM8(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=Vx;return[X,Y]}s_0.hrTimeDuration=yM8;function vM8(J){let Z=n_0,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}s_0.hrTimeToTimeStamp=vM8;function xM8(J){return J[0]*Vx+J[1]}s_0.hrTimeToNanoseconds=xM8;function gM8(J){return J[0]*1000+J[1]/1e6}s_0.hrTimeToMilliseconds=gM8;function dM8(J){return J[0]*1e6+J[1]/1000}s_0.hrTimeToMicroseconds=dM8;function eY1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}s_0.isTimeInputHrTime=eY1;function uM8(J){return eY1(J)||typeof J==="number"||J instanceof Date}s_0.isTimeInput=uM8;function o_0(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=Vx)X[1]-=Vx,X[0]+=1;return X}s_0.addHrTimes=o_0});var e_0=B((t_0)=>{Object.defineProperty(t_0,"__esModule",{value:!0});t_0.ExportResultCode=void 0;var eM8;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(eM8=t_0.ExportResultCode||(t_0.ExportResultCode={}))});var $y0=B((Xy0)=>{Object.defineProperty(Xy0,"__esModule",{value:!0});Xy0.CompositePropagator=void 0;var Jy0=C();class Zy0{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){Jy0.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){Jy0.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}Xy0.CompositePropagator=Zy0});var Qy0=B((zy0)=>{Object.defineProperty(zy0,"__esModule",{value:!0});zy0.validateValue=zy0.validateKey=void 0;var Z$1="[_0-9a-z-*/]",JN8=`[a-z]${Z$1}{0,255}`,ZN8=`[a-z0-9]${Z$1}{0,240}@[a-z]${Z$1}{0,13}`,XN8=new RegExp(`^(?:${JN8}|${ZN8})$`),YN8=/^[ -~]{0,255}[!-~]$/,$N8=/,|=/;function zN8(J){return XN8.test(J)}zy0.validateKey=zN8;function WN8(J){return YN8.test(J)&&!$N8.test(J)}zy0.validateValue=WN8});var Y$1=B((Hy0)=>{Object.defineProperty(Hy0,"__esModule",{value:!0});Hy0.TraceState=void 0;var Gy0=Qy0(),Ky0=32,GN8=512,qy0=",",By0="=";class X$1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+By0+this.get(Z)),J},[]).join(qy0)}_parse(J){if(J.length>GN8)return;if(this._internalState=J.split(qy0).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(By0);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,Gy0.validateKey)(z)&&(0,Gy0.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>Ky0)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Ky0))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new X$1;return J._internalState=new Map(this._internalState),J}}Hy0.TraceState=X$1});var Iy0=B((Dy0)=>{Object.defineProperty(Dy0,"__esModule",{value:!0});Dy0.W3CTraceContextPropagator=Dy0.parseTraceParent=Dy0.TRACE_STATE_HEADER=Dy0.TRACE_PARENT_HEADER=void 0;var Ix=C(),KN8=xC(),qN8=Y$1();Dy0.TRACE_PARENT_HEADER="traceparent";Dy0.TRACE_STATE_HEADER="tracestate";var BN8="00",HN8="(?!ff)[\\da-f]{2}",FN8="(?![0]{32})[\\da-f]{32}",UN8="(?![0]{16})[\\da-f]{16}",ON8="[\\da-f]{2}",DN8=new RegExp(`^\\s?(${HN8})-(${FN8})-(${UN8})-(${ON8})(-.*)?\\s?$`);function Uy0(J){let Z=DN8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}Dy0.parseTraceParent=Uy0;class Oy0{inject(J,Z,X){let Y=Ix.trace.getSpanContext(J);if(!Y||(0,KN8.isTracingSuppressed)(J)||!(0,Ix.isSpanContextValid)(Y))return;let $=`${BN8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||Ix.TraceFlags.NONE).toString(16)}`;if(X.set(Z,Dy0.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,Dy0.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,Dy0.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=Uy0($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,Dy0.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new qN8.TraceState(typeof Q==="string"?Q:void 0)}return Ix.trace.setSpanContext(J,z)}fields(){return[Dy0.TRACE_PARENT_HEADER,Dy0.TRACE_STATE_HEADER]}}Dy0.W3CTraceContextPropagator=Oy0});var Ny0=B((Ay0)=>{Object.defineProperty(Ay0,"__esModule",{value:!0});Ay0.getRPCMetadata=Ay0.deleteRPCMetadata=Ay0.setRPCMetadata=Ay0.RPCType=void 0;var IN8=C(),$$1=(0,IN8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),wN8;(function(J){J.HTTP="http"})(wN8=Ay0.RPCType||(Ay0.RPCType={}));function AN8(J,Z){return J.setValue($$1,Z)}Ay0.setRPCMetadata=AN8;function MN8(J){return J.deleteValue($$1)}Ay0.deleteRPCMetadata=MN8;function NN8(J){return J.getValue($$1)}Ay0.getRPCMetadata=NN8});var Sy0=B((Ry0)=>{Object.defineProperty(Ry0,"__esModule",{value:!0});Ry0.isPlainObject=void 0;var CN8="[object Object]",jN8="[object Null]",RN8="[object Undefined]",EN8=Function.prototype,Py0=EN8.toString,SN8=Py0.call(Object),TN8=Object.getPrototypeOf,Ly0=Object.prototype,Cy0=Ly0.hasOwnProperty,fU=Symbol?Symbol.toStringTag:void 0,jy0=Ly0.toString;function fN8(J){if(!kN8(J)||bN8(J)!==CN8)return!1;let Z=TN8(J);if(Z===null)return!0;let X=Cy0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&Py0.call(X)===SN8}Ry0.isPlainObject=fN8;function kN8(J){return J!=null&&typeof J=="object"}function bN8(J){if(J==null)return J===void 0?RN8:jN8;return fU&&fU in Object(J)?hN8(J):_N8(J)}function hN8(J){let Z=Cy0.call(J,fU),X=J[fU],Y=!1;try{J[fU]=void 0,Y=!0}catch(z){}let $=jy0.call(J);if(Y)if(Z)J[fU]=X;else delete J[fU];return $}function _N8(J){return jy0.call(J)}});var yy0=B((hy0)=>{Object.defineProperty(hy0,"__esModule",{value:!0});hy0.merge=void 0;var Ty0=Sy0(),yN8=20;function vN8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=ky0(Z,J.shift(),0,X);return Z}hy0.merge=vN8;function z$1(J){if(Nx(J))return J.slice();return J}function ky0(J,Z,X=0,Y){let $;if(X>yN8)return;if(X++,Mx(J)||Mx(Z)||by0(Z))$=z$1(Z);else if(Nx(J)){if($=J.slice(),Nx(Z))for(let z=0,W=Z.length;z<W;z++)$.push(z$1(Z[z]));else if(dC(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=z$1(Z[G])}}}else if(dC(J))if(dC(Z)){if(!xN8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(Mx(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(fy0(J,G,Y)||fy0(Z,G,Y))delete $[G];else{if(dC(q)&&dC(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=ky0($[G],K,X,Y)}}}}else $=Z;return $}function fy0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function Nx(J){return Array.isArray(J)}function by0(J){return typeof J==="function"}function dC(J){return!Mx(J)&&!Nx(J)&&!by0(J)&&typeof J==="object"}function Mx(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function xN8(J,Z){if(!(0,Ty0.isPlainObject)(J)||!(0,Ty0.isPlainObject)(Z))return!1;return!0}});var gy0=B((vy0)=>{Object.defineProperty(vy0,"__esModule",{value:!0});vy0.callWithTimeout=vy0.TimeoutError=void 0;class Px extends Error{constructor(J){super(J);Object.setPrototypeOf(this,Px.prototype)}}vy0.TimeoutError=Px;function gN8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new Px("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}vy0.callWithTimeout=gN8});var cy0=B((uy0)=>{Object.defineProperty(uy0,"__esModule",{value:!0});uy0.isUrlIgnored=uy0.urlMatches=void 0;function dy0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}uy0.urlMatches=dy0;function uN8(J,Z){if(!Z)return!1;for(let X of Z)if(dy0(J,X))return!0;return!1}uy0.isUrlIgnored=uN8});var iy0=B((py0)=>{Object.defineProperty(py0,"__esModule",{value:!0});py0.Deferred=void 0;class ly0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}py0.Deferred=ly0});var ry0=B((sy0)=>{Object.defineProperty(sy0,"__esModule",{value:!0});sy0.BindOnceFuture=void 0;var cN8=iy0();class oy0{_callback;_that;_isCalled=!1;_deferred=new cN8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}sy0.BindOnceFuture=oy0});var Zv0=B((ey0)=>{Object.defineProperty(ey0,"__esModule",{value:!0});ey0.diagLogLevelFromString=void 0;var NG=C(),ty0={ALL:NG.DiagLogLevel.ALL,VERBOSE:NG.DiagLogLevel.VERBOSE,DEBUG:NG.DiagLogLevel.DEBUG,INFO:NG.DiagLogLevel.INFO,WARN:NG.DiagLogLevel.WARN,ERROR:NG.DiagLogLevel.ERROR,NONE:NG.DiagLogLevel.NONE};function lN8(J){if(J==null)return;let Z=ty0[J.toUpperCase()];if(Z==null)return NG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(ty0)}, using default`),NG.DiagLogLevel.INFO;return Z}ey0.diagLogLevelFromString=lN8});var zv0=B((Yv0)=>{Object.defineProperty(Yv0,"__esModule",{value:!0});Yv0._export=void 0;var Xv0=C(),pN8=xC();function nN8(J,Z){return new Promise((X)=>{Xv0.context.with((0,pN8.suppressTracing)(Xv0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}Yv0._export=nN8});var Bv0=B((S0)=>{Object.defineProperty(S0,"__esModule",{value:!0});S0.internal=S0.diagLogLevelFromString=S0.BindOnceFuture=S0.urlMatches=S0.isUrlIgnored=S0.callWithTimeout=S0.TimeoutError=S0.merge=S0.TraceState=S0.unsuppressTracing=S0.suppressTracing=S0.isTracingSuppressed=S0.setRPCMetadata=S0.getRPCMetadata=S0.deleteRPCMetadata=S0.RPCType=S0.parseTraceParent=S0.W3CTraceContextPropagator=S0.TRACE_STATE_HEADER=S0.TRACE_PARENT_HEADER=S0.CompositePropagator=S0.unrefTimer=S0.otperformance=S0.getStringListFromEnv=S0.getNumberFromEnv=S0.getBooleanFromEnv=S0.getStringFromEnv=S0._globalThis=S0.SDK_INFO=S0.parseKeyPairsIntoRecord=S0.ExportResultCode=S0.timeInputToHrTime=S0.millisToHrTime=S0.isTimeInputHrTime=S0.isTimeInput=S0.hrTimeToTimeStamp=S0.hrTimeToNanoseconds=S0.hrTimeToMilliseconds=S0.hrTimeToMicroseconds=S0.hrTimeDuration=S0.hrTime=S0.getTimeOrigin=S0.addHrTimes=S0.loggingErrorHandler=S0.setGlobalErrorHandler=S0.globalErrorHandler=S0.sanitizeAttributes=S0.isAttributeValue=S0.AnchoredClock=S0.W3CBaggagePropagator=void 0;var iN8=Y_0();Object.defineProperty(S0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return iN8.W3CBaggagePropagator}});var oN8=Q_0();Object.defineProperty(S0,"AnchoredClock",{enumerable:!0,get:function(){return oN8.AnchoredClock}});var Wv0=U_0();Object.defineProperty(S0,"isAttributeValue",{enumerable:!0,get:function(){return Wv0.isAttributeValue}});Object.defineProperty(S0,"sanitizeAttributes",{enumerable:!0,get:function(){return Wv0.sanitizeAttributes}});var Qv0=A_0();Object.defineProperty(S0,"globalErrorHandler",{enumerable:!0,get:function(){return Qv0.globalErrorHandler}});Object.defineProperty(S0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return Qv0.setGlobalErrorHandler}});var sN8=sY1();Object.defineProperty(S0,"loggingErrorHandler",{enumerable:!0,get:function(){return sN8.loggingErrorHandler}});var oZ=r_0();Object.defineProperty(S0,"addHrTimes",{enumerable:!0,get:function(){return oZ.addHrTimes}});Object.defineProperty(S0,"getTimeOrigin",{enumerable:!0,get:function(){return oZ.getTimeOrigin}});Object.defineProperty(S0,"hrTime",{enumerable:!0,get:function(){return oZ.hrTime}});Object.defineProperty(S0,"hrTimeDuration",{enumerable:!0,get:function(){return oZ.hrTimeDuration}});Object.defineProperty(S0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return oZ.hrTimeToMicroseconds}});Object.defineProperty(S0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return oZ.hrTimeToMilliseconds}});Object.defineProperty(S0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return oZ.hrTimeToNanoseconds}});Object.defineProperty(S0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return oZ.hrTimeToTimeStamp}});Object.defineProperty(S0,"isTimeInput",{enumerable:!0,get:function(){return oZ.isTimeInput}});Object.defineProperty(S0,"isTimeInputHrTime",{enumerable:!0,get:function(){return oZ.isTimeInputHrTime}});Object.defineProperty(S0,"millisToHrTime",{enumerable:!0,get:function(){return oZ.millisToHrTime}});Object.defineProperty(S0,"timeInputToHrTime",{enumerable:!0,get:function(){return oZ.timeInputToHrTime}});var aN8=e_0();Object.defineProperty(S0,"ExportResultCode",{enumerable:!0,get:function(){return aN8.ExportResultCode}});var rN8=nY1();Object.defineProperty(S0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return rN8.parseKeyPairsIntoRecord}});var Tq=aY1();Object.defineProperty(S0,"SDK_INFO",{enumerable:!0,get:function(){return Tq.SDK_INFO}});Object.defineProperty(S0,"_globalThis",{enumerable:!0,get:function(){return Tq._globalThis}});Object.defineProperty(S0,"getStringFromEnv",{enumerable:!0,get:function(){return Tq.getStringFromEnv}});Object.defineProperty(S0,"getBooleanFromEnv",{enumerable:!0,get:function(){return Tq.getBooleanFromEnv}});Object.defineProperty(S0,"getNumberFromEnv",{enumerable:!0,get:function(){return Tq.getNumberFromEnv}});Object.defineProperty(S0,"getStringListFromEnv",{enumerable:!0,get:function(){return Tq.getStringListFromEnv}});Object.defineProperty(S0,"otperformance",{enumerable:!0,get:function(){return Tq.otperformance}});Object.defineProperty(S0,"unrefTimer",{enumerable:!0,get:function(){return Tq.unrefTimer}});var tN8=$y0();Object.defineProperty(S0,"CompositePropagator",{enumerable:!0,get:function(){return tN8.CompositePropagator}});var Lx=Iy0();Object.defineProperty(S0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return Lx.TRACE_PARENT_HEADER}});Object.defineProperty(S0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return Lx.TRACE_STATE_HEADER}});Object.defineProperty(S0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return Lx.W3CTraceContextPropagator}});Object.defineProperty(S0,"parseTraceParent",{enumerable:!0,get:function(){return Lx.parseTraceParent}});var Cx=Ny0();Object.defineProperty(S0,"RPCType",{enumerable:!0,get:function(){return Cx.RPCType}});Object.defineProperty(S0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Cx.deleteRPCMetadata}});Object.defineProperty(S0,"getRPCMetadata",{enumerable:!0,get:function(){return Cx.getRPCMetadata}});Object.defineProperty(S0,"setRPCMetadata",{enumerable:!0,get:function(){return Cx.setRPCMetadata}});var W$1=xC();Object.defineProperty(S0,"isTracingSuppressed",{enumerable:!0,get:function(){return W$1.isTracingSuppressed}});Object.defineProperty(S0,"suppressTracing",{enumerable:!0,get:function(){return W$1.suppressTracing}});Object.defineProperty(S0,"unsuppressTracing",{enumerable:!0,get:function(){return W$1.unsuppressTracing}});var eN8=Y$1();Object.defineProperty(S0,"TraceState",{enumerable:!0,get:function(){return eN8.TraceState}});var JP8=yy0();Object.defineProperty(S0,"merge",{enumerable:!0,get:function(){return JP8.merge}});var Gv0=gy0();Object.defineProperty(S0,"TimeoutError",{enumerable:!0,get:function(){return Gv0.TimeoutError}});Object.defineProperty(S0,"callWithTimeout",{enumerable:!0,get:function(){return Gv0.callWithTimeout}});var Kv0=cy0();Object.defineProperty(S0,"isUrlIgnored",{enumerable:!0,get:function(){return Kv0.isUrlIgnored}});Object.defineProperty(S0,"urlMatches",{enumerable:!0,get:function(){return Kv0.urlMatches}});var ZP8=ry0();Object.defineProperty(S0,"BindOnceFuture",{enumerable:!0,get:function(){return ZP8.BindOnceFuture}});var XP8=Zv0();Object.defineProperty(S0,"diagLogLevelFromString",{enumerable:!0,get:function(){return XP8.diagLogLevelFromString}});var YP8=zv0();S0.internal={_export:YP8._export}});var Dv0=B((Uv0)=>{Object.defineProperty(Uv0,"__esModule",{value:!0});Uv0.OTelPinoStream=Uv0.getTimeConverter=void 0;var $P8=p("stream"),V8=nh0(),Hv0=_Y1(),zP8=Bv0(),Cw={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},WP8={[Cw.trace]:V8.SeverityNumber.TRACE,[Cw.debug]:V8.SeverityNumber.DEBUG,[Cw.info]:V8.SeverityNumber.INFO,[Cw.warn]:V8.SeverityNumber.WARN,[Cw.error]:V8.SeverityNumber.ERROR,[Cw.fatal]:V8.SeverityNumber.FATAL},Q$1=[V8.SeverityNumber.TRACE2,V8.SeverityNumber.TRACE3,V8.SeverityNumber.TRACE4,V8.SeverityNumber.DEBUG2,V8.SeverityNumber.DEBUG3,V8.SeverityNumber.DEBUG4,V8.SeverityNumber.INFO2,V8.SeverityNumber.INFO3,V8.SeverityNumber.INFO4,V8.SeverityNumber.WARN2,V8.SeverityNumber.WARN3,V8.SeverityNumber.WARN4,V8.SeverityNumber.ERROR2,V8.SeverityNumber.ERROR3,V8.SeverityNumber.ERROR4,V8.SeverityNumber.FATAL2,V8.SeverityNumber.FATAL3,V8.SeverityNumber.FATAL4];function QP8(J){let Z=WP8[J];if(Z!==void 0)return Z;let X=(J-10)/60,Y=Math.floor(X*Q$1.length),$=Math.min(Q$1.length-1,Math.max(0,Y));return Q$1[$]}function GP8(J,Z){let X=Z.stdTimeFunctions,Y=J[Z.symbols.timeSym];if(Y===X.epochTime)return($)=>$;else if(Y===X.unixTime)return($)=>$*1000;else if(Y===X.isoTime)return($)=>new Date($).getTime();else if(Y===X.nullTime)return()=>Date.now();else return()=>NaN}Uv0.getTimeConverter=GP8;class Fv0 extends $P8.Writable{constructor(J){super();this._messageKey=J.messageKey,this._levels=J.levels,this._otelTimestampFromTime=J.otelTimestampFromTime,this._otelLogger=V8.logs.getLogger(Hv0.PACKAGE_NAME,Hv0.PACKAGE_VERSION)}_write(J,Z,X){if(!J)return;let Y;try{Y=JSON.parse(J)}catch(M){this.emit("unknown",J.toString(),M),X();return}if(Y===null){this.emit("unknown",J.toString(),"Null value ignored"),X();return}if(typeof Y!=="object")Y={data:Y};let{time:$,[this._messageKey]:z,level:W,hostname:Q,pid:G,trace_id:K,span_id:q,trace_flags:H,...F}=Y,U=this._otelTimestampFromTime($);if(isNaN(U))F.time=$,U=Date.now();let D=(0,zP8.millisToHrTime)(U),V=this.lastLevel,w={timestamp:D,observedTimestamp:D,severityNumber:QP8(V),severityText:this._levels.labels[V],body:z,attributes:F};this._otelLogger.emit(w),X()}}Uv0.OTelPinoStream=Fv0});var Nv0=B((Av0)=>{Object.defineProperty(Av0,"__esModule",{value:!0});Av0.PinoInstrumentation=void 0;var jx=C(),G$1=J6(),Vv0=_Y1(),Iv0=Dv0(),qP8=[">=5.14.0 <10"],BP8={traceId:"trace_id",spanId:"span_id",traceFlags:"trace_flags"};class wv0 extends G$1.InstrumentationBase{constructor(J={}){super(Vv0.PACKAGE_NAME,Vv0.PACKAGE_VERSION,J)}init(){return[new G$1.InstrumentationNodeModuleDefinition("pino",qP8,(J)=>{let Z=J[Symbol.toStringTag]==="Module",X=Z?J.default:J,Y=this,$=Object.assign((...z)=>{let W=Y.getConfig(),Q=Y.isEnabled(),G=X(...z),K=Y._getMixinFunction(),q=X.symbols.mixinSym,H=G[q];if(H===void 0)G[q]=K;else G[q]=(F,U)=>{return Object.assign(K(F,U),H(F,U))};if(Q&&!W.disableLogSending&&typeof X.multistream==="function"){let F=(0,Iv0.getTimeConverter)(G,X),U=new Iv0.OTelPinoStream({messageKey:G[X.symbols.messageKeySym],levels:G.levels,otelTimestampFromTime:F});U[Symbol.for("pino.metadata")]=!0,U.once("unknown",(V,w)=>{Y._diag.warn("could not send pino log line (will only log first occurrence)",{line:V,err:w})});let D=G[X.symbols.streamSym];G[X.symbols.streamSym]=X.multistream([{level:0,stream:D},{level:0,stream:U}],{levels:G.levels.values})}return G},X);if(typeof $.pino==="function")$.pino=$;if(typeof $.default==="function")$.default=$;if(Z){if(J.pino)J.pino=$;J.default=$}return $})]}_callHook(J,Z,X){let{logHook:Y}=this.getConfig();if(!Y)return;(0,G$1.safeExecuteInTheMiddle)(()=>Y(J,Z,X),($)=>{if($)jx.diag.error("pino instrumentation: error calling logHook",$)},!0)}_getMixinFunction(){let J=this;return function Z(X,Y){if(!J.isEnabled()||J.getConfig().disableLogCorrelation)return{};let $=jx.trace.getSpan(jx.context.active());if(!$)return{};let z=$.spanContext();if(!(0,jx.isSpanContextValid)(z))return{};let W=J.getConfig().logKeys??BP8,Q={[W.traceId]:z.traceId,[W.spanId]:z.spanId,[W.traceFlags]:`0${z.traceFlags.toString(16)}`};return J._callHook($,Q,Y),Q}}}Av0.PinoInstrumentation=wv0});var Lv0=B((Pv0)=>{Object.defineProperty(Pv0,"__esModule",{value:!0})});var jv0=B((fq)=>{var HP8=fq&&fq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),Cv0=fq&&fq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))HP8(Z,J,X)};Object.defineProperty(fq,"__esModule",{value:!0});Cv0(Nv0(),fq);Cv0(Lv0(),fq)});var Tv0=B((Ev0)=>{Object.defineProperty(Ev0,"__esModule",{value:!0});Ev0.getTracedInternalSendCommand=Ev0.getTracedCreateStreamTrace=Ev0.getTracedCreateClient=void 0;var bY=C(),FP8=K$1(),jw=j1(),UP8=J6(),OP8=Bv(),Rv0=(J,Z)=>{if(Z)J.setStatus({code:bY.SpanStatusCode.ERROR,message:Z.message});J.end()},DP8=(J,Z)=>{return function X(){let Y=Z.apply(this,arguments);return bY.context.bind(bY.context.active(),Y)}};Ev0.getTracedCreateClient=DP8;var VP8=(J,Z)=>{return function X(){if(!Object.prototype.hasOwnProperty.call(this,"stream"))Object.defineProperty(this,"stream",{get(){return this._patched_redis_stream},set(Y){bY.context.bind(bY.context.active(),Y),this._patched_redis_stream=Y}});return Z.apply(this,arguments)}};Ev0.getTracedCreateStreamTrace=VP8;var IP8=(J,Z,X)=>{return function Y($){if(arguments.length!==1||typeof $!=="object")return Z.apply(this,arguments);let z=bY.trace.getSpan(bY.context.active())===void 0;if(X?.requireParentSpan===!0&&z)return Z.apply(this,arguments);let W=X?.dbStatementSerializer||OP8.defaultDbStatementSerializer,Q=J.startSpan(`${FP8.RedisInstrumentation.COMPONENT}-${$.command}`,{kind:bY.SpanKind.CLIENT,attributes:{[jw.SEMATTRS_DB_SYSTEM]:jw.DBSYSTEMVALUES_REDIS,[jw.SEMATTRS_DB_STATEMENT]:W($.command,$.args)}});if(this.connection_options)Q.setAttributes({[jw.SEMATTRS_NET_PEER_NAME]:this.connection_options.host,[jw.SEMATTRS_NET_PEER_PORT]:this.connection_options.port});if(this.address)Q.setAttribute(jw.SEMATTRS_DB_CONNECTION_STRING,`redis://${this.address}`);let G=arguments[0].callback;if(G){let K=bY.context.active();arguments[0].callback=function q(H,F){if(X?.responseHook){let U=X.responseHook;(0,UP8.safeExecuteInTheMiddle)(()=>{U(Q,$.command,$.args,F)},(D)=>{if(D)bY.diag.error("Error executing responseHook",D)},!0)}return Rv0(Q,H),bY.context.with(K,G,this,...arguments)}}try{return Z.apply(this,arguments)}catch(K){throw Rv0(Q,K),K}}};Ev0.getTracedInternalSendCommand=IP8});var bv0=B((fv0)=>{Object.defineProperty(fv0,"__esModule",{value:!0});fv0.PACKAGE_NAME=fv0.PACKAGE_VERSION=void 0;fv0.PACKAGE_VERSION="0.48.0";fv0.PACKAGE_NAME="@opentelemetry/instrumentation-redis"});var gv0=B((vv0)=>{Object.defineProperty(vv0,"__esModule",{value:!0});vv0.RedisInstrumentation=void 0;var uC=J6(),q$1=Tv0(),hv0=bv0(),_v0={requireParentSpan:!1};class yv0 extends uC.InstrumentationBase{static COMPONENT="redis";constructor(J={}){super(hv0.PACKAGE_NAME,hv0.PACKAGE_VERSION,{..._v0,...J})}setConfig(J={}){super.setConfig({..._v0,...J})}init(){return[new uC.InstrumentationNodeModuleDefinition("redis",[">=2.6.0 <4"],(J)=>{if((0,uC.isWrapped)(J.RedisClient.prototype.internal_send_command))this._unwrap(J.RedisClient.prototype,"internal_send_command");if(this._wrap(J.RedisClient.prototype,"internal_send_command",this._getPatchInternalSendCommand()),(0,uC.isWrapped)(J.RedisClient.prototype.create_stream))this._unwrap(J.RedisClient.prototype,"create_stream");if(this._wrap(J.RedisClient.prototype,"create_stream",this._getPatchCreateStream()),(0,uC.isWrapped)(J.createClient))this._unwrap(J,"createClient");return this._wrap(J,"createClient",this._getPatchCreateClient()),J},(J)=>{if(J===void 0)return;this._unwrap(J.RedisClient.prototype,"internal_send_command"),this._unwrap(J.RedisClient.prototype,"create_stream"),this._unwrap(J,"createClient")})]}_getPatchInternalSendCommand(){let J=this.tracer,Z=this.getConfig();return function X(Y){return(0,q$1.getTracedInternalSendCommand)(J,Y,Z)}}_getPatchCreateClient(){let J=this.tracer;return function Z(X){return(0,q$1.getTracedCreateClient)(J,X)}}_getPatchCreateStream(){let J=this.tracer;return function Z(X){return(0,q$1.getTracedCreateStreamTrace)(J,X)}}}vv0.RedisInstrumentation=yv0});var uv0=B((dv0)=>{Object.defineProperty(dv0,"__esModule",{value:!0})});var K$1=B((kq)=>{var NP8=kq&&kq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),mv0=kq&&kq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))NP8(Z,J,X)};Object.defineProperty(kq,"__esModule",{value:!0});mv0(gv0(),kq);mv0(uv0(),kq)});var pv0=B((cv0)=>{Object.defineProperty(cv0,"__esModule",{value:!0});cv0.getClientAttributes=void 0;var mC=j1();function PP8(J,Z){return{[mC.SEMATTRS_DB_SYSTEM]:mC.DBSYSTEMVALUES_REDIS,[mC.SEMATTRS_NET_PEER_NAME]:Z?.socket?.host,[mC.SEMATTRS_NET_PEER_PORT]:Z?.socket?.port,[mC.SEMATTRS_DB_CONNECTION_STRING]:LP8(J,Z?.url)}}cv0.getClientAttributes=PP8;function LP8(J,Z){if(typeof Z!=="string"||!Z)return;try{let X=new URL(Z);return X.searchParams.delete("user_pwd"),X.username="",X.password="",X.href}catch(X){J.error("failed to sanitize redis connection url",X)}return}});var ov0=B((nv0)=>{Object.defineProperty(nv0,"__esModule",{value:!0});nv0.PACKAGE_NAME=nv0.PACKAGE_VERSION=void 0;nv0.PACKAGE_VERSION="0.48.0";nv0.PACKAGE_NAME="@opentelemetry/instrumentation-redis-4"});var Zx0=B((ev0)=>{Object.defineProperty(ev0,"__esModule",{value:!0});ev0.RedisInstrumentation=void 0;var sZ=C(),e5=J6(),sv0=pv0(),jP8=Bv(),av0=ov0(),RP8=j1(),cC=Symbol("opentelemetry.instrumentation.redis.open_spans"),rv0=Symbol("opentelemetry.instrumentation.redis.multi_command_options"),tv0={requireParentSpan:!1};class Rx extends e5.InstrumentationBase{static COMPONENT="redis";constructor(J={}){super(av0.PACKAGE_NAME,av0.PACKAGE_VERSION,{...tv0,...J})}setConfig(J={}){super.setConfig({...tv0,...J})}init(){return[this._getInstrumentationNodeModuleDefinition("@redis/client"),this._getInstrumentationNodeModuleDefinition("@node-redis/client")]}_getInstrumentationNodeModuleDefinition(J){let Z=new e5.InstrumentationNodeModuleFile(`${J}/dist/lib/commander.js`,["^1.0.0"],($,z)=>{let W=$.transformCommandArguments;if(!W)return this._diag.error("internal instrumentation error, missing transformCommandArguments function"),$;let Q=z?.startsWith("1.0.")?"extendWithCommands":"attachCommands";if((0,e5.isWrapped)($?.[Q]))this._unwrap($,Q);return this._wrap($,Q,this._getPatchExtendWithCommands(W)),$},($)=>{if((0,e5.isWrapped)($?.extendWithCommands))this._unwrap($,"extendWithCommands");if((0,e5.isWrapped)($?.attachCommands))this._unwrap($,"attachCommands")}),X=new e5.InstrumentationNodeModuleFile(`${J}/dist/lib/client/multi-command.js`,["^1.0.0"],($)=>{let z=$?.default?.prototype;if((0,e5.isWrapped)(z?.exec))this._unwrap(z,"exec");if(this._wrap(z,"exec",this._getPatchMultiCommandsExec()),(0,e5.isWrapped)(z?.addCommand))this._unwrap(z,"addCommand");return this._wrap(z,"addCommand",this._getPatchMultiCommandsAddCommand()),$},($)=>{let z=$?.default?.prototype;if((0,e5.isWrapped)(z?.exec))this._unwrap(z,"exec");if((0,e5.isWrapped)(z?.addCommand))this._unwrap(z,"addCommand")}),Y=new e5.InstrumentationNodeModuleFile(`${J}/dist/lib/client/index.js`,["^1.0.0"],($)=>{let z=$?.default?.prototype;if(z?.multi){if((0,e5.isWrapped)(z?.multi))this._unwrap(z,"multi");this._wrap(z,"multi",this._getPatchRedisClientMulti())}if(z?.MULTI){if((0,e5.isWrapped)(z?.MULTI))this._unwrap(z,"MULTI");this._wrap(z,"MULTI",this._getPatchRedisClientMulti())}if((0,e5.isWrapped)(z?.sendCommand))this._unwrap(z,"sendCommand");return this._wrap(z,"sendCommand",this._getPatchRedisClientSendCommand()),this._wrap(z,"connect",this._getPatchedClientConnect()),$},($)=>{let z=$?.default?.prototype;if((0,e5.isWrapped)(z?.multi))this._unwrap(z,"multi");if((0,e5.isWrapped)(z?.MULTI))this._unwrap(z,"MULTI");if((0,e5.isWrapped)(z?.sendCommand))this._unwrap(z,"sendCommand")});return new e5.InstrumentationNodeModuleDefinition(J,["^1.0.0"],($)=>{return $},()=>{},[Z,X,Y])}_getPatchExtendWithCommands(J){let Z=this;return function X(Y){return function $(z){if(z?.BaseClass?.name!=="RedisClient")return Y.apply(this,arguments);let W=z.executor;return z.executor=function(Q,G){let K=J(Q,G).args;return Z._traceClientCommand(W,this,arguments,K)},Y.apply(this,arguments)}}}_getPatchMultiCommandsExec(){let J=this;return function Z(X){return function Y(){let $=X.apply(this,arguments);if(typeof $?.then!=="function")return J._diag.error("got non promise result when patching RedisClientMultiCommand.exec"),$;return $.then((z)=>{let W=this[cC];return J._endSpansWithRedisReplies(W,z),z}).catch((z)=>{let W=this[cC];if(!W)J._diag.error("cannot find open spans to end for redis multi command");else{let Q=z.constructor.name==="MultiErrorReply"?z.replies:new Array(W.length).fill(z);J._endSpansWithRedisReplies(W,Q)}return Promise.reject(z)})}}}_getPatchMultiCommandsAddCommand(){let J=this;return function Z(X){return function Y($){return J._traceClientCommand(X,this,arguments,$)}}}_getPatchRedisClientMulti(){return function J(Z){return function X(){let Y=Z.apply(this,arguments);return Y[rv0]=this.options,Y}}}_getPatchRedisClientSendCommand(){let J=this;return function Z(X){return function Y($){return J._traceClientCommand(X,this,arguments,$)}}}_getPatchedClientConnect(){let J=this;return function Z(X){return function Y(){let $=this.options,z=(0,sv0.getClientAttributes)(J._diag,$),W=J.tracer.startSpan(`${Rx.COMPONENT}-connect`,{kind:sZ.SpanKind.CLIENT,attributes:z});return sZ.context.with(sZ.trace.setSpan(sZ.context.active(),W),()=>{return X.apply(this)}).then((G)=>{return W.end(),G}).catch((G)=>{return W.recordException(G),W.setStatus({code:sZ.SpanStatusCode.ERROR,message:G.message}),W.end(),Promise.reject(G)})}}}_traceClientCommand(J,Z,X,Y){if(sZ.trace.getSpan(sZ.context.active())===void 0&&this.getConfig().requireParentSpan)return J.apply(Z,X);let z=Z.options||Z[rv0],W=Y[0],Q=Y.slice(1),G=this.getConfig().dbStatementSerializer||jP8.defaultDbStatementSerializer,K=(0,sv0.getClientAttributes)(this._diag,z);try{let F=G(W,Q);if(F!=null)K[RP8.SEMATTRS_DB_STATEMENT]=F}catch(F){this._diag.error("dbStatementSerializer throw an exception",F,{commandName:W})}let q=this.tracer.startSpan(`${Rx.COMPONENT}-${W}`,{kind:sZ.SpanKind.CLIENT,attributes:K}),H=sZ.context.with(sZ.trace.setSpan(sZ.context.active(),q),()=>{return J.apply(Z,X)});if(typeof H?.then==="function")H.then((F)=>{this._endSpanWithResponse(q,W,Q,F,void 0)},(F)=>{this._endSpanWithResponse(q,W,Q,null,F)});else{let F=H;F[cC]=F[cC]||[],F[cC].push({span:q,commandName:W,commandArgs:Q})}return H}_endSpansWithRedisReplies(J,Z){if(!J)return this._diag.error("cannot find open spans to end for redis multi command");if(Z.length!==J.length)return this._diag.error("number of multi command spans does not match response from redis");for(let X=0;X<J.length;X++){let{span:Y,commandName:$,commandArgs:z}=J[X],W=Z[X],[Q,G]=W instanceof Error?[null,W]:[W,void 0];this._endSpanWithResponse(Y,$,z,Q,G)}}_endSpanWithResponse(J,Z,X,Y,$){let{responseHook:z}=this.getConfig();if(!$&&z)try{z(J,Z,X,Y)}catch(W){this._diag.error("responseHook throw an exception",W)}if($)J.recordException($),J.setStatus({code:sZ.SpanStatusCode.ERROR,message:$?.message});J.end()}}ev0.RedisInstrumentation=Rx});var Yx0=B((Xx0)=>{Object.defineProperty(Xx0,"__esModule",{value:!0})});var zx0=B((bq)=>{var EP8=bq&&bq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),$x0=bq&&bq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))EP8(Z,J,X)};Object.defineProperty(bq,"__esModule",{value:!0});$x0(Zx0(),bq);$x0(Yx0(),bq)});var H$1=B((Wx0)=>{Object.defineProperty(Wx0,"__esModule",{value:!0});Wx0.LayerType=void 0;var SP8;(function(J){J.MIDDLEWARE="middleware",J.REQUEST_HANDLER="request_handler"})(SP8=Wx0.LayerType||(Wx0.LayerType={}))});var U$1=B((Qx0)=>{Object.defineProperty(Qx0,"__esModule",{value:!0});Qx0.AttributeNames=void 0;var TP8;(function(J){J.TYPE="restify.type",J.NAME="restify.name",J.METHOD="restify.method",J.VERSION="restify.version"})(TP8=Qx0.AttributeNames||(Qx0.AttributeNames={}))});var qx0=B((Gx0)=>{Object.defineProperty(Gx0,"__esModule",{value:!0});Gx0.PACKAGE_NAME=Gx0.PACKAGE_VERSION=void 0;Gx0.PACKAGE_VERSION="0.47.0";Gx0.PACKAGE_NAME="@opentelemetry/instrumentation-restify"});var Fx0=B((Bx0)=>{Object.defineProperty(Bx0,"__esModule",{value:!0});Bx0.MODULE_NAME=Bx0.RESTIFY_METHODS=Bx0.RESTIFY_MW_METHODS=void 0;Bx0.RESTIFY_MW_METHODS=["use","pre"];Bx0.RESTIFY_METHODS=["del","get","head","opts","post","put","patch"];Bx0.MODULE_NAME="restify"});var Dx0=B((Ux0)=>{Object.defineProperty(Ux0,"__esModule",{value:!0});Ux0.isAsyncFunction=Ux0.isPromise=void 0;var hP8=(J)=>{return!!(J&&typeof J.then==="function"&&typeof J.catch==="function"&&J.toString()==="[object Promise]")};Ux0.isPromise=hP8;var _P8=(J)=>{return!!(J&&typeof J==="function"&&J.constructor?.name==="AsyncFunction")};Ux0.isAsyncFunction=_P8});var lC=B((Vx0)=>{Object.defineProperty(Vx0,"__esModule",{value:!0});Vx0.isTracingSuppressed=Vx0.unsuppressTracing=Vx0.suppressTracing=void 0;var vP8=C(),O$1=(0,vP8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function xP8(J){return J.setValue(O$1,!0)}Vx0.suppressTracing=xP8;function gP8(J){return J.deleteValue(O$1)}Vx0.unsuppressTracing=gP8;function dP8(J){return J.getValue(O$1)===!0}Vx0.isTracingSuppressed=dP8});var D$1=B((wx0)=>{Object.defineProperty(wx0,"__esModule",{value:!0});wx0.BAGGAGE_MAX_TOTAL_LENGTH=wx0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=wx0.BAGGAGE_MAX_NAME_VALUE_PAIRS=wx0.BAGGAGE_HEADER=wx0.BAGGAGE_ITEMS_SEPARATOR=wx0.BAGGAGE_PROPERTIES_SEPARATOR=wx0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;wx0.BAGGAGE_KEY_PAIR_SEPARATOR="=";wx0.BAGGAGE_PROPERTIES_SEPARATOR=";";wx0.BAGGAGE_ITEMS_SEPARATOR=",";wx0.BAGGAGE_HEADER="baggage";wx0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;wx0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;wx0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var V$1=B((Nx0)=>{Object.defineProperty(Nx0,"__esModule",{value:!0});Nx0.parseKeyPairsIntoRecord=Nx0.parsePairKeyValue=Nx0.getKeyPairs=Nx0.serializeKeyPairs=void 0;var sP8=C(),kU=D$1();function aP8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?kU.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>kU.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}Nx0.serializeKeyPairs=aP8;function rP8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=kU.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}Nx0.getKeyPairs=rP8;function Mx0(J){let Z=J.split(kU.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(kU.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,sP8.baggageEntryMetadataFromString)(Z.join(kU.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}Nx0.parsePairKeyValue=Mx0;function tP8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(kU.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=Mx0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}Nx0.parseKeyPairsIntoRecord=tP8});var Rx0=B((Cx0)=>{Object.defineProperty(Cx0,"__esModule",{value:!0});Cx0.W3CBaggagePropagator=void 0;var I$1=C(),XL8=lC(),bU=D$1(),w$1=V$1();class Lx0{inject(J,Z,X){let Y=I$1.propagation.getBaggage(J);if(!Y||(0,XL8.isTracingSuppressed)(J))return;let $=(0,w$1.getKeyPairs)(Y).filter((W)=>{return W.length<=bU.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,bU.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,w$1.serializeKeyPairs)($);if(z.length>0)X.set(Z,bU.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,bU.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(bU.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(bU.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,w$1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return I$1.propagation.setBaggage(J,I$1.propagation.createBaggage(z))}fields(){return[bU.BAGGAGE_HEADER]}}Cx0.W3CBaggagePropagator=Lx0});var fx0=B((Sx0)=>{Object.defineProperty(Sx0,"__esModule",{value:!0});Sx0.AnchoredClock=void 0;class Ex0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}Sx0.AnchoredClock=Ex0});var xx0=B((yx0)=>{Object.defineProperty(yx0,"__esModule",{value:!0});yx0.isAttributeValue=yx0.isAttributeKey=yx0.sanitizeAttributes=void 0;var kx0=C();function YL8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!bx0(X)){kx0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!hx0(Y)){kx0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}yx0.sanitizeAttributes=YL8;function bx0(J){return typeof J==="string"&&J.length>0}yx0.isAttributeKey=bx0;function hx0(J){if(J==null)return!0;if(Array.isArray(J))return $L8(J);return _x0(J)}yx0.isAttributeValue=hx0;function $L8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(_x0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function _x0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var A$1=B((gx0)=>{Object.defineProperty(gx0,"__esModule",{value:!0});gx0.loggingErrorHandler=void 0;var QL8=C();function GL8(){return(J)=>{QL8.diag.error(KL8(J))}}gx0.loggingErrorHandler=GL8;function KL8(J){if(typeof J==="string")return J;else return JSON.stringify(qL8(J))}function qL8(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var lx0=B((mx0)=>{Object.defineProperty(mx0,"__esModule",{value:!0});mx0.globalErrorHandler=mx0.setGlobalErrorHandler=void 0;var BL8=A$1(),ux0=(0,BL8.loggingErrorHandler)();function HL8(J){ux0=J}mx0.setGlobalErrorHandler=HL8;function FL8(J){try{ux0(J)}catch{}}mx0.globalErrorHandler=FL8});var ax0=B((ox0)=>{Object.defineProperty(ox0,"__esModule",{value:!0});ox0.getStringListFromEnv=ox0.getBooleanFromEnv=ox0.getStringFromEnv=ox0.getNumberFromEnv=void 0;var px0=C(),nx0=p("util");function OL8(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){px0.diag.warn(`Unknown value ${(0,nx0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}ox0.getNumberFromEnv=OL8;function ix0(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}ox0.getStringFromEnv=ix0;function DL8(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return px0.diag.warn(`Unknown value ${(0,nx0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}ox0.getBooleanFromEnv=DL8;function VL8(J){return ix0(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}ox0.getStringListFromEnv=VL8});var ex0=B((rx0)=>{Object.defineProperty(rx0,"__esModule",{value:!0});rx0._globalThis=void 0;rx0._globalThis=typeof globalThis==="object"?globalThis:global});var Xg0=B((Jg0)=>{Object.defineProperty(Jg0,"__esModule",{value:!0});Jg0.otperformance=void 0;var ML8=p("perf_hooks");Jg0.otperformance=ML8.performance});var zg0=B((Yg0)=>{Object.defineProperty(Yg0,"__esModule",{value:!0});Yg0.VERSION=void 0;Yg0.VERSION="2.0.1"});var Gg0=B((Wg0)=>{Object.defineProperty(Wg0,"__esModule",{value:!0});Wg0.ATTR_PROCESS_RUNTIME_NAME=void 0;Wg0.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var Bg0=B((Kg0)=>{Object.defineProperty(Kg0,"__esModule",{value:!0});Kg0.SDK_INFO=void 0;var NL8=zg0(),Ex=j1(),PL8=Gg0();Kg0.SDK_INFO={[Ex.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[PL8.ATTR_PROCESS_RUNTIME_NAME]:"node",[Ex.ATTR_TELEMETRY_SDK_LANGUAGE]:Ex.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[Ex.ATTR_TELEMETRY_SDK_VERSION]:NL8.VERSION}});var Ug0=B((Hg0)=>{Object.defineProperty(Hg0,"__esModule",{value:!0});Hg0.unrefTimer=void 0;function LL8(J){J.unref()}Hg0.unrefTimer=LL8});var Og0=B((Lz)=>{Object.defineProperty(Lz,"__esModule",{value:!0});Lz.unrefTimer=Lz.SDK_INFO=Lz.otperformance=Lz._globalThis=Lz.getStringListFromEnv=Lz.getNumberFromEnv=Lz.getBooleanFromEnv=Lz.getStringFromEnv=void 0;var Sx=ax0();Object.defineProperty(Lz,"getStringFromEnv",{enumerable:!0,get:function(){return Sx.getStringFromEnv}});Object.defineProperty(Lz,"getBooleanFromEnv",{enumerable:!0,get:function(){return Sx.getBooleanFromEnv}});Object.defineProperty(Lz,"getNumberFromEnv",{enumerable:!0,get:function(){return Sx.getNumberFromEnv}});Object.defineProperty(Lz,"getStringListFromEnv",{enumerable:!0,get:function(){return Sx.getStringListFromEnv}});var CL8=ex0();Object.defineProperty(Lz,"_globalThis",{enumerable:!0,get:function(){return CL8._globalThis}});var jL8=Xg0();Object.defineProperty(Lz,"otperformance",{enumerable:!0,get:function(){return jL8.otperformance}});var RL8=Bg0();Object.defineProperty(Lz,"SDK_INFO",{enumerable:!0,get:function(){return RL8.SDK_INFO}});var EL8=Ug0();Object.defineProperty(Lz,"unrefTimer",{enumerable:!0,get:function(){return EL8.unrefTimer}})});var M$1=B((Cz)=>{Object.defineProperty(Cz,"__esModule",{value:!0});Cz.getStringListFromEnv=Cz.getNumberFromEnv=Cz.getStringFromEnv=Cz.getBooleanFromEnv=Cz.unrefTimer=Cz.otperformance=Cz._globalThis=Cz.SDK_INFO=void 0;var hq=Og0();Object.defineProperty(Cz,"SDK_INFO",{enumerable:!0,get:function(){return hq.SDK_INFO}});Object.defineProperty(Cz,"_globalThis",{enumerable:!0,get:function(){return hq._globalThis}});Object.defineProperty(Cz,"otperformance",{enumerable:!0,get:function(){return hq.otperformance}});Object.defineProperty(Cz,"unrefTimer",{enumerable:!0,get:function(){return hq.unrefTimer}});Object.defineProperty(Cz,"getBooleanFromEnv",{enumerable:!0,get:function(){return hq.getBooleanFromEnv}});Object.defineProperty(Cz,"getStringFromEnv",{enumerable:!0,get:function(){return hq.getStringFromEnv}});Object.defineProperty(Cz,"getNumberFromEnv",{enumerable:!0,get:function(){return hq.getNumberFromEnv}});Object.defineProperty(Cz,"getStringListFromEnv",{enumerable:!0,get:function(){return hq.getStringListFromEnv}})});var Mg0=B((wg0)=>{Object.defineProperty(wg0,"__esModule",{value:!0});wg0.addHrTimes=wg0.isTimeInput=wg0.isTimeInputHrTime=wg0.hrTimeToMicroseconds=wg0.hrTimeToMilliseconds=wg0.hrTimeToNanoseconds=wg0.hrTimeToTimeStamp=wg0.hrTimeDuration=wg0.timeInputToHrTime=wg0.hrTime=wg0.getTimeOrigin=wg0.millisToHrTime=void 0;var N$1=M$1(),Dg0=9,fL8=6,kL8=Math.pow(10,fL8),Tx=Math.pow(10,Dg0);function pC(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*kL8);return[X,Y]}wg0.millisToHrTime=pC;function P$1(){let J=N$1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=N$1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}wg0.getTimeOrigin=P$1;function Vg0(J){let Z=pC(P$1()),X=pC(typeof J==="number"?J:N$1.otperformance.now());return Ig0(Z,X)}wg0.hrTime=Vg0;function bL8(J){if(L$1(J))return J;else if(typeof J==="number")if(J<P$1())return Vg0(J);else return pC(J);else if(J instanceof Date)return pC(J.getTime());else throw TypeError("Invalid input type")}wg0.timeInputToHrTime=bL8;function hL8(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=Tx;return[X,Y]}wg0.hrTimeDuration=hL8;function _L8(J){let Z=Dg0,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}wg0.hrTimeToTimeStamp=_L8;function yL8(J){return J[0]*Tx+J[1]}wg0.hrTimeToNanoseconds=yL8;function vL8(J){return J[0]*1000+J[1]/1e6}wg0.hrTimeToMilliseconds=vL8;function xL8(J){return J[0]*1e6+J[1]/1000}wg0.hrTimeToMicroseconds=xL8;function L$1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}wg0.isTimeInputHrTime=L$1;function gL8(J){return L$1(J)||typeof J==="number"||J instanceof Date}wg0.isTimeInput=gL8;function Ig0(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=Tx)X[1]-=Tx,X[0]+=1;return X}wg0.addHrTimes=Ig0});var Pg0=B((Ng0)=>{Object.defineProperty(Ng0,"__esModule",{value:!0});Ng0.ExportResultCode=void 0;var rL8;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(rL8=Ng0.ExportResultCode||(Ng0.ExportResultCode={}))});var Eg0=B((jg0)=>{Object.defineProperty(jg0,"__esModule",{value:!0});jg0.CompositePropagator=void 0;var Lg0=C();class Cg0{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){Lg0.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){Lg0.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}jg0.CompositePropagator=Cg0});var fg0=B((Sg0)=>{Object.defineProperty(Sg0,"__esModule",{value:!0});Sg0.validateValue=Sg0.validateKey=void 0;var j$1="[_0-9a-z-*/]",tL8=`[a-z]${j$1}{0,255}`,eL8=`[a-z0-9]${j$1}{0,240}@[a-z]${j$1}{0,13}`,JC8=new RegExp(`^(?:${tL8}|${eL8})$`),ZC8=/^[ -~]{0,255}[!-~]$/,XC8=/,|=/;function YC8(J){return JC8.test(J)}Sg0.validateKey=YC8;function $C8(J){return ZC8.test(J)&&!XC8.test(J)}Sg0.validateValue=$C8});var E$1=B((yg0)=>{Object.defineProperty(yg0,"__esModule",{value:!0});yg0.TraceState=void 0;var kg0=fg0(),bg0=32,WC8=512,hg0=",",_g0="=";class R$1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+_g0+this.get(Z)),J},[]).join(hg0)}_parse(J){if(J.length>WC8)return;if(this._internalState=J.split(hg0).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(_g0);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,kg0.validateKey)(z)&&(0,kg0.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>bg0)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,bg0))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new R$1;return J._internalState=new Map(this._internalState),J}}yg0.TraceState=R$1});var mg0=B((dg0)=>{Object.defineProperty(dg0,"__esModule",{value:!0});dg0.W3CTraceContextPropagator=dg0.parseTraceParent=dg0.TRACE_STATE_HEADER=dg0.TRACE_PARENT_HEADER=void 0;var fx=C(),QC8=lC(),GC8=E$1();dg0.TRACE_PARENT_HEADER="traceparent";dg0.TRACE_STATE_HEADER="tracestate";var KC8="00",qC8="(?!ff)[\\da-f]{2}",BC8="(?![0]{32})[\\da-f]{32}",HC8="(?![0]{16})[\\da-f]{16}",FC8="[\\da-f]{2}",UC8=new RegExp(`^\\s?(${qC8})-(${BC8})-(${HC8})-(${FC8})(-.*)?\\s?$`);function xg0(J){let Z=UC8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}dg0.parseTraceParent=xg0;class gg0{inject(J,Z,X){let Y=fx.trace.getSpanContext(J);if(!Y||(0,QC8.isTracingSuppressed)(J)||!(0,fx.isSpanContextValid)(Y))return;let $=`${KC8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||fx.TraceFlags.NONE).toString(16)}`;if(X.set(Z,dg0.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,dg0.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,dg0.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=xg0($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,dg0.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new GC8.TraceState(typeof Q==="string"?Q:void 0)}return fx.trace.setSpanContext(J,z)}fields(){return[dg0.TRACE_PARENT_HEADER,dg0.TRACE_STATE_HEADER]}}dg0.W3CTraceContextPropagator=gg0});var ng0=B((lg0)=>{Object.defineProperty(lg0,"__esModule",{value:!0});lg0.getRPCMetadata=lg0.deleteRPCMetadata=lg0.setRPCMetadata=lg0.RPCType=void 0;var DC8=C(),S$1=(0,DC8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),VC8;(function(J){J.HTTP="http"})(VC8=lg0.RPCType||(lg0.RPCType={}));function IC8(J,Z){return J.setValue(S$1,Z)}lg0.setRPCMetadata=IC8;function wC8(J){return J.deleteValue(S$1)}lg0.deleteRPCMetadata=wC8;function AC8(J){return J.getValue(S$1)}lg0.getRPCMetadata=AC8});var eg0=B((rg0)=>{Object.defineProperty(rg0,"__esModule",{value:!0});rg0.isPlainObject=void 0;var PC8="[object Object]",LC8="[object Null]",CC8="[object Undefined]",jC8=Function.prototype,ig0=jC8.toString,RC8=ig0.call(Object),EC8=Object.getPrototypeOf,og0=Object.prototype,sg0=og0.hasOwnProperty,hU=Symbol?Symbol.toStringTag:void 0,ag0=og0.toString;function SC8(J){if(!TC8(J)||fC8(J)!==PC8)return!1;let Z=EC8(J);if(Z===null)return!0;let X=sg0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&ig0.call(X)===RC8}rg0.isPlainObject=SC8;function TC8(J){return J!=null&&typeof J=="object"}function fC8(J){if(J==null)return J===void 0?CC8:LC8;return hU&&hU in Object(J)?kC8(J):bC8(J)}function kC8(J){let Z=sg0.call(J,hU),X=J[hU],Y=!1;try{J[hU]=void 0,Y=!0}catch(z){}let $=ag0.call(J);if(Y)if(Z)J[hU]=X;else delete J[hU];return $}function bC8(J){return ag0.call(J)}});var Wd0=B(($d0)=>{Object.defineProperty($d0,"__esModule",{value:!0});$d0.merge=void 0;var Jd0=eg0(),hC8=20;function _C8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=Xd0(Z,J.shift(),0,X);return Z}$d0.merge=_C8;function T$1(J){if(_x(J))return J.slice();return J}function Xd0(J,Z,X=0,Y){let $;if(X>hC8)return;if(X++,hx(J)||hx(Z)||Yd0(Z))$=T$1(Z);else if(_x(J)){if($=J.slice(),_x(Z))for(let z=0,W=Z.length;z<W;z++)$.push(T$1(Z[z]));else if(nC(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=T$1(Z[G])}}}else if(nC(J))if(nC(Z)){if(!yC8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(hx(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(Zd0(J,G,Y)||Zd0(Z,G,Y))delete $[G];else{if(nC(q)&&nC(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=Xd0($[G],K,X,Y)}}}}else $=Z;return $}function Zd0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function _x(J){return Array.isArray(J)}function Yd0(J){return typeof J==="function"}function nC(J){return!hx(J)&&!_x(J)&&!Yd0(J)&&typeof J==="object"}function hx(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function yC8(J,Z){if(!(0,Jd0.isPlainObject)(J)||!(0,Jd0.isPlainObject)(Z))return!1;return!0}});var Kd0=B((Qd0)=>{Object.defineProperty(Qd0,"__esModule",{value:!0});Qd0.callWithTimeout=Qd0.TimeoutError=void 0;class yx extends Error{constructor(J){super(J);Object.setPrototypeOf(this,yx.prototype)}}Qd0.TimeoutError=yx;function vC8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new yx("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}Qd0.callWithTimeout=vC8});var Fd0=B((Bd0)=>{Object.defineProperty(Bd0,"__esModule",{value:!0});Bd0.isUrlIgnored=Bd0.urlMatches=void 0;function qd0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}Bd0.urlMatches=qd0;function gC8(J,Z){if(!Z)return!1;for(let X of Z)if(qd0(J,X))return!0;return!1}Bd0.isUrlIgnored=gC8});var Vd0=B((Od0)=>{Object.defineProperty(Od0,"__esModule",{value:!0});Od0.Deferred=void 0;class Ud0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}Od0.Deferred=Ud0});var Md0=B((wd0)=>{Object.defineProperty(wd0,"__esModule",{value:!0});wd0.BindOnceFuture=void 0;var uC8=Vd0();class Id0{_callback;_that;_isCalled=!1;_deferred=new uC8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}wd0.BindOnceFuture=Id0});var Cd0=B((Pd0)=>{Object.defineProperty(Pd0,"__esModule",{value:!0});Pd0.diagLogLevelFromString=void 0;var PG=C(),Nd0={ALL:PG.DiagLogLevel.ALL,VERBOSE:PG.DiagLogLevel.VERBOSE,DEBUG:PG.DiagLogLevel.DEBUG,INFO:PG.DiagLogLevel.INFO,WARN:PG.DiagLogLevel.WARN,ERROR:PG.DiagLogLevel.ERROR,NONE:PG.DiagLogLevel.NONE};function mC8(J){if(J==null)return;let Z=Nd0[J.toUpperCase()];if(Z==null)return PG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(Nd0)}, using default`),PG.DiagLogLevel.INFO;return Z}Pd0.diagLogLevelFromString=mC8});var Sd0=B((Rd0)=>{Object.defineProperty(Rd0,"__esModule",{value:!0});Rd0._export=void 0;var jd0=C(),cC8=lC();function lC8(J,Z){return new Promise((X)=>{jd0.context.with((0,cC8.suppressTracing)(jd0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}Rd0._export=lC8});var _d0=B((T0)=>{Object.defineProperty(T0,"__esModule",{value:!0});T0.internal=T0.diagLogLevelFromString=T0.BindOnceFuture=T0.urlMatches=T0.isUrlIgnored=T0.callWithTimeout=T0.TimeoutError=T0.merge=T0.TraceState=T0.unsuppressTracing=T0.suppressTracing=T0.isTracingSuppressed=T0.setRPCMetadata=T0.getRPCMetadata=T0.deleteRPCMetadata=T0.RPCType=T0.parseTraceParent=T0.W3CTraceContextPropagator=T0.TRACE_STATE_HEADER=T0.TRACE_PARENT_HEADER=T0.CompositePropagator=T0.unrefTimer=T0.otperformance=T0.getStringListFromEnv=T0.getNumberFromEnv=T0.getBooleanFromEnv=T0.getStringFromEnv=T0._globalThis=T0.SDK_INFO=T0.parseKeyPairsIntoRecord=T0.ExportResultCode=T0.timeInputToHrTime=T0.millisToHrTime=T0.isTimeInputHrTime=T0.isTimeInput=T0.hrTimeToTimeStamp=T0.hrTimeToNanoseconds=T0.hrTimeToMilliseconds=T0.hrTimeToMicroseconds=T0.hrTimeDuration=T0.hrTime=T0.getTimeOrigin=T0.addHrTimes=T0.loggingErrorHandler=T0.setGlobalErrorHandler=T0.globalErrorHandler=T0.sanitizeAttributes=T0.isAttributeValue=T0.AnchoredClock=T0.W3CBaggagePropagator=void 0;var pC8=Rx0();Object.defineProperty(T0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return pC8.W3CBaggagePropagator}});var nC8=fx0();Object.defineProperty(T0,"AnchoredClock",{enumerable:!0,get:function(){return nC8.AnchoredClock}});var Td0=xx0();Object.defineProperty(T0,"isAttributeValue",{enumerable:!0,get:function(){return Td0.isAttributeValue}});Object.defineProperty(T0,"sanitizeAttributes",{enumerable:!0,get:function(){return Td0.sanitizeAttributes}});var fd0=lx0();Object.defineProperty(T0,"globalErrorHandler",{enumerable:!0,get:function(){return fd0.globalErrorHandler}});Object.defineProperty(T0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return fd0.setGlobalErrorHandler}});var iC8=A$1();Object.defineProperty(T0,"loggingErrorHandler",{enumerable:!0,get:function(){return iC8.loggingErrorHandler}});var aZ=Mg0();Object.defineProperty(T0,"addHrTimes",{enumerable:!0,get:function(){return aZ.addHrTimes}});Object.defineProperty(T0,"getTimeOrigin",{enumerable:!0,get:function(){return aZ.getTimeOrigin}});Object.defineProperty(T0,"hrTime",{enumerable:!0,get:function(){return aZ.hrTime}});Object.defineProperty(T0,"hrTimeDuration",{enumerable:!0,get:function(){return aZ.hrTimeDuration}});Object.defineProperty(T0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return aZ.hrTimeToMicroseconds}});Object.defineProperty(T0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return aZ.hrTimeToMilliseconds}});Object.defineProperty(T0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return aZ.hrTimeToNanoseconds}});Object.defineProperty(T0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return aZ.hrTimeToTimeStamp}});Object.defineProperty(T0,"isTimeInput",{enumerable:!0,get:function(){return aZ.isTimeInput}});Object.defineProperty(T0,"isTimeInputHrTime",{enumerable:!0,get:function(){return aZ.isTimeInputHrTime}});Object.defineProperty(T0,"millisToHrTime",{enumerable:!0,get:function(){return aZ.millisToHrTime}});Object.defineProperty(T0,"timeInputToHrTime",{enumerable:!0,get:function(){return aZ.timeInputToHrTime}});var oC8=Pg0();Object.defineProperty(T0,"ExportResultCode",{enumerable:!0,get:function(){return oC8.ExportResultCode}});var sC8=V$1();Object.defineProperty(T0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return sC8.parseKeyPairsIntoRecord}});var _q=M$1();Object.defineProperty(T0,"SDK_INFO",{enumerable:!0,get:function(){return _q.SDK_INFO}});Object.defineProperty(T0,"_globalThis",{enumerable:!0,get:function(){return _q._globalThis}});Object.defineProperty(T0,"getStringFromEnv",{enumerable:!0,get:function(){return _q.getStringFromEnv}});Object.defineProperty(T0,"getBooleanFromEnv",{enumerable:!0,get:function(){return _q.getBooleanFromEnv}});Object.defineProperty(T0,"getNumberFromEnv",{enumerable:!0,get:function(){return _q.getNumberFromEnv}});Object.defineProperty(T0,"getStringListFromEnv",{enumerable:!0,get:function(){return _q.getStringListFromEnv}});Object.defineProperty(T0,"otperformance",{enumerable:!0,get:function(){return _q.otperformance}});Object.defineProperty(T0,"unrefTimer",{enumerable:!0,get:function(){return _q.unrefTimer}});var aC8=Eg0();Object.defineProperty(T0,"CompositePropagator",{enumerable:!0,get:function(){return aC8.CompositePropagator}});var vx=mg0();Object.defineProperty(T0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return vx.TRACE_PARENT_HEADER}});Object.defineProperty(T0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return vx.TRACE_STATE_HEADER}});Object.defineProperty(T0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return vx.W3CTraceContextPropagator}});Object.defineProperty(T0,"parseTraceParent",{enumerable:!0,get:function(){return vx.parseTraceParent}});var xx=ng0();Object.defineProperty(T0,"RPCType",{enumerable:!0,get:function(){return xx.RPCType}});Object.defineProperty(T0,"deleteRPCMetadata",{enumerable:!0,get:function(){return xx.deleteRPCMetadata}});Object.defineProperty(T0,"getRPCMetadata",{enumerable:!0,get:function(){return xx.getRPCMetadata}});Object.defineProperty(T0,"setRPCMetadata",{enumerable:!0,get:function(){return xx.setRPCMetadata}});var f$1=lC();Object.defineProperty(T0,"isTracingSuppressed",{enumerable:!0,get:function(){return f$1.isTracingSuppressed}});Object.defineProperty(T0,"suppressTracing",{enumerable:!0,get:function(){return f$1.suppressTracing}});Object.defineProperty(T0,"unsuppressTracing",{enumerable:!0,get:function(){return f$1.unsuppressTracing}});var rC8=E$1();Object.defineProperty(T0,"TraceState",{enumerable:!0,get:function(){return rC8.TraceState}});var tC8=Wd0();Object.defineProperty(T0,"merge",{enumerable:!0,get:function(){return tC8.merge}});var kd0=Kd0();Object.defineProperty(T0,"TimeoutError",{enumerable:!0,get:function(){return kd0.TimeoutError}});Object.defineProperty(T0,"callWithTimeout",{enumerable:!0,get:function(){return kd0.callWithTimeout}});var bd0=Fd0();Object.defineProperty(T0,"isUrlIgnored",{enumerable:!0,get:function(){return bd0.isUrlIgnored}});Object.defineProperty(T0,"urlMatches",{enumerable:!0,get:function(){return bd0.urlMatches}});var eC8=Md0();Object.defineProperty(T0,"BindOnceFuture",{enumerable:!0,get:function(){return eC8.BindOnceFuture}});var J28=Cd0();Object.defineProperty(T0,"diagLogLevelFromString",{enumerable:!0,get:function(){return J28.diagLogLevelFromString}});var Z28=Sd0();T0.internal={_export:Z28._export}});var cd0=B((ud0)=>{Object.defineProperty(ud0,"__esModule",{value:!0});ud0.RestifyInstrumentation=void 0;var iC=C(),k$1=H$1(),gx=U$1(),yd0=qx0(),oC=Fx0(),Rw=J6(),X28=j1(),vd0=Dx0(),xd0=_d0(),gd0=[">=4.1.0 <12"];class dd0 extends Rw.InstrumentationBase{constructor(J={}){super(yd0.PACKAGE_NAME,yd0.PACKAGE_VERSION,J)}_moduleVersion;_isDisabled=!1;init(){let J=new Rw.InstrumentationNodeModuleDefinition(oC.MODULE_NAME,gd0,(Z,X)=>{return this._moduleVersion=X,Z});return J.files.push(new Rw.InstrumentationNodeModuleFile("restify/lib/server.js",gd0,(Z)=>{this._isDisabled=!1;let X=Z;for(let Y of oC.RESTIFY_METHODS){if((0,Rw.isWrapped)(X.prototype[Y]))this._unwrap(X.prototype,Y);this._wrap(X.prototype,Y,this._methodPatcher.bind(this))}for(let Y of oC.RESTIFY_MW_METHODS){if((0,Rw.isWrapped)(X.prototype[Y]))this._unwrap(X.prototype,Y);this._wrap(X.prototype,Y,this._middlewarePatcher.bind(this))}return Z},(Z)=>{if(this._isDisabled=!0,Z){let X=Z;for(let Y of oC.RESTIFY_METHODS)this._unwrap(X.prototype,Y);for(let Y of oC.RESTIFY_MW_METHODS)this._unwrap(X.prototype,Y)}})),J}_middlewarePatcher(J,Z){let X=this;return function(...Y){return J.call(this,X._handlerPatcher({type:k$1.LayerType.MIDDLEWARE,methodName:Z},Y))}}_methodPatcher(J,Z){let X=this;return function(Y,...$){return J.call(this,Y,...X._handlerPatcher({type:k$1.LayerType.REQUEST_HANDLER,path:Y,methodName:Z},$))}}_handlerPatcher(J,Z){if(Array.isArray(Z))return Z.map((X)=>this._handlerPatcher(J,X));if(typeof Z==="function")return(X,Y,$)=>{if(this._isDisabled)return Z(X,Y,$);let z=typeof X.getRoute==="function"?X.getRoute()?.path:X.route?.path,W=(0,xd0.getRPCMetadata)(iC.context.active());if(W?.type===xd0.RPCType.HTTP)W.route=z;let Q=Z.name||void 0,G=J.type===k$1.LayerType.REQUEST_HANDLER?`request handler - ${z}`:`middleware - ${Q||"anonymous"}`,K={[gx.AttributeNames.NAME]:Q,[gx.AttributeNames.VERSION]:this._moduleVersion||"n/a",[gx.AttributeNames.TYPE]:J.type,[gx.AttributeNames.METHOD]:J.methodName,[X28.SEMATTRS_HTTP_ROUTE]:z},q=this.tracer.startSpan(G,{attributes:K},iC.context.active()),H=this,{requestHook:F}=H.getConfig();if(F)(0,Rw.safeExecuteInTheMiddle)(()=>{return F(q,{request:X,layerType:J.type})},(w)=>{if(w)H._diag.error("request hook failed",w)},!0);let U=(w)=>{q.end(),$(w)};U.ifError=$.ifError;let D=(w)=>{return w.then((M)=>{return q.end(),M}).catch((M)=>{throw q.recordException(M),q.end(),M})},V=iC.trace.setSpan(iC.context.active(),q);return iC.context.with(V,(w,M,P)=>{if((0,vd0.isAsyncFunction)(Z))return D(Z(w,M,P));try{let R=Z(w,M,P);if((0,vd0.isPromise)(R))return D(R);return q.end(),R}catch(R){throw q.recordException(R),q.end(),R}},this,X,Y,U)};return Z}}ud0.RestifyInstrumentation=dd0});var ld0=B((LG)=>{var Y28=LG&&LG.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),b$1=LG&&LG.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))Y28(Z,J,X)};Object.defineProperty(LG,"__esModule",{value:!0});b$1(cd0(),LG);b$1(U$1(),LG);b$1(H$1(),LG)});var id0=B((pd0)=>{Object.defineProperty(pd0,"__esModule",{value:!0});pd0.PACKAGE_NAME=pd0.PACKAGE_VERSION=void 0;pd0.PACKAGE_VERSION="0.46.0";pd0.PACKAGE_NAME="@opentelemetry/instrumentation-router"});var h$1=B((od0)=>{Object.defineProperty(od0,"__esModule",{value:!0});od0.ROUTER_HANDLE_FN=od0.ROUTE_ROUTER_FN=od0.MODULE_NAME=void 0;od0.MODULE_NAME="router";od0.ROUTE_ROUTER_FN=`function router(req, res, next) {
    router.handle(req, res, next)
  }`;od0.ROUTER_HANDLE_FN=`function handle(req, res, next) {
    route.dispatch(req, res, next)
  }`});var ed0=B((rd0)=>{Object.defineProperty(rd0,"__esModule",{value:!0});rd0.once=rd0.renameHttpSpan=rd0.isInternal=void 0;var ad0=h$1(),Q28=(J)=>{if(J.name==="handle"&&J.toString()===ad0.ROUTER_HANDLE_FN)return!0;if(J.name==="router"&&J.toString()===ad0.ROUTE_ROUTER_FN)return!0;return!1};rd0.isInternal=Q28;var G28=(J,Z,X)=>{if(typeof Z==="string"&&typeof X==="string"&&J?.name?.startsWith("HTTP "))J.updateName(`${Z.toUpperCase()} ${X}`)};rd0.renameHttpSpan=G28;var K28=(J)=>{let Z=!0;return()=>{if(Z)Z=!1,J()}};rd0.once=K28});var y$1=B((Zu0)=>{Object.defineProperty(Zu0,"__esModule",{value:!0});Zu0.AttributeNames=void 0;var Ju0;(function(J){J.TYPE="router.type",J.NAME="router.name",J.METHOD="router.method",J.VERSION="router.version"})(Ju0=Zu0.AttributeNames||(Zu0.AttributeNames={}));Zu0.default=Ju0});var $u0=B((Yu0)=>{Object.defineProperty(Yu0,"__esModule",{value:!0});Yu0.LayerType=void 0;var Xu0;(function(J){J.MIDDLEWARE="middleware",J.REQUEST_HANDLER="request_handler"})(Xu0=Yu0.LayerType||(Yu0.LayerType={}));Yu0.default=Xu0});var qu0=B((Gu0)=>{Object.defineProperty(Gu0,"__esModule",{value:!0});Gu0.RouterInstrumentation=void 0;var Ew=C(),sC=J6(),U28=j1(),zu0=id0(),O28=h$1(),dx=ed0(),x$1=y$1(),g$1=$u0(),Wu0=[">=1.0.0 <2"];class Qu0 extends sC.InstrumentationBase{constructor(J={}){super(zu0.PACKAGE_NAME,zu0.PACKAGE_VERSION,J)}_moduleVersion;init(){let J=new sC.InstrumentationNodeModuleDefinition(O28.MODULE_NAME,Wu0,(Z,X)=>{return this._moduleVersion=X,Z});return J.files.push(new sC.InstrumentationNodeModuleFile("router/lib/layer.js",Wu0,(Z)=>{let X=Z;if((0,sC.isWrapped)(X.prototype.handle_request))this._unwrap(X.prototype,"handle_request");if(this._wrap(X.prototype,"handle_request",this._requestHandlerPatcher.bind(this)),(0,sC.isWrapped)(X.prototype.handle_error))this._unwrap(X.prototype,"handle_error");return this._wrap(X.prototype,"handle_error",this._errorHandlerPatcher.bind(this)),Z},(Z)=>{let X=Z;return this._unwrap(X.prototype,"handle_request"),this._unwrap(X.prototype,"handle_error"),Z})),J}_requestHandlerPatcher(J){let Z=this;return function X(Y,$,z){if(dx.isInternal(this.handle)||this.handle.length>3)return J.call(this,Y,$,z);let{context:W,wrappedNext:Q}=Z._setupSpan(this,Y,$,z);return Ew.context.with(W,J,this,Y,$,Q)}}_errorHandlerPatcher(J){let Z=this;return function X(Y,$,z,W){if(dx.isInternal(this.handle)||this.handle.length!==4)return J.call(this,Y,$,z,W);let{context:Q,wrappedNext:G}=Z._setupSpan(this,$,z,W);return Ew.context.with(Q,J,this,Y,$,z,G)}}_setupSpan(J,Z,X,Y){let $=J.handle.name||"<anonymous>",z=J.method?g$1.default.REQUEST_HANDLER:g$1.default.MIDDLEWARE,W=Z.baseUrl+(Z.route?.path??"")||"/",Q=z===g$1.default.REQUEST_HANDLER?`request handler - ${W}`:`middleware - ${$}`,G={[x$1.default.NAME]:$,[x$1.default.VERSION]:this._moduleVersion,[x$1.default.TYPE]:z,[U28.SEMATTRS_HTTP_ROUTE]:W},K=Ew.context.active(),q=Ew.trace.getSpan(K),H=this.tracer.startSpan(Q,{attributes:G},K),F=dx.once(H.end.bind(H));dx.renameHttpSpan(q,J.method,W),X.prependOnceListener("finish",F);let U=(D)=>{if(D)H.recordException(D);if(F(),K)return Ew.context.with(K,Y,void 0,D);return Y(D)};return{context:Ew.trace.setSpan(K,H),wrappedNext:U}}}Gu0.RouterInstrumentation=Qu0});var Hu0=B((yq)=>{var D28=yq&&yq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),Bu0=yq&&yq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))D28(Z,J,X)};Object.defineProperty(yq,"__esModule",{value:!0});Bu0(qu0(),yq);Bu0(y$1(),yq)});var Sw=B((Uu0)=>{Object.defineProperty(Uu0,"__esModule",{value:!0});Uu0.BaseCollector=void 0;class Fu0{_config={};namePrefix;constructor(J={},Z){this._config=J,this.namePrefix=Z}disable(){this._config.enabled=!1,this.internalDisable()}enable(){this._config.enabled=!0,this.internalEnable()}}Uu0.BaseCollector=Fu0});var Au0=B((Vu0)=>{Object.defineProperty(Vu0,"__esModule",{value:!0});Vu0.EventLoopUtilizationCollector=Vu0.ATTR_NODEJS_EVENT_LOOP_UTILIZATION=void 0;var V28=p("perf_hooks"),I28=Sw(),{eventLoopUtilization:w28}=V28.performance;Vu0.ATTR_NODEJS_EVENT_LOOP_UTILIZATION="eventloop.utilization";class Du0 extends I28.BaseCollector{_lastValue;constructor(J={},Z){super(J,Z)}updateMetricInstruments(J){J.createObservableGauge(`${this.namePrefix}.${Vu0.ATTR_NODEJS_EVENT_LOOP_UTILIZATION}`,{description:"Event loop utilization",unit:"1"}).addCallback(async(Z)=>{if(!this._config.enabled)return;let X=w28(this._lastValue);Z.observe(X.utilization),this._lastValue=X})}internalDisable(){}internalEnable(){}}Vu0.EventLoopUtilizationCollector=Du0});var Lu0=B((Nu0)=>{Object.defineProperty(Nu0,"__esModule",{value:!0});Nu0.EventLoopDelayCollector=Nu0.metricNames=void 0;var A28=p("perf_hooks"),M28=Sw(),y8;(function(J){J.min="eventloop.delay.min",J.max="eventloop.delay.max",J.mean="eventloop.delay.mean",J.stddev="eventloop.delay.stddev",J.p50="eventloop.delay.p50",J.p90="eventloop.delay.p90",J.p99="eventloop.delay.p99"})(y8||(y8={}));Nu0.metricNames={[y8.min]:{description:"Event loop minimum delay."},[y8.max]:{description:"Event loop maximum delay."},[y8.mean]:{description:"Event loop mean delay."},[y8.stddev]:{description:"Event loop standard deviation delay."},[y8.p50]:{description:"Event loop 50 percentile delay."},[y8.p90]:{description:"Event loop 90 percentile delay."},[y8.p99]:{description:"Event loop 99 percentile delay."}};class Mu0 extends M28.BaseCollector{_histogram;constructor(J={},Z){super(J,Z);this._histogram=A28.monitorEventLoopDelay({resolution:J.monitoringPrecision})}updateMetricInstruments(J){let Z=J.createObservableGauge(`${this.namePrefix}.${y8.min}`,{description:Nu0.metricNames[y8.min].description,unit:"s"}),X=J.createObservableGauge(`${this.namePrefix}.${y8.max}`,{description:Nu0.metricNames[y8.max].description,unit:"s"}),Y=J.createObservableGauge(`${this.namePrefix}.${y8.mean}`,{description:Nu0.metricNames[y8.mean].description,unit:"s"}),$=J.createObservableGauge(`${this.namePrefix}.${y8.stddev}`,{description:Nu0.metricNames[y8.stddev].description,unit:"s"}),z=J.createObservableGauge(`${this.namePrefix}.${y8.p50}`,{description:Nu0.metricNames[y8.p50].description,unit:"s"}),W=J.createObservableGauge(`${this.namePrefix}.${y8.p90}`,{description:Nu0.metricNames[y8.p90].description,unit:"s"}),Q=J.createObservableGauge(`${this.namePrefix}.${y8.p99}`,{description:Nu0.metricNames[y8.p99].description,unit:"s"});J.addBatchObservableCallback(async(G)=>{if(!this._config.enabled)return;let K=this.scrape();if(K===void 0)return;if(this._histogram.count<5)return;G.observe(Z,K.min),G.observe(X,K.max),G.observe(Y,K.mean),G.observe($,K.stddev),G.observe(z,K.p50),G.observe(W,K.p90),G.observe(Q,K.p99),this._histogram.reset()},[Z,X,Y,$,z,W,Q])}internalEnable(){this._histogram.enable()}internalDisable(){this._histogram.disable()}scrape(){return{min:this.checkNan(this._histogram.min/1e9),max:this.checkNan(this._histogram.max/1e9),mean:this.checkNan(this._histogram.mean/1e9),stddev:this.checkNan(this._histogram.stddev/1e9),p50:this.checkNan(this._histogram.percentile(50)/1e9),p90:this.checkNan(this._histogram.percentile(90)/1e9),p99:this.checkNan(this._histogram.percentile(99)/1e9)}}checkNan(J){return isNaN(J)?0:J}}Nu0.EventLoopDelayCollector=Mu0});var Eu0=B((ju0)=>{Object.defineProperty(ju0,"__esModule",{value:!0});ju0.GCCollector=void 0;var N28=C(),P28=Sw(),aC=p("perf_hooks"),L28="gc.duration",C28=[0.01,0.1,1,10],Tw=[];Tw[aC.constants.NODE_PERFORMANCE_GC_MAJOR]="major";Tw[aC.constants.NODE_PERFORMANCE_GC_MINOR]="minor";Tw[aC.constants.NODE_PERFORMANCE_GC_INCREMENTAL]="incremental";Tw[aC.constants.NODE_PERFORMANCE_GC_WEAKCB]="weakcb";class Cu0 extends P28.BaseCollector{_gcDurationByKindHistogram;_observer;constructor(J={},Z){super(J,Z);this._observer=new aC.PerformanceObserver((X)=>{if(!this._config.enabled)return;let Y=X.getEntries()[0],$=Y.detail?Tw[Y.detail.kind]:Tw[Y.kind];this._gcDurationByKindHistogram?.record(Y.duration/1000,Object.assign({[`${this.namePrefix}.gc.type`]:$}))})}updateMetricInstruments(J){this._gcDurationByKindHistogram=J.createHistogram(`${this.namePrefix}.${L28}`,{description:"Garbage collection duration by kind, one of major, minor, incremental or weakcb.",unit:"s",valueType:N28.ValueType.DOUBLE,advice:{explicitBucketBoundaries:C28}})}internalEnable(){this._observer.observe({entryTypes:["gc"]})}internalDisable(){this._observer.disconnect()}}ju0.GCCollector=Cu0});var fu0=B((Su0)=>{Object.defineProperty(Su0,"__esModule",{value:!0});Su0.ATTR_V8JS_HEAP_SPACE_NAME=void 0;Su0.ATTR_V8JS_HEAP_SPACE_NAME="heap.space.name"});var yu0=B((hu0)=>{Object.defineProperty(hu0,"__esModule",{value:!0});hu0.HeapSpacesSizeAndUsedCollector=hu0.metricNames=hu0.V8HeapSpaceMetrics=void 0;var j28=Sw(),R28=p("v8"),E28=fu0(),RJ;(function(J){J.heapLimit="memory.heap.limit",J.used="memory.heap.used",J.available="memory.heap.space.available_size",J.physical="memory.heap.space.physical_size"})(RJ=hu0.V8HeapSpaceMetrics||(hu0.V8HeapSpaceMetrics={}));hu0.metricNames={[RJ.heapLimit]:{description:"Total heap memory size pre-allocated."},[RJ.used]:{description:"Heap Memory size allocated."},[RJ.available]:{description:"Heap space available size."},[RJ.physical]:{description:"Committed size of a heap space."}};class bu0 extends j28.BaseCollector{constructor(J={},Z){super(J,Z)}updateMetricInstruments(J){let Z=J.createObservableGauge(`${this.namePrefix}.${RJ.heapLimit}`,{description:hu0.metricNames[RJ.heapLimit].description,unit:"By"}),X=J.createObservableGauge(`${this.namePrefix}.${RJ.used}`,{description:hu0.metricNames[RJ.used].description,unit:"By"}),Y=J.createObservableGauge(`${this.namePrefix}.${RJ.available}`,{description:hu0.metricNames[RJ.available].description,unit:"By"}),$=J.createObservableGauge(`${this.namePrefix}.${RJ.physical}`,{description:hu0.metricNames[RJ.physical].description,unit:"By"}),z=`${this.namePrefix}.${E28.ATTR_V8JS_HEAP_SPACE_NAME}`;J.addBatchObservableCallback((W)=>{if(!this._config.enabled)return;let Q=this.scrape();if(Q===void 0)return;for(let G of Q){let K=G.space_name;W.observe(Z,G.space_size,{[z]:K}),W.observe(X,G.space_used_size,{[z]:K}),W.observe(Y,G.space_available_size,{[z]:K}),W.observe($,G.physical_space_size,{[z]:K})}},[Z,X,Y,$])}internalEnable(){}internalDisable(){}scrape(){return R28.getHeapSpaceStatistics()}}hu0.HeapSpacesSizeAndUsedCollector=bu0});var xu0=B((vu0)=>{Object.defineProperty(vu0,"__esModule",{value:!0});vu0.ConventionalNamePrefix=void 0;var S28;(function(J){J.NodeJs="nodejs",J.V8js="v8js"})(S28=vu0.ConventionalNamePrefix||(vu0.ConventionalNamePrefix={}))});var cu0=B((du0)=>{Object.defineProperty(du0,"__esModule",{value:!0});du0.EventLoopTimeCollector=du0.ATTR_NODEJS_EVENT_LOOP_TIME=void 0;var T28=p("perf_hooks"),f28=Sw(),{eventLoopUtilization:k28}=T28.performance;du0.ATTR_NODEJS_EVENT_LOOP_TIME="eventloop.time";class gu0 extends f28.BaseCollector{constructor(J={},Z){super(J,Z)}updateMetricInstruments(J){let Z=J.createObservableCounter(`${this.namePrefix}.${du0.ATTR_NODEJS_EVENT_LOOP_TIME}`,{description:"Cumulative duration of time the event loop has been in each state.",unit:"s"});J.addBatchObservableCallback(async(X)=>{if(!this._config.enabled)return;let Y=this.scrape();if(Y===void 0)return;X.observe(Z,Y.active/1000,{[`${this.namePrefix}.eventloop.state`]:"active"}),X.observe(Z,Y.idle/1000,{[`${this.namePrefix}.eventloop.state`]:"idle"})},[Z])}internalDisable(){}internalEnable(){}scrape(){return k28()}}du0.EventLoopTimeCollector=gu0});var nu0=B((lu0)=>{Object.defineProperty(lu0,"__esModule",{value:!0});lu0.PACKAGE_NAME=lu0.PACKAGE_VERSION=void 0;lu0.PACKAGE_VERSION="0.15.0";lu0.PACKAGE_NAME="@opentelemetry/instrumentation-runtime-node"});var ru0=B((su0)=>{Object.defineProperty(su0,"__esModule",{value:!0});su0.RuntimeNodeInstrumentation=void 0;var h28=J6(),_28=Au0(),y28=Lu0(),v28=Eu0(),x28=yu0(),tC=xu0(),g28=cu0(),iu0=nu0(),d28={monitoringPrecision:10};class ou0 extends h28.InstrumentationBase{_collectors=[];constructor(J={}){super(iu0.PACKAGE_NAME,iu0.PACKAGE_VERSION,Object.assign({},d28,J));if(this._collectors=[new _28.EventLoopUtilizationCollector(this._config,tC.ConventionalNamePrefix.NodeJs),new g28.EventLoopTimeCollector(this._config,tC.ConventionalNamePrefix.NodeJs),new y28.EventLoopDelayCollector(this._config,tC.ConventionalNamePrefix.NodeJs),new v28.GCCollector(this._config,tC.ConventionalNamePrefix.V8js),new x28.HeapSpacesSizeAndUsedCollector(this._config,tC.ConventionalNamePrefix.V8js)],this._config.enabled)for(let Z of this._collectors)Z.enable()}_updateMetricInstruments(){if(!this._collectors)return;for(let J of this._collectors)J.updateMetricInstruments(this.meter)}init(){}enable(){if(!this._collectors)return;for(let J of this._collectors)J.enable()}disable(){for(let J of this._collectors)J.disable()}}su0.RuntimeNodeInstrumentation=ou0});var eu0=B((tu0)=>{Object.defineProperty(tu0,"__esModule",{value:!0})});var Zm0=B((xq)=>{var u28=xq&&xq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),Jm0=xq&&xq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))u28(Z,J,X)};Object.defineProperty(xq,"__esModule",{value:!0});Jm0(ru0(),xq);Jm0(eu0(),xq)});var u$1=B((Xm0)=>{Object.defineProperty(Xm0,"__esModule",{value:!0});Xm0.SocketIoInstrumentationAttributes=void 0;Xm0.SocketIoInstrumentationAttributes={SOCKET_IO_ROOMS:"messaging.socket.io.rooms",SOCKET_IO_NAMESPACE:"messaging.socket.io.namespace",SOCKET_IO_EVENT_NAME:"messaging.socket.io.event_name"}});var Wm0=B(($m0)=>{Object.defineProperty($m0,"__esModule",{value:!0});$m0.PACKAGE_NAME=$m0.PACKAGE_VERSION=void 0;$m0.PACKAGE_VERSION="0.48.0";$m0.PACKAGE_NAME="@opentelemetry/instrumentation-socket.io"});var Km0=B((Qm0)=>{Object.defineProperty(Qm0,"__esModule",{value:!0});Qm0.extractRoomsAttributeValue=Qm0.normalizeConfig=Qm0.isPromise=void 0;var c28=(J)=>{return typeof J?.then==="function"};Qm0.isPromise=c28;var l28=(J)=>{if(J=Object.assign({},J),!Array.isArray(J.emitIgnoreEventList))J.emitIgnoreEventList=[];if(!Array.isArray(J.onIgnoreEventList))J.onIgnoreEventList=[];return J};Qm0.normalizeConfig=l28;var p28=(J)=>{let Z=J.rooms||J._rooms||J.sockets?._rooms||J.sockets?.rooms||[];if(!Array.isArray(Z))Z=Array.from(Z);if(Z.length===0&&J.id)Z.push(J.id);return Z};Qm0.extractRoomsAttributeValue=p28});var Om0=B((Fm0)=>{Object.defineProperty(Fm0,"__esModule",{value:!0});Fm0.SocketIoInstrumentation=void 0;var hY=C(),d4=J6(),CG=j1(),ux=u$1(),qm0=Wm0(),mx=Km0(),Bm0=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];class Hm0 extends d4.InstrumentationBase{constructor(J={}){super(qm0.PACKAGE_NAME,qm0.PACKAGE_VERSION,(0,mx.normalizeConfig)(J))}init(){let J=new d4.InstrumentationNodeModuleFile("socket.io/dist/socket.js",[">=3 <5"],(z,W)=>{if(z===void 0||z===null)return z;if(W===void 0)return z;if((0,d4.isWrapped)(z?.Socket?.prototype?.on))this._unwrap(z.Socket.prototype,"on");if(this._wrap(z.Socket.prototype,"on",this._patchOn(W)),(0,d4.isWrapped)(z?.Socket?.prototype?.emit))this._unwrap(z.Socket.prototype,"emit");return this._wrap(z.Socket.prototype,"emit",this._patchEmit(W)),z},(z)=>{if((0,d4.isWrapped)(z?.Socket?.prototype?.on))this._unwrap(z.Socket.prototype,"on");if((0,d4.isWrapped)(z?.Socket?.prototype?.emit))this._unwrap(z.Socket.prototype,"emit");return z}),Z=new d4.InstrumentationNodeModuleFile("socket.io/dist/broadcast-operator.js",[">=4 <5"],(z,W)=>{if(z===void 0||z===null)return z;if(W===void 0)return z;if((0,d4.isWrapped)(z?.BroadcastOperator?.prototype?.emit))this._unwrap(z.BroadcastOperator.prototype,"emit");return this._wrap(z.BroadcastOperator.prototype,"emit",this._patchEmit(W)),z},(z)=>{if((0,d4.isWrapped)(z?.BroadcastOperator?.prototype?.emit))this._unwrap(z.BroadcastOperator.prototype,"emit");return z}),X=new d4.InstrumentationNodeModuleFile("socket.io/dist/namespace.js",["<4"],(z,W)=>{if(z===void 0||z===null)return z;if(W===void 0)return z;if((0,d4.isWrapped)(z?.Namespace?.prototype?.emit))this._unwrap(z.Namespace.prototype,"emit");return this._wrap(z.Namespace.prototype,"emit",this._patchEmit(W)),z},(z)=>{if((0,d4.isWrapped)(z?.Namespace?.prototype?.emit))this._unwrap(z.Namespace.prototype,"emit")}),Y=new d4.InstrumentationNodeModuleFile("socket.io/lib/socket.js",["2"],(z,W)=>{if(z===void 0||z===null)return z;if(W===void 0)return z;if((0,d4.isWrapped)(z.prototype?.on))this._unwrap(z.prototype,"on");if(this._wrap(z.prototype,"on",this._patchOn(W)),(0,d4.isWrapped)(z.prototype?.emit))this._unwrap(z.prototype,"emit");return this._wrap(z.prototype,"emit",this._patchEmit(W)),z},(z)=>{if((0,d4.isWrapped)(z.prototype?.on))this._unwrap(z.prototype,"on");if((0,d4.isWrapped)(z.prototype?.emit))this._unwrap(z.prototype,"emit");return z}),$=new d4.InstrumentationNodeModuleFile("socket.io/lib/namespace.js",["2"],(z,W)=>{if(z===void 0||z===null)return z;if(W===void 0)return z;if((0,d4.isWrapped)(z?.prototype?.emit))this._unwrap(z.prototype,"emit");return this._wrap(z.prototype,"emit",this._patchEmit(W)),z},(z)=>{if((0,d4.isWrapped)(z?.prototype?.emit))this._unwrap(z.prototype,"emit")});return[new d4.InstrumentationNodeModuleDefinition("socket.io",[">=3 <5"],(z,W)=>{if(z===void 0||z===null)return z;if(W===void 0)return z;if((0,d4.isWrapped)(z?.Server?.prototype?.on))this._unwrap(z.Server.prototype,"on");return this._wrap(z.Server.prototype,"on",this._patchOn(W)),z},(z)=>{if((0,d4.isWrapped)(z?.Server?.prototype?.on))this._unwrap(z.Server.prototype,"on");return z},[Z,X,J]),new d4.InstrumentationNodeModuleDefinition("socket.io",["2"],(z,W)=>{if(z===void 0||z===null)return z;if(W===void 0)return z;if((0,d4.isWrapped)(z?.prototype?.on))this._unwrap(z.prototype,"on");return this._wrap(z.prototype,"on",this._patchOn(W)),z},(z,W)=>{if((0,d4.isWrapped)(z?.prototype?.on))this._unwrap(z.prototype,"on");return z},[$,Y])]}setConfig(J={}){return super.setConfig((0,mx.normalizeConfig)(J))}_patchOn(J){let Z=this;return(X)=>{return function(Y,$){if(!Z.getConfig().traceReserved&&Bm0.includes(Y))return X.apply(this,arguments);if(Z.getConfig().onIgnoreEventList?.includes(Y))return X.apply(this,arguments);let z=function(...W){let Q=Y,G=this.name||this.adapter?.nsp?.name,K=Z.tracer.startSpan(`${CG.MESSAGINGOPERATIONVALUES_RECEIVE} ${G}`,{kind:hY.SpanKind.CONSUMER,attributes:{[CG.SEMATTRS_MESSAGING_SYSTEM]:"socket.io",[CG.SEMATTRS_MESSAGING_DESTINATION]:G,[CG.SEMATTRS_MESSAGING_OPERATION]:CG.MESSAGINGOPERATIONVALUES_RECEIVE,[ux.SocketIoInstrumentationAttributes.SOCKET_IO_EVENT_NAME]:Q}}),{onHook:q}=Z.getConfig();if(q)(0,d4.safeExecuteInTheMiddle)(()=>q(K,{moduleVersion:J,payload:W}),(H)=>{if(H)Z._diag.error("onHook error",H)},!0);return hY.context.with(hY.trace.setSpan(hY.context.active(),K),()=>Z.endSpan(()=>$.apply(this,arguments),K))};return X.apply(this,[Y,z])}}}endSpan(J,Z){try{let X=J();if((0,mx.isPromise)(X))return X.then((Y)=>{return Z.end(),Y},(Y)=>{throw Z.recordException(Y),Z.setStatus({code:hY.SpanStatusCode.ERROR,message:Y?.message}),Z.end(),Y});else return Z.end(),X}catch(X){throw Z.recordException(X),Z.setStatus({code:hY.SpanStatusCode.ERROR,message:X?.message}),Z.end(),X}}_patchEmit(J){let Z=this;return(X)=>{return function(Y,...$){if(!Z.getConfig().traceReserved&&Bm0.includes(Y))return X.apply(this,arguments);if(Z.getConfig().emitIgnoreEventList?.includes(Y))return X.apply(this,arguments);let z="socket.io",W=Y,Q={[CG.SEMATTRS_MESSAGING_SYSTEM]:z,[CG.SEMATTRS_MESSAGING_DESTINATION_KIND]:CG.MESSAGINGDESTINATIONKINDVALUES_TOPIC,[ux.SocketIoInstrumentationAttributes.SOCKET_IO_EVENT_NAME]:W},G=(0,mx.extractRoomsAttributeValue)(this);if(G.length)Q[ux.SocketIoInstrumentationAttributes.SOCKET_IO_ROOMS]=G;let K=this.name||this.adapter?.nsp?.name||this.sockets?.name;if(K)Q[ux.SocketIoInstrumentationAttributes.SOCKET_IO_NAMESPACE]=K,Q[CG.SEMATTRS_MESSAGING_DESTINATION]=K;let q=Z.tracer.startSpan(`send ${K}`,{kind:hY.SpanKind.PRODUCER,attributes:Q}),{emitHook:H}=Z.getConfig();if(H)(0,d4.safeExecuteInTheMiddle)(()=>H(q,{moduleVersion:J,payload:$}),(F)=>{if(F)Z._diag.error("emitHook error",F)},!0);try{return hY.context.with(hY.trace.setSpan(hY.context.active(),q),()=>X.apply(this,arguments))}catch(F){throw q.setStatus({code:hY.SpanStatusCode.ERROR,message:F.message}),F}finally{q.end()}}}}}Fm0.SocketIoInstrumentation=Hm0});var Im0=B((Dm0)=>{Object.defineProperty(Dm0,"__esModule",{value:!0});Dm0.defaultSocketIoPath=void 0;Dm0.defaultSocketIoPath="/socket.io/"});var wm0=B((jG)=>{var o28=jG&&jG.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),m$1=jG&&jG.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))o28(Z,J,X)};Object.defineProperty(jG,"__esModule",{value:!0});m$1(Om0(),jG);m$1(Im0(),jG);m$1(u$1(),jG)});var Nm0=B((Am0)=>{Object.defineProperty(Am0,"__esModule",{value:!0});Am0.once=Am0.getSpanName=void 0;function s28(J,Z,X,Y){if(J==="execBulkLoad"&&Y&&Z)return`${J} ${Y} ${Z}`;if(J==="callProcedure"){if(Z)return`${J} ${X} ${Z}`;return`${J} ${X}`}if(Z)return`${J} ${Z}`;return`${J}`}Am0.getSpanName=s28;var a28=(J)=>{let Z=!1;return(...X)=>{if(Z)return;return Z=!0,J(...X)}};Am0.once=a28});var Cm0=B((Pm0)=>{Object.defineProperty(Pm0,"__esModule",{value:!0});Pm0.PACKAGE_NAME=Pm0.PACKAGE_VERSION=void 0;Pm0.PACKAGE_VERSION="0.20.0";Pm0.PACKAGE_NAME="@opentelemetry/instrumentation-tedious"});var km0=B((Tm0)=>{Object.defineProperty(Tm0,"__esModule",{value:!0});Tm0.TediousInstrumentation=void 0;var eC=C(),e28=p("events"),cx=J6(),gq=j1(),jm0=Nm0(),Rm0=Cm0(),Sm0=Symbol("opentelemetry.instrumentation-tedious.current-database"),Em0=["callProcedure","execSql","execSqlBatch","execBulkLoad","prepare","execute"];function lx(J){Object.defineProperty(this,Sm0,{value:J,writable:!0})}class c$1 extends cx.InstrumentationBase{static COMPONENT="tedious";constructor(J={}){super(Rm0.PACKAGE_NAME,Rm0.PACKAGE_VERSION,J)}init(){return[new cx.InstrumentationNodeModuleDefinition(c$1.COMPONENT,[">=1.11.0 <20"],(J)=>{let Z=J.Connection.prototype;for(let X of Em0){if((0,cx.isWrapped)(Z[X]))this._unwrap(Z,X);this._wrap(Z,X,this._patchQuery(X))}if((0,cx.isWrapped)(Z.connect))this._unwrap(Z,"connect");return this._wrap(Z,"connect",this._patchConnect),J},(J)=>{if(J===void 0)return;let Z=J.Connection.prototype;for(let X of Em0)this._unwrap(Z,X);this._unwrap(Z,"connect")})]}_patchConnect(J){return function Z(){return lx.call(this,this.config?.options?.database),this.removeListener("databaseChange",lx),this.on("databaseChange",lx),this.once("end",()=>{this.removeListener("databaseChange",lx)}),J.apply(this,arguments)}}_patchQuery(J){return(Z)=>{let X=this;function Y($){if(!($ instanceof e28.EventEmitter))return X._diag.warn(`Unexpected invocation of patched ${J} method. Span not recorded`),Z.apply(this,arguments);let z=0,W=0,Q=()=>W++,G=()=>z++,K=this[Sm0],q=((U)=>{if(U.sqlTextOrProcedure==="sp_prepare"&&U.parametersByName?.stmt?.value)return U.parametersByName.stmt.value;return U.sqlTextOrProcedure})($),H=X.tracer.startSpan((0,jm0.getSpanName)(J,K,q,$.table),{kind:eC.SpanKind.CLIENT,attributes:{[gq.SEMATTRS_DB_SYSTEM]:gq.DBSYSTEMVALUES_MSSQL,[gq.SEMATTRS_DB_NAME]:K,[gq.SEMATTRS_NET_PEER_PORT]:this.config?.options?.port,[gq.SEMATTRS_NET_PEER_NAME]:this.config?.server,[gq.SEMATTRS_DB_USER]:this.config?.userName??this.config?.authentication?.options?.userName,[gq.SEMATTRS_DB_STATEMENT]:q,[gq.SEMATTRS_DB_SQL_TABLE]:$.table}}),F=(0,jm0.once)((U)=>{if($.removeListener("done",Q),$.removeListener("doneInProc",Q),$.removeListener("doneProc",G),$.removeListener("error",F),this.removeListener("end",F),H.setAttribute("tedious.procedure_count",z),H.setAttribute("tedious.statement_count",W),U)H.setStatus({code:eC.SpanStatusCode.ERROR,message:U.message});H.end()});if($.on("done",Q),$.on("doneInProc",Q),$.on("doneProc",G),$.once("error",F),this.on("end",F),typeof $.callback==="function")X._wrap($,"callback",X._patchCallbackQuery(F));else X._diag.error("Expected request.callback to be a function");return eC.context.with(eC.trace.setSpan(eC.context.active(),H),Z,this,...arguments)}return Object.defineProperty(Y,"length",{value:Z.length,writable:!1}),Y}}_patchCallbackQuery(J){return(Z)=>{return function(X,Y,$){return J(X),Z.apply(this,arguments)}}}}Tm0.TediousInstrumentation=c$1});var hm0=B((bm0)=>{Object.defineProperty(bm0,"__esModule",{value:!0})});var ym0=B((dq)=>{var Jj8=dq&&dq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),_m0=dq&&dq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))Jj8(Z,J,X)};Object.defineProperty(dq,"__esModule",{value:!0});_m0(km0(),dq);_m0(hm0(),dq)});var gm0=B((vm0)=>{Object.defineProperty(vm0,"__esModule",{value:!0});vm0.PACKAGE_NAME=vm0.PACKAGE_VERSION=void 0;vm0.PACKAGE_VERSION="0.12.0";vm0.PACKAGE_NAME="@opentelemetry/instrumentation-undici"});var mm0=B((dm0)=>{Object.defineProperty(dm0,"__esModule",{value:!0});dm0.SemanticAttributes=void 0;dm0.SemanticAttributes={HTTP_CONNECTION_STATE:"http.connection.state",ERROR_TYPE:"error.type",HTTP_REQUEST_BODY_SIZE:"http.request.body.size",HTTP_REQUEST_METHOD:"http.request.method",HTTP_REQUEST_METHOD_ORIGINAL:"http.request.method_original",HTTP_REQUEST_RESEND_COUNT:"http.request.resend_count",HTTP_RESPONSE_BODY_SIZE:"http.response.body.size",HTTP_RESPONSE_STATUS_CODE:"http.response.status_code",HTTP_ROUTE:"http.route",NETWORK_PEER_ADDRESS:"network.peer.address",NETWORK_PEER_PORT:"network.peer.port",NETWORK_PROTOCOL_NAME:"network.protocol.name",NETWORK_PROTOCOL_VERSION:"network.protocol.version",SERVER_ADDRESS:"server.address",SERVER_PORT:"server.port",URL_FULL:"url.full",URL_PATH:"url.path",URL_QUERY:"url.query",URL_SCHEME:"url.scheme",USER_AGENT_ORIGINAL:"user_agent.original"}});var J2=B((cm0)=>{Object.defineProperty(cm0,"__esModule",{value:!0});cm0.isTracingSuppressed=cm0.unsuppressTracing=cm0.suppressTracing=void 0;var Xj8=C(),l$1=(0,Xj8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Yj8(J){return J.setValue(l$1,!0)}cm0.suppressTracing=Yj8;function $j8(J){return J.deleteValue(l$1)}cm0.unsuppressTracing=$j8;function zj8(J){return J.getValue(l$1)===!0}cm0.isTracingSuppressed=zj8});var p$1=B((pm0)=>{Object.defineProperty(pm0,"__esModule",{value:!0});pm0.BAGGAGE_MAX_TOTAL_LENGTH=pm0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=pm0.BAGGAGE_MAX_NAME_VALUE_PAIRS=pm0.BAGGAGE_HEADER=pm0.BAGGAGE_ITEMS_SEPARATOR=pm0.BAGGAGE_PROPERTIES_SEPARATOR=pm0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;pm0.BAGGAGE_KEY_PAIR_SEPARATOR="=";pm0.BAGGAGE_PROPERTIES_SEPARATOR=";";pm0.BAGGAGE_ITEMS_SEPARATOR=",";pm0.BAGGAGE_HEADER="baggage";pm0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;pm0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;pm0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var n$1=B((om0)=>{Object.defineProperty(om0,"__esModule",{value:!0});om0.parseKeyPairsIntoRecord=om0.parsePairKeyValue=om0.getKeyPairs=om0.serializeKeyPairs=void 0;var Uj8=C(),_U=p$1();function Oj8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?_U.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>_U.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}om0.serializeKeyPairs=Oj8;function Dj8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=_U.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}om0.getKeyPairs=Dj8;function im0(J){let Z=J.split(_U.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(_U.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,Uj8.baggageEntryMetadataFromString)(Z.join(_U.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}om0.parsePairKeyValue=im0;function Vj8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(_U.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=im0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}om0.parseKeyPairsIntoRecord=Vj8});var em0=B((rm0)=>{Object.defineProperty(rm0,"__esModule",{value:!0});rm0.W3CBaggagePropagator=void 0;var i$1=C(),Mj8=J2(),yU=p$1(),o$1=n$1();class am0{inject(J,Z,X){let Y=i$1.propagation.getBaggage(J);if(!Y||(0,Mj8.isTracingSuppressed)(J))return;let $=(0,o$1.getKeyPairs)(Y).filter((W)=>{return W.length<=yU.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,yU.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,o$1.serializeKeyPairs)($);if(z.length>0)X.set(Z,yU.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,yU.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(yU.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(yU.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,o$1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return i$1.propagation.setBaggage(J,i$1.propagation.createBaggage(z))}fields(){return[yU.BAGGAGE_HEADER]}}rm0.W3CBaggagePropagator=am0});var Yc0=B((Zc0)=>{Object.defineProperty(Zc0,"__esModule",{value:!0});Zc0.AnchoredClock=void 0;class Jc0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}Zc0.AnchoredClock=Jc0});var qc0=B((Gc0)=>{Object.defineProperty(Gc0,"__esModule",{value:!0});Gc0.isAttributeValue=Gc0.isAttributeKey=Gc0.sanitizeAttributes=void 0;var $c0=C();function Nj8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!zc0(X)){$c0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!Wc0(Y)){$c0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}Gc0.sanitizeAttributes=Nj8;function zc0(J){return typeof J==="string"&&J.length>0}Gc0.isAttributeKey=zc0;function Wc0(J){if(J==null)return!0;if(Array.isArray(J))return Pj8(J);return Qc0(J)}Gc0.isAttributeValue=Wc0;function Pj8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(Qc0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function Qc0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var s$1=B((Bc0)=>{Object.defineProperty(Bc0,"__esModule",{value:!0});Bc0.loggingErrorHandler=void 0;var jj8=C();function Rj8(){return(J)=>{jj8.diag.error(Ej8(J))}}Bc0.loggingErrorHandler=Rj8;function Ej8(J){if(typeof J==="string")return J;else return JSON.stringify(Sj8(J))}function Sj8(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var Dc0=B((Uc0)=>{Object.defineProperty(Uc0,"__esModule",{value:!0});Uc0.globalErrorHandler=Uc0.setGlobalErrorHandler=void 0;var Tj8=s$1(),Fc0=(0,Tj8.loggingErrorHandler)();function fj8(J){Fc0=J}Uc0.setGlobalErrorHandler=fj8;function kj8(J){try{Fc0(J)}catch{}}Uc0.globalErrorHandler=kj8});var Nc0=B((Ac0)=>{Object.defineProperty(Ac0,"__esModule",{value:!0});Ac0.getStringListFromEnv=Ac0.getBooleanFromEnv=Ac0.getStringFromEnv=Ac0.getNumberFromEnv=void 0;var Vc0=C(),Ic0=p("util");function hj8(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){Vc0.diag.warn(`Unknown value ${(0,Ic0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}Ac0.getNumberFromEnv=hj8;function wc0(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}Ac0.getStringFromEnv=wc0;function _j8(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return Vc0.diag.warn(`Unknown value ${(0,Ic0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}Ac0.getBooleanFromEnv=_j8;function yj8(J){return wc0(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}Ac0.getStringListFromEnv=yj8});var Cc0=B((Pc0)=>{Object.defineProperty(Pc0,"__esModule",{value:!0});Pc0._globalThis=void 0;Pc0._globalThis=typeof globalThis==="object"?globalThis:global});var Ec0=B((jc0)=>{Object.defineProperty(jc0,"__esModule",{value:!0});jc0.otperformance=void 0;var dj8=p("perf_hooks");jc0.otperformance=dj8.performance});var fc0=B((Sc0)=>{Object.defineProperty(Sc0,"__esModule",{value:!0});Sc0.VERSION=void 0;Sc0.VERSION="2.0.1"});var hc0=B((kc0)=>{Object.defineProperty(kc0,"__esModule",{value:!0});kc0.ATTR_PROCESS_RUNTIME_NAME=void 0;kc0.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var vc0=B((_c0)=>{Object.defineProperty(_c0,"__esModule",{value:!0});_c0.SDK_INFO=void 0;var uj8=fc0(),px=j1(),mj8=hc0();_c0.SDK_INFO={[px.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[mj8.ATTR_PROCESS_RUNTIME_NAME]:"node",[px.ATTR_TELEMETRY_SDK_LANGUAGE]:px.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[px.ATTR_TELEMETRY_SDK_VERSION]:uj8.VERSION}});var dc0=B((xc0)=>{Object.defineProperty(xc0,"__esModule",{value:!0});xc0.unrefTimer=void 0;function cj8(J){J.unref()}xc0.unrefTimer=cj8});var uc0=B((jz)=>{Object.defineProperty(jz,"__esModule",{value:!0});jz.unrefTimer=jz.SDK_INFO=jz.otperformance=jz._globalThis=jz.getStringListFromEnv=jz.getNumberFromEnv=jz.getBooleanFromEnv=jz.getStringFromEnv=void 0;var nx=Nc0();Object.defineProperty(jz,"getStringFromEnv",{enumerable:!0,get:function(){return nx.getStringFromEnv}});Object.defineProperty(jz,"getBooleanFromEnv",{enumerable:!0,get:function(){return nx.getBooleanFromEnv}});Object.defineProperty(jz,"getNumberFromEnv",{enumerable:!0,get:function(){return nx.getNumberFromEnv}});Object.defineProperty(jz,"getStringListFromEnv",{enumerable:!0,get:function(){return nx.getStringListFromEnv}});var lj8=Cc0();Object.defineProperty(jz,"_globalThis",{enumerable:!0,get:function(){return lj8._globalThis}});var pj8=Ec0();Object.defineProperty(jz,"otperformance",{enumerable:!0,get:function(){return pj8.otperformance}});var nj8=vc0();Object.defineProperty(jz,"SDK_INFO",{enumerable:!0,get:function(){return nj8.SDK_INFO}});var ij8=dc0();Object.defineProperty(jz,"unrefTimer",{enumerable:!0,get:function(){return ij8.unrefTimer}})});var a$1=B((Rz)=>{Object.defineProperty(Rz,"__esModule",{value:!0});Rz.getStringListFromEnv=Rz.getNumberFromEnv=Rz.getStringFromEnv=Rz.getBooleanFromEnv=Rz.unrefTimer=Rz.otperformance=Rz._globalThis=Rz.SDK_INFO=void 0;var uq=uc0();Object.defineProperty(Rz,"SDK_INFO",{enumerable:!0,get:function(){return uq.SDK_INFO}});Object.defineProperty(Rz,"_globalThis",{enumerable:!0,get:function(){return uq._globalThis}});Object.defineProperty(Rz,"otperformance",{enumerable:!0,get:function(){return uq.otperformance}});Object.defineProperty(Rz,"unrefTimer",{enumerable:!0,get:function(){return uq.unrefTimer}});Object.defineProperty(Rz,"getBooleanFromEnv",{enumerable:!0,get:function(){return uq.getBooleanFromEnv}});Object.defineProperty(Rz,"getStringFromEnv",{enumerable:!0,get:function(){return uq.getStringFromEnv}});Object.defineProperty(Rz,"getNumberFromEnv",{enumerable:!0,get:function(){return uq.getNumberFromEnv}});Object.defineProperty(Rz,"getStringListFromEnv",{enumerable:!0,get:function(){return uq.getStringListFromEnv}})});var ic0=B((pc0)=>{Object.defineProperty(pc0,"__esModule",{value:!0});pc0.addHrTimes=pc0.isTimeInput=pc0.isTimeInputHrTime=pc0.hrTimeToMicroseconds=pc0.hrTimeToMilliseconds=pc0.hrTimeToNanoseconds=pc0.hrTimeToTimeStamp=pc0.hrTimeDuration=pc0.timeInputToHrTime=pc0.hrTime=pc0.getTimeOrigin=pc0.millisToHrTime=void 0;var r$1=a$1(),mc0=9,aj8=6,rj8=Math.pow(10,aj8),ix=Math.pow(10,mc0);function Z2(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*rj8);return[X,Y]}pc0.millisToHrTime=Z2;function t$1(){let J=r$1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=r$1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}pc0.getTimeOrigin=t$1;function cc0(J){let Z=Z2(t$1()),X=Z2(typeof J==="number"?J:r$1.otperformance.now());return lc0(Z,X)}pc0.hrTime=cc0;function tj8(J){if(e$1(J))return J;else if(typeof J==="number")if(J<t$1())return cc0(J);else return Z2(J);else if(J instanceof Date)return Z2(J.getTime());else throw TypeError("Invalid input type")}pc0.timeInputToHrTime=tj8;function ej8(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=ix;return[X,Y]}pc0.hrTimeDuration=ej8;function JR8(J){let Z=mc0,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}pc0.hrTimeToTimeStamp=JR8;function ZR8(J){return J[0]*ix+J[1]}pc0.hrTimeToNanoseconds=ZR8;function XR8(J){return J[0]*1000+J[1]/1e6}pc0.hrTimeToMilliseconds=XR8;function YR8(J){return J[0]*1e6+J[1]/1000}pc0.hrTimeToMicroseconds=YR8;function e$1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}pc0.isTimeInputHrTime=e$1;function $R8(J){return e$1(J)||typeof J==="number"||J instanceof Date}pc0.isTimeInput=$R8;function lc0(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=ix)X[1]-=ix,X[0]+=1;return X}pc0.addHrTimes=lc0});var sc0=B((oc0)=>{Object.defineProperty(oc0,"__esModule",{value:!0});oc0.ExportResultCode=void 0;var DR8;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(DR8=oc0.ExportResultCode||(oc0.ExportResultCode={}))});var Jl0=B((tc0)=>{Object.defineProperty(tc0,"__esModule",{value:!0});tc0.CompositePropagator=void 0;var ac0=C();class rc0{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){ac0.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){ac0.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}tc0.CompositePropagator=rc0});var Yl0=B((Zl0)=>{Object.defineProperty(Zl0,"__esModule",{value:!0});Zl0.validateValue=Zl0.validateKey=void 0;var Zz1="[_0-9a-z-*/]",VR8=`[a-z]${Zz1}{0,255}`,IR8=`[a-z0-9]${Zz1}{0,240}@[a-z]${Zz1}{0,13}`,wR8=new RegExp(`^(?:${VR8}|${IR8})$`),AR8=/^[ -~]{0,255}[!-~]$/,MR8=/,|=/;function NR8(J){return wR8.test(J)}Zl0.validateKey=NR8;function PR8(J){return AR8.test(J)&&!MR8.test(J)}Zl0.validateValue=PR8});var Yz1=B((Gl0)=>{Object.defineProperty(Gl0,"__esModule",{value:!0});Gl0.TraceState=void 0;var $l0=Yl0(),zl0=32,CR8=512,Wl0=",",Ql0="=";class Xz1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+Ql0+this.get(Z)),J},[]).join(Wl0)}_parse(J){if(J.length>CR8)return;if(this._internalState=J.split(Wl0).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(Ql0);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,$l0.validateKey)(z)&&(0,$l0.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>zl0)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,zl0))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new Xz1;return J._internalState=new Map(this._internalState),J}}Gl0.TraceState=Xz1});var Ul0=B((Hl0)=>{Object.defineProperty(Hl0,"__esModule",{value:!0});Hl0.W3CTraceContextPropagator=Hl0.parseTraceParent=Hl0.TRACE_STATE_HEADER=Hl0.TRACE_PARENT_HEADER=void 0;var ox=C(),jR8=J2(),RR8=Yz1();Hl0.TRACE_PARENT_HEADER="traceparent";Hl0.TRACE_STATE_HEADER="tracestate";var ER8="00",SR8="(?!ff)[\\da-f]{2}",TR8="(?![0]{32})[\\da-f]{32}",fR8="(?![0]{16})[\\da-f]{16}",kR8="[\\da-f]{2}",bR8=new RegExp(`^\\s?(${SR8})-(${TR8})-(${fR8})-(${kR8})(-.*)?\\s?$`);function ql0(J){let Z=bR8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}Hl0.parseTraceParent=ql0;class Bl0{inject(J,Z,X){let Y=ox.trace.getSpanContext(J);if(!Y||(0,jR8.isTracingSuppressed)(J)||!(0,ox.isSpanContextValid)(Y))return;let $=`${ER8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||ox.TraceFlags.NONE).toString(16)}`;if(X.set(Z,Hl0.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,Hl0.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,Hl0.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=ql0($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,Hl0.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new RR8.TraceState(typeof Q==="string"?Q:void 0)}return ox.trace.setSpanContext(J,z)}fields(){return[Hl0.TRACE_PARENT_HEADER,Hl0.TRACE_STATE_HEADER]}}Hl0.W3CTraceContextPropagator=Bl0});var Il0=B((Dl0)=>{Object.defineProperty(Dl0,"__esModule",{value:!0});Dl0.getRPCMetadata=Dl0.deleteRPCMetadata=Dl0.setRPCMetadata=Dl0.RPCType=void 0;var _R8=C(),$z1=(0,_R8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),yR8;(function(J){J.HTTP="http"})(yR8=Dl0.RPCType||(Dl0.RPCType={}));function vR8(J,Z){return J.setValue($z1,Z)}Dl0.setRPCMetadata=vR8;function xR8(J){return J.deleteValue($z1)}Dl0.deleteRPCMetadata=xR8;function gR8(J){return J.getValue($z1)}Dl0.getRPCMetadata=gR8});var Cl0=B((Pl0)=>{Object.defineProperty(Pl0,"__esModule",{value:!0});Pl0.isPlainObject=void 0;var mR8="[object Object]",cR8="[object Null]",lR8="[object Undefined]",pR8=Function.prototype,wl0=pR8.toString,nR8=wl0.call(Object),iR8=Object.getPrototypeOf,Al0=Object.prototype,Ml0=Al0.hasOwnProperty,vU=Symbol?Symbol.toStringTag:void 0,Nl0=Al0.toString;function oR8(J){if(!sR8(J)||aR8(J)!==mR8)return!1;let Z=iR8(J);if(Z===null)return!0;let X=Ml0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&wl0.call(X)===nR8}Pl0.isPlainObject=oR8;function sR8(J){return J!=null&&typeof J=="object"}function aR8(J){if(J==null)return J===void 0?lR8:cR8;return vU&&vU in Object(J)?rR8(J):tR8(J)}function rR8(J){let Z=Ml0.call(J,vU),X=J[vU],Y=!1;try{J[vU]=void 0,Y=!0}catch(z){}let $=Nl0.call(J);if(Y)if(Z)J[vU]=X;else delete J[vU];return $}function tR8(J){return Nl0.call(J)}});var kl0=B((Tl0)=>{Object.defineProperty(Tl0,"__esModule",{value:!0});Tl0.merge=void 0;var jl0=Cl0(),eR8=20;function JE8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=El0(Z,J.shift(),0,X);return Z}Tl0.merge=JE8;function zz1(J){if(tx(J))return J.slice();return J}function El0(J,Z,X=0,Y){let $;if(X>eR8)return;if(X++,rx(J)||rx(Z)||Sl0(Z))$=zz1(Z);else if(tx(J)){if($=J.slice(),tx(Z))for(let z=0,W=Z.length;z<W;z++)$.push(zz1(Z[z]));else if(X2(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=zz1(Z[G])}}}else if(X2(J))if(X2(Z)){if(!ZE8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(rx(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(Rl0(J,G,Y)||Rl0(Z,G,Y))delete $[G];else{if(X2(q)&&X2(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=El0($[G],K,X,Y)}}}}else $=Z;return $}function Rl0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function tx(J){return Array.isArray(J)}function Sl0(J){return typeof J==="function"}function X2(J){return!rx(J)&&!tx(J)&&!Sl0(J)&&typeof J==="object"}function rx(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function ZE8(J,Z){if(!(0,jl0.isPlainObject)(J)||!(0,jl0.isPlainObject)(Z))return!1;return!0}});var _l0=B((bl0)=>{Object.defineProperty(bl0,"__esModule",{value:!0});bl0.callWithTimeout=bl0.TimeoutError=void 0;class ex extends Error{constructor(J){super(J);Object.setPrototypeOf(this,ex.prototype)}}bl0.TimeoutError=ex;function XE8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new ex("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}bl0.callWithTimeout=XE8});var gl0=B((vl0)=>{Object.defineProperty(vl0,"__esModule",{value:!0});vl0.isUrlIgnored=vl0.urlMatches=void 0;function yl0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}vl0.urlMatches=yl0;function $E8(J,Z){if(!Z)return!1;for(let X of Z)if(yl0(J,X))return!0;return!1}vl0.isUrlIgnored=$E8});var cl0=B((ul0)=>{Object.defineProperty(ul0,"__esModule",{value:!0});ul0.Deferred=void 0;class dl0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}ul0.Deferred=dl0});var il0=B((pl0)=>{Object.defineProperty(pl0,"__esModule",{value:!0});pl0.BindOnceFuture=void 0;var WE8=cl0();class ll0{_callback;_that;_isCalled=!1;_deferred=new WE8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}pl0.BindOnceFuture=ll0});var rl0=B((sl0)=>{Object.defineProperty(sl0,"__esModule",{value:!0});sl0.diagLogLevelFromString=void 0;var RG=C(),ol0={ALL:RG.DiagLogLevel.ALL,VERBOSE:RG.DiagLogLevel.VERBOSE,DEBUG:RG.DiagLogLevel.DEBUG,INFO:RG.DiagLogLevel.INFO,WARN:RG.DiagLogLevel.WARN,ERROR:RG.DiagLogLevel.ERROR,NONE:RG.DiagLogLevel.NONE};function QE8(J){if(J==null)return;let Z=ol0[J.toUpperCase()];if(Z==null)return RG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(ol0)}, using default`),RG.DiagLogLevel.INFO;return Z}sl0.diagLogLevelFromString=QE8});var Zp0=B((el0)=>{Object.defineProperty(el0,"__esModule",{value:!0});el0._export=void 0;var tl0=C(),GE8=J2();function KE8(J,Z){return new Promise((X)=>{tl0.context.with((0,GE8.suppressTracing)(tl0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}el0._export=KE8});var Qp0=B((f0)=>{Object.defineProperty(f0,"__esModule",{value:!0});f0.internal=f0.diagLogLevelFromString=f0.BindOnceFuture=f0.urlMatches=f0.isUrlIgnored=f0.callWithTimeout=f0.TimeoutError=f0.merge=f0.TraceState=f0.unsuppressTracing=f0.suppressTracing=f0.isTracingSuppressed=f0.setRPCMetadata=f0.getRPCMetadata=f0.deleteRPCMetadata=f0.RPCType=f0.parseTraceParent=f0.W3CTraceContextPropagator=f0.TRACE_STATE_HEADER=f0.TRACE_PARENT_HEADER=f0.CompositePropagator=f0.unrefTimer=f0.otperformance=f0.getStringListFromEnv=f0.getNumberFromEnv=f0.getBooleanFromEnv=f0.getStringFromEnv=f0._globalThis=f0.SDK_INFO=f0.parseKeyPairsIntoRecord=f0.ExportResultCode=f0.timeInputToHrTime=f0.millisToHrTime=f0.isTimeInputHrTime=f0.isTimeInput=f0.hrTimeToTimeStamp=f0.hrTimeToNanoseconds=f0.hrTimeToMilliseconds=f0.hrTimeToMicroseconds=f0.hrTimeDuration=f0.hrTime=f0.getTimeOrigin=f0.addHrTimes=f0.loggingErrorHandler=f0.setGlobalErrorHandler=f0.globalErrorHandler=f0.sanitizeAttributes=f0.isAttributeValue=f0.AnchoredClock=f0.W3CBaggagePropagator=void 0;var qE8=em0();Object.defineProperty(f0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return qE8.W3CBaggagePropagator}});var BE8=Yc0();Object.defineProperty(f0,"AnchoredClock",{enumerable:!0,get:function(){return BE8.AnchoredClock}});var Xp0=qc0();Object.defineProperty(f0,"isAttributeValue",{enumerable:!0,get:function(){return Xp0.isAttributeValue}});Object.defineProperty(f0,"sanitizeAttributes",{enumerable:!0,get:function(){return Xp0.sanitizeAttributes}});var Yp0=Dc0();Object.defineProperty(f0,"globalErrorHandler",{enumerable:!0,get:function(){return Yp0.globalErrorHandler}});Object.defineProperty(f0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return Yp0.setGlobalErrorHandler}});var HE8=s$1();Object.defineProperty(f0,"loggingErrorHandler",{enumerable:!0,get:function(){return HE8.loggingErrorHandler}});var rZ=ic0();Object.defineProperty(f0,"addHrTimes",{enumerable:!0,get:function(){return rZ.addHrTimes}});Object.defineProperty(f0,"getTimeOrigin",{enumerable:!0,get:function(){return rZ.getTimeOrigin}});Object.defineProperty(f0,"hrTime",{enumerable:!0,get:function(){return rZ.hrTime}});Object.defineProperty(f0,"hrTimeDuration",{enumerable:!0,get:function(){return rZ.hrTimeDuration}});Object.defineProperty(f0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return rZ.hrTimeToMicroseconds}});Object.defineProperty(f0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return rZ.hrTimeToMilliseconds}});Object.defineProperty(f0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return rZ.hrTimeToNanoseconds}});Object.defineProperty(f0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return rZ.hrTimeToTimeStamp}});Object.defineProperty(f0,"isTimeInput",{enumerable:!0,get:function(){return rZ.isTimeInput}});Object.defineProperty(f0,"isTimeInputHrTime",{enumerable:!0,get:function(){return rZ.isTimeInputHrTime}});Object.defineProperty(f0,"millisToHrTime",{enumerable:!0,get:function(){return rZ.millisToHrTime}});Object.defineProperty(f0,"timeInputToHrTime",{enumerable:!0,get:function(){return rZ.timeInputToHrTime}});var FE8=sc0();Object.defineProperty(f0,"ExportResultCode",{enumerable:!0,get:function(){return FE8.ExportResultCode}});var UE8=n$1();Object.defineProperty(f0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return UE8.parseKeyPairsIntoRecord}});var mq=a$1();Object.defineProperty(f0,"SDK_INFO",{enumerable:!0,get:function(){return mq.SDK_INFO}});Object.defineProperty(f0,"_globalThis",{enumerable:!0,get:function(){return mq._globalThis}});Object.defineProperty(f0,"getStringFromEnv",{enumerable:!0,get:function(){return mq.getStringFromEnv}});Object.defineProperty(f0,"getBooleanFromEnv",{enumerable:!0,get:function(){return mq.getBooleanFromEnv}});Object.defineProperty(f0,"getNumberFromEnv",{enumerable:!0,get:function(){return mq.getNumberFromEnv}});Object.defineProperty(f0,"getStringListFromEnv",{enumerable:!0,get:function(){return mq.getStringListFromEnv}});Object.defineProperty(f0,"otperformance",{enumerable:!0,get:function(){return mq.otperformance}});Object.defineProperty(f0,"unrefTimer",{enumerable:!0,get:function(){return mq.unrefTimer}});var OE8=Jl0();Object.defineProperty(f0,"CompositePropagator",{enumerable:!0,get:function(){return OE8.CompositePropagator}});var Jg=Ul0();Object.defineProperty(f0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return Jg.TRACE_PARENT_HEADER}});Object.defineProperty(f0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return Jg.TRACE_STATE_HEADER}});Object.defineProperty(f0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return Jg.W3CTraceContextPropagator}});Object.defineProperty(f0,"parseTraceParent",{enumerable:!0,get:function(){return Jg.parseTraceParent}});var Zg=Il0();Object.defineProperty(f0,"RPCType",{enumerable:!0,get:function(){return Zg.RPCType}});Object.defineProperty(f0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Zg.deleteRPCMetadata}});Object.defineProperty(f0,"getRPCMetadata",{enumerable:!0,get:function(){return Zg.getRPCMetadata}});Object.defineProperty(f0,"setRPCMetadata",{enumerable:!0,get:function(){return Zg.setRPCMetadata}});var Wz1=J2();Object.defineProperty(f0,"isTracingSuppressed",{enumerable:!0,get:function(){return Wz1.isTracingSuppressed}});Object.defineProperty(f0,"suppressTracing",{enumerable:!0,get:function(){return Wz1.suppressTracing}});Object.defineProperty(f0,"unsuppressTracing",{enumerable:!0,get:function(){return Wz1.unsuppressTracing}});var DE8=Yz1();Object.defineProperty(f0,"TraceState",{enumerable:!0,get:function(){return DE8.TraceState}});var VE8=kl0();Object.defineProperty(f0,"merge",{enumerable:!0,get:function(){return VE8.merge}});var $p0=_l0();Object.defineProperty(f0,"TimeoutError",{enumerable:!0,get:function(){return $p0.TimeoutError}});Object.defineProperty(f0,"callWithTimeout",{enumerable:!0,get:function(){return $p0.callWithTimeout}});var zp0=gl0();Object.defineProperty(f0,"isUrlIgnored",{enumerable:!0,get:function(){return zp0.isUrlIgnored}});Object.defineProperty(f0,"urlMatches",{enumerable:!0,get:function(){return zp0.urlMatches}});var IE8=il0();Object.defineProperty(f0,"BindOnceFuture",{enumerable:!0,get:function(){return IE8.BindOnceFuture}});var wE8=rl0();Object.defineProperty(f0,"diagLogLevelFromString",{enumerable:!0,get:function(){return wE8.diagLogLevelFromString}});var AE8=Zp0();f0.internal={_export:AE8._export}});var Hp0=B((qp0)=>{Object.defineProperty(qp0,"__esModule",{value:!0});qp0.UndiciInstrumentation=void 0;var Qz1=p("diagnostics_channel"),ME8=p("url"),Y2=J6(),EJ=C(),Gp0=gm0(),x5=mm0(),Xg=Qp0();class Kp0 extends Y2.InstrumentationBase{_recordFromReq=new WeakMap;constructor(J={}){super(Gp0.PACKAGE_NAME,Gp0.PACKAGE_VERSION,J)}init(){return}disable(){super.disable(),this._channelSubs.forEach((J)=>J.unsubscribe()),this._channelSubs.length=0}enable(){if(super.enable(),this._channelSubs=this._channelSubs||[],this._channelSubs.length>0)return;this.subscribeToChannel("undici:request:create",this.onRequestCreated.bind(this)),this.subscribeToChannel("undici:client:sendHeaders",this.onRequestHeaders.bind(this)),this.subscribeToChannel("undici:request:headers",this.onResponseHeaders.bind(this)),this.subscribeToChannel("undici:request:trailers",this.onDone.bind(this)),this.subscribeToChannel("undici:request:error",this.onError.bind(this))}_updateMetricInstruments(){this._httpClientDurationHistogram=this.meter.createHistogram("http.client.request.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"s",valueType:EJ.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[0.005,0.01,0.025,0.05,0.075,0.1,0.25,0.5,0.75,1,2.5,5,7.5,10]}})}subscribeToChannel(J,Z){let[X,Y]=process.version.replace("v","").split(".").map((W)=>Number(W)),$=X>18||X===18&&Y>=19,z;if($)Qz1.subscribe?.(J,Z),z=()=>Qz1.unsubscribe?.(J,Z);else{let W=Qz1.channel(J);W.subscribe(Z),z=()=>W.unsubscribe(Z)}this._channelSubs.push({name:J,unsubscribe:z})}onRequestCreated({request:J}){let Z=this.getConfig(),X=Z.enabled!==!1;if((0,Y2.safeExecuteInTheMiddle)(()=>!X||J.method==="CONNECT"||Z.ignoreRequestHook?.(J),(f)=>f&&this._diag.error("caught ignoreRequestHook error: ",f),!0))return;let $=(0,Xg.hrTime)(),z;try{z=new ME8.URL(J.path,J.origin)}catch(f){this._diag.warn("could not determine url.full:",f);return}let W=z.protocol.replace(":",""),Q=this.getRequestMethod(J.method),G={[x5.SemanticAttributes.HTTP_REQUEST_METHOD]:Q,[x5.SemanticAttributes.HTTP_REQUEST_METHOD_ORIGINAL]:J.method,[x5.SemanticAttributes.URL_FULL]:z.toString(),[x5.SemanticAttributes.URL_PATH]:z.pathname,[x5.SemanticAttributes.URL_QUERY]:z.search,[x5.SemanticAttributes.URL_SCHEME]:W},K={https:"443",http:"80"},q=z.hostname,H=z.port||K[W];if(G[x5.SemanticAttributes.SERVER_ADDRESS]=q,H&&!isNaN(Number(H)))G[x5.SemanticAttributes.SERVER_PORT]=Number(H);let F;if(Array.isArray(J.headers)){let f=J.headers.findIndex((d)=>d.toLowerCase()==="user-agent");if(f>=0)F=J.headers[f+1]}else if(typeof J.headers==="string"){let d=J.headers.split(`\r
`).find((v)=>v.toLowerCase().startsWith("user-agent"));F=d&&d.substring(d.indexOf(":")+1).trim()}if(F)G[x5.SemanticAttributes.USER_AGENT_ORIGINAL]=F;let U=(0,Y2.safeExecuteInTheMiddle)(()=>Z.startSpanHook?.(J),(f)=>f&&this._diag.error("caught startSpanHook error: ",f),!0);if(U)Object.entries(U).forEach(([f,d])=>{G[f]=d});let D=EJ.context.active(),V=EJ.trace.getSpan(D),w;if(Z.requireParentforSpans&&(!V||!EJ.trace.isSpanContextValid(V.spanContext())))w=EJ.trace.wrapSpanContext(EJ.INVALID_SPAN_CONTEXT);else w=this.tracer.startSpan(Q==="_OTHER"?"HTTP":Q,{kind:EJ.SpanKind.CLIENT,attributes:G},D);(0,Y2.safeExecuteInTheMiddle)(()=>Z.requestHook?.(w,J),(f)=>f&&this._diag.error("caught requestHook error: ",f),!0);let M=EJ.trace.setSpan(EJ.context.active(),w),P={};EJ.propagation.inject(M,P);let R=Object.entries(P);for(let f=0;f<R.length;f++){let[d,v]=R[f];if(typeof J.addHeader==="function")J.addHeader(d,v);else if(typeof J.headers==="string")J.headers+=`${d}: ${v}\r
`;else if(Array.isArray(J.headers))J.headers.push(d,v)}this._recordFromReq.set(J,{span:w,attributes:G,startTime:$})}onRequestHeaders({request:J,socket:Z}){let X=this._recordFromReq.get(J);if(!X)return;let Y=this.getConfig(),{span:$}=X,{remoteAddress:z,remotePort:W}=Z,Q={[x5.SemanticAttributes.NETWORK_PEER_ADDRESS]:z,[x5.SemanticAttributes.NETWORK_PEER_PORT]:W};if(Y.headersToSpanAttributes?.requestHeaders){let G=new Set(Y.headersToSpanAttributes.requestHeaders.map((q)=>q.toLowerCase())),K=Array.isArray(J.headers)?J.headers:J.headers.split(`\r
`);K.forEach((q,H)=>{let F=q.indexOf(":"),U=F!==-1,D=(U?q.substring(0,F):q).toLowerCase(),V=U?q.substring(F+1):K[H+1];if(G.has(D))Q[`http.request.header.${D}`]=V.trim()})}$.setAttributes(Q)}onResponseHeaders({request:J,response:Z}){let X=this._recordFromReq.get(J);if(!X)return;let{span:Y,attributes:$}=X,z={[x5.SemanticAttributes.HTTP_RESPONSE_STATUS_CODE]:Z.statusCode},W=this.getConfig();(0,Y2.safeExecuteInTheMiddle)(()=>W.responseHook?.(Y,{request:J,response:Z}),(G)=>G&&this._diag.error("caught responseHook error: ",G),!0);let Q=new Set;if(W.headersToSpanAttributes?.responseHeaders)W.headersToSpanAttributes?.responseHeaders.forEach((G)=>Q.add(G.toLowerCase()));for(let G=0;G<Z.headers.length;G=G+2){let K=Z.headers[G].toString().toLowerCase(),q=Z.headers[G+1];if(Q.has(K))z[`http.response.header.${K}`]=q.toString();if(K==="content-length"){let H=Number(q.toString());if(!isNaN(H))z["http.response.header.content-length"]=H}}Y.setAttributes(z),Y.setStatus({code:Z.statusCode>=400?EJ.SpanStatusCode.ERROR:EJ.SpanStatusCode.UNSET}),X.attributes=Object.assign($,z)}onDone({request:J}){let Z=this._recordFromReq.get(J);if(!Z)return;let{span:X,attributes:Y,startTime:$}=Z;X.end(),this._recordFromReq.delete(J),this.recordRequestDuration(Y,$)}onError({request:J,error:Z}){let X=this._recordFromReq.get(J);if(!X)return;let{span:Y,attributes:$,startTime:z}=X;Y.recordException(Z),Y.setStatus({code:EJ.SpanStatusCode.ERROR,message:Z.message}),Y.end(),this._recordFromReq.delete(J),$[x5.SemanticAttributes.ERROR_TYPE]=Z.message,this.recordRequestDuration($,z)}recordRequestDuration(J,Z){let X={};[x5.SemanticAttributes.HTTP_RESPONSE_STATUS_CODE,x5.SemanticAttributes.HTTP_REQUEST_METHOD,x5.SemanticAttributes.SERVER_ADDRESS,x5.SemanticAttributes.SERVER_PORT,x5.SemanticAttributes.URL_SCHEME,x5.SemanticAttributes.ERROR_TYPE].forEach((z)=>{if(z in J)X[z]=J[z]});let $=(0,Xg.hrTimeToMilliseconds)((0,Xg.hrTimeDuration)(Z,(0,Xg.hrTime)()))/1000;this._httpClientDurationHistogram.record($,X)}getRequestMethod(J){let Z={CONNECT:!0,OPTIONS:!0,HEAD:!0,GET:!0,POST:!0,PUT:!0,PATCH:!0,DELETE:!0,TRACE:!0};if(J.toUpperCase()in Z)return J.toUpperCase();return"_OTHER"}}qp0.UndiciInstrumentation=Kp0});var Up0=B((Fp0)=>{Object.defineProperty(Fp0,"__esModule",{value:!0})});var Dp0=B((cq)=>{var NE8=cq&&cq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),Op0=cq&&cq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))NE8(Z,J,X)};Object.defineProperty(cq,"__esModule",{value:!0});Op0(Hp0(),cq);Op0(Up0(),cq)});var Ip0=B((Vp0)=>{Object.defineProperty(Vp0,"__esModule",{value:!0});Vp0.SeverityNumber=void 0;var PE8;(function(J){J[J.UNSPECIFIED=0]="UNSPECIFIED",J[J.TRACE=1]="TRACE",J[J.TRACE2=2]="TRACE2",J[J.TRACE3=3]="TRACE3",J[J.TRACE4=4]="TRACE4",J[J.DEBUG=5]="DEBUG",J[J.DEBUG2=6]="DEBUG2",J[J.DEBUG3=7]="DEBUG3",J[J.DEBUG4=8]="DEBUG4",J[J.INFO=9]="INFO",J[J.INFO2=10]="INFO2",J[J.INFO3=11]="INFO3",J[J.INFO4=12]="INFO4",J[J.WARN=13]="WARN",J[J.WARN2=14]="WARN2",J[J.WARN3=15]="WARN3",J[J.WARN4=16]="WARN4",J[J.ERROR=17]="ERROR",J[J.ERROR2=18]="ERROR2",J[J.ERROR3=19]="ERROR3",J[J.ERROR4=20]="ERROR4",J[J.FATAL=21]="FATAL",J[J.FATAL2=22]="FATAL2",J[J.FATAL3=23]="FATAL3",J[J.FATAL4=24]="FATAL4"})(PE8=Vp0.SeverityNumber||(Vp0.SeverityNumber={}))});var Yg=B((wp0)=>{Object.defineProperty(wp0,"__esModule",{value:!0});wp0.NOOP_LOGGER=wp0.NoopLogger=void 0;class Kz1{emit(J){}}wp0.NoopLogger=Kz1;wp0.NOOP_LOGGER=new Kz1});var $g=B((Mp0)=>{Object.defineProperty(Mp0,"__esModule",{value:!0});Mp0.NOOP_LOGGER_PROVIDER=Mp0.NoopLoggerProvider=void 0;var CE8=Yg();class qz1{getLogger(J,Z,X){return new CE8.NoopLogger}}Mp0.NoopLoggerProvider=qz1;Mp0.NOOP_LOGGER_PROVIDER=new qz1});var Bz1=B((Lp0)=>{Object.defineProperty(Lp0,"__esModule",{value:!0});Lp0.ProxyLogger=void 0;var RE8=Yg();class Pp0{constructor(J,Z,X,Y){this._provider=J,this.name=Z,this.version=X,this.options=Y}emit(J){this._getLogger().emit(J)}_getLogger(){if(this._delegate)return this._delegate;let J=this._provider.getDelegateLogger(this.name,this.version,this.options);if(!J)return RE8.NOOP_LOGGER;return this._delegate=J,this._delegate}}Lp0.ProxyLogger=Pp0});var Hz1=B((Rp0)=>{Object.defineProperty(Rp0,"__esModule",{value:!0});Rp0.ProxyLoggerProvider=void 0;var EE8=$g(),SE8=Bz1();class jp0{getLogger(J,Z,X){var Y;return(Y=this.getDelegateLogger(J,Z,X))!==null&&Y!==void 0?Y:new SE8.ProxyLogger(this,J,Z,X)}getDelegate(){var J;return(J=this._delegate)!==null&&J!==void 0?J:EE8.NOOP_LOGGER_PROVIDER}setDelegate(J){this._delegate=J}getDelegateLogger(J,Z,X){var Y;return(Y=this._delegate)===null||Y===void 0?void 0:Y.getLogger(J,Z,X)}}Rp0.ProxyLoggerProvider=jp0});var fp0=B((Sp0)=>{Object.defineProperty(Sp0,"__esModule",{value:!0});Sp0._globalThis=void 0;Sp0._globalThis=typeof globalThis==="object"?globalThis:global});var kp0=B((Fz1)=>{Object.defineProperty(Fz1,"__esModule",{value:!0});Fz1._globalThis=void 0;var TE8=fp0();Object.defineProperty(Fz1,"_globalThis",{enumerable:!0,get:function(){return TE8._globalThis}})});var bp0=B((Uz1)=>{Object.defineProperty(Uz1,"__esModule",{value:!0});Uz1._globalThis=void 0;var kE8=kp0();Object.defineProperty(Uz1,"_globalThis",{enumerable:!0,get:function(){return kE8._globalThis}})});var yp0=B((hp0)=>{Object.defineProperty(hp0,"__esModule",{value:!0});hp0.API_BACKWARDS_COMPATIBILITY_VERSION=hp0.makeGetter=hp0._global=hp0.GLOBAL_LOGS_API_KEY=void 0;var hE8=bp0();hp0.GLOBAL_LOGS_API_KEY=Symbol.for("io.opentelemetry.js.api.logs");hp0._global=hE8._globalThis;function _E8(J,Z,X){return(Y)=>Y===J?Z:X}hp0.makeGetter=_E8;hp0.API_BACKWARDS_COMPATIBILITY_VERSION=1});var dp0=B((xp0)=>{Object.defineProperty(xp0,"__esModule",{value:!0});xp0.LogsAPI=void 0;var tZ=yp0(),gE8=$g(),vp0=Hz1();class Oz1{constructor(){this._proxyLoggerProvider=new vp0.ProxyLoggerProvider}static getInstance(){if(!this._instance)this._instance=new Oz1;return this._instance}setGlobalLoggerProvider(J){if(tZ._global[tZ.GLOBAL_LOGS_API_KEY])return this.getLoggerProvider();return tZ._global[tZ.GLOBAL_LOGS_API_KEY]=(0,tZ.makeGetter)(tZ.API_BACKWARDS_COMPATIBILITY_VERSION,J,gE8.NOOP_LOGGER_PROVIDER),this._proxyLoggerProvider.setDelegate(J),J}getLoggerProvider(){var J,Z;return(Z=(J=tZ._global[tZ.GLOBAL_LOGS_API_KEY])===null||J===void 0?void 0:J.call(tZ._global,tZ.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&Z!==void 0?Z:this._proxyLoggerProvider}getLogger(J,Z,X){return this.getLoggerProvider().getLogger(J,Z,X)}disable(){delete tZ._global[tZ.GLOBAL_LOGS_API_KEY],this._proxyLoggerProvider=new vp0.ProxyLoggerProvider}}xp0.LogsAPI=Oz1});var lp0=B((EG)=>{Object.defineProperty(EG,"__esModule",{value:!0});EG.logs=EG.ProxyLoggerProvider=EG.ProxyLogger=EG.NoopLoggerProvider=EG.NOOP_LOGGER_PROVIDER=EG.NoopLogger=EG.NOOP_LOGGER=EG.SeverityNumber=void 0;var dE8=Ip0();Object.defineProperty(EG,"SeverityNumber",{enumerable:!0,get:function(){return dE8.SeverityNumber}});var up0=Yg();Object.defineProperty(EG,"NOOP_LOGGER",{enumerable:!0,get:function(){return up0.NOOP_LOGGER}});Object.defineProperty(EG,"NoopLogger",{enumerable:!0,get:function(){return up0.NoopLogger}});var mp0=$g();Object.defineProperty(EG,"NOOP_LOGGER_PROVIDER",{enumerable:!0,get:function(){return mp0.NOOP_LOGGER_PROVIDER}});Object.defineProperty(EG,"NoopLoggerProvider",{enumerable:!0,get:function(){return mp0.NoopLoggerProvider}});var uE8=Bz1();Object.defineProperty(EG,"ProxyLogger",{enumerable:!0,get:function(){return uE8.ProxyLogger}});var mE8=Hz1();Object.defineProperty(EG,"ProxyLoggerProvider",{enumerable:!0,get:function(){return mE8.ProxyLoggerProvider}});var cE8=dp0();EG.logs=cE8.LogsAPI.getInstance()});var ip0=B((pp0)=>{Object.defineProperty(pp0,"__esModule",{value:!0});pp0.PACKAGE_NAME=pp0.PACKAGE_VERSION=void 0;pp0.PACKAGE_VERSION="0.46.0";pp0.PACKAGE_NAME="@opentelemetry/instrumentation-winston"});var sp0=B((op0)=>{Object.defineProperty(op0,"__esModule",{value:!0});op0.SeverityNumber=void 0;var pE8;(function(J){J[J.UNSPECIFIED=0]="UNSPECIFIED",J[J.TRACE=1]="TRACE",J[J.TRACE2=2]="TRACE2",J[J.TRACE3=3]="TRACE3",J[J.TRACE4=4]="TRACE4",J[J.DEBUG=5]="DEBUG",J[J.DEBUG2=6]="DEBUG2",J[J.DEBUG3=7]="DEBUG3",J[J.DEBUG4=8]="DEBUG4",J[J.INFO=9]="INFO",J[J.INFO2=10]="INFO2",J[J.INFO3=11]="INFO3",J[J.INFO4=12]="INFO4",J[J.WARN=13]="WARN",J[J.WARN2=14]="WARN2",J[J.WARN3=15]="WARN3",J[J.WARN4=16]="WARN4",J[J.ERROR=17]="ERROR",J[J.ERROR2=18]="ERROR2",J[J.ERROR3=19]="ERROR3",J[J.ERROR4=20]="ERROR4",J[J.FATAL=21]="FATAL",J[J.FATAL2=22]="FATAL2",J[J.FATAL3=23]="FATAL3",J[J.FATAL4=24]="FATAL4"})(pE8=op0.SeverityNumber||(op0.SeverityNumber={}))});var zg=B((ap0)=>{Object.defineProperty(ap0,"__esModule",{value:!0});ap0.NOOP_LOGGER=ap0.NoopLogger=void 0;class Vz1{emit(J){}}ap0.NoopLogger=Vz1;ap0.NOOP_LOGGER=new Vz1});var Wg=B((tp0)=>{Object.defineProperty(tp0,"__esModule",{value:!0});tp0.NOOP_LOGGER_PROVIDER=tp0.NoopLoggerProvider=void 0;var iE8=zg();class Iz1{getLogger(J,Z,X){return new iE8.NoopLogger}}tp0.NoopLoggerProvider=Iz1;tp0.NOOP_LOGGER_PROVIDER=new Iz1});var wz1=B((Zn0)=>{Object.defineProperty(Zn0,"__esModule",{value:!0});Zn0.ProxyLogger=void 0;var sE8=zg();class Jn0{constructor(J,Z,X,Y){this._provider=J,this.name=Z,this.version=X,this.options=Y}emit(J){this._getLogger().emit(J)}_getLogger(){if(this._delegate)return this._delegate;let J=this._provider.getDelegateLogger(this.name,this.version,this.options);if(!J)return sE8.NOOP_LOGGER;return this._delegate=J,this._delegate}}Zn0.ProxyLogger=Jn0});var Az1=B(($n0)=>{Object.defineProperty($n0,"__esModule",{value:!0});$n0.ProxyLoggerProvider=void 0;var aE8=Wg(),rE8=wz1();class Yn0{getLogger(J,Z,X){var Y;return(Y=this.getDelegateLogger(J,Z,X))!==null&&Y!==void 0?Y:new rE8.ProxyLogger(this,J,Z,X)}getDelegate(){var J;return(J=this._delegate)!==null&&J!==void 0?J:aE8.NOOP_LOGGER_PROVIDER}setDelegate(J){this._delegate=J}getDelegateLogger(J,Z,X){var Y;return(Y=this._delegate)===null||Y===void 0?void 0:Y.getLogger(J,Z,X)}}$n0.ProxyLoggerProvider=Yn0});var Gn0=B((Wn0)=>{Object.defineProperty(Wn0,"__esModule",{value:!0});Wn0._globalThis=void 0;Wn0._globalThis=typeof globalThis==="object"?globalThis:global});var Kn0=B((Mz1)=>{Object.defineProperty(Mz1,"__esModule",{value:!0});Mz1._globalThis=void 0;var tE8=Gn0();Object.defineProperty(Mz1,"_globalThis",{enumerable:!0,get:function(){return tE8._globalThis}})});var qn0=B((Nz1)=>{Object.defineProperty(Nz1,"__esModule",{value:!0});Nz1._globalThis=void 0;var JS8=Kn0();Object.defineProperty(Nz1,"_globalThis",{enumerable:!0,get:function(){return JS8._globalThis}})});var Fn0=B((Bn0)=>{Object.defineProperty(Bn0,"__esModule",{value:!0});Bn0.API_BACKWARDS_COMPATIBILITY_VERSION=Bn0.makeGetter=Bn0._global=Bn0.GLOBAL_LOGS_API_KEY=void 0;var XS8=qn0();Bn0.GLOBAL_LOGS_API_KEY=Symbol.for("io.opentelemetry.js.api.logs");Bn0._global=XS8._globalThis;function YS8(J,Z,X){return(Y)=>Y===J?Z:X}Bn0.makeGetter=YS8;Bn0.API_BACKWARDS_COMPATIBILITY_VERSION=1});var Vn0=B((On0)=>{Object.defineProperty(On0,"__esModule",{value:!0});On0.LogsAPI=void 0;var eZ=Fn0(),QS8=Wg(),Un0=Az1();class Pz1{constructor(){this._proxyLoggerProvider=new Un0.ProxyLoggerProvider}static getInstance(){if(!this._instance)this._instance=new Pz1;return this._instance}setGlobalLoggerProvider(J){if(eZ._global[eZ.GLOBAL_LOGS_API_KEY])return this.getLoggerProvider();return eZ._global[eZ.GLOBAL_LOGS_API_KEY]=(0,eZ.makeGetter)(eZ.API_BACKWARDS_COMPATIBILITY_VERSION,J,QS8.NOOP_LOGGER_PROVIDER),this._proxyLoggerProvider.setDelegate(J),J}getLoggerProvider(){var J,Z;return(Z=(J=eZ._global[eZ.GLOBAL_LOGS_API_KEY])===null||J===void 0?void 0:J.call(eZ._global,eZ.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&Z!==void 0?Z:this._proxyLoggerProvider}getLogger(J,Z,X){return this.getLoggerProvider().getLogger(J,Z,X)}disable(){delete eZ._global[eZ.GLOBAL_LOGS_API_KEY],this._proxyLoggerProvider=new Un0.ProxyLoggerProvider}}On0.LogsAPI=Pz1});var Lz1=B((SG)=>{Object.defineProperty(SG,"__esModule",{value:!0});SG.logs=SG.ProxyLoggerProvider=SG.ProxyLogger=SG.NoopLoggerProvider=SG.NOOP_LOGGER_PROVIDER=SG.NoopLogger=SG.NOOP_LOGGER=SG.SeverityNumber=void 0;var GS8=sp0();Object.defineProperty(SG,"SeverityNumber",{enumerable:!0,get:function(){return GS8.SeverityNumber}});var In0=zg();Object.defineProperty(SG,"NOOP_LOGGER",{enumerable:!0,get:function(){return In0.NOOP_LOGGER}});Object.defineProperty(SG,"NoopLogger",{enumerable:!0,get:function(){return In0.NoopLogger}});var wn0=Wg();Object.defineProperty(SG,"NOOP_LOGGER_PROVIDER",{enumerable:!0,get:function(){return wn0.NOOP_LOGGER_PROVIDER}});Object.defineProperty(SG,"NoopLoggerProvider",{enumerable:!0,get:function(){return wn0.NoopLoggerProvider}});var KS8=wz1();Object.defineProperty(SG,"ProxyLogger",{enumerable:!0,get:function(){return KS8.ProxyLogger}});var qS8=Az1();Object.defineProperty(SG,"ProxyLoggerProvider",{enumerable:!0,get:function(){return qS8.ProxyLoggerProvider}});var BS8=Vn0();SG.logs=BS8.LogsAPI.getInstance()});var Nn0=B((xv9,Mn0)=>{Mn0.exports=p("util").deprecate});var jz1=B((gv9,Ln0)=>{function HS8(J,Z){var X=this,Y=this._readableState&&this._readableState.destroyed,$=this._writableState&&this._writableState.destroyed;if(Y||$){if(Z)Z(J);else if(J){if(!this._writableState)process.nextTick(Cz1,this,J);else if(!this._writableState.errorEmitted)this._writableState.errorEmitted=!0,process.nextTick(Cz1,this,J)}return this}if(this._readableState)this._readableState.destroyed=!0;if(this._writableState)this._writableState.destroyed=!0;return this._destroy(J||null,function(z){if(!Z&&z)if(!X._writableState)process.nextTick(Pn0,X,z);else if(!X._writableState.errorEmitted)X._writableState.errorEmitted=!0,process.nextTick(Pn0,X,z);else process.nextTick(Qg,X);else if(Z)process.nextTick(Qg,X),Z(z);else process.nextTick(Qg,X)}),this}function Pn0(J,Z){Cz1(J,Z),Qg(J)}function Qg(J){if(J._writableState&&!J._writableState.emitClose)return;if(J._readableState&&!J._readableState.emitClose)return;J.emit("close")}function FS8(){if(this._readableState)this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1;if(this._writableState)this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1}function Cz1(J,Z){J.emit("error",Z)}function US8(J,Z){var{_readableState:X,_writableState:Y}=J;if(X&&X.autoDestroy||Y&&Y.autoDestroy)J.destroy(Z);else J.emit("error",Z)}Ln0.exports={destroy:HS8,undestroy:FS8,errorOrDestroy:US8}});var fw=B((IS8,Rn0)=>{var jn0={};function JX(J,Z,X){if(!X)X=Error;function Y(z,W,Q){if(typeof Z==="string")return Z;else return Z(z,W,Q)}class $ extends X{constructor(z,W,Q){super(Y(z,W,Q))}}$.prototype.name=X.name,$.prototype.code=J,jn0[J]=$}function Cn0(J,Z){if(Array.isArray(J)){let X=J.length;if(J=J.map((Y)=>String(Y)),X>2)return`one of ${Z} ${J.slice(0,X-1).join(", ")}, or `+J[X-1];else if(X===2)return`one of ${Z} ${J[0]} or ${J[1]}`;else return`of ${Z} ${J[0]}`}else return`of ${Z} ${String(J)}`}function OS8(J,Z,X){return J.substr(!X||X<0?0:+X,Z.length)===Z}function DS8(J,Z,X){if(X===void 0||X>J.length)X=J.length;return J.substring(X-Z.length,X)===Z}function VS8(J,Z,X){if(typeof X!=="number")X=0;if(X+Z.length>J.length)return!1;else return J.indexOf(Z,X)!==-1}JX("ERR_INVALID_OPT_VALUE",function(J,Z){return'The value "'+Z+'" is invalid for option "'+J+'"'},TypeError);JX("ERR_INVALID_ARG_TYPE",function(J,Z,X){let Y;if(typeof Z==="string"&&OS8(Z,"not "))Y="must not be",Z=Z.replace(/^not /,"");else Y="must be";let $;if(DS8(J," argument"))$=`The ${J} ${Y} ${Cn0(Z,"type")}`;else{let z=VS8(J,".")?"property":"argument";$=`The "${J}" ${z} ${Y} ${Cn0(Z,"type")}`}return $+=`. Received type ${typeof X}`,$},TypeError);JX("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");JX("ERR_METHOD_NOT_IMPLEMENTED",function(J){return"The "+J+" method is not implemented"});JX("ERR_STREAM_PREMATURE_CLOSE","Premature close");JX("ERR_STREAM_DESTROYED",function(J){return"Cannot call "+J+" after a stream was destroyed"});JX("ERR_MULTIPLE_CALLBACK","Callback called multiple times");JX("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");JX("ERR_STREAM_WRITE_AFTER_END","write after end");JX("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);JX("ERR_UNKNOWN_ENCODING",function(J){return"Unknown encoding: "+J},TypeError);JX("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");IS8.codes=jn0});var Rz1=B((dv9,En0)=>{var AS8=fw().codes.ERR_INVALID_OPT_VALUE;function MS8(J,Z,X){return J.highWaterMark!=null?J.highWaterMark:Z?J[X]:null}function NS8(J,Z,X,Y){var $=MS8(Z,Y,X);if($!=null){if(!(isFinite($)&&Math.floor($)===$)||$<0){var z=Y?X:"highWaterMark";throw new AS8(z,$)}return Math.floor($)}return J.objectMode?16:16384}En0.exports={getHighWaterMark:NS8}});var Sn0=B((uv9,Ez1)=>{if(typeof Object.create==="function")Ez1.exports=function J(Z,X){if(X)Z.super_=X,Z.prototype=Object.create(X.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}})};else Ez1.exports=function J(Z,X){if(X){Z.super_=X;var Y=function(){};Y.prototype=X.prototype,Z.prototype=new Y,Z.prototype.constructor=Z}}});var Kg=B((mv9,Sz1)=>{try{if(Gg=p("util"),typeof Gg.inherits!=="function")throw"";Sz1.exports=Gg.inherits}catch(J){Sz1.exports=Sn0()}var Gg});var _n0=B((cv9,hn0)=>{function Tn0(J,Z){var X=Object.keys(J);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(J);Z&&(Y=Y.filter(function($){return Object.getOwnPropertyDescriptor(J,$).enumerable})),X.push.apply(X,Y)}return X}function fn0(J){for(var Z=1;Z<arguments.length;Z++){var X=arguments[Z]!=null?arguments[Z]:{};Z%2?Tn0(Object(X),!0).forEach(function(Y){PS8(J,Y,X[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(X)):Tn0(Object(X)).forEach(function(Y){Object.defineProperty(J,Y,Object.getOwnPropertyDescriptor(X,Y))})}return J}function PS8(J,Z,X){if(Z=bn0(Z),Z in J)Object.defineProperty(J,Z,{value:X,enumerable:!0,configurable:!0,writable:!0});else J[Z]=X;return J}function LS8(J,Z){if(!(J instanceof Z))throw new TypeError("Cannot call a class as a function")}function kn0(J,Z){for(var X=0;X<Z.length;X++){var Y=Z[X];if(Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y)Y.writable=!0;Object.defineProperty(J,bn0(Y.key),Y)}}function CS8(J,Z,X){if(Z)kn0(J.prototype,Z);if(X)kn0(J,X);return Object.defineProperty(J,"prototype",{writable:!1}),J}function bn0(J){var Z=jS8(J,"string");return typeof Z==="symbol"?Z:String(Z)}function jS8(J,Z){if(typeof J!=="object"||J===null)return J;var X=J[Symbol.toPrimitive];if(X!==void 0){var Y=X.call(J,Z||"default");if(typeof Y!=="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Z==="string"?String:Number)(J)}var RS8=p("buffer"),qg=RS8.Buffer,ES8=p("util"),Tz1=ES8.inspect,SS8=Tz1&&Tz1.custom||"inspect";function TS8(J,Z,X){qg.prototype.copy.call(J,Z,X)}hn0.exports=function(){function J(){LS8(this,J),this.head=null,this.tail=null,this.length=0}return CS8(J,[{key:"push",value:function Z(X){var Y={data:X,next:null};if(this.length>0)this.tail.next=Y;else this.head=Y;this.tail=Y,++this.length}},{key:"unshift",value:function Z(X){var Y={data:X,next:this.head};if(this.length===0)this.tail=Y;this.head=Y,++this.length}},{key:"shift",value:function Z(){if(this.length===0)return;var X=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;return--this.length,X}},{key:"clear",value:function Z(){this.head=this.tail=null,this.length=0}},{key:"join",value:function Z(X){if(this.length===0)return"";var Y=this.head,$=""+Y.data;while(Y=Y.next)$+=X+Y.data;return $}},{key:"concat",value:function Z(X){if(this.length===0)return qg.alloc(0);var Y=qg.allocUnsafe(X>>>0),$=this.head,z=0;while($)TS8($.data,Y,z),z+=$.data.length,$=$.next;return Y}},{key:"consume",value:function Z(X,Y){var $;if(X<this.head.data.length)$=this.head.data.slice(0,X),this.head.data=this.head.data.slice(X);else if(X===this.head.data.length)$=this.shift();else $=Y?this._getString(X):this._getBuffer(X);return $}},{key:"first",value:function Z(){return this.head.data}},{key:"_getString",value:function Z(X){var Y=this.head,$=1,z=Y.data;X-=z.length;while(Y=Y.next){var W=Y.data,Q=X>W.length?W.length:X;if(Q===W.length)z+=W;else z+=W.slice(0,X);if(X-=Q,X===0){if(Q===W.length)if(++$,Y.next)this.head=Y.next;else this.head=this.tail=null;else this.head=Y,Y.data=W.slice(Q);break}++$}return this.length-=$,z}},{key:"_getBuffer",value:function Z(X){var Y=qg.allocUnsafe(X),$=this.head,z=1;$.data.copy(Y),X-=$.data.length;while($=$.next){var W=$.data,Q=X>W.length?W.length:X;if(W.copy(Y,Y.length-X,0,Q),X-=Q,X===0){if(Q===W.length)if(++z,$.next)this.head=$.next;else this.head=this.tail=null;else this.head=$,$.data=W.slice(Q);break}++z}return this.length-=z,Y}},{key:SS8,value:function Z(X,Y){return Tz1(this,fn0(fn0({},Y),{},{depth:0,customInspect:!1}))}}]),J}()});var xn0=B((fz1,vn0)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Bg=p("buffer"),Ez=Bg.Buffer;function yn0(J,Z){for(var X in J)Z[X]=J[X]}if(Ez.from&&Ez.alloc&&Ez.allocUnsafe&&Ez.allocUnsafeSlow)vn0.exports=Bg;else yn0(Bg,fz1),fz1.Buffer=xU;function xU(J,Z,X){return Ez(J,Z,X)}xU.prototype=Object.create(Ez.prototype);yn0(Ez,xU);xU.from=function(J,Z,X){if(typeof J==="number")throw new TypeError("Argument must not be a number");return Ez(J,Z,X)};xU.alloc=function(J,Z,X){if(typeof J!=="number")throw new TypeError("Argument must be a number");var Y=Ez(J);if(Z!==void 0)if(typeof X==="string")Y.fill(Z,X);else Y.fill(Z);else Y.fill(0);return Y};xU.allocUnsafe=function(J){if(typeof J!=="number")throw new TypeError("Argument must be a number");return Ez(J)};xU.allocUnsafeSlow=function(J){if(typeof J!=="number")throw new TypeError("Argument must be a number");return Bg.SlowBuffer(J)}});var hz1=B((lS8)=>{var bz1=xn0().Buffer,gn0=bz1.isEncoding||function(J){switch(J=""+J,J&&J.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function fS8(J){if(!J)return"utf8";var Z;while(!0)switch(J){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return J;default:if(Z)return;J=(""+J).toLowerCase(),Z=!0}}function kS8(J){var Z=fS8(J);if(typeof Z!=="string"&&(bz1.isEncoding===gn0||!gn0(J)))throw new Error("Unknown encoding: "+J);return Z||J}lS8.StringDecoder=$2;function $2(J){this.encoding=kS8(J);var Z;switch(this.encoding){case"utf16le":this.text=xS8,this.end=gS8,Z=4;break;case"utf8":this.fillLast=_S8,Z=4;break;case"base64":this.text=dS8,this.end=uS8,Z=3;break;default:this.write=mS8,this.end=cS8;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=bz1.allocUnsafe(Z)}$2.prototype.write=function(J){if(J.length===0)return"";var Z,X;if(this.lastNeed){if(Z=this.fillLast(J),Z===void 0)return"";X=this.lastNeed,this.lastNeed=0}else X=0;if(X<J.length)return Z?Z+this.text(J,X):this.text(J,X);return Z||""};$2.prototype.end=vS8;$2.prototype.text=yS8;$2.prototype.fillLast=function(J){if(this.lastNeed<=J.length)return J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,J.length),this.lastNeed-=J.length};function kz1(J){if(J<=127)return 0;else if(J>>5===6)return 2;else if(J>>4===14)return 3;else if(J>>3===30)return 4;return J>>6===2?-1:-2}function bS8(J,Z,X){var Y=Z.length-1;if(Y<X)return 0;var $=kz1(Z[Y]);if($>=0){if($>0)J.lastNeed=$-1;return $}if(--Y<X||$===-2)return 0;if($=kz1(Z[Y]),$>=0){if($>0)J.lastNeed=$-2;return $}if(--Y<X||$===-2)return 0;if($=kz1(Z[Y]),$>=0){if($>0)if($===2)$=0;else J.lastNeed=$-3;return $}return 0}function hS8(J,Z,X){if((Z[0]&192)!==128)return J.lastNeed=0,"\uFFFD";if(J.lastNeed>1&&Z.length>1){if((Z[1]&192)!==128)return J.lastNeed=1,"\uFFFD";if(J.lastNeed>2&&Z.length>2){if((Z[2]&192)!==128)return J.lastNeed=2,"\uFFFD"}}}function _S8(J){var Z=this.lastTotal-this.lastNeed,X=hS8(this,J,Z);if(X!==void 0)return X;if(this.lastNeed<=J.length)return J.copy(this.lastChar,Z,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);J.copy(this.lastChar,Z,0,J.length),this.lastNeed-=J.length}function yS8(J,Z){var X=bS8(this,J,Z);if(!this.lastNeed)return J.toString("utf8",Z);this.lastTotal=X;var Y=J.length-(X-this.lastNeed);return J.copy(this.lastChar,0,Y),J.toString("utf8",Z,Y)}function vS8(J){var Z=J&&J.length?this.write(J):"";if(this.lastNeed)return Z+"\uFFFD";return Z}function xS8(J,Z){if((J.length-Z)%2===0){var X=J.toString("utf16le",Z);if(X){var Y=X.charCodeAt(X.length-1);if(Y>=55296&&Y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1],X.slice(0,-1)}return X}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=J[J.length-1],J.toString("utf16le",Z,J.length-1)}function gS8(J){var Z=J&&J.length?this.write(J):"";if(this.lastNeed){var X=this.lastTotal-this.lastNeed;return Z+this.lastChar.toString("utf16le",0,X)}return Z}function dS8(J,Z){var X=(J.length-Z)%3;if(X===0)return J.toString("base64",Z);if(this.lastNeed=3-X,this.lastTotal=3,X===1)this.lastChar[0]=J[J.length-1];else this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1];return J.toString("base64",Z,J.length-X)}function uS8(J){var Z=J&&J.length?this.write(J):"";if(this.lastNeed)return Z+this.lastChar.toString("base64",0,3-this.lastNeed);return Z}function mS8(J){return J.toString(this.encoding)}function cS8(J){return J&&J.length?this.write(J):""}});var cn0=B((pv9,mn0)=>{var dn0=fw().codes.ERR_STREAM_PREMATURE_CLOSE;function nS8(J){var Z=!1;return function(){if(Z)return;Z=!0;for(var X=arguments.length,Y=new Array(X),$=0;$<X;$++)Y[$]=arguments[$];J.apply(this,Y)}}function iS8(){}function oS8(J){return J.setHeader&&typeof J.abort==="function"}function un0(J,Z,X){if(typeof Z==="function")return un0(J,null,Z);if(!Z)Z={};X=nS8(X||iS8);var Y=Z.readable||Z.readable!==!1&&J.readable,$=Z.writable||Z.writable!==!1&&J.writable,z=function U(){if(!J.writable)Q()},W=J._writableState&&J._writableState.finished,Q=function U(){if($=!1,W=!0,!Y)X.call(J)},G=J._readableState&&J._readableState.endEmitted,K=function U(){if(Y=!1,G=!0,!$)X.call(J)},q=function U(D){X.call(J,D)},H=function U(){var D;if(Y&&!G){if(!J._readableState||!J._readableState.ended)D=new dn0;return X.call(J,D)}if($&&!W){if(!J._writableState||!J._writableState.ended)D=new dn0;return X.call(J,D)}},F=function U(){J.req.on("finish",Q)};if(oS8(J))if(J.on("complete",Q),J.on("abort",H),J.req)F();else J.on("request",F);else if($&&!J._writableState)J.on("end",z),J.on("close",z);if(J.on("end",K),J.on("finish",Q),Z.error!==!1)J.on("error",q);return J.on("close",H),function(){if(J.removeListener("complete",Q),J.removeListener("abort",H),J.removeListener("request",F),J.req)J.req.removeListener("finish",Q);J.removeListener("end",z),J.removeListener("close",z),J.removeListener("finish",Q),J.removeListener("end",K),J.removeListener("error",q),J.removeListener("close",H)}}mn0.exports=un0});var pn0=B((nv9,ln0)=>{var Hg;function lq(J,Z,X){if(Z=sS8(Z),Z in J)Object.defineProperty(J,Z,{value:X,enumerable:!0,configurable:!0,writable:!0});else J[Z]=X;return J}function sS8(J){var Z=aS8(J,"string");return typeof Z==="symbol"?Z:String(Z)}function aS8(J,Z){if(typeof J!=="object"||J===null)return J;var X=J[Symbol.toPrimitive];if(X!==void 0){var Y=X.call(J,Z||"default");if(typeof Y!=="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Z==="string"?String:Number)(J)}var rS8=cn0(),pq=Symbol("lastResolve"),gU=Symbol("lastReject"),z2=Symbol("error"),Fg=Symbol("ended"),dU=Symbol("lastPromise"),_z1=Symbol("handlePromise"),uU=Symbol("stream");function nq(J,Z){return{value:J,done:Z}}function tS8(J){var Z=J[pq];if(Z!==null){var X=J[uU].read();if(X!==null)J[dU]=null,J[pq]=null,J[gU]=null,Z(nq(X,!1))}}function eS8(J){process.nextTick(tS8,J)}function JT8(J,Z){return function(X,Y){J.then(function(){if(Z[Fg]){X(nq(void 0,!0));return}Z[_z1](X,Y)},Y)}}var ZT8=Object.getPrototypeOf(function(){}),XT8=Object.setPrototypeOf((Hg={get stream(){return this[uU]},next:function J(){var Z=this,X=this[z2];if(X!==null)return Promise.reject(X);if(this[Fg])return Promise.resolve(nq(void 0,!0));if(this[uU].destroyed)return new Promise(function(W,Q){process.nextTick(function(){if(Z[z2])Q(Z[z2]);else W(nq(void 0,!0))})});var Y=this[dU],$;if(Y)$=new Promise(JT8(Y,this));else{var z=this[uU].read();if(z!==null)return Promise.resolve(nq(z,!1));$=new Promise(this[_z1])}return this[dU]=$,$}},lq(Hg,Symbol.asyncIterator,function(){return this}),lq(Hg,"return",function J(){var Z=this;return new Promise(function(X,Y){Z[uU].destroy(null,function($){if($){Y($);return}X(nq(void 0,!0))})})}),Hg),ZT8),YT8=function J(Z){var X,Y=Object.create(XT8,(X={},lq(X,uU,{value:Z,writable:!0}),lq(X,pq,{value:null,writable:!0}),lq(X,gU,{value:null,writable:!0}),lq(X,z2,{value:null,writable:!0}),lq(X,Fg,{value:Z._readableState.endEmitted,writable:!0}),lq(X,_z1,{value:function $(z,W){var Q=Y[uU].read();if(Q)Y[dU]=null,Y[pq]=null,Y[gU]=null,z(nq(Q,!1));else Y[pq]=z,Y[gU]=W},writable:!0}),X));return Y[dU]=null,rS8(Z,function($){if($&&$.code!=="ERR_STREAM_PREMATURE_CLOSE"){var z=Y[gU];if(z!==null)Y[dU]=null,Y[pq]=null,Y[gU]=null,z($);Y[z2]=$;return}var W=Y[pq];if(W!==null)Y[dU]=null,Y[pq]=null,Y[gU]=null,W(nq(void 0,!0));Y[Fg]=!0}),Z.on("readable",eS8.bind(null,Y)),Y};ln0.exports=YT8});var sn0=B((iv9,on0)=>{function nn0(J,Z,X,Y,$,z,W){try{var Q=J[z](W),G=Q.value}catch(K){X(K);return}if(Q.done)Z(G);else Promise.resolve(G).then(Y,$)}function $T8(J){return function(){var Z=this,X=arguments;return new Promise(function(Y,$){var z=J.apply(Z,X);function W(G){nn0(z,Y,$,W,Q,"next",G)}function Q(G){nn0(z,Y,$,W,Q,"throw",G)}W(void 0)})}}function in0(J,Z){var X=Object.keys(J);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(J);Z&&(Y=Y.filter(function($){return Object.getOwnPropertyDescriptor(J,$).enumerable})),X.push.apply(X,Y)}return X}function zT8(J){for(var Z=1;Z<arguments.length;Z++){var X=arguments[Z]!=null?arguments[Z]:{};Z%2?in0(Object(X),!0).forEach(function(Y){WT8(J,Y,X[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(X)):in0(Object(X)).forEach(function(Y){Object.defineProperty(J,Y,Object.getOwnPropertyDescriptor(X,Y))})}return J}function WT8(J,Z,X){if(Z=QT8(Z),Z in J)Object.defineProperty(J,Z,{value:X,enumerable:!0,configurable:!0,writable:!0});else J[Z]=X;return J}function QT8(J){var Z=GT8(J,"string");return typeof Z==="symbol"?Z:String(Z)}function GT8(J,Z){if(typeof J!=="object"||J===null)return J;var X=J[Symbol.toPrimitive];if(X!==void 0){var Y=X.call(J,Z||"default");if(typeof Y!=="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Z==="string"?String:Number)(J)}var KT8=fw().codes.ERR_INVALID_ARG_TYPE;function qT8(J,Z,X){var Y;if(Z&&typeof Z.next==="function")Y=Z;else if(Z&&Z[Symbol.asyncIterator])Y=Z[Symbol.asyncIterator]();else if(Z&&Z[Symbol.iterator])Y=Z[Symbol.iterator]();else throw new KT8("iterable",["Iterable"],Z);var $=new J(zT8({objectMode:!0},X)),z=!1;$._read=function(){if(!z)z=!0,W()};function W(){return Q.apply(this,arguments)}function Q(){return Q=$T8(function*(){try{var G=yield Y.next(),K=G.value,q=G.done;if(q)$.push(null);else if($.push(yield K))W();else z=!1}catch(H){$.destroy(H)}}),Q.apply(this,arguments)}return $}on0.exports=qT8});var Wi0=B((sv9,zi0)=>{zi0.exports=H4;var kw;H4.ReadableState=en0;var ov9=p("events").EventEmitter,tn0=function J(Z,X){return Z.listeners(X).length},Q2=p("stream"),Ug=p("buffer").Buffer,BT8=(typeof global!=="undefined"?global:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function HT8(J){return Ug.from(J)}function FT8(J){return Ug.isBuffer(J)||J instanceof BT8}var yz1=p("util"),f6;if(yz1&&yz1.debuglog)f6=yz1.debuglog("stream");else f6=function J(){};var UT8=_n0(),cz1=jz1(),OT8=Rz1(),DT8=OT8.getHighWaterMark,Og=fw().codes,VT8=Og.ERR_INVALID_ARG_TYPE,IT8=Og.ERR_STREAM_PUSH_AFTER_EOF,wT8=Og.ERR_METHOD_NOT_IMPLEMENTED,AT8=Og.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,bw,vz1,xz1;Kg()(H4,Q2);var W2=cz1.errorOrDestroy,gz1=["error","close","destroy","pause","resume"];function MT8(J,Z,X){if(typeof J.prependListener==="function")return J.prependListener(Z,X);if(!J._events||!J._events[Z])J.on(Z,X);else if(Array.isArray(J._events[Z]))J._events[Z].unshift(X);else J._events[Z]=[X,J._events[Z]]}function en0(J,Z,X){if(kw=kw||G2(),J=J||{},typeof X!=="boolean")X=Z instanceof kw;if(this.objectMode=!!J.objectMode,X)this.objectMode=this.objectMode||!!J.readableObjectMode;if(this.highWaterMark=DT8(this,J,"readableHighWaterMark",X),this.buffer=new UT8,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding){if(!bw)bw=hz1().StringDecoder;this.decoder=new bw(J.encoding),this.encoding=J.encoding}}function H4(J){if(kw=kw||G2(),!(this instanceof H4))return new H4(J);var Z=this instanceof kw;if(this._readableState=new en0(J,this,Z),this.readable=!0,J){if(typeof J.read==="function")this._read=J.read;if(typeof J.destroy==="function")this._destroy=J.destroy}Q2.call(this)}Object.defineProperty(H4.prototype,"destroyed",{enumerable:!1,get:function J(){if(this._readableState===void 0)return!1;return this._readableState.destroyed},set:function J(Z){if(!this._readableState)return;this._readableState.destroyed=Z}});H4.prototype.destroy=cz1.destroy;H4.prototype._undestroy=cz1.undestroy;H4.prototype._destroy=function(J,Z){Z(J)};H4.prototype.push=function(J,Z){var X=this._readableState,Y;if(!X.objectMode){if(typeof J==="string"){if(Z=Z||X.defaultEncoding,Z!==X.encoding)J=Ug.from(J,Z),Z="";Y=!0}}else Y=!0;return Ji0(this,J,Z,!1,Y)};H4.prototype.unshift=function(J){return Ji0(this,J,null,!0,!1)};function Ji0(J,Z,X,Y,$){f6("readableAddChunk",Z);var z=J._readableState;if(Z===null)z.reading=!1,LT8(J,z);else{var W;if(!$)W=NT8(z,Z);if(W)W2(J,W);else if(z.objectMode||Z&&Z.length>0){if(typeof Z!=="string"&&!z.objectMode&&Object.getPrototypeOf(Z)!==Ug.prototype)Z=HT8(Z);if(Y)if(z.endEmitted)W2(J,new AT8);else dz1(J,z,Z,!0);else if(z.ended)W2(J,new IT8);else if(z.destroyed)return!1;else if(z.reading=!1,z.decoder&&!X)if(Z=z.decoder.write(Z),z.objectMode||Z.length!==0)dz1(J,z,Z,!1);else mz1(J,z);else dz1(J,z,Z,!1)}else if(!Y)z.reading=!1,mz1(J,z)}return!z.ended&&(z.length<z.highWaterMark||z.length===0)}function dz1(J,Z,X,Y){if(Z.flowing&&Z.length===0&&!Z.sync)Z.awaitDrain=0,J.emit("data",X);else{if(Z.length+=Z.objectMode?1:X.length,Y)Z.buffer.unshift(X);else Z.buffer.push(X);if(Z.needReadable)Dg(J)}mz1(J,Z)}function NT8(J,Z){var X;if(!FT8(Z)&&typeof Z!=="string"&&Z!==void 0&&!J.objectMode)X=new VT8("chunk",["string","Buffer","Uint8Array"],Z);return X}H4.prototype.isPaused=function(){return this._readableState.flowing===!1};H4.prototype.setEncoding=function(J){if(!bw)bw=hz1().StringDecoder;var Z=new bw(J);this._readableState.decoder=Z,this._readableState.encoding=this._readableState.decoder.encoding;var X=this._readableState.buffer.head,Y="";while(X!==null)Y+=Z.write(X.data),X=X.next;if(this._readableState.buffer.clear(),Y!=="")this._readableState.buffer.push(Y);return this._readableState.length=Y.length,this};var an0=1073741824;function PT8(J){if(J>=an0)J=an0;else J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++;return J}function rn0(J,Z){if(J<=0||Z.length===0&&Z.ended)return 0;if(Z.objectMode)return 1;if(J!==J)if(Z.flowing&&Z.length)return Z.buffer.head.data.length;else return Z.length;if(J>Z.highWaterMark)Z.highWaterMark=PT8(J);if(J<=Z.length)return J;if(!Z.ended)return Z.needReadable=!0,0;return Z.length}H4.prototype.read=function(J){f6("read",J),J=parseInt(J,10);var Z=this._readableState,X=J;if(J!==0)Z.emittedReadable=!1;if(J===0&&Z.needReadable&&((Z.highWaterMark!==0?Z.length>=Z.highWaterMark:Z.length>0)||Z.ended)){if(f6("read: emitReadable",Z.length,Z.ended),Z.length===0&&Z.ended)uz1(this);else Dg(this);return null}if(J=rn0(J,Z),J===0&&Z.ended){if(Z.length===0)uz1(this);return null}var Y=Z.needReadable;if(f6("need readable",Y),Z.length===0||Z.length-J<Z.highWaterMark)Y=!0,f6("length less than watermark",Y);if(Z.ended||Z.reading)Y=!1,f6("reading or ended",Y);else if(Y){if(f6("do read"),Z.reading=!0,Z.sync=!0,Z.length===0)Z.needReadable=!0;if(this._read(Z.highWaterMark),Z.sync=!1,!Z.reading)J=rn0(X,Z)}var $;if(J>0)$=Yi0(J,Z);else $=null;if($===null)Z.needReadable=Z.length<=Z.highWaterMark,J=0;else Z.length-=J,Z.awaitDrain=0;if(Z.length===0){if(!Z.ended)Z.needReadable=!0;if(X!==J&&Z.ended)uz1(this)}if($!==null)this.emit("data",$);return $};function LT8(J,Z){if(f6("onEofChunk"),Z.ended)return;if(Z.decoder){var X=Z.decoder.end();if(X&&X.length)Z.buffer.push(X),Z.length+=Z.objectMode?1:X.length}if(Z.ended=!0,Z.sync)Dg(J);else if(Z.needReadable=!1,!Z.emittedReadable)Z.emittedReadable=!0,Zi0(J)}function Dg(J){var Z=J._readableState;if(f6("emitReadable",Z.needReadable,Z.emittedReadable),Z.needReadable=!1,!Z.emittedReadable)f6("emitReadable",Z.flowing),Z.emittedReadable=!0,process.nextTick(Zi0,J)}function Zi0(J){var Z=J._readableState;if(f6("emitReadable_",Z.destroyed,Z.length,Z.ended),!Z.destroyed&&(Z.length||Z.ended))J.emit("readable"),Z.emittedReadable=!1;Z.needReadable=!Z.flowing&&!Z.ended&&Z.length<=Z.highWaterMark,lz1(J)}function mz1(J,Z){if(!Z.readingMore)Z.readingMore=!0,process.nextTick(CT8,J,Z)}function CT8(J,Z){while(!Z.reading&&!Z.ended&&(Z.length<Z.highWaterMark||Z.flowing&&Z.length===0)){var X=Z.length;if(f6("maybeReadMore read 0"),J.read(0),X===Z.length)break}Z.readingMore=!1}H4.prototype._read=function(J){W2(this,new wT8("_read()"))};H4.prototype.pipe=function(J,Z){var X=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=J;break;case 1:Y.pipes=[Y.pipes,J];break;default:Y.pipes.push(J);break}Y.pipesCount+=1,f6("pipe count=%d opts=%j",Y.pipesCount,Z);var $=(!Z||Z.end!==!1)&&J!==process.stdout&&J!==process.stderr,z=$?Q:V;if(Y.endEmitted)process.nextTick(z);else X.once("end",z);J.on("unpipe",W);function W(w,M){if(f6("onunpipe"),w===X){if(M&&M.hasUnpiped===!1)M.hasUnpiped=!0,q()}}function Q(){f6("onend"),J.end()}var G=jT8(X);J.on("drain",G);var K=!1;function q(){if(f6("cleanup"),J.removeListener("close",U),J.removeListener("finish",D),J.removeListener("drain",G),J.removeListener("error",F),J.removeListener("unpipe",W),X.removeListener("end",Q),X.removeListener("end",V),X.removeListener("data",H),K=!0,Y.awaitDrain&&(!J._writableState||J._writableState.needDrain))G()}X.on("data",H);function H(w){f6("ondata");var M=J.write(w);if(f6("dest.write",M),M===!1){if((Y.pipesCount===1&&Y.pipes===J||Y.pipesCount>1&&$i0(Y.pipes,J)!==-1)&&!K)f6("false write response, pause",Y.awaitDrain),Y.awaitDrain++;X.pause()}}function F(w){if(f6("onerror",w),V(),J.removeListener("error",F),tn0(J,"error")===0)W2(J,w)}MT8(J,"error",F);function U(){J.removeListener("finish",D),V()}J.once("close",U);function D(){f6("onfinish"),J.removeListener("close",U),V()}J.once("finish",D);function V(){f6("unpipe"),X.unpipe(J)}if(J.emit("pipe",X),!Y.flowing)f6("pipe resume"),X.resume();return J};function jT8(J){return function Z(){var X=J._readableState;if(f6("pipeOnDrain",X.awaitDrain),X.awaitDrain)X.awaitDrain--;if(X.awaitDrain===0&&tn0(J,"data"))X.flowing=!0,lz1(J)}}H4.prototype.unpipe=function(J){var Z=this._readableState,X={hasUnpiped:!1};if(Z.pipesCount===0)return this;if(Z.pipesCount===1){if(J&&J!==Z.pipes)return this;if(!J)J=Z.pipes;if(Z.pipes=null,Z.pipesCount=0,Z.flowing=!1,J)J.emit("unpipe",this,X);return this}if(!J){var{pipes:Y,pipesCount:$}=Z;Z.pipes=null,Z.pipesCount=0,Z.flowing=!1;for(var z=0;z<$;z++)Y[z].emit("unpipe",this,{hasUnpiped:!1});return this}var W=$i0(Z.pipes,J);if(W===-1)return this;if(Z.pipes.splice(W,1),Z.pipesCount-=1,Z.pipesCount===1)Z.pipes=Z.pipes[0];return J.emit("unpipe",this,X),this};H4.prototype.on=function(J,Z){var X=Q2.prototype.on.call(this,J,Z),Y=this._readableState;if(J==="data"){if(Y.readableListening=this.listenerCount("readable")>0,Y.flowing!==!1)this.resume()}else if(J==="readable"){if(!Y.endEmitted&&!Y.readableListening){if(Y.readableListening=Y.needReadable=!0,Y.flowing=!1,Y.emittedReadable=!1,f6("on readable",Y.length,Y.reading),Y.length)Dg(this);else if(!Y.reading)process.nextTick(RT8,this)}}return X};H4.prototype.addListener=H4.prototype.on;H4.prototype.removeListener=function(J,Z){var X=Q2.prototype.removeListener.call(this,J,Z);if(J==="readable")process.nextTick(Xi0,this);return X};H4.prototype.removeAllListeners=function(J){var Z=Q2.prototype.removeAllListeners.apply(this,arguments);if(J==="readable"||J===void 0)process.nextTick(Xi0,this);return Z};function Xi0(J){var Z=J._readableState;if(Z.readableListening=J.listenerCount("readable")>0,Z.resumeScheduled&&!Z.paused)Z.flowing=!0;else if(J.listenerCount("data")>0)J.resume()}function RT8(J){f6("readable nexttick read 0"),J.read(0)}H4.prototype.resume=function(){var J=this._readableState;if(!J.flowing)f6("resume"),J.flowing=!J.readableListening,ET8(this,J);return J.paused=!1,this};function ET8(J,Z){if(!Z.resumeScheduled)Z.resumeScheduled=!0,process.nextTick(ST8,J,Z)}function ST8(J,Z){if(f6("resume",Z.reading),!Z.reading)J.read(0);if(Z.resumeScheduled=!1,J.emit("resume"),lz1(J),Z.flowing&&!Z.reading)J.read(0)}H4.prototype.pause=function(){if(f6("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1)f6("pause"),this._readableState.flowing=!1,this.emit("pause");return this._readableState.paused=!0,this};function lz1(J){var Z=J._readableState;f6("flow",Z.flowing);while(Z.flowing&&J.read()!==null);}H4.prototype.wrap=function(J){var Z=this,X=this._readableState,Y=!1;J.on("end",function(){if(f6("wrapped end"),X.decoder&&!X.ended){var W=X.decoder.end();if(W&&W.length)Z.push(W)}Z.push(null)}),J.on("data",function(W){if(f6("wrapped data"),X.decoder)W=X.decoder.write(W);if(X.objectMode&&(W===null||W===void 0))return;else if(!X.objectMode&&(!W||!W.length))return;var Q=Z.push(W);if(!Q)Y=!0,J.pause()});for(var $ in J)if(this[$]===void 0&&typeof J[$]==="function")this[$]=function W(Q){return function G(){return J[Q].apply(J,arguments)}}($);for(var z=0;z<gz1.length;z++)J.on(gz1[z],this.emit.bind(this,gz1[z]));return this._read=function(W){if(f6("wrapped _read",W),Y)Y=!1,J.resume()},this};if(typeof Symbol==="function")H4.prototype[Symbol.asyncIterator]=function(){if(vz1===void 0)vz1=pn0();return vz1(this)};Object.defineProperty(H4.prototype,"readableHighWaterMark",{enumerable:!1,get:function J(){return this._readableState.highWaterMark}});Object.defineProperty(H4.prototype,"readableBuffer",{enumerable:!1,get:function J(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(H4.prototype,"readableFlowing",{enumerable:!1,get:function J(){return this._readableState.flowing},set:function J(Z){if(this._readableState)this._readableState.flowing=Z}});H4._fromList=Yi0;Object.defineProperty(H4.prototype,"readableLength",{enumerable:!1,get:function J(){return this._readableState.length}});function Yi0(J,Z){if(Z.length===0)return null;var X;if(Z.objectMode)X=Z.buffer.shift();else if(!J||J>=Z.length){if(Z.decoder)X=Z.buffer.join("");else if(Z.buffer.length===1)X=Z.buffer.first();else X=Z.buffer.concat(Z.length);Z.buffer.clear()}else X=Z.buffer.consume(J,Z.decoder);return X}function uz1(J){var Z=J._readableState;if(f6("endReadable",Z.endEmitted),!Z.endEmitted)Z.ended=!0,process.nextTick(TT8,Z,J)}function TT8(J,Z){if(f6("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&J.length===0){if(J.endEmitted=!0,Z.readable=!1,Z.emit("end"),J.autoDestroy){var X=Z._writableState;if(!X||X.autoDestroy&&X.finished)Z.destroy()}}}if(typeof Symbol==="function")H4.from=function(J,Z){if(xz1===void 0)xz1=sn0();return xz1(H4,J,Z)};function $i0(J,Z){for(var X=0,Y=J.length;X<Y;X++)if(J[X]===Z)return X;return-1}});var G2=B((av9,Gi0)=>{var fT8=Object.keys||function(J){var Z=[];for(var X in J)Z.push(X);return Z};Gi0.exports=Sz;var Qi0=Wi0(),pz1=nz1();Kg()(Sz,Qi0);{Vg=fT8(pz1.prototype);for(K2=0;K2<Vg.length;K2++)if(q2=Vg[K2],!Sz.prototype[q2])Sz.prototype[q2]=pz1.prototype[q2]}var Vg,q2,K2;function Sz(J){if(!(this instanceof Sz))return new Sz(J);if(Qi0.call(this,J),pz1.call(this,J),this.allowHalfOpen=!0,J){if(J.readable===!1)this.readable=!1;if(J.writable===!1)this.writable=!1;if(J.allowHalfOpen===!1)this.allowHalfOpen=!1,this.once("end",kT8)}}Object.defineProperty(Sz.prototype,"writableHighWaterMark",{enumerable:!1,get:function J(){return this._writableState.highWaterMark}});Object.defineProperty(Sz.prototype,"writableBuffer",{enumerable:!1,get:function J(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Sz.prototype,"writableLength",{enumerable:!1,get:function J(){return this._writableState.length}});function kT8(){if(this._writableState.ended)return;process.nextTick(bT8,this)}function bT8(J){J.end()}Object.defineProperty(Sz.prototype,"destroyed",{enumerable:!1,get:function J(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set:function J(Z){if(this._readableState===void 0||this._writableState===void 0)return;this._readableState.destroyed=Z,this._writableState.destroyed=Z}})});var nz1=B((rv9,Ui0)=>{Ui0.exports=s8;function qi0(J){var Z=this;this.next=null,this.entry=null,this.finish=function(){Wf8(Z,J)}}var hw;s8.WritableState=H2;var hT8={deprecate:Nn0()},Bi0=p("stream"),wg=p("buffer").Buffer,_T8=(typeof global!=="undefined"?global:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function yT8(J){return wg.from(J)}function vT8(J){return wg.isBuffer(J)||J instanceof _T8}var oz1=jz1(),xT8=Rz1(),gT8=xT8.getHighWaterMark,iq=fw().codes,dT8=iq.ERR_INVALID_ARG_TYPE,uT8=iq.ERR_METHOD_NOT_IMPLEMENTED,mT8=iq.ERR_MULTIPLE_CALLBACK,cT8=iq.ERR_STREAM_CANNOT_PIPE,lT8=iq.ERR_STREAM_DESTROYED,pT8=iq.ERR_STREAM_NULL_VALUES,nT8=iq.ERR_STREAM_WRITE_AFTER_END,iT8=iq.ERR_UNKNOWN_ENCODING,_w=oz1.errorOrDestroy;Kg()(s8,Bi0);function oT8(){}function H2(J,Z,X){if(hw=hw||G2(),J=J||{},typeof X!=="boolean")X=Z instanceof hw;if(this.objectMode=!!J.objectMode,X)this.objectMode=this.objectMode||!!J.writableObjectMode;this.highWaterMark=gT8(this,J,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Y=J.decodeStrings===!1;this.decodeStrings=!Y,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($){Zf8(Z,$)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new qi0(this)}H2.prototype.getBuffer=function J(){var Z=this.bufferedRequest,X=[];while(Z)X.push(Z),Z=Z.next;return X};(function(){try{Object.defineProperty(H2.prototype,"buffer",{get:hT8.deprecate(function J(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(J){}})();var Ig;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function")Ig=Function.prototype[Symbol.hasInstance],Object.defineProperty(s8,Symbol.hasInstance,{value:function J(Z){if(Ig.call(this,Z))return!0;if(this!==s8)return!1;return Z&&Z._writableState instanceof H2}});else Ig=function J(Z){return Z instanceof this};function s8(J){hw=hw||G2();var Z=this instanceof hw;if(!Z&&!Ig.call(s8,this))return new s8(J);if(this._writableState=new H2(J,this,Z),this.writable=!0,J){if(typeof J.write==="function")this._write=J.write;if(typeof J.writev==="function")this._writev=J.writev;if(typeof J.destroy==="function")this._destroy=J.destroy;if(typeof J.final==="function")this._final=J.final}Bi0.call(this)}s8.prototype.pipe=function(){_w(this,new cT8)};function sT8(J,Z){var X=new nT8;_w(J,X),process.nextTick(Z,X)}function aT8(J,Z,X,Y){var $;if(X===null)$=new pT8;else if(typeof X!=="string"&&!Z.objectMode)$=new dT8("chunk",["string","Buffer"],X);if($)return _w(J,$),process.nextTick(Y,$),!1;return!0}s8.prototype.write=function(J,Z,X){var Y=this._writableState,$=!1,z=!Y.objectMode&&vT8(J);if(z&&!wg.isBuffer(J))J=yT8(J);if(typeof Z==="function")X=Z,Z=null;if(z)Z="buffer";else if(!Z)Z=Y.defaultEncoding;if(typeof X!=="function")X=oT8;if(Y.ending)sT8(this,X);else if(z||aT8(this,Y,J,X))Y.pendingcb++,$=tT8(this,Y,z,J,Z,X);return $};s8.prototype.cork=function(){this._writableState.corked++};s8.prototype.uncork=function(){var J=this._writableState;if(J.corked){if(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest)Hi0(this,J)}};s8.prototype.setDefaultEncoding=function J(Z){if(typeof Z==="string")Z=Z.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new iT8(Z);return this._writableState.defaultEncoding=Z,this};Object.defineProperty(s8.prototype,"writableBuffer",{enumerable:!1,get:function J(){return this._writableState&&this._writableState.getBuffer()}});function rT8(J,Z,X){if(!J.objectMode&&J.decodeStrings!==!1&&typeof Z==="string")Z=wg.from(Z,X);return Z}Object.defineProperty(s8.prototype,"writableHighWaterMark",{enumerable:!1,get:function J(){return this._writableState.highWaterMark}});function tT8(J,Z,X,Y,$,z){if(!X){var W=rT8(Z,Y,$);if(Y!==W)X=!0,$="buffer",Y=W}var Q=Z.objectMode?1:Y.length;Z.length+=Q;var G=Z.length<Z.highWaterMark;if(!G)Z.needDrain=!0;if(Z.writing||Z.corked){var K=Z.lastBufferedRequest;if(Z.lastBufferedRequest={chunk:Y,encoding:$,isBuf:X,callback:z,next:null},K)K.next=Z.lastBufferedRequest;else Z.bufferedRequest=Z.lastBufferedRequest;Z.bufferedRequestCount+=1}else iz1(J,Z,!1,Q,Y,$,z);return G}function iz1(J,Z,X,Y,$,z,W){if(Z.writelen=Y,Z.writecb=W,Z.writing=!0,Z.sync=!0,Z.destroyed)Z.onwrite(new lT8("write"));else if(X)J._writev($,Z.onwrite);else J._write($,z,Z.onwrite);Z.sync=!1}function eT8(J,Z,X,Y,$){if(--Z.pendingcb,X)process.nextTick($,Y),process.nextTick(B2,J,Z),J._writableState.errorEmitted=!0,_w(J,Y);else $(Y),J._writableState.errorEmitted=!0,_w(J,Y),B2(J,Z)}function Jf8(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function Zf8(J,Z){var X=J._writableState,Y=X.sync,$=X.writecb;if(typeof $!=="function")throw new mT8;if(Jf8(X),Z)eT8(J,X,Y,Z,$);else{var z=Fi0(X)||J.destroyed;if(!z&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest)Hi0(J,X);if(Y)process.nextTick(Ki0,J,X,z,$);else Ki0(J,X,z,$)}}function Ki0(J,Z,X,Y){if(!X)Xf8(J,Z);Z.pendingcb--,Y(),B2(J,Z)}function Xf8(J,Z){if(Z.length===0&&Z.needDrain)Z.needDrain=!1,J.emit("drain")}function Hi0(J,Z){Z.bufferProcessing=!0;var X=Z.bufferedRequest;if(J._writev&&X&&X.next){var Y=Z.bufferedRequestCount,$=new Array(Y),z=Z.corkedRequestsFree;z.entry=X;var W=0,Q=!0;while(X){if($[W]=X,!X.isBuf)Q=!1;X=X.next,W+=1}if($.allBuffers=Q,iz1(J,Z,!0,Z.length,$,"",z.finish),Z.pendingcb++,Z.lastBufferedRequest=null,z.next)Z.corkedRequestsFree=z.next,z.next=null;else Z.corkedRequestsFree=new qi0(Z);Z.bufferedRequestCount=0}else{while(X){var{chunk:G,encoding:K,callback:q}=X,H=Z.objectMode?1:G.length;if(iz1(J,Z,!1,H,G,K,q),X=X.next,Z.bufferedRequestCount--,Z.writing)break}if(X===null)Z.lastBufferedRequest=null}Z.bufferedRequest=X,Z.bufferProcessing=!1}s8.prototype._write=function(J,Z,X){X(new uT8("_write()"))};s8.prototype._writev=null;s8.prototype.end=function(J,Z,X){var Y=this._writableState;if(typeof J==="function")X=J,J=null,Z=null;else if(typeof Z==="function")X=Z,Z=null;if(J!==null&&J!==void 0)this.write(J,Z);if(Y.corked)Y.corked=1,this.uncork();if(!Y.ending)zf8(this,Y,X);return this};Object.defineProperty(s8.prototype,"writableLength",{enumerable:!1,get:function J(){return this._writableState.length}});function Fi0(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function Yf8(J,Z){J._final(function(X){if(Z.pendingcb--,X)_w(J,X);Z.prefinished=!0,J.emit("prefinish"),B2(J,Z)})}function $f8(J,Z){if(!Z.prefinished&&!Z.finalCalled)if(typeof J._final==="function"&&!Z.destroyed)Z.pendingcb++,Z.finalCalled=!0,process.nextTick(Yf8,J,Z);else Z.prefinished=!0,J.emit("prefinish")}function B2(J,Z){var X=Fi0(Z);if(X){if($f8(J,Z),Z.pendingcb===0){if(Z.finished=!0,J.emit("finish"),Z.autoDestroy){var Y=J._readableState;if(!Y||Y.autoDestroy&&Y.endEmitted)J.destroy()}}}return X}function zf8(J,Z,X){if(Z.ending=!0,B2(J,Z),X)if(Z.finished)process.nextTick(X);else J.once("finish",X);Z.ended=!0,J.writable=!1}function Wf8(J,Z,X){var Y=J.entry;J.entry=null;while(Y){var $=Y.callback;Z.pendingcb--,$(X),Y=Y.next}Z.corkedRequestsFree.next=J}Object.defineProperty(s8.prototype,"destroyed",{enumerable:!1,get:function J(){if(this._writableState===void 0)return!1;return this._writableState.destroyed},set:function J(Z){if(!this._writableState)return;this._writableState.destroyed=Z}});s8.prototype.destroy=oz1.destroy;s8.prototype._undestroy=oz1.undestroy;s8.prototype._destroy=function(J,Z){Z(J)}});var Oi0=B((Qf8)=>{Qf8.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};Qf8.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}});var Di0=B((qf8)=>{qf8.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};qf8.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}});var Vi0=B((Ff8)=>{Ff8.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};Ff8.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}});var Ii0=B((Ag)=>{Object.defineProperty(Ag,"cli",{value:Oi0()});Object.defineProperty(Ag,"npm",{value:Di0()});Object.defineProperty(Ag,"syslog",{value:Vi0()})});var sz1=B((F2)=>{Object.defineProperty(F2,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(F2,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(F2,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(F2,"configs",{value:Ii0()})});var az1=B((Yx9,Mi0)=>{var Df8=p("util"),wi0=nz1(),{LEVEL:Ai0}=sz1(),U2=Mi0.exports=function J(Z={}){if(wi0.call(this,{objectMode:!0,highWaterMark:Z.highWaterMark}),this.format=Z.format,this.level=Z.level,this.handleExceptions=Z.handleExceptions,this.handleRejections=Z.handleRejections,this.silent=Z.silent,Z.log)this.log=Z.log;if(Z.logv)this.logv=Z.logv;if(Z.close)this.close=Z.close;this.once("pipe",(X)=>{this.levels=X.levels,this.parent=X}),this.once("unpipe",(X)=>{if(X===this.parent){if(this.parent=null,this.close)this.close()}})};Df8.inherits(U2,wi0);U2.prototype._write=function J(Z,X,Y){if(this.silent||Z.exception===!0&&!this.handleExceptions)return Y(null);let $=this.level||this.parent&&this.parent.level;if(!$||this.levels[$]>=this.levels[Z[Ai0]]){if(Z&&!this.format)return this.log(Z,Y);let z,W;try{W=this.format.transform(Object.assign({},Z),this.format.options)}catch(Q){z=Q}if(z||!W){if(Y(),z)throw z;return}return this.log(W,Y)}return this._writableState.sync=!1,Y(null)};U2.prototype._writev=function J(Z,X){if(this.logv){let Y=Z.filter(this._accept,this);if(!Y.length)return X(null);return this.logv(Y,X)}for(let Y=0;Y<Z.length;Y++){if(!this._accept(Z[Y]))continue;if(Z[Y].chunk&&!this.format){this.log(Z[Y].chunk,Z[Y].callback);continue}let $,z;try{z=this.format.transform(Object.assign({},Z[Y].chunk),this.format.options)}catch(W){$=W}if($||!z){if(Z[Y].callback(),$)throw X(null),$}else this.log(z,Z[Y].callback)}return X(null)};U2.prototype._accept=function J(Z){let X=Z.chunk;if(this.silent)return!1;let Y=this.level||this.parent&&this.parent.level;if(X.exception===!0||!Y||this.levels[Y]>=this.levels[X[Ai0]]){if(this.handleExceptions||X.exception!==!0)return!0}return!1};U2.prototype._nop=function J(){return}});var Li0=B(($x9,Pi0)=>{var Vf8=p("util"),{LEVEL:rz1}=sz1(),Ni0=az1(),O2=Pi0.exports=function J(Z={}){if(Ni0.call(this,Z),!Z.transport||typeof Z.transport.log!=="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=Z.transport,this.level=this.level||Z.transport.level,this.handleExceptions=this.handleExceptions||Z.transport.handleExceptions,this._deprecated();function X(Y){this.emit("error",Y,this.transport)}if(!this.transport.__winstonError)this.transport.__winstonError=X.bind(this),this.transport.on("error",this.transport.__winstonError)};Vf8.inherits(O2,Ni0);O2.prototype._write=function J(Z,X,Y){if(this.silent||Z.exception===!0&&!this.handleExceptions)return Y(null);if(!this.level||this.levels[this.level]>=this.levels[Z[rz1]])this.transport.log(Z[rz1],Z.message,Z,this._nop);Y(null)};O2.prototype._writev=function J(Z,X){for(let Y=0;Y<Z.length;Y++)if(this._accept(Z[Y]))this.transport.log(Z[Y].chunk[rz1],Z[Y].chunk.message,Z[Y].chunk,this._nop),Z[Y].callback();return X(null)};O2.prototype._deprecated=function J(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))};O2.prototype.close=function J(){if(this.transport.close)this.transport.close();if(this.transport.__winstonError)this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null}});var Ci0=B((zx9,tz1)=>{tz1.exports=az1();tz1.exports.LegacyTransportStream=Li0()});var Ei0=B((ji0)=>{Object.defineProperty(ji0,"__esModule",{value:!0});ji0.PACKAGE_NAME=ji0.PACKAGE_VERSION=void 0;ji0.PACKAGE_VERSION="0.12.0";ji0.PACKAGE_NAME="@opentelemetry/winston-transport"});var fi0=B((Si0)=>{Object.defineProperty(Si0,"__esModule",{value:!0});Si0.emitLogRecord=void 0;var I8=Lz1(),wf8={error:I8.SeverityNumber.ERROR,warn:I8.SeverityNumber.WARN,info:I8.SeverityNumber.INFO,http:I8.SeverityNumber.DEBUG3,verbose:I8.SeverityNumber.DEBUG2,debug:I8.SeverityNumber.DEBUG,silly:I8.SeverityNumber.TRACE},Af8={emerg:I8.SeverityNumber.FATAL3,alert:I8.SeverityNumber.FATAL2,crit:I8.SeverityNumber.FATAL,error:I8.SeverityNumber.ERROR,warning:I8.SeverityNumber.WARN,notice:I8.SeverityNumber.INFO2,info:I8.SeverityNumber.INFO,debug:I8.SeverityNumber.DEBUG},Mf8={error:I8.SeverityNumber.ERROR,warn:I8.SeverityNumber.WARN,help:I8.SeverityNumber.INFO3,data:I8.SeverityNumber.INFO2,info:I8.SeverityNumber.INFO,debug:I8.SeverityNumber.DEBUG,prompt:I8.SeverityNumber.TRACE4,verbose:I8.SeverityNumber.TRACE3,input:I8.SeverityNumber.TRACE2,silly:I8.SeverityNumber.TRACE};function Nf8(J){return wf8[J]??Af8[J]??Mf8[J]}function Pf8(J,Z){let{message:X,level:Y,...$}=J,z={};for(let Q in $)if(Object.prototype.hasOwnProperty.call($,Q))z[Q]=$[Q];let W={severityNumber:Nf8(Y),severityText:Y,body:X,attributes:z};Z.emit(W)}Si0.emitLogRecord=Pf8});var yi0=B((hi0)=>{Object.defineProperty(hi0,"__esModule",{value:!0});hi0.OpenTelemetryTransportV3=void 0;var Lf8=Lz1(),Cf8=Ci0(),ki0=Ei0(),jf8=fi0();class bi0 extends Cf8{_logger;constructor(J){super(J);this._logger=Lf8.logs.getLogger(ki0.PACKAGE_NAME,ki0.PACKAGE_VERSION)}log(J,Z){try{(0,jf8.emitLogRecord)(J,this._logger)}catch(X){this.emit("warn",X)}if(this.emit("logged",J),Z)Z()}}hi0.OpenTelemetryTransportV3=bi0});var vi0=B((ez1)=>{Object.defineProperty(ez1,"__esModule",{value:!0});ez1.OpenTelemetryTransportV3=void 0;var Rf8=yi0();Object.defineProperty(ez1,"OpenTelemetryTransportV3",{enumerable:!0,get:function(){return Rf8.OpenTelemetryTransportV3}})});var li0=B((mi0)=>{Object.defineProperty(mi0,"__esModule",{value:!0});mi0.WinstonInstrumentation=void 0;var JW1=C(),w8=lp0(),TG=J6(),xi0=ip0(),gi0=[">=3 <4"],di0=[">=1 <3"];class ui0 extends TG.InstrumentationBase{constructor(J={}){super(xi0.PACKAGE_NAME,xi0.PACKAGE_VERSION,J)}init(){let J=new TG.InstrumentationNodeModuleDefinition("winston",gi0,(X)=>X,()=>{},[new TG.InstrumentationNodeModuleFile("winston/lib/winston/logger.js",gi0,(X)=>{if((0,TG.isWrapped)(X.prototype.write))this._unwrap(X.prototype,"write");if(this._wrap(X.prototype,"write",this._getPatchedWrite()),(0,TG.isWrapped)(X.prototype.configure))this._unwrap(X.prototype,"configure");return this._wrap(X.prototype,"configure",this._getPatchedConfigure()),X},(X)=>{if(X===void 0)return;this._unwrap(X.prototype,"write"),this._unwrap(X.prototype,"configure")})]),Z=new TG.InstrumentationNodeModuleDefinition("winston",di0,(X)=>X,()=>{},[new TG.InstrumentationNodeModuleFile("winston/lib/winston/logger.js",di0,(X)=>{let Y=X.Logger.prototype;if((0,TG.isWrapped)(Y.log))this._unwrap(Y,"log");return this._wrap(Y,"log",this._getPatchedLog()),X},(X)=>{if(X===void 0)return;this._unwrap(X.Logger.prototype,"log")})]);return[J,Z]}_callHook(J,Z){let{logHook:X}=this.getConfig();if(!X)return;(0,TG.safeExecuteInTheMiddle)(()=>X(J,Z),(Y)=>{if(Y)this._diag.error("error calling logHook",Y)},!0)}_getPatchedWrite(){return(J)=>{let Z=this;return function X(...Y){let $=Y[0];return Z._handleLogCorrelation($),J.apply(this,Y)}}}_getPatchedLog(){return(J)=>{let Z=this;return function X(...Y){let $={};Z._handleLogCorrelation($);let z=!1;for(let W=Y.length-1;W>=0;W--)if(typeof Y[W]==="object"){Y[W]=Object.assign(Y[W],$),z=!0;break}if(!z){let W=typeof Y[Y.length-1]==="function"?Y.length-1:Y.length;Y.splice(W,0,$)}return J.apply(this,Y)}}}_getPatchedConfigure(){return(J)=>{let Z=this;return function X(...Y){let $=Z.getConfig();if(!$.disableLogSending){if(Y&&Y.length>0)try{let{OpenTelemetryTransportV3:z}=vi0(),W=Y[0].transports,Q=Array.isArray(W)?W:[],G={};if($.logSeverity)G={level:Z._winstonLevelFromSeverity($.logSeverity,Y[0].levels)};let K=new z(G);if(W&&!Array.isArray(W))Q=[W];Q.push(K),Y[0].transports=Q}catch(z){Z._diag.warn("@opentelemetry/winston-transport is not available, log records will not be automatically sent.")}}return J.apply(this,Y)}}}_handleLogCorrelation(J){if(!this.getConfig().disableLogCorrelation){let Z=JW1.trace.getSpan(JW1.context.active());if(Z){let X=Z.spanContext();if((0,JW1.isSpanContextValid)(X)){let Y={trace_id:X.traceId,span_id:X.spanId,trace_flags:`0${X.traceFlags.toString(16)}`},$=Object.assign(J,Y);return this._callHook(Z,$),$}}}return J}_winstonLevelFromSeverity(J,Z){if(Z){if(Y(Z)){if(J>=w8.SeverityNumber.ERROR)return"error";else if(J>=w8.SeverityNumber.WARN)return"warn";else if(J>=w8.SeverityNumber.INFO)return"info";else if(J>=w8.SeverityNumber.DEBUG3)return"http";else if(J>=w8.SeverityNumber.DEBUG2)return"verbose";else if(J>=w8.SeverityNumber.DEBUG)return"debug";else if(J>=w8.SeverityNumber.TRACE)return"silly"}else if(X(Z)){if(J>=w8.SeverityNumber.ERROR)return"error";else if(J>=w8.SeverityNumber.WARN)return"warn";else if(J>=w8.SeverityNumber.INFO3)return"help";else if(J>=w8.SeverityNumber.INFO2)return"data";else if(J>=w8.SeverityNumber.INFO)return"info";else if(J>=w8.SeverityNumber.DEBUG)return"debug";else if(J>=w8.SeverityNumber.TRACE4)return"prompt";else if(J>=w8.SeverityNumber.TRACE3)return"verbose";else if(J>=w8.SeverityNumber.TRACE2)return"input";else if(J>=w8.SeverityNumber.TRACE)return"silly"}else if($(Z)){if(J>=w8.SeverityNumber.FATAL2)return"emerg";else if(J>=w8.SeverityNumber.FATAL)return"alert";else if(J>=w8.SeverityNumber.ERROR2)return"crit";else if(J>=w8.SeverityNumber.ERROR)return"error";else if(J>=w8.SeverityNumber.WARN)return"warning";else if(J>=w8.SeverityNumber.INFO2)return"notice";else if(J>=w8.SeverityNumber.INFO)return"info";else if(J>=w8.SeverityNumber.TRACE)return"debug"}this._diag.warn("failed to configure severity with existing winston levels")}function X(z){return z&&z.error!==void 0&&z.warn&&z.help&&z.data&&z.info&&z.debug&&z.prompt&&z.verbose&&z.input&&z.silly}function Y(z){return z&&z.error!==void 0&&z.warn&&z.info&&z.http&&z.verbose&&z.debug&&z.silly}function $(z){return z&&z.emerg!==void 0&&z.alert&&z.crit&&z.error&&z.warning&&z.notice&&z.info&&z.debug}return}}mi0.WinstonInstrumentation=ui0});var ni0=B((pi0)=>{Object.defineProperty(pi0,"__esModule",{value:!0})});var oi0=B((oq)=>{var Sf8=oq&&oq.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),ii0=oq&&oq.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))Sf8(Z,J,X)};Object.defineProperty(oq,"__esModule",{value:!0});ii0(li0(),oq);ii0(ni0(),oq)});var D2=B((si0)=>{Object.defineProperty(si0,"__esModule",{value:!0});si0.isTracingSuppressed=si0.unsuppressTracing=si0.suppressTracing=void 0;var Tf8=C(),ZW1=(0,Tf8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function ff8(J){return J.setValue(ZW1,!0)}si0.suppressTracing=ff8;function kf8(J){return J.deleteValue(ZW1)}si0.unsuppressTracing=kf8;function bf8(J){return J.getValue(ZW1)===!0}si0.isTracingSuppressed=bf8});var XW1=B((ri0)=>{Object.defineProperty(ri0,"__esModule",{value:!0});ri0.BAGGAGE_MAX_TOTAL_LENGTH=ri0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=ri0.BAGGAGE_MAX_NAME_VALUE_PAIRS=ri0.BAGGAGE_HEADER=ri0.BAGGAGE_ITEMS_SEPARATOR=ri0.BAGGAGE_PROPERTIES_SEPARATOR=ri0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;ri0.BAGGAGE_KEY_PAIR_SEPARATOR="=";ri0.BAGGAGE_PROPERTIES_SEPARATOR=";";ri0.BAGGAGE_ITEMS_SEPARATOR=",";ri0.BAGGAGE_HEADER="baggage";ri0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;ri0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;ri0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var YW1=B((Jo0)=>{Object.defineProperty(Jo0,"__esModule",{value:!0});Jo0.parseKeyPairsIntoRecord=Jo0.parsePairKeyValue=Jo0.getKeyPairs=Jo0.serializeKeyPairs=void 0;var mf8=C(),mU=XW1();function cf8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?mU.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>mU.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}Jo0.serializeKeyPairs=cf8;function lf8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=mU.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}Jo0.getKeyPairs=lf8;function ei0(J){let Z=J.split(mU.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(mU.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,mf8.baggageEntryMetadataFromString)(Z.join(mU.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}Jo0.parsePairKeyValue=ei0;function pf8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(mU.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=ei0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}Jo0.parseKeyPairsIntoRecord=pf8});var zo0=B((Yo0)=>{Object.defineProperty(Yo0,"__esModule",{value:!0});Yo0.W3CBaggagePropagator=void 0;var $W1=C(),sf8=D2(),cU=XW1(),zW1=YW1();class Xo0{inject(J,Z,X){let Y=$W1.propagation.getBaggage(J);if(!Y||(0,sf8.isTracingSuppressed)(J))return;let $=(0,zW1.getKeyPairs)(Y).filter((W)=>{return W.length<=cU.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,cU.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,zW1.serializeKeyPairs)($);if(z.length>0)X.set(Z,cU.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,cU.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(cU.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(cU.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,zW1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return $W1.propagation.setBaggage(J,$W1.propagation.createBaggage(z))}fields(){return[cU.BAGGAGE_HEADER]}}Yo0.W3CBaggagePropagator=Xo0});var Ko0=B((Qo0)=>{Object.defineProperty(Qo0,"__esModule",{value:!0});Qo0.AnchoredClock=void 0;class Wo0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}Qo0.AnchoredClock=Wo0});var Do0=B((Uo0)=>{Object.defineProperty(Uo0,"__esModule",{value:!0});Uo0.isAttributeValue=Uo0.isAttributeKey=Uo0.sanitizeAttributes=void 0;var qo0=C();function af8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!Bo0(X)){qo0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!Ho0(Y)){qo0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}Uo0.sanitizeAttributes=af8;function Bo0(J){return typeof J==="string"&&J.length>0}Uo0.isAttributeKey=Bo0;function Ho0(J){if(J==null)return!0;if(Array.isArray(J))return rf8(J);return Fo0(J)}Uo0.isAttributeValue=Ho0;function rf8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(Fo0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function Fo0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var WW1=B((Vo0)=>{Object.defineProperty(Vo0,"__esModule",{value:!0});Vo0.loggingErrorHandler=void 0;var Jk8=C();function Zk8(){return(J)=>{Jk8.diag.error(Xk8(J))}}Vo0.loggingErrorHandler=Zk8;function Xk8(J){if(typeof J==="string")return J;else return JSON.stringify(Yk8(J))}function Yk8(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var No0=B((Ao0)=>{Object.defineProperty(Ao0,"__esModule",{value:!0});Ao0.globalErrorHandler=Ao0.setGlobalErrorHandler=void 0;var $k8=WW1(),wo0=(0,$k8.loggingErrorHandler)();function zk8(J){wo0=J}Ao0.setGlobalErrorHandler=zk8;function Wk8(J){try{wo0(J)}catch{}}Ao0.globalErrorHandler=Wk8});var Eo0=B((jo0)=>{Object.defineProperty(jo0,"__esModule",{value:!0});jo0.getStringListFromEnv=jo0.getBooleanFromEnv=jo0.getStringFromEnv=jo0.getNumberFromEnv=void 0;var Po0=C(),Lo0=p("util");function Gk8(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){Po0.diag.warn(`Unknown value ${(0,Lo0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}jo0.getNumberFromEnv=Gk8;function Co0(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}jo0.getStringFromEnv=Co0;function Kk8(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return Po0.diag.warn(`Unknown value ${(0,Lo0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}jo0.getBooleanFromEnv=Kk8;function qk8(J){return Co0(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}jo0.getStringListFromEnv=qk8});var fo0=B((So0)=>{Object.defineProperty(So0,"__esModule",{value:!0});So0._globalThis=void 0;So0._globalThis=typeof globalThis==="object"?globalThis:global});var ho0=B((ko0)=>{Object.defineProperty(ko0,"__esModule",{value:!0});ko0.otperformance=void 0;var Uk8=p("perf_hooks");ko0.otperformance=Uk8.performance});var vo0=B((_o0)=>{Object.defineProperty(_o0,"__esModule",{value:!0});_o0.VERSION=void 0;_o0.VERSION="2.0.1"});var do0=B((xo0)=>{Object.defineProperty(xo0,"__esModule",{value:!0});xo0.ATTR_PROCESS_RUNTIME_NAME=void 0;xo0.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var co0=B((uo0)=>{Object.defineProperty(uo0,"__esModule",{value:!0});uo0.SDK_INFO=void 0;var Ok8=vo0(),Mg=j1(),Dk8=do0();uo0.SDK_INFO={[Mg.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[Dk8.ATTR_PROCESS_RUNTIME_NAME]:"node",[Mg.ATTR_TELEMETRY_SDK_LANGUAGE]:Mg.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[Mg.ATTR_TELEMETRY_SDK_VERSION]:Ok8.VERSION}});var no0=B((lo0)=>{Object.defineProperty(lo0,"__esModule",{value:!0});lo0.unrefTimer=void 0;function Vk8(J){J.unref()}lo0.unrefTimer=Vk8});var io0=B((Tz)=>{Object.defineProperty(Tz,"__esModule",{value:!0});Tz.unrefTimer=Tz.SDK_INFO=Tz.otperformance=Tz._globalThis=Tz.getStringListFromEnv=Tz.getNumberFromEnv=Tz.getBooleanFromEnv=Tz.getStringFromEnv=void 0;var Ng=Eo0();Object.defineProperty(Tz,"getStringFromEnv",{enumerable:!0,get:function(){return Ng.getStringFromEnv}});Object.defineProperty(Tz,"getBooleanFromEnv",{enumerable:!0,get:function(){return Ng.getBooleanFromEnv}});Object.defineProperty(Tz,"getNumberFromEnv",{enumerable:!0,get:function(){return Ng.getNumberFromEnv}});Object.defineProperty(Tz,"getStringListFromEnv",{enumerable:!0,get:function(){return Ng.getStringListFromEnv}});var Ik8=fo0();Object.defineProperty(Tz,"_globalThis",{enumerable:!0,get:function(){return Ik8._globalThis}});var wk8=ho0();Object.defineProperty(Tz,"otperformance",{enumerable:!0,get:function(){return wk8.otperformance}});var Ak8=co0();Object.defineProperty(Tz,"SDK_INFO",{enumerable:!0,get:function(){return Ak8.SDK_INFO}});var Mk8=no0();Object.defineProperty(Tz,"unrefTimer",{enumerable:!0,get:function(){return Mk8.unrefTimer}})});var QW1=B((fz)=>{Object.defineProperty(fz,"__esModule",{value:!0});fz.getStringListFromEnv=fz.getNumberFromEnv=fz.getStringFromEnv=fz.getBooleanFromEnv=fz.unrefTimer=fz.otperformance=fz._globalThis=fz.SDK_INFO=void 0;var sq=io0();Object.defineProperty(fz,"SDK_INFO",{enumerable:!0,get:function(){return sq.SDK_INFO}});Object.defineProperty(fz,"_globalThis",{enumerable:!0,get:function(){return sq._globalThis}});Object.defineProperty(fz,"otperformance",{enumerable:!0,get:function(){return sq.otperformance}});Object.defineProperty(fz,"unrefTimer",{enumerable:!0,get:function(){return sq.unrefTimer}});Object.defineProperty(fz,"getBooleanFromEnv",{enumerable:!0,get:function(){return sq.getBooleanFromEnv}});Object.defineProperty(fz,"getStringFromEnv",{enumerable:!0,get:function(){return sq.getStringFromEnv}});Object.defineProperty(fz,"getNumberFromEnv",{enumerable:!0,get:function(){return sq.getNumberFromEnv}});Object.defineProperty(fz,"getStringListFromEnv",{enumerable:!0,get:function(){return sq.getStringListFromEnv}})});var eo0=B((ro0)=>{Object.defineProperty(ro0,"__esModule",{value:!0});ro0.addHrTimes=ro0.isTimeInput=ro0.isTimeInputHrTime=ro0.hrTimeToMicroseconds=ro0.hrTimeToMilliseconds=ro0.hrTimeToNanoseconds=ro0.hrTimeToTimeStamp=ro0.hrTimeDuration=ro0.timeInputToHrTime=ro0.hrTime=ro0.getTimeOrigin=ro0.millisToHrTime=void 0;var GW1=QW1(),oo0=9,Lk8=6,Ck8=Math.pow(10,Lk8),Pg=Math.pow(10,oo0);function V2(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*Ck8);return[X,Y]}ro0.millisToHrTime=V2;function KW1(){let J=GW1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=GW1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}ro0.getTimeOrigin=KW1;function so0(J){let Z=V2(KW1()),X=V2(typeof J==="number"?J:GW1.otperformance.now());return ao0(Z,X)}ro0.hrTime=so0;function jk8(J){if(qW1(J))return J;else if(typeof J==="number")if(J<KW1())return so0(J);else return V2(J);else if(J instanceof Date)return V2(J.getTime());else throw TypeError("Invalid input type")}ro0.timeInputToHrTime=jk8;function Rk8(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=Pg;return[X,Y]}ro0.hrTimeDuration=Rk8;function Ek8(J){let Z=oo0,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}ro0.hrTimeToTimeStamp=Ek8;function Sk8(J){return J[0]*Pg+J[1]}ro0.hrTimeToNanoseconds=Sk8;function Tk8(J){return J[0]*1000+J[1]/1e6}ro0.hrTimeToMilliseconds=Tk8;function fk8(J){return J[0]*1e6+J[1]/1000}ro0.hrTimeToMicroseconds=fk8;function qW1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}ro0.isTimeInputHrTime=qW1;function kk8(J){return qW1(J)||typeof J==="number"||J instanceof Date}ro0.isTimeInput=kk8;function ao0(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=Pg)X[1]-=Pg,X[0]+=1;return X}ro0.addHrTimes=ao0});var Zs0=B((Js0)=>{Object.defineProperty(Js0,"__esModule",{value:!0});Js0.ExportResultCode=void 0;var lk8;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(lk8=Js0.ExportResultCode||(Js0.ExportResultCode={}))});var Ws0=B(($s0)=>{Object.defineProperty($s0,"__esModule",{value:!0});$s0.CompositePropagator=void 0;var Xs0=C();class Ys0{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){Xs0.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){Xs0.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}$s0.CompositePropagator=Ys0});var Ks0=B((Qs0)=>{Object.defineProperty(Qs0,"__esModule",{value:!0});Qs0.validateValue=Qs0.validateKey=void 0;var HW1="[_0-9a-z-*/]",pk8=`[a-z]${HW1}{0,255}`,nk8=`[a-z0-9]${HW1}{0,240}@[a-z]${HW1}{0,13}`,ik8=new RegExp(`^(?:${pk8}|${nk8})$`),ok8=/^[ -~]{0,255}[!-~]$/,sk8=/,|=/;function ak8(J){return ik8.test(J)}Qs0.validateKey=ak8;function rk8(J){return ok8.test(J)&&!sk8.test(J)}Qs0.validateValue=rk8});var UW1=B((Us0)=>{Object.defineProperty(Us0,"__esModule",{value:!0});Us0.TraceState=void 0;var qs0=Ks0(),Bs0=32,ek8=512,Hs0=",",Fs0="=";class FW1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+Fs0+this.get(Z)),J},[]).join(Hs0)}_parse(J){if(J.length>ek8)return;if(this._internalState=J.split(Hs0).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(Fs0);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,qs0.validateKey)(z)&&(0,qs0.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>Bs0)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Bs0))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new FW1;return J._internalState=new Map(this._internalState),J}}Us0.TraceState=FW1});var As0=B((Is0)=>{Object.defineProperty(Is0,"__esModule",{value:!0});Is0.W3CTraceContextPropagator=Is0.parseTraceParent=Is0.TRACE_STATE_HEADER=Is0.TRACE_PARENT_HEADER=void 0;var Lg=C(),Jb8=D2(),Zb8=UW1();Is0.TRACE_PARENT_HEADER="traceparent";Is0.TRACE_STATE_HEADER="tracestate";var Xb8="00",Yb8="(?!ff)[\\da-f]{2}",$b8="(?![0]{32})[\\da-f]{32}",zb8="(?![0]{16})[\\da-f]{16}",Wb8="[\\da-f]{2}",Qb8=new RegExp(`^\\s?(${Yb8})-(${$b8})-(${zb8})-(${Wb8})(-.*)?\\s?$`);function Ds0(J){let Z=Qb8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}Is0.parseTraceParent=Ds0;class Vs0{inject(J,Z,X){let Y=Lg.trace.getSpanContext(J);if(!Y||(0,Jb8.isTracingSuppressed)(J)||!(0,Lg.isSpanContextValid)(Y))return;let $=`${Xb8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||Lg.TraceFlags.NONE).toString(16)}`;if(X.set(Z,Is0.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,Is0.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,Is0.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=Ds0($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,Is0.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new Zb8.TraceState(typeof Q==="string"?Q:void 0)}return Lg.trace.setSpanContext(J,z)}fields(){return[Is0.TRACE_PARENT_HEADER,Is0.TRACE_STATE_HEADER]}}Is0.W3CTraceContextPropagator=Vs0});var Ls0=B((Ns0)=>{Object.defineProperty(Ns0,"__esModule",{value:!0});Ns0.getRPCMetadata=Ns0.deleteRPCMetadata=Ns0.setRPCMetadata=Ns0.RPCType=void 0;var Kb8=C(),OW1=(0,Kb8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),qb8;(function(J){J.HTTP="http"})(qb8=Ns0.RPCType||(Ns0.RPCType={}));function Bb8(J,Z){return J.setValue(OW1,Z)}Ns0.setRPCMetadata=Bb8;function Hb8(J){return J.deleteValue(OW1)}Ns0.deleteRPCMetadata=Hb8;function Fb8(J){return J.getValue(OW1)}Ns0.getRPCMetadata=Fb8});var fs0=B((Ss0)=>{Object.defineProperty(Ss0,"__esModule",{value:!0});Ss0.isPlainObject=void 0;var Db8="[object Object]",Vb8="[object Null]",Ib8="[object Undefined]",wb8=Function.prototype,Cs0=wb8.toString,Ab8=Cs0.call(Object),Mb8=Object.getPrototypeOf,js0=Object.prototype,Rs0=js0.hasOwnProperty,lU=Symbol?Symbol.toStringTag:void 0,Es0=js0.toString;function Nb8(J){if(!Pb8(J)||Lb8(J)!==Db8)return!1;let Z=Mb8(J);if(Z===null)return!0;let X=Rs0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&Cs0.call(X)===Ab8}Ss0.isPlainObject=Nb8;function Pb8(J){return J!=null&&typeof J=="object"}function Lb8(J){if(J==null)return J===void 0?Ib8:Vb8;return lU&&lU in Object(J)?Cb8(J):jb8(J)}function Cb8(J){let Z=Rs0.call(J,lU),X=J[lU],Y=!1;try{J[lU]=void 0,Y=!0}catch(z){}let $=Es0.call(J);if(Y)if(Z)J[lU]=X;else delete J[lU];return $}function jb8(J){return Es0.call(J)}});var xs0=B((ys0)=>{Object.defineProperty(ys0,"__esModule",{value:!0});ys0.merge=void 0;var ks0=fs0(),Rb8=20;function Eb8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=hs0(Z,J.shift(),0,X);return Z}ys0.merge=Eb8;function DW1(J){if(Eg(J))return J.slice();return J}function hs0(J,Z,X=0,Y){let $;if(X>Rb8)return;if(X++,Rg(J)||Rg(Z)||_s0(Z))$=DW1(Z);else if(Eg(J)){if($=J.slice(),Eg(Z))for(let z=0,W=Z.length;z<W;z++)$.push(DW1(Z[z]));else if(I2(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=DW1(Z[G])}}}else if(I2(J))if(I2(Z)){if(!Sb8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(Rg(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(bs0(J,G,Y)||bs0(Z,G,Y))delete $[G];else{if(I2(q)&&I2(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=hs0($[G],K,X,Y)}}}}else $=Z;return $}function bs0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function Eg(J){return Array.isArray(J)}function _s0(J){return typeof J==="function"}function I2(J){return!Rg(J)&&!Eg(J)&&!_s0(J)&&typeof J==="object"}function Rg(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function Sb8(J,Z){if(!(0,ks0.isPlainObject)(J)||!(0,ks0.isPlainObject)(Z))return!1;return!0}});var us0=B((gs0)=>{Object.defineProperty(gs0,"__esModule",{value:!0});gs0.callWithTimeout=gs0.TimeoutError=void 0;class Sg extends Error{constructor(J){super(J);Object.setPrototypeOf(this,Sg.prototype)}}gs0.TimeoutError=Sg;function Tb8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new Sg("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}gs0.callWithTimeout=Tb8});var ps0=B((cs0)=>{Object.defineProperty(cs0,"__esModule",{value:!0});cs0.isUrlIgnored=cs0.urlMatches=void 0;function ms0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}cs0.urlMatches=ms0;function kb8(J,Z){if(!Z)return!1;for(let X of Z)if(ms0(J,X))return!0;return!1}cs0.isUrlIgnored=kb8});var ss0=B((is0)=>{Object.defineProperty(is0,"__esModule",{value:!0});is0.Deferred=void 0;class ns0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}is0.Deferred=ns0});var es0=B((rs0)=>{Object.defineProperty(rs0,"__esModule",{value:!0});rs0.BindOnceFuture=void 0;var hb8=ss0();class as0{_callback;_that;_isCalled=!1;_deferred=new hb8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}rs0.BindOnceFuture=as0});var Ya0=B((Za0)=>{Object.defineProperty(Za0,"__esModule",{value:!0});Za0.diagLogLevelFromString=void 0;var fG=C(),Ja0={ALL:fG.DiagLogLevel.ALL,VERBOSE:fG.DiagLogLevel.VERBOSE,DEBUG:fG.DiagLogLevel.DEBUG,INFO:fG.DiagLogLevel.INFO,WARN:fG.DiagLogLevel.WARN,ERROR:fG.DiagLogLevel.ERROR,NONE:fG.DiagLogLevel.NONE};function _b8(J){if(J==null)return;let Z=Ja0[J.toUpperCase()];if(Z==null)return fG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(Ja0)}, using default`),fG.DiagLogLevel.INFO;return Z}Za0.diagLogLevelFromString=_b8});var Qa0=B((za0)=>{Object.defineProperty(za0,"__esModule",{value:!0});za0._export=void 0;var $a0=C(),yb8=D2();function vb8(J,Z){return new Promise((X)=>{$a0.context.with((0,yb8.suppressTracing)($a0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}za0._export=vb8});var Fa0=B((k0)=>{Object.defineProperty(k0,"__esModule",{value:!0});k0.internal=k0.diagLogLevelFromString=k0.BindOnceFuture=k0.urlMatches=k0.isUrlIgnored=k0.callWithTimeout=k0.TimeoutError=k0.merge=k0.TraceState=k0.unsuppressTracing=k0.suppressTracing=k0.isTracingSuppressed=k0.setRPCMetadata=k0.getRPCMetadata=k0.deleteRPCMetadata=k0.RPCType=k0.parseTraceParent=k0.W3CTraceContextPropagator=k0.TRACE_STATE_HEADER=k0.TRACE_PARENT_HEADER=k0.CompositePropagator=k0.unrefTimer=k0.otperformance=k0.getStringListFromEnv=k0.getNumberFromEnv=k0.getBooleanFromEnv=k0.getStringFromEnv=k0._globalThis=k0.SDK_INFO=k0.parseKeyPairsIntoRecord=k0.ExportResultCode=k0.timeInputToHrTime=k0.millisToHrTime=k0.isTimeInputHrTime=k0.isTimeInput=k0.hrTimeToTimeStamp=k0.hrTimeToNanoseconds=k0.hrTimeToMilliseconds=k0.hrTimeToMicroseconds=k0.hrTimeDuration=k0.hrTime=k0.getTimeOrigin=k0.addHrTimes=k0.loggingErrorHandler=k0.setGlobalErrorHandler=k0.globalErrorHandler=k0.sanitizeAttributes=k0.isAttributeValue=k0.AnchoredClock=k0.W3CBaggagePropagator=void 0;var xb8=zo0();Object.defineProperty(k0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return xb8.W3CBaggagePropagator}});var gb8=Ko0();Object.defineProperty(k0,"AnchoredClock",{enumerable:!0,get:function(){return gb8.AnchoredClock}});var Ga0=Do0();Object.defineProperty(k0,"isAttributeValue",{enumerable:!0,get:function(){return Ga0.isAttributeValue}});Object.defineProperty(k0,"sanitizeAttributes",{enumerable:!0,get:function(){return Ga0.sanitizeAttributes}});var Ka0=No0();Object.defineProperty(k0,"globalErrorHandler",{enumerable:!0,get:function(){return Ka0.globalErrorHandler}});Object.defineProperty(k0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return Ka0.setGlobalErrorHandler}});var db8=WW1();Object.defineProperty(k0,"loggingErrorHandler",{enumerable:!0,get:function(){return db8.loggingErrorHandler}});var ZX=eo0();Object.defineProperty(k0,"addHrTimes",{enumerable:!0,get:function(){return ZX.addHrTimes}});Object.defineProperty(k0,"getTimeOrigin",{enumerable:!0,get:function(){return ZX.getTimeOrigin}});Object.defineProperty(k0,"hrTime",{enumerable:!0,get:function(){return ZX.hrTime}});Object.defineProperty(k0,"hrTimeDuration",{enumerable:!0,get:function(){return ZX.hrTimeDuration}});Object.defineProperty(k0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return ZX.hrTimeToMicroseconds}});Object.defineProperty(k0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return ZX.hrTimeToMilliseconds}});Object.defineProperty(k0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return ZX.hrTimeToNanoseconds}});Object.defineProperty(k0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return ZX.hrTimeToTimeStamp}});Object.defineProperty(k0,"isTimeInput",{enumerable:!0,get:function(){return ZX.isTimeInput}});Object.defineProperty(k0,"isTimeInputHrTime",{enumerable:!0,get:function(){return ZX.isTimeInputHrTime}});Object.defineProperty(k0,"millisToHrTime",{enumerable:!0,get:function(){return ZX.millisToHrTime}});Object.defineProperty(k0,"timeInputToHrTime",{enumerable:!0,get:function(){return ZX.timeInputToHrTime}});var ub8=Zs0();Object.defineProperty(k0,"ExportResultCode",{enumerable:!0,get:function(){return ub8.ExportResultCode}});var mb8=YW1();Object.defineProperty(k0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return mb8.parseKeyPairsIntoRecord}});var aq=QW1();Object.defineProperty(k0,"SDK_INFO",{enumerable:!0,get:function(){return aq.SDK_INFO}});Object.defineProperty(k0,"_globalThis",{enumerable:!0,get:function(){return aq._globalThis}});Object.defineProperty(k0,"getStringFromEnv",{enumerable:!0,get:function(){return aq.getStringFromEnv}});Object.defineProperty(k0,"getBooleanFromEnv",{enumerable:!0,get:function(){return aq.getBooleanFromEnv}});Object.defineProperty(k0,"getNumberFromEnv",{enumerable:!0,get:function(){return aq.getNumberFromEnv}});Object.defineProperty(k0,"getStringListFromEnv",{enumerable:!0,get:function(){return aq.getStringListFromEnv}});Object.defineProperty(k0,"otperformance",{enumerable:!0,get:function(){return aq.otperformance}});Object.defineProperty(k0,"unrefTimer",{enumerable:!0,get:function(){return aq.unrefTimer}});var cb8=Ws0();Object.defineProperty(k0,"CompositePropagator",{enumerable:!0,get:function(){return cb8.CompositePropagator}});var Tg=As0();Object.defineProperty(k0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return Tg.TRACE_PARENT_HEADER}});Object.defineProperty(k0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return Tg.TRACE_STATE_HEADER}});Object.defineProperty(k0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return Tg.W3CTraceContextPropagator}});Object.defineProperty(k0,"parseTraceParent",{enumerable:!0,get:function(){return Tg.parseTraceParent}});var fg=Ls0();Object.defineProperty(k0,"RPCType",{enumerable:!0,get:function(){return fg.RPCType}});Object.defineProperty(k0,"deleteRPCMetadata",{enumerable:!0,get:function(){return fg.deleteRPCMetadata}});Object.defineProperty(k0,"getRPCMetadata",{enumerable:!0,get:function(){return fg.getRPCMetadata}});Object.defineProperty(k0,"setRPCMetadata",{enumerable:!0,get:function(){return fg.setRPCMetadata}});var VW1=D2();Object.defineProperty(k0,"isTracingSuppressed",{enumerable:!0,get:function(){return VW1.isTracingSuppressed}});Object.defineProperty(k0,"suppressTracing",{enumerable:!0,get:function(){return VW1.suppressTracing}});Object.defineProperty(k0,"unsuppressTracing",{enumerable:!0,get:function(){return VW1.unsuppressTracing}});var lb8=UW1();Object.defineProperty(k0,"TraceState",{enumerable:!0,get:function(){return lb8.TraceState}});var pb8=xs0();Object.defineProperty(k0,"merge",{enumerable:!0,get:function(){return pb8.merge}});var qa0=us0();Object.defineProperty(k0,"TimeoutError",{enumerable:!0,get:function(){return qa0.TimeoutError}});Object.defineProperty(k0,"callWithTimeout",{enumerable:!0,get:function(){return qa0.callWithTimeout}});var Ba0=ps0();Object.defineProperty(k0,"isUrlIgnored",{enumerable:!0,get:function(){return Ba0.isUrlIgnored}});Object.defineProperty(k0,"urlMatches",{enumerable:!0,get:function(){return Ba0.urlMatches}});var nb8=es0();Object.defineProperty(k0,"BindOnceFuture",{enumerable:!0,get:function(){return nb8.BindOnceFuture}});var ib8=Ya0();Object.defineProperty(k0,"diagLogLevelFromString",{enumerable:!0,get:function(){return ib8.diagLogLevelFromString}});var ob8=Qa0();k0.internal={_export:ob8._export}});var Va0=B((Oa0)=>{Object.defineProperty(Oa0,"__esModule",{value:!0});Oa0.alibabaCloudEcsDetector=void 0;var IW1=C(),sb8=Fa0(),J9=j1(),ab8=p("http");class Ua0{ALIBABA_CLOUD_IDMS_ENDPOINT="100.100.100.200";ALIBABA_CLOUD_INSTANCE_IDENTITY_DOCUMENT_PATH="/latest/dynamic/instance-identity/document";ALIBABA_CLOUD_INSTANCE_HOST_DOCUMENT_PATH="/latest/meta-data/hostname";MILLISECONDS_TIME_OUT=1000;detect(){let J=IW1.context.with((0,sb8.suppressTracing)(IW1.context.active()),()=>this._gatherData()),Z=[J9.SEMRESATTRS_CLOUD_PROVIDER,J9.SEMRESATTRS_CLOUD_PLATFORM,J9.SEMRESATTRS_CLOUD_ACCOUNT_ID,J9.SEMRESATTRS_CLOUD_REGION,J9.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE,J9.SEMRESATTRS_HOST_ID,J9.SEMRESATTRS_HOST_TYPE,J9.SEMRESATTRS_HOST_NAME],X={};return Z.forEach((Y)=>{X[Y]=J.then(($)=>$[Y])}),{attributes:X}}async _gatherData(){try{let{"owner-account-id":J,"instance-id":Z,"instance-type":X,"region-id":Y,"zone-id":$}=await this._fetchIdentity(),z=await this._fetchHost();return{[J9.SEMRESATTRS_CLOUD_PROVIDER]:J9.CLOUDPROVIDERVALUES_ALIBABA_CLOUD,[J9.SEMRESATTRS_CLOUD_PLATFORM]:J9.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS,[J9.SEMRESATTRS_CLOUD_ACCOUNT_ID]:J,[J9.SEMRESATTRS_CLOUD_REGION]:Y,[J9.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE]:$,[J9.SEMRESATTRS_HOST_ID]:Z,[J9.SEMRESATTRS_HOST_TYPE]:X,[J9.SEMRESATTRS_HOST_NAME]:z}}catch(J){return IW1.diag.debug(`${this.constructor.name}: did not detect resource: ${J?.message}`),{}}}async _fetchIdentity(){let J={host:this.ALIBABA_CLOUD_IDMS_ENDPOINT,path:this.ALIBABA_CLOUD_INSTANCE_IDENTITY_DOCUMENT_PATH,method:"GET",timeout:this.MILLISECONDS_TIME_OUT},Z=await this._fetchString(J);return JSON.parse(Z)}async _fetchHost(){let J={host:this.ALIBABA_CLOUD_IDMS_ENDPOINT,path:this.ALIBABA_CLOUD_INSTANCE_HOST_DOCUMENT_PATH,method:"GET",timeout:this.MILLISECONDS_TIME_OUT};return await this._fetchString(J)}async _fetchString(J){return new Promise((Z,X)=>{let Y=setTimeout(()=>{$.destroy(new Error("ECS metadata api request timed out."))},this.MILLISECONDS_TIME_OUT),$=ab8.request(J,(z)=>{clearTimeout(Y);let{statusCode:W}=z;if(typeof W!=="number"||!(W>=200&&W<300))return z.destroy(),X(new Error(`Failed to load page, status code: ${W}`));z.setEncoding("utf8");let Q="";z.on("data",(G)=>Q+=G),z.on("error",(G)=>{X(G)}),z.on("end",()=>{Z(Q)})});$.on("error",(z)=>{clearTimeout(Y),X(z)}),$.end()})}}Oa0.alibabaCloudEcsDetector=new Ua0});var Ia0=B((wW1)=>{Object.defineProperty(wW1,"__esModule",{value:!0});wW1.alibabaCloudEcsDetector=void 0;var rb8=Va0();Object.defineProperty(wW1,"alibabaCloudEcsDetector",{enumerable:!0,get:function(){return rb8.alibabaCloudEcsDetector}})});var wa0=B((AW1)=>{Object.defineProperty(AW1,"__esModule",{value:!0});AW1.alibabaCloudEcsDetector=void 0;var eb8=Ia0();Object.defineProperty(AW1,"alibabaCloudEcsDetector",{enumerable:!0,get:function(){return eb8.alibabaCloudEcsDetector}})});var w2=B((Aa0)=>{Object.defineProperty(Aa0,"__esModule",{value:!0});Aa0.isTracingSuppressed=Aa0.unsuppressTracing=Aa0.suppressTracing=void 0;var Zh8=C(),MW1=(0,Zh8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Xh8(J){return J.setValue(MW1,!0)}Aa0.suppressTracing=Xh8;function Yh8(J){return J.deleteValue(MW1)}Aa0.unsuppressTracing=Yh8;function $h8(J){return J.getValue(MW1)===!0}Aa0.isTracingSuppressed=$h8});var NW1=B((Na0)=>{Object.defineProperty(Na0,"__esModule",{value:!0});Na0.BAGGAGE_MAX_TOTAL_LENGTH=Na0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Na0.BAGGAGE_MAX_NAME_VALUE_PAIRS=Na0.BAGGAGE_HEADER=Na0.BAGGAGE_ITEMS_SEPARATOR=Na0.BAGGAGE_PROPERTIES_SEPARATOR=Na0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Na0.BAGGAGE_KEY_PAIR_SEPARATOR="=";Na0.BAGGAGE_PROPERTIES_SEPARATOR=";";Na0.BAGGAGE_ITEMS_SEPARATOR=",";Na0.BAGGAGE_HEADER="baggage";Na0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Na0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Na0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var PW1=B((Ca0)=>{Object.defineProperty(Ca0,"__esModule",{value:!0});Ca0.parseKeyPairsIntoRecord=Ca0.parsePairKeyValue=Ca0.getKeyPairs=Ca0.serializeKeyPairs=void 0;var Fh8=C(),pU=NW1();function Uh8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?pU.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>pU.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}Ca0.serializeKeyPairs=Uh8;function Oh8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=pU.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}Ca0.getKeyPairs=Oh8;function La0(J){let Z=J.split(pU.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(pU.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,Fh8.baggageEntryMetadataFromString)(Z.join(pU.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}Ca0.parsePairKeyValue=La0;function Dh8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(pU.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=La0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}Ca0.parseKeyPairsIntoRecord=Dh8});var Ta0=B((Ea0)=>{Object.defineProperty(Ea0,"__esModule",{value:!0});Ea0.W3CBaggagePropagator=void 0;var LW1=C(),Ah8=w2(),nU=NW1(),CW1=PW1();class Ra0{inject(J,Z,X){let Y=LW1.propagation.getBaggage(J);if(!Y||(0,Ah8.isTracingSuppressed)(J))return;let $=(0,CW1.getKeyPairs)(Y).filter((W)=>{return W.length<=nU.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,nU.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,CW1.serializeKeyPairs)($);if(z.length>0)X.set(Z,nU.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,nU.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(nU.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(nU.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,CW1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return LW1.propagation.setBaggage(J,LW1.propagation.createBaggage(z))}fields(){return[nU.BAGGAGE_HEADER]}}Ea0.W3CBaggagePropagator=Ra0});var ha0=B((ka0)=>{Object.defineProperty(ka0,"__esModule",{value:!0});ka0.AnchoredClock=void 0;class fa0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}ka0.AnchoredClock=fa0});var ua0=B((ga0)=>{Object.defineProperty(ga0,"__esModule",{value:!0});ga0.isAttributeValue=ga0.isAttributeKey=ga0.sanitizeAttributes=void 0;var _a0=C();function Mh8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!ya0(X)){_a0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!va0(Y)){_a0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}ga0.sanitizeAttributes=Mh8;function ya0(J){return typeof J==="string"&&J.length>0}ga0.isAttributeKey=ya0;function va0(J){if(J==null)return!0;if(Array.isArray(J))return Nh8(J);return xa0(J)}ga0.isAttributeValue=va0;function Nh8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(xa0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function xa0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var jW1=B((ma0)=>{Object.defineProperty(ma0,"__esModule",{value:!0});ma0.loggingErrorHandler=void 0;var Ch8=C();function jh8(){return(J)=>{Ch8.diag.error(Rh8(J))}}ma0.loggingErrorHandler=jh8;function Rh8(J){if(typeof J==="string")return J;else return JSON.stringify(Eh8(J))}function Eh8(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var ia0=B((pa0)=>{Object.defineProperty(pa0,"__esModule",{value:!0});pa0.globalErrorHandler=pa0.setGlobalErrorHandler=void 0;var Sh8=jW1(),la0=(0,Sh8.loggingErrorHandler)();function Th8(J){la0=J}pa0.setGlobalErrorHandler=Th8;function fh8(J){try{la0(J)}catch{}}pa0.globalErrorHandler=fh8});var ea0=B((ra0)=>{Object.defineProperty(ra0,"__esModule",{value:!0});ra0.getStringListFromEnv=ra0.getBooleanFromEnv=ra0.getStringFromEnv=ra0.getNumberFromEnv=void 0;var oa0=C(),sa0=p("util");function bh8(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){oa0.diag.warn(`Unknown value ${(0,sa0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}ra0.getNumberFromEnv=bh8;function aa0(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}ra0.getStringFromEnv=aa0;function hh8(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return oa0.diag.warn(`Unknown value ${(0,sa0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}ra0.getBooleanFromEnv=hh8;function _h8(J){return aa0(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}ra0.getStringListFromEnv=_h8});var Xr0=B((Jr0)=>{Object.defineProperty(Jr0,"__esModule",{value:!0});Jr0._globalThis=void 0;Jr0._globalThis=typeof globalThis==="object"?globalThis:global});var zr0=B((Yr0)=>{Object.defineProperty(Yr0,"__esModule",{value:!0});Yr0.otperformance=void 0;var gh8=p("perf_hooks");Yr0.otperformance=gh8.performance});var Gr0=B((Wr0)=>{Object.defineProperty(Wr0,"__esModule",{value:!0});Wr0.VERSION=void 0;Wr0.VERSION="2.0.1"});var Br0=B((Kr0)=>{Object.defineProperty(Kr0,"__esModule",{value:!0});Kr0.ATTR_PROCESS_RUNTIME_NAME=void 0;Kr0.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var Ur0=B((Hr0)=>{Object.defineProperty(Hr0,"__esModule",{value:!0});Hr0.SDK_INFO=void 0;var dh8=Gr0(),kg=j1(),uh8=Br0();Hr0.SDK_INFO={[kg.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[uh8.ATTR_PROCESS_RUNTIME_NAME]:"node",[kg.ATTR_TELEMETRY_SDK_LANGUAGE]:kg.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[kg.ATTR_TELEMETRY_SDK_VERSION]:dh8.VERSION}});var Vr0=B((Or0)=>{Object.defineProperty(Or0,"__esModule",{value:!0});Or0.unrefTimer=void 0;function mh8(J){J.unref()}Or0.unrefTimer=mh8});var Ir0=B((kz)=>{Object.defineProperty(kz,"__esModule",{value:!0});kz.unrefTimer=kz.SDK_INFO=kz.otperformance=kz._globalThis=kz.getStringListFromEnv=kz.getNumberFromEnv=kz.getBooleanFromEnv=kz.getStringFromEnv=void 0;var bg=ea0();Object.defineProperty(kz,"getStringFromEnv",{enumerable:!0,get:function(){return bg.getStringFromEnv}});Object.defineProperty(kz,"getBooleanFromEnv",{enumerable:!0,get:function(){return bg.getBooleanFromEnv}});Object.defineProperty(kz,"getNumberFromEnv",{enumerable:!0,get:function(){return bg.getNumberFromEnv}});Object.defineProperty(kz,"getStringListFromEnv",{enumerable:!0,get:function(){return bg.getStringListFromEnv}});var ch8=Xr0();Object.defineProperty(kz,"_globalThis",{enumerable:!0,get:function(){return ch8._globalThis}});var lh8=zr0();Object.defineProperty(kz,"otperformance",{enumerable:!0,get:function(){return lh8.otperformance}});var ph8=Ur0();Object.defineProperty(kz,"SDK_INFO",{enumerable:!0,get:function(){return ph8.SDK_INFO}});var nh8=Vr0();Object.defineProperty(kz,"unrefTimer",{enumerable:!0,get:function(){return nh8.unrefTimer}})});var RW1=B((bz)=>{Object.defineProperty(bz,"__esModule",{value:!0});bz.getStringListFromEnv=bz.getNumberFromEnv=bz.getStringFromEnv=bz.getBooleanFromEnv=bz.unrefTimer=bz.otperformance=bz._globalThis=bz.SDK_INFO=void 0;var rq=Ir0();Object.defineProperty(bz,"SDK_INFO",{enumerable:!0,get:function(){return rq.SDK_INFO}});Object.defineProperty(bz,"_globalThis",{enumerable:!0,get:function(){return rq._globalThis}});Object.defineProperty(bz,"otperformance",{enumerable:!0,get:function(){return rq.otperformance}});Object.defineProperty(bz,"unrefTimer",{enumerable:!0,get:function(){return rq.unrefTimer}});Object.defineProperty(bz,"getBooleanFromEnv",{enumerable:!0,get:function(){return rq.getBooleanFromEnv}});Object.defineProperty(bz,"getStringFromEnv",{enumerable:!0,get:function(){return rq.getStringFromEnv}});Object.defineProperty(bz,"getNumberFromEnv",{enumerable:!0,get:function(){return rq.getNumberFromEnv}});Object.defineProperty(bz,"getStringListFromEnv",{enumerable:!0,get:function(){return rq.getStringListFromEnv}})});var Lr0=B((Nr0)=>{Object.defineProperty(Nr0,"__esModule",{value:!0});Nr0.addHrTimes=Nr0.isTimeInput=Nr0.isTimeInputHrTime=Nr0.hrTimeToMicroseconds=Nr0.hrTimeToMilliseconds=Nr0.hrTimeToNanoseconds=Nr0.hrTimeToTimeStamp=Nr0.hrTimeDuration=Nr0.timeInputToHrTime=Nr0.hrTime=Nr0.getTimeOrigin=Nr0.millisToHrTime=void 0;var EW1=RW1(),wr0=9,sh8=6,ah8=Math.pow(10,sh8),hg=Math.pow(10,wr0);function A2(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*ah8);return[X,Y]}Nr0.millisToHrTime=A2;function SW1(){let J=EW1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=EW1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}Nr0.getTimeOrigin=SW1;function Ar0(J){let Z=A2(SW1()),X=A2(typeof J==="number"?J:EW1.otperformance.now());return Mr0(Z,X)}Nr0.hrTime=Ar0;function rh8(J){if(TW1(J))return J;else if(typeof J==="number")if(J<SW1())return Ar0(J);else return A2(J);else if(J instanceof Date)return A2(J.getTime());else throw TypeError("Invalid input type")}Nr0.timeInputToHrTime=rh8;function th8(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=hg;return[X,Y]}Nr0.hrTimeDuration=th8;function eh8(J){let Z=wr0,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}Nr0.hrTimeToTimeStamp=eh8;function J_8(J){return J[0]*hg+J[1]}Nr0.hrTimeToNanoseconds=J_8;function Z_8(J){return J[0]*1000+J[1]/1e6}Nr0.hrTimeToMilliseconds=Z_8;function X_8(J){return J[0]*1e6+J[1]/1000}Nr0.hrTimeToMicroseconds=X_8;function TW1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}Nr0.isTimeInputHrTime=TW1;function Y_8(J){return TW1(J)||typeof J==="number"||J instanceof Date}Nr0.isTimeInput=Y_8;function Mr0(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=hg)X[1]-=hg,X[0]+=1;return X}Nr0.addHrTimes=Mr0});var jr0=B((Cr0)=>{Object.defineProperty(Cr0,"__esModule",{value:!0});Cr0.ExportResultCode=void 0;var O_8;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(O_8=Cr0.ExportResultCode||(Cr0.ExportResultCode={}))});var fr0=B((Sr0)=>{Object.defineProperty(Sr0,"__esModule",{value:!0});Sr0.CompositePropagator=void 0;var Rr0=C();class Er0{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){Rr0.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){Rr0.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}Sr0.CompositePropagator=Er0});var hr0=B((kr0)=>{Object.defineProperty(kr0,"__esModule",{value:!0});kr0.validateValue=kr0.validateKey=void 0;var kW1="[_0-9a-z-*/]",D_8=`[a-z]${kW1}{0,255}`,V_8=`[a-z0-9]${kW1}{0,240}@[a-z]${kW1}{0,13}`,I_8=new RegExp(`^(?:${D_8}|${V_8})$`),w_8=/^[ -~]{0,255}[!-~]$/,A_8=/,|=/;function M_8(J){return I_8.test(J)}kr0.validateKey=M_8;function N_8(J){return w_8.test(J)&&!A_8.test(J)}kr0.validateValue=N_8});var hW1=B((gr0)=>{Object.defineProperty(gr0,"__esModule",{value:!0});gr0.TraceState=void 0;var _r0=hr0(),yr0=32,L_8=512,vr0=",",xr0="=";class bW1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+xr0+this.get(Z)),J},[]).join(vr0)}_parse(J){if(J.length>L_8)return;if(this._internalState=J.split(vr0).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(xr0);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,_r0.validateKey)(z)&&(0,_r0.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>yr0)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,yr0))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new bW1;return J._internalState=new Map(this._internalState),J}}gr0.TraceState=bW1});var pr0=B((cr0)=>{Object.defineProperty(cr0,"__esModule",{value:!0});cr0.W3CTraceContextPropagator=cr0.parseTraceParent=cr0.TRACE_STATE_HEADER=cr0.TRACE_PARENT_HEADER=void 0;var _g=C(),C_8=w2(),j_8=hW1();cr0.TRACE_PARENT_HEADER="traceparent";cr0.TRACE_STATE_HEADER="tracestate";var R_8="00",E_8="(?!ff)[\\da-f]{2}",S_8="(?![0]{32})[\\da-f]{32}",T_8="(?![0]{16})[\\da-f]{16}",f_8="[\\da-f]{2}",k_8=new RegExp(`^\\s?(${E_8})-(${S_8})-(${T_8})-(${f_8})(-.*)?\\s?$`);function ur0(J){let Z=k_8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}cr0.parseTraceParent=ur0;class mr0{inject(J,Z,X){let Y=_g.trace.getSpanContext(J);if(!Y||(0,C_8.isTracingSuppressed)(J)||!(0,_g.isSpanContextValid)(Y))return;let $=`${R_8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||_g.TraceFlags.NONE).toString(16)}`;if(X.set(Z,cr0.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,cr0.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,cr0.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=ur0($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,cr0.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new j_8.TraceState(typeof Q==="string"?Q:void 0)}return _g.trace.setSpanContext(J,z)}fields(){return[cr0.TRACE_PARENT_HEADER,cr0.TRACE_STATE_HEADER]}}cr0.W3CTraceContextPropagator=mr0});var sr0=B((ir0)=>{Object.defineProperty(ir0,"__esModule",{value:!0});ir0.getRPCMetadata=ir0.deleteRPCMetadata=ir0.setRPCMetadata=ir0.RPCType=void 0;var h_8=C(),_W1=(0,h_8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),__8;(function(J){J.HTTP="http"})(__8=ir0.RPCType||(ir0.RPCType={}));function y_8(J,Z){return J.setValue(_W1,Z)}ir0.setRPCMetadata=y_8;function v_8(J){return J.deleteValue(_W1)}ir0.deleteRPCMetadata=v_8;function x_8(J){return J.getValue(_W1)}ir0.getRPCMetadata=x_8});var Xt0=B((Jt0)=>{Object.defineProperty(Jt0,"__esModule",{value:!0});Jt0.isPlainObject=void 0;var u_8="[object Object]",m_8="[object Null]",c_8="[object Undefined]",l_8=Function.prototype,ar0=l_8.toString,p_8=ar0.call(Object),n_8=Object.getPrototypeOf,rr0=Object.prototype,tr0=rr0.hasOwnProperty,iU=Symbol?Symbol.toStringTag:void 0,er0=rr0.toString;function i_8(J){if(!o_8(J)||s_8(J)!==u_8)return!1;let Z=n_8(J);if(Z===null)return!0;let X=tr0.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&ar0.call(X)===p_8}Jt0.isPlainObject=i_8;function o_8(J){return J!=null&&typeof J=="object"}function s_8(J){if(J==null)return J===void 0?c_8:m_8;return iU&&iU in Object(J)?a_8(J):r_8(J)}function a_8(J){let Z=tr0.call(J,iU),X=J[iU],Y=!1;try{J[iU]=void 0,Y=!0}catch(z){}let $=er0.call(J);if(Y)if(Z)J[iU]=X;else delete J[iU];return $}function r_8(J){return er0.call(J)}});var Kt0=B((Qt0)=>{Object.defineProperty(Qt0,"__esModule",{value:!0});Qt0.merge=void 0;var Yt0=Xt0(),t_8=20;function e_8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=zt0(Z,J.shift(),0,X);return Z}Qt0.merge=e_8;function yW1(J){if(gg(J))return J.slice();return J}function zt0(J,Z,X=0,Y){let $;if(X>t_8)return;if(X++,xg(J)||xg(Z)||Wt0(Z))$=yW1(Z);else if(gg(J)){if($=J.slice(),gg(Z))for(let z=0,W=Z.length;z<W;z++)$.push(yW1(Z[z]));else if(M2(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=yW1(Z[G])}}}else if(M2(J))if(M2(Z)){if(!Jy8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(xg(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if($t0(J,G,Y)||$t0(Z,G,Y))delete $[G];else{if(M2(q)&&M2(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=zt0($[G],K,X,Y)}}}}else $=Z;return $}function $t0(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function gg(J){return Array.isArray(J)}function Wt0(J){return typeof J==="function"}function M2(J){return!xg(J)&&!gg(J)&&!Wt0(J)&&typeof J==="object"}function xg(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function Jy8(J,Z){if(!(0,Yt0.isPlainObject)(J)||!(0,Yt0.isPlainObject)(Z))return!1;return!0}});var Ht0=B((qt0)=>{Object.defineProperty(qt0,"__esModule",{value:!0});qt0.callWithTimeout=qt0.TimeoutError=void 0;class dg extends Error{constructor(J){super(J);Object.setPrototypeOf(this,dg.prototype)}}qt0.TimeoutError=dg;function Zy8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new dg("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}qt0.callWithTimeout=Zy8});var Dt0=B((Ut0)=>{Object.defineProperty(Ut0,"__esModule",{value:!0});Ut0.isUrlIgnored=Ut0.urlMatches=void 0;function Ft0(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}Ut0.urlMatches=Ft0;function Yy8(J,Z){if(!Z)return!1;for(let X of Z)if(Ft0(J,X))return!0;return!1}Ut0.isUrlIgnored=Yy8});var At0=B((It0)=>{Object.defineProperty(It0,"__esModule",{value:!0});It0.Deferred=void 0;class Vt0{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}It0.Deferred=Vt0});var Lt0=B((Nt0)=>{Object.defineProperty(Nt0,"__esModule",{value:!0});Nt0.BindOnceFuture=void 0;var zy8=At0();class Mt0{_callback;_that;_isCalled=!1;_deferred=new zy8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}Nt0.BindOnceFuture=Mt0});var Et0=B((jt0)=>{Object.defineProperty(jt0,"__esModule",{value:!0});jt0.diagLogLevelFromString=void 0;var kG=C(),Ct0={ALL:kG.DiagLogLevel.ALL,VERBOSE:kG.DiagLogLevel.VERBOSE,DEBUG:kG.DiagLogLevel.DEBUG,INFO:kG.DiagLogLevel.INFO,WARN:kG.DiagLogLevel.WARN,ERROR:kG.DiagLogLevel.ERROR,NONE:kG.DiagLogLevel.NONE};function Wy8(J){if(J==null)return;let Z=Ct0[J.toUpperCase()];if(Z==null)return kG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(Ct0)}, using default`),kG.DiagLogLevel.INFO;return Z}jt0.diagLogLevelFromString=Wy8});var kt0=B((Tt0)=>{Object.defineProperty(Tt0,"__esModule",{value:!0});Tt0._export=void 0;var St0=C(),Qy8=w2();function Gy8(J,Z){return new Promise((X)=>{St0.context.with((0,Qy8.suppressTracing)(St0.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}Tt0._export=Gy8});var N2=B((b0)=>{Object.defineProperty(b0,"__esModule",{value:!0});b0.internal=b0.diagLogLevelFromString=b0.BindOnceFuture=b0.urlMatches=b0.isUrlIgnored=b0.callWithTimeout=b0.TimeoutError=b0.merge=b0.TraceState=b0.unsuppressTracing=b0.suppressTracing=b0.isTracingSuppressed=b0.setRPCMetadata=b0.getRPCMetadata=b0.deleteRPCMetadata=b0.RPCType=b0.parseTraceParent=b0.W3CTraceContextPropagator=b0.TRACE_STATE_HEADER=b0.TRACE_PARENT_HEADER=b0.CompositePropagator=b0.unrefTimer=b0.otperformance=b0.getStringListFromEnv=b0.getNumberFromEnv=b0.getBooleanFromEnv=b0.getStringFromEnv=b0._globalThis=b0.SDK_INFO=b0.parseKeyPairsIntoRecord=b0.ExportResultCode=b0.timeInputToHrTime=b0.millisToHrTime=b0.isTimeInputHrTime=b0.isTimeInput=b0.hrTimeToTimeStamp=b0.hrTimeToNanoseconds=b0.hrTimeToMilliseconds=b0.hrTimeToMicroseconds=b0.hrTimeDuration=b0.hrTime=b0.getTimeOrigin=b0.addHrTimes=b0.loggingErrorHandler=b0.setGlobalErrorHandler=b0.globalErrorHandler=b0.sanitizeAttributes=b0.isAttributeValue=b0.AnchoredClock=b0.W3CBaggagePropagator=void 0;var Ky8=Ta0();Object.defineProperty(b0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return Ky8.W3CBaggagePropagator}});var qy8=ha0();Object.defineProperty(b0,"AnchoredClock",{enumerable:!0,get:function(){return qy8.AnchoredClock}});var bt0=ua0();Object.defineProperty(b0,"isAttributeValue",{enumerable:!0,get:function(){return bt0.isAttributeValue}});Object.defineProperty(b0,"sanitizeAttributes",{enumerable:!0,get:function(){return bt0.sanitizeAttributes}});var ht0=ia0();Object.defineProperty(b0,"globalErrorHandler",{enumerable:!0,get:function(){return ht0.globalErrorHandler}});Object.defineProperty(b0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return ht0.setGlobalErrorHandler}});var By8=jW1();Object.defineProperty(b0,"loggingErrorHandler",{enumerable:!0,get:function(){return By8.loggingErrorHandler}});var XX=Lr0();Object.defineProperty(b0,"addHrTimes",{enumerable:!0,get:function(){return XX.addHrTimes}});Object.defineProperty(b0,"getTimeOrigin",{enumerable:!0,get:function(){return XX.getTimeOrigin}});Object.defineProperty(b0,"hrTime",{enumerable:!0,get:function(){return XX.hrTime}});Object.defineProperty(b0,"hrTimeDuration",{enumerable:!0,get:function(){return XX.hrTimeDuration}});Object.defineProperty(b0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return XX.hrTimeToMicroseconds}});Object.defineProperty(b0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return XX.hrTimeToMilliseconds}});Object.defineProperty(b0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return XX.hrTimeToNanoseconds}});Object.defineProperty(b0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return XX.hrTimeToTimeStamp}});Object.defineProperty(b0,"isTimeInput",{enumerable:!0,get:function(){return XX.isTimeInput}});Object.defineProperty(b0,"isTimeInputHrTime",{enumerable:!0,get:function(){return XX.isTimeInputHrTime}});Object.defineProperty(b0,"millisToHrTime",{enumerable:!0,get:function(){return XX.millisToHrTime}});Object.defineProperty(b0,"timeInputToHrTime",{enumerable:!0,get:function(){return XX.timeInputToHrTime}});var Hy8=jr0();Object.defineProperty(b0,"ExportResultCode",{enumerable:!0,get:function(){return Hy8.ExportResultCode}});var Fy8=PW1();Object.defineProperty(b0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return Fy8.parseKeyPairsIntoRecord}});var tq=RW1();Object.defineProperty(b0,"SDK_INFO",{enumerable:!0,get:function(){return tq.SDK_INFO}});Object.defineProperty(b0,"_globalThis",{enumerable:!0,get:function(){return tq._globalThis}});Object.defineProperty(b0,"getStringFromEnv",{enumerable:!0,get:function(){return tq.getStringFromEnv}});Object.defineProperty(b0,"getBooleanFromEnv",{enumerable:!0,get:function(){return tq.getBooleanFromEnv}});Object.defineProperty(b0,"getNumberFromEnv",{enumerable:!0,get:function(){return tq.getNumberFromEnv}});Object.defineProperty(b0,"getStringListFromEnv",{enumerable:!0,get:function(){return tq.getStringListFromEnv}});Object.defineProperty(b0,"otperformance",{enumerable:!0,get:function(){return tq.otperformance}});Object.defineProperty(b0,"unrefTimer",{enumerable:!0,get:function(){return tq.unrefTimer}});var Uy8=fr0();Object.defineProperty(b0,"CompositePropagator",{enumerable:!0,get:function(){return Uy8.CompositePropagator}});var ug=pr0();Object.defineProperty(b0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return ug.TRACE_PARENT_HEADER}});Object.defineProperty(b0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return ug.TRACE_STATE_HEADER}});Object.defineProperty(b0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return ug.W3CTraceContextPropagator}});Object.defineProperty(b0,"parseTraceParent",{enumerable:!0,get:function(){return ug.parseTraceParent}});var mg=sr0();Object.defineProperty(b0,"RPCType",{enumerable:!0,get:function(){return mg.RPCType}});Object.defineProperty(b0,"deleteRPCMetadata",{enumerable:!0,get:function(){return mg.deleteRPCMetadata}});Object.defineProperty(b0,"getRPCMetadata",{enumerable:!0,get:function(){return mg.getRPCMetadata}});Object.defineProperty(b0,"setRPCMetadata",{enumerable:!0,get:function(){return mg.setRPCMetadata}});var vW1=w2();Object.defineProperty(b0,"isTracingSuppressed",{enumerable:!0,get:function(){return vW1.isTracingSuppressed}});Object.defineProperty(b0,"suppressTracing",{enumerable:!0,get:function(){return vW1.suppressTracing}});Object.defineProperty(b0,"unsuppressTracing",{enumerable:!0,get:function(){return vW1.unsuppressTracing}});var Oy8=hW1();Object.defineProperty(b0,"TraceState",{enumerable:!0,get:function(){return Oy8.TraceState}});var Dy8=Kt0();Object.defineProperty(b0,"merge",{enumerable:!0,get:function(){return Dy8.merge}});var _t0=Ht0();Object.defineProperty(b0,"TimeoutError",{enumerable:!0,get:function(){return _t0.TimeoutError}});Object.defineProperty(b0,"callWithTimeout",{enumerable:!0,get:function(){return _t0.callWithTimeout}});var yt0=Dt0();Object.defineProperty(b0,"isUrlIgnored",{enumerable:!0,get:function(){return yt0.isUrlIgnored}});Object.defineProperty(b0,"urlMatches",{enumerable:!0,get:function(){return yt0.urlMatches}});var Vy8=Lt0();Object.defineProperty(b0,"BindOnceFuture",{enumerable:!0,get:function(){return Vy8.BindOnceFuture}});var Iy8=Et0();Object.defineProperty(b0,"diagLogLevelFromString",{enumerable:!0,get:function(){return Iy8.diagLogLevelFromString}});var wy8=kt0();b0.internal={_export:wy8._export}});var yw=B((xt0)=>{Object.defineProperty(xt0,"__esModule",{value:!0});xt0.CLOUD_PROVIDER_VALUE_AWS=xt0.CLOUD_PLATFORM_VALUE_AWS_LAMBDA=xt0.CLOUD_PLATFORM_VALUE_AWS_ELASTIC_BEANSTALK=xt0.CLOUD_PLATFORM_VALUE_AWS_EKS=xt0.CLOUD_PLATFORM_VALUE_AWS_ECS=xt0.CLOUD_PLATFORM_VALUE_AWS_EC2=xt0.ATTR_SERVICE_NAMESPACE=xt0.ATTR_SERVICE_INSTANCE_ID=xt0.ATTR_K8S_CLUSTER_NAME=xt0.ATTR_HOST_TYPE=xt0.ATTR_HOST_NAME=xt0.ATTR_HOST_ID=xt0.ATTR_FAAS_VERSION=xt0.ATTR_FAAS_MAX_MEMORY=xt0.ATTR_FAAS_INSTANCE=xt0.ATTR_FAAS_NAME=xt0.ATTR_CONTAINER_NAME=xt0.ATTR_CONTAINER_ID=xt0.ATTR_CLOUD_RESOURCE_ID=xt0.ATTR_CLOUD_REGION=xt0.ATTR_CLOUD_PROVIDER=xt0.ATTR_CLOUD_PLATFORM=xt0.ATTR_CLOUD_AVAILABILITY_ZONE=xt0.ATTR_CLOUD_ACCOUNT_ID=xt0.ATTR_AWS_LOG_STREAM_NAMES=xt0.ATTR_AWS_LOG_STREAM_ARNS=xt0.ATTR_AWS_LOG_GROUP_NAMES=xt0.ATTR_AWS_LOG_GROUP_ARNS=xt0.ATTR_AWS_ECS_TASK_REVISION=xt0.ATTR_AWS_ECS_TASK_FAMILY=xt0.ATTR_AWS_ECS_TASK_ARN=xt0.ATTR_AWS_ECS_LAUNCHTYPE=xt0.ATTR_AWS_ECS_CONTAINER_ARN=xt0.ATTR_AWS_ECS_CLUSTER_ARN=void 0;xt0.ATTR_AWS_ECS_CLUSTER_ARN="aws.ecs.cluster.arn";xt0.ATTR_AWS_ECS_CONTAINER_ARN="aws.ecs.container.arn";xt0.ATTR_AWS_ECS_LAUNCHTYPE="aws.ecs.launchtype";xt0.ATTR_AWS_ECS_TASK_ARN="aws.ecs.task.arn";xt0.ATTR_AWS_ECS_TASK_FAMILY="aws.ecs.task.family";xt0.ATTR_AWS_ECS_TASK_REVISION="aws.ecs.task.revision";xt0.ATTR_AWS_LOG_GROUP_ARNS="aws.log.group.arns";xt0.ATTR_AWS_LOG_GROUP_NAMES="aws.log.group.names";xt0.ATTR_AWS_LOG_STREAM_ARNS="aws.log.stream.arns";xt0.ATTR_AWS_LOG_STREAM_NAMES="aws.log.stream.names";xt0.ATTR_CLOUD_ACCOUNT_ID="cloud.account.id";xt0.ATTR_CLOUD_AVAILABILITY_ZONE="cloud.availability_zone";xt0.ATTR_CLOUD_PLATFORM="cloud.platform";xt0.ATTR_CLOUD_PROVIDER="cloud.provider";xt0.ATTR_CLOUD_REGION="cloud.region";xt0.ATTR_CLOUD_RESOURCE_ID="cloud.resource_id";xt0.ATTR_CONTAINER_ID="container.id";xt0.ATTR_CONTAINER_NAME="container.name";xt0.ATTR_FAAS_NAME="faas.name";xt0.ATTR_FAAS_INSTANCE="faas.instance";xt0.ATTR_FAAS_MAX_MEMORY="faas.max_memory";xt0.ATTR_FAAS_VERSION="faas.version";xt0.ATTR_HOST_ID="host.id";xt0.ATTR_HOST_NAME="host.name";xt0.ATTR_HOST_TYPE="host.type";xt0.ATTR_K8S_CLUSTER_NAME="k8s.cluster.name";xt0.ATTR_SERVICE_INSTANCE_ID="service.instance.id";xt0.ATTR_SERVICE_NAMESPACE="service.namespace";xt0.CLOUD_PLATFORM_VALUE_AWS_EC2="aws_ec2";xt0.CLOUD_PLATFORM_VALUE_AWS_ECS="aws_ecs";xt0.CLOUD_PLATFORM_VALUE_AWS_EKS="aws_eks";xt0.CLOUD_PLATFORM_VALUE_AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk";xt0.CLOUD_PLATFORM_VALUE_AWS_LAMBDA="aws_lambda";xt0.CLOUD_PROVIDER_VALUE_AWS="aws"});var ct0=B((ut0)=>{Object.defineProperty(ut0,"__esModule",{value:!0});ut0.awsBeanstalkDetector=ut0.AwsBeanstalkDetector=void 0;var xW1=C(),ey8=N2(),cg=j1(),_Y=yw(),gW1=p("fs"),dt0=p("util"),Jv8="/var/elasticbeanstalk/xray/environment.conf",Zv8="C:\\Program Files\\Amazon\\XRay\\environment.conf";class P2{BEANSTALK_CONF_PATH;static readFileAsync=dt0.promisify(gW1.readFile);static fileAccessAsync=dt0.promisify(gW1.access);constructor(){if(process.platform==="win32")this.BEANSTALK_CONF_PATH=Zv8;else this.BEANSTALK_CONF_PATH=Jv8}detect(){let J=xW1.context.with((0,ey8.suppressTracing)(xW1.context.active()),()=>this._gatherData()),Z=[_Y.ATTR_CLOUD_PROVIDER,_Y.ATTR_CLOUD_PLATFORM,cg.ATTR_SERVICE_NAME,_Y.ATTR_SERVICE_NAMESPACE,cg.ATTR_SERVICE_VERSION,_Y.ATTR_SERVICE_INSTANCE_ID],X={};return Z.forEach((Y)=>{X[Y]=J.then(($)=>$[Y])}),{attributes:X}}async _gatherData(){try{await P2.fileAccessAsync(this.BEANSTALK_CONF_PATH,gW1.constants.R_OK);let J=await P2.readFileAsync(this.BEANSTALK_CONF_PATH,"utf8"),Z=JSON.parse(J);return{[_Y.ATTR_CLOUD_PROVIDER]:_Y.CLOUD_PROVIDER_VALUE_AWS,[_Y.ATTR_CLOUD_PLATFORM]:_Y.CLOUD_PLATFORM_VALUE_AWS_ELASTIC_BEANSTALK,[cg.ATTR_SERVICE_NAME]:_Y.CLOUD_PLATFORM_VALUE_AWS_ELASTIC_BEANSTALK,[_Y.ATTR_SERVICE_NAMESPACE]:Z.environment_name,[cg.ATTR_SERVICE_VERSION]:Z.version_label,[_Y.ATTR_SERVICE_INSTANCE_ID]:Z.deployment_id}}catch(J){return xW1.diag.debug(`AwsBeanstalkDetector: did not detect resource: ${J.message}`),{}}}}ut0.AwsBeanstalkDetector=P2;ut0.awsBeanstalkDetector=new P2});var ot0=B((nt0)=>{Object.defineProperty(nt0,"__esModule",{value:!0});nt0.awsEc2Detector=void 0;var lt0=C(),Yv8=N2(),Z9=yw(),$v8=p("http");class pt0{AWS_IDMS_ENDPOINT="169.254.169.254";AWS_INSTANCE_TOKEN_DOCUMENT_PATH="/latest/api/token";AWS_INSTANCE_IDENTITY_DOCUMENT_PATH="/latest/dynamic/instance-identity/document";AWS_INSTANCE_HOST_DOCUMENT_PATH="/latest/meta-data/hostname";AWS_METADATA_TTL_HEADER="X-aws-ec2-metadata-token-ttl-seconds";AWS_METADATA_TOKEN_HEADER="X-aws-ec2-metadata-token";MILLISECOND_TIME_OUT=5000;detect(){let J=lt0.context.with((0,Yv8.suppressTracing)(lt0.context.active()),()=>this._gatherData()),Z=[Z9.ATTR_CLOUD_PROVIDER,Z9.ATTR_CLOUD_PLATFORM,Z9.ATTR_CLOUD_ACCOUNT_ID,Z9.ATTR_CLOUD_REGION,Z9.ATTR_CLOUD_AVAILABILITY_ZONE,Z9.ATTR_HOST_ID,Z9.ATTR_HOST_TYPE,Z9.ATTR_HOST_NAME],X={};return Z.forEach((Y)=>{X[Y]=J.then(($)=>$[Y])}),{attributes:X}}async _gatherData(){try{let J=await this._fetchToken(),{accountId:Z,instanceId:X,instanceType:Y,region:$,availabilityZone:z}=await this._fetchIdentity(J),W=await this._fetchHost(J);return{[Z9.ATTR_CLOUD_PROVIDER]:Z9.CLOUD_PROVIDER_VALUE_AWS,[Z9.ATTR_CLOUD_PLATFORM]:Z9.CLOUD_PLATFORM_VALUE_AWS_EC2,[Z9.ATTR_CLOUD_ACCOUNT_ID]:Z,[Z9.ATTR_CLOUD_REGION]:$,[Z9.ATTR_CLOUD_AVAILABILITY_ZONE]:z,[Z9.ATTR_HOST_ID]:X,[Z9.ATTR_HOST_TYPE]:Y,[Z9.ATTR_HOST_NAME]:W}}catch{return{}}}async _fetchToken(){let J={host:this.AWS_IDMS_ENDPOINT,path:this.AWS_INSTANCE_TOKEN_DOCUMENT_PATH,method:"PUT",timeout:this.MILLISECOND_TIME_OUT,headers:{[this.AWS_METADATA_TTL_HEADER]:"60"}};return await this._fetchString(J)}async _fetchIdentity(J){let Z={host:this.AWS_IDMS_ENDPOINT,path:this.AWS_INSTANCE_IDENTITY_DOCUMENT_PATH,method:"GET",timeout:this.MILLISECOND_TIME_OUT,headers:{[this.AWS_METADATA_TOKEN_HEADER]:J}},X=await this._fetchString(Z);return JSON.parse(X)}async _fetchHost(J){let Z={host:this.AWS_IDMS_ENDPOINT,path:this.AWS_INSTANCE_HOST_DOCUMENT_PATH,method:"GET",timeout:this.MILLISECOND_TIME_OUT,headers:{[this.AWS_METADATA_TOKEN_HEADER]:J}};return await this._fetchString(Z)}async _fetchString(J){return new Promise((Z,X)=>{let Y=setTimeout(()=>{$.abort(),X(new Error("EC2 metadata api request timed out."))},this.MILLISECOND_TIME_OUT),$=$v8.request(J,(z)=>{clearTimeout(Y);let{statusCode:W}=z;z.setEncoding("utf8");let Q="";z.on("data",(G)=>Q+=G),z.on("end",()=>{if(W&&W>=200&&W<300)try{Z(Q)}catch(G){X(G)}else X(new Error("Failed to load page, status code: "+W))})});$.on("error",(z)=>{clearTimeout(Y),X(z)}),$.end()})}}nt0.awsEc2Detector=new pt0});var rt0=B((st0)=>{Object.defineProperty(st0,"__esModule",{value:!0});st0.awsEcsDetector=st0.AwsEcsDetector=void 0;var lg=C(),zv8=N2(),k6=yw(),Wv8=p("http"),Qv8=p("util"),Gv8=p("fs"),Kv8=p("os"),qv8=1000;class I7{static CONTAINER_ID_LENGTH=64;static DEFAULT_CGROUP_PATH="/proc/self/cgroup";static readFileAsync=Qv8.promisify(Gv8.readFile);detect(){return{attributes:lg.context.with((0,zv8.suppressTracing)(lg.context.active()),()=>this._getAttributes())}}_getAttributes(){if(!process.env.ECS_CONTAINER_METADATA_URI_V4&&!process.env.ECS_CONTAINER_METADATA_URI)return lg.diag.debug("AwsEcsDetector: Process is not on ECS"),{};let J=this._gatherData(),Z=[k6.ATTR_CLOUD_PROVIDER,k6.ATTR_CLOUD_PLATFORM,k6.ATTR_CONTAINER_NAME,k6.ATTR_CONTAINER_ID,k6.ATTR_AWS_ECS_CONTAINER_ARN,k6.ATTR_AWS_ECS_CLUSTER_ARN,k6.ATTR_AWS_ECS_LAUNCHTYPE,k6.ATTR_AWS_ECS_TASK_ARN,k6.ATTR_AWS_ECS_TASK_FAMILY,k6.ATTR_AWS_ECS_TASK_REVISION,k6.ATTR_CLOUD_ACCOUNT_ID,k6.ATTR_CLOUD_REGION,k6.ATTR_CLOUD_RESOURCE_ID,k6.ATTR_CLOUD_AVAILABILITY_ZONE,k6.ATTR_AWS_LOG_GROUP_NAMES,k6.ATTR_AWS_LOG_GROUP_ARNS,k6.ATTR_AWS_LOG_STREAM_NAMES,k6.ATTR_AWS_LOG_STREAM_ARNS],X={};return Z.forEach((Y)=>{X[Y]=J.then(($)=>$[Y])}),X}async _gatherData(){try{let J={[k6.ATTR_CLOUD_PROVIDER]:k6.CLOUD_PROVIDER_VALUE_AWS,[k6.ATTR_CLOUD_PLATFORM]:k6.CLOUD_PLATFORM_VALUE_AWS_ECS,[k6.ATTR_CONTAINER_NAME]:Kv8.hostname(),[k6.ATTR_CONTAINER_ID]:await this._getContainerId()},Z=process.env.ECS_CONTAINER_METADATA_URI_V4;if(Z){let[X,Y]=await Promise.all([I7._getUrlAsJson(Z),I7._getUrlAsJson(`${Z}/task`)]);I7._addMetadataV4Attrs(J,X,Y),I7._addLogAttrs(J,X)}return J}catch{return{}}}async _getContainerId(){let J=void 0;try{let X=(await I7.readFileAsync(I7.DEFAULT_CGROUP_PATH,"utf8")).trim().split(`
`);for(let Y of X)if(Y.length>I7.CONTAINER_ID_LENGTH){J=Y.substring(Y.length-I7.CONTAINER_ID_LENGTH);break}}catch(Z){lg.diag.debug("AwsEcsDetector failed to read container ID",Z)}return J}static _addMetadataV4Attrs(J,Z,X){let{LaunchType:Y,TaskARN:$}=X,z=$.substring(0,$.lastIndexOf(":")),W=X.Cluster,Q=I7._getAccountFromArn($),G=I7._getRegionFromArn($),K=X?.AvailabilityZone,q=W.startsWith("arn:")?W:`${z}:cluster/${W}`,H=Z.ContainerARN;if(J[k6.ATTR_AWS_ECS_CONTAINER_ARN]=H,J[k6.ATTR_AWS_ECS_CLUSTER_ARN]=q,J[k6.ATTR_AWS_ECS_LAUNCHTYPE]=Y?.toLowerCase(),J[k6.ATTR_AWS_ECS_TASK_ARN]=$,J[k6.ATTR_AWS_ECS_TASK_FAMILY]=X.Family,J[k6.ATTR_AWS_ECS_TASK_REVISION]=X.Revision,J[k6.ATTR_CLOUD_ACCOUNT_ID]=Q,J[k6.ATTR_CLOUD_REGION]=G,J[k6.ATTR_CLOUD_RESOURCE_ID]=H,K)J[k6.ATTR_CLOUD_AVAILABILITY_ZONE]=K}static _addLogAttrs(J,Z){if(Z.LogDriver!=="awslogs"||!Z.LogOptions)return;let{ContainerARN:X,LogOptions:Y}=Z,$=Y["awslogs-region"]||I7._getRegionFromArn(X),z=I7._getAccountFromArn(X),W=Y["awslogs-group"],Q=`arn:aws:logs:${$}:${z}:log-group:${W}`,G=Y["awslogs-stream"],K=`arn:aws:logs:${$}:${z}:log-group:${W}:log-stream:${G}`;J[k6.ATTR_AWS_LOG_GROUP_NAMES]=[W],J[k6.ATTR_AWS_LOG_GROUP_ARNS]=[Q],J[k6.ATTR_AWS_LOG_STREAM_NAMES]=[G],J[k6.ATTR_AWS_LOG_STREAM_ARNS]=[K]}static _getAccountFromArn(J){return/arn:aws:ecs:[^:]+:([^:]+):.*/.exec(J)[1]}static _getRegionFromArn(J){return/arn:aws:ecs:([^:]+):.*/.exec(J)[1]}static _getUrlAsJson(J){return new Promise((Z,X)=>{let Y=Wv8.get(J,($)=>{if($.statusCode&&$.statusCode>=400)X(new Error(`Request to '${J}' failed with status ${$.statusCode}`));let z="";$.on("data",(W)=>z+=W.toString()),$.on("end",()=>Z(z)),Y.on("error",X)});Y.setTimeout(qv8,()=>{Y.destroy()}),Y.on("error",X),Y.end()}).then((Z)=>JSON.parse(Z))}}st0.AwsEcsDetector=I7;st0.awsEcsDetector=new I7});var Ye0=B((Ze0)=>{Object.defineProperty(Ze0,"__esModule",{value:!0});Ze0.awsEksDetector=Ze0.AwsEksDetector=void 0;var tt0=C(),Hv8=N2(),hz=yw(),Fv8=p("https"),et0=p("fs"),Je0=p("util"),pg=C();class oU{K8S_SVC_URL="kubernetes.default.svc";K8S_TOKEN_PATH="/var/run/secrets/kubernetes.io/serviceaccount/token";K8S_CERT_PATH="/var/run/secrets/kubernetes.io/serviceaccount/ca.crt";AUTH_CONFIGMAP_PATH="/api/v1/namespaces/kube-system/configmaps/aws-auth";CW_CONFIGMAP_PATH="/api/v1/namespaces/amazon-cloudwatch/configmaps/cluster-info";CONTAINER_ID_LENGTH=64;DEFAULT_CGROUP_PATH="/proc/self/cgroup";TIMEOUT_MS=2000;UTF8_UNICODE="utf8";static readFileAsync=Je0.promisify(et0.readFile);static fileAccessAsync=Je0.promisify(et0.access);detect(){let J=tt0.context.with((0,Hv8.suppressTracing)(tt0.context.active()),()=>this._gatherData()),Z=[hz.ATTR_CLOUD_PROVIDER,hz.ATTR_CLOUD_PLATFORM,hz.ATTR_K8S_CLUSTER_NAME,hz.ATTR_CONTAINER_ID],X={};return Z.forEach((Y)=>{X[Y]=J.then(($)=>$[Y])}),{attributes:X}}async _gatherData(){try{await oU.fileAccessAsync(this.K8S_TOKEN_PATH);let J=await oU.readFileAsync(this.K8S_CERT_PATH);if(!await this._isEks(J))return{};let Z=await this._getContainerId(),X=await this._getClusterName(J);return!Z&&!X?{}:{[hz.ATTR_CLOUD_PROVIDER]:hz.CLOUD_PROVIDER_VALUE_AWS,[hz.ATTR_CLOUD_PLATFORM]:hz.CLOUD_PLATFORM_VALUE_AWS_EKS,[hz.ATTR_K8S_CLUSTER_NAME]:X||"",[hz.ATTR_CONTAINER_ID]:Z||""}}catch(J){return pg.diag.debug("AwsEksDetector: Process is not running on K8S:",J.message),{}}}async _isEks(J){let Z={ca:J,headers:{Authorization:await this._getK8sCredHeader()},hostname:this.K8S_SVC_URL,method:"GET",path:this.AUTH_CONFIGMAP_PATH,timeout:this.TIMEOUT_MS};return!!await this._fetchString(Z)}async _getClusterName(J){let Z={ca:J,headers:{Authorization:await this._getK8sCredHeader()},host:this.K8S_SVC_URL,method:"GET",path:this.CW_CONFIGMAP_PATH,timeout:this.TIMEOUT_MS},X=await this._fetchString(Z);try{return JSON.parse(X).data["cluster.name"]}catch(Y){pg.diag.debug("Cannot get cluster name on EKS",Y)}return""}async _getK8sCredHeader(){try{return"Bearer "+await oU.readFileAsync(this.K8S_TOKEN_PATH,this.UTF8_UNICODE)}catch(J){pg.diag.debug("Unable to read Kubernetes client token.",J)}return""}async _getContainerId(){try{let Z=(await oU.readFileAsync(this.DEFAULT_CGROUP_PATH,this.UTF8_UNICODE)).trim().split(`
`);for(let X of Z)if(X.length>this.CONTAINER_ID_LENGTH)return X.substring(X.length-this.CONTAINER_ID_LENGTH)}catch(J){pg.diag.debug(`AwsEksDetector failed to read container ID: ${J.message}`)}return}async _fetchString(J){return await new Promise((Z,X)=>{let Y=setTimeout(()=>{$.abort(),X(new Error("EKS metadata api request timed out."))},2000),$=Fv8.request(J,(z)=>{clearTimeout(Y);let{statusCode:W}=z;z.setEncoding(this.UTF8_UNICODE);let Q="";z.on("data",(G)=>Q+=G),z.on("end",()=>{if(W&&W>=200&&W<300)try{Z(Q)}catch(G){X(G)}else X(new Error("Failed to load page, status code: "+W))})});$.on("error",(z)=>{clearTimeout(Y),X(z)}),$.end()})}}Ze0.AwsEksDetector=oU;Ze0.awsEksDetector=new oU});var We0=B(($e0)=>{Object.defineProperty($e0,"__esModule",{value:!0});$e0.awsLambdaDetector=$e0.AwsLambdaDetector=void 0;var _z=yw();class dW1{detect(){if(!process.env.AWS_EXECUTION_ENV?.startsWith("AWS_Lambda_"))return{};let Z=process.env.AWS_REGION,X=process.env.AWS_LAMBDA_FUNCTION_NAME,Y=process.env.AWS_LAMBDA_FUNCTION_VERSION,$=process.env.AWS_LAMBDA_FUNCTION_MEMORY_SIZE,z=process.env.AWS_LAMBDA_LOG_GROUP_NAME,W=process.env.AWS_LAMBDA_LOG_STREAM_NAME,Q={[_z.ATTR_CLOUD_PROVIDER]:_z.CLOUD_PROVIDER_VALUE_AWS,[_z.ATTR_CLOUD_PLATFORM]:_z.CLOUD_PLATFORM_VALUE_AWS_LAMBDA,[_z.ATTR_CLOUD_REGION]:Z,[_z.ATTR_FAAS_NAME]:X,[_z.ATTR_FAAS_VERSION]:Y,[_z.ATTR_FAAS_MAX_MEMORY]:parseInt($)*1024*1024};if(z)Q[_z.ATTR_AWS_LOG_GROUP_NAMES]=[z];if(W)Q[_z.ATTR_FAAS_INSTANCE]=W;return{attributes:Q}}}$e0.AwsLambdaDetector=dW1;$e0.awsLambdaDetector=new dW1});var Qe0=B((sU)=>{Object.defineProperty(sU,"__esModule",{value:!0});sU.awsLambdaDetector=sU.awsEksDetector=sU.awsEcsDetector=sU.awsEc2Detector=sU.awsBeanstalkDetector=void 0;var Dv8=ct0();Object.defineProperty(sU,"awsBeanstalkDetector",{enumerable:!0,get:function(){return Dv8.awsBeanstalkDetector}});var Vv8=ot0();Object.defineProperty(sU,"awsEc2Detector",{enumerable:!0,get:function(){return Vv8.awsEc2Detector}});var Iv8=rt0();Object.defineProperty(sU,"awsEcsDetector",{enumerable:!0,get:function(){return Iv8.awsEcsDetector}});var wv8=Ye0();Object.defineProperty(sU,"awsEksDetector",{enumerable:!0,get:function(){return wv8.awsEksDetector}});var Av8=We0();Object.defineProperty(sU,"awsLambdaDetector",{enumerable:!0,get:function(){return Av8.awsLambdaDetector}})});var Ge0=B((aU)=>{Object.defineProperty(aU,"__esModule",{value:!0});aU.awsLambdaDetector=aU.awsEksDetector=aU.awsEcsDetector=aU.awsEc2Detector=aU.awsBeanstalkDetector=void 0;var L2=Qe0();Object.defineProperty(aU,"awsBeanstalkDetector",{enumerable:!0,get:function(){return L2.awsBeanstalkDetector}});Object.defineProperty(aU,"awsEc2Detector",{enumerable:!0,get:function(){return L2.awsEc2Detector}});Object.defineProperty(aU,"awsEcsDetector",{enumerable:!0,get:function(){return L2.awsEcsDetector}});Object.defineProperty(aU,"awsEksDetector",{enumerable:!0,get:function(){return L2.awsEksDetector}});Object.defineProperty(aU,"awsLambdaDetector",{enumerable:!0,get:function(){return L2.awsLambdaDetector}})});var C2=B((Ke0)=>{Object.defineProperty(Ke0,"__esModule",{value:!0});Ke0.isTracingSuppressed=Ke0.unsuppressTracing=Ke0.suppressTracing=void 0;var Pv8=C(),uW1=(0,Pv8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Lv8(J){return J.setValue(uW1,!0)}Ke0.suppressTracing=Lv8;function Cv8(J){return J.deleteValue(uW1)}Ke0.unsuppressTracing=Cv8;function jv8(J){return J.getValue(uW1)===!0}Ke0.isTracingSuppressed=jv8});var mW1=B((Be0)=>{Object.defineProperty(Be0,"__esModule",{value:!0});Be0.BAGGAGE_MAX_TOTAL_LENGTH=Be0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Be0.BAGGAGE_MAX_NAME_VALUE_PAIRS=Be0.BAGGAGE_HEADER=Be0.BAGGAGE_ITEMS_SEPARATOR=Be0.BAGGAGE_PROPERTIES_SEPARATOR=Be0.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Be0.BAGGAGE_KEY_PAIR_SEPARATOR="=";Be0.BAGGAGE_PROPERTIES_SEPARATOR=";";Be0.BAGGAGE_ITEMS_SEPARATOR=",";Be0.BAGGAGE_HEADER="baggage";Be0.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Be0.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Be0.BAGGAGE_MAX_TOTAL_LENGTH=8192});var cW1=B((Ue0)=>{Object.defineProperty(Ue0,"__esModule",{value:!0});Ue0.parseKeyPairsIntoRecord=Ue0.parsePairKeyValue=Ue0.getKeyPairs=Ue0.serializeKeyPairs=void 0;var _v8=C(),rU=mW1();function yv8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?rU.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>rU.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}Ue0.serializeKeyPairs=yv8;function vv8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=rU.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}Ue0.getKeyPairs=vv8;function Fe0(J){let Z=J.split(rU.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(rU.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,_v8.baggageEntryMetadataFromString)(Z.join(rU.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}Ue0.parsePairKeyValue=Fe0;function xv8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(rU.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=Fe0(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}Ue0.parseKeyPairsIntoRecord=xv8});var we0=B((Ve0)=>{Object.defineProperty(Ve0,"__esModule",{value:!0});Ve0.W3CBaggagePropagator=void 0;var lW1=C(),mv8=C2(),tU=mW1(),pW1=cW1();class De0{inject(J,Z,X){let Y=lW1.propagation.getBaggage(J);if(!Y||(0,mv8.isTracingSuppressed)(J))return;let $=(0,pW1.getKeyPairs)(Y).filter((W)=>{return W.length<=tU.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,tU.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,pW1.serializeKeyPairs)($);if(z.length>0)X.set(Z,tU.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,tU.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(tU.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(tU.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,pW1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return lW1.propagation.setBaggage(J,lW1.propagation.createBaggage(z))}fields(){return[tU.BAGGAGE_HEADER]}}Ve0.W3CBaggagePropagator=De0});var Pe0=B((Me0)=>{Object.defineProperty(Me0,"__esModule",{value:!0});Me0.AnchoredClock=void 0;class Ae0{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}Me0.AnchoredClock=Ae0});var Te0=B((Ee0)=>{Object.defineProperty(Ee0,"__esModule",{value:!0});Ee0.isAttributeValue=Ee0.isAttributeKey=Ee0.sanitizeAttributes=void 0;var Le0=C();function cv8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!Ce0(X)){Le0.diag.warn(`Invalid attribute key: ${X}`);continue}if(!je0(Y)){Le0.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}Ee0.sanitizeAttributes=cv8;function Ce0(J){return typeof J==="string"&&J.length>0}Ee0.isAttributeKey=Ce0;function je0(J){if(J==null)return!0;if(Array.isArray(J))return lv8(J);return Re0(J)}Ee0.isAttributeValue=je0;function lv8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(Re0(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function Re0(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var nW1=B((fe0)=>{Object.defineProperty(fe0,"__esModule",{value:!0});fe0.loggingErrorHandler=void 0;var iv8=C();function ov8(){return(J)=>{iv8.diag.error(sv8(J))}}fe0.loggingErrorHandler=ov8;function sv8(J){if(typeof J==="string")return J;else return JSON.stringify(av8(J))}function av8(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var ye0=B((he0)=>{Object.defineProperty(he0,"__esModule",{value:!0});he0.globalErrorHandler=he0.setGlobalErrorHandler=void 0;var rv8=nW1(),be0=(0,rv8.loggingErrorHandler)();function tv8(J){be0=J}he0.setGlobalErrorHandler=tv8;function ev8(J){try{be0(J)}catch{}}he0.globalErrorHandler=ev8});var me0=B((de0)=>{Object.defineProperty(de0,"__esModule",{value:!0});de0.getStringListFromEnv=de0.getBooleanFromEnv=de0.getStringFromEnv=de0.getNumberFromEnv=void 0;var ve0=C(),xe0=p("util");function Zx8(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){ve0.diag.warn(`Unknown value ${(0,xe0.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}de0.getNumberFromEnv=Zx8;function ge0(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}de0.getStringFromEnv=ge0;function Xx8(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return ve0.diag.warn(`Unknown value ${(0,xe0.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}de0.getBooleanFromEnv=Xx8;function Yx8(J){return ge0(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}de0.getStringListFromEnv=Yx8});var pe0=B((ce0)=>{Object.defineProperty(ce0,"__esModule",{value:!0});ce0._globalThis=void 0;ce0._globalThis=typeof globalThis==="object"?globalThis:global});var oe0=B((ne0)=>{Object.defineProperty(ne0,"__esModule",{value:!0});ne0.otperformance=void 0;var Qx8=p("perf_hooks");ne0.otperformance=Qx8.performance});var re0=B((se0)=>{Object.defineProperty(se0,"__esModule",{value:!0});se0.VERSION=void 0;se0.VERSION="2.0.1"});var J16=B((te0)=>{Object.defineProperty(te0,"__esModule",{value:!0});te0.ATTR_PROCESS_RUNTIME_NAME=void 0;te0.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var Y16=B((Z16)=>{Object.defineProperty(Z16,"__esModule",{value:!0});Z16.SDK_INFO=void 0;var Gx8=re0(),ng=j1(),Kx8=J16();Z16.SDK_INFO={[ng.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[Kx8.ATTR_PROCESS_RUNTIME_NAME]:"node",[ng.ATTR_TELEMETRY_SDK_LANGUAGE]:ng.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[ng.ATTR_TELEMETRY_SDK_VERSION]:Gx8.VERSION}});var W16=B(($16)=>{Object.defineProperty($16,"__esModule",{value:!0});$16.unrefTimer=void 0;function qx8(J){J.unref()}$16.unrefTimer=qx8});var Q16=B((yz)=>{Object.defineProperty(yz,"__esModule",{value:!0});yz.unrefTimer=yz.SDK_INFO=yz.otperformance=yz._globalThis=yz.getStringListFromEnv=yz.getNumberFromEnv=yz.getBooleanFromEnv=yz.getStringFromEnv=void 0;var ig=me0();Object.defineProperty(yz,"getStringFromEnv",{enumerable:!0,get:function(){return ig.getStringFromEnv}});Object.defineProperty(yz,"getBooleanFromEnv",{enumerable:!0,get:function(){return ig.getBooleanFromEnv}});Object.defineProperty(yz,"getNumberFromEnv",{enumerable:!0,get:function(){return ig.getNumberFromEnv}});Object.defineProperty(yz,"getStringListFromEnv",{enumerable:!0,get:function(){return ig.getStringListFromEnv}});var Bx8=pe0();Object.defineProperty(yz,"_globalThis",{enumerable:!0,get:function(){return Bx8._globalThis}});var Hx8=oe0();Object.defineProperty(yz,"otperformance",{enumerable:!0,get:function(){return Hx8.otperformance}});var Fx8=Y16();Object.defineProperty(yz,"SDK_INFO",{enumerable:!0,get:function(){return Fx8.SDK_INFO}});var Ux8=W16();Object.defineProperty(yz,"unrefTimer",{enumerable:!0,get:function(){return Ux8.unrefTimer}})});var iW1=B((vz)=>{Object.defineProperty(vz,"__esModule",{value:!0});vz.getStringListFromEnv=vz.getNumberFromEnv=vz.getStringFromEnv=vz.getBooleanFromEnv=vz.unrefTimer=vz.otperformance=vz._globalThis=vz.SDK_INFO=void 0;var eq=Q16();Object.defineProperty(vz,"SDK_INFO",{enumerable:!0,get:function(){return eq.SDK_INFO}});Object.defineProperty(vz,"_globalThis",{enumerable:!0,get:function(){return eq._globalThis}});Object.defineProperty(vz,"otperformance",{enumerable:!0,get:function(){return eq.otperformance}});Object.defineProperty(vz,"unrefTimer",{enumerable:!0,get:function(){return eq.unrefTimer}});Object.defineProperty(vz,"getBooleanFromEnv",{enumerable:!0,get:function(){return eq.getBooleanFromEnv}});Object.defineProperty(vz,"getStringFromEnv",{enumerable:!0,get:function(){return eq.getStringFromEnv}});Object.defineProperty(vz,"getNumberFromEnv",{enumerable:!0,get:function(){return eq.getNumberFromEnv}});Object.defineProperty(vz,"getStringListFromEnv",{enumerable:!0,get:function(){return eq.getStringListFromEnv}})});var F16=B((B16)=>{Object.defineProperty(B16,"__esModule",{value:!0});B16.addHrTimes=B16.isTimeInput=B16.isTimeInputHrTime=B16.hrTimeToMicroseconds=B16.hrTimeToMilliseconds=B16.hrTimeToNanoseconds=B16.hrTimeToTimeStamp=B16.hrTimeDuration=B16.timeInputToHrTime=B16.hrTime=B16.getTimeOrigin=B16.millisToHrTime=void 0;var oW1=iW1(),G16=9,Vx8=6,Ix8=Math.pow(10,Vx8),og=Math.pow(10,G16);function j2(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*Ix8);return[X,Y]}B16.millisToHrTime=j2;function sW1(){let J=oW1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=oW1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}B16.getTimeOrigin=sW1;function K16(J){let Z=j2(sW1()),X=j2(typeof J==="number"?J:oW1.otperformance.now());return q16(Z,X)}B16.hrTime=K16;function wx8(J){if(aW1(J))return J;else if(typeof J==="number")if(J<sW1())return K16(J);else return j2(J);else if(J instanceof Date)return j2(J.getTime());else throw TypeError("Invalid input type")}B16.timeInputToHrTime=wx8;function Ax8(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=og;return[X,Y]}B16.hrTimeDuration=Ax8;function Mx8(J){let Z=G16,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}B16.hrTimeToTimeStamp=Mx8;function Nx8(J){return J[0]*og+J[1]}B16.hrTimeToNanoseconds=Nx8;function Px8(J){return J[0]*1000+J[1]/1e6}B16.hrTimeToMilliseconds=Px8;function Lx8(J){return J[0]*1e6+J[1]/1000}B16.hrTimeToMicroseconds=Lx8;function aW1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}B16.isTimeInputHrTime=aW1;function Cx8(J){return aW1(J)||typeof J==="number"||J instanceof Date}B16.isTimeInput=Cx8;function q16(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=og)X[1]-=og,X[0]+=1;return X}B16.addHrTimes=q16});var O16=B((U16)=>{Object.defineProperty(U16,"__esModule",{value:!0});U16.ExportResultCode=void 0;var vx8;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(vx8=U16.ExportResultCode||(U16.ExportResultCode={}))});var A16=B((I16)=>{Object.defineProperty(I16,"__esModule",{value:!0});I16.CompositePropagator=void 0;var D16=C();class V16{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){D16.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){D16.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}I16.CompositePropagator=V16});var P16=B((M16)=>{Object.defineProperty(M16,"__esModule",{value:!0});M16.validateValue=M16.validateKey=void 0;var tW1="[_0-9a-z-*/]",xx8=`[a-z]${tW1}{0,255}`,gx8=`[a-z0-9]${tW1}{0,240}@[a-z]${tW1}{0,13}`,dx8=new RegExp(`^(?:${xx8}|${gx8})$`),ux8=/^[ -~]{0,255}[!-~]$/,mx8=/,|=/;function cx8(J){return dx8.test(J)}M16.validateKey=cx8;function lx8(J){return ux8.test(J)&&!mx8.test(J)}M16.validateValue=lx8});var JQ1=B((E16)=>{Object.defineProperty(E16,"__esModule",{value:!0});E16.TraceState=void 0;var L16=P16(),C16=32,nx8=512,j16=",",R16="=";class eW1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+R16+this.get(Z)),J},[]).join(j16)}_parse(J){if(J.length>nx8)return;if(this._internalState=J.split(j16).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(R16);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,L16.validateKey)(z)&&(0,L16.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>C16)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,C16))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new eW1;return J._internalState=new Map(this._internalState),J}}E16.TraceState=eW1});var h16=B((k16)=>{Object.defineProperty(k16,"__esModule",{value:!0});k16.W3CTraceContextPropagator=k16.parseTraceParent=k16.TRACE_STATE_HEADER=k16.TRACE_PARENT_HEADER=void 0;var sg=C(),ix8=C2(),ox8=JQ1();k16.TRACE_PARENT_HEADER="traceparent";k16.TRACE_STATE_HEADER="tracestate";var sx8="00",ax8="(?!ff)[\\da-f]{2}",rx8="(?![0]{32})[\\da-f]{32}",tx8="(?![0]{16})[\\da-f]{16}",ex8="[\\da-f]{2}",Jg8=new RegExp(`^\\s?(${ax8})-(${rx8})-(${tx8})-(${ex8})(-.*)?\\s?$`);function T16(J){let Z=Jg8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}k16.parseTraceParent=T16;class f16{inject(J,Z,X){let Y=sg.trace.getSpanContext(J);if(!Y||(0,ix8.isTracingSuppressed)(J)||!(0,sg.isSpanContextValid)(Y))return;let $=`${sx8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||sg.TraceFlags.NONE).toString(16)}`;if(X.set(Z,k16.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,k16.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,k16.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=T16($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,k16.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new ox8.TraceState(typeof Q==="string"?Q:void 0)}return sg.trace.setSpanContext(J,z)}fields(){return[k16.TRACE_PARENT_HEADER,k16.TRACE_STATE_HEADER]}}k16.W3CTraceContextPropagator=f16});var x16=B((y16)=>{Object.defineProperty(y16,"__esModule",{value:!0});y16.getRPCMetadata=y16.deleteRPCMetadata=y16.setRPCMetadata=y16.RPCType=void 0;var Xg8=C(),ZQ1=(0,Xg8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),Yg8;(function(J){J.HTTP="http"})(Yg8=y16.RPCType||(y16.RPCType={}));function $g8(J,Z){return J.setValue(ZQ1,Z)}y16.setRPCMetadata=$g8;function zg8(J){return J.deleteValue(ZQ1)}y16.deleteRPCMetadata=zg8;function Wg8(J){return J.getValue(ZQ1)}y16.getRPCMetadata=Wg8});var p16=B((c16)=>{Object.defineProperty(c16,"__esModule",{value:!0});c16.isPlainObject=void 0;var Kg8="[object Object]",qg8="[object Null]",Bg8="[object Undefined]",Hg8=Function.prototype,g16=Hg8.toString,Fg8=g16.call(Object),Ug8=Object.getPrototypeOf,d16=Object.prototype,u16=d16.hasOwnProperty,eU=Symbol?Symbol.toStringTag:void 0,m16=d16.toString;function Og8(J){if(!Dg8(J)||Vg8(J)!==Kg8)return!1;let Z=Ug8(J);if(Z===null)return!0;let X=u16.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&g16.call(X)===Fg8}c16.isPlainObject=Og8;function Dg8(J){return J!=null&&typeof J=="object"}function Vg8(J){if(J==null)return J===void 0?Bg8:qg8;return eU&&eU in Object(J)?Ig8(J):wg8(J)}function Ig8(J){let Z=u16.call(J,eU),X=J[eU],Y=!1;try{J[eU]=void 0,Y=!0}catch(z){}let $=m16.call(J);if(Y)if(Z)J[eU]=X;else delete J[eU];return $}function wg8(J){return m16.call(J)}});var t16=B((a16)=>{Object.defineProperty(a16,"__esModule",{value:!0});a16.merge=void 0;var n16=p16(),Ag8=20;function Mg8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=o16(Z,J.shift(),0,X);return Z}a16.merge=Mg8;function XQ1(J){if(eg(J))return J.slice();return J}function o16(J,Z,X=0,Y){let $;if(X>Ag8)return;if(X++,tg(J)||tg(Z)||s16(Z))$=XQ1(Z);else if(eg(J)){if($=J.slice(),eg(Z))for(let z=0,W=Z.length;z<W;z++)$.push(XQ1(Z[z]));else if(R2(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=XQ1(Z[G])}}}else if(R2(J))if(R2(Z)){if(!Ng8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(tg(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(i16(J,G,Y)||i16(Z,G,Y))delete $[G];else{if(R2(q)&&R2(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=o16($[G],K,X,Y)}}}}else $=Z;return $}function i16(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function eg(J){return Array.isArray(J)}function s16(J){return typeof J==="function"}function R2(J){return!tg(J)&&!eg(J)&&!s16(J)&&typeof J==="object"}function tg(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function Ng8(J,Z){if(!(0,n16.isPlainObject)(J)||!(0,n16.isPlainObject)(Z))return!1;return!0}});var Z06=B((e16)=>{Object.defineProperty(e16,"__esModule",{value:!0});e16.callWithTimeout=e16.TimeoutError=void 0;class Jd extends Error{constructor(J){super(J);Object.setPrototypeOf(this,Jd.prototype)}}e16.TimeoutError=Jd;function Pg8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new Jd("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}e16.callWithTimeout=Pg8});var z06=B((Y06)=>{Object.defineProperty(Y06,"__esModule",{value:!0});Y06.isUrlIgnored=Y06.urlMatches=void 0;function X06(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}Y06.urlMatches=X06;function Cg8(J,Z){if(!Z)return!1;for(let X of Z)if(X06(J,X))return!0;return!1}Y06.isUrlIgnored=Cg8});var K06=B((Q06)=>{Object.defineProperty(Q06,"__esModule",{value:!0});Q06.Deferred=void 0;class W06{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}Q06.Deferred=W06});var F06=B((B06)=>{Object.defineProperty(B06,"__esModule",{value:!0});B06.BindOnceFuture=void 0;var Rg8=K06();class q06{_callback;_that;_isCalled=!1;_deferred=new Rg8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}B06.BindOnceFuture=q06});var V06=B((O06)=>{Object.defineProperty(O06,"__esModule",{value:!0});O06.diagLogLevelFromString=void 0;var bG=C(),U06={ALL:bG.DiagLogLevel.ALL,VERBOSE:bG.DiagLogLevel.VERBOSE,DEBUG:bG.DiagLogLevel.DEBUG,INFO:bG.DiagLogLevel.INFO,WARN:bG.DiagLogLevel.WARN,ERROR:bG.DiagLogLevel.ERROR,NONE:bG.DiagLogLevel.NONE};function Eg8(J){if(J==null)return;let Z=U06[J.toUpperCase()];if(Z==null)return bG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(U06)}, using default`),bG.DiagLogLevel.INFO;return Z}O06.diagLogLevelFromString=Eg8});var M06=B((w06)=>{Object.defineProperty(w06,"__esModule",{value:!0});w06._export=void 0;var I06=C(),Sg8=C2();function Tg8(J,Z){return new Promise((X)=>{I06.context.with((0,Sg8.suppressTracing)(I06.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}w06._export=Tg8});var R06=B((h0)=>{Object.defineProperty(h0,"__esModule",{value:!0});h0.internal=h0.diagLogLevelFromString=h0.BindOnceFuture=h0.urlMatches=h0.isUrlIgnored=h0.callWithTimeout=h0.TimeoutError=h0.merge=h0.TraceState=h0.unsuppressTracing=h0.suppressTracing=h0.isTracingSuppressed=h0.setRPCMetadata=h0.getRPCMetadata=h0.deleteRPCMetadata=h0.RPCType=h0.parseTraceParent=h0.W3CTraceContextPropagator=h0.TRACE_STATE_HEADER=h0.TRACE_PARENT_HEADER=h0.CompositePropagator=h0.unrefTimer=h0.otperformance=h0.getStringListFromEnv=h0.getNumberFromEnv=h0.getBooleanFromEnv=h0.getStringFromEnv=h0._globalThis=h0.SDK_INFO=h0.parseKeyPairsIntoRecord=h0.ExportResultCode=h0.timeInputToHrTime=h0.millisToHrTime=h0.isTimeInputHrTime=h0.isTimeInput=h0.hrTimeToTimeStamp=h0.hrTimeToNanoseconds=h0.hrTimeToMilliseconds=h0.hrTimeToMicroseconds=h0.hrTimeDuration=h0.hrTime=h0.getTimeOrigin=h0.addHrTimes=h0.loggingErrorHandler=h0.setGlobalErrorHandler=h0.globalErrorHandler=h0.sanitizeAttributes=h0.isAttributeValue=h0.AnchoredClock=h0.W3CBaggagePropagator=void 0;var fg8=we0();Object.defineProperty(h0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return fg8.W3CBaggagePropagator}});var kg8=Pe0();Object.defineProperty(h0,"AnchoredClock",{enumerable:!0,get:function(){return kg8.AnchoredClock}});var N06=Te0();Object.defineProperty(h0,"isAttributeValue",{enumerable:!0,get:function(){return N06.isAttributeValue}});Object.defineProperty(h0,"sanitizeAttributes",{enumerable:!0,get:function(){return N06.sanitizeAttributes}});var P06=ye0();Object.defineProperty(h0,"globalErrorHandler",{enumerable:!0,get:function(){return P06.globalErrorHandler}});Object.defineProperty(h0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return P06.setGlobalErrorHandler}});var bg8=nW1();Object.defineProperty(h0,"loggingErrorHandler",{enumerable:!0,get:function(){return bg8.loggingErrorHandler}});var YX=F16();Object.defineProperty(h0,"addHrTimes",{enumerable:!0,get:function(){return YX.addHrTimes}});Object.defineProperty(h0,"getTimeOrigin",{enumerable:!0,get:function(){return YX.getTimeOrigin}});Object.defineProperty(h0,"hrTime",{enumerable:!0,get:function(){return YX.hrTime}});Object.defineProperty(h0,"hrTimeDuration",{enumerable:!0,get:function(){return YX.hrTimeDuration}});Object.defineProperty(h0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return YX.hrTimeToMicroseconds}});Object.defineProperty(h0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return YX.hrTimeToMilliseconds}});Object.defineProperty(h0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return YX.hrTimeToNanoseconds}});Object.defineProperty(h0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return YX.hrTimeToTimeStamp}});Object.defineProperty(h0,"isTimeInput",{enumerable:!0,get:function(){return YX.isTimeInput}});Object.defineProperty(h0,"isTimeInputHrTime",{enumerable:!0,get:function(){return YX.isTimeInputHrTime}});Object.defineProperty(h0,"millisToHrTime",{enumerable:!0,get:function(){return YX.millisToHrTime}});Object.defineProperty(h0,"timeInputToHrTime",{enumerable:!0,get:function(){return YX.timeInputToHrTime}});var hg8=O16();Object.defineProperty(h0,"ExportResultCode",{enumerable:!0,get:function(){return hg8.ExportResultCode}});var _g8=cW1();Object.defineProperty(h0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return _g8.parseKeyPairsIntoRecord}});var JB=iW1();Object.defineProperty(h0,"SDK_INFO",{enumerable:!0,get:function(){return JB.SDK_INFO}});Object.defineProperty(h0,"_globalThis",{enumerable:!0,get:function(){return JB._globalThis}});Object.defineProperty(h0,"getStringFromEnv",{enumerable:!0,get:function(){return JB.getStringFromEnv}});Object.defineProperty(h0,"getBooleanFromEnv",{enumerable:!0,get:function(){return JB.getBooleanFromEnv}});Object.defineProperty(h0,"getNumberFromEnv",{enumerable:!0,get:function(){return JB.getNumberFromEnv}});Object.defineProperty(h0,"getStringListFromEnv",{enumerable:!0,get:function(){return JB.getStringListFromEnv}});Object.defineProperty(h0,"otperformance",{enumerable:!0,get:function(){return JB.otperformance}});Object.defineProperty(h0,"unrefTimer",{enumerable:!0,get:function(){return JB.unrefTimer}});var yg8=A16();Object.defineProperty(h0,"CompositePropagator",{enumerable:!0,get:function(){return yg8.CompositePropagator}});var Zd=h16();Object.defineProperty(h0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return Zd.TRACE_PARENT_HEADER}});Object.defineProperty(h0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return Zd.TRACE_STATE_HEADER}});Object.defineProperty(h0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return Zd.W3CTraceContextPropagator}});Object.defineProperty(h0,"parseTraceParent",{enumerable:!0,get:function(){return Zd.parseTraceParent}});var Xd=x16();Object.defineProperty(h0,"RPCType",{enumerable:!0,get:function(){return Xd.RPCType}});Object.defineProperty(h0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Xd.deleteRPCMetadata}});Object.defineProperty(h0,"getRPCMetadata",{enumerable:!0,get:function(){return Xd.getRPCMetadata}});Object.defineProperty(h0,"setRPCMetadata",{enumerable:!0,get:function(){return Xd.setRPCMetadata}});var YQ1=C2();Object.defineProperty(h0,"isTracingSuppressed",{enumerable:!0,get:function(){return YQ1.isTracingSuppressed}});Object.defineProperty(h0,"suppressTracing",{enumerable:!0,get:function(){return YQ1.suppressTracing}});Object.defineProperty(h0,"unsuppressTracing",{enumerable:!0,get:function(){return YQ1.unsuppressTracing}});var vg8=JQ1();Object.defineProperty(h0,"TraceState",{enumerable:!0,get:function(){return vg8.TraceState}});var xg8=t16();Object.defineProperty(h0,"merge",{enumerable:!0,get:function(){return xg8.merge}});var L06=Z06();Object.defineProperty(h0,"TimeoutError",{enumerable:!0,get:function(){return L06.TimeoutError}});Object.defineProperty(h0,"callWithTimeout",{enumerable:!0,get:function(){return L06.callWithTimeout}});var C06=z06();Object.defineProperty(h0,"isUrlIgnored",{enumerable:!0,get:function(){return C06.isUrlIgnored}});Object.defineProperty(h0,"urlMatches",{enumerable:!0,get:function(){return C06.urlMatches}});var gg8=F06();Object.defineProperty(h0,"BindOnceFuture",{enumerable:!0,get:function(){return gg8.BindOnceFuture}});var dg8=V06();Object.defineProperty(h0,"diagLogLevelFromString",{enumerable:!0,get:function(){return dg8.diagLogLevelFromString}});var ug8=M06();h0.internal={_export:ug8._export}});var f06=B((E06)=>{Object.defineProperty(E06,"__esModule",{value:!0});E06.extractContainerIdFromLine=E06.truncatePrefix=E06.HEX_STRING_REGEX=E06.DOCKER=E06.CRI_CONTAINERD=E06.CRIO=E06.MARKING_PREFIX=E06.HOSTNAME=E06.UTF8_UNICODE=E06.DEFAULT_CGROUP_V2_PATH=E06.DEFAULT_CGROUP_V1_PATH=E06.CONTAINER_ID_LENGTH=void 0;E06.CONTAINER_ID_LENGTH=64;E06.DEFAULT_CGROUP_V1_PATH="/proc/self/cgroup";E06.DEFAULT_CGROUP_V2_PATH="/proc/self/mountinfo";E06.UTF8_UNICODE="utf8";E06.HOSTNAME="hostname";E06.MARKING_PREFIX=["containers","overlay-containers"];E06.CRIO="crio-";E06.CRI_CONTAINERD="cri-containerd-";E06.DOCKER="docker-";E06.HEX_STRING_REGEX=/^[a-f0-9]+$/i;function Yd(J,Z){return J.substring(Z.length)}E06.truncatePrefix=Yd;function mg8(J){if(!J)return;let Z=J.split("/");if(Z.length<=1)return;let X=Z[Z.length-1],Y=X.lastIndexOf(":");if(Y!==-1)X=X.substring(Y+1);if(X.startsWith(E06.CRIO))X=Yd(X,E06.CRIO);else if(X.startsWith(E06.DOCKER))X=Yd(X,E06.DOCKER);else if(X.startsWith(E06.CRI_CONTAINERD))X=Yd(X,E06.CRI_CONTAINERD);if(X.includes("."))X=X.split(".")[0];if(E06.HEX_STRING_REGEX.test(X))return X;return}E06.extractContainerIdFromLine=mg8});var h06=B((k06)=>{Object.defineProperty(k06,"__esModule",{value:!0});k06.containerDetector=k06.ContainerDetector=void 0;var ag8=j1(),rg8=p("fs"),tg8=p("util"),QQ1=C(),eg8=R06(),Jd8=f06();class E2{CONTAINER_ID_LENGTH=64;DEFAULT_CGROUP_V1_PATH="/proc/self/cgroup";DEFAULT_CGROUP_V2_PATH="/proc/self/mountinfo";UTF8_UNICODE="utf8";HOSTNAME="hostname";MARKING_PREFIX=["containers","overlay-containers"];CRIO="crio-";CRI_CONTAINERD="cri-containerd-";DOCKER="docker-";HEX_STRING_REGEX=/^[a-f0-9]+$/i;static readFileAsync=tg8.promisify(rg8.readFile);detect(){return{attributes:{[ag8.SEMRESATTRS_CONTAINER_ID]:this._getContainerIdWithSuppressedTracing()}}}async _getContainerIdWithSuppressedTracing(){return QQ1.context.with((0,eg8.suppressTracing)(QQ1.context.active()),()=>this._getContainerId())}async _getContainerIdV1(){let Z=(await E2.readFileAsync(this.DEFAULT_CGROUP_V1_PATH,this.UTF8_UNICODE)).trim().split(`
`);for(let X of Z){let Y=(0,Jd8.extractContainerIdFromLine)(X);if(Y)return Y}return}async _getContainerIdV2(){let Z=(await E2.readFileAsync(this.DEFAULT_CGROUP_V2_PATH,this.UTF8_UNICODE)).trim().split(`
`).find((Y)=>Y.includes(this.HOSTNAME));if(!Z)return"";let X=Z?.split("/")??[];for(let Y=0;Y<X.length-1;Y++)if(this.MARKING_PREFIX.includes(X[Y])&&X[Y+1]?.length===this.CONTAINER_ID_LENGTH)return X[Y+1];return""}async _getContainerId(){try{let J=await this._getContainerIdV1();if(J)return J;let Z=await this._getContainerIdV2();if(Z)return Z}catch(J){if(J instanceof Error){let Z=J.message;QQ1.diag.debug("Container Detector failed to read the Container ID: ",Z)}}return}}k06.ContainerDetector=E2;k06.containerDetector=new E2});var _06=B((GQ1)=>{Object.defineProperty(GQ1,"__esModule",{value:!0});GQ1.containerDetector=void 0;var Xd8=h06();Object.defineProperty(GQ1,"containerDetector",{enumerable:!0,get:function(){return Xd8.containerDetector}})});var y06=B((KQ1)=>{Object.defineProperty(KQ1,"__esModule",{value:!0});KQ1.containerDetector=void 0;var $d8=_06();Object.defineProperty(KQ1,"containerDetector",{enumerable:!0,get:function(){return $d8.containerDetector}})});var qQ1=B((Jl9,l06)=>{var $d=Object.prototype.hasOwnProperty,c06=Object.prototype.toString,v06=Object.defineProperty,x06=Object.getOwnPropertyDescriptor,g06=function J(Z){if(typeof Array.isArray==="function")return Array.isArray(Z);return c06.call(Z)==="[object Array]"},d06=function J(Z){if(!Z||c06.call(Z)!=="[object Object]")return!1;var X=$d.call(Z,"constructor"),Y=Z.constructor&&Z.constructor.prototype&&$d.call(Z.constructor.prototype,"isPrototypeOf");if(Z.constructor&&!X&&!Y)return!1;var $;for($ in Z);return typeof $==="undefined"||$d.call(Z,$)},u06=function J(Z,X){if(v06&&X.name==="__proto__")v06(Z,X.name,{enumerable:!0,configurable:!0,value:X.newValue,writable:!0});else Z[X.name]=X.newValue},m06=function J(Z,X){if(X==="__proto__"){if(!$d.call(Z,X))return;else if(x06)return x06(Z,X).value}return Z[X]};l06.exports=function J(){var Z,X,Y,$,z,W,Q=arguments[0],G=1,K=arguments.length,q=!1;if(typeof Q==="boolean")q=Q,Q=arguments[1]||{},G=2;if(Q==null||typeof Q!=="object"&&typeof Q!=="function")Q={};for(;G<K;++G)if(Z=arguments[G],Z!=null){for(X in Z)if(Y=m06(Q,X),$=m06(Z,X),Q!==$){if(q&&$&&(d06($)||(z=g06($)))){if(z)z=!1,W=Y&&g06(Y)?Y:[];else W=Y&&d06(Y)?Y:{};u06(Q,{name:X,newValue:J(q,W,$)})}else if(typeof $!=="undefined")u06(Q,{name:X,newValue:$})}}return Q}});var n06=B((Zl9,p06)=>{var xz=(J)=>J!==null&&typeof J==="object"&&typeof J.pipe==="function";xz.writable=(J)=>xz(J)&&J.writable!==!1&&typeof J._write==="function"&&typeof J._writableState==="object";xz.readable=(J)=>xz(J)&&J.readable!==!1&&typeof J._read==="function"&&typeof J._readableState==="object";xz.duplex=(J)=>xz.writable(J)&&xz.readable(J);xz.transform=(J)=>xz.duplex(J)&&typeof J._transform==="function";p06.exports=xz});var i06=B((Xl9,Wd8)=>{Wd8.exports={name:"gaxios",version:"6.7.1",description:"A simple common HTTP client specifically for Google APIs and services.",main:"build/src/index.js",types:"build/src/index.d.ts",files:["build/src"],scripts:{lint:"gts check",test:"c8 mocha build/test","presystem-test":"npm run compile","system-test":"mocha build/system-test --timeout 80000",compile:"tsc -p .",fix:"gts fix",prepare:"npm run compile",pretest:"npm run compile",webpack:"webpack","prebrowser-test":"npm run compile","browser-test":"node build/browser-test/browser-test-runner.js",docs:"compodoc src/","docs-test":"linkinator docs","predocs-test":"npm run docs","samples-test":"cd samples/ && npm link ../ && npm test && cd ../",prelint:"cd samples; npm link ../; npm install",clean:"gts clean",precompile:"gts clean"},repository:"googleapis/gaxios",keywords:["google"],engines:{node:">=14"},author:"Google, LLC",license:"Apache-2.0",devDependencies:{"@babel/plugin-proposal-private-methods":"^7.18.6","@compodoc/compodoc":"1.1.19","@types/cors":"^2.8.6","@types/express":"^4.16.1","@types/extend":"^3.0.1","@types/mocha":"^9.0.0","@types/multiparty":"0.0.36","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^20.0.0","@types/node-fetch":"^2.5.7","@types/sinon":"^17.0.0","@types/tmp":"0.2.6","@types/uuid":"^10.0.0","abort-controller":"^3.0.0",assert:"^2.0.0",browserify:"^17.0.0",c8:"^8.0.0",cheerio:"1.0.0-rc.10",cors:"^2.8.5",execa:"^5.0.0",express:"^4.16.4","form-data":"^4.0.0",gts:"^5.0.0","is-docker":"^2.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.4.0","karma-webpack":"5.0.0",linkinator:"^3.0.0",mocha:"^8.0.0",multiparty:"^4.2.1",mv:"^2.1.1",ncp:"^2.0.0",nock:"^13.0.0","null-loader":"^4.0.0",puppeteer:"^19.0.0",sinon:"^18.0.0","stream-browserify":"^3.0.0",tmp:"0.2.3","ts-loader":"^8.0.0",typescript:"^5.1.6",webpack:"^5.35.0","webpack-cli":"^4.0.0"},dependencies:{extend:"^3.0.2","https-proxy-agent":"^7.0.1","is-stream":"^2.0.0","node-fetch":"^2.6.9",uuid:"^9.0.1"}}});var a06=B((o06)=>{Object.defineProperty(o06,"__esModule",{value:!0});o06.pkg=void 0;o06.pkg=i06()});var FQ1=B(($X)=>{var Qd8=$X&&$X.__importDefault||function(J){return J&&J.__esModule?J:{default:J}},r06;Object.defineProperty($X,"__esModule",{value:!0});$X.GaxiosError=$X.GAXIOS_ERROR_SYMBOL=void 0;$X.defaultErrorRedactor=e06;var Gd8=p("url"),BQ1=a06(),t06=Qd8(qQ1());$X.GAXIOS_ERROR_SYMBOL=Symbol.for(`${BQ1.pkg.name}-gaxios-error`);class HQ1 extends Error{static[(r06=$X.GAXIOS_ERROR_SYMBOL,Symbol.hasInstance)](J){if(J&&typeof J==="object"&&$X.GAXIOS_ERROR_SYMBOL in J&&J[$X.GAXIOS_ERROR_SYMBOL]===BQ1.pkg.version)return!0;return Function.prototype[Symbol.hasInstance].call(HQ1,J)}constructor(J,Z,X,Y){var $;super(J);if(this.config=Z,this.response=X,this.error=Y,this[r06]=BQ1.pkg.version,this.config=(0,t06.default)(!0,{},Z),this.response)this.response.config=(0,t06.default)(!0,{},this.response.config);if(this.response){try{this.response.data=Kd8(this.config.responseType,($=this.response)===null||$===void 0?void 0:$.data)}catch(z){}this.status=this.response.status}if(Y&&"code"in Y&&Y.code)this.code=Y.code;if(Z.errorRedactor)Z.errorRedactor({config:this.config,response:this.response})}}$X.GaxiosError=HQ1;function Kd8(J,Z){switch(J){case"stream":return Z;case"json":return JSON.parse(JSON.stringify(Z));case"arraybuffer":return JSON.parse(Buffer.from(Z).toString("utf8"));case"blob":return JSON.parse(Z.text());default:return Z}}function e06(J){function X(z){if(!z)return;for(let W of Object.keys(z)){if(/^authentication$/i.test(W))z[W]="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.";if(/^authorization$/i.test(W))z[W]="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.";if(/secret/i.test(W))z[W]="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>."}}function Y(z,W){if(typeof z==="object"&&z!==null&&typeof z[W]==="string"){let Q=z[W];if(/grant_type=/i.test(Q)||/assertion=/i.test(Q)||/secret/i.test(Q))z[W]="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>."}}function $(z){if(typeof z==="object"&&z!==null){if("grant_type"in z)z.grant_type="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.";if("assertion"in z)z.assertion="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.";if("client_secret"in z)z.client_secret="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>."}}if(J.config){X(J.config.headers),Y(J.config,"data"),$(J.config.data),Y(J.config,"body"),$(J.config.body);try{let z=new Gd8.URL("",J.config.url);if(z.searchParams.has("token"))z.searchParams.set("token","<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.");if(z.searchParams.has("client_secret"))z.searchParams.set("client_secret","<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.");J.config.url=z.toString()}catch(z){}}if(J.response)e06({config:J.response.config}),X(J.response.headers),Y(J.response,"data"),$(J.response.data);return J}});var X66=B((Z66)=>{Object.defineProperty(Z66,"__esModule",{value:!0});Z66.getRetryConfig=qd8;async function qd8(J){let Z=J66(J);if(!J||!J.config||!Z&&!J.config.retry)return{shouldRetry:!1};Z=Z||{},Z.currentRetryAttempt=Z.currentRetryAttempt||0,Z.retry=Z.retry===void 0||Z.retry===null?3:Z.retry,Z.httpMethodsToRetry=Z.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],Z.noResponseRetries=Z.noResponseRetries===void 0||Z.noResponseRetries===null?2:Z.noResponseRetries,Z.retryDelayMultiplier=Z.retryDelayMultiplier?Z.retryDelayMultiplier:2,Z.timeOfFirstRequest=Z.timeOfFirstRequest?Z.timeOfFirstRequest:Date.now(),Z.totalTimeout=Z.totalTimeout?Z.totalTimeout:Number.MAX_SAFE_INTEGER,Z.maxRetryDelay=Z.maxRetryDelay?Z.maxRetryDelay:Number.MAX_SAFE_INTEGER;let X=[[100,199],[408,408],[429,429],[500,599]];if(Z.statusCodesToRetry=Z.statusCodesToRetry||X,J.config.retryConfig=Z,!await(Z.shouldRetry||Bd8)(J))return{shouldRetry:!1,config:J.config};let $=Hd8(Z);J.config.retryConfig.currentRetryAttempt+=1;let z=Z.retryBackoff?Z.retryBackoff(J,$):new Promise((W)=>{setTimeout(W,$)});if(Z.onRetryAttempt)Z.onRetryAttempt(J);return await z,{shouldRetry:!0,config:J.config}}function Bd8(J){var Z;let X=J66(J);if(J.name==="AbortError"||((Z=J.error)===null||Z===void 0?void 0:Z.name)==="AbortError")return!1;if(!X||X.retry===0)return!1;if(!J.response&&(X.currentRetryAttempt||0)>=X.noResponseRetries)return!1;if(!J.config.method||X.httpMethodsToRetry.indexOf(J.config.method.toUpperCase())<0)return!1;if(J.response&&J.response.status){let Y=!1;for(let[$,z]of X.statusCodesToRetry){let W=J.response.status;if(W>=$&&W<=z){Y=!0;break}}if(!Y)return!1}if(X.currentRetryAttempt=X.currentRetryAttempt||0,X.currentRetryAttempt>=X.retry)return!1;return!0}function J66(J){if(J&&J.config&&J.config.retryConfig)return J.config.retryConfig;return}function Hd8(J){var Z;let Y=(J.currentRetryAttempt?0:(Z=J.retryDelay)!==null&&Z!==void 0?Z:100)+(Math.pow(J.retryDelayMultiplier,J.currentRetryAttempt)-1)/2*1000,$=J.totalTimeout-(Date.now()-J.timeOfFirstRequest);return Math.min(Y,$,J.maxRetryDelay)}});var UQ1=B((Y66)=>{Object.defineProperty(Y66,"__esModule",{value:!0});Y66.default=Dd8;var Ud8=Od8(p("crypto"));function Od8(J){return J&&J.__esModule?J:{default:J}}var Wd=new Uint8Array(256),zd=Wd.length;function Dd8(){if(zd>Wd.length-16)Ud8.default.randomFillSync(Wd),zd=0;return Wd.slice(zd,zd+=16)}});var W66=B(($66)=>{Object.defineProperty($66,"__esModule",{value:!0});$66.default=void 0;var Id8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;$66.default=Id8});var S2=B((Q66)=>{Object.defineProperty(Q66,"__esModule",{value:!0});Q66.default=void 0;var wd8=Ad8(W66());function Ad8(J){return J&&J.__esModule?J:{default:J}}function Md8(J){return typeof J==="string"&&wd8.default.test(J)}var Nd8=Md8;Q66.default=Nd8});var T2=B((q66)=>{Object.defineProperty(q66,"__esModule",{value:!0});q66.default=void 0;q66.unsafeStringify=K66;var Pd8=Ld8(S2());function Ld8(J){return J&&J.__esModule?J:{default:J}}var I9=[];for(let J=0;J<256;++J)I9.push((J+256).toString(16).slice(1));function K66(J,Z=0){return I9[J[Z+0]]+I9[J[Z+1]]+I9[J[Z+2]]+I9[J[Z+3]]+"-"+I9[J[Z+4]]+I9[J[Z+5]]+"-"+I9[J[Z+6]]+I9[J[Z+7]]+"-"+I9[J[Z+8]]+I9[J[Z+9]]+"-"+I9[J[Z+10]]+I9[J[Z+11]]+I9[J[Z+12]]+I9[J[Z+13]]+I9[J[Z+14]]+I9[J[Z+15]]}function Cd8(J,Z=0){let X=K66(J,Z);if(!(0,Pd8.default)(X))throw TypeError("Stringified UUID is invalid");return X}var jd8=Cd8;q66.default=jd8});var O66=B((F66)=>{Object.defineProperty(F66,"__esModule",{value:!0});F66.default=void 0;var Ed8=Td8(UQ1()),Sd8=T2();function Td8(J){return J&&J.__esModule?J:{default:J}}var H66,OQ1,DQ1=0,VQ1=0;function fd8(J,Z,X){let Y=Z&&X||0,$=Z||new Array(16);J=J||{};let z=J.node||H66,W=J.clockseq!==void 0?J.clockseq:OQ1;if(z==null||W==null){let F=J.random||(J.rng||Ed8.default)();if(z==null)z=H66=[F[0]|1,F[1],F[2],F[3],F[4],F[5]];if(W==null)W=OQ1=(F[6]<<8|F[7])&16383}let Q=J.msecs!==void 0?J.msecs:Date.now(),G=J.nsecs!==void 0?J.nsecs:VQ1+1,K=Q-DQ1+(G-VQ1)/1e4;if(K<0&&J.clockseq===void 0)W=W+1&16383;if((K<0||Q>DQ1)&&J.nsecs===void 0)G=0;if(G>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");DQ1=Q,VQ1=G,OQ1=W,Q+=12219292800000;let q=((Q&268435455)*1e4+G)%4294967296;$[Y++]=q>>>24&255,$[Y++]=q>>>16&255,$[Y++]=q>>>8&255,$[Y++]=q&255;let H=Q/4294967296*1e4&268435455;$[Y++]=H>>>8&255,$[Y++]=H&255,$[Y++]=H>>>24&15|16,$[Y++]=H>>>16&255,$[Y++]=W>>>8|128,$[Y++]=W&255;for(let F=0;F<6;++F)$[Y+F]=z[F];return Z||(0,Sd8.unsafeStringify)($)}var kd8=fd8;F66.default=kd8});var IQ1=B((D66)=>{Object.defineProperty(D66,"__esModule",{value:!0});D66.default=void 0;var bd8=hd8(S2());function hd8(J){return J&&J.__esModule?J:{default:J}}function _d8(J){if(!(0,bd8.default)(J))throw TypeError("Invalid UUID");let Z,X=new Uint8Array(16);return X[0]=(Z=parseInt(J.slice(0,8),16))>>>24,X[1]=Z>>>16&255,X[2]=Z>>>8&255,X[3]=Z&255,X[4]=(Z=parseInt(J.slice(9,13),16))>>>8,X[5]=Z&255,X[6]=(Z=parseInt(J.slice(14,18),16))>>>8,X[7]=Z&255,X[8]=(Z=parseInt(J.slice(19,23),16))>>>8,X[9]=Z&255,X[10]=(Z=parseInt(J.slice(24,36),16))/1099511627776&255,X[11]=Z/4294967296&255,X[12]=Z>>>24&255,X[13]=Z>>>16&255,X[14]=Z>>>8&255,X[15]=Z&255,X}var yd8=_d8;D66.default=yd8});var wQ1=B((A66)=>{Object.defineProperty(A66,"__esModule",{value:!0});A66.URL=A66.DNS=void 0;A66.default=ud8;var vd8=T2(),xd8=gd8(IQ1());function gd8(J){return J&&J.__esModule?J:{default:J}}function dd8(J){J=unescape(encodeURIComponent(J));let Z=[];for(let X=0;X<J.length;++X)Z.push(J.charCodeAt(X));return Z}var I66="6ba7b810-9dad-11d1-80b4-00c04fd430c8";A66.DNS=I66;var w66="6ba7b811-9dad-11d1-80b4-00c04fd430c8";A66.URL=w66;function ud8(J,Z,X){function Y($,z,W,Q){var G;if(typeof $==="string")$=dd8($);if(typeof z==="string")z=(0,xd8.default)(z);if(((G=z)===null||G===void 0?void 0:G.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let K=new Uint8Array(16+$.length);if(K.set(z),K.set($,z.length),K=X(K),K[6]=K[6]&15|Z,K[8]=K[8]&63|128,W){Q=Q||0;for(let q=0;q<16;++q)W[Q+q]=K[q];return W}return(0,vd8.unsafeStringify)(K)}try{Y.name=J}catch($){}return Y.DNS=I66,Y.URL=w66,Y}});var L66=B((N66)=>{Object.defineProperty(N66,"__esModule",{value:!0});N66.default=void 0;var ld8=pd8(p("crypto"));function pd8(J){return J&&J.__esModule?J:{default:J}}function nd8(J){if(Array.isArray(J))J=Buffer.from(J);else if(typeof J==="string")J=Buffer.from(J,"utf8");return ld8.default.createHash("md5").update(J).digest()}var id8=nd8;N66.default=id8});var E66=B((j66)=>{Object.defineProperty(j66,"__esModule",{value:!0});j66.default=void 0;var od8=C66(wQ1()),sd8=C66(L66());function C66(J){return J&&J.__esModule?J:{default:J}}var ad8=(0,od8.default)("v3",48,sd8.default),rd8=ad8;j66.default=rd8});var f66=B((S66)=>{Object.defineProperty(S66,"__esModule",{value:!0});S66.default=void 0;var td8=ed8(p("crypto"));function ed8(J){return J&&J.__esModule?J:{default:J}}var Ju8={randomUUID:td8.default.randomUUID};S66.default=Ju8});var y66=B((h66)=>{Object.defineProperty(h66,"__esModule",{value:!0});h66.default=void 0;var k66=b66(f66()),Zu8=b66(UQ1()),Xu8=T2();function b66(J){return J&&J.__esModule?J:{default:J}}function Yu8(J,Z,X){if(k66.default.randomUUID&&!Z&&!J)return k66.default.randomUUID();J=J||{};let Y=J.random||(J.rng||Zu8.default)();if(Y[6]=Y[6]&15|64,Y[8]=Y[8]&63|128,Z){X=X||0;for(let $=0;$<16;++$)Z[X+$]=Y[$];return Z}return(0,Xu8.unsafeStringify)(Y)}var $u8=Yu8;h66.default=$u8});var g66=B((v66)=>{Object.defineProperty(v66,"__esModule",{value:!0});v66.default=void 0;var zu8=Wu8(p("crypto"));function Wu8(J){return J&&J.__esModule?J:{default:J}}function Qu8(J){if(Array.isArray(J))J=Buffer.from(J);else if(typeof J==="string")J=Buffer.from(J,"utf8");return zu8.default.createHash("sha1").update(J).digest()}var Gu8=Qu8;v66.default=Gu8});var c66=B((u66)=>{Object.defineProperty(u66,"__esModule",{value:!0});u66.default=void 0;var Ku8=d66(wQ1()),qu8=d66(g66());function d66(J){return J&&J.__esModule?J:{default:J}}var Bu8=(0,Ku8.default)("v5",80,qu8.default),Hu8=Bu8;u66.default=Hu8});var n66=B((l66)=>{Object.defineProperty(l66,"__esModule",{value:!0});l66.default=void 0;var Fu8="00000000-0000-0000-0000-000000000000";l66.default=Fu8});var s66=B((i66)=>{Object.defineProperty(i66,"__esModule",{value:!0});i66.default=void 0;var Uu8=Ou8(S2());function Ou8(J){return J&&J.__esModule?J:{default:J}}function Du8(J){if(!(0,Uu8.default)(J))throw TypeError("Invalid UUID");return parseInt(J.slice(14,15),16)}var Vu8=Du8;i66.default=Vu8});var a66=B((yY)=>{Object.defineProperty(yY,"__esModule",{value:!0});Object.defineProperty(yY,"NIL",{enumerable:!0,get:function(){return Nu8.default}});Object.defineProperty(yY,"parse",{enumerable:!0,get:function(){return ju8.default}});Object.defineProperty(yY,"stringify",{enumerable:!0,get:function(){return Cu8.default}});Object.defineProperty(yY,"v1",{enumerable:!0,get:function(){return Iu8.default}});Object.defineProperty(yY,"v3",{enumerable:!0,get:function(){return wu8.default}});Object.defineProperty(yY,"v4",{enumerable:!0,get:function(){return Au8.default}});Object.defineProperty(yY,"v5",{enumerable:!0,get:function(){return Mu8.default}});Object.defineProperty(yY,"validate",{enumerable:!0,get:function(){return Lu8.default}});Object.defineProperty(yY,"version",{enumerable:!0,get:function(){return Pu8.default}});var Iu8=hG(O66()),wu8=hG(E66()),Au8=hG(y66()),Mu8=hG(c66()),Nu8=hG(n66()),Pu8=hG(s66()),Lu8=hG(S2()),Cu8=hG(T2()),ju8=hG(IQ1());function hG(J){return J&&J.__esModule?J:{default:J}}});var AQ1=B((t66)=>{Object.defineProperty(t66,"__esModule",{value:!0});t66.GaxiosInterceptorManager=void 0;class r66 extends Set{}t66.GaxiosInterceptorManager=r66});var X46=B((o7)=>{var Ru8=o7&&o7.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),Eu8=o7&&o7.__setModuleDefault||(Object.create?function(J,Z){Object.defineProperty(J,"default",{enumerable:!0,value:Z})}:function(J,Z){J.default=Z}),J46=o7&&o7.__importStar||function(J){if(J&&J.__esModule)return J;var Z={};if(J!=null){for(var X in J)if(X!=="default"&&Object.prototype.hasOwnProperty.call(J,X))Ru8(Z,J,X)}return Eu8(Z,J),Z};Object.defineProperty(o7,"__esModule",{value:!0});o7.req=o7.json=o7.toBuffer=void 0;var Su8=J46(p("http")),Tu8=J46(p("https"));async function Z46(J){let Z=0,X=[];for await(let Y of J)Z+=Y.length,X.push(Y);return Buffer.concat(X,Z)}o7.toBuffer=Z46;async function fu8(J){let X=(await Z46(J)).toString("utf8");try{return JSON.parse(X)}catch(Y){let $=Y;throw $.message+=` (input: ${X})`,$}}o7.json=fu8;function ku8(J,Z={}){let Y=((typeof J==="string"?J:J.href).startsWith("https:")?Tu8:Su8).request(J,Z),$=new Promise((z,W)=>{Y.once("response",z).once("error",W).end()});return Y.then=$.then.bind($),Y}o7.req=ku8});var Q46=B((SJ)=>{var $46=SJ&&SJ.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),bu8=SJ&&SJ.__setModuleDefault||(Object.create?function(J,Z){Object.defineProperty(J,"default",{enumerable:!0,value:Z})}:function(J,Z){J.default=Z}),z46=SJ&&SJ.__importStar||function(J){if(J&&J.__esModule)return J;var Z={};if(J!=null){for(var X in J)if(X!=="default"&&Object.prototype.hasOwnProperty.call(J,X))$46(Z,J,X)}return bu8(Z,J),Z},hu8=SJ&&SJ.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))$46(Z,J,X)};Object.defineProperty(SJ,"__esModule",{value:!0});SJ.Agent=void 0;var _u8=z46(p("net")),Y46=z46(p("http")),yu8=p("https");hu8(X46(),SJ);var gz=Symbol("AgentBaseInternalState");class W46 extends Y46.Agent{constructor(J){super(J);this[gz]={}}isSecureEndpoint(J){if(J){if(typeof J.secureEndpoint==="boolean")return J.secureEndpoint;if(typeof J.protocol==="string")return J.protocol==="https:"}let{stack:Z}=new Error;if(typeof Z!=="string")return!1;return Z.split(`
`).some((X)=>X.indexOf("(https.js:")!==-1||X.indexOf("node:https:")!==-1)}incrementSockets(J){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;if(!this.sockets[J])this.sockets[J]=[];let Z=new _u8.Socket({writable:!1});return this.sockets[J].push(Z),this.totalSocketCount++,Z}decrementSockets(J,Z){if(!this.sockets[J]||Z===null)return;let X=this.sockets[J],Y=X.indexOf(Z);if(Y!==-1){if(X.splice(Y,1),this.totalSocketCount--,X.length===0)delete this.sockets[J]}}getName(J){if(typeof J.secureEndpoint==="boolean"?J.secureEndpoint:this.isSecureEndpoint(J))return yu8.Agent.prototype.getName.call(this,J);return super.getName(J)}createSocket(J,Z,X){let Y={...Z,secureEndpoint:this.isSecureEndpoint(Z)},$=this.getName(Y),z=this.incrementSockets($);Promise.resolve().then(()=>this.connect(J,Y)).then((W)=>{if(this.decrementSockets($,z),W instanceof Y46.Agent)try{return W.addRequest(J,Y)}catch(Q){return X(Q)}this[gz].currentSocket=W,super.createSocket(J,Z,X)},(W)=>{this.decrementSockets($,z),X(W)})}createConnection(){let J=this[gz].currentSocket;if(this[gz].currentSocket=void 0,!J)throw new Error("No socket was returned in the `connect()` function");return J}get defaultPort(){return this[gz].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(J){if(this[gz])this[gz].defaultPort=J}get protocol(){return this[gz].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(J){if(this[gz])this[gz].protocol=J}}SJ.Agent=W46});var G46=B((vw)=>{var vu8=vw&&vw.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(vw,"__esModule",{value:!0});vw.parseProxyResponse=void 0;var xu8=vu8(p51()),Qd=(0,xu8.default)("https-proxy-agent:parse-proxy-response");function gu8(J){return new Promise((Z,X)=>{let Y=0,$=[];function z(){let q=J.read();if(q)K(q);else J.once("readable",z)}function W(){J.removeListener("end",Q),J.removeListener("error",G),J.removeListener("readable",z)}function Q(){W(),Qd("onend"),X(new Error("Proxy connection ended before receiving CONNECT response"))}function G(q){W(),Qd("onerror %o",q),X(q)}function K(q){$.push(q),Y+=q.length;let H=Buffer.concat($,Y),F=H.indexOf(`\r
\r
`);if(F===-1){Qd("have not received end of HTTP headers yet..."),z();return}let U=H.slice(0,F).toString("ascii").split(`\r
`),D=U.shift();if(!D)return J.destroy(),X(new Error("No header received from proxy CONNECT response"));let V=D.split(" "),w=+V[1],M=V.slice(2).join(" "),P={};for(let R of U){if(!R)continue;let f=R.indexOf(":");if(f===-1)return J.destroy(),X(new Error(`Invalid header from proxy CONNECT response: "${R}"`));let d=R.slice(0,f).toLowerCase(),v=R.slice(f+1).trimStart(),l=P[d];if(typeof l==="string")P[d]=[l,v];else if(Array.isArray(l))l.push(v);else P[d]=v}Qd("got proxy server response: %o %o",D,P),W(),Z({connect:{statusCode:w,statusText:M,headers:P},buffered:H})}J.on("error",G),J.on("end",Q),z()})}vw.parseProxyResponse=gu8});var U46=B((zX)=>{var du8=zX&&zX.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),uu8=zX&&zX.__setModuleDefault||(Object.create?function(J,Z){Object.defineProperty(J,"default",{enumerable:!0,value:Z})}:function(J,Z){J.default=Z}),H46=zX&&zX.__importStar||function(J){if(J&&J.__esModule)return J;var Z={};if(J!=null){for(var X in J)if(X!=="default"&&Object.prototype.hasOwnProperty.call(J,X))du8(Z,J,X)}return uu8(Z,J),Z},F46=zX&&zX.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(zX,"__esModule",{value:!0});zX.HttpsProxyAgent=void 0;var Gd=H46(p("net")),K46=H46(p("tls")),mu8=F46(p("assert")),cu8=F46(p51()),lu8=Q46(),pu8=p("url"),nu8=G46(),f2=(0,cu8.default)("https-proxy-agent"),q46=(J)=>{if(J.servername===void 0&&J.host&&!Gd.isIP(J.host))return{...J,servername:J.host};return J};class MQ1 extends lu8.Agent{constructor(J,Z){super(Z);this.options={path:void 0},this.proxy=typeof J==="string"?new pu8.URL(J):J,this.proxyHeaders=Z?.headers??{},f2("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let X=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),Y=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...Z?B46(Z,"headers"):null,host:X,port:Y}}async connect(J,Z){let{proxy:X}=this;if(!Z.host)throw new TypeError('No "host" provided');let Y;if(X.protocol==="https:")f2("Creating `tls.Socket`: %o",this.connectOpts),Y=K46.connect(q46(this.connectOpts));else f2("Creating `net.Socket`: %o",this.connectOpts),Y=Gd.connect(this.connectOpts);let $=typeof this.proxyHeaders==="function"?this.proxyHeaders():{...this.proxyHeaders},z=Gd.isIPv6(Z.host)?`[${Z.host}]`:Z.host,W=`CONNECT ${z}:${Z.port} HTTP/1.1\r
`;if(X.username||X.password){let H=`${decodeURIComponent(X.username)}:${decodeURIComponent(X.password)}`;$["Proxy-Authorization"]=`Basic ${Buffer.from(H).toString("base64")}`}if($.Host=`${z}:${Z.port}`,!$["Proxy-Connection"])$["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close";for(let H of Object.keys($))W+=`${H}: ${$[H]}\r
`;let Q=(0,nu8.parseProxyResponse)(Y);Y.write(`${W}\r
`);let{connect:G,buffered:K}=await Q;if(J.emit("proxyConnect",G),this.emit("proxyConnect",G,J),G.statusCode===200){if(J.once("socket",iu8),Z.secureEndpoint)return f2("Upgrading socket connection to TLS"),K46.connect({...B46(q46(Z),"host","path","port"),socket:Y});return Y}Y.destroy();let q=new Gd.Socket({writable:!1});return q.readable=!0,J.once("socket",(H)=>{f2("Replaying proxy buffer for failed request"),(0,mu8.default)(H.listenerCount("data")>0),H.push(K),H.push(null)}),q}}MQ1.protocols=["http","https"];zX.HttpsProxyAgent=MQ1;function iu8(J){J.resume()}function B46(J,...Z){let X={},Y;for(Y in J)if(!Z.includes(Y))X[Y]=J[Y];return X}});var C46=B((l9)=>{var ou8=l9&&l9.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),su8=l9&&l9.__setModuleDefault||(Object.create?function(J,Z){Object.defineProperty(J,"default",{enumerable:!0,value:Z})}:function(J,Z){J.default=Z}),au8=l9&&l9.__importStar||function(J){if(J&&J.__esModule)return J;var Z={};if(J!=null){for(var X in J)if(X!=="default"&&Object.prototype.hasOwnProperty.call(J,X))ou8(Z,J,X)}return su8(Z,J),Z},ZO=l9&&l9.__classPrivateFieldGet||function(J,Z,X,Y){if(X==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof Z==="function"?J!==Z||!Y:!Z.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?Y:X==="a"?Y.call(J):Y?Y.value:Z.get(J)},ru8=l9&&l9.__classPrivateFieldSet||function(J,Z,X,Y,$){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!$)throw new TypeError("Private accessor was defined without a setter");if(typeof Z==="function"?J!==Z||!$:!Z.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?$.call(J,X):$?$.value=X:Z.set(J,X),X},Bd=l9&&l9.__importDefault||function(J){return J&&J.__esModule?J:{default:J}},xw,JO,O46,M46,N46,P46,Kd,D46;Object.defineProperty(l9,"__esModule",{value:!0});l9.Gaxios=void 0;var tu8=Bd(qQ1()),eu8=p("https"),Jm8=Bd(p("node-fetch")),Zm8=Bd(p("querystring")),Xm8=Bd(n06()),V46=p("url"),qd=FQ1(),Ym8=X66(),I46=p("stream"),$m8=a66(),w46=AQ1(),zm8=Qm8()?window.fetch:Jm8.default;function Wm8(){return typeof window!=="undefined"&&!!window}function Qm8(){return Wm8()&&!!window.fetch}function Gm8(){return typeof Buffer!=="undefined"}function A46(J,Z){return!!L46(J,Z)}function L46(J,Z){Z=Z.toLowerCase();for(let X of Object.keys((J===null||J===void 0?void 0:J.headers)||{}))if(Z===X.toLowerCase())return J.headers[X];return}class NQ1{constructor(J){xw.add(this),this.agentCache=new Map,this.defaults=J||{},this.interceptors={request:new w46.GaxiosInterceptorManager,response:new w46.GaxiosInterceptorManager}}async request(J={}){return J=await ZO(this,xw,"m",P46).call(this,J),J=await ZO(this,xw,"m",M46).call(this,J),ZO(this,xw,"m",N46).call(this,this._request(J))}async _defaultAdapter(J){let X=await(J.fetchImplementation||zm8)(J.url,J),Y=await this.getResponseData(J,X);return this.translateResponse(J,X,Y)}async _request(J={}){var Z;try{let X;if(J.adapter)X=await J.adapter(J,this._defaultAdapter.bind(this));else X=await this._defaultAdapter(J);if(!J.validateStatus(X.status)){if(J.responseType==="stream"){let Y="";await new Promise(($)=>{(X===null||X===void 0?void 0:X.data).on("data",(z)=>{Y+=z}),(X===null||X===void 0?void 0:X.data).on("end",$)}),X.data=Y}throw new qd.GaxiosError(`Request failed with status code ${X.status}`,J,X)}return X}catch(X){let Y=X instanceof qd.GaxiosError?X:new qd.GaxiosError(X.message,J,void 0,X),{shouldRetry:$,config:z}=await(0,Ym8.getRetryConfig)(Y);if($&&z)return Y.config.retryConfig.currentRetryAttempt=z.retryConfig.currentRetryAttempt,J.retryConfig=(Z=Y.config)===null||Z===void 0?void 0:Z.retryConfig,this._request(J);throw Y}}async getResponseData(J,Z){switch(J.responseType){case"stream":return Z.body;case"json":{let X=await Z.text();try{X=JSON.parse(X)}catch(Y){}return X}case"arraybuffer":return Z.arrayBuffer();case"blob":return Z.blob();case"text":return Z.text();default:return this.getResponseDataFromContentType(Z)}}validateStatus(J){return J>=200&&J<300}paramsSerializer(J){return Zm8.default.stringify(J)}translateResponse(J,Z,X){let Y={};return Z.headers.forEach(($,z)=>{Y[z]=$}),{config:J,data:X,headers:Y,status:Z.status,statusText:Z.statusText,request:{responseURL:Z.url}}}async getResponseDataFromContentType(J){let Z=J.headers.get("Content-Type");if(Z===null)return J.text();if(Z=Z.toLowerCase(),Z.includes("application/json")){let X=await J.text();try{X=JSON.parse(X)}catch(Y){}return X}else if(Z.match(/^text\//))return J.text();else return J.blob()}async*getMultipartRequest(J,Z){let X=`--${Z}--`;for(let Y of J){let $=Y.headers["Content-Type"]||"application/octet-stream";if(yield`--${Z}\r
Content-Type: ${$}\r
\r
`,typeof Y.content==="string")yield Y.content;else yield*Y.content;yield`\r
`}yield X}}l9.Gaxios=NQ1;JO=NQ1,xw=new WeakSet,O46=function J(Z,X=[]){var Y,$;let z=new V46.URL(Z),W=[...X],Q=(($=(Y=process.env.NO_PROXY)!==null&&Y!==void 0?Y:process.env.no_proxy)===null||$===void 0?void 0:$.split(","))||[];for(let G of Q)W.push(G.trim());for(let G of W)if(G instanceof RegExp){if(G.test(z.toString()))return!1}else if(G instanceof V46.URL){if(G.origin===z.origin)return!1}else if(G.startsWith("*.")||G.startsWith(".")){let K=G.replace(/^\*\./,".");if(z.hostname.endsWith(K))return!1}else if(G===z.origin||G===z.hostname||G===z.href)return!1;return!0},M46=async function J(Z){let X=Promise.resolve(Z);for(let Y of this.interceptors.request.values())if(Y)X=X.then(Y.resolved,Y.rejected);return X},N46=async function J(Z){let X=Promise.resolve(Z);for(let Y of this.interceptors.response.values())if(Y)X=X.then(Y.resolved,Y.rejected);return X},P46=async function J(Z){var X,Y,$,z;let W=(0,tu8.default)(!0,{},this.defaults,Z);if(!W.url)throw new Error("URL is required.");let Q=W.baseUrl||W.baseURL;if(Q)W.url=Q.toString()+W.url;if(W.paramsSerializer=W.paramsSerializer||this.paramsSerializer,W.params&&Object.keys(W.params).length>0){let q=W.paramsSerializer(W.params);if(q.startsWith("?"))q=q.slice(1);let H=W.url.toString().includes("?")?"&":"?";W.url=W.url+H+q}if(typeof Z.maxContentLength==="number")W.size=Z.maxContentLength;if(typeof Z.maxRedirects==="number")W.follow=Z.maxRedirects;if(W.headers=W.headers||{},W.multipart===void 0&&W.data){let q=typeof FormData==="undefined"?!1:(W===null||W===void 0?void 0:W.data)instanceof FormData;if(Xm8.default.readable(W.data))W.body=W.data;else if(Gm8()&&Buffer.isBuffer(W.data)){if(W.body=W.data,!A46(W,"Content-Type"))W.headers["Content-Type"]="application/json"}else if(typeof W.data==="object"){if(!q)if(L46(W,"content-type")==="application/x-www-form-urlencoded")W.body=W.paramsSerializer(W.data);else{if(!A46(W,"Content-Type"))W.headers["Content-Type"]="application/json";W.body=JSON.stringify(W.data)}}else W.body=W.data}else if(W.multipart&&W.multipart.length>0){let q=(0,$m8.v4)();W.headers["Content-Type"]=`multipart/related; boundary=${q}`;let H=new I46.PassThrough;W.body=H,(0,I46.pipeline)(this.getMultipartRequest(W.multipart,q),H,()=>{})}if(W.validateStatus=W.validateStatus||this.validateStatus,W.responseType=W.responseType||"unknown",!W.headers.Accept&&W.responseType==="json")W.headers.Accept="application/json";W.method=W.method||"GET";let G=W.proxy||((X=process===null||process===void 0?void 0:process.env)===null||X===void 0?void 0:X.HTTPS_PROXY)||((Y=process===null||process===void 0?void 0:process.env)===null||Y===void 0?void 0:Y.https_proxy)||(($=process===null||process===void 0?void 0:process.env)===null||$===void 0?void 0:$.HTTP_PROXY)||((z=process===null||process===void 0?void 0:process.env)===null||z===void 0?void 0:z.http_proxy),K=ZO(this,xw,"m",O46).call(this,W.url,W.noProxy);if(W.agent);else if(G&&K){let q=await ZO(JO,JO,"m",D46).call(JO);if(this.agentCache.has(G))W.agent=this.agentCache.get(G);else W.agent=new q(G,{cert:W.cert,key:W.key}),this.agentCache.set(G,W.agent)}else if(W.cert&&W.key)if(this.agentCache.has(W.key))W.agent=this.agentCache.get(W.key);else W.agent=new eu8.Agent({cert:W.cert,key:W.key}),this.agentCache.set(W.key,W.agent);if(typeof W.errorRedactor!=="function"&&W.errorRedactor!==!1)W.errorRedactor=qd.defaultErrorRedactor;return W},D46=async function J(){return ru8(this,JO,ZO(this,JO,"f",Kd)||(await Promise.resolve().then(()=>au8(U46()))).HttpsProxyAgent,"f",Kd),ZO(this,JO,"f",Kd)};Kd={value:void 0}});var R46=B((w7)=>{var Km8=w7&&w7.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),qm8=w7&&w7.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))Km8(Z,J,X)};Object.defineProperty(w7,"__esModule",{value:!0});w7.instance=w7.Gaxios=w7.GaxiosError=void 0;w7.request=Hm8;var j46=C46();Object.defineProperty(w7,"Gaxios",{enumerable:!0,get:function(){return j46.Gaxios}});var Bm8=FQ1();Object.defineProperty(w7,"GaxiosError",{enumerable:!0,get:function(){return Bm8.GaxiosError}});qm8(AQ1(),w7);w7.instance=new j46.Gaxios;async function Hm8(J){return w7.instance.request(J)}});var PQ1=B((E46,Hd)=>{(function(J){var Z,X=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Y=Math.ceil,$=Math.floor,z="[BigNumber Error] ",W=z+"Number primitive has more than 15 significant digits: ",Q=100000000000000,G=14,K=9007199254740991,q=[1,10,100,1000,1e4,1e5,1e6,1e7,1e8,1e9,10000000000,100000000000,1000000000000,10000000000000],H=1e7,F=1e9;function U(d){var v,l,o,S=a.prototype={constructor:a,toString:null,valueOf:null},i=new a(1),u=20,G1=4,e=-7,_=21,Z1=-1e7,V1=1e7,N1=!1,m1=1,h1=0,X0={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},z0="0123456789abcdefghijklmnopqrstuvwxyz",Y1=!0;function a(k,b){var A,j,L,h,x,y,c,t,X1=this;if(!(X1 instanceof a))return new a(k,b);if(b==null){if(k&&k._isBigNumber===!0){if(X1.s=k.s,!k.c||k.e>V1)X1.c=X1.e=null;else if(k.e<Z1)X1.c=[X1.e=0];else X1.e=k.e,X1.c=k.c.slice();return}if((y=typeof k=="number")&&k*0==0){if(X1.s=1/k<0?(k=-k,-1):1,k===~~k){for(h=0,x=k;x>=10;x/=10,h++);if(h>V1)X1.c=X1.e=null;else X1.e=h,X1.c=[k];return}t=String(k)}else{if(!X.test(t=String(k)))return o(X1,t,y);X1.s=t.charCodeAt(0)==45?(t=t.slice(1),-1):1}if((h=t.indexOf("."))>-1)t=t.replace(".","");if((x=t.search(/e/i))>0){if(h<0)h=x;h+=+t.slice(x+1),t=t.substring(0,x)}else if(h<0)h=t.length}else{if(M(b,2,z0.length,"Base"),b==10&&Y1)return X1=new a(k),Y0(X1,u+X1.e+1,G1);if(t=String(k),y=typeof k=="number"){if(k*0!=0)return o(X1,t,y,b);if(X1.s=1/k<0?(t=t.slice(1),-1):1,a.DEBUG&&t.replace(/^0\.0*|\./,"").length>15)throw Error(W+k)}else X1.s=t.charCodeAt(0)===45?(t=t.slice(1),-1):1;A=z0.slice(0,b),h=x=0;for(c=t.length;x<c;x++)if(A.indexOf(j=t.charAt(x))<0){if(j=="."){if(x>h){h=c;continue}}else if(!L){if(t==t.toUpperCase()&&(t=t.toLowerCase())||t==t.toLowerCase()&&(t=t.toUpperCase())){L=!0,x=-1,h=0;continue}}return o(X1,String(k),y,b)}if(y=!1,t=l(t,b,10,X1.s),(h=t.indexOf("."))>-1)t=t.replace(".","");else h=t.length}for(x=0;t.charCodeAt(x)===48;x++);for(c=t.length;t.charCodeAt(--c)===48;);if(t=t.slice(x,++c)){if(c-=x,y&&a.DEBUG&&c>15&&(k>K||k!==$(k)))throw Error(W+X1.s*k);if((h=h-x-1)>V1)X1.c=X1.e=null;else if(h<Z1)X1.c=[X1.e=0];else{if(X1.e=h,X1.c=[],x=(h+1)%G,h<0)x+=G;if(x<c){if(x)X1.c.push(+t.slice(0,x));for(c-=G;x<c;)X1.c.push(+t.slice(x,x+=G));x=G-(t=t.slice(x)).length}else x-=c;for(;x--;t+="0");X1.c.push(+t)}}else X1.c=[X1.e=0]}a.clone=U,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=function(k){var b,A;if(k!=null)if(typeof k=="object"){if(k.hasOwnProperty(b="DECIMAL_PLACES"))A=k[b],M(A,0,F,b),u=A;if(k.hasOwnProperty(b="ROUNDING_MODE"))A=k[b],M(A,0,8,b),G1=A;if(k.hasOwnProperty(b="EXPONENTIAL_AT"))if(A=k[b],A&&A.pop)M(A[0],-F,0,b),M(A[1],0,F,b),e=A[0],_=A[1];else M(A,-F,F,b),e=-(_=A<0?-A:A);if(k.hasOwnProperty(b="RANGE"))if(A=k[b],A&&A.pop)M(A[0],-F,-1,b),M(A[1],1,F,b),Z1=A[0],V1=A[1];else if(M(A,-F,F,b),A)Z1=-(V1=A<0?-A:A);else throw Error(z+b+" cannot be zero: "+A);if(k.hasOwnProperty(b="CRYPTO"))if(A=k[b],A===!!A)if(A)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))N1=A;else throw N1=!A,Error(z+"crypto unavailable");else N1=A;else throw Error(z+b+" not true or false: "+A);if(k.hasOwnProperty(b="MODULO_MODE"))A=k[b],M(A,0,9,b),m1=A;if(k.hasOwnProperty(b="POW_PRECISION"))A=k[b],M(A,0,F,b),h1=A;if(k.hasOwnProperty(b="FORMAT"))if(A=k[b],typeof A=="object")X0=A;else throw Error(z+b+" not an object: "+A);if(k.hasOwnProperty(b="ALPHABET"))if(A=k[b],typeof A=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(A))Y1=A.slice(0,10)=="0123456789",z0=A;else throw Error(z+b+" invalid: "+A)}else throw Error(z+"Object expected: "+k);return{DECIMAL_PLACES:u,ROUNDING_MODE:G1,EXPONENTIAL_AT:[e,_],RANGE:[Z1,V1],CRYPTO:N1,MODULO_MODE:m1,POW_PRECISION:h1,FORMAT:X0,ALPHABET:z0}},a.isBigNumber=function(k){if(!k||k._isBigNumber!==!0)return!1;if(!a.DEBUG)return!0;var b,A,j=k.c,L=k.e,h=k.s;J:if({}.toString.call(j)=="[object Array]"){if((h===1||h===-1)&&L>=-F&&L<=F&&L===$(L)){if(j[0]===0){if(L===0&&j.length===1)return!0;break J}if(b=(L+1)%G,b<1)b+=G;if(String(j[0]).length==b){for(b=0;b<j.length;b++)if(A=j[b],A<0||A>=Q||A!==$(A))break J;if(A!==0)return!0}}}else if(j===null&&L===null&&(h===null||h===1||h===-1))return!0;throw Error(z+"Invalid BigNumber: "+k)},a.maximum=a.max=function(){return I1(arguments,-1)},a.minimum=a.min=function(){return I1(arguments,1)},a.random=function(){var k=9007199254740992,b=Math.random()*k&2097151?function(){return $(Math.random()*k)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(A){var j,L,h,x,y,c=0,t=[],X1=new a(i);if(A==null)A=u;else M(A,0,F);if(x=Y(A/G),N1)if(crypto.getRandomValues){j=crypto.getRandomValues(new Uint32Array(x*=2));for(;c<x;)if(y=j[c]*131072+(j[c+1]>>>11),y>=9000000000000000)L=crypto.getRandomValues(new Uint32Array(2)),j[c]=L[0],j[c+1]=L[1];else t.push(y%100000000000000),c+=2;c=x/2}else if(crypto.randomBytes){j=crypto.randomBytes(x*=7);for(;c<x;)if(y=(j[c]&31)*281474976710656+j[c+1]*1099511627776+j[c+2]*4294967296+j[c+3]*16777216+(j[c+4]<<16)+(j[c+5]<<8)+j[c+6],y>=9000000000000000)crypto.randomBytes(7).copy(j,c);else t.push(y%100000000000000),c+=7;c=x/7}else throw N1=!1,Error(z+"crypto unavailable");if(!N1){for(;c<x;)if(y=b(),y<9000000000000000)t[c++]=y%100000000000000}if(x=t[--c],A%=G,x&&A)y=q[G-A],t[c]=$(x/y)*y;for(;t[c]===0;t.pop(),c--);if(c<0)t=[h=0];else{for(h=-1;t[0]===0;t.splice(0,1),h-=G);for(c=1,y=t[0];y>=10;y/=10,c++);if(c<G)h-=G-c}return X1.e=h,X1.c=t,X1}}(),a.sum=function(){var k=1,b=arguments,A=new a(b[0]);for(;k<b.length;)A=A.plus(b[k++]);return A},l=function(){var k="0123456789";function b(A,j,L,h){var x,y=[0],c,t=0,X1=A.length;for(;t<X1;){for(c=y.length;c--;y[c]*=j);y[0]+=h.indexOf(A.charAt(t++));for(x=0;x<y.length;x++)if(y[x]>L-1){if(y[x+1]==null)y[x+1]=0;y[x+1]+=y[x]/L|0,y[x]%=L}}return y.reverse()}return function(A,j,L,h,x){var y,c,t,X1,B1,y1,c1,I6,k4=A.indexOf("."),M8=u,u6=G1;if(k4>=0)X1=h1,h1=0,A=A.replace(".",""),I6=new a(j),y1=I6.pow(A.length-k4),h1=X1,I6.c=b(f(V(y1.c),y1.e,"0"),10,L,k),I6.e=I6.c.length;c1=b(A,j,L,x?(y=z0,k):(y=k,z0)),t=X1=c1.length;for(;c1[--X1]==0;c1.pop());if(!c1[0])return y.charAt(0);if(k4<0)--t;else y1.c=c1,y1.e=t,y1.s=h,y1=v(y1,I6,M8,u6,L),c1=y1.c,B1=y1.r,t=y1.e;if(c=t+M8+1,k4=c1[c],X1=L/2,B1=B1||c<0||c1[c+1]!=null,B1=u6<4?(k4!=null||B1)&&(u6==0||u6==(y1.s<0?3:2)):k4>X1||k4==X1&&(u6==4||B1||u6==6&&c1[c-1]&1||u6==(y1.s<0?8:7)),c<1||!c1[0])A=B1?f(y.charAt(1),-M8,y.charAt(0)):y.charAt(0);else{if(c1.length=c,B1){for(--L;++c1[--c]>L;)if(c1[c]=0,!c)++t,c1=[1].concat(c1)}for(X1=c1.length;!c1[--X1];);for(k4=0,A="";k4<=X1;A+=y.charAt(c1[k4++]));A=f(A,t,y.charAt(0))}return A}}(),v=function(){function k(j,L,h){var x,y,c,t,X1=0,B1=j.length,y1=L%H,c1=L/H|0;for(j=j.slice();B1--;)c=j[B1]%H,t=j[B1]/H|0,x=c1*c+t*y1,y=y1*c+x%H*H+X1,X1=(y/h|0)+(x/H|0)+c1*t,j[B1]=y%h;if(X1)j=[X1].concat(j);return j}function b(j,L,h,x){var y,c;if(h!=x)c=h>x?1:-1;else for(y=c=0;y<h;y++)if(j[y]!=L[y]){c=j[y]>L[y]?1:-1;break}return c}function A(j,L,h,x){var y=0;for(;h--;)j[h]-=y,y=j[h]<L[h]?1:0,j[h]=y*x+j[h]-L[h];for(;!j[0]&&j.length>1;j.splice(0,1));}return function(j,L,h,x,y){var c,t,X1,B1,y1,c1,I6,k4,M8,u6,b6,z8,tY,oA,SD,a9,hW,N9=j.s==L.s?1:-1,P5=j.c,b4=L.c;if(!P5||!P5[0]||!b4||!b4[0])return new a(!j.s||!L.s||(P5?b4&&P5[0]==b4[0]:!b4)?NaN:P5&&P5[0]==0||!b4?N9*0:N9/0);if(k4=new a(N9),M8=k4.c=[],t=j.e-L.e,N9=h+t+1,!y)y=Q,t=D(j.e/G)-D(L.e/G),N9=N9/G|0;for(X1=0;b4[X1]==(P5[X1]||0);X1++);if(b4[X1]>(P5[X1]||0))t--;if(N9<0)M8.push(1),B1=!0;else{if(oA=P5.length,a9=b4.length,X1=0,N9+=2,y1=$(y/(b4[0]+1)),y1>1)b4=k(b4,y1,y),P5=k(P5,y1,y),a9=b4.length,oA=P5.length;tY=a9,u6=P5.slice(0,a9),b6=u6.length;for(;b6<a9;u6[b6++]=0);if(hW=b4.slice(),hW=[0].concat(hW),SD=b4[0],b4[1]>=y/2)SD++;do{if(y1=0,c=b(b4,u6,a9,b6),c<0){if(z8=u6[0],a9!=b6)z8=z8*y+(u6[1]||0);if(y1=$(z8/SD),y1>1){if(y1>=y)y1=y-1;c1=k(b4,y1,y),I6=c1.length,b6=u6.length;while(b(c1,u6,I6,b6)==1)y1--,A(c1,a9<I6?hW:b4,I6,y),I6=c1.length,c=1}else{if(y1==0)c=y1=1;c1=b4.slice(),I6=c1.length}if(I6<b6)c1=[0].concat(c1);if(A(u6,c1,b6,y),b6=u6.length,c==-1)while(b(b4,u6,a9,b6)<1)y1++,A(u6,a9<b6?hW:b4,b6,y),b6=u6.length}else if(c===0)y1++,u6=[0];if(M8[X1++]=y1,u6[0])u6[b6++]=P5[tY]||0;else u6=[P5[tY]],b6=1}while((tY++<oA||u6[0]!=null)&&N9--);if(B1=u6[0]!=null,!M8[0])M8.splice(0,1)}if(y==Q){for(X1=1,N9=M8[0];N9>=10;N9/=10,X1++);Y0(k4,h+(k4.e=X1+t*G-1)+1,x,B1)}else k4.e=t,k4.r=+B1;return k4}}();function w1(k,b,A,j){var L,h,x,y,c;if(A==null)A=G1;else M(A,0,8);if(!k.c)return k.toString();if(L=k.c[0],x=k.e,b==null)c=V(k.c),c=j==1||j==2&&(x<=e||x>=_)?R(c,x):f(c,x,"0");else if(k=Y0(new a(k),b,A),h=k.e,c=V(k.c),y=c.length,j==1||j==2&&(b<=h||h<=e)){for(;y<b;c+="0",y++);c=R(c,h)}else if(b-=x,c=f(c,h,"0"),h+1>y){if(--b>0)for(c+=".";b--;c+="0");}else if(b+=h-y,b>0){if(h+1==y)c+=".";for(;b--;c+="0");}return k.s<0&&L?"-"+c:c}function I1(k,b){var A,j,L=1,h=new a(k[0]);for(;L<k.length;L++)if(j=new a(k[L]),!j.s||(A=w(h,j))===b||A===0&&h.s===b)h=j;return h}function r1(k,b,A){var j=1,L=b.length;for(;!b[--L];b.pop());for(L=b[0];L>=10;L/=10,j++);if((A=j+A*G-1)>V1)k.c=k.e=null;else if(A<Z1)k.c=[k.e=0];else k.e=A,k.c=b;return k}o=function(){var k=/^(-?)0([xbo])(?=\w[\w.]*$)/i,b=/^([^.]+)\.$/,A=/^\.([^.]+)$/,j=/^-?(Infinity|NaN)$/,L=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(h,x,y,c){var t,X1=y?x:x.replace(L,"");if(j.test(X1))h.s=isNaN(X1)?null:X1<0?-1:1;else{if(!y){if(X1=X1.replace(k,function(B1,y1,c1){return t=(c1=c1.toLowerCase())=="x"?16:c1=="b"?2:8,!c||c==t?y1:B1}),c)t=c,X1=X1.replace(b,"$1").replace(A,"0.$1");if(x!=X1)return new a(X1,t)}if(a.DEBUG)throw Error(z+"Not a"+(c?" base "+c:"")+" number: "+x);h.s=null}h.c=h.e=null}}();function Y0(k,b,A,j){var L,h,x,y,c,t,X1,B1=k.c,y1=q;if(B1){J:{for(L=1,y=B1[0];y>=10;y/=10,L++);if(h=b-L,h<0)h+=G,x=b,c=B1[t=0],X1=$(c/y1[L-x-1]%10);else if(t=Y((h+1)/G),t>=B1.length)if(j){for(;B1.length<=t;B1.push(0));c=X1=0,L=1,h%=G,x=h-G+1}else break J;else{c=y=B1[t];for(L=1;y>=10;y/=10,L++);h%=G,x=h-G+L,X1=x<0?0:$(c/y1[L-x-1]%10)}if(j=j||b<0||B1[t+1]!=null||(x<0?c:c%y1[L-x-1]),j=A<4?(X1||j)&&(A==0||A==(k.s<0?3:2)):X1>5||X1==5&&(A==4||j||A==6&&(h>0?x>0?c/y1[L-x]:0:B1[t-1])%10&1||A==(k.s<0?8:7)),b<1||!B1[0]){if(B1.length=0,j)b-=k.e+1,B1[0]=y1[(G-b%G)%G],k.e=-b||0;else B1[0]=k.e=0;return k}if(h==0)B1.length=t,y=1,t--;else B1.length=t+1,y=y1[G-h],B1[t]=x>0?$(c/y1[L-x]%y1[x])*y:0;if(j)for(;;)if(t==0){for(h=1,x=B1[0];x>=10;x/=10,h++);x=B1[0]+=y;for(y=1;x>=10;x/=10,y++);if(h!=y){if(k.e++,B1[0]==Q)B1[0]=1}break}else{if(B1[t]+=y,B1[t]!=Q)break;B1[t--]=0,y=1}for(h=B1.length;B1[--h]===0;B1.pop());}if(k.e>V1)k.c=k.e=null;else if(k.e<Z1)k.c=[k.e=0]}return k}function H0(k){var b,A=k.e;if(A===null)return k.toString();return b=V(k.c),b=A<=e||A>=_?R(b,A):f(b,A,"0"),k.s<0?"-"+b:b}if(S.absoluteValue=S.abs=function(){var k=new a(this);if(k.s<0)k.s=1;return k},S.comparedTo=function(k,b){return w(this,new a(k,b))},S.decimalPlaces=S.dp=function(k,b){var A,j,L,h=this;if(k!=null){if(M(k,0,F),b==null)b=G1;else M(b,0,8);return Y0(new a(h),k+h.e+1,b)}if(!(A=h.c))return null;if(j=((L=A.length-1)-D(this.e/G))*G,L=A[L])for(;L%10==0;L/=10,j--);if(j<0)j=0;return j},S.dividedBy=S.div=function(k,b){return v(this,new a(k,b),u,G1)},S.dividedToIntegerBy=S.idiv=function(k,b){return v(this,new a(k,b),0,1)},S.exponentiatedBy=S.pow=function(k,b){var A,j,L,h,x,y,c,t,X1,B1=this;if(k=new a(k),k.c&&!k.isInteger())throw Error(z+"Exponent not an integer: "+H0(k));if(b!=null)b=new a(b);if(y=k.e>14,!B1.c||!B1.c[0]||B1.c[0]==1&&!B1.e&&B1.c.length==1||!k.c||!k.c[0])return X1=new a(Math.pow(+H0(B1),y?k.s*(2-P(k)):+H0(k))),b?X1.mod(b):X1;if(c=k.s<0,b){if(b.c?!b.c[0]:!b.s)return new a(NaN);if(j=!c&&B1.isInteger()&&b.isInteger(),j)B1=B1.mod(b)}else if(k.e>9&&(B1.e>0||B1.e<-1||(B1.e==0?B1.c[0]>1||y&&B1.c[1]>=240000000:B1.c[0]<80000000000000||y&&B1.c[0]<=99999750000000))){if(h=B1.s<0&&P(k)?-0:0,B1.e>-1)h=1/h;return new a(c?1/h:h)}else if(h1)h=Y(h1/G+2);if(y){if(A=new a(0.5),c)k.s=1;t=P(k)}else L=Math.abs(+H0(k)),t=L%2;X1=new a(i);for(;;){if(t){if(X1=X1.times(B1),!X1.c)break;if(h){if(X1.c.length>h)X1.c.length=h}else if(j)X1=X1.mod(b)}if(L){if(L=$(L/2),L===0)break;t=L%2}else if(k=k.times(A),Y0(k,k.e+1,1),k.e>14)t=P(k);else{if(L=+H0(k),L===0)break;t=L%2}if(B1=B1.times(B1),h){if(B1.c&&B1.c.length>h)B1.c.length=h}else if(j)B1=B1.mod(b)}if(j)return X1;if(c)X1=i.div(X1);return b?X1.mod(b):h?Y0(X1,h1,G1,x):X1},S.integerValue=function(k){var b=new a(this);if(k==null)k=G1;else M(k,0,8);return Y0(b,b.e+1,k)},S.isEqualTo=S.eq=function(k,b){return w(this,new a(k,b))===0},S.isFinite=function(){return!!this.c},S.isGreaterThan=S.gt=function(k,b){return w(this,new a(k,b))>0},S.isGreaterThanOrEqualTo=S.gte=function(k,b){return(b=w(this,new a(k,b)))===1||b===0},S.isInteger=function(){return!!this.c&&D(this.e/G)>this.c.length-2},S.isLessThan=S.lt=function(k,b){return w(this,new a(k,b))<0},S.isLessThanOrEqualTo=S.lte=function(k,b){return(b=w(this,new a(k,b)))===-1||b===0},S.isNaN=function(){return!this.s},S.isNegative=function(){return this.s<0},S.isPositive=function(){return this.s>0},S.isZero=function(){return!!this.c&&this.c[0]==0},S.minus=function(k,b){var A,j,L,h,x=this,y=x.s;if(k=new a(k,b),b=k.s,!y||!b)return new a(NaN);if(y!=b)return k.s=-b,x.plus(k);var c=x.e/G,t=k.e/G,X1=x.c,B1=k.c;if(!c||!t){if(!X1||!B1)return X1?(k.s=-b,k):new a(B1?x:NaN);if(!X1[0]||!B1[0])return B1[0]?(k.s=-b,k):new a(X1[0]?x:G1==3?-0:0)}if(c=D(c),t=D(t),X1=X1.slice(),y=c-t){if(h=y<0)y=-y,L=X1;else t=c,L=B1;L.reverse();for(b=y;b--;L.push(0));L.reverse()}else{j=(h=(y=X1.length)<(b=B1.length))?y:b;for(y=b=0;b<j;b++)if(X1[b]!=B1[b]){h=X1[b]<B1[b];break}}if(h)L=X1,X1=B1,B1=L,k.s=-k.s;if(b=(j=B1.length)-(A=X1.length),b>0)for(;b--;X1[A++]=0);b=Q-1;for(;j>y;){if(X1[--j]<B1[j]){for(A=j;A&&!X1[--A];X1[A]=b);--X1[A],X1[j]+=Q}X1[j]-=B1[j]}for(;X1[0]==0;X1.splice(0,1),--t);if(!X1[0])return k.s=G1==3?-1:1,k.c=[k.e=0],k;return r1(k,X1,t)},S.modulo=S.mod=function(k,b){var A,j,L=this;if(k=new a(k,b),!L.c||!k.s||k.c&&!k.c[0])return new a(NaN);else if(!k.c||L.c&&!L.c[0])return new a(L);if(m1==9)j=k.s,k.s=1,A=v(L,k,0,3),k.s=j,A.s*=j;else A=v(L,k,0,m1);if(k=L.minus(A.times(k)),!k.c[0]&&m1==1)k.s=L.s;return k},S.multipliedBy=S.times=function(k,b){var A,j,L,h,x,y,c,t,X1,B1,y1,c1,I6,k4,M8,u6=this,b6=u6.c,z8=(k=new a(k,b)).c;if(!b6||!z8||!b6[0]||!z8[0]){if(!u6.s||!k.s||b6&&!b6[0]&&!z8||z8&&!z8[0]&&!b6)k.c=k.e=k.s=null;else if(k.s*=u6.s,!b6||!z8)k.c=k.e=null;else k.c=[0],k.e=0;return k}if(j=D(u6.e/G)+D(k.e/G),k.s*=u6.s,c=b6.length,B1=z8.length,c<B1)I6=b6,b6=z8,z8=I6,L=c,c=B1,B1=L;for(L=c+B1,I6=[];L--;I6.push(0));k4=Q,M8=H;for(L=B1;--L>=0;){A=0,y1=z8[L]%M8,c1=z8[L]/M8|0;for(x=c,h=L+x;h>L;)t=b6[--x]%M8,X1=b6[x]/M8|0,y=c1*t+X1*y1,t=y1*t+y%M8*M8+I6[h]+A,A=(t/k4|0)+(y/M8|0)+c1*X1,I6[h--]=t%k4;I6[h]=A}if(A)++j;else I6.splice(0,1);return r1(k,I6,j)},S.negated=function(){var k=new a(this);return k.s=-k.s||null,k},S.plus=function(k,b){var A,j=this,L=j.s;if(k=new a(k,b),b=k.s,!L||!b)return new a(NaN);if(L!=b)return k.s=-b,j.minus(k);var h=j.e/G,x=k.e/G,y=j.c,c=k.c;if(!h||!x){if(!y||!c)return new a(L/0);if(!y[0]||!c[0])return c[0]?k:new a(y[0]?j:L*0)}if(h=D(h),x=D(x),y=y.slice(),L=h-x){if(L>0)x=h,A=c;else L=-L,A=y;A.reverse();for(;L--;A.push(0));A.reverse()}if(L=y.length,b=c.length,L-b<0)A=c,c=y,y=A,b=L;for(L=0;b;)L=(y[--b]=y[b]+c[b]+L)/Q|0,y[b]=Q===y[b]?0:y[b]%Q;if(L)y=[L].concat(y),++x;return r1(k,y,x)},S.precision=S.sd=function(k,b){var A,j,L,h=this;if(k!=null&&k!==!!k){if(M(k,1,F),b==null)b=G1;else M(b,0,8);return Y0(new a(h),k,b)}if(!(A=h.c))return null;if(L=A.length-1,j=L*G+1,L=A[L]){for(;L%10==0;L/=10,j--);for(L=A[0];L>=10;L/=10,j++);}if(k&&h.e+1>j)j=h.e+1;return j},S.shiftedBy=function(k){return M(k,-K,K),this.times("1e"+k)},S.squareRoot=S.sqrt=function(){var k,b,A,j,L,h=this,x=h.c,y=h.s,c=h.e,t=u+4,X1=new a("0.5");if(y!==1||!x||!x[0])return new a(!y||y<0&&(!x||x[0])?NaN:x?h:1/0);if(y=Math.sqrt(+H0(h)),y==0||y==1/0){if(b=V(x),(b.length+c)%2==0)b+="0";if(y=Math.sqrt(+b),c=D((c+1)/2)-(c<0||c%2),y==1/0)b="5e"+c;else b=y.toExponential(),b=b.slice(0,b.indexOf("e")+1)+c;A=new a(b)}else A=new a(y+"");if(A.c[0]){if(c=A.e,y=c+t,y<3)y=0;for(;;)if(L=A,A=X1.times(L.plus(v(h,L,t,1))),V(L.c).slice(0,y)===(b=V(A.c)).slice(0,y)){if(A.e<c)--y;if(b=b.slice(y-3,y+1),b=="9999"||!j&&b=="4999"){if(!j){if(Y0(L,L.e+u+2,0),L.times(L).eq(h)){A=L;break}}t+=4,y+=4,j=1}else{if(!+b||!+b.slice(1)&&b.charAt(0)=="5")Y0(A,A.e+u+2,1),k=!A.times(A).eq(h);break}}}return Y0(A,A.e+u+1,G1,k)},S.toExponential=function(k,b){if(k!=null)M(k,0,F),k++;return w1(this,k,b,1)},S.toFixed=function(k,b){if(k!=null)M(k,0,F),k=k+this.e+1;return w1(this,k,b)},S.toFormat=function(k,b,A){var j,L=this;if(A==null)if(k!=null&&b&&typeof b=="object")A=b,b=null;else if(k&&typeof k=="object")A=k,k=b=null;else A=X0;else if(typeof A!="object")throw Error(z+"Argument not an object: "+A);if(j=L.toFixed(k,b),L.c){var h,x=j.split("."),y=+A.groupSize,c=+A.secondaryGroupSize,t=A.groupSeparator||"",X1=x[0],B1=x[1],y1=L.s<0,c1=y1?X1.slice(1):X1,I6=c1.length;if(c)h=y,y=c,c=h,I6-=h;if(y>0&&I6>0){h=I6%y||y,X1=c1.substr(0,h);for(;h<I6;h+=y)X1+=t+c1.substr(h,y);if(c>0)X1+=t+c1.slice(h);if(y1)X1="-"+X1}j=B1?X1+(A.decimalSeparator||"")+((c=+A.fractionGroupSize)?B1.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(A.fractionGroupSeparator||"")):B1):X1}return(A.prefix||"")+j+(A.suffix||"")},S.toFraction=function(k){var b,A,j,L,h,x,y,c,t,X1,B1,y1,c1=this,I6=c1.c;if(k!=null){if(y=new a(k),!y.isInteger()&&(y.c||y.s!==1)||y.lt(i))throw Error(z+"Argument "+(y.isInteger()?"out of range: ":"not an integer: ")+H0(y))}if(!I6)return new a(c1);b=new a(i),t=A=new a(i),j=c=new a(i),y1=V(I6),h=b.e=y1.length-c1.e-1,b.c[0]=q[(x=h%G)<0?G+x:x],k=!k||y.comparedTo(b)>0?h>0?b:t:y,x=V1,V1=1/0,y=new a(y1),c.c[0]=0;for(;;){if(X1=v(y,b,0,1),L=A.plus(X1.times(j)),L.comparedTo(k)==1)break;A=j,j=L,t=c.plus(X1.times(L=t)),c=L,b=y.minus(X1.times(L=b)),y=L}return L=v(k.minus(A),j,0,1),c=c.plus(L.times(t)),A=A.plus(L.times(j)),c.s=t.s=c1.s,h=h*2,B1=v(t,j,h,G1).minus(c1).abs().comparedTo(v(c,A,h,G1).minus(c1).abs())<1?[t,j]:[c,A],V1=x,B1},S.toNumber=function(){return+H0(this)},S.toPrecision=function(k,b){if(k!=null)M(k,1,F);return w1(this,k,b,2)},S.toString=function(k){var b,A=this,j=A.s,L=A.e;if(L===null)if(j){if(b="Infinity",j<0)b="-"+b}else b="NaN";else{if(k==null)b=L<=e||L>=_?R(V(A.c),L):f(V(A.c),L,"0");else if(k===10&&Y1)A=Y0(new a(A),u+L+1,G1),b=f(V(A.c),A.e,"0");else M(k,2,z0.length,"Base"),b=l(f(V(A.c),L,"0"),10,k,j,!0);if(j<0&&A.c[0])b="-"+b}return b},S.valueOf=S.toJSON=function(){return H0(this)},S._isBigNumber=!0,d!=null)a.set(d);return a}function D(d){var v=d|0;return d>0||d===v?v:v-1}function V(d){var v,l,o=1,S=d.length,i=d[0]+"";for(;o<S;){v=d[o++]+"",l=G-v.length;for(;l--;v="0"+v);i+=v}for(S=i.length;i.charCodeAt(--S)===48;);return i.slice(0,S+1||1)}function w(d,v){var l,o,S=d.c,i=v.c,u=d.s,G1=v.s,e=d.e,_=v.e;if(!u||!G1)return null;if(l=S&&!S[0],o=i&&!i[0],l||o)return l?o?0:-G1:u;if(u!=G1)return u;if(l=u<0,o=e==_,!S||!i)return o?0:!S^l?1:-1;if(!o)return e>_^l?1:-1;G1=(e=S.length)<(_=i.length)?e:_;for(u=0;u<G1;u++)if(S[u]!=i[u])return S[u]>i[u]^l?1:-1;return e==_?0:e>_^l?1:-1}function M(d,v,l,o){if(d<v||d>l||d!==$(d))throw Error(z+(o||"Argument")+(typeof d=="number"?d<v||d>l?" out of range: ":" not an integer: ":" not a primitive number: ")+String(d))}function P(d){var v=d.c.length-1;return D(d.e/G)==v&&d.c[v]%2!=0}function R(d,v){return(d.length>1?d.charAt(0)+"."+d.slice(1):d)+(v<0?"e":"e+")+v}function f(d,v,l){var o,S;if(v<0){for(S=l+".";++v;S+=l);d=S+d}else if(o=d.length,++v>o){for(S=l,v-=o;--v;S+=l);d+=S}else if(v<o)d=d.slice(0,v)+"."+d.slice(v);return d}if(Z=U(),Z.default=Z.BigNumber=Z,typeof define=="function"&&define.amd)define(function(){return Z});else if(typeof Hd!="undefined"&&Hd.exports)Hd.exports=Z;else{if(!J)J=typeof self!="undefined"&&self?self:window;J.BigNumber=Z}})(E46)});var k46=B((Sl9,f46)=>{var S46=PQ1(),T46=Sl9;(function(){function J(K){return K<10?"0"+K:K}var Z=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,X=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Y,$,z={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':"\\\"","\\":"\\\\"},W;function Q(K){return X.lastIndex=0,X.test(K)?'"'+K.replace(X,function(q){var H=z[q];return typeof H==="string"?H:"\\u"+("0000"+q.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+K+'"'}function G(K,q){var H,F,U,D,V=Y,w,M=q[K],P=M!=null&&(M instanceof S46||S46.isBigNumber(M));if(M&&typeof M==="object"&&typeof M.toJSON==="function")M=M.toJSON(K);if(typeof W==="function")M=W.call(q,K,M);switch(typeof M){case"string":if(P)return M;else return Q(M);case"number":return isFinite(M)?String(M):"null";case"boolean":case"null":case"bigint":return String(M);case"object":if(!M)return"null";if(Y+=$,w=[],Object.prototype.toString.apply(M)==="[object Array]"){D=M.length;for(H=0;H<D;H+=1)w[H]=G(H,M)||"null";return U=w.length===0?"[]":Y?`[
`+Y+w.join(`,
`+Y)+`
`+V+"]":"["+w.join(",")+"]",Y=V,U}if(W&&typeof W==="object"){D=W.length;for(H=0;H<D;H+=1)if(typeof W[H]==="string"){if(F=W[H],U=G(F,M),U)w.push(Q(F)+(Y?": ":":")+U)}}else Object.keys(M).forEach(function(R){var f=G(R,M);if(f)w.push(Q(R)+(Y?": ":":")+f)});return U=w.length===0?"{}":Y?`{
`+Y+w.join(`,
`+Y)+`
`+V+"}":"{"+w.join(",")+"}",Y=V,U}}if(typeof T46.stringify!=="function")T46.stringify=function(K,q,H){var F;if(Y="",$="",typeof H==="number")for(F=0;F<H;F+=1)$+=" ";else if(typeof H==="string")$=H;if(W=q,q&&typeof q!=="function"&&(typeof q!=="object"||typeof q.length!=="number"))throw new Error("JSON.stringify");return G("",{"":K})}})()});var h46=B((Tl9,b46)=>{var Fd=null,Fm8=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,Um8=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/,Om8=function(J){var Z={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(J!==void 0&&J!==null){if(J.strict===!0)Z.strict=!0;if(J.storeAsString===!0)Z.storeAsString=!0;if(Z.alwaysParseAsBig=J.alwaysParseAsBig===!0?J.alwaysParseAsBig:!1,Z.useNativeBigInt=J.useNativeBigInt===!0?J.useNativeBigInt:!1,typeof J.constructorAction!=="undefined")if(J.constructorAction==="error"||J.constructorAction==="ignore"||J.constructorAction==="preserve")Z.constructorAction=J.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${J.constructorAction}`);if(typeof J.protoAction!=="undefined")if(J.protoAction==="error"||J.protoAction==="ignore"||J.protoAction==="preserve")Z.protoAction=J.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${J.protoAction}`)}var X,Y,$={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"\t"},z,W=function(V){throw{name:"SyntaxError",message:V,at:X,text:z}},Q=function(V){if(V&&V!==Y)W("Expected '"+V+"' instead of '"+Y+"'");return Y=z.charAt(X),X+=1,Y},G=function(){var V,w="";if(Y==="-")w="-",Q("-");while(Y>="0"&&Y<="9")w+=Y,Q();if(Y==="."){w+=".";while(Q()&&Y>="0"&&Y<="9")w+=Y}if(Y==="e"||Y==="E"){if(w+=Y,Q(),Y==="-"||Y==="+")w+=Y,Q();while(Y>="0"&&Y<="9")w+=Y,Q()}if(V=+w,!isFinite(V))W("Bad number");else{if(Fd==null)Fd=PQ1();if(w.length>15)return Z.storeAsString?w:Z.useNativeBigInt?BigInt(w):new Fd(w);else return!Z.alwaysParseAsBig?V:Z.useNativeBigInt?BigInt(V):new Fd(V)}},K=function(){var V,w,M="",P;if(Y==='"'){var R=X;while(Q()){if(Y==='"'){if(X-1>R)M+=z.substring(R,X-1);return Q(),M}if(Y==="\\"){if(X-1>R)M+=z.substring(R,X-1);if(Q(),Y==="u"){P=0;for(w=0;w<4;w+=1){if(V=parseInt(Q(),16),!isFinite(V))break;P=P*16+V}M+=String.fromCharCode(P)}else if(typeof $[Y]==="string")M+=$[Y];else break;R=X}}}W("Bad string")},q=function(){while(Y&&Y<=" ")Q()},H=function(){switch(Y){case"t":return Q("t"),Q("r"),Q("u"),Q("e"),!0;case"f":return Q("f"),Q("a"),Q("l"),Q("s"),Q("e"),!1;case"n":return Q("n"),Q("u"),Q("l"),Q("l"),null}W("Unexpected '"+Y+"'")},F,U=function(){var V=[];if(Y==="["){if(Q("["),q(),Y==="]")return Q("]"),V;while(Y){if(V.push(F()),q(),Y==="]")return Q("]"),V;Q(","),q()}}W("Bad array")},D=function(){var V,w=Object.create(null);if(Y==="{"){if(Q("{"),q(),Y==="}")return Q("}"),w;while(Y){if(V=K(),q(),Q(":"),Z.strict===!0&&Object.hasOwnProperty.call(w,V))W('Duplicate key "'+V+'"');if(Fm8.test(V)===!0)if(Z.protoAction==="error")W("Object contains forbidden prototype property");else if(Z.protoAction==="ignore")F();else w[V]=F();else if(Um8.test(V)===!0)if(Z.constructorAction==="error")W("Object contains forbidden constructor property");else if(Z.constructorAction==="ignore")F();else w[V]=F();else w[V]=F();if(q(),Y==="}")return Q("}"),w;Q(","),q()}}W("Bad object")};return F=function(){switch(q(),Y){case"{":return D();case"[":return U();case'"':return K();case"-":return G();default:return Y>="0"&&Y<="9"?G():H()}},function(V,w){var M;if(z=V+"",X=0,Y=" ",M=F(),q(),Y)W("Syntax error");return typeof w==="function"?function P(R,f){var d,v,l=R[f];if(l&&typeof l==="object")Object.keys(l).forEach(function(o){if(v=P(l,o),v!==void 0)l[o]=v;else delete l[o]});return w.call(R,f,l)}({"":M},""):M}};b46.exports=Om8});var v46=B((fl9,Ud)=>{var _46=k46().stringify,y46=h46();Ud.exports=function(J){return{parse:y46(J),stringify:_46}};Ud.exports.parse=y46();Ud.exports.stringify=_46});var LQ1=B((l46)=>{Object.defineProperty(l46,"__esModule",{value:!0});l46.GCE_LINUX_BIOS_PATHS=void 0;l46.isGoogleCloudServerless=d46;l46.isGoogleComputeEngineLinux=u46;l46.isGoogleComputeEngineMACAddress=m46;l46.isGoogleComputeEngine=c46;l46.detectGCPResidency=Vm8;var x46=p("fs"),g46=p("os");l46.GCE_LINUX_BIOS_PATHS={BIOS_DATE:"/sys/class/dmi/id/bios_date",BIOS_VENDOR:"/sys/class/dmi/id/bios_vendor"};var Dm8=/^42:01/;function d46(){return!!(process.env.CLOUD_RUN_JOB||process.env.FUNCTION_NAME||process.env.K_SERVICE)}function u46(){if((0,g46.platform)()!=="linux")return!1;try{(0,x46.statSync)(l46.GCE_LINUX_BIOS_PATHS.BIOS_DATE);let J=(0,x46.readFileSync)(l46.GCE_LINUX_BIOS_PATHS.BIOS_VENDOR,"utf8");return/Google/.test(J)}catch(J){return!1}}function m46(){let J=(0,g46.networkInterfaces)();for(let Z of Object.values(J)){if(!Z)continue;for(let{mac:X}of Z)if(Dm8.test(X))return!0}return!1}function c46(){return u46()||m46()}function Vm8(){return d46()||c46()}});var i46=B((p46)=>{Object.defineProperty(p46,"__esModule",{value:!0});p46.Colours=void 0;class S6{static isEnabled(J){return J.isTTY&&(typeof J.getColorDepth==="function"?J.getColorDepth()>2:!0)}static refresh(){if(S6.enabled=S6.isEnabled(process.stderr),!this.enabled)S6.reset="",S6.bright="",S6.dim="",S6.red="",S6.green="",S6.yellow="",S6.blue="",S6.magenta="",S6.cyan="",S6.white="",S6.grey="";else S6.reset="\x1B[0m",S6.bright="\x1B[1m",S6.dim="\x1B[2m",S6.red="\x1B[31m",S6.green="\x1B[32m",S6.yellow="\x1B[33m",S6.blue="\x1B[34m",S6.magenta="\x1B[35m",S6.cyan="\x1B[36m",S6.white="\x1B[37m",S6.grey="\x1B[90m"}}p46.Colours=S6;S6.enabled=!1;S6.reset="";S6.bright="";S6.dim="";S6.red="";S6.green="";S6.yellow="";S6.blue="";S6.magenta="";S6.cyan="";S6.white="";S6.grey="";S6.refresh()});var e46=B((u4)=>{var Pm8=u4&&u4.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),Lm8=u4&&u4.__setModuleDefault||(Object.create?function(J,Z){Object.defineProperty(J,"default",{enumerable:!0,value:Z})}:function(J,Z){J.default=Z}),o46=u4&&u4.__importStar||function(J){if(J&&J.__esModule)return J;var Z={};if(J!=null){for(var X in J)if(X!=="default"&&Object.prototype.hasOwnProperty.call(J,X))Pm8(Z,J,X)}return Lm8(Z,J),Z};Object.defineProperty(u4,"__esModule",{value:!0});u4.env=u4.DebugLogBackendBase=u4.placeholder=u4.AdhocDebugLogger=u4.LogSeverity=void 0;u4.getNodeBackend=CQ1;u4.getDebugBackend=jm8;u4.getStructuredBackend=Rm8;u4.setBackend=Em8;u4.log=t46;var Cm8=p("events"),k2=o46(p("process")),s46=o46(p("util")),TJ=i46(),vY;(function(J){J.DEFAULT="DEFAULT",J.DEBUG="DEBUG",J.INFO="INFO",J.WARNING="WARNING",J.ERROR="ERROR"})(vY||(u4.LogSeverity=vY={}));class Dd extends Cm8.EventEmitter{constructor(J,Z){super();this.namespace=J,this.upstream=Z,this.func=Object.assign(this.invoke.bind(this),{instance:this,on:(X,Y)=>this.on(X,Y)}),this.func.debug=(...X)=>this.invokeSeverity(vY.DEBUG,...X),this.func.info=(...X)=>this.invokeSeverity(vY.INFO,...X),this.func.warn=(...X)=>this.invokeSeverity(vY.WARNING,...X),this.func.error=(...X)=>this.invokeSeverity(vY.ERROR,...X),this.func.sublog=(X)=>t46(X,this.func)}invoke(J,...Z){if(this.upstream)this.upstream(J,...Z);this.emit("log",J,Z)}invokeSeverity(J,...Z){this.invoke({severity:J},...Z)}}u4.AdhocDebugLogger=Dd;u4.placeholder=new Dd("",()=>{}).func;class b2{constructor(){var J;this.cached=new Map,this.filters=[],this.filtersSet=!1;let Z=(J=k2.env[u4.env.nodeEnables])!==null&&J!==void 0?J:"*";if(Z==="all")Z="*";this.filters=Z.split(",")}log(J,Z,...X){try{if(!this.filtersSet)this.setFilters(),this.filtersSet=!0;let Y=this.cached.get(J);if(!Y)Y=this.makeLogger(J),this.cached.set(J,Y);Y(Z,...X)}catch(Y){console.error(Y)}}}u4.DebugLogBackendBase=b2;class RQ1 extends b2{constructor(){super(...arguments);this.enabledRegexp=/.*/g}isEnabled(J){return this.enabledRegexp.test(J)}makeLogger(J){if(!this.enabledRegexp.test(J))return()=>{};return(Z,...X)=>{var Y;let $=`${TJ.Colours.green}${J}${TJ.Colours.reset}`,z=`${TJ.Colours.yellow}${k2.pid}${TJ.Colours.reset}`,W;switch(Z.severity){case vY.ERROR:W=`${TJ.Colours.red}${Z.severity}${TJ.Colours.reset}`;break;case vY.INFO:W=`${TJ.Colours.magenta}${Z.severity}${TJ.Colours.reset}`;break;case vY.WARNING:W=`${TJ.Colours.yellow}${Z.severity}${TJ.Colours.reset}`;break;default:W=(Y=Z.severity)!==null&&Y!==void 0?Y:vY.DEFAULT;break}let Q=s46.formatWithOptions({colors:TJ.Colours.enabled},...X),G=Object.assign({},Z);delete G.severity;let K=Object.getOwnPropertyNames(G).length?JSON.stringify(G):"",q=K?`${TJ.Colours.grey}${K}${TJ.Colours.reset}`:"";console.error("%s [%s|%s] %s%s",z,$,W,Q,K?` ${q}`:"")}}setFilters(){let Z=this.filters.join(",").replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^");this.enabledRegexp=new RegExp(`^${Z}$`,"i")}}function CQ1(){return new RQ1}class a46 extends b2{constructor(J){super();this.debugPkg=J}makeLogger(J){let Z=this.debugPkg(J);return(X,...Y)=>{Z(Y[0],...Y.slice(1))}}setFilters(){var J;let Z=(J=k2.env.NODE_DEBUG)!==null&&J!==void 0?J:"";k2.env.NODE_DEBUG=`${Z}${Z?",":""}${this.filters.join(",")}`}}function jm8(J){return new a46(J)}class r46 extends b2{constructor(J){var Z;super();this.upstream=(Z=J)!==null&&Z!==void 0?Z:new RQ1}makeLogger(J){let Z=this.upstream.makeLogger(J);return(X,...Y)=>{var $;let z=($=X.severity)!==null&&$!==void 0?$:vY.INFO,W=Object.assign({severity:z,message:s46.format(...Y)},X),Q=JSON.stringify(W);Z(X,Q)}}setFilters(){this.upstream.setFilters()}}function Rm8(J){return new r46(J)}u4.env={nodeEnables:"GOOGLE_SDK_NODE_LOGGING"};var jQ1=new Map,WX=void 0;function Em8(J){WX=J,jQ1.clear()}function t46(J,Z){if(!k2.env[u4.env.nodeEnables])return u4.placeholder;if(!J)return u4.placeholder;if(Z)J=`${Z.instance.namespace}:${J}`;let Y=jQ1.get(J);if(Y)return Y.func;if(WX===null)return u4.placeholder;else if(WX===void 0)WX=CQ1();let $=(()=>{let z=void 0;return new Dd(J,(Q,...G)=>{if(z!==WX){if(WX===null)return;else if(WX===void 0)WX=CQ1();z=WX}WX===null||WX===void 0||WX.log(J,Q,...G)})})();return jQ1.set(J,$),$.func}});var J86=B((XO)=>{var Sm8=XO&&XO.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),Tm8=XO&&XO.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))Sm8(Z,J,X)};Object.defineProperty(XO,"__esModule",{value:!0});Tm8(e46(),XO)});var fQ1=B((Z6)=>{var fm8=Z6&&Z6.__createBinding||(Object.create?function(J,Z,X,Y){if(Y===void 0)Y=X;var $=Object.getOwnPropertyDescriptor(Z,X);if(!$||("get"in $?!Z.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty(J,Y,$)}:function(J,Z,X,Y){if(Y===void 0)Y=X;J[Y]=Z[X]}),km8=Z6&&Z6.__exportStar||function(J,Z){for(var X in J)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))fm8(Z,J,X)};Object.defineProperty(Z6,"__esModule",{value:!0});Z6.gcpResidencyCache=Z6.METADATA_SERVER_DETECTION=Z6.HEADERS=Z6.HEADER_VALUE=Z6.HEADER_NAME=Z6.SECONDARY_HOST_ADDRESS=Z6.HOST_ADDRESS=Z6.BASE_PATH=void 0;Z6.instance=xm8;Z6.project=gm8;Z6.universe=dm8;Z6.bulk=um8;Z6.isAvailable=cm8;Z6.resetIsAvailableCache=lm8;Z6.getGCPResidency=TQ1;Z6.setGCPResidency=X86;Z6.requestTimeout=Y86;var EQ1=R46(),bm8=v46(),hm8=LQ1(),_m8=J86();Z6.BASE_PATH="/computeMetadata/v1";Z6.HOST_ADDRESS="http://169.254.169.254";Z6.SECONDARY_HOST_ADDRESS="http://metadata.google.internal.";Z6.HEADER_NAME="Metadata-Flavor";Z6.HEADER_VALUE="Google";Z6.HEADERS=Object.freeze({[Z6.HEADER_NAME]:Z6.HEADER_VALUE});var Z86=_m8.log("gcp metadata");Z6.METADATA_SERVER_DETECTION=Object.freeze({"assume-present":"don't try to ping the metadata server, but assume it's present",none:"don't try to ping the metadata server, but don't try to use it either","bios-only":"treat the result of a BIOS probe as canonical (don't fall back to pinging)","ping-only":"skip the BIOS probe, and go straight to pinging"});function SQ1(J){if(!J)J=process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST||Z6.HOST_ADDRESS;if(!/^https?:\/\//.test(J))J=`http://${J}`;return new URL(Z6.BASE_PATH,J).href}function ym8(J){Object.keys(J).forEach((Z)=>{switch(Z){case"params":case"property":case"headers":break;case"qs":throw new Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw new Error(`'${Z}' is not a valid configuration option.`)}})}async function h2(J,Z={},X=3,Y=!1){let $="",z={},W={};if(typeof J==="object"){let q=J;$=q.metadataKey,z=q.params||z,W=q.headers||W,X=q.noResponseRetries||X,Y=q.fastFail||Y}else $=J;if(typeof Z==="string")$+=`/${Z}`;else{if(ym8(Z),Z.property)$+=`/${Z.property}`;W=Z.headers||W,z=Z.params||z}let Q=Y?vm8:EQ1.request,G={url:`${SQ1()}/${$}`,headers:{...Z6.HEADERS,...W},retryConfig:{noResponseRetries:X},params:z,responseType:"text",timeout:Y86()};Z86.info("instance request %j",G);let K=await Q(G);if(Z86.info("instance metadata is %s",K.data),K.headers[Z6.HEADER_NAME.toLowerCase()]!==Z6.HEADER_VALUE)throw new Error(`Invalid response from metadata service: incorrect ${Z6.HEADER_NAME} header. Expected '${Z6.HEADER_VALUE}', got ${K.headers[Z6.HEADER_NAME.toLowerCase()]?`'${K.headers[Z6.HEADER_NAME.toLowerCase()]}'`:"no header"}`);if(typeof K.data==="string")try{return bm8.parse(K.data)}catch(q){}return K.data}async function vm8(J){var Z;let X={...J,url:(Z=J.url)===null||Z===void 0?void 0:Z.toString().replace(SQ1(),SQ1(Z6.SECONDARY_HOST_ADDRESS))},Y=!1,$=(0,EQ1.request)(J).then((W)=>{return Y=!0,W}).catch((W)=>{if(Y)return z;else throw Y=!0,W}),z=(0,EQ1.request)(X).then((W)=>{return Y=!0,W}).catch((W)=>{if(Y)return $;else throw Y=!0,W});return Promise.race([$,z])}function xm8(J){return h2("instance",J)}function gm8(J){return h2("project",J)}function dm8(J){return h2("universe",J)}async function um8(J){let Z={};return await Promise.all(J.map((X)=>{return(async()=>{let Y=await h2(X),$=X.metadataKey;Z[$]=Y})()})),Z}function mm8(){return process.env.DETECT_GCP_RETRIES?Number(process.env.DETECT_GCP_RETRIES):0}var Vd;async function cm8(){if(process.env.METADATA_SERVER_DETECTION){let J=process.env.METADATA_SERVER_DETECTION.trim().toLocaleLowerCase();if(!(J in Z6.METADATA_SERVER_DETECTION))throw new RangeError(`Unknown \`METADATA_SERVER_DETECTION\` env variable. Got \`${J}\`, but it should be \`${Object.keys(Z6.METADATA_SERVER_DETECTION).join("`, `")}\`, or unset`);switch(J){case"assume-present":return!0;case"none":return!1;case"bios-only":return TQ1();case"ping-only":}}try{if(Vd===void 0)Vd=h2("instance",void 0,mm8(),!(process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST));return await Vd,!0}catch(J){let Z=J;if(process.env.DEBUG_AUTH)console.info(Z);if(Z.type==="request-timeout")return!1;if(Z.response&&Z.response.status===404)return!1;else{if(!(Z.response&&Z.response.status===404)&&(!Z.code||!["EHOSTDOWN","EHOSTUNREACH","ENETUNREACH","ENOENT","ENOTFOUND","ECONNREFUSED"].includes(Z.code))){let X="UNKNOWN";if(Z.code)X=Z.code;process.emitWarning(`received unexpected error = ${Z.message} code = ${X}`,"MetadataLookupWarning")}return!1}}}function lm8(){Vd=void 0}Z6.gcpResidencyCache=null;function TQ1(){if(Z6.gcpResidencyCache===null)X86();return Z6.gcpResidencyCache}function X86(J=null){Z6.gcpResidencyCache=J!==null?J:(0,hm8.detectGCPResidency)()}function Y86(){return TQ1()?0:3000}km8(LQ1(),Z6)});var _2=B(($86)=>{Object.defineProperty($86,"__esModule",{value:!0});$86.isTracingSuppressed=$86.unsuppressTracing=$86.suppressTracing=void 0;var pm8=C(),kQ1=(0,pm8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function nm8(J){return J.setValue(kQ1,!0)}$86.suppressTracing=nm8;function im8(J){return J.deleteValue(kQ1)}$86.unsuppressTracing=im8;function om8(J){return J.getValue(kQ1)===!0}$86.isTracingSuppressed=om8});var bQ1=B((W86)=>{Object.defineProperty(W86,"__esModule",{value:!0});W86.BAGGAGE_MAX_TOTAL_LENGTH=W86.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=W86.BAGGAGE_MAX_NAME_VALUE_PAIRS=W86.BAGGAGE_HEADER=W86.BAGGAGE_ITEMS_SEPARATOR=W86.BAGGAGE_PROPERTIES_SEPARATOR=W86.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;W86.BAGGAGE_KEY_PAIR_SEPARATOR="=";W86.BAGGAGE_PROPERTIES_SEPARATOR=";";W86.BAGGAGE_ITEMS_SEPARATOR=",";W86.BAGGAGE_HEADER="baggage";W86.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;W86.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;W86.BAGGAGE_MAX_TOTAL_LENGTH=8192});var hQ1=B((K86)=>{Object.defineProperty(K86,"__esModule",{value:!0});K86.parseKeyPairsIntoRecord=K86.parsePairKeyValue=K86.getKeyPairs=K86.serializeKeyPairs=void 0;var Yc8=C(),YO=bQ1();function $c8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?YO.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>YO.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}K86.serializeKeyPairs=$c8;function zc8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=YO.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}K86.getKeyPairs=zc8;function G86(J){let Z=J.split(YO.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(YO.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,Yc8.baggageEntryMetadataFromString)(Z.join(YO.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}K86.parsePairKeyValue=G86;function Wc8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(YO.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=G86(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}K86.parseKeyPairsIntoRecord=Wc8});var U86=B((H86)=>{Object.defineProperty(H86,"__esModule",{value:!0});H86.W3CBaggagePropagator=void 0;var _Q1=C(),qc8=_2(),$O=bQ1(),yQ1=hQ1();class B86{inject(J,Z,X){let Y=_Q1.propagation.getBaggage(J);if(!Y||(0,qc8.isTracingSuppressed)(J))return;let $=(0,yQ1.getKeyPairs)(Y).filter((W)=>{return W.length<=$O.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,$O.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,yQ1.serializeKeyPairs)($);if(z.length>0)X.set(Z,$O.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,$O.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join($O.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split($O.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,yQ1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return _Q1.propagation.setBaggage(J,_Q1.propagation.createBaggage(z))}fields(){return[$O.BAGGAGE_HEADER]}}H86.W3CBaggagePropagator=B86});var I86=B((D86)=>{Object.defineProperty(D86,"__esModule",{value:!0});D86.AnchoredClock=void 0;class O86{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}D86.AnchoredClock=O86});var C86=B((P86)=>{Object.defineProperty(P86,"__esModule",{value:!0});P86.isAttributeValue=P86.isAttributeKey=P86.sanitizeAttributes=void 0;var w86=C();function Bc8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!A86(X)){w86.diag.warn(`Invalid attribute key: ${X}`);continue}if(!M86(Y)){w86.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}P86.sanitizeAttributes=Bc8;function A86(J){return typeof J==="string"&&J.length>0}P86.isAttributeKey=A86;function M86(J){if(J==null)return!0;if(Array.isArray(J))return Hc8(J);return N86(J)}P86.isAttributeValue=M86;function Hc8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(N86(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function N86(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var vQ1=B((j86)=>{Object.defineProperty(j86,"__esModule",{value:!0});j86.loggingErrorHandler=void 0;var Oc8=C();function Dc8(){return(J)=>{Oc8.diag.error(Vc8(J))}}j86.loggingErrorHandler=Dc8;function Vc8(J){if(typeof J==="string")return J;else return JSON.stringify(Ic8(J))}function Ic8(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var f86=B((S86)=>{Object.defineProperty(S86,"__esModule",{value:!0});S86.globalErrorHandler=S86.setGlobalErrorHandler=void 0;var wc8=vQ1(),E86=(0,wc8.loggingErrorHandler)();function Ac8(J){E86=J}S86.setGlobalErrorHandler=Ac8;function Mc8(J){try{E86(J)}catch{}}S86.globalErrorHandler=Mc8});var v86=B((_86)=>{Object.defineProperty(_86,"__esModule",{value:!0});_86.getStringListFromEnv=_86.getBooleanFromEnv=_86.getStringFromEnv=_86.getNumberFromEnv=void 0;var k86=C(),b86=p("util");function Pc8(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){k86.diag.warn(`Unknown value ${(0,b86.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}_86.getNumberFromEnv=Pc8;function h86(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}_86.getStringFromEnv=h86;function Lc8(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return k86.diag.warn(`Unknown value ${(0,b86.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}_86.getBooleanFromEnv=Lc8;function Cc8(J){return h86(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}_86.getStringListFromEnv=Cc8});var d86=B((x86)=>{Object.defineProperty(x86,"__esModule",{value:!0});x86._globalThis=void 0;x86._globalThis=typeof globalThis==="object"?globalThis:global});var c86=B((u86)=>{Object.defineProperty(u86,"__esModule",{value:!0});u86.otperformance=void 0;var Sc8=p("perf_hooks");u86.otperformance=Sc8.performance});var n86=B((l86)=>{Object.defineProperty(l86,"__esModule",{value:!0});l86.VERSION=void 0;l86.VERSION="2.0.1"});var s86=B((i86)=>{Object.defineProperty(i86,"__esModule",{value:!0});i86.ATTR_PROCESS_RUNTIME_NAME=void 0;i86.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var t86=B((a86)=>{Object.defineProperty(a86,"__esModule",{value:!0});a86.SDK_INFO=void 0;var Tc8=n86(),Id=j1(),fc8=s86();a86.SDK_INFO={[Id.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[fc8.ATTR_PROCESS_RUNTIME_NAME]:"node",[Id.ATTR_TELEMETRY_SDK_LANGUAGE]:Id.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[Id.ATTR_TELEMETRY_SDK_VERSION]:Tc8.VERSION}});var Z56=B((e86)=>{Object.defineProperty(e86,"__esModule",{value:!0});e86.unrefTimer=void 0;function kc8(J){J.unref()}e86.unrefTimer=kc8});var X56=B((dz)=>{Object.defineProperty(dz,"__esModule",{value:!0});dz.unrefTimer=dz.SDK_INFO=dz.otperformance=dz._globalThis=dz.getStringListFromEnv=dz.getNumberFromEnv=dz.getBooleanFromEnv=dz.getStringFromEnv=void 0;var wd=v86();Object.defineProperty(dz,"getStringFromEnv",{enumerable:!0,get:function(){return wd.getStringFromEnv}});Object.defineProperty(dz,"getBooleanFromEnv",{enumerable:!0,get:function(){return wd.getBooleanFromEnv}});Object.defineProperty(dz,"getNumberFromEnv",{enumerable:!0,get:function(){return wd.getNumberFromEnv}});Object.defineProperty(dz,"getStringListFromEnv",{enumerable:!0,get:function(){return wd.getStringListFromEnv}});var bc8=d86();Object.defineProperty(dz,"_globalThis",{enumerable:!0,get:function(){return bc8._globalThis}});var hc8=c86();Object.defineProperty(dz,"otperformance",{enumerable:!0,get:function(){return hc8.otperformance}});var _c8=t86();Object.defineProperty(dz,"SDK_INFO",{enumerable:!0,get:function(){return _c8.SDK_INFO}});var yc8=Z56();Object.defineProperty(dz,"unrefTimer",{enumerable:!0,get:function(){return yc8.unrefTimer}})});var xQ1=B((uz)=>{Object.defineProperty(uz,"__esModule",{value:!0});uz.getStringListFromEnv=uz.getNumberFromEnv=uz.getStringFromEnv=uz.getBooleanFromEnv=uz.unrefTimer=uz.otperformance=uz._globalThis=uz.SDK_INFO=void 0;var ZB=X56();Object.defineProperty(uz,"SDK_INFO",{enumerable:!0,get:function(){return ZB.SDK_INFO}});Object.defineProperty(uz,"_globalThis",{enumerable:!0,get:function(){return ZB._globalThis}});Object.defineProperty(uz,"otperformance",{enumerable:!0,get:function(){return ZB.otperformance}});Object.defineProperty(uz,"unrefTimer",{enumerable:!0,get:function(){return ZB.unrefTimer}});Object.defineProperty(uz,"getBooleanFromEnv",{enumerable:!0,get:function(){return ZB.getBooleanFromEnv}});Object.defineProperty(uz,"getStringFromEnv",{enumerable:!0,get:function(){return ZB.getStringFromEnv}});Object.defineProperty(uz,"getNumberFromEnv",{enumerable:!0,get:function(){return ZB.getNumberFromEnv}});Object.defineProperty(uz,"getStringListFromEnv",{enumerable:!0,get:function(){return ZB.getStringListFromEnv}})});var G56=B((W56)=>{Object.defineProperty(W56,"__esModule",{value:!0});W56.addHrTimes=W56.isTimeInput=W56.isTimeInputHrTime=W56.hrTimeToMicroseconds=W56.hrTimeToMilliseconds=W56.hrTimeToNanoseconds=W56.hrTimeToTimeStamp=W56.hrTimeDuration=W56.timeInputToHrTime=W56.hrTime=W56.getTimeOrigin=W56.millisToHrTime=void 0;var gQ1=xQ1(),Y56=9,gc8=6,dc8=Math.pow(10,gc8),Ad=Math.pow(10,Y56);function y2(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*dc8);return[X,Y]}W56.millisToHrTime=y2;function dQ1(){let J=gQ1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=gQ1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}W56.getTimeOrigin=dQ1;function $56(J){let Z=y2(dQ1()),X=y2(typeof J==="number"?J:gQ1.otperformance.now());return z56(Z,X)}W56.hrTime=$56;function uc8(J){if(uQ1(J))return J;else if(typeof J==="number")if(J<dQ1())return $56(J);else return y2(J);else if(J instanceof Date)return y2(J.getTime());else throw TypeError("Invalid input type")}W56.timeInputToHrTime=uc8;function mc8(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=Ad;return[X,Y]}W56.hrTimeDuration=mc8;function cc8(J){let Z=Y56,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}W56.hrTimeToTimeStamp=cc8;function lc8(J){return J[0]*Ad+J[1]}W56.hrTimeToNanoseconds=lc8;function pc8(J){return J[0]*1000+J[1]/1e6}W56.hrTimeToMilliseconds=pc8;function nc8(J){return J[0]*1e6+J[1]/1000}W56.hrTimeToMicroseconds=nc8;function uQ1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}W56.isTimeInputHrTime=uQ1;function ic8(J){return uQ1(J)||typeof J==="number"||J instanceof Date}W56.isTimeInput=ic8;function z56(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=Ad)X[1]-=Ad,X[0]+=1;return X}W56.addHrTimes=z56});var q56=B((K56)=>{Object.defineProperty(K56,"__esModule",{value:!0});K56.ExportResultCode=void 0;var zl8;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(zl8=K56.ExportResultCode||(K56.ExportResultCode={}))});var O56=B((F56)=>{Object.defineProperty(F56,"__esModule",{value:!0});F56.CompositePropagator=void 0;var B56=C();class H56{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){B56.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){B56.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}F56.CompositePropagator=H56});var I56=B((D56)=>{Object.defineProperty(D56,"__esModule",{value:!0});D56.validateValue=D56.validateKey=void 0;var cQ1="[_0-9a-z-*/]",Wl8=`[a-z]${cQ1}{0,255}`,Ql8=`[a-z0-9]${cQ1}{0,240}@[a-z]${cQ1}{0,13}`,Gl8=new RegExp(`^(?:${Wl8}|${Ql8})$`),Kl8=/^[ -~]{0,255}[!-~]$/,ql8=/,|=/;function Bl8(J){return Gl8.test(J)}D56.validateKey=Bl8;function Hl8(J){return Kl8.test(J)&&!ql8.test(J)}D56.validateValue=Hl8});var pQ1=B((P56)=>{Object.defineProperty(P56,"__esModule",{value:!0});P56.TraceState=void 0;var w56=I56(),A56=32,Ul8=512,M56=",",N56="=";class lQ1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+N56+this.get(Z)),J},[]).join(M56)}_parse(J){if(J.length>Ul8)return;if(this._internalState=J.split(M56).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(N56);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,w56.validateKey)(z)&&(0,w56.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>A56)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,A56))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new lQ1;return J._internalState=new Map(this._internalState),J}}P56.TraceState=lQ1});var S56=B((R56)=>{Object.defineProperty(R56,"__esModule",{value:!0});R56.W3CTraceContextPropagator=R56.parseTraceParent=R56.TRACE_STATE_HEADER=R56.TRACE_PARENT_HEADER=void 0;var Md=C(),Ol8=_2(),Dl8=pQ1();R56.TRACE_PARENT_HEADER="traceparent";R56.TRACE_STATE_HEADER="tracestate";var Vl8="00",Il8="(?!ff)[\\da-f]{2}",wl8="(?![0]{32})[\\da-f]{32}",Al8="(?![0]{16})[\\da-f]{16}",Ml8="[\\da-f]{2}",Nl8=new RegExp(`^\\s?(${Il8})-(${wl8})-(${Al8})-(${Ml8})(-.*)?\\s?$`);function C56(J){let Z=Nl8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}R56.parseTraceParent=C56;class j56{inject(J,Z,X){let Y=Md.trace.getSpanContext(J);if(!Y||(0,Ol8.isTracingSuppressed)(J)||!(0,Md.isSpanContextValid)(Y))return;let $=`${Vl8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||Md.TraceFlags.NONE).toString(16)}`;if(X.set(Z,R56.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,R56.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,R56.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=C56($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,R56.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new Dl8.TraceState(typeof Q==="string"?Q:void 0)}return Md.trace.setSpanContext(J,z)}fields(){return[R56.TRACE_PARENT_HEADER,R56.TRACE_STATE_HEADER]}}R56.W3CTraceContextPropagator=j56});var b56=B((f56)=>{Object.defineProperty(f56,"__esModule",{value:!0});f56.getRPCMetadata=f56.deleteRPCMetadata=f56.setRPCMetadata=f56.RPCType=void 0;var Ll8=C(),nQ1=(0,Ll8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),Cl8;(function(J){J.HTTP="http"})(Cl8=f56.RPCType||(f56.RPCType={}));function jl8(J,Z){return J.setValue(nQ1,Z)}f56.setRPCMetadata=jl8;function Rl8(J){return J.deleteValue(nQ1)}f56.deleteRPCMetadata=Rl8;function El8(J){return J.getValue(nQ1)}f56.getRPCMetadata=El8});var d56=B((x56)=>{Object.defineProperty(x56,"__esModule",{value:!0});x56.isPlainObject=void 0;var fl8="[object Object]",kl8="[object Null]",bl8="[object Undefined]",hl8=Function.prototype,h56=hl8.toString,_l8=h56.call(Object),yl8=Object.getPrototypeOf,_56=Object.prototype,y56=_56.hasOwnProperty,zO=Symbol?Symbol.toStringTag:void 0,v56=_56.toString;function vl8(J){if(!xl8(J)||gl8(J)!==fl8)return!1;let Z=yl8(J);if(Z===null)return!0;let X=y56.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&h56.call(X)===_l8}x56.isPlainObject=vl8;function xl8(J){return J!=null&&typeof J=="object"}function gl8(J){if(J==null)return J===void 0?bl8:kl8;return zO&&zO in Object(J)?dl8(J):ul8(J)}function dl8(J){let Z=y56.call(J,zO),X=J[zO],Y=!1;try{J[zO]=void 0,Y=!0}catch(z){}let $=v56.call(J);if(Y)if(Z)J[zO]=X;else delete J[zO];return $}function ul8(J){return v56.call(J)}});var i56=B((p56)=>{Object.defineProperty(p56,"__esModule",{value:!0});p56.merge=void 0;var u56=d56(),ml8=20;function cl8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=c56(Z,J.shift(),0,X);return Z}p56.merge=cl8;function iQ1(J){if(Cd(J))return J.slice();return J}function c56(J,Z,X=0,Y){let $;if(X>ml8)return;if(X++,Ld(J)||Ld(Z)||l56(Z))$=iQ1(Z);else if(Cd(J)){if($=J.slice(),Cd(Z))for(let z=0,W=Z.length;z<W;z++)$.push(iQ1(Z[z]));else if(v2(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=iQ1(Z[G])}}}else if(v2(J))if(v2(Z)){if(!ll8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(Ld(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(m56(J,G,Y)||m56(Z,G,Y))delete $[G];else{if(v2(q)&&v2(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=c56($[G],K,X,Y)}}}}else $=Z;return $}function m56(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function Cd(J){return Array.isArray(J)}function l56(J){return typeof J==="function"}function v2(J){return!Ld(J)&&!Cd(J)&&!l56(J)&&typeof J==="object"}function Ld(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function ll8(J,Z){if(!(0,u56.isPlainObject)(J)||!(0,u56.isPlainObject)(Z))return!1;return!0}});var a56=B((o56)=>{Object.defineProperty(o56,"__esModule",{value:!0});o56.callWithTimeout=o56.TimeoutError=void 0;class jd extends Error{constructor(J){super(J);Object.setPrototypeOf(this,jd.prototype)}}o56.TimeoutError=jd;function pl8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new jd("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}o56.callWithTimeout=pl8});var J96=B((t56)=>{Object.defineProperty(t56,"__esModule",{value:!0});t56.isUrlIgnored=t56.urlMatches=void 0;function r56(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}t56.urlMatches=r56;function il8(J,Z){if(!Z)return!1;for(let X of Z)if(r56(J,X))return!0;return!1}t56.isUrlIgnored=il8});var $96=B((X96)=>{Object.defineProperty(X96,"__esModule",{value:!0});X96.Deferred=void 0;class Z96{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}X96.Deferred=Z96});var G96=B((W96)=>{Object.defineProperty(W96,"__esModule",{value:!0});W96.BindOnceFuture=void 0;var sl8=$96();class z96{_callback;_that;_isCalled=!1;_deferred=new sl8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}W96.BindOnceFuture=z96});var H96=B((q96)=>{Object.defineProperty(q96,"__esModule",{value:!0});q96.diagLogLevelFromString=void 0;var _G=C(),K96={ALL:_G.DiagLogLevel.ALL,VERBOSE:_G.DiagLogLevel.VERBOSE,DEBUG:_G.DiagLogLevel.DEBUG,INFO:_G.DiagLogLevel.INFO,WARN:_G.DiagLogLevel.WARN,ERROR:_G.DiagLogLevel.ERROR,NONE:_G.DiagLogLevel.NONE};function al8(J){if(J==null)return;let Z=K96[J.toUpperCase()];if(Z==null)return _G.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(K96)}, using default`),_G.DiagLogLevel.INFO;return Z}q96.diagLogLevelFromString=al8});var D96=B((U96)=>{Object.defineProperty(U96,"__esModule",{value:!0});U96._export=void 0;var F96=C(),rl8=_2();function tl8(J,Z){return new Promise((X)=>{F96.context.with((0,rl8.suppressTracing)(F96.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}U96._export=tl8});var N96=B((_0)=>{Object.defineProperty(_0,"__esModule",{value:!0});_0.internal=_0.diagLogLevelFromString=_0.BindOnceFuture=_0.urlMatches=_0.isUrlIgnored=_0.callWithTimeout=_0.TimeoutError=_0.merge=_0.TraceState=_0.unsuppressTracing=_0.suppressTracing=_0.isTracingSuppressed=_0.setRPCMetadata=_0.getRPCMetadata=_0.deleteRPCMetadata=_0.RPCType=_0.parseTraceParent=_0.W3CTraceContextPropagator=_0.TRACE_STATE_HEADER=_0.TRACE_PARENT_HEADER=_0.CompositePropagator=_0.unrefTimer=_0.otperformance=_0.getStringListFromEnv=_0.getNumberFromEnv=_0.getBooleanFromEnv=_0.getStringFromEnv=_0._globalThis=_0.SDK_INFO=_0.parseKeyPairsIntoRecord=_0.ExportResultCode=_0.timeInputToHrTime=_0.millisToHrTime=_0.isTimeInputHrTime=_0.isTimeInput=_0.hrTimeToTimeStamp=_0.hrTimeToNanoseconds=_0.hrTimeToMilliseconds=_0.hrTimeToMicroseconds=_0.hrTimeDuration=_0.hrTime=_0.getTimeOrigin=_0.addHrTimes=_0.loggingErrorHandler=_0.setGlobalErrorHandler=_0.globalErrorHandler=_0.sanitizeAttributes=_0.isAttributeValue=_0.AnchoredClock=_0.W3CBaggagePropagator=void 0;var el8=U86();Object.defineProperty(_0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return el8.W3CBaggagePropagator}});var Jp8=I86();Object.defineProperty(_0,"AnchoredClock",{enumerable:!0,get:function(){return Jp8.AnchoredClock}});var V96=C86();Object.defineProperty(_0,"isAttributeValue",{enumerable:!0,get:function(){return V96.isAttributeValue}});Object.defineProperty(_0,"sanitizeAttributes",{enumerable:!0,get:function(){return V96.sanitizeAttributes}});var I96=f86();Object.defineProperty(_0,"globalErrorHandler",{enumerable:!0,get:function(){return I96.globalErrorHandler}});Object.defineProperty(_0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return I96.setGlobalErrorHandler}});var Zp8=vQ1();Object.defineProperty(_0,"loggingErrorHandler",{enumerable:!0,get:function(){return Zp8.loggingErrorHandler}});var QX=G56();Object.defineProperty(_0,"addHrTimes",{enumerable:!0,get:function(){return QX.addHrTimes}});Object.defineProperty(_0,"getTimeOrigin",{enumerable:!0,get:function(){return QX.getTimeOrigin}});Object.defineProperty(_0,"hrTime",{enumerable:!0,get:function(){return QX.hrTime}});Object.defineProperty(_0,"hrTimeDuration",{enumerable:!0,get:function(){return QX.hrTimeDuration}});Object.defineProperty(_0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return QX.hrTimeToMicroseconds}});Object.defineProperty(_0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return QX.hrTimeToMilliseconds}});Object.defineProperty(_0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return QX.hrTimeToNanoseconds}});Object.defineProperty(_0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return QX.hrTimeToTimeStamp}});Object.defineProperty(_0,"isTimeInput",{enumerable:!0,get:function(){return QX.isTimeInput}});Object.defineProperty(_0,"isTimeInputHrTime",{enumerable:!0,get:function(){return QX.isTimeInputHrTime}});Object.defineProperty(_0,"millisToHrTime",{enumerable:!0,get:function(){return QX.millisToHrTime}});Object.defineProperty(_0,"timeInputToHrTime",{enumerable:!0,get:function(){return QX.timeInputToHrTime}});var Xp8=q56();Object.defineProperty(_0,"ExportResultCode",{enumerable:!0,get:function(){return Xp8.ExportResultCode}});var Yp8=hQ1();Object.defineProperty(_0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return Yp8.parseKeyPairsIntoRecord}});var XB=xQ1();Object.defineProperty(_0,"SDK_INFO",{enumerable:!0,get:function(){return XB.SDK_INFO}});Object.defineProperty(_0,"_globalThis",{enumerable:!0,get:function(){return XB._globalThis}});Object.defineProperty(_0,"getStringFromEnv",{enumerable:!0,get:function(){return XB.getStringFromEnv}});Object.defineProperty(_0,"getBooleanFromEnv",{enumerable:!0,get:function(){return XB.getBooleanFromEnv}});Object.defineProperty(_0,"getNumberFromEnv",{enumerable:!0,get:function(){return XB.getNumberFromEnv}});Object.defineProperty(_0,"getStringListFromEnv",{enumerable:!0,get:function(){return XB.getStringListFromEnv}});Object.defineProperty(_0,"otperformance",{enumerable:!0,get:function(){return XB.otperformance}});Object.defineProperty(_0,"unrefTimer",{enumerable:!0,get:function(){return XB.unrefTimer}});var $p8=O56();Object.defineProperty(_0,"CompositePropagator",{enumerable:!0,get:function(){return $p8.CompositePropagator}});var Rd=S56();Object.defineProperty(_0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return Rd.TRACE_PARENT_HEADER}});Object.defineProperty(_0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return Rd.TRACE_STATE_HEADER}});Object.defineProperty(_0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return Rd.W3CTraceContextPropagator}});Object.defineProperty(_0,"parseTraceParent",{enumerable:!0,get:function(){return Rd.parseTraceParent}});var Ed=b56();Object.defineProperty(_0,"RPCType",{enumerable:!0,get:function(){return Ed.RPCType}});Object.defineProperty(_0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Ed.deleteRPCMetadata}});Object.defineProperty(_0,"getRPCMetadata",{enumerable:!0,get:function(){return Ed.getRPCMetadata}});Object.defineProperty(_0,"setRPCMetadata",{enumerable:!0,get:function(){return Ed.setRPCMetadata}});var oQ1=_2();Object.defineProperty(_0,"isTracingSuppressed",{enumerable:!0,get:function(){return oQ1.isTracingSuppressed}});Object.defineProperty(_0,"suppressTracing",{enumerable:!0,get:function(){return oQ1.suppressTracing}});Object.defineProperty(_0,"unsuppressTracing",{enumerable:!0,get:function(){return oQ1.unsuppressTracing}});var zp8=pQ1();Object.defineProperty(_0,"TraceState",{enumerable:!0,get:function(){return zp8.TraceState}});var Wp8=i56();Object.defineProperty(_0,"merge",{enumerable:!0,get:function(){return Wp8.merge}});var w96=a56();Object.defineProperty(_0,"TimeoutError",{enumerable:!0,get:function(){return w96.TimeoutError}});Object.defineProperty(_0,"callWithTimeout",{enumerable:!0,get:function(){return w96.callWithTimeout}});var A96=J96();Object.defineProperty(_0,"isUrlIgnored",{enumerable:!0,get:function(){return A96.isUrlIgnored}});Object.defineProperty(_0,"urlMatches",{enumerable:!0,get:function(){return A96.urlMatches}});var Qp8=G96();Object.defineProperty(_0,"BindOnceFuture",{enumerable:!0,get:function(){return Qp8.BindOnceFuture}});var Gp8=H96();Object.defineProperty(_0,"diagLogLevelFromString",{enumerable:!0,get:function(){return Gp8.diagLogLevelFromString}});var Kp8=D96();_0.internal={_export:Kp8._export}});var R96=B((C96)=>{Object.defineProperty(C96,"__esModule",{value:!0});C96.gcpDetector=void 0;var gw=fQ1(),P96=C(),qp8=N96(),mz=j1();class L96{detect(J){return{attributes:P96.context.with((0,qp8.suppressTracing)(P96.context.active()),()=>this._getAttributes())}}_getAttributes(){let J=gw.isAvailable(),Z={[mz.SEMRESATTRS_CLOUD_PROVIDER]:(async()=>{return await J?mz.CLOUDPROVIDERVALUES_GCP:void 0})(),[mz.SEMRESATTRS_CLOUD_ACCOUNT_ID]:this._getProjectId(J),[mz.SEMRESATTRS_HOST_ID]:this._getInstanceId(J),[mz.SEMRESATTRS_HOST_NAME]:this._getHostname(J),[mz.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE]:this._getZone(J)};if(process.env.KUBERNETES_SERVICE_HOST)Z[mz.SEMRESATTRS_K8S_CLUSTER_NAME]=this._getClusterName(J),Z[mz.SEMRESATTRS_K8S_NAMESPACE_NAME]=(async()=>{return await J?process.env.NAMESPACE:void 0})(),Z[mz.SEMRESATTRS_K8S_POD_NAME]=(async()=>{return await J?process.env.HOSTNAME:void 0})(),Z[mz.SEMRESATTRS_CONTAINER_NAME]=(async()=>{return await J?process.env.CONTAINER_NAME:void 0})();return Z}async _getProjectId(J){if(!await J)return;try{return await gw.project("project-id")}catch{return""}}async _getInstanceId(J){if(!await J)return;try{return(await gw.instance("id")).toString()}catch{return""}}async _getZone(J){if(!await J)return;try{let Z=await gw.instance("zone");if(Z)return Z.split("/").pop();return""}catch{return""}}async _getClusterName(J){if(!await J)return;try{return await gw.instance("attributes/cluster-name")}catch{return""}}async _getHostname(J){if(!await J)return;try{return await gw.instance("hostname")}catch{return""}}}C96.gcpDetector=new L96});var E96=B((sQ1)=>{Object.defineProperty(sQ1,"__esModule",{value:!0});sQ1.gcpDetector=void 0;var Bp8=R96();Object.defineProperty(sQ1,"gcpDetector",{enumerable:!0,get:function(){return Bp8.gcpDetector}})});var S96=B((Sd)=>{Object.defineProperty(Sd,"__esModule",{value:!0});Sd.resetIsAvailableCache=Sd.gcpDetector=void 0;var Fp8=E96();Object.defineProperty(Sd,"gcpDetector",{enumerable:!0,get:function(){return Fp8.gcpDetector}});var Up8=fQ1();Object.defineProperty(Sd,"resetIsAvailableCache",{enumerable:!0,get:function(){return Up8.resetIsAvailableCache}})});var x2=B((T96)=>{Object.defineProperty(T96,"__esModule",{value:!0});T96.isTracingSuppressed=T96.unsuppressTracing=T96.suppressTracing=void 0;var Dp8=C(),aQ1=(0,Dp8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Vp8(J){return J.setValue(aQ1,!0)}T96.suppressTracing=Vp8;function Ip8(J){return J.deleteValue(aQ1)}T96.unsuppressTracing=Ip8;function wp8(J){return J.getValue(aQ1)===!0}T96.isTracingSuppressed=wp8});var rQ1=B((k96)=>{Object.defineProperty(k96,"__esModule",{value:!0});k96.BAGGAGE_MAX_TOTAL_LENGTH=k96.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=k96.BAGGAGE_MAX_NAME_VALUE_PAIRS=k96.BAGGAGE_HEADER=k96.BAGGAGE_ITEMS_SEPARATOR=k96.BAGGAGE_PROPERTIES_SEPARATOR=k96.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;k96.BAGGAGE_KEY_PAIR_SEPARATOR="=";k96.BAGGAGE_PROPERTIES_SEPARATOR=";";k96.BAGGAGE_ITEMS_SEPARATOR=",";k96.BAGGAGE_HEADER="baggage";k96.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;k96.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;k96.BAGGAGE_MAX_TOTAL_LENGTH=8192});var tQ1=B((_96)=>{Object.defineProperty(_96,"__esModule",{value:!0});_96.parseKeyPairsIntoRecord=_96.parsePairKeyValue=_96.getKeyPairs=_96.serializeKeyPairs=void 0;var Ep8=C(),WO=rQ1();function Sp8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?WO.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>WO.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}_96.serializeKeyPairs=Sp8;function Tp8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=WO.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}_96.getKeyPairs=Tp8;function h96(J){let Z=J.split(WO.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(WO.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,Ep8.baggageEntryMetadataFromString)(Z.join(WO.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}_96.parsePairKeyValue=h96;function fp8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(WO.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=h96(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}_96.parseKeyPairsIntoRecord=fp8});var d96=B((x96)=>{Object.defineProperty(x96,"__esModule",{value:!0});x96.W3CBaggagePropagator=void 0;var eQ1=C(),_p8=x2(),QO=rQ1(),JG1=tQ1();class v96{inject(J,Z,X){let Y=eQ1.propagation.getBaggage(J);if(!Y||(0,_p8.isTracingSuppressed)(J))return;let $=(0,JG1.getKeyPairs)(Y).filter((W)=>{return W.length<=QO.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,QO.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,JG1.serializeKeyPairs)($);if(z.length>0)X.set(Z,QO.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,QO.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(QO.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(QO.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,JG1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return eQ1.propagation.setBaggage(J,eQ1.propagation.createBaggage(z))}fields(){return[QO.BAGGAGE_HEADER]}}x96.W3CBaggagePropagator=v96});var l96=B((m96)=>{Object.defineProperty(m96,"__esModule",{value:!0});m96.AnchoredClock=void 0;class u96{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}m96.AnchoredClock=u96});var r96=B((s96)=>{Object.defineProperty(s96,"__esModule",{value:!0});s96.isAttributeValue=s96.isAttributeKey=s96.sanitizeAttributes=void 0;var p96=C();function yp8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!n96(X)){p96.diag.warn(`Invalid attribute key: ${X}`);continue}if(!i96(Y)){p96.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}s96.sanitizeAttributes=yp8;function n96(J){return typeof J==="string"&&J.length>0}s96.isAttributeKey=n96;function i96(J){if(J==null)return!0;if(Array.isArray(J))return vp8(J);return o96(J)}s96.isAttributeValue=i96;function vp8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(o96(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function o96(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var ZG1=B((t96)=>{Object.defineProperty(t96,"__esModule",{value:!0});t96.loggingErrorHandler=void 0;var dp8=C();function up8(){return(J)=>{dp8.diag.error(mp8(J))}}t96.loggingErrorHandler=up8;function mp8(J){if(typeof J==="string")return J;else return JSON.stringify(cp8(J))}function cp8(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var Y76=B((Z76)=>{Object.defineProperty(Z76,"__esModule",{value:!0});Z76.globalErrorHandler=Z76.setGlobalErrorHandler=void 0;var lp8=ZG1(),J76=(0,lp8.loggingErrorHandler)();function pp8(J){J76=J}Z76.setGlobalErrorHandler=pp8;function np8(J){try{J76(J)}catch{}}Z76.globalErrorHandler=np8});var K76=B((Q76)=>{Object.defineProperty(Q76,"__esModule",{value:!0});Q76.getStringListFromEnv=Q76.getBooleanFromEnv=Q76.getStringFromEnv=Q76.getNumberFromEnv=void 0;var $76=C(),z76=p("util");function op8(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){$76.diag.warn(`Unknown value ${(0,z76.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}Q76.getNumberFromEnv=op8;function W76(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}Q76.getStringFromEnv=W76;function sp8(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return $76.diag.warn(`Unknown value ${(0,z76.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}Q76.getBooleanFromEnv=sp8;function ap8(J){return W76(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}Q76.getStringListFromEnv=ap8});var H76=B((q76)=>{Object.defineProperty(q76,"__esModule",{value:!0});q76._globalThis=void 0;q76._globalThis=typeof globalThis==="object"?globalThis:global});var O76=B((F76)=>{Object.defineProperty(F76,"__esModule",{value:!0});F76.otperformance=void 0;var Jn8=p("perf_hooks");F76.otperformance=Jn8.performance});var I76=B((D76)=>{Object.defineProperty(D76,"__esModule",{value:!0});D76.VERSION=void 0;D76.VERSION="2.0.1"});var M76=B((w76)=>{Object.defineProperty(w76,"__esModule",{value:!0});w76.ATTR_PROCESS_RUNTIME_NAME=void 0;w76.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var L76=B((N76)=>{Object.defineProperty(N76,"__esModule",{value:!0});N76.SDK_INFO=void 0;var Zn8=I76(),Td=j1(),Xn8=M76();N76.SDK_INFO={[Td.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[Xn8.ATTR_PROCESS_RUNTIME_NAME]:"node",[Td.ATTR_TELEMETRY_SDK_LANGUAGE]:Td.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[Td.ATTR_TELEMETRY_SDK_VERSION]:Zn8.VERSION}});var R76=B((C76)=>{Object.defineProperty(C76,"__esModule",{value:!0});C76.unrefTimer=void 0;function Yn8(J){J.unref()}C76.unrefTimer=Yn8});var E76=B((cz)=>{Object.defineProperty(cz,"__esModule",{value:!0});cz.unrefTimer=cz.SDK_INFO=cz.otperformance=cz._globalThis=cz.getStringListFromEnv=cz.getNumberFromEnv=cz.getBooleanFromEnv=cz.getStringFromEnv=void 0;var fd=K76();Object.defineProperty(cz,"getStringFromEnv",{enumerable:!0,get:function(){return fd.getStringFromEnv}});Object.defineProperty(cz,"getBooleanFromEnv",{enumerable:!0,get:function(){return fd.getBooleanFromEnv}});Object.defineProperty(cz,"getNumberFromEnv",{enumerable:!0,get:function(){return fd.getNumberFromEnv}});Object.defineProperty(cz,"getStringListFromEnv",{enumerable:!0,get:function(){return fd.getStringListFromEnv}});var $n8=H76();Object.defineProperty(cz,"_globalThis",{enumerable:!0,get:function(){return $n8._globalThis}});var zn8=O76();Object.defineProperty(cz,"otperformance",{enumerable:!0,get:function(){return zn8.otperformance}});var Wn8=L76();Object.defineProperty(cz,"SDK_INFO",{enumerable:!0,get:function(){return Wn8.SDK_INFO}});var Qn8=R76();Object.defineProperty(cz,"unrefTimer",{enumerable:!0,get:function(){return Qn8.unrefTimer}})});var XG1=B((lz)=>{Object.defineProperty(lz,"__esModule",{value:!0});lz.getStringListFromEnv=lz.getNumberFromEnv=lz.getStringFromEnv=lz.getBooleanFromEnv=lz.unrefTimer=lz.otperformance=lz._globalThis=lz.SDK_INFO=void 0;var YB=E76();Object.defineProperty(lz,"SDK_INFO",{enumerable:!0,get:function(){return YB.SDK_INFO}});Object.defineProperty(lz,"_globalThis",{enumerable:!0,get:function(){return YB._globalThis}});Object.defineProperty(lz,"otperformance",{enumerable:!0,get:function(){return YB.otperformance}});Object.defineProperty(lz,"unrefTimer",{enumerable:!0,get:function(){return YB.unrefTimer}});Object.defineProperty(lz,"getBooleanFromEnv",{enumerable:!0,get:function(){return YB.getBooleanFromEnv}});Object.defineProperty(lz,"getStringFromEnv",{enumerable:!0,get:function(){return YB.getStringFromEnv}});Object.defineProperty(lz,"getNumberFromEnv",{enumerable:!0,get:function(){return YB.getNumberFromEnv}});Object.defineProperty(lz,"getStringListFromEnv",{enumerable:!0,get:function(){return YB.getStringListFromEnv}})});var h76=B((k76)=>{Object.defineProperty(k76,"__esModule",{value:!0});k76.addHrTimes=k76.isTimeInput=k76.isTimeInputHrTime=k76.hrTimeToMicroseconds=k76.hrTimeToMilliseconds=k76.hrTimeToNanoseconds=k76.hrTimeToTimeStamp=k76.hrTimeDuration=k76.timeInputToHrTime=k76.hrTime=k76.getTimeOrigin=k76.millisToHrTime=void 0;var YG1=XG1(),S76=9,qn8=6,Bn8=Math.pow(10,qn8),kd=Math.pow(10,S76);function g2(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*Bn8);return[X,Y]}k76.millisToHrTime=g2;function $G1(){let J=YG1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=YG1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}k76.getTimeOrigin=$G1;function T76(J){let Z=g2($G1()),X=g2(typeof J==="number"?J:YG1.otperformance.now());return f76(Z,X)}k76.hrTime=T76;function Hn8(J){if(zG1(J))return J;else if(typeof J==="number")if(J<$G1())return T76(J);else return g2(J);else if(J instanceof Date)return g2(J.getTime());else throw TypeError("Invalid input type")}k76.timeInputToHrTime=Hn8;function Fn8(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=kd;return[X,Y]}k76.hrTimeDuration=Fn8;function Un8(J){let Z=S76,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}k76.hrTimeToTimeStamp=Un8;function On8(J){return J[0]*kd+J[1]}k76.hrTimeToNanoseconds=On8;function Dn8(J){return J[0]*1000+J[1]/1e6}k76.hrTimeToMilliseconds=Dn8;function Vn8(J){return J[0]*1e6+J[1]/1000}k76.hrTimeToMicroseconds=Vn8;function zG1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}k76.isTimeInputHrTime=zG1;function In8(J){return zG1(J)||typeof J==="number"||J instanceof Date}k76.isTimeInput=In8;function f76(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=kd)X[1]-=kd,X[0]+=1;return X}k76.addHrTimes=f76});var y76=B((_76)=>{Object.defineProperty(_76,"__esModule",{value:!0});_76.ExportResultCode=void 0;var Tn8;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(Tn8=_76.ExportResultCode||(_76.ExportResultCode={}))});var u76=B((g76)=>{Object.defineProperty(g76,"__esModule",{value:!0});g76.CompositePropagator=void 0;var v76=C();class x76{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){v76.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){v76.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}g76.CompositePropagator=x76});var l76=B((m76)=>{Object.defineProperty(m76,"__esModule",{value:!0});m76.validateValue=m76.validateKey=void 0;var QG1="[_0-9a-z-*/]",fn8=`[a-z]${QG1}{0,255}`,kn8=`[a-z0-9]${QG1}{0,240}@[a-z]${QG1}{0,13}`,bn8=new RegExp(`^(?:${fn8}|${kn8})$`),hn8=/^[ -~]{0,255}[!-~]$/,_n8=/,|=/;function yn8(J){return bn8.test(J)}m76.validateKey=yn8;function vn8(J){return hn8.test(J)&&!_n8.test(J)}m76.validateValue=vn8});var KG1=B((s76)=>{Object.defineProperty(s76,"__esModule",{value:!0});s76.TraceState=void 0;var p76=l76(),n76=32,gn8=512,i76=",",o76="=";class GG1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+o76+this.get(Z)),J},[]).join(i76)}_parse(J){if(J.length>gn8)return;if(this._internalState=J.split(i76).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(o76);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,p76.validateKey)(z)&&(0,p76.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>n76)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,n76))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new GG1;return J._internalState=new Map(this._internalState),J}}s76.TraceState=GG1});var ZJ6=B((e76)=>{Object.defineProperty(e76,"__esModule",{value:!0});e76.W3CTraceContextPropagator=e76.parseTraceParent=e76.TRACE_STATE_HEADER=e76.TRACE_PARENT_HEADER=void 0;var bd=C(),dn8=x2(),un8=KG1();e76.TRACE_PARENT_HEADER="traceparent";e76.TRACE_STATE_HEADER="tracestate";var mn8="00",cn8="(?!ff)[\\da-f]{2}",ln8="(?![0]{32})[\\da-f]{32}",pn8="(?![0]{16})[\\da-f]{16}",nn8="[\\da-f]{2}",in8=new RegExp(`^\\s?(${cn8})-(${ln8})-(${pn8})-(${nn8})(-.*)?\\s?$`);function r76(J){let Z=in8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}e76.parseTraceParent=r76;class t76{inject(J,Z,X){let Y=bd.trace.getSpanContext(J);if(!Y||(0,dn8.isTracingSuppressed)(J)||!(0,bd.isSpanContextValid)(Y))return;let $=`${mn8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||bd.TraceFlags.NONE).toString(16)}`;if(X.set(Z,e76.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,e76.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,e76.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=r76($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,e76.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new un8.TraceState(typeof Q==="string"?Q:void 0)}return bd.trace.setSpanContext(J,z)}fields(){return[e76.TRACE_PARENT_HEADER,e76.TRACE_STATE_HEADER]}}e76.W3CTraceContextPropagator=t76});var zJ6=B((YJ6)=>{Object.defineProperty(YJ6,"__esModule",{value:!0});YJ6.getRPCMetadata=YJ6.deleteRPCMetadata=YJ6.setRPCMetadata=YJ6.RPCType=void 0;var sn8=C(),qG1=(0,sn8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),an8;(function(J){J.HTTP="http"})(an8=YJ6.RPCType||(YJ6.RPCType={}));function rn8(J,Z){return J.setValue(qG1,Z)}YJ6.setRPCMetadata=rn8;function tn8(J){return J.deleteValue(qG1)}YJ6.deleteRPCMetadata=tn8;function en8(J){return J.getValue(qG1)}YJ6.getRPCMetadata=en8});var HJ6=B((qJ6)=>{Object.defineProperty(qJ6,"__esModule",{value:!0});qJ6.isPlainObject=void 0;var Xi8="[object Object]",Yi8="[object Null]",$i8="[object Undefined]",zi8=Function.prototype,WJ6=zi8.toString,Wi8=WJ6.call(Object),Qi8=Object.getPrototypeOf,QJ6=Object.prototype,GJ6=QJ6.hasOwnProperty,GO=Symbol?Symbol.toStringTag:void 0,KJ6=QJ6.toString;function Gi8(J){if(!Ki8(J)||qi8(J)!==Xi8)return!1;let Z=Qi8(J);if(Z===null)return!0;let X=GJ6.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&WJ6.call(X)===Wi8}qJ6.isPlainObject=Gi8;function Ki8(J){return J!=null&&typeof J=="object"}function qi8(J){if(J==null)return J===void 0?$i8:Yi8;return GO&&GO in Object(J)?Bi8(J):Hi8(J)}function Bi8(J){let Z=GJ6.call(J,GO),X=J[GO],Y=!1;try{J[GO]=void 0,Y=!0}catch(z){}let $=KJ6.call(J);if(Y)if(Z)J[GO]=X;else delete J[GO];return $}function Hi8(J){return KJ6.call(J)}});var wJ6=B((VJ6)=>{Object.defineProperty(VJ6,"__esModule",{value:!0});VJ6.merge=void 0;var FJ6=HJ6(),Fi8=20;function Ui8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=OJ6(Z,J.shift(),0,X);return Z}VJ6.merge=Ui8;function BG1(J){if(vd(J))return J.slice();return J}function OJ6(J,Z,X=0,Y){let $;if(X>Fi8)return;if(X++,yd(J)||yd(Z)||DJ6(Z))$=BG1(Z);else if(vd(J)){if($=J.slice(),vd(Z))for(let z=0,W=Z.length;z<W;z++)$.push(BG1(Z[z]));else if(d2(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=BG1(Z[G])}}}else if(d2(J))if(d2(Z)){if(!Oi8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(yd(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(UJ6(J,G,Y)||UJ6(Z,G,Y))delete $[G];else{if(d2(q)&&d2(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=OJ6($[G],K,X,Y)}}}}else $=Z;return $}function UJ6(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function vd(J){return Array.isArray(J)}function DJ6(J){return typeof J==="function"}function d2(J){return!yd(J)&&!vd(J)&&!DJ6(J)&&typeof J==="object"}function yd(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function Oi8(J,Z){if(!(0,FJ6.isPlainObject)(J)||!(0,FJ6.isPlainObject)(Z))return!1;return!0}});var NJ6=B((AJ6)=>{Object.defineProperty(AJ6,"__esModule",{value:!0});AJ6.callWithTimeout=AJ6.TimeoutError=void 0;class xd extends Error{constructor(J){super(J);Object.setPrototypeOf(this,xd.prototype)}}AJ6.TimeoutError=xd;function Di8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new xd("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}AJ6.callWithTimeout=Di8});var jJ6=B((LJ6)=>{Object.defineProperty(LJ6,"__esModule",{value:!0});LJ6.isUrlIgnored=LJ6.urlMatches=void 0;function PJ6(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}LJ6.urlMatches=PJ6;function Ii8(J,Z){if(!Z)return!1;for(let X of Z)if(PJ6(J,X))return!0;return!1}LJ6.isUrlIgnored=Ii8});var TJ6=B((EJ6)=>{Object.defineProperty(EJ6,"__esModule",{value:!0});EJ6.Deferred=void 0;class RJ6{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}EJ6.Deferred=RJ6});var hJ6=B((kJ6)=>{Object.defineProperty(kJ6,"__esModule",{value:!0});kJ6.BindOnceFuture=void 0;var Ai8=TJ6();class fJ6{_callback;_that;_isCalled=!1;_deferred=new Ai8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}kJ6.BindOnceFuture=fJ6});var xJ6=B((yJ6)=>{Object.defineProperty(yJ6,"__esModule",{value:!0});yJ6.diagLogLevelFromString=void 0;var yG=C(),_J6={ALL:yG.DiagLogLevel.ALL,VERBOSE:yG.DiagLogLevel.VERBOSE,DEBUG:yG.DiagLogLevel.DEBUG,INFO:yG.DiagLogLevel.INFO,WARN:yG.DiagLogLevel.WARN,ERROR:yG.DiagLogLevel.ERROR,NONE:yG.DiagLogLevel.NONE};function Mi8(J){if(J==null)return;let Z=_J6[J.toUpperCase()];if(Z==null)return yG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(_J6)}, using default`),yG.DiagLogLevel.INFO;return Z}yJ6.diagLogLevelFromString=Mi8});var mJ6=B((dJ6)=>{Object.defineProperty(dJ6,"__esModule",{value:!0});dJ6._export=void 0;var gJ6=C(),Ni8=x2();function Pi8(J,Z){return new Promise((X)=>{gJ6.context.with((0,Ni8.suppressTracing)(gJ6.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}dJ6._export=Pi8});var FG1=B((y0)=>{Object.defineProperty(y0,"__esModule",{value:!0});y0.internal=y0.diagLogLevelFromString=y0.BindOnceFuture=y0.urlMatches=y0.isUrlIgnored=y0.callWithTimeout=y0.TimeoutError=y0.merge=y0.TraceState=y0.unsuppressTracing=y0.suppressTracing=y0.isTracingSuppressed=y0.setRPCMetadata=y0.getRPCMetadata=y0.deleteRPCMetadata=y0.RPCType=y0.parseTraceParent=y0.W3CTraceContextPropagator=y0.TRACE_STATE_HEADER=y0.TRACE_PARENT_HEADER=y0.CompositePropagator=y0.unrefTimer=y0.otperformance=y0.getStringListFromEnv=y0.getNumberFromEnv=y0.getBooleanFromEnv=y0.getStringFromEnv=y0._globalThis=y0.SDK_INFO=y0.parseKeyPairsIntoRecord=y0.ExportResultCode=y0.timeInputToHrTime=y0.millisToHrTime=y0.isTimeInputHrTime=y0.isTimeInput=y0.hrTimeToTimeStamp=y0.hrTimeToNanoseconds=y0.hrTimeToMilliseconds=y0.hrTimeToMicroseconds=y0.hrTimeDuration=y0.hrTime=y0.getTimeOrigin=y0.addHrTimes=y0.loggingErrorHandler=y0.setGlobalErrorHandler=y0.globalErrorHandler=y0.sanitizeAttributes=y0.isAttributeValue=y0.AnchoredClock=y0.W3CBaggagePropagator=void 0;var Li8=d96();Object.defineProperty(y0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return Li8.W3CBaggagePropagator}});var Ci8=l96();Object.defineProperty(y0,"AnchoredClock",{enumerable:!0,get:function(){return Ci8.AnchoredClock}});var cJ6=r96();Object.defineProperty(y0,"isAttributeValue",{enumerable:!0,get:function(){return cJ6.isAttributeValue}});Object.defineProperty(y0,"sanitizeAttributes",{enumerable:!0,get:function(){return cJ6.sanitizeAttributes}});var lJ6=Y76();Object.defineProperty(y0,"globalErrorHandler",{enumerable:!0,get:function(){return lJ6.globalErrorHandler}});Object.defineProperty(y0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return lJ6.setGlobalErrorHandler}});var ji8=ZG1();Object.defineProperty(y0,"loggingErrorHandler",{enumerable:!0,get:function(){return ji8.loggingErrorHandler}});var GX=h76();Object.defineProperty(y0,"addHrTimes",{enumerable:!0,get:function(){return GX.addHrTimes}});Object.defineProperty(y0,"getTimeOrigin",{enumerable:!0,get:function(){return GX.getTimeOrigin}});Object.defineProperty(y0,"hrTime",{enumerable:!0,get:function(){return GX.hrTime}});Object.defineProperty(y0,"hrTimeDuration",{enumerable:!0,get:function(){return GX.hrTimeDuration}});Object.defineProperty(y0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return GX.hrTimeToMicroseconds}});Object.defineProperty(y0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return GX.hrTimeToMilliseconds}});Object.defineProperty(y0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return GX.hrTimeToNanoseconds}});Object.defineProperty(y0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return GX.hrTimeToTimeStamp}});Object.defineProperty(y0,"isTimeInput",{enumerable:!0,get:function(){return GX.isTimeInput}});Object.defineProperty(y0,"isTimeInputHrTime",{enumerable:!0,get:function(){return GX.isTimeInputHrTime}});Object.defineProperty(y0,"millisToHrTime",{enumerable:!0,get:function(){return GX.millisToHrTime}});Object.defineProperty(y0,"timeInputToHrTime",{enumerable:!0,get:function(){return GX.timeInputToHrTime}});var Ri8=y76();Object.defineProperty(y0,"ExportResultCode",{enumerable:!0,get:function(){return Ri8.ExportResultCode}});var Ei8=tQ1();Object.defineProperty(y0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return Ei8.parseKeyPairsIntoRecord}});var $B=XG1();Object.defineProperty(y0,"SDK_INFO",{enumerable:!0,get:function(){return $B.SDK_INFO}});Object.defineProperty(y0,"_globalThis",{enumerable:!0,get:function(){return $B._globalThis}});Object.defineProperty(y0,"getStringFromEnv",{enumerable:!0,get:function(){return $B.getStringFromEnv}});Object.defineProperty(y0,"getBooleanFromEnv",{enumerable:!0,get:function(){return $B.getBooleanFromEnv}});Object.defineProperty(y0,"getNumberFromEnv",{enumerable:!0,get:function(){return $B.getNumberFromEnv}});Object.defineProperty(y0,"getStringListFromEnv",{enumerable:!0,get:function(){return $B.getStringListFromEnv}});Object.defineProperty(y0,"otperformance",{enumerable:!0,get:function(){return $B.otperformance}});Object.defineProperty(y0,"unrefTimer",{enumerable:!0,get:function(){return $B.unrefTimer}});var Si8=u76();Object.defineProperty(y0,"CompositePropagator",{enumerable:!0,get:function(){return Si8.CompositePropagator}});var gd=ZJ6();Object.defineProperty(y0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return gd.TRACE_PARENT_HEADER}});Object.defineProperty(y0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return gd.TRACE_STATE_HEADER}});Object.defineProperty(y0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return gd.W3CTraceContextPropagator}});Object.defineProperty(y0,"parseTraceParent",{enumerable:!0,get:function(){return gd.parseTraceParent}});var dd=zJ6();Object.defineProperty(y0,"RPCType",{enumerable:!0,get:function(){return dd.RPCType}});Object.defineProperty(y0,"deleteRPCMetadata",{enumerable:!0,get:function(){return dd.deleteRPCMetadata}});Object.defineProperty(y0,"getRPCMetadata",{enumerable:!0,get:function(){return dd.getRPCMetadata}});Object.defineProperty(y0,"setRPCMetadata",{enumerable:!0,get:function(){return dd.setRPCMetadata}});var HG1=x2();Object.defineProperty(y0,"isTracingSuppressed",{enumerable:!0,get:function(){return HG1.isTracingSuppressed}});Object.defineProperty(y0,"suppressTracing",{enumerable:!0,get:function(){return HG1.suppressTracing}});Object.defineProperty(y0,"unsuppressTracing",{enumerable:!0,get:function(){return HG1.unsuppressTracing}});var Ti8=KG1();Object.defineProperty(y0,"TraceState",{enumerable:!0,get:function(){return Ti8.TraceState}});var fi8=wJ6();Object.defineProperty(y0,"merge",{enumerable:!0,get:function(){return fi8.merge}});var pJ6=NJ6();Object.defineProperty(y0,"TimeoutError",{enumerable:!0,get:function(){return pJ6.TimeoutError}});Object.defineProperty(y0,"callWithTimeout",{enumerable:!0,get:function(){return pJ6.callWithTimeout}});var nJ6=jJ6();Object.defineProperty(y0,"isUrlIgnored",{enumerable:!0,get:function(){return nJ6.isUrlIgnored}});Object.defineProperty(y0,"urlMatches",{enumerable:!0,get:function(){return nJ6.urlMatches}});var ki8=hJ6();Object.defineProperty(y0,"BindOnceFuture",{enumerable:!0,get:function(){return ki8.BindOnceFuture}});var bi8=xJ6();Object.defineProperty(y0,"diagLogLevelFromString",{enumerable:!0,get:function(){return bi8.diagLogLevelFromString}});var hi8=mJ6();y0.internal={_export:hi8._export}});var aJ6=B((oJ6)=>{Object.defineProperty(oJ6,"__esModule",{value:!0});oJ6.defaultServiceName=void 0;function _i8(){return`unknown_service:${process.argv0}`}oJ6.defaultServiceName=_i8});var rJ6=B((UG1)=>{Object.defineProperty(UG1,"__esModule",{value:!0});UG1.defaultServiceName=void 0;var yi8=aJ6();Object.defineProperty(UG1,"defaultServiceName",{enumerable:!0,get:function(){return yi8.defaultServiceName}})});var DG1=B((OG1)=>{Object.defineProperty(OG1,"__esModule",{value:!0});OG1.defaultServiceName=void 0;var xi8=rJ6();Object.defineProperty(OG1,"defaultServiceName",{enumerable:!0,get:function(){return xi8.defaultServiceName}})});var JZ6=B((tJ6)=>{Object.defineProperty(tJ6,"__esModule",{value:!0});tJ6.identity=tJ6.isPromiseLike=void 0;var di8=(J)=>{return J!==null&&typeof J==="object"&&typeof J.then==="function"};tJ6.isPromiseLike=di8;function ui8(J){return J}tJ6.identity=ui8});var AG1=B((XZ6)=>{Object.defineProperty(XZ6,"__esModule",{value:!0});XZ6.defaultResource=XZ6.emptyResource=XZ6.resourceFromDetectedResource=XZ6.resourceFromAttributes=void 0;var IG1=C(),VG1=FG1(),KO=j1(),ci8=DG1(),u2=JZ6();class m2{_rawAttributes;_asyncAttributesPending=!1;_memoizedAttributes;static FromAttributeList(J){let Z=new m2({});return Z._rawAttributes=ZZ6(J),Z._asyncAttributesPending=J.filter(([X,Y])=>(0,u2.isPromiseLike)(Y)).length>0,Z}constructor(J){let Z=J.attributes??{};this._rawAttributes=Object.entries(Z).map(([X,Y])=>{if((0,u2.isPromiseLike)(Y))this._asyncAttributesPending=!0;return[X,Y]}),this._rawAttributes=ZZ6(this._rawAttributes)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(!this.asyncAttributesPending)return;for(let J=0;J<this._rawAttributes.length;J++){let[Z,X]=this._rawAttributes[J];this._rawAttributes[J]=[Z,(0,u2.isPromiseLike)(X)?await X:X]}this._asyncAttributesPending=!1}get attributes(){if(this.asyncAttributesPending)IG1.diag.error("Accessing resource attributes before async attributes settled");if(this._memoizedAttributes)return this._memoizedAttributes;let J={};for(let[Z,X]of this._rawAttributes){if((0,u2.isPromiseLike)(X)){IG1.diag.debug(`Unsettled resource attribute ${Z} skipped`);continue}if(X!=null)J[Z]??=X}if(!this._asyncAttributesPending)this._memoizedAttributes=J;return J}getRawAttributes(){return this._rawAttributes}merge(J){if(J==null)return this;return m2.FromAttributeList([...J.getRawAttributes(),...this.getRawAttributes()])}}function wG1(J){return m2.FromAttributeList(Object.entries(J))}XZ6.resourceFromAttributes=wG1;function li8(J){return new m2(J)}XZ6.resourceFromDetectedResource=li8;function pi8(){return wG1({})}XZ6.emptyResource=pi8;function ni8(){return wG1({[KO.ATTR_SERVICE_NAME]:(0,ci8.defaultServiceName)(),[KO.ATTR_TELEMETRY_SDK_LANGUAGE]:VG1.SDK_INFO[KO.ATTR_TELEMETRY_SDK_LANGUAGE],[KO.ATTR_TELEMETRY_SDK_NAME]:VG1.SDK_INFO[KO.ATTR_TELEMETRY_SDK_NAME],[KO.ATTR_TELEMETRY_SDK_VERSION]:VG1.SDK_INFO[KO.ATTR_TELEMETRY_SDK_VERSION]})}XZ6.defaultResource=ni8;function ZZ6(J){return J.map(([Z,X])=>{if((0,u2.isPromiseLike)(X))return[Z,X.catch((Y)=>{IG1.diag.debug("promise rejection for resource attribute: %s - %s",Z,Y);return})];return[Z,X]})}});var QZ6=B((zZ6)=>{Object.defineProperty(zZ6,"__esModule",{value:!0});zZ6.detectResources=void 0;var $Z6=C(),MG1=AG1(),ai8=(J={})=>{return(J.detectors||[]).map((X)=>{try{let Y=(0,MG1.resourceFromDetectedResource)(X.detect(J));return $Z6.diag.debug(`${X.constructor.name} found resource.`,Y),Y}catch(Y){return $Z6.diag.debug(`${X.constructor.name} failed: ${Y.message}`),(0,MG1.emptyResource)()}}).reduce((X,Y)=>X.merge(Y),(0,MG1.emptyResource)())};zZ6.detectResources=ai8});var HZ6=B((qZ6)=>{Object.defineProperty(qZ6,"__esModule",{value:!0});qZ6.envDetector=void 0;var ri8=C(),ti8=j1(),GZ6=FG1();class KZ6{_MAX_LENGTH=255;_COMMA_SEPARATOR=",";_LABEL_KEY_VALUE_SPLITTER="=";_ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.";_ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters.";detect(J){let Z={},X=(0,GZ6.getStringFromEnv)("OTEL_RESOURCE_ATTRIBUTES"),Y=(0,GZ6.getStringFromEnv)("OTEL_SERVICE_NAME");if(X)try{let $=this._parseResourceAttributes(X);Object.assign(Z,$)}catch($){ri8.diag.debug(`EnvDetector failed: ${$.message}`)}if(Y)Z[ti8.ATTR_SERVICE_NAME]=Y;return{attributes:Z}}_parseResourceAttributes(J){if(!J)return{};let Z={},X=J.split(this._COMMA_SEPARATOR,-1);for(let Y of X){let $=Y.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if($.length!==2)continue;let[z,W]=$;if(z=z.trim(),W=W.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(z))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(W))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);Z[z]=decodeURIComponent(W)}return Z}_isValid(J){return J.length<=this._MAX_LENGTH&&this._isBaggageOctetString(J)}_isBaggageOctetString(J){for(let Z=0;Z<J.length;Z++){let X=J.charCodeAt(Z);if(X<33||X===44||X===59||X===92||X>126)return!1}return!0}_isValidAndNotEmpty(J){return J.length>0&&this._isValid(J)}}qZ6.envDetector=new KZ6});var c2=B((FZ6)=>{Object.defineProperty(FZ6,"__esModule",{value:!0});FZ6.ATTR_WEBENGINE_VERSION=FZ6.ATTR_WEBENGINE_NAME=FZ6.ATTR_WEBENGINE_DESCRIPTION=FZ6.ATTR_SERVICE_NAMESPACE=FZ6.ATTR_SERVICE_INSTANCE_ID=FZ6.ATTR_PROCESS_RUNTIME_VERSION=FZ6.ATTR_PROCESS_RUNTIME_NAME=FZ6.ATTR_PROCESS_RUNTIME_DESCRIPTION=FZ6.ATTR_PROCESS_PID=FZ6.ATTR_PROCESS_OWNER=FZ6.ATTR_PROCESS_EXECUTABLE_PATH=FZ6.ATTR_PROCESS_EXECUTABLE_NAME=FZ6.ATTR_PROCESS_COMMAND_ARGS=FZ6.ATTR_PROCESS_COMMAND=FZ6.ATTR_OS_VERSION=FZ6.ATTR_OS_TYPE=FZ6.ATTR_K8S_POD_NAME=FZ6.ATTR_K8S_NAMESPACE_NAME=FZ6.ATTR_K8S_DEPLOYMENT_NAME=FZ6.ATTR_K8S_CLUSTER_NAME=FZ6.ATTR_HOST_TYPE=FZ6.ATTR_HOST_NAME=FZ6.ATTR_HOST_IMAGE_VERSION=FZ6.ATTR_HOST_IMAGE_NAME=FZ6.ATTR_HOST_IMAGE_ID=FZ6.ATTR_HOST_ID=FZ6.ATTR_HOST_ARCH=FZ6.ATTR_CONTAINER_NAME=FZ6.ATTR_CONTAINER_IMAGE_TAGS=FZ6.ATTR_CONTAINER_IMAGE_NAME=FZ6.ATTR_CONTAINER_ID=FZ6.ATTR_CLOUD_REGION=FZ6.ATTR_CLOUD_PROVIDER=FZ6.ATTR_CLOUD_AVAILABILITY_ZONE=FZ6.ATTR_CLOUD_ACCOUNT_ID=void 0;FZ6.ATTR_CLOUD_ACCOUNT_ID="cloud.account.id";FZ6.ATTR_CLOUD_AVAILABILITY_ZONE="cloud.availability_zone";FZ6.ATTR_CLOUD_PROVIDER="cloud.provider";FZ6.ATTR_CLOUD_REGION="cloud.region";FZ6.ATTR_CONTAINER_ID="container.id";FZ6.ATTR_CONTAINER_IMAGE_NAME="container.image.name";FZ6.ATTR_CONTAINER_IMAGE_TAGS="container.image.tags";FZ6.ATTR_CONTAINER_NAME="container.name";FZ6.ATTR_HOST_ARCH="host.arch";FZ6.ATTR_HOST_ID="host.id";FZ6.ATTR_HOST_IMAGE_ID="host.image.id";FZ6.ATTR_HOST_IMAGE_NAME="host.image.name";FZ6.ATTR_HOST_IMAGE_VERSION="host.image.version";FZ6.ATTR_HOST_NAME="host.name";FZ6.ATTR_HOST_TYPE="host.type";FZ6.ATTR_K8S_CLUSTER_NAME="k8s.cluster.name";FZ6.ATTR_K8S_DEPLOYMENT_NAME="k8s.deployment.name";FZ6.ATTR_K8S_NAMESPACE_NAME="k8s.namespace.name";FZ6.ATTR_K8S_POD_NAME="k8s.pod.name";FZ6.ATTR_OS_TYPE="os.type";FZ6.ATTR_OS_VERSION="os.version";FZ6.ATTR_PROCESS_COMMAND="process.command";FZ6.ATTR_PROCESS_COMMAND_ARGS="process.command_args";FZ6.ATTR_PROCESS_EXECUTABLE_NAME="process.executable.name";FZ6.ATTR_PROCESS_EXECUTABLE_PATH="process.executable.path";FZ6.ATTR_PROCESS_OWNER="process.owner";FZ6.ATTR_PROCESS_PID="process.pid";FZ6.ATTR_PROCESS_RUNTIME_DESCRIPTION="process.runtime.description";FZ6.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name";FZ6.ATTR_PROCESS_RUNTIME_VERSION="process.runtime.version";FZ6.ATTR_SERVICE_INSTANCE_ID="service.instance.id";FZ6.ATTR_SERVICE_NAMESPACE="service.namespace";FZ6.ATTR_WEBENGINE_DESCRIPTION="webengine.description";FZ6.ATTR_WEBENGINE_NAME="webengine.name";FZ6.ATTR_WEBENGINE_VERSION="webengine.version"});var VZ6=B((OZ6)=>{Object.defineProperty(OZ6,"__esModule",{value:!0});OZ6.getMachineId=void 0;var bo8=p("process"),qO;async function ho8(){if(!qO)switch(bo8.platform){case"darwin":qO=(await import("./getMachineId-darwin-e4f071an.js")).getMachineId;break;case"linux":qO=(await import("./getMachineId-linux-q7wen1ne.js")).getMachineId;break;case"freebsd":qO=(await import("./getMachineId-bsd-6bknddz3.js")).getMachineId;break;case"win32":qO=(await import("./getMachineId-win-td8v12t4.js")).getMachineId;break;default:qO=(await import("./getMachineId-unsupported-hx6f9nmr.js")).getMachineId;break}return qO()}OZ6.getMachineId=ho8});var NG1=B((IZ6)=>{Object.defineProperty(IZ6,"__esModule",{value:!0});IZ6.normalizeType=IZ6.normalizeArch=void 0;var _o8=(J)=>{switch(J){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return J}};IZ6.normalizeArch=_o8;var yo8=(J)=>{switch(J){case"sunos":return"solaris";case"win32":return"windows";default:return J}};IZ6.normalizeType=yo8});var LZ6=B((NZ6)=>{Object.defineProperty(NZ6,"__esModule",{value:!0});NZ6.hostDetector=void 0;var PG1=c2(),AZ6=p("os"),xo8=VZ6(),go8=NG1();class MZ6{detect(J){return{attributes:{[PG1.ATTR_HOST_NAME]:(0,AZ6.hostname)(),[PG1.ATTR_HOST_ARCH]:(0,go8.normalizeArch)((0,AZ6.arch)()),[PG1.ATTR_HOST_ID]:(0,xo8.getMachineId)()}}}}NZ6.hostDetector=new MZ6});var TZ6=B((EZ6)=>{Object.defineProperty(EZ6,"__esModule",{value:!0});EZ6.osDetector=void 0;var CZ6=c2(),jZ6=p("os"),do8=NG1();class RZ6{detect(J){return{attributes:{[CZ6.ATTR_OS_TYPE]:(0,do8.normalizeType)((0,jZ6.platform)()),[CZ6.ATTR_OS_VERSION]:(0,jZ6.release)()}}}}EZ6.osDetector=new RZ6});var hZ6=B((kZ6)=>{Object.defineProperty(kZ6,"__esModule",{value:!0});kZ6.processDetector=void 0;var uo8=C(),vG=c2(),mo8=p("os");class fZ6{detect(J){let Z={[vG.ATTR_PROCESS_PID]:process.pid,[vG.ATTR_PROCESS_EXECUTABLE_NAME]:process.title,[vG.ATTR_PROCESS_EXECUTABLE_PATH]:process.execPath,[vG.ATTR_PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[vG.ATTR_PROCESS_RUNTIME_VERSION]:process.versions.node,[vG.ATTR_PROCESS_RUNTIME_NAME]:"nodejs",[vG.ATTR_PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};if(process.argv.length>1)Z[vG.ATTR_PROCESS_COMMAND]=process.argv[1];try{let X=mo8.userInfo();Z[vG.ATTR_PROCESS_OWNER]=X.username}catch(X){uo8.diag.debug(`error obtaining process owner: ${X}`)}return{attributes:Z}}}kZ6.processDetector=new fZ6});var xZ6=B((yZ6)=>{Object.defineProperty(yZ6,"__esModule",{value:!0});yZ6.serviceInstanceIdDetector=void 0;var co8=c2(),lo8=p("crypto");class _Z6{detect(J){return{attributes:{[co8.ATTR_SERVICE_INSTANCE_ID]:(0,lo8.randomUUID)()}}}}yZ6.serviceInstanceIdDetector=new _Z6});var gZ6=B((dw)=>{Object.defineProperty(dw,"__esModule",{value:!0});dw.serviceInstanceIdDetector=dw.processDetector=dw.osDetector=dw.hostDetector=void 0;var po8=LZ6();Object.defineProperty(dw,"hostDetector",{enumerable:!0,get:function(){return po8.hostDetector}});var no8=TZ6();Object.defineProperty(dw,"osDetector",{enumerable:!0,get:function(){return no8.osDetector}});var io8=hZ6();Object.defineProperty(dw,"processDetector",{enumerable:!0,get:function(){return io8.processDetector}});var oo8=xZ6();Object.defineProperty(dw,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return oo8.serviceInstanceIdDetector}})});var dZ6=B((uw)=>{Object.defineProperty(uw,"__esModule",{value:!0});uw.serviceInstanceIdDetector=uw.processDetector=uw.osDetector=uw.hostDetector=void 0;var ud=gZ6();Object.defineProperty(uw,"hostDetector",{enumerable:!0,get:function(){return ud.hostDetector}});Object.defineProperty(uw,"osDetector",{enumerable:!0,get:function(){return ud.osDetector}});Object.defineProperty(uw,"processDetector",{enumerable:!0,get:function(){return ud.processDetector}});Object.defineProperty(uw,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return ud.serviceInstanceIdDetector}})});var cZ6=B((uZ6)=>{Object.defineProperty(uZ6,"__esModule",{value:!0});uZ6.noopDetector=uZ6.NoopDetector=void 0;class LG1{detect(){return{attributes:{}}}}uZ6.NoopDetector=LG1;uZ6.noopDetector=new LG1});var lZ6=B((zB)=>{Object.defineProperty(zB,"__esModule",{value:!0});zB.noopDetector=zB.serviceInstanceIdDetector=zB.processDetector=zB.osDetector=zB.hostDetector=zB.envDetector=void 0;var to8=HZ6();Object.defineProperty(zB,"envDetector",{enumerable:!0,get:function(){return to8.envDetector}});var md=dZ6();Object.defineProperty(zB,"hostDetector",{enumerable:!0,get:function(){return md.hostDetector}});Object.defineProperty(zB,"osDetector",{enumerable:!0,get:function(){return md.osDetector}});Object.defineProperty(zB,"processDetector",{enumerable:!0,get:function(){return md.processDetector}});Object.defineProperty(zB,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return md.serviceInstanceIdDetector}});var eo8=cZ6();Object.defineProperty(zB,"noopDetector",{enumerable:!0,get:function(){return eo8.noopDetector}})});var WB=B((KX)=>{Object.defineProperty(KX,"__esModule",{value:!0});KX.defaultServiceName=KX.emptyResource=KX.defaultResource=KX.resourceFromAttributes=KX.serviceInstanceIdDetector=KX.processDetector=KX.osDetector=KX.hostDetector=KX.envDetector=KX.detectResources=void 0;var Zs8=QZ6();Object.defineProperty(KX,"detectResources",{enumerable:!0,get:function(){return Zs8.detectResources}});var l2=lZ6();Object.defineProperty(KX,"envDetector",{enumerable:!0,get:function(){return l2.envDetector}});Object.defineProperty(KX,"hostDetector",{enumerable:!0,get:function(){return l2.hostDetector}});Object.defineProperty(KX,"osDetector",{enumerable:!0,get:function(){return l2.osDetector}});Object.defineProperty(KX,"processDetector",{enumerable:!0,get:function(){return l2.processDetector}});Object.defineProperty(KX,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return l2.serviceInstanceIdDetector}});var CG1=AG1();Object.defineProperty(KX,"resourceFromAttributes",{enumerable:!0,get:function(){return CG1.resourceFromAttributes}});Object.defineProperty(KX,"defaultResource",{enumerable:!0,get:function(){return CG1.defaultResource}});Object.defineProperty(KX,"emptyResource",{enumerable:!0,get:function(){return CG1.emptyResource}});var Xs8=DG1();Object.defineProperty(KX,"defaultServiceName",{enumerable:!0,get:function(){return Xs8.defaultServiceName}})});var p2=B((pZ6)=>{Object.defineProperty(pZ6,"__esModule",{value:!0});pZ6.AZURE_VM_SKU_ATTRIBUTE=pZ6.AZURE_VM_SCALE_SET_NAME_ATTRIBUTE=pZ6.AZURE_VM_METADATA_PATH=pZ6.AZURE_VM_METADATA_HOST=pZ6.FUNCTIONS_MEM_LIMIT=pZ6.FUNCTIONS_VERSION=pZ6.WEBSITE_SKU=pZ6.WEBSITE_SLOT_NAME=pZ6.WEBSITE_SITE_NAME=pZ6.WEBSITE_RESOURCE_GROUP=pZ6.WEBSITE_OWNER_NAME=pZ6.WEBSITE_INSTANCE_ID=pZ6.WEBSITE_HOSTNAME=pZ6.WEBSITE_HOME_STAMPNAME=pZ6.REGION_NAME=pZ6.CLOUD_RESOURCE_ID_RESOURCE_ATTRIBUTE=pZ6.AZURE_APP_SERVICE_STAMP_RESOURCE_ATTRIBUTE=void 0;pZ6.AZURE_APP_SERVICE_STAMP_RESOURCE_ATTRIBUTE="azure.app.service.stamp";pZ6.CLOUD_RESOURCE_ID_RESOURCE_ATTRIBUTE="cloud.resource_id";pZ6.REGION_NAME="REGION_NAME";pZ6.WEBSITE_HOME_STAMPNAME="WEBSITE_HOME_STAMPNAME";pZ6.WEBSITE_HOSTNAME="WEBSITE_HOSTNAME";pZ6.WEBSITE_INSTANCE_ID="WEBSITE_INSTANCE_ID";pZ6.WEBSITE_OWNER_NAME="WEBSITE_OWNER_NAME";pZ6.WEBSITE_RESOURCE_GROUP="WEBSITE_RESOURCE_GROUP";pZ6.WEBSITE_SITE_NAME="WEBSITE_SITE_NAME";pZ6.WEBSITE_SLOT_NAME="WEBSITE_SLOT_NAME";pZ6.WEBSITE_SKU="WEBSITE_SKU";pZ6.FUNCTIONS_VERSION="FUNCTIONS_EXTENSION_VERSION";pZ6.FUNCTIONS_MEM_LIMIT="WEBSITE_MEMORY_LIMIT_MB";pZ6.AZURE_VM_METADATA_HOST="169.254.169.254";pZ6.AZURE_VM_METADATA_PATH="/metadata/instance/compute?api-version=2021-12-13&format=json";pZ6.AZURE_VM_SCALE_SET_NAME_ATTRIBUTE="azure.vm.scaleset.name";pZ6.AZURE_VM_SKU_ATTRIBUTE="azure.vm.sku"});var jG1=B((iZ6)=>{Object.defineProperty(iZ6,"__esModule",{value:!0});iZ6.isAzureFunction=iZ6.getAzureResourceUri=void 0;var cd=p2();function As8(J){let Z=process.env[cd.WEBSITE_RESOURCE_GROUP],X=process.env[cd.WEBSITE_OWNER_NAME],Y=X;if(X&&X.indexOf("+")!==-1)Y=X.split("+")[0];if(!Y&&!X)return;return`/subscriptions/${Y}/resourceGroups/${Z}/providers/Microsoft.Web/sites/${J}`}iZ6.getAzureResourceUri=As8;function Ms8(){return!!(process.env[cd.FUNCTIONS_VERSION]||process.env[cd.WEBSITE_SKU]==="FlexConsumption")}iZ6.isAzureFunction=Ms8});var eZ6=B((rZ6)=>{Object.defineProperty(rZ6,"__esModule",{value:!0});rZ6.azureAppServiceDetector=void 0;var QB=p2(),xG=j1(),sZ6=jG1(),Ps8={[xG.SEMRESATTRS_CLOUD_REGION]:QB.REGION_NAME,[xG.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT]:QB.WEBSITE_SLOT_NAME,[xG.SEMRESATTRS_HOST_ID]:QB.WEBSITE_HOSTNAME,[xG.SEMRESATTRS_SERVICE_INSTANCE_ID]:QB.WEBSITE_INSTANCE_ID,[QB.AZURE_APP_SERVICE_STAMP_RESOURCE_ATTRIBUTE]:QB.WEBSITE_HOME_STAMPNAME};class aZ6{detect(){let J={},Z=process.env[QB.WEBSITE_SITE_NAME];if(Z&&!(0,sZ6.isAzureFunction)()){J={...J,[xG.SEMRESATTRS_SERVICE_NAME]:Z},J={...J,[xG.SEMRESATTRS_CLOUD_PROVIDER]:xG.CLOUDPROVIDERVALUES_AZURE},J={...J,[xG.SEMRESATTRS_CLOUD_PLATFORM]:xG.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE};let X=(0,sZ6.getAzureResourceUri)(Z);if(X)J={...J,...{[QB.CLOUD_RESOURCE_ID_RESOURCE_ATTRIBUTE]:X}};for(let[Y,$]of Object.entries(Ps8)){let z=process.env[$];if(z)J={...J,...{[Y]:z}}}}return{attributes:J}}}rZ6.azureAppServiceDetector=new aZ6});var $X6=B((XX6)=>{Object.defineProperty(XX6,"__esModule",{value:!0});XX6.azureFunctionsDetector=void 0;var qX=j1(),GB=p2(),JX6=jG1(),Ls8={[qX.SEMRESATTRS_SERVICE_NAME]:GB.WEBSITE_SITE_NAME,[qX.SEMRESATTRS_FAAS_INSTANCE]:GB.WEBSITE_INSTANCE_ID,[qX.SEMRESATTRS_FAAS_MAX_MEMORY]:GB.FUNCTIONS_MEM_LIMIT};class ZX6{detect(){let J={},Z=process.env[GB.WEBSITE_SITE_NAME];if(Z&&(0,JX6.isAzureFunction)()){let X=process.env[GB.WEBSITE_INSTANCE_ID],Y=process.env[GB.FUNCTIONS_MEM_LIMIT];if(J={[qX.SEMRESATTRS_CLOUD_PROVIDER]:qX.CLOUDPROVIDERVALUES_AZURE,[qX.SEMRESATTRS_CLOUD_PLATFORM]:qX.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS,[qX.SEMRESATTRS_CLOUD_REGION]:process.env[GB.REGION_NAME],[qX.SEMRESATTRS_PROCESS_PID]:process.pid},Z)J={...J,[qX.SEMRESATTRS_SERVICE_NAME]:Z};if(X)J={...J,[qX.SEMRESATTRS_FAAS_INSTANCE]:X};if(Y)J={...J,[qX.SEMRESATTRS_FAAS_MAX_MEMORY]:Y};let $=(0,JX6.getAzureResourceUri)(Z);if($)J={...J,...{[GB.CLOUD_RESOURCE_ID_RESOURCE_ATTRIBUTE]:$}};for(let[z,W]of Object.entries(Ls8)){let Q=process.env[W];if(Q)J={...J,...{[z]:Q}}}}return{attributes:J}}}XX6.azureFunctionsDetector=new ZX6});var n2=B((zX6)=>{Object.defineProperty(zX6,"__esModule",{value:!0});zX6.isTracingSuppressed=zX6.unsuppressTracing=zX6.suppressTracing=void 0;var Cs8=C(),RG1=(0,Cs8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function js8(J){return J.setValue(RG1,!0)}zX6.suppressTracing=js8;function Rs8(J){return J.deleteValue(RG1)}zX6.unsuppressTracing=Rs8;function Es8(J){return J.getValue(RG1)===!0}zX6.isTracingSuppressed=Es8});var EG1=B((QX6)=>{Object.defineProperty(QX6,"__esModule",{value:!0});QX6.BAGGAGE_MAX_TOTAL_LENGTH=QX6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=QX6.BAGGAGE_MAX_NAME_VALUE_PAIRS=QX6.BAGGAGE_HEADER=QX6.BAGGAGE_ITEMS_SEPARATOR=QX6.BAGGAGE_PROPERTIES_SEPARATOR=QX6.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;QX6.BAGGAGE_KEY_PAIR_SEPARATOR="=";QX6.BAGGAGE_PROPERTIES_SEPARATOR=";";QX6.BAGGAGE_ITEMS_SEPARATOR=",";QX6.BAGGAGE_HEADER="baggage";QX6.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;QX6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;QX6.BAGGAGE_MAX_TOTAL_LENGTH=8192});var SG1=B((qX6)=>{Object.defineProperty(qX6,"__esModule",{value:!0});qX6.parseKeyPairsIntoRecord=qX6.parsePairKeyValue=qX6.getKeyPairs=qX6.serializeKeyPairs=void 0;var vs8=C(),BO=EG1();function xs8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?BO.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>BO.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}qX6.serializeKeyPairs=xs8;function gs8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=BO.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}qX6.getKeyPairs=gs8;function KX6(J){let Z=J.split(BO.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(BO.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,vs8.baggageEntryMetadataFromString)(Z.join(BO.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}qX6.parsePairKeyValue=KX6;function ds8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(BO.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=KX6(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}qX6.parseKeyPairsIntoRecord=ds8});var OX6=B((FX6)=>{Object.defineProperty(FX6,"__esModule",{value:!0});FX6.W3CBaggagePropagator=void 0;var TG1=C(),ls8=n2(),HO=EG1(),fG1=SG1();class HX6{inject(J,Z,X){let Y=TG1.propagation.getBaggage(J);if(!Y||(0,ls8.isTracingSuppressed)(J))return;let $=(0,fG1.getKeyPairs)(Y).filter((W)=>{return W.length<=HO.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,HO.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,fG1.serializeKeyPairs)($);if(z.length>0)X.set(Z,HO.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,HO.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(HO.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(HO.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,fG1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return TG1.propagation.setBaggage(J,TG1.propagation.createBaggage(z))}fields(){return[HO.BAGGAGE_HEADER]}}FX6.W3CBaggagePropagator=HX6});var wX6=B((VX6)=>{Object.defineProperty(VX6,"__esModule",{value:!0});VX6.AnchoredClock=void 0;class DX6{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}VX6.AnchoredClock=DX6});var jX6=B((LX6)=>{Object.defineProperty(LX6,"__esModule",{value:!0});LX6.isAttributeValue=LX6.isAttributeKey=LX6.sanitizeAttributes=void 0;var AX6=C();function ps8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!MX6(X)){AX6.diag.warn(`Invalid attribute key: ${X}`);continue}if(!NX6(Y)){AX6.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}LX6.sanitizeAttributes=ps8;function MX6(J){return typeof J==="string"&&J.length>0}LX6.isAttributeKey=MX6;function NX6(J){if(J==null)return!0;if(Array.isArray(J))return ns8(J);return PX6(J)}LX6.isAttributeValue=NX6;function ns8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(PX6(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function PX6(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var kG1=B((RX6)=>{Object.defineProperty(RX6,"__esModule",{value:!0});RX6.loggingErrorHandler=void 0;var ss8=C();function as8(){return(J)=>{ss8.diag.error(rs8(J))}}RX6.loggingErrorHandler=as8;function rs8(J){if(typeof J==="string")return J;else return JSON.stringify(ts8(J))}function ts8(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var kX6=B((TX6)=>{Object.defineProperty(TX6,"__esModule",{value:!0});TX6.globalErrorHandler=TX6.setGlobalErrorHandler=void 0;var es8=kG1(),SX6=(0,es8.loggingErrorHandler)();function Ja8(J){SX6=J}TX6.setGlobalErrorHandler=Ja8;function Za8(J){try{SX6(J)}catch{}}TX6.globalErrorHandler=Za8});var xX6=B((yX6)=>{Object.defineProperty(yX6,"__esModule",{value:!0});yX6.getStringListFromEnv=yX6.getBooleanFromEnv=yX6.getStringFromEnv=yX6.getNumberFromEnv=void 0;var bX6=C(),hX6=p("util");function Ya8(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){bX6.diag.warn(`Unknown value ${(0,hX6.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}yX6.getNumberFromEnv=Ya8;function _X6(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}yX6.getStringFromEnv=_X6;function $a8(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return bX6.diag.warn(`Unknown value ${(0,hX6.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}yX6.getBooleanFromEnv=$a8;function za8(J){return _X6(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}yX6.getStringListFromEnv=za8});var uX6=B((gX6)=>{Object.defineProperty(gX6,"__esModule",{value:!0});gX6._globalThis=void 0;gX6._globalThis=typeof globalThis==="object"?globalThis:global});var lX6=B((mX6)=>{Object.defineProperty(mX6,"__esModule",{value:!0});mX6.otperformance=void 0;var Ka8=p("perf_hooks");mX6.otperformance=Ka8.performance});var iX6=B((pX6)=>{Object.defineProperty(pX6,"__esModule",{value:!0});pX6.VERSION=void 0;pX6.VERSION="2.0.1"});var aX6=B((oX6)=>{Object.defineProperty(oX6,"__esModule",{value:!0});oX6.ATTR_PROCESS_RUNTIME_NAME=void 0;oX6.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var eX6=B((rX6)=>{Object.defineProperty(rX6,"__esModule",{value:!0});rX6.SDK_INFO=void 0;var qa8=iX6(),ld=j1(),Ba8=aX6();rX6.SDK_INFO={[ld.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[Ba8.ATTR_PROCESS_RUNTIME_NAME]:"node",[ld.ATTR_TELEMETRY_SDK_LANGUAGE]:ld.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[ld.ATTR_TELEMETRY_SDK_VERSION]:qa8.VERSION}});var XY6=B((JY6)=>{Object.defineProperty(JY6,"__esModule",{value:!0});JY6.unrefTimer=void 0;function Ha8(J){J.unref()}JY6.unrefTimer=Ha8});var YY6=B((pz)=>{Object.defineProperty(pz,"__esModule",{value:!0});pz.unrefTimer=pz.SDK_INFO=pz.otperformance=pz._globalThis=pz.getStringListFromEnv=pz.getNumberFromEnv=pz.getBooleanFromEnv=pz.getStringFromEnv=void 0;var pd=xX6();Object.defineProperty(pz,"getStringFromEnv",{enumerable:!0,get:function(){return pd.getStringFromEnv}});Object.defineProperty(pz,"getBooleanFromEnv",{enumerable:!0,get:function(){return pd.getBooleanFromEnv}});Object.defineProperty(pz,"getNumberFromEnv",{enumerable:!0,get:function(){return pd.getNumberFromEnv}});Object.defineProperty(pz,"getStringListFromEnv",{enumerable:!0,get:function(){return pd.getStringListFromEnv}});var Fa8=uX6();Object.defineProperty(pz,"_globalThis",{enumerable:!0,get:function(){return Fa8._globalThis}});var Ua8=lX6();Object.defineProperty(pz,"otperformance",{enumerable:!0,get:function(){return Ua8.otperformance}});var Oa8=eX6();Object.defineProperty(pz,"SDK_INFO",{enumerable:!0,get:function(){return Oa8.SDK_INFO}});var Da8=XY6();Object.defineProperty(pz,"unrefTimer",{enumerable:!0,get:function(){return Da8.unrefTimer}})});var bG1=B((nz)=>{Object.defineProperty(nz,"__esModule",{value:!0});nz.getStringListFromEnv=nz.getNumberFromEnv=nz.getStringFromEnv=nz.getBooleanFromEnv=nz.unrefTimer=nz.otperformance=nz._globalThis=nz.SDK_INFO=void 0;var KB=YY6();Object.defineProperty(nz,"SDK_INFO",{enumerable:!0,get:function(){return KB.SDK_INFO}});Object.defineProperty(nz,"_globalThis",{enumerable:!0,get:function(){return KB._globalThis}});Object.defineProperty(nz,"otperformance",{enumerable:!0,get:function(){return KB.otperformance}});Object.defineProperty(nz,"unrefTimer",{enumerable:!0,get:function(){return KB.unrefTimer}});Object.defineProperty(nz,"getBooleanFromEnv",{enumerable:!0,get:function(){return KB.getBooleanFromEnv}});Object.defineProperty(nz,"getStringFromEnv",{enumerable:!0,get:function(){return KB.getStringFromEnv}});Object.defineProperty(nz,"getNumberFromEnv",{enumerable:!0,get:function(){return KB.getNumberFromEnv}});Object.defineProperty(nz,"getStringListFromEnv",{enumerable:!0,get:function(){return KB.getStringListFromEnv}})});var KY6=B((QY6)=>{Object.defineProperty(QY6,"__esModule",{value:!0});QY6.addHrTimes=QY6.isTimeInput=QY6.isTimeInputHrTime=QY6.hrTimeToMicroseconds=QY6.hrTimeToMilliseconds=QY6.hrTimeToNanoseconds=QY6.hrTimeToTimeStamp=QY6.hrTimeDuration=QY6.timeInputToHrTime=QY6.hrTime=QY6.getTimeOrigin=QY6.millisToHrTime=void 0;var hG1=bG1(),$Y6=9,wa8=6,Aa8=Math.pow(10,wa8),nd=Math.pow(10,$Y6);function i2(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*Aa8);return[X,Y]}QY6.millisToHrTime=i2;function _G1(){let J=hG1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=hG1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}QY6.getTimeOrigin=_G1;function zY6(J){let Z=i2(_G1()),X=i2(typeof J==="number"?J:hG1.otperformance.now());return WY6(Z,X)}QY6.hrTime=zY6;function Ma8(J){if(yG1(J))return J;else if(typeof J==="number")if(J<_G1())return zY6(J);else return i2(J);else if(J instanceof Date)return i2(J.getTime());else throw TypeError("Invalid input type")}QY6.timeInputToHrTime=Ma8;function Na8(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=nd;return[X,Y]}QY6.hrTimeDuration=Na8;function Pa8(J){let Z=$Y6,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}QY6.hrTimeToTimeStamp=Pa8;function La8(J){return J[0]*nd+J[1]}QY6.hrTimeToNanoseconds=La8;function Ca8(J){return J[0]*1000+J[1]/1e6}QY6.hrTimeToMilliseconds=Ca8;function ja8(J){return J[0]*1e6+J[1]/1000}QY6.hrTimeToMicroseconds=ja8;function yG1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}QY6.isTimeInputHrTime=yG1;function Ra8(J){return yG1(J)||typeof J==="number"||J instanceof Date}QY6.isTimeInput=Ra8;function WY6(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=nd)X[1]-=nd,X[0]+=1;return X}QY6.addHrTimes=WY6});var BY6=B((qY6)=>{Object.defineProperty(qY6,"__esModule",{value:!0});qY6.ExportResultCode=void 0;var ga8;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(ga8=qY6.ExportResultCode||(qY6.ExportResultCode={}))});var DY6=B((UY6)=>{Object.defineProperty(UY6,"__esModule",{value:!0});UY6.CompositePropagator=void 0;var HY6=C();class FY6{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){HY6.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){HY6.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}UY6.CompositePropagator=FY6});var wY6=B((VY6)=>{Object.defineProperty(VY6,"__esModule",{value:!0});VY6.validateValue=VY6.validateKey=void 0;var xG1="[_0-9a-z-*/]",da8=`[a-z]${xG1}{0,255}`,ua8=`[a-z0-9]${xG1}{0,240}@[a-z]${xG1}{0,13}`,ma8=new RegExp(`^(?:${da8}|${ua8})$`),ca8=/^[ -~]{0,255}[!-~]$/,la8=/,|=/;function pa8(J){return ma8.test(J)}VY6.validateKey=pa8;function na8(J){return ca8.test(J)&&!la8.test(J)}VY6.validateValue=na8});var dG1=B((LY6)=>{Object.defineProperty(LY6,"__esModule",{value:!0});LY6.TraceState=void 0;var AY6=wY6(),MY6=32,oa8=512,NY6=",",PY6="=";class gG1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+PY6+this.get(Z)),J},[]).join(NY6)}_parse(J){if(J.length>oa8)return;if(this._internalState=J.split(NY6).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(PY6);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,AY6.validateKey)(z)&&(0,AY6.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>MY6)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,MY6))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new gG1;return J._internalState=new Map(this._internalState),J}}LY6.TraceState=gG1});var TY6=B((EY6)=>{Object.defineProperty(EY6,"__esModule",{value:!0});EY6.W3CTraceContextPropagator=EY6.parseTraceParent=EY6.TRACE_STATE_HEADER=EY6.TRACE_PARENT_HEADER=void 0;var id=C(),sa8=n2(),aa8=dG1();EY6.TRACE_PARENT_HEADER="traceparent";EY6.TRACE_STATE_HEADER="tracestate";var ra8="00",ta8="(?!ff)[\\da-f]{2}",ea8="(?![0]{32})[\\da-f]{32}",Jr8="(?![0]{16})[\\da-f]{16}",Zr8="[\\da-f]{2}",Xr8=new RegExp(`^\\s?(${ta8})-(${ea8})-(${Jr8})-(${Zr8})(-.*)?\\s?$`);function jY6(J){let Z=Xr8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}EY6.parseTraceParent=jY6;class RY6{inject(J,Z,X){let Y=id.trace.getSpanContext(J);if(!Y||(0,sa8.isTracingSuppressed)(J)||!(0,id.isSpanContextValid)(Y))return;let $=`${ra8}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||id.TraceFlags.NONE).toString(16)}`;if(X.set(Z,EY6.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,EY6.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,EY6.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=jY6($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,EY6.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new aa8.TraceState(typeof Q==="string"?Q:void 0)}return id.trace.setSpanContext(J,z)}fields(){return[EY6.TRACE_PARENT_HEADER,EY6.TRACE_STATE_HEADER]}}EY6.W3CTraceContextPropagator=RY6});var hY6=B((kY6)=>{Object.defineProperty(kY6,"__esModule",{value:!0});kY6.getRPCMetadata=kY6.deleteRPCMetadata=kY6.setRPCMetadata=kY6.RPCType=void 0;var $r8=C(),uG1=(0,$r8.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),zr8;(function(J){J.HTTP="http"})(zr8=kY6.RPCType||(kY6.RPCType={}));function Wr8(J,Z){return J.setValue(uG1,Z)}kY6.setRPCMetadata=Wr8;function Qr8(J){return J.deleteValue(uG1)}kY6.deleteRPCMetadata=Qr8;function Gr8(J){return J.getValue(uG1)}kY6.getRPCMetadata=Gr8});var uY6=B((gY6)=>{Object.defineProperty(gY6,"__esModule",{value:!0});gY6.isPlainObject=void 0;var Br8="[object Object]",Hr8="[object Null]",Fr8="[object Undefined]",Ur8=Function.prototype,_Y6=Ur8.toString,Or8=_Y6.call(Object),Dr8=Object.getPrototypeOf,yY6=Object.prototype,vY6=yY6.hasOwnProperty,FO=Symbol?Symbol.toStringTag:void 0,xY6=yY6.toString;function Vr8(J){if(!Ir8(J)||wr8(J)!==Br8)return!1;let Z=Dr8(J);if(Z===null)return!0;let X=vY6.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&_Y6.call(X)===Or8}gY6.isPlainObject=Vr8;function Ir8(J){return J!=null&&typeof J=="object"}function wr8(J){if(J==null)return J===void 0?Fr8:Hr8;return FO&&FO in Object(J)?Ar8(J):Mr8(J)}function Ar8(J){let Z=vY6.call(J,FO),X=J[FO],Y=!1;try{J[FO]=void 0,Y=!0}catch(z){}let $=xY6.call(J);if(Y)if(Z)J[FO]=X;else delete J[FO];return $}function Mr8(J){return xY6.call(J)}});var oY6=B((nY6)=>{Object.defineProperty(nY6,"__esModule",{value:!0});nY6.merge=void 0;var mY6=uY6(),Nr8=20;function Pr8(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=lY6(Z,J.shift(),0,X);return Z}nY6.merge=Pr8;function mG1(J){if(rd(J))return J.slice();return J}function lY6(J,Z,X=0,Y){let $;if(X>Nr8)return;if(X++,ad(J)||ad(Z)||pY6(Z))$=mG1(Z);else if(rd(J)){if($=J.slice(),rd(Z))for(let z=0,W=Z.length;z<W;z++)$.push(mG1(Z[z]));else if(o2(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=mG1(Z[G])}}}else if(o2(J))if(o2(Z)){if(!Lr8(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(ad(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(cY6(J,G,Y)||cY6(Z,G,Y))delete $[G];else{if(o2(q)&&o2(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=lY6($[G],K,X,Y)}}}}else $=Z;return $}function cY6(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function rd(J){return Array.isArray(J)}function pY6(J){return typeof J==="function"}function o2(J){return!ad(J)&&!rd(J)&&!pY6(J)&&typeof J==="object"}function ad(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function Lr8(J,Z){if(!(0,mY6.isPlainObject)(J)||!(0,mY6.isPlainObject)(Z))return!1;return!0}});var rY6=B((sY6)=>{Object.defineProperty(sY6,"__esModule",{value:!0});sY6.callWithTimeout=sY6.TimeoutError=void 0;class td extends Error{constructor(J){super(J);Object.setPrototypeOf(this,td.prototype)}}sY6.TimeoutError=td;function Cr8(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new td("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}sY6.callWithTimeout=Cr8});var Z$6=B((eY6)=>{Object.defineProperty(eY6,"__esModule",{value:!0});eY6.isUrlIgnored=eY6.urlMatches=void 0;function tY6(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}eY6.urlMatches=tY6;function Rr8(J,Z){if(!Z)return!1;for(let X of Z)if(tY6(J,X))return!0;return!1}eY6.isUrlIgnored=Rr8});var z$6=B((Y$6)=>{Object.defineProperty(Y$6,"__esModule",{value:!0});Y$6.Deferred=void 0;class X$6{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}Y$6.Deferred=X$6});var K$6=B((Q$6)=>{Object.defineProperty(Q$6,"__esModule",{value:!0});Q$6.BindOnceFuture=void 0;var Sr8=z$6();class W$6{_callback;_that;_isCalled=!1;_deferred=new Sr8.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}Q$6.BindOnceFuture=W$6});var F$6=B((B$6)=>{Object.defineProperty(B$6,"__esModule",{value:!0});B$6.diagLogLevelFromString=void 0;var gG=C(),q$6={ALL:gG.DiagLogLevel.ALL,VERBOSE:gG.DiagLogLevel.VERBOSE,DEBUG:gG.DiagLogLevel.DEBUG,INFO:gG.DiagLogLevel.INFO,WARN:gG.DiagLogLevel.WARN,ERROR:gG.DiagLogLevel.ERROR,NONE:gG.DiagLogLevel.NONE};function Tr8(J){if(J==null)return;let Z=q$6[J.toUpperCase()];if(Z==null)return gG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(q$6)}, using default`),gG.DiagLogLevel.INFO;return Z}B$6.diagLogLevelFromString=Tr8});var V$6=B((O$6)=>{Object.defineProperty(O$6,"__esModule",{value:!0});O$6._export=void 0;var U$6=C(),fr8=n2();function kr8(J,Z){return new Promise((X)=>{U$6.context.with((0,fr8.suppressTracing)(U$6.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}O$6._export=kr8});var P$6=B((v0)=>{Object.defineProperty(v0,"__esModule",{value:!0});v0.internal=v0.diagLogLevelFromString=v0.BindOnceFuture=v0.urlMatches=v0.isUrlIgnored=v0.callWithTimeout=v0.TimeoutError=v0.merge=v0.TraceState=v0.unsuppressTracing=v0.suppressTracing=v0.isTracingSuppressed=v0.setRPCMetadata=v0.getRPCMetadata=v0.deleteRPCMetadata=v0.RPCType=v0.parseTraceParent=v0.W3CTraceContextPropagator=v0.TRACE_STATE_HEADER=v0.TRACE_PARENT_HEADER=v0.CompositePropagator=v0.unrefTimer=v0.otperformance=v0.getStringListFromEnv=v0.getNumberFromEnv=v0.getBooleanFromEnv=v0.getStringFromEnv=v0._globalThis=v0.SDK_INFO=v0.parseKeyPairsIntoRecord=v0.ExportResultCode=v0.timeInputToHrTime=v0.millisToHrTime=v0.isTimeInputHrTime=v0.isTimeInput=v0.hrTimeToTimeStamp=v0.hrTimeToNanoseconds=v0.hrTimeToMilliseconds=v0.hrTimeToMicroseconds=v0.hrTimeDuration=v0.hrTime=v0.getTimeOrigin=v0.addHrTimes=v0.loggingErrorHandler=v0.setGlobalErrorHandler=v0.globalErrorHandler=v0.sanitizeAttributes=v0.isAttributeValue=v0.AnchoredClock=v0.W3CBaggagePropagator=void 0;var br8=OX6();Object.defineProperty(v0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return br8.W3CBaggagePropagator}});var hr8=wX6();Object.defineProperty(v0,"AnchoredClock",{enumerable:!0,get:function(){return hr8.AnchoredClock}});var I$6=jX6();Object.defineProperty(v0,"isAttributeValue",{enumerable:!0,get:function(){return I$6.isAttributeValue}});Object.defineProperty(v0,"sanitizeAttributes",{enumerable:!0,get:function(){return I$6.sanitizeAttributes}});var w$6=kX6();Object.defineProperty(v0,"globalErrorHandler",{enumerable:!0,get:function(){return w$6.globalErrorHandler}});Object.defineProperty(v0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return w$6.setGlobalErrorHandler}});var _r8=kG1();Object.defineProperty(v0,"loggingErrorHandler",{enumerable:!0,get:function(){return _r8.loggingErrorHandler}});var BX=KY6();Object.defineProperty(v0,"addHrTimes",{enumerable:!0,get:function(){return BX.addHrTimes}});Object.defineProperty(v0,"getTimeOrigin",{enumerable:!0,get:function(){return BX.getTimeOrigin}});Object.defineProperty(v0,"hrTime",{enumerable:!0,get:function(){return BX.hrTime}});Object.defineProperty(v0,"hrTimeDuration",{enumerable:!0,get:function(){return BX.hrTimeDuration}});Object.defineProperty(v0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return BX.hrTimeToMicroseconds}});Object.defineProperty(v0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return BX.hrTimeToMilliseconds}});Object.defineProperty(v0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return BX.hrTimeToNanoseconds}});Object.defineProperty(v0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return BX.hrTimeToTimeStamp}});Object.defineProperty(v0,"isTimeInput",{enumerable:!0,get:function(){return BX.isTimeInput}});Object.defineProperty(v0,"isTimeInputHrTime",{enumerable:!0,get:function(){return BX.isTimeInputHrTime}});Object.defineProperty(v0,"millisToHrTime",{enumerable:!0,get:function(){return BX.millisToHrTime}});Object.defineProperty(v0,"timeInputToHrTime",{enumerable:!0,get:function(){return BX.timeInputToHrTime}});var yr8=BY6();Object.defineProperty(v0,"ExportResultCode",{enumerable:!0,get:function(){return yr8.ExportResultCode}});var vr8=SG1();Object.defineProperty(v0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return vr8.parseKeyPairsIntoRecord}});var qB=bG1();Object.defineProperty(v0,"SDK_INFO",{enumerable:!0,get:function(){return qB.SDK_INFO}});Object.defineProperty(v0,"_globalThis",{enumerable:!0,get:function(){return qB._globalThis}});Object.defineProperty(v0,"getStringFromEnv",{enumerable:!0,get:function(){return qB.getStringFromEnv}});Object.defineProperty(v0,"getBooleanFromEnv",{enumerable:!0,get:function(){return qB.getBooleanFromEnv}});Object.defineProperty(v0,"getNumberFromEnv",{enumerable:!0,get:function(){return qB.getNumberFromEnv}});Object.defineProperty(v0,"getStringListFromEnv",{enumerable:!0,get:function(){return qB.getStringListFromEnv}});Object.defineProperty(v0,"otperformance",{enumerable:!0,get:function(){return qB.otperformance}});Object.defineProperty(v0,"unrefTimer",{enumerable:!0,get:function(){return qB.unrefTimer}});var xr8=DY6();Object.defineProperty(v0,"CompositePropagator",{enumerable:!0,get:function(){return xr8.CompositePropagator}});var ed=TY6();Object.defineProperty(v0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return ed.TRACE_PARENT_HEADER}});Object.defineProperty(v0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return ed.TRACE_STATE_HEADER}});Object.defineProperty(v0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return ed.W3CTraceContextPropagator}});Object.defineProperty(v0,"parseTraceParent",{enumerable:!0,get:function(){return ed.parseTraceParent}});var Ju=hY6();Object.defineProperty(v0,"RPCType",{enumerable:!0,get:function(){return Ju.RPCType}});Object.defineProperty(v0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Ju.deleteRPCMetadata}});Object.defineProperty(v0,"getRPCMetadata",{enumerable:!0,get:function(){return Ju.getRPCMetadata}});Object.defineProperty(v0,"setRPCMetadata",{enumerable:!0,get:function(){return Ju.setRPCMetadata}});var cG1=n2();Object.defineProperty(v0,"isTracingSuppressed",{enumerable:!0,get:function(){return cG1.isTracingSuppressed}});Object.defineProperty(v0,"suppressTracing",{enumerable:!0,get:function(){return cG1.suppressTracing}});Object.defineProperty(v0,"unsuppressTracing",{enumerable:!0,get:function(){return cG1.unsuppressTracing}});var gr8=dG1();Object.defineProperty(v0,"TraceState",{enumerable:!0,get:function(){return gr8.TraceState}});var dr8=oY6();Object.defineProperty(v0,"merge",{enumerable:!0,get:function(){return dr8.merge}});var A$6=rY6();Object.defineProperty(v0,"TimeoutError",{enumerable:!0,get:function(){return A$6.TimeoutError}});Object.defineProperty(v0,"callWithTimeout",{enumerable:!0,get:function(){return A$6.callWithTimeout}});var M$6=Z$6();Object.defineProperty(v0,"isUrlIgnored",{enumerable:!0,get:function(){return M$6.isUrlIgnored}});Object.defineProperty(v0,"urlMatches",{enumerable:!0,get:function(){return M$6.urlMatches}});var ur8=K$6();Object.defineProperty(v0,"BindOnceFuture",{enumerable:!0,get:function(){return ur8.BindOnceFuture}});var mr8=F$6();Object.defineProperty(v0,"diagLogLevelFromString",{enumerable:!0,get:function(){return mr8.diagLogLevelFromString}});var cr8=V$6();v0.internal={_export:cr8._export}});var R$6=B((C$6)=>{Object.defineProperty(C$6,"__esModule",{value:!0});C$6.azureVmDetector=void 0;var lr8=p("http"),lG1=C(),pr8=P$6(),p9=j1(),BB=p2();class L$6{detect(){let J=lG1.context.with((0,pr8.suppressTracing)(lG1.context.active()),()=>this.getAzureVmMetadata()),Z=[BB.AZURE_VM_SCALE_SET_NAME_ATTRIBUTE,BB.AZURE_VM_SKU_ATTRIBUTE,p9.SEMRESATTRS_CLOUD_PLATFORM,p9.SEMRESATTRS_CLOUD_PROVIDER,p9.SEMRESATTRS_CLOUD_REGION,BB.CLOUD_RESOURCE_ID_RESOURCE_ATTRIBUTE,p9.SEMRESATTRS_HOST_ID,p9.SEMRESATTRS_HOST_NAME,p9.SEMRESATTRS_HOST_TYPE,p9.SEMRESATTRS_OS_VERSION],X={};return Z.forEach((Y)=>{X[Y]=J.then(($)=>$[Y])}),{attributes:X}}async getAzureVmMetadata(){try{let J={host:BB.AZURE_VM_METADATA_HOST,path:BB.AZURE_VM_METADATA_PATH,method:"GET",timeout:5000,headers:{Metadata:"True"}},Z=await new Promise((Y,$)=>{let z=setTimeout(()=>{W.destroy(),$(new Error("Azure metadata service request timed out."))},1000),W=lr8.request(J,(Q)=>{clearTimeout(z);let{statusCode:G}=Q;Q.setEncoding("utf8");let K="";Q.on("data",(q)=>K+=q),Q.on("end",()=>{if(G&&G>=200&&G<300)try{Y(JSON.parse(K))}catch(q){$(q)}else $(new Error("Failed to load page, status code: "+G))})});W.on("error",(Q)=>{clearTimeout(z),$(Q)}),W.end()});return{[BB.AZURE_VM_SCALE_SET_NAME_ATTRIBUTE]:Z.vmScaleSetName,[BB.AZURE_VM_SKU_ATTRIBUTE]:Z.sku,[p9.SEMRESATTRS_CLOUD_PLATFORM]:p9.CLOUDPLATFORMVALUES_AZURE_VM,[p9.SEMRESATTRS_CLOUD_PROVIDER]:p9.CLOUDPROVIDERVALUES_AZURE,[p9.SEMRESATTRS_CLOUD_REGION]:Z.location,[BB.CLOUD_RESOURCE_ID_RESOURCE_ATTRIBUTE]:Z.resourceId,[p9.SEMRESATTRS_HOST_ID]:Z.vmId,[p9.SEMRESATTRS_HOST_NAME]:Z.name,[p9.SEMRESATTRS_HOST_TYPE]:Z.vmSize,[p9.SEMRESATTRS_OS_VERSION]:Z.version}}catch(J){return lG1.diag.debug("AzureVmResourceDetector: not running in an Azure VM:",J.message),{}}}}C$6.azureVmDetector=new L$6});var E$6=B((s2)=>{Object.defineProperty(s2,"__esModule",{value:!0});s2.azureVmDetector=s2.azureFunctionsDetector=s2.azureAppServiceDetector=void 0;var nr8=eZ6();Object.defineProperty(s2,"azureAppServiceDetector",{enumerable:!0,get:function(){return nr8.azureAppServiceDetector}});var ir8=$X6();Object.defineProperty(s2,"azureFunctionsDetector",{enumerable:!0,get:function(){return ir8.azureFunctionsDetector}});var or8=R$6();Object.defineProperty(s2,"azureVmDetector",{enumerable:!0,get:function(){return or8.azureVmDetector}})});var S$6=B((a2)=>{Object.defineProperty(a2,"__esModule",{value:!0});a2.azureVmDetector=a2.azureFunctionsDetector=a2.azureAppServiceDetector=void 0;var pG1=E$6();Object.defineProperty(a2,"azureAppServiceDetector",{enumerable:!0,get:function(){return pG1.azureAppServiceDetector}});Object.defineProperty(a2,"azureFunctionsDetector",{enumerable:!0,get:function(){return pG1.azureFunctionsDetector}});Object.defineProperty(a2,"azureVmDetector",{enumerable:!0,get:function(){return pG1.azureVmDetector}})});var h$6=B((k$6)=>{Object.defineProperty(k$6,"__esModule",{value:!0});k$6.getResourceDetectorsFromEnv=k$6.getNodeAutoInstrumentations=void 0;var e2=C(),rr8=o50(),tr8=q90(),er8=oZ0(),Jt8=lX0(),Zt8=$Y0(),Xt8=cz0(),Yt8=XW0(),$t8=UW0(),zt8=fW0(),Wt8=IK0(),Qt8=$B0(),Gt8=mF0(),Kt8=rF0(),qt8=gJ1(),Bt8=qO0(),Ht8=nV0(),Ft8=oA0(),Ut8=FM0(),Ot8=xM0(),Dt8=$N0(),Vt8=pL0(),It8=XC0(),wt8=DC0(),At8=TC0(),Mt8=OR0(),Nt8=eS0(),Pt8=DT0(),Lt8=ST0(),Ct8=sT0(),jt8=wf0(),Rt8=Dh0(),Et8=jv0(),St8=K$1(),Tt8=zx0(),ft8=ld0(),kt8=Hu0(),bt8=Zm0(),ht8=wm0(),_t8=ym0(),yt8=Dp0(),vt8=oi0(),xt8=wa0(),r2=Ge0(),gt8=y06(),dt8=S96(),t2=WB(),nG1=S$6(),ut8="container",mt8="env",ct8="host",lt8="os",pt8="serviceinstance",nt8="process",it8="alibaba",ot8="aws",st8="azure",at8="gcp",Zu={"@opentelemetry/instrumentation-amqplib":rr8.AmqplibInstrumentation,"@opentelemetry/instrumentation-aws-lambda":tr8.AwsLambdaInstrumentation,"@opentelemetry/instrumentation-aws-sdk":er8.AwsInstrumentation,"@opentelemetry/instrumentation-bunyan":Jt8.BunyanInstrumentation,"@opentelemetry/instrumentation-cassandra-driver":Zt8.CassandraDriverInstrumentation,"@opentelemetry/instrumentation-connect":Xt8.ConnectInstrumentation,"@opentelemetry/instrumentation-cucumber":Yt8.CucumberInstrumentation,"@opentelemetry/instrumentation-dataloader":$t8.DataloaderInstrumentation,"@opentelemetry/instrumentation-dns":zt8.DnsInstrumentation,"@opentelemetry/instrumentation-express":Wt8.ExpressInstrumentation,"@opentelemetry/instrumentation-fastify":Qt8.FastifyInstrumentation,"@opentelemetry/instrumentation-fs":Gt8.FsInstrumentation,"@opentelemetry/instrumentation-generic-pool":Kt8.GenericPoolInstrumentation,"@opentelemetry/instrumentation-graphql":qt8.GraphQLInstrumentation,"@opentelemetry/instrumentation-grpc":Bt8.GrpcInstrumentation,"@opentelemetry/instrumentation-hapi":Ht8.HapiInstrumentation,"@opentelemetry/instrumentation-http":Ft8.HttpInstrumentation,"@opentelemetry/instrumentation-ioredis":Ut8.IORedisInstrumentation,"@opentelemetry/instrumentation-kafkajs":Ot8.KafkaJsInstrumentation,"@opentelemetry/instrumentation-knex":Dt8.KnexInstrumentation,"@opentelemetry/instrumentation-koa":Vt8.KoaInstrumentation,"@opentelemetry/instrumentation-lru-memoizer":It8.LruMemoizerInstrumentation,"@opentelemetry/instrumentation-memcached":wt8.MemcachedInstrumentation,"@opentelemetry/instrumentation-mongodb":At8.MongoDBInstrumentation,"@opentelemetry/instrumentation-mongoose":Mt8.MongooseInstrumentation,"@opentelemetry/instrumentation-mysql2":Nt8.MySQL2Instrumentation,"@opentelemetry/instrumentation-mysql":Pt8.MySQLInstrumentation,"@opentelemetry/instrumentation-nestjs-core":Lt8.NestInstrumentation,"@opentelemetry/instrumentation-net":Ct8.NetInstrumentation,"@opentelemetry/instrumentation-oracledb":jt8.OracleInstrumentation,"@opentelemetry/instrumentation-pg":Rt8.PgInstrumentation,"@opentelemetry/instrumentation-pino":Et8.PinoInstrumentation,"@opentelemetry/instrumentation-redis":St8.RedisInstrumentation,"@opentelemetry/instrumentation-redis-4":Tt8.RedisInstrumentation,"@opentelemetry/instrumentation-restify":ft8.RestifyInstrumentation,"@opentelemetry/instrumentation-router":kt8.RouterInstrumentation,"@opentelemetry/instrumentation-runtime-node":bt8.RuntimeNodeInstrumentation,"@opentelemetry/instrumentation-socket.io":ht8.SocketIoInstrumentation,"@opentelemetry/instrumentation-tedious":_t8.TediousInstrumentation,"@opentelemetry/instrumentation-undici":yt8.UndiciInstrumentation,"@opentelemetry/instrumentation-winston":vt8.WinstonInstrumentation},rt8=["@opentelemetry/instrumentation-fs","@opentelemetry/instrumentation-fastify"];function tt8(J={}){T$6(Object.keys(J));let Z=et8(),X=Je8(),Y=[];for(let $ of Object.keys(Zu)){let z=Zu[$],W=J[$]??{};if(W.enabled===!1||!Z.includes($)||X.includes($)){e2.diag.debug(`Disabling instrumentation for ${$}`);continue}try{e2.diag.debug(`Loading instrumentation for ${$}`),Y.push(new z(W))}catch(Q){e2.diag.error(Q)}}return Y}k$6.getNodeAutoInstrumentations=tt8;function T$6(J){for(let Z of J)if(!Object.prototype.hasOwnProperty.call(Zu,Z))e2.diag.error(`Provided instrumentation name "${Z}" not found`)}function f$6(J){let Z=process.env[J];if(Z==null)return[];let X=Z?.split(",").map((Y)=>`@opentelemetry/instrumentation-${Y.trim()}`);return T$6(X),X}function et8(){if(!process.env.OTEL_NODE_ENABLED_INSTRUMENTATIONS)return Object.keys(Zu).filter((Z)=>!rt8.includes(Z));return f$6("OTEL_NODE_ENABLED_INSTRUMENTATIONS")}function Je8(){if(!process.env.OTEL_NODE_DISABLED_INSTRUMENTATIONS)return[];return f$6("OTEL_NODE_DISABLED_INSTRUMENTATIONS")}function Ze8(){let J=new Map([[ut8,gt8.containerDetector],[mt8,t2.envDetector],[ct8,t2.hostDetector],[lt8,t2.osDetector],[pt8,t2.serviceInstanceIdDetector],[nt8,t2.processDetector],[it8,xt8.alibabaCloudEcsDetector],[at8,dt8.gcpDetector],[ot8,[r2.awsEc2Detector,r2.awsEcsDetector,r2.awsEksDetector,r2.awsBeanstalkDetector,r2.awsLambdaDetector]],[st8,[nG1.azureAppServiceDetector,nG1.azureFunctionsDetector,nG1.azureVmDetector]]]),Z=process.env.OTEL_NODE_RESOURCE_DETECTORS?.split(",")??["all"];if(Z.includes("all"))return[...J.values()].flat();if(Z.includes("none"))return[];return Z.flatMap((X)=>{let Y=J.get(X);if(!Y)e2.diag.error(`Invalid resource detector "${X}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`);return Y||[]})}k$6.getResourceDetectorsFromEnv=Ze8});var y$6=B((Xu)=>{Object.defineProperty(Xu,"__esModule",{value:!0});Xu.getResourceDetectors=Xu.getNodeAutoInstrumentations=void 0;var _$6=h$6();Object.defineProperty(Xu,"getNodeAutoInstrumentations",{enumerable:!0,get:function(){return _$6.getNodeAutoInstrumentations}});Object.defineProperty(Xu,"getResourceDetectors",{enumerable:!0,get:function(){return _$6.getResourceDetectorsFromEnv}})});var Xz6=B((Jz6)=>{Object.defineProperty(Jz6,"__esModule",{value:!0});Jz6.OTLPExporterBase=void 0;class e$6{_delegate;constructor(J){this._delegate=J}export(J,Z){this._delegate.export(J,Z)}forceFlush(){return this._delegate.forceFlush()}shutdown(){return this._delegate.shutdown()}}Jz6.OTLPExporterBase=e$6});var Ku=B(($z6)=>{Object.defineProperty($z6,"__esModule",{value:!0});$z6.OTLPExporterError=void 0;class Yz6 extends Error{code;name="OTLPExporterError";data;constructor(J,Z,X){super(J);this.data=X,this.code=Z}}$z6.OTLPExporterError=Yz6});var Zj=B((Qz6)=>{Object.defineProperty(Qz6,"__esModule",{value:!0});Qz6.getSharedConfigurationDefaults=Qz6.mergeOtlpSharedConfigurationWithDefaults=Qz6.wrapStaticHeadersInFunction=Qz6.validateTimeoutMillis=void 0;function Wz6(J){if(Number.isFinite(J)&&J>0)return J;throw new Error(`Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '${J}')`)}Qz6.validateTimeoutMillis=Wz6;function we8(J){if(J==null)return;return()=>J}Qz6.wrapStaticHeadersInFunction=we8;function Ae8(J,Z,X){return{timeoutMillis:Wz6(J.timeoutMillis??Z.timeoutMillis??X.timeoutMillis),concurrencyLimit:J.concurrencyLimit??Z.concurrencyLimit??X.concurrencyLimit,compression:J.compression??Z.compression??X.compression}}Qz6.mergeOtlpSharedConfigurationWithDefaults=Ae8;function Me8(){return{timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}Qz6.getSharedConfigurationDefaults=Me8});var qz6=B((Kz6)=>{Object.defineProperty(Kz6,"__esModule",{value:!0});Kz6.CompressionAlgorithm=void 0;var Ce8;(function(J){J.NONE="none",J.GZIP="gzip"})(Ce8=Kz6.CompressionAlgorithm||(Kz6.CompressionAlgorithm={}))});var eG1=B((Hz6)=>{Object.defineProperty(Hz6,"__esModule",{value:!0});Hz6.createBoundedQueueExportPromiseHandler=void 0;class Bz6{_concurrencyLimit;_sendingPromises=[];constructor(J){this._concurrencyLimit=J}pushPromise(J){if(this.hasReachedLimit())throw new Error("Concurrency Limit reached");this._sendingPromises.push(J);let Z=()=>{let X=this._sendingPromises.indexOf(J);this._sendingPromises.splice(X,1)};J.then(Z,Z)}hasReachedLimit(){return this._sendingPromises.length>=this._concurrencyLimit}async awaitAll(){await Promise.all(this._sendingPromises)}}function je8(J){return new Bz6(J.concurrencyLimit)}Hz6.createBoundedQueueExportPromiseHandler=je8});var Xj=B((Uz6)=>{Object.defineProperty(Uz6,"__esModule",{value:!0});Uz6.isTracingSuppressed=Uz6.unsuppressTracing=Uz6.suppressTracing=void 0;var Re8=C(),JK1=(0,Re8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Ee8(J){return J.setValue(JK1,!0)}Uz6.suppressTracing=Ee8;function Se8(J){return J.deleteValue(JK1)}Uz6.unsuppressTracing=Se8;function Te8(J){return J.getValue(JK1)===!0}Uz6.isTracingSuppressed=Te8});var ZK1=B((Dz6)=>{Object.defineProperty(Dz6,"__esModule",{value:!0});Dz6.BAGGAGE_MAX_TOTAL_LENGTH=Dz6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Dz6.BAGGAGE_MAX_NAME_VALUE_PAIRS=Dz6.BAGGAGE_HEADER=Dz6.BAGGAGE_ITEMS_SEPARATOR=Dz6.BAGGAGE_PROPERTIES_SEPARATOR=Dz6.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Dz6.BAGGAGE_KEY_PAIR_SEPARATOR="=";Dz6.BAGGAGE_PROPERTIES_SEPARATOR=";";Dz6.BAGGAGE_ITEMS_SEPARATOR=",";Dz6.BAGGAGE_HEADER="baggage";Dz6.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Dz6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Dz6.BAGGAGE_MAX_TOTAL_LENGTH=8192});var XK1=B((wz6)=>{Object.defineProperty(wz6,"__esModule",{value:!0});wz6.parseKeyPairsIntoRecord=wz6.parsePairKeyValue=wz6.getKeyPairs=wz6.serializeKeyPairs=void 0;var ge8=C(),OO=ZK1();function de8(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?OO.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>OO.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}wz6.serializeKeyPairs=de8;function ue8(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=OO.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}wz6.getKeyPairs=ue8;function Iz6(J){let Z=J.split(OO.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(OO.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,ge8.baggageEntryMetadataFromString)(Z.join(OO.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}wz6.parsePairKeyValue=Iz6;function me8(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(OO.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=Iz6(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}wz6.parseKeyPairsIntoRecord=me8});var Lz6=B((Nz6)=>{Object.defineProperty(Nz6,"__esModule",{value:!0});Nz6.W3CBaggagePropagator=void 0;var YK1=C(),ne8=Xj(),DO=ZK1(),$K1=XK1();class Mz6{inject(J,Z,X){let Y=YK1.propagation.getBaggage(J);if(!Y||(0,ne8.isTracingSuppressed)(J))return;let $=(0,$K1.getKeyPairs)(Y).filter((W)=>{return W.length<=DO.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,DO.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,$K1.serializeKeyPairs)($);if(z.length>0)X.set(Z,DO.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,DO.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(DO.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(DO.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,$K1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return YK1.propagation.setBaggage(J,YK1.propagation.createBaggage(z))}fields(){return[DO.BAGGAGE_HEADER]}}Nz6.W3CBaggagePropagator=Mz6});var Ez6=B((jz6)=>{Object.defineProperty(jz6,"__esModule",{value:!0});jz6.AnchoredClock=void 0;class Cz6{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}jz6.AnchoredClock=Cz6});var _z6=B((bz6)=>{Object.defineProperty(bz6,"__esModule",{value:!0});bz6.isAttributeValue=bz6.isAttributeKey=bz6.sanitizeAttributes=void 0;var Sz6=C();function ie8(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!Tz6(X)){Sz6.diag.warn(`Invalid attribute key: ${X}`);continue}if(!fz6(Y)){Sz6.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}bz6.sanitizeAttributes=ie8;function Tz6(J){return typeof J==="string"&&J.length>0}bz6.isAttributeKey=Tz6;function fz6(J){if(J==null)return!0;if(Array.isArray(J))return oe8(J);return kz6(J)}bz6.isAttributeValue=fz6;function oe8(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(kz6(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function kz6(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var zK1=B((yz6)=>{Object.defineProperty(yz6,"__esModule",{value:!0});yz6.loggingErrorHandler=void 0;var re8=C();function te8(){return(J)=>{re8.diag.error(ee8(J))}}yz6.loggingErrorHandler=te8;function ee8(J){if(typeof J==="string")return J;else return JSON.stringify(J15(J))}function J15(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var uz6=B((gz6)=>{Object.defineProperty(gz6,"__esModule",{value:!0});gz6.globalErrorHandler=gz6.setGlobalErrorHandler=void 0;var Z15=zK1(),xz6=(0,Z15.loggingErrorHandler)();function X15(J){xz6=J}gz6.setGlobalErrorHandler=X15;function Y15(J){try{xz6(J)}catch{}}gz6.globalErrorHandler=Y15});var iz6=B((pz6)=>{Object.defineProperty(pz6,"__esModule",{value:!0});pz6.getStringListFromEnv=pz6.getBooleanFromEnv=pz6.getStringFromEnv=pz6.getNumberFromEnv=void 0;var mz6=C(),cz6=p("util");function z15(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){mz6.diag.warn(`Unknown value ${(0,cz6.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}pz6.getNumberFromEnv=z15;function lz6(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}pz6.getStringFromEnv=lz6;function W15(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return mz6.diag.warn(`Unknown value ${(0,cz6.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}pz6.getBooleanFromEnv=W15;function Q15(J){return lz6(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}pz6.getStringListFromEnv=Q15});var az6=B((oz6)=>{Object.defineProperty(oz6,"__esModule",{value:!0});oz6._globalThis=void 0;oz6._globalThis=typeof globalThis==="object"?globalThis:global});var ez6=B((rz6)=>{Object.defineProperty(rz6,"__esModule",{value:!0});rz6.otperformance=void 0;var B15=p("perf_hooks");rz6.otperformance=B15.performance});var XW6=B((JW6)=>{Object.defineProperty(JW6,"__esModule",{value:!0});JW6.VERSION=void 0;JW6.VERSION="2.0.1"});var zW6=B((YW6)=>{Object.defineProperty(YW6,"__esModule",{value:!0});YW6.ATTR_PROCESS_RUNTIME_NAME=void 0;YW6.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var GW6=B((WW6)=>{Object.defineProperty(WW6,"__esModule",{value:!0});WW6.SDK_INFO=void 0;var H15=XW6(),qu=j1(),F15=zW6();WW6.SDK_INFO={[qu.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[F15.ATTR_PROCESS_RUNTIME_NAME]:"node",[qu.ATTR_TELEMETRY_SDK_LANGUAGE]:qu.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[qu.ATTR_TELEMETRY_SDK_VERSION]:H15.VERSION}});var BW6=B((KW6)=>{Object.defineProperty(KW6,"__esModule",{value:!0});KW6.unrefTimer=void 0;function U15(J){J.unref()}KW6.unrefTimer=U15});var HW6=B((iz)=>{Object.defineProperty(iz,"__esModule",{value:!0});iz.unrefTimer=iz.SDK_INFO=iz.otperformance=iz._globalThis=iz.getStringListFromEnv=iz.getNumberFromEnv=iz.getBooleanFromEnv=iz.getStringFromEnv=void 0;var Bu=iz6();Object.defineProperty(iz,"getStringFromEnv",{enumerable:!0,get:function(){return Bu.getStringFromEnv}});Object.defineProperty(iz,"getBooleanFromEnv",{enumerable:!0,get:function(){return Bu.getBooleanFromEnv}});Object.defineProperty(iz,"getNumberFromEnv",{enumerable:!0,get:function(){return Bu.getNumberFromEnv}});Object.defineProperty(iz,"getStringListFromEnv",{enumerable:!0,get:function(){return Bu.getStringListFromEnv}});var O15=az6();Object.defineProperty(iz,"_globalThis",{enumerable:!0,get:function(){return O15._globalThis}});var D15=ez6();Object.defineProperty(iz,"otperformance",{enumerable:!0,get:function(){return D15.otperformance}});var V15=GW6();Object.defineProperty(iz,"SDK_INFO",{enumerable:!0,get:function(){return V15.SDK_INFO}});var I15=BW6();Object.defineProperty(iz,"unrefTimer",{enumerable:!0,get:function(){return I15.unrefTimer}})});var WK1=B((oz)=>{Object.defineProperty(oz,"__esModule",{value:!0});oz.getStringListFromEnv=oz.getNumberFromEnv=oz.getStringFromEnv=oz.getBooleanFromEnv=oz.unrefTimer=oz.otperformance=oz._globalThis=oz.SDK_INFO=void 0;var HB=HW6();Object.defineProperty(oz,"SDK_INFO",{enumerable:!0,get:function(){return HB.SDK_INFO}});Object.defineProperty(oz,"_globalThis",{enumerable:!0,get:function(){return HB._globalThis}});Object.defineProperty(oz,"otperformance",{enumerable:!0,get:function(){return HB.otperformance}});Object.defineProperty(oz,"unrefTimer",{enumerable:!0,get:function(){return HB.unrefTimer}});Object.defineProperty(oz,"getBooleanFromEnv",{enumerable:!0,get:function(){return HB.getBooleanFromEnv}});Object.defineProperty(oz,"getStringFromEnv",{enumerable:!0,get:function(){return HB.getStringFromEnv}});Object.defineProperty(oz,"getNumberFromEnv",{enumerable:!0,get:function(){return HB.getNumberFromEnv}});Object.defineProperty(oz,"getStringListFromEnv",{enumerable:!0,get:function(){return HB.getStringListFromEnv}})});var IW6=B((DW6)=>{Object.defineProperty(DW6,"__esModule",{value:!0});DW6.addHrTimes=DW6.isTimeInput=DW6.isTimeInputHrTime=DW6.hrTimeToMicroseconds=DW6.hrTimeToMilliseconds=DW6.hrTimeToNanoseconds=DW6.hrTimeToTimeStamp=DW6.hrTimeDuration=DW6.timeInputToHrTime=DW6.hrTime=DW6.getTimeOrigin=DW6.millisToHrTime=void 0;var QK1=WK1(),FW6=9,M15=6,N15=Math.pow(10,M15),Hu=Math.pow(10,FW6);function Yj(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*N15);return[X,Y]}DW6.millisToHrTime=Yj;function GK1(){let J=QK1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=QK1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}DW6.getTimeOrigin=GK1;function UW6(J){let Z=Yj(GK1()),X=Yj(typeof J==="number"?J:QK1.otperformance.now());return OW6(Z,X)}DW6.hrTime=UW6;function P15(J){if(KK1(J))return J;else if(typeof J==="number")if(J<GK1())return UW6(J);else return Yj(J);else if(J instanceof Date)return Yj(J.getTime());else throw TypeError("Invalid input type")}DW6.timeInputToHrTime=P15;function L15(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=Hu;return[X,Y]}DW6.hrTimeDuration=L15;function C15(J){let Z=FW6,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}DW6.hrTimeToTimeStamp=C15;function j15(J){return J[0]*Hu+J[1]}DW6.hrTimeToNanoseconds=j15;function R15(J){return J[0]*1000+J[1]/1e6}DW6.hrTimeToMilliseconds=R15;function E15(J){return J[0]*1e6+J[1]/1000}DW6.hrTimeToMicroseconds=E15;function KK1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}DW6.isTimeInputHrTime=KK1;function S15(J){return KK1(J)||typeof J==="number"||J instanceof Date}DW6.isTimeInput=S15;function OW6(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=Hu)X[1]-=Hu,X[0]+=1;return X}DW6.addHrTimes=OW6});var AW6=B((wW6)=>{Object.defineProperty(wW6,"__esModule",{value:!0});wW6.ExportResultCode=void 0;var u15;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(u15=wW6.ExportResultCode||(wW6.ExportResultCode={}))});var CW6=B((PW6)=>{Object.defineProperty(PW6,"__esModule",{value:!0});PW6.CompositePropagator=void 0;var MW6=C();class NW6{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){MW6.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){MW6.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}PW6.CompositePropagator=NW6});var EW6=B((jW6)=>{Object.defineProperty(jW6,"__esModule",{value:!0});jW6.validateValue=jW6.validateKey=void 0;var BK1="[_0-9a-z-*/]",m15=`[a-z]${BK1}{0,255}`,c15=`[a-z0-9]${BK1}{0,240}@[a-z]${BK1}{0,13}`,l15=new RegExp(`^(?:${m15}|${c15})$`),p15=/^[ -~]{0,255}[!-~]$/,n15=/,|=/;function i15(J){return l15.test(J)}jW6.validateKey=i15;function o15(J){return p15.test(J)&&!n15.test(J)}jW6.validateValue=o15});var FK1=B((bW6)=>{Object.defineProperty(bW6,"__esModule",{value:!0});bW6.TraceState=void 0;var SW6=EW6(),TW6=32,a15=512,fW6=",",kW6="=";class HK1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+kW6+this.get(Z)),J},[]).join(fW6)}_parse(J){if(J.length>a15)return;if(this._internalState=J.split(fW6).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(kW6);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,SW6.validateKey)(z)&&(0,SW6.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>TW6)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,TW6))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new HK1;return J._internalState=new Map(this._internalState),J}}bW6.TraceState=HK1});var gW6=B((vW6)=>{Object.defineProperty(vW6,"__esModule",{value:!0});vW6.W3CTraceContextPropagator=vW6.parseTraceParent=vW6.TRACE_STATE_HEADER=vW6.TRACE_PARENT_HEADER=void 0;var Fu=C(),r15=Xj(),t15=FK1();vW6.TRACE_PARENT_HEADER="traceparent";vW6.TRACE_STATE_HEADER="tracestate";var e15="00",J05="(?!ff)[\\da-f]{2}",Z05="(?![0]{32})[\\da-f]{32}",X05="(?![0]{16})[\\da-f]{16}",Y05="[\\da-f]{2}",$05=new RegExp(`^\\s?(${J05})-(${Z05})-(${X05})-(${Y05})(-.*)?\\s?$`);function _W6(J){let Z=$05.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}vW6.parseTraceParent=_W6;class yW6{inject(J,Z,X){let Y=Fu.trace.getSpanContext(J);if(!Y||(0,r15.isTracingSuppressed)(J)||!(0,Fu.isSpanContextValid)(Y))return;let $=`${e15}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||Fu.TraceFlags.NONE).toString(16)}`;if(X.set(Z,vW6.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,vW6.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,vW6.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=_W6($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,vW6.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new t15.TraceState(typeof Q==="string"?Q:void 0)}return Fu.trace.setSpanContext(J,z)}fields(){return[vW6.TRACE_PARENT_HEADER,vW6.TRACE_STATE_HEADER]}}vW6.W3CTraceContextPropagator=yW6});var cW6=B((uW6)=>{Object.defineProperty(uW6,"__esModule",{value:!0});uW6.getRPCMetadata=uW6.deleteRPCMetadata=uW6.setRPCMetadata=uW6.RPCType=void 0;var W05=C(),UK1=(0,W05.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),Q05;(function(J){J.HTTP="http"})(Q05=uW6.RPCType||(uW6.RPCType={}));function G05(J,Z){return J.setValue(UK1,Z)}uW6.setRPCMetadata=G05;function K05(J){return J.deleteValue(UK1)}uW6.deleteRPCMetadata=K05;function q05(J){return J.getValue(UK1)}uW6.getRPCMetadata=q05});var aW6=B((oW6)=>{Object.defineProperty(oW6,"__esModule",{value:!0});oW6.isPlainObject=void 0;var F05="[object Object]",U05="[object Null]",O05="[object Undefined]",D05=Function.prototype,lW6=D05.toString,V05=lW6.call(Object),I05=Object.getPrototypeOf,pW6=Object.prototype,nW6=pW6.hasOwnProperty,VO=Symbol?Symbol.toStringTag:void 0,iW6=pW6.toString;function w05(J){if(!A05(J)||M05(J)!==F05)return!1;let Z=I05(J);if(Z===null)return!0;let X=nW6.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&lW6.call(X)===V05}oW6.isPlainObject=w05;function A05(J){return J!=null&&typeof J=="object"}function M05(J){if(J==null)return J===void 0?O05:U05;return VO&&VO in Object(J)?N05(J):P05(J)}function N05(J){let Z=nW6.call(J,VO),X=J[VO],Y=!1;try{J[VO]=void 0,Y=!0}catch(z){}let $=iW6.call(J);if(Y)if(Z)J[VO]=X;else delete J[VO];return $}function P05(J){return iW6.call(J)}});var YQ6=B((ZQ6)=>{Object.defineProperty(ZQ6,"__esModule",{value:!0});ZQ6.merge=void 0;var rW6=aW6(),L05=20;function C05(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=eW6(Z,J.shift(),0,X);return Z}ZQ6.merge=C05;function OK1(J){if(Vu(J))return J.slice();return J}function eW6(J,Z,X=0,Y){let $;if(X>L05)return;if(X++,Du(J)||Du(Z)||JQ6(Z))$=OK1(Z);else if(Vu(J)){if($=J.slice(),Vu(Z))for(let z=0,W=Z.length;z<W;z++)$.push(OK1(Z[z]));else if($j(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=OK1(Z[G])}}}else if($j(J))if($j(Z)){if(!j05(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(Du(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(tW6(J,G,Y)||tW6(Z,G,Y))delete $[G];else{if($j(q)&&$j(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=eW6($[G],K,X,Y)}}}}else $=Z;return $}function tW6(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function Vu(J){return Array.isArray(J)}function JQ6(J){return typeof J==="function"}function $j(J){return!Du(J)&&!Vu(J)&&!JQ6(J)&&typeof J==="object"}function Du(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function j05(J,Z){if(!(0,rW6.isPlainObject)(J)||!(0,rW6.isPlainObject)(Z))return!1;return!0}});var WQ6=B(($Q6)=>{Object.defineProperty($Q6,"__esModule",{value:!0});$Q6.callWithTimeout=$Q6.TimeoutError=void 0;class Iu extends Error{constructor(J){super(J);Object.setPrototypeOf(this,Iu.prototype)}}$Q6.TimeoutError=Iu;function R05(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new Iu("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}$Q6.callWithTimeout=R05});var qQ6=B((GQ6)=>{Object.defineProperty(GQ6,"__esModule",{value:!0});GQ6.isUrlIgnored=GQ6.urlMatches=void 0;function QQ6(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}GQ6.urlMatches=QQ6;function S05(J,Z){if(!Z)return!1;for(let X of Z)if(QQ6(J,X))return!0;return!1}GQ6.isUrlIgnored=S05});var UQ6=B((HQ6)=>{Object.defineProperty(HQ6,"__esModule",{value:!0});HQ6.Deferred=void 0;class BQ6{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}HQ6.Deferred=BQ6});var IQ6=B((DQ6)=>{Object.defineProperty(DQ6,"__esModule",{value:!0});DQ6.BindOnceFuture=void 0;var f05=UQ6();class OQ6{_callback;_that;_isCalled=!1;_deferred=new f05.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}DQ6.BindOnceFuture=OQ6});var NQ6=B((AQ6)=>{Object.defineProperty(AQ6,"__esModule",{value:!0});AQ6.diagLogLevelFromString=void 0;var dG=C(),wQ6={ALL:dG.DiagLogLevel.ALL,VERBOSE:dG.DiagLogLevel.VERBOSE,DEBUG:dG.DiagLogLevel.DEBUG,INFO:dG.DiagLogLevel.INFO,WARN:dG.DiagLogLevel.WARN,ERROR:dG.DiagLogLevel.ERROR,NONE:dG.DiagLogLevel.NONE};function k05(J){if(J==null)return;let Z=wQ6[J.toUpperCase()];if(Z==null)return dG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(wQ6)}, using default`),dG.DiagLogLevel.INFO;return Z}AQ6.diagLogLevelFromString=k05});var jQ6=B((LQ6)=>{Object.defineProperty(LQ6,"__esModule",{value:!0});LQ6._export=void 0;var PQ6=C(),b05=Xj();function h05(J,Z){return new Promise((X)=>{PQ6.context.with((0,b05.suppressTracing)(PQ6.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}LQ6._export=h05});var VK1=B((x0)=>{Object.defineProperty(x0,"__esModule",{value:!0});x0.internal=x0.diagLogLevelFromString=x0.BindOnceFuture=x0.urlMatches=x0.isUrlIgnored=x0.callWithTimeout=x0.TimeoutError=x0.merge=x0.TraceState=x0.unsuppressTracing=x0.suppressTracing=x0.isTracingSuppressed=x0.setRPCMetadata=x0.getRPCMetadata=x0.deleteRPCMetadata=x0.RPCType=x0.parseTraceParent=x0.W3CTraceContextPropagator=x0.TRACE_STATE_HEADER=x0.TRACE_PARENT_HEADER=x0.CompositePropagator=x0.unrefTimer=x0.otperformance=x0.getStringListFromEnv=x0.getNumberFromEnv=x0.getBooleanFromEnv=x0.getStringFromEnv=x0._globalThis=x0.SDK_INFO=x0.parseKeyPairsIntoRecord=x0.ExportResultCode=x0.timeInputToHrTime=x0.millisToHrTime=x0.isTimeInputHrTime=x0.isTimeInput=x0.hrTimeToTimeStamp=x0.hrTimeToNanoseconds=x0.hrTimeToMilliseconds=x0.hrTimeToMicroseconds=x0.hrTimeDuration=x0.hrTime=x0.getTimeOrigin=x0.addHrTimes=x0.loggingErrorHandler=x0.setGlobalErrorHandler=x0.globalErrorHandler=x0.sanitizeAttributes=x0.isAttributeValue=x0.AnchoredClock=x0.W3CBaggagePropagator=void 0;var _05=Lz6();Object.defineProperty(x0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return _05.W3CBaggagePropagator}});var y05=Ez6();Object.defineProperty(x0,"AnchoredClock",{enumerable:!0,get:function(){return y05.AnchoredClock}});var RQ6=_z6();Object.defineProperty(x0,"isAttributeValue",{enumerable:!0,get:function(){return RQ6.isAttributeValue}});Object.defineProperty(x0,"sanitizeAttributes",{enumerable:!0,get:function(){return RQ6.sanitizeAttributes}});var EQ6=uz6();Object.defineProperty(x0,"globalErrorHandler",{enumerable:!0,get:function(){return EQ6.globalErrorHandler}});Object.defineProperty(x0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return EQ6.setGlobalErrorHandler}});var v05=zK1();Object.defineProperty(x0,"loggingErrorHandler",{enumerable:!0,get:function(){return v05.loggingErrorHandler}});var HX=IW6();Object.defineProperty(x0,"addHrTimes",{enumerable:!0,get:function(){return HX.addHrTimes}});Object.defineProperty(x0,"getTimeOrigin",{enumerable:!0,get:function(){return HX.getTimeOrigin}});Object.defineProperty(x0,"hrTime",{enumerable:!0,get:function(){return HX.hrTime}});Object.defineProperty(x0,"hrTimeDuration",{enumerable:!0,get:function(){return HX.hrTimeDuration}});Object.defineProperty(x0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return HX.hrTimeToMicroseconds}});Object.defineProperty(x0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return HX.hrTimeToMilliseconds}});Object.defineProperty(x0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return HX.hrTimeToNanoseconds}});Object.defineProperty(x0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return HX.hrTimeToTimeStamp}});Object.defineProperty(x0,"isTimeInput",{enumerable:!0,get:function(){return HX.isTimeInput}});Object.defineProperty(x0,"isTimeInputHrTime",{enumerable:!0,get:function(){return HX.isTimeInputHrTime}});Object.defineProperty(x0,"millisToHrTime",{enumerable:!0,get:function(){return HX.millisToHrTime}});Object.defineProperty(x0,"timeInputToHrTime",{enumerable:!0,get:function(){return HX.timeInputToHrTime}});var x05=AW6();Object.defineProperty(x0,"ExportResultCode",{enumerable:!0,get:function(){return x05.ExportResultCode}});var g05=XK1();Object.defineProperty(x0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return g05.parseKeyPairsIntoRecord}});var FB=WK1();Object.defineProperty(x0,"SDK_INFO",{enumerable:!0,get:function(){return FB.SDK_INFO}});Object.defineProperty(x0,"_globalThis",{enumerable:!0,get:function(){return FB._globalThis}});Object.defineProperty(x0,"getStringFromEnv",{enumerable:!0,get:function(){return FB.getStringFromEnv}});Object.defineProperty(x0,"getBooleanFromEnv",{enumerable:!0,get:function(){return FB.getBooleanFromEnv}});Object.defineProperty(x0,"getNumberFromEnv",{enumerable:!0,get:function(){return FB.getNumberFromEnv}});Object.defineProperty(x0,"getStringListFromEnv",{enumerable:!0,get:function(){return FB.getStringListFromEnv}});Object.defineProperty(x0,"otperformance",{enumerable:!0,get:function(){return FB.otperformance}});Object.defineProperty(x0,"unrefTimer",{enumerable:!0,get:function(){return FB.unrefTimer}});var d05=CW6();Object.defineProperty(x0,"CompositePropagator",{enumerable:!0,get:function(){return d05.CompositePropagator}});var wu=gW6();Object.defineProperty(x0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return wu.TRACE_PARENT_HEADER}});Object.defineProperty(x0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return wu.TRACE_STATE_HEADER}});Object.defineProperty(x0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return wu.W3CTraceContextPropagator}});Object.defineProperty(x0,"parseTraceParent",{enumerable:!0,get:function(){return wu.parseTraceParent}});var Au=cW6();Object.defineProperty(x0,"RPCType",{enumerable:!0,get:function(){return Au.RPCType}});Object.defineProperty(x0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Au.deleteRPCMetadata}});Object.defineProperty(x0,"getRPCMetadata",{enumerable:!0,get:function(){return Au.getRPCMetadata}});Object.defineProperty(x0,"setRPCMetadata",{enumerable:!0,get:function(){return Au.setRPCMetadata}});var DK1=Xj();Object.defineProperty(x0,"isTracingSuppressed",{enumerable:!0,get:function(){return DK1.isTracingSuppressed}});Object.defineProperty(x0,"suppressTracing",{enumerable:!0,get:function(){return DK1.suppressTracing}});Object.defineProperty(x0,"unsuppressTracing",{enumerable:!0,get:function(){return DK1.unsuppressTracing}});var u05=FK1();Object.defineProperty(x0,"TraceState",{enumerable:!0,get:function(){return u05.TraceState}});var m05=YQ6();Object.defineProperty(x0,"merge",{enumerable:!0,get:function(){return m05.merge}});var SQ6=WQ6();Object.defineProperty(x0,"TimeoutError",{enumerable:!0,get:function(){return SQ6.TimeoutError}});Object.defineProperty(x0,"callWithTimeout",{enumerable:!0,get:function(){return SQ6.callWithTimeout}});var TQ6=qQ6();Object.defineProperty(x0,"isUrlIgnored",{enumerable:!0,get:function(){return TQ6.isUrlIgnored}});Object.defineProperty(x0,"urlMatches",{enumerable:!0,get:function(){return TQ6.urlMatches}});var c05=IQ6();Object.defineProperty(x0,"BindOnceFuture",{enumerable:!0,get:function(){return c05.BindOnceFuture}});var l05=NQ6();Object.defineProperty(x0,"diagLogLevelFromString",{enumerable:!0,get:function(){return l05.diagLogLevelFromString}});var p05=jQ6();x0.internal={_export:p05._export}});var hQ6=B((kQ6)=>{Object.defineProperty(kQ6,"__esModule",{value:!0});kQ6.createLoggingPartialSuccessResponseHandler=void 0;var n05=C();function i05(J){return Object.prototype.hasOwnProperty.call(J,"partialSuccess")}function o05(){return{handleResponse(J){if(J==null||!i05(J)||J.partialSuccess==null||Object.keys(J.partialSuccess).length===0)return;n05.diag.warn("Received Partial Success response:",JSON.stringify(J.partialSuccess))}}}kQ6.createLoggingPartialSuccessResponseHandler=o05});var IK1=B((vQ6)=>{Object.defineProperty(vQ6,"__esModule",{value:!0});vQ6.createOtlpExportDelegate=void 0;var IO=VK1(),_Q6=Ku(),s05=hQ6(),a05=C();class yQ6{_transport;_serializer;_responseHandler;_promiseQueue;_timeout;_diagLogger;constructor(J,Z,X,Y,$){this._transport=J,this._serializer=Z,this._responseHandler=X,this._promiseQueue=Y,this._timeout=$,this._diagLogger=a05.diag.createComponentLogger({namespace:"OTLPExportDelegate"})}export(J,Z){if(this._diagLogger.debug("items to be sent",J),this._promiseQueue.hasReachedLimit()){Z({code:IO.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}let X=this._serializer.serializeRequest(J);if(X==null){Z({code:IO.ExportResultCode.FAILED,error:new Error("Nothing to send")});return}this._promiseQueue.pushPromise(this._transport.send(X,this._timeout).then((Y)=>{if(Y.status==="success"){if(Y.data!=null)try{this._responseHandler.handleResponse(this._serializer.deserializeResponse(Y.data))}catch($){this._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",$,Y.data)}Z({code:IO.ExportResultCode.SUCCESS});return}else if(Y.status==="failure"&&Y.error){Z({code:IO.ExportResultCode.FAILED,error:Y.error});return}else if(Y.status==="retryable")Z({code:IO.ExportResultCode.FAILED,error:new _Q6.OTLPExporterError("Export failed with retryable status")});else Z({code:IO.ExportResultCode.FAILED,error:new _Q6.OTLPExporterError("Export failed with unknown error")})},(Y)=>Z({code:IO.ExportResultCode.FAILED,error:Y})))}forceFlush(){return this._promiseQueue.awaitAll()}async shutdown(){this._diagLogger.debug("shutdown started"),await this.forceFlush(),this._transport.shutdown()}}function r05(J,Z){return new yQ6(J.transport,J.serializer,(0,s05.createLoggingPartialSuccessResponseHandler)(),J.promiseHandler,Z.timeout)}vQ6.createOtlpExportDelegate=r05});var uQ6=B((gQ6)=>{Object.defineProperty(gQ6,"__esModule",{value:!0});gQ6.createOtlpNetworkExportDelegate=void 0;var t05=eG1(),e05=IK1();function J65(J,Z,X){return(0,e05.createOtlpExportDelegate)({transport:X,serializer:Z,promiseHandler:(0,t05.createBoundedQueueExportPromiseHandler)(J)},{timeout:J.timeoutMillis})}gQ6.createOtlpNetworkExportDelegate=J65});var fJ=B((UB)=>{Object.defineProperty(UB,"__esModule",{value:!0});UB.createOtlpNetworkExportDelegate=UB.CompressionAlgorithm=UB.getSharedConfigurationDefaults=UB.mergeOtlpSharedConfigurationWithDefaults=UB.OTLPExporterError=UB.OTLPExporterBase=void 0;var Z65=Xz6();Object.defineProperty(UB,"OTLPExporterBase",{enumerable:!0,get:function(){return Z65.OTLPExporterBase}});var X65=Ku();Object.defineProperty(UB,"OTLPExporterError",{enumerable:!0,get:function(){return X65.OTLPExporterError}});var mQ6=Zj();Object.defineProperty(UB,"mergeOtlpSharedConfigurationWithDefaults",{enumerable:!0,get:function(){return mQ6.mergeOtlpSharedConfigurationWithDefaults}});Object.defineProperty(UB,"getSharedConfigurationDefaults",{enumerable:!0,get:function(){return mQ6.getSharedConfigurationDefaults}});var Y65=qz6();Object.defineProperty(UB,"CompressionAlgorithm",{enumerable:!0,get:function(){return Y65.CompressionAlgorithm}});var $65=uQ6();Object.defineProperty(UB,"createOtlpNetworkExportDelegate",{enumerable:!0,get:function(){return $65.createOtlpNetworkExportDelegate}})});var qG6=B((GG6)=>{Object.defineProperty(GG6,"__esModule",{value:!0});GG6.parseRetryAfterToMills=GG6.isExportRetryable=void 0;function u65(J){return[429,502,503,504].includes(J)}GG6.isExportRetryable=u65;function m65(J){if(J==null)return;let Z=Number.parseInt(J,10);if(Number.isInteger(Z))return Z>0?Z*1000:-1;let X=new Date(J).getTime()-Date.now();if(X>=0)return X;return 0}GG6.parseRetryAfterToMills=m65});var VG6=B((OG6)=>{Object.defineProperty(OG6,"__esModule",{value:!0});OG6.createHttpAgent=OG6.compressAndSend=OG6.sendWithHttp=void 0;var HG6=p("http"),FG6=p("https"),l65=p("zlib"),p65=p("stream"),BG6=qG6(),n65=Ku();function i65(J,Z,X,Y,$){let z=new URL(J.url),W=Number(process.versions.node.split(".")[0]),Q={hostname:z.hostname,port:z.port,path:z.pathname,method:"POST",headers:{...J.headers()},agent:Z},K=(z.protocol==="http:"?HG6.request:FG6.request)(Q,(H)=>{let F=[];H.on("data",(U)=>F.push(U)),H.on("end",()=>{if(H.statusCode&&H.statusCode<299)Y({status:"success",data:Buffer.concat(F)});else if(H.statusCode&&(0,BG6.isExportRetryable)(H.statusCode))Y({status:"retryable",retryInMillis:(0,BG6.parseRetryAfterToMills)(H.headers["retry-after"])});else{let U=new n65.OTLPExporterError(H.statusMessage,H.statusCode,Buffer.concat(F).toString());Y({status:"failure",error:U})}})});K.setTimeout($,()=>{K.destroy(),Y({status:"failure",error:new Error("Request Timeout")})}),K.on("error",(H)=>{Y({status:"failure",error:H})});let q=W>=14?"close":"abort";K.on(q,()=>{Y({status:"failure",error:new Error("Request timed out")})}),UG6(K,J.compression,X,(H)=>{Y({status:"failure",error:H})})}OG6.sendWithHttp=i65;function UG6(J,Z,X,Y){let $=o65(X);if(Z==="gzip")J.setHeader("Content-Encoding","gzip"),$=$.on("error",Y).pipe(l65.createGzip()).on("error",Y);$.pipe(J).on("error",Y)}OG6.compressAndSend=UG6;function o65(J){let Z=new p65.Readable;return Z.push(J),Z.push(null),Z}function s65(J,Z){return new(new URL(J).protocol==="http:"?HG6.Agent:FG6.Agent)(Z)}OG6.createHttpAgent=s65});var MG6=B((wG6)=>{Object.defineProperty(wG6,"__esModule",{value:!0});wG6.createHttpExporterTransport=void 0;class IG6{_parameters;_utils=null;constructor(J){this._parameters=J}async send(J,Z){let{agent:X,send:Y}=this._loadUtils();return new Promise(($)=>{Y(this._parameters,X,J,(z)=>{$(z)},Z)})}shutdown(){}_loadUtils(){let J=this._utils;if(J===null){let{sendWithHttp:Z,createHttpAgent:X}=VG6();J=this._utils={agent:X(this._parameters.url,this._parameters.agentOptions),send:Z}}return J}}function t65(J){return new IG6(J)}wG6.createHttpExporterTransport=t65});var jG6=B((LG6)=>{Object.defineProperty(LG6,"__esModule",{value:!0});LG6.createRetryingTransport=void 0;var e65=5,J45=1000,Z45=5000,X45=1.5,NG6=0.2;function Y45(){return Math.random()*(2*NG6)-NG6}class PG6{_transport;constructor(J){this._transport=J}retry(J,Z,X){return new Promise((Y,$)=>{setTimeout(()=>{this._transport.send(J,Z).then(Y,$)},X)})}async send(J,Z){let X=Date.now()+Z,Y=await this._transport.send(J,Z),$=e65,z=J45;while(Y.status==="retryable"&&$>0){$--;let W=Math.max(Math.min(z,Z45)+Y45(),0);z=z*X45;let Q=Y.retryInMillis??W,G=X-Date.now();if(Q>G)return Y;Y=await this.retry(J,G,Q)}return Y}shutdown(){return this._transport.shutdown()}}function $45(J){return new PG6(J.transport)}LG6.createRetryingTransport=$45});var SG6=B((RG6)=>{Object.defineProperty(RG6,"__esModule",{value:!0});RG6.createOtlpHttpExportDelegate=void 0;var z45=IK1(),W45=MG6(),Q45=eG1(),G45=jG6();function K45(J,Z){return(0,z45.createOtlpExportDelegate)({transport:(0,G45.createRetryingTransport)({transport:(0,W45.createHttpExporterTransport)(J)}),serializer:Z,promiseHandler:(0,Q45.createBoundedQueueExportPromiseHandler)(J)},{timeout:J.timeoutMillis})}RG6.createOtlpHttpExportDelegate=K45});var jK1=B((bG6)=>{Object.defineProperty(bG6,"__esModule",{value:!0});bG6.getSharedConfigurationFromEnvironment=void 0;var kG6=C();function TG6(J){let Z=process.env[J]?.trim();if(Z!=null&&Z!==""){let X=Number(Z);if(Number.isFinite(X)&&X>0)return X;kG6.diag.warn(`Configuration: ${J} is invalid, expected number greater than 0 (actual: ${Z})`)}return}function q45(J){let Z=TG6(`OTEL_EXPORTER_OTLP_${J}_TIMEOUT`),X=TG6("OTEL_EXPORTER_OTLP_TIMEOUT");return Z??X}function fG6(J){let Z=process.env[J]?.trim();if(Z==="")return;if(Z==null||Z==="none"||Z==="gzip")return Z;kG6.diag.warn(`Configuration: ${J} is invalid, expected 'none' or 'gzip' (actual: '${Z}')`);return}function B45(J){let Z=fG6(`OTEL_EXPORTER_OTLP_${J}_COMPRESSION`),X=fG6("OTEL_EXPORTER_OTLP_COMPRESSION");return Z??X}function H45(J){return{timeoutMillis:q45(J),compression:B45(J)}}bG6.getSharedConfigurationFromEnvironment=H45});var vG6=B((_G6)=>{Object.defineProperty(_G6,"__esModule",{value:!0});_G6.validateAndNormalizeHeaders=void 0;var F45=C();function U45(J){return()=>{let Z={};return Object.entries(J?.()??{}).forEach(([X,Y])=>{if(typeof Y!=="undefined")Z[X]=String(Y);else F45.diag.warn(`Header "${X}" has invalid value (${Y}) and will be ignored`)}),Z}}_G6.validateAndNormalizeHeaders=U45});var uG6=B((gG6)=>{Object.defineProperty(gG6,"__esModule",{value:!0});gG6.getHttpConfigurationDefaults=gG6.mergeOtlpHttpConfigurationWithDefaults=void 0;var xG6=Zj(),O45=vG6();function D45(J,Z,X){let Y={...X()},$={};return()=>{if(Z!=null)Object.assign($,Z());if(J!=null)Object.assign($,J());return Object.assign($,Y)}}function V45(J){if(J==null)return;try{return new URL(J),J}catch(Z){throw new Error(`Configuration: Could not parse user-provided export URL: '${J}'`)}}function I45(J,Z,X){return{...(0,xG6.mergeOtlpSharedConfigurationWithDefaults)(J,Z,X),headers:D45((0,O45.validateAndNormalizeHeaders)(J.headers),Z.headers,X.headers),url:V45(J.url)??Z.url??X.url,agentOptions:J.agentOptions??Z.agentOptions??X.agentOptions}}gG6.mergeOtlpHttpConfigurationWithDefaults=I45;function w45(J,Z){return{...(0,xG6.getSharedConfigurationDefaults)(),headers:()=>J,url:"http://localhost:4318/"+Z,agentOptions:{keepAlive:!0}}}gG6.getHttpConfigurationDefaults=w45});var lG6=B((mG6)=>{Object.defineProperty(mG6,"__esModule",{value:!0});mG6.getHttpConfigurationFromEnvironment=void 0;var ku=VK1(),RK1=C(),M45=jK1(),N45=Zj();function P45(J){let Z=process.env[`OTEL_EXPORTER_OTLP_${J}_HEADERS`]?.trim(),X=process.env.OTEL_EXPORTER_OTLP_HEADERS?.trim(),Y=(0,ku.parseKeyPairsIntoRecord)(Z),$=(0,ku.parseKeyPairsIntoRecord)(X);if(Object.keys(Y).length===0&&Object.keys($).length===0)return;return Object.assign({},(0,ku.parseKeyPairsIntoRecord)(X),(0,ku.parseKeyPairsIntoRecord)(Z))}function L45(J){try{return new URL(J).toString()}catch{RK1.diag.warn(`Configuration: Could not parse environment-provided export URL: '${J}', falling back to undefined`);return}}function C45(J,Z){try{new URL(J)}catch{RK1.diag.warn(`Configuration: Could not parse environment-provided export URL: '${J}', falling back to undefined`);return}if(!J.endsWith("/"))J=J+"/";J+=Z;try{new URL(J)}catch{RK1.diag.warn(`Configuration: Provided URL appended with '${Z}' is not a valid URL, using 'undefined' instead of '${J}'`);return}return J}function j45(J){let Z=process.env.OTEL_EXPORTER_OTLP_ENDPOINT?.trim();if(Z==null||Z==="")return;return C45(Z,J)}function R45(J){let Z=process.env[`OTEL_EXPORTER_OTLP_${J}_ENDPOINT`]?.trim();if(Z==null||Z==="")return;return L45(Z)}function E45(J,Z){return{...(0,M45.getSharedConfigurationFromEnvironment)(J),url:R45(J)??j45(Z),headers:(0,N45.wrapStaticHeadersInFunction)(P45(J))}}mG6.getHttpConfigurationFromEnvironment=E45});var oG6=B((nG6)=>{Object.defineProperty(nG6,"__esModule",{value:!0});nG6.convertLegacyHttpOptions=void 0;var pG6=uG6(),S45=lG6(),T45=C(),f45=Zj();function k45(J){if(J?.keepAlive!=null)if(J.httpAgentOptions!=null){if(J.httpAgentOptions.keepAlive==null)J.httpAgentOptions.keepAlive=J.keepAlive}else J.httpAgentOptions={keepAlive:J.keepAlive};return J.httpAgentOptions}function b45(J,Z,X,Y){if(J.metadata)T45.diag.warn("Metadata cannot be set when using http");return(0,pG6.mergeOtlpHttpConfigurationWithDefaults)({url:J.url,headers:(0,f45.wrapStaticHeadersInFunction)(J.headers),concurrencyLimit:J.concurrencyLimit,timeoutMillis:J.timeoutMillis,compression:J.compression,agentOptions:k45(J)},(0,S45.getHttpConfigurationFromEnvironment)(Z,X),(0,pG6.getHttpConfigurationDefaults)(Y,X))}nG6.convertLegacyHttpOptions=b45});var xY=B((Kj)=>{Object.defineProperty(Kj,"__esModule",{value:!0});Kj.convertLegacyHttpOptions=Kj.getSharedConfigurationFromEnvironment=Kj.createOtlpHttpExportDelegate=void 0;var h45=SG6();Object.defineProperty(Kj,"createOtlpHttpExportDelegate",{enumerable:!0,get:function(){return h45.createOtlpHttpExportDelegate}});var _45=jK1();Object.defineProperty(Kj,"getSharedConfigurationFromEnvironment",{enumerable:!0,get:function(){return _45.getSharedConfigurationFromEnvironment}});var y45=oG6();Object.defineProperty(Kj,"convertLegacyHttpOptions",{enumerable:!0,get:function(){return y45.convertLegacyHttpOptions}})});var Dj=B((IK6)=>{Object.defineProperty(IK6,"__esModule",{value:!0});IK6.isTracingSuppressed=IK6.unsuppressTracing=IK6.suppressTracing=void 0;var N85=C(),yK1=(0,N85.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function P85(J){return J.setValue(yK1,!0)}IK6.suppressTracing=P85;function L85(J){return J.deleteValue(yK1)}IK6.unsuppressTracing=L85;function C85(J){return J.getValue(yK1)===!0}IK6.isTracingSuppressed=C85});var vK1=B((AK6)=>{Object.defineProperty(AK6,"__esModule",{value:!0});AK6.BAGGAGE_MAX_TOTAL_LENGTH=AK6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=AK6.BAGGAGE_MAX_NAME_VALUE_PAIRS=AK6.BAGGAGE_HEADER=AK6.BAGGAGE_ITEMS_SEPARATOR=AK6.BAGGAGE_PROPERTIES_SEPARATOR=AK6.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;AK6.BAGGAGE_KEY_PAIR_SEPARATOR="=";AK6.BAGGAGE_PROPERTIES_SEPARATOR=";";AK6.BAGGAGE_ITEMS_SEPARATOR=",";AK6.BAGGAGE_HEADER="baggage";AK6.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;AK6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;AK6.BAGGAGE_MAX_TOTAL_LENGTH=8192});var xK1=B((PK6)=>{Object.defineProperty(PK6,"__esModule",{value:!0});PK6.parseKeyPairsIntoRecord=PK6.parsePairKeyValue=PK6.getKeyPairs=PK6.serializeKeyPairs=void 0;var h85=C(),AO=vK1();function _85(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?AO.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>AO.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}PK6.serializeKeyPairs=_85;function y85(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=AO.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}PK6.getKeyPairs=y85;function NK6(J){let Z=J.split(AO.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(AO.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,h85.baggageEntryMetadataFromString)(Z.join(AO.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}PK6.parsePairKeyValue=NK6;function v85(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(AO.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=NK6(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}PK6.parseKeyPairsIntoRecord=v85});var EK6=B((jK6)=>{Object.defineProperty(jK6,"__esModule",{value:!0});jK6.W3CBaggagePropagator=void 0;var gK1=C(),u85=Dj(),MO=vK1(),dK1=xK1();class CK6{inject(J,Z,X){let Y=gK1.propagation.getBaggage(J);if(!Y||(0,u85.isTracingSuppressed)(J))return;let $=(0,dK1.getKeyPairs)(Y).filter((W)=>{return W.length<=MO.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,MO.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,dK1.serializeKeyPairs)($);if(z.length>0)X.set(Z,MO.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,MO.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(MO.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(MO.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,dK1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return gK1.propagation.setBaggage(J,gK1.propagation.createBaggage(z))}fields(){return[MO.BAGGAGE_HEADER]}}jK6.W3CBaggagePropagator=CK6});var kK6=B((TK6)=>{Object.defineProperty(TK6,"__esModule",{value:!0});TK6.AnchoredClock=void 0;class SK6{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}TK6.AnchoredClock=SK6});var gK6=B((vK6)=>{Object.defineProperty(vK6,"__esModule",{value:!0});vK6.isAttributeValue=vK6.isAttributeKey=vK6.sanitizeAttributes=void 0;var bK6=C();function m85(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!hK6(X)){bK6.diag.warn(`Invalid attribute key: ${X}`);continue}if(!_K6(Y)){bK6.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}vK6.sanitizeAttributes=m85;function hK6(J){return typeof J==="string"&&J.length>0}vK6.isAttributeKey=hK6;function _K6(J){if(J==null)return!0;if(Array.isArray(J))return c85(J);return yK6(J)}vK6.isAttributeValue=_K6;function c85(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(yK6(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function yK6(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var uK1=B((dK6)=>{Object.defineProperty(dK6,"__esModule",{value:!0});dK6.loggingErrorHandler=void 0;var n85=C();function i85(){return(J)=>{n85.diag.error(o85(J))}}dK6.loggingErrorHandler=i85;function o85(J){if(typeof J==="string")return J;else return JSON.stringify(s85(J))}function s85(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var pK6=B((cK6)=>{Object.defineProperty(cK6,"__esModule",{value:!0});cK6.globalErrorHandler=cK6.setGlobalErrorHandler=void 0;var a85=uK1(),mK6=(0,a85.loggingErrorHandler)();function r85(J){mK6=J}cK6.setGlobalErrorHandler=r85;function t85(J){try{mK6(J)}catch{}}cK6.globalErrorHandler=t85});var rK6=B((sK6)=>{Object.defineProperty(sK6,"__esModule",{value:!0});sK6.getStringListFromEnv=sK6.getBooleanFromEnv=sK6.getStringFromEnv=sK6.getNumberFromEnv=void 0;var nK6=C(),iK6=p("util");function J55(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){nK6.diag.warn(`Unknown value ${(0,iK6.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}sK6.getNumberFromEnv=J55;function oK6(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}sK6.getStringFromEnv=oK6;function Z55(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return nK6.diag.warn(`Unknown value ${(0,iK6.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}sK6.getBooleanFromEnv=Z55;function X55(J){return oK6(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}sK6.getStringListFromEnv=X55});var J36=B((tK6)=>{Object.defineProperty(tK6,"__esModule",{value:!0});tK6._globalThis=void 0;tK6._globalThis=typeof globalThis==="object"?globalThis:global});var Y36=B((Z36)=>{Object.defineProperty(Z36,"__esModule",{value:!0});Z36.otperformance=void 0;var W55=p("perf_hooks");Z36.otperformance=W55.performance});var W36=B(($36)=>{Object.defineProperty($36,"__esModule",{value:!0});$36.VERSION=void 0;$36.VERSION="2.0.1"});var K36=B((Q36)=>{Object.defineProperty(Q36,"__esModule",{value:!0});Q36.ATTR_PROCESS_RUNTIME_NAME=void 0;Q36.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var H36=B((q36)=>{Object.defineProperty(q36,"__esModule",{value:!0});q36.SDK_INFO=void 0;var Q55=W36(),vu=j1(),G55=K36();q36.SDK_INFO={[vu.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[G55.ATTR_PROCESS_RUNTIME_NAME]:"node",[vu.ATTR_TELEMETRY_SDK_LANGUAGE]:vu.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[vu.ATTR_TELEMETRY_SDK_VERSION]:Q55.VERSION}});var O36=B((F36)=>{Object.defineProperty(F36,"__esModule",{value:!0});F36.unrefTimer=void 0;function K55(J){J.unref()}F36.unrefTimer=K55});var D36=B((sz)=>{Object.defineProperty(sz,"__esModule",{value:!0});sz.unrefTimer=sz.SDK_INFO=sz.otperformance=sz._globalThis=sz.getStringListFromEnv=sz.getNumberFromEnv=sz.getBooleanFromEnv=sz.getStringFromEnv=void 0;var xu=rK6();Object.defineProperty(sz,"getStringFromEnv",{enumerable:!0,get:function(){return xu.getStringFromEnv}});Object.defineProperty(sz,"getBooleanFromEnv",{enumerable:!0,get:function(){return xu.getBooleanFromEnv}});Object.defineProperty(sz,"getNumberFromEnv",{enumerable:!0,get:function(){return xu.getNumberFromEnv}});Object.defineProperty(sz,"getStringListFromEnv",{enumerable:!0,get:function(){return xu.getStringListFromEnv}});var q55=J36();Object.defineProperty(sz,"_globalThis",{enumerable:!0,get:function(){return q55._globalThis}});var B55=Y36();Object.defineProperty(sz,"otperformance",{enumerable:!0,get:function(){return B55.otperformance}});var H55=H36();Object.defineProperty(sz,"SDK_INFO",{enumerable:!0,get:function(){return H55.SDK_INFO}});var F55=O36();Object.defineProperty(sz,"unrefTimer",{enumerable:!0,get:function(){return F55.unrefTimer}})});var mK1=B((az)=>{Object.defineProperty(az,"__esModule",{value:!0});az.getStringListFromEnv=az.getNumberFromEnv=az.getStringFromEnv=az.getBooleanFromEnv=az.unrefTimer=az.otperformance=az._globalThis=az.SDK_INFO=void 0;var DB=D36();Object.defineProperty(az,"SDK_INFO",{enumerable:!0,get:function(){return DB.SDK_INFO}});Object.defineProperty(az,"_globalThis",{enumerable:!0,get:function(){return DB._globalThis}});Object.defineProperty(az,"otperformance",{enumerable:!0,get:function(){return DB.otperformance}});Object.defineProperty(az,"unrefTimer",{enumerable:!0,get:function(){return DB.unrefTimer}});Object.defineProperty(az,"getBooleanFromEnv",{enumerable:!0,get:function(){return DB.getBooleanFromEnv}});Object.defineProperty(az,"getStringFromEnv",{enumerable:!0,get:function(){return DB.getStringFromEnv}});Object.defineProperty(az,"getNumberFromEnv",{enumerable:!0,get:function(){return DB.getNumberFromEnv}});Object.defineProperty(az,"getStringListFromEnv",{enumerable:!0,get:function(){return DB.getStringListFromEnv}})});var N36=B((A36)=>{Object.defineProperty(A36,"__esModule",{value:!0});A36.addHrTimes=A36.isTimeInput=A36.isTimeInputHrTime=A36.hrTimeToMicroseconds=A36.hrTimeToMilliseconds=A36.hrTimeToNanoseconds=A36.hrTimeToTimeStamp=A36.hrTimeDuration=A36.timeInputToHrTime=A36.hrTime=A36.getTimeOrigin=A36.millisToHrTime=void 0;var cK1=mK1(),V36=9,D55=6,V55=Math.pow(10,D55),gu=Math.pow(10,V36);function Vj(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*V55);return[X,Y]}A36.millisToHrTime=Vj;function lK1(){let J=cK1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=cK1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}A36.getTimeOrigin=lK1;function I36(J){let Z=Vj(lK1()),X=Vj(typeof J==="number"?J:cK1.otperformance.now());return w36(Z,X)}A36.hrTime=I36;function I55(J){if(pK1(J))return J;else if(typeof J==="number")if(J<lK1())return I36(J);else return Vj(J);else if(J instanceof Date)return Vj(J.getTime());else throw TypeError("Invalid input type")}A36.timeInputToHrTime=I55;function w55(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=gu;return[X,Y]}A36.hrTimeDuration=w55;function A55(J){let Z=V36,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}A36.hrTimeToTimeStamp=A55;function M55(J){return J[0]*gu+J[1]}A36.hrTimeToNanoseconds=M55;function N55(J){return J[0]*1000+J[1]/1e6}A36.hrTimeToMilliseconds=N55;function P55(J){return J[0]*1e6+J[1]/1000}A36.hrTimeToMicroseconds=P55;function pK1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}A36.isTimeInputHrTime=pK1;function L55(J){return pK1(J)||typeof J==="number"||J instanceof Date}A36.isTimeInput=L55;function w36(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=gu)X[1]-=gu,X[0]+=1;return X}A36.addHrTimes=w36});var L36=B((P36)=>{Object.defineProperty(P36,"__esModule",{value:!0});P36.ExportResultCode=void 0;var y55;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(y55=P36.ExportResultCode||(P36.ExportResultCode={}))});var S36=B((R36)=>{Object.defineProperty(R36,"__esModule",{value:!0});R36.CompositePropagator=void 0;var C36=C();class j36{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){C36.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){C36.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}R36.CompositePropagator=j36});var k36=B((T36)=>{Object.defineProperty(T36,"__esModule",{value:!0});T36.validateValue=T36.validateKey=void 0;var iK1="[_0-9a-z-*/]",v55=`[a-z]${iK1}{0,255}`,x55=`[a-z0-9]${iK1}{0,240}@[a-z]${iK1}{0,13}`,g55=new RegExp(`^(?:${v55}|${x55})$`),d55=/^[ -~]{0,255}[!-~]$/,u55=/,|=/;function m55(J){return g55.test(J)}T36.validateKey=m55;function c55(J){return d55.test(J)&&!u55.test(J)}T36.validateValue=c55});var sK1=B((v36)=>{Object.defineProperty(v36,"__esModule",{value:!0});v36.TraceState=void 0;var b36=k36(),h36=32,p55=512,_36=",",y36="=";class oK1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+y36+this.get(Z)),J},[]).join(_36)}_parse(J){if(J.length>p55)return;if(this._internalState=J.split(_36).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(y36);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,b36.validateKey)(z)&&(0,b36.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>h36)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,h36))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new oK1;return J._internalState=new Map(this._internalState),J}}v36.TraceState=oK1});var c36=B((u36)=>{Object.defineProperty(u36,"__esModule",{value:!0});u36.W3CTraceContextPropagator=u36.parseTraceParent=u36.TRACE_STATE_HEADER=u36.TRACE_PARENT_HEADER=void 0;var du=C(),n55=Dj(),i55=sK1();u36.TRACE_PARENT_HEADER="traceparent";u36.TRACE_STATE_HEADER="tracestate";var o55="00",s55="(?!ff)[\\da-f]{2}",a55="(?![0]{32})[\\da-f]{32}",r55="(?![0]{16})[\\da-f]{16}",t55="[\\da-f]{2}",e55=new RegExp(`^\\s?(${s55})-(${a55})-(${r55})-(${t55})(-.*)?\\s?$`);function g36(J){let Z=e55.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}u36.parseTraceParent=g36;class d36{inject(J,Z,X){let Y=du.trace.getSpanContext(J);if(!Y||(0,n55.isTracingSuppressed)(J)||!(0,du.isSpanContextValid)(Y))return;let $=`${o55}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||du.TraceFlags.NONE).toString(16)}`;if(X.set(Z,u36.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,u36.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,u36.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=g36($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,u36.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new i55.TraceState(typeof Q==="string"?Q:void 0)}return du.trace.setSpanContext(J,z)}fields(){return[u36.TRACE_PARENT_HEADER,u36.TRACE_STATE_HEADER]}}u36.W3CTraceContextPropagator=d36});var i36=B((p36)=>{Object.defineProperty(p36,"__esModule",{value:!0});p36.getRPCMetadata=p36.deleteRPCMetadata=p36.setRPCMetadata=p36.RPCType=void 0;var Z95=C(),aK1=(0,Z95.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),X95;(function(J){J.HTTP="http"})(X95=p36.RPCType||(p36.RPCType={}));function Y95(J,Z){return J.setValue(aK1,Z)}p36.setRPCMetadata=Y95;function $95(J){return J.deleteValue(aK1)}p36.deleteRPCMetadata=$95;function z95(J){return J.getValue(aK1)}p36.getRPCMetadata=z95});var Jq6=B((t36)=>{Object.defineProperty(t36,"__esModule",{value:!0});t36.isPlainObject=void 0;var G95="[object Object]",K95="[object Null]",q95="[object Undefined]",B95=Function.prototype,o36=B95.toString,H95=o36.call(Object),F95=Object.getPrototypeOf,s36=Object.prototype,a36=s36.hasOwnProperty,NO=Symbol?Symbol.toStringTag:void 0,r36=s36.toString;function U95(J){if(!O95(J)||D95(J)!==G95)return!1;let Z=F95(J);if(Z===null)return!0;let X=a36.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&o36.call(X)===H95}t36.isPlainObject=U95;function O95(J){return J!=null&&typeof J=="object"}function D95(J){if(J==null)return J===void 0?q95:K95;return NO&&NO in Object(J)?V95(J):I95(J)}function V95(J){let Z=a36.call(J,NO),X=J[NO],Y=!1;try{J[NO]=void 0,Y=!0}catch(z){}let $=r36.call(J);if(Y)if(Z)J[NO]=X;else delete J[NO];return $}function I95(J){return r36.call(J)}});var Qq6=B((zq6)=>{Object.defineProperty(zq6,"__esModule",{value:!0});zq6.merge=void 0;var Zq6=Jq6(),w95=20;function A95(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=Yq6(Z,J.shift(),0,X);return Z}zq6.merge=A95;function rK1(J){if(lu(J))return J.slice();return J}function Yq6(J,Z,X=0,Y){let $;if(X>w95)return;if(X++,cu(J)||cu(Z)||$q6(Z))$=rK1(Z);else if(lu(J)){if($=J.slice(),lu(Z))for(let z=0,W=Z.length;z<W;z++)$.push(rK1(Z[z]));else if(Ij(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=rK1(Z[G])}}}else if(Ij(J))if(Ij(Z)){if(!M95(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(cu(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(Xq6(J,G,Y)||Xq6(Z,G,Y))delete $[G];else{if(Ij(q)&&Ij(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=Yq6($[G],K,X,Y)}}}}else $=Z;return $}function Xq6(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function lu(J){return Array.isArray(J)}function $q6(J){return typeof J==="function"}function Ij(J){return!cu(J)&&!lu(J)&&!$q6(J)&&typeof J==="object"}function cu(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function M95(J,Z){if(!(0,Zq6.isPlainObject)(J)||!(0,Zq6.isPlainObject)(Z))return!1;return!0}});var qq6=B((Gq6)=>{Object.defineProperty(Gq6,"__esModule",{value:!0});Gq6.callWithTimeout=Gq6.TimeoutError=void 0;class pu extends Error{constructor(J){super(J);Object.setPrototypeOf(this,pu.prototype)}}Gq6.TimeoutError=pu;function N95(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new pu("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}Gq6.callWithTimeout=N95});var Uq6=B((Hq6)=>{Object.defineProperty(Hq6,"__esModule",{value:!0});Hq6.isUrlIgnored=Hq6.urlMatches=void 0;function Bq6(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}Hq6.urlMatches=Bq6;function L95(J,Z){if(!Z)return!1;for(let X of Z)if(Bq6(J,X))return!0;return!1}Hq6.isUrlIgnored=L95});var Iq6=B((Dq6)=>{Object.defineProperty(Dq6,"__esModule",{value:!0});Dq6.Deferred=void 0;class Oq6{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}Dq6.Deferred=Oq6});var Nq6=B((Aq6)=>{Object.defineProperty(Aq6,"__esModule",{value:!0});Aq6.BindOnceFuture=void 0;var j95=Iq6();class wq6{_callback;_that;_isCalled=!1;_deferred=new j95.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}Aq6.BindOnceFuture=wq6});var jq6=B((Lq6)=>{Object.defineProperty(Lq6,"__esModule",{value:!0});Lq6.diagLogLevelFromString=void 0;var cG=C(),Pq6={ALL:cG.DiagLogLevel.ALL,VERBOSE:cG.DiagLogLevel.VERBOSE,DEBUG:cG.DiagLogLevel.DEBUG,INFO:cG.DiagLogLevel.INFO,WARN:cG.DiagLogLevel.WARN,ERROR:cG.DiagLogLevel.ERROR,NONE:cG.DiagLogLevel.NONE};function R95(J){if(J==null)return;let Z=Pq6[J.toUpperCase()];if(Z==null)return cG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(Pq6)}, using default`),cG.DiagLogLevel.INFO;return Z}Lq6.diagLogLevelFromString=R95});var Tq6=B((Eq6)=>{Object.defineProperty(Eq6,"__esModule",{value:!0});Eq6._export=void 0;var Rq6=C(),E95=Dj();function S95(J,Z){return new Promise((X)=>{Rq6.context.with((0,E95.suppressTracing)(Rq6.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}Eq6._export=S95});var Y9=B((g0)=>{Object.defineProperty(g0,"__esModule",{value:!0});g0.internal=g0.diagLogLevelFromString=g0.BindOnceFuture=g0.urlMatches=g0.isUrlIgnored=g0.callWithTimeout=g0.TimeoutError=g0.merge=g0.TraceState=g0.unsuppressTracing=g0.suppressTracing=g0.isTracingSuppressed=g0.setRPCMetadata=g0.getRPCMetadata=g0.deleteRPCMetadata=g0.RPCType=g0.parseTraceParent=g0.W3CTraceContextPropagator=g0.TRACE_STATE_HEADER=g0.TRACE_PARENT_HEADER=g0.CompositePropagator=g0.unrefTimer=g0.otperformance=g0.getStringListFromEnv=g0.getNumberFromEnv=g0.getBooleanFromEnv=g0.getStringFromEnv=g0._globalThis=g0.SDK_INFO=g0.parseKeyPairsIntoRecord=g0.ExportResultCode=g0.timeInputToHrTime=g0.millisToHrTime=g0.isTimeInputHrTime=g0.isTimeInput=g0.hrTimeToTimeStamp=g0.hrTimeToNanoseconds=g0.hrTimeToMilliseconds=g0.hrTimeToMicroseconds=g0.hrTimeDuration=g0.hrTime=g0.getTimeOrigin=g0.addHrTimes=g0.loggingErrorHandler=g0.setGlobalErrorHandler=g0.globalErrorHandler=g0.sanitizeAttributes=g0.isAttributeValue=g0.AnchoredClock=g0.W3CBaggagePropagator=void 0;var T95=EK6();Object.defineProperty(g0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return T95.W3CBaggagePropagator}});var f95=kK6();Object.defineProperty(g0,"AnchoredClock",{enumerable:!0,get:function(){return f95.AnchoredClock}});var fq6=gK6();Object.defineProperty(g0,"isAttributeValue",{enumerable:!0,get:function(){return fq6.isAttributeValue}});Object.defineProperty(g0,"sanitizeAttributes",{enumerable:!0,get:function(){return fq6.sanitizeAttributes}});var kq6=pK6();Object.defineProperty(g0,"globalErrorHandler",{enumerable:!0,get:function(){return kq6.globalErrorHandler}});Object.defineProperty(g0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return kq6.setGlobalErrorHandler}});var k95=uK1();Object.defineProperty(g0,"loggingErrorHandler",{enumerable:!0,get:function(){return k95.loggingErrorHandler}});var FX=N36();Object.defineProperty(g0,"addHrTimes",{enumerable:!0,get:function(){return FX.addHrTimes}});Object.defineProperty(g0,"getTimeOrigin",{enumerable:!0,get:function(){return FX.getTimeOrigin}});Object.defineProperty(g0,"hrTime",{enumerable:!0,get:function(){return FX.hrTime}});Object.defineProperty(g0,"hrTimeDuration",{enumerable:!0,get:function(){return FX.hrTimeDuration}});Object.defineProperty(g0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return FX.hrTimeToMicroseconds}});Object.defineProperty(g0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return FX.hrTimeToMilliseconds}});Object.defineProperty(g0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return FX.hrTimeToNanoseconds}});Object.defineProperty(g0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return FX.hrTimeToTimeStamp}});Object.defineProperty(g0,"isTimeInput",{enumerable:!0,get:function(){return FX.isTimeInput}});Object.defineProperty(g0,"isTimeInputHrTime",{enumerable:!0,get:function(){return FX.isTimeInputHrTime}});Object.defineProperty(g0,"millisToHrTime",{enumerable:!0,get:function(){return FX.millisToHrTime}});Object.defineProperty(g0,"timeInputToHrTime",{enumerable:!0,get:function(){return FX.timeInputToHrTime}});var b95=L36();Object.defineProperty(g0,"ExportResultCode",{enumerable:!0,get:function(){return b95.ExportResultCode}});var h95=xK1();Object.defineProperty(g0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return h95.parseKeyPairsIntoRecord}});var VB=mK1();Object.defineProperty(g0,"SDK_INFO",{enumerable:!0,get:function(){return VB.SDK_INFO}});Object.defineProperty(g0,"_globalThis",{enumerable:!0,get:function(){return VB._globalThis}});Object.defineProperty(g0,"getStringFromEnv",{enumerable:!0,get:function(){return VB.getStringFromEnv}});Object.defineProperty(g0,"getBooleanFromEnv",{enumerable:!0,get:function(){return VB.getBooleanFromEnv}});Object.defineProperty(g0,"getNumberFromEnv",{enumerable:!0,get:function(){return VB.getNumberFromEnv}});Object.defineProperty(g0,"getStringListFromEnv",{enumerable:!0,get:function(){return VB.getStringListFromEnv}});Object.defineProperty(g0,"otperformance",{enumerable:!0,get:function(){return VB.otperformance}});Object.defineProperty(g0,"unrefTimer",{enumerable:!0,get:function(){return VB.unrefTimer}});var _95=S36();Object.defineProperty(g0,"CompositePropagator",{enumerable:!0,get:function(){return _95.CompositePropagator}});var nu=c36();Object.defineProperty(g0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return nu.TRACE_PARENT_HEADER}});Object.defineProperty(g0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return nu.TRACE_STATE_HEADER}});Object.defineProperty(g0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return nu.W3CTraceContextPropagator}});Object.defineProperty(g0,"parseTraceParent",{enumerable:!0,get:function(){return nu.parseTraceParent}});var iu=i36();Object.defineProperty(g0,"RPCType",{enumerable:!0,get:function(){return iu.RPCType}});Object.defineProperty(g0,"deleteRPCMetadata",{enumerable:!0,get:function(){return iu.deleteRPCMetadata}});Object.defineProperty(g0,"getRPCMetadata",{enumerable:!0,get:function(){return iu.getRPCMetadata}});Object.defineProperty(g0,"setRPCMetadata",{enumerable:!0,get:function(){return iu.setRPCMetadata}});var tK1=Dj();Object.defineProperty(g0,"isTracingSuppressed",{enumerable:!0,get:function(){return tK1.isTracingSuppressed}});Object.defineProperty(g0,"suppressTracing",{enumerable:!0,get:function(){return tK1.suppressTracing}});Object.defineProperty(g0,"unsuppressTracing",{enumerable:!0,get:function(){return tK1.unsuppressTracing}});var y95=sK1();Object.defineProperty(g0,"TraceState",{enumerable:!0,get:function(){return y95.TraceState}});var v95=Qq6();Object.defineProperty(g0,"merge",{enumerable:!0,get:function(){return v95.merge}});var bq6=qq6();Object.defineProperty(g0,"TimeoutError",{enumerable:!0,get:function(){return bq6.TimeoutError}});Object.defineProperty(g0,"callWithTimeout",{enumerable:!0,get:function(){return bq6.callWithTimeout}});var hq6=Uq6();Object.defineProperty(g0,"isUrlIgnored",{enumerable:!0,get:function(){return hq6.isUrlIgnored}});Object.defineProperty(g0,"urlMatches",{enumerable:!0,get:function(){return hq6.urlMatches}});var x95=Nq6();Object.defineProperty(g0,"BindOnceFuture",{enumerable:!0,get:function(){return x95.BindOnceFuture}});var g95=jq6();Object.defineProperty(g0,"diagLogLevelFromString",{enumerable:!0,get:function(){return g95.diagLogLevelFromString}});var d95=Tq6();g0.internal={_export:d95._export}});var vq6=B((yq6)=>{Object.defineProperty(yq6,"__esModule",{value:!0});yq6.SeverityNumber=void 0;var u95;(function(J){J[J.UNSPECIFIED=0]="UNSPECIFIED",J[J.TRACE=1]="TRACE",J[J.TRACE2=2]="TRACE2",J[J.TRACE3=3]="TRACE3",J[J.TRACE4=4]="TRACE4",J[J.DEBUG=5]="DEBUG",J[J.DEBUG2=6]="DEBUG2",J[J.DEBUG3=7]="DEBUG3",J[J.DEBUG4=8]="DEBUG4",J[J.INFO=9]="INFO",J[J.INFO2=10]="INFO2",J[J.INFO3=11]="INFO3",J[J.INFO4=12]="INFO4",J[J.WARN=13]="WARN",J[J.WARN2=14]="WARN2",J[J.WARN3=15]="WARN3",J[J.WARN4=16]="WARN4",J[J.ERROR=17]="ERROR",J[J.ERROR2=18]="ERROR2",J[J.ERROR3=19]="ERROR3",J[J.ERROR4=20]="ERROR4",J[J.FATAL=21]="FATAL",J[J.FATAL2=22]="FATAL2",J[J.FATAL3=23]="FATAL3",J[J.FATAL4=24]="FATAL4"})(u95=yq6.SeverityNumber||(yq6.SeverityNumber={}))});var ou=B((xq6)=>{Object.defineProperty(xq6,"__esModule",{value:!0});xq6.NOOP_LOGGER=xq6.NoopLogger=void 0;class J31{emit(J){}}xq6.NoopLogger=J31;xq6.NOOP_LOGGER=new J31});var su=B((dq6)=>{Object.defineProperty(dq6,"__esModule",{value:!0});dq6.NOOP_LOGGER_PROVIDER=dq6.NoopLoggerProvider=void 0;var c95=ou();class Z31{getLogger(J,Z,X){return new c95.NoopLogger}}dq6.NoopLoggerProvider=Z31;dq6.NOOP_LOGGER_PROVIDER=new Z31});var X31=B((cq6)=>{Object.defineProperty(cq6,"__esModule",{value:!0});cq6.ProxyLogger=void 0;var p95=ou();class mq6{constructor(J,Z,X,Y){this._provider=J,this.name=Z,this.version=X,this.options=Y}emit(J){this._getLogger().emit(J)}_getLogger(){if(this._delegate)return this._delegate;let J=this._provider.getDelegateLogger(this.name,this.version,this.options);if(!J)return p95.NOOP_LOGGER;return this._delegate=J,this._delegate}}cq6.ProxyLogger=mq6});var Y31=B((nq6)=>{Object.defineProperty(nq6,"__esModule",{value:!0});nq6.ProxyLoggerProvider=void 0;var n95=su(),i95=X31();class pq6{getLogger(J,Z,X){var Y;return(Y=this.getDelegateLogger(J,Z,X))!==null&&Y!==void 0?Y:new i95.ProxyLogger(this,J,Z,X)}getDelegate(){var J;return(J=this._delegate)!==null&&J!==void 0?J:n95.NOOP_LOGGER_PROVIDER}setDelegate(J){this._delegate=J}getDelegateLogger(J,Z,X){var Y;return(Y=this._delegate)===null||Y===void 0?void 0:Y.getLogger(J,Z,X)}}nq6.ProxyLoggerProvider=pq6});var aq6=B((oq6)=>{Object.defineProperty(oq6,"__esModule",{value:!0});oq6._globalThis=void 0;oq6._globalThis=typeof globalThis==="object"?globalThis:global});var rq6=B(($31)=>{Object.defineProperty($31,"__esModule",{value:!0});$31._globalThis=void 0;var o95=aq6();Object.defineProperty($31,"_globalThis",{enumerable:!0,get:function(){return o95._globalThis}})});var tq6=B((z31)=>{Object.defineProperty(z31,"__esModule",{value:!0});z31._globalThis=void 0;var a95=rq6();Object.defineProperty(z31,"_globalThis",{enumerable:!0,get:function(){return a95._globalThis}})});var ZB6=B((eq6)=>{Object.defineProperty(eq6,"__esModule",{value:!0});eq6.API_BACKWARDS_COMPATIBILITY_VERSION=eq6.makeGetter=eq6._global=eq6.GLOBAL_LOGS_API_KEY=void 0;var t95=tq6();eq6.GLOBAL_LOGS_API_KEY=Symbol.for("io.opentelemetry.js.api.logs");eq6._global=t95._globalThis;function e95(J,Z,X){return(Y)=>Y===J?Z:X}eq6.makeGetter=e95;eq6.API_BACKWARDS_COMPATIBILITY_VERSION=1});var zB6=B((YB6)=>{Object.defineProperty(YB6,"__esModule",{value:!0});YB6.LogsAPI=void 0;var UX=ZB6(),Y75=su(),XB6=Y31();class W31{constructor(){this._proxyLoggerProvider=new XB6.ProxyLoggerProvider}static getInstance(){if(!this._instance)this._instance=new W31;return this._instance}setGlobalLoggerProvider(J){if(UX._global[UX.GLOBAL_LOGS_API_KEY])return this.getLoggerProvider();return UX._global[UX.GLOBAL_LOGS_API_KEY]=(0,UX.makeGetter)(UX.API_BACKWARDS_COMPATIBILITY_VERSION,J,Y75.NOOP_LOGGER_PROVIDER),this._proxyLoggerProvider.setDelegate(J),J}getLoggerProvider(){var J,Z;return(Z=(J=UX._global[UX.GLOBAL_LOGS_API_KEY])===null||J===void 0?void 0:J.call(UX._global,UX.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&Z!==void 0?Z:this._proxyLoggerProvider}getLogger(J,Z,X){return this.getLoggerProvider().getLogger(J,Z,X)}disable(){delete UX._global[UX.GLOBAL_LOGS_API_KEY],this._proxyLoggerProvider=new XB6.ProxyLoggerProvider}}YB6.LogsAPI=W31});var Q31=B((lG)=>{Object.defineProperty(lG,"__esModule",{value:!0});lG.logs=lG.ProxyLoggerProvider=lG.ProxyLogger=lG.NoopLoggerProvider=lG.NOOP_LOGGER_PROVIDER=lG.NoopLogger=lG.NOOP_LOGGER=lG.SeverityNumber=void 0;var $75=vq6();Object.defineProperty(lG,"SeverityNumber",{enumerable:!0,get:function(){return $75.SeverityNumber}});var WB6=ou();Object.defineProperty(lG,"NOOP_LOGGER",{enumerable:!0,get:function(){return WB6.NOOP_LOGGER}});Object.defineProperty(lG,"NoopLogger",{enumerable:!0,get:function(){return WB6.NoopLogger}});var QB6=su();Object.defineProperty(lG,"NOOP_LOGGER_PROVIDER",{enumerable:!0,get:function(){return QB6.NOOP_LOGGER_PROVIDER}});Object.defineProperty(lG,"NoopLoggerProvider",{enumerable:!0,get:function(){return QB6.NoopLoggerProvider}});var z75=X31();Object.defineProperty(lG,"ProxyLogger",{enumerable:!0,get:function(){return z75.ProxyLogger}});var W75=Y31();Object.defineProperty(lG,"ProxyLoggerProvider",{enumerable:!0,get:function(){return W75.ProxyLoggerProvider}});var Q75=zB6();lG.logs=Q75.LogsAPI.getInstance()});var G31=B((qB6)=>{Object.defineProperty(qB6,"__esModule",{value:!0});qB6.LogRecord=void 0;var G75=C(),aw=C(),au=Y9();class KB6{hrTime;hrTimeObserved;spanContext;resource;instrumentationScope;attributes={};_severityText;_severityNumber;_body;totalAttributesCount=0;_isReadonly=!1;_logRecordLimits;set severityText(J){if(this._isLogRecordReadonly())return;this._severityText=J}get severityText(){return this._severityText}set severityNumber(J){if(this._isLogRecordReadonly())return;this._severityNumber=J}get severityNumber(){return this._severityNumber}set body(J){if(this._isLogRecordReadonly())return;this._body=J}get body(){return this._body}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}constructor(J,Z,X){let{timestamp:Y,observedTimestamp:$,severityNumber:z,severityText:W,body:Q,attributes:G={},context:K}=X,q=Date.now();if(this.hrTime=(0,au.timeInputToHrTime)(Y??q),this.hrTimeObserved=(0,au.timeInputToHrTime)($??q),K){let H=aw.trace.getSpanContext(K);if(H&&aw.isSpanContextValid(H))this.spanContext=H}this.severityNumber=z,this.severityText=W,this.body=Q,this.resource=J.resource,this.instrumentationScope=Z,this._logRecordLimits=J.logRecordLimits,this.setAttributes(G)}setAttribute(J,Z){if(this._isLogRecordReadonly())return this;if(Z===null)return this;if(J.length===0)return aw.diag.warn(`Invalid attribute key: ${J}`),this;if(!(0,au.isAttributeValue)(Z)&&!(typeof Z==="object"&&!Array.isArray(Z)&&Object.keys(Z).length>0))return aw.diag.warn(`Invalid attribute value set for key: ${J}`),this;if(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,J)){if(this.droppedAttributesCount===1)aw.diag.warn("Dropping extra attributes.");return this}if((0,au.isAttributeValue)(Z))this.attributes[J]=this._truncateToSize(Z);else this.attributes[J]=Z;return this}setAttributes(J){for(let[Z,X]of Object.entries(J))this.setAttribute(Z,X);return this}setBody(J){return this.body=J,this}setSeverityNumber(J){return this.severityNumber=J,this}setSeverityText(J){return this.severityText=J,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(J){let Z=this._logRecordLimits.attributeValueLengthLimit;if(Z<=0)return aw.diag.warn(`Attribute value limit must be positive, got ${Z}`),J;if(typeof J==="string")return this._truncateToLimitUtil(J,Z);if(Array.isArray(J))return J.map((X)=>typeof X==="string"?this._truncateToLimitUtil(X,Z):X);return J}_truncateToLimitUtil(J,Z){if(J.length<=Z)return J;return J.substring(0,Z)}_isLogRecordReadonly(){if(this._isReadonly)G75.diag.warn("Can not execute the operation on emitted log record");return this._isReadonly}}qB6.LogRecord=KB6});var OB6=B((FB6)=>{Object.defineProperty(FB6,"__esModule",{value:!0});FB6.Logger=void 0;var K75=C(),q75=G31();class HB6{instrumentationScope;_sharedState;constructor(J,Z){this.instrumentationScope=J,this._sharedState=Z}emit(J){let Z=J.context||K75.context.active(),X=new q75.LogRecord(this._sharedState,this.instrumentationScope,{context:Z,...J});this._sharedState.activeProcessor.onEmit(X,Z),X._makeReadonly()}}FB6.Logger=HB6});var IB6=B((DB6)=>{Object.defineProperty(DB6,"__esModule",{value:!0});DB6.reconfigureLimits=DB6.loadDefaultConfig=void 0;var rw=Y9();function B75(){return{forceFlushTimeoutMillis:30000,logRecordLimits:{attributeValueLengthLimit:(0,rw.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:(0,rw.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??128},includeTraceContext:!0}}DB6.loadDefaultConfig=B75;function H75(J){return{attributeCountLimit:J.attributeCountLimit??(0,rw.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??(0,rw.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT")??128,attributeValueLengthLimit:J.attributeValueLengthLimit??(0,rw.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??(0,rw.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0}}DB6.reconfigureLimits=H75});var K31=B((AB6)=>{Object.defineProperty(AB6,"__esModule",{value:!0});AB6.NoopLogRecordProcessor=void 0;class wB6{forceFlush(){return Promise.resolve()}onEmit(J,Z){}shutdown(){return Promise.resolve()}}AB6.NoopLogRecordProcessor=wB6});var q31=B((PB6)=>{Object.defineProperty(PB6,"__esModule",{value:!0});PB6.MultiLogRecordProcessor=void 0;var U75=Y9();class NB6{processors;forceFlushTimeoutMillis;constructor(J,Z){this.processors=J,this.forceFlushTimeoutMillis=Z}async forceFlush(){let J=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map((Z)=>(0,U75.callWithTimeout)(Z.forceFlush(),J)))}onEmit(J,Z){this.processors.forEach((X)=>X.onEmit(J,Z))}async shutdown(){await Promise.all(this.processors.map((J)=>J.shutdown()))}}PB6.MultiLogRecordProcessor=NB6});var EB6=B((jB6)=>{Object.defineProperty(jB6,"__esModule",{value:!0});jB6.LoggerProviderSharedState=void 0;var O75=K31(),D75=q31();class CB6{resource;forceFlushTimeoutMillis;logRecordLimits;processors;loggers=new Map;activeProcessor;registeredLogRecordProcessors=[];constructor(J,Z,X,Y){if(this.resource=J,this.forceFlushTimeoutMillis=Z,this.logRecordLimits=X,this.processors=Y,Y.length>0)this.registeredLogRecordProcessors=Y,this.activeProcessor=new D75.MultiLogRecordProcessor(this.registeredLogRecordProcessors,this.forceFlushTimeoutMillis);else this.activeProcessor=new O75.NoopLogRecordProcessor}}jB6.LoggerProviderSharedState=CB6});var _B6=B((kB6)=>{Object.defineProperty(kB6,"__esModule",{value:!0});kB6.LoggerProvider=kB6.DEFAULT_LOGGER_NAME=void 0;var wj=C(),V75=Q31(),I75=WB(),SB6=Y9(),w75=OB6(),TB6=IB6(),A75=EB6(),M75=q31();kB6.DEFAULT_LOGGER_NAME="unknown";class fB6{_shutdownOnce;_sharedState;constructor(J={}){let Z=(0,SB6.merge)({},(0,TB6.loadDefaultConfig)(),J),X=J.resource??(0,I75.defaultResource)();this._sharedState=new A75.LoggerProviderSharedState(X,Z.forceFlushTimeoutMillis,(0,TB6.reconfigureLimits)(Z.logRecordLimits),J?.processors??[]),this._shutdownOnce=new SB6.BindOnceFuture(this._shutdown,this)}getLogger(J,Z,X){if(this._shutdownOnce.isCalled)return wj.diag.warn("A shutdown LoggerProvider cannot provide a Logger"),V75.NOOP_LOGGER;if(!J)wj.diag.warn("Logger requested without instrumentation scope name.");let Y=J||kB6.DEFAULT_LOGGER_NAME,$=`${Y}@${Z||""}:${X?.schemaUrl||""}`;if(!this._sharedState.loggers.has($))this._sharedState.loggers.set($,new w75.Logger({name:Y,version:Z,schemaUrl:X?.schemaUrl},this._sharedState));return this._sharedState.loggers.get($)}addLogRecordProcessor(J){if(this._sharedState.registeredLogRecordProcessors.length===0)this._sharedState.activeProcessor.shutdown().catch((Z)=>wj.diag.error("Error while trying to shutdown current log record processor",Z));this._sharedState.registeredLogRecordProcessors.push(J),this._sharedState.activeProcessor=new M75.MultiLogRecordProcessor(this._sharedState.registeredLogRecordProcessors,this._sharedState.forceFlushTimeoutMillis)}forceFlush(){if(this._shutdownOnce.isCalled)return wj.diag.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise;return this._sharedState.activeProcessor.forceFlush()}shutdown(){if(this._shutdownOnce.isCalled)return wj.diag.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise;return this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}}kB6.LoggerProvider=fB6});var gB6=B((vB6)=>{Object.defineProperty(vB6,"__esModule",{value:!0});vB6.ConsoleLogRecordExporter=void 0;var N75=Y9(),P75=Y9();class yB6{export(J,Z){this._sendLogRecords(J,Z)}shutdown(){return Promise.resolve()}_exportInfo(J){return{resource:{attributes:J.resource.attributes},instrumentationScope:J.instrumentationScope,timestamp:(0,N75.hrTimeToMicroseconds)(J.hrTime),traceId:J.spanContext?.traceId,spanId:J.spanContext?.spanId,traceFlags:J.spanContext?.traceFlags,severityText:J.severityText,severityNumber:J.severityNumber,body:J.body,attributes:J.attributes}}_sendLogRecords(J,Z){for(let X of J)console.dir(this._exportInfo(X),{depth:3});Z?.({code:P75.ExportResultCode.SUCCESS})}}vB6.ConsoleLogRecordExporter=yB6});var cB6=B((uB6)=>{Object.defineProperty(uB6,"__esModule",{value:!0});uB6.SimpleLogRecordProcessor=void 0;var tw=Y9();class dB6{_exporter;_shutdownOnce;_unresolvedExports;constructor(J){this._exporter=J,this._shutdownOnce=new tw.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}onEmit(J){if(this._shutdownOnce.isCalled)return;let Z=()=>tw.internal._export(this._exporter,[J]).then((X)=>{if(X.code!==tw.ExportResultCode.SUCCESS)(0,tw.globalErrorHandler)(X.error??new Error(`SimpleLogRecordProcessor: log record export failed (status ${X})`))}).catch(tw.globalErrorHandler);if(J.resource.asyncAttributesPending){let X=J.resource.waitForAsyncAttributes?.().then(()=>{return this._unresolvedExports.delete(X),Z()},tw.globalErrorHandler);if(X!=null)this._unresolvedExports.add(X)}else Z()}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports))}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}uB6.SimpleLogRecordProcessor=dB6});var oB6=B((nB6)=>{Object.defineProperty(nB6,"__esModule",{value:!0});nB6.InMemoryLogRecordExporter=void 0;var lB6=Y9();class pB6{_finishedLogRecords=[];_stopped=!1;export(J,Z){if(this._stopped)return Z({code:lB6.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedLogRecords.push(...J),Z({code:lB6.ExportResultCode.SUCCESS})}shutdown(){return this._stopped=!0,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[]}}nB6.InMemoryLogRecordExporter=pB6});var tB6=B((aB6)=>{Object.defineProperty(aB6,"__esModule",{value:!0});aB6.BatchLogRecordProcessorBase=void 0;var ru=Y9(),L75=C(),pG=Y9();class sB6{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_finishedLogRecords=[];_timer;_shutdownOnce;constructor(J,Z){if(this._exporter=J,this._maxExportBatchSize=Z?.maxExportBatchSize??(0,ru.getNumberFromEnv)("OTEL_BLRP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=Z?.maxQueueSize??(0,ru.getNumberFromEnv)("OTEL_BLRP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=Z?.scheduledDelayMillis??(0,ru.getNumberFromEnv)("OTEL_BLRP_SCHEDULE_DELAY")??5000,this._exportTimeoutMillis=Z?.exportTimeoutMillis??(0,ru.getNumberFromEnv)("OTEL_BLRP_EXPORT_TIMEOUT")??30000,this._shutdownOnce=new pG.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize)L75.diag.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize}onEmit(J){if(this._shutdownOnce.isCalled)return;this._addToBuffer(J)}forceFlush(){if(this._shutdownOnce.isCalled)return this._shutdownOnce.promise;return this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(J){if(this._finishedLogRecords.length>=this._maxQueueSize)return;this._finishedLogRecords.push(J),this._maybeStartTimer()}_flushAll(){return new Promise((J,Z)=>{let X=[],Y=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let $=0;$<Y;$++)X.push(this._flushOneBatch());Promise.all(X).then(()=>{J()}).catch(Z)})}_flushOneBatch(){if(this._clearTimer(),this._finishedLogRecords.length===0)return Promise.resolve();return new Promise((J,Z)=>{(0,pG.callWithTimeout)(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>J()).catch(Z)})}_maybeStartTimer(){if(this._timer!==void 0)return;this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{if(this._finishedLogRecords.length>0)this._clearTimer(),this._maybeStartTimer()}).catch((J)=>{(0,pG.globalErrorHandler)(J)})},this._scheduledDelayMillis),(0,pG.unrefTimer)(this._timer)}_clearTimer(){if(this._timer!==void 0)clearTimeout(this._timer),this._timer=void 0}_export(J){let Z=()=>pG.internal._export(this._exporter,J).then((Y)=>{if(Y.code!==pG.ExportResultCode.SUCCESS)(0,pG.globalErrorHandler)(Y.error??new Error(`BatchLogRecordProcessor: log record export failed (status ${Y})`))}).catch(pG.globalErrorHandler),X=J.map((Y)=>Y.resource).filter((Y)=>Y.asyncAttributesPending);if(X.length===0)return Z();else return Promise.all(X.map((Y)=>Y.waitForAsyncAttributes?.())).then(Z,pG.globalErrorHandler)}}aB6.BatchLogRecordProcessorBase=sB6});var XH6=B((JH6)=>{Object.defineProperty(JH6,"__esModule",{value:!0});JH6.BatchLogRecordProcessor=void 0;var C75=tB6();class eB6 extends C75.BatchLogRecordProcessorBase{onShutdown(){}}JH6.BatchLogRecordProcessor=eB6});var YH6=B((B31)=>{Object.defineProperty(B31,"__esModule",{value:!0});B31.BatchLogRecordProcessor=void 0;var j75=XH6();Object.defineProperty(B31,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return j75.BatchLogRecordProcessor}})});var $H6=B((H31)=>{Object.defineProperty(H31,"__esModule",{value:!0});H31.BatchLogRecordProcessor=void 0;var E75=YH6();Object.defineProperty(H31,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return E75.BatchLogRecordProcessor}})});var F31=B((nG)=>{Object.defineProperty(nG,"__esModule",{value:!0});nG.BatchLogRecordProcessor=nG.InMemoryLogRecordExporter=nG.SimpleLogRecordProcessor=nG.ConsoleLogRecordExporter=nG.NoopLogRecordProcessor=nG.LogRecord=nG.LoggerProvider=void 0;var T75=_B6();Object.defineProperty(nG,"LoggerProvider",{enumerable:!0,get:function(){return T75.LoggerProvider}});var f75=G31();Object.defineProperty(nG,"LogRecord",{enumerable:!0,get:function(){return f75.LogRecord}});var k75=K31();Object.defineProperty(nG,"NoopLogRecordProcessor",{enumerable:!0,get:function(){return k75.NoopLogRecordProcessor}});var b75=gB6();Object.defineProperty(nG,"ConsoleLogRecordExporter",{enumerable:!0,get:function(){return b75.ConsoleLogRecordExporter}});var h75=cB6();Object.defineProperty(nG,"SimpleLogRecordProcessor",{enumerable:!0,get:function(){return h75.SimpleLogRecordProcessor}});var _75=oB6();Object.defineProperty(nG,"InMemoryLogRecordExporter",{enumerable:!0,get:function(){return _75.InMemoryLogRecordExporter}});var y75=$H6();Object.defineProperty(nG,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return y75.BatchLogRecordProcessor}})});var tu=B((zH6)=>{Object.defineProperty(zH6,"__esModule",{value:!0});zH6.AggregationTemporality=void 0;var x75;(function(J){J[J.DELTA=0]="DELTA",J[J.CUMULATIVE=1]="CUMULATIVE"})(x75=zH6.AggregationTemporality||(zH6.AggregationTemporality={}))});var IB=B((QH6)=>{Object.defineProperty(QH6,"__esModule",{value:!0});QH6.DataPointType=QH6.InstrumentType=void 0;var g75;(function(J){J.COUNTER="COUNTER",J.GAUGE="GAUGE",J.HISTOGRAM="HISTOGRAM",J.UP_DOWN_COUNTER="UP_DOWN_COUNTER",J.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",J.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",J.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(g75=QH6.InstrumentType||(QH6.InstrumentType={}));var d75;(function(J){J[J.HISTOGRAM=0]="HISTOGRAM",J[J.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",J[J.GAUGE=2]="GAUGE",J[J.SUM=3]="SUM"})(d75=QH6.DataPointType||(QH6.DataPointType={}))});var gY=B((GH6)=>{Object.defineProperty(GH6,"__esModule",{value:!0});GH6.equalsCaseInsensitive=GH6.binarySearchUB=GH6.setEquals=GH6.FlatMap=GH6.isPromiseAllSettledRejectionResult=GH6.PromiseAllSettled=GH6.callWithTimeout=GH6.TimeoutError=GH6.instrumentationScopeId=GH6.hashAttributes=GH6.isNotNullish=void 0;function u75(J){return J!==void 0&&J!==null}GH6.isNotNullish=u75;function m75(J){let Z=Object.keys(J);if(Z.length===0)return"";return Z=Z.sort(),JSON.stringify(Z.map((X)=>[X,J[X]]))}GH6.hashAttributes=m75;function c75(J){return`${J.name}:${J.version??""}:${J.schemaUrl??""}`}GH6.instrumentationScopeId=c75;class eu extends Error{constructor(J){super(J);Object.setPrototypeOf(this,eu.prototype)}}GH6.TimeoutError=eu;function l75(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new eu("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}GH6.callWithTimeout=l75;async function p75(J){return Promise.all(J.map(async(Z)=>{try{return{status:"fulfilled",value:await Z}}catch(X){return{status:"rejected",reason:X}}}))}GH6.PromiseAllSettled=p75;function n75(J){return J.status==="rejected"}GH6.isPromiseAllSettledRejectionResult=n75;function i75(J,Z){let X=[];return J.forEach((Y)=>{X.push(...Z(Y))}),X}GH6.FlatMap=i75;function o75(J,Z){if(J.size!==Z.size)return!1;for(let X of J)if(!Z.has(X))return!1;return!0}GH6.setEquals=o75;function s75(J,Z){let X=0,Y=J.length-1,$=J.length;while(Y>=X){let z=X+Math.trunc((Y-X)/2);if(J[z]<Z)X=z+1;else $=z,Y=z-1}return $}GH6.binarySearchUB=s75;function a75(J,Z){return J.toLowerCase()===Z.toLowerCase()}GH6.equalsCaseInsensitive=a75});var ew=B((qH6)=>{Object.defineProperty(qH6,"__esModule",{value:!0});qH6.AggregatorKind=void 0;var QJ5;(function(J){J[J.DROP=0]="DROP",J[J.SUM=1]="SUM",J[J.LAST_VALUE=2]="LAST_VALUE",J[J.HISTOGRAM=3]="HISTOGRAM",J[J.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"})(QJ5=qH6.AggregatorKind||(qH6.AggregatorKind={}))});var UH6=B((HH6)=>{Object.defineProperty(HH6,"__esModule",{value:!0});HH6.DropAggregator=void 0;var GJ5=ew();class BH6{kind=GJ5.AggregatorKind.DROP;createAccumulation(){return}merge(J,Z){return}diff(J,Z){return}toMetricData(J,Z,X,Y){return}}HH6.DropAggregator=BH6});var IH6=B((DH6)=>{Object.defineProperty(DH6,"__esModule",{value:!0});DH6.HistogramAggregator=DH6.HistogramAccumulation=void 0;var KJ5=ew(),Aj=IB(),qJ5=gY();function BJ5(J){let Z=J.map(()=>0);return Z.push(0),{buckets:{boundaries:J,counts:Z},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}class Mj{startTime;_boundaries;_recordMinMax;_current;constructor(J,Z,X=!0,Y=BJ5(Z)){this.startTime=J,this._boundaries=Z,this._recordMinMax=X,this._current=Y}record(J){if(Number.isNaN(J))return;if(this._current.count+=1,this._current.sum+=J,this._recordMinMax)this._current.min=Math.min(J,this._current.min),this._current.max=Math.max(J,this._current.max),this._current.hasMinMax=!0;let Z=(0,qJ5.binarySearchUB)(this._boundaries,J);this._current.buckets.counts[Z]+=1}setStartTime(J){this.startTime=J}toPointValue(){return this._current}}DH6.HistogramAccumulation=Mj;class OH6{_boundaries;_recordMinMax;kind=KJ5.AggregatorKind.HISTOGRAM;constructor(J,Z){this._boundaries=J,this._recordMinMax=Z}createAccumulation(J){return new Mj(J,this._boundaries,this._recordMinMax)}merge(J,Z){let X=J.toPointValue(),Y=Z.toPointValue(),$=X.buckets.counts,z=Y.buckets.counts,W=new Array($.length);for(let K=0;K<$.length;K++)W[K]=$[K]+z[K];let Q=1/0,G=-1/0;if(this._recordMinMax){if(X.hasMinMax&&Y.hasMinMax)Q=Math.min(X.min,Y.min),G=Math.max(X.max,Y.max);else if(X.hasMinMax)Q=X.min,G=X.max;else if(Y.hasMinMax)Q=Y.min,G=Y.max}return new Mj(J.startTime,X.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:X.buckets.boundaries,counts:W},count:X.count+Y.count,sum:X.sum+Y.sum,hasMinMax:this._recordMinMax&&(X.hasMinMax||Y.hasMinMax),min:Q,max:G})}diff(J,Z){let X=J.toPointValue(),Y=Z.toPointValue(),$=X.buckets.counts,z=Y.buckets.counts,W=new Array($.length);for(let Q=0;Q<$.length;Q++)W[Q]=z[Q]-$[Q];return new Mj(Z.startTime,X.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:X.buckets.boundaries,counts:W},count:Y.count-X.count,sum:Y.sum-X.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(J,Z,X,Y){return{descriptor:J,aggregationTemporality:Z,dataPointType:Aj.DataPointType.HISTOGRAM,dataPoints:X.map(([$,z])=>{let W=z.toPointValue(),Q=J.type===Aj.InstrumentType.GAUGE||J.type===Aj.InstrumentType.UP_DOWN_COUNTER||J.type===Aj.InstrumentType.OBSERVABLE_GAUGE||J.type===Aj.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:$,startTime:z.startTime,endTime:Y,value:{min:W.hasMinMax?W.min:void 0,max:W.hasMinMax?W.max:void 0,sum:!Q?W.sum:void 0,buckets:W.buckets,count:W.count}}})}}}DH6.HistogramAggregator=OH6});var MH6=B((wH6)=>{Object.defineProperty(wH6,"__esModule",{value:!0});wH6.Buckets=void 0;class V31{backing;indexBase;indexStart;indexEnd;constructor(J=new I31,Z=0,X=0,Y=0){this.backing=J,this.indexBase=Z,this.indexStart=X,this.indexEnd=Y}get offset(){return this.indexStart}get length(){if(this.backing.length===0)return 0;if(this.indexEnd===this.indexStart&&this.at(0)===0)return 0;return this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(J,Z)=>this.at(Z))}at(J){let Z=this.indexBase-this.indexStart;if(J<Z)J+=this.backing.length;return J-=Z,this.backing.countAt(J)}incrementBucket(J,Z){this.backing.increment(J,Z)}decrementBucket(J,Z){this.backing.decrement(J,Z)}trim(){for(let J=0;J<this.length;J++)if(this.at(J)!==0){this.indexStart+=J;break}else if(J===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let J=this.length-1;J>=0;J--)if(this.at(J)!==0){this.indexEnd-=this.length-J-1;break}this._rotate()}downscale(J){this._rotate();let Z=1+this.indexEnd-this.indexStart,X=1<<J,Y=0,$=0;for(let z=this.indexStart;z<=this.indexEnd;){let W=z%X;if(W<0)W+=X;for(let Q=W;Q<X&&Y<Z;Q++)this._relocateBucket($,Y),Y++,z++;$++}this.indexStart>>=J,this.indexEnd>>=J,this.indexBase=this.indexStart}clone(){return new V31(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let J=this.indexBase-this.indexStart;if(J===0)return;else if(J>0)this.backing.reverse(0,this.backing.length),this.backing.reverse(0,J),this.backing.reverse(J,this.backing.length);else this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+J);this.indexBase=this.indexStart}_relocateBucket(J,Z){if(J===Z)return;this.incrementBucket(J,this.backing.emptyBucket(Z))}}wH6.Buckets=V31;class I31{_counts;constructor(J=[0]){this._counts=J}get length(){return this._counts.length}countAt(J){return this._counts[J]}growTo(J,Z,X){let Y=new Array(J).fill(0);Y.splice(X,this._counts.length-Z,...this._counts.slice(Z)),Y.splice(0,Z,...this._counts.slice(0,Z)),this._counts=Y}reverse(J,Z){let X=Math.floor((J+Z)/2)-J;for(let Y=0;Y<X;Y++){let $=this._counts[J+Y];this._counts[J+Y]=this._counts[Z-Y-1],this._counts[Z-Y-1]=$}}emptyBucket(J){let Z=this._counts[J];return this._counts[J]=0,Z}increment(J,Z){this._counts[J]+=Z}decrement(J,Z){if(this._counts[J]>=Z)this._counts[J]-=Z;else this._counts[J]=0}clone(){return new I31([...this._counts])}}});var A31=B((NH6)=>{Object.defineProperty(NH6,"__esModule",{value:!0});NH6.getSignificand=NH6.getNormalBase2=NH6.MIN_VALUE=NH6.MAX_NORMAL_EXPONENT=NH6.MIN_NORMAL_EXPONENT=NH6.SIGNIFICAND_WIDTH=void 0;NH6.SIGNIFICAND_WIDTH=52;var FJ5=2146435072,UJ5=1048575,w31=1023;NH6.MIN_NORMAL_EXPONENT=-w31+1;NH6.MAX_NORMAL_EXPONENT=w31;NH6.MIN_VALUE=Math.pow(2,-1022);function OJ5(J){let Z=new DataView(new ArrayBuffer(8));return Z.setFloat64(0,J),((Z.getUint32(0)&FJ5)>>20)-w31}NH6.getNormalBase2=OJ5;function DJ5(J){let Z=new DataView(new ArrayBuffer(8));Z.setFloat64(0,J);let X=Z.getUint32(0),Y=Z.getUint32(4);return(X&UJ5)*Math.pow(2,32)+Y}NH6.getSignificand=DJ5});var Jm=B((LH6)=>{Object.defineProperty(LH6,"__esModule",{value:!0});LH6.nextGreaterSquare=LH6.ldexp=void 0;function NJ5(J,Z){if(J===0||J===Number.POSITIVE_INFINITY||J===Number.NEGATIVE_INFINITY||Number.isNaN(J))return J;return J*Math.pow(2,Z)}LH6.ldexp=NJ5;function PJ5(J){return J--,J|=J>>1,J|=J>>2,J|=J>>4,J|=J>>8,J|=J>>16,J++,J}LH6.nextGreaterSquare=PJ5});var Zm=B((RH6)=>{Object.defineProperty(RH6,"__esModule",{value:!0});RH6.MappingError=void 0;class jH6 extends Error{}RH6.MappingError=jH6});var bH6=B((fH6)=>{Object.defineProperty(fH6,"__esModule",{value:!0});fH6.ExponentMapping=void 0;var JA=A31(),CJ5=Jm(),SH6=Zm();class TH6{_shift;constructor(J){this._shift=-J}mapToIndex(J){if(J<JA.MIN_VALUE)return this._minNormalLowerBoundaryIndex();let Z=JA.getNormalBase2(J),X=this._rightShift(JA.getSignificand(J)-1,JA.SIGNIFICAND_WIDTH);return Z+X>>this._shift}lowerBoundary(J){let Z=this._minNormalLowerBoundaryIndex();if(J<Z)throw new SH6.MappingError(`underflow: ${J} is < minimum lower boundary: ${Z}`);let X=this._maxNormalLowerBoundaryIndex();if(J>X)throw new SH6.MappingError(`overflow: ${J} is > maximum lower boundary: ${X}`);return CJ5.ldexp(1,J<<this._shift)}get scale(){if(this._shift===0)return 0;return-this._shift}_minNormalLowerBoundaryIndex(){let J=JA.MIN_NORMAL_EXPONENT>>this._shift;if(this._shift<2)J--;return J}_maxNormalLowerBoundaryIndex(){return JA.MAX_NORMAL_EXPONENT>>this._shift}_rightShift(J,Z){return Math.floor(J*Math.pow(2,-Z))}}fH6.ExponentMapping=TH6});var gH6=B((vH6)=>{Object.defineProperty(vH6,"__esModule",{value:!0});vH6.LogarithmMapping=void 0;var ZA=A31(),hH6=Jm(),_H6=Zm();class yH6{_scale;_scaleFactor;_inverseFactor;constructor(J){this._scale=J,this._scaleFactor=hH6.ldexp(Math.LOG2E,J),this._inverseFactor=hH6.ldexp(Math.LN2,-J)}mapToIndex(J){if(J<=ZA.MIN_VALUE)return this._minNormalLowerBoundaryIndex()-1;if(ZA.getSignificand(J)===0)return(ZA.getNormalBase2(J)<<this._scale)-1;let Z=Math.floor(Math.log(J)*this._scaleFactor),X=this._maxNormalLowerBoundaryIndex();if(Z>=X)return X;return Z}lowerBoundary(J){let Z=this._maxNormalLowerBoundaryIndex();if(J>=Z){if(J===Z)return 2*Math.exp((J-(1<<this._scale))/this._scaleFactor);throw new _H6.MappingError(`overflow: ${J} is > maximum lower boundary: ${Z}`)}let X=this._minNormalLowerBoundaryIndex();if(J<=X){if(J===X)return ZA.MIN_VALUE;else if(J===X-1)return Math.exp((J+(1<<this._scale))/this._scaleFactor)/2;throw new _H6.MappingError(`overflow: ${J} is < minimum lower boundary: ${X}`)}return Math.exp(J*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return ZA.MIN_NORMAL_EXPONENT<<this._scale}_maxNormalLowerBoundaryIndex(){return(ZA.MAX_NORMAL_EXPONENT+1<<this._scale)-1}}vH6.LogarithmMapping=yH6});var lH6=B((mH6)=>{Object.defineProperty(mH6,"__esModule",{value:!0});mH6.getMapping=void 0;var jJ5=bH6(),RJ5=gH6(),EJ5=Zm(),dH6=-10,uH6=20,SJ5=Array.from({length:31},(J,Z)=>{if(Z>10)return new RJ5.LogarithmMapping(Z-10);return new jJ5.ExponentMapping(Z-10)});function TJ5(J){if(J>uH6||J<dH6)throw new EJ5.MappingError(`expected scale >= ${dH6} && <= ${uH6}, got: ${J}`);return SJ5[J+10]}mH6.getMapping=TJ5});var aH6=B((oH6)=>{Object.defineProperty(oH6,"__esModule",{value:!0});oH6.ExponentialHistogramAggregator=oH6.ExponentialHistogramAccumulation=void 0;var fJ5=ew(),Nj=IB(),kJ5=C(),pH6=MH6(),nH6=lH6(),bJ5=Jm();class XA{low;high;static combine(J,Z){return new XA(Math.min(J.low,Z.low),Math.max(J.high,Z.high))}constructor(J,Z){this.low=J,this.high=Z}}var hJ5=20,_J5=160,M31=2;class Xm{startTime;_maxSize;_recordMinMax;_sum;_count;_zeroCount;_min;_max;_positive;_negative;_mapping;constructor(J=J,Z=_J5,X=!0,Y=0,$=0,z=0,W=Number.POSITIVE_INFINITY,Q=Number.NEGATIVE_INFINITY,G=new pH6.Buckets,K=new pH6.Buckets,q=(0,nH6.getMapping)(hJ5)){if(this.startTime=J,this._maxSize=Z,this._recordMinMax=X,this._sum=Y,this._count=$,this._zeroCount=z,this._min=W,this._max=Q,this._positive=G,this._negative=K,this._mapping=q,this._maxSize<M31)kJ5.diag.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${M31}`),this._maxSize=M31}record(J){this.updateByIncrement(J,1)}setStartTime(J){this.startTime=J}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){if(this._count===this._zeroCount)return 0;return this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(J,Z){if(Number.isNaN(J))return;if(J>this._max)this._max=J;if(J<this._min)this._min=J;if(this._count+=Z,J===0){this._zeroCount+=Z;return}if(this._sum+=J*Z,J>0)this._updateBuckets(this._positive,J,Z);else this._updateBuckets(this._negative,-J,Z)}merge(J){if(this._count===0)this._min=J.min,this._max=J.max;else if(J.count!==0){if(J.min<this.min)this._min=J.min;if(J.max>this.max)this._max=J.max}this.startTime=J.startTime,this._sum+=J.sum,this._count+=J.count,this._zeroCount+=J.zeroCount;let Z=this._minScale(J);this._downscale(this.scale-Z),this._mergeBuckets(this.positive,J,J.positive,Z),this._mergeBuckets(this.negative,J,J.negative,Z)}diff(J){this._min=1/0,this._max=-1/0,this._sum-=J.sum,this._count-=J.count,this._zeroCount-=J.zeroCount;let Z=this._minScale(J);this._downscale(this.scale-Z),this._diffBuckets(this.positive,J,J.positive,Z),this._diffBuckets(this.negative,J,J.negative,Z)}clone(){return new Xm(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(J,Z,X){let Y=this._mapping.mapToIndex(Z),$=!1,z=0,W=0;if(J.length===0)J.indexStart=Y,J.indexEnd=J.indexStart,J.indexBase=J.indexStart;else if(Y<J.indexStart&&J.indexEnd-Y>=this._maxSize)$=!0,W=Y,z=J.indexEnd;else if(Y>J.indexEnd&&Y-J.indexStart>=this._maxSize)$=!0,W=J.indexStart,z=Y;if($){let Q=this._changeScale(z,W);this._downscale(Q),Y=this._mapping.mapToIndex(Z)}this._incrementIndexBy(J,Y,X)}_incrementIndexBy(J,Z,X){if(X===0)return;if(J.length===0)J.indexStart=J.indexEnd=J.indexBase=Z;if(Z<J.indexStart){let $=J.indexEnd-Z;if($>=J.backing.length)this._grow(J,$+1);J.indexStart=Z}else if(Z>J.indexEnd){let $=Z-J.indexStart;if($>=J.backing.length)this._grow(J,$+1);J.indexEnd=Z}let Y=Z-J.indexBase;if(Y<0)Y+=J.backing.length;J.incrementBucket(Y,X)}_grow(J,Z){let X=J.backing.length,Y=J.indexBase-J.indexStart,$=X-Y,z=(0,bJ5.nextGreaterSquare)(Z);if(z>this._maxSize)z=this._maxSize;let W=z-Y;J.backing.growTo(z,$,W)}_changeScale(J,Z){let X=0;while(J-Z>=this._maxSize)J>>=1,Z>>=1,X++;return X}_downscale(J){if(J===0)return;if(J<0)throw new Error(`impossible change of scale: ${this.scale}`);let Z=this._mapping.scale-J;this._positive.downscale(J),this._negative.downscale(J),this._mapping=(0,nH6.getMapping)(Z)}_minScale(J){let Z=Math.min(this.scale,J.scale),X=XA.combine(this._highLowAtScale(this.positive,this.scale,Z),this._highLowAtScale(J.positive,J.scale,Z)),Y=XA.combine(this._highLowAtScale(this.negative,this.scale,Z),this._highLowAtScale(J.negative,J.scale,Z));return Math.min(Z-this._changeScale(X.high,X.low),Z-this._changeScale(Y.high,Y.low))}_highLowAtScale(J,Z,X){if(J.length===0)return new XA(0,-1);let Y=Z-X;return new XA(J.indexStart>>Y,J.indexEnd>>Y)}_mergeBuckets(J,Z,X,Y){let $=X.offset,z=Z.scale-Y;for(let W=0;W<X.length;W++)this._incrementIndexBy(J,$+W>>z,X.at(W))}_diffBuckets(J,Z,X,Y){let $=X.offset,z=Z.scale-Y;for(let W=0;W<X.length;W++){let G=($+W>>z)-J.indexBase;if(G<0)G+=J.backing.length;J.decrementBucket(G,X.at(W))}J.trim()}}oH6.ExponentialHistogramAccumulation=Xm;class iH6{_maxSize;_recordMinMax;kind=fJ5.AggregatorKind.EXPONENTIAL_HISTOGRAM;constructor(J,Z){this._maxSize=J,this._recordMinMax=Z}createAccumulation(J){return new Xm(J,this._maxSize,this._recordMinMax)}merge(J,Z){let X=Z.clone();return X.merge(J),X}diff(J,Z){let X=Z.clone();return X.diff(J),X}toMetricData(J,Z,X,Y){return{descriptor:J,aggregationTemporality:Z,dataPointType:Nj.DataPointType.EXPONENTIAL_HISTOGRAM,dataPoints:X.map(([$,z])=>{let W=z.toPointValue(),Q=J.type===Nj.InstrumentType.GAUGE||J.type===Nj.InstrumentType.UP_DOWN_COUNTER||J.type===Nj.InstrumentType.OBSERVABLE_GAUGE||J.type===Nj.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:$,startTime:z.startTime,endTime:Y,value:{min:W.hasMinMax?W.min:void 0,max:W.hasMinMax?W.max:void 0,sum:!Q?W.sum:void 0,positive:{offset:W.positive.offset,bucketCounts:W.positive.bucketCounts},negative:{offset:W.negative.offset,bucketCounts:W.negative.bucketCounts},count:W.count,scale:W.scale,zeroCount:W.zeroCount}}})}}}oH6.ExponentialHistogramAggregator=iH6});var Pj=B((rH6)=>{Object.defineProperty(rH6,"__esModule",{value:!0});rH6.isTracingSuppressed=rH6.unsuppressTracing=rH6.suppressTracing=void 0;var vJ5=C(),N31=(0,vJ5.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function xJ5(J){return J.setValue(N31,!0)}rH6.suppressTracing=xJ5;function gJ5(J){return J.deleteValue(N31)}rH6.unsuppressTracing=gJ5;function dJ5(J){return J.getValue(N31)===!0}rH6.isTracingSuppressed=dJ5});var P31=B((eH6)=>{Object.defineProperty(eH6,"__esModule",{value:!0});eH6.BAGGAGE_MAX_TOTAL_LENGTH=eH6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=eH6.BAGGAGE_MAX_NAME_VALUE_PAIRS=eH6.BAGGAGE_HEADER=eH6.BAGGAGE_ITEMS_SEPARATOR=eH6.BAGGAGE_PROPERTIES_SEPARATOR=eH6.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;eH6.BAGGAGE_KEY_PAIR_SEPARATOR="=";eH6.BAGGAGE_PROPERTIES_SEPARATOR=";";eH6.BAGGAGE_ITEMS_SEPARATOR=",";eH6.BAGGAGE_HEADER="baggage";eH6.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;eH6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;eH6.BAGGAGE_MAX_TOTAL_LENGTH=8192});var L31=B((XF6)=>{Object.defineProperty(XF6,"__esModule",{value:!0});XF6.parseKeyPairsIntoRecord=XF6.parsePairKeyValue=XF6.getKeyPairs=XF6.serializeKeyPairs=void 0;var sJ5=C(),PO=P31();function aJ5(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?PO.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>PO.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}XF6.serializeKeyPairs=aJ5;function rJ5(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=PO.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}XF6.getKeyPairs=rJ5;function ZF6(J){let Z=J.split(PO.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(PO.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,sJ5.baggageEntryMetadataFromString)(Z.join(PO.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}XF6.parsePairKeyValue=ZF6;function tJ5(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(PO.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=ZF6(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}XF6.parseKeyPairsIntoRecord=tJ5});var QF6=B((zF6)=>{Object.defineProperty(zF6,"__esModule",{value:!0});zF6.W3CBaggagePropagator=void 0;var C31=C(),XZ5=Pj(),LO=P31(),j31=L31();class $F6{inject(J,Z,X){let Y=C31.propagation.getBaggage(J);if(!Y||(0,XZ5.isTracingSuppressed)(J))return;let $=(0,j31.getKeyPairs)(Y).filter((W)=>{return W.length<=LO.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,LO.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,j31.serializeKeyPairs)($);if(z.length>0)X.set(Z,LO.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,LO.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(LO.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(LO.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,j31.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return C31.propagation.setBaggage(J,C31.propagation.createBaggage(z))}fields(){return[LO.BAGGAGE_HEADER]}}zF6.W3CBaggagePropagator=$F6});var BF6=B((KF6)=>{Object.defineProperty(KF6,"__esModule",{value:!0});KF6.AnchoredClock=void 0;class GF6{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}KF6.AnchoredClock=GF6});var IF6=B((DF6)=>{Object.defineProperty(DF6,"__esModule",{value:!0});DF6.isAttributeValue=DF6.isAttributeKey=DF6.sanitizeAttributes=void 0;var HF6=C();function YZ5(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!FF6(X)){HF6.diag.warn(`Invalid attribute key: ${X}`);continue}if(!UF6(Y)){HF6.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}DF6.sanitizeAttributes=YZ5;function FF6(J){return typeof J==="string"&&J.length>0}DF6.isAttributeKey=FF6;function UF6(J){if(J==null)return!0;if(Array.isArray(J))return $Z5(J);return OF6(J)}DF6.isAttributeValue=UF6;function $Z5(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(OF6(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function OF6(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var R31=B((wF6)=>{Object.defineProperty(wF6,"__esModule",{value:!0});wF6.loggingErrorHandler=void 0;var QZ5=C();function GZ5(){return(J)=>{QZ5.diag.error(KZ5(J))}}wF6.loggingErrorHandler=GZ5;function KZ5(J){if(typeof J==="string")return J;else return JSON.stringify(qZ5(J))}function qZ5(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var LF6=B((NF6)=>{Object.defineProperty(NF6,"__esModule",{value:!0});NF6.globalErrorHandler=NF6.setGlobalErrorHandler=void 0;var BZ5=R31(),MF6=(0,BZ5.loggingErrorHandler)();function HZ5(J){MF6=J}NF6.setGlobalErrorHandler=HZ5;function FZ5(J){try{MF6(J)}catch{}}NF6.globalErrorHandler=FZ5});var TF6=B((EF6)=>{Object.defineProperty(EF6,"__esModule",{value:!0});EF6.getStringListFromEnv=EF6.getBooleanFromEnv=EF6.getStringFromEnv=EF6.getNumberFromEnv=void 0;var CF6=C(),jF6=p("util");function OZ5(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){CF6.diag.warn(`Unknown value ${(0,jF6.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}EF6.getNumberFromEnv=OZ5;function RF6(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}EF6.getStringFromEnv=RF6;function DZ5(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return CF6.diag.warn(`Unknown value ${(0,jF6.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}EF6.getBooleanFromEnv=DZ5;function VZ5(J){return RF6(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}EF6.getStringListFromEnv=VZ5});var bF6=B((fF6)=>{Object.defineProperty(fF6,"__esModule",{value:!0});fF6._globalThis=void 0;fF6._globalThis=typeof globalThis==="object"?globalThis:global});var yF6=B((hF6)=>{Object.defineProperty(hF6,"__esModule",{value:!0});hF6.otperformance=void 0;var MZ5=p("perf_hooks");hF6.otperformance=MZ5.performance});var gF6=B((vF6)=>{Object.defineProperty(vF6,"__esModule",{value:!0});vF6.VERSION=void 0;vF6.VERSION="2.0.1"});var mF6=B((dF6)=>{Object.defineProperty(dF6,"__esModule",{value:!0});dF6.ATTR_PROCESS_RUNTIME_NAME=void 0;dF6.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var pF6=B((cF6)=>{Object.defineProperty(cF6,"__esModule",{value:!0});cF6.SDK_INFO=void 0;var NZ5=gF6(),Ym=j1(),PZ5=mF6();cF6.SDK_INFO={[Ym.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[PZ5.ATTR_PROCESS_RUNTIME_NAME]:"node",[Ym.ATTR_TELEMETRY_SDK_LANGUAGE]:Ym.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[Ym.ATTR_TELEMETRY_SDK_VERSION]:NZ5.VERSION}});var oF6=B((nF6)=>{Object.defineProperty(nF6,"__esModule",{value:!0});nF6.unrefTimer=void 0;function LZ5(J){J.unref()}nF6.unrefTimer=LZ5});var sF6=B((rz)=>{Object.defineProperty(rz,"__esModule",{value:!0});rz.unrefTimer=rz.SDK_INFO=rz.otperformance=rz._globalThis=rz.getStringListFromEnv=rz.getNumberFromEnv=rz.getBooleanFromEnv=rz.getStringFromEnv=void 0;var $m=TF6();Object.defineProperty(rz,"getStringFromEnv",{enumerable:!0,get:function(){return $m.getStringFromEnv}});Object.defineProperty(rz,"getBooleanFromEnv",{enumerable:!0,get:function(){return $m.getBooleanFromEnv}});Object.defineProperty(rz,"getNumberFromEnv",{enumerable:!0,get:function(){return $m.getNumberFromEnv}});Object.defineProperty(rz,"getStringListFromEnv",{enumerable:!0,get:function(){return $m.getStringListFromEnv}});var CZ5=bF6();Object.defineProperty(rz,"_globalThis",{enumerable:!0,get:function(){return CZ5._globalThis}});var jZ5=yF6();Object.defineProperty(rz,"otperformance",{enumerable:!0,get:function(){return jZ5.otperformance}});var RZ5=pF6();Object.defineProperty(rz,"SDK_INFO",{enumerable:!0,get:function(){return RZ5.SDK_INFO}});var EZ5=oF6();Object.defineProperty(rz,"unrefTimer",{enumerable:!0,get:function(){return EZ5.unrefTimer}})});var E31=B((tz)=>{Object.defineProperty(tz,"__esModule",{value:!0});tz.getStringListFromEnv=tz.getNumberFromEnv=tz.getStringFromEnv=tz.getBooleanFromEnv=tz.unrefTimer=tz.otperformance=tz._globalThis=tz.SDK_INFO=void 0;var wB=sF6();Object.defineProperty(tz,"SDK_INFO",{enumerable:!0,get:function(){return wB.SDK_INFO}});Object.defineProperty(tz,"_globalThis",{enumerable:!0,get:function(){return wB._globalThis}});Object.defineProperty(tz,"otperformance",{enumerable:!0,get:function(){return wB.otperformance}});Object.defineProperty(tz,"unrefTimer",{enumerable:!0,get:function(){return wB.unrefTimer}});Object.defineProperty(tz,"getBooleanFromEnv",{enumerable:!0,get:function(){return wB.getBooleanFromEnv}});Object.defineProperty(tz,"getStringFromEnv",{enumerable:!0,get:function(){return wB.getStringFromEnv}});Object.defineProperty(tz,"getNumberFromEnv",{enumerable:!0,get:function(){return wB.getNumberFromEnv}});Object.defineProperty(tz,"getStringListFromEnv",{enumerable:!0,get:function(){return wB.getStringListFromEnv}})});var ZU6=B((eF6)=>{Object.defineProperty(eF6,"__esModule",{value:!0});eF6.addHrTimes=eF6.isTimeInput=eF6.isTimeInputHrTime=eF6.hrTimeToMicroseconds=eF6.hrTimeToMilliseconds=eF6.hrTimeToNanoseconds=eF6.hrTimeToTimeStamp=eF6.hrTimeDuration=eF6.timeInputToHrTime=eF6.hrTime=eF6.getTimeOrigin=eF6.millisToHrTime=void 0;var S31=E31(),aF6=9,fZ5=6,kZ5=Math.pow(10,fZ5),zm=Math.pow(10,aF6);function Lj(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*kZ5);return[X,Y]}eF6.millisToHrTime=Lj;function T31(){let J=S31.otperformance.timeOrigin;if(typeof J!=="number"){let Z=S31.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}eF6.getTimeOrigin=T31;function rF6(J){let Z=Lj(T31()),X=Lj(typeof J==="number"?J:S31.otperformance.now());return tF6(Z,X)}eF6.hrTime=rF6;function bZ5(J){if(f31(J))return J;else if(typeof J==="number")if(J<T31())return rF6(J);else return Lj(J);else if(J instanceof Date)return Lj(J.getTime());else throw TypeError("Invalid input type")}eF6.timeInputToHrTime=bZ5;function hZ5(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=zm;return[X,Y]}eF6.hrTimeDuration=hZ5;function _Z5(J){let Z=aF6,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}eF6.hrTimeToTimeStamp=_Z5;function yZ5(J){return J[0]*zm+J[1]}eF6.hrTimeToNanoseconds=yZ5;function vZ5(J){return J[0]*1000+J[1]/1e6}eF6.hrTimeToMilliseconds=vZ5;function xZ5(J){return J[0]*1e6+J[1]/1000}eF6.hrTimeToMicroseconds=xZ5;function f31(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}eF6.isTimeInputHrTime=f31;function gZ5(J){return f31(J)||typeof J==="number"||J instanceof Date}eF6.isTimeInput=gZ5;function tF6(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=zm)X[1]-=zm,X[0]+=1;return X}eF6.addHrTimes=tF6});var YU6=B((XU6)=>{Object.defineProperty(XU6,"__esModule",{value:!0});XU6.ExportResultCode=void 0;var rZ5;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(rZ5=XU6.ExportResultCode||(XU6.ExportResultCode={}))});var GU6=B((WU6)=>{Object.defineProperty(WU6,"__esModule",{value:!0});WU6.CompositePropagator=void 0;var $U6=C();class zU6{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){$U6.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){$U6.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}WU6.CompositePropagator=zU6});var BU6=B((KU6)=>{Object.defineProperty(KU6,"__esModule",{value:!0});KU6.validateValue=KU6.validateKey=void 0;var b31="[_0-9a-z-*/]",tZ5=`[a-z]${b31}{0,255}`,eZ5=`[a-z0-9]${b31}{0,240}@[a-z]${b31}{0,13}`,JX5=new RegExp(`^(?:${tZ5}|${eZ5})$`),ZX5=/^[ -~]{0,255}[!-~]$/,XX5=/,|=/;function YX5(J){return JX5.test(J)}KU6.validateKey=YX5;function $X5(J){return ZX5.test(J)&&!XX5.test(J)}KU6.validateValue=$X5});var _31=B((DU6)=>{Object.defineProperty(DU6,"__esModule",{value:!0});DU6.TraceState=void 0;var HU6=BU6(),FU6=32,WX5=512,UU6=",",OU6="=";class h31{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+OU6+this.get(Z)),J},[]).join(UU6)}_parse(J){if(J.length>WX5)return;if(this._internalState=J.split(UU6).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(OU6);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,HU6.validateKey)(z)&&(0,HU6.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>FU6)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,FU6))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new h31;return J._internalState=new Map(this._internalState),J}}DU6.TraceState=h31});var NU6=B((AU6)=>{Object.defineProperty(AU6,"__esModule",{value:!0});AU6.W3CTraceContextPropagator=AU6.parseTraceParent=AU6.TRACE_STATE_HEADER=AU6.TRACE_PARENT_HEADER=void 0;var Wm=C(),QX5=Pj(),GX5=_31();AU6.TRACE_PARENT_HEADER="traceparent";AU6.TRACE_STATE_HEADER="tracestate";var KX5="00",qX5="(?!ff)[\\da-f]{2}",BX5="(?![0]{32})[\\da-f]{32}",HX5="(?![0]{16})[\\da-f]{16}",FX5="[\\da-f]{2}",UX5=new RegExp(`^\\s?(${qX5})-(${BX5})-(${HX5})-(${FX5})(-.*)?\\s?$`);function IU6(J){let Z=UX5.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}AU6.parseTraceParent=IU6;class wU6{inject(J,Z,X){let Y=Wm.trace.getSpanContext(J);if(!Y||(0,QX5.isTracingSuppressed)(J)||!(0,Wm.isSpanContextValid)(Y))return;let $=`${KX5}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||Wm.TraceFlags.NONE).toString(16)}`;if(X.set(Z,AU6.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,AU6.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,AU6.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=IU6($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,AU6.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new GX5.TraceState(typeof Q==="string"?Q:void 0)}return Wm.trace.setSpanContext(J,z)}fields(){return[AU6.TRACE_PARENT_HEADER,AU6.TRACE_STATE_HEADER]}}AU6.W3CTraceContextPropagator=wU6});var jU6=B((LU6)=>{Object.defineProperty(LU6,"__esModule",{value:!0});LU6.getRPCMetadata=LU6.deleteRPCMetadata=LU6.setRPCMetadata=LU6.RPCType=void 0;var DX5=C(),y31=(0,DX5.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),VX5;(function(J){J.HTTP="http"})(VX5=LU6.RPCType||(LU6.RPCType={}));function IX5(J,Z){return J.setValue(y31,Z)}LU6.setRPCMetadata=IX5;function wX5(J){return J.deleteValue(y31)}LU6.deleteRPCMetadata=wX5;function AX5(J){return J.getValue(y31)}LU6.getRPCMetadata=AX5});var bU6=B((fU6)=>{Object.defineProperty(fU6,"__esModule",{value:!0});fU6.isPlainObject=void 0;var PX5="[object Object]",LX5="[object Null]",CX5="[object Undefined]",jX5=Function.prototype,RU6=jX5.toString,RX5=RU6.call(Object),EX5=Object.getPrototypeOf,EU6=Object.prototype,SU6=EU6.hasOwnProperty,CO=Symbol?Symbol.toStringTag:void 0,TU6=EU6.toString;function SX5(J){if(!TX5(J)||fX5(J)!==PX5)return!1;let Z=EX5(J);if(Z===null)return!0;let X=SU6.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&RU6.call(X)===RX5}fU6.isPlainObject=SX5;function TX5(J){return J!=null&&typeof J=="object"}function fX5(J){if(J==null)return J===void 0?CX5:LX5;return CO&&CO in Object(J)?kX5(J):bX5(J)}function kX5(J){let Z=SU6.call(J,CO),X=J[CO],Y=!1;try{J[CO]=void 0,Y=!0}catch(z){}let $=TU6.call(J);if(Y)if(Z)J[CO]=X;else delete J[CO];return $}function bX5(J){return TU6.call(J)}});var dU6=B((xU6)=>{Object.defineProperty(xU6,"__esModule",{value:!0});xU6.merge=void 0;var hU6=bU6(),hX5=20;function _X5(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=yU6(Z,J.shift(),0,X);return Z}xU6.merge=_X5;function v31(J){if(qm(J))return J.slice();return J}function yU6(J,Z,X=0,Y){let $;if(X>hX5)return;if(X++,Km(J)||Km(Z)||vU6(Z))$=v31(Z);else if(qm(J)){if($=J.slice(),qm(Z))for(let z=0,W=Z.length;z<W;z++)$.push(v31(Z[z]));else if(Cj(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=v31(Z[G])}}}else if(Cj(J))if(Cj(Z)){if(!yX5(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(Km(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(_U6(J,G,Y)||_U6(Z,G,Y))delete $[G];else{if(Cj(q)&&Cj(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=yU6($[G],K,X,Y)}}}}else $=Z;return $}function _U6(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function qm(J){return Array.isArray(J)}function vU6(J){return typeof J==="function"}function Cj(J){return!Km(J)&&!qm(J)&&!vU6(J)&&typeof J==="object"}function Km(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function yX5(J,Z){if(!(0,hU6.isPlainObject)(J)||!(0,hU6.isPlainObject)(Z))return!1;return!0}});var cU6=B((uU6)=>{Object.defineProperty(uU6,"__esModule",{value:!0});uU6.callWithTimeout=uU6.TimeoutError=void 0;class Bm extends Error{constructor(J){super(J);Object.setPrototypeOf(this,Bm.prototype)}}uU6.TimeoutError=Bm;function vX5(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new Bm("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}uU6.callWithTimeout=vX5});var iU6=B((pU6)=>{Object.defineProperty(pU6,"__esModule",{value:!0});pU6.isUrlIgnored=pU6.urlMatches=void 0;function lU6(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}pU6.urlMatches=lU6;function gX5(J,Z){if(!Z)return!1;for(let X of Z)if(lU6(J,X))return!0;return!1}pU6.isUrlIgnored=gX5});var rU6=B((sU6)=>{Object.defineProperty(sU6,"__esModule",{value:!0});sU6.Deferred=void 0;class oU6{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}sU6.Deferred=oU6});var ZO6=B((eU6)=>{Object.defineProperty(eU6,"__esModule",{value:!0});eU6.BindOnceFuture=void 0;var uX5=rU6();class tU6{_callback;_that;_isCalled=!1;_deferred=new uX5.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}eU6.BindOnceFuture=tU6});var zO6=B((YO6)=>{Object.defineProperty(YO6,"__esModule",{value:!0});YO6.diagLogLevelFromString=void 0;var iG=C(),XO6={ALL:iG.DiagLogLevel.ALL,VERBOSE:iG.DiagLogLevel.VERBOSE,DEBUG:iG.DiagLogLevel.DEBUG,INFO:iG.DiagLogLevel.INFO,WARN:iG.DiagLogLevel.WARN,ERROR:iG.DiagLogLevel.ERROR,NONE:iG.DiagLogLevel.NONE};function mX5(J){if(J==null)return;let Z=XO6[J.toUpperCase()];if(Z==null)return iG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(XO6)}, using default`),iG.DiagLogLevel.INFO;return Z}YO6.diagLogLevelFromString=mX5});var KO6=B((QO6)=>{Object.defineProperty(QO6,"__esModule",{value:!0});QO6._export=void 0;var WO6=C(),cX5=Pj();function lX5(J,Z){return new Promise((X)=>{WO6.context.with((0,cX5.suppressTracing)(WO6.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}QO6._export=lX5});var jO=B((d0)=>{Object.defineProperty(d0,"__esModule",{value:!0});d0.internal=d0.diagLogLevelFromString=d0.BindOnceFuture=d0.urlMatches=d0.isUrlIgnored=d0.callWithTimeout=d0.TimeoutError=d0.merge=d0.TraceState=d0.unsuppressTracing=d0.suppressTracing=d0.isTracingSuppressed=d0.setRPCMetadata=d0.getRPCMetadata=d0.deleteRPCMetadata=d0.RPCType=d0.parseTraceParent=d0.W3CTraceContextPropagator=d0.TRACE_STATE_HEADER=d0.TRACE_PARENT_HEADER=d0.CompositePropagator=d0.unrefTimer=d0.otperformance=d0.getStringListFromEnv=d0.getNumberFromEnv=d0.getBooleanFromEnv=d0.getStringFromEnv=d0._globalThis=d0.SDK_INFO=d0.parseKeyPairsIntoRecord=d0.ExportResultCode=d0.timeInputToHrTime=d0.millisToHrTime=d0.isTimeInputHrTime=d0.isTimeInput=d0.hrTimeToTimeStamp=d0.hrTimeToNanoseconds=d0.hrTimeToMilliseconds=d0.hrTimeToMicroseconds=d0.hrTimeDuration=d0.hrTime=d0.getTimeOrigin=d0.addHrTimes=d0.loggingErrorHandler=d0.setGlobalErrorHandler=d0.globalErrorHandler=d0.sanitizeAttributes=d0.isAttributeValue=d0.AnchoredClock=d0.W3CBaggagePropagator=void 0;var pX5=QF6();Object.defineProperty(d0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return pX5.W3CBaggagePropagator}});var nX5=BF6();Object.defineProperty(d0,"AnchoredClock",{enumerable:!0,get:function(){return nX5.AnchoredClock}});var qO6=IF6();Object.defineProperty(d0,"isAttributeValue",{enumerable:!0,get:function(){return qO6.isAttributeValue}});Object.defineProperty(d0,"sanitizeAttributes",{enumerable:!0,get:function(){return qO6.sanitizeAttributes}});var BO6=LF6();Object.defineProperty(d0,"globalErrorHandler",{enumerable:!0,get:function(){return BO6.globalErrorHandler}});Object.defineProperty(d0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return BO6.setGlobalErrorHandler}});var iX5=R31();Object.defineProperty(d0,"loggingErrorHandler",{enumerable:!0,get:function(){return iX5.loggingErrorHandler}});var OX=ZU6();Object.defineProperty(d0,"addHrTimes",{enumerable:!0,get:function(){return OX.addHrTimes}});Object.defineProperty(d0,"getTimeOrigin",{enumerable:!0,get:function(){return OX.getTimeOrigin}});Object.defineProperty(d0,"hrTime",{enumerable:!0,get:function(){return OX.hrTime}});Object.defineProperty(d0,"hrTimeDuration",{enumerable:!0,get:function(){return OX.hrTimeDuration}});Object.defineProperty(d0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return OX.hrTimeToMicroseconds}});Object.defineProperty(d0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return OX.hrTimeToMilliseconds}});Object.defineProperty(d0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return OX.hrTimeToNanoseconds}});Object.defineProperty(d0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return OX.hrTimeToTimeStamp}});Object.defineProperty(d0,"isTimeInput",{enumerable:!0,get:function(){return OX.isTimeInput}});Object.defineProperty(d0,"isTimeInputHrTime",{enumerable:!0,get:function(){return OX.isTimeInputHrTime}});Object.defineProperty(d0,"millisToHrTime",{enumerable:!0,get:function(){return OX.millisToHrTime}});Object.defineProperty(d0,"timeInputToHrTime",{enumerable:!0,get:function(){return OX.timeInputToHrTime}});var oX5=YU6();Object.defineProperty(d0,"ExportResultCode",{enumerable:!0,get:function(){return oX5.ExportResultCode}});var sX5=L31();Object.defineProperty(d0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return sX5.parseKeyPairsIntoRecord}});var AB=E31();Object.defineProperty(d0,"SDK_INFO",{enumerable:!0,get:function(){return AB.SDK_INFO}});Object.defineProperty(d0,"_globalThis",{enumerable:!0,get:function(){return AB._globalThis}});Object.defineProperty(d0,"getStringFromEnv",{enumerable:!0,get:function(){return AB.getStringFromEnv}});Object.defineProperty(d0,"getBooleanFromEnv",{enumerable:!0,get:function(){return AB.getBooleanFromEnv}});Object.defineProperty(d0,"getNumberFromEnv",{enumerable:!0,get:function(){return AB.getNumberFromEnv}});Object.defineProperty(d0,"getStringListFromEnv",{enumerable:!0,get:function(){return AB.getStringListFromEnv}});Object.defineProperty(d0,"otperformance",{enumerable:!0,get:function(){return AB.otperformance}});Object.defineProperty(d0,"unrefTimer",{enumerable:!0,get:function(){return AB.unrefTimer}});var aX5=GU6();Object.defineProperty(d0,"CompositePropagator",{enumerable:!0,get:function(){return aX5.CompositePropagator}});var Hm=NU6();Object.defineProperty(d0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return Hm.TRACE_PARENT_HEADER}});Object.defineProperty(d0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return Hm.TRACE_STATE_HEADER}});Object.defineProperty(d0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return Hm.W3CTraceContextPropagator}});Object.defineProperty(d0,"parseTraceParent",{enumerable:!0,get:function(){return Hm.parseTraceParent}});var Fm=jU6();Object.defineProperty(d0,"RPCType",{enumerable:!0,get:function(){return Fm.RPCType}});Object.defineProperty(d0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Fm.deleteRPCMetadata}});Object.defineProperty(d0,"getRPCMetadata",{enumerable:!0,get:function(){return Fm.getRPCMetadata}});Object.defineProperty(d0,"setRPCMetadata",{enumerable:!0,get:function(){return Fm.setRPCMetadata}});var x31=Pj();Object.defineProperty(d0,"isTracingSuppressed",{enumerable:!0,get:function(){return x31.isTracingSuppressed}});Object.defineProperty(d0,"suppressTracing",{enumerable:!0,get:function(){return x31.suppressTracing}});Object.defineProperty(d0,"unsuppressTracing",{enumerable:!0,get:function(){return x31.unsuppressTracing}});var rX5=_31();Object.defineProperty(d0,"TraceState",{enumerable:!0,get:function(){return rX5.TraceState}});var tX5=dU6();Object.defineProperty(d0,"merge",{enumerable:!0,get:function(){return tX5.merge}});var HO6=cU6();Object.defineProperty(d0,"TimeoutError",{enumerable:!0,get:function(){return HO6.TimeoutError}});Object.defineProperty(d0,"callWithTimeout",{enumerable:!0,get:function(){return HO6.callWithTimeout}});var FO6=iU6();Object.defineProperty(d0,"isUrlIgnored",{enumerable:!0,get:function(){return FO6.isUrlIgnored}});Object.defineProperty(d0,"urlMatches",{enumerable:!0,get:function(){return FO6.urlMatches}});var eX5=ZO6();Object.defineProperty(d0,"BindOnceFuture",{enumerable:!0,get:function(){return eX5.BindOnceFuture}});var JY5=zO6();Object.defineProperty(d0,"diagLogLevelFromString",{enumerable:!0,get:function(){return JY5.diagLogLevelFromString}});var ZY5=KO6();d0.internal={_export:ZY5._export}});var IO6=B((DO6)=>{Object.defineProperty(DO6,"__esModule",{value:!0});DO6.LastValueAggregator=DO6.LastValueAccumulation=void 0;var XY5=ew(),jj=jO(),YY5=IB();class Rj{startTime;_current;sampleTime;constructor(J,Z=0,X=[0,0]){this.startTime=J,this._current=Z,this.sampleTime=X}record(J){this._current=J,this.sampleTime=(0,jj.millisToHrTime)(Date.now())}setStartTime(J){this.startTime=J}toPointValue(){return this._current}}DO6.LastValueAccumulation=Rj;class OO6{kind=XY5.AggregatorKind.LAST_VALUE;createAccumulation(J){return new Rj(J)}merge(J,Z){let X=(0,jj.hrTimeToMicroseconds)(Z.sampleTime)>=(0,jj.hrTimeToMicroseconds)(J.sampleTime)?Z:J;return new Rj(J.startTime,X.toPointValue(),X.sampleTime)}diff(J,Z){let X=(0,jj.hrTimeToMicroseconds)(Z.sampleTime)>=(0,jj.hrTimeToMicroseconds)(J.sampleTime)?Z:J;return new Rj(Z.startTime,X.toPointValue(),X.sampleTime)}toMetricData(J,Z,X,Y){return{descriptor:J,aggregationTemporality:Z,dataPointType:YY5.DataPointType.GAUGE,dataPoints:X.map(([$,z])=>{return{attributes:$,startTime:z.startTime,endTime:Y,value:z.toPointValue()}})}}}DO6.LastValueAggregator=OO6});var NO6=B((AO6)=>{Object.defineProperty(AO6,"__esModule",{value:!0});AO6.SumAggregator=AO6.SumAccumulation=void 0;var zY5=ew(),WY5=IB();class RO{startTime;monotonic;_current;reset;constructor(J,Z,X=0,Y=!1){this.startTime=J,this.monotonic=Z,this._current=X,this.reset=Y}record(J){if(this.monotonic&&J<0)return;this._current+=J}setStartTime(J){this.startTime=J}toPointValue(){return this._current}}AO6.SumAccumulation=RO;class wO6{monotonic;kind=zY5.AggregatorKind.SUM;constructor(J){this.monotonic=J}createAccumulation(J){return new RO(J,this.monotonic)}merge(J,Z){let X=J.toPointValue(),Y=Z.toPointValue();if(Z.reset)return new RO(Z.startTime,this.monotonic,Y,Z.reset);return new RO(J.startTime,this.monotonic,X+Y)}diff(J,Z){let X=J.toPointValue(),Y=Z.toPointValue();if(this.monotonic&&X>Y)return new RO(Z.startTime,this.monotonic,Y,!0);return new RO(Z.startTime,this.monotonic,Y-X)}toMetricData(J,Z,X,Y){return{descriptor:J,aggregationTemporality:Z,dataPointType:WY5.DataPointType.SUM,dataPoints:X.map(([$,z])=>{return{attributes:$,startTime:z.startTime,endTime:Y,value:z.toPointValue()}}),isMonotonic:this.monotonic}}}AO6.SumAggregator=wO6});var RO6=B((dY)=>{Object.defineProperty(dY,"__esModule",{value:!0});dY.SumAggregator=dY.SumAccumulation=dY.LastValueAggregator=dY.LastValueAccumulation=dY.ExponentialHistogramAggregator=dY.ExponentialHistogramAccumulation=dY.HistogramAggregator=dY.HistogramAccumulation=dY.DropAggregator=void 0;var GY5=UH6();Object.defineProperty(dY,"DropAggregator",{enumerable:!0,get:function(){return GY5.DropAggregator}});var PO6=IH6();Object.defineProperty(dY,"HistogramAccumulation",{enumerable:!0,get:function(){return PO6.HistogramAccumulation}});Object.defineProperty(dY,"HistogramAggregator",{enumerable:!0,get:function(){return PO6.HistogramAggregator}});var LO6=aH6();Object.defineProperty(dY,"ExponentialHistogramAccumulation",{enumerable:!0,get:function(){return LO6.ExponentialHistogramAccumulation}});Object.defineProperty(dY,"ExponentialHistogramAggregator",{enumerable:!0,get:function(){return LO6.ExponentialHistogramAggregator}});var CO6=IO6();Object.defineProperty(dY,"LastValueAccumulation",{enumerable:!0,get:function(){return CO6.LastValueAccumulation}});Object.defineProperty(dY,"LastValueAggregator",{enumerable:!0,get:function(){return CO6.LastValueAggregator}});var jO6=NO6();Object.defineProperty(dY,"SumAccumulation",{enumerable:!0,get:function(){return jO6.SumAccumulation}});Object.defineProperty(dY,"SumAggregator",{enumerable:!0,get:function(){return jO6.SumAggregator}})});var hO6=B((EO6)=>{Object.defineProperty(EO6,"__esModule",{value:!0});EO6.DEFAULT_AGGREGATION=EO6.EXPONENTIAL_HISTOGRAM_AGGREGATION=EO6.HISTOGRAM_AGGREGATION=EO6.LAST_VALUE_AGGREGATION=EO6.SUM_AGGREGATION=EO6.DROP_AGGREGATION=EO6.DefaultAggregation=EO6.ExponentialHistogramAggregation=EO6.ExplicitBucketHistogramAggregation=EO6.HistogramAggregation=EO6.LastValueAggregation=EO6.SumAggregation=EO6.DropAggregation=void 0;var qY5=C(),EO=RO6(),ez=IB();class Um{static DEFAULT_INSTANCE=new EO.DropAggregator;createAggregator(J){return Um.DEFAULT_INSTANCE}}EO6.DropAggregation=Um;class Ej{static MONOTONIC_INSTANCE=new EO.SumAggregator(!0);static NON_MONOTONIC_INSTANCE=new EO.SumAggregator(!1);createAggregator(J){switch(J.type){case ez.InstrumentType.COUNTER:case ez.InstrumentType.OBSERVABLE_COUNTER:case ez.InstrumentType.HISTOGRAM:return Ej.MONOTONIC_INSTANCE;default:return Ej.NON_MONOTONIC_INSTANCE}}}EO6.SumAggregation=Ej;class Om{static DEFAULT_INSTANCE=new EO.LastValueAggregator;createAggregator(J){return Om.DEFAULT_INSTANCE}}EO6.LastValueAggregation=Om;class Dm{static DEFAULT_INSTANCE=new EO.HistogramAggregator([0,5,10,25,50,75,100,250,500,750,1000,2500,5000,7500,1e4],!0);createAggregator(J){return Dm.DEFAULT_INSTANCE}}EO6.HistogramAggregation=Dm;class g31{_recordMinMax;_boundaries;constructor(J,Z=!0){if(this._recordMinMax=Z,J==null)throw new Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");J=J.concat(),J=J.sort(($,z)=>$-z);let X=J.lastIndexOf(-1/0),Y=J.indexOf(1/0);if(Y===-1)Y=void 0;this._boundaries=J.slice(X+1,Y)}createAggregator(J){return new EO.HistogramAggregator(this._boundaries,this._recordMinMax)}}EO6.ExplicitBucketHistogramAggregation=g31;class d31{_maxSize;_recordMinMax;constructor(J=160,Z=!0){this._maxSize=J,this._recordMinMax=Z}createAggregator(J){return new EO.ExponentialHistogramAggregator(this._maxSize,this._recordMinMax)}}EO6.ExponentialHistogramAggregation=d31;class u31{_resolve(J){switch(J.type){case ez.InstrumentType.COUNTER:case ez.InstrumentType.UP_DOWN_COUNTER:case ez.InstrumentType.OBSERVABLE_COUNTER:case ez.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return EO6.SUM_AGGREGATION;case ez.InstrumentType.GAUGE:case ez.InstrumentType.OBSERVABLE_GAUGE:return EO6.LAST_VALUE_AGGREGATION;case ez.InstrumentType.HISTOGRAM:{if(J.advice.explicitBucketBoundaries)return new g31(J.advice.explicitBucketBoundaries);return EO6.HISTOGRAM_AGGREGATION}}return qY5.diag.warn(`Unable to recognize instrument type: ${J.type}`),EO6.DROP_AGGREGATION}createAggregator(J){return this._resolve(J).createAggregator(J)}}EO6.DefaultAggregation=u31;EO6.DROP_AGGREGATION=new Um;EO6.SUM_AGGREGATION=new Ej;EO6.LAST_VALUE_AGGREGATION=new Om;EO6.HISTOGRAM_AGGREGATION=new Dm;EO6.EXPONENTIAL_HISTOGRAM_AGGREGATION=new d31;EO6.DEFAULT_AGGREGATION=new u31});var Sj=B((yO6)=>{Object.defineProperty(yO6,"__esModule",{value:!0});yO6.toAggregation=yO6.AggregationType=void 0;var SO=hO6(),TO;(function(J){J[J.DEFAULT=0]="DEFAULT",J[J.DROP=1]="DROP",J[J.SUM=2]="SUM",J[J.LAST_VALUE=3]="LAST_VALUE",J[J.EXPLICIT_BUCKET_HISTOGRAM=4]="EXPLICIT_BUCKET_HISTOGRAM",J[J.EXPONENTIAL_HISTOGRAM=5]="EXPONENTIAL_HISTOGRAM"})(TO=yO6.AggregationType||(yO6.AggregationType={}));function wY5(J){switch(J.type){case TO.DEFAULT:return SO.DEFAULT_AGGREGATION;case TO.DROP:return SO.DROP_AGGREGATION;case TO.SUM:return SO.SUM_AGGREGATION;case TO.LAST_VALUE:return SO.LAST_VALUE_AGGREGATION;case TO.EXPONENTIAL_HISTOGRAM:{let Z=J;return new SO.ExponentialHistogramAggregation(Z.options?.maxSize,Z.options?.recordMinMax)}case TO.EXPLICIT_BUCKET_HISTOGRAM:{let Z=J;if(Z.options==null)return SO.HISTOGRAM_AGGREGATION;else return new SO.ExplicitBucketHistogramAggregation(Z.options?.boundaries,Z.options?.recordMinMax)}default:throw new Error("Unsupported Aggregation")}}yO6.toAggregation=wY5});var m31=B((xO6)=>{Object.defineProperty(xO6,"__esModule",{value:!0});xO6.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=xO6.DEFAULT_AGGREGATION_SELECTOR=void 0;var AY5=tu(),MY5=Sj(),NY5=(J)=>{return{type:MY5.AggregationType.DEFAULT}};xO6.DEFAULT_AGGREGATION_SELECTOR=NY5;var PY5=(J)=>AY5.AggregationTemporality.CUMULATIVE;xO6.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=PY5});var c31=B((cO6)=>{Object.defineProperty(cO6,"__esModule",{value:!0});cO6.MetricReader=void 0;var dO6=C(),Vm=gY(),uO6=m31();class mO6{_shutdown=!1;_metricProducers;_sdkMetricProducer;_aggregationTemporalitySelector;_aggregationSelector;_cardinalitySelector;constructor(J){this._aggregationSelector=J?.aggregationSelector??uO6.DEFAULT_AGGREGATION_SELECTOR,this._aggregationTemporalitySelector=J?.aggregationTemporalitySelector??uO6.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR,this._metricProducers=J?.metricProducers??[],this._cardinalitySelector=J?.cardinalitySelector}setMetricProducer(J){if(this._sdkMetricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=J,this.onInitialized()}selectAggregation(J){return this._aggregationSelector(J)}selectAggregationTemporality(J){return this._aggregationTemporalitySelector(J)}selectCardinalityLimit(J){return this._cardinalitySelector?this._cardinalitySelector(J):2000}onInitialized(){}async collect(J){if(this._sdkMetricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");let[Z,...X]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:J?.timeoutMillis}),...this._metricProducers.map((W)=>W.collect({timeoutMillis:J?.timeoutMillis}))]),Y=Z.errors.concat((0,Vm.FlatMap)(X,(W)=>W.errors)),$=Z.resourceMetrics.resource,z=Z.resourceMetrics.scopeMetrics.concat((0,Vm.FlatMap)(X,(W)=>W.resourceMetrics.scopeMetrics));return{resourceMetrics:{resource:$,scopeMetrics:z},errors:Y}}async shutdown(J){if(this._shutdown){dO6.diag.error("Cannot call shutdown twice.");return}if(J?.timeoutMillis==null)await this.onShutdown();else await(0,Vm.callWithTimeout)(this.onShutdown(),J.timeoutMillis);this._shutdown=!0}async forceFlush(J){if(this._shutdown){dO6.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if(J?.timeoutMillis==null){await this.onForceFlush();return}await(0,Vm.callWithTimeout)(this.onForceFlush(),J.timeoutMillis)}}cO6.MetricReader=mO6});var sO6=B((iO6)=>{Object.defineProperty(iO6,"__esModule",{value:!0});iO6.PeriodicExportingMetricReader=void 0;var l31=C(),Tj=jO(),CY5=c31(),pO6=gY();class nO6 extends CY5.MetricReader{_interval;_exporter;_exportInterval;_exportTimeout;constructor(J){super({aggregationSelector:J.exporter.selectAggregation?.bind(J.exporter),aggregationTemporalitySelector:J.exporter.selectAggregationTemporality?.bind(J.exporter),metricProducers:J.metricProducers});if(J.exportIntervalMillis!==void 0&&J.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(J.exportTimeoutMillis!==void 0&&J.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(J.exportTimeoutMillis!==void 0&&J.exportIntervalMillis!==void 0&&J.exportIntervalMillis<J.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=J.exportIntervalMillis??60000,this._exportTimeout=J.exportTimeoutMillis??30000,this._exporter=J.exporter}async _runOnce(){try{await(0,pO6.callWithTimeout)(this._doRun(),this._exportTimeout)}catch(J){if(J instanceof pO6.TimeoutError){l31.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,Tj.globalErrorHandler)(J)}}async _doRun(){let{resourceMetrics:J,errors:Z}=await this.collect({timeoutMillis:this._exportTimeout});if(Z.length>0)l31.diag.error("PeriodicExportingMetricReader: metrics collection errors",...Z);if(J.resource.asyncAttributesPending)try{await J.resource.waitForAsyncAttributes?.()}catch(Y){l31.diag.debug("Error while resolving async portion of resource: ",Y),(0,Tj.globalErrorHandler)(Y)}if(J.scopeMetrics.length===0)return;let X=await Tj.internal._export(this._exporter,J);if(X.code!==Tj.ExportResultCode.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${X.error})`)}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),(0,Tj.unrefTimer)(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){if(this._interval)clearInterval(this._interval);await this.onForceFlush(),await this._exporter.shutdown()}}iO6.PeriodicExportingMetricReader=nO6});var JD6=B((tO6)=>{Object.defineProperty(tO6,"__esModule",{value:!0});tO6.InMemoryMetricExporter=void 0;var aO6=jO();class rO6{_shutdown=!1;_aggregationTemporality;_metrics=[];constructor(J){this._aggregationTemporality=J}export(J,Z){if(this._shutdown){setTimeout(()=>Z({code:aO6.ExportResultCode.FAILED}),0);return}this._metrics.push(J),setTimeout(()=>Z({code:aO6.ExportResultCode.SUCCESS}),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(J){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}}tO6.InMemoryMetricExporter=rO6});var $D6=B((XD6)=>{Object.defineProperty(XD6,"__esModule",{value:!0});XD6.ConsoleMetricExporter=void 0;var ZD6=jO(),jY5=m31();class p31{_shutdown=!1;_temporalitySelector;constructor(J){this._temporalitySelector=J?.temporalitySelector??jY5.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}export(J,Z){if(this._shutdown){setImmediate(Z,{code:ZD6.ExportResultCode.FAILED});return}return p31._sendMetrics(J,Z)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(J){return this._temporalitySelector(J)}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(J,Z){for(let X of J.scopeMetrics)for(let Y of X.metrics)console.dir({descriptor:Y.descriptor,dataPointType:Y.dataPointType,dataPoints:Y.dataPoints},{depth:null});Z({code:ZD6.ExportResultCode.SUCCESS})}}XD6.ConsoleMetricExporter=p31});var GD6=B((WD6)=>{Object.defineProperty(WD6,"__esModule",{value:!0});WD6.ViewRegistry=void 0;class zD6{_registeredViews=[];addView(J){this._registeredViews.push(J)}findViews(J,Z){return this._registeredViews.filter((Y)=>{return this._matchInstrument(Y.instrumentSelector,J)&&this._matchMeter(Y.meterSelector,Z)})}_matchInstrument(J,Z){return(J.getType()===void 0||Z.type===J.getType())&&J.getNameFilter().match(Z.name)&&J.getUnitFilter().match(Z.unit)}_matchMeter(J,Z){return J.getNameFilter().match(Z.name)&&(Z.version===void 0||J.getVersionFilter().match(Z.version))&&(Z.schemaUrl===void 0||J.getSchemaUrlFilter().match(Z.schemaUrl))}}WD6.ViewRegistry=zD6});var fj=B((BD6)=>{Object.defineProperty(BD6,"__esModule",{value:!0});BD6.isValidName=BD6.isDescriptorCompatibleWith=BD6.createInstrumentDescriptorWithView=BD6.createInstrumentDescriptor=void 0;var KD6=C(),RY5=gY();function EY5(J,Z,X){if(!qD6(J))KD6.diag.warn(`Invalid metric name: "${J}". The metric name should be a ASCII string with a length no greater than 255 characters.`);return{name:J,type:Z,description:X?.description??"",unit:X?.unit??"",valueType:X?.valueType??KD6.ValueType.DOUBLE,advice:X?.advice??{}}}BD6.createInstrumentDescriptor=EY5;function SY5(J,Z){return{name:J.name??Z.name,description:J.description??Z.description,type:Z.type,unit:Z.unit,valueType:Z.valueType,advice:Z.advice}}BD6.createInstrumentDescriptorWithView=SY5;function TY5(J,Z){return(0,RY5.equalsCaseInsensitive)(J.name,Z.name)&&J.unit===Z.unit&&J.type===Z.type&&J.valueType===Z.valueType}BD6.isDescriptorCompatibleWith=TY5;var fY5=/^[a-z][a-z0-9_.\-/]{0,254}$/i;function qD6(J){return J.match(fY5)!=null}BD6.isValidName=qD6});var Im=B((AD6)=>{Object.defineProperty(AD6,"__esModule",{value:!0});AD6.isObservableInstrument=AD6.ObservableUpDownCounterInstrument=AD6.ObservableGaugeInstrument=AD6.ObservableCounterInstrument=AD6.ObservableInstrument=AD6.HistogramInstrument=AD6.GaugeInstrument=AD6.CounterInstrument=AD6.UpDownCounterInstrument=AD6.SyncInstrument=void 0;var YA=C(),_Y5=jO();class $A{_writableMetricStorage;_descriptor;constructor(J,Z){this._writableMetricStorage=J,this._descriptor=Z}_record(J,Z={},X=YA.context.active()){if(typeof J!=="number"){YA.diag.warn(`non-number value provided to metric ${this._descriptor.name}: ${J}`);return}if(this._descriptor.valueType===YA.ValueType.INT&&!Number.isInteger(J)){if(YA.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),J=Math.trunc(J),!Number.isInteger(J))return}this._writableMetricStorage.record(J,Z,X,(0,_Y5.millisToHrTime)(Date.now()))}}AD6.SyncInstrument=$A;class FD6 extends $A{add(J,Z,X){this._record(J,Z,X)}}AD6.UpDownCounterInstrument=FD6;class UD6 extends $A{add(J,Z,X){if(J<0){YA.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${J}`);return}this._record(J,Z,X)}}AD6.CounterInstrument=UD6;class OD6 extends $A{record(J,Z,X){this._record(J,Z,X)}}AD6.GaugeInstrument=OD6;class DD6 extends $A{record(J,Z,X){if(J<0){YA.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${J}`);return}this._record(J,Z,X)}}AD6.HistogramInstrument=DD6;class zA{_observableRegistry;_metricStorages;_descriptor;constructor(J,Z,X){this._observableRegistry=X,this._descriptor=J,this._metricStorages=Z}addCallback(J){this._observableRegistry.addCallback(J,this)}removeCallback(J){this._observableRegistry.removeCallback(J,this)}}AD6.ObservableInstrument=zA;class VD6 extends zA{}AD6.ObservableCounterInstrument=VD6;class ID6 extends zA{}AD6.ObservableGaugeInstrument=ID6;class wD6 extends zA{}AD6.ObservableUpDownCounterInstrument=wD6;function yY5(J){return J instanceof zA}AD6.isObservableInstrument=yY5});var CD6=B((PD6)=>{Object.defineProperty(PD6,"__esModule",{value:!0});PD6.Meter=void 0;var fO=fj(),kO=Im(),bO=IB();class ND6{_meterSharedState;constructor(J){this._meterSharedState=J}createGauge(J,Z){let X=(0,fO.createInstrumentDescriptor)(J,bO.InstrumentType.GAUGE,Z),Y=this._meterSharedState.registerMetricStorage(X);return new kO.GaugeInstrument(Y,X)}createHistogram(J,Z){let X=(0,fO.createInstrumentDescriptor)(J,bO.InstrumentType.HISTOGRAM,Z),Y=this._meterSharedState.registerMetricStorage(X);return new kO.HistogramInstrument(Y,X)}createCounter(J,Z){let X=(0,fO.createInstrumentDescriptor)(J,bO.InstrumentType.COUNTER,Z),Y=this._meterSharedState.registerMetricStorage(X);return new kO.CounterInstrument(Y,X)}createUpDownCounter(J,Z){let X=(0,fO.createInstrumentDescriptor)(J,bO.InstrumentType.UP_DOWN_COUNTER,Z),Y=this._meterSharedState.registerMetricStorage(X);return new kO.UpDownCounterInstrument(Y,X)}createObservableGauge(J,Z){let X=(0,fO.createInstrumentDescriptor)(J,bO.InstrumentType.OBSERVABLE_GAUGE,Z),Y=this._meterSharedState.registerAsyncMetricStorage(X);return new kO.ObservableGaugeInstrument(X,Y,this._meterSharedState.observableRegistry)}createObservableCounter(J,Z){let X=(0,fO.createInstrumentDescriptor)(J,bO.InstrumentType.OBSERVABLE_COUNTER,Z),Y=this._meterSharedState.registerAsyncMetricStorage(X);return new kO.ObservableCounterInstrument(X,Y,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(J,Z){let X=(0,fO.createInstrumentDescriptor)(J,bO.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,Z),Y=this._meterSharedState.registerAsyncMetricStorage(X);return new kO.ObservableUpDownCounterInstrument(X,Y,this._meterSharedState.observableRegistry)}addBatchObservableCallback(J,Z){this._meterSharedState.observableRegistry.addBatchCallback(J,Z)}removeBatchObservableCallback(J,Z){this._meterSharedState.observableRegistry.removeBatchCallback(J,Z)}}PD6.Meter=ND6});var n31=B((RD6)=>{Object.defineProperty(RD6,"__esModule",{value:!0});RD6.MetricStorage=void 0;var nY5=fj();class jD6{_instrumentDescriptor;constructor(J){this._instrumentDescriptor=J}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(J){this._instrumentDescriptor=(0,nY5.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:J,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})}}RD6.MetricStorage=jD6});var kj=B((TD6)=>{Object.defineProperty(TD6,"__esModule",{value:!0});TD6.AttributeHashMap=TD6.HashMap=void 0;var iY5=gY();class i31{_hash;_valueMap=new Map;_keyMap=new Map;constructor(J){this._hash=J}get(J,Z){return Z??=this._hash(J),this._valueMap.get(Z)}getOrDefault(J,Z){let X=this._hash(J);if(this._valueMap.has(X))return this._valueMap.get(X);let Y=Z();if(!this._keyMap.has(X))this._keyMap.set(X,J);return this._valueMap.set(X,Y),Y}set(J,Z,X){if(X??=this._hash(J),!this._keyMap.has(X))this._keyMap.set(X,J);this._valueMap.set(X,Z)}has(J,Z){return Z??=this._hash(J),this._valueMap.has(Z)}*keys(){let J=this._keyMap.entries(),Z=J.next();while(Z.done!==!0)yield[Z.value[1],Z.value[0]],Z=J.next()}*entries(){let J=this._valueMap.entries(),Z=J.next();while(Z.done!==!0)yield[this._keyMap.get(Z.value[0]),Z.value[1],Z.value[0]],Z=J.next()}get size(){return this._valueMap.size}}TD6.HashMap=i31;class SD6 extends i31{constructor(){super(iY5.hashAttributes)}}TD6.AttributeHashMap=SD6});var s31=B((bD6)=>{Object.defineProperty(bD6,"__esModule",{value:!0});bD6.DeltaMetricProcessor=void 0;var sY5=gY(),o31=kj();class kD6{_aggregator;_activeCollectionStorage=new o31.AttributeHashMap;_cumulativeMemoStorage=new o31.AttributeHashMap;_cardinalityLimit;_overflowAttributes={"otel.metric.overflow":!0};_overflowHashCode;constructor(J,Z){this._aggregator=J,this._cardinalityLimit=(Z??2000)-1,this._overflowHashCode=(0,sY5.hashAttributes)(this._overflowAttributes)}record(J,Z,X,Y){let $=this._activeCollectionStorage.get(Z);if(!$){if(this._activeCollectionStorage.size>=this._cardinalityLimit){this._activeCollectionStorage.getOrDefault(this._overflowAttributes,()=>this._aggregator.createAccumulation(Y))?.record(J);return}$=this._aggregator.createAccumulation(Y),this._activeCollectionStorage.set(Z,$)}$?.record(J)}batchCumulate(J,Z){Array.from(J.entries()).forEach(([X,Y,$])=>{let z=this._aggregator.createAccumulation(Z);z?.record(Y);let W=z;if(this._cumulativeMemoStorage.has(X,$)){let Q=this._cumulativeMemoStorage.get(X,$);W=this._aggregator.diff(Q,z)}else if(this._cumulativeMemoStorage.size>=this._cardinalityLimit){if(X=this._overflowAttributes,$=this._overflowHashCode,this._cumulativeMemoStorage.has(X,$)){let Q=this._cumulativeMemoStorage.get(X,$);W=this._aggregator.diff(Q,z)}}if(this._activeCollectionStorage.has(X,$)){let Q=this._activeCollectionStorage.get(X,$);W=this._aggregator.merge(Q,W)}this._cumulativeMemoStorage.set(X,z,$),this._activeCollectionStorage.set(X,W,$)})}collect(){let J=this._activeCollectionStorage;return this._activeCollectionStorage=new o31.AttributeHashMap,J}}bD6.DeltaMetricProcessor=kD6});var a31=B((_D6)=>{Object.defineProperty(_D6,"__esModule",{value:!0});_D6.TemporalMetricProcessor=void 0;var aY5=tu(),rY5=kj();class bj{_aggregator;_unreportedAccumulations=new Map;_reportHistory=new Map;constructor(J,Z){this._aggregator=J,Z.forEach((X)=>{this._unreportedAccumulations.set(X,[])})}buildMetrics(J,Z,X,Y){this._stashAccumulations(X);let $=this._getMergedUnreportedAccumulations(J),z=$,W;if(this._reportHistory.has(J)){let G=this._reportHistory.get(J),K=G.collectionTime;if(W=G.aggregationTemporality,W===aY5.AggregationTemporality.CUMULATIVE)z=bj.merge(G.accumulations,$,this._aggregator);else z=bj.calibrateStartTime(G.accumulations,$,K)}else W=J.selectAggregationTemporality(Z.type);this._reportHistory.set(J,{accumulations:z,collectionTime:Y,aggregationTemporality:W});let Q=tY5(z);if(Q.length===0)return;return this._aggregator.toMetricData(Z,W,Q,Y)}_stashAccumulations(J){let Z=this._unreportedAccumulations.keys();for(let X of Z){let Y=this._unreportedAccumulations.get(X);if(Y===void 0)Y=[],this._unreportedAccumulations.set(X,Y);Y.push(J)}}_getMergedUnreportedAccumulations(J){let Z=new rY5.AttributeHashMap,X=this._unreportedAccumulations.get(J);if(this._unreportedAccumulations.set(J,[]),X===void 0)return Z;for(let Y of X)Z=bj.merge(Z,Y,this._aggregator);return Z}static merge(J,Z,X){let Y=J,$=Z.entries(),z=$.next();while(z.done!==!0){let[W,Q,G]=z.value;if(J.has(W,G)){let K=J.get(W,G),q=X.merge(K,Q);Y.set(W,q,G)}else Y.set(W,Q,G);z=$.next()}return Y}static calibrateStartTime(J,Z,X){for(let[Y,$]of J.keys())Z.get(Y,$)?.setStartTime(X);return Z}}_D6.TemporalMetricProcessor=bj;function tY5(J){return Array.from(J.entries())}});var dD6=B((xD6)=>{Object.defineProperty(xD6,"__esModule",{value:!0});xD6.AsyncMetricStorage=void 0;var eY5=n31(),J$5=s31(),Z$5=a31(),X$5=kj();class vD6 extends eY5.MetricStorage{_attributesProcessor;_aggregationCardinalityLimit;_deltaMetricStorage;_temporalMetricStorage;constructor(J,Z,X,Y,$){super(J);this._attributesProcessor=X,this._aggregationCardinalityLimit=$,this._deltaMetricStorage=new J$5.DeltaMetricProcessor(Z,this._aggregationCardinalityLimit),this._temporalMetricStorage=new Z$5.TemporalMetricProcessor(Z,Y)}record(J,Z){let X=new X$5.AttributeHashMap;Array.from(J.entries()).forEach(([Y,$])=>{X.set(this._attributesProcessor.process(Y),$)}),this._deltaMetricStorage.batchCumulate(X,Z)}collect(J,Z){let X=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(J,this._instrumentDescriptor,X,Z)}}xD6.AsyncMetricStorage=vD6});var iD6=B((pD6)=>{Object.defineProperty(pD6,"__esModule",{value:!0});pD6.getConflictResolutionRecipe=pD6.getDescriptionResolutionRecipe=pD6.getTypeConflictResolutionRecipe=pD6.getUnitConflictResolutionRecipe=pD6.getValueTypeConflictResolutionRecipe=pD6.getIncompatibilityDetails=void 0;function Y$5(J,Z){let X="";if(J.unit!==Z.unit)X+=`	- Unit '${J.unit}' does not match '${Z.unit}'
`;if(J.type!==Z.type)X+=`	- Type '${J.type}' does not match '${Z.type}'
`;if(J.valueType!==Z.valueType)X+=`	- Value Type '${J.valueType}' does not match '${Z.valueType}'
`;if(J.description!==Z.description)X+=`	- Description '${J.description}' does not match '${Z.description}'
`;return X}pD6.getIncompatibilityDetails=Y$5;function uD6(J,Z){return`	- use valueType '${J.valueType}' on instrument creation or use an instrument name other than '${Z.name}'`}pD6.getValueTypeConflictResolutionRecipe=uD6;function mD6(J,Z){return`	- use unit '${J.unit}' on instrument creation or use an instrument name other than '${Z.name}'`}pD6.getUnitConflictResolutionRecipe=mD6;function cD6(J,Z){let X={name:Z.name,type:Z.type,unit:Z.unit},Y=JSON.stringify(X);return`	- create a new view with a name other than '${J.name}' and InstrumentSelector '${Y}'`}pD6.getTypeConflictResolutionRecipe=cD6;function lD6(J,Z){let X={name:Z.name,type:Z.type,unit:Z.unit},Y=JSON.stringify(X);return`	- create a new view with a name other than '${J.name}' and InstrumentSelector '${Y}'
    	- OR - create a new view with the name ${J.name} and description '${J.description}' and InstrumentSelector ${Y}
    	- OR - create a new view with the name ${Z.name} and description '${J.description}' and InstrumentSelector ${Y}`}pD6.getDescriptionResolutionRecipe=lD6;function $$5(J,Z){if(J.valueType!==Z.valueType)return uD6(J,Z);if(J.unit!==Z.unit)return mD6(J,Z);if(J.type!==Z.type)return cD6(J,Z);if(J.description!==Z.description)return lD6(J,Z);return""}pD6.getConflictResolutionRecipe=$$5});var rD6=B((sD6)=>{Object.defineProperty(sD6,"__esModule",{value:!0});sD6.MetricStorageRegistry=void 0;var q$5=fj(),oD6=C(),wm=iD6();class r31{_sharedRegistry=new Map;_perCollectorRegistry=new Map;static create(){return new r31}getStorages(J){let Z=[];for(let Y of this._sharedRegistry.values())Z=Z.concat(Y);let X=this._perCollectorRegistry.get(J);if(X!=null)for(let Y of X.values())Z=Z.concat(Y);return Z}register(J){this._registerStorage(J,this._sharedRegistry)}registerForCollector(J,Z){let X=this._perCollectorRegistry.get(J);if(X==null)X=new Map,this._perCollectorRegistry.set(J,X);this._registerStorage(Z,X)}findOrUpdateCompatibleStorage(J){let Z=this._sharedRegistry.get(J.name);if(Z===void 0)return null;return this._findOrUpdateCompatibleStorage(J,Z)}findOrUpdateCompatibleCollectorStorage(J,Z){let X=this._perCollectorRegistry.get(J);if(X===void 0)return null;let Y=X.get(Z.name);if(Y===void 0)return null;return this._findOrUpdateCompatibleStorage(Z,Y)}_registerStorage(J,Z){let X=J.getInstrumentDescriptor(),Y=Z.get(X.name);if(Y===void 0){Z.set(X.name,[J]);return}Y.push(J)}_findOrUpdateCompatibleStorage(J,Z){let X=null;for(let Y of Z){let $=Y.getInstrumentDescriptor();if((0,q$5.isDescriptorCompatibleWith)($,J)){if($.description!==J.description){if(J.description.length>$.description.length)Y.updateDescription(J.description);oD6.diag.warn("A view or instrument with the name ",J.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,wm.getIncompatibilityDetails)($,J),`The longer description will be used.
To resolve the conflict:`,(0,wm.getConflictResolutionRecipe)($,J))}X=Y}else oD6.diag.warn("A view or instrument with the name ",J.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,wm.getIncompatibilityDetails)($,J),`To resolve the conflict:
`,(0,wm.getConflictResolutionRecipe)($,J))}return X}}sD6.MetricStorageRegistry=r31});var ZV6=B((eD6)=>{Object.defineProperty(eD6,"__esModule",{value:!0});eD6.MultiMetricStorage=void 0;class tD6{_backingStorages;constructor(J){this._backingStorages=J}record(J,Z,X,Y){this._backingStorages.forEach(($)=>{$.record(J,Z,X,Y)})}}eD6.MultiMetricStorage=tD6});var QV6=B((zV6)=>{Object.defineProperty(zV6,"__esModule",{value:!0});zV6.BatchObservableResultImpl=zV6.ObservableResultImpl=void 0;var WA=C(),XV6=kj(),B$5=Im();class YV6{_instrumentName;_valueType;_buffer=new XV6.AttributeHashMap;constructor(J,Z){this._instrumentName=J,this._valueType=Z}observe(J,Z={}){if(typeof J!=="number"){WA.diag.warn(`non-number value provided to metric ${this._instrumentName}: ${J}`);return}if(this._valueType===WA.ValueType.INT&&!Number.isInteger(J)){if(WA.diag.warn(`INT value type cannot accept a floating-point value for ${this._instrumentName}, ignoring the fractional digits.`),J=Math.trunc(J),!Number.isInteger(J))return}this._buffer.set(Z,J)}}zV6.ObservableResultImpl=YV6;class $V6{_buffer=new Map;observe(J,Z,X={}){if(!(0,B$5.isObservableInstrument)(J))return;let Y=this._buffer.get(J);if(Y==null)Y=new XV6.AttributeHashMap,this._buffer.set(J,Y);if(typeof Z!=="number"){WA.diag.warn(`non-number value provided to metric ${J._descriptor.name}: ${Z}`);return}if(J._descriptor.valueType===WA.ValueType.INT&&!Number.isInteger(Z)){if(WA.diag.warn(`INT value type cannot accept a floating-point value for ${J._descriptor.name}, ignoring the fractional digits.`),Z=Math.trunc(Z),!Number.isInteger(Z))return}Y.set(X,Z)}}zV6.BatchObservableResultImpl=$V6});var FV6=B((BV6)=>{Object.defineProperty(BV6,"__esModule",{value:!0});BV6.ObservableRegistry=void 0;var F$5=C(),GV6=Im(),KV6=QV6(),hj=gY();class qV6{_callbacks=[];_batchCallbacks=[];addCallback(J,Z){if(this._findCallback(J,Z)>=0)return;this._callbacks.push({callback:J,instrument:Z})}removeCallback(J,Z){let X=this._findCallback(J,Z);if(X<0)return;this._callbacks.splice(X,1)}addBatchCallback(J,Z){let X=new Set(Z.filter(GV6.isObservableInstrument));if(X.size===0){F$5.diag.error("BatchObservableCallback is not associated with valid instruments",Z);return}if(this._findBatchCallback(J,X)>=0)return;this._batchCallbacks.push({callback:J,instruments:X})}removeBatchCallback(J,Z){let X=new Set(Z.filter(GV6.isObservableInstrument)),Y=this._findBatchCallback(J,X);if(Y<0)return;this._batchCallbacks.splice(Y,1)}async observe(J,Z){let X=this._observeCallbacks(J,Z),Y=this._observeBatchCallbacks(J,Z);return(await(0,hj.PromiseAllSettled)([...X,...Y])).filter(hj.isPromiseAllSettledRejectionResult).map((W)=>W.reason)}_observeCallbacks(J,Z){return this._callbacks.map(async({callback:X,instrument:Y})=>{let $=new KV6.ObservableResultImpl(Y._descriptor.name,Y._descriptor.valueType),z=Promise.resolve(X($));if(Z!=null)z=(0,hj.callWithTimeout)(z,Z);await z,Y._metricStorages.forEach((W)=>{W.record($._buffer,J)})})}_observeBatchCallbacks(J,Z){return this._batchCallbacks.map(async({callback:X,instruments:Y})=>{let $=new KV6.BatchObservableResultImpl,z=Promise.resolve(X($));if(Z!=null)z=(0,hj.callWithTimeout)(z,Z);await z,Y.forEach((W)=>{let Q=$._buffer.get(W);if(Q==null)return;W._metricStorages.forEach((G)=>{G.record(Q,J)})})})}_findCallback(J,Z){return this._callbacks.findIndex((X)=>{return X.callback===J&&X.instrument===Z})}_findBatchCallback(J,Z){return this._batchCallbacks.findIndex((X)=>{return X.callback===J&&(0,hj.setEquals)(X.instruments,Z)})}}BV6.ObservableRegistry=qV6});var VV6=B((OV6)=>{Object.defineProperty(OV6,"__esModule",{value:!0});OV6.SyncMetricStorage=void 0;var U$5=n31(),O$5=s31(),D$5=a31();class UV6 extends U$5.MetricStorage{_attributesProcessor;_aggregationCardinalityLimit;_deltaMetricStorage;_temporalMetricStorage;constructor(J,Z,X,Y,$){super(J);this._attributesProcessor=X,this._aggregationCardinalityLimit=$,this._deltaMetricStorage=new O$5.DeltaMetricProcessor(Z,this._aggregationCardinalityLimit),this._temporalMetricStorage=new D$5.TemporalMetricProcessor(Z,Y)}record(J,Z,X,Y){Z=this._attributesProcessor.process(Z,X),this._deltaMetricStorage.record(J,Z,X,Y)}collect(J,Z){let X=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(J,this._instrumentDescriptor,X,Z)}}OV6.SyncMetricStorage=UV6});var Am=B((NV6)=>{Object.defineProperty(NV6,"__esModule",{value:!0});NV6.createDenyListAttributesProcessor=NV6.createAllowListAttributesProcessor=NV6.createMultiAttributesProcessor=NV6.createNoopAttributesProcessor=void 0;class IV6{process(J,Z){return J}}class wV6{_processors;constructor(J){this._processors=J}process(J,Z){let X=J;for(let Y of this._processors)X=Y.process(X,Z);return X}}class AV6{_allowedAttributeNames;constructor(J){this._allowedAttributeNames=J}process(J,Z){let X={};return Object.keys(J).filter((Y)=>this._allowedAttributeNames.includes(Y)).forEach((Y)=>X[Y]=J[Y]),X}}class MV6{_deniedAttributeNames;constructor(J){this._deniedAttributeNames=J}process(J,Z){let X={};return Object.keys(J).filter((Y)=>!this._deniedAttributeNames.includes(Y)).forEach((Y)=>X[Y]=J[Y]),X}}function V$5(){return M$5}NV6.createNoopAttributesProcessor=V$5;function I$5(J){return new wV6(J)}NV6.createMultiAttributesProcessor=I$5;function w$5(J){return new AV6(J)}NV6.createAllowListAttributesProcessor=w$5;function A$5(J){return new MV6(J)}NV6.createDenyListAttributesProcessor=A$5;var M$5=new IV6});var RV6=B((CV6)=>{Object.defineProperty(CV6,"__esModule",{value:!0});CV6.MeterSharedState=void 0;var C$5=fj(),j$5=CD6(),R$5=gY(),E$5=dD6(),S$5=rD6(),T$5=ZV6(),f$5=FV6(),k$5=VV6(),b$5=Am();class LV6{_meterProviderSharedState;_instrumentationScope;metricStorageRegistry=new S$5.MetricStorageRegistry;observableRegistry=new f$5.ObservableRegistry;meter;constructor(J,Z){this._meterProviderSharedState=J,this._instrumentationScope=Z,this.meter=new j$5.Meter(this)}registerMetricStorage(J){let Z=this._registerMetricStorage(J,k$5.SyncMetricStorage);if(Z.length===1)return Z[0];return new T$5.MultiMetricStorage(Z)}registerAsyncMetricStorage(J){return this._registerMetricStorage(J,E$5.AsyncMetricStorage)}async collect(J,Z,X){let Y=await this.observableRegistry.observe(Z,X?.timeoutMillis),$=this.metricStorageRegistry.getStorages(J);if($.length===0)return null;let z=$.map((W)=>{return W.collect(J,Z)}).filter(R$5.isNotNullish);if(z.length===0)return{errors:Y};return{scopeMetrics:{scope:this._instrumentationScope,metrics:z},errors:Y}}_registerMetricStorage(J,Z){let Y=this._meterProviderSharedState.viewRegistry.findViews(J,this._instrumentationScope).map(($)=>{let z=(0,C$5.createInstrumentDescriptorWithView)($,J),W=this.metricStorageRegistry.findOrUpdateCompatibleStorage(z);if(W!=null)return W;let Q=$.aggregation.createAggregator(z),G=new Z(z,Q,$.attributesProcessor,this._meterProviderSharedState.metricCollectors,$.aggregationCardinalityLimit);return this.metricStorageRegistry.register(G),G});if(Y.length===0){let z=this._meterProviderSharedState.selectAggregations(J.type).map(([W,Q])=>{let G=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(W,J);if(G!=null)return G;let K=Q.createAggregator(J),q=W.selectCardinalityLimit(J.type),H=new Z(J,K,(0,b$5.createNoopAttributesProcessor)(),[W],q);return this.metricStorageRegistry.registerForCollector(W,H),H});Y=Y.concat(z)}return Y}}CV6.MeterSharedState=LV6});var fV6=B((SV6)=>{Object.defineProperty(SV6,"__esModule",{value:!0});SV6.MeterProviderSharedState=void 0;var h$5=gY(),_$5=GD6(),y$5=RV6(),v$5=Sj();class EV6{resource;viewRegistry=new _$5.ViewRegistry;metricCollectors=[];meterSharedStates=new Map;constructor(J){this.resource=J}getMeterSharedState(J){let Z=(0,h$5.instrumentationScopeId)(J),X=this.meterSharedStates.get(Z);if(X==null)X=new y$5.MeterSharedState(this,J),this.meterSharedStates.set(Z,X);return X}selectAggregations(J){let Z=[];for(let X of this.metricCollectors)Z.push([X,(0,v$5.toAggregation)(X.selectAggregation(J))]);return Z}}SV6.MeterProviderSharedState=EV6});var _V6=B((bV6)=>{Object.defineProperty(bV6,"__esModule",{value:!0});bV6.MetricCollector=void 0;var x$5=jO();class kV6{_sharedState;_metricReader;constructor(J,Z){this._sharedState=J,this._metricReader=Z}async collect(J){let Z=(0,x$5.millisToHrTime)(Date.now()),X=[],Y=[],$=Array.from(this._sharedState.meterSharedStates.values()).map(async(z)=>{let W=await z.collect(this,Z,J);if(W?.scopeMetrics!=null)X.push(W.scopeMetrics);if(W?.errors!=null)Y.push(...W.errors)});return await Promise.all($),{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:X},errors:Y}}async forceFlush(J){await this._metricReader.forceFlush(J)}async shutdown(J){await this._metricReader.shutdown(J)}selectAggregationTemporality(J){return this._metricReader.selectAggregationTemporality(J)}selectAggregation(J){return this._metricReader.selectAggregation(J)}selectCardinalityLimit(J){return this._metricReader.selectCardinalityLimit?.(J)??2000}}bV6.MetricCollector=kV6});var Mm=B((vV6)=>{Object.defineProperty(vV6,"__esModule",{value:!0});vV6.ExactPredicate=vV6.PatternPredicate=void 0;var g$5=/[\^$\\.+?()[\]{}|]/g;class t31{_matchAll;_regexp;constructor(J){if(J==="*")this._matchAll=!0,this._regexp=/.*/;else this._matchAll=!1,this._regexp=new RegExp(t31.escapePattern(J))}match(J){if(this._matchAll)return!0;return this._regexp.test(J)}static escapePattern(J){return`^${J.replace(g$5,"\\$&").replace("*",".*")}$`}static hasWildcard(J){return J.includes("*")}}vV6.PatternPredicate=t31;class yV6{_matchAll;_pattern;constructor(J){this._matchAll=J===void 0,this._pattern=J}match(J){if(this._matchAll)return!0;if(J===this._pattern)return!0;return!1}}vV6.ExactPredicate=yV6});var cV6=B((uV6)=>{Object.defineProperty(uV6,"__esModule",{value:!0});uV6.InstrumentSelector=void 0;var gV6=Mm();class dV6{_nameFilter;_type;_unitFilter;constructor(J){this._nameFilter=new gV6.PatternPredicate(J?.name??"*"),this._type=J?.type,this._unitFilter=new gV6.ExactPredicate(J?.unit)}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}}uV6.InstrumentSelector=dV6});var iV6=B((pV6)=>{Object.defineProperty(pV6,"__esModule",{value:!0});pV6.MeterSelector=void 0;var e31=Mm();class lV6{_nameFilter;_versionFilter;_schemaUrlFilter;constructor(J){this._nameFilter=new e31.ExactPredicate(J?.name),this._versionFilter=new e31.ExactPredicate(J?.version),this._schemaUrlFilter=new e31.ExactPredicate(J?.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}}pV6.MeterSelector=lV6});var eV6=B((rV6)=>{Object.defineProperty(rV6,"__esModule",{value:!0});rV6.View=void 0;var u$5=Mm(),oV6=Am(),m$5=cV6(),c$5=iV6(),sV6=Sj();function l$5(J){return J.instrumentName==null&&J.instrumentType==null&&J.instrumentUnit==null&&J.meterName==null&&J.meterVersion==null&&J.meterSchemaUrl==null}function p$5(J){if(l$5(J))throw new Error("Cannot create view with no selector arguments supplied");if(J.name!=null&&(J?.instrumentName==null||u$5.PatternPredicate.hasWildcard(J.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.")}class aV6{name;description;aggregation;attributesProcessor;instrumentSelector;meterSelector;aggregationCardinalityLimit;constructor(J){if(p$5(J),J.attributesProcessors!=null)this.attributesProcessor=(0,oV6.createMultiAttributesProcessor)(J.attributesProcessors);else this.attributesProcessor=(0,oV6.createNoopAttributesProcessor)();this.name=J.name,this.description=J.description,this.aggregation=(0,sV6.toAggregation)(J.aggregation??{type:sV6.AggregationType.DEFAULT}),this.instrumentSelector=new m$5.InstrumentSelector({name:J.instrumentName,type:J.instrumentType,unit:J.instrumentUnit}),this.meterSelector=new c$5.MeterSelector({name:J.meterName,version:J.meterVersion,schemaUrl:J.meterSchemaUrl}),this.aggregationCardinalityLimit=J.aggregationCardinalityLimit}}rV6.View=aV6});var YI6=B((ZI6)=>{Object.defineProperty(ZI6,"__esModule",{value:!0});ZI6.MeterProvider=void 0;var Nm=C(),n$5=WB(),i$5=fV6(),o$5=_V6(),s$5=eV6();class JI6{_sharedState;_shutdown=!1;constructor(J){if(this._sharedState=new i$5.MeterProviderSharedState(J?.resource??(0,n$5.defaultResource)()),J?.views!=null&&J.views.length>0)for(let Z of J.views)this._sharedState.viewRegistry.addView(new s$5.View(Z));if(J?.readers!=null&&J.readers.length>0)for(let Z of J.readers){let X=new o$5.MetricCollector(this._sharedState,Z);Z.setMetricProducer(X),this._sharedState.metricCollectors.push(X)}}getMeter(J,Z="",X={}){if(this._shutdown)return Nm.diag.warn("A shutdown MeterProvider cannot provide a Meter"),(0,Nm.createNoopMeter)();return this._sharedState.getMeterSharedState({name:J,version:Z,schemaUrl:X.schemaUrl}).meter}async shutdown(J){if(this._shutdown){Nm.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map((Z)=>{return Z.shutdown(J)}))}async forceFlush(J){if(this._shutdown){Nm.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map((Z)=>{return Z.forceFlush(J)}))}}ZI6.MeterProvider=JI6});var hO=B((a7)=>{Object.defineProperty(a7,"__esModule",{value:!0});a7.TimeoutError=a7.createDenyListAttributesProcessor=a7.createAllowListAttributesProcessor=a7.AggregationType=a7.MeterProvider=a7.ConsoleMetricExporter=a7.InMemoryMetricExporter=a7.PeriodicExportingMetricReader=a7.MetricReader=a7.InstrumentType=a7.DataPointType=a7.AggregationTemporality=void 0;var a$5=tu();Object.defineProperty(a7,"AggregationTemporality",{enumerable:!0,get:function(){return a$5.AggregationTemporality}});var $I6=IB();Object.defineProperty(a7,"DataPointType",{enumerable:!0,get:function(){return $I6.DataPointType}});Object.defineProperty(a7,"InstrumentType",{enumerable:!0,get:function(){return $I6.InstrumentType}});var r$5=c31();Object.defineProperty(a7,"MetricReader",{enumerable:!0,get:function(){return r$5.MetricReader}});var t$5=sO6();Object.defineProperty(a7,"PeriodicExportingMetricReader",{enumerable:!0,get:function(){return t$5.PeriodicExportingMetricReader}});var e$5=JD6();Object.defineProperty(a7,"InMemoryMetricExporter",{enumerable:!0,get:function(){return e$5.InMemoryMetricExporter}});var Jz5=$D6();Object.defineProperty(a7,"ConsoleMetricExporter",{enumerable:!0,get:function(){return Jz5.ConsoleMetricExporter}});var Zz5=YI6();Object.defineProperty(a7,"MeterProvider",{enumerable:!0,get:function(){return Zz5.MeterProvider}});var Xz5=Sj();Object.defineProperty(a7,"AggregationType",{enumerable:!0,get:function(){return Xz5.AggregationType}});var zI6=Am();Object.defineProperty(a7,"createAllowListAttributesProcessor",{enumerable:!0,get:function(){return zI6.createAllowListAttributesProcessor}});Object.defineProperty(a7,"createDenyListAttributesProcessor",{enumerable:!0,get:function(){return zI6.createDenyListAttributesProcessor}});var Yz5=gY();Object.defineProperty(a7,"TimeoutError",{enumerable:!0,get:function(){return Yz5.TimeoutError}})});var Jq1=B((QI6)=>{Object.defineProperty(QI6,"__esModule",{value:!0});QI6.AbstractAsyncHooksContextManager=void 0;var zz5=p("events"),Wz5=["addListener","on","once","prependListener","prependOnceListener"];class WI6{bind(J,Z){if(Z instanceof zz5.EventEmitter)return this._bindEventEmitter(J,Z);if(typeof Z==="function")return this._bindFunction(J,Z);return Z}_bindFunction(J,Z){let X=this,Y=function(...$){return X.with(J,()=>Z.apply(this,$))};return Object.defineProperty(Y,"length",{enumerable:!1,configurable:!0,writable:!1,value:Z.length}),Y}_bindEventEmitter(J,Z){if(this._getPatchMap(Z)!==void 0)return Z;if(this._createPatchMap(Z),Wz5.forEach((Y)=>{if(Z[Y]===void 0)return;Z[Y]=this._patchAddListener(Z,Z[Y],J)}),typeof Z.removeListener==="function")Z.removeListener=this._patchRemoveListener(Z,Z.removeListener);if(typeof Z.off==="function")Z.off=this._patchRemoveListener(Z,Z.off);if(typeof Z.removeAllListeners==="function")Z.removeAllListeners=this._patchRemoveAllListeners(Z,Z.removeAllListeners);return Z}_patchRemoveListener(J,Z){let X=this;return function(Y,$){let z=X._getPatchMap(J)?.[Y];if(z===void 0)return Z.call(this,Y,$);let W=z.get($);return Z.call(this,Y,W||$)}}_patchRemoveAllListeners(J,Z){let X=this;return function(Y){let $=X._getPatchMap(J);if($!==void 0){if(arguments.length===0)X._createPatchMap(J);else if($[Y]!==void 0)delete $[Y]}return Z.apply(this,arguments)}}_patchAddListener(J,Z,X){let Y=this;return function($,z){if(Y._wrapped)return Z.call(this,$,z);let W=Y._getPatchMap(J);if(W===void 0)W=Y._createPatchMap(J);let Q=W[$];if(Q===void 0)Q=new WeakMap,W[$]=Q;let G=Y.bind(X,z);Q.set(z,G),Y._wrapped=!0;try{return Z.call(this,$,G)}finally{Y._wrapped=!1}}}_createPatchMap(J){let Z=Object.create(null);return J[this._kOtListeners]=Z,Z}_getPatchMap(J){return J[this._kOtListeners]}_kOtListeners=Symbol("OtListeners");_wrapped=!1}QI6.AbstractAsyncHooksContextManager=WI6});var HI6=B((qI6)=>{Object.defineProperty(qI6,"__esModule",{value:!0});qI6.AsyncHooksContextManager=void 0;var Qz5=C(),Gz5=p("async_hooks"),Kz5=Jq1();class KI6 extends Kz5.AbstractAsyncHooksContextManager{_asyncHook;_contexts=new Map;_stack=[];constructor(){super();this._asyncHook=Gz5.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){return this._stack[this._stack.length-1]??Qz5.ROOT_CONTEXT}with(J,Z,X,...Y){this._enterContext(J);try{return Z.call(X,...Y)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(J,Z){if(Z==="TIMERWRAP")return;let X=this._stack[this._stack.length-1];if(X!==void 0)this._contexts.set(J,X)}_destroy(J){this._contexts.delete(J)}_before(J){let Z=this._contexts.get(J);if(Z!==void 0)this._enterContext(Z)}_after(){this._exitContext()}_enterContext(J){this._stack.push(J)}_exitContext(){this._stack.pop()}}qI6.AsyncHooksContextManager=KI6});var DI6=B((UI6)=>{Object.defineProperty(UI6,"__esModule",{value:!0});UI6.AsyncLocalStorageContextManager=void 0;var qz5=C(),Bz5=p("async_hooks"),Hz5=Jq1();class FI6 extends Hz5.AbstractAsyncHooksContextManager{_asyncLocalStorage;constructor(){super();this._asyncLocalStorage=new Bz5.AsyncLocalStorage}active(){return this._asyncLocalStorage.getStore()??qz5.ROOT_CONTEXT}with(J,Z,X,...Y){let $=X==null?Z:Z.bind(X);return this._asyncLocalStorage.run(J,$,...Y)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}UI6.AsyncLocalStorageContextManager=FI6});var VI6=B((Pm)=>{Object.defineProperty(Pm,"__esModule",{value:!0});Pm.AsyncLocalStorageContextManager=Pm.AsyncHooksContextManager=void 0;var Fz5=HI6();Object.defineProperty(Pm,"AsyncHooksContextManager",{enumerable:!0,get:function(){return Fz5.AsyncHooksContextManager}});var Uz5=DI6();Object.defineProperty(Pm,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return Uz5.AsyncLocalStorageContextManager}})});var _j=B((II6)=>{Object.defineProperty(II6,"__esModule",{value:!0});II6.isTracingSuppressed=II6.unsuppressTracing=II6.suppressTracing=void 0;var Dz5=C(),Zq1=(0,Dz5.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Vz5(J){return J.setValue(Zq1,!0)}II6.suppressTracing=Vz5;function Iz5(J){return J.deleteValue(Zq1)}II6.unsuppressTracing=Iz5;function wz5(J){return J.getValue(Zq1)===!0}II6.isTracingSuppressed=wz5});var Xq1=B((AI6)=>{Object.defineProperty(AI6,"__esModule",{value:!0});AI6.BAGGAGE_MAX_TOTAL_LENGTH=AI6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=AI6.BAGGAGE_MAX_NAME_VALUE_PAIRS=AI6.BAGGAGE_HEADER=AI6.BAGGAGE_ITEMS_SEPARATOR=AI6.BAGGAGE_PROPERTIES_SEPARATOR=AI6.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;AI6.BAGGAGE_KEY_PAIR_SEPARATOR="=";AI6.BAGGAGE_PROPERTIES_SEPARATOR=";";AI6.BAGGAGE_ITEMS_SEPARATOR=",";AI6.BAGGAGE_HEADER="baggage";AI6.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;AI6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;AI6.BAGGAGE_MAX_TOTAL_LENGTH=8192});var Yq1=B((PI6)=>{Object.defineProperty(PI6,"__esModule",{value:!0});PI6.parseKeyPairsIntoRecord=PI6.parsePairKeyValue=PI6.getKeyPairs=PI6.serializeKeyPairs=void 0;var Ez5=C(),_O=Xq1();function Sz5(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?_O.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>_O.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}PI6.serializeKeyPairs=Sz5;function Tz5(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=_O.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}PI6.getKeyPairs=Tz5;function NI6(J){let Z=J.split(_O.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(_O.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,Ez5.baggageEntryMetadataFromString)(Z.join(_O.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}PI6.parsePairKeyValue=NI6;function fz5(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(_O.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=NI6(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}PI6.parseKeyPairsIntoRecord=fz5});var EI6=B((jI6)=>{Object.defineProperty(jI6,"__esModule",{value:!0});jI6.W3CBaggagePropagator=void 0;var $q1=C(),_z5=_j(),yO=Xq1(),zq1=Yq1();class CI6{inject(J,Z,X){let Y=$q1.propagation.getBaggage(J);if(!Y||(0,_z5.isTracingSuppressed)(J))return;let $=(0,zq1.getKeyPairs)(Y).filter((W)=>{return W.length<=yO.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,yO.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,zq1.serializeKeyPairs)($);if(z.length>0)X.set(Z,yO.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,yO.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(yO.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(yO.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,zq1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return $q1.propagation.setBaggage(J,$q1.propagation.createBaggage(z))}fields(){return[yO.BAGGAGE_HEADER]}}jI6.W3CBaggagePropagator=CI6});var kI6=B((TI6)=>{Object.defineProperty(TI6,"__esModule",{value:!0});TI6.AnchoredClock=void 0;class SI6{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}TI6.AnchoredClock=SI6});var gI6=B((vI6)=>{Object.defineProperty(vI6,"__esModule",{value:!0});vI6.isAttributeValue=vI6.isAttributeKey=vI6.sanitizeAttributes=void 0;var bI6=C();function yz5(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!hI6(X)){bI6.diag.warn(`Invalid attribute key: ${X}`);continue}if(!_I6(Y)){bI6.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}vI6.sanitizeAttributes=yz5;function hI6(J){return typeof J==="string"&&J.length>0}vI6.isAttributeKey=hI6;function _I6(J){if(J==null)return!0;if(Array.isArray(J))return vz5(J);return yI6(J)}vI6.isAttributeValue=_I6;function vz5(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(yI6(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function yI6(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var Wq1=B((dI6)=>{Object.defineProperty(dI6,"__esModule",{value:!0});dI6.loggingErrorHandler=void 0;var dz5=C();function uz5(){return(J)=>{dz5.diag.error(mz5(J))}}dI6.loggingErrorHandler=uz5;function mz5(J){if(typeof J==="string")return J;else return JSON.stringify(cz5(J))}function cz5(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var pI6=B((cI6)=>{Object.defineProperty(cI6,"__esModule",{value:!0});cI6.globalErrorHandler=cI6.setGlobalErrorHandler=void 0;var lz5=Wq1(),mI6=(0,lz5.loggingErrorHandler)();function pz5(J){mI6=J}cI6.setGlobalErrorHandler=pz5;function nz5(J){try{mI6(J)}catch{}}cI6.globalErrorHandler=nz5});var rI6=B((sI6)=>{Object.defineProperty(sI6,"__esModule",{value:!0});sI6.getStringListFromEnv=sI6.getBooleanFromEnv=sI6.getStringFromEnv=sI6.getNumberFromEnv=void 0;var nI6=C(),iI6=p("util");function oz5(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){nI6.diag.warn(`Unknown value ${(0,iI6.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}sI6.getNumberFromEnv=oz5;function oI6(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}sI6.getStringFromEnv=oI6;function sz5(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return nI6.diag.warn(`Unknown value ${(0,iI6.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}sI6.getBooleanFromEnv=sz5;function az5(J){return oI6(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}sI6.getStringListFromEnv=az5});var Jw6=B((tI6)=>{Object.defineProperty(tI6,"__esModule",{value:!0});tI6._globalThis=void 0;tI6._globalThis=typeof globalThis==="object"?globalThis:global});var Yw6=B((Zw6)=>{Object.defineProperty(Zw6,"__esModule",{value:!0});Zw6.otperformance=void 0;var JW5=p("perf_hooks");Zw6.otperformance=JW5.performance});var Ww6=B(($w6)=>{Object.defineProperty($w6,"__esModule",{value:!0});$w6.VERSION=void 0;$w6.VERSION="2.0.1"});var Kw6=B((Qw6)=>{Object.defineProperty(Qw6,"__esModule",{value:!0});Qw6.ATTR_PROCESS_RUNTIME_NAME=void 0;Qw6.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var Hw6=B((qw6)=>{Object.defineProperty(qw6,"__esModule",{value:!0});qw6.SDK_INFO=void 0;var ZW5=Ww6(),Lm=j1(),XW5=Kw6();qw6.SDK_INFO={[Lm.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[XW5.ATTR_PROCESS_RUNTIME_NAME]:"node",[Lm.ATTR_TELEMETRY_SDK_LANGUAGE]:Lm.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[Lm.ATTR_TELEMETRY_SDK_VERSION]:ZW5.VERSION}});var Ow6=B((Fw6)=>{Object.defineProperty(Fw6,"__esModule",{value:!0});Fw6.unrefTimer=void 0;function YW5(J){J.unref()}Fw6.unrefTimer=YW5});var Dw6=B((JW)=>{Object.defineProperty(JW,"__esModule",{value:!0});JW.unrefTimer=JW.SDK_INFO=JW.otperformance=JW._globalThis=JW.getStringListFromEnv=JW.getNumberFromEnv=JW.getBooleanFromEnv=JW.getStringFromEnv=void 0;var Cm=rI6();Object.defineProperty(JW,"getStringFromEnv",{enumerable:!0,get:function(){return Cm.getStringFromEnv}});Object.defineProperty(JW,"getBooleanFromEnv",{enumerable:!0,get:function(){return Cm.getBooleanFromEnv}});Object.defineProperty(JW,"getNumberFromEnv",{enumerable:!0,get:function(){return Cm.getNumberFromEnv}});Object.defineProperty(JW,"getStringListFromEnv",{enumerable:!0,get:function(){return Cm.getStringListFromEnv}});var $W5=Jw6();Object.defineProperty(JW,"_globalThis",{enumerable:!0,get:function(){return $W5._globalThis}});var zW5=Yw6();Object.defineProperty(JW,"otperformance",{enumerable:!0,get:function(){return zW5.otperformance}});var WW5=Hw6();Object.defineProperty(JW,"SDK_INFO",{enumerable:!0,get:function(){return WW5.SDK_INFO}});var QW5=Ow6();Object.defineProperty(JW,"unrefTimer",{enumerable:!0,get:function(){return QW5.unrefTimer}})});var Qq1=B((ZW)=>{Object.defineProperty(ZW,"__esModule",{value:!0});ZW.getStringListFromEnv=ZW.getNumberFromEnv=ZW.getStringFromEnv=ZW.getBooleanFromEnv=ZW.unrefTimer=ZW.otperformance=ZW._globalThis=ZW.SDK_INFO=void 0;var MB=Dw6();Object.defineProperty(ZW,"SDK_INFO",{enumerable:!0,get:function(){return MB.SDK_INFO}});Object.defineProperty(ZW,"_globalThis",{enumerable:!0,get:function(){return MB._globalThis}});Object.defineProperty(ZW,"otperformance",{enumerable:!0,get:function(){return MB.otperformance}});Object.defineProperty(ZW,"unrefTimer",{enumerable:!0,get:function(){return MB.unrefTimer}});Object.defineProperty(ZW,"getBooleanFromEnv",{enumerable:!0,get:function(){return MB.getBooleanFromEnv}});Object.defineProperty(ZW,"getStringFromEnv",{enumerable:!0,get:function(){return MB.getStringFromEnv}});Object.defineProperty(ZW,"getNumberFromEnv",{enumerable:!0,get:function(){return MB.getNumberFromEnv}});Object.defineProperty(ZW,"getStringListFromEnv",{enumerable:!0,get:function(){return MB.getStringListFromEnv}})});var Nw6=B((Aw6)=>{Object.defineProperty(Aw6,"__esModule",{value:!0});Aw6.addHrTimes=Aw6.isTimeInput=Aw6.isTimeInputHrTime=Aw6.hrTimeToMicroseconds=Aw6.hrTimeToMilliseconds=Aw6.hrTimeToNanoseconds=Aw6.hrTimeToTimeStamp=Aw6.hrTimeDuration=Aw6.timeInputToHrTime=Aw6.hrTime=Aw6.getTimeOrigin=Aw6.millisToHrTime=void 0;var Gq1=Qq1(),Vw6=9,qW5=6,BW5=Math.pow(10,qW5),jm=Math.pow(10,Vw6);function yj(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*BW5);return[X,Y]}Aw6.millisToHrTime=yj;function Kq1(){let J=Gq1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=Gq1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}Aw6.getTimeOrigin=Kq1;function Iw6(J){let Z=yj(Kq1()),X=yj(typeof J==="number"?J:Gq1.otperformance.now());return ww6(Z,X)}Aw6.hrTime=Iw6;function HW5(J){if(qq1(J))return J;else if(typeof J==="number")if(J<Kq1())return Iw6(J);else return yj(J);else if(J instanceof Date)return yj(J.getTime());else throw TypeError("Invalid input type")}Aw6.timeInputToHrTime=HW5;function FW5(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=jm;return[X,Y]}Aw6.hrTimeDuration=FW5;function UW5(J){let Z=Vw6,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}Aw6.hrTimeToTimeStamp=UW5;function OW5(J){return J[0]*jm+J[1]}Aw6.hrTimeToNanoseconds=OW5;function DW5(J){return J[0]*1000+J[1]/1e6}Aw6.hrTimeToMilliseconds=DW5;function VW5(J){return J[0]*1e6+J[1]/1000}Aw6.hrTimeToMicroseconds=VW5;function qq1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}Aw6.isTimeInputHrTime=qq1;function IW5(J){return qq1(J)||typeof J==="number"||J instanceof Date}Aw6.isTimeInput=IW5;function ww6(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=jm)X[1]-=jm,X[0]+=1;return X}Aw6.addHrTimes=ww6});var Lw6=B((Pw6)=>{Object.defineProperty(Pw6,"__esModule",{value:!0});Pw6.ExportResultCode=void 0;var TW5;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(TW5=Pw6.ExportResultCode||(Pw6.ExportResultCode={}))});var Sw6=B((Rw6)=>{Object.defineProperty(Rw6,"__esModule",{value:!0});Rw6.CompositePropagator=void 0;var Cw6=C();class jw6{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){Cw6.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){Cw6.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}Rw6.CompositePropagator=jw6});var kw6=B((Tw6)=>{Object.defineProperty(Tw6,"__esModule",{value:!0});Tw6.validateValue=Tw6.validateKey=void 0;var Hq1="[_0-9a-z-*/]",fW5=`[a-z]${Hq1}{0,255}`,kW5=`[a-z0-9]${Hq1}{0,240}@[a-z]${Hq1}{0,13}`,bW5=new RegExp(`^(?:${fW5}|${kW5})$`),hW5=/^[ -~]{0,255}[!-~]$/,_W5=/,|=/;function yW5(J){return bW5.test(J)}Tw6.validateKey=yW5;function vW5(J){return hW5.test(J)&&!_W5.test(J)}Tw6.validateValue=vW5});var Uq1=B((vw6)=>{Object.defineProperty(vw6,"__esModule",{value:!0});vw6.TraceState=void 0;var bw6=kw6(),hw6=32,gW5=512,_w6=",",yw6="=";class Fq1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+yw6+this.get(Z)),J},[]).join(_w6)}_parse(J){if(J.length>gW5)return;if(this._internalState=J.split(_w6).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(yw6);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,bw6.validateKey)(z)&&(0,bw6.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>hw6)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,hw6))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new Fq1;return J._internalState=new Map(this._internalState),J}}vw6.TraceState=Fq1});var cw6=B((uw6)=>{Object.defineProperty(uw6,"__esModule",{value:!0});uw6.W3CTraceContextPropagator=uw6.parseTraceParent=uw6.TRACE_STATE_HEADER=uw6.TRACE_PARENT_HEADER=void 0;var Rm=C(),dW5=_j(),uW5=Uq1();uw6.TRACE_PARENT_HEADER="traceparent";uw6.TRACE_STATE_HEADER="tracestate";var mW5="00",cW5="(?!ff)[\\da-f]{2}",lW5="(?![0]{32})[\\da-f]{32}",pW5="(?![0]{16})[\\da-f]{16}",nW5="[\\da-f]{2}",iW5=new RegExp(`^\\s?(${cW5})-(${lW5})-(${pW5})-(${nW5})(-.*)?\\s?$`);function gw6(J){let Z=iW5.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}uw6.parseTraceParent=gw6;class dw6{inject(J,Z,X){let Y=Rm.trace.getSpanContext(J);if(!Y||(0,dW5.isTracingSuppressed)(J)||!(0,Rm.isSpanContextValid)(Y))return;let $=`${mW5}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||Rm.TraceFlags.NONE).toString(16)}`;if(X.set(Z,uw6.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,uw6.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,uw6.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=gw6($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,uw6.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new uW5.TraceState(typeof Q==="string"?Q:void 0)}return Rm.trace.setSpanContext(J,z)}fields(){return[uw6.TRACE_PARENT_HEADER,uw6.TRACE_STATE_HEADER]}}uw6.W3CTraceContextPropagator=dw6});var iw6=B((pw6)=>{Object.defineProperty(pw6,"__esModule",{value:!0});pw6.getRPCMetadata=pw6.deleteRPCMetadata=pw6.setRPCMetadata=pw6.RPCType=void 0;var sW5=C(),Oq1=(0,sW5.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),aW5;(function(J){J.HTTP="http"})(aW5=pw6.RPCType||(pw6.RPCType={}));function rW5(J,Z){return J.setValue(Oq1,Z)}pw6.setRPCMetadata=rW5;function tW5(J){return J.deleteValue(Oq1)}pw6.deleteRPCMetadata=tW5;function eW5(J){return J.getValue(Oq1)}pw6.getRPCMetadata=eW5});var JA6=B((tw6)=>{Object.defineProperty(tw6,"__esModule",{value:!0});tw6.isPlainObject=void 0;var XQ5="[object Object]",YQ5="[object Null]",$Q5="[object Undefined]",zQ5=Function.prototype,ow6=zQ5.toString,WQ5=ow6.call(Object),QQ5=Object.getPrototypeOf,sw6=Object.prototype,aw6=sw6.hasOwnProperty,vO=Symbol?Symbol.toStringTag:void 0,rw6=sw6.toString;function GQ5(J){if(!KQ5(J)||qQ5(J)!==XQ5)return!1;let Z=QQ5(J);if(Z===null)return!0;let X=aw6.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&ow6.call(X)===WQ5}tw6.isPlainObject=GQ5;function KQ5(J){return J!=null&&typeof J=="object"}function qQ5(J){if(J==null)return J===void 0?$Q5:YQ5;return vO&&vO in Object(J)?BQ5(J):HQ5(J)}function BQ5(J){let Z=aw6.call(J,vO),X=J[vO],Y=!1;try{J[vO]=void 0,Y=!0}catch(z){}let $=rw6.call(J);if(Y)if(Z)J[vO]=X;else delete J[vO];return $}function HQ5(J){return rw6.call(J)}});var QA6=B((zA6)=>{Object.defineProperty(zA6,"__esModule",{value:!0});zA6.merge=void 0;var ZA6=JA6(),FQ5=20;function UQ5(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=YA6(Z,J.shift(),0,X);return Z}zA6.merge=UQ5;function Dq1(J){if(fm(J))return J.slice();return J}function YA6(J,Z,X=0,Y){let $;if(X>FQ5)return;if(X++,Tm(J)||Tm(Z)||$A6(Z))$=Dq1(Z);else if(fm(J)){if($=J.slice(),fm(Z))for(let z=0,W=Z.length;z<W;z++)$.push(Dq1(Z[z]));else if(vj(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=Dq1(Z[G])}}}else if(vj(J))if(vj(Z)){if(!OQ5(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(Tm(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(XA6(J,G,Y)||XA6(Z,G,Y))delete $[G];else{if(vj(q)&&vj(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=YA6($[G],K,X,Y)}}}}else $=Z;return $}function XA6(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function fm(J){return Array.isArray(J)}function $A6(J){return typeof J==="function"}function vj(J){return!Tm(J)&&!fm(J)&&!$A6(J)&&typeof J==="object"}function Tm(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function OQ5(J,Z){if(!(0,ZA6.isPlainObject)(J)||!(0,ZA6.isPlainObject)(Z))return!1;return!0}});var qA6=B((GA6)=>{Object.defineProperty(GA6,"__esModule",{value:!0});GA6.callWithTimeout=GA6.TimeoutError=void 0;class km extends Error{constructor(J){super(J);Object.setPrototypeOf(this,km.prototype)}}GA6.TimeoutError=km;function DQ5(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new km("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}GA6.callWithTimeout=DQ5});var UA6=B((HA6)=>{Object.defineProperty(HA6,"__esModule",{value:!0});HA6.isUrlIgnored=HA6.urlMatches=void 0;function BA6(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}HA6.urlMatches=BA6;function IQ5(J,Z){if(!Z)return!1;for(let X of Z)if(BA6(J,X))return!0;return!1}HA6.isUrlIgnored=IQ5});var IA6=B((DA6)=>{Object.defineProperty(DA6,"__esModule",{value:!0});DA6.Deferred=void 0;class OA6{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}DA6.Deferred=OA6});var NA6=B((AA6)=>{Object.defineProperty(AA6,"__esModule",{value:!0});AA6.BindOnceFuture=void 0;var AQ5=IA6();class wA6{_callback;_that;_isCalled=!1;_deferred=new AQ5.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}AA6.BindOnceFuture=wA6});var jA6=B((LA6)=>{Object.defineProperty(LA6,"__esModule",{value:!0});LA6.diagLogLevelFromString=void 0;var oG=C(),PA6={ALL:oG.DiagLogLevel.ALL,VERBOSE:oG.DiagLogLevel.VERBOSE,DEBUG:oG.DiagLogLevel.DEBUG,INFO:oG.DiagLogLevel.INFO,WARN:oG.DiagLogLevel.WARN,ERROR:oG.DiagLogLevel.ERROR,NONE:oG.DiagLogLevel.NONE};function MQ5(J){if(J==null)return;let Z=PA6[J.toUpperCase()];if(Z==null)return oG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(PA6)}, using default`),oG.DiagLogLevel.INFO;return Z}LA6.diagLogLevelFromString=MQ5});var TA6=B((EA6)=>{Object.defineProperty(EA6,"__esModule",{value:!0});EA6._export=void 0;var RA6=C(),NQ5=_j();function PQ5(J,Z){return new Promise((X)=>{RA6.context.with((0,NQ5.suppressTracing)(RA6.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}EA6._export=PQ5});var VX=B((u0)=>{Object.defineProperty(u0,"__esModule",{value:!0});u0.internal=u0.diagLogLevelFromString=u0.BindOnceFuture=u0.urlMatches=u0.isUrlIgnored=u0.callWithTimeout=u0.TimeoutError=u0.merge=u0.TraceState=u0.unsuppressTracing=u0.suppressTracing=u0.isTracingSuppressed=u0.setRPCMetadata=u0.getRPCMetadata=u0.deleteRPCMetadata=u0.RPCType=u0.parseTraceParent=u0.W3CTraceContextPropagator=u0.TRACE_STATE_HEADER=u0.TRACE_PARENT_HEADER=u0.CompositePropagator=u0.unrefTimer=u0.otperformance=u0.getStringListFromEnv=u0.getNumberFromEnv=u0.getBooleanFromEnv=u0.getStringFromEnv=u0._globalThis=u0.SDK_INFO=u0.parseKeyPairsIntoRecord=u0.ExportResultCode=u0.timeInputToHrTime=u0.millisToHrTime=u0.isTimeInputHrTime=u0.isTimeInput=u0.hrTimeToTimeStamp=u0.hrTimeToNanoseconds=u0.hrTimeToMilliseconds=u0.hrTimeToMicroseconds=u0.hrTimeDuration=u0.hrTime=u0.getTimeOrigin=u0.addHrTimes=u0.loggingErrorHandler=u0.setGlobalErrorHandler=u0.globalErrorHandler=u0.sanitizeAttributes=u0.isAttributeValue=u0.AnchoredClock=u0.W3CBaggagePropagator=void 0;var LQ5=EI6();Object.defineProperty(u0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return LQ5.W3CBaggagePropagator}});var CQ5=kI6();Object.defineProperty(u0,"AnchoredClock",{enumerable:!0,get:function(){return CQ5.AnchoredClock}});var fA6=gI6();Object.defineProperty(u0,"isAttributeValue",{enumerable:!0,get:function(){return fA6.isAttributeValue}});Object.defineProperty(u0,"sanitizeAttributes",{enumerable:!0,get:function(){return fA6.sanitizeAttributes}});var kA6=pI6();Object.defineProperty(u0,"globalErrorHandler",{enumerable:!0,get:function(){return kA6.globalErrorHandler}});Object.defineProperty(u0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return kA6.setGlobalErrorHandler}});var jQ5=Wq1();Object.defineProperty(u0,"loggingErrorHandler",{enumerable:!0,get:function(){return jQ5.loggingErrorHandler}});var DX=Nw6();Object.defineProperty(u0,"addHrTimes",{enumerable:!0,get:function(){return DX.addHrTimes}});Object.defineProperty(u0,"getTimeOrigin",{enumerable:!0,get:function(){return DX.getTimeOrigin}});Object.defineProperty(u0,"hrTime",{enumerable:!0,get:function(){return DX.hrTime}});Object.defineProperty(u0,"hrTimeDuration",{enumerable:!0,get:function(){return DX.hrTimeDuration}});Object.defineProperty(u0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return DX.hrTimeToMicroseconds}});Object.defineProperty(u0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return DX.hrTimeToMilliseconds}});Object.defineProperty(u0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return DX.hrTimeToNanoseconds}});Object.defineProperty(u0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return DX.hrTimeToTimeStamp}});Object.defineProperty(u0,"isTimeInput",{enumerable:!0,get:function(){return DX.isTimeInput}});Object.defineProperty(u0,"isTimeInputHrTime",{enumerable:!0,get:function(){return DX.isTimeInputHrTime}});Object.defineProperty(u0,"millisToHrTime",{enumerable:!0,get:function(){return DX.millisToHrTime}});Object.defineProperty(u0,"timeInputToHrTime",{enumerable:!0,get:function(){return DX.timeInputToHrTime}});var RQ5=Lw6();Object.defineProperty(u0,"ExportResultCode",{enumerable:!0,get:function(){return RQ5.ExportResultCode}});var EQ5=Yq1();Object.defineProperty(u0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return EQ5.parseKeyPairsIntoRecord}});var NB=Qq1();Object.defineProperty(u0,"SDK_INFO",{enumerable:!0,get:function(){return NB.SDK_INFO}});Object.defineProperty(u0,"_globalThis",{enumerable:!0,get:function(){return NB._globalThis}});Object.defineProperty(u0,"getStringFromEnv",{enumerable:!0,get:function(){return NB.getStringFromEnv}});Object.defineProperty(u0,"getBooleanFromEnv",{enumerable:!0,get:function(){return NB.getBooleanFromEnv}});Object.defineProperty(u0,"getNumberFromEnv",{enumerable:!0,get:function(){return NB.getNumberFromEnv}});Object.defineProperty(u0,"getStringListFromEnv",{enumerable:!0,get:function(){return NB.getStringListFromEnv}});Object.defineProperty(u0,"otperformance",{enumerable:!0,get:function(){return NB.otperformance}});Object.defineProperty(u0,"unrefTimer",{enumerable:!0,get:function(){return NB.unrefTimer}});var SQ5=Sw6();Object.defineProperty(u0,"CompositePropagator",{enumerable:!0,get:function(){return SQ5.CompositePropagator}});var bm=cw6();Object.defineProperty(u0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return bm.TRACE_PARENT_HEADER}});Object.defineProperty(u0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return bm.TRACE_STATE_HEADER}});Object.defineProperty(u0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return bm.W3CTraceContextPropagator}});Object.defineProperty(u0,"parseTraceParent",{enumerable:!0,get:function(){return bm.parseTraceParent}});var hm=iw6();Object.defineProperty(u0,"RPCType",{enumerable:!0,get:function(){return hm.RPCType}});Object.defineProperty(u0,"deleteRPCMetadata",{enumerable:!0,get:function(){return hm.deleteRPCMetadata}});Object.defineProperty(u0,"getRPCMetadata",{enumerable:!0,get:function(){return hm.getRPCMetadata}});Object.defineProperty(u0,"setRPCMetadata",{enumerable:!0,get:function(){return hm.setRPCMetadata}});var Vq1=_j();Object.defineProperty(u0,"isTracingSuppressed",{enumerable:!0,get:function(){return Vq1.isTracingSuppressed}});Object.defineProperty(u0,"suppressTracing",{enumerable:!0,get:function(){return Vq1.suppressTracing}});Object.defineProperty(u0,"unsuppressTracing",{enumerable:!0,get:function(){return Vq1.unsuppressTracing}});var TQ5=Uq1();Object.defineProperty(u0,"TraceState",{enumerable:!0,get:function(){return TQ5.TraceState}});var fQ5=QA6();Object.defineProperty(u0,"merge",{enumerable:!0,get:function(){return fQ5.merge}});var bA6=qA6();Object.defineProperty(u0,"TimeoutError",{enumerable:!0,get:function(){return bA6.TimeoutError}});Object.defineProperty(u0,"callWithTimeout",{enumerable:!0,get:function(){return bA6.callWithTimeout}});var hA6=UA6();Object.defineProperty(u0,"isUrlIgnored",{enumerable:!0,get:function(){return hA6.isUrlIgnored}});Object.defineProperty(u0,"urlMatches",{enumerable:!0,get:function(){return hA6.urlMatches}});var kQ5=NA6();Object.defineProperty(u0,"BindOnceFuture",{enumerable:!0,get:function(){return kQ5.BindOnceFuture}});var bQ5=jA6();Object.defineProperty(u0,"diagLogLevelFromString",{enumerable:!0,get:function(){return bQ5.diagLogLevelFromString}});var hQ5=TA6();u0.internal={_export:hQ5._export}});var xA6=B((yA6)=>{Object.defineProperty(yA6,"__esModule",{value:!0});yA6.ExceptionEventName=void 0;yA6.ExceptionEventName="exception"});var mA6=B((dA6)=>{Object.defineProperty(dA6,"__esModule",{value:!0});dA6.SpanImpl=void 0;var IX=C(),n9=VX(),xO=j1(),_Q5=xA6();class gA6{_spanContext;kind;parentSpanContext;attributes={};links=[];events=[];startTime;resource;instrumentationScope;_droppedAttributesCount=0;_droppedEventsCount=0;_droppedLinksCount=0;name;status={code:IX.SpanStatusCode.UNSET};endTime=[0,0];_ended=!1;_duration=[-1,-1];_spanProcessor;_spanLimits;_attributeValueLengthLimit;_performanceStartTime;_performanceOffset;_startTimeProvided;constructor(J){let Z=Date.now();if(this._spanContext=J.spanContext,this._performanceStartTime=n9.otperformance.now(),this._performanceOffset=Z-(this._performanceStartTime+(0,n9.getTimeOrigin)()),this._startTimeProvided=J.startTime!=null,this._spanLimits=J.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=J.spanProcessor,this.name=J.name,this.parentSpanContext=J.parentSpanContext,this.kind=J.kind,this.links=J.links||[],this.startTime=this._getTime(J.startTime??Z),this.resource=J.resource,this.instrumentationScope=J.scope,J.attributes!=null)this.setAttributes(J.attributes);this._spanProcessor.onStart(this,J.context)}spanContext(){return this._spanContext}setAttribute(J,Z){if(Z==null||this._isSpanEnded())return this;if(J.length===0)return IX.diag.warn(`Invalid attribute key: ${J}`),this;if(!(0,n9.isAttributeValue)(Z))return IX.diag.warn(`Invalid attribute value set for key: ${J}`),this;let{attributeCountLimit:X}=this._spanLimits;if(X!==void 0&&Object.keys(this.attributes).length>=X&&!Object.prototype.hasOwnProperty.call(this.attributes,J))return this._droppedAttributesCount++,this;return this.attributes[J]=this._truncateToSize(Z),this}setAttributes(J){for(let[Z,X]of Object.entries(J))this.setAttribute(Z,X);return this}addEvent(J,Z,X){if(this._isSpanEnded())return this;let{eventCountLimit:Y}=this._spanLimits;if(Y===0)return IX.diag.warn("No events allowed."),this._droppedEventsCount++,this;if(Y!==void 0&&this.events.length>=Y){if(this._droppedEventsCount===0)IX.diag.debug("Dropping extra events.");this.events.shift(),this._droppedEventsCount++}if((0,n9.isTimeInput)(Z)){if(!(0,n9.isTimeInput)(X))X=Z;Z=void 0}let $=(0,n9.sanitizeAttributes)(Z);return this.events.push({name:J,attributes:$,time:this._getTime(X),droppedAttributesCount:0}),this}addLink(J){return this.links.push(J),this}addLinks(J){return this.links.push(...J),this}setStatus(J){if(this._isSpanEnded())return this;if(this.status={...J},this.status.message!=null&&typeof J.message!=="string")IX.diag.warn(`Dropping invalid status.message of type '${typeof J.message}', expected 'string'`),delete this.status.message;return this}updateName(J){if(this._isSpanEnded())return this;return this.name=J,this}end(J){if(this._isSpanEnded()){IX.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}if(this._ended=!0,this.endTime=this._getTime(J),this._duration=(0,n9.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0)IX.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0];if(this._droppedEventsCount>0)IX.diag.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`);this._spanProcessor.onEnd(this)}_getTime(J){if(typeof J==="number"&&J<=n9.otperformance.now())return(0,n9.hrTime)(J+this._performanceOffset);if(typeof J==="number")return(0,n9.millisToHrTime)(J);if(J instanceof Date)return(0,n9.millisToHrTime)(J.getTime());if((0,n9.isTimeInputHrTime)(J))return J;if(this._startTimeProvided)return(0,n9.millisToHrTime)(Date.now());let Z=n9.otperformance.now()-this._performanceStartTime;return(0,n9.addHrTimes)(this.startTime,(0,n9.millisToHrTime)(Z))}isRecording(){return this._ended===!1}recordException(J,Z){let X={};if(typeof J==="string")X[xO.ATTR_EXCEPTION_MESSAGE]=J;else if(J){if(J.code)X[xO.ATTR_EXCEPTION_TYPE]=J.code.toString();else if(J.name)X[xO.ATTR_EXCEPTION_TYPE]=J.name;if(J.message)X[xO.ATTR_EXCEPTION_MESSAGE]=J.message;if(J.stack)X[xO.ATTR_EXCEPTION_STACKTRACE]=J.stack}if(X[xO.ATTR_EXCEPTION_TYPE]||X[xO.ATTR_EXCEPTION_MESSAGE])this.addEvent(_Q5.ExceptionEventName,X,Z);else IX.diag.warn(`Failed to record an exception ${J}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let J=new Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);IX.diag.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,J)}return this._ended}_truncateToLimitUtil(J,Z){if(J.length<=Z)return J;return J.substring(0,Z)}_truncateToSize(J){let Z=this._attributeValueLengthLimit;if(Z<=0)return IX.diag.warn(`Attribute value limit must be positive, got ${Z}`),J;if(typeof J==="string")return this._truncateToLimitUtil(J,Z);if(Array.isArray(J))return J.map((X)=>typeof X==="string"?this._truncateToLimitUtil(X,Z):X);return J}}dA6.SpanImpl=gA6});var xj=B((cA6)=>{Object.defineProperty(cA6,"__esModule",{value:!0});cA6.SamplingDecision=void 0;var yQ5;(function(J){J[J.NOT_RECORD=0]="NOT_RECORD",J[J.RECORD=1]="RECORD",J[J.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(yQ5=cA6.SamplingDecision||(cA6.SamplingDecision={}))});var _m=B((pA6)=>{Object.defineProperty(pA6,"__esModule",{value:!0});pA6.AlwaysOffSampler=void 0;var vQ5=xj();class lA6{shouldSample(){return{decision:vQ5.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}pA6.AlwaysOffSampler=lA6});var ym=B((oA6)=>{Object.defineProperty(oA6,"__esModule",{value:!0});oA6.AlwaysOnSampler=void 0;var xQ5=xj();class iA6{shouldSample(){return{decision:xQ5.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}oA6.AlwaysOnSampler=iA6});var Aq1=B((tA6)=>{Object.defineProperty(tA6,"__esModule",{value:!0});tA6.ParentBasedSampler=void 0;var vm=C(),gQ5=VX(),aA6=_m(),wq1=ym();class rA6{_root;_remoteParentSampled;_remoteParentNotSampled;_localParentSampled;_localParentNotSampled;constructor(J){if(this._root=J.root,!this._root)(0,gQ5.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new wq1.AlwaysOnSampler;this._remoteParentSampled=J.remoteParentSampled??new wq1.AlwaysOnSampler,this._remoteParentNotSampled=J.remoteParentNotSampled??new aA6.AlwaysOffSampler,this._localParentSampled=J.localParentSampled??new wq1.AlwaysOnSampler,this._localParentNotSampled=J.localParentNotSampled??new aA6.AlwaysOffSampler}shouldSample(J,Z,X,Y,$,z){let W=vm.trace.getSpanContext(J);if(!W||!(0,vm.isSpanContextValid)(W))return this._root.shouldSample(J,Z,X,Y,$,z);if(W.isRemote){if(W.traceFlags&vm.TraceFlags.SAMPLED)return this._remoteParentSampled.shouldSample(J,Z,X,Y,$,z);return this._remoteParentNotSampled.shouldSample(J,Z,X,Y,$,z)}if(W.traceFlags&vm.TraceFlags.SAMPLED)return this._localParentSampled.shouldSample(J,Z,X,Y,$,z);return this._localParentNotSampled.shouldSample(J,Z,X,Y,$,z)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}tA6.ParentBasedSampler=rA6});var Mq1=B((XM6)=>{Object.defineProperty(XM6,"__esModule",{value:!0});XM6.TraceIdRatioBasedSampler=void 0;var dQ5=C(),JM6=xj();class ZM6{_ratio;_upperBound;constructor(J=0){this._ratio=J,this._ratio=this._normalize(J),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(J,Z){return{decision:(0,dQ5.isValidTraceId)(Z)&&this._accumulate(Z)<this._upperBound?JM6.SamplingDecision.RECORD_AND_SAMPLED:JM6.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(J){if(typeof J!=="number"||isNaN(J))return 0;return J>=1?1:J<=0?0:J}_accumulate(J){let Z=0;for(let X=0;X<J.length/8;X++){let Y=X*8,$=parseInt(J.slice(Y,Y+8),16);Z=(Z^$)>>>0}return Z}}XM6.TraceIdRatioBasedSampler=ZM6});var Lq1=B((GM6)=>{Object.defineProperty(GM6,"__esModule",{value:!0});GM6.buildSamplerFromEnv=GM6.loadDefaultConfig=void 0;var Pq1=C(),XW=VX(),$M6=_m(),Nq1=ym(),xm=Aq1(),zM6=Mq1(),gm=1;function uQ5(){return{sampler:QM6(),forceFlushTimeoutMillis:30000,generalLimits:{attributeValueLengthLimit:(0,XW.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:(0,XW.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT")??128},spanLimits:{attributeValueLengthLimit:(0,XW.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:(0,XW.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??128,linkCountLimit:(0,XW.getNumberFromEnv)("OTEL_SPAN_LINK_COUNT_LIMIT")??128,eventCountLimit:(0,XW.getNumberFromEnv)("OTEL_SPAN_EVENT_COUNT_LIMIT")??128,attributePerEventCountLimit:(0,XW.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT")??128,attributePerLinkCountLimit:(0,XW.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT")??128}}}GM6.loadDefaultConfig=uQ5;function QM6(){let J=(0,XW.getStringFromEnv)("OTEL_TRACES_SAMPLER")??"parentbased_always_on";switch(J){case"always_on":return new Nq1.AlwaysOnSampler;case"always_off":return new $M6.AlwaysOffSampler;case"parentbased_always_on":return new xm.ParentBasedSampler({root:new Nq1.AlwaysOnSampler});case"parentbased_always_off":return new xm.ParentBasedSampler({root:new $M6.AlwaysOffSampler});case"traceidratio":return new zM6.TraceIdRatioBasedSampler(WM6());case"parentbased_traceidratio":return new xm.ParentBasedSampler({root:new zM6.TraceIdRatioBasedSampler(WM6())});default:return Pq1.diag.error(`OTEL_TRACES_SAMPLER value "${J}" invalid, defaulting to "parentbased_always_on".`),new xm.ParentBasedSampler({root:new Nq1.AlwaysOnSampler})}}GM6.buildSamplerFromEnv=QM6;function WM6(){let J=(0,XW.getNumberFromEnv)("OTEL_TRACES_SAMPLER_ARG");if(J==null)return Pq1.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${gm}.`),gm;if(J<0||J>1)return Pq1.diag.error(`OTEL_TRACES_SAMPLER_ARG=${J} was given, but it is out of range ([0..1]), defaulting to ${gm}.`),gm;return J}});var Cq1=B((BM6)=>{Object.defineProperty(BM6,"__esModule",{value:!0});BM6.reconfigureLimits=BM6.mergeConfig=BM6.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=BM6.DEFAULT_ATTRIBUTE_COUNT_LIMIT=void 0;var qM6=Lq1(),dm=VX();BM6.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;BM6.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;function cQ5(J){let Z={sampler:(0,qM6.buildSamplerFromEnv)()},X=(0,qM6.loadDefaultConfig)(),Y=Object.assign({},X,Z,J);return Y.generalLimits=Object.assign({},X.generalLimits,J.generalLimits||{}),Y.spanLimits=Object.assign({},X.spanLimits,J.spanLimits||{}),Y}BM6.mergeConfig=cQ5;function lQ5(J){let Z=Object.assign({},J.spanLimits);return Z.attributeCountLimit=J.spanLimits?.attributeCountLimit??J.generalLimits?.attributeCountLimit??(0,dm.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??(0,dm.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT")??BM6.DEFAULT_ATTRIBUTE_COUNT_LIMIT,Z.attributeValueLengthLimit=J.spanLimits?.attributeValueLengthLimit??J.generalLimits?.attributeValueLengthLimit??(0,dm.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??(0,dm.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??BM6.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},J,{spanLimits:Z})}BM6.reconfigureLimits=lQ5});var IM6=B((DM6)=>{Object.defineProperty(DM6,"__esModule",{value:!0});DM6.BatchSpanProcessorBase=void 0;var QA=C(),YW=VX();class OM6{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_isExporting=!1;_finishedSpans=[];_timer;_shutdownOnce;_droppedSpansCount=0;constructor(J,Z){if(this._exporter=J,this._maxExportBatchSize=typeof Z?.maxExportBatchSize==="number"?Z.maxExportBatchSize:(0,YW.getNumberFromEnv)("OTEL_BSP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=typeof Z?.maxQueueSize==="number"?Z.maxQueueSize:(0,YW.getNumberFromEnv)("OTEL_BSP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=typeof Z?.scheduledDelayMillis==="number"?Z.scheduledDelayMillis:(0,YW.getNumberFromEnv)("OTEL_BSP_SCHEDULE_DELAY")??5000,this._exportTimeoutMillis=typeof Z?.exportTimeoutMillis==="number"?Z.exportTimeoutMillis:(0,YW.getNumberFromEnv)("OTEL_BSP_EXPORT_TIMEOUT")??30000,this._shutdownOnce=new YW.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize)QA.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize}forceFlush(){if(this._shutdownOnce.isCalled)return this._shutdownOnce.promise;return this._flushAll()}onStart(J,Z){}onEnd(J){if(this._shutdownOnce.isCalled)return;if((J.spanContext().traceFlags&QA.TraceFlags.SAMPLED)===0)return;this._addToBuffer(J)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>{return this.onShutdown()}).then(()=>{return this._flushAll()}).then(()=>{return this._exporter.shutdown()})}_addToBuffer(J){if(this._finishedSpans.length>=this._maxQueueSize){if(this._droppedSpansCount===0)QA.diag.debug("maxQueueSize reached, dropping spans");this._droppedSpansCount++;return}if(this._droppedSpansCount>0)QA.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0;this._finishedSpans.push(J),this._maybeStartTimer()}_flushAll(){return new Promise((J,Z)=>{let X=[],Y=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let $=0,z=Y;$<z;$++)X.push(this._flushOneBatch());Promise.all(X).then(()=>{J()}).catch(Z)})}_flushOneBatch(){if(this._clearTimer(),this._finishedSpans.length===0)return Promise.resolve();return new Promise((J,Z)=>{let X=setTimeout(()=>{Z(new Error("Timeout"))},this._exportTimeoutMillis);QA.context.with((0,YW.suppressTracing)(QA.context.active()),()=>{let Y;if(this._finishedSpans.length<=this._maxExportBatchSize)Y=this._finishedSpans,this._finishedSpans=[];else Y=this._finishedSpans.splice(0,this._maxExportBatchSize);let $=()=>this._exporter.export(Y,(W)=>{if(clearTimeout(X),W.code===YW.ExportResultCode.SUCCESS)J();else Z(W.error??new Error("BatchSpanProcessor: span export failed"))}),z=null;for(let W=0,Q=Y.length;W<Q;W++){let G=Y[W];if(G.resource.asyncAttributesPending&&G.resource.waitForAsyncAttributes)z??=[],z.push(G.resource.waitForAsyncAttributes())}if(z===null)$();else Promise.all(z).then($,(W)=>{(0,YW.globalErrorHandler)(W),Z(W)})})})}_maybeStartTimer(){if(this._isExporting)return;let J=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{if(this._isExporting=!1,this._finishedSpans.length>0)this._clearTimer(),this._maybeStartTimer()}).catch((Z)=>{this._isExporting=!1,(0,YW.globalErrorHandler)(Z)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return J();if(this._timer!==void 0)return;this._timer=setTimeout(()=>J(),this._scheduledDelayMillis),(0,YW.unrefTimer)(this._timer)}_clearTimer(){if(this._timer!==void 0)clearTimeout(this._timer),this._timer=void 0}}DM6.BatchSpanProcessorBase=OM6});var NM6=B((AM6)=>{Object.defineProperty(AM6,"__esModule",{value:!0});AM6.BatchSpanProcessor=void 0;var nQ5=IM6();class wM6 extends nQ5.BatchSpanProcessorBase{onShutdown(){}}AM6.BatchSpanProcessor=wM6});var EM6=B((jM6)=>{Object.defineProperty(jM6,"__esModule",{value:!0});jM6.RandomIdGenerator=void 0;var iQ5=8,LM6=16;class CM6{generateTraceId=PM6(LM6);generateSpanId=PM6(iQ5)}jM6.RandomIdGenerator=CM6;var um=Buffer.allocUnsafe(LM6);function PM6(J){return function Z(){for(let X=0;X<J/4;X++)um.writeUInt32BE(Math.random()*4294967296>>>0,X*4);for(let X=0;X<J;X++)if(um[X]>0)break;else if(X===J-1)um[J-1]=1;return um.toString("hex",0,J)}}});var SM6=B((mm)=>{Object.defineProperty(mm,"__esModule",{value:!0});mm.RandomIdGenerator=mm.BatchSpanProcessor=void 0;var oQ5=NM6();Object.defineProperty(mm,"BatchSpanProcessor",{enumerable:!0,get:function(){return oQ5.BatchSpanProcessor}});var sQ5=EM6();Object.defineProperty(mm,"RandomIdGenerator",{enumerable:!0,get:function(){return sQ5.RandomIdGenerator}})});var jq1=B((cm)=>{Object.defineProperty(cm,"__esModule",{value:!0});cm.RandomIdGenerator=cm.BatchSpanProcessor=void 0;var TM6=SM6();Object.defineProperty(cm,"BatchSpanProcessor",{enumerable:!0,get:function(){return TM6.BatchSpanProcessor}});Object.defineProperty(cm,"RandomIdGenerator",{enumerable:!0,get:function(){return TM6.RandomIdGenerator}})});var hM6=B((kM6)=>{Object.defineProperty(kM6,"__esModule",{value:!0});kM6.Tracer=void 0;var w9=C(),lm=VX(),tQ5=mA6(),eQ5=Cq1(),JG5=jq1();class fM6{_sampler;_generalLimits;_spanLimits;_idGenerator;instrumentationScope;_resource;_spanProcessor;constructor(J,Z,X,Y){let $=(0,eQ5.mergeConfig)(Z);this._sampler=$.sampler,this._generalLimits=$.generalLimits,this._spanLimits=$.spanLimits,this._idGenerator=Z.idGenerator||new JG5.RandomIdGenerator,this._resource=X,this._spanProcessor=Y,this.instrumentationScope=J}startSpan(J,Z={},X=w9.context.active()){if(Z.root)X=w9.trace.deleteSpan(X);let Y=w9.trace.getSpan(X);if((0,lm.isTracingSuppressed)(X))return w9.diag.debug("Instrumentation suppressed, returning Noop Span"),w9.trace.wrapSpanContext(w9.INVALID_SPAN_CONTEXT);let $=Y?.spanContext(),z=this._idGenerator.generateSpanId(),W,Q,G;if(!$||!w9.trace.isSpanContextValid($))Q=this._idGenerator.generateTraceId();else Q=$.traceId,G=$.traceState,W=$;let K=Z.kind??w9.SpanKind.INTERNAL,q=(Z.links??[]).map((M)=>{return{context:M.context,attributes:(0,lm.sanitizeAttributes)(M.attributes)}}),H=(0,lm.sanitizeAttributes)(Z.attributes),F=this._sampler.shouldSample(X,Q,J,K,H,q);G=F.traceState??G;let U=F.decision===w9.SamplingDecision.RECORD_AND_SAMPLED?w9.TraceFlags.SAMPLED:w9.TraceFlags.NONE,D={traceId:Q,spanId:z,traceFlags:U,traceState:G};if(F.decision===w9.SamplingDecision.NOT_RECORD)return w9.diag.debug("Recording is off, propagating context in a non-recording span"),w9.trace.wrapSpanContext(D);let V=(0,lm.sanitizeAttributes)(Object.assign(H,F.attributes));return new tQ5.SpanImpl({resource:this._resource,scope:this.instrumentationScope,context:X,spanContext:D,name:J,kind:K,links:q,parentSpanContext:W,attributes:V,startTime:Z.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(J,Z,X,Y){let $,z,W;if(arguments.length<2)return;else if(arguments.length===2)W=Z;else if(arguments.length===3)$=Z,W=X;else $=Z,z=X,W=Y;let Q=z??w9.context.active(),G=this.startSpan(J,$,Q),K=w9.trace.setSpan(Q,G);return w9.context.with(K,W,void 0,G)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}}kM6.Tracer=fM6});var xM6=B((yM6)=>{Object.defineProperty(yM6,"__esModule",{value:!0});yM6.MultiSpanProcessor=void 0;var ZG5=VX();class _M6{_spanProcessors;constructor(J){this._spanProcessors=J}forceFlush(){let J=[];for(let Z of this._spanProcessors)J.push(Z.forceFlush());return new Promise((Z)=>{Promise.all(J).then(()=>{Z()}).catch((X)=>{(0,ZG5.globalErrorHandler)(X||new Error("MultiSpanProcessor: forceFlush failed")),Z()})})}onStart(J,Z){for(let X of this._spanProcessors)X.onStart(J,Z)}onEnd(J){for(let Z of this._spanProcessors)Z.onEnd(J)}shutdown(){let J=[];for(let Z of this._spanProcessors)J.push(Z.shutdown());return new Promise((Z,X)=>{Promise.all(J).then(()=>{Z()},X)})}}yM6.MultiSpanProcessor=_M6});var cM6=B((uM6)=>{Object.defineProperty(uM6,"__esModule",{value:!0});uM6.BasicTracerProvider=uM6.ForceFlushState=void 0;var XG5=VX(),YG5=WB(),$G5=hM6(),zG5=Lq1(),WG5=xM6(),QG5=Cq1(),GA;(function(J){J[J.resolved=0]="resolved",J[J.timeout=1]="timeout",J[J.error=2]="error",J[J.unresolved=3]="unresolved"})(GA=uM6.ForceFlushState||(uM6.ForceFlushState={}));class dM6{_config;_tracers=new Map;_resource;_activeSpanProcessor;constructor(J={}){let Z=(0,XG5.merge)({},(0,zG5.loadDefaultConfig)(),(0,QG5.reconfigureLimits)(J));this._resource=Z.resource??(0,YG5.defaultResource)(),this._config=Object.assign({},Z,{resource:this._resource});let X=[];if(J.spanProcessors?.length)X.push(...J.spanProcessors);this._activeSpanProcessor=new WG5.MultiSpanProcessor(X)}getTracer(J,Z,X){let Y=`${J}@${Z||""}:${X?.schemaUrl||""}`;if(!this._tracers.has(Y))this._tracers.set(Y,new $G5.Tracer({name:J,version:Z,schemaUrl:X?.schemaUrl},this._config,this._resource,this._activeSpanProcessor));return this._tracers.get(Y)}forceFlush(){let J=this._config.forceFlushTimeoutMillis,Z=this._activeSpanProcessor._spanProcessors.map((X)=>{return new Promise((Y)=>{let $,z=setTimeout(()=>{Y(new Error(`Span processor did not completed within timeout period of ${J} ms`)),$=GA.timeout},J);X.forceFlush().then(()=>{if(clearTimeout(z),$!==GA.timeout)$=GA.resolved,Y($)}).catch((W)=>{clearTimeout(z),$=GA.error,Y(W)})})});return new Promise((X,Y)=>{Promise.all(Z).then(($)=>{let z=$.filter((W)=>W!==GA.resolved);if(z.length>0)Y(z);else X()}).catch(($)=>Y([$]))})}shutdown(){return this._activeSpanProcessor.shutdown()}}uM6.BasicTracerProvider=dM6});var iM6=B((pM6)=>{Object.defineProperty(pM6,"__esModule",{value:!0});pM6.ConsoleSpanExporter=void 0;var Rq1=VX();class lM6{export(J,Z){return this._sendSpans(J,Z)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(J){return{resource:{attributes:J.resource.attributes},instrumentationScope:J.instrumentationScope,traceId:J.spanContext().traceId,parentSpanContext:J.parentSpanContext,traceState:J.spanContext().traceState?.serialize(),name:J.name,id:J.spanContext().spanId,kind:J.kind,timestamp:(0,Rq1.hrTimeToMicroseconds)(J.startTime),duration:(0,Rq1.hrTimeToMicroseconds)(J.duration),attributes:J.attributes,status:J.status,events:J.events,links:J.links}}_sendSpans(J,Z){for(let X of J)console.dir(this._exportInfo(X),{depth:3});if(Z)return Z({code:Rq1.ExportResultCode.SUCCESS})}}pM6.ConsoleSpanExporter=lM6});var tM6=B((aM6)=>{Object.defineProperty(aM6,"__esModule",{value:!0});aM6.InMemorySpanExporter=void 0;var oM6=VX();class sM6{_finishedSpans=[];_stopped=!1;export(J,Z){if(this._stopped)return Z({code:oM6.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...J),setTimeout(()=>Z({code:oM6.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}aM6.InMemorySpanExporter=sM6});var XN6=B((JN6)=>{Object.defineProperty(JN6,"__esModule",{value:!0});JN6.SimpleSpanProcessor=void 0;var GG5=C(),pm=VX();class eM6{_exporter;_shutdownOnce;_pendingExports;constructor(J){this._exporter=J,this._shutdownOnce=new pm.BindOnceFuture(this._shutdown,this),this._pendingExports=new Set}async forceFlush(){if(await Promise.all(Array.from(this._pendingExports)),this._exporter.forceFlush)await this._exporter.forceFlush()}onStart(J,Z){}onEnd(J){if(this._shutdownOnce.isCalled)return;if((J.spanContext().traceFlags&GG5.TraceFlags.SAMPLED)===0)return;let Z=this._doExport(J).catch((X)=>(0,pm.globalErrorHandler)(X));this._pendingExports.add(Z),Z.finally(()=>this._pendingExports.delete(Z))}async _doExport(J){if(J.resource.asyncAttributesPending)await J.resource.waitForAsyncAttributes?.();let Z=await pm.internal._export(this._exporter,[J]);if(Z.code!==pm.ExportResultCode.SUCCESS)throw Z.error??new Error(`SimpleSpanProcessor: span export failed (status ${Z})`)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}JN6.SimpleSpanProcessor=eM6});var WN6=B(($N6)=>{Object.defineProperty($N6,"__esModule",{value:!0});$N6.NoopSpanProcessor=void 0;class YN6{onStart(J,Z){}onEnd(J){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}$N6.NoopSpanProcessor=YN6});var KA=B((r7)=>{Object.defineProperty(r7,"__esModule",{value:!0});r7.SamplingDecision=r7.TraceIdRatioBasedSampler=r7.ParentBasedSampler=r7.AlwaysOnSampler=r7.AlwaysOffSampler=r7.NoopSpanProcessor=r7.SimpleSpanProcessor=r7.InMemorySpanExporter=r7.ConsoleSpanExporter=r7.RandomIdGenerator=r7.BatchSpanProcessor=r7.BasicTracerProvider=void 0;var KG5=cM6();Object.defineProperty(r7,"BasicTracerProvider",{enumerable:!0,get:function(){return KG5.BasicTracerProvider}});var QN6=jq1();Object.defineProperty(r7,"BatchSpanProcessor",{enumerable:!0,get:function(){return QN6.BatchSpanProcessor}});Object.defineProperty(r7,"RandomIdGenerator",{enumerable:!0,get:function(){return QN6.RandomIdGenerator}});var qG5=iM6();Object.defineProperty(r7,"ConsoleSpanExporter",{enumerable:!0,get:function(){return qG5.ConsoleSpanExporter}});var BG5=tM6();Object.defineProperty(r7,"InMemorySpanExporter",{enumerable:!0,get:function(){return BG5.InMemorySpanExporter}});var HG5=XN6();Object.defineProperty(r7,"SimpleSpanProcessor",{enumerable:!0,get:function(){return HG5.SimpleSpanProcessor}});var FG5=WN6();Object.defineProperty(r7,"NoopSpanProcessor",{enumerable:!0,get:function(){return FG5.NoopSpanProcessor}});var UG5=_m();Object.defineProperty(r7,"AlwaysOffSampler",{enumerable:!0,get:function(){return UG5.AlwaysOffSampler}});var OG5=ym();Object.defineProperty(r7,"AlwaysOnSampler",{enumerable:!0,get:function(){return OG5.AlwaysOnSampler}});var DG5=Aq1();Object.defineProperty(r7,"ParentBasedSampler",{enumerable:!0,get:function(){return DG5.ParentBasedSampler}});var VG5=Mq1();Object.defineProperty(r7,"TraceIdRatioBasedSampler",{enumerable:!0,get:function(){return VG5.TraceIdRatioBasedSampler}});var IG5=xj();Object.defineProperty(r7,"SamplingDecision",{enumerable:!0,get:function(){return IG5.SamplingDecision}})});var gj=B((GN6)=>{Object.defineProperty(GN6,"__esModule",{value:!0});GN6.isTracingSuppressed=GN6.unsuppressTracing=GN6.suppressTracing=void 0;var AG5=C(),Eq1=(0,AG5.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function MG5(J){return J.setValue(Eq1,!0)}GN6.suppressTracing=MG5;function NG5(J){return J.deleteValue(Eq1)}GN6.unsuppressTracing=NG5;function PG5(J){return J.getValue(Eq1)===!0}GN6.isTracingSuppressed=PG5});var Sq1=B((qN6)=>{Object.defineProperty(qN6,"__esModule",{value:!0});qN6.BAGGAGE_MAX_TOTAL_LENGTH=qN6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=qN6.BAGGAGE_MAX_NAME_VALUE_PAIRS=qN6.BAGGAGE_HEADER=qN6.BAGGAGE_ITEMS_SEPARATOR=qN6.BAGGAGE_PROPERTIES_SEPARATOR=qN6.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;qN6.BAGGAGE_KEY_PAIR_SEPARATOR="=";qN6.BAGGAGE_PROPERTIES_SEPARATOR=";";qN6.BAGGAGE_ITEMS_SEPARATOR=",";qN6.BAGGAGE_HEADER="baggage";qN6.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;qN6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;qN6.BAGGAGE_MAX_TOTAL_LENGTH=8192});var Tq1=B((FN6)=>{Object.defineProperty(FN6,"__esModule",{value:!0});FN6.parseKeyPairsIntoRecord=FN6.parsePairKeyValue=FN6.getKeyPairs=FN6.serializeKeyPairs=void 0;var kG5=C(),gO=Sq1();function bG5(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?gO.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>gO.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}FN6.serializeKeyPairs=bG5;function hG5(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=gO.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}FN6.getKeyPairs=hG5;function HN6(J){let Z=J.split(gO.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(gO.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,kG5.baggageEntryMetadataFromString)(Z.join(gO.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}FN6.parsePairKeyValue=HN6;function _G5(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(gO.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=HN6(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}FN6.parseKeyPairsIntoRecord=_G5});var IN6=B((DN6)=>{Object.defineProperty(DN6,"__esModule",{value:!0});DN6.W3CBaggagePropagator=void 0;var fq1=C(),gG5=gj(),dO=Sq1(),kq1=Tq1();class ON6{inject(J,Z,X){let Y=fq1.propagation.getBaggage(J);if(!Y||(0,gG5.isTracingSuppressed)(J))return;let $=(0,kq1.getKeyPairs)(Y).filter((W)=>{return W.length<=dO.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,dO.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,kq1.serializeKeyPairs)($);if(z.length>0)X.set(Z,dO.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,dO.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(dO.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(dO.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,kq1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return fq1.propagation.setBaggage(J,fq1.propagation.createBaggage(z))}fields(){return[dO.BAGGAGE_HEADER]}}DN6.W3CBaggagePropagator=ON6});var NN6=B((AN6)=>{Object.defineProperty(AN6,"__esModule",{value:!0});AN6.AnchoredClock=void 0;class wN6{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}AN6.AnchoredClock=wN6});var SN6=B((RN6)=>{Object.defineProperty(RN6,"__esModule",{value:!0});RN6.isAttributeValue=RN6.isAttributeKey=RN6.sanitizeAttributes=void 0;var PN6=C();function dG5(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!LN6(X)){PN6.diag.warn(`Invalid attribute key: ${X}`);continue}if(!CN6(Y)){PN6.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}RN6.sanitizeAttributes=dG5;function LN6(J){return typeof J==="string"&&J.length>0}RN6.isAttributeKey=LN6;function CN6(J){if(J==null)return!0;if(Array.isArray(J))return uG5(J);return jN6(J)}RN6.isAttributeValue=CN6;function uG5(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(jN6(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function jN6(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var bq1=B((TN6)=>{Object.defineProperty(TN6,"__esModule",{value:!0});TN6.loggingErrorHandler=void 0;var lG5=C();function pG5(){return(J)=>{lG5.diag.error(nG5(J))}}TN6.loggingErrorHandler=pG5;function nG5(J){if(typeof J==="string")return J;else return JSON.stringify(iG5(J))}function iG5(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var _N6=B((bN6)=>{Object.defineProperty(bN6,"__esModule",{value:!0});bN6.globalErrorHandler=bN6.setGlobalErrorHandler=void 0;var oG5=bq1(),kN6=(0,oG5.loggingErrorHandler)();function sG5(J){kN6=J}bN6.setGlobalErrorHandler=sG5;function aG5(J){try{kN6(J)}catch{}}bN6.globalErrorHandler=aG5});var uN6=B((gN6)=>{Object.defineProperty(gN6,"__esModule",{value:!0});gN6.getStringListFromEnv=gN6.getBooleanFromEnv=gN6.getStringFromEnv=gN6.getNumberFromEnv=void 0;var yN6=C(),vN6=p("util");function tG5(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){yN6.diag.warn(`Unknown value ${(0,vN6.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}gN6.getNumberFromEnv=tG5;function xN6(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}gN6.getStringFromEnv=xN6;function eG5(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return yN6.diag.warn(`Unknown value ${(0,vN6.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}gN6.getBooleanFromEnv=eG5;function JK5(J){return xN6(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}gN6.getStringListFromEnv=JK5});var lN6=B((mN6)=>{Object.defineProperty(mN6,"__esModule",{value:!0});mN6._globalThis=void 0;mN6._globalThis=typeof globalThis==="object"?globalThis:global});var iN6=B((pN6)=>{Object.defineProperty(pN6,"__esModule",{value:!0});pN6.otperformance=void 0;var $K5=p("perf_hooks");pN6.otperformance=$K5.performance});var aN6=B((oN6)=>{Object.defineProperty(oN6,"__esModule",{value:!0});oN6.VERSION=void 0;oN6.VERSION="2.0.1"});var eN6=B((rN6)=>{Object.defineProperty(rN6,"__esModule",{value:!0});rN6.ATTR_PROCESS_RUNTIME_NAME=void 0;rN6.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var XP6=B((JP6)=>{Object.defineProperty(JP6,"__esModule",{value:!0});JP6.SDK_INFO=void 0;var zK5=aN6(),nm=j1(),WK5=eN6();JP6.SDK_INFO={[nm.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[WK5.ATTR_PROCESS_RUNTIME_NAME]:"node",[nm.ATTR_TELEMETRY_SDK_LANGUAGE]:nm.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[nm.ATTR_TELEMETRY_SDK_VERSION]:zK5.VERSION}});var zP6=B((YP6)=>{Object.defineProperty(YP6,"__esModule",{value:!0});YP6.unrefTimer=void 0;function QK5(J){J.unref()}YP6.unrefTimer=QK5});var WP6=B(($W)=>{Object.defineProperty($W,"__esModule",{value:!0});$W.unrefTimer=$W.SDK_INFO=$W.otperformance=$W._globalThis=$W.getStringListFromEnv=$W.getNumberFromEnv=$W.getBooleanFromEnv=$W.getStringFromEnv=void 0;var im=uN6();Object.defineProperty($W,"getStringFromEnv",{enumerable:!0,get:function(){return im.getStringFromEnv}});Object.defineProperty($W,"getBooleanFromEnv",{enumerable:!0,get:function(){return im.getBooleanFromEnv}});Object.defineProperty($W,"getNumberFromEnv",{enumerable:!0,get:function(){return im.getNumberFromEnv}});Object.defineProperty($W,"getStringListFromEnv",{enumerable:!0,get:function(){return im.getStringListFromEnv}});var GK5=lN6();Object.defineProperty($W,"_globalThis",{enumerable:!0,get:function(){return GK5._globalThis}});var KK5=iN6();Object.defineProperty($W,"otperformance",{enumerable:!0,get:function(){return KK5.otperformance}});var qK5=XP6();Object.defineProperty($W,"SDK_INFO",{enumerable:!0,get:function(){return qK5.SDK_INFO}});var BK5=zP6();Object.defineProperty($W,"unrefTimer",{enumerable:!0,get:function(){return BK5.unrefTimer}})});var hq1=B((zW)=>{Object.defineProperty(zW,"__esModule",{value:!0});zW.getStringListFromEnv=zW.getNumberFromEnv=zW.getStringFromEnv=zW.getBooleanFromEnv=zW.unrefTimer=zW.otperformance=zW._globalThis=zW.SDK_INFO=void 0;var PB=WP6();Object.defineProperty(zW,"SDK_INFO",{enumerable:!0,get:function(){return PB.SDK_INFO}});Object.defineProperty(zW,"_globalThis",{enumerable:!0,get:function(){return PB._globalThis}});Object.defineProperty(zW,"otperformance",{enumerable:!0,get:function(){return PB.otperformance}});Object.defineProperty(zW,"unrefTimer",{enumerable:!0,get:function(){return PB.unrefTimer}});Object.defineProperty(zW,"getBooleanFromEnv",{enumerable:!0,get:function(){return PB.getBooleanFromEnv}});Object.defineProperty(zW,"getStringFromEnv",{enumerable:!0,get:function(){return PB.getStringFromEnv}});Object.defineProperty(zW,"getNumberFromEnv",{enumerable:!0,get:function(){return PB.getNumberFromEnv}});Object.defineProperty(zW,"getStringListFromEnv",{enumerable:!0,get:function(){return PB.getStringListFromEnv}})});var HP6=B((qP6)=>{Object.defineProperty(qP6,"__esModule",{value:!0});qP6.addHrTimes=qP6.isTimeInput=qP6.isTimeInputHrTime=qP6.hrTimeToMicroseconds=qP6.hrTimeToMilliseconds=qP6.hrTimeToNanoseconds=qP6.hrTimeToTimeStamp=qP6.hrTimeDuration=qP6.timeInputToHrTime=qP6.hrTime=qP6.getTimeOrigin=qP6.millisToHrTime=void 0;var _q1=hq1(),QP6=9,UK5=6,OK5=Math.pow(10,UK5),om=Math.pow(10,QP6);function dj(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*OK5);return[X,Y]}qP6.millisToHrTime=dj;function yq1(){let J=_q1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=_q1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}qP6.getTimeOrigin=yq1;function GP6(J){let Z=dj(yq1()),X=dj(typeof J==="number"?J:_q1.otperformance.now());return KP6(Z,X)}qP6.hrTime=GP6;function DK5(J){if(vq1(J))return J;else if(typeof J==="number")if(J<yq1())return GP6(J);else return dj(J);else if(J instanceof Date)return dj(J.getTime());else throw TypeError("Invalid input type")}qP6.timeInputToHrTime=DK5;function VK5(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=om;return[X,Y]}qP6.hrTimeDuration=VK5;function IK5(J){let Z=QP6,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}qP6.hrTimeToTimeStamp=IK5;function wK5(J){return J[0]*om+J[1]}qP6.hrTimeToNanoseconds=wK5;function AK5(J){return J[0]*1000+J[1]/1e6}qP6.hrTimeToMilliseconds=AK5;function MK5(J){return J[0]*1e6+J[1]/1000}qP6.hrTimeToMicroseconds=MK5;function vq1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}qP6.isTimeInputHrTime=vq1;function NK5(J){return vq1(J)||typeof J==="number"||J instanceof Date}qP6.isTimeInput=NK5;function KP6(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=om)X[1]-=om,X[0]+=1;return X}qP6.addHrTimes=KP6});var UP6=B((FP6)=>{Object.defineProperty(FP6,"__esModule",{value:!0});FP6.ExportResultCode=void 0;var hK5;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(hK5=FP6.ExportResultCode||(FP6.ExportResultCode={}))});var wP6=B((VP6)=>{Object.defineProperty(VP6,"__esModule",{value:!0});VP6.CompositePropagator=void 0;var OP6=C();class DP6{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){OP6.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){OP6.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}VP6.CompositePropagator=DP6});var NP6=B((AP6)=>{Object.defineProperty(AP6,"__esModule",{value:!0});AP6.validateValue=AP6.validateKey=void 0;var gq1="[_0-9a-z-*/]",_K5=`[a-z]${gq1}{0,255}`,yK5=`[a-z0-9]${gq1}{0,240}@[a-z]${gq1}{0,13}`,vK5=new RegExp(`^(?:${_K5}|${yK5})$`),xK5=/^[ -~]{0,255}[!-~]$/,gK5=/,|=/;function dK5(J){return vK5.test(J)}AP6.validateKey=dK5;function uK5(J){return xK5.test(J)&&!gK5.test(J)}AP6.validateValue=uK5});var uq1=B((RP6)=>{Object.defineProperty(RP6,"__esModule",{value:!0});RP6.TraceState=void 0;var PP6=NP6(),LP6=32,cK5=512,CP6=",",jP6="=";class dq1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+jP6+this.get(Z)),J},[]).join(CP6)}_parse(J){if(J.length>cK5)return;if(this._internalState=J.split(CP6).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(jP6);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,PP6.validateKey)(z)&&(0,PP6.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>LP6)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,LP6))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new dq1;return J._internalState=new Map(this._internalState),J}}RP6.TraceState=dq1});var bP6=B((fP6)=>{Object.defineProperty(fP6,"__esModule",{value:!0});fP6.W3CTraceContextPropagator=fP6.parseTraceParent=fP6.TRACE_STATE_HEADER=fP6.TRACE_PARENT_HEADER=void 0;var sm=C(),lK5=gj(),pK5=uq1();fP6.TRACE_PARENT_HEADER="traceparent";fP6.TRACE_STATE_HEADER="tracestate";var nK5="00",iK5="(?!ff)[\\da-f]{2}",oK5="(?![0]{32})[\\da-f]{32}",sK5="(?![0]{16})[\\da-f]{16}",aK5="[\\da-f]{2}",rK5=new RegExp(`^\\s?(${iK5})-(${oK5})-(${sK5})-(${aK5})(-.*)?\\s?$`);function SP6(J){let Z=rK5.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}fP6.parseTraceParent=SP6;class TP6{inject(J,Z,X){let Y=sm.trace.getSpanContext(J);if(!Y||(0,lK5.isTracingSuppressed)(J)||!(0,sm.isSpanContextValid)(Y))return;let $=`${nK5}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||sm.TraceFlags.NONE).toString(16)}`;if(X.set(Z,fP6.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,fP6.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,fP6.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=SP6($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,fP6.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new pK5.TraceState(typeof Q==="string"?Q:void 0)}return sm.trace.setSpanContext(J,z)}fields(){return[fP6.TRACE_PARENT_HEADER,fP6.TRACE_STATE_HEADER]}}fP6.W3CTraceContextPropagator=TP6});var vP6=B((_P6)=>{Object.defineProperty(_P6,"__esModule",{value:!0});_P6.getRPCMetadata=_P6.deleteRPCMetadata=_P6.setRPCMetadata=_P6.RPCType=void 0;var eK5=C(),mq1=(0,eK5.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),J35;(function(J){J.HTTP="http"})(J35=_P6.RPCType||(_P6.RPCType={}));function Z35(J,Z){return J.setValue(mq1,Z)}_P6.setRPCMetadata=Z35;function X35(J){return J.deleteValue(mq1)}_P6.deleteRPCMetadata=X35;function Y35(J){return J.getValue(mq1)}_P6.getRPCMetadata=Y35});var lP6=B((mP6)=>{Object.defineProperty(mP6,"__esModule",{value:!0});mP6.isPlainObject=void 0;var W35="[object Object]",Q35="[object Null]",G35="[object Undefined]",K35=Function.prototype,xP6=K35.toString,q35=xP6.call(Object),B35=Object.getPrototypeOf,gP6=Object.prototype,dP6=gP6.hasOwnProperty,uO=Symbol?Symbol.toStringTag:void 0,uP6=gP6.toString;function H35(J){if(!F35(J)||U35(J)!==W35)return!1;let Z=B35(J);if(Z===null)return!0;let X=dP6.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&xP6.call(X)===q35}mP6.isPlainObject=H35;function F35(J){return J!=null&&typeof J=="object"}function U35(J){if(J==null)return J===void 0?G35:Q35;return uO&&uO in Object(J)?O35(J):D35(J)}function O35(J){let Z=dP6.call(J,uO),X=J[uO],Y=!1;try{J[uO]=void 0,Y=!0}catch(z){}let $=uP6.call(J);if(Y)if(Z)J[uO]=X;else delete J[uO];return $}function D35(J){return uP6.call(J)}});var rP6=B((sP6)=>{Object.defineProperty(sP6,"__esModule",{value:!0});sP6.merge=void 0;var pP6=lP6(),V35=20;function I35(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=iP6(Z,J.shift(),0,X);return Z}sP6.merge=I35;function cq1(J){if(em(J))return J.slice();return J}function iP6(J,Z,X=0,Y){let $;if(X>V35)return;if(X++,tm(J)||tm(Z)||oP6(Z))$=cq1(Z);else if(em(J)){if($=J.slice(),em(Z))for(let z=0,W=Z.length;z<W;z++)$.push(cq1(Z[z]));else if(uj(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=cq1(Z[G])}}}else if(uj(J))if(uj(Z)){if(!w35(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(tm(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(nP6(J,G,Y)||nP6(Z,G,Y))delete $[G];else{if(uj(q)&&uj(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=iP6($[G],K,X,Y)}}}}else $=Z;return $}function nP6(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function em(J){return Array.isArray(J)}function oP6(J){return typeof J==="function"}function uj(J){return!tm(J)&&!em(J)&&!oP6(J)&&typeof J==="object"}function tm(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function w35(J,Z){if(!(0,pP6.isPlainObject)(J)||!(0,pP6.isPlainObject)(Z))return!1;return!0}});var JL6=B((tP6)=>{Object.defineProperty(tP6,"__esModule",{value:!0});tP6.callWithTimeout=tP6.TimeoutError=void 0;class Jc extends Error{constructor(J){super(J);Object.setPrototypeOf(this,Jc.prototype)}}tP6.TimeoutError=Jc;function A35(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new Jc("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}tP6.callWithTimeout=A35});var $L6=B((XL6)=>{Object.defineProperty(XL6,"__esModule",{value:!0});XL6.isUrlIgnored=XL6.urlMatches=void 0;function ZL6(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}XL6.urlMatches=ZL6;function N35(J,Z){if(!Z)return!1;for(let X of Z)if(ZL6(J,X))return!0;return!1}XL6.isUrlIgnored=N35});var GL6=B((WL6)=>{Object.defineProperty(WL6,"__esModule",{value:!0});WL6.Deferred=void 0;class zL6{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}WL6.Deferred=zL6});var HL6=B((qL6)=>{Object.defineProperty(qL6,"__esModule",{value:!0});qL6.BindOnceFuture=void 0;var L35=GL6();class KL6{_callback;_that;_isCalled=!1;_deferred=new L35.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}qL6.BindOnceFuture=KL6});var DL6=B((UL6)=>{Object.defineProperty(UL6,"__esModule",{value:!0});UL6.diagLogLevelFromString=void 0;var sG=C(),FL6={ALL:sG.DiagLogLevel.ALL,VERBOSE:sG.DiagLogLevel.VERBOSE,DEBUG:sG.DiagLogLevel.DEBUG,INFO:sG.DiagLogLevel.INFO,WARN:sG.DiagLogLevel.WARN,ERROR:sG.DiagLogLevel.ERROR,NONE:sG.DiagLogLevel.NONE};function C35(J){if(J==null)return;let Z=FL6[J.toUpperCase()];if(Z==null)return sG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(FL6)}, using default`),sG.DiagLogLevel.INFO;return Z}UL6.diagLogLevelFromString=C35});var AL6=B((IL6)=>{Object.defineProperty(IL6,"__esModule",{value:!0});IL6._export=void 0;var VL6=C(),j35=gj();function R35(J,Z){return new Promise((X)=>{VL6.context.with((0,j35.suppressTracing)(VL6.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}IL6._export=R35});var jL6=B((m0)=>{Object.defineProperty(m0,"__esModule",{value:!0});m0.internal=m0.diagLogLevelFromString=m0.BindOnceFuture=m0.urlMatches=m0.isUrlIgnored=m0.callWithTimeout=m0.TimeoutError=m0.merge=m0.TraceState=m0.unsuppressTracing=m0.suppressTracing=m0.isTracingSuppressed=m0.setRPCMetadata=m0.getRPCMetadata=m0.deleteRPCMetadata=m0.RPCType=m0.parseTraceParent=m0.W3CTraceContextPropagator=m0.TRACE_STATE_HEADER=m0.TRACE_PARENT_HEADER=m0.CompositePropagator=m0.unrefTimer=m0.otperformance=m0.getStringListFromEnv=m0.getNumberFromEnv=m0.getBooleanFromEnv=m0.getStringFromEnv=m0._globalThis=m0.SDK_INFO=m0.parseKeyPairsIntoRecord=m0.ExportResultCode=m0.timeInputToHrTime=m0.millisToHrTime=m0.isTimeInputHrTime=m0.isTimeInput=m0.hrTimeToTimeStamp=m0.hrTimeToNanoseconds=m0.hrTimeToMilliseconds=m0.hrTimeToMicroseconds=m0.hrTimeDuration=m0.hrTime=m0.getTimeOrigin=m0.addHrTimes=m0.loggingErrorHandler=m0.setGlobalErrorHandler=m0.globalErrorHandler=m0.sanitizeAttributes=m0.isAttributeValue=m0.AnchoredClock=m0.W3CBaggagePropagator=void 0;var E35=IN6();Object.defineProperty(m0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return E35.W3CBaggagePropagator}});var S35=NN6();Object.defineProperty(m0,"AnchoredClock",{enumerable:!0,get:function(){return S35.AnchoredClock}});var ML6=SN6();Object.defineProperty(m0,"isAttributeValue",{enumerable:!0,get:function(){return ML6.isAttributeValue}});Object.defineProperty(m0,"sanitizeAttributes",{enumerable:!0,get:function(){return ML6.sanitizeAttributes}});var NL6=_N6();Object.defineProperty(m0,"globalErrorHandler",{enumerable:!0,get:function(){return NL6.globalErrorHandler}});Object.defineProperty(m0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return NL6.setGlobalErrorHandler}});var T35=bq1();Object.defineProperty(m0,"loggingErrorHandler",{enumerable:!0,get:function(){return T35.loggingErrorHandler}});var wX=HP6();Object.defineProperty(m0,"addHrTimes",{enumerable:!0,get:function(){return wX.addHrTimes}});Object.defineProperty(m0,"getTimeOrigin",{enumerable:!0,get:function(){return wX.getTimeOrigin}});Object.defineProperty(m0,"hrTime",{enumerable:!0,get:function(){return wX.hrTime}});Object.defineProperty(m0,"hrTimeDuration",{enumerable:!0,get:function(){return wX.hrTimeDuration}});Object.defineProperty(m0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return wX.hrTimeToMicroseconds}});Object.defineProperty(m0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return wX.hrTimeToMilliseconds}});Object.defineProperty(m0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return wX.hrTimeToNanoseconds}});Object.defineProperty(m0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return wX.hrTimeToTimeStamp}});Object.defineProperty(m0,"isTimeInput",{enumerable:!0,get:function(){return wX.isTimeInput}});Object.defineProperty(m0,"isTimeInputHrTime",{enumerable:!0,get:function(){return wX.isTimeInputHrTime}});Object.defineProperty(m0,"millisToHrTime",{enumerable:!0,get:function(){return wX.millisToHrTime}});Object.defineProperty(m0,"timeInputToHrTime",{enumerable:!0,get:function(){return wX.timeInputToHrTime}});var f35=UP6();Object.defineProperty(m0,"ExportResultCode",{enumerable:!0,get:function(){return f35.ExportResultCode}});var k35=Tq1();Object.defineProperty(m0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return k35.parseKeyPairsIntoRecord}});var LB=hq1();Object.defineProperty(m0,"SDK_INFO",{enumerable:!0,get:function(){return LB.SDK_INFO}});Object.defineProperty(m0,"_globalThis",{enumerable:!0,get:function(){return LB._globalThis}});Object.defineProperty(m0,"getStringFromEnv",{enumerable:!0,get:function(){return LB.getStringFromEnv}});Object.defineProperty(m0,"getBooleanFromEnv",{enumerable:!0,get:function(){return LB.getBooleanFromEnv}});Object.defineProperty(m0,"getNumberFromEnv",{enumerable:!0,get:function(){return LB.getNumberFromEnv}});Object.defineProperty(m0,"getStringListFromEnv",{enumerable:!0,get:function(){return LB.getStringListFromEnv}});Object.defineProperty(m0,"otperformance",{enumerable:!0,get:function(){return LB.otperformance}});Object.defineProperty(m0,"unrefTimer",{enumerable:!0,get:function(){return LB.unrefTimer}});var b35=wP6();Object.defineProperty(m0,"CompositePropagator",{enumerable:!0,get:function(){return b35.CompositePropagator}});var Zc=bP6();Object.defineProperty(m0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return Zc.TRACE_PARENT_HEADER}});Object.defineProperty(m0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return Zc.TRACE_STATE_HEADER}});Object.defineProperty(m0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return Zc.W3CTraceContextPropagator}});Object.defineProperty(m0,"parseTraceParent",{enumerable:!0,get:function(){return Zc.parseTraceParent}});var Xc=vP6();Object.defineProperty(m0,"RPCType",{enumerable:!0,get:function(){return Xc.RPCType}});Object.defineProperty(m0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Xc.deleteRPCMetadata}});Object.defineProperty(m0,"getRPCMetadata",{enumerable:!0,get:function(){return Xc.getRPCMetadata}});Object.defineProperty(m0,"setRPCMetadata",{enumerable:!0,get:function(){return Xc.setRPCMetadata}});var lq1=gj();Object.defineProperty(m0,"isTracingSuppressed",{enumerable:!0,get:function(){return lq1.isTracingSuppressed}});Object.defineProperty(m0,"suppressTracing",{enumerable:!0,get:function(){return lq1.suppressTracing}});Object.defineProperty(m0,"unsuppressTracing",{enumerable:!0,get:function(){return lq1.unsuppressTracing}});var h35=uq1();Object.defineProperty(m0,"TraceState",{enumerable:!0,get:function(){return h35.TraceState}});var _35=rP6();Object.defineProperty(m0,"merge",{enumerable:!0,get:function(){return _35.merge}});var PL6=JL6();Object.defineProperty(m0,"TimeoutError",{enumerable:!0,get:function(){return PL6.TimeoutError}});Object.defineProperty(m0,"callWithTimeout",{enumerable:!0,get:function(){return PL6.callWithTimeout}});var LL6=$L6();Object.defineProperty(m0,"isUrlIgnored",{enumerable:!0,get:function(){return LL6.isUrlIgnored}});Object.defineProperty(m0,"urlMatches",{enumerable:!0,get:function(){return LL6.urlMatches}});var y35=HL6();Object.defineProperty(m0,"BindOnceFuture",{enumerable:!0,get:function(){return y35.BindOnceFuture}});var v35=DL6();Object.defineProperty(m0,"diagLogLevelFromString",{enumerable:!0,get:function(){return v35.diagLogLevelFromString}});var x35=AL6();m0.internal={_export:x35._export}});var TL6=B((EL6)=>{Object.defineProperty(EL6,"__esModule",{value:!0});EL6.NodeTracerProvider=void 0;var g35=VI6(),d35=KA(),mj=C(),pq1=jL6();function u35(J){if(J===null)return;if(J===void 0){let Z=new g35.AsyncLocalStorageContextManager;Z.enable(),mj.context.setGlobalContextManager(Z);return}J.enable(),mj.context.setGlobalContextManager(J)}function m35(J){if(J===null)return;if(J===void 0){mj.propagation.setGlobalPropagator(new pq1.CompositePropagator({propagators:[new pq1.W3CTraceContextPropagator,new pq1.W3CBaggagePropagator]}));return}mj.propagation.setGlobalPropagator(J)}class RL6 extends d35.BasicTracerProvider{constructor(J={}){super(J)}register(J={}){mj.trace.setGlobalTracerProvider(this),u35(J.contextManager),m35(J.propagator)}}EL6.NodeTracerProvider=RL6});var nq1=B((A7)=>{Object.defineProperty(A7,"__esModule",{value:!0});A7.TraceIdRatioBasedSampler=A7.SimpleSpanProcessor=A7.SamplingDecision=A7.RandomIdGenerator=A7.ParentBasedSampler=A7.NoopSpanProcessor=A7.InMemorySpanExporter=A7.ConsoleSpanExporter=A7.BatchSpanProcessor=A7.BasicTracerProvider=A7.AlwaysOnSampler=A7.AlwaysOffSampler=A7.NodeTracerProvider=void 0;var c35=TL6();Object.defineProperty(A7,"NodeTracerProvider",{enumerable:!0,get:function(){return c35.NodeTracerProvider}});var AX=KA();Object.defineProperty(A7,"AlwaysOffSampler",{enumerable:!0,get:function(){return AX.AlwaysOffSampler}});Object.defineProperty(A7,"AlwaysOnSampler",{enumerable:!0,get:function(){return AX.AlwaysOnSampler}});Object.defineProperty(A7,"BasicTracerProvider",{enumerable:!0,get:function(){return AX.BasicTracerProvider}});Object.defineProperty(A7,"BatchSpanProcessor",{enumerable:!0,get:function(){return AX.BatchSpanProcessor}});Object.defineProperty(A7,"ConsoleSpanExporter",{enumerable:!0,get:function(){return AX.ConsoleSpanExporter}});Object.defineProperty(A7,"InMemorySpanExporter",{enumerable:!0,get:function(){return AX.InMemorySpanExporter}});Object.defineProperty(A7,"NoopSpanProcessor",{enumerable:!0,get:function(){return AX.NoopSpanProcessor}});Object.defineProperty(A7,"ParentBasedSampler",{enumerable:!0,get:function(){return AX.ParentBasedSampler}});Object.defineProperty(A7,"RandomIdGenerator",{enumerable:!0,get:function(){return AX.RandomIdGenerator}});Object.defineProperty(A7,"SamplingDecision",{enumerable:!0,get:function(){return AX.SamplingDecision}});Object.defineProperty(A7,"SimpleSpanProcessor",{enumerable:!0,get:function(){return AX.SimpleSpanProcessor}});Object.defineProperty(A7,"TraceIdRatioBasedSampler",{enumerable:!0,get:function(){return AX.TraceIdRatioBasedSampler}})});var iq1=B((Jz7,fL6)=>{fL6.exports=p35;function p35(J,Z){var X=new Array(arguments.length-1),Y=0,$=2,z=!0;while($<arguments.length)X[Y++]=arguments[$++];return new Promise(function W(Q,G){X[Y]=function K(q){if(z)if(z=!1,q)G(q);else{var H=new Array(arguments.length-1),F=0;while(F<H.length)H[F++]=arguments[F];Q.apply(null,H)}};try{J.apply(Z||null,X)}catch(K){if(z)z=!1,G(K)}})}});var _L6=B((hL6)=>{var Yc=hL6;Yc.length=function J(Z){var X=Z.length;if(!X)return 0;var Y=0;while(--X%4>1&&Z.charAt(X)==="=")++Y;return Math.ceil(Z.length*3)/4-Y};var qA=new Array(64),bL6=new Array(123);for(MX=0;MX<64;)bL6[qA[MX]=MX<26?MX+65:MX<52?MX+71:MX<62?MX-4:MX-59|43]=MX++;var MX;Yc.encode=function J(Z,X,Y){var $=null,z=[],W=0,Q=0,G;while(X<Y){var K=Z[X++];switch(Q){case 0:z[W++]=qA[K>>2],G=(K&3)<<4,Q=1;break;case 1:z[W++]=qA[G|K>>4],G=(K&15)<<2,Q=2;break;case 2:z[W++]=qA[G|K>>6],z[W++]=qA[K&63],Q=0;break}if(W>8191)($||($=[])).push(String.fromCharCode.apply(String,z)),W=0}if(Q){if(z[W++]=qA[G],z[W++]=61,Q===1)z[W++]=61}if($){if(W)$.push(String.fromCharCode.apply(String,z.slice(0,W)));return $.join("")}return String.fromCharCode.apply(String,z.slice(0,W))};var kL6="invalid encoding";Yc.decode=function J(Z,X,Y){var $=Y,z=0,W;for(var Q=0;Q<Z.length;){var G=Z.charCodeAt(Q++);if(G===61&&z>1)break;if((G=bL6[G])===void 0)throw Error(kL6);switch(z){case 0:W=G,z=1;break;case 1:X[Y++]=W<<2|(G&48)>>4,W=G,z=2;break;case 2:X[Y++]=(W&15)<<4|(G&60)>>2,W=G,z=3;break;case 3:X[Y++]=(W&3)<<6|G,z=0;break}}if(z===1)throw Error(kL6);return Y-$};Yc.test=function J(Z){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(Z)}});var vL6=B((Xz7,yL6)=>{yL6.exports=$c;function $c(){this._listeners={}}$c.prototype.on=function J(Z,X,Y){return(this._listeners[Z]||(this._listeners[Z]=[])).push({fn:X,ctx:Y||this}),this};$c.prototype.off=function J(Z,X){if(Z===void 0)this._listeners={};else if(X===void 0)this._listeners[Z]=[];else{var Y=this._listeners[Z];for(var $=0;$<Y.length;)if(Y[$].fn===X)Y.splice($,1);else++$}return this};$c.prototype.emit=function J(Z){var X=this._listeners[Z];if(X){var Y=[],$=1;for(;$<arguments.length;)Y.push(arguments[$++]);for($=0;$<X.length;)X[$].fn.apply(X[$++].ctx,Y)}return this}});var lL6=B((Yz7,cL6)=>{cL6.exports=xL6(xL6);function xL6(J){if(typeof Float32Array!=="undefined")(function(){var Z=new Float32Array([-0]),X=new Uint8Array(Z.buffer),Y=X[3]===128;function $(G,K,q){Z[0]=G,K[q]=X[0],K[q+1]=X[1],K[q+2]=X[2],K[q+3]=X[3]}function z(G,K,q){Z[0]=G,K[q]=X[3],K[q+1]=X[2],K[q+2]=X[1],K[q+3]=X[0]}J.writeFloatLE=Y?$:z,J.writeFloatBE=Y?z:$;function W(G,K){return X[0]=G[K],X[1]=G[K+1],X[2]=G[K+2],X[3]=G[K+3],Z[0]}function Q(G,K){return X[3]=G[K],X[2]=G[K+1],X[1]=G[K+2],X[0]=G[K+3],Z[0]}J.readFloatLE=Y?W:Q,J.readFloatBE=Y?Q:W})();else(function(){function Z(Y,$,z,W){var Q=$<0?1:0;if(Q)$=-$;if($===0)Y(1/$>0?0:2147483648,z,W);else if(isNaN($))Y(2143289344,z,W);else if($>340282346638528860000000000000000000000)Y((Q<<31|2139095040)>>>0,z,W);else if($<0.000000000000000000000000000000000000011754943508222875)Y((Q<<31|Math.round($/0.000000000000000000000000000000000000000000001401298464324817))>>>0,z,W);else{var G=Math.floor(Math.log($)/Math.LN2),K=Math.round($*Math.pow(2,-G)*8388608)&8388607;Y((Q<<31|G+127<<23|K)>>>0,z,W)}}J.writeFloatLE=Z.bind(null,gL6),J.writeFloatBE=Z.bind(null,dL6);function X(Y,$,z){var W=Y($,z),Q=(W>>31)*2+1,G=W>>>23&255,K=W&8388607;return G===255?K?NaN:Q*(1/0):G===0?Q*0.000000000000000000000000000000000000000000001401298464324817*K:Q*Math.pow(2,G-150)*(K+8388608)}J.readFloatLE=X.bind(null,uL6),J.readFloatBE=X.bind(null,mL6)})();if(typeof Float64Array!=="undefined")(function(){var Z=new Float64Array([-0]),X=new Uint8Array(Z.buffer),Y=X[7]===128;function $(G,K,q){Z[0]=G,K[q]=X[0],K[q+1]=X[1],K[q+2]=X[2],K[q+3]=X[3],K[q+4]=X[4],K[q+5]=X[5],K[q+6]=X[6],K[q+7]=X[7]}function z(G,K,q){Z[0]=G,K[q]=X[7],K[q+1]=X[6],K[q+2]=X[5],K[q+3]=X[4],K[q+4]=X[3],K[q+5]=X[2],K[q+6]=X[1],K[q+7]=X[0]}J.writeDoubleLE=Y?$:z,J.writeDoubleBE=Y?z:$;function W(G,K){return X[0]=G[K],X[1]=G[K+1],X[2]=G[K+2],X[3]=G[K+3],X[4]=G[K+4],X[5]=G[K+5],X[6]=G[K+6],X[7]=G[K+7],Z[0]}function Q(G,K){return X[7]=G[K],X[6]=G[K+1],X[5]=G[K+2],X[4]=G[K+3],X[3]=G[K+4],X[2]=G[K+5],X[1]=G[K+6],X[0]=G[K+7],Z[0]}J.readDoubleLE=Y?W:Q,J.readDoubleBE=Y?Q:W})();else(function(){function Z(Y,$,z,W,Q,G){var K=W<0?1:0;if(K)W=-W;if(W===0)Y(0,Q,G+$),Y(1/W>0?0:2147483648,Q,G+z);else if(isNaN(W))Y(0,Q,G+$),Y(2146959360,Q,G+z);else if(W>179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)Y(0,Q,G+$),Y((K<<31|2146435072)>>>0,Q,G+z);else{var q;if(W<0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000022250738585072014)q=W/0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005,Y(q>>>0,Q,G+$),Y((K<<31|q/4294967296)>>>0,Q,G+z);else{var H=Math.floor(Math.log(W)/Math.LN2);if(H===1024)H=1023;q=W*Math.pow(2,-H),Y(q*4503599627370496>>>0,Q,G+$),Y((K<<31|H+1023<<20|q*1048576&1048575)>>>0,Q,G+z)}}}J.writeDoubleLE=Z.bind(null,gL6,0,4),J.writeDoubleBE=Z.bind(null,dL6,4,0);function X(Y,$,z,W,Q){var G=Y(W,Q+$),K=Y(W,Q+z),q=(K>>31)*2+1,H=K>>>20&2047,F=4294967296*(K&1048575)+G;return H===2047?F?NaN:q*(1/0):H===0?q*0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005*F:q*Math.pow(2,H-1075)*(F+4503599627370496)}J.readDoubleLE=X.bind(null,uL6,0,4),J.readDoubleBE=X.bind(null,mL6,4,0)})();return J}function gL6(J,Z,X){Z[X]=J&255,Z[X+1]=J>>>8&255,Z[X+2]=J>>>16&255,Z[X+3]=J>>>24}function dL6(J,Z,X){Z[X]=J>>>24,Z[X+1]=J>>>16&255,Z[X+2]=J>>>8&255,Z[X+3]=J&255}function uL6(J,Z){return(J[Z]|J[Z+1]<<8|J[Z+2]<<16|J[Z+3]<<24)>>>0}function mL6(J,Z){return(J[Z]<<24|J[Z+1]<<16|J[Z+2]<<8|J[Z+3])>>>0}});var sq1=B((pL6,oq1)=>{oq1.exports=n35;function n35(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(J){}return null}});var iL6=B((nL6)=>{var aq1=nL6;aq1.length=function J(Z){var X=0,Y=0;for(var $=0;$<Z.length;++$)if(Y=Z.charCodeAt($),Y<128)X+=1;else if(Y<2048)X+=2;else if((Y&64512)===55296&&(Z.charCodeAt($+1)&64512)===56320)++$,X+=4;else X+=3;return X};aq1.read=function J(Z,X,Y){var $=Y-X;if($<1)return"";var z=null,W=[],Q=0,G;while(X<Y){if(G=Z[X++],G<128)W[Q++]=G;else if(G>191&&G<224)W[Q++]=(G&31)<<6|Z[X++]&63;else if(G>239&&G<365)G=((G&7)<<18|(Z[X++]&63)<<12|(Z[X++]&63)<<6|Z[X++]&63)-65536,W[Q++]=55296+(G>>10),W[Q++]=56320+(G&1023);else W[Q++]=(G&15)<<12|(Z[X++]&63)<<6|Z[X++]&63;if(Q>8191)(z||(z=[])).push(String.fromCharCode.apply(String,W)),Q=0}if(z){if(Q)z.push(String.fromCharCode.apply(String,W.slice(0,Q)));return z.join("")}return String.fromCharCode.apply(String,W.slice(0,Q))};aq1.write=function J(Z,X,Y){var $=Y,z,W;for(var Q=0;Q<Z.length;++Q)if(z=Z.charCodeAt(Q),z<128)X[Y++]=z;else if(z<2048)X[Y++]=z>>6|192,X[Y++]=z&63|128;else if((z&64512)===55296&&((W=Z.charCodeAt(Q+1))&64512)===56320)z=65536+((z&1023)<<10)+(W&1023),++Q,X[Y++]=z>>18|240,X[Y++]=z>>12&63|128,X[Y++]=z>>6&63|128,X[Y++]=z&63|128;else X[Y++]=z>>12|224,X[Y++]=z>>6&63|128,X[Y++]=z&63|128;return Y-$}});var sL6=B((zz7,oL6)=>{oL6.exports=i35;function i35(J,Z,X){var Y=X||8192,$=Y>>>1,z=null,W=Y;return function Q(G){if(G<1||G>$)return J(G);if(W+G>Y)z=J(Y),W=0;var K=Z.call(z,W,W+=G);if(W&7)W=(W|7)+1;return K}}});var rL6=B((Wz7,aL6)=>{aL6.exports=$9;var cj=WW();function $9(J,Z){this.lo=J>>>0,this.hi=Z>>>0}var mO=$9.zero=new $9(0,0);mO.toNumber=function(){return 0};mO.zzEncode=mO.zzDecode=function(){return this};mO.length=function(){return 1};var o35=$9.zeroHash="\x00\x00\x00\x00\x00\x00\x00\x00";$9.fromNumber=function J(Z){if(Z===0)return mO;var X=Z<0;if(X)Z=-Z;var Y=Z>>>0,$=(Z-Y)/4294967296>>>0;if(X){if($=~$>>>0,Y=~Y>>>0,++Y>4294967295){if(Y=0,++$>4294967295)$=0}}return new $9(Y,$)};$9.from=function J(Z){if(typeof Z==="number")return $9.fromNumber(Z);if(cj.isString(Z))if(cj.Long)Z=cj.Long.fromString(Z);else return $9.fromNumber(parseInt(Z,10));return Z.low||Z.high?new $9(Z.low>>>0,Z.high>>>0):mO};$9.prototype.toNumber=function J(Z){if(!Z&&this.hi>>>31){var X=~this.lo+1>>>0,Y=~this.hi>>>0;if(!X)Y=Y+1>>>0;return-(X+Y*4294967296)}return this.lo+this.hi*4294967296};$9.prototype.toLong=function J(Z){return cj.Long?new cj.Long(this.lo|0,this.hi|0,Boolean(Z)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(Z)}};var CB=String.prototype.charCodeAt;$9.fromHash=function J(Z){if(Z===o35)return mO;return new $9((CB.call(Z,0)|CB.call(Z,1)<<8|CB.call(Z,2)<<16|CB.call(Z,3)<<24)>>>0,(CB.call(Z,4)|CB.call(Z,5)<<8|CB.call(Z,6)<<16|CB.call(Z,7)<<24)>>>0)};$9.prototype.toHash=function J(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};$9.prototype.zzEncode=function J(){var Z=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^Z)>>>0,this.lo=(this.lo<<1^Z)>>>0,this};$9.prototype.zzDecode=function J(){var Z=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^Z)>>>0,this.hi=(this.hi>>>1^Z)>>>0,this};$9.prototype.length=function J(){var Z=this.lo,X=(this.lo>>>28|this.hi<<4)>>>0,Y=this.hi>>>24;return Y===0?X===0?Z<16384?Z<128?1:2:Z<2097152?3:4:X<16384?X<128?5:6:X<2097152?7:8:Y<128?9:10}});var WW=B((rq1)=>{var K0=rq1;K0.asPromise=iq1();K0.base64=_L6();K0.EventEmitter=vL6();K0.float=lL6();K0.inquire=sq1();K0.utf8=iL6();K0.pool=sL6();K0.LongBits=rL6();K0.isNode=Boolean(typeof global!=="undefined"&&global&&global.process&&global.process.versions&&global.process.versions.node);K0.global=K0.isNode&&global||typeof window!=="undefined"&&window||typeof self!=="undefined"&&self||rq1;K0.emptyArray=Object.freeze?Object.freeze([]):[];K0.emptyObject=Object.freeze?Object.freeze({}):{};K0.isInteger=Number.isInteger||function J(Z){return typeof Z==="number"&&isFinite(Z)&&Math.floor(Z)===Z};K0.isString=function J(Z){return typeof Z==="string"||Z instanceof String};K0.isObject=function J(Z){return Z&&typeof Z==="object"};K0.isset=K0.isSet=function J(Z,X){var Y=Z[X];if(Y!=null&&Z.hasOwnProperty(X))return typeof Y!=="object"||(Array.isArray(Y)?Y.length:Object.keys(Y).length)>0;return!1};K0.Buffer=function(){try{var J=K0.inquire("buffer").Buffer;return J.prototype.utf8Write?J:null}catch(Z){return null}}();K0._Buffer_from=null;K0._Buffer_allocUnsafe=null;K0.newBuffer=function J(Z){return typeof Z==="number"?K0.Buffer?K0._Buffer_allocUnsafe(Z):new K0.Array(Z):K0.Buffer?K0._Buffer_from(Z):typeof Uint8Array==="undefined"?Z:new Uint8Array(Z)};K0.Array=typeof Uint8Array!=="undefined"?Uint8Array:Array;K0.Long=K0.global.dcodeIO&&K0.global.dcodeIO.Long||K0.global.Long||K0.inquire("long");K0.key2Re=/^true|false|0|1$/;K0.key32Re=/^-?(?:0|[1-9][0-9]*)$/;K0.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;K0.longToHash=function J(Z){return Z?K0.LongBits.from(Z).toHash():K0.LongBits.zeroHash};K0.longFromHash=function J(Z,X){var Y=K0.LongBits.fromHash(Z);if(K0.Long)return K0.Long.fromBits(Y.lo,Y.hi,X);return Y.toNumber(Boolean(X))};function tL6(J,Z,X){for(var Y=Object.keys(Z),$=0;$<Y.length;++$)if(J[Y[$]]===void 0||!X)J[Y[$]]=Z[Y[$]];return J}K0.merge=tL6;K0.lcFirst=function J(Z){return Z.charAt(0).toLowerCase()+Z.substring(1)};function eL6(J){function Z(X,Y){if(!(this instanceof Z))return new Z(X,Y);if(Object.defineProperty(this,"message",{get:function(){return X}}),Error.captureStackTrace)Error.captureStackTrace(this,Z);else Object.defineProperty(this,"stack",{value:new Error().stack||""});if(Y)tL6(this,Y)}return Z.prototype=Object.create(Error.prototype,{constructor:{value:Z,writable:!0,enumerable:!1,configurable:!0},name:{get:function X(){return J},set:void 0,enumerable:!1,configurable:!0},toString:{value:function X(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),Z}K0.newError=eL6;K0.ProtocolError=eL6("ProtocolError");K0.oneOfGetter=function J(Z){var X={};for(var Y=0;Y<Z.length;++Y)X[Z[Y]]=1;return function(){for(var $=Object.keys(this),z=$.length-1;z>-1;--z)if(X[$[z]]===1&&this[$[z]]!==void 0&&this[$[z]]!==null)return $[z]}};K0.oneOfSetter=function J(Z){return function(X){for(var Y=0;Y<Z.length;++Y)if(Z[Y]!==X)delete this[Z[Y]]}};K0.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};K0._configure=function(){var J=K0.Buffer;if(!J){K0._Buffer_from=K0._Buffer_allocUnsafe=null;return}K0._Buffer_from=J.from!==Uint8Array.from&&J.from||function Z(X,Y){return new J(X,Y)},K0._Buffer_allocUnsafe=J.allocUnsafe||function Z(X){return new J(X)}}});var Wc=B((Gz7,YC6)=>{YC6.exports=F4;var NX=WW(),tq1,zc=NX.LongBits,JC6=NX.base64,ZC6=NX.utf8;function lj(J,Z,X){this.fn=J,this.len=Z,this.next=void 0,this.val=X}function JB1(){}function s35(J){this.head=J.head,this.tail=J.tail,this.len=J.len,this.next=J.states}function F4(){this.len=0,this.head=new lj(JB1,0,0),this.tail=this.head,this.states=null}var XC6=function J(){return NX.Buffer?function Z(){return(F4.create=function X(){return new tq1})()}:function Z(){return new F4}};F4.create=XC6();F4.alloc=function J(Z){return new NX.Array(Z)};if(NX.Array!==Array)F4.alloc=NX.pool(F4.alloc,NX.Array.prototype.subarray);F4.prototype._push=function J(Z,X,Y){return this.tail=this.tail.next=new lj(Z,X,Y),this.len+=X,this};function ZB1(J,Z,X){Z[X]=J&255}function a35(J,Z,X){while(J>127)Z[X++]=J&127|128,J>>>=7;Z[X]=J}function XB1(J,Z){this.len=J,this.next=void 0,this.val=Z}XB1.prototype=Object.create(lj.prototype);XB1.prototype.fn=a35;F4.prototype.uint32=function J(Z){return this.len+=(this.tail=this.tail.next=new XB1((Z=Z>>>0)<128?1:Z<16384?2:Z<2097152?3:Z<268435456?4:5,Z)).len,this};F4.prototype.int32=function J(Z){return Z<0?this._push(YB1,10,zc.fromNumber(Z)):this.uint32(Z)};F4.prototype.sint32=function J(Z){return this.uint32((Z<<1^Z>>31)>>>0)};function YB1(J,Z,X){while(J.hi)Z[X++]=J.lo&127|128,J.lo=(J.lo>>>7|J.hi<<25)>>>0,J.hi>>>=7;while(J.lo>127)Z[X++]=J.lo&127|128,J.lo=J.lo>>>7;Z[X++]=J.lo}F4.prototype.uint64=function J(Z){var X=zc.from(Z);return this._push(YB1,X.length(),X)};F4.prototype.int64=F4.prototype.uint64;F4.prototype.sint64=function J(Z){var X=zc.from(Z).zzEncode();return this._push(YB1,X.length(),X)};F4.prototype.bool=function J(Z){return this._push(ZB1,1,Z?1:0)};function eq1(J,Z,X){Z[X]=J&255,Z[X+1]=J>>>8&255,Z[X+2]=J>>>16&255,Z[X+3]=J>>>24}F4.prototype.fixed32=function J(Z){return this._push(eq1,4,Z>>>0)};F4.prototype.sfixed32=F4.prototype.fixed32;F4.prototype.fixed64=function J(Z){var X=zc.from(Z);return this._push(eq1,4,X.lo)._push(eq1,4,X.hi)};F4.prototype.sfixed64=F4.prototype.fixed64;F4.prototype.float=function J(Z){return this._push(NX.float.writeFloatLE,4,Z)};F4.prototype.double=function J(Z){return this._push(NX.float.writeDoubleLE,8,Z)};var r35=NX.Array.prototype.set?function J(Z,X,Y){X.set(Z,Y)}:function J(Z,X,Y){for(var $=0;$<Z.length;++$)X[Y+$]=Z[$]};F4.prototype.bytes=function J(Z){var X=Z.length>>>0;if(!X)return this._push(ZB1,1,0);if(NX.isString(Z)){var Y=F4.alloc(X=JC6.length(Z));JC6.decode(Z,Y,0),Z=Y}return this.uint32(X)._push(r35,X,Z)};F4.prototype.string=function J(Z){var X=ZC6.length(Z);return X?this.uint32(X)._push(ZC6.write,X,Z):this._push(ZB1,1,0)};F4.prototype.fork=function J(){return this.states=new s35(this),this.head=this.tail=new lj(JB1,0,0),this.len=0,this};F4.prototype.reset=function J(){if(this.states)this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next;else this.head=this.tail=new lj(JB1,0,0),this.len=0;return this};F4.prototype.ldelim=function J(){var Z=this.head,X=this.tail,Y=this.len;if(this.reset().uint32(Y),Y)this.tail.next=Z.next,this.tail=X,this.len+=Y;return this};F4.prototype.finish=function J(){var Z=this.head.next,X=this.constructor.alloc(this.len),Y=0;while(Z)Z.fn(Z.val,X,Y),Y+=Z.len,Z=Z.next;return X};F4._configure=function(J){tq1=J,F4.create=XC6(),tq1._configure()}});var WC6=B((Kz7,zC6)=>{zC6.exports=QW;var $C6=Wc();(QW.prototype=Object.create($C6.prototype)).constructor=QW;var jB=WW();function QW(){$C6.call(this)}QW._configure=function(){QW.alloc=jB._Buffer_allocUnsafe,QW.writeBytesBuffer=jB.Buffer&&jB.Buffer.prototype instanceof Uint8Array&&jB.Buffer.prototype.set.name==="set"?function J(Z,X,Y){X.set(Z,Y)}:function J(Z,X,Y){if(Z.copy)Z.copy(X,Y,0,Z.length);else for(var $=0;$<Z.length;)X[Y++]=Z[$++]}};QW.prototype.bytes=function J(Z){if(jB.isString(Z))Z=jB._Buffer_from(Z,"base64");var X=Z.length>>>0;if(this.uint32(X),X)this._push(QW.writeBytesBuffer,X,Z);return this};function t35(J,Z,X){if(J.length<40)jB.utf8.write(J,Z,X);else if(Z.utf8Write)Z.utf8Write(J,X);else Z.write(J,X)}QW.prototype.string=function J(Z){var X=jB.Buffer.byteLength(Z);if(this.uint32(X),X)this._push(t35,X,Z);return this};QW._configure()});var Gc=B((qz7,BC6)=>{BC6.exports=z5;var uY=WW(),zB1,KC6=uY.LongBits,e35=uY.utf8;function mY(J,Z){return RangeError("index out of range: "+J.pos+" + "+(Z||1)+" > "+J.len)}function z5(J){this.buf=J,this.pos=0,this.len=J.length}var QC6=typeof Uint8Array!=="undefined"?function J(Z){if(Z instanceof Uint8Array||Array.isArray(Z))return new z5(Z);throw Error("illegal buffer")}:function J(Z){if(Array.isArray(Z))return new z5(Z);throw Error("illegal buffer")},qC6=function J(){return uY.Buffer?function Z(X){return(z5.create=function Y($){return uY.Buffer.isBuffer($)?new zB1($):QC6($)})(X)}:QC6};z5.create=qC6();z5.prototype._slice=uY.Array.prototype.subarray||uY.Array.prototype.slice;z5.prototype.uint32=function J(){var Z=4294967295;return function X(){if(Z=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128)return Z;if(Z=(Z|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)return Z;if(Z=(Z|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)return Z;if(Z=(Z|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)return Z;if(Z=(Z|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128)return Z;if((this.pos+=5)>this.len)throw this.pos=this.len,mY(this,10);return Z}}();z5.prototype.int32=function J(){return this.uint32()|0};z5.prototype.sint32=function J(){var Z=this.uint32();return Z>>>1^-(Z&1)|0};function $B1(){var J=new KC6(0,0),Z=0;if(this.len-this.pos>4){for(;Z<4;++Z)if(J.lo=(J.lo|(this.buf[this.pos]&127)<<Z*7)>>>0,this.buf[this.pos++]<128)return J;if(J.lo=(J.lo|(this.buf[this.pos]&127)<<28)>>>0,J.hi=(J.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return J;Z=0}else{for(;Z<3;++Z){if(this.pos>=this.len)throw mY(this);if(J.lo=(J.lo|(this.buf[this.pos]&127)<<Z*7)>>>0,this.buf[this.pos++]<128)return J}return J.lo=(J.lo|(this.buf[this.pos++]&127)<<Z*7)>>>0,J}if(this.len-this.pos>4){for(;Z<5;++Z)if(J.hi=(J.hi|(this.buf[this.pos]&127)<<Z*7+3)>>>0,this.buf[this.pos++]<128)return J}else for(;Z<5;++Z){if(this.pos>=this.len)throw mY(this);if(J.hi=(J.hi|(this.buf[this.pos]&127)<<Z*7+3)>>>0,this.buf[this.pos++]<128)return J}throw Error("invalid varint encoding")}z5.prototype.bool=function J(){return this.uint32()!==0};function Qc(J,Z){return(J[Z-4]|J[Z-3]<<8|J[Z-2]<<16|J[Z-1]<<24)>>>0}z5.prototype.fixed32=function J(){if(this.pos+4>this.len)throw mY(this,4);return Qc(this.buf,this.pos+=4)};z5.prototype.sfixed32=function J(){if(this.pos+4>this.len)throw mY(this,4);return Qc(this.buf,this.pos+=4)|0};function GC6(){if(this.pos+8>this.len)throw mY(this,8);return new KC6(Qc(this.buf,this.pos+=4),Qc(this.buf,this.pos+=4))}z5.prototype.float=function J(){if(this.pos+4>this.len)throw mY(this,4);var Z=uY.float.readFloatLE(this.buf,this.pos);return this.pos+=4,Z};z5.prototype.double=function J(){if(this.pos+8>this.len)throw mY(this,4);var Z=uY.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,Z};z5.prototype.bytes=function J(){var Z=this.uint32(),X=this.pos,Y=this.pos+Z;if(Y>this.len)throw mY(this,Z);if(this.pos+=Z,Array.isArray(this.buf))return this.buf.slice(X,Y);if(X===Y){var $=uY.Buffer;return $?$.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,X,Y)};z5.prototype.string=function J(){var Z=this.bytes();return e35.read(Z,0,Z.length)};z5.prototype.skip=function J(Z){if(typeof Z==="number"){if(this.pos+Z>this.len)throw mY(this,Z);this.pos+=Z}else do if(this.pos>=this.len)throw mY(this);while(this.buf[this.pos++]&128);return this};z5.prototype.skipType=function(J){switch(J){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:while((J=this.uint32()&7)!==4)this.skipType(J);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+J+" at offset "+this.pos)}return this};z5._configure=function(J){zB1=J,z5.create=qC6(),zB1._configure();var Z=uY.Long?"toLong":"toNumber";uY.merge(z5.prototype,{int64:function X(){return $B1.call(this)[Z](!1)},uint64:function X(){return $B1.call(this)[Z](!0)},sint64:function X(){return $B1.call(this).zzDecode()[Z](!1)},fixed64:function X(){return GC6.call(this)[Z](!0)},sfixed64:function X(){return GC6.call(this)[Z](!1)}})}});var OC6=B((Bz7,UC6)=>{UC6.exports=cO;var FC6=Gc();(cO.prototype=Object.create(FC6.prototype)).constructor=cO;var HC6=WW();function cO(J){FC6.call(this,J)}cO._configure=function(){if(HC6.Buffer)cO.prototype._slice=HC6.Buffer.prototype.slice};cO.prototype.string=function J(){var Z=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+Z,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+Z,this.len))};cO._configure()});var VC6=B((Hz7,DC6)=>{DC6.exports=pj;var WB1=WW();(pj.prototype=Object.create(WB1.EventEmitter.prototype)).constructor=pj;function pj(J,Z,X){if(typeof J!=="function")throw TypeError("rpcImpl must be a function");WB1.EventEmitter.call(this),this.rpcImpl=J,this.requestDelimited=Boolean(Z),this.responseDelimited=Boolean(X)}pj.prototype.rpcCall=function J(Z,X,Y,$,z){if(!$)throw TypeError("request must be specified");var W=this;if(!z)return WB1.asPromise(J,W,Z,X,Y,$);if(!W.rpcImpl){setTimeout(function(){z(Error("already ended"))},0);return}try{return W.rpcImpl(Z,X[W.requestDelimited?"encodeDelimited":"encode"]($).finish(),function Q(G,K){if(G)return W.emit("error",G,Z),z(G);if(K===null){W.end(!0);return}if(!(K instanceof Y))try{K=Y[W.responseDelimited?"decodeDelimited":"decode"](K)}catch(q){return W.emit("error",q,Z),z(q)}return W.emit("data",K,Z),z(null,K)})}catch(Q){W.emit("error",Q,Z),setTimeout(function(){z(Q)},0);return}};pj.prototype.end=function J(Z){if(this.rpcImpl){if(!Z)this.rpcImpl(null,null,null);this.rpcImpl=null,this.emit("end").off()}return this}});var QB1=B((IC6)=>{var Jq5=IC6;Jq5.Service=VC6()});var GB1=B((Uz7,wC6)=>{wC6.exports={}});var KB1=B((MC6)=>{var t7=MC6;t7.build="minimal";t7.Writer=Wc();t7.BufferWriter=WC6();t7.Reader=Gc();t7.BufferReader=OC6();t7.util=WW();t7.rpc=QB1();t7.roots=GB1();t7.configure=AC6;function AC6(){t7.util._configure(),t7.Writer._configure(t7.BufferWriter),t7.Reader._configure(t7.BufferReader)}AC6()});var Kc=B((NC6,PC6)=>{Object.defineProperty(NC6,"__esModule",{value:!0});var U0=KB1(),W1=U0.Reader,V6=U0.Writer,T=U0.util,E=U0.roots.default||(U0.roots.default={});E.opentelemetry=function(){var J={};return J.proto=function(){var Z={};return Z.common=function(){var X={};return X.v1=function(){var Y={};return Y.AnyValue=function(){function $(W){if(W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}$.prototype.stringValue=null,$.prototype.boolValue=null,$.prototype.intValue=null,$.prototype.doubleValue=null,$.prototype.arrayValue=null,$.prototype.kvlistValue=null,$.prototype.bytesValue=null;var z;return Object.defineProperty($.prototype,"value",{get:T.oneOfGetter(z=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:T.oneOfSetter(z)}),$.create=function W(Q){return new $(Q)},$.encode=function W(Q,G){if(!G)G=V6.create();if(Q.stringValue!=null&&Object.hasOwnProperty.call(Q,"stringValue"))G.uint32(10).string(Q.stringValue);if(Q.boolValue!=null&&Object.hasOwnProperty.call(Q,"boolValue"))G.uint32(16).bool(Q.boolValue);if(Q.intValue!=null&&Object.hasOwnProperty.call(Q,"intValue"))G.uint32(24).int64(Q.intValue);if(Q.doubleValue!=null&&Object.hasOwnProperty.call(Q,"doubleValue"))G.uint32(33).double(Q.doubleValue);if(Q.arrayValue!=null&&Object.hasOwnProperty.call(Q,"arrayValue"))E.opentelemetry.proto.common.v1.ArrayValue.encode(Q.arrayValue,G.uint32(42).fork()).ldelim();if(Q.kvlistValue!=null&&Object.hasOwnProperty.call(Q,"kvlistValue"))E.opentelemetry.proto.common.v1.KeyValueList.encode(Q.kvlistValue,G.uint32(50).fork()).ldelim();if(Q.bytesValue!=null&&Object.hasOwnProperty.call(Q,"bytesValue"))G.uint32(58).bytes(Q.bytesValue);return G},$.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},$.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.common.v1.AnyValue;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{q.stringValue=Q.string();break}case 2:{q.boolValue=Q.bool();break}case 3:{q.intValue=Q.int64();break}case 4:{q.doubleValue=Q.double();break}case 5:{q.arrayValue=E.opentelemetry.proto.common.v1.ArrayValue.decode(Q,Q.uint32());break}case 6:{q.kvlistValue=E.opentelemetry.proto.common.v1.KeyValueList.decode(Q,Q.uint32());break}case 7:{q.bytesValue=Q.bytes();break}default:Q.skipType(H&7);break}}return q},$.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},$.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";var G={};if(Q.stringValue!=null&&Q.hasOwnProperty("stringValue")){if(G.value=1,!T.isString(Q.stringValue))return"stringValue: string expected"}if(Q.boolValue!=null&&Q.hasOwnProperty("boolValue")){if(G.value===1)return"value: multiple values";if(G.value=1,typeof Q.boolValue!=="boolean")return"boolValue: boolean expected"}if(Q.intValue!=null&&Q.hasOwnProperty("intValue")){if(G.value===1)return"value: multiple values";if(G.value=1,!T.isInteger(Q.intValue)&&!(Q.intValue&&T.isInteger(Q.intValue.low)&&T.isInteger(Q.intValue.high)))return"intValue: integer|Long expected"}if(Q.doubleValue!=null&&Q.hasOwnProperty("doubleValue")){if(G.value===1)return"value: multiple values";if(G.value=1,typeof Q.doubleValue!=="number")return"doubleValue: number expected"}if(Q.arrayValue!=null&&Q.hasOwnProperty("arrayValue")){if(G.value===1)return"value: multiple values";G.value=1;{var K=E.opentelemetry.proto.common.v1.ArrayValue.verify(Q.arrayValue);if(K)return"arrayValue."+K}}if(Q.kvlistValue!=null&&Q.hasOwnProperty("kvlistValue")){if(G.value===1)return"value: multiple values";G.value=1;{var K=E.opentelemetry.proto.common.v1.KeyValueList.verify(Q.kvlistValue);if(K)return"kvlistValue."+K}}if(Q.bytesValue!=null&&Q.hasOwnProperty("bytesValue")){if(G.value===1)return"value: multiple values";if(G.value=1,!(Q.bytesValue&&typeof Q.bytesValue.length==="number"||T.isString(Q.bytesValue)))return"bytesValue: buffer expected"}return null},$.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.common.v1.AnyValue)return Q;var G=new E.opentelemetry.proto.common.v1.AnyValue;if(Q.stringValue!=null)G.stringValue=String(Q.stringValue);if(Q.boolValue!=null)G.boolValue=Boolean(Q.boolValue);if(Q.intValue!=null){if(T.Long)(G.intValue=T.Long.fromValue(Q.intValue)).unsigned=!1;else if(typeof Q.intValue==="string")G.intValue=parseInt(Q.intValue,10);else if(typeof Q.intValue==="number")G.intValue=Q.intValue;else if(typeof Q.intValue==="object")G.intValue=new T.LongBits(Q.intValue.low>>>0,Q.intValue.high>>>0).toNumber()}if(Q.doubleValue!=null)G.doubleValue=Number(Q.doubleValue);if(Q.arrayValue!=null){if(typeof Q.arrayValue!=="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");G.arrayValue=E.opentelemetry.proto.common.v1.ArrayValue.fromObject(Q.arrayValue)}if(Q.kvlistValue!=null){if(typeof Q.kvlistValue!=="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");G.kvlistValue=E.opentelemetry.proto.common.v1.KeyValueList.fromObject(Q.kvlistValue)}if(Q.bytesValue!=null){if(typeof Q.bytesValue==="string")T.base64.decode(Q.bytesValue,G.bytesValue=T.newBuffer(T.base64.length(Q.bytesValue)),0);else if(Q.bytesValue.length>=0)G.bytesValue=Q.bytesValue}return G},$.toObject=function W(Q,G){if(!G)G={};var K={};if(Q.stringValue!=null&&Q.hasOwnProperty("stringValue")){if(K.stringValue=Q.stringValue,G.oneofs)K.value="stringValue"}if(Q.boolValue!=null&&Q.hasOwnProperty("boolValue")){if(K.boolValue=Q.boolValue,G.oneofs)K.value="boolValue"}if(Q.intValue!=null&&Q.hasOwnProperty("intValue")){if(typeof Q.intValue==="number")K.intValue=G.longs===String?String(Q.intValue):Q.intValue;else K.intValue=G.longs===String?T.Long.prototype.toString.call(Q.intValue):G.longs===Number?new T.LongBits(Q.intValue.low>>>0,Q.intValue.high>>>0).toNumber():Q.intValue;if(G.oneofs)K.value="intValue"}if(Q.doubleValue!=null&&Q.hasOwnProperty("doubleValue")){if(K.doubleValue=G.json&&!isFinite(Q.doubleValue)?String(Q.doubleValue):Q.doubleValue,G.oneofs)K.value="doubleValue"}if(Q.arrayValue!=null&&Q.hasOwnProperty("arrayValue")){if(K.arrayValue=E.opentelemetry.proto.common.v1.ArrayValue.toObject(Q.arrayValue,G),G.oneofs)K.value="arrayValue"}if(Q.kvlistValue!=null&&Q.hasOwnProperty("kvlistValue")){if(K.kvlistValue=E.opentelemetry.proto.common.v1.KeyValueList.toObject(Q.kvlistValue,G),G.oneofs)K.value="kvlistValue"}if(Q.bytesValue!=null&&Q.hasOwnProperty("bytesValue")){if(K.bytesValue=G.bytes===String?T.base64.encode(Q.bytesValue,0,Q.bytesValue.length):G.bytes===Array?Array.prototype.slice.call(Q.bytesValue):Q.bytesValue,G.oneofs)K.value="bytesValue"}return K},$.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.common.v1.AnyValue"},$}(),Y.ArrayValue=function(){function $(z){if(this.values=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.values=T.emptyArray,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.values!=null&&W.values.length)for(var G=0;G<W.values.length;++G)E.opentelemetry.proto.common.v1.AnyValue.encode(W.values[G],Q.uint32(10).fork()).ldelim();return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.common.v1.ArrayValue;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{if(!(K.values&&K.values.length))K.values=[];K.values.push(E.opentelemetry.proto.common.v1.AnyValue.decode(W,W.uint32()));break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.values!=null&&W.hasOwnProperty("values")){if(!Array.isArray(W.values))return"values: array expected";for(var Q=0;Q<W.values.length;++Q){var G=E.opentelemetry.proto.common.v1.AnyValue.verify(W.values[Q]);if(G)return"values."+G}}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.common.v1.ArrayValue)return W;var Q=new E.opentelemetry.proto.common.v1.ArrayValue;if(W.values){if(!Array.isArray(W.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");Q.values=[];for(var G=0;G<W.values.length;++G){if(typeof W.values[G]!=="object")throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");Q.values[G]=E.opentelemetry.proto.common.v1.AnyValue.fromObject(W.values[G])}}return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.values=[];if(W.values&&W.values.length){G.values=[];for(var K=0;K<W.values.length;++K)G.values[K]=E.opentelemetry.proto.common.v1.AnyValue.toObject(W.values[K],Q)}return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.common.v1.ArrayValue"},$}(),Y.KeyValueList=function(){function $(z){if(this.values=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.values=T.emptyArray,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.values!=null&&W.values.length)for(var G=0;G<W.values.length;++G)E.opentelemetry.proto.common.v1.KeyValue.encode(W.values[G],Q.uint32(10).fork()).ldelim();return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.common.v1.KeyValueList;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{if(!(K.values&&K.values.length))K.values=[];K.values.push(E.opentelemetry.proto.common.v1.KeyValue.decode(W,W.uint32()));break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.values!=null&&W.hasOwnProperty("values")){if(!Array.isArray(W.values))return"values: array expected";for(var Q=0;Q<W.values.length;++Q){var G=E.opentelemetry.proto.common.v1.KeyValue.verify(W.values[Q]);if(G)return"values."+G}}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.common.v1.KeyValueList)return W;var Q=new E.opentelemetry.proto.common.v1.KeyValueList;if(W.values){if(!Array.isArray(W.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");Q.values=[];for(var G=0;G<W.values.length;++G){if(typeof W.values[G]!=="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");Q.values[G]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(W.values[G])}}return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.values=[];if(W.values&&W.values.length){G.values=[];for(var K=0;K<W.values.length;++K)G.values[K]=E.opentelemetry.proto.common.v1.KeyValue.toObject(W.values[K],Q)}return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.common.v1.KeyValueList"},$}(),Y.KeyValue=function(){function $(z){if(z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.key=null,$.prototype.value=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.key!=null&&Object.hasOwnProperty.call(W,"key"))Q.uint32(10).string(W.key);if(W.value!=null&&Object.hasOwnProperty.call(W,"value"))E.opentelemetry.proto.common.v1.AnyValue.encode(W.value,Q.uint32(18).fork()).ldelim();return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.common.v1.KeyValue;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{K.key=W.string();break}case 2:{K.value=E.opentelemetry.proto.common.v1.AnyValue.decode(W,W.uint32());break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.key!=null&&W.hasOwnProperty("key")){if(!T.isString(W.key))return"key: string expected"}if(W.value!=null&&W.hasOwnProperty("value")){var Q=E.opentelemetry.proto.common.v1.AnyValue.verify(W.value);if(Q)return"value."+Q}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.common.v1.KeyValue)return W;var Q=new E.opentelemetry.proto.common.v1.KeyValue;if(W.key!=null)Q.key=String(W.key);if(W.value!=null){if(typeof W.value!=="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");Q.value=E.opentelemetry.proto.common.v1.AnyValue.fromObject(W.value)}return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.defaults)G.key="",G.value=null;if(W.key!=null&&W.hasOwnProperty("key"))G.key=W.key;if(W.value!=null&&W.hasOwnProperty("value"))G.value=E.opentelemetry.proto.common.v1.AnyValue.toObject(W.value,Q);return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.common.v1.KeyValue"},$}(),Y.InstrumentationScope=function(){function $(z){if(this.attributes=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.name=null,$.prototype.version=null,$.prototype.attributes=T.emptyArray,$.prototype.droppedAttributesCount=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.name!=null&&Object.hasOwnProperty.call(W,"name"))Q.uint32(10).string(W.name);if(W.version!=null&&Object.hasOwnProperty.call(W,"version"))Q.uint32(18).string(W.version);if(W.attributes!=null&&W.attributes.length)for(var G=0;G<W.attributes.length;++G)E.opentelemetry.proto.common.v1.KeyValue.encode(W.attributes[G],Q.uint32(26).fork()).ldelim();if(W.droppedAttributesCount!=null&&Object.hasOwnProperty.call(W,"droppedAttributesCount"))Q.uint32(32).uint32(W.droppedAttributesCount);return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.common.v1.InstrumentationScope;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{K.name=W.string();break}case 2:{K.version=W.string();break}case 3:{if(!(K.attributes&&K.attributes.length))K.attributes=[];K.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(W,W.uint32()));break}case 4:{K.droppedAttributesCount=W.uint32();break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.name!=null&&W.hasOwnProperty("name")){if(!T.isString(W.name))return"name: string expected"}if(W.version!=null&&W.hasOwnProperty("version")){if(!T.isString(W.version))return"version: string expected"}if(W.attributes!=null&&W.hasOwnProperty("attributes")){if(!Array.isArray(W.attributes))return"attributes: array expected";for(var Q=0;Q<W.attributes.length;++Q){var G=E.opentelemetry.proto.common.v1.KeyValue.verify(W.attributes[Q]);if(G)return"attributes."+G}}if(W.droppedAttributesCount!=null&&W.hasOwnProperty("droppedAttributesCount")){if(!T.isInteger(W.droppedAttributesCount))return"droppedAttributesCount: integer expected"}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.common.v1.InstrumentationScope)return W;var Q=new E.opentelemetry.proto.common.v1.InstrumentationScope;if(W.name!=null)Q.name=String(W.name);if(W.version!=null)Q.version=String(W.version);if(W.attributes){if(!Array.isArray(W.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");Q.attributes=[];for(var G=0;G<W.attributes.length;++G){if(typeof W.attributes[G]!=="object")throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");Q.attributes[G]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(W.attributes[G])}}if(W.droppedAttributesCount!=null)Q.droppedAttributesCount=W.droppedAttributesCount>>>0;return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.attributes=[];if(Q.defaults)G.name="",G.version="",G.droppedAttributesCount=0;if(W.name!=null&&W.hasOwnProperty("name"))G.name=W.name;if(W.version!=null&&W.hasOwnProperty("version"))G.version=W.version;if(W.attributes&&W.attributes.length){G.attributes=[];for(var K=0;K<W.attributes.length;++K)G.attributes[K]=E.opentelemetry.proto.common.v1.KeyValue.toObject(W.attributes[K],Q)}if(W.droppedAttributesCount!=null&&W.hasOwnProperty("droppedAttributesCount"))G.droppedAttributesCount=W.droppedAttributesCount;return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.common.v1.InstrumentationScope"},$}(),Y}(),X}(),Z.resource=function(){var X={};return X.v1=function(){var Y={};return Y.Resource=function(){function $(z){if(this.attributes=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.attributes=T.emptyArray,$.prototype.droppedAttributesCount=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.attributes!=null&&W.attributes.length)for(var G=0;G<W.attributes.length;++G)E.opentelemetry.proto.common.v1.KeyValue.encode(W.attributes[G],Q.uint32(10).fork()).ldelim();if(W.droppedAttributesCount!=null&&Object.hasOwnProperty.call(W,"droppedAttributesCount"))Q.uint32(16).uint32(W.droppedAttributesCount);return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.resource.v1.Resource;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{if(!(K.attributes&&K.attributes.length))K.attributes=[];K.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(W,W.uint32()));break}case 2:{K.droppedAttributesCount=W.uint32();break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.attributes!=null&&W.hasOwnProperty("attributes")){if(!Array.isArray(W.attributes))return"attributes: array expected";for(var Q=0;Q<W.attributes.length;++Q){var G=E.opentelemetry.proto.common.v1.KeyValue.verify(W.attributes[Q]);if(G)return"attributes."+G}}if(W.droppedAttributesCount!=null&&W.hasOwnProperty("droppedAttributesCount")){if(!T.isInteger(W.droppedAttributesCount))return"droppedAttributesCount: integer expected"}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.resource.v1.Resource)return W;var Q=new E.opentelemetry.proto.resource.v1.Resource;if(W.attributes){if(!Array.isArray(W.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");Q.attributes=[];for(var G=0;G<W.attributes.length;++G){if(typeof W.attributes[G]!=="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");Q.attributes[G]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(W.attributes[G])}}if(W.droppedAttributesCount!=null)Q.droppedAttributesCount=W.droppedAttributesCount>>>0;return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.attributes=[];if(Q.defaults)G.droppedAttributesCount=0;if(W.attributes&&W.attributes.length){G.attributes=[];for(var K=0;K<W.attributes.length;++K)G.attributes[K]=E.opentelemetry.proto.common.v1.KeyValue.toObject(W.attributes[K],Q)}if(W.droppedAttributesCount!=null&&W.hasOwnProperty("droppedAttributesCount"))G.droppedAttributesCount=W.droppedAttributesCount;return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.resource.v1.Resource"},$}(),Y}(),X}(),Z.trace=function(){var X={};return X.v1=function(){var Y={};return Y.TracesData=function(){function $(z){if(this.resourceSpans=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.resourceSpans=T.emptyArray,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.resourceSpans!=null&&W.resourceSpans.length)for(var G=0;G<W.resourceSpans.length;++G)E.opentelemetry.proto.trace.v1.ResourceSpans.encode(W.resourceSpans[G],Q.uint32(10).fork()).ldelim();return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.trace.v1.TracesData;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{if(!(K.resourceSpans&&K.resourceSpans.length))K.resourceSpans=[];K.resourceSpans.push(E.opentelemetry.proto.trace.v1.ResourceSpans.decode(W,W.uint32()));break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.resourceSpans!=null&&W.hasOwnProperty("resourceSpans")){if(!Array.isArray(W.resourceSpans))return"resourceSpans: array expected";for(var Q=0;Q<W.resourceSpans.length;++Q){var G=E.opentelemetry.proto.trace.v1.ResourceSpans.verify(W.resourceSpans[Q]);if(G)return"resourceSpans."+G}}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.trace.v1.TracesData)return W;var Q=new E.opentelemetry.proto.trace.v1.TracesData;if(W.resourceSpans){if(!Array.isArray(W.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");Q.resourceSpans=[];for(var G=0;G<W.resourceSpans.length;++G){if(typeof W.resourceSpans[G]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");Q.resourceSpans[G]=E.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(W.resourceSpans[G])}}return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.resourceSpans=[];if(W.resourceSpans&&W.resourceSpans.length){G.resourceSpans=[];for(var K=0;K<W.resourceSpans.length;++K)G.resourceSpans[K]=E.opentelemetry.proto.trace.v1.ResourceSpans.toObject(W.resourceSpans[K],Q)}return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.trace.v1.TracesData"},$}(),Y.ResourceSpans=function(){function $(z){if(this.scopeSpans=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.resource=null,$.prototype.scopeSpans=T.emptyArray,$.prototype.schemaUrl=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.resource!=null&&Object.hasOwnProperty.call(W,"resource"))E.opentelemetry.proto.resource.v1.Resource.encode(W.resource,Q.uint32(10).fork()).ldelim();if(W.scopeSpans!=null&&W.scopeSpans.length)for(var G=0;G<W.scopeSpans.length;++G)E.opentelemetry.proto.trace.v1.ScopeSpans.encode(W.scopeSpans[G],Q.uint32(18).fork()).ldelim();if(W.schemaUrl!=null&&Object.hasOwnProperty.call(W,"schemaUrl"))Q.uint32(26).string(W.schemaUrl);return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.trace.v1.ResourceSpans;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{K.resource=E.opentelemetry.proto.resource.v1.Resource.decode(W,W.uint32());break}case 2:{if(!(K.scopeSpans&&K.scopeSpans.length))K.scopeSpans=[];K.scopeSpans.push(E.opentelemetry.proto.trace.v1.ScopeSpans.decode(W,W.uint32()));break}case 3:{K.schemaUrl=W.string();break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.resource!=null&&W.hasOwnProperty("resource")){var Q=E.opentelemetry.proto.resource.v1.Resource.verify(W.resource);if(Q)return"resource."+Q}if(W.scopeSpans!=null&&W.hasOwnProperty("scopeSpans")){if(!Array.isArray(W.scopeSpans))return"scopeSpans: array expected";for(var G=0;G<W.scopeSpans.length;++G){var Q=E.opentelemetry.proto.trace.v1.ScopeSpans.verify(W.scopeSpans[G]);if(Q)return"scopeSpans."+Q}}if(W.schemaUrl!=null&&W.hasOwnProperty("schemaUrl")){if(!T.isString(W.schemaUrl))return"schemaUrl: string expected"}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.trace.v1.ResourceSpans)return W;var Q=new E.opentelemetry.proto.trace.v1.ResourceSpans;if(W.resource!=null){if(typeof W.resource!=="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");Q.resource=E.opentelemetry.proto.resource.v1.Resource.fromObject(W.resource)}if(W.scopeSpans){if(!Array.isArray(W.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");Q.scopeSpans=[];for(var G=0;G<W.scopeSpans.length;++G){if(typeof W.scopeSpans[G]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");Q.scopeSpans[G]=E.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(W.scopeSpans[G])}}if(W.schemaUrl!=null)Q.schemaUrl=String(W.schemaUrl);return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.scopeSpans=[];if(Q.defaults)G.resource=null,G.schemaUrl="";if(W.resource!=null&&W.hasOwnProperty("resource"))G.resource=E.opentelemetry.proto.resource.v1.Resource.toObject(W.resource,Q);if(W.scopeSpans&&W.scopeSpans.length){G.scopeSpans=[];for(var K=0;K<W.scopeSpans.length;++K)G.scopeSpans[K]=E.opentelemetry.proto.trace.v1.ScopeSpans.toObject(W.scopeSpans[K],Q)}if(W.schemaUrl!=null&&W.hasOwnProperty("schemaUrl"))G.schemaUrl=W.schemaUrl;return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.trace.v1.ResourceSpans"},$}(),Y.ScopeSpans=function(){function $(z){if(this.spans=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.scope=null,$.prototype.spans=T.emptyArray,$.prototype.schemaUrl=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.scope!=null&&Object.hasOwnProperty.call(W,"scope"))E.opentelemetry.proto.common.v1.InstrumentationScope.encode(W.scope,Q.uint32(10).fork()).ldelim();if(W.spans!=null&&W.spans.length)for(var G=0;G<W.spans.length;++G)E.opentelemetry.proto.trace.v1.Span.encode(W.spans[G],Q.uint32(18).fork()).ldelim();if(W.schemaUrl!=null&&Object.hasOwnProperty.call(W,"schemaUrl"))Q.uint32(26).string(W.schemaUrl);return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.trace.v1.ScopeSpans;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{K.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.decode(W,W.uint32());break}case 2:{if(!(K.spans&&K.spans.length))K.spans=[];K.spans.push(E.opentelemetry.proto.trace.v1.Span.decode(W,W.uint32()));break}case 3:{K.schemaUrl=W.string();break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.scope!=null&&W.hasOwnProperty("scope")){var Q=E.opentelemetry.proto.common.v1.InstrumentationScope.verify(W.scope);if(Q)return"scope."+Q}if(W.spans!=null&&W.hasOwnProperty("spans")){if(!Array.isArray(W.spans))return"spans: array expected";for(var G=0;G<W.spans.length;++G){var Q=E.opentelemetry.proto.trace.v1.Span.verify(W.spans[G]);if(Q)return"spans."+Q}}if(W.schemaUrl!=null&&W.hasOwnProperty("schemaUrl")){if(!T.isString(W.schemaUrl))return"schemaUrl: string expected"}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.trace.v1.ScopeSpans)return W;var Q=new E.opentelemetry.proto.trace.v1.ScopeSpans;if(W.scope!=null){if(typeof W.scope!=="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");Q.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(W.scope)}if(W.spans){if(!Array.isArray(W.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");Q.spans=[];for(var G=0;G<W.spans.length;++G){if(typeof W.spans[G]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");Q.spans[G]=E.opentelemetry.proto.trace.v1.Span.fromObject(W.spans[G])}}if(W.schemaUrl!=null)Q.schemaUrl=String(W.schemaUrl);return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.spans=[];if(Q.defaults)G.scope=null,G.schemaUrl="";if(W.scope!=null&&W.hasOwnProperty("scope"))G.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.toObject(W.scope,Q);if(W.spans&&W.spans.length){G.spans=[];for(var K=0;K<W.spans.length;++K)G.spans[K]=E.opentelemetry.proto.trace.v1.Span.toObject(W.spans[K],Q)}if(W.schemaUrl!=null&&W.hasOwnProperty("schemaUrl"))G.schemaUrl=W.schemaUrl;return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.trace.v1.ScopeSpans"},$}(),Y.Span=function(){function $(z){if(this.attributes=[],this.events=[],this.links=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.traceId=null,$.prototype.spanId=null,$.prototype.traceState=null,$.prototype.parentSpanId=null,$.prototype.name=null,$.prototype.kind=null,$.prototype.startTimeUnixNano=null,$.prototype.endTimeUnixNano=null,$.prototype.attributes=T.emptyArray,$.prototype.droppedAttributesCount=null,$.prototype.events=T.emptyArray,$.prototype.droppedEventsCount=null,$.prototype.links=T.emptyArray,$.prototype.droppedLinksCount=null,$.prototype.status=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.traceId!=null&&Object.hasOwnProperty.call(W,"traceId"))Q.uint32(10).bytes(W.traceId);if(W.spanId!=null&&Object.hasOwnProperty.call(W,"spanId"))Q.uint32(18).bytes(W.spanId);if(W.traceState!=null&&Object.hasOwnProperty.call(W,"traceState"))Q.uint32(26).string(W.traceState);if(W.parentSpanId!=null&&Object.hasOwnProperty.call(W,"parentSpanId"))Q.uint32(34).bytes(W.parentSpanId);if(W.name!=null&&Object.hasOwnProperty.call(W,"name"))Q.uint32(42).string(W.name);if(W.kind!=null&&Object.hasOwnProperty.call(W,"kind"))Q.uint32(48).int32(W.kind);if(W.startTimeUnixNano!=null&&Object.hasOwnProperty.call(W,"startTimeUnixNano"))Q.uint32(57).fixed64(W.startTimeUnixNano);if(W.endTimeUnixNano!=null&&Object.hasOwnProperty.call(W,"endTimeUnixNano"))Q.uint32(65).fixed64(W.endTimeUnixNano);if(W.attributes!=null&&W.attributes.length)for(var G=0;G<W.attributes.length;++G)E.opentelemetry.proto.common.v1.KeyValue.encode(W.attributes[G],Q.uint32(74).fork()).ldelim();if(W.droppedAttributesCount!=null&&Object.hasOwnProperty.call(W,"droppedAttributesCount"))Q.uint32(80).uint32(W.droppedAttributesCount);if(W.events!=null&&W.events.length)for(var G=0;G<W.events.length;++G)E.opentelemetry.proto.trace.v1.Span.Event.encode(W.events[G],Q.uint32(90).fork()).ldelim();if(W.droppedEventsCount!=null&&Object.hasOwnProperty.call(W,"droppedEventsCount"))Q.uint32(96).uint32(W.droppedEventsCount);if(W.links!=null&&W.links.length)for(var G=0;G<W.links.length;++G)E.opentelemetry.proto.trace.v1.Span.Link.encode(W.links[G],Q.uint32(106).fork()).ldelim();if(W.droppedLinksCount!=null&&Object.hasOwnProperty.call(W,"droppedLinksCount"))Q.uint32(112).uint32(W.droppedLinksCount);if(W.status!=null&&Object.hasOwnProperty.call(W,"status"))E.opentelemetry.proto.trace.v1.Status.encode(W.status,Q.uint32(122).fork()).ldelim();return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.trace.v1.Span;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{K.traceId=W.bytes();break}case 2:{K.spanId=W.bytes();break}case 3:{K.traceState=W.string();break}case 4:{K.parentSpanId=W.bytes();break}case 5:{K.name=W.string();break}case 6:{K.kind=W.int32();break}case 7:{K.startTimeUnixNano=W.fixed64();break}case 8:{K.endTimeUnixNano=W.fixed64();break}case 9:{if(!(K.attributes&&K.attributes.length))K.attributes=[];K.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(W,W.uint32()));break}case 10:{K.droppedAttributesCount=W.uint32();break}case 11:{if(!(K.events&&K.events.length))K.events=[];K.events.push(E.opentelemetry.proto.trace.v1.Span.Event.decode(W,W.uint32()));break}case 12:{K.droppedEventsCount=W.uint32();break}case 13:{if(!(K.links&&K.links.length))K.links=[];K.links.push(E.opentelemetry.proto.trace.v1.Span.Link.decode(W,W.uint32()));break}case 14:{K.droppedLinksCount=W.uint32();break}case 15:{K.status=E.opentelemetry.proto.trace.v1.Status.decode(W,W.uint32());break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.traceId!=null&&W.hasOwnProperty("traceId")){if(!(W.traceId&&typeof W.traceId.length==="number"||T.isString(W.traceId)))return"traceId: buffer expected"}if(W.spanId!=null&&W.hasOwnProperty("spanId")){if(!(W.spanId&&typeof W.spanId.length==="number"||T.isString(W.spanId)))return"spanId: buffer expected"}if(W.traceState!=null&&W.hasOwnProperty("traceState")){if(!T.isString(W.traceState))return"traceState: string expected"}if(W.parentSpanId!=null&&W.hasOwnProperty("parentSpanId")){if(!(W.parentSpanId&&typeof W.parentSpanId.length==="number"||T.isString(W.parentSpanId)))return"parentSpanId: buffer expected"}if(W.name!=null&&W.hasOwnProperty("name")){if(!T.isString(W.name))return"name: string expected"}if(W.kind!=null&&W.hasOwnProperty("kind"))switch(W.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(W.startTimeUnixNano!=null&&W.hasOwnProperty("startTimeUnixNano")){if(!T.isInteger(W.startTimeUnixNano)&&!(W.startTimeUnixNano&&T.isInteger(W.startTimeUnixNano.low)&&T.isInteger(W.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected"}if(W.endTimeUnixNano!=null&&W.hasOwnProperty("endTimeUnixNano")){if(!T.isInteger(W.endTimeUnixNano)&&!(W.endTimeUnixNano&&T.isInteger(W.endTimeUnixNano.low)&&T.isInteger(W.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected"}if(W.attributes!=null&&W.hasOwnProperty("attributes")){if(!Array.isArray(W.attributes))return"attributes: array expected";for(var Q=0;Q<W.attributes.length;++Q){var G=E.opentelemetry.proto.common.v1.KeyValue.verify(W.attributes[Q]);if(G)return"attributes."+G}}if(W.droppedAttributesCount!=null&&W.hasOwnProperty("droppedAttributesCount")){if(!T.isInteger(W.droppedAttributesCount))return"droppedAttributesCount: integer expected"}if(W.events!=null&&W.hasOwnProperty("events")){if(!Array.isArray(W.events))return"events: array expected";for(var Q=0;Q<W.events.length;++Q){var G=E.opentelemetry.proto.trace.v1.Span.Event.verify(W.events[Q]);if(G)return"events."+G}}if(W.droppedEventsCount!=null&&W.hasOwnProperty("droppedEventsCount")){if(!T.isInteger(W.droppedEventsCount))return"droppedEventsCount: integer expected"}if(W.links!=null&&W.hasOwnProperty("links")){if(!Array.isArray(W.links))return"links: array expected";for(var Q=0;Q<W.links.length;++Q){var G=E.opentelemetry.proto.trace.v1.Span.Link.verify(W.links[Q]);if(G)return"links."+G}}if(W.droppedLinksCount!=null&&W.hasOwnProperty("droppedLinksCount")){if(!T.isInteger(W.droppedLinksCount))return"droppedLinksCount: integer expected"}if(W.status!=null&&W.hasOwnProperty("status")){var G=E.opentelemetry.proto.trace.v1.Status.verify(W.status);if(G)return"status."+G}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.trace.v1.Span)return W;var Q=new E.opentelemetry.proto.trace.v1.Span;if(W.traceId!=null){if(typeof W.traceId==="string")T.base64.decode(W.traceId,Q.traceId=T.newBuffer(T.base64.length(W.traceId)),0);else if(W.traceId.length>=0)Q.traceId=W.traceId}if(W.spanId!=null){if(typeof W.spanId==="string")T.base64.decode(W.spanId,Q.spanId=T.newBuffer(T.base64.length(W.spanId)),0);else if(W.spanId.length>=0)Q.spanId=W.spanId}if(W.traceState!=null)Q.traceState=String(W.traceState);if(W.parentSpanId!=null){if(typeof W.parentSpanId==="string")T.base64.decode(W.parentSpanId,Q.parentSpanId=T.newBuffer(T.base64.length(W.parentSpanId)),0);else if(W.parentSpanId.length>=0)Q.parentSpanId=W.parentSpanId}if(W.name!=null)Q.name=String(W.name);switch(W.kind){default:if(typeof W.kind==="number"){Q.kind=W.kind;break}break;case"SPAN_KIND_UNSPECIFIED":case 0:Q.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:Q.kind=1;break;case"SPAN_KIND_SERVER":case 2:Q.kind=2;break;case"SPAN_KIND_CLIENT":case 3:Q.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:Q.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:Q.kind=5;break}if(W.startTimeUnixNano!=null){if(T.Long)(Q.startTimeUnixNano=T.Long.fromValue(W.startTimeUnixNano)).unsigned=!1;else if(typeof W.startTimeUnixNano==="string")Q.startTimeUnixNano=parseInt(W.startTimeUnixNano,10);else if(typeof W.startTimeUnixNano==="number")Q.startTimeUnixNano=W.startTimeUnixNano;else if(typeof W.startTimeUnixNano==="object")Q.startTimeUnixNano=new T.LongBits(W.startTimeUnixNano.low>>>0,W.startTimeUnixNano.high>>>0).toNumber()}if(W.endTimeUnixNano!=null){if(T.Long)(Q.endTimeUnixNano=T.Long.fromValue(W.endTimeUnixNano)).unsigned=!1;else if(typeof W.endTimeUnixNano==="string")Q.endTimeUnixNano=parseInt(W.endTimeUnixNano,10);else if(typeof W.endTimeUnixNano==="number")Q.endTimeUnixNano=W.endTimeUnixNano;else if(typeof W.endTimeUnixNano==="object")Q.endTimeUnixNano=new T.LongBits(W.endTimeUnixNano.low>>>0,W.endTimeUnixNano.high>>>0).toNumber()}if(W.attributes){if(!Array.isArray(W.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");Q.attributes=[];for(var G=0;G<W.attributes.length;++G){if(typeof W.attributes[G]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");Q.attributes[G]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(W.attributes[G])}}if(W.droppedAttributesCount!=null)Q.droppedAttributesCount=W.droppedAttributesCount>>>0;if(W.events){if(!Array.isArray(W.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");Q.events=[];for(var G=0;G<W.events.length;++G){if(typeof W.events[G]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");Q.events[G]=E.opentelemetry.proto.trace.v1.Span.Event.fromObject(W.events[G])}}if(W.droppedEventsCount!=null)Q.droppedEventsCount=W.droppedEventsCount>>>0;if(W.links){if(!Array.isArray(W.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");Q.links=[];for(var G=0;G<W.links.length;++G){if(typeof W.links[G]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");Q.links[G]=E.opentelemetry.proto.trace.v1.Span.Link.fromObject(W.links[G])}}if(W.droppedLinksCount!=null)Q.droppedLinksCount=W.droppedLinksCount>>>0;if(W.status!=null){if(typeof W.status!=="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");Q.status=E.opentelemetry.proto.trace.v1.Status.fromObject(W.status)}return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.attributes=[],G.events=[],G.links=[];if(Q.defaults){if(Q.bytes===String)G.traceId="";else if(G.traceId=[],Q.bytes!==Array)G.traceId=T.newBuffer(G.traceId);if(Q.bytes===String)G.spanId="";else if(G.spanId=[],Q.bytes!==Array)G.spanId=T.newBuffer(G.spanId);if(G.traceState="",Q.bytes===String)G.parentSpanId="";else if(G.parentSpanId=[],Q.bytes!==Array)G.parentSpanId=T.newBuffer(G.parentSpanId);if(G.name="",G.kind=Q.enums===String?"SPAN_KIND_UNSPECIFIED":0,T.Long){var K=new T.Long(0,0,!1);G.startTimeUnixNano=Q.longs===String?K.toString():Q.longs===Number?K.toNumber():K}else G.startTimeUnixNano=Q.longs===String?"0":0;if(T.Long){var K=new T.Long(0,0,!1);G.endTimeUnixNano=Q.longs===String?K.toString():Q.longs===Number?K.toNumber():K}else G.endTimeUnixNano=Q.longs===String?"0":0;G.droppedAttributesCount=0,G.droppedEventsCount=0,G.droppedLinksCount=0,G.status=null}if(W.traceId!=null&&W.hasOwnProperty("traceId"))G.traceId=Q.bytes===String?T.base64.encode(W.traceId,0,W.traceId.length):Q.bytes===Array?Array.prototype.slice.call(W.traceId):W.traceId;if(W.spanId!=null&&W.hasOwnProperty("spanId"))G.spanId=Q.bytes===String?T.base64.encode(W.spanId,0,W.spanId.length):Q.bytes===Array?Array.prototype.slice.call(W.spanId):W.spanId;if(W.traceState!=null&&W.hasOwnProperty("traceState"))G.traceState=W.traceState;if(W.parentSpanId!=null&&W.hasOwnProperty("parentSpanId"))G.parentSpanId=Q.bytes===String?T.base64.encode(W.parentSpanId,0,W.parentSpanId.length):Q.bytes===Array?Array.prototype.slice.call(W.parentSpanId):W.parentSpanId;if(W.name!=null&&W.hasOwnProperty("name"))G.name=W.name;if(W.kind!=null&&W.hasOwnProperty("kind"))G.kind=Q.enums===String?E.opentelemetry.proto.trace.v1.Span.SpanKind[W.kind]===void 0?W.kind:E.opentelemetry.proto.trace.v1.Span.SpanKind[W.kind]:W.kind;if(W.startTimeUnixNano!=null&&W.hasOwnProperty("startTimeUnixNano"))if(typeof W.startTimeUnixNano==="number")G.startTimeUnixNano=Q.longs===String?String(W.startTimeUnixNano):W.startTimeUnixNano;else G.startTimeUnixNano=Q.longs===String?T.Long.prototype.toString.call(W.startTimeUnixNano):Q.longs===Number?new T.LongBits(W.startTimeUnixNano.low>>>0,W.startTimeUnixNano.high>>>0).toNumber():W.startTimeUnixNano;if(W.endTimeUnixNano!=null&&W.hasOwnProperty("endTimeUnixNano"))if(typeof W.endTimeUnixNano==="number")G.endTimeUnixNano=Q.longs===String?String(W.endTimeUnixNano):W.endTimeUnixNano;else G.endTimeUnixNano=Q.longs===String?T.Long.prototype.toString.call(W.endTimeUnixNano):Q.longs===Number?new T.LongBits(W.endTimeUnixNano.low>>>0,W.endTimeUnixNano.high>>>0).toNumber():W.endTimeUnixNano;if(W.attributes&&W.attributes.length){G.attributes=[];for(var q=0;q<W.attributes.length;++q)G.attributes[q]=E.opentelemetry.proto.common.v1.KeyValue.toObject(W.attributes[q],Q)}if(W.droppedAttributesCount!=null&&W.hasOwnProperty("droppedAttributesCount"))G.droppedAttributesCount=W.droppedAttributesCount;if(W.events&&W.events.length){G.events=[];for(var q=0;q<W.events.length;++q)G.events[q]=E.opentelemetry.proto.trace.v1.Span.Event.toObject(W.events[q],Q)}if(W.droppedEventsCount!=null&&W.hasOwnProperty("droppedEventsCount"))G.droppedEventsCount=W.droppedEventsCount;if(W.links&&W.links.length){G.links=[];for(var q=0;q<W.links.length;++q)G.links[q]=E.opentelemetry.proto.trace.v1.Span.Link.toObject(W.links[q],Q)}if(W.droppedLinksCount!=null&&W.hasOwnProperty("droppedLinksCount"))G.droppedLinksCount=W.droppedLinksCount;if(W.status!=null&&W.hasOwnProperty("status"))G.status=E.opentelemetry.proto.trace.v1.Status.toObject(W.status,Q);return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.trace.v1.Span"},$.SpanKind=function(){var z={},W=Object.create(z);return W[z[0]="SPAN_KIND_UNSPECIFIED"]=0,W[z[1]="SPAN_KIND_INTERNAL"]=1,W[z[2]="SPAN_KIND_SERVER"]=2,W[z[3]="SPAN_KIND_CLIENT"]=3,W[z[4]="SPAN_KIND_PRODUCER"]=4,W[z[5]="SPAN_KIND_CONSUMER"]=5,W}(),$.Event=function(){function z(W){if(this.attributes=[],W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}return z.prototype.timeUnixNano=null,z.prototype.name=null,z.prototype.attributes=T.emptyArray,z.prototype.droppedAttributesCount=null,z.create=function W(Q){return new z(Q)},z.encode=function W(Q,G){if(!G)G=V6.create();if(Q.timeUnixNano!=null&&Object.hasOwnProperty.call(Q,"timeUnixNano"))G.uint32(9).fixed64(Q.timeUnixNano);if(Q.name!=null&&Object.hasOwnProperty.call(Q,"name"))G.uint32(18).string(Q.name);if(Q.attributes!=null&&Q.attributes.length)for(var K=0;K<Q.attributes.length;++K)E.opentelemetry.proto.common.v1.KeyValue.encode(Q.attributes[K],G.uint32(26).fork()).ldelim();if(Q.droppedAttributesCount!=null&&Object.hasOwnProperty.call(Q,"droppedAttributesCount"))G.uint32(32).uint32(Q.droppedAttributesCount);return G},z.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},z.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.trace.v1.Span.Event;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{q.timeUnixNano=Q.fixed64();break}case 2:{q.name=Q.string();break}case 3:{if(!(q.attributes&&q.attributes.length))q.attributes=[];q.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(Q,Q.uint32()));break}case 4:{q.droppedAttributesCount=Q.uint32();break}default:Q.skipType(H&7);break}}return q},z.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},z.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano")){if(!T.isInteger(Q.timeUnixNano)&&!(Q.timeUnixNano&&T.isInteger(Q.timeUnixNano.low)&&T.isInteger(Q.timeUnixNano.high)))return"timeUnixNano: integer|Long expected"}if(Q.name!=null&&Q.hasOwnProperty("name")){if(!T.isString(Q.name))return"name: string expected"}if(Q.attributes!=null&&Q.hasOwnProperty("attributes")){if(!Array.isArray(Q.attributes))return"attributes: array expected";for(var G=0;G<Q.attributes.length;++G){var K=E.opentelemetry.proto.common.v1.KeyValue.verify(Q.attributes[G]);if(K)return"attributes."+K}}if(Q.droppedAttributesCount!=null&&Q.hasOwnProperty("droppedAttributesCount")){if(!T.isInteger(Q.droppedAttributesCount))return"droppedAttributesCount: integer expected"}return null},z.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.trace.v1.Span.Event)return Q;var G=new E.opentelemetry.proto.trace.v1.Span.Event;if(Q.timeUnixNano!=null){if(T.Long)(G.timeUnixNano=T.Long.fromValue(Q.timeUnixNano)).unsigned=!1;else if(typeof Q.timeUnixNano==="string")G.timeUnixNano=parseInt(Q.timeUnixNano,10);else if(typeof Q.timeUnixNano==="number")G.timeUnixNano=Q.timeUnixNano;else if(typeof Q.timeUnixNano==="object")G.timeUnixNano=new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber()}if(Q.name!=null)G.name=String(Q.name);if(Q.attributes){if(!Array.isArray(Q.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");G.attributes=[];for(var K=0;K<Q.attributes.length;++K){if(typeof Q.attributes[K]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");G.attributes[K]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(Q.attributes[K])}}if(Q.droppedAttributesCount!=null)G.droppedAttributesCount=Q.droppedAttributesCount>>>0;return G},z.toObject=function W(Q,G){if(!G)G={};var K={};if(G.arrays||G.defaults)K.attributes=[];if(G.defaults){if(T.Long){var q=new T.Long(0,0,!1);K.timeUnixNano=G.longs===String?q.toString():G.longs===Number?q.toNumber():q}else K.timeUnixNano=G.longs===String?"0":0;K.name="",K.droppedAttributesCount=0}if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano"))if(typeof Q.timeUnixNano==="number")K.timeUnixNano=G.longs===String?String(Q.timeUnixNano):Q.timeUnixNano;else K.timeUnixNano=G.longs===String?T.Long.prototype.toString.call(Q.timeUnixNano):G.longs===Number?new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber():Q.timeUnixNano;if(Q.name!=null&&Q.hasOwnProperty("name"))K.name=Q.name;if(Q.attributes&&Q.attributes.length){K.attributes=[];for(var H=0;H<Q.attributes.length;++H)K.attributes[H]=E.opentelemetry.proto.common.v1.KeyValue.toObject(Q.attributes[H],G)}if(Q.droppedAttributesCount!=null&&Q.hasOwnProperty("droppedAttributesCount"))K.droppedAttributesCount=Q.droppedAttributesCount;return K},z.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},z.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.trace.v1.Span.Event"},z}(),$.Link=function(){function z(W){if(this.attributes=[],W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}return z.prototype.traceId=null,z.prototype.spanId=null,z.prototype.traceState=null,z.prototype.attributes=T.emptyArray,z.prototype.droppedAttributesCount=null,z.create=function W(Q){return new z(Q)},z.encode=function W(Q,G){if(!G)G=V6.create();if(Q.traceId!=null&&Object.hasOwnProperty.call(Q,"traceId"))G.uint32(10).bytes(Q.traceId);if(Q.spanId!=null&&Object.hasOwnProperty.call(Q,"spanId"))G.uint32(18).bytes(Q.spanId);if(Q.traceState!=null&&Object.hasOwnProperty.call(Q,"traceState"))G.uint32(26).string(Q.traceState);if(Q.attributes!=null&&Q.attributes.length)for(var K=0;K<Q.attributes.length;++K)E.opentelemetry.proto.common.v1.KeyValue.encode(Q.attributes[K],G.uint32(34).fork()).ldelim();if(Q.droppedAttributesCount!=null&&Object.hasOwnProperty.call(Q,"droppedAttributesCount"))G.uint32(40).uint32(Q.droppedAttributesCount);return G},z.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},z.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.trace.v1.Span.Link;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{q.traceId=Q.bytes();break}case 2:{q.spanId=Q.bytes();break}case 3:{q.traceState=Q.string();break}case 4:{if(!(q.attributes&&q.attributes.length))q.attributes=[];q.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(Q,Q.uint32()));break}case 5:{q.droppedAttributesCount=Q.uint32();break}default:Q.skipType(H&7);break}}return q},z.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},z.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.traceId!=null&&Q.hasOwnProperty("traceId")){if(!(Q.traceId&&typeof Q.traceId.length==="number"||T.isString(Q.traceId)))return"traceId: buffer expected"}if(Q.spanId!=null&&Q.hasOwnProperty("spanId")){if(!(Q.spanId&&typeof Q.spanId.length==="number"||T.isString(Q.spanId)))return"spanId: buffer expected"}if(Q.traceState!=null&&Q.hasOwnProperty("traceState")){if(!T.isString(Q.traceState))return"traceState: string expected"}if(Q.attributes!=null&&Q.hasOwnProperty("attributes")){if(!Array.isArray(Q.attributes))return"attributes: array expected";for(var G=0;G<Q.attributes.length;++G){var K=E.opentelemetry.proto.common.v1.KeyValue.verify(Q.attributes[G]);if(K)return"attributes."+K}}if(Q.droppedAttributesCount!=null&&Q.hasOwnProperty("droppedAttributesCount")){if(!T.isInteger(Q.droppedAttributesCount))return"droppedAttributesCount: integer expected"}return null},z.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.trace.v1.Span.Link)return Q;var G=new E.opentelemetry.proto.trace.v1.Span.Link;if(Q.traceId!=null){if(typeof Q.traceId==="string")T.base64.decode(Q.traceId,G.traceId=T.newBuffer(T.base64.length(Q.traceId)),0);else if(Q.traceId.length>=0)G.traceId=Q.traceId}if(Q.spanId!=null){if(typeof Q.spanId==="string")T.base64.decode(Q.spanId,G.spanId=T.newBuffer(T.base64.length(Q.spanId)),0);else if(Q.spanId.length>=0)G.spanId=Q.spanId}if(Q.traceState!=null)G.traceState=String(Q.traceState);if(Q.attributes){if(!Array.isArray(Q.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");G.attributes=[];for(var K=0;K<Q.attributes.length;++K){if(typeof Q.attributes[K]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");G.attributes[K]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(Q.attributes[K])}}if(Q.droppedAttributesCount!=null)G.droppedAttributesCount=Q.droppedAttributesCount>>>0;return G},z.toObject=function W(Q,G){if(!G)G={};var K={};if(G.arrays||G.defaults)K.attributes=[];if(G.defaults){if(G.bytes===String)K.traceId="";else if(K.traceId=[],G.bytes!==Array)K.traceId=T.newBuffer(K.traceId);if(G.bytes===String)K.spanId="";else if(K.spanId=[],G.bytes!==Array)K.spanId=T.newBuffer(K.spanId);K.traceState="",K.droppedAttributesCount=0}if(Q.traceId!=null&&Q.hasOwnProperty("traceId"))K.traceId=G.bytes===String?T.base64.encode(Q.traceId,0,Q.traceId.length):G.bytes===Array?Array.prototype.slice.call(Q.traceId):Q.traceId;if(Q.spanId!=null&&Q.hasOwnProperty("spanId"))K.spanId=G.bytes===String?T.base64.encode(Q.spanId,0,Q.spanId.length):G.bytes===Array?Array.prototype.slice.call(Q.spanId):Q.spanId;if(Q.traceState!=null&&Q.hasOwnProperty("traceState"))K.traceState=Q.traceState;if(Q.attributes&&Q.attributes.length){K.attributes=[];for(var q=0;q<Q.attributes.length;++q)K.attributes[q]=E.opentelemetry.proto.common.v1.KeyValue.toObject(Q.attributes[q],G)}if(Q.droppedAttributesCount!=null&&Q.hasOwnProperty("droppedAttributesCount"))K.droppedAttributesCount=Q.droppedAttributesCount;return K},z.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},z.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.trace.v1.Span.Link"},z}(),$}(),Y.Status=function(){function $(z){if(z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.message=null,$.prototype.code=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.message!=null&&Object.hasOwnProperty.call(W,"message"))Q.uint32(18).string(W.message);if(W.code!=null&&Object.hasOwnProperty.call(W,"code"))Q.uint32(24).int32(W.code);return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.trace.v1.Status;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 2:{K.message=W.string();break}case 3:{K.code=W.int32();break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.message!=null&&W.hasOwnProperty("message")){if(!T.isString(W.message))return"message: string expected"}if(W.code!=null&&W.hasOwnProperty("code"))switch(W.code){default:return"code: enum value expected";case 0:case 1:case 2:break}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.trace.v1.Status)return W;var Q=new E.opentelemetry.proto.trace.v1.Status;if(W.message!=null)Q.message=String(W.message);switch(W.code){default:if(typeof W.code==="number"){Q.code=W.code;break}break;case"STATUS_CODE_UNSET":case 0:Q.code=0;break;case"STATUS_CODE_OK":case 1:Q.code=1;break;case"STATUS_CODE_ERROR":case 2:Q.code=2;break}return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.defaults)G.message="",G.code=Q.enums===String?"STATUS_CODE_UNSET":0;if(W.message!=null&&W.hasOwnProperty("message"))G.message=W.message;if(W.code!=null&&W.hasOwnProperty("code"))G.code=Q.enums===String?E.opentelemetry.proto.trace.v1.Status.StatusCode[W.code]===void 0?W.code:E.opentelemetry.proto.trace.v1.Status.StatusCode[W.code]:W.code;return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.trace.v1.Status"},$.StatusCode=function(){var z={},W=Object.create(z);return W[z[0]="STATUS_CODE_UNSET"]=0,W[z[1]="STATUS_CODE_OK"]=1,W[z[2]="STATUS_CODE_ERROR"]=2,W}(),$}(),Y}(),X}(),Z.collector=function(){var X={};return X.trace=function(){var Y={};return Y.v1=function(){var $={};return $.TraceService=function(){function z(W,Q,G){U0.rpc.Service.call(this,W,Q,G)}return(z.prototype=Object.create(U0.rpc.Service.prototype)).constructor=z,z.create=function W(Q,G,K){return new this(Q,G,K)},Object.defineProperty(z.prototype.export=function W(Q,G){return this.rpcCall(W,E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,Q,G)},"name",{value:"Export"}),z}(),$.ExportTraceServiceRequest=function(){function z(W){if(this.resourceSpans=[],W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}return z.prototype.resourceSpans=T.emptyArray,z.create=function W(Q){return new z(Q)},z.encode=function W(Q,G){if(!G)G=V6.create();if(Q.resourceSpans!=null&&Q.resourceSpans.length)for(var K=0;K<Q.resourceSpans.length;++K)E.opentelemetry.proto.trace.v1.ResourceSpans.encode(Q.resourceSpans[K],G.uint32(10).fork()).ldelim();return G},z.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},z.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{if(!(q.resourceSpans&&q.resourceSpans.length))q.resourceSpans=[];q.resourceSpans.push(E.opentelemetry.proto.trace.v1.ResourceSpans.decode(Q,Q.uint32()));break}default:Q.skipType(H&7);break}}return q},z.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},z.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.resourceSpans!=null&&Q.hasOwnProperty("resourceSpans")){if(!Array.isArray(Q.resourceSpans))return"resourceSpans: array expected";for(var G=0;G<Q.resourceSpans.length;++G){var K=E.opentelemetry.proto.trace.v1.ResourceSpans.verify(Q.resourceSpans[G]);if(K)return"resourceSpans."+K}}return null},z.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return Q;var G=new E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(Q.resourceSpans){if(!Array.isArray(Q.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");G.resourceSpans=[];for(var K=0;K<Q.resourceSpans.length;++K){if(typeof Q.resourceSpans[K]!=="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");G.resourceSpans[K]=E.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(Q.resourceSpans[K])}}return G},z.toObject=function W(Q,G){if(!G)G={};var K={};if(G.arrays||G.defaults)K.resourceSpans=[];if(Q.resourceSpans&&Q.resourceSpans.length){K.resourceSpans=[];for(var q=0;q<Q.resourceSpans.length;++q)K.resourceSpans[q]=E.opentelemetry.proto.trace.v1.ResourceSpans.toObject(Q.resourceSpans[q],G)}return K},z.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},z.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},z}(),$.ExportTraceServiceResponse=function(){function z(W){if(W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}return z.prototype.partialSuccess=null,z.create=function W(Q){return new z(Q)},z.encode=function W(Q,G){if(!G)G=V6.create();if(Q.partialSuccess!=null&&Object.hasOwnProperty.call(Q,"partialSuccess"))E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(Q.partialSuccess,G.uint32(10).fork()).ldelim();return G},z.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},z.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{q.partialSuccess=E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(Q,Q.uint32());break}default:Q.skipType(H&7);break}}return q},z.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},z.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.partialSuccess!=null&&Q.hasOwnProperty("partialSuccess")){var G=E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(Q.partialSuccess);if(G)return"partialSuccess."+G}return null},z.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return Q;var G=new E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(Q.partialSuccess!=null){if(typeof Q.partialSuccess!=="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");G.partialSuccess=E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(Q.partialSuccess)}return G},z.toObject=function W(Q,G){if(!G)G={};var K={};if(G.defaults)K.partialSuccess=null;if(Q.partialSuccess!=null&&Q.hasOwnProperty("partialSuccess"))K.partialSuccess=E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(Q.partialSuccess,G);return K},z.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},z.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},z}(),$.ExportTracePartialSuccess=function(){function z(W){if(W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}return z.prototype.rejectedSpans=null,z.prototype.errorMessage=null,z.create=function W(Q){return new z(Q)},z.encode=function W(Q,G){if(!G)G=V6.create();if(Q.rejectedSpans!=null&&Object.hasOwnProperty.call(Q,"rejectedSpans"))G.uint32(8).int64(Q.rejectedSpans);if(Q.errorMessage!=null&&Object.hasOwnProperty.call(Q,"errorMessage"))G.uint32(18).string(Q.errorMessage);return G},z.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},z.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{q.rejectedSpans=Q.int64();break}case 2:{q.errorMessage=Q.string();break}default:Q.skipType(H&7);break}}return q},z.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},z.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.rejectedSpans!=null&&Q.hasOwnProperty("rejectedSpans")){if(!T.isInteger(Q.rejectedSpans)&&!(Q.rejectedSpans&&T.isInteger(Q.rejectedSpans.low)&&T.isInteger(Q.rejectedSpans.high)))return"rejectedSpans: integer|Long expected"}if(Q.errorMessage!=null&&Q.hasOwnProperty("errorMessage")){if(!T.isString(Q.errorMessage))return"errorMessage: string expected"}return null},z.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return Q;var G=new E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;if(Q.rejectedSpans!=null){if(T.Long)(G.rejectedSpans=T.Long.fromValue(Q.rejectedSpans)).unsigned=!1;else if(typeof Q.rejectedSpans==="string")G.rejectedSpans=parseInt(Q.rejectedSpans,10);else if(typeof Q.rejectedSpans==="number")G.rejectedSpans=Q.rejectedSpans;else if(typeof Q.rejectedSpans==="object")G.rejectedSpans=new T.LongBits(Q.rejectedSpans.low>>>0,Q.rejectedSpans.high>>>0).toNumber()}if(Q.errorMessage!=null)G.errorMessage=String(Q.errorMessage);return G},z.toObject=function W(Q,G){if(!G)G={};var K={};if(G.defaults){if(T.Long){var q=new T.Long(0,0,!1);K.rejectedSpans=G.longs===String?q.toString():G.longs===Number?q.toNumber():q}else K.rejectedSpans=G.longs===String?"0":0;K.errorMessage=""}if(Q.rejectedSpans!=null&&Q.hasOwnProperty("rejectedSpans"))if(typeof Q.rejectedSpans==="number")K.rejectedSpans=G.longs===String?String(Q.rejectedSpans):Q.rejectedSpans;else K.rejectedSpans=G.longs===String?T.Long.prototype.toString.call(Q.rejectedSpans):G.longs===Number?new T.LongBits(Q.rejectedSpans.low>>>0,Q.rejectedSpans.high>>>0).toNumber():Q.rejectedSpans;if(Q.errorMessage!=null&&Q.hasOwnProperty("errorMessage"))K.errorMessage=Q.errorMessage;return K},z.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},z.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},z}(),$}(),Y}(),X.metrics=function(){var Y={};return Y.v1=function(){var $={};return $.MetricsService=function(){function z(W,Q,G){U0.rpc.Service.call(this,W,Q,G)}return(z.prototype=Object.create(U0.rpc.Service.prototype)).constructor=z,z.create=function W(Q,G,K){return new this(Q,G,K)},Object.defineProperty(z.prototype.export=function W(Q,G){return this.rpcCall(W,E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,Q,G)},"name",{value:"Export"}),z}(),$.ExportMetricsServiceRequest=function(){function z(W){if(this.resourceMetrics=[],W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}return z.prototype.resourceMetrics=T.emptyArray,z.create=function W(Q){return new z(Q)},z.encode=function W(Q,G){if(!G)G=V6.create();if(Q.resourceMetrics!=null&&Q.resourceMetrics.length)for(var K=0;K<Q.resourceMetrics.length;++K)E.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(Q.resourceMetrics[K],G.uint32(10).fork()).ldelim();return G},z.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},z.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{if(!(q.resourceMetrics&&q.resourceMetrics.length))q.resourceMetrics=[];q.resourceMetrics.push(E.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(Q,Q.uint32()));break}default:Q.skipType(H&7);break}}return q},z.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},z.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.resourceMetrics!=null&&Q.hasOwnProperty("resourceMetrics")){if(!Array.isArray(Q.resourceMetrics))return"resourceMetrics: array expected";for(var G=0;G<Q.resourceMetrics.length;++G){var K=E.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(Q.resourceMetrics[G]);if(K)return"resourceMetrics."+K}}return null},z.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return Q;var G=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(Q.resourceMetrics){if(!Array.isArray(Q.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");G.resourceMetrics=[];for(var K=0;K<Q.resourceMetrics.length;++K){if(typeof Q.resourceMetrics[K]!=="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");G.resourceMetrics[K]=E.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(Q.resourceMetrics[K])}}return G},z.toObject=function W(Q,G){if(!G)G={};var K={};if(G.arrays||G.defaults)K.resourceMetrics=[];if(Q.resourceMetrics&&Q.resourceMetrics.length){K.resourceMetrics=[];for(var q=0;q<Q.resourceMetrics.length;++q)K.resourceMetrics[q]=E.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(Q.resourceMetrics[q],G)}return K},z.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},z.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},z}(),$.ExportMetricsServiceResponse=function(){function z(W){if(W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}return z.prototype.partialSuccess=null,z.create=function W(Q){return new z(Q)},z.encode=function W(Q,G){if(!G)G=V6.create();if(Q.partialSuccess!=null&&Object.hasOwnProperty.call(Q,"partialSuccess"))E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(Q.partialSuccess,G.uint32(10).fork()).ldelim();return G},z.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},z.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{q.partialSuccess=E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(Q,Q.uint32());break}default:Q.skipType(H&7);break}}return q},z.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},z.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.partialSuccess!=null&&Q.hasOwnProperty("partialSuccess")){var G=E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(Q.partialSuccess);if(G)return"partialSuccess."+G}return null},z.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return Q;var G=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(Q.partialSuccess!=null){if(typeof Q.partialSuccess!=="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");G.partialSuccess=E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(Q.partialSuccess)}return G},z.toObject=function W(Q,G){if(!G)G={};var K={};if(G.defaults)K.partialSuccess=null;if(Q.partialSuccess!=null&&Q.hasOwnProperty("partialSuccess"))K.partialSuccess=E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(Q.partialSuccess,G);return K},z.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},z.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},z}(),$.ExportMetricsPartialSuccess=function(){function z(W){if(W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}return z.prototype.rejectedDataPoints=null,z.prototype.errorMessage=null,z.create=function W(Q){return new z(Q)},z.encode=function W(Q,G){if(!G)G=V6.create();if(Q.rejectedDataPoints!=null&&Object.hasOwnProperty.call(Q,"rejectedDataPoints"))G.uint32(8).int64(Q.rejectedDataPoints);if(Q.errorMessage!=null&&Object.hasOwnProperty.call(Q,"errorMessage"))G.uint32(18).string(Q.errorMessage);return G},z.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},z.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{q.rejectedDataPoints=Q.int64();break}case 2:{q.errorMessage=Q.string();break}default:Q.skipType(H&7);break}}return q},z.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},z.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.rejectedDataPoints!=null&&Q.hasOwnProperty("rejectedDataPoints")){if(!T.isInteger(Q.rejectedDataPoints)&&!(Q.rejectedDataPoints&&T.isInteger(Q.rejectedDataPoints.low)&&T.isInteger(Q.rejectedDataPoints.high)))return"rejectedDataPoints: integer|Long expected"}if(Q.errorMessage!=null&&Q.hasOwnProperty("errorMessage")){if(!T.isString(Q.errorMessage))return"errorMessage: string expected"}return null},z.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return Q;var G=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;if(Q.rejectedDataPoints!=null){if(T.Long)(G.rejectedDataPoints=T.Long.fromValue(Q.rejectedDataPoints)).unsigned=!1;else if(typeof Q.rejectedDataPoints==="string")G.rejectedDataPoints=parseInt(Q.rejectedDataPoints,10);else if(typeof Q.rejectedDataPoints==="number")G.rejectedDataPoints=Q.rejectedDataPoints;else if(typeof Q.rejectedDataPoints==="object")G.rejectedDataPoints=new T.LongBits(Q.rejectedDataPoints.low>>>0,Q.rejectedDataPoints.high>>>0).toNumber()}if(Q.errorMessage!=null)G.errorMessage=String(Q.errorMessage);return G},z.toObject=function W(Q,G){if(!G)G={};var K={};if(G.defaults){if(T.Long){var q=new T.Long(0,0,!1);K.rejectedDataPoints=G.longs===String?q.toString():G.longs===Number?q.toNumber():q}else K.rejectedDataPoints=G.longs===String?"0":0;K.errorMessage=""}if(Q.rejectedDataPoints!=null&&Q.hasOwnProperty("rejectedDataPoints"))if(typeof Q.rejectedDataPoints==="number")K.rejectedDataPoints=G.longs===String?String(Q.rejectedDataPoints):Q.rejectedDataPoints;else K.rejectedDataPoints=G.longs===String?T.Long.prototype.toString.call(Q.rejectedDataPoints):G.longs===Number?new T.LongBits(Q.rejectedDataPoints.low>>>0,Q.rejectedDataPoints.high>>>0).toNumber():Q.rejectedDataPoints;if(Q.errorMessage!=null&&Q.hasOwnProperty("errorMessage"))K.errorMessage=Q.errorMessage;return K},z.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},z.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},z}(),$}(),Y}(),X.logs=function(){var Y={};return Y.v1=function(){var $={};return $.LogsService=function(){function z(W,Q,G){U0.rpc.Service.call(this,W,Q,G)}return(z.prototype=Object.create(U0.rpc.Service.prototype)).constructor=z,z.create=function W(Q,G,K){return new this(Q,G,K)},Object.defineProperty(z.prototype.export=function W(Q,G){return this.rpcCall(W,E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,Q,G)},"name",{value:"Export"}),z}(),$.ExportLogsServiceRequest=function(){function z(W){if(this.resourceLogs=[],W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}return z.prototype.resourceLogs=T.emptyArray,z.create=function W(Q){return new z(Q)},z.encode=function W(Q,G){if(!G)G=V6.create();if(Q.resourceLogs!=null&&Q.resourceLogs.length)for(var K=0;K<Q.resourceLogs.length;++K)E.opentelemetry.proto.logs.v1.ResourceLogs.encode(Q.resourceLogs[K],G.uint32(10).fork()).ldelim();return G},z.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},z.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{if(!(q.resourceLogs&&q.resourceLogs.length))q.resourceLogs=[];q.resourceLogs.push(E.opentelemetry.proto.logs.v1.ResourceLogs.decode(Q,Q.uint32()));break}default:Q.skipType(H&7);break}}return q},z.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},z.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.resourceLogs!=null&&Q.hasOwnProperty("resourceLogs")){if(!Array.isArray(Q.resourceLogs))return"resourceLogs: array expected";for(var G=0;G<Q.resourceLogs.length;++G){var K=E.opentelemetry.proto.logs.v1.ResourceLogs.verify(Q.resourceLogs[G]);if(K)return"resourceLogs."+K}}return null},z.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return Q;var G=new E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(Q.resourceLogs){if(!Array.isArray(Q.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");G.resourceLogs=[];for(var K=0;K<Q.resourceLogs.length;++K){if(typeof Q.resourceLogs[K]!=="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");G.resourceLogs[K]=E.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(Q.resourceLogs[K])}}return G},z.toObject=function W(Q,G){if(!G)G={};var K={};if(G.arrays||G.defaults)K.resourceLogs=[];if(Q.resourceLogs&&Q.resourceLogs.length){K.resourceLogs=[];for(var q=0;q<Q.resourceLogs.length;++q)K.resourceLogs[q]=E.opentelemetry.proto.logs.v1.ResourceLogs.toObject(Q.resourceLogs[q],G)}return K},z.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},z.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},z}(),$.ExportLogsServiceResponse=function(){function z(W){if(W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}return z.prototype.partialSuccess=null,z.create=function W(Q){return new z(Q)},z.encode=function W(Q,G){if(!G)G=V6.create();if(Q.partialSuccess!=null&&Object.hasOwnProperty.call(Q,"partialSuccess"))E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(Q.partialSuccess,G.uint32(10).fork()).ldelim();return G},z.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},z.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{q.partialSuccess=E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(Q,Q.uint32());break}default:Q.skipType(H&7);break}}return q},z.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},z.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.partialSuccess!=null&&Q.hasOwnProperty("partialSuccess")){var G=E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(Q.partialSuccess);if(G)return"partialSuccess."+G}return null},z.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return Q;var G=new E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(Q.partialSuccess!=null){if(typeof Q.partialSuccess!=="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");G.partialSuccess=E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(Q.partialSuccess)}return G},z.toObject=function W(Q,G){if(!G)G={};var K={};if(G.defaults)K.partialSuccess=null;if(Q.partialSuccess!=null&&Q.hasOwnProperty("partialSuccess"))K.partialSuccess=E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(Q.partialSuccess,G);return K},z.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},z.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},z}(),$.ExportLogsPartialSuccess=function(){function z(W){if(W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}return z.prototype.rejectedLogRecords=null,z.prototype.errorMessage=null,z.create=function W(Q){return new z(Q)},z.encode=function W(Q,G){if(!G)G=V6.create();if(Q.rejectedLogRecords!=null&&Object.hasOwnProperty.call(Q,"rejectedLogRecords"))G.uint32(8).int64(Q.rejectedLogRecords);if(Q.errorMessage!=null&&Object.hasOwnProperty.call(Q,"errorMessage"))G.uint32(18).string(Q.errorMessage);return G},z.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},z.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{q.rejectedLogRecords=Q.int64();break}case 2:{q.errorMessage=Q.string();break}default:Q.skipType(H&7);break}}return q},z.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},z.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.rejectedLogRecords!=null&&Q.hasOwnProperty("rejectedLogRecords")){if(!T.isInteger(Q.rejectedLogRecords)&&!(Q.rejectedLogRecords&&T.isInteger(Q.rejectedLogRecords.low)&&T.isInteger(Q.rejectedLogRecords.high)))return"rejectedLogRecords: integer|Long expected"}if(Q.errorMessage!=null&&Q.hasOwnProperty("errorMessage")){if(!T.isString(Q.errorMessage))return"errorMessage: string expected"}return null},z.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return Q;var G=new E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;if(Q.rejectedLogRecords!=null){if(T.Long)(G.rejectedLogRecords=T.Long.fromValue(Q.rejectedLogRecords)).unsigned=!1;else if(typeof Q.rejectedLogRecords==="string")G.rejectedLogRecords=parseInt(Q.rejectedLogRecords,10);else if(typeof Q.rejectedLogRecords==="number")G.rejectedLogRecords=Q.rejectedLogRecords;else if(typeof Q.rejectedLogRecords==="object")G.rejectedLogRecords=new T.LongBits(Q.rejectedLogRecords.low>>>0,Q.rejectedLogRecords.high>>>0).toNumber()}if(Q.errorMessage!=null)G.errorMessage=String(Q.errorMessage);return G},z.toObject=function W(Q,G){if(!G)G={};var K={};if(G.defaults){if(T.Long){var q=new T.Long(0,0,!1);K.rejectedLogRecords=G.longs===String?q.toString():G.longs===Number?q.toNumber():q}else K.rejectedLogRecords=G.longs===String?"0":0;K.errorMessage=""}if(Q.rejectedLogRecords!=null&&Q.hasOwnProperty("rejectedLogRecords"))if(typeof Q.rejectedLogRecords==="number")K.rejectedLogRecords=G.longs===String?String(Q.rejectedLogRecords):Q.rejectedLogRecords;else K.rejectedLogRecords=G.longs===String?T.Long.prototype.toString.call(Q.rejectedLogRecords):G.longs===Number?new T.LongBits(Q.rejectedLogRecords.low>>>0,Q.rejectedLogRecords.high>>>0).toNumber():Q.rejectedLogRecords;if(Q.errorMessage!=null&&Q.hasOwnProperty("errorMessage"))K.errorMessage=Q.errorMessage;return K},z.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},z.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},z}(),$}(),Y}(),X}(),Z.metrics=function(){var X={};return X.v1=function(){var Y={};return Y.MetricsData=function(){function $(z){if(this.resourceMetrics=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.resourceMetrics=T.emptyArray,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.resourceMetrics!=null&&W.resourceMetrics.length)for(var G=0;G<W.resourceMetrics.length;++G)E.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(W.resourceMetrics[G],Q.uint32(10).fork()).ldelim();return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.metrics.v1.MetricsData;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{if(!(K.resourceMetrics&&K.resourceMetrics.length))K.resourceMetrics=[];K.resourceMetrics.push(E.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(W,W.uint32()));break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.resourceMetrics!=null&&W.hasOwnProperty("resourceMetrics")){if(!Array.isArray(W.resourceMetrics))return"resourceMetrics: array expected";for(var Q=0;Q<W.resourceMetrics.length;++Q){var G=E.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(W.resourceMetrics[Q]);if(G)return"resourceMetrics."+G}}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.metrics.v1.MetricsData)return W;var Q=new E.opentelemetry.proto.metrics.v1.MetricsData;if(W.resourceMetrics){if(!Array.isArray(W.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");Q.resourceMetrics=[];for(var G=0;G<W.resourceMetrics.length;++G){if(typeof W.resourceMetrics[G]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");Q.resourceMetrics[G]=E.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(W.resourceMetrics[G])}}return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.resourceMetrics=[];if(W.resourceMetrics&&W.resourceMetrics.length){G.resourceMetrics=[];for(var K=0;K<W.resourceMetrics.length;++K)G.resourceMetrics[K]=E.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(W.resourceMetrics[K],Q)}return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.metrics.v1.MetricsData"},$}(),Y.ResourceMetrics=function(){function $(z){if(this.scopeMetrics=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.resource=null,$.prototype.scopeMetrics=T.emptyArray,$.prototype.schemaUrl=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.resource!=null&&Object.hasOwnProperty.call(W,"resource"))E.opentelemetry.proto.resource.v1.Resource.encode(W.resource,Q.uint32(10).fork()).ldelim();if(W.scopeMetrics!=null&&W.scopeMetrics.length)for(var G=0;G<W.scopeMetrics.length;++G)E.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(W.scopeMetrics[G],Q.uint32(18).fork()).ldelim();if(W.schemaUrl!=null&&Object.hasOwnProperty.call(W,"schemaUrl"))Q.uint32(26).string(W.schemaUrl);return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.metrics.v1.ResourceMetrics;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{K.resource=E.opentelemetry.proto.resource.v1.Resource.decode(W,W.uint32());break}case 2:{if(!(K.scopeMetrics&&K.scopeMetrics.length))K.scopeMetrics=[];K.scopeMetrics.push(E.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(W,W.uint32()));break}case 3:{K.schemaUrl=W.string();break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.resource!=null&&W.hasOwnProperty("resource")){var Q=E.opentelemetry.proto.resource.v1.Resource.verify(W.resource);if(Q)return"resource."+Q}if(W.scopeMetrics!=null&&W.hasOwnProperty("scopeMetrics")){if(!Array.isArray(W.scopeMetrics))return"scopeMetrics: array expected";for(var G=0;G<W.scopeMetrics.length;++G){var Q=E.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(W.scopeMetrics[G]);if(Q)return"scopeMetrics."+Q}}if(W.schemaUrl!=null&&W.hasOwnProperty("schemaUrl")){if(!T.isString(W.schemaUrl))return"schemaUrl: string expected"}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.metrics.v1.ResourceMetrics)return W;var Q=new E.opentelemetry.proto.metrics.v1.ResourceMetrics;if(W.resource!=null){if(typeof W.resource!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");Q.resource=E.opentelemetry.proto.resource.v1.Resource.fromObject(W.resource)}if(W.scopeMetrics){if(!Array.isArray(W.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");Q.scopeMetrics=[];for(var G=0;G<W.scopeMetrics.length;++G){if(typeof W.scopeMetrics[G]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");Q.scopeMetrics[G]=E.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(W.scopeMetrics[G])}}if(W.schemaUrl!=null)Q.schemaUrl=String(W.schemaUrl);return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.scopeMetrics=[];if(Q.defaults)G.resource=null,G.schemaUrl="";if(W.resource!=null&&W.hasOwnProperty("resource"))G.resource=E.opentelemetry.proto.resource.v1.Resource.toObject(W.resource,Q);if(W.scopeMetrics&&W.scopeMetrics.length){G.scopeMetrics=[];for(var K=0;K<W.scopeMetrics.length;++K)G.scopeMetrics[K]=E.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(W.scopeMetrics[K],Q)}if(W.schemaUrl!=null&&W.hasOwnProperty("schemaUrl"))G.schemaUrl=W.schemaUrl;return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},$}(),Y.ScopeMetrics=function(){function $(z){if(this.metrics=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.scope=null,$.prototype.metrics=T.emptyArray,$.prototype.schemaUrl=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.scope!=null&&Object.hasOwnProperty.call(W,"scope"))E.opentelemetry.proto.common.v1.InstrumentationScope.encode(W.scope,Q.uint32(10).fork()).ldelim();if(W.metrics!=null&&W.metrics.length)for(var G=0;G<W.metrics.length;++G)E.opentelemetry.proto.metrics.v1.Metric.encode(W.metrics[G],Q.uint32(18).fork()).ldelim();if(W.schemaUrl!=null&&Object.hasOwnProperty.call(W,"schemaUrl"))Q.uint32(26).string(W.schemaUrl);return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.metrics.v1.ScopeMetrics;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{K.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.decode(W,W.uint32());break}case 2:{if(!(K.metrics&&K.metrics.length))K.metrics=[];K.metrics.push(E.opentelemetry.proto.metrics.v1.Metric.decode(W,W.uint32()));break}case 3:{K.schemaUrl=W.string();break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.scope!=null&&W.hasOwnProperty("scope")){var Q=E.opentelemetry.proto.common.v1.InstrumentationScope.verify(W.scope);if(Q)return"scope."+Q}if(W.metrics!=null&&W.hasOwnProperty("metrics")){if(!Array.isArray(W.metrics))return"metrics: array expected";for(var G=0;G<W.metrics.length;++G){var Q=E.opentelemetry.proto.metrics.v1.Metric.verify(W.metrics[G]);if(Q)return"metrics."+Q}}if(W.schemaUrl!=null&&W.hasOwnProperty("schemaUrl")){if(!T.isString(W.schemaUrl))return"schemaUrl: string expected"}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.metrics.v1.ScopeMetrics)return W;var Q=new E.opentelemetry.proto.metrics.v1.ScopeMetrics;if(W.scope!=null){if(typeof W.scope!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");Q.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(W.scope)}if(W.metrics){if(!Array.isArray(W.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");Q.metrics=[];for(var G=0;G<W.metrics.length;++G){if(typeof W.metrics[G]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");Q.metrics[G]=E.opentelemetry.proto.metrics.v1.Metric.fromObject(W.metrics[G])}}if(W.schemaUrl!=null)Q.schemaUrl=String(W.schemaUrl);return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.metrics=[];if(Q.defaults)G.scope=null,G.schemaUrl="";if(W.scope!=null&&W.hasOwnProperty("scope"))G.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.toObject(W.scope,Q);if(W.metrics&&W.metrics.length){G.metrics=[];for(var K=0;K<W.metrics.length;++K)G.metrics[K]=E.opentelemetry.proto.metrics.v1.Metric.toObject(W.metrics[K],Q)}if(W.schemaUrl!=null&&W.hasOwnProperty("schemaUrl"))G.schemaUrl=W.schemaUrl;return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},$}(),Y.Metric=function(){function $(W){if(W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}$.prototype.name=null,$.prototype.description=null,$.prototype.unit=null,$.prototype.gauge=null,$.prototype.sum=null,$.prototype.histogram=null,$.prototype.exponentialHistogram=null,$.prototype.summary=null;var z;return Object.defineProperty($.prototype,"data",{get:T.oneOfGetter(z=["gauge","sum","histogram","exponentialHistogram","summary"]),set:T.oneOfSetter(z)}),$.create=function W(Q){return new $(Q)},$.encode=function W(Q,G){if(!G)G=V6.create();if(Q.name!=null&&Object.hasOwnProperty.call(Q,"name"))G.uint32(10).string(Q.name);if(Q.description!=null&&Object.hasOwnProperty.call(Q,"description"))G.uint32(18).string(Q.description);if(Q.unit!=null&&Object.hasOwnProperty.call(Q,"unit"))G.uint32(26).string(Q.unit);if(Q.gauge!=null&&Object.hasOwnProperty.call(Q,"gauge"))E.opentelemetry.proto.metrics.v1.Gauge.encode(Q.gauge,G.uint32(42).fork()).ldelim();if(Q.sum!=null&&Object.hasOwnProperty.call(Q,"sum"))E.opentelemetry.proto.metrics.v1.Sum.encode(Q.sum,G.uint32(58).fork()).ldelim();if(Q.histogram!=null&&Object.hasOwnProperty.call(Q,"histogram"))E.opentelemetry.proto.metrics.v1.Histogram.encode(Q.histogram,G.uint32(74).fork()).ldelim();if(Q.exponentialHistogram!=null&&Object.hasOwnProperty.call(Q,"exponentialHistogram"))E.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(Q.exponentialHistogram,G.uint32(82).fork()).ldelim();if(Q.summary!=null&&Object.hasOwnProperty.call(Q,"summary"))E.opentelemetry.proto.metrics.v1.Summary.encode(Q.summary,G.uint32(90).fork()).ldelim();return G},$.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},$.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.metrics.v1.Metric;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{q.name=Q.string();break}case 2:{q.description=Q.string();break}case 3:{q.unit=Q.string();break}case 5:{q.gauge=E.opentelemetry.proto.metrics.v1.Gauge.decode(Q,Q.uint32());break}case 7:{q.sum=E.opentelemetry.proto.metrics.v1.Sum.decode(Q,Q.uint32());break}case 9:{q.histogram=E.opentelemetry.proto.metrics.v1.Histogram.decode(Q,Q.uint32());break}case 10:{q.exponentialHistogram=E.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(Q,Q.uint32());break}case 11:{q.summary=E.opentelemetry.proto.metrics.v1.Summary.decode(Q,Q.uint32());break}default:Q.skipType(H&7);break}}return q},$.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},$.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";var G={};if(Q.name!=null&&Q.hasOwnProperty("name")){if(!T.isString(Q.name))return"name: string expected"}if(Q.description!=null&&Q.hasOwnProperty("description")){if(!T.isString(Q.description))return"description: string expected"}if(Q.unit!=null&&Q.hasOwnProperty("unit")){if(!T.isString(Q.unit))return"unit: string expected"}if(Q.gauge!=null&&Q.hasOwnProperty("gauge")){G.data=1;{var K=E.opentelemetry.proto.metrics.v1.Gauge.verify(Q.gauge);if(K)return"gauge."+K}}if(Q.sum!=null&&Q.hasOwnProperty("sum")){if(G.data===1)return"data: multiple values";G.data=1;{var K=E.opentelemetry.proto.metrics.v1.Sum.verify(Q.sum);if(K)return"sum."+K}}if(Q.histogram!=null&&Q.hasOwnProperty("histogram")){if(G.data===1)return"data: multiple values";G.data=1;{var K=E.opentelemetry.proto.metrics.v1.Histogram.verify(Q.histogram);if(K)return"histogram."+K}}if(Q.exponentialHistogram!=null&&Q.hasOwnProperty("exponentialHistogram")){if(G.data===1)return"data: multiple values";G.data=1;{var K=E.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(Q.exponentialHistogram);if(K)return"exponentialHistogram."+K}}if(Q.summary!=null&&Q.hasOwnProperty("summary")){if(G.data===1)return"data: multiple values";G.data=1;{var K=E.opentelemetry.proto.metrics.v1.Summary.verify(Q.summary);if(K)return"summary."+K}}return null},$.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.metrics.v1.Metric)return Q;var G=new E.opentelemetry.proto.metrics.v1.Metric;if(Q.name!=null)G.name=String(Q.name);if(Q.description!=null)G.description=String(Q.description);if(Q.unit!=null)G.unit=String(Q.unit);if(Q.gauge!=null){if(typeof Q.gauge!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");G.gauge=E.opentelemetry.proto.metrics.v1.Gauge.fromObject(Q.gauge)}if(Q.sum!=null){if(typeof Q.sum!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");G.sum=E.opentelemetry.proto.metrics.v1.Sum.fromObject(Q.sum)}if(Q.histogram!=null){if(typeof Q.histogram!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");G.histogram=E.opentelemetry.proto.metrics.v1.Histogram.fromObject(Q.histogram)}if(Q.exponentialHistogram!=null){if(typeof Q.exponentialHistogram!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");G.exponentialHistogram=E.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(Q.exponentialHistogram)}if(Q.summary!=null){if(typeof Q.summary!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");G.summary=E.opentelemetry.proto.metrics.v1.Summary.fromObject(Q.summary)}return G},$.toObject=function W(Q,G){if(!G)G={};var K={};if(G.defaults)K.name="",K.description="",K.unit="";if(Q.name!=null&&Q.hasOwnProperty("name"))K.name=Q.name;if(Q.description!=null&&Q.hasOwnProperty("description"))K.description=Q.description;if(Q.unit!=null&&Q.hasOwnProperty("unit"))K.unit=Q.unit;if(Q.gauge!=null&&Q.hasOwnProperty("gauge")){if(K.gauge=E.opentelemetry.proto.metrics.v1.Gauge.toObject(Q.gauge,G),G.oneofs)K.data="gauge"}if(Q.sum!=null&&Q.hasOwnProperty("sum")){if(K.sum=E.opentelemetry.proto.metrics.v1.Sum.toObject(Q.sum,G),G.oneofs)K.data="sum"}if(Q.histogram!=null&&Q.hasOwnProperty("histogram")){if(K.histogram=E.opentelemetry.proto.metrics.v1.Histogram.toObject(Q.histogram,G),G.oneofs)K.data="histogram"}if(Q.exponentialHistogram!=null&&Q.hasOwnProperty("exponentialHistogram")){if(K.exponentialHistogram=E.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(Q.exponentialHistogram,G),G.oneofs)K.data="exponentialHistogram"}if(Q.summary!=null&&Q.hasOwnProperty("summary")){if(K.summary=E.opentelemetry.proto.metrics.v1.Summary.toObject(Q.summary,G),G.oneofs)K.data="summary"}return K},$.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.metrics.v1.Metric"},$}(),Y.Gauge=function(){function $(z){if(this.dataPoints=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.dataPoints=T.emptyArray,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.dataPoints!=null&&W.dataPoints.length)for(var G=0;G<W.dataPoints.length;++G)E.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(W.dataPoints[G],Q.uint32(10).fork()).ldelim();return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.metrics.v1.Gauge;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{if(!(K.dataPoints&&K.dataPoints.length))K.dataPoints=[];K.dataPoints.push(E.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(W,W.uint32()));break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.dataPoints!=null&&W.hasOwnProperty("dataPoints")){if(!Array.isArray(W.dataPoints))return"dataPoints: array expected";for(var Q=0;Q<W.dataPoints.length;++Q){var G=E.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(W.dataPoints[Q]);if(G)return"dataPoints."+G}}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.metrics.v1.Gauge)return W;var Q=new E.opentelemetry.proto.metrics.v1.Gauge;if(W.dataPoints){if(!Array.isArray(W.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");Q.dataPoints=[];for(var G=0;G<W.dataPoints.length;++G){if(typeof W.dataPoints[G]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");Q.dataPoints[G]=E.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(W.dataPoints[G])}}return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.dataPoints=[];if(W.dataPoints&&W.dataPoints.length){G.dataPoints=[];for(var K=0;K<W.dataPoints.length;++K)G.dataPoints[K]=E.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(W.dataPoints[K],Q)}return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.metrics.v1.Gauge"},$}(),Y.Sum=function(){function $(z){if(this.dataPoints=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.dataPoints=T.emptyArray,$.prototype.aggregationTemporality=null,$.prototype.isMonotonic=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.dataPoints!=null&&W.dataPoints.length)for(var G=0;G<W.dataPoints.length;++G)E.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(W.dataPoints[G],Q.uint32(10).fork()).ldelim();if(W.aggregationTemporality!=null&&Object.hasOwnProperty.call(W,"aggregationTemporality"))Q.uint32(16).int32(W.aggregationTemporality);if(W.isMonotonic!=null&&Object.hasOwnProperty.call(W,"isMonotonic"))Q.uint32(24).bool(W.isMonotonic);return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.metrics.v1.Sum;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{if(!(K.dataPoints&&K.dataPoints.length))K.dataPoints=[];K.dataPoints.push(E.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(W,W.uint32()));break}case 2:{K.aggregationTemporality=W.int32();break}case 3:{K.isMonotonic=W.bool();break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.dataPoints!=null&&W.hasOwnProperty("dataPoints")){if(!Array.isArray(W.dataPoints))return"dataPoints: array expected";for(var Q=0;Q<W.dataPoints.length;++Q){var G=E.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(W.dataPoints[Q]);if(G)return"dataPoints."+G}}if(W.aggregationTemporality!=null&&W.hasOwnProperty("aggregationTemporality"))switch(W.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}if(W.isMonotonic!=null&&W.hasOwnProperty("isMonotonic")){if(typeof W.isMonotonic!=="boolean")return"isMonotonic: boolean expected"}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.metrics.v1.Sum)return W;var Q=new E.opentelemetry.proto.metrics.v1.Sum;if(W.dataPoints){if(!Array.isArray(W.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");Q.dataPoints=[];for(var G=0;G<W.dataPoints.length;++G){if(typeof W.dataPoints[G]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");Q.dataPoints[G]=E.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(W.dataPoints[G])}}switch(W.aggregationTemporality){default:if(typeof W.aggregationTemporality==="number"){Q.aggregationTemporality=W.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:Q.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:Q.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:Q.aggregationTemporality=2;break}if(W.isMonotonic!=null)Q.isMonotonic=Boolean(W.isMonotonic);return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.dataPoints=[];if(Q.defaults)G.aggregationTemporality=Q.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,G.isMonotonic=!1;if(W.dataPoints&&W.dataPoints.length){G.dataPoints=[];for(var K=0;K<W.dataPoints.length;++K)G.dataPoints[K]=E.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(W.dataPoints[K],Q)}if(W.aggregationTemporality!=null&&W.hasOwnProperty("aggregationTemporality"))G.aggregationTemporality=Q.enums===String?E.opentelemetry.proto.metrics.v1.AggregationTemporality[W.aggregationTemporality]===void 0?W.aggregationTemporality:E.opentelemetry.proto.metrics.v1.AggregationTemporality[W.aggregationTemporality]:W.aggregationTemporality;if(W.isMonotonic!=null&&W.hasOwnProperty("isMonotonic"))G.isMonotonic=W.isMonotonic;return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.metrics.v1.Sum"},$}(),Y.Histogram=function(){function $(z){if(this.dataPoints=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.dataPoints=T.emptyArray,$.prototype.aggregationTemporality=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.dataPoints!=null&&W.dataPoints.length)for(var G=0;G<W.dataPoints.length;++G)E.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(W.dataPoints[G],Q.uint32(10).fork()).ldelim();if(W.aggregationTemporality!=null&&Object.hasOwnProperty.call(W,"aggregationTemporality"))Q.uint32(16).int32(W.aggregationTemporality);return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.metrics.v1.Histogram;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{if(!(K.dataPoints&&K.dataPoints.length))K.dataPoints=[];K.dataPoints.push(E.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(W,W.uint32()));break}case 2:{K.aggregationTemporality=W.int32();break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.dataPoints!=null&&W.hasOwnProperty("dataPoints")){if(!Array.isArray(W.dataPoints))return"dataPoints: array expected";for(var Q=0;Q<W.dataPoints.length;++Q){var G=E.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(W.dataPoints[Q]);if(G)return"dataPoints."+G}}if(W.aggregationTemporality!=null&&W.hasOwnProperty("aggregationTemporality"))switch(W.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.metrics.v1.Histogram)return W;var Q=new E.opentelemetry.proto.metrics.v1.Histogram;if(W.dataPoints){if(!Array.isArray(W.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");Q.dataPoints=[];for(var G=0;G<W.dataPoints.length;++G){if(typeof W.dataPoints[G]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");Q.dataPoints[G]=E.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(W.dataPoints[G])}}switch(W.aggregationTemporality){default:if(typeof W.aggregationTemporality==="number"){Q.aggregationTemporality=W.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:Q.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:Q.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:Q.aggregationTemporality=2;break}return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.dataPoints=[];if(Q.defaults)G.aggregationTemporality=Q.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0;if(W.dataPoints&&W.dataPoints.length){G.dataPoints=[];for(var K=0;K<W.dataPoints.length;++K)G.dataPoints[K]=E.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(W.dataPoints[K],Q)}if(W.aggregationTemporality!=null&&W.hasOwnProperty("aggregationTemporality"))G.aggregationTemporality=Q.enums===String?E.opentelemetry.proto.metrics.v1.AggregationTemporality[W.aggregationTemporality]===void 0?W.aggregationTemporality:E.opentelemetry.proto.metrics.v1.AggregationTemporality[W.aggregationTemporality]:W.aggregationTemporality;return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.metrics.v1.Histogram"},$}(),Y.ExponentialHistogram=function(){function $(z){if(this.dataPoints=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.dataPoints=T.emptyArray,$.prototype.aggregationTemporality=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.dataPoints!=null&&W.dataPoints.length)for(var G=0;G<W.dataPoints.length;++G)E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(W.dataPoints[G],Q.uint32(10).fork()).ldelim();if(W.aggregationTemporality!=null&&Object.hasOwnProperty.call(W,"aggregationTemporality"))Q.uint32(16).int32(W.aggregationTemporality);return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.metrics.v1.ExponentialHistogram;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{if(!(K.dataPoints&&K.dataPoints.length))K.dataPoints=[];K.dataPoints.push(E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(W,W.uint32()));break}case 2:{K.aggregationTemporality=W.int32();break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.dataPoints!=null&&W.hasOwnProperty("dataPoints")){if(!Array.isArray(W.dataPoints))return"dataPoints: array expected";for(var Q=0;Q<W.dataPoints.length;++Q){var G=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(W.dataPoints[Q]);if(G)return"dataPoints."+G}}if(W.aggregationTemporality!=null&&W.hasOwnProperty("aggregationTemporality"))switch(W.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.metrics.v1.ExponentialHistogram)return W;var Q=new E.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(W.dataPoints){if(!Array.isArray(W.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");Q.dataPoints=[];for(var G=0;G<W.dataPoints.length;++G){if(typeof W.dataPoints[G]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");Q.dataPoints[G]=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(W.dataPoints[G])}}switch(W.aggregationTemporality){default:if(typeof W.aggregationTemporality==="number"){Q.aggregationTemporality=W.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:Q.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:Q.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:Q.aggregationTemporality=2;break}return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.dataPoints=[];if(Q.defaults)G.aggregationTemporality=Q.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0;if(W.dataPoints&&W.dataPoints.length){G.dataPoints=[];for(var K=0;K<W.dataPoints.length;++K)G.dataPoints[K]=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(W.dataPoints[K],Q)}if(W.aggregationTemporality!=null&&W.hasOwnProperty("aggregationTemporality"))G.aggregationTemporality=Q.enums===String?E.opentelemetry.proto.metrics.v1.AggregationTemporality[W.aggregationTemporality]===void 0?W.aggregationTemporality:E.opentelemetry.proto.metrics.v1.AggregationTemporality[W.aggregationTemporality]:W.aggregationTemporality;return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},$}(),Y.Summary=function(){function $(z){if(this.dataPoints=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.dataPoints=T.emptyArray,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.dataPoints!=null&&W.dataPoints.length)for(var G=0;G<W.dataPoints.length;++G)E.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(W.dataPoints[G],Q.uint32(10).fork()).ldelim();return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.metrics.v1.Summary;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{if(!(K.dataPoints&&K.dataPoints.length))K.dataPoints=[];K.dataPoints.push(E.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(W,W.uint32()));break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.dataPoints!=null&&W.hasOwnProperty("dataPoints")){if(!Array.isArray(W.dataPoints))return"dataPoints: array expected";for(var Q=0;Q<W.dataPoints.length;++Q){var G=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(W.dataPoints[Q]);if(G)return"dataPoints."+G}}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.metrics.v1.Summary)return W;var Q=new E.opentelemetry.proto.metrics.v1.Summary;if(W.dataPoints){if(!Array.isArray(W.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");Q.dataPoints=[];for(var G=0;G<W.dataPoints.length;++G){if(typeof W.dataPoints[G]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");Q.dataPoints[G]=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(W.dataPoints[G])}}return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.dataPoints=[];if(W.dataPoints&&W.dataPoints.length){G.dataPoints=[];for(var K=0;K<W.dataPoints.length;++K)G.dataPoints[K]=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(W.dataPoints[K],Q)}return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.metrics.v1.Summary"},$}(),Y.AggregationTemporality=function(){var $={},z=Object.create($);return z[$[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,z[$[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,z[$[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,z}(),Y.DataPointFlags=function(){var $={},z=Object.create($);return z[$[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,z[$[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,z}(),Y.NumberDataPoint=function(){function $(W){if(this.attributes=[],this.exemplars=[],W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}$.prototype.attributes=T.emptyArray,$.prototype.startTimeUnixNano=null,$.prototype.timeUnixNano=null,$.prototype.asDouble=null,$.prototype.asInt=null,$.prototype.exemplars=T.emptyArray,$.prototype.flags=null;var z;return Object.defineProperty($.prototype,"value",{get:T.oneOfGetter(z=["asDouble","asInt"]),set:T.oneOfSetter(z)}),$.create=function W(Q){return new $(Q)},$.encode=function W(Q,G){if(!G)G=V6.create();if(Q.startTimeUnixNano!=null&&Object.hasOwnProperty.call(Q,"startTimeUnixNano"))G.uint32(17).fixed64(Q.startTimeUnixNano);if(Q.timeUnixNano!=null&&Object.hasOwnProperty.call(Q,"timeUnixNano"))G.uint32(25).fixed64(Q.timeUnixNano);if(Q.asDouble!=null&&Object.hasOwnProperty.call(Q,"asDouble"))G.uint32(33).double(Q.asDouble);if(Q.exemplars!=null&&Q.exemplars.length)for(var K=0;K<Q.exemplars.length;++K)E.opentelemetry.proto.metrics.v1.Exemplar.encode(Q.exemplars[K],G.uint32(42).fork()).ldelim();if(Q.asInt!=null&&Object.hasOwnProperty.call(Q,"asInt"))G.uint32(49).sfixed64(Q.asInt);if(Q.attributes!=null&&Q.attributes.length)for(var K=0;K<Q.attributes.length;++K)E.opentelemetry.proto.common.v1.KeyValue.encode(Q.attributes[K],G.uint32(58).fork()).ldelim();if(Q.flags!=null&&Object.hasOwnProperty.call(Q,"flags"))G.uint32(64).uint32(Q.flags);return G},$.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},$.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.metrics.v1.NumberDataPoint;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 7:{if(!(q.attributes&&q.attributes.length))q.attributes=[];q.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(Q,Q.uint32()));break}case 2:{q.startTimeUnixNano=Q.fixed64();break}case 3:{q.timeUnixNano=Q.fixed64();break}case 4:{q.asDouble=Q.double();break}case 6:{q.asInt=Q.sfixed64();break}case 5:{if(!(q.exemplars&&q.exemplars.length))q.exemplars=[];q.exemplars.push(E.opentelemetry.proto.metrics.v1.Exemplar.decode(Q,Q.uint32()));break}case 8:{q.flags=Q.uint32();break}default:Q.skipType(H&7);break}}return q},$.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},$.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";var G={};if(Q.attributes!=null&&Q.hasOwnProperty("attributes")){if(!Array.isArray(Q.attributes))return"attributes: array expected";for(var K=0;K<Q.attributes.length;++K){var q=E.opentelemetry.proto.common.v1.KeyValue.verify(Q.attributes[K]);if(q)return"attributes."+q}}if(Q.startTimeUnixNano!=null&&Q.hasOwnProperty("startTimeUnixNano")){if(!T.isInteger(Q.startTimeUnixNano)&&!(Q.startTimeUnixNano&&T.isInteger(Q.startTimeUnixNano.low)&&T.isInteger(Q.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected"}if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano")){if(!T.isInteger(Q.timeUnixNano)&&!(Q.timeUnixNano&&T.isInteger(Q.timeUnixNano.low)&&T.isInteger(Q.timeUnixNano.high)))return"timeUnixNano: integer|Long expected"}if(Q.asDouble!=null&&Q.hasOwnProperty("asDouble")){if(G.value=1,typeof Q.asDouble!=="number")return"asDouble: number expected"}if(Q.asInt!=null&&Q.hasOwnProperty("asInt")){if(G.value===1)return"value: multiple values";if(G.value=1,!T.isInteger(Q.asInt)&&!(Q.asInt&&T.isInteger(Q.asInt.low)&&T.isInteger(Q.asInt.high)))return"asInt: integer|Long expected"}if(Q.exemplars!=null&&Q.hasOwnProperty("exemplars")){if(!Array.isArray(Q.exemplars))return"exemplars: array expected";for(var K=0;K<Q.exemplars.length;++K){var q=E.opentelemetry.proto.metrics.v1.Exemplar.verify(Q.exemplars[K]);if(q)return"exemplars."+q}}if(Q.flags!=null&&Q.hasOwnProperty("flags")){if(!T.isInteger(Q.flags))return"flags: integer expected"}return null},$.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.metrics.v1.NumberDataPoint)return Q;var G=new E.opentelemetry.proto.metrics.v1.NumberDataPoint;if(Q.attributes){if(!Array.isArray(Q.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");G.attributes=[];for(var K=0;K<Q.attributes.length;++K){if(typeof Q.attributes[K]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");G.attributes[K]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(Q.attributes[K])}}if(Q.startTimeUnixNano!=null){if(T.Long)(G.startTimeUnixNano=T.Long.fromValue(Q.startTimeUnixNano)).unsigned=!1;else if(typeof Q.startTimeUnixNano==="string")G.startTimeUnixNano=parseInt(Q.startTimeUnixNano,10);else if(typeof Q.startTimeUnixNano==="number")G.startTimeUnixNano=Q.startTimeUnixNano;else if(typeof Q.startTimeUnixNano==="object")G.startTimeUnixNano=new T.LongBits(Q.startTimeUnixNano.low>>>0,Q.startTimeUnixNano.high>>>0).toNumber()}if(Q.timeUnixNano!=null){if(T.Long)(G.timeUnixNano=T.Long.fromValue(Q.timeUnixNano)).unsigned=!1;else if(typeof Q.timeUnixNano==="string")G.timeUnixNano=parseInt(Q.timeUnixNano,10);else if(typeof Q.timeUnixNano==="number")G.timeUnixNano=Q.timeUnixNano;else if(typeof Q.timeUnixNano==="object")G.timeUnixNano=new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber()}if(Q.asDouble!=null)G.asDouble=Number(Q.asDouble);if(Q.asInt!=null){if(T.Long)(G.asInt=T.Long.fromValue(Q.asInt)).unsigned=!1;else if(typeof Q.asInt==="string")G.asInt=parseInt(Q.asInt,10);else if(typeof Q.asInt==="number")G.asInt=Q.asInt;else if(typeof Q.asInt==="object")G.asInt=new T.LongBits(Q.asInt.low>>>0,Q.asInt.high>>>0).toNumber()}if(Q.exemplars){if(!Array.isArray(Q.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");G.exemplars=[];for(var K=0;K<Q.exemplars.length;++K){if(typeof Q.exemplars[K]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");G.exemplars[K]=E.opentelemetry.proto.metrics.v1.Exemplar.fromObject(Q.exemplars[K])}}if(Q.flags!=null)G.flags=Q.flags>>>0;return G},$.toObject=function W(Q,G){if(!G)G={};var K={};if(G.arrays||G.defaults)K.exemplars=[],K.attributes=[];if(G.defaults){if(T.Long){var q=new T.Long(0,0,!1);K.startTimeUnixNano=G.longs===String?q.toString():G.longs===Number?q.toNumber():q}else K.startTimeUnixNano=G.longs===String?"0":0;if(T.Long){var q=new T.Long(0,0,!1);K.timeUnixNano=G.longs===String?q.toString():G.longs===Number?q.toNumber():q}else K.timeUnixNano=G.longs===String?"0":0;K.flags=0}if(Q.startTimeUnixNano!=null&&Q.hasOwnProperty("startTimeUnixNano"))if(typeof Q.startTimeUnixNano==="number")K.startTimeUnixNano=G.longs===String?String(Q.startTimeUnixNano):Q.startTimeUnixNano;else K.startTimeUnixNano=G.longs===String?T.Long.prototype.toString.call(Q.startTimeUnixNano):G.longs===Number?new T.LongBits(Q.startTimeUnixNano.low>>>0,Q.startTimeUnixNano.high>>>0).toNumber():Q.startTimeUnixNano;if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano"))if(typeof Q.timeUnixNano==="number")K.timeUnixNano=G.longs===String?String(Q.timeUnixNano):Q.timeUnixNano;else K.timeUnixNano=G.longs===String?T.Long.prototype.toString.call(Q.timeUnixNano):G.longs===Number?new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber():Q.timeUnixNano;if(Q.asDouble!=null&&Q.hasOwnProperty("asDouble")){if(K.asDouble=G.json&&!isFinite(Q.asDouble)?String(Q.asDouble):Q.asDouble,G.oneofs)K.value="asDouble"}if(Q.exemplars&&Q.exemplars.length){K.exemplars=[];for(var H=0;H<Q.exemplars.length;++H)K.exemplars[H]=E.opentelemetry.proto.metrics.v1.Exemplar.toObject(Q.exemplars[H],G)}if(Q.asInt!=null&&Q.hasOwnProperty("asInt")){if(typeof Q.asInt==="number")K.asInt=G.longs===String?String(Q.asInt):Q.asInt;else K.asInt=G.longs===String?T.Long.prototype.toString.call(Q.asInt):G.longs===Number?new T.LongBits(Q.asInt.low>>>0,Q.asInt.high>>>0).toNumber():Q.asInt;if(G.oneofs)K.value="asInt"}if(Q.attributes&&Q.attributes.length){K.attributes=[];for(var H=0;H<Q.attributes.length;++H)K.attributes[H]=E.opentelemetry.proto.common.v1.KeyValue.toObject(Q.attributes[H],G)}if(Q.flags!=null&&Q.hasOwnProperty("flags"))K.flags=Q.flags;return K},$.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},$}(),Y.HistogramDataPoint=function(){function $(W){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}$.prototype.attributes=T.emptyArray,$.prototype.startTimeUnixNano=null,$.prototype.timeUnixNano=null,$.prototype.count=null,$.prototype.sum=null,$.prototype.bucketCounts=T.emptyArray,$.prototype.explicitBounds=T.emptyArray,$.prototype.exemplars=T.emptyArray,$.prototype.flags=null,$.prototype.min=null,$.prototype.max=null;var z;return Object.defineProperty($.prototype,"_sum",{get:T.oneOfGetter(z=["sum"]),set:T.oneOfSetter(z)}),Object.defineProperty($.prototype,"_min",{get:T.oneOfGetter(z=["min"]),set:T.oneOfSetter(z)}),Object.defineProperty($.prototype,"_max",{get:T.oneOfGetter(z=["max"]),set:T.oneOfSetter(z)}),$.create=function W(Q){return new $(Q)},$.encode=function W(Q,G){if(!G)G=V6.create();if(Q.startTimeUnixNano!=null&&Object.hasOwnProperty.call(Q,"startTimeUnixNano"))G.uint32(17).fixed64(Q.startTimeUnixNano);if(Q.timeUnixNano!=null&&Object.hasOwnProperty.call(Q,"timeUnixNano"))G.uint32(25).fixed64(Q.timeUnixNano);if(Q.count!=null&&Object.hasOwnProperty.call(Q,"count"))G.uint32(33).fixed64(Q.count);if(Q.sum!=null&&Object.hasOwnProperty.call(Q,"sum"))G.uint32(41).double(Q.sum);if(Q.bucketCounts!=null&&Q.bucketCounts.length){G.uint32(50).fork();for(var K=0;K<Q.bucketCounts.length;++K)G.fixed64(Q.bucketCounts[K]);G.ldelim()}if(Q.explicitBounds!=null&&Q.explicitBounds.length){G.uint32(58).fork();for(var K=0;K<Q.explicitBounds.length;++K)G.double(Q.explicitBounds[K]);G.ldelim()}if(Q.exemplars!=null&&Q.exemplars.length)for(var K=0;K<Q.exemplars.length;++K)E.opentelemetry.proto.metrics.v1.Exemplar.encode(Q.exemplars[K],G.uint32(66).fork()).ldelim();if(Q.attributes!=null&&Q.attributes.length)for(var K=0;K<Q.attributes.length;++K)E.opentelemetry.proto.common.v1.KeyValue.encode(Q.attributes[K],G.uint32(74).fork()).ldelim();if(Q.flags!=null&&Object.hasOwnProperty.call(Q,"flags"))G.uint32(80).uint32(Q.flags);if(Q.min!=null&&Object.hasOwnProperty.call(Q,"min"))G.uint32(89).double(Q.min);if(Q.max!=null&&Object.hasOwnProperty.call(Q,"max"))G.uint32(97).double(Q.max);return G},$.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},$.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.metrics.v1.HistogramDataPoint;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 9:{if(!(q.attributes&&q.attributes.length))q.attributes=[];q.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(Q,Q.uint32()));break}case 2:{q.startTimeUnixNano=Q.fixed64();break}case 3:{q.timeUnixNano=Q.fixed64();break}case 4:{q.count=Q.fixed64();break}case 5:{q.sum=Q.double();break}case 6:{if(!(q.bucketCounts&&q.bucketCounts.length))q.bucketCounts=[];if((H&7)===2){var F=Q.uint32()+Q.pos;while(Q.pos<F)q.bucketCounts.push(Q.fixed64())}else q.bucketCounts.push(Q.fixed64());break}case 7:{if(!(q.explicitBounds&&q.explicitBounds.length))q.explicitBounds=[];if((H&7)===2){var F=Q.uint32()+Q.pos;while(Q.pos<F)q.explicitBounds.push(Q.double())}else q.explicitBounds.push(Q.double());break}case 8:{if(!(q.exemplars&&q.exemplars.length))q.exemplars=[];q.exemplars.push(E.opentelemetry.proto.metrics.v1.Exemplar.decode(Q,Q.uint32()));break}case 10:{q.flags=Q.uint32();break}case 11:{q.min=Q.double();break}case 12:{q.max=Q.double();break}default:Q.skipType(H&7);break}}return q},$.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},$.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";var G={};if(Q.attributes!=null&&Q.hasOwnProperty("attributes")){if(!Array.isArray(Q.attributes))return"attributes: array expected";for(var K=0;K<Q.attributes.length;++K){var q=E.opentelemetry.proto.common.v1.KeyValue.verify(Q.attributes[K]);if(q)return"attributes."+q}}if(Q.startTimeUnixNano!=null&&Q.hasOwnProperty("startTimeUnixNano")){if(!T.isInteger(Q.startTimeUnixNano)&&!(Q.startTimeUnixNano&&T.isInteger(Q.startTimeUnixNano.low)&&T.isInteger(Q.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected"}if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano")){if(!T.isInteger(Q.timeUnixNano)&&!(Q.timeUnixNano&&T.isInteger(Q.timeUnixNano.low)&&T.isInteger(Q.timeUnixNano.high)))return"timeUnixNano: integer|Long expected"}if(Q.count!=null&&Q.hasOwnProperty("count")){if(!T.isInteger(Q.count)&&!(Q.count&&T.isInteger(Q.count.low)&&T.isInteger(Q.count.high)))return"count: integer|Long expected"}if(Q.sum!=null&&Q.hasOwnProperty("sum")){if(G._sum=1,typeof Q.sum!=="number")return"sum: number expected"}if(Q.bucketCounts!=null&&Q.hasOwnProperty("bucketCounts")){if(!Array.isArray(Q.bucketCounts))return"bucketCounts: array expected";for(var K=0;K<Q.bucketCounts.length;++K)if(!T.isInteger(Q.bucketCounts[K])&&!(Q.bucketCounts[K]&&T.isInteger(Q.bucketCounts[K].low)&&T.isInteger(Q.bucketCounts[K].high)))return"bucketCounts: integer|Long[] expected"}if(Q.explicitBounds!=null&&Q.hasOwnProperty("explicitBounds")){if(!Array.isArray(Q.explicitBounds))return"explicitBounds: array expected";for(var K=0;K<Q.explicitBounds.length;++K)if(typeof Q.explicitBounds[K]!=="number")return"explicitBounds: number[] expected"}if(Q.exemplars!=null&&Q.hasOwnProperty("exemplars")){if(!Array.isArray(Q.exemplars))return"exemplars: array expected";for(var K=0;K<Q.exemplars.length;++K){var q=E.opentelemetry.proto.metrics.v1.Exemplar.verify(Q.exemplars[K]);if(q)return"exemplars."+q}}if(Q.flags!=null&&Q.hasOwnProperty("flags")){if(!T.isInteger(Q.flags))return"flags: integer expected"}if(Q.min!=null&&Q.hasOwnProperty("min")){if(G._min=1,typeof Q.min!=="number")return"min: number expected"}if(Q.max!=null&&Q.hasOwnProperty("max")){if(G._max=1,typeof Q.max!=="number")return"max: number expected"}return null},$.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.metrics.v1.HistogramDataPoint)return Q;var G=new E.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(Q.attributes){if(!Array.isArray(Q.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");G.attributes=[];for(var K=0;K<Q.attributes.length;++K){if(typeof Q.attributes[K]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");G.attributes[K]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(Q.attributes[K])}}if(Q.startTimeUnixNano!=null){if(T.Long)(G.startTimeUnixNano=T.Long.fromValue(Q.startTimeUnixNano)).unsigned=!1;else if(typeof Q.startTimeUnixNano==="string")G.startTimeUnixNano=parseInt(Q.startTimeUnixNano,10);else if(typeof Q.startTimeUnixNano==="number")G.startTimeUnixNano=Q.startTimeUnixNano;else if(typeof Q.startTimeUnixNano==="object")G.startTimeUnixNano=new T.LongBits(Q.startTimeUnixNano.low>>>0,Q.startTimeUnixNano.high>>>0).toNumber()}if(Q.timeUnixNano!=null){if(T.Long)(G.timeUnixNano=T.Long.fromValue(Q.timeUnixNano)).unsigned=!1;else if(typeof Q.timeUnixNano==="string")G.timeUnixNano=parseInt(Q.timeUnixNano,10);else if(typeof Q.timeUnixNano==="number")G.timeUnixNano=Q.timeUnixNano;else if(typeof Q.timeUnixNano==="object")G.timeUnixNano=new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber()}if(Q.count!=null){if(T.Long)(G.count=T.Long.fromValue(Q.count)).unsigned=!1;else if(typeof Q.count==="string")G.count=parseInt(Q.count,10);else if(typeof Q.count==="number")G.count=Q.count;else if(typeof Q.count==="object")G.count=new T.LongBits(Q.count.low>>>0,Q.count.high>>>0).toNumber()}if(Q.sum!=null)G.sum=Number(Q.sum);if(Q.bucketCounts){if(!Array.isArray(Q.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");G.bucketCounts=[];for(var K=0;K<Q.bucketCounts.length;++K)if(T.Long)(G.bucketCounts[K]=T.Long.fromValue(Q.bucketCounts[K])).unsigned=!1;else if(typeof Q.bucketCounts[K]==="string")G.bucketCounts[K]=parseInt(Q.bucketCounts[K],10);else if(typeof Q.bucketCounts[K]==="number")G.bucketCounts[K]=Q.bucketCounts[K];else if(typeof Q.bucketCounts[K]==="object")G.bucketCounts[K]=new T.LongBits(Q.bucketCounts[K].low>>>0,Q.bucketCounts[K].high>>>0).toNumber()}if(Q.explicitBounds){if(!Array.isArray(Q.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");G.explicitBounds=[];for(var K=0;K<Q.explicitBounds.length;++K)G.explicitBounds[K]=Number(Q.explicitBounds[K])}if(Q.exemplars){if(!Array.isArray(Q.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");G.exemplars=[];for(var K=0;K<Q.exemplars.length;++K){if(typeof Q.exemplars[K]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");G.exemplars[K]=E.opentelemetry.proto.metrics.v1.Exemplar.fromObject(Q.exemplars[K])}}if(Q.flags!=null)G.flags=Q.flags>>>0;if(Q.min!=null)G.min=Number(Q.min);if(Q.max!=null)G.max=Number(Q.max);return G},$.toObject=function W(Q,G){if(!G)G={};var K={};if(G.arrays||G.defaults)K.bucketCounts=[],K.explicitBounds=[],K.exemplars=[],K.attributes=[];if(G.defaults){if(T.Long){var q=new T.Long(0,0,!1);K.startTimeUnixNano=G.longs===String?q.toString():G.longs===Number?q.toNumber():q}else K.startTimeUnixNano=G.longs===String?"0":0;if(T.Long){var q=new T.Long(0,0,!1);K.timeUnixNano=G.longs===String?q.toString():G.longs===Number?q.toNumber():q}else K.timeUnixNano=G.longs===String?"0":0;if(T.Long){var q=new T.Long(0,0,!1);K.count=G.longs===String?q.toString():G.longs===Number?q.toNumber():q}else K.count=G.longs===String?"0":0;K.flags=0}if(Q.startTimeUnixNano!=null&&Q.hasOwnProperty("startTimeUnixNano"))if(typeof Q.startTimeUnixNano==="number")K.startTimeUnixNano=G.longs===String?String(Q.startTimeUnixNano):Q.startTimeUnixNano;else K.startTimeUnixNano=G.longs===String?T.Long.prototype.toString.call(Q.startTimeUnixNano):G.longs===Number?new T.LongBits(Q.startTimeUnixNano.low>>>0,Q.startTimeUnixNano.high>>>0).toNumber():Q.startTimeUnixNano;if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano"))if(typeof Q.timeUnixNano==="number")K.timeUnixNano=G.longs===String?String(Q.timeUnixNano):Q.timeUnixNano;else K.timeUnixNano=G.longs===String?T.Long.prototype.toString.call(Q.timeUnixNano):G.longs===Number?new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber():Q.timeUnixNano;if(Q.count!=null&&Q.hasOwnProperty("count"))if(typeof Q.count==="number")K.count=G.longs===String?String(Q.count):Q.count;else K.count=G.longs===String?T.Long.prototype.toString.call(Q.count):G.longs===Number?new T.LongBits(Q.count.low>>>0,Q.count.high>>>0).toNumber():Q.count;if(Q.sum!=null&&Q.hasOwnProperty("sum")){if(K.sum=G.json&&!isFinite(Q.sum)?String(Q.sum):Q.sum,G.oneofs)K._sum="sum"}if(Q.bucketCounts&&Q.bucketCounts.length){K.bucketCounts=[];for(var H=0;H<Q.bucketCounts.length;++H)if(typeof Q.bucketCounts[H]==="number")K.bucketCounts[H]=G.longs===String?String(Q.bucketCounts[H]):Q.bucketCounts[H];else K.bucketCounts[H]=G.longs===String?T.Long.prototype.toString.call(Q.bucketCounts[H]):G.longs===Number?new T.LongBits(Q.bucketCounts[H].low>>>0,Q.bucketCounts[H].high>>>0).toNumber():Q.bucketCounts[H]}if(Q.explicitBounds&&Q.explicitBounds.length){K.explicitBounds=[];for(var H=0;H<Q.explicitBounds.length;++H)K.explicitBounds[H]=G.json&&!isFinite(Q.explicitBounds[H])?String(Q.explicitBounds[H]):Q.explicitBounds[H]}if(Q.exemplars&&Q.exemplars.length){K.exemplars=[];for(var H=0;H<Q.exemplars.length;++H)K.exemplars[H]=E.opentelemetry.proto.metrics.v1.Exemplar.toObject(Q.exemplars[H],G)}if(Q.attributes&&Q.attributes.length){K.attributes=[];for(var H=0;H<Q.attributes.length;++H)K.attributes[H]=E.opentelemetry.proto.common.v1.KeyValue.toObject(Q.attributes[H],G)}if(Q.flags!=null&&Q.hasOwnProperty("flags"))K.flags=Q.flags;if(Q.min!=null&&Q.hasOwnProperty("min")){if(K.min=G.json&&!isFinite(Q.min)?String(Q.min):Q.min,G.oneofs)K._min="min"}if(Q.max!=null&&Q.hasOwnProperty("max")){if(K.max=G.json&&!isFinite(Q.max)?String(Q.max):Q.max,G.oneofs)K._max="max"}return K},$.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},$}(),Y.ExponentialHistogramDataPoint=function(){function $(W){if(this.attributes=[],this.exemplars=[],W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}$.prototype.attributes=T.emptyArray,$.prototype.startTimeUnixNano=null,$.prototype.timeUnixNano=null,$.prototype.count=null,$.prototype.sum=null,$.prototype.scale=null,$.prototype.zeroCount=null,$.prototype.positive=null,$.prototype.negative=null,$.prototype.flags=null,$.prototype.exemplars=T.emptyArray,$.prototype.min=null,$.prototype.max=null,$.prototype.zeroThreshold=null;var z;return Object.defineProperty($.prototype,"_sum",{get:T.oneOfGetter(z=["sum"]),set:T.oneOfSetter(z)}),Object.defineProperty($.prototype,"_min",{get:T.oneOfGetter(z=["min"]),set:T.oneOfSetter(z)}),Object.defineProperty($.prototype,"_max",{get:T.oneOfGetter(z=["max"]),set:T.oneOfSetter(z)}),$.create=function W(Q){return new $(Q)},$.encode=function W(Q,G){if(!G)G=V6.create();if(Q.attributes!=null&&Q.attributes.length)for(var K=0;K<Q.attributes.length;++K)E.opentelemetry.proto.common.v1.KeyValue.encode(Q.attributes[K],G.uint32(10).fork()).ldelim();if(Q.startTimeUnixNano!=null&&Object.hasOwnProperty.call(Q,"startTimeUnixNano"))G.uint32(17).fixed64(Q.startTimeUnixNano);if(Q.timeUnixNano!=null&&Object.hasOwnProperty.call(Q,"timeUnixNano"))G.uint32(25).fixed64(Q.timeUnixNano);if(Q.count!=null&&Object.hasOwnProperty.call(Q,"count"))G.uint32(33).fixed64(Q.count);if(Q.sum!=null&&Object.hasOwnProperty.call(Q,"sum"))G.uint32(41).double(Q.sum);if(Q.scale!=null&&Object.hasOwnProperty.call(Q,"scale"))G.uint32(48).sint32(Q.scale);if(Q.zeroCount!=null&&Object.hasOwnProperty.call(Q,"zeroCount"))G.uint32(57).fixed64(Q.zeroCount);if(Q.positive!=null&&Object.hasOwnProperty.call(Q,"positive"))E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(Q.positive,G.uint32(66).fork()).ldelim();if(Q.negative!=null&&Object.hasOwnProperty.call(Q,"negative"))E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(Q.negative,G.uint32(74).fork()).ldelim();if(Q.flags!=null&&Object.hasOwnProperty.call(Q,"flags"))G.uint32(80).uint32(Q.flags);if(Q.exemplars!=null&&Q.exemplars.length)for(var K=0;K<Q.exemplars.length;++K)E.opentelemetry.proto.metrics.v1.Exemplar.encode(Q.exemplars[K],G.uint32(90).fork()).ldelim();if(Q.min!=null&&Object.hasOwnProperty.call(Q,"min"))G.uint32(97).double(Q.min);if(Q.max!=null&&Object.hasOwnProperty.call(Q,"max"))G.uint32(105).double(Q.max);if(Q.zeroThreshold!=null&&Object.hasOwnProperty.call(Q,"zeroThreshold"))G.uint32(113).double(Q.zeroThreshold);return G},$.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},$.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{if(!(q.attributes&&q.attributes.length))q.attributes=[];q.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(Q,Q.uint32()));break}case 2:{q.startTimeUnixNano=Q.fixed64();break}case 3:{q.timeUnixNano=Q.fixed64();break}case 4:{q.count=Q.fixed64();break}case 5:{q.sum=Q.double();break}case 6:{q.scale=Q.sint32();break}case 7:{q.zeroCount=Q.fixed64();break}case 8:{q.positive=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(Q,Q.uint32());break}case 9:{q.negative=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(Q,Q.uint32());break}case 10:{q.flags=Q.uint32();break}case 11:{if(!(q.exemplars&&q.exemplars.length))q.exemplars=[];q.exemplars.push(E.opentelemetry.proto.metrics.v1.Exemplar.decode(Q,Q.uint32()));break}case 12:{q.min=Q.double();break}case 13:{q.max=Q.double();break}case 14:{q.zeroThreshold=Q.double();break}default:Q.skipType(H&7);break}}return q},$.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},$.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";var G={};if(Q.attributes!=null&&Q.hasOwnProperty("attributes")){if(!Array.isArray(Q.attributes))return"attributes: array expected";for(var K=0;K<Q.attributes.length;++K){var q=E.opentelemetry.proto.common.v1.KeyValue.verify(Q.attributes[K]);if(q)return"attributes."+q}}if(Q.startTimeUnixNano!=null&&Q.hasOwnProperty("startTimeUnixNano")){if(!T.isInteger(Q.startTimeUnixNano)&&!(Q.startTimeUnixNano&&T.isInteger(Q.startTimeUnixNano.low)&&T.isInteger(Q.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected"}if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano")){if(!T.isInteger(Q.timeUnixNano)&&!(Q.timeUnixNano&&T.isInteger(Q.timeUnixNano.low)&&T.isInteger(Q.timeUnixNano.high)))return"timeUnixNano: integer|Long expected"}if(Q.count!=null&&Q.hasOwnProperty("count")){if(!T.isInteger(Q.count)&&!(Q.count&&T.isInteger(Q.count.low)&&T.isInteger(Q.count.high)))return"count: integer|Long expected"}if(Q.sum!=null&&Q.hasOwnProperty("sum")){if(G._sum=1,typeof Q.sum!=="number")return"sum: number expected"}if(Q.scale!=null&&Q.hasOwnProperty("scale")){if(!T.isInteger(Q.scale))return"scale: integer expected"}if(Q.zeroCount!=null&&Q.hasOwnProperty("zeroCount")){if(!T.isInteger(Q.zeroCount)&&!(Q.zeroCount&&T.isInteger(Q.zeroCount.low)&&T.isInteger(Q.zeroCount.high)))return"zeroCount: integer|Long expected"}if(Q.positive!=null&&Q.hasOwnProperty("positive")){var q=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(Q.positive);if(q)return"positive."+q}if(Q.negative!=null&&Q.hasOwnProperty("negative")){var q=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(Q.negative);if(q)return"negative."+q}if(Q.flags!=null&&Q.hasOwnProperty("flags")){if(!T.isInteger(Q.flags))return"flags: integer expected"}if(Q.exemplars!=null&&Q.hasOwnProperty("exemplars")){if(!Array.isArray(Q.exemplars))return"exemplars: array expected";for(var K=0;K<Q.exemplars.length;++K){var q=E.opentelemetry.proto.metrics.v1.Exemplar.verify(Q.exemplars[K]);if(q)return"exemplars."+q}}if(Q.min!=null&&Q.hasOwnProperty("min")){if(G._min=1,typeof Q.min!=="number")return"min: number expected"}if(Q.max!=null&&Q.hasOwnProperty("max")){if(G._max=1,typeof Q.max!=="number")return"max: number expected"}if(Q.zeroThreshold!=null&&Q.hasOwnProperty("zeroThreshold")){if(typeof Q.zeroThreshold!=="number")return"zeroThreshold: number expected"}return null},$.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return Q;var G=new E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(Q.attributes){if(!Array.isArray(Q.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");G.attributes=[];for(var K=0;K<Q.attributes.length;++K){if(typeof Q.attributes[K]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");G.attributes[K]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(Q.attributes[K])}}if(Q.startTimeUnixNano!=null){if(T.Long)(G.startTimeUnixNano=T.Long.fromValue(Q.startTimeUnixNano)).unsigned=!1;else if(typeof Q.startTimeUnixNano==="string")G.startTimeUnixNano=parseInt(Q.startTimeUnixNano,10);else if(typeof Q.startTimeUnixNano==="number")G.startTimeUnixNano=Q.startTimeUnixNano;else if(typeof Q.startTimeUnixNano==="object")G.startTimeUnixNano=new T.LongBits(Q.startTimeUnixNano.low>>>0,Q.startTimeUnixNano.high>>>0).toNumber()}if(Q.timeUnixNano!=null){if(T.Long)(G.timeUnixNano=T.Long.fromValue(Q.timeUnixNano)).unsigned=!1;else if(typeof Q.timeUnixNano==="string")G.timeUnixNano=parseInt(Q.timeUnixNano,10);else if(typeof Q.timeUnixNano==="number")G.timeUnixNano=Q.timeUnixNano;else if(typeof Q.timeUnixNano==="object")G.timeUnixNano=new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber()}if(Q.count!=null){if(T.Long)(G.count=T.Long.fromValue(Q.count)).unsigned=!1;else if(typeof Q.count==="string")G.count=parseInt(Q.count,10);else if(typeof Q.count==="number")G.count=Q.count;else if(typeof Q.count==="object")G.count=new T.LongBits(Q.count.low>>>0,Q.count.high>>>0).toNumber()}if(Q.sum!=null)G.sum=Number(Q.sum);if(Q.scale!=null)G.scale=Q.scale|0;if(Q.zeroCount!=null){if(T.Long)(G.zeroCount=T.Long.fromValue(Q.zeroCount)).unsigned=!1;else if(typeof Q.zeroCount==="string")G.zeroCount=parseInt(Q.zeroCount,10);else if(typeof Q.zeroCount==="number")G.zeroCount=Q.zeroCount;else if(typeof Q.zeroCount==="object")G.zeroCount=new T.LongBits(Q.zeroCount.low>>>0,Q.zeroCount.high>>>0).toNumber()}if(Q.positive!=null){if(typeof Q.positive!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");G.positive=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(Q.positive)}if(Q.negative!=null){if(typeof Q.negative!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");G.negative=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(Q.negative)}if(Q.flags!=null)G.flags=Q.flags>>>0;if(Q.exemplars){if(!Array.isArray(Q.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");G.exemplars=[];for(var K=0;K<Q.exemplars.length;++K){if(typeof Q.exemplars[K]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");G.exemplars[K]=E.opentelemetry.proto.metrics.v1.Exemplar.fromObject(Q.exemplars[K])}}if(Q.min!=null)G.min=Number(Q.min);if(Q.max!=null)G.max=Number(Q.max);if(Q.zeroThreshold!=null)G.zeroThreshold=Number(Q.zeroThreshold);return G},$.toObject=function W(Q,G){if(!G)G={};var K={};if(G.arrays||G.defaults)K.attributes=[],K.exemplars=[];if(G.defaults){if(T.Long){var q=new T.Long(0,0,!1);K.startTimeUnixNano=G.longs===String?q.toString():G.longs===Number?q.toNumber():q}else K.startTimeUnixNano=G.longs===String?"0":0;if(T.Long){var q=new T.Long(0,0,!1);K.timeUnixNano=G.longs===String?q.toString():G.longs===Number?q.toNumber():q}else K.timeUnixNano=G.longs===String?"0":0;if(T.Long){var q=new T.Long(0,0,!1);K.count=G.longs===String?q.toString():G.longs===Number?q.toNumber():q}else K.count=G.longs===String?"0":0;if(K.scale=0,T.Long){var q=new T.Long(0,0,!1);K.zeroCount=G.longs===String?q.toString():G.longs===Number?q.toNumber():q}else K.zeroCount=G.longs===String?"0":0;K.positive=null,K.negative=null,K.flags=0,K.zeroThreshold=0}if(Q.attributes&&Q.attributes.length){K.attributes=[];for(var H=0;H<Q.attributes.length;++H)K.attributes[H]=E.opentelemetry.proto.common.v1.KeyValue.toObject(Q.attributes[H],G)}if(Q.startTimeUnixNano!=null&&Q.hasOwnProperty("startTimeUnixNano"))if(typeof Q.startTimeUnixNano==="number")K.startTimeUnixNano=G.longs===String?String(Q.startTimeUnixNano):Q.startTimeUnixNano;else K.startTimeUnixNano=G.longs===String?T.Long.prototype.toString.call(Q.startTimeUnixNano):G.longs===Number?new T.LongBits(Q.startTimeUnixNano.low>>>0,Q.startTimeUnixNano.high>>>0).toNumber():Q.startTimeUnixNano;if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano"))if(typeof Q.timeUnixNano==="number")K.timeUnixNano=G.longs===String?String(Q.timeUnixNano):Q.timeUnixNano;else K.timeUnixNano=G.longs===String?T.Long.prototype.toString.call(Q.timeUnixNano):G.longs===Number?new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber():Q.timeUnixNano;if(Q.count!=null&&Q.hasOwnProperty("count"))if(typeof Q.count==="number")K.count=G.longs===String?String(Q.count):Q.count;else K.count=G.longs===String?T.Long.prototype.toString.call(Q.count):G.longs===Number?new T.LongBits(Q.count.low>>>0,Q.count.high>>>0).toNumber():Q.count;if(Q.sum!=null&&Q.hasOwnProperty("sum")){if(K.sum=G.json&&!isFinite(Q.sum)?String(Q.sum):Q.sum,G.oneofs)K._sum="sum"}if(Q.scale!=null&&Q.hasOwnProperty("scale"))K.scale=Q.scale;if(Q.zeroCount!=null&&Q.hasOwnProperty("zeroCount"))if(typeof Q.zeroCount==="number")K.zeroCount=G.longs===String?String(Q.zeroCount):Q.zeroCount;else K.zeroCount=G.longs===String?T.Long.prototype.toString.call(Q.zeroCount):G.longs===Number?new T.LongBits(Q.zeroCount.low>>>0,Q.zeroCount.high>>>0).toNumber():Q.zeroCount;if(Q.positive!=null&&Q.hasOwnProperty("positive"))K.positive=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(Q.positive,G);if(Q.negative!=null&&Q.hasOwnProperty("negative"))K.negative=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(Q.negative,G);if(Q.flags!=null&&Q.hasOwnProperty("flags"))K.flags=Q.flags;if(Q.exemplars&&Q.exemplars.length){K.exemplars=[];for(var H=0;H<Q.exemplars.length;++H)K.exemplars[H]=E.opentelemetry.proto.metrics.v1.Exemplar.toObject(Q.exemplars[H],G)}if(Q.min!=null&&Q.hasOwnProperty("min")){if(K.min=G.json&&!isFinite(Q.min)?String(Q.min):Q.min,G.oneofs)K._min="min"}if(Q.max!=null&&Q.hasOwnProperty("max")){if(K.max=G.json&&!isFinite(Q.max)?String(Q.max):Q.max,G.oneofs)K._max="max"}if(Q.zeroThreshold!=null&&Q.hasOwnProperty("zeroThreshold"))K.zeroThreshold=G.json&&!isFinite(Q.zeroThreshold)?String(Q.zeroThreshold):Q.zeroThreshold;return K},$.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},$.Buckets=function(){function W(Q){if(this.bucketCounts=[],Q){for(var G=Object.keys(Q),K=0;K<G.length;++K)if(Q[G[K]]!=null)this[G[K]]=Q[G[K]]}}return W.prototype.offset=null,W.prototype.bucketCounts=T.emptyArray,W.create=function Q(G){return new W(G)},W.encode=function Q(G,K){if(!K)K=V6.create();if(G.offset!=null&&Object.hasOwnProperty.call(G,"offset"))K.uint32(8).sint32(G.offset);if(G.bucketCounts!=null&&G.bucketCounts.length){K.uint32(18).fork();for(var q=0;q<G.bucketCounts.length;++q)K.uint64(G.bucketCounts[q]);K.ldelim()}return K},W.encodeDelimited=function Q(G,K){return this.encode(G,K).ldelim()},W.decode=function Q(G,K){if(!(G instanceof W1))G=W1.create(G);var q=K===void 0?G.len:G.pos+K,H=new E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;while(G.pos<q){var F=G.uint32();switch(F>>>3){case 1:{H.offset=G.sint32();break}case 2:{if(!(H.bucketCounts&&H.bucketCounts.length))H.bucketCounts=[];if((F&7)===2){var U=G.uint32()+G.pos;while(G.pos<U)H.bucketCounts.push(G.uint64())}else H.bucketCounts.push(G.uint64());break}default:G.skipType(F&7);break}}return H},W.decodeDelimited=function Q(G){if(!(G instanceof W1))G=new W1(G);return this.decode(G,G.uint32())},W.verify=function Q(G){if(typeof G!=="object"||G===null)return"object expected";if(G.offset!=null&&G.hasOwnProperty("offset")){if(!T.isInteger(G.offset))return"offset: integer expected"}if(G.bucketCounts!=null&&G.hasOwnProperty("bucketCounts")){if(!Array.isArray(G.bucketCounts))return"bucketCounts: array expected";for(var K=0;K<G.bucketCounts.length;++K)if(!T.isInteger(G.bucketCounts[K])&&!(G.bucketCounts[K]&&T.isInteger(G.bucketCounts[K].low)&&T.isInteger(G.bucketCounts[K].high)))return"bucketCounts: integer|Long[] expected"}return null},W.fromObject=function Q(G){if(G instanceof E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return G;var K=new E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(G.offset!=null)K.offset=G.offset|0;if(G.bucketCounts){if(!Array.isArray(G.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");K.bucketCounts=[];for(var q=0;q<G.bucketCounts.length;++q)if(T.Long)(K.bucketCounts[q]=T.Long.fromValue(G.bucketCounts[q])).unsigned=!0;else if(typeof G.bucketCounts[q]==="string")K.bucketCounts[q]=parseInt(G.bucketCounts[q],10);else if(typeof G.bucketCounts[q]==="number")K.bucketCounts[q]=G.bucketCounts[q];else if(typeof G.bucketCounts[q]==="object")K.bucketCounts[q]=new T.LongBits(G.bucketCounts[q].low>>>0,G.bucketCounts[q].high>>>0).toNumber(!0)}return K},W.toObject=function Q(G,K){if(!K)K={};var q={};if(K.arrays||K.defaults)q.bucketCounts=[];if(K.defaults)q.offset=0;if(G.offset!=null&&G.hasOwnProperty("offset"))q.offset=G.offset;if(G.bucketCounts&&G.bucketCounts.length){q.bucketCounts=[];for(var H=0;H<G.bucketCounts.length;++H)if(typeof G.bucketCounts[H]==="number")q.bucketCounts[H]=K.longs===String?String(G.bucketCounts[H]):G.bucketCounts[H];else q.bucketCounts[H]=K.longs===String?T.Long.prototype.toString.call(G.bucketCounts[H]):K.longs===Number?new T.LongBits(G.bucketCounts[H].low>>>0,G.bucketCounts[H].high>>>0).toNumber(!0):G.bucketCounts[H]}return q},W.prototype.toJSON=function Q(){return this.constructor.toObject(this,U0.util.toJSONOptions)},W.getTypeUrl=function Q(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},W}(),$}(),Y.SummaryDataPoint=function(){function $(z){if(this.attributes=[],this.quantileValues=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.attributes=T.emptyArray,$.prototype.startTimeUnixNano=null,$.prototype.timeUnixNano=null,$.prototype.count=null,$.prototype.sum=null,$.prototype.quantileValues=T.emptyArray,$.prototype.flags=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.startTimeUnixNano!=null&&Object.hasOwnProperty.call(W,"startTimeUnixNano"))Q.uint32(17).fixed64(W.startTimeUnixNano);if(W.timeUnixNano!=null&&Object.hasOwnProperty.call(W,"timeUnixNano"))Q.uint32(25).fixed64(W.timeUnixNano);if(W.count!=null&&Object.hasOwnProperty.call(W,"count"))Q.uint32(33).fixed64(W.count);if(W.sum!=null&&Object.hasOwnProperty.call(W,"sum"))Q.uint32(41).double(W.sum);if(W.quantileValues!=null&&W.quantileValues.length)for(var G=0;G<W.quantileValues.length;++G)E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(W.quantileValues[G],Q.uint32(50).fork()).ldelim();if(W.attributes!=null&&W.attributes.length)for(var G=0;G<W.attributes.length;++G)E.opentelemetry.proto.common.v1.KeyValue.encode(W.attributes[G],Q.uint32(58).fork()).ldelim();if(W.flags!=null&&Object.hasOwnProperty.call(W,"flags"))Q.uint32(64).uint32(W.flags);return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.metrics.v1.SummaryDataPoint;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 7:{if(!(K.attributes&&K.attributes.length))K.attributes=[];K.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(W,W.uint32()));break}case 2:{K.startTimeUnixNano=W.fixed64();break}case 3:{K.timeUnixNano=W.fixed64();break}case 4:{K.count=W.fixed64();break}case 5:{K.sum=W.double();break}case 6:{if(!(K.quantileValues&&K.quantileValues.length))K.quantileValues=[];K.quantileValues.push(E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(W,W.uint32()));break}case 8:{K.flags=W.uint32();break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.attributes!=null&&W.hasOwnProperty("attributes")){if(!Array.isArray(W.attributes))return"attributes: array expected";for(var Q=0;Q<W.attributes.length;++Q){var G=E.opentelemetry.proto.common.v1.KeyValue.verify(W.attributes[Q]);if(G)return"attributes."+G}}if(W.startTimeUnixNano!=null&&W.hasOwnProperty("startTimeUnixNano")){if(!T.isInteger(W.startTimeUnixNano)&&!(W.startTimeUnixNano&&T.isInteger(W.startTimeUnixNano.low)&&T.isInteger(W.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected"}if(W.timeUnixNano!=null&&W.hasOwnProperty("timeUnixNano")){if(!T.isInteger(W.timeUnixNano)&&!(W.timeUnixNano&&T.isInteger(W.timeUnixNano.low)&&T.isInteger(W.timeUnixNano.high)))return"timeUnixNano: integer|Long expected"}if(W.count!=null&&W.hasOwnProperty("count")){if(!T.isInteger(W.count)&&!(W.count&&T.isInteger(W.count.low)&&T.isInteger(W.count.high)))return"count: integer|Long expected"}if(W.sum!=null&&W.hasOwnProperty("sum")){if(typeof W.sum!=="number")return"sum: number expected"}if(W.quantileValues!=null&&W.hasOwnProperty("quantileValues")){if(!Array.isArray(W.quantileValues))return"quantileValues: array expected";for(var Q=0;Q<W.quantileValues.length;++Q){var G=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(W.quantileValues[Q]);if(G)return"quantileValues."+G}}if(W.flags!=null&&W.hasOwnProperty("flags")){if(!T.isInteger(W.flags))return"flags: integer expected"}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.metrics.v1.SummaryDataPoint)return W;var Q=new E.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(W.attributes){if(!Array.isArray(W.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");Q.attributes=[];for(var G=0;G<W.attributes.length;++G){if(typeof W.attributes[G]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");Q.attributes[G]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(W.attributes[G])}}if(W.startTimeUnixNano!=null){if(T.Long)(Q.startTimeUnixNano=T.Long.fromValue(W.startTimeUnixNano)).unsigned=!1;else if(typeof W.startTimeUnixNano==="string")Q.startTimeUnixNano=parseInt(W.startTimeUnixNano,10);else if(typeof W.startTimeUnixNano==="number")Q.startTimeUnixNano=W.startTimeUnixNano;else if(typeof W.startTimeUnixNano==="object")Q.startTimeUnixNano=new T.LongBits(W.startTimeUnixNano.low>>>0,W.startTimeUnixNano.high>>>0).toNumber()}if(W.timeUnixNano!=null){if(T.Long)(Q.timeUnixNano=T.Long.fromValue(W.timeUnixNano)).unsigned=!1;else if(typeof W.timeUnixNano==="string")Q.timeUnixNano=parseInt(W.timeUnixNano,10);else if(typeof W.timeUnixNano==="number")Q.timeUnixNano=W.timeUnixNano;else if(typeof W.timeUnixNano==="object")Q.timeUnixNano=new T.LongBits(W.timeUnixNano.low>>>0,W.timeUnixNano.high>>>0).toNumber()}if(W.count!=null){if(T.Long)(Q.count=T.Long.fromValue(W.count)).unsigned=!1;else if(typeof W.count==="string")Q.count=parseInt(W.count,10);else if(typeof W.count==="number")Q.count=W.count;else if(typeof W.count==="object")Q.count=new T.LongBits(W.count.low>>>0,W.count.high>>>0).toNumber()}if(W.sum!=null)Q.sum=Number(W.sum);if(W.quantileValues){if(!Array.isArray(W.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");Q.quantileValues=[];for(var G=0;G<W.quantileValues.length;++G){if(typeof W.quantileValues[G]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");Q.quantileValues[G]=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(W.quantileValues[G])}}if(W.flags!=null)Q.flags=W.flags>>>0;return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.quantileValues=[],G.attributes=[];if(Q.defaults){if(T.Long){var K=new T.Long(0,0,!1);G.startTimeUnixNano=Q.longs===String?K.toString():Q.longs===Number?K.toNumber():K}else G.startTimeUnixNano=Q.longs===String?"0":0;if(T.Long){var K=new T.Long(0,0,!1);G.timeUnixNano=Q.longs===String?K.toString():Q.longs===Number?K.toNumber():K}else G.timeUnixNano=Q.longs===String?"0":0;if(T.Long){var K=new T.Long(0,0,!1);G.count=Q.longs===String?K.toString():Q.longs===Number?K.toNumber():K}else G.count=Q.longs===String?"0":0;G.sum=0,G.flags=0}if(W.startTimeUnixNano!=null&&W.hasOwnProperty("startTimeUnixNano"))if(typeof W.startTimeUnixNano==="number")G.startTimeUnixNano=Q.longs===String?String(W.startTimeUnixNano):W.startTimeUnixNano;else G.startTimeUnixNano=Q.longs===String?T.Long.prototype.toString.call(W.startTimeUnixNano):Q.longs===Number?new T.LongBits(W.startTimeUnixNano.low>>>0,W.startTimeUnixNano.high>>>0).toNumber():W.startTimeUnixNano;if(W.timeUnixNano!=null&&W.hasOwnProperty("timeUnixNano"))if(typeof W.timeUnixNano==="number")G.timeUnixNano=Q.longs===String?String(W.timeUnixNano):W.timeUnixNano;else G.timeUnixNano=Q.longs===String?T.Long.prototype.toString.call(W.timeUnixNano):Q.longs===Number?new T.LongBits(W.timeUnixNano.low>>>0,W.timeUnixNano.high>>>0).toNumber():W.timeUnixNano;if(W.count!=null&&W.hasOwnProperty("count"))if(typeof W.count==="number")G.count=Q.longs===String?String(W.count):W.count;else G.count=Q.longs===String?T.Long.prototype.toString.call(W.count):Q.longs===Number?new T.LongBits(W.count.low>>>0,W.count.high>>>0).toNumber():W.count;if(W.sum!=null&&W.hasOwnProperty("sum"))G.sum=Q.json&&!isFinite(W.sum)?String(W.sum):W.sum;if(W.quantileValues&&W.quantileValues.length){G.quantileValues=[];for(var q=0;q<W.quantileValues.length;++q)G.quantileValues[q]=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(W.quantileValues[q],Q)}if(W.attributes&&W.attributes.length){G.attributes=[];for(var q=0;q<W.attributes.length;++q)G.attributes[q]=E.opentelemetry.proto.common.v1.KeyValue.toObject(W.attributes[q],Q)}if(W.flags!=null&&W.hasOwnProperty("flags"))G.flags=W.flags;return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},$.ValueAtQuantile=function(){function z(W){if(W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}return z.prototype.quantile=null,z.prototype.value=null,z.create=function W(Q){return new z(Q)},z.encode=function W(Q,G){if(!G)G=V6.create();if(Q.quantile!=null&&Object.hasOwnProperty.call(Q,"quantile"))G.uint32(9).double(Q.quantile);if(Q.value!=null&&Object.hasOwnProperty.call(Q,"value"))G.uint32(17).double(Q.value);return G},z.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},z.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 1:{q.quantile=Q.double();break}case 2:{q.value=Q.double();break}default:Q.skipType(H&7);break}}return q},z.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},z.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.quantile!=null&&Q.hasOwnProperty("quantile")){if(typeof Q.quantile!=="number")return"quantile: number expected"}if(Q.value!=null&&Q.hasOwnProperty("value")){if(typeof Q.value!=="number")return"value: number expected"}return null},z.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return Q;var G=new E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;if(Q.quantile!=null)G.quantile=Number(Q.quantile);if(Q.value!=null)G.value=Number(Q.value);return G},z.toObject=function W(Q,G){if(!G)G={};var K={};if(G.defaults)K.quantile=0,K.value=0;if(Q.quantile!=null&&Q.hasOwnProperty("quantile"))K.quantile=G.json&&!isFinite(Q.quantile)?String(Q.quantile):Q.quantile;if(Q.value!=null&&Q.hasOwnProperty("value"))K.value=G.json&&!isFinite(Q.value)?String(Q.value):Q.value;return K},z.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},z.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},z}(),$}(),Y.Exemplar=function(){function $(W){if(this.filteredAttributes=[],W){for(var Q=Object.keys(W),G=0;G<Q.length;++G)if(W[Q[G]]!=null)this[Q[G]]=W[Q[G]]}}$.prototype.filteredAttributes=T.emptyArray,$.prototype.timeUnixNano=null,$.prototype.asDouble=null,$.prototype.asInt=null,$.prototype.spanId=null,$.prototype.traceId=null;var z;return Object.defineProperty($.prototype,"value",{get:T.oneOfGetter(z=["asDouble","asInt"]),set:T.oneOfSetter(z)}),$.create=function W(Q){return new $(Q)},$.encode=function W(Q,G){if(!G)G=V6.create();if(Q.timeUnixNano!=null&&Object.hasOwnProperty.call(Q,"timeUnixNano"))G.uint32(17).fixed64(Q.timeUnixNano);if(Q.asDouble!=null&&Object.hasOwnProperty.call(Q,"asDouble"))G.uint32(25).double(Q.asDouble);if(Q.spanId!=null&&Object.hasOwnProperty.call(Q,"spanId"))G.uint32(34).bytes(Q.spanId);if(Q.traceId!=null&&Object.hasOwnProperty.call(Q,"traceId"))G.uint32(42).bytes(Q.traceId);if(Q.asInt!=null&&Object.hasOwnProperty.call(Q,"asInt"))G.uint32(49).sfixed64(Q.asInt);if(Q.filteredAttributes!=null&&Q.filteredAttributes.length)for(var K=0;K<Q.filteredAttributes.length;++K)E.opentelemetry.proto.common.v1.KeyValue.encode(Q.filteredAttributes[K],G.uint32(58).fork()).ldelim();return G},$.encodeDelimited=function W(Q,G){return this.encode(Q,G).ldelim()},$.decode=function W(Q,G){if(!(Q instanceof W1))Q=W1.create(Q);var K=G===void 0?Q.len:Q.pos+G,q=new E.opentelemetry.proto.metrics.v1.Exemplar;while(Q.pos<K){var H=Q.uint32();switch(H>>>3){case 7:{if(!(q.filteredAttributes&&q.filteredAttributes.length))q.filteredAttributes=[];q.filteredAttributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(Q,Q.uint32()));break}case 2:{q.timeUnixNano=Q.fixed64();break}case 3:{q.asDouble=Q.double();break}case 6:{q.asInt=Q.sfixed64();break}case 4:{q.spanId=Q.bytes();break}case 5:{q.traceId=Q.bytes();break}default:Q.skipType(H&7);break}}return q},$.decodeDelimited=function W(Q){if(!(Q instanceof W1))Q=new W1(Q);return this.decode(Q,Q.uint32())},$.verify=function W(Q){if(typeof Q!=="object"||Q===null)return"object expected";var G={};if(Q.filteredAttributes!=null&&Q.hasOwnProperty("filteredAttributes")){if(!Array.isArray(Q.filteredAttributes))return"filteredAttributes: array expected";for(var K=0;K<Q.filteredAttributes.length;++K){var q=E.opentelemetry.proto.common.v1.KeyValue.verify(Q.filteredAttributes[K]);if(q)return"filteredAttributes."+q}}if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano")){if(!T.isInteger(Q.timeUnixNano)&&!(Q.timeUnixNano&&T.isInteger(Q.timeUnixNano.low)&&T.isInteger(Q.timeUnixNano.high)))return"timeUnixNano: integer|Long expected"}if(Q.asDouble!=null&&Q.hasOwnProperty("asDouble")){if(G.value=1,typeof Q.asDouble!=="number")return"asDouble: number expected"}if(Q.asInt!=null&&Q.hasOwnProperty("asInt")){if(G.value===1)return"value: multiple values";if(G.value=1,!T.isInteger(Q.asInt)&&!(Q.asInt&&T.isInteger(Q.asInt.low)&&T.isInteger(Q.asInt.high)))return"asInt: integer|Long expected"}if(Q.spanId!=null&&Q.hasOwnProperty("spanId")){if(!(Q.spanId&&typeof Q.spanId.length==="number"||T.isString(Q.spanId)))return"spanId: buffer expected"}if(Q.traceId!=null&&Q.hasOwnProperty("traceId")){if(!(Q.traceId&&typeof Q.traceId.length==="number"||T.isString(Q.traceId)))return"traceId: buffer expected"}return null},$.fromObject=function W(Q){if(Q instanceof E.opentelemetry.proto.metrics.v1.Exemplar)return Q;var G=new E.opentelemetry.proto.metrics.v1.Exemplar;if(Q.filteredAttributes){if(!Array.isArray(Q.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");G.filteredAttributes=[];for(var K=0;K<Q.filteredAttributes.length;++K){if(typeof Q.filteredAttributes[K]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");G.filteredAttributes[K]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(Q.filteredAttributes[K])}}if(Q.timeUnixNano!=null){if(T.Long)(G.timeUnixNano=T.Long.fromValue(Q.timeUnixNano)).unsigned=!1;else if(typeof Q.timeUnixNano==="string")G.timeUnixNano=parseInt(Q.timeUnixNano,10);else if(typeof Q.timeUnixNano==="number")G.timeUnixNano=Q.timeUnixNano;else if(typeof Q.timeUnixNano==="object")G.timeUnixNano=new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber()}if(Q.asDouble!=null)G.asDouble=Number(Q.asDouble);if(Q.asInt!=null){if(T.Long)(G.asInt=T.Long.fromValue(Q.asInt)).unsigned=!1;else if(typeof Q.asInt==="string")G.asInt=parseInt(Q.asInt,10);else if(typeof Q.asInt==="number")G.asInt=Q.asInt;else if(typeof Q.asInt==="object")G.asInt=new T.LongBits(Q.asInt.low>>>0,Q.asInt.high>>>0).toNumber()}if(Q.spanId!=null){if(typeof Q.spanId==="string")T.base64.decode(Q.spanId,G.spanId=T.newBuffer(T.base64.length(Q.spanId)),0);else if(Q.spanId.length>=0)G.spanId=Q.spanId}if(Q.traceId!=null){if(typeof Q.traceId==="string")T.base64.decode(Q.traceId,G.traceId=T.newBuffer(T.base64.length(Q.traceId)),0);else if(Q.traceId.length>=0)G.traceId=Q.traceId}return G},$.toObject=function W(Q,G){if(!G)G={};var K={};if(G.arrays||G.defaults)K.filteredAttributes=[];if(G.defaults){if(T.Long){var q=new T.Long(0,0,!1);K.timeUnixNano=G.longs===String?q.toString():G.longs===Number?q.toNumber():q}else K.timeUnixNano=G.longs===String?"0":0;if(G.bytes===String)K.spanId="";else if(K.spanId=[],G.bytes!==Array)K.spanId=T.newBuffer(K.spanId);if(G.bytes===String)K.traceId="";else if(K.traceId=[],G.bytes!==Array)K.traceId=T.newBuffer(K.traceId)}if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano"))if(typeof Q.timeUnixNano==="number")K.timeUnixNano=G.longs===String?String(Q.timeUnixNano):Q.timeUnixNano;else K.timeUnixNano=G.longs===String?T.Long.prototype.toString.call(Q.timeUnixNano):G.longs===Number?new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber():Q.timeUnixNano;if(Q.asDouble!=null&&Q.hasOwnProperty("asDouble")){if(K.asDouble=G.json&&!isFinite(Q.asDouble)?String(Q.asDouble):Q.asDouble,G.oneofs)K.value="asDouble"}if(Q.spanId!=null&&Q.hasOwnProperty("spanId"))K.spanId=G.bytes===String?T.base64.encode(Q.spanId,0,Q.spanId.length):G.bytes===Array?Array.prototype.slice.call(Q.spanId):Q.spanId;if(Q.traceId!=null&&Q.hasOwnProperty("traceId"))K.traceId=G.bytes===String?T.base64.encode(Q.traceId,0,Q.traceId.length):G.bytes===Array?Array.prototype.slice.call(Q.traceId):Q.traceId;if(Q.asInt!=null&&Q.hasOwnProperty("asInt")){if(typeof Q.asInt==="number")K.asInt=G.longs===String?String(Q.asInt):Q.asInt;else K.asInt=G.longs===String?T.Long.prototype.toString.call(Q.asInt):G.longs===Number?new T.LongBits(Q.asInt.low>>>0,Q.asInt.high>>>0).toNumber():Q.asInt;if(G.oneofs)K.value="asInt"}if(Q.filteredAttributes&&Q.filteredAttributes.length){K.filteredAttributes=[];for(var H=0;H<Q.filteredAttributes.length;++H)K.filteredAttributes[H]=E.opentelemetry.proto.common.v1.KeyValue.toObject(Q.filteredAttributes[H],G)}return K},$.prototype.toJSON=function W(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function W(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.metrics.v1.Exemplar"},$}(),Y}(),X}(),Z.logs=function(){var X={};return X.v1=function(){var Y={};return Y.LogsData=function(){function $(z){if(this.resourceLogs=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.resourceLogs=T.emptyArray,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.resourceLogs!=null&&W.resourceLogs.length)for(var G=0;G<W.resourceLogs.length;++G)E.opentelemetry.proto.logs.v1.ResourceLogs.encode(W.resourceLogs[G],Q.uint32(10).fork()).ldelim();return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.logs.v1.LogsData;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{if(!(K.resourceLogs&&K.resourceLogs.length))K.resourceLogs=[];K.resourceLogs.push(E.opentelemetry.proto.logs.v1.ResourceLogs.decode(W,W.uint32()));break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.resourceLogs!=null&&W.hasOwnProperty("resourceLogs")){if(!Array.isArray(W.resourceLogs))return"resourceLogs: array expected";for(var Q=0;Q<W.resourceLogs.length;++Q){var G=E.opentelemetry.proto.logs.v1.ResourceLogs.verify(W.resourceLogs[Q]);if(G)return"resourceLogs."+G}}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.logs.v1.LogsData)return W;var Q=new E.opentelemetry.proto.logs.v1.LogsData;if(W.resourceLogs){if(!Array.isArray(W.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");Q.resourceLogs=[];for(var G=0;G<W.resourceLogs.length;++G){if(typeof W.resourceLogs[G]!=="object")throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");Q.resourceLogs[G]=E.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(W.resourceLogs[G])}}return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.resourceLogs=[];if(W.resourceLogs&&W.resourceLogs.length){G.resourceLogs=[];for(var K=0;K<W.resourceLogs.length;++K)G.resourceLogs[K]=E.opentelemetry.proto.logs.v1.ResourceLogs.toObject(W.resourceLogs[K],Q)}return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.logs.v1.LogsData"},$}(),Y.ResourceLogs=function(){function $(z){if(this.scopeLogs=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.resource=null,$.prototype.scopeLogs=T.emptyArray,$.prototype.schemaUrl=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.resource!=null&&Object.hasOwnProperty.call(W,"resource"))E.opentelemetry.proto.resource.v1.Resource.encode(W.resource,Q.uint32(10).fork()).ldelim();if(W.scopeLogs!=null&&W.scopeLogs.length)for(var G=0;G<W.scopeLogs.length;++G)E.opentelemetry.proto.logs.v1.ScopeLogs.encode(W.scopeLogs[G],Q.uint32(18).fork()).ldelim();if(W.schemaUrl!=null&&Object.hasOwnProperty.call(W,"schemaUrl"))Q.uint32(26).string(W.schemaUrl);return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.logs.v1.ResourceLogs;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{K.resource=E.opentelemetry.proto.resource.v1.Resource.decode(W,W.uint32());break}case 2:{if(!(K.scopeLogs&&K.scopeLogs.length))K.scopeLogs=[];K.scopeLogs.push(E.opentelemetry.proto.logs.v1.ScopeLogs.decode(W,W.uint32()));break}case 3:{K.schemaUrl=W.string();break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.resource!=null&&W.hasOwnProperty("resource")){var Q=E.opentelemetry.proto.resource.v1.Resource.verify(W.resource);if(Q)return"resource."+Q}if(W.scopeLogs!=null&&W.hasOwnProperty("scopeLogs")){if(!Array.isArray(W.scopeLogs))return"scopeLogs: array expected";for(var G=0;G<W.scopeLogs.length;++G){var Q=E.opentelemetry.proto.logs.v1.ScopeLogs.verify(W.scopeLogs[G]);if(Q)return"scopeLogs."+Q}}if(W.schemaUrl!=null&&W.hasOwnProperty("schemaUrl")){if(!T.isString(W.schemaUrl))return"schemaUrl: string expected"}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.logs.v1.ResourceLogs)return W;var Q=new E.opentelemetry.proto.logs.v1.ResourceLogs;if(W.resource!=null){if(typeof W.resource!=="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");Q.resource=E.opentelemetry.proto.resource.v1.Resource.fromObject(W.resource)}if(W.scopeLogs){if(!Array.isArray(W.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");Q.scopeLogs=[];for(var G=0;G<W.scopeLogs.length;++G){if(typeof W.scopeLogs[G]!=="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");Q.scopeLogs[G]=E.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(W.scopeLogs[G])}}if(W.schemaUrl!=null)Q.schemaUrl=String(W.schemaUrl);return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.scopeLogs=[];if(Q.defaults)G.resource=null,G.schemaUrl="";if(W.resource!=null&&W.hasOwnProperty("resource"))G.resource=E.opentelemetry.proto.resource.v1.Resource.toObject(W.resource,Q);if(W.scopeLogs&&W.scopeLogs.length){G.scopeLogs=[];for(var K=0;K<W.scopeLogs.length;++K)G.scopeLogs[K]=E.opentelemetry.proto.logs.v1.ScopeLogs.toObject(W.scopeLogs[K],Q)}if(W.schemaUrl!=null&&W.hasOwnProperty("schemaUrl"))G.schemaUrl=W.schemaUrl;return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.logs.v1.ResourceLogs"},$}(),Y.ScopeLogs=function(){function $(z){if(this.logRecords=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.scope=null,$.prototype.logRecords=T.emptyArray,$.prototype.schemaUrl=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.scope!=null&&Object.hasOwnProperty.call(W,"scope"))E.opentelemetry.proto.common.v1.InstrumentationScope.encode(W.scope,Q.uint32(10).fork()).ldelim();if(W.logRecords!=null&&W.logRecords.length)for(var G=0;G<W.logRecords.length;++G)E.opentelemetry.proto.logs.v1.LogRecord.encode(W.logRecords[G],Q.uint32(18).fork()).ldelim();if(W.schemaUrl!=null&&Object.hasOwnProperty.call(W,"schemaUrl"))Q.uint32(26).string(W.schemaUrl);return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.logs.v1.ScopeLogs;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{K.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.decode(W,W.uint32());break}case 2:{if(!(K.logRecords&&K.logRecords.length))K.logRecords=[];K.logRecords.push(E.opentelemetry.proto.logs.v1.LogRecord.decode(W,W.uint32()));break}case 3:{K.schemaUrl=W.string();break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.scope!=null&&W.hasOwnProperty("scope")){var Q=E.opentelemetry.proto.common.v1.InstrumentationScope.verify(W.scope);if(Q)return"scope."+Q}if(W.logRecords!=null&&W.hasOwnProperty("logRecords")){if(!Array.isArray(W.logRecords))return"logRecords: array expected";for(var G=0;G<W.logRecords.length;++G){var Q=E.opentelemetry.proto.logs.v1.LogRecord.verify(W.logRecords[G]);if(Q)return"logRecords."+Q}}if(W.schemaUrl!=null&&W.hasOwnProperty("schemaUrl")){if(!T.isString(W.schemaUrl))return"schemaUrl: string expected"}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.logs.v1.ScopeLogs)return W;var Q=new E.opentelemetry.proto.logs.v1.ScopeLogs;if(W.scope!=null){if(typeof W.scope!=="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");Q.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(W.scope)}if(W.logRecords){if(!Array.isArray(W.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");Q.logRecords=[];for(var G=0;G<W.logRecords.length;++G){if(typeof W.logRecords[G]!=="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");Q.logRecords[G]=E.opentelemetry.proto.logs.v1.LogRecord.fromObject(W.logRecords[G])}}if(W.schemaUrl!=null)Q.schemaUrl=String(W.schemaUrl);return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.logRecords=[];if(Q.defaults)G.scope=null,G.schemaUrl="";if(W.scope!=null&&W.hasOwnProperty("scope"))G.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.toObject(W.scope,Q);if(W.logRecords&&W.logRecords.length){G.logRecords=[];for(var K=0;K<W.logRecords.length;++K)G.logRecords[K]=E.opentelemetry.proto.logs.v1.LogRecord.toObject(W.logRecords[K],Q)}if(W.schemaUrl!=null&&W.hasOwnProperty("schemaUrl"))G.schemaUrl=W.schemaUrl;return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.logs.v1.ScopeLogs"},$}(),Y.SeverityNumber=function(){var $={},z=Object.create($);return z[$[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,z[$[1]="SEVERITY_NUMBER_TRACE"]=1,z[$[2]="SEVERITY_NUMBER_TRACE2"]=2,z[$[3]="SEVERITY_NUMBER_TRACE3"]=3,z[$[4]="SEVERITY_NUMBER_TRACE4"]=4,z[$[5]="SEVERITY_NUMBER_DEBUG"]=5,z[$[6]="SEVERITY_NUMBER_DEBUG2"]=6,z[$[7]="SEVERITY_NUMBER_DEBUG3"]=7,z[$[8]="SEVERITY_NUMBER_DEBUG4"]=8,z[$[9]="SEVERITY_NUMBER_INFO"]=9,z[$[10]="SEVERITY_NUMBER_INFO2"]=10,z[$[11]="SEVERITY_NUMBER_INFO3"]=11,z[$[12]="SEVERITY_NUMBER_INFO4"]=12,z[$[13]="SEVERITY_NUMBER_WARN"]=13,z[$[14]="SEVERITY_NUMBER_WARN2"]=14,z[$[15]="SEVERITY_NUMBER_WARN3"]=15,z[$[16]="SEVERITY_NUMBER_WARN4"]=16,z[$[17]="SEVERITY_NUMBER_ERROR"]=17,z[$[18]="SEVERITY_NUMBER_ERROR2"]=18,z[$[19]="SEVERITY_NUMBER_ERROR3"]=19,z[$[20]="SEVERITY_NUMBER_ERROR4"]=20,z[$[21]="SEVERITY_NUMBER_FATAL"]=21,z[$[22]="SEVERITY_NUMBER_FATAL2"]=22,z[$[23]="SEVERITY_NUMBER_FATAL3"]=23,z[$[24]="SEVERITY_NUMBER_FATAL4"]=24,z}(),Y.LogRecordFlags=function(){var $={},z=Object.create($);return z[$[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,z[$[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,z}(),Y.LogRecord=function(){function $(z){if(this.attributes=[],z){for(var W=Object.keys(z),Q=0;Q<W.length;++Q)if(z[W[Q]]!=null)this[W[Q]]=z[W[Q]]}}return $.prototype.timeUnixNano=null,$.prototype.observedTimeUnixNano=null,$.prototype.severityNumber=null,$.prototype.severityText=null,$.prototype.body=null,$.prototype.attributes=T.emptyArray,$.prototype.droppedAttributesCount=null,$.prototype.flags=null,$.prototype.traceId=null,$.prototype.spanId=null,$.create=function z(W){return new $(W)},$.encode=function z(W,Q){if(!Q)Q=V6.create();if(W.timeUnixNano!=null&&Object.hasOwnProperty.call(W,"timeUnixNano"))Q.uint32(9).fixed64(W.timeUnixNano);if(W.severityNumber!=null&&Object.hasOwnProperty.call(W,"severityNumber"))Q.uint32(16).int32(W.severityNumber);if(W.severityText!=null&&Object.hasOwnProperty.call(W,"severityText"))Q.uint32(26).string(W.severityText);if(W.body!=null&&Object.hasOwnProperty.call(W,"body"))E.opentelemetry.proto.common.v1.AnyValue.encode(W.body,Q.uint32(42).fork()).ldelim();if(W.attributes!=null&&W.attributes.length)for(var G=0;G<W.attributes.length;++G)E.opentelemetry.proto.common.v1.KeyValue.encode(W.attributes[G],Q.uint32(50).fork()).ldelim();if(W.droppedAttributesCount!=null&&Object.hasOwnProperty.call(W,"droppedAttributesCount"))Q.uint32(56).uint32(W.droppedAttributesCount);if(W.flags!=null&&Object.hasOwnProperty.call(W,"flags"))Q.uint32(69).fixed32(W.flags);if(W.traceId!=null&&Object.hasOwnProperty.call(W,"traceId"))Q.uint32(74).bytes(W.traceId);if(W.spanId!=null&&Object.hasOwnProperty.call(W,"spanId"))Q.uint32(82).bytes(W.spanId);if(W.observedTimeUnixNano!=null&&Object.hasOwnProperty.call(W,"observedTimeUnixNano"))Q.uint32(89).fixed64(W.observedTimeUnixNano);return Q},$.encodeDelimited=function z(W,Q){return this.encode(W,Q).ldelim()},$.decode=function z(W,Q){if(!(W instanceof W1))W=W1.create(W);var G=Q===void 0?W.len:W.pos+Q,K=new E.opentelemetry.proto.logs.v1.LogRecord;while(W.pos<G){var q=W.uint32();switch(q>>>3){case 1:{K.timeUnixNano=W.fixed64();break}case 11:{K.observedTimeUnixNano=W.fixed64();break}case 2:{K.severityNumber=W.int32();break}case 3:{K.severityText=W.string();break}case 5:{K.body=E.opentelemetry.proto.common.v1.AnyValue.decode(W,W.uint32());break}case 6:{if(!(K.attributes&&K.attributes.length))K.attributes=[];K.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(W,W.uint32()));break}case 7:{K.droppedAttributesCount=W.uint32();break}case 8:{K.flags=W.fixed32();break}case 9:{K.traceId=W.bytes();break}case 10:{K.spanId=W.bytes();break}default:W.skipType(q&7);break}}return K},$.decodeDelimited=function z(W){if(!(W instanceof W1))W=new W1(W);return this.decode(W,W.uint32())},$.verify=function z(W){if(typeof W!=="object"||W===null)return"object expected";if(W.timeUnixNano!=null&&W.hasOwnProperty("timeUnixNano")){if(!T.isInteger(W.timeUnixNano)&&!(W.timeUnixNano&&T.isInteger(W.timeUnixNano.low)&&T.isInteger(W.timeUnixNano.high)))return"timeUnixNano: integer|Long expected"}if(W.observedTimeUnixNano!=null&&W.hasOwnProperty("observedTimeUnixNano")){if(!T.isInteger(W.observedTimeUnixNano)&&!(W.observedTimeUnixNano&&T.isInteger(W.observedTimeUnixNano.low)&&T.isInteger(W.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected"}if(W.severityNumber!=null&&W.hasOwnProperty("severityNumber"))switch(W.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:break}if(W.severityText!=null&&W.hasOwnProperty("severityText")){if(!T.isString(W.severityText))return"severityText: string expected"}if(W.body!=null&&W.hasOwnProperty("body")){var Q=E.opentelemetry.proto.common.v1.AnyValue.verify(W.body);if(Q)return"body."+Q}if(W.attributes!=null&&W.hasOwnProperty("attributes")){if(!Array.isArray(W.attributes))return"attributes: array expected";for(var G=0;G<W.attributes.length;++G){var Q=E.opentelemetry.proto.common.v1.KeyValue.verify(W.attributes[G]);if(Q)return"attributes."+Q}}if(W.droppedAttributesCount!=null&&W.hasOwnProperty("droppedAttributesCount")){if(!T.isInteger(W.droppedAttributesCount))return"droppedAttributesCount: integer expected"}if(W.flags!=null&&W.hasOwnProperty("flags")){if(!T.isInteger(W.flags))return"flags: integer expected"}if(W.traceId!=null&&W.hasOwnProperty("traceId")){if(!(W.traceId&&typeof W.traceId.length==="number"||T.isString(W.traceId)))return"traceId: buffer expected"}if(W.spanId!=null&&W.hasOwnProperty("spanId")){if(!(W.spanId&&typeof W.spanId.length==="number"||T.isString(W.spanId)))return"spanId: buffer expected"}return null},$.fromObject=function z(W){if(W instanceof E.opentelemetry.proto.logs.v1.LogRecord)return W;var Q=new E.opentelemetry.proto.logs.v1.LogRecord;if(W.timeUnixNano!=null){if(T.Long)(Q.timeUnixNano=T.Long.fromValue(W.timeUnixNano)).unsigned=!1;else if(typeof W.timeUnixNano==="string")Q.timeUnixNano=parseInt(W.timeUnixNano,10);else if(typeof W.timeUnixNano==="number")Q.timeUnixNano=W.timeUnixNano;else if(typeof W.timeUnixNano==="object")Q.timeUnixNano=new T.LongBits(W.timeUnixNano.low>>>0,W.timeUnixNano.high>>>0).toNumber()}if(W.observedTimeUnixNano!=null){if(T.Long)(Q.observedTimeUnixNano=T.Long.fromValue(W.observedTimeUnixNano)).unsigned=!1;else if(typeof W.observedTimeUnixNano==="string")Q.observedTimeUnixNano=parseInt(W.observedTimeUnixNano,10);else if(typeof W.observedTimeUnixNano==="number")Q.observedTimeUnixNano=W.observedTimeUnixNano;else if(typeof W.observedTimeUnixNano==="object")Q.observedTimeUnixNano=new T.LongBits(W.observedTimeUnixNano.low>>>0,W.observedTimeUnixNano.high>>>0).toNumber()}switch(W.severityNumber){default:if(typeof W.severityNumber==="number"){Q.severityNumber=W.severityNumber;break}break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:Q.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:Q.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:Q.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:Q.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:Q.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:Q.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:Q.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:Q.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:Q.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:Q.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:Q.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:Q.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:Q.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:Q.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:Q.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:Q.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:Q.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:Q.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:Q.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:Q.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:Q.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:Q.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:Q.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:Q.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:Q.severityNumber=24;break}if(W.severityText!=null)Q.severityText=String(W.severityText);if(W.body!=null){if(typeof W.body!=="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");Q.body=E.opentelemetry.proto.common.v1.AnyValue.fromObject(W.body)}if(W.attributes){if(!Array.isArray(W.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");Q.attributes=[];for(var G=0;G<W.attributes.length;++G){if(typeof W.attributes[G]!=="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");Q.attributes[G]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(W.attributes[G])}}if(W.droppedAttributesCount!=null)Q.droppedAttributesCount=W.droppedAttributesCount>>>0;if(W.flags!=null)Q.flags=W.flags>>>0;if(W.traceId!=null){if(typeof W.traceId==="string")T.base64.decode(W.traceId,Q.traceId=T.newBuffer(T.base64.length(W.traceId)),0);else if(W.traceId.length>=0)Q.traceId=W.traceId}if(W.spanId!=null){if(typeof W.spanId==="string")T.base64.decode(W.spanId,Q.spanId=T.newBuffer(T.base64.length(W.spanId)),0);else if(W.spanId.length>=0)Q.spanId=W.spanId}return Q},$.toObject=function z(W,Q){if(!Q)Q={};var G={};if(Q.arrays||Q.defaults)G.attributes=[];if(Q.defaults){if(T.Long){var K=new T.Long(0,0,!1);G.timeUnixNano=Q.longs===String?K.toString():Q.longs===Number?K.toNumber():K}else G.timeUnixNano=Q.longs===String?"0":0;if(G.severityNumber=Q.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,G.severityText="",G.body=null,G.droppedAttributesCount=0,G.flags=0,Q.bytes===String)G.traceId="";else if(G.traceId=[],Q.bytes!==Array)G.traceId=T.newBuffer(G.traceId);if(Q.bytes===String)G.spanId="";else if(G.spanId=[],Q.bytes!==Array)G.spanId=T.newBuffer(G.spanId);if(T.Long){var K=new T.Long(0,0,!1);G.observedTimeUnixNano=Q.longs===String?K.toString():Q.longs===Number?K.toNumber():K}else G.observedTimeUnixNano=Q.longs===String?"0":0}if(W.timeUnixNano!=null&&W.hasOwnProperty("timeUnixNano"))if(typeof W.timeUnixNano==="number")G.timeUnixNano=Q.longs===String?String(W.timeUnixNano):W.timeUnixNano;else G.timeUnixNano=Q.longs===String?T.Long.prototype.toString.call(W.timeUnixNano):Q.longs===Number?new T.LongBits(W.timeUnixNano.low>>>0,W.timeUnixNano.high>>>0).toNumber():W.timeUnixNano;if(W.severityNumber!=null&&W.hasOwnProperty("severityNumber"))G.severityNumber=Q.enums===String?E.opentelemetry.proto.logs.v1.SeverityNumber[W.severityNumber]===void 0?W.severityNumber:E.opentelemetry.proto.logs.v1.SeverityNumber[W.severityNumber]:W.severityNumber;if(W.severityText!=null&&W.hasOwnProperty("severityText"))G.severityText=W.severityText;if(W.body!=null&&W.hasOwnProperty("body"))G.body=E.opentelemetry.proto.common.v1.AnyValue.toObject(W.body,Q);if(W.attributes&&W.attributes.length){G.attributes=[];for(var q=0;q<W.attributes.length;++q)G.attributes[q]=E.opentelemetry.proto.common.v1.KeyValue.toObject(W.attributes[q],Q)}if(W.droppedAttributesCount!=null&&W.hasOwnProperty("droppedAttributesCount"))G.droppedAttributesCount=W.droppedAttributesCount;if(W.flags!=null&&W.hasOwnProperty("flags"))G.flags=W.flags;if(W.traceId!=null&&W.hasOwnProperty("traceId"))G.traceId=Q.bytes===String?T.base64.encode(W.traceId,0,W.traceId.length):Q.bytes===Array?Array.prototype.slice.call(W.traceId):W.traceId;if(W.spanId!=null&&W.hasOwnProperty("spanId"))G.spanId=Q.bytes===String?T.base64.encode(W.spanId,0,W.spanId.length):Q.bytes===Array?Array.prototype.slice.call(W.spanId):W.spanId;if(W.observedTimeUnixNano!=null&&W.hasOwnProperty("observedTimeUnixNano"))if(typeof W.observedTimeUnixNano==="number")G.observedTimeUnixNano=Q.longs===String?String(W.observedTimeUnixNano):W.observedTimeUnixNano;else G.observedTimeUnixNano=Q.longs===String?T.Long.prototype.toString.call(W.observedTimeUnixNano):Q.longs===Number?new T.LongBits(W.observedTimeUnixNano.low>>>0,W.observedTimeUnixNano.high>>>0).toNumber():W.observedTimeUnixNano;return G},$.prototype.toJSON=function z(){return this.constructor.toObject(this,U0.util.toJSONOptions)},$.getTypeUrl=function z(W){if(W===void 0)W="type.googleapis.com";return W+"/opentelemetry.proto.logs.v1.LogRecord"},$}(),Y}(),X}(),Z}(),J}();PC6.exports=E});var nj=B((LC6)=>{Object.defineProperty(LC6,"__esModule",{value:!0});LC6.isTracingSuppressed=LC6.unsuppressTracing=LC6.suppressTracing=void 0;var Zq5=C(),qB1=(0,Zq5.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Xq5(J){return J.setValue(qB1,!0)}LC6.suppressTracing=Xq5;function Yq5(J){return J.deleteValue(qB1)}LC6.unsuppressTracing=Yq5;function $q5(J){return J.getValue(qB1)===!0}LC6.isTracingSuppressed=$q5});var BB1=B((jC6)=>{Object.defineProperty(jC6,"__esModule",{value:!0});jC6.BAGGAGE_MAX_TOTAL_LENGTH=jC6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=jC6.BAGGAGE_MAX_NAME_VALUE_PAIRS=jC6.BAGGAGE_HEADER=jC6.BAGGAGE_ITEMS_SEPARATOR=jC6.BAGGAGE_PROPERTIES_SEPARATOR=jC6.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;jC6.BAGGAGE_KEY_PAIR_SEPARATOR="=";jC6.BAGGAGE_PROPERTIES_SEPARATOR=";";jC6.BAGGAGE_ITEMS_SEPARATOR=",";jC6.BAGGAGE_HEADER="baggage";jC6.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;jC6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;jC6.BAGGAGE_MAX_TOTAL_LENGTH=8192});var HB1=B((SC6)=>{Object.defineProperty(SC6,"__esModule",{value:!0});SC6.parseKeyPairsIntoRecord=SC6.parsePairKeyValue=SC6.getKeyPairs=SC6.serializeKeyPairs=void 0;var Fq5=C(),lO=BB1();function Uq5(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?lO.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>lO.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}SC6.serializeKeyPairs=Uq5;function Oq5(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=lO.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}SC6.getKeyPairs=Oq5;function EC6(J){let Z=J.split(lO.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(lO.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,Fq5.baggageEntryMetadataFromString)(Z.join(lO.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}SC6.parsePairKeyValue=EC6;function Dq5(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(lO.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=EC6(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}SC6.parseKeyPairsIntoRecord=Dq5});var hC6=B((kC6)=>{Object.defineProperty(kC6,"__esModule",{value:!0});kC6.W3CBaggagePropagator=void 0;var FB1=C(),Aq5=nj(),pO=BB1(),UB1=HB1();class fC6{inject(J,Z,X){let Y=FB1.propagation.getBaggage(J);if(!Y||(0,Aq5.isTracingSuppressed)(J))return;let $=(0,UB1.getKeyPairs)(Y).filter((W)=>{return W.length<=pO.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,pO.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,UB1.serializeKeyPairs)($);if(z.length>0)X.set(Z,pO.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,pO.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(pO.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(pO.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,UB1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return FB1.propagation.setBaggage(J,FB1.propagation.createBaggage(z))}fields(){return[pO.BAGGAGE_HEADER]}}kC6.W3CBaggagePropagator=fC6});var xC6=B((yC6)=>{Object.defineProperty(yC6,"__esModule",{value:!0});yC6.AnchoredClock=void 0;class _C6{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}yC6.AnchoredClock=_C6});var pC6=B((cC6)=>{Object.defineProperty(cC6,"__esModule",{value:!0});cC6.isAttributeValue=cC6.isAttributeKey=cC6.sanitizeAttributes=void 0;var gC6=C();function Mq5(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!dC6(X)){gC6.diag.warn(`Invalid attribute key: ${X}`);continue}if(!uC6(Y)){gC6.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}cC6.sanitizeAttributes=Mq5;function dC6(J){return typeof J==="string"&&J.length>0}cC6.isAttributeKey=dC6;function uC6(J){if(J==null)return!0;if(Array.isArray(J))return Nq5(J);return mC6(J)}cC6.isAttributeValue=uC6;function Nq5(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(mC6(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function mC6(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var OB1=B((nC6)=>{Object.defineProperty(nC6,"__esModule",{value:!0});nC6.loggingErrorHandler=void 0;var Cq5=C();function jq5(){return(J)=>{Cq5.diag.error(Rq5(J))}}nC6.loggingErrorHandler=jq5;function Rq5(J){if(typeof J==="string")return J;else return JSON.stringify(Eq5(J))}function Eq5(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var rC6=B((sC6)=>{Object.defineProperty(sC6,"__esModule",{value:!0});sC6.globalErrorHandler=sC6.setGlobalErrorHandler=void 0;var Sq5=OB1(),oC6=(0,Sq5.loggingErrorHandler)();function Tq5(J){oC6=J}sC6.setGlobalErrorHandler=Tq5;function fq5(J){try{oC6(J)}catch{}}sC6.globalErrorHandler=fq5});var Y26=B((Z26)=>{Object.defineProperty(Z26,"__esModule",{value:!0});Z26.getStringListFromEnv=Z26.getBooleanFromEnv=Z26.getStringFromEnv=Z26.getNumberFromEnv=void 0;var tC6=C(),eC6=p("util");function bq5(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){tC6.diag.warn(`Unknown value ${(0,eC6.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}Z26.getNumberFromEnv=bq5;function J26(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}Z26.getStringFromEnv=J26;function hq5(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return tC6.diag.warn(`Unknown value ${(0,eC6.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}Z26.getBooleanFromEnv=hq5;function _q5(J){return J26(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}Z26.getStringListFromEnv=_q5});var W26=B(($26)=>{Object.defineProperty($26,"__esModule",{value:!0});$26._globalThis=void 0;$26._globalThis=typeof globalThis==="object"?globalThis:global});var K26=B((Q26)=>{Object.defineProperty(Q26,"__esModule",{value:!0});Q26.otperformance=void 0;var gq5=p("perf_hooks");Q26.otperformance=gq5.performance});var H26=B((q26)=>{Object.defineProperty(q26,"__esModule",{value:!0});q26.VERSION=void 0;q26.VERSION="2.0.1"});var O26=B((F26)=>{Object.defineProperty(F26,"__esModule",{value:!0});F26.ATTR_PROCESS_RUNTIME_NAME=void 0;F26.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var I26=B((D26)=>{Object.defineProperty(D26,"__esModule",{value:!0});D26.SDK_INFO=void 0;var dq5=H26(),qc=j1(),uq5=O26();D26.SDK_INFO={[qc.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[uq5.ATTR_PROCESS_RUNTIME_NAME]:"node",[qc.ATTR_TELEMETRY_SDK_LANGUAGE]:qc.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[qc.ATTR_TELEMETRY_SDK_VERSION]:dq5.VERSION}});var M26=B((w26)=>{Object.defineProperty(w26,"__esModule",{value:!0});w26.unrefTimer=void 0;function mq5(J){J.unref()}w26.unrefTimer=mq5});var N26=B((GW)=>{Object.defineProperty(GW,"__esModule",{value:!0});GW.unrefTimer=GW.SDK_INFO=GW.otperformance=GW._globalThis=GW.getStringListFromEnv=GW.getNumberFromEnv=GW.getBooleanFromEnv=GW.getStringFromEnv=void 0;var Bc=Y26();Object.defineProperty(GW,"getStringFromEnv",{enumerable:!0,get:function(){return Bc.getStringFromEnv}});Object.defineProperty(GW,"getBooleanFromEnv",{enumerable:!0,get:function(){return Bc.getBooleanFromEnv}});Object.defineProperty(GW,"getNumberFromEnv",{enumerable:!0,get:function(){return Bc.getNumberFromEnv}});Object.defineProperty(GW,"getStringListFromEnv",{enumerable:!0,get:function(){return Bc.getStringListFromEnv}});var cq5=W26();Object.defineProperty(GW,"_globalThis",{enumerable:!0,get:function(){return cq5._globalThis}});var lq5=K26();Object.defineProperty(GW,"otperformance",{enumerable:!0,get:function(){return lq5.otperformance}});var pq5=I26();Object.defineProperty(GW,"SDK_INFO",{enumerable:!0,get:function(){return pq5.SDK_INFO}});var nq5=M26();Object.defineProperty(GW,"unrefTimer",{enumerable:!0,get:function(){return nq5.unrefTimer}})});var DB1=B((KW)=>{Object.defineProperty(KW,"__esModule",{value:!0});KW.getStringListFromEnv=KW.getNumberFromEnv=KW.getStringFromEnv=KW.getBooleanFromEnv=KW.unrefTimer=KW.otperformance=KW._globalThis=KW.SDK_INFO=void 0;var RB=N26();Object.defineProperty(KW,"SDK_INFO",{enumerable:!0,get:function(){return RB.SDK_INFO}});Object.defineProperty(KW,"_globalThis",{enumerable:!0,get:function(){return RB._globalThis}});Object.defineProperty(KW,"otperformance",{enumerable:!0,get:function(){return RB.otperformance}});Object.defineProperty(KW,"unrefTimer",{enumerable:!0,get:function(){return RB.unrefTimer}});Object.defineProperty(KW,"getBooleanFromEnv",{enumerable:!0,get:function(){return RB.getBooleanFromEnv}});Object.defineProperty(KW,"getStringFromEnv",{enumerable:!0,get:function(){return RB.getStringFromEnv}});Object.defineProperty(KW,"getNumberFromEnv",{enumerable:!0,get:function(){return RB.getNumberFromEnv}});Object.defineProperty(KW,"getStringListFromEnv",{enumerable:!0,get:function(){return RB.getStringListFromEnv}})});var E26=B((j26)=>{Object.defineProperty(j26,"__esModule",{value:!0});j26.addHrTimes=j26.isTimeInput=j26.isTimeInputHrTime=j26.hrTimeToMicroseconds=j26.hrTimeToMilliseconds=j26.hrTimeToNanoseconds=j26.hrTimeToTimeStamp=j26.hrTimeDuration=j26.timeInputToHrTime=j26.hrTime=j26.getTimeOrigin=j26.millisToHrTime=void 0;var VB1=DB1(),P26=9,sq5=6,aq5=Math.pow(10,sq5),Hc=Math.pow(10,P26);function ij(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*aq5);return[X,Y]}j26.millisToHrTime=ij;function IB1(){let J=VB1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=VB1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}j26.getTimeOrigin=IB1;function L26(J){let Z=ij(IB1()),X=ij(typeof J==="number"?J:VB1.otperformance.now());return C26(Z,X)}j26.hrTime=L26;function rq5(J){if(wB1(J))return J;else if(typeof J==="number")if(J<IB1())return L26(J);else return ij(J);else if(J instanceof Date)return ij(J.getTime());else throw TypeError("Invalid input type")}j26.timeInputToHrTime=rq5;function tq5(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=Hc;return[X,Y]}j26.hrTimeDuration=tq5;function eq5(J){let Z=P26,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}j26.hrTimeToTimeStamp=eq5;function JB5(J){return J[0]*Hc+J[1]}j26.hrTimeToNanoseconds=JB5;function ZB5(J){return J[0]*1000+J[1]/1e6}j26.hrTimeToMilliseconds=ZB5;function XB5(J){return J[0]*1e6+J[1]/1000}j26.hrTimeToMicroseconds=XB5;function wB1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}j26.isTimeInputHrTime=wB1;function YB5(J){return wB1(J)||typeof J==="number"||J instanceof Date}j26.isTimeInput=YB5;function C26(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=Hc)X[1]-=Hc,X[0]+=1;return X}j26.addHrTimes=C26});var T26=B((S26)=>{Object.defineProperty(S26,"__esModule",{value:!0});S26.ExportResultCode=void 0;var OB5;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(OB5=S26.ExportResultCode||(S26.ExportResultCode={}))});var _26=B((b26)=>{Object.defineProperty(b26,"__esModule",{value:!0});b26.CompositePropagator=void 0;var f26=C();class k26{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){f26.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){f26.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}b26.CompositePropagator=k26});var x26=B((y26)=>{Object.defineProperty(y26,"__esModule",{value:!0});y26.validateValue=y26.validateKey=void 0;var MB1="[_0-9a-z-*/]",DB5=`[a-z]${MB1}{0,255}`,VB5=`[a-z0-9]${MB1}{0,240}@[a-z]${MB1}{0,13}`,IB5=new RegExp(`^(?:${DB5}|${VB5})$`),wB5=/^[ -~]{0,255}[!-~]$/,AB5=/,|=/;function MB5(J){return IB5.test(J)}y26.validateKey=MB5;function NB5(J){return wB5.test(J)&&!AB5.test(J)}y26.validateValue=NB5});var PB1=B((c26)=>{Object.defineProperty(c26,"__esModule",{value:!0});c26.TraceState=void 0;var g26=x26(),d26=32,LB5=512,u26=",",m26="=";class NB1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+m26+this.get(Z)),J},[]).join(u26)}_parse(J){if(J.length>LB5)return;if(this._internalState=J.split(u26).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(m26);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,g26.validateKey)(z)&&(0,g26.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>d26)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,d26))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new NB1;return J._internalState=new Map(this._internalState),J}}c26.TraceState=NB1});var s26=B((i26)=>{Object.defineProperty(i26,"__esModule",{value:!0});i26.W3CTraceContextPropagator=i26.parseTraceParent=i26.TRACE_STATE_HEADER=i26.TRACE_PARENT_HEADER=void 0;var Fc=C(),CB5=nj(),jB5=PB1();i26.TRACE_PARENT_HEADER="traceparent";i26.TRACE_STATE_HEADER="tracestate";var RB5="00",EB5="(?!ff)[\\da-f]{2}",SB5="(?![0]{32})[\\da-f]{32}",TB5="(?![0]{16})[\\da-f]{16}",fB5="[\\da-f]{2}",kB5=new RegExp(`^\\s?(${EB5})-(${SB5})-(${TB5})-(${fB5})(-.*)?\\s?$`);function p26(J){let Z=kB5.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}i26.parseTraceParent=p26;class n26{inject(J,Z,X){let Y=Fc.trace.getSpanContext(J);if(!Y||(0,CB5.isTracingSuppressed)(J)||!(0,Fc.isSpanContextValid)(Y))return;let $=`${RB5}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||Fc.TraceFlags.NONE).toString(16)}`;if(X.set(Z,i26.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,i26.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,i26.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=p26($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,i26.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new jB5.TraceState(typeof Q==="string"?Q:void 0)}return Fc.trace.setSpanContext(J,z)}fields(){return[i26.TRACE_PARENT_HEADER,i26.TRACE_STATE_HEADER]}}i26.W3CTraceContextPropagator=n26});var e26=B((r26)=>{Object.defineProperty(r26,"__esModule",{value:!0});r26.getRPCMetadata=r26.deleteRPCMetadata=r26.setRPCMetadata=r26.RPCType=void 0;var hB5=C(),LB1=(0,hB5.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),_B5;(function(J){J.HTTP="http"})(_B5=r26.RPCType||(r26.RPCType={}));function yB5(J,Z){return J.setValue(LB1,Z)}r26.setRPCMetadata=yB5;function vB5(J){return J.deleteValue(LB1)}r26.deleteRPCMetadata=vB5;function xB5(J){return J.getValue(LB1)}r26.getRPCMetadata=xB5});var Wj6=B(($j6)=>{Object.defineProperty($j6,"__esModule",{value:!0});$j6.isPlainObject=void 0;var uB5="[object Object]",mB5="[object Null]",cB5="[object Undefined]",lB5=Function.prototype,Jj6=lB5.toString,pB5=Jj6.call(Object),nB5=Object.getPrototypeOf,Zj6=Object.prototype,Xj6=Zj6.hasOwnProperty,nO=Symbol?Symbol.toStringTag:void 0,Yj6=Zj6.toString;function iB5(J){if(!oB5(J)||sB5(J)!==uB5)return!1;let Z=nB5(J);if(Z===null)return!0;let X=Xj6.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&Jj6.call(X)===pB5}$j6.isPlainObject=iB5;function oB5(J){return J!=null&&typeof J=="object"}function sB5(J){if(J==null)return J===void 0?cB5:mB5;return nO&&nO in Object(J)?aB5(J):rB5(J)}function aB5(J){let Z=Xj6.call(J,nO),X=J[nO],Y=!1;try{J[nO]=void 0,Y=!0}catch(z){}let $=Yj6.call(J);if(Y)if(Z)J[nO]=X;else delete J[nO];return $}function rB5(J){return Yj6.call(J)}});var Fj6=B((Bj6)=>{Object.defineProperty(Bj6,"__esModule",{value:!0});Bj6.merge=void 0;var Qj6=Wj6(),tB5=20;function eB5(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=Kj6(Z,J.shift(),0,X);return Z}Bj6.merge=eB5;function CB1(J){if(Vc(J))return J.slice();return J}function Kj6(J,Z,X=0,Y){let $;if(X>tB5)return;if(X++,Dc(J)||Dc(Z)||qj6(Z))$=CB1(Z);else if(Vc(J)){if($=J.slice(),Vc(Z))for(let z=0,W=Z.length;z<W;z++)$.push(CB1(Z[z]));else if(oj(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=CB1(Z[G])}}}else if(oj(J))if(oj(Z)){if(!JH5(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(Dc(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(Gj6(J,G,Y)||Gj6(Z,G,Y))delete $[G];else{if(oj(q)&&oj(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=Kj6($[G],K,X,Y)}}}}else $=Z;return $}function Gj6(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function Vc(J){return Array.isArray(J)}function qj6(J){return typeof J==="function"}function oj(J){return!Dc(J)&&!Vc(J)&&!qj6(J)&&typeof J==="object"}function Dc(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function JH5(J,Z){if(!(0,Qj6.isPlainObject)(J)||!(0,Qj6.isPlainObject)(Z))return!1;return!0}});var Dj6=B((Uj6)=>{Object.defineProperty(Uj6,"__esModule",{value:!0});Uj6.callWithTimeout=Uj6.TimeoutError=void 0;class Ic extends Error{constructor(J){super(J);Object.setPrototypeOf(this,Ic.prototype)}}Uj6.TimeoutError=Ic;function ZH5(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new Ic("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}Uj6.callWithTimeout=ZH5});var Aj6=B((Ij6)=>{Object.defineProperty(Ij6,"__esModule",{value:!0});Ij6.isUrlIgnored=Ij6.urlMatches=void 0;function Vj6(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}Ij6.urlMatches=Vj6;function YH5(J,Z){if(!Z)return!1;for(let X of Z)if(Vj6(J,X))return!0;return!1}Ij6.isUrlIgnored=YH5});var Lj6=B((Nj6)=>{Object.defineProperty(Nj6,"__esModule",{value:!0});Nj6.Deferred=void 0;class Mj6{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}Nj6.Deferred=Mj6});var Ej6=B((jj6)=>{Object.defineProperty(jj6,"__esModule",{value:!0});jj6.BindOnceFuture=void 0;var zH5=Lj6();class Cj6{_callback;_that;_isCalled=!1;_deferred=new zH5.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}jj6.BindOnceFuture=Cj6});var kj6=B((Tj6)=>{Object.defineProperty(Tj6,"__esModule",{value:!0});Tj6.diagLogLevelFromString=void 0;var aG=C(),Sj6={ALL:aG.DiagLogLevel.ALL,VERBOSE:aG.DiagLogLevel.VERBOSE,DEBUG:aG.DiagLogLevel.DEBUG,INFO:aG.DiagLogLevel.INFO,WARN:aG.DiagLogLevel.WARN,ERROR:aG.DiagLogLevel.ERROR,NONE:aG.DiagLogLevel.NONE};function WH5(J){if(J==null)return;let Z=Sj6[J.toUpperCase()];if(Z==null)return aG.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(Sj6)}, using default`),aG.DiagLogLevel.INFO;return Z}Tj6.diagLogLevelFromString=WH5});var yj6=B((hj6)=>{Object.defineProperty(hj6,"__esModule",{value:!0});hj6._export=void 0;var bj6=C(),QH5=nj();function GH5(J,Z){return new Promise((X)=>{bj6.context.with((0,QH5.suppressTracing)(bj6.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}hj6._export=GH5});var mj6=B((c0)=>{Object.defineProperty(c0,"__esModule",{value:!0});c0.internal=c0.diagLogLevelFromString=c0.BindOnceFuture=c0.urlMatches=c0.isUrlIgnored=c0.callWithTimeout=c0.TimeoutError=c0.merge=c0.TraceState=c0.unsuppressTracing=c0.suppressTracing=c0.isTracingSuppressed=c0.setRPCMetadata=c0.getRPCMetadata=c0.deleteRPCMetadata=c0.RPCType=c0.parseTraceParent=c0.W3CTraceContextPropagator=c0.TRACE_STATE_HEADER=c0.TRACE_PARENT_HEADER=c0.CompositePropagator=c0.unrefTimer=c0.otperformance=c0.getStringListFromEnv=c0.getNumberFromEnv=c0.getBooleanFromEnv=c0.getStringFromEnv=c0._globalThis=c0.SDK_INFO=c0.parseKeyPairsIntoRecord=c0.ExportResultCode=c0.timeInputToHrTime=c0.millisToHrTime=c0.isTimeInputHrTime=c0.isTimeInput=c0.hrTimeToTimeStamp=c0.hrTimeToNanoseconds=c0.hrTimeToMilliseconds=c0.hrTimeToMicroseconds=c0.hrTimeDuration=c0.hrTime=c0.getTimeOrigin=c0.addHrTimes=c0.loggingErrorHandler=c0.setGlobalErrorHandler=c0.globalErrorHandler=c0.sanitizeAttributes=c0.isAttributeValue=c0.AnchoredClock=c0.W3CBaggagePropagator=void 0;var KH5=hC6();Object.defineProperty(c0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return KH5.W3CBaggagePropagator}});var qH5=xC6();Object.defineProperty(c0,"AnchoredClock",{enumerable:!0,get:function(){return qH5.AnchoredClock}});var vj6=pC6();Object.defineProperty(c0,"isAttributeValue",{enumerable:!0,get:function(){return vj6.isAttributeValue}});Object.defineProperty(c0,"sanitizeAttributes",{enumerable:!0,get:function(){return vj6.sanitizeAttributes}});var xj6=rC6();Object.defineProperty(c0,"globalErrorHandler",{enumerable:!0,get:function(){return xj6.globalErrorHandler}});Object.defineProperty(c0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return xj6.setGlobalErrorHandler}});var BH5=OB1();Object.defineProperty(c0,"loggingErrorHandler",{enumerable:!0,get:function(){return BH5.loggingErrorHandler}});var PX=E26();Object.defineProperty(c0,"addHrTimes",{enumerable:!0,get:function(){return PX.addHrTimes}});Object.defineProperty(c0,"getTimeOrigin",{enumerable:!0,get:function(){return PX.getTimeOrigin}});Object.defineProperty(c0,"hrTime",{enumerable:!0,get:function(){return PX.hrTime}});Object.defineProperty(c0,"hrTimeDuration",{enumerable:!0,get:function(){return PX.hrTimeDuration}});Object.defineProperty(c0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return PX.hrTimeToMicroseconds}});Object.defineProperty(c0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return PX.hrTimeToMilliseconds}});Object.defineProperty(c0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return PX.hrTimeToNanoseconds}});Object.defineProperty(c0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return PX.hrTimeToTimeStamp}});Object.defineProperty(c0,"isTimeInput",{enumerable:!0,get:function(){return PX.isTimeInput}});Object.defineProperty(c0,"isTimeInputHrTime",{enumerable:!0,get:function(){return PX.isTimeInputHrTime}});Object.defineProperty(c0,"millisToHrTime",{enumerable:!0,get:function(){return PX.millisToHrTime}});Object.defineProperty(c0,"timeInputToHrTime",{enumerable:!0,get:function(){return PX.timeInputToHrTime}});var HH5=T26();Object.defineProperty(c0,"ExportResultCode",{enumerable:!0,get:function(){return HH5.ExportResultCode}});var FH5=HB1();Object.defineProperty(c0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return FH5.parseKeyPairsIntoRecord}});var EB=DB1();Object.defineProperty(c0,"SDK_INFO",{enumerable:!0,get:function(){return EB.SDK_INFO}});Object.defineProperty(c0,"_globalThis",{enumerable:!0,get:function(){return EB._globalThis}});Object.defineProperty(c0,"getStringFromEnv",{enumerable:!0,get:function(){return EB.getStringFromEnv}});Object.defineProperty(c0,"getBooleanFromEnv",{enumerable:!0,get:function(){return EB.getBooleanFromEnv}});Object.defineProperty(c0,"getNumberFromEnv",{enumerable:!0,get:function(){return EB.getNumberFromEnv}});Object.defineProperty(c0,"getStringListFromEnv",{enumerable:!0,get:function(){return EB.getStringListFromEnv}});Object.defineProperty(c0,"otperformance",{enumerable:!0,get:function(){return EB.otperformance}});Object.defineProperty(c0,"unrefTimer",{enumerable:!0,get:function(){return EB.unrefTimer}});var UH5=_26();Object.defineProperty(c0,"CompositePropagator",{enumerable:!0,get:function(){return UH5.CompositePropagator}});var wc=s26();Object.defineProperty(c0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return wc.TRACE_PARENT_HEADER}});Object.defineProperty(c0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return wc.TRACE_STATE_HEADER}});Object.defineProperty(c0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return wc.W3CTraceContextPropagator}});Object.defineProperty(c0,"parseTraceParent",{enumerable:!0,get:function(){return wc.parseTraceParent}});var Ac=e26();Object.defineProperty(c0,"RPCType",{enumerable:!0,get:function(){return Ac.RPCType}});Object.defineProperty(c0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Ac.deleteRPCMetadata}});Object.defineProperty(c0,"getRPCMetadata",{enumerable:!0,get:function(){return Ac.getRPCMetadata}});Object.defineProperty(c0,"setRPCMetadata",{enumerable:!0,get:function(){return Ac.setRPCMetadata}});var jB1=nj();Object.defineProperty(c0,"isTracingSuppressed",{enumerable:!0,get:function(){return jB1.isTracingSuppressed}});Object.defineProperty(c0,"suppressTracing",{enumerable:!0,get:function(){return jB1.suppressTracing}});Object.defineProperty(c0,"unsuppressTracing",{enumerable:!0,get:function(){return jB1.unsuppressTracing}});var OH5=PB1();Object.defineProperty(c0,"TraceState",{enumerable:!0,get:function(){return OH5.TraceState}});var DH5=Fj6();Object.defineProperty(c0,"merge",{enumerable:!0,get:function(){return DH5.merge}});var gj6=Dj6();Object.defineProperty(c0,"TimeoutError",{enumerable:!0,get:function(){return gj6.TimeoutError}});Object.defineProperty(c0,"callWithTimeout",{enumerable:!0,get:function(){return gj6.callWithTimeout}});var dj6=Aj6();Object.defineProperty(c0,"isUrlIgnored",{enumerable:!0,get:function(){return dj6.isUrlIgnored}});Object.defineProperty(c0,"urlMatches",{enumerable:!0,get:function(){return dj6.urlMatches}});var VH5=Ej6();Object.defineProperty(c0,"BindOnceFuture",{enumerable:!0,get:function(){return VH5.BindOnceFuture}});var IH5=kj6();Object.defineProperty(c0,"diagLogLevelFromString",{enumerable:!0,get:function(){return IH5.diagLogLevelFromString}});var wH5=yj6();c0.internal={_export:wH5._export}});var nj6=B((lj6)=>{Object.defineProperty(lj6,"__esModule",{value:!0});lj6.hexToBinary=void 0;function cj6(J){if(J>=48&&J<=57)return J-48;if(J>=97&&J<=102)return J-87;return J-55}function AH5(J){let Z=new Uint8Array(J.length/2),X=0;for(let Y=0;Y<J.length;Y+=2){let $=cj6(J.charCodeAt(Y)),z=cj6(J.charCodeAt(Y+1));Z[X++]=$<<4|z}return Z}lj6.hexToBinary=AH5});var Mc=B((rj6)=>{Object.defineProperty(rj6,"__esModule",{value:!0});rj6.getOtlpEncoder=rj6.encodeAsString=rj6.encodeAsLongBits=rj6.toLongBits=rj6.hrTimeToNanos=void 0;var MH5=mj6(),RB1=nj6();function EB1(J){let Z=BigInt(1e9);return BigInt(J[0])*Z+BigInt(J[1])}rj6.hrTimeToNanos=EB1;function oj6(J){let Z=Number(BigInt.asUintN(32,J)),X=Number(BigInt.asUintN(32,J>>BigInt(32)));return{low:Z,high:X}}rj6.toLongBits=oj6;function SB1(J){let Z=EB1(J);return oj6(Z)}rj6.encodeAsLongBits=SB1;function sj6(J){return EB1(J).toString()}rj6.encodeAsString=sj6;var NH5=typeof BigInt!=="undefined"?sj6:MH5.hrTimeToNanoseconds;function ij6(J){return J}function aj6(J){if(J===void 0)return;return(0,RB1.hexToBinary)(J)}var PH5={encodeHrTime:SB1,encodeSpanContext:RB1.hexToBinary,encodeOptionalSpanContext:aj6};function LH5(J){if(J===void 0)return PH5;let Z=J.useLongBits??!0,X=J.useHex??!1;return{encodeHrTime:Z?SB1:NH5,encodeSpanContext:X?ij6:RB1.hexToBinary,encodeOptionalSpanContext:X?ij6:aj6}}rj6.getOtlpEncoder=LH5});var Nc=B((JR6)=>{Object.defineProperty(JR6,"__esModule",{value:!0});JR6.toAnyValue=JR6.toKeyValue=JR6.toAttributes=JR6.createInstrumentationScope=JR6.createResource=void 0;function SH5(J){return{attributes:ej6(J.attributes),droppedAttributesCount:0}}JR6.createResource=SH5;function TH5(J){return{name:J.name,version:J.version}}JR6.createInstrumentationScope=TH5;function ej6(J){return Object.keys(J).map((Z)=>TB1(Z,J[Z]))}JR6.toAttributes=ej6;function TB1(J,Z){return{key:J,value:fB1(Z)}}JR6.toKeyValue=TB1;function fB1(J){let Z=typeof J;if(Z==="string")return{stringValue:J};if(Z==="number"){if(!Number.isInteger(J))return{doubleValue:J};return{intValue:J}}if(Z==="boolean")return{boolValue:J};if(J instanceof Uint8Array)return{bytesValue:J};if(Array.isArray(J))return{arrayValue:{values:J.map(fB1)}};if(Z==="object"&&J!=null)return{kvlistValue:{values:Object.entries(J).map(([X,Y])=>TB1(X,Y))}};return{}}JR6.toAnyValue=fB1});var kB1=B((YR6)=>{Object.defineProperty(YR6,"__esModule",{value:!0});YR6.toLogAttributes=YR6.createExportLogsServiceRequest=void 0;var _H5=Mc(),Pc=Nc();function yH5(J,Z){let X=(0,_H5.getOtlpEncoder)(Z);return{resourceLogs:xH5(J,X)}}YR6.createExportLogsServiceRequest=yH5;function vH5(J){let Z=new Map;for(let X of J){let{resource:Y,instrumentationScope:{name:$,version:z="",schemaUrl:W=""}}=X,Q=Z.get(Y);if(!Q)Q=new Map,Z.set(Y,Q);let G=`${$}@${z}:${W}`,K=Q.get(G);if(!K)K=[],Q.set(G,K);K.push(X)}return Z}function xH5(J,Z){let X=vH5(J);return Array.from(X,([Y,$])=>({resource:(0,Pc.createResource)(Y),scopeLogs:Array.from($,([,z])=>{return{scope:(0,Pc.createInstrumentationScope)(z[0].instrumentationScope),logRecords:z.map((W)=>gH5(W,Z)),schemaUrl:z[0].instrumentationScope.schemaUrl}}),schemaUrl:void 0}))}function gH5(J,Z){return{timeUnixNano:Z.encodeHrTime(J.hrTime),observedTimeUnixNano:Z.encodeHrTime(J.hrTimeObserved),severityNumber:dH5(J.severityNumber),severityText:J.severityText,body:(0,Pc.toAnyValue)(J.body),attributes:XR6(J.attributes),droppedAttributesCount:J.droppedAttributesCount,flags:J.spanContext?.traceFlags,traceId:Z.encodeOptionalSpanContext(J.spanContext?.traceId),spanId:Z.encodeOptionalSpanContext(J.spanContext?.spanId)}}function dH5(J){return J}function XR6(J){return Object.keys(J).map((Z)=>(0,Pc.toKeyValue)(Z,J[Z]))}YR6.toLogAttributes=XR6});var GR6=B((WR6)=>{Object.defineProperty(WR6,"__esModule",{value:!0});WR6.ProtobufLogsSerializer=void 0;var zR6=Kc(),mH5=kB1(),cH5=zR6.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,lH5=zR6.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;WR6.ProtobufLogsSerializer={serializeRequest:(J)=>{let Z=(0,mH5.createExportLogsServiceRequest)(J);return lH5.encode(Z).finish()},deserializeResponse:(J)=>{return cH5.decode(J)}}});var KR6=B((bB1)=>{Object.defineProperty(bB1,"__esModule",{value:!0});bB1.ProtobufLogsSerializer=void 0;var pH5=GR6();Object.defineProperty(bB1,"ProtobufLogsSerializer",{enumerable:!0,get:function(){return pH5.ProtobufLogsSerializer}})});var hB1=B((OR6)=>{Object.defineProperty(OR6,"__esModule",{value:!0});OR6.createExportMetricsServiceRequest=OR6.toMetric=OR6.toScopeMetrics=OR6.toResourceMetrics=void 0;var qR6=C(),BA=hO(),iH5=Mc(),sj=Nc();function HR6(J,Z){let X=(0,iH5.getOtlpEncoder)(Z);return{resource:(0,sj.createResource)(J.resource),schemaUrl:void 0,scopeMetrics:FR6(J.scopeMetrics,X)}}OR6.toResourceMetrics=HR6;function FR6(J,Z){return Array.from(J.map((X)=>({scope:(0,sj.createInstrumentationScope)(X.scope),metrics:X.metrics.map((Y)=>UR6(Y,Z)),schemaUrl:X.scope.schemaUrl})))}OR6.toScopeMetrics=FR6;function UR6(J,Z){let X={name:J.descriptor.name,description:J.descriptor.description,unit:J.descriptor.unit},Y=rH5(J.aggregationTemporality);switch(J.dataPointType){case BA.DataPointType.SUM:X.sum={aggregationTemporality:Y,isMonotonic:J.isMonotonic,dataPoints:BR6(J,Z)};break;case BA.DataPointType.GAUGE:X.gauge={dataPoints:BR6(J,Z)};break;case BA.DataPointType.HISTOGRAM:X.histogram={aggregationTemporality:Y,dataPoints:sH5(J,Z)};break;case BA.DataPointType.EXPONENTIAL_HISTOGRAM:X.exponentialHistogram={aggregationTemporality:Y,dataPoints:aH5(J,Z)};break}return X}OR6.toMetric=UR6;function oH5(J,Z,X){let Y={attributes:(0,sj.toAttributes)(J.attributes),startTimeUnixNano:X.encodeHrTime(J.startTime),timeUnixNano:X.encodeHrTime(J.endTime)};switch(Z){case qR6.ValueType.INT:Y.asInt=J.value;break;case qR6.ValueType.DOUBLE:Y.asDouble=J.value;break}return Y}function BR6(J,Z){return J.dataPoints.map((X)=>{return oH5(X,J.descriptor.valueType,Z)})}function sH5(J,Z){return J.dataPoints.map((X)=>{let Y=X.value;return{attributes:(0,sj.toAttributes)(X.attributes),bucketCounts:Y.buckets.counts,explicitBounds:Y.buckets.boundaries,count:Y.count,sum:Y.sum,min:Y.min,max:Y.max,startTimeUnixNano:Z.encodeHrTime(X.startTime),timeUnixNano:Z.encodeHrTime(X.endTime)}})}function aH5(J,Z){return J.dataPoints.map((X)=>{let Y=X.value;return{attributes:(0,sj.toAttributes)(X.attributes),count:Y.count,min:Y.min,max:Y.max,sum:Y.sum,positive:{offset:Y.positive.offset,bucketCounts:Y.positive.bucketCounts},negative:{offset:Y.negative.offset,bucketCounts:Y.negative.bucketCounts},scale:Y.scale,zeroCount:Y.zeroCount,startTimeUnixNano:Z.encodeHrTime(X.startTime),timeUnixNano:Z.encodeHrTime(X.endTime)}})}function rH5(J){switch(J){case BA.AggregationTemporality.DELTA:return 1;case BA.AggregationTemporality.CUMULATIVE:return 2}}function tH5(J,Z){return{resourceMetrics:J.map((X)=>HR6(X,Z))}}OR6.createExportMetricsServiceRequest=tH5});var AR6=B((IR6)=>{Object.defineProperty(IR6,"__esModule",{value:!0});IR6.ProtobufMetricsSerializer=void 0;var VR6=Kc(),XF5=hB1(),YF5=VR6.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,$F5=VR6.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;IR6.ProtobufMetricsSerializer={serializeRequest:(J)=>{let Z=(0,XF5.createExportMetricsServiceRequest)([J]);return $F5.encode(Z).finish()},deserializeResponse:(J)=>{return YF5.decode(J)}}});var MR6=B((_B1)=>{Object.defineProperty(_B1,"__esModule",{value:!0});_B1.ProtobufMetricsSerializer=void 0;var zF5=AR6();Object.defineProperty(_B1,"ProtobufMetricsSerializer",{enumerable:!0,get:function(){return zF5.ProtobufMetricsSerializer}})});var yB1=B((CR6)=>{Object.defineProperty(CR6,"__esModule",{value:!0});CR6.createExportTraceServiceRequest=CR6.toOtlpSpanEvent=CR6.toOtlpLink=CR6.sdkSpanToOtlpSpan=void 0;var aj=Nc(),QF5=Mc();function NR6(J,Z){let X=J.spanContext(),Y=J.status,$=J.parentSpanContext?.spanId?Z.encodeSpanContext(J.parentSpanContext?.spanId):void 0;return{traceId:Z.encodeSpanContext(X.traceId),spanId:Z.encodeSpanContext(X.spanId),parentSpanId:$,traceState:X.traceState?.serialize(),name:J.name,kind:J.kind==null?0:J.kind+1,startTimeUnixNano:Z.encodeHrTime(J.startTime),endTimeUnixNano:Z.encodeHrTime(J.endTime),attributes:(0,aj.toAttributes)(J.attributes),droppedAttributesCount:J.droppedAttributesCount,events:J.events.map((z)=>LR6(z,Z)),droppedEventsCount:J.droppedEventsCount,status:{code:Y.code,message:Y.message},links:J.links.map((z)=>PR6(z,Z)),droppedLinksCount:J.droppedLinksCount}}CR6.sdkSpanToOtlpSpan=NR6;function PR6(J,Z){return{attributes:J.attributes?(0,aj.toAttributes)(J.attributes):[],spanId:Z.encodeSpanContext(J.context.spanId),traceId:Z.encodeSpanContext(J.context.traceId),traceState:J.context.traceState?.serialize(),droppedAttributesCount:J.droppedAttributesCount||0}}CR6.toOtlpLink=PR6;function LR6(J,Z){return{attributes:J.attributes?(0,aj.toAttributes)(J.attributes):[],name:J.name,timeUnixNano:Z.encodeHrTime(J.time),droppedAttributesCount:J.droppedAttributesCount||0}}CR6.toOtlpSpanEvent=LR6;function GF5(J,Z){let X=(0,QF5.getOtlpEncoder)(Z);return{resourceSpans:qF5(J,X)}}CR6.createExportTraceServiceRequest=GF5;function KF5(J){let Z=new Map;for(let X of J){let Y=Z.get(X.resource);if(!Y)Y=new Map,Z.set(X.resource,Y);let $=`${X.instrumentationScope.name}@${X.instrumentationScope.version||""}:${X.instrumentationScope.schemaUrl||""}`,z=Y.get($);if(!z)z=[],Y.set($,z);z.push(X)}return Z}function qF5(J,Z){let X=KF5(J),Y=[],$=X.entries(),z=$.next();while(!z.done){let[W,Q]=z.value,G=[],K=Q.values(),q=K.next();while(!q.done){let F=q.value;if(F.length>0){let U=F.map((D)=>NR6(D,Z));G.push({scope:(0,aj.createInstrumentationScope)(F[0].instrumentationScope),spans:U,schemaUrl:F[0].instrumentationScope.schemaUrl})}q=K.next()}let H={resource:(0,aj.createResource)(W),scopeSpans:G,schemaUrl:void 0};Y.push(H),z=$.next()}return Y}});var TR6=B((ER6)=>{Object.defineProperty(ER6,"__esModule",{value:!0});ER6.ProtobufTraceSerializer=void 0;var RR6=Kc(),UF5=yB1(),OF5=RR6.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,DF5=RR6.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;ER6.ProtobufTraceSerializer={serializeRequest:(J)=>{let Z=(0,UF5.createExportTraceServiceRequest)(J);return DF5.encode(Z).finish()},deserializeResponse:(J)=>{return OF5.decode(J)}}});var fR6=B((vB1)=>{Object.defineProperty(vB1,"__esModule",{value:!0});vB1.ProtobufTraceSerializer=void 0;var VF5=TR6();Object.defineProperty(vB1,"ProtobufTraceSerializer",{enumerable:!0,get:function(){return VF5.ProtobufTraceSerializer}})});var hR6=B((kR6)=>{Object.defineProperty(kR6,"__esModule",{value:!0});kR6.JsonLogsSerializer=void 0;var wF5=kB1();kR6.JsonLogsSerializer={serializeRequest:(J)=>{let Z=(0,wF5.createExportLogsServiceRequest)(J,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(Z))},deserializeResponse:(J)=>{if(J.length===0)return{};return JSON.parse(new TextDecoder().decode(J))}}});var _R6=B((xB1)=>{Object.defineProperty(xB1,"__esModule",{value:!0});xB1.JsonLogsSerializer=void 0;var AF5=hR6();Object.defineProperty(xB1,"JsonLogsSerializer",{enumerable:!0,get:function(){return AF5.JsonLogsSerializer}})});var xR6=B((yR6)=>{Object.defineProperty(yR6,"__esModule",{value:!0});yR6.JsonMetricsSerializer=void 0;var NF5=hB1();yR6.JsonMetricsSerializer={serializeRequest:(J)=>{let Z=(0,NF5.createExportMetricsServiceRequest)([J],{useLongBits:!1});return new TextEncoder().encode(JSON.stringify(Z))},deserializeResponse:(J)=>{if(J.length===0)return{};return JSON.parse(new TextDecoder().decode(J))}}});var gR6=B((gB1)=>{Object.defineProperty(gB1,"__esModule",{value:!0});gB1.JsonMetricsSerializer=void 0;var PF5=xR6();Object.defineProperty(gB1,"JsonMetricsSerializer",{enumerable:!0,get:function(){return PF5.JsonMetricsSerializer}})});var mR6=B((dR6)=>{Object.defineProperty(dR6,"__esModule",{value:!0});dR6.JsonTraceSerializer=void 0;var CF5=yB1();dR6.JsonTraceSerializer={serializeRequest:(J)=>{let Z=(0,CF5.createExportTraceServiceRequest)(J,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(Z))},deserializeResponse:(J)=>{if(J.length===0)return{};return JSON.parse(new TextDecoder().decode(J))}}});var cR6=B((dB1)=>{Object.defineProperty(dB1,"__esModule",{value:!0});dB1.JsonTraceSerializer=void 0;var jF5=mR6();Object.defineProperty(dB1,"JsonTraceSerializer",{enumerable:!0,get:function(){return jF5.JsonTraceSerializer}})});var qW=B((SB)=>{Object.defineProperty(SB,"__esModule",{value:!0});SB.JsonTraceSerializer=SB.JsonMetricsSerializer=SB.JsonLogsSerializer=SB.ProtobufTraceSerializer=SB.ProtobufMetricsSerializer=SB.ProtobufLogsSerializer=void 0;var EF5=KR6();Object.defineProperty(SB,"ProtobufLogsSerializer",{enumerable:!0,get:function(){return EF5.ProtobufLogsSerializer}});var SF5=MR6();Object.defineProperty(SB,"ProtobufMetricsSerializer",{enumerable:!0,get:function(){return SF5.ProtobufMetricsSerializer}});var TF5=fR6();Object.defineProperty(SB,"ProtobufTraceSerializer",{enumerable:!0,get:function(){return TF5.ProtobufTraceSerializer}});var fF5=_R6();Object.defineProperty(SB,"JsonLogsSerializer",{enumerable:!0,get:function(){return fF5.JsonLogsSerializer}});var kF5=gR6();Object.defineProperty(SB,"JsonMetricsSerializer",{enumerable:!0,get:function(){return kF5.JsonMetricsSerializer}});var bF5=cR6();Object.defineProperty(SB,"JsonTraceSerializer",{enumerable:!0,get:function(){return bF5.JsonTraceSerializer}})});var nR6=B((lR6)=>{Object.defineProperty(lR6,"__esModule",{value:!0});lR6.VERSION=void 0;lR6.VERSION="0.201.1"});var rR6=B((sR6)=>{Object.defineProperty(sR6,"__esModule",{value:!0});sR6.OTLPLogExporter=void 0;var _F5=fJ(),yF5=qW(),vF5=nR6(),iR6=xY();class oR6 extends _F5.OTLPExporterBase{constructor(J={}){super((0,iR6.createOtlpHttpExportDelegate)((0,iR6.convertLegacyHttpOptions)(J,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${vF5.VERSION}`,"Content-Type":"application/json"}),yF5.JsonLogsSerializer))}}sR6.OTLPLogExporter=oR6});var tR6=B((uB1)=>{Object.defineProperty(uB1,"__esModule",{value:!0});uB1.OTLPLogExporter=void 0;var xF5=rR6();Object.defineProperty(uB1,"OTLPLogExporter",{enumerable:!0,get:function(){return xF5.OTLPLogExporter}})});var eR6=B((mB1)=>{Object.defineProperty(mB1,"__esModule",{value:!0});mB1.OTLPLogExporter=void 0;var dF5=tR6();Object.defineProperty(mB1,"OTLPLogExporter",{enumerable:!0,get:function(){return dF5.OTLPLogExporter}})});var JE6=B((cB1)=>{Object.defineProperty(cB1,"__esModule",{value:!0});cB1.OTLPLogExporter=void 0;var mF5=eR6();Object.defineProperty(cB1,"OTLPLogExporter",{enumerable:!0,get:function(){return mF5.OTLPLogExporter}})});var p6=B(($E6)=>{Object.defineProperty($E6,"__esModule",{value:!0});$E6.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=$E6.DEFAULT_MAX_SEND_MESSAGE_LENGTH=$E6.Propagate=$E6.LogVerbosity=$E6.Status=void 0;var ZE6;(function(J){J[J.OK=0]="OK",J[J.CANCELLED=1]="CANCELLED",J[J.UNKNOWN=2]="UNKNOWN",J[J.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J[J.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J[J.NOT_FOUND=5]="NOT_FOUND",J[J.ALREADY_EXISTS=6]="ALREADY_EXISTS",J[J.PERMISSION_DENIED=7]="PERMISSION_DENIED",J[J.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J[J.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J[J.ABORTED=10]="ABORTED",J[J.OUT_OF_RANGE=11]="OUT_OF_RANGE",J[J.UNIMPLEMENTED=12]="UNIMPLEMENTED",J[J.INTERNAL=13]="INTERNAL",J[J.UNAVAILABLE=14]="UNAVAILABLE",J[J.DATA_LOSS=15]="DATA_LOSS",J[J.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(ZE6||($E6.Status=ZE6={}));var XE6;(function(J){J[J.DEBUG=0]="DEBUG",J[J.INFO=1]="INFO",J[J.ERROR=2]="ERROR",J[J.NONE=3]="NONE"})(XE6||($E6.LogVerbosity=XE6={}));var YE6;(function(J){J[J.DEADLINE=1]="DEADLINE",J[J.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",J[J.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",J[J.CANCELLATION=8]="CANCELLATION",J[J.DEFAULTS=65535]="DEFAULTS"})(YE6||($E6.Propagate=YE6={}));$E6.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;$E6.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304});var lB1=B((hQ7,oF5)=>{oF5.exports={name:"@grpc/grpc-js",version:"1.13.4",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:">=12.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@grpc/proto-loader":"file:../proto-loader","@types/gulp":"^4.0.17","@types/gulp-mocha":"0.0.37","@types/lodash":"^4.14.202","@types/mocha":"^10.0.6","@types/ncp":"^2.0.8","@types/node":">=20.11.20","@types/pify":"^5.0.4","@types/semver":"^7.5.8","@typescript-eslint/eslint-plugin":"^7.1.0","@typescript-eslint/parser":"^7.1.0","@typescript-eslint/typescript-estree":"^7.1.0","clang-format":"^1.8.0",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.21",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.6.0","ts-node":"^10.9.2",typescript:"^5.3.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.13","@js-sdsl/ordered-map":"^4.4.2"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var $8=B((GE6)=>{var pB1,nB1,iB1,oB1;Object.defineProperty(GE6,"__esModule",{value:!0});GE6.log=GE6.setLoggerVerbosity=GE6.setLogger=GE6.getLogger=void 0;GE6.trace=zU5;GE6.isTracerEnabled=QE6;var TB=p6(),sF5=p("process"),aF5=lB1().version,rF5={error:(J,...Z)=>{console.error("E "+J,...Z)},info:(J,...Z)=>{console.error("I "+J,...Z)},debug:(J,...Z)=>{console.error("D "+J,...Z)}},iO=rF5,HA=TB.LogVerbosity.ERROR,tF5=(nB1=(pB1=process.env.GRPC_NODE_VERBOSITY)!==null&&pB1!==void 0?pB1:process.env.GRPC_VERBOSITY)!==null&&nB1!==void 0?nB1:"";switch(tF5.toUpperCase()){case"DEBUG":HA=TB.LogVerbosity.DEBUG;break;case"INFO":HA=TB.LogVerbosity.INFO;break;case"ERROR":HA=TB.LogVerbosity.ERROR;break;case"NONE":HA=TB.LogVerbosity.NONE;break;default:}var eF5=()=>{return iO};GE6.getLogger=eF5;var JU5=(J)=>{iO=J};GE6.setLogger=JU5;var ZU5=(J)=>{HA=J};GE6.setLoggerVerbosity=ZU5;var XU5=(J,...Z)=>{let X;if(J>=HA){switch(J){case TB.LogVerbosity.DEBUG:X=iO.debug;break;case TB.LogVerbosity.INFO:X=iO.info;break;case TB.LogVerbosity.ERROR:X=iO.error;break}if(!X)X=iO.error;if(X)X.bind(iO)(...Z)}};GE6.log=XU5;var YU5=(oB1=(iB1=process.env.GRPC_NODE_TRACE)!==null&&iB1!==void 0?iB1:process.env.GRPC_TRACE)!==null&&oB1!==void 0?oB1:"",sB1=new Set,WE6=new Set;for(let J of YU5.split(","))if(J.startsWith("-"))WE6.add(J.substring(1));else sB1.add(J);var $U5=sB1.has("all");function zU5(J,Z,X){if(QE6(Z))GE6.log(J,new Date().toISOString()+" | v"+aF5+" "+sF5.pid+" | "+Z+" | "+X)}function QE6(J){return!WE6.has(J)&&($U5||sB1.has(J))}});var Lc=B((KE6)=>{Object.defineProperty(KE6,"__esModule",{value:!0});KE6.getErrorMessage=BU5;KE6.getErrorCode=HU5;function BU5(J){if(J instanceof Error)return J.message;else return String(J)}function HU5(J){if(typeof J==="object"&&J!==null&&"code"in J&&typeof J.code==="number")return J.code;else return null}});var i9=B((HE6)=>{Object.defineProperty(HE6,"__esModule",{value:!0});HE6.Metadata=void 0;var OU5=$8(),DU5=p6(),VU5=Lc(),IU5=/^[0-9a-z_.-]+$/,wU5=/^[ -~]*$/;function AU5(J){return IU5.test(J)}function MU5(J){return wU5.test(J)}function BE6(J){return J.endsWith("-bin")}function NU5(J){return!J.startsWith("grpc-")}function Cc(J){return J.toLowerCase()}function qE6(J,Z){if(!AU5(J))throw new Error('Metadata key "'+J+'" contains illegal characters');if(Z!==null&&Z!==void 0)if(BE6(J)){if(!Buffer.isBuffer(Z))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(Z))throw new Error("keys that don't end with '-bin' must have String values");if(!MU5(Z))throw new Error('Metadata string value "'+Z+'" contains illegal characters')}}class jc{constructor(J={}){this.internalRepr=new Map,this.options=J}set(J,Z){J=Cc(J),qE6(J,Z),this.internalRepr.set(J,[Z])}add(J,Z){J=Cc(J),qE6(J,Z);let X=this.internalRepr.get(J);if(X===void 0)this.internalRepr.set(J,[Z]);else X.push(Z)}remove(J){J=Cc(J),this.internalRepr.delete(J)}get(J){return J=Cc(J),this.internalRepr.get(J)||[]}getMap(){let J={};for(let[Z,X]of this.internalRepr)if(X.length>0){let Y=X[0];J[Z]=Buffer.isBuffer(Y)?Buffer.from(Y):Y}return J}clone(){let J=new jc(this.options),Z=J.internalRepr;for(let[X,Y]of this.internalRepr){let $=Y.map((z)=>{if(Buffer.isBuffer(z))return Buffer.from(z);else return z});Z.set(X,$)}return J}merge(J){for(let[Z,X]of J.internalRepr){let Y=(this.internalRepr.get(Z)||[]).concat(X);this.internalRepr.set(Z,Y)}}setOptions(J){this.options=J}getOptions(){return this.options}toHttp2Headers(){let J={};for(let[Z,X]of this.internalRepr)J[Z]=X.map(PU5);return J}toJSON(){let J={};for(let[Z,X]of this.internalRepr)J[Z]=X;return J}static fromHttp2Headers(J){let Z=new jc;for(let X of Object.keys(J)){if(X.charAt(0)===":")continue;let Y=J[X];try{if(BE6(X)){if(Array.isArray(Y))Y.forEach(($)=>{Z.add(X,Buffer.from($,"base64"))});else if(Y!==void 0)if(NU5(X))Y.split(",").forEach(($)=>{Z.add(X,Buffer.from($.trim(),"base64"))});else Z.add(X,Buffer.from(Y,"base64"))}else if(Array.isArray(Y))Y.forEach(($)=>{Z.add(X,$)});else if(Y!==void 0)Z.add(X,Y)}catch($){let z=`Failed to add metadata entry ${X}: ${Y}. ${(0,VU5.getErrorMessage)($)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,OU5.log)(DU5.LogVerbosity.ERROR,z)}}return Z}}HE6.Metadata=jc;var PU5=(J)=>{return Buffer.isBuffer(J)?J.toString("base64"):J}});var Ec=B((UE6)=>{Object.defineProperty(UE6,"__esModule",{value:!0});UE6.CallCredentials=void 0;var rB1=i9();function LU5(J){return"getRequestHeaders"in J&&typeof J.getRequestHeaders==="function"}class FA{static createFromMetadataGenerator(J){return new tB1(J)}static createFromGoogleCredential(J){return FA.createFromMetadataGenerator((Z,X)=>{let Y;if(LU5(J))Y=J.getRequestHeaders(Z.service_url);else Y=new Promise(($,z)=>{J.getRequestMetadata(Z.service_url,(W,Q)=>{if(W){z(W);return}if(!Q){z(new Error("Headers not set by metadata plugin"));return}$(Q)})});Y.then(($)=>{let z=new rB1.Metadata;for(let W of Object.keys($))z.add(W,$[W]);X(null,z)},($)=>{X($)})})}static createEmpty(){return new eB1}}UE6.CallCredentials=FA;class Rc extends FA{constructor(J){super();this.creds=J}async generateMetadata(J){let Z=new rB1.Metadata,X=await Promise.all(this.creds.map((Y)=>Y.generateMetadata(J)));for(let Y of X)Z.merge(Y);return Z}compose(J){return new Rc(this.creds.concat([J]))}_equals(J){if(this===J)return!0;if(J instanceof Rc)return this.creds.every((Z,X)=>Z._equals(J.creds[X]));else return!1}}class tB1 extends FA{constructor(J){super();this.metadataGenerator=J}generateMetadata(J){return new Promise((Z,X)=>{this.metadataGenerator(J,(Y,$)=>{if($!==void 0)Z($);else X(Y)})})}compose(J){return new Rc([this,J])}_equals(J){if(this===J)return!0;if(J instanceof tB1)return this.metadataGenerator===J.metadataGenerator;else return!1}}class eB1 extends FA{generateMetadata(J){return Promise.resolve(new rB1.Metadata)}compose(J){return J}_equals(J){return J instanceof eB1}}});var ZH1=B((VE6)=>{Object.defineProperty(VE6,"__esModule",{value:!0});VE6.CIPHER_SUITES=void 0;VE6.getDefaultRootsData=jU5;var CU5=p("fs");VE6.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var DE6=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,JH1=null;function jU5(){if(DE6){if(JH1===null)JH1=CU5.readFileSync(DE6);return JH1}return null}});var e7=B((AE6)=>{Object.defineProperty(AE6,"__esModule",{value:!0});AE6.parseUri=SU5;AE6.splitHostPort=TU5;AE6.combineHostPort=fU5;AE6.uriToString=kU5;var EU5=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function SU5(J){let Z=EU5.exec(J);if(Z===null)return null;return{scheme:Z[1],authority:Z[2],path:Z[3]}}var wE6=/^\d+$/;function TU5(J){if(J.startsWith("[")){let Z=J.indexOf("]");if(Z===-1)return null;let X=J.substring(1,Z);if(X.indexOf(":")===-1)return null;if(J.length>Z+1)if(J[Z+1]===":"){let Y=J.substring(Z+2);if(wE6.test(Y))return{host:X,port:+Y};else return null}else return null;else return{host:X}}else{let Z=J.split(":");if(Z.length===2)if(wE6.test(Z[1]))return{host:Z[0],port:+Z[1]};else return null;else return{host:J}}}function fU5(J){if(J.port===void 0)return J.host;else if(J.host.includes(":"))return`[${J.host}]:${J.port}`;else return`${J.host}:${J.port}`}function kU5(J){let Z="";if(J.scheme!==void 0)Z+=J.scheme+":";if(J.authority!==void 0)Z+="//"+J.authority+"/";return Z+=J.path,Z}});var BW=B((ME6)=>{Object.defineProperty(ME6,"__esModule",{value:!0});ME6.registerResolver=vU5;ME6.registerDefaultScheme=xU5;ME6.createResolver=gU5;ME6.getDefaultAuthority=dU5;ME6.mapUriDefaultScheme=uU5;var YH1=e7(),UA={},XH1=null;function vU5(J,Z){UA[J]=Z}function xU5(J){XH1=J}function gU5(J,Z,X){if(J.scheme!==void 0&&J.scheme in UA)return new UA[J.scheme](J,Z,X);else throw new Error(`No resolver could be created for target ${(0,YH1.uriToString)(J)}`)}function dU5(J){if(J.scheme!==void 0&&J.scheme in UA)return UA[J.scheme].getDefaultAuthority(J);else throw new Error(`Invalid target ${(0,YH1.uriToString)(J)}`)}function uU5(J){if(J.scheme===void 0||!(J.scheme in UA))if(XH1!==null)return{scheme:XH1,authority:void 0,path:(0,YH1.uriToString)(J)};else return null;return J}});var ej=B((CE6)=>{Object.defineProperty(CE6,"__esModule",{value:!0});CE6.ChannelCredentials=void 0;CE6.createCertificateProviderChannelCredentials=aU5;var tj=p("tls"),fc=Ec(),zH1=ZH1(),NE6=e7(),iU5=BW(),oU5=$8(),sU5=p6();function $H1(J,Z){if(J&&!(J instanceof Buffer))throw new TypeError(`${Z}, if provided, must be a Buffer.`)}class OA{compose(J){return new Tc(this,J)}static createSsl(J,Z,X,Y){var $;if($H1(J,"Root certificate"),$H1(Z,"Private key"),$H1(X,"Certificate chain"),Z&&!X)throw new Error("Private key must be given with accompanying certificate chain");if(!Z&&X)throw new Error("Certificate chain must be given with accompanying private key");let z=(0,tj.createSecureContext)({ca:($=J!==null&&J!==void 0?J:(0,zH1.getDefaultRootsData)())!==null&&$!==void 0?$:void 0,key:Z!==null&&Z!==void 0?Z:void 0,cert:X!==null&&X!==void 0?X:void 0,ciphers:zH1.CIPHER_SUITES});return new Sc(z,Y!==null&&Y!==void 0?Y:{})}static createFromSecureContext(J,Z){return new Sc(J,Z!==null&&Z!==void 0?Z:{})}static createInsecure(){return new WH1}}CE6.ChannelCredentials=OA;class WH1 extends OA{constructor(){super()}compose(J){throw new Error("Cannot compose insecure credentials")}_isSecure(){return!1}_equals(J){return J instanceof WH1}_createSecureConnector(J,Z,X){return{connect(Y){return Promise.resolve({socket:Y,secure:!1})},waitForReady:()=>{return Promise.resolve()},getCallCredentials:()=>{return X!==null&&X!==void 0?X:fc.CallCredentials.createEmpty()},destroy(){}}}}function PE6(J,Z,X,Y){var $,z;let W={secureContext:J},Q=X;if("grpc.http_connect_target"in Y){let H=(0,NE6.parseUri)(Y["grpc.http_connect_target"]);if(H)Q=H}let G=(0,iU5.getDefaultAuthority)(Q),K=(0,NE6.splitHostPort)(G),q=($=K===null||K===void 0?void 0:K.host)!==null&&$!==void 0?$:G;if(W.host=q,Z.checkServerIdentity)W.checkServerIdentity=Z.checkServerIdentity;if(Z.rejectUnauthorized!==void 0)W.rejectUnauthorized=Z.rejectUnauthorized;if(W.ALPNProtocols=["h2"],Y["grpc.ssl_target_name_override"]){let H=Y["grpc.ssl_target_name_override"],F=(z=W.checkServerIdentity)!==null&&z!==void 0?z:tj.checkServerIdentity;W.checkServerIdentity=(U,D)=>{return F(H,D)},W.servername=H}else W.servername=q;if(Y["grpc-node.tls_enable_trace"])W.enableTrace=!0;return W}class LE6{constructor(J,Z){this.connectionOptions=J,this.callCredentials=Z}connect(J){let Z=Object.assign({socket:J},this.connectionOptions);return new Promise((X,Y)=>{let $=(0,tj.connect)(Z,()=>{var z;if(((z=this.connectionOptions.rejectUnauthorized)!==null&&z!==void 0?z:!0)&&!$.authorized){Y($.authorizationError);return}X({socket:$,secure:!0})});$.on("error",(z)=>{Y(z)})})}waitForReady(){return Promise.resolve()}getCallCredentials(){return this.callCredentials}destroy(){}}class Sc extends OA{constructor(J,Z){super();this.secureContext=J,this.verifyOptions=Z}_isSecure(){return!0}_equals(J){if(this===J)return!0;if(J instanceof Sc)return this.secureContext===J.secureContext&&this.verifyOptions.checkServerIdentity===J.verifyOptions.checkServerIdentity;else return!1}_createSecureConnector(J,Z,X){let Y=PE6(this.secureContext,this.verifyOptions,J,Z);return new LE6(Y,X!==null&&X!==void 0?X:fc.CallCredentials.createEmpty())}}class rj extends OA{constructor(J,Z,X){super();this.caCertificateProvider=J,this.identityCertificateProvider=Z,this.verifyOptions=X,this.refcount=0,this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this),this.secureContextWatchers=[]}_isSecure(){return!0}_equals(J){var Z,X;if(this===J)return!0;if(J instanceof rj)return this.caCertificateProvider===J.caCertificateProvider&&this.identityCertificateProvider===J.identityCertificateProvider&&((Z=this.verifyOptions)===null||Z===void 0?void 0:Z.checkServerIdentity)===((X=J.verifyOptions)===null||X===void 0?void 0:X.checkServerIdentity);else return!1}ref(){var J;if(this.refcount===0)this.caCertificateProvider.addCaCertificateListener(this.caCertificateUpdateListener),(J=this.identityCertificateProvider)===null||J===void 0||J.addIdentityCertificateListener(this.identityCertificateUpdateListener);this.refcount+=1}unref(){var J;if(this.refcount-=1,this.refcount===0)this.caCertificateProvider.removeCaCertificateListener(this.caCertificateUpdateListener),(J=this.identityCertificateProvider)===null||J===void 0||J.removeIdentityCertificateListener(this.identityCertificateUpdateListener)}_createSecureConnector(J,Z,X){return this.ref(),new rj.SecureConnectorImpl(this,J,Z,X!==null&&X!==void 0?X:fc.CallCredentials.createEmpty())}maybeUpdateWatchers(){if(this.hasReceivedUpdates()){for(let J of this.secureContextWatchers)J(this.getLatestSecureContext());this.secureContextWatchers=[]}}handleCaCertificateUpdate(J){this.latestCaUpdate=J,this.maybeUpdateWatchers()}handleIdentityCertitificateUpdate(J){this.latestIdentityUpdate=J,this.maybeUpdateWatchers()}hasReceivedUpdates(){if(this.latestCaUpdate===void 0)return!1;if(this.identityCertificateProvider&&this.latestIdentityUpdate===void 0)return!1;return!0}getSecureContext(){if(this.hasReceivedUpdates())return Promise.resolve(this.getLatestSecureContext());else return new Promise((J)=>{this.secureContextWatchers.push(J)})}getLatestSecureContext(){var J,Z;if(!this.latestCaUpdate)return null;if(this.identityCertificateProvider!==null&&!this.latestIdentityUpdate)return null;try{return(0,tj.createSecureContext)({ca:this.latestCaUpdate.caCertificate,key:(J=this.latestIdentityUpdate)===null||J===void 0?void 0:J.privateKey,cert:(Z=this.latestIdentityUpdate)===null||Z===void 0?void 0:Z.certificate,ciphers:zH1.CIPHER_SUITES})}catch(X){return(0,oU5.log)(sU5.LogVerbosity.ERROR,"Failed to createSecureContext with error "+X.message),null}}}rj.SecureConnectorImpl=class{constructor(J,Z,X,Y){this.parent=J,this.channelTarget=Z,this.options=X,this.callCredentials=Y}connect(J){return new Promise((Z,X)=>{let Y=this.parent.getLatestSecureContext();if(!Y){X(new Error("Failed to load credentials"));return}if(J.closed)X(new Error("Socket closed while loading credentials"));let $=PE6(Y,this.parent.verifyOptions,this.channelTarget,this.options),z=Object.assign({socket:J},$),W=()=>{X(new Error("Socket closed"))},Q=(K)=>{X(K)},G=(0,tj.connect)(z,()=>{var K;if(G.removeListener("close",W),G.removeListener("error",Q),((K=this.parent.verifyOptions.rejectUnauthorized)!==null&&K!==void 0?K:!0)&&!G.authorized){X(G.authorizationError);return}Z({socket:G,secure:!0})});G.once("close",W),G.once("error",Q)})}async waitForReady(){await this.parent.getSecureContext()}getCallCredentials(){return this.callCredentials}destroy(){this.parent.unref()}};function aU5(J,Z,X){return new rj(J,Z,X!==null&&X!==void 0?X:{})}class Tc extends OA{constructor(J,Z){super();if(this.channelCredentials=J,this.callCredentials=Z,!J._isSecure())throw new Error("Cannot compose insecure credentials")}compose(J){let Z=this.callCredentials.compose(J);return new Tc(this.channelCredentials,Z)}_isSecure(){return!0}_equals(J){if(this===J)return!0;if(J instanceof Tc)return this.channelCredentials._equals(J.channelCredentials)&&this.callCredentials._equals(J.callCredentials);else return!1}_createSecureConnector(J,Z,X){let Y=this.callCredentials.compose(X!==null&&X!==void 0?X:fc.CallCredentials.createEmpty());return this.channelCredentials._createSecureConnector(J,Z,Y)}}});var oO=B((EE6)=>{Object.defineProperty(EE6,"__esModule",{value:!0});EE6.createChildChannelControlHelper=JO5;EE6.registerLoadBalancerType=ZO5;EE6.registerDefaultLoadBalancerType=XO5;EE6.createLoadBalancer=YO5;EE6.isLoadBalancerNameRegistered=$O5;EE6.parseLoadBalancingConfig=RE6;EE6.getDefaultConfig=zO5;EE6.selectLbConfigFromList=WO5;var tU5=$8(),eU5=p6();function JO5(J,Z){var X,Y,$,z,W,Q,G,K,q,H;return{createSubchannel:(Y=(X=Z.createSubchannel)===null||X===void 0?void 0:X.bind(Z))!==null&&Y!==void 0?Y:J.createSubchannel.bind(J),updateState:(z=($=Z.updateState)===null||$===void 0?void 0:$.bind(Z))!==null&&z!==void 0?z:J.updateState.bind(J),requestReresolution:(Q=(W=Z.requestReresolution)===null||W===void 0?void 0:W.bind(Z))!==null&&Q!==void 0?Q:J.requestReresolution.bind(J),addChannelzChild:(K=(G=Z.addChannelzChild)===null||G===void 0?void 0:G.bind(Z))!==null&&K!==void 0?K:J.addChannelzChild.bind(J),removeChannelzChild:(H=(q=Z.removeChannelzChild)===null||q===void 0?void 0:q.bind(Z))!==null&&H!==void 0?H:J.removeChannelzChild.bind(J)}}var fB={},JR=null;function ZO5(J,Z,X){fB[J]={LoadBalancer:Z,LoadBalancingConfig:X}}function XO5(J){JR=J}function YO5(J,Z){let X=J.getLoadBalancerName();if(X in fB)return new fB[X].LoadBalancer(Z);else return null}function $O5(J){return J in fB}function RE6(J){let Z=Object.keys(J);if(Z.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let X=Z[0];if(X in fB)try{return fB[X].LoadBalancingConfig.createFromJson(J[X])}catch(Y){throw new Error(`${X}: ${Y.message}`)}else throw new Error(`Unrecognized load balancing config name ${X}`)}function zO5(){if(!JR)throw new Error("No default load balancer type registered");return new fB[JR].LoadBalancingConfig}function WO5(J,Z=!1){for(let X of J)try{return RE6(X)}catch(Y){(0,tU5.log)(eU5.LogVerbosity.DEBUG,"Config parsing failed with error",Y.message);continue}if(Z)if(JR)return new fB[JR].LoadBalancingConfig;else return null;else return null}});var QH1=B((fE6)=>{Object.defineProperty(fE6,"__esModule",{value:!0});fE6.validateRetryThrottling=SE6;fE6.validateServiceConfig=TE6;fE6.extractAndSelectServiceConfig=LO5;var OO5=p("os"),kc=p6(),bc=/^\d+(\.\d{1,9})?s$/,DO5="node";function VO5(J){if("service"in J&&J.service!==""){if(typeof J.service!=="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof J.service}`);if("method"in J&&J.method!==""){if(typeof J.method!=="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof J.service}`);return{service:J.service,method:J.method}}else return{service:J.service}}else{if("method"in J&&J.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function IO5(J){if(!("maxAttempts"in J)||!Number.isInteger(J.maxAttempts)||J.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in J)||typeof J.initialBackoff!=="string"||!bc.test(J.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("maxBackoff"in J)||typeof J.maxBackoff!=="string"||!bc.test(J.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("backoffMultiplier"in J)||typeof J.backoffMultiplier!=="number"||J.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!(("retryableStatusCodes"in J)&&Array.isArray(J.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(J.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let Z of J.retryableStatusCodes)if(typeof Z==="number"){if(!Object.values(kc.Status).includes(Z))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof Z==="string"){if(!Object.values(kc.Status).includes(Z.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:J.maxAttempts,initialBackoff:J.initialBackoff,maxBackoff:J.maxBackoff,backoffMultiplier:J.backoffMultiplier,retryableStatusCodes:J.retryableStatusCodes}}function wO5(J){if(!("maxAttempts"in J)||!Number.isInteger(J.maxAttempts)||J.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in J&&(typeof J.hedgingDelay!=="string"||!bc.test(J.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in J&&Array.isArray(J.nonFatalStatusCodes))for(let X of J.nonFatalStatusCodes)if(typeof X==="number"){if(!Object.values(kc.Status).includes(X))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof X==="string"){if(!Object.values(kc.Status).includes(X.toUpperCase()))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number");let Z={maxAttempts:J.maxAttempts};if(J.hedgingDelay)Z.hedgingDelay=J.hedgingDelay;if(J.nonFatalStatusCodes)Z.nonFatalStatusCodes=J.nonFatalStatusCodes;return Z}function AO5(J){var Z;let X={name:[]};if(!("name"in J)||!Array.isArray(J.name))throw new Error("Invalid method config: invalid name array");for(let Y of J.name)X.name.push(VO5(Y));if("waitForReady"in J){if(typeof J.waitForReady!=="boolean")throw new Error("Invalid method config: invalid waitForReady");X.waitForReady=J.waitForReady}if("timeout"in J)if(typeof J.timeout==="object"){if(!("seconds"in J.timeout)||typeof J.timeout.seconds!=="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in J.timeout)||typeof J.timeout.nanos!=="number")throw new Error("Invalid method config: invalid timeout.nanos");X.timeout=J.timeout}else if(typeof J.timeout==="string"&&bc.test(J.timeout)){let Y=J.timeout.substring(0,J.timeout.length-1).split(".");X.timeout={seconds:Y[0]|0,nanos:((Z=Y[1])!==null&&Z!==void 0?Z:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in J){if(typeof J.maxRequestBytes!=="number")throw new Error("Invalid method config: invalid maxRequestBytes");X.maxRequestBytes=J.maxRequestBytes}if("maxResponseBytes"in J){if(typeof J.maxResponseBytes!=="number")throw new Error("Invalid method config: invalid maxRequestBytes");X.maxResponseBytes=J.maxResponseBytes}if("retryPolicy"in J)if("hedgingPolicy"in J)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");else X.retryPolicy=IO5(J.retryPolicy);else if("hedgingPolicy"in J)X.hedgingPolicy=wO5(J.hedgingPolicy);return X}function SE6(J){if(!("maxTokens"in J)||typeof J.maxTokens!=="number"||J.maxTokens<=0||J.maxTokens>1000)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in J)||typeof J.tokenRatio!=="number"||J.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+J.maxTokens.toFixed(3),tokenRatio:+J.tokenRatio.toFixed(3)}}function MO5(J){if(!(typeof J==="object"&&J!==null))throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof J}`);let Z=Object.keys(J);if(Z.length>1)throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${Z}`);if(Z.length===0)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return{[Z[0]]:J[Z[0]]}}function TE6(J){let Z={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in J)if(typeof J.loadBalancingPolicy==="string")Z.loadBalancingPolicy=J.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in J)if(Array.isArray(J.loadBalancingConfig))for(let Y of J.loadBalancingConfig)Z.loadBalancingConfig.push(MO5(Y));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in J){if(Array.isArray(J.methodConfig))for(let Y of J.methodConfig)Z.methodConfig.push(AO5(Y))}if("retryThrottling"in J)Z.retryThrottling=SE6(J.retryThrottling);let X=[];for(let Y of Z.methodConfig)for(let $ of Y.name){for(let z of X)if($.service===z.service&&$.method===z.method)throw new Error(`Invalid service config: duplicate name ${$.service}/${$.method}`);X.push($)}return Z}function NO5(J){if(!("serviceConfig"in J))throw new Error("Invalid service config choice: missing service config");let Z={serviceConfig:TE6(J.serviceConfig)};if("clientLanguage"in J)if(Array.isArray(J.clientLanguage)){Z.clientLanguage=[];for(let Y of J.clientLanguage)if(typeof Y==="string")Z.clientLanguage.push(Y);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in J)if(Array.isArray(J.clientHostname)){Z.clientHostname=[];for(let Y of J.clientHostname)if(typeof Y==="string")Z.clientHostname.push(Y);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in J)if(typeof J.percentage==="number"&&0<=J.percentage&&J.percentage<=100)Z.percentage=J.percentage;else throw new Error("Invalid service config choice: invalid percentage");let X=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let Y in J)if(!X.includes(Y))throw new Error(`Invalid service config choice: unexpected field ${Y}`);return Z}function PO5(J,Z){if(!Array.isArray(J))throw new Error("Invalid service config list");for(let X of J){let Y=NO5(X);if(typeof Y.percentage==="number"&&Z>Y.percentage)continue;if(Array.isArray(Y.clientHostname)){let $=!1;for(let z of Y.clientHostname)if(z===OO5.hostname())$=!0;if(!$)continue}if(Array.isArray(Y.clientLanguage)){let $=!1;for(let z of Y.clientLanguage)if(z===DO5)$=!0;if(!$)continue}return Y.serviceConfig}throw new Error("No matching service config found")}function LO5(J,Z){for(let X of J)if(X.length>0&&X[0].startsWith("grpc_config=")){let Y=X.join("").substring(12),$=JSON.parse(Y);return PO5($,Z)}return null}});var LX=B((bE6)=>{Object.defineProperty(bE6,"__esModule",{value:!0});bE6.ConnectivityState=void 0;var kE6;(function(J){J[J.IDLE=0]="IDLE",J[J.CONNECTING=1]="CONNECTING",J[J.READY=2]="READY",J[J.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",J[J.SHUTDOWN=4]="SHUTDOWN"})(kE6||(bE6.ConnectivityState=kE6={}))});var kB=B((vE6)=>{Object.defineProperty(vE6,"__esModule",{value:!0});vE6.QueuePicker=vE6.UnavailablePicker=vE6.PickResultType=void 0;var EO5=i9(),SO5=p6(),hc;(function(J){J[J.COMPLETE=0]="COMPLETE",J[J.QUEUE=1]="QUEUE",J[J.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",J[J.DROP=3]="DROP"})(hc||(vE6.PickResultType=hc={}));class _E6{constructor(J){this.status=Object.assign({code:SO5.Status.UNAVAILABLE,details:"No connection established",metadata:new EO5.Metadata},J)}pick(J){return{pickResultType:hc.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}vE6.UnavailablePicker=_E6;class yE6{constructor(J,Z){this.loadBalancer=J,this.childPicker=Z,this.calledExitIdle=!1}pick(J){if(!this.calledExitIdle)process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0;if(this.childPicker)return this.childPicker.pick(J);else return{pickResultType:hc.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}vE6.QueuePicker=yE6});var ZR=B((gE6)=>{Object.defineProperty(gE6,"__esModule",{value:!0});gE6.BackoffTimeout=void 0;var kO5=p6(),bO5=$8(),hO5="backoff",_O5=1000,yO5=1.6,vO5=120000,xO5=0.2;function gO5(J,Z){return Math.random()*(Z-J)+J}class _c{constructor(J,Z){if(this.callback=J,this.initialDelay=_O5,this.multiplier=yO5,this.maxDelay=vO5,this.jitter=xO5,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,this.id=_c.getNextId(),Z){if(Z.initialDelay)this.initialDelay=Z.initialDelay;if(Z.multiplier)this.multiplier=Z.multiplier;if(Z.jitter)this.jitter=Z.jitter;if(Z.maxDelay)this.maxDelay=Z.maxDelay}this.trace("constructed initialDelay="+this.initialDelay+" multiplier="+this.multiplier+" jitter="+this.jitter+" maxDelay="+this.maxDelay),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}static getNextId(){return this.nextId++}trace(J){bO5.trace(kO5.LogVerbosity.DEBUG,hO5,"{"+this.id+"} "+J)}runTimer(J){var Z,X;if(this.trace("runTimer(delay="+J+")"),this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+J),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.trace("timer fired"),this.running=!1,this.callback()},J),!this.hasRef)(X=(Z=this.timerId).unref)===null||X===void 0||X.call(Z)}runOnce(){this.trace("runOnce()"),this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let J=Math.min(this.nextDelay*this.multiplier,this.maxDelay),Z=J*this.jitter;this.nextDelay=J+gO5(-Z,Z)}stop(){this.trace("stop()"),clearTimeout(this.timerId),this.running=!1}reset(){if(this.trace("reset() running="+this.running),this.nextDelay=this.initialDelay,this.running){let J=new Date,Z=this.startTime;if(Z.setMilliseconds(Z.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),J<Z)this.runTimer(Z.getTime()-J.getTime());else this.running=!1}}isRunning(){return this.running}ref(){var J,Z;this.hasRef=!0,(Z=(J=this.timerId).ref)===null||Z===void 0||Z.call(J)}unref(){var J,Z;this.hasRef=!1,(Z=(J=this.timerId).unref)===null||Z===void 0||Z.call(J)}getEndTime(){return this.endTime}}gE6.BackoffTimeout=_c;_c.nextId=0});var yc=B((mE6)=>{Object.defineProperty(mE6,"__esModule",{value:!0});mE6.ChildLoadBalancerHandler=void 0;var dO5=oO(),uO5=LX(),mO5="child_load_balancer_helper";class uE6{constructor(J){this.channelControlHelper=J,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(Z){this.parent=Z,this.child=null}createSubchannel(Z,X){return this.parent.channelControlHelper.createSubchannel(Z,X)}updateState(Z,X,Y){var $;if(this.calledByPendingChild()){if(Z===uO5.ConnectivityState.CONNECTING)return;($=this.parent.currentChild)===null||$===void 0||$.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(Z,X,Y)}requestReresolution(){var Z;let X=(Z=this.parent.pendingChild)!==null&&Z!==void 0?Z:this.parent.currentChild;if(this.child===X)this.parent.channelControlHelper.requestReresolution()}setChild(Z){this.child=Z}addChannelzChild(Z){this.parent.channelControlHelper.addChannelzChild(Z)}removeChannelzChild(Z){this.parent.channelControlHelper.removeChannelzChild(Z)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(J,Z){return J.getLoadBalancerName()!==Z.getLoadBalancerName()}updateAddressList(J,Z,X){let Y;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,Z)){let $=new this.ChildPolicyHelper(this),z=(0,dO5.createLoadBalancer)(Z,$);if($.setChild(z),this.currentChild===null)this.currentChild=z,Y=this.currentChild;else{if(this.pendingChild)this.pendingChild.destroy();this.pendingChild=z,Y=this.pendingChild}}else if(this.pendingChild===null)Y=this.currentChild;else Y=this.pendingChild;this.latestConfig=Z,Y.updateAddressList(J,Z,X)}exitIdle(){if(this.currentChild){if(this.currentChild.exitIdle(),this.pendingChild)this.pendingChild.exitIdle()}}resetBackoff(){if(this.currentChild){if(this.currentChild.resetBackoff(),this.pendingChild)this.pendingChild.resetBackoff()}}destroy(){if(this.currentChild)this.currentChild.destroy(),this.currentChild=null;if(this.pendingChild)this.pendingChild.destroy(),this.pendingChild=null}getTypeName(){return mO5}}mE6.ChildLoadBalancerHandler=uE6});var oE6=B((nE6)=>{Object.defineProperty(nE6,"__esModule",{value:!0});nE6.ResolvingLoadBalancer=void 0;var cO5=oO(),lO5=QH1(),JJ=LX(),pO5=BW(),XR=kB(),nO5=ZR(),GH1=p6(),iO5=i9(),oO5=$8(),sO5=p6(),aO5=e7(),rO5=yc(),tO5="resolving_load_balancer";function lE6(J){oO5.trace(sO5.LogVerbosity.DEBUG,tO5,J)}var eO5=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function JD5(J,Z,X,Y){for(let $ of X.name)switch(Y){case"EMPTY":if(!$.service&&!$.method)return!0;break;case"SERVICE":if($.service===J&&!$.method)return!0;break;case"SERVICE_AND_METHOD":if($.service===J&&$.method===Z)return!0}return!1}function ZD5(J,Z,X,Y){for(let $ of X)if(JD5(J,Z,$,Y))return $;return null}function XD5(J){return{invoke(Z,X){var Y,$;let z=Z.split("/").filter((G)=>G.length>0),W=(Y=z[0])!==null&&Y!==void 0?Y:"",Q=($=z[1])!==null&&$!==void 0?$:"";if(J&&J.methodConfig)for(let G of eO5){let K=ZD5(W,Q,J.methodConfig,G);if(K)return{methodConfig:K,pickInformation:{},status:GH1.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:GH1.Status.OK,dynamicFilterFactories:[]}},unref(){}}}class pE6{constructor(J,Z,X,Y,$){if(this.target=J,this.channelControlHelper=Z,this.channelOptions=X,this.onSuccessfulResolution=Y,this.onFailedResolution=$,this.latestChildState=JJ.ConnectivityState.IDLE,this.latestChildPicker=new XR.QueuePicker(this),this.latestChildErrorMessage=null,this.currentState=JJ.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,X["grpc.service_config"])this.defaultServiceConfig=(0,lO5.validateServiceConfig)(JSON.parse(X["grpc.service_config"]));else this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]};this.updateState(JJ.ConnectivityState.IDLE,new XR.QueuePicker(this),null),this.childLoadBalancer=new rO5.ChildLoadBalancerHandler({createSubchannel:Z.createSubchannel.bind(Z),requestReresolution:()=>{if(this.backoffTimeout.isRunning())lE6("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0;else this.updateResolution()},updateState:(W,Q,G)=>{this.latestChildState=W,this.latestChildPicker=Q,this.latestChildErrorMessage=G,this.updateState(W,Q,G)},addChannelzChild:Z.addChannelzChild.bind(Z),removeChannelzChild:Z.removeChannelzChild.bind(Z)}),this.innerResolver=(0,pO5.createResolver)(J,{onSuccessfulResolution:(W,Q,G,K,q)=>{var H;this.backoffTimeout.stop(),this.backoffTimeout.reset();let F=null;if(Q===null)if(G===null)this.previousServiceConfig=null,F=this.defaultServiceConfig;else if(this.previousServiceConfig===null)this.handleResolutionFailure(G);else F=this.previousServiceConfig;else F=Q,this.previousServiceConfig=Q;let U=(H=F===null||F===void 0?void 0:F.loadBalancingConfig)!==null&&H!==void 0?H:[],D=(0,cO5.selectLbConfigFromList)(U,!0);if(D===null){this.handleResolutionFailure({code:GH1.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new iO5.Metadata}),K===null||K===void 0||K.unref();return}this.childLoadBalancer.updateAddressList(W,D,Object.assign(Object.assign({},this.channelOptions),q));let V=F!==null&&F!==void 0?F:this.defaultServiceConfig;this.onSuccessfulResolution(V,K!==null&&K!==void 0?K:XD5(V))},onError:(W)=>{this.handleResolutionFailure(W)}},X);let z={initialDelay:X["grpc.initial_reconnect_backoff_ms"],maxDelay:X["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new nO5.BackoffTimeout(()=>{if(this.continueResolving)this.updateResolution(),this.continueResolving=!1;else this.updateState(this.latestChildState,this.latestChildPicker,this.latestChildErrorMessage)},z),this.backoffTimeout.unref()}updateResolution(){if(this.innerResolver.updateResolution(),this.currentState===JJ.ConnectivityState.IDLE)this.updateState(JJ.ConnectivityState.CONNECTING,this.latestChildPicker,this.latestChildErrorMessage);this.backoffTimeout.runOnce()}updateState(J,Z,X){if(lE6((0,aO5.uriToString)(this.target)+" "+JJ.ConnectivityState[this.currentState]+" -> "+JJ.ConnectivityState[J]),J===JJ.ConnectivityState.IDLE)Z=new XR.QueuePicker(this,Z);this.currentState=J,this.channelControlHelper.updateState(J,Z,X)}handleResolutionFailure(J){if(this.latestChildState===JJ.ConnectivityState.IDLE)this.updateState(JJ.ConnectivityState.TRANSIENT_FAILURE,new XR.UnavailablePicker(J),J.details),this.onFailedResolution(J)}exitIdle(){if(this.currentState===JJ.ConnectivityState.IDLE||this.currentState===JJ.ConnectivityState.TRANSIENT_FAILURE)if(this.backoffTimeout.isRunning())this.continueResolving=!0;else this.updateResolution();this.childLoadBalancer.exitIdle()}updateAddressList(J,Z){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=JJ.ConnectivityState.IDLE,this.latestChildPicker=new XR.QueuePicker(this),this.currentState=JJ.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}nE6.ResolvingLoadBalancer=pE6});var rE6=B((sE6)=>{Object.defineProperty(sE6,"__esModule",{value:!0});sE6.recognizedOptions=void 0;sE6.channelOptionsEqual=YD5;sE6.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0,"grpc-node.retry_max_attempts_limit":!0,"grpc-node.flow_control_window":!0};function YD5(J,Z){let X=Object.keys(J).sort(),Y=Object.keys(Z).sort();if(X.length!==Y.length)return!1;for(let $=0;$<X.length;$+=1){if(X[$]!==Y[$])return!1;if(J[X[$]]!==Z[Y[$]])return!1}return!0}});var CX=B((XS6)=>{Object.defineProperty(XS6,"__esModule",{value:!0});XS6.EndpointMap=void 0;XS6.isTcpSubchannelAddress=$R;XS6.subchannelAddressEqual=vc;XS6.subchannelAddressToString=eE6;XS6.stringToSubchannelAddress=WD5;XS6.endpointEqual=QD5;XS6.endpointToString=GD5;XS6.endpointHasAddress=JS6;var tE6=p("net");function $R(J){return"port"in J}function vc(J,Z){if(!J&&!Z)return!0;if(!J||!Z)return!1;if($R(J))return $R(Z)&&J.host===Z.host&&J.port===Z.port;else return!$R(Z)&&J.path===Z.path}function eE6(J){if($R(J))if((0,tE6.isIPv6)(J.host))return"["+J.host+"]:"+J.port;else return J.host+":"+J.port;else return J.path}var zD5=443;function WD5(J,Z){if((0,tE6.isIP)(J))return{host:J,port:Z!==null&&Z!==void 0?Z:zD5};else return{path:J}}function QD5(J,Z){if(J.addresses.length!==Z.addresses.length)return!1;for(let X=0;X<J.addresses.length;X++)if(!vc(J.addresses[X],Z.addresses[X]))return!1;return!0}function GD5(J){return"["+J.addresses.map(eE6).join(", ")+"]"}function JS6(J,Z){for(let X of J.addresses)if(vc(X,Z))return!0;return!1}function YR(J,Z){if(J.addresses.length!==Z.addresses.length)return!1;for(let X of J.addresses){let Y=!1;for(let $ of Z.addresses)if(vc(X,$)){Y=!0;break}if(!Y)return!1}return!0}class ZS6{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(J){for(let Z of this.map)if(JS6(Z.key,J))return Z.value;return}deleteMissing(J){let Z=[];for(let X of this.map){let Y=!1;for(let $ of J)if(YR($,X.key))Y=!0;if(!Y)Z.push(X.value),this.map.delete(X)}return Z}get(J){for(let Z of this.map)if(YR(J,Z.key))return Z.value;return}set(J,Z){for(let X of this.map)if(YR(J,X.key)){X.value=Z;return}this.map.add({key:J,value:Z})}delete(J){for(let Z of this.map)if(YR(J,Z.key)){this.map.delete(Z);return}}has(J){for(let Z of this.map)if(YR(J,Z.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(let J of this.map)yield J.key}*values(){for(let J of this.map)yield J.value}*entries(){for(let J of this.map)yield[J.key,J.value]}}XS6.EndpointMap=ZS6});var HS6=B((BS6)=>{Object.defineProperty(BS6,"t",{value:!0});class KH1{constructor(J,Z,X=1){this.i=void 0,this.h=void 0,this.o=void 0,this.u=J,this.l=Z,this.p=X}I(){let J=this,Z=J.o.o===J;if(Z&&J.p===1)J=J.h;else if(J.i){J=J.i;while(J.h)J=J.h}else{if(Z)return J.o;let X=J.o;while(X.i===J)J=X,X=J.o;J=X}return J}B(){let J=this;if(J.h){J=J.h;while(J.i)J=J.i;return J}else{let Z=J.o;while(Z.h===J)J=Z,Z=J.o;if(J.h!==Z)return Z;else return J}}_(){let J=this.o,Z=this.h,X=Z.i;if(J.o===this)J.o=Z;else if(J.i===this)J.i=Z;else J.h=Z;if(Z.o=J,Z.i=this,this.o=Z,this.h=X,X)X.o=this;return Z}g(){let J=this.o,Z=this.i,X=Z.h;if(J.o===this)J.o=Z;else if(J.i===this)J.i=Z;else J.h=Z;if(Z.o=J,Z.h=this,this.o=Z,this.i=X,X)X.o=this;return Z}}class $S6 extends KH1{constructor(){super(...arguments);this.M=1}_(){let J=super._();return this.O(),J.O(),J}g(){let J=super.g();return this.O(),J.O(),J}O(){if(this.M=1,this.i)this.M+=this.i.M;if(this.h)this.M+=this.h.M}}class zS6{constructor(J=0){this.iteratorType=J}equals(J){return this.T===J.T}}class WS6{constructor(){this.m=0}get length(){return this.m}size(){return this.m}empty(){return this.m===0}}class QS6 extends WS6{}function sO(){throw new RangeError("Iterator access denied!")}class GS6 extends QS6{constructor(J=function(X,Y){if(X<Y)return-1;if(X>Y)return 1;return 0},Z=!1){super();this.v=void 0,this.A=J,this.enableIndex=Z,this.N=Z?$S6:KH1,this.C=new this.N}R(J,Z){let X=this.C;while(J){let Y=this.A(J.u,Z);if(Y<0)J=J.h;else if(Y>0)X=J,J=J.i;else return J}return X}K(J,Z){let X=this.C;while(J)if(this.A(J.u,Z)<=0)J=J.h;else X=J,J=J.i;return X}L(J,Z){let X=this.C;while(J){let Y=this.A(J.u,Z);if(Y<0)X=J,J=J.h;else if(Y>0)J=J.i;else return J}return X}k(J,Z){let X=this.C;while(J)if(this.A(J.u,Z)<0)X=J,J=J.h;else J=J.i;return X}P(J){while(!0){let Z=J.o;if(Z===this.C)return;if(J.p===1){J.p=0;return}if(J===Z.i){let X=Z.h;if(X.p===1)if(X.p=0,Z.p=1,Z===this.v)this.v=Z._();else Z._();else if(X.h&&X.h.p===1){if(X.p=Z.p,Z.p=0,X.h.p=0,Z===this.v)this.v=Z._();else Z._();return}else if(X.i&&X.i.p===1)X.p=1,X.i.p=0,X.g();else X.p=1,J=Z}else{let X=Z.i;if(X.p===1)if(X.p=0,Z.p=1,Z===this.v)this.v=Z.g();else Z.g();else if(X.i&&X.i.p===1){if(X.p=Z.p,Z.p=0,X.i.p=0,Z===this.v)this.v=Z.g();else Z.g();return}else if(X.h&&X.h.p===1)X.p=1,X.h.p=0,X._();else X.p=1,J=Z}}}S(J){if(this.m===1){this.clear();return}let Z=J;while(Z.i||Z.h){if(Z.h){Z=Z.h;while(Z.i)Z=Z.i}else Z=Z.i;let Y=J.u;J.u=Z.u,Z.u=Y;let $=J.l;J.l=Z.l,Z.l=$,J=Z}if(this.C.i===Z)this.C.i=Z.o;else if(this.C.h===Z)this.C.h=Z.o;this.P(Z);let X=Z.o;if(Z===X.i)X.i=void 0;else X.h=void 0;if(this.m-=1,this.v.p=0,this.enableIndex)while(X!==this.C)X.M-=1,X=X.o}U(J){let Z=typeof J==="number"?J:void 0,X=typeof J==="function"?J:void 0,Y=typeof J==="undefined"?[]:void 0,$=0,z=this.v,W=[];while(W.length||z)if(z)W.push(z),z=z.i;else{if(z=W.pop(),$===Z)return z;Y&&Y.push(z),X&&X(z,$,this),$+=1,z=z.h}return Y}j(J){while(!0){let Z=J.o;if(Z.p===0)return;let X=Z.o;if(Z===X.i){let Y=X.h;if(Y&&Y.p===1){if(Y.p=Z.p=0,X===this.v)return;X.p=1,J=X;continue}else if(J===Z.h){if(J.p=0,J.i)J.i.o=Z;if(J.h)J.h.o=X;if(Z.h=J.i,X.i=J.h,J.i=Z,J.h=X,X===this.v)this.v=J,this.C.o=J;else{let $=X.o;if($.i===X)$.i=J;else $.h=J}J.o=X.o,Z.o=J,X.o=J,X.p=1}else{if(Z.p=0,X===this.v)this.v=X.g();else X.g();X.p=1;return}}else{let Y=X.i;if(Y&&Y.p===1){if(Y.p=Z.p=0,X===this.v)return;X.p=1,J=X;continue}else if(J===Z.i){if(J.p=0,J.i)J.i.o=X;if(J.h)J.h.o=Z;if(X.h=J.i,Z.i=J.h,J.i=X,J.h=Z,X===this.v)this.v=J,this.C.o=J;else{let $=X.o;if($.i===X)$.i=J;else $.h=J}J.o=X.o,Z.o=J,X.o=J,X.p=1}else{if(Z.p=0,X===this.v)this.v=X._();else X._();X.p=1;return}}if(this.enableIndex)Z.O(),X.O(),J.O();return}}q(J,Z,X){if(this.v===void 0)return this.m+=1,this.v=new this.N(J,Z,0),this.v.o=this.C,this.C.o=this.C.i=this.C.h=this.v,this.m;let Y,$=this.C.i,z=this.A($.u,J);if(z===0)return $.l=Z,this.m;else if(z>0)$.i=new this.N(J,Z),$.i.o=$,Y=$.i,this.C.i=Y;else{let W=this.C.h,Q=this.A(W.u,J);if(Q===0)return W.l=Z,this.m;else if(Q<0)W.h=new this.N(J,Z),W.h.o=W,Y=W.h,this.C.h=Y;else{if(X!==void 0){let G=X.T;if(G!==this.C){let K=this.A(G.u,J);if(K===0)return G.l=Z,this.m;else if(K>0){let q=G.I(),H=this.A(q.u,J);if(H===0)return q.l=Z,this.m;else if(H<0)if(Y=new this.N(J,Z),q.h===void 0)q.h=Y,Y.o=q;else G.i=Y,Y.o=G}}}if(Y===void 0){Y=this.v;while(!0){let G=this.A(Y.u,J);if(G>0){if(Y.i===void 0){Y.i=new this.N(J,Z),Y.i.o=Y,Y=Y.i;break}Y=Y.i}else if(G<0){if(Y.h===void 0){Y.h=new this.N(J,Z),Y.h.o=Y,Y=Y.h;break}Y=Y.h}else return Y.l=Z,this.m}}}}if(this.enableIndex){let W=Y.o;while(W!==this.C)W.M+=1,W=W.o}return this.j(Y),this.m+=1,this.m}H(J,Z){while(J){let X=this.A(J.u,Z);if(X<0)J=J.h;else if(X>0)J=J.i;else return J}return J||this.C}clear(){this.m=0,this.v=void 0,this.C.o=void 0,this.C.i=this.C.h=void 0}updateKeyByIterator(J,Z){let X=J.T;if(X===this.C)sO();if(this.m===1)return X.u=Z,!0;let Y=X.B().u;if(X===this.C.i){if(this.A(Y,Z)>0)return X.u=Z,!0;return!1}let $=X.I().u;if(X===this.C.h){if(this.A($,Z)<0)return X.u=Z,!0;return!1}if(this.A($,Z)>=0||this.A(Y,Z)<=0)return!1;return X.u=Z,!0}eraseElementByPos(J){if(J<0||J>this.m-1)throw new RangeError;let Z=this.U(J);return this.S(Z),this.m}eraseElementByKey(J){if(this.m===0)return!1;let Z=this.H(this.v,J);if(Z===this.C)return!1;return this.S(Z),!0}eraseElementByIterator(J){let Z=J.T;if(Z===this.C)sO();let X=Z.h===void 0;if(J.iteratorType===0){if(X)J.next()}else if(!X||Z.i===void 0)J.next();return this.S(Z),J}getHeight(){if(this.m===0)return 0;function J(Z){if(!Z)return 0;return Math.max(J(Z.i),J(Z.h))+1}return J(this.v)}}class KS6 extends zS6{constructor(J,Z,X){super(X);if(this.T=J,this.C=Z,this.iteratorType===0)this.pre=function(){if(this.T===this.C.i)sO();return this.T=this.T.I(),this},this.next=function(){if(this.T===this.C)sO();return this.T=this.T.B(),this};else this.pre=function(){if(this.T===this.C.h)sO();return this.T=this.T.B(),this},this.next=function(){if(this.T===this.C)sO();return this.T=this.T.I(),this}}get index(){let J=this.T,Z=this.C.o;if(J===this.C){if(Z)return Z.M-1;return 0}let X=0;if(J.i)X+=J.i.M;while(J!==Z){let Y=J.o;if(J===Y.h){if(X+=1,Y.i)X+=Y.i.M}J=Y}return X}isAccessible(){return this.T!==this.C}}class cY extends KS6{constructor(J,Z,X,Y){super(J,Z,Y);this.container=X}get pointer(){if(this.T===this.C)sO();let J=this;return new Proxy([],{get(Z,X){if(X==="0")return J.T.u;else if(X==="1")return J.T.l;return Z[0]=J.T.u,Z[1]=J.T.l,Z[X]},set(Z,X,Y){if(X!=="1")throw new TypeError("prop must be 1");return J.T.l=Y,!0}})}copy(){return new cY(this.T,this.C,this.container,this.iteratorType)}}class qS6 extends GS6{constructor(J=[],Z,X){super(Z,X);let Y=this;J.forEach(function($){Y.setElement($[0],$[1])})}begin(){return new cY(this.C.i||this.C,this.C,this)}end(){return new cY(this.C,this.C,this)}rBegin(){return new cY(this.C.h||this.C,this.C,this,1)}rEnd(){return new cY(this.C,this.C,this,1)}front(){if(this.m===0)return;let J=this.C.i;return[J.u,J.l]}back(){if(this.m===0)return;let J=this.C.h;return[J.u,J.l]}lowerBound(J){let Z=this.R(this.v,J);return new cY(Z,this.C,this)}upperBound(J){let Z=this.K(this.v,J);return new cY(Z,this.C,this)}reverseLowerBound(J){let Z=this.L(this.v,J);return new cY(Z,this.C,this)}reverseUpperBound(J){let Z=this.k(this.v,J);return new cY(Z,this.C,this)}forEach(J){this.U(function(Z,X,Y){J([Z.u,Z.l],X,Y)})}setElement(J,Z,X){return this.q(J,Z,X)}getElementByPos(J){if(J<0||J>this.m-1)throw new RangeError;let Z=this.U(J);return[Z.u,Z.l]}find(J){let Z=this.H(this.v,J);return new cY(Z,this.C,this)}getElementByKey(J){return this.H(this.v,J).l}union(J){let Z=this;return J.forEach(function(X){Z.setElement(X[0],X[1])}),this.m}*[Symbol.iterator](){let J=this.m,Z=this.U();for(let X=0;X<J;++X){let Y=Z[X];yield[Y.u,Y.l]}}}BS6.OrderedMap=qS6});var xc=B((US6)=>{Object.defineProperty(US6,"__esModule",{value:!0});US6.registerAdminService=VD5;US6.addAdminServicesToServer=ID5;var FS6=[];function VD5(J,Z){FS6.push({getServiceDefinition:J,getHandlers:Z})}function ID5(J){for(let{getServiceDefinition:Z,getHandlers:X}of FS6)J.addService(Z(),X())}});var MS6=B((wS6)=>{Object.defineProperty(wS6,"__esModule",{value:!0});wS6.ClientDuplexStreamImpl=wS6.ClientWritableStreamImpl=wS6.ClientReadableStreamImpl=wS6.ClientUnaryCallImpl=void 0;wS6.callErrorFromStatus=ND5;var MD5=p("events"),qH1=p("stream"),zR=p6();function ND5(J,Z){let X=`${J.code} ${zR.Status[J.code]}: ${J.details}`,$=`${new Error(X).stack}
for call at
${Z}`;return Object.assign(new Error(X),J,{stack:$})}class OS6 extends MD5.EventEmitter{constructor(){super()}cancel(){var J;(J=this.call)===null||J===void 0||J.cancelWithStatus(zR.Status.CANCELLED,"Cancelled on client")}getPeer(){var J,Z;return(Z=(J=this.call)===null||J===void 0?void 0:J.getPeer())!==null&&Z!==void 0?Z:"unknown"}}wS6.ClientUnaryCallImpl=OS6;class DS6 extends qH1.Readable{constructor(J){super({objectMode:!0});this.deserialize=J}cancel(){var J;(J=this.call)===null||J===void 0||J.cancelWithStatus(zR.Status.CANCELLED,"Cancelled on client")}getPeer(){var J,Z;return(Z=(J=this.call)===null||J===void 0?void 0:J.getPeer())!==null&&Z!==void 0?Z:"unknown"}_read(J){var Z;(Z=this.call)===null||Z===void 0||Z.startRead()}}wS6.ClientReadableStreamImpl=DS6;class VS6 extends qH1.Writable{constructor(J){super({objectMode:!0});this.serialize=J}cancel(){var J;(J=this.call)===null||J===void 0||J.cancelWithStatus(zR.Status.CANCELLED,"Cancelled on client")}getPeer(){var J,Z;return(Z=(J=this.call)===null||J===void 0?void 0:J.getPeer())!==null&&Z!==void 0?Z:"unknown"}_write(J,Z,X){var Y;let $={callback:X},z=Number(Z);if(!Number.isNaN(z))$.flags=z;(Y=this.call)===null||Y===void 0||Y.sendMessageWithContext($,J)}_final(J){var Z;(Z=this.call)===null||Z===void 0||Z.halfClose(),J()}}wS6.ClientWritableStreamImpl=VS6;class IS6 extends qH1.Duplex{constructor(J,Z){super({objectMode:!0});this.serialize=J,this.deserialize=Z}cancel(){var J;(J=this.call)===null||J===void 0||J.cancelWithStatus(zR.Status.CANCELLED,"Cancelled on client")}getPeer(){var J,Z;return(Z=(J=this.call)===null||J===void 0?void 0:J.getPeer())!==null&&Z!==void 0?Z:"unknown"}_read(J){var Z;(Z=this.call)===null||Z===void 0||Z.startRead()}_write(J,Z,X){var Y;let $={callback:X},z=Number(Z);if(!Number.isNaN(z))$.flags=z;(Y=this.call)===null||Y===void 0||Y.sendMessageWithContext($,J)}_final(J){var Z;(Z=this.call)===null||Z===void 0||Z.halfClose(),J()}}wS6.ClientDuplexStreamImpl=IS6});var CS6=B((PS6)=>{Object.defineProperty(PS6,"__esModule",{value:!0});PS6.InterceptingListenerImpl=void 0;PS6.isInterceptingListener=RD5;function RD5(J){return J.onReceiveMetadata!==void 0&&J.onReceiveMetadata.length===1}class NS6{constructor(J,Z){this.listener=J,this.nextListener=Z,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){if(this.hasPendingMessage)this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1}processPendingStatus(){if(this.pendingStatus)this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(J){this.processingMetadata=!0,this.listener.onReceiveMetadata(J,(Z)=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(Z),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(J){this.processingMessage=!0,this.listener.onReceiveMessage(J,(Z)=>{if(this.processingMessage=!1,this.processingMetadata)this.pendingMessage=Z,this.hasPendingMessage=!0;else this.nextListener.onReceiveMessage(Z),this.processPendingStatus()})}onReceiveStatus(J){this.listener.onReceiveStatus(J,(Z)=>{if(this.processingMetadata||this.processingMessage)this.pendingStatus=Z;else this.nextListener.onReceiveStatus(Z)})}}PS6.InterceptingListenerImpl=NS6});var FH1=B((hS6)=>{Object.defineProperty(hS6,"__esModule",{value:!0});hS6.InterceptingCall=hS6.RequesterBuilder=hS6.ListenerBuilder=hS6.InterceptorConfigurationError=void 0;hS6.getInterceptingCall=kD5;var SD5=i9(),jS6=CS6(),RS6=p6(),ES6=Lc();class QR extends Error{constructor(J){super(J);this.name="InterceptorConfigurationError",Error.captureStackTrace(this,QR)}}hS6.InterceptorConfigurationError=QR;class SS6{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(J){return this.metadata=J,this}withOnReceiveMessage(J){return this.message=J,this}withOnReceiveStatus(J){return this.status=J,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}hS6.ListenerBuilder=SS6;class TS6{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(J){return this.start=J,this}withSendMessage(J){return this.message=J,this}withHalfClose(J){return this.halfClose=J,this}withCancel(J){return this.cancel=J,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}hS6.RequesterBuilder=TS6;var BH1={onReceiveMetadata:(J,Z)=>{Z(J)},onReceiveMessage:(J,Z)=>{Z(J)},onReceiveStatus:(J,Z)=>{Z(J)}},WR={start:(J,Z,X)=>{X(J,Z)},sendMessage:(J,Z)=>{Z(J)},halfClose:(J)=>{J()},cancel:(J)=>{J()}};class fS6{constructor(J,Z){var X,Y,$,z;if(this.nextCall=J,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,Z)this.requester={start:(X=Z.start)!==null&&X!==void 0?X:WR.start,sendMessage:(Y=Z.sendMessage)!==null&&Y!==void 0?Y:WR.sendMessage,halfClose:($=Z.halfClose)!==null&&$!==void 0?$:WR.halfClose,cancel:(z=Z.cancel)!==null&&z!==void 0?z:WR.cancel};else this.requester=WR}cancelWithStatus(J,Z){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(J,Z)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){if(this.pendingMessageContext)this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null}processPendingHalfClose(){if(this.pendingHalfClose)this.nextCall.halfClose()}start(J,Z){var X,Y,$,z,W,Q;let G={onReceiveMetadata:(Y=(X=Z===null||Z===void 0?void 0:Z.onReceiveMetadata)===null||X===void 0?void 0:X.bind(Z))!==null&&Y!==void 0?Y:(K)=>{},onReceiveMessage:(z=($=Z===null||Z===void 0?void 0:Z.onReceiveMessage)===null||$===void 0?void 0:$.bind(Z))!==null&&z!==void 0?z:(K)=>{},onReceiveStatus:(Q=(W=Z===null||Z===void 0?void 0:Z.onReceiveStatus)===null||W===void 0?void 0:W.bind(Z))!==null&&Q!==void 0?Q:(K)=>{}};this.processingMetadata=!0,this.requester.start(J,G,(K,q)=>{var H,F,U;this.processingMetadata=!1;let D;if((0,jS6.isInterceptingListener)(q))D=q;else{let V={onReceiveMetadata:(H=q.onReceiveMetadata)!==null&&H!==void 0?H:BH1.onReceiveMetadata,onReceiveMessage:(F=q.onReceiveMessage)!==null&&F!==void 0?F:BH1.onReceiveMessage,onReceiveStatus:(U=q.onReceiveStatus)!==null&&U!==void 0?U:BH1.onReceiveStatus};D=new jS6.InterceptingListenerImpl(V,G)}this.nextCall.start(K,D),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(J,Z){this.processingMessage=!0,this.requester.sendMessage(Z,(X)=>{if(this.processingMessage=!1,this.processingMetadata)this.pendingMessageContext=J,this.pendingMessage=Z;else this.nextCall.sendMessageWithContext(J,X),this.processPendingHalfClose()})}sendMessage(J){this.sendMessageWithContext({},J)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{if(this.processingMetadata||this.processingMessage)this.pendingHalfClose=!0;else this.nextCall.halfClose()})}}hS6.InterceptingCall=fS6;function TD5(J,Z,X){var Y,$;let z=(Y=X.deadline)!==null&&Y!==void 0?Y:1/0,W=X.host,Q=($=X.parent)!==null&&$!==void 0?$:null,G=X.propagate_flags,K=X.credentials,q=J.createCall(Z,z,W,Q,G);if(K)q.setCredentials(K);return q}class HH1{constructor(J,Z){this.call=J,this.methodDefinition=Z}cancelWithStatus(J,Z){this.call.cancelWithStatus(J,Z)}getPeer(){return this.call.getPeer()}sendMessageWithContext(J,Z){let X;try{X=this.methodDefinition.requestSerialize(Z)}catch(Y){this.call.cancelWithStatus(RS6.Status.INTERNAL,`Request message serialization failure: ${(0,ES6.getErrorMessage)(Y)}`);return}this.call.sendMessageWithContext(J,X)}sendMessage(J){this.sendMessageWithContext({},J)}start(J,Z){let X=null;this.call.start(J,{onReceiveMetadata:(Y)=>{var $;($=Z===null||Z===void 0?void 0:Z.onReceiveMetadata)===null||$===void 0||$.call(Z,Y)},onReceiveMessage:(Y)=>{var $;let z;try{z=this.methodDefinition.responseDeserialize(Y)}catch(W){X={code:RS6.Status.INTERNAL,details:`Response message parsing error: ${(0,ES6.getErrorMessage)(W)}`,metadata:new SD5.Metadata},this.call.cancelWithStatus(X.code,X.details);return}($=Z===null||Z===void 0?void 0:Z.onReceiveMessage)===null||$===void 0||$.call(Z,z)},onReceiveStatus:(Y)=>{var $,z;if(X)($=Z===null||Z===void 0?void 0:Z.onReceiveStatus)===null||$===void 0||$.call(Z,X);else(z=Z===null||Z===void 0?void 0:Z.onReceiveStatus)===null||z===void 0||z.call(Z,Y)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class kS6 extends HH1{constructor(J,Z){super(J,Z)}start(J,Z){var X,Y;let $=!1,z={onReceiveMetadata:(Y=(X=Z===null||Z===void 0?void 0:Z.onReceiveMetadata)===null||X===void 0?void 0:X.bind(Z))!==null&&Y!==void 0?Y:(W)=>{},onReceiveMessage:(W)=>{var Q;$=!0,(Q=Z===null||Z===void 0?void 0:Z.onReceiveMessage)===null||Q===void 0||Q.call(Z,W)},onReceiveStatus:(W)=>{var Q,G;if(!$)(Q=Z===null||Z===void 0?void 0:Z.onReceiveMessage)===null||Q===void 0||Q.call(Z,null);(G=Z===null||Z===void 0?void 0:Z.onReceiveStatus)===null||G===void 0||G.call(Z,W)}};super.start(J,z),this.call.startRead()}}class bS6 extends HH1{}function fD5(J,Z,X){let Y=TD5(J,X.path,Z);if(X.responseStream)return new bS6(Y,X);else return new kS6(Y,X)}function kD5(J,Z,X,Y){if(J.clientInterceptors.length>0&&J.clientInterceptorProviders.length>0)throw new QR("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(J.callInterceptors.length>0&&J.callInterceptorProviders.length>0)throw new QR("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let $=[];if(J.callInterceptors.length>0||J.callInterceptorProviders.length>0)$=[].concat(J.callInterceptors,J.callInterceptorProviders.map((Q)=>Q(Z))).filter((Q)=>Q);else $=[].concat(J.clientInterceptors,J.clientInterceptorProviders.map((Q)=>Q(Z))).filter((Q)=>Q);let z=Object.assign({},X,{method_definition:Z});return $.reduceRight((Q,G)=>{return(K)=>G(K,Q)},(Q)=>fD5(Y,Q,Z))(z)}});var OH1=B((vS6)=>{Object.defineProperty(vS6,"__esModule",{value:!0});vS6.Client=void 0;var HW=MS6(),vD5=DH1(),xD5=LX(),bB=p6(),DA=i9(),gc=FH1(),lY=Symbol(),VA=Symbol(),IA=Symbol(),rG=Symbol();function UH1(J){return typeof J==="function"}function wA(J){var Z;return((Z=J.stack)===null||Z===void 0?void 0:Z.split(`
`).slice(1).join(`
`))||"no stack trace available"}class yS6{constructor(J,Z,X={}){var Y,$;if(X=Object.assign({},X),this[VA]=(Y=X.interceptors)!==null&&Y!==void 0?Y:[],delete X.interceptors,this[IA]=($=X.interceptor_providers)!==null&&$!==void 0?$:[],delete X.interceptor_providers,this[VA].length>0&&this[IA].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[rG]=X.callInvocationTransformer,delete X.callInvocationTransformer,X.channelOverride)this[lY]=X.channelOverride;else if(X.channelFactoryOverride){let z=X.channelFactoryOverride;delete X.channelFactoryOverride,this[lY]=z(J,Z,X)}else this[lY]=new vD5.ChannelImplementation(J,Z,X)}close(){this[lY].close()}getChannel(){return this[lY]}waitForReady(J,Z){let X=(Y)=>{if(Y){Z(new Error("Failed to connect before the deadline"));return}let $;try{$=this[lY].getConnectivityState(!0)}catch(z){Z(new Error("The channel has been closed"));return}if($===xD5.ConnectivityState.READY)Z();else try{this[lY].watchConnectivityState($,J,X)}catch(z){Z(new Error("The channel has been closed"))}};setImmediate(X)}checkOptionalUnaryResponseArguments(J,Z,X){if(UH1(J))return{metadata:new DA.Metadata,options:{},callback:J};else if(UH1(Z))if(J instanceof DA.Metadata)return{metadata:J,options:{},callback:Z};else return{metadata:new DA.Metadata,options:J,callback:Z};else{if(!(J instanceof DA.Metadata&&Z instanceof Object&&UH1(X)))throw new Error("Incorrect arguments passed");return{metadata:J,options:Z,callback:X}}}makeUnaryRequest(J,Z,X,Y,$,z,W){var Q,G;let K=this.checkOptionalUnaryResponseArguments($,z,W),q={path:J,requestStream:!1,responseStream:!1,requestSerialize:Z,responseDeserialize:X},H={argument:Y,metadata:K.metadata,call:new HW.ClientUnaryCallImpl,channel:this[lY],methodDefinition:q,callOptions:K.options,callback:K.callback};if(this[rG])H=this[rG](H);let F=H.call,U={clientInterceptors:this[VA],clientInterceptorProviders:this[IA],callInterceptors:(Q=H.callOptions.interceptors)!==null&&Q!==void 0?Q:[],callInterceptorProviders:(G=H.callOptions.interceptor_providers)!==null&&G!==void 0?G:[]},D=(0,gc.getInterceptingCall)(U,H.methodDefinition,H.callOptions,H.channel);F.call=D;let V=null,w=!1,M=new Error;return D.start(H.metadata,{onReceiveMetadata:(P)=>{F.emit("metadata",P)},onReceiveMessage(P){if(V!==null)D.cancelWithStatus(bB.Status.UNIMPLEMENTED,"Too many responses received");V=P},onReceiveStatus(P){if(w)return;if(w=!0,P.code===bB.Status.OK)if(V===null){let R=wA(M);H.callback((0,HW.callErrorFromStatus)({code:bB.Status.UNIMPLEMENTED,details:"No message received",metadata:P.metadata},R))}else H.callback(null,V);else{let R=wA(M);H.callback((0,HW.callErrorFromStatus)(P,R))}M=null,F.emit("status",P)}}),D.sendMessage(Y),D.halfClose(),F}makeClientStreamRequest(J,Z,X,Y,$,z){var W,Q;let G=this.checkOptionalUnaryResponseArguments(Y,$,z),K={path:J,requestStream:!0,responseStream:!1,requestSerialize:Z,responseDeserialize:X},q={metadata:G.metadata,call:new HW.ClientWritableStreamImpl(Z),channel:this[lY],methodDefinition:K,callOptions:G.options,callback:G.callback};if(this[rG])q=this[rG](q);let H=q.call,F={clientInterceptors:this[VA],clientInterceptorProviders:this[IA],callInterceptors:(W=q.callOptions.interceptors)!==null&&W!==void 0?W:[],callInterceptorProviders:(Q=q.callOptions.interceptor_providers)!==null&&Q!==void 0?Q:[]},U=(0,gc.getInterceptingCall)(F,q.methodDefinition,q.callOptions,q.channel);H.call=U;let D=null,V=!1,w=new Error;return U.start(q.metadata,{onReceiveMetadata:(M)=>{H.emit("metadata",M)},onReceiveMessage(M){if(D!==null)U.cancelWithStatus(bB.Status.UNIMPLEMENTED,"Too many responses received");D=M,U.startRead()},onReceiveStatus(M){if(V)return;if(V=!0,M.code===bB.Status.OK)if(D===null){let P=wA(w);q.callback((0,HW.callErrorFromStatus)({code:bB.Status.UNIMPLEMENTED,details:"No message received",metadata:M.metadata},P))}else q.callback(null,D);else{let P=wA(w);q.callback((0,HW.callErrorFromStatus)(M,P))}w=null,H.emit("status",M)}}),H}checkMetadataAndOptions(J,Z){let X,Y;if(J instanceof DA.Metadata)if(X=J,Z)Y=Z;else Y={};else{if(J)Y=J;else Y={};X=new DA.Metadata}return{metadata:X,options:Y}}makeServerStreamRequest(J,Z,X,Y,$,z){var W,Q;let G=this.checkMetadataAndOptions($,z),K={path:J,requestStream:!1,responseStream:!0,requestSerialize:Z,responseDeserialize:X},q={argument:Y,metadata:G.metadata,call:new HW.ClientReadableStreamImpl(X),channel:this[lY],methodDefinition:K,callOptions:G.options};if(this[rG])q=this[rG](q);let H=q.call,F={clientInterceptors:this[VA],clientInterceptorProviders:this[IA],callInterceptors:(W=q.callOptions.interceptors)!==null&&W!==void 0?W:[],callInterceptorProviders:(Q=q.callOptions.interceptor_providers)!==null&&Q!==void 0?Q:[]},U=(0,gc.getInterceptingCall)(F,q.methodDefinition,q.callOptions,q.channel);H.call=U;let D=!1,V=new Error;return U.start(q.metadata,{onReceiveMetadata(w){H.emit("metadata",w)},onReceiveMessage(w){H.push(w)},onReceiveStatus(w){if(D)return;if(D=!0,H.push(null),w.code!==bB.Status.OK){let M=wA(V);H.emit("error",(0,HW.callErrorFromStatus)(w,M))}V=null,H.emit("status",w)}}),U.sendMessage(Y),U.halfClose(),H}makeBidiStreamRequest(J,Z,X,Y,$){var z,W;let Q=this.checkMetadataAndOptions(Y,$),G={path:J,requestStream:!0,responseStream:!0,requestSerialize:Z,responseDeserialize:X},K={metadata:Q.metadata,call:new HW.ClientDuplexStreamImpl(Z,X),channel:this[lY],methodDefinition:G,callOptions:Q.options};if(this[rG])K=this[rG](K);let q=K.call,H={clientInterceptors:this[VA],clientInterceptorProviders:this[IA],callInterceptors:(z=K.callOptions.interceptors)!==null&&z!==void 0?z:[],callInterceptorProviders:(W=K.callOptions.interceptor_providers)!==null&&W!==void 0?W:[]},F=(0,gc.getInterceptingCall)(H,K.methodDefinition,K.callOptions,K.channel);q.call=F;let U=!1,D=new Error;return F.start(K.metadata,{onReceiveMetadata(V){q.emit("metadata",V)},onReceiveMessage(V){q.push(V)},onReceiveStatus(V){if(U)return;if(U=!0,q.push(null),V.code!==bB.Status.OK){let w=wA(D);q.emit("error",(0,HW.callErrorFromStatus)(V,w))}D=null,q.emit("status",V)}}),q}}vS6.Client=yS6});var IH1=B((dS6)=>{Object.defineProperty(dS6,"__esModule",{value:!0});dS6.makeClientConstructor=gS6;dS6.loadPackageDefinition=mD5;var GR=OH1(),gD5={unary:GR.Client.prototype.makeUnaryRequest,server_stream:GR.Client.prototype.makeServerStreamRequest,client_stream:GR.Client.prototype.makeClientStreamRequest,bidi:GR.Client.prototype.makeBidiStreamRequest};function VH1(J){return["__proto__","prototype","constructor"].includes(J)}function gS6(J,Z,X){if(!X)X={};class Y extends GR.Client{}return Object.keys(J).forEach(($)=>{if(VH1($))return;let z=J[$],W;if(typeof $==="string"&&$.charAt(0)==="$")throw new Error("Method names cannot start with $");if(z.requestStream)if(z.responseStream)W="bidi";else W="client_stream";else if(z.responseStream)W="server_stream";else W="unary";let{requestSerialize:Q,responseDeserialize:G}=z,K=dD5(gD5[W],z.path,Q,G);if(Y.prototype[$]=K,Object.assign(Y.prototype[$],z),z.originalName&&!VH1(z.originalName))Y.prototype[z.originalName]=Y.prototype[$]}),Y.service=J,Y.serviceName=Z,Y}function dD5(J,Z,X,Y){return function(...$){return J.call(this,Z,X,Y,...$)}}function uD5(J){return"format"in J}function mD5(J){let Z={};for(let X in J)if(Object.prototype.hasOwnProperty.call(J,X)){let Y=J[X],$=X.split(".");if($.some((Q)=>VH1(Q)))continue;let z=$[$.length-1],W=Z;for(let Q of $.slice(0,-1)){if(!W[Q])W[Q]={};W=W[Q]}if(uD5(Y))W[z]=Y;else W[z]=gS6(Y,z,{})}return Z}});var BT6=B((QG7,qT6)=>{var pD5=1/0,nD5="[object Symbol]",iD5=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,oD5=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,uc="\\ud800-\\udfff",oS6="\\u0300-\\u036f\\ufe20-\\ufe23",sS6="\\u20d0-\\u20f0",aS6="\\u2700-\\u27bf",rS6="a-z\\xdf-\\xf6\\xf8-\\xff",sD5="\\xac\\xb1\\xd7\\xf7",aD5="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rD5="\\u2000-\\u206f",tD5=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tS6="A-Z\\xc0-\\xd6\\xd8-\\xde",eS6="\\ufe0e\\ufe0f",JT6=sD5+aD5+rD5+tD5,AH1="['\u2019]",eD5="["+uc+"]",uS6="["+JT6+"]",dc="["+oS6+sS6+"]",ZT6="\\d+",JV5="["+aS6+"]",XT6="["+rS6+"]",YT6="[^"+uc+JT6+ZT6+aS6+rS6+tS6+"]",wH1="\\ud83c[\\udffb-\\udfff]",ZV5="(?:"+dc+"|"+wH1+")",$T6="[^"+uc+"]",MH1="(?:\\ud83c[\\udde6-\\uddff]){2}",NH1="[\\ud800-\\udbff][\\udc00-\\udfff]",AA="["+tS6+"]",zT6="\\u200d",mS6="(?:"+XT6+"|"+YT6+")",XV5="(?:"+AA+"|"+YT6+")",cS6="(?:"+AH1+"(?:d|ll|m|re|s|t|ve))?",lS6="(?:"+AH1+"(?:D|LL|M|RE|S|T|VE))?",WT6=ZV5+"?",QT6="["+eS6+"]?",YV5="(?:"+zT6+"(?:"+[$T6,MH1,NH1].join("|")+")"+QT6+WT6+")*",GT6=QT6+WT6+YV5,$V5="(?:"+[JV5,MH1,NH1].join("|")+")"+GT6,zV5="(?:"+[$T6+dc+"?",dc,MH1,NH1,eD5].join("|")+")",WV5=RegExp(AH1,"g"),QV5=RegExp(dc,"g"),GV5=RegExp(wH1+"(?="+wH1+")|"+zV5+GT6,"g"),KV5=RegExp([AA+"?"+XT6+"+"+cS6+"(?="+[uS6,AA,"$"].join("|")+")",XV5+"+"+lS6+"(?="+[uS6,AA+mS6,"$"].join("|")+")",AA+"?"+mS6+"+"+cS6,AA+"+"+lS6,ZT6,$V5].join("|"),"g"),qV5=RegExp("["+zT6+uc+oS6+sS6+eS6+"]"),BV5=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,HV5={"\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xC7":"C","\xE7":"c","\xD0":"D","\xF0":"d","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xD1":"N","\xF1":"n","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xDD":"Y","\xFD":"y","\xFF":"y","\xC6":"Ae","\xE6":"ae","\xDE":"Th","\xFE":"th","\xDF":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010A":"C","\u010C":"C","\u0107":"c","\u0109":"c","\u010B":"c","\u010D":"c","\u010E":"D","\u0110":"D","\u010F":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011A":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011B":"e","\u011C":"G","\u011E":"G","\u0120":"G","\u0122":"G","\u011D":"g","\u011F":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012A":"I","\u012C":"I","\u012E":"I","\u0130":"I","\u0129":"i","\u012B":"i","\u012D":"i","\u012F":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013B":"L","\u013D":"L","\u013F":"L","\u0141":"L","\u013A":"l","\u013C":"l","\u013E":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014A":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014B":"n","\u014C":"O","\u014E":"O","\u0150":"O","\u014D":"o","\u014F":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015A":"S","\u015C":"S","\u015E":"S","\u0160":"S","\u015B":"s","\u015D":"s","\u015F":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016A":"U","\u016C":"U","\u016E":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016B":"u","\u016D":"u","\u016F":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017B":"Z","\u017D":"Z","\u017A":"z","\u017C":"z","\u017E":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017F":"ss"},FV5=typeof global=="object"&&global&&global.Object===Object&&global,UV5=typeof self=="object"&&self&&self.Object===Object&&self,OV5=FV5||UV5||Function("return this")();function DV5(J,Z,X,Y){var $=-1,z=J?J.length:0;if(Y&&z)X=J[++$];while(++$<z)X=Z(X,J[$],$,J);return X}function VV5(J){return J.split("")}function IV5(J){return J.match(iD5)||[]}function wV5(J){return function(Z){return J==null?void 0:J[Z]}}var AV5=wV5(HV5);function KT6(J){return qV5.test(J)}function MV5(J){return BV5.test(J)}function NV5(J){return KT6(J)?PV5(J):VV5(J)}function PV5(J){return J.match(GV5)||[]}function LV5(J){return J.match(KV5)||[]}var CV5=Object.prototype,jV5=CV5.toString,pS6=OV5.Symbol,nS6=pS6?pS6.prototype:void 0,iS6=nS6?nS6.toString:void 0;function RV5(J,Z,X){var Y=-1,$=J.length;if(Z<0)Z=-Z>$?0:$+Z;if(X=X>$?$:X,X<0)X+=$;$=Z>X?0:X-Z>>>0,Z>>>=0;var z=Array($);while(++Y<$)z[Y]=J[Y+Z];return z}function EV5(J){if(typeof J=="string")return J;if(bV5(J))return iS6?iS6.call(J):"";var Z=J+"";return Z=="0"&&1/J==-pD5?"-0":Z}function SV5(J,Z,X){var Y=J.length;return X=X===void 0?Y:X,!Z&&X>=Y?J:RV5(J,Z,X)}function TV5(J){return function(Z){Z=mc(Z);var X=KT6(Z)?NV5(Z):void 0,Y=X?X[0]:Z.charAt(0),$=X?SV5(X,1).join(""):Z.slice(1);return Y[J]()+$}}function fV5(J){return function(Z){return DV5(xV5(yV5(Z).replace(WV5,"")),J,"")}}function kV5(J){return!!J&&typeof J=="object"}function bV5(J){return typeof J=="symbol"||kV5(J)&&jV5.call(J)==nD5}function mc(J){return J==null?"":EV5(J)}var hV5=fV5(function(J,Z,X){return Z=Z.toLowerCase(),J+(X?_V5(Z):Z)});function _V5(J){return vV5(mc(J).toLowerCase())}function yV5(J){return J=mc(J),J&&J.replace(oD5,AV5).replace(QV5,"")}var vV5=TV5("toUpperCase");function xV5(J,Z,X){if(J=mc(J),Z=X?void 0:Z,Z===void 0)return MV5(J)?LV5(J):IV5(J);return J.match(Z)||[]}qT6.exports=hV5});var FT6=B((GG7,HT6)=>{HT6.exports=PH1;function PH1(J,Z){if(typeof J==="string")Z=J,J=void 0;var X=[];function Y(z){if(typeof z!=="string"){var W=$();if(PH1.verbose)console.log("codegen: "+W);if(W="return "+W,z){var Q=Object.keys(z),G=new Array(Q.length+1),K=new Array(Q.length),q=0;while(q<Q.length)G[q]=Q[q],K[q]=z[Q[q++]];return G[q]=W,Function.apply(null,G).apply(null,K)}return Function(W)()}var H=new Array(arguments.length-1),F=0;while(F<H.length)H[F]=arguments[++F];if(F=0,z=z.replace(/%([%dfijs])/g,function U(D,V){var w=H[F++];switch(V){case"d":case"f":return String(Number(w));case"i":return String(Math.floor(w));case"j":return JSON.stringify(w);case"s":return String(w)}return"%"}),F!==H.length)throw Error("parameter count mismatch");return X.push(z),Y}function $(z){return"function "+(z||Z||"")+"("+(J&&J.join(",")||"")+`){
  `+X.join(`
  `)+`
}`}return Y.toString=$,Y}PH1.verbose=!1});var OT6=B((KG7,UT6)=>{UT6.exports=KR;var gV5=iq1(),dV5=sq1(),LH1=dV5("fs");function KR(J,Z,X){if(typeof Z==="function")X=Z,Z={};else if(!Z)Z={};if(!X)return gV5(KR,this,J,Z);if(!Z.xhr&&LH1&&LH1.readFile)return LH1.readFile(J,function Y($,z){return $&&typeof XMLHttpRequest!=="undefined"?KR.xhr(J,Z,X):$?X($):X(null,Z.binary?z:z.toString("utf8"))});return KR.xhr(J,Z,X)}KR.xhr=function J(Z,X,Y){var $=new XMLHttpRequest;if($.onreadystatechange=function z(){if($.readyState!==4)return;if($.status!==0&&$.status!==200)return Y(Error("status "+$.status));if(X.binary){var W=$.response;if(!W){W=[];for(var Q=0;Q<$.responseText.length;++Q)W.push($.responseText.charCodeAt(Q)&255)}return Y(null,typeof Uint8Array!=="undefined"?new Uint8Array(W):W)}return Y(null,$.responseText)},X.binary){if("overrideMimeType"in $)$.overrideMimeType("text/plain; charset=x-user-defined");$.responseType="arraybuffer"}$.open("GET",Z),$.send()}});var IT6=B((VT6)=>{var jH1=VT6,DT6=jH1.isAbsolute=function J(Z){return/^(?:\/|\w+:)/.test(Z)},CH1=jH1.normalize=function J(Z){Z=Z.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var X=Z.split("/"),Y=DT6(Z),$="";if(Y)$=X.shift()+"/";for(var z=0;z<X.length;)if(X[z]==="..")if(z>0&&X[z-1]!=="..")X.splice(--z,2);else if(Y)X.splice(z,1);else++z;else if(X[z]===".")X.splice(z,1);else++z;return $+X.join("/")};jH1.resolve=function J(Z,X,Y){if(!Y)X=CH1(X);if(DT6(X))return X;if(!Y)Z=CH1(Z);return(Z=Z.replace(/(?:\/|^)[^/]+$/,"")).length?CH1(Z+"/"+X):X}});var NA=B((BG7,MT6)=>{MT6.exports=X4;var cc=_B();((X4.prototype=Object.create(cc.prototype)).constructor=X4).className="Namespace";var RH1=hB(),lc=z9(),uV5=tO(),aO,MA,rO;X4.fromJSON=function J(Z,X){return new X4(Z,X.options).addJSON(X.nested)};function wT6(J,Z){if(!(J&&J.length))return;var X={};for(var Y=0;Y<J.length;++Y)X[J[Y].name]=J[Y].toJSON(Z);return X}X4.arrayToJSON=wT6;X4.isReservedId=function J(Z,X){if(Z){for(var Y=0;Y<Z.length;++Y)if(typeof Z[Y]!=="string"&&Z[Y][0]<=X&&Z[Y][1]>X)return!0}return!1};X4.isReservedName=function J(Z,X){if(Z){for(var Y=0;Y<Z.length;++Y)if(Z[Y]===X)return!0}return!1};function X4(J,Z){cc.call(this,J,Z),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function AT6(J){J._nestedArray=null,J._lookupCache={};var Z=J;while(Z=Z.parent)Z._lookupCache={};return J}Object.defineProperty(X4.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=lc.toArray(this.nested))}});X4.prototype.toJSON=function J(Z){return lc.toObject(["options",this.options,"nested",wT6(this.nestedArray,Z)])};X4.prototype.addJSON=function J(Z){var X=this;if(Z)for(var Y=Object.keys(Z),$=0,z;$<Y.length;++$)z=Z[Y[$]],X.add((z.fields!==void 0?aO.fromJSON:z.values!==void 0?rO.fromJSON:z.methods!==void 0?MA.fromJSON:z.id!==void 0?RH1.fromJSON:X4.fromJSON)(Y[$],z));return this};X4.prototype.get=function J(Z){return this.nested&&this.nested[Z]||null};X4.prototype.getEnum=function J(Z){if(this.nested&&this.nested[Z]instanceof rO)return this.nested[Z].values;throw Error("no such enum: "+Z)};X4.prototype.add=function J(Z){if(!(Z instanceof RH1&&Z.extend!==void 0||Z instanceof aO||Z instanceof uV5||Z instanceof rO||Z instanceof MA||Z instanceof X4))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var X=this.get(Z.name);if(X)if(X instanceof X4&&Z instanceof X4&&!(X instanceof aO||X instanceof MA)){var Y=X.nestedArray;for(var $=0;$<Y.length;++$)Z.add(Y[$]);if(this.remove(X),!this.nested)this.nested={};Z.setOptions(X.options,!0)}else throw Error("duplicate name '"+Z.name+"' in "+this)}if(this.nested[Z.name]=Z,!(this instanceof aO||this instanceof MA||this instanceof rO||this instanceof RH1)){if(!Z._edition)Z._edition=Z._defaultEdition}this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;var z=this;while(z=z.parent)z._needsRecursiveFeatureResolution=!0,z._needsRecursiveResolve=!0;return Z.onAdd(this),AT6(this)};X4.prototype.remove=function J(Z){if(!(Z instanceof cc))throw TypeError("object must be a ReflectionObject");if(Z.parent!==this)throw Error(Z+" is not a member of "+this);if(delete this.nested[Z.name],!Object.keys(this.nested).length)this.nested=void 0;return Z.onRemove(this),AT6(this)};X4.prototype.define=function J(Z,X){if(lc.isString(Z))Z=Z.split(".");else if(!Array.isArray(Z))throw TypeError("illegal path");if(Z&&Z.length&&Z[0]==="")throw Error("path must be relative");var Y=this;while(Z.length>0){var $=Z.shift();if(Y.nested&&Y.nested[$]){if(Y=Y.nested[$],!(Y instanceof X4))throw Error("path conflicts with non-namespace objects")}else Y.add(Y=new X4($))}if(X)Y.addJSON(X);return Y};X4.prototype.resolveAll=function J(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var Z=this.nestedArray,X=0;this.resolve();while(X<Z.length)if(Z[X]instanceof X4)Z[X++].resolveAll();else Z[X++].resolve();return this._needsRecursiveResolve=!1,this};X4.prototype._resolveFeaturesRecursive=function J(Z){if(!this._needsRecursiveFeatureResolution)return this;return this._needsRecursiveFeatureResolution=!1,Z=this._edition||Z,cc.prototype._resolveFeaturesRecursive.call(this,Z),this.nestedArray.forEach((X)=>{X._resolveFeaturesRecursive(Z)}),this};X4.prototype.lookup=function J(Z,X,Y){if(typeof X==="boolean")Y=X,X=void 0;else if(X&&!Array.isArray(X))X=[X];if(lc.isString(Z)&&Z.length){if(Z===".")return this.root;Z=Z.split(".")}else if(!Z.length)return this;var $=Z.join(".");if(Z[0]==="")return this.root.lookup(Z.slice(1),X);var z=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+$];if(z&&(!X||X.indexOf(z.constructor)>-1))return z;if(z=this._lookupImpl(Z,$),z&&(!X||X.indexOf(z.constructor)>-1))return z;if(Y)return null;var W=this;while(W.parent){if(z=W.parent._lookupImpl(Z,$),z&&(!X||X.indexOf(z.constructor)>-1))return z;W=W.parent}return null};X4.prototype._lookupImpl=function J(Z,X){if(Object.prototype.hasOwnProperty.call(this._lookupCache,X))return this._lookupCache[X];var Y=this.get(Z[0]),$=null;if(Y){if(Z.length===1)$=Y;else if(Y instanceof X4)Z=Z.slice(1),$=Y._lookupImpl(Z,Z.join("."))}else for(var z=0;z<this.nestedArray.length;++z)if(this._nestedArray[z]instanceof X4&&(Y=this._nestedArray[z]._lookupImpl(Z,X)))$=Y;return this._lookupCache[X]=$,$};X4.prototype.lookupType=function J(Z){var X=this.lookup(Z,[aO]);if(!X)throw Error("no such type: "+Z);return X};X4.prototype.lookupEnum=function J(Z){var X=this.lookup(Z,[rO]);if(!X)throw Error("no such Enum '"+Z+"' in "+this);return X};X4.prototype.lookupTypeOrEnum=function J(Z){var X=this.lookup(Z,[aO,rO]);if(!X)throw Error("no such Type or Enum '"+Z+"' in "+this);return X};X4.prototype.lookupService=function J(Z){var X=this.lookup(Z,[MA]);if(!X)throw Error("no such Service '"+Z+"' in "+this);return X};X4._configure=function(J,Z,X){aO=J,MA=Z,rO=X}});var pc=B((HG7,NT6)=>{NT6.exports=tG;var EH1=hB();((tG.prototype=Object.create(EH1.prototype)).constructor=tG).className="MapField";var mV5=eO(),qR=z9();function tG(J,Z,X,Y,$,z){if(EH1.call(this,J,Z,Y,void 0,void 0,$,z),!qR.isString(X))throw TypeError("keyType must be a string");this.keyType=X,this.resolvedKeyType=null,this.map=!0}tG.fromJSON=function J(Z,X){return new tG(Z,X.id,X.keyType,X.type,X.options,X.comment)};tG.prototype.toJSON=function J(Z){var X=Z?Boolean(Z.keepComments):!1;return qR.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",X?this.comment:void 0])};tG.prototype.resolve=function J(){if(this.resolved)return this;if(mV5.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return EH1.prototype.resolve.call(this)};tG.d=function J(Z,X,Y){if(typeof Y==="function")Y=qR.decorateType(Y).name;else if(Y&&typeof Y==="object")Y=qR.decorateEnum(Y).name;return function $(z,W){qR.decorateType(z.constructor).add(new tG(W,Z,X,Y))}}});var nc=B((FG7,PT6)=>{PT6.exports=JD;var SH1=_B();((JD.prototype=Object.create(SH1.prototype)).constructor=JD).className="Method";var PA=z9();function JD(J,Z,X,Y,$,z,W,Q,G){if(PA.isObject($))W=$,$=z=void 0;else if(PA.isObject(z))W=z,z=void 0;if(!(Z===void 0||PA.isString(Z)))throw TypeError("type must be a string");if(!PA.isString(X))throw TypeError("requestType must be a string");if(!PA.isString(Y))throw TypeError("responseType must be a string");SH1.call(this,J,W),this.type=Z||"rpc",this.requestType=X,this.requestStream=$?!0:void 0,this.responseType=Y,this.responseStream=z?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=Q,this.parsedOptions=G}JD.fromJSON=function J(Z,X){return new JD(Z,X.type,X.requestType,X.responseType,X.requestStream,X.responseStream,X.options,X.comment,X.parsedOptions)};JD.prototype.toJSON=function J(Z){var X=Z?Boolean(Z.keepComments):!1;return PA.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",X?this.comment:void 0,"parsedOptions",this.parsedOptions])};JD.prototype.resolve=function J(){if(this.resolved)return this;return this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),SH1.prototype.resolve.call(this)}});var ic=B((UG7,CT6)=>{CT6.exports=kJ;var eG=NA();((kJ.prototype=Object.create(eG.prototype)).constructor=kJ).className="Service";var TH1=nc(),BR=z9(),cV5=QB1();function kJ(J,Z){eG.call(this,J,Z),this.methods={},this._methodsArray=null}kJ.fromJSON=function J(Z,X){var Y=new kJ(Z,X.options);if(X.methods)for(var $=Object.keys(X.methods),z=0;z<$.length;++z)Y.add(TH1.fromJSON($[z],X.methods[$[z]]));if(X.nested)Y.addJSON(X.nested);if(X.edition)Y._edition=X.edition;return Y.comment=X.comment,Y._defaultEdition="proto3",Y};kJ.prototype.toJSON=function J(Z){var X=eG.prototype.toJSON.call(this,Z),Y=Z?Boolean(Z.keepComments):!1;return BR.toObject(["edition",this._editionToJSON(),"options",X&&X.options||void 0,"methods",eG.arrayToJSON(this.methodsArray,Z)||{},"nested",X&&X.nested||void 0,"comment",Y?this.comment:void 0])};Object.defineProperty(kJ.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=BR.toArray(this.methods))}});function LT6(J){return J._methodsArray=null,J}kJ.prototype.get=function J(Z){return this.methods[Z]||eG.prototype.get.call(this,Z)};kJ.prototype.resolveAll=function J(){if(!this._needsRecursiveResolve)return this;eG.prototype.resolve.call(this);var Z=this.methodsArray;for(var X=0;X<Z.length;++X)Z[X].resolve();return this};kJ.prototype._resolveFeaturesRecursive=function J(Z){if(!this._needsRecursiveFeatureResolution)return this;return Z=this._edition||Z,eG.prototype._resolveFeaturesRecursive.call(this,Z),this.methodsArray.forEach((X)=>{X._resolveFeaturesRecursive(Z)}),this};kJ.prototype.add=function J(Z){if(this.get(Z.name))throw Error("duplicate name '"+Z.name+"' in "+this);if(Z instanceof TH1)return this.methods[Z.name]=Z,Z.parent=this,LT6(this);return eG.prototype.add.call(this,Z)};kJ.prototype.remove=function J(Z){if(Z instanceof TH1){if(this.methods[Z.name]!==Z)throw Error(Z+" is not a member of "+this);return delete this.methods[Z.name],Z.parent=null,LT6(this)}return eG.prototype.remove.call(this,Z)};kJ.prototype.create=function J(Z,X,Y){var $=new cV5.Service(Z,X,Y);for(var z=0,W;z<this.methodsArray.length;++z){var Q=BR.lcFirst((W=this._methodsArray[z]).resolve().name).replace(/[^$\w_]/g,"");$[Q]=BR.codegen(["r","c"],BR.isReserved(Q)?Q+"_":Q)("return this.rpcCall(m,q,s,r,c)")({m:W,q:W.resolvedRequestType.ctor,s:W.resolvedResponseType.ctor})}return $}});var oc=B((OG7,jT6)=>{jT6.exports=FW;var lV5=WW();function FW(J){if(J)for(var Z=Object.keys(J),X=0;X<Z.length;++X)this[Z[X]]=J[Z[X]]}FW.create=function J(Z){return this.$type.create(Z)};FW.encode=function J(Z,X){return this.$type.encode(Z,X)};FW.encodeDelimited=function J(Z,X){return this.$type.encodeDelimited(Z,X)};FW.decode=function J(Z){return this.$type.decode(Z)};FW.decodeDelimited=function J(Z){return this.$type.decodeDelimited(Z)};FW.verify=function J(Z){return this.$type.verify(Z)};FW.fromObject=function J(Z){return this.$type.fromObject(Z)};FW.toObject=function J(Z,X){return this.$type.toObject(Z,X)};FW.prototype.toJSON=function J(){return this.$type.toObject(this,lV5.toJSONOptions)}});var fH1=B((DG7,ET6)=>{ET6.exports=iV5;var pV5=pY(),JK=eO(),RT6=z9();function nV5(J){return"missing required '"+J.name+"'"}function iV5(J){var Z=RT6.codegen(["r","l","e"],J.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(J.fieldsArray.filter(function(Q){return Q.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),X=0;for(;X<J.fieldsArray.length;++X){var Y=J._fieldsArray[X].resolve(),$=Y.resolvedType instanceof pV5?"int32":Y.type,z="m"+RT6.safeProp(Y.name);if(Z("case %i: {",Y.id),Y.map){if(Z("if(%s===util.emptyObject)",z)("%s={}",z)("var c2 = r.uint32()+r.pos"),JK.defaults[Y.keyType]!==void 0)Z("k=%j",JK.defaults[Y.keyType]);else Z("k=null");if(JK.defaults[$]!==void 0)Z("value=%j",JK.defaults[$]);else Z("value=null");if(Z("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",Y.keyType)("case 2:"),JK.basic[$]===void 0)Z("value=types[%i].decode(r,r.uint32())",X);else Z("value=r.%s()",$);if(Z("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),JK.long[Y.keyType]!==void 0)Z('%s[typeof k==="object"?util.longToHash(k):k]=value',z);else Z("%s[k]=value",z)}else if(Y.repeated){if(Z("if(!(%s&&%s.length))",z,z)("%s=[]",z),JK.packed[$]!==void 0)Z("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",z,$)("}else");if(JK.basic[$]===void 0)Z(Y.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",z,X);else Z("%s.push(r.%s())",z,$)}else if(JK.basic[$]===void 0)Z(Y.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",z,X);else Z("%s=r.%s()",z,$);Z("break")("}")}Z("default:")("r.skipType(t&7)")("break")("}")("}");for(X=0;X<J._fieldsArray.length;++X){var W=J._fieldsArray[X];if(W.required)Z("if(!m.hasOwnProperty(%j))",W.name)("throw util.ProtocolError(%j,{instance:m})",nV5(W))}return Z("return m")}});var hH1=B((VG7,ST6)=>{ST6.exports=aV5;var oV5=pY(),kH1=z9();function jX(J,Z){return J.name+": "+Z+(J.repeated&&Z!=="array"?"[]":J.map&&Z!=="object"?"{k:"+J.keyType+"}":"")+" expected"}function bH1(J,Z,X,Y){if(Z.resolvedType)if(Z.resolvedType instanceof oV5){J("switch(%s){",Y)("default:")("return%j",jX(Z,"enum value"));for(var $=Object.keys(Z.resolvedType.values),z=0;z<$.length;++z)J("case %i:",Z.resolvedType.values[$[z]]);J("break")("}")}else J("{")("var e=types[%i].verify(%s);",X,Y)("if(e)")("return%j+e",Z.name+".")("}");else switch(Z.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":J("if(!util.isInteger(%s))",Y)("return%j",jX(Z,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":J("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",Y,Y,Y,Y)("return%j",jX(Z,"integer|Long"));break;case"float":case"double":J('if(typeof %s!=="number")',Y)("return%j",jX(Z,"number"));break;case"bool":J('if(typeof %s!=="boolean")',Y)("return%j",jX(Z,"boolean"));break;case"string":J("if(!util.isString(%s))",Y)("return%j",jX(Z,"string"));break;case"bytes":J('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',Y,Y,Y)("return%j",jX(Z,"buffer"));break}return J}function sV5(J,Z,X){switch(Z.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":J("if(!util.key32Re.test(%s))",X)("return%j",jX(Z,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":J("if(!util.key64Re.test(%s))",X)("return%j",jX(Z,"integer|Long key"));break;case"bool":J("if(!util.key2Re.test(%s))",X)("return%j",jX(Z,"boolean key"));break}return J}function aV5(J){var Z=kH1.codegen(["m"],J.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),X=J.oneofsArray,Y={};if(X.length)Z("var p={}");for(var $=0;$<J.fieldsArray.length;++$){var z=J._fieldsArray[$].resolve(),W="m"+kH1.safeProp(z.name);if(z.optional)Z("if(%s!=null&&m.hasOwnProperty(%j)){",W,z.name);if(z.map)Z("if(!util.isObject(%s))",W)("return%j",jX(z,"object"))("var k=Object.keys(%s)",W)("for(var i=0;i<k.length;++i){"),sV5(Z,z,"k[i]"),bH1(Z,z,$,W+"[k[i]]")("}");else if(z.repeated)Z("if(!Array.isArray(%s))",W)("return%j",jX(z,"array"))("for(var i=0;i<%s.length;++i){",W),bH1(Z,z,$,W+"[i]")("}");else{if(z.partOf){var Q=kH1.safeProp(z.partOf.name);if(Y[z.partOf.name]===1)Z("if(p%s===1)",Q)("return%j",z.partOf.name+": multiple values");Y[z.partOf.name]=1,Z("p%s=1",Q)}bH1(Z,z,$,W)}if(z.optional)Z("}")}return Z("return null")}});var vH1=B((fT6)=>{var TT6=fT6,HR=pY(),UW=z9();function _H1(J,Z,X,Y){var $=!1;if(Z.resolvedType)if(Z.resolvedType instanceof HR){J("switch(d%s){",Y);for(var z=Z.resolvedType.values,W=Object.keys(z),Q=0;Q<W.length;++Q){if(z[W[Q]]===Z.typeDefault&&!$){if(J("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',Y,Y,Y),!Z.repeated)J("break");$=!0}J("case%j:",W[Q])("case %i:",z[W[Q]])("m%s=%j",Y,z[W[Q]])("break")}J("}")}else J('if(typeof d%s!=="object")',Y)("throw TypeError(%j)",Z.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",Y,X,Y);else{var G=!1;switch(Z.type){case"double":case"float":J("m%s=Number(d%s)",Y,Y);break;case"uint32":case"fixed32":J("m%s=d%s>>>0",Y,Y);break;case"int32":case"sint32":case"sfixed32":J("m%s=d%s|0",Y,Y);break;case"uint64":G=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":J("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",Y,Y,G)('else if(typeof d%s==="string")',Y)("m%s=parseInt(d%s,10)",Y,Y)('else if(typeof d%s==="number")',Y)("m%s=d%s",Y,Y)('else if(typeof d%s==="object")',Y)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",Y,Y,Y,G?"true":"");break;case"bytes":J('if(typeof d%s==="string")',Y)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",Y,Y,Y)("else if(d%s.length >= 0)",Y)("m%s=d%s",Y,Y);break;case"string":J("m%s=String(d%s)",Y,Y);break;case"bool":J("m%s=Boolean(d%s)",Y,Y);break}}return J}TT6.fromObject=function J(Z){var X=Z.fieldsArray,Y=UW.codegen(["d"],Z.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!X.length)return Y("return new this.ctor");Y("var m=new this.ctor");for(var $=0;$<X.length;++$){var z=X[$].resolve(),W=UW.safeProp(z.name);if(z.map)Y("if(d%s){",W)('if(typeof d%s!=="object")',W)("throw TypeError(%j)",z.fullName+": object expected")("m%s={}",W)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",W),_H1(Y,z,$,W+"[ks[i]]")("}")("}");else if(z.repeated)Y("if(d%s){",W)("if(!Array.isArray(d%s))",W)("throw TypeError(%j)",z.fullName+": array expected")("m%s=[]",W)("for(var i=0;i<d%s.length;++i){",W),_H1(Y,z,$,W+"[i]")("}")("}");else{if(!(z.resolvedType instanceof HR))Y("if(d%s!=null){",W);if(_H1(Y,z,$,W),!(z.resolvedType instanceof HR))Y("}")}}return Y("return m")};function yH1(J,Z,X,Y){if(Z.resolvedType)if(Z.resolvedType instanceof HR)J("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",Y,X,Y,Y,X,Y,Y);else J("d%s=types[%i].toObject(m%s,o)",Y,X,Y);else{var $=!1;switch(Z.type){case"double":case"float":J("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",Y,Y,Y,Y);break;case"uint64":$=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":J('if(typeof m%s==="number")',Y)("d%s=o.longs===String?String(m%s):m%s",Y,Y,Y)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",Y,Y,Y,Y,$?"true":"",Y);break;case"bytes":J("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",Y,Y,Y,Y,Y);break;default:J("d%s=m%s",Y,Y);break}}return J}TT6.toObject=function J(Z){var X=Z.fieldsArray.slice().sort(UW.compareFieldsById);if(!X.length)return UW.codegen()("return {}");var Y=UW.codegen(["m","o"],Z.name+"$toObject")("if(!o)")("o={}")("var d={}"),$=[],z=[],W=[],Q=0;for(;Q<X.length;++Q)if(!X[Q].partOf)(X[Q].resolve().repeated?$:X[Q].map?z:W).push(X[Q]);if($.length){Y("if(o.arrays||o.defaults){");for(Q=0;Q<$.length;++Q)Y("d%s=[]",UW.safeProp($[Q].name));Y("}")}if(z.length){Y("if(o.objects||o.defaults){");for(Q=0;Q<z.length;++Q)Y("d%s={}",UW.safeProp(z[Q].name));Y("}")}if(W.length){Y("if(o.defaults){");for(Q=0;Q<W.length;++Q){var G=W[Q],K=UW.safeProp(G.name);if(G.resolvedType instanceof HR)Y("d%s=o.enums===String?%j:%j",K,G.resolvedType.valuesById[G.typeDefault],G.typeDefault);else if(G.long)Y("if(util.Long){")("var n=new util.Long(%i,%i,%j)",G.typeDefault.low,G.typeDefault.high,G.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",K)("}else")("d%s=o.longs===String?%j:%i",K,G.typeDefault.toString(),G.typeDefault.toNumber());else if(G.bytes){var q="["+Array.prototype.slice.call(G.typeDefault).join(",")+"]";Y("if(o.bytes===String)d%s=%j",K,String.fromCharCode.apply(String,G.typeDefault))("else{")("d%s=%s",K,q)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",K,K)("}")}else Y("d%s=%j",K,G.typeDefault)}Y("}")}var H=!1;for(Q=0;Q<X.length;++Q){var G=X[Q],F=Z._fieldsArray.indexOf(G),K=UW.safeProp(G.name);if(G.map){if(!H)H=!0,Y("var ks2");Y("if(m%s&&(ks2=Object.keys(m%s)).length){",K,K)("d%s={}",K)("for(var j=0;j<ks2.length;++j){"),yH1(Y,G,F,K+"[ks2[j]]")("}")}else if(G.repeated)Y("if(m%s&&m%s.length){",K,K)("d%s=[]",K)("for(var j=0;j<m%s.length;++j){",K),yH1(Y,G,F,K+"[j]")("}");else if(Y("if(m%s!=null&&m.hasOwnProperty(%j)){",K,G.name),yH1(Y,G,F,K),G.partOf)Y("if(o.oneofs)")("d%s=%j",UW.safeProp(G.partOf.name),G.name);Y("}")}return Y("return d")}});var xH1=B((kT6)=>{var rV5=kT6,tV5=oc();rV5[".google.protobuf.Any"]={fromObject:function(J){if(J&&J["@type"]){var Z=J["@type"].substring(J["@type"].lastIndexOf("/")+1),X=this.lookup(Z);if(X){var Y=J["@type"].charAt(0)==="."?J["@type"].slice(1):J["@type"];if(Y.indexOf("/")===-1)Y="/"+Y;return this.create({type_url:Y,value:X.encode(X.fromObject(J)).finish()})}}return this.fromObject(J)},toObject:function(J,Z){var X="type.googleapis.com/",Y="",$="";if(Z&&Z.json&&J.type_url&&J.value){$=J.type_url.substring(J.type_url.lastIndexOf("/")+1),Y=J.type_url.substring(0,J.type_url.lastIndexOf("/")+1);var z=this.lookup($);if(z)J=z.decode(J.value)}if(!(J instanceof this.ctor)&&J instanceof tV5){var W=J.$type.toObject(J,Z),Q=J.$type.fullName[0]==="."?J.$type.fullName.slice(1):J.$type.fullName;if(Y==="")Y=X;return $=Y+Q,W["@type"]=$,W}return this.toObject(J,Z)}}});var rc=B((AG7,hT6)=>{hT6.exports=r4;var RX=NA();((r4.prototype=Object.create(RX.prototype)).constructor=r4).className="Type";var eV5=pY(),uH1=tO(),sc=hB(),JI5=pc(),ZI5=ic(),gH1=oc(),dH1=Gc(),XI5=Wc(),o9=z9(),YI5=mH1(),$I5=fH1(),zI5=hH1(),bT6=vH1(),WI5=xH1();function r4(J,Z){RX.call(this,J,Z),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(r4.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var J=Object.keys(this.fields),Z=0;Z<J.length;++Z){var X=this.fields[J[Z]],Y=X.id;if(this._fieldsById[Y])throw Error("duplicate id "+Y+" in "+this);this._fieldsById[Y]=X}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=o9.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=o9.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=r4.generateConstructor(this)())},set:function(J){var Z=J.prototype;if(!(Z instanceof gH1))(J.prototype=new gH1).constructor=J,o9.merge(J.prototype,Z);J.$type=J.prototype.$type=this,o9.merge(J,gH1,!0),this._ctor=J;var X=0;for(;X<this.fieldsArray.length;++X)this._fieldsArray[X].resolve();var Y={};for(X=0;X<this.oneofsArray.length;++X)Y[this._oneofsArray[X].resolve().name]={get:o9.oneOfGetter(this._oneofsArray[X].oneof),set:o9.oneOfSetter(this._oneofsArray[X].oneof)};if(X)Object.defineProperties(J.prototype,Y)}}});r4.generateConstructor=function J(Z){var X=o9.codegen(["p"],Z.name);for(var Y=0,$;Y<Z.fieldsArray.length;++Y)if(($=Z._fieldsArray[Y]).map)X("this%s={}",o9.safeProp($.name));else if($.repeated)X("this%s=[]",o9.safeProp($.name));return X("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function ac(J){return J._fieldsById=J._fieldsArray=J._oneofsArray=null,delete J.encode,delete J.decode,delete J.verify,J}r4.fromJSON=function J(Z,X){var Y=new r4(Z,X.options);Y.extensions=X.extensions,Y.reserved=X.reserved;var $=Object.keys(X.fields),z=0;for(;z<$.length;++z)Y.add((typeof X.fields[$[z]].keyType!=="undefined"?JI5.fromJSON:sc.fromJSON)($[z],X.fields[$[z]]));if(X.oneofs)for($=Object.keys(X.oneofs),z=0;z<$.length;++z)Y.add(uH1.fromJSON($[z],X.oneofs[$[z]]));if(X.nested)for($=Object.keys(X.nested),z=0;z<$.length;++z){var W=X.nested[$[z]];Y.add((W.id!==void 0?sc.fromJSON:W.fields!==void 0?r4.fromJSON:W.values!==void 0?eV5.fromJSON:W.methods!==void 0?ZI5.fromJSON:RX.fromJSON)($[z],W))}if(X.extensions&&X.extensions.length)Y.extensions=X.extensions;if(X.reserved&&X.reserved.length)Y.reserved=X.reserved;if(X.group)Y.group=!0;if(X.comment)Y.comment=X.comment;if(X.edition)Y._edition=X.edition;return Y._defaultEdition="proto3",Y};r4.prototype.toJSON=function J(Z){var X=RX.prototype.toJSON.call(this,Z),Y=Z?Boolean(Z.keepComments):!1;return o9.toObject(["edition",this._editionToJSON(),"options",X&&X.options||void 0,"oneofs",RX.arrayToJSON(this.oneofsArray,Z),"fields",RX.arrayToJSON(this.fieldsArray.filter(function($){return!$.declaringField}),Z)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",X&&X.nested||void 0,"comment",Y?this.comment:void 0])};r4.prototype.resolveAll=function J(){if(!this._needsRecursiveResolve)return this;RX.prototype.resolveAll.call(this);var Z=this.oneofsArray;Y=0;while(Y<Z.length)Z[Y++].resolve();var X=this.fieldsArray,Y=0;while(Y<X.length)X[Y++].resolve();return this};r4.prototype._resolveFeaturesRecursive=function J(Z){if(!this._needsRecursiveFeatureResolution)return this;return Z=this._edition||Z,RX.prototype._resolveFeaturesRecursive.call(this,Z),this.oneofsArray.forEach((X)=>{X._resolveFeatures(Z)}),this.fieldsArray.forEach((X)=>{X._resolveFeatures(Z)}),this};r4.prototype.get=function J(Z){return this.fields[Z]||this.oneofs&&this.oneofs[Z]||this.nested&&this.nested[Z]||null};r4.prototype.add=function J(Z){if(this.get(Z.name))throw Error("duplicate name '"+Z.name+"' in "+this);if(Z instanceof sc&&Z.extend===void 0){if(this._fieldsById?this._fieldsById[Z.id]:this.fieldsById[Z.id])throw Error("duplicate id "+Z.id+" in "+this);if(this.isReservedId(Z.id))throw Error("id "+Z.id+" is reserved in "+this);if(this.isReservedName(Z.name))throw Error("name '"+Z.name+"' is reserved in "+this);if(Z.parent)Z.parent.remove(Z);return this.fields[Z.name]=Z,Z.message=this,Z.onAdd(this),ac(this)}if(Z instanceof uH1){if(!this.oneofs)this.oneofs={};return this.oneofs[Z.name]=Z,Z.onAdd(this),ac(this)}return RX.prototype.add.call(this,Z)};r4.prototype.remove=function J(Z){if(Z instanceof sc&&Z.extend===void 0){if(!this.fields||this.fields[Z.name]!==Z)throw Error(Z+" is not a member of "+this);return delete this.fields[Z.name],Z.parent=null,Z.onRemove(this),ac(this)}if(Z instanceof uH1){if(!this.oneofs||this.oneofs[Z.name]!==Z)throw Error(Z+" is not a member of "+this);return delete this.oneofs[Z.name],Z.parent=null,Z.onRemove(this),ac(this)}return RX.prototype.remove.call(this,Z)};r4.prototype.isReservedId=function J(Z){return RX.isReservedId(this.reserved,Z)};r4.prototype.isReservedName=function J(Z){return RX.isReservedName(this.reserved,Z)};r4.prototype.create=function J(Z){return new this.ctor(Z)};r4.prototype.setup=function J(){var Z=this.fullName,X=[];for(var Y=0;Y<this.fieldsArray.length;++Y)X.push(this._fieldsArray[Y].resolve().resolvedType);this.encode=YI5(this)({Writer:XI5,types:X,util:o9}),this.decode=$I5(this)({Reader:dH1,types:X,util:o9}),this.verify=zI5(this)({types:X,util:o9}),this.fromObject=bT6.fromObject(this)({types:X,util:o9}),this.toObject=bT6.toObject(this)({types:X,util:o9});var $=WI5[Z];if($){var z=Object.create(this);z.fromObject=this.fromObject,this.fromObject=$.fromObject.bind(z),z.toObject=this.toObject,this.toObject=$.toObject.bind(z)}return this};r4.prototype.encode=function J(Z,X){return this.setup().encode(Z,X)};r4.prototype.encodeDelimited=function J(Z,X){return this.encode(Z,X&&X.len?X.fork():X).ldelim()};r4.prototype.decode=function J(Z,X){return this.setup().decode(Z,X)};r4.prototype.decodeDelimited=function J(Z){if(!(Z instanceof dH1))Z=dH1.create(Z);return this.decode(Z,Z.uint32())};r4.prototype.verify=function J(Z){return this.setup().verify(Z)};r4.prototype.fromObject=function J(Z){return this.setup().fromObject(Z)};r4.prototype.toObject=function J(Z,X){return this.setup().toObject(Z,X)};r4.d=function J(Z){return function X(Y){o9.decorateType(Y,Z)}}});var Zl=B((MG7,vT6)=>{vT6.exports=bJ;var Jl=NA();((bJ.prototype=Object.create(Jl.prototype)).constructor=bJ).className="Root";var tc=hB(),cH1=pY(),QI5=tO(),yB=z9(),lH1,pH1,FR;function bJ(J){Jl.call(this,"",J),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}bJ.fromJSON=function J(Z,X){if(!X)X=new bJ;if(Z.options)X.setOptions(Z.options);return X.addJSON(Z.nested).resolveAll()};bJ.prototype.resolvePath=yB.path.resolve;bJ.prototype.fetch=yB.fetch;function yT6(){}bJ.prototype.load=function J(Z,X,Y){if(typeof X==="function")Y=X,X=void 0;var $=this;if(!Y)return yB.asPromise(J,$,Z,X);var z=Y===yT6;function W(U,D){if(!Y)return;if(z)throw U;if(D)D.resolveAll();var V=Y;Y=null,V(U,D)}function Q(U){var D=U.lastIndexOf("google/protobuf/");if(D>-1){var V=U.substring(D);if(V in FR)return V}return null}function G(U,D){try{if(yB.isString(D)&&D.charAt(0)==="{")D=JSON.parse(D);if(!yB.isString(D))$.setOptions(D.options).addJSON(D.nested);else{pH1.filename=U;var V=pH1(D,$,X),w,M=0;if(V.imports){for(;M<V.imports.length;++M)if(w=Q(V.imports[M])||$.resolvePath(U,V.imports[M]))K(w)}if(V.weakImports){for(M=0;M<V.weakImports.length;++M)if(w=Q(V.weakImports[M])||$.resolvePath(U,V.weakImports[M]))K(w,!0)}}}catch(P){W(P)}if(!z&&!q)W(null,$)}function K(U,D){if(U=Q(U)||U,$.files.indexOf(U)>-1)return;if($.files.push(U),U in FR){if(z)G(U,FR[U]);else++q,setTimeout(function(){--q,G(U,FR[U])});return}if(z){var V;try{V=yB.fs.readFileSync(U).toString("utf8")}catch(w){if(!D)W(w);return}G(U,V)}else++q,$.fetch(U,function(w,M){if(--q,!Y)return;if(w){if(!D)W(w);else if(!q)W(null,$);return}G(U,M)})}var q=0;if(yB.isString(Z))Z=[Z];for(var H=0,F;H<Z.length;++H)if(F=$.resolvePath("",Z[H]))K(F);if(z)return $.resolveAll(),$;if(!q)W(null,$);return $};bJ.prototype.loadSync=function J(Z,X){if(!yB.isNode)throw Error("not supported");return this.load(Z,X,yT6)};bJ.prototype.resolveAll=function J(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(Z){return"'extend "+Z.extend+"' in "+Z.parent.fullName}).join(", "));return Jl.prototype.resolveAll.call(this)};var ec=/^[A-Z]/;function _T6(J,Z){var X=Z.parent.lookup(Z.extend);if(X){var Y=new tc(Z.fullName,Z.id,Z.type,Z.rule,void 0,Z.options);if(X.get(Y.name))return!0;return Y.declaringField=Z,Z.extensionField=Y,X.add(Y),!0}return!1}bJ.prototype._handleAdd=function J(Z){if(Z instanceof tc){if(Z.extend!==void 0&&!Z.extensionField){if(!_T6(this,Z))this.deferred.push(Z)}}else if(Z instanceof cH1){if(ec.test(Z.name))Z.parent[Z.name]=Z.values}else if(!(Z instanceof QI5)){if(Z instanceof lH1)for(var X=0;X<this.deferred.length;)if(_T6(this,this.deferred[X]))this.deferred.splice(X,1);else++X;for(var Y=0;Y<Z.nestedArray.length;++Y)this._handleAdd(Z._nestedArray[Y]);if(ec.test(Z.name))Z.parent[Z.name]=Z}if(Z instanceof lH1||Z instanceof cH1||Z instanceof tc)this._fullyQualifiedObjects[Z.fullName]=Z};bJ.prototype._handleRemove=function J(Z){if(Z instanceof tc){if(Z.extend!==void 0)if(Z.extensionField)Z.extensionField.parent.remove(Z.extensionField),Z.extensionField=null;else{var X=this.deferred.indexOf(Z);if(X>-1)this.deferred.splice(X,1)}}else if(Z instanceof cH1){if(ec.test(Z.name))delete Z.parent[Z.name]}else if(Z instanceof Jl){for(var Y=0;Y<Z.nestedArray.length;++Y)this._handleRemove(Z._nestedArray[Y]);if(ec.test(Z.name))delete Z.parent[Z.name]}delete this._fullyQualifiedObjects[Z.fullName]};bJ._configure=function(J,Z,X){lH1=J,pH1=Z,FR=X}});var z9=B((NG7,gT6)=>{var W5=gT6.exports=WW(),xT6=GB1(),nH1,iH1;W5.codegen=FT6();W5.fetch=OT6();W5.path=IT6();W5.fs=W5.inquire("fs");W5.toArray=function J(Z){if(Z){var X=Object.keys(Z),Y=new Array(X.length),$=0;while($<X.length)Y[$]=Z[X[$++]];return Y}return[]};W5.toObject=function J(Z){var X={},Y=0;while(Y<Z.length){var $=Z[Y++],z=Z[Y++];if(z!==void 0)X[$]=z}return X};var GI5=/\\/g,KI5=/"/g;W5.isReserved=function J(Z){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(Z)};W5.safeProp=function J(Z){if(!/^[$\w_]+$/.test(Z)||W5.isReserved(Z))return'["'+Z.replace(GI5,"\\\\").replace(KI5,"\\\"")+'"]';return"."+Z};W5.ucFirst=function J(Z){return Z.charAt(0).toUpperCase()+Z.substring(1)};var qI5=/_([a-z])/g;W5.camelCase=function J(Z){return Z.substring(0,1)+Z.substring(1).replace(qI5,function(X,Y){return Y.toUpperCase()})};W5.compareFieldsById=function J(Z,X){return Z.id-X.id};W5.decorateType=function J(Z,X){if(Z.$type){if(X&&Z.$type.name!==X)W5.decorateRoot.remove(Z.$type),Z.$type.name=X,W5.decorateRoot.add(Z.$type);return Z.$type}if(!nH1)nH1=rc();var Y=new nH1(X||Z.name);return W5.decorateRoot.add(Y),Y.ctor=Z,Object.defineProperty(Z,"$type",{value:Y,enumerable:!1}),Object.defineProperty(Z.prototype,"$type",{value:Y,enumerable:!1}),Y};var BI5=0;W5.decorateEnum=function J(Z){if(Z.$type)return Z.$type;if(!iH1)iH1=pY();var X=new iH1("Enum"+BI5++,Z);return W5.decorateRoot.add(X),Object.defineProperty(Z,"$type",{value:X,enumerable:!1}),X};W5.setProperty=function J(Z,X,Y,$){function z(W,Q,G){var K=Q.shift();if(K==="__proto__"||K==="prototype")return W;if(Q.length>0)W[K]=z(W[K]||{},Q,G);else{var q=W[K];if(q&&$)return W;if(q)G=[].concat(q).concat(G);W[K]=G}return W}if(typeof Z!=="object")throw TypeError("dst must be an object");if(!X)throw TypeError("path must be specified");return X=X.split("."),z(Z,X,Y)};Object.defineProperty(W5,"decorateRoot",{get:function(){return xT6.decorated||(xT6.decorated=new(Zl()))}})});var eO=B((dT6)=>{var UR=dT6,HI5=z9(),FI5=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function OR(J,Z){var X=0,Y={};Z|=0;while(X<J.length)Y[FI5[X+Z]]=J[X++];return Y}UR.basic=OR([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);UR.defaults=OR([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",HI5.emptyArray,null]);UR.long=OR([0,0,0,1,1],7);UR.mapKey=OR([0,0,0,5,5,0,0,0,1,1,0,2],2);UR.packed=OR([1,5,0,0,0,5,5,0,0,0,1,1,0])});var hB=B((LG7,mT6)=>{mT6.exports=W9;var VR=_B();((W9.prototype=Object.create(VR.prototype)).constructor=W9).className="Field";var uT6=pY(),oH1=eO(),w5=z9(),DR,UI5=/^required|optional|repeated$/;W9.fromJSON=function J(Z,X){var Y=new W9(Z,X.id,X.type,X.rule,X.extend,X.options,X.comment);if(X.edition)Y._edition=X.edition;return Y._defaultEdition="proto3",Y};function W9(J,Z,X,Y,$,z,W){if(w5.isObject(Y))W=$,z=Y,Y=$=void 0;else if(w5.isObject($))W=z,z=$,$=void 0;if(VR.call(this,J,z),!w5.isInteger(Z)||Z<0)throw TypeError("id must be a non-negative integer");if(!w5.isString(X))throw TypeError("type must be a string");if(Y!==void 0&&!UI5.test(Y=Y.toString().toLowerCase()))throw TypeError("rule must be a string rule");if($!==void 0&&!w5.isString($))throw TypeError("extend must be a string");if(Y==="proto3_optional")Y="optional";this.rule=Y&&Y!=="optional"?Y:void 0,this.type=X,this.id=Z,this.extend=$||void 0,this.repeated=Y==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=w5.Long?oH1.long[X]!==void 0:!1,this.bytes=X==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=W}Object.defineProperty(W9.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}});Object.defineProperty(W9.prototype,"optional",{get:function(){return!this.required}});Object.defineProperty(W9.prototype,"delimited",{get:function(){return this.resolvedType instanceof DR&&this._features.message_encoding==="DELIMITED"}});Object.defineProperty(W9.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}});Object.defineProperty(W9.prototype,"hasPresence",{get:function(){if(this.repeated||this.map)return!1;return this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}});W9.prototype.setOption=function J(Z,X,Y){return VR.prototype.setOption.call(this,Z,X,Y)};W9.prototype.toJSON=function J(Z){var X=Z?Boolean(Z.keepComments):!1;return w5.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",X?this.comment:void 0])};W9.prototype.resolve=function J(){if(this.resolved)return this;if((this.typeDefault=oH1.defaults[this.type])===void 0)if(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof DR)this.typeDefault=null;else this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]];else if(this.options&&this.options.proto3_optional)this.typeDefault=null;if(this.options&&this.options.default!=null){if(this.typeDefault=this.options.default,this.resolvedType instanceof uT6&&typeof this.typeDefault==="string")this.typeDefault=this.resolvedType.values[this.typeDefault]}if(this.options){if(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof uT6))delete this.options.packed;if(!Object.keys(this.options).length)this.options=void 0}if(this.long){if(this.typeDefault=w5.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze)Object.freeze(this.typeDefault)}else if(this.bytes&&typeof this.typeDefault==="string"){var Z;if(w5.base64.test(this.typeDefault))w5.base64.decode(this.typeDefault,Z=w5.newBuffer(w5.base64.length(this.typeDefault)),0);else w5.utf8.write(this.typeDefault,Z=w5.newBuffer(w5.utf8.length(this.typeDefault)),0);this.typeDefault=Z}if(this.map)this.defaultValue=w5.emptyObject;else if(this.repeated)this.defaultValue=w5.emptyArray;else this.defaultValue=this.typeDefault;if(this.parent instanceof DR)this.parent.ctor.prototype[this.name]=this.defaultValue;return VR.prototype.resolve.call(this)};W9.prototype._inferLegacyProtoFeatures=function J(Z){if(Z!=="proto2"&&Z!=="proto3")return{};var X={};if(this.rule==="required")X.field_presence="LEGACY_REQUIRED";if(this.parent&&oH1.defaults[this.type]===void 0){var Y=this.parent.get(this.type.split(".").pop());if(Y&&Y instanceof DR&&Y.group)X.message_encoding="DELIMITED"}if(this.getOption("packed")===!0)X.repeated_field_encoding="PACKED";else if(this.getOption("packed")===!1)X.repeated_field_encoding="EXPANDED";return X};W9.prototype._resolveFeatures=function J(Z){return VR.prototype._resolveFeatures.call(this,this._edition||Z)};W9.d=function J(Z,X,Y,$){if(typeof X==="function")X=w5.decorateType(X).name;else if(X&&typeof X==="object")X=w5.decorateEnum(X).name;return function z(W,Q){w5.decorateType(W.constructor).add(new W9(Q,Z,X,Y,{default:$}))}};W9._configure=function J(Z){DR=Z}});var tO=B((CG7,pT6)=>{pT6.exports=hJ;var Yl=_B();((hJ.prototype=Object.create(Yl.prototype)).constructor=hJ).className="OneOf";var cT6=hB(),Xl=z9();function hJ(J,Z,X,Y){if(!Array.isArray(Z))X=Z,Z=void 0;if(Yl.call(this,J,X),!(Z===void 0||Array.isArray(Z)))throw TypeError("fieldNames must be an Array");this.oneof=Z||[],this.fieldsArray=[],this.comment=Y}hJ.fromJSON=function J(Z,X){return new hJ(Z,X.oneof,X.options,X.comment)};hJ.prototype.toJSON=function J(Z){var X=Z?Boolean(Z.keepComments):!1;return Xl.toObject(["options",this.options,"oneof",this.oneof,"comment",X?this.comment:void 0])};function lT6(J){if(J.parent){for(var Z=0;Z<J.fieldsArray.length;++Z)if(!J.fieldsArray[Z].parent)J.parent.add(J.fieldsArray[Z])}}hJ.prototype.add=function J(Z){if(!(Z instanceof cT6))throw TypeError("field must be a Field");if(Z.parent&&Z.parent!==this.parent)Z.parent.remove(Z);return this.oneof.push(Z.name),this.fieldsArray.push(Z),Z.partOf=this,lT6(this),this};hJ.prototype.remove=function J(Z){if(!(Z instanceof cT6))throw TypeError("field must be a Field");var X=this.fieldsArray.indexOf(Z);if(X<0)throw Error(Z+" is not a member of "+this);if(this.fieldsArray.splice(X,1),X=this.oneof.indexOf(Z.name),X>-1)this.oneof.splice(X,1);return Z.partOf=null,this};hJ.prototype.onAdd=function J(Z){Yl.prototype.onAdd.call(this,Z);var X=this;for(var Y=0;Y<this.oneof.length;++Y){var $=Z.get(this.oneof[Y]);if($&&!$.partOf)$.partOf=X,X.fieldsArray.push($)}lT6(this)};hJ.prototype.onRemove=function J(Z){for(var X=0,Y;X<this.fieldsArray.length;++X)if((Y=this.fieldsArray[X]).parent)Y.parent.remove(Y);Yl.prototype.onRemove.call(this,Z)};Object.defineProperty(hJ.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var J=this.fieldsArray[0];return J.options!=null&&J.options.proto3_optional===!0}});hJ.d=function J(){var Z=new Array(arguments.length),X=0;while(X<arguments.length)Z[X]=arguments[X++];return function Y($,z){Xl.decorateType($.constructor).add(new hJ(z,Z)),Object.defineProperty($,z,{get:Xl.oneOfGetter(Z),set:Xl.oneOfSetter(Z)})}}});var _B=B((jG7,nT6)=>{nT6.exports=A9;A9.className="ReflectionObject";var OI5=tO(),IR=z9(),$l,DI5={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},VI5={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},II5={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function A9(J,Z){if(!IR.isString(J))throw TypeError("name must be a string");if(Z&&!IR.isObject(Z))throw TypeError("options must be an object");this.options=Z,this.parsedOptions=null,this.name=J,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(A9.prototype,{root:{get:function(){var J=this;while(J.parent!==null)J=J.parent;return J}},fullName:{get:function(){var J=[this.name],Z=this.parent;while(Z)J.unshift(Z.name),Z=Z.parent;return J.join(".")}}});A9.prototype.toJSON=function J(){throw Error()};A9.prototype.onAdd=function J(Z){if(this.parent&&this.parent!==Z)this.parent.remove(this);this.parent=Z,this.resolved=!1;var X=Z.root;if(X instanceof $l)X._handleAdd(this)};A9.prototype.onRemove=function J(Z){var X=Z.root;if(X instanceof $l)X._handleRemove(this);this.parent=null,this.resolved=!1};A9.prototype.resolve=function J(){if(this.resolved)return this;if(this.root instanceof $l)this.resolved=!0;return this};A9.prototype._resolveFeaturesRecursive=function J(Z){return this._resolveFeatures(this._edition||Z)};A9.prototype._resolveFeatures=function J(Z){if(this._featuresResolved)return;var X={};if(!Z)throw new Error("Unknown edition for "+this.fullName);var Y=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(Z));if(this._edition){if(Z==="proto2")X=Object.assign({},VI5);else if(Z==="proto3")X=Object.assign({},II5);else if(Z==="2023")X=Object.assign({},DI5);else throw new Error("Unknown edition: "+Z);this._features=Object.assign(X,Y||{}),this._featuresResolved=!0;return}if(this.partOf instanceof OI5){var $=Object.assign({},this.partOf._features);this._features=Object.assign($,Y||{})}else if(this.declaringField);else if(this.parent){var z=Object.assign({},this.parent._features);this._features=Object.assign(z,Y||{})}else throw new Error("Unable to find a parent for "+this.fullName);if(this.extensionField)this.extensionField._features=this._features;this._featuresResolved=!0};A9.prototype._inferLegacyProtoFeatures=function J(){return{}};A9.prototype.getOption=function J(Z){if(this.options)return this.options[Z];return};A9.prototype.setOption=function J(Z,X,Y){if(!this.options)this.options={};if(/^features\./.test(Z))IR.setProperty(this.options,Z,X,Y);else if(!Y||this.options[Z]===void 0){if(this.getOption(Z)!==X)this.resolved=!1;this.options[Z]=X}return this};A9.prototype.setParsedOption=function J(Z,X,Y){if(!this.parsedOptions)this.parsedOptions=[];var $=this.parsedOptions;if(Y){var z=$.find(function(G){return Object.prototype.hasOwnProperty.call(G,Z)});if(z){var W=z[Z];IR.setProperty(W,Y,X)}else z={},z[Z]=IR.setProperty({},Y,X),$.push(z)}else{var Q={};Q[Z]=X,$.push(Q)}return this};A9.prototype.setOptions=function J(Z,X){if(Z)for(var Y=Object.keys(Z),$=0;$<Y.length;++$)this.setOption(Y[$],Z[Y[$]],X);return this};A9.prototype.toString=function J(){var Z=this.constructor.className,X=this.fullName;if(X.length)return Z+" "+X;return Z};A9.prototype._editionToJSON=function J(){if(!this._edition||this._edition==="proto3")return;return this._edition};A9._configure=function(J){$l=J}});var pY=B((RG7,oT6)=>{oT6.exports=nY;var sH1=_B();((nY.prototype=Object.create(sH1.prototype)).constructor=nY).className="Enum";var iT6=NA(),zl=z9();function nY(J,Z,X,Y,$,z){if(sH1.call(this,J,X),Z&&typeof Z!=="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=Y,this.comments=$||{},this.valuesOptions=z,this._valuesFeatures={},this.reserved=void 0,Z){for(var W=Object.keys(Z),Q=0;Q<W.length;++Q)if(typeof Z[W[Q]]==="number")this.valuesById[this.values[W[Q]]=Z[W[Q]]]=W[Q]}}nY.prototype._resolveFeatures=function J(Z){return Z=this._edition||Z,sH1.prototype._resolveFeatures.call(this,Z),Object.keys(this.values).forEach((X)=>{var Y=Object.assign({},this._features);this._valuesFeatures[X]=Object.assign(Y,this.valuesOptions&&this.valuesOptions[X]&&this.valuesOptions[X].features)}),this};nY.fromJSON=function J(Z,X){var Y=new nY(Z,X.values,X.options,X.comment,X.comments);if(Y.reserved=X.reserved,X.edition)Y._edition=X.edition;return Y._defaultEdition="proto3",Y};nY.prototype.toJSON=function J(Z){var X=Z?Boolean(Z.keepComments):!1;return zl.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",X?this.comment:void 0,"comments",X?this.comments:void 0])};nY.prototype.add=function J(Z,X,Y,$){if(!zl.isString(Z))throw TypeError("name must be a string");if(!zl.isInteger(X))throw TypeError("id must be an integer");if(this.values[Z]!==void 0)throw Error("duplicate name '"+Z+"' in "+this);if(this.isReservedId(X))throw Error("id "+X+" is reserved in "+this);if(this.isReservedName(Z))throw Error("name '"+Z+"' is reserved in "+this);if(this.valuesById[X]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+X+" in "+this);this.values[Z]=X}else this.valuesById[this.values[Z]=X]=Z;if($){if(this.valuesOptions===void 0)this.valuesOptions={};this.valuesOptions[Z]=$||null}return this.comments[Z]=Y||null,this};nY.prototype.remove=function J(Z){if(!zl.isString(Z))throw TypeError("name must be a string");var X=this.values[Z];if(X==null)throw Error("name '"+Z+"' does not exist in "+this);if(delete this.valuesById[X],delete this.values[Z],delete this.comments[Z],this.valuesOptions)delete this.valuesOptions[Z];return this};nY.prototype.isReservedId=function J(Z){return iT6.isReservedId(this.reserved,Z)};nY.prototype.isReservedName=function J(Z){return iT6.isReservedName(this.reserved,Z)}});var mH1=B((EG7,aT6)=>{aT6.exports=AI5;var wI5=pY(),aH1=eO(),rH1=z9();function sT6(J,Z,X,Y){return Z.delimited?J("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",X,Y,(Z.id<<3|3)>>>0,(Z.id<<3|4)>>>0):J("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",X,Y,(Z.id<<3|2)>>>0)}function AI5(J){var Z=rH1.codegen(["m","w"],J.name+"$encode")("if(!w)")("w=Writer.create()"),X,Y,$=J.fieldsArray.slice().sort(rH1.compareFieldsById);for(var X=0;X<$.length;++X){var z=$[X].resolve(),W=J._fieldsArray.indexOf(z),Q=z.resolvedType instanceof wI5?"int32":z.type,G=aH1.basic[Q];if(Y="m"+rH1.safeProp(z.name),z.map){if(Z("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",Y,z.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",Y)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(z.id<<3|2)>>>0,8|aH1.mapKey[z.keyType],z.keyType),G===void 0)Z("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",W,Y);else Z(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|G,Q,Y);Z("}")("}")}else if(z.repeated){if(Z("if(%s!=null&&%s.length){",Y,Y),z.packed&&aH1.packed[Q]!==void 0)Z("w.uint32(%i).fork()",(z.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",Y)("w.%s(%s[i])",Q,Y)("w.ldelim()");else if(Z("for(var i=0;i<%s.length;++i)",Y),G===void 0)sT6(Z,z,W,Y+"[i]");else Z("w.uint32(%i).%s(%s[i])",(z.id<<3|G)>>>0,Q,Y);Z("}")}else{if(z.optional)Z("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",Y,z.name);if(G===void 0)sT6(Z,z,W,Y);else Z("w.uint32(%i).%s(%s)",(z.id<<3|G)>>>0,Q,Y)}}return Z("return w")}});var tT6=B((SG7,rT6)=>{var Y4=rT6.exports=KB1();Y4.build="light";function MI5(J,Z,X){if(typeof Z==="function")X=Z,Z=new Y4.Root;else if(!Z)Z=new Y4.Root;return Z.load(J,X)}Y4.load=MI5;function NI5(J,Z){if(!Z)Z=new Y4.Root;return Z.loadSync(J)}Y4.loadSync=NI5;Y4.encoder=mH1();Y4.decoder=fH1();Y4.verifier=hH1();Y4.converter=vH1();Y4.ReflectionObject=_B();Y4.Namespace=NA();Y4.Root=Zl();Y4.Enum=pY();Y4.Type=rc();Y4.Field=hB();Y4.OneOf=tO();Y4.MapField=pc();Y4.Service=ic();Y4.Method=nc();Y4.Message=oc();Y4.wrappers=xH1();Y4.types=eO();Y4.util=z9();Y4.ReflectionObject._configure(Y4.Root);Y4.Namespace._configure(Y4.Type,Y4.Service,Y4.Enum);Y4.Root._configure(Y4.Type);Y4.Field._configure(Y4.Type)});var eH1=B((TG7,Zf6)=>{Zf6.exports=Jf6;var tH1=/[\s{}=;:[\],'"()<>]/g,PI5=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,LI5=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,CI5=/^ *[*/]+ */,jI5=/^\s*\*?\/*/,RI5=/\n/g,EI5=/\s/,SI5=/\\(.?)/g,TI5={"0":"\x00",r:"\r",n:`
`,t:"\t"};function eT6(J){return J.replace(SI5,function(Z,X){switch(X){case"\\":case"":return X;default:return TI5[X]||""}})}Jf6.unescape=eT6;function Jf6(J,Z){J=J.toString();var X=0,Y=J.length,$=1,z=0,W={},Q=[],G=null;function K(f){return Error("illegal "+f+" (line "+$+")")}function q(){var f=G==="'"?LI5:PI5;f.lastIndex=X-1;var d=f.exec(J);if(!d)throw K("string");return X=f.lastIndex,w(G),G=null,eT6(d[1])}function H(f){return J.charAt(f)}function F(f,d,v){var l={type:J.charAt(f++),lineEmpty:!1,leading:v},o;if(Z)o=2;else o=3;var S=f-o,i;do if(--S<0||(i=J.charAt(S))===`
`){l.lineEmpty=!0;break}while(i===" "||i==="\t");var u=J.substring(f,d).split(RI5);for(var G1=0;G1<u.length;++G1)u[G1]=u[G1].replace(Z?jI5:CI5,"").trim();l.text=u.join(`
`).trim(),W[$]=l,z=$}function U(f){var d=D(f),v=J.substring(f,d),l=/^\s*\/\//.test(v);return l}function D(f){var d=f;while(d<Y&&H(d)!==`
`)d++;return d}function V(){if(Q.length>0)return Q.shift();if(G)return q();var f,d,v,l,o,S=X===0;do{if(X===Y)return null;f=!1;while(EI5.test(v=H(X))){if(v===`
`)S=!0,++$;if(++X===Y)return null}if(H(X)==="/"){if(++X===Y)throw K("comment");if(H(X)==="/")if(!Z){o=H(l=X+1)==="/";while(H(++X)!==`
`)if(X===Y)return null;if(++X,o)F(l,X-1,S),S=!0;++$,f=!0}else{if(l=X,o=!1,U(X-1)){o=!0;do{if(X=D(X),X===Y)break;if(X++,!S)break}while(U(X))}else X=Math.min(Y,D(X)+1);if(o)F(l,X,S),S=!0;$++,f=!0}else if((v=H(X))==="*"){l=X+1,o=Z||H(l)==="*";do{if(v===`
`)++$;if(++X===Y)throw K("comment");d=v,v=H(X)}while(d!=="*"||v!=="/");if(++X,o)F(l,X-2,S),S=!0;f=!0}else return"/"}}while(f);var i=X;tH1.lastIndex=0;var u=tH1.test(H(i++));if(!u)while(i<Y&&!tH1.test(H(i)))++i;var G1=J.substring(X,X=i);if(G1==='"'||G1==="'")G=G1;return G1}function w(f){Q.push(f)}function M(){if(!Q.length){var f=V();if(f===null)return null;w(f)}return Q[0]}function P(f,d){var v=M(),l=v===f;if(l)return V(),!0;if(!d)throw K("token '"+v+"', '"+f+"' expected");return!1}function R(f){var d=null,v;if(f===void 0){if(v=W[$-1],delete W[$-1],v&&(Z||v.type==="*"||v.lineEmpty))d=v.leading?v.text:null}else{if(z<f)M();if(v=W[f],delete W[f],v&&!v.lineEmpty&&(Z||v.type==="/"))d=v.leading?null:v.text}return d}return Object.defineProperty({next:V,peek:M,push:w,skip:P,cmnt:R},"line",{get:function(){return $}})}});var Qf6=B((fG7,Wf6)=>{Wf6.exports=ZK;ZK.filename=null;ZK.defaults={keepCase:!1};var fI5=eH1(),Xf6=Zl(),Yf6=rc(),$f6=hB(),kI5=pc(),zf6=tO(),bI5=pY(),hI5=ic(),_I5=nc(),yI5=_B(),vI5=eO(),JF1=z9(),xI5=/^[1-9][0-9]*$/,gI5=/^-?[1-9][0-9]*$/,dI5=/^0[x][0-9a-fA-F]+$/,uI5=/^-?0[x][0-9a-fA-F]+$/,mI5=/^0[0-7]+$/,cI5=/^-?0[0-7]+$/,lI5=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,OW=/^[a-zA-Z_][a-zA-Z_0-9]*$/,DW=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function ZK(J,Z,X){if(!(Z instanceof Xf6))X=Z,Z=new Xf6;if(!X)X=ZK.defaults;var Y=X.preferTrailingComment||!1,$=fI5(J,X.alternateCommentMode||!1),z=$.next,W=$.push,Q=$.peek,G=$.skip,K=$.cmnt,q=!0,H,F,U,D="proto2",V=Z,w=[],M={},P=X.keepCase?function(j){return j}:JF1.camelCase;function R(){w.forEach((j)=>{j._edition=D,Object.keys(M).forEach((L)=>{if(j.getOption(L)!==void 0)return;j.setOption(L,M[L],!0)})})}function f(j,L,h){var x=ZK.filename;if(!h)ZK.filename=null;return Error("illegal "+(L||"token")+" '"+j+"' ("+(x?x+", ":"")+"line "+$.line+")")}function d(){var j=[],L;do{if((L=z())!=='"'&&L!=="'")throw f(L);j.push(z()),G(L),L=Q()}while(L==='"'||L==="'");return j.join("")}function v(j){var L=z();switch(L){case"'":case'"':return W(L),d();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return o(L,!0)}catch(h){if(j&&DW.test(L))return L;throw f(L,"value")}}function l(j,L){var h,x;do if(L&&((h=Q())==='"'||h==="'")){var y=d();if(j.push(y),D>=2023)throw f(y,"id")}else try{j.push([x=S(z()),G("to",!0)?S(z()):x])}catch(t){if(L&&DW.test(h)&&D>=2023)j.push(h);else throw t}while(G(",",!0));var c={options:void 0};c.setOption=function(t,X1){if(this.options===void 0)this.options={};this.options[t]=X1},Z1(c,function t(X1){if(X1==="option")a(c,X1),G(";");else throw f(X1)},function t(){Y0(c)})}function o(j,L){var h=1;if(j.charAt(0)==="-")h=-1,j=j.substring(1);switch(j){case"inf":case"INF":case"Inf":return h*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(xI5.test(j))return h*parseInt(j,10);if(dI5.test(j))return h*parseInt(j,16);if(mI5.test(j))return h*parseInt(j,8);if(lI5.test(j))return h*parseFloat(j);throw f(j,"number",L)}function S(j,L){switch(j){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!L&&j.charAt(0)==="-")throw f(j,"id");if(gI5.test(j))return parseInt(j,10);if(uI5.test(j))return parseInt(j,16);if(cI5.test(j))return parseInt(j,8);throw f(j,"id")}function i(){if(H!==void 0)throw f("package");if(H=z(),!DW.test(H))throw f(H,"name");V=V.define(H),G(";")}function u(){var j=Q(),L;switch(j){case"weak":L=U||(U=[]),z();break;case"public":z();default:L=F||(F=[]);break}j=d(),G(";"),L.push(j)}function G1(){if(G("="),D=d(),D<2023)throw f(D,"syntax");G(";")}function e(){if(G("="),D=d(),!["2023"].includes(D))throw f(D,"edition");G(";")}function _(j,L){switch(L){case"option":return a(j,L),G(";"),!0;case"message":return V1(j,L),!0;case"enum":return z0(j,L),!0;case"service":return H0(j,L),!0;case"extend":return b(j,L),!0}return!1}function Z1(j,L,h){var x=$.line;if(j){if(typeof j.comment!=="string")j.comment=K();j.filename=ZK.filename}if(G("{",!0)){var y;while((y=z())!=="}")L(y);G(";",!0)}else{if(h)h();if(G(";"),j&&(typeof j.comment!=="string"||Y))j.comment=K(x)||j.comment}}function V1(j,L){if(!OW.test(L=z()))throw f(L,"type name");var h=new Yf6(L);if(Z1(h,function x(y){if(_(h,y))return;switch(y){case"map":h1(h,y);break;case"required":if(D!=="proto2")throw f(y);case"repeated":N1(h,y);break;case"optional":if(D==="proto3")N1(h,"proto3_optional");else if(D!=="proto2")throw f(y);else N1(h,"optional");break;case"oneof":X0(h,y);break;case"extensions":l(h.extensions||(h.extensions=[]));break;case"reserved":l(h.reserved||(h.reserved=[]),!0);break;default:if(D==="proto2"||!DW.test(y))throw f(y);W(y),N1(h,"optional");break}}),j.add(h),j===V)w.push(h)}function N1(j,L,h){var x=z();if(x==="group"){m1(j,L);return}while(x.endsWith(".")||Q().startsWith("."))x+=z();if(!DW.test(x))throw f(x,"type");var y=z();if(!OW.test(y))throw f(y,"name");y=P(y),G("=");var c=new $f6(y,S(z()),x,L,h);if(Z1(c,function X1(B1){if(B1==="option")a(c,B1),G(";");else throw f(B1)},function X1(){Y0(c)}),L==="proto3_optional"){var t=new zf6("_"+y);c.setOption("proto3_optional",!0),t.add(c),j.add(t)}else j.add(c);if(j===V)w.push(c)}function m1(j,L){if(D>=2023)throw f("group");var h=z();if(!OW.test(h))throw f(h,"name");var x=JF1.lcFirst(h);if(h===x)h=JF1.ucFirst(h);G("=");var y=S(z()),c=new Yf6(h);c.group=!0;var t=new $f6(x,y,h,L);t.filename=ZK.filename,Z1(c,function X1(B1){switch(B1){case"option":a(c,B1),G(";");break;case"required":case"repeated":N1(c,B1);break;case"optional":if(D==="proto3")N1(c,"proto3_optional");else N1(c,"optional");break;case"message":V1(c,B1);break;case"enum":z0(c,B1);break;case"reserved":l(c.reserved||(c.reserved=[]),!0);break;default:throw f(B1)}}),j.add(c).add(t)}function h1(j){G("<");var L=z();if(vI5.mapKey[L]===void 0)throw f(L,"type");G(",");var h=z();if(!DW.test(h))throw f(h,"type");G(">");var x=z();if(!OW.test(x))throw f(x,"name");G("=");var y=new kI5(P(x),S(z()),L,h);Z1(y,function c(t){if(t==="option")a(y,t),G(";");else throw f(t)},function c(){Y0(y)}),j.add(y)}function X0(j,L){if(!OW.test(L=z()))throw f(L,"name");var h=new zf6(P(L));Z1(h,function x(y){if(y==="option")a(h,y),G(";");else W(y),N1(h,"optional")}),j.add(h)}function z0(j,L){if(!OW.test(L=z()))throw f(L,"name");var h=new bI5(L);if(Z1(h,function x(y){switch(y){case"option":a(h,y),G(";");break;case"reserved":if(l(h.reserved||(h.reserved=[]),!0),h.reserved===void 0)h.reserved=[];break;default:Y1(h,y)}}),j.add(h),j===V)w.push(h)}function Y1(j,L){if(!OW.test(L))throw f(L,"name");G("=");var h=S(z(),!0),x={options:void 0};x.getOption=function(y){return this.options[y]},x.setOption=function(y,c){yI5.prototype.setOption.call(x,y,c)},x.setParsedOption=function(){return},Z1(x,function y(c){if(c==="option")a(x,c),G(";");else throw f(c)},function y(){Y0(x)}),j.add(L,h,x.comment,x.parsedOptions||x.options)}function a(j,L){var h,x,y=!0;if(L==="option")L=z();while(L!=="="){if(L==="("){var c=z();G(")"),L="("+c+")"}if(y){if(y=!1,L.includes(".")&&!L.includes("(")){var t=L.split(".");h=t[0]+".",L=t[1];continue}h=L}else x=x?x+=L:L;L=z()}var X1=x?h.concat(x):h,B1=w1(j,X1);x=x&&x[0]==="."?x.slice(1):x,h=h&&h[h.length-1]==="."?h.slice(0,-1):h,r1(j,h,B1,x)}function w1(j,L){if(G("{",!0)){var h={};while(!G("}",!0)){if(!OW.test(A=z()))throw f(A,"name");if(A===null)throw f(A,"end of input");var x,y=A;if(G(":",!0),Q()==="{")x=w1(j,L+"."+A);else if(Q()==="["){x=[];var c;if(G("[",!0)){do c=v(!0),x.push(c);while(G(",",!0));if(G("]"),typeof c!=="undefined")I1(j,L+"."+A,c)}}else x=v(!0),I1(j,L+"."+A,x);var t=h[y];if(t)x=[].concat(t).concat(x);h[y]=x,G(",",!0),G(";",!0)}return h}var X1=v(!0);return I1(j,L,X1),X1}function I1(j,L,h){if(V===j&&/^features\./.test(L)){M[L]=h;return}if(j.setOption)j.setOption(L,h)}function r1(j,L,h,x){if(j.setParsedOption)j.setParsedOption(L,h,x)}function Y0(j){if(G("[",!0)){do a(j,"option");while(G(",",!0));G("]")}return j}function H0(j,L){if(!OW.test(L=z()))throw f(L,"service name");var h=new hI5(L);if(Z1(h,function x(y){if(_(h,y))return;if(y==="rpc")k(h,y);else throw f(y)}),j.add(h),j===V)w.push(h)}function k(j,L){var h=K(),x=L;if(!OW.test(L=z()))throw f(L,"name");var y=L,c,t,X1,B1;if(G("("),G("stream",!0))t=!0;if(!DW.test(L=z()))throw f(L);if(c=L,G(")"),G("returns"),G("("),G("stream",!0))B1=!0;if(!DW.test(L=z()))throw f(L);X1=L,G(")");var y1=new _I5(y,x,c,X1,t,B1);y1.comment=h,Z1(y1,function c1(I6){if(I6==="option")a(y1,I6),G(";");else throw f(I6)}),j.add(y1)}function b(j,L){if(!DW.test(L=z()))throw f(L,"reference");var h=L;Z1(null,function x(y){switch(y){case"required":case"repeated":N1(j,y,h);break;case"optional":if(D==="proto3")N1(j,"proto3_optional",h);else N1(j,"optional",h);break;default:if(D==="proto2"||!DW.test(y))throw f(y);W(y),N1(j,"optional",h);break}})}var A;while((A=z())!==null)switch(A){case"package":if(!q)throw f(A);i();break;case"import":if(!q)throw f(A);u();break;case"syntax":if(!q)throw f(A);G1();break;case"edition":if(!q)throw f(A);e();break;case"option":a(V,A),G(";",!0);break;default:if(_(V,A)){q=!1;continue}throw f(A)}return R(),ZK.filename=null,{package:H,imports:F,weakImports:U,root:Z}}});var qf6=B((kG7,Kf6)=>{Kf6.exports=iY;var pI5=/\/|\./;function iY(J,Z){if(!pI5.test(J))J="google/protobuf/"+J+".proto",Z={nested:{google:{nested:{protobuf:{nested:Z}}}}};iY[J]=Z}iY("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var Gf6;iY("duration",{Duration:Gf6={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});iY("timestamp",{Timestamp:Gf6});iY("empty",{Empty:{fields:{}}});iY("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});iY("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});iY("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});iY.get=function J(Z){return iY[Z]||null}});var Wl=B((bG7,Bf6)=>{var vB=Bf6.exports=tT6();vB.build="full";vB.tokenize=eH1();vB.parse=Qf6();vB.common=qf6();vB.Root._configure(vB.Type,vB.parse,vB.common)});var ZF1=B((hG7,nI5)=>{nI5.exports={nested:{google:{nested:{protobuf:{options:{go_package:"google.golang.org/protobuf/types/descriptorpb",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{FileDescriptorSet:{edition:"proto2",fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}},extensions:[[536000000,536000000]]},Edition:{edition:"proto2",values:{EDITION_UNKNOWN:0,EDITION_LEGACY:900,EDITION_PROTO2:998,EDITION_PROTO3:999,EDITION_2023:1000,EDITION_2024:1001,EDITION_1_TEST_ONLY:1,EDITION_2_TEST_ONLY:2,EDITION_99997_TEST_ONLY:99997,EDITION_99998_TEST_ONLY:99998,EDITION_99999_TEST_ONLY:99999,EDITION_MAX:2147483647}},FileDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10},weakDependency:{rule:"repeated",type:"int32",id:11},optionDependency:{rule:"repeated",type:"string",id:15},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12},edition:{type:"Edition",id:14}}},DescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10},visibility:{type:"SymbolVisibility",id:11}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{edition:"proto2",fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999},declaration:{rule:"repeated",type:"Declaration",id:2,options:{retention:"RETENTION_SOURCE"}},features:{type:"FeatureSet",id:50},verification:{type:"VerificationState",id:3,options:{default:"UNVERIFIED",retention:"RETENTION_SOURCE"}}},extensions:[[1000,536870911]],nested:{Declaration:{fields:{number:{type:"int32",id:1},fullName:{type:"string",id:2},type:{type:"string",id:3},reserved:{type:"bool",id:5},repeated:{type:"bool",id:6}},reserved:[[4,4]]},VerificationState:{values:{DECLARATION:0,UNVERIFIED:1}}}},FieldDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REPEATED:3,LABEL_REQUIRED:2}}}},OneofDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5},visibility:{type:"SymbolVisibility",id:6}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{edition:"proto2",fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},features:{type:"FeatureSet",id:50},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]],reserved:[[42,42],"php_generic_services",[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{edition:"proto2",fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:11,options:{deprecated:!0}},features:{type:"FeatureSet",id:12},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]],reserved:[[4,4],[5,5],[6,6],[8,8],[9,9]]},FieldOptions:{edition:"proto2",fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},unverifiedLazy:{type:"bool",id:15},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10,options:{deprecated:!0}},debugRedact:{type:"bool",id:16},retention:{type:"OptionRetention",id:17},targets:{rule:"repeated",type:"OptionTargetType",id:19},editionDefaults:{rule:"repeated",type:"EditionDefault",id:20},features:{type:"FeatureSet",id:21},featureSupport:{type:"FeatureSupport",id:22},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]],reserved:[[4,4],[18,18]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}},OptionRetention:{values:{RETENTION_UNKNOWN:0,RETENTION_RUNTIME:1,RETENTION_SOURCE:2}},OptionTargetType:{values:{TARGET_TYPE_UNKNOWN:0,TARGET_TYPE_FILE:1,TARGET_TYPE_EXTENSION_RANGE:2,TARGET_TYPE_MESSAGE:3,TARGET_TYPE_FIELD:4,TARGET_TYPE_ONEOF:5,TARGET_TYPE_ENUM:6,TARGET_TYPE_ENUM_ENTRY:7,TARGET_TYPE_SERVICE:8,TARGET_TYPE_METHOD:9}},EditionDefault:{fields:{edition:{type:"Edition",id:3},value:{type:"string",id:2}}},FeatureSupport:{fields:{editionIntroduced:{type:"Edition",id:1},editionDeprecated:{type:"Edition",id:2},deprecationWarning:{type:"string",id:3},editionRemoved:{type:"Edition",id:4}}}}},OneofOptions:{edition:"proto2",fields:{features:{type:"FeatureSet",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]]},EnumOptions:{edition:"proto2",fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:6,options:{deprecated:!0}},features:{type:"FeatureSet",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]],reserved:[[5,5]]},EnumValueOptions:{edition:"proto2",fields:{deprecated:{type:"bool",id:1},features:{type:"FeatureSet",id:2},debugRedact:{type:"bool",id:3},featureSupport:{type:"FieldOptions.FeatureSupport",id:4},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]]},ServiceOptions:{edition:"proto2",fields:{features:{type:"FeatureSet",id:34},deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]]},MethodOptions:{edition:"proto2",fields:{deprecated:{type:"bool",id:33},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},features:{type:"FeatureSet",id:35},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{edition:"proto2",fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},FeatureSet:{edition:"proto2",fields:{fieldPresence:{type:"FieldPresence",id:1,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},enumType:{type:"EnumType",id:2,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},repeatedFieldEncoding:{type:"RepeatedFieldEncoding",id:3,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},utf8Validation:{type:"Utf8Validation",id:4,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},messageEncoding:{type:"MessageEncoding",id:5,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},jsonFormat:{type:"JsonFormat",id:6,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},enforceNamingStyle:{type:"EnforceNamingStyle",id:7,options:{retention:"RETENTION_SOURCE",targets:"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},defaultSymbolVisibility:{type:"VisibilityFeature.DefaultSymbolVisibility",id:8,options:{retention:"RETENTION_SOURCE",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},extensions:[[1000,9994],[9995,9999],[1e4,1e4]],reserved:[[999,999]],nested:{FieldPresence:{values:{FIELD_PRESENCE_UNKNOWN:0,EXPLICIT:1,IMPLICIT:2,LEGACY_REQUIRED:3}},EnumType:{values:{ENUM_TYPE_UNKNOWN:0,OPEN:1,CLOSED:2}},RepeatedFieldEncoding:{values:{REPEATED_FIELD_ENCODING_UNKNOWN:0,PACKED:1,EXPANDED:2}},Utf8Validation:{values:{UTF8_VALIDATION_UNKNOWN:0,VERIFY:2,NONE:3}},MessageEncoding:{values:{MESSAGE_ENCODING_UNKNOWN:0,LENGTH_PREFIXED:1,DELIMITED:2}},JsonFormat:{values:{JSON_FORMAT_UNKNOWN:0,ALLOW:1,LEGACY_BEST_EFFORT:2}},EnforceNamingStyle:{values:{ENFORCE_NAMING_STYLE_UNKNOWN:0,STYLE2024:1,STYLE_LEGACY:2}},VisibilityFeature:{fields:{},reserved:[[1,536870911]],nested:{DefaultSymbolVisibility:{values:{DEFAULT_SYMBOL_VISIBILITY_UNKNOWN:0,EXPORT_ALL:1,EXPORT_TOP_LEVEL:2,LOCAL_ALL:3,STRICT:4}}}}}},FeatureSetDefaults:{edition:"proto2",fields:{defaults:{rule:"repeated",type:"FeatureSetEditionDefault",id:1},minimumEdition:{type:"Edition",id:4},maximumEdition:{type:"Edition",id:5}},nested:{FeatureSetEditionDefault:{fields:{edition:{type:"Edition",id:3},overridableFeatures:{type:"FeatureSet",id:4},fixedFeatures:{type:"FeatureSet",id:5}},reserved:[[1,1],[2,2],"features"]}}},SourceCodeInfo:{edition:"proto2",fields:{location:{rule:"repeated",type:"Location",id:1}},extensions:[[536000000,536000000]],nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1,options:{packed:!0}},span:{rule:"repeated",type:"int32",id:2,options:{packed:!0}},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{edition:"proto2",fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1,options:{packed:!0}},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4},semantic:{type:"Semantic",id:5}},nested:{Semantic:{values:{NONE:0,SET:1,ALIAS:2}}}}}},SymbolVisibility:{edition:"proto2",values:{VISIBILITY_UNSET:0,VISIBILITY_LOCAL:1,VISIBILITY_EXPORT:2}}}}}}}}});var If6=B((j6,Vf6)=>{var _J=Wl();Vf6.exports=j6=_J.descriptor=_J.Root.fromJSON(ZF1()).lookup(".google.protobuf");var{Namespace:Hf6,Root:wR,Enum:XK,Type:VW,Field:xB,MapField:iI5,OneOf:Ql,Service:AR,Method:Gl}=_J;wR.fromDescriptor=function J(Z){if(typeof Z.length==="number")Z=j6.FileDescriptorSet.decode(Z);var X=new wR;if(Z.file){var Y,$;for(var z=0,W;z<Z.file.length;++z){if($=X,(Y=Z.file[z]).package&&Y.package.length)$=X.define(Y.package);var Q=Yw5(Y);if(Y.name&&Y.name.length)X.files.push($.filename=Y.name);if(Y.messageType)for(W=0;W<Y.messageType.length;++W)$.add(VW.fromDescriptor(Y.messageType[W],Q));if(Y.enumType)for(W=0;W<Y.enumType.length;++W)$.add(XK.fromDescriptor(Y.enumType[W],Q));if(Y.extension)for(W=0;W<Y.extension.length;++W)$.add(xB.fromDescriptor(Y.extension[W],Q));if(Y.service)for(W=0;W<Y.service.length;++W)$.add(AR.fromDescriptor(Y.service[W],Q));var G=LA(Y.options,j6.FileOptions);if(G){var K=Object.keys(G);for(W=0;W<K.length;++W)$.setOption(K[W],G[K[W]])}}}return X.resolveAll()};wR.prototype.toDescriptor=function J(Z){var X=j6.FileDescriptorSet.create();return Ff6(this,X.file,Z),X};function Ff6(J,Z,X){var Y=j6.FileDescriptorProto.create({name:J.filename||(J.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});if($w5(X,Y),!(J instanceof wR))Y.package=J.fullName.substring(1);for(var $=0,z;$<J.nestedArray.length;++$)if((z=J._nestedArray[$])instanceof VW)Y.messageType.push(z.toDescriptor(X));else if(z instanceof XK)Y.enumType.push(z.toDescriptor());else if(z instanceof xB)Y.extension.push(z.toDescriptor(X));else if(z instanceof AR)Y.service.push(z.toDescriptor());else if(z instanceof Hf6)Ff6(z,Z,X);if(Y.options=CA(J.options,j6.FileOptions),Y.messageType.length+Y.enumType.length+Y.extension.length+Y.service.length)Z.push(Y)}var oI5=0;VW.fromDescriptor=function J(Z,X,Y){if(typeof Z.length==="number")Z=j6.DescriptorProto.decode(Z);var $=new VW(Z.name.length?Z.name:"Type"+oI5++,LA(Z.options,j6.MessageOptions)),z;if(!Y)$._edition=X;if(Z.oneofDecl)for(z=0;z<Z.oneofDecl.length;++z)$.add(Ql.fromDescriptor(Z.oneofDecl[z]));if(Z.field)for(z=0;z<Z.field.length;++z){var W=xB.fromDescriptor(Z.field[z],X,!0);if($.add(W),Z.field[z].hasOwnProperty("oneofIndex"))$.oneofsArray[Z.field[z].oneofIndex].add(W)}if(Z.extension)for(z=0;z<Z.extension.length;++z)$.add(xB.fromDescriptor(Z.extension[z],X,!0));if(Z.nestedType){for(z=0;z<Z.nestedType.length;++z)if($.add(VW.fromDescriptor(Z.nestedType[z],X,!0)),Z.nestedType[z].options&&Z.nestedType[z].options.mapEntry)$.setOption("map_entry",!0)}if(Z.enumType)for(z=0;z<Z.enumType.length;++z)$.add(XK.fromDescriptor(Z.enumType[z],X,!0));if(Z.extensionRange&&Z.extensionRange.length){$.extensions=[];for(z=0;z<Z.extensionRange.length;++z)$.extensions.push([Z.extensionRange[z].start,Z.extensionRange[z].end])}if(Z.reservedRange&&Z.reservedRange.length||Z.reservedName&&Z.reservedName.length){if($.reserved=[],Z.reservedRange)for(z=0;z<Z.reservedRange.length;++z)$.reserved.push([Z.reservedRange[z].start,Z.reservedRange[z].end]);if(Z.reservedName)for(z=0;z<Z.reservedName.length;++z)$.reserved.push(Z.reservedName[z])}return $};VW.prototype.toDescriptor=function J(Z){var X=j6.DescriptorProto.create({name:this.name}),Y;for(Y=0;Y<this.fieldsArray.length;++Y){var $;if(X.field.push($=this._fieldsArray[Y].toDescriptor(Z)),this._fieldsArray[Y]instanceof iI5){var z=XF1(this._fieldsArray[Y].keyType,this._fieldsArray[Y].resolvedKeyType,!1),W=XF1(this._fieldsArray[Y].type,this._fieldsArray[Y].resolvedType,!1),Q=W===11||W===14?this._fieldsArray[Y].resolvedType&&Df6(this.parent,this._fieldsArray[Y].resolvedType)||this._fieldsArray[Y].type:void 0;X.nestedType.push(j6.DescriptorProto.create({name:$.typeName,field:[j6.FieldDescriptorProto.create({name:"key",number:1,label:1,type:z}),j6.FieldDescriptorProto.create({name:"value",number:2,label:1,type:W,typeName:Q})],options:j6.MessageOptions.create({mapEntry:!0})}))}}for(Y=0;Y<this.oneofsArray.length;++Y)X.oneofDecl.push(this._oneofsArray[Y].toDescriptor());for(Y=0;Y<this.nestedArray.length;++Y)if(this._nestedArray[Y]instanceof xB)X.field.push(this._nestedArray[Y].toDescriptor(Z));else if(this._nestedArray[Y]instanceof VW)X.nestedType.push(this._nestedArray[Y].toDescriptor(Z));else if(this._nestedArray[Y]instanceof XK)X.enumType.push(this._nestedArray[Y].toDescriptor());if(this.extensions)for(Y=0;Y<this.extensions.length;++Y)X.extensionRange.push(j6.DescriptorProto.ExtensionRange.create({start:this.extensions[Y][0],end:this.extensions[Y][1]}));if(this.reserved)for(Y=0;Y<this.reserved.length;++Y)if(typeof this.reserved[Y]==="string")X.reservedName.push(this.reserved[Y]);else X.reservedRange.push(j6.DescriptorProto.ReservedRange.create({start:this.reserved[Y][0],end:this.reserved[Y][1]}));return X.options=CA(this.options,j6.MessageOptions),X};var sI5=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;xB.fromDescriptor=function J(Z,X,Y){if(typeof Z.length==="number")Z=j6.DescriptorProto.decode(Z);if(typeof Z.number!=="number")throw Error("missing field id");var $;if(Z.typeName&&Z.typeName.length)$=Z.typeName;else $=Jw5(Z.type);var z;switch(Z.label){case 1:z=void 0;break;case 2:z="required";break;case 3:z="repeated";break;default:throw Error("illegal label: "+Z.label)}var W=Z.extendee;if(Z.extendee!==void 0)W=W.length?W:void 0;var Q=new xB(Z.name.length?Z.name:"field"+Z.number,Z.number,$,z,W);if(!Y)Q._edition=X;if(Q.options=LA(Z.options,j6.FieldOptions),Z.proto3_optional)Q.options.proto3_optional=!0;if(Z.defaultValue&&Z.defaultValue.length){var G=Z.defaultValue;switch(G){case"true":case"TRUE":G=!0;break;case"false":case"FALSE":G=!1;break;default:var K=sI5.exec(G);if(K)G=parseInt(G);break}Q.setOption("default",G)}if(Zw5(Z.type)){if(X==="proto3"){if(Z.options&&!Z.options.packed)Q.setOption("packed",!1)}else if((!X||X==="proto2")&&Z.options&&Z.options.packed)Q.setOption("packed",!0)}return Q};xB.prototype.toDescriptor=function J(Z){var X=j6.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)X.type=11,X.typeName=_J.util.ucFirst(this.name),X.label=3;else{switch(X.type=XF1(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:X.typeName=this.resolvedType?Df6(this.parent,this.resolvedType):this.type;break}if(this.rule==="repeated")X.label=3;else if(this.required&&Z==="proto2")X.label=2;else X.label=1}if(X.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf){if((X.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof")}if(this.options){if(X.options=CA(this.options,j6.FieldOptions),this.options.default!=null)X.defaultValue=String(this.options.default);if(this.options.proto3_optional)X.proto3_optional=!0}if(Z==="proto3"){if(!this.packed)(X.options||(X.options=j6.FieldOptions.create())).packed=!1}else if((!Z||Z==="proto2")&&this.packed)(X.options||(X.options=j6.FieldOptions.create())).packed=!0;return X};var aI5=0;XK.fromDescriptor=function J(Z,X,Y){if(typeof Z.length==="number")Z=j6.EnumDescriptorProto.decode(Z);var $={};if(Z.value)for(var z=0;z<Z.value.length;++z){var W=Z.value[z].name,Q=Z.value[z].number||0;$[W&&W.length?W:"NAME"+Q]=Q}var G=new XK(Z.name&&Z.name.length?Z.name:"Enum"+aI5++,$,LA(Z.options,j6.EnumOptions));if(!Y)G._edition=X;return G};XK.prototype.toDescriptor=function J(){var Z=[];for(var X=0,Y=Object.keys(this.values);X<Y.length;++X)Z.push(j6.EnumValueDescriptorProto.create({name:Y[X],number:this.values[Y[X]]}));return j6.EnumDescriptorProto.create({name:this.name,value:Z,options:CA(this.options,j6.EnumOptions)})};var rI5=0;Ql.fromDescriptor=function J(Z){if(typeof Z.length==="number")Z=j6.OneofDescriptorProto.decode(Z);return new Ql(Z.name&&Z.name.length?Z.name:"oneof"+rI5++)};Ql.prototype.toDescriptor=function J(){return j6.OneofDescriptorProto.create({name:this.name})};var tI5=0;AR.fromDescriptor=function J(Z,X,Y){if(typeof Z.length==="number")Z=j6.ServiceDescriptorProto.decode(Z);var $=new AR(Z.name&&Z.name.length?Z.name:"Service"+tI5++,LA(Z.options,j6.ServiceOptions));if(!Y)$._edition=X;if(Z.method)for(var z=0;z<Z.method.length;++z)$.add(Gl.fromDescriptor(Z.method[z]));return $};AR.prototype.toDescriptor=function J(){var Z=[];for(var X=0;X<this.methodsArray.length;++X)Z.push(this._methodsArray[X].toDescriptor());return j6.ServiceDescriptorProto.create({name:this.name,method:Z,options:CA(this.options,j6.ServiceOptions)})};var eI5=0;Gl.fromDescriptor=function J(Z){if(typeof Z.length==="number")Z=j6.MethodDescriptorProto.decode(Z);return new Gl(Z.name&&Z.name.length?Z.name:"Method"+eI5++,"rpc",Z.inputType,Z.outputType,Boolean(Z.clientStreaming),Boolean(Z.serverStreaming),LA(Z.options,j6.MethodOptions))};Gl.prototype.toDescriptor=function J(){return j6.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:CA(this.options,j6.MethodOptions)})};function Jw5(J){switch(J){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+J)}function Zw5(J){switch(J){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function XF1(J,Z,X){switch(J){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(Z instanceof XK)return 14;if(Z instanceof VW)return X?10:11;throw Error("illegal type: "+J)}function Uf6(J,Z){var X={};for(var Y=0,$,z;Y<Z.fieldsArray.length;++Y){if((z=($=Z._fieldsArray[Y]).name)==="uninterpretedOption")continue;if(!Object.prototype.hasOwnProperty.call(J,z))continue;var W=Xw5(z);if($.resolvedType instanceof VW)X[W]=Uf6(J[z],$.resolvedType);else if($.resolvedType instanceof XK)X[W]=$.resolvedType.valuesById[J[z]];else X[W]=J[z]}return X}function LA(J,Z){if(!J)return;return Uf6(Z.toObject(J),Z)}function Of6(J,Z){var X={},Y=Object.keys(J);for(var $=0;$<Y.length;++$){var z=Y[$],W=_J.util.camelCase(z);if(!Object.prototype.hasOwnProperty.call(Z.fields,W))continue;var Q=Z.fields[W];if(Q.resolvedType instanceof VW)X[W]=Of6(J[z],Q.resolvedType);else X[W]=J[z];if(Q.repeated&&!Array.isArray(X[W]))X[W]=[X[W]]}return X}function CA(J,Z){if(!J)return;return Z.fromObject(Of6(J,Z))}function Df6(J,Z){var X=J.fullName.split("."),Y=Z.fullName.split("."),$=0,z=0,W=Y.length-1;if(!(J instanceof wR)&&Z instanceof Hf6)while($<X.length&&z<W&&X[$]===Y[z]){var Q=Z.lookup(X[$++],!0);if(Q!==null&&Q!==Z)break;++z}else for(;$<X.length&&z<W&&X[$]===Y[z];++$,++z);return Y.slice(z).join(".")}function Xw5(J){return J.substring(0,1)+J.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(Z,X){return"_"+X.toLowerCase()})}function Yw5(J){if(J.syntax==="editions")switch(J.edition){case j6.Edition.EDITION_2023:return"2023";default:throw new Error("Unsupported edition "+J.edition)}if(J.syntax==="proto3")return"proto3";return"proto2"}function $w5(J,Z){if(!J)return;if(J==="proto2"||J==="proto3")Z.syntax=J;else switch(Z.syntax="editions",J){case"2023":Z.edition=j6.Edition.EDITION_2023;break;default:throw new Error("Unsupported edition "+J)}}});var wf6=B((_G7,zw5)=>{zw5.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var Af6=B((yG7,Ww5)=>{Ww5.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var Mf6=B((vG7,Qw5)=>{Qw5.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var Rf6=B((Cf6)=>{Object.defineProperty(Cf6,"__esModule",{value:!0});Cf6.addCommonProtos=Cf6.loadProtosWithOptionsSync=Cf6.loadProtosWithOptions=void 0;var Nf6=p("fs"),Pf6=p("path"),jA=Wl();function Lf6(J,Z){let X=J.resolvePath;J.resolvePath=(Y,$)=>{if(Pf6.isAbsolute($))return $;for(let z of Z){let W=Pf6.join(z,$);try{return Nf6.accessSync(W,Nf6.constants.R_OK),W}catch(Q){continue}}return process.emitWarning(`${$} not found in any of the include paths ${Z}`),X(Y,$)}}async function Gw5(J,Z){let X=new jA.Root;if(Z=Z||{},Z.includeDirs){if(!Array.isArray(Z.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));Lf6(X,Z.includeDirs)}let Y=await X.load(J,Z);return Y.resolveAll(),Y}Cf6.loadProtosWithOptions=Gw5;function Kw5(J,Z){let X=new jA.Root;if(Z=Z||{},Z.includeDirs){if(!Array.isArray(Z.includeDirs))throw new Error("The includeDirs option must be an array");Lf6(X,Z.includeDirs)}let Y=X.loadSync(J,Z);return Y.resolveAll(),Y}Cf6.loadProtosWithOptionsSync=Kw5;function qw5(){let J=wf6(),Z=ZF1(),X=Af6(),Y=Mf6();jA.common("api",J.nested.google.nested.protobuf.nested),jA.common("descriptor",Z.nested.google.nested.protobuf.nested),jA.common("source_context",X.nested.google.nested.protobuf.nested),jA.common("type",Y.nested.google.nested.protobuf.nested)}Cf6.addCommonProtos=qw5});var Ef6=B((MR,YF1)=>{(function(J,Z){function X(Y){return Y.default||Y}if(typeof define==="function"&&define.amd)define([],function(){var Y={};return Z(Y),X(Y)});else if(typeof MR==="object"){if(Z(MR),typeof YF1==="object")YF1.exports=X(MR)}else(function(){var Y={};Z(Y),J.Long=X(Y)})()})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:MR,function(J){Object.defineProperty(J,"__esModule",{value:!0}),J.default=void 0;var Z=null;try{Z=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function X(e,_,Z1){this.low=e|0,this.high=_|0,this.unsigned=!!Z1}X.prototype.__isLong__,Object.defineProperty(X.prototype,"__isLong__",{value:!0});function Y(e){return(e&&e.__isLong__)===!0}function $(e){var _=Math.clz32(e&-e);return e?31-_:_}X.isLong=Y;var z={},W={};function Q(e,_){var Z1,V1,N1;if(_){if(e>>>=0,N1=0<=e&&e<256){if(V1=W[e],V1)return V1}if(Z1=K(e,0,!0),N1)W[e]=Z1;return Z1}else{if(e|=0,N1=-128<=e&&e<128){if(V1=z[e],V1)return V1}if(Z1=K(e,e<0?-1:0,!1),N1)z[e]=Z1;return Z1}}X.fromInt=Q;function G(e,_){if(isNaN(e))return _?f:R;if(_){if(e<0)return f;if(e>=w)return S}else{if(e<=-M)return i;if(e+1>=M)return o}if(e<0)return G(-e,_).neg();return K(e%V|0,e/V|0,_)}X.fromNumber=G;function K(e,_,Z1){return new X(e,_,Z1)}X.fromBits=K;var q=Math.pow;function H(e,_,Z1){if(e.length===0)throw Error("empty string");if(typeof _==="number")Z1=_,_=!1;else _=!!_;if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return _?f:R;if(Z1=Z1||10,Z1<2||36<Z1)throw RangeError("radix");var V1;if((V1=e.indexOf("-"))>0)throw Error("interior hyphen");else if(V1===0)return H(e.substring(1),_,Z1).neg();var N1=G(q(Z1,8)),m1=R;for(var h1=0;h1<e.length;h1+=8){var X0=Math.min(8,e.length-h1),z0=parseInt(e.substring(h1,h1+X0),Z1);if(X0<8){var Y1=G(q(Z1,X0));m1=m1.mul(Y1).add(G(z0))}else m1=m1.mul(N1),m1=m1.add(G(z0))}return m1.unsigned=_,m1}X.fromString=H;function F(e,_){if(typeof e==="number")return G(e,_);if(typeof e==="string")return H(e,_);return K(e.low,e.high,typeof _==="boolean"?_:e.unsigned)}X.fromValue=F;var U=65536,D=16777216,V=U*U,w=V*V,M=w/2,P=Q(D),R=Q(0);X.ZERO=R;var f=Q(0,!0);X.UZERO=f;var d=Q(1);X.ONE=d;var v=Q(1,!0);X.UONE=v;var l=Q(-1);X.NEG_ONE=l;var o=K(-1,2147483647,!1);X.MAX_VALUE=o;var S=K(-1,-1,!0);X.MAX_UNSIGNED_VALUE=S;var i=K(0,-2147483648,!1);X.MIN_VALUE=i;var u=X.prototype;if(u.toInt=function e(){return this.unsigned?this.low>>>0:this.low},u.toNumber=function e(){if(this.unsigned)return(this.high>>>0)*V+(this.low>>>0);return this.high*V+(this.low>>>0)},u.toString=function e(_){if(_=_||10,_<2||36<_)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(i)){var Z1=G(_),V1=this.div(Z1),N1=V1.mul(Z1).sub(this);return V1.toString(_)+N1.toInt().toString(_)}else return"-"+this.neg().toString(_);var m1=G(q(_,6),this.unsigned),h1=this,X0="";while(!0){var z0=h1.div(m1),Y1=h1.sub(z0.mul(m1)).toInt()>>>0,a=Y1.toString(_);if(h1=z0,h1.isZero())return a+X0;else{while(a.length<6)a="0"+a;X0=""+a+X0}}},u.getHighBits=function e(){return this.high},u.getHighBitsUnsigned=function e(){return this.high>>>0},u.getLowBits=function e(){return this.low},u.getLowBitsUnsigned=function e(){return this.low>>>0},u.getNumBitsAbs=function e(){if(this.isNegative())return this.eq(i)?64:this.neg().getNumBitsAbs();var _=this.high!=0?this.high:this.low;for(var Z1=31;Z1>0;Z1--)if((_&1<<Z1)!=0)break;return this.high!=0?Z1+33:Z1+1},u.isSafeInteger=function e(){var _=this.high>>21;if(!_)return!0;if(this.unsigned)return!1;return _===-1&&!(this.low===0&&this.high===-2097152)},u.isZero=function e(){return this.high===0&&this.low===0},u.eqz=u.isZero,u.isNegative=function e(){return!this.unsigned&&this.high<0},u.isPositive=function e(){return this.unsigned||this.high>=0},u.isOdd=function e(){return(this.low&1)===1},u.isEven=function e(){return(this.low&1)===0},u.equals=function e(_){if(!Y(_))_=F(_);if(this.unsigned!==_.unsigned&&this.high>>>31===1&&_.high>>>31===1)return!1;return this.high===_.high&&this.low===_.low},u.eq=u.equals,u.notEquals=function e(_){return!this.eq(_)},u.neq=u.notEquals,u.ne=u.notEquals,u.lessThan=function e(_){return this.comp(_)<0},u.lt=u.lessThan,u.lessThanOrEqual=function e(_){return this.comp(_)<=0},u.lte=u.lessThanOrEqual,u.le=u.lessThanOrEqual,u.greaterThan=function e(_){return this.comp(_)>0},u.gt=u.greaterThan,u.greaterThanOrEqual=function e(_){return this.comp(_)>=0},u.gte=u.greaterThanOrEqual,u.ge=u.greaterThanOrEqual,u.compare=function e(_){if(!Y(_))_=F(_);if(this.eq(_))return 0;var Z1=this.isNegative(),V1=_.isNegative();if(Z1&&!V1)return-1;if(!Z1&&V1)return 1;if(!this.unsigned)return this.sub(_).isNegative()?-1:1;return _.high>>>0>this.high>>>0||_.high===this.high&&_.low>>>0>this.low>>>0?-1:1},u.comp=u.compare,u.negate=function e(){if(!this.unsigned&&this.eq(i))return i;return this.not().add(d)},u.neg=u.negate,u.add=function e(_){if(!Y(_))_=F(_);var Z1=this.high>>>16,V1=this.high&65535,N1=this.low>>>16,m1=this.low&65535,h1=_.high>>>16,X0=_.high&65535,z0=_.low>>>16,Y1=_.low&65535,a=0,w1=0,I1=0,r1=0;return r1+=m1+Y1,I1+=r1>>>16,r1&=65535,I1+=N1+z0,w1+=I1>>>16,I1&=65535,w1+=V1+X0,a+=w1>>>16,w1&=65535,a+=Z1+h1,a&=65535,K(I1<<16|r1,a<<16|w1,this.unsigned)},u.subtract=function e(_){if(!Y(_))_=F(_);return this.add(_.neg())},u.sub=u.subtract,u.multiply=function e(_){if(this.isZero())return this;if(!Y(_))_=F(_);if(Z){var Z1=Z.mul(this.low,this.high,_.low,_.high);return K(Z1,Z.get_high(),this.unsigned)}if(_.isZero())return this.unsigned?f:R;if(this.eq(i))return _.isOdd()?i:R;if(_.eq(i))return this.isOdd()?i:R;if(this.isNegative())if(_.isNegative())return this.neg().mul(_.neg());else return this.neg().mul(_).neg();else if(_.isNegative())return this.mul(_.neg()).neg();if(this.lt(P)&&_.lt(P))return G(this.toNumber()*_.toNumber(),this.unsigned);var V1=this.high>>>16,N1=this.high&65535,m1=this.low>>>16,h1=this.low&65535,X0=_.high>>>16,z0=_.high&65535,Y1=_.low>>>16,a=_.low&65535,w1=0,I1=0,r1=0,Y0=0;return Y0+=h1*a,r1+=Y0>>>16,Y0&=65535,r1+=m1*a,I1+=r1>>>16,r1&=65535,r1+=h1*Y1,I1+=r1>>>16,r1&=65535,I1+=N1*a,w1+=I1>>>16,I1&=65535,I1+=m1*Y1,w1+=I1>>>16,I1&=65535,I1+=h1*z0,w1+=I1>>>16,I1&=65535,w1+=V1*a+N1*Y1+m1*z0+h1*X0,w1&=65535,K(r1<<16|Y0,w1<<16|I1,this.unsigned)},u.mul=u.multiply,u.divide=function e(_){if(!Y(_))_=F(_);if(_.isZero())throw Error("division by zero");if(Z){if(!this.unsigned&&this.high===-2147483648&&_.low===-1&&_.high===-1)return this;var Z1=(this.unsigned?Z.div_u:Z.div_s)(this.low,this.high,_.low,_.high);return K(Z1,Z.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?f:R;var V1,N1,m1;if(!this.unsigned){if(this.eq(i))if(_.eq(d)||_.eq(l))return i;else if(_.eq(i))return d;else{var h1=this.shr(1);if(V1=h1.div(_).shl(1),V1.eq(R))return _.isNegative()?d:l;else return N1=this.sub(_.mul(V1)),m1=V1.add(N1.div(_)),m1}else if(_.eq(i))return this.unsigned?f:R;if(this.isNegative()){if(_.isNegative())return this.neg().div(_.neg());return this.neg().div(_).neg()}else if(_.isNegative())return this.div(_.neg()).neg();m1=R}else{if(!_.unsigned)_=_.toUnsigned();if(_.gt(this))return f;if(_.gt(this.shru(1)))return v;m1=f}N1=this;while(N1.gte(_)){V1=Math.max(1,Math.floor(N1.toNumber()/_.toNumber()));var X0=Math.ceil(Math.log(V1)/Math.LN2),z0=X0<=48?1:q(2,X0-48),Y1=G(V1),a=Y1.mul(_);while(a.isNegative()||a.gt(N1))V1-=z0,Y1=G(V1,this.unsigned),a=Y1.mul(_);if(Y1.isZero())Y1=d;m1=m1.add(Y1),N1=N1.sub(a)}return m1},u.div=u.divide,u.modulo=function e(_){if(!Y(_))_=F(_);if(Z){var Z1=(this.unsigned?Z.rem_u:Z.rem_s)(this.low,this.high,_.low,_.high);return K(Z1,Z.get_high(),this.unsigned)}return this.sub(this.div(_).mul(_))},u.mod=u.modulo,u.rem=u.modulo,u.not=function e(){return K(~this.low,~this.high,this.unsigned)},u.countLeadingZeros=function e(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},u.clz=u.countLeadingZeros,u.countTrailingZeros=function e(){return this.low?$(this.low):$(this.high)+32},u.ctz=u.countTrailingZeros,u.and=function e(_){if(!Y(_))_=F(_);return K(this.low&_.low,this.high&_.high,this.unsigned)},u.or=function e(_){if(!Y(_))_=F(_);return K(this.low|_.low,this.high|_.high,this.unsigned)},u.xor=function e(_){if(!Y(_))_=F(_);return K(this.low^_.low,this.high^_.high,this.unsigned)},u.shiftLeft=function e(_){if(Y(_))_=_.toInt();if((_&=63)===0)return this;else if(_<32)return K(this.low<<_,this.high<<_|this.low>>>32-_,this.unsigned);else return K(0,this.low<<_-32,this.unsigned)},u.shl=u.shiftLeft,u.shiftRight=function e(_){if(Y(_))_=_.toInt();if((_&=63)===0)return this;else if(_<32)return K(this.low>>>_|this.high<<32-_,this.high>>_,this.unsigned);else return K(this.high>>_-32,this.high>=0?0:-1,this.unsigned)},u.shr=u.shiftRight,u.shiftRightUnsigned=function e(_){if(Y(_))_=_.toInt();if((_&=63)===0)return this;if(_<32)return K(this.low>>>_|this.high<<32-_,this.high>>>_,this.unsigned);if(_===32)return K(this.high,0,this.unsigned);return K(this.high>>>_-32,0,this.unsigned)},u.shru=u.shiftRightUnsigned,u.shr_u=u.shiftRightUnsigned,u.rotateLeft=function e(_){var Z1;if(Y(_))_=_.toInt();if((_&=63)===0)return this;if(_===32)return K(this.high,this.low,this.unsigned);if(_<32)return Z1=32-_,K(this.low<<_|this.high>>>Z1,this.high<<_|this.low>>>Z1,this.unsigned);return _-=32,Z1=32-_,K(this.high<<_|this.low>>>Z1,this.low<<_|this.high>>>Z1,this.unsigned)},u.rotl=u.rotateLeft,u.rotateRight=function e(_){var Z1;if(Y(_))_=_.toInt();if((_&=63)===0)return this;if(_===32)return K(this.high,this.low,this.unsigned);if(_<32)return Z1=32-_,K(this.high<<Z1|this.low>>>_,this.low<<Z1|this.high>>>_,this.unsigned);return _-=32,Z1=32-_,K(this.low<<Z1|this.high>>>_,this.high<<Z1|this.low>>>_,this.unsigned)},u.rotr=u.rotateRight,u.toSigned=function e(){if(!this.unsigned)return this;return K(this.low,this.high,!1)},u.toUnsigned=function e(){if(this.unsigned)return this;return K(this.low,this.high,!0)},u.toBytes=function e(_){return _?this.toBytesLE():this.toBytesBE()},u.toBytesLE=function e(){var _=this.high,Z1=this.low;return[Z1&255,Z1>>>8&255,Z1>>>16&255,Z1>>>24,_&255,_>>>8&255,_>>>16&255,_>>>24]},u.toBytesBE=function e(){var _=this.high,Z1=this.low;return[_>>>24,_>>>16&255,_>>>8&255,_&255,Z1>>>24,Z1>>>16&255,Z1>>>8&255,Z1&255]},X.fromBytes=function e(_,Z1,V1){return V1?X.fromBytesLE(_,Z1):X.fromBytesBE(_,Z1)},X.fromBytesLE=function e(_,Z1){return new X(_[0]|_[1]<<8|_[2]<<16|_[3]<<24,_[4]|_[5]<<8|_[6]<<16|_[7]<<24,Z1)},X.fromBytesBE=function e(_,Z1){return new X(_[4]<<24|_[5]<<16|_[6]<<8|_[7],_[0]<<24|_[1]<<16|_[2]<<8|_[3],Z1)},typeof BigInt==="function")X.fromBigInt=function e(_,Z1){var V1=Number(BigInt.asIntN(32,_)),N1=Number(BigInt.asIntN(32,_>>BigInt(32)));return K(V1,N1,Z1)},X.fromValue=function e(_,Z1){if(typeof _==="bigint")return X.fromBigInt(_,Z1);return F(_,Z1)},u.toBigInt=function e(){var _=BigInt(this.low>>>0),Z1=BigInt(this.unsigned?this.high>>>0:this.high);return Z1<<BigInt(32)|_};var G1=J.default=X})});var xf6=B((yf6)=>{Object.defineProperty(yf6,"__esModule",{value:!0});yf6.loadFileDescriptorSetFromObject=yf6.loadFileDescriptorSetFromBuffer=yf6.fromJSON=yf6.loadSync=yf6.load=yf6.IdempotencyLevel=yf6.isAnyExtension=yf6.Long=void 0;var Fw5=BT6(),IW=Wl(),zF1=If6(),WF1=Rf6(),Uw5=Ef6();yf6.Long=Uw5;function Ow5(J){return"@type"in J&&typeof J["@type"]==="string"}yf6.isAnyExtension=Ow5;var kf6;(function(J){J.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",J.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",J.IDEMPOTENT="IDEMPOTENT"})(kf6=yf6.IdempotencyLevel||(yf6.IdempotencyLevel={}));var bf6={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function Dw5(J,Z){if(J==="")return Z;else return J+"."+Z}function Vw5(J){return J instanceof IW.Service||J instanceof IW.Type||J instanceof IW.Enum}function Iw5(J){return J instanceof IW.Namespace||J instanceof IW.Root}function hf6(J,Z){let X=Dw5(Z,J.name);if(Vw5(J))return[[X,J]];else if(Iw5(J)&&typeof J.nested!=="undefined")return Object.keys(J.nested).map((Y)=>{return hf6(J.nested[Y],X)}).reduce((Y,$)=>Y.concat($),[]);return[]}function Sf6(J,Z){return function X(Y){return J.toObject(J.decode(Y),Z)}}function Tf6(J){return function Z(X){if(Array.isArray(X))throw new Error(`Failed to serialize message: expected object with ${J.name} structure, got array instead`);let Y=J.fromObject(X);return J.encode(Y).finish()}}function ww5(J){return(J||[]).reduce((Z,X)=>{for(let[Y,$]of Object.entries(X))switch(Y){case"uninterpreted_option":Z.uninterpreted_option.push(X.uninterpreted_option);break;default:Z[Y]=$}return Z},{deprecated:!1,idempotency_level:kf6.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function Aw5(J,Z,X,Y){let{resolvedRequestType:$,resolvedResponseType:z}=J;return{path:"/"+Z+"/"+J.name,requestStream:!!J.requestStream,responseStream:!!J.responseStream,requestSerialize:Tf6($),requestDeserialize:Sf6($,X),responseSerialize:Tf6(z),responseDeserialize:Sf6(z,X),originalName:Fw5(J.name),requestType:$F1($,Y),responseType:$F1(z,Y),options:ww5(J.parsedOptions)}}function Mw5(J,Z,X,Y){let $={};for(let z of J.methodsArray)$[z.name]=Aw5(z,Z,X,Y);return $}function $F1(J,Z){let X=J.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:X.$type.toObject(X,bf6),fileDescriptorProtos:Z}}function Nw5(J,Z){let X=J.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:X.$type.toObject(X,bf6),fileDescriptorProtos:Z}}function Pw5(J,Z,X,Y){if(J instanceof IW.Service)return Mw5(J,Z,X,Y);else if(J instanceof IW.Type)return $F1(J,Y);else if(J instanceof IW.Enum)return Nw5(J,Y);else throw new Error("Type mismatch in reflection object handling")}function Kl(J,Z){let X={};J.resolveAll();let $=J.toDescriptor("proto3").file.map((z)=>Buffer.from(zF1.FileDescriptorProto.encode(z).finish()));for(let[z,W]of hf6(J,""))X[z]=Pw5(W,z,Z,$);return X}function _f6(J,Z){Z=Z||{};let X=IW.Root.fromDescriptor(J);return X.resolveAll(),Kl(X,Z)}function Lw5(J,Z){return(0,WF1.loadProtosWithOptions)(J,Z).then((X)=>{return Kl(X,Z)})}yf6.load=Lw5;function Cw5(J,Z){let X=(0,WF1.loadProtosWithOptionsSync)(J,Z);return Kl(X,Z)}yf6.loadSync=Cw5;function jw5(J,Z){Z=Z||{};let X=IW.Root.fromJSON(J);return X.resolveAll(),Kl(X,Z)}yf6.fromJSON=jw5;function Rw5(J,Z){let X=zF1.FileDescriptorSet.decode(J);return _f6(X,Z)}yf6.loadFileDescriptorSetFromBuffer=Rw5;function Ew5(J,Z){let X=zF1.FileDescriptorSet.fromObject(J);return _f6(X,Z)}yf6.loadFileDescriptorSetFromObject=Ew5;(0,WF1.addCommonProtos)()});var XD=B((tf6)=>{var __dirname="/Users/Simon.Owusu@Tommy.com/WebstormProjects/CapellaQL/node_modules/@grpc/grpc-js/build/src";Object.defineProperty(tf6,"__esModule",{value:!0});tf6.registerChannelzSocket=tf6.registerChannelzServer=tf6.registerChannelzSubchannel=tf6.registerChannelzChannel=tf6.ChannelzCallTrackerStub=tf6.ChannelzCallTracker=tf6.ChannelzChildrenTrackerStub=tf6.ChannelzChildrenTracker=tf6.ChannelzTrace=tf6.ChannelzTraceStub=void 0;tf6.unregisterChannelzRef=gw5;tf6.getChannelzHandlers=af6;tf6.getChannelzServiceDefinition=rf6;tf6.setup=aw5;var Bl=p("net"),ZD=HS6(),NR=LX(),PR=p6(),_w5=CX(),yw5=xc(),vw5=IH1();function QF1(J){return{channel_id:J.id,name:J.name}}function GF1(J){return{subchannel_id:J.id,name:J.name}}function xw5(J){return{server_id:J.id}}function Hl(J){return{socket_id:J.id,name:J.name}}var gf6=32,KF1=100;class cf6{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:wW(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}}tf6.ChannelzTraceStub=cf6;class lf6{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(J,Z,X){let Y=new Date;if(this.events.push({description:Z,severity:J,timestamp:Y,childChannel:(X===null||X===void 0?void 0:X.kind)==="channel"?X:void 0,childSubchannel:(X===null||X===void 0?void 0:X.kind)==="subchannel"?X:void 0}),this.events.length>=gf6*2)this.events=this.events.slice(gf6);this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:wW(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map((J)=>{return{description:J.description,severity:J.severity,timestamp:wW(J.timestamp),channel_ref:J.childChannel?QF1(J.childChannel):null,subchannel_ref:J.childSubchannel?GF1(J.childSubchannel):null}})}}}tf6.ChannelzTrace=lf6;class qF1{constructor(){this.channelChildren=new ZD.OrderedMap,this.subchannelChildren=new ZD.OrderedMap,this.socketChildren=new ZD.OrderedMap,this.trackerMap={["channel"]:this.channelChildren,["subchannel"]:this.subchannelChildren,["socket"]:this.socketChildren}}refChild(J){let Z=this.trackerMap[J.kind],X=Z.find(J.id);if(X.equals(Z.end()))Z.setElement(J.id,{ref:J,count:1},X);else X.pointer[1].count+=1}unrefChild(J){let Z=this.trackerMap[J.kind],X=Z.getElementByKey(J.id);if(X!==void 0){if(X.count-=1,X.count===0)Z.eraseElementByKey(J.id)}}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}}tf6.ChannelzChildrenTracker=qF1;class pf6 extends qF1{refChild(){}unrefChild(){}}tf6.ChannelzChildrenTrackerStub=pf6;class BF1{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}tf6.ChannelzCallTracker=BF1;class nf6 extends BF1{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}}tf6.ChannelzCallTrackerStub=nf6;var YK={["channel"]:new ZD.OrderedMap,["subchannel"]:new ZD.OrderedMap,["server"]:new ZD.OrderedMap,["socket"]:new ZD.OrderedMap},Fl=(J)=>{let Z=1;function X(){return Z++}let Y=YK[J];return($,z,W)=>{let Q=X(),G={id:Q,name:$,kind:J};if(W)Y.setElement(Q,{ref:G,getInfo:z});return G}};tf6.registerChannelzChannel=Fl("channel");tf6.registerChannelzSubchannel=Fl("subchannel");tf6.registerChannelzServer=Fl("server");tf6.registerChannelzSocket=Fl("socket");function gw5(J){YK[J.kind].eraseElementByKey(J.id)}function dw5(J){let Z=Number.parseInt(J,16);return[Z/256|0,Z%256]}function df6(J){if(J==="")return[];let Z=J.split(":").map((Y)=>dw5(Y));return[].concat(...Z)}function uw5(J){return(0,Bl.isIPv6)(J)&&J.toLowerCase().startsWith("::ffff:")&&(0,Bl.isIPv4)(J.substring(7))}function uf6(J){return Buffer.from(Uint8Array.from(J.split(".").map((Z)=>Number.parseInt(Z))))}function mw5(J){if((0,Bl.isIPv4)(J))return uf6(J);else if(uw5(J))return uf6(J.substring(7));else if((0,Bl.isIPv6)(J)){let Z,X,Y=J.indexOf("::");if(Y===-1)Z=J,X="";else Z=J.substring(0,Y),X=J.substring(Y+2);let $=Buffer.from(df6(Z)),z=Buffer.from(df6(X)),W=Buffer.alloc(16-$.length-z.length,0);return Buffer.concat([$,W,z])}else return null}function if6(J){switch(J){case NR.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case NR.ConnectivityState.IDLE:return{state:"IDLE"};case NR.ConnectivityState.READY:return{state:"READY"};case NR.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case NR.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function wW(J){if(!J)return null;let Z=J.getTime();return{seconds:Z/1000|0,nanos:Z%1000*1e6}}function of6(J){let Z=J.getInfo(),X=[],Y=[];return Z.children.channels.forEach(($)=>{X.push(QF1($[1].ref))}),Z.children.subchannels.forEach(($)=>{Y.push(GF1($[1].ref))}),{ref:QF1(J.ref),data:{target:Z.target,state:if6(Z.state),calls_started:Z.callTracker.callsStarted,calls_succeeded:Z.callTracker.callsSucceeded,calls_failed:Z.callTracker.callsFailed,last_call_started_timestamp:wW(Z.callTracker.lastCallStartedTimestamp),trace:Z.trace.getTraceMessage()},channel_ref:X,subchannel_ref:Y}}function cw5(J,Z){let X=parseInt(J.request.channel_id,10),Y=YK.channel.getElementByKey(X);if(Y===void 0){Z({code:PR.Status.NOT_FOUND,details:"No channel data found for id "+X});return}Z(null,{channel:of6(Y)})}function lw5(J,Z){let X=parseInt(J.request.max_results,10)||KF1,Y=[],$=parseInt(J.request.start_channel_id,10),z=YK.channel,W;for(W=z.lowerBound($);!W.equals(z.end())&&Y.length<X;W=W.next())Y.push(of6(W.pointer[1]));Z(null,{channel:Y,end:W.equals(z.end())})}function sf6(J){let Z=J.getInfo(),X=[];return Z.listenerChildren.sockets.forEach((Y)=>{X.push(Hl(Y[1].ref))}),{ref:xw5(J.ref),data:{calls_started:Z.callTracker.callsStarted,calls_succeeded:Z.callTracker.callsSucceeded,calls_failed:Z.callTracker.callsFailed,last_call_started_timestamp:wW(Z.callTracker.lastCallStartedTimestamp),trace:Z.trace.getTraceMessage()},listen_socket:X}}function pw5(J,Z){let X=parseInt(J.request.server_id,10),$=YK.server.getElementByKey(X);if($===void 0){Z({code:PR.Status.NOT_FOUND,details:"No server data found for id "+X});return}Z(null,{server:sf6($)})}function nw5(J,Z){let X=parseInt(J.request.max_results,10)||KF1,Y=parseInt(J.request.start_server_id,10),$=YK.server,z=[],W;for(W=$.lowerBound(Y);!W.equals($.end())&&z.length<X;W=W.next())z.push(sf6(W.pointer[1]));Z(null,{server:z,end:W.equals($.end())})}function iw5(J,Z){let X=parseInt(J.request.subchannel_id,10),Y=YK.subchannel.getElementByKey(X);if(Y===void 0){Z({code:PR.Status.NOT_FOUND,details:"No subchannel data found for id "+X});return}let $=Y.getInfo(),z=[];$.children.sockets.forEach((Q)=>{z.push(Hl(Q[1].ref))});let W={ref:GF1(Y.ref),data:{target:$.target,state:if6($.state),calls_started:$.callTracker.callsStarted,calls_succeeded:$.callTracker.callsSucceeded,calls_failed:$.callTracker.callsFailed,last_call_started_timestamp:wW($.callTracker.lastCallStartedTimestamp),trace:$.trace.getTraceMessage()},socket_ref:z};Z(null,{subchannel:W})}function mf6(J){var Z;if((0,_w5.isTcpSubchannelAddress)(J))return{address:"tcpip_address",tcpip_address:{ip_address:(Z=mw5(J.host))!==null&&Z!==void 0?Z:void 0,port:J.port}};else return{address:"uds_address",uds_address:{filename:J.path}}}function ow5(J,Z){var X,Y,$,z,W;let Q=parseInt(J.request.socket_id,10),G=YK.socket.getElementByKey(Q);if(G===void 0){Z({code:PR.Status.NOT_FOUND,details:"No socket data found for id "+Q});return}let K=G.getInfo(),q=K.security?{model:"tls",tls:{cipher_suite:K.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(X=K.security.cipherSuiteStandardName)!==null&&X!==void 0?X:void 0,other_name:(Y=K.security.cipherSuiteOtherName)!==null&&Y!==void 0?Y:void 0,local_certificate:($=K.security.localCertificate)!==null&&$!==void 0?$:void 0,remote_certificate:(z=K.security.remoteCertificate)!==null&&z!==void 0?z:void 0}}:null,H={ref:Hl(G.ref),local:K.localAddress?mf6(K.localAddress):null,remote:K.remoteAddress?mf6(K.remoteAddress):null,remote_name:(W=K.remoteName)!==null&&W!==void 0?W:void 0,security:q,data:{keep_alives_sent:K.keepAlivesSent,streams_started:K.streamsStarted,streams_succeeded:K.streamsSucceeded,streams_failed:K.streamsFailed,last_local_stream_created_timestamp:wW(K.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:wW(K.lastRemoteStreamCreatedTimestamp),messages_received:K.messagesReceived,messages_sent:K.messagesSent,last_message_received_timestamp:wW(K.lastMessageReceivedTimestamp),last_message_sent_timestamp:wW(K.lastMessageSentTimestamp),local_flow_control_window:K.localFlowControlWindow?{value:K.localFlowControlWindow}:null,remote_flow_control_window:K.remoteFlowControlWindow?{value:K.remoteFlowControlWindow}:null}};Z(null,{socket:H})}function sw5(J,Z){let X=parseInt(J.request.server_id,10),Y=YK.server.getElementByKey(X);if(Y===void 0){Z({code:PR.Status.NOT_FOUND,details:"No server data found for id "+X});return}let $=parseInt(J.request.start_socket_id,10),z=parseInt(J.request.max_results,10)||KF1,Q=Y.getInfo().sessionChildren.sockets,G=[],K;for(K=Q.lowerBound($);!K.equals(Q.end())&&G.length<z;K=K.next())G.push(Hl(K.pointer[1].ref));Z(null,{socket_ref:G,end:K.equals(Q.end())})}function af6(){return{GetChannel:cw5,GetTopChannels:lw5,GetServer:pw5,GetServers:nw5,GetSubchannel:iw5,GetSocket:ow5,GetServerSockets:sw5}}var ql=null;function rf6(){if(ql)return ql;let J=xf6().loadSync,Z=J("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return ql=(0,vw5.loadPackageDefinition)(Z).grpc.channelz.v1.Channelz.service,ql}function aw5(){(0,yw5.registerAdminService)(rf6,af6)}});var Yk6=B((Zk6)=>{Object.defineProperty(Zk6,"__esModule",{value:!0});Zk6.Subchannel=void 0;var m4=LX(),qA5=ZR(),HF1=$8(),Ul=p6(),BA5=e7(),HA5=CX(),AW=XD(),FA5="subchannel",UA5=2147483647;class Jk6{constructor(J,Z,X,Y,$){var z;this.channelTarget=J,this.subchannelAddress=Z,this.options=X,this.connector=$,this.connectivityState=m4.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0;let W={initialDelay:X["grpc.initial_reconnect_backoff_ms"],maxDelay:X["grpc.max_reconnect_backoff_ms"]};if(this.backoffTimeout=new qA5.BackoffTimeout(()=>{this.handleBackoffTimer()},W),this.backoffTimeout.unref(),this.subchannelAddressString=(0,HA5.subchannelAddressToString)(Z),this.keepaliveTime=(z=X["grpc.keepalive_time_ms"])!==null&&z!==void 0?z:-1,X["grpc.enable_channelz"]===0)this.channelzEnabled=!1,this.channelzTrace=new AW.ChannelzTraceStub,this.callTracker=new AW.ChannelzCallTrackerStub,this.childrenTracker=new AW.ChannelzChildrenTrackerStub,this.streamTracker=new AW.ChannelzCallTrackerStub;else this.channelzTrace=new AW.ChannelzTrace,this.callTracker=new AW.ChannelzCallTracker,this.childrenTracker=new AW.ChannelzChildrenTracker,this.streamTracker=new AW.ChannelzCallTracker;this.channelzRef=(0,AW.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(X,void 0,2)),this.secureConnector=Y._createSecureConnector(J,X)}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(J){HF1.trace(Ul.LogVerbosity.DEBUG,FA5,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+J)}refTrace(J){HF1.trace(Ul.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+J)}handleBackoffTimer(){if(this.continueConnecting)this.transitionToState([m4.ConnectivityState.TRANSIENT_FAILURE],m4.ConnectivityState.CONNECTING);else this.transitionToState([m4.ConnectivityState.TRANSIENT_FAILURE],m4.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let J=this.options;if(J["grpc.keepalive_time_ms"]){let Z=Math.min(this.keepaliveTime,UA5);J=Object.assign(Object.assign({},J),{"grpc.keepalive_time_ms":Z})}this.connector.connect(this.subchannelAddress,this.secureConnector,J).then((Z)=>{if(this.transitionToState([m4.ConnectivityState.CONNECTING],m4.ConnectivityState.READY)){if(this.transport=Z,this.channelzEnabled)this.childrenTracker.refChild(Z.getChannelzRef());Z.addDisconnectListener((X)=>{if(this.transitionToState([m4.ConnectivityState.READY],m4.ConnectivityState.IDLE),X&&this.keepaliveTime>0)this.keepaliveTime*=2,HF1.log(Ul.LogVerbosity.ERROR,`Connection to ${(0,BA5.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`)})}else Z.shutdown()},(Z)=>{this.transitionToState([m4.ConnectivityState.CONNECTING],m4.ConnectivityState.TRANSIENT_FAILURE,`${Z}`)})}transitionToState(J,Z,X){var Y,$;if(J.indexOf(this.connectivityState)===-1)return!1;if(X)this.trace(m4.ConnectivityState[this.connectivityState]+" -> "+m4.ConnectivityState[Z]+' with error "'+X+'"');else this.trace(m4.ConnectivityState[this.connectivityState]+" -> "+m4.ConnectivityState[Z]);if(this.channelzEnabled)this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+m4.ConnectivityState[Z]);let z=this.connectivityState;switch(this.connectivityState=Z,Z){case m4.ConnectivityState.READY:this.stopBackoff();break;case m4.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case m4.ConnectivityState.TRANSIENT_FAILURE:if(this.channelzEnabled&&this.transport)this.childrenTracker.unrefChild(this.transport.getChannelzRef());if((Y=this.transport)===null||Y===void 0||Y.shutdown(),this.transport=null,!this.backoffTimeout.isRunning())process.nextTick(()=>{this.handleBackoffTimer()});break;case m4.ConnectivityState.IDLE:if(this.channelzEnabled&&this.transport)this.childrenTracker.unrefChild(this.transport.getChannelzRef());($=this.transport)===null||$===void 0||$.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${Z}`)}for(let W of this.stateListeners)W(this,z,Z,this.keepaliveTime,X);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){if(this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0)this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,AW.unregisterChannelzRef)(this.channelzRef),this.secureConnector.destroy(),process.nextTick(()=>{this.transitionToState([m4.ConnectivityState.CONNECTING,m4.ConnectivityState.READY],m4.ConnectivityState.IDLE)})}unrefIfOneRef(){if(this.refcount===1)return this.unref(),!0;return!1}createCall(J,Z,X,Y){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let $;if(this.channelzEnabled)this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),$={onCallEnd:(z)=>{if(z.code===Ul.Status.OK)this.callTracker.addCallSucceeded();else this.callTracker.addCallFailed()}};else $={};return this.transport.createCall(J,Z,X,Y,$)}startConnecting(){process.nextTick(()=>{if(!this.transitionToState([m4.ConnectivityState.IDLE],m4.ConnectivityState.CONNECTING)){if(this.connectivityState===m4.ConnectivityState.TRANSIENT_FAILURE)this.continueConnecting=!0}})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(J){this.stateListeners.add(J)}removeConnectivityStateListener(J){this.stateListeners.delete(J)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([m4.ConnectivityState.TRANSIENT_FAILURE],m4.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(J){}removeHealthStateWatcher(J){}getRealSubchannel(){return this}realSubchannelEquals(J){return J.getRealSubchannel()===this}throttleKeepalive(J){if(J>this.keepaliveTime)this.keepaliveTime=J}getCallCredentials(){return this.secureConnector.getCallCredentials()}}Zk6.Subchannel=Jk6});var Wk6=B(($k6)=>{var FF1;Object.defineProperty($k6,"__esModule",{value:!0});$k6.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=void 0;$k6.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=((FF1=process.env.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)!==null&&FF1!==void 0?FF1:"false")==="true"});var VF1=B((Bk6)=>{Object.defineProperty(Bk6,"__esModule",{value:!0});Bk6.DEFAULT_PORT=void 0;Bk6.setup=MA5;var Qk6=BW(),UF1=p("dns"),OA5=QH1(),OF1=p6(),DF1=i9(),DA5=$8(),VA5=p6(),gB=e7(),Gk6=p("net"),IA5=ZR(),Kk6=Wk6(),wA5="dns_resolver";function MW(J){DA5.trace(VA5.LogVerbosity.DEBUG,wA5,J)}Bk6.DEFAULT_PORT=443;var AA5=30000;class qk6{constructor(J,Z,X){var Y,$,z;if(this.target=J,this.listener=Z,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,this.alternativeResolver=new UF1.promises.Resolver,MW("Resolver constructed for target "+(0,gB.uriToString)(J)),J.authority)this.alternativeResolver.setServers([J.authority]);let W=(0,gB.splitHostPort)(J.path);if(W===null)this.ipResult=null,this.dnsHostname=null,this.port=null;else if((0,Gk6.isIPv4)(W.host)||(0,Gk6.isIPv6)(W.host))this.ipResult=[{addresses:[{host:W.host,port:(Y=W.port)!==null&&Y!==void 0?Y:Bk6.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null;else this.ipResult=null,this.dnsHostname=W.host,this.port=($=W.port)!==null&&$!==void 0?$:Bk6.DEFAULT_PORT;if(this.percentage=Math.random()*100,X["grpc.service_config_disable_resolution"]===1)this.isServiceConfigEnabled=!1;this.defaultResolutionError={code:OF1.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,gB.uriToString)(this.target)}`,metadata:new DF1.Metadata};let Q={initialDelay:X["grpc.initial_reconnect_backoff_ms"],maxDelay:X["grpc.max_reconnect_backoff_ms"]};this.backoff=new IA5.BackoffTimeout(()=>{if(this.continueResolving)this.startResolutionWithBackoff()},Q),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(z=X["grpc.dns_min_time_between_resolutions_ms"])!==null&&z!==void 0?z:AA5,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){if(!this.returnedIpResult)MW("Returning IP address for target "+(0,gB.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0;this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)MW("Failed to parse DNS address "+(0,gB.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:OF1.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,gB.uriToString)(this.target)}`,metadata:new DF1.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;MW("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let J=this.dnsHostname;if(this.pendingLookupPromise=this.lookup(J),this.pendingLookupPromise.then((Z)=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop(),this.latestLookupResult=Z.map((Y)=>({addresses:[Y]}));let X="["+Z.map((Y)=>Y.host+":"+Y.port).join(",")+"]";if(MW("Resolved addresses for target "+(0,gB.uriToString)(this.target)+": "+X),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},(Z)=>{if(this.pendingLookupPromise===null)return;MW("Resolution error for target "+(0,gB.uriToString)(this.target)+": "+Z.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError)}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null)this.pendingTxtPromise=this.resolveTxt(J),this.pendingTxtPromise.then((Z)=>{if(this.pendingTxtPromise===null)return;this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,OA5.extractAndSelectServiceConfig)(Z,this.percentage)}catch(X){this.latestServiceConfigError={code:OF1.Status.UNAVAILABLE,details:`Parsing service config failed with error ${X.message}`,metadata:new DF1.Metadata}}if(this.latestLookupResult!==null)this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},(Z)=>{})}}async lookup(J){if(Kk6.GRPC_NODE_USE_ALTERNATIVE_RESOLVER){MW("Using alternative DNS resolver.");let X=await Promise.allSettled([this.alternativeResolver.resolve4(J),this.alternativeResolver.resolve6(J)]);if(X.every((Y)=>Y.status==="rejected"))throw new Error(X[0].reason);return X.reduce((Y,$)=>{return $.status==="fulfilled"?[...Y,...$.value]:Y},[]).map((Y)=>({host:Y,port:+this.port}))}return(await UF1.promises.lookup(J,{all:!0})).map((X)=>({host:X.address,port:+this.port}))}async resolveTxt(J){if(Kk6.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)return MW("Using alternative DNS resolver."),this.alternativeResolver.resolveTxt(J);return UF1.promises.resolveTxt(J)}startNextResolutionTimer(){var J,Z;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{if(this.stopNextResolutionTimer(),this.continueResolving)this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),(Z=(J=this.nextResolutionTimer).unref)===null||Z===void 0||Z.call(J),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){if(this.pendingLookupPromise===null)this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution()}updateResolution(){if(this.pendingLookupPromise===null)if(this.isNextResolutionTimerRunning||this.backoff.isRunning()){if(this.isNextResolutionTimerRunning)MW('resolution update delayed by "min time between resolutions" rate limit');else MW("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString());this.continueResolving=!0}else this.startResolutionWithBackoff()}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(J){return J.path}}function MA5(){(0,Qk6.registerResolver)("dns",qk6),(0,Qk6.registerDefaultScheme)("dns")}});var IF1=B((Dk6)=>{Object.defineProperty(Dk6,"__esModule",{value:!0});Dk6.parseCIDR=Uk6;Dk6.mapProxyName=kA5;Dk6.getProxiedConnection=bA5;var LR=$8(),RA=p6(),Fk6=p("net"),PA5=p("http"),LA5=$8(),Hk6=CX(),CR=e7(),CA5=p("url"),jA5=VF1(),RA5="proxy";function EA(J){LA5.trace(RA.LogVerbosity.DEBUG,RA5,J)}function EA5(){let J="",Z="";if(process.env.grpc_proxy)Z="grpc_proxy",J=process.env.grpc_proxy;else if(process.env.https_proxy)Z="https_proxy",J=process.env.https_proxy;else if(process.env.http_proxy)Z="http_proxy",J=process.env.http_proxy;else return{};let X;try{X=new CA5.URL(J)}catch(Q){return(0,LR.log)(RA.LogVerbosity.ERROR,`cannot parse value of "${Z}" env var`),{}}if(X.protocol!=="http:")return(0,LR.log)(RA.LogVerbosity.ERROR,`"${X.protocol}" scheme not supported in proxy URI`),{};let Y=null;if(X.username)if(X.password)(0,LR.log)(RA.LogVerbosity.INFO,"userinfo found in proxy URI"),Y=decodeURIComponent(`${X.username}:${X.password}`);else Y=X.username;let{hostname:$,port:z}=X;if(z==="")z="80";let W={address:`${$}:${z}`};if(Y)W.creds=Y;return EA("Proxy server "+W.address+" set by environment variable "+Z),W}function SA5(){let J=process.env.no_grpc_proxy,Z="no_grpc_proxy";if(!J)J=process.env.no_proxy,Z="no_proxy";if(J)return EA("No proxy server list set by environment variable "+Z),J.split(",");else return[]}function Uk6(J){let Z=J.split("/");if(Z.length!==2)return null;let X=parseInt(Z[1],10);if(!(0,Fk6.isIPv4)(Z[0])||Number.isNaN(X)||X<0||X>32)return null;return{ip:Ok6(Z[0]),prefixLength:X}}function Ok6(J){return J.split(".").reduce((Z,X)=>(Z<<8)+parseInt(X,10),0)}function TA5(J,Z){let X=J.ip,Y=-1<<32-J.prefixLength;return(Ok6(Z)&Y)===(X&Y)}function fA5(J){for(let Z of SA5()){let X=Uk6(Z);if((0,Fk6.isIPv4)(J)&&X&&TA5(X,J))return!0;else if(J.endsWith(Z))return!0}return!1}function kA5(J,Z){var X;let Y={target:J,extraOptions:{}};if(((X=Z["grpc.enable_http_proxy"])!==null&&X!==void 0?X:1)===0)return Y;if(J.scheme==="unix")return Y;let $=EA5();if(!$.address)return Y;let z=(0,CR.splitHostPort)(J.path);if(!z)return Y;let W=z.host;if(fA5(W))return EA("Not using proxy for target in no_proxy list: "+(0,CR.uriToString)(J)),Y;let Q={"grpc.http_connect_target":(0,CR.uriToString)(J)};if($.creds)Q["grpc.http_connect_creds"]=$.creds;return{target:{scheme:"dns",path:$.address},extraOptions:Q}}function bA5(J,Z){var X;if(!("grpc.http_connect_target"in Z))return Promise.resolve(null);let Y=Z["grpc.http_connect_target"],$=(0,CR.parseUri)(Y);if($===null)return Promise.resolve(null);let z=(0,CR.splitHostPort)($.path);if(z===null)return Promise.resolve(null);let W=`${z.host}:${(X=z.port)!==null&&X!==void 0?X:jA5.DEFAULT_PORT}`,Q={method:"CONNECT",path:W},G={Host:W};if((0,Hk6.isTcpSubchannelAddress)(J))Q.host=J.host,Q.port=J.port;else Q.socketPath=J.path;if("grpc.http_connect_creds"in Z)G["Proxy-Authorization"]="Basic "+Buffer.from(Z["grpc.http_connect_creds"]).toString("base64");Q.headers=G;let K=(0,Hk6.subchannelAddressToString)(J);return EA("Using proxy "+K+" to connect to "+Q.path),new Promise((q,H)=>{let F=PA5.request(Q);F.once("connect",(U,D,V)=>{if(F.removeAllListeners(),D.removeAllListeners(),U.statusCode===200){if(EA("Successfully connected to "+Q.path+" through proxy "+K),V.length>0)D.unshift(V);EA("Successfully established a plaintext connection to "+Q.path+" through proxy "+K),q(D)}else(0,LR.log)(RA.LogVerbosity.ERROR,"Failed to connect to "+Q.path+" through proxy "+K+" with status "+U.statusCode),H()}),F.once("error",(U)=>{F.removeAllListeners(),(0,LR.log)(RA.LogVerbosity.ERROR,"Failed to connect to proxy "+K+" with error "+U.message),H()}),F.end()})}});var wF1=B((Ik6)=>{Object.defineProperty(Ik6,"__esModule",{value:!0});Ik6.StreamDecoder=void 0;var NW;(function(J){J[J.NO_DATA=0]="NO_DATA",J[J.READING_SIZE=1]="READING_SIZE",J[J.READING_MESSAGE=2]="READING_MESSAGE"})(NW||(NW={}));class Vk6{constructor(J){this.maxReadMessageLength=J,this.readState=NW.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(J){let Z=0,X,Y=[];while(Z<J.length)switch(this.readState){case NW.NO_DATA:this.readCompressFlag=J.slice(Z,Z+1),Z+=1,this.readState=NW.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case NW.READING_SIZE:if(X=Math.min(J.length-Z,this.readSizeRemaining),J.copy(this.readPartialSize,4-this.readSizeRemaining,Z,Z+X),this.readSizeRemaining-=X,Z+=X,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=NW.READING_MESSAGE;else{let $=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=NW.NO_DATA,Y.push($)}}break;case NW.READING_MESSAGE:if(X=Math.min(J.length-Z,this.readMessageRemaining),this.readPartialMessage.push(J.slice(Z,Z+X)),this.readMessageRemaining-=X,Z+=X,this.readMessageRemaining===0){let $=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),z=Buffer.concat($,this.readMessageSize+5);this.readState=NW.NO_DATA,Y.push(z)}break;default:throw new Error("Unexpected read state")}return Y}}Ik6.StreamDecoder=Vk6});var Pk6=B((Mk6)=>{Object.defineProperty(Mk6,"__esModule",{value:!0});Mk6.Http2SubchannelCall=void 0;var $K=p("http2"),vA5=p("os"),c4=p6(),zK=i9(),xA5=wF1(),gA5=$8(),dA5=p6(),uA5="subchannel_call";function mA5(J){for(let[Z,X]of Object.entries(vA5.constants.errno))if(X===J)return Z;return"Unknown system error "+J}function AF1(J){let Z=`Received HTTP status code ${J}`,X;switch(J){case 400:X=c4.Status.INTERNAL;break;case 401:X=c4.Status.UNAUTHENTICATED;break;case 403:X=c4.Status.PERMISSION_DENIED;break;case 404:X=c4.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:X=c4.Status.UNAVAILABLE;break;default:X=c4.Status.UNKNOWN}return{code:X,details:Z,metadata:new zK.Metadata}}class Ak6{constructor(J,Z,X,Y,$){var z;this.http2Stream=J,this.callEventTracker=Z,this.listener=X,this.transport=Y,this.callId=$,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1,this.connectionDropped=!1;let W=(z=Y.getOptions()["grpc.max_receive_message_length"])!==null&&z!==void 0?z:c4.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new xA5.StreamDecoder(W),J.on("response",(Q,G)=>{let K="";for(let q of Object.keys(Q))K+="\t\t"+q+": "+Q[q]+`
`;if(this.trace(`Received server headers:
`+K),this.httpStatusCode=Q[":status"],G&$K.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(Q);else{let q;try{q=zK.Metadata.fromHttp2Headers(Q)}catch(H){this.endCall({code:c4.Status.UNKNOWN,details:H.message,metadata:new zK.Metadata});return}this.listener.onReceiveMetadata(q)}}),J.on("trailers",(Q)=>{this.handleTrailers(Q)}),J.on("data",(Q)=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+Q.length);let G;try{G=this.decoder.write(Q)}catch(K){if(this.httpStatusCode!==void 0&&this.httpStatusCode!==200){let q=AF1(this.httpStatusCode);this.cancelWithStatus(q.code,q.details)}else this.cancelWithStatus(c4.Status.RESOURCE_EXHAUSTED,K.message);return}for(let K of G)this.trace("parsed message of length "+K.length),this.callEventTracker.addMessageReceived(),this.tryPush(K)}),J.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),J.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var Q;if(this.trace("HTTP/2 stream closed with code "+J.rstCode),((Q=this.finalStatus)===null||Q===void 0?void 0:Q.code)===c4.Status.OK)return;let G,K="";switch(J.rstCode){case $K.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;if(this.httpStatusCode&&this.httpStatusCode!==200){let q=AF1(this.httpStatusCode);G=q.code,K=q.details}else G=c4.Status.INTERNAL,K=`Received RST_STREAM with code ${J.rstCode} (Call ended without gRPC status)`;break;case $K.constants.NGHTTP2_REFUSED_STREAM:G=c4.Status.UNAVAILABLE,K="Stream refused by server";break;case $K.constants.NGHTTP2_CANCEL:if(this.connectionDropped)G=c4.Status.UNAVAILABLE,K="Connection dropped";else G=c4.Status.CANCELLED,K="Call cancelled";break;case $K.constants.NGHTTP2_ENHANCE_YOUR_CALM:G=c4.Status.RESOURCE_EXHAUSTED,K="Bandwidth exhausted or memory limit exceeded";break;case $K.constants.NGHTTP2_INADEQUATE_SECURITY:G=c4.Status.PERMISSION_DENIED,K="Protocol not secure enough";break;case $K.constants.NGHTTP2_INTERNAL_ERROR:if(G=c4.Status.INTERNAL,this.internalError===null)K=`Received RST_STREAM with code ${J.rstCode} (Internal server error)`;else if(this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT")G=c4.Status.UNAVAILABLE,K=this.internalError.message;else K=`Received RST_STREAM with code ${J.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:G=c4.Status.INTERNAL,K=`Received RST_STREAM with code ${J.rstCode}`}this.endCall({code:G,details:K,metadata:new zK.Metadata,rstCode:J.rstCode})})}),J.on("error",(Q)=>{if(Q.code!=="ERR_HTTP2_STREAM_ERROR")this.trace("Node error event: message="+Q.message+" code="+Q.code+" errno="+mA5(Q.errno)+" syscall="+Q.syscall),this.internalError=Q;this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.connectionDropped=!0,setImmediate(()=>{this.endCall({code:c4.Status.UNAVAILABLE,details:"Connection dropped",metadata:new zK.Metadata})})}outputStatus(){if(!this.statusOutput)this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume()}trace(J){gA5.trace(dA5.LogVerbosity.DEBUG,uA5,"["+this.callId+"] "+J)}endCall(J){if(this.finalStatus===null||this.finalStatus.code===c4.Status.OK)this.finalStatus=J,this.maybeOutputStatus();this.destroyHttp2Stream()}maybeOutputStatus(){if(this.finalStatus!==null){if(this.finalStatus.code!==c4.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)this.outputStatus()}}push(J){this.trace("pushing to reader message of length "+(J instanceof Buffer?J.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{if(this.isPushPending=!1,this.statusOutput)return;this.listener.onReceiveMessage(J),this.maybeOutputStatus()})}tryPush(J){if(this.canPush)this.http2Stream.pause(),this.push(J);else this.trace("unpushedReadMessages.push message of length "+J.length),this.unpushedReadMessages.push(J)}handleTrailers(J){this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let Z="";for(let z of Object.keys(J))Z+="\t\t"+z+": "+J[z]+`
`;this.trace(`Received server trailers:
`+Z);let X;try{X=zK.Metadata.fromHttp2Headers(J)}catch(z){X=new zK.Metadata}let Y=X.getMap(),$;if(typeof Y["grpc-status"]==="string"){let z=Number(Y["grpc-status"]);this.trace("received status code "+z+" from server"),X.remove("grpc-status");let W="";if(typeof Y["grpc-message"]==="string"){try{W=decodeURI(Y["grpc-message"])}catch(Q){W=Y["grpc-message"]}X.remove("grpc-message"),this.trace('received status details string "'+W+'" from server')}$={code:z,details:W,metadata:X}}else if(this.httpStatusCode)$=AF1(this.httpStatusCode),$.metadata=X;else $={code:c4.Status.UNKNOWN,details:"No status information received",metadata:X};this.endCall($)}destroyHttp2Stream(){var J;if(this.http2Stream.destroyed)return;if(this.serverEndedCall)this.http2Stream.end();else{let Z;if(((J=this.finalStatus)===null||J===void 0?void 0:J.code)===c4.Status.OK)Z=$K.constants.NGHTTP2_NO_ERROR;else Z=$K.constants.NGHTTP2_CANCEL;this.trace("close http2 stream with code "+Z),this.http2Stream.close(Z)}}cancelWithStatus(J,Z){this.trace("cancelWithStatus code: "+J+' details: "'+Z+'"'),this.endCall({code:J,details:Z,metadata:new zK.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==c4.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let J=this.unpushedReadMessages.shift();this.push(J);return}this.http2Stream.resume()}sendMessageWithContext(J,Z){this.trace("write() called with message of length "+Z.length);let X=(Y)=>{process.nextTick(()=>{var $;let z=c4.Status.UNAVAILABLE;if((Y===null||Y===void 0?void 0:Y.code)==="ERR_STREAM_WRITE_AFTER_END")z=c4.Status.INTERNAL;if(Y)this.cancelWithStatus(z,`Write error: ${Y.message}`);($=J.callback)===null||$===void 0||$.call(J)})};this.trace("sending data chunk of length "+Z.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(Z,X)}catch(Y){this.endCall({code:c4.Status.UNAVAILABLE,details:`Write failed with error ${Y.message}`,metadata:new zK.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}Mk6.Http2SubchannelCall=Ak6});var MF1=B((Lk6)=>{Object.defineProperty(Lk6,"__esModule",{value:!0});Lk6.getNextCallNumber=lA5;var cA5=0;function lA5(){return cA5++}});var Sk6=B((Rk6)=>{Object.defineProperty(Rk6,"__esModule",{value:!0});Rk6.Http2SubchannelConnector=void 0;var LF1=p("http2"),Dl=XD(),jR=p6(),nA5=IF1(),SA=$8(),iA5=BW(),Vl=CX(),NF1=e7(),oA5=p("net"),sA5=Pk6(),aA5=MF1(),PF1="transport",rA5="transport_flowctrl",tA5=lB1().version,{HTTP2_HEADER_AUTHORITY:eA5,HTTP2_HEADER_CONTENT_TYPE:JM5,HTTP2_HEADER_METHOD:ZM5,HTTP2_HEADER_PATH:XM5,HTTP2_HEADER_TE:YM5,HTTP2_HEADER_USER_AGENT:$M5}=LF1.constants,zM5=20000,WM5=Buffer.from("too_many_pings","ascii");class Ck6{constructor(J,Z,X,Y){if(this.session=J,this.options=X,this.remoteName=Y,this.keepaliveTimer=null,this.pendingSendKeepalivePing=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,Vl.subchannelAddressToString)(Z),X["grpc.enable_channelz"]===0)this.channelzEnabled=!1,this.streamTracker=new Dl.ChannelzCallTrackerStub;else this.streamTracker=new Dl.ChannelzCallTracker;if(this.channelzRef=(0,Dl.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[X["grpc.primary_user_agent"],`grpc-node-js/${tA5}`,X["grpc.secondary_user_agent"]].filter(($)=>$).join(" "),"grpc.keepalive_time_ms"in X)this.keepaliveTimeMs=X["grpc.keepalive_time_ms"];else this.keepaliveTimeMs=-1;if("grpc.keepalive_timeout_ms"in X)this.keepaliveTimeoutMs=X["grpc.keepalive_timeout_ms"];else this.keepaliveTimeoutMs=zM5;if("grpc.keepalive_permit_without_calls"in X)this.keepaliveWithoutCalls=X["grpc.keepalive_permit_without_calls"]===1;else this.keepaliveWithoutCalls=!1;if(J.once("close",()=>{this.trace("session closed"),this.handleDisconnect()}),J.once("goaway",($,z,W)=>{let Q=!1;if($===LF1.constants.NGHTTP2_ENHANCE_YOUR_CALM&&W&&W.equals(WM5))Q=!0;this.trace("connection closed by GOAWAY with code "+$+" and data "+(W===null||W===void 0?void 0:W.toString())),this.reportDisconnectToOwner(Q)}),J.once("error",($)=>{this.trace("connection closed with error "+$.message),this.handleDisconnect()}),J.socket.once("close",($)=>{this.trace("connection closed. hadError="+$),this.handleDisconnect()}),SA.isTracerEnabled(PF1))J.on("remoteSettings",($)=>{this.trace("new settings received"+(this.session!==J?" on the old connection":"")+": "+JSON.stringify($))}),J.on("localSettings",($)=>{this.trace("local settings acknowledged by remote"+(this.session!==J?" on the old connection":"")+": "+JSON.stringify($))});if(this.keepaliveWithoutCalls)this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var J,Z,X;let Y=this.session.socket,$=Y.remoteAddress?(0,Vl.stringToSubchannelAddress)(Y.remoteAddress,Y.remotePort):null,z=Y.localAddress?(0,Vl.stringToSubchannelAddress)(Y.localAddress,Y.localPort):null,W;if(this.session.encrypted){let G=Y,K=G.getCipher(),q=G.getCertificate(),H=G.getPeerCertificate();W={cipherSuiteStandardName:(J=K.standardName)!==null&&J!==void 0?J:null,cipherSuiteOtherName:K.standardName?null:K.name,localCertificate:q&&"raw"in q?q.raw:null,remoteCertificate:H&&"raw"in H?H.raw:null}}else W=null;return{remoteAddress:$,localAddress:z,security:W,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(Z=this.session.state.localWindowSize)!==null&&Z!==void 0?Z:null,remoteFlowControlWindow:(X=this.session.state.remoteWindowSize)!==null&&X!==void 0?X:null}}trace(J){SA.trace(jR.LogVerbosity.DEBUG,PF1,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+J)}keepaliveTrace(J){SA.trace(jR.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+J)}flowControlTrace(J){SA.trace(jR.LogVerbosity.DEBUG,rA5,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+J)}internalsTrace(J){SA.trace(jR.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+J)}reportDisconnectToOwner(J){if(this.disconnectHandled)return;this.disconnectHandled=!0,this.disconnectListeners.forEach((Z)=>Z(J))}handleDisconnect(){this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(!1);for(let J of this.activeCalls)J.onDisconnect();setImmediate(()=>{this.session.destroy()})}addDisconnectListener(J){this.disconnectListeners.push(J)}canSendPing(){return!this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var J,Z;if(!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}if(this.keepaliveTimer){console.error("keepaliveTimeout is not null");return}if(this.channelzEnabled)this.keepalivesSent+=1;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(Z=(J=this.keepaliveTimer).unref)===null||Z===void 0||Z.call(J);let X="";try{if(!this.session.ping(($,z,W)=>{if(this.clearKeepaliveTimeout(),$)this.keepaliveTrace("Ping failed with error "+$.message),this.handleDisconnect();else this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer()}))X="Ping returned false"}catch(Y){X=(Y instanceof Error?Y.message:"")||"Unknown error"}if(X)this.keepaliveTrace("Ping send failed: "+X),this.handleDisconnect()}maybeStartKeepalivePingTimer(){var J,Z;if(!this.canSendPing())return;if(this.pendingSendKeepalivePing)this.pendingSendKeepalivePing=!1,this.maybeSendPing();else if(!this.keepaliveTimer)this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.maybeSendPing()},this.keepaliveTimeMs),(Z=(J=this.keepaliveTimer).unref)===null||Z===void 0||Z.call(J)}clearKeepaliveTimeout(){if(this.keepaliveTimer)clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null}removeActiveCall(J){if(this.activeCalls.delete(J),this.activeCalls.size===0)this.session.unref()}addActiveCall(J){if(this.activeCalls.add(J),this.activeCalls.size===1){if(this.session.ref(),!this.keepaliveWithoutCalls)this.maybeStartKeepalivePingTimer()}}createCall(J,Z,X,Y,$){let z=J.toHttp2Headers();z[eA5]=Z,z[$M5]=this.userAgent,z[JM5]="application/grpc",z[ZM5]="POST",z[XM5]=X,z[YM5]="trailers";let W;try{W=this.session.request(z)}catch(K){throw this.handleDisconnect(),K}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let Q,G;if(this.channelzEnabled)this.streamTracker.addCallStarted(),Q={addMessageSent:()=>{var K;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(K=$.addMessageSent)===null||K===void 0||K.call($)},addMessageReceived:()=>{var K;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(K=$.addMessageReceived)===null||K===void 0||K.call($)},onCallEnd:(K)=>{var q;(q=$.onCallEnd)===null||q===void 0||q.call($,K),this.removeActiveCall(G)},onStreamEnd:(K)=>{var q;if(K)this.streamTracker.addCallSucceeded();else this.streamTracker.addCallFailed();(q=$.onStreamEnd)===null||q===void 0||q.call($,K)}};else Q={addMessageSent:()=>{var K;(K=$.addMessageSent)===null||K===void 0||K.call($)},addMessageReceived:()=>{var K;(K=$.addMessageReceived)===null||K===void 0||K.call($)},onCallEnd:(K)=>{var q;(q=$.onCallEnd)===null||q===void 0||q.call($,K),this.removeActiveCall(G)},onStreamEnd:(K)=>{var q;(q=$.onStreamEnd)===null||q===void 0||q.call($,K)}};return G=new sA5.Http2SubchannelCall(W,Q,Y,this,(0,aA5.getNextCallNumber)()),this.addActiveCall(G),G}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,Dl.unregisterChannelzRef)(this.channelzRef)}}class jk6{constructor(J){this.channelTarget=J,this.session=null,this.isShutdown=!1}trace(J){SA.trace(jR.LogVerbosity.DEBUG,PF1,(0,NF1.uriToString)(this.channelTarget)+" "+J)}createSession(J,Z,X){if(this.isShutdown)return Promise.reject();if(J.socket.closed)return Promise.reject("Connection closed before starting HTTP/2 handshake");return new Promise((Y,$)=>{let z=null,W=this.channelTarget;if("grpc.http_connect_target"in X){let V=(0,NF1.parseUri)(X["grpc.http_connect_target"]);if(V)W=V,z=(0,NF1.uriToString)(V)}let Q=J.secure?"https":"http",G=(0,iA5.getDefaultAuthority)(W),K=()=>{var V;(V=this.session)===null||V===void 0||V.destroy(),this.session=null,setImmediate(()=>{if(!D)D=!0,$(`${U.trim()} (${new Date().toISOString()})`)})},q=(V)=>{var w;if((w=this.session)===null||w===void 0||w.destroy(),U=V.message,this.trace("connection failed with error "+U),!D)D=!0,$(`${U} (${new Date().toISOString()})`)},H={createConnection:(V,w)=>{return J.socket}};if(X["grpc-node.flow_control_window"]!==void 0)H.settings={initialWindowSize:X["grpc-node.flow_control_window"]};let F=LF1.connect(`${Q}://${G}`,H);this.session=F;let U="Failed to connect",D=!1;F.unref(),F.once("remoteSettings",()=>{F.removeAllListeners(),J.socket.removeListener("close",K),J.socket.removeListener("error",q),Y(new Ck6(F,Z,X,z)),this.session=null}),F.once("close",K),F.once("error",q),J.socket.once("close",K),J.socket.once("error",q)})}tcpConnect(J,Z){return(0,nA5.getProxiedConnection)(J,Z).then((X)=>{if(X)return X;else return new Promise((Y,$)=>{let z=()=>{$(new Error("Socket closed"))},W=(G)=>{$(G)},Q=oA5.connect(J,()=>{Q.removeListener("close",z),Q.removeListener("error",W),Y(Q)});Q.once("close",z),Q.once("error",W)})})}async connect(J,Z,X){if(this.isShutdown)return Promise.reject();let Y=null,$=null,z=(0,Vl.subchannelAddressToString)(J);try{return this.trace(z+" Waiting for secureConnector to be ready"),await Z.waitForReady(),this.trace(z+" secureConnector is ready"),Y=await this.tcpConnect(J,X),Y.setNoDelay(),this.trace(z+" Established TCP connection"),$=await Z.connect(Y),this.trace(z+" Established secure connection"),this.createSession($,J,X)}catch(W){throw Y===null||Y===void 0||Y.destroy(),$===null||$===void 0||$.socket.destroy(),W}}shutdown(){var J;this.isShutdown=!0,(J=this.session)===null||J===void 0||J.close(),this.session=null}}Rk6.Http2SubchannelConnector=jk6});var kk6=B((Tk6)=>{Object.defineProperty(Tk6,"__esModule",{value:!0});Tk6.SubchannelPool=void 0;Tk6.getSubchannelPool=UM5;var QM5=rE6(),GM5=Yk6(),KM5=CX(),qM5=e7(),BM5=Sk6(),HM5=1e4;class Il{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let J=!0;for(let Z in this.pool){let Y=this.pool[Z].filter(($)=>!$.subchannel.unrefIfOneRef());if(Y.length>0)J=!1;this.pool[Z]=Y}if(J&&this.cleanupTimer!==null)clearInterval(this.cleanupTimer),this.cleanupTimer=null}ensureCleanupTask(){var J,Z;if(this.cleanupTimer===null)this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},HM5),(Z=(J=this.cleanupTimer).unref)===null||Z===void 0||Z.call(J)}getOrCreateSubchannel(J,Z,X,Y){this.ensureCleanupTask();let $=(0,qM5.uriToString)(J);if($ in this.pool){let W=this.pool[$];for(let Q of W)if((0,KM5.subchannelAddressEqual)(Z,Q.subchannelAddress)&&(0,QM5.channelOptionsEqual)(X,Q.channelArguments)&&Y._equals(Q.channelCredentials))return Q.subchannel}let z=new GM5.Subchannel(J,Z,X,Y,new BM5.Http2SubchannelConnector(J));if(!($ in this.pool))this.pool[$]=[];return this.pool[$].push({subchannelAddress:Z,channelArguments:X,channelCredentials:Y,subchannel:z}),z.ref(),z}}Tk6.SubchannelPool=Il;var FM5=new Il;function UM5(J){if(J)return FM5;else return new Il}});var RF1=B((bk6)=>{Object.defineProperty(bk6,"__esModule",{value:!0});bk6.FilterStackFactory=bk6.FilterStack=void 0;class CF1{constructor(J){this.filters=J}sendMetadata(J){let Z=J;for(let X=0;X<this.filters.length;X++)Z=this.filters[X].sendMetadata(Z);return Z}receiveMetadata(J){let Z=J;for(let X=this.filters.length-1;X>=0;X--)Z=this.filters[X].receiveMetadata(Z);return Z}sendMessage(J){let Z=J;for(let X=0;X<this.filters.length;X++)Z=this.filters[X].sendMessage(Z);return Z}receiveMessage(J){let Z=J;for(let X=this.filters.length-1;X>=0;X--)Z=this.filters[X].receiveMessage(Z);return Z}receiveTrailers(J){let Z=J;for(let X=this.filters.length-1;X>=0;X--)Z=this.filters[X].receiveTrailers(Z);return Z}push(J){this.filters.unshift(...J)}getFilters(){return this.filters}}bk6.FilterStack=CF1;class jF1{constructor(J){this.factories=J}push(J){this.factories.unshift(...J)}clone(){return new jF1([...this.factories])}createFilter(){return new CF1(this.factories.map((J)=>J.createFilter()))}}bk6.FilterStackFactory=jF1});var EF1=B((yk6)=>{Object.defineProperty(yk6,"__esModule",{value:!0});yk6.CompressionAlgorithms=void 0;var _k6;(function(J){J[J.identity=0]="identity",J[J.deflate=1]="deflate",J[J.gzip=2]="gzip"})(_k6||(yk6.CompressionAlgorithms=_k6={}))});var SF1=B((gk6)=>{Object.defineProperty(gk6,"__esModule",{value:!0});gk6.BaseFilter=void 0;class xk6{async sendMetadata(J){return J}receiveMetadata(J){return J}async sendMessage(J){return J}async receiveMessage(J){return J}receiveTrailers(J){return J}}gk6.BaseFilter=xk6});var sk6=B((ik6)=>{Object.defineProperty(ik6,"__esModule",{value:!0});ik6.CompressionFilterFactory=ik6.CompressionFilter=void 0;var wl=p("zlib"),mk6=EF1(),TA=p6(),VM5=SF1(),IM5=$8(),wM5=(J)=>{return typeof J==="number"&&typeof mk6.CompressionAlgorithms[J]==="string"};class RR{async writeMessage(J,Z){let X=J;if(Z)X=await this.compressMessage(X);let Y=Buffer.allocUnsafe(X.length+5);return Y.writeUInt8(Z?1:0,0),Y.writeUInt32BE(X.length,1),X.copy(Y,5),Y}async readMessage(J){let Z=J.readUInt8(0)===1,X=J.slice(5);if(Z)X=await this.decompressMessage(X);return X}}class fA extends RR{async compressMessage(J){return J}async writeMessage(J,Z){let X=Buffer.allocUnsafe(J.length+5);return X.writeUInt8(0,0),X.writeUInt32BE(J.length,1),J.copy(X,5),X}decompressMessage(J){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}}class ck6 extends RR{constructor(J){super();this.maxRecvMessageLength=J}compressMessage(J){return new Promise((Z,X)=>{wl.deflate(J,(Y,$)=>{if(Y)X(Y);else Z($)})})}decompressMessage(J){return new Promise((Z,X)=>{let Y=0,$=[],z=wl.createInflate();z.on("data",(W)=>{if($.push(W),Y+=W.byteLength,this.maxRecvMessageLength!==-1&&Y>this.maxRecvMessageLength)z.destroy(),X({code:TA.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`})}),z.on("end",()=>{Z(Buffer.concat($))}),z.write(J),z.end()})}}class lk6 extends RR{constructor(J){super();this.maxRecvMessageLength=J}compressMessage(J){return new Promise((Z,X)=>{wl.gzip(J,(Y,$)=>{if(Y)X(Y);else Z($)})})}decompressMessage(J){return new Promise((Z,X)=>{let Y=0,$=[],z=wl.createGunzip();z.on("data",(W)=>{if($.push(W),Y+=W.byteLength,this.maxRecvMessageLength!==-1&&Y>this.maxRecvMessageLength)z.destroy(),X({code:TA.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`})}),z.on("end",()=>{Z(Buffer.concat($))}),z.write(J),z.end()})}}class pk6 extends RR{constructor(J){super();this.compressionName=J}compressMessage(J){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(J){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}}function uk6(J,Z){switch(J){case"identity":return new fA;case"deflate":return new ck6(Z);case"gzip":return new lk6(Z);default:return new pk6(J)}}class TF1 extends VM5.BaseFilter{constructor(J,Z){var X,Y,$;super();this.sharedFilterConfig=Z,this.sendCompression=new fA,this.receiveCompression=new fA,this.currentCompressionAlgorithm="identity";let z=J["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(X=J["grpc.max_receive_message_length"])!==null&&X!==void 0?X:TA.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=(Y=J["grpc.max_send_message_length"])!==null&&Y!==void 0?Y:TA.DEFAULT_MAX_SEND_MESSAGE_LENGTH,z!==void 0)if(wM5(z)){let W=mk6.CompressionAlgorithms[z],Q=($=Z.serverSupportedEncodingHeader)===null||$===void 0?void 0:$.split(",");if(!Q||Q.includes(W))this.currentCompressionAlgorithm=W,this.sendCompression=uk6(this.currentCompressionAlgorithm,-1)}else IM5.log(TA.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${z}`)}async sendMetadata(J){let Z=await J;if(Z.set("grpc-accept-encoding","identity,deflate,gzip"),Z.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity")Z.remove("grpc-encoding");else Z.set("grpc-encoding",this.currentCompressionAlgorithm);return Z}receiveMetadata(J){let Z=J.get("grpc-encoding");if(Z.length>0){let Y=Z[0];if(typeof Y==="string")this.receiveCompression=uk6(Y,this.maxReceiveMessageLength)}J.remove("grpc-encoding");let X=J.get("grpc-accept-encoding")[0];if(X){if(this.sharedFilterConfig.serverSupportedEncodingHeader=X,!X.split(",").includes(this.currentCompressionAlgorithm))this.sendCompression=new fA,this.currentCompressionAlgorithm="identity"}return J.remove("grpc-accept-encoding"),J}async sendMessage(J){var Z;let X=await J;if(this.maxSendMessageLength!==-1&&X.message.length>this.maxSendMessageLength)throw{code:TA.Status.RESOURCE_EXHAUSTED,details:`Attempted to send message with a size larger than ${this.maxSendMessageLength}`};let Y;if(this.sendCompression instanceof fA)Y=!1;else Y=(((Z=X.flags)!==null&&Z!==void 0?Z:0)&2)===0;return{message:await this.sendCompression.writeMessage(X.message,Y),flags:X.flags}}async receiveMessage(J){return this.receiveCompression.readMessage(await J)}}ik6.CompressionFilter=TF1;class nk6{constructor(J,Z){this.options=Z,this.sharedFilterConfig={}}createFilter(){return new TF1(this.options,this.sharedFilterConfig)}}ik6.CompressionFilterFactory=nk6});var ER=B((ak6)=>{Object.defineProperty(ak6,"__esModule",{value:!0});ak6.minDeadline=MM5;ak6.getDeadlineTimeoutString=PM5;ak6.getRelativeTimeout=CM5;ak6.deadlineToString=jM5;ak6.formatDateDifference=RM5;function MM5(...J){let Z=1/0;for(let X of J){let Y=X instanceof Date?X.getTime():X;if(Y<Z)Z=Y}return Z}var NM5=[["m",1],["S",1000],["M",60000],["H",3600000]];function PM5(J){let Z=new Date().getTime();if(J instanceof Date)J=J.getTime();let X=Math.max(J-Z,0);for(let[Y,$]of NM5){let z=X/$;if(z<1e8)return String(Math.ceil(z))+Y}throw new Error("Deadline is too far in the future")}var LM5=2147483647;function CM5(J){let Z=J instanceof Date?J.getTime():J,X=new Date().getTime(),Y=Z-X;if(Y<0)return 0;else if(Y>LM5)return 1/0;else return Y}function jM5(J){if(J instanceof Date)return J.toISOString();else{let Z=new Date(J);if(Number.isNaN(Z.getTime()))return""+J;else return Z.toISOString()}}function RM5(J,Z){return((Z.getTime()-J.getTime())/1000).toFixed(3)+"s"}});var Al=B((rk6)=>{Object.defineProperty(rk6,"__esModule",{value:!0});rk6.restrictControlPlaneStatusCode=hM5;var PW=p6(),bM5=[PW.Status.OK,PW.Status.INVALID_ARGUMENT,PW.Status.NOT_FOUND,PW.Status.ALREADY_EXISTS,PW.Status.FAILED_PRECONDITION,PW.Status.ABORTED,PW.Status.OUT_OF_RANGE,PW.Status.DATA_LOSS];function hM5(J,Z){if(bM5.includes(J))return{code:PW.Status.INTERNAL,details:`Invalid status from control plane: ${J} ${PW.Status[J]} ${Z}`};else return{code:J,details:Z}}});var Yb6=B((Zb6)=>{Object.defineProperty(Zb6,"__esModule",{value:!0});Zb6.LoadBalancingCall=void 0;var tk6=LX(),Ml=p6(),ek6=ER(),Nl=i9(),SR=kB(),yM5=e7(),vM5=$8(),fF1=Al(),xM5=p("http2"),gM5="load_balancing_call";class Jb6{constructor(J,Z,X,Y,$,z,W){var Q,G;this.channel=J,this.callConfig=Z,this.methodName=X,this.host=Y,this.credentials=$,this.deadline=z,this.callNumber=W,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;let K=this.methodName.split("/"),q="";if(K.length>=2)q=K[1];let H=(G=(Q=(0,yM5.splitHostPort)(this.host))===null||Q===void 0?void 0:Q.host)!==null&&G!==void 0?G:"localhost";this.serviceUrl=`https://${H}/${q}`,this.startTime=new Date}getDeadlineInfo(){var J,Z;let X=[];if(this.childStartTime){if(this.childStartTime>this.startTime){if((J=this.metadata)===null||J===void 0?void 0:J.getOptions().waitForReady)X.push("wait_for_ready");X.push(`LB pick: ${(0,ek6.formatDateDifference)(this.startTime,this.childStartTime)}`)}return X.push(...this.child.getDeadlineInfo()),X}else{if((Z=this.metadata)===null||Z===void 0?void 0:Z.getOptions().waitForReady)X.push("wait_for_ready");X.push("Waiting for LB pick")}return X}trace(J){vM5.trace(Ml.LogVerbosity.DEBUG,gM5,"["+this.callNumber+"] "+J)}outputStatus(J,Z){var X,Y;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+J.code+' details="'+J.details+'" start time='+this.startTime.toISOString());let $=Object.assign(Object.assign({},J),{progress:Z});(X=this.listener)===null||X===void 0||X.onReceiveStatus($),(Y=this.onCallEnded)===null||Y===void 0||Y.call(this,$.code)}}doPick(){var J,Z;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let X=this.metadata.clone(),Y=this.channel.doPick(X,this.callConfig.pickInformation),$=Y.subchannel?"("+Y.subchannel.getChannelzRef().id+") "+Y.subchannel.getAddress():""+Y.subchannel;switch(this.trace("Pick result: "+SR.PickResultType[Y.pickResultType]+" subchannel: "+$+" status: "+((J=Y.status)===null||J===void 0?void 0:J.code)+" "+((Z=Y.status)===null||Z===void 0?void 0:Z.details)),Y.pickResultType){case SR.PickResultType.COMPLETE:this.credentials.compose(Y.subchannel.getCallCredentials()).generateMetadata({method_name:this.methodName,service_url:this.serviceUrl}).then((G)=>{var K;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}if(X.merge(G),X.get("authorization").length>1)this.outputStatus({code:Ml.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new Nl.Metadata},"PROCESSED");if(Y.subchannel.getConnectivityState()!==tk6.ConnectivityState.READY){this.trace("Picked subchannel "+$+" has state "+tk6.ConnectivityState[Y.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}if(this.deadline!==1/0)X.set("grpc-timeout",(0,ek6.getDeadlineTimeoutString)(this.deadline));try{this.child=Y.subchannel.getRealSubchannel().createCall(X,this.host,this.methodName,{onReceiveMetadata:(q)=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(q)},onReceiveMessage:(q)=>{this.trace("Received message"),this.listener.onReceiveMessage(q)},onReceiveStatus:(q)=>{if(this.trace("Received status"),q.rstCode===xM5.constants.NGHTTP2_REFUSED_STREAM)this.outputStatus(q,"REFUSED");else this.outputStatus(q,"PROCESSED")}}),this.childStartTime=new Date}catch(q){this.trace("Failed to start call on picked subchannel "+$+" with error "+q.message),this.outputStatus({code:Ml.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+q.message,metadata:new Nl.Metadata},"NOT_STARTED");return}if((K=Y.onCallStarted)===null||K===void 0||K.call(Y),this.onCallEnded=Y.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending)this.child.startRead();if(this.pendingMessage)this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message);if(this.pendingHalfClose)this.child.halfClose()},(G)=>{let{code:K,details:q}=(0,fF1.restrictControlPlaneStatusCode)(typeof G.code==="number"?G.code:Ml.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${G.message}`);this.outputStatus({code:K,details:q,metadata:new Nl.Metadata},"PROCESSED")});break;case SR.PickResultType.DROP:let{code:W,details:Q}=(0,fF1.restrictControlPlaneStatusCode)(Y.status.code,Y.status.details);setImmediate(()=>{this.outputStatus({code:W,details:Q,metadata:Y.status.metadata},"DROP")});break;case SR.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:G,details:K}=(0,fF1.restrictControlPlaneStatusCode)(Y.status.code,Y.status.details);setImmediate(()=>{this.outputStatus({code:G,details:K,metadata:Y.status.metadata},"PROCESSED")})}break;case SR.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(J,Z){var X;this.trace("cancelWithStatus code: "+J+' details: "'+Z+'"'),(X=this.child)===null||X===void 0||X.cancelWithStatus(J,Z),this.outputStatus({code:J,details:Z,metadata:new Nl.Metadata},"PROCESSED")}getPeer(){var J,Z;return(Z=(J=this.child)===null||J===void 0?void 0:J.getPeer())!==null&&Z!==void 0?Z:this.channel.getTarget()}start(J,Z){this.trace("start called"),this.listener=Z,this.metadata=J,this.doPick()}sendMessageWithContext(J,Z){if(this.trace("write() called with message of length "+Z.length),this.child)this.child.sendMessageWithContext(J,Z);else this.pendingMessage={context:J,message:Z}}startRead(){if(this.trace("startRead called"),this.child)this.child.startRead();else this.readPending=!0}halfClose(){if(this.trace("halfClose called"),this.child)this.child.halfClose();else this.pendingHalfClose=!0}setCredentials(J){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}}Zb6.LoadBalancingCall=Jb6});var Gb6=B((Wb6)=>{Object.defineProperty(Wb6,"__esModule",{value:!0});Wb6.ResolvingCall=void 0;var dM5=Ec(),YD=p6(),$D=ER(),$b6=i9(),uM5=$8(),mM5=Al(),cM5="resolving_call";class zb6{constructor(J,Z,X,Y,$){if(this.channel=J,this.method=Z,this.filterStackFactory=Y,this.callNumber=$,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.credentials=dM5.CallCredentials.createEmpty(),this.deadline=X.deadline,this.host=X.host,X.parentCall){if(X.flags&YD.Propagate.CANCELLATION)X.parentCall.on("cancelled",()=>{this.cancelWithStatus(YD.Status.CANCELLED,"Cancelled by parent call")});if(X.flags&YD.Propagate.DEADLINE)this.trace("Propagating deadline from parent: "+X.parentCall.getDeadline()),this.deadline=(0,$D.minDeadline)(this.deadline,X.parentCall.getDeadline())}this.trace("Created"),this.runDeadlineTimer()}trace(J){uM5.trace(YD.LogVerbosity.DEBUG,cM5,"["+this.callNumber+"] "+J)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,$D.deadlineToString)(this.deadline));let J=(0,$D.getRelativeTimeout)(this.deadline);if(J!==1/0){this.trace("Deadline will be reached in "+J+"ms");let Z=()=>{if(!this.deadlineStartTime){this.cancelWithStatus(YD.Status.DEADLINE_EXCEEDED,"Deadline exceeded");return}let X=[],Y=new Date;if(X.push(`Deadline exceeded after ${(0,$D.formatDateDifference)(this.deadlineStartTime,Y)}`),this.configReceivedTime){if(this.configReceivedTime>this.deadlineStartTime)X.push(`name resolution: ${(0,$D.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`);if(this.childStartTime){if(this.childStartTime>this.configReceivedTime)X.push(`metadata filters: ${(0,$D.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`)}else X.push("waiting for metadata filters")}else X.push("waiting for name resolution");if(this.child)X.push(...this.child.getDeadlineInfo());this.cancelWithStatus(YD.Status.DEADLINE_EXCEEDED,X.join(","))};if(J<=0)process.nextTick(Z);else this.deadlineTimer=setTimeout(Z,J)}}outputStatus(J){if(!this.ended){if(this.ended=!0,!this.filterStack)this.filterStack=this.filterStackFactory.createFilter();clearTimeout(this.deadlineTimer);let Z=this.filterStack.receiveTrailers(J);this.trace("ended with status: code="+Z.code+' details="'+Z.details+'"'),this.statusWatchers.forEach((X)=>X(Z)),process.nextTick(()=>{var X;(X=this.listener)===null||X===void 0||X.onReceiveStatus(Z)})}}sendMessageOnChild(J,Z){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let X=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:Z,flags:J.flags})).then((Y)=>{if(this.writeFilterPending=!1,X.sendMessageWithContext(J,Y.message),this.pendingHalfClose)X.halfClose()},(Y)=>{this.cancelWithStatus(Y.code,Y.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let J=this.channel.getConfig(this.method,this.metadata);if(J.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(J.type==="ERROR"){if(this.metadata.getOptions().waitForReady)this.channel.queueCallForConfig(this);else this.outputStatus(J.error);return}this.configReceivedTime=new Date;let Z=J.config;if(Z.status!==YD.Status.OK){let{code:X,details:Y}=(0,mM5.restrictControlPlaneStatusCode)(Z.status,"Failed to route call to method "+this.method);this.outputStatus({code:X,details:Y,metadata:new $b6.Metadata});return}if(Z.methodConfig.timeout){let X=new Date;X.setSeconds(X.getSeconds()+Z.methodConfig.timeout.seconds),X.setMilliseconds(X.getMilliseconds()+Z.methodConfig.timeout.nanos/1e6),this.deadline=(0,$D.minDeadline)(this.deadline,X),this.runDeadlineTimer()}this.filterStackFactory.push(Z.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then((X)=>{if(this.child=this.channel.createRetryingCall(Z,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(X,{onReceiveMetadata:(Y)=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(Y))},onReceiveMessage:(Y)=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(Y).then(($)=>{if(this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage($),this.pendingChildStatus)this.outputStatus(this.pendingChildStatus)},($)=>{this.cancelWithStatus($.code,$.details)})},onReceiveStatus:(Y)=>{if(this.trace("Received status"),this.readFilterPending)this.pendingChildStatus=Y;else this.outputStatus(Y)}}),this.readPending)this.child.startRead();if(this.pendingMessage)this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message);else if(this.pendingHalfClose)this.child.halfClose()},(X)=>{this.outputStatus(X)})}reportResolverError(J){var Z;if((Z=this.metadata)===null||Z===void 0?void 0:Z.getOptions().waitForReady)this.channel.queueCallForConfig(this);else this.outputStatus(J)}cancelWithStatus(J,Z){var X;this.trace("cancelWithStatus code: "+J+' details: "'+Z+'"'),(X=this.child)===null||X===void 0||X.cancelWithStatus(J,Z),this.outputStatus({code:J,details:Z,metadata:new $b6.Metadata})}getPeer(){var J,Z;return(Z=(J=this.child)===null||J===void 0?void 0:J.getPeer())!==null&&Z!==void 0?Z:this.channel.getTarget()}start(J,Z){this.trace("start called"),this.metadata=J.clone(),this.listener=Z,this.getConfig()}sendMessageWithContext(J,Z){if(this.trace("write() called with message of length "+Z.length),this.child)this.sendMessageOnChild(J,Z);else this.pendingMessage={context:J,message:Z}}startRead(){if(this.trace("startRead called"),this.child)this.child.startRead();else this.readPending=!0}halfClose(){if(this.trace("halfClose called"),this.child&&!this.writeFilterPending)this.child.halfClose();else this.pendingHalfClose=!0}setCredentials(J){this.credentials=J}addStatusWatcher(J){this.statusWatchers.push(J)}getCallNumber(){return this.callNumber}}Wb6.ResolvingCall=zb6});var Ub6=B((Hb6)=>{Object.defineProperty(Hb6,"__esModule",{value:!0});Hb6.RetryingCall=Hb6.MessageBufferTracker=Hb6.RetryThrottler=void 0;var Pl=p6(),lM5=ER(),pM5=i9(),nM5=$8(),iM5="retrying_call";class Kb6{constructor(J,Z,X){if(this.maxTokens=J,this.tokenRatio=Z,X)this.tokens=X.tokens*(J/X.maxTokens);else this.tokens=J}addCallSucceeded(){this.tokens=Math.min(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.max(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}Hb6.RetryThrottler=Kb6;class qb6{constructor(J,Z){this.totalLimit=J,this.limitPerCall=Z,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(J,Z){var X;let Y=(X=this.allocatedPerCall.get(Z))!==null&&X!==void 0?X:0;if(this.limitPerCall-Y<J||this.totalLimit-this.totalAllocated<J)return!1;return this.allocatedPerCall.set(Z,Y+J),this.totalAllocated+=J,!0}free(J,Z){var X;if(this.totalAllocated<J)throw new Error(`Invalid buffer allocation state: call ${Z} freed ${J} > total allocated ${this.totalAllocated}`);this.totalAllocated-=J;let Y=(X=this.allocatedPerCall.get(Z))!==null&&X!==void 0?X:0;if(Y<J)throw new Error(`Invalid buffer allocation state: call ${Z} freed ${J} > allocated for call ${Y}`);this.allocatedPerCall.set(Z,Y-J)}freeAll(J){var Z;let X=(Z=this.allocatedPerCall.get(J))!==null&&Z!==void 0?Z:0;if(this.totalAllocated<X)throw new Error(`Invalid buffer allocation state: call ${J} allocated ${X} > total allocated ${this.totalAllocated}`);this.totalAllocated-=X,this.allocatedPerCall.delete(J)}}Hb6.MessageBufferTracker=qb6;var kF1="grpc-previous-rpc-attempts",oM5=5;class Bb6{constructor(J,Z,X,Y,$,z,W,Q,G){var K;this.channel=J,this.callConfig=Z,this.methodName=X,this.host=Y,this.credentials=$,this.deadline=z,this.callNumber=W,this.bufferTracker=Q,this.retryThrottler=G,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0;let q=(K=J.getOptions()["grpc-node.retry_max_attempts_limit"])!==null&&K!==void 0?K:oM5;if(J.getOptions()["grpc.enable_retries"]===0)this.state="NO_RETRY",this.maxAttempts=1;else if(Z.methodConfig.retryPolicy){this.state="RETRY";let H=Z.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(H.initialBackoff.substring(0,H.initialBackoff.length-1)),this.maxAttempts=Math.min(H.maxAttempts,q)}else if(Z.methodConfig.hedgingPolicy)this.state="HEDGING",this.maxAttempts=Math.min(Z.methodConfig.hedgingPolicy.maxAttempts,q);else this.state="TRANSPARENT_ONLY",this.maxAttempts=1;this.startTime=new Date}getDeadlineInfo(){if(this.underlyingCalls.length===0)return[];let J=[],Z=this.underlyingCalls[this.underlyingCalls.length-1];if(this.underlyingCalls.length>1)J.push(`previous attempts: ${this.underlyingCalls.length-1}`);if(Z.startTime>this.startTime)J.push(`time to current attempt start: ${(0,lM5.formatDateDifference)(this.startTime,Z.startTime)}`);return J.push(...Z.call.getDeadlineInfo()),J}getCallNumber(){return this.callNumber}trace(J){nM5.trace(Pl.LogVerbosity.DEBUG,iM5,"["+this.callNumber+"] "+J)}reportStatus(J){this.trace("ended with status: code="+J.code+' details="'+J.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var Z;(Z=this.listener)===null||Z===void 0||Z.onReceiveStatus({code:J.code,details:J.details,metadata:J.metadata})})}cancelWithStatus(J,Z){this.trace("cancelWithStatus code: "+J+' details: "'+Z+'"'),this.reportStatus({code:J,details:Z,metadata:new pM5.Metadata});for(let{call:X}of this.underlyingCalls)X.cancelWithStatus(J,Z)}getPeer(){if(this.committedCallIndex!==null)return this.underlyingCalls[this.committedCallIndex].call.getPeer();else return"unknown"}getBufferEntry(J){var Z;return(Z=this.writeBuffer[J-this.writeBufferOffset])!==null&&Z!==void 0?Z:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let J;if(this.underlyingCalls[this.committedCallIndex].state==="COMPLETED")J=this.getNextBufferIndex();else J=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let Z=this.writeBufferOffset;Z<J;Z++){let X=this.getBufferEntry(Z);if(X.allocated)this.bufferTracker.free(X.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(J-this.writeBufferOffset),this.writeBufferOffset=J}commitCall(J){var Z,X;if(this.state==="COMMITTED")return;this.trace("Committing call ["+this.underlyingCalls[J].call.getCallNumber()+"] at index "+J),this.state="COMMITTED",(X=(Z=this.callConfig).onCommitted)===null||X===void 0||X.call(Z),this.committedCallIndex=J;for(let Y=0;Y<this.underlyingCalls.length;Y++){if(Y===J)continue;if(this.underlyingCalls[Y].state==="COMPLETED")continue;this.underlyingCalls[Y].state="COMPLETED",this.underlyingCalls[Y].call.cancelWithStatus(Pl.Status.CANCELLED,"Discarded in favor of other hedged attempt")}this.clearSentMessages()}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let J=-1,Z=-1;for(let[X,Y]of this.underlyingCalls.entries())if(Y.state==="ACTIVE"&&Y.nextMessageToSend>J)J=Y.nextMessageToSend,Z=X;if(Z===-1)this.state="TRANSPARENT_ONLY";else this.commitCall(Z)}isStatusCodeInList(J,Z){return J.some((X)=>{var Y;return X===Z||X.toString().toLowerCase()===((Y=Pl.Status[Z])===null||Y===void 0?void 0:Y.toLowerCase())})}getNextRetryBackoffMs(){var J;let Z=(J=this.callConfig)===null||J===void 0?void 0:J.methodConfig.retryPolicy;if(!Z)return 0;let X=Math.random()*this.nextRetryBackoffSec*1000,Y=Number(Z.maxBackoff.substring(0,Z.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*Z.backoffMultiplier,Y),X}maybeRetryCall(J,Z){if(this.state!=="RETRY"){Z(!1);return}if(this.attempts>=this.maxAttempts){Z(!1);return}let X;if(J===null)X=this.getNextRetryBackoffMs();else if(J<0){this.state="TRANSPARENT_ONLY",Z(!1);return}else X=J,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var Y,$;if(this.state!=="RETRY"){Z(!1);return}if(($=(Y=this.retryThrottler)===null||Y===void 0?void 0:Y.canRetryCall())!==null&&$!==void 0?$:!0)Z(!0),this.attempts+=1,this.startNewAttempt();else this.trace("Retry attempt denied by throttling policy"),Z(!1)},X)}countActiveCalls(){let J=0;for(let Z of this.underlyingCalls)if((Z===null||Z===void 0?void 0:Z.state)==="ACTIVE")J+=1;return J}handleProcessedStatus(J,Z,X){var Y,$,z;switch(this.state){case"COMMITTED":case"NO_RETRY":case"TRANSPARENT_ONLY":this.commitCall(Z),this.reportStatus(J);break;case"HEDGING":if(this.isStatusCodeInList((Y=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&Y!==void 0?Y:[],J.code)){($=this.retryThrottler)===null||$===void 0||$.addCallFailed();let W;if(X===null)W=0;else if(X<0){this.state="TRANSPARENT_ONLY",this.commitCall(Z),this.reportStatus(J);return}else W=X;setTimeout(()=>{if(this.maybeStartHedgingAttempt(),this.countActiveCalls()===0)this.commitCall(Z),this.reportStatus(J)},W)}else this.commitCall(Z),this.reportStatus(J);break;case"RETRY":if(this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,J.code))(z=this.retryThrottler)===null||z===void 0||z.addCallFailed(),this.maybeRetryCall(X,(W)=>{if(!W)this.commitCall(Z),this.reportStatus(J)});else this.commitCall(Z),this.reportStatus(J);break}}getPushback(J){let Z=J.get("grpc-retry-pushback-ms");if(Z.length===0)return null;try{return parseInt(Z[0])}catch(X){return-1}}handleChildStatus(J,Z){var X;if(this.underlyingCalls[Z].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+J.progress+" from child ["+this.underlyingCalls[Z].call.getCallNumber()+"] in state "+this.underlyingCalls[Z].state),this.underlyingCalls[Z].state="COMPLETED",J.code===Pl.Status.OK){(X=this.retryThrottler)===null||X===void 0||X.addCallSucceeded(),this.commitCall(Z),this.reportStatus(J);return}if(this.state==="NO_RETRY"){this.commitCall(Z),this.reportStatus(J);return}if(this.state==="COMMITTED"){this.reportStatus(J);return}let Y=this.getPushback(J.metadata);switch(J.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":if(this.transparentRetryUsed)this.handleProcessedStatus(J,Z,Y);else this.transparentRetryUsed=!0,this.startNewAttempt();break;case"DROP":this.commitCall(Z),this.reportStatus(J);break;case"PROCESSED":this.handleProcessedStatus(J,Z,Y);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING")return;if(!this.callConfig.methodConfig.hedgingPolicy)return;if(this.attempts>=this.maxAttempts)return;this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}maybeStartHedgingTimer(){var J,Z,X;if(this.hedgingTimer)clearTimeout(this.hedgingTimer);if(this.state!=="HEDGING")return;if(!this.callConfig.methodConfig.hedgingPolicy)return;let Y=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=this.maxAttempts)return;let $=(J=Y.hedgingDelay)!==null&&J!==void 0?J:"0s",z=Number($.substring(0,$.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},z*1000),(X=(Z=this.hedgingTimer).unref)===null||X===void 0||X.call(Z)}startNewAttempt(){let J=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+J.getCallNumber()+"] for attempt "+this.attempts);let Z=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:J,nextMessageToSend:0,startTime:new Date});let X=this.attempts-1,Y=this.initialMetadata.clone();if(X>0)Y.set(kF1,`${X}`);let $=!1;if(J.start(Y,{onReceiveMetadata:(z)=>{if(this.trace("Received metadata from child ["+J.getCallNumber()+"]"),this.commitCall(Z),$=!0,X>0)z.set(kF1,`${X}`);if(this.underlyingCalls[Z].state==="ACTIVE")this.listener.onReceiveMetadata(z)},onReceiveMessage:(z)=>{if(this.trace("Received message from child ["+J.getCallNumber()+"]"),this.commitCall(Z),this.underlyingCalls[Z].state==="ACTIVE")this.listener.onReceiveMessage(z)},onReceiveStatus:(z)=>{if(this.trace("Received status from child ["+J.getCallNumber()+"]"),!$&&X>0)z.metadata.set(kF1,`${X}`);this.handleChildStatus(z,Z)}}),this.sendNextChildMessage(Z),this.readStarted)J.startRead()}start(J,Z){this.trace("start called"),this.listener=Z,this.initialMetadata=J,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(J){var Z,X;let Y=this.underlyingCalls[J],$=Y.nextMessageToSend;(X=(Z=this.getBufferEntry($)).callback)===null||X===void 0||X.call(Z),this.clearSentMessages(),Y.nextMessageToSend+=1,this.sendNextChildMessage(J)}sendNextChildMessage(J){let Z=this.underlyingCalls[J];if(Z.state==="COMPLETED")return;if(this.getBufferEntry(Z.nextMessageToSend)){let X=this.getBufferEntry(Z.nextMessageToSend);switch(X.entryType){case"MESSAGE":Z.call.sendMessageWithContext({callback:(Y)=>{this.handleChildWriteCompleted(J)}},X.message.message);break;case"HALF_CLOSE":Z.nextMessageToSend+=1,Z.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(J,Z){var X;this.trace("write() called with message of length "+Z.length);let Y={message:Z,flags:J.flags},$=this.getNextBufferIndex(),z={entryType:"MESSAGE",message:Y,allocated:this.bufferTracker.allocate(Z.length,this.callNumber)};if(this.writeBuffer.push(z),z.allocated){(X=J.callback)===null||X===void 0||X.call(J);for(let[W,Q]of this.underlyingCalls.entries())if(Q.state==="ACTIVE"&&Q.nextMessageToSend===$)Q.call.sendMessageWithContext({callback:(G)=>{this.handleChildWriteCompleted(W)}},Z)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let W=this.underlyingCalls[this.committedCallIndex];if(z.callback=J.callback,W.state==="ACTIVE"&&W.nextMessageToSend===$)W.call.sendMessageWithContext({callback:(Q)=>{this.handleChildWriteCompleted(this.committedCallIndex)}},Z)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let J of this.underlyingCalls)if((J===null||J===void 0?void 0:J.state)==="ACTIVE")J.call.startRead()}halfClose(){this.trace("halfClose called");let J=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let Z of this.underlyingCalls)if((Z===null||Z===void 0?void 0:Z.state)==="ACTIVE"&&Z.nextMessageToSend===J)Z.nextMessageToSend+=1,Z.call.halfClose()}setCredentials(J){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}Hb6.RetryingCall=Bb6});var Ll=B((Db6)=>{Object.defineProperty(Db6,"__esModule",{value:!0});Db6.BaseSubchannelWrapper=void 0;class Ob6{constructor(J){this.child=J,this.healthy=!0,this.healthListeners=new Set,J.addHealthStateWatcher((Z)=>{if(this.healthy)this.updateHealthListeners()})}updateHealthListeners(){for(let J of this.healthListeners)J(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(J){this.child.addConnectivityStateListener(J)}removeConnectivityStateListener(J){this.child.removeConnectivityStateListener(J)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(J){this.child.throttleKeepalive(J)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(J){this.healthListeners.add(J)}removeHealthStateWatcher(J){this.healthListeners.delete(J)}setHealthy(J){if(J!==this.healthy){if(this.healthy=J,this.child.isHealthy())this.updateHealthListeners()}}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(J){return this.getRealSubchannel()===J.getRealSubchannel()}getCallCredentials(){return this.child.getCallCredentials()}}Db6.BaseSubchannelWrapper=Ob6});var yF1=B((Pb6)=>{Object.defineProperty(Pb6,"__esModule",{value:!0});Pb6.InternalChannel=Pb6.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=void 0;var rM5=ej(),tM5=oE6(),eM5=kk6(),_F1=kB(),JN5=i9(),dB=p6(),ZN5=RF1(),XN5=sk6(),Ib6=BW(),Cl=$8(),YN5=IF1(),jl=e7(),EX=LX(),TR=XD(),$N5=Yb6(),zN5=ER(),WN5=Gb6(),bF1=MF1(),QN5=Al(),hF1=Ub6(),GN5=Ll(),KN5=2147483647,qN5=1000,BN5=1800000,Rl=new Map,HN5=16777216,FN5=1048576;class wb6 extends GN5.BaseSubchannelWrapper{constructor(J,Z){super(J);this.channel=Z,this.refCount=0,this.subchannelStateListener=(X,Y,$,z)=>{Z.throttleKeepalive(z)}}ref(){if(this.refCount===0)this.child.addConnectivityStateListener(this.subchannelStateListener),this.channel.addWrappedSubchannel(this);this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0)this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this)}}class Ab6{pick(J){return{pickResultType:_F1.PickResultType.DROP,status:{code:dB.Status.UNAVAILABLE,details:"Channel closed before call started",metadata:new JN5.Metadata},subchannel:null,onCallStarted:null,onCallEnded:null}}}Pb6.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX="grpc.internal.no_subchannel";class Mb6{constructor(J){this.target=J,this.trace=new TR.ChannelzTrace,this.callTracker=new TR.ChannelzCallTracker,this.childrenTracker=new TR.ChannelzChildrenTracker,this.state=EX.ConnectivityState.IDLE}getChannelzInfoCallback(){return()=>{return{target:this.target,state:this.state,trace:this.trace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}}}class Nb6{constructor(J,Z,X){var Y,$,z,W,Q,G;if(this.credentials=Z,this.options=X,this.connectivityState=EX.ConnectivityState.IDLE,this.currentPicker=new _F1.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.callRefTimer=null,this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),typeof J!=="string")throw new TypeError("Channel target must be a string");if(!(Z instanceof rM5.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(X){if(typeof X!=="object")throw new TypeError("Channel options must be an object")}this.channelzInfoTracker=new Mb6(J);let K=(0,jl.parseUri)(J);if(K===null)throw new Error(`Could not parse target name "${J}"`);let q=(0,Ib6.mapUriDefaultScheme)(K);if(q===null)throw new Error(`Could not find a default scheme for target name "${J}"`);if(this.options["grpc.enable_channelz"]===0)this.channelzEnabled=!1;if(this.channelzRef=(0,TR.registerChannelzChannel)(J,this.channelzInfoTracker.getChannelzInfoCallback(),this.channelzEnabled),this.channelzEnabled)this.channelzInfoTracker.trace.addTrace("CT_INFO","Channel created");if(this.options["grpc.default_authority"])this.defaultAuthority=this.options["grpc.default_authority"];else this.defaultAuthority=(0,Ib6.getDefaultAuthority)(q);let H=(0,YN5.mapProxyName)(q,X);this.target=H.target,this.options=Object.assign({},this.options,H.extraOptions),this.subchannelPool=(0,eM5.getSubchannelPool)(((Y=this.options["grpc.use_local_subchannel_pool"])!==null&&Y!==void 0?Y:0)===0),this.retryBufferTracker=new hF1.MessageBufferTracker(($=this.options["grpc.retry_buffer_size"])!==null&&$!==void 0?$:HN5,(z=this.options["grpc.per_rpc_retry_buffer_size"])!==null&&z!==void 0?z:FN5),this.keepaliveTime=(W=this.options["grpc.keepalive_time_ms"])!==null&&W!==void 0?W:-1,this.idleTimeoutMs=Math.max((Q=this.options["grpc.client_idle_timeout_ms"])!==null&&Q!==void 0?Q:BN5,qN5);let F={createSubchannel:(D,V)=>{let w={};for(let[R,f]of Object.entries(V))if(!R.startsWith(Pb6.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX))w[R]=f;let M=this.subchannelPool.getOrCreateSubchannel(this.target,D,w,this.credentials);if(M.throttleKeepalive(this.keepaliveTime),this.channelzEnabled)this.channelzInfoTracker.trace.addTrace("CT_INFO","Created subchannel or used existing subchannel",M.getChannelzRef());return new wb6(M,this)},updateState:(D,V)=>{this.currentPicker=V;let w=this.pickQueue.slice();if(this.pickQueue=[],w.length>0)this.callRefTimerUnref();for(let M of w)M.doPick();this.updateState(D)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:(D)=>{if(this.channelzEnabled)this.channelzInfoTracker.childrenTracker.refChild(D)},removeChannelzChild:(D)=>{if(this.channelzEnabled)this.channelzInfoTracker.childrenTracker.unrefChild(D)}};this.resolvingLoadBalancer=new tM5.ResolvingLoadBalancer(this.target,F,this.options,(D,V)=>{var w;if(D.retryThrottling)Rl.set(this.getTarget(),new hF1.RetryThrottler(D.retryThrottling.maxTokens,D.retryThrottling.tokenRatio,Rl.get(this.getTarget())));else Rl.delete(this.getTarget());if(this.channelzEnabled)this.channelzInfoTracker.trace.addTrace("CT_INFO","Address resolution succeeded");(w=this.configSelector)===null||w===void 0||w.unref(),this.configSelector=V,this.currentResolutionError=null,process.nextTick(()=>{let M=this.configSelectionQueue;if(this.configSelectionQueue=[],M.length>0)this.callRefTimerUnref();for(let P of M)P.getConfig()})},(D)=>{if(this.channelzEnabled)this.channelzInfoTracker.trace.addTrace("CT_WARNING","Address resolution failed with code "+D.code+' and details "'+D.details+'"');if(this.configSelectionQueue.length>0)this.trace("Name resolution failed with calls queued for config selection");if(this.configSelector===null)this.currentResolutionError=Object.assign(Object.assign({},(0,QN5.restrictControlPlaneStatusCode)(D.code,D.details)),{metadata:D.metadata});let V=this.configSelectionQueue;if(this.configSelectionQueue=[],V.length>0)this.callRefTimerUnref();for(let w of V)w.reportResolverError(D)}),this.filterStackFactory=new ZN5.FilterStackFactory([new XN5.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(X,void 0,2));let U=new Error;if((0,Cl.isTracerEnabled)("channel_stacktrace"))(0,Cl.trace)(dB.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((G=U.stack)===null||G===void 0?void 0:G.substring(U.stack.indexOf(`
`)+1)));this.lastActivityTimestamp=new Date}trace(J,Z){(0,Cl.trace)(Z!==null&&Z!==void 0?Z:dB.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,jl.uriToString)(this.target)+" "+J)}callRefTimerRef(){var J,Z,X,Y;if(!this.callRefTimer)this.callRefTimer=setInterval(()=>{},KN5);if(!((Z=(J=this.callRefTimer).hasRef)===null||Z===void 0?void 0:Z.call(J)))this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(Y=(X=this.callRefTimer).ref)===null||Y===void 0||Y.call(X)}callRefTimerUnref(){var J,Z,X;if(!((J=this.callRefTimer)===null||J===void 0?void 0:J.hasRef)||this.callRefTimer.hasRef())this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(X=(Z=this.callRefTimer)===null||Z===void 0?void 0:Z.unref)===null||X===void 0||X.call(Z)}removeConnectivityStateWatcher(J){let Z=this.connectivityStateWatchers.findIndex((X)=>X===J);if(Z>=0)this.connectivityStateWatchers.splice(Z,1)}updateState(J){if((0,Cl.trace)(dB.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,jl.uriToString)(this.target)+" "+EX.ConnectivityState[this.connectivityState]+" -> "+EX.ConnectivityState[J]),this.channelzEnabled)this.channelzInfoTracker.trace.addTrace("CT_INFO","Connectivity state change to "+EX.ConnectivityState[J]);this.connectivityState=J,this.channelzInfoTracker.state=J;let Z=this.connectivityStateWatchers.slice();for(let X of Z)if(J!==X.currentState){if(X.timer)clearTimeout(X.timer);this.removeConnectivityStateWatcher(X),X.callback()}if(J!==EX.ConnectivityState.TRANSIENT_FAILURE)this.currentResolutionError=null}throttleKeepalive(J){if(J>this.keepaliveTime){this.keepaliveTime=J;for(let Z of this.wrappedSubchannels)Z.throttleKeepalive(J)}}addWrappedSubchannel(J){this.wrappedSubchannels.add(J)}removeWrappedSubchannel(J){this.wrappedSubchannels.delete(J)}doPick(J,Z){return this.currentPicker.pick({metadata:J,extraPickInfo:Z})}queueCallForPick(J){this.pickQueue.push(J),this.callRefTimerRef()}getConfig(J,Z){if(this.connectivityState!==EX.ConnectivityState.SHUTDOWN)this.resolvingLoadBalancer.exitIdle();if(this.configSelector)return{type:"SUCCESS",config:this.configSelector.invoke(J,Z,this.randomChannelId)};else if(this.currentResolutionError)return{type:"ERROR",error:this.currentResolutionError};else return{type:"NONE"}}queueCallForConfig(J){this.configSelectionQueue.push(J),this.callRefTimerRef()}enterIdle(){if(this.resolvingLoadBalancer.destroy(),this.updateState(EX.ConnectivityState.IDLE),this.currentPicker=new _F1.QueuePicker(this.resolvingLoadBalancer),this.idleTimer)clearTimeout(this.idleTimer),this.idleTimer=null;if(this.callRefTimer)clearInterval(this.callRefTimer),this.callRefTimer=null}startIdleTimeout(J){var Z,X;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let $=new Date().valueOf()-this.lastActivityTimestamp.valueOf();if($>=this.idleTimeoutMs)this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle();else this.startIdleTimeout(this.idleTimeoutMs-$)},J),(X=(Z=this.idleTimer).unref)===null||X===void 0||X.call(Z)}maybeStartIdleTimer(){if(this.connectivityState!==EX.ConnectivityState.SHUTDOWN&&!this.idleTimer)this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){if(this.channelzEnabled)this.channelzInfoTracker.callTracker.addCallStarted();this.callCount+=1}onCallEnd(J){if(this.channelzEnabled)if(J.code===dB.Status.OK)this.channelzInfoTracker.callTracker.addCallSucceeded();else this.channelzInfoTracker.callTracker.addCallFailed();this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(J,Z,X,Y,$){let z=(0,bF1.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+z+'] method="'+Z+'"'),new $N5.LoadBalancingCall(this,J,Z,X,Y,$,z)}createRetryingCall(J,Z,X,Y,$){let z=(0,bF1.getNextCallNumber)();return this.trace("createRetryingCall ["+z+'] method="'+Z+'"'),new hF1.RetryingCall(this,J,Z,X,Y,$,z,this.retryBufferTracker,Rl.get(this.getTarget()))}createResolvingCall(J,Z,X,Y,$){let z=(0,bF1.getNextCallNumber)();this.trace("createResolvingCall ["+z+'] method="'+J+'", deadline='+(0,zN5.deadlineToString)(Z));let W={deadline:Z,flags:$!==null&&$!==void 0?$:dB.Propagate.DEFAULTS,host:X!==null&&X!==void 0?X:this.defaultAuthority,parentCall:Y},Q=new WN5.ResolvingCall(this,J,W,this.filterStackFactory.clone(),z);return this.onCallStart(),Q.addStatusWatcher((G)=>{this.onCallEnd(G)}),Q}close(){var J;this.resolvingLoadBalancer.destroy(),this.updateState(EX.ConnectivityState.SHUTDOWN),this.currentPicker=new Ab6;for(let Z of this.configSelectionQueue)Z.cancelWithStatus(dB.Status.UNAVAILABLE,"Channel closed before call started");this.configSelectionQueue=[];for(let Z of this.pickQueue)Z.cancelWithStatus(dB.Status.UNAVAILABLE,"Channel closed before call started");if(this.pickQueue=[],this.callRefTimer)clearInterval(this.callRefTimer);if(this.idleTimer)clearTimeout(this.idleTimer);if(this.channelzEnabled)(0,TR.unregisterChannelzRef)(this.channelzRef);this.subchannelPool.unrefUnusedSubchannels(),(J=this.configSelector)===null||J===void 0||J.unref(),this.configSelector=null}getTarget(){return(0,jl.uriToString)(this.target)}getConnectivityState(J){let Z=this.connectivityState;if(J)this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer();return Z}watchConnectivityState(J,Z,X){if(this.connectivityState===EX.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let Y=null;if(Z!==1/0){let z=Z instanceof Date?Z:new Date(Z),W=new Date;if(Z===-1/0||z<=W){process.nextTick(X,new Error("Deadline passed without connectivity state change"));return}Y=setTimeout(()=>{this.removeConnectivityStateWatcher($),X(new Error("Deadline passed without connectivity state change"))},z.getTime()-W.getTime())}let $={currentState:J,callback:X,timer:Y};this.connectivityStateWatchers.push($)}getChannelzRef(){return this.channelzRef}createCall(J,Z,X,Y,$){if(typeof J!=="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof Z==="number"||Z instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===EX.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(J,Z,X,Y,$)}getOptions(){return this.options}}Pb6.InternalChannel=Nb6});var DH1=B((Rb6)=>{Object.defineProperty(Rb6,"__esModule",{value:!0});Rb6.ChannelImplementation=void 0;var UN5=ej(),ON5=yF1();class jb6{constructor(J,Z,X){if(typeof J!=="string")throw new TypeError("Channel target must be a string");if(!(Z instanceof UN5.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(X){if(typeof X!=="object")throw new TypeError("Channel options must be an object")}this.internalChannel=new ON5.InternalChannel(J,Z,X)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(J){return this.internalChannel.getConnectivityState(J)}watchConnectivityState(J,Z,X){this.internalChannel.watchConnectivityState(J,Z,X)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(J,Z,X,Y,$){if(typeof J!=="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof Z==="number"||Z instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(J,Z,X,Y,$)}}Rb6.ChannelImplementation=jb6});var yb6=B((hb6)=>{Object.defineProperty(hb6,"__esModule",{value:!0});hb6.ServerDuplexStreamImpl=hb6.ServerWritableStreamImpl=hb6.ServerReadableStreamImpl=hb6.ServerUnaryCallImpl=void 0;hb6.serverErrorToStatus=gF1;var DN5=p("events"),vF1=p("stream"),xF1=p6(),Sb6=i9();function gF1(J,Z){var X;let Y={code:xF1.Status.UNKNOWN,details:"message"in J?J.message:"Unknown Error",metadata:(X=Z!==null&&Z!==void 0?Z:J.metadata)!==null&&X!==void 0?X:null};if("code"in J&&typeof J.code==="number"&&Number.isInteger(J.code)){if(Y.code=J.code,"details"in J&&typeof J.details==="string")Y.details=J.details}return Y}class Tb6 extends DN5.EventEmitter{constructor(J,Z,X,Y){super();this.path=J,this.call=Z,this.metadata=X,this.request=Y,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(J){this.call.sendMetadata(J)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}}hb6.ServerUnaryCallImpl=Tb6;class fb6 extends vF1.Readable{constructor(J,Z,X){super({objectMode:!0});this.path=J,this.call=Z,this.metadata=X,this.cancelled=!1}_read(J){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(J){this.call.sendMetadata(J)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}}hb6.ServerReadableStreamImpl=fb6;class kb6 extends vF1.Writable{constructor(J,Z,X,Y){super({objectMode:!0});this.path=J,this.call=Z,this.metadata=X,this.request=Y,this.pendingStatus={code:xF1.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new Sb6.Metadata,this.on("error",($)=>{this.pendingStatus=gF1($),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(J){this.call.sendMetadata(J)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}_write(J,Z,X){this.call.sendMessage(J,X)}_final(J){var Z;J(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(Z=this.pendingStatus.metadata)!==null&&Z!==void 0?Z:this.trailingMetadata}))}end(J){if(J)this.trailingMetadata=J;return super.end()}}hb6.ServerWritableStreamImpl=kb6;class bb6 extends vF1.Duplex{constructor(J,Z,X){super({objectMode:!0});this.path=J,this.call=Z,this.metadata=X,this.pendingStatus={code:xF1.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new Sb6.Metadata,this.on("error",(Y)=>{this.pendingStatus=gF1(Y),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(J){this.call.sendMetadata(J)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}_read(J){this.call.startRead()}_write(J,Z,X){this.call.sendMessage(J,X)}_final(J){var Z;J(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(Z=this.pendingStatus.metadata)!==null&&Z!==void 0?Z:this.trailingMetadata}))}end(J){if(J)this.trailingMetadata=J;return super.end()}}hb6.ServerDuplexStreamImpl=bb6});var El=B((vb6)=>{Object.defineProperty(vb6,"__esModule",{value:!0});vb6.ServerCredentials=void 0;vb6.createCertificateProviderServerCredentials=MN5;vb6.createServerCredentialsWithInterceptors=NN5;var dF1=ZH1();class kA{constructor(J,Z){this.serverConstructorOptions=J,this.watchers=new Set,this.latestContextOptions=null,this.latestContextOptions=Z!==null&&Z!==void 0?Z:null}_addWatcher(J){this.watchers.add(J)}_removeWatcher(J){this.watchers.delete(J)}getWatcherCount(){return this.watchers.size}updateSecureContextOptions(J){this.latestContextOptions=J;for(let Z of this.watchers)Z(this.latestContextOptions)}_isSecure(){return this.serverConstructorOptions!==null}_getSecureContextOptions(){return this.latestContextOptions}_getConstructorOptions(){return this.serverConstructorOptions}_getInterceptors(){return[]}static createInsecure(){return new uF1}static createSsl(J,Z,X=!1){var Y;if(J!==null&&!Buffer.isBuffer(J))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(Z))throw new TypeError("keyCertPairs must be an array");if(typeof X!=="boolean")throw new TypeError("checkClientCertificate must be a boolean");let $=[],z=[];for(let W=0;W<Z.length;W++){let Q=Z[W];if(Q===null||typeof Q!=="object")throw new TypeError(`keyCertPair[${W}] must be an object`);if(!Buffer.isBuffer(Q.private_key))throw new TypeError(`keyCertPair[${W}].private_key must be a Buffer`);if(!Buffer.isBuffer(Q.cert_chain))throw new TypeError(`keyCertPair[${W}].cert_chain must be a Buffer`);$.push(Q.cert_chain),z.push(Q.private_key)}return new mF1({requestCert:X,ciphers:dF1.CIPHER_SUITES},{ca:(Y=J!==null&&J!==void 0?J:(0,dF1.getDefaultRootsData)())!==null&&Y!==void 0?Y:void 0,cert:$,key:z})}}vb6.ServerCredentials=kA;class uF1 extends kA{constructor(){super(null)}_getSettings(){return null}_equals(J){return J instanceof uF1}}class mF1 extends kA{constructor(J,Z){super(J,Z);this.options=Object.assign(Object.assign({},J),Z)}_equals(J){if(this===J)return!0;if(!(J instanceof mF1))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(J.options.ca)){if(!this.options.ca.equals(J.options.ca))return!1}else if(this.options.ca!==J.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(J.options.cert)){if(this.options.cert.length!==J.options.cert.length)return!1;for(let Z=0;Z<this.options.cert.length;Z++){let X=this.options.cert[Z],Y=J.options.cert[Z];if(Buffer.isBuffer(X)&&Buffer.isBuffer(Y)){if(!X.equals(Y))return!1}else if(X!==Y)return!1}}else if(this.options.cert!==J.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(J.options.key)){if(this.options.key.length!==J.options.key.length)return!1;for(let Z=0;Z<this.options.key.length;Z++){let X=this.options.key[Z],Y=J.options.key[Z];if(Buffer.isBuffer(X)&&Buffer.isBuffer(Y)){if(!X.equals(Y))return!1}else if(X!==Y)return!1}}else if(this.options.key!==J.options.key)return!1;if(this.options.requestCert!==J.options.requestCert)return!1;return!0}}class cF1 extends kA{constructor(J,Z,X){super({requestCert:Z!==null,rejectUnauthorized:X,ciphers:dF1.CIPHER_SUITES});this.identityCertificateProvider=J,this.caCertificateProvider=Z,this.requireClientCertificate=X,this.latestCaUpdate=null,this.latestIdentityUpdate=null,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this)}_addWatcher(J){var Z;if(this.getWatcherCount()===0)(Z=this.caCertificateProvider)===null||Z===void 0||Z.addCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.addIdentityCertificateListener(this.identityCertificateUpdateListener);super._addWatcher(J)}_removeWatcher(J){var Z;if(super._removeWatcher(J),this.getWatcherCount()===0)(Z=this.caCertificateProvider)===null||Z===void 0||Z.removeCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.removeIdentityCertificateListener(this.identityCertificateUpdateListener)}_equals(J){if(this===J)return!0;if(!(J instanceof cF1))return!1;return this.caCertificateProvider===J.caCertificateProvider&&this.identityCertificateProvider===J.identityCertificateProvider&&this.requireClientCertificate===J.requireClientCertificate}calculateSecureContextOptions(){var J;if(this.latestIdentityUpdate===null)return null;if(this.caCertificateProvider!==null&&this.latestCaUpdate===null)return null;return{ca:(J=this.latestCaUpdate)===null||J===void 0?void 0:J.caCertificate,cert:[this.latestIdentityUpdate.certificate],key:[this.latestIdentityUpdate.privateKey]}}finalizeUpdate(){let J=this.calculateSecureContextOptions();this.updateSecureContextOptions(J)}handleCaCertificateUpdate(J){this.latestCaUpdate=J,this.finalizeUpdate()}handleIdentityCertitificateUpdate(J){this.latestIdentityUpdate=J,this.finalizeUpdate()}}function MN5(J,Z,X){return new cF1(J,Z,X)}class lF1 extends kA{constructor(J,Z){super({});this.childCredentials=J,this.interceptors=Z}_isSecure(){return this.childCredentials._isSecure()}_equals(J){if(!(J instanceof lF1))return!1;if(!this.childCredentials._equals(J.childCredentials))return!1;if(this.interceptors.length!==J.interceptors.length)return!1;for(let Z=0;Z<this.interceptors.length;Z++)if(this.interceptors[Z]!==J.interceptors[Z])return!1;return!0}_getInterceptors(){return this.interceptors}_addWatcher(J){this.childCredentials._addWatcher(J)}_removeWatcher(J){this.childCredentials._removeWatcher(J)}_getConstructorOptions(){return this.childCredentials._getConstructorOptions()}_getSecureContextOptions(){return this.childCredentials._getSecureContextOptions()}}function NN5(J,Z){return new lF1(J,Z)}});var sF1=B((rb6)=>{Object.defineProperty(rb6,"__esModule",{value:!0});rb6.BaseServerInterceptingCall=rb6.ServerInterceptingCall=rb6.ResponderBuilder=rb6.ServerListenerBuilder=void 0;rb6.isInterceptingServerListener=jN5;rb6.getServerInterceptingCall=fN5;var nF1=i9(),ZJ=p6(),bA=p("http2"),gb6=Lc(),db6=p("zlib"),CN5=wF1(),lb6=$8(),pb6="server_call";function zD(J){lb6.trace(ZJ.LogVerbosity.DEBUG,pb6,J)}class nb6{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(J){return this.metadata=J,this}withOnReceiveMessage(J){return this.message=J,this}withOnReceiveHalfClose(J){return this.halfClose=J,this}withOnCancel(J){return this.cancel=J,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}}rb6.ServerListenerBuilder=nb6;function jN5(J){return J.onReceiveMetadata!==void 0&&J.onReceiveMetadata.length===1}class ib6{constructor(J,Z){this.listener=J,this.nextListener=Z,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){if(this.hasPendingMessage)this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1}processPendingHalfClose(){if(this.hasPendingHalfClose)this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1}onReceiveMetadata(J){if(this.cancelled)return;this.processingMetadata=!0,this.listener.onReceiveMetadata(J,(Z)=>{if(this.processingMetadata=!1,this.cancelled)return;this.nextListener.onReceiveMetadata(Z),this.processPendingMessage(),this.processPendingHalfClose()})}onReceiveMessage(J){if(this.cancelled)return;this.processingMessage=!0,this.listener.onReceiveMessage(J,(Z)=>{if(this.processingMessage=!1,this.cancelled)return;if(this.processingMetadata)this.pendingMessage=Z,this.hasPendingMessage=!0;else this.nextListener.onReceiveMessage(Z),this.processPendingHalfClose()})}onReceiveHalfClose(){if(this.cancelled)return;this.listener.onReceiveHalfClose(()=>{if(this.cancelled)return;if(this.processingMetadata||this.processingMessage)this.hasPendingHalfClose=!0;else this.nextListener.onReceiveHalfClose()})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}}class ob6{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(J){return this.start=J,this}withSendMetadata(J){return this.metadata=J,this}withSendMessage(J){return this.message=J,this}withSendStatus(J){return this.status=J,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}}rb6.ResponderBuilder=ob6;var Sl={onReceiveMetadata:(J,Z)=>{Z(J)},onReceiveMessage:(J,Z)=>{Z(J)},onReceiveHalfClose:(J)=>{J()},onCancel:()=>{}},Tl={start:(J)=>{J()},sendMetadata:(J,Z)=>{Z(J)},sendMessage:(J,Z)=>{Z(J)},sendStatus:(J,Z)=>{Z(J)}};class sb6{constructor(J,Z){var X,Y,$,z;this.nextCall=J,this.processingMetadata=!1,this.sentMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:(X=Z===null||Z===void 0?void 0:Z.start)!==null&&X!==void 0?X:Tl.start,sendMetadata:(Y=Z===null||Z===void 0?void 0:Z.sendMetadata)!==null&&Y!==void 0?Y:Tl.sendMetadata,sendMessage:($=Z===null||Z===void 0?void 0:Z.sendMessage)!==null&&$!==void 0?$:Tl.sendMessage,sendStatus:(z=Z===null||Z===void 0?void 0:Z.sendStatus)!==null&&z!==void 0?z:Tl.sendStatus}}processPendingMessage(){if(this.pendingMessageCallback)this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null}processPendingStatus(){if(this.pendingStatus)this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null}start(J){this.responder.start((Z)=>{var X,Y,$,z;let W={onReceiveMetadata:(X=Z===null||Z===void 0?void 0:Z.onReceiveMetadata)!==null&&X!==void 0?X:Sl.onReceiveMetadata,onReceiveMessage:(Y=Z===null||Z===void 0?void 0:Z.onReceiveMessage)!==null&&Y!==void 0?Y:Sl.onReceiveMessage,onReceiveHalfClose:($=Z===null||Z===void 0?void 0:Z.onReceiveHalfClose)!==null&&$!==void 0?$:Sl.onReceiveHalfClose,onCancel:(z=Z===null||Z===void 0?void 0:Z.onCancel)!==null&&z!==void 0?z:Sl.onCancel},Q=new ib6(W,J);this.nextCall.start(Q)})}sendMetadata(J){this.processingMetadata=!0,this.sentMetadata=!0,this.responder.sendMetadata(J,(Z)=>{this.processingMetadata=!1,this.nextCall.sendMetadata(Z),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(J,Z){if(this.processingMessage=!0,!this.sentMetadata)this.sendMetadata(new nF1.Metadata);this.responder.sendMessage(J,(X)=>{if(this.processingMessage=!1,this.processingMetadata)this.pendingMessage=X,this.pendingMessageCallback=Z;else this.nextCall.sendMessage(X,Z)})}sendStatus(J){this.responder.sendStatus(J,(Z)=>{if(this.processingMetadata||this.processingMessage)this.pendingStatus=Z;else this.nextCall.sendStatus(Z)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}getHost(){return this.nextCall.getHost()}}rb6.ServerInterceptingCall=sb6;var ab6="grpc-accept-encoding",iF1="grpc-encoding",ub6="grpc-message",mb6="grpc-status",pF1="grpc-timeout",RN5=/(\d{1,8})\s*([HMSmun])/,EN5={H:3600000,M:60000,S:1000,m:1,u:0.001,n:0.000001},SN5={[ab6]:"identity,deflate,gzip",[iF1]:"identity"},cb6={[bA.constants.HTTP2_HEADER_STATUS]:bA.constants.HTTP_STATUS_OK,[bA.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},TN5={waitForTrailers:!0};class oF1{constructor(J,Z,X,Y,$){var z;if(this.stream=J,this.callEventTracker=X,this.handler=Y,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=ZJ.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=ZJ.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.stream.once("error",(K)=>{}),this.stream.once("close",()=>{var K;if(zD("Request to method "+((K=this.handler)===null||K===void 0?void 0:K.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded)this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:ZJ.Status.CANCELLED,details:"Stream closed before sending status",metadata:null});this.notifyOnCancel()}),this.stream.on("data",(K)=>{this.handleDataFrame(K)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in $)this.maxSendMessageSize=$["grpc.max_send_message_length"];if("grpc.max_receive_message_length"in $)this.maxReceiveMessageSize=$["grpc.max_receive_message_length"];this.host=(z=Z[":authority"])!==null&&z!==void 0?z:Z.host,this.decoder=new CN5.StreamDecoder(this.maxReceiveMessageSize);let W=nF1.Metadata.fromHttp2Headers(Z);if(lb6.isTracerEnabled(pb6))zD("Request to "+this.handler.path+" received headers "+JSON.stringify(W.toJSON()));let Q=W.get(pF1);if(Q.length>0)this.handleTimeoutHeader(Q[0]);let G=W.get(iF1);if(G.length>0)this.incomingEncoding=G[0];W.remove(pF1),W.remove(iF1),W.remove(ab6),W.remove(bA.constants.HTTP2_HEADER_ACCEPT_ENCODING),W.remove(bA.constants.HTTP2_HEADER_TE),W.remove(bA.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=W}handleTimeoutHeader(J){let Z=J.toString().match(RN5);if(Z===null){let $={code:ZJ.Status.INTERNAL,details:`Invalid ${pF1} value "${J}"`,metadata:null};process.nextTick(()=>{this.sendStatus($)});return}let X=+Z[1]*EN5[Z[2]]|0,Y=new Date;this.deadline=Y.setMilliseconds(Y.getMilliseconds()+X),this.deadlineTimer=setTimeout(()=>{let $={code:ZJ.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus($)},X)}checkCancelled(){if(!this.cancelled&&(this.stream.destroyed||this.stream.closed))this.notifyOnCancel(),this.cancelled=!0;return this.cancelled}notifyOnCancel(){if(this.cancelNotified)return;if(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var J;(J=this.listener)===null||J===void 0||J.onCancel()}),this.deadlineTimer)clearTimeout(this.deadlineTimer);this.stream.resume()}maybeSendMetadata(){if(!this.metadataSent)this.sendMetadata(new nF1.Metadata)}serializeMessage(J){let Z=this.handler.serialize(J),X=Z.byteLength,Y=Buffer.allocUnsafe(X+5);return Y.writeUInt8(0,0),Y.writeUInt32BE(X,1),Z.copy(Y,5),Y}decompressMessage(J,Z){let X=J.subarray(5);if(Z==="identity")return X;else if(Z==="deflate"||Z==="gzip"){let Y;if(Z==="deflate")Y=db6.createInflate();else Y=db6.createGunzip();return new Promise(($,z)=>{let W=0,Q=[];Y.on("data",(G)=>{if(Q.push(G),W+=G.byteLength,this.maxReceiveMessageSize!==-1&&W>this.maxReceiveMessageSize)Y.destroy(),z({code:ZJ.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`})}),Y.on("end",()=>{$(Buffer.concat(Q))}),Y.write(X),Y.end()})}else return Promise.reject({code:ZJ.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${Z}"`})}async decompressAndMaybePush(J){if(J.type!=="COMPRESSED")throw new Error(`Invalid queue entry type: ${J.type}`);let X=J.compressedMessage.readUInt8(0)===1?this.incomingEncoding:"identity",Y;try{Y=await this.decompressMessage(J.compressedMessage,X)}catch($){this.sendStatus($);return}try{J.parsedMessage=this.handler.deserialize(Y)}catch($){this.sendStatus({code:ZJ.Status.INTERNAL,details:`Error deserializing request: ${$.message}`});return}J.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&this.readQueue[0].type!=="COMPRESSED"){this.isReadPending=!1;let J=this.readQueue.shift();if(J.type==="READABLE")this.listener.onReceiveMessage(J.parsedMessage);else this.listener.onReceiveHalfClose()}}handleDataFrame(J){var Z;if(this.checkCancelled())return;zD("Request to "+this.handler.path+" received data frame of size "+J.length);let X;try{X=this.decoder.write(J)}catch(Y){this.sendStatus({code:ZJ.Status.RESOURCE_EXHAUSTED,details:Y.message});return}for(let Y of X){this.stream.pause();let $={type:"COMPRESSED",compressedMessage:Y,parsedMessage:null};this.readQueue.push($),this.decompressAndMaybePush($),(Z=this.callEventTracker)===null||Z===void 0||Z.addMessageReceived()}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(J){if(zD("Request to "+this.handler.path+" start called"),this.checkCancelled())return;this.listener=J,J.onReceiveMetadata(this.metadata)}sendMetadata(J){if(this.checkCancelled())return;if(this.metadataSent)return;this.metadataSent=!0;let Z=J?J.toHttp2Headers():null,X=Object.assign(Object.assign(Object.assign({},cb6),SN5),Z);this.stream.respond(X,TN5)}sendMessage(J,Z){if(this.checkCancelled())return;let X;try{X=this.serializeMessage(J)}catch(Y){this.sendStatus({code:ZJ.Status.INTERNAL,details:`Error serializing response: ${(0,gb6.getErrorMessage)(Y)}`,metadata:null});return}if(this.maxSendMessageSize!==-1&&X.length-5>this.maxSendMessageSize){this.sendStatus({code:ZJ.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${X.length} vs. ${this.maxSendMessageSize})`,metadata:null});return}this.maybeSendMetadata(),zD("Request to "+this.handler.path+" sent data frame of size "+X.length),this.stream.write(X,(Y)=>{var $;if(Y){this.sendStatus({code:ZJ.Status.INTERNAL,details:`Error writing message: ${(0,gb6.getErrorMessage)(Y)}`,metadata:null});return}($=this.callEventTracker)===null||$===void 0||$.addMessageSent(),Z()})}sendStatus(J){var Z,X;if(this.checkCancelled())return;if(zD("Request to method "+((Z=this.handler)===null||Z===void 0?void 0:Z.path)+" ended with status code: "+ZJ.Status[J.code]+" details: "+J.details),this.metadataSent)if(!this.wantTrailers)this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var Y;if(this.callEventTracker&&!this.streamEnded)this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(J);let $=Object.assign({[mb6]:J.code,[ub6]:encodeURI(J.details)},(Y=J.metadata)===null||Y===void 0?void 0:Y.toHttp2Headers());this.stream.sendTrailers($),this.notifyOnCancel()}),this.stream.end();else this.notifyOnCancel();else{if(this.callEventTracker&&!this.streamEnded)this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(J);let Y=Object.assign(Object.assign({[mb6]:J.code,[ub6]:encodeURI(J.details)},cb6),(X=J.metadata)===null||X===void 0?void 0:X.toHttp2Headers());this.stream.respond(Y,{endStream:!0}),this.notifyOnCancel()}}startRead(){if(zD("Request to "+this.handler.path+" startRead called"),this.checkCancelled())return;if(this.isReadPending=!0,this.readQueue.length===0){if(!this.receivedHalfClose)this.stream.resume()}else this.maybePushNextMessage()}getPeer(){var J;let Z=(J=this.stream.session)===null||J===void 0?void 0:J.socket;if(Z===null||Z===void 0?void 0:Z.remoteAddress)if(Z.remotePort)return`${Z.remoteAddress}:${Z.remotePort}`;else return Z.remoteAddress;else return"unknown"}getDeadline(){return this.deadline}getHost(){return this.host}}rb6.BaseServerInterceptingCall=oF1;function fN5(J,Z,X,Y,$,z){let W={path:$.path,requestStream:$.type==="clientStream"||$.type==="bidi",responseStream:$.type==="serverStream"||$.type==="bidi",requestDeserialize:$.deserialize,responseSerialize:$.serialize},Q=new oF1(Z,X,Y,$,z);return J.reduce((G,K)=>{return K(W,G)},Q)}});var zh6=B((mB)=>{var vN5=mB&&mB.__runInitializers||function(J,Z,X){var Y=arguments.length>2;for(var $=0;$<Z.length;$++)X=Y?Z[$].call(J,X):Z[$].call(J);return Y?X:void 0},xN5=mB&&mB.__esDecorate||function(J,Z,X,Y,$,z){function W(M){if(M!==void 0&&typeof M!=="function")throw new TypeError("Function expected");return M}var Q=Y.kind,G=Q==="getter"?"get":Q==="setter"?"set":"value",K=!Z&&J?Y.static?J:J.prototype:null,q=Z||(K?Object.getOwnPropertyDescriptor(K,Y.name):{}),H,F=!1;for(var U=X.length-1;U>=0;U--){var D={};for(var V in Y)D[V]=V==="access"?{}:Y[V];for(var V in Y.access)D.access[V]=Y.access[V];D.addInitializer=function(M){if(F)throw new TypeError("Cannot add initializers after decoration has completed");z.push(W(M||null))};var w=(0,X[U])(Q==="accessor"?{get:q.get,set:q.set}:q[G],D);if(Q==="accessor"){if(w===void 0)continue;if(w===null||typeof w!=="object")throw new TypeError("Object expected");if(H=W(w.get))q.get=H;if(H=W(w.set))q.set=H;if(H=W(w.init))$.unshift(H)}else if(H=W(w))if(Q==="field")$.unshift(H);else q[G]=H}if(K)Object.defineProperty(K,Y.name,q);F=!0};Object.defineProperty(mB,"__esModule",{value:!0});mB.Server=void 0;var XJ=p("http2"),gN5=p("util"),Q5=p6(),yA=yb6(),aF1=El(),eb6=BW(),_A=$8(),uB=CX(),oY=e7(),g5=XD(),Jh6=sF1(),hA=2147483647,rF1=2147483647,dN5=20000,Zh6=2147483647,{HTTP2_HEADER_PATH:Xh6}=XJ.constants,uN5="server",Yh6=Buffer.from("max_age");function $h6(J){_A.trace(Q5.LogVerbosity.DEBUG,"server_call",J)}function mN5(){}function cN5(J){return function(Z,X){return gN5.deprecate(Z,J)}}function tF1(J){return{code:Q5.Status.UNIMPLEMENTED,details:`The server does not implement the method ${J}`}}function lN5(J,Z){let X=tF1(Z);switch(J){case"unary":return(Y,$)=>{$(X,null)};case"clientStream":return(Y,$)=>{$(X,null)};case"serverStream":return(Y)=>{Y.emit("error",X)};case"bidi":return(Y)=>{Y.emit("error",X)};default:throw new Error(`Invalid handlerType ${J}`)}}var pN5=(()=>{var J;let Z=[],X;return J=class Y{constructor($){var z,W,Q,G,K,q;if(this.boundPorts=(vN5(this,Z),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=$!==null&&$!==void 0?$:{},this.options["grpc.enable_channelz"]===0)this.channelzEnabled=!1,this.channelzTrace=new g5.ChannelzTraceStub,this.callTracker=new g5.ChannelzCallTrackerStub,this.listenerChildrenTracker=new g5.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new g5.ChannelzChildrenTrackerStub;else this.channelzTrace=new g5.ChannelzTrace,this.callTracker=new g5.ChannelzCallTracker,this.listenerChildrenTracker=new g5.ChannelzChildrenTracker,this.sessionChildrenTracker=new g5.ChannelzChildrenTracker;if(this.channelzRef=(0,g5.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(z=this.options["grpc.max_connection_age_ms"])!==null&&z!==void 0?z:hA,this.maxConnectionAgeGraceMs=(W=this.options["grpc.max_connection_age_grace_ms"])!==null&&W!==void 0?W:hA,this.keepaliveTimeMs=(Q=this.options["grpc.keepalive_time_ms"])!==null&&Q!==void 0?Q:rF1,this.keepaliveTimeoutMs=(G=this.options["grpc.keepalive_timeout_ms"])!==null&&G!==void 0?G:dN5,this.sessionIdleTimeout=(K=this.options["grpc.max_connection_idle_ms"])!==null&&K!==void 0?K:Zh6,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options)this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"];else this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER;if("grpc.max_concurrent_streams"in this.options)this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]};this.interceptors=(q=this.options.interceptors)!==null&&q!==void 0?q:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo($){var z,W,Q;let G=this.sessions.get($),K=$.socket,q=K.remoteAddress?(0,uB.stringToSubchannelAddress)(K.remoteAddress,K.remotePort):null,H=K.localAddress?(0,uB.stringToSubchannelAddress)(K.localAddress,K.localPort):null,F;if($.encrypted){let D=K,V=D.getCipher(),w=D.getCertificate(),M=D.getPeerCertificate();F={cipherSuiteStandardName:(z=V.standardName)!==null&&z!==void 0?z:null,cipherSuiteOtherName:V.standardName?null:V.name,localCertificate:w&&"raw"in w?w.raw:null,remoteCertificate:M&&"raw"in M?M.raw:null}}else F=null;return{remoteAddress:q,localAddress:H,security:F,remoteName:null,streamsStarted:G.streamTracker.callsStarted,streamsSucceeded:G.streamTracker.callsSucceeded,streamsFailed:G.streamTracker.callsFailed,messagesSent:G.messagesSent,messagesReceived:G.messagesReceived,keepAlivesSent:G.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:G.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:G.lastMessageSentTimestamp,lastMessageReceivedTimestamp:G.lastMessageReceivedTimestamp,localFlowControlWindow:(W=$.state.localWindowSize)!==null&&W!==void 0?W:null,remoteFlowControlWindow:(Q=$.state.remoteWindowSize)!==null&&Q!==void 0?Q:null}}trace($){_A.trace(Q5.LogVerbosity.DEBUG,uN5,"("+this.channelzRef.id+") "+$)}keepaliveTrace($){_A.trace(Q5.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+$)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService($,z){if($===null||typeof $!=="object"||z===null||typeof z!=="object")throw new Error("addService() requires two objects as arguments");let W=Object.keys($);if(W.length===0)throw new Error("Cannot add an empty service to a server");W.forEach((Q)=>{let G=$[Q],K;if(G.requestStream)if(G.responseStream)K="bidi";else K="clientStream";else if(G.responseStream)K="serverStream";else K="unary";let q=z[Q],H;if(q===void 0&&typeof G.originalName==="string")q=z[G.originalName];if(q!==void 0)H=q.bind(z);else H=lN5(K,Q);if(this.register(G.path,H,G.responseSerialize,G.requestDeserialize,K)===!1)throw new Error(`Method handler for ${G.path} already provided.`)})}removeService($){if($===null||typeof $!=="object")throw new Error("removeService() requires object as argument");Object.keys($).forEach((W)=>{let Q=$[W];this.unregister(Q.path)})}bind($,z){throw new Error("Not implemented. Use bindAsync() instead")}experimentalRegisterListenerToChannelz($){return(0,g5.registerChannelzSocket)((0,uB.subchannelAddressToString)($),()=>{return{localAddress:$,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}},this.channelzEnabled)}experimentalUnregisterListenerFromChannelz($){(0,g5.unregisterChannelzRef)($)}createHttp2Server($){let z;if($._isSecure()){let W=$._getConstructorOptions(),Q=$._getSecureContextOptions(),G=Object.assign(Object.assign(Object.assign(Object.assign({},this.commonServerOptions),W),Q),{enableTrace:this.options["grpc-node.tls_enable_trace"]===1}),K=Q!==null;this.trace("Initial credentials valid: "+K),z=XJ.createSecureServer(G),z.prependListener("connection",(H)=>{if(!K)this.trace("Dropped connection from "+JSON.stringify(H.address())+" due to unloaded credentials"),H.destroy()}),z.on("secureConnection",(H)=>{H.on("error",(F)=>{this.trace("An incoming TLS connection closed with error: "+F.message)})});let q=(H)=>{if(H){let F=z;try{F.setSecureContext(H)}catch(U){_A.log(Q5.LogVerbosity.ERROR,"Failed to set secure context with error "+U.message),H=null}}K=H!==null,this.trace("Post-update credentials valid: "+K)};$._addWatcher(q),z.on("close",()=>{$._removeWatcher(q)})}else z=XJ.createServer(this.commonServerOptions);return z.setTimeout(0,mN5),this._setupHandlers(z,$._getInterceptors()),z}bindOneAddress($,z){this.trace("Attempting to bind "+(0,uB.subchannelAddressToString)($));let W=this.createHttp2Server(z.credentials);return new Promise((Q,G)=>{let K=(q)=>{this.trace("Failed to bind "+(0,uB.subchannelAddressToString)($)+" with error "+q.message),Q({port:"port"in $?$.port:1,error:q.message})};W.once("error",K),W.listen($,()=>{let q=W.address(),H;if(typeof q==="string")H={path:q};else H={host:q.address,port:q.port};let F=this.experimentalRegisterListenerToChannelz(H);this.listenerChildrenTracker.refChild(F),this.http2Servers.set(W,{channelzRef:F,sessions:new Set,ownsChannelzRef:!0}),z.listeningServers.add(W),this.trace("Successfully bound "+(0,uB.subchannelAddressToString)(H)),Q({port:"port"in H?H.port:1}),W.removeListener("error",K)})})}async bindManyPorts($,z){if($.length===0)return{count:0,port:0,errors:[]};if((0,uB.isTcpSubchannelAddress)($[0])&&$[0].port===0){let W=await this.bindOneAddress($[0],z);if(W.error){let Q=await this.bindManyPorts($.slice(1),z);return Object.assign(Object.assign({},Q),{errors:[W.error,...Q.errors]})}else{let Q=$.slice(1).map((q)=>(0,uB.isTcpSubchannelAddress)(q)?{host:q.host,port:W.port}:q),G=await Promise.all(Q.map((q)=>this.bindOneAddress(q,z))),K=[W,...G];return{count:K.filter((q)=>q.error===void 0).length,port:W.port,errors:K.filter((q)=>q.error).map((q)=>q.error)}}}else{let W=await Promise.all($.map((Q)=>this.bindOneAddress(Q,z)));return{count:W.filter((Q)=>Q.error===void 0).length,port:W[0].port,errors:W.filter((Q)=>Q.error).map((Q)=>Q.error)}}}async bindAddressList($,z){let W=await this.bindManyPorts($,z);if(W.count>0){if(W.count<$.length)_A.log(Q5.LogVerbosity.INFO,`WARNING Only ${W.count} addresses added out of total ${$.length} resolved`);return W.port}else{let Q=`No address added out of total ${$.length} resolved`;throw _A.log(Q5.LogVerbosity.ERROR,Q),new Error(`${Q} errors: [${W.errors.join(",")}]`)}}resolvePort($){return new Promise((z,W)=>{let Q={onSuccessfulResolution:(K,q,H)=>{Q.onSuccessfulResolution=()=>{};let F=[].concat(...K.map((U)=>U.addresses));if(F.length===0){W(new Error(`No addresses resolved for port ${$}`));return}z(F)},onError:(K)=>{W(new Error(K.details))}};(0,eb6.createResolver)($,Q,this.options).updateResolution()})}async bindPort($,z){let W=await this.resolvePort($);if(z.cancelled)throw this.completeUnbind(z),new Error("bindAsync operation cancelled by unbind call");let Q=await this.bindAddressList(W,z);if(z.cancelled)throw this.completeUnbind(z),new Error("bindAsync operation cancelled by unbind call");return Q}normalizePort($){let z=(0,oY.parseUri)($);if(z===null)throw new Error(`Could not parse port "${$}"`);let W=(0,eb6.mapUriDefaultScheme)(z);if(W===null)throw new Error(`Could not get a default scheme for port "${$}"`);return W}bindAsync($,z,W){if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof $!=="string")throw new TypeError("port must be a string");if(z===null||!(z instanceof aF1.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof W!=="function")throw new TypeError("callback must be a function");this.trace("bindAsync port="+$);let Q=this.normalizePort($),G=(F,U)=>{process.nextTick(()=>W(F,U))},K=this.boundPorts.get((0,oY.uriToString)(Q));if(K){if(!z._equals(K.credentials)){G(new Error(`${$} already bound with incompatible credentials`),0);return}if(K.cancelled=!1,K.completionPromise)K.completionPromise.then((F)=>W(null,F),(F)=>W(F,0));else G(null,K.portNumber);return}K={mapKey:(0,oY.uriToString)(Q),originalUri:Q,completionPromise:null,cancelled:!1,portNumber:0,credentials:z,listeningServers:new Set};let q=(0,oY.splitHostPort)(Q.path),H=this.bindPort(Q,K);if(K.completionPromise=H,(q===null||q===void 0?void 0:q.port)===0)H.then((F)=>{let U={scheme:Q.scheme,authority:Q.authority,path:(0,oY.combineHostPort)({host:q.host,port:F})};K.mapKey=(0,oY.uriToString)(U),K.completionPromise=null,K.portNumber=F,this.boundPorts.set(K.mapKey,K),W(null,F)},(F)=>{W(F,0)});else this.boundPorts.set(K.mapKey,K),H.then((F)=>{K.completionPromise=null,K.portNumber=F,W(null,F)},(F)=>{W(F,0)})}registerInjectorToChannelz(){return(0,g5.registerChannelzSocket)("injector",()=>{return{localAddress:null,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}},this.channelzEnabled)}experimentalCreateConnectionInjectorWithChannelzRef($,z,W=!1){if($===null||!($ instanceof aF1.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(this.channelzEnabled)this.listenerChildrenTracker.refChild(z);let Q=this.createHttp2Server($),G=new Set;return this.http2Servers.set(Q,{channelzRef:z,sessions:G,ownsChannelzRef:W}),{injectConnection:(K)=>{Q.emit("connection",K)},drain:(K)=>{var q,H;for(let F of G)this.closeSession(F);(H=(q=setTimeout(()=>{for(let F of G)F.destroy(XJ.constants.NGHTTP2_CANCEL)},K)).unref)===null||H===void 0||H.call(q)},destroy:()=>{this.closeServer(Q);for(let K of G)this.closeSession(K)}}}createConnectionInjector($){if($===null||!($ instanceof aF1.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");let z=this.registerInjectorToChannelz();return this.experimentalCreateConnectionInjectorWithChannelzRef($,z,!0)}closeServer($,z){this.trace("Closing server with address "+JSON.stringify($.address()));let W=this.http2Servers.get($);$.close(()=>{if(W&&W.ownsChannelzRef)this.listenerChildrenTracker.unrefChild(W.channelzRef),(0,g5.unregisterChannelzRef)(W.channelzRef);this.http2Servers.delete($),z===null||z===void 0||z()})}closeSession($,z){var W;this.trace("Closing session initiated by "+((W=$.socket)===null||W===void 0?void 0:W.remoteAddress));let Q=this.sessions.get($),G=()=>{if(Q)this.sessionChildrenTracker.unrefChild(Q.ref),(0,g5.unregisterChannelzRef)(Q.ref);z===null||z===void 0||z()};if($.closed)queueMicrotask(G);else $.close(G)}completeUnbind($){for(let z of $.listeningServers){let W=this.http2Servers.get(z);if(this.closeServer(z,()=>{$.listeningServers.delete(z)}),W)for(let Q of W.sessions)this.closeSession(Q)}this.boundPorts.delete($.mapKey)}unbind($){this.trace("unbind port="+$);let z=this.normalizePort($),W=(0,oY.splitHostPort)(z.path);if((W===null||W===void 0?void 0:W.port)===0)throw new Error("Cannot unbind port 0");let Q=this.boundPorts.get((0,oY.uriToString)(z));if(Q)if(this.trace("unbinding "+Q.mapKey+" originally bound as "+(0,oY.uriToString)(Q.originalUri)),Q.completionPromise)Q.cancelled=!0;else this.completeUnbind(Q)}drain($,z){var W,Q;this.trace("drain port="+$+" graceTimeMs="+z);let G=this.normalizePort($),K=(0,oY.splitHostPort)(G.path);if((K===null||K===void 0?void 0:K.port)===0)throw new Error("Cannot drain port 0");let q=this.boundPorts.get((0,oY.uriToString)(G));if(!q)return;let H=new Set;for(let F of q.listeningServers){let U=this.http2Servers.get(F);if(U)for(let D of U.sessions)H.add(D),this.closeSession(D,()=>{H.delete(D)})}(Q=(W=setTimeout(()=>{for(let F of H)F.destroy(XJ.constants.NGHTTP2_CANCEL)},z)).unref)===null||Q===void 0||Q.call(W)}forceShutdown(){for(let $ of this.boundPorts.values())$.cancelled=!0;this.boundPorts.clear();for(let $ of this.http2Servers.keys())this.closeServer($);this.sessions.forEach(($,z)=>{this.closeSession(z),z.destroy(XJ.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,g5.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register($,z,W,Q,G){if(this.handlers.has($))return!1;return this.handlers.set($,{func:z,serialize:W,deserialize:Q,type:G,path:$}),!0}unregister($){return this.handlers.delete($)}start(){if(this.http2Servers.size===0||[...this.http2Servers.keys()].every(($)=>!$.listening))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.started=!0}tryShutdown($){var z;let W=(K)=>{(0,g5.unregisterChannelzRef)(this.channelzRef),$(K)},Q=0;function G(){if(Q--,Q===0)W()}this.shutdown=!0;for(let[K,q]of this.http2Servers.entries()){Q++;let H=q.channelzRef.name;this.trace("Waiting for server "+H+" to close"),this.closeServer(K,()=>{this.trace("Server "+H+" finished closing"),G()});for(let F of q.sessions.keys()){Q++;let U=(z=F.socket)===null||z===void 0?void 0:z.remoteAddress;this.trace("Waiting for session "+U+" to close"),this.closeSession(F,()=>{this.trace("Session "+U+" finished closing"),G()})}}if(Q===0)W()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType($,z){let W=z[XJ.constants.HTTP2_HEADER_CONTENT_TYPE];if(typeof W!=="string"||!W.startsWith("application/grpc"))return $.respond({[XJ.constants.HTTP2_HEADER_STATUS]:XJ.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1;return!0}_retrieveHandler($){$h6("Received call to method "+$+" at address "+this.serverAddressString);let z=this.handlers.get($);if(z===void 0)return $h6("No handler registered for method "+$+". Sending UNIMPLEMENTED status."),null;return z}_respondWithError($,z,W=null){var Q,G;let K=Object.assign({"grpc-status":(Q=$.code)!==null&&Q!==void 0?Q:Q5.Status.INTERNAL,"grpc-message":$.details,[XJ.constants.HTTP2_HEADER_STATUS]:XJ.constants.HTTP_STATUS_OK,[XJ.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},(G=$.metadata)===null||G===void 0?void 0:G.toHttp2Headers());z.respond(K,{endStream:!0}),this.callTracker.addCallFailed(),W===null||W===void 0||W.streamTracker.addCallFailed()}_channelzHandler($,z,W){this.onStreamOpened(z);let Q=this.sessions.get(z.session);if(this.callTracker.addCallStarted(),Q===null||Q===void 0||Q.streamTracker.addCallStarted(),!this._verifyContentType(z,W)){this.callTracker.addCallFailed(),Q===null||Q===void 0||Q.streamTracker.addCallFailed();return}let G=W[Xh6],K=this._retrieveHandler(G);if(!K){this._respondWithError(tF1(G),z,Q);return}let q={addMessageSent:()=>{if(Q)Q.messagesSent+=1,Q.lastMessageSentTimestamp=new Date},addMessageReceived:()=>{if(Q)Q.messagesReceived+=1,Q.lastMessageReceivedTimestamp=new Date},onCallEnd:(F)=>{if(F.code===Q5.Status.OK)this.callTracker.addCallSucceeded();else this.callTracker.addCallFailed()},onStreamEnd:(F)=>{if(Q)if(F)Q.streamTracker.addCallSucceeded();else Q.streamTracker.addCallFailed()}},H=(0,Jh6.getServerInterceptingCall)([...$,...this.interceptors],z,W,q,K,this.options);if(!this._runHandlerForCall(H,K))this.callTracker.addCallFailed(),Q===null||Q===void 0||Q.streamTracker.addCallFailed(),H.sendStatus({code:Q5.Status.INTERNAL,details:`Unknown handler type: ${K.type}`})}_streamHandler($,z,W){if(this.onStreamOpened(z),this._verifyContentType(z,W)!==!0)return;let Q=W[Xh6],G=this._retrieveHandler(Q);if(!G){this._respondWithError(tF1(Q),z,null);return}let K=(0,Jh6.getServerInterceptingCall)([...$,...this.interceptors],z,W,null,G,this.options);if(!this._runHandlerForCall(K,G))K.sendStatus({code:Q5.Status.INTERNAL,details:`Unknown handler type: ${G.type}`})}_runHandlerForCall($,z){let{type:W}=z;if(W==="unary")nN5($,z);else if(W==="clientStream")iN5($,z);else if(W==="serverStream")oN5($,z);else if(W==="bidi")sN5($,z);else return!1;return!0}_setupHandlers($,z){if($===null)return;let W=$.address(),Q="null";if(W)if(typeof W==="string")Q=W;else Q=W.address+":"+W.port;this.serverAddressString=Q;let G=this.channelzEnabled?this._channelzHandler:this._streamHandler,K=this.channelzEnabled?this._channelzSessionHandler($):this._sessionHandler($);$.on("stream",G.bind(this,z)),$.on("session",K)}_sessionHandler($){return(z)=>{var W,Q;(W=this.http2Servers.get($))===null||W===void 0||W.sessions.add(z);let G=null,K=null,q=null,H=!1,F=this.enableIdleTimeout(z);if(this.maxConnectionAgeMs!==hA){let M=this.maxConnectionAgeMs/10,P=Math.random()*M*2-M;G=setTimeout(()=>{var R,f;H=!0,this.trace("Connection dropped by max connection age: "+((R=z.socket)===null||R===void 0?void 0:R.remoteAddress));try{z.goaway(XJ.constants.NGHTTP2_NO_ERROR,2147483647,Yh6)}catch(d){z.destroy();return}if(z.close(),this.maxConnectionAgeGraceMs!==hA)K=setTimeout(()=>{z.destroy()},this.maxConnectionAgeGraceMs),(f=K.unref)===null||f===void 0||f.call(K)},this.maxConnectionAgeMs+P),(Q=G.unref)===null||Q===void 0||Q.call(G)}let U=()=>{if(q)clearTimeout(q),q=null},D=()=>{return!z.destroyed&&this.keepaliveTimeMs<rF1&&this.keepaliveTimeMs>0},V,w=()=>{var M;if(!D())return;this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),q=setTimeout(()=>{U(),V()},this.keepaliveTimeMs),(M=q.unref)===null||M===void 0||M.call(q)};V=()=>{var M;if(!D())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let P="";try{if(!z.ping((f,d,v)=>{if(U(),f)this.keepaliveTrace("Ping failed with error: "+f.message),H=!0,z.close();else this.keepaliveTrace("Received ping response"),w()}))P="Ping returned false"}catch(R){P=(R instanceof Error?R.message:"")||"Unknown error"}if(P){this.keepaliveTrace("Ping send failed: "+P),this.trace("Connection dropped due to ping send error: "+P),H=!0,z.close();return}q=setTimeout(()=>{U(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),H=!0,z.close()},this.keepaliveTimeoutMs),(M=q.unref)===null||M===void 0||M.call(q)},w(),z.on("close",()=>{var M,P;if(!H)this.trace(`Connection dropped by client ${(M=z.socket)===null||M===void 0?void 0:M.remoteAddress}`);if(G)clearTimeout(G);if(K)clearTimeout(K);if(U(),F!==null)clearTimeout(F.timeout),this.sessionIdleTimeouts.delete(z);(P=this.http2Servers.get($))===null||P===void 0||P.sessions.delete(z)})}}_channelzSessionHandler($){return(z)=>{var W,Q,G,K;let q=(0,g5.registerChannelzSocket)((Q=(W=z.socket)===null||W===void 0?void 0:W.remoteAddress)!==null&&Q!==void 0?Q:"unknown",this.getChannelzSessionInfo.bind(this,z),this.channelzEnabled),H={ref:q,streamTracker:new g5.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};(G=this.http2Servers.get($))===null||G===void 0||G.sessions.add(z),this.sessions.set(z,H);let F=`${z.socket.remoteAddress}:${z.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+F),this.trace("Connection established by client "+F),this.sessionChildrenTracker.refChild(q);let U=null,D=null,V=null,w=!1,M=this.enableIdleTimeout(z);if(this.maxConnectionAgeMs!==hA){let v=this.maxConnectionAgeMs/10,l=Math.random()*v*2-v;U=setTimeout(()=>{var o;w=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+F);try{z.goaway(XJ.constants.NGHTTP2_NO_ERROR,2147483647,Yh6)}catch(S){z.destroy();return}if(z.close(),this.maxConnectionAgeGraceMs!==hA)D=setTimeout(()=>{z.destroy()},this.maxConnectionAgeGraceMs),(o=D.unref)===null||o===void 0||o.call(D)},this.maxConnectionAgeMs+l),(K=U.unref)===null||K===void 0||K.call(U)}let P=()=>{if(V)clearTimeout(V),V=null},R=()=>{return!z.destroyed&&this.keepaliveTimeMs<rF1&&this.keepaliveTimeMs>0},f,d=()=>{var v;if(!R())return;this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),V=setTimeout(()=>{P(),f()},this.keepaliveTimeMs),(v=V.unref)===null||v===void 0||v.call(V)};f=()=>{var v;if(!R())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let l="";try{if(!z.ping((S,i,u)=>{if(P(),S)this.keepaliveTrace("Ping failed with error: "+S.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+S.message+" return in "+i),w=!0,z.close();else this.keepaliveTrace("Received ping response"),d()}))l="Ping returned false"}catch(o){l=(o instanceof Error?o.message:"")||"Unknown error"}if(l){this.keepaliveTrace("Ping send failed: "+l),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+l),w=!0,z.close();return}H.keepAlivesSent+=1,V=setTimeout(()=>{P(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+F),w=!0,z.close()},this.keepaliveTimeoutMs),(v=V.unref)===null||v===void 0||v.call(V)},d(),z.on("close",()=>{var v;if(!w)this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+F);if(this.sessionChildrenTracker.unrefChild(q),(0,g5.unregisterChannelzRef)(q),U)clearTimeout(U);if(D)clearTimeout(D);if(P(),M!==null)clearTimeout(M.timeout),this.sessionIdleTimeouts.delete(z);(v=this.http2Servers.get($))===null||v===void 0||v.sessions.delete(z),this.sessions.delete(z)})}}enableIdleTimeout($){var z,W;if(this.sessionIdleTimeout>=Zh6)return null;let Q={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,$),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,$)};(W=(z=Q.timeout).unref)===null||W===void 0||W.call(z),this.sessionIdleTimeouts.set($,Q);let{socket:G}=$;return this.trace("Enable idle timeout for "+G.remoteAddress+":"+G.remotePort),Q}onIdleTimeout($,z){let{socket:W}=z,Q=$.sessionIdleTimeouts.get(z);if(Q!==void 0&&Q.activeStreams===0)if(Date.now()-Q.lastIdle>=$.sessionIdleTimeout)$.trace("Session idle timeout triggered for "+(W===null||W===void 0?void 0:W.remoteAddress)+":"+(W===null||W===void 0?void 0:W.remotePort)+" last idle at "+Q.lastIdle),$.closeSession(z);else Q.timeout.refresh()}onStreamOpened($){let z=$.session,W=this.sessionIdleTimeouts.get(z);if(W)W.activeStreams+=1,$.once("close",W.onClose)}onStreamClose($){var z,W;let Q=this.sessionIdleTimeouts.get($);if(Q){if(Q.activeStreams-=1,Q.activeStreams===0)Q.lastIdle=Date.now(),Q.timeout.refresh(),this.trace("Session onStreamClose"+((z=$.socket)===null||z===void 0?void 0:z.remoteAddress)+":"+((W=$.socket)===null||W===void 0?void 0:W.remotePort)+" at "+Q.lastIdle)}}},(()=>{let Y=typeof Symbol==="function"&&Symbol.metadata?Object.create(null):void 0;if(X=[cN5("Calling start() is no longer necessary. It can be safely omitted.")],xN5(J,null,X,{kind:"method",name:"start",static:!1,private:!1,access:{has:($)=>("start"in $),get:($)=>$.start},metadata:Y},null,Z),Y)Object.defineProperty(J,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:Y})})(),J})();mB.Server=pN5;async function nN5(J,Z){let X;function Y(W,Q,G,K){if(W){J.sendStatus((0,yA.serverErrorToStatus)(W,G));return}J.sendMessage(Q,()=>{J.sendStatus({code:Q5.Status.OK,details:"OK",metadata:G!==null&&G!==void 0?G:null})})}let $,z=null;J.start({onReceiveMetadata(W){$=W,J.startRead()},onReceiveMessage(W){if(z){J.sendStatus({code:Q5.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${Z.path}`,metadata:null});return}z=W,J.startRead()},onReceiveHalfClose(){if(!z){J.sendStatus({code:Q5.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${Z.path}`,metadata:null});return}X=new yA.ServerWritableStreamImpl(Z.path,J,$,z);try{Z.func(X,Y)}catch(W){J.sendStatus({code:Q5.Status.UNKNOWN,details:`Server method handler threw error ${W.message}`,metadata:null})}},onCancel(){if(X)X.cancelled=!0,X.emit("cancelled","cancelled")}})}function iN5(J,Z){let X;function Y($,z,W,Q){if($){J.sendStatus((0,yA.serverErrorToStatus)($,W));return}J.sendMessage(z,()=>{J.sendStatus({code:Q5.Status.OK,details:"OK",metadata:W!==null&&W!==void 0?W:null})})}J.start({onReceiveMetadata($){X=new yA.ServerDuplexStreamImpl(Z.path,J,$);try{Z.func(X,Y)}catch(z){J.sendStatus({code:Q5.Status.UNKNOWN,details:`Server method handler threw error ${z.message}`,metadata:null})}},onReceiveMessage($){X.push($)},onReceiveHalfClose(){X.push(null)},onCancel(){if(X)X.cancelled=!0,X.emit("cancelled","cancelled"),X.destroy()}})}function oN5(J,Z){let X,Y,$=null;J.start({onReceiveMetadata(z){Y=z,J.startRead()},onReceiveMessage(z){if($){J.sendStatus({code:Q5.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${Z.path}`,metadata:null});return}$=z,J.startRead()},onReceiveHalfClose(){if(!$){J.sendStatus({code:Q5.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${Z.path}`,metadata:null});return}X=new yA.ServerWritableStreamImpl(Z.path,J,Y,$);try{Z.func(X)}catch(z){J.sendStatus({code:Q5.Status.UNKNOWN,details:`Server method handler threw error ${z.message}`,metadata:null})}},onCancel(){if(X)X.cancelled=!0,X.emit("cancelled","cancelled"),X.destroy()}})}function sN5(J,Z){let X;J.start({onReceiveMetadata(Y){X=new yA.ServerDuplexStreamImpl(Z.path,J,Y);try{Z.func(X)}catch($){J.sendStatus({code:Q5.Status.UNKNOWN,details:`Server method handler threw error ${$.message}`,metadata:null})}},onReceiveMessage(Y){X.push(Y)},onReceiveHalfClose(){X.push(null)},onCancel(){if(X)X.cancelled=!0,X.emit("cancelled","cancelled"),X.destroy()}})}});var Kh6=B((Qh6)=>{Object.defineProperty(Qh6,"__esModule",{value:!0});Qh6.StatusBuilder=void 0;class Wh6{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(J){return this.code=J,this}withDetails(J){return this.details=J,this}withMetadata(J){return this.metadata=J,this}build(){let J={};if(this.code!==null)J.code=this.code;if(this.details!==null)J.details=this.details;if(this.metadata!==null)J.metadata=this.metadata;return J}}Qh6.StatusBuilder=Wh6});var eF1=B((qh6)=>{Object.defineProperty(qh6,"__esModule",{value:!0});qh6.msToDuration=aN5;qh6.durationToMs=rN5;qh6.isDuration=tN5;qh6.parseDuration=JP5;function aN5(J){return{seconds:J/1000|0,nanos:J%1000*1e6|0}}function rN5(J){return J.seconds*1000+J.nanos/1e6|0}function tN5(J){return typeof J.seconds==="number"&&typeof J.nanos==="number"}var eN5=/^(\d+)(?:\.(\d+))?s$/;function JP5(J){let Z=J.match(eN5);if(!Z)return null;return{seconds:Number.parseInt(Z[1],10),nanos:Z[2]?Number.parseInt(Z[2].padEnd(9,"0"),10):0}}});var kl=B((Ih6)=>{Object.defineProperty(Ih6,"__esModule",{value:!0});Ih6.LeafLoadBalancer=Ih6.PickFirstLoadBalancer=Ih6.PickFirstLoadBalancingConfig=void 0;Ih6.shuffled=Oh6;Ih6.setup=BP5;var JU1=oO(),A5=LX(),WD=kB(),Bh6=CX(),zP5=$8(),WP5=p6(),Hh6=CX(),Fh6=p("net"),QP5="pick_first";function fR(J){zP5.trace(WP5.LogVerbosity.DEBUG,QP5,J)}var kR="pick_first",GP5=250;class vA{constructor(J){this.shuffleAddressList=J}getLoadBalancerName(){return kR}toJsonObject(){return{[kR]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(J){if("shuffleAddressList"in J&&typeof J.shuffleAddressList!=="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new vA(J.shuffleAddressList===!0)}}Ih6.PickFirstLoadBalancingConfig=vA;class Uh6{constructor(J){this.subchannel=J}pick(J){return{pickResultType:WD.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function Oh6(J){let Z=J.slice();for(let X=Z.length-1;X>1;X--){let Y=Math.floor(Math.random()*(X+1)),$=Z[X];Z[X]=Z[Y],Z[Y]=$}return Z}function KP5(J){if(J.length===0)return[];let Z=[],X=[],Y=[],$=(0,Hh6.isTcpSubchannelAddress)(J[0])&&(0,Fh6.isIPv6)(J[0].host);for(let Q of J)if((0,Hh6.isTcpSubchannelAddress)(Q)&&(0,Fh6.isIPv6)(Q.host))X.push(Q);else Y.push(Q);let z=$?X:Y,W=$?Y:X;for(let Q=0;Q<Math.max(z.length,W.length);Q++){if(Q<z.length)Z.push(z[Q]);if(Q<W.length)Z.push(W[Q])}return Z}var Dh6="grpc-node.internal.pick-first.report_health_status";class fl{constructor(J){this.channelControlHelper=J,this.children=[],this.currentState=A5.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(Z,X,Y,$,z)=>{this.onSubchannelStateUpdate(Z,X,Y,z)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.stickyTransientFailureMode=!1,this.reportHealthStatus=!1,this.lastError=null,this.latestAddressList=null,this.latestOptions={},this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every((J)=>J.hasReportedTransientFailure)}resetChildrenReportedTF(){this.children.every((J)=>J.hasReportedTransientFailure=!1)}calculateAndReportNewState(){var J;if(this.currentPick)if(this.reportHealthStatus&&!this.currentPick.isHealthy()){let Z=`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`;this.updateState(A5.ConnectivityState.TRANSIENT_FAILURE,new WD.UnavailablePicker({details:Z}),Z)}else this.updateState(A5.ConnectivityState.READY,new Uh6(this.currentPick),null);else if(((J=this.latestAddressList)===null||J===void 0?void 0:J.length)===0){let Z=`No connection established. Last error: ${this.lastError}`;this.updateState(A5.ConnectivityState.TRANSIENT_FAILURE,new WD.UnavailablePicker({details:Z}),Z)}else if(this.children.length===0)this.updateState(A5.ConnectivityState.IDLE,new WD.QueuePicker(this),null);else if(this.stickyTransientFailureMode){let Z=`No connection established. Last error: ${this.lastError}`;this.updateState(A5.ConnectivityState.TRANSIENT_FAILURE,new WD.UnavailablePicker({details:Z}),Z)}else this.updateState(A5.ConnectivityState.CONNECTING,new WD.QueuePicker(this),null)}requestReresolution(){this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(!this.allChildrenHaveReportedTF())return;if(this.requestReresolution(),this.resetChildrenReportedTF(),this.stickyTransientFailureMode){this.calculateAndReportNewState();return}this.stickyTransientFailureMode=!0;for(let{subchannel:J}of this.children)J.startConnecting();this.calculateAndReportNewState()}removeCurrentPick(){if(this.currentPick!==null)this.currentPick.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick.unref(),this.currentPick=null}onSubchannelStateUpdate(J,Z,X,Y){var $;if(($=this.currentPick)===null||$===void 0?void 0:$.realSubchannelEquals(J)){if(X!==A5.ConnectivityState.READY)this.removeCurrentPick(),this.calculateAndReportNewState();return}for(let[z,W]of this.children.entries())if(J.realSubchannelEquals(W.subchannel)){if(X===A5.ConnectivityState.READY)this.pickSubchannel(W.subchannel);if(X===A5.ConnectivityState.TRANSIENT_FAILURE){if(W.hasReportedTransientFailure=!0,Y)this.lastError=Y;if(this.maybeEnterStickyTransientFailureMode(),z===this.currentSubchannelIndex)this.startNextSubchannelConnecting(z+1)}W.subchannel.startConnecting();return}}startNextSubchannelConnecting(J){clearTimeout(this.connectionDelayTimeout);for(let[Z,X]of this.children.entries())if(Z>=J){let Y=X.subchannel.getConnectivityState();if(Y===A5.ConnectivityState.IDLE||Y===A5.ConnectivityState.CONNECTING){this.startConnecting(Z);return}}this.maybeEnterStickyTransientFailureMode()}startConnecting(J){var Z,X;if(clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=J,this.children[J].subchannel.getConnectivityState()===A5.ConnectivityState.IDLE)fR("Start connecting to subchannel with address "+this.children[J].subchannel.getAddress()),process.nextTick(()=>{var Y;(Y=this.children[J])===null||Y===void 0||Y.subchannel.startConnecting()});this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(J+1)},GP5),(X=(Z=this.connectionDelayTimeout).unref)===null||X===void 0||X.call(Z)}pickSubchannel(J){fR("Pick subchannel with address "+J.getAddress()),this.stickyTransientFailureMode=!1,J.ref(),this.channelControlHelper.addChannelzChild(J.getChannelzRef()),this.removeCurrentPick(),this.resetSubchannelList(),J.addConnectivityStateListener(this.subchannelStateListener),J.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick=J,clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState()}updateState(J,Z,X){fR(A5.ConnectivityState[this.currentState]+" -> "+A5.ConnectivityState[J]),this.currentState=J,this.channelControlHelper.updateState(J,Z,X)}resetSubchannelList(){for(let J of this.children)J.subchannel.removeConnectivityStateListener(this.subchannelStateListener),J.subchannel.unref(),this.channelControlHelper.removeChannelzChild(J.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[]}connectToAddressList(J,Z){fR("connectToAddressList(["+J.map((Y)=>(0,Bh6.subchannelAddressToString)(Y))+"])");let X=J.map((Y)=>({subchannel:this.channelControlHelper.createSubchannel(Y,Z),hasReportedTransientFailure:!1}));for(let{subchannel:Y}of X)if(Y.getConnectivityState()===A5.ConnectivityState.READY){this.pickSubchannel(Y);return}for(let{subchannel:Y}of X)Y.ref(),this.channelControlHelper.addChannelzChild(Y.getChannelzRef());this.resetSubchannelList(),this.children=X;for(let{subchannel:Y}of this.children)Y.addConnectivityStateListener(this.subchannelStateListener);for(let Y of this.children)if(Y.subchannel.getConnectivityState()===A5.ConnectivityState.TRANSIENT_FAILURE)Y.hasReportedTransientFailure=!0;this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(J,Z,X){if(!(Z instanceof vA))return;if(this.reportHealthStatus=X[Dh6],Z.getShuffleAddressList())J=Oh6(J);let Y=[].concat(...J.map((z)=>z.addresses));if(fR("updateAddressList(["+Y.map((z)=>(0,Bh6.subchannelAddressToString)(z))+"])"),Y.length===0)this.lastError="No addresses resolved";let $=KP5(Y);this.latestAddressList=$,this.latestOptions=X,this.connectToAddressList($,X)}exitIdle(){if(this.currentState===A5.ConnectivityState.IDLE&&this.latestAddressList)this.connectToAddressList(this.latestAddressList,this.latestOptions)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return kR}}Ih6.PickFirstLoadBalancer=fl;var qP5=new vA(!1);class Vh6{constructor(J,Z,X){this.endpoint=J,this.options=X,this.latestState=A5.ConnectivityState.IDLE;let Y=(0,JU1.createChildChannelControlHelper)(Z,{updateState:($,z,W)=>{this.latestState=$,this.latestPicker=z,Z.updateState($,z,W)}});this.pickFirstBalancer=new fl(Y),this.latestPicker=new WD.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList([this.endpoint],qP5,Object.assign(Object.assign({},this.options),{[Dh6]:!0}))}updateEndpoint(J,Z){if(this.options=Z,this.endpoint=J,this.latestState!==A5.ConnectivityState.IDLE)this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}}Ih6.LeafLoadBalancer=Vh6;function BP5(){(0,JU1.registerLoadBalancerType)(kR,fl,vA),(0,JU1.registerDefaultLoadBalancerType)(kR)}});var Ph6=B((Mh6)=>{Object.defineProperty(Mh6,"__esModule",{value:!0});Mh6.FileWatcherCertificateProvider=void 0;var DP5=p("fs"),VP5=$8(),IP5=p6(),wP5=p("util"),AP5="certificate_provider";function bl(J){VP5.trace(IP5.LogVerbosity.DEBUG,AP5,J)}var ZU1=(0,wP5.promisify)(DP5.readFile);class Ah6{constructor(J){if(this.config=J,this.refreshTimer=null,this.fileResultPromise=null,this.latestCaUpdate=void 0,this.caListeners=new Set,this.latestIdentityUpdate=void 0,this.identityListeners=new Set,this.lastUpdateTime=null,J.certificateFile===void 0!==(J.privateKeyFile===void 0))throw new Error("certificateFile and privateKeyFile must be set or unset together");if(J.certificateFile===void 0&&J.caCertificateFile===void 0)throw new Error("At least one of certificateFile and caCertificateFile must be set");bl("File watcher constructed with config "+JSON.stringify(J))}updateCertificates(){if(this.fileResultPromise)return;this.fileResultPromise=Promise.allSettled([this.config.certificateFile?ZU1(this.config.certificateFile):Promise.reject(),this.config.privateKeyFile?ZU1(this.config.privateKeyFile):Promise.reject(),this.config.caCertificateFile?ZU1(this.config.caCertificateFile):Promise.reject()]),this.fileResultPromise.then(([J,Z,X])=>{if(!this.refreshTimer)return;if(bl("File watcher read certificates certificate "+J.status+", privateKey "+Z.status+", CA certificate "+X.status),this.lastUpdateTime=new Date,this.fileResultPromise=null,J.status==="fulfilled"&&Z.status==="fulfilled")this.latestIdentityUpdate={certificate:J.value,privateKey:Z.value};else this.latestIdentityUpdate=null;if(X.status==="fulfilled")this.latestCaUpdate={caCertificate:X.value};else this.latestCaUpdate=null;for(let Y of this.identityListeners)Y(this.latestIdentityUpdate);for(let Y of this.caListeners)Y(this.latestCaUpdate)}),bl("File watcher initiated certificate update")}maybeStartWatchingFiles(){if(!this.refreshTimer){let J=this.lastUpdateTime?new Date().getTime()-this.lastUpdateTime.getTime():1/0;if(J>this.config.refreshIntervalMs)this.updateCertificates();if(J>this.config.refreshIntervalMs*2)this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0;this.refreshTimer=setInterval(()=>this.updateCertificates(),this.config.refreshIntervalMs),bl("File watcher started watching")}}maybeStopWatchingFiles(){if(this.caListeners.size===0&&this.identityListeners.size===0){if(this.fileResultPromise=null,this.refreshTimer)clearInterval(this.refreshTimer),this.refreshTimer=null}}addCaCertificateListener(J){if(this.caListeners.add(J),this.maybeStartWatchingFiles(),this.latestCaUpdate!==void 0)process.nextTick(J,this.latestCaUpdate)}removeCaCertificateListener(J){this.caListeners.delete(J),this.maybeStopWatchingFiles()}addIdentityCertificateListener(J){if(this.identityListeners.add(J),this.maybeStartWatchingFiles(),this.latestIdentityUpdate!==void 0)process.nextTick(J,this.latestIdentityUpdate)}removeIdentityCertificateListener(J){this.identityListeners.delete(J),this.maybeStopWatchingFiles()}}Mh6.FileWatcherCertificateProvider=Ah6});var YU1=B(($4)=>{Object.defineProperty($4,"__esModule",{value:!0});$4.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=$4.createCertificateProviderChannelCredentials=$4.FileWatcherCertificateProvider=$4.createCertificateProviderServerCredentials=$4.createServerCredentialsWithInterceptors=$4.BaseSubchannelWrapper=$4.registerAdminService=$4.FilterStackFactory=$4.BaseFilter=$4.PickResultType=$4.QueuePicker=$4.UnavailablePicker=$4.ChildLoadBalancerHandler=$4.EndpointMap=$4.endpointHasAddress=$4.endpointToString=$4.subchannelAddressToString=$4.LeafLoadBalancer=$4.isLoadBalancerNameRegistered=$4.parseLoadBalancingConfig=$4.selectLbConfigFromList=$4.registerLoadBalancerType=$4.createChildChannelControlHelper=$4.BackoffTimeout=$4.parseDuration=$4.durationToMs=$4.splitHostPort=$4.uriToString=$4.createResolver=$4.registerResolver=$4.log=$4.trace=void 0;var Lh6=$8();Object.defineProperty($4,"trace",{enumerable:!0,get:function(){return Lh6.trace}});Object.defineProperty($4,"log",{enumerable:!0,get:function(){return Lh6.log}});var Ch6=BW();Object.defineProperty($4,"registerResolver",{enumerable:!0,get:function(){return Ch6.registerResolver}});Object.defineProperty($4,"createResolver",{enumerable:!0,get:function(){return Ch6.createResolver}});var jh6=e7();Object.defineProperty($4,"uriToString",{enumerable:!0,get:function(){return jh6.uriToString}});Object.defineProperty($4,"splitHostPort",{enumerable:!0,get:function(){return jh6.splitHostPort}});var Rh6=eF1();Object.defineProperty($4,"durationToMs",{enumerable:!0,get:function(){return Rh6.durationToMs}});Object.defineProperty($4,"parseDuration",{enumerable:!0,get:function(){return Rh6.parseDuration}});var MP5=ZR();Object.defineProperty($4,"BackoffTimeout",{enumerable:!0,get:function(){return MP5.BackoffTimeout}});var bR=oO();Object.defineProperty($4,"createChildChannelControlHelper",{enumerable:!0,get:function(){return bR.createChildChannelControlHelper}});Object.defineProperty($4,"registerLoadBalancerType",{enumerable:!0,get:function(){return bR.registerLoadBalancerType}});Object.defineProperty($4,"selectLbConfigFromList",{enumerable:!0,get:function(){return bR.selectLbConfigFromList}});Object.defineProperty($4,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return bR.parseLoadBalancingConfig}});Object.defineProperty($4,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return bR.isLoadBalancerNameRegistered}});var NP5=kl();Object.defineProperty($4,"LeafLoadBalancer",{enumerable:!0,get:function(){return NP5.LeafLoadBalancer}});var hl=CX();Object.defineProperty($4,"subchannelAddressToString",{enumerable:!0,get:function(){return hl.subchannelAddressToString}});Object.defineProperty($4,"endpointToString",{enumerable:!0,get:function(){return hl.endpointToString}});Object.defineProperty($4,"endpointHasAddress",{enumerable:!0,get:function(){return hl.endpointHasAddress}});Object.defineProperty($4,"EndpointMap",{enumerable:!0,get:function(){return hl.EndpointMap}});var PP5=yc();Object.defineProperty($4,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return PP5.ChildLoadBalancerHandler}});var XU1=kB();Object.defineProperty($4,"UnavailablePicker",{enumerable:!0,get:function(){return XU1.UnavailablePicker}});Object.defineProperty($4,"QueuePicker",{enumerable:!0,get:function(){return XU1.QueuePicker}});Object.defineProperty($4,"PickResultType",{enumerable:!0,get:function(){return XU1.PickResultType}});var LP5=SF1();Object.defineProperty($4,"BaseFilter",{enumerable:!0,get:function(){return LP5.BaseFilter}});var CP5=RF1();Object.defineProperty($4,"FilterStackFactory",{enumerable:!0,get:function(){return CP5.FilterStackFactory}});var jP5=xc();Object.defineProperty($4,"registerAdminService",{enumerable:!0,get:function(){return jP5.registerAdminService}});var RP5=Ll();Object.defineProperty($4,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return RP5.BaseSubchannelWrapper}});var Eh6=El();Object.defineProperty($4,"createServerCredentialsWithInterceptors",{enumerable:!0,get:function(){return Eh6.createServerCredentialsWithInterceptors}});Object.defineProperty($4,"createCertificateProviderServerCredentials",{enumerable:!0,get:function(){return Eh6.createCertificateProviderServerCredentials}});var EP5=Ph6();Object.defineProperty($4,"FileWatcherCertificateProvider",{enumerable:!0,get:function(){return EP5.FileWatcherCertificateProvider}});var SP5=ej();Object.defineProperty($4,"createCertificateProviderChannelCredentials",{enumerable:!0,get:function(){return SP5.createCertificateProviderChannelCredentials}});var TP5=yF1();Object.defineProperty($4,"SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX",{enumerable:!0,get:function(){return TP5.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX}})});var fh6=B((Th6)=>{Object.defineProperty(Th6,"__esModule",{value:!0});Th6.setup=bP5;var kP5=BW();class Sh6{constructor(J,Z,X){this.listener=Z,this.hasReturnedResult=!1,this.endpoints=[];let Y;if(J.authority==="")Y="/"+J.path;else Y=J.path;this.endpoints=[{addresses:[{path:Y}]}]}updateResolution(){if(!this.hasReturnedResult)this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.endpoints,null,null,null,{})}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(J){return"localhost"}}function bP5(){(0,kP5.registerResolver)("unix",Sh6)}});var vh6=B((yh6)=>{Object.defineProperty(yh6,"__esModule",{value:!0});yh6.setup=xP5;var kh6=p("net"),_l=p6(),$U1=i9(),bh6=BW(),hh6=e7(),_P5=$8(),yP5="ip_resolver";function _h6(J){_P5.trace(_l.LogVerbosity.DEBUG,yP5,J)}var zU1="ipv4",WU1="ipv6",vP5=443;class QU1{constructor(J,Z,X){var Y;this.listener=Z,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,_h6("Resolver constructed for target "+(0,hh6.uriToString)(J));let $=[];if(!(J.scheme===zU1||J.scheme===WU1)){this.error={code:_l.Status.UNAVAILABLE,details:`Unrecognized scheme ${J.scheme} in IP resolver`,metadata:new $U1.Metadata};return}let z=J.path.split(",");for(let W of z){let Q=(0,hh6.splitHostPort)(W);if(Q===null){this.error={code:_l.Status.UNAVAILABLE,details:`Failed to parse ${J.scheme} address ${W}`,metadata:new $U1.Metadata};return}if(J.scheme===zU1&&!(0,kh6.isIPv4)(Q.host)||J.scheme===WU1&&!(0,kh6.isIPv6)(Q.host)){this.error={code:_l.Status.UNAVAILABLE,details:`Failed to parse ${J.scheme} address ${W}`,metadata:new $U1.Metadata};return}$.push({host:Q.host,port:(Y=Q.port)!==null&&Y!==void 0?Y:vP5})}this.endpoints=$.map((W)=>({addresses:[W]})),_h6("Parsed "+J.scheme+" address list "+$)}updateResolution(){if(!this.hasReturnedResult)this.hasReturnedResult=!0,process.nextTick(()=>{if(this.error)this.listener.onError(this.error);else this.listener.onSuccessfulResolution(this.endpoints,null,null,null,{})})}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(J){return J.path.split(",")[0]}}function xP5(){(0,bh6.registerResolver)(zU1,QU1),(0,bh6.registerResolver)(WU1,QU1)}});var lh6=B((mh6)=>{Object.defineProperty(mh6,"__esModule",{value:!0});mh6.RoundRobinLoadBalancer=void 0;mh6.setup=lP5;var dh6=oO(),M7=LX(),GU1=kB(),dP5=$8(),uP5=p6(),xh6=CX(),mP5=kl(),cP5="round_robin";function gh6(J){dP5.trace(uP5.LogVerbosity.DEBUG,cP5,J)}var yl="round_robin";class KU1{getLoadBalancerName(){return yl}constructor(){}toJsonObject(){return{[yl]:{}}}static createFromJson(J){return new KU1}}class uh6{constructor(J,Z=0){this.children=J,this.nextIndex=Z}pick(J){let Z=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,Z.pick(J)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}}class qU1{constructor(J){this.channelControlHelper=J,this.children=[],this.currentState=M7.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,dh6.createChildChannelControlHelper)(J,{updateState:(Z,X,Y)=>{if(this.currentState===M7.ConnectivityState.READY&&Z!==M7.ConnectivityState.READY)this.channelControlHelper.requestReresolution();if(Y)this.lastError=Y;this.calculateAndUpdateState()}})}countChildrenWithState(J){return this.children.filter((Z)=>Z.getConnectivityState()===J).length}calculateAndUpdateState(){if(this.updatesPaused)return;if(this.countChildrenWithState(M7.ConnectivityState.READY)>0){let J=this.children.filter((X)=>X.getConnectivityState()===M7.ConnectivityState.READY),Z=0;if(this.currentReadyPicker!==null){let X=this.currentReadyPicker.peekNextEndpoint();if(Z=J.findIndex((Y)=>(0,xh6.endpointEqual)(Y.getEndpoint(),X)),Z<0)Z=0}this.updateState(M7.ConnectivityState.READY,new uh6(J.map((X)=>({endpoint:X.getEndpoint(),picker:X.getPicker()})),Z),null)}else if(this.countChildrenWithState(M7.ConnectivityState.CONNECTING)>0)this.updateState(M7.ConnectivityState.CONNECTING,new GU1.QueuePicker(this),null);else if(this.countChildrenWithState(M7.ConnectivityState.TRANSIENT_FAILURE)>0){let J=`round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(M7.ConnectivityState.TRANSIENT_FAILURE,new GU1.UnavailablePicker({details:J}),J)}else this.updateState(M7.ConnectivityState.IDLE,new GU1.QueuePicker(this),null);for(let J of this.children)if(J.getConnectivityState()===M7.ConnectivityState.IDLE)J.exitIdle()}updateState(J,Z,X){if(gh6(M7.ConnectivityState[this.currentState]+" -> "+M7.ConnectivityState[J]),J===M7.ConnectivityState.READY)this.currentReadyPicker=Z;else this.currentReadyPicker=null;this.currentState=J,this.channelControlHelper.updateState(J,Z,X)}resetSubchannelList(){for(let J of this.children)J.destroy()}updateAddressList(J,Z,X){this.resetSubchannelList(),gh6("Connect to endpoint list "+J.map(xh6.endpointToString)),this.updatesPaused=!0,this.children=J.map((Y)=>new mP5.LeafLoadBalancer(Y,this.childChannelControlHelper,X));for(let Y of this.children)Y.startConnecting();this.updatesPaused=!1,this.calculateAndUpdateState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return yl}}mh6.RoundRobinLoadBalancer=qU1;function lP5(){(0,dh6.registerLoadBalancerType)(yl,qU1,KU1)}});var th6=B((ah6)=>{var BU1;Object.defineProperty(ah6,"__esModule",{value:!0});ah6.OutlierDetectionLoadBalancer=ah6.OutlierDetectionLoadBalancingConfig=void 0;ah6.setup=XL5;var nP5=LX(),ph6=p6(),QD=eF1(),nh6=YU1(),iP5=oO(),oP5=yc(),sP5=kB(),HU1=CX(),aP5=Ll(),rP5=$8(),tP5="outlier_detection";function Q9(J){rP5.trace(ph6.LogVerbosity.DEBUG,tP5,J)}var OU1="outlier_detection",eP5=((BU1=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&BU1!==void 0?BU1:"true")==="true",JL5={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},ZL5={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function xA(J,Z,X,Y){if(Z in J&&J[Z]!==void 0&&typeof J[Z]!==X){let $=Y?`${Y}.${Z}`:Z;throw new Error(`outlier detection config ${$} parse error: expected ${X}, got ${typeof J[Z]}`)}}function FU1(J,Z,X){let Y=X?`${X}.${Z}`:Z;if(Z in J&&J[Z]!==void 0){if(!(0,QD.isDuration)(J[Z]))throw new Error(`outlier detection config ${Y} parse error: expected Duration, got ${typeof J[Z]}`);if(!(J[Z].seconds>=0&&J[Z].seconds<=315576000000&&J[Z].nanos>=0&&J[Z].nanos<=999999999))throw new Error(`outlier detection config ${Y} parse error: values out of range for non-negative Duaration`)}}function vl(J,Z,X){let Y=X?`${X}.${Z}`:Z;if(xA(J,Z,"number",X),Z in J&&J[Z]!==void 0&&!(J[Z]>=0&&J[Z]<=100))throw new Error(`outlier detection config ${Y} parse error: value out of range for percentage (0-100)`)}class hR{constructor(J,Z,X,Y,$,z,W){if(this.childPolicy=W,W.getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=J!==null&&J!==void 0?J:1e4,this.baseEjectionTimeMs=Z!==null&&Z!==void 0?Z:30000,this.maxEjectionTimeMs=X!==null&&X!==void 0?X:300000,this.maxEjectionPercent=Y!==null&&Y!==void 0?Y:10,this.successRateEjection=$?Object.assign(Object.assign({},JL5),$):null,this.failurePercentageEjection=z?Object.assign(Object.assign({},ZL5),z):null}getLoadBalancerName(){return OU1}toJsonObject(){var J,Z;return{outlier_detection:{interval:(0,QD.msToDuration)(this.intervalMs),base_ejection_time:(0,QD.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,QD.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:(J=this.successRateEjection)!==null&&J!==void 0?J:void 0,failure_percentage_ejection:(Z=this.failurePercentageEjection)!==null&&Z!==void 0?Z:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(J){var Z;if(FU1(J,"interval"),FU1(J,"base_ejection_time"),FU1(J,"max_ejection_time"),vl(J,"max_ejection_percent"),"success_rate_ejection"in J&&J.success_rate_ejection!==void 0){if(typeof J.success_rate_ejection!=="object")throw new Error("outlier detection config success_rate_ejection must be an object");xA(J.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),vl(J.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),xA(J.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),xA(J.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in J&&J.failure_percentage_ejection!==void 0){if(typeof J.failure_percentage_ejection!=="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");vl(J.failure_percentage_ejection,"threshold","failure_percentage_ejection"),vl(J.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),xA(J.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),xA(J.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in J)||!Array.isArray(J.child_policy))throw new Error("outlier detection config child_policy must be an array");let X=(0,iP5.selectLbConfigFromList)(J.child_policy);if(!X)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new hR(J.interval?(0,QD.durationToMs)(J.interval):null,J.base_ejection_time?(0,QD.durationToMs)(J.base_ejection_time):null,J.max_ejection_time?(0,QD.durationToMs)(J.max_ejection_time):null,(Z=J.max_ejection_percent)!==null&&Z!==void 0?Z:null,J.success_rate_ejection,J.failure_percentage_ejection,X)}}ah6.OutlierDetectionLoadBalancingConfig=hR;class ih6 extends aP5.BaseSubchannelWrapper{constructor(J,Z){super(J);this.mapEntry=Z,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0){if(this.mapEntry){let J=this.mapEntry.subchannelWrappers.indexOf(this);if(J>=0)this.mapEntry.subchannelWrappers.splice(J,1)}}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function UU1(){return{success:0,failure:0}}class oh6{constructor(){this.activeBucket=UU1(),this.inactiveBucket=UU1()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=UU1()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class sh6{constructor(J,Z){this.wrappedPicker=J,this.countCalls=Z}pick(J){let Z=this.wrappedPicker.pick(J);if(Z.pickResultType===sP5.PickResultType.COMPLETE){let X=Z.subchannel,Y=X.getMapEntry();if(Y){let $=Z.onCallEnded;if(this.countCalls)$=(z)=>{var W;if(z===ph6.Status.OK)Y.counter.addSuccess();else Y.counter.addFailure();(W=Z.onCallEnded)===null||W===void 0||W.call(Z,z)};return Object.assign(Object.assign({},Z),{subchannel:X.getWrappedSubchannel(),onCallEnded:$})}else return Object.assign(Object.assign({},Z),{subchannel:X.getWrappedSubchannel()})}else return Z}}class DU1{constructor(J){this.entryMap=new HU1.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new oP5.ChildLoadBalancerHandler((0,nh6.createChildChannelControlHelper)(J,{createSubchannel:(Z,X)=>{let Y=J.createSubchannel(Z,X),$=this.entryMap.getForSubchannelAddress(Z),z=new ih6(Y,$);if(($===null||$===void 0?void 0:$.currentEjectionTimestamp)!==null)z.eject();return $===null||$===void 0||$.subchannelWrappers.push(z),z},updateState:(Z,X,Y)=>{if(Z===nP5.ConnectivityState.READY)J.updateState(Z,new sh6(X,this.isCountingEnabled()),Y);else J.updateState(Z,X,Y)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let J=0;for(let Z of this.entryMap.values())if(Z.currentEjectionTimestamp!==null)J+=1;return J*100/this.entryMap.size}runSuccessRateCheck(J){if(!this.latestConfig)return;let Z=this.latestConfig.getSuccessRateEjectionConfig();if(!Z)return;Q9("Running success rate check");let X=Z.request_volume,Y=0,$=[];for(let[q,H]of this.entryMap.entries()){let F=H.counter.getLastSuccesses(),U=H.counter.getLastFailures();if(Q9("Stats for "+(0,HU1.endpointToString)(q)+": successes="+F+" failures="+U+" targetRequestVolume="+X),F+U>=X)Y+=1,$.push(F/(F+U))}if(Q9("Found "+Y+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+$+"]"),Y<Z.minimum_hosts)return;let z=$.reduce((q,H)=>q+H)/$.length,W=0;for(let q of $){let H=q-z;W+=H*H}let Q=W/$.length,G=Math.sqrt(Q),K=z-G*(Z.stdev_factor/1000);Q9("stdev="+G+" ejectionThreshold="+K);for(let[q,H]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let F=H.counter.getLastSuccesses(),U=H.counter.getLastFailures();if(F+U<X)continue;let D=F/(F+U);if(Q9("Checking candidate "+q+" successRate="+D),D<K){let V=Math.random()*100;if(Q9("Candidate "+q+" randomNumber="+V+" enforcement_percentage="+Z.enforcement_percentage),V<Z.enforcement_percentage)Q9("Ejecting candidate "+q),this.eject(H,J)}}}runFailurePercentageCheck(J){if(!this.latestConfig)return;let Z=this.latestConfig.getFailurePercentageEjectionConfig();if(!Z)return;Q9("Running failure percentage check. threshold="+Z.threshold+" request volume threshold="+Z.request_volume);let X=0;for(let Y of this.entryMap.values()){let $=Y.counter.getLastSuccesses(),z=Y.counter.getLastFailures();if($+z>=Z.request_volume)X+=1}if(X<Z.minimum_hosts)return;for(let[Y,$]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let z=$.counter.getLastSuccesses(),W=$.counter.getLastFailures();if(Q9("Candidate successes="+z+" failures="+W),z+W<Z.request_volume)continue;if(W*100/(W+z)>Z.threshold){let G=Math.random()*100;if(Q9("Candidate "+Y+" randomNumber="+G+" enforcement_percentage="+Z.enforcement_percentage),G<Z.enforcement_percentage)Q9("Ejecting candidate "+Y),this.eject($,J)}}}eject(J,Z){J.currentEjectionTimestamp=new Date,J.ejectionTimeMultiplier+=1;for(let X of J.subchannelWrappers)X.eject()}uneject(J){J.currentEjectionTimestamp=null;for(let Z of J.subchannelWrappers)Z.uneject()}switchAllBuckets(){for(let J of this.entryMap.values())J.counter.switchBuckets()}startTimer(J){var Z,X;this.ejectionTimer=setTimeout(()=>this.runChecks(),J),(X=(Z=this.ejectionTimer).unref)===null||X===void 0||X.call(Z)}runChecks(){let J=new Date;if(Q9("Ejection timer running"),this.switchAllBuckets(),!this.latestConfig)return;this.timerStartTime=J,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(J),this.runFailurePercentageCheck(J);for(let[Z,X]of this.entryMap.entries())if(X.currentEjectionTimestamp===null){if(X.ejectionTimeMultiplier>0)X.ejectionTimeMultiplier-=1}else{let Y=this.latestConfig.getBaseEjectionTimeMs(),$=this.latestConfig.getMaxEjectionTimeMs(),z=new Date(X.currentEjectionTimestamp.getTime());if(z.setMilliseconds(z.getMilliseconds()+Math.min(Y*X.ejectionTimeMultiplier,Math.max(Y,$))),z<new Date)Q9("Unejecting "+Z),this.uneject(X)}}updateAddressList(J,Z,X){if(!(Z instanceof hR))return;Q9("Received update with config: "+JSON.stringify(Z.toJsonObject(),void 0,2));for(let $ of J)if(!this.entryMap.has($))Q9("Adding map entry for "+(0,HU1.endpointToString)($)),this.entryMap.set($,{counter:new oh6,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]});this.entryMap.deleteMissing(J);let Y=Z.getChildPolicy();if(this.childBalancer.updateAddressList(J,Y,X),Z.getSuccessRateEjectionConfig()||Z.getFailurePercentageEjectionConfig())if(this.timerStartTime){Q9("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let $=Z.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer($)}else Q9("Starting new timer"),this.timerStartTime=new Date,this.startTimer(Z.getIntervalMs()),this.switchAllBuckets();else{Q9("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let $ of this.entryMap.values())this.uneject($),$.ejectionTimeMultiplier=0}this.latestConfig=Z}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return OU1}}ah6.OutlierDetectionLoadBalancer=DU1;function XL5(){if(eP5)(0,nh6.registerLoadBalancerType)(OU1,DU1,hR)}});var _R=B((l4)=>{Object.defineProperty(l4,"__esModule",{value:!0});l4.experimental=l4.ServerInterceptingCall=l4.ResponderBuilder=l4.ServerListenerBuilder=l4.addAdminServicesToServer=l4.getChannelzHandlers=l4.getChannelzServiceDefinition=l4.InterceptorConfigurationError=l4.InterceptingCall=l4.RequesterBuilder=l4.ListenerBuilder=l4.StatusBuilder=l4.getClientChannel=l4.ServerCredentials=l4.Server=l4.setLogVerbosity=l4.setLogger=l4.load=l4.loadObject=l4.CallCredentials=l4.ChannelCredentials=l4.waitForClientReady=l4.closeClient=l4.Channel=l4.makeGenericClientConstructor=l4.makeClientConstructor=l4.loadPackageDefinition=l4.Client=l4.compressionAlgorithms=l4.propagate=l4.connectivityState=l4.status=l4.logVerbosity=l4.Metadata=l4.credentials=void 0;var xl=Ec();Object.defineProperty(l4,"CallCredentials",{enumerable:!0,get:function(){return xl.CallCredentials}});var zL5=DH1();Object.defineProperty(l4,"Channel",{enumerable:!0,get:function(){return zL5.ChannelImplementation}});var WL5=EF1();Object.defineProperty(l4,"compressionAlgorithms",{enumerable:!0,get:function(){return WL5.CompressionAlgorithms}});var QL5=LX();Object.defineProperty(l4,"connectivityState",{enumerable:!0,get:function(){return QL5.ConnectivityState}});var gl=ej();Object.defineProperty(l4,"ChannelCredentials",{enumerable:!0,get:function(){return gl.ChannelCredentials}});var eh6=OH1();Object.defineProperty(l4,"Client",{enumerable:!0,get:function(){return eh6.Client}});var VU1=p6();Object.defineProperty(l4,"logVerbosity",{enumerable:!0,get:function(){return VU1.LogVerbosity}});Object.defineProperty(l4,"status",{enumerable:!0,get:function(){return VU1.Status}});Object.defineProperty(l4,"propagate",{enumerable:!0,get:function(){return VU1.Propagate}});var J_6=$8(),IU1=IH1();Object.defineProperty(l4,"loadPackageDefinition",{enumerable:!0,get:function(){return IU1.loadPackageDefinition}});Object.defineProperty(l4,"makeClientConstructor",{enumerable:!0,get:function(){return IU1.makeClientConstructor}});Object.defineProperty(l4,"makeGenericClientConstructor",{enumerable:!0,get:function(){return IU1.makeClientConstructor}});var GL5=i9();Object.defineProperty(l4,"Metadata",{enumerable:!0,get:function(){return GL5.Metadata}});var KL5=zh6();Object.defineProperty(l4,"Server",{enumerable:!0,get:function(){return KL5.Server}});var qL5=El();Object.defineProperty(l4,"ServerCredentials",{enumerable:!0,get:function(){return qL5.ServerCredentials}});var BL5=Kh6();Object.defineProperty(l4,"StatusBuilder",{enumerable:!0,get:function(){return BL5.StatusBuilder}});l4.credentials={combineChannelCredentials:(J,...Z)=>{return Z.reduce((X,Y)=>X.compose(Y),J)},combineCallCredentials:(J,...Z)=>{return Z.reduce((X,Y)=>X.compose(Y),J)},createInsecure:gl.ChannelCredentials.createInsecure,createSsl:gl.ChannelCredentials.createSsl,createFromSecureContext:gl.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:xl.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:xl.CallCredentials.createFromGoogleCredential,createEmpty:xl.CallCredentials.createEmpty};var HL5=(J)=>J.close();l4.closeClient=HL5;var FL5=(J,Z,X)=>J.waitForReady(Z,X);l4.waitForClientReady=FL5;var UL5=(J,Z)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};l4.loadObject=UL5;var OL5=(J,Z,X)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};l4.load=OL5;var DL5=(J)=>{J_6.setLogger(J)};l4.setLogger=DL5;var VL5=(J)=>{J_6.setLoggerVerbosity(J)};l4.setLogVerbosity=VL5;var IL5=(J)=>{return eh6.Client.prototype.getChannel.call(J)};l4.getClientChannel=IL5;var dl=FH1();Object.defineProperty(l4,"ListenerBuilder",{enumerable:!0,get:function(){return dl.ListenerBuilder}});Object.defineProperty(l4,"RequesterBuilder",{enumerable:!0,get:function(){return dl.RequesterBuilder}});Object.defineProperty(l4,"InterceptingCall",{enumerable:!0,get:function(){return dl.InterceptingCall}});Object.defineProperty(l4,"InterceptorConfigurationError",{enumerable:!0,get:function(){return dl.InterceptorConfigurationError}});var Z_6=XD();Object.defineProperty(l4,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return Z_6.getChannelzServiceDefinition}});Object.defineProperty(l4,"getChannelzHandlers",{enumerable:!0,get:function(){return Z_6.getChannelzHandlers}});var wL5=xc();Object.defineProperty(l4,"addAdminServicesToServer",{enumerable:!0,get:function(){return wL5.addAdminServicesToServer}});var wU1=sF1();Object.defineProperty(l4,"ServerListenerBuilder",{enumerable:!0,get:function(){return wU1.ServerListenerBuilder}});Object.defineProperty(l4,"ResponderBuilder",{enumerable:!0,get:function(){return wU1.ResponderBuilder}});Object.defineProperty(l4,"ServerInterceptingCall",{enumerable:!0,get:function(){return wU1.ServerInterceptingCall}});var AL5=YU1();l4.experimental=AL5;var ML5=VF1(),NL5=fh6(),PL5=vh6(),LL5=kl(),CL5=lh6(),jL5=th6(),RL5=XD();(()=>{ML5.setup(),NL5.setup(),PL5.setup(),LL5.setup(),CL5.setup(),jL5.setup(),RL5.setup()})()});var z_6=B((Y_6)=>{Object.defineProperty(Y_6,"__esModule",{value:!0});Y_6.createServiceClientConstructor=void 0;var yL5=_R();function vL5(J,Z){let X={export:{path:J,requestStream:!1,responseStream:!1,requestSerialize:(Y)=>{return Y},requestDeserialize:(Y)=>{return Y},responseSerialize:(Y)=>{return Y},responseDeserialize:(Y)=>{return Y}}};return yL5.makeGenericClientConstructor(X,Z)}Y_6.createServiceClientConstructor=vL5});var yR=B((W_6)=>{Object.defineProperty(W_6,"__esModule",{value:!0});W_6.createOtlpGrpcExporterTransport=W_6.GrpcExporterTransport=W_6.createEmptyMetadata=W_6.createSslCredentials=W_6.createInsecureCredentials=void 0;var xL5=0,gL5=2;function dL5(J){return J==="gzip"?gL5:xL5}function uL5(){let{credentials:J}=_R();return J.createInsecure()}W_6.createInsecureCredentials=uL5;function mL5(J,Z,X){let{credentials:Y}=_R();return Y.createSsl(J,Z,X)}W_6.createSslCredentials=mL5;function cL5(){let{Metadata:J}=_R();return new J}W_6.createEmptyMetadata=cL5;class AU1{_parameters;_client;_metadata;constructor(J){this._parameters=J}shutdown(){this._client?.close()}send(J,Z){let X=Buffer.from(J);if(this._client==null){let{createServiceClientConstructor:Y}=z_6();try{this._metadata=this._parameters.metadata()}catch(z){return Promise.resolve({status:"failure",error:z})}let $=Y(this._parameters.grpcPath,this._parameters.grpcName);try{this._client=new $(this._parameters.address,this._parameters.credentials(),{"grpc.default_compression_algorithm":dL5(this._parameters.compression)})}catch(z){return Promise.resolve({status:"failure",error:z})}}return new Promise((Y)=>{let $=Date.now()+Z;if(this._metadata==null)return Y({error:new Error("metadata was null"),status:"failure"});this._client.export(X,this._metadata,{deadline:$},(z,W)=>{if(z)Y({status:"failure",error:z});else Y({data:W,status:"success"})})})}}W_6.GrpcExporterTransport=AU1;function lL5(J){return new AU1(J)}W_6.createOtlpGrpcExporterTransport=lL5});var q_6=B((G_6)=>{Object.defineProperty(G_6,"__esModule",{value:!0});G_6.VERSION=void 0;G_6.VERSION="0.201.1"});var V_6=B((O_6)=>{Object.defineProperty(O_6,"__esModule",{value:!0});O_6.getOtlpGrpcDefaultConfiguration=O_6.mergeOtlpGrpcConfigurationWithDefaults=O_6.validateAndNormalizeUrl=void 0;var F_6=fJ(),vR=yR(),sL5=q_6(),aL5=p("url"),B_6=C();function U_6(J){if(J=J.trim(),!J.match(/^([\w]{1,8}):\/\//))J=`https://${J}`;let X=new aL5.URL(J);if(X.protocol==="unix:")return J;if(X.pathname&&X.pathname!=="/")B_6.diag.warn("URL path should not be set when using grpc, the path part of the URL will be ignored.");if(X.protocol!==""&&!X.protocol?.match(/^(http)s?:$/))B_6.diag.warn("URL protocol should be http(s)://. Using http://.");return X.host}O_6.validateAndNormalizeUrl=U_6;function H_6(J,Z){for(let[X,Y]of Object.entries(Z.getMap()))if(J.get(X).length<1)J.set(X,Y)}function rL5(J,Z,X){let Y=J.url??Z.url??X.url;return{...(0,F_6.mergeOtlpSharedConfigurationWithDefaults)(J,Z,X),metadata:()=>{let $=X.metadata();return H_6($,J.metadata?.().clone()??(0,vR.createEmptyMetadata)()),H_6($,Z.metadata?.()??(0,vR.createEmptyMetadata)()),$},url:U_6(Y),credentials:J.credentials??Z.credentials?.(Y)??X.credentials(Y)}}O_6.mergeOtlpGrpcConfigurationWithDefaults=rL5;function tL5(){return{...(0,F_6.getSharedConfigurationDefaults)(),metadata:()=>{let J=(0,vR.createEmptyMetadata)();return J.set("User-Agent",`OTel-OTLP-Exporter-JavaScript/${sL5.VERSION}`),J},url:"http://localhost:4317",credentials:(J)=>{if(J.startsWith("http://"))return()=>(0,vR.createInsecureCredentials)();else return()=>(0,vR.createSslCredentials)()}}}O_6.getOtlpGrpcDefaultConfiguration=tL5});var xR=B((I_6)=>{Object.defineProperty(I_6,"__esModule",{value:!0});I_6.isTracingSuppressed=I_6.unsuppressTracing=I_6.suppressTracing=void 0;var ZC5=C(),MU1=(0,ZC5.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function XC5(J){return J.setValue(MU1,!0)}I_6.suppressTracing=XC5;function YC5(J){return J.deleteValue(MU1)}I_6.unsuppressTracing=YC5;function $C5(J){return J.getValue(MU1)===!0}I_6.isTracingSuppressed=$C5});var NU1=B((A_6)=>{Object.defineProperty(A_6,"__esModule",{value:!0});A_6.BAGGAGE_MAX_TOTAL_LENGTH=A_6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=A_6.BAGGAGE_MAX_NAME_VALUE_PAIRS=A_6.BAGGAGE_HEADER=A_6.BAGGAGE_ITEMS_SEPARATOR=A_6.BAGGAGE_PROPERTIES_SEPARATOR=A_6.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;A_6.BAGGAGE_KEY_PAIR_SEPARATOR="=";A_6.BAGGAGE_PROPERTIES_SEPARATOR=";";A_6.BAGGAGE_ITEMS_SEPARATOR=",";A_6.BAGGAGE_HEADER="baggage";A_6.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;A_6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;A_6.BAGGAGE_MAX_TOTAL_LENGTH=8192});var PU1=B((P_6)=>{Object.defineProperty(P_6,"__esModule",{value:!0});P_6.parseKeyPairsIntoRecord=P_6.parsePairKeyValue=P_6.getKeyPairs=P_6.serializeKeyPairs=void 0;var FC5=C(),GD=NU1();function UC5(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?GD.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>GD.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}P_6.serializeKeyPairs=UC5;function OC5(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=GD.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}P_6.getKeyPairs=OC5;function N_6(J){let Z=J.split(GD.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(GD.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,FC5.baggageEntryMetadataFromString)(Z.join(GD.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}P_6.parsePairKeyValue=N_6;function DC5(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(GD.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=N_6(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}P_6.parseKeyPairsIntoRecord=DC5});var E_6=B((j_6)=>{Object.defineProperty(j_6,"__esModule",{value:!0});j_6.W3CBaggagePropagator=void 0;var LU1=C(),AC5=xR(),KD=NU1(),CU1=PU1();class C_6{inject(J,Z,X){let Y=LU1.propagation.getBaggage(J);if(!Y||(0,AC5.isTracingSuppressed)(J))return;let $=(0,CU1.getKeyPairs)(Y).filter((W)=>{return W.length<=KD.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,KD.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,CU1.serializeKeyPairs)($);if(z.length>0)X.set(Z,KD.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,KD.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(KD.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(KD.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,CU1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return LU1.propagation.setBaggage(J,LU1.propagation.createBaggage(z))}fields(){return[KD.BAGGAGE_HEADER]}}j_6.W3CBaggagePropagator=C_6});var k_6=B((T_6)=>{Object.defineProperty(T_6,"__esModule",{value:!0});T_6.AnchoredClock=void 0;class S_6{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}T_6.AnchoredClock=S_6});var g_6=B((v_6)=>{Object.defineProperty(v_6,"__esModule",{value:!0});v_6.isAttributeValue=v_6.isAttributeKey=v_6.sanitizeAttributes=void 0;var b_6=C();function MC5(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!h_6(X)){b_6.diag.warn(`Invalid attribute key: ${X}`);continue}if(!__6(Y)){b_6.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}v_6.sanitizeAttributes=MC5;function h_6(J){return typeof J==="string"&&J.length>0}v_6.isAttributeKey=h_6;function __6(J){if(J==null)return!0;if(Array.isArray(J))return NC5(J);return y_6(J)}v_6.isAttributeValue=__6;function NC5(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(y_6(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function y_6(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var jU1=B((d_6)=>{Object.defineProperty(d_6,"__esModule",{value:!0});d_6.loggingErrorHandler=void 0;var CC5=C();function jC5(){return(J)=>{CC5.diag.error(RC5(J))}}d_6.loggingErrorHandler=jC5;function RC5(J){if(typeof J==="string")return J;else return JSON.stringify(EC5(J))}function EC5(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var p_6=B((c_6)=>{Object.defineProperty(c_6,"__esModule",{value:!0});c_6.globalErrorHandler=c_6.setGlobalErrorHandler=void 0;var SC5=jU1(),m_6=(0,SC5.loggingErrorHandler)();function TC5(J){m_6=J}c_6.setGlobalErrorHandler=TC5;function fC5(J){try{m_6(J)}catch{}}c_6.globalErrorHandler=fC5});var r_6=B((s_6)=>{Object.defineProperty(s_6,"__esModule",{value:!0});s_6.getStringListFromEnv=s_6.getBooleanFromEnv=s_6.getStringFromEnv=s_6.getNumberFromEnv=void 0;var n_6=C(),i_6=p("util");function bC5(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){n_6.diag.warn(`Unknown value ${(0,i_6.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}s_6.getNumberFromEnv=bC5;function o_6(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}s_6.getStringFromEnv=o_6;function hC5(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return n_6.diag.warn(`Unknown value ${(0,i_6.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}s_6.getBooleanFromEnv=hC5;function _C5(J){return o_6(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}s_6.getStringListFromEnv=_C5});var Jy6=B((t_6)=>{Object.defineProperty(t_6,"__esModule",{value:!0});t_6._globalThis=void 0;t_6._globalThis=typeof globalThis==="object"?globalThis:global});var Yy6=B((Zy6)=>{Object.defineProperty(Zy6,"__esModule",{value:!0});Zy6.otperformance=void 0;var gC5=p("perf_hooks");Zy6.otperformance=gC5.performance});var Wy6=B(($y6)=>{Object.defineProperty($y6,"__esModule",{value:!0});$y6.VERSION=void 0;$y6.VERSION="2.0.1"});var Ky6=B((Qy6)=>{Object.defineProperty(Qy6,"__esModule",{value:!0});Qy6.ATTR_PROCESS_RUNTIME_NAME=void 0;Qy6.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var Hy6=B((qy6)=>{Object.defineProperty(qy6,"__esModule",{value:!0});qy6.SDK_INFO=void 0;var dC5=Wy6(),ul=j1(),uC5=Ky6();qy6.SDK_INFO={[ul.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[uC5.ATTR_PROCESS_RUNTIME_NAME]:"node",[ul.ATTR_TELEMETRY_SDK_LANGUAGE]:ul.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[ul.ATTR_TELEMETRY_SDK_VERSION]:dC5.VERSION}});var Oy6=B((Fy6)=>{Object.defineProperty(Fy6,"__esModule",{value:!0});Fy6.unrefTimer=void 0;function mC5(J){J.unref()}Fy6.unrefTimer=mC5});var Dy6=B((LW)=>{Object.defineProperty(LW,"__esModule",{value:!0});LW.unrefTimer=LW.SDK_INFO=LW.otperformance=LW._globalThis=LW.getStringListFromEnv=LW.getNumberFromEnv=LW.getBooleanFromEnv=LW.getStringFromEnv=void 0;var ml=r_6();Object.defineProperty(LW,"getStringFromEnv",{enumerable:!0,get:function(){return ml.getStringFromEnv}});Object.defineProperty(LW,"getBooleanFromEnv",{enumerable:!0,get:function(){return ml.getBooleanFromEnv}});Object.defineProperty(LW,"getNumberFromEnv",{enumerable:!0,get:function(){return ml.getNumberFromEnv}});Object.defineProperty(LW,"getStringListFromEnv",{enumerable:!0,get:function(){return ml.getStringListFromEnv}});var cC5=Jy6();Object.defineProperty(LW,"_globalThis",{enumerable:!0,get:function(){return cC5._globalThis}});var lC5=Yy6();Object.defineProperty(LW,"otperformance",{enumerable:!0,get:function(){return lC5.otperformance}});var pC5=Hy6();Object.defineProperty(LW,"SDK_INFO",{enumerable:!0,get:function(){return pC5.SDK_INFO}});var nC5=Oy6();Object.defineProperty(LW,"unrefTimer",{enumerable:!0,get:function(){return nC5.unrefTimer}})});var RU1=B((CW)=>{Object.defineProperty(CW,"__esModule",{value:!0});CW.getStringListFromEnv=CW.getNumberFromEnv=CW.getStringFromEnv=CW.getBooleanFromEnv=CW.unrefTimer=CW.otperformance=CW._globalThis=CW.SDK_INFO=void 0;var cB=Dy6();Object.defineProperty(CW,"SDK_INFO",{enumerable:!0,get:function(){return cB.SDK_INFO}});Object.defineProperty(CW,"_globalThis",{enumerable:!0,get:function(){return cB._globalThis}});Object.defineProperty(CW,"otperformance",{enumerable:!0,get:function(){return cB.otperformance}});Object.defineProperty(CW,"unrefTimer",{enumerable:!0,get:function(){return cB.unrefTimer}});Object.defineProperty(CW,"getBooleanFromEnv",{enumerable:!0,get:function(){return cB.getBooleanFromEnv}});Object.defineProperty(CW,"getStringFromEnv",{enumerable:!0,get:function(){return cB.getStringFromEnv}});Object.defineProperty(CW,"getNumberFromEnv",{enumerable:!0,get:function(){return cB.getNumberFromEnv}});Object.defineProperty(CW,"getStringListFromEnv",{enumerable:!0,get:function(){return cB.getStringListFromEnv}})});var Ny6=B((Ay6)=>{Object.defineProperty(Ay6,"__esModule",{value:!0});Ay6.addHrTimes=Ay6.isTimeInput=Ay6.isTimeInputHrTime=Ay6.hrTimeToMicroseconds=Ay6.hrTimeToMilliseconds=Ay6.hrTimeToNanoseconds=Ay6.hrTimeToTimeStamp=Ay6.hrTimeDuration=Ay6.timeInputToHrTime=Ay6.hrTime=Ay6.getTimeOrigin=Ay6.millisToHrTime=void 0;var EU1=RU1(),Vy6=9,sC5=6,aC5=Math.pow(10,sC5),cl=Math.pow(10,Vy6);function gR(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*aC5);return[X,Y]}Ay6.millisToHrTime=gR;function SU1(){let J=EU1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=EU1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}Ay6.getTimeOrigin=SU1;function Iy6(J){let Z=gR(SU1()),X=gR(typeof J==="number"?J:EU1.otperformance.now());return wy6(Z,X)}Ay6.hrTime=Iy6;function rC5(J){if(TU1(J))return J;else if(typeof J==="number")if(J<SU1())return Iy6(J);else return gR(J);else if(J instanceof Date)return gR(J.getTime());else throw TypeError("Invalid input type")}Ay6.timeInputToHrTime=rC5;function tC5(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=cl;return[X,Y]}Ay6.hrTimeDuration=tC5;function eC5(J){let Z=Vy6,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}Ay6.hrTimeToTimeStamp=eC5;function J25(J){return J[0]*cl+J[1]}Ay6.hrTimeToNanoseconds=J25;function Z25(J){return J[0]*1000+J[1]/1e6}Ay6.hrTimeToMilliseconds=Z25;function X25(J){return J[0]*1e6+J[1]/1000}Ay6.hrTimeToMicroseconds=X25;function TU1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}Ay6.isTimeInputHrTime=TU1;function Y25(J){return TU1(J)||typeof J==="number"||J instanceof Date}Ay6.isTimeInput=Y25;function wy6(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=cl)X[1]-=cl,X[0]+=1;return X}Ay6.addHrTimes=wy6});var Ly6=B((Py6)=>{Object.defineProperty(Py6,"__esModule",{value:!0});Py6.ExportResultCode=void 0;var O25;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(O25=Py6.ExportResultCode||(Py6.ExportResultCode={}))});var Sy6=B((Ry6)=>{Object.defineProperty(Ry6,"__esModule",{value:!0});Ry6.CompositePropagator=void 0;var Cy6=C();class jy6{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){Cy6.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){Cy6.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}Ry6.CompositePropagator=jy6});var ky6=B((Ty6)=>{Object.defineProperty(Ty6,"__esModule",{value:!0});Ty6.validateValue=Ty6.validateKey=void 0;var kU1="[_0-9a-z-*/]",D25=`[a-z]${kU1}{0,255}`,V25=`[a-z0-9]${kU1}{0,240}@[a-z]${kU1}{0,13}`,I25=new RegExp(`^(?:${D25}|${V25})$`),w25=/^[ -~]{0,255}[!-~]$/,A25=/,|=/;function M25(J){return I25.test(J)}Ty6.validateKey=M25;function N25(J){return w25.test(J)&&!A25.test(J)}Ty6.validateValue=N25});var hU1=B((vy6)=>{Object.defineProperty(vy6,"__esModule",{value:!0});vy6.TraceState=void 0;var by6=ky6(),hy6=32,L25=512,_y6=",",yy6="=";class bU1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+yy6+this.get(Z)),J},[]).join(_y6)}_parse(J){if(J.length>L25)return;if(this._internalState=J.split(_y6).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(yy6);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,by6.validateKey)(z)&&(0,by6.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>hy6)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,hy6))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new bU1;return J._internalState=new Map(this._internalState),J}}vy6.TraceState=bU1});var cy6=B((uy6)=>{Object.defineProperty(uy6,"__esModule",{value:!0});uy6.W3CTraceContextPropagator=uy6.parseTraceParent=uy6.TRACE_STATE_HEADER=uy6.TRACE_PARENT_HEADER=void 0;var ll=C(),C25=xR(),j25=hU1();uy6.TRACE_PARENT_HEADER="traceparent";uy6.TRACE_STATE_HEADER="tracestate";var R25="00",E25="(?!ff)[\\da-f]{2}",S25="(?![0]{32})[\\da-f]{32}",T25="(?![0]{16})[\\da-f]{16}",f25="[\\da-f]{2}",k25=new RegExp(`^\\s?(${E25})-(${S25})-(${T25})-(${f25})(-.*)?\\s?$`);function gy6(J){let Z=k25.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}uy6.parseTraceParent=gy6;class dy6{inject(J,Z,X){let Y=ll.trace.getSpanContext(J);if(!Y||(0,C25.isTracingSuppressed)(J)||!(0,ll.isSpanContextValid)(Y))return;let $=`${R25}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||ll.TraceFlags.NONE).toString(16)}`;if(X.set(Z,uy6.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,uy6.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,uy6.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=gy6($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,uy6.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new j25.TraceState(typeof Q==="string"?Q:void 0)}return ll.trace.setSpanContext(J,z)}fields(){return[uy6.TRACE_PARENT_HEADER,uy6.TRACE_STATE_HEADER]}}uy6.W3CTraceContextPropagator=dy6});var iy6=B((py6)=>{Object.defineProperty(py6,"__esModule",{value:!0});py6.getRPCMetadata=py6.deleteRPCMetadata=py6.setRPCMetadata=py6.RPCType=void 0;var h25=C(),_U1=(0,h25.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),_25;(function(J){J.HTTP="http"})(_25=py6.RPCType||(py6.RPCType={}));function y25(J,Z){return J.setValue(_U1,Z)}py6.setRPCMetadata=y25;function v25(J){return J.deleteValue(_U1)}py6.deleteRPCMetadata=v25;function x25(J){return J.getValue(_U1)}py6.getRPCMetadata=x25});var Jv6=B((ty6)=>{Object.defineProperty(ty6,"__esModule",{value:!0});ty6.isPlainObject=void 0;var u25="[object Object]",m25="[object Null]",c25="[object Undefined]",l25=Function.prototype,oy6=l25.toString,p25=oy6.call(Object),n25=Object.getPrototypeOf,sy6=Object.prototype,ay6=sy6.hasOwnProperty,qD=Symbol?Symbol.toStringTag:void 0,ry6=sy6.toString;function i25(J){if(!o25(J)||s25(J)!==u25)return!1;let Z=n25(J);if(Z===null)return!0;let X=ay6.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&oy6.call(X)===p25}ty6.isPlainObject=i25;function o25(J){return J!=null&&typeof J=="object"}function s25(J){if(J==null)return J===void 0?c25:m25;return qD&&qD in Object(J)?a25(J):r25(J)}function a25(J){let Z=ay6.call(J,qD),X=J[qD],Y=!1;try{J[qD]=void 0,Y=!0}catch(z){}let $=ry6.call(J);if(Y)if(Z)J[qD]=X;else delete J[qD];return $}function r25(J){return ry6.call(J)}});var Qv6=B((zv6)=>{Object.defineProperty(zv6,"__esModule",{value:!0});zv6.merge=void 0;var Zv6=Jv6(),t25=20;function e25(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=Yv6(Z,J.shift(),0,X);return Z}zv6.merge=e25;function yU1(J){if(ol(J))return J.slice();return J}function Yv6(J,Z,X=0,Y){let $;if(X>t25)return;if(X++,il(J)||il(Z)||$v6(Z))$=yU1(Z);else if(ol(J)){if($=J.slice(),ol(Z))for(let z=0,W=Z.length;z<W;z++)$.push(yU1(Z[z]));else if(dR(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=yU1(Z[G])}}}else if(dR(J))if(dR(Z)){if(!Jj5(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(il(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(Xv6(J,G,Y)||Xv6(Z,G,Y))delete $[G];else{if(dR(q)&&dR(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=Yv6($[G],K,X,Y)}}}}else $=Z;return $}function Xv6(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function ol(J){return Array.isArray(J)}function $v6(J){return typeof J==="function"}function dR(J){return!il(J)&&!ol(J)&&!$v6(J)&&typeof J==="object"}function il(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function Jj5(J,Z){if(!(0,Zv6.isPlainObject)(J)||!(0,Zv6.isPlainObject)(Z))return!1;return!0}});var qv6=B((Gv6)=>{Object.defineProperty(Gv6,"__esModule",{value:!0});Gv6.callWithTimeout=Gv6.TimeoutError=void 0;class sl extends Error{constructor(J){super(J);Object.setPrototypeOf(this,sl.prototype)}}Gv6.TimeoutError=sl;function Zj5(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new sl("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}Gv6.callWithTimeout=Zj5});var Uv6=B((Hv6)=>{Object.defineProperty(Hv6,"__esModule",{value:!0});Hv6.isUrlIgnored=Hv6.urlMatches=void 0;function Bv6(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}Hv6.urlMatches=Bv6;function Yj5(J,Z){if(!Z)return!1;for(let X of Z)if(Bv6(J,X))return!0;return!1}Hv6.isUrlIgnored=Yj5});var Iv6=B((Dv6)=>{Object.defineProperty(Dv6,"__esModule",{value:!0});Dv6.Deferred=void 0;class Ov6{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}Dv6.Deferred=Ov6});var Nv6=B((Av6)=>{Object.defineProperty(Av6,"__esModule",{value:!0});Av6.BindOnceFuture=void 0;var zj5=Iv6();class wv6{_callback;_that;_isCalled=!1;_deferred=new zj5.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}Av6.BindOnceFuture=wv6});var jv6=B((Lv6)=>{Object.defineProperty(Lv6,"__esModule",{value:!0});Lv6.diagLogLevelFromString=void 0;var WK=C(),Pv6={ALL:WK.DiagLogLevel.ALL,VERBOSE:WK.DiagLogLevel.VERBOSE,DEBUG:WK.DiagLogLevel.DEBUG,INFO:WK.DiagLogLevel.INFO,WARN:WK.DiagLogLevel.WARN,ERROR:WK.DiagLogLevel.ERROR,NONE:WK.DiagLogLevel.NONE};function Wj5(J){if(J==null)return;let Z=Pv6[J.toUpperCase()];if(Z==null)return WK.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(Pv6)}, using default`),WK.DiagLogLevel.INFO;return Z}Lv6.diagLogLevelFromString=Wj5});var Tv6=B((Ev6)=>{Object.defineProperty(Ev6,"__esModule",{value:!0});Ev6._export=void 0;var Rv6=C(),Qj5=xR();function Gj5(J,Z){return new Promise((X)=>{Rv6.context.with((0,Qj5.suppressTracing)(Rv6.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}Ev6._export=Gj5});var yv6=B((l0)=>{Object.defineProperty(l0,"__esModule",{value:!0});l0.internal=l0.diagLogLevelFromString=l0.BindOnceFuture=l0.urlMatches=l0.isUrlIgnored=l0.callWithTimeout=l0.TimeoutError=l0.merge=l0.TraceState=l0.unsuppressTracing=l0.suppressTracing=l0.isTracingSuppressed=l0.setRPCMetadata=l0.getRPCMetadata=l0.deleteRPCMetadata=l0.RPCType=l0.parseTraceParent=l0.W3CTraceContextPropagator=l0.TRACE_STATE_HEADER=l0.TRACE_PARENT_HEADER=l0.CompositePropagator=l0.unrefTimer=l0.otperformance=l0.getStringListFromEnv=l0.getNumberFromEnv=l0.getBooleanFromEnv=l0.getStringFromEnv=l0._globalThis=l0.SDK_INFO=l0.parseKeyPairsIntoRecord=l0.ExportResultCode=l0.timeInputToHrTime=l0.millisToHrTime=l0.isTimeInputHrTime=l0.isTimeInput=l0.hrTimeToTimeStamp=l0.hrTimeToNanoseconds=l0.hrTimeToMilliseconds=l0.hrTimeToMicroseconds=l0.hrTimeDuration=l0.hrTime=l0.getTimeOrigin=l0.addHrTimes=l0.loggingErrorHandler=l0.setGlobalErrorHandler=l0.globalErrorHandler=l0.sanitizeAttributes=l0.isAttributeValue=l0.AnchoredClock=l0.W3CBaggagePropagator=void 0;var Kj5=E_6();Object.defineProperty(l0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return Kj5.W3CBaggagePropagator}});var qj5=k_6();Object.defineProperty(l0,"AnchoredClock",{enumerable:!0,get:function(){return qj5.AnchoredClock}});var fv6=g_6();Object.defineProperty(l0,"isAttributeValue",{enumerable:!0,get:function(){return fv6.isAttributeValue}});Object.defineProperty(l0,"sanitizeAttributes",{enumerable:!0,get:function(){return fv6.sanitizeAttributes}});var kv6=p_6();Object.defineProperty(l0,"globalErrorHandler",{enumerable:!0,get:function(){return kv6.globalErrorHandler}});Object.defineProperty(l0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return kv6.setGlobalErrorHandler}});var Bj5=jU1();Object.defineProperty(l0,"loggingErrorHandler",{enumerable:!0,get:function(){return Bj5.loggingErrorHandler}});var SX=Ny6();Object.defineProperty(l0,"addHrTimes",{enumerable:!0,get:function(){return SX.addHrTimes}});Object.defineProperty(l0,"getTimeOrigin",{enumerable:!0,get:function(){return SX.getTimeOrigin}});Object.defineProperty(l0,"hrTime",{enumerable:!0,get:function(){return SX.hrTime}});Object.defineProperty(l0,"hrTimeDuration",{enumerable:!0,get:function(){return SX.hrTimeDuration}});Object.defineProperty(l0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return SX.hrTimeToMicroseconds}});Object.defineProperty(l0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return SX.hrTimeToMilliseconds}});Object.defineProperty(l0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return SX.hrTimeToNanoseconds}});Object.defineProperty(l0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return SX.hrTimeToTimeStamp}});Object.defineProperty(l0,"isTimeInput",{enumerable:!0,get:function(){return SX.isTimeInput}});Object.defineProperty(l0,"isTimeInputHrTime",{enumerable:!0,get:function(){return SX.isTimeInputHrTime}});Object.defineProperty(l0,"millisToHrTime",{enumerable:!0,get:function(){return SX.millisToHrTime}});Object.defineProperty(l0,"timeInputToHrTime",{enumerable:!0,get:function(){return SX.timeInputToHrTime}});var Hj5=Ly6();Object.defineProperty(l0,"ExportResultCode",{enumerable:!0,get:function(){return Hj5.ExportResultCode}});var Fj5=PU1();Object.defineProperty(l0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return Fj5.parseKeyPairsIntoRecord}});var lB=RU1();Object.defineProperty(l0,"SDK_INFO",{enumerable:!0,get:function(){return lB.SDK_INFO}});Object.defineProperty(l0,"_globalThis",{enumerable:!0,get:function(){return lB._globalThis}});Object.defineProperty(l0,"getStringFromEnv",{enumerable:!0,get:function(){return lB.getStringFromEnv}});Object.defineProperty(l0,"getBooleanFromEnv",{enumerable:!0,get:function(){return lB.getBooleanFromEnv}});Object.defineProperty(l0,"getNumberFromEnv",{enumerable:!0,get:function(){return lB.getNumberFromEnv}});Object.defineProperty(l0,"getStringListFromEnv",{enumerable:!0,get:function(){return lB.getStringListFromEnv}});Object.defineProperty(l0,"otperformance",{enumerable:!0,get:function(){return lB.otperformance}});Object.defineProperty(l0,"unrefTimer",{enumerable:!0,get:function(){return lB.unrefTimer}});var Uj5=Sy6();Object.defineProperty(l0,"CompositePropagator",{enumerable:!0,get:function(){return Uj5.CompositePropagator}});var al=cy6();Object.defineProperty(l0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return al.TRACE_PARENT_HEADER}});Object.defineProperty(l0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return al.TRACE_STATE_HEADER}});Object.defineProperty(l0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return al.W3CTraceContextPropagator}});Object.defineProperty(l0,"parseTraceParent",{enumerable:!0,get:function(){return al.parseTraceParent}});var rl=iy6();Object.defineProperty(l0,"RPCType",{enumerable:!0,get:function(){return rl.RPCType}});Object.defineProperty(l0,"deleteRPCMetadata",{enumerable:!0,get:function(){return rl.deleteRPCMetadata}});Object.defineProperty(l0,"getRPCMetadata",{enumerable:!0,get:function(){return rl.getRPCMetadata}});Object.defineProperty(l0,"setRPCMetadata",{enumerable:!0,get:function(){return rl.setRPCMetadata}});var vU1=xR();Object.defineProperty(l0,"isTracingSuppressed",{enumerable:!0,get:function(){return vU1.isTracingSuppressed}});Object.defineProperty(l0,"suppressTracing",{enumerable:!0,get:function(){return vU1.suppressTracing}});Object.defineProperty(l0,"unsuppressTracing",{enumerable:!0,get:function(){return vU1.unsuppressTracing}});var Oj5=hU1();Object.defineProperty(l0,"TraceState",{enumerable:!0,get:function(){return Oj5.TraceState}});var Dj5=Qv6();Object.defineProperty(l0,"merge",{enumerable:!0,get:function(){return Dj5.merge}});var bv6=qv6();Object.defineProperty(l0,"TimeoutError",{enumerable:!0,get:function(){return bv6.TimeoutError}});Object.defineProperty(l0,"callWithTimeout",{enumerable:!0,get:function(){return bv6.callWithTimeout}});var hv6=Uv6();Object.defineProperty(l0,"isUrlIgnored",{enumerable:!0,get:function(){return hv6.isUrlIgnored}});Object.defineProperty(l0,"urlMatches",{enumerable:!0,get:function(){return hv6.urlMatches}});var Vj5=Nv6();Object.defineProperty(l0,"BindOnceFuture",{enumerable:!0,get:function(){return Vj5.BindOnceFuture}});var Ij5=jv6();Object.defineProperty(l0,"diagLogLevelFromString",{enumerable:!0,get:function(){return Ij5.diagLogLevelFromString}});var wj5=Tv6();l0.internal={_export:wj5._export}});var cv6=B((uv6)=>{Object.defineProperty(uv6,"__esModule",{value:!0});uv6.getOtlpGrpcConfigurationFromEnv=void 0;var vv6=yv6(),uR=yR(),Aj5=xY(),Mj5=p("fs"),Nj5=p("path"),gv6=C();function xU1(J,Z){if(J!=null&&J!=="")return J;if(Z!=null&&Z!=="")return Z;return}function Pj5(J){let Z=process.env[`OTEL_EXPORTER_OTLP_${J}_HEADERS`]?.trim(),X=process.env.OTEL_EXPORTER_OTLP_HEADERS?.trim(),Y=(0,vv6.parseKeyPairsIntoRecord)(Z),$=(0,vv6.parseKeyPairsIntoRecord)(X);if(Object.keys(Y).length===0&&Object.keys($).length===0)return;let z=Object.assign({},$,Y),W=(0,uR.createEmptyMetadata)();for(let[Q,G]of Object.entries(z))W.set(Q,G);return W}function Lj5(J){let Z=Pj5(J);if(Z==null)return;return()=>Z}function Cj5(J){let Z=process.env[`OTEL_EXPORTER_OTLP_${J}_ENDPOINT`]?.trim(),X=process.env.OTEL_EXPORTER_OTLP_ENDPOINT?.trim();return xU1(Z,X)}function jj5(J){let Z=process.env[`OTEL_EXPORTER_OTLP_${J}_INSECURE`]?.toLowerCase().trim(),X=process.env.OTEL_EXPORTER_OTLP_INSECURE?.toLowerCase().trim();return xU1(Z,X)==="true"}function gU1(J,Z,X){let Y=process.env[J]?.trim(),$=process.env[Z]?.trim(),z=xU1(Y,$);if(z!=null)try{return Mj5.readFileSync(Nj5.resolve(process.cwd(),z))}catch{gv6.diag.warn(X);return}else return}function Rj5(J){return gU1(`OTEL_EXPORTER_OTLP_${J}_CLIENT_CERTIFICATE`,"OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE","Failed to read client certificate chain file")}function Ej5(J){return gU1(`OTEL_EXPORTER_OTLP_${J}_CLIENT_KEY`,"OTEL_EXPORTER_OTLP_CLIENT_KEY","Failed to read client certificate private key file")}function xv6(J){return gU1(`OTEL_EXPORTER_OTLP_${J}_CERTIFICATE`,"OTEL_EXPORTER_OTLP_CERTIFICATE","Failed to read root certificate file")}function dv6(J){let Z=Ej5(J),X=Rj5(J),Y=xv6(J),$=Z!=null&&X!=null;if(Y!=null&&!$)return gv6.diag.warn("Client key and certificate must both be provided, but one was missing - attempting to create credentials from just the root certificate"),(0,uR.createSslCredentials)(xv6(J));return(0,uR.createSslCredentials)(Y,Z,X)}function Sj5(J){if(jj5(J))return(0,uR.createInsecureCredentials)();return dv6(J)}function Tj5(J){return{...(0,Aj5.getSharedConfigurationFromEnvironment)(J),metadata:Lj5(J),url:Cj5(J),credentials:(Z)=>{if(Z.startsWith("http://"))return()=>{return(0,uR.createInsecureCredentials)()};else if(Z.startsWith("https://"))return()=>{return dv6(J)};return()=>{return Sj5(J)}}}}uv6.getOtlpGrpcConfigurationFromEnv=Tj5});var iv6=B((pv6)=>{Object.defineProperty(pv6,"__esModule",{value:!0});pv6.convertLegacyOtlpGrpcOptions=void 0;var fj5=C(),lv6=V_6(),kj5=yR(),bj5=cv6();function hj5(J,Z){if(J.headers)fj5.diag.warn("Headers cannot be set when using grpc");let X=J.credentials;return(0,lv6.mergeOtlpGrpcConfigurationWithDefaults)({url:J.url,metadata:()=>{return J.metadata??(0,kj5.createEmptyMetadata)()},compression:J.compression,timeoutMillis:J.timeoutMillis,concurrencyLimit:J.concurrencyLimit,credentials:X!=null?()=>X:void 0},(0,bj5.getOtlpGrpcConfigurationFromEnv)(Z),(0,lv6.getOtlpGrpcDefaultConfiguration)())}pv6.convertLegacyOtlpGrpcOptions=hj5});var av6=B((ov6)=>{Object.defineProperty(ov6,"__esModule",{value:!0});ov6.createOtlpGrpcExportDelegate=void 0;var _j5=fJ(),yj5=yR();function vj5(J,Z,X,Y){return(0,_j5.createOtlpNetworkExportDelegate)(J,Z,(0,yj5.createOtlpGrpcExporterTransport)({address:J.url,compression:J.compression,credentials:J.credentials,metadata:J.metadata,grpcName:X,grpcPath:Y}))}ov6.createOtlpGrpcExportDelegate=vj5});var el=B((tl)=>{Object.defineProperty(tl,"__esModule",{value:!0});tl.createOtlpGrpcExportDelegate=tl.convertLegacyOtlpGrpcOptions=void 0;var xj5=iv6();Object.defineProperty(tl,"convertLegacyOtlpGrpcOptions",{enumerable:!0,get:function(){return xj5.convertLegacyOtlpGrpcOptions}});var gj5=av6();Object.defineProperty(tl,"createOtlpGrpcExportDelegate",{enumerable:!0,get:function(){return gj5.createOtlpGrpcExportDelegate}})});var Zx6=B((ev6)=>{Object.defineProperty(ev6,"__esModule",{value:!0});ev6.OTLPLogExporter=void 0;var rv6=el(),uj5=qW(),mj5=fJ();class tv6 extends mj5.OTLPExporterBase{constructor(J={}){super((0,rv6.createOtlpGrpcExportDelegate)((0,rv6.convertLegacyOtlpGrpcOptions)(J,"LOGS"),uj5.ProtobufLogsSerializer,"LogsExportService","/opentelemetry.proto.collector.logs.v1.LogsService/Export"))}}ev6.OTLPLogExporter=tv6});var Xx6=B((dU1)=>{Object.defineProperty(dU1,"__esModule",{value:!0});dU1.OTLPLogExporter=void 0;var cj5=Zx6();Object.defineProperty(dU1,"OTLPLogExporter",{enumerable:!0,get:function(){return cj5.OTLPLogExporter}})});var zx6=B((Yx6)=>{Object.defineProperty(Yx6,"__esModule",{value:!0});Yx6.VERSION=void 0;Yx6.VERSION="0.201.1"});var qx6=B((Gx6)=>{Object.defineProperty(Gx6,"__esModule",{value:!0});Gx6.OTLPLogExporter=void 0;var pj5=fJ(),nj5=qW(),Wx6=xY(),ij5=zx6();class Qx6 extends pj5.OTLPExporterBase{constructor(J={}){super((0,Wx6.createOtlpHttpExportDelegate)((0,Wx6.convertLegacyHttpOptions)(J,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${ij5.VERSION}`,"Content-Type":"application/x-protobuf"}),nj5.ProtobufLogsSerializer))}}Gx6.OTLPLogExporter=Qx6});var Bx6=B((uU1)=>{Object.defineProperty(uU1,"__esModule",{value:!0});uU1.OTLPLogExporter=void 0;var oj5=qx6();Object.defineProperty(uU1,"OTLPLogExporter",{enumerable:!0,get:function(){return oj5.OTLPLogExporter}})});var Hx6=B((mU1)=>{Object.defineProperty(mU1,"__esModule",{value:!0});mU1.OTLPLogExporter=void 0;var aj5=Bx6();Object.defineProperty(mU1,"OTLPLogExporter",{enumerable:!0,get:function(){return aj5.OTLPLogExporter}})});var Fx6=B((cU1)=>{Object.defineProperty(cU1,"__esModule",{value:!0});cU1.OTLPLogExporter=void 0;var tj5=Hx6();Object.defineProperty(cU1,"OTLPLogExporter",{enumerable:!0,get:function(){return tj5.OTLPLogExporter}})});var mR=B((Ux6)=>{Object.defineProperty(Ux6,"__esModule",{value:!0});Ux6.isTracingSuppressed=Ux6.unsuppressTracing=Ux6.suppressTracing=void 0;var JR5=C(),lU1=(0,JR5.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function ZR5(J){return J.setValue(lU1,!0)}Ux6.suppressTracing=ZR5;function XR5(J){return J.deleteValue(lU1)}Ux6.unsuppressTracing=XR5;function YR5(J){return J.getValue(lU1)===!0}Ux6.isTracingSuppressed=YR5});var pU1=B((Dx6)=>{Object.defineProperty(Dx6,"__esModule",{value:!0});Dx6.BAGGAGE_MAX_TOTAL_LENGTH=Dx6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Dx6.BAGGAGE_MAX_NAME_VALUE_PAIRS=Dx6.BAGGAGE_HEADER=Dx6.BAGGAGE_ITEMS_SEPARATOR=Dx6.BAGGAGE_PROPERTIES_SEPARATOR=Dx6.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Dx6.BAGGAGE_KEY_PAIR_SEPARATOR="=";Dx6.BAGGAGE_PROPERTIES_SEPARATOR=";";Dx6.BAGGAGE_ITEMS_SEPARATOR=",";Dx6.BAGGAGE_HEADER="baggage";Dx6.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Dx6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Dx6.BAGGAGE_MAX_TOTAL_LENGTH=8192});var nU1=B((wx6)=>{Object.defineProperty(wx6,"__esModule",{value:!0});wx6.parseKeyPairsIntoRecord=wx6.parsePairKeyValue=wx6.getKeyPairs=wx6.serializeKeyPairs=void 0;var HR5=C(),BD=pU1();function FR5(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?BD.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>BD.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}wx6.serializeKeyPairs=FR5;function UR5(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=BD.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}wx6.getKeyPairs=UR5;function Ix6(J){let Z=J.split(BD.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(BD.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,HR5.baggageEntryMetadataFromString)(Z.join(BD.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}wx6.parsePairKeyValue=Ix6;function OR5(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(BD.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=Ix6(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}wx6.parseKeyPairsIntoRecord=OR5});var Lx6=B((Nx6)=>{Object.defineProperty(Nx6,"__esModule",{value:!0});Nx6.W3CBaggagePropagator=void 0;var iU1=C(),wR5=mR(),HD=pU1(),oU1=nU1();class Mx6{inject(J,Z,X){let Y=iU1.propagation.getBaggage(J);if(!Y||(0,wR5.isTracingSuppressed)(J))return;let $=(0,oU1.getKeyPairs)(Y).filter((W)=>{return W.length<=HD.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,HD.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,oU1.serializeKeyPairs)($);if(z.length>0)X.set(Z,HD.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,HD.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(HD.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(HD.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,oU1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return iU1.propagation.setBaggage(J,iU1.propagation.createBaggage(z))}fields(){return[HD.BAGGAGE_HEADER]}}Nx6.W3CBaggagePropagator=Mx6});var Ex6=B((jx6)=>{Object.defineProperty(jx6,"__esModule",{value:!0});jx6.AnchoredClock=void 0;class Cx6{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}jx6.AnchoredClock=Cx6});var _x6=B((bx6)=>{Object.defineProperty(bx6,"__esModule",{value:!0});bx6.isAttributeValue=bx6.isAttributeKey=bx6.sanitizeAttributes=void 0;var Sx6=C();function AR5(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!Tx6(X)){Sx6.diag.warn(`Invalid attribute key: ${X}`);continue}if(!fx6(Y)){Sx6.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}bx6.sanitizeAttributes=AR5;function Tx6(J){return typeof J==="string"&&J.length>0}bx6.isAttributeKey=Tx6;function fx6(J){if(J==null)return!0;if(Array.isArray(J))return MR5(J);return kx6(J)}bx6.isAttributeValue=fx6;function MR5(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(kx6(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function kx6(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var sU1=B((yx6)=>{Object.defineProperty(yx6,"__esModule",{value:!0});yx6.loggingErrorHandler=void 0;var LR5=C();function CR5(){return(J)=>{LR5.diag.error(jR5(J))}}yx6.loggingErrorHandler=CR5;function jR5(J){if(typeof J==="string")return J;else return JSON.stringify(RR5(J))}function RR5(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var ux6=B((gx6)=>{Object.defineProperty(gx6,"__esModule",{value:!0});gx6.globalErrorHandler=gx6.setGlobalErrorHandler=void 0;var ER5=sU1(),xx6=(0,ER5.loggingErrorHandler)();function SR5(J){xx6=J}gx6.setGlobalErrorHandler=SR5;function TR5(J){try{xx6(J)}catch{}}gx6.globalErrorHandler=TR5});var ix6=B((px6)=>{Object.defineProperty(px6,"__esModule",{value:!0});px6.getStringListFromEnv=px6.getBooleanFromEnv=px6.getStringFromEnv=px6.getNumberFromEnv=void 0;var mx6=C(),cx6=p("util");function kR5(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){mx6.diag.warn(`Unknown value ${(0,cx6.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}px6.getNumberFromEnv=kR5;function lx6(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}px6.getStringFromEnv=lx6;function bR5(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return mx6.diag.warn(`Unknown value ${(0,cx6.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}px6.getBooleanFromEnv=bR5;function hR5(J){return lx6(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}px6.getStringListFromEnv=hR5});var ax6=B((ox6)=>{Object.defineProperty(ox6,"__esModule",{value:!0});ox6._globalThis=void 0;ox6._globalThis=typeof globalThis==="object"?globalThis:global});var ex6=B((rx6)=>{Object.defineProperty(rx6,"__esModule",{value:!0});rx6.otperformance=void 0;var xR5=p("perf_hooks");rx6.otperformance=xR5.performance});var Xg6=B((Jg6)=>{Object.defineProperty(Jg6,"__esModule",{value:!0});Jg6.VERSION=void 0;Jg6.VERSION="2.0.1"});var zg6=B((Yg6)=>{Object.defineProperty(Yg6,"__esModule",{value:!0});Yg6.ATTR_PROCESS_RUNTIME_NAME=void 0;Yg6.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var Gg6=B((Wg6)=>{Object.defineProperty(Wg6,"__esModule",{value:!0});Wg6.SDK_INFO=void 0;var gR5=Xg6(),Jp=j1(),dR5=zg6();Wg6.SDK_INFO={[Jp.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[dR5.ATTR_PROCESS_RUNTIME_NAME]:"node",[Jp.ATTR_TELEMETRY_SDK_LANGUAGE]:Jp.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[Jp.ATTR_TELEMETRY_SDK_VERSION]:gR5.VERSION}});var Bg6=B((Kg6)=>{Object.defineProperty(Kg6,"__esModule",{value:!0});Kg6.unrefTimer=void 0;function uR5(J){J.unref()}Kg6.unrefTimer=uR5});var Hg6=B((jW)=>{Object.defineProperty(jW,"__esModule",{value:!0});jW.unrefTimer=jW.SDK_INFO=jW.otperformance=jW._globalThis=jW.getStringListFromEnv=jW.getNumberFromEnv=jW.getBooleanFromEnv=jW.getStringFromEnv=void 0;var Zp=ix6();Object.defineProperty(jW,"getStringFromEnv",{enumerable:!0,get:function(){return Zp.getStringFromEnv}});Object.defineProperty(jW,"getBooleanFromEnv",{enumerable:!0,get:function(){return Zp.getBooleanFromEnv}});Object.defineProperty(jW,"getNumberFromEnv",{enumerable:!0,get:function(){return Zp.getNumberFromEnv}});Object.defineProperty(jW,"getStringListFromEnv",{enumerable:!0,get:function(){return Zp.getStringListFromEnv}});var mR5=ax6();Object.defineProperty(jW,"_globalThis",{enumerable:!0,get:function(){return mR5._globalThis}});var cR5=ex6();Object.defineProperty(jW,"otperformance",{enumerable:!0,get:function(){return cR5.otperformance}});var lR5=Gg6();Object.defineProperty(jW,"SDK_INFO",{enumerable:!0,get:function(){return lR5.SDK_INFO}});var pR5=Bg6();Object.defineProperty(jW,"unrefTimer",{enumerable:!0,get:function(){return pR5.unrefTimer}})});var aU1=B((RW)=>{Object.defineProperty(RW,"__esModule",{value:!0});RW.getStringListFromEnv=RW.getNumberFromEnv=RW.getStringFromEnv=RW.getBooleanFromEnv=RW.unrefTimer=RW.otperformance=RW._globalThis=RW.SDK_INFO=void 0;var pB=Hg6();Object.defineProperty(RW,"SDK_INFO",{enumerable:!0,get:function(){return pB.SDK_INFO}});Object.defineProperty(RW,"_globalThis",{enumerable:!0,get:function(){return pB._globalThis}});Object.defineProperty(RW,"otperformance",{enumerable:!0,get:function(){return pB.otperformance}});Object.defineProperty(RW,"unrefTimer",{enumerable:!0,get:function(){return pB.unrefTimer}});Object.defineProperty(RW,"getBooleanFromEnv",{enumerable:!0,get:function(){return pB.getBooleanFromEnv}});Object.defineProperty(RW,"getStringFromEnv",{enumerable:!0,get:function(){return pB.getStringFromEnv}});Object.defineProperty(RW,"getNumberFromEnv",{enumerable:!0,get:function(){return pB.getNumberFromEnv}});Object.defineProperty(RW,"getStringListFromEnv",{enumerable:!0,get:function(){return pB.getStringListFromEnv}})});var Ig6=B((Dg6)=>{Object.defineProperty(Dg6,"__esModule",{value:!0});Dg6.addHrTimes=Dg6.isTimeInput=Dg6.isTimeInputHrTime=Dg6.hrTimeToMicroseconds=Dg6.hrTimeToMilliseconds=Dg6.hrTimeToNanoseconds=Dg6.hrTimeToTimeStamp=Dg6.hrTimeDuration=Dg6.timeInputToHrTime=Dg6.hrTime=Dg6.getTimeOrigin=Dg6.millisToHrTime=void 0;var rU1=aU1(),Fg6=9,oR5=6,sR5=Math.pow(10,oR5),Xp=Math.pow(10,Fg6);function cR(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*sR5);return[X,Y]}Dg6.millisToHrTime=cR;function tU1(){let J=rU1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=rU1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}Dg6.getTimeOrigin=tU1;function Ug6(J){let Z=cR(tU1()),X=cR(typeof J==="number"?J:rU1.otperformance.now());return Og6(Z,X)}Dg6.hrTime=Ug6;function aR5(J){if(eU1(J))return J;else if(typeof J==="number")if(J<tU1())return Ug6(J);else return cR(J);else if(J instanceof Date)return cR(J.getTime());else throw TypeError("Invalid input type")}Dg6.timeInputToHrTime=aR5;function rR5(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=Xp;return[X,Y]}Dg6.hrTimeDuration=rR5;function tR5(J){let Z=Fg6,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}Dg6.hrTimeToTimeStamp=tR5;function eR5(J){return J[0]*Xp+J[1]}Dg6.hrTimeToNanoseconds=eR5;function JE5(J){return J[0]*1000+J[1]/1e6}Dg6.hrTimeToMilliseconds=JE5;function ZE5(J){return J[0]*1e6+J[1]/1000}Dg6.hrTimeToMicroseconds=ZE5;function eU1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}Dg6.isTimeInputHrTime=eU1;function XE5(J){return eU1(J)||typeof J==="number"||J instanceof Date}Dg6.isTimeInput=XE5;function Og6(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=Xp)X[1]-=Xp,X[0]+=1;return X}Dg6.addHrTimes=Og6});var Ag6=B((wg6)=>{Object.defineProperty(wg6,"__esModule",{value:!0});wg6.ExportResultCode=void 0;var UE5;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(UE5=wg6.ExportResultCode||(wg6.ExportResultCode={}))});var Cg6=B((Pg6)=>{Object.defineProperty(Pg6,"__esModule",{value:!0});Pg6.CompositePropagator=void 0;var Mg6=C();class Ng6{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){Mg6.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){Mg6.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}Pg6.CompositePropagator=Ng6});var Eg6=B((jg6)=>{Object.defineProperty(jg6,"__esModule",{value:!0});jg6.validateValue=jg6.validateKey=void 0;var ZO1="[_0-9a-z-*/]",OE5=`[a-z]${ZO1}{0,255}`,DE5=`[a-z0-9]${ZO1}{0,240}@[a-z]${ZO1}{0,13}`,VE5=new RegExp(`^(?:${OE5}|${DE5})$`),IE5=/^[ -~]{0,255}[!-~]$/,wE5=/,|=/;function AE5(J){return VE5.test(J)}jg6.validateKey=AE5;function ME5(J){return IE5.test(J)&&!wE5.test(J)}jg6.validateValue=ME5});var YO1=B((bg6)=>{Object.defineProperty(bg6,"__esModule",{value:!0});bg6.TraceState=void 0;var Sg6=Eg6(),Tg6=32,PE5=512,fg6=",",kg6="=";class XO1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+kg6+this.get(Z)),J},[]).join(fg6)}_parse(J){if(J.length>PE5)return;if(this._internalState=J.split(fg6).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(kg6);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,Sg6.validateKey)(z)&&(0,Sg6.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>Tg6)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Tg6))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new XO1;return J._internalState=new Map(this._internalState),J}}bg6.TraceState=XO1});var gg6=B((vg6)=>{Object.defineProperty(vg6,"__esModule",{value:!0});vg6.W3CTraceContextPropagator=vg6.parseTraceParent=vg6.TRACE_STATE_HEADER=vg6.TRACE_PARENT_HEADER=void 0;var Yp=C(),LE5=mR(),CE5=YO1();vg6.TRACE_PARENT_HEADER="traceparent";vg6.TRACE_STATE_HEADER="tracestate";var jE5="00",RE5="(?!ff)[\\da-f]{2}",EE5="(?![0]{32})[\\da-f]{32}",SE5="(?![0]{16})[\\da-f]{16}",TE5="[\\da-f]{2}",fE5=new RegExp(`^\\s?(${RE5})-(${EE5})-(${SE5})-(${TE5})(-.*)?\\s?$`);function _g6(J){let Z=fE5.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}vg6.parseTraceParent=_g6;class yg6{inject(J,Z,X){let Y=Yp.trace.getSpanContext(J);if(!Y||(0,LE5.isTracingSuppressed)(J)||!(0,Yp.isSpanContextValid)(Y))return;let $=`${jE5}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||Yp.TraceFlags.NONE).toString(16)}`;if(X.set(Z,vg6.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,vg6.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,vg6.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=_g6($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,vg6.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new CE5.TraceState(typeof Q==="string"?Q:void 0)}return Yp.trace.setSpanContext(J,z)}fields(){return[vg6.TRACE_PARENT_HEADER,vg6.TRACE_STATE_HEADER]}}vg6.W3CTraceContextPropagator=yg6});var cg6=B((ug6)=>{Object.defineProperty(ug6,"__esModule",{value:!0});ug6.getRPCMetadata=ug6.deleteRPCMetadata=ug6.setRPCMetadata=ug6.RPCType=void 0;var bE5=C(),$O1=(0,bE5.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),hE5;(function(J){J.HTTP="http"})(hE5=ug6.RPCType||(ug6.RPCType={}));function _E5(J,Z){return J.setValue($O1,Z)}ug6.setRPCMetadata=_E5;function yE5(J){return J.deleteValue($O1)}ug6.deleteRPCMetadata=yE5;function vE5(J){return J.getValue($O1)}ug6.getRPCMetadata=vE5});var ag6=B((og6)=>{Object.defineProperty(og6,"__esModule",{value:!0});og6.isPlainObject=void 0;var dE5="[object Object]",uE5="[object Null]",mE5="[object Undefined]",cE5=Function.prototype,lg6=cE5.toString,lE5=lg6.call(Object),pE5=Object.getPrototypeOf,pg6=Object.prototype,ng6=pg6.hasOwnProperty,FD=Symbol?Symbol.toStringTag:void 0,ig6=pg6.toString;function nE5(J){if(!iE5(J)||oE5(J)!==dE5)return!1;let Z=pE5(J);if(Z===null)return!0;let X=ng6.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&lg6.call(X)===lE5}og6.isPlainObject=nE5;function iE5(J){return J!=null&&typeof J=="object"}function oE5(J){if(J==null)return J===void 0?mE5:uE5;return FD&&FD in Object(J)?sE5(J):aE5(J)}function sE5(J){let Z=ng6.call(J,FD),X=J[FD],Y=!1;try{J[FD]=void 0,Y=!0}catch(z){}let $=ig6.call(J);if(Y)if(Z)J[FD]=X;else delete J[FD];return $}function aE5(J){return ig6.call(J)}});var Yd6=B((Zd6)=>{Object.defineProperty(Zd6,"__esModule",{value:!0});Zd6.merge=void 0;var rg6=ag6(),rE5=20;function tE5(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=eg6(Z,J.shift(),0,X);return Z}Zd6.merge=tE5;function zO1(J){if(Qp(J))return J.slice();return J}function eg6(J,Z,X=0,Y){let $;if(X>rE5)return;if(X++,Wp(J)||Wp(Z)||Jd6(Z))$=zO1(Z);else if(Qp(J)){if($=J.slice(),Qp(Z))for(let z=0,W=Z.length;z<W;z++)$.push(zO1(Z[z]));else if(lR(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=zO1(Z[G])}}}else if(lR(J))if(lR(Z)){if(!eE5(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(Wp(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(tg6(J,G,Y)||tg6(Z,G,Y))delete $[G];else{if(lR(q)&&lR(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=eg6($[G],K,X,Y)}}}}else $=Z;return $}function tg6(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function Qp(J){return Array.isArray(J)}function Jd6(J){return typeof J==="function"}function lR(J){return!Wp(J)&&!Qp(J)&&!Jd6(J)&&typeof J==="object"}function Wp(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function eE5(J,Z){if(!(0,rg6.isPlainObject)(J)||!(0,rg6.isPlainObject)(Z))return!1;return!0}});var Wd6=B(($d6)=>{Object.defineProperty($d6,"__esModule",{value:!0});$d6.callWithTimeout=$d6.TimeoutError=void 0;class Gp extends Error{constructor(J){super(J);Object.setPrototypeOf(this,Gp.prototype)}}$d6.TimeoutError=Gp;function JS5(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new Gp("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}$d6.callWithTimeout=JS5});var qd6=B((Gd6)=>{Object.defineProperty(Gd6,"__esModule",{value:!0});Gd6.isUrlIgnored=Gd6.urlMatches=void 0;function Qd6(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}Gd6.urlMatches=Qd6;function XS5(J,Z){if(!Z)return!1;for(let X of Z)if(Qd6(J,X))return!0;return!1}Gd6.isUrlIgnored=XS5});var Ud6=B((Hd6)=>{Object.defineProperty(Hd6,"__esModule",{value:!0});Hd6.Deferred=void 0;class Bd6{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}Hd6.Deferred=Bd6});var Id6=B((Dd6)=>{Object.defineProperty(Dd6,"__esModule",{value:!0});Dd6.BindOnceFuture=void 0;var $S5=Ud6();class Od6{_callback;_that;_isCalled=!1;_deferred=new $S5.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}Dd6.BindOnceFuture=Od6});var Nd6=B((Ad6)=>{Object.defineProperty(Ad6,"__esModule",{value:!0});Ad6.diagLogLevelFromString=void 0;var QK=C(),wd6={ALL:QK.DiagLogLevel.ALL,VERBOSE:QK.DiagLogLevel.VERBOSE,DEBUG:QK.DiagLogLevel.DEBUG,INFO:QK.DiagLogLevel.INFO,WARN:QK.DiagLogLevel.WARN,ERROR:QK.DiagLogLevel.ERROR,NONE:QK.DiagLogLevel.NONE};function zS5(J){if(J==null)return;let Z=wd6[J.toUpperCase()];if(Z==null)return QK.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(wd6)}, using default`),QK.DiagLogLevel.INFO;return Z}Ad6.diagLogLevelFromString=zS5});var jd6=B((Ld6)=>{Object.defineProperty(Ld6,"__esModule",{value:!0});Ld6._export=void 0;var Pd6=C(),WS5=mR();function QS5(J,Z){return new Promise((X)=>{Pd6.context.with((0,WS5.suppressTracing)(Pd6.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}Ld6._export=QS5});var kd6=B((p0)=>{Object.defineProperty(p0,"__esModule",{value:!0});p0.internal=p0.diagLogLevelFromString=p0.BindOnceFuture=p0.urlMatches=p0.isUrlIgnored=p0.callWithTimeout=p0.TimeoutError=p0.merge=p0.TraceState=p0.unsuppressTracing=p0.suppressTracing=p0.isTracingSuppressed=p0.setRPCMetadata=p0.getRPCMetadata=p0.deleteRPCMetadata=p0.RPCType=p0.parseTraceParent=p0.W3CTraceContextPropagator=p0.TRACE_STATE_HEADER=p0.TRACE_PARENT_HEADER=p0.CompositePropagator=p0.unrefTimer=p0.otperformance=p0.getStringListFromEnv=p0.getNumberFromEnv=p0.getBooleanFromEnv=p0.getStringFromEnv=p0._globalThis=p0.SDK_INFO=p0.parseKeyPairsIntoRecord=p0.ExportResultCode=p0.timeInputToHrTime=p0.millisToHrTime=p0.isTimeInputHrTime=p0.isTimeInput=p0.hrTimeToTimeStamp=p0.hrTimeToNanoseconds=p0.hrTimeToMilliseconds=p0.hrTimeToMicroseconds=p0.hrTimeDuration=p0.hrTime=p0.getTimeOrigin=p0.addHrTimes=p0.loggingErrorHandler=p0.setGlobalErrorHandler=p0.globalErrorHandler=p0.sanitizeAttributes=p0.isAttributeValue=p0.AnchoredClock=p0.W3CBaggagePropagator=void 0;var GS5=Lx6();Object.defineProperty(p0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return GS5.W3CBaggagePropagator}});var KS5=Ex6();Object.defineProperty(p0,"AnchoredClock",{enumerable:!0,get:function(){return KS5.AnchoredClock}});var Rd6=_x6();Object.defineProperty(p0,"isAttributeValue",{enumerable:!0,get:function(){return Rd6.isAttributeValue}});Object.defineProperty(p0,"sanitizeAttributes",{enumerable:!0,get:function(){return Rd6.sanitizeAttributes}});var Ed6=ux6();Object.defineProperty(p0,"globalErrorHandler",{enumerable:!0,get:function(){return Ed6.globalErrorHandler}});Object.defineProperty(p0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return Ed6.setGlobalErrorHandler}});var qS5=sU1();Object.defineProperty(p0,"loggingErrorHandler",{enumerable:!0,get:function(){return qS5.loggingErrorHandler}});var TX=Ig6();Object.defineProperty(p0,"addHrTimes",{enumerable:!0,get:function(){return TX.addHrTimes}});Object.defineProperty(p0,"getTimeOrigin",{enumerable:!0,get:function(){return TX.getTimeOrigin}});Object.defineProperty(p0,"hrTime",{enumerable:!0,get:function(){return TX.hrTime}});Object.defineProperty(p0,"hrTimeDuration",{enumerable:!0,get:function(){return TX.hrTimeDuration}});Object.defineProperty(p0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return TX.hrTimeToMicroseconds}});Object.defineProperty(p0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return TX.hrTimeToMilliseconds}});Object.defineProperty(p0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return TX.hrTimeToNanoseconds}});Object.defineProperty(p0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return TX.hrTimeToTimeStamp}});Object.defineProperty(p0,"isTimeInput",{enumerable:!0,get:function(){return TX.isTimeInput}});Object.defineProperty(p0,"isTimeInputHrTime",{enumerable:!0,get:function(){return TX.isTimeInputHrTime}});Object.defineProperty(p0,"millisToHrTime",{enumerable:!0,get:function(){return TX.millisToHrTime}});Object.defineProperty(p0,"timeInputToHrTime",{enumerable:!0,get:function(){return TX.timeInputToHrTime}});var BS5=Ag6();Object.defineProperty(p0,"ExportResultCode",{enumerable:!0,get:function(){return BS5.ExportResultCode}});var HS5=nU1();Object.defineProperty(p0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return HS5.parseKeyPairsIntoRecord}});var nB=aU1();Object.defineProperty(p0,"SDK_INFO",{enumerable:!0,get:function(){return nB.SDK_INFO}});Object.defineProperty(p0,"_globalThis",{enumerable:!0,get:function(){return nB._globalThis}});Object.defineProperty(p0,"getStringFromEnv",{enumerable:!0,get:function(){return nB.getStringFromEnv}});Object.defineProperty(p0,"getBooleanFromEnv",{enumerable:!0,get:function(){return nB.getBooleanFromEnv}});Object.defineProperty(p0,"getNumberFromEnv",{enumerable:!0,get:function(){return nB.getNumberFromEnv}});Object.defineProperty(p0,"getStringListFromEnv",{enumerable:!0,get:function(){return nB.getStringListFromEnv}});Object.defineProperty(p0,"otperformance",{enumerable:!0,get:function(){return nB.otperformance}});Object.defineProperty(p0,"unrefTimer",{enumerable:!0,get:function(){return nB.unrefTimer}});var FS5=Cg6();Object.defineProperty(p0,"CompositePropagator",{enumerable:!0,get:function(){return FS5.CompositePropagator}});var Kp=gg6();Object.defineProperty(p0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return Kp.TRACE_PARENT_HEADER}});Object.defineProperty(p0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return Kp.TRACE_STATE_HEADER}});Object.defineProperty(p0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return Kp.W3CTraceContextPropagator}});Object.defineProperty(p0,"parseTraceParent",{enumerable:!0,get:function(){return Kp.parseTraceParent}});var qp=cg6();Object.defineProperty(p0,"RPCType",{enumerable:!0,get:function(){return qp.RPCType}});Object.defineProperty(p0,"deleteRPCMetadata",{enumerable:!0,get:function(){return qp.deleteRPCMetadata}});Object.defineProperty(p0,"getRPCMetadata",{enumerable:!0,get:function(){return qp.getRPCMetadata}});Object.defineProperty(p0,"setRPCMetadata",{enumerable:!0,get:function(){return qp.setRPCMetadata}});var WO1=mR();Object.defineProperty(p0,"isTracingSuppressed",{enumerable:!0,get:function(){return WO1.isTracingSuppressed}});Object.defineProperty(p0,"suppressTracing",{enumerable:!0,get:function(){return WO1.suppressTracing}});Object.defineProperty(p0,"unsuppressTracing",{enumerable:!0,get:function(){return WO1.unsuppressTracing}});var US5=YO1();Object.defineProperty(p0,"TraceState",{enumerable:!0,get:function(){return US5.TraceState}});var OS5=Yd6();Object.defineProperty(p0,"merge",{enumerable:!0,get:function(){return OS5.merge}});var Sd6=Wd6();Object.defineProperty(p0,"TimeoutError",{enumerable:!0,get:function(){return Sd6.TimeoutError}});Object.defineProperty(p0,"callWithTimeout",{enumerable:!0,get:function(){return Sd6.callWithTimeout}});var Td6=qd6();Object.defineProperty(p0,"isUrlIgnored",{enumerable:!0,get:function(){return Td6.isUrlIgnored}});Object.defineProperty(p0,"urlMatches",{enumerable:!0,get:function(){return Td6.urlMatches}});var DS5=Id6();Object.defineProperty(p0,"BindOnceFuture",{enumerable:!0,get:function(){return DS5.BindOnceFuture}});var VS5=Nd6();Object.defineProperty(p0,"diagLogLevelFromString",{enumerable:!0,get:function(){return VS5.diagLogLevelFromString}});var IS5=jd6();p0.internal={_export:IS5._export}});var GO1=B((bd6)=>{Object.defineProperty(bd6,"__esModule",{value:!0});bd6.AggregationTemporalityPreference=void 0;var wS5;(function(J){J[J.DELTA=0]="DELTA",J[J.CUMULATIVE=1]="CUMULATIVE",J[J.LOWMEMORY=2]="LOWMEMORY"})(wS5=bd6.AggregationTemporalityPreference||(bd6.AggregationTemporalityPreference={}))});var BO1=B((yd6)=>{Object.defineProperty(yd6,"__esModule",{value:!0});yd6.OTLPMetricExporterBase=yd6.LowMemoryTemporalitySelector=yd6.DeltaTemporalitySelector=yd6.CumulativeTemporalitySelector=void 0;var AS5=kd6(),M5=hO(),hd6=GO1(),MS5=fJ(),NS5=C(),PS5=()=>M5.AggregationTemporality.CUMULATIVE;yd6.CumulativeTemporalitySelector=PS5;var LS5=(J)=>{switch(J){case M5.InstrumentType.COUNTER:case M5.InstrumentType.OBSERVABLE_COUNTER:case M5.InstrumentType.GAUGE:case M5.InstrumentType.HISTOGRAM:case M5.InstrumentType.OBSERVABLE_GAUGE:return M5.AggregationTemporality.DELTA;case M5.InstrumentType.UP_DOWN_COUNTER:case M5.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return M5.AggregationTemporality.CUMULATIVE}};yd6.DeltaTemporalitySelector=LS5;var CS5=(J)=>{switch(J){case M5.InstrumentType.COUNTER:case M5.InstrumentType.HISTOGRAM:return M5.AggregationTemporality.DELTA;case M5.InstrumentType.GAUGE:case M5.InstrumentType.UP_DOWN_COUNTER:case M5.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:case M5.InstrumentType.OBSERVABLE_COUNTER:case M5.InstrumentType.OBSERVABLE_GAUGE:return M5.AggregationTemporality.CUMULATIVE}};yd6.LowMemoryTemporalitySelector=CS5;function jS5(){let J=((0,AS5.getStringFromEnv)("OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE")??"cumulative").toLowerCase();if(J==="cumulative")return yd6.CumulativeTemporalitySelector;if(J==="delta")return yd6.DeltaTemporalitySelector;if(J==="lowmemory")return yd6.LowMemoryTemporalitySelector;return NS5.diag.warn(`OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE is set to '${J}', but only 'cumulative' and 'delta' are allowed. Using default ('cumulative') instead.`),yd6.CumulativeTemporalitySelector}function RS5(J){if(J!=null){if(J===hd6.AggregationTemporalityPreference.DELTA)return yd6.DeltaTemporalitySelector;else if(J===hd6.AggregationTemporalityPreference.LOWMEMORY)return yd6.LowMemoryTemporalitySelector;return yd6.CumulativeTemporalitySelector}return jS5()}var ES5=Object.freeze({type:M5.AggregationType.DEFAULT});function SS5(J){return J?.aggregationPreference??(()=>ES5)}class _d6 extends MS5.OTLPExporterBase{_aggregationTemporalitySelector;_aggregationSelector;constructor(J,Z){super(J);this._aggregationSelector=SS5(Z),this._aggregationTemporalitySelector=RS5(Z?.temporalityPreference)}selectAggregation(J){return this._aggregationSelector(J)}selectAggregationTemporality(J){return this._aggregationTemporalitySelector(J)}}yd6.OTLPMetricExporterBase=_d6});var dd6=B((xd6)=>{Object.defineProperty(xd6,"__esModule",{value:!0});xd6.VERSION=void 0;xd6.VERSION="0.201.1"});var pd6=B((cd6)=>{Object.defineProperty(cd6,"__esModule",{value:!0});cd6.OTLPMetricExporter=void 0;var TS5=BO1(),fS5=qW(),kS5=dd6(),ud6=xY(),bS5={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${kS5.VERSION}`};class md6 extends TS5.OTLPMetricExporterBase{constructor(J){super((0,ud6.createOtlpHttpExportDelegate)((0,ud6.convertLegacyHttpOptions)(J??{},"METRICS","v1/metrics",{...bS5,"Content-Type":"application/json"}),fS5.JsonMetricsSerializer),J)}}cd6.OTLPMetricExporter=md6});var nd6=B((HO1)=>{Object.defineProperty(HO1,"__esModule",{value:!0});HO1.OTLPMetricExporter=void 0;var hS5=pd6();Object.defineProperty(HO1,"OTLPMetricExporter",{enumerable:!0,get:function(){return hS5.OTLPMetricExporter}})});var id6=B((FO1)=>{Object.defineProperty(FO1,"__esModule",{value:!0});FO1.OTLPMetricExporter=void 0;var yS5=nd6();Object.defineProperty(FO1,"OTLPMetricExporter",{enumerable:!0,get:function(){return yS5.OTLPMetricExporter}})});var Fp=B((iB)=>{Object.defineProperty(iB,"__esModule",{value:!0});iB.OTLPMetricExporterBase=iB.LowMemoryTemporalitySelector=iB.DeltaTemporalitySelector=iB.CumulativeTemporalitySelector=iB.AggregationTemporalityPreference=iB.OTLPMetricExporter=void 0;var xS5=id6();Object.defineProperty(iB,"OTLPMetricExporter",{enumerable:!0,get:function(){return xS5.OTLPMetricExporter}});var gS5=GO1();Object.defineProperty(iB,"AggregationTemporalityPreference",{enumerable:!0,get:function(){return gS5.AggregationTemporalityPreference}});var Hp=BO1();Object.defineProperty(iB,"CumulativeTemporalitySelector",{enumerable:!0,get:function(){return Hp.CumulativeTemporalitySelector}});Object.defineProperty(iB,"DeltaTemporalitySelector",{enumerable:!0,get:function(){return Hp.DeltaTemporalitySelector}});Object.defineProperty(iB,"LowMemoryTemporalitySelector",{enumerable:!0,get:function(){return Hp.LowMemoryTemporalitySelector}});Object.defineProperty(iB,"OTLPMetricExporterBase",{enumerable:!0,get:function(){return Hp.OTLPMetricExporterBase}})});var td6=B((ad6)=>{Object.defineProperty(ad6,"__esModule",{value:!0});ad6.OTLPMetricExporter=void 0;var uS5=Fp(),od6=el(),mS5=qW();class sd6 extends uS5.OTLPMetricExporterBase{constructor(J){super((0,od6.createOtlpGrpcExportDelegate)((0,od6.convertLegacyOtlpGrpcOptions)(J??{},"METRICS"),mS5.ProtobufMetricsSerializer,"MetricsExportService","/opentelemetry.proto.collector.metrics.v1.MetricsService/Export"),J)}}ad6.OTLPMetricExporter=sd6});var ed6=B((UO1)=>{Object.defineProperty(UO1,"__esModule",{value:!0});UO1.OTLPMetricExporter=void 0;var cS5=td6();Object.defineProperty(UO1,"OTLPMetricExporter",{enumerable:!0,get:function(){return cS5.OTLPMetricExporter}})});var Xu6=B((Ju6)=>{Object.defineProperty(Ju6,"__esModule",{value:!0});Ju6.VERSION=void 0;Ju6.VERSION="0.201.1"});var Qu6=B((zu6)=>{Object.defineProperty(zu6,"__esModule",{value:!0});zu6.OTLPMetricExporter=void 0;var pS5=Fp(),nS5=qW(),iS5=Xu6(),Yu6=xY();class $u6 extends pS5.OTLPMetricExporterBase{constructor(J){super((0,Yu6.createOtlpHttpExportDelegate)((0,Yu6.convertLegacyHttpOptions)(J??{},"METRICS","v1/metrics",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${iS5.VERSION}`,"Content-Type":"application/x-protobuf"}),nS5.ProtobufMetricsSerializer),J)}}zu6.OTLPMetricExporter=$u6});var Gu6=B((OO1)=>{Object.defineProperty(OO1,"__esModule",{value:!0});OO1.OTLPMetricExporter=void 0;var oS5=Qu6();Object.defineProperty(OO1,"OTLPMetricExporter",{enumerable:!0,get:function(){return oS5.OTLPMetricExporter}})});var pR=B((Ku6)=>{Object.defineProperty(Ku6,"__esModule",{value:!0});Ku6.isTracingSuppressed=Ku6.unsuppressTracing=Ku6.suppressTracing=void 0;var aS5=C(),DO1=(0,aS5.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function rS5(J){return J.setValue(DO1,!0)}Ku6.suppressTracing=rS5;function tS5(J){return J.deleteValue(DO1)}Ku6.unsuppressTracing=tS5;function eS5(J){return J.getValue(DO1)===!0}Ku6.isTracingSuppressed=eS5});var VO1=B((Bu6)=>{Object.defineProperty(Bu6,"__esModule",{value:!0});Bu6.BAGGAGE_MAX_TOTAL_LENGTH=Bu6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Bu6.BAGGAGE_MAX_NAME_VALUE_PAIRS=Bu6.BAGGAGE_HEADER=Bu6.BAGGAGE_ITEMS_SEPARATOR=Bu6.BAGGAGE_PROPERTIES_SEPARATOR=Bu6.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Bu6.BAGGAGE_KEY_PAIR_SEPARATOR="=";Bu6.BAGGAGE_PROPERTIES_SEPARATOR=";";Bu6.BAGGAGE_ITEMS_SEPARATOR=",";Bu6.BAGGAGE_HEADER="baggage";Bu6.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Bu6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Bu6.BAGGAGE_MAX_TOTAL_LENGTH=8192});var IO1=B((Uu6)=>{Object.defineProperty(Uu6,"__esModule",{value:!0});Uu6.parseKeyPairsIntoRecord=Uu6.parsePairKeyValue=Uu6.getKeyPairs=Uu6.serializeKeyPairs=void 0;var GT5=C(),UD=VO1();function KT5(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?UD.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>UD.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}Uu6.serializeKeyPairs=KT5;function qT5(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=UD.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}Uu6.getKeyPairs=qT5;function Fu6(J){let Z=J.split(UD.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(UD.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,GT5.baggageEntryMetadataFromString)(Z.join(UD.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}Uu6.parsePairKeyValue=Fu6;function BT5(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(UD.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=Fu6(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}Uu6.parseKeyPairsIntoRecord=BT5});var wu6=B((Vu6)=>{Object.defineProperty(Vu6,"__esModule",{value:!0});Vu6.W3CBaggagePropagator=void 0;var wO1=C(),OT5=pR(),OD=VO1(),AO1=IO1();class Du6{inject(J,Z,X){let Y=wO1.propagation.getBaggage(J);if(!Y||(0,OT5.isTracingSuppressed)(J))return;let $=(0,AO1.getKeyPairs)(Y).filter((W)=>{return W.length<=OD.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,OD.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,AO1.serializeKeyPairs)($);if(z.length>0)X.set(Z,OD.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,OD.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(OD.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(OD.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,AO1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return wO1.propagation.setBaggage(J,wO1.propagation.createBaggage(z))}fields(){return[OD.BAGGAGE_HEADER]}}Vu6.W3CBaggagePropagator=Du6});var Pu6=B((Mu6)=>{Object.defineProperty(Mu6,"__esModule",{value:!0});Mu6.AnchoredClock=void 0;class Au6{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}Mu6.AnchoredClock=Au6});var Tu6=B((Eu6)=>{Object.defineProperty(Eu6,"__esModule",{value:!0});Eu6.isAttributeValue=Eu6.isAttributeKey=Eu6.sanitizeAttributes=void 0;var Lu6=C();function DT5(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!Cu6(X)){Lu6.diag.warn(`Invalid attribute key: ${X}`);continue}if(!ju6(Y)){Lu6.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}Eu6.sanitizeAttributes=DT5;function Cu6(J){return typeof J==="string"&&J.length>0}Eu6.isAttributeKey=Cu6;function ju6(J){if(J==null)return!0;if(Array.isArray(J))return VT5(J);return Ru6(J)}Eu6.isAttributeValue=ju6;function VT5(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(Ru6(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function Ru6(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var MO1=B((fu6)=>{Object.defineProperty(fu6,"__esModule",{value:!0});fu6.loggingErrorHandler=void 0;var AT5=C();function MT5(){return(J)=>{AT5.diag.error(NT5(J))}}fu6.loggingErrorHandler=MT5;function NT5(J){if(typeof J==="string")return J;else return JSON.stringify(PT5(J))}function PT5(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var yu6=B((hu6)=>{Object.defineProperty(hu6,"__esModule",{value:!0});hu6.globalErrorHandler=hu6.setGlobalErrorHandler=void 0;var LT5=MO1(),bu6=(0,LT5.loggingErrorHandler)();function CT5(J){bu6=J}hu6.setGlobalErrorHandler=CT5;function jT5(J){try{bu6(J)}catch{}}hu6.globalErrorHandler=jT5});var mu6=B((du6)=>{Object.defineProperty(du6,"__esModule",{value:!0});du6.getStringListFromEnv=du6.getBooleanFromEnv=du6.getStringFromEnv=du6.getNumberFromEnv=void 0;var vu6=C(),xu6=p("util");function ET5(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){vu6.diag.warn(`Unknown value ${(0,xu6.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}du6.getNumberFromEnv=ET5;function gu6(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}du6.getStringFromEnv=gu6;function ST5(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return vu6.diag.warn(`Unknown value ${(0,xu6.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}du6.getBooleanFromEnv=ST5;function TT5(J){return gu6(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}du6.getStringListFromEnv=TT5});var pu6=B((cu6)=>{Object.defineProperty(cu6,"__esModule",{value:!0});cu6._globalThis=void 0;cu6._globalThis=typeof globalThis==="object"?globalThis:global});var ou6=B((nu6)=>{Object.defineProperty(nu6,"__esModule",{value:!0});nu6.otperformance=void 0;var hT5=p("perf_hooks");nu6.otperformance=hT5.performance});var ru6=B((su6)=>{Object.defineProperty(su6,"__esModule",{value:!0});su6.VERSION=void 0;su6.VERSION="2.0.1"});var Jm6=B((tu6)=>{Object.defineProperty(tu6,"__esModule",{value:!0});tu6.ATTR_PROCESS_RUNTIME_NAME=void 0;tu6.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var Ym6=B((Zm6)=>{Object.defineProperty(Zm6,"__esModule",{value:!0});Zm6.SDK_INFO=void 0;var _T5=ru6(),Up=j1(),yT5=Jm6();Zm6.SDK_INFO={[Up.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[yT5.ATTR_PROCESS_RUNTIME_NAME]:"node",[Up.ATTR_TELEMETRY_SDK_LANGUAGE]:Up.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[Up.ATTR_TELEMETRY_SDK_VERSION]:_T5.VERSION}});var Wm6=B(($m6)=>{Object.defineProperty($m6,"__esModule",{value:!0});$m6.unrefTimer=void 0;function vT5(J){J.unref()}$m6.unrefTimer=vT5});var Qm6=B((EW)=>{Object.defineProperty(EW,"__esModule",{value:!0});EW.unrefTimer=EW.SDK_INFO=EW.otperformance=EW._globalThis=EW.getStringListFromEnv=EW.getNumberFromEnv=EW.getBooleanFromEnv=EW.getStringFromEnv=void 0;var Op=mu6();Object.defineProperty(EW,"getStringFromEnv",{enumerable:!0,get:function(){return Op.getStringFromEnv}});Object.defineProperty(EW,"getBooleanFromEnv",{enumerable:!0,get:function(){return Op.getBooleanFromEnv}});Object.defineProperty(EW,"getNumberFromEnv",{enumerable:!0,get:function(){return Op.getNumberFromEnv}});Object.defineProperty(EW,"getStringListFromEnv",{enumerable:!0,get:function(){return Op.getStringListFromEnv}});var xT5=pu6();Object.defineProperty(EW,"_globalThis",{enumerable:!0,get:function(){return xT5._globalThis}});var gT5=ou6();Object.defineProperty(EW,"otperformance",{enumerable:!0,get:function(){return gT5.otperformance}});var dT5=Ym6();Object.defineProperty(EW,"SDK_INFO",{enumerable:!0,get:function(){return dT5.SDK_INFO}});var uT5=Wm6();Object.defineProperty(EW,"unrefTimer",{enumerable:!0,get:function(){return uT5.unrefTimer}})});var NO1=B((SW)=>{Object.defineProperty(SW,"__esModule",{value:!0});SW.getStringListFromEnv=SW.getNumberFromEnv=SW.getStringFromEnv=SW.getBooleanFromEnv=SW.unrefTimer=SW.otperformance=SW._globalThis=SW.SDK_INFO=void 0;var oB=Qm6();Object.defineProperty(SW,"SDK_INFO",{enumerable:!0,get:function(){return oB.SDK_INFO}});Object.defineProperty(SW,"_globalThis",{enumerable:!0,get:function(){return oB._globalThis}});Object.defineProperty(SW,"otperformance",{enumerable:!0,get:function(){return oB.otperformance}});Object.defineProperty(SW,"unrefTimer",{enumerable:!0,get:function(){return oB.unrefTimer}});Object.defineProperty(SW,"getBooleanFromEnv",{enumerable:!0,get:function(){return oB.getBooleanFromEnv}});Object.defineProperty(SW,"getStringFromEnv",{enumerable:!0,get:function(){return oB.getStringFromEnv}});Object.defineProperty(SW,"getNumberFromEnv",{enumerable:!0,get:function(){return oB.getNumberFromEnv}});Object.defineProperty(SW,"getStringListFromEnv",{enumerable:!0,get:function(){return oB.getStringListFromEnv}})});var Fm6=B((Bm6)=>{Object.defineProperty(Bm6,"__esModule",{value:!0});Bm6.addHrTimes=Bm6.isTimeInput=Bm6.isTimeInputHrTime=Bm6.hrTimeToMicroseconds=Bm6.hrTimeToMilliseconds=Bm6.hrTimeToNanoseconds=Bm6.hrTimeToTimeStamp=Bm6.hrTimeDuration=Bm6.timeInputToHrTime=Bm6.hrTime=Bm6.getTimeOrigin=Bm6.millisToHrTime=void 0;var PO1=NO1(),Gm6=9,lT5=6,pT5=Math.pow(10,lT5),Dp=Math.pow(10,Gm6);function nR(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*pT5);return[X,Y]}Bm6.millisToHrTime=nR;function LO1(){let J=PO1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=PO1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}Bm6.getTimeOrigin=LO1;function Km6(J){let Z=nR(LO1()),X=nR(typeof J==="number"?J:PO1.otperformance.now());return qm6(Z,X)}Bm6.hrTime=Km6;function nT5(J){if(CO1(J))return J;else if(typeof J==="number")if(J<LO1())return Km6(J);else return nR(J);else if(J instanceof Date)return nR(J.getTime());else throw TypeError("Invalid input type")}Bm6.timeInputToHrTime=nT5;function iT5(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=Dp;return[X,Y]}Bm6.hrTimeDuration=iT5;function oT5(J){let Z=Gm6,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}Bm6.hrTimeToTimeStamp=oT5;function sT5(J){return J[0]*Dp+J[1]}Bm6.hrTimeToNanoseconds=sT5;function aT5(J){return J[0]*1000+J[1]/1e6}Bm6.hrTimeToMilliseconds=aT5;function rT5(J){return J[0]*1e6+J[1]/1000}Bm6.hrTimeToMicroseconds=rT5;function CO1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}Bm6.isTimeInputHrTime=CO1;function tT5(J){return CO1(J)||typeof J==="number"||J instanceof Date}Bm6.isTimeInput=tT5;function qm6(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=Dp)X[1]-=Dp,X[0]+=1;return X}Bm6.addHrTimes=qm6});var Om6=B((Um6)=>{Object.defineProperty(Um6,"__esModule",{value:!0});Um6.ExportResultCode=void 0;var qf5;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(qf5=Um6.ExportResultCode||(Um6.ExportResultCode={}))});var Am6=B((Im6)=>{Object.defineProperty(Im6,"__esModule",{value:!0});Im6.CompositePropagator=void 0;var Dm6=C();class Vm6{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){Dm6.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){Dm6.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}Im6.CompositePropagator=Vm6});var Pm6=B((Mm6)=>{Object.defineProperty(Mm6,"__esModule",{value:!0});Mm6.validateValue=Mm6.validateKey=void 0;var RO1="[_0-9a-z-*/]",Bf5=`[a-z]${RO1}{0,255}`,Hf5=`[a-z0-9]${RO1}{0,240}@[a-z]${RO1}{0,13}`,Ff5=new RegExp(`^(?:${Bf5}|${Hf5})$`),Uf5=/^[ -~]{0,255}[!-~]$/,Of5=/,|=/;function Df5(J){return Ff5.test(J)}Mm6.validateKey=Df5;function Vf5(J){return Uf5.test(J)&&!Of5.test(J)}Mm6.validateValue=Vf5});var SO1=B((Em6)=>{Object.defineProperty(Em6,"__esModule",{value:!0});Em6.TraceState=void 0;var Lm6=Pm6(),Cm6=32,wf5=512,jm6=",",Rm6="=";class EO1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+Rm6+this.get(Z)),J},[]).join(jm6)}_parse(J){if(J.length>wf5)return;if(this._internalState=J.split(jm6).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(Rm6);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,Lm6.validateKey)(z)&&(0,Lm6.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>Cm6)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Cm6))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new EO1;return J._internalState=new Map(this._internalState),J}}Em6.TraceState=EO1});var hm6=B((km6)=>{Object.defineProperty(km6,"__esModule",{value:!0});km6.W3CTraceContextPropagator=km6.parseTraceParent=km6.TRACE_STATE_HEADER=km6.TRACE_PARENT_HEADER=void 0;var Vp=C(),Af5=pR(),Mf5=SO1();km6.TRACE_PARENT_HEADER="traceparent";km6.TRACE_STATE_HEADER="tracestate";var Nf5="00",Pf5="(?!ff)[\\da-f]{2}",Lf5="(?![0]{32})[\\da-f]{32}",Cf5="(?![0]{16})[\\da-f]{16}",jf5="[\\da-f]{2}",Rf5=new RegExp(`^\\s?(${Pf5})-(${Lf5})-(${Cf5})-(${jf5})(-.*)?\\s?$`);function Tm6(J){let Z=Rf5.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}km6.parseTraceParent=Tm6;class fm6{inject(J,Z,X){let Y=Vp.trace.getSpanContext(J);if(!Y||(0,Af5.isTracingSuppressed)(J)||!(0,Vp.isSpanContextValid)(Y))return;let $=`${Nf5}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||Vp.TraceFlags.NONE).toString(16)}`;if(X.set(Z,km6.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,km6.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,km6.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=Tm6($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,km6.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new Mf5.TraceState(typeof Q==="string"?Q:void 0)}return Vp.trace.setSpanContext(J,z)}fields(){return[km6.TRACE_PARENT_HEADER,km6.TRACE_STATE_HEADER]}}km6.W3CTraceContextPropagator=fm6});var xm6=B((ym6)=>{Object.defineProperty(ym6,"__esModule",{value:!0});ym6.getRPCMetadata=ym6.deleteRPCMetadata=ym6.setRPCMetadata=ym6.RPCType=void 0;var Sf5=C(),TO1=(0,Sf5.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),Tf5;(function(J){J.HTTP="http"})(Tf5=ym6.RPCType||(ym6.RPCType={}));function ff5(J,Z){return J.setValue(TO1,Z)}ym6.setRPCMetadata=ff5;function kf5(J){return J.deleteValue(TO1)}ym6.deleteRPCMetadata=kf5;function bf5(J){return J.getValue(TO1)}ym6.getRPCMetadata=bf5});var pm6=B((cm6)=>{Object.defineProperty(cm6,"__esModule",{value:!0});cm6.isPlainObject=void 0;var yf5="[object Object]",vf5="[object Null]",xf5="[object Undefined]",gf5=Function.prototype,gm6=gf5.toString,df5=gm6.call(Object),uf5=Object.getPrototypeOf,dm6=Object.prototype,um6=dm6.hasOwnProperty,DD=Symbol?Symbol.toStringTag:void 0,mm6=dm6.toString;function mf5(J){if(!cf5(J)||lf5(J)!==yf5)return!1;let Z=uf5(J);if(Z===null)return!0;let X=um6.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&gm6.call(X)===df5}cm6.isPlainObject=mf5;function cf5(J){return J!=null&&typeof J=="object"}function lf5(J){if(J==null)return J===void 0?xf5:vf5;return DD&&DD in Object(J)?pf5(J):nf5(J)}function pf5(J){let Z=um6.call(J,DD),X=J[DD],Y=!1;try{J[DD]=void 0,Y=!0}catch(z){}let $=mm6.call(J);if(Y)if(Z)J[DD]=X;else delete J[DD];return $}function nf5(J){return mm6.call(J)}});var tm6=B((am6)=>{Object.defineProperty(am6,"__esModule",{value:!0});am6.merge=void 0;var nm6=pm6(),if5=20;function of5(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=om6(Z,J.shift(),0,X);return Z}am6.merge=of5;function fO1(J){if(Mp(J))return J.slice();return J}function om6(J,Z,X=0,Y){let $;if(X>if5)return;if(X++,Ap(J)||Ap(Z)||sm6(Z))$=fO1(Z);else if(Mp(J)){if($=J.slice(),Mp(Z))for(let z=0,W=Z.length;z<W;z++)$.push(fO1(Z[z]));else if(iR(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=fO1(Z[G])}}}else if(iR(J))if(iR(Z)){if(!sf5(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(Ap(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(im6(J,G,Y)||im6(Z,G,Y))delete $[G];else{if(iR(q)&&iR(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=om6($[G],K,X,Y)}}}}else $=Z;return $}function im6(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function Mp(J){return Array.isArray(J)}function sm6(J){return typeof J==="function"}function iR(J){return!Ap(J)&&!Mp(J)&&!sm6(J)&&typeof J==="object"}function Ap(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function sf5(J,Z){if(!(0,nm6.isPlainObject)(J)||!(0,nm6.isPlainObject)(Z))return!1;return!0}});var Zc6=B((em6)=>{Object.defineProperty(em6,"__esModule",{value:!0});em6.callWithTimeout=em6.TimeoutError=void 0;class Np extends Error{constructor(J){super(J);Object.setPrototypeOf(this,Np.prototype)}}em6.TimeoutError=Np;function af5(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new Np("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}em6.callWithTimeout=af5});var zc6=B((Yc6)=>{Object.defineProperty(Yc6,"__esModule",{value:!0});Yc6.isUrlIgnored=Yc6.urlMatches=void 0;function Xc6(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}Yc6.urlMatches=Xc6;function tf5(J,Z){if(!Z)return!1;for(let X of Z)if(Xc6(J,X))return!0;return!1}Yc6.isUrlIgnored=tf5});var Kc6=B((Qc6)=>{Object.defineProperty(Qc6,"__esModule",{value:!0});Qc6.Deferred=void 0;class Wc6{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}Qc6.Deferred=Wc6});var Fc6=B((Bc6)=>{Object.defineProperty(Bc6,"__esModule",{value:!0});Bc6.BindOnceFuture=void 0;var Jk5=Kc6();class qc6{_callback;_that;_isCalled=!1;_deferred=new Jk5.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}Bc6.BindOnceFuture=qc6});var Vc6=B((Oc6)=>{Object.defineProperty(Oc6,"__esModule",{value:!0});Oc6.diagLogLevelFromString=void 0;var GK=C(),Uc6={ALL:GK.DiagLogLevel.ALL,VERBOSE:GK.DiagLogLevel.VERBOSE,DEBUG:GK.DiagLogLevel.DEBUG,INFO:GK.DiagLogLevel.INFO,WARN:GK.DiagLogLevel.WARN,ERROR:GK.DiagLogLevel.ERROR,NONE:GK.DiagLogLevel.NONE};function Zk5(J){if(J==null)return;let Z=Uc6[J.toUpperCase()];if(Z==null)return GK.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(Uc6)}, using default`),GK.DiagLogLevel.INFO;return Z}Oc6.diagLogLevelFromString=Zk5});var Mc6=B((wc6)=>{Object.defineProperty(wc6,"__esModule",{value:!0});wc6._export=void 0;var Ic6=C(),Xk5=pR();function Yk5(J,Z){return new Promise((X)=>{Ic6.context.with((0,Xk5.suppressTracing)(Ic6.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}wc6._export=Yk5});var bO1=B((n0)=>{Object.defineProperty(n0,"__esModule",{value:!0});n0.internal=n0.diagLogLevelFromString=n0.BindOnceFuture=n0.urlMatches=n0.isUrlIgnored=n0.callWithTimeout=n0.TimeoutError=n0.merge=n0.TraceState=n0.unsuppressTracing=n0.suppressTracing=n0.isTracingSuppressed=n0.setRPCMetadata=n0.getRPCMetadata=n0.deleteRPCMetadata=n0.RPCType=n0.parseTraceParent=n0.W3CTraceContextPropagator=n0.TRACE_STATE_HEADER=n0.TRACE_PARENT_HEADER=n0.CompositePropagator=n0.unrefTimer=n0.otperformance=n0.getStringListFromEnv=n0.getNumberFromEnv=n0.getBooleanFromEnv=n0.getStringFromEnv=n0._globalThis=n0.SDK_INFO=n0.parseKeyPairsIntoRecord=n0.ExportResultCode=n0.timeInputToHrTime=n0.millisToHrTime=n0.isTimeInputHrTime=n0.isTimeInput=n0.hrTimeToTimeStamp=n0.hrTimeToNanoseconds=n0.hrTimeToMilliseconds=n0.hrTimeToMicroseconds=n0.hrTimeDuration=n0.hrTime=n0.getTimeOrigin=n0.addHrTimes=n0.loggingErrorHandler=n0.setGlobalErrorHandler=n0.globalErrorHandler=n0.sanitizeAttributes=n0.isAttributeValue=n0.AnchoredClock=n0.W3CBaggagePropagator=void 0;var $k5=wu6();Object.defineProperty(n0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return $k5.W3CBaggagePropagator}});var zk5=Pu6();Object.defineProperty(n0,"AnchoredClock",{enumerable:!0,get:function(){return zk5.AnchoredClock}});var Nc6=Tu6();Object.defineProperty(n0,"isAttributeValue",{enumerable:!0,get:function(){return Nc6.isAttributeValue}});Object.defineProperty(n0,"sanitizeAttributes",{enumerable:!0,get:function(){return Nc6.sanitizeAttributes}});var Pc6=yu6();Object.defineProperty(n0,"globalErrorHandler",{enumerable:!0,get:function(){return Pc6.globalErrorHandler}});Object.defineProperty(n0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return Pc6.setGlobalErrorHandler}});var Wk5=MO1();Object.defineProperty(n0,"loggingErrorHandler",{enumerable:!0,get:function(){return Wk5.loggingErrorHandler}});var fX=Fm6();Object.defineProperty(n0,"addHrTimes",{enumerable:!0,get:function(){return fX.addHrTimes}});Object.defineProperty(n0,"getTimeOrigin",{enumerable:!0,get:function(){return fX.getTimeOrigin}});Object.defineProperty(n0,"hrTime",{enumerable:!0,get:function(){return fX.hrTime}});Object.defineProperty(n0,"hrTimeDuration",{enumerable:!0,get:function(){return fX.hrTimeDuration}});Object.defineProperty(n0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return fX.hrTimeToMicroseconds}});Object.defineProperty(n0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return fX.hrTimeToMilliseconds}});Object.defineProperty(n0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return fX.hrTimeToNanoseconds}});Object.defineProperty(n0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return fX.hrTimeToTimeStamp}});Object.defineProperty(n0,"isTimeInput",{enumerable:!0,get:function(){return fX.isTimeInput}});Object.defineProperty(n0,"isTimeInputHrTime",{enumerable:!0,get:function(){return fX.isTimeInputHrTime}});Object.defineProperty(n0,"millisToHrTime",{enumerable:!0,get:function(){return fX.millisToHrTime}});Object.defineProperty(n0,"timeInputToHrTime",{enumerable:!0,get:function(){return fX.timeInputToHrTime}});var Qk5=Om6();Object.defineProperty(n0,"ExportResultCode",{enumerable:!0,get:function(){return Qk5.ExportResultCode}});var Gk5=IO1();Object.defineProperty(n0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return Gk5.parseKeyPairsIntoRecord}});var sB=NO1();Object.defineProperty(n0,"SDK_INFO",{enumerable:!0,get:function(){return sB.SDK_INFO}});Object.defineProperty(n0,"_globalThis",{enumerable:!0,get:function(){return sB._globalThis}});Object.defineProperty(n0,"getStringFromEnv",{enumerable:!0,get:function(){return sB.getStringFromEnv}});Object.defineProperty(n0,"getBooleanFromEnv",{enumerable:!0,get:function(){return sB.getBooleanFromEnv}});Object.defineProperty(n0,"getNumberFromEnv",{enumerable:!0,get:function(){return sB.getNumberFromEnv}});Object.defineProperty(n0,"getStringListFromEnv",{enumerable:!0,get:function(){return sB.getStringListFromEnv}});Object.defineProperty(n0,"otperformance",{enumerable:!0,get:function(){return sB.otperformance}});Object.defineProperty(n0,"unrefTimer",{enumerable:!0,get:function(){return sB.unrefTimer}});var Kk5=Am6();Object.defineProperty(n0,"CompositePropagator",{enumerable:!0,get:function(){return Kk5.CompositePropagator}});var Pp=hm6();Object.defineProperty(n0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return Pp.TRACE_PARENT_HEADER}});Object.defineProperty(n0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return Pp.TRACE_STATE_HEADER}});Object.defineProperty(n0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return Pp.W3CTraceContextPropagator}});Object.defineProperty(n0,"parseTraceParent",{enumerable:!0,get:function(){return Pp.parseTraceParent}});var Lp=xm6();Object.defineProperty(n0,"RPCType",{enumerable:!0,get:function(){return Lp.RPCType}});Object.defineProperty(n0,"deleteRPCMetadata",{enumerable:!0,get:function(){return Lp.deleteRPCMetadata}});Object.defineProperty(n0,"getRPCMetadata",{enumerable:!0,get:function(){return Lp.getRPCMetadata}});Object.defineProperty(n0,"setRPCMetadata",{enumerable:!0,get:function(){return Lp.setRPCMetadata}});var kO1=pR();Object.defineProperty(n0,"isTracingSuppressed",{enumerable:!0,get:function(){return kO1.isTracingSuppressed}});Object.defineProperty(n0,"suppressTracing",{enumerable:!0,get:function(){return kO1.suppressTracing}});Object.defineProperty(n0,"unsuppressTracing",{enumerable:!0,get:function(){return kO1.unsuppressTracing}});var qk5=SO1();Object.defineProperty(n0,"TraceState",{enumerable:!0,get:function(){return qk5.TraceState}});var Bk5=tm6();Object.defineProperty(n0,"merge",{enumerable:!0,get:function(){return Bk5.merge}});var Lc6=Zc6();Object.defineProperty(n0,"TimeoutError",{enumerable:!0,get:function(){return Lc6.TimeoutError}});Object.defineProperty(n0,"callWithTimeout",{enumerable:!0,get:function(){return Lc6.callWithTimeout}});var Cc6=zc6();Object.defineProperty(n0,"isUrlIgnored",{enumerable:!0,get:function(){return Cc6.isUrlIgnored}});Object.defineProperty(n0,"urlMatches",{enumerable:!0,get:function(){return Cc6.urlMatches}});var Hk5=Fc6();Object.defineProperty(n0,"BindOnceFuture",{enumerable:!0,get:function(){return Hk5.BindOnceFuture}});var Fk5=Vc6();Object.defineProperty(n0,"diagLogLevelFromString",{enumerable:!0,get:function(){return Fk5.diagLogLevelFromString}});var Uk5=Mc6();n0.internal={_export:Uk5._export}});var yO1=B((Tc6)=>{Object.defineProperty(Tc6,"__esModule",{value:!0});Tc6.PrometheusSerializer=void 0;var Ok5=C(),VD=hO(),Rc6=bO1();function jp(J){return J.replace(/\\/g,"\\\\").replace(/\n/g,"\\n")}function Ec6(J=""){if(typeof J!=="string")J=JSON.stringify(J);return jp(J).replace(/"/g,"\\\"")}var Dk5=/[^a-z0-9_]/gi,Vk5=/_{2,}/g;function _O1(J){return J.replace(Dk5,"_").replace(Vk5,"_")}function hO1(J,Z){if(!J.endsWith("_total")&&Z.dataPointType===VD.DataPointType.SUM&&Z.isMonotonic)J=J+"_total";return J}function Ik5(J){if(J===1/0)return"+Inf";else if(J===-1/0)return"-Inf";else return`${J}`}function wk5(J){switch(J.dataPointType){case VD.DataPointType.SUM:if(J.isMonotonic)return"counter";return"gauge";case VD.DataPointType.GAUGE:return"gauge";case VD.DataPointType.HISTOGRAM:return"histogram";default:return"untyped"}}function Cp(J,Z,X,Y,$){let z=!1,W="";for(let[Q,G]of Object.entries(Z)){let K=_O1(Q);z=!0,W+=`${W.length>0?",":""}${K}="${Ec6(G)}"`}if($)for(let[Q,G]of Object.entries($)){let K=_O1(Q);z=!0,W+=`${W.length>0?",":""}${K}="${Ec6(G)}"`}if(z)J+=`{${W}}`;return`${J} ${Ik5(X)}${Y!==void 0?" "+String(Y):""}
`}var Ak5="# no registered metrics";class Sc6{_prefix;_appendTimestamp;_additionalAttributes;_withResourceConstantLabels;constructor(J,Z=!1,X){if(J)this._prefix=J+"_";this._appendTimestamp=Z,this._withResourceConstantLabels=X}serialize(J){let Z="";this._additionalAttributes=this._filterResourceConstantLabels(J.resource.attributes,this._withResourceConstantLabels);for(let X of J.scopeMetrics)Z+=this._serializeScopeMetrics(X);if(Z==="")Z+=Ak5;return this._serializeResource(J.resource)+Z}_filterResourceConstantLabels(J,Z){if(Z){let X={};for(let[Y,$]of Object.entries(J))if(Y.match(Z))X[Y]=$;return X}return}_serializeScopeMetrics(J){let Z="";for(let X of J.metrics)Z+=this._serializeMetricData(X)+`
`;return Z}_serializeMetricData(J){let Z=_O1(jp(J.descriptor.name));if(this._prefix)Z=`${this._prefix}${Z}`;let X=J.dataPointType;Z=hO1(Z,J);let Y=`# HELP ${Z} ${jp(J.descriptor.description||"description missing")}`,$=J.descriptor.unit?`
# UNIT ${Z} ${jp(J.descriptor.unit)}`:"",z=`# TYPE ${Z} ${wk5(J)}`,W="";switch(X){case VD.DataPointType.SUM:case VD.DataPointType.GAUGE:{W=J.dataPoints.map((Q)=>this._serializeSingularDataPoint(Z,J,Q)).join("");break}case VD.DataPointType.HISTOGRAM:{W=J.dataPoints.map((Q)=>this._serializeHistogramDataPoint(Z,J,Q)).join("");break}default:Ok5.diag.error(`Unrecognizable DataPointType: ${X} for metric "${Z}"`)}return`${Y}${$}
${z}
${W}`.trim()}_serializeSingularDataPoint(J,Z,X){let Y="";J=hO1(J,Z);let{value:$,attributes:z}=X,W=(0,Rc6.hrTimeToMilliseconds)(X.endTime);return Y+=Cp(J,z,$,this._appendTimestamp?W:void 0,this._additionalAttributes),Y}_serializeHistogramDataPoint(J,Z,X){let Y="";J=hO1(J,Z);let{attributes:$,value:z}=X,W=(0,Rc6.hrTimeToMilliseconds)(X.endTime);for(let q of["count","sum"]){let H=z[q];if(H!=null)Y+=Cp(J+"_"+q,$,H,this._appendTimestamp?W:void 0,this._additionalAttributes)}let Q=0,G=z.buckets.counts.entries(),K=!1;for(let[q,H]of G){Q+=H;let F=z.buckets.boundaries[q];if(F===void 0&&K)break;if(F===1/0)K=!0;Y+=Cp(J+"_bucket",$,Q,this._appendTimestamp?W:void 0,Object.assign({},this._additionalAttributes??{},{le:F===void 0||F===1/0?"+Inf":String(F)}))}return Y}_serializeResource(J){return`# HELP target_info Target metadata
# TYPE target_info gauge
${Cp("target_info",J.attributes,1).trim()}
`}}Tc6.PrometheusSerializer=Sc6});var hc6=B((kc6)=>{Object.defineProperty(kc6,"__esModule",{value:!0});kc6.PrometheusExporter=void 0;var oR=C(),Mk5=bO1(),vO1=hO(),Nk5=p("http"),Pk5=yO1(),Lk5=p("url");class aB extends vO1.MetricReader{static DEFAULT_OPTIONS={host:void 0,port:9464,endpoint:"/metrics",prefix:"",appendTimestamp:!1,withResourceConstantLabels:void 0};_host;_port;_baseUrl;_endpoint;_server;_prefix;_appendTimestamp;_serializer;_startServerPromise;constructor(J={},Z=()=>{}){super({aggregationSelector:(Y)=>{return{type:vO1.AggregationType.DEFAULT}},aggregationTemporalitySelector:(Y)=>vO1.AggregationTemporality.CUMULATIVE,metricProducers:J.metricProducers});this._host=J.host||process.env.OTEL_EXPORTER_PROMETHEUS_HOST||aB.DEFAULT_OPTIONS.host,this._port=J.port||Number(process.env.OTEL_EXPORTER_PROMETHEUS_PORT)||aB.DEFAULT_OPTIONS.port,this._prefix=J.prefix||aB.DEFAULT_OPTIONS.prefix,this._appendTimestamp=typeof J.appendTimestamp==="boolean"?J.appendTimestamp:aB.DEFAULT_OPTIONS.appendTimestamp;let X=J.withResourceConstantLabels||aB.DEFAULT_OPTIONS.withResourceConstantLabels;if(this._server=(0,Nk5.createServer)(this._requestHandler).unref(),this._serializer=new Pk5.PrometheusSerializer(this._prefix,this._appendTimestamp,X),this._baseUrl=`http://${this._host}:${this._port}/`,this._endpoint=(J.endpoint||aB.DEFAULT_OPTIONS.endpoint).replace(/^([^/])/,"/$1"),J.preventServerStart!==!0)this.startServer().then(Z,(Y)=>{oR.diag.error(Y),Z(Y)});else if(Z)queueMicrotask(Z)}async onForceFlush(){}onShutdown(){return this.stopServer()}stopServer(){if(!this._server)return oR.diag.debug("Prometheus stopServer() was called but server was never started."),Promise.resolve();else return new Promise((J)=>{this._server.close((Z)=>{if(!Z)oR.diag.debug("Prometheus exporter was stopped");else if(Z.code!=="ERR_SERVER_NOT_RUNNING")(0,Mk5.globalErrorHandler)(Z);J()})})}startServer(){return this._startServerPromise??=new Promise((J,Z)=>{this._server.once("error",Z),this._server.listen({port:this._port,host:this._host},()=>{oR.diag.debug(`Prometheus exporter server started: ${this._host}:${this._port}/${this._endpoint}`),J()})}),this._startServerPromise}getMetricsRequestHandler(J,Z){this._exportMetrics(Z)}_requestHandler=(J,Z)=>{if(J.url!=null&&new Lk5.URL(J.url,this._baseUrl).pathname===this._endpoint)this._exportMetrics(Z);else this._notFound(Z)};_exportMetrics=(J)=>{J.statusCode=200,J.setHeader("content-type","text/plain"),this.collect().then((Z)=>{let{resourceMetrics:X,errors:Y}=Z;if(Y.length)oR.diag.error("PrometheusExporter: metrics collection errors",...Y);J.end(this._serializer.serialize(X))},(Z)=>{J.end(`# failed to export metrics: ${Z}`)})};_notFound=(J)=>{J.statusCode=404,J.end()}}kc6.PrometheusExporter=aB});var _c6=B((Rp)=>{Object.defineProperty(Rp,"__esModule",{value:!0});Rp.PrometheusSerializer=Rp.PrometheusExporter=void 0;var Ck5=hc6();Object.defineProperty(Rp,"PrometheusExporter",{enumerable:!0,get:function(){return Ck5.PrometheusExporter}});var jk5=yO1();Object.defineProperty(Rp,"PrometheusSerializer",{enumerable:!0,get:function(){return jk5.PrometheusSerializer}})});var xc6=B((yc6)=>{Object.defineProperty(yc6,"__esModule",{value:!0});yc6.VERSION=void 0;yc6.VERSION="0.201.1"});var cc6=B((uc6)=>{Object.defineProperty(uc6,"__esModule",{value:!0});uc6.OTLPTraceExporter=void 0;var Ek5=fJ(),Sk5=qW(),Tk5=xc6(),gc6=xY();class dc6 extends Ek5.OTLPExporterBase{constructor(J={}){super((0,gc6.createOtlpHttpExportDelegate)((0,gc6.convertLegacyHttpOptions)(J,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${Tk5.VERSION}`,"Content-Type":"application/x-protobuf"}),Sk5.ProtobufTraceSerializer))}}uc6.OTLPTraceExporter=dc6});var lc6=B((xO1)=>{Object.defineProperty(xO1,"__esModule",{value:!0});xO1.OTLPTraceExporter=void 0;var fk5=cc6();Object.defineProperty(xO1,"OTLPTraceExporter",{enumerable:!0,get:function(){return fk5.OTLPTraceExporter}})});var pc6=B((gO1)=>{Object.defineProperty(gO1,"__esModule",{value:!0});gO1.OTLPTraceExporter=void 0;var bk5=lc6();Object.defineProperty(gO1,"OTLPTraceExporter",{enumerable:!0,get:function(){return bk5.OTLPTraceExporter}})});var nc6=B((dO1)=>{Object.defineProperty(dO1,"__esModule",{value:!0});dO1.OTLPTraceExporter=void 0;var _k5=pc6();Object.defineProperty(dO1,"OTLPTraceExporter",{enumerable:!0,get:function(){return _k5.OTLPTraceExporter}})});var sc6=B((ic6)=>{Object.defineProperty(ic6,"__esModule",{value:!0});ic6.VERSION=void 0;ic6.VERSION="0.201.1"});var Jl6=B((tc6)=>{Object.defineProperty(tc6,"__esModule",{value:!0});tc6.OTLPTraceExporter=void 0;var vk5=fJ(),xk5=sc6(),gk5=qW(),ac6=xY();class rc6 extends vk5.OTLPExporterBase{constructor(J={}){super((0,ac6.createOtlpHttpExportDelegate)((0,ac6.convertLegacyHttpOptions)(J,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${xk5.VERSION}`,"Content-Type":"application/json"}),gk5.JsonTraceSerializer))}}tc6.OTLPTraceExporter=rc6});var Zl6=B((uO1)=>{Object.defineProperty(uO1,"__esModule",{value:!0});uO1.OTLPTraceExporter=void 0;var dk5=Jl6();Object.defineProperty(uO1,"OTLPTraceExporter",{enumerable:!0,get:function(){return dk5.OTLPTraceExporter}})});var Xl6=B((mO1)=>{Object.defineProperty(mO1,"__esModule",{value:!0});mO1.OTLPTraceExporter=void 0;var mk5=Zl6();Object.defineProperty(mO1,"OTLPTraceExporter",{enumerable:!0,get:function(){return mk5.OTLPTraceExporter}})});var Yl6=B((cO1)=>{Object.defineProperty(cO1,"__esModule",{value:!0});cO1.OTLPTraceExporter=void 0;var lk5=Xl6();Object.defineProperty(cO1,"OTLPTraceExporter",{enumerable:!0,get:function(){return lk5.OTLPTraceExporter}})});var Gl6=B((Wl6)=>{Object.defineProperty(Wl6,"__esModule",{value:!0});Wl6.OTLPTraceExporter=void 0;var $l6=el(),nk5=qW(),ik5=fJ();class zl6 extends ik5.OTLPExporterBase{constructor(J={}){super((0,$l6.createOtlpGrpcExportDelegate)((0,$l6.convertLegacyOtlpGrpcOptions)(J,"TRACES"),nk5.ProtobufTraceSerializer,"TraceExportService","/opentelemetry.proto.collector.trace.v1.TraceService/Export"))}}Wl6.OTLPTraceExporter=zl6});var Kl6=B((lO1)=>{Object.defineProperty(lO1,"__esModule",{value:!0});lO1.OTLPTraceExporter=void 0;var ok5=Gl6();Object.defineProperty(lO1,"OTLPTraceExporter",{enumerable:!0,get:function(){return ok5.OTLPTraceExporter}})});var sR=B((ql6)=>{Object.defineProperty(ql6,"__esModule",{value:!0});ql6.isTracingSuppressed=ql6.unsuppressTracing=ql6.suppressTracing=void 0;var ak5=C(),pO1=(0,ak5.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function rk5(J){return J.setValue(pO1,!0)}ql6.suppressTracing=rk5;function tk5(J){return J.deleteValue(pO1)}ql6.unsuppressTracing=tk5;function ek5(J){return J.getValue(pO1)===!0}ql6.isTracingSuppressed=ek5});var nO1=B((Hl6)=>{Object.defineProperty(Hl6,"__esModule",{value:!0});Hl6.BAGGAGE_MAX_TOTAL_LENGTH=Hl6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Hl6.BAGGAGE_MAX_NAME_VALUE_PAIRS=Hl6.BAGGAGE_HEADER=Hl6.BAGGAGE_ITEMS_SEPARATOR=Hl6.BAGGAGE_PROPERTIES_SEPARATOR=Hl6.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Hl6.BAGGAGE_KEY_PAIR_SEPARATOR="=";Hl6.BAGGAGE_PROPERTIES_SEPARATOR=";";Hl6.BAGGAGE_ITEMS_SEPARATOR=",";Hl6.BAGGAGE_HEADER="baggage";Hl6.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Hl6.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Hl6.BAGGAGE_MAX_TOTAL_LENGTH=8192});var iO1=B((Ol6)=>{Object.defineProperty(Ol6,"__esModule",{value:!0});Ol6.parseKeyPairsIntoRecord=Ol6.parsePairKeyValue=Ol6.getKeyPairs=Ol6.serializeKeyPairs=void 0;var Gb5=C(),ID=nO1();function Kb5(J){return J.reduce((Z,X)=>{let Y=`${Z}${Z!==""?ID.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Y.length>ID.BAGGAGE_MAX_TOTAL_LENGTH?Z:Y},"")}Ol6.serializeKeyPairs=Kb5;function qb5(J){return J.getAllEntries().map(([Z,X])=>{let Y=`${encodeURIComponent(Z)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Y+=ID.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Y})}Ol6.getKeyPairs=qb5;function Ul6(J){let Z=J.split(ID.BAGGAGE_PROPERTIES_SEPARATOR);if(Z.length<=0)return;let X=Z.shift();if(!X)return;let Y=X.indexOf(ID.BAGGAGE_KEY_PAIR_SEPARATOR);if(Y<=0)return;let $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=(0,Gb5.baggageEntryMetadataFromString)(Z.join(ID.BAGGAGE_PROPERTIES_SEPARATOR));return{key:$,value:z,metadata:W}}Ol6.parsePairKeyValue=Ul6;function Bb5(J){let Z={};if(typeof J==="string"&&J.length>0)J.split(ID.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Y=Ul6(X);if(Y!==void 0&&Y.value.length>0)Z[Y.key]=Y.value});return Z}Ol6.parseKeyPairsIntoRecord=Bb5});var Al6=B((Il6)=>{Object.defineProperty(Il6,"__esModule",{value:!0});Il6.W3CBaggagePropagator=void 0;var oO1=C(),Ob5=sR(),wD=nO1(),sO1=iO1();class Vl6{inject(J,Z,X){let Y=oO1.propagation.getBaggage(J);if(!Y||(0,Ob5.isTracingSuppressed)(J))return;let $=(0,sO1.getKeyPairs)(Y).filter((W)=>{return W.length<=wD.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,wD.BAGGAGE_MAX_NAME_VALUE_PAIRS),z=(0,sO1.serializeKeyPairs)($);if(z.length>0)X.set(Z,wD.BAGGAGE_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,wD.BAGGAGE_HEADER),$=Array.isArray(Y)?Y.join(wD.BAGGAGE_ITEMS_SEPARATOR):Y;if(!$)return J;let z={};if($.length===0)return J;if($.split(wD.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let G=(0,sO1.parsePairKeyValue)(Q);if(G){let K={value:G.value};if(G.metadata)K.metadata=G.metadata;z[G.key]=K}}),Object.entries(z).length===0)return J;return oO1.propagation.setBaggage(J,oO1.propagation.createBaggage(z))}fields(){return[wD.BAGGAGE_HEADER]}}Il6.W3CBaggagePropagator=Vl6});var Ll6=B((Nl6)=>{Object.defineProperty(Nl6,"__esModule",{value:!0});Nl6.AnchoredClock=void 0;class Ml6{_monotonicClock;_epochMillis;_performanceMillis;constructor(J,Z){this._monotonicClock=Z,this._epochMillis=J.now(),this._performanceMillis=Z.now()}now(){let J=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+J}}Nl6.AnchoredClock=Ml6});var fl6=B((Sl6)=>{Object.defineProperty(Sl6,"__esModule",{value:!0});Sl6.isAttributeValue=Sl6.isAttributeKey=Sl6.sanitizeAttributes=void 0;var Cl6=C();function Db5(J){let Z={};if(typeof J!=="object"||J==null)return Z;for(let[X,Y]of Object.entries(J)){if(!jl6(X)){Cl6.diag.warn(`Invalid attribute key: ${X}`);continue}if(!Rl6(Y)){Cl6.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Y))Z[X]=Y.slice();else Z[X]=Y}return Z}Sl6.sanitizeAttributes=Db5;function jl6(J){return typeof J==="string"&&J.length>0}Sl6.isAttributeKey=jl6;function Rl6(J){if(J==null)return!0;if(Array.isArray(J))return Vb5(J);return El6(J)}Sl6.isAttributeValue=Rl6;function Vb5(J){let Z;for(let X of J){if(X==null)continue;if(!Z){if(El6(X)){Z=typeof X;continue}return!1}if(typeof X===Z)continue;return!1}return!0}function El6(J){switch(typeof J){case"number":case"boolean":case"string":return!0}return!1}});var aO1=B((kl6)=>{Object.defineProperty(kl6,"__esModule",{value:!0});kl6.loggingErrorHandler=void 0;var Ab5=C();function Mb5(){return(J)=>{Ab5.diag.error(Nb5(J))}}kl6.loggingErrorHandler=Mb5;function Nb5(J){if(typeof J==="string")return J;else return JSON.stringify(Pb5(J))}function Pb5(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}});var vl6=B((_l6)=>{Object.defineProperty(_l6,"__esModule",{value:!0});_l6.globalErrorHandler=_l6.setGlobalErrorHandler=void 0;var Lb5=aO1(),hl6=(0,Lb5.loggingErrorHandler)();function Cb5(J){hl6=J}_l6.setGlobalErrorHandler=Cb5;function jb5(J){try{hl6(J)}catch{}}_l6.globalErrorHandler=jb5});var cl6=B((ul6)=>{Object.defineProperty(ul6,"__esModule",{value:!0});ul6.getStringListFromEnv=ul6.getBooleanFromEnv=ul6.getStringFromEnv=ul6.getNumberFromEnv=void 0;var xl6=C(),gl6=p("util");function Eb5(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){xl6.diag.warn(`Unknown value ${(0,gl6.inspect)(Z)} for ${J}, expected a number, using defaults`);return}return X}ul6.getNumberFromEnv=Eb5;function dl6(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}ul6.getStringFromEnv=dl6;function Sb5(J){let Z=process.env[J]?.trim().toLowerCase();if(Z==null||Z==="")return!1;if(Z==="true")return!0;else if(Z==="false")return!1;else return xl6.diag.warn(`Unknown value ${(0,gl6.inspect)(Z)} for ${J}, expected 'true' or 'false', falling back to 'false' (default)`),!1}ul6.getBooleanFromEnv=Sb5;function Tb5(J){return dl6(J)?.split(",").map((Z)=>Z.trim()).filter((Z)=>Z!=="")}ul6.getStringListFromEnv=Tb5});var nl6=B((ll6)=>{Object.defineProperty(ll6,"__esModule",{value:!0});ll6._globalThis=void 0;ll6._globalThis=typeof globalThis==="object"?globalThis:global});var sl6=B((il6)=>{Object.defineProperty(il6,"__esModule",{value:!0});il6.otperformance=void 0;var hb5=p("perf_hooks");il6.otperformance=hb5.performance});var tl6=B((al6)=>{Object.defineProperty(al6,"__esModule",{value:!0});al6.VERSION=void 0;al6.VERSION="2.0.1"});var Zp6=B((el6)=>{Object.defineProperty(el6,"__esModule",{value:!0});el6.ATTR_PROCESS_RUNTIME_NAME=void 0;el6.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var $p6=B((Xp6)=>{Object.defineProperty(Xp6,"__esModule",{value:!0});Xp6.SDK_INFO=void 0;var _b5=tl6(),Ep=j1(),yb5=Zp6();Xp6.SDK_INFO={[Ep.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[yb5.ATTR_PROCESS_RUNTIME_NAME]:"node",[Ep.ATTR_TELEMETRY_SDK_LANGUAGE]:Ep.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[Ep.ATTR_TELEMETRY_SDK_VERSION]:_b5.VERSION}});var Qp6=B((zp6)=>{Object.defineProperty(zp6,"__esModule",{value:!0});zp6.unrefTimer=void 0;function vb5(J){J.unref()}zp6.unrefTimer=vb5});var Gp6=B((TW)=>{Object.defineProperty(TW,"__esModule",{value:!0});TW.unrefTimer=TW.SDK_INFO=TW.otperformance=TW._globalThis=TW.getStringListFromEnv=TW.getNumberFromEnv=TW.getBooleanFromEnv=TW.getStringFromEnv=void 0;var Sp=cl6();Object.defineProperty(TW,"getStringFromEnv",{enumerable:!0,get:function(){return Sp.getStringFromEnv}});Object.defineProperty(TW,"getBooleanFromEnv",{enumerable:!0,get:function(){return Sp.getBooleanFromEnv}});Object.defineProperty(TW,"getNumberFromEnv",{enumerable:!0,get:function(){return Sp.getNumberFromEnv}});Object.defineProperty(TW,"getStringListFromEnv",{enumerable:!0,get:function(){return Sp.getStringListFromEnv}});var xb5=nl6();Object.defineProperty(TW,"_globalThis",{enumerable:!0,get:function(){return xb5._globalThis}});var gb5=sl6();Object.defineProperty(TW,"otperformance",{enumerable:!0,get:function(){return gb5.otperformance}});var db5=$p6();Object.defineProperty(TW,"SDK_INFO",{enumerable:!0,get:function(){return db5.SDK_INFO}});var ub5=Qp6();Object.defineProperty(TW,"unrefTimer",{enumerable:!0,get:function(){return ub5.unrefTimer}})});var rO1=B((fW)=>{Object.defineProperty(fW,"__esModule",{value:!0});fW.getStringListFromEnv=fW.getNumberFromEnv=fW.getStringFromEnv=fW.getBooleanFromEnv=fW.unrefTimer=fW.otperformance=fW._globalThis=fW.SDK_INFO=void 0;var rB=Gp6();Object.defineProperty(fW,"SDK_INFO",{enumerable:!0,get:function(){return rB.SDK_INFO}});Object.defineProperty(fW,"_globalThis",{enumerable:!0,get:function(){return rB._globalThis}});Object.defineProperty(fW,"otperformance",{enumerable:!0,get:function(){return rB.otperformance}});Object.defineProperty(fW,"unrefTimer",{enumerable:!0,get:function(){return rB.unrefTimer}});Object.defineProperty(fW,"getBooleanFromEnv",{enumerable:!0,get:function(){return rB.getBooleanFromEnv}});Object.defineProperty(fW,"getStringFromEnv",{enumerable:!0,get:function(){return rB.getStringFromEnv}});Object.defineProperty(fW,"getNumberFromEnv",{enumerable:!0,get:function(){return rB.getNumberFromEnv}});Object.defineProperty(fW,"getStringListFromEnv",{enumerable:!0,get:function(){return rB.getStringListFromEnv}})});var Up6=B((Hp6)=>{Object.defineProperty(Hp6,"__esModule",{value:!0});Hp6.addHrTimes=Hp6.isTimeInput=Hp6.isTimeInputHrTime=Hp6.hrTimeToMicroseconds=Hp6.hrTimeToMilliseconds=Hp6.hrTimeToNanoseconds=Hp6.hrTimeToTimeStamp=Hp6.hrTimeDuration=Hp6.timeInputToHrTime=Hp6.hrTime=Hp6.getTimeOrigin=Hp6.millisToHrTime=void 0;var tO1=rO1(),Kp6=9,lb5=6,pb5=Math.pow(10,lb5),Tp=Math.pow(10,Kp6);function aR(J){let Z=J/1000,X=Math.trunc(Z),Y=Math.round(J%1000*pb5);return[X,Y]}Hp6.millisToHrTime=aR;function eO1(){let J=tO1.otperformance.timeOrigin;if(typeof J!=="number"){let Z=tO1.otperformance;J=Z.timing&&Z.timing.fetchStart}return J}Hp6.getTimeOrigin=eO1;function qp6(J){let Z=aR(eO1()),X=aR(typeof J==="number"?J:tO1.otperformance.now());return Bp6(Z,X)}Hp6.hrTime=qp6;function nb5(J){if(JD1(J))return J;else if(typeof J==="number")if(J<eO1())return qp6(J);else return aR(J);else if(J instanceof Date)return aR(J.getTime());else throw TypeError("Invalid input type")}Hp6.timeInputToHrTime=nb5;function ib5(J,Z){let X=Z[0]-J[0],Y=Z[1]-J[1];if(Y<0)X-=1,Y+=Tp;return[X,Y]}Hp6.hrTimeDuration=ib5;function ob5(J){let Z=Kp6,X=`${"0".repeat(Z)}${J[1]}Z`,Y=X.substring(X.length-Z-1);return new Date(J[0]*1000).toISOString().replace("000Z",Y)}Hp6.hrTimeToTimeStamp=ob5;function sb5(J){return J[0]*Tp+J[1]}Hp6.hrTimeToNanoseconds=sb5;function ab5(J){return J[0]*1000+J[1]/1e6}Hp6.hrTimeToMilliseconds=ab5;function rb5(J){return J[0]*1e6+J[1]/1000}Hp6.hrTimeToMicroseconds=rb5;function JD1(J){return Array.isArray(J)&&J.length===2&&typeof J[0]==="number"&&typeof J[1]==="number"}Hp6.isTimeInputHrTime=JD1;function tb5(J){return JD1(J)||typeof J==="number"||J instanceof Date}Hp6.isTimeInput=tb5;function Bp6(J,Z){let X=[J[0]+Z[0],J[1]+Z[1]];if(X[1]>=Tp)X[1]-=Tp,X[0]+=1;return X}Hp6.addHrTimes=Bp6});var Dp6=B((Op6)=>{Object.defineProperty(Op6,"__esModule",{value:!0});Op6.ExportResultCode=void 0;var qh5;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(qh5=Op6.ExportResultCode||(Op6.ExportResultCode={}))});var Mp6=B((wp6)=>{Object.defineProperty(wp6,"__esModule",{value:!0});wp6.CompositePropagator=void 0;var Vp6=C();class Ip6{_propagators;_fields;constructor(J={}){this._propagators=J.propagators??[],this._fields=Array.from(new Set(this._propagators.map((Z)=>typeof Z.fields==="function"?Z.fields():[]).reduce((Z,X)=>Z.concat(X),[])))}inject(J,Z,X){for(let Y of this._propagators)try{Y.inject(J,Z,X)}catch($){Vp6.diag.warn(`Failed to inject with ${Y.constructor.name}. Err: ${$.message}`)}}extract(J,Z,X){return this._propagators.reduce((Y,$)=>{try{return $.extract(Y,Z,X)}catch(z){Vp6.diag.warn(`Failed to extract with ${$.constructor.name}. Err: ${z.message}`)}return Y},J)}fields(){return this._fields.slice()}}wp6.CompositePropagator=Ip6});var Lp6=B((Np6)=>{Object.defineProperty(Np6,"__esModule",{value:!0});Np6.validateValue=Np6.validateKey=void 0;var XD1="[_0-9a-z-*/]",Bh5=`[a-z]${XD1}{0,255}`,Hh5=`[a-z0-9]${XD1}{0,240}@[a-z]${XD1}{0,13}`,Fh5=new RegExp(`^(?:${Bh5}|${Hh5})$`),Uh5=/^[ -~]{0,255}[!-~]$/,Oh5=/,|=/;function Dh5(J){return Fh5.test(J)}Np6.validateKey=Dh5;function Vh5(J){return Uh5.test(J)&&!Oh5.test(J)}Np6.validateValue=Vh5});var $D1=B((Sp6)=>{Object.defineProperty(Sp6,"__esModule",{value:!0});Sp6.TraceState=void 0;var Cp6=Lp6(),jp6=32,wh5=512,Rp6=",",Ep6="=";class YD1{_internalState=new Map;constructor(J){if(J)this._parse(J)}set(J,Z){let X=this._clone();if(X._internalState.has(J))X._internalState.delete(J);return X._internalState.set(J,Z),X}unset(J){let Z=this._clone();return Z._internalState.delete(J),Z}get(J){return this._internalState.get(J)}serialize(){return this._keys().reduce((J,Z)=>{return J.push(Z+Ep6+this.get(Z)),J},[]).join(Rp6)}_parse(J){if(J.length>wh5)return;if(this._internalState=J.split(Rp6).reverse().reduce((Z,X)=>{let Y=X.trim(),$=Y.indexOf(Ep6);if($!==-1){let z=Y.slice(0,$),W=Y.slice($+1,X.length);if((0,Cp6.validateKey)(z)&&(0,Cp6.validateValue)(W))Z.set(z,W)}return Z},new Map),this._internalState.size>jp6)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,jp6))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let J=new YD1;return J._internalState=new Map(this._internalState),J}}Sp6.TraceState=YD1});var _p6=B((bp6)=>{Object.defineProperty(bp6,"__esModule",{value:!0});bp6.W3CTraceContextPropagator=bp6.parseTraceParent=bp6.TRACE_STATE_HEADER=bp6.TRACE_PARENT_HEADER=void 0;var fp=C(),Ah5=sR(),Mh5=$D1();bp6.TRACE_PARENT_HEADER="traceparent";bp6.TRACE_STATE_HEADER="tracestate";var Nh5="00",Ph5="(?!ff)[\\da-f]{2}",Lh5="(?![0]{32})[\\da-f]{32}",Ch5="(?![0]{16})[\\da-f]{16}",jh5="[\\da-f]{2}",Rh5=new RegExp(`^\\s?(${Ph5})-(${Lh5})-(${Ch5})-(${jh5})(-.*)?\\s?$`);function fp6(J){let Z=Rh5.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}bp6.parseTraceParent=fp6;class kp6{inject(J,Z,X){let Y=fp.trace.getSpanContext(J);if(!Y||(0,Ah5.isTracingSuppressed)(J)||!(0,fp.isSpanContextValid)(Y))return;let $=`${Nh5}-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||fp.TraceFlags.NONE).toString(16)}`;if(X.set(Z,bp6.TRACE_PARENT_HEADER,$),Y.traceState)X.set(Z,bp6.TRACE_STATE_HEADER,Y.traceState.serialize())}extract(J,Z,X){let Y=X.get(Z,bp6.TRACE_PARENT_HEADER);if(!Y)return J;let $=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=fp6($);if(!z)return J;z.isRemote=!0;let W=X.get(Z,bp6.TRACE_STATE_HEADER);if(W){let Q=Array.isArray(W)?W.join(","):W;z.traceState=new Mh5.TraceState(typeof Q==="string"?Q:void 0)}return fp.trace.setSpanContext(J,z)}fields(){return[bp6.TRACE_PARENT_HEADER,bp6.TRACE_STATE_HEADER]}}bp6.W3CTraceContextPropagator=kp6});var gp6=B((vp6)=>{Object.defineProperty(vp6,"__esModule",{value:!0});vp6.getRPCMetadata=vp6.deleteRPCMetadata=vp6.setRPCMetadata=vp6.RPCType=void 0;var Sh5=C(),zD1=(0,Sh5.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),Th5;(function(J){J.HTTP="http"})(Th5=vp6.RPCType||(vp6.RPCType={}));function fh5(J,Z){return J.setValue(zD1,Z)}vp6.setRPCMetadata=fh5;function kh5(J){return J.deleteValue(zD1)}vp6.deleteRPCMetadata=kh5;function bh5(J){return J.getValue(zD1)}vp6.getRPCMetadata=bh5});var np6=B((lp6)=>{Object.defineProperty(lp6,"__esModule",{value:!0});lp6.isPlainObject=void 0;var yh5="[object Object]",vh5="[object Null]",xh5="[object Undefined]",gh5=Function.prototype,dp6=gh5.toString,dh5=dp6.call(Object),uh5=Object.getPrototypeOf,up6=Object.prototype,mp6=up6.hasOwnProperty,AD=Symbol?Symbol.toStringTag:void 0,cp6=up6.toString;function mh5(J){if(!ch5(J)||lh5(J)!==yh5)return!1;let Z=uh5(J);if(Z===null)return!0;let X=mp6.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X instanceof X&&dp6.call(X)===dh5}lp6.isPlainObject=mh5;function ch5(J){return J!=null&&typeof J=="object"}function lh5(J){if(J==null)return J===void 0?xh5:vh5;return AD&&AD in Object(J)?ph5(J):nh5(J)}function ph5(J){let Z=mp6.call(J,AD),X=J[AD],Y=!1;try{J[AD]=void 0,Y=!0}catch(z){}let $=cp6.call(J);if(Y)if(Z)J[AD]=X;else delete J[AD];return $}function nh5(J){return cp6.call(J)}});var ep6=B((rp6)=>{Object.defineProperty(rp6,"__esModule",{value:!0});rp6.merge=void 0;var ip6=np6(),ih5=20;function oh5(...J){let Z=J.shift(),X=new WeakMap;while(J.length>0)Z=sp6(Z,J.shift(),0,X);return Z}rp6.merge=oh5;function WD1(J){if(_p(J))return J.slice();return J}function sp6(J,Z,X=0,Y){let $;if(X>ih5)return;if(X++,hp(J)||hp(Z)||ap6(Z))$=WD1(Z);else if(_p(J)){if($=J.slice(),_p(Z))for(let z=0,W=Z.length;z<W;z++)$.push(WD1(Z[z]));else if(rR(Z)){let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W];$[G]=WD1(Z[G])}}}else if(rR(J))if(rR(Z)){if(!sh5(J,Z))return Z;$=Object.assign({},J);let z=Object.keys(Z);for(let W=0,Q=z.length;W<Q;W++){let G=z[W],K=Z[G];if(hp(K))if(typeof K==="undefined")delete $[G];else $[G]=K;else{let q=$[G],H=K;if(op6(J,G,Y)||op6(Z,G,Y))delete $[G];else{if(rR(q)&&rR(H)){let F=Y.get(q)||[],U=Y.get(H)||[];F.push({obj:J,key:G}),U.push({obj:Z,key:G}),Y.set(q,F),Y.set(H,U)}$[G]=sp6($[G],K,X,Y)}}}}else $=Z;return $}function op6(J,Z,X){let Y=X.get(J[Z])||[];for(let $=0,z=Y.length;$<z;$++){let W=Y[$];if(W.key===Z&&W.obj===J)return!0}return!1}function _p(J){return Array.isArray(J)}function ap6(J){return typeof J==="function"}function rR(J){return!hp(J)&&!_p(J)&&!ap6(J)&&typeof J==="object"}function hp(J){return typeof J==="string"||typeof J==="number"||typeof J==="boolean"||typeof J==="undefined"||J instanceof Date||J instanceof RegExp||J===null}function sh5(J,Z){if(!(0,ip6.isPlainObject)(J)||!(0,ip6.isPlainObject)(Z))return!1;return!0}});var Xn6=B((Jn6)=>{Object.defineProperty(Jn6,"__esModule",{value:!0});Jn6.callWithTimeout=Jn6.TimeoutError=void 0;class yp extends Error{constructor(J){super(J);Object.setPrototypeOf(this,yp.prototype)}}Jn6.TimeoutError=yp;function ah5(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new yp("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}Jn6.callWithTimeout=ah5});var Wn6=B(($n6)=>{Object.defineProperty($n6,"__esModule",{value:!0});$n6.isUrlIgnored=$n6.urlMatches=void 0;function Yn6(J,Z){if(typeof Z==="string")return J===Z;else return!!J.match(Z)}$n6.urlMatches=Yn6;function th5(J,Z){if(!Z)return!1;for(let X of Z)if(Yn6(J,X))return!0;return!1}$n6.isUrlIgnored=th5});var qn6=B((Gn6)=>{Object.defineProperty(Gn6,"__esModule",{value:!0});Gn6.Deferred=void 0;class Qn6{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}Gn6.Deferred=Qn6});var Un6=B((Hn6)=>{Object.defineProperty(Hn6,"__esModule",{value:!0});Hn6.BindOnceFuture=void 0;var J_5=qn6();class Bn6{_callback;_that;_isCalled=!1;_deferred=new J_5.Deferred;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}Hn6.BindOnceFuture=Bn6});var In6=B((Dn6)=>{Object.defineProperty(Dn6,"__esModule",{value:!0});Dn6.diagLogLevelFromString=void 0;var KK=C(),On6={ALL:KK.DiagLogLevel.ALL,VERBOSE:KK.DiagLogLevel.VERBOSE,DEBUG:KK.DiagLogLevel.DEBUG,INFO:KK.DiagLogLevel.INFO,WARN:KK.DiagLogLevel.WARN,ERROR:KK.DiagLogLevel.ERROR,NONE:KK.DiagLogLevel.NONE};function Z_5(J){if(J==null)return;let Z=On6[J.toUpperCase()];if(Z==null)return KK.diag.warn(`Unknown log level "${J}", expected one of ${Object.keys(On6)}, using default`),KK.DiagLogLevel.INFO;return Z}Dn6.diagLogLevelFromString=Z_5});var Nn6=B((An6)=>{Object.defineProperty(An6,"__esModule",{value:!0});An6._export=void 0;var wn6=C(),X_5=sR();function Y_5(J,Z){return new Promise((X)=>{wn6.context.with((0,X_5.suppressTracing)(wn6.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}An6._export=Y_5});var gp=B((i0)=>{Object.defineProperty(i0,"__esModule",{value:!0});i0.internal=i0.diagLogLevelFromString=i0.BindOnceFuture=i0.urlMatches=i0.isUrlIgnored=i0.callWithTimeout=i0.TimeoutError=i0.merge=i0.TraceState=i0.unsuppressTracing=i0.suppressTracing=i0.isTracingSuppressed=i0.setRPCMetadata=i0.getRPCMetadata=i0.deleteRPCMetadata=i0.RPCType=i0.parseTraceParent=i0.W3CTraceContextPropagator=i0.TRACE_STATE_HEADER=i0.TRACE_PARENT_HEADER=i0.CompositePropagator=i0.unrefTimer=i0.otperformance=i0.getStringListFromEnv=i0.getNumberFromEnv=i0.getBooleanFromEnv=i0.getStringFromEnv=i0._globalThis=i0.SDK_INFO=i0.parseKeyPairsIntoRecord=i0.ExportResultCode=i0.timeInputToHrTime=i0.millisToHrTime=i0.isTimeInputHrTime=i0.isTimeInput=i0.hrTimeToTimeStamp=i0.hrTimeToNanoseconds=i0.hrTimeToMilliseconds=i0.hrTimeToMicroseconds=i0.hrTimeDuration=i0.hrTime=i0.getTimeOrigin=i0.addHrTimes=i0.loggingErrorHandler=i0.setGlobalErrorHandler=i0.globalErrorHandler=i0.sanitizeAttributes=i0.isAttributeValue=i0.AnchoredClock=i0.W3CBaggagePropagator=void 0;var $_5=Al6();Object.defineProperty(i0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return $_5.W3CBaggagePropagator}});var z_5=Ll6();Object.defineProperty(i0,"AnchoredClock",{enumerable:!0,get:function(){return z_5.AnchoredClock}});var Pn6=fl6();Object.defineProperty(i0,"isAttributeValue",{enumerable:!0,get:function(){return Pn6.isAttributeValue}});Object.defineProperty(i0,"sanitizeAttributes",{enumerable:!0,get:function(){return Pn6.sanitizeAttributes}});var Ln6=vl6();Object.defineProperty(i0,"globalErrorHandler",{enumerable:!0,get:function(){return Ln6.globalErrorHandler}});Object.defineProperty(i0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return Ln6.setGlobalErrorHandler}});var W_5=aO1();Object.defineProperty(i0,"loggingErrorHandler",{enumerable:!0,get:function(){return W_5.loggingErrorHandler}});var kX=Up6();Object.defineProperty(i0,"addHrTimes",{enumerable:!0,get:function(){return kX.addHrTimes}});Object.defineProperty(i0,"getTimeOrigin",{enumerable:!0,get:function(){return kX.getTimeOrigin}});Object.defineProperty(i0,"hrTime",{enumerable:!0,get:function(){return kX.hrTime}});Object.defineProperty(i0,"hrTimeDuration",{enumerable:!0,get:function(){return kX.hrTimeDuration}});Object.defineProperty(i0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return kX.hrTimeToMicroseconds}});Object.defineProperty(i0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return kX.hrTimeToMilliseconds}});Object.defineProperty(i0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return kX.hrTimeToNanoseconds}});Object.defineProperty(i0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return kX.hrTimeToTimeStamp}});Object.defineProperty(i0,"isTimeInput",{enumerable:!0,get:function(){return kX.isTimeInput}});Object.defineProperty(i0,"isTimeInputHrTime",{enumerable:!0,get:function(){return kX.isTimeInputHrTime}});Object.defineProperty(i0,"millisToHrTime",{enumerable:!0,get:function(){return kX.millisToHrTime}});Object.defineProperty(i0,"timeInputToHrTime",{enumerable:!0,get:function(){return kX.timeInputToHrTime}});var Q_5=Dp6();Object.defineProperty(i0,"ExportResultCode",{enumerable:!0,get:function(){return Q_5.ExportResultCode}});var G_5=iO1();Object.defineProperty(i0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return G_5.parseKeyPairsIntoRecord}});var tB=rO1();Object.defineProperty(i0,"SDK_INFO",{enumerable:!0,get:function(){return tB.SDK_INFO}});Object.defineProperty(i0,"_globalThis",{enumerable:!0,get:function(){return tB._globalThis}});Object.defineProperty(i0,"getStringFromEnv",{enumerable:!0,get:function(){return tB.getStringFromEnv}});Object.defineProperty(i0,"getBooleanFromEnv",{enumerable:!0,get:function(){return tB.getBooleanFromEnv}});Object.defineProperty(i0,"getNumberFromEnv",{enumerable:!0,get:function(){return tB.getNumberFromEnv}});Object.defineProperty(i0,"getStringListFromEnv",{enumerable:!0,get:function(){return tB.getStringListFromEnv}});Object.defineProperty(i0,"otperformance",{enumerable:!0,get:function(){return tB.otperformance}});Object.defineProperty(i0,"unrefTimer",{enumerable:!0,get:function(){return tB.unrefTimer}});var K_5=Mp6();Object.defineProperty(i0,"CompositePropagator",{enumerable:!0,get:function(){return K_5.CompositePropagator}});var vp=_p6();Object.defineProperty(i0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return vp.TRACE_PARENT_HEADER}});Object.defineProperty(i0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return vp.TRACE_STATE_HEADER}});Object.defineProperty(i0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return vp.W3CTraceContextPropagator}});Object.defineProperty(i0,"parseTraceParent",{enumerable:!0,get:function(){return vp.parseTraceParent}});var xp=gp6();Object.defineProperty(i0,"RPCType",{enumerable:!0,get:function(){return xp.RPCType}});Object.defineProperty(i0,"deleteRPCMetadata",{enumerable:!0,get:function(){return xp.deleteRPCMetadata}});Object.defineProperty(i0,"getRPCMetadata",{enumerable:!0,get:function(){return xp.getRPCMetadata}});Object.defineProperty(i0,"setRPCMetadata",{enumerable:!0,get:function(){return xp.setRPCMetadata}});var QD1=sR();Object.defineProperty(i0,"isTracingSuppressed",{enumerable:!0,get:function(){return QD1.isTracingSuppressed}});Object.defineProperty(i0,"suppressTracing",{enumerable:!0,get:function(){return QD1.suppressTracing}});Object.defineProperty(i0,"unsuppressTracing",{enumerable:!0,get:function(){return QD1.unsuppressTracing}});var q_5=$D1();Object.defineProperty(i0,"TraceState",{enumerable:!0,get:function(){return q_5.TraceState}});var B_5=ep6();Object.defineProperty(i0,"merge",{enumerable:!0,get:function(){return B_5.merge}});var Cn6=Xn6();Object.defineProperty(i0,"TimeoutError",{enumerable:!0,get:function(){return Cn6.TimeoutError}});Object.defineProperty(i0,"callWithTimeout",{enumerable:!0,get:function(){return Cn6.callWithTimeout}});var jn6=Wn6();Object.defineProperty(i0,"isUrlIgnored",{enumerable:!0,get:function(){return jn6.isUrlIgnored}});Object.defineProperty(i0,"urlMatches",{enumerable:!0,get:function(){return jn6.urlMatches}});var H_5=Un6();Object.defineProperty(i0,"BindOnceFuture",{enumerable:!0,get:function(){return H_5.BindOnceFuture}});var F_5=In6();Object.defineProperty(i0,"diagLogLevelFromString",{enumerable:!0,get:function(){return F_5.diagLogLevelFromString}});var U_5=Nn6();i0.internal={_export:U_5._export}});var Tn6=B((En6)=>{Object.defineProperty(En6,"__esModule",{value:!0});En6.prepareSend=void 0;var GD1=C(),dp=gp(),O_5=p("http"),D_5=p("https");function V_5(J,Z){let X=new URL(J),Y=Object.assign({method:"POST",headers:{"Content-Type":"application/json",...Z}});return function $(z,W){if(z.length===0)return GD1.diag.debug("Zipkin send with empty spans"),W({code:dp.ExportResultCode.SUCCESS});let{request:Q}=X.protocol==="http:"?O_5:D_5,G=Q(X,Y,(q)=>{let H="";q.on("data",(F)=>{H+=F}),q.on("end",()=>{let F=q.statusCode||0;if(GD1.diag.debug(`Zipkin response status code: ${F}, body: ${H}`),F<400)return W({code:dp.ExportResultCode.SUCCESS});else return W({code:dp.ExportResultCode.FAILED,error:new Error(`Got unexpected status code from zipkin: ${F}`)})})});G.on("error",(q)=>{return W({code:dp.ExportResultCode.FAILED,error:q})});let K=JSON.stringify(z);GD1.diag.debug(`Zipkin request payload: ${K}`),G.write(K,"utf8"),G.end()}}En6.prepareSend=V_5});var fn6=B((KD1)=>{Object.defineProperty(KD1,"__esModule",{value:!0});KD1.prepareSend=void 0;var I_5=Tn6();Object.defineProperty(KD1,"prepareSend",{enumerable:!0,get:function(){return I_5.prepareSend}})});var BD1=B((qD1)=>{Object.defineProperty(qD1,"__esModule",{value:!0});qD1.prepareSend=void 0;var A_5=fn6();Object.defineProperty(qD1,"prepareSend",{enumerable:!0,get:function(){return A_5.prepareSend}})});var bn6=B((kn6)=>{Object.defineProperty(kn6,"__esModule",{value:!0});kn6.SpanKind=void 0;var N_5;(function(J){J.CLIENT="CLIENT",J.SERVER="SERVER",J.CONSUMER="CONSUMER",J.PRODUCER="PRODUCER"})(N_5=kn6.SpanKind||(kn6.SpanKind={}))});var xn6=B((yn6)=>{Object.defineProperty(yn6,"__esModule",{value:!0});yn6._toZipkinAnnotations=yn6._toZipkinTags=yn6.toZipkinSpan=yn6.defaultStatusErrorTagName=yn6.defaultStatusCodeTagName=void 0;var eB=C(),FD1=gp(),up=bn6(),P_5={[eB.SpanKind.CLIENT]:up.SpanKind.CLIENT,[eB.SpanKind.SERVER]:up.SpanKind.SERVER,[eB.SpanKind.CONSUMER]:up.SpanKind.CONSUMER,[eB.SpanKind.PRODUCER]:up.SpanKind.PRODUCER,[eB.SpanKind.INTERNAL]:void 0};yn6.defaultStatusCodeTagName="otel.status_code";yn6.defaultStatusErrorTagName="error";function L_5(J,Z,X,Y){return{traceId:J.spanContext().traceId,parentId:J.parentSpanContext?.spanId,name:J.name,id:J.spanContext().spanId,kind:P_5[J.kind],timestamp:(0,FD1.hrTimeToMicroseconds)(J.startTime),duration:Math.round((0,FD1.hrTimeToMicroseconds)(J.duration)),localEndpoint:{serviceName:Z},tags:hn6(J,X,Y),annotations:J.events.length?_n6(J.events):void 0}}yn6.toZipkinSpan=L_5;function hn6({attributes:J,resource:Z,status:X,droppedAttributesCount:Y,droppedEventsCount:$,droppedLinksCount:z},W,Q){let G={};for(let K of Object.keys(J))G[K]=String(J[K]);if(X.code!==eB.SpanStatusCode.UNSET)G[W]=String(eB.SpanStatusCode[X.code]);if(X.code===eB.SpanStatusCode.ERROR&&X.message)G[Q]=X.message;if(Y)G["otel.dropped_attributes_count"]=String(Y);if($)G["otel.dropped_events_count"]=String($);if(z)G["otel.dropped_links_count"]=String(z);return Object.keys(Z.attributes).forEach((K)=>G[K]=String(Z.attributes[K])),G}yn6._toZipkinTags=hn6;function _n6(J){return J.map((Z)=>({timestamp:Math.round((0,FD1.hrTimeToMicroseconds)(Z.time)),value:Z.name}))}yn6._toZipkinAnnotations=_n6});var un6=B((gn6)=>{Object.defineProperty(gn6,"__esModule",{value:!0});gn6.prepareGetHeaders=void 0;function S_5(J){return function(){return J()}}gn6.prepareGetHeaders=S_5});var on6=B((nn6)=>{Object.defineProperty(nn6,"__esModule",{value:!0});nn6.ZipkinExporter=void 0;var mn6=C(),cn6=gp(),ln6=BD1(),UD1=xn6(),OD1=j1(),T_5=un6();class pn6{DEFAULT_SERVICE_NAME="OpenTelemetry Service";_statusCodeTagName;_statusDescriptionTagName;_urlStr;_send;_getHeaders;_serviceName;_isShutdown;_sendingPromises=[];constructor(J={}){if(this._urlStr=J.url||((0,cn6.getStringFromEnv)("OTEL_EXPORTER_ZIPKIN_ENDPOINT")??"http://localhost:9411/api/v2/spans"),this._send=(0,ln6.prepareSend)(this._urlStr,J.headers),this._serviceName=J.serviceName,this._statusCodeTagName=J.statusCodeTagName||UD1.defaultStatusCodeTagName,this._statusDescriptionTagName=J.statusDescriptionTagName||UD1.defaultStatusErrorTagName,this._isShutdown=!1,typeof J.getExportRequestHeaders==="function")this._getHeaders=(0,T_5.prepareGetHeaders)(J.getExportRequestHeaders);else this._beforeSend=function(){}}export(J,Z){let X=String(this._serviceName||J[0].resource.attributes[OD1.ATTR_SERVICE_NAME]||this.DEFAULT_SERVICE_NAME);if(mn6.diag.debug("Zipkin exporter export"),this._isShutdown){setTimeout(()=>Z({code:cn6.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")}));return}let Y=new Promise((z)=>{this._sendSpans(J,X,(W)=>{z(),Z(W)})});this._sendingPromises.push(Y);let $=()=>{let z=this._sendingPromises.indexOf(Y);this._sendingPromises.splice(z,1)};Y.then($,$)}shutdown(){return mn6.diag.debug("Zipkin exporter shutdown"),this._isShutdown=!0,this.forceFlush()}forceFlush(){return new Promise((J,Z)=>{Promise.all(this._sendingPromises).then(()=>{J()},Z)})}_beforeSend(){if(this._getHeaders)this._send=(0,ln6.prepareSend)(this._urlStr,this._getHeaders())}_sendSpans(J,Z,X){let Y=J.map(($)=>(0,UD1.toZipkinSpan)($,String($.attributes[OD1.ATTR_SERVICE_NAME]||$.resource.attributes[OD1.ATTR_SERVICE_NAME]||Z),this._statusCodeTagName,this._statusDescriptionTagName));return this._beforeSend(),this._send(Y,($)=>{if(X)return X($)})}}nn6.ZipkinExporter=pn6});var sn6=B((mp)=>{Object.defineProperty(mp,"__esModule",{value:!0});mp.ZipkinExporter=mp.prepareSend=void 0;var f_5=BD1();Object.defineProperty(mp,"prepareSend",{enumerable:!0,get:function(){return f_5.prepareSend}});var k_5=on6();Object.defineProperty(mp,"ZipkinExporter",{enumerable:!0,get:function(){return k_5.ZipkinExporter}})});var DD1=B((an6)=>{Object.defineProperty(an6,"__esModule",{value:!0});an6.B3_DEBUG_FLAG_KEY=void 0;var h_5=C();an6.B3_DEBUG_FLAG_KEY=(0,h_5.createContextKey)("OpenTelemetry Context Key B3 Debug Flag")});var tR=B((tn6)=>{Object.defineProperty(tn6,"__esModule",{value:!0});tn6.X_B3_FLAGS=tn6.X_B3_PARENT_SPAN_ID=tn6.X_B3_SAMPLED=tn6.X_B3_SPAN_ID=tn6.X_B3_TRACE_ID=tn6.B3_CONTEXT_HEADER=void 0;tn6.B3_CONTEXT_HEADER="b3";tn6.X_B3_TRACE_ID="x-b3-traceid";tn6.X_B3_SPAN_ID="x-b3-spanid";tn6.X_B3_SAMPLED="x-b3-sampled";tn6.X_B3_PARENT_SPAN_ID="x-b3-parentspanid";tn6.X_B3_FLAGS="x-b3-flags"});var zi6=B((Yi6)=>{Object.defineProperty(Yi6,"__esModule",{value:!0});Yi6.B3MultiPropagator=void 0;var sY=C(),d_5=Y9(),Ji6=DD1(),yJ=tR(),u_5=new Set([!0,"true","True","1",1]),m_5=new Set([!1,"false","False","0",0]);function c_5(J){return J===sY.TraceFlags.SAMPLED||J===sY.TraceFlags.NONE}function l_5(J){return Array.isArray(J)?J[0]:J}function cp(J,Z,X){let Y=Z.get(J,X);return l_5(Y)}function p_5(J,Z){let X=cp(J,Z,yJ.X_B3_TRACE_ID);if(typeof X==="string")return X.padStart(32,"0");return""}function n_5(J,Z){let X=cp(J,Z,yJ.X_B3_SPAN_ID);if(typeof X==="string")return X;return""}function Zi6(J,Z){return cp(J,Z,yJ.X_B3_FLAGS)==="1"?"1":void 0}function i_5(J,Z){let X=cp(J,Z,yJ.X_B3_SAMPLED);if(Zi6(J,Z)==="1"||u_5.has(X))return sY.TraceFlags.SAMPLED;if(X===void 0||m_5.has(X))return sY.TraceFlags.NONE;return}class Xi6{inject(J,Z,X){let Y=sY.trace.getSpanContext(J);if(!Y||!(0,sY.isSpanContextValid)(Y)||(0,d_5.isTracingSuppressed)(J))return;let $=J.getValue(Ji6.B3_DEBUG_FLAG_KEY);if(X.set(Z,yJ.X_B3_TRACE_ID,Y.traceId),X.set(Z,yJ.X_B3_SPAN_ID,Y.spanId),$==="1")X.set(Z,yJ.X_B3_FLAGS,$);else if(Y.traceFlags!==void 0)X.set(Z,yJ.X_B3_SAMPLED,(sY.TraceFlags.SAMPLED&Y.traceFlags)===sY.TraceFlags.SAMPLED?"1":"0")}extract(J,Z,X){let Y=p_5(Z,X),$=n_5(Z,X),z=i_5(Z,X),W=Zi6(Z,X);if((0,sY.isValidTraceId)(Y)&&(0,sY.isValidSpanId)($)&&c_5(z))return J=J.setValue(Ji6.B3_DEBUG_FLAG_KEY,W),sY.trace.setSpanContext(J,{traceId:Y,spanId:$,isRemote:!0,traceFlags:z});return J}fields(){return[yJ.X_B3_TRACE_ID,yJ.X_B3_SPAN_ID,yJ.X_B3_FLAGS,yJ.X_B3_SAMPLED,yJ.X_B3_PARENT_SPAN_ID]}}Yi6.B3MultiPropagator=Xi6});var qi6=B((Gi6)=>{Object.defineProperty(Gi6,"__esModule",{value:!0});Gi6.B3SinglePropagator=void 0;var MD=C(),o_5=Y9(),Wi6=DD1(),VD1=tR(),s_5=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,a_5="0".repeat(16),r_5=new Set(["d","1"]),t_5="d";function e_5(J){return J.length===32?J:`${a_5}${J}`}function Jy5(J){if(J&&r_5.has(J))return MD.TraceFlags.SAMPLED;return MD.TraceFlags.NONE}class Qi6{inject(J,Z,X){let Y=MD.trace.getSpanContext(J);if(!Y||!(0,MD.isSpanContextValid)(Y)||(0,o_5.isTracingSuppressed)(J))return;let $=J.getValue(Wi6.B3_DEBUG_FLAG_KEY)||Y.traceFlags&1,z=`${Y.traceId}-${Y.spanId}-${$}`;X.set(Z,VD1.B3_CONTEXT_HEADER,z)}extract(J,Z,X){let Y=X.get(Z,VD1.B3_CONTEXT_HEADER),$=Array.isArray(Y)?Y[0]:Y;if(typeof $!=="string")return J;let z=$.match(s_5);if(!z)return J;let[,W,Q,G]=z,K=e_5(W);if(!(0,MD.isValidTraceId)(K)||!(0,MD.isValidSpanId)(Q))return J;let q=Jy5(G);if(G===t_5)J=J.setValue(Wi6.B3_DEBUG_FLAG_KEY,G);return MD.trace.setSpanContext(J,{traceId:K,spanId:Q,isRemote:!0,traceFlags:q})}fields(){return[VD1.B3_CONTEXT_HEADER]}}Gi6.B3SinglePropagator=Qi6});var wD1=B((Bi6)=>{Object.defineProperty(Bi6,"__esModule",{value:!0});Bi6.B3InjectEncoding=void 0;var Zy5;(function(J){J[J.SINGLE_HEADER=0]="SINGLE_HEADER",J[J.MULTI_HEADER=1]="MULTI_HEADER"})(Zy5=Bi6.B3InjectEncoding||(Bi6.B3InjectEncoding={}))});var Oi6=B((Fi6)=>{Object.defineProperty(Fi6,"__esModule",{value:!0});Fi6.B3Propagator=void 0;var Xy5=Y9(),Yy5=zi6(),$y5=qi6(),zy5=tR(),Wy5=wD1();class Hi6{_b3MultiPropagator=new Yy5.B3MultiPropagator;_b3SinglePropagator=new $y5.B3SinglePropagator;_inject;_fields;constructor(J={}){if(J.injectEncoding===Wy5.B3InjectEncoding.MULTI_HEADER)this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields();else this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields()}inject(J,Z,X){if((0,Xy5.isTracingSuppressed)(J))return;this._inject(J,Z,X)}extract(J,Z,X){let Y=X.get(Z,zy5.B3_CONTEXT_HEADER);if(Array.isArray(Y)?Y[0]:Y)return this._b3SinglePropagator.extract(J,Z,X);else return this._b3MultiPropagator.extract(J,Z,X)}fields(){return this._fields}}Fi6.B3Propagator=Hi6});var Di6=B((kW)=>{Object.defineProperty(kW,"__esModule",{value:!0});kW.B3InjectEncoding=kW.X_B3_TRACE_ID=kW.X_B3_SPAN_ID=kW.X_B3_SAMPLED=kW.X_B3_PARENT_SPAN_ID=kW.X_B3_FLAGS=kW.B3_CONTEXT_HEADER=kW.B3Propagator=void 0;var Qy5=Oi6();Object.defineProperty(kW,"B3Propagator",{enumerable:!0,get:function(){return Qy5.B3Propagator}});var gA=tR();Object.defineProperty(kW,"B3_CONTEXT_HEADER",{enumerable:!0,get:function(){return gA.B3_CONTEXT_HEADER}});Object.defineProperty(kW,"X_B3_FLAGS",{enumerable:!0,get:function(){return gA.X_B3_FLAGS}});Object.defineProperty(kW,"X_B3_PARENT_SPAN_ID",{enumerable:!0,get:function(){return gA.X_B3_PARENT_SPAN_ID}});Object.defineProperty(kW,"X_B3_SAMPLED",{enumerable:!0,get:function(){return gA.X_B3_SAMPLED}});Object.defineProperty(kW,"X_B3_SPAN_ID",{enumerable:!0,get:function(){return gA.X_B3_SPAN_ID}});Object.defineProperty(kW,"X_B3_TRACE_ID",{enumerable:!0,get:function(){return gA.X_B3_TRACE_ID}});var Gy5=wD1();Object.defineProperty(kW,"B3InjectEncoding",{enumerable:!0,get:function(){return Gy5.B3InjectEncoding}})});var Mi6=B((Ii6)=>{Object.defineProperty(Ii6,"__esModule",{value:!0});Ii6.JaegerPropagator=Ii6.UBER_BAGGAGE_HEADER_PREFIX=Ii6.UBER_TRACE_ID_HEADER=void 0;var ND=C(),qy5=Y9();Ii6.UBER_TRACE_ID_HEADER="uber-trace-id";Ii6.UBER_BAGGAGE_HEADER_PREFIX="uberctx";class Vi6{_jaegerTraceHeader;_jaegerBaggageHeaderPrefix;constructor(J){if(typeof J==="string")this._jaegerTraceHeader=J,this._jaegerBaggageHeaderPrefix=Ii6.UBER_BAGGAGE_HEADER_PREFIX;else this._jaegerTraceHeader=J?.customTraceHeader||Ii6.UBER_TRACE_ID_HEADER,this._jaegerBaggageHeaderPrefix=J?.customBaggageHeaderPrefix||Ii6.UBER_BAGGAGE_HEADER_PREFIX}inject(J,Z,X){let Y=ND.trace.getSpanContext(J),$=ND.propagation.getBaggage(J);if(Y&&(0,qy5.isTracingSuppressed)(J)===!1){let z=`0${(Y.traceFlags||ND.TraceFlags.NONE).toString(16)}`;X.set(Z,this._jaegerTraceHeader,`${Y.traceId}:${Y.spanId}:0:${z}`)}if($)for(let[z,W]of $.getAllEntries())X.set(Z,`${this._jaegerBaggageHeaderPrefix}-${z}`,encodeURIComponent(W.value))}extract(J,Z,X){let Y=X.get(Z,this._jaegerTraceHeader),$=Array.isArray(Y)?Y[0]:Y,z=X.keys(Z).filter((G)=>G.startsWith(`${this._jaegerBaggageHeaderPrefix}-`)).map((G)=>{let K=X.get(Z,G);return{key:G.substring(this._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(K)?K[0]:K}}),W=J;if(typeof $==="string"){let G=Hy5($);if(G)W=ND.trace.setSpanContext(W,G)}if(z.length===0)return W;let Q=ND.propagation.getBaggage(J)??ND.propagation.createBaggage();for(let G of z){if(G.value===void 0)continue;Q=Q.setEntry(G.key,{value:decodeURIComponent(G.value)})}return W=ND.propagation.setBaggage(W,Q),W}fields(){return[this._jaegerTraceHeader]}}Ii6.JaegerPropagator=Vi6;var By5=/^[0-9a-f]{1,2}$/i;function Hy5(J){let Z=decodeURIComponent(J).split(":");if(Z.length!==4)return null;let[X,Y,,$]=Z,z=X.padStart(32,"0"),W=Y.padStart(16,"0"),Q=By5.test($)?parseInt($,16)&1:1;return{traceId:z,spanId:W,isRemote:!0,traceFlags:Q}}});var Ni6=B((eR)=>{Object.defineProperty(eR,"__esModule",{value:!0});eR.UBER_TRACE_ID_HEADER=eR.UBER_BAGGAGE_HEADER_PREFIX=eR.JaegerPropagator=void 0;var MD1=Mi6();Object.defineProperty(eR,"JaegerPropagator",{enumerable:!0,get:function(){return MD1.JaegerPropagator}});Object.defineProperty(eR,"UBER_BAGGAGE_HEADER_PREFIX",{enumerable:!0,get:function(){return MD1.UBER_BAGGAGE_HEADER_PREFIX}});Object.defineProperty(eR,"UBER_TRACE_ID_HEADER",{enumerable:!0,get:function(){return MD1.UBER_TRACE_ID_HEADER}})});var Ei6=B((ji6)=>{Object.defineProperty(ji6,"__esModule",{value:!0});ji6.getPropagatorFromEnv=ji6.getSpanProcessorsFromEnv=ji6.getOtlpProtocolFromEnv=ji6.filterBlanksAndNulls=ji6.getResourceDetectorsFromEnv=void 0;var JH=C(),ZH=Y9(),Pi6=nc6(),Uy5=Yl6(),Oy5=Kl6(),Dy5=sn6(),JE=WB(),lp=KA(),ND1=Di6(),Vy5=Ni6(),Iy5="env",wy5="host",Ay5="os",My5="process",Ny5="serviceinstance";function Py5(){let J=new Map([[Iy5,JE.envDetector],[wy5,JE.hostDetector],[Ay5,JE.osDetector],[Ny5,JE.serviceInstanceIdDetector],[My5,JE.processDetector]]),Z=(0,ZH.getStringListFromEnv)("OTEL_NODE_RESOURCE_DETECTORS")??["all"];if(Z.includes("all"))return[...J.values()].flat();if(Z.includes("none"))return[];return Z.flatMap((X)=>{let Y=J.get(X);if(!Y)JH.diag.warn(`Invalid resource detector "${X}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`);return Y||[]})}ji6.getResourceDetectorsFromEnv=Py5;function Li6(J){return J.map((Z)=>Z.trim()).filter((Z)=>Z!=="null"&&Z!=="")}ji6.filterBlanksAndNulls=Li6;function Ci6(){return(0,ZH.getStringFromEnv)("OTEL_EXPORTER_OTLP_TRACES_PROTOCOL")??(0,ZH.getStringFromEnv)("OTEL_EXPORTER_OTLP_PROTOCOL")??"http/protobuf"}ji6.getOtlpProtocolFromEnv=Ci6;function Ly5(){let J=Ci6();switch(J){case"grpc":return new Oy5.OTLPTraceExporter;case"http/json":return new Uy5.OTLPTraceExporter;case"http/protobuf":return new Pi6.OTLPTraceExporter;default:return JH.diag.warn(`Unsupported OTLP traces protocol: ${J}. Using http/protobuf.`),new Pi6.OTLPTraceExporter}}function Cy5(){try{let{JaegerExporter:J}=(()=>{throw new Error("Cannot require module "+"@opentelemetry/exporter-jaeger");})();return new J}catch(J){throw new Error(`Could not instantiate JaegerExporter. This could be due to the JaegerExporter's lack of support for bundling. If possible, use @opentelemetry/exporter-trace-otlp-proto instead. Original Error: ${J}`)}}function jy5(){let J=new Map([["otlp",()=>Ly5()],["zipkin",()=>new Dy5.ZipkinExporter],["console",()=>new lp.ConsoleSpanExporter],["jaeger",()=>Cy5()]]),Z=[],X=[],Y=Li6(Array.from(new Set((0,ZH.getStringListFromEnv)("OTEL_TRACES_EXPORTER"))));if(Y[0]==="none")return JH.diag.warn('OTEL_TRACES_EXPORTER contains "none". SDK will not be initialized.'),[];if(Y.length===0)JH.diag.debug("OTEL_TRACES_EXPORTER is empty. Using default otlp exporter."),Y=["otlp"];else if(Y.length>1&&Y.includes("none"))JH.diag.warn('OTEL_TRACES_EXPORTER contains "none" along with other exporters. Using default otlp exporter.'),Y=["otlp"];for(let $ of Y){let z=J.get($)?.();if(z)Z.push(z);else JH.diag.warn(`Unrecognized OTEL_TRACES_EXPORTER value: ${$}.`)}for(let $ of Z)if($ instanceof lp.ConsoleSpanExporter)X.push(new lp.SimpleSpanProcessor($));else X.push(new lp.BatchSpanProcessor($));if(Z.length===0)JH.diag.warn("Unable to set up trace exporter(s) due to invalid exporter and/or protocol values.");return X}ji6.getSpanProcessorsFromEnv=jy5;function Ry5(){let J=(0,ZH.getStringListFromEnv)("OTEL_PROPAGATORS");if(J==null)return;let Z=new Map([["tracecontext",()=>new ZH.W3CTraceContextPropagator],["baggage",()=>new ZH.W3CBaggagePropagator],["b3",()=>new ND1.B3Propagator],["b3multi",()=>new ND1.B3Propagator({injectEncoding:ND1.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new Vy5.JaegerPropagator]]),X=Array.from(new Set(J)),$=X.map((z)=>{let W=Z.get(z)?.();if(!W){JH.diag.warn(`Propagator "${z}" requested through environment variable is unavailable.`);return}return W}).reduce((z,W)=>{if(W)z.push(W);return z},[]);if($.length===0)return null;else if(X.length===1)return $[0];else return new ZH.CompositePropagator({propagators:$})}ji6.getPropagatorFromEnv=Ry5});var hi6=B((ki6)=>{Object.defineProperty(ki6,"__esModule",{value:!0});ki6.NodeSDK=void 0;var YJ=C(),ky5=Q31(),by5=J6(),dA=WB(),ZE=F31(),hy5=JE6(),_y5=Xx6(),PD1=Fx6(),yy5=ed6(),Si6=Gu6(),vy5=Fp(),xy5=_c6(),PD=hO(),gy5=KA(),dy5=nq1(),uy5=j1(),XH=Y9(),LD1=Ei6();function Ti6(J,Z){return parseInt(process.env[J]||"")||Z}function my5(){let J=[],Z=(0,XH.getStringListFromEnv)("OTEL_METRICS_EXPORTER");if(!Z)return J;if(Z.length===0)YJ.diag.debug("OTEL_METRICS_EXPORTER is empty. Using default otlp exporter.");if(Z.includes("none"))return YJ.diag.info('OTEL_METRICS_EXPORTER contains "none". Metric provider will not be initialized.'),J;return Z.forEach((X)=>{if(X==="otlp"){let Y=process.env.OTEL_EXPORTER_OTLP_METRICS_PROTOCOL?.trim()||process.env.OTEL_EXPORTER_OTLP_PROTOCOL?.trim(),$=Ti6("OTEL_METRIC_EXPORT_INTERVAL",60000),z=Ti6("OTEL_METRIC_EXPORT_TIMEOUT",30000);switch(Y){case"grpc":J.push(new PD.PeriodicExportingMetricReader({exporter:new yy5.OTLPMetricExporter,exportIntervalMillis:$,exportTimeoutMillis:z}));break;case"http/json":J.push(new PD.PeriodicExportingMetricReader({exporter:new vy5.OTLPMetricExporter,exportIntervalMillis:$,exportTimeoutMillis:z}));break;case"http/protobuf":J.push(new PD.PeriodicExportingMetricReader({exporter:new Si6.OTLPMetricExporter,exportIntervalMillis:$,exportTimeoutMillis:z}));break;default:YJ.diag.warn(`Unsupported OTLP metrics protocol: "${Y}". Using http/protobuf.`),J.push(new PD.PeriodicExportingMetricReader({exporter:new Si6.OTLPMetricExporter,exportIntervalMillis:$,exportTimeoutMillis:z}))}}else if(X==="console")J.push(new PD.PeriodicExportingMetricReader({exporter:new PD.ConsoleMetricExporter}));else if(X==="prometheus")J.push(new xy5.PrometheusExporter);else YJ.diag.warn(`Unsupported OTEL_METRICS_EXPORTER value: "${X}". Supported values are: otlp, console, prometheus, none.`)}),J}class fi6{_tracerProviderConfig;_loggerProviderConfig;_meterProviderConfig;_instrumentations;_resource;_resourceDetectors;_autoDetectResources;_tracerProvider;_loggerProvider;_meterProvider;_serviceName;_configuration;_disabled;constructor(J={}){if((0,XH.getBooleanFromEnv)("OTEL_SDK_DISABLED"))this._disabled=!0;let Z=(0,XH.getStringFromEnv)("OTEL_LOG_LEVEL");if(Z!=null)YJ.diag.setLogger(new YJ.DiagConsoleLogger,{logLevel:(0,XH.diagLogLevelFromString)(Z)});if(this._configuration=J,this._resource=J.resource??(0,dA.defaultResource)(),this._autoDetectResources=J.autoDetectResources??!0,!this._autoDetectResources)this._resourceDetectors=[];else if(J.resourceDetectors!=null)this._resourceDetectors=J.resourceDetectors;else if((0,XH.getStringFromEnv)("OTEL_NODE_RESOURCE_DETECTORS"))this._resourceDetectors=(0,LD1.getResourceDetectorsFromEnv)();else this._resourceDetectors=[dA.envDetector,dA.processDetector,dA.hostDetector];if(this._serviceName=J.serviceName,J.traceExporter||J.spanProcessor||J.spanProcessors){let X={};if(J.sampler)X.sampler=J.sampler;if(J.spanLimits)X.spanLimits=J.spanLimits;if(J.idGenerator)X.idGenerator=J.idGenerator;if(J.spanProcessor)YJ.diag.warn("The 'spanProcessor' option is deprecated. Please use 'spanProcessors' instead.");let Y=J.spanProcessor??new gy5.BatchSpanProcessor(J.traceExporter),$=J.spanProcessors??[Y];this._tracerProviderConfig={tracerConfig:X,spanProcessors:$,contextManager:J.contextManager,textMapPropagator:J.textMapPropagator}}if(J.logRecordProcessors)this._loggerProviderConfig={logRecordProcessors:J.logRecordProcessors};else if(J.logRecordProcessor)this._loggerProviderConfig={logRecordProcessors:[J.logRecordProcessor]},YJ.diag.warn("The 'logRecordProcessor' option is deprecated. Please use 'logRecordProcessors' instead.");else this.configureLoggerProviderFromEnv();if(J.metricReader||J.views){let X={};if(J.metricReader)X.reader=J.metricReader;if(J.views)X.views=J.views;this._meterProviderConfig=X}this._instrumentations=J.instrumentations?.flat()??[]}start(){if(this._disabled)return;if((0,by5.registerInstrumentations)({instrumentations:this._instrumentations}),this._autoDetectResources){let X={detectors:this._resourceDetectors};this._resource=this._resource.merge((0,dA.detectResources)(X))}this._resource=this._serviceName===void 0?this._resource:this._resource.merge((0,dA.resourceFromAttributes)({[uy5.ATTR_SERVICE_NAME]:this._serviceName}));let J=this._tracerProviderConfig?this._tracerProviderConfig.spanProcessors:(0,LD1.getSpanProcessorsFromEnv)();if(this._tracerProvider=new dy5.NodeTracerProvider({...this._configuration,resource:this._resource,spanProcessors:J}),J.length>0)this._tracerProvider.register({contextManager:this._tracerProviderConfig?.contextManager??this._configuration?.contextManager,propagator:this._tracerProviderConfig?.textMapPropagator??(0,LD1.getPropagatorFromEnv)()});if(this._loggerProviderConfig){let X=new ZE.LoggerProvider({resource:this._resource,processors:this._loggerProviderConfig.logRecordProcessors});this._loggerProvider=X,ky5.logs.setGlobalLoggerProvider(X)}let Z=my5();if(this._meterProviderConfig||Z.length>0){let X=[];if(this._meterProviderConfig?.reader)X.push(this._meterProviderConfig.reader);if(X.length===0)Z.forEach(($)=>X.push($));let Y=new PD.MeterProvider({resource:this._resource,views:this._meterProviderConfig?.views??[],readers:X});this._meterProvider=Y,YJ.metrics.setGlobalMeterProvider(Y);for(let $ of this._instrumentations)$.setMeterProvider(YJ.metrics.getMeterProvider())}}shutdown(){let J=[];if(this._tracerProvider)J.push(this._tracerProvider.shutdown());if(this._loggerProvider)J.push(this._loggerProvider.shutdown());if(this._meterProvider)J.push(this._meterProvider.shutdown());return Promise.all(J).then(()=>{})}configureLoggerProviderFromEnv(){let J=(0,XH.getStringListFromEnv)("OTEL_LOGS_EXPORTER")??[];if(J.length===0)YJ.diag.debug("OTEL_LOGS_EXPORTER is empty. Using default otlp exporter."),J.push("otlp");if(J.includes("none")){YJ.diag.info('OTEL_LOGS_EXPORTER contains "none". Logger provider will not be initialized.');return}let Z=[];if(J.forEach((X)=>{if(X==="otlp"){let Y=((0,XH.getStringFromEnv)("OTEL_EXPORTER_OTLP_LOGS_PROTOCOL")??(0,XH.getStringFromEnv)("OTEL_EXPORTER_OTLP_PROTOCOL"))?.trim();switch(Y){case"grpc":Z.push(new _y5.OTLPLogExporter);break;case"http/json":Z.push(new hy5.OTLPLogExporter);break;case"http/protobuf":Z.push(new PD1.OTLPLogExporter);break;case void 0:case"":Z.push(new PD1.OTLPLogExporter);break;default:YJ.diag.warn(`Unsupported OTLP logs protocol: "${Y}". Using http/protobuf.`),Z.push(new PD1.OTLPLogExporter)}}else if(X==="console")Z.push(new ZE.ConsoleLogRecordExporter);else YJ.diag.warn(`Unsupported OTEL_LOGS_EXPORTER value: "${X}". Supported values are: otlp, console, none.`)}),Z.length>0)this._loggerProviderConfig={logRecordProcessors:Z.map((X)=>{if(X instanceof ZE.ConsoleLogRecordExporter)return new ZE.SimpleLogRecordProcessor(X);else return new ZE.BatchLogRecordProcessor(X)})}}}ki6.NodeSDK=fi6});var _i6=B((CD1)=>{Object.defineProperty(CD1,"__esModule",{value:!0});CD1.NodeSDK=CD1.tracing=CD1.resources=CD1.node=CD1.metrics=CD1.logs=CD1.core=CD1.contextBase=CD1.api=void 0;CD1.api=C();CD1.contextBase=C();CD1.core=Y9();CD1.logs=F31();CD1.metrics=hO();CD1.node=nq1();CD1.resources=WB();CD1.tracing=KA();var cy5=hi6();Object.defineProperty(CD1,"NodeSDK",{enumerable:!0,get:function(){return cy5.NodeSDK}})});var Io6=B((_v5)=>{var Vo6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");_v5.encode=function(J){if(0<=J&&J<Vo6.length)return Vo6[J];throw new TypeError("Must be between 0 and 63: "+J)};_v5.decode=function(J){var Z=65,X=90,Y=97,$=122,z=48,W=57,Q=43,G=47,K=26,q=52;if(Z<=J&&J<=X)return J-Z;if(Y<=J&&J<=$)return J-Y+K;if(z<=J&&J<=W)return J-z+q;if(J==Q)return 62;if(J==G)return 63;return-1}});var _D1=B((dv5)=>{var wo6=Io6(),hD1=5,Ao6=1<<hD1,Mo6=Ao6-1,No6=Ao6;function xv5(J){return J<0?(-J<<1)+1:(J<<1)+0}function gv5(J){var Z=(J&1)===1,X=J>>1;return Z?-X:X}dv5.encode=function J(Z){var X="",Y,$=xv5(Z);do{if(Y=$&Mo6,$>>>=hD1,$>0)Y|=No6;X+=wo6.encode(Y)}while($>0);return X};dv5.decode=function J(Z,X,Y){var $=Z.length,z=0,W=0,Q,G;do{if(X>=$)throw new Error("Expected more digits in base 64 VLQ value.");if(G=wo6.decode(Z.charCodeAt(X++)),G===-1)throw new Error("Invalid base64 digit: "+Z.charAt(X-1));Q=!!(G&No6),G&=Mo6,z=z+(G<<W),W+=hD1}while(Q);Y.value=gv5(z),Y.rest=X}});var lA=B((ev5)=>{function cv5(J,Z,X){if(Z in J)return J[Z];else if(arguments.length===3)return X;else throw new Error('"'+Z+'" is a required argument.')}ev5.getArg=cv5;var Po6=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,lv5=/^data:.+\,.+$/;function QE(J){var Z=J.match(Po6);if(!Z)return null;return{scheme:Z[1],auth:Z[2],host:Z[3],port:Z[4],path:Z[5]}}ev5.urlParse=QE;function mA(J){var Z="";if(J.scheme)Z+=J.scheme+":";if(Z+="//",J.auth)Z+=J.auth+"@";if(J.host)Z+=J.host;if(J.port)Z+=":"+J.port;if(J.path)Z+=J.path;return Z}ev5.urlGenerate=mA;function yD1(J){var Z=J,X=QE(J);if(X){if(!X.path)return J;Z=X.path}var Y=ev5.isAbsolute(Z),$=Z.split(/\/+/);for(var z,W=0,Q=$.length-1;Q>=0;Q--)if(z=$[Q],z===".")$.splice(Q,1);else if(z==="..")W++;else if(W>0)if(z==="")$.splice(Q+1,W),W=0;else $.splice(Q,2),W--;if(Z=$.join("/"),Z==="")Z=Y?"/":".";if(X)return X.path=Z,mA(X);return Z}ev5.normalize=yD1;function Lo6(J,Z){if(J==="")J=".";if(Z==="")Z=".";var X=QE(Z),Y=QE(J);if(Y)J=Y.path||"/";if(X&&!X.scheme){if(Y)X.scheme=Y.scheme;return mA(X)}if(X||Z.match(lv5))return Z;if(Y&&!Y.host&&!Y.path)return Y.host=Z,mA(Y);var $=Z.charAt(0)==="/"?Z:yD1(J.replace(/\/+$/,"")+"/"+Z);if(Y)return Y.path=$,mA(Y);return $}ev5.join=Lo6;ev5.isAbsolute=function(J){return J.charAt(0)==="/"||Po6.test(J)};function pv5(J,Z){if(J==="")J=".";J=J.replace(/\/$/,"");var X=0;while(Z.indexOf(J+"/")!==0){var Y=J.lastIndexOf("/");if(Y<0)return Z;if(J=J.slice(0,Y),J.match(/^([^\/]+:\/)?\/*$/))return Z;++X}return Array(X+1).join("../")+Z.substr(J.length+1)}ev5.relative=pv5;var Co6=function(){var J=Object.create(null);return!("__proto__"in J)}();function jo6(J){return J}function nv5(J){if(Ro6(J))return"$"+J;return J}ev5.toSetString=Co6?jo6:nv5;function iv5(J){if(Ro6(J))return J.slice(1);return J}ev5.fromSetString=Co6?jo6:iv5;function Ro6(J){if(!J)return!1;var Z=J.length;if(Z<9)return!1;if(J.charCodeAt(Z-1)!==95||J.charCodeAt(Z-2)!==95||J.charCodeAt(Z-3)!==111||J.charCodeAt(Z-4)!==116||J.charCodeAt(Z-5)!==111||J.charCodeAt(Z-6)!==114||J.charCodeAt(Z-7)!==112||J.charCodeAt(Z-8)!==95||J.charCodeAt(Z-9)!==95)return!1;for(var X=Z-10;X>=0;X--)if(J.charCodeAt(X)!==36)return!1;return!0}function ov5(J,Z,X){var Y=cA(J.source,Z.source);if(Y!==0)return Y;if(Y=J.originalLine-Z.originalLine,Y!==0)return Y;if(Y=J.originalColumn-Z.originalColumn,Y!==0||X)return Y;if(Y=J.generatedColumn-Z.generatedColumn,Y!==0)return Y;if(Y=J.generatedLine-Z.generatedLine,Y!==0)return Y;return cA(J.name,Z.name)}ev5.compareByOriginalPositions=ov5;function sv5(J,Z,X){var Y=J.generatedLine-Z.generatedLine;if(Y!==0)return Y;if(Y=J.generatedColumn-Z.generatedColumn,Y!==0||X)return Y;if(Y=cA(J.source,Z.source),Y!==0)return Y;if(Y=J.originalLine-Z.originalLine,Y!==0)return Y;if(Y=J.originalColumn-Z.originalColumn,Y!==0)return Y;return cA(J.name,Z.name)}ev5.compareByGeneratedPositionsDeflated=sv5;function cA(J,Z){if(J===Z)return 0;if(J===null)return 1;if(Z===null)return-1;if(J>Z)return 1;return-1}function av5(J,Z){var X=J.generatedLine-Z.generatedLine;if(X!==0)return X;if(X=J.generatedColumn-Z.generatedColumn,X!==0)return X;if(X=cA(J.source,Z.source),X!==0)return X;if(X=J.originalLine-Z.originalLine,X!==0)return X;if(X=J.originalColumn-Z.originalColumn,X!==0)return X;return cA(J.name,Z.name)}ev5.compareByGeneratedPositionsInflated=av5;function rv5(J){return JSON.parse(J.replace(/^\)]}'[^\n]*\n/,""))}ev5.parseSourceMapInput=rv5;function tv5(J,Z,X){if(Z=Z||"",J){if(J[J.length-1]!=="/"&&Z[0]!=="/")J+="/";Z=J+Z}if(X){var Y=QE(X);if(!Y)throw new Error("sourceMapURL could not be parsed");if(Y.path){var $=Y.path.lastIndexOf("/");if($>=0)Y.path=Y.path.substring(0,$+1)}Z=Lo6(mA(Y),Z)}return yD1(Z)}ev5.computeSourceURL=tv5});var gD1=B((Ux5)=>{var vD1=lA(),xD1=Object.prototype.hasOwnProperty,RD=typeof Map!=="undefined";function BK(){this._array=[],this._set=RD?new Map:Object.create(null)}BK.fromArray=function J(Z,X){var Y=new BK;for(var $=0,z=Z.length;$<z;$++)Y.add(Z[$],X);return Y};BK.prototype.size=function J(){return RD?this._set.size:Object.getOwnPropertyNames(this._set).length};BK.prototype.add=function J(Z,X){var Y=RD?Z:vD1.toSetString(Z),$=RD?this.has(Z):xD1.call(this._set,Y),z=this._array.length;if(!$||X)this._array.push(Z);if(!$)if(RD)this._set.set(Z,z);else this._set[Y]=z};BK.prototype.has=function J(Z){if(RD)return this._set.has(Z);else{var X=vD1.toSetString(Z);return xD1.call(this._set,X)}};BK.prototype.indexOf=function J(Z){if(RD){var X=this._set.get(Z);if(X>=0)return X}else{var Y=vD1.toSetString(Z);if(xD1.call(this._set,Y))return this._set[Y]}throw new Error('"'+Z+'" is not in the set.')};BK.prototype.at=function J(Z){if(Z>=0&&Z<this._array.length)return this._array[Z];throw new Error("No element indexed by "+Z)};BK.prototype.toArray=function J(){return this._array.slice()};Ux5.ArraySet=BK});var So6=B((Vx5)=>{var Eo6=lA();function Dx5(J,Z){var X=J.generatedLine,Y=Z.generatedLine,$=J.generatedColumn,z=Z.generatedColumn;return Y>X||Y==X&&z>=$||Eo6.compareByGeneratedPositionsInflated(J,Z)<=0}function rp(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}rp.prototype.unsortedForEach=function J(Z,X){this._array.forEach(Z,X)};rp.prototype.add=function J(Z){if(Dx5(this._last,Z))this._last=Z,this._array.push(Z);else this._sorted=!1,this._array.push(Z)};rp.prototype.toArray=function J(){if(!this._sorted)this._array.sort(Eo6.compareByGeneratedPositionsInflated),this._sorted=!0;return this._array};Vx5.MappingList=rp});var dD1=B((Ax5)=>{var GE=_D1(),N5=lA(),tp=gD1().ArraySet,wx5=So6().MappingList;function bX(J){if(!J)J={};this._file=N5.getArg(J,"file",null),this._sourceRoot=N5.getArg(J,"sourceRoot",null),this._skipValidation=N5.getArg(J,"skipValidation",!1),this._sources=new tp,this._names=new tp,this._mappings=new wx5,this._sourcesContents=null}bX.prototype._version=3;bX.fromSourceMap=function J(Z){var X=Z.sourceRoot,Y=new bX({file:Z.file,sourceRoot:X});return Z.eachMapping(function($){var z={generated:{line:$.generatedLine,column:$.generatedColumn}};if($.source!=null){if(z.source=$.source,X!=null)z.source=N5.relative(X,z.source);if(z.original={line:$.originalLine,column:$.originalColumn},$.name!=null)z.name=$.name}Y.addMapping(z)}),Z.sources.forEach(function($){var z=$;if(X!==null)z=N5.relative(X,$);if(!Y._sources.has(z))Y._sources.add(z);var W=Z.sourceContentFor($);if(W!=null)Y.setSourceContent($,W)}),Y};bX.prototype.addMapping=function J(Z){var X=N5.getArg(Z,"generated"),Y=N5.getArg(Z,"original",null),$=N5.getArg(Z,"source",null),z=N5.getArg(Z,"name",null);if(!this._skipValidation)this._validateMapping(X,Y,$,z);if($!=null){if($=String($),!this._sources.has($))this._sources.add($)}if(z!=null){if(z=String(z),!this._names.has(z))this._names.add(z)}this._mappings.add({generatedLine:X.line,generatedColumn:X.column,originalLine:Y!=null&&Y.line,originalColumn:Y!=null&&Y.column,source:$,name:z})};bX.prototype.setSourceContent=function J(Z,X){var Y=Z;if(this._sourceRoot!=null)Y=N5.relative(this._sourceRoot,Y);if(X!=null){if(!this._sourcesContents)this._sourcesContents=Object.create(null);this._sourcesContents[N5.toSetString(Y)]=X}else if(this._sourcesContents){if(delete this._sourcesContents[N5.toSetString(Y)],Object.keys(this._sourcesContents).length===0)this._sourcesContents=null}};bX.prototype.applySourceMap=function J(Z,X,Y){var $=X;if(X==null){if(Z.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);$=Z.file}var z=this._sourceRoot;if(z!=null)$=N5.relative(z,$);var W=new tp,Q=new tp;this._mappings.unsortedForEach(function(G){if(G.source===$&&G.originalLine!=null){var K=Z.originalPositionFor({line:G.originalLine,column:G.originalColumn});if(K.source!=null){if(G.source=K.source,Y!=null)G.source=N5.join(Y,G.source);if(z!=null)G.source=N5.relative(z,G.source);if(G.originalLine=K.line,G.originalColumn=K.column,K.name!=null)G.name=K.name}}var q=G.source;if(q!=null&&!W.has(q))W.add(q);var H=G.name;if(H!=null&&!Q.has(H))Q.add(H)},this),this._sources=W,this._names=Q,Z.sources.forEach(function(G){var K=Z.sourceContentFor(G);if(K!=null){if(Y!=null)G=N5.join(Y,G);if(z!=null)G=N5.relative(z,G);this.setSourceContent(G,K)}},this)};bX.prototype._validateMapping=function J(Z,X,Y,$){if(X&&typeof X.line!=="number"&&typeof X.column!=="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(Z&&"line"in Z&&"column"in Z&&Z.line>0&&Z.column>=0&&!X&&!Y&&!$)return;else if(Z&&"line"in Z&&"column"in Z&&X&&"line"in X&&"column"in X&&Z.line>0&&Z.column>=0&&X.line>0&&X.column>=0&&Y)return;else throw new Error("Invalid mapping: "+JSON.stringify({generated:Z,source:Y,original:X,name:$}))};bX.prototype._serializeMappings=function J(){var Z=0,X=1,Y=0,$=0,z=0,W=0,Q="",G,K,q,H,F=this._mappings.toArray();for(var U=0,D=F.length;U<D;U++){if(K=F[U],G="",K.generatedLine!==X){Z=0;while(K.generatedLine!==X)G+=";",X++}else if(U>0){if(!N5.compareByGeneratedPositionsInflated(K,F[U-1]))continue;G+=","}if(G+=GE.encode(K.generatedColumn-Z),Z=K.generatedColumn,K.source!=null){if(H=this._sources.indexOf(K.source),G+=GE.encode(H-W),W=H,G+=GE.encode(K.originalLine-1-$),$=K.originalLine-1,G+=GE.encode(K.originalColumn-Y),Y=K.originalColumn,K.name!=null)q=this._names.indexOf(K.name),G+=GE.encode(q-z),z=q}Q+=G}return Q};bX.prototype._generateSourcesContent=function J(Z,X){return Z.map(function(Y){if(!this._sourcesContents)return null;if(X!=null)Y=N5.relative(X,Y);var $=N5.toSetString(Y);return Object.prototype.hasOwnProperty.call(this._sourcesContents,$)?this._sourcesContents[$]:null},this)};bX.prototype.toJSON=function J(){var Z={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};if(this._file!=null)Z.file=this._file;if(this._sourceRoot!=null)Z.sourceRoot=this._sourceRoot;if(this._sourcesContents)Z.sourcesContent=this._generateSourcesContent(Z.sources,Z.sourceRoot);return Z};bX.prototype.toString=function J(){return JSON.stringify(this.toJSON())};Ax5.SourceMapGenerator=bX});var fo6=B((Nx5)=>{Nx5.GREATEST_LOWER_BOUND=1;Nx5.LEAST_UPPER_BOUND=2;function uD1(J,Z,X,Y,$,z){var W=Math.floor((Z-J)/2)+J,Q=$(X,Y[W],!0);if(Q===0)return W;else if(Q>0){if(Z-W>1)return uD1(W,Z,X,Y,$,z);if(z==Nx5.LEAST_UPPER_BOUND)return Z<Y.length?Z:-1;else return W}else{if(W-J>1)return uD1(J,W,X,Y,$,z);if(z==Nx5.LEAST_UPPER_BOUND)return W;else return J<0?-1:J}}Nx5.search=function J(Z,X,Y,$){if(X.length===0)return-1;var z=uD1(-1,X.length,Z,X,Y,$||Nx5.GREATEST_LOWER_BOUND);if(z<0)return-1;while(z-1>=0){if(Y(X[z],X[z-1],!0)!==0)break;--z}return z}});var ko6=B((Cx5)=>{function cD1(J,Z,X){var Y=J[Z];J[Z]=J[X],J[X]=Y}function Lx5(J,Z){return Math.round(J+Math.random()*(Z-J))}function lD1(J,Z,X,Y){if(X<Y){var $=Lx5(X,Y),z=X-1;cD1(J,$,Y);var W=J[Y];for(var Q=X;Q<Y;Q++)if(Z(J[Q],W)<=0)z+=1,cD1(J,z,Q);cD1(J,z+1,Q);var G=z+1;lD1(J,Z,X,G-1),lD1(J,Z,G+1,Y)}}Cx5.quickSort=function(J,Z){lD1(J,Z,0,J.length-1)}});var ho6=B((Ex5)=>{var Z0=lA(),pD1=fo6(),pA=gD1().ArraySet,Rx5=_D1(),KE=ko6().quickSort;function A8(J,Z){var X=J;if(typeof J==="string")X=Z0.parseSourceMapInput(J);return X.sections!=null?new aY(X,Z):new M9(X,Z)}A8.fromSourceMap=function(J,Z){return M9.fromSourceMap(J,Z)};A8.prototype._version=3;A8.prototype.__generatedMappings=null;Object.defineProperty(A8.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){if(!this.__generatedMappings)this._parseMappings(this._mappings,this.sourceRoot);return this.__generatedMappings}});A8.prototype.__originalMappings=null;Object.defineProperty(A8.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){if(!this.__originalMappings)this._parseMappings(this._mappings,this.sourceRoot);return this.__originalMappings}});A8.prototype._charIsMappingSeparator=function J(Z,X){var Y=Z.charAt(X);return Y===";"||Y===","};A8.prototype._parseMappings=function J(Z,X){throw new Error("Subclasses must implement _parseMappings")};A8.GENERATED_ORDER=1;A8.ORIGINAL_ORDER=2;A8.GREATEST_LOWER_BOUND=1;A8.LEAST_UPPER_BOUND=2;A8.prototype.eachMapping=function J(Z,X,Y){var $=X||null,z=Y||A8.GENERATED_ORDER,W;switch(z){case A8.GENERATED_ORDER:W=this._generatedMappings;break;case A8.ORIGINAL_ORDER:W=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var Q=this.sourceRoot;W.map(function(G){var K=G.source===null?null:this._sources.at(G.source);return K=Z0.computeSourceURL(Q,K,this._sourceMapURL),{source:K,generatedLine:G.generatedLine,generatedColumn:G.generatedColumn,originalLine:G.originalLine,originalColumn:G.originalColumn,name:G.name===null?null:this._names.at(G.name)}},this).forEach(Z,$)};A8.prototype.allGeneratedPositionsFor=function J(Z){var X=Z0.getArg(Z,"line"),Y={source:Z0.getArg(Z,"source"),originalLine:X,originalColumn:Z0.getArg(Z,"column",0)};if(Y.source=this._findSourceIndex(Y.source),Y.source<0)return[];var $=[],z=this._findMapping(Y,this._originalMappings,"originalLine","originalColumn",Z0.compareByOriginalPositions,pD1.LEAST_UPPER_BOUND);if(z>=0){var W=this._originalMappings[z];if(Z.column===void 0){var Q=W.originalLine;while(W&&W.originalLine===Q)$.push({line:Z0.getArg(W,"generatedLine",null),column:Z0.getArg(W,"generatedColumn",null),lastColumn:Z0.getArg(W,"lastGeneratedColumn",null)}),W=this._originalMappings[++z]}else{var G=W.originalColumn;while(W&&W.originalLine===X&&W.originalColumn==G)$.push({line:Z0.getArg(W,"generatedLine",null),column:Z0.getArg(W,"generatedColumn",null),lastColumn:Z0.getArg(W,"lastGeneratedColumn",null)}),W=this._originalMappings[++z]}}return $};Ex5.SourceMapConsumer=A8;function M9(J,Z){var X=J;if(typeof J==="string")X=Z0.parseSourceMapInput(J);var Y=Z0.getArg(X,"version"),$=Z0.getArg(X,"sources"),z=Z0.getArg(X,"names",[]),W=Z0.getArg(X,"sourceRoot",null),Q=Z0.getArg(X,"sourcesContent",null),G=Z0.getArg(X,"mappings"),K=Z0.getArg(X,"file",null);if(Y!=this._version)throw new Error("Unsupported version: "+Y);if(W)W=Z0.normalize(W);$=$.map(String).map(Z0.normalize).map(function(q){return W&&Z0.isAbsolute(W)&&Z0.isAbsolute(q)?Z0.relative(W,q):q}),this._names=pA.fromArray(z.map(String),!0),this._sources=pA.fromArray($,!0),this._absoluteSources=this._sources.toArray().map(function(q){return Z0.computeSourceURL(W,q,Z)}),this.sourceRoot=W,this.sourcesContent=Q,this._mappings=G,this._sourceMapURL=Z,this.file=K}M9.prototype=Object.create(A8.prototype);M9.prototype.consumer=A8;M9.prototype._findSourceIndex=function(J){var Z=J;if(this.sourceRoot!=null)Z=Z0.relative(this.sourceRoot,Z);if(this._sources.has(Z))return this._sources.indexOf(Z);var X;for(X=0;X<this._absoluteSources.length;++X)if(this._absoluteSources[X]==J)return X;return-1};M9.fromSourceMap=function J(Z,X){var Y=Object.create(M9.prototype),$=Y._names=pA.fromArray(Z._names.toArray(),!0),z=Y._sources=pA.fromArray(Z._sources.toArray(),!0);Y.sourceRoot=Z._sourceRoot,Y.sourcesContent=Z._generateSourcesContent(Y._sources.toArray(),Y.sourceRoot),Y.file=Z._file,Y._sourceMapURL=X,Y._absoluteSources=Y._sources.toArray().map(function(U){return Z0.computeSourceURL(Y.sourceRoot,U,X)});var W=Z._mappings.toArray().slice(),Q=Y.__generatedMappings=[],G=Y.__originalMappings=[];for(var K=0,q=W.length;K<q;K++){var H=W[K],F=new bo6;if(F.generatedLine=H.generatedLine,F.generatedColumn=H.generatedColumn,H.source){if(F.source=z.indexOf(H.source),F.originalLine=H.originalLine,F.originalColumn=H.originalColumn,H.name)F.name=$.indexOf(H.name);G.push(F)}Q.push(F)}return KE(Y.__originalMappings,Z0.compareByOriginalPositions),Y};M9.prototype._version=3;Object.defineProperty(M9.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function bo6(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}M9.prototype._parseMappings=function J(Z,X){var Y=1,$=0,z=0,W=0,Q=0,G=0,K=Z.length,q=0,H={},F={},U=[],D=[],V,w,M,P,R;while(q<K)if(Z.charAt(q)===";")Y++,q++,$=0;else if(Z.charAt(q)===",")q++;else{V=new bo6,V.generatedLine=Y;for(P=q;P<K;P++)if(this._charIsMappingSeparator(Z,P))break;if(w=Z.slice(q,P),M=H[w],M)q+=w.length;else{M=[];while(q<P)Rx5.decode(Z,q,F),R=F.value,q=F.rest,M.push(R);if(M.length===2)throw new Error("Found a source, but no line and column");if(M.length===3)throw new Error("Found a source and line, but no column");H[w]=M}if(V.generatedColumn=$+M[0],$=V.generatedColumn,M.length>1){if(V.source=Q+M[1],Q+=M[1],V.originalLine=z+M[2],z=V.originalLine,V.originalLine+=1,V.originalColumn=W+M[3],W=V.originalColumn,M.length>4)V.name=G+M[4],G+=M[4]}if(D.push(V),typeof V.originalLine==="number")U.push(V)}KE(D,Z0.compareByGeneratedPositionsDeflated),this.__generatedMappings=D,KE(U,Z0.compareByOriginalPositions),this.__originalMappings=U};M9.prototype._findMapping=function J(Z,X,Y,$,z,W){if(Z[Y]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+Z[Y]);if(Z[$]<0)throw new TypeError("Column must be greater than or equal to 0, got "+Z[$]);return pD1.search(Z,X,z,W)};M9.prototype.computeColumnSpans=function J(){for(var Z=0;Z<this._generatedMappings.length;++Z){var X=this._generatedMappings[Z];if(Z+1<this._generatedMappings.length){var Y=this._generatedMappings[Z+1];if(X.generatedLine===Y.generatedLine){X.lastGeneratedColumn=Y.generatedColumn-1;continue}}X.lastGeneratedColumn=1/0}};M9.prototype.originalPositionFor=function J(Z){var X={generatedLine:Z0.getArg(Z,"line"),generatedColumn:Z0.getArg(Z,"column")},Y=this._findMapping(X,this._generatedMappings,"generatedLine","generatedColumn",Z0.compareByGeneratedPositionsDeflated,Z0.getArg(Z,"bias",A8.GREATEST_LOWER_BOUND));if(Y>=0){var $=this._generatedMappings[Y];if($.generatedLine===X.generatedLine){var z=Z0.getArg($,"source",null);if(z!==null)z=this._sources.at(z),z=Z0.computeSourceURL(this.sourceRoot,z,this._sourceMapURL);var W=Z0.getArg($,"name",null);if(W!==null)W=this._names.at(W);return{source:z,line:Z0.getArg($,"originalLine",null),column:Z0.getArg($,"originalColumn",null),name:W}}}return{source:null,line:null,column:null,name:null}};M9.prototype.hasContentsOfAllSources=function J(){if(!this.sourcesContent)return!1;return this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(Z){return Z==null})};M9.prototype.sourceContentFor=function J(Z,X){if(!this.sourcesContent)return null;var Y=this._findSourceIndex(Z);if(Y>=0)return this.sourcesContent[Y];var $=Z;if(this.sourceRoot!=null)$=Z0.relative(this.sourceRoot,$);var z;if(this.sourceRoot!=null&&(z=Z0.urlParse(this.sourceRoot))){var W=$.replace(/^file:\/\//,"");if(z.scheme=="file"&&this._sources.has(W))return this.sourcesContent[this._sources.indexOf(W)];if((!z.path||z.path=="/")&&this._sources.has("/"+$))return this.sourcesContent[this._sources.indexOf("/"+$)]}if(X)return null;else throw new Error('"'+$+'" is not in the SourceMap.')};M9.prototype.generatedPositionFor=function J(Z){var X=Z0.getArg(Z,"source");if(X=this._findSourceIndex(X),X<0)return{line:null,column:null,lastColumn:null};var Y={source:X,originalLine:Z0.getArg(Z,"line"),originalColumn:Z0.getArg(Z,"column")},$=this._findMapping(Y,this._originalMappings,"originalLine","originalColumn",Z0.compareByOriginalPositions,Z0.getArg(Z,"bias",A8.GREATEST_LOWER_BOUND));if($>=0){var z=this._originalMappings[$];if(z.source===Y.source)return{line:Z0.getArg(z,"generatedLine",null),column:Z0.getArg(z,"generatedColumn",null),lastColumn:Z0.getArg(z,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};Ex5.BasicSourceMapConsumer=M9;function aY(J,Z){var X=J;if(typeof J==="string")X=Z0.parseSourceMapInput(J);var Y=Z0.getArg(X,"version"),$=Z0.getArg(X,"sections");if(Y!=this._version)throw new Error("Unsupported version: "+Y);this._sources=new pA,this._names=new pA;var z={line:-1,column:0};this._sections=$.map(function(W){if(W.url)throw new Error("Support for url field in sections not implemented.");var Q=Z0.getArg(W,"offset"),G=Z0.getArg(Q,"line"),K=Z0.getArg(Q,"column");if(G<z.line||G===z.line&&K<z.column)throw new Error("Section offsets must be ordered and non-overlapping.");return z=Q,{generatedOffset:{generatedLine:G+1,generatedColumn:K+1},consumer:new A8(Z0.getArg(W,"map"),Z)}})}aY.prototype=Object.create(A8.prototype);aY.prototype.constructor=A8;aY.prototype._version=3;Object.defineProperty(aY.prototype,"sources",{get:function(){var J=[];for(var Z=0;Z<this._sections.length;Z++)for(var X=0;X<this._sections[Z].consumer.sources.length;X++)J.push(this._sections[Z].consumer.sources[X]);return J}});aY.prototype.originalPositionFor=function J(Z){var X={generatedLine:Z0.getArg(Z,"line"),generatedColumn:Z0.getArg(Z,"column")},Y=pD1.search(X,this._sections,function(z,W){var Q=z.generatedLine-W.generatedOffset.generatedLine;if(Q)return Q;return z.generatedColumn-W.generatedOffset.generatedColumn}),$=this._sections[Y];if(!$)return{source:null,line:null,column:null,name:null};return $.consumer.originalPositionFor({line:X.generatedLine-($.generatedOffset.generatedLine-1),column:X.generatedColumn-($.generatedOffset.generatedLine===X.generatedLine?$.generatedOffset.generatedColumn-1:0),bias:Z.bias})};aY.prototype.hasContentsOfAllSources=function J(){return this._sections.every(function(Z){return Z.consumer.hasContentsOfAllSources()})};aY.prototype.sourceContentFor=function J(Z,X){for(var Y=0;Y<this._sections.length;Y++){var $=this._sections[Y],z=$.consumer.sourceContentFor(Z,!0);if(z)return z}if(X)return null;else throw new Error('"'+Z+'" is not in the SourceMap.')};aY.prototype.generatedPositionFor=function J(Z){for(var X=0;X<this._sections.length;X++){var Y=this._sections[X];if(Y.consumer._findSourceIndex(Z0.getArg(Z,"source"))===-1)continue;var $=Y.consumer.generatedPositionFor(Z);if($){var z={line:$.line+(Y.generatedOffset.generatedLine-1),column:$.column+(Y.generatedOffset.generatedLine===$.line?Y.generatedOffset.generatedColumn-1:0)};return z}}return{line:null,column:null}};aY.prototype._parseMappings=function J(Z,X){this.__generatedMappings=[],this.__originalMappings=[];for(var Y=0;Y<this._sections.length;Y++){var $=this._sections[Y],z=$.consumer._generatedMappings;for(var W=0;W<z.length;W++){var Q=z[W],G=$.consumer._sources.at(Q.source);G=Z0.computeSourceURL($.consumer.sourceRoot,G,this._sourceMapURL),this._sources.add(G),G=this._sources.indexOf(G);var K=null;if(Q.name)K=$.consumer._names.at(Q.name),this._names.add(K),K=this._names.indexOf(K);var q={source:G,generatedLine:Q.generatedLine+($.generatedOffset.generatedLine-1),generatedColumn:Q.generatedColumn+($.generatedOffset.generatedLine===Q.generatedLine?$.generatedOffset.generatedColumn-1:0),originalLine:Q.originalLine,originalColumn:Q.originalColumn,name:K};if(this.__generatedMappings.push(q),typeof q.originalLine==="number")this.__originalMappings.push(q)}}KE(this.__generatedMappings,Z0.compareByGeneratedPositionsDeflated),KE(this.__originalMappings,Z0.compareByOriginalPositions)};Ex5.IndexedSourceMapConsumer=aY});var _o6=B((_x5)=>{var kx5=dD1().SourceMapGenerator,ep=lA(),bx5=/(\r?\n)/,hx5=10,nA="$$$isSourceNode$$$";function vJ(J,Z,X,Y,$){if(this.children=[],this.sourceContents={},this.line=J==null?null:J,this.column=Z==null?null:Z,this.source=X==null?null:X,this.name=$==null?null:$,this[nA]=!0,Y!=null)this.add(Y)}vJ.fromStringWithSourceMap=function J(Z,X,Y){var $=new vJ,z=Z.split(bx5),W=0,Q=function(){var F=D(),U=D()||"";return F+U;function D(){return W<z.length?z[W++]:void 0}},G=1,K=0,q=null;if(X.eachMapping(function(F){if(q!==null)if(G<F.generatedLine)H(q,Q()),G++,K=0;else{var U=z[W]||"",D=U.substr(0,F.generatedColumn-K);z[W]=U.substr(F.generatedColumn-K),K=F.generatedColumn,H(q,D),q=F;return}while(G<F.generatedLine)$.add(Q()),G++;if(K<F.generatedColumn){var U=z[W]||"";$.add(U.substr(0,F.generatedColumn)),z[W]=U.substr(F.generatedColumn),K=F.generatedColumn}q=F},this),W<z.length){if(q)H(q,Q());$.add(z.splice(W).join(""))}return X.sources.forEach(function(F){var U=X.sourceContentFor(F);if(U!=null){if(Y!=null)F=ep.join(Y,F);$.setSourceContent(F,U)}}),$;function H(F,U){if(F===null||F.source===void 0)$.add(U);else{var D=Y?ep.join(Y,F.source):F.source;$.add(new vJ(F.originalLine,F.originalColumn,D,U,F.name))}}};vJ.prototype.add=function J(Z){if(Array.isArray(Z))Z.forEach(function(X){this.add(X)},this);else if(Z[nA]||typeof Z==="string"){if(Z)this.children.push(Z)}else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+Z);return this};vJ.prototype.prepend=function J(Z){if(Array.isArray(Z))for(var X=Z.length-1;X>=0;X--)this.prepend(Z[X]);else if(Z[nA]||typeof Z==="string")this.children.unshift(Z);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+Z);return this};vJ.prototype.walk=function J(Z){var X;for(var Y=0,$=this.children.length;Y<$;Y++)if(X=this.children[Y],X[nA])X.walk(Z);else if(X!=="")Z(X,{source:this.source,line:this.line,column:this.column,name:this.name})};vJ.prototype.join=function J(Z){var X,Y,$=this.children.length;if($>0){X=[];for(Y=0;Y<$-1;Y++)X.push(this.children[Y]),X.push(Z);X.push(this.children[Y]),this.children=X}return this};vJ.prototype.replaceRight=function J(Z,X){var Y=this.children[this.children.length-1];if(Y[nA])Y.replaceRight(Z,X);else if(typeof Y==="string")this.children[this.children.length-1]=Y.replace(Z,X);else this.children.push("".replace(Z,X));return this};vJ.prototype.setSourceContent=function J(Z,X){this.sourceContents[ep.toSetString(Z)]=X};vJ.prototype.walkSourceContents=function J(Z){for(var X=0,Y=this.children.length;X<Y;X++)if(this.children[X][nA])this.children[X].walkSourceContents(Z);var $=Object.keys(this.sourceContents);for(var X=0,Y=$.length;X<Y;X++)Z(ep.fromSetString($[X]),this.sourceContents[$[X]])};vJ.prototype.toString=function J(){var Z="";return this.walk(function(X){Z+=X}),Z};vJ.prototype.toStringWithSourceMap=function J(Z){var X={code:"",line:1,column:0},Y=new kx5(Z),$=!1,z=null,W=null,Q=null,G=null;return this.walk(function(K,q){if(X.code+=K,q.source!==null&&q.line!==null&&q.column!==null){if(z!==q.source||W!==q.line||Q!==q.column||G!==q.name)Y.addMapping({source:q.source,original:{line:q.line,column:q.column},generated:{line:X.line,column:X.column},name:q.name});z=q.source,W=q.line,Q=q.column,G=q.name,$=!0}else if($)Y.addMapping({generated:{line:X.line,column:X.column}}),z=null,$=!1;for(var H=0,F=K.length;H<F;H++)if(K.charCodeAt(H)===hx5){if(X.line++,X.column=0,H+1===F)z=null,$=!1;else if($)Y.addMapping({source:q.source,original:{line:q.line,column:q.column},generated:{line:X.line,column:X.column},name:q.name})}else X.column++}),this.walkSourceContents(function(K,q){Y.setSourceContent(K,q)}),{code:X.code,map:Y}};_x5.SourceNode=vJ});var yo6=B((vx5)=>{vx5.SourceMapGenerator=dD1().SourceMapGenerator;vx5.SourceMapConsumer=ho6().SourceMapConsumer;vx5.SourceNode=_o6().SourceNode});var xo6=B((AM7,vo6)=>{var ux5=Object.prototype.toString,nD1=typeof Buffer!=="undefined"&&typeof Buffer.alloc==="function"&&typeof Buffer.allocUnsafe==="function"&&typeof Buffer.from==="function";function mx5(J){return ux5.call(J).slice(8,-1)==="ArrayBuffer"}function cx5(J,Z,X){Z>>>=0;var Y=J.byteLength-Z;if(Y<0)throw new RangeError("'offset' is out of bounds");if(X===void 0)X=Y;else if(X>>>=0,X>Y)throw new RangeError("'length' is out of bounds");return nD1?Buffer.from(J.slice(Z,Z+X)):new Buffer(new Uint8Array(J.slice(Z,Z+X)))}function lx5(J,Z){if(typeof Z!=="string"||Z==="")Z="utf8";if(!Buffer.isEncoding(Z))throw new TypeError('"encoding" must be a valid string encoding');return nD1?Buffer.from(J,Z):new Buffer(J,Z)}function px5(J,Z,X){if(typeof J==="number")throw new TypeError('"value" argument must not be a number');if(mx5(J))return cx5(J,Z,X);if(typeof J==="string")return lx5(J,Z);return nD1?Buffer.from(J):new Buffer(J)}vo6.exports=px5});var no6=B((Wg5,aD1)=>{var nx5=yo6().SourceMapConsumer,iD1=p("path"),bW;try{if(bW=p("fs"),!bW.existsSync||!bW.readFileSync)bW=null}catch(J){}var ix5=xo6();function go6(J,Z){return J.require(Z)}var do6=!1,uo6=!1,oD1=!1,qE="auto",ED={},BE={},ox5=/^data:application\/json[^,]+base64,/,$H=[],zH=[];function rD1(){if(qE==="browser")return!0;if(qE==="node")return!1;return typeof window!=="undefined"&&typeof XMLHttpRequest==="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}function sx5(){return typeof process==="object"&&process!==null&&typeof process.on==="function"}function ax5(){if(typeof process==="object"&&process!==null)return process.version;else return""}function rx5(){if(typeof process==="object"&&process!==null)return process.stderr}function tx5(J){if(typeof process==="object"&&process!==null&&typeof process.exit==="function")return process.exit(J)}function Jn(J){return function(Z){for(var X=0;X<J.length;X++){var Y=J[X](Z);if(Y)return Y}return null}}var tD1=Jn($H);$H.push(function(J){if(J=J.trim(),/^file:/.test(J))J=J.replace(/file:\/\/\/(\w:)?/,function(Y,$){return $?"":"/"});if(J in ED)return ED[J];var Z="";try{if(!bW){var X=new XMLHttpRequest;if(X.open("GET",J,!1),X.send(null),X.readyState===4&&X.status===200)Z=X.responseText}else if(bW.existsSync(J))Z=bW.readFileSync(J,"utf8")}catch(Y){}return ED[J]=Z});function sD1(J,Z){if(!J)return Z;var X=iD1.dirname(J),Y=/^\w+:\/\/[^\/]*/.exec(X),$=Y?Y[0]:"",z=X.slice($.length);if($&&/^\/\w\:/.test(z))return $+="/",$+iD1.resolve(X.slice($.length),Z).replace(/\\/g,"/");return $+iD1.resolve(X.slice($.length),Z)}function ex5(J){var Z;if(rD1())try{var X=new XMLHttpRequest;X.open("GET",J,!1),X.send(null),Z=X.readyState===4?X.responseText:null;var Y=X.getResponseHeader("SourceMap")||X.getResponseHeader("X-SourceMap");if(Y)return Y}catch(Q){}Z=tD1(J);var $=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,z,W;while(W=$.exec(Z))z=W;if(!z)return null;return z[1]}var eD1=Jn(zH);zH.push(function(J){var Z=ex5(J);if(!Z)return null;var X;if(ox5.test(Z)){var Y=Z.slice(Z.indexOf(",")+1);X=ix5(Y,"base64").toString(),Z=J}else Z=sD1(J,Z),X=tD1(Z);if(!X)return null;return{url:Z,map:X}});function JV1(J){var Z=BE[J.source];if(!Z){var X=eD1(J.source);if(X){if(Z=BE[J.source]={url:X.url,map:new nx5(X.map)},Z.map.sourcesContent)Z.map.sources.forEach(function($,z){var W=Z.map.sourcesContent[z];if(W){var Q=sD1(Z.url,$);ED[Q]=W}})}else Z=BE[J.source]={url:null,map:null}}if(Z&&Z.map&&typeof Z.map.originalPositionFor==="function"){var Y=Z.map.originalPositionFor(J);if(Y.source!==null)return Y.source=sD1(Z.url,Y.source),Y}return J}function co6(J){var Z=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(J);if(Z){var X=JV1({source:Z[2],line:+Z[3],column:Z[4]-1});return"eval at "+Z[1]+" ("+X.source+":"+X.line+":"+(X.column+1)+")"}if(Z=/^eval at ([^(]+) \((.+)\)$/.exec(J),Z)return"eval at "+Z[1]+" ("+co6(Z[2])+")";return J}function Jg5(){var J,Z="";if(this.isNative())Z="native";else{if(J=this.getScriptNameOrSourceURL(),!J&&this.isEval())Z=this.getEvalOrigin(),Z+=", ";if(J)Z+=J;else Z+="<anonymous>";var X=this.getLineNumber();if(X!=null){Z+=":"+X;var Y=this.getColumnNumber();if(Y)Z+=":"+Y}}var $="",z=this.getFunctionName(),W=!0,Q=this.isConstructor(),G=!(this.isToplevel()||Q);if(G){var K=this.getTypeName();if(K==="[object Object]")K="null";var q=this.getMethodName();if(z){if(K&&z.indexOf(K)!=0)$+=K+".";if($+=z,q&&z.indexOf("."+q)!=z.length-q.length-1)$+=" [as "+q+"]"}else $+=K+"."+(q||"<anonymous>")}else if(Q)$+="new "+(z||"<anonymous>");else if(z)$+=z;else $+=Z,W=!1;if(W)$+=" ("+Z+")";return $}function mo6(J){var Z={};return Object.getOwnPropertyNames(Object.getPrototypeOf(J)).forEach(function(X){Z[X]=/^(?:is|get)/.test(X)?function(){return J[X].call(J)}:J[X]}),Z.toString=Jg5,Z}function lo6(J,Z){if(Z===void 0)Z={nextPosition:null,curPosition:null};if(J.isNative())return Z.curPosition=null,J;var X=J.getFileName()||J.getScriptNameOrSourceURL();if(X){var Y=J.getLineNumber(),$=J.getColumnNumber()-1,z=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,W=z.test(ax5())?0:62;if(Y===1&&$>W&&!rD1()&&!J.isEval())$-=W;var Q=JV1({source:X,line:Y,column:$});Z.curPosition=Q,J=mo6(J);var G=J.getFunctionName;return J.getFunctionName=function(){if(Z.nextPosition==null)return G();return Z.nextPosition.name||G()},J.getFileName=function(){return Q.source},J.getLineNumber=function(){return Q.line},J.getColumnNumber=function(){return Q.column+1},J.getScriptNameOrSourceURL=function(){return Q.source},J}var K=J.isEval()&&J.getEvalOrigin();if(K)return K=co6(K),J=mo6(J),J.getEvalOrigin=function(){return K},J;return J}function Zg5(J,Z){if(oD1)ED={},BE={};var X=J.name||"Error",Y=J.message||"",$=X+": "+Y,z={nextPosition:null,curPosition:null},W=[];for(var Q=Z.length-1;Q>=0;Q--)W.push(`
    at `+lo6(Z[Q],z)),z.nextPosition=z.curPosition;return z.curPosition=z.nextPosition=null,$+W.reverse().join("")}function po6(J){var Z=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(J.stack);if(Z){var X=Z[1],Y=+Z[2],$=+Z[3],z=ED[X];if(!z&&bW&&bW.existsSync(X))try{z=bW.readFileSync(X,"utf8")}catch(Q){z=""}if(z){var W=z.split(/(?:\r\n|\r|\n)/)[Y-1];if(W)return X+":"+Y+`
`+W+`
`+new Array($).join(" ")+"^"}}return null}function Xg5(J){var Z=po6(J),X=rx5();if(X&&X._handle&&X._handle.setBlocking)X._handle.setBlocking(!0);if(Z)console.error(),console.error(Z);console.error(J.stack),tx5(1)}function Yg5(){var J=process.emit;process.emit=function(Z){if(Z==="uncaughtException"){var X=arguments[1]&&arguments[1].stack,Y=this.listeners(Z).length>0;if(X&&!Y)return Xg5(arguments[1])}return J.apply(this,arguments)}}var $g5=$H.slice(0),zg5=zH.slice(0);Wg5.wrapCallSite=lo6;Wg5.getErrorSource=po6;Wg5.mapSourcePosition=JV1;Wg5.retrieveSourceMap=eD1;Wg5.install=function(J){if(J=J||{},J.environment){if(qE=J.environment,["node","browser","auto"].indexOf(qE)===-1)throw new Error("environment "+qE+" was unknown. Available options are {auto, browser, node}")}if(J.retrieveFile){if(J.overrideRetrieveFile)$H.length=0;$H.unshift(J.retrieveFile)}if(J.retrieveSourceMap){if(J.overrideRetrieveSourceMap)zH.length=0;zH.unshift(J.retrieveSourceMap)}if(J.hookRequire&&!rD1()){var Z=go6(aD1,"module"),X=Z.prototype._compile;if(!X.__sourceMapSupport)Z.prototype._compile=function(z,W){return ED[W]=z,BE[W]=void 0,X.call(this,z,W)},Z.prototype._compile.__sourceMapSupport=!0}if(!oD1)oD1="emptyCacheBetweenOperations"in J?J.emptyCacheBetweenOperations:!1;if(!do6)do6=!0,Error.prepareStackTrace=Zg5;if(!uo6){var Y="handleUncaughtExceptions"in J?J.handleUncaughtExceptions:!0;try{var $=go6(aD1,"worker_threads");if($.isMainThread===!1)Y=!1}catch(z){}if(Y&&sx5())uo6=!0,Yg5()}};Wg5.resetRetrieveHandlers=function(){$H.length=0,zH.length=0,$H=$g5.slice(0),zH=zg5.slice(0),eD1=Jn(zH),tD1=Jn($H)}});var io6=B(()=>{no6().install()});var L9={};r9(L9,{IsUndefined:()=>r8,IsUint8Array:()=>uW,IsSymbol:()=>hn,IsString:()=>p4,IsRegExp:()=>WM,IsObject:()=>j4,IsNumber:()=>WJ,IsNull:()=>bn,IsIterator:()=>kn,IsFunction:()=>fn,IsDate:()=>UH,IsBoolean:()=>dW,IsBigInt:()=>zM,IsAsyncIterator:()=>Tn,IsArray:()=>a8,HasPropertyKey:()=>gE});function gE(J,Z){return Z in J}function Tn(J){return j4(J)&&!a8(J)&&!uW(J)&&Symbol.asyncIterator in J}function a8(J){return Array.isArray(J)}function zM(J){return typeof J==="bigint"}function dW(J){return typeof J==="boolean"}function UH(J){return J instanceof globalThis.Date}function fn(J){return typeof J==="function"}function kn(J){return j4(J)&&!a8(J)&&!uW(J)&&Symbol.iterator in J}function bn(J){return J===null}function WJ(J){return typeof J==="number"}function j4(J){return typeof J==="object"&&J!==null}function WM(J){return J instanceof globalThis.RegExp}function p4(J){return typeof J==="string"}function hn(J){return typeof J==="symbol"}function uW(J){return J instanceof globalThis.Uint8Array}function r8(J){return J===void 0}function ka6(J){return J.map((Z)=>dE(Z))}function ba6(J){return new Date(J.getTime())}function ha6(J){return new Uint8Array(J)}function _a6(J){return new RegExp(J.source,J.flags)}function ya6(J){let Z={};for(let X of Object.getOwnPropertyNames(J))Z[X]=dE(J[X]);for(let X of Object.getOwnPropertySymbols(J))Z[X]=dE(J[X]);return Z}function dE(J){return a8(J)?ka6(J):UH(J)?ba6(J):uW(J)?ha6(J):WM(J)?_a6(J):j4(J)?ya6(J):J}function W8(J){return dE(J)}function xD(J,Z){return Z===void 0?W8(J):W8({...Z,...J})}function uE(J){return N6(J)&&globalThis.Symbol.asyncIterator in J}function mE(J){return N6(J)&&globalThis.Symbol.iterator in J}function _n(J){return N6(J)&&(globalThis.Object.getPrototypeOf(J)===Object.prototype||globalThis.Object.getPrototypeOf(J)===null)}function cE(J){return J instanceof globalThis.Promise}function t9(J){return J instanceof Date&&globalThis.Number.isFinite(J.getTime())}function HI1(J){return J instanceof globalThis.Map}function FI1(J){return J instanceof globalThis.Set}function dJ(J){return globalThis.ArrayBuffer.isView(J)}function gD(J){return J instanceof globalThis.Uint8Array}function o0(J,Z){return Z in J}function N6(J){return J!==null&&typeof J==="object"}function s0(J){return globalThis.Array.isArray(J)&&!globalThis.ArrayBuffer.isView(J)}function Q8(J){return J===void 0}function mW(J){return J===null}function Y$(J){return typeof J==="boolean"}function Q0(J){return typeof J==="number"}function lE(J){return globalThis.Number.isInteger(J)}function K9(J){return typeof J==="bigint"}function n6(J){return typeof J==="string"}function AK(J){return typeof J==="function"}function cW(J){return typeof J==="symbol"}function QJ(J){return K9(J)||Y$(J)||mW(J)||Q0(J)||n6(J)||cW(J)||Q8(J)}var t4;(function(J){J.InstanceMode="default",J.ExactOptionalPropertyTypes=!1,J.AllowArrayObject=!1,J.AllowNaN=!1,J.AllowNullVoid=!1;function Z(W,Q){return J.ExactOptionalPropertyTypes?Q in W:W[Q]!==void 0}J.IsExactOptionalProperty=Z;function X(W){let Q=N6(W);return J.AllowArrayObject?Q:Q&&!s0(W)}J.IsObjectLike=X;function Y(W){return X(W)&&!(W instanceof Date)&&!(W instanceof Uint8Array)}J.IsRecordLike=Y;function $(W){return J.AllowNaN?Q0(W):Number.isFinite(W)}J.IsNumberLike=$;function z(W){let Q=Q8(W);return J.AllowNullVoid?Q||W===null:Q}J.IsVoidLike=z})(t4||(t4={}));function va6(J){return globalThis.Object.freeze(J).map((Z)=>QM(Z))}function xa6(J){return J}function ga6(J){return J}function da6(J){return J}function ua6(J){let Z={};for(let X of Object.getOwnPropertyNames(J))Z[X]=QM(J[X]);for(let X of Object.getOwnPropertySymbols(J))Z[X]=QM(J[X]);return globalThis.Object.freeze(Z)}function QM(J){return a8(J)?va6(J):UH(J)?xa6(J):uW(J)?ga6(J):WM(J)?da6(J):j4(J)?ua6(J):J}function H1(J,Z){let X=Z!==void 0?{...Z,...J}:J;switch(t4.InstanceMode){case"freeze":return QM(X);case"clone":return W8(X);default:return X}}class D0 extends Error{constructor(J){super(J)}}var h4=Symbol.for("TypeBox.Transform"),yX=Symbol.for("TypeBox.Readonly"),t8=Symbol.for("TypeBox.Optional"),uJ=Symbol.for("TypeBox.Hint"),$1=Symbol.for("TypeBox.Kind");function dD(J){return j4(J)&&J[yX]==="Readonly"}function N7(J){return j4(J)&&J[t8]==="Optional"}function yn(J){return m6(J,"Any")}function vn(J){return m6(J,"Argument")}function vX(J){return m6(J,"Array")}function OH(J){return m6(J,"AsyncIterator")}function DH(J){return m6(J,"BigInt")}function lW(J){return m6(J,"Boolean")}function xX(J){return m6(J,"Computed")}function gX(J){return m6(J,"Constructor")}function ma6(J){return m6(J,"Date")}function dX(J){return m6(J,"Function")}function uX(J){return m6(J,"Integer")}function T8(J){return m6(J,"Intersect")}function VH(J){return m6(J,"Iterator")}function m6(J,Z){return j4(J)&&$1 in J&&J[$1]===Z}function pE(J){return dW(J)||WJ(J)||p4(J)}function GJ(J){return m6(J,"Literal")}function KJ(J){return m6(J,"MappedKey")}function G8(J){return m6(J,"MappedResult")}function MK(J){return m6(J,"Never")}function ca6(J){return m6(J,"Not")}function GM(J){return m6(J,"Null")}function mX(J){return m6(J,"Number")}function e8(J){return m6(J,"Object")}function IH(J){return m6(J,"Promise")}function wH(J){return m6(J,"Record")}function v8(J){return m6(J,"Ref")}function xn(J){return m6(J,"RegExp")}function pW(J){return m6(J,"String")}function KM(J){return m6(J,"Symbol")}function qJ(J){return m6(J,"TemplateLiteral")}function la6(J){return m6(J,"This")}function z4(J){return j4(J)&&h4 in J}function BJ(J){return m6(J,"Tuple")}function nW(J){return m6(J,"Undefined")}function i6(J){return m6(J,"Union")}function pa6(J){return m6(J,"Uint8Array")}function na6(J){return m6(J,"Unknown")}function ia6(J){return m6(J,"Unsafe")}function oa6(J){return m6(J,"Void")}function NK(J){return j4(J)&&$1 in J&&p4(J[$1])}function N8(J){return yn(J)||vn(J)||vX(J)||lW(J)||DH(J)||OH(J)||xX(J)||gX(J)||ma6(J)||dX(J)||uX(J)||T8(J)||VH(J)||GJ(J)||KJ(J)||G8(J)||MK(J)||ca6(J)||GM(J)||mX(J)||e8(J)||IH(J)||wH(J)||v8(J)||xn(J)||pW(J)||KM(J)||qJ(J)||la6(J)||BJ(J)||nW(J)||i6(J)||pa6(J)||na6(J)||ia6(J)||oa6(J)||NK(J)}var J1={};r9(J1,{TypeGuardUnknownTypeError:()=>UI1,IsVoid:()=>Zw1,IsUnsafe:()=>Jw1,IsUnknown:()=>eI1,IsUnionLiteral:()=>Yr6,IsUnion:()=>un,IsUndefined:()=>rI1,IsUint8Array:()=>tI1,IsTuple:()=>aI1,IsTransform:()=>sI1,IsThis:()=>oI1,IsTemplateLiteral:()=>iI1,IsSymbol:()=>nI1,IsString:()=>pI1,IsSchema:()=>K8,IsRegExp:()=>lI1,IsRef:()=>cI1,IsRecursive:()=>Xr6,IsRecord:()=>mI1,IsReadonly:()=>ta6,IsProperties:()=>nE,IsPromise:()=>uI1,IsOptional:()=>ea6,IsObject:()=>dI1,IsNumber:()=>gI1,IsNull:()=>xI1,IsNot:()=>vI1,IsNever:()=>yI1,IsMappedResult:()=>_I1,IsMappedKey:()=>hI1,IsLiteralValue:()=>bI1,IsLiteralString:()=>fI1,IsLiteralNumber:()=>kI1,IsLiteralBoolean:()=>Zr6,IsLiteral:()=>BM,IsKindOf:()=>T6,IsKind:()=>Xw1,IsIterator:()=>TI1,IsIntersect:()=>SI1,IsInteger:()=>EI1,IsImport:()=>Jr6,IsFunction:()=>RI1,IsDate:()=>jI1,IsConstructor:()=>CI1,IsComputed:()=>LI1,IsBoolean:()=>PI1,IsBigInt:()=>NI1,IsAsyncIterator:()=>MI1,IsArray:()=>AI1,IsArgument:()=>wI1,IsAny:()=>II1});class UI1 extends D0{}var sa6=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function OI1(J){try{return new RegExp(J),!0}catch{return!1}}function gn(J){if(!p4(J))return!1;for(let Z=0;Z<J.length;Z++){let X=J.charCodeAt(Z);if(X>=7&&X<=13||X===27||X===127)return!1}return!0}function DI1(J){return dn(J)||K8(J)}function qM(J){return r8(J)||zM(J)}function n4(J){return r8(J)||WJ(J)}function dn(J){return r8(J)||dW(J)}function R4(J){return r8(J)||p4(J)}function aa6(J){return r8(J)||p4(J)&&gn(J)&&OI1(J)}function ra6(J){return r8(J)||p4(J)&&gn(J)}function VI1(J){return r8(J)||K8(J)}function ta6(J){return j4(J)&&J[yX]==="Readonly"}function ea6(J){return j4(J)&&J[t8]==="Optional"}function II1(J){return T6(J,"Any")&&R4(J.$id)}function wI1(J){return T6(J,"Argument")&&WJ(J.index)}function AI1(J){return T6(J,"Array")&&J.type==="array"&&R4(J.$id)&&K8(J.items)&&n4(J.minItems)&&n4(J.maxItems)&&dn(J.uniqueItems)&&VI1(J.contains)&&n4(J.minContains)&&n4(J.maxContains)}function MI1(J){return T6(J,"AsyncIterator")&&J.type==="AsyncIterator"&&R4(J.$id)&&K8(J.items)}function NI1(J){return T6(J,"BigInt")&&J.type==="bigint"&&R4(J.$id)&&qM(J.exclusiveMaximum)&&qM(J.exclusiveMinimum)&&qM(J.maximum)&&qM(J.minimum)&&qM(J.multipleOf)}function PI1(J){return T6(J,"Boolean")&&J.type==="boolean"&&R4(J.$id)}function LI1(J){return T6(J,"Computed")&&p4(J.target)&&a8(J.parameters)&&J.parameters.every((Z)=>K8(Z))}function CI1(J){return T6(J,"Constructor")&&J.type==="Constructor"&&R4(J.$id)&&a8(J.parameters)&&J.parameters.every((Z)=>K8(Z))&&K8(J.returns)}function jI1(J){return T6(J,"Date")&&J.type==="Date"&&R4(J.$id)&&n4(J.exclusiveMaximumTimestamp)&&n4(J.exclusiveMinimumTimestamp)&&n4(J.maximumTimestamp)&&n4(J.minimumTimestamp)&&n4(J.multipleOfTimestamp)}function RI1(J){return T6(J,"Function")&&J.type==="Function"&&R4(J.$id)&&a8(J.parameters)&&J.parameters.every((Z)=>K8(Z))&&K8(J.returns)}function Jr6(J){return T6(J,"Import")&&gE(J,"$defs")&&j4(J.$defs)&&nE(J.$defs)&&gE(J,"$ref")&&p4(J.$ref)&&J.$ref in J.$defs}function EI1(J){return T6(J,"Integer")&&J.type==="integer"&&R4(J.$id)&&n4(J.exclusiveMaximum)&&n4(J.exclusiveMinimum)&&n4(J.maximum)&&n4(J.minimum)&&n4(J.multipleOf)}function nE(J){return j4(J)&&Object.entries(J).every(([Z,X])=>gn(Z)&&K8(X))}function SI1(J){return T6(J,"Intersect")&&(p4(J.type)&&J.type!=="object"?!1:!0)&&a8(J.allOf)&&J.allOf.every((Z)=>K8(Z)&&!sI1(Z))&&R4(J.type)&&(dn(J.unevaluatedProperties)||VI1(J.unevaluatedProperties))&&R4(J.$id)}function TI1(J){return T6(J,"Iterator")&&J.type==="Iterator"&&R4(J.$id)&&K8(J.items)}function T6(J,Z){return j4(J)&&$1 in J&&J[$1]===Z}function fI1(J){return BM(J)&&p4(J.const)}function kI1(J){return BM(J)&&WJ(J.const)}function Zr6(J){return BM(J)&&dW(J.const)}function BM(J){return T6(J,"Literal")&&R4(J.$id)&&bI1(J.const)}function bI1(J){return dW(J)||WJ(J)||p4(J)}function hI1(J){return T6(J,"MappedKey")&&a8(J.keys)&&J.keys.every((Z)=>WJ(Z)||p4(Z))}function _I1(J){return T6(J,"MappedResult")&&nE(J.properties)}function yI1(J){return T6(J,"Never")&&j4(J.not)&&Object.getOwnPropertyNames(J.not).length===0}function vI1(J){return T6(J,"Not")&&K8(J.not)}function xI1(J){return T6(J,"Null")&&J.type==="null"&&R4(J.$id)}function gI1(J){return T6(J,"Number")&&J.type==="number"&&R4(J.$id)&&n4(J.exclusiveMaximum)&&n4(J.exclusiveMinimum)&&n4(J.maximum)&&n4(J.minimum)&&n4(J.multipleOf)}function dI1(J){return T6(J,"Object")&&J.type==="object"&&R4(J.$id)&&nE(J.properties)&&DI1(J.additionalProperties)&&n4(J.minProperties)&&n4(J.maxProperties)}function uI1(J){return T6(J,"Promise")&&J.type==="Promise"&&R4(J.$id)&&K8(J.item)}function mI1(J){return T6(J,"Record")&&J.type==="object"&&R4(J.$id)&&DI1(J.additionalProperties)&&j4(J.patternProperties)&&((Z)=>{let X=Object.getOwnPropertyNames(Z.patternProperties);return X.length===1&&OI1(X[0])&&j4(Z.patternProperties)&&K8(Z.patternProperties[X[0]])})(J)}function Xr6(J){return j4(J)&&uJ in J&&J[uJ]==="Recursive"}function cI1(J){return T6(J,"Ref")&&R4(J.$id)&&p4(J.$ref)}function lI1(J){return T6(J,"RegExp")&&R4(J.$id)&&p4(J.source)&&p4(J.flags)&&n4(J.maxLength)&&n4(J.minLength)}function pI1(J){return T6(J,"String")&&J.type==="string"&&R4(J.$id)&&n4(J.minLength)&&n4(J.maxLength)&&aa6(J.pattern)&&ra6(J.format)}function nI1(J){return T6(J,"Symbol")&&J.type==="symbol"&&R4(J.$id)}function iI1(J){return T6(J,"TemplateLiteral")&&J.type==="string"&&p4(J.pattern)&&J.pattern[0]==="^"&&J.pattern[J.pattern.length-1]==="$"}function oI1(J){return T6(J,"This")&&R4(J.$id)&&p4(J.$ref)}function sI1(J){return j4(J)&&h4 in J}function aI1(J){return T6(J,"Tuple")&&J.type==="array"&&R4(J.$id)&&WJ(J.minItems)&&WJ(J.maxItems)&&J.minItems===J.maxItems&&(r8(J.items)&&r8(J.additionalItems)&&J.minItems===0||a8(J.items)&&J.items.every((Z)=>K8(Z)))}function rI1(J){return T6(J,"Undefined")&&J.type==="undefined"&&R4(J.$id)}function Yr6(J){return un(J)&&J.anyOf.every((Z)=>fI1(Z)||kI1(Z))}function un(J){return T6(J,"Union")&&R4(J.$id)&&j4(J)&&a8(J.anyOf)&&J.anyOf.every((Z)=>K8(Z))}function tI1(J){return T6(J,"Uint8Array")&&J.type==="Uint8Array"&&R4(J.$id)&&n4(J.minByteLength)&&n4(J.maxByteLength)}function eI1(J){return T6(J,"Unknown")&&R4(J.$id)}function Jw1(J){return T6(J,"Unsafe")}function Zw1(J){return T6(J,"Void")&&J.type==="void"&&R4(J.$id)}function Xw1(J){return j4(J)&&$1 in J&&p4(J[$1])&&!sa6.includes(J[$1])}function K8(J){return j4(J)&&(II1(J)||wI1(J)||AI1(J)||PI1(J)||NI1(J)||MI1(J)||LI1(J)||CI1(J)||jI1(J)||RI1(J)||EI1(J)||SI1(J)||TI1(J)||BM(J)||hI1(J)||_I1(J)||yI1(J)||vI1(J)||xI1(J)||gI1(J)||dI1(J)||uI1(J)||mI1(J)||cI1(J)||lI1(J)||pI1(J)||nI1(J)||iI1(J)||oI1(J)||aI1(J)||rI1(J)||un(J)||tI1(J)||eI1(J)||Jw1(J)||Zw1(J)||Xw1(J))}var Yw1="(true|false)",iE="(0|[1-9][0-9]*)",$w1="(.*)";var $$="^(0|[1-9][0-9]*)$",z$="^(.*)$",zw1="^(?!.*)$";var A4={};r9(A4,{Set:()=>Gr6,Has:()=>Qr6,Get:()=>Kr6,Entries:()=>$r6,Delete:()=>Wr6,Clear:()=>zr6});var uD=new Map;function $r6(){return new Map(uD)}function zr6(){return uD.clear()}function Wr6(J){return uD.delete(J)}function Qr6(J){return uD.has(J)}function Gr6(J,Z){uD.set(J,Z)}function Kr6(J){return uD.get(J)}var L5={};r9(L5,{Set:()=>Ur6,Has:()=>Fr6,Get:()=>Or6,Entries:()=>qr6,Delete:()=>Hr6,Clear:()=>Br6});var mD=new Map;function qr6(){return new Map(mD)}function Br6(){return mD.clear()}function Hr6(J){return mD.delete(J)}function Fr6(J){return mD.has(J)}function Ur6(J,Z){mD.set(J,Z)}function Or6(J){return mD.get(J)}function Ww1(J,Z){return J.includes(Z)}function Qw1(J){return[...new Set(J)]}function Dr6(J,Z){return J.filter((X)=>Z.includes(X))}function Vr6(J,Z){return J.reduce((X,Y)=>{return Dr6(X,Y)},Z)}function Gw1(J){return J.length===1?J[0]:J.length>1?Vr6(J.slice(1),J[0]):[]}function Kw1(J){let Z=[];for(let X of J)Z.push(...X);return Z}function PK(J){return H1({[$1]:"Any"},J)}function cD(J,Z){return H1({[$1]:"Array",type:"array",items:J},Z)}function qw1(J){return H1({[$1]:"Argument",index:J})}function lD(J,Z){return H1({[$1]:"AsyncIterator",type:"AsyncIterator",items:J},Z)}function e4(J,Z,X){return H1({[$1]:"Computed",target:J,parameters:Z},X)}function Ir6(J,Z){let{[Z]:X,...Y}=J;return Y}function f8(J,Z){return Z.reduce((X,Y)=>Ir6(X,Y),J)}function w6(J){return H1({[$1]:"Never",not:{}},J)}function t6(J){return H1({[$1]:"MappedResult",properties:J})}function pD(J,Z,X){return H1({[$1]:"Constructor",type:"Constructor",parameters:J,returns:Z},X)}function W$(J,Z,X){return H1({[$1]:"Function",type:"Function",parameters:J,returns:Z},X)}function HM(J,Z){return H1({[$1]:"Union",anyOf:J},Z)}function wr6(J){return J.some((Z)=>N7(Z))}function Bw1(J){return J.map((Z)=>N7(Z)?Ar6(Z):Z)}function Ar6(J){return f8(J,[t8])}function Mr6(J,Z){return wr6(J)?C9(HM(Bw1(J),Z)):HM(Bw1(J),Z)}function Q$(J,Z){return J.length===1?H1(J[0],Z):J.length===0?w6(Z):Mr6(J,Z)}function W4(J,Z){return J.length===0?w6(Z):J.length===1?H1(J[0],Z):HM(J,Z)}class mn extends D0{}function Nr6(J){return J.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function cn(J,Z,X){return J[Z]===X&&J.charCodeAt(Z-1)!==92}function oW(J,Z){return cn(J,Z,"(")}function FM(J,Z){return cn(J,Z,")")}function Hw1(J,Z){return cn(J,Z,"|")}function Pr6(J){if(!(oW(J,0)&&FM(J,J.length-1)))return!1;let Z=0;for(let X=0;X<J.length;X++){if(oW(J,X))Z+=1;if(FM(J,X))Z-=1;if(Z===0&&X!==J.length-1)return!1}return!0}function Lr6(J){return J.slice(1,J.length-1)}function Cr6(J){let Z=0;for(let X=0;X<J.length;X++){if(oW(J,X))Z+=1;if(FM(J,X))Z-=1;if(Hw1(J,X)&&Z===0)return!0}return!1}function jr6(J){for(let Z=0;Z<J.length;Z++)if(oW(J,Z))return!0;return!1}function Rr6(J){let[Z,X]=[0,0],Y=[];for(let z=0;z<J.length;z++){if(oW(J,z))Z+=1;if(FM(J,z))Z-=1;if(Hw1(J,z)&&Z===0){let W=J.slice(X,z);if(W.length>0)Y.push(nD(W));X=z+1}}let $=J.slice(X);if($.length>0)Y.push(nD($));if(Y.length===0)return{type:"const",const:""};if(Y.length===1)return Y[0];return{type:"or",expr:Y}}function Er6(J){function Z($,z){if(!oW($,z))throw new mn("TemplateLiteralParser: Index must point to open parens");let W=0;for(let Q=z;Q<$.length;Q++){if(oW($,Q))W+=1;if(FM($,Q))W-=1;if(W===0)return[z,Q]}throw new mn("TemplateLiteralParser: Unclosed group parens in expression")}function X($,z){for(let W=z;W<$.length;W++)if(oW($,W))return[z,W];return[z,$.length]}let Y=[];for(let $=0;$<J.length;$++)if(oW(J,$)){let[z,W]=Z(J,$),Q=J.slice(z,W+1);Y.push(nD(Q)),$=W}else{let[z,W]=X(J,$),Q=J.slice(z,W);if(Q.length>0)Y.push(nD(Q));$=W-1}return Y.length===0?{type:"const",const:""}:Y.length===1?Y[0]:{type:"and",expr:Y}}function nD(J){return Pr6(J)?nD(Lr6(J)):Cr6(J)?Rr6(J):jr6(J)?Er6(J):{type:"const",const:Nr6(J)}}function iD(J){return nD(J.slice(1,J.length-1))}class Fw1 extends D0{}function Sr6(J){return J.type==="or"&&J.expr.length===2&&J.expr[0].type==="const"&&J.expr[0].const==="0"&&J.expr[1].type==="const"&&J.expr[1].const==="[1-9][0-9]*"}function Tr6(J){return J.type==="or"&&J.expr.length===2&&J.expr[0].type==="const"&&J.expr[0].const==="true"&&J.expr[1].type==="const"&&J.expr[1].const==="false"}function fr6(J){return J.type==="const"&&J.const===".*"}function AH(J){return Sr6(J)||fr6(J)?!1:Tr6(J)?!0:J.type==="and"?J.expr.every((Z)=>AH(Z)):J.type==="or"?J.expr.every((Z)=>AH(Z)):J.type==="const"?!0:(()=>{throw new Fw1("Unknown expression type")})()}function oE(J){let Z=iD(J.pattern);return AH(Z)}class Uw1 extends D0{}function*Ow1(J){if(J.length===1)return yield*J[0];for(let Z of J[0])for(let X of Ow1(J.slice(1)))yield`${Z}${X}`}function*kr6(J){return yield*Ow1(J.expr.map((Z)=>[...UM(Z)]))}function*br6(J){for(let Z of J.expr)yield*UM(Z)}function*hr6(J){return yield J.const}function*UM(J){return J.type==="and"?yield*kr6(J):J.type==="or"?yield*br6(J):J.type==="const"?yield*hr6(J):(()=>{throw new Uw1("Unknown expression")})()}function oD(J){let Z=iD(J.pattern);return AH(Z)?[...UM(Z)]:[]}function c6(J,Z){return H1({[$1]:"Literal",const:J,type:typeof J},Z)}function sE(J){return H1({[$1]:"Boolean",type:"boolean"},J)}function sD(J){return H1({[$1]:"BigInt",type:"bigint"},J)}function mJ(J){return H1({[$1]:"Number",type:"number"},J)}function e9(J){return H1({[$1]:"String",type:"string"},J)}function*_r6(J){let Z=J.trim().replace(/"|'/g,"");return Z==="boolean"?yield sE():Z==="number"?yield mJ():Z==="bigint"?yield sD():Z==="string"?yield e9():yield(()=>{let X=Z.split("|").map((Y)=>c6(Y.trim()));return X.length===0?w6():X.length===1?X[0]:Q$(X)})()}function*yr6(J){if(J[1]!=="{"){let Z=c6("$"),X=ln(J.slice(1));return yield*[Z,...X]}for(let Z=2;Z<J.length;Z++)if(J[Z]==="}"){let X=_r6(J.slice(2,Z)),Y=ln(J.slice(Z+1));return yield*[...X,...Y]}yield c6(J)}function*ln(J){for(let Z=0;Z<J.length;Z++)if(J[Z]==="$"){let X=c6(J.slice(0,Z)),Y=yr6(J.slice(Z));return yield*[X,...Y]}yield c6(J)}function Dw1(J){return[...ln(J)]}class Vw1 extends D0{}function vr6(J){return J.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Iw1(J,Z){return qJ(J)?J.pattern.slice(1,J.pattern.length-1):i6(J)?`(${J.anyOf.map((X)=>Iw1(X,Z)).join("|")})`:mX(J)?`${Z}${iE}`:uX(J)?`${Z}${iE}`:DH(J)?`${Z}${iE}`:pW(J)?`${Z}${$w1}`:GJ(J)?`${Z}${vr6(J.const.toString())}`:lW(J)?`${Z}${Yw1}`:(()=>{throw new Vw1(`Unexpected Kind '${J[$1]}'`)})()}function pn(J){return`^${J.map((Z)=>Iw1(Z,"")).join("")}$`}function MH(J){let X=oD(J).map((Y)=>c6(Y));return Q$(X)}function aE(J,Z){let X=p4(J)?pn(Dw1(J)):pn(J);return H1({[$1]:"TemplateLiteral",type:"string",pattern:X},Z)}function xr6(J){return oD(J).map((X)=>X.toString())}function gr6(J){let Z=[];for(let X of J)Z.push(...P7(X));return Z}function dr6(J){return[J.toString()]}function P7(J){return[...new Set(qJ(J)?xr6(J):i6(J)?gr6(J.anyOf):GJ(J)?dr6(J.const):mX(J)?["[number]"]:uX(J)?["[number]"]:[])]}function ur6(J,Z,X){let Y={};for(let $ of Object.getOwnPropertyNames(Z))Y[$]=LK(J,P7(Z[$]),X);return Y}function mr6(J,Z,X){return ur6(J,Z.properties,X)}function ww1(J,Z,X){let Y=mr6(J,Z,X);return t6(Y)}function Mw1(J,Z){return J.map((X)=>Nw1(X,Z))}function cr6(J){return J.filter((Z)=>!MK(Z))}function lr6(J,Z){return rE(cr6(Mw1(J,Z)))}function pr6(J){return J.some((Z)=>MK(Z))?[]:J}function nr6(J,Z){return Q$(pr6(Mw1(J,Z)))}function ir6(J,Z){return Z in J?J[Z]:Z==="[number]"?Q$(J):w6()}function or6(J,Z){return Z==="[number]"?J:w6()}function sr6(J,Z){return Z in J?J[Z]:w6()}function Nw1(J,Z){return T8(J)?lr6(J.allOf,Z):i6(J)?nr6(J.anyOf,Z):BJ(J)?ir6(J.items??[],Z):vX(J)?or6(J.items,Z):e8(J)?sr6(J.properties,Z):w6()}function OM(J,Z){return Z.map((X)=>Nw1(J,X))}function Aw1(J,Z){return Q$(OM(J,Z))}function LK(J,Z,X){if(v8(J)||v8(Z)){if(!N8(J)||!N8(Z))throw new D0("Index types using Ref parameters require both Type and Key to be of TSchema");return e4("Index",[J,Z])}if(G8(Z))return ww1(J,Z,X);if(KJ(Z))return Pw1(J,Z,X);return H1(N8(Z)?Aw1(J,P7(Z)):Aw1(J,Z),X)}function ar6(J,Z,X){return{[Z]:LK(J,[Z],W8(X))}}function rr6(J,Z,X){return Z.reduce((Y,$)=>{return{...Y,...ar6(J,$,X)}},{})}function tr6(J,Z,X){return rr6(J,Z.keys,X)}function Pw1(J,Z,X){let Y=tr6(J,Z,X);return t6(Y)}function aD(J,Z){return H1({[$1]:"Iterator",type:"Iterator",items:J},Z)}function er6(J){let Z=[];for(let X in J)if(!N7(J[X]))Z.push(X);return Z}function Jt6(J,Z){let X=er6(J),Y=X.length>0?{[$1]:"Object",type:"object",properties:J,required:X}:{[$1]:"Object",type:"object",properties:J};return H1(Y,Z)}var Q4=Jt6;function tE(J,Z){return H1({[$1]:"Promise",type:"Promise",item:J},Z)}function Zt6(J){return H1(f8(J,[yX]))}function Xt6(J){return H1({...J,[yX]:"Readonly"})}function Yt6(J,Z){return Z===!1?Zt6(J):Xt6(J)}function L7(J,Z){let X=Z??!0;return G8(J)?Lw1(J,X):Yt6(J,X)}function $t6(J,Z){let X={};for(let Y of globalThis.Object.getOwnPropertyNames(J))X[Y]=L7(J[Y],Z);return X}function zt6(J,Z){return $t6(J.properties,Z)}function Lw1(J,Z){let X=zt6(J,Z);return t6(X)}function cJ(J,Z){return H1(J.length>0?{[$1]:"Tuple",type:"array",items:J,additionalItems:!1,minItems:J.length,maxItems:J.length}:{[$1]:"Tuple",type:"array",minItems:J.length,maxItems:J.length},Z)}function Cw1(J,Z){return J in Z?lJ(J,Z[J]):t6(Z)}function Wt6(J){return{[J]:c6(J)}}function Qt6(J){let Z={};for(let X of J)Z[X]=c6(X);return Z}function Gt6(J,Z){return Ww1(Z,J)?Wt6(J):Qt6(Z)}function Kt6(J,Z){let X=Gt6(J,Z);return Cw1(J,X)}function DM(J,Z){return Z.map((X)=>lJ(J,X))}function qt6(J,Z){let X={};for(let Y of globalThis.Object.getOwnPropertyNames(Z))X[Y]=lJ(J,Z[Y]);return X}function lJ(J,Z){let X={...Z};return N7(Z)?C9(lJ(J,f8(Z,[t8]))):dD(Z)?L7(lJ(J,f8(Z,[yX]))):G8(Z)?Cw1(J,Z.properties):KJ(Z)?Kt6(J,Z.keys):gX(Z)?pD(DM(J,Z.parameters),lJ(J,Z.returns),X):dX(Z)?W$(DM(J,Z.parameters),lJ(J,Z.returns),X):OH(Z)?lD(lJ(J,Z.items),X):VH(Z)?aD(lJ(J,Z.items),X):T8(Z)?j9(DM(J,Z.allOf),X):i6(Z)?W4(DM(J,Z.anyOf),X):BJ(Z)?cJ(DM(J,Z.items??[]),X):e8(Z)?Q4(qt6(J,Z.properties),X):vX(Z)?cD(lJ(J,Z.items),X):IH(Z)?tE(lJ(J,Z.item),X):Z}function Bt6(J,Z){let X={};for(let Y of J)X[Y]=lJ(Y,Z);return X}function jw1(J,Z,X){let Y=N8(J)?P7(J):J,$=Z({[$1]:"MappedKey",keys:Y}),z=Bt6(Y,$);return Q4(z,X)}function Ht6(J){return H1(f8(J,[t8]))}function Ft6(J){return H1({...J,[t8]:"Optional"})}function Ut6(J,Z){return Z===!1?Ht6(J):Ft6(J)}function C9(J,Z){let X=Z??!0;return G8(J)?Rw1(J,X):Ut6(J,X)}function Ot6(J,Z){let X={};for(let Y of globalThis.Object.getOwnPropertyNames(J))X[Y]=C9(J[Y],Z);return X}function Dt6(J,Z){return Ot6(J.properties,Z)}function Rw1(J,Z){let X=Dt6(J,Z);return t6(X)}function VM(J,Z={}){let X=J.every(($)=>e8($)),Y=N8(Z.unevaluatedProperties)?{unevaluatedProperties:Z.unevaluatedProperties}:{};return H1(Z.unevaluatedProperties===!1||N8(Z.unevaluatedProperties)||X?{...Y,[$1]:"Intersect",type:"object",allOf:J}:{...Y,[$1]:"Intersect",allOf:J},Z)}function Vt6(J){return J.every((Z)=>N7(Z))}function It6(J){return f8(J,[t8])}function Ew1(J){return J.map((Z)=>N7(Z)?It6(Z):Z)}function wt6(J,Z){return Vt6(J)?C9(VM(Ew1(J),Z)):VM(Ew1(J),Z)}function rE(J,Z={}){if(J.length===1)return H1(J[0],Z);if(J.length===0)return w6(Z);if(J.some((X)=>z4(X)))throw new Error("Cannot intersect transform types");return wt6(J,Z)}function j9(J,Z){if(J.length===1)return H1(J[0],Z);if(J.length===0)return w6(Z);if(J.some((X)=>z4(X)))throw new Error("Cannot intersect transform types");return VM(J,Z)}function pJ(...J){let[Z,X]=typeof J[0]==="string"?[J[0],J[1]]:[J[0].$id,J[1]];if(typeof Z!=="string")throw new D0("Ref: $ref must be a string");return H1({[$1]:"Ref",$ref:Z},X)}function At6(J,Z){return e4("Awaited",[e4(J,Z)])}function Mt6(J){return e4("Awaited",[pJ(J)])}function Nt6(J){return j9(Sw1(J))}function Pt6(J){return W4(Sw1(J))}function Lt6(J){return rD(J)}function Sw1(J){return J.map((Z)=>rD(Z))}function rD(J,Z){return H1(xX(J)?At6(J.target,J.parameters):T8(J)?Nt6(J.allOf):i6(J)?Pt6(J.anyOf):IH(J)?Lt6(J.item):v8(J)?Mt6(J.$ref):J,Z)}function Tw1(J){let Z=[];for(let X of J)Z.push(C7(X));return Z}function Ct6(J){let Z=Tw1(J);return Kw1(Z)}function jt6(J){let Z=Tw1(J);return Gw1(Z)}function Rt6(J){return J.map((Z,X)=>X.toString())}function Et6(J){return["[number]"]}function St6(J){return globalThis.Object.getOwnPropertyNames(J)}function Tt6(J){if(!nn)return[];return globalThis.Object.getOwnPropertyNames(J).map((X)=>{return X[0]==="^"&&X[X.length-1]==="$"?X.slice(1,X.length-1):X})}function C7(J){return T8(J)?Ct6(J.allOf):i6(J)?jt6(J.anyOf):BJ(J)?Rt6(J.items??[]):vX(J)?Et6(J.items):e8(J)?St6(J.properties):wH(J)?Tt6(J.patternProperties):[]}var nn=!1;function sW(J){nn=!0;let Z=C7(J);return nn=!1,`^(${Z.map((Y)=>`(${Y})`).join("|")})$`}function ft6(J,Z){return e4("KeyOf",[e4(J,Z)])}function kt6(J){return e4("KeyOf",[pJ(J)])}function bt6(J,Z){let X=C7(J),Y=ht6(X),$=Q$(Y);return H1($,Z)}function ht6(J){return J.map((Z)=>Z==="[number]"?mJ():c6(Z))}function tD(J,Z){return xX(J)?ft6(J.target,J.parameters):v8(J)?kt6(J.$ref):G8(J)?fw1(J,Z):bt6(J,Z)}function _t6(J,Z){let X={};for(let Y of globalThis.Object.getOwnPropertyNames(J))X[Y]=tD(J[Y],W8(Z));return X}function yt6(J,Z){return _t6(J.properties,Z)}function fw1(J,Z){let X=yt6(J,Z);return t6(X)}function eE(J){let Z=C7(J),X=OM(J,Z);return Z.map((Y,$)=>[Z[$],X[$]])}function vt6(J){let Z=[];for(let X of J)Z.push(...C7(X));return Qw1(Z)}function xt6(J){return J.filter((Z)=>!MK(Z))}function gt6(J,Z){let X=[];for(let Y of J)X.push(...OM(Y,[Z]));return xt6(X)}function dt6(J,Z){let X={};for(let Y of Z)X[Y]=rE(gt6(J,Y));return X}function kw1(J,Z){let X=vt6(J),Y=dt6(J,X);return Q4(Y,Z)}function JS(J){return H1({[$1]:"Date",type:"Date"},J)}function ZS(J){return H1({[$1]:"Null",type:"null"},J)}function XS(J){return H1({[$1]:"Symbol",type:"symbol"},J)}function YS(J){return H1({[$1]:"Undefined",type:"undefined"},J)}function $S(J){return H1({[$1]:"Uint8Array",type:"Uint8Array"},J)}function cX(J){return H1({[$1]:"Unknown"},J)}function ut6(J){return J.map((Z)=>on(Z,!1))}function mt6(J){let Z={};for(let X of globalThis.Object.getOwnPropertyNames(J))Z[X]=L7(on(J[X],!1));return Z}function zS(J,Z){return Z===!0?J:L7(J)}function on(J,Z){return Tn(J)?zS(PK(),Z):kn(J)?zS(PK(),Z):a8(J)?L7(cJ(ut6(J))):uW(J)?$S():UH(J)?JS():j4(J)?zS(Q4(mt6(J)),Z):fn(J)?zS(W$([],cX()),Z):r8(J)?YS():bn(J)?ZS():hn(J)?XS():zM(J)?sD():WJ(J)?c6(J):dW(J)?c6(J):p4(J)?c6(J):Q4({})}function bw1(J,Z){return H1(on(J,!0),Z)}function hw1(J,Z){return gX(J)?cJ(J.parameters,Z):w6(Z)}function _w1(J,Z){if(r8(J))throw new Error("Enum undefined or empty");let X=globalThis.Object.getOwnPropertyNames(J).filter((z)=>isNaN(z)).map((z)=>J[z]),$=[...new Set(X)].map((z)=>c6(z));return W4($,{...Z,[uJ]:"Enum"})}class dw1 extends D0{}var F1;(function(J){J[J.Union=0]="Union",J[J.True=1]="True",J[J.False=2]="False"})(F1||(F1={}));function nJ(J){return J===F1.False?J:F1.True}function eD(J){throw new dw1(J)}function K5(J){return J1.IsNever(J)||J1.IsIntersect(J)||J1.IsUnion(J)||J1.IsUnknown(J)||J1.IsAny(J)}function q5(J,Z){return J1.IsNever(Z)?cw1(J,Z):J1.IsIntersect(Z)?WS(J,Z):J1.IsUnion(Z)?en(J,Z):J1.IsUnknown(Z)?iw1(J,Z):J1.IsAny(Z)?tn(J,Z):eD("StructuralRight")}function tn(J,Z){return F1.True}function ct6(J,Z){return J1.IsIntersect(Z)?WS(J,Z):J1.IsUnion(Z)&&Z.anyOf.some((X)=>J1.IsAny(X)||J1.IsUnknown(X))?F1.True:J1.IsUnion(Z)?F1.Union:J1.IsUnknown(Z)?F1.True:J1.IsAny(Z)?F1.True:F1.Union}function lt6(J,Z){return J1.IsUnknown(J)?F1.False:J1.IsAny(J)?F1.Union:J1.IsNever(J)?F1.True:F1.False}function pt6(J,Z){return J1.IsObject(Z)&&QS(Z)?F1.True:K5(Z)?q5(J,Z):!J1.IsArray(Z)?F1.False:nJ(E4(J.items,Z.items))}function nt6(J,Z){return K5(Z)?q5(J,Z):!J1.IsAsyncIterator(Z)?F1.False:nJ(E4(J.items,Z.items))}function it6(J,Z){return K5(Z)?q5(J,Z):J1.IsObject(Z)?R9(J,Z):J1.IsRecord(Z)?iJ(J,Z):J1.IsBigInt(Z)?F1.True:F1.False}function uw1(J,Z){return J1.IsLiteralBoolean(J)?F1.True:J1.IsBoolean(J)?F1.True:F1.False}function ot6(J,Z){return K5(Z)?q5(J,Z):J1.IsObject(Z)?R9(J,Z):J1.IsRecord(Z)?iJ(J,Z):J1.IsBoolean(Z)?F1.True:F1.False}function st6(J,Z){return K5(Z)?q5(J,Z):J1.IsObject(Z)?R9(J,Z):!J1.IsConstructor(Z)?F1.False:J.parameters.length>Z.parameters.length?F1.False:!J.parameters.every((X,Y)=>nJ(E4(Z.parameters[Y],X))===F1.True)?F1.False:nJ(E4(J.returns,Z.returns))}function at6(J,Z){return K5(Z)?q5(J,Z):J1.IsObject(Z)?R9(J,Z):J1.IsRecord(Z)?iJ(J,Z):J1.IsDate(Z)?F1.True:F1.False}function rt6(J,Z){return K5(Z)?q5(J,Z):J1.IsObject(Z)?R9(J,Z):!J1.IsFunction(Z)?F1.False:J.parameters.length>Z.parameters.length?F1.False:!J.parameters.every((X,Y)=>nJ(E4(Z.parameters[Y],X))===F1.True)?F1.False:nJ(E4(J.returns,Z.returns))}function mw1(J,Z){return J1.IsLiteral(J)&&L9.IsNumber(J.const)?F1.True:J1.IsNumber(J)||J1.IsInteger(J)?F1.True:F1.False}function tt6(J,Z){return J1.IsInteger(Z)||J1.IsNumber(Z)?F1.True:K5(Z)?q5(J,Z):J1.IsObject(Z)?R9(J,Z):J1.IsRecord(Z)?iJ(J,Z):F1.False}function WS(J,Z){return Z.allOf.every((X)=>E4(J,X)===F1.True)?F1.True:F1.False}function et6(J,Z){return J.allOf.some((X)=>E4(X,Z)===F1.True)?F1.True:F1.False}function Je6(J,Z){return K5(Z)?q5(J,Z):!J1.IsIterator(Z)?F1.False:nJ(E4(J.items,Z.items))}function Ze6(J,Z){return J1.IsLiteral(Z)&&Z.const===J.const?F1.True:K5(Z)?q5(J,Z):J1.IsObject(Z)?R9(J,Z):J1.IsRecord(Z)?iJ(J,Z):J1.IsString(Z)?nw1(J,Z):J1.IsNumber(Z)?lw1(J,Z):J1.IsInteger(Z)?mw1(J,Z):J1.IsBoolean(Z)?uw1(J,Z):F1.False}function cw1(J,Z){return F1.False}function Xe6(J,Z){return F1.True}function yw1(J){let[Z,X]=[J,0];while(!0){if(!J1.IsNot(Z))break;Z=Z.not,X+=1}return X%2===0?Z:cX()}function Ye6(J,Z){return J1.IsNot(J)?E4(yw1(J),Z):J1.IsNot(Z)?E4(J,yw1(Z)):eD("Invalid fallthrough for Not")}function $e6(J,Z){return K5(Z)?q5(J,Z):J1.IsObject(Z)?R9(J,Z):J1.IsRecord(Z)?iJ(J,Z):J1.IsNull(Z)?F1.True:F1.False}function lw1(J,Z){return J1.IsLiteralNumber(J)?F1.True:J1.IsNumber(J)||J1.IsInteger(J)?F1.True:F1.False}function ze6(J,Z){return K5(Z)?q5(J,Z):J1.IsObject(Z)?R9(J,Z):J1.IsRecord(Z)?iJ(J,Z):J1.IsInteger(Z)||J1.IsNumber(Z)?F1.True:F1.False}function j7(J,Z){return Object.getOwnPropertyNames(J.properties).length===Z}function vw1(J){return QS(J)}function xw1(J){return j7(J,0)||j7(J,1)&&"description"in J.properties&&J1.IsUnion(J.properties.description)&&J.properties.description.anyOf.length===2&&(J1.IsString(J.properties.description.anyOf[0])&&J1.IsUndefined(J.properties.description.anyOf[1])||J1.IsString(J.properties.description.anyOf[1])&&J1.IsUndefined(J.properties.description.anyOf[0]))}function sn(J){return j7(J,0)}function gw1(J){return j7(J,0)}function We6(J){return j7(J,0)}function Qe6(J){return j7(J,0)}function Ge6(J){return QS(J)}function Ke6(J){let Z=mJ();return j7(J,0)||j7(J,1)&&"length"in J.properties&&nJ(E4(J.properties.length,Z))===F1.True}function qe6(J){return j7(J,0)}function QS(J){let Z=mJ();return j7(J,0)||j7(J,1)&&"length"in J.properties&&nJ(E4(J.properties.length,Z))===F1.True}function Be6(J){let Z=W$([PK()],PK());return j7(J,0)||j7(J,1)&&"then"in J.properties&&nJ(E4(J.properties.then,Z))===F1.True}function pw1(J,Z){return E4(J,Z)===F1.False?F1.False:J1.IsOptional(J)&&!J1.IsOptional(Z)?F1.False:F1.True}function R9(J,Z){return J1.IsUnknown(J)?F1.False:J1.IsAny(J)?F1.Union:J1.IsNever(J)||J1.IsLiteralString(J)&&vw1(Z)||J1.IsLiteralNumber(J)&&sn(Z)||J1.IsLiteralBoolean(J)&&gw1(Z)||J1.IsSymbol(J)&&xw1(Z)||J1.IsBigInt(J)&&We6(Z)||J1.IsString(J)&&vw1(Z)||J1.IsSymbol(J)&&xw1(Z)||J1.IsNumber(J)&&sn(Z)||J1.IsInteger(J)&&sn(Z)||J1.IsBoolean(J)&&gw1(Z)||J1.IsUint8Array(J)&&Ge6(Z)||J1.IsDate(J)&&Qe6(Z)||J1.IsConstructor(J)&&qe6(Z)||J1.IsFunction(J)&&Ke6(Z)?F1.True:J1.IsRecord(J)&&J1.IsString(an(J))?(()=>{return Z[uJ]==="Record"?F1.True:F1.False})():J1.IsRecord(J)&&J1.IsNumber(an(J))?(()=>{return j7(Z,0)?F1.True:F1.False})():F1.False}function He6(J,Z){return K5(Z)?q5(J,Z):J1.IsRecord(Z)?iJ(J,Z):!J1.IsObject(Z)?F1.False:(()=>{for(let X of Object.getOwnPropertyNames(Z.properties)){if(!(X in J.properties)&&!J1.IsOptional(Z.properties[X]))return F1.False;if(J1.IsOptional(Z.properties[X]))return F1.True;if(pw1(J.properties[X],Z.properties[X])===F1.False)return F1.False}return F1.True})()}function Fe6(J,Z){return K5(Z)?q5(J,Z):J1.IsObject(Z)&&Be6(Z)?F1.True:!J1.IsPromise(Z)?F1.False:nJ(E4(J.item,Z.item))}function an(J){return $$ in J.patternProperties?mJ():(z$ in J.patternProperties)?e9():eD("Unknown record key pattern")}function rn(J){return $$ in J.patternProperties?J.patternProperties[$$]:(z$ in J.patternProperties)?J.patternProperties[z$]:eD("Unable to get record value schema")}function iJ(J,Z){let[X,Y]=[an(Z),rn(Z)];return J1.IsLiteralString(J)&&J1.IsNumber(X)&&nJ(E4(J,Y))===F1.True?F1.True:J1.IsUint8Array(J)&&J1.IsNumber(X)?E4(J,Y):J1.IsString(J)&&J1.IsNumber(X)?E4(J,Y):J1.IsArray(J)&&J1.IsNumber(X)?E4(J,Y):J1.IsObject(J)?(()=>{for(let $ of Object.getOwnPropertyNames(J.properties))if(pw1(Y,J.properties[$])===F1.False)return F1.False;return F1.True})():F1.False}function Ue6(J,Z){return K5(Z)?q5(J,Z):J1.IsObject(Z)?R9(J,Z):!J1.IsRecord(Z)?F1.False:E4(rn(J),rn(Z))}function Oe6(J,Z){let X=J1.IsRegExp(J)?e9():J,Y=J1.IsRegExp(Z)?e9():Z;return E4(X,Y)}function nw1(J,Z){return J1.IsLiteral(J)&&L9.IsString(J.const)?F1.True:J1.IsString(J)?F1.True:F1.False}function De6(J,Z){return K5(Z)?q5(J,Z):J1.IsObject(Z)?R9(J,Z):J1.IsRecord(Z)?iJ(J,Z):J1.IsString(Z)?F1.True:F1.False}function Ve6(J,Z){return K5(Z)?q5(J,Z):J1.IsObject(Z)?R9(J,Z):J1.IsRecord(Z)?iJ(J,Z):J1.IsSymbol(Z)?F1.True:F1.False}function Ie6(J,Z){return J1.IsTemplateLiteral(J)?E4(MH(J),Z):J1.IsTemplateLiteral(Z)?E4(J,MH(Z)):eD("Invalid fallthrough for TemplateLiteral")}function we6(J,Z){return J1.IsArray(Z)&&J.items!==void 0&&J.items.every((X)=>E4(X,Z.items)===F1.True)}function Ae6(J,Z){return J1.IsNever(J)?F1.True:J1.IsUnknown(J)?F1.False:J1.IsAny(J)?F1.Union:F1.False}function Me6(J,Z){return K5(Z)?q5(J,Z):J1.IsObject(Z)&&QS(Z)?F1.True:J1.IsArray(Z)&&we6(J,Z)?F1.True:!J1.IsTuple(Z)?F1.False:L9.IsUndefined(J.items)&&!L9.IsUndefined(Z.items)||!L9.IsUndefined(J.items)&&L9.IsUndefined(Z.items)?F1.False:L9.IsUndefined(J.items)&&!L9.IsUndefined(Z.items)?F1.True:J.items.every((X,Y)=>E4(X,Z.items[Y])===F1.True)?F1.True:F1.False}function Ne6(J,Z){return K5(Z)?q5(J,Z):J1.IsObject(Z)?R9(J,Z):J1.IsRecord(Z)?iJ(J,Z):J1.IsUint8Array(Z)?F1.True:F1.False}function Pe6(J,Z){return K5(Z)?q5(J,Z):J1.IsObject(Z)?R9(J,Z):J1.IsRecord(Z)?iJ(J,Z):J1.IsVoid(Z)?je6(J,Z):J1.IsUndefined(Z)?F1.True:F1.False}function en(J,Z){return Z.anyOf.some((X)=>E4(J,X)===F1.True)?F1.True:F1.False}function Le6(J,Z){return J.anyOf.every((X)=>E4(X,Z)===F1.True)?F1.True:F1.False}function iw1(J,Z){return F1.True}function Ce6(J,Z){return J1.IsNever(Z)?cw1(J,Z):J1.IsIntersect(Z)?WS(J,Z):J1.IsUnion(Z)?en(J,Z):J1.IsAny(Z)?tn(J,Z):J1.IsString(Z)?nw1(J,Z):J1.IsNumber(Z)?lw1(J,Z):J1.IsInteger(Z)?mw1(J,Z):J1.IsBoolean(Z)?uw1(J,Z):J1.IsArray(Z)?lt6(J,Z):J1.IsTuple(Z)?Ae6(J,Z):J1.IsObject(Z)?R9(J,Z):J1.IsUnknown(Z)?F1.True:F1.False}function je6(J,Z){return J1.IsUndefined(J)?F1.True:J1.IsUndefined(J)?F1.True:F1.False}function Re6(J,Z){return J1.IsIntersect(Z)?WS(J,Z):J1.IsUnion(Z)?en(J,Z):J1.IsUnknown(Z)?iw1(J,Z):J1.IsAny(Z)?tn(J,Z):J1.IsObject(Z)?R9(J,Z):J1.IsVoid(Z)?F1.True:F1.False}function E4(J,Z){return J1.IsTemplateLiteral(J)||J1.IsTemplateLiteral(Z)?Ie6(J,Z):J1.IsRegExp(J)||J1.IsRegExp(Z)?Oe6(J,Z):J1.IsNot(J)||J1.IsNot(Z)?Ye6(J,Z):J1.IsAny(J)?ct6(J,Z):J1.IsArray(J)?pt6(J,Z):J1.IsBigInt(J)?it6(J,Z):J1.IsBoolean(J)?ot6(J,Z):J1.IsAsyncIterator(J)?nt6(J,Z):J1.IsConstructor(J)?st6(J,Z):J1.IsDate(J)?at6(J,Z):J1.IsFunction(J)?rt6(J,Z):J1.IsInteger(J)?tt6(J,Z):J1.IsIntersect(J)?et6(J,Z):J1.IsIterator(J)?Je6(J,Z):J1.IsLiteral(J)?Ze6(J,Z):J1.IsNever(J)?Xe6(J,Z):J1.IsNull(J)?$e6(J,Z):J1.IsNumber(J)?ze6(J,Z):J1.IsObject(J)?He6(J,Z):J1.IsRecord(J)?Ue6(J,Z):J1.IsString(J)?De6(J,Z):J1.IsSymbol(J)?Ve6(J,Z):J1.IsTuple(J)?Me6(J,Z):J1.IsPromise(J)?Fe6(J,Z):J1.IsUint8Array(J)?Ne6(J,Z):J1.IsUndefined(J)?Pe6(J,Z):J1.IsUnion(J)?Le6(J,Z):J1.IsUnknown(J)?Ce6(J,Z):J1.IsVoid(J)?Re6(J,Z):eD(`Unknown left type operand '${J[$1]}'`)}function CK(J,Z){return E4(J,Z)}function Ee6(J,Z,X,Y,$){let z={};for(let W of globalThis.Object.getOwnPropertyNames(J))z[W]=JV(J[W],Z,X,Y,W8($));return z}function Se6(J,Z,X,Y,$){return Ee6(J.properties,Z,X,Y,$)}function ow1(J,Z,X,Y,$){let z=Se6(J,Z,X,Y,$);return t6(z)}function Te6(J,Z,X,Y){let $=CK(J,Z);return $===F1.Union?W4([X,Y]):$===F1.True?X:Y}function JV(J,Z,X,Y,$){return G8(J)?ow1(J,Z,X,Y,$):KJ(J)?H1(sw1(J,Z,X,Y,$)):H1(Te6(J,Z,X,Y),$)}function fe6(J,Z,X,Y,$){return{[J]:JV(c6(J),Z,X,Y,W8($))}}function ke6(J,Z,X,Y,$){return J.reduce((z,W)=>{return{...z,...fe6(W,Z,X,Y,$)}},{})}function be6(J,Z,X,Y,$){return ke6(J.keys,Z,X,Y,$)}function sw1(J,Z,X,Y,$){let z=be6(J,Z,X,Y,$);return t6(z)}function he6(J){return J.allOf.every((Z)=>aW(Z))}function _e6(J){return J.anyOf.some((Z)=>aW(Z))}function ye6(J){return!aW(J.not)}function aW(J){return J[$1]==="Intersect"?he6(J):J[$1]==="Union"?_e6(J):J[$1]==="Not"?ye6(J):J[$1]==="Undefined"?!0:!1}function aw1(J,Z){return ZV(MH(J),Z)}function ve6(J,Z){let X=J.filter((Y)=>CK(Y,Z)===F1.False);return X.length===1?X[0]:W4(X)}function ZV(J,Z,X={}){if(qJ(J))return H1(aw1(J,Z),X);if(G8(J))return H1(rw1(J,Z),X);return H1(i6(J)?ve6(J.anyOf,Z):CK(J,Z)!==F1.False?w6():J,X)}function xe6(J,Z){let X={};for(let Y of globalThis.Object.getOwnPropertyNames(J))X[Y]=ZV(J[Y],Z);return X}function ge6(J,Z){return xe6(J.properties,Z)}function rw1(J,Z){let X=ge6(J,Z);return t6(X)}function tw1(J,Z){return XV(MH(J),Z)}function de6(J,Z){let X=J.filter((Y)=>CK(Y,Z)!==F1.False);return X.length===1?X[0]:W4(X)}function XV(J,Z,X){if(qJ(J))return H1(tw1(J,Z),X);if(G8(J))return H1(ew1(J,Z),X);return H1(i6(J)?de6(J.anyOf,Z):CK(J,Z)!==F1.False?J:w6(),X)}function ue6(J,Z){let X={};for(let Y of globalThis.Object.getOwnPropertyNames(J))X[Y]=XV(J[Y],Z);return X}function me6(J,Z){return ue6(J.properties,Z)}function ew1(J,Z){let X=me6(J,Z);return t6(X)}function JA1(J,Z){return gX(J)?H1(J.returns,Z):w6(Z)}function GS(J){return L7(C9(J))}function NH(J,Z,X){return H1({[$1]:"Record",type:"object",patternProperties:{[J]:Z}},X)}function Ji(J,Z,X){let Y={};for(let $ of J)Y[$]=Z;return Q4(Y,{...X,[uJ]:"Record"})}function ce6(J,Z,X){return oE(J)?Ji(P7(J),Z,X):NH(J.pattern,Z,X)}function le6(J,Z,X){return Ji(P7(W4(J)),Z,X)}function pe6(J,Z,X){return Ji([J.toString()],Z,X)}function ne6(J,Z,X){return NH(J.source,Z,X)}function ie6(J,Z,X){let Y=r8(J.pattern)?z$:J.pattern;return NH(Y,Z,X)}function oe6(J,Z,X){return NH(z$,Z,X)}function se6(J,Z,X){return NH(zw1,Z,X)}function ae6(J,Z,X){return Q4({true:Z,false:Z},X)}function re6(J,Z,X){return NH($$,Z,X)}function te6(J,Z,X){return NH($$,Z,X)}function KS(J,Z,X={}){return i6(J)?le6(J.anyOf,Z,X):qJ(J)?ce6(J,Z,X):GJ(J)?pe6(J.const,Z,X):lW(J)?ae6(J,Z,X):uX(J)?re6(J,Z,X):mX(J)?te6(J,Z,X):xn(J)?ne6(J,Z,X):pW(J)?ie6(J,Z,X):yn(J)?oe6(J,Z,X):MK(J)?se6(J,Z,X):w6(X)}function qS(J){return globalThis.Object.getOwnPropertyNames(J.patternProperties)[0]}function ZA1(J){let Z=qS(J);return Z===z$?e9():Z===$$?mJ():e9({pattern:Z})}function BS(J){return J.patternProperties[qS(J)]}function ee6(J,Z){return Z.parameters=IM(J,Z.parameters),Z.returns=lX(J,Z.returns),Z}function J14(J,Z){return Z.parameters=IM(J,Z.parameters),Z.returns=lX(J,Z.returns),Z}function Z14(J,Z){return Z.allOf=IM(J,Z.allOf),Z}function X14(J,Z){return Z.anyOf=IM(J,Z.anyOf),Z}function Y14(J,Z){if(r8(Z.items))return Z;return Z.items=IM(J,Z.items),Z}function $14(J,Z){return Z.items=lX(J,Z.items),Z}function z14(J,Z){return Z.items=lX(J,Z.items),Z}function W14(J,Z){return Z.items=lX(J,Z.items),Z}function Q14(J,Z){return Z.item=lX(J,Z.item),Z}function G14(J,Z){let X=H14(J,Z.properties);return{...Z,...Q4(X)}}function K14(J,Z){let X=lX(J,ZA1(Z)),Y=lX(J,BS(Z)),$=KS(X,Y);return{...Z,...$}}function q14(J,Z){return Z.index in J?J[Z.index]:cX()}function B14(J,Z){let X=dD(Z),Y=N7(Z),$=lX(J,Z);return X&&Y?GS($):X&&!Y?L7($):!X&&Y?C9($):$}function H14(J,Z){return globalThis.Object.getOwnPropertyNames(Z).reduce((X,Y)=>{return{...X,[Y]:B14(J,Z[Y])}},{})}function IM(J,Z){return Z.map((X)=>lX(J,X))}function lX(J,Z){return gX(Z)?ee6(J,Z):dX(Z)?J14(J,Z):T8(Z)?Z14(J,Z):i6(Z)?X14(J,Z):BJ(Z)?Y14(J,Z):vX(Z)?$14(J,Z):OH(Z)?z14(J,Z):VH(Z)?W14(J,Z):IH(Z)?Q14(J,Z):e8(Z)?G14(J,Z):wH(Z)?K14(J,Z):vn(Z)?q14(J,Z):Z}function XA1(J,Z){return lX(Z,xD(J))}function YA1(J){return H1({[$1]:"Integer",type:"integer"},J)}function F14(J,Z,X){return{[J]:pX(c6(J),Z,W8(X))}}function U14(J,Z,X){return J.reduce(($,z)=>{return{...$,...F14(z,Z,X)}},{})}function O14(J,Z,X){return U14(J.keys,Z,X)}function $A1(J,Z,X){let Y=O14(J,Z,X);return t6(Y)}function D14(J){let[Z,X]=[J.slice(0,1),J.slice(1)];return[Z.toLowerCase(),X].join("")}function V14(J){let[Z,X]=[J.slice(0,1),J.slice(1)];return[Z.toUpperCase(),X].join("")}function I14(J){return J.toUpperCase()}function w14(J){return J.toLowerCase()}function A14(J,Z,X){let Y=iD(J.pattern);if(!AH(Y))return{...J,pattern:zA1(J.pattern,Z)};let W=[...UM(Y)].map((K)=>c6(K)),Q=WA1(W,Z),G=W4(Q);return aE([G],X)}function zA1(J,Z){return typeof J==="string"?Z==="Uncapitalize"?D14(J):Z==="Capitalize"?V14(J):Z==="Uppercase"?I14(J):Z==="Lowercase"?w14(J):J:J.toString()}function WA1(J,Z){return J.map((X)=>pX(X,Z))}function pX(J,Z,X={}){return KJ(J)?$A1(J,Z,X):qJ(J)?A14(J,Z,X):i6(J)?W4(WA1(J.anyOf,Z),X):GJ(J)?c6(zA1(J.const,Z),X):H1(J,X)}function QA1(J,Z={}){return pX(J,"Capitalize",Z)}function GA1(J,Z={}){return pX(J,"Lowercase",Z)}function KA1(J,Z={}){return pX(J,"Uncapitalize",Z)}function qA1(J,Z={}){return pX(J,"Uppercase",Z)}function M14(J,Z,X){let Y={};for(let $ of globalThis.Object.getOwnPropertyNames(J))Y[$]=jK(J[$],Z,W8(X));return Y}function N14(J,Z,X){return M14(J.properties,Z,X)}function BA1(J,Z,X){let Y=N14(J,Z,X);return t6(Y)}function P14(J,Z){return J.map((X)=>Zi(X,Z))}function L14(J,Z){return J.map((X)=>Zi(X,Z))}function C14(J,Z){let{[Z]:X,...Y}=J;return Y}function j14(J,Z){return Z.reduce((X,Y)=>C14(X,Y),J)}function R14(J,Z){let X=f8(J,[h4,"$id","required","properties"]),Y=j14(J.properties,Z);return Q4(Y,X)}function E14(J){let Z=J.reduce((X,Y)=>pE(Y)?[...X,c6(Y)]:X,[]);return W4(Z)}function Zi(J,Z){return T8(J)?j9(P14(J.allOf,Z)):i6(J)?W4(L14(J.anyOf,Z)):e8(J)?R14(J,Z):Q4({})}function jK(J,Z,X){let Y=a8(Z)?E14(Z):Z,$=N8(Z)?P7(Z):Z,z=v8(J),W=v8(Z);return G8(J)?BA1(J,$,X):KJ(Z)?HA1(J,Z,X):z&&W?e4("Omit",[J,Y],X):!z&&W?e4("Omit",[J,Y],X):z&&!W?e4("Omit",[J,Y],X):H1({...Zi(J,$),...X})}function S14(J,Z,X){return{[Z]:jK(J,[Z],W8(X))}}function T14(J,Z,X){return Z.reduce((Y,$)=>{return{...Y,...S14(J,$,X)}},{})}function f14(J,Z,X){return T14(J,Z.keys,X)}function HA1(J,Z,X){let Y=f14(J,Z,X);return t6(Y)}function k14(J,Z,X){let Y={};for(let $ of globalThis.Object.getOwnPropertyNames(J))Y[$]=RK(J[$],Z,W8(X));return Y}function b14(J,Z,X){return k14(J.properties,Z,X)}function FA1(J,Z,X){let Y=b14(J,Z,X);return t6(Y)}function h14(J,Z){return J.map((X)=>Xi(X,Z))}function _14(J,Z){return J.map((X)=>Xi(X,Z))}function y14(J,Z){let X={};for(let Y of Z)if(Y in J)X[Y]=J[Y];return X}function v14(J,Z){let X=f8(J,[h4,"$id","required","properties"]),Y=y14(J.properties,Z);return Q4(Y,X)}function x14(J){let Z=J.reduce((X,Y)=>pE(Y)?[...X,c6(Y)]:X,[]);return W4(Z)}function Xi(J,Z){return T8(J)?j9(h14(J.allOf,Z)):i6(J)?W4(_14(J.anyOf,Z)):e8(J)?v14(J,Z):Q4({})}function RK(J,Z,X){let Y=a8(Z)?x14(Z):Z,$=N8(Z)?P7(Z):Z,z=v8(J),W=v8(Z);return G8(J)?FA1(J,$,X):KJ(Z)?UA1(J,Z,X):z&&W?e4("Pick",[J,Y],X):!z&&W?e4("Pick",[J,Y],X):z&&!W?e4("Pick",[J,Y],X):H1({...Xi(J,$),...X})}function g14(J,Z,X){return{[Z]:RK(J,[Z],W8(X))}}function d14(J,Z,X){return Z.reduce((Y,$)=>{return{...Y,...g14(J,$,X)}},{})}function u14(J,Z,X){return d14(J,Z.keys,X)}function UA1(J,Z,X){let Y=u14(J,Z,X);return t6(Y)}function m14(J,Z){return e4("Partial",[e4(J,Z)])}function c14(J){return e4("Partial",[pJ(J)])}function l14(J){let Z={};for(let X of globalThis.Object.getOwnPropertyNames(J))Z[X]=C9(J[X]);return Z}function p14(J){let Z=f8(J,[h4,"$id","required","properties"]),X=l14(J.properties);return Q4(X,Z)}function OA1(J){return J.map((Z)=>DA1(Z))}function DA1(J){return xX(J)?m14(J.target,J.parameters):v8(J)?c14(J.$ref):T8(J)?j9(OA1(J.allOf)):i6(J)?W4(OA1(J.anyOf)):e8(J)?p14(J):DH(J)?J:lW(J)?J:uX(J)?J:GJ(J)?J:GM(J)?J:mX(J)?J:pW(J)?J:KM(J)?J:nW(J)?J:Q4({})}function YV(J,Z){if(G8(J))return VA1(J,Z);else return H1({...DA1(J),...Z})}function n14(J,Z){let X={};for(let Y of globalThis.Object.getOwnPropertyNames(J))X[Y]=YV(J[Y],W8(Z));return X}function i14(J,Z){return n14(J.properties,Z)}function VA1(J,Z){let X=i14(J,Z);return t6(X)}function o14(J,Z){return e4("Required",[e4(J,Z)])}function s14(J){return e4("Required",[pJ(J)])}function a14(J){let Z={};for(let X of globalThis.Object.getOwnPropertyNames(J))Z[X]=f8(J[X],[t8]);return Z}function r14(J){let Z=f8(J,[h4,"$id","required","properties"]),X=a14(J.properties);return Q4(X,Z)}function IA1(J){return J.map((Z)=>wA1(Z))}function wA1(J){return xX(J)?o14(J.target,J.parameters):v8(J)?s14(J.$ref):T8(J)?j9(IA1(J.allOf)):i6(J)?W4(IA1(J.anyOf)):e8(J)?r14(J):DH(J)?J:lW(J)?J:uX(J)?J:GJ(J)?J:GM(J)?J:mX(J)?J:pW(J)?J:KM(J)?J:nW(J)?J:Q4({})}function $V(J,Z){if(G8(J))return AA1(J,Z);else return H1({...wA1(J),...Z})}function t14(J,Z){let X={};for(let Y of globalThis.Object.getOwnPropertyNames(J))X[Y]=$V(J[Y],Z);return X}function e14(J,Z){return t14(J.properties,Z)}function AA1(J,Z){let X=e14(J,Z);return t6(X)}function J04(J,Z){return Z.map((X)=>{return v8(X)?Yi(J,X.$ref):HJ(J,X)})}function Yi(J,Z){return Z in J?v8(J[Z])?Yi(J,J[Z].$ref):HJ(J,J[Z]):w6()}function Z04(J){return rD(J[0])}function X04(J){return LK(J[0],J[1])}function Y04(J){return tD(J[0])}function $04(J){return YV(J[0])}function z04(J){return jK(J[0],J[1])}function W04(J){return RK(J[0],J[1])}function Q04(J){return $V(J[0])}function G04(J,Z,X){let Y=J04(J,X);return Z==="Awaited"?Z04(Y):Z==="Index"?X04(Y):Z==="KeyOf"?Y04(Y):Z==="Partial"?$04(Y):Z==="Omit"?z04(Y):Z==="Pick"?W04(Y):Z==="Required"?Q04(Y):w6()}function K04(J,Z){return cD(HJ(J,Z))}function q04(J,Z){return lD(HJ(J,Z))}function B04(J,Z,X){return pD(wM(J,Z),HJ(J,X))}function H04(J,Z,X){return W$(wM(J,Z),HJ(J,X))}function F04(J,Z){return j9(wM(J,Z))}function U04(J,Z){return aD(HJ(J,Z))}function O04(J,Z){return Q4(globalThis.Object.keys(Z).reduce((X,Y)=>{return{...X,[Y]:HJ(J,Z[Y])}},{}))}function D04(J,Z){let[X,Y]=[HJ(J,BS(Z)),qS(Z)],$=xD(Z);return $.patternProperties[Y]=X,$}function V04(J,Z){return v8(Z)?{...Yi(J,Z.$ref),[h4]:Z[h4]}:Z}function I04(J,Z){return cJ(wM(J,Z))}function w04(J,Z){return W4(wM(J,Z))}function wM(J,Z){return Z.map((X)=>HJ(J,X))}function HJ(J,Z){return N7(Z)?H1(HJ(J,f8(Z,[t8])),Z):dD(Z)?H1(HJ(J,f8(Z,[yX])),Z):z4(Z)?H1(V04(J,Z),Z):vX(Z)?H1(K04(J,Z.items),Z):OH(Z)?H1(q04(J,Z.items),Z):xX(Z)?H1(G04(J,Z.target,Z.parameters)):gX(Z)?H1(B04(J,Z.parameters,Z.returns),Z):dX(Z)?H1(H04(J,Z.parameters,Z.returns),Z):T8(Z)?H1(F04(J,Z.allOf),Z):VH(Z)?H1(U04(J,Z.items),Z):e8(Z)?H1(O04(J,Z.properties),Z):wH(Z)?H1(D04(J,Z)):BJ(Z)?H1(I04(J,Z.items||[]),Z):i6(Z)?H1(w04(J,Z.anyOf),Z):Z}function A04(J,Z){return Z in J?HJ(J,J[Z]):w6()}function MA1(J){return globalThis.Object.getOwnPropertyNames(J).reduce((Z,X)=>{return{...Z,[X]:A04(J,X)}},{})}class NA1{constructor(J){let Z=MA1(J),X=this.WithIdentifiers(Z);this.$defs=X}Import(J,Z){let X={...this.$defs,[J]:H1(this.$defs[J],Z)};return H1({[$1]:"Import",$defs:X,$ref:J})}WithIdentifiers(J){return globalThis.Object.getOwnPropertyNames(J).reduce((Z,X)=>{return{...Z,[X]:{...J[X],$id:X}}},{})}}function PA1(J){return new NA1(J)}function LA1(J,Z){return H1({[$1]:"Not",not:J},Z)}function CA1(J,Z){return dX(J)?cJ(J.parameters,Z):w6()}var M04=0;function jA1(J,Z={}){if(r8(Z.$id))Z.$id=`T${M04++}`;let X=xD(J({[$1]:"This",$ref:`${Z.$id}`}));return X.$id=Z.$id,H1({[uJ]:"Recursive",...X},Z)}function RA1(J,Z){let X=p4(J)?new globalThis.RegExp(J):J;return H1({[$1]:"RegExp",type:"RegExp",source:X.source,flags:X.flags},Z)}function N04(J){return T8(J)?J.allOf:i6(J)?J.anyOf:BJ(J)?J.items??[]:[]}function EA1(J){return N04(J)}function SA1(J,Z){return dX(J)?H1(J.returns,Z):w6(Z)}class TA1{constructor(J){this.schema=J}Decode(J){return new fA1(this.schema,J)}}class fA1{constructor(J,Z){this.schema=J,this.decode=Z}EncodeTransform(J,Z){let $={Encode:(z)=>Z[h4].Encode(J(z)),Decode:(z)=>this.decode(Z[h4].Decode(z))};return{...Z,[h4]:$}}EncodeSchema(J,Z){let X={Decode:this.decode,Encode:J};return{...Z,[h4]:X}}Encode(J){return z4(this.schema)?this.EncodeTransform(J,this.schema):this.EncodeSchema(J,this.schema)}}function kA1(J){return new TA1(J)}function HS(J={}){return H1({[$1]:J[$1]??"Unsafe"},J)}function bA1(J){return H1({[$1]:"Void",type:"void"},J)}var $i={};r9($i,{Void:()=>bA1,Uppercase:()=>qA1,Unsafe:()=>HS,Unknown:()=>cX,Union:()=>W4,Undefined:()=>YS,Uncapitalize:()=>KA1,Uint8Array:()=>$S,Tuple:()=>cJ,Transform:()=>kA1,TemplateLiteral:()=>aE,Symbol:()=>XS,String:()=>e9,ReturnType:()=>SA1,Rest:()=>EA1,Required:()=>$V,RegExp:()=>RA1,Ref:()=>pJ,Recursive:()=>jA1,Record:()=>KS,ReadonlyOptional:()=>GS,Readonly:()=>L7,Promise:()=>tE,Pick:()=>RK,Partial:()=>YV,Parameters:()=>CA1,Optional:()=>C9,Omit:()=>jK,Object:()=>Q4,Number:()=>mJ,Null:()=>ZS,Not:()=>LA1,Never:()=>w6,Module:()=>PA1,Mapped:()=>jw1,Lowercase:()=>GA1,Literal:()=>c6,KeyOf:()=>tD,Iterator:()=>aD,Intersect:()=>j9,Integer:()=>YA1,Instantiate:()=>XA1,InstanceType:()=>JA1,Index:()=>LK,Function:()=>W$,Extract:()=>XV,Extends:()=>JV,Exclude:()=>ZV,Enum:()=>_w1,Date:()=>JS,ConstructorParameters:()=>hw1,Constructor:()=>pD,Const:()=>bw1,Composite:()=>kw1,Capitalize:()=>QA1,Boolean:()=>sE,BigInt:()=>sD,Awaited:()=>rD,AsyncIterator:()=>lD,Array:()=>cD,Argument:()=>qw1,Any:()=>PK});var rW=$i;function P04(J){switch(J.errorType){case q1.ArrayContains:return"Expected array to contain at least one matching value";case q1.ArrayMaxContains:return`Expected array to contain no more than ${J.schema.maxContains} matching values`;case q1.ArrayMinContains:return`Expected array to contain at least ${J.schema.minContains} matching values`;case q1.ArrayMaxItems:return`Expected array length to be less or equal to ${J.schema.maxItems}`;case q1.ArrayMinItems:return`Expected array length to be greater or equal to ${J.schema.minItems}`;case q1.ArrayUniqueItems:return"Expected array elements to be unique";case q1.Array:return"Expected array";case q1.AsyncIterator:return"Expected AsyncIterator";case q1.BigIntExclusiveMaximum:return`Expected bigint to be less than ${J.schema.exclusiveMaximum}`;case q1.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${J.schema.exclusiveMinimum}`;case q1.BigIntMaximum:return`Expected bigint to be less or equal to ${J.schema.maximum}`;case q1.BigIntMinimum:return`Expected bigint to be greater or equal to ${J.schema.minimum}`;case q1.BigIntMultipleOf:return`Expected bigint to be a multiple of ${J.schema.multipleOf}`;case q1.BigInt:return"Expected bigint";case q1.Boolean:return"Expected boolean";case q1.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${J.schema.exclusiveMinimumTimestamp}`;case q1.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${J.schema.exclusiveMaximumTimestamp}`;case q1.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${J.schema.minimumTimestamp}`;case q1.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${J.schema.maximumTimestamp}`;case q1.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${J.schema.multipleOfTimestamp}`;case q1.Date:return"Expected Date";case q1.Function:return"Expected function";case q1.IntegerExclusiveMaximum:return`Expected integer to be less than ${J.schema.exclusiveMaximum}`;case q1.IntegerExclusiveMinimum:return`Expected integer to be greater than ${J.schema.exclusiveMinimum}`;case q1.IntegerMaximum:return`Expected integer to be less or equal to ${J.schema.maximum}`;case q1.IntegerMinimum:return`Expected integer to be greater or equal to ${J.schema.minimum}`;case q1.IntegerMultipleOf:return`Expected integer to be a multiple of ${J.schema.multipleOf}`;case q1.Integer:return"Expected integer";case q1.IntersectUnevaluatedProperties:return"Unexpected property";case q1.Intersect:return"Expected all values to match";case q1.Iterator:return"Expected Iterator";case q1.Literal:return`Expected ${typeof J.schema.const==="string"?`'${J.schema.const}'`:J.schema.const}`;case q1.Never:return"Never";case q1.Not:return"Value should not match";case q1.Null:return"Expected null";case q1.NumberExclusiveMaximum:return`Expected number to be less than ${J.schema.exclusiveMaximum}`;case q1.NumberExclusiveMinimum:return`Expected number to be greater than ${J.schema.exclusiveMinimum}`;case q1.NumberMaximum:return`Expected number to be less or equal to ${J.schema.maximum}`;case q1.NumberMinimum:return`Expected number to be greater or equal to ${J.schema.minimum}`;case q1.NumberMultipleOf:return`Expected number to be a multiple of ${J.schema.multipleOf}`;case q1.Number:return"Expected number";case q1.Object:return"Expected object";case q1.ObjectAdditionalProperties:return"Unexpected property";case q1.ObjectMaxProperties:return`Expected object to have no more than ${J.schema.maxProperties} properties`;case q1.ObjectMinProperties:return`Expected object to have at least ${J.schema.minProperties} properties`;case q1.ObjectRequiredProperty:return"Expected required property";case q1.Promise:return"Expected Promise";case q1.RegExp:return"Expected string to match regular expression";case q1.StringFormatUnknown:return`Unknown format '${J.schema.format}'`;case q1.StringFormat:return`Expected string to match '${J.schema.format}' format`;case q1.StringMaxLength:return`Expected string length less or equal to ${J.schema.maxLength}`;case q1.StringMinLength:return`Expected string length greater or equal to ${J.schema.minLength}`;case q1.StringPattern:return`Expected string to match '${J.schema.pattern}'`;case q1.String:return"Expected string";case q1.Symbol:return"Expected symbol";case q1.TupleLength:return`Expected tuple to have ${J.schema.maxItems||0} elements`;case q1.Tuple:return"Expected tuple";case q1.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${J.schema.maxByteLength}`;case q1.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${J.schema.minByteLength}`;case q1.Uint8Array:return"Expected Uint8Array";case q1.Undefined:return"Expected undefined";case q1.Union:return"Expected union value";case q1.Void:return"Expected void";case q1.Kind:return`Expected kind '${J.schema[$1]}'`;default:return"Unknown error type"}}var L04=P04;function hA1(){return L04}class _A1 extends D0{constructor(J){super(`Unable to dereference schema with $id '${J.$ref}'`);this.schema=J}}function C04(J,Z){let X=Z.find((Y)=>Y.$id===J.$ref);if(X===void 0)throw new _A1(J);return e6(X,Z)}function d5(J,Z){if(!n6(J.$id)||Z.some((X)=>X.$id===J.$id))return Z;return Z.push(J),Z}function e6(J,Z){return J[$1]==="This"||J[$1]==="Ref"?C04(J,Z):J}class yA1 extends D0{constructor(J){super("Unable to hash value");this.value=J}}var FJ;(function(J){J[J.Undefined=0]="Undefined",J[J.Null=1]="Null",J[J.Boolean=2]="Boolean",J[J.Number=3]="Number",J[J.String=4]="String",J[J.Object=5]="Object",J[J.Array=6]="Array",J[J.Date=7]="Date",J[J.Uint8Array=8]="Uint8Array",J[J.Symbol=9]="Symbol",J[J.BigInt=10]="BigInt"})(FJ||(FJ={}));var zV=BigInt("14695981039346656037"),[j04,R04]=[BigInt("1099511628211"),BigInt("18446744073709551616")],E04=Array.from({length:256}).map((J,Z)=>BigInt(Z)),vA1=new Float64Array(1),xA1=new DataView(vA1.buffer),gA1=new Uint8Array(vA1.buffer);function*S04(J){let Z=J===0?1:Math.ceil(Math.floor(Math.log2(J)+1)/8);for(let X=0;X<Z;X++)yield J>>8*(Z-1-X)&255}function T04(J){E9(FJ.Array);for(let Z of J)WV(Z)}function f04(J){E9(FJ.Boolean),E9(J?1:0)}function k04(J){E9(FJ.BigInt),xA1.setBigInt64(0,J);for(let Z of gA1)E9(Z)}function b04(J){E9(FJ.Date),WV(J.getTime())}function h04(J){E9(FJ.Null)}function _04(J){E9(FJ.Number),xA1.setFloat64(0,J);for(let Z of gA1)E9(Z)}function y04(J){E9(FJ.Object);for(let Z of globalThis.Object.getOwnPropertyNames(J).sort())WV(Z),WV(J[Z])}function v04(J){E9(FJ.String);for(let Z=0;Z<J.length;Z++)for(let X of S04(J.charCodeAt(Z)))E9(X)}function x04(J){E9(FJ.Symbol),WV(J.description)}function g04(J){E9(FJ.Uint8Array);for(let Z=0;Z<J.length;Z++)E9(J[Z])}function d04(J){return E9(FJ.Undefined)}function WV(J){if(s0(J))return T04(J);if(Y$(J))return f04(J);if(K9(J))return k04(J);if(t9(J))return b04(J);if(mW(J))return h04(J);if(Q0(J))return _04(J);if(N6(J))return y04(J);if(n6(J))return v04(J);if(cW(J))return x04(J);if(gD(J))return g04(J);if(Q8(J))return d04(J);throw new yA1(J)}function E9(J){zV=zV^E04[J],zV=zV*j04%R04}function EK(J){return zV=BigInt("14695981039346656037"),WV(J),zV}class dA1 extends D0{constructor(J){super("Unknown type");this.schema=J}}function u04(J){return J[$1]==="Any"||J[$1]==="Unknown"}function _6(J){return J!==void 0}function m04(J,Z,X){return!0}function c04(J,Z,X){return!0}function l04(J,Z,X){if(!s0(X))return!1;if(_6(J.minItems)&&!(X.length>=J.minItems))return!1;if(_6(J.maxItems)&&!(X.length<=J.maxItems))return!1;if(!X.every((z)=>u5(J.items,Z,z)))return!1;if(J.uniqueItems===!0&&!function(){let z=new Set;for(let W of X){let Q=EK(W);if(z.has(Q))return!1;else z.add(Q)}return!0}())return!1;if(!(_6(J.contains)||Q0(J.minContains)||Q0(J.maxContains)))return!0;let Y=_6(J.contains)?J.contains:w6(),$=X.reduce((z,W)=>u5(Y,Z,W)?z+1:z,0);if($===0)return!1;if(Q0(J.minContains)&&$<J.minContains)return!1;if(Q0(J.maxContains)&&$>J.maxContains)return!1;return!0}function p04(J,Z,X){return uE(X)}function n04(J,Z,X){if(!K9(X))return!1;if(_6(J.exclusiveMaximum)&&!(X<J.exclusiveMaximum))return!1;if(_6(J.exclusiveMinimum)&&!(X>J.exclusiveMinimum))return!1;if(_6(J.maximum)&&!(X<=J.maximum))return!1;if(_6(J.minimum)&&!(X>=J.minimum))return!1;if(_6(J.multipleOf)&&X%J.multipleOf!==BigInt(0))return!1;return!0}function i04(J,Z,X){return Y$(X)}function o04(J,Z,X){return u5(J.returns,Z,X.prototype)}function s04(J,Z,X){if(!t9(X))return!1;if(_6(J.exclusiveMaximumTimestamp)&&!(X.getTime()<J.exclusiveMaximumTimestamp))return!1;if(_6(J.exclusiveMinimumTimestamp)&&!(X.getTime()>J.exclusiveMinimumTimestamp))return!1;if(_6(J.maximumTimestamp)&&!(X.getTime()<=J.maximumTimestamp))return!1;if(_6(J.minimumTimestamp)&&!(X.getTime()>=J.minimumTimestamp))return!1;if(_6(J.multipleOfTimestamp)&&X.getTime()%J.multipleOfTimestamp!==0)return!1;return!0}function a04(J,Z,X){return AK(X)}function r04(J,Z,X){let Y=globalThis.Object.values(J.$defs),$=J.$defs[J.$ref];return u5($,[...Z,...Y],X)}function t04(J,Z,X){if(!lE(X))return!1;if(_6(J.exclusiveMaximum)&&!(X<J.exclusiveMaximum))return!1;if(_6(J.exclusiveMinimum)&&!(X>J.exclusiveMinimum))return!1;if(_6(J.maximum)&&!(X<=J.maximum))return!1;if(_6(J.minimum)&&!(X>=J.minimum))return!1;if(_6(J.multipleOf)&&X%J.multipleOf!==0)return!1;return!0}function e04(J,Z,X){let Y=J.allOf.every(($)=>u5($,Z,X));if(J.unevaluatedProperties===!1){let $=new RegExp(sW(J)),z=Object.getOwnPropertyNames(X).every((W)=>$.test(W));return Y&&z}else if(N8(J.unevaluatedProperties)){let $=new RegExp(sW(J)),z=Object.getOwnPropertyNames(X).every((W)=>$.test(W)||u5(J.unevaluatedProperties,Z,X[W]));return Y&&z}else return Y}function J64(J,Z,X){return mE(X)}function Z64(J,Z,X){return X===J.const}function X64(J,Z,X){return!1}function Y64(J,Z,X){return!u5(J.not,Z,X)}function $64(J,Z,X){return mW(X)}function z64(J,Z,X){if(!t4.IsNumberLike(X))return!1;if(_6(J.exclusiveMaximum)&&!(X<J.exclusiveMaximum))return!1;if(_6(J.exclusiveMinimum)&&!(X>J.exclusiveMinimum))return!1;if(_6(J.minimum)&&!(X>=J.minimum))return!1;if(_6(J.maximum)&&!(X<=J.maximum))return!1;if(_6(J.multipleOf)&&X%J.multipleOf!==0)return!1;return!0}function W64(J,Z,X){if(!t4.IsObjectLike(X))return!1;if(_6(J.minProperties)&&!(Object.getOwnPropertyNames(X).length>=J.minProperties))return!1;if(_6(J.maxProperties)&&!(Object.getOwnPropertyNames(X).length<=J.maxProperties))return!1;let Y=Object.getOwnPropertyNames(J.properties);for(let $ of Y){let z=J.properties[$];if(J.required&&J.required.includes($)){if(!u5(z,Z,X[$]))return!1;if((aW(z)||u04(z))&&!($ in X))return!1}else if(t4.IsExactOptionalProperty(X,$)&&!u5(z,Z,X[$]))return!1}if(J.additionalProperties===!1){let $=Object.getOwnPropertyNames(X);if(J.required&&J.required.length===Y.length&&$.length===Y.length)return!0;else return $.every((z)=>Y.includes(z))}else if(typeof J.additionalProperties==="object")return Object.getOwnPropertyNames(X).every((z)=>Y.includes(z)||u5(J.additionalProperties,Z,X[z]));else return!0}function Q64(J,Z,X){return cE(X)}function G64(J,Z,X){if(!t4.IsRecordLike(X))return!1;if(_6(J.minProperties)&&!(Object.getOwnPropertyNames(X).length>=J.minProperties))return!1;if(_6(J.maxProperties)&&!(Object.getOwnPropertyNames(X).length<=J.maxProperties))return!1;let[Y,$]=Object.entries(J.patternProperties)[0],z=new RegExp(Y),W=Object.entries(X).every(([K,q])=>{return z.test(K)?u5($,Z,q):!0}),Q=typeof J.additionalProperties==="object"?Object.entries(X).every(([K,q])=>{return!z.test(K)?u5(J.additionalProperties,Z,q):!0}):!0,G=J.additionalProperties===!1?Object.getOwnPropertyNames(X).every((K)=>{return z.test(K)}):!0;return W&&Q&&G}function K64(J,Z,X){return u5(e6(J,Z),Z,X)}function q64(J,Z,X){let Y=new RegExp(J.source,J.flags);if(_6(J.minLength)){if(!(X.length>=J.minLength))return!1}if(_6(J.maxLength)){if(!(X.length<=J.maxLength))return!1}return Y.test(X)}function B64(J,Z,X){if(!n6(X))return!1;if(_6(J.minLength)){if(!(X.length>=J.minLength))return!1}if(_6(J.maxLength)){if(!(X.length<=J.maxLength))return!1}if(_6(J.pattern)){if(!new RegExp(J.pattern).test(X))return!1}if(_6(J.format)){if(!A4.Has(J.format))return!1;return A4.Get(J.format)(X)}return!0}function H64(J,Z,X){return cW(X)}function F64(J,Z,X){return n6(X)&&new RegExp(J.pattern).test(X)}function U64(J,Z,X){return u5(e6(J,Z),Z,X)}function O64(J,Z,X){if(!s0(X))return!1;if(J.items===void 0&&X.length!==0)return!1;if(X.length!==J.maxItems)return!1;if(!J.items)return!0;for(let Y=0;Y<J.items.length;Y++)if(!u5(J.items[Y],Z,X[Y]))return!1;return!0}function D64(J,Z,X){return Q8(X)}function V64(J,Z,X){return J.anyOf.some((Y)=>u5(Y,Z,X))}function I64(J,Z,X){if(!gD(X))return!1;if(_6(J.maxByteLength)&&!(X.length<=J.maxByteLength))return!1;if(_6(J.minByteLength)&&!(X.length>=J.minByteLength))return!1;return!0}function w64(J,Z,X){return!0}function A64(J,Z,X){return t4.IsVoidLike(X)}function M64(J,Z,X){if(!L5.Has(J[$1]))return!1;return L5.Get(J[$1])(J,X)}function u5(J,Z,X){let Y=_6(J.$id)?d5(J,Z):Z,$=J;switch($[$1]){case"Any":return m04($,Y,X);case"Argument":return c04($,Y,X);case"Array":return l04($,Y,X);case"AsyncIterator":return p04($,Y,X);case"BigInt":return n04($,Y,X);case"Boolean":return i04($,Y,X);case"Constructor":return o04($,Y,X);case"Date":return s04($,Y,X);case"Function":return a04($,Y,X);case"Import":return r04($,Y,X);case"Integer":return t04($,Y,X);case"Intersect":return e04($,Y,X);case"Iterator":return J64($,Y,X);case"Literal":return Z64($,Y,X);case"Never":return X64($,Y,X);case"Not":return Y64($,Y,X);case"Null":return $64($,Y,X);case"Number":return z64($,Y,X);case"Object":return W64($,Y,X);case"Promise":return Q64($,Y,X);case"Record":return G64($,Y,X);case"Ref":return K64($,Y,X);case"RegExp":return q64($,Y,X);case"String":return B64($,Y,X);case"Symbol":return H64($,Y,X);case"TemplateLiteral":return F64($,Y,X);case"This":return U64($,Y,X);case"Tuple":return O64($,Y,X);case"Undefined":return D64($,Y,X);case"Union":return V64($,Y,X);case"Uint8Array":return I64($,Y,X);case"Unknown":return w64($,Y,X);case"Void":return A64($,Y,X);default:if(!L5.Has($[$1]))throw new dA1($);return M64($,Y,X)}}function R6(...J){return J.length===3?u5(J[0],J[1],J[2]):u5(J[0],[],J[1])}var q1;(function(J){J[J.ArrayContains=0]="ArrayContains",J[J.ArrayMaxContains=1]="ArrayMaxContains",J[J.ArrayMaxItems=2]="ArrayMaxItems",J[J.ArrayMinContains=3]="ArrayMinContains",J[J.ArrayMinItems=4]="ArrayMinItems",J[J.ArrayUniqueItems=5]="ArrayUniqueItems",J[J.Array=6]="Array",J[J.AsyncIterator=7]="AsyncIterator",J[J.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",J[J.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",J[J.BigIntMaximum=10]="BigIntMaximum",J[J.BigIntMinimum=11]="BigIntMinimum",J[J.BigIntMultipleOf=12]="BigIntMultipleOf",J[J.BigInt=13]="BigInt",J[J.Boolean=14]="Boolean",J[J.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",J[J.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",J[J.DateMaximumTimestamp=17]="DateMaximumTimestamp",J[J.DateMinimumTimestamp=18]="DateMinimumTimestamp",J[J.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",J[J.Date=20]="Date",J[J.Function=21]="Function",J[J.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",J[J.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",J[J.IntegerMaximum=24]="IntegerMaximum",J[J.IntegerMinimum=25]="IntegerMinimum",J[J.IntegerMultipleOf=26]="IntegerMultipleOf",J[J.Integer=27]="Integer",J[J.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",J[J.Intersect=29]="Intersect",J[J.Iterator=30]="Iterator",J[J.Kind=31]="Kind",J[J.Literal=32]="Literal",J[J.Never=33]="Never",J[J.Not=34]="Not",J[J.Null=35]="Null",J[J.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",J[J.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",J[J.NumberMaximum=38]="NumberMaximum",J[J.NumberMinimum=39]="NumberMinimum",J[J.NumberMultipleOf=40]="NumberMultipleOf",J[J.Number=41]="Number",J[J.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",J[J.ObjectMaxProperties=43]="ObjectMaxProperties",J[J.ObjectMinProperties=44]="ObjectMinProperties",J[J.ObjectRequiredProperty=45]="ObjectRequiredProperty",J[J.Object=46]="Object",J[J.Promise=47]="Promise",J[J.RegExp=48]="RegExp",J[J.StringFormatUnknown=49]="StringFormatUnknown",J[J.StringFormat=50]="StringFormat",J[J.StringMaxLength=51]="StringMaxLength",J[J.StringMinLength=52]="StringMinLength",J[J.StringPattern=53]="StringPattern",J[J.String=54]="String",J[J.Symbol=55]="Symbol",J[J.TupleLength=56]="TupleLength",J[J.Tuple=57]="Tuple",J[J.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",J[J.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",J[J.Uint8Array=60]="Uint8Array",J[J.Undefined=61]="Undefined",J[J.Union=62]="Union",J[J.Void=63]="Void"})(q1||(q1={}));class uA1 extends D0{constructor(J){super("Unknown type");this.schema=J}}function tW(J){return J.replace(/~/g,"~0").replace(/\//g,"~1")}function y6(J){return J!==void 0}class PH{constructor(J){this.iterator=J}[Symbol.iterator](){return this.iterator}First(){let J=this.iterator.next();return J.done?void 0:J.value}}function d1(J,Z,X,Y,$=[]){return{type:J,schema:Z,path:X,value:Y,message:hA1()({errorType:J,path:X,schema:Z,value:Y,errors:$}),errors:$}}function*N64(J,Z,X,Y){}function*P64(J,Z,X,Y){}function*L64(J,Z,X,Y){if(!s0(Y))return yield d1(q1.Array,J,X,Y);if(y6(J.minItems)&&!(Y.length>=J.minItems))yield d1(q1.ArrayMinItems,J,X,Y);if(y6(J.maxItems)&&!(Y.length<=J.maxItems))yield d1(q1.ArrayMaxItems,J,X,Y);for(let W=0;W<Y.length;W++)yield*m5(J.items,Z,`${X}/${W}`,Y[W]);if(J.uniqueItems===!0&&!function(){let W=new Set;for(let Q of Y){let G=EK(Q);if(W.has(G))return!1;else W.add(G)}return!0}())yield d1(q1.ArrayUniqueItems,J,X,Y);if(!(y6(J.contains)||y6(J.minContains)||y6(J.maxContains)))return;let $=y6(J.contains)?J.contains:w6(),z=Y.reduce((W,Q,G)=>m5($,Z,`${X}${G}`,Q).next().done===!0?W+1:W,0);if(z===0)yield d1(q1.ArrayContains,J,X,Y);if(Q0(J.minContains)&&z<J.minContains)yield d1(q1.ArrayMinContains,J,X,Y);if(Q0(J.maxContains)&&z>J.maxContains)yield d1(q1.ArrayMaxContains,J,X,Y)}function*C64(J,Z,X,Y){if(!uE(Y))yield d1(q1.AsyncIterator,J,X,Y)}function*j64(J,Z,X,Y){if(!K9(Y))return yield d1(q1.BigInt,J,X,Y);if(y6(J.exclusiveMaximum)&&!(Y<J.exclusiveMaximum))yield d1(q1.BigIntExclusiveMaximum,J,X,Y);if(y6(J.exclusiveMinimum)&&!(Y>J.exclusiveMinimum))yield d1(q1.BigIntExclusiveMinimum,J,X,Y);if(y6(J.maximum)&&!(Y<=J.maximum))yield d1(q1.BigIntMaximum,J,X,Y);if(y6(J.minimum)&&!(Y>=J.minimum))yield d1(q1.BigIntMinimum,J,X,Y);if(y6(J.multipleOf)&&Y%J.multipleOf!==BigInt(0))yield d1(q1.BigIntMultipleOf,J,X,Y)}function*R64(J,Z,X,Y){if(!Y$(Y))yield d1(q1.Boolean,J,X,Y)}function*E64(J,Z,X,Y){yield*m5(J.returns,Z,X,Y.prototype)}function*S64(J,Z,X,Y){if(!t9(Y))return yield d1(q1.Date,J,X,Y);if(y6(J.exclusiveMaximumTimestamp)&&!(Y.getTime()<J.exclusiveMaximumTimestamp))yield d1(q1.DateExclusiveMaximumTimestamp,J,X,Y);if(y6(J.exclusiveMinimumTimestamp)&&!(Y.getTime()>J.exclusiveMinimumTimestamp))yield d1(q1.DateExclusiveMinimumTimestamp,J,X,Y);if(y6(J.maximumTimestamp)&&!(Y.getTime()<=J.maximumTimestamp))yield d1(q1.DateMaximumTimestamp,J,X,Y);if(y6(J.minimumTimestamp)&&!(Y.getTime()>=J.minimumTimestamp))yield d1(q1.DateMinimumTimestamp,J,X,Y);if(y6(J.multipleOfTimestamp)&&Y.getTime()%J.multipleOfTimestamp!==0)yield d1(q1.DateMultipleOfTimestamp,J,X,Y)}function*T64(J,Z,X,Y){if(!AK(Y))yield d1(q1.Function,J,X,Y)}function*f64(J,Z,X,Y){let $=globalThis.Object.values(J.$defs),z=J.$defs[J.$ref];yield*m5(z,[...Z,...$],X,Y)}function*k64(J,Z,X,Y){if(!lE(Y))return yield d1(q1.Integer,J,X,Y);if(y6(J.exclusiveMaximum)&&!(Y<J.exclusiveMaximum))yield d1(q1.IntegerExclusiveMaximum,J,X,Y);if(y6(J.exclusiveMinimum)&&!(Y>J.exclusiveMinimum))yield d1(q1.IntegerExclusiveMinimum,J,X,Y);if(y6(J.maximum)&&!(Y<=J.maximum))yield d1(q1.IntegerMaximum,J,X,Y);if(y6(J.minimum)&&!(Y>=J.minimum))yield d1(q1.IntegerMinimum,J,X,Y);if(y6(J.multipleOf)&&Y%J.multipleOf!==0)yield d1(q1.IntegerMultipleOf,J,X,Y)}function*b64(J,Z,X,Y){let $=!1;for(let z of J.allOf)for(let W of m5(z,Z,X,Y))$=!0,yield W;if($)return yield d1(q1.Intersect,J,X,Y);if(J.unevaluatedProperties===!1){let z=new RegExp(sW(J));for(let W of Object.getOwnPropertyNames(Y))if(!z.test(W))yield d1(q1.IntersectUnevaluatedProperties,J,`${X}/${W}`,Y)}if(typeof J.unevaluatedProperties==="object"){let z=new RegExp(sW(J));for(let W of Object.getOwnPropertyNames(Y))if(!z.test(W)){let Q=m5(J.unevaluatedProperties,Z,`${X}/${W}`,Y[W]).next();if(!Q.done)yield Q.value}}}function*h64(J,Z,X,Y){if(!mE(Y))yield d1(q1.Iterator,J,X,Y)}function*_64(J,Z,X,Y){if(Y!==J.const)yield d1(q1.Literal,J,X,Y)}function*y64(J,Z,X,Y){yield d1(q1.Never,J,X,Y)}function*v64(J,Z,X,Y){if(m5(J.not,Z,X,Y).next().done===!0)yield d1(q1.Not,J,X,Y)}function*x64(J,Z,X,Y){if(!mW(Y))yield d1(q1.Null,J,X,Y)}function*g64(J,Z,X,Y){if(!t4.IsNumberLike(Y))return yield d1(q1.Number,J,X,Y);if(y6(J.exclusiveMaximum)&&!(Y<J.exclusiveMaximum))yield d1(q1.NumberExclusiveMaximum,J,X,Y);if(y6(J.exclusiveMinimum)&&!(Y>J.exclusiveMinimum))yield d1(q1.NumberExclusiveMinimum,J,X,Y);if(y6(J.maximum)&&!(Y<=J.maximum))yield d1(q1.NumberMaximum,J,X,Y);if(y6(J.minimum)&&!(Y>=J.minimum))yield d1(q1.NumberMinimum,J,X,Y);if(y6(J.multipleOf)&&Y%J.multipleOf!==0)yield d1(q1.NumberMultipleOf,J,X,Y)}function*d64(J,Z,X,Y){if(!t4.IsObjectLike(Y))return yield d1(q1.Object,J,X,Y);if(y6(J.minProperties)&&!(Object.getOwnPropertyNames(Y).length>=J.minProperties))yield d1(q1.ObjectMinProperties,J,X,Y);if(y6(J.maxProperties)&&!(Object.getOwnPropertyNames(Y).length<=J.maxProperties))yield d1(q1.ObjectMaxProperties,J,X,Y);let $=Array.isArray(J.required)?J.required:[],z=Object.getOwnPropertyNames(J.properties),W=Object.getOwnPropertyNames(Y);for(let Q of $){if(W.includes(Q))continue;yield d1(q1.ObjectRequiredProperty,J.properties[Q],`${X}/${tW(Q)}`,void 0)}if(J.additionalProperties===!1){for(let Q of W)if(!z.includes(Q))yield d1(q1.ObjectAdditionalProperties,J,`${X}/${tW(Q)}`,Y[Q])}if(typeof J.additionalProperties==="object")for(let Q of W){if(z.includes(Q))continue;yield*m5(J.additionalProperties,Z,`${X}/${tW(Q)}`,Y[Q])}for(let Q of z){let G=J.properties[Q];if(J.required&&J.required.includes(Q)){if(yield*m5(G,Z,`${X}/${tW(Q)}`,Y[Q]),aW(J)&&!(Q in Y))yield d1(q1.ObjectRequiredProperty,G,`${X}/${tW(Q)}`,void 0)}else if(t4.IsExactOptionalProperty(Y,Q))yield*m5(G,Z,`${X}/${tW(Q)}`,Y[Q])}}function*u64(J,Z,X,Y){if(!cE(Y))yield d1(q1.Promise,J,X,Y)}function*m64(J,Z,X,Y){if(!t4.IsRecordLike(Y))return yield d1(q1.Object,J,X,Y);if(y6(J.minProperties)&&!(Object.getOwnPropertyNames(Y).length>=J.minProperties))yield d1(q1.ObjectMinProperties,J,X,Y);if(y6(J.maxProperties)&&!(Object.getOwnPropertyNames(Y).length<=J.maxProperties))yield d1(q1.ObjectMaxProperties,J,X,Y);let[$,z]=Object.entries(J.patternProperties)[0],W=new RegExp($);for(let[Q,G]of Object.entries(Y))if(W.test(Q))yield*m5(z,Z,`${X}/${tW(Q)}`,G);if(typeof J.additionalProperties==="object"){for(let[Q,G]of Object.entries(Y))if(!W.test(Q))yield*m5(J.additionalProperties,Z,`${X}/${tW(Q)}`,G)}if(J.additionalProperties===!1)for(let[Q,G]of Object.entries(Y)){if(W.test(Q))continue;return yield d1(q1.ObjectAdditionalProperties,J,`${X}/${tW(Q)}`,G)}}function*c64(J,Z,X,Y){yield*m5(e6(J,Z),Z,X,Y)}function*l64(J,Z,X,Y){if(!n6(Y))return yield d1(q1.String,J,X,Y);if(y6(J.minLength)&&!(Y.length>=J.minLength))yield d1(q1.StringMinLength,J,X,Y);if(y6(J.maxLength)&&!(Y.length<=J.maxLength))yield d1(q1.StringMaxLength,J,X,Y);if(!new RegExp(J.source,J.flags).test(Y))return yield d1(q1.RegExp,J,X,Y)}function*p64(J,Z,X,Y){if(!n6(Y))return yield d1(q1.String,J,X,Y);if(y6(J.minLength)&&!(Y.length>=J.minLength))yield d1(q1.StringMinLength,J,X,Y);if(y6(J.maxLength)&&!(Y.length<=J.maxLength))yield d1(q1.StringMaxLength,J,X,Y);if(n6(J.pattern)){if(!new RegExp(J.pattern).test(Y))yield d1(q1.StringPattern,J,X,Y)}if(n6(J.format)){if(!A4.Has(J.format))yield d1(q1.StringFormatUnknown,J,X,Y);else if(!A4.Get(J.format)(Y))yield d1(q1.StringFormat,J,X,Y)}}function*n64(J,Z,X,Y){if(!cW(Y))yield d1(q1.Symbol,J,X,Y)}function*i64(J,Z,X,Y){if(!n6(Y))return yield d1(q1.String,J,X,Y);if(!new RegExp(J.pattern).test(Y))yield d1(q1.StringPattern,J,X,Y)}function*o64(J,Z,X,Y){yield*m5(e6(J,Z),Z,X,Y)}function*s64(J,Z,X,Y){if(!s0(Y))return yield d1(q1.Tuple,J,X,Y);if(J.items===void 0&&Y.length!==0)return yield d1(q1.TupleLength,J,X,Y);if(Y.length!==J.maxItems)return yield d1(q1.TupleLength,J,X,Y);if(!J.items)return;for(let $=0;$<J.items.length;$++)yield*m5(J.items[$],Z,`${X}/${$}`,Y[$])}function*a64(J,Z,X,Y){if(!Q8(Y))yield d1(q1.Undefined,J,X,Y)}function*r64(J,Z,X,Y){if(R6(J,Z,Y))return;let $=J.anyOf.map((z)=>new PH(m5(z,Z,X,Y)));yield d1(q1.Union,J,X,Y,$)}function*t64(J,Z,X,Y){if(!gD(Y))return yield d1(q1.Uint8Array,J,X,Y);if(y6(J.maxByteLength)&&!(Y.length<=J.maxByteLength))yield d1(q1.Uint8ArrayMaxByteLength,J,X,Y);if(y6(J.minByteLength)&&!(Y.length>=J.minByteLength))yield d1(q1.Uint8ArrayMinByteLength,J,X,Y)}function*e64(J,Z,X,Y){}function*J44(J,Z,X,Y){if(!t4.IsVoidLike(Y))yield d1(q1.Void,J,X,Y)}function*Z44(J,Z,X,Y){if(!L5.Get(J[$1])(J,Y))yield d1(q1.Kind,J,X,Y)}function*m5(J,Z,X,Y){let $=y6(J.$id)?[...Z,J]:Z,z=J;switch(z[$1]){case"Any":return yield*N64(z,$,X,Y);case"Argument":return yield*P64(z,$,X,Y);case"Array":return yield*L64(z,$,X,Y);case"AsyncIterator":return yield*C64(z,$,X,Y);case"BigInt":return yield*j64(z,$,X,Y);case"Boolean":return yield*R64(z,$,X,Y);case"Constructor":return yield*E64(z,$,X,Y);case"Date":return yield*S64(z,$,X,Y);case"Function":return yield*T64(z,$,X,Y);case"Import":return yield*f64(z,$,X,Y);case"Integer":return yield*k64(z,$,X,Y);case"Intersect":return yield*b64(z,$,X,Y);case"Iterator":return yield*h64(z,$,X,Y);case"Literal":return yield*_64(z,$,X,Y);case"Never":return yield*y64(z,$,X,Y);case"Not":return yield*v64(z,$,X,Y);case"Null":return yield*x64(z,$,X,Y);case"Number":return yield*g64(z,$,X,Y);case"Object":return yield*d64(z,$,X,Y);case"Promise":return yield*u64(z,$,X,Y);case"Record":return yield*m64(z,$,X,Y);case"Ref":return yield*c64(z,$,X,Y);case"RegExp":return yield*l64(z,$,X,Y);case"String":return yield*p64(z,$,X,Y);case"Symbol":return yield*n64(z,$,X,Y);case"TemplateLiteral":return yield*i64(z,$,X,Y);case"This":return yield*o64(z,$,X,Y);case"Tuple":return yield*s64(z,$,X,Y);case"Undefined":return yield*a64(z,$,X,Y);case"Union":return yield*r64(z,$,X,Y);case"Uint8Array":return yield*t64(z,$,X,Y);case"Unknown":return yield*e64(z,$,X,Y);case"Void":return yield*J44(z,$,X,Y);default:if(!L5.Has(z[$1]))throw new uA1(J);return yield*Z44(z,$,X,Y)}}function G$(...J){let Z=J.length===3?m5(J[0],J[1],"",J[2]):m5(J[0],[],"",J[1]);return new PH(Z)}var X44=function(J,Z,X,Y,$){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!$)throw new TypeError("Private accessor was defined without a setter");if(typeof Z==="function"?J!==Z||!$:!Z.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?$.call(J,X):$?$.value=X:Z.set(J,X),X},cA1=function(J,Z,X,Y){if(X==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof Z==="function"?J!==Z||!Y:!Z.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?Y:X==="a"?Y.call(J):Y?Y.value:Z.get(J)},zi,FS,lA1;class pA1 extends D0{constructor(J){let Z=J.First();super(Z===void 0?"Invalid Value":Z.message);zi.add(this),FS.set(this,void 0),X44(this,FS,J,"f"),this.error=Z}Errors(){return new PH(cA1(this,zi,"m",lA1).call(this))}}FS=new WeakMap,zi=new WeakSet,lA1=function*J(){if(this.error)yield this.error;yield*cA1(this,FS,"f")};function mA1(J,Z,X){if(R6(J,Z,X))return;throw new pA1(G$(J,Z,X))}function US(...J){return J.length===3?mA1(J[0],J[1],J[2]):mA1(J[0],[],J[1])}function Y44(J){let Z={};for(let X of Object.getOwnPropertyNames(J))Z[X]=J4(J[X]);for(let X of Object.getOwnPropertySymbols(J))Z[X]=J4(J[X]);return Z}function $44(J){return J.map((Z)=>J4(Z))}function z44(J){return J.slice()}function W44(J){return new Map(J4([...J.entries()]))}function Q44(J){return new Set(J4([...J.entries()]))}function G44(J){return new Date(J.toISOString())}function K44(J){return J}function J4(J){if(s0(J))return $44(J);if(t9(J))return G44(J);if(dJ(J))return z44(J);if(HI1(J))return W44(J);if(FI1(J))return Q44(J);if(N6(J))return Y44(J);if(QJ(J))return K44(J);throw new Error("ValueClone: Unable to clone value")}class oJ extends D0{constructor(J,Z){super(Z);this.schema=J}}function Z4(J){return AK(J)?J():J4(J)}function q44(J,Z){if(o0(J,"default"))return Z4(J.default);else return{}}function B44(J,Z){return{}}function H44(J,Z){if(J.uniqueItems===!0&&!o0(J,"default"))throw new oJ(J,"Array with the uniqueItems constraint requires a default value");else if("contains"in J&&!o0(J,"default"))throw new oJ(J,"Array with the contains constraint requires a default value");else if("default"in J)return Z4(J.default);else if(J.minItems!==void 0)return Array.from({length:J.minItems}).map((X)=>{return R7(J.items,Z)});else return[]}function F44(J,Z){if(o0(J,"default"))return Z4(J.default);else return async function*(){}()}function U44(J,Z){if(o0(J,"default"))return Z4(J.default);else return BigInt(0)}function O44(J,Z){if(o0(J,"default"))return Z4(J.default);else return!1}function D44(J,Z){if(o0(J,"default"))return Z4(J.default);else{let X=R7(J.returns,Z);if(typeof X==="object"&&!Array.isArray(X))return class{constructor(){for(let[Y,$]of Object.entries(X)){let z=this;z[Y]=$}}};else return class{}}}function V44(J,Z){if(o0(J,"default"))return Z4(J.default);else if(J.minimumTimestamp!==void 0)return new Date(J.minimumTimestamp);else return new Date}function I44(J,Z){if(o0(J,"default"))return Z4(J.default);else return()=>R7(J.returns,Z)}function w44(J,Z){let X=globalThis.Object.values(J.$defs),Y=J.$defs[J.$ref];return R7(Y,[...Z,...X])}function A44(J,Z){if(o0(J,"default"))return Z4(J.default);else if(J.minimum!==void 0)return J.minimum;else return 0}function M44(J,Z){if(o0(J,"default"))return Z4(J.default);else{let X=J.allOf.reduce((Y,$)=>{let z=R7($,Z);return typeof z==="object"?{...Y,...z}:z},{});if(!R6(J,Z,X))throw new oJ(J,"Intersect produced invalid value. Consider using a default value.");return X}}function N44(J,Z){if(o0(J,"default"))return Z4(J.default);else return function*(){}()}function P44(J,Z){if(o0(J,"default"))return Z4(J.default);else return J.const}function L44(J,Z){if(o0(J,"default"))return Z4(J.default);else throw new oJ(J,"Never types cannot be created. Consider using a default value.")}function C44(J,Z){if(o0(J,"default"))return Z4(J.default);else throw new oJ(J,"Not types must have a default value")}function j44(J,Z){if(o0(J,"default"))return Z4(J.default);else return null}function R44(J,Z){if(o0(J,"default"))return Z4(J.default);else if(J.minimum!==void 0)return J.minimum;else return 0}function E44(J,Z){if(o0(J,"default"))return Z4(J.default);else{let X=new Set(J.required),Y={};for(let[$,z]of Object.entries(J.properties)){if(!X.has($))continue;Y[$]=R7(z,Z)}return Y}}function S44(J,Z){if(o0(J,"default"))return Z4(J.default);else return Promise.resolve(R7(J.item,Z))}function T44(J,Z){let[X,Y]=Object.entries(J.patternProperties)[0];if(o0(J,"default"))return Z4(J.default);else if(!(X===z$||X===$$)){let $=X.slice(1,X.length-1).split("|"),z={};for(let W of $)z[W]=R7(Y,Z);return z}else return{}}function f44(J,Z){if(o0(J,"default"))return Z4(J.default);else return R7(e6(J,Z),Z)}function k44(J,Z){if(o0(J,"default"))return Z4(J.default);else throw new oJ(J,"RegExp types cannot be created. Consider using a default value.")}function b44(J,Z){if(J.pattern!==void 0)if(!o0(J,"default"))throw new oJ(J,"String types with patterns must specify a default value");else return Z4(J.default);else if(J.format!==void 0)if(!o0(J,"default"))throw new oJ(J,"String types with formats must specify a default value");else return Z4(J.default);else if(o0(J,"default"))return Z4(J.default);else if(J.minLength!==void 0)return Array.from({length:J.minLength}).map(()=>" ").join("");else return""}function h44(J,Z){if(o0(J,"default"))return Z4(J.default);else if("value"in J)return Symbol.for(J.value);else return Symbol()}function _44(J,Z){if(o0(J,"default"))return Z4(J.default);if(!oE(J))throw new oJ(J,"Can only create template literals that produce a finite variants. Consider using a default value.");return oD(J)[0]}function y44(J,Z){if(nA1++>l44)throw new oJ(J,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");if(o0(J,"default"))return Z4(J.default);else return R7(e6(J,Z),Z)}function v44(J,Z){if(o0(J,"default"))return Z4(J.default);if(J.items===void 0)return[];else return Array.from({length:J.minItems}).map((X,Y)=>R7(J.items[Y],Z))}function x44(J,Z){if(o0(J,"default"))return Z4(J.default);else return}function g44(J,Z){if(o0(J,"default"))return Z4(J.default);else if(J.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");else return R7(J.anyOf[0],Z)}function d44(J,Z){if(o0(J,"default"))return Z4(J.default);else if(J.minByteLength!==void 0)return new Uint8Array(J.minByteLength);else return new Uint8Array(0)}function u44(J,Z){if(o0(J,"default"))return Z4(J.default);else return{}}function m44(J,Z){if(o0(J,"default"))return Z4(J.default);else return}function c44(J,Z){if(o0(J,"default"))return Z4(J.default);else throw new Error("User defined types must specify a default value")}function R7(J,Z){let X=d5(J,Z),Y=J;switch(Y[$1]){case"Any":return q44(Y,X);case"Argument":return B44(Y,X);case"Array":return H44(Y,X);case"AsyncIterator":return F44(Y,X);case"BigInt":return U44(Y,X);case"Boolean":return O44(Y,X);case"Constructor":return D44(Y,X);case"Date":return V44(Y,X);case"Function":return I44(Y,X);case"Import":return w44(Y,X);case"Integer":return A44(Y,X);case"Intersect":return M44(Y,X);case"Iterator":return N44(Y,X);case"Literal":return P44(Y,X);case"Never":return L44(Y,X);case"Not":return C44(Y,X);case"Null":return j44(Y,X);case"Number":return R44(Y,X);case"Object":return E44(Y,X);case"Promise":return S44(Y,X);case"Record":return T44(Y,X);case"Ref":return f44(Y,X);case"RegExp":return k44(Y,X);case"String":return b44(Y,X);case"Symbol":return h44(Y,X);case"TemplateLiteral":return _44(Y,X);case"This":return y44(Y,X);case"Tuple":return v44(Y,X);case"Undefined":return x44(Y,X);case"Union":return g44(Y,X);case"Uint8Array":return d44(Y,X);case"Unknown":return u44(Y,X);case"Void":return m44(Y,X);default:if(!L5.Has(Y[$1]))throw new oJ(Y,"Unknown type");return c44(Y,X)}}var l44=512,nA1=0;function sJ(...J){return nA1=0,J.length===2?R7(J[0],J[1]):R7(J[0],[])}class Wi extends D0{constructor(J,Z){super(Z);this.schema=J}}function p44(J,Z,X){if(J[$1]==="Object"&&typeof X==="object"&&!mW(X)){let Y=J,$=Object.getOwnPropertyNames(X),z=Object.entries(Y.properties),[W,Q]=[1/z.length,z.length];return z.reduce((G,[K,q])=>{let H=q[$1]==="Literal"&&q.const===X[K]?Q:0,F=R6(q,Z,X[K])?W:0,U=$.includes(K)?W:0;return G+(H+F+U)},0)}else return R6(J,Z,X)?1:0}function n44(J,Z,X){let Y=J.anyOf.map((W)=>e6(W,Z)),[$,z]=[Y[0],0];for(let W of Y){let Q=p44(W,Z,X);if(Q>z)$=W,z=Q}return $}function i44(J,Z,X){if("default"in J)return typeof X==="function"?J.default:J4(J.default);else{let Y=n44(J,Z,X);return AM(Y,Z,X)}}function o44(J,Z,X){return R6(J,Z,X)?J4(X):sJ(J,Z)}function s44(J,Z,X){return R6(J,Z,X)?X:sJ(J,Z)}function a44(J,Z,X){if(R6(J,Z,X))return J4(X);let Y=s0(X)?J4(X):sJ(J,Z),$=Q0(J.minItems)&&Y.length<J.minItems?[...Y,...Array.from({length:J.minItems-Y.length},()=>null)]:Y,W=(Q0(J.maxItems)&&$.length>J.maxItems?$.slice(0,J.maxItems):$).map((G)=>nX(J.items,Z,G));if(J.uniqueItems!==!0)return W;let Q=[...new Set(W)];if(!R6(J,Z,Q))throw new Wi(J,"Array cast produced invalid data due to uniqueItems constraint");return Q}function r44(J,Z,X){if(R6(J,Z,X))return sJ(J,Z);let Y=new Set(J.returns.required||[]),$=function(){};for(let[z,W]of Object.entries(J.returns.properties)){if(!Y.has(z)&&X.prototype[z]===void 0)continue;$.prototype[z]=nX(W,Z,X.prototype[z])}return $}function t44(J,Z,X){let Y=globalThis.Object.values(J.$defs),$=J.$defs[J.$ref];return nX($,[...Z,...Y],X)}function e44(J,Z,X){let Y=sJ(J,Z),$=N6(Y)&&N6(X)?{...Y,...X}:X;return R6(J,Z,$)?$:sJ(J,Z)}function J84(J,Z,X){throw new Wi(J,"Never types cannot be cast")}function Z84(J,Z,X){if(R6(J,Z,X))return X;if(X===null||typeof X!=="object")return sJ(J,Z);let Y=new Set(J.required||[]),$={};for(let[z,W]of Object.entries(J.properties)){if(!Y.has(z)&&X[z]===void 0)continue;$[z]=nX(W,Z,X[z])}if(typeof J.additionalProperties==="object"){let z=Object.getOwnPropertyNames(J.properties);for(let W of Object.getOwnPropertyNames(X)){if(z.includes(W))continue;$[W]=nX(J.additionalProperties,Z,X[W])}}return $}function X84(J,Z,X){if(R6(J,Z,X))return J4(X);if(X===null||typeof X!=="object"||Array.isArray(X)||X instanceof Date)return sJ(J,Z);let Y=Object.getOwnPropertyNames(J.patternProperties)[0],$=J.patternProperties[Y],z={};for(let[W,Q]of Object.entries(X))z[W]=nX($,Z,Q);return z}function Y84(J,Z,X){return nX(e6(J,Z),Z,X)}function $84(J,Z,X){return nX(e6(J,Z),Z,X)}function z84(J,Z,X){if(R6(J,Z,X))return J4(X);if(!s0(X))return sJ(J,Z);if(J.items===void 0)return[];return J.items.map((Y,$)=>nX(Y,Z,X[$]))}function W84(J,Z,X){return R6(J,Z,X)?J4(X):i44(J,Z,X)}function nX(J,Z,X){let Y=n6(J.$id)?d5(J,Z):Z,$=J;switch(J[$1]){case"Array":return a44($,Y,X);case"Constructor":return r44($,Y,X);case"Import":return t44($,Y,X);case"Intersect":return e44($,Y,X);case"Never":return J84($,Y,X);case"Object":return Z84($,Y,X);case"Record":return X84($,Y,X);case"Ref":return Y84($,Y,X);case"This":return $84($,Y,X);case"Tuple":return z84($,Y,X);case"Union":return W84($,Y,X);case"Date":case"Symbol":case"Uint8Array":return o44(J,Z,X);default:return s44($,Y,X)}}function AM(...J){return J.length===3?nX(J[0],J[1],J[2]):nX(J[0],[],J[1])}function Q84(J){return NK(J)&&J[$1]!=="Unsafe"}function G84(J,Z,X){if(!s0(X))return X;return X.map((Y)=>E7(J.items,Z,Y))}function K84(J,Z,X){let Y=globalThis.Object.values(J.$defs),$=J.$defs[J.$ref];return E7($,[...Z,...Y],X)}function q84(J,Z,X){let Y=J.unevaluatedProperties,z=J.allOf.map((Q)=>E7(Q,Z,J4(X))).reduce((Q,G)=>N6(G)?{...Q,...G}:G,{});if(!N6(X)||!N6(z)||!NK(Y))return z;let W=C7(J);for(let Q of Object.getOwnPropertyNames(X)){if(W.includes(Q))continue;if(R6(Y,Z,X[Q]))z[Q]=E7(Y,Z,X[Q])}return z}function B84(J,Z,X){if(!N6(X)||s0(X))return X;let Y=J.additionalProperties;for(let $ of Object.getOwnPropertyNames(X)){if(o0(J.properties,$)){X[$]=E7(J.properties[$],Z,X[$]);continue}if(NK(Y)&&R6(Y,Z,X[$])){X[$]=E7(Y,Z,X[$]);continue}delete X[$]}return X}function H84(J,Z,X){if(!N6(X))return X;let Y=J.additionalProperties,$=Object.getOwnPropertyNames(X),[z,W]=Object.entries(J.patternProperties)[0],Q=new RegExp(z);for(let G of $){if(Q.test(G)){X[G]=E7(W,Z,X[G]);continue}if(NK(Y)&&R6(Y,Z,X[G])){X[G]=E7(Y,Z,X[G]);continue}delete X[G]}return X}function F84(J,Z,X){return E7(e6(J,Z),Z,X)}function U84(J,Z,X){return E7(e6(J,Z),Z,X)}function O84(J,Z,X){if(!s0(X))return X;if(Q8(J.items))return[];let Y=Math.min(X.length,J.items.length);for(let $=0;$<Y;$++)X[$]=E7(J.items[$],Z,X[$]);return X.length>Y?X.slice(0,Y):X}function D84(J,Z,X){for(let Y of J.anyOf)if(Q84(Y)&&R6(Y,Z,X))return E7(Y,Z,X);return X}function E7(J,Z,X){let Y=n6(J.$id)?d5(J,Z):Z,$=J;switch($[$1]){case"Array":return G84($,Y,X);case"Import":return K84($,Y,X);case"Intersect":return q84($,Y,X);case"Object":return B84($,Y,X);case"Record":return H84($,Y,X);case"Ref":return F84($,Y,X);case"This":return U84($,Y,X);case"Tuple":return O84($,Y,X);case"Union":return D84($,Y,X);default:return X}}function OS(...J){return J.length===3?E7(J[0],J[1],J[2]):E7(J[0],[],J[1])}function DS(J){return n6(J)&&!isNaN(J)&&!isNaN(parseFloat(J))}function V84(J){return K9(J)||Y$(J)||Q0(J)}function MM(J){return J===!0||Q0(J)&&J===1||K9(J)&&J===BigInt("1")||n6(J)&&(J.toLowerCase()==="true"||J==="1")}function NM(J){return J===!1||Q0(J)&&(J===0||Object.is(J,-0))||K9(J)&&J===BigInt("0")||n6(J)&&(J.toLowerCase()==="false"||J==="0"||J==="-0")}function I84(J){return n6(J)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(J)}function w84(J){return n6(J)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(J)}function A84(J){return n6(J)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(J)}function M84(J){return n6(J)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(J)}function N84(J){return n6(J)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(J)}function P84(J,Z){let X=oA1(J);return X===Z?X:J}function L84(J,Z){let X=sA1(J);return X===Z?X:J}function C84(J,Z){let X=iA1(J);return X===Z?X:J}function j84(J,Z){return n6(J.const)?P84(Z,J.const):Q0(J.const)?L84(Z,J.const):Y$(J.const)?C84(Z,J.const):Z}function iA1(J){return MM(J)?!0:NM(J)?!1:J}function R84(J){let Z=(X)=>X.split(".")[0];return DS(J)?BigInt(Z(J)):Q0(J)?BigInt(Math.trunc(J)):NM(J)?BigInt(0):MM(J)?BigInt(1):J}function oA1(J){return cW(J)&&J.description!==void 0?J.description.toString():V84(J)?J.toString():J}function sA1(J){return DS(J)?parseFloat(J):MM(J)?1:NM(J)?0:J}function E84(J){return DS(J)?parseInt(J):Q0(J)?Math.trunc(J):MM(J)?1:NM(J)?0:J}function S84(J){return n6(J)&&J.toLowerCase()==="null"?null:J}function T84(J){return n6(J)&&J==="undefined"?void 0:J}function f84(J){return t9(J)?J:Q0(J)?new Date(J):MM(J)?new Date(1):NM(J)?new Date(0):DS(J)?new Date(parseInt(J)):w84(J)?new Date(`1970-01-01T${J}.000Z`):I84(J)?new Date(`1970-01-01T${J}`):M84(J)?new Date(`${J}.000Z`):A84(J)?new Date(J):N84(J)?new Date(`${J}T00:00:00.000Z`):J}function k84(J){return J}function b84(J,Z,X){return(s0(X)?X:[X]).map(($)=>iX(J.items,Z,$))}function h84(J,Z,X){return R84(X)}function _84(J,Z,X){return iA1(X)}function y84(J,Z,X){return f84(X)}function v84(J,Z,X){let Y=globalThis.Object.values(J.$defs),$=J.$defs[J.$ref];return iX($,[...Z,...Y],X)}function x84(J,Z,X){return E84(X)}function g84(J,Z,X){return J.allOf.reduce((Y,$)=>iX($,Z,Y),X)}function d84(J,Z,X){return j84(J,X)}function u84(J,Z,X){return S84(X)}function m84(J,Z,X){return sA1(X)}function c84(J,Z,X){if(!N6(X))return X;for(let Y of Object.getOwnPropertyNames(J.properties)){if(!o0(X,Y))continue;X[Y]=iX(J.properties[Y],Z,X[Y])}return X}function l84(J,Z,X){if(!N6(X))return X;let $=Object.getOwnPropertyNames(J.patternProperties)[0],z=J.patternProperties[$];for(let[W,Q]of Object.entries(X))X[W]=iX(z,Z,Q);return X}function p84(J,Z,X){return iX(e6(J,Z),Z,X)}function n84(J,Z,X){return oA1(X)}function i84(J,Z,X){return n6(X)||Q0(X)?Symbol(X):X}function o84(J,Z,X){return iX(e6(J,Z),Z,X)}function s84(J,Z,X){if(!(s0(X)&&!Q8(J.items)))return X;return X.map(($,z)=>{return z<J.items.length?iX(J.items[z],Z,$):$})}function a84(J,Z,X){return T84(X)}function r84(J,Z,X){for(let Y of J.anyOf){let $=iX(Y,Z,J4(X));if(!R6(Y,Z,$))continue;return $}return X}function iX(J,Z,X){let Y=d5(J,Z),$=J;switch(J[$1]){case"Array":return b84($,Y,X);case"BigInt":return h84($,Y,X);case"Boolean":return _84($,Y,X);case"Date":return y84($,Y,X);case"Import":return v84($,Y,X);case"Integer":return x84($,Y,X);case"Intersect":return g84($,Y,X);case"Literal":return d84($,Y,X);case"Null":return u84($,Y,X);case"Number":return m84($,Y,X);case"Object":return c84($,Y,X);case"Record":return l84($,Y,X);case"Ref":return p84($,Y,X);case"String":return n84($,Y,X);case"Symbol":return i84($,Y,X);case"This":return o84($,Y,X);case"Tuple":return s84($,Y,X);case"Undefined":return a84($,Y,X);case"Union":return r84($,Y,X);default:return k84(X)}}function VS(...J){return J.length===3?iX(J[0],J[1],J[2]):iX(J[0],[],J[1])}class PM extends D0{constructor(J,Z,X){super("Unable to decode value as it does not match the expected schema");this.schema=J,this.value=Z,this.error=X}}class IS extends D0{constructor(J,Z,X,Y){super(Y instanceof Error?Y.message:"Unknown error");this.schema=J,this.path=Z,this.value=X,this.error=Y}}function P8(J,Z,X){try{return z4(J)?J[h4].Decode(X):X}catch(Y){throw new IS(J,Z,X,Y)}}function t84(J,Z,X,Y){return s0(Y)?P8(J,X,Y.map(($,z)=>oX(J.items,Z,`${X}/${z}`,$))):P8(J,X,Y)}function e84(J,Z,X,Y){if(!N6(Y)||QJ(Y))return P8(J,X,Y);let $=eE(J),z=$.map((q)=>q[0]),W={...Y};for(let[q,H]of $)if(q in W)W[q]=oX(H,Z,`${X}/${q}`,W[q]);if(!z4(J.unevaluatedProperties))return P8(J,X,W);let Q=Object.getOwnPropertyNames(W),G=J.unevaluatedProperties,K={...W};for(let q of Q)if(!z.includes(q))K[q]=P8(G,`${X}/${q}`,K[q]);return P8(J,X,K)}function J54(J,Z,X,Y){let $=globalThis.Object.values(J.$defs),z=J.$defs[J.$ref],W=oX(z,[...Z,...$],X,Y);return P8(J,X,W)}function Z54(J,Z,X,Y){return P8(J,X,oX(J.not,Z,X,Y))}function X54(J,Z,X,Y){if(!N6(Y))return P8(J,X,Y);let $=C7(J),z={...Y};for(let K of $){if(!o0(z,K))continue;if(Q8(z[K])&&(!nW(J.properties[K])||t4.IsExactOptionalProperty(z,K)))continue;z[K]=oX(J.properties[K],Z,`${X}/${K}`,z[K])}if(!N8(J.additionalProperties))return P8(J,X,z);let W=Object.getOwnPropertyNames(z),Q=J.additionalProperties,G={...z};for(let K of W)if(!$.includes(K))G[K]=P8(Q,`${X}/${K}`,G[K]);return P8(J,X,G)}function Y54(J,Z,X,Y){if(!N6(Y))return P8(J,X,Y);let $=Object.getOwnPropertyNames(J.patternProperties)[0],z=new RegExp($),W={...Y};for(let q of Object.getOwnPropertyNames(Y))if(z.test(q))W[q]=oX(J.patternProperties[$],Z,`${X}/${q}`,W[q]);if(!N8(J.additionalProperties))return P8(J,X,W);let Q=Object.getOwnPropertyNames(W),G=J.additionalProperties,K={...W};for(let q of Q)if(!z.test(q))K[q]=P8(G,`${X}/${q}`,K[q]);return P8(J,X,K)}function $54(J,Z,X,Y){let $=e6(J,Z);return P8(J,X,oX($,Z,X,Y))}function z54(J,Z,X,Y){let $=e6(J,Z);return P8(J,X,oX($,Z,X,Y))}function W54(J,Z,X,Y){return s0(Y)&&s0(J.items)?P8(J,X,J.items.map(($,z)=>oX($,Z,`${X}/${z}`,Y[z]))):P8(J,X,Y)}function Q54(J,Z,X,Y){for(let $ of J.anyOf){if(!R6($,Z,Y))continue;let z=oX($,Z,X,Y);return P8(J,X,z)}return P8(J,X,Y)}function oX(J,Z,X,Y){let $=d5(J,Z),z=J;switch(J[$1]){case"Array":return t84(z,$,X,Y);case"Import":return J54(z,$,X,Y);case"Intersect":return e84(z,$,X,Y);case"Not":return Z54(z,$,X,Y);case"Object":return X54(z,$,X,Y);case"Record":return Y54(z,$,X,Y);case"Ref":return $54(z,$,X,Y);case"Symbol":return P8(z,X,Y);case"This":return z54(z,$,X,Y);case"Tuple":return W54(z,$,X,Y);case"Union":return Q54(z,$,X,Y);default:return P8(z,X,Y)}}function QV(J,Z,X){return oX(J,Z,"",X)}class LM extends D0{constructor(J,Z,X){super("The encoded value does not match the expected schema");this.schema=J,this.value=Z,this.error=X}}class aA1 extends D0{constructor(J,Z,X,Y){super(`${Y instanceof Error?Y.message:"Unknown error"}`);this.schema=J,this.path=Z,this.value=X,this.error=Y}}function q9(J,Z,X){try{return z4(J)?J[h4].Encode(X):X}catch(Y){throw new aA1(J,Z,X,Y)}}function G54(J,Z,X,Y){let $=q9(J,X,Y);return s0($)?$.map((z,W)=>sX(J.items,Z,`${X}/${W}`,z)):$}function K54(J,Z,X,Y){let $=globalThis.Object.values(J.$defs),z=J.$defs[J.$ref],W=q9(J,X,Y);return sX(z,[...Z,...$],X,W)}function q54(J,Z,X,Y){let $=q9(J,X,Y);if(!N6(Y)||QJ(Y))return $;let z=eE(J),W=z.map((H)=>H[0]),Q={...$};for(let[H,F]of z)if(H in Q)Q[H]=sX(F,Z,`${X}/${H}`,Q[H]);if(!z4(J.unevaluatedProperties))return Q;let G=Object.getOwnPropertyNames(Q),K=J.unevaluatedProperties,q={...Q};for(let H of G)if(!W.includes(H))q[H]=q9(K,`${X}/${H}`,q[H]);return q}function B54(J,Z,X,Y){return q9(J.not,X,q9(J,X,Y))}function H54(J,Z,X,Y){let $=q9(J,X,Y);if(!N6($))return $;let z=C7(J),W={...$};for(let q of z){if(!o0(W,q))continue;if(Q8(W[q])&&(!nW(J.properties[q])||t4.IsExactOptionalProperty(W,q)))continue;W[q]=sX(J.properties[q],Z,`${X}/${q}`,W[q])}if(!N8(J.additionalProperties))return W;let Q=Object.getOwnPropertyNames(W),G=J.additionalProperties,K={...W};for(let q of Q)if(!z.includes(q))K[q]=q9(G,`${X}/${q}`,K[q]);return K}function F54(J,Z,X,Y){let $=q9(J,X,Y);if(!N6(Y))return $;let z=Object.getOwnPropertyNames(J.patternProperties)[0],W=new RegExp(z),Q={...$};for(let H of Object.getOwnPropertyNames(Y))if(W.test(H))Q[H]=sX(J.patternProperties[z],Z,`${X}/${H}`,Q[H]);if(!N8(J.additionalProperties))return Q;let G=Object.getOwnPropertyNames(Q),K=J.additionalProperties,q={...Q};for(let H of G)if(!W.test(H))q[H]=q9(K,`${X}/${H}`,q[H]);return q}function U54(J,Z,X,Y){let $=e6(J,Z),z=sX($,Z,X,Y);return q9(J,X,z)}function O54(J,Z,X,Y){let $=e6(J,Z),z=sX($,Z,X,Y);return q9(J,X,z)}function D54(J,Z,X,Y){let $=q9(J,X,Y);return s0(J.items)?J.items.map((z,W)=>sX(z,Z,`${X}/${W}`,$[W])):[]}function V54(J,Z,X,Y){for(let $ of J.anyOf){if(!R6($,Z,Y))continue;let z=sX($,Z,X,Y);return q9(J,X,z)}for(let $ of J.anyOf){let z=sX($,Z,X,Y);if(!R6(J,Z,z))continue;return q9(J,X,z)}return q9(J,X,Y)}function sX(J,Z,X,Y){let $=d5(J,Z),z=J;switch(J[$1]){case"Array":return G54(z,$,X,Y);case"Import":return K54(z,$,X,Y);case"Intersect":return q54(z,$,X,Y);case"Not":return B54(z,$,X,Y);case"Object":return H54(z,$,X,Y);case"Record":return F54(z,$,X,Y);case"Ref":return U54(z,$,X,Y);case"This":return O54(z,$,X,Y);case"Tuple":return D54(z,$,X,Y);case"Union":return V54(z,$,X,Y);default:return q9(z,X,Y)}}function GV(J,Z,X){return sX(J,Z,"",X)}function I54(J,Z){return z4(J)||C5(J.items,Z)}function w54(J,Z){return z4(J)||C5(J.items,Z)}function A54(J,Z){return z4(J)||C5(J.returns,Z)||J.parameters.some((X)=>C5(X,Z))}function M54(J,Z){return z4(J)||C5(J.returns,Z)||J.parameters.some((X)=>C5(X,Z))}function N54(J,Z){return z4(J)||z4(J.unevaluatedProperties)||J.allOf.some((X)=>C5(X,Z))}function P54(J,Z){let X=globalThis.Object.getOwnPropertyNames(J.$defs).reduce(($,z)=>[...$,J.$defs[z]],[]),Y=J.$defs[J.$ref];return z4(J)||C5(Y,[...X,...Z])}function L54(J,Z){return z4(J)||C5(J.items,Z)}function C54(J,Z){return z4(J)||C5(J.not,Z)}function j54(J,Z){return z4(J)||Object.values(J.properties).some((X)=>C5(X,Z))||N8(J.additionalProperties)&&C5(J.additionalProperties,Z)}function R54(J,Z){return z4(J)||C5(J.item,Z)}function E54(J,Z){let X=Object.getOwnPropertyNames(J.patternProperties)[0],Y=J.patternProperties[X];return z4(J)||C5(Y,Z)||N8(J.additionalProperties)&&z4(J.additionalProperties)}function S54(J,Z){if(z4(J))return!0;return C5(e6(J,Z),Z)}function T54(J,Z){if(z4(J))return!0;return C5(e6(J,Z),Z)}function f54(J,Z){return z4(J)||!Q8(J.items)&&J.items.some((X)=>C5(X,Z))}function k54(J,Z){return z4(J)||J.anyOf.some((X)=>C5(X,Z))}function C5(J,Z){let X=d5(J,Z),Y=J;if(J.$id&&Qi.has(J.$id))return!1;if(J.$id)Qi.add(J.$id);switch(J[$1]){case"Array":return I54(Y,X);case"AsyncIterator":return w54(Y,X);case"Constructor":return A54(Y,X);case"Function":return M54(Y,X);case"Import":return P54(Y,X);case"Intersect":return N54(Y,X);case"Iterator":return L54(Y,X);case"Not":return C54(Y,X);case"Object":return j54(Y,X);case"Promise":return R54(Y,X);case"Record":return E54(Y,X);case"Ref":return S54(Y,X);case"This":return T54(Y,X);case"Tuple":return f54(Y,X);case"Union":return k54(Y,X);default:return z4(J)}}var Qi=new Set;function eW(J,Z){return Qi.clear(),C5(J,Z)}function rA1(...J){let[Z,X,Y]=J.length===3?[J[0],J[1],J[2]]:[J[0],[],J[1]];if(!R6(Z,X,Y))throw new PM(Z,Y,G$(Z,X,Y).First());return eW(Z,X)?QV(Z,X,Y):Y}function JQ(J,Z){let X=o0(J,"default")?J.default:void 0,Y=AK(X)?X():J4(X);return Q8(Z)?Y:N6(Z)&&N6(Y)?Object.assign(Y,Z):Z}function Gi(J){return NK(J)&&"default"in J}function b54(J,Z,X){if(s0(X)){for(let $=0;$<X.length;$++)X[$]=J7(J.items,Z,X[$]);return X}let Y=JQ(J,X);if(!s0(Y))return Y;for(let $=0;$<Y.length;$++)Y[$]=J7(J.items,Z,Y[$]);return Y}function h54(J,Z,X){return t9(X)?X:JQ(J,X)}function _54(J,Z,X){let Y=globalThis.Object.values(J.$defs),$=J.$defs[J.$ref];return J7($,[...Z,...Y],X)}function y54(J,Z,X){let Y=JQ(J,X);return J.allOf.reduce(($,z)=>{let W=J7(z,Z,Y);return N6(W)?{...$,...W}:W},{})}function v54(J,Z,X){let Y=JQ(J,X);if(!N6(Y))return Y;let $=Object.getOwnPropertyNames(J.properties);for(let z of $){let W=J7(J.properties[z],Z,Y[z]);if(Q8(W))continue;Y[z]=J7(J.properties[z],Z,Y[z])}if(!Gi(J.additionalProperties))return Y;for(let z of Object.getOwnPropertyNames(Y)){if($.includes(z))continue;Y[z]=J7(J.additionalProperties,Z,Y[z])}return Y}function x54(J,Z,X){let Y=JQ(J,X);if(!N6(Y))return Y;let $=J.additionalProperties,[z,W]=Object.entries(J.patternProperties)[0],Q=new RegExp(z);for(let G of Object.getOwnPropertyNames(Y)){if(!(Q.test(G)&&Gi(W)))continue;Y[G]=J7(W,Z,Y[G])}if(!Gi($))return Y;for(let G of Object.getOwnPropertyNames(Y)){if(Q.test(G))continue;Y[G]=J7($,Z,Y[G])}return Y}function g54(J,Z,X){return J7(e6(J,Z),Z,JQ(J,X))}function d54(J,Z,X){return J7(e6(J,Z),Z,X)}function u54(J,Z,X){let Y=JQ(J,X);if(!s0(Y)||Q8(J.items))return Y;let[$,z]=[J.items,Math.max(J.items.length,Y.length)];for(let W=0;W<z;W++)if(W<$.length)Y[W]=J7($[W],Z,Y[W]);return Y}function m54(J,Z,X){let Y=JQ(J,X);for(let $ of J.anyOf){let z=J7($,Z,J4(Y));if(R6($,Z,z))return z}return Y}function J7(J,Z,X){let Y=d5(J,Z),$=J;switch($[$1]){case"Array":return b54($,Y,X);case"Date":return h54($,Y,X);case"Import":return _54($,Y,X);case"Intersect":return y54($,Y,X);case"Object":return v54($,Y,X);case"Record":return x54($,Y,X);case"Ref":return g54($,Y,X);case"This":return d54($,Y,X);case"Tuple":return u54($,Y,X);case"Union":return m54($,Y,X);default:return JQ($,X)}}function wS(...J){return J.length===3?J7(J[0],J[1],J[2]):J7(J[0],[],J[1])}var aX={};r9(aX,{ValuePointerRootSetError:()=>Ki,ValuePointerRootDeleteError:()=>qi,Set:()=>c54,Has:()=>p54,Get:()=>n54,Format:()=>CM,Delete:()=>l54});class Ki extends D0{constructor(J,Z,X){super("Cannot set root value");this.value=J,this.path=Z,this.update=X}}class qi extends D0{constructor(J,Z){super("Cannot delete root value");this.value=J,this.path=Z}}function tA1(J){return J.indexOf("~")===-1?J:J.replace(/~1/g,"/").replace(/~0/g,"~")}function*CM(J){if(J==="")return;let[Z,X]=[0,0];for(let Y=0;Y<J.length;Y++)if(J.charAt(Y)==="/")if(Y===0)Z=Y+1;else X=Y,yield tA1(J.slice(Z,X)),Z=Y+1;else X=Y;yield tA1(J.slice(Z))}function c54(J,Z,X){if(Z==="")throw new Ki(J,Z,X);let[Y,$,z]=[null,J,""];for(let W of CM(Z)){if($[W]===void 0)$[W]={};Y=$,$=$[W],z=W}Y[z]=X}function l54(J,Z){if(Z==="")throw new qi(J,Z);let[X,Y,$]=[null,J,""];for(let z of CM(Z)){if(Y[z]===void 0||Y[z]===null)return;X=Y,Y=Y[z],$=z}if(Array.isArray(X)){let z=parseInt($);X.splice(z,1)}else delete X[$]}function p54(J,Z){if(Z==="")return!0;let[X,Y,$]=[null,J,""];for(let z of CM(Z)){if(Y[z]===void 0)return!1;X=Y,Y=Y[z],$=z}return Object.getOwnPropertyNames(X).includes($)}function n54(J,Z){if(Z==="")return J;let X=J;for(let Y of CM(Z)){if(X[Y]===void 0)return;X=X[Y]}return X}function i54(J,Z){if(!N6(Z))return!1;let X=[...Object.keys(J),...Object.getOwnPropertySymbols(J)],Y=[...Object.keys(Z),...Object.getOwnPropertySymbols(Z)];if(X.length!==Y.length)return!1;return X.every(($)=>LH(J[$],Z[$]))}function o54(J,Z){return t9(Z)&&J.getTime()===Z.getTime()}function s54(J,Z){if(!s0(Z)||J.length!==Z.length)return!1;return J.every((X,Y)=>LH(X,Z[Y]))}function a54(J,Z){if(!dJ(Z)||J.length!==Z.length||Object.getPrototypeOf(J).constructor.name!==Object.getPrototypeOf(Z).constructor.name)return!1;return J.every((X,Y)=>LH(X,Z[Y]))}function r54(J,Z){return J===Z}function LH(J,Z){if(t9(J))return o54(J,Z);if(dJ(J))return a54(J,Z);if(s0(J))return s54(J,Z);if(N6(J))return i54(J,Z);if(QJ(J))return r54(J,Z);throw new Error("ValueEquals: Unable to compare value")}var t54=Q4({type:c6("insert"),path:e9(),value:cX()}),e54=Q4({type:c6("update"),path:e9(),value:cX()}),J94=Q4({type:c6("delete"),path:e9()}),JM1=W4([t54,e54,J94]);class Bi extends D0{constructor(J,Z){super(Z);this.value=J}}function AS(J,Z){return{type:"update",path:J,value:Z}}function ZM1(J,Z){return{type:"insert",path:J,value:Z}}function XM1(J){return{type:"delete",path:J}}function eA1(J){if(globalThis.Object.getOwnPropertySymbols(J).length>0)throw new Bi(J,"Cannot diff objects with symbols")}function*Z94(J,Z,X){if(eA1(Z),eA1(X),!_n(X))return yield AS(J,X);let Y=globalThis.Object.getOwnPropertyNames(Z),$=globalThis.Object.getOwnPropertyNames(X);for(let z of $){if(o0(Z,z))continue;yield ZM1(`${J}/${z}`,X[z])}for(let z of Y){if(!o0(X,z))continue;if(LH(Z,X))continue;yield*MS(`${J}/${z}`,Z[z],X[z])}for(let z of Y){if(o0(X,z))continue;yield XM1(`${J}/${z}`)}}function*X94(J,Z,X){if(!s0(X))return yield AS(J,X);for(let Y=0;Y<Math.min(Z.length,X.length);Y++)yield*MS(`${J}/${Y}`,Z[Y],X[Y]);for(let Y=0;Y<X.length;Y++){if(Y<Z.length)continue;yield ZM1(`${J}/${Y}`,X[Y])}for(let Y=Z.length-1;Y>=0;Y--){if(Y<X.length)continue;yield XM1(`${J}/${Y}`)}}function*Y94(J,Z,X){if(!dJ(X)||Z.length!==X.length||globalThis.Object.getPrototypeOf(Z).constructor.name!==globalThis.Object.getPrototypeOf(X).constructor.name)return yield AS(J,X);for(let Y=0;Y<Math.min(Z.length,X.length);Y++)yield*MS(`${J}/${Y}`,Z[Y],X[Y])}function*$94(J,Z,X){if(Z===X)return;yield AS(J,X)}function*MS(J,Z,X){if(_n(Z))return yield*Z94(J,Z,X);if(s0(Z))return yield*X94(J,Z,X);if(dJ(Z))return yield*Y94(J,Z,X);if(QJ(Z))return yield*$94(J,Z,X);throw new Bi(Z,"Unable to diff value")}function YM1(J,Z){return[...MS("",J,Z)]}function z94(J){return J.length>0&&J[0].path===""&&J[0].type==="update"}function W94(J){return J.length===0}function $M1(J,Z){if(z94(Z))return J4(Z[0].value);if(W94(Z))return J4(J);let X=J4(J);for(let Y of Z)switch(Y.type){case"insert":{aX.Set(X,Y.path,Y.value);break}case"update":{aX.Set(X,Y.path,Y.value);break}case"delete":{aX.Delete(X,Y.path);break}}return X}function zM1(...J){let[Z,X,Y]=J.length===3?[J[0],J[1],J[2]]:[J[0],[],J[1]],$=eW(Z,X)?GV(Z,X,Y):Y;if(!R6(Z,X,$))throw new LM(Z,$,G$(Z,X,$).First());return $}function NS(J){return N6(J)&&!s0(J)}class Hi extends D0{constructor(J){super(J)}}function Q94(J,Z,X,Y){if(!NS(X))aX.Set(J,Z,J4(Y));else{let $=Object.getOwnPropertyNames(X),z=Object.getOwnPropertyNames(Y);for(let W of $)if(!z.includes(W))delete X[W];for(let W of z)if(!$.includes(W))X[W]=null;for(let W of z)Fi(J,`${Z}/${W}`,X[W],Y[W])}}function G94(J,Z,X,Y){if(!s0(X))aX.Set(J,Z,J4(Y));else{for(let $=0;$<Y.length;$++)Fi(J,`${Z}/${$}`,X[$],Y[$]);X.splice(Y.length)}}function K94(J,Z,X,Y){if(dJ(X)&&X.length===Y.length)for(let $=0;$<X.length;$++)X[$]=Y[$];else aX.Set(J,Z,J4(Y))}function q94(J,Z,X,Y){if(X===Y)return;aX.Set(J,Z,Y)}function Fi(J,Z,X,Y){if(s0(Y))return G94(J,Z,X,Y);if(dJ(Y))return K94(J,Z,X,Y);if(NS(Y))return Q94(J,Z,X,Y);if(QJ(Y))return q94(J,Z,X,Y)}function WM1(J){return dJ(J)||QJ(J)}function B94(J,Z){return NS(J)&&s0(Z)||s0(J)&&NS(Z)}function QM1(J,Z){if(WM1(J)||WM1(Z))throw new Hi("Only object and array types can be mutated at the root level");if(B94(J,Z))throw new Hi("Cannot assign due type mismatch of assignable values");Fi(J,"",J,Z)}class Oi extends D0{constructor(J){super(J)}}var Ui;(function(J){let Z=new Map([["Assert",(z,W,Q)=>{return US(z,W,Q),Q}],["Cast",(z,W,Q)=>AM(z,W,Q)],["Clean",(z,W,Q)=>OS(z,W,Q)],["Clone",(z,W,Q)=>J4(Q)],["Convert",(z,W,Q)=>VS(z,W,Q)],["Decode",(z,W,Q)=>eW(z,W)?QV(z,W,Q):Q],["Default",(z,W,Q)=>wS(z,W,Q)],["Encode",(z,W,Q)=>eW(z,W)?GV(z,W,Q):Q]]);function X(z){Z.delete(z)}J.Delete=X;function Y(z,W){Z.set(z,W)}J.Set=Y;function $(z){return Z.get(z)}J.Get=$})(Ui||(Ui={}));var GM1=["Clone","Clean","Default","Convert","Assert","Decode"];function H94(J,Z,X,Y){return J.reduce(($,z)=>{let W=Ui.Get(z);if(Q8(W))throw new Oi(`Unable to find Parse operation '${z}'`);return W(Z,X,$)},Y)}function KM1(...J){let[Z,X,Y,$]=J.length===4?[J[0],J[1],J[2],J[3]]:J.length===3?s0(J[0])?[J[0],J[1],[],J[2]]:[GM1,J[0],J[1],J[2]]:J.length===2?[GM1,J[0],[],J[1]]:(()=>{throw new Oi("Invalid Arguments")})();return H94(Z,X,Y,$)}var U4={};r9(U4,{ValueErrorIterator:()=>PH,Patch:()=>$M1,Parse:()=>KM1,Mutate:()=>QM1,Hash:()=>EK,Errors:()=>G$,Equal:()=>LH,Encode:()=>zM1,Edit:()=>JM1,Diff:()=>YM1,Default:()=>wS,Decode:()=>rA1,Create:()=>sJ,Convert:()=>VS,Clone:()=>J4,Clean:()=>OS,Check:()=>R6,Cast:()=>AM,Assert:()=>US});class qM1{constructor(J,Z,X,Y){this.schema=J,this.references=Z,this.checkFunc=X,this.code=Y,this.hasTransform=eW(J,Z)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(J){return G$(this.schema,this.references,J)}Check(J){return this.checkFunc(J)}Decode(J){if(!this.checkFunc(J))throw new PM(this.schema,J,this.Errors(J).First());return this.hasTransform?QV(this.schema,this.references,J):J}Encode(J){let Z=this.hasTransform?GV(this.schema,this.references,J):J;if(!this.checkFunc(Z))throw new LM(this.schema,J,this.Errors(J).First());return Z}}var ZQ;(function(J){function Z(z){return z===36}J.DollarSign=Z;function X(z){return z===95}J.IsUnderscore=X;function Y(z){return z>=65&&z<=90||z>=97&&z<=122}J.IsAlpha=Y;function $(z){return z>=48&&z<=57}J.IsNumeric=$})(ZQ||(ZQ={}));var PS;(function(J){function Z(z){if(z.length===0)return!1;return ZQ.IsNumeric(z.charCodeAt(0))}function X(z){if(Z(z))return!1;for(let W=0;W<z.length;W++){let Q=z.charCodeAt(W);if(!(ZQ.IsAlpha(Q)||ZQ.IsNumeric(Q)||ZQ.DollarSign(Q)||ZQ.IsUnderscore(Q)))return!1}return!0}function Y(z){return z.replace(/'/g,"\\'")}function $(z,W){return X(W)?`${z}.${W}`:`${z}['${Y(W)}']`}J.Encode=$})(PS||(PS={}));var Di;(function(J){function Z(X){let Y=[];for(let $=0;$<X.length;$++){let z=X.charCodeAt($);if(ZQ.IsNumeric(z)||ZQ.IsAlpha(z))Y.push(X.charAt($));else Y.push(`_${z}_`)}return Y.join("").replace(/__/g,"_")}J.Encode=Z})(Di||(Di={}));var Vi;(function(J){function Z(X){return X.replace(/'/g,"\\'")}J.Escape=Z})(Vi||(Vi={}));class BM1 extends D0{constructor(J){super("Unknown type");this.schema=J}}class Ii extends D0{constructor(J){super("Preflight validation check failed to guard for the given schema");this.schema=J}}var CH;(function(J){function Z(W,Q,G){return t4.ExactOptionalPropertyTypes?`('${Q}' in ${W} ? ${G} : true)`:`(${PS.Encode(W,Q)} !== undefined ? ${G} : true)`}J.IsExactOptionalProperty=Z;function X(W){return!t4.AllowArrayObject?`(typeof ${W} === 'object' && ${W} !== null && !Array.isArray(${W}))`:`(typeof ${W} === 'object' && ${W} !== null)`}J.IsObjectLike=X;function Y(W){return!t4.AllowArrayObject?`(typeof ${W} === 'object' && ${W} !== null && !Array.isArray(${W}) && !(${W} instanceof Date) && !(${W} instanceof Uint8Array))`:`(typeof ${W} === 'object' && ${W} !== null && !(${W} instanceof Date) && !(${W} instanceof Uint8Array))`}J.IsRecordLike=Y;function $(W){return t4.AllowNaN?`typeof ${W} === 'number'`:`Number.isFinite(${W})`}J.IsNumberLike=$;function z(W){return t4.AllowNullVoid?`(${W} === undefined || ${W} === null)`:`${W} === undefined`}J.IsVoidLike=z})(CH||(CH={}));var K$;(function(J){function Z(A){return A[$1]==="Any"||A[$1]==="Unknown"}function*X(A,j,L){yield"true"}function*Y(A,j,L){yield"true"}function*$(A,j,L){yield`Array.isArray(${L})`;let[h,x]=[r1("value","any"),r1("acc","number")];if(Q0(A.maxItems))yield`${L}.length <= ${A.maxItems}`;if(Q0(A.minItems))yield`${L}.length >= ${A.minItems}`;let y=Y1(A.items,j,"value");if(yield`${L}.every((${h}) => ${y})`,K8(A.contains)||Q0(A.minContains)||Q0(A.maxContains)){let c=K8(A.contains)?A.contains:w6(),t=Y1(c,j,"value"),X1=Q0(A.minContains)?[`(count >= ${A.minContains})`]:[],B1=Q0(A.maxContains)?[`(count <= ${A.maxContains})`]:[],y1=`const count = value.reduce((${x}, ${h}) => ${t} ? acc + 1 : acc, 0)`,c1=["(count > 0)",...X1,...B1].join(" && ");yield`((${h}) => { ${y1}; return ${c1}})(${L})`}if(A.uniqueItems===!0)yield`((${h}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${L})`}function*z(A,j,L){yield`(typeof value === 'object' && Symbol.asyncIterator in ${L})`}function*W(A,j,L){if(yield`(typeof ${L} === 'bigint')`,K9(A.exclusiveMaximum))yield`${L} < BigInt(${A.exclusiveMaximum})`;if(K9(A.exclusiveMinimum))yield`${L} > BigInt(${A.exclusiveMinimum})`;if(K9(A.maximum))yield`${L} <= BigInt(${A.maximum})`;if(K9(A.minimum))yield`${L} >= BigInt(${A.minimum})`;if(K9(A.multipleOf))yield`(${L} % BigInt(${A.multipleOf})) === 0`}function*Q(A,j,L){yield`(typeof ${L} === 'boolean')`}function*G(A,j,L){yield*X0(A.returns,j,`${L}.prototype`)}function*K(A,j,L){if(yield`(${L} instanceof Date) && Number.isFinite(${L}.getTime())`,Q0(A.exclusiveMaximumTimestamp))yield`${L}.getTime() < ${A.exclusiveMaximumTimestamp}`;if(Q0(A.exclusiveMinimumTimestamp))yield`${L}.getTime() > ${A.exclusiveMinimumTimestamp}`;if(Q0(A.maximumTimestamp))yield`${L}.getTime() <= ${A.maximumTimestamp}`;if(Q0(A.minimumTimestamp))yield`${L}.getTime() >= ${A.minimumTimestamp}`;if(Q0(A.multipleOfTimestamp))yield`(${L}.getTime() % ${A.multipleOfTimestamp}) === 0`}function*q(A,j,L){yield`(typeof ${L} === 'function')`}function*H(A,j,L){let h=globalThis.Object.getOwnPropertyNames(A.$defs).reduce((x,y)=>{return[...x,A.$defs[y]]},[]);yield*X0(pJ(A.$ref),[...j,...h],L)}function*F(A,j,L){if(yield`Number.isInteger(${L})`,Q0(A.exclusiveMaximum))yield`${L} < ${A.exclusiveMaximum}`;if(Q0(A.exclusiveMinimum))yield`${L} > ${A.exclusiveMinimum}`;if(Q0(A.maximum))yield`${L} <= ${A.maximum}`;if(Q0(A.minimum))yield`${L} >= ${A.minimum}`;if(Q0(A.multipleOf))yield`(${L} % ${A.multipleOf}) === 0`}function*U(A,j,L){let h=A.allOf.map((x)=>Y1(x,j,L)).join(" && ");if(A.unevaluatedProperties===!1){let x=w1(`${new RegExp(sW(A))};`),y=`Object.getOwnPropertyNames(${L}).every(key => ${x}.test(key))`;yield`(${h} && ${y})`}else if(K8(A.unevaluatedProperties)){let x=w1(`${new RegExp(sW(A))};`),y=`Object.getOwnPropertyNames(${L}).every(key => ${x}.test(key) || ${Y1(A.unevaluatedProperties,j,`${L}[key]`)})`;yield`(${h} && ${y})`}else yield`(${h})`}function*D(A,j,L){yield`(typeof value === 'object' && Symbol.iterator in ${L})`}function*V(A,j,L){if(typeof A.const==="number"||typeof A.const==="boolean")yield`(${L} === ${A.const})`;else yield`(${L} === '${Vi.Escape(A.const)}')`}function*w(A,j,L){yield"false"}function*M(A,j,L){yield`(!${Y1(A.not,j,L)})`}function*P(A,j,L){yield`(${L} === null)`}function*R(A,j,L){if(yield CH.IsNumberLike(L),Q0(A.exclusiveMaximum))yield`${L} < ${A.exclusiveMaximum}`;if(Q0(A.exclusiveMinimum))yield`${L} > ${A.exclusiveMinimum}`;if(Q0(A.maximum))yield`${L} <= ${A.maximum}`;if(Q0(A.minimum))yield`${L} >= ${A.minimum}`;if(Q0(A.multipleOf))yield`(${L} % ${A.multipleOf}) === 0`}function*f(A,j,L){if(yield CH.IsObjectLike(L),Q0(A.minProperties))yield`Object.getOwnPropertyNames(${L}).length >= ${A.minProperties}`;if(Q0(A.maxProperties))yield`Object.getOwnPropertyNames(${L}).length <= ${A.maxProperties}`;let h=Object.getOwnPropertyNames(A.properties);for(let x of h){let y=PS.Encode(L,x),c=A.properties[x];if(A.required&&A.required.includes(x)){if(yield*X0(c,j,y),aW(c)||Z(c))yield`('${x}' in ${L})`}else{let t=Y1(c,j,y);yield CH.IsExactOptionalProperty(L,x,t)}}if(A.additionalProperties===!1)if(A.required&&A.required.length===h.length)yield`Object.getOwnPropertyNames(${L}).length === ${h.length}`;else{let x=`[${h.map((y)=>`'${y}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${L}).every(key => ${x}.includes(key))`}if(typeof A.additionalProperties==="object"){let x=Y1(A.additionalProperties,j,`${L}[key]`),y=`[${h.map((c)=>`'${c}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${L}).every(key => ${y}.includes(key) || ${x}))`}}function*d(A,j,L){yield`${L} instanceof Promise`}function*v(A,j,L){if(yield CH.IsRecordLike(L),Q0(A.minProperties))yield`Object.getOwnPropertyNames(${L}).length >= ${A.minProperties}`;if(Q0(A.maxProperties))yield`Object.getOwnPropertyNames(${L}).length <= ${A.maxProperties}`;let[h,x]=Object.entries(A.patternProperties)[0],y=w1(`${new RegExp(h)}`),c=Y1(x,j,"value"),t=K8(A.additionalProperties)?Y1(A.additionalProperties,j,L):A.additionalProperties===!1?"false":"true",X1=`(${y}.test(key) ? ${c} : ${t})`;yield`(Object.entries(${L}).every(([key, value]) => ${X1}))`}function*l(A,j,L){let h=e6(A,j);if(z0.functions.has(A.$ref))return yield`${a(A.$ref)}(${L})`;yield*X0(h,j,L)}function*o(A,j,L){let h=w1(`${new RegExp(A.source,A.flags)};`);if(yield`(typeof ${L} === 'string')`,Q0(A.maxLength))yield`${L}.length <= ${A.maxLength}`;if(Q0(A.minLength))yield`${L}.length >= ${A.minLength}`;yield`${h}.test(${L})`}function*S(A,j,L){if(yield`(typeof ${L} === 'string')`,Q0(A.maxLength))yield`${L}.length <= ${A.maxLength}`;if(Q0(A.minLength))yield`${L}.length >= ${A.minLength}`;if(A.pattern!==void 0)yield`${w1(`${new RegExp(A.pattern)};`)}.test(${L})`;if(A.format!==void 0)yield`format('${A.format}', ${L})`}function*i(A,j,L){yield`(typeof ${L} === 'symbol')`}function*u(A,j,L){yield`(typeof ${L} === 'string')`,yield`${w1(`${new RegExp(A.pattern)};`)}.test(${L})`}function*G1(A,j,L){yield`${a(A.$ref)}(${L})`}function*e(A,j,L){if(yield`Array.isArray(${L})`,A.items===void 0)return yield`${L}.length === 0`;yield`(${L}.length === ${A.maxItems})`;for(let h=0;h<A.items.length;h++)yield`${Y1(A.items[h],j,`${L}[${h}]`)}`}function*_(A,j,L){yield`${L} === undefined`}function*Z1(A,j,L){yield`(${A.anyOf.map((x)=>Y1(x,j,L)).join(" || ")})`}function*V1(A,j,L){if(yield`${L} instanceof Uint8Array`,Q0(A.maxByteLength))yield`(${L}.length <= ${A.maxByteLength})`;if(Q0(A.minByteLength))yield`(${L}.length >= ${A.minByteLength})`}function*N1(A,j,L){yield"true"}function*m1(A,j,L){yield CH.IsVoidLike(L)}function*h1(A,j,L){let h=z0.instances.size;z0.instances.set(h,A),yield`kind('${A[$1]}', ${h}, ${L})`}function*X0(A,j,L,h=!0){let x=n6(A.$id)?[...j,A]:j,y=A;if(h&&n6(A.$id)){let c=a(A.$id);if(z0.functions.has(c))return yield`${c}(${L})`;else{z0.functions.set(c,"<deferred>");let t=I1(c,A,j,"value",!1);return z0.functions.set(c,t),yield`${c}(${L})`}}switch(y[$1]){case"Any":return yield*X(y,x,L);case"Argument":return yield*Y(y,x,L);case"Array":return yield*$(y,x,L);case"AsyncIterator":return yield*z(y,x,L);case"BigInt":return yield*W(y,x,L);case"Boolean":return yield*Q(y,x,L);case"Constructor":return yield*G(y,x,L);case"Date":return yield*K(y,x,L);case"Function":return yield*q(y,x,L);case"Import":return yield*H(y,x,L);case"Integer":return yield*F(y,x,L);case"Intersect":return yield*U(y,x,L);case"Iterator":return yield*D(y,x,L);case"Literal":return yield*V(y,x,L);case"Never":return yield*w(y,x,L);case"Not":return yield*M(y,x,L);case"Null":return yield*P(y,x,L);case"Number":return yield*R(y,x,L);case"Object":return yield*f(y,x,L);case"Promise":return yield*d(y,x,L);case"Record":return yield*v(y,x,L);case"Ref":return yield*l(y,x,L);case"RegExp":return yield*o(y,x,L);case"String":return yield*S(y,x,L);case"Symbol":return yield*i(y,x,L);case"TemplateLiteral":return yield*u(y,x,L);case"This":return yield*G1(y,x,L);case"Tuple":return yield*e(y,x,L);case"Undefined":return yield*_(y,x,L);case"Union":return yield*Z1(y,x,L);case"Uint8Array":return yield*V1(y,x,L);case"Unknown":return yield*N1(y,x,L);case"Void":return yield*m1(y,x,L);default:if(!L5.Has(y[$1]))throw new BM1(A);return yield*h1(y,x,L)}}let z0={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function Y1(A,j,L,h=!0){return`(${[...X0(A,j,L,h)].join(" && ")})`}function a(A){return`check_${Di.Encode(A)}`}function w1(A){let j=`local_${z0.variables.size}`;return z0.variables.set(j,`const ${j} = ${A}`),j}function I1(A,j,L,h,x=!0){let[y,c]=[`
`,(y1)=>"".padStart(y1," ")],t=r1("value","any"),X1=Y0("boolean"),B1=[...X0(j,L,h,x)].map((y1)=>`${c(4)}${y1}`).join(` &&${y}`);return`function ${A}(${t})${X1} {${y}${c(2)}return (${y}${B1}${y}${c(2)})
}`}function r1(A,j){let L=z0.language==="typescript"?`: ${j}`:"";return`${A}${L}`}function Y0(A){return z0.language==="typescript"?`: ${A}`:""}function H0(A,j,L){let h=I1("check",A,j,"value"),x=r1("value","any"),y=Y0("boolean"),c=[...z0.functions.values()],t=[...z0.variables.values()],X1=n6(A.$id)?`return function check(${x})${y} {
  return ${a(A.$id)}(value)
}`:`return ${h}`;return[...t,...c,X1].join(`
`)}function k(...A){let j={language:"javascript"},[L,h,x]=A.length===2&&s0(A[1])?[A[0],A[1],j]:A.length===2&&!s0(A[1])?[A[0],[],A[1]]:A.length===3?[A[0],A[1],A[2]]:A.length===1?[A[0],[],j]:[null,[],j];if(z0.language=x.language,z0.variables.clear(),z0.functions.clear(),z0.instances.clear(),!K8(L))throw new Ii(L);for(let y of h)if(!K8(y))throw new Ii(y);return H0(L,h,x)}J.Code=k;function b(A,j=[]){let L=k(A,j,{language:"javascript"}),h=globalThis.Function("kind","format","hash",L),x=new Map(z0.instances);function y(B1,y1,c1){if(!L5.Has(B1)||!x.has(y1))return!1;let I6=L5.Get(B1),k4=x.get(y1);return I6(k4,c1)}function c(B1,y1){if(!A4.Has(B1))return!1;return A4.Get(B1)(y1)}function t(B1){return EK(B1)}let X1=h(y,c,t);return new qM1(A,j,X1,L)}J.Compile=b})(K$||(K$={}));var F94=Object.create,{getPrototypeOf:U94,defineProperty:HM1,getOwnPropertyNames:O94}=Object,D94=Object.prototype.hasOwnProperty,uS=(J,Z,X)=>{X=J!=null?F94(U94(J)):{};let Y=Z||!J||!J.__esModule?HM1(X,"default",{value:J,enumerable:!0}):X;for(let $ of O94(J))if(!D94.call(Y,$))HM1(Y,$,{get:()=>J[$],enumerable:!0});return Y},mM1=(J,Z)=>()=>(Z||J((Z={exports:{}}).exports,Z),Z.exports);var V94=mM1((J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.parse=Q,J.serialize=q;var Z=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,X=/^[\u0021-\u003A\u003C-\u007E]*$/,Y=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,$=/^[\u0020-\u003A\u003D-\u007E]*$/,z=Object.prototype.toString,W=(()=>{let U=function(){};return U.prototype=Object.create(null),U})();function Q(U,D){let V=new W,w=U.length;if(w<2)return V;let M=D?.decode||H,P=0;do{let R=U.indexOf("=",P);if(R===-1)break;let f=U.indexOf(";",P),d=f===-1?w:f;if(R>d){P=U.lastIndexOf(";",R-1)+1;continue}let v=G(U,P,R),l=K(U,R,v),o=U.slice(v,l);if(V[o]===void 0){let S=G(U,R+1,d),i=K(U,d,S),u=M(U.slice(S,i));V[o]=u}P=d+1}while(P<w);return V}function G(U,D,V){do{let w=U.charCodeAt(D);if(w!==32&&w!==9)return D}while(++D<V);return V}function K(U,D,V){while(D>V){let w=U.charCodeAt(--D);if(w!==32&&w!==9)return D+1}return V}function q(U,D,V){let w=V?.encode||encodeURIComponent;if(!Z.test(U))throw new TypeError(`argument name is invalid: ${U}`);let M=w(D);if(!X.test(M))throw new TypeError(`argument val is invalid: ${D}`);let P=U+"="+M;if(!V)return P;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);P+="; Max-Age="+V.maxAge}if(V.domain){if(!Y.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);P+="; Domain="+V.domain}if(V.path){if(!$.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);P+="; Path="+V.path}if(V.expires){if(!F(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);P+="; Expires="+V.expires.toUTCString()}if(V.httpOnly)P+="; HttpOnly";if(V.secure)P+="; Secure";if(V.partitioned)P+="; Partitioned";if(V.priority)switch(typeof V.priority==="string"?V.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite==="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return P}function H(U){if(U.indexOf("%")===-1)return U;try{return decodeURIComponent(U)}catch(D){return U}}function F(U){return z.call(U)==="[object Date]"}}),_i=mM1((J,Z)=>{var X=12,Y=0,$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function z(G){var K=G.indexOf("%");if(K===-1)return G;var q=G.length,H="",F=0,U=0,D=K,V=X;while(K>-1&&K<q){var w=Q(G[K+1],4),M=Q(G[K+2],0),P=w|M,R=$[P];if(V=$[256+V+R],U=U<<6|P&$[364+R],V===X)H+=G.slice(F,D),H+=U<=65535?String.fromCharCode(U):String.fromCharCode(55232+(U>>10),56320+(U&1023)),U=0,F=K+3,K=D=G.indexOf("%",F);else if(V===Y)return null;else{if(K+=3,K<q&&G.charCodeAt(K)===37)continue;return null}}return H+G.slice(F)}var W={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function Q(G,K){var q=W[G];return q===void 0?255:q<<K}Z.exports=z}),KV=(J,Z)=>{let X=Z?.length?{}:null;if(X)for(let Y of Z)X[Y.part.charCodeAt(0)]=Y;return{part:J,store:null,inert:X,params:null,wildcardStore:null}},FM1=(J,Z)=>({...J,part:Z}),UM1=(J)=>({name:J,store:null,inert:null});class FV{config;root={};history=[];deferred=[];constructor(J={}){if(this.config=J,J.lazy)this.find=this.lazyFind}static regex={static:/:.+?(?=\/|$)/,params:/:.+?(?=\/|$)/g,optionalParams:/:.+?\?(?=\/|$)/g};lazyFind=(J,Z)=>{if(!this.config.lazy)return this.find;return this.build(),this.find(J,Z)};build(){if(!this.config.lazy)return;for(let[J,Z,X]of this.deferred)this.add(J,Z,X,{lazy:!1,ignoreHistory:!0});this.deferred=[],this.find=(J,Z)=>{let X=this.root[J];if(!X)return null;return SS(Z,Z.length,X,0)}}add(J,Z,X,{ignoreError:Y=!1,ignoreHistory:$=!1,lazy:z=this.config.lazy}={}){if(z)return this.find=this.lazyFind,this.deferred.push([J,Z,X]),X;if(typeof Z!=="string")throw new TypeError("Route path must be a string");if(Z==="")Z="/";else if(Z[0]!=="/")Z=`/${Z}`;let W=Z[Z.length-1]==="*",Q=Z.match(FV.regex.optionalParams);if(Q){let F=Z.replaceAll("?","");this.add(J,F,X,{ignoreError:Y,ignoreHistory:$,lazy:z});for(let U=0;U<Q.length;U++){let D=Z.replace("/"+Q[U],"");this.add(J,D,X,{ignoreError:!0,ignoreHistory:$,lazy:z})}return X}if(Q)Z=Z.replaceAll("?","");if(this.history.find(([F,U,D])=>F===J&&U===Z))return X;if(W||Q&&Z.charCodeAt(Z.length-1)===63)Z=Z.slice(0,-1);if(!$)this.history.push([J,Z,X]);let G=Z.split(FV.regex.static),K=Z.match(FV.regex.params)||[];if(G[G.length-1]==="")G.pop();let q;if(!this.root[J])q=this.root[J]=KV("/");else q=this.root[J];let H=0;for(let F=0;F<G.length;++F){let U=G[F];if(F>0){let D=K[H++].slice(1);if(q.params===null)q.params=UM1(D);else if(q.params.name!==D)if(Y)return X;else throw new Error(`Cannot create route "${Z}" with parameter "${D}" because a route already exists with a different parameter name ("${q.params.name}") in the same location`);let V=q.params;if(V.inert===null){q=V.inert=KV(U);continue}q=V.inert}for(let D=0;;){if(D===U.length){if(D<q.part.length){let V=FM1(q,q.part.slice(D));Object.assign(q,KV(U,[V]))}break}if(D===q.part.length){if(q.inert===null)q.inert={};let V=q.inert[U.charCodeAt(D)];if(V){q=V,U=U.slice(D),D=0;continue}let w=KV(U.slice(D));q.inert[U.charCodeAt(D)]=w,q=w;break}if(U[D]!==q.part[D]){let V=FM1(q,q.part.slice(D)),w=KV(U.slice(D));Object.assign(q,KV(q.part.slice(0,D),[V,w])),q=w;break}++D}}if(H<K.length){let F=K[H].slice(1);if(q.params===null)q.params=UM1(F);else if(q.params.name!==F)if(Y)return X;else throw new Error(`Cannot create route "${Z}" with parameter "${F}" because a route already exists with a different parameter name ("${q.params.name}") in the same location`);if(q.params.store===null)q.params.store=X;return q.params.store}if(W){if(q.wildcardStore===null)q.wildcardStore=X;return q.wildcardStore}if(q.store===null)q.store=X;return q.store}find(J,Z){let X=this.root[J];if(!X)return null;return SS(Z,Z.length,X,0)}}var SS=(J,Z,X,Y)=>{let $=X.part,z=$.length,W=Y+z;if(z>1){if(W>Z)return null;if(z<15){for(let Q=1,G=Y+1;Q<z;++Q,++G)if($.charCodeAt(Q)!==J.charCodeAt(G))return null}else if(J.slice(Y,W)!==$)return null}if(W===Z){if(X.store!==null)return{store:X.store,params:{}};if(X.wildcardStore!==null)return{store:X.wildcardStore,params:{"*":""}};return null}if(X.inert!==null){let Q=X.inert[J.charCodeAt(W)];if(Q!==void 0){let G=SS(J,Z,Q,W);if(G!==null)return G}}if(X.params!==null){let{store:Q,name:G,inert:K}=X.params,q=J.indexOf("/",W);if(q!==W){if(q===-1||q>=Z){if(Q!==null){let H={};return H[G]=J.substring(W,Z),{store:Q,params:H}}}else if(K!==null){let H=SS(J,Z,K,q);if(H!==null)return H.params[G]=J.substring(W,q),H}}}if(X.wildcardStore!==null)return{store:X.wildcardStore,params:{"*":J.substring(W,Z)}};return null},yi={date:cM1,time:Ei(!0),"date-time":OM1(!0),"iso-time":Ei(!1),"iso-date-time":OM1(!1),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:C94,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:k94,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:j94,int32:{type:"number",validate:S94},int64:{type:"number",validate:T94},float:{type:"number",validate:VM1},double:{type:"number",validate:VM1},password:!0,binary:!0};function I94(J){return J%4===0&&(J%100!==0||J%400===0)}var w94=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,A94=[0,31,28,31,30,31,30,31,31,30,31,30,31];function cM1(J){let Z=w94.exec(J);if(!Z)return!1;let X=+Z[1],Y=+Z[2],$=+Z[3];return Y>=1&&Y<=12&&$>=1&&$<=(Y===2&&I94(X)?29:A94[Y])}var M94=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function Ei(J){return function Z(X){let Y=M94.exec(X);if(!Y)return!1;let $=+Y[1],z=+Y[2],W=+Y[3],Q=Y[4],G=Y[5]==="-"?-1:1,K=+(Y[6]||0),q=+(Y[7]||0);if(K>23||q>59||J&&!Q)return!1;if($<=23&&z<=59&&W<60)return!0;let H=z-q*G,F=$-K*G-(H<0?1:0);return(F===23||F===-1)&&(H===59||H===-1)&&W<61}}var lM1=(J)=>{if(J.charCodeAt(J.length-6)===32)return J.slice(0,-6)+"+"+J.slice(-5);return J},N94=/t|\s/i;function OM1(J){let Z=Ei(J);return function X(Y){let $=Y.split(N94);return $.length===2&&cM1($[0])&&Z($[1])}}var P94=/\/|:/,L94=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function C94(J){return P94.test(J)&&L94.test(J)}var DM1=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function j94(J){return DM1.lastIndex=0,DM1.test(J)}var R94=-2147483648,E94=2147483647;function S94(J){return Number.isInteger(J)&&J<=E94&&J>=R94}function T94(J){return Number.isInteger(J)}function VM1(){return!0}var f94=/[^\\]\\Z/;function k94(J){if(f94.test(J))return!1;try{return new RegExp(J),!0}catch(Z){return!1}}var pM1=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,nM1=/(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{2}\s\d{4}\s\d{2}:\d{2}:\d{2}\sGMT(?:\+|-)\d{4}\s\([^)]+\)/,iM1=/^(?:(?:(?:(?:0?[1-9]|[12][0-9]|3[01])[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:19|20)\d{2})|(?:(?:19|20)\d{2}[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:0?[1-9]|[12][0-9]|3[01]))))(?:\s(?:1[012]|0?[1-9]):[0-5][0-9](?::[0-5][0-9])?(?:\s[AP]M)?)?$/,b94=yi.date,h94=yi["date-time"];if(!A4.Has("date"))A4.Set("date",(J)=>{let Z=lM1(J).replace(/"/g,"");if(pM1.test(Z)||nM1.test(Z)||iM1.test(Z)||b94(Z)){let X=new Date(Z);if(!Number.isNaN(X.getTime()))return!0}return!1});if(!A4.Has("date-time"))A4.Set("date-time",(J)=>{let Z=J.replace(/"/g,"");if(pM1.test(Z)||nM1.test(Z)||iM1.test(Z)||h94(Z)){let X=new Date(Z);if(!Number.isNaN(X.getTime()))return!0}return!1});Object.entries(yi).forEach((J)=>{let[Z,X]=J;if(!A4.Has(Z)){if(X instanceof RegExp)A4.Set(Z,(Y)=>X.test(Y));else if(typeof X==="function")A4.Set(Z,X)}});if(!A4.Has("numeric"))A4.Set("numeric",(J)=>!!J&&!isNaN(+J));if(!A4.Has("integer"))A4.Set("integer",(J)=>!!J&&Number.isInteger(+J));if(!A4.Has("boolean"))A4.Set("boolean",(J)=>J==="true"||J==="false");if(!A4.Has("ObjectString"))A4.Set("ObjectString",(J)=>{let Z=J.charCodeAt(0);if(Z===9||Z===10||Z===32)Z=J.trimStart().charCodeAt(0);if(Z!==123&&Z!==91)return!1;try{return JSON.parse(J),!0}catch{return!1}});if(!A4.Has("ArrayString"))A4.Set("ArrayString",(J)=>{let Z=J.charCodeAt(0);if(Z===9||Z===10||Z===32)Z=J.trimStart().charCodeAt(0);if(Z!==123&&Z!==91)return!1;try{return JSON.parse(J),!0}catch{return!1}});var UV=typeof Bun!=="undefined",_94={aac:"audio/aac",abw:"application/x-abiword",ai:"application/postscript",arc:"application/octet-stream",avi:"video/x-msvideo",azw:"application/vnd.amazon.ebook",bin:"application/octet-stream",bz:"application/x-bzip",bz2:"application/x-bzip2",csh:"application/x-csh",css:"text/css",csv:"text/csv",doc:"application/msword",dll:"application/octet-stream",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gif:"image/gif",htm:"text/html",html:"text/html",ico:"image/x-icon",ics:"text/calendar",jar:"application/java-archive",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/javascript",json:"application/json",mid:"audio/midi",midi:"audio/midi",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpa:"video/mpeg",mpe:"video/mpeg",mpeg:"video/mpeg",mpkg:"application/vnd.apple.installer+xml",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",otf:"font/otf",png:"image/png",pdf:"application/pdf",ppt:"application/vnd.ms-powerpoint",rar:"application/x-rar-compressed",rtf:"application/rtf",sh:"application/x-sh",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",ts:"application/typescript",ttf:"font/ttf",txt:"text/plain",vsd:"application/vnd.visio",wav:"audio/x-wav",weba:"audio/webm",webm:"video/webm",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.ms-excel",xlsx_OLD:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",xul:"application/vnd.mozilla.xul+xml",zip:"application/zip","3gp":"video/3gpp","3gp_DOES_NOT_CONTAIN_VIDEO":"audio/3gpp","3gp2":"video/3gpp2","3gp2_DOES_NOT_CONTAIN_VIDEO":"audio/3gpp2","7z":"application/x-7z-compressed"},y94=(J)=>{let Z=J.lastIndexOf(".");if(Z===-1)return"";return J.slice(Z+1)};var wi,Ai;class TS{path;value;stats;constructor(J){if(this.path=J,UV)this.value=Bun.file(J);else if(typeof window!=="undefined")console.warn("Browser environment does not support file");else if(!wi||!Ai)try{this.value=import("fs").then((Z)=>{return wi=Z.createReadStream,Z.createReadStream(J)}),this.stats=import("fs/promises").then((Z)=>{return Ai=Z.stat,Z.stat(J)})}catch{}else this.value=wi(J),this.stats=Ai(J)}get type(){return _94[y94(this.path)]||"application/octet-stream"}get length(){if(UV)return this.value.size;return this.stats?.then((J)=>J.size)??0}}var fS="toJSON"in new Headers,IM1=(J,Z)=>{let X=new URL(J);return X.pathname=Z,X.toString()},v94=(J)=>typeof J==="function"&&/^\s*class\s+/.test(J.toString())||J.toString&&J.toString().startsWith("[object ")&&J.toString()!=="[object Object]"||J8(Object.getPrototypeOf(J)),Mi=(J)=>J&&typeof J==="object"&&!Array.isArray(J),T7=(J,Z,X)=>{let Y=X?.skipKeys,$=X?.override??!0;if(!Mi(J)||!Mi(Z))return J;for(let[z,W]of Object.entries(Z)){if(Y?.includes(z))continue;if(!Mi(W)||!(z in J)||v94(W)){if($||!(z in J))J[z]=W;continue}J[z]=T7(J[z],W,{skipKeys:Y,override:$})}return J},oM1=(J,Z)=>{let X=T7(Object.assign({},J),Z,{skipKeys:["properties"]});if(X.properties)delete X.properties;return X},k8=(J,Z)=>{if(!Z)return J;let X=[],Y=[];if(J){if(!Array.isArray(J))J=[J];for(let $ of J)if(X.push($),$.checksum)Y.push($.checksum)}if(Z){if(!Array.isArray(Z))Z=[Z];for(let $ of Z)if(!Y.includes($.checksum))X.push($)}return X},x94=["start","request","parse","transform","resolve","beforeHandle","afterHandle","mapResponse","afterResponse","trace","error","stop","body","headers","params","query","response","type","detail"],g94=x94.reduce((J,Z)=>(J[Z]=!0,J),{}),sM1=(J,Z)=>{let X=(Y)=>typeof Y==="object"&&Object.keys(Y).every(vi);if(X(J)&&X(Z))return Object.assign(J,Z);else if(J&&!X(J)&&X(Z))return Object.assign({200:J},Z);return Z??J},jM=(J,Z)=>{return{body:Z?.body??J?.body,headers:Z?.headers??J?.headers,params:Z?.params??J?.params,query:Z?.query??J?.query,cookie:Z?.cookie??J?.cookie,response:sM1(J?.response,Z?.response)}},XQ=(J,Z)=>{if(!Object.values(Z).find((Y)=>Y!==void 0&&Y!==null))return{...J};let X={...J,...Z,body:Z?.body??J?.body,headers:Z?.headers??J?.headers,params:Z?.params??J?.params,query:Z?.query??J?.query,cookie:Z?.cookie??J?.cookie,response:sM1(J?.response,Z?.response),type:J?.type||Z?.type,detail:T7(Z?.detail??{},J?.detail??{}),parse:k8(J?.parse,Z?.parse),transform:k8(J?.transform,Z?.transform),beforeHandle:k8(k8(j5(J?.resolve,"resolve"),J?.beforeHandle),k8(j5(Z.resolve,"resolve"),Z?.beforeHandle)),afterHandle:k8(J?.afterHandle,Z?.afterHandle),mapResponse:k8(J?.mapResponse,Z?.mapResponse),afterResponse:k8(J?.afterResponse,Z?.afterResponse),trace:k8(J?.trace,Z?.trace),error:k8(J?.error,Z?.error)};if(X.resolve)delete X.resolve;return X},d94=(J)=>{if(J.parse&&!Array.isArray(J.parse))J.parse=[J.parse];if(J.transform&&!Array.isArray(J.transform))J.transform=[J.transform];if(J.afterHandle&&!Array.isArray(J.afterHandle))J.afterHandle=[J.afterHandle];if(J.mapResponse&&!Array.isArray(J.mapResponse))J.mapResponse=[J.mapResponse];if(J.afterResponse&&!Array.isArray(J.afterResponse))J.afterResponse=[J.afterResponse];if(J.trace&&!Array.isArray(J.trace))J.trace=[J.trace];if(J.error&&!Array.isArray(J.error))J.error=[J.error];let Z=[];if(J.resolve)Z=j5(Array.isArray(J.resolve)?J.resolve:[J.resolve],"resolve"),delete J.resolve;if(J.beforeHandle)if(Z.length)Z=Z.concat(Array.isArray(J.beforeHandle)?J.beforeHandle:[J.beforeHandle]);else Z=Array.isArray(J.beforeHandle)?J.beforeHandle:[J.beforeHandle];if(Z.length)J.beforeHandle=Z;return J},u94=typeof Bun!=="undefined",Q19=u94&&typeof Bun.hash==="function",BV=(J)=>{let Z=9;for(let X=0;X<J.length;)Z=Math.imul(Z^J.charCodeAt(X++),387420489);return Z=Z^Z>>>9},rX=(J,Z)=>{if(!Z)return;if(!Array.isArray(Z)){let Y=Z;if(J&&!Y.checksum)Y.checksum=J;if(Y.scope==="scoped")Y.scope="local";return Y}let X=[...Z];for(let Y of X){if(J&&!Y.checksum)Y.checksum=J;if(Y.scope==="scoped")Y.scope="local"}return X},wM1=(J,Z,X)=>{return{start:k8(J.start,rX(X,Z?.start)),request:k8(J.request,rX(X,Z?.request)),parse:k8(J.parse,rX(X,Z?.parse)),transform:k8(J.transform,rX(X,Z?.transform)),beforeHandle:k8(k8(j5(J.resolve,"resolve"),J.beforeHandle),rX(X,k8(j5(Z?.resolve,"resolve"),Z?.beforeHandle))),afterHandle:k8(J.afterHandle,rX(X,Z?.afterHandle)),mapResponse:k8(J.mapResponse,rX(X,Z?.mapResponse)),afterResponse:k8(J.afterResponse,rX(X,Z?.afterResponse)),trace:k8(J.trace,rX(X,Z?.trace)),error:k8(J.error,rX(X,Z?.error)),stop:k8(J.stop,rX(X,Z?.stop))}},m94=(J,Z,{skipIfHasType:X=!1})=>{if(!J)return J;if(!Array.isArray(J)){if(X)J.scope??=Z;else J.scope=Z;return J}for(let Y of J)if(X)Y.scope??=Z;else Y.scope=Z;return J},SK=(J)=>{if(!J)return J;if(!Array.isArray(J))switch(J.scope){case"global":case"scoped":return{...J};default:return{fn:J}}let Z=[];for(let X of J)switch(X.scope){case"global":case"scoped":Z.push({...X});break}return Z},AM1=(J)=>{return{...J,type:J?.type,detail:J?.detail,parse:SK(J?.parse),transform:SK(J?.transform),beforeHandle:SK(J?.beforeHandle),afterHandle:SK(J?.afterHandle),mapResponse:SK(J?.mapResponse),afterResponse:SK(J?.afterResponse),error:SK(J?.error),trace:SK(J?.trace)}},mS={Continue:100,"Switching Protocols":101,Processing:102,"Early Hints":103,OK:200,Created:201,Accepted:202,"Non-Authoritative Information":203,"No Content":204,"Reset Content":205,"Partial Content":206,"Multi-Status":207,"Already Reported":208,"Multiple Choices":300,"Moved Permanently":301,Found:302,"See Other":303,"Not Modified":304,"Temporary Redirect":307,"Permanent Redirect":308,"Bad Request":400,Unauthorized:401,"Payment Required":402,Forbidden:403,"Not Found":404,"Method Not Allowed":405,"Not Acceptable":406,"Proxy Authentication Required":407,"Request Timeout":408,Conflict:409,Gone:410,"Length Required":411,"Precondition Failed":412,"Payload Too Large":413,"URI Too Long":414,"Unsupported Media Type":415,"Range Not Satisfiable":416,"Expectation Failed":417,"I'm a teapot":418,"Misdirected Request":421,"Unprocessable Content":422,Locked:423,"Failed Dependency":424,"Too Early":425,"Upgrade Required":426,"Precondition Required":428,"Too Many Requests":429,"Request Header Fields Too Large":431,"Unavailable For Legal Reasons":451,"Internal Server Error":500,"Not Implemented":501,"Bad Gateway":502,"Service Unavailable":503,"Gateway Timeout":504,"HTTP Version Not Supported":505,"Variant Also Negotiates":506,"Insufficient Storage":507,"Loop Detected":508,"Not Extended":510,"Network Authentication Required":511},MM1=Object.fromEntries(Object.entries(mS).map(([J,Z])=>[Z,J]));function c94(J){let Z=J;while(Z.endsWith("="))Z=Z.slice(0,-1);return Z}var NM1=new TextEncoder,kS=async(J,Z)=>{if(typeof J!=="string")throw new TypeError("Cookie value must be provided as a string.");if(Z===null)throw new TypeError("Secret key must be provided.");let X=await crypto.subtle.importKey("raw",NM1.encode(Z),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),Y=await crypto.subtle.sign("HMAC",X,NM1.encode(J));return J+"."+c94(Buffer.from(Y).toString("base64"))},PM1=async(J,Z)=>{if(typeof J!=="string")throw new TypeError("Signed cookie string must be provided.");if(Z===null)throw new TypeError("Secret key must be provided.");let X=J.slice(0,J.lastIndexOf("."));return await kS(X,Z)===J?X:!1},l94=(J,Z,X)=>{if(!J||typeof J!=="object"||!Z)return;for(let[Y,$]of Object.entries(Z)){if(g94[Y]||!(Y in J))continue;let z=J[Y];if(typeof z==="function"){let W=z($);if(typeof W==="object")for(let[Q,G]of Object.entries(W))X(Q)({fn:G})}delete Z[Y]}},p94=({globalHook:J,localHook:Z})=>(X)=>(Y,$)=>{if(typeof Y==="function")Y={fn:Y};if(X==="resolve")Y={...Y,subType:"resolve"};if(!Z[X])Z[X]=[];if(typeof Z[X]==="function")Z[X]=[Z[X]];if(!Array.isArray(Z[X]))Z[X]=[Z[X]];if("fn"in Y||Array.isArray(Y)){if(Array.isArray(Y))Z[X]=Z[X].concat(Y);else Z[X].push(Y);return}let{insert:z="after",stack:W="local"}=Y;if(typeof $==="function")$={fn:$};if(W==="global")if(!Array.isArray($))if(z==="before")J[X].unshift($);else J[X].push($);else if(z==="before")J[X]=$.concat(J[X]);else J[X]=J[X].concat($);else if(!Array.isArray($))if(z==="before")Z[X].unshift($);else Z[X].push($);else if(z==="before")Z[X]=$.concat(Z[X]);else Z[X]=Z[X].concat($)},n94=(J)=>{if(typeof J==="number")return J;if(J.length<16){if(J.trim().length===0)return null;let Z=Number(J);if(Number.isNaN(Z))return null;return Z}if(J.length===16){if(J.trim().length===0)return null;let Z=Number(J);if(Number.isNaN(Z)||Z.toString()!==J)return null;return Z}return null},vi=(J)=>n94(J)!==null;class aM1{onError;onFinally;root=null;promises=[];constructor(J=console.error,Z=()=>{}){this.onError=J,this.onFinally=Z}get size(){return this.promises.length}add(J){if(this.promises.push(J),this.root||=this.drain(),this.promises.length===1)this.then(this.onFinally);return J}async drain(){while(this.promises.length>0){try{await this.promises[0]}catch(J){this.onError(J)}this.promises.shift()}this.root=null}then(J,Z){return(this.root??Promise.resolve()).then(J,Z)}}var j5=(J,Z)=>{if(!J)return J;if(!Array.isArray(J)){if(typeof J==="function"||typeof J==="string")return Z?{fn:J,subType:Z}:{fn:J};else if("fn"in J)return J}let X=[];for(let Y of J)if(typeof Y==="function"||typeof Y==="string")X.push(Z?{fn:Y,subType:Z}:{fn:Y});else if("fn"in Y)X.push(Y);return X},LM1=(J)=>{if(J.start)J.start=j5(J.start);if(J.request)J.request=j5(J.request);if(J.parse)J.parse=j5(J.parse);if(J.transform)J.transform=j5(J.transform);if(J.beforeHandle)J.beforeHandle=j5(J.beforeHandle);if(J.afterHandle)J.afterHandle=j5(J.afterHandle);if(J.mapResponse)J.mapResponse=j5(J.mapResponse);if(J.afterResponse)J.afterResponse=j5(J.afterResponse);if(J.trace)J.trace=j5(J.trace);if(J.error)J.error=j5(J.error);if(J.stop)J.stop=j5(J.stop);return J},CM1=(J)=>{if(J.start?.map)J.start=J.start.map((Z)=>Z.fn);if(J.request?.map)J.request=J.request.map((Z)=>Z.fn);if(J.parse?.map)J.parse=J.parse.map((Z)=>Z.fn);if(J.transform?.map)J.transform=J.transform.map((Z)=>Z.fn);if(J.beforeHandle?.map)J.beforeHandle=J.beforeHandle.map((Z)=>Z.fn);if(J.afterHandle?.map)J.afterHandle=J.afterHandle.map((Z)=>Z.fn);if(J.mapResponse?.map)J.mapResponse=J.mapResponse.map((Z)=>Z.fn);if(J.afterResponse?.map)J.afterResponse=J.afterResponse.map((Z)=>Z.fn);if(J.trace?.map)J.trace=J.trace.map((Z)=>Z.fn);else J.trace=[];if(J.error?.map)J.error=J.error.map((Z)=>Z.fn);if(J.stop?.map)J.stop=J.stop.map((Z)=>Z.fn);return J},jM1=(J)=>({body:J.body,cookie:J.cookie,headers:J.headers,query:J.query,set:J.set,server:J.server,path:J.path,route:J.route,url:J.url}),xi=(J,Z=302)=>Response.redirect(J,Z),EH=Symbol("ElysiaFormData"),vM=Symbol("ElysiaRequestId"),i94=(J)=>{let Z=new FormData;if(Z[EH]={},J)for(let[X,Y]of Object.entries(J)){if(Array.isArray(Y)){Z[EH][X]=[];for(let $ of Y){if(Y instanceof File)Z.append(X,Y,Y.name);else if(Y instanceof TS)Z.append(X,Y.value,Y.value?.name);else Z.append(X,Y);Z[EH][X].push(Y)}continue}if(Y instanceof File)Z.append(X,Y,Y.name);else if(Y instanceof TS)Z.append(X,Y.value,Y.value?.name);else Z.append(X,Y);Z[EH][X]=Y}return Z},cS=()=>{let J=crypto.randomUUID();return J.slice(0,8)+J.slice(24,32)},RM1=(J)=>{let Z=[];for(let X=0;X<J.length;X++){let Y=J[X];if(Y.checksum){if(Z.includes(Y.checksum))J.splice(X,1),X--;Z.push(Y.checksum)}}return J},TK=(J,Z="scoped")=>{if(!J)return;if(Z==="scoped"){for(let X of J)if("scope"in X&&X.scope==="local")X.scope="scoped";return}for(let X of J)if("scope"in X)X.scope="global"},EM=(J)=>{if(J.charCodeAt(J.length-1)===47)return J.slice(0,J.length-1);return J+"/"},J8=(J)=>{if(!J)return!1;for(let Z in J)return!0;return!1},SM=(J,{dynamic:Z=!1}={})=>{let X=encodeURIComponent(J).replace(/%2F/g,"/");if(Z)X=X.replace(/%3A/g,":").replace(/%3F/g,"?");return X},rM1=(()=>{if(typeof Bun==="undefined")return!0;let J=Bun.version.split(".");if(+J[0]<1||+J[1]<2||+J[2]<14)return!1;return!0})(),EM1=typeof Bun!=="undefined"?Bun.env:typeof process!=="undefined"?process?.env:void 0,bS=Symbol("ElysiaErrorCode"),_M=(EM1?.NODE_ENV??EM1?.ENV)==="production";class $7{code;response;constructor(J,Z){let X=Z??(J in MM1?MM1[J]:J);this.code=mS[J]??J,this.response=X}}var hS=(J,Z)=>new $7(J,Z);class gi extends Error{code="NOT_FOUND";status=404;constructor(J){super(J??"NOT_FOUND")}}class tM1 extends Error{code="PARSE";status=400;constructor(J){super("Bad Request",{cause:J})}}class Si extends Error{key;code="INVALID_COOKIE_SIGNATURE";status=400;constructor(J,Z){super(Z??`"${J}" has invalid cookie signature`);this.key=J}}var eX=(J)=>{if(!J)return{summary:void 0};let{message:Z,path:X,value:Y,type:$}=J,z=X.slice(1).replaceAll("/","."),W=X==="";switch($){case 42:return{...J,summary:W?"Value should not be provided":`Property '${z}' should not be provided`};case 45:return{...J,summary:W?"Value is missing":`Property '${z}' is missing`};case 50:let Q=Z.indexOf("'"),G=Z.slice(Q+1,Z.indexOf("'",Q+1));return{...J,summary:W?"Value should be an email":`Property '${z}' should be ${G}`};case 54:return{...J,summary:`${Z.slice(0,9).trim()} property '${z}' to be ${Z.slice(8).trim()} but found: ${Y}`};case 62:let K=J.schema.anyOf.map((q)=>`'${q?.format??q.type}'`).join(", ");return{...J,summary:W?`Value should be one of ${K}`:`Property '${z}' should be one of: ${K}`};default:return{summary:Z,...J}}};class kM extends Error{property;expected;message;code="INVALID_FILE_TYPE";status=422;constructor(J,Z,X=`"${J}" has invalid file type`){super(X);this.property=J,this.expected=Z,this.message=X,Object.setPrototypeOf(this,kM.prototype)}toResponse(J){if(_M)return new Response(JSON.stringify({type:"validation",on:"body"}),{status:422,headers:{...J,"content-type":"application/json"}});return new Response(JSON.stringify({type:"validation",on:"body",summary:"Invalid file type",message:this.message,property:this.property,expected:this.expected}),{status:422,headers:{...J,"content-type":"application/json"}})}}class _4 extends Error{type;validator;value;code="VALIDATION";status=422;constructor(J,Z,X,Y){if(X&&typeof X==="object"&&X instanceof $7)X=X.response;let $=Y?.First()||(_M?void 0:("Errors"in Z)?Z.Errors(X).First():U4.Errors(Z,X).First()),z=$?.schema?.message||$?.schema?.error!==void 0?typeof $.schema.error==="function"?$.schema.error({type:J,validator:Z,value:X,get errors(){return[...Z.Errors(X)].map(eX)}}):$.schema.error:void 0,W=$?.path||"root",Q="";if(z!==void 0)Q=typeof z==="object"?JSON.stringify(z):z+"";else if(_M)Q=JSON.stringify({type:"validation",on:J,summary:eX($).summary,message:$?.message,found:X});else{let G=Z?.schema??Z,K="Errors"in Z?[...Z.Errors(X)].map(eX):[...U4.Errors(Z,X)].map(eX),q;try{q=U4.Create(G)}catch(H){q={type:"Could not create expected value",message:H?.message,error:H}}Q=JSON.stringify({type:"validation",on:J,summary:eX($).summary,property:W,message:$?.message,expected:q,found:X,errors:K},null,2)}super(Q);this.type=J,this.validator=Z,this.value=X,Object.setPrototypeOf(this,_4.prototype)}get all(){return"Errors"in this.validator?[...this.validator.Errors(this.value)].map(eX):[...U4.Errors(this.validator,this.value)].map(eX)}static simplifyModel(J){let Z="schema"in J?J.schema:J;try{return U4.Create(Z)}catch{return Z}}get model(){return _4.simplifyModel(this.validator)}toResponse(J){return new Response(this.message,{status:400,headers:{...J,"content-type":"application/json"}})}}var LS=(J,Z)=>{try{return JSON.parse(J)}catch{throw new _4("property",Z,J)}};function lS(J,Z){if(!L5.Has(J))L5.Set(J,Z);return(X={})=>HS({...X,[$1]:J})}var jH=(J)=>{try{let Z=K$.Compile(J);return Z.Create=()=>U4.Create(J),Z.Error=(X)=>new _4("property",J,X,Z.Errors(X)),Z}catch{return{Check:(Z)=>U4.Check(J,Z),CheckThrow:(Z)=>{if(!U4.Check(J,Z))throw new _4("property",J,Z,U4.Errors(J,Z))},Decode:(Z)=>U4.Decode(J,Z),Create:()=>U4.Create(J),Error:(Z)=>new _4("property",J,Z,U4.Errors(J,Z))}}},SM1=(J)=>{if(typeof J==="string")switch(J.slice(-1)){case"k":return+J.slice(0,J.length-1)*1024;case"m":return+J.slice(0,J.length-1)*1048576;default:return+J}return J},_S=(J,Z)=>{if(J.startsWith(Z))return!0;return Z.charCodeAt(Z.length-1)===42&&Z.charCodeAt(Z.length-2)===47&&J.startsWith(Z.slice(0,-1))},TM1=!1,o94=()=>{if(!TM1)console.warn("[Elysia] Attempt to validate file type without 'file-type'. This may lead to security risks. We recommend installing 'file-type' to properly validate file extension."),TM1=!0},di=async()=>import("./index-g5rnj9n1.js").then((J)=>{return yS=J.fileTypeFromBlob,yS}).catch(o94),yS,s94=(J)=>{if(yS)return yS(J);return di().then((Z)=>{if(Z)return Z(J)})},a94=async(J,Z,X=J?.name??"")=>{if(!J)return;let Y=await s94(J);if(!Y)throw new kM(X,Z);if(typeof Z==="string"){if(!_S(Y.mime,Z))throw new kM(X,Z)}for(let $=0;$<Z.length;$++)if(_S(Y.mime,Z[$]))return!0;throw new kM(X,Z)},Ti=(J,Z)=>{if(Z instanceof TS)return!0;if(!(Z instanceof Blob))return!1;if(J.minSize&&Z.size<SM1(J.minSize))return!1;if(J.maxSize&&Z.size>SM1(J.maxSize))return!1;if(J.extension){if(typeof J.extension==="string")return _S(Z.type,J.extension);for(let X=0;X<J.extension.length;X++)if(_S(Z.type,J.extension[X]))return!0;return!1}return!0},_1=Object.assign({},rW);lS("UnionEnum",(J,Z)=>(typeof Z==="number"||typeof Z==="string"||Z===null)&&J.enum.includes(Z));var r94=lS("Files",(J,Z)=>{if(!Array.isArray(Z))return Ti(J,Z);if(J.minItems&&Z.length<J.minItems)return!1;if(J.maxItems&&Z.length>J.maxItems)return!1;for(let X=0;X<Z.length;X++)if(!Ti(J,Z[X]))return!1;return!0}),t94=lS("ElysiaForm",({compiler:J,...Z},X)=>{if(!(X instanceof FormData))return!1;if(J){if(!(EH in X))throw new _4("property",Z,X);if(!J.Check(X[EH]))throw J.Error(X[EH])}return!0}),b7={String:(J)=>rW.String(J),Numeric:(J)=>{let Z=rW.Number(J),X=jH(Z);return _1.Transform(_1.Union([_1.String({format:"numeric",default:0}),_1.Number(J)],J)).Decode((Y)=>{let $=+Y;if(isNaN($))return Y;if(J&&!X.Check($))throw X.Error(Y);return $}).Encode((Y)=>Y)},Integer:(J)=>{let Z=rW.Integer(J),X=jH(Z);return _1.Transform(_1.Union([_1.String({format:"integer",default:0}),rW.Integer(J)],J)).Decode((Y)=>{let $=+Y;if(!X.Check($))throw X.Error($);return $}).Encode((Y)=>Y)},Date:(J)=>{let Z=rW.Date(J),X=jH(Z),Y=J?.default?new Date(J.default):void 0;return _1.Transform(_1.Union([rW.Date(J),_1.String({format:"date-time",default:Y?.toISOString()}),_1.String({format:"date",default:Y?.toISOString()}),_1.Number({default:Y?.getTime()})],J)).Decode(($)=>{if(typeof $==="number"){let W=new Date($);if(!X.Check(W))throw X.Error(W);return W}if($ instanceof Date)return $;let z=new Date(lM1($));if(!z||isNaN(z.getTime()))throw new _4("property",Z,z);if(!X.Check(z))throw X.Error(z);return z}).Encode(($)=>$.toISOString())},BooleanString:(J)=>{let Z=rW.Boolean(J),X=jH(Z);return _1.Transform(_1.Union([_1.Boolean(J),_1.String({format:"boolean",default:!1})],J)).Decode((Y)=>{if(typeof Y==="string")return Y==="true";if(Y!==void 0&&!X.Check(Y))throw X.Error(Y);return Y}).Encode((Y)=>Y)},ObjectString:(J,Z)=>{let X=_1.Object(J,Z),Y=jH(X),$=JSON.stringify(Y.Create());return _1.Transform(_1.Union([_1.String({format:"ObjectString",default:$}),X])).Decode((z)=>{if(typeof z==="string"){if(z.charCodeAt(0)!==123)throw new _4("property",X,z);if(!Y.Check(z=LS(z,X)))throw Y.Error(z);return Y.Decode(z)}return z}).Encode((z)=>{let W;if(typeof z==="string")z=LS(W=z,X);if(!Y.Check(z))throw Y.Error(z);return W??JSON.stringify(z)})},ArrayString:(J=_1.String(),Z)=>{let X=_1.Array(J,Z),Y=jH(X),$=(z,W=!1)=>{if(z.charCodeAt(0)===91){if(!Y.Check(z=LS(z,X)))throw Y.Error(z);return Y.Decode(z)}if(z.indexOf(",")!==-1){if(!Y.Check(z))throw Y.Error(z);return Y.Decode(z)}if(W)return z;throw new _4("property",X,z)};return _1.Transform(_1.Union([_1.String({format:"ArrayString",default:Z?.default}),X])).Decode((z)=>{if(Array.isArray(z)){let W=[];for(let Q=0;Q<z.length;Q++){let G=z[Q];if(typeof G==="string"){let K=$(G,!0);if(Array.isArray(K))W=W.concat(K);else W.push(K);continue}W.push(G)}return W}if(typeof z==="string")return $(z);return z}).Encode((z)=>{let W;if(typeof z==="string")z=LS(W=z,X);if(!Y.Check(z))throw new _4("property",X,z);return W??JSON.stringify(z)})},File:lS("File",Ti),Files:(J={})=>_1.Transform(r94(J)).Decode((Z)=>{if(Array.isArray(Z))return Z;return[Z]}).Encode((Z)=>Z),Nullable:(J,Z)=>_1.Union([J,_1.Null()],Z),MaybeEmpty:(J,Z)=>_1.Union([J,_1.Null(),_1.Undefined()],Z),Cookie:(J,{domain:Z,expires:X,httpOnly:Y,maxAge:$,path:z,priority:W,sameSite:Q,secure:G,secrets:K,sign:q,...H}={})=>{let F=_1.Object(J,H);return F.config={domain:Z,expires:X,httpOnly:Y,maxAge:$,path:z,priority:W,sameSite:Q,secure:G,secrets:K,sign:q},F},UnionEnum:(J,Z={})=>{let X=J.every((Y)=>typeof Y==="string")?{type:"string"}:J.every((Y)=>typeof Y==="number")?{type:"number"}:J.every((Y)=>Y===null)?{type:"null"}:{};if(J.some((Y)=>typeof Y==="object"&&Y!==null))throw new Error("This type does not support objects or arrays");return{default:J[0],...Z,[$1]:"UnionEnum",...X,enum:J}},NoValidate:(J,Z=!0)=>{return J.noValidate=Z,J},Form:(J,Z={})=>{let X=_1.Object(J,{default:i94({}),...Z}),Y=jH(X);return _1.Union([X,t94({compiler:Y})])}};_1.BooleanString=b7.BooleanString;_1.ObjectString=b7.ObjectString;_1.ArrayString=b7.ArrayString;_1.Numeric=b7.Numeric;_1.Integer=b7.Integer;_1.File=(J)=>{if(J?.type)di();return b7.File({default:"File",...J,extension:J?.type,type:"string",format:"binary"})};_1.Files=(J)=>{if(J?.type)di();return b7.Files({...J,elysiaMeta:"Files",default:"Files",extension:J?.type,type:"array",items:{...J,default:"Files",type:"string",format:"binary"}})};_1.Nullable=(J)=>b7.Nullable(J);_1.MaybeEmpty=b7.MaybeEmpty;_1.Cookie=b7.Cookie;_1.Date=b7.Date;_1.UnionEnum=b7.UnionEnum;_1.NoValidate=b7.NoValidate;_1.Form=b7.Form;var e94=(J)=>{if(J.startsWith("async"))J=J.slice(5);J=J.trimStart();let Z=-1;if(J.charCodeAt(0)===40){if(Z=J.indexOf("=>",J.indexOf(")")),Z!==-1){let $=Z;while($>0)if(J.charCodeAt(--$)===41)break;let z=J.slice(Z+2);if(z.charCodeAt(0)===32)z=z.trimStart();return[J.slice(1,$),z,{isArrowReturn:z.charCodeAt(0)!==123}]}}if(/^(\w+)=>/g.test(J)){if(Z=J.indexOf("=>"),Z!==-1){let $=J.slice(Z+2);if($.charCodeAt(0)===32)$=$.trimStart();return[J.slice(0,Z),$,{isArrowReturn:$.charCodeAt(0)!==123}]}}if(J.startsWith("function")){Z=J.indexOf("(");let $=J.indexOf(")");return[J.slice(Z+1,$),J.slice($+2),{isArrowReturn:!1}]}let X=J.indexOf("(");if(X!==-1){let $=J.indexOf(`
`,2),z=J.slice(0,$),W=z.lastIndexOf(")")+1,Q=J.slice($+1);return[z.slice(X,W),"{"+Q,{isArrowReturn:!1}]}let Y=J.split(`
`,2);return[Y[0],Y[1],{isArrowReturn:!1}]},J74=(J)=>{let Z=J.indexOf("{");if(Z===-1)return[-1,0];let X=Z+1,Y=1;for(;X<J.length;X++){let $=J.charCodeAt(X);if($===123)Y++;else if($===125)Y--;if(Y===0)break}if(Y!==0)return[0,J.length];return[Z,X+1]},Z74=(J)=>{let Z=J.lastIndexOf("}");if(Z===-1)return[-1,0];let X=Z-1,Y=1;for(;X>=0;X--){let $=J.charCodeAt(X);if($===125)Y++;else if($===123)Y--;if(Y===0)break}if(Y!==0)return[-1,0];return[X,Z+1]},eM1=(J)=>{while(!0){let Z=J.indexOf(":");if(Z===-1)break;let X=J.indexOf(",",Z);if(X===-1)X=J.indexOf("}",Z)-1;if(X===-2)X=J.length;J=J.slice(0,Z)+J.slice(X)}return J},JN1=(J)=>{let Z=!1;if(J.charCodeAt(0)===40)J=J.slice(1,-1);if(J.charCodeAt(0)===123)Z=!0,J=J.slice(1,-1);J=J.replace(/( |\t|\n)/g,"").trim();let X=[];while(!0){let[$,z]=J74(J);if($===-1)break;if(X.push(J.slice(0,$-1)),J.charCodeAt(z)===44)z++;J=J.slice(z)}if(J=eM1(J),J)X=X.concat(J.split(","));let Y=Object.create(null);for(let $ of X){if($.indexOf(",")===-1){Y[$]=!0;continue}for(let z of $.split(","))Y[z.trim()]=!0}return{hasParenthesis:Z,parameters:Y}},X74=(J,Z)=>{let{parameters:X,hasParenthesis:Y}=JN1(J);if(X.query)Z.query=!0;if(X.headers)Z.headers=!0;if(X.body)Z.body=!0;if(X.cookie)Z.cookie=!0;if(X.set)Z.set=!0;if(X.server)Z.server=!0;if(X.route)Z.route=!0;if(X.url)Z.url=!0;if(X.path)Z.path=!0;if(Y)return`{ ${Object.keys(X).join(", ")} }`;return Object.keys(X).join(", ")},fM1=(J,Z,X)=>{let Y=new RegExp(`${J.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}[\\n\\t,; ]`);if(X!==void 0)Y.lastIndex=X;let $=Y.exec(Z);return $?$.index:-1},ZN1=(J,Z,X=0)=>{if(X>5)return[];let Y=[],$=Z;while(!0){let z=fM1(" = "+J,$);if(z===-1)z=fM1("="+J,$);if(z===-1){let K=$.indexOf(" = "+J);if(K===-1)K=$.indexOf("="+J);if(K+3+J.length!==$.length)break;z=K}let W=$.slice(0,z),Q=W.lastIndexOf(" "),G=W.slice(Q!==-1?Q+1:-1);if(G==="}"){let[K,q]=Z74(W);Y.push(eM1($.slice(K,q))),$=$.slice(z+3+J.length);continue}while(G.charCodeAt(0)===44)G=G.slice(1);while(G.charCodeAt(0)===9)G=G.slice(1);if(!G.includes("("))Y.push(G);$=$.slice(z+3+J.length)}for(let z of Y){if(z.charCodeAt(0)===123)continue;let W=ZN1(z,Z);if(W.length>0)Y.push(...W)}return Y},Y74=(J)=>{if(!J)return;if(J.charCodeAt(0)!==123)return J;if(J=J.slice(2,-2),!J.includes(",")){if(J.indexOf("...")!==-1)return J.slice(J.indexOf("...")+3);return}let Z=J.indexOf("...");if(Z===-1)return;return J.slice(Z+3).trimEnd()},$74=(J,Z,X)=>{let Y=($,z)=>new RegExp(`${z}\\.(${$})|${z}\\["${$}"\\]|${z}\\['${$}'\\]`).test(J);for(let $ of Z){if(!$)continue;if($.charCodeAt(0)===123){let z=JN1($).parameters;if(z.query)X.query=!0;if(z.headers)X.headers=!0;if(z.body)X.body=!0;if(z.cookie)X.cookie=!0;if(z.set)X.set=!0;if(z.server)X.server=!0;if(z.url)X.url=!0;if(z.route)X.route=!0;if(z.path)X.path=!0;continue}if(!X.query&&(Y("query",$)||J.includes("return "+$)||J.includes("return "+$+".query")))X.query=!0;if(!X.headers&&Y("headers",$))X.headers=!0;if(!X.body&&Y("body",$))X.body=!0;if(!X.cookie&&Y("cookie",$))X.cookie=!0;if(!X.set&&Y("set",$))X.set=!0;if(!X.server&&Y("server",$))X.server=!0;if(!X.route&&Y("route",$))X.route=!0;if(!X.url&&Y("url",$))X.url=!0;if(!X.path&&Y("path",$))X.path=!0;if(X.query&&X.headers&&X.body&&X.cookie&&X.set&&X.server&&X.route&&X.url&&X.path)break}return Z},z74=(J,Z,X)=>{try{let Y=new RegExp(`\\w\\((.*?)?${J}`,"gs");Y.test(Z);let $=Z.charCodeAt(Y.lastIndex);if($===41||$===44)return X.query=!0,X.headers=!0,X.body=!0,X.cookie=!0,X.set=!0,X.server=!0,X.url=!0,X.route=!0,X.path=!0,!0;return!1}catch(Y){return console.log("[Sucrose] warning: unexpected isContextPassToFunction error, you may continue development as usual but please report the following to maintainers:"),console.log("--- body ---"),console.log(Z),console.log("--- context ---"),console.log(J),!0}},CS,RS={},kM1=(J=0)=>{if(CS)clearTimeout(CS);CS=setTimeout(()=>{if(RS={},CS=void 0,UV)Bun.gc(!1)},J)},fi=(J,Z)=>{return{body:J.body||Z.body,cookie:J.cookie||Z.cookie,headers:J.headers||Z.headers,query:J.query||Z.query,set:J.set||Z.set,server:J.server||Z.server,url:J.url||Z.url,route:J.route||Z.route,path:J.path||Z.path}},yM=(J,Z={query:!1,headers:!1,body:!1,cookie:!1,set:!1,server:!1,url:!1,route:!1,path:!1})=>{let X=[];if(J.request?.length)X.push(...J.request);if(J.beforeHandle?.length)X.push(...J.beforeHandle);if(J.parse?.length)X.push(...J.parse);if(J.error?.length)X.push(...J.error);if(J.transform?.length)X.push(...J.transform);if(J.afterHandle?.length)X.push(...J.afterHandle);if(J.mapResponse?.length)X.push(...J.mapResponse);if(J.afterResponse?.length)X.push(...J.afterResponse);if(J.handler&&typeof J.handler==="function")X.push(J.handler);for(let Y=0;Y<X.length;Y++){let $=X[Y];if(!$)continue;let z=typeof $==="object"?$.fn:$;if(typeof z!=="function")continue;let W=z.toString(),Q=BV(W),G=RS[Q];if(G){Z=fi(Z,G);continue}let K={query:!1,headers:!1,body:!1,cookie:!1,set:!1,server:!1,url:!1,route:!1,path:!1},[q,H]=e94(W),F=X74(q,K),U=Y74(F);if(U){let D=ZN1(U,H.slice(1,-1));D.splice(0,-1,U);let V=H;if(V.charCodeAt(0)===123&&V.charCodeAt(H.length-1)===125)V=V.slice(1,-1);if(!z74(U,V,K))$74(V,D,K);if(!K.query&&V.includes("return "+U+".query"))K.query=!0}if(!RS[Q])RS[Q]=K;if(Z=fi(Z,K),Z.query&&Z.headers&&Z.body&&Z.cookie&&Z.set&&Z.server&&Z.url&&Z.route&&Z.path)break}return Z},XN1=uS(V94(),1),W74=uS(_i(),1);class GQ{name;jar;initial;constructor(J,Z,X={}){this.name=J,this.jar=Z,this.initial=X}get cookie(){return this.jar[this.name]??this.initial}set cookie(J){if(!(this.name in this.jar))this.jar[this.name]=this.initial;this.jar[this.name]=J}get setCookie(){if(!(this.name in this.jar))this.jar[this.name]=this.initial;return this.jar[this.name]}set setCookie(J){this.cookie=J}get value(){return this.cookie.value}set value(J){this.setCookie.value=J}get expires(){return this.cookie.expires}set expires(J){this.setCookie.expires=J}get maxAge(){return this.cookie.maxAge}set maxAge(J){this.setCookie.maxAge=J}get domain(){return this.cookie.domain}set domain(J){this.setCookie.domain=J}get path(){return this.cookie.path}set path(J){this.setCookie.path=J}get secure(){return this.cookie.secure}set secure(J){this.setCookie.secure=J}get httpOnly(){return this.cookie.httpOnly}set httpOnly(J){this.setCookie.httpOnly=J}get sameSite(){return this.cookie.sameSite}set sameSite(J){this.setCookie.sameSite=J}get priority(){return this.cookie.priority}set priority(J){this.setCookie.priority=J}get partitioned(){return this.cookie.partitioned}set partitioned(J){this.setCookie.partitioned=J}get secrets(){return this.cookie.secrets}set secrets(J){this.setCookie.secrets=J}update(J){return this.setCookie=Object.assign(this.cookie,typeof J==="function"?J(this.cookie):J),this}set(J){return this.setCookie=Object.assign({...this.initial,value:this.value},typeof J==="function"?J(this.cookie):J),this}remove(){if(this.value===void 0)return;return this.set({expires:new Date(0),maxAge:0,value:""}),this}toString(){return typeof this.value==="object"?JSON.stringify(this.value):this.value?.toString()??""}}var bM1=(J,Z,X)=>{if(!J.cookie)J.cookie={};return new Proxy(Z,{get(Y,$){if($ in Z)return new GQ($,J.cookie,Object.assign({},X??{},Z[$]));return new GQ($,J.cookie,Object.assign({},X))}})},YN1=async(J,Z,{secrets:X,sign:Y,...$}={})=>{if(!Z)return bM1(J,{},$);let z=typeof X==="string";if(Y&&Y!==!0&&!Array.isArray(Y))Y=[Y];let W={},Q=XN1.parse(Z);for(let[G,K]of Object.entries(Q)){if(K===void 0)continue;let q=W74.default(K);if(Y===!0||Y?.includes(G)){if(!X)throw new Error("No secret is provided to cookie plugin");if(z){let H=await PM1(q,X);if(H===!1)throw new Si(G);q=H}else{let H=!0;for(let F=0;F<X.length;F++){let U=await PM1(q,X[F]);if(U!==!1){H=!0,q=U;break}}if(!H)throw new Si(G)}}W[G]={value:q}}return bM1(J,W,$)},$N1=(J)=>{if(!J||!J8(J))return;let Z=[];for(let[X,Y]of Object.entries(J)){if(!X||!Y)continue;let $=Y.value;if($===void 0||$===null)continue;Z.push(XN1.serialize(X,typeof $==="object"?JSON.stringify($):$+"",Y))}if(Z.length===0)return;if(Z.length===1)return Z[0];return Z},q8=(J,Z)=>{if(!UV&&J instanceof Promise)return J.then((Y)=>q8(Y,Z));let X=J.size;if(!Z&&X||X&&Z&&Z.status!==206&&Z.status!==304&&Z.status!==412&&Z.status!==416){if(Z){if(Z.headers instanceof Headers){let Y={"accept-ranges":"bytes","content-range":`bytes 0-${X-1}/${X}`,"transfer-encoding":"chunked"};if(fS)Y=Z.headers.toJSON();else{Y={};for(let[$,z]of Z.headers.entries())if($ in Z.headers)Y[$]=z}return new Response(J,{status:Z.status,headers:Y})}if(J8(Z.headers))return new Response(J,{status:Z.status,headers:Object.assign({"accept-ranges":"bytes","content-range":`bytes 0-${X-1}/${X}`,"transfer-encoding":"chunked"},Z.headers)})}return new Response(J,{headers:{"accept-ranges":"bytes","content-range":`bytes 0-${X-1}/${X}`,"transfer-encoding":"chunked"}})}return new Response(J)},zN1=(J,Z)=>{if(!J)return J;J.delete("set-cookie");for(let X=0;X<Z.length;X++){let Y=Z[X].indexOf("=");J.append("set-cookie",`${Z[X].slice(0,Y)}=${Z[X].slice(Y+1)||""}`)}return J},yK=(J,Z)=>{if(Z?.headers){if(J){if(fS)Object.assign(Z.headers,J.headers.toJSON());else for(let[X,Y]of J.headers.entries())if(X in Z.headers)Z.headers[X]=Y}if(Z.status===200)Z.status=J.status;if(Z.headers["content-encoding"])delete Z.headers["content-encoding"];return Z}if(!J)return{headers:{},status:Z?.status??200};if(fS){if(Z={headers:J.headers.toJSON(),status:Z?.status??200},Z.headers["content-encoding"])delete Z.headers["content-encoding"];return Z}Z={headers:{},status:Z?.status??200};for(let[X,Y]of J.headers.entries()){if(X==="content-encoding")continue;if(X in Z.headers)Z.headers[X]=Y}return Z},ui=({mapResponse:J,mapCompactResponse:Z})=>async(X,Y,$)=>{let z=X.next();if(z instanceof Promise)z=await z;if(z.done){if(Y)return J(z.value,Y,$);return Z(z.value,$)}if(Y?.headers){if(!Y.headers["transfer-encoding"])Y.headers["transfer-encoding"]="chunked";if(!Y.headers["content-type"])Y.headers["content-type"]="text/event-stream; charset=utf-8"}else Y={status:200,headers:{"content-type":"text/event-stream; charset=utf-8","transfer-encoding":"chunked"}};return new Response(new ReadableStream({async start(W){let Q=!1;if($?.signal?.addEventListener("abort",()=>{Q=!0;try{W.close()}catch{}}),z.value!==void 0&&z.value!==null)if(typeof z.value==="object")try{W.enqueue(Buffer.from(JSON.stringify(z.value)))}catch{W.enqueue(Buffer.from(z.value.toString()))}else W.enqueue(Buffer.from(z.value.toString()));for await(let G of X){if(Q)break;if(G===void 0||G===null)continue;if(typeof G==="object")try{W.enqueue(Buffer.from(JSON.stringify(G)))}catch{W.enqueue(Buffer.from(G.toString()))}else W.enqueue(Buffer.from(G.toString()));await new Promise((K)=>setTimeout(()=>K(),0))}try{W.close()}catch{}}}),Y)};async function*vK(J){let Z=J.body;if(!Z)return;let X=Z.getReader(),Y=new TextDecoder;try{while(!0){let{done:$,value:z}=await X.read();if($)break;yield Y.decode(z)}}finally{X.releaseLock()}}var pS=(J)=>{if(typeof J.status==="string")J.status=mS[J.status];if(J.cookie&&J8(J.cookie)){let Z=$N1(J.cookie);if(Z)J.headers["set-cookie"]=Z}if(J.headers["set-cookie"]&&Array.isArray(J.headers["set-cookie"]))J.headers=zN1(new Headers(J.headers),J.headers["set-cookie"])},WN1=(J)=>{let Z=ui(J);return(X,Y,$)=>{let z=!1;if(Y.headers instanceof Headers)for(let Q of Y.headers.keys())if(Q==="set-cookie"){if(z)continue;z=!0;for(let G of Y.headers.getSetCookie())X.headers.append("set-cookie",G)}else X.headers.append(Q,Y.headers?.get(Q)??"");else for(let Q in Y.headers)X.headers.append(Q,Y.headers[Q]);let W=Y.status??200;if(X.status!==W&&W!==200&&(X.status<=300||X.status>400))return X.text().then((Q)=>{let G=new Response(Q,{headers:X.headers,status:Y.status});if(!G.headers.has("content-length")&&G.headers.get("transfer-encoding")==="chunked")return Z(vK(G),yK(G,Y),$);return G});if(!X.headers.has("content-length")&&X.headers.get("transfer-encoding")==="chunked")return Z(vK(X),yK(X,Y),$);return X}},f7=(J,Z,X)=>{if(J8(Z.headers)||Z.status!==200||Z.cookie)switch(pS(Z),J?.constructor?.name){case"String":return Z.headers["content-type"]="text/plain",new Response(J,Z);case"Array":case"Object":return Z.headers["content-type"]="application/json",new Response(JSON.stringify(J),Z);case"ElysiaFile":return q8(J.value);case"File":return q8(J,Z);case"Blob":return q8(J,Z);case"ElysiaCustomStatusResponse":return Z.status=J.code,f7(J.response,Z,X);case"ReadableStream":if(!Z.headers["content-type"]?.startsWith("text/event-stream"))Z.headers["content-type"]="text/event-stream; charset=utf-8";return X?.signal?.addEventListener("abort",{handleEvent(){if(X?.signal&&!X?.signal?.aborted)J.cancel()}},{once:!0}),new Response(J,Z);case void 0:if(!J)return new Response("",Z);return new Response(JSON.stringify(J),Z);case"Response":return vS(J,Z,X);case"Error":return kK(J,Z);case"Promise":return J.then((Y)=>f7(Y,Z,X));case"Function":return f7(J(),Z,X);case"Number":case"Boolean":return new Response(J.toString(),Z);case"Cookie":if(J instanceof GQ)return new Response(J.value,Z);return new Response(J?.toString(),Z);case"FormData":return new Response(J,Z);default:if(J instanceof Response)return vS(J,Z,X);if(J instanceof Promise)return J.then((Y)=>f7(Y,Z));if(J instanceof Error)return kK(J,Z);if(J instanceof $7)return Z.status=J.code,f7(J.response,Z,X);if(typeof J?.next==="function")return hK(J,Z,X);if(typeof J?.then==="function")return J.then((Y)=>f7(Y,Z));if(typeof J?.toResponse==="function")return f7(J.toResponse(),Z);if("charCodeAt"in J){let Y=J.charCodeAt(0);if(Y===123||Y===91){if(!Z.headers["Content-Type"])Z.headers["Content-Type"]="application/json";return new Response(JSON.stringify(J),Z)}}return new Response(J,Z)}if(J instanceof Response&&!J.headers.has("content-length")&&J.headers.get("transfer-encoding")==="chunked")return hK(vK(J),yK(J,Z),X);if(typeof J?.next==="function"||J instanceof ReadableStream)return hK(J,Z,X);return WQ(J,X)},S7=(J,Z,X)=>{if(J===void 0||J===null)return;if(J8(Z.headers)||Z.status!==200||Z.cookie)switch(pS(Z),J?.constructor?.name){case"String":return Z.headers["content-type"]="text/plain",new Response(J,Z);case"Array":case"Object":return Z.headers["content-type"]="application/json",new Response(JSON.stringify(J),Z);case"ElysiaFile":return q8(J.value);case"File":return q8(J,Z);case"Blob":return q8(J,Z);case"ElysiaCustomStatusResponse":return Z.status=J.code,S7(J.response,Z,X);case"ReadableStream":if(!Z.headers["content-type"]?.startsWith("text/event-stream"))Z.headers["content-type"]="text/event-stream; charset=utf-8";return X?.signal?.addEventListener("abort",{handleEvent(){if(X?.signal&&!X?.signal?.aborted)J.cancel()}},{once:!0}),new Response(J,Z);case void 0:if(!J)return;return new Response(JSON.stringify(J),Z);case"Response":return vS(J,Z,X);case"Promise":return J.then((Y)=>S7(Y,Z));case"Error":return kK(J,Z);case"Function":return S7(J(),Z);case"Number":case"Boolean":return new Response(J.toString(),Z);case"FormData":return new Response(J);case"Cookie":if(J instanceof GQ)return new Response(J.value,Z);return new Response(J?.toString(),Z);default:if(J instanceof Response)return vS(J,Z,X);if(J instanceof Promise)return J.then((Y)=>S7(Y,Z));if(J instanceof Error)return kK(J,Z);if(J instanceof $7)return Z.status=J.code,S7(J.response,Z,X);if(typeof J?.next==="function")return hK(J,Z,X);if(typeof J?.then==="function")return J.then((Y)=>S7(Y,Z));if(typeof J?.toResponse==="function")return S7(J.toResponse(),Z);if("charCodeAt"in J){let Y=J.charCodeAt(0);if(Y===123||Y===91){if(!Z.headers["Content-Type"])Z.headers["Content-Type"]="application/json";return new Response(JSON.stringify(J),Z)}}return new Response(J,Z)}else switch(J?.constructor?.name){case"String":return Z.headers["content-type"]="text/plain",new Response(J);case"Array":case"Object":return Z.headers["content-type"]="application/json",new Response(JSON.stringify(J),Z);case"ElysiaFile":return q8(J.value);case"File":return q8(J,Z);case"Blob":return q8(J,Z);case"ElysiaCustomStatusResponse":return Z.status=J.code,S7(J.response,Z,X);case"ReadableStream":return X?.signal?.addEventListener("abort",{handleEvent(){if(X?.signal&&!X?.signal?.aborted)J.cancel()}},{once:!0}),new Response(J,{headers:{"Content-Type":"text/event-stream; charset=utf-8"}});case void 0:if(!J)return new Response("");return new Response(JSON.stringify(J),{headers:{"content-type":"application/json"}});case"Response":if(!J.headers.has("content-length")&&J.headers.get("transfer-encoding")==="chunked")return hK(vK(J),yK(J),X);return J;case"Promise":return J.then((Y)=>{let $=S7(Y,Z);if($!==void 0)return $});case"Error":return kK(J,Z);case"Function":return WQ(J(),X);case"Number":case"Boolean":return new Response(J.toString());case"Cookie":if(J instanceof GQ)return new Response(J.value,Z);return new Response(J?.toString(),Z);case"FormData":return new Response(J);default:if(J instanceof Response)return J;if(J instanceof Promise)return J.then((Y)=>S7(Y,Z));if(J instanceof Error)return kK(J,Z);if(J instanceof $7)return Z.status=J.code,S7(J.response,Z,X);if(typeof J?.next==="function")return hK(J,Z,X);if(typeof J?.then==="function")return J.then((Y)=>S7(Y,Z));if(typeof J?.toResponse==="function")return S7(J.toResponse(),Z);if("charCodeAt"in J){let Y=J.charCodeAt(0);if(Y===123||Y===91){if(!Z.headers["Content-Type"])Z.headers["Content-Type"]="application/json";return new Response(JSON.stringify(J),Z)}}return new Response(J)}},WQ=(J,Z)=>{switch(J?.constructor?.name){case"String":return new Response(J,{headers:{"Content-Type":"text/plain"}});case"Object":case"Array":return new Response(JSON.stringify(J),{headers:{"Content-Type":"application/json"}});case"ElysiaFile":return q8(J.value);case"File":return q8(J);case"Blob":return q8(J);case"ElysiaCustomStatusResponse":return f7(J.response,{status:J.code,headers:{}});case"ReadableStream":return Z?.signal?.addEventListener("abort",{handleEvent(){if(Z?.signal&&!Z?.signal?.aborted)J.cancel()}},{once:!0}),new Response(J,{headers:{"Content-Type":"text/event-stream; charset=utf-8"}});case void 0:if(!J)return new Response("");return new Response(JSON.stringify(J),{headers:{"content-type":"application/json"}});case"Response":if(J.headers.get("transfer-encoding")==="chunked")return hK(vK(J),yK(J),Z);return J;case"Error":return kK(J);case"Promise":return J.then((X)=>WQ(X,Z));case"Function":return WQ(J(),Z);case"Number":case"Boolean":return new Response(J.toString());case"FormData":return new Response(J);default:if(J instanceof Response)return J;if(J instanceof Promise)return J.then((X)=>WQ(X,Z));if(J instanceof Error)return kK(J);if(J instanceof $7)return f7(J.response,{status:J.code,headers:{}});if(typeof J?.next==="function")return hK(J,void 0,Z);if(typeof J?.then==="function")return J.then((X)=>f7(X,set));if(typeof J?.toResponse==="function")return WQ(J.toResponse());if("charCodeAt"in J){let X=J.charCodeAt(0);if(X===123||X===91)return new Response(JSON.stringify(J),{headers:{"Content-Type":"application/json"}})}return new Response(J)}},kK=(J,Z)=>new Response(JSON.stringify({name:J?.name,message:J?.message,cause:J?.cause}),{status:Z?.status!==200?Z?.status??500:500,headers:Z?.headers}),Q74=(J,Z,X={})=>{if(typeof J==="function")return;let Y=f7(J,{headers:X});if(!Z.parse?.length&&!Z.transform?.length&&!Z.beforeHandle?.length&&!Z.afterHandle?.length)return Y.clone.bind(Y)},vS=WN1({mapResponse:f7,mapCompactResponse:WQ}),hK=ui({mapResponse:f7,mapCompactResponse:WQ}),ki={name:"web-standard",isWebStandard:!0,handler:{mapResponse:f7,mapEarlyResponse:S7,mapCompactResponse:WQ,createStaticHandler:Q74},composeHandler:{mapResponseContext:"c.request",preferWebstandardHeaders:!0,headers:`c.headers={}
for(const [k,v] of c.request.headers.entries())c.headers[k]=v
`,parser:{json(J){if(J)return`try{c.body=await c.request.json()}catch{}
`;return`c.body=await c.request.json()
`},text(){return`c.body=await c.request.text()
`},urlencoded(){return`c.body=parseQuery(await c.request.text())
`},arrayBuffer(){return`c.body=await c.request.arrayBuffer()
`},formData(J){let Z=`
c.body={}
`;if(J)Z+="let form;try{form=await c.request.formData()}catch{}";else Z+=`const form=await c.request.formData()
`;return Z+`for(const key of form.keys()){if(c.body[key]) continue
const value=form.getAll(key)
if(value.length===1)c.body[key]=value[0]
else c.body[key]=value}`}}},composeGeneralHandler:{parameters:"r",createContext(J){let Z="",X="",Y=J.setHeaders;for(let W of Object.keys(J.decorator))Z+=`,'${W}':decorator['${W}']`;let $=J.config.handler?.standardHostname??!0,z=!!J.event.trace?.length;if(X+=`const u=r.url,s=u.indexOf('/',${$?11:7}),qi=u.indexOf('?',s+1)
let p
if(qi===-1)p=u.substring(s)
else p=u.substring(s, qi)
`,z)X+=`const id=randomId()
`;if(X+="const c={request:r,store,qi,path:p,url:u,redirect,error:status,status,set:{headers:",X+=Object.keys(Y??{}).length?"Object.assign({},app.setHeaders)":"Object.create(null)",X+=",status:200}",J.inference.server)X+=",get server(){return app.getServer()}";if(z)X+=",[ELYSIA_REQUEST_ID]:id";return X+=Z,X+=`}
`,X},error404(J,Z){let X="if(route===null)return ";if(Z)X+=`app.handleError(c,notFound,false,${this.parameters})`;else X+=J?"new Response(error404Message,{status:c.set.status===200?404:c.set.status,headers:c.set.headers})":"error404.clone()";return{declare:Z?"":`const error404Message=notFound.message.toString()
const error404=new Response(error404Message,{status:404})
`,code:X}}},composeError:{mapResponseContext:"",validationError:"return new Response(error.message,{headers:Object.assign({'content-type':'application/json'},set.headers),status:set.status})",unknownError:"return new Response(error.message,{headers:set.headers,status:error.status??set.status??500})"},listen(){return()=>{throw new Error("WebStandard does not support listen, you might want to export default Elysia.fetch instead")}}},G74=uS(_i(),1),xS=uS(_i(),1);function K74(J,Z=0){let X=Object.create(null),Y=1,$=2,z=4,W=8,Q=0,G=Z-1,K=G,q=J.length;for(let F=Z;F<q;F++)switch(J.charCodeAt(F)){case 38:H(F),G=F,K=F,Q=0;break;case 61:if(K<=G)K=F;else Q|=8;break;case 43:if(K>G)Q|=4;else Q|=1;break;case 37:if(K>G)Q|=8;else Q|=2;break}return H(q),X;function H(F){let U=K>G,D=U?K:F;if(D<=G+1)return;let V=J.slice(G+1,D);if(Q&1)V=V.replace(/\+/g," ");if(Q&2)V=xS.default(V)||V;if(X[V]!==void 0)return;let w="";if(U){if(w=J.slice(K+1,F),Q&4)w=w.replace(/\+/g," ");if(Q&8)w=xS.default(w)||w}X[V]=w}}function ES(J){let Z=Object.create(null),X=0,Y=1,$=2,z=4,W=8,Q=J.length,G=-1,K=-1;for(let H=0;H<Q;H++)switch(J.charCodeAt(H)){case 38:q(J,H),G=H,K=H,X=0;break;case 61:if(K<=G)K=H;else X|=W;break;case 43:if(K>G)X|=z;else X|=Y;break;case 37:if(K>G)X|=W;else X|=$;break}if(G<Q)q(J,Q);return Z;function q(H,F){let U=K>G,D=U?K:F,V=H.slice(G+1,D);if(!U&&V.length===0)return;let w=V;if(X&Y)w=w.replace(/\+/g," ");if(X&$)w=xS.default(w)||w;let M="";if(U){let R=H.slice(K+1,F);if(X&z)R=R.replace(/\+/g," ");if(X&W)R=xS.default(R)||R;M=R}let P=Z[w];if(P===void 0)Z[w]=M;else if(Array.isArray(P))P.push(M);else Z[w]=[P,M]}}var nS=Symbol("ElysiaTrace"),YQ=()=>{let{promise:J,resolve:Z}=Promise.withResolvers(),{promise:X,resolve:Y}=Promise.withResolvers(),{promise:$,resolve:z}=Promise.withResolvers(),W=[],Q=[];return[(G)=>{if(G)W.push(G);return J},(G)=>{let K=[],q=[],H=null;for(let U=0;U<(G.total??0);U++){let{promise:D,resolve:V}=Promise.withResolvers(),{promise:w,resolve:M}=Promise.withResolvers(),{promise:P,resolve:R}=Promise.withResolvers(),f=[],d=[];K.push((v)=>{if(v)f.push(v);return D}),q.push((v)=>{let l={...v,end:w,error:P,index:U,onStop(o){if(o)d.push(o);return w}};V(l);for(let o=0;o<f.length;o++)f[o](l);return(o=null)=>{let S=performance.now();if(o)H=o;let i={end:S,error:o,get elapsed(){return S-v.begin}};for(let u=0;u<d.length;u++)d[u](i);M(S),R(o)}})}let F={...G,end:X,error:$,onEvent(U){for(let D=0;D<K.length;D++)K[D](U)},onStop(U){if(U)Q.push(U);return X}};Z(F);for(let U=0;U<W.length;U++)W[U](F);return{resolveChild:q,resolve(U=null){let D=performance.now();if(!U&&H)U=H;let V={end:D,error:U,get elapsed(){return D-G.begin}};for(let w=0;w<Q.length;w++)Q[w](V);Y(D),z(U)}}}]},q74=(J)=>{return(Z)=>{let[X,Y]=YQ(),[$,z]=YQ(),[W,Q]=YQ(),[G,K]=YQ(),[q,H]=YQ(),[F,U]=YQ(),[D,V]=YQ(),[w,M]=YQ(),[P,R]=YQ();return J({id:Z[vM],context:Z,set:Z.set,onRequest:X,onParse:$,onTransform:W,onBeforeHandle:G,onHandle:q,onAfterHandle:F,onMapResponse:w,onAfterResponse:P,onError:D,time:Date.now(),store:Z.store}),{request:Y,parse:z,transform:Q,beforeHandle:K,handle:H,afterHandle:U,error:V,mapResponse:M,afterResponse:R}}},k7=Symbol.for("TypeBox.Kind"),B74=Symbol.for("TypeBox.Hint"),QN1=(J)=>/(\ |-|\t|\n)/.test(J),GN1=(J,Z,X=!1)=>{if(typeof Z==="number")return`${J}[${Z}]`;if(QN1(Z))return`${J}${X?"?.":""}["${Z}"]`;return`${J}${X?"?":""}.${Z}`},H74=(J)=>QN1(J)?`"${J}"`:J,hM1=(J,Z=0,X)=>{if(X.type!=="string"||X.const||X.trusted)return J;let Y="";for(let $=Z-1;$>=0;$--)Y+=`d.h${$}(`;return Y+J+")".repeat(Z)},KN1=(J)=>{if(!J.allOf||k7 in J&&(J[k7]!=="Intersect"||J.type!=="object"))return J;let{allOf:Z,...X}=J;if(X.properties={},k7 in X)X[k7]="Object";for(let Y of Z){if(Y.type!=="object")continue;let{properties:$,required:z,type:W,[k7]:Q,...G}=Y;if(z)X.required=X.required?X.required.concat(z):z;Object.assign(X,G);for(let K in Y.properties)X.properties[K]=KN1(Y.properties[K])}return X},F74=(J,Z,X)=>{let Y=J.patternProperties["^(.*)$"]??J.patternProperties[Object.keys(J.patternProperties)[0]];if(!Y)return Z;let $=X.array;return X.array++,`(()=>{const ar${$}s=Object.keys(${Z}),ar${$}v={};for(let i=0;i<ar${$}s.length;i++){const ar${$}p=${Z}[ar${$}s[i]];ar${$}v[ar${$}s[i]]=${$Q(Y,`ar${$}p`,X)}}return ar${$}v})()`},U74=(J,Z,X)=>{let Y=X.array;X.array++;let $=Z==="v"&&!X.unions.length,z="";if(!$)z="(()=>{";z+=`const ar${Y}v=[`;for(let W=0;W<J.length;W++){if(W!==0)z+=",";z+=$Q(J[W],GN1(Z,W,X.parentIsOptional),X)}if(z+="];",!$)z+=`return ar${Y}v})()`;return z};function gS(J,Z=new WeakMap){if(J===null||typeof J!=="object"||typeof J==="function")return J;if(Z.has(J))return Z.get(J);if(Array.isArray(J)){let X=new Array(J.length);Z.set(J,X);for(let Y=0;Y<J.length;Y++)X[Y]=gS(J[Y],Z);return X}if(typeof J==="object"){let X=Object.keys(J).concat(Object.getOwnPropertySymbols(J)),Y={};for(let $ of X)Y[$]=gS(J[$],Z);return Y}return J}var O74=(J,Z,X)=>{if(X.TypeCompiler===void 0){if(!X.typeCompilerWanred)console.warn(new Error("[exact-mirror] TypeBox's TypeCompiler is required to use Union")),X.typeCompilerWanred=!0;return Z}X.unionKeys[Z]=1;let Y=X.unions.length,$=X.unions[Y]=[],z=`(()=>{
`,W=(Q)=>{if(!(k7 in Q)||!Q.$ref)return Q;if(Q[k7]==="This")return gS(X.definitions[Q.$ref]);else if(Q[k7]==="Ref")if(!X.modules)console.warn(new Error("[exact-mirror] modules is required when using nested cyclic reference"));else return X.modules.Import(Q.$ref);return Q};for(let Q=0;Q<J.length;Q++){let G=W(J[Q]);if(Array.isArray(G.anyOf))for(let K=0;K<G.anyOf.length;K++)G.anyOf[K]=W(G.anyOf[K]);else if(G.items)if(Array.isArray(G.items))for(let K=0;K<G.items.length;K++)G.items[K]=W(G.items[K]);else G.items=W(G.items);$.push(K$.Compile(G)),z+=`if(d.unions[${Y}][${Q}].Check(${Z})){return ${$Q(G,Z,{...X,recursion:X.recursion+1,parentIsOptional:!0})}}
`}return z+=`return ${X.removeUnknownUnionType?"undefined":Z}})()`,z},$Q=(J,Z,X)=>{if(!J)return"";let Y=Z==="v"&&!X.unions.length;if(k7 in J&&J[k7]==="Import"&&J.$ref in J.$defs)return $Q(J.$defs[J.$ref],Z,{...X,definitions:Object.assign(X.definitions,J.$defs)});if(Y&&J.type!=="object"&&J.type!=="array"&&!J.anyOf)return`return ${hM1("v",X.sanitize?.length,J)}`;if(X.recursion>=X.recursionLimit)return Z;let $="";if(J.$id&&B74 in J)X.definitions[J.$id]=J;switch(J.type){case"object":if(J[k7]==="Record"){$=F74(J,Z,X);break}if(J=KN1(J),$+="{",J.additionalProperties)$+=`...${Z}`;let z=Object.keys(J.properties);for(let K=0;K<z.length;K++){let q=z[K],H=J.required&&!J.required.includes(q)||Array.isArray(J.properties[q].anyOf),F=GN1(Z,q,X.parentIsOptional);if(H){let D=X.array;if(Z.startsWith("ar")){let V=F.slice(F.indexOf(".")+1),w=X.optionalsInArray;if(w[D])w[D].push(V);else w[D]=[V]}else X.optionals.push(F)}let U=J.properties[q];if(J.additionalProperties&&U.type!=="object")continue;if(K!==0)$+=",";$+=`${H74(q)}:${H?`${F}===undefined?undefined:`:""}${$Q(U,F,{...X,recursion:X.recursion+1,parentIsOptional:H})}`}$+="}";break;case"array":if(J.items.type!=="object"&&J.items.type!=="array")if(Array.isArray(J.items)){$=U74(J.items,Z,X);break}else if(Y)return"return v";else if(k7 in J.items&&J.items.$ref&&(J.items[k7]==="Ref"||J.items[k7]==="This"))$=$Q(gS(X.definitions[J.items.$ref]),Z,{...X,parentIsOptional:!0,recursion:X.recursion+1});else{$=Z;break}let W=X.array;X.array++;let Q=Z;if(Y)$=`const ar${W}v=new Array(${Z}.length);`;else Q=`ar${W}s`,$=`((${Q})=>{const ar${W}v=new Array(${Q}.length);`;$+=`for(let i=0;i<${Q}.length;i++){const ar${W}p=${Q}[i];ar${W}v[i]=${$Q(J.items,`ar${W}p`,X)}`;let G=X.optionalsInArray[W+1];if(G)for(let K=0;K<G.length;K++){let q=`ar${W}v[i].${G[K]}`;$+=`;if(${q}===undefined)delete ${q}`}if($+="}",!Y)$+=`return ar${W}v})(${Z})`;break;default:if(J.$ref&&J.$ref in X.definitions)return $Q(X.definitions[J.$ref],Z,X);if(Array.isArray(J.anyOf)){$=O74(J.anyOf,Z,X);break}$=hM1(Z,X.sanitize?.length,J);break}if(!Y)return $;if(J.type==="array")return`${$}return ar0v`;$=`const x=${$}
`;for(let z=0;z<X.optionals.length;z++){let W=X.optionals[z],Q=W.slice(1);if($+=`if(${W}===undefined`,X.unionKeys[W])$+=`||x${Q}===undefined`;$+=`)delete x${Q.charCodeAt(0)!==63?"?":""}${Q}
`}return`${$}return x`},_M1=(J,{TypeCompiler:Z,modules:X,definitions:Y,sanitize:$,recursionLimit:z=8,removeUnknownUnionType:W=!1}={})=>{let Q=[];if(typeof $==="function")$=[$];let G=$Q(J,"v",{optionals:[],optionalsInArray:[],array:0,parentIsOptional:!1,unions:Q,unionKeys:{},TypeCompiler:Z,modules:X,definitions:Y??X?.$defs??{},sanitize:$,recursion:0,recursionLimit:z,removeUnknownUnionType:W});if(!Q.length&&!$?.length)return Function("v",G);let K;if($?.length){K={};for(let q=0;q<$.length;q++)K[`h${q}`]=$[q]}return Function("d",`return function mirror(v){${G}}`)({unions:Q,...K})},bi=(J)=>{if(!J)return!1;if(J?.[$1]==="Import"&&J.References)return J.References().some(bi);if(J.schema)J=J.schema;return!!J&&t8 in J},q$=(J)=>{if(!J)return!1;let Z=J?.schema??J;if(Z[$1]==="Import"&&J.References)return J.References().some(q$);if(Z.anyOf)return Z.anyOf.some(q$);if(Z.someOf)return Z.someOf.some(q$);if(Z.allOf)return Z.allOf.some(q$);if(Z.not)return Z.not.some(q$);if(Z.type==="object"){let X=Z.properties;if("additionalProperties"in Z)return Z.additionalProperties;if("patternProperties"in Z)return!1;for(let Y of Object.keys(X)){let $=X[Y];if($.type==="object"){if(q$($))return!0}else if($.anyOf){for(let z=0;z<$.anyOf.length;z++)if(q$($.anyOf[z]))return!0}return $.additionalProperties}return!1}if(Z.type==="array"&&Z.items&&!Array.isArray(Z.items))return q$(Z.items);return!1},fK=(J,Z)=>{if(!Z)return!1;if($1 in Z&&Z[$1]===J)return!0;if(Z.type==="object"){let X=Z.properties;if(!X)return!1;for(let Y of Object.keys(X)){let $=X[Y];if($.type==="object"){if(fK(J,$))return!0}else if($.anyOf){for(let z=0;z<$.anyOf.length;z++)if(fK(J,$.anyOf[z]))return!0}if($1 in $&&$[$1]===J)return!0}return!1}return!!Z.properties&&$1 in Z.properties&&Z.properties[$1]===J},bM=(J,Z)=>{if(!Z)return;let X=Z.schema??Z;if(X[$1]==="Import"&&Z.References)return Z.References().some((Y)=>bM(J,Y));if(X.type==="object"){let Y=X.properties;if(!Y)return!1;for(let $ of Object.keys(Y)){let z=Y[$];if(J in z)return!0;if(z.type==="object"){if(bM(J,z))return!0}else if(z.anyOf){for(let W=0;W<z.anyOf.length;W++)if(bM(J,z.anyOf[W]))return!0}}return!1}return J in X},B$=(J)=>{if(!J)return!1;if(J.oneOf){for(let Z=0;Z<J.oneOf.length;Z++)if(B$(J.oneOf[Z]))return!0}if(J.anyOf){for(let Z=0;Z<J.anyOf.length;Z++)if(B$(J.anyOf[Z]))return!0}if(J.oneOf){for(let Z=0;Z<J.oneOf.length;Z++)if(B$(J.oneOf[Z]))return!0}if(J.allOf){for(let Z=0;Z<J.allOf.length;Z++)if(B$(J.allOf[Z]))return!0}if(J.not&&B$(J.not))return!0;if(J.type==="object"&&J.properties){let Z=J.properties;for(let X of Object.keys(Z)){let Y=Z[X];if(B$(Y))return!0;if(Y.type==="array"&&Y.items&&B$(Y.items))return!0}}if(J.type==="array"&&J.items&&B$(J.items))return!0;return J[$1]==="Ref"&&"$ref"in J},tX=(J)=>{if(!J)return!1;if(J.$ref&&J.$defs&&J.$ref in J.$defs&&tX(J.$defs[J.$ref]))return!0;if(J.oneOf){for(let Z=0;Z<J.oneOf.length;Z++)if(tX(J.oneOf[Z]))return!0}if(J.anyOf){for(let Z=0;Z<J.anyOf.length;Z++)if(tX(J.anyOf[Z]))return!0}if(J.allOf){for(let Z=0;Z<J.allOf.length;Z++)if(tX(J.allOf[Z]))return!0}if(J.not&&tX(J.not))return!0;if(J.type==="object"&&J.properties){let Z=J.properties;for(let X of Object.keys(Z)){let Y=Z[X];if(tX(Y))return!0;if(Y.type==="array"&&Y.items&&tX(Y.items))return!0}}if(J.type==="array"&&J.items&&tX(J.items))return!0;return h4 in J},yM1=(J,Z,X={})=>{let Y=X;if(Y.root=!0,!Array.isArray(Z))return Z.original=J,B9(J,Z,Y);for(let $ of Z)$.original=J,J=B9(J,$,Y);return J},B9=(J,Z,X)=>{if(!J)return J;let Y=X.root;if(Z.untilObjectFound&&!Y&&J.type==="object")return J;let $=Z.from[$1];if(J.oneOf){for(let Q=0;Q<J.oneOf.length;Q++)J.oneOf[Q]=B9(J.oneOf[Q],Z,X);return J}if(J.anyOf){for(let Q=0;Q<J.anyOf.length;Q++)J.anyOf[Q]=B9(J.anyOf[Q],Z,X);return J}if(J.allOf){for(let Q=0;Q<J.allOf.length;Q++)J.allOf[Q]=B9(J.allOf[Q],Z,X);return J}if(J.not)return B9(J.not,Z,X);let z=Y&&!!Z.excludeRoot;if(J[$1]===$){let{anyOf:Q,oneOf:G,allOf:K,not:q,properties:H,items:F,...U}=J,D=Z.to(U);if(!D)return J;let V,w=(P)=>{let R=M(P);if(R.$id)delete R.$id;return R},M=(P)=>{if(H&&P.type==="object"){let f={};for(let[d,v]of Object.entries(H))f[d]=B9(v,Z,{...X,root:!1});return{...U,...P,properties:f}}if(F&&P.type==="array")return{...U,...P,items:B9(F,Z,{...X,root:!1})};let R={...U,...P};if(delete R.required,H&&P.type==="string"&&P.format==="ObjectString"&&P.default==="{}")V=_1.ObjectString(H,U),R.default=JSON.stringify(U4.Create(_1.Object(H))),R.properties=H;if(F&&P.type==="string"&&P.format==="ArrayString"&&P.default==="[]")V=_1.ArrayString(F,U),R.default=JSON.stringify(U4.Create(_1.Array(F))),R.items=F;return R};if(z){if(H){let P={};for(let[R,f]of Object.entries(H))P[R]=B9(f,Z,{...X,root:!1});return{...U,properties:P}}else if(F?.map)return{...U,items:F.map((P)=>B9(P,Z,{...X,root:!1}))};return U}if(D.anyOf)for(let P=0;P<D.anyOf.length;P++)D.anyOf[P]=w(D.anyOf[P]);else if(D.oneOf)for(let P=0;P<D.oneOf.length;P++)D.oneOf[P]=w(D.oneOf[P]);else if(D.allOf)for(let P=0;P<D.allOf.length;P++)D.allOf[P]=w(D.allOf[P]);else if(D.not)D.not=w(D.not);if(V)D[h4]=V[h4];if(D.anyOf||D.oneOf||D.allOf||D.not)return D;if(H){let P={};for(let[R,f]of Object.entries(H))P[R]=B9(f,Z,{...X,root:!1});return{...U,...D,properties:P}}else if(F?.map)return{...U,...D,items:F.map((P)=>B9(P,Z,{...X,root:!1}))};return{...U,...D}}let W=J?.properties;if(W&&Y&&Z.rootOnly!==!0)for(let[Q,G]of Object.entries(W))switch(G[$1]){case $:let{anyOf:K,oneOf:q,allOf:H,not:F,type:U,...D}=G,V=Z.to(D);if(!V)return J;if(V.anyOf)for(let w=0;w<V.anyOf.length;w++)V.anyOf[w]={...D,...V.anyOf[w]};else if(V.oneOf)for(let w=0;w<V.oneOf.length;w++)V.oneOf[w]={...D,...V.oneOf[w]};else if(V.allOf)for(let w=0;w<V.allOf.length;w++)V.allOf[w]={...D,...V.allOf[w]};else if(V.not)V.not={...D,...V.not};W[Q]={...D,...B9(D,Z,{...X,root:!1})};break;case"Object":case"Union":W[Q]=B9(G,Z,{...X,root:!1});break;default:if(Array.isArray(G.items))for(let w=0;w<G.items.length;w++)G.items[w]=B9(G.items[w],Z,{...X,root:!1});else if(G.anyOf||G.oneOf||G.allOf||G.not)W[Q]=B9(G,Z,{...X,root:!1});else if(G.type==="array")G.items=B9(G.items,Z,{...X,root:!1});break}return J},RM=(J)=>(Z)=>{if(typeof Z==="object")try{return U4.Clean(J,Z)}catch{try{return U4.Clean(J,Z)}catch{return Z}}return Z},c5=(J,{models:Z={},dynamic:X=!1,modules:Y,normalize:$=!1,additionalProperties:z=!1,coerce:W=!1,additionalCoerce:Q=[],validators:G,sanitize:K}={})=>{if(G=G?.filter((V)=>V),!J){if(!G?.length)return;J=G[0],G=G.slice(1)}let q=void 0,H=(V)=>{if(W)return yM1(V,[{from:_1.Number(),to:(w)=>_1.Numeric(w),untilObjectFound:!0},{from:_1.Boolean(),to:(w)=>_1.BooleanString(w),untilObjectFound:!0},...Array.isArray(Q)?Q:[Q]]);return yM1(V,Q)},F=(V)=>{let w;if(!V)return;if(typeof V!=="string")w=V;else{let P=V.endsWith("[]"),R=P?V.substring(0,V.length-2):V;if(w=Y?.Import(R)??Z[R],P)w=_1.Array(w)}if(!w)return;let M;if(w[$1]!=="Import"&&(M=B$(w))){let P=cS();if(q===void 0)q=M;w=_1.Module({...Y?.$defs,[P]:w}).Import(P)}if(w[$1]==="Import"){let P={};for(let[f,d]of Object.entries(w.$defs))P[f]=H(d);let R=w.$ref;w=_1.Module(P).Import(R)}else if(W||Q)w=H(w);return w},U=F(J);if(G?.length){let V=!1,{schema:w,notObjects:M}=V74([U,...G.map(F)]);if(M){if(U=_1.Intersect([...w?[w]:[],...M.map((P)=>{let R=F(P);if(R.type==="object"&&"additionalProperties"in R){if(!V&&R.additionalProperties===!1)V=!0;delete R.additionalProperties}return R})]),U.type==="object"&&V)U.additionalProperties=!1}}else if(U.type==="object"&&"additionalProperties"in U===!1)U.additionalProperties=z;if(X){let V={schema:U,references:"",checkFunc:()=>{},code:"",Check:(w)=>U4.Check(U,w),Errors:(w)=>U4.Errors(U,w),Code:()=>"",Clean:RM(U),Decode:(w)=>U4.Decode(U,w),Encode:(w)=>U4.Encode(U,w),get hasAdditionalProperties(){if("~hasAdditionalProperties"in this)return this["~hasAdditionalProperties"];return this["~hasAdditionalProperties"]=q$(U)},get hasDefault(){if("~hasDefault"in this)return this["~hasDefault"];return this["~hasDefault"]=bM("default",U)},get isOptional(){if("~isOptional"in this)return this["~isOptional"];return this["~isOptional"]=bi(U)},get hasTransform(){if("~hasTransform"in this)return this["~hasTransform"];return this["~hasTransform"]=tX(U)},"~hasRef":q,get hasRef(){if("~hasRef"in this)return this["~hasRef"];return this["~hasRef"]=tX(U)}};if(U.config){if(V.config=U.config,V?.schema?.config)delete V.schema.config}if($&&U.additionalProperties===!1)if($===!0||$==="exactMirror")try{V.Clean=_M1(U,{TypeCompiler:K$,sanitize:K?.(),modules:Y})}catch{console.warn("Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues"),console.warn(U),V.Clean=RM(U)}else V.Clean=RM(U);return V.parse=(w)=>{try{return V.Decode(w)}catch(M){throw[...V.Errors(w)].map(eX)}},V.safeParse=(w)=>{try{return{success:!0,data:V.Decode(w),error:null}}catch(M){let P=[...D.Errors(w)].map(eX);return{success:!1,data:null,error:P[0]?.summary,errors:P}}},V}let D=K$.Compile(U,Object.values(Z));if(U.config){if(D.config=U.config,D?.schema?.config)delete D.schema.config}if($===!0||$==="exactMirror")try{D.Clean=_M1(U,{TypeCompiler:K$,sanitize:K?.(),modules:Y})}catch(V){console.warn("Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues"),console.warn(U),D.Clean=RM(U)}else D.Clean=RM(U);return D.parse=(V)=>{try{return D.Decode(V)}catch(w){throw[...D.Errors(V)].map(eX)}},D.safeParse=(V)=>{try{return{success:!0,data:D.Decode(V),error:null}}catch(w){let M=[...D.Errors(V)].map(eX);return{success:!1,data:null,error:M[0]?.summary,errors:M}}},Object.assign(D,{get hasAdditionalProperties(){if("~hasAdditionalProperties"in this)return this["~hasAdditionalProperties"];return this["~hasAdditionalProperties"]=q$(D)},get hasDefault(){if("~hasDefault"in this)return this["~hasDefault"];return this["~hasDefault"]=bM("default",D)},get isOptional(){if("~isOptional"in this)return this["~isOptional"];return this["~isOptional"]=bi(D)},get hasTransform(){if("~hasTransform"in this)return this["~hasTransform"];return this["~hasTransform"]=tX(U)},get hasRef(){if("~hasRef"in this)return this["~hasRef"];return this["~hasRef"]=B$(U)},"~hasRef":q}),D},D74=(J)=>J[$1]==="Union"||!J.schema&&!!J.anyOf,V74=(J)=>{if(J.length===0)return{schema:void 0,notObjects:[]};if(J.length===1)return J[0].type==="object"?{schema:J[0],notObjects:[]}:{schema:void 0,notObjects:J};let Z,X=[],Y=!1,$=!1;for(let z of J){if(z.type!=="object"){X.push(z);continue}if("additionalProperties"in z){if(z.additionalProperties===!0)Y=!0;else if(z.additionalProperties===!1)$=!0}if(!Z){Z=z;continue}Z={...Z,...z,properties:{...Z.properties,...z.properties},required:[...Z?.required??[],...z.required]}}if(Z){if(Z.required)Z.required=[...new Set(Z.required)];if($)Z.additionalProperties=!1;else if(Y)Z.additionalProperties=!0}return{schema:Z,notObjects:X}},vM1=(J,{models:Z={},modules:X,dynamic:Y=!1,normalize:$=!1,additionalProperties:z=!1,validators:W=[],sanitize:Q})=>{if(W=W.filter((q)=>q),!J){if(!W?.length)return;J=W[0],W=W.slice(1)}let G;if(typeof J!=="string")G=J;else{let q=J.endsWith("[]"),H=q?J.substring(0,J.length-2):J;if(G=X.Import(H)??Z[H],q)G=_1.Array(G)}if(!G)return;if($1 in G)return{200:c5(G,{modules:X,models:Z,additionalProperties:z,dynamic:Y,normalize:$,coerce:!1,additionalCoerce:[],validators:W.map((q)=>q[200]),sanitize:Q})};let K={};return Object.keys(G).forEach((q)=>{if(isNaN(+q))return;let H=G[+q];if(typeof H==="string"){if(H in Z){let F=Z[H];K[+q]=$1 in F?c5(F,{modules:X,models:Z,additionalProperties:z,dynamic:Y,normalize:$,coerce:!1,additionalCoerce:[],validators:W.map((U)=>U[+q]),sanitize:Q}):F}return}K[+q]=$1 in H?c5(H,{modules:X,models:Z,additionalProperties:z,dynamic:Y,normalize:$,coerce:!1,additionalCoerce:[],validators:W.map((F)=>F[+q]),sanitize:Q}):H}),K},Ni,RH=()=>{if(!Ni)Ni=[{from:_1.Object({}),to:()=>_1.ObjectString({}),excludeRoot:!0},{from:_1.Array(_1.Any()),to:()=>_1.ArrayString(_1.Any())}];return Ni},Pi,hi=()=>{if(!Pi)Pi=[{from:_1.Number(),to:(J)=>_1.Numeric(J),rootOnly:!0},{from:_1.Boolean(),to:(J)=>_1.BooleanString(J),rootOnly:!0}];return Pi},qN1=({validator:J,modules:Z,defaultConfig:X={},config:Y,dynamic:$,models:z,validators:W,sanitize:Q})=>{let G=c5(J,{modules:Z,dynamic:$,models:z,additionalProperties:!0,coerce:!0,additionalCoerce:RH(),validators:W,sanitize:Q});if(G)G.config=oM1(G.config,Y);else G=c5(_1.Cookie(_1.Any()),{modules:Z,dynamic:$,models:z,additionalProperties:!0,validators:W,sanitize:Q}),G.config=X;return G},x8=(J,Z)=>Z?J:"",I74=["json","text","urlencoded","arrayBuffer","formdata","application/json","text/plain","application/x-www-form-urlencoded","application/octet-stream","multipart/form-data"],mi=({context:J="c",trace:Z=[],addFn:X})=>{if(!Z.length)return()=>{return{resolveChild(){return()=>{}},resolve(){}}};for(let Y=0;Y<Z.length;Y++)X(`let report${Y},reportChild${Y},reportErr${Y},reportErrChild${Y};let trace${Y}=${J}[ELYSIA_TRACE]?.[${Y}]??trace[${Y}](${J});
`);return(Y,{name:$,total:z=0}={})=>{if(!$)$="anonymous";let W=Y==="error"?"reportErr":"report";for(let Q=0;Q<Z.length;Q++)X(`${W}${Q} = trace${Q}.${Y}({id,event:'${Y}',name:'${$}',begin:performance.now(),total:${z}})
`);return{resolve(){for(let Q=0;Q<Z.length;Q++)X(`${W}${Q}.resolve()
`)},resolveChild(Q){for(let G=0;G<Z.length;G++)X(`${W}Child${G}=${W}${G}.resolveChild?.shift()?.({id,event:'${Y}',name:'${Q}',begin:performance.now()})
`);return(G)=>{for(let K=0;K<Z.length;K++)if(G)X(`if(${G} instanceof Error){${W}Child${K}?.(${G}) }else{${W}Child${K}?.()}`);else X(`${W}Child${K}?.()
`)}}}}},TM=({schema:J,name:Z,type:X,typeAlias:Y=X,normalize:$,ignoreTryCatch:z=!1})=>{if(!$||!J.Clean||J.hasAdditionalProperties)return"";if($===!0||$==="exactMirror"){if(z)return`${Z}=validator.${Y}.Clean(${Z})
`;return`try{${Z}=validator.${Y}.Clean(${Z})
}catch{}`}if($==="typebox")return`${Z}=validator.${Y}.Clean(${Z})
`;return""},w74=({injectResponse:J="",normalize:Z=!1,validator:X,encodeSchema:Y=!1,isStaticResponse:$=!1,hasSanitize:z=!1})=>({validate:(W,Q=`c.${W}`)=>`c.set.status=422;throw new ValidationError('${W}',validator.${W},${Q})`,response:(W="r")=>{if($)return"";let Q=J+`
`;Q+=`if(${W} instanceof ElysiaCustomStatusResponse){c.set.status=${W}.code
${W}=${W}.response}switch(c.set.status){`;for(let[G,K]of Object.entries(X.response)){Q+=`
case ${G}:if(${W} instanceof Response)break
`;let q=K.schema?.noValidate===!0,H=q||z,F=({ignoreTryCatch:D=!1}={})=>TM({name:W,schema:K,type:"response",typeAlias:`response[${G}]`,normalize:Z,ignoreTryCatch:D});if(H)Q+=F();let U=!H&&Z&&!q;if(Y&&K.hasTransform)Q+=`try{${W}=validator.response[${G}].Encode(${W})
c.set.status=${G}}catch{`+(U?`try{
`+F({ignoreTryCatch:!0})+`${W}=validator.response[${G}].Encode(${W})
}catch{throw new ValidationError('response',validator.response[${G}],${W})}`:`throw new ValidationError('response',validator.response[${G}],${W})`)+"}";else{if(!H)Q+=F();if(!q)Q+=`if(validator.response[${G}].Check(${W})===false)throw new ValidationError('response',validator.response[${G}],${W})
c.set.status=${G}
`}Q+=`break
`}return Q+"}"}}),HV=(J)=>{return(J?.fn??J).constructor.name==="AsyncFunction"},A74=/=>\s?response\.clone\(/,M74=/(?:return|=>)\s?\S+\(|a(?:sync|wait)/,B5=(J)=>{let Z=typeof J==="object";if(Z&&J.isAsync!==void 0)return J.isAsync;let X=Z?J.fn:J;if(X.constructor.name==="AsyncFunction")return!0;let Y=X.toString();if(A74.test(Y)){if(Z)J.isAsync=!1;return!1}let $=M74.test(Y);if(Z)J.isAsync=$;return $},hM=(J)=>{let Z=typeof J==="object";if(Z&&J.hasReturn!==void 0)return J.hasReturn;let X=Z?J.fn.toString():typeof J==="string"?J.toString():J,Y=X.indexOf(")");if(X.charCodeAt(Y+2)===61&&X.charCodeAt(Y+5)!==123){if(Z)J.hasReturn=!0;return!0}let $=X.includes("return");if(Z)J.hasReturn=$;return $},jS=(J)=>{let Z=J?.fn??J;return Z.constructor.name==="AsyncGeneratorFunction"||Z.constructor.name==="GeneratorFunction"},N74=({app:J,path:Z,method:X,hooks:Y,validator:$,handler:z,allowMeta:W=!1,inference:Q})=>{let G=J["~adapter"].composeHandler,K=J["~adapter"].handler,q=typeof z==="function";if(!q){if(z=K.mapResponse(z,{headers:J.setHeaders??{}}),Y.parse?.length&&Y.transform?.length&&Y.beforeHandle?.length&&Y.afterHandle?.length){if(z instanceof Response)return Function("a",`"use strict";
return function(){return a.clone()}`)(z);return Function("a",`"use strict";
return function(){return a}`)(z)}}let H=q?"handler(c)":"handler",F=!!Y.afterResponse?.length,U=!!Y.trace?.length,D="";if(Q=yM(Y,Q),Q=yM({handler:z},Q),G.declare){let k=G.declare(Q);if(k)D+=k}if(Q.server)D+=`Object.defineProperty(c,'server',{get:function(){return getServer()}})
`;$.createBody?.(),$.createQuery?.(),$.createHeaders?.(),$.createParams?.(),$.createCookie?.(),$.createResponse?.();let V=!!$.body||!!$.headers||!!$.params||!!$.query||!!$.cookie||!!$.response,w=Q.query||!!$.query,M=Y.parse?.length===1&&Y.parse[0].fn==="none",P=X!==""&&X!=="GET"&&X!=="HEAD"&&(Q.body||!!$.body||!!Y.parse?.length)&&!M,R=J.setHeaders,f=R&&!!Object.keys(R).length,d=Q.headers||!!$.headers||G.preferWebstandardHeaders!==!0&&Q.body,v=Q.cookie||!!$.cookie,l=$.cookie?.config?oM1($?.cookie?.config,J.config.cookie):J.config.cookie,o="",S=()=>{if(o)return o;if(l?.sign){if(!l.secrets)throw new Error(`t.Cookie required secret which is not set in (${X}) ${Z}.`);let k=!l.secrets?void 0:typeof l.secrets==="string"?l.secrets:l.secrets[0];if(o+=`const _setCookie = c.set.cookie
if(_setCookie){`,l.sign===!0)o+=`for(const [key, cookie] of Object.entries(_setCookie)){c.set.cookie[key].value=await signCookie(cookie.value,'${k}')}`;else for(let b of l.sign)o+=`if(_setCookie['${b}']?.value)c.set.cookie['${b}'].value=await signCookie(_setCookie['${b}'].value,'${k}')
`;o+=`}
`}return o},i=J.config.normalize,u=J.config.encodeSchema,G1=w74({normalize:i,validator:$,encodeSchema:u,isStaticResponse:z instanceof Response,hasSanitize:!!J.config.sanitize});if(d)D+=G.headers;if(U)D+=`const id=c[ELYSIA_REQUEST_ID]
`;let e=mi({trace:Y.trace,addFn:(k)=>{D+=k}});if(D+="try{",v){let k=(A,j)=>{let L=l?.[A]??j;if(!L)return typeof j==="string"?`${A}:"${j}",`:`${A}:${j},`;if(typeof L==="string")return`${A}:'${L}',`;if(L instanceof Date)return`${A}: new Date(${L.getTime()}),`;return`${A}:${L},`},b=l?`{secrets:${l.secrets!==void 0?typeof l.secrets==="string"?`'${l.secrets}'`:"["+l.secrets.reduce((A,j)=>A+`'${j}',`,"")+"]":"undefined"},sign:${l.sign===!0?!0:l.sign!==void 0?"["+l.sign.reduce((A,j)=>A+`'${j}',`,"")+"]":"undefined"},`+k("domain")+k("expires")+k("httpOnly")+k("maxAge")+k("path","/")+k("priority")+k("sameSite")+k("secure")+"}":"undefined";if(d)D+=`
c.cookie=await parseCookie(c.set,c.headers.cookie,${b})
`;else D+=`
c.cookie=await parseCookie(c.set,c.request.headers.get('cookie'),${b})
`}if(w){let k=[];if($.query&&$.query.schema.type==="object"){let b=$.query.schema.properties;if(!$.query.hasAdditionalProperties)for(let[A,j]of Object.entries(b)){let L=j,h=L.type==="array"||!!L.anyOf?.some((c)=>c.type==="string"&&c.format==="ArrayString");if(L&&t8 in L&&L.type==="array"&&L.items)L=L.items;let{type:x,anyOf:y}=L;k.push({key:A,isArray:h,isNestedObjectArray:h&&L.items?.type==="object"||!!L.items?.anyOf?.some((c)=>c.type==="object"||c.type==="array"),isObject:x==="object"||y?.some((c)=>c.type==="string"&&c.format==="ArrayString"),anyOf:!!y})}}if(!k.length)D+="if(c.qi===-1){c.query={}}else{c.query=parseQueryFromURL(c.url,c.qi+1)}";else{D+=`if(c.qi!==-1){let url='&'+c.url.slice(c.qi+1)
`;let b=0;for(let{key:A,isArray:j,isObject:L,isNestedObjectArray:h,anyOf:x}of k){let y=(b===0?"let ":"")+`memory=url.indexOf('&${A}=')
let a${b}
`;if(j)if(D+=y,h)D+=`while(memory!==-1){const start=memory+${A.length+2}
memory=url.indexOf('&',start)
if(a${b}===undefined)
a${b}=''
else
a${b}+=','
let temp
if(memory===-1)temp=decodeURIComponent(url.slice(start).replace(/\\+/g,' '))
else temp=decodeURIComponent(url.slice(start, memory).replace(/\\+/g,' '))
const charCode=temp.charCodeAt(0)
if(charCode!==91&&charCode !== 123)
temp='"'+temp+'"'
a${b}+=temp
if(memory===-1)break
memory=url.indexOf('&${A}=',memory)
if(memory===-1)break}try{if(a${b}.charCodeAt(0)===91)a${b} = JSON.parse(a${b})
else
a${b}=JSON.parse('['+a${b}+']')}catch{}
`;else D+=`while(memory!==-1){const start=memory+${A.length+2}
memory=url.indexOf('&',start)
if(a${b}===undefined)a${b}=[]
if(memory===-1){const temp=decodeURIComponent(url.slice(start)).replace(/\\+/g,' ')
if(temp.includes(',')){a${b}=a${b}.concat(temp.split(','))}else{a${b}.push(decodeURIComponent(url.slice(start)).replace(/\\+/g,' '))}
break}else{const temp=decodeURIComponent(url.slice(start, memory)).replace(/\\+/g,' ')
if(temp.includes(',')){a${b}=a${b}.concat(temp.split(','))}else{a${b}.push(temp)}
}memory=url.indexOf('&${A}=',memory)
if(memory===-1) break
}`;else if(L)D+=y+`if(memory!==-1){const start=memory+${A.length+2}
memory=url.indexOf('&',start)
if(memory===-1)a${b}=decodeURIComponent(url.slice(start).replace(/\\+/g,' '))else a${b}=decodeURIComponent(url.slice(start,memory).replace(/\\+/g,' '))if(a${b}!==undefined)try{a${b}=JSON.parse(a${b})}catch{}}`;else{if(D+=y+`if(memory!==-1){const start=memory+${A.length+2}
memory=url.indexOf('&',start)
if(memory===-1)a${b}=decodeURIComponent(url.slice(start).replace(/\\+/g,' '))
else{a${b}=decodeURIComponent(url.slice(start,memory).replace(/\\+/g,' '))`,x)D+=`
let deepMemory=url.indexOf('&${A}=',memory)
if(deepMemory!==-1){a${b}=[a${b}]
let first=true
while(true){const start=deepMemory+${A.length+2}
if(first)first=false
else deepMemory = url.indexOf('&', start)
let value
if(deepMemory===-1)value=url.slice(start).replace(/\\+/g,' ')
else value=url.slice(start, deepMemory).replace(/\\+/g,' ')
value=decodeURIComponent(value)
if(value===null){if(deepMemory===-1){break}else{continue}}
const vStart=value.charCodeAt(0)
const vEnd=value.charCodeAt(value.length - 1)
if((vStart===91&&vEnd===93)||(vStart===123&&vEnd===125))
try{a${b}.push(JSON.parse(value))}catch{a${b}.push(value)}if(deepMemory===-1)break}}`;D+="}}"}b++,D+=`
`}D+="c.query={"+k.map(({key:A},j)=>`'${A}':a${j}`).join(",")+"}",D+=`} else c.query = {}
`}}let _=typeof z==="function"&&B5(z),Z1=U||Y.afterResponse?.length?"c.response= ":"",V1=v||P||_||!!Y.parse?.length||!!Y.afterHandle?.some(B5)||!!Y.beforeHandle?.some(B5)||!!Y.transform?.some(B5)||!!Y.mapResponse?.some(B5),N1=(typeof z==="function"?jS(z):!1)||!!Y.beforeHandle?.some(jS)||!!Y.afterHandle?.some(jS)||!!Y.transform?.some(jS),m1=Object.keys($.response??{}),h1=m1.length>1,X0=m1.length===0||m1.length===1&&m1[0]==="200",z0=Q.cookie||Q.set||d||U||h1||!X0||q&&f||N1,Y1=(k="r")=>`return ${z0?"mapResponse":"mapCompactResponse"}(${Z1}${k}${z0?",c.set":""}${a})
`,a=N1||G.mapResponseContext?`,${G.mapResponseContext}`:"";if(U||Q.route)D+=`c.route=\`${Z}\`
`;let w1=e("parse",{total:Y.parse?.length});if(P){let k=!!Y.parse?.length||Q.body||$.body;if(G.parser.declare)D+=G.parser.declare;D+=`
try{`;let b=typeof Y.parse==="string"?Y.parse:Array.isArray(Y.parse)&&Y.parse.length===1?typeof Y.parse[0]==="string"?Y.parse[0]:typeof Y.parse[0].fn==="string"?Y.parse[0].fn:void 0:void 0;if(!b&&$.body&&!Y.parse?.length){let A=$.body.schema;if(A&&A.anyOf&&A[$1]==="Union"&&A.anyOf?.length===2&&A.anyOf?.find((j)=>j[$1]==="ElysiaForm"))b="formdata"}if(b&&I74.includes(b)){let A=e("parse",{total:Y.parse?.length}),j=!!$.body?.isOptional;switch(b){case"json":case"application/json":D+=G.parser.json(j);break;case"text":case"text/plain":D+=G.parser.text(j);break;case"urlencoded":case"application/x-www-form-urlencoded":D+=G.parser.urlencoded(j);break;case"arrayBuffer":case"application/octet-stream":D+=G.parser.arrayBuffer(j);break;case"formdata":case"multipart/form-data":D+=G.parser.formData(j);break;default:if(b[0]in J["~parser"])D+=d?"let contentType = c.headers['content-type']":"let contentType = c.request.headers.get('content-type')",D+=`
if(contentType){const index=contentType.indexOf(';')
if(index!==-1)contentType=contentType.substring(0,index)}
else{contentType=''}c.contentType=contentType
let result=parser['${b}'](c, contentType)
if(result instanceof Promise)result=await result
if(result instanceof ElysiaCustomStatusResponse)throw result
if(result!==undefined)c.body=result
delete c.contentType
`;break}A.resolve()}else if(k){D+=`
`;let A=Y.parse?.length?"let":"const";D+=d?`${A} contentType=c.headers['content-type']
`:`${A} contentType=c.request.headers.get('content-type')
`;let j=!1;if(Y.parse?.length)D+=`if(contentType){
const index=contentType.indexOf(';')

if(index!==-1)contentType=contentType.substring(0,index)}else{contentType=''}let used=false
c.contentType=contentType
`;else{j=!0;let h=!!$.body?.isOptional;D+=`if(contentType)switch(contentType.charCodeAt(12)){
case 106:`+G.parser.json(h)+`break
case 120:`+G.parser.urlencoded(h)+`break
case 111:`+G.parser.arrayBuffer(h)+`break
case 114:`+G.parser.formData(h)+`break
default:if(contentType.charCodeAt(0)===116){`+G.parser.text(h)+`}break
}`}let L=e("parse",{total:Y.parse?.length});if(Y.parse)for(let h=0;h<Y.parse.length;h++){let x=`bo${h}`;if(h!==0)D+=`
if(!used){`;if(typeof Y.parse[h].fn==="string"){let y=L.resolveChild(Y.parse[h].fn),c=!!$.body?.isOptional;switch(Y.parse[h].fn){case"json":case"application/json":j=!0,D+=G.parser.json(c);break;case"text":case"text/plain":j=!0,D+=G.parser.text(c);break;case"urlencoded":case"application/x-www-form-urlencoded":j=!0,D+=G.parser.urlencoded(c);break;case"arrayBuffer":case"application/octet-stream":j=!0,D+=G.parser.arrayBuffer(c);break;case"formdata":case"multipart/form-data":j=!0,D+=G.parser.formData(c);break;default:D+=`let ${x}=parser['${Y.parse[h].fn}'](c,contentType)
if(${x} instanceof Promise)${x}=await ${x}
if(${x}!==undefined){c.body=${x};used=true;}
`}y()}else{let y=L.resolveChild(Y.parse[h].fn.name);D+=`let ${x}=e.parse[${h}]
${x}=${x}(c,contentType)
if(${x} instanceof Promise)${x}=await ${x}
if(${x}!==undefined){c.body=${x};used=true}`,y()}if(h!==0)D+="}";if(j)break}if(L.resolve(),!j){let h=!!$.body?.isOptional;if(Y.parse?.length)D+=`
if(!used){
if(!contentType) throw new ParseError()
`;D+="switch(contentType){",D+=`case 'application/json':
`+G.parser.json(h)+`break
case 'text/plain':`+G.parser.text(h)+`break
case 'application/x-www-form-urlencoded':`+G.parser.urlencoded(h)+`break
case 'application/octet-stream':`+G.parser.arrayBuffer(h)+`break
case 'multipart/form-data':`+G.parser.formData(h)+`break
`;for(let x of Object.keys(J["~parser"]))D+=`case '${x}':let bo${x}=parser['${x}'](c,contentType)
if(bo${x} instanceof Promise)bo${x}=await bo${x}
if(bo${x} instanceof ElysiaCustomStatusResponse)throw result
if(bo${x}!==undefined)c.body=bo${x}
break
`;if(Y.parse?.length)D+="}";D+="}"}if(Y.parse?.length)D+=`
delete c.contentType`}D+="}catch(error){throw new ParseError(error)}"}if(w1.resolve(),Y?.transform){let k=e("transform",{total:Y.transform.length});if(Y.transform.length)D+=`let transformed
`;for(let b=0;b<Y.transform.length;b++){let A=Y.transform[b],j=k.resolveChild(A.fn.name);if(D+=B5(A)?`transformed=await e.transform[${b}](c)
`:`transformed=e.transform[${b}](c)
`,A.subType==="mapDerive")D+=`if(transformed instanceof ElysiaCustomStatusResponse)throw transformed
else{transformed.request=c.request
transformed.store=c.store
transformed.qi=c.qi
transformed.path=c.path
transformed.url=c.url
transformed.redirect=c.redirect
transformed.set=c.set
transformed.error=c.error
c=transformed}`;else D+=`if(transformed instanceof ElysiaCustomStatusResponse)throw transformed
else Object.assign(c,transformed)
`;j()}k.resolve()}let I1=[];if($){if($.headers){if($.headers.hasDefault)for(let[k,b]of Object.entries(U4.Default($.headers.schema,{}))){let A=typeof b==="object"?JSON.stringify(b):typeof b==="string"?`'${b}'`:b;if(A!==void 0)D+=`c.headers['${k}']??=${A}
`}if(D+=TM({name:"c.headers",schema:$.headers,type:"headers",normalize:i}),$.headers.isOptional)D+="if(isNotEmpty(c.headers)){";if($.body?.schema?.noValidate!==!0)D+="if(validator.headers.Check(c.headers) === false){"+G1.validate("headers")+"}";if($.headers.hasTransform)D+=`c.headers=validator.headers.Decode(c.headers)
`;if($.headers.isOptional)D+="}"}if($.params){if($.params.hasDefault)for(let[k,b]of Object.entries(U4.Default($.params.schema,{}))){let A=typeof b==="object"?JSON.stringify(b):typeof b==="string"?`'${b}'`:b;if(A!==void 0)D+=`c.params['${k}']??=${A}
`}if($.params?.schema?.noValidate!==!0)D+="if(validator.params.Check(c.params)===false){"+G1.validate("params")+"}";if($.params.hasTransform)D+=`c.params=validator.params.Decode(c.params)
`}if($.query){if($.query.hasDefault)for(let[k,b]of Object.entries(U4.Default($.query.schema,{}))){let A=typeof b==="object"?JSON.stringify(b):typeof b==="string"?`'${b}'`:b;if(A!==void 0)D+=`if(c.query['${k}']===undefined)c.query['${k}']=${A}
`;D+=TM({name:"c.query",schema:$.query,type:"query",normalize:i})}if($.query.isOptional)D+="if(isNotEmpty(c.query)){";if($.query?.schema?.noValidate!==!0)D+="if(validator.query.Check(c.query)===false){"+G1.validate("query")+"}";if($.query.hasTransform)D+=`c.query=validator.query.Decode(Object.assign({},c.query))
`;if($.query.isOptional)D+="}"}if(P&&$.body){if($.body.hasTransform||$.body.isOptional)D+=`const isNotEmptyObject=c.body&&(typeof c.body==="object"&&isNotEmpty(c.body))
`;let k=D74($.body.schema),b=!1;if($.body.hasDefault){let A=U4.Default($.body.schema,$.body.schema.type==="object"||$.body.schema[$1]==="Import"&&$.body.schema.$defs[$.body.schema.$ref][$1]==="Object"?{}:void 0);if(!k&&A&&typeof A==="object"&&(fK("File",$.body.schema)||fK("Files",$.body.schema))){b=!0;for(let[L,h]of Object.entries(A))if(h==="File"||h==="Files")delete A[L];if(!J8(A))A=void 0}let j=typeof A==="object"?JSON.stringify(A):typeof A==="string"?`'${A}'`:A;if(A!==void 0&&A!==null)if(Array.isArray(A))D+=`if(!c.body)c.body=${j}
`;else if(typeof A==="object")D+=`c.body=Object.assign(${j},c.body)
`;else D+=`c.body=${j}
`;if(D+=TM({name:"c.body",schema:$.body,type:"body",normalize:i}),$.body?.schema?.noValidate!==!0)if($.body.isOptional)D+="if(isNotEmptyObject&&validator.body.Check(c.body)===false){"+G1.validate("body")+"}";else D+="if(validator.body.Check(c.body)===false){"+G1.validate("body")+"}"}else if(D+=TM({name:"c.body",schema:$.body,type:"body",normalize:i}),$.body?.schema?.noValidate!==!0)if($.body.isOptional)D+="if(isNotEmptyObject&&validator.body.Check(c.body)===false){"+G1.validate("body")+"}";else D+="if(validator.body.Check(c.body)===false){"+G1.validate("body")+"}";if($.body.hasTransform)D+=`if(isNotEmptyObject)c.body=validator.body.Decode(c.body)
`;if(k&&$.body.schema.anyOf?.length){let A=Object.values($.body.schema.anyOf);for(let j=0;j<A.length;j++){let L=A[j];if(fK("File",L)||fK("Files",L)){let h=c5(L,{modules:J.definitions.typebox,dynamic:!J.config.aot,models:J.definitions.type,normalize:J.config.normalize,additionalCoerce:hi(),sanitize:()=>J.config.sanitize});if(h){let x=I1.length===0,y=Object.entries(L.properties),c=x?`
`:" else ";c+=`if(fileUnions[${I1.length}].Check(c.body)){`;let t="",X1=0;for(let B1=0;B1<y.length;B1++){let[y1,c1]=y[B1];if(!c1.extension||c1[$1]!=="File"&&c1[$1]!=="Files")continue;if(X1)t+=",";t+=`validateFileExtension(c.body.${y1},${JSON.stringify(c1.extension)},'body.${y1}')`,X1++}if(t){if(X1===1)c+=`await ${t}
`;else if(X1>1)c+=`await Promise.all([${t}])
`;c+="}",D+=c,I1.push(h)}}}}}else if(b||!k&&(fK("File",$.body.schema)||fK("Files",$.body.schema))){let A="",j=0;for(let[L,h]of Object.entries($.body.schema.properties)){if(!h.extension||h[$1]!=="File"&&h[$1]!=="Files")continue;if(j)A+=",";A+=`validateFileExtension(c.body.${L},${JSON.stringify(h.extension)},'body.${L}')`,j++}if(j)D+=`
`;if(j===1)D+=`await ${A}
`;else if(j>1)D+=`await Promise.all([${A}])
`}}if($.cookie){let k=qN1({modules:J.definitions.typebox,validator:$.cookie,defaultConfig:J.config.cookie,dynamic:!!J.config.aot,config:$.cookie?.config??{},models:J.definitions.type});if(D+=`const cookieValue={}
for(const [key,value] of Object.entries(c.cookie))cookieValue[key]=value.value
`,k.hasDefault)for(let[b,A]of Object.entries(U4.Default(k.schema,{})))D+=`cookieValue['${b}'] = ${typeof A==="object"?JSON.stringify(A):A}
`;if(k.isOptional)D+="if(isNotEmpty(c.cookie)){";if($.body?.schema?.noValidate!==!0)D+="if(validator.cookie.Check(cookieValue)===false){"+G1.validate("cookie","cookieValue")+"}";if(k.hasTransform)D+=`for(const [key,value] of Object.entries(validator.cookie.Decode(cookieValue)))c.cookie[key].value=value
`;if(k.isOptional)D+="}"}}if(Y?.beforeHandle){let k=e("beforeHandle",{total:Y.beforeHandle.length}),b=!1;for(let A=0;A<Y.beforeHandle.length;A++){let j=Y.beforeHandle[A],L=k.resolveChild(j.fn.name),h=hM(j);if(j.subType==="resolve"||j.subType==="mapResolve"){if(!b)b=!0,D+=`
let resolved
`;if(D+=B5(j)?`resolved=await e.beforeHandle[${A}](c);
`:`resolved=e.beforeHandle[${A}](c);
`,j.subType==="mapResolve")D+=`if(resolved instanceof ElysiaCustomStatusResponse)throw resolved
else{resolved.request=c.request
resolved.store=c.store
resolved.qi=c.qi
resolved.path=c.path
resolved.url=c.url
resolved.redirect=c.redirect
resolved.set=c.set
resolved.error=c.error
c=resolved}`;else D+=`if(resolved instanceof ElysiaCustomStatusResponse)throw resolved
else Object.assign(c, resolved)
`}else if(!h)D+=B5(j)?`await e.beforeHandle[${A}](c)
`:`e.beforeHandle[${A}](c)
`,L();else{if(D+=B5(j)?`be=await e.beforeHandle[${A}](c)
`:`be=e.beforeHandle[${A}](c)
`,L("be"),D+="if(be!==undefined){",k.resolve(),Y.afterHandle?.length){e("handle",{name:q?z.name:void 0}).resolve();let y=e("afterHandle",{total:Y.afterHandle.length});for(let c=0;c<Y.afterHandle.length;c++){let t=Y.afterHandle[c],X1=hM(t),B1=y.resolveChild(t.fn.name);if(D+=`c.response = be
`,!X1)D+=B5(t.fn)?`await e.afterHandle[${c}](c, be)
`:`e.afterHandle[${c}](c, be)
`;else D+=B5(t.fn)?`af=await e.afterHandle[${c}](c)
`:`af=e.afterHandle[${c}](c)
`,D+=`if(af!==undefined) c.response=be=af
`;B1("af")}y.resolve()}if($.response)D+=G1.response("be");let x=e("mapResponse",{total:Y.mapResponse?.length});if(Y.mapResponse?.length){D+=`c.response=be
`;for(let y=0;y<Y.mapResponse.length;y++){let c=Y.mapResponse[y],t=x.resolveChild(c.fn.name);D+=`if(mr===undefined){mr=${HV(c)?"await ":""}e.mapResponse[${y}](c)
if(mr!==undefined)be=c.response=mr}`,t()}}x.resolve(),D+=S(),D+=`return mapEarlyResponse(${Z1}be,c.set${a})}
`}}k.resolve()}if(Y.afterHandle?.length){let k=e("handle",{name:q?z.name:void 0});if(Y.afterHandle.length)D+=_?`let r=c.response=await ${H}
`:`let r=c.response=${H}
`;else D+=_?`let r=await ${H}
`:`let r=${H}
`;k.resolve();let b=e("afterHandle",{total:Y.afterHandle.length});for(let j=0;j<Y.afterHandle.length;j++){let L=Y.afterHandle[j],h=hM(L),x=b.resolveChild(L.fn.name);if(!h)D+=B5(L.fn)?`await e.afterHandle[${j}](c)
`:`e.afterHandle[${j}](c)
`,x();else if(D+=B5(L.fn)?`af=await e.afterHandle[${j}](c)
`:`af=e.afterHandle[${j}](c)
`,x("af"),$.response)D+="if(af!==undefined){",b.resolve(),D+=G1.response("af"),D+="c.response=af}";else D+="if(af!==undefined){",b.resolve(),D+="c.response=af}"}if(b.resolve(),D+=`r=c.response
`,$.response)D+=G1.response();D+=S();let A=e("mapResponse",{total:Y.mapResponse?.length});if(Y.mapResponse?.length)for(let j=0;j<Y.mapResponse.length;j++){let L=Y.mapResponse[j],h=A.resolveChild(L.fn.name);D+=`mr=${HV(L)?"await ":""}e.mapResponse[${j}](c)
if(mr!==undefined)r=c.response=mr
`,h()}A.resolve(),D+=Y1()}else{let k=e("handle",{name:q?z.name:void 0});if($.response||Y.mapResponse?.length){if(D+=_?`let r=await ${H}
`:`let r=${H}
`,k.resolve(),$.response)D+=G1.response();e("afterHandle").resolve();let b=e("mapResponse",{total:Y.mapResponse?.length});if(Y.mapResponse?.length){D+=`
c.response=r
`;for(let A=0;A<Y.mapResponse.length;A++){let j=Y.mapResponse[A],L=b.resolveChild(j.fn.name);D+=`
if(mr===undefined){mr=${HV(j)?"await ":""}e.mapResponse[${A}](c)
if(mr!==undefined)r=c.response=mr}
`,L()}}if(b.resolve(),D+=S(),z instanceof Response)D+=Q.set?`if(isNotEmpty(c.set.headers)||c.set.status!==200||c.set.redirect||c.set.cookie)return mapResponse(${Z1}${H}.clone(),c.set${a})else return ${H}.clone()`:`return ${H}.clone()`,D+=`
`;else D+=Y1()}else if(v||U){D+=_?`let r=await ${H}
`:`let r=${H}
`,k.resolve(),e("afterHandle").resolve();let b=e("mapResponse",{total:Y.mapResponse?.length});if(Y.mapResponse?.length){D+=`c.response= r
`;for(let A=0;A<Y.mapResponse.length;A++){let j=Y.mapResponse[A],L=b.resolveChild(j.fn.name);D+=`if(mr===undefined){mr=${HV(j)?"await ":""}e.mapResponse[${A}](c)
if(mr!==undefined)r=c.response=mr}`,L()}}b.resolve(),D+=S()+Y1()}else{k.resolve();let b=_?`await ${H}`:H;if(e("afterHandle").resolve(),z instanceof Response)D+=Q.set?`if(isNotEmpty(c.set.headers)||c.set.status!==200||c.set.redirect||c.set.cookie)return mapResponse(${Z1}${H}.clone(),c.set${a})
else return ${H}.clone()
`:`return ${H}.clone()
`;else D+=Y1(b)}}if(D+=`
}catch(error){`,!V1&&Y.error?.length)D+="return(async()=>{";if(D+=`const set=c.set
if(!set.status||set.status<300)set.status=error?.status||500
`,v)D+=S();if(U&&Y.trace)for(let k=0;k<Y.trace.length;k++)D+=`report${k}?.resolve(error);reportChild${k}?.(error)
`;let r1=e("error",{total:Y.error?.length});if(Y.error?.length){if(D+=`c.error=error
`,V)D+=`if(error instanceof TypeBoxError){c.code="VALIDATION"
c.set.status=422}else{c.code=error.code??error[ERROR_CODE]??"UNKNOWN"}`;else D+=`c.code=error.code??error[ERROR_CODE]??"UNKNOWN"
`;D+=`let er
`;for(let k=0;k<Y.error.length;k++){let b=r1.resolveChild(Y.error[k].fn.name);if(B5(Y.error[k]))D+=`er=await e.error[${k}](c)
`;else D+=`er=e.error[${k}](c)
if(er instanceof Promise)er=await er
`;b();let A=e("mapResponse",{total:Y.mapResponse?.length});if(Y.mapResponse?.length)for(let j=0;j<Y.mapResponse.length;j++){let L=Y.mapResponse[j],h=A.resolveChild(L.fn.name);D+=`c.response=er
er=e.mapResponse[${j}](c)
if(er instanceof Promise)er=await er
`,h()}if(A.resolve(),D+=`er=mapEarlyResponse(er,set${a})
`,D+="if(er){",U&&Y.trace){for(let j=0;j<Y.trace.length;j++)D+=`report${j}.resolve()
`;r1.resolve()}D+="return er}"}}if(r1.resolve(),D+="return handleError(c,error,true)",!V1&&Y.error?.length)D+="})()";if(D+="}",F||U){if(D+="finally{ ",!V1)D+=";(async()=>{";let k=e("afterResponse",{total:Y.afterResponse?.length});if(F&&Y.afterResponse)for(let b=0;b<Y.afterResponse.length;b++){let A=k.resolveChild(Y.afterResponse[b].fn.name);D+=`
await e.afterResponse[${b}](c)
`,A()}if(k.resolve(),!V1)D+="})()";D+="}"}let Y0=G.inject?Object.keys(G.inject).join(",")+",":"",H0="const {handler,handleError,hooks:e, "+x8("validator,",V)+"mapResponse,mapCompactResponse,mapEarlyResponse,isNotEmpty,utils:{"+x8("parseQuery,",P)+x8("parseQueryFromURL,",w)+"},error:{"+x8("ValidationError,",V)+x8("ParseError",P)+"},validateFileExtension,schema,definitions,ERROR_CODE,"+x8("parseCookie,",v)+x8("signCookie,",v)+x8("decodeURIComponent,",w)+"ElysiaCustomStatusResponse,"+x8("ELYSIA_TRACE,",U)+x8("ELYSIA_REQUEST_ID,",U)+x8("parser,",Y.parse?.length)+x8("getServer,",Q.server)+x8("fileUnions,",I1.length)+Y0+x8("TypeBoxError",V)+`}=hooks
const trace=e.trace
return ${V1?"async ":""}function handle(c){`;if(Y.beforeHandle?.length)H0+=`let be
`;if(Y.afterHandle?.length)H0+=`let af
`;if(Y.mapResponse?.length)H0+=`let mr
`;if(W)H0+=`c.schema=schema
c.defs=definitions
`;D=H0+D+"}",H0="";try{return Function("hooks",`"use strict";
`+D)({handler:z,hooks:CM1({...Y}),validator:V?$:void 0,handleError:J.handleError,mapResponse:K.mapResponse,mapCompactResponse:K.mapCompactResponse,mapEarlyResponse:K.mapEarlyResponse,isNotEmpty:J8,utils:{parseQuery:P?ES:void 0,parseQueryFromURL:w?K74:void 0},error:{ValidationError:V?_4:void 0,ParseError:P?tM1:void 0},validateFileExtension:a94,schema:J.router.history,definitions:J.definitions.type,ERROR_CODE:bS,parseCookie:v?YN1:void 0,signCookie:v?kS:void 0,decodeURIComponent:w?G74.default:void 0,ElysiaCustomStatusResponse:$7,ELYSIA_TRACE:U?nS:void 0,ELYSIA_REQUEST_ID:U?vM:void 0,getServer:()=>J.getServer(),fileUnions:I1.length?I1:void 0,TypeBoxError:V?D0:void 0,parser:J["~parser"],...G.inject})}catch(k){let b=CM1(Y);console.log("[Composer] failed to generate optimized handler"),console.log("---"),console.log({handler:typeof z==="function"?z.toString():z,instruction:D,hooks:{...b,transform:b?.transform?.map?.((A)=>A.toString()),resolve:b?.resolve?.map?.((A)=>A.toString()),beforeHandle:b?.beforeHandle?.map?.((A)=>A.toString()),afterHandle:b?.afterHandle?.map?.((A)=>A.toString()),mapResponse:b?.mapResponse?.map?.((A)=>A.toString()),parse:b?.parse?.map?.((A)=>A.toString()),error:b?.error?.map?.((A)=>A.toString()),afterResponse:b?.afterResponse?.map?.((A)=>A.toString()),stop:b?.stop?.map?.((A)=>A.toString())},validator:$,definitions:J.definitions.type,error:k}),console.log("---"),process.exit(1)}},BN1=(J,Z)=>{let X="",Y=mi({trace:J.event.trace,addFn:Z??(($)=>{X+=$})})("request",{total:J.event.request?.length});if(J.event.request?.length){X+="try{";for(let $=0;$<J.event.request.length;$++){let z=J.event.request[$],W=hM(z),Q=B5(z),G=Y.resolveChild(J.event.request[$].fn.name);if(W)X+=`re=mapEarlyResponse(${Q?"await ":""}onRequest[${$}](c),c.set)
`,G("re"),X+=`if(re!==undefined)return re
`;else X+=`${Q?"await ":""}onRequest[${$}](c)
`,G()}X+="}catch(error){return app.handleError(c,error,false)}"}return Y.resolve(),X},HN1=(J,Z="map")=>{let X=J.extender.higherOrderFunctions;if(!X.length)return"return "+Z;let Y=J["~adapter"].composeGeneralHandler,$=Z;for(let z=0;z<X.length;z++)$=`hoc[${z}](${$},${Y.parameters})`;return`return function hocMap(${Y.parameters}){return ${$}(${Y.parameters})}`},Li=(J)=>{let Z=J["~adapter"].composeGeneralHandler;J.router.http.build();let X=Z.error404(!!J.event.request?.length,!!J.event.error?.length),Y=J.event.trace?.length,$="",z=J.router,W=z.http.root.WS?`const route=router.find(r.method === "GET" && r.headers.get('upgrade')==='websocket'?'WS':r.method,p)`:"const route=router.find(r.method,p)";W+=z.http.root.ALL?`??router.find("ALL",p)
`:`
`,W+=X.code,W+=`
c.params=route.params
if(route.store.handler)return route.store.handler(c)
return route.store.compile()(c)
`;let Q="";for(let[H,F]of Object.entries(z.static)){if(Q+=`case'${H}':`,J.config.strictPath!==!0)Q+=`case'${EM(H)}':`;let U=SM(H);if(H!==U)Q+=`case'${U}':`;if(Q+="switch(r.method){","GET"in F||"WS"in F){if(Q+="case 'GET':","WS"in F)Q+=`if(r.headers.get('upgrade')==='websocket')return ht[${F.WS}].composed(c)
`;if("GET"in F)Q+=`return ht[${F.GET}].composed(c)
`}for(let[D,V]of Object.entries(F)){if(D==="ALL"||D==="GET"||D==="WS")continue;Q+=`case '${D}':return ht[${V}].composed(c)
`}if("ALL"in F)Q+=`default:return ht[${F.ALL}].composed(c)
`;else Q+=`default:break map
`;Q+="}"}let G=!!J.event.request?.some(B5),K=Z.inject?Object.keys(Z.inject).join(",")+",":"";if($+=`
const {app,mapEarlyResponse,NotFoundError,randomId,handleError,status,redirect,`+x8("ELYSIA_TRACE,",Y)+x8("ELYSIA_REQUEST_ID,",Y)+K+`}=data
const store=app.singleton.store
const decorator=app.singleton.decorator
const staticRouter=app.router.static.http
const ht=app.router.history
const router=app.router.http
const trace=app.event.trace?.map(x=>typeof x==='function'?x:x.fn)??[]
const notFound=new NotFoundError()
const hoc=app.extender.higherOrderFunctions.map(x=>x.fn)
`,J.event.request?.length)$+=`const onRequest=app.event.request.map(x=>x.fn)
`;if($+=X.declare,J.event.trace?.length)$+="const "+J.event.trace.map((H,F)=>`tr${F}=app.event.trace[${F}].fn`).join(",")+`
`;if($+=`${G?"async ":""}function map(${Z.parameters}){`,J.event.request?.length)$+=`let re
`;if($+=Z.createContext(J),J.event.trace?.length)$+="c[ELYSIA_TRACE]=["+J.event.trace.map((H,F)=>`tr${F}(c)`).join(",")+`]
`;if($+=BN1(J),Q)$+=`
map: switch(p){
`+Q+"}";$+=W+`}
`+HN1(J),J.handleError=FN1(J);let q=Function("data",`"use strict";
`+$)({app:J,mapEarlyResponse:J["~adapter"].handler.mapEarlyResponse,NotFoundError:gi,randomId:cS,handleError:J.handleError,status:hS,redirect:xi,ELYSIA_TRACE:Y?nS:void 0,ELYSIA_REQUEST_ID:Y?vM:void 0,...Z.inject});if(UV)Bun.gc(!1);return q},FN1=(J)=>{let Z=J.event,X="",Y=J["~adapter"].composeError,$=Y.inject?Object.keys(Y.inject).join(",")+",":"",z=!!J.event.trace?.length;if(X+="const {mapResponse,ERROR_CODE,ElysiaCustomStatusResponse,"+x8("onError,",J.event.error)+x8("afterResponse,",J.event.afterResponse)+x8("trace,",J.event.trace)+x8("onMapResponse,",J.event.mapResponse)+x8("ELYSIA_TRACE,",z)+x8("ELYSIA_REQUEST_ID,",z)+$+`}=inject
`,X+=`return ${J.event.error?.find(B5)||J.event.mapResponse?.find(B5)?"async ":""}function(context,error,skipGlobal){`,X+="",z)X+=`const id=context[ELYSIA_REQUEST_ID]
`;let W=mi({context:"context",trace:Z.trace,addFn:(q)=>{X+=q}});if(X+=`const set=context.set
let _r
if(!context.code)context.code=error.code??error[ERROR_CODE]
if(!(context.error instanceof Error))context.error=error
if(error instanceof ElysiaCustomStatusResponse){set.status=error.status=error.code
error.message=error.response}`,Y.declare)X+=Y.declare;let Q=z||!!Z.afterResponse?.length||!!Z.afterResponse?.length?"context.response = ":"";if(J.event.error)for(let q=0;q<J.event.error.length;q++){let H=J.event.error[q],F=`${B5(H)?"await ":""}onError[${q}](context)
`;if(X+="if(skipGlobal!==true){",hM(H)){X+=`_r=${F}
if(_r!==undefined){if(_r instanceof Response)return mapResponse(_r,set${Y.mapResponseContext})
if(_r instanceof ElysiaCustomStatusResponse){error.status=error.code
error.message = error.response}if(set.status===200||!set.status)set.status=error.status
`;let U=W("mapResponse",{total:Z.mapResponse?.length,name:"context"});if(Z.mapResponse?.length)for(let D=0;D<Z.mapResponse.length;D++){let V=Z.mapResponse[D],w=U.resolveChild(V.fn.name);X+=`context.response=_r_r=${HV(V)?"await ":""}onMapResponse[${D}](context)
`,w()}U.resolve(),X+=`return mapResponse(${Q}_r,set${Y.mapResponseContext})}`}else X+=F;X+="}"}X+=`if(error.constructor.name==="ValidationError"||error.constructor.name==="TransformDecodeError"){
if(error.error)error=error.error
set.status=error.status??422
`+Y.validationError+`
}
`,X+=`if(error instanceof Error){
if(typeof error.toResponse==='function')return context.response=error.toResponse()
`+Y.unknownError+`
}`;let G=W("mapResponse",{total:Z.mapResponse?.length,name:"context"});if(X+=`
if(!context.response)context.response=error.message??error
`,Z.mapResponse?.length){X+=`let mr
`;for(let q=0;q<Z.mapResponse.length;q++){let H=Z.mapResponse[q],F=G.resolveChild(H.fn.name);X+=`if(mr===undefined){mr=${HV(H)?"await ":""}onMapResponse[${q}](context)
if(mr!==undefined)error=context.response=mr}`,F()}}G.resolve(),X+=`
return mapResponse(${Q}error,set${Y.mapResponseContext})}`;let K=(q)=>typeof q==="function"?q:q.fn;return Function("inject",`"use strict";
`+X)({mapResponse:J["~adapter"].handler.mapResponse,ERROR_CODE:bS,ElysiaCustomStatusResponse:$7,onError:J.event.error?.map(K),afterResponse:J.event.afterResponse?.map(K),trace:J.event.trace?.map(K),onMapResponse:J.event.mapResponse?.map(K),ELYSIA_TRACE:z?nS:void 0,ELYSIA_REQUEST_ID:z?vM:void 0,...Y.inject})},Y7=(J,Z,X)=>{if(J8(Z.headers)||Z.status!==200||Z.cookie)switch(pS(Z),J?.constructor?.name){case"String":return new Response(J,Z);case"Array":case"Object":return Z.headers["content-type"]="application/json",new Response(JSON.stringify(J),Z);case"ElysiaFile":return q8(J.value);case"File":return q8(J,Z);case"Blob":return q8(J,Z);case"ElysiaCustomStatusResponse":return Z.status=J.code,Y7(J.response,Z,X);case"ReadableStream":if(!Z.headers["content-type"]?.startsWith("text/event-stream"))Z.headers["content-type"]="text/event-stream; charset=utf-8";return X?.signal?.addEventListener("abort",{handleEvent(){if(X?.signal&&!X?.signal?.aborted)J.cancel()}},{once:!0}),new Response(J,Z);case void 0:if(!J)return new Response("",Z);return new Response(JSON.stringify(J),Z);case"Response":return dS(J,Z,X);case"Error":return bK(J,Z);case"Promise":return J.then((Y)=>Y7(Y,Z,X));case"Function":return Y7(J(),Z,X);case"Number":case"Boolean":return new Response(J.toString(),Z);case"Cookie":if(J instanceof GQ)return new Response(J.value,Z);return new Response(J?.toString(),Z);case"FormData":return new Response(J,Z);default:if(J instanceof Response)return dS(J,Z,X);if(J instanceof Promise)return J.then((Y)=>Y7(Y,Z));if(J instanceof Error)return bK(J,Z);if(J instanceof $7)return Z.status=J.code,Y7(J.response,Z,X);if(typeof J?.next==="function")return _K(J,Z,X);if(typeof J?.then==="function")return J.then((Y)=>Y7(Y,Z));if(typeof J?.toResponse==="function")return Y7(J.toResponse(),Z);if("charCodeAt"in J){let Y=J.charCodeAt(0);if(Y===123||Y===91){if(!Z.headers["Content-Type"])Z.headers["Content-Type"]="application/json";return new Response(JSON.stringify(J),Z)}}return new Response(J,Z)}if(J instanceof Response&&!J.headers.has("content-length")&&J.headers.get("transfer-encoding")==="chunked")return _K(vK(J),yK(J,Z),X);if(typeof J?.next==="function"||J instanceof ReadableStream)return _K(J,Z,X);return QQ(J,X)},Z7=(J,Z,X)=>{if(J===void 0||J===null)return;if(J8(Z.headers)||Z.status!==200||Z.cookie)switch(pS(Z),J?.constructor?.name){case"String":return new Response(J,Z);case"Array":case"Object":return Z.headers["content-type"]="application/json",new Response(JSON.stringify(J),Z);case"ElysiaFile":return q8(J.value);case"File":return q8(J,Z);case"Blob":return q8(J,Z);case"ElysiaCustomStatusResponse":return Z.status=J.code,Z7(J.response,Z,X);case"ReadableStream":if(!Z.headers["content-type"]?.startsWith("text/event-stream"))Z.headers["content-type"]="text/event-stream; charset=utf-8";return X?.signal?.addEventListener("abort",{handleEvent(){if(X?.signal&&!X?.signal?.aborted)J.cancel()}},{once:!0}),new Response(J,Z);case void 0:if(!J)return;return new Response(JSON.stringify(J),Z);case"Response":return dS(J,Z,X);case"Promise":return J.then((Y)=>Z7(Y,Z));case"Error":return bK(J,Z);case"Function":return Z7(J(),Z);case"Number":case"Boolean":return new Response(J.toString(),Z);case"FormData":return new Response(J);case"Cookie":if(J instanceof GQ)return new Response(J.value,Z);return new Response(J?.toString(),Z);default:if(J instanceof Response)return dS(J,Z,X);if(J instanceof Promise)return J.then((Y)=>Z7(Y,Z));if(J instanceof Error)return bK(J,Z);if(J instanceof $7)return Z.status=J.code,Z7(J.response,Z,X);if(typeof J?.next==="function")return _K(J,Z,X);if(typeof J?.then==="function")return J.then((Y)=>Z7(Y,Z));if(typeof J?.toResponse==="function")return Z7(J.toResponse(),Z);if("charCodeAt"in J){let Y=J.charCodeAt(0);if(Y===123||Y===91){if(!Z.headers["Content-Type"])Z.headers["Content-Type"]="application/json";return new Response(JSON.stringify(J),Z)}}return new Response(J,Z)}else switch(J?.constructor?.name){case"String":return new Response(J);case"Array":case"Object":return Z.headers["content-type"]="application/json",new Response(JSON.stringify(J),Z);case"ElysiaFile":return q8(J.value);case"File":return q8(J,Z);case"Blob":return q8(J,Z);case"ElysiaCustomStatusResponse":return Z.status=J.code,Z7(J.response,Z,X);case"ReadableStream":return X?.signal?.addEventListener("abort",{handleEvent(){if(X?.signal&&!X?.signal?.aborted)J.cancel()}},{once:!0}),new Response(J,{headers:{"Content-Type":"text/event-stream; charset=utf-8"}});case void 0:if(!J)return new Response("");return new Response(JSON.stringify(J),{headers:{"content-type":"application/json"}});case"Response":if(!J.headers.has("content-length")&&J.headers.get("transfer-encoding")==="chunked")return _K(vK(J),yK(J),X);return J;case"Promise":return J.then((Y)=>{let $=Z7(Y,Z);if($!==void 0)return $});case"Error":return bK(J,Z);case"Function":return QQ(J(),X);case"Number":case"Boolean":return new Response(J.toString());case"Cookie":if(J instanceof GQ)return new Response(J.value,Z);return new Response(J?.toString(),Z);case"FormData":return new Response(J);default:if(J instanceof Response)return J;if(J instanceof Promise)return J.then((Y)=>Z7(Y,Z));if(J instanceof Error)return bK(J,Z);if(J instanceof $7)return Z.status=J.code,Z7(J.response,Z,X);if(typeof J?.next==="function")return _K(J,Z,X);if(typeof J?.then==="function")return J.then((Y)=>Z7(Y,Z));if(typeof J?.toResponse==="function")return Z7(J.toResponse(),Z);if("charCodeAt"in J){let Y=J.charCodeAt(0);if(Y===123||Y===91){if(!Z.headers["Content-Type"])Z.headers["Content-Type"]="application/json";return new Response(JSON.stringify(J),Z)}}return new Response(J)}},QQ=(J,Z)=>{switch(J?.constructor?.name){case"String":return new Response(J);case"Object":case"Array":return new Response(JSON.stringify(J),{headers:{"Content-Type":"application/json"}});case"ElysiaFile":return q8(J.value);case"File":return q8(J);case"Blob":return q8(J);case"ElysiaCustomStatusResponse":return Y7(J.response,{status:J.code,headers:{}});case"ReadableStream":return Z?.signal?.addEventListener("abort",{handleEvent(){if(Z?.signal&&!Z?.signal?.aborted)J.cancel()}},{once:!0}),new Response(J,{headers:{"Content-Type":"text/event-stream; charset=utf-8"}});case void 0:if(!J)return new Response("");return new Response(JSON.stringify(J),{headers:{"content-type":"application/json"}});case"Response":if(J.headers.get("transfer-encoding")==="chunked")return _K(vK(J),yK(J),Z);return J;case"Error":return bK(J);case"Promise":return J.then((X)=>QQ(X,Z));case"Function":return QQ(J(),Z);case"Number":case"Boolean":return new Response(J.toString());case"FormData":return new Response(J);default:if(J instanceof Response)return J;if(J instanceof Promise)return J.then((X)=>QQ(X,Z));if(J instanceof Error)return bK(J);if(J instanceof $7)return Y7(J.response,{status:J.code,headers:{}});if(typeof J?.next==="function")return _K(J,void 0,Z);if(typeof J?.then==="function")return J.then((X)=>Y7(X,set));if(typeof J?.toResponse==="function")return QQ(J.toResponse());if("charCodeAt"in J){let X=J.charCodeAt(0);if(X===123||X===91)return new Response(JSON.stringify(J),{headers:{"Content-Type":"application/json"}})}return new Response(J)}},bK=(J,Z)=>new Response(JSON.stringify({name:J?.name,message:J?.message,cause:J?.cause}),{status:Z?.status!==200?Z?.status??500:500,headers:Z?.headers}),P74=(J,Z,X={})=>{if(typeof J==="function")return;let Y=Y7(J,{headers:X});if(!Z.parse?.length&&!Z.transform?.length&&!Z.beforeHandle?.length&&!Z.afterHandle?.length)return Y.clone.bind(Y)},dS=WN1({mapResponse:Y7,mapCompactResponse:QQ}),_K=ui({mapResponse:Y7,mapCompactResponse:QQ}),zQ=(J,Z)=>Z?J:"",xM1=(J,Z,X,Y=!1)=>{let $="",z=J.setHeaders,W=!!J.event.trace?.length;if(W)$+=`const id=randomId()
`;let Q=/[:*]/.test(Z.path),G=`const u=request.url,s=u.indexOf('/',${J.config.handler?.standardHostname??!0?11:7}),qi=u.indexOf('?', s + 1)
`;if(X.query)$+=G;let K=!X.path?"":!Q?`path:'${Z.path}',`:"get path(){"+(X.query?"":G)+`if(qi===-1)return u.substring(s)
return u.substring(s,qi)
},`;if($+=zQ("const c=",!Y)+"{request,store,"+zQ("qi,",X.query)+zQ("params:request.params,",Q)+K+zQ("url:request.url,",W||X.url||X.query)+"redirect,error:status,status,set:{headers:"+(J8(z)?"Object.assign({},app.setHeaders)":"Object.create(null)")+",status:200}",X.server)$+=",get server(){return app.getServer()}";if(W)$+=",[ELYSIA_REQUEST_ID]:id";{let q="";for(let H of Object.keys(J.singleton.decorator))q+=`,'${H}':decorator['${H}']`;$+=q}return $+=`}
`,$},Ci=(J,Z)=>{let X=!!J.event.trace?.length,Y=!!J.extender.higherOrderFunctions.length,$=yM(Z.hooks,J.inference);$=yM({handler:Z.handler},$);let z="const handler=data.handler,app=data.app,store=data.store,decorator=data.decorator,redirect=data.redirect,route=data.route,mapEarlyResponse=data.mapEarlyResponse,"+zQ("randomId=data.randomId,",X)+zQ("ELYSIA_REQUEST_ID=data.ELYSIA_REQUEST_ID,",X)+zQ("ELYSIA_TRACE=data.ELYSIA_TRACE,",X)+zQ("trace=data.trace,",X)+zQ("hoc=data.hoc,",Y)+`status=data.status
`;if(J.event.request?.length)z+=`const onRequest=app.event.request.map(x=>x.fn)
`;if(z+=`${J.event.request?.find(B5)?"async":""} function map(request){`,X||$.query||J.event.request?.length)z+=xM1(J,Z,$),z+=BN1(J),z+="return handler(c)}";else z+=`return handler(${xM1(J,Z,$,!0)})}`;return z+=HN1(J),Function("data",z)({app:J,handler:Z.compile?.()??Z.composed,redirect:xi,status:hS,hoc:J.extender.higherOrderFunctions.map((W)=>W.fn),store:J.store,decorator:J.decorator,route:Z.path,randomId:X?cS:void 0,ELYSIA_TRACE:X?nS:void 0,ELYSIA_REQUEST_ID:X?vM:void 0,trace:X?J.event.trace?.map((W)=>W?.fn??W):void 0,mapEarlyResponse:Z7})},L74=(J,Z,X={})=>{if(typeof J==="function"||J instanceof Blob)return;if(typeof J==="object"&&J?.toString()==="[object HTMLBundle]")return()=>J;let Y=Y7(J,{headers:X});if(!Z.parse?.length&&!Z.transform?.length&&!Z.beforeHandle?.length&&!Z.afterHandle?.length){if(Y instanceof Promise)return Y.then(($)=>{if(!$)return;if(!$.headers.has("content-type"))$.headers.append("content-type","text/plain");return $.clone()});if(!Y.headers.has("content-type"))Y.headers.append("content-type","text/plain");return Y.clone.bind(Y)}},gM1={open(J){J.data.open?.(J)},message(J,Z){J.data.message?.(J,Z)},drain(J){J.data.drain?.(J)},close(J,Z,X){J.data.close?.(J,Z,X)}};class fM{raw;data;body;validator;["~types"];get id(){return this.data.id}constructor(J,Z,X=void 0){this.raw=J,this.data=Z,this.body=X,this.validator=J.data?.validator,this.sendText=J.sendText.bind(J),this.sendBinary=J.sendBinary.bind(J),this.close=J.close.bind(J),this.terminate=J.terminate.bind(J),this.publishText=J.publishText.bind(J),this.publishBinary=J.publishBinary.bind(J),this.subscribe=J.subscribe.bind(J),this.unsubscribe=J.unsubscribe.bind(J),this.isSubscribed=J.isSubscribed.bind(J),this.cork=J.cork.bind(J),this.remoteAddress=J.remoteAddress,this.binaryType=J.binaryType,this.data=J.data,this.send=this.send.bind(this),this.ping=this.ping.bind(this),this.pong=this.pong.bind(this),this.publish=this.publish.bind(this)}send(J,Z){if(Buffer.isBuffer(J))return this.raw.send(J,Z);if(this.validator?.Check(J)===!1)return this.raw.send(new _4("message",this.validator,J).message);if(typeof J==="object")J=JSON.stringify(J);return this.raw.send(J,Z)}ping(J){if(Buffer.isBuffer(J))return this.raw.ping(J);if(this.validator?.Check(J)===!1)return this.raw.send(new _4("message",this.validator,J).message);if(typeof J==="object")J=JSON.stringify(J);return this.raw.ping(J)}pong(J){if(Buffer.isBuffer(J))return this.raw.pong(J);if(this.validator?.Check(J)===!1)return this.raw.send(new _4("message",this.validator,J).message);if(typeof J==="object")J=JSON.stringify(J);return this.raw.pong(J)}publish(J,Z,X){if(Buffer.isBuffer(Z))return this.raw.publish(J,Z,X);if(this.validator?.Check(Z)===!1)return this.raw.send(new _4("message",this.validator,Z).message);if(typeof Z==="object")Z=JSON.stringify(Z);return this.raw.publish(J,Z,X)}sendText;sendBinary;close;terminate;publishText;publishBinary;subscribe;unsubscribe;isSubscribed;cork;remoteAddress;binaryType;get readyState(){return this.raw.readyState}}var C74=(J)=>{let Z=typeof J==="function"?[J]:J;return async function X(Y,$){if(typeof $==="string"){let z=$?.charCodeAt(0);if(z===34||z===47||z===91||z===123)try{$=JSON.parse($)}catch{}else if(vi($))$=+$;else if($==="true")$=!0;else if($==="false")$=!1;else if($==="null")$=null}if(Z)for(let z=0;z<Z.length;z++){let W=Z[z](Y,$);if(W instanceof Promise)W=await W;if(W!==void 0)return W}return $}},j74=(J)=>{let Z=(X,Y)=>{if(Y instanceof Promise)return Y.then((W)=>Z(X,W));if(Buffer.isBuffer(Y))return X.send(Y.toString());if(Y===void 0)return;let $=(W)=>{if(J?.Check(W)===!1)return X.send(new _4("message",J,W).message);if(typeof W==="object")return X.send(JSON.stringify(W));X.send(W)};if(typeof Y?.next!=="function")return void $(Y);let z=Y.next();if(z instanceof Promise)return(async()=>{let W=await z;if(J?.Check(W)===!1)return X.send(new _4("message",J,W).message);if($(W.value),!W.done)for await(let Q of Y)$(Q)})();if($(z.value),!z.done)for(let W of Y)$(W)};return Z},R74=/:.+?\?(?=\/|$)/,UN1=(J)=>{let Z=R74.exec(J);if(!Z)return[J];let X=[],Y=J.slice(0,Z.index),$=Z[0].slice(0,-1),z=J.slice(Z.index+Z[0].length);X.push(Y.slice(0,-1)),X.push(Y+$);for(let W of UN1(z)){if(!W)continue;if(!W.startsWith("/:"))X.push(Y.slice(0,-1)+W);X.push(Y+$+W)}return X},ON1={GET:!0,HEAD:!0,OPTIONS:!0,DELETE:!0,PATCH:!0,POST:!0,PUT:!0},ji=(J)=>{if(!J.config.aot||!J.config.systemRouter)return;let Z={},X=($,z)=>{if(Z[$.path]){if(!Z[$.path][$.method])Z[$.path][$.method]=z}else Z[$.path]={[$.method]:z}},Y=J.routeTree;for(let $ of J.router.history){if(typeof $.handler!=="function")continue;let z=$.method;if(z==="GET"&&`WS_${$.path}`in Y||z==="WS"||$.path.charCodeAt($.path.length-1)===42||!(z in ON1))continue;if(z==="ALL"){if(!(`WS_${$.path}`in Y))Z[$.path]=$.hooks?.config?.mount?$.hooks.trace||J.event.trace||J.extender.higherOrderFunctions?Ci(J,$):$.hooks.mount||$.handler:$.handler;continue}let W,Q=J.config.precompile?Ci(J,$):(G)=>{if(W)return W(G);return(W=Ci(J,$))(G)};for(let G of UN1($.path))X({method:z,path:G},Q)}return Z},qV=(J,Z)=>{if(!Z)return J;for(let X of Object.keys(Z)){if(J[X]===Z[X])continue;if(!J[X]){J[X]=Z[X];continue}if(J[X]&&Z[X]){if(typeof J[X]==="function"||J[X]instanceof Response){J[X]=Z[X];continue}J[X]={...J[X],...Z[X]}}}return J},E74={...ki,name:"bun",handler:{mapResponse:Y7,mapEarlyResponse:Z7,mapCompactResponse:QQ,createStaticHandler:P74,createNativeStaticHandler:L74},composeHandler:{...ki.composeHandler,headers:fS?`c.headers=c.request.headers.toJSON()
`:`c.headers={}
for(const [k,v] of c.request.headers.entries())c.headers[k]=v
`},listen(J){return(Z,X)=>{if(typeof Bun==="undefined")throw new Error(".listen() is designed to run on Bun only. If you are running Elysia in other environment please use a dedicated plugin or export the handler via Elysia.fetch");if(J.compile(),typeof Z==="string"){if(!vi(Z))throw new Error("Port must be a numeric value");Z=parseInt(Z)}let Y=(z,{withAsync:W=!1}={})=>{let Q={},G=[];for(let[K,q]of Object.entries(z))if(rM1){if(!q)continue;for(let[H,F]of Object.entries(q)){if(!F||!(H in ON1))continue;if(F instanceof Promise){if(W){if(!Q[K])Q[K]={};G.push(F.then((U)=>{if(U instanceof Response)Q[K][H]=U}))}continue}if(!(F instanceof Response))continue;if(!Q[K])Q[K]={};Q[K][H]=F}}else{if(!q)continue;if(q instanceof Promise){if(W){if(!Q[K])Q[K]={};G.push(q.then((H)=>{if(H instanceof Response)Q[K]=H}))}continue}if(!(q instanceof Response))continue;Q[K]=q}if(W)return Promise.all(G).then(()=>Q);return Q},$=typeof Z==="object"?{development:!_M,reusePort:!0,...J.config.serve||{},...Z||{},routes:qV(qV(Y(J.router.response),ji(J)),J.config.serve?.routes),websocket:{...J.config.websocket||{},...gM1||{}},fetch:J.fetch}:{development:!_M,reusePort:!0,...J.config.serve||{},routes:qV(qV(Y(J.router.response),ji(J)),J.config.serve?.routes),websocket:{...J.config.websocket||{},...gM1||{}},port:Z,fetch:J.fetch};if(J.server=Bun.serve($),J.event.start)for(let z=0;z<J.event.start.length;z++)J.event.start[z].fn(J);if(X)X(J.server);process.on("beforeExit",()=>{if(J.server){if(J.server.stop?.(),J.server=null,J.event.stop)for(let z=0;z<J.event.stop.length;z++)J.event.stop[z].fn(J)}}),J.promisedModules.then(async()=>{J.server?.reload({...$,fetch:J.fetch,routes:qV(qV(await Y(J.router.response,{withAsync:!0}),ji(J)),J.config.serve?.routes)}),Bun?.gc(!1)})}},ws(J,Z,X){let{parse:Y,body:$,response:z,...W}=X,Q=c5($,{modules:J.definitions.typebox,models:J.definitions.type,normalize:J.config.normalize}),G=c5(z,{modules:J.definitions.typebox,models:J.definitions.type,normalize:J.config.normalize});J.route("WS",Z,async(K)=>{let q=J.getServer(),{set:H,path:F,qi:U,headers:D,query:V,params:w}=K;if(K.validator=G,X.upgrade){if(typeof X.upgrade==="function"){let v=X.upgrade(K);if(v instanceof Promise)await v}else if(X.upgrade)Object.assign(H.headers,X.upgrade)}if(H.cookie&&J8(H.cookie)){let v=$N1(H.cookie);if(v)H.headers["set-cookie"]=v}if(H.headers["set-cookie"]&&Array.isArray(H.headers["set-cookie"]))H.headers=zN1(new Headers(H.headers),H.headers["set-cookie"]);let M=j74(G),P=C74(Y),R,f=[...Array.isArray(X.error)?X.error:[X.error],...(J.event.error??[]).map((v)=>typeof v==="function"?v:v.fn)].filter((v)=>v),d=!f.length?()=>{}:async(v,l)=>{for(let o of f){let S=o(Object.assign(K,{error:l}));if(S instanceof Promise)S=await S;if(await M(v,S),S)break}};if(q?.upgrade(K.request,{headers:J8(H.headers)?H.headers:void 0,data:{...K,get id(){if(R)return R;return R=cS()},validator:G,ping(v){X.ping?.(v)},pong(v){X.pong?.(v)},open(v){try{M(v,X.open?.(new fM(v,K)))}catch(l){d(v,l)}},message:async(v,l)=>{let o=await P(v,l);if(Q?.Check(o)===!1)return void v.send(new _4("message",Q,o).message);try{M(v,X.message?.(new fM(v,K,o),o))}catch(S){d(v,S)}},drain(v){try{M(v,X.drain?.(new fM(v,K)))}catch(l){d(v,l)}},close(v,l,o){try{M(v,X.close?.(new fM(v,K),l,o))}catch(S){d(v,S)}}}}))return;return H.status=400,"Expected a websocket connection"},{...W,websocket:X})}},dM1=UV?Bun.env:typeof process!=="undefined"&&process?.env?process.env:{},Ri=(J,Z)=>{for(let[X,Y]of Object.entries(J.schema.properties))Z[X]??=Y.default},uM1=(J)=>{let{mapResponse:Z,mapEarlyResponse:X}=J["~adapter"].handler;return async(Y)=>{let $=Y.url,z=$.indexOf("/",11),W=$.indexOf("?",z+1),Q=W===-1?$.substring(z):$.substring(z,W),G={cookie:{},status:200,headers:{}},K=Object.assign({},J.singleton.decorator,{set:G,store:J.singleton.store,request:Y,path:Q,qi:W,error:hS,status:hS,redirect:xi});try{if(J.event.request)for(let l=0;l<J.event.request.length;l++){let o=J.event.request[l].fn,S=o(K);if(S instanceof Promise)S=await S;if(S=X(S,G),S)return K.response=S}let q=J.router.dynamic.find(Y.method,Q)??J.router.dynamic.find("ALL",Q);if(!q)throw new gi;let{handle:H,hooks:F,validator:U,content:D,route:V}=q.store,w;if(Y.method!=="GET"&&Y.method!=="HEAD")if(D)switch(D){case"application/json":w=await Y.json();break;case"text/plain":w=await Y.text();break;case"application/x-www-form-urlencoded":w=ES(await Y.text());break;case"application/octet-stream":w=await Y.arrayBuffer();break;case"multipart/form-data":w={};let l=await Y.formData();for(let o of l.keys()){if(w[o])continue;let S=l.getAll(o);if(S.length===1)w[o]=S[0];else w[o]=S}break}else{let l=Y.headers.get("content-type");if(l){let o=l.indexOf(";");if(o!==-1)l=l.slice(0,o);if(K.contentType=l,F.parse)for(let S=0;S<F.parse.length;S++){let i=F.parse[S].fn,u=i(K,l);if(u instanceof Promise)u=await u;if(u){w=u;break}}if(delete K.contentType,w===void 0)switch(l){case"application/json":w=await Y.json();break;case"text/plain":w=await Y.text();break;case"application/x-www-form-urlencoded":w=ES(await Y.text());break;case"application/octet-stream":w=await Y.arrayBuffer();break;case"multipart/form-data":w={};let S=await Y.formData();for(let i of S.keys()){if(w[i])continue;let u=S.getAll(i);if(u.length===1)w[i]=u[0];else w[i]=u}break}}}K.route=V,K.body=w,K.params=q?.params||void 0,K.query=W===-1?{}:ES($.substring(W+1)),K.headers={};for(let[l,o]of Y.headers.entries())K.headers[l]=o;let M=Object.assign({},J.config?.cookie,U?.cookie?.config),P=Y.headers.get("cookie");K.cookie=await YN1(K.set,P,M?{secrets:M.secrets!==void 0?typeof M.secrets==="string"?M.secrets:M.secrets.join(","):void 0,sign:M.sign===!0?!0:M.sign!==void 0?typeof M.sign==="string"?M.sign:M.sign.join(","):void 0}:void 0);let R=U?.createHeaders?.();if(R)Ri(R,K.headers);let f=U?.createParams?.();if(f)Ri(f,K.params);let d=U?.createQuery?.();if(d)Ri(d,K.query);if(F.transform)for(let l=0;l<F.transform.length;l++){let o=F.transform[l],S=o.fn(K);if(o.subType==="derive")if(S instanceof Promise)Object.assign(K,await S);else Object.assign(K,S);else if(S instanceof Promise)await S}if(U){if(R){let l=structuredClone(K.headers);for(let[o,S]of Y.headers)l[o]=S;if(U.headers.Check(l)===!1)throw new _4("header",U.headers,l)}else if(U.headers?.Decode)K.headers=U.headers.Decode(K.headers);if(f?.Check(K.params)===!1)throw new _4("params",U.params,K.params);else if(U.params?.Decode)K.params=U.params.Decode(K.params);if(d?.Check(K.query)===!1)throw new _4("query",U.query,K.query);else if(U.query?.Decode)K.query=U.query.Decode(K.query);if(U.createCookie?.()){let l={};for(let[o,S]of Object.entries(K.cookie))l[o]=S.value;if(U.cookie.Check(l)===!1)throw new _4("cookie",U.cookie,l);else if(U.cookie?.Decode)l=U.cookie.Decode(l)}if(U.createBody?.()?.Check(w)===!1)throw new _4("body",U.body,w);else if(U.body?.Decode)K.body=U.body.Decode(w)}if(F.beforeHandle)for(let l=0;l<F.beforeHandle.length;l++){let o=F.beforeHandle[l],S=o.fn(K);if(o.subType==="resolve"){if(S instanceof $7){let i=X(S,K.set);if(i)return K.response=i}if(S instanceof Promise)Object.assign(K,await S);else Object.assign(K,S);continue}else if(S instanceof Promise)S=await S;if(S!==void 0){if(K.response=S,F.afterHandle)for(let u=0;u<F.afterHandle.length;u++){let G1=F.afterHandle[u].fn(K);if(G1 instanceof Promise)G1=await G1;if(G1)S=G1}let i=X(S,K.set);if(i)return K.response=i}}let v=typeof H==="function"?H(K):H;if(v instanceof Promise)v=await v;if(F.afterHandle)if(!F.afterHandle.length){let l=v instanceof $7?v.code:G.status?typeof G.status==="string"?mS[G.status]:G.status:200,o=U?.createResponse?.()?.[l];if(o?.Check(v)===!1)throw new _4("response",o,v);else if(o?.Decode)v=o.Decode(v)}else{K.response=v;for(let l=0;l<F.afterHandle.length;l++){let o=F.afterHandle[l].fn(K);if(o instanceof Promise)o=await o;let S=X(o,K.set);if(S!==void 0){let i=U?.response?.[S.status];if(i?.Check(S)===!1)throw new _4("response",i,S);else if(i?.Decode)v=i.Decode(v);return K.response=S}}}if(K.set.cookie&&M?.sign){let l=!M.secrets?void 0:typeof M.secrets==="string"?M.secrets:M.secrets[0];if(M.sign===!0)for(let[o,S]of Object.entries(K.set.cookie))K.set.cookie[o].value=await kS(S.value,"${secret}");else{let o=U?.cookie?.schema?.properties;for(let S of M.sign){if(!(S in o))continue;if(K.set.cookie[S]?.value)K.set.cookie[S].value=await kS(K.set.cookie[S].value,l)}}}return Z(K.response=v,K.set)}catch(q){let H=q instanceof IS&&q.error?q.error:q;return J.handleError(K,H)}finally{if(J.event.afterResponse)for(let q of J.event.afterResponse)await q.fn(K)}}},S74=(J)=>{let{mapResponse:Z}=J["~adapter"].handler;return async(X,Y)=>{let $=Object.assign(X,{error:Y,code:Y.code});if($.set=X.set,J.event.error)for(let z=0;z<J.event.error.length;z++){let W=J.event.error[z].fn($);if(W instanceof Promise)W=await W;if(W!==void 0&&W!==null)return X.response=Z(W,X.set)}return new Response(typeof Y.cause==="string"?Y.cause:Y.message,{headers:X.set.headers,status:Y.status??500})}};class X7{config;server=null;dependencies={};"~Prefix"="";"~Singleton"=null;"~Definitions"=null;"~Metadata"=null;"~Ephemeral"=null;"~Volatile"=null;"~Routes"=null;singleton={decorator:{},store:{},derive:{},resolve:{}};get store(){return this.singleton.store}get decorator(){return this.singleton.decorator}definitions={typebox:_1.Module({}),type:{},error:{}};extender={macros:[],higherOrderFunctions:[]};validator={global:null,scoped:null,local:null,getCandidate(){return jM(jM(this.global,this.scoped),this.local)}};standaloneValidator={global:null,scoped:null,local:null};event={};telemetry;router={"~http":void 0,get http(){if(!this["~http"])this["~http"]=new FV({lazy:!0});return this["~http"]},"~dynamic":void 0,get dynamic(){if(!this["~dynamic"])this["~dynamic"]=new FV;return this["~dynamic"]},static:{},response:{},history:[]};routeTree={};get routes(){return this.router.history}getGlobalRoutes(){return this.router.history}getGlobalDefinitions(){return this.definitions}inference={body:!1,cookie:!1,headers:!1,query:!1,set:!1,server:!1,path:!1,route:!1,url:!1};getServer(){return this.server}getParent(){return null}"~parser"={};_promisedModules;get promisedModules(){if(!this._promisedModules)this._promisedModules=new aM1(console.error,()=>{});return this._promisedModules}constructor(J={}){if(J.tags)if(!J.detail)J.detail={tags:J.tags};else J.detail.tags=J.tags;if(this.config={prefix:"",aot:dM1.ELYSIA_AOT!=="false",nativeStaticResponse:!0,systemRouter:!0,encodeSchema:!0,normalize:!0,...J,cookie:{path:"/",...J?.cookie},experimental:J?.experimental??{},seed:J?.seed===void 0?"":J?.seed},this["~adapter"]=J.adapter??(typeof Bun!=="undefined"?E74:ki),J?.analytic&&(J?.name||J?.seed!==void 0))this.telemetry={stack:new Error().stack}}"~adapter";env(J,Z=dM1){if(c5(J,{modules:this.definitions.typebox,dynamic:!0,additionalProperties:!0,coerce:!0,sanitize:()=>this.config.sanitize}).Check(Z)===!1){let X=new _4("env",J,Z);throw new Error(X.all.map((Y)=>Y.summary).join(`
`))}return this}wrap(J){return this.extender.higherOrderFunctions.push({checksum:BV(JSON.stringify({name:this.config.name,seed:this.config.seed,content:J.toString()})),fn:J}),this}applyMacro(J){if(this.extender.macros.length){let Z=p94({globalHook:this.event,localHook:J}),X={events:{global:this.event,local:J},get onParse(){return Z("parse")},get onTransform(){return Z("transform")},get onBeforeHandle(){return Z("beforeHandle")},get onAfterHandle(){return Z("afterHandle")},get mapResponse(){return Z("mapResponse")},get onAfterResponse(){return Z("afterResponse")},get onError(){return Z("error")}};for(let Y of this.extender.macros)l94(Y.fn(X),J,Z)}}get models(){let J={};for(let Z of Object.keys(this.definitions.type))J[Z]=c5(this.definitions.typebox.Import(Z));return J.modules=this.definitions.typebox,J}add(J,Z,X,Y,$,z){let W=$?.skipPrefix??!1,Q=$?.allowMeta??!1;if(Y??={},z===void 0){if(z=[],this.standaloneValidator.local)z=z.concat(this.standaloneValidator.local);if(this.standaloneValidator.scoped)z=z.concat(this.standaloneValidator.scoped);if(this.standaloneValidator.global)z=z.concat(this.standaloneValidator.global)}if(Z!==""&&Z.charCodeAt(0)!==47)Z="/"+Z;if(this.config.prefix&&!W)Z=this.config.prefix+Z;if(Y?.type)switch(Y.type){case"text":Y.type="text/plain";break;case"json":Y.type="application/json";break;case"formdata":Y.type="multipart/form-data";break;case"urlencoded":Y.type="application/x-www-form-urlencoded";break;case"arrayBuffer":Y.type="application/octet-stream";break;default:break}let G=this.validator.getCandidate(),K={body:Y?.body??G?.body,headers:Y?.headers??G?.headers,params:Y?.params??G?.params,query:Y?.query??G?.query,cookie:Y?.cookie??G?.cookie,response:Y?.response??G?.response},q=this.config.precompile===!0||typeof this.config.precompile==="object"&&this.config.precompile.compose===!0,H=()=>{let S=this.definitions.type,i=!this.config.aot,u=this.config.normalize,G1=this.definitions.typebox,e=()=>this.config.sanitize,_=()=>{if(K.cookie||z.find((Z1)=>Z1.cookie))return qN1({modules:G1,validator:K.cookie,defaultConfig:this.config.cookie,config:K.cookie?.config??{},dynamic:i,models:S,validators:z.map((Z1)=>Z1.cookie),sanitize:e})};return q?{body:c5(K.body,{modules:G1,dynamic:i,models:S,normalize:u,additionalCoerce:hi(),validators:z.map((Z1)=>Z1.body),sanitize:e}),headers:c5(K.headers,{modules:G1,dynamic:i,models:S,additionalProperties:!0,coerce:!0,additionalCoerce:RH(),validators:z.map((Z1)=>Z1.headers),sanitize:e}),params:c5(K.params,{modules:G1,dynamic:i,models:S,coerce:!0,additionalCoerce:RH(),validators:z.map((Z1)=>Z1.params),sanitize:e}),query:c5(K.query,{modules:G1,dynamic:i,models:S,normalize:u,coerce:!0,additionalCoerce:RH(),validators:z.map((Z1)=>Z1.query),sanitize:e}),cookie:_(),response:vM1(K.response,{modules:G1,dynamic:i,models:S,normalize:u,validators:z.map((Z1)=>Z1.response),sanitize:e})}:{createBody(){if(this.body)return this.body;return this.body=c5(K.body,{modules:G1,dynamic:i,models:S,normalize:u,additionalCoerce:hi(),validators:z.map((Z1)=>Z1.body),sanitize:e})},createHeaders(){if(this.headers)return this.headers;return this.headers=c5(K.headers,{modules:G1,dynamic:i,models:S,additionalProperties:!u,coerce:!0,additionalCoerce:RH(),validators:z.map((Z1)=>Z1.headers),sanitize:e})},createParams(){if(this.params)return this.params;return this.params=c5(K.params,{modules:G1,dynamic:i,models:S,coerce:!0,additionalCoerce:RH(),validators:z.map((Z1)=>Z1.params),sanitize:e})},createQuery(){if(this.query)return this.query;return this.query=c5(K.query,{modules:G1,dynamic:i,models:S,coerce:!0,additionalCoerce:RH(),validators:z.map((Z1)=>Z1.query),sanitize:e})},createCookie(){if(this.cookie)return this.cookie;return this.cookie=_()},createResponse(){if(this.response)return this.response;return this.response=vM1(K.response,{modules:G1,dynamic:i,models:S,normalize:u,validators:z.map((Z1)=>Z1.response),sanitize:e})}}};if(G.body||G.cookie||G.headers||G.params||G.query||G.response)Y=XQ(Y,G);if(Y.tags)if(!Y.detail)Y.detail={tags:Y.tags};else Y.detail.tags=Y.tags;if(J8(this.config.detail))Y.detail=T7(Object.assign({},this.config.detail),Y.detail);this.applyMacro(Y);let F=J8(this.event)?XQ(this.event,LM1(Y)):d94(LM1(Y));if(this.config.aot===!1){let S=H();this.router.dynamic.add(J,Z,{validator:S,hooks:F,content:Y?.type,handle:X,route:Z});let i=SM(Z,{dynamic:!0});if(Z!==i)this.router.dynamic.add(J,i,{validator:S,hooks:F,content:Y?.type,handle:X,route:Z});if(this.config.strictPath===!1){let u=EM(Z);this.router.dynamic.add(J,u,{validator:S,hooks:F,content:Y?.type,handle:X,route:Z});let G1=SM(u);if(u!==G1)this.router.dynamic.add(J,u,{validator:S,hooks:F,content:Y?.type,handle:X,route:Z})}this.router.history.push({method:J,path:Z,composed:null,handler:X,compile:void 0,hooks:F,standaloneValidators:z});return}let U=this["~adapter"].handler,D=typeof X!=="function"?()=>{let S=U.createNativeStaticHandler?.(X,F,this.setHeaders);return S instanceof Promise?S.then((i)=>{if(i)return i}):S?.()}:void 0,V=this.config.nativeStaticResponse===!0,w=(S)=>{if(!V||!D)return;if(rM1)if(this.router.response[S])this.router.response[S][J]=D();else this.router.response[S]={[J]:D()};else this.router.response[S]=D()};w(Z);let M,P=()=>{if(M)return M;return M=N74({app:this,path:Z,method:J,hooks:F,validator:H(),handler:typeof X!=="function"&&typeof U.createStaticHandler!=="function"?()=>X:X,allowMeta:Q,inference:this.inference})},R;if(`${J}_${Z}`in this.routeTree)for(let S=0;S<this.router.history.length;S++){let i=this.router.history[S];if(i.path===Z&&i.method===J){R=S;break}}else this.routeTree[`${J}_${Z}`]=this.router.history.length;let f=R??this.router.history.length,d=q?P():(S)=>(this.router.history[f].composed=P())(S);if(R!==void 0)this.router.history[R]=Object.assign({method:J,path:Z,composed:d,compile:P,handler:X,hooks:F},z.length?{standaloneValidators:z}:void 0,Y.webSocket?{websocket:Y.websocket}:void 0);else this.router.history.push(Object.assign({method:J,path:Z,composed:d,compile:P,handler:X,hooks:F},z.length?{standaloneValidators:z}:void 0,Y.webSocket?{websocket:Y.websocket}:void 0));let v={handler:q?d:void 0,compile(){return this.handler=P()}},l=this.router.static,o=Z.indexOf(":")===-1&&Z.indexOf("*")===-1;if(J==="WS"){if(o){if(Z in l)l[Z][J]=f;else l[Z]={[J]:f};return}if(this.router.http.add("WS",Z,v),!this.config.strictPath)this.router.http.add("WS",EM(Z),v);let S=SM(Z,{dynamic:!0});if(Z!==S)this.router.http.add("WS",S,v);return}if(o){if(Z in l)l[Z][J]=f;else l[Z]={[J]:f};if(!this.config.strictPath)w(EM(Z))}else{this.router.http.add(J,Z,v);let S=typeof X!=="function"&&typeof U.createStaticHandler==="function"?U.createStaticHandler(X,F,this.setHeaders):void 0;if(!this.config.strictPath){let u=EM(Z);w(u),this.router.http.add(J,u,v)}let i=SM(Z,{dynamic:!0});if(Z!==i)this.router.http.add(J,i,v),w(i)}}setHeaders;headers(J){if(!J)return this;if(!this.setHeaders)this.setHeaders={};return this.setHeaders=T7(this.setHeaders,J),this}onStart(J){return this.on("start",J),this}onRequest(J){return this.on("request",J),this}onParse(J,Z){if(!Z){if(typeof J==="string")return this.on("parse",this["~parser"][J]);return this.on("parse",J)}return this.on(J,"parse",Z)}parser(J,Z){return this["~parser"][J]=Z,this}onTransform(J,Z){if(!Z)return this.on("transform",J);return this.on(J,"transform",Z)}resolve(J,Z){if(!Z)Z=J,J={as:"local"};let X={subType:"resolve",fn:Z};return this.onBeforeHandle(J,X)}mapResolve(J,Z){if(!Z)Z=J,J={as:"local"};let X={subType:"mapResolve",fn:Z};return this.onBeforeHandle(J,X)}onBeforeHandle(J,Z){if(!Z)return this.on("beforeHandle",J);return this.on(J,"beforeHandle",Z)}onAfterHandle(J,Z){if(!Z)return this.on("afterHandle",J);return this.on(J,"afterHandle",Z)}mapResponse(J,Z){if(!Z)return this.on("mapResponse",J);return this.on(J,"mapResponse",Z)}onAfterResponse(J,Z){if(!Z)return this.on("afterResponse",J);return this.on(J,"afterResponse",Z)}trace(J,Z){if(!Z)Z=J,J={as:"local"};if(!Array.isArray(Z))Z=[Z];for(let X of Z)this.on(J,"trace",q74(X));return this}error(J,Z){switch(typeof J){case"string":return Z.prototype[bS]=J,this.definitions.error[J]=Z,this;case"function":return this.definitions.error=J(this.definitions.error),this}for(let[X,Y]of Object.entries(J))Y.prototype[bS]=X,this.definitions.error[X]=Y;return this}onError(J,Z){if(!Z)return this.on("error",J);return this.on(J,"error",Z)}onStop(J){return this.on("stop",J),this}on(J,Z,X){let Y;switch(typeof J){case"string":Y=J,X=Z;break;case"object":if(Y=Z,!Array.isArray(Z)&&typeof Z==="object")X=Z;break}if(Array.isArray(X))X=j5(X);else if(typeof X==="function")X=[{fn:X}];else X=[X];let $=X;for(let z of $)if(z.scope=typeof J==="string"?"local":J?.as??"local",Y==="resolve"||Y==="derive")z.subType=Y;if(Y!=="trace")this.inference=yM({[Y]:$.map((z)=>z.fn)},this.inference);for(let z of $){let W=m94(z,"global",{skipIfHasType:!0});switch(Y){case"start":this.event.start??=[],this.event.start.push(W);break;case"request":this.event.request??=[],this.event.request.push(W);break;case"parse":this.event.parse??=[],this.event.parse.push(W);break;case"transform":this.event.transform??=[],this.event.transform.push(W);break;case"derive":this.event.transform??=[],this.event.transform.push(j5(W,"derive"));break;case"beforeHandle":this.event.beforeHandle??=[],this.event.beforeHandle.push(W);break;case"resolve":this.event.beforeHandle??=[],this.event.beforeHandle.push(j5(W,"resolve"));break;case"afterHandle":this.event.afterHandle??=[],this.event.afterHandle.push(W);break;case"mapResponse":this.event.mapResponse??=[],this.event.mapResponse.push(W);break;case"afterResponse":this.event.afterResponse??=[],this.event.afterResponse.push(W);break;case"trace":this.event.trace??=[],this.event.trace.push(W);break;case"error":this.event.error??=[],this.event.error.push(W);break;case"stop":this.event.stop??=[],this.event.stop.push(W);break}}return this}as(J){if(TK(this.event.parse,J),TK(this.event.transform,J),TK(this.event.beforeHandle,J),TK(this.event.afterHandle,J),TK(this.event.mapResponse,J),TK(this.event.afterResponse,J),TK(this.event.trace,J),TK(this.event.error,J),J==="scoped")this.validator.scoped=jM(this.validator.scoped,this.validator.local),this.validator.local=null;else if(J==="global")this.validator.global=jM(this.validator.global,jM(this.validator.scoped,this.validator.local)),this.validator.scoped=null,this.validator.local=null;return this}group(J,Z,X){let Y=new X7({...this.config,prefix:""});Y.singleton={...this.singleton},Y.definitions={...this.definitions},Y.getServer=()=>this.getServer(),Y.inference=jM1(this.inference),Y.extender={...this.extender},Y["~parser"]=this["~parser"],Y.standaloneValidator={local:[...this.standaloneValidator.local??[]],scoped:[...this.standaloneValidator.scoped??[]],global:[...this.standaloneValidator.global??[]]};let $=typeof Z==="object",z=($?X:Z)(Y);if(this.singleton=T7(this.singleton,Y.singleton),this.definitions=T7(this.definitions,Y.definitions),z.event.request?.length)this.event.request=[...this.event.request||[],...z.event.request||[]];if(z.event.mapResponse?.length)this.event.mapResponse=[...this.event.mapResponse||[],...z.event.mapResponse||[]];return this.model(z.definitions.type),Object.values(Y.router.history).forEach(({method:W,path:Q,handler:G,hooks:K,standaloneValidators:q})=>{if(Q=($?"":this.config.prefix)+J+Q,$){let H=Z,F=K;this.add(W,Q,G,XQ(H,{...F||{},error:!F.error?z.event.error:Array.isArray(F.error)?[...F.error||{},...z.event.error||{}]:[F.error,...z.event.error||{}]}),void 0,q)}else this.add(W,Q,G,XQ(K,{error:z.event.error}),{skipPrefix:!0},q)}),this}guard(J,Z){if(!Z){if(typeof J==="object"){if(this.applyMacro(J),J.detail)if(this.config.detail)this.config.detail=T7(Object.assign({},this.config.detail),J.detail);else this.config.detail=J.detail;if(J.tags)if(!this.config.detail)this.config.detail={tags:J.tags};else this.config.detail.tags=J.tags;let $=J.as??"local";if(J.schema==="standalone"){if(!this.standaloneValidator[$])this.standaloneValidator[$]=[];let z=J?.response||typeof J?.response==="string"||J?.response&&$1 in J.response?{200:J.response}:J?.response;return this.standaloneValidator[$].push({body:J.body,headers:J.headers,params:J.params,query:J.query,response:z,cookie:J.cookie}),this}if(this.validator[$]={body:J.body??this.validator[$]?.body,headers:J.headers??this.validator[$]?.headers,params:J.params??this.validator[$]?.params,query:J.query??this.validator[$]?.query,response:J.response??this.validator[$]?.response,cookie:J.cookie??this.validator[$]?.cookie},J.parse)this.on({as:$},"parse",J.parse);if(J.transform)this.on({as:$},"transform",J.transform);if(J.derive)this.on({as:$},"derive",J.derive);if(J.beforeHandle)this.on({as:$},"beforeHandle",J.beforeHandle);if(J.resolve)this.on({as:$},"resolve",J.resolve);if(J.afterHandle)this.on({as:$},"afterHandle",J.afterHandle);if(J.mapResponse)this.on({as:$},"mapResponse",J.mapResponse);if(J.afterResponse)this.on({as:$},"afterResponse",J.afterResponse);if(J.error)this.on({as:$},"error",J.error);return this}return this.guard({},J)}let X=new X7({...this.config,prefix:""});X.singleton={...this.singleton},X.definitions={...this.definitions},X.inference=jM1(this.inference),X.extender={...this.extender};let Y=Z(X);if(this.singleton=T7(this.singleton,X.singleton),this.definitions=T7(this.definitions,X.definitions),Y.getServer=()=>this.server,Y.event.request?.length)this.event.request=[...this.event.request||[],...Y.event.request||[]];if(Y.event.mapResponse?.length)this.event.mapResponse=[...this.event.mapResponse||[],...Y.event.mapResponse||[]];return this.model(Y.definitions.type),Object.values(X.router.history).forEach(({method:$,path:z,handler:W,hooks:Q})=>{this.add($,z,W,XQ(J,{...Q||{},error:!Q.error?Y.event.error:Array.isArray(Q.error)?[...Q.error||{},...Y.event.error||[]]:[Q.error,...Y.event.error||[]]}))}),this}use(J,Z){if(Array.isArray(J)){let X=this;for(let Y of J)X=X.use(Y);return X}if(Z?.scoped)return this.guard({},(X)=>X.use(J));if(Array.isArray(J)){let X=this;for(let Y of J)X=this.use(Y);return X}if(J instanceof Promise)return this.promisedModules.add(J.then((X)=>{if(typeof X==="function")return X(this);if(X instanceof X7)return this._use(X).compile();if(X.constructor.name==="Elysia")return this._use(X).compile();if(typeof X.default==="function")return X.default(this);if(X.default instanceof X7)return this._use(X.default);if(X.constructor.name==="Elysia")return this._use(X.default);if(X.constructor.name==="_Elysia")return this._use(X.default);try{return this._use(X.default)}catch(Y){throw console.error('Invalid plugin type. Expected Elysia instance, function, or module with "default" as Elysia instance or function that returns Elysia instance.'),Y}}).then((X)=>{if(X&&typeof X.compile==="function")X.compile();return X})),this;return this._use(J)}propagatePromiseModules(J){if(J.promisedModules.size<=0)return this;for(let Z of J.promisedModules.promises)this.promisedModules.add(Z.then((X)=>{if(!X)return;let Y=this._use(X);if(Y instanceof Promise)return Y.then(($)=>{if($)$.compile();else X.compile()});return X.compile()}));return this}_use(J){if(typeof J==="function"){let $=J(this);if($ instanceof Promise)return this.promisedModules.add($.then((z)=>{if(z instanceof X7){z.getServer=()=>this.getServer(),z.getGlobalRoutes=()=>this.getGlobalRoutes(),z.getGlobalDefinitions=()=>this.getGlobalDefinitions(),z.model(this.definitions.type),z.error(this.definitions.error);for(let{method:W,path:Q,handler:G,hooks:K,standaloneValidators:q}of Object.values(z.router.history))this.add(W,Q,G,J8(z.event.error)?XQ(K,{error:z.event.error}):K,void 0,q);if(z===this)return;return this.propagatePromiseModules(z),z}if(typeof z==="function")return z(this);if(typeof z.default==="function")return z.default(this);return this._use(z)}).then((z)=>{if(z&&typeof z.compile==="function")z.compile();return z})),this;return $}this.propagatePromiseModules(J);let Z=J.config.name,X=J.config.seed;if(J.getParent=()=>this,J.getServer=()=>this.getServer(),J.getGlobalRoutes=()=>this.getGlobalRoutes(),J.getGlobalDefinitions=()=>this.getGlobalDefinitions(),J.standaloneValidator?.scoped)if(this.standaloneValidator.local)this.standaloneValidator.local=this.standaloneValidator.local.concat(J.standaloneValidator.scoped);else this.standaloneValidator.local=J.standaloneValidator.scoped;if(J.standaloneValidator?.global)if(this.standaloneValidator.global)this.standaloneValidator.global=this.standaloneValidator.global.concat(J.standaloneValidator.global);else this.standaloneValidator.global=J.standaloneValidator.global;if(J8(J["~parser"]))this["~parser"]={...J["~parser"],...this["~parser"]};if(J.setHeaders)this.headers(J.setHeaders);if(Z){if(!(Z in this.dependencies))this.dependencies[Z]=[];let $=X!==void 0?BV(Z+JSON.stringify(X)):0;if(!this.dependencies[Z].some(({checksum:z})=>$===z))this.extender.macros=this.extender.macros.concat(J.extender.macros),this.extender.higherOrderFunctions=this.extender.higherOrderFunctions.concat(J.extender.higherOrderFunctions)}else{if(J.extender.macros.length)this.extender.macros=this.extender.macros.concat(J.extender.macros);if(J.extender.higherOrderFunctions.length)this.extender.higherOrderFunctions=this.extender.higherOrderFunctions.concat(J.extender.higherOrderFunctions)}RM1(this.extender.macros),RM1(this.extender.higherOrderFunctions);let Y=[];for(let $=0;$<this.extender.higherOrderFunctions.length;$++){let z=this.extender.higherOrderFunctions[$];if(z.checksum){if(Y.includes(z.checksum))this.extender.higherOrderFunctions.splice($,1),$--;Y.push(z.checksum)}}if(Y.length=0,this.inference=fi(this.inference,J.inference),J8(J.singleton.decorator))this.decorate(J.singleton.decorator);if(J8(J.singleton.store))this.state(J.singleton.store);if(J8(J.definitions.type))this.model(J.definitions.type);if(J8(J.definitions.error))this.error(J.definitions.error);if(J8(J.definitions.error))J.extender.macros=this.extender.macros.concat(J.extender.macros);for(let{method:$,path:z,handler:W,hooks:Q,standaloneValidators:G}of Object.values(J.router.history))this.add($,z,W,J8(J.event.error)?XQ(Q,{error:J.event.error}):Q,void 0,G);if(Z){if(!(Z in this.dependencies))this.dependencies[Z]=[];let $=X!==void 0?BV(Z+JSON.stringify(X)):0;if(this.dependencies[Z].some(({checksum:z})=>$===z))return this;if(this.dependencies[Z].push(this.config?.analytic?{name:J.config.name,seed:J.config.seed,checksum:$,dependencies:J.dependencies,stack:J.telemetry?.stack,routes:J.router.history,decorators:J.singleton,store:J.singleton.store,error:J.definitions.error,derive:J.event.transform?.filter((z)=>z?.subType==="derive").map((z)=>({fn:z.toString(),stack:new Error().stack??""})),resolve:J.event.transform?.filter((z)=>z?.subType==="resolve").map((z)=>({fn:z.toString(),stack:new Error().stack??""}))}:{name:J.config.name,seed:J.config.seed,checksum:$,dependencies:J.dependencies}),J8(J.event))this.event=wM1(this.event,AM1(J.event),$)}else if(J8(J.event))this.event=wM1(this.event,AM1(J.event));if(J.validator.global)this.validator.global=XQ(this.validator.global,{...J.validator.global});if(J.validator.scoped)this.validator.local=XQ(this.validator.local,{...J.validator.scoped});return this}macro(J){if(typeof J==="function"){let Z={checksum:BV(JSON.stringify({name:this.config.name,seed:this.config.seed,content:J.toString()})),fn:J};this.extender.macros.push(Z)}else if(typeof J==="object"){for(let X of Object.keys(J))if(typeof J[X]==="object"){let Y={...J[X]};J[X]=($)=>{if($===!0)return Y}}let Z={checksum:BV(JSON.stringify({name:this.config.name,seed:this.config.seed,content:Object.entries(J).map(([X,Y])=>`${X}+${Y}`).join(",")})),fn:()=>J};this.extender.macros.push(Z)}return this}mount(J,Z,X){if(J instanceof X7||typeof J==="function"||J.length===0||J==="/"){let W=typeof J==="function"?J:J instanceof X7?J.compile().fetch:Z instanceof X7?Z.compile().fetch:typeof Z==="function"?Z:(()=>{throw new Error("Invalid handler")})(),Q=({request:G,path:K})=>W(new Request(IM1(G.url,K),{method:G.method,headers:G.headers,signal:G.signal,credentials:G.credentials,referrerPolicy:G.referrerPolicy,duplex:G.duplex,redirect:G.redirect,mode:G.mode,keepalive:G.keepalive,integrity:G.integrity,body:G.body}));return this.route("ALL","/*",Q,{parse:"none",...X,detail:{...X?.detail,hide:!0},config:{mount:W}}),this}let Y=Z instanceof X7?Z.compile().fetch:typeof Z==="function"?Z:(()=>{throw new Error("Invalid handler")})(),$=J.length-(J.endsWith("*")?1:0),z=({request:W,path:Q})=>Y(new Request(IM1(W.url,Q.slice($)||"/"),{method:W.method,headers:W.headers,signal:W.signal,credentials:W.credentials,referrerPolicy:W.referrerPolicy,duplex:W.duplex,redirect:W.redirect,mode:W.mode,keepalive:W.keepalive,integrity:W.integrity,body:W.body}));return this.route("ALL",J,z,{parse:"none",...X,detail:{...X?.detail,hide:!0},config:{mount:Y}}),this.route("ALL",J+(J.endsWith("/")?"*":"/*"),z,{parse:"none",...X,detail:{...X?.detail,hide:!0},config:{mount:Y}}),this}get(J,Z,X){return this.add("GET",J,Z,X),this}post(J,Z,X){return this.add("POST",J,Z,X),this}put(J,Z,X){return this.add("PUT",J,Z,X),this}patch(J,Z,X){return this.add("PATCH",J,Z,X),this}delete(J,Z,X){return this.add("DELETE",J,Z,X),this}options(J,Z,X){return this.add("OPTIONS",J,Z,X),this}all(J,Z,X){return this.add("ALL",J,Z,X),this}head(J,Z,X){return this.add("HEAD",J,Z,X),this}connect(J,Z,X){return this.add("CONNECT",J,Z,X),this}route(J,Z,X,Y){return this.add(J.toUpperCase(),Z,X,Y,Y?.config),this}ws(J,Z){if(this["~adapter"].ws)this["~adapter"].ws(this,J,Z);else console.warn("Current adapter doesn't support WebSocket");return this}state(J,Z,X){if(Z===void 0)X=J,J={as:"append"},Z="";else if(X===void 0){if(typeof J==="string")X=Z,Z=J,J={as:"append"};else if(typeof J==="object")X=Z,Z=""}let{as:Y}=J;if(typeof Z!=="string")return this;switch(typeof X){case"object":if(!X||!J8(X))return this;if(Z){if(Z in this.singleton.store)this.singleton.store[Z]=T7(this.singleton.store[Z],X,{override:Y==="override"});else this.singleton.store[Z]=X;return this}if(X===null)return this;return this.singleton.store=T7(this.singleton.store,X,{override:Y==="override"}),this;case"function":if(Z){if(Y==="override"||!(Z in this.singleton.store))this.singleton.store[Z]=X}else this.singleton.store=X(this.singleton.store);return this;default:if(Y==="override"||!(Z in this.singleton.store))this.singleton.store[Z]=X;return this}}decorate(J,Z,X){if(Z===void 0)X=J,J={as:"append"},Z="";else if(X===void 0){if(typeof J==="string")X=Z,Z=J,J={as:"append"};else if(typeof J==="object")X=Z,Z=""}let{as:Y}=J;if(typeof Z!=="string")return this;switch(typeof X){case"object":if(Z){if(Z in this.singleton.decorator)this.singleton.decorator[Z]=T7(this.singleton.decorator[Z],X,{override:Y==="override"});else this.singleton.decorator[Z]=X;return this}if(X===null)return this;return this.singleton.decorator=T7(this.singleton.decorator,X,{override:Y==="override"}),this;case"function":if(Z){if(Y==="override"||!(Z in this.singleton.decorator))this.singleton.decorator[Z]=X}else this.singleton.decorator=X(this.singleton.decorator);return this;default:if(Y==="override"||!(Z in this.singleton.decorator))this.singleton.decorator[Z]=X;return this}}derive(J,Z){if(!Z)Z=J,J={as:"local"};let X={subType:"derive",fn:Z};return this.onTransform(J,X)}model(J,Z){switch(typeof J){case"object":let X={},Y=Object.entries(J);if(!Y.length)return this;for(let[W,Q]of Y){if(W in this.definitions.type)continue;X[W]=this.definitions.type[W]=Q,X[W].$id??=`#/components/schemas/${W}`}return this.definitions.typebox=_1.Module({...this.definitions.typebox.$defs,...X}),this;case"function":let $=J(this.definitions.type);return this.definitions.type=$,this.definitions.typebox=_1.Module($),this;case"string":if(!Z)break;let z={...Z,id:Z.$id??`#/components/schemas/${J}`};return this.definitions.type[J]=Z,this.definitions.typebox=_1.Module({...this.definitions.typebox.$defs,...z}),this}return this.definitions.type[J]=Z,this.definitions.typebox=_1.Module({...this.definitions.typebox.$defs,[J]:Z}),this}Ref(J){return _1.Ref(J)}mapDerive(J,Z){if(!Z)Z=J,J={as:"local"};let X={subType:"mapDerive",fn:Z};return this.onTransform(J,X)}affix(J,Z,X){if(X==="")return this;let Y=["_","-"," "],$=(G)=>G[0].toUpperCase()+G.slice(1),z=J==="prefix"?(G,K)=>Y.includes(G.at(-1)??"")?G+K:G+$(K):Y.includes(X.at(-1)??"")?(G,K)=>K+G:(G,K)=>K+$(G),W=(G)=>{let K={};switch(G){case"decorator":for(let q in this.singleton.decorator)K[z(X,q)]=this.singleton.decorator[q];this.singleton.decorator=K;break;case"state":for(let q in this.singleton.store)K[z(X,q)]=this.singleton.store[q];this.singleton.store=K;break;case"model":for(let q in this.definitions.type)K[z(X,q)]=this.definitions.type[q];this.definitions.type=K;break;case"error":for(let q in this.definitions.error)K[z(X,q)]=this.definitions.error[q];this.definitions.error=K;break}},Q=Array.isArray(Z)?Z:[Z];for(let G of Q.some((K)=>K==="all")?["decorator","state","model","error"]:Q)W(G);return this}prefix(J,Z){return this.affix("prefix",J,Z)}suffix(J,Z){return this.affix("suffix",J,Z)}compile(){if(this["~adapter"].isWebStandard){if(this.fetch=this.config.aot?Li(this):uM1(this),typeof this.server?.reload==="function")this.server.reload({...this.server||{},fetch:this.fetch});return this}if(typeof this.server?.reload==="function")this.server.reload(this.server||{});return this._handle=Li(this),this}handle=async(J)=>this.fetch(J);fetch=(J)=>{return(this.fetch=this.config.aot?Li(this):uM1(this))(J)};handleError=async(J,Z)=>{return(this.handleError=this.config.aot?FN1(this):S74(this))(J,Z)};listen=(J,Z)=>{if(this["~adapter"].listen(this)(J,Z),this.promisedModules.size)kM1(5000);return this.promisedModules.then(()=>{kM1(1000)}),this};stop=async(J)=>{if(!this.server)throw new Error("Elysia isn't running. Call `app.listen` to start the server.");if(this.server){if(this.server.stop(J),this.server=null,this.event.stop?.length)for(let Z=0;Z<this.event.stop.length;Z++)this.event.stop[Z].fn(this)}};get modules(){return this.promisedModules}}var T74=typeof new Headers()?.toJSON==="function",f74=(J)=>{if(T74)return Object.keys(J.toJSON()).join(", ");let Z="",X=0;return J.forEach((Y,$)=>{if(X)Z=Z+", "+$;else Z=$;X++}),Z},DN1=(J)=>{let{aot:Z=!0,origin:X=!0,methods:Y=!0,allowedHeaders:$=!0,exposeHeaders:z=!0,credentials:W=!0,maxAge:Q=5,preflight:G=!0}=J??{};if(Array.isArray($))$=$.join(", ");if(Array.isArray(z))z=z.join(", ");let K=typeof X==="boolean"?void 0:Array.isArray(X)?X:[X],q=new X7({name:"@elysiajs/cors",seed:J,aot:Z}),H=K?.some((P)=>P==="*"),F={};if(K){for(let P of K)if(typeof P==="string")F[P]=!0}let U=(P,R,f)=>{if(Array.isArray(P))return P.some((d)=>U(d,R,f));switch(typeof P){case"string":if(f in F)return!0;let d=f.indexOf("://");if(d!==-1)f=f.slice(d+3);return P===f;case"function":return P(R)===!0;case"object":if(P instanceof RegExp)return P.test(f)}return!1},D=(P,R)=>{if(X===!0){P.headers.vary="*",P.headers["access-control-allow-origin"]=R.headers.get("Origin")||"*";return}if(H){P.headers.vary="*",P.headers["access-control-allow-origin"]="*";return}if(!K?.length)return;let f=[];if(K.length){let d=R.headers.get("Origin")??"";for(let v=0;v<K.length;v++)if(U(K[v],R,d)===!0){P.headers.vary=X?"Origin":"*",P.headers["access-control-allow-origin"]=d||"*";return}}if(P.headers.vary="Origin",f.length)P.headers["access-control-allow-origin"]=f.join(", ")},V=(P,R)=>{if(!R)return;if(Y===!0)return P.headers["access-control-allow-methods"]=R??"*";if(Y===!1||!Y?.length)return;if(Y==="*")return P.headers["access-control-allow-methods"]="*";if(!Array.isArray(Y))return P.headers["access-control-allow-methods"]=Y;P.headers["access-control-allow-methods"]=Y.join(", ")},w={};if(typeof z==="string")w["access-control-expose-headers"]=z;if(typeof $==="string")w["access-control-allow-headers"]=$;if(W===!0)w["access-control-allow-credentials"]="true";q.headers(w);function M({set:P,request:R,headers:f}){if(D(P,R),V(P,R.headers.get("access-control-request-method")),$===!0||z===!0){if($===!0)P.headers["access-control-allow-headers"]=f["access-control-request-headers"];if(z===!0)P.headers["access-control-expose-headers"]=Object.keys(f).join(",")}if(Q)P.headers["access-control-max-age"]=Q.toString();return new Response(null,{status:204})}if(G)q.options("/",M).options("/*",M);return q.onRequest(function P({set:R,request:f}){if(D(R,f),V(R,f.method),$===!0||z===!0){let d=f74(f.headers);if($===!0)R.headers["access-control-allow-headers"]=d;if(z===!0)R.headers["access-control-expose-headers"]=d}})};var Ma=M1(B6(),1);var lT=(J)=>Array.isArray(J)?J:J?[J]:[];function dH4(J,Z){if(String(J)<String(Z))return-1;if(String(J)>String(Z))return 1;return 0}function KE1(J){var Z,X;let Y;if("alias"in J)Y=(Z=J.alias)===null||Z===void 0?void 0:Z.value;if(Y==null&&"name"in J)Y=(X=J.name)===null||X===void 0?void 0:X.value;if(Y==null)Y=J.kind;return Y}function pK(J,Z,X){let Y=KE1(J),$=KE1(Z);if(typeof X==="function")return X(Y,$);return dH4(Y,$)}function nK(J){return J!=null}function qE1(J){return J!=null&&typeof J==="object"&&Symbol.iterator in J}function pT(J){return typeof J==="object"&&J!==null}function T5(J){return pT(J)&&typeof J.then==="function"}function BE1(J,Z,X){let Y=X;for(let $ of J)Y=T5(Y)?Y.then((z)=>Z(z,$)):Z(Y,$);return Y}function nT(J,Z){return Object.prototype.hasOwnProperty.call(J,Z)}var KY=M1(B6(),1);var LN=M1(B6(),1);function n1(J,Z){if(LN.versionInfo.major>=17)return new LN.GraphQLError(J,Z);return new LN.GraphQLError(J,Z===null||Z===void 0?void 0:Z.nodes,Z===null||Z===void 0?void 0:Z.source,Z===null||Z===void 0?void 0:Z.positions,Z===null||Z===void 0?void 0:Z.path,Z===null||Z===void 0?void 0:Z.originalError,Z===null||Z===void 0?void 0:Z.extensions)}var DE1=M1(B6(),1);var HE1;if(typeof AggregateError==="undefined"){class J extends Error{constructor(Z,X=""){super(X);this.errors=Z,this.name="AggregateError",Error.captureStackTrace(this,J)}}HE1=function(Z,X){return new J(Z,X)}}else HE1=AggregateError;function FE1(J){return"errors"in J&&Array.isArray(J.errors)}var VE1=3;function f5(J){return iT(J,[])}function iT(J,Z){switch(typeof J){case"string":return JSON.stringify(J);case"function":return J.name?`[function ${J.name}]`:"[function]";case"object":return uH4(J,Z);default:return String(J)}}function UE1(J){if(J instanceof DE1.GraphQLError)return J.toString();return`${J.name}: ${J.message};
 ${J.stack}`}function uH4(J,Z){if(J===null)return"null";if(J instanceof Error){if(FE1(J))return UE1(J)+`
`+OE1(J.errors,Z);return UE1(J)}if(Z.includes(J))return"[Circular]";let X=[...Z,J];if(mH4(J)){let Y=J.toJSON();if(Y!==J)return typeof Y==="string"?Y:iT(Y,X)}else if(Array.isArray(J))return OE1(J,X);return cH4(J,X)}function mH4(J){return typeof J.toJSON==="function"}function cH4(J,Z){let X=Object.entries(J);if(X.length===0)return"{}";if(Z.length>VE1)return"["+lH4(J)+"]";return"{ "+X.map(([$,z])=>$+": "+iT(z,Z)).join(", ")+" }"}function OE1(J,Z){if(J.length===0)return"[]";if(Z.length>VE1)return"[Array]";let X=J.length,Y=[];for(let $=0;$<X;++$)Y.push(iT(J[$],Z));return"["+Y.join(", ")+"]"}function lH4(J){let Z=Object.prototype.toString.call(J).replace(/^\[object /,"").replace(/]$/,"");if(Z==="Object"&&typeof J.constructor==="function"){let X=J.constructor.name;if(typeof X==="string"&&X!=="")return X}return Z}function Ua(J,Z,X={}){var Y;let $={},W=((Y=Z.arguments)!==null&&Y!==void 0?Y:[]).reduce((Q,G)=>({...Q,[G.name.value]:G}),{});for(let{name:Q,type:G,defaultValue:K}of J.args){let q=W[Q];if(!q){if(K!==void 0)$[Q]=K;else if(KY.isNonNullType(G))throw n1(`Argument "${Q}" of required type "${f5(G)}" was not provided.`,{nodes:[Z]});continue}let H=q.value,F=H.kind===KY.Kind.NULL;if(H.kind===KY.Kind.VARIABLE){let D=H.name.value;if(X==null||!nT(X,D)){if(K!==void 0)$[Q]=K;else if(KY.isNonNullType(G))throw n1(`Argument "${Q}" of required type "${f5(G)}" was provided the variable "$${D}" which was not provided a runtime value.`,{nodes:[H]});continue}F=X[D]==null}if(F&&KY.isNonNullType(G))throw n1(`Argument "${Q}" of non-null type "${f5(G)}" must not be null.`,{nodes:[H]});let U=KY.valueFromAST(H,G,X);if(U===void 0)throw n1(`Argument "${Q}" has invalid value ${KY.print(H)}.`,{nodes:[H]});$[Q]=U}return $}function oT(J,Z=["directives"]){return Z.reduce((X,Y)=>X==null?X:X[Y],J===null||J===void 0?void 0:J.extensions)}var l1=M1(B6(),1);var P$=M1(B6(),1);function L$(J){if(P$.isNonNullType(J)){let Z=L$(J.ofType);if(Z.kind===P$.Kind.NON_NULL_TYPE)throw new Error(`Invalid type node ${f5(J)}. Inner type of non-null type cannot be a non-null type.`);return{kind:P$.Kind.NON_NULL_TYPE,type:Z}}else if(P$.isListType(J))return{kind:P$.Kind.LIST_TYPE,type:L$(J.ofType)};return{kind:P$.Kind.NAMED_TYPE,name:{kind:P$.Kind.NAME,value:J.name}}}var C$=M1(B6(),1);function sT(J){if(J===null)return{kind:C$.Kind.NULL};if(J===void 0)return null;if(Array.isArray(J)){let Z=[];for(let X of J){let Y=sT(X);if(Y!=null)Z.push(Y)}return{kind:C$.Kind.LIST,values:Z}}if(typeof J==="object"){let Z=[];for(let X in J){let Y=J[X],$=sT(Y);if($)Z.push({kind:C$.Kind.OBJECT_FIELD,name:{kind:C$.Kind.NAME,value:X},value:$})}return{kind:C$.Kind.OBJECT,fields:Z}}if(typeof J==="boolean")return{kind:C$.Kind.BOOLEAN,value:J};if(typeof J==="number"&&isFinite(J)){let Z=String(J);return pH4.test(Z)?{kind:C$.Kind.INT,value:Z}:{kind:C$.Kind.FLOAT,value:Z}}if(typeof J==="string")return{kind:C$.Kind.STRING,value:J};throw new TypeError(`Cannot convert value to AST: ${J}.`)}var pH4=/^-?(?:0|[1-9][0-9]*)$/;function aT(J){let Z=new WeakMap;return function X(Y){let $=Z.get(Y);if($===void 0){let z=J(Y);return Z.set(Y,z),z}return $}}function IE1(J){let Z=new WeakMap;return function X(Y,$,z){let W=Z.get(Y);if(!W){W=new WeakMap,Z.set(Y,W);let K=new WeakMap;W.set($,K);let q=J(Y,$,z);return K.set(z,q),q}let Q=W.get($);if(!Q){Q=new WeakMap,W.set($,Q);let K=J(Y,$,z);return Q.set(z,K),K}let G=Q.get(z);if(G===void 0){let K=J(Y,$,z);return Q.set(z,K),K}return G}}function wE1(J){let Z=new WeakMap;return function X(Y,$,z,W,Q){let G=Z.get(Y);if(!G){G=new WeakMap,Z.set(Y,G);let U=new WeakMap;G.set($,U);let D=new WeakMap;U.set(z,D);let V=new WeakMap;D.set(W,V);let w=J(Y,$,z,W,Q);return V.set(Q,w),w}let K=G.get($);if(!K){K=new WeakMap,G.set($,K);let U=new WeakMap;K.set(z,U);let D=new WeakMap;U.set(W,D);let V=J(Y,$,z,W,Q);return D.set(Q,V),V}let q=K.get(z);if(!q){q=new WeakMap,K.set(z,q);let U=new WeakMap;q.set(W,U);let D=J(Y,$,z,W,Q);return U.set(Q,D),D}let H=q.get(W);if(!H){H=new WeakMap,q.set(W,H);let U=J(Y,$,z,W,Q);return H.set(Q,U),U}let F=H.get(Q);if(F===void 0){let U=J(Y,$,z,W,Q);return H.set(Q,U),U}return F}}function AE1(J,Z,X){let $=rT(J).get(Z);if($==null)throw n1(`Schema is not configured to execute ${Z} operation.`,{nodes:X});return $}var r69=aT(function J(Z){let X=nH4(Z);return new Set([...X].map((Y)=>Y.name))}),nH4=aT(function J(Z){let X=rT(Z);return new Set(X.values())}),rT=aT(function J(Z){let X=new Map,Y=Z.getQueryType();if(Y)X.set("query",Y);let $=Z.getMutationType();if($)X.set("mutation",$);let z=Z.getSubscriptionType();if(z)X.set("subscription",z);return X});function ME1(J,Z={}){let X=Z.pathToDirectivesInExtensions,Y=J.getTypeMap(),$=iH4(J,X),z=$!=null?[$]:[],W=J.getDirectives();for(let Q of W){if(l1.isSpecifiedDirective(Q))continue;z.push(oH4(Q,J,X))}for(let Q in Y){let G=Y[Q],K=l1.isSpecifiedScalarType(G),q=l1.isIntrospectionType(G);if(K||q)continue;if(l1.isObjectType(G))z.push(sH4(G,J,X));else if(l1.isInterfaceType(G))z.push(aH4(G,J,X));else if(l1.isUnionType(G))z.push(rH4(G,J,X));else if(l1.isInputObjectType(G))z.push(tH4(G,J,X));else if(l1.isEnumType(G))z.push(eH4(G,J,X));else if(l1.isScalarType(G))z.push(JF4(G,J,X));else throw new Error(`Unknown type ${G}.`)}return{kind:l1.Kind.DOCUMENT,definitions:z}}function iH4(J,Z){var X,Y;let $=new Map([["query",void 0],["mutation",void 0],["subscription",void 0]]),z=[];if(J.astNode!=null)z.push(J.astNode);if(J.extensionASTNodes!=null)for(let q of J.extensionASTNodes)z.push(q);for(let q of z)if(q.operationTypes)for(let H of q.operationTypes)$.set(H.operation,H);let W=rT(J);for(let[q,H]of $){let F=W.get(q);if(F!=null){let U=L$(F);if(H!=null)H.type=U;else $.set(q,{kind:l1.Kind.OPERATION_TYPE_DEFINITION,operation:q,type:U})}}let Q=[...$.values()].filter(nK),G=TV(J,J,Z);if(!Q.length&&!G.length)return null;let K={kind:Q!=null?l1.Kind.SCHEMA_DEFINITION:l1.Kind.SCHEMA_EXTENSION,operationTypes:Q,directives:G};return K.description=((Y=(X=J.astNode)===null||X===void 0?void 0:X.description)!==null&&Y!==void 0?Y:J.description!=null)?{kind:l1.Kind.STRING,value:J.description,block:!0}:void 0,K}function oH4(J,Z,X){var Y,$,z,W;return{kind:l1.Kind.DIRECTIVE_DEFINITION,description:($=(Y=J.astNode)===null||Y===void 0?void 0:Y.description)!==null&&$!==void 0?$:J.description?{kind:l1.Kind.STRING,value:J.description}:void 0,name:{kind:l1.Kind.NAME,value:J.name},arguments:(z=J.args)===null||z===void 0?void 0:z.map((Q)=>NE1(Q,Z,X)),repeatable:J.isRepeatable,locations:((W=J.locations)===null||W===void 0?void 0:W.map((Q)=>({kind:l1.Kind.NAME,value:Q})))||[]}}function TV(J,Z,X){let Y=oT(J,X),$=[];if(J.astNode!=null)$.push(J.astNode);if("extensionASTNodes"in J&&J.extensionASTNodes!=null)$=$.concat(J.extensionASTNodes);let z;if(Y!=null)z=Oa(Z,Y);else{z=[];for(let W of $)if(W.directives)z.push(...W.directives)}return z}function eT(J,Z,X){var Y,$;let z=[],W=null,Q=oT(J,X),G;if(Q!=null)G=Oa(Z,Q);else G=(Y=J.astNode)===null||Y===void 0?void 0:Y.directives;if(G!=null){if(z=G.filter((K)=>K.name.value!=="deprecated"),J.deprecationReason!=null)W=($=G.filter((K)=>K.name.value==="deprecated"))===null||$===void 0?void 0:$[0]}if(J.deprecationReason!=null&&W==null)W=YF4(J.deprecationReason);return W==null?z:[W].concat(z)}function NE1(J,Z,X){var Y,$,z;return{kind:l1.Kind.INPUT_VALUE_DEFINITION,description:($=(Y=J.astNode)===null||Y===void 0?void 0:Y.description)!==null&&$!==void 0?$:J.description?{kind:l1.Kind.STRING,value:J.description,block:!0}:void 0,name:{kind:l1.Kind.NAME,value:J.name},type:L$(J.type),defaultValue:J.defaultValue!==void 0?(z=l1.astFromValue(J.defaultValue,J.type))!==null&&z!==void 0?z:void 0:void 0,directives:eT(J,Z,X)}}function sH4(J,Z,X){var Y,$;return{kind:l1.Kind.OBJECT_TYPE_DEFINITION,description:($=(Y=J.astNode)===null||Y===void 0?void 0:Y.description)!==null&&$!==void 0?$:J.description?{kind:l1.Kind.STRING,value:J.description,block:!0}:void 0,name:{kind:l1.Kind.NAME,value:J.name},fields:Object.values(J.getFields()).map((z)=>PE1(z,Z,X)),interfaces:Object.values(J.getInterfaces()).map((z)=>L$(z)),directives:TV(J,Z,X)}}function aH4(J,Z,X){var Y,$;let z={kind:l1.Kind.INTERFACE_TYPE_DEFINITION,description:($=(Y=J.astNode)===null||Y===void 0?void 0:Y.description)!==null&&$!==void 0?$:J.description?{kind:l1.Kind.STRING,value:J.description,block:!0}:void 0,name:{kind:l1.Kind.NAME,value:J.name},fields:Object.values(J.getFields()).map((W)=>PE1(W,Z,X)),directives:TV(J,Z,X)};if("getInterfaces"in J)z.interfaces=Object.values(J.getInterfaces()).map((W)=>L$(W));return z}function rH4(J,Z,X){var Y,$;return{kind:l1.Kind.UNION_TYPE_DEFINITION,description:($=(Y=J.astNode)===null||Y===void 0?void 0:Y.description)!==null&&$!==void 0?$:J.description?{kind:l1.Kind.STRING,value:J.description,block:!0}:void 0,name:{kind:l1.Kind.NAME,value:J.name},directives:TV(J,Z,X),types:J.getTypes().map((z)=>L$(z))}}function tH4(J,Z,X){var Y,$;return{kind:l1.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:($=(Y=J.astNode)===null||Y===void 0?void 0:Y.description)!==null&&$!==void 0?$:J.description?{kind:l1.Kind.STRING,value:J.description,block:!0}:void 0,name:{kind:l1.Kind.NAME,value:J.name},fields:Object.values(J.getFields()).map((z)=>ZF4(z,Z,X)),directives:TV(J,Z,X)}}function eH4(J,Z,X){var Y,$;return{kind:l1.Kind.ENUM_TYPE_DEFINITION,description:($=(Y=J.astNode)===null||Y===void 0?void 0:Y.description)!==null&&$!==void 0?$:J.description?{kind:l1.Kind.STRING,value:J.description,block:!0}:void 0,name:{kind:l1.Kind.NAME,value:J.name},values:Object.values(J.getValues()).map((z)=>XF4(z,Z,X)),directives:TV(J,Z,X)}}function JF4(J,Z,X){var Y,$,z;let W=oT(J,X),Q=W?Oa(Z,W):((Y=J.astNode)===null||Y===void 0?void 0:Y.directives)||[],G=J.specifiedByUrl||J.specifiedByURL;if(G&&!Q.some((K)=>K.name.value==="specifiedBy")){let K={url:G};Q.push(tT("specifiedBy",K))}return{kind:l1.Kind.SCALAR_TYPE_DEFINITION,description:(z=($=J.astNode)===null||$===void 0?void 0:$.description)!==null&&z!==void 0?z:J.description?{kind:l1.Kind.STRING,value:J.description,block:!0}:void 0,name:{kind:l1.Kind.NAME,value:J.name},directives:Q}}function PE1(J,Z,X){var Y,$;return{kind:l1.Kind.FIELD_DEFINITION,description:($=(Y=J.astNode)===null||Y===void 0?void 0:Y.description)!==null&&$!==void 0?$:J.description?{kind:l1.Kind.STRING,value:J.description,block:!0}:void 0,name:{kind:l1.Kind.NAME,value:J.name},arguments:J.args.map((z)=>NE1(z,Z,X)),type:L$(J.type),directives:eT(J,Z,X)}}function ZF4(J,Z,X){var Y,$,z;return{kind:l1.Kind.INPUT_VALUE_DEFINITION,description:($=(Y=J.astNode)===null||Y===void 0?void 0:Y.description)!==null&&$!==void 0?$:J.description?{kind:l1.Kind.STRING,value:J.description,block:!0}:void 0,name:{kind:l1.Kind.NAME,value:J.name},type:L$(J.type),directives:eT(J,Z,X),defaultValue:(z=l1.astFromValue(J.defaultValue,J.type))!==null&&z!==void 0?z:void 0}}function XF4(J,Z,X){var Y,$;return{kind:l1.Kind.ENUM_VALUE_DEFINITION,description:($=(Y=J.astNode)===null||Y===void 0?void 0:Y.description)!==null&&$!==void 0?$:J.description?{kind:l1.Kind.STRING,value:J.description,block:!0}:void 0,name:{kind:l1.Kind.NAME,value:J.name},directives:eT(J,Z,X)}}function YF4(J){return tT("deprecated",{reason:J},l1.GraphQLDeprecatedDirective)}function tT(J,Z,X){let Y=[];if(X!=null)for(let $ of X.args){let z=$.name,W=Z[z];if(W!==void 0){let Q=l1.astFromValue(W,$.type);if(Q)Y.push({kind:l1.Kind.ARGUMENT,name:{kind:l1.Kind.NAME,value:z},value:Q})}}else for(let $ in Z){let z=Z[$],W=sT(z);if(W)Y.push({kind:l1.Kind.ARGUMENT,name:{kind:l1.Kind.NAME,value:$},value:W})}return{kind:l1.Kind.DIRECTIVE,name:{kind:l1.Kind.NAME,value:J},arguments:Y}}function Oa(J,Z){let X=[];for(let Y in Z){let $=Z[Y],z=J===null||J===void 0?void 0:J.getDirective(Y);if(Array.isArray($))for(let W of $)X.push(tT(Y,W,z));else X.push(tT(Y,$,z))}return X}var Zf=M1(B6(),1),$F4=80,fV={};function Xf(){fV={}}function RE1(J){var Z;let X=(Z=J.name)===null||Z===void 0?void 0:Z.value;if(X==null)return;switch(Jf(J,X),J.kind){case"EnumTypeDefinition":if(J.values)for(let Y of J.values)Jf(Y,X,Y.name.value);break;case"ObjectTypeDefinition":case"InputObjectTypeDefinition":case"InterfaceTypeDefinition":if(J.fields){for(let Y of J.fields)if(Jf(Y,X,Y.name.value),KF4(Y)&&Y.arguments)for(let $ of Y.arguments)Jf($,X,Y.name.value,$.name.value)}break}}function Jf(J,Z,X,Y){let $=qF4(J);if(typeof $!=="string"||$.length===0)return;let z=[Z];if(X){if(z.push(X),Y)z.push(Y)}let W=z.join(".");if(!fV[W])fV[W]=[];fV[W].push($)}function zF4(J){return`
# `+J.replace(/\n/g,`
# `)}function a1(J,Z){return J?J.filter((X)=>X).join(Z||""):""}function LE1(J){var Z;return(Z=J===null||J===void 0?void 0:J.some((X)=>X.includes(`
`)))!==null&&Z!==void 0?Z:!1}function WF4(J){return(Z,X,Y,$,z)=>{var W;let Q=[],G=$.reduce((H,F)=>{if(["fields","arguments","values"].includes(F)&&H.name)Q.push(H.name.value);return H[F]},z[0]),K=[...Q,(W=G===null||G===void 0?void 0:G.name)===null||W===void 0?void 0:W.value].filter(Boolean).join("."),q=[];if(Z.kind.includes("Definition")&&fV[K])q.push(...fV[K]);return a1([...q.map(zF4),Z.description,J(Z,X,Y,$,z)],`
`)}}function CN(J){return J&&`  ${J.replace(/\n/g,`
  `)}`}function qY(J){return J&&J.length!==0?`{
${CN(a1(J,`
`))}
}`:""}function b8(J,Z,X){return Z?J+Z+(X||""):""}function QF4(J,Z=!1){let X=J.replace(/"""/g,'\\"""');return(J[0]===" "||J[0]==="\t")&&J.indexOf(`
`)===-1?`"""${X.replace(/"$/,`"
`)}"""`:`"""
${Z?X:CN(X)}
"""`}var CE1={Name:{leave:(J)=>J.value},Variable:{leave:(J)=>"$"+J.name},Document:{leave:(J)=>a1(J.definitions,`

`)},OperationDefinition:{leave:(J)=>{let Z=b8("(",a1(J.variableDefinitions,", "),")");return a1([J.operation,a1([J.name,Z]),a1(J.directives," ")]," ")+" "+J.selectionSet}},VariableDefinition:{leave:({variable:J,type:Z,defaultValue:X,directives:Y})=>J+": "+Z+b8(" = ",X)+b8(" ",a1(Y," "))},SelectionSet:{leave:({selections:J})=>qY(J)},Field:{leave({alias:J,name:Z,arguments:X,directives:Y,selectionSet:$}){let z=b8("",J,": ")+Z,W=z+b8("(",a1(X,", "),")");if(W.length>$F4)W=z+b8(`(
`,CN(a1(X,`
`)),`
)`);return a1([W,a1(Y," "),$]," ")}},Argument:{leave:({name:J,value:Z})=>J+": "+Z},FragmentSpread:{leave:({name:J,directives:Z})=>"..."+J+b8(" ",a1(Z," "))},InlineFragment:{leave:({typeCondition:J,directives:Z,selectionSet:X})=>a1(["...",b8("on ",J),a1(Z," "),X]," ")},FragmentDefinition:{leave:({name:J,typeCondition:Z,variableDefinitions:X,directives:Y,selectionSet:$})=>`fragment ${J}${b8("(",a1(X,", "),")")} on ${Z} ${b8("",a1(Y," ")," ")}`+$},IntValue:{leave:({value:J})=>J},FloatValue:{leave:({value:J})=>J},StringValue:{leave:({value:J,block:Z})=>{if(Z)return QF4(J);return JSON.stringify(J)}},BooleanValue:{leave:({value:J})=>J?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:J})=>J},ListValue:{leave:({values:J})=>"["+a1(J,", ")+"]"},ObjectValue:{leave:({fields:J})=>"{"+a1(J,", ")+"}"},ObjectField:{leave:({name:J,value:Z})=>J+": "+Z},Directive:{leave:({name:J,arguments:Z})=>"@"+J+b8("(",a1(Z,", "),")")},NamedType:{leave:({name:J})=>J},ListType:{leave:({type:J})=>"["+J+"]"},NonNullType:{leave:({type:J})=>J+"!"},SchemaDefinition:{leave:({directives:J,operationTypes:Z})=>a1(["schema",a1(J," "),qY(Z)]," ")},OperationTypeDefinition:{leave:({operation:J,type:Z})=>J+": "+Z},ScalarTypeDefinition:{leave:({name:J,directives:Z})=>a1(["scalar",J,a1(Z," ")]," ")},ObjectTypeDefinition:{leave:({name:J,interfaces:Z,directives:X,fields:Y})=>a1(["type",J,b8("implements ",a1(Z," & ")),a1(X," "),qY(Y)]," ")},FieldDefinition:{leave:({name:J,arguments:Z,type:X,directives:Y})=>J+(LE1(Z)?b8(`(
`,CN(a1(Z,`
`)),`
)`):b8("(",a1(Z,", "),")"))+": "+X+b8(" ",a1(Y," "))},InputValueDefinition:{leave:({name:J,type:Z,defaultValue:X,directives:Y})=>a1([J+": "+Z,b8("= ",X),a1(Y," ")]," ")},InterfaceTypeDefinition:{leave:({name:J,interfaces:Z,directives:X,fields:Y})=>a1(["interface",J,b8("implements ",a1(Z," & ")),a1(X," "),qY(Y)]," ")},UnionTypeDefinition:{leave:({name:J,directives:Z,types:X})=>a1(["union",J,a1(Z," "),b8("= ",a1(X," | "))]," ")},EnumTypeDefinition:{leave:({name:J,directives:Z,values:X})=>a1(["enum",J,a1(Z," "),qY(X)]," ")},EnumValueDefinition:{leave:({name:J,directives:Z})=>a1([J,a1(Z," ")]," ")},InputObjectTypeDefinition:{leave:({name:J,directives:Z,fields:X})=>a1(["input",J,a1(Z," "),qY(X)]," ")},DirectiveDefinition:{leave:({name:J,arguments:Z,repeatable:X,locations:Y})=>"directive @"+J+(LE1(Z)?b8(`(
`,CN(a1(Z,`
`)),`
)`):b8("(",a1(Z,", "),")"))+(X?" repeatable":"")+" on "+a1(Y," | ")},SchemaExtension:{leave:({directives:J,operationTypes:Z})=>a1(["extend schema",a1(J," "),qY(Z)]," ")},ScalarTypeExtension:{leave:({name:J,directives:Z})=>a1(["extend scalar",J,a1(Z," ")]," ")},ObjectTypeExtension:{leave:({name:J,interfaces:Z,directives:X,fields:Y})=>a1(["extend type",J,b8("implements ",a1(Z," & ")),a1(X," "),qY(Y)]," ")},InterfaceTypeExtension:{leave:({name:J,interfaces:Z,directives:X,fields:Y})=>a1(["extend interface",J,b8("implements ",a1(Z," & ")),a1(X," "),qY(Y)]," ")},UnionTypeExtension:{leave:({name:J,directives:Z,types:X})=>a1(["extend union",J,a1(Z," "),b8("= ",a1(X," | "))]," ")},EnumTypeExtension:{leave:({name:J,directives:Z,values:X})=>a1(["extend enum",J,a1(Z," "),qY(X)]," ")},InputObjectTypeExtension:{leave:({name:J,directives:Z,fields:X})=>a1(["extend input",J,a1(Z," "),qY(X)]," ")}},GF4=Object.keys(CE1).reduce((J,Z)=>({...J,[Z]:{leave:WF4(CE1[Z].leave)}}),{});function EE1(J){return Zf.visit(J,GF4)}function KF4(J){return J.kind==="FieldDefinition"}function qF4(J){let Z=BF4(J);if(Z!==void 0)return HF4(`
${Z}`)}function BF4(J){let Z=J.loc;if(!Z)return;let X=[],Y=Z.startToken.prev;while(Y!=null&&Y.kind===Zf.TokenKind.COMMENT&&Y.next!=null&&Y.prev!=null&&Y.line+1===Y.next.line&&Y.line!==Y.prev.line){let $=String(Y.value);X.push($),Y=Y.prev}return X.length>0?X.reverse().join(`
`):void 0}function HF4(J){let Z=J.split(/\r\n|[\n\r]/g),X=FF4(Z);if(X!==0)for(let Y=1;Y<Z.length;Y++)Z[Y]=Z[Y].slice(X);while(Z.length>0&&jE1(Z[0]))Z.shift();while(Z.length>0&&jE1(Z[Z.length-1]))Z.pop();return Z.join(`
`)}function FF4(J){let Z=null;for(let X=1;X<J.length;X++){let Y=J[X],$=SE1(Y);if($===Y.length)continue;if(Z===null||$<Z){if(Z=$,Z===0)break}}return Z===null?0:Z}function SE1(J){let Z=0;while(Z<J.length&&(J[Z]===" "||J[Z]==="\t"))Z++;return Z}function jE1(J){return SE1(J)===J.length}var t0;(function(J){J.TYPE="MapperKind.TYPE",J.SCALAR_TYPE="MapperKind.SCALAR_TYPE",J.ENUM_TYPE="MapperKind.ENUM_TYPE",J.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",J.OBJECT_TYPE="MapperKind.OBJECT_TYPE",J.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",J.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",J.UNION_TYPE="MapperKind.UNION_TYPE",J.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",J.ROOT_OBJECT="MapperKind.ROOT_OBJECT",J.QUERY="MapperKind.QUERY",J.MUTATION="MapperKind.MUTATION",J.SUBSCRIPTION="MapperKind.SUBSCRIPTION",J.DIRECTIVE="MapperKind.DIRECTIVE",J.FIELD="MapperKind.FIELD",J.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",J.OBJECT_FIELD="MapperKind.OBJECT_FIELD",J.ROOT_FIELD="MapperKind.ROOT_FIELD",J.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",J.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",J.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",J.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",J.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",J.ARGUMENT="MapperKind.ARGUMENT",J.ENUM_VALUE="MapperKind.ENUM_VALUE"})(t0||(t0={}));var o1=M1(B6(),1);var TE1=M1(B6(),1);function nH(J,Z){if(Z){let X=J[Z.name];if(TE1.isObjectType(X))return X}}var P6=M1(B6(),1);var J5=M1(B6(),1);function fE1(J){if("getFields"in J){let Z=J.getFields();for(let X in Z)return Z[X].name==="_fake"}return!1}function kE1(J){switch(J.name){case J5.GraphQLInt.name:return J5.GraphQLInt;case J5.GraphQLFloat.name:return J5.GraphQLFloat;case J5.GraphQLString.name:return J5.GraphQLString;case J5.GraphQLBoolean.name:return J5.GraphQLBoolean;case J5.GraphQLID.name:return J5.GraphQLID;default:return J}}function bE1(J,Z){let X=Object.create(null);for(let F in J)X[F]=J[F];let Y=Object.create(null);for(let F in X){let U=X[F];if(U==null||F.startsWith("__"))continue;let D=U.name;if(D.startsWith("__"))continue;if(Y[D]!=null){console.warn(`Duplicate schema type name ${D} found; keeping the existing one found in the schema`);continue}Y[D]=U}for(let F in Y)Y[F]=Q(Y[F]);let $=Z.map((F)=>z(F));return{typeMap:Y,directives:$};function z(F){if(P6.isSpecifiedDirective(F))return F;let U=F.toConfig();return U.args=W(U.args),new P6.GraphQLDirective(U)}function W(F){let U={};for(let D in F){let V=F[D],w=H(V.type);if(w!=null)V.type=w,U[D]=V}return U}function Q(F){if(P6.isObjectType(F)){let U=F.toConfig(),D={...U,fields:()=>G(U.fields),interfaces:()=>q(U.interfaces)};return new P6.GraphQLObjectType(D)}else if(P6.isInterfaceType(F)){let U=F.toConfig(),D={...U,fields:()=>G(U.fields)};if("interfaces"in D)D.interfaces=()=>q(U.interfaces);return new P6.GraphQLInterfaceType(D)}else if(P6.isUnionType(F)){let U=F.toConfig(),D={...U,types:()=>q(U.types)};return new P6.GraphQLUnionType(D)}else if(P6.isInputObjectType(F)){let U=F.toConfig(),D={...U,fields:()=>K(U.fields)};return new P6.GraphQLInputObjectType(D)}else if(P6.isEnumType(F)){let U=F.toConfig();return new P6.GraphQLEnumType(U)}else if(P6.isScalarType(F)){if(P6.isSpecifiedScalarType(F))return F;let U=F.toConfig();return new P6.GraphQLScalarType(U)}throw new Error(`Unexpected schema type: ${F}`)}function G(F){let U={};for(let D in F){let V=F[D],w=H(V.type);if(w!=null&&V.args)V.type=w,V.args=W(V.args),U[D]=V}return U}function K(F){let U={};for(let D in F){let V=F[D],w=H(V.type);if(w!=null)V.type=w,U[D]=V}return U}function q(F){let U=[];for(let D of F){let V=H(D);if(V!=null)U.push(V)}return U}function H(F){if(P6.isListType(F)){let U=H(F.ofType);return U!=null?new P6.GraphQLList(U):null}else if(P6.isNonNullType(F)){let U=H(F.ofType);return U!=null?new P6.GraphQLNonNull(U):null}else if(P6.isNamedType(F)){let U=X[F.name];if(U===void 0)U=fE1(F)?kE1(F):Q(F),Y[U.name]=X[F.name]=U;return U!=null?Y[U.name]:null}return null}}var iK=M1(B6(),1);function Yf(J,Z,X=null,Y=null){if(Z==null)return Z;let $=iK.getNullableType(J);if(iK.isLeafType($))return X!=null?X($,Z):Z;else if(iK.isListType($))return lT(Z).map((z)=>Yf($.ofType,z,X,Y));else if(iK.isInputObjectType($)){let z=$.getFields(),W={};for(let Q in Z){let G=z[Q];if(G!=null)W[Q]=Yf(G.type,Z[Q],X,Y)}return Y!=null?Y($,W):W}}function $f(J,Z){return Yf(J,Z,(X,Y)=>{try{return X.serialize(Y)}catch($){return Y}})}function zf(J,Z){return Yf(J,Z,(X,Y)=>{try{return X.parseValue(Y)}catch($){return Y}})}function jN(J,Z={}){let X=yE1(_E1(Da(hE1(UF4(Da(hE1(J.getTypeMap(),J,$f),J,Z,(Q)=>o1.isLeafType(Q)),J,Z),J,zf),J,Z,(Q)=>!o1.isLeafType(Q)),J,Z),J,Z),Y=J.getDirectives(),$=OF4(Y,J,Z),{typeMap:z,directives:W}=bE1(X,$);return new o1.GraphQLSchema({...J.toConfig(),query:nH(z,nH(X,J.getQueryType())),mutation:nH(z,nH(X,J.getMutationType())),subscription:nH(z,nH(X,J.getSubscriptionType())),types:Object.values(z),directives:W})}function Da(J,Z,X,Y=()=>!0){let $={};for(let z in J)if(!z.startsWith("__")){let W=J[z];if(W==null||!Y(W)){$[z]=W;continue}let Q=VF4(Z,X,z);if(Q==null){$[z]=W;continue}let G=Q(W,Z);if(G===void 0){$[z]=W;continue}$[z]=G}return $}function UF4(J,Z,X){let Y=NF4(X);if(!Y)return J;return Da(J,Z,{[t0.ENUM_TYPE]:($)=>{let z=$.toConfig(),W=z.values,Q={};for(let G in W){let K=W[G],q=Y(K,$.name,Z,G);if(q===void 0)Q[G]=K;else if(Array.isArray(q)){let[H,F]=q;Q[H]=F===void 0?K:F}else if(q!==null)Q[G]=q}return Wf(new o1.GraphQLEnumType({...z,values:Q}))}},($)=>o1.isEnumType($))}function hE1(J,Z,X){let Y=yE1(J,Z,{[t0.ARGUMENT]:($)=>{if($.defaultValue===void 0)return $;let z=Qf(J,$.type);if(z!=null)return{...$,defaultValue:X(z,$.defaultValue)}}});return _E1(Y,Z,{[t0.INPUT_OBJECT_FIELD]:($)=>{if($.defaultValue===void 0)return $;let z=Qf(Y,$.type);if(z!=null)return{...$,defaultValue:X(z,$.defaultValue)}}})}function Qf(J,Z){if(o1.isListType(Z)){let X=Qf(J,Z.ofType);return X!=null?new o1.GraphQLList(X):null}else if(o1.isNonNullType(Z)){let X=Qf(J,Z.ofType);return X!=null?new o1.GraphQLNonNull(X):null}else if(o1.isNamedType(Z)){let X=J[Z.name];return X!=null?X:null}return null}function _E1(J,Z,X){let Y={};for(let $ in J)if(!$.startsWith("__")){let z=J[$];if(!o1.isObjectType(z)&&!o1.isInterfaceType(z)&&!o1.isInputObjectType(z)){Y[$]=z;continue}let W=wF4(Z,X,$);if(W==null){Y[$]=z;continue}let Q=z.toConfig(),G=Q.fields,K={};for(let q in G){let H=G[q],F=W(H,q,$,Z);if(F===void 0)K[q]=H;else if(Array.isArray(F)){let[U,D]=F;if(D.astNode!=null)D.astNode={...D.astNode,name:{...D.astNode.name,value:U}};K[U]=D===void 0?H:D}else if(F!==null)K[q]=F}if(o1.isObjectType(z))Y[$]=Wf(new o1.GraphQLObjectType({...Q,fields:K}));else if(o1.isInterfaceType(z))Y[$]=Wf(new o1.GraphQLInterfaceType({...Q,fields:K}));else Y[$]=Wf(new o1.GraphQLInputObjectType({...Q,fields:K}))}return Y}function yE1(J,Z,X){let Y={};for(let $ in J)if(!$.startsWith("__")){let z=J[$];if(!o1.isObjectType(z)&&!o1.isInterfaceType(z)){Y[$]=z;continue}let W=AF4(X);if(W==null){Y[$]=z;continue}let Q=z.toConfig(),G=Q.fields,K={};for(let q in G){let H=G[q],F=H.args;if(F==null){K[q]=H;continue}let U=Object.keys(F);if(!U.length){K[q]=H;continue}let D={};for(let V of U){let w=F[V],M=W(w,q,$,Z);if(M===void 0)D[V]=w;else if(Array.isArray(M)){let[P,R]=M;D[P]=R}else if(M!==null)D[V]=M}K[q]={...H,args:D}}if(o1.isObjectType(z))Y[$]=new o1.GraphQLObjectType({...Q,fields:K});else if(o1.isInterfaceType(z))Y[$]=new o1.GraphQLInterfaceType({...Q,fields:K});else Y[$]=new o1.GraphQLInputObjectType({...Q,fields:K})}return Y}function OF4(J,Z,X){let Y=MF4(X);if(Y==null)return J.slice();let $=[];for(let z of J){let W=Y(z,Z);if(W===void 0)$.push(z);else if(W!==null)$.push(W)}return $}function DF4(J,Z){var X,Y,$;let z=J.getType(Z),W=[t0.TYPE];if(o1.isObjectType(z)){if(W.push(t0.COMPOSITE_TYPE,t0.OBJECT_TYPE),Z===((X=J.getQueryType())===null||X===void 0?void 0:X.name))W.push(t0.ROOT_OBJECT,t0.QUERY);else if(Z===((Y=J.getMutationType())===null||Y===void 0?void 0:Y.name))W.push(t0.ROOT_OBJECT,t0.MUTATION);else if(Z===(($=J.getSubscriptionType())===null||$===void 0?void 0:$.name))W.push(t0.ROOT_OBJECT,t0.SUBSCRIPTION)}else if(o1.isInputObjectType(z))W.push(t0.INPUT_OBJECT_TYPE);else if(o1.isInterfaceType(z))W.push(t0.COMPOSITE_TYPE,t0.ABSTRACT_TYPE,t0.INTERFACE_TYPE);else if(o1.isUnionType(z))W.push(t0.COMPOSITE_TYPE,t0.ABSTRACT_TYPE,t0.UNION_TYPE);else if(o1.isEnumType(z))W.push(t0.ENUM_TYPE);else if(o1.isScalarType(z))W.push(t0.SCALAR_TYPE);return W}function VF4(J,Z,X){let Y=DF4(J,X),$,z=[...Y];while(!$&&z.length>0){let W=z.pop();$=Z[W]}return $!=null?$:null}function IF4(J,Z){var X,Y,$;let z=J.getType(Z),W=[t0.FIELD];if(o1.isObjectType(z)){if(W.push(t0.COMPOSITE_FIELD,t0.OBJECT_FIELD),Z===((X=J.getQueryType())===null||X===void 0?void 0:X.name))W.push(t0.ROOT_FIELD,t0.QUERY_ROOT_FIELD);else if(Z===((Y=J.getMutationType())===null||Y===void 0?void 0:Y.name))W.push(t0.ROOT_FIELD,t0.MUTATION_ROOT_FIELD);else if(Z===(($=J.getSubscriptionType())===null||$===void 0?void 0:$.name))W.push(t0.ROOT_FIELD,t0.SUBSCRIPTION_ROOT_FIELD)}else if(o1.isInterfaceType(z))W.push(t0.COMPOSITE_FIELD,t0.INTERFACE_FIELD);else if(o1.isInputObjectType(z))W.push(t0.INPUT_OBJECT_FIELD);return W}function wF4(J,Z,X){let Y=IF4(J,X),$,z=[...Y];while(!$&&z.length>0){let W=z.pop();$=Z[W]}return $!==null&&$!==void 0?$:null}function AF4(J){let Z=J[t0.ARGUMENT];return Z!=null?Z:null}function MF4(J){let Z=J[t0.DIRECTIVE];return Z!=null?Z:null}function NF4(J){let Z=J[t0.ENUM_VALUE];return Z!=null?Z:null}function Wf(J){if(o1.isObjectType(J)){let Z=J.toConfig();if(Z.astNode!=null){let X=[];for(let Y in Z.fields){let $=Z.fields[Y];if($.astNode!=null)X.push($.astNode)}Z.astNode={...Z.astNode,kind:o1.Kind.OBJECT_TYPE_DEFINITION,fields:X}}if(Z.extensionASTNodes!=null)Z.extensionASTNodes=Z.extensionASTNodes.map((X)=>({...X,kind:o1.Kind.OBJECT_TYPE_EXTENSION,fields:void 0}));return new o1.GraphQLObjectType(Z)}else if(o1.isInterfaceType(J)){let Z=J.toConfig();if(Z.astNode!=null){let X=[];for(let Y in Z.fields){let $=Z.fields[Y];if($.astNode!=null)X.push($.astNode)}Z.astNode={...Z.astNode,kind:o1.Kind.INTERFACE_TYPE_DEFINITION,fields:X}}if(Z.extensionASTNodes!=null)Z.extensionASTNodes=Z.extensionASTNodes.map((X)=>({...X,kind:o1.Kind.INTERFACE_TYPE_EXTENSION,fields:void 0}));return new o1.GraphQLInterfaceType(Z)}else if(o1.isInputObjectType(J)){let Z=J.toConfig();if(Z.astNode!=null){let X=[];for(let Y in Z.fields){let $=Z.fields[Y];if($.astNode!=null)X.push($.astNode)}Z.astNode={...Z.astNode,kind:o1.Kind.INPUT_OBJECT_TYPE_DEFINITION,fields:X}}if(Z.extensionASTNodes!=null)Z.extensionASTNodes=Z.extensionASTNodes.map((X)=>({...X,kind:o1.Kind.INPUT_OBJECT_TYPE_EXTENSION,fields:void 0}));return new o1.GraphQLInputObjectType(Z)}else if(o1.isEnumType(J)){let Z=J.toConfig();if(Z.astNode!=null){let X=[];for(let Y in Z.values){let $=Z.values[Y];if($.astNode!=null)X.push($.astNode)}Z.astNode={...Z.astNode,values:X}}if(Z.extensionASTNodes!=null)Z.extensionASTNodes=Z.extensionASTNodes.map((X)=>({...X,values:void 0}));return new o1.GraphQLEnumType(Z)}else return J}var F5=M1(B6(),1);function vE1(J){return PF4(J.getTypeMap(),J.getDirectives()),J}function PF4(J,Z){let X=Object.create(null);for(let K in J){let q=J[K];if(q==null||K.startsWith("__"))continue;let H=q.name;if(H.startsWith("__"))continue;if(X[H]!=null){console.warn(`Duplicate schema type name ${H} found; keeping the existing one found in the schema`);continue}X[H]=q}for(let K in X){let q=X[K];J[K]=q}for(let K of Z)K.args=K.args.filter((q)=>{return q.type=G(q.type),q.type!==null});for(let K in J){let q=J[K];if(!K.startsWith("__")&&K in X){if(q!=null)Y(q)}}for(let K in J)if(!K.startsWith("__")&&!(K in X))delete J[K];function Y(K){if(F5.isObjectType(K)){$(K),z(K);return}else if(F5.isInterfaceType(K)){if($(K),"getInterfaces"in K)z(K);return}else if(F5.isUnionType(K)){Q(K);return}else if(F5.isInputObjectType(K)){W(K);return}else if(F5.isLeafType(K))return;throw new Error(`Unexpected schema type: ${K}`)}function $(K){let q=K.getFields();for(let[H,F]of Object.entries(q))if(F.args.map((U)=>{return U.type=G(U.type),U.type===null?null:U}).filter(Boolean),F.type=G(F.type),F.type===null)delete q[H]}function z(K){if("getInterfaces"in K){let q=K.getInterfaces();q.push(...q.splice(0).map((H)=>G(H)).filter(Boolean))}}function W(K){let q=K.getFields();for(let[H,F]of Object.entries(q))if(F.type=G(F.type),F.type===null)delete q[H]}function Q(K){let q=K.getTypes();q.push(...q.splice(0).map((H)=>G(H)).filter(Boolean))}function G(K){if(F5.isListType(K)){let q=G(K.ofType);return q!=null?new F5.GraphQLList(q):null}else if(F5.isNonNullType(K)){let q=G(K.ofType);return q!=null?new F5.GraphQLNonNull(q):null}else if(F5.isNamedType(K)){let q=J[K.name];if(q&&K!==q)return q}return K}}var Gf=M1(B6(),1);function Kf(J,Z){let X=J.getTypeMap();for(let Y in X){let $=X[Y];if(!Gf.getNamedType($).name.startsWith("__")&&Gf.isObjectType($)){let z=$.getFields();for(let W in z){let Q=z[W];Z(Q,Y,W)}}}}var kV=M1(B6(),1);function Va(J,Z){let X=J.getTypeMap();for(let Y in X){let $=X[Y];if(!kV.getNamedType($).name.startsWith("__")){if(kV.isObjectType($)){let z=$.getFields();for(let W in z){let Q=z[W];for(let G of Q.args)G.defaultValue=Z(G.type,G.defaultValue)}}else if(kV.isInputObjectType($)){let z=$.getFields();for(let W in z){let Q=z[W];Q.defaultValue=Z(Q.type,Q.defaultValue)}}}}}function bV(J,Z=!1){let X=J[0]||{},Y={};if(Z)Object.setPrototypeOf(Y,Object.create(Object.getPrototypeOf(X)));for(let $ of J)if(Ia(X)&&Ia($)){if(Z){let z=Object.getPrototypeOf(Y),W=Object.getPrototypeOf($);if(W)for(let Q of Object.getOwnPropertyNames(W)){let G=Object.getOwnPropertyDescriptor(W,Q);if(nK(G))Object.defineProperty(z,Q,G)}}for(let z in $)if(Ia($[z]))if(!(z in Y))Object.assign(Y,{[z]:$[z]});else Y[z]=bV([Y[z],$[z]],Z);else Object.assign(Y,{[z]:$[z]})}return Y}function Ia(J){return J&&typeof J==="object"&&!Array.isArray(J)}function dE1(J,Z,X){let Y,$;if(typeof J.return==="function")Y=J.return,$=(Q)=>{let G=()=>Promise.reject(Q);return Y.call(J).then(G,G)};function z(Q){return Q.done?Q:xE1(Q.value,Z).then(gE1,$)}let W;if(X){let Q=X;W=(G)=>xE1(G,Q).then(gE1,$)}return{next(){return J.next().then(z,W)},return(){return Y?Y.call(J).then(z,W):Promise.resolve({value:void 0,done:!0})},throw(Q){if(typeof J.throw==="function")return J.throw(Q).then(z,W);return Promise.reject(Q).catch($)},[Symbol.asyncIterator](){return this}}}function xE1(J,Z){return new Promise((X)=>X(Z(J)))}function gE1(J){return{value:J,done:!1}}var k9=M1(B6(),1);var n5=M1(B6(),1),uE1=new n5.GraphQLDirective({name:"defer",description:"Directs the executor to defer this fragment when the `if` argument is true or undefined.",locations:[n5.DirectiveLocation.FRAGMENT_SPREAD,n5.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new n5.GraphQLNonNull(n5.GraphQLBoolean),description:"Deferred when true or undefined.",defaultValue:!0},label:{type:n5.GraphQLString,description:"Unique name"}}}),mE1=new n5.GraphQLDirective({name:"stream",description:"Directs the executor to stream plural fields when the `if` argument is true or undefined.",locations:[n5.DirectiveLocation.FIELD],args:{if:{type:new n5.GraphQLNonNull(n5.GraphQLBoolean),description:"Stream when true or undefined.",defaultValue:!0},label:{type:n5.GraphQLString,description:"Unique name"},initialCount:{defaultValue:0,type:n5.GraphQLInt,description:"Number of items to return immediately"}}});class hV extends Map{get[Symbol.toStringTag](){return"AccumulatorMap"}add(J,Z){let X=this.get(J);if(X===void 0)this.set(J,[Z]);else X.push(Z)}}function _V(J,Z,X,Y,$,z,W,Q){for(let G of $.selections)switch(G.kind){case k9.Kind.FIELD:{if(!wa(X,G))continue;z.add(LF4(G),G);break}case k9.Kind.INLINE_FRAGMENT:{if(!wa(X,G)||!cE1(J,G,Y))continue;let K=lE1(X,G);if(K){let q=new hV;_V(J,Z,X,Y,G.selectionSet,q,W,Q),W.push({label:K.label,fields:q})}else _V(J,Z,X,Y,G.selectionSet,z,W,Q);break}case k9.Kind.FRAGMENT_SPREAD:{let K=G.name.value;if(!wa(X,G))continue;let q=lE1(X,G);if(Q.has(K)&&!q)continue;let H=Z[K];if(!H||!cE1(J,H,Y))continue;if(!q)Q.add(K);if(q){let F=new hV;_V(J,Z,X,Y,H.selectionSet,F,W,Q),W.push({label:q.label,fields:F})}else _V(J,Z,X,Y,H.selectionSet,z,W,Q);break}}}function Aa(J,Z,X,Y,$){let z=new hV,W=[];return _V(J,Z,X,Y,$,z,W,new Set),{fields:z,patches:W}}function wa(J,Z){let X=k9.getDirectiveValues(k9.GraphQLSkipDirective,Z,J);if((X===null||X===void 0?void 0:X.if)===!0)return!1;let Y=k9.getDirectiveValues(k9.GraphQLIncludeDirective,Z,J);if((Y===null||Y===void 0?void 0:Y.if)===!1)return!1;return!0}function cE1(J,Z,X){let Y=Z.typeCondition;if(!Y)return!0;let $=k9.typeFromAST(J,Y);if($===X)return!0;if(k9.isAbstractType($))return J.getPossibleTypes($).includes(X);return!1}function LF4(J){return J.alias?J.alias.value:J.name.value}function lE1(J,Z){let X=k9.getDirectiveValues(uE1,Z,J);if(!X)return;if(X.if===!1)return;return{label:typeof X.label==="string"?X.label:void 0}}var pE1=wE1(function J(Z,X,Y,$,z){let W=new hV,Q=new Set,G=[],K={fields:W,patches:G};for(let q of z)if(q.selectionSet)_V(Z,X,Y,$,q.selectionSet,W,G,Q);return K});function yV(J){return typeof J==="object"&&J!=null&&Symbol.asyncIterator in J&&typeof J[Symbol.asyncIterator]==="function"}var nE1=M1(B6(),1);function iE1(J){return J&&typeof J==="object"&&"kind"in J&&J.kind===nE1.Kind.DOCUMENT}function iH(J,Z,X){return{prev:J,key:Z,typename:X}}function b9(J){let Z=[],X=J;while(X)Z.push(X.key),X=X.prev;return Z.reverse()}function oE1(J){return J.map((Z)=>typeof Z==="number"?"["+Z.toString()+"]":"."+Z).join("")}function CF4(J){return J!=null&&typeof J==="object"&&"errors"in J}function jF4(J){return J!=null&&typeof J.toString==="function"}function OQ(J){return J instanceof Ma.GraphQLError}function sE1(J){if(J instanceof Ma.GraphQLError){if(J.originalError!=null)return sE1(J.originalError);return!0}return!1}function qf(J,Z,X){let Y=new Set;if(CF4(J))for(let $ of J.errors){let z=qf($,Z,X);for(let W of z)Y.add(W)}else if(Z){let $=Z.maskError(J,Z.errorMessage,Z.isDev);if($!==J)X.error(J);Y.add(OQ($)?$:n1($.message,{originalError:$}))}else if(OQ(J))Y.add(J);else if(J instanceof Error)Y.add(n1(J.message,{originalError:J}));else if(typeof J==="string")Y.add(n1(J,{extensions:{unexpected:!0}}));else if(jF4(J))Y.add(n1(J.toString(),{extensions:{unexpected:!0}}));else X.error(J),Y.add(n1("Unexpected error.",{extensions:{http:{unexpected:!0}}}));return Array.from(Y)}function vV(J,Z={},X=!1){let Y,$=!1;if("extensions"in J&&J.extensions?.http){if(J.extensions.http.headers)Object.assign(Z,J.extensions.http.headers);if(J.extensions.http.status)Y=J.extensions.http.status}if("errors"in J&&J.errors?.length){for(let z of J.errors)if(z.extensions?.http){if(z.extensions.http.headers)Object.assign(Z,z.extensions.http.headers);if(X&&z.extensions.http.spec)continue;if(z.extensions.http.status&&(!Y||z.extensions.http.status>Y))Y=z.extensions.http.status}else if(!sE1(z)||z.extensions?.unexpected)$=!0}else Y||(Y=200);if(!Y)if($&&!("data"in J))Y=500;else Y=200;return{status:Y,headers:Z}}function aE1(J){return Array.isArray(J)&&J.length>0&&J.some(OQ)}var oK={red:"\x1B[31m",yellow:"\x1B[33m",magenta:"\x1B[35m",cyan:"\x1B[36m",reset:"\x1B[0m"},rE1=oK.yellow+"WARN"+oK.reset,tE1=oK.cyan+"INFO"+oK.reset,eE1=oK.red+"ERR"+oK.reset,JS1=oK.magenta+"DEBUG"+oK.reset,RN={debug:0,info:1,warn:2,error:3,silent:4},Bf=()=>{},Hf=(J)=>(...Z)=>console.log(J,...Z),RF4=console.debug?(...J)=>console.debug(JS1,...J):Hf(JS1),EF4=console.info?(...J)=>console.info(tE1,...J):Hf(tE1),SF4=console.warn?(...J)=>console.warn(rE1,...J):Hf(rE1),TF4=console.error?(...J)=>console.error(eE1,...J):Hf(eE1),Ff=(J=globalThis.process?.env.DEBUG==="1"?"debug":"info")=>{let Z=RN[J];return{debug:Z>RN.debug?Bf:RF4,info:Z>RN.info?Bf:EF4,warn:Z>RN.warn?Bf:SF4,error:Z>RN.error?Bf:TF4}};var ZS1='<!DOCTYPE html><html lang=en><head><meta charset=utf-8><title>__TITLE__</title><link rel=icon href=https://raw.githubusercontent.com/dotansimha/graphql-yoga/main/website/public/favicon.ico><link rel=stylesheet href=https://unpkg.com/@graphql-yoga/graphiql@3.0.12/dist/style.css></head><body id=body class=no-focus-outline><noscript>You need to enable JavaScript to run this app.</noscript><div id=root></div><script type=module>import{renderYogaGraphiQL}from"https://unpkg.com/@graphql-yoga/graphiql@3.0.12/dist/yoga-graphiql.es.js";renderYogaGraphiQL(root,__OPTS__)</script></body></html>';function fF4({headers:J,method:Z}){return Z==="GET"&&!!J?.get("accept")?.includes("text/html")}var kF4=(J)=>ZS1.replace("__TITLE__",J?.title||"Yoga GraphiQL").replace("__OPTS__",JSON.stringify(J??{}));function XS1(J){let Z=J.logger??console,X;if(typeof J?.options==="function")X=J?.options;else if(typeof J?.options==="object")X=()=>J?.options;else if(J?.options===!1)X=()=>!1;else X=()=>({});let Y=J?.render??kF4,$,z=({URLPattern:W})=>{return $||($=new W({pathname:J.graphqlEndpoint})),$};return{async onRequest({request:W,serverContext:Q,fetchAPI:G,endResponse:K,url:q}){if(fF4(W)&&(W.url.endsWith(J.graphqlEndpoint)||q.pathname===J.graphqlEndpoint||z(G).test(q))){Z.debug("Rendering GraphiQL");let H=await X(W,Q);if(H){let F=await Y({...H===!0?{}:H}),U=new G.Response(F,{headers:{"Content-Type":"text/html"},status:200});K(U)}}}}}var YS1=M1(B6(),1),$S1=(J)=>{if(J==null)return{};if(YS1.isSchema(J))return{onPluginInit({setSchema:X}){X(J)}};if("then"in J){let X;return{onRequestParse(){return{async onRequestParseDone(){if(!X)X=await J}}},onEnveloped({setSchema:Y}){if(!X)throw new Error("You provide a promise of a schema but it hasn't been resolved yet. Make sure you use this plugin with GraphQL Yoga.");Y(X)}}}let Z=new WeakMap;return{onRequestParse({request:X,serverContext:Y}){return{async onRequestParseDone(){let $=await J({...Y,request:X});Z.set(X,$)}}},onEnveloped({setSchema:X,context:Y}){if(Y?.request==null)throw new Error("Request object is not available in the context. Make sure you use this plugin with GraphQL Yoga.");let $=Z.get(Y.request);if($==null)throw new Error("No schema found for this request. Make sure you use this plugin with GraphQL Yoga.");X($)}}};var Uf=M1(B6(),1);function zS1(J,Z={}){let{requireResolversForArgs:X,requireResolversForNonScalar:Y,requireResolversForAllFields:$}=Z;if($&&(X||Y))throw new TypeError("requireResolversForAllFields takes precedence over the more specific assertions. Please configure either requireResolversForAllFields or requireResolversForArgs / requireResolversForNonScalar, but not a combination of them.");Kf(J,(z,W,Q)=>{if($)Na("requireResolversForAllFields",$,z,W,Q);if(X&&z.args.length>0)Na("requireResolversForArgs",X,z,W,Q);if(Y!=="ignore"&&!Uf.isScalarType(Uf.getNamedType(z.type)))Na("requireResolversForNonScalar",Y,z,W,Q)})}function Na(J,Z,X,Y,$){if(!X.resolve){let z=`Resolver missing for "${Y}.${$}".
To disable this validator, use:
  resolverValidationOptions: {
    ${J}: 'ignore'
  }`;if(Z==="error")throw new Error(z);if(Z==="warn")console.warn(z);return}if(typeof X.resolve!=="function")throw new Error(`Resolver "${Y}.${$}" must be a function`)}var v4=M1(B6(),1);function WS1(J,Z){jN(J,{[t0.ABSTRACT_TYPE]:(X)=>{if(!X.resolveType){let Y=`Type "${X.name}" is missing a "__resolveType" resolver. Pass 'ignore' into "resolverValidationOptions.requireResolversForResolveType" to disable this error.`;if(Z==="error")throw new Error(Y);if(Z==="warn")console.warn(Y)}return}})}function QS1(J,Z){let X={},Y=J.getTypeMap();for(let $ in Y){let z=Y[$];if("getInterfaces"in z){X[$]={};for(let Q of z.getInterfaces())if(Z[Q.name]){for(let G in Z[Q.name])if(G==="__isTypeOf"||!G.startsWith("__"))X[$][G]=Z[Q.name][G]}let W=Z[$];X[$]={...X[$],...W}}else{let W=Z[$];if(W!=null)X[$]=W}}return X}function GS1({schema:J,resolvers:Z,defaultFieldResolver:X,resolverValidationOptions:Y={},inheritResolversFromInterfaces:$=!1,updateResolversInPlace:z=!1}){let{requireResolversToMatchSchema:W="error",requireResolversForResolveType:Q}=Y,G=$?QS1(J,Z):Z;for(let K in G){let q=G[K];if(typeof q!=="object")throw new Error(`"${K}" defined in resolvers, but has invalid value "${q}". The resolver's value must be of type object.`);let F=J.getType(K);if(F==null){if(W==="ignore")continue;throw new Error(`"${K}" defined in resolvers, but not in schema`)}else if(v4.isSpecifiedScalarType(F))for(let U in q)if(U.startsWith("__"))F[U.substring(2)]=q[U];else F[U]=q[U];else if(v4.isEnumType(F)){let U=F.getValues();for(let D in q)if(!D.startsWith("__")&&!U.some((V)=>V.name===D)&&W&&W!=="ignore")throw new Error(`${F.name}.${D} was defined in resolvers, but not present within ${F.name}`)}else if(v4.isUnionType(F)){for(let U in q)if(!U.startsWith("__")&&W&&W!=="ignore")throw new Error(`${F.name}.${U} was defined in resolvers, but ${F.name} is not an object or interface type`)}else if(v4.isObjectType(F)||v4.isInterfaceType(F)){for(let U in q)if(!U.startsWith("__"))if(F.getFields()[U]==null){if(W&&W!=="ignore")throw new Error(`${K}.${U} defined in resolvers, but not in schema`)}else{let w=q[U];if(typeof w!=="function"&&typeof w!=="object")throw new Error(`Resolver ${K}.${U} must be object or function`)}}}if(J=z?bF4(J,G,X):hF4(J,G,X),Q&&Q!=="ignore")WS1(J,Q);return J}function bF4(J,Z,X){var Y,$,z,W,Q,G,K,q,H,F,U,D;let V=J.getTypeMap();for(let w in Z){let M=J.getType(w),P=Z[w];if(v4.isScalarType(M))for(let R in P)if(R.startsWith("__"))M[R.substring(2)]=P[R];else if(R==="astNode"&&M.astNode!=null)M.astNode={...M.astNode,description:($=(Y=P===null||P===void 0?void 0:P.astNode)===null||Y===void 0?void 0:Y.description)!==null&&$!==void 0?$:M.astNode.description,directives:((z=M.astNode.directives)!==null&&z!==void 0?z:[]).concat((Q=(W=P===null||P===void 0?void 0:P.astNode)===null||W===void 0?void 0:W.directives)!==null&&Q!==void 0?Q:[])};else if(R==="extensionASTNodes"&&M.extensionASTNodes!=null)M.extensionASTNodes=M.extensionASTNodes.concat((G=P===null||P===void 0?void 0:P.extensionASTNodes)!==null&&G!==void 0?G:[]);else if(R==="extensions"&&M.extensions!=null&&P.extensions!=null)M.extensions=Object.assign(Object.create(null),M.extensions,P.extensions);else M[R]=P[R];else if(v4.isEnumType(M)){let R=M.toConfig(),f=R.values;for(let d in P)if(d.startsWith("__"))R[d.substring(2)]=P[d];else if(d==="astNode"&&R.astNode!=null)R.astNode={...R.astNode,description:(q=(K=P===null||P===void 0?void 0:P.astNode)===null||K===void 0?void 0:K.description)!==null&&q!==void 0?q:R.astNode.description,directives:((H=R.astNode.directives)!==null&&H!==void 0?H:[]).concat((U=(F=P===null||P===void 0?void 0:P.astNode)===null||F===void 0?void 0:F.directives)!==null&&U!==void 0?U:[])};else if(d==="extensionASTNodes"&&R.extensionASTNodes!=null)R.extensionASTNodes=R.extensionASTNodes.concat((D=P===null||P===void 0?void 0:P.extensionASTNodes)!==null&&D!==void 0?D:[]);else if(d==="extensions"&&M.extensions!=null&&P.extensions!=null)M.extensions=Object.assign(Object.create(null),M.extensions,P.extensions);else if(f[d])f[d].value=P[d];V[w]=new v4.GraphQLEnumType(R)}else if(v4.isUnionType(M)){for(let R in P)if(R.startsWith("__"))M[R.substring(2)]=P[R]}else if(v4.isObjectType(M)||v4.isInterfaceType(M))for(let R in P){if(R.startsWith("__")){M[R.substring(2)]=P[R];continue}let d=M.getFields()[R];if(d!=null){let v=P[R];if(typeof v==="function")d.resolve=v.bind(P);else KS1(d,v)}}}if(Va(J,$f),vE1(J),Va(J,zf),X!=null)Kf(J,(w)=>{if(!w.resolve)w.resolve=X});return J}function hF4(J,Z,X){if(J=jN(J,{[t0.SCALAR_TYPE]:(Y)=>{var $,z,W,Q,G,K;let q=Y.toConfig(),H=Z[Y.name];if(!v4.isSpecifiedScalarType(Y)&&H!=null){for(let F in H)if(F.startsWith("__"))q[F.substring(2)]=H[F];else if(F==="astNode"&&q.astNode!=null)q.astNode={...q.astNode,description:(z=($=H===null||H===void 0?void 0:H.astNode)===null||$===void 0?void 0:$.description)!==null&&z!==void 0?z:q.astNode.description,directives:((W=q.astNode.directives)!==null&&W!==void 0?W:[]).concat((G=(Q=H===null||H===void 0?void 0:H.astNode)===null||Q===void 0?void 0:Q.directives)!==null&&G!==void 0?G:[])};else if(F==="extensionASTNodes"&&q.extensionASTNodes!=null)q.extensionASTNodes=q.extensionASTNodes.concat((K=H===null||H===void 0?void 0:H.extensionASTNodes)!==null&&K!==void 0?K:[]);else if(F==="extensions"&&q.extensions!=null&&H.extensions!=null)q.extensions=Object.assign(Object.create(null),Y.extensions,H.extensions);else q[F]=H[F];return new v4.GraphQLScalarType(q)}},[t0.ENUM_TYPE]:(Y)=>{var $,z,W,Q,G,K;let q=Z[Y.name],H=Y.toConfig(),F=H.values;if(q!=null){for(let U in q)if(U.startsWith("__"))H[U.substring(2)]=q[U];else if(U==="astNode"&&H.astNode!=null)H.astNode={...H.astNode,description:(z=($=q===null||q===void 0?void 0:q.astNode)===null||$===void 0?void 0:$.description)!==null&&z!==void 0?z:H.astNode.description,directives:((W=H.astNode.directives)!==null&&W!==void 0?W:[]).concat((G=(Q=q===null||q===void 0?void 0:q.astNode)===null||Q===void 0?void 0:Q.directives)!==null&&G!==void 0?G:[])};else if(U==="extensionASTNodes"&&H.extensionASTNodes!=null)H.extensionASTNodes=H.extensionASTNodes.concat((K=q===null||q===void 0?void 0:q.extensionASTNodes)!==null&&K!==void 0?K:[]);else if(U==="extensions"&&H.extensions!=null&&q.extensions!=null)H.extensions=Object.assign(Object.create(null),Y.extensions,q.extensions);else if(F[U])F[U].value=q[U];return new v4.GraphQLEnumType(H)}},[t0.UNION_TYPE]:(Y)=>{let $=Z[Y.name];if($!=null){let z=Y.toConfig();if($.__resolveType)z.resolveType=$.__resolveType;return new v4.GraphQLUnionType(z)}},[t0.OBJECT_TYPE]:(Y)=>{let $=Z[Y.name];if($!=null){let z=Y.toConfig();if($.__isTypeOf)z.isTypeOf=$.__isTypeOf;return new v4.GraphQLObjectType(z)}},[t0.INTERFACE_TYPE]:(Y)=>{let $=Z[Y.name];if($!=null){let z=Y.toConfig();if($.__resolveType)z.resolveType=$.__resolveType;return new v4.GraphQLInterfaceType(z)}},[t0.COMPOSITE_FIELD]:(Y,$,z)=>{let W=Z[z];if(W!=null){let Q=W[$];if(Q!=null){let G={...Y};if(typeof Q==="function")G.resolve=Q.bind(W);else KS1(G,Q);return G}}}}),X!=null)J=jN(J,{[t0.OBJECT_FIELD]:(Y)=>({...Y,resolve:Y.resolve!=null?Y.resolve:X})});return J}function KS1(J,Z){for(let X in Z)J[X]=Z[X]}var cV=M1(B6(),1);function Pa(J,Z){if(!J||Array.isArray(J)&&J.length===0)return{};if(!Array.isArray(J))return J;if(J.length===1)return J[0]||{};let X=new Array;for(let $ of J){if(Array.isArray($))$=Pa($);if(typeof $==="object"&&$)X.push($)}let Y=bV(X,!0);if(Z===null||Z===void 0?void 0:Z.exclusions)for(let $ of Z.exclusions){let[z,W]=$.split(".");if(!W||W==="*")delete Y[z];else if(Y[z])delete Y[z][W]}return Y}function qS1(J,Z,X){let Y=_F4([...Z,...J].filter(nK),X);if(X&&X.sort)Y.sort(pK);return Y}function _F4(J,Z){return J.reduce((X,Y)=>{let $=X.findIndex((z)=>z.name.value===Y.name.value);if($===-1)return X.concat([Y]);else if(!(Z===null||Z===void 0?void 0:Z.reverseArguments))X[$]=Y;return X},[])}var La=M1(B6(),1);function yF4(J,Z){return!!J.find((X)=>X.name.value===Z.name.value)}function BS1(J,Z){var X;return!!((X=Z===null||Z===void 0?void 0:Z[J.name.value])===null||X===void 0?void 0:X.repeatable)}function vF4(J,Z){return Z.some(({value:X})=>X===J.value)}function HS1(J,Z){let X=[...Z];for(let Y of J){let $=X.findIndex((z)=>z.name.value===Y.name.value);if($>-1){let z=X[$];if(z.value.kind==="ListValue"){let W=z.value.values,Q=Y.value.values;z.value.values=dF4(W,Q,(G,K)=>{let q=G.value;return!q||!K.some((H)=>H.value===q)})}else z.value=Y.value}else X.push(Y)}return X}function xF4(J,Z){return J.map((X,Y,$)=>{let z=$.findIndex((W)=>W.name.value===X.name.value);if(z!==Y&&!BS1(X,Z)){let W=$[z];return X.arguments=HS1(X.arguments,W.arguments),null}return X}).filter(nK)}function i5(J=[],Z=[],X,Y){let $=X&&X.reverseDirectives,z=$?J:Z,W=$?Z:J,Q=xF4([...z],Y);for(let G of W)if(yF4(Q,G)&&!BS1(G,Y)){let K=Q.findIndex((H)=>H.name.value===G.name.value),q=Q[K];Q[K].arguments=HS1(G.arguments||[],q.arguments||[])}else Q.push(G);return Q}function gF4(J,Z){let X=La.print({...J,description:void 0}),Y=La.print({...Z,description:void 0}),$=new RegExp("(directive @w*d*)|( on .*$)","g");if(X.replace($,"")!==Y.replace($,""))throw new Error(`Unable to merge GraphQL directive "${J.name.value}". 
Existing directive:  
	${Y} 
Received directive: 
	${X}`)}function FS1(J,Z){if(Z)return gF4(J,Z),{...J,locations:[...Z.locations,...J.locations.filter((X)=>!vF4(X,Z.locations))]};return J}function dF4(J,Z,X){return J.concat(Z.filter((Y)=>X(Y,J)))}function US1(J,Z,X,Y){if(X===null||X===void 0?void 0:X.consistentEnumMerge){let W=[];if(J)W.push(...J);J=Z,Z=W}let $=new Map;if(J)for(let W of J)$.set(W.name.value,W);if(Z)for(let W of Z){let Q=W.name.value;if($.has(Q)){let G=$.get(Q);G.description=W.description||G.description,G.directives=i5(W.directives,G.directives,Y)}else $.set(Q,W)}let z=[...$.values()];if(X&&X.sort)z.sort(pK);return z}var OS1=M1(B6(),1);function DS1(J,Z,X,Y){if(Z)return{name:J.name,description:J.description||Z.description,kind:(X===null||X===void 0?void 0:X.convertExtensions)||J.kind==="EnumTypeDefinition"||Z.kind==="EnumTypeDefinition"?"EnumTypeDefinition":"EnumTypeExtension",loc:J.loc,directives:i5(J.directives,Z.directives,X,Y),values:US1(J.values,Z.values,X)};return(X===null||X===void 0?void 0:X.convertExtensions)?{...J,kind:OS1.Kind.ENUM_TYPE_DEFINITION}:J}var oH=M1(B6(),1);function VS1(J){return typeof J==="string"}function IS1(J){return J instanceof oH.Source}function Ca(J){let Z=J;while(Z.kind===oH.Kind.LIST_TYPE||Z.kind==="NonNullType")Z=Z.type;return Z}function ja(J){return J.kind!==oH.Kind.NAMED_TYPE}function Of(J){return J.kind===oH.Kind.LIST_TYPE}function aK(J){return J.kind===oH.Kind.NON_NULL_TYPE}function EN(J){if(Of(J))return`[${EN(J.type)}]`;if(aK(J))return`${EN(J.type)}!`;return J.name.value}var sK;(function(J){J[J.A_SMALLER_THAN_B=-1]="A_SMALLER_THAN_B",J[J.A_EQUALS_B=0]="A_EQUALS_B",J[J.A_GREATER_THAN_B=1]="A_GREATER_THAN_B"})(sK||(sK={}));function wS1(J,Z){if(J==null&&Z==null)return sK.A_EQUALS_B;if(J==null)return sK.A_SMALLER_THAN_B;if(Z==null)return sK.A_GREATER_THAN_B;if(J<Z)return sK.A_SMALLER_THAN_B;if(J>Z)return sK.A_GREATER_THAN_B;return sK.A_EQUALS_B}function uF4(J,Z){let X=J.findIndex((Y)=>Y.name.value===Z.name.value);return[X>-1?J[X]:null,X]}function xV(J,Z,X,Y,$){let z=[];if(X!=null)z.push(...X);if(Z!=null)for(let W of Z){let[Q,G]=uF4(z,W);if(Q&&!(Y===null||Y===void 0?void 0:Y.ignoreFieldConflicts)){let K=(Y===null||Y===void 0?void 0:Y.onFieldTypeConflict)&&Y.onFieldTypeConflict(Q,W,J,Y===null||Y===void 0?void 0:Y.throwOnConflict)||mF4(J,Q,W,Y===null||Y===void 0?void 0:Y.throwOnConflict);K.arguments=qS1(W.arguments||[],Q.arguments||[],Y),K.directives=i5(W.directives,Q.directives,Y,$),K.description=W.description||Q.description,z[G]=K}else z.push(W)}if(Y&&Y.sort)z.sort(pK);if(Y&&Y.exclusions){let W=Y.exclusions;return z.filter((Q)=>!W.includes(`${J.name.value}.${Q.name.value}`))}return z}function mF4(J,Z,X,Y=!1){let $=EN(Z.type),z=EN(X.type);if($!==z){let W=Ca(Z.type),Q=Ca(X.type);if(W.name.value!==Q.name.value)throw new Error(`Field "${X.name.value}" already defined with a different type. Declared as "${W.name.value}", but you tried to override with "${Q.name.value}"`);if(!SN(Z.type,X.type,!Y))throw new Error(`Field '${J.name.value}.${Z.name.value}' changed type from '${$}' to '${z}'`)}if(aK(X.type)&&!aK(Z.type))Z.type=X.type;return Z}function SN(J,Z,X=!1){if(!ja(J)&&!ja(Z))return J.toString()===Z.toString();if(aK(Z)){let Y=aK(J)?J.type:J;return SN(Y,Z.type)}if(aK(J))return SN(Z,J,X);if(Of(J))return Of(Z)&&SN(J.type,Z.type)||aK(Z)&&SN(J,Z.type);return!1}var AS1=M1(B6(),1);function MS1(J,Z,X,Y){if(Z)try{return{name:J.name,description:J.description||Z.description,kind:(X===null||X===void 0?void 0:X.convertExtensions)||J.kind==="InputObjectTypeDefinition"||Z.kind==="InputObjectTypeDefinition"?"InputObjectTypeDefinition":"InputObjectTypeExtension",loc:J.loc,fields:xV(J,J.fields,Z.fields,X),directives:i5(J.directives,Z.directives,X,Y)}}catch($){throw new Error(`Unable to merge GraphQL input type "${J.name.value}": ${$.message}`)}return(X===null||X===void 0?void 0:X.convertExtensions)?{...J,kind:AS1.Kind.INPUT_OBJECT_TYPE_DEFINITION}:J}var NS1=M1(B6(),1);function cF4(J,Z){return!!J.find((X)=>X.name.value===Z.name.value)}function gV(J=[],Z=[],X={}){let Y=[...Z,...J.filter(($)=>!cF4(Z,$))];if(X&&X.sort)Y.sort(pK);return Y}function PS1(J,Z,X,Y){if(Z)try{return{name:J.name,description:J.description||Z.description,kind:(X===null||X===void 0?void 0:X.convertExtensions)||J.kind==="InterfaceTypeDefinition"||Z.kind==="InterfaceTypeDefinition"?"InterfaceTypeDefinition":"InterfaceTypeExtension",loc:J.loc,fields:xV(J,J.fields,Z.fields,X),directives:i5(J.directives,Z.directives,X,Y),interfaces:J.interfaces?gV(J.interfaces,Z.interfaces,X):void 0}}catch($){throw new Error(`Unable to merge GraphQL interface "${J.name.value}": ${$.message}`)}return(X===null||X===void 0?void 0:X.convertExtensions)?{...J,kind:NS1.Kind.INTERFACE_TYPE_DEFINITION}:J}var h9=M1(B6(),1);var LS1=M1(B6(),1);function CS1(J,Z,X,Y){if(Z)try{return{name:J.name,description:J.description||Z.description,kind:(X===null||X===void 0?void 0:X.convertExtensions)||J.kind==="ObjectTypeDefinition"||Z.kind==="ObjectTypeDefinition"?"ObjectTypeDefinition":"ObjectTypeExtension",loc:J.loc,fields:xV(J,J.fields,Z.fields,X),directives:i5(J.directives,Z.directives,X,Y),interfaces:gV(J.interfaces,Z.interfaces,X)}}catch($){throw new Error(`Unable to merge GraphQL type "${J.name.value}": ${$.message}`)}return(X===null||X===void 0?void 0:X.convertExtensions)?{...J,kind:LS1.Kind.OBJECT_TYPE_DEFINITION}:J}var jS1=M1(B6(),1);function RS1(J,Z,X,Y){if(Z)return{name:J.name,description:J.description||Z.description,kind:(X===null||X===void 0?void 0:X.convertExtensions)||J.kind==="ScalarTypeDefinition"||Z.kind==="ScalarTypeDefinition"?"ScalarTypeDefinition":"ScalarTypeExtension",loc:J.loc,directives:i5(J.directives,Z.directives,X,Y)};return(X===null||X===void 0?void 0:X.convertExtensions)?{...J,kind:jS1.Kind.SCALAR_TYPE_DEFINITION}:J}var Df=M1(B6(),1);function ES1(J,Z,X,Y){if(Z)return{name:J.name,description:J.description||Z.description,directives:i5(J.directives,Z.directives,X,Y),kind:(X===null||X===void 0?void 0:X.convertExtensions)||J.kind==="UnionTypeDefinition"||Z.kind==="UnionTypeDefinition"?Df.Kind.UNION_TYPE_DEFINITION:Df.Kind.UNION_TYPE_EXTENSION,loc:J.loc,types:gV(J.types,Z.types,X)};return(X===null||X===void 0?void 0:X.convertExtensions)?{...J,kind:Df.Kind.UNION_TYPE_DEFINITION}:J}var dV=M1(B6(),1);var Vf={query:"Query",mutation:"Mutation",subscription:"Subscription"};function lF4(J=[],Z=[]){let X=[];for(let Y in Vf){let $=J.find((z)=>z.operation===Y)||Z.find((z)=>z.operation===Y);if($)X.push($)}return X}function SS1(J,Z,X,Y){if(Z)return{kind:J.kind===dV.Kind.SCHEMA_DEFINITION||Z.kind===dV.Kind.SCHEMA_DEFINITION?dV.Kind.SCHEMA_DEFINITION:dV.Kind.SCHEMA_EXTENSION,description:J.description||Z.description,directives:i5(J.directives,Z.directives,X,Y),operationTypes:lF4(J.operationTypes,Z.operationTypes)};return(X===null||X===void 0?void 0:X.convertExtensions)?{...J,kind:dV.Kind.SCHEMA_DEFINITION}:J}var sH="SCHEMA_DEF_SYMBOL";function pF4(J){return"name"in J}function Ra(J,Z,X={}){var Y,$,z;let W=X;for(let Q of J)if(pF4(Q)){let G=(Y=Q.name)===null||Y===void 0?void 0:Y.value;if(Z===null||Z===void 0?void 0:Z.commentDescriptions)RE1(Q);if(G==null)continue;if((($=Z===null||Z===void 0?void 0:Z.exclusions)===null||$===void 0?void 0:$.includes(G+".*"))||((z=Z===null||Z===void 0?void 0:Z.exclusions)===null||z===void 0?void 0:z.includes(G)))delete W[G];else switch(Q.kind){case h9.Kind.OBJECT_TYPE_DEFINITION:case h9.Kind.OBJECT_TYPE_EXTENSION:W[G]=CS1(Q,W[G],Z,X);break;case h9.Kind.ENUM_TYPE_DEFINITION:case h9.Kind.ENUM_TYPE_EXTENSION:W[G]=DS1(Q,W[G],Z,X);break;case h9.Kind.UNION_TYPE_DEFINITION:case h9.Kind.UNION_TYPE_EXTENSION:W[G]=ES1(Q,W[G],Z,X);break;case h9.Kind.SCALAR_TYPE_DEFINITION:case h9.Kind.SCALAR_TYPE_EXTENSION:W[G]=RS1(Q,W[G],Z,X);break;case h9.Kind.INPUT_OBJECT_TYPE_DEFINITION:case h9.Kind.INPUT_OBJECT_TYPE_EXTENSION:W[G]=MS1(Q,W[G],Z,X);break;case h9.Kind.INTERFACE_TYPE_DEFINITION:case h9.Kind.INTERFACE_TYPE_EXTENSION:W[G]=PS1(Q,W[G],Z,X);break;case h9.Kind.DIRECTIVE_DEFINITION:W[G]=FS1(Q,W[G]);break}}else if(Q.kind===h9.Kind.SCHEMA_DEFINITION||Q.kind===h9.Kind.SCHEMA_EXTENSION)W[sH]=SS1(Q,W[sH],Z);return W}var _9=M1(B6(),1);function Ea(J,Z){Xf();let X={kind:_9.Kind.DOCUMENT,definitions:nF4(J,{useSchemaDefinition:!0,forceSchemaDefinition:!1,throwOnConflict:!1,commentDescriptions:!1,...Z})},Y;if(Z===null||Z===void 0?void 0:Z.commentDescriptions)Y=EE1(X);else Y=X;return Xf(),Y}function uV(J,Z,X=[],Y=[],$=new Set){if(J&&!$.has(J))if($.add(J),typeof J==="function")uV(J(),Z,X,Y,$);else if(Array.isArray(J))for(let z of J)uV(z,Z,X,Y,$);else if(_9.isSchema(J)){let z=ME1(J,Z);uV(z.definitions,Z,X,Y,$)}else if(VS1(J)||IS1(J)){let z=_9.parse(J,Z);uV(z.definitions,Z,X,Y,$)}else if(typeof J==="object"&&_9.isDefinitionNode(J))if(J.kind===_9.Kind.DIRECTIVE_DEFINITION)X.push(J);else Y.push(J);else if(iE1(J))uV(J.definitions,Z,X,Y,$);else throw new Error(`typeDefs must contain only strings, documents, schemas, or functions, got ${typeof J}`);return{allDirectives:X,allNodes:Y}}function nF4(J,Z){var X,Y,$;Xf();let{allDirectives:z,allNodes:W}=uV(J,Z),Q=Ra(z,Z),G=Ra(W,Z,Q);if(Z===null||Z===void 0?void 0:Z.useSchemaDefinition){let q=G[sH]||{kind:_9.Kind.SCHEMA_DEFINITION,operationTypes:[]},H=q.operationTypes;for(let F in Vf)if(!H.find((D)=>D.operation===F)){let D=Vf[F],V=G[D];if(V!=null&&V.name!=null)H.push({kind:_9.Kind.OPERATION_TYPE_DEFINITION,type:{kind:_9.Kind.NAMED_TYPE,name:V.name},operation:F})}if(((X=q===null||q===void 0?void 0:q.operationTypes)===null||X===void 0?void 0:X.length)!=null&&q.operationTypes.length>0)G[sH]=q}if((Z===null||Z===void 0?void 0:Z.forceSchemaDefinition)&&!(($=(Y=G[sH])===null||Y===void 0?void 0:Y.operationTypes)===null||$===void 0?void 0:$.length))G[sH]={kind:_9.Kind.SCHEMA_DEFINITION,operationTypes:[{kind:_9.Kind.OPERATION_TYPE_DEFINITION,operation:"query",type:{kind:_9.Kind.NAMED_TYPE,name:{kind:_9.Kind.NAME,value:"Query"}}}]};let K=Object.values(G);if(Z===null||Z===void 0?void 0:Z.sort){let q=typeof Z.sort==="function"?Z.sort:wS1;K.sort((H,F)=>{var U,D;return q((U=H.name)===null||U===void 0?void 0:U.value,(D=F.name)===null||D===void 0?void 0:D.value)})}return K}function TS1(J){return bV(J)}function mV(J,Z){if(!J)return;J.extensions=bV([J.extensions||{},Z||{}])}function fS1(J,Z){mV(J,Z.schemaExtensions);for(let[X,Y]of Object.entries(Z.types||{})){let $=J.getType(X);if($){if(mV($,Y.extensions),Y.type==="object"||Y.type==="interface")for(let[z,W]of Object.entries(Y.fields)){let Q=$.getFields()[z];if(Q){mV(Q,W.extensions);for(let[G,K]of Object.entries(W.arguments))mV(Q.args.find((q)=>q.name===G),K)}}else if(Y.type==="input")for(let[z,W]of Object.entries(Y.fields)){let Q=$.getFields()[z];mV(Q,W.extensions)}else if(Y.type==="enum")for(let[z,W]of Object.entries(Y.values)){let Q=$.getValue(z);mV(Q,W)}}}return J}function kS1({typeDefs:J,resolvers:Z={},resolverValidationOptions:X={},inheritResolversFromInterfaces:Y=!1,updateResolversInPlace:$=!1,schemaExtensions:z,...W}){if(typeof X!=="object")throw new Error("Expected `resolverValidationOptions` to be an object");if(!J)throw new Error("Must provide typeDefs");let Q;if(cV.isSchema(J))Q=J;else if(W===null||W===void 0?void 0:W.commentDescriptions){let G=Ea(J,{...W,commentDescriptions:!0});Q=cV.buildSchema(G,W)}else{let G=Ea(J,W);Q=cV.buildASTSchema(G,W)}if(Q=GS1({schema:Q,resolvers:Pa(Z),resolverValidationOptions:X,inheritResolversFromInterfaces:Y,updateResolversInPlace:$}),Object.keys(X).length>0)zS1(Q,X);if(z)z=TS1(lT(z)),fS1(Q,z);return Q}function bS1(J){return kS1(J)}var Y59=Symbol("ENVELOP_IS_INTROSPECTION");function iF4(J){return J.length===1?J[0]:{schema:J[0],document:J[1],rootValue:J[2],contextValue:J[3],variableValues:J[4],operationName:J[5],fieldResolver:J[6],subscribeFieldResolver:J[7]}}var Sa=(J)=>(...Z)=>J(iF4(Z));function Ta(J,Z){let X=J[Symbol.asyncIterator]();async function Y(z){if(z.done)return z;try{return{value:await Z(z.value),done:!1}}catch(W){try{await X.return?.()}catch(Q){}throw W}}let $={[Symbol.asyncIterator](){return $},async next(){return await Y(await X.next())},async return(){let z=X.return?.();return z?await Y(await z):{value:void 0,done:!0}},async throw(z){let W=X.throw?.();if(W)return await Y(await W);throw z}};return $}function oF4(J){return J.length===1?J[0]:{schema:J[0],document:J[1],rootValue:J[2],contextValue:J[3],variableValues:J[4],operationName:J[5],fieldResolver:J[6],typeResolver:J[7]}}var fa=(J)=>(...Z)=>J(oF4(Z));function VJ(J){return typeof J==="object"&&J!=null&&typeof J[Symbol.asyncIterator]==="function"}function ka(J,Z){if(VJ(J.result))return{onNext:Z};Z({args:J.args,result:J.result,setResult:J.setResult});return}function ba(J,Z){let X=J[Symbol.asyncIterator](),Y=!1,$={[Symbol.asyncIterator](){return $},async next(){let z=await X.next();if(z.done&&Y===!1)Y=!0,Z();return z},async return(){let z=X.return?.();if(Y===!1)Y=!0,Z();return z?await z:{done:!0,value:void 0}},async throw(z){let W=X.throw?.();if(W)return await W;throw z}};return $}function hS1(J,Z){let X=J[Symbol.asyncIterator](),Y={[Symbol.asyncIterator](){return Y},async next(){try{return await X.next()}catch($){return Z($),{done:!0,value:void 0}}},async return(){let $=X.return?.();return $?await $:{done:!0,value:void 0}},async throw($){let z=X.throw?.();if(z)return await z;throw $}};return Y}function If(J){throw Error(`No \`${J}\` function found! Register it using "useEngine" plugin.`)}function _S1({plugins:J}){let Z=null,X=!1,Y=()=>If("parse"),$=()=>If("validate"),z=()=>If("execute"),W=()=>If("subscribe"),Q=(P,R=-1)=>{if(Z=P,X){for(let[f,d]of J.entries())if(f!==R)d.onSchemaChange&&d.onSchemaChange({schema:Z,replaceSchema:(v)=>{Q(v,f)}})}},G=[];for(let[P,R]of J.entries())R.onPluginInit&&R.onPluginInit({plugins:J,addPlugin:(f)=>{J.push(f)},setSchema:(f)=>Q(f,P),registerContextErrorHandler:(f)=>G.push(f)});let K={init:[],parse:[],validate:[],subscribe:[],execute:[],context:[]};for(let{onContextBuilding:P,onExecute:R,onParse:f,onSubscribe:d,onValidate:v,onEnveloped:l}of J)l&&K.init.push(l),P&&K.context.push(P),R&&K.execute.push(R),f&&K.parse.push(f),d&&K.subscribe.push(d),v&&K.validate.push(v);let q=(P)=>{for(let[R,f]of K.init.entries())f({context:P,extendContext:(d)=>{if(!P)return;Object.assign(P,d)},setSchema:(d)=>Q(d,R)})},H=K.parse.length?(P)=>(R,f)=>{let d=null,v=Y,l=P,o=[];for(let S of K.parse){let i=S({context:l,extendContext:(u)=>{Object.assign(l,u)},params:{source:R,options:f},parseFn:v,setParseFn:(u)=>{v=u},setParsedDocument:(u)=>{d=u}});i&&o.push(i)}if(d===null)try{d=v(R,f)}catch(S){d=S}for(let S of o)S({context:l,extendContext:(i)=>{Object.assign(l,i)},replaceParseResult:(i)=>{d=i},result:d});if(d===null)throw new Error("Failed to parse document.");if(d instanceof Error)throw d;return d}:()=>Y,F=K.validate.length?(P)=>(R,f,d,v,l)=>{let o=d?[...d]:void 0,S=$,i=null,u=P,G1=[];for(let _ of K.validate){let Z1=_({context:u,extendContext:(V1)=>{Object.assign(u,V1)},params:{schema:R,documentAST:f,rules:o,typeInfo:v,options:l},validateFn:S,addValidationRule:(V1)=>{if(!o)o=[];o.push(V1)},setValidationFn:(V1)=>{S=V1},setResult:(V1)=>{i=V1}});Z1&&G1.push(Z1)}if(!i)i=S(R,f,o,v,l);if(!i)return;let e=i.length===0;for(let _ of G1)_({valid:e,result:i,context:u,extendContext:(Z1)=>{Object.assign(u,Z1)},setResult:(Z1)=>{i=Z1}});return i}:()=>$,U=K.context.length?(P)=>async(R)=>{let f=[],d=R?{...P,...R}:P;try{let v=!1;for(let l of K.context){let o=await l({context:d,extendContext:(S)=>{d={...d,...S}},breakContextBuilding:()=>{v=!0}});if(typeof o==="function")f.push(o);if(v===!0)break}for(let l of f)l({context:d,extendContext:(o)=>{d={...d,...o}}});return d}catch(v){let l=v;for(let o of G)o({context:d,error:l,setError:(S)=>{l=S}});throw l}}:(P)=>(R)=>R?{...P,...R}:P,V=K.subscribe.length?Sa(async(P)=>{let R=W,f=[],d=[],v=P.contextValue||{},l;for(let i of K.subscribe){let u=await i({subscribeFn:R,setSubscribeFn:(G1)=>{R=G1},extendContext:(G1)=>{v={...v,...G1}},args:P,setResultAndStopExecution:(G1)=>{l=G1}});if(u){if(u.onSubscribeResult)f.push(u.onSubscribeResult);if(u.onSubscribeError)d.push(u.onSubscribeError)}if(l!==void 0)break}if(l===void 0)l=await R({...P,contextValue:v});if(!l)return;let o=[],S=[];for(let i of f){let u=i({args:P,result:l,setResult:(G1)=>{l=G1}});if(u){if(u.onNext)o.push(u.onNext);if(u.onEnd)S.push(u.onEnd)}}if(o.length&&VJ(l))l=Ta(l,async(i)=>{for(let u of o)await u({args:P,result:i,setResult:(G1)=>i=G1});return i});if(S.length&&VJ(l))l=ba(l,()=>{for(let i of S)i()});if(d.length&&VJ(l))l=hS1(l,(i)=>{let u=i;for(let G1 of d)G1({error:u,setError:(e)=>{u=e}});throw u});return l}):Sa(W),M=K.execute.length?fa(async(P)=>{let R=z,f,d=[],v=P.contextValue||{};for(let S of K.execute){let i=await S({executeFn:R,setExecuteFn:(u)=>{R=u},setResultAndStopExecution:(u)=>{f=u},extendContext:(u)=>{if(typeof u==="object")v={...v,...u};else throw new Error(`Invalid context extension provided! Expected "object", got: "${JSON.stringify(u)}" (${typeof u})`)},args:P});if(i?.onExecuteDone)d.push(i.onExecuteDone);if(f!==void 0)break}if(f===void 0)f=await R({...P,contextValue:v});let l=[],o=[];for(let S of d){let i=await S({args:P,result:f,setResult:(u)=>{f=u}});if(i){if(i.onNext)l.push(i.onNext);if(i.onEnd)o.push(i.onEnd)}}if(l.length&&VJ(f))f=Ta(f,async(S)=>{for(let i of l)await i({args:P,result:S,setResult:(u)=>{S=u}});return S});if(o.length&&VJ(f))f=ba(f,()=>{for(let S of o)S()});return f}):fa(z);if(X=!0,Z)for(let[P,R]of J.entries())R.onSchemaChange&&R.onSchemaChange({schema:Z,replaceSchema:(f)=>Q(f,P)});return{getCurrentSchema(){return Z},init:q,parse:H,validate:F,execute:M,subscribe:V,contextFactory:U}}function sF4(J){return J!=null}function yS1(J){let Z=J.plugins.filter(sF4),X=_S1({plugins:Z}),Y=($={})=>{let z=X;return z.init($),{parse:z.parse($),validate:z.validate($),contextFactory:z.contextFactory($),execute:z.execute,subscribe:z.subscribe,schema:z.getCurrentSchema()}};return Y._plugins=Z,Y}var aF4="Unexpected error.";function rF4(J){return J instanceof Error&&J.name==="GraphQLError"}function vS1(J){if(rF4(J)){if(J.originalError!=null)return vS1(J.originalError);return!0}return!1}function tF4(J,Z,X){let Y=new Error(J);if(Y.name="GraphQLError",X){let $=Z instanceof Error?{message:Z.message,stack:Z.stack}:{message:String(Z)};Object.defineProperty(Y,"extensions",{get(){return $}})}return Object.defineProperty(Y,"toJSON",{value(){return{message:Y.message,extensions:Y.extensions}}}),Y}var eF4=(J)=>(Z,X)=>{if(vS1(Z))return Z;return tF4(X,Z,J)},JU4=globalThis.process?.env?.NODE_ENV==="development",ZU4=eF4(JU4),XU4=(J,Z)=>({result:X,setResult:Y})=>{if(X.errors!=null)Y({...X,errors:X.errors.map(($)=>J($,Z))})};function xS1(J){let Z=J?.maskError??ZU4,X=J?.errorMessage||aF4,Y=XU4(Z,X);return{onPluginInit($){$.registerContextErrorHandler(({error:z,setError:W})=>{W(Z(z,X))})},onExecute(){return{onExecuteDone($){return ka($,Y)}}},onSubscribe(){return{onSubscribeResult($){return ka($,Y)},onSubscribeError({error:$,setError:z}){z(Z($,X))}}}}}var gS1=(J)=>({async onContextBuilding({context:Z,extendContext:X}){X(await J(Z))}});var dS1=(J)=>{return{onExecute:({setExecuteFn:Z})=>{if(J.execute)Z(J.execute)},onParse:({setParseFn:Z})=>{if(J.parse)Z(J.parse)},onValidate:({setValidationFn:Z,addValidationRule:X})=>{if(J.validate)Z(J.validate);J.specifiedRules?.map(X)},onSubscribe:({setSubscribeFn:Z})=>{if(J.subscribe)Z(J.subscribe)}}};var Af=M1(B6(),1),QT1=M1(rS1(),1);function QU4(J){var Z=J.length,X=5381,Y=52711,$;while(Z--)$=J.charCodeAt(Z),X=X*33^$,Y=Y*33^$;return(X>>>0)*4096+(Y>>>0)}var bN="|",GU4=/\[object ([HTML|SVG](.*)Element)\]/,KU4={"[object Arguments]":0,"[object Array]":1,"[object ArrayBuffer]":2,"[object AsyncFunction]":3,"[object AsyncGeneratorFunction]":4,"[object BigInt]":5,"[object BigInt64Array]":6,"[object BigUint64Array]":7,"[object Boolean]":8,"[object DataView]":9,"[object Date]":10,"[object DocumentFragment]":11,"[object Error]":12,"[object Event]":13,"[object Float32Array]":14,"[object Float64Array]":15,"[object Function]":16,"[object Generator]":17,"[object GeneratorFunction]":18,"[object Int8Array]":19,"[object Int16Array]":20,"[object Map]":21,"[object Number]":22,"[object Object]":23,"[object Promise]":24,"[object RegExp]":25,"[object Set]":26,"[object SharedArrayBuffer]":27,"[object String]":28,"[object Uint8Array]":29,"[object Uint8ClampedArray]":30,"[object Uint16Array]":31,"[object Uint32Array]":32,"[object WeakMap]":33,"[object WeakRef]":34,"[object WeakSet]":35,CUSTOM:36,ELEMENT:37},qU4={"[object Arguments]":1,"[object Array]":2},XT1={"[object Generator]":1,"[object Promise]":2,"[object WeakMap]":3,"[object WeakRef]":4,"[object WeakSet]":5},BU4={"[object AsyncFunction]":1,"[object AsyncGeneratorFunction]":2,"[object Boolean]":3,"[object Function]":4,"[object GeneratorFunction]":5,"[object Number]":6,"[object String]":7},HU4={"[object BigInt64Array]":1,"[object BigUint64Array]":2,"[object Float32Array]":3,"[object Float64Array]":4,"[object Int8Array]":5,"[object Int16Array]":6,"[object Uint8Array]":7,"[object Uint8ClampedArray]":8,"[object Uint16Array]":9,"[object Uint32Array]":10},FU4={"[object Arguments]":1,"[object Array]":2,"[object ArrayBuffer]":3,"[object BigInt64Array]":4,"[object BigUint64Array]":5,"[object DataView]":6,"[object Float32Array]":7,"[object Float64Array]":8,"[object Int8Array]":9,"[object Int16Array]":10,"[object Map]":11,"[object Object]":12,"[object Set]":13,"[object SharedArrayBuffer]":14,"[object Uint8Array]":15,"[object Uint8ClampedArray]":16,"[object Uint16Array]":17,"[object Uint32Array]":18,CUSTOM:19},kN={bigint:"i",boolean:"b",empty:"e",function:"g",number:"n",object:"o",string:"s",symbol:"s"};function UU4(J,Z){return J[0]>Z[0]}function YT1(J,Z){return J>Z}function va(J,Z){var X,Y;for(var $=0;$<J.length;++$){Y=J[$];for(X=$-1;~X&&Z(J[X],Y);--X)J[X+1]=J[X];J[X+1]=Y}return J}function H9(J,Z){return kN.object+bN+KU4[J]+bN+Z}var tS1=new WeakMap,OU4=0;function ya(J,Z){var X=tS1.get(J);if(X)return X;var Y=H9(Z,"NOT_ENUMERABLE"+bN+OU4++);return tS1.set(J,Y),Y}var DU4=Object.prototype.toString;function VU4(J,Z,X){if(FU4[Z])return eS1(Z,J,X);if(Z==="[object Date]")return H9(Z,J.getTime());if(Z==="[object RegExp]")return H9(Z,J.toString());if(Z==="[object Event]")return H9(Z,[J.bubbles,J.cancelBubble,J.cancelable,J.composed,J.currentTarget,J.defaultPrevented,J.eventPhase,J.isTrusted,J.returnValue,J.target,J.type].join());if(Z==="[object Error]")return H9(Z,J.message+bN+J.stack);if(Z==="[object DocumentFragment]")return H9(Z,NU4(J));var Y=Z.match(GU4);if(Y)return H9("ELEMENT",Y[1]+bN+J.outerHTML);if(XT1[Z])return ya(J,Z);if(BU4[Z])return H9(Z,J.toString());return eS1("CUSTOM",J,X)}function eS1(J,Z,X){var Y=X.cache.get(Z);if(Y)return H9(J,"RECURSIVE~"+Y);if(X.cache.set(Z,++X.id),J==="[object Object]")return Z[Symbol.iterator]?ya(Z,J):H9(J,ZT1(Z,X));if(qU4[J])return H9(J,IU4(Z,X));if(J==="[object Map]")return H9(J,PU4(Z,X));if(J==="[object Set]")return H9(J,LU4(Z,X));if(HU4[J])return H9(J,Z.join());if(J==="[object ArrayBuffer]")return H9(J,JT1(Z));if(J==="[object DataView]")return H9(J,JT1(Z.buffer));if(XT1[J])return ya(Z,J);return H9("CUSTOM",ZT1(Z,X))}function IU4(J,Z){var X=J.length,Y=new Array(X);while(--X>=0)Y[X]=nV(J[X],Z);return Y.join()}function wU4(J){return Buffer.from(J).toString("utf8")}function AU4(J){return String.fromCharCode.apply(null,new Uint16Array(J))}function MU4(){return"UNSUPPORTED"}function NU4(J){var Z=J.children,X=Z.length,Y=new Array(X);while(--X>=0)Y[X]=Z[X].outerHTML;return Y.join()}var JT1=typeof Buffer!=="undefined"&&typeof Buffer.from==="function"?wU4:typeof Uint16Array==="function"?AU4:MU4;function PU4(J,Z){var X=new Array(J.size),Y=0;J.forEach(function($,z){X[Y++]=[nV(z,Z),nV($,Z)]}),va(X,UU4);while(--Y>=0)X[Y]="["+X[Y][0]+","+X[Y][1]+"]";return"["+X.join()+"]"}function ZT1(J,Z){var X=va(Object.getOwnPropertyNames(J),YT1),Y=X.length,$=new Array(Y),z=Y;while(--z>=0)$[z]=X[z]+":"+nV(J[X[z]],Z);return"{"+$.join()+"}"}function LU4(J,Z){var X=new Array(J.size),Y=0;return J.forEach(function($){X[Y++]=nV($,Z)}),"["+va(X,YT1).join()+"]"}function nV(J,Z){var X=typeof J;if(J==null||X==="undefined")return kN.empty+J;if(X==="object")return VU4(J,DU4.call(J),Z||{cache:new WeakMap,id:1});if(X==="function"||X==="symbol")return kN[X]+J.toString();if(X==="boolean")return kN.boolean+ +J;return kN[X]+J}function $T1(J){return QU4(nV(J,void 0))}var CU4=1000,jU4=3600000,zT1=Symbol("rawDocument"),WT1=new WeakMap;function RU4(J){let Z=WT1.get(J);if(Z)return Z;let X=Af.introspectionFromSchema(J);return Z=String($T1(X.__schema)),WT1.set(J,Z),Z}var GT1=(J={})=>{let Z=typeof J.cache!=="undefined"?J.cache:new QT1.default({max:CU4,maxAge:jU4});return{onParse({params:X,extendContext:Y}){Y({[zT1]:X.source.toString()})},onValidate({params:X,context:Y,setValidationFn:$,validateFn:z}){$((...W)=>{let Q=RU4(W[0]),G="";if(Array.isArray(W[2]))for(let F of W[2])G=G+F.name;let K=Q+"|"+G+"|"+(Y[zT1]??Af.print(X.documentAST)),q=Z.get(K);if(q!==void 0)return q;let H=z(...W);return Z.set(K,H),H})}}};var O6=M1(B6(),1);var IJ=M1(B6(),1);function KT1(J,Z,X,Y){let $=[],z=Y===null||Y===void 0?void 0:Y.maxErrors;try{let W=EU4(J,Z,X,(Q)=>{if(z!=null&&$.length>=z)throw n1("Too many errors processing variables, error limit reached. Execution aborted.");$.push(Q)});if($.length===0)return{coerced:W}}catch(W){$.push(W)}return{errors:$}}function EU4(J,Z,X,Y){let $={};for(let z of Z){let W=z.variable.name.value,Q=IJ.typeFromAST(J,z.type);if(!IJ.isInputType(Q)){let K=IJ.print(z.type);Y(n1(`Variable "$${W}" expected value of type "${K}" which cannot be used as an input type.`,{nodes:z.type}));continue}if(!nT(X,W)){if(z.defaultValue)$[W]=IJ.valueFromAST(z.defaultValue,Q);else if(IJ.isNonNullType(Q)){let K=f5(Q);Y(n1(`Variable "$${W}" of required type "${K}" was not provided.`,{nodes:z}))}continue}let G=X[W];if(G===null&&IJ.isNonNullType(Q)){let K=f5(Q);Y(n1(`Variable "$${W}" of non-null type "${K}" must not be null.`,{nodes:z}));continue}$[W]=IJ.coerceInputValue(G,Q,(K,q,H)=>{let F=`Variable "$${W}" got invalid value `+f5(q);if(K.length>0)F+=` at "${W}${oE1(K)}"`;Y(n1(F+"; "+H.message,{nodes:z,originalError:H.originalError}))})}return $}async function xa(J){let Z=Object.keys(J),X=Object.values(J),Y=await Promise.all(X),$=Object.create(null);for(let z=0;z<Z.length;++z)$[Z[z]]=Y[z];return $}function qT1(J){let Z=J[Symbol.asyncIterator](),X,Y,$=!1;async function z(){if($)return{value:void 0,done:!0};try{if(!X){if(Y)return await Y,await z();let G;Y=new Promise((q)=>{G=q});let K=await Z.next();if(K.done)return $=!0,await z();return X=K.value[Symbol.asyncIterator](),Y=void 0,G(),await z()}let W=X,Q=await X.next();if(!Q.done)return Q;if(X===W)X=void 0;return await z()}catch(W){throw $=!0,W}}return{next:z,async return(){var W,Q;return $=!0,await Promise.all([(W=X===null||X===void 0?void 0:X.return)===null||W===void 0?void 0:W.call(X),(Q=Z.return)===null||Q===void 0?void 0:Q.call(Z)]),{value:void 0,done:!0}},async throw(W){var Q,G;throw $=!0,await Promise.all([(Q=X===null||X===void 0?void 0:X.throw)===null||Q===void 0?void 0:Q.call(X,W),(G=Z.throw)===null||G===void 0?void 0:G.call(Z,W)]),W},[Symbol.asyncIterator](){return this}}}function ga(J,Z){if(!J)throw new Error(Z!=null?Z:"Unexpected invariant triggered.")}function SU4(J){return J!=null&&typeof J.then==="function"}var TU4=(J)=>{throw J};class v7{state;constructor(J){let Z;try{Z=J()}catch(X){this.state={status:"rejected",value:X};return}if(SU4(Z)){this.state={status:"pending",value:Z};return}this.state={status:"fulfilled",value:Z}}then(J,Z){let X=this.state;if(X.status==="pending")return new v7(()=>X.value.then(J,Z));let Y=typeof Z==="function"?Z:TU4;if(X.status==="rejected")return new v7(()=>Y(X.value));try{let $=typeof J==="function"?J:void 0;return $===void 0?new v7(()=>X.value):new v7(()=>$(X.value))}catch($){return new v7(()=>Y($))}}catch(J){return this.then(void 0,J)}resolve(){let J=this.state;if(J.status==="pending")return Promise.resolve(J.value);if(J.status==="rejected")throw J.value;return J.value}static all(J){let Z=!1,X,Y=!1,$=[];for(let z of J){let W=z.state;if(W.status==="rejected"){if(Z)continue;Z=!0,X=W.value;continue}if(W.status==="pending")Y=!0;$.push(W.value)}if(Y){if(Z)return Promise.all($).catch(()=>{}),new v7(()=>{throw X});return new v7(()=>Promise.all($))}return new v7(()=>$)}}var fU4=IE1((J,Z,X)=>pE1(J.schema,J.fragments,J.variableValues,Z,X));function IT1(J){let Z=AT1(J);if(!("schema"in Z))return{errors:Z.map((X)=>{var Y;return Object.defineProperty(X,"extensions",{value:{...X.extensions,http:{...(Y=X.extensions)===null||Y===void 0?void 0:Y.http,status:400}}}),X})};return wT1(Z)}function wT1(J){return new v7(()=>bU4(J)).then((Z)=>{let X=BT1(Z,J.errors);if(J.subsequentPayloads.size>0)return{initialResult:{...X,hasNext:!0},subsequentResults:iU4(J)};return X},(Z)=>{return J.errors.push(Z),BT1(null,J.errors)}).resolve()}function BT1(J,Z){return Z.length===0?{data:J}:{errors:Z,data:J}}function AT1(J){var Z,X;let{schema:Y,document:$,rootValue:z,contextValue:W,variableValues:Q,operationName:G,fieldResolver:K,typeResolver:q,subscribeFieldResolver:H}=J;O6.assertValidSchema(Y);let F,U=Object.create(null);for(let w of $.definitions)switch(w.kind){case O6.Kind.OPERATION_DEFINITION:if(G==null){if(F!==void 0)return[n1("Must provide operation name if query contains multiple operations.")];F=w}else if(((Z=w.name)===null||Z===void 0?void 0:Z.value)===G)F=w;break;case O6.Kind.FRAGMENT_DEFINITION:U[w.name.value]=w;break;default:}if(!F){if(G!=null)return[n1(`Unknown operation named "${G}".`)];return[n1("Must provide an operation.")]}let D=(X=F.variableDefinitions)!==null&&X!==void 0?X:[],V=KT1(Y,D,Q!==null&&Q!==void 0?Q:{},{maxErrors:50});if(V.errors)return V.errors;return{schema:Y,fragments:U,rootValue:z,contextValue:W,operation:F,variableValues:V.coerced,fieldResolver:K!==null&&K!==void 0?K:OT1,typeResolver:q!==null&&q!==void 0?q:gU4,subscribeFieldResolver:H!==null&&H!==void 0?H:OT1,subsequentPayloads:new Set,errors:[]}}function kU4(J,Z){return{...J,rootValue:Z,subsequentPayloads:new Set,errors:[]}}function bU4(J){let{operation:Z,schema:X,fragments:Y,variableValues:$,rootValue:z}=J,W=AE1(X,Z.operation,[Z]);if(W==null)n1(`Schema is not configured to execute ${Z.operation} operation.`,{nodes:Z});let{fields:Q,patches:G}=Aa(X,Y,$,W,Z.selectionSet),K=void 0,q;if(Z.operation==="mutation")q=hU4(J,W,z,K,Q);else q=ua(J,W,z,K,Q);for(let H of G){let{label:F,fields:U}=H;jT1(J,W,z,U,F,K)}return q}function hU4(J,Z,X,Y,$){return BE1($,(z,[W,Q])=>{let G=iH(Y,W,Z.name);return new v7(()=>MT1(J,Z,X,Q,G)).then((K)=>{if(K===void 0)return z;return z[W]=K,z}).resolve()},Object.create(null))}function ua(J,Z,X,Y,$,z){let W=Object.create(null),Q=!1;try{for(let[G,K]of $){let q=iH(Y,G,Z.name),H=MT1(J,Z,X,K,q,z);if(H!==void 0){if(W[G]=H,T5(H))Q=!0}}}catch(G){if(Q)return xa(W).finally(()=>{throw G});throw G}if(!Q)return W;return xa(W)}function MT1(J,Z,X,Y,$,z){var W,Q;let G=(W=z===null||z===void 0?void 0:z.errors)!==null&&W!==void 0?W:J.errors,K=ET1(J.schema,Z,Y[0]);if(!K)return;let q=K.type,H=(Q=K.resolve)!==null&&Q!==void 0?Q:J.fieldResolver,F=NT1(J,K,Y,Z,$);try{let U=Ua(K,Y[0],J.variableValues),D=J.contextValue,V=H(X,U,D,F),w;if(T5(V))w=V.then((M)=>rK(J,q,Y,F,$,M,z));else w=rK(J,q,Y,F,$,V,z);if(T5(w))return w.then(void 0,(M)=>{let P=O6.locatedError(M,Y,b9($)),R=j$(P,q,G);return $Z(J,$,z),R});return w}catch(U){let D=O6.locatedError(U,Y,b9($)),V=j$(D,q,G);return $Z(J,$,z),V}}function NT1(J,Z,X,Y,$){return{fieldName:Z.name,fieldNodes:X,returnType:Z.type,parentType:Y,path:$,schema:J.schema,fragments:J.fragments,rootValue:J.rootValue,operation:J.operation,variableValues:J.variableValues}}function j$(J,Z,X){if(O6.isNonNullType(Z))throw J;return X.push(J),null}function rK(J,Z,X,Y,$,z,W){if(z instanceof Error)throw z;if(O6.isNonNullType(Z)){let Q=rK(J,Z.ofType,X,Y,$,z,W);if(Q===null)throw new Error(`Cannot return null for non-nullable field ${Y.parentType.name}.${Y.fieldName}.`);return Q}if(z==null)return null;if(O6.isListType(Z))return yU4(J,Z,X,Y,$,z,W);if(O6.isLeafType(Z))return vU4(Z,z);if(O6.isAbstractType(Z))return xU4(J,Z,X,Y,$,z,W);if(O6.isObjectType(Z))return da(J,Z,X,Y,$,z,W);console.assert(!1,"Cannot complete value of unexpected output type: "+f5(Z))}function PT1(J,Z,X){if(typeof X.key==="number")return;let Y=O6.getDirectiveValues(mE1,Z[0],J.variableValues);if(!Y)return;if(Y.if===!1)return;return ga(typeof Y.initialCount==="number","initialCount must be a number"),ga(Y.initialCount>=0,"initialCount must be a positive integer"),{initialCount:Y.initialCount,label:typeof Y.label==="string"?Y.label:void 0}}async function _U4(J,Z,X,Y,$,z,W){var Q;let G=(Q=W===null||W===void 0?void 0:W.errors)!==null&&Q!==void 0?Q:J.errors,K=PT1(J,X,$),q=!1,H=[],F=0;while(!0){if(K&&typeof K.initialCount==="number"&&F>=K.initialCount){pU4(F,z,J,X,Y,Z,$,K.label,W);break}let U=iH($,F,void 0),D;try{if(D=await z.next(),D.done)break}catch(V){let w=O6.locatedError(V,X,b9(U));H.push(j$(w,Z,G));break}if(LT1(D.value,H,G,J,Z,X,Y,U,W))q=!0;F+=1}return q?Promise.all(H):H}function yU4(J,Z,X,Y,$,z,W){var Q;let G=Z.ofType,K=(Q=W===null||W===void 0?void 0:W.errors)!==null&&Q!==void 0?Q:J.errors;if(yV(z)){let V=z[Symbol.asyncIterator]();return _U4(J,G,X,Y,$,V,W)}if(!qE1(z))throw n1(`Expected Iterable, but did not find one for field "${Y.parentType.name}.${Y.fieldName}".`);let q=PT1(J,X,$),H=!1,F=W,U=[],D=0;for(let V of z){let w=iH($,D,void 0);if(q&&typeof q.initialCount==="number"&&D>=q.initialCount){F=cU4($,w,V,J,X,Y,G,q.label,F),D++;continue}if(LT1(V,U,K,J,G,X,Y,w,W))H=!0;D++}return H?Promise.all(U):U}function LT1(J,Z,X,Y,$,z,W,Q,G){try{let K;if(T5(J))K=J.then((q)=>rK(Y,$,z,W,Q,q,G));else K=rK(Y,$,z,W,Q,J,G);if(T5(K))return Z.push(K.then(void 0,(q)=>{let H=O6.locatedError(q,z,b9(Q)),F=j$(H,$,X);return $Z(Y,Q,G),F})),!0;Z.push(K)}catch(K){let q=O6.locatedError(K,z,b9(Q)),H=j$(q,$,X);$Z(Y,Q,G),Z.push(H)}return!1}function vU4(J,Z){let X=J.serialize(Z);if(X==null)throw new Error(`Expected \`${f5(J)}.serialize(${f5(Z)})\` to return non-nullable value, returned: ${f5(X)}`);return X}function xU4(J,Z,X,Y,$,z,W){var Q;let G=(Q=Z.resolveType)!==null&&Q!==void 0?Q:J.typeResolver,K=J.contextValue,q=G(z,K,Y,Z);if(T5(q))return q.then((H)=>da(J,HT1(H,J,Z,X,Y,z),X,Y,$,z,W));return da(J,HT1(q,J,Z,X,Y,z),X,Y,$,z,W)}function HT1(J,Z,X,Y,$,z){if(J==null)throw n1(`Abstract type "${X.name}" must resolve to an Object type at runtime for field "${$.parentType.name}.${$.fieldName}". Either the "${X.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,{nodes:Y});if(O6.isObjectType(J))throw n1("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if(typeof J!=="string")throw n1(`Abstract type "${X.name}" must resolve to an Object type at runtime for field "${$.parentType.name}.${$.fieldName}" with value ${f5(z)}, received "${f5(J)}".`);let W=Z.schema.getType(J);if(W==null)throw n1(`Abstract type "${X.name}" was resolved to a type "${J}" that does not exist inside the schema.`,{nodes:Y});if(!O6.isObjectType(W))throw n1(`Abstract type "${X.name}" was resolved to a non-object type "${J}".`,{nodes:Y});if(!Z.schema.isSubType(X,W))throw n1(`Runtime Object type "${W.name}" is not a possible type for "${X.name}".`,{nodes:Y});return W}function da(J,Z,X,Y,$,z,W){if(Z.isTypeOf){let Q=Z.isTypeOf(z,J.contextValue,Y);if(T5(Q))return Q.then((G)=>{if(!G)throw FT1(Z,z,X);return UT1(J,Z,X,$,z,W)});if(!Q)throw FT1(Z,z,X)}return UT1(J,Z,X,$,z,W)}function FT1(J,Z,X){return n1(`Expected value of type "${J.name}" but got: ${f5(Z)}.`,{nodes:X})}function UT1(J,Z,X,Y,$,z){let{fields:W,patches:Q}=fU4(J,Z,X),G=ua(J,Z,$,Y,W,z);for(let K of Q){let{label:q,fields:H}=K;jT1(J,Z,$,H,q,Y,z)}return G}var gU4=function(J,Z,X,Y){if(pT(J)&&typeof J.__typename==="string")return J.__typename;let $=X.schema.getPossibleTypes(Y),z=[];for(let W=0;W<$.length;W++){let Q=$[W];if(Q.isTypeOf){let G=Q.isTypeOf(J,Z,X);if(T5(G))z[W]=G;else if(G)return Q.name}}if(z.length)return Promise.all(z).then((W)=>{for(let Q=0;Q<W.length;Q++)if(W[Q])return $[Q].name})},OT1=function(J,Z,X,Y){if(pT(J)||typeof J==="function"){let $=J[Y.fieldName];if(typeof $==="function")return J[Y.fieldName](Z,X,Y);return $}};function CT1(J){let Z=AT1(J);if(!("schema"in Z))return{errors:Z.map((Y)=>{var $;return Object.defineProperty(Y,"extensions",{value:{...Y.extensions,http:{...($=Y.extensions)===null||$===void 0?void 0:$.http,status:400}}}),Y})};let X=uU4(Z);if(T5(X))return X.then((Y)=>DT1(Z,Y));return DT1(Z,X)}function ma(J){let Z=J.subsequentResults,X=!1,Y=!1;return{[Symbol.asyncIterator](){return this},async next(){if(Y)return{value:void 0,done:Y};if(X)return Z.next();return X=!0,Promise.resolve({value:J.initialResult,done:Y})},return(){return Y=!0,Z.return()},throw($){return Y=!0,Z.throw($)}}}async function*dU4(J){if("initialResult"in J)yield*ma(J);else yield J}function DT1(J,Z){if(!yV(Z))return Z;return qT1(dE1(Z[Symbol.asyncIterator](),async(X)=>dU4(await wT1(kU4(J,X))),async function*(X){yield{errors:[n1(X.message,{originalError:X,nodes:[J.operation]})]}}))}function uU4(J){try{let Z=mU4(J);if(T5(Z))return Z.then(void 0,(X)=>({errors:[X]}));return Z}catch(Z){return{errors:[Z]}}}function mU4(J){var Z;let{schema:X,fragments:Y,operation:$,variableValues:z,rootValue:W}=J,Q=X.getSubscriptionType();if(Q==null)throw n1("Schema is not configured to execute subscription operation.",{nodes:$});let{fields:G}=Aa(X,Y,z,Q,$.selectionSet),[K,q]=[...G.entries()][0],H=q[0].name.value,F=ET1(X,Q,q[0]);if(!F)throw n1(`The subscription field "${H}" is not defined.`,{nodes:q});let U=iH(void 0,K,Q.name),D=NT1(J,F,q,Q,U);try{let V=Ua(F,q[0],z),w=J.contextValue,P=((Z=F.subscribe)!==null&&Z!==void 0?Z:J.subscribeFieldResolver)(W,V,w,D);if(T5(P))return P.then(VT1).then(void 0,(R)=>{throw O6.locatedError(R,q,b9(U))});return VT1(P)}catch(V){throw O6.locatedError(V,q,b9(U))}}function VT1(J){if(J instanceof Error)throw J;if(!yV(J))throw n1(`Subscription field must return Async Iterable. Received: ${f5(J)}.`);return J}function jT1(J,Z,X,Y,$,z,W){let Q=new RT1({label:$,path:z,parentContext:W,exeContext:J}),G;try{if(G=ua(J,Z,X,z,Y,Q),T5(G))G=G.then(null,(K)=>{return Q.errors.push(K),null})}catch(K){Q.errors.push(K),G=null}Q.addData(G)}function cU4(J,Z,X,Y,$,z,W,Q,G){let K=new ca({label:Q,path:Z,parentContext:G,exeContext:Y}),q;try{try{if(T5(X))q=X.then((F)=>rK(Y,W,$,z,Z,F,K));else q=rK(Y,W,$,z,Z,X,K);if(T5(q))q=q.then(void 0,(F)=>{let U=O6.locatedError(F,$,b9(Z)),D=j$(U,W,K.errors);return $Z(Y,Z,K),D})}catch(F){let U=O6.locatedError(F,$,b9(Z));q=j$(U,W,K.errors),$Z(Y,Z,K)}}catch(F){return K.errors.push(F),$Z(Y,J,K),K.addItems(null),K}let H;if(T5(q))H=q.then((F)=>[F],(F)=>{return K.errors.push(F),$Z(Y,J,K),null});else H=[q];return K.addItems(H),K}async function lU4(J,Z,X,Y,$,z,W){let Q;try{let{value:K,done:q}=await J.next();if(q)return z.setIsCompletedIterator(),{done:q,value:void 0};Q=K}catch(K){let q=O6.locatedError(K,X,b9(W));return{done:!0,value:j$(q,$,z.errors)}}let G;try{if(G=rK(Z,$,X,Y,W,Q,z),T5(G))G=G.then(void 0,(K)=>{let q=O6.locatedError(K,X,b9(W)),H=j$(q,$,z.errors);return $Z(Z,W,z),H});return{done:!1,value:G}}catch(K){let q=O6.locatedError(K,X,b9(W)),H=j$(q,$,z.errors);return $Z(Z,W,z),{done:!1,value:H}}}async function pU4(J,Z,X,Y,$,z,W,Q,G){let K=J,q=G!==null&&G!==void 0?G:void 0;while(!0){let H=iH(W,K,void 0),F=new ca({label:Q,path:H,parentContext:q,iterator:Z,exeContext:X}),U;try{U=await lU4(Z,X,Y,$,z,F,H)}catch(M){if(F.errors.push(M),$Z(X,W,F),F.addItems(null),Z===null||Z===void 0?void 0:Z.return)Z.return().catch(()=>{});return}let{done:D,value:V}=U,w;if(T5(V))w=V.then((M)=>[M],(M)=>{return F.errors.push(M),$Z(X,W,F),null});else w=[V];if(F.addItems(w),D)break;q=F,K++}}function $Z(J,Z,X){let Y=b9(Z);J.subsequentPayloads.forEach(($)=>{var z;if($===X)return;for(let W=0;W<Y.length;W++)if($.path[W]!==Y[W])return;if(la($)&&((z=$.iterator)===null||z===void 0?void 0:z.return))$.iterator.return().catch(()=>{});J.subsequentPayloads.delete($)})}function nU4(J){let Z=[];for(let X of J.subsequentPayloads){let Y={};if(!X.isCompleted)continue;if(J.subsequentPayloads.delete(X),la(X)){let $=X.items;if(X.isCompletedIterator)continue;Y.items=$}else{let $=X.data;Y.data=$!==null&&$!==void 0?$:null}if(Y.path=X.path,X.label)Y.label=X.label;if(X.errors.length>0)Y.errors=X.errors;Z.push(Y)}return Z}function iU4(J){let Z=!1;async function X(){if(Z)return{value:void 0,done:!0};if(await Promise.race(Array.from(J.subsequentPayloads).map((W)=>W.promise)),Z)return{value:void 0,done:!0};let $=nU4(J),z=J.subsequentPayloads.size>0;if(!$.length&&z)return X();if(!z)Z=!0;return{value:$.length?{incremental:$,hasNext:z}:{hasNext:z},done:!1}}function Y(){let $=[];return J.subsequentPayloads.forEach((z)=>{var W;if(la(z)&&((W=z.iterator)===null||W===void 0?void 0:W.return))$.push(z.iterator.return())}),Promise.all($)}return{[Symbol.asyncIterator](){return this},next:X,async return(){return await Y(),Z=!0,{value:void 0,done:!0}},async throw($){return await Y(),Z=!0,Promise.reject($)}}}class RT1{constructor(J){this.type="defer",this.label=J.label,this.path=b9(J.path),this.parentContext=J.parentContext,this.errors=[],this._exeContext=J.exeContext,this._exeContext.subsequentPayloads.add(this),this.isCompleted=!1,this.data=null,this.promise=new Promise((Z)=>{this._resolve=(X)=>{Z(X)}}).then((Z)=>{this.data=Z,this.isCompleted=!0})}addData(J){var Z,X,Y;let $=(Z=this.parentContext)===null||Z===void 0?void 0:Z.promise;if($){(X=this._resolve)===null||X===void 0||X.call(this,$.then(()=>J));return}(Y=this._resolve)===null||Y===void 0||Y.call(this,J)}}class ca{constructor(J){this.type="stream",this.items=null,this.label=J.label,this.path=b9(J.path),this.parentContext=J.parentContext,this.iterator=J.iterator,this.errors=[],this._exeContext=J.exeContext,this._exeContext.subsequentPayloads.add(this),this.isCompleted=!1,this.items=null,this.promise=new Promise((Z)=>{this._resolve=(X)=>{Z(X)}}).then((Z)=>{this.items=Z,this.isCompleted=!0})}addItems(J){var Z,X,Y;let $=(Z=this.parentContext)===null||Z===void 0?void 0:Z.promise;if($){(X=this._resolve)===null||X===void 0||X.call(this,$.then(()=>J));return}(Y=this._resolve)===null||Y===void 0||Y.call(this,J)}setIsCompletedIterator(){this.isCompletedIterator=!0}}function la(J){return J.type==="stream"}function ET1(J,Z,X){let Y=X.name.value;if(Y===O6.SchemaMetaFieldDef.name&&J.getQueryType()===Z)return O6.SchemaMetaFieldDef;else if(Y===O6.TypeMetaFieldDef.name&&J.getQueryType()===Z)return O6.TypeMetaFieldDef;else if(Y===O6.TypeNameMetaFieldDef.name)return O6.TypeNameMetaFieldDef;return Z.getFields()[Y]}var ST1=M1(B6(),1);function pa(J){let Z=ST1.getOperationAST(J.document,J.operationName);if(Z==null)throw new Error("Must provide an operation.");if(Z.operation==="subscription")return CT1(J);return new v7(()=>IT1(J)).then((X)=>{if("initialResult"in X)return ma(X);return X}).resolve()}var FP={};r9(FP,{fetch:()=>Mv1,crypto:()=>kv1,createFetch:()=>vv1,btoa:()=>bv1,WritableStream:()=>Ev1,URLSearchParams:()=>KI,URLPattern:()=>yv1,URL:()=>_k,TransformStream:()=>Sv1,TextEncoder:()=>hv1,TextDecoder:()=>_v1,Response:()=>hk,Request:()=>Pv1,ReadableStream:()=>Rv1,Headers:()=>Nv1,FormData:()=>Lv1,File:()=>fv1,Blob:()=>Tv1,AbortSignal:()=>Cv1,AbortController:()=>jv1});var Av1=wv1(),h5=Av1();var{fetch:Mv1,Headers:Nv1,Request:Pv1,Response:hk,FormData:Lv1,AbortSignal:Cv1,AbortController:jv1,ReadableStream:Rv1,WritableStream:Ev1,TransformStream:Sv1,Blob:Tv1,File:fv1,crypto:kv1,btoa:bv1,TextEncoder:hv1,TextDecoder:_v1,URLPattern:yv1,URL:_k,URLSearchParams:KI}=h5,vv1=Av1;function xv1(J){return J!=null&&typeof J==="object"&&typeof J[Symbol.asyncIterator]==="function"}function UM4(J){var Z,X,Y,$,z;if((Z=J.socket)===null||Z===void 0?void 0:Z.localPort)return(X=J.socket)===null||X===void 0?void 0:X.localPort;let W=((Y=J.headers)===null||Y===void 0?void 0:Y[":authority"])||(($=J.headers)===null||$===void 0?void 0:$.host),Q=(z=W===null||W===void 0?void 0:W.split(":"))===null||z===void 0?void 0:z[1];if(Q)return Q;return 80}function OM4(J){var Z,X,Y,$,z;if((Z=J.headers)===null||Z===void 0?void 0:Z[":authority"])return(X=J.headers)===null||X===void 0?void 0:X[":authority"];if((Y=J.headers)===null||Y===void 0?void 0:Y.host)return($=J.headers)===null||$===void 0?void 0:$.host;let W=UM4(J);if(J.hostname)return J.hostname+":"+W;let Q=(z=J.socket)===null||z===void 0?void 0:z.localAddress;if(Q&&!(Q===null||Q===void 0?void 0:Q.includes("::"))&&!(Q===null||Q===void 0?void 0:Q.includes("ffff")))return`${Q}:${W}`;return"localhost"}function DM4(J){let Z=OM4(J),X=J.protocol||"http",Y=J.originalUrl||J.url||"/graphql";return`${X}://${Z}${Y}`}function VM4(J){let Z=J[Symbol.toStringTag];if(typeof J==="string"||Z==="Uint8Array"||Z==="Blob"||Z==="FormData"||Z==="URLSearchParams"||xv1(J))return!0;return!1}function gv1(J,Z){var X;let Y=J.raw||J.req||J,$=DM4(Y);if(J.query){let W=new _k($);for(let Q in J.query)W.searchParams.set(Q,J.query[Q]);$=W.toString()}if(J.method==="GET"||J.method==="HEAD")return new Z($,{method:J.method,headers:J.headers});let z=J.body;if(z!=null&&Object.keys(z).length>0){if(VM4(z))return new Z($,{method:J.method,headers:J.headers,body:z});let W=new Z($,{method:J.method,headers:J.headers});if(!((X=W.headers.get("content-type"))===null||X===void 0?void 0:X.includes("json")))W.headers.set("content-type","application/json");return new Proxy(W,{get:(Q,G,K)=>{switch(G){case"json":return async()=>z;case"text":return async()=>JSON.stringify(z);default:return Reflect.get(Q,G,K)}}})}return new Z($,{method:J.method,headers:J.headers,body:Y})}function dv1(J){return J.read!=null}function uv1(J){return dv1(J)}function Ct(J){return J!=null&&J.setHeader!=null&&J.end!=null&&J.once!=null&&J.write!=null}function mv1(J){return J!=null&&J.request!=null&&J.respondWith!=null}function IM4(J){var Z,X,Y,$,z,W;(X=(Z=J===null||J===void 0?void 0:J.socket)===null||Z===void 0?void 0:Z.setTimeout)===null||X===void 0||X.call(Z,0),($=(Y=J===null||J===void 0?void 0:J.socket)===null||Y===void 0?void 0:Y.setNoDelay)===null||$===void 0||$.call(Y,!0),(W=(z=J===null||J===void 0?void 0:J.socket)===null||z===void 0?void 0:z.setKeepAlive)===null||W===void 0||W.call(z,!0)}function yk(J){J.end(null,null,null)}function wM4(J){return new Proxy({},{get(Z,X){return J.get(X)||void 0},set(Z,X,Y){return J.set(X,Y),!0},has(Z,X){return J.has(X)},deleteProperty(Z,X){return J.delete(X),!0},ownKeys(){let Z=[];return J.forEach((X,Y)=>Z.push(Y)),Z},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}})}async function cv1(J,Z,X){let Y=wM4(J.headers);return Z.writeHead(J.status,J.statusText,Y),new Promise(async($)=>{if(Z.once("close",$),"bodyType"in J&&J.bodyType!=null&&(J.bodyType==="String"||J.bodyType==="Uint8Array")){Z.write(J.bodyInit),yk(Z);return}let z=J.body;if(z==null){yk(Z);return}if(z[Symbol.toStringTag]==="Uint8Array"){Z.write(z),yk(Z);return}if(IM4(X),dv1(z)){Z.once("close",()=>{z.destroy()}),z.pipe(Z);return}if(xv1(z)){for await(let W of z)if(!Z.write(W))break;yk(Z)}})}function lv1(J){return J!=null&&typeof J==="object"&&(("body"in J)||("cache"in J)||("credentials"in J)||("headers"in J)||("integrity"in J)||("keepalive"in J)||("method"in J)||("mode"in J)||("redirect"in J)||("referrer"in J)||("referrerPolicy"in J)||("signal"in J)||("window"in J))}async function pv1(J){(await Promise.allSettled(J)).forEach((X)=>{if(X.status==="rejected")console.error(X.reason)})}function AM4(J){try{return!!(J===null||J===void 0?void 0:J.request)}catch(Z){return!1}}function iv1(J,Z){let X={...FP,...Z===null||Z===void 0?void 0:Z.fetchAPI},Y=typeof J==="function"?J:J.handle,$=[],z=[];if((Z===null||Z===void 0?void 0:Z.plugins)!=null)for(let V of Z.plugins){if(V.onRequest)$.push(V.onRequest);if(V.onResponse)z.push(V.onResponse)}async function W(V,w){let M=new Proxy({},{get:(f,d,v)=>{return M=new X.URL(V.url,"http://localhost"),Reflect.get(M,d,M)}}),P=Y,R;for(let f of $)if(await f({request:V,serverContext:w,fetchAPI:X,url:M,requestHandler:P,setRequestHandler(d){P=d},endResponse(d){R=d}}),R)break;if(!R)R=await P(V,w);for(let f of z)await f({request:V,response:R,serverContext:w});return R}function Q(V,...w){let M=w.length>1?nv1({},...w):w[0],P=gv1(V,X.Request);return W(P,M)}async function G(V,w,...M){let P=[],f=await Q(V,{req:V,res:w,waitUntil(d){if(d!=null)P.push(d)}},...M);if(f)await cv1(f,w,V);else await new Promise((d)=>{w.statusCode=404,w.once("end",d),w.end()});if(P.length>0)await pv1(P)}function K(V,...w){if(!V.respondWith||!V.request)throw new TypeError(`Expected FetchEvent, got ${V}`);let M=w.length>0?Object.assign({},V,...w):V,P=W(V.request,M);V.respondWith(P)}function q(V,...w){let M=w.length>1?nv1({},...w):w[0]||{};if(!("waitUntil"in M)){let P=[],R=W(V,{...M,waitUntil(f){if(f!=null)P.push(f)}});if(P.length>0)return pv1(P).then(()=>R);return R}return W(V,M)}let H=(V,...w)=>{if(typeof V==="string"||"href"in V){let[M,...P]=w;if(lv1(M))return q(new X.Request(V,M),...P);return q(new X.Request(V),...w)}return q(V,...w)},F=(V,...w)=>{let[M,...P]=w;if(uv1(V)){if(!Ct(M))throw new TypeError(`Expected ServerResponse, got ${M}`);return G(V,M,...P)}if(Ct(M))throw new TypeError("Got Node response without Node request");if(AM4(V)){if(mv1(V))return K(V,...w);return q(V.request,V,...w)}return H(V,...w)},U={handleRequest:W,fetch:H,handleNodeRequest:Q,requestListener:G,handleEvent:K,handle:F},D=new Proxy(F,{has:(V,w)=>{return w in U||w in F||J&&w in J},get:(V,w)=>{let M=U[w];if(M){if(M.bind)return M.bind(U);return M}let P=F[w];if(P){if(P.bind)return P.bind(F);return P}if(J){let R=J[w];if(R){if(R.bind)return function(...f){let d=J[w](...f);if(d===J)return D;return d};return R}}},apply(V,w,M){return F(...M)}});return D}function nv1(J,...Z){return Z.forEach((X)=>{if(X!=null&&typeof X==="object"){let Y=Object.getOwnPropertyNames(X).reduce(($,z)=>{return $[z]=Object.getOwnPropertyDescriptor(X,z),$},{});Object.getOwnPropertySymbols(X).forEach(($)=>{let z=Object.getOwnPropertyDescriptor(X,$);if(z.enumerable)Y[$]=z}),Object.defineProperties(J,Y)}}),J}function MM4(J,Z){var X,Y;let $=J.headers.get("origin");if(Z===!1||$==null)return null;let z={};if(Z.origin==null||Z.origin.length===0||Z.origin.includes("*"))z["Access-Control-Allow-Origin"]=$,z.Vary="Origin";else if(typeof Z.origin==="string")z["Access-Control-Allow-Origin"]=Z.origin;else if(Array.isArray(Z.origin))if(Z.origin.length===1)z["Access-Control-Allow-Origin"]=Z.origin[0];else if(Z.origin.includes($))z["Access-Control-Allow-Origin"]=$,z.Vary="Origin";else z["Access-Control-Allow-Origin"]="null";if((X=Z.methods)===null||X===void 0?void 0:X.length)z["Access-Control-Allow-Methods"]=Z.methods.join(", ");else{let W=J.headers.get("access-control-request-method");if(W)z["Access-Control-Allow-Methods"]=W}if((Y=Z.allowedHeaders)===null||Y===void 0?void 0:Y.length)z["Access-Control-Allow-Headers"]=Z.allowedHeaders.join(", ");else{let W=J.headers.get("access-control-request-headers");if(W){if(z["Access-Control-Allow-Headers"]=W,z.Vary)z.Vary+=", Access-Control-Request-Headers";z.Vary="Access-Control-Request-Headers"}}if(Z.credentials!=null){if(Z.credentials===!0)z["Access-Control-Allow-Credentials"]="true"}else if(z["Access-Control-Allow-Origin"]!=="*")z["Access-Control-Allow-Credentials"]="true";if(Z.exposedHeaders)z["Access-Control-Expose-Headers"]=Z.exposedHeaders.join(", ");if(Z.maxAge)z["Access-Control-Max-Age"]=Z.maxAge.toString();return z}async function NM4(J,Z,X){let Y=await Z(J,X);return MM4(J,Y)}function ov1(J){let Z=()=>({});if(J!=null){if(typeof J==="function")Z=J;else if(typeof J==="object"){let X={...J};Z=()=>X}else if(J===!1)Z=()=>!1}return{onRequest({request:X,fetchAPI:Y,endResponse:$}){if(X.method.toUpperCase()==="OPTIONS"){let z=new Y.Response(null,{status:204,headers:{"Content-Length":"0"}});$(z)}},async onResponse({request:X,serverContext:Y,response:$}){let z=await NM4(X,Z,Y);if(z!=null)for(let W in z)$.headers.set(W,z[W])}}}function PM4(J=hk){return function Z(X){return new J(typeof X.details==="object"?JSON.stringify(X.details):X.stack||X.message||X.toString(),{status:X.statusCode||X.status||500,headers:X.headers||{}})}}function sv1(J){return{onRequest({requestHandler:Z,setRequestHandler:X,fetchAPI:Y}){let $=J||PM4(Y.Response);X(async function z(W,Q){try{return await Z(W,Q)}catch(G){return await $(G,W,Q)}})}}}var HI=M1(B6(),1);function jt(J){let Z=J.get("operationName")||void 0,X=J.get("query")||void 0,Y=J.get("variables")||void 0,$=J.get("extensions")||void 0;return{operationName:Z,query:X,variables:Y?JSON.parse(Y):void 0,extensions:$?JSON.parse($):void 0}}function av1(J){let Z=new KI(J);return jt(Z)}function CQ(J,Z){let X=J.headers.get("content-type");return X=X?.split(",")[0]||null,X===Z||!!X?.startsWith(`${Z};`)}function rv1(J){return J.method==="GET"}function tv1(J){let[,Z=""]=J.url.split("?"),X=new KI(Z);return jt(X)}function ev1(J){return J.method==="POST"&&CQ(J,"application/x-www-form-urlencoded")}async function Jx1(J){let Z=await J.text();return av1(Z)}function Zx1(J){return J.method==="POST"&&CQ(J,"application/graphql")}async function Xx1(J){return{query:await J.text()}}function Yx1(J){return J.method==="POST"&&(CQ(J,"application/json")||CQ(J,"application/graphql+json"))}async function $x1(J){let Z;try{Z=await J.json()}catch(Y){let $={http:{spec:!0,status:400}};if(Y instanceof Error)$.originalError={name:Y.name,message:Y.message};throw n1("POST body sent invalid JSON.",{extensions:$})}if(Z==null)throw n1(`POST body is expected to be object but received ${Z}`,{extensions:{http:{status:400}}});let X=typeof Z;if(X!=="object")throw n1(`POST body is expected to be object but received ${X}`,{extensions:{http:{status:400}}});return Z}function zx1(J,Z,X){Z.split&&(Z=Z.split("."));var Y=0,$=Z.length,z=J,W,Q;while(Y<$){if(Q=""+Z[Y++],Q==="__proto__"||Q==="constructor"||Q==="prototype")break;z=z[Q]=Y===$?X:typeof(W=z[Q])===typeof Z?W:Z[Y]*0!==0||!!~(""+Z[Y]).indexOf(".")?{}:[]}}function Wx1(J){return J.method==="POST"&&CQ(J,"multipart/form-data")}async function Qx1(J){let Z;try{Z=await J.formData()}catch(z){if(z instanceof Error&&z.message.startsWith("File size limit exceeded: "))throw n1(z.message,{extensions:{http:{status:413}}});throw z}let X=Z.get("operations");if(!X)throw n1('Missing multipart form field "operations"');if(typeof X!=="string")throw n1('Multipart form field "operations" must be a string');let Y;try{Y=JSON.parse(X)}catch(z){throw n1('Multipart form field "operations" must be a valid JSON string')}let $=Z.get("map");if($!=null){if(typeof $!=="string")throw n1('Multipart form field "map" must be a string');let z;try{z=JSON.parse($)}catch(W){throw n1('Multipart form field "map" must be a valid JSON string')}for(let W in z){let Q=Z.get(W),G=z[W];for(let K of G)zx1(Y,K,Q)}}return Y}var LM4=new Set(["query","variables","operationName","extensions"]);function CM4(J){if(J==null||typeof J!=="object")throw n1('Invalid "params" in the request body',{extensions:{http:{spec:!0,status:400}}});for(let Z in J){if(J[Z]==null)continue;if(!LM4.has(Z))throw n1(`Unexpected parameter "${Z}" in the request body.`,{extensions:{http:{status:400}}})}}function jM4(J){if(!RM4(J))throw n1(`Expected params to be an object but given ${UP(J)}.`,{extensions:{http:{status:400,headers:{Allow:"GET, POST"}}}});if(CM4(J),J.query==null)throw n1("Must provide query string.",{extensions:{http:{spec:!0,status:400,headers:{Allow:"GET, POST"}}}});let Z=UP(J.query);if(Z!=="string")throw n1(`Expected "query" param to be a string, but given ${Z}.`,{extensions:{http:{status:400,headers:{Allow:"GET, POST"}}}});let X=UP(J.variables);if(!["object","null","undefined"].includes(X))throw n1(`Expected "variables" param to be empty or an object, but given ${X}.`,{extensions:{http:{status:400,headers:{Allow:"GET, POST"}}}});let Y=UP(J.extensions);if(!["object","null","undefined"].includes(Y))throw n1(`Expected "extensions" param to be empty or an object, but given ${Y}.`,{extensions:{http:{status:400,headers:{Allow:"GET, POST"}}}});return J}function Gx1(){return{onParams({params:J}){jM4(J)}}}function UP(J){if(J===null)return"null";if(Array.isArray(J))return"array";return typeof J}function RM4(J){return UP(J)==="object"}function EM4(J){return J==="GET"||J==="POST"}function Kx1(){return{onRequestParse({request:J}){if(!EM4(J.method))throw n1("GraphQL only supports GET and POST requests.",{extensions:{http:{status:405,headers:{Allow:"GET, POST"}}}})}}}function qx1(){return{onValidate(){return({valid:J,result:Z})=>{if(!J)Z.forEach((X)=>{X.extensions.http={spec:!0,status:400}})}}}}function Bx1(J){return{onRequestParse(){return{onRequestParseDone({requestParserResult:Z}){if(Array.isArray(Z)){if(!J)throw n1("Batching is not supported.",{extensions:{http:{status:400}}});if(Z.length>J)throw n1(`Batching is limited to ${J} operations per request.`,{extensions:{http:{status:413}}})}}}}}}var vk=M1(B6(),1);function SM4(J,Z,X){let Y=Z?vk.getOperationAST(Z,X)??void 0:void 0;if(!Y)throw n1("Could not determine what operation to execute.",{extensions:{http:{status:400}}});if(Y.operation==="mutation"&&J==="GET")throw n1("Can only perform a mutation operation from a POST request.",{extensions:{http:{status:405,headers:{Allow:"POST"}}}})}function Hx1(){return{onParse(){return({result:J,context:{request:Z,params:{operationName:X}={}}})=>{if(!Z)return;if(J instanceof Error){if(J instanceof vk.GraphQLError)J.extensions.http={spec:!0,status:400};throw J}SM4(Z.method,J,X)}}}}function Fx1({id:J=Date.now().toString(),logger:Z=console,endpoint:X="/health"}={}){return{onRequest({endResponse:Y,fetchAPI:$,request:z}){if(z.url.endsWith(X)){Z.debug("Responding Health Check");let W=new $.Response(null,{status:200,headers:{"x-yoga-id":J}});Y(W)}}}}var OP=typeof performance==="object"&&performance&&typeof performance.now==="function"?performance:Date,TM4=typeof AbortController==="function",xk=TM4?AbortController:class J{constructor(){this.signal=new Ux1}abort(Z=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||Z,this.signal.aborted=!0,this.signal.dispatchEvent({type:"abort",target:this.signal})}},fM4=typeof AbortSignal==="function",kM4=typeof xk.AbortSignal==="function",Ux1=fM4?AbortSignal:kM4?xk.AbortController:class J{constructor(){this.reason=void 0,this.aborted=!1,this._listeners=[]}dispatchEvent(Z){if(Z.type==="abort")this.aborted=!0,this.onabort(Z),this._listeners.forEach((X)=>X(Z),this)}onabort(){}addEventListener(Z,X){if(Z==="abort")this._listeners.push(X)}removeEventListener(Z,X){if(Z==="abort")this._listeners=this._listeners.filter((Y)=>Y!==X)}},St=new Set,Rt=(J,Z)=>{let X=`LRU_CACHE_OPTION_${J}`;if(gk(X))Tt(X,`${J} option`,`options.${Z}`,qF)},Et=(J,Z)=>{let X=`LRU_CACHE_METHOD_${J}`;if(gk(X)){let{prototype:Y}=qF,{get:$}=Object.getOwnPropertyDescriptor(Y,J);Tt(X,`${J} method`,`cache.${Z}()`,$)}},bM4=(J,Z)=>{let X=`LRU_CACHE_PROPERTY_${J}`;if(gk(X)){let{prototype:Y}=qF,{get:$}=Object.getOwnPropertyDescriptor(Y,J);Tt(X,`${J} property`,`cache.${Z}`,$)}},Ox1=(...J)=>{typeof process==="object"&&process&&typeof process.emitWarning==="function"?process.emitWarning(...J):console.error(...J)},gk=(J)=>!St.has(J),Tt=(J,Z,X,Y)=>{St.add(J);let $=`The ${Z} is deprecated. Please use ${X} instead.`;Ox1($,"DeprecationWarning",J,Y)},G3=(J)=>J&&J===Math.floor(J)&&J>0&&isFinite(J),Dx1=(J)=>!G3(J)?null:J<=Math.pow(2,8)?Uint8Array:J<=Math.pow(2,16)?Uint16Array:J<=Math.pow(2,32)?Uint32Array:J<=Number.MAX_SAFE_INTEGER?DP:null;class DP extends Array{constructor(J){super(J);this.fill(0)}}class Vx1{constructor(J){if(J===0)return[];let Z=Dx1(J);this.heap=new Z(J),this.length=0}push(J){this.heap[this.length++]=J}pop(){return this.heap[--this.length]}}class qF{constructor(J={}){let{max:Z=0,ttl:X,ttlResolution:Y=1,ttlAutopurge:$,updateAgeOnGet:z,updateAgeOnHas:W,allowStale:Q,dispose:G,disposeAfter:K,noDisposeOnSet:q,noUpdateTTL:H,maxSize:F=0,maxEntrySize:U=0,sizeCalculation:D,fetchMethod:V,fetchContext:w,noDeleteOnFetchRejection:M,noDeleteOnStaleGet:P,allowStaleOnFetchRejection:R,allowStaleOnFetchAbort:f,ignoreFetchAbort:d}=J,{length:v,maxAge:l,stale:o}=J instanceof qF?{}:J;if(Z!==0&&!G3(Z))throw new TypeError("max option must be a nonnegative integer");let S=Z?Dx1(Z):Array;if(!S)throw new Error("invalid max value: "+Z);if(this.max=Z,this.maxSize=F,this.maxEntrySize=U||this.maxSize,this.sizeCalculation=D||v,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!=="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=V||null,this.fetchMethod&&typeof this.fetchMethod!=="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=w,!this.fetchMethod&&w!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(Z).fill(null),this.valList=new Array(Z).fill(null),this.next=new S(Z),this.prev=new S(Z),this.head=0,this.tail=0,this.free=new Vx1(Z),this.initialFill=1,this.size=0,typeof G==="function")this.dispose=G;if(typeof K==="function")this.disposeAfter=K,this.disposed=[];else this.disposeAfter=null,this.disposed=null;if(this.noDisposeOnSet=!!q,this.noUpdateTTL=!!H,this.noDeleteOnFetchRejection=!!M,this.allowStaleOnFetchRejection=!!R,this.allowStaleOnFetchAbort=!!f,this.ignoreFetchAbort=!!d,this.maxEntrySize!==0){if(this.maxSize!==0){if(!G3(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified")}if(!G3(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!Q||!!o,this.noDeleteOnStaleGet=!!P,this.updateAgeOnGet=!!z,this.updateAgeOnHas=!!W,this.ttlResolution=G3(Y)||Y===0?Y:1,this.ttlAutopurge=!!$,this.ttl=X||l||0,this.ttl){if(!G3(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){if(gk("LRU_CACHE_UNBOUNDED"))St.add("LRU_CACHE_UNBOUNDED"),Ox1("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning","LRU_CACHE_UNBOUNDED",qF)}if(o)Rt("stale","allowStale");if(l)Rt("maxAge","ttl");if(v)Rt("length","sizeCalculation")}getRemainingTTL(J){return this.has(J,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new DP(this.max),this.starts=new DP(this.max),this.setItemTTL=(X,Y,$=OP.now())=>{if(this.starts[X]=Y!==0?$:0,this.ttls[X]=Y,Y!==0&&this.ttlAutopurge){let z=setTimeout(()=>{if(this.isStale(X))this.delete(this.keyList[X])},Y+1);if(z.unref)z.unref()}},this.updateItemAge=(X)=>{this.starts[X]=this.ttls[X]!==0?OP.now():0},this.statusTTL=(X,Y)=>{if(X)X.ttl=this.ttls[Y],X.start=this.starts[Y],X.now=J||Z(),X.remainingTTL=X.now+X.ttl-X.start};let J=0,Z=()=>{let X=OP.now();if(this.ttlResolution>0){J=X;let Y=setTimeout(()=>J=0,this.ttlResolution);if(Y.unref)Y.unref()}return X};this.getRemainingTTL=(X)=>{let Y=this.keyMap.get(X);if(Y===void 0)return 0;return this.ttls[Y]===0||this.starts[Y]===0?1/0:this.starts[Y]+this.ttls[Y]-(J||Z())},this.isStale=(X)=>{return this.ttls[X]!==0&&this.starts[X]!==0&&(J||Z())-this.starts[X]>this.ttls[X]}}updateItemAge(J){}statusTTL(J,Z){}setItemTTL(J,Z,X){}isStale(J){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new DP(this.max),this.removeItemSize=(J)=>{this.calculatedSize-=this.sizes[J],this.sizes[J]=0},this.requireSize=(J,Z,X,Y)=>{if(this.isBackgroundFetch(Z))return 0;if(!G3(X))if(Y){if(typeof Y!=="function")throw new TypeError("sizeCalculation must be a function");if(X=Y(Z,J),!G3(X))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return X},this.addItemSize=(J,Z,X)=>{if(this.sizes[J]=Z,this.maxSize){let Y=this.maxSize-this.sizes[J];while(this.calculatedSize>Y)this.evict(!0)}if(this.calculatedSize+=this.sizes[J],X)X.entrySize=Z,X.totalCalculatedSize=this.calculatedSize}}removeItemSize(J){}addItemSize(J,Z){}requireSize(J,Z,X,Y){if(X||Y)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:J=this.allowStale}={}){if(this.size)for(let Z=this.tail;;){if(!this.isValidIndex(Z))break;if(J||!this.isStale(Z))yield Z;if(Z===this.head)break;else Z=this.prev[Z]}}*rindexes({allowStale:J=this.allowStale}={}){if(this.size)for(let Z=this.head;;){if(!this.isValidIndex(Z))break;if(J||!this.isStale(Z))yield Z;if(Z===this.tail)break;else Z=this.next[Z]}}isValidIndex(J){return J!==void 0&&this.keyMap.get(this.keyList[J])===J}*entries(){for(let J of this.indexes())if(this.valList[J]!==void 0&&this.keyList[J]!==void 0&&!this.isBackgroundFetch(this.valList[J]))yield[this.keyList[J],this.valList[J]]}*rentries(){for(let J of this.rindexes())if(this.valList[J]!==void 0&&this.keyList[J]!==void 0&&!this.isBackgroundFetch(this.valList[J]))yield[this.keyList[J],this.valList[J]]}*keys(){for(let J of this.indexes())if(this.keyList[J]!==void 0&&!this.isBackgroundFetch(this.valList[J]))yield this.keyList[J]}*rkeys(){for(let J of this.rindexes())if(this.keyList[J]!==void 0&&!this.isBackgroundFetch(this.valList[J]))yield this.keyList[J]}*values(){for(let J of this.indexes())if(this.valList[J]!==void 0&&!this.isBackgroundFetch(this.valList[J]))yield this.valList[J]}*rvalues(){for(let J of this.rindexes())if(this.valList[J]!==void 0&&!this.isBackgroundFetch(this.valList[J]))yield this.valList[J]}[Symbol.iterator](){return this.entries()}find(J,Z){for(let X of this.indexes()){let Y=this.valList[X],$=this.isBackgroundFetch(Y)?Y.__staleWhileFetching:Y;if($===void 0)continue;if(J($,this.keyList[X],this))return this.get(this.keyList[X],Z)}}forEach(J,Z=this){for(let X of this.indexes()){let Y=this.valList[X],$=this.isBackgroundFetch(Y)?Y.__staleWhileFetching:Y;if($===void 0)continue;J.call(Z,$,this.keyList[X],this)}}rforEach(J,Z=this){for(let X of this.rindexes()){let Y=this.valList[X],$=this.isBackgroundFetch(Y)?Y.__staleWhileFetching:Y;if($===void 0)continue;J.call(Z,$,this.keyList[X],this)}}get prune(){return Et("prune","purgeStale"),this.purgeStale}purgeStale(){let J=!1;for(let Z of this.rindexes({allowStale:!0}))if(this.isStale(Z))this.delete(this.keyList[Z]),J=!0;return J}dump(){let J=[];for(let Z of this.indexes({allowStale:!0})){let X=this.keyList[Z],Y=this.valList[Z],$=this.isBackgroundFetch(Y)?Y.__staleWhileFetching:Y;if($===void 0)continue;let z={value:$};if(this.ttls){z.ttl=this.ttls[Z];let W=OP.now()-this.starts[Z];z.start=Math.floor(Date.now()-W)}if(this.sizes)z.size=this.sizes[Z];J.unshift([X,z])}return J}load(J){this.clear();for(let[Z,X]of J){if(X.start){let Y=Date.now()-X.start;X.start=OP.now()-Y}this.set(Z,X.value,X)}}dispose(J,Z,X){}set(J,Z,{ttl:X=this.ttl,start:Y,noDisposeOnSet:$=this.noDisposeOnSet,size:z=0,sizeCalculation:W=this.sizeCalculation,noUpdateTTL:Q=this.noUpdateTTL,status:G}={}){if(z=this.requireSize(J,Z,z,W),this.maxEntrySize&&z>this.maxEntrySize){if(G)G.set="miss",G.maxEntrySizeExceeded=!0;return this.delete(J),this}let K=this.size===0?void 0:this.keyMap.get(J);if(K===void 0){if(K=this.newIndex(),this.keyList[K]=J,this.valList[K]=Z,this.keyMap.set(J,K),this.next[this.tail]=K,this.prev[K]=this.tail,this.tail=K,this.size++,this.addItemSize(K,z,G),G)G.set="add";Q=!1}else{this.moveToTail(K);let q=this.valList[K];if(Z!==q){if(this.isBackgroundFetch(q))q.__abortController.abort(new Error("replaced"));else if(!$){if(this.dispose(q,J,"set"),this.disposeAfter)this.disposed.push([q,J,"set"])}if(this.removeItemSize(K),this.valList[K]=Z,this.addItemSize(K,z,G),G){G.set="replace";let H=q&&this.isBackgroundFetch(q)?q.__staleWhileFetching:q;if(H!==void 0)G.oldValue=H}}else if(G)G.set="update"}if(X!==0&&this.ttl===0&&!this.ttls)this.initializeTTLTracking();if(!Q)this.setItemTTL(K,X,Y);if(this.statusTTL(G,K),this.disposeAfter)while(this.disposed.length)this.disposeAfter(...this.disposed.shift());return this}newIndex(){if(this.size===0)return this.tail;if(this.size===this.max&&this.max!==0)return this.evict(!1);if(this.free.length!==0)return this.free.pop();return this.initialFill++}pop(){if(this.size){let J=this.valList[this.head];return this.evict(!0),J}}evict(J){let Z=this.head,X=this.keyList[Z],Y=this.valList[Z];if(this.isBackgroundFetch(Y))Y.__abortController.abort(new Error("evicted"));else if(this.dispose(Y,X,"evict"),this.disposeAfter)this.disposed.push([Y,X,"evict"]);if(this.removeItemSize(Z),J)this.keyList[Z]=null,this.valList[Z]=null,this.free.push(Z);return this.head=this.next[Z],this.keyMap.delete(X),this.size--,Z}has(J,{updateAgeOnHas:Z=this.updateAgeOnHas,status:X}={}){let Y=this.keyMap.get(J);if(Y!==void 0){if(!this.isStale(Y)){if(Z)this.updateItemAge(Y);if(X)X.has="hit";return this.statusTTL(X,Y),!0}else if(X)X.has="stale",this.statusTTL(X,Y)}else if(X)X.has="miss";return!1}peek(J,{allowStale:Z=this.allowStale}={}){let X=this.keyMap.get(J);if(X!==void 0&&(Z||!this.isStale(X))){let Y=this.valList[X];return this.isBackgroundFetch(Y)?Y.__staleWhileFetching:Y}}backgroundFetch(J,Z,X,Y){let $=Z===void 0?void 0:this.valList[Z];if(this.isBackgroundFetch($))return $;let z=new xk;if(X.signal)X.signal.addEventListener("abort",()=>z.abort(X.signal.reason));let W={signal:z.signal,options:X,context:Y},Q=(F,U=!1)=>{let{aborted:D}=z.signal,V=X.ignoreFetchAbort&&F!==void 0;if(X.status)if(D&&!U){if(X.status.fetchAborted=!0,X.status.fetchError=z.signal.reason,V)X.status.fetchAbortIgnored=!0}else X.status.fetchResolved=!0;if(D&&!V&&!U)return K(z.signal.reason);if(this.valList[Z]===H)if(F===void 0)if(H.__staleWhileFetching)this.valList[Z]=H.__staleWhileFetching;else this.delete(J);else{if(X.status)X.status.fetchUpdated=!0;this.set(J,F,W.options)}return F},G=(F)=>{if(X.status)X.status.fetchRejected=!0,X.status.fetchError=F;return K(F)},K=(F)=>{let{aborted:U}=z.signal,D=U&&X.allowStaleOnFetchAbort,V=D||X.allowStaleOnFetchRejection,w=V||X.noDeleteOnFetchRejection;if(this.valList[Z]===H){if(!w||H.__staleWhileFetching===void 0)this.delete(J);else if(!D)this.valList[Z]=H.__staleWhileFetching}if(V){if(X.status&&H.__staleWhileFetching!==void 0)X.status.returnedStale=!0;return H.__staleWhileFetching}else if(H.__returned===H)throw F},q=(F,U)=>{this.fetchMethod(J,$,W).then((D)=>F(D),U),z.signal.addEventListener("abort",()=>{if(!X.ignoreFetchAbort||X.allowStaleOnFetchAbort){if(F(),X.allowStaleOnFetchAbort)F=(D)=>Q(D,!0)}})};if(X.status)X.status.fetchDispatched=!0;let H=new Promise(q).then(Q,G);if(H.__abortController=z,H.__staleWhileFetching=$,H.__returned=null,Z===void 0)this.set(J,H,{...W.options,status:void 0}),Z=this.keyMap.get(J);else this.valList[Z]=H;return H}isBackgroundFetch(J){return J&&typeof J==="object"&&typeof J.then==="function"&&Object.prototype.hasOwnProperty.call(J,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(J,"__returned")&&(J.__returned===J||J.__returned===null)}async fetch(J,{allowStale:Z=this.allowStale,updateAgeOnGet:X=this.updateAgeOnGet,noDeleteOnStaleGet:Y=this.noDeleteOnStaleGet,ttl:$=this.ttl,noDisposeOnSet:z=this.noDisposeOnSet,size:W=0,sizeCalculation:Q=this.sizeCalculation,noUpdateTTL:G=this.noUpdateTTL,noDeleteOnFetchRejection:K=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:q=this.allowStaleOnFetchRejection,ignoreFetchAbort:H=this.ignoreFetchAbort,allowStaleOnFetchAbort:F=this.allowStaleOnFetchAbort,fetchContext:U=this.fetchContext,forceRefresh:D=!1,status:V,signal:w}={}){if(!this.fetchMethod){if(V)V.fetch="get";return this.get(J,{allowStale:Z,updateAgeOnGet:X,noDeleteOnStaleGet:Y,status:V})}let M={allowStale:Z,updateAgeOnGet:X,noDeleteOnStaleGet:Y,ttl:$,noDisposeOnSet:z,size:W,sizeCalculation:Q,noUpdateTTL:G,noDeleteOnFetchRejection:K,allowStaleOnFetchRejection:q,allowStaleOnFetchAbort:F,ignoreFetchAbort:H,status:V,signal:w},P=this.keyMap.get(J);if(P===void 0){if(V)V.fetch="miss";let R=this.backgroundFetch(J,P,M,U);return R.__returned=R}else{let R=this.valList[P];if(this.isBackgroundFetch(R)){let o=Z&&R.__staleWhileFetching!==void 0;if(V){if(V.fetch="inflight",o)V.returnedStale=!0}return o?R.__staleWhileFetching:R.__returned=R}let f=this.isStale(P);if(!D&&!f){if(V)V.fetch="hit";if(this.moveToTail(P),X)this.updateItemAge(P);return this.statusTTL(V,P),R}let d=this.backgroundFetch(J,P,M,U),v=d.__staleWhileFetching!==void 0,l=v&&Z;if(V){if(V.fetch=v&&f?"stale":"refresh",l&&f)V.returnedStale=!0}return l?d.__staleWhileFetching:d.__returned=d}}get(J,{allowStale:Z=this.allowStale,updateAgeOnGet:X=this.updateAgeOnGet,noDeleteOnStaleGet:Y=this.noDeleteOnStaleGet,status:$}={}){let z=this.keyMap.get(J);if(z!==void 0){let W=this.valList[z],Q=this.isBackgroundFetch(W);if(this.statusTTL($,z),this.isStale(z)){if($)$.get="stale";if(!Q){if(!Y)this.delete(J);if($)$.returnedStale=Z;return Z?W:void 0}else{if($)$.returnedStale=Z&&W.__staleWhileFetching!==void 0;return Z?W.__staleWhileFetching:void 0}}else{if($)$.get="hit";if(Q)return W.__staleWhileFetching;if(this.moveToTail(z),X)this.updateItemAge(z);return W}}else if($)$.get="miss"}connect(J,Z){this.prev[Z]=J,this.next[J]=Z}moveToTail(J){if(J!==this.tail){if(J===this.head)this.head=this.next[J];else this.connect(this.prev[J],this.next[J]);this.connect(this.tail,J),this.tail=J}}get del(){return Et("del","delete"),this.delete}delete(J){let Z=!1;if(this.size!==0){let X=this.keyMap.get(J);if(X!==void 0)if(Z=!0,this.size===1)this.clear();else{this.removeItemSize(X);let Y=this.valList[X];if(this.isBackgroundFetch(Y))Y.__abortController.abort(new Error("deleted"));else if(this.dispose(Y,J,"delete"),this.disposeAfter)this.disposed.push([Y,J,"delete"]);if(this.keyMap.delete(J),this.keyList[X]=null,this.valList[X]=null,X===this.tail)this.tail=this.prev[X];else if(X===this.head)this.head=this.next[X];else this.next[this.prev[X]]=this.next[X],this.prev[this.next[X]]=this.prev[X];this.size--,this.free.push(X)}}if(this.disposed)while(this.disposed.length)this.disposeAfter(...this.disposed.shift());return Z}clear(){for(let J of this.rindexes({allowStale:!0})){let Z=this.valList[J];if(this.isBackgroundFetch(Z))Z.__abortController.abort(new Error("deleted"));else{let X=this.keyList[J];if(this.dispose(Z,X,"delete"),this.disposeAfter)this.disposed.push([Z,X,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls)this.ttls.fill(0),this.starts.fill(0);if(this.sizes)this.sizes.fill(0);if(this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)while(this.disposed.length)this.disposeAfter(...this.disposed.shift())}get reset(){return Et("reset","clear"),this.clear}get length(){return bM4("length","size"),this.size}static get AbortController(){return xk}static get AbortSignal(){return Ux1}}var Ix1=qF;var hM4=1024,_M4=3600000;function dk(){return new Ix1({max:hM4,ttl:_M4})}function wx1({documentCache:J=dk(),errorCache:Z=dk(),validationCache:X=!0}){let Y=dk();return{onParse({params:$,setParsedDocument:z}){let W=$.source.toString(),Q=J.get(W);if(Q){z(Q);return}let G=Z.get(W);if(G)throw G;return({result:K})=>{if(K!=null)if(K instanceof Error)Z.set(W,K);else J.set(W,K)}},onValidate({params:{schema:$,documentAST:z,rules:W},setResult:Q}){if(X!==!1){let G=W?.map((F)=>F.name).join(",")||"",K=Y.get(G);if(!K)K=new WeakMap,Y.set(G,K);let q=K.get($);if(!q)q=new WeakMap,K.set($,q);let H=q.get(z);if(H){Q(H);return}return({result:F})=>{if(F!=null)q?.set(z,F)}}}}}var yM4=()=>!0;function qI(J){let Z=J.match||yM4;return{onRequestParse({request:X,setRequestParser:Y}){if(Z(X))Y(J.parse)}}}function Ax1(J){let Z=(J.headers.get("accept")||"*/*").replace(/\s/g,"").toLowerCase().split(","),X=[];for(let Y of Z){let[$,...z]=Y.split(";");if((z?.find((Q)=>Q.includes("charset="))||"charset=utf-8")!=="charset=utf-8")continue;X.push($)}return X.reverse()}function Mx1(J,Z){let[X,Y]=J.split("/"),[$,z]=Z.split("/");if(($==="*"||$===X)&&(z==="*"||z===Y))return!0;return!1}function BI(J){return JSON.stringify(Array.isArray(J)?J.map(Nx1):Nx1(J))}function Nx1(J){if(J.errors?.length||J.extensions?.http){let Z={...J};if(Z.errors&&(Z.errors=Z.errors.map(Px1)),Z.extensions){let{http:X,...Y}=J.extensions;Z.extensions=Object.keys(Y).length?Y:void 0}return Z}return J}function Px1(J){if(OQ(J)){let{http:Z,unexpected:X,...Y}=J.extensions;return n1(J.message,{nodes:J.nodes,source:J.source,positions:J.positions,path:J.path,originalError:Px1(J.originalError),extensions:Object.keys(Y).length?Y:void 0})}return J}function Lx1(J,Z){let Y=vV(J,{Connection:"keep-alive","Content-Type":'multipart/mixed; boundary="-"',"Transfer-Encoding":"chunked"}),$,z=new Z.TextEncoder,W=new Z.ReadableStream({start(Q){if(VJ(J))$=J[Symbol.asyncIterator]();else{let G=!1;$={next:()=>{if(G)return Promise.resolve({done:!0,value:null});return G=!0,Promise.resolve({done:!1,value:J})}}}Q.enqueue(z.encode("---"))},async pull(Q){let{done:G,value:K}=await $.next();if(K!=null){Q.enqueue(z.encode(`\r
`)),Q.enqueue(z.encode("Content-Type: application/json; charset=utf-8")),Q.enqueue(z.encode(`\r
`));let q=BI(K),H=z.encode(q);Q.enqueue(z.encode("Content-Length: "+H.byteLength)),Q.enqueue(z.encode(`\r
`)),Q.enqueue(z.encode(`\r
`)),Q.enqueue(H),Q.enqueue(z.encode(`\r
`)),Q.enqueue(z.encode("---"))}if(G)Q.enqueue(z.encode(`--\r
`)),Q.close()},async cancel(Q){await $.return?.(Q)}});return new Z.Response(W,Y)}function Cx1(J){return function Z(X,Y){let $=12000;if(globalThis.process?.env?.NODE_ENV==="test")$=300;let W=vV(X,{"Content-Type":"text/event-stream",Connection:"keep-alive","Cache-Control":"no-cache","Content-Encoding":"none"},!J.legacySSE),Q,G,K=new Y.TextEncoder,q=new Y.ReadableStream({start(H){if(G=setInterval(()=>{if(!H.desiredSize){clearInterval(G);return}H.enqueue(K.encode(`:

`))},$),VJ(X))Q=X[Symbol.asyncIterator]();else{let F=!1;Q={next:()=>{if(F)return Promise.resolve({done:!0,value:null});return F=!0,Promise.resolve({done:!1,value:X})}}}},async pull(H){let{done:F,value:U}=await Q.next();if(U!=null){if(!J.legacySSE)H.enqueue(K.encode(`event: next
`));let D=BI(U);H.enqueue(K.encode(`data: ${D}

`))}if(F)H.enqueue(K.encode(`event: complete

`)),clearInterval(G),H.close()},async cancel(H){clearInterval(G),await Q.return?.(H)}});return new Y.Response(q,W)}}function jx1(J,Z,X){if(yV(J))return new Z.Response(null,{status:406,statusText:"Not Acceptable",headers:{accept:"application/json; charset=utf-8, application/graphql-response+json; charset=utf-8"}});let Y={"Content-Type":X+"; charset=utf-8"},$=vV(J,Y,X==="application/json"&&!Array.isArray(J)&&aE1(J.errors)&&J.errors.some((W)=>!W.extensions.originalError||OQ(W.extensions.originalError))),z=BI(J);return new Z.Response(z,$)}var Rx1={mediaTypes:["multipart/mixed"],asyncIterables:!0,processResult:Lx1};function vM4(J){return{mediaTypes:["text/event-stream"],asyncIterables:!0,processResult:Cx1(J)}}var Ex1={mediaTypes:["application/graphql-response+json","application/json"],asyncIterables:!1,processResult:jx1};function Sx1(J){let Z=new WeakMap,X=vM4(J),Y=[X,Rx1,Ex1],$=[Rx1,X,Ex1];return{onSubscribe({args:{contextValue:z}}){if(z.request)Z.set(z.request,!0)},onResultProcess({request:z,result:W,acceptableMediaTypes:Q,setResultProcessor:G}){let q=Z.get(z)?$:Y,H=Ax1(z),F=VJ(W);for(let U of q)for(let D of H){if(F&&!U.asyncIterables)continue;for(let V of U.mediaTypes)if(Q.push(V),Mx1(V,D))G(U.processResult,V)}}}}var Tx1="<!DOCTYPE html><html lang=en><head><meta charset=utf-8><title>Welcome to GraphQL Yoga</title><link rel=icon href=https://raw.githubusercontent.com/dotansimha/graphql-yoga/v3/website/public/favicon.ico><style>body,html{padding:0;margin:0;height:100%;font-family:Inter,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',sans-serif;color:#fff;background-color:#000}main>section.hero{display:flex;height:90vh;justify-content:center;align-items:center;flex-direction:column}.logo{display:flex;align-items:center}.buttons{margin-top:24px}h1{font-size:80px}h2{color:#888;max-width:50%;margin-top:0;text-align:center}a{color:#fff;text-decoration:none;margin-left:10px;margin-right:10px;font-weight:700;transition:color .3s ease;padding:4px;overflow:visible}a.graphiql:hover{color:rgba(255,0,255,.7)}a.docs:hover{color:rgba(28,200,238,.7)}a.tutorial:hover{color:rgba(125,85,245,.7)}svg{margin-right:24px}.not-what-your-looking-for{margin-top:5vh}.not-what-your-looking-for>*{margin-left:auto;margin-right:auto}.not-what-your-looking-for>p{text-align:center}.not-what-your-looking-for>h2{color:#464646}.not-what-your-looking-for>p{max-width:600px;line-height:1.3em}.not-what-your-looking-for>pre{max-width:300px}</style></head><body id=body><main><section class=hero><div class=logo><div><svg xmlns=http://www.w3.org/2000/svg viewBox=\"-0.41 0.445 472.812 499.811\" height=150><defs><linearGradient id=paint0_linear_1677_11483 x1=16 y1=14 x2=87.2132 y2=44.5982 gradientUnits=userSpaceOnUse gradientTransform=\"matrix(8.139854, 0, 0, 8.139854, -130.346407, -113.25101)\"><stop stop-color=#7433FF /><stop offset=1 stop-color=#FFA3FD /></linearGradient><linearGradient id=paint1_linear_1677_11483 x1=16 y1=14 x2=87.2132 y2=44.5982 gradientUnits=userSpaceOnUse gradientTransform=\"matrix(8.139854, 0, 0, 8.139854, -130.346407, -113.25101)\"><stop stop-color=#7433FF /><stop offset=1 stop-color=#FFA3FD /></linearGradient><linearGradient id=paint2_linear_1677_11483 x1=16 y1=14 x2=87.2132 y2=44.5982 gradientUnits=userSpaceOnUse gradientTransform=\"matrix(8.139854, 0, 0, 8.139854, -130.346407, -113.25101)\"><stop stop-color=#7433FF /><stop offset=1 stop-color=#FFA3FD /></linearGradient><linearGradient id=paint3_linear_1677_11483 x1=16 y1=14 x2=87.2132 y2=44.5982 gradientUnits=userSpaceOnUse><stop stop-color=#7433FF /><stop offset=1 stop-color=#FFA3FD /></linearGradient><linearGradient id=paint4_linear_1677_11483 x1=16 y1=14 x2=87.2132 y2=44.5982 gradientUnits=userSpaceOnUse><stop stop-color=#7433FF /><stop offset=1 stop-color=#FFA3FD /></linearGradient><linearGradient id=paint5_linear_1677_11483 x1=16 y1=14 x2=87.2132 y2=44.5982 gradientUnits=userSpaceOnUse><stop stop-color=#7433FF /><stop offset=1 stop-color=#FFA3FD /></linearGradient><filter id=filter0_f_1677_11483 x=23 y=-25 width=100 height=100 filterUnits=userSpaceOnUse color-interpolation-filters=sRGB><feFlood flood-opacity=0 result=BackgroundImageFix /><feBlend mode=normal in=SourceGraphic in2=BackgroundImageFix result=shape /><feGaussianBlur stdDeviation=12 result=effect1_foregroundBlur_1677_11483 /></filter><filter id=filter1_f_1677_11483 x=-24 y=19 width=100 height=100 filterUnits=userSpaceOnUse color-interpolation-filters=sRGB><feFlood flood-opacity=0 result=BackgroundImageFix /><feBlend mode=normal in=SourceGraphic in2=BackgroundImageFix result=shape /><feGaussianBlur stdDeviation=12 result=effect1_foregroundBlur_1677_11483 /></filter><linearGradient id=paint6_linear_1677_11483 x1=30 y1=28 x2=66.1645 y2=44.4363 gradientUnits=userSpaceOnUse gradientTransform=\"matrix(8.139854, 0, 0, 8.139854, -130.346407, -113.25101)\"><stop stop-color=#7433FF /><stop offset=1 stop-color=#FFA3FD /></linearGradient><filter id=filter2_f_1677_11483 x=-12 y=-44 width=100 height=100 filterUnits=userSpaceOnUse color-interpolation-filters=sRGB><feFlood flood-opacity=0 result=BackgroundImageFix /><feBlend mode=normal in=SourceGraphic in2=BackgroundImageFix result=shape /><feGaussianBlur stdDeviation=12 result=effect1_foregroundBlur_1677_11483 /></filter><filter id=filter3_f_1677_11483 x=13 y=19 width=100 height=100 filterUnits=userSpaceOnUse color-interpolation-filters=sRGB><feFlood flood-opacity=0 result=BackgroundImageFix /><feBlend mode=normal in=SourceGraphic in2=BackgroundImageFix result=shape /><feGaussianBlur stdDeviation=12 result=effect1_foregroundBlur_1677_11483 /></filter></defs><mask id=mask0_1677_11483 style=mask-type:alpha maskUnits=userSpaceOnUse x=16 y=14 width=58 height=62><path d=\"M21 25.3501C21.7279 25.3501 22.4195 25.5056 23.0433 25.7853L42.1439 14.8C43.0439 14.3 44.1439 14 45.1439 14C46.2439 14 47.2439 14.3 48.1439 14.8L64.5439 24.3C63.3439 25.1 62.4439 26.3 61.8439 27.7L45.9438 18.5C45.6439 18.3 45.344 18.3 45.0441 18.3C44.7441 18.3 44.4439 18.4 44.1439 18.5L25.8225 29.0251C25.9382 29.4471 26 29.8914 26 30.3501C26 33.1115 23.7614 35.3501 21 35.3501C18.2386 35.3501 16 33.1115 16 30.3501C16 27.5887 18.2386 25.3501 21 25.3501Z\" fill=url(#paint3_linear_1677_11483) /><path d=\"M67.2438 35.0329C65.3487 34.3219 64 32.4934 64 30.35C64 27.5886 66.2386 25.35 69 25.35C71.7614 25.35 74 27.5886 74 30.35C74 32.1825 73.0142 33.7848 71.5439 34.6554V55.2C71.5439 57.4 70.3439 59.4 68.5439 60.5L52.1439 69.9C52.1439 68.4 51.6438 66.9 50.7438 65.8L66.3439 56.8C66.9439 56.5 67.2438 55.9 67.2438 55.2V35.0329Z\" fill=url(#paint4_linear_1677_11483) /><path d=\"M49.8439 69.1055C49.9458 69.5034 50 69.9204 50 70.3501C50 73.1115 47.7614 75.3501 45 75.3501C42.5102 75.3501 40.4454 73.5302 40.0633 71.1481L21.8439 60.6C19.9439 59.5 18.8439 57.5 18.8439 55.3V36.8C19.5439 37 20.3439 37.2 21.0439 37.2C21.7439 37.2 22.4439 37.1 23.0439 36.9V55.3C23.0439 56 23.4438 56.6 23.9438 56.9L41.3263 66.9583C42.2398 65.9694 43.5476 65.3501 45 65.3501C47.3291 65.3501 49.2862 66.9426 49.8419 69.0981L49.8436 69.0997L49.8439 69.1055Z\" fill=url(#paint5_linear_1677_11483) /></mask><mask id=mask1_1677_11483 style=mask-type:alpha maskUnits=userSpaceOnUse x=30 y=28 width=30 height=30><path fill-rule=evenodd clip-rule=evenodd d=\"M49.3945 32.3945C49.3945 34.7088 47.5796 38.5469 45 38.5469C42.4271 38.5469 40.6055 34.7112 40.6055 32.3945C40.6055 29.9714 42.5769 28 45 28C47.4231 28 49.3945 29.9714 49.3945 32.3945ZM35.332 49.0433V48.2148C35.332 42.8117 37.8535 41.0004 39.8796 39.545L39.8801 39.5447C40.3928 39.1767 40.8604 38.8404 41.2488 38.4742C42.3293 39.6642 43.626 40.3047 45 40.3047C46.3752 40.3047 47.6725 39.6642 48.7529 38.4754C49.1408 38.841 49.6078 39.1773 50.1199 39.5447L50.1204 39.545C52.1465 41.0004 54.668 42.8117 54.668 48.2148V49.0433L53.8406 49.092C49.9848 49.3185 46.8646 46.9002 45 43.5777C43.1159 46.935 39.9847 49.318 36.1594 49.092L35.332 49.0433ZM58.1463 51.0747L58.1463 51.0746C57.0179 50.891 50.0128 49.7507 45.0007 55.693C40.0116 49.7553 33.1965 50.8592 31.9095 51.0677L31.9095 51.0677C31.7906 51.087 31.7189 51.0986 31.7002 51.0963C31.7005 51.0969 31.7011 51.1045 31.7023 51.1187C31.726 51.4003 31.9682 54.2745 34.0566 56.2422L30 58H60L55.8956 56.2422C57.8537 54.4764 58.1396 52.2685 58.2508 51.4092V51.4091C58.2697 51.2628 58.2836 51.1556 58.2998 51.0963C58.2881 51.0977 58.2356 51.0892 58.1463 51.0747ZM40.4836 50.104C42.3956 49.3212 43.6746 48.1737 45 46.61C46.332 48.1841 47.6159 49.3259 49.5164 50.104C49.5356 50.1425 49.5557 50.1805 49.5756 50.2182C49.5793 50.2253 49.583 50.2323 49.5867 50.2393C48.0911 50.8127 46.4264 51.825 45.0047 53.1444C43.5906 51.8221 41.9673 50.8196 40.4256 50.2153C40.4455 50.1784 40.4648 50.1415 40.4836 50.104Z\" fill=black /></mask><path d=\"M 40.59 93.095 C 46.517 93.095 52.14 94.365 57.22 96.635 L 212.7 7.22 C 220.025 3.149 228.978 0.706 237.12 0.706 C 246.073 0.706 254.213 3.149 261.54 7.22 L 395.032 84.547 C 385.264 91.059 377.939 100.827 373.055 112.224 L 243.631 37.338 C 241.19 35.71 238.747 35.71 236.305 35.71 C 233.863 35.71 231.42 36.523 228.978 37.338 L 79.84 123.009 C 80.786 126.443 81.29 130.058 81.29 133.793 C 81.29 156.269 63.065 174.493 40.59 174.493 C 18.116 174.493 -0.109 156.269 -0.109 133.793 C -0.109 111.32 18.116 93.095 40.59 93.095 Z\" fill=url(#paint0_linear_1677_11483) /><path d=\"M 417.01 171.913 C 401.585 166.126 390.603 151.238 390.603 133.793 C 390.603 111.32 408.83 93.095 431.303 93.095 C 453.777 93.095 472.001 111.32 472.001 133.793 C 472.001 148.706 463.976 161.755 452.011 168.835 L 452.011 336.07 C 452.011 353.977 442.243 370.258 427.591 379.21 L 294.098 455.726 C 294.098 443.516 290.029 431.306 282.703 422.353 L 409.683 349.093 C 414.568 346.651 417.01 341.767 417.01 336.07 L 417.01 171.913 Z\" fill=url(#paint1_linear_1677_11483) /><path d=\"M 275.376 449.253 C 276.206 452.495 276.646 455.889 276.646 459.389 C 276.646 481.863 258.422 500.087 235.947 500.087 C 215.679 500.087 198.87 485.272 195.761 465.883 L 47.46 380.025 C 31.995 371.071 23.041 354.792 23.041 336.884 L 23.041 186.296 C 28.738 187.923 35.25 189.553 40.948 189.553 C 46.646 189.553 52.345 188.738 57.228 187.111 L 57.228 336.884 C 57.228 342.582 60.485 347.465 64.554 349.908 L 206.042 431.777 C 213.481 423.728 224.127 418.689 235.947 418.689 C 254.905 418.689 270.833 431.656 275.36 449.196 L 275.376 449.214 L 275.376 449.253 Z\" fill=url(#paint2_linear_1677_11483) /><g mask=url(#mask0_1677_11483) transform=\"matrix(8.139854, 0, 0, 8.139854, -130.346375, -113.251038)\"><g filter=url(#filter0_f_1677_11483)><circle cx=73 cy=25 r=26 fill=#ED2E7E /></g><g filter=url(#filter1_f_1677_11483)><circle cx=26 cy=69 r=26 fill=#1CC8EE /></g></g><path fill-rule=evenodd clip-rule=evenodd d=\"M 271.713 150.431 C 271.713 169.275 256.948 200.517 235.947 200.517 C 215.003 200.517 200.172 169.292 200.172 150.431 C 200.172 130.708 216.225 114.666 235.947 114.666 C 255.67 114.666 271.713 130.708 271.713 150.431 Z M 157.251 285.952 L 157.251 279.212 C 157.251 235.233 177.771 220.485 194.27 208.641 C 198.447 205.644 202.247 202.901 205.414 199.923 C 214.204 209.608 224.763 214.826 235.947 214.826 C 247.138 214.826 257.697 209.608 266.496 199.931 C 269.653 202.911 273.456 205.644 277.622 208.641 C 294.114 220.485 314.642 235.233 314.642 279.212 L 314.642 285.952 L 307.912 286.351 C 276.525 288.191 251.128 268.509 235.947 241.468 C 220.611 268.795 195.126 288.191 163.981 286.351 L 157.251 285.952 Z M 342.953 302.492 C 333.771 300.994 276.751 291.715 235.955 340.082 C 195.345 291.749 139.865 300.734 129.389 302.436 C 128.428 302.59 127.841 302.688 127.687 302.665 C 127.687 302.673 127.695 302.729 127.702 302.85 C 127.897 305.138 129.867 328.532 146.872 344.55 L 113.849 358.862 L 358.044 358.862 L 324.639 344.55 C 340.576 330.177 342.905 312.202 343.807 305.212 C 343.962 304.022 344.077 303.153 344.206 302.665 C 344.108 302.68 343.686 302.606 342.953 302.492 Z M 199.188 294.59 C 214.751 288.215 225.161 278.879 235.947 266.15 C 246.788 278.96 257.241 288.255 272.707 294.59 C 272.869 294.898 273.031 295.207 273.196 295.518 C 273.219 295.574 273.252 295.631 273.285 295.688 C 261.107 300.361 247.555 308.598 235.989 319.334 C 224.477 308.573 211.258 300.417 198.715 295.493 C 198.87 295.191 199.033 294.891 199.188 294.59 Z\" fill=url(#paint6_linear_1677_11483) /><g mask=url(#mask1_1677_11483) transform=\"matrix(8.139854, 0, 0, 8.139854, -130.346375, -113.251038)\"><g filter=url(#filter2_f_1677_11483)><circle cx=38 cy=6 r=26 fill=#ED2E7E /></g><g filter=url(#filter3_f_1677_11483)><circle cx=63 cy=69 r=26 fill=#1CC8EE /></g></g></svg></div><h1>GraphQL Yoga</h1></div><h2>The batteries-included cross-platform GraphQL Server.</h2><div class=buttons><a href=https://www.the-guild.dev/graphql/yoga-server/v3 class=docs>Read the Docs</a> <a href=https://www.the-guild.dev/graphql/yoga-server/tutorial/basic class=tutorial>Start the Tutorial </a><a href=__GRAPHIQL_LINK__ class=graphiql>Visit GraphiQL</a></div></section><section class=not-what-your-looking-for><h2>Not the page you are looking for? \uD83D\uDC40</h2><p>This page is shown be default whenever a 404 is hit.<br>You can disable this by behavior via the <code>landingPage</code> option.</p><pre>\n          <code>\nimport { createYoga } from 'graphql-yoga';\n\nconst yoga = createYoga({\n  landingPage: false\n})\n          </code>\n        </pre><p>If you expected this page to be the GraphQL route, you need to configure Yoga. Currently, the GraphQL route is configured to be on <code>__GRAPHIQL_LINK__</code>.</p><pre>\n          <code>\nimport { createYoga } from 'graphql-yoga';\n\nconst yoga = createYoga({\n  graphqlEndpoint: '__REQUEST_PATH__',\n})\n          </code>\n        </pre></section></main></body></html>";function fx1(J){let Z;function X({URLPattern:Y}){return Z||(Z=new Y({pathname:J.graphqlEndpoint})),Z}return{onRequest({request:Y,fetchAPI:$,endResponse:z,url:W}){if(!Y.url.endsWith(J.graphqlEndpoint)&&W.pathname!==J.graphqlEndpoint&&!X($).test(W)){if(J.showLandingPage===!0&&Y.method==="GET"&&!!Y.headers?.get("accept")?.includes("text/html")){z(new $.Response(Tx1.replace(/__GRAPHIQL_LINK__/g,J.graphqlEndpoint).replace(/__REQUEST_PATH__/g,W.pathname),{status:200,statusText:"OK",headers:{"Content-Type":"text/html"}}));return}z(new $.Response("",{status:404,statusText:"Not Found"}))}}}}var kx1=M1(B6(),1);async function ft({request:J,result:Z,fetchAPI:X,onResultProcessHooks:Y}){let $,z=[],W="*/*";for(let Q of Y)await Q({request:J,acceptableMediaTypes:z,result:Z,setResult(G){Z=G},resultProcessor:$,setResultProcessor(G,K){$=G,W=K}});if(!$)return new X.Response(null,{status:406,statusText:"Not Acceptable",headers:{accept:z.join("; charset=utf-8, ")}});return $(Z,X,W)}async function bx1({params:J,enveloped:Z}){let X=Z.parse(J.query),Y=Z.validate(Z.schema,X);if(Y.length>0)return{errors:Y};let $=await Z.contextFactory(),z={schema:Z.schema,document:X,contextValue:$,variableValues:J.variables,operationName:J.operationName};return(kx1.getOperationAST(X,J.operationName)?.operation==="subscription"?Z.subscribe:Z.execute)(z)}var hx1=(J,Z,X=globalThis.process?.env?.NODE_ENV==="development")=>{if(OQ(J)){if(J.originalError){if(J.originalError.name==="GraphQLError")return J;let Y={...J.extensions,unexpected:!0};if(X)Y.originalError={message:J.originalError.message,stack:J.originalError.stack};return n1(Z,{nodes:J.nodes,source:J.source,positions:J.positions,path:J.path,extensions:Y})}return J}return n1(Z,{extensions:{unexpected:!0,originalError:X?J instanceof Error?{message:J.message,stack:J.stack}:J:void 0}})};class _x1{constructor(J){if(this.handle=async(Q,G)=>{let K=new Proxy({},{get:(D,V,w)=>{return K=new this.fetchAPI.URL(Q.url,"http://localhost"),Reflect.get(K,V,K)}}),q,H=[];for(let D of this.onRequestParseHooks){let V=await D({request:Q,url:K,requestParser:q,serverContext:G,setRequestParser(w){q=w}});if(V?.onRequestParseDone!=null)H.push(V.onRequestParseDone)}if(this.logger.debug("Parsing request to extract GraphQL parameters"),!q)return new this.fetchAPI.Response(null,{status:415,statusText:"Unsupported Media Type"});let F=await q(Q);for(let D of H)await D({requestParserResult:F,setRequestParserResult(V){F=V}});let U=await(Array.isArray(F)?Promise.all(F.map((D)=>this.getResultForParams({params:D,request:Q},G))):this.getResultForParams({params:F,request:Q},G));return ft({request:Q,result:U,fetchAPI:this.fetchAPI,onResultProcessHooks:this.onResultProcessHooks})},this.id=J?.id??"yoga",this.fetchAPI={...FP},J?.fetchAPI){for(let Q in J.fetchAPI)if(J.fetchAPI[Q])this.fetchAPI[Q]=J.fetchAPI[Q]}let Z=J?.logging==null?!0:J.logging;this.logger=typeof Z==="boolean"?Z===!0?Ff():Ff("silent"):typeof Z==="string"?Ff(Z):Z;let X=typeof J?.maskedErrors==="object"&&J.maskedErrors.maskError||hx1,Y=new WeakSet;this.maskedErrorsOpts=J?.maskedErrors===!1?null:{errorMessage:"Unexpected error.",...typeof J?.maskedErrors==="object"?J.maskedErrors:{},maskError:(Q,G)=>{if(Y.has(Q))return Q;let K=X(Q,G,this.maskedErrorsOpts?.isDev);if(K!==Q)this.logger.error(Q);return Y.add(K),K}};let $=this.maskedErrorsOpts==null?null:this.maskedErrorsOpts,z=0;if(J?.batching)if(typeof J.batching==="boolean")z=10;else z=J.batching.limit??10;this.graphqlEndpoint=J?.graphqlEndpoint||"/graphql";let W=this.graphqlEndpoint;this.plugins=[dS1({parse:HI.parse,validate:HI.validate,execute:pa,subscribe:pa,specifiedRules:HI.specifiedRules}),!!J?.schema&&$S1(J.schema),J?.context!=null&&gS1((Q)=>{if(J?.context){if(typeof J.context==="function")return J.context(Q);return J.context}return{}}),Fx1({id:this.id,logger:this.logger,endpoint:J?.healthCheckEndpoint}),J?.cors!==!1&&ov1(J?.cors),J?.graphiql!==!1&&XS1({graphqlEndpoint:W,options:J?.graphiql,render:J?.renderGraphiQL,logger:this.logger}),qI({match:rv1,parse:tv1}),qI({match:Yx1,parse:$x1}),J?.multipart!==!1&&qI({match:Wx1,parse:Qx1}),qI({match:Zx1,parse:Xx1}),qI({match:ev1,parse:Jx1}),Sx1({legacySSE:J?.legacySse!==!1}),sv1((Q,G)=>{let q={errors:qf(Q,this.maskedErrorsOpts,this.logger)};return ft({request:G,result:q,fetchAPI:this.fetchAPI,onResultProcessHooks:this.onResultProcessHooks})}),...J?.plugins??[],{onPluginInit({addPlugin:Q}){if(J?.parserCache!==!1){let G={};if(typeof J?.parserCache==="object")G.documentCache=J.parserCache.documentCache,G.errorCache=J.parserCache.errorCache;if(J?.validationCache===!1)G.validationCache=!1;else if(typeof J?.validationCache==="object")G.validationCache=!1,Q(GT1({cache:J.validationCache}));Q(wx1(G))}if(Q(Bx1(z)),Q(Gx1()),Q(fx1({graphqlEndpoint:W,showLandingPage:J?.landingPage??!0})),Q(Kx1()),Q(Hx1()),$)Q(xS1($));Q(qx1())}}],this.getEnveloped=yS1({plugins:this.plugins}),this.plugins=this.getEnveloped._plugins,this.onRequestParseHooks=[],this.onParamsHooks=[],this.onResultProcessHooks=[];for(let Q of this.plugins)if(Q){if(Q.onYogaInit)Q.onYogaInit({yoga:this});if(Q.onRequestParse)this.onRequestParseHooks.push(Q.onRequestParse);if(Q.onParams)this.onParamsHooks.push(Q.onParams);if(Q.onResultProcess)this.onResultProcessHooks.push(Q.onResultProcess)}}async getResultForParams({params:J,request:Z},...X){try{let Y;for(let $ of this.onParamsHooks)await $({params:J,request:Z,setParams(z){J=z},setResult(z){Y=z},fetchAPI:this.fetchAPI});if(Y==null){let z={...X[0],request:Z,params:J},W=this.getEnveloped(z);this.logger.debug("Processing GraphQL Parameters"),Y=await bx1({params:J,enveloped:W}),this.logger.debug("Processing GraphQL Parameters done.")}return Y}catch(Y){return{errors:qf(Y,this.maskedErrorsOpts,this.logger)}}}}function yx1(J){let Z=new _x1(J);return iv1(Z,{fetchAPI:Z.fetchAPI,plugins:Z.plugins})}var vx1=({path:J="/graphql",typeDefs:Z,resolvers:X,resolverValidationOptions:Y,inheritResolversFromInterfaces:$,updateResolversInPlace:z,schemaExtensions:W,schema:Q,...G})=>(K)=>{let q=yx1({cors:!1,...G,schema:Q||bS1({typeDefs:Z,resolvers:X,resolverValidationOptions:Y,inheritResolversFromInterfaces:$,updateResolversInPlace:z,schemaExtensions:W})});return K.get(J,async({request:H})=>q.fetch(H)).post(J,async({request:H})=>q.fetch(H),{type:"none"})};var rY=M1(C(),1);var so6=M1(ux1(),1);import{isIP as ZV1}from"net";import*as iA from"path";import mk from"crypto";var cx1="0123456789ABCDEFGHJKMNPQRSTVWXYZ",VP=32;var lM4=16,lx1=10,mx1=281474976710655;var HF;(function(J){J.Base32IncorrectEncoding="B32_ENC_INVALID",J.DecodeTimeInvalidCharacter="DEC_TIME_CHAR",J.DecodeTimeValueMalformed="DEC_TIME_MALFORMED",J.EncodeTimeNegative="ENC_TIME_NEG",J.EncodeTimeSizeExceeded="ENC_TIME_SIZE_EXCEED",J.EncodeTimeValueMalformed="ENC_TIME_MALFORMED",J.PRNGDetectFailure="PRNG_DETECT",J.ULIDInvalid="ULID_INVALID",J.Unexpected="UNEXPECTED",J.UUIDInvalid="UUID_INVALID"})(HF||(HF={}));class FI extends Error{constructor(J,Z){super(`${Z} (${J})`);this.name="ULIDError",this.code=J}}function pM4(J){let Z=Math.floor(J()*VP);if(Z===VP)Z=VP-1;return cx1.charAt(Z)}function nM4(J){let Z=iM4(),X=Z&&(Z.crypto||Z.msCrypto)||(typeof mk!=="undefined"?mk:null);if(typeof X?.getRandomValues==="function")return()=>{let Y=new Uint8Array(1);return X.getRandomValues(Y),Y[0]/255};else if(typeof X?.randomBytes==="function")return()=>X.randomBytes(1).readUInt8()/255;else if(mk?.randomBytes)return()=>mk.randomBytes(1).readUInt8()/255;throw new FI(HF.PRNGDetectFailure,"Failed to find a reliable PRNG")}function iM4(){if(aM4())return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;if(typeof globalThis!=="undefined")return globalThis;return null}function oM4(J,Z){let X="";for(;J>0;J--)X=pM4(Z)+X;return X}function sM4(J,Z=lx1){if(isNaN(J))throw new FI(HF.EncodeTimeValueMalformed,`Time must be a number: ${J}`);else if(J>mx1)throw new FI(HF.EncodeTimeSizeExceeded,`Cannot encode a time larger than ${mx1}: ${J}`);else if(J<0)throw new FI(HF.EncodeTimeNegative,`Time must be positive: ${J}`);else if(Number.isInteger(J)===!1)throw new FI(HF.EncodeTimeValueMalformed,`Time must be an integer: ${J}`);let X,Y="";for(let $=Z;$>0;$--)X=J%VP,Y=cx1.charAt(X)+Y,J=(J-X)/VP;return Y}function aM4(){return typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope}function px1(J,Z){let X=Z||nM4(),Y=!J||isNaN(J)?Date.now():J;return sM4(Y,lx1)+oM4(lM4,X)}import{fileURLToPath as Fg5}from"url";var S1={};r9(S1,{xid:()=>hL4,void:()=>$C4,uuidv7:()=>jL4,uuidv6:()=>CL4,uuidv4:()=>LL4,uuid:()=>PL4,util:()=>L1,url:()=>RL4,uppercase:()=>dP,unknown:()=>jI,union:()=>K41,undefined:()=>XC4,ulid:()=>bL4,uint64:()=>JC4,uint32:()=>rL4,tuple:()=>gg1,trim:()=>nP,treeifyError:()=>mt,transform:()=>H41,toUpperCase:()=>oP,toLowerCase:()=>iP,toJSONSchema:()=>L61,templateLiteral:()=>MC4,symbol:()=>ZC4,superRefine:()=>qd1,success:()=>IC4,stringbool:()=>RC4,stringFormat:()=>lL4,string:()=>u61,strictObject:()=>GC4,startsWith:()=>mP,size:()=>vP,setErrorMap:()=>fC4,set:()=>FC4,safeParseAsync:()=>k61,safeParse:()=>f61,safeEncodeAsync:()=>g61,safeEncode:()=>v61,safeDecodeAsync:()=>d61,safeDecode:()=>x61,registry:()=>Ub,regexes:()=>DZ,regex:()=>xP,refine:()=>Kd1,record:()=>dg1,readonly:()=>Yd1,property:()=>V61,promise:()=>NC4,prettifyError:()=>ct,preprocess:()=>SC4,prefault:()=>ag1,positive:()=>F61,pipe:()=>lb,partialRecord:()=>BC4,parseAsync:()=>T61,parse:()=>S61,overwrite:()=>EQ,optional:()=>mb,object:()=>QC4,number:()=>Lg1,nullish:()=>VC4,nullable:()=>cb,null:()=>Sg1,normalize:()=>pP,nonpositive:()=>O61,nonoptional:()=>rg1,nonnegative:()=>D61,never:()=>Q41,negative:()=>U61,nativeEnum:()=>UC4,nanoid:()=>TL4,nan:()=>wC4,multipleOf:()=>VF,minSize:()=>IF,minLength:()=>U3,mime:()=>lP,maxSize:()=>NI,maxLength:()=>PI,map:()=>HC4,lte:()=>VZ,lt:()=>jQ,lowercase:()=>gP,looseObject:()=>KC4,locales:()=>bP,literal:()=>OC4,length:()=>LI,lazy:()=>Wd1,ksuid:()=>_L4,keyof:()=>WC4,jwt:()=>cL4,json:()=>EC4,iso:()=>db,ipv6:()=>vL4,ipv4:()=>yL4,intersection:()=>vg1,int64:()=>eL4,int32:()=>aL4,int:()=>m61,instanceof:()=>jC4,includes:()=>uP,httpUrl:()=>EL4,hostname:()=>pL4,hex:()=>nL4,hash:()=>iL4,guid:()=>NL4,gte:()=>u7,gt:()=>RQ,globalRegistry:()=>_$,getErrorMap:()=>kC4,function:()=>PC4,formatError:()=>RP,float64:()=>sL4,float32:()=>oL4,flattenError:()=>jP,file:()=>DC4,enum:()=>B41,endsWith:()=>cP,encodeAsync:()=>_61,encode:()=>b61,emoji:()=>SL4,email:()=>ML4,e164:()=>mL4,discriminatedUnion:()=>qC4,decodeAsync:()=>y61,decode:()=>h61,date:()=>zC4,custom:()=>CC4,cuid2:()=>kL4,cuid:()=>fL4,core:()=>SQ,config:()=>U5,coerce:()=>I41,codec:()=>AC4,clone:()=>K7,cidrv6:()=>gL4,cidrv4:()=>xL4,check:()=>LC4,catch:()=>Jd1,boolean:()=>Cg1,bigint:()=>tL4,base64url:()=>uL4,base64:()=>dL4,array:()=>ib,any:()=>YC4,_function:()=>PC4,_default:()=>og1,_ZodString:()=>c61,ZodXID:()=>a61,ZodVoid:()=>bg1,ZodUnknown:()=>fg1,ZodUnion:()=>G41,ZodUndefined:()=>Rg1,ZodUUID:()=>TQ,ZodURL:()=>pb,ZodULID:()=>s61,ZodType:()=>L6,ZodTuple:()=>xg1,ZodTransform:()=>pg1,ZodTemplateLiteral:()=>$d1,ZodSymbol:()=>jg1,ZodSuccess:()=>tg1,ZodStringFormat:()=>X8,ZodString:()=>aP,ZodSet:()=>mg1,ZodRecord:()=>q41,ZodRealError:()=>m7,ZodReadonly:()=>Xd1,ZodPromise:()=>Qd1,ZodPrefault:()=>sg1,ZodPipe:()=>O41,ZodOptional:()=>F41,ZodObject:()=>ob,ZodNumberFormat:()=>RI,ZodNumber:()=>tP,ZodNullable:()=>ng1,ZodNull:()=>Eg1,ZodNonOptional:()=>U41,ZodNever:()=>kg1,ZodNanoID:()=>n61,ZodNaN:()=>Zd1,ZodMap:()=>ug1,ZodLiteral:()=>cg1,ZodLazy:()=>zd1,ZodKSUID:()=>r61,ZodJWT:()=>z41,ZodIssueCode:()=>TC4,ZodIntersection:()=>yg1,ZodISOTime:()=>xb,ZodISODuration:()=>gb,ZodISODateTime:()=>yb,ZodISODate:()=>vb,ZodIPv6:()=>e61,ZodIPv4:()=>t61,ZodGUID:()=>ub,ZodFunction:()=>Gd1,ZodFirstPartyTypeKind:()=>V41,ZodFile:()=>lg1,ZodError:()=>wL4,ZodEnum:()=>sP,ZodEmoji:()=>p61,ZodEmail:()=>l61,ZodE164:()=>$41,ZodDiscriminatedUnion:()=>_g1,ZodDefault:()=>ig1,ZodDate:()=>nb,ZodCustomStringFormat:()=>rP,ZodCustom:()=>sb,ZodCodec:()=>D41,ZodCatch:()=>eg1,ZodCUID2:()=>o61,ZodCUID:()=>i61,ZodCIDRv6:()=>Z41,ZodCIDRv4:()=>J41,ZodBoolean:()=>eP,ZodBigIntFormat:()=>W41,ZodBigInt:()=>JL,ZodBase64URL:()=>Y41,ZodBase64:()=>X41,ZodArray:()=>hg1,ZodAny:()=>Tg1,TimePrecision:()=>g01,NEVER:()=>kt,$output:()=>_01,$input:()=>y01,$brand:()=>bt});var SQ={};r9(SQ,{version:()=>ge,util:()=>L1,treeifyError:()=>mt,toJSONSchema:()=>L61,toDotPath:()=>rx1,safeParseAsync:()=>pt,safeParse:()=>lt,safeEncodeAsync:()=>SN4,safeEncode:()=>RN4,safeDecodeAsync:()=>TN4,safeDecode:()=>EN4,registry:()=>Ub,regexes:()=>DZ,prettifyError:()=>ct,parseAsync:()=>nk,parse:()=>pk,locales:()=>bP,isValidJWT:()=>Ug1,isValidBase64URL:()=>Fg1,isValidBase64:()=>W11,globalRegistry:()=>_$,globalConfig:()=>IP,formatError:()=>RP,flattenError:()=>jP,encodeAsync:()=>CN4,encode:()=>PN4,decodeAsync:()=>jN4,decode:()=>LN4,config:()=>U5,clone:()=>K7,_xid:()=>Cb,_void:()=>K61,_uuidv7:()=>wb,_uuidv6:()=>Ib,_uuidv4:()=>Vb,_uuid:()=>Db,_url:()=>yP,_uppercase:()=>dP,_unknown:()=>Q61,_union:()=>aP4,_undefined:()=>$61,_ulid:()=>Lb,_uint64:()=>X61,_uint32:()=>a01,_tuple:()=>eP4,_trim:()=>nP,_transform:()=>WL4,_toUpperCase:()=>oP,_toLowerCase:()=>iP,_templateLiteral:()=>OL4,_symbol:()=>Y61,_superRefine:()=>N61,_success:()=>BL4,_stringbool:()=>P61,_stringFormat:()=>CI,_string:()=>v01,_startsWith:()=>mP,_size:()=>vP,_set:()=>XL4,_safeParseAsync:()=>AI,_safeParse:()=>wI,_safeEncodeAsync:()=>ek,_safeEncode:()=>rk,_safeDecodeAsync:()=>Jb,_safeDecode:()=>tk,_regex:()=>xP,_refine:()=>M61,_record:()=>JL4,_readonly:()=>UL4,_property:()=>V61,_promise:()=>VL4,_positive:()=>F61,_pipe:()=>FL4,_parseAsync:()=>II,_parse:()=>VI,_overwrite:()=>EQ,_optional:()=>QL4,_number:()=>l01,_nullable:()=>GL4,_null:()=>z61,_normalize:()=>pP,_nonpositive:()=>O61,_nonoptional:()=>qL4,_nonnegative:()=>D61,_never:()=>G61,_negative:()=>U61,_nativeEnum:()=>$L4,_nanoid:()=>Mb,_nan:()=>H61,_multipleOf:()=>VF,_minSize:()=>IF,_minLength:()=>U3,_min:()=>u7,_mime:()=>lP,_maxSize:()=>NI,_maxLength:()=>PI,_max:()=>VZ,_map:()=>ZL4,_lte:()=>VZ,_lt:()=>jQ,_lowercase:()=>gP,_literal:()=>zL4,_length:()=>LI,_lazy:()=>DL4,_ksuid:()=>jb,_jwt:()=>hb,_isoTime:()=>m01,_isoDuration:()=>c01,_isoDateTime:()=>d01,_isoDate:()=>u01,_ipv6:()=>Eb,_ipv4:()=>Rb,_intersection:()=>tP4,_int64:()=>Z61,_int32:()=>s01,_int:()=>n01,_includes:()=>uP,_guid:()=>_P,_gte:()=>u7,_gt:()=>RQ,_float64:()=>o01,_float32:()=>i01,_file:()=>w61,_enum:()=>YL4,_endsWith:()=>cP,_encodeAsync:()=>sk,_encode:()=>ik,_emoji:()=>Ab,_email:()=>Ob,_e164:()=>bb,_discriminatedUnion:()=>rP4,_default:()=>KL4,_decodeAsync:()=>ak,_decode:()=>ok,_date:()=>q61,_custom:()=>A61,_cuid2:()=>Pb,_cuid:()=>Nb,_coercedString:()=>x01,_coercedNumber:()=>p01,_coercedDate:()=>B61,_coercedBoolean:()=>t01,_coercedBigint:()=>J61,_cidrv6:()=>Tb,_cidrv4:()=>Sb,_check:()=>Ag1,_catch:()=>HL4,_boolean:()=>r01,_bigint:()=>e01,_base64url:()=>kb,_base64:()=>fb,_array:()=>I61,_any:()=>W61,TimePrecision:()=>g01,NEVER:()=>kt,JSONSchemaGenerator:()=>_b,JSONSchema:()=>Mg1,Doc:()=>$b,$output:()=>_01,$input:()=>y01,$constructor:()=>z1,$brand:()=>bt,$ZodXID:()=>ae,$ZodVoid:()=>A11,$ZodUnknown:()=>I11,$ZodUnion:()=>Hb,$ZodUndefined:()=>O11,$ZodUUID:()=>me,$ZodURL:()=>le,$ZodULID:()=>se,$ZodType:()=>q6,$ZodTuple:()=>Fb,$ZodTransform:()=>k11,$ZodTemplateLiteral:()=>c11,$ZodSymbol:()=>U11,$ZodSuccess:()=>x11,$ZodStringFormat:()=>s4,$ZodString:()=>DF,$ZodSet:()=>E11,$ZodRegistry:()=>hP,$ZodRecord:()=>j11,$ZodRealError:()=>d7,$ZodReadonly:()=>m11,$ZodPromise:()=>p11,$ZodPrefault:()=>y11,$ZodPipe:()=>u11,$ZodOptional:()=>b11,$ZodObjectJIT:()=>P11,$ZodObject:()=>Vg1,$ZodNumberFormat:()=>H11,$ZodNumber:()=>qb,$ZodNullable:()=>h11,$ZodNull:()=>D11,$ZodNonOptional:()=>v11,$ZodNever:()=>w11,$ZodNanoID:()=>ne,$ZodNaN:()=>d11,$ZodMap:()=>R11,$ZodLiteral:()=>T11,$ZodLazy:()=>n11,$ZodKSUID:()=>re,$ZodJWT:()=>q11,$ZodIntersection:()=>C11,$ZodISOTime:()=>J11,$ZodISODuration:()=>Z11,$ZodISODateTime:()=>te,$ZodISODate:()=>ee,$ZodIPv6:()=>Y11,$ZodIPv4:()=>X11,$ZodGUID:()=>ue,$ZodFunction:()=>l11,$ZodFile:()=>f11,$ZodError:()=>CP,$ZodEnum:()=>S11,$ZodEncodeError:()=>FF,$ZodEmoji:()=>pe,$ZodEmail:()=>ce,$ZodE164:()=>K11,$ZodDiscriminatedUnion:()=>L11,$ZodDefault:()=>_11,$ZodDate:()=>M11,$ZodCustomStringFormat:()=>B11,$ZodCustom:()=>i11,$ZodCodec:()=>fP,$ZodCheckUpperCase:()=>ke,$ZodCheckStringFormat:()=>MI,$ZodCheckStartsWith:()=>he,$ZodCheckSizeEquals:()=>je,$ZodCheckRegex:()=>Te,$ZodCheckProperty:()=>ye,$ZodCheckOverwrite:()=>xe,$ZodCheckNumberFormat:()=>Ne,$ZodCheckMultipleOf:()=>Me,$ZodCheckMinSize:()=>Ce,$ZodCheckMinLength:()=>Ee,$ZodCheckMimeType:()=>ve,$ZodCheckMaxSize:()=>Le,$ZodCheckMaxLength:()=>Re,$ZodCheckLowerCase:()=>fe,$ZodCheckLessThan:()=>Xb,$ZodCheckLengthEquals:()=>Se,$ZodCheckIncludes:()=>be,$ZodCheckGreaterThan:()=>Yb,$ZodCheckEndsWith:()=>_e,$ZodCheckBigIntFormat:()=>Pe,$ZodCheck:()=>H8,$ZodCatch:()=>g11,$ZodCUID2:()=>oe,$ZodCUID:()=>ie,$ZodCIDRv6:()=>z11,$ZodCIDRv4:()=>$11,$ZodBoolean:()=>TP,$ZodBigIntFormat:()=>F11,$ZodBigInt:()=>Bb,$ZodBase64URL:()=>G11,$ZodBase64:()=>Q11,$ZodAsyncError:()=>b$,$ZodArray:()=>N11,$ZodAny:()=>V11});var kt=Object.freeze({status:"aborted"});function z1(J,Z,X){function Y(Q,G){var K;Object.defineProperty(Q,"_zod",{value:Q._zod??{},enumerable:!1}),(K=Q._zod).traits??(K.traits=new Set),Q._zod.traits.add(J),Z(Q,G);for(let q in W.prototype)if(!(q in Q))Object.defineProperty(Q,q,{value:W.prototype[q].bind(Q)});Q._zod.constr=W,Q._zod.def=G}let $=X?.Parent??Object;class z extends ${}Object.defineProperty(z,"name",{value:J});function W(Q){var G;let K=X?.Parent?new z:this;Y(K,Q),(G=K._zod).deferred??(G.deferred=[]);for(let q of K._zod.deferred)q();return K}return Object.defineProperty(W,"init",{value:Y}),Object.defineProperty(W,Symbol.hasInstance,{value:(Q)=>{if(X?.Parent&&Q instanceof X.Parent)return!0;return Q?._zod?.traits?.has(J)}}),Object.defineProperty(W,"name",{value:J}),W}var bt=Symbol("zod_brand");class b$ extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class FF extends Error{constructor(J){super(`Encountered unidirectional transform during encode: ${J}`);this.name="ZodEncodeError"}}var IP={};function U5(J){if(J)Object.assign(IP,J);return IP}var L1={};r9(L1,{unwrapMessage:()=>wP,uint8ArrayToHex:()=>MN4,uint8ArrayToBase64url:()=>wN4,uint8ArrayToBase64:()=>ox1,stringifyPrimitive:()=>k1,shallowClone:()=>vt,safeExtend:()=>FN4,required:()=>DN4,randomString:()=>WN4,propertyKeyTypes:()=>NP,promiseAllObject:()=>zN4,primitiveTypes:()=>xt,prefixIssues:()=>NJ,pick:()=>qN4,partial:()=>ON4,optionalKeys:()=>gt,omit:()=>BN4,objectClone:()=>XN4,numKeys:()=>QN4,nullish:()=>K3,normalizeParams:()=>E1,mergeDefs:()=>B3,merge:()=>UN4,jsonStringifyReplacer:()=>UI,joinValues:()=>O1,issue:()=>DI,isPlainObject:()=>H3,isObject:()=>UF,hexToUint8Array:()=>AN4,getSizableOrigin:()=>PP,getParsedType:()=>GN4,getLengthableOrigin:()=>LP,getEnumValues:()=>AP,getElementAtPath:()=>$N4,floatSafeRemainder:()=>_t,finalizeIssue:()=>PJ,extend:()=>HN4,escapeRegex:()=>h$,esc:()=>ck,defineLazy:()=>g6,createTransparentProxy:()=>KN4,cloneDef:()=>YN4,clone:()=>K7,cleanRegex:()=>MP,cleanEnum:()=>VN4,captureStackTrace:()=>lk,cached:()=>OI,base64urlToUint8Array:()=>IN4,base64ToUint8Array:()=>ix1,assignProp:()=>q3,assertNotEqual:()=>tM4,assertNever:()=>JN4,assertIs:()=>eM4,assertEqual:()=>rM4,assert:()=>ZN4,allowsEval:()=>yt,aborted:()=>F3,NUMBER_FORMAT_RANGES:()=>dt,Class:()=>sx1,BIGINT_FORMAT_RANGES:()=>ut});function rM4(J){return J}function tM4(J){return J}function eM4(J){}function JN4(J){throw new Error}function ZN4(J){}function AP(J){let Z=Object.values(J).filter((Y)=>typeof Y==="number");return Object.entries(J).filter(([Y,$])=>Z.indexOf(+Y)===-1).map(([Y,$])=>$)}function O1(J,Z="|"){return J.map((X)=>k1(X)).join(Z)}function UI(J,Z){if(typeof Z==="bigint")return Z.toString();return Z}function OI(J){return{get value(){{let X=J();return Object.defineProperty(this,"value",{value:X}),X}throw new Error("cached value already set")}}}function K3(J){return J===null||J===void 0}function MP(J){let Z=J.startsWith("^")?1:0,X=J.endsWith("$")?J.length-1:J.length;return J.slice(Z,X)}function _t(J,Z){let X=(J.toString().split(".")[1]||"").length,Y=Z.toString(),$=(Y.split(".")[1]||"").length;if($===0&&/\d?e-\d?/.test(Y)){let G=Y.match(/\d?e-(\d?)/);if(G?.[1])$=Number.parseInt(G[1])}let z=X>$?X:$,W=Number.parseInt(J.toFixed(z).replace(".","")),Q=Number.parseInt(Z.toFixed(z).replace(".",""));return W%Q/10**z}var nx1=Symbol("evaluating");function g6(J,Z,X){let Y=void 0;Object.defineProperty(J,Z,{get(){if(Y===nx1)return;if(Y===void 0)Y=nx1,Y=X();return Y},set($){Object.defineProperty(J,Z,{value:$})},configurable:!0})}function XN4(J){return Object.create(Object.getPrototypeOf(J),Object.getOwnPropertyDescriptors(J))}function q3(J,Z,X){Object.defineProperty(J,Z,{value:X,writable:!0,enumerable:!0,configurable:!0})}function B3(...J){let Z={};for(let X of J){let Y=Object.getOwnPropertyDescriptors(X);Object.assign(Z,Y)}return Object.defineProperties({},Z)}function YN4(J){return B3(J._zod.def)}function $N4(J,Z){if(!Z)return J;return Z.reduce((X,Y)=>X?.[Y],J)}function zN4(J){let Z=Object.keys(J),X=Z.map((Y)=>J[Y]);return Promise.all(X).then((Y)=>{let $={};for(let z=0;z<Z.length;z++)$[Z[z]]=Y[z];return $})}function WN4(J=10){let X="";for(let Y=0;Y<J;Y++)X+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return X}function ck(J){return JSON.stringify(J)}var lk="captureStackTrace"in Error?Error.captureStackTrace:(...J)=>{};function UF(J){return typeof J==="object"&&J!==null&&!Array.isArray(J)}var yt=OI(()=>{if(typeof navigator!=="undefined"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(J){return!1}});function H3(J){if(UF(J)===!1)return!1;let Z=J.constructor;if(Z===void 0)return!0;let X=Z.prototype;if(UF(X)===!1)return!1;if(Object.prototype.hasOwnProperty.call(X,"isPrototypeOf")===!1)return!1;return!0}function vt(J){if(H3(J))return{...J};return J}function QN4(J){let Z=0;for(let X in J)if(Object.prototype.hasOwnProperty.call(J,X))Z++;return Z}var GN4=(J)=>{let Z=typeof J;switch(Z){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(J)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(J))return"array";if(J===null)return"null";if(J.then&&typeof J.then==="function"&&J.catch&&typeof J.catch==="function")return"promise";if(typeof Map!=="undefined"&&J instanceof Map)return"map";if(typeof Set!=="undefined"&&J instanceof Set)return"set";if(typeof Date!=="undefined"&&J instanceof Date)return"date";if(typeof File!=="undefined"&&J instanceof File)return"file";return"object";default:throw new Error(`Unknown data type: ${Z}`)}},NP=new Set(["string","number","symbol"]),xt=new Set(["string","number","bigint","boolean","symbol","undefined"]);function h$(J){return J.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function K7(J,Z,X){let Y=new J._zod.constr(Z??J._zod.def);if(!Z||X?.parent)Y._zod.parent=J;return Y}function E1(J){let Z=J;if(!Z)return{};if(typeof Z==="string")return{error:()=>Z};if(Z?.message!==void 0){if(Z?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");Z.error=Z.message}if(delete Z.message,typeof Z.error==="string")return{...Z,error:()=>Z.error};return Z}function KN4(J){let Z;return new Proxy({},{get(X,Y,$){return Z??(Z=J()),Reflect.get(Z,Y,$)},set(X,Y,$,z){return Z??(Z=J()),Reflect.set(Z,Y,$,z)},has(X,Y){return Z??(Z=J()),Reflect.has(Z,Y)},deleteProperty(X,Y){return Z??(Z=J()),Reflect.deleteProperty(Z,Y)},ownKeys(X){return Z??(Z=J()),Reflect.ownKeys(Z)},getOwnPropertyDescriptor(X,Y){return Z??(Z=J()),Reflect.getOwnPropertyDescriptor(Z,Y)},defineProperty(X,Y,$){return Z??(Z=J()),Reflect.defineProperty(Z,Y,$)}})}function k1(J){if(typeof J==="bigint")return J.toString()+"n";if(typeof J==="string")return`"${J}"`;return`${J}`}function gt(J){return Object.keys(J).filter((Z)=>{return J[Z]._zod.optin==="optional"&&J[Z]._zod.optout==="optional"})}var dt={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-340282346638528860000000000000000000000,340282346638528860000000000000000000000],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},ut={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function qN4(J,Z){let X=J._zod.def,Y=B3(J._zod.def,{get shape(){let $={};for(let z in Z){if(!(z in X.shape))throw new Error(`Unrecognized key: "${z}"`);if(!Z[z])continue;$[z]=X.shape[z]}return q3(this,"shape",$),$},checks:[]});return K7(J,Y)}function BN4(J,Z){let X=J._zod.def,Y=B3(J._zod.def,{get shape(){let $={...J._zod.def.shape};for(let z in Z){if(!(z in X.shape))throw new Error(`Unrecognized key: "${z}"`);if(!Z[z])continue;delete $[z]}return q3(this,"shape",$),$},checks:[]});return K7(J,Y)}function HN4(J,Z){if(!H3(Z))throw new Error("Invalid input to extend: expected a plain object");let X=J._zod.def.checks;if(X&&X.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let $=B3(J._zod.def,{get shape(){let z={...J._zod.def.shape,...Z};return q3(this,"shape",z),z},checks:[]});return K7(J,$)}function FN4(J,Z){if(!H3(Z))throw new Error("Invalid input to safeExtend: expected a plain object");let X={...J._zod.def,get shape(){let Y={...J._zod.def.shape,...Z};return q3(this,"shape",Y),Y},checks:J._zod.def.checks};return K7(J,X)}function UN4(J,Z){let X=B3(J._zod.def,{get shape(){let Y={...J._zod.def.shape,...Z._zod.def.shape};return q3(this,"shape",Y),Y},get catchall(){return Z._zod.def.catchall},checks:[]});return K7(J,X)}function ON4(J,Z,X){let Y=B3(Z._zod.def,{get shape(){let $=Z._zod.def.shape,z={...$};if(X)for(let W in X){if(!(W in $))throw new Error(`Unrecognized key: "${W}"`);if(!X[W])continue;z[W]=J?new J({type:"optional",innerType:$[W]}):$[W]}else for(let W in $)z[W]=J?new J({type:"optional",innerType:$[W]}):$[W];return q3(this,"shape",z),z},checks:[]});return K7(Z,Y)}function DN4(J,Z,X){let Y=B3(Z._zod.def,{get shape(){let $=Z._zod.def.shape,z={...$};if(X)for(let W in X){if(!(W in z))throw new Error(`Unrecognized key: "${W}"`);if(!X[W])continue;z[W]=new J({type:"nonoptional",innerType:$[W]})}else for(let W in $)z[W]=new J({type:"nonoptional",innerType:$[W]});return q3(this,"shape",z),z},checks:[]});return K7(Z,Y)}function F3(J,Z=0){if(J.aborted===!0)return!0;for(let X=Z;X<J.issues.length;X++)if(J.issues[X]?.continue!==!0)return!0;return!1}function NJ(J,Z){return Z.map((X)=>{var Y;return(Y=X).path??(Y.path=[]),X.path.unshift(J),X})}function wP(J){return typeof J==="string"?J:J?.message}function PJ(J,Z,X){let Y={...J,path:J.path??[]};if(!J.message){let $=wP(J.inst?._zod.def?.error?.(J))??wP(Z?.error?.(J))??wP(X.customError?.(J))??wP(X.localeError?.(J))??"Invalid input";Y.message=$}if(delete Y.inst,delete Y.continue,!Z?.reportInput)delete Y.input;return Y}function PP(J){if(J instanceof Set)return"set";if(J instanceof Map)return"map";if(J instanceof File)return"file";return"unknown"}function LP(J){if(Array.isArray(J))return"array";if(typeof J==="string")return"string";return"unknown"}function DI(...J){let[Z,X,Y]=J;if(typeof Z==="string")return{message:Z,code:"custom",input:X,inst:Y};return{...Z}}function VN4(J){return Object.entries(J).filter(([Z,X])=>{return Number.isNaN(Number.parseInt(Z,10))}).map((Z)=>Z[1])}function ix1(J){let Z=atob(J),X=new Uint8Array(Z.length);for(let Y=0;Y<Z.length;Y++)X[Y]=Z.charCodeAt(Y);return X}function ox1(J){let Z="";for(let X=0;X<J.length;X++)Z+=String.fromCharCode(J[X]);return btoa(Z)}function IN4(J){let Z=J.replace(/-/g,"+").replace(/_/g,"/"),X="=".repeat((4-Z.length%4)%4);return ix1(Z+X)}function wN4(J){return ox1(J).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function AN4(J){let Z=J.replace(/^0x/,"");if(Z.length%2!==0)throw new Error("Invalid hex string length");let X=new Uint8Array(Z.length/2);for(let Y=0;Y<Z.length;Y+=2)X[Y/2]=Number.parseInt(Z.slice(Y,Y+2),16);return X}function MN4(J){return Array.from(J).map((Z)=>Z.toString(16).padStart(2,"0")).join("")}class sx1{constructor(...J){}}var ax1=(J,Z)=>{J.name="$ZodError",Object.defineProperty(J,"_zod",{value:J._zod,enumerable:!1}),Object.defineProperty(J,"issues",{value:Z,enumerable:!1}),J.message=JSON.stringify(Z,UI,2),Object.defineProperty(J,"toString",{value:()=>J.message,enumerable:!1})},CP=z1("$ZodError",ax1),d7=z1("$ZodError",ax1,{Parent:Error});function jP(J,Z=(X)=>X.message){let X={},Y=[];for(let $ of J.issues)if($.path.length>0)X[$.path[0]]=X[$.path[0]]||[],X[$.path[0]].push(Z($));else Y.push(Z($));return{formErrors:Y,fieldErrors:X}}function RP(J,Z){let X=Z||function(z){return z.message},Y={_errors:[]},$=(z)=>{for(let W of z.issues)if(W.code==="invalid_union"&&W.errors.length)W.errors.map((Q)=>$({issues:Q}));else if(W.code==="invalid_key")$({issues:W.issues});else if(W.code==="invalid_element")$({issues:W.issues});else if(W.path.length===0)Y._errors.push(X(W));else{let Q=Y,G=0;while(G<W.path.length){let K=W.path[G];if(G!==W.path.length-1)Q[K]=Q[K]||{_errors:[]};else Q[K]=Q[K]||{_errors:[]},Q[K]._errors.push(X(W));Q=Q[K],G++}}};return $(J),Y}function mt(J,Z){let X=Z||function(z){return z.message},Y={errors:[]},$=(z,W=[])=>{var Q,G;for(let K of z.issues)if(K.code==="invalid_union"&&K.errors.length)K.errors.map((q)=>$({issues:q},K.path));else if(K.code==="invalid_key")$({issues:K.issues},K.path);else if(K.code==="invalid_element")$({issues:K.issues},K.path);else{let q=[...W,...K.path];if(q.length===0){Y.errors.push(X(K));continue}let H=Y,F=0;while(F<q.length){let U=q[F],D=F===q.length-1;if(typeof U==="string")H.properties??(H.properties={}),(Q=H.properties)[U]??(Q[U]={errors:[]}),H=H.properties[U];else H.items??(H.items=[]),(G=H.items)[U]??(G[U]={errors:[]}),H=H.items[U];if(D)H.errors.push(X(K));F++}}};return $(J),Y}function rx1(J){let Z=[],X=J.map((Y)=>typeof Y==="object"?Y.key:Y);for(let Y of X)if(typeof Y==="number")Z.push(`[${Y}]`);else if(typeof Y==="symbol")Z.push(`[${JSON.stringify(String(Y))}]`);else if(/[^\w$]/.test(Y))Z.push(`[${JSON.stringify(Y)}]`);else{if(Z.length)Z.push(".");Z.push(Y)}return Z.join("")}function ct(J){let Z=[],X=[...J.issues].sort((Y,$)=>(Y.path??[]).length-($.path??[]).length);for(let Y of X)if(Z.push(`\u2716 ${Y.message}`),Y.path?.length)Z.push(`  \u2192 at ${rx1(Y.path)}`);return Z.join(`
`)}var VI=(J)=>(Z,X,Y,$)=>{let z=Y?Object.assign(Y,{async:!1}):{async:!1},W=Z._zod.run({value:X,issues:[]},z);if(W instanceof Promise)throw new b$;if(W.issues.length){let Q=new($?.Err??J)(W.issues.map((G)=>PJ(G,z,U5())));throw lk(Q,$?.callee),Q}return W.value},pk=VI(d7),II=(J)=>async(Z,X,Y,$)=>{let z=Y?Object.assign(Y,{async:!0}):{async:!0},W=Z._zod.run({value:X,issues:[]},z);if(W instanceof Promise)W=await W;if(W.issues.length){let Q=new($?.Err??J)(W.issues.map((G)=>PJ(G,z,U5())));throw lk(Q,$?.callee),Q}return W.value},nk=II(d7),wI=(J)=>(Z,X,Y)=>{let $=Y?{...Y,async:!1}:{async:!1},z=Z._zod.run({value:X,issues:[]},$);if(z instanceof Promise)throw new b$;return z.issues.length?{success:!1,error:new(J??CP)(z.issues.map((W)=>PJ(W,$,U5())))}:{success:!0,data:z.value}},lt=wI(d7),AI=(J)=>async(Z,X,Y)=>{let $=Y?Object.assign(Y,{async:!0}):{async:!0},z=Z._zod.run({value:X,issues:[]},$);if(z instanceof Promise)z=await z;return z.issues.length?{success:!1,error:new J(z.issues.map((W)=>PJ(W,$,U5())))}:{success:!0,data:z.value}},pt=AI(d7),ik=(J)=>(Z,X,Y)=>{let $=Y?Object.assign(Y,{direction:"backward"}):{direction:"backward"};return VI(J)(Z,X,$)},PN4=ik(d7),ok=(J)=>(Z,X,Y)=>{return VI(J)(Z,X,Y)},LN4=ok(d7),sk=(J)=>async(Z,X,Y)=>{let $=Y?Object.assign(Y,{direction:"backward"}):{direction:"backward"};return II(J)(Z,X,$)},CN4=sk(d7),ak=(J)=>async(Z,X,Y)=>{return II(J)(Z,X,Y)},jN4=ak(d7),rk=(J)=>(Z,X,Y)=>{let $=Y?Object.assign(Y,{direction:"backward"}):{direction:"backward"};return wI(J)(Z,X,$)},RN4=rk(d7),tk=(J)=>(Z,X,Y)=>{return wI(J)(Z,X,Y)},EN4=tk(d7),ek=(J)=>async(Z,X,Y)=>{let $=Y?Object.assign(Y,{direction:"backward"}):{direction:"backward"};return AI(J)(Z,X,$)},SN4=ek(d7),Jb=(J)=>async(Z,X,Y)=>{return AI(J)(Z,X,Y)},TN4=Jb(d7);var DZ={};r9(DZ,{xid:()=>st,uuid7:()=>hN4,uuid6:()=>bN4,uuid4:()=>kN4,uuid:()=>OF,uppercase:()=>Ae,unicodeEmail:()=>vN4,undefined:()=>Ie,ulid:()=>ot,time:()=>qe,string:()=>He,sha512_hex:()=>JP4,sha512_base64url:()=>XP4,sha512_base64:()=>ZP4,sha384_hex:()=>rN4,sha384_base64url:()=>eN4,sha384_base64:()=>tN4,sha256_hex:()=>oN4,sha256_base64url:()=>aN4,sha256_base64:()=>sN4,sha1_hex:()=>pN4,sha1_base64url:()=>iN4,sha1_base64:()=>nN4,rfc5322Email:()=>yN4,number:()=>Oe,null:()=>Ve,nanoid:()=>rt,md5_hex:()=>mN4,md5_base64url:()=>lN4,md5_base64:()=>cN4,lowercase:()=>we,ksuid:()=>at,ipv6:()=>Ye,ipv4:()=>Xe,integer:()=>Ue,idnEmail:()=>xN4,html5Email:()=>_N4,hostname:()=>Qe,hex:()=>uN4,guid:()=>et,extendedDuration:()=>fN4,emoji:()=>Ze,email:()=>Je,e164:()=>Ge,duration:()=>tt,domain:()=>dN4,datetime:()=>Be,date:()=>Ke,cuid2:()=>it,cuid:()=>nt,cidrv6:()=>ze,cidrv4:()=>$e,browserEmail:()=>gN4,boolean:()=>De,bigint:()=>Fe,base64url:()=>Zb,base64:()=>We});var nt=/^[cC][^\s-]{8,}$/,it=/^[0-9a-z]+$/,ot=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,st=/^[0-9a-vA-V]{20}$/,at=/^[A-Za-z0-9]{27}$/,rt=/^[a-zA-Z0-9_-]{21}$/,tt=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,fN4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,et=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,OF=(J)=>{if(!J)return/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${J}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`)},kN4=OF(4),bN4=OF(6),hN4=OF(7),Je=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,_N4=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,yN4=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,vN4=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,xN4=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,gN4=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Ze(){return new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}var Xe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ye=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,$e=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ze=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,We=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Zb=/^[A-Za-z0-9_-]*$/,Qe=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,dN4=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Ge=/^\+(?:[0-9]){6,14}[0-9]$/,tx1="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Ke=new RegExp(`^${tx1}$`);function ex1(J){return typeof J.precision==="number"?J.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":J.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${J.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}function qe(J){return new RegExp(`^${ex1(J)}$`)}function Be(J){let Z=ex1({precision:J.precision}),X=["Z"];if(J.local)X.push("");if(J.offset)X.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let Y=`${Z}(?:${X.join("|")})`;return new RegExp(`^${tx1}T(?:${Y})$`)}var He=(J)=>{let Z=J?`[\\s\\S]{${J?.minimum??0},${J?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${Z}$`)},Fe=/^\d+n?$/,Ue=/^\d+$/,Oe=/^-?\d+(?:\.\d+)?/i,De=/true|false/i,Ve=/null/i;var Ie=/undefined/i;var we=/^[^A-Z]*$/,Ae=/^[^a-z]*$/,uN4=/^[0-9a-fA-F]*$/;function EP(J,Z){return new RegExp(`^[A-Za-z0-9+/]{${J}}${Z}$`)}function SP(J){return new RegExp(`^[A-Za-z0-9-_]{${J}}$`)}var mN4=/^[0-9a-fA-F]{32}$/,cN4=EP(22,"=="),lN4=SP(22),pN4=/^[0-9a-fA-F]{40}$/,nN4=EP(27,"="),iN4=SP(27),oN4=/^[0-9a-fA-F]{64}$/,sN4=EP(43,"="),aN4=SP(43),rN4=/^[0-9a-fA-F]{96}$/,tN4=EP(64,""),eN4=SP(64),JP4=/^[0-9a-fA-F]{128}$/,ZP4=EP(86,"=="),XP4=SP(86);var H8=z1("$ZodCheck",(J,Z)=>{var X;J._zod??(J._zod={}),J._zod.def=Z,(X=J._zod).onattach??(X.onattach=[])}),Zg1={number:"number",bigint:"bigint",object:"date"},Xb=z1("$ZodCheckLessThan",(J,Z)=>{H8.init(J,Z);let X=Zg1[typeof Z.value];J._zod.onattach.push((Y)=>{let $=Y._zod.bag,z=(Z.inclusive?$.maximum:$.exclusiveMaximum)??Number.POSITIVE_INFINITY;if(Z.value<z)if(Z.inclusive)$.maximum=Z.value;else $.exclusiveMaximum=Z.value}),J._zod.check=(Y)=>{if(Z.inclusive?Y.value<=Z.value:Y.value<Z.value)return;Y.issues.push({origin:X,code:"too_big",maximum:Z.value,input:Y.value,inclusive:Z.inclusive,inst:J,continue:!Z.abort})}}),Yb=z1("$ZodCheckGreaterThan",(J,Z)=>{H8.init(J,Z);let X=Zg1[typeof Z.value];J._zod.onattach.push((Y)=>{let $=Y._zod.bag,z=(Z.inclusive?$.minimum:$.exclusiveMinimum)??Number.NEGATIVE_INFINITY;if(Z.value>z)if(Z.inclusive)$.minimum=Z.value;else $.exclusiveMinimum=Z.value}),J._zod.check=(Y)=>{if(Z.inclusive?Y.value>=Z.value:Y.value>Z.value)return;Y.issues.push({origin:X,code:"too_small",minimum:Z.value,input:Y.value,inclusive:Z.inclusive,inst:J,continue:!Z.abort})}}),Me=z1("$ZodCheckMultipleOf",(J,Z)=>{H8.init(J,Z),J._zod.onattach.push((X)=>{var Y;(Y=X._zod.bag).multipleOf??(Y.multipleOf=Z.value)}),J._zod.check=(X)=>{if(typeof X.value!==typeof Z.value)throw new Error("Cannot mix number and bigint in multiple_of check.");if(typeof X.value==="bigint"?X.value%Z.value===BigInt(0):_t(X.value,Z.value)===0)return;X.issues.push({origin:typeof X.value,code:"not_multiple_of",divisor:Z.value,input:X.value,inst:J,continue:!Z.abort})}}),Ne=z1("$ZodCheckNumberFormat",(J,Z)=>{H8.init(J,Z),Z.format=Z.format||"float64";let X=Z.format?.includes("int"),Y=X?"int":"number",[$,z]=dt[Z.format];J._zod.onattach.push((W)=>{let Q=W._zod.bag;if(Q.format=Z.format,Q.minimum=$,Q.maximum=z,X)Q.pattern=Ue}),J._zod.check=(W)=>{let Q=W.value;if(X){if(!Number.isInteger(Q)){W.issues.push({expected:Y,format:Z.format,code:"invalid_type",continue:!1,input:Q,inst:J});return}if(!Number.isSafeInteger(Q)){if(Q>0)W.issues.push({input:Q,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:J,origin:Y,continue:!Z.abort});else W.issues.push({input:Q,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:J,origin:Y,continue:!Z.abort});return}}if(Q<$)W.issues.push({origin:"number",input:Q,code:"too_small",minimum:$,inclusive:!0,inst:J,continue:!Z.abort});if(Q>z)W.issues.push({origin:"number",input:Q,code:"too_big",maximum:z,inst:J})}}),Pe=z1("$ZodCheckBigIntFormat",(J,Z)=>{H8.init(J,Z);let[X,Y]=ut[Z.format];J._zod.onattach.push(($)=>{let z=$._zod.bag;z.format=Z.format,z.minimum=X,z.maximum=Y}),J._zod.check=($)=>{let z=$.value;if(z<X)$.issues.push({origin:"bigint",input:z,code:"too_small",minimum:X,inclusive:!0,inst:J,continue:!Z.abort});if(z>Y)$.issues.push({origin:"bigint",input:z,code:"too_big",maximum:Y,inst:J})}}),Le=z1("$ZodCheckMaxSize",(J,Z)=>{var X;H8.init(J,Z),(X=J._zod.def).when??(X.when=(Y)=>{let $=Y.value;return!K3($)&&$.size!==void 0}),J._zod.onattach.push((Y)=>{let $=Y._zod.bag.maximum??Number.POSITIVE_INFINITY;if(Z.maximum<$)Y._zod.bag.maximum=Z.maximum}),J._zod.check=(Y)=>{let $=Y.value;if($.size<=Z.maximum)return;Y.issues.push({origin:PP($),code:"too_big",maximum:Z.maximum,inclusive:!0,input:$,inst:J,continue:!Z.abort})}}),Ce=z1("$ZodCheckMinSize",(J,Z)=>{var X;H8.init(J,Z),(X=J._zod.def).when??(X.when=(Y)=>{let $=Y.value;return!K3($)&&$.size!==void 0}),J._zod.onattach.push((Y)=>{let $=Y._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(Z.minimum>$)Y._zod.bag.minimum=Z.minimum}),J._zod.check=(Y)=>{let $=Y.value;if($.size>=Z.minimum)return;Y.issues.push({origin:PP($),code:"too_small",minimum:Z.minimum,inclusive:!0,input:$,inst:J,continue:!Z.abort})}}),je=z1("$ZodCheckSizeEquals",(J,Z)=>{var X;H8.init(J,Z),(X=J._zod.def).when??(X.when=(Y)=>{let $=Y.value;return!K3($)&&$.size!==void 0}),J._zod.onattach.push((Y)=>{let $=Y._zod.bag;$.minimum=Z.size,$.maximum=Z.size,$.size=Z.size}),J._zod.check=(Y)=>{let $=Y.value,z=$.size;if(z===Z.size)return;let W=z>Z.size;Y.issues.push({origin:PP($),...W?{code:"too_big",maximum:Z.size}:{code:"too_small",minimum:Z.size},inclusive:!0,exact:!0,input:Y.value,inst:J,continue:!Z.abort})}}),Re=z1("$ZodCheckMaxLength",(J,Z)=>{var X;H8.init(J,Z),(X=J._zod.def).when??(X.when=(Y)=>{let $=Y.value;return!K3($)&&$.length!==void 0}),J._zod.onattach.push((Y)=>{let $=Y._zod.bag.maximum??Number.POSITIVE_INFINITY;if(Z.maximum<$)Y._zod.bag.maximum=Z.maximum}),J._zod.check=(Y)=>{let $=Y.value;if($.length<=Z.maximum)return;let W=LP($);Y.issues.push({origin:W,code:"too_big",maximum:Z.maximum,inclusive:!0,input:$,inst:J,continue:!Z.abort})}}),Ee=z1("$ZodCheckMinLength",(J,Z)=>{var X;H8.init(J,Z),(X=J._zod.def).when??(X.when=(Y)=>{let $=Y.value;return!K3($)&&$.length!==void 0}),J._zod.onattach.push((Y)=>{let $=Y._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(Z.minimum>$)Y._zod.bag.minimum=Z.minimum}),J._zod.check=(Y)=>{let $=Y.value;if($.length>=Z.minimum)return;let W=LP($);Y.issues.push({origin:W,code:"too_small",minimum:Z.minimum,inclusive:!0,input:$,inst:J,continue:!Z.abort})}}),Se=z1("$ZodCheckLengthEquals",(J,Z)=>{var X;H8.init(J,Z),(X=J._zod.def).when??(X.when=(Y)=>{let $=Y.value;return!K3($)&&$.length!==void 0}),J._zod.onattach.push((Y)=>{let $=Y._zod.bag;$.minimum=Z.length,$.maximum=Z.length,$.length=Z.length}),J._zod.check=(Y)=>{let $=Y.value,z=$.length;if(z===Z.length)return;let W=LP($),Q=z>Z.length;Y.issues.push({origin:W,...Q?{code:"too_big",maximum:Z.length}:{code:"too_small",minimum:Z.length},inclusive:!0,exact:!0,input:Y.value,inst:J,continue:!Z.abort})}}),MI=z1("$ZodCheckStringFormat",(J,Z)=>{var X,Y;if(H8.init(J,Z),J._zod.onattach.push(($)=>{let z=$._zod.bag;if(z.format=Z.format,Z.pattern)z.patterns??(z.patterns=new Set),z.patterns.add(Z.pattern)}),Z.pattern)(X=J._zod).check??(X.check=($)=>{if(Z.pattern.lastIndex=0,Z.pattern.test($.value))return;$.issues.push({origin:"string",code:"invalid_format",format:Z.format,input:$.value,...Z.pattern?{pattern:Z.pattern.toString()}:{},inst:J,continue:!Z.abort})});else(Y=J._zod).check??(Y.check=()=>{})}),Te=z1("$ZodCheckRegex",(J,Z)=>{MI.init(J,Z),J._zod.check=(X)=>{if(Z.pattern.lastIndex=0,Z.pattern.test(X.value))return;X.issues.push({origin:"string",code:"invalid_format",format:"regex",input:X.value,pattern:Z.pattern.toString(),inst:J,continue:!Z.abort})}}),fe=z1("$ZodCheckLowerCase",(J,Z)=>{Z.pattern??(Z.pattern=we),MI.init(J,Z)}),ke=z1("$ZodCheckUpperCase",(J,Z)=>{Z.pattern??(Z.pattern=Ae),MI.init(J,Z)}),be=z1("$ZodCheckIncludes",(J,Z)=>{H8.init(J,Z);let X=h$(Z.includes),Y=new RegExp(typeof Z.position==="number"?`^.{${Z.position}}${X}`:X);Z.pattern=Y,J._zod.onattach.push(($)=>{let z=$._zod.bag;z.patterns??(z.patterns=new Set),z.patterns.add(Y)}),J._zod.check=($)=>{if($.value.includes(Z.includes,Z.position))return;$.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:Z.includes,input:$.value,inst:J,continue:!Z.abort})}}),he=z1("$ZodCheckStartsWith",(J,Z)=>{H8.init(J,Z);let X=new RegExp(`^${h$(Z.prefix)}.*`);Z.pattern??(Z.pattern=X),J._zod.onattach.push((Y)=>{let $=Y._zod.bag;$.patterns??($.patterns=new Set),$.patterns.add(X)}),J._zod.check=(Y)=>{if(Y.value.startsWith(Z.prefix))return;Y.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:Z.prefix,input:Y.value,inst:J,continue:!Z.abort})}}),_e=z1("$ZodCheckEndsWith",(J,Z)=>{H8.init(J,Z);let X=new RegExp(`.*${h$(Z.suffix)}$`);Z.pattern??(Z.pattern=X),J._zod.onattach.push((Y)=>{let $=Y._zod.bag;$.patterns??($.patterns=new Set),$.patterns.add(X)}),J._zod.check=(Y)=>{if(Y.value.endsWith(Z.suffix))return;Y.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:Z.suffix,input:Y.value,inst:J,continue:!Z.abort})}});function Jg1(J,Z,X){if(J.issues.length)Z.issues.push(...NJ(X,J.issues))}var ye=z1("$ZodCheckProperty",(J,Z)=>{H8.init(J,Z),J._zod.check=(X)=>{let Y=Z.schema._zod.run({value:X.value[Z.property],issues:[]},{});if(Y instanceof Promise)return Y.then(($)=>Jg1($,X,Z.property));Jg1(Y,X,Z.property);return}}),ve=z1("$ZodCheckMimeType",(J,Z)=>{H8.init(J,Z);let X=new Set(Z.mime);J._zod.onattach.push((Y)=>{Y._zod.bag.mime=Z.mime}),J._zod.check=(Y)=>{if(X.has(Y.value.type))return;Y.issues.push({code:"invalid_value",values:Z.mime,input:Y.value.type,inst:J,continue:!Z.abort})}}),xe=z1("$ZodCheckOverwrite",(J,Z)=>{H8.init(J,Z),J._zod.check=(X)=>{X.value=Z.tx(X.value)}});class $b{constructor(J=[]){if(this.content=[],this.indent=0,this)this.args=J}indented(J){this.indent+=1,J(this),this.indent-=1}write(J){if(typeof J==="function"){J(this,{execution:"sync"}),J(this,{execution:"async"});return}let X=J.split(`
`).filter((z)=>z),Y=Math.min(...X.map((z)=>z.length-z.trimStart().length)),$=X.map((z)=>z.slice(Y)).map((z)=>" ".repeat(this.indent*2)+z);for(let z of $)this.content.push(z)}compile(){let J=Function,Z=this?.args,Y=[...(this?.content??[""]).map(($)=>`  ${$}`)];return new J(...Z,Y.join(`
`))}}var ge={major:4,minor:1,patch:5};var q6=z1("$ZodType",(J,Z)=>{var X;J??(J={}),J._zod.def=Z,J._zod.bag=J._zod.bag||{},J._zod.version=ge;let Y=[...J._zod.def.checks??[]];if(J._zod.traits.has("$ZodCheck"))Y.unshift(J);for(let $ of Y)for(let z of $._zod.onattach)z(J);if(Y.length===0)(X=J._zod).deferred??(X.deferred=[]),J._zod.deferred?.push(()=>{J._zod.run=J._zod.parse});else{let $=(W,Q,G)=>{let K=F3(W),q;for(let H of Q){if(H._zod.def.when){if(!H._zod.def.when(W))continue}else if(K)continue;let F=W.issues.length,U=H._zod.check(W);if(U instanceof Promise&&G?.async===!1)throw new b$;if(q||U instanceof Promise)q=(q??Promise.resolve()).then(async()=>{if(await U,W.issues.length===F)return;if(!K)K=F3(W,F)});else{if(W.issues.length===F)continue;if(!K)K=F3(W,F)}}if(q)return q.then(()=>{return W});return W},z=(W,Q,G)=>{if(F3(W))return W.aborted=!0,W;let K=$(Q,Y,G);if(K instanceof Promise){if(G.async===!1)throw new b$;return K.then((q)=>J._zod.parse(q,G))}return J._zod.parse(K,G)};J._zod.run=(W,Q)=>{if(Q.skipChecks)return J._zod.parse(W,Q);if(Q.direction==="backward"){let K=J._zod.parse({value:W.value,issues:[]},{...Q,skipChecks:!0});if(K instanceof Promise)return K.then((q)=>{return z(q,W,Q)});return z(K,W,Q)}let G=J._zod.parse(W,Q);if(G instanceof Promise){if(Q.async===!1)throw new b$;return G.then((K)=>$(K,Y,Q))}return $(G,Y,Q)}}J["~standard"]={validate:($)=>{try{let z=lt(J,$);return z.success?{value:z.data}:{issues:z.error?.issues}}catch(z){return pt(J,$).then((W)=>W.success?{value:W.data}:{issues:W.error?.issues})}},vendor:"zod",version:1}}),DF=z1("$ZodString",(J,Z)=>{q6.init(J,Z),J._zod.pattern=[...J?._zod.bag?.patterns??[]].pop()??He(J._zod.bag),J._zod.parse=(X,Y)=>{if(Z.coerce)try{X.value=String(X.value)}catch($){}if(typeof X.value==="string")return X;return X.issues.push({expected:"string",code:"invalid_type",input:X.value,inst:J}),X}}),s4=z1("$ZodStringFormat",(J,Z)=>{MI.init(J,Z),DF.init(J,Z)}),ue=z1("$ZodGUID",(J,Z)=>{Z.pattern??(Z.pattern=et),s4.init(J,Z)}),me=z1("$ZodUUID",(J,Z)=>{if(Z.version){let Y={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[Z.version];if(Y===void 0)throw new Error(`Invalid UUID version: "${Z.version}"`);Z.pattern??(Z.pattern=OF(Y))}else Z.pattern??(Z.pattern=OF());s4.init(J,Z)}),ce=z1("$ZodEmail",(J,Z)=>{Z.pattern??(Z.pattern=Je),s4.init(J,Z)}),le=z1("$ZodURL",(J,Z)=>{s4.init(J,Z),J._zod.check=(X)=>{try{let Y=X.value.trim(),$=new URL(Y);if(Z.hostname){if(Z.hostname.lastIndex=0,!Z.hostname.test($.hostname))X.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Qe.source,input:X.value,inst:J,continue:!Z.abort})}if(Z.protocol){if(Z.protocol.lastIndex=0,!Z.protocol.test($.protocol.endsWith(":")?$.protocol.slice(0,-1):$.protocol))X.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:Z.protocol.source,input:X.value,inst:J,continue:!Z.abort})}if(Z.normalize)X.value=$.href;else X.value=Y;return}catch(Y){X.issues.push({code:"invalid_format",format:"url",input:X.value,inst:J,continue:!Z.abort})}}}),pe=z1("$ZodEmoji",(J,Z)=>{Z.pattern??(Z.pattern=Ze()),s4.init(J,Z)}),ne=z1("$ZodNanoID",(J,Z)=>{Z.pattern??(Z.pattern=rt),s4.init(J,Z)}),ie=z1("$ZodCUID",(J,Z)=>{Z.pattern??(Z.pattern=nt),s4.init(J,Z)}),oe=z1("$ZodCUID2",(J,Z)=>{Z.pattern??(Z.pattern=it),s4.init(J,Z)}),se=z1("$ZodULID",(J,Z)=>{Z.pattern??(Z.pattern=ot),s4.init(J,Z)}),ae=z1("$ZodXID",(J,Z)=>{Z.pattern??(Z.pattern=st),s4.init(J,Z)}),re=z1("$ZodKSUID",(J,Z)=>{Z.pattern??(Z.pattern=at),s4.init(J,Z)}),te=z1("$ZodISODateTime",(J,Z)=>{Z.pattern??(Z.pattern=Be(Z)),s4.init(J,Z)}),ee=z1("$ZodISODate",(J,Z)=>{Z.pattern??(Z.pattern=Ke),s4.init(J,Z)}),J11=z1("$ZodISOTime",(J,Z)=>{Z.pattern??(Z.pattern=qe(Z)),s4.init(J,Z)}),Z11=z1("$ZodISODuration",(J,Z)=>{Z.pattern??(Z.pattern=tt),s4.init(J,Z)}),X11=z1("$ZodIPv4",(J,Z)=>{Z.pattern??(Z.pattern=Xe),s4.init(J,Z),J._zod.onattach.push((X)=>{let Y=X._zod.bag;Y.format="ipv4"})}),Y11=z1("$ZodIPv6",(J,Z)=>{Z.pattern??(Z.pattern=Ye),s4.init(J,Z),J._zod.onattach.push((X)=>{let Y=X._zod.bag;Y.format="ipv6"}),J._zod.check=(X)=>{try{new URL(`http://[${X.value}]`)}catch{X.issues.push({code:"invalid_format",format:"ipv6",input:X.value,inst:J,continue:!Z.abort})}}}),$11=z1("$ZodCIDRv4",(J,Z)=>{Z.pattern??(Z.pattern=$e),s4.init(J,Z)}),z11=z1("$ZodCIDRv6",(J,Z)=>{Z.pattern??(Z.pattern=ze),s4.init(J,Z),J._zod.check=(X)=>{let[Y,$]=X.value.split("/");try{if(!$)throw new Error;let z=Number($);if(`${z}`!==$)throw new Error;if(z<0||z>128)throw new Error;new URL(`http://[${Y}]`)}catch{X.issues.push({code:"invalid_format",format:"cidrv6",input:X.value,inst:J,continue:!Z.abort})}}});function W11(J){if(J==="")return!0;if(J.length%4!==0)return!1;try{return atob(J),!0}catch{return!1}}var Q11=z1("$ZodBase64",(J,Z)=>{Z.pattern??(Z.pattern=We),s4.init(J,Z),J._zod.onattach.push((X)=>{X._zod.bag.contentEncoding="base64"}),J._zod.check=(X)=>{if(W11(X.value))return;X.issues.push({code:"invalid_format",format:"base64",input:X.value,inst:J,continue:!Z.abort})}});function Fg1(J){if(!Zb.test(J))return!1;let Z=J.replace(/[-_]/g,(Y)=>Y==="-"?"+":"/"),X=Z.padEnd(Math.ceil(Z.length/4)*4,"=");return W11(X)}var G11=z1("$ZodBase64URL",(J,Z)=>{Z.pattern??(Z.pattern=Zb),s4.init(J,Z),J._zod.onattach.push((X)=>{X._zod.bag.contentEncoding="base64url"}),J._zod.check=(X)=>{if(Fg1(X.value))return;X.issues.push({code:"invalid_format",format:"base64url",input:X.value,inst:J,continue:!Z.abort})}}),K11=z1("$ZodE164",(J,Z)=>{Z.pattern??(Z.pattern=Ge),s4.init(J,Z)});function Ug1(J,Z=null){try{let X=J.split(".");if(X.length!==3)return!1;let[Y]=X;if(!Y)return!1;let $=JSON.parse(atob(Y));if("typ"in $&&$?.typ!=="JWT")return!1;if(!$.alg)return!1;if(Z&&(!("alg"in $)||$.alg!==Z))return!1;return!0}catch{return!1}}var q11=z1("$ZodJWT",(J,Z)=>{s4.init(J,Z),J._zod.check=(X)=>{if(Ug1(X.value,Z.alg))return;X.issues.push({code:"invalid_format",format:"jwt",input:X.value,inst:J,continue:!Z.abort})}}),B11=z1("$ZodCustomStringFormat",(J,Z)=>{s4.init(J,Z),J._zod.check=(X)=>{if(Z.fn(X.value))return;X.issues.push({code:"invalid_format",format:Z.format,input:X.value,inst:J,continue:!Z.abort})}}),qb=z1("$ZodNumber",(J,Z)=>{q6.init(J,Z),J._zod.pattern=J._zod.bag.pattern??Oe,J._zod.parse=(X,Y)=>{if(Z.coerce)try{X.value=Number(X.value)}catch(W){}let $=X.value;if(typeof $==="number"&&!Number.isNaN($)&&Number.isFinite($))return X;let z=typeof $==="number"?Number.isNaN($)?"NaN":!Number.isFinite($)?"Infinity":void 0:void 0;return X.issues.push({expected:"number",code:"invalid_type",input:$,inst:J,...z?{received:z}:{}}),X}}),H11=z1("$ZodNumber",(J,Z)=>{Ne.init(J,Z),qb.init(J,Z)}),TP=z1("$ZodBoolean",(J,Z)=>{q6.init(J,Z),J._zod.pattern=De,J._zod.parse=(X,Y)=>{if(Z.coerce)try{X.value=Boolean(X.value)}catch(z){}let $=X.value;if(typeof $==="boolean")return X;return X.issues.push({expected:"boolean",code:"invalid_type",input:$,inst:J}),X}}),Bb=z1("$ZodBigInt",(J,Z)=>{q6.init(J,Z),J._zod.pattern=Fe,J._zod.parse=(X,Y)=>{if(Z.coerce)try{X.value=BigInt(X.value)}catch($){}if(typeof X.value==="bigint")return X;return X.issues.push({expected:"bigint",code:"invalid_type",input:X.value,inst:J}),X}}),F11=z1("$ZodBigInt",(J,Z)=>{Pe.init(J,Z),Bb.init(J,Z)}),U11=z1("$ZodSymbol",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X,Y)=>{let $=X.value;if(typeof $==="symbol")return X;return X.issues.push({expected:"symbol",code:"invalid_type",input:$,inst:J}),X}}),O11=z1("$ZodUndefined",(J,Z)=>{q6.init(J,Z),J._zod.pattern=Ie,J._zod.values=new Set([void 0]),J._zod.optin="optional",J._zod.optout="optional",J._zod.parse=(X,Y)=>{let $=X.value;if(typeof $==="undefined")return X;return X.issues.push({expected:"undefined",code:"invalid_type",input:$,inst:J}),X}}),D11=z1("$ZodNull",(J,Z)=>{q6.init(J,Z),J._zod.pattern=Ve,J._zod.values=new Set([null]),J._zod.parse=(X,Y)=>{let $=X.value;if($===null)return X;return X.issues.push({expected:"null",code:"invalid_type",input:$,inst:J}),X}}),V11=z1("$ZodAny",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X)=>X}),I11=z1("$ZodUnknown",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X)=>X}),w11=z1("$ZodNever",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X,Y)=>{return X.issues.push({expected:"never",code:"invalid_type",input:X.value,inst:J}),X}}),A11=z1("$ZodVoid",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X,Y)=>{let $=X.value;if(typeof $==="undefined")return X;return X.issues.push({expected:"void",code:"invalid_type",input:$,inst:J}),X}}),M11=z1("$ZodDate",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X,Y)=>{if(Z.coerce)try{X.value=new Date(X.value)}catch(Q){}let $=X.value,z=$ instanceof Date;if(z&&!Number.isNaN($.getTime()))return X;return X.issues.push({expected:"date",code:"invalid_type",input:$,...z?{received:"Invalid Date"}:{},inst:J}),X}});function Yg1(J,Z,X){if(J.issues.length)Z.issues.push(...NJ(X,J.issues));Z.value[X]=J.value}var N11=z1("$ZodArray",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X,Y)=>{let $=X.value;if(!Array.isArray($))return X.issues.push({expected:"array",code:"invalid_type",input:$,inst:J}),X;X.value=Array($.length);let z=[];for(let W=0;W<$.length;W++){let Q=$[W],G=Z.element._zod.run({value:Q,issues:[]},Y);if(G instanceof Promise)z.push(G.then((K)=>Yg1(K,X,W)));else Yg1(G,X,W)}if(z.length)return Promise.all(z).then(()=>X);return X}});function Kb(J,Z,X,Y){if(J.issues.length)Z.issues.push(...NJ(X,J.issues));if(J.value===void 0){if(X in Y)Z.value[X]=void 0}else Z.value[X]=J.value}function Og1(J){let Z=Object.keys(J.shape);for(let Y of Z)if(!J.shape[Y]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${Y}": expected a Zod schema`);let X=gt(J.shape);return{...J,keys:Z,keySet:new Set(Z),numKeys:Z.length,optionalKeys:new Set(X)}}function Dg1(J,Z,X,Y,$,z){let W=[],Q=$.keySet,G=$.catchall._zod,K=G.def.type;for(let q of Object.keys(Z)){if(Q.has(q))continue;if(K==="never"){W.push(q);continue}let H=G.run({value:Z[q],issues:[]},Y);if(H instanceof Promise)J.push(H.then((F)=>Kb(F,X,q,Z)));else Kb(H,X,q,Z)}if(W.length)X.issues.push({code:"unrecognized_keys",keys:W,input:Z,inst:z});if(!J.length)return X;return Promise.all(J).then(()=>{return X})}var Vg1=z1("$ZodObject",(J,Z)=>{q6.init(J,Z);let X=OI(()=>Og1(Z));g6(J._zod,"propValues",()=>{let W=Z.shape,Q={};for(let G in W){let K=W[G]._zod;if(K.values){Q[G]??(Q[G]=new Set);for(let q of K.values)Q[G].add(q)}}return Q});let Y=UF,$=Z.catchall,z;J._zod.parse=(W,Q)=>{z??(z=X.value);let G=W.value;if(!Y(G))return W.issues.push({expected:"object",code:"invalid_type",input:G,inst:J}),W;W.value={};let K=[],q=z.shape;for(let H of z.keys){let U=q[H]._zod.run({value:G[H],issues:[]},Q);if(U instanceof Promise)K.push(U.then((D)=>Kb(D,W,H,G)));else Kb(U,W,H,G)}if(!$)return K.length?Promise.all(K).then(()=>W):W;return Dg1(K,G,W,Q,X.value,J)}}),P11=z1("$ZodObjectJIT",(J,Z)=>{Vg1.init(J,Z);let X=J._zod.parse,Y=OI(()=>Og1(Z)),$=(F)=>{let U=new $b(["shape","payload","ctx"]),D=Y.value,V=(R)=>{let f=ck(R);return`shape[${f}]._zod.run({ value: input[${f}], issues: [] }, ctx)`};U.write("const input = payload.value;");let w=Object.create(null),M=0;for(let R of D.keys)w[R]=`key_${M++}`;U.write("const newResult = {}");for(let R of D.keys){let f=w[R],d=ck(R);U.write(`const ${f} = ${V(R)};`),U.write(`
        if (${f}.issues.length) {
          payload.issues = payload.issues.concat(${f}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${d}, ...iss.path] : [${d}]
          })));
        }
        
        if (${f}.value === undefined) {
          if (${d} in input) {
            newResult[${d}] = undefined;
          }
        } else {
          newResult[${d}] = ${f}.value;
        }
      `)}U.write("payload.value = newResult;"),U.write("return payload;");let P=U.compile();return(R,f)=>P(F,R,f)},z,W=UF,Q=!IP.jitless,K=Q&&yt.value,q=Z.catchall,H;J._zod.parse=(F,U)=>{H??(H=Y.value);let D=F.value;if(!W(D))return F.issues.push({expected:"object",code:"invalid_type",input:D,inst:J}),F;if(Q&&K&&U?.async===!1&&U.jitless!==!0){if(!z)z=$(Z.shape);if(F=z(F,U),!q)return F;return Dg1([],D,F,U,H,J)}return X(F,U)}});function $g1(J,Z,X,Y){for(let z of J)if(z.issues.length===0)return Z.value=z.value,Z;let $=J.filter((z)=>!F3(z));if($.length===1)return Z.value=$[0].value,$[0];return Z.issues.push({code:"invalid_union",input:Z.value,inst:X,errors:J.map((z)=>z.issues.map((W)=>PJ(W,Y,U5())))}),Z}var Hb=z1("$ZodUnion",(J,Z)=>{q6.init(J,Z),g6(J._zod,"optin",()=>Z.options.some(($)=>$._zod.optin==="optional")?"optional":void 0),g6(J._zod,"optout",()=>Z.options.some(($)=>$._zod.optout==="optional")?"optional":void 0),g6(J._zod,"values",()=>{if(Z.options.every(($)=>$._zod.values))return new Set(Z.options.flatMap(($)=>Array.from($._zod.values)));return}),g6(J._zod,"pattern",()=>{if(Z.options.every(($)=>$._zod.pattern)){let $=Z.options.map((z)=>z._zod.pattern);return new RegExp(`^(${$.map((z)=>MP(z.source)).join("|")})$`)}return});let X=Z.options.length===1,Y=Z.options[0]._zod.run;J._zod.parse=($,z)=>{if(X)return Y($,z);let W=!1,Q=[];for(let G of Z.options){let K=G._zod.run({value:$.value,issues:[]},z);if(K instanceof Promise)Q.push(K),W=!0;else{if(K.issues.length===0)return K;Q.push(K)}}if(!W)return $g1(Q,$,J,z);return Promise.all(Q).then((G)=>{return $g1(G,$,J,z)})}}),L11=z1("$ZodDiscriminatedUnion",(J,Z)=>{Hb.init(J,Z);let X=J._zod.parse;g6(J._zod,"propValues",()=>{let $={};for(let z of Z.options){let W=z._zod.propValues;if(!W||Object.keys(W).length===0)throw new Error(`Invalid discriminated union option at index "${Z.options.indexOf(z)}"`);for(let[Q,G]of Object.entries(W)){if(!$[Q])$[Q]=new Set;for(let K of G)$[Q].add(K)}}return $});let Y=OI(()=>{let $=Z.options,z=new Map;for(let W of $){let Q=W._zod.propValues?.[Z.discriminator];if(!Q||Q.size===0)throw new Error(`Invalid discriminated union option at index "${Z.options.indexOf(W)}"`);for(let G of Q){if(z.has(G))throw new Error(`Duplicate discriminator value "${String(G)}"`);z.set(G,W)}}return z});J._zod.parse=($,z)=>{let W=$.value;if(!UF(W))return $.issues.push({code:"invalid_type",expected:"object",input:W,inst:J}),$;let Q=Y.value.get(W?.[Z.discriminator]);if(Q)return Q._zod.run($,z);if(Z.unionFallback)return X($,z);return $.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:Z.discriminator,input:W,path:[Z.discriminator],inst:J}),$}}),C11=z1("$ZodIntersection",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X,Y)=>{let $=X.value,z=Z.left._zod.run({value:$,issues:[]},Y),W=Z.right._zod.run({value:$,issues:[]},Y);if(z instanceof Promise||W instanceof Promise)return Promise.all([z,W]).then(([G,K])=>{return zg1(X,G,K)});return zg1(X,z,W)}});function de(J,Z){if(J===Z)return{valid:!0,data:J};if(J instanceof Date&&Z instanceof Date&&+J===+Z)return{valid:!0,data:J};if(H3(J)&&H3(Z)){let X=Object.keys(Z),Y=Object.keys(J).filter((z)=>X.indexOf(z)!==-1),$={...J,...Z};for(let z of Y){let W=de(J[z],Z[z]);if(!W.valid)return{valid:!1,mergeErrorPath:[z,...W.mergeErrorPath]};$[z]=W.data}return{valid:!0,data:$}}if(Array.isArray(J)&&Array.isArray(Z)){if(J.length!==Z.length)return{valid:!1,mergeErrorPath:[]};let X=[];for(let Y=0;Y<J.length;Y++){let $=J[Y],z=Z[Y],W=de($,z);if(!W.valid)return{valid:!1,mergeErrorPath:[Y,...W.mergeErrorPath]};X.push(W.data)}return{valid:!0,data:X}}return{valid:!1,mergeErrorPath:[]}}function zg1(J,Z,X){if(Z.issues.length)J.issues.push(...Z.issues);if(X.issues.length)J.issues.push(...X.issues);if(F3(J))return J;let Y=de(Z.value,X.value);if(!Y.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(Y.mergeErrorPath)}`);return J.value=Y.data,J}var Fb=z1("$ZodTuple",(J,Z)=>{q6.init(J,Z);let X=Z.items,Y=X.length-[...X].reverse().findIndex(($)=>$._zod.optin!=="optional");J._zod.parse=($,z)=>{let W=$.value;if(!Array.isArray(W))return $.issues.push({input:W,inst:J,expected:"tuple",code:"invalid_type"}),$;$.value=[];let Q=[];if(!Z.rest){let K=W.length>X.length,q=W.length<Y-1;if(K||q)return $.issues.push({...K?{code:"too_big",maximum:X.length}:{code:"too_small",minimum:X.length},input:W,inst:J,origin:"array"}),$}let G=-1;for(let K of X){if(G++,G>=W.length){if(G>=Y)continue}let q=K._zod.run({value:W[G],issues:[]},z);if(q instanceof Promise)Q.push(q.then((H)=>zb(H,$,G)));else zb(q,$,G)}if(Z.rest){let K=W.slice(X.length);for(let q of K){G++;let H=Z.rest._zod.run({value:q,issues:[]},z);if(H instanceof Promise)Q.push(H.then((F)=>zb(F,$,G)));else zb(H,$,G)}}if(Q.length)return Promise.all(Q).then(()=>$);return $}});function zb(J,Z,X){if(J.issues.length)Z.issues.push(...NJ(X,J.issues));Z.value[X]=J.value}var j11=z1("$ZodRecord",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X,Y)=>{let $=X.value;if(!H3($))return X.issues.push({expected:"record",code:"invalid_type",input:$,inst:J}),X;let z=[];if(Z.keyType._zod.values){let W=Z.keyType._zod.values;X.value={};for(let G of W)if(typeof G==="string"||typeof G==="number"||typeof G==="symbol"){let K=Z.valueType._zod.run({value:$[G],issues:[]},Y);if(K instanceof Promise)z.push(K.then((q)=>{if(q.issues.length)X.issues.push(...NJ(G,q.issues));X.value[G]=q.value}));else{if(K.issues.length)X.issues.push(...NJ(G,K.issues));X.value[G]=K.value}}let Q;for(let G in $)if(!W.has(G))Q=Q??[],Q.push(G);if(Q&&Q.length>0)X.issues.push({code:"unrecognized_keys",input:$,inst:J,keys:Q})}else{X.value={};for(let W of Reflect.ownKeys($)){if(W==="__proto__")continue;let Q=Z.keyType._zod.run({value:W,issues:[]},Y);if(Q instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(Q.issues.length){X.issues.push({code:"invalid_key",origin:"record",issues:Q.issues.map((K)=>PJ(K,Y,U5())),input:W,path:[W],inst:J}),X.value[Q.value]=Q.value;continue}let G=Z.valueType._zod.run({value:$[W],issues:[]},Y);if(G instanceof Promise)z.push(G.then((K)=>{if(K.issues.length)X.issues.push(...NJ(W,K.issues));X.value[Q.value]=K.value}));else{if(G.issues.length)X.issues.push(...NJ(W,G.issues));X.value[Q.value]=G.value}}}if(z.length)return Promise.all(z).then(()=>X);return X}}),R11=z1("$ZodMap",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X,Y)=>{let $=X.value;if(!($ instanceof Map))return X.issues.push({expected:"map",code:"invalid_type",input:$,inst:J}),X;let z=[];X.value=new Map;for(let[W,Q]of $){let G=Z.keyType._zod.run({value:W,issues:[]},Y),K=Z.valueType._zod.run({value:Q,issues:[]},Y);if(G instanceof Promise||K instanceof Promise)z.push(Promise.all([G,K]).then(([q,H])=>{Wg1(q,H,X,W,$,J,Y)}));else Wg1(G,K,X,W,$,J,Y)}if(z.length)return Promise.all(z).then(()=>X);return X}});function Wg1(J,Z,X,Y,$,z,W){if(J.issues.length)if(NP.has(typeof Y))X.issues.push(...NJ(Y,J.issues));else X.issues.push({code:"invalid_key",origin:"map",input:$,inst:z,issues:J.issues.map((Q)=>PJ(Q,W,U5()))});if(Z.issues.length)if(NP.has(typeof Y))X.issues.push(...NJ(Y,Z.issues));else X.issues.push({origin:"map",code:"invalid_element",input:$,inst:z,key:Y,issues:Z.issues.map((Q)=>PJ(Q,W,U5()))});X.value.set(J.value,Z.value)}var E11=z1("$ZodSet",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X,Y)=>{let $=X.value;if(!($ instanceof Set))return X.issues.push({input:$,inst:J,expected:"set",code:"invalid_type"}),X;let z=[];X.value=new Set;for(let W of $){let Q=Z.valueType._zod.run({value:W,issues:[]},Y);if(Q instanceof Promise)z.push(Q.then((G)=>Qg1(G,X)));else Qg1(Q,X)}if(z.length)return Promise.all(z).then(()=>X);return X}});function Qg1(J,Z){if(J.issues.length)Z.issues.push(...J.issues);Z.value.add(J.value)}var S11=z1("$ZodEnum",(J,Z)=>{q6.init(J,Z);let X=AP(Z.entries),Y=new Set(X);J._zod.values=Y,J._zod.pattern=new RegExp(`^(${X.filter(($)=>NP.has(typeof $)).map(($)=>typeof $==="string"?h$($):$.toString()).join("|")})$`),J._zod.parse=($,z)=>{let W=$.value;if(Y.has(W))return $;return $.issues.push({code:"invalid_value",values:X,input:W,inst:J}),$}}),T11=z1("$ZodLiteral",(J,Z)=>{if(q6.init(J,Z),Z.values.length===0)throw new Error("Cannot create literal schema with no valid values");J._zod.values=new Set(Z.values),J._zod.pattern=new RegExp(`^(${Z.values.map((X)=>typeof X==="string"?h$(X):X?h$(X.toString()):String(X)).join("|")})$`),J._zod.parse=(X,Y)=>{let $=X.value;if(J._zod.values.has($))return X;return X.issues.push({code:"invalid_value",values:Z.values,input:$,inst:J}),X}}),f11=z1("$ZodFile",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X,Y)=>{let $=X.value;if($ instanceof File)return X;return X.issues.push({expected:"file",code:"invalid_type",input:$,inst:J}),X}}),k11=z1("$ZodTransform",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X,Y)=>{if(Y.direction==="backward")throw new FF(J.constructor.name);let $=Z.transform(X.value,X);if(Y.async)return($ instanceof Promise?$:Promise.resolve($)).then((W)=>{return X.value=W,X});if($ instanceof Promise)throw new b$;return X.value=$,X}});function Gg1(J,Z){if(J.issues.length&&Z===void 0)return{issues:[],value:void 0};return J}var b11=z1("$ZodOptional",(J,Z)=>{q6.init(J,Z),J._zod.optin="optional",J._zod.optout="optional",g6(J._zod,"values",()=>{return Z.innerType._zod.values?new Set([...Z.innerType._zod.values,void 0]):void 0}),g6(J._zod,"pattern",()=>{let X=Z.innerType._zod.pattern;return X?new RegExp(`^(${MP(X.source)})?$`):void 0}),J._zod.parse=(X,Y)=>{if(Z.innerType._zod.optin==="optional"){let $=Z.innerType._zod.run(X,Y);if($ instanceof Promise)return $.then((z)=>Gg1(z,X.value));return Gg1($,X.value)}if(X.value===void 0)return X;return Z.innerType._zod.run(X,Y)}}),h11=z1("$ZodNullable",(J,Z)=>{q6.init(J,Z),g6(J._zod,"optin",()=>Z.innerType._zod.optin),g6(J._zod,"optout",()=>Z.innerType._zod.optout),g6(J._zod,"pattern",()=>{let X=Z.innerType._zod.pattern;return X?new RegExp(`^(${MP(X.source)}|null)$`):void 0}),g6(J._zod,"values",()=>{return Z.innerType._zod.values?new Set([...Z.innerType._zod.values,null]):void 0}),J._zod.parse=(X,Y)=>{if(X.value===null)return X;return Z.innerType._zod.run(X,Y)}}),_11=z1("$ZodDefault",(J,Z)=>{q6.init(J,Z),J._zod.optin="optional",g6(J._zod,"values",()=>Z.innerType._zod.values),J._zod.parse=(X,Y)=>{if(Y.direction==="backward")return Z.innerType._zod.run(X,Y);if(X.value===void 0)return X.value=Z.defaultValue,X;let $=Z.innerType._zod.run(X,Y);if($ instanceof Promise)return $.then((z)=>Kg1(z,Z));return Kg1($,Z)}});function Kg1(J,Z){if(J.value===void 0)J.value=Z.defaultValue;return J}var y11=z1("$ZodPrefault",(J,Z)=>{q6.init(J,Z),J._zod.optin="optional",g6(J._zod,"values",()=>Z.innerType._zod.values),J._zod.parse=(X,Y)=>{if(Y.direction==="backward")return Z.innerType._zod.run(X,Y);if(X.value===void 0)X.value=Z.defaultValue;return Z.innerType._zod.run(X,Y)}}),v11=z1("$ZodNonOptional",(J,Z)=>{q6.init(J,Z),g6(J._zod,"values",()=>{let X=Z.innerType._zod.values;return X?new Set([...X].filter((Y)=>Y!==void 0)):void 0}),J._zod.parse=(X,Y)=>{let $=Z.innerType._zod.run(X,Y);if($ instanceof Promise)return $.then((z)=>qg1(z,J));return qg1($,J)}});function qg1(J,Z){if(!J.issues.length&&J.value===void 0)J.issues.push({code:"invalid_type",expected:"nonoptional",input:J.value,inst:Z});return J}var x11=z1("$ZodSuccess",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X,Y)=>{if(Y.direction==="backward")throw new FF("ZodSuccess");let $=Z.innerType._zod.run(X,Y);if($ instanceof Promise)return $.then((z)=>{return X.value=z.issues.length===0,X});return X.value=$.issues.length===0,X}}),g11=z1("$ZodCatch",(J,Z)=>{q6.init(J,Z),g6(J._zod,"optin",()=>Z.innerType._zod.optin),g6(J._zod,"optout",()=>Z.innerType._zod.optout),g6(J._zod,"values",()=>Z.innerType._zod.values),J._zod.parse=(X,Y)=>{if(Y.direction==="backward")return Z.innerType._zod.run(X,Y);let $=Z.innerType._zod.run(X,Y);if($ instanceof Promise)return $.then((z)=>{if(X.value=z.value,z.issues.length)X.value=Z.catchValue({...X,error:{issues:z.issues.map((W)=>PJ(W,Y,U5()))},input:X.value}),X.issues=[];return X});if(X.value=$.value,$.issues.length)X.value=Z.catchValue({...X,error:{issues:$.issues.map((z)=>PJ(z,Y,U5()))},input:X.value}),X.issues=[];return X}}),d11=z1("$ZodNaN",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X,Y)=>{if(typeof X.value!=="number"||!Number.isNaN(X.value))return X.issues.push({input:X.value,inst:J,expected:"nan",code:"invalid_type"}),X;return X}}),u11=z1("$ZodPipe",(J,Z)=>{q6.init(J,Z),g6(J._zod,"values",()=>Z.in._zod.values),g6(J._zod,"optin",()=>Z.in._zod.optin),g6(J._zod,"optout",()=>Z.out._zod.optout),g6(J._zod,"propValues",()=>Z.in._zod.propValues),J._zod.parse=(X,Y)=>{if(Y.direction==="backward"){let z=Z.out._zod.run(X,Y);if(z instanceof Promise)return z.then((W)=>Wb(W,Z.in,Y));return Wb(z,Z.in,Y)}let $=Z.in._zod.run(X,Y);if($ instanceof Promise)return $.then((z)=>Wb(z,Z.out,Y));return Wb($,Z.out,Y)}});function Wb(J,Z,X){if(J.issues.length)return J.aborted=!0,J;return Z._zod.run({value:J.value,issues:J.issues},X)}var fP=z1("$ZodCodec",(J,Z)=>{q6.init(J,Z),g6(J._zod,"values",()=>Z.in._zod.values),g6(J._zod,"optin",()=>Z.in._zod.optin),g6(J._zod,"optout",()=>Z.out._zod.optout),g6(J._zod,"propValues",()=>Z.in._zod.propValues),J._zod.parse=(X,Y)=>{if((Y.direction||"forward")==="forward"){let z=Z.in._zod.run(X,Y);if(z instanceof Promise)return z.then((W)=>Qb(W,Z,Y));return Qb(z,Z,Y)}else{let z=Z.out._zod.run(X,Y);if(z instanceof Promise)return z.then((W)=>Qb(W,Z,Y));return Qb(z,Z,Y)}}});function Qb(J,Z,X){if(J.issues.length)return J.aborted=!0,J;if((X.direction||"forward")==="forward"){let $=Z.transform(J.value,J);if($ instanceof Promise)return $.then((z)=>Gb(J,z,Z.out,X));return Gb(J,$,Z.out,X)}else{let $=Z.reverseTransform(J.value,J);if($ instanceof Promise)return $.then((z)=>Gb(J,z,Z.in,X));return Gb(J,$,Z.in,X)}}function Gb(J,Z,X,Y){if(J.issues.length)return J.aborted=!0,J;return X._zod.run({value:Z,issues:J.issues},Y)}var m11=z1("$ZodReadonly",(J,Z)=>{q6.init(J,Z),g6(J._zod,"propValues",()=>Z.innerType._zod.propValues),g6(J._zod,"values",()=>Z.innerType._zod.values),g6(J._zod,"optin",()=>Z.innerType._zod.optin),g6(J._zod,"optout",()=>Z.innerType._zod.optout),J._zod.parse=(X,Y)=>{if(Y.direction==="backward")return Z.innerType._zod.run(X,Y);let $=Z.innerType._zod.run(X,Y);if($ instanceof Promise)return $.then(Bg1);return Bg1($)}});function Bg1(J){return J.value=Object.freeze(J.value),J}var c11=z1("$ZodTemplateLiteral",(J,Z)=>{q6.init(J,Z);let X=[];for(let Y of Z.parts)if(typeof Y==="object"&&Y!==null){if(!Y._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...Y._zod.traits].shift()}`);let $=Y._zod.pattern instanceof RegExp?Y._zod.pattern.source:Y._zod.pattern;if(!$)throw new Error(`Invalid template literal part: ${Y._zod.traits}`);let z=$.startsWith("^")?1:0,W=$.endsWith("$")?$.length-1:$.length;X.push($.slice(z,W))}else if(Y===null||xt.has(typeof Y))X.push(h$(`${Y}`));else throw new Error(`Invalid template literal part: ${Y}`);J._zod.pattern=new RegExp(`^${X.join("")}$`),J._zod.parse=(Y,$)=>{if(typeof Y.value!=="string")return Y.issues.push({input:Y.value,inst:J,expected:"template_literal",code:"invalid_type"}),Y;if(J._zod.pattern.lastIndex=0,!J._zod.pattern.test(Y.value))return Y.issues.push({input:Y.value,inst:J,code:"invalid_format",format:Z.format??"template_literal",pattern:J._zod.pattern.source}),Y;return Y}}),l11=z1("$ZodFunction",(J,Z)=>{return q6.init(J,Z),J._def=Z,J._zod.def=Z,J.implement=(X)=>{if(typeof X!=="function")throw new Error("implement() must be called with a function");return function(...Y){let $=J._def.input?pk(J._def.input,Y):Y,z=Reflect.apply(X,this,$);if(J._def.output)return pk(J._def.output,z);return z}},J.implementAsync=(X)=>{if(typeof X!=="function")throw new Error("implementAsync() must be called with a function");return async function(...Y){let $=J._def.input?await nk(J._def.input,Y):Y,z=await Reflect.apply(X,this,$);if(J._def.output)return await nk(J._def.output,z);return z}},J._zod.parse=(X,Y)=>{if(typeof X.value!=="function")return X.issues.push({code:"invalid_type",expected:"function",input:X.value,inst:J}),X;if(J._def.output&&J._def.output._zod.def.type==="promise")X.value=J.implementAsync(X.value);else X.value=J.implement(X.value);return X},J.input=(...X)=>{let Y=J.constructor;if(Array.isArray(X[0]))return new Y({type:"function",input:new Fb({type:"tuple",items:X[0],rest:X[1]}),output:J._def.output});return new Y({type:"function",input:X[0],output:J._def.output})},J.output=(X)=>{return new J.constructor({type:"function",input:J._def.input,output:X})},J}),p11=z1("$ZodPromise",(J,Z)=>{q6.init(J,Z),J._zod.parse=(X,Y)=>{return Promise.resolve(X.value).then(($)=>Z.innerType._zod.run({value:$,issues:[]},Y))}}),n11=z1("$ZodLazy",(J,Z)=>{q6.init(J,Z),g6(J._zod,"innerType",()=>Z.getter()),g6(J._zod,"pattern",()=>J._zod.innerType._zod.pattern),g6(J._zod,"propValues",()=>J._zod.innerType._zod.propValues),g6(J._zod,"optin",()=>J._zod.innerType._zod.optin??void 0),g6(J._zod,"optout",()=>J._zod.innerType._zod.optout??void 0),J._zod.parse=(X,Y)=>{return J._zod.innerType._zod.run(X,Y)}}),i11=z1("$ZodCustom",(J,Z)=>{H8.init(J,Z),q6.init(J,Z),J._zod.parse=(X,Y)=>{return X},J._zod.check=(X)=>{let Y=X.value,$=Z.fn(Y);if($ instanceof Promise)return $.then((z)=>Hg1(z,X,Y,J));Hg1($,X,Y,J);return}});function Hg1(J,Z,X,Y){if(!J){let $={code:"custom",input:X,inst:Y,path:[...Y._zod.def.path??[]],continue:!Y._zod.def.abort};if(Y._zod.def.params)$.params=Y._zod.def.params;Z.issues.push(DI($))}}var bP={};r9(bP,{zhTW:()=>b01,zhCN:()=>k01,yo:()=>h01,vi:()=>f01,ur:()=>T01,ua:()=>S01,tr:()=>E01,th:()=>R01,ta:()=>j01,sv:()=>C01,sl:()=>L01,ru:()=>P01,pt:()=>N01,ps:()=>A01,pl:()=>M01,ota:()=>w01,no:()=>I01,nl:()=>V01,ms:()=>D01,mk:()=>O01,ko:()=>U01,kh:()=>F01,ja:()=>H01,it:()=>B01,is:()=>q01,id:()=>K01,hu:()=>G01,he:()=>Q01,frCA:()=>W01,fr:()=>z01,fi:()=>$01,fa:()=>Y01,es:()=>X01,eo:()=>Z01,en:()=>kP,de:()=>J01,da:()=>e11,cs:()=>t11,ca:()=>r11,be:()=>a11,az:()=>s11,ar:()=>o11});var $P4=()=>{let J={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"};return($)=>{switch($.code){case"invalid_type":return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${$.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${X($.input)}`;case"invalid_value":if($.values.length===1)return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${k1($.values[0])}`;return`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${$.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${z} ${$.maximum.toString()} ${W.unit??"\u0639\u0646\u0635\u0631"}`;return`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${$.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${z} ${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${$.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${z} ${$.minimum.toString()} ${W.unit}`;return`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${$.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${z} ${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${$.prefix}"`;if(z.format==="ends_with")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${z.suffix}"`;if(z.format==="includes")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${z.includes}"`;if(z.format==="regex")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${z.pattern}`;return`${Y[z.format]??$.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${$.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${$.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${$.keys.length>1?"\u0629":""}: ${O1($.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${$.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${$.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}};function o11(){return{localeError:$P4()}}var zP4=()=>{let J={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return($)=>{switch($.code){case"invalid_type":return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${$.expected}, daxil olan ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${k1($.values[0])}`;return`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${$.origin??"d\u0259y\u0259r"} ${z}${$.maximum.toString()} ${W.unit??"element"}`;return`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${$.origin??"d\u0259y\u0259r"} ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${$.origin} ${z}${$.minimum.toString()} ${W.unit}`;return`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${$.origin} ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Yanl\u0131\u015F m\u0259tn: "${z.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`;if(z.format==="ends_with")return`Yanl\u0131\u015F m\u0259tn: "${z.suffix}" il\u0259 bitm\u0259lidir`;if(z.format==="includes")return`Yanl\u0131\u015F m\u0259tn: "${z.includes}" daxil olmal\u0131d\u0131r`;if(z.format==="regex")return`Yanl\u0131\u015F m\u0259tn: ${z.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`;return`Yanl\u0131\u015F ${Y[z.format]??$.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${$.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${$.keys.length>1?"lar":""}: ${O1($.keys,", ")}`;case"invalid_key":return`${$.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${$.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}};function s11(){return{localeError:zP4()}}function Ig1(J,Z,X,Y){let $=Math.abs(J),z=$%10,W=$%100;if(W>=11&&W<=19)return Y;if(z===1)return Z;if(z>=2&&z<=4)return X;return Y}var WP4=()=>{let J={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"\u043B\u0456\u043A";case"object":{if(Array.isArray($))return"\u043C\u0430\u0441\u0456\u045E";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"};return($)=>{switch($.code){case"invalid_type":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${$.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${X($.input)}`;case"invalid_value":if($.values.length===1)return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${k1($.values[0])}`;return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W){let Q=Number($.maximum),G=Ig1(Q,W.unit.one,W.unit.few,W.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${$.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${W.verb} ${z}${$.maximum.toString()} ${G}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${$.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W){let Q=Number($.minimum),G=Ig1(Q,W.unit.one,W.unit.few,W.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${$.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${W.verb} ${z}${$.minimum.toString()} ${G}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${$.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${z.prefix}"`;if(z.format==="ends_with")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${z.suffix}"`;if(z.format==="includes")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${z.includes}"`;if(z.format==="regex")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${z.pattern}`;return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${Y[z.format]??$.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${$.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${$.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${O1($.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${$.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${$.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}};function a11(){return{localeError:WP4()}}var QP4=()=>{let J={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return($)=>{switch($.code){case"invalid_type":return`Tipus inv\xE0lid: s'esperava ${$.expected}, s'ha rebut ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Valor inv\xE0lid: s'esperava ${k1($.values[0])}`;return`Opci\xF3 inv\xE0lida: s'esperava una de ${O1($.values," o ")}`;case"too_big":{let z=$.inclusive?"com a m\xE0xim":"menys de",W=Z($.origin);if(W)return`Massa gran: s'esperava que ${$.origin??"el valor"} contingu\xE9s ${z} ${$.maximum.toString()} ${W.unit??"elements"}`;return`Massa gran: s'esperava que ${$.origin??"el valor"} fos ${z} ${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?"com a m\xEDnim":"m\xE9s de",W=Z($.origin);if(W)return`Massa petit: s'esperava que ${$.origin} contingu\xE9s ${z} ${$.minimum.toString()} ${W.unit}`;return`Massa petit: s'esperava que ${$.origin} fos ${z} ${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Format inv\xE0lid: ha de comen\xE7ar amb "${z.prefix}"`;if(z.format==="ends_with")return`Format inv\xE0lid: ha d'acabar amb "${z.suffix}"`;if(z.format==="includes")return`Format inv\xE0lid: ha d'incloure "${z.includes}"`;if(z.format==="regex")return`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${z.pattern}`;return`Format inv\xE0lid per a ${Y[z.format]??$.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${$.divisor}`;case"unrecognized_keys":return`Clau${$.keys.length>1?"s":""} no reconeguda${$.keys.length>1?"s":""}: ${O1($.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${$.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${$.origin}`;default:return"Entrada inv\xE0lida"}}};function r11(){return{localeError:QP4()}}var GP4=()=>{let J={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"\u010D\xEDslo";case"string":return"\u0159et\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray($))return"pole";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"};return($)=>{switch($.code){case"invalid_type":return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${$.expected}, obdr\u017Eeno ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${k1($.values[0])}`;return`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${$.origin??"hodnota"} mus\xED m\xEDt ${z}${$.maximum.toString()} ${W.unit??"prvk\u016F"}`;return`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${$.origin??"hodnota"} mus\xED b\xFDt ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${$.origin??"hodnota"} mus\xED m\xEDt ${z}${$.minimum.toString()} ${W.unit??"prvk\u016F"}`;return`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${$.origin??"hodnota"} mus\xED b\xFDt ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${z.prefix}"`;if(z.format==="ends_with")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${z.suffix}"`;if(z.format==="includes")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${z.includes}"`;if(z.format==="regex")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${z.pattern}`;return`Neplatn\xFD form\xE1t ${Y[z.format]??$.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${$.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${O1($.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${$.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${$.origin}`;default:return"Neplatn\xFD vstup"}}};function t11(){return{localeError:GP4()}}var KP4=()=>{let J={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},Z={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"};function X(W){return J[W]??null}function Y(W){return Z[W]??W}let $=(W)=>{let Q=typeof W;switch(Q){case"number":return Number.isNaN(W)?"NaN":"tal";case"object":{if(Array.isArray(W))return"liste";if(W===null)return"null";if(Object.getPrototypeOf(W)!==Object.prototype&&W.constructor)return W.constructor.name;return"objekt"}}return Q},z={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return(W)=>{switch(W.code){case"invalid_type":return`Ugyldigt input: forventede ${Y(W.expected)}, fik ${Y($(W.input))}`;case"invalid_value":if(W.values.length===1)return`Ugyldig v\xE6rdi: forventede ${k1(W.values[0])}`;return`Ugyldigt valg: forventede en af f\xF8lgende ${O1(W.values,"|")}`;case"too_big":{let Q=W.inclusive?"<=":"<",G=X(W.origin),K=Y(W.origin);if(G)return`For stor: forventede ${K??"value"} ${G.verb} ${Q} ${W.maximum.toString()} ${G.unit??"elementer"}`;return`For stor: forventede ${K??"value"} havde ${Q} ${W.maximum.toString()}`}case"too_small":{let Q=W.inclusive?">=":">",G=X(W.origin),K=Y(W.origin);if(G)return`For lille: forventede ${K} ${G.verb} ${Q} ${W.minimum.toString()} ${G.unit}`;return`For lille: forventede ${K} havde ${Q} ${W.minimum.toString()}`}case"invalid_format":{let Q=W;if(Q.format==="starts_with")return`Ugyldig streng: skal starte med "${Q.prefix}"`;if(Q.format==="ends_with")return`Ugyldig streng: skal ende med "${Q.suffix}"`;if(Q.format==="includes")return`Ugyldig streng: skal indeholde "${Q.includes}"`;if(Q.format==="regex")return`Ugyldig streng: skal matche m\xF8nsteret ${Q.pattern}`;return`Ugyldig ${z[Q.format]??W.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\xE6re deleligt med ${W.divisor}`;case"unrecognized_keys":return`${W.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${O1(W.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8gle i ${W.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xE6rdi i ${W.origin}`;default:return"Ugyldigt input"}}};function e11(){return{localeError:KP4()}}var qP4=()=>{let J={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"Zahl";case"object":{if(Array.isArray($))return"Array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return($)=>{switch($.code){case"invalid_type":return`Ung\xFCltige Eingabe: erwartet ${$.expected}, erhalten ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Ung\xFCltige Eingabe: erwartet ${k1($.values[0])}`;return`Ung\xFCltige Option: erwartet eine von ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`Zu gro\xDF: erwartet, dass ${$.origin??"Wert"} ${z}${$.maximum.toString()} ${W.unit??"Elemente"} hat`;return`Zu gro\xDF: erwartet, dass ${$.origin??"Wert"} ${z}${$.maximum.toString()} ist`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`Zu klein: erwartet, dass ${$.origin} ${z}${$.minimum.toString()} ${W.unit} hat`;return`Zu klein: erwartet, dass ${$.origin} ${z}${$.minimum.toString()} ist`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Ung\xFCltiger String: muss mit "${z.prefix}" beginnen`;if(z.format==="ends_with")return`Ung\xFCltiger String: muss mit "${z.suffix}" enden`;if(z.format==="includes")return`Ung\xFCltiger String: muss "${z.includes}" enthalten`;if(z.format==="regex")return`Ung\xFCltiger String: muss dem Muster ${z.pattern} entsprechen`;return`Ung\xFCltig: ${Y[z.format]??$.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${$.divisor} sein`;case"unrecognized_keys":return`${$.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${O1($.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${$.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${$.origin}`;default:return"Ung\xFCltige Eingabe"}}};function J01(){return{localeError:qP4()}}var BP4=(J)=>{let Z=typeof J;switch(Z){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Z},HP4=()=>{let J={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function Z(Y){return J[Y]??null}let X={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return(Y)=>{switch(Y.code){case"invalid_type":return`Invalid input: expected ${Y.expected}, received ${BP4(Y.input)}`;case"invalid_value":if(Y.values.length===1)return`Invalid input: expected ${k1(Y.values[0])}`;return`Invalid option: expected one of ${O1(Y.values,"|")}`;case"too_big":{let $=Y.inclusive?"<=":"<",z=Z(Y.origin);if(z)return`Too big: expected ${Y.origin??"value"} to have ${$}${Y.maximum.toString()} ${z.unit??"elements"}`;return`Too big: expected ${Y.origin??"value"} to be ${$}${Y.maximum.toString()}`}case"too_small":{let $=Y.inclusive?">=":">",z=Z(Y.origin);if(z)return`Too small: expected ${Y.origin} to have ${$}${Y.minimum.toString()} ${z.unit}`;return`Too small: expected ${Y.origin} to be ${$}${Y.minimum.toString()}`}case"invalid_format":{let $=Y;if($.format==="starts_with")return`Invalid string: must start with "${$.prefix}"`;if($.format==="ends_with")return`Invalid string: must end with "${$.suffix}"`;if($.format==="includes")return`Invalid string: must include "${$.includes}"`;if($.format==="regex")return`Invalid string: must match pattern ${$.pattern}`;return`Invalid ${X[$.format]??Y.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${Y.divisor}`;case"unrecognized_keys":return`Unrecognized key${Y.keys.length>1?"s":""}: ${O1(Y.keys,", ")}`;case"invalid_key":return`Invalid key in ${Y.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${Y.origin}`;default:return"Invalid input"}}};function kP(){return{localeError:HP4()}}var FP4=(J)=>{let Z=typeof J;switch(Z){case"number":return Number.isNaN(J)?"NaN":"nombro";case"object":{if(Array.isArray(J))return"tabelo";if(J===null)return"senvalora";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Z},UP4=()=>{let J={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function Z(Y){return J[Y]??null}let X={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return(Y)=>{switch(Y.code){case"invalid_type":return`Nevalida enigo: atendi\u011Dis ${Y.expected}, ricevi\u011Dis ${FP4(Y.input)}`;case"invalid_value":if(Y.values.length===1)return`Nevalida enigo: atendi\u011Dis ${k1(Y.values[0])}`;return`Nevalida opcio: atendi\u011Dis unu el ${O1(Y.values,"|")}`;case"too_big":{let $=Y.inclusive?"<=":"<",z=Z(Y.origin);if(z)return`Tro granda: atendi\u011Dis ke ${Y.origin??"valoro"} havu ${$}${Y.maximum.toString()} ${z.unit??"elementojn"}`;return`Tro granda: atendi\u011Dis ke ${Y.origin??"valoro"} havu ${$}${Y.maximum.toString()}`}case"too_small":{let $=Y.inclusive?">=":">",z=Z(Y.origin);if(z)return`Tro malgranda: atendi\u011Dis ke ${Y.origin} havu ${$}${Y.minimum.toString()} ${z.unit}`;return`Tro malgranda: atendi\u011Dis ke ${Y.origin} estu ${$}${Y.minimum.toString()}`}case"invalid_format":{let $=Y;if($.format==="starts_with")return`Nevalida karaktraro: devas komenci\u011Di per "${$.prefix}"`;if($.format==="ends_with")return`Nevalida karaktraro: devas fini\u011Di per "${$.suffix}"`;if($.format==="includes")return`Nevalida karaktraro: devas inkluzivi "${$.includes}"`;if($.format==="regex")return`Nevalida karaktraro: devas kongrui kun la modelo ${$.pattern}`;return`Nevalida ${X[$.format]??Y.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${Y.divisor}`;case"unrecognized_keys":return`Nekonata${Y.keys.length>1?"j":""} \u015Dlosilo${Y.keys.length>1?"j":""}: ${O1(Y.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${Y.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${Y.origin}`;default:return"Nevalida enigo"}}};function Z01(){return{localeError:UP4()}}var OP4=()=>{let J={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"n\xFAmero";case"object":{if(Array.isArray($))return"arreglo";if($===null)return"nulo";if(Object.getPrototypeOf($)!==Object.prototype)return $.constructor.name}}return z},Y={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return($)=>{switch($.code){case"invalid_type":return`Entrada inv\xE1lida: se esperaba ${$.expected}, recibido ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Entrada inv\xE1lida: se esperaba ${k1($.values[0])}`;return`Opci\xF3n inv\xE1lida: se esperaba una de ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`Demasiado grande: se esperaba que ${$.origin??"valor"} tuviera ${z}${$.maximum.toString()} ${W.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${$.origin??"valor"} fuera ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`Demasiado peque\xF1o: se esperaba que ${$.origin} tuviera ${z}${$.minimum.toString()} ${W.unit}`;return`Demasiado peque\xF1o: se esperaba que ${$.origin} fuera ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Cadena inv\xE1lida: debe comenzar con "${z.prefix}"`;if(z.format==="ends_with")return`Cadena inv\xE1lida: debe terminar en "${z.suffix}"`;if(z.format==="includes")return`Cadena inv\xE1lida: debe incluir "${z.includes}"`;if(z.format==="regex")return`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${z.pattern}`;return`Inv\xE1lido ${Y[z.format]??$.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${$.divisor}`;case"unrecognized_keys":return`Llave${$.keys.length>1?"s":""} desconocida${$.keys.length>1?"s":""}: ${O1($.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${$.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${$.origin}`;default:return"Entrada inv\xE1lida"}}};function X01(){return{localeError:OP4()}}var DP4=()=>{let J={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray($))return"\u0622\u0631\u0627\u06CC\u0647";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"};return($)=>{switch($.code){case"invalid_type":return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${$.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${X($.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;case"invalid_value":if($.values.length===1)return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${k1($.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`;return`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${O1($.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${$.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${z}${$.maximum.toString()} ${W.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`;return`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${$.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${z}${$.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${$.origin} \u0628\u0627\u06CC\u062F ${z}${$.minimum.toString()} ${W.unit} \u0628\u0627\u0634\u062F`;return`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${$.origin} \u0628\u0627\u06CC\u062F ${z}${$.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${z.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`;if(z.format==="ends_with")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${z.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`;if(z.format==="includes")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${z.includes}" \u0628\u0627\u0634\u062F`;if(z.format==="regex")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${z.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`;return`${Y[z.format]??$.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${$.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${$.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${O1($.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${$.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${$.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}};function Y01(){return{localeError:DP4()}}var VP4=()=>{let J={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return($)=>{switch($.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${$.expected}, oli ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Virheellinen sy\xF6te: t\xE4ytyy olla ${k1($.values[0])}`;return`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`Liian suuri: ${W.subject} t\xE4ytyy olla ${z}${$.maximum.toString()} ${W.unit}`.trim();return`Liian suuri: arvon t\xE4ytyy olla ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`Liian pieni: ${W.subject} t\xE4ytyy olla ${z}${$.minimum.toString()} ${W.unit}`.trim();return`Liian pieni: arvon t\xE4ytyy olla ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${z.prefix}"`;if(z.format==="ends_with")return`Virheellinen sy\xF6te: t\xE4ytyy loppua "${z.suffix}"`;if(z.format==="includes")return`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${z.includes}"`;if(z.format==="regex")return`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${z.pattern}`;return`Virheellinen ${Y[z.format]??$.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${$.divisor} monikerta`;case"unrecognized_keys":return`${$.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${O1($.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}};function $01(){return{localeError:VP4()}}var IP4=()=>{let J={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"nombre";case"object":{if(Array.isArray($))return"tableau";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return($)=>{switch($.code){case"invalid_type":return`Entr\xE9e invalide : ${$.expected} attendu, ${X($.input)} re\xE7u`;case"invalid_value":if($.values.length===1)return`Entr\xE9e invalide : ${k1($.values[0])} attendu`;return`Option invalide : une valeur parmi ${O1($.values,"|")} attendue`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`Trop grand : ${$.origin??"valeur"} doit ${W.verb} ${z}${$.maximum.toString()} ${W.unit??"\xE9l\xE9ment(s)"}`;return`Trop grand : ${$.origin??"valeur"} doit \xEAtre ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`Trop petit : ${$.origin} doit ${W.verb} ${z}${$.minimum.toString()} ${W.unit}`;return`Trop petit : ${$.origin} doit \xEAtre ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Cha\xEEne invalide : doit commencer par "${z.prefix}"`;if(z.format==="ends_with")return`Cha\xEEne invalide : doit se terminer par "${z.suffix}"`;if(z.format==="includes")return`Cha\xEEne invalide : doit inclure "${z.includes}"`;if(z.format==="regex")return`Cha\xEEne invalide : doit correspondre au mod\xE8le ${z.pattern}`;return`${Y[z.format]??$.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${$.divisor}`;case"unrecognized_keys":return`Cl\xE9${$.keys.length>1?"s":""} non reconnue${$.keys.length>1?"s":""} : ${O1($.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${$.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${$.origin}`;default:return"Entr\xE9e invalide"}}};function z01(){return{localeError:IP4()}}var wP4=()=>{let J={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return($)=>{switch($.code){case"invalid_type":return`Entr\xE9e invalide : attendu ${$.expected}, re\xE7u ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Entr\xE9e invalide : attendu ${k1($.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"\u2264":"<",W=Z($.origin);if(W)return`Trop grand : attendu que ${$.origin??"la valeur"} ait ${z}${$.maximum.toString()} ${W.unit}`;return`Trop grand : attendu que ${$.origin??"la valeur"} soit ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?"\u2265":">",W=Z($.origin);if(W)return`Trop petit : attendu que ${$.origin} ait ${z}${$.minimum.toString()} ${W.unit}`;return`Trop petit : attendu que ${$.origin} soit ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Cha\xEEne invalide : doit commencer par "${z.prefix}"`;if(z.format==="ends_with")return`Cha\xEEne invalide : doit se terminer par "${z.suffix}"`;if(z.format==="includes")return`Cha\xEEne invalide : doit inclure "${z.includes}"`;if(z.format==="regex")return`Cha\xEEne invalide : doit correspondre au motif ${z.pattern}`;return`${Y[z.format]??$.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${$.divisor}`;case"unrecognized_keys":return`Cl\xE9${$.keys.length>1?"s":""} non reconnue${$.keys.length>1?"s":""} : ${O1($.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${$.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${$.origin}`;default:return"Entr\xE9e invalide"}}};function W01(){return{localeError:wP4()}}var AP4=()=>{let J={string:{unit:"\u05D0\u05D5\u05EA\u05D9\u05D5\u05EA",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u05E7\u05DC\u05D8",email:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",url:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",emoji:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",date:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",time:"\u05D6\u05DE\u05DF ISO",duration:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",ipv4:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",ipv6:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",cidrv4:"\u05D8\u05D5\u05D5\u05D7 IPv4",cidrv6:"\u05D8\u05D5\u05D5\u05D7 IPv6",base64:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",base64url:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",json_string:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",e164:"\u05DE\u05E1\u05E4\u05E8 E.164",jwt:"JWT",template_literal:"\u05E7\u05DC\u05D8"};return($)=>{switch($.code){case"invalid_type":return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${$.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${X($.input)}`;case"invalid_value":if($.values.length===1)return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${k1($.values[0])}`;return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05D0\u05D7\u05EA \u05DE\u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA  ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${$.origin??"value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${z}${$.maximum.toString()} ${W.unit??"elements"}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${$.origin??"value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${$.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${z}${$.minimum.toString()} ${W.unit}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${$.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1"${z.prefix}"`;if(z.format==="ends_with")return`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${z.suffix}"`;if(z.format==="includes")return`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${z.includes}"`;if(z.format==="regex")return`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${z.pattern}`;return`${Y[z.format]??$.format} \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${$.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${$.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${$.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${O1($.keys,", ")}`;case"invalid_key":return`\u05DE\u05E4\u05EA\u05D7 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${$.origin}`;case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${$.origin}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}};function Q01(){return{localeError:AP4()}}var MP4=()=>{let J={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"sz\xE1m";case"object":{if(Array.isArray($))return"t\xF6mb";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"};return($)=>{switch($.code){case"invalid_type":return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${$.expected}, a kapott \xE9rt\xE9k ${X($.input)}`;case"invalid_value":if($.values.length===1)return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${k1($.values[0])}`;return`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`T\xFAl nagy: ${$.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${z}${$.maximum.toString()} ${W.unit??"elem"}`;return`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${$.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${$.origin} m\xE9rete t\xFAl kicsi ${z}${$.minimum.toString()} ${W.unit}`;return`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${$.origin} t\xFAl kicsi ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\xC9rv\xE9nytelen string: "${z.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`;if(z.format==="ends_with")return`\xC9rv\xE9nytelen string: "${z.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`;if(z.format==="includes")return`\xC9rv\xE9nytelen string: "${z.includes}" \xE9rt\xE9ket kell tartalmaznia`;if(z.format==="regex")return`\xC9rv\xE9nytelen string: ${z.pattern} mint\xE1nak kell megfelelnie`;return`\xC9rv\xE9nytelen ${Y[z.format]??$.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${$.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${$.keys.length>1?"s":""}: ${O1($.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${$.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${$.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}};function G01(){return{localeError:MP4()}}var NP4=()=>{let J={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return($)=>{switch($.code){case"invalid_type":return`Input tidak valid: diharapkan ${$.expected}, diterima ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Input tidak valid: diharapkan ${k1($.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`Terlalu besar: diharapkan ${$.origin??"value"} memiliki ${z}${$.maximum.toString()} ${W.unit??"elemen"}`;return`Terlalu besar: diharapkan ${$.origin??"value"} menjadi ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`Terlalu kecil: diharapkan ${$.origin} memiliki ${z}${$.minimum.toString()} ${W.unit}`;return`Terlalu kecil: diharapkan ${$.origin} menjadi ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`String tidak valid: harus dimulai dengan "${z.prefix}"`;if(z.format==="ends_with")return`String tidak valid: harus berakhir dengan "${z.suffix}"`;if(z.format==="includes")return`String tidak valid: harus menyertakan "${z.includes}"`;if(z.format==="regex")return`String tidak valid: harus sesuai pola ${z.pattern}`;return`${Y[z.format]??$.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${$.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${$.keys.length>1?"s":""}: ${O1($.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${$.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${$.origin}`;default:return"Input tidak valid"}}};function K01(){return{localeError:NP4()}}var PP4=(J)=>{let Z=typeof J;switch(Z){case"number":return Number.isNaN(J)?"NaN":"n\xFAmer";case"object":{if(Array.isArray(J))return"fylki";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Z},LP4=()=>{let J={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}};function Z(Y){return J[Y]??null}let X={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"};return(Y)=>{switch(Y.code){case"invalid_type":return`Rangt gildi: \xDE\xFA sl\xF3st inn ${PP4(Y.input)} \xFEar sem \xE1 a\xF0 vera ${Y.expected}`;case"invalid_value":if(Y.values.length===1)return`Rangt gildi: gert r\xE1\xF0 fyrir ${k1(Y.values[0])}`;return`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${O1(Y.values,"|")}`;case"too_big":{let $=Y.inclusive?"<=":"<",z=Z(Y.origin);if(z)return`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${Y.origin??"gildi"} hafi ${$}${Y.maximum.toString()} ${z.unit??"hluti"}`;return`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${Y.origin??"gildi"} s\xE9 ${$}${Y.maximum.toString()}`}case"too_small":{let $=Y.inclusive?">=":">",z=Z(Y.origin);if(z)return`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${Y.origin} hafi ${$}${Y.minimum.toString()} ${z.unit}`;return`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${Y.origin} s\xE9 ${$}${Y.minimum.toString()}`}case"invalid_format":{let $=Y;if($.format==="starts_with")return`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${$.prefix}"`;if($.format==="ends_with")return`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${$.suffix}"`;if($.format==="includes")return`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${$.includes}"`;if($.format==="regex")return`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${$.pattern}`;return`Rangt ${X[$.format]??Y.format}`}case"not_multiple_of":return`R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${Y.divisor}`;case"unrecognized_keys":return`\xD3\xFEekkt ${Y.keys.length>1?"ir lyklar":"ur lykill"}: ${O1(Y.keys,", ")}`;case"invalid_key":return`Rangur lykill \xED ${Y.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi \xED ${Y.origin}`;default:return"Rangt gildi"}}};function q01(){return{localeError:LP4()}}var CP4=()=>{let J={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"numero";case"object":{if(Array.isArray($))return"vettore";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return($)=>{switch($.code){case"invalid_type":return`Input non valido: atteso ${$.expected}, ricevuto ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Input non valido: atteso ${k1($.values[0])}`;return`Opzione non valida: atteso uno tra ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`Troppo grande: ${$.origin??"valore"} deve avere ${z}${$.maximum.toString()} ${W.unit??"elementi"}`;return`Troppo grande: ${$.origin??"valore"} deve essere ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`Troppo piccolo: ${$.origin} deve avere ${z}${$.minimum.toString()} ${W.unit}`;return`Troppo piccolo: ${$.origin} deve essere ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Stringa non valida: deve iniziare con "${z.prefix}"`;if(z.format==="ends_with")return`Stringa non valida: deve terminare con "${z.suffix}"`;if(z.format==="includes")return`Stringa non valida: deve includere "${z.includes}"`;if(z.format==="regex")return`Stringa non valida: deve corrispondere al pattern ${z.pattern}`;return`Invalid ${Y[z.format]??$.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${$.divisor}`;case"unrecognized_keys":return`Chiav${$.keys.length>1?"i":"e"} non riconosciut${$.keys.length>1?"e":"a"}: ${O1($.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${$.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${$.origin}`;default:return"Input non valido"}}};function B01(){return{localeError:CP4()}}var jP4=()=>{let J={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"\u6570\u5024";case"object":{if(Array.isArray($))return"\u914D\u5217";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"};return($)=>{switch($.code){case"invalid_type":return`\u7121\u52B9\u306A\u5165\u529B: ${$.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${X($.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;case"invalid_value":if($.values.length===1)return`\u7121\u52B9\u306A\u5165\u529B: ${k1($.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`;return`\u7121\u52B9\u306A\u9078\u629E: ${O1($.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let z=$.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",W=Z($.origin);if(W)return`\u5927\u304D\u3059\u304E\u308B\u5024: ${$.origin??"\u5024"}\u306F${$.maximum.toString()}${W.unit??"\u8981\u7D20"}${z}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;return`\u5927\u304D\u3059\u304E\u308B\u5024: ${$.origin??"\u5024"}\u306F${$.maximum.toString()}${z}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let z=$.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",W=Z($.origin);if(W)return`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${$.origin}\u306F${$.minimum.toString()}${W.unit}${z}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;return`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${$.origin}\u306F${$.minimum.toString()}${z}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${z.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;if(z.format==="ends_with")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${z.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;if(z.format==="includes")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${z.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;if(z.format==="regex")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${z.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;return`\u7121\u52B9\u306A${Y[z.format]??$.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${$.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${$.keys.length>1?"\u7FA4":""}: ${O1($.keys,"\u3001")}`;case"invalid_key":return`${$.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${$.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}};function H01(){return{localeError:jP4()}}var RP4=()=>{let J={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)":"\u179B\u17C1\u1781";case"object":{if(Array.isArray($))return"\u17A2\u17B6\u179A\u17C1 (Array)";if($===null)return"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"};return($)=>{switch($.code){case"invalid_type":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${$.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${X($.input)}`;case"invalid_value":if($.values.length===1)return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${k1($.values[0])}`;return`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${$.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${z} ${$.maximum.toString()} ${W.unit??"\u1792\u17B6\u178F\u17BB"}`;return`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${$.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${z} ${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${$.origin} ${z} ${$.minimum.toString()} ${W.unit}`;return`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${$.origin} ${z} ${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${z.prefix}"`;if(z.format==="ends_with")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${z.suffix}"`;if(z.format==="includes")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${z.includes}"`;if(z.format==="regex")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${z.pattern}`;return`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${Y[z.format]??$.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${$.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${O1($.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${$.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${$.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}};function F01(){return{localeError:RP4()}}var EP4=()=>{let J={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"};return($)=>{switch($.code){case"invalid_type":return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${$.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${X($.input)}\uC785\uB2C8\uB2E4`;case"invalid_value":if($.values.length===1)return`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${k1($.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`;return`\uC798\uBABB\uB41C \uC635\uC158: ${O1($.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let z=$.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",W=z==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",Q=Z($.origin),G=Q?.unit??"\uC694\uC18C";if(Q)return`${$.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${$.maximum.toString()}${G} ${z}${W}`;return`${$.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${$.maximum.toString()} ${z}${W}`}case"too_small":{let z=$.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",W=z==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",Q=Z($.origin),G=Q?.unit??"\uC694\uC18C";if(Q)return`${$.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${$.minimum.toString()}${G} ${z}${W}`;return`${$.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${$.minimum.toString()} ${z}${W}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${z.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`;if(z.format==="ends_with")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${z.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`;if(z.format==="includes")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${z.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`;if(z.format==="regex")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${z.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`;return`\uC798\uBABB\uB41C ${Y[z.format]??$.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${$.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${O1($.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${$.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${$.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}};function U01(){return{localeError:EP4()}}var SP4=()=>{let J={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"\u0431\u0440\u043E\u0458";case"object":{if(Array.isArray($))return"\u043D\u0438\u0437\u0430";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"};return($)=>{switch($.code){case"invalid_type":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${$.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Invalid input: expected ${k1($.values[0])}`;return`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${$.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${z}${$.maximum.toString()} ${W.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`;return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${$.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${$.origin} \u0434\u0430 \u0438\u043C\u0430 ${z}${$.minimum.toString()} ${W.unit}`;return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${$.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${z.prefix}"`;if(z.format==="ends_with")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${z.suffix}"`;if(z.format==="includes")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${z.includes}"`;if(z.format==="regex")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${z.pattern}`;return`Invalid ${Y[z.format]??$.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${$.divisor}`;case"unrecognized_keys":return`${$.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${O1($.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${$.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${$.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}};function O01(){return{localeError:SP4()}}var TP4=()=>{let J={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"nombor";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return($)=>{switch($.code){case"invalid_type":return`Input tidak sah: dijangka ${$.expected}, diterima ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Input tidak sah: dijangka ${k1($.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`Terlalu besar: dijangka ${$.origin??"nilai"} ${W.verb} ${z}${$.maximum.toString()} ${W.unit??"elemen"}`;return`Terlalu besar: dijangka ${$.origin??"nilai"} adalah ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`Terlalu kecil: dijangka ${$.origin} ${W.verb} ${z}${$.minimum.toString()} ${W.unit}`;return`Terlalu kecil: dijangka ${$.origin} adalah ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`String tidak sah: mesti bermula dengan "${z.prefix}"`;if(z.format==="ends_with")return`String tidak sah: mesti berakhir dengan "${z.suffix}"`;if(z.format==="includes")return`String tidak sah: mesti mengandungi "${z.includes}"`;if(z.format==="regex")return`String tidak sah: mesti sepadan dengan corak ${z.pattern}`;return`${Y[z.format]??$.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${$.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${O1($.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${$.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${$.origin}`;default:return"Input tidak sah"}}};function D01(){return{localeError:TP4()}}var fP4=()=>{let J={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"getal";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return($)=>{switch($.code){case"invalid_type":return`Ongeldige invoer: verwacht ${$.expected}, ontving ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Ongeldige invoer: verwacht ${k1($.values[0])}`;return`Ongeldige optie: verwacht \xE9\xE9n van ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`Te lang: verwacht dat ${$.origin??"waarde"} ${z}${$.maximum.toString()} ${W.unit??"elementen"} bevat`;return`Te lang: verwacht dat ${$.origin??"waarde"} ${z}${$.maximum.toString()} is`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`Te kort: verwacht dat ${$.origin} ${z}${$.minimum.toString()} ${W.unit} bevat`;return`Te kort: verwacht dat ${$.origin} ${z}${$.minimum.toString()} is`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Ongeldige tekst: moet met "${z.prefix}" beginnen`;if(z.format==="ends_with")return`Ongeldige tekst: moet op "${z.suffix}" eindigen`;if(z.format==="includes")return`Ongeldige tekst: moet "${z.includes}" bevatten`;if(z.format==="regex")return`Ongeldige tekst: moet overeenkomen met patroon ${z.pattern}`;return`Ongeldig: ${Y[z.format]??$.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${$.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${$.keys.length>1?"s":""}: ${O1($.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${$.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${$.origin}`;default:return"Ongeldige invoer"}}};function V01(){return{localeError:fP4()}}var kP4=()=>{let J={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"tall";case"object":{if(Array.isArray($))return"liste";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return($)=>{switch($.code){case"invalid_type":return`Ugyldig input: forventet ${$.expected}, fikk ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Ugyldig verdi: forventet ${k1($.values[0])}`;return`Ugyldig valg: forventet en av ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`For stor(t): forventet ${$.origin??"value"} til \xE5 ha ${z}${$.maximum.toString()} ${W.unit??"elementer"}`;return`For stor(t): forventet ${$.origin??"value"} til \xE5 ha ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`For lite(n): forventet ${$.origin} til \xE5 ha ${z}${$.minimum.toString()} ${W.unit}`;return`For lite(n): forventet ${$.origin} til \xE5 ha ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Ugyldig streng: m\xE5 starte med "${z.prefix}"`;if(z.format==="ends_with")return`Ugyldig streng: m\xE5 ende med "${z.suffix}"`;if(z.format==="includes")return`Ugyldig streng: m\xE5 inneholde "${z.includes}"`;if(z.format==="regex")return`Ugyldig streng: m\xE5 matche m\xF8nsteret ${z.pattern}`;return`Ugyldig ${Y[z.format]??$.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${$.divisor}`;case"unrecognized_keys":return`${$.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${O1($.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${$.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${$.origin}`;default:return"Ugyldig input"}}};function I01(){return{localeError:kP4()}}var bP4=()=>{let J={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"numara";case"object":{if(Array.isArray($))return"saf";if($===null)return"gayb";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"};return($)=>{switch($.code){case"invalid_type":return`F\xE2sit giren: umulan ${$.expected}, al\u0131nan ${X($.input)}`;case"invalid_value":if($.values.length===1)return`F\xE2sit giren: umulan ${k1($.values[0])}`;return`F\xE2sit tercih: m\xFBteberler ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`Fazla b\xFCy\xFCk: ${$.origin??"value"}, ${z}${$.maximum.toString()} ${W.unit??"elements"} sahip olmal\u0131yd\u0131.`;return`Fazla b\xFCy\xFCk: ${$.origin??"value"}, ${z}${$.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`Fazla k\xFC\xE7\xFCk: ${$.origin}, ${z}${$.minimum.toString()} ${W.unit} sahip olmal\u0131yd\u0131.`;return`Fazla k\xFC\xE7\xFCk: ${$.origin}, ${z}${$.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`F\xE2sit metin: "${z.prefix}" ile ba\u015Flamal\u0131.`;if(z.format==="ends_with")return`F\xE2sit metin: "${z.suffix}" ile bitmeli.`;if(z.format==="includes")return`F\xE2sit metin: "${z.includes}" ihtiv\xE2 etmeli.`;if(z.format==="regex")return`F\xE2sit metin: ${z.pattern} nak\u015F\u0131na uymal\u0131.`;return`F\xE2sit ${Y[z.format]??$.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${$.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${$.keys.length>1?"s":""}: ${O1($.keys,", ")}`;case"invalid_key":return`${$.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${$.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}};function w01(){return{localeError:bP4()}}var hP4=()=>{let J={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray($))return"\u0627\u0631\u06D0";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"};return($)=>{switch($.code){case"invalid_type":return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${$.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${X($.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;case"invalid_value":if($.values.length===1)return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${k1($.values[0])} \u0648\u0627\u06CC`;return`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${O1($.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${$.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${z}${$.maximum.toString()} ${W.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`;return`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${$.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${z}${$.maximum.toString()} \u0648\u064A`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${$.origin} \u0628\u0627\u06CC\u062F ${z}${$.minimum.toString()} ${W.unit} \u0648\u0644\u0631\u064A`;return`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${$.origin} \u0628\u0627\u06CC\u062F ${z}${$.minimum.toString()} \u0648\u064A`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${z.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`;if(z.format==="ends_with")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${z.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`;if(z.format==="includes")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${z.includes}" \u0648\u0644\u0631\u064A`;if(z.format==="regex")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${z.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`;return`${Y[z.format]??$.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${$.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${$.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${O1($.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${$.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${$.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}};function A01(){return{localeError:hP4()}}var _P4=()=>{let J={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"liczba";case"object":{if(Array.isArray($))return"tablica";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"};return($)=>{switch($.code){case"invalid_type":return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${$.expected}, otrzymano ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${k1($.values[0])}`;return`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${$.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${z}${$.maximum.toString()} ${W.unit??"element\xF3w"}`;return`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${$.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${$.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${z}${$.minimum.toString()} ${W.unit??"element\xF3w"}`;return`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${$.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${z.prefix}"`;if(z.format==="ends_with")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${z.suffix}"`;if(z.format==="includes")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${z.includes}"`;if(z.format==="regex")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${z.pattern}`;return`Nieprawid\u0142ow(y/a/e) ${Y[z.format]??$.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${$.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${$.keys.length>1?"s":""}: ${O1($.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${$.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${$.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}};function M01(){return{localeError:_P4()}}var yP4=()=>{let J={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"n\xFAmero";case"object":{if(Array.isArray($))return"array";if($===null)return"nulo";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return($)=>{switch($.code){case"invalid_type":return`Tipo inv\xE1lido: esperado ${$.expected}, recebido ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Entrada inv\xE1lida: esperado ${k1($.values[0])}`;return`Op\xE7\xE3o inv\xE1lida: esperada uma das ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`Muito grande: esperado que ${$.origin??"valor"} tivesse ${z}${$.maximum.toString()} ${W.unit??"elementos"}`;return`Muito grande: esperado que ${$.origin??"valor"} fosse ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`Muito pequeno: esperado que ${$.origin} tivesse ${z}${$.minimum.toString()} ${W.unit}`;return`Muito pequeno: esperado que ${$.origin} fosse ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Texto inv\xE1lido: deve come\xE7ar com "${z.prefix}"`;if(z.format==="ends_with")return`Texto inv\xE1lido: deve terminar com "${z.suffix}"`;if(z.format==="includes")return`Texto inv\xE1lido: deve incluir "${z.includes}"`;if(z.format==="regex")return`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${z.pattern}`;return`${Y[z.format]??$.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${$.divisor}`;case"unrecognized_keys":return`Chave${$.keys.length>1?"s":""} desconhecida${$.keys.length>1?"s":""}: ${O1($.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${$.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${$.origin}`;default:return"Campo inv\xE1lido"}}};function N01(){return{localeError:yP4()}}function wg1(J,Z,X,Y){let $=Math.abs(J),z=$%10,W=$%100;if(W>=11&&W<=19)return Y;if(z===1)return Z;if(z>=2&&z<=4)return X;return Y}var vP4=()=>{let J={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray($))return"\u043C\u0430\u0441\u0441\u0438\u0432";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"};return($)=>{switch($.code){case"invalid_type":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${$.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${X($.input)}`;case"invalid_value":if($.values.length===1)return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${k1($.values[0])}`;return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W){let Q=Number($.maximum),G=wg1(Q,W.unit.one,W.unit.few,W.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${$.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${z}${$.maximum.toString()} ${G}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${$.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W){let Q=Number($.minimum),G=wg1(Q,W.unit.one,W.unit.few,W.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${$.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${z}${$.minimum.toString()} ${G}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${$.origin} \u0431\u0443\u0434\u0435\u0442 ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${z.prefix}"`;if(z.format==="ends_with")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${z.suffix}"`;if(z.format==="includes")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${z.includes}"`;if(z.format==="regex")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${z.pattern}`;return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${Y[z.format]??$.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${$.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${$.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${$.keys.length>1?"\u0438":""}: ${O1($.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${$.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${$.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}};function P01(){return{localeError:vP4()}}var xP4=()=>{let J={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"\u0161tevilo";case"object":{if(Array.isArray($))return"tabela";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"};return($)=>{switch($.code){case"invalid_type":return`Neveljaven vnos: pri\u010Dakovano ${$.expected}, prejeto ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Neveljaven vnos: pri\u010Dakovano ${k1($.values[0])}`;return`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`Preveliko: pri\u010Dakovano, da bo ${$.origin??"vrednost"} imelo ${z}${$.maximum.toString()} ${W.unit??"elementov"}`;return`Preveliko: pri\u010Dakovano, da bo ${$.origin??"vrednost"} ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`Premajhno: pri\u010Dakovano, da bo ${$.origin} imelo ${z}${$.minimum.toString()} ${W.unit}`;return`Premajhno: pri\u010Dakovano, da bo ${$.origin} ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Neveljaven niz: mora se za\u010Deti z "${z.prefix}"`;if(z.format==="ends_with")return`Neveljaven niz: mora se kon\u010Dati z "${z.suffix}"`;if(z.format==="includes")return`Neveljaven niz: mora vsebovati "${z.includes}"`;if(z.format==="regex")return`Neveljaven niz: mora ustrezati vzorcu ${z.pattern}`;return`Neveljaven ${Y[z.format]??$.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${$.divisor}`;case"unrecognized_keys":return`Neprepoznan${$.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${O1($.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${$.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${$.origin}`;default:return"Neveljaven vnos"}}};function L01(){return{localeError:xP4()}}var gP4=()=>{let J={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"antal";case"object":{if(Array.isArray($))return"lista";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return($)=>{switch($.code){case"invalid_type":return`Ogiltig inmatning: f\xF6rv\xE4ntat ${$.expected}, fick ${X($.input)}`;case"invalid_value":if($.values.length===1)return`Ogiltig inmatning: f\xF6rv\xE4ntat ${k1($.values[0])}`;return`Ogiltigt val: f\xF6rv\xE4ntade en av ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`F\xF6r stor(t): f\xF6rv\xE4ntade ${$.origin??"v\xE4rdet"} att ha ${z}${$.maximum.toString()} ${W.unit??"element"}`;return`F\xF6r stor(t): f\xF6rv\xE4ntat ${$.origin??"v\xE4rdet"} att ha ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`F\xF6r lite(t): f\xF6rv\xE4ntade ${$.origin??"v\xE4rdet"} att ha ${z}${$.minimum.toString()} ${W.unit}`;return`F\xF6r lite(t): f\xF6rv\xE4ntade ${$.origin??"v\xE4rdet"} att ha ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${z.prefix}"`;if(z.format==="ends_with")return`Ogiltig str\xE4ng: m\xE5ste sluta med "${z.suffix}"`;if(z.format==="includes")return`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${z.includes}"`;if(z.format==="regex")return`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${z.pattern}"`;return`Ogiltig(t) ${Y[z.format]??$.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${$.divisor}`;case"unrecognized_keys":return`${$.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${O1($.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${$.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${$.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}};function C01(){return{localeError:gP4()}}var dP4=()=>{let J={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1":"\u0B8E\u0BA3\u0BCD";case"object":{if(Array.isArray($))return"\u0B85\u0BA3\u0BBF";if($===null)return"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"};return($)=>{switch($.code){case"invalid_type":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${$.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${X($.input)}`;case"invalid_value":if($.values.length===1)return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${k1($.values[0])}`;return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${O1($.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${$.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${z}${$.maximum.toString()} ${W.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;return`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${$.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${z}${$.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${$.origin} ${z}${$.minimum.toString()} ${W.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;return`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${$.origin} ${z}${$.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${z.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;if(z.format==="ends_with")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${z.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;if(z.format==="includes")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${z.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;if(z.format==="regex")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${z.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${Y[z.format]??$.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${$.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${$.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${O1($.keys,", ")}`;case"invalid_key":return`${$.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${$.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}};function j01(){return{localeError:dP4()}}var uP4=()=>{let J={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";case"object":{if(Array.isArray($))return"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";if($===null)return"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"};return($)=>{switch($.code){case"invalid_type":return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${$.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${X($.input)}`;case"invalid_value":if($.values.length===1)return`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${k1($.values[0])}`;return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",W=Z($.origin);if(W)return`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${$.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${z} ${$.maximum.toString()} ${W.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`;return`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${$.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${z} ${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",W=Z($.origin);if(W)return`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${$.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${z} ${$.minimum.toString()} ${W.unit}`;return`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${$.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${z} ${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${z.prefix}"`;if(z.format==="ends_with")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${z.suffix}"`;if(z.format==="includes")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${z.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`;if(z.format==="regex")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${z.pattern}`;return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${Y[z.format]??$.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${$.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${O1($.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${$.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${$.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}};function R01(){return{localeError:uP4()}}var mP4=(J)=>{let Z=typeof J;switch(Z){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Z},cP4=()=>{let J={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function Z(Y){return J[Y]??null}let X={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"};return(Y)=>{switch(Y.code){case"invalid_type":return`Ge\xE7ersiz de\u011Fer: beklenen ${Y.expected}, al\u0131nan ${mP4(Y.input)}`;case"invalid_value":if(Y.values.length===1)return`Ge\xE7ersiz de\u011Fer: beklenen ${k1(Y.values[0])}`;return`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${O1(Y.values,"|")}`;case"too_big":{let $=Y.inclusive?"<=":"<",z=Z(Y.origin);if(z)return`\xC7ok b\xFCy\xFCk: beklenen ${Y.origin??"de\u011Fer"} ${$}${Y.maximum.toString()} ${z.unit??"\xF6\u011Fe"}`;return`\xC7ok b\xFCy\xFCk: beklenen ${Y.origin??"de\u011Fer"} ${$}${Y.maximum.toString()}`}case"too_small":{let $=Y.inclusive?">=":">",z=Z(Y.origin);if(z)return`\xC7ok k\xFC\xE7\xFCk: beklenen ${Y.origin} ${$}${Y.minimum.toString()} ${z.unit}`;return`\xC7ok k\xFC\xE7\xFCk: beklenen ${Y.origin} ${$}${Y.minimum.toString()}`}case"invalid_format":{let $=Y;if($.format==="starts_with")return`Ge\xE7ersiz metin: "${$.prefix}" ile ba\u015Flamal\u0131`;if($.format==="ends_with")return`Ge\xE7ersiz metin: "${$.suffix}" ile bitmeli`;if($.format==="includes")return`Ge\xE7ersiz metin: "${$.includes}" i\xE7ermeli`;if($.format==="regex")return`Ge\xE7ersiz metin: ${$.pattern} desenine uymal\u0131`;return`Ge\xE7ersiz ${X[$.format]??Y.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${Y.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${Y.keys.length>1?"lar":""}: ${O1(Y.keys,", ")}`;case"invalid_key":return`${Y.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${Y.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}};function E01(){return{localeError:cP4()}}var lP4=()=>{let J={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray($))return"\u043C\u0430\u0441\u0438\u0432";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"};return($)=>{switch($.code){case"invalid_type":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${$.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${X($.input)}`;case"invalid_value":if($.values.length===1)return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${k1($.values[0])}`;return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${$.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${W.verb} ${z}${$.maximum.toString()} ${W.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`;return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${$.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${$.origin} ${W.verb} ${z}${$.minimum.toString()} ${W.unit}`;return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${$.origin} \u0431\u0443\u0434\u0435 ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${z.prefix}"`;if(z.format==="ends_with")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${z.suffix}"`;if(z.format==="includes")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${z.includes}"`;if(z.format==="regex")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${z.pattern}`;return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${Y[z.format]??$.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${$.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${$.keys.length>1?"\u0456":""}: ${O1($.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${$.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${$.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}};function S01(){return{localeError:lP4()}}var pP4=()=>{let J={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"\u0646\u0645\u0628\u0631";case"object":{if(Array.isArray($))return"\u0622\u0631\u06D2";if($===null)return"\u0646\u0644";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"};return($)=>{switch($.code){case"invalid_type":return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${$.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${X($.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;case"invalid_value":if($.values.length===1)return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${k1($.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;return`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${O1($.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`\u0628\u06C1\u062A \u0628\u0691\u0627: ${$.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${z}${$.maximum.toString()} ${W.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;return`\u0628\u06C1\u062A \u0628\u0691\u0627: ${$.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${z}${$.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${$.origin} \u06A9\u06D2 ${z}${$.minimum.toString()} ${W.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;return`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${$.origin} \u06A9\u0627 ${z}${$.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${z.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;if(z.format==="ends_with")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${z.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;if(z.format==="includes")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${z.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;if(z.format==="regex")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${z.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;return`\u063A\u0644\u0637 ${Y[z.format]??$.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${$.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${$.keys.length>1?"\u0632":""}: ${O1($.keys,"\u060C ")}`;case"invalid_key":return`${$.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${$.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}};function T01(){return{localeError:pP4()}}var nP4=()=>{let J={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"s\u1ED1";case"object":{if(Array.isArray($))return"m\u1EA3ng";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"};return($)=>{switch($.code){case"invalid_type":return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${$.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${X($.input)}`;case"invalid_value":if($.values.length===1)return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${k1($.values[0])}`;return`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${$.origin??"gi\xE1 tr\u1ECB"} ${W.verb} ${z}${$.maximum.toString()} ${W.unit??"ph\u1EA7n t\u1EED"}`;return`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${$.origin??"gi\xE1 tr\u1ECB"} ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${$.origin} ${W.verb} ${z}${$.minimum.toString()} ${W.unit}`;return`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${$.origin} ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${z.prefix}"`;if(z.format==="ends_with")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${z.suffix}"`;if(z.format==="includes")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${z.includes}"`;if(z.format==="regex")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${z.pattern}`;return`${Y[z.format]??$.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${$.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${O1($.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${$.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${$.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}};function f01(){return{localeError:nP4()}}var iP4=()=>{let J={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"\u975E\u6570\u5B57(NaN)":"\u6570\u5B57";case"object":{if(Array.isArray($))return"\u6570\u7EC4";if($===null)return"\u7A7A\u503C(null)";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"};return($)=>{switch($.code){case"invalid_type":return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${$.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${X($.input)}`;case"invalid_value":if($.values.length===1)return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${k1($.values[0])}`;return`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${$.origin??"\u503C"} ${z}${$.maximum.toString()} ${W.unit??"\u4E2A\u5143\u7D20"}`;return`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${$.origin??"\u503C"} ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${$.origin} ${z}${$.minimum.toString()} ${W.unit}`;return`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${$.origin} ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${z.prefix}" \u5F00\u5934`;if(z.format==="ends_with")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${z.suffix}" \u7ED3\u5C3E`;if(z.format==="includes")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${z.includes}"`;if(z.format==="regex")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${z.pattern}`;return`\u65E0\u6548${Y[z.format]??$.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${$.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${O1($.keys,", ")}`;case"invalid_key":return`${$.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${$.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}};function k01(){return{localeError:iP4()}}var oP4=()=>{let J={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"};return($)=>{switch($.code){case"invalid_type":return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${$.expected}\uFF0C\u4F46\u6536\u5230 ${X($.input)}`;case"invalid_value":if($.values.length===1)return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${k1($.values[0])}`;return`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${$.origin??"\u503C"} \u61C9\u70BA ${z}${$.maximum.toString()} ${W.unit??"\u500B\u5143\u7D20"}`;return`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${$.origin??"\u503C"} \u61C9\u70BA ${z}${$.maximum.toString()}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${$.origin} \u61C9\u70BA ${z}${$.minimum.toString()} ${W.unit}`;return`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${$.origin} \u61C9\u70BA ${z}${$.minimum.toString()}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${z.prefix}" \u958B\u982D`;if(z.format==="ends_with")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${z.suffix}" \u7D50\u5C3E`;if(z.format==="includes")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${z.includes}"`;if(z.format==="regex")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${z.pattern}`;return`\u7121\u6548\u7684 ${Y[z.format]??$.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${$.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${$.keys.length>1?"\u5011":""}\uFF1A${O1($.keys,"\u3001")}`;case"invalid_key":return`${$.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${$.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}};function b01(){return{localeError:oP4()}}var sP4=()=>{let J={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}};function Z($){return J[$]??null}let X=($)=>{let z=typeof $;switch(z){case"number":return Number.isNaN($)?"NaN":"n\u1ECD\u0301mb\xE0";case"object":{if(Array.isArray($))return"akop\u1ECD";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return z},Y={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"};return($)=>{switch($.code){case"invalid_type":return`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${$.expected}, \xE0m\u1ECD\u0300 a r\xED ${X($.input)}`;case"invalid_value":if($.values.length===1)return`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${k1($.values[0])}`;return`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${O1($.values,"|")}`;case"too_big":{let z=$.inclusive?"<=":"<",W=Z($.origin);if(W)return`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${$.origin??"iye"} ${W.verb} ${z}${$.maximum} ${W.unit}`;return`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${z}${$.maximum}`}case"too_small":{let z=$.inclusive?">=":">",W=Z($.origin);if(W)return`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${$.origin} ${W.verb} ${z}${$.minimum} ${W.unit}`;return`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${z}${$.minimum}`}case"invalid_format":{let z=$;if(z.format==="starts_with")return`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${z.prefix}"`;if(z.format==="ends_with")return`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${z.suffix}"`;if(z.format==="includes")return`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${z.includes}"`;if(z.format==="regex")return`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${z.pattern}`;return`A\u1E63\xEC\u1E63e: ${Y[z.format]??$.format}`}case"not_multiple_of":return`N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${$.divisor}`;case"unrecognized_keys":return`B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${O1($.keys,", ")}`;case"invalid_key":return`B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${$.origin}`;case"invalid_union":return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case"invalid_element":return`Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${$.origin}`;default:return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e"}}};function h01(){return{localeError:sP4()}}var _01=Symbol("ZodOutput"),y01=Symbol("ZodInput");class hP{constructor(){this._map=new Map,this._idmap=new Map}add(J,...Z){let X=Z[0];if(this._map.set(J,X),X&&typeof X==="object"&&"id"in X){if(this._idmap.has(X.id))throw new Error(`ID ${X.id} already exists in the registry`);this._idmap.set(X.id,J)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(J){let Z=this._map.get(J);if(Z&&typeof Z==="object"&&"id"in Z)this._idmap.delete(Z.id);return this._map.delete(J),this}get(J){let Z=J._zod.parent;if(Z){let X={...this.get(Z)??{}};delete X.id;let Y={...X,...this._map.get(J)};return Object.keys(Y).length?Y:void 0}return this._map.get(J)}has(J){return this._map.has(J)}}function Ub(){return new hP}var _$=Ub();function v01(J,Z){return new J({type:"string",...E1(Z)})}function x01(J,Z){return new J({type:"string",coerce:!0,...E1(Z)})}function Ob(J,Z){return new J({type:"string",format:"email",check:"string_format",abort:!1,...E1(Z)})}function _P(J,Z){return new J({type:"string",format:"guid",check:"string_format",abort:!1,...E1(Z)})}function Db(J,Z){return new J({type:"string",format:"uuid",check:"string_format",abort:!1,...E1(Z)})}function Vb(J,Z){return new J({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...E1(Z)})}function Ib(J,Z){return new J({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...E1(Z)})}function wb(J,Z){return new J({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...E1(Z)})}function yP(J,Z){return new J({type:"string",format:"url",check:"string_format",abort:!1,...E1(Z)})}function Ab(J,Z){return new J({type:"string",format:"emoji",check:"string_format",abort:!1,...E1(Z)})}function Mb(J,Z){return new J({type:"string",format:"nanoid",check:"string_format",abort:!1,...E1(Z)})}function Nb(J,Z){return new J({type:"string",format:"cuid",check:"string_format",abort:!1,...E1(Z)})}function Pb(J,Z){return new J({type:"string",format:"cuid2",check:"string_format",abort:!1,...E1(Z)})}function Lb(J,Z){return new J({type:"string",format:"ulid",check:"string_format",abort:!1,...E1(Z)})}function Cb(J,Z){return new J({type:"string",format:"xid",check:"string_format",abort:!1,...E1(Z)})}function jb(J,Z){return new J({type:"string",format:"ksuid",check:"string_format",abort:!1,...E1(Z)})}function Rb(J,Z){return new J({type:"string",format:"ipv4",check:"string_format",abort:!1,...E1(Z)})}function Eb(J,Z){return new J({type:"string",format:"ipv6",check:"string_format",abort:!1,...E1(Z)})}function Sb(J,Z){return new J({type:"string",format:"cidrv4",check:"string_format",abort:!1,...E1(Z)})}function Tb(J,Z){return new J({type:"string",format:"cidrv6",check:"string_format",abort:!1,...E1(Z)})}function fb(J,Z){return new J({type:"string",format:"base64",check:"string_format",abort:!1,...E1(Z)})}function kb(J,Z){return new J({type:"string",format:"base64url",check:"string_format",abort:!1,...E1(Z)})}function bb(J,Z){return new J({type:"string",format:"e164",check:"string_format",abort:!1,...E1(Z)})}function hb(J,Z){return new J({type:"string",format:"jwt",check:"string_format",abort:!1,...E1(Z)})}var g01={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function d01(J,Z){return new J({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...E1(Z)})}function u01(J,Z){return new J({type:"string",format:"date",check:"string_format",...E1(Z)})}function m01(J,Z){return new J({type:"string",format:"time",check:"string_format",precision:null,...E1(Z)})}function c01(J,Z){return new J({type:"string",format:"duration",check:"string_format",...E1(Z)})}function l01(J,Z){return new J({type:"number",checks:[],...E1(Z)})}function p01(J,Z){return new J({type:"number",coerce:!0,checks:[],...E1(Z)})}function n01(J,Z){return new J({type:"number",check:"number_format",abort:!1,format:"safeint",...E1(Z)})}function i01(J,Z){return new J({type:"number",check:"number_format",abort:!1,format:"float32",...E1(Z)})}function o01(J,Z){return new J({type:"number",check:"number_format",abort:!1,format:"float64",...E1(Z)})}function s01(J,Z){return new J({type:"number",check:"number_format",abort:!1,format:"int32",...E1(Z)})}function a01(J,Z){return new J({type:"number",check:"number_format",abort:!1,format:"uint32",...E1(Z)})}function r01(J,Z){return new J({type:"boolean",...E1(Z)})}function t01(J,Z){return new J({type:"boolean",coerce:!0,...E1(Z)})}function e01(J,Z){return new J({type:"bigint",...E1(Z)})}function J61(J,Z){return new J({type:"bigint",coerce:!0,...E1(Z)})}function Z61(J,Z){return new J({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...E1(Z)})}function X61(J,Z){return new J({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...E1(Z)})}function Y61(J,Z){return new J({type:"symbol",...E1(Z)})}function $61(J,Z){return new J({type:"undefined",...E1(Z)})}function z61(J,Z){return new J({type:"null",...E1(Z)})}function W61(J){return new J({type:"any"})}function Q61(J){return new J({type:"unknown"})}function G61(J,Z){return new J({type:"never",...E1(Z)})}function K61(J,Z){return new J({type:"void",...E1(Z)})}function q61(J,Z){return new J({type:"date",...E1(Z)})}function B61(J,Z){return new J({type:"date",coerce:!0,...E1(Z)})}function H61(J,Z){return new J({type:"nan",...E1(Z)})}function jQ(J,Z){return new Xb({check:"less_than",...E1(Z),value:J,inclusive:!1})}function VZ(J,Z){return new Xb({check:"less_than",...E1(Z),value:J,inclusive:!0})}function RQ(J,Z){return new Yb({check:"greater_than",...E1(Z),value:J,inclusive:!1})}function u7(J,Z){return new Yb({check:"greater_than",...E1(Z),value:J,inclusive:!0})}function F61(J){return RQ(0,J)}function U61(J){return jQ(0,J)}function O61(J){return VZ(0,J)}function D61(J){return u7(0,J)}function VF(J,Z){return new Me({check:"multiple_of",...E1(Z),value:J})}function NI(J,Z){return new Le({check:"max_size",...E1(Z),maximum:J})}function IF(J,Z){return new Ce({check:"min_size",...E1(Z),minimum:J})}function vP(J,Z){return new je({check:"size_equals",...E1(Z),size:J})}function PI(J,Z){return new Re({check:"max_length",...E1(Z),maximum:J})}function U3(J,Z){return new Ee({check:"min_length",...E1(Z),minimum:J})}function LI(J,Z){return new Se({check:"length_equals",...E1(Z),length:J})}function xP(J,Z){return new Te({check:"string_format",format:"regex",...E1(Z),pattern:J})}function gP(J){return new fe({check:"string_format",format:"lowercase",...E1(J)})}function dP(J){return new ke({check:"string_format",format:"uppercase",...E1(J)})}function uP(J,Z){return new be({check:"string_format",format:"includes",...E1(Z),includes:J})}function mP(J,Z){return new he({check:"string_format",format:"starts_with",...E1(Z),prefix:J})}function cP(J,Z){return new _e({check:"string_format",format:"ends_with",...E1(Z),suffix:J})}function V61(J,Z,X){return new ye({check:"property",property:J,schema:Z,...E1(X)})}function lP(J,Z){return new ve({check:"mime_type",mime:J,...E1(Z)})}function EQ(J){return new xe({check:"overwrite",tx:J})}function pP(J){return EQ((Z)=>Z.normalize(J))}function nP(){return EQ((J)=>J.trim())}function iP(){return EQ((J)=>J.toLowerCase())}function oP(){return EQ((J)=>J.toUpperCase())}function I61(J,Z,X){return new J({type:"array",element:Z,...E1(X)})}function aP4(J,Z,X){return new J({type:"union",options:Z,...E1(X)})}function rP4(J,Z,X,Y){return new J({type:"union",options:X,discriminator:Z,...E1(Y)})}function tP4(J,Z,X){return new J({type:"intersection",left:Z,right:X})}function eP4(J,Z,X,Y){let $=X instanceof q6;return new J({type:"tuple",items:Z,rest:$?X:null,...E1($?Y:X)})}function JL4(J,Z,X,Y){return new J({type:"record",keyType:Z,valueType:X,...E1(Y)})}function ZL4(J,Z,X,Y){return new J({type:"map",keyType:Z,valueType:X,...E1(Y)})}function XL4(J,Z,X){return new J({type:"set",valueType:Z,...E1(X)})}function YL4(J,Z,X){let Y=Array.isArray(Z)?Object.fromEntries(Z.map(($)=>[$,$])):Z;return new J({type:"enum",entries:Y,...E1(X)})}function $L4(J,Z,X){return new J({type:"enum",entries:Z,...E1(X)})}function zL4(J,Z,X){return new J({type:"literal",values:Array.isArray(Z)?Z:[Z],...E1(X)})}function w61(J,Z){return new J({type:"file",...E1(Z)})}function WL4(J,Z){return new J({type:"transform",transform:Z})}function QL4(J,Z){return new J({type:"optional",innerType:Z})}function GL4(J,Z){return new J({type:"nullable",innerType:Z})}function KL4(J,Z,X){return new J({type:"default",innerType:Z,get defaultValue(){return typeof X==="function"?X():vt(X)}})}function qL4(J,Z,X){return new J({type:"nonoptional",innerType:Z,...E1(X)})}function BL4(J,Z){return new J({type:"success",innerType:Z})}function HL4(J,Z,X){return new J({type:"catch",innerType:Z,catchValue:typeof X==="function"?X:()=>X})}function FL4(J,Z,X){return new J({type:"pipe",in:Z,out:X})}function UL4(J,Z){return new J({type:"readonly",innerType:Z})}function OL4(J,Z,X){return new J({type:"template_literal",parts:Z,...E1(X)})}function DL4(J,Z){return new J({type:"lazy",getter:Z})}function VL4(J,Z){return new J({type:"promise",innerType:Z})}function A61(J,Z,X){let Y=E1(X);return Y.abort??(Y.abort=!0),new J({type:"custom",check:"custom",fn:Z,...Y})}function M61(J,Z,X){return new J({type:"custom",check:"custom",fn:Z,...E1(X)})}function N61(J){let Z=Ag1((X)=>{return X.addIssue=(Y)=>{if(typeof Y==="string")X.issues.push(DI(Y,X.value,Z._zod.def));else{let $=Y;if($.fatal)$.continue=!1;$.code??($.code="custom"),$.input??($.input=X.value),$.inst??($.inst=Z),$.continue??($.continue=!Z._zod.def.abort),X.issues.push(DI($))}},J(X.value,X)});return Z}function Ag1(J,Z){let X=new H8({check:"custom",...E1(Z)});return X._zod.check=J,X}function P61(J,Z){let X=E1(Z),Y=X.truthy??["true","1","yes","on","y","enabled"],$=X.falsy??["false","0","no","off","n","disabled"];if(X.case!=="sensitive")Y=Y.map((U)=>typeof U==="string"?U.toLowerCase():U),$=$.map((U)=>typeof U==="string"?U.toLowerCase():U);let z=new Set(Y),W=new Set($),Q=J.Codec??fP,G=J.Boolean??TP,q=new(J.String??DF)({type:"string",error:X.error}),H=new G({type:"boolean",error:X.error}),F=new Q({type:"pipe",in:q,out:H,transform:(U,D)=>{let V=U;if(X.case!=="sensitive")V=V.toLowerCase();if(z.has(V))return!0;else if(W.has(V))return!1;else return D.issues.push({code:"invalid_value",expected:"stringbool",values:[...z,...W],input:D.value,inst:F,continue:!1}),{}},reverseTransform:(U,D)=>{if(U===!0)return Y[0]||"true";else return $[0]||"false"},error:X.error});return F}function CI(J,Z,X,Y={}){let $=E1(Y),z={...E1(Y),check:"string_format",type:"string",format:Z,fn:typeof X==="function"?X:(Q)=>X.test(Q),...$};if(X instanceof RegExp)z.pattern=X;return new J(z)}class _b{constructor(J){this.counter=0,this.metadataRegistry=J?.metadata??_$,this.target=J?.target??"draft-2020-12",this.unrepresentable=J?.unrepresentable??"throw",this.override=J?.override??(()=>{}),this.io=J?.io??"output",this.seen=new Map}process(J,Z={path:[],schemaPath:[]}){var X;let Y=J._zod.def,$={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},z=this.seen.get(J);if(z){if(z.count++,Z.schemaPath.includes(J))z.cycle=Z.path;return z.schema}let W={schema:{},count:1,cycle:void 0,path:Z.path};this.seen.set(J,W);let Q=J._zod.toJSONSchema?.();if(Q)W.schema=Q;else{let q={...Z,schemaPath:[...Z.schemaPath,J],path:Z.path},H=J._zod.parent;if(H)W.ref=H,this.process(H,q),this.seen.get(H).isParent=!0;else{let F=W.schema;switch(Y.type){case"string":{let U=F;U.type="string";let{minimum:D,maximum:V,format:w,patterns:M,contentEncoding:P}=J._zod.bag;if(typeof D==="number")U.minLength=D;if(typeof V==="number")U.maxLength=V;if(w){if(U.format=$[w]??w,U.format==="")delete U.format}if(P)U.contentEncoding=P;if(M&&M.size>0){let R=[...M];if(R.length===1)U.pattern=R[0].source;else if(R.length>1)W.schema.allOf=[...R.map((f)=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:f.source}))]}break}case"number":{let U=F,{minimum:D,maximum:V,format:w,multipleOf:M,exclusiveMaximum:P,exclusiveMinimum:R}=J._zod.bag;if(typeof w==="string"&&w.includes("int"))U.type="integer";else U.type="number";if(typeof R==="number")if(this.target==="draft-4"||this.target==="openapi-3.0")U.minimum=R,U.exclusiveMinimum=!0;else U.exclusiveMinimum=R;if(typeof D==="number"){if(U.minimum=D,typeof R==="number"&&this.target!=="draft-4")if(R>=D)delete U.minimum;else delete U.exclusiveMinimum}if(typeof P==="number")if(this.target==="draft-4"||this.target==="openapi-3.0")U.maximum=P,U.exclusiveMaximum=!0;else U.exclusiveMaximum=P;if(typeof V==="number"){if(U.maximum=V,typeof P==="number"&&this.target!=="draft-4")if(P<=V)delete U.maximum;else delete U.exclusiveMaximum}if(typeof M==="number")U.multipleOf=M;break}case"boolean":{let U=F;U.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{if(this.target==="openapi-3.0")F.type="string",F.nullable=!0,F.enum=[null];else F.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{F.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{let U=F,{minimum:D,maximum:V}=J._zod.bag;if(typeof D==="number")U.minItems=D;if(typeof V==="number")U.maxItems=V;U.type="array",U.items=this.process(Y.element,{...q,path:[...q.path,"items"]});break}case"object":{let U=F;U.type="object",U.properties={};let D=Y.shape;for(let M in D)U.properties[M]=this.process(D[M],{...q,path:[...q.path,"properties",M]});let V=new Set(Object.keys(D)),w=new Set([...V].filter((M)=>{let P=Y.shape[M]._zod;if(this.io==="input")return P.optin===void 0;else return P.optout===void 0}));if(w.size>0)U.required=Array.from(w);if(Y.catchall?._zod.def.type==="never")U.additionalProperties=!1;else if(!Y.catchall){if(this.io==="output")U.additionalProperties=!1}else if(Y.catchall)U.additionalProperties=this.process(Y.catchall,{...q,path:[...q.path,"additionalProperties"]});break}case"union":{let U=F,D=Y.options.map((V,w)=>this.process(V,{...q,path:[...q.path,"anyOf",w]}));U.anyOf=D;break}case"intersection":{let U=F,D=this.process(Y.left,{...q,path:[...q.path,"allOf",0]}),V=this.process(Y.right,{...q,path:[...q.path,"allOf",1]}),w=(P)=>("allOf"in P)&&Object.keys(P).length===1,M=[...w(D)?D.allOf:[D],...w(V)?V.allOf:[V]];U.allOf=M;break}case"tuple":{let U=F;U.type="array";let D=this.target==="draft-2020-12"?"prefixItems":"items",V=this.target==="draft-2020-12"?"items":this.target==="openapi-3.0"?"items":"additionalItems",w=Y.items.map((f,d)=>this.process(f,{...q,path:[...q.path,D,d]})),M=Y.rest?this.process(Y.rest,{...q,path:[...q.path,V,...this.target==="openapi-3.0"?[Y.items.length]:[]]}):null;if(this.target==="draft-2020-12"){if(U.prefixItems=w,M)U.items=M}else if(this.target==="openapi-3.0"){if(U.items={anyOf:w},M)U.items.anyOf.push(M);if(U.minItems=w.length,!M)U.maxItems=w.length}else if(U.items=w,M)U.additionalItems=M;let{minimum:P,maximum:R}=J._zod.bag;if(typeof P==="number")U.minItems=P;if(typeof R==="number")U.maxItems=R;break}case"record":{let U=F;if(U.type="object",this.target==="draft-7"||this.target==="draft-2020-12")U.propertyNames=this.process(Y.keyType,{...q,path:[...q.path,"propertyNames"]});U.additionalProperties=this.process(Y.valueType,{...q,path:[...q.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{let U=F,D=AP(Y.entries);if(D.every((V)=>typeof V==="number"))U.type="number";if(D.every((V)=>typeof V==="string"))U.type="string";U.enum=D;break}case"literal":{let U=F,D=[];for(let V of Y.values)if(V===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof V==="bigint")if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");else D.push(Number(V));else D.push(V);if(D.length===0);else if(D.length===1){let V=D[0];if(U.type=V===null?"null":typeof V,this.target==="draft-4"||this.target==="openapi-3.0")U.enum=[V];else U.const=V}else{if(D.every((V)=>typeof V==="number"))U.type="number";if(D.every((V)=>typeof V==="string"))U.type="string";if(D.every((V)=>typeof V==="boolean"))U.type="string";if(D.every((V)=>V===null))U.type="null";U.enum=D}break}case"file":{let U=F,D={type:"string",format:"binary",contentEncoding:"binary"},{minimum:V,maximum:w,mime:M}=J._zod.bag;if(V!==void 0)D.minLength=V;if(w!==void 0)D.maxLength=w;if(M)if(M.length===1)D.contentMediaType=M[0],Object.assign(U,D);else U.anyOf=M.map((P)=>{return{...D,contentMediaType:P}});else Object.assign(U,D);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let U=this.process(Y.innerType,q);if(this.target==="openapi-3.0")W.ref=Y.innerType,F.nullable=!0;else F.anyOf=[U,{type:"null"}];break}case"nonoptional":{this.process(Y.innerType,q),W.ref=Y.innerType;break}case"success":{let U=F;U.type="boolean";break}case"default":{this.process(Y.innerType,q),W.ref=Y.innerType,F.default=JSON.parse(JSON.stringify(Y.defaultValue));break}case"prefault":{if(this.process(Y.innerType,q),W.ref=Y.innerType,this.io==="input")F._prefault=JSON.parse(JSON.stringify(Y.defaultValue));break}case"catch":{this.process(Y.innerType,q),W.ref=Y.innerType;let U;try{U=Y.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}F.default=U;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let U=F,D=J._zod.pattern;if(!D)throw new Error("Pattern not found in template literal");U.type="string",U.pattern=D.source;break}case"pipe":{let U=this.io==="input"?Y.in._zod.def.type==="transform"?Y.out:Y.in:Y.out;this.process(U,q),W.ref=U;break}case"readonly":{this.process(Y.innerType,q),W.ref=Y.innerType,F.readOnly=!0;break}case"promise":{this.process(Y.innerType,q),W.ref=Y.innerType;break}case"optional":{this.process(Y.innerType,q),W.ref=Y.innerType;break}case"lazy":{let U=J._zod.innerType;this.process(U,q),W.ref=U;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}default:}}}let G=this.metadataRegistry.get(J);if(G)Object.assign(W.schema,G);if(this.io==="input"&&y5(J))delete W.schema.examples,delete W.schema.default;if(this.io==="input"&&W.schema._prefault)(X=W.schema).default??(X.default=W.schema._prefault);return delete W.schema._prefault,this.seen.get(J).schema}emit(J,Z){let X={cycles:Z?.cycles??"ref",reused:Z?.reused??"inline",external:Z?.external??void 0},Y=this.seen.get(J);if(!Y)throw new Error("Unprocessed schema. This is a bug in Zod.");let $=(K)=>{let q=this.target==="draft-2020-12"?"$defs":"definitions";if(X.external){let D=X.external.registry.get(K[0])?.id,V=X.external.uri??((M)=>M);if(D)return{ref:V(D)};let w=K[1].defId??K[1].schema.id??`schema${this.counter++}`;return K[1].defId=w,{defId:w,ref:`${V("__shared")}#/${q}/${w}`}}if(K[1]===Y)return{ref:"#"};let F=`${"#"}/${q}/`,U=K[1].schema.id??`__schema${this.counter++}`;return{defId:U,ref:F+U}},z=(K)=>{if(K[1].schema.$ref)return;let q=K[1],{ref:H,defId:F}=$(K);if(q.def={...q.schema},F)q.defId=F;let U=q.schema;for(let D in U)delete U[D];U.$ref=H};if(X.cycles==="throw")for(let K of this.seen.entries()){let q=K[1];if(q.cycle)throw new Error(`Cycle detected: #/${q.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let K of this.seen.entries()){let q=K[1];if(J===K[0]){z(K);continue}if(X.external){let F=X.external.registry.get(K[0])?.id;if(J!==K[0]&&F){z(K);continue}}if(this.metadataRegistry.get(K[0])?.id){z(K);continue}if(q.cycle){z(K);continue}if(q.count>1){if(X.reused==="ref"){z(K);continue}}}let W=(K,q)=>{let H=this.seen.get(K),F=H.def??H.schema,U={...F};if(H.ref===null)return;let D=H.ref;if(H.ref=null,D){W(D,q);let V=this.seen.get(D).schema;if(V.$ref&&(q.target==="draft-7"||q.target==="draft-4"||q.target==="openapi-3.0"))F.allOf=F.allOf??[],F.allOf.push(V);else Object.assign(F,V),Object.assign(F,U)}if(!H.isParent)this.override({zodSchema:K,jsonSchema:F,path:H.path??[]})};for(let K of[...this.seen.entries()].reverse())W(K[0],{target:this.target});let Q={};if(this.target==="draft-2020-12")Q.$schema="https://json-schema.org/draft/2020-12/schema";else if(this.target==="draft-7")Q.$schema="http://json-schema.org/draft-07/schema#";else if(this.target==="draft-4")Q.$schema="http://json-schema.org/draft-04/schema#";else if(this.target==="openapi-3.0");else console.warn(`Invalid target: ${this.target}`);if(X.external?.uri){let K=X.external.registry.get(J)?.id;if(!K)throw new Error("Schema is missing an `id` property");Q.$id=X.external.uri(K)}Object.assign(Q,Y.def);let G=X.external?.defs??{};for(let K of this.seen.entries()){let q=K[1];if(q.def&&q.defId)G[q.defId]=q.def}if(X.external);else if(Object.keys(G).length>0)if(this.target==="draft-2020-12")Q.$defs=G;else Q.definitions=G;try{return JSON.parse(JSON.stringify(Q))}catch(K){throw new Error("Error converting schema to JSON.")}}}function L61(J,Z){if(J instanceof hP){let Y=new _b(Z),$={};for(let Q of J._idmap.entries()){let[G,K]=Q;Y.process(K)}let z={},W={registry:J,uri:Z?.uri,defs:$};for(let Q of J._idmap.entries()){let[G,K]=Q;z[G]=Y.emit(K,{...Z,external:W})}if(Object.keys($).length>0){let Q=Y.target==="draft-2020-12"?"$defs":"definitions";z.__shared={[Q]:$}}return{schemas:z}}let X=new _b(Z);return X.process(J),X.emit(J,Z)}function y5(J,Z){let X=Z??{seen:new Set};if(X.seen.has(J))return!1;X.seen.add(J);let $=J._zod.def;switch($.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return y5($.element,X);case"object":{for(let z in $.shape)if(y5($.shape[z],X))return!0;return!1}case"union":{for(let z of $.options)if(y5(z,X))return!0;return!1}case"intersection":return y5($.left,X)||y5($.right,X);case"tuple":{for(let z of $.items)if(y5(z,X))return!0;if($.rest&&y5($.rest,X))return!0;return!1}case"record":return y5($.keyType,X)||y5($.valueType,X);case"map":return y5($.keyType,X)||y5($.valueType,X);case"set":return y5($.valueType,X);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return y5($.innerType,X);case"lazy":return y5($.getter(),X);case"default":return y5($.innerType,X);case"prefault":return y5($.innerType,X);case"custom":return!1;case"transform":return!0;case"pipe":return y5($.in,X)||y5($.out,X);case"success":return!1;case"catch":return!1;case"function":return!1;default:}throw new Error(`Unknown schema type: ${$.type}`)}var Mg1={};var db={};r9(db,{time:()=>R61,duration:()=>E61,datetime:()=>C61,date:()=>j61,ZodISOTime:()=>xb,ZodISODuration:()=>gb,ZodISODateTime:()=>yb,ZodISODate:()=>vb});var yb=z1("ZodISODateTime",(J,Z)=>{te.init(J,Z),X8.init(J,Z)});function C61(J){return d01(yb,J)}var vb=z1("ZodISODate",(J,Z)=>{ee.init(J,Z),X8.init(J,Z)});function j61(J){return u01(vb,J)}var xb=z1("ZodISOTime",(J,Z)=>{J11.init(J,Z),X8.init(J,Z)});function R61(J){return m01(xb,J)}var gb=z1("ZodISODuration",(J,Z)=>{Z11.init(J,Z),X8.init(J,Z)});function E61(J){return c01(gb,J)}var Pg1=(J,Z)=>{CP.init(J,Z),J.name="ZodError",Object.defineProperties(J,{format:{value:(X)=>RP(J,X)},flatten:{value:(X)=>jP(J,X)},addIssue:{value:(X)=>{J.issues.push(X),J.message=JSON.stringify(J.issues,UI,2)}},addIssues:{value:(X)=>{J.issues.push(...X),J.message=JSON.stringify(J.issues,UI,2)}},isEmpty:{get(){return J.issues.length===0}}})},wL4=z1("ZodError",Pg1),m7=z1("ZodError",Pg1,{Parent:Error});var S61=VI(m7),T61=II(m7),f61=wI(m7),k61=AI(m7),b61=ik(m7),h61=ok(m7),_61=sk(m7),y61=ak(m7),v61=rk(m7),x61=tk(m7),g61=ek(m7),d61=Jb(m7);var L6=z1("ZodType",(J,Z)=>{return q6.init(J,Z),J.def=Z,J.type=Z.type,Object.defineProperty(J,"_def",{value:Z}),J.check=(...X)=>{return J.clone({...Z,checks:[...Z.checks??[],...X.map((Y)=>typeof Y==="function"?{_zod:{check:Y,def:{check:"custom"},onattach:[]}}:Y)]})},J.clone=(X,Y)=>K7(J,X,Y),J.brand=()=>J,J.register=(X,Y)=>{return X.add(J,Y),J},J.parse=(X,Y)=>S61(J,X,Y,{callee:J.parse}),J.safeParse=(X,Y)=>f61(J,X,Y),J.parseAsync=async(X,Y)=>T61(J,X,Y,{callee:J.parseAsync}),J.safeParseAsync=async(X,Y)=>k61(J,X,Y),J.spa=J.safeParseAsync,J.encode=(X,Y)=>b61(J,X,Y),J.decode=(X,Y)=>h61(J,X,Y),J.encodeAsync=async(X,Y)=>_61(J,X,Y),J.decodeAsync=async(X,Y)=>y61(J,X,Y),J.safeEncode=(X,Y)=>v61(J,X,Y),J.safeDecode=(X,Y)=>x61(J,X,Y),J.safeEncodeAsync=async(X,Y)=>g61(J,X,Y),J.safeDecodeAsync=async(X,Y)=>d61(J,X,Y),J.refine=(X,Y)=>J.check(Kd1(X,Y)),J.superRefine=(X)=>J.check(qd1(X)),J.overwrite=(X)=>J.check(EQ(X)),J.optional=()=>mb(J),J.nullable=()=>cb(J),J.nullish=()=>mb(cb(J)),J.nonoptional=(X)=>rg1(J,X),J.array=()=>ib(J),J.or=(X)=>K41([J,X]),J.and=(X)=>vg1(J,X),J.transform=(X)=>lb(J,H41(X)),J.default=(X)=>og1(J,X),J.prefault=(X)=>ag1(J,X),J.catch=(X)=>Jd1(J,X),J.pipe=(X)=>lb(J,X),J.readonly=()=>Yd1(J),J.describe=(X)=>{let Y=J.clone();return _$.add(Y,{description:X}),Y},Object.defineProperty(J,"description",{get(){return _$.get(J)?.description},configurable:!0}),J.meta=(...X)=>{if(X.length===0)return _$.get(J);let Y=J.clone();return _$.add(Y,X[0]),Y},J.isOptional=()=>J.safeParse(void 0).success,J.isNullable=()=>J.safeParse(null).success,J}),c61=z1("_ZodString",(J,Z)=>{DF.init(J,Z),L6.init(J,Z);let X=J._zod.bag;J.format=X.format??null,J.minLength=X.minimum??null,J.maxLength=X.maximum??null,J.regex=(...Y)=>J.check(xP(...Y)),J.includes=(...Y)=>J.check(uP(...Y)),J.startsWith=(...Y)=>J.check(mP(...Y)),J.endsWith=(...Y)=>J.check(cP(...Y)),J.min=(...Y)=>J.check(U3(...Y)),J.max=(...Y)=>J.check(PI(...Y)),J.length=(...Y)=>J.check(LI(...Y)),J.nonempty=(...Y)=>J.check(U3(1,...Y)),J.lowercase=(Y)=>J.check(gP(Y)),J.uppercase=(Y)=>J.check(dP(Y)),J.trim=()=>J.check(nP()),J.normalize=(...Y)=>J.check(pP(...Y)),J.toLowerCase=()=>J.check(iP()),J.toUpperCase=()=>J.check(oP())}),aP=z1("ZodString",(J,Z)=>{DF.init(J,Z),c61.init(J,Z),J.email=(X)=>J.check(Ob(l61,X)),J.url=(X)=>J.check(yP(pb,X)),J.jwt=(X)=>J.check(hb(z41,X)),J.emoji=(X)=>J.check(Ab(p61,X)),J.guid=(X)=>J.check(_P(ub,X)),J.uuid=(X)=>J.check(Db(TQ,X)),J.uuidv4=(X)=>J.check(Vb(TQ,X)),J.uuidv6=(X)=>J.check(Ib(TQ,X)),J.uuidv7=(X)=>J.check(wb(TQ,X)),J.nanoid=(X)=>J.check(Mb(n61,X)),J.guid=(X)=>J.check(_P(ub,X)),J.cuid=(X)=>J.check(Nb(i61,X)),J.cuid2=(X)=>J.check(Pb(o61,X)),J.ulid=(X)=>J.check(Lb(s61,X)),J.base64=(X)=>J.check(fb(X41,X)),J.base64url=(X)=>J.check(kb(Y41,X)),J.xid=(X)=>J.check(Cb(a61,X)),J.ksuid=(X)=>J.check(jb(r61,X)),J.ipv4=(X)=>J.check(Rb(t61,X)),J.ipv6=(X)=>J.check(Eb(e61,X)),J.cidrv4=(X)=>J.check(Sb(J41,X)),J.cidrv6=(X)=>J.check(Tb(Z41,X)),J.e164=(X)=>J.check(bb($41,X)),J.datetime=(X)=>J.check(C61(X)),J.date=(X)=>J.check(j61(X)),J.time=(X)=>J.check(R61(X)),J.duration=(X)=>J.check(E61(X))});function u61(J){return v01(aP,J)}var X8=z1("ZodStringFormat",(J,Z)=>{s4.init(J,Z),c61.init(J,Z)}),l61=z1("ZodEmail",(J,Z)=>{ce.init(J,Z),X8.init(J,Z)});function ML4(J){return Ob(l61,J)}var ub=z1("ZodGUID",(J,Z)=>{ue.init(J,Z),X8.init(J,Z)});function NL4(J){return _P(ub,J)}var TQ=z1("ZodUUID",(J,Z)=>{me.init(J,Z),X8.init(J,Z)});function PL4(J){return Db(TQ,J)}function LL4(J){return Vb(TQ,J)}function CL4(J){return Ib(TQ,J)}function jL4(J){return wb(TQ,J)}var pb=z1("ZodURL",(J,Z)=>{le.init(J,Z),X8.init(J,Z)});function RL4(J){return yP(pb,J)}function EL4(J){return yP(pb,{protocol:/^https?$/,hostname:DZ.domain,...L1.normalizeParams(J)})}var p61=z1("ZodEmoji",(J,Z)=>{pe.init(J,Z),X8.init(J,Z)});function SL4(J){return Ab(p61,J)}var n61=z1("ZodNanoID",(J,Z)=>{ne.init(J,Z),X8.init(J,Z)});function TL4(J){return Mb(n61,J)}var i61=z1("ZodCUID",(J,Z)=>{ie.init(J,Z),X8.init(J,Z)});function fL4(J){return Nb(i61,J)}var o61=z1("ZodCUID2",(J,Z)=>{oe.init(J,Z),X8.init(J,Z)});function kL4(J){return Pb(o61,J)}var s61=z1("ZodULID",(J,Z)=>{se.init(J,Z),X8.init(J,Z)});function bL4(J){return Lb(s61,J)}var a61=z1("ZodXID",(J,Z)=>{ae.init(J,Z),X8.init(J,Z)});function hL4(J){return Cb(a61,J)}var r61=z1("ZodKSUID",(J,Z)=>{re.init(J,Z),X8.init(J,Z)});function _L4(J){return jb(r61,J)}var t61=z1("ZodIPv4",(J,Z)=>{X11.init(J,Z),X8.init(J,Z)});function yL4(J){return Rb(t61,J)}var e61=z1("ZodIPv6",(J,Z)=>{Y11.init(J,Z),X8.init(J,Z)});function vL4(J){return Eb(e61,J)}var J41=z1("ZodCIDRv4",(J,Z)=>{$11.init(J,Z),X8.init(J,Z)});function xL4(J){return Sb(J41,J)}var Z41=z1("ZodCIDRv6",(J,Z)=>{z11.init(J,Z),X8.init(J,Z)});function gL4(J){return Tb(Z41,J)}var X41=z1("ZodBase64",(J,Z)=>{Q11.init(J,Z),X8.init(J,Z)});function dL4(J){return fb(X41,J)}var Y41=z1("ZodBase64URL",(J,Z)=>{G11.init(J,Z),X8.init(J,Z)});function uL4(J){return kb(Y41,J)}var $41=z1("ZodE164",(J,Z)=>{K11.init(J,Z),X8.init(J,Z)});function mL4(J){return bb($41,J)}var z41=z1("ZodJWT",(J,Z)=>{q11.init(J,Z),X8.init(J,Z)});function cL4(J){return hb(z41,J)}var rP=z1("ZodCustomStringFormat",(J,Z)=>{B11.init(J,Z),X8.init(J,Z)});function lL4(J,Z,X={}){return CI(rP,J,Z,X)}function pL4(J){return CI(rP,"hostname",DZ.hostname,J)}function nL4(J){return CI(rP,"hex",DZ.hex,J)}function iL4(J,Z){let X=Z?.enc??"hex",Y=`${J}_${X}`,$=DZ[Y];if(!$)throw new Error(`Unrecognized hash format: ${Y}`);return CI(rP,Y,$,Z)}var tP=z1("ZodNumber",(J,Z)=>{qb.init(J,Z),L6.init(J,Z),J.gt=(Y,$)=>J.check(RQ(Y,$)),J.gte=(Y,$)=>J.check(u7(Y,$)),J.min=(Y,$)=>J.check(u7(Y,$)),J.lt=(Y,$)=>J.check(jQ(Y,$)),J.lte=(Y,$)=>J.check(VZ(Y,$)),J.max=(Y,$)=>J.check(VZ(Y,$)),J.int=(Y)=>J.check(m61(Y)),J.safe=(Y)=>J.check(m61(Y)),J.positive=(Y)=>J.check(RQ(0,Y)),J.nonnegative=(Y)=>J.check(u7(0,Y)),J.negative=(Y)=>J.check(jQ(0,Y)),J.nonpositive=(Y)=>J.check(VZ(0,Y)),J.multipleOf=(Y,$)=>J.check(VF(Y,$)),J.step=(Y,$)=>J.check(VF(Y,$)),J.finite=()=>J;let X=J._zod.bag;J.minValue=Math.max(X.minimum??Number.NEGATIVE_INFINITY,X.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,J.maxValue=Math.min(X.maximum??Number.POSITIVE_INFINITY,X.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,J.isInt=(X.format??"").includes("int")||Number.isSafeInteger(X.multipleOf??0.5),J.isFinite=!0,J.format=X.format??null});function Lg1(J){return l01(tP,J)}var RI=z1("ZodNumberFormat",(J,Z)=>{H11.init(J,Z),tP.init(J,Z)});function m61(J){return n01(RI,J)}function oL4(J){return i01(RI,J)}function sL4(J){return o01(RI,J)}function aL4(J){return s01(RI,J)}function rL4(J){return a01(RI,J)}var eP=z1("ZodBoolean",(J,Z)=>{TP.init(J,Z),L6.init(J,Z)});function Cg1(J){return r01(eP,J)}var JL=z1("ZodBigInt",(J,Z)=>{Bb.init(J,Z),L6.init(J,Z),J.gte=(Y,$)=>J.check(u7(Y,$)),J.min=(Y,$)=>J.check(u7(Y,$)),J.gt=(Y,$)=>J.check(RQ(Y,$)),J.gte=(Y,$)=>J.check(u7(Y,$)),J.min=(Y,$)=>J.check(u7(Y,$)),J.lt=(Y,$)=>J.check(jQ(Y,$)),J.lte=(Y,$)=>J.check(VZ(Y,$)),J.max=(Y,$)=>J.check(VZ(Y,$)),J.positive=(Y)=>J.check(RQ(BigInt(0),Y)),J.negative=(Y)=>J.check(jQ(BigInt(0),Y)),J.nonpositive=(Y)=>J.check(VZ(BigInt(0),Y)),J.nonnegative=(Y)=>J.check(u7(BigInt(0),Y)),J.multipleOf=(Y,$)=>J.check(VF(Y,$));let X=J._zod.bag;J.minValue=X.minimum??null,J.maxValue=X.maximum??null,J.format=X.format??null});function tL4(J){return e01(JL,J)}var W41=z1("ZodBigIntFormat",(J,Z)=>{F11.init(J,Z),JL.init(J,Z)});function eL4(J){return Z61(W41,J)}function JC4(J){return X61(W41,J)}var jg1=z1("ZodSymbol",(J,Z)=>{U11.init(J,Z),L6.init(J,Z)});function ZC4(J){return Y61(jg1,J)}var Rg1=z1("ZodUndefined",(J,Z)=>{O11.init(J,Z),L6.init(J,Z)});function XC4(J){return $61(Rg1,J)}var Eg1=z1("ZodNull",(J,Z)=>{D11.init(J,Z),L6.init(J,Z)});function Sg1(J){return z61(Eg1,J)}var Tg1=z1("ZodAny",(J,Z)=>{V11.init(J,Z),L6.init(J,Z)});function YC4(){return W61(Tg1)}var fg1=z1("ZodUnknown",(J,Z)=>{I11.init(J,Z),L6.init(J,Z)});function jI(){return Q61(fg1)}var kg1=z1("ZodNever",(J,Z)=>{w11.init(J,Z),L6.init(J,Z)});function Q41(J){return G61(kg1,J)}var bg1=z1("ZodVoid",(J,Z)=>{A11.init(J,Z),L6.init(J,Z)});function $C4(J){return K61(bg1,J)}var nb=z1("ZodDate",(J,Z)=>{M11.init(J,Z),L6.init(J,Z),J.min=(Y,$)=>J.check(u7(Y,$)),J.max=(Y,$)=>J.check(VZ(Y,$));let X=J._zod.bag;J.minDate=X.minimum?new Date(X.minimum):null,J.maxDate=X.maximum?new Date(X.maximum):null});function zC4(J){return q61(nb,J)}var hg1=z1("ZodArray",(J,Z)=>{N11.init(J,Z),L6.init(J,Z),J.element=Z.element,J.min=(X,Y)=>J.check(U3(X,Y)),J.nonempty=(X)=>J.check(U3(1,X)),J.max=(X,Y)=>J.check(PI(X,Y)),J.length=(X,Y)=>J.check(LI(X,Y)),J.unwrap=()=>J.element});function ib(J,Z){return I61(hg1,J,Z)}function WC4(J){let Z=J._zod.def.shape;return B41(Object.keys(Z))}var ob=z1("ZodObject",(J,Z)=>{P11.init(J,Z),L6.init(J,Z),L1.defineLazy(J,"shape",()=>Z.shape),J.keyof=()=>B41(Object.keys(J._zod.def.shape)),J.catchall=(X)=>J.clone({...J._zod.def,catchall:X}),J.passthrough=()=>J.clone({...J._zod.def,catchall:jI()}),J.loose=()=>J.clone({...J._zod.def,catchall:jI()}),J.strict=()=>J.clone({...J._zod.def,catchall:Q41()}),J.strip=()=>J.clone({...J._zod.def,catchall:void 0}),J.extend=(X)=>{return L1.extend(J,X)},J.safeExtend=(X)=>{return L1.safeExtend(J,X)},J.merge=(X)=>L1.merge(J,X),J.pick=(X)=>L1.pick(J,X),J.omit=(X)=>L1.omit(J,X),J.partial=(...X)=>L1.partial(F41,J,X[0]),J.required=(...X)=>L1.required(U41,J,X[0])});function QC4(J,Z){let X={type:"object",get shape(){return L1.assignProp(this,"shape",J?L1.objectClone(J):{}),this.shape},...L1.normalizeParams(Z)};return new ob(X)}function GC4(J,Z){return new ob({type:"object",get shape(){return L1.assignProp(this,"shape",L1.objectClone(J)),this.shape},catchall:Q41(),...L1.normalizeParams(Z)})}function KC4(J,Z){return new ob({type:"object",get shape(){return L1.assignProp(this,"shape",L1.objectClone(J)),this.shape},catchall:jI(),...L1.normalizeParams(Z)})}var G41=z1("ZodUnion",(J,Z)=>{Hb.init(J,Z),L6.init(J,Z),J.options=Z.options});function K41(J,Z){return new G41({type:"union",options:J,...L1.normalizeParams(Z)})}var _g1=z1("ZodDiscriminatedUnion",(J,Z)=>{G41.init(J,Z),L11.init(J,Z)});function qC4(J,Z,X){return new _g1({type:"union",options:Z,discriminator:J,...L1.normalizeParams(X)})}var yg1=z1("ZodIntersection",(J,Z)=>{C11.init(J,Z),L6.init(J,Z)});function vg1(J,Z){return new yg1({type:"intersection",left:J,right:Z})}var xg1=z1("ZodTuple",(J,Z)=>{Fb.init(J,Z),L6.init(J,Z),J.rest=(X)=>J.clone({...J._zod.def,rest:X})});function gg1(J,Z,X){let Y=Z instanceof q6,$=Y?X:Z;return new xg1({type:"tuple",items:J,rest:Y?Z:null,...L1.normalizeParams($)})}var q41=z1("ZodRecord",(J,Z)=>{j11.init(J,Z),L6.init(J,Z),J.keyType=Z.keyType,J.valueType=Z.valueType});function dg1(J,Z,X){return new q41({type:"record",keyType:J,valueType:Z,...L1.normalizeParams(X)})}function BC4(J,Z,X){let Y=K7(J);return Y._zod.values=void 0,new q41({type:"record",keyType:Y,valueType:Z,...L1.normalizeParams(X)})}var ug1=z1("ZodMap",(J,Z)=>{R11.init(J,Z),L6.init(J,Z),J.keyType=Z.keyType,J.valueType=Z.valueType});function HC4(J,Z,X){return new ug1({type:"map",keyType:J,valueType:Z,...L1.normalizeParams(X)})}var mg1=z1("ZodSet",(J,Z)=>{E11.init(J,Z),L6.init(J,Z),J.min=(...X)=>J.check(IF(...X)),J.nonempty=(X)=>J.check(IF(1,X)),J.max=(...X)=>J.check(NI(...X)),J.size=(...X)=>J.check(vP(...X))});function FC4(J,Z){return new mg1({type:"set",valueType:J,...L1.normalizeParams(Z)})}var sP=z1("ZodEnum",(J,Z)=>{S11.init(J,Z),L6.init(J,Z),J.enum=Z.entries,J.options=Object.values(Z.entries);let X=new Set(Object.keys(Z.entries));J.extract=(Y,$)=>{let z={};for(let W of Y)if(X.has(W))z[W]=Z.entries[W];else throw new Error(`Key ${W} not found in enum`);return new sP({...Z,checks:[],...L1.normalizeParams($),entries:z})},J.exclude=(Y,$)=>{let z={...Z.entries};for(let W of Y)if(X.has(W))delete z[W];else throw new Error(`Key ${W} not found in enum`);return new sP({...Z,checks:[],...L1.normalizeParams($),entries:z})}});function B41(J,Z){let X=Array.isArray(J)?Object.fromEntries(J.map((Y)=>[Y,Y])):J;return new sP({type:"enum",entries:X,...L1.normalizeParams(Z)})}function UC4(J,Z){return new sP({type:"enum",entries:J,...L1.normalizeParams(Z)})}var cg1=z1("ZodLiteral",(J,Z)=>{T11.init(J,Z),L6.init(J,Z),J.values=new Set(Z.values),Object.defineProperty(J,"value",{get(){if(Z.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return Z.values[0]}})});function OC4(J,Z){return new cg1({type:"literal",values:Array.isArray(J)?J:[J],...L1.normalizeParams(Z)})}var lg1=z1("ZodFile",(J,Z)=>{f11.init(J,Z),L6.init(J,Z),J.min=(X,Y)=>J.check(IF(X,Y)),J.max=(X,Y)=>J.check(NI(X,Y)),J.mime=(X,Y)=>J.check(lP(Array.isArray(X)?X:[X],Y))});function DC4(J){return w61(lg1,J)}var pg1=z1("ZodTransform",(J,Z)=>{k11.init(J,Z),L6.init(J,Z),J._zod.parse=(X,Y)=>{if(Y.direction==="backward")throw new FF(J.constructor.name);X.addIssue=(z)=>{if(typeof z==="string")X.issues.push(L1.issue(z,X.value,Z));else{let W=z;if(W.fatal)W.continue=!1;W.code??(W.code="custom"),W.input??(W.input=X.value),W.inst??(W.inst=J),X.issues.push(L1.issue(W))}};let $=Z.transform(X.value,X);if($ instanceof Promise)return $.then((z)=>{return X.value=z,X});return X.value=$,X}});function H41(J){return new pg1({type:"transform",transform:J})}var F41=z1("ZodOptional",(J,Z)=>{b11.init(J,Z),L6.init(J,Z),J.unwrap=()=>J._zod.def.innerType});function mb(J){return new F41({type:"optional",innerType:J})}var ng1=z1("ZodNullable",(J,Z)=>{h11.init(J,Z),L6.init(J,Z),J.unwrap=()=>J._zod.def.innerType});function cb(J){return new ng1({type:"nullable",innerType:J})}function VC4(J){return mb(cb(J))}var ig1=z1("ZodDefault",(J,Z)=>{_11.init(J,Z),L6.init(J,Z),J.unwrap=()=>J._zod.def.innerType,J.removeDefault=J.unwrap});function og1(J,Z){return new ig1({type:"default",innerType:J,get defaultValue(){return typeof Z==="function"?Z():L1.shallowClone(Z)}})}var sg1=z1("ZodPrefault",(J,Z)=>{y11.init(J,Z),L6.init(J,Z),J.unwrap=()=>J._zod.def.innerType});function ag1(J,Z){return new sg1({type:"prefault",innerType:J,get defaultValue(){return typeof Z==="function"?Z():L1.shallowClone(Z)}})}var U41=z1("ZodNonOptional",(J,Z)=>{v11.init(J,Z),L6.init(J,Z),J.unwrap=()=>J._zod.def.innerType});function rg1(J,Z){return new U41({type:"nonoptional",innerType:J,...L1.normalizeParams(Z)})}var tg1=z1("ZodSuccess",(J,Z)=>{x11.init(J,Z),L6.init(J,Z),J.unwrap=()=>J._zod.def.innerType});function IC4(J){return new tg1({type:"success",innerType:J})}var eg1=z1("ZodCatch",(J,Z)=>{g11.init(J,Z),L6.init(J,Z),J.unwrap=()=>J._zod.def.innerType,J.removeCatch=J.unwrap});function Jd1(J,Z){return new eg1({type:"catch",innerType:J,catchValue:typeof Z==="function"?Z:()=>Z})}var Zd1=z1("ZodNaN",(J,Z)=>{d11.init(J,Z),L6.init(J,Z)});function wC4(J){return H61(Zd1,J)}var O41=z1("ZodPipe",(J,Z)=>{u11.init(J,Z),L6.init(J,Z),J.in=Z.in,J.out=Z.out});function lb(J,Z){return new O41({type:"pipe",in:J,out:Z})}var D41=z1("ZodCodec",(J,Z)=>{O41.init(J,Z),fP.init(J,Z)});function AC4(J,Z,X){return new D41({type:"pipe",in:J,out:Z,transform:X.decode,reverseTransform:X.encode})}var Xd1=z1("ZodReadonly",(J,Z)=>{m11.init(J,Z),L6.init(J,Z),J.unwrap=()=>J._zod.def.innerType});function Yd1(J){return new Xd1({type:"readonly",innerType:J})}var $d1=z1("ZodTemplateLiteral",(J,Z)=>{c11.init(J,Z),L6.init(J,Z)});function MC4(J,Z){return new $d1({type:"template_literal",parts:J,...L1.normalizeParams(Z)})}var zd1=z1("ZodLazy",(J,Z)=>{n11.init(J,Z),L6.init(J,Z),J.unwrap=()=>J._zod.def.getter()});function Wd1(J){return new zd1({type:"lazy",getter:J})}var Qd1=z1("ZodPromise",(J,Z)=>{p11.init(J,Z),L6.init(J,Z),J.unwrap=()=>J._zod.def.innerType});function NC4(J){return new Qd1({type:"promise",innerType:J})}var Gd1=z1("ZodFunction",(J,Z)=>{l11.init(J,Z),L6.init(J,Z)});function PC4(J){return new Gd1({type:"function",input:Array.isArray(J?.input)?gg1(J?.input):J?.input??ib(jI()),output:J?.output??jI()})}var sb=z1("ZodCustom",(J,Z)=>{i11.init(J,Z),L6.init(J,Z)});function LC4(J){let Z=new H8({check:"custom"});return Z._zod.check=J,Z}function CC4(J,Z){return A61(sb,J??(()=>!0),Z)}function Kd1(J,Z={}){return M61(sb,J,Z)}function qd1(J){return N61(J)}function jC4(J,Z={error:`Input not instance of ${J.name}`}){let X=new sb({type:"custom",check:"custom",fn:(Y)=>Y instanceof J,abort:!0,...L1.normalizeParams(Z)});return X._zod.bag.Class=J,X}var RC4=(...J)=>P61({Codec:D41,Boolean:eP,String:aP},...J);function EC4(J){let Z=Wd1(()=>{return K41([u61(J),Lg1(),Cg1(),Sg1(),ib(Z),dg1(u61(),Z)])});return Z}function SC4(J,Z){return lb(H41(J),Z)}var TC4={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function fC4(J){U5({customError:J})}function kC4(){return U5().customError}var V41;(function(J){})(V41||(V41={}));var I41={};r9(I41,{string:()=>bC4,number:()=>hC4,date:()=>vC4,boolean:()=>_C4,bigint:()=>yC4});function bC4(J){return x01(aP,J)}function hC4(J){return p01(tP,J)}function _C4(J){return t01(eP,J)}function yC4(J){return J61(JL,J)}function vC4(J){return B61(nb,J)}U5(kP());var wY9=S1.string().trim(),AY9=S1.coerce.number(),MY9=S1.enum(["true","false","1","0","yes","no"]).transform((J)=>["true","1","yes"].includes(J.toLowerCase())),NY9=S1.string().transform((J)=>J.split(",").map((Z)=>Z.trim()).filter(Boolean)),xC4=S1.object({LOG_LEVEL:S1.enum(["debug","info","warn","error"]).default("info"),LOG_MAX_SIZE:S1.string().default("20m"),LOG_MAX_FILES:S1.string().default("14d"),YOGA_RESPONSE_CACHE_TTL:S1.coerce.number().min(0).max(3600000).default(900000).refine((J)=>!Number.isNaN(J),"Cache TTL cannot be NaN"),PORT:S1.coerce.number().min(1).max(65535).default(4000),ENABLE_FILE_LOGGING:S1.coerce.boolean().default(!1),ALLOWED_ORIGINS:S1.array(S1.string().url()).default(["http://localhost:3000"]),BASE_URL:S1.string().url("BASE_URL must be a valid URL").default("http://localhost")}),gC4=S1.object({COUCHBASE_URL:S1.string().url("Must be a valid Couchbase connection URL"),COUCHBASE_USERNAME:S1.string().min(1,"Username cannot be empty"),COUCHBASE_PASSWORD:S1.string().min(1,"Password cannot be empty"),COUCHBASE_BUCKET:S1.string().min(1,"Bucket name cannot be empty").default("default"),COUCHBASE_SCOPE:S1.string().min(1,"Scope name cannot be empty").default("_default"),COUCHBASE_COLLECTION:S1.string().min(1,"Collection name cannot be empty").default("_default"),COUCHBASE_KV_TIMEOUT:S1.coerce.number().min(1000,"KV timeout must be at least 1 second").max(30000,"KV timeout should not exceed 30 seconds").default(5000),COUCHBASE_KV_DURABLE_TIMEOUT:S1.coerce.number().min(5000,"KV durable timeout must be at least 5 seconds").max(60000,"KV durable timeout should not exceed 60 seconds").default(1e4),COUCHBASE_QUERY_TIMEOUT:S1.coerce.number().min(5000,"Query timeout must be at least 5 seconds").max(120000,"Query timeout should not exceed 2 minutes").default(15000),COUCHBASE_ANALYTICS_TIMEOUT:S1.coerce.number().min(1e4,"Analytics timeout must be at least 10 seconds").max(300000,"Analytics timeout should not exceed 5 minutes").default(30000),COUCHBASE_SEARCH_TIMEOUT:S1.coerce.number().min(5000,"Search timeout must be at least 5 seconds").max(120000,"Search timeout should not exceed 2 minutes").default(15000),COUCHBASE_CONNECT_TIMEOUT:S1.coerce.number().min(5000,"Connect timeout must be at least 5 seconds").max(60000,"Connect timeout should not exceed 60 seconds").default(1e4),COUCHBASE_BOOTSTRAP_TIMEOUT:S1.coerce.number().min(1e4,"Bootstrap timeout must be at least 10 seconds").max(120000,"Bootstrap timeout should not exceed 2 minutes").default(15000)}),dC4=S1.object({NODE_ENV:S1.enum(["development","staging","production","test"]).default("development"),CN_ROOT:S1.string().min(1).default("/usr/src/app"),CN_CXXCBC_CACHE_DIR:S1.string().optional(),SOURCE_MAP_SUPPORT:S1.coerce.boolean().default(!0),PRESERVE_SOURCE_MAPS:S1.coerce.boolean().default(!0),BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS:S1.coerce.number().min(0).max(3600).default(120).refine((J)=>!Number.isNaN(J),"DNS TTL cannot be NaN")}),uC4=S1.object({BASE_URL:S1.string().url().default("http://localhost"),HOSTNAME:S1.string().default("localhost"),INSTANCE_ID:S1.string().default("unknown"),CONTAINER_ID:S1.string().optional(),K8S_POD_NAME:S1.string().optional(),K8S_NAMESPACE:S1.string().optional()}),mC4=S1.object({ENABLE_OPENTELEMETRY:S1.coerce.boolean().default(!0),SERVICE_NAME:S1.string().min(1,"SERVICE_NAME is required and cannot be empty").default("CapellaQL Service"),SERVICE_VERSION:S1.string().min(1,"SERVICE_VERSION is required and cannot be empty").default("2.0"),DEPLOYMENT_ENVIRONMENT:S1.enum(["development","staging","production","test"]).default("development"),TRACES_ENDPOINT:S1.string().url("TRACES_ENDPOINT must be a valid URL").default("http://localhost:4318/v1/traces"),METRICS_ENDPOINT:S1.string().url("METRICS_ENDPOINT must be a valid URL").default("http://localhost:4318/v1/metrics"),LOGS_ENDPOINT:S1.string().url("LOGS_ENDPOINT must be a valid URL").default("http://localhost:4318/v1/logs"),METRIC_READER_INTERVAL:S1.coerce.number().min(1000,"METRIC_READER_INTERVAL must be at least 1000ms").max(300000,"METRIC_READER_INTERVAL should not exceed 5 minutes").default(60000).refine((J)=>!Number.isNaN(J),"METRIC_READER_INTERVAL cannot be NaN"),SUMMARY_LOG_INTERVAL:S1.coerce.number().min(1e4,"SUMMARY_LOG_INTERVAL must be at least 10 seconds").max(3600000,"SUMMARY_LOG_INTERVAL should not exceed 1 hour").default(300000).refine((J)=>!Number.isNaN(J),"SUMMARY_LOG_INTERVAL cannot be NaN"),EXPORT_TIMEOUT_MS:S1.coerce.number().min(5000,"EXPORT_TIMEOUT_MS must be at least 5 seconds").max(30000,"EXPORT_TIMEOUT_MS must not exceed 30 seconds (2025 standard)").default(30000),BATCH_SIZE:S1.coerce.number().min(1,"BATCH_SIZE must be at least 1").max(4096,"BATCH_SIZE should not exceed 4096").default(2048),MAX_QUEUE_SIZE:S1.coerce.number().min(100,"MAX_QUEUE_SIZE must be at least 100").max(20000,"MAX_QUEUE_SIZE should not exceed 20000").default(1e4),SAMPLING_RATE:S1.coerce.number().min(0.01,"SAMPLING_RATE must be at least 1%").max(1,"SAMPLING_RATE cannot exceed 100%").default(0.15),CIRCUIT_BREAKER_THRESHOLD:S1.coerce.number().min(1,"CIRCUIT_BREAKER_THRESHOLD must be at least 1").max(20,"CIRCUIT_BREAKER_THRESHOLD should not exceed 20").default(5),CIRCUIT_BREAKER_TIMEOUT_MS:S1.coerce.number().min(1e4,"CIRCUIT_BREAKER_TIMEOUT_MS must be at least 10 seconds").max(300000,"CIRCUIT_BREAKER_TIMEOUT_MS should not exceed 5 minutes").default(60000)}),w41=S1.object({application:xC4,capella:gC4,runtime:dC4,deployment:uC4,telemetry:mC4}).superRefine((J,Z)=>{let X=J.runtime.NODE_ENV==="production"||J.telemetry.DEPLOYMENT_ENVIRONMENT==="production";if(X){if(J.capella.COUCHBASE_PASSWORD==="password")Z.addIssue({code:S1.ZodIssueCode.custom,message:"CRITICAL SECURITY: Default password not allowed in production - this is a security vulnerability",path:["capella","COUCHBASE_PASSWORD"]});if(J.capella.COUCHBASE_USERNAME==="Administrator")Z.addIssue({code:S1.ZodIssueCode.custom,message:"WARNING: Using default Administrator username in production is not recommended",path:["capella","COUCHBASE_USERNAME"]});if(J.application.ALLOWED_ORIGINS.some((Y)=>Y==="*"||Y.includes("localhost")))Z.addIssue({code:S1.ZodIssueCode.custom,message:"Production CORS origins should not include localhost or wildcards",path:["application","ALLOWED_ORIGINS"]});if(J.telemetry.SAMPLING_RATE>0.5)Z.addIssue({code:S1.ZodIssueCode.custom,message:"SAMPLING_RATE above 50% may impact performance in production",path:["telemetry","SAMPLING_RATE"]});if(J.telemetry.EXPORT_TIMEOUT_MS>30000)Z.addIssue({code:S1.ZodIssueCode.custom,message:"EXPORT_TIMEOUT_MS exceeds 30 seconds - this violates 2025 OpenTelemetry standards",path:["telemetry","EXPORT_TIMEOUT_MS"]})}if(Number.isNaN(J.application.YOGA_RESPONSE_CACHE_TTL))Z.addIssue({code:S1.ZodIssueCode.custom,message:"Cache TTL cannot be NaN - this would cause runtime errors",path:["application","YOGA_RESPONSE_CACHE_TTL"]});if(Number.isNaN(J.telemetry.METRIC_READER_INTERVAL))Z.addIssue({code:S1.ZodIssueCode.custom,message:"METRIC_READER_INTERVAL is NaN - this will cause infinite loops",path:["telemetry","METRIC_READER_INTERVAL"]});if(Number.isNaN(J.telemetry.SUMMARY_LOG_INTERVAL))Z.addIssue({code:S1.ZodIssueCode.custom,message:"SUMMARY_LOG_INTERVAL is NaN - this will cause infinite loops",path:["telemetry","SUMMARY_LOG_INTERVAL"]});if(J.runtime.NODE_ENV!==J.telemetry.DEPLOYMENT_ENVIRONMENT)console.warn(`Environment mismatch: NODE_ENV=${J.runtime.NODE_ENV} but DEPLOYMENT_ENVIRONMENT=${J.telemetry.DEPLOYMENT_ENVIRONMENT}`);if(J.application.PORT<1024&&!X)console.warn(`Port ${J.application.PORT} is a privileged port - ensure proper permissions`);try{let Y=new URL(J.telemetry.TRACES_ENDPOINT),$=new URL(J.telemetry.METRICS_ENDPOINT),z=new URL(J.telemetry.LOGS_ENDPOINT);if(Y.host!==$.host||Y.host!==z.host)console.warn("Telemetry endpoints use different hosts - consider using the same OTLP collector")}catch(Y){}if(X&&J.telemetry.BATCH_SIZE<1024)console.warn("BATCH_SIZE is below recommended 1024 for production environments")});function A41(J){let Z=[],X=[],Y=J.runtime.NODE_ENV==="production"||J.telemetry.DEPLOYMENT_ENVIRONMENT==="production";if(Number.isNaN(J.application.YOGA_RESPONSE_CACHE_TTL))Z.push("YOGA_RESPONSE_CACHE_TTL is NaN - will cause runtime errors");if(J.application.YOGA_RESPONSE_CACHE_TTL<=0||J.application.YOGA_RESPONSE_CACHE_TTL>3600000)Z.push(`YOGA_RESPONSE_CACHE_TTL value is unreasonable: ${J.application.YOGA_RESPONSE_CACHE_TTL}ms`);if(Y){if(J.capella.COUCHBASE_PASSWORD==="password")Z.push("CRITICAL: Using default password in production - security risk");if(J.application.ALLOWED_ORIGINS.some(($)=>$.includes("localhost")))Z.push("Production CORS origins should not include localhost");if(J.capella.COUCHBASE_USERNAME==="Administrator")X.push("Using default Administrator username in production is not recommended")}if(Number.isNaN(J.runtime.BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS))Z.push("BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS is NaN - will cause DNS caching issues");if(J.runtime.BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS>3600)X.push("DNS TTL exceeds 1 hour - may cause stale DNS resolution");if(Number.isNaN(J.telemetry.METRIC_READER_INTERVAL))Z.push("METRIC_READER_INTERVAL is NaN - will cause infinite loops");if(Number.isNaN(J.telemetry.SUMMARY_LOG_INTERVAL))Z.push("SUMMARY_LOG_INTERVAL is NaN - will cause infinite loops");if(J.telemetry.EXPORT_TIMEOUT_MS>30000)Z.push("EXPORT_TIMEOUT_MS exceeds 30 seconds - violates 2025 OpenTelemetry standards");if(J.telemetry.BATCH_SIZE>4096)X.push("BATCH_SIZE exceeds recommended 4096 - may impact memory usage");if(J.telemetry.SAMPLING_RATE>0.5&&Y)X.push("SAMPLING_RATE above 50% may impact production performance");if(Y){if(J.deployment.HOSTNAME==="localhost")X.push("HOSTNAME is set to localhost in production - consider setting actual hostname");if(J.deployment.INSTANCE_ID==="unknown")X.push("INSTANCE_ID is unknown in production - consider setting for better observability")}if(J.runtime.NODE_ENV!==J.telemetry.DEPLOYMENT_ENVIRONMENT)X.push(`Environment mismatch: NODE_ENV=${J.runtime.NODE_ENV} vs DEPLOYMENT_ENVIRONMENT=${J.telemetry.DEPLOYMENT_ENVIRONMENT}`);try{let $=new URL(J.application.BASE_URL),z=new URL(J.deployment.BASE_URL);if($.origin!==z.origin)X.push("BASE_URL mismatch between application and deployment sections")}catch($){}return{healthy:Z.length===0,issues:Z,warnings:X}}function Bd1(J){let Z=A41(J),X=J.runtime.NODE_ENV==="production"||J.telemetry.DEPLOYMENT_ENVIRONMENT==="production",Y=`
=== CONFIGURATION HEALTH REPORT ===
`;if(Y+=`Environment: ${J.runtime.NODE_ENV} / ${J.telemetry.DEPLOYMENT_ENVIRONMENT}
`,Y+=`Production Mode: ${X?"YES":"NO"}
`,Y+=`Overall Health: ${Z.healthy?"\u2705 HEALTHY":"\u274C UNHEALTHY"}

`,Z.issues.length>0){Y+=`CRITICAL ISSUES (${Z.issues.length}):
`;for(let $ of Z.issues)Y+=`  \u274C ${$}
`;Y+=`
`}if(Z.warnings.length>0){Y+=`WARNINGS (${Z.warnings.length}):
`;for(let $ of Z.warnings)Y+=`  \u26A0\uFE0F  ${$}
`;Y+=`
`}if(Z.healthy&&Z.warnings.length===0)Y+=`\uD83C\uDF89 Configuration is fully optimized and ready for ${X?"production":"development"}!
`;return Y+=`=== END HEALTH REPORT ===
`,Y}var $6={application:{LOG_LEVEL:"LOG_LEVEL",LOG_MAX_SIZE:"LOG_MAX_SIZE",LOG_MAX_FILES:"LOG_MAX_FILES",YOGA_RESPONSE_CACHE_TTL:"YOGA_RESPONSE_CACHE_TTL",PORT:"PORT",ENABLE_FILE_LOGGING:"ENABLE_FILE_LOGGING",ALLOWED_ORIGINS:"ALLOWED_ORIGINS",BASE_URL:"BASE_URL"},capella:{COUCHBASE_URL:"COUCHBASE_URL",COUCHBASE_USERNAME:"COUCHBASE_USERNAME",COUCHBASE_PASSWORD:"COUCHBASE_PASSWORD",COUCHBASE_BUCKET:"COUCHBASE_BUCKET",COUCHBASE_SCOPE:"COUCHBASE_SCOPE",COUCHBASE_COLLECTION:"COUCHBASE_COLLECTION",COUCHBASE_KV_TIMEOUT:"COUCHBASE_KV_TIMEOUT",COUCHBASE_KV_DURABLE_TIMEOUT:"COUCHBASE_KV_DURABLE_TIMEOUT",COUCHBASE_QUERY_TIMEOUT:"COUCHBASE_QUERY_TIMEOUT",COUCHBASE_ANALYTICS_TIMEOUT:"COUCHBASE_ANALYTICS_TIMEOUT",COUCHBASE_SEARCH_TIMEOUT:"COUCHBASE_SEARCH_TIMEOUT",COUCHBASE_CONNECT_TIMEOUT:"COUCHBASE_CONNECT_TIMEOUT",COUCHBASE_BOOTSTRAP_TIMEOUT:"COUCHBASE_BOOTSTRAP_TIMEOUT"},runtime:{NODE_ENV:"NODE_ENV",CN_ROOT:"CN_ROOT",CN_CXXCBC_CACHE_DIR:"CN_CXXCBC_CACHE_DIR",SOURCE_MAP_SUPPORT:"SOURCE_MAP_SUPPORT",PRESERVE_SOURCE_MAPS:"PRESERVE_SOURCE_MAPS",BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS:"BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS"},deployment:{BASE_URL:"BASE_URL",HOSTNAME:"HOSTNAME",INSTANCE_ID:"INSTANCE_ID",CONTAINER_ID:"CONTAINER_ID",K8S_POD_NAME:"K8S_POD_NAME",K8S_NAMESPACE:"K8S_NAMESPACE"},telemetry:{ENABLE_OPENTELEMETRY:"ENABLE_OPENTELEMETRY",SERVICE_NAME:"SERVICE_NAME",SERVICE_VERSION:"SERVICE_VERSION",DEPLOYMENT_ENVIRONMENT:"DEPLOYMENT_ENVIRONMENT",TRACES_ENDPOINT:"TRACES_ENDPOINT",METRICS_ENDPOINT:"METRICS_ENDPOINT",LOGS_ENDPOINT:"LOGS_ENDPOINT",METRIC_READER_INTERVAL:"METRIC_READER_INTERVAL",SUMMARY_LOG_INTERVAL:"SUMMARY_LOG_INTERVAL",EXPORT_TIMEOUT_MS:"EXPORT_TIMEOUT_MS",BATCH_SIZE:"BATCH_SIZE",MAX_QUEUE_SIZE:"MAX_QUEUE_SIZE",SAMPLING_RATE:"SAMPLING_RATE",CIRCUIT_BREAKER_THRESHOLD:"CIRCUIT_BREAKER_THRESHOLD",CIRCUIT_BREAKER_TIMEOUT_MS:"CIRCUIT_BREAKER_TIMEOUT_MS"}};class M41 extends Error{errors;partialConfig;constructor(J,Z,X){super(J);this.errors=Z;this.partialConfig=X;this.name="ConfigurationError"}toDetailedString(){let J=this.errors.issues.map((Z)=>{let X=Z.path.join("."),Y=this.getEnvVarName(X);return`  - ${X}: ${Z.message}${Y?` (env: ${Y})`:""}`}).join(`
`);return`${this.message}
${J}`}getEnvVarName(J){return{"application.LOG_LEVEL":"LOG_LEVEL","application.LOG_MAX_SIZE":"LOG_MAX_SIZE","application.LOG_MAX_FILES":"LOG_MAX_FILES","application.YOGA_RESPONSE_CACHE_TTL":"YOGA_RESPONSE_CACHE_TTL","application.PORT":"PORT","application.ENABLE_FILE_LOGGING":"ENABLE_FILE_LOGGING","application.ALLOWED_ORIGINS":"ALLOWED_ORIGINS","application.BASE_URL":"BASE_URL","capella.COUCHBASE_URL":"COUCHBASE_URL","capella.COUCHBASE_USERNAME":"COUCHBASE_USERNAME","capella.COUCHBASE_PASSWORD":"COUCHBASE_PASSWORD","capella.COUCHBASE_BUCKET":"COUCHBASE_BUCKET","capella.COUCHBASE_SCOPE":"COUCHBASE_SCOPE","capella.COUCHBASE_COLLECTION":"COUCHBASE_COLLECTION","runtime.NODE_ENV":"NODE_ENV","runtime.CN_ROOT":"CN_ROOT","runtime.CN_CXXCBC_CACHE_DIR":"CN_CXXCBC_CACHE_DIR","runtime.SOURCE_MAP_SUPPORT":"SOURCE_MAP_SUPPORT","runtime.PRESERVE_SOURCE_MAPS":"PRESERVE_SOURCE_MAPS","runtime.BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS":"BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS","deployment.BASE_URL":"BASE_URL","deployment.HOSTNAME":"HOSTNAME","deployment.INSTANCE_ID":"INSTANCE_ID","deployment.CONTAINER_ID":"CONTAINER_ID","deployment.K8S_POD_NAME":"K8S_POD_NAME","deployment.K8S_NAMESPACE":"K8S_NAMESPACE","telemetry.ENABLE_OPENTELEMETRY":"ENABLE_OPENTELEMETRY","telemetry.SERVICE_NAME":"SERVICE_NAME","telemetry.SERVICE_VERSION":"SERVICE_VERSION","telemetry.DEPLOYMENT_ENVIRONMENT":"DEPLOYMENT_ENVIRONMENT","telemetry.TRACES_ENDPOINT":"TRACES_ENDPOINT","telemetry.METRICS_ENDPOINT":"METRICS_ENDPOINT","telemetry.LOGS_ENDPOINT":"LOGS_ENDPOINT","telemetry.METRIC_READER_INTERVAL":"METRIC_READER_INTERVAL","telemetry.SUMMARY_LOG_INTERVAL":"SUMMARY_LOG_INTERVAL","telemetry.EXPORT_TIMEOUT_MS":"EXPORT_TIMEOUT_MS","telemetry.BATCH_SIZE":"BATCH_SIZE","telemetry.MAX_QUEUE_SIZE":"MAX_QUEUE_SIZE","telemetry.SAMPLING_RATE":"SAMPLING_RATE","telemetry.CIRCUIT_BREAKER_THRESHOLD":"CIRCUIT_BREAKER_THRESHOLD","telemetry.CIRCUIT_BREAKER_TIMEOUT_MS":"CIRCUIT_BREAKER_TIMEOUT_MS"}[J]}}var F0={application:{LOG_LEVEL:"info",LOG_MAX_SIZE:"20m",LOG_MAX_FILES:"14d",YOGA_RESPONSE_CACHE_TTL:900000,PORT:4000,ENABLE_FILE_LOGGING:!1,ALLOWED_ORIGINS:["http://localhost:3000"],BASE_URL:"http://localhost"},capella:{COUCHBASE_URL:"couchbase://localhost",COUCHBASE_USERNAME:"Administrator",COUCHBASE_PASSWORD:"password",COUCHBASE_BUCKET:"default",COUCHBASE_SCOPE:"_default",COUCHBASE_COLLECTION:"_default",COUCHBASE_KV_TIMEOUT:5000,COUCHBASE_KV_DURABLE_TIMEOUT:1e4,COUCHBASE_QUERY_TIMEOUT:15000,COUCHBASE_ANALYTICS_TIMEOUT:30000,COUCHBASE_SEARCH_TIMEOUT:15000,COUCHBASE_CONNECT_TIMEOUT:1e4,COUCHBASE_BOOTSTRAP_TIMEOUT:15000},runtime:{NODE_ENV:"development",CN_ROOT:"/usr/src/app",CN_CXXCBC_CACHE_DIR:void 0,SOURCE_MAP_SUPPORT:!0,PRESERVE_SOURCE_MAPS:!0,BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS:120},deployment:{BASE_URL:"http://localhost",HOSTNAME:"localhost",INSTANCE_ID:"unknown",CONTAINER_ID:void 0,K8S_POD_NAME:void 0,K8S_NAMESPACE:void 0},telemetry:{ENABLE_OPENTELEMETRY:!0,SERVICE_NAME:"CapellaQL Service",SERVICE_VERSION:"2.0",DEPLOYMENT_ENVIRONMENT:"development",TRACES_ENDPOINT:"http://localhost:4318/v1/traces",METRICS_ENDPOINT:"http://localhost:4318/v1/metrics",LOGS_ENDPOINT:"http://localhost:4318/v1/logs",METRIC_READER_INTERVAL:60000,SUMMARY_LOG_INTERVAL:300000,EXPORT_TIMEOUT_MS:30000,BATCH_SIZE:2048,MAX_QUEUE_SIZE:1e4,SAMPLING_RATE:0.15,CIRCUIT_BREAKER_THRESHOLD:5,CIRCUIT_BREAKER_TIMEOUT_MS:60000}};function z6(J,Z,X){if(J===void 0||J==="")return;if(J=J.replace(/^['"]|['"]$/g,"").trim(),J==="")return;try{switch(Z){case"number":{let Y=Number(J);if(Number.isNaN(Y)||!Number.isFinite(Y)){console.warn(`Warning: Environment variable ${X} has invalid number value: '${J}'. Using default.`);return}return Y}case"boolean":{let Y=J.toLowerCase().trim(),$=["true","1","yes","on","enabled","enable"],z=["false","0","no","off","disabled","disable"];if($.includes(Y))return!0;if(z.includes(Y))return!1;return console.warn(`Warning: Environment variable ${X} has ambiguous boolean value: '${J}'. Treating as false.`),!1}case"array":return J.split(/[,;|]/).map((Y)=>Y.trim()).filter(Boolean);case"json":try{return JSON.parse(J)}catch(Y){console.warn(`Warning: Environment variable ${X} contains invalid JSON: '${J}'. Using default.`);return}default:return J}}catch(Y){console.warn(`Warning: Failed to parse environment variable ${X}: ${Y}. Using default.`);return}}function W6(J){if(typeof Bun!=="undefined"){let Z=Bun.env[J];if(Z!==void 0&&Z!==null&&Z!=="")return String(Z)}try{let Z=process.env[J];if(Z!==void 0&&Z!==null&&Z!=="")return String(Z)}catch(Z){}return}function cC4(){let J={};return J.application={LOG_LEVEL:z6(W6($6.application.LOG_LEVEL),"string","LOG_LEVEL")||F0.application.LOG_LEVEL,LOG_MAX_SIZE:z6(W6($6.application.LOG_MAX_SIZE),"string","LOG_MAX_SIZE")||F0.application.LOG_MAX_SIZE,LOG_MAX_FILES:z6(W6($6.application.LOG_MAX_FILES),"string","LOG_MAX_FILES")||F0.application.LOG_MAX_FILES,YOGA_RESPONSE_CACHE_TTL:z6(W6($6.application.YOGA_RESPONSE_CACHE_TTL),"number","YOGA_RESPONSE_CACHE_TTL")||F0.application.YOGA_RESPONSE_CACHE_TTL,PORT:z6(W6($6.application.PORT),"number","PORT")||F0.application.PORT,ENABLE_FILE_LOGGING:z6(W6($6.application.ENABLE_FILE_LOGGING),"boolean","ENABLE_FILE_LOGGING")??F0.application.ENABLE_FILE_LOGGING,ALLOWED_ORIGINS:z6(W6($6.application.ALLOWED_ORIGINS),"array","ALLOWED_ORIGINS")||F0.application.ALLOWED_ORIGINS,BASE_URL:z6(W6($6.application.BASE_URL),"string","BASE_URL")||F0.application.BASE_URL},J.capella={COUCHBASE_URL:z6(W6($6.capella.COUCHBASE_URL),"string","COUCHBASE_URL")||F0.capella.COUCHBASE_URL,COUCHBASE_USERNAME:z6(W6($6.capella.COUCHBASE_USERNAME),"string","COUCHBASE_USERNAME")||F0.capella.COUCHBASE_USERNAME,COUCHBASE_PASSWORD:z6(W6($6.capella.COUCHBASE_PASSWORD),"string","COUCHBASE_PASSWORD")||F0.capella.COUCHBASE_PASSWORD,COUCHBASE_BUCKET:z6(W6($6.capella.COUCHBASE_BUCKET),"string","COUCHBASE_BUCKET")||F0.capella.COUCHBASE_BUCKET,COUCHBASE_SCOPE:z6(W6($6.capella.COUCHBASE_SCOPE),"string","COUCHBASE_SCOPE")||F0.capella.COUCHBASE_SCOPE,COUCHBASE_COLLECTION:z6(W6($6.capella.COUCHBASE_COLLECTION),"string","COUCHBASE_COLLECTION")||F0.capella.COUCHBASE_COLLECTION,COUCHBASE_KV_TIMEOUT:z6(W6($6.capella.COUCHBASE_KV_TIMEOUT),"number","COUCHBASE_KV_TIMEOUT")||F0.capella.COUCHBASE_KV_TIMEOUT,COUCHBASE_KV_DURABLE_TIMEOUT:z6(W6($6.capella.COUCHBASE_KV_DURABLE_TIMEOUT),"number","COUCHBASE_KV_DURABLE_TIMEOUT")||F0.capella.COUCHBASE_KV_DURABLE_TIMEOUT,COUCHBASE_QUERY_TIMEOUT:z6(W6($6.capella.COUCHBASE_QUERY_TIMEOUT),"number","COUCHBASE_QUERY_TIMEOUT")||F0.capella.COUCHBASE_QUERY_TIMEOUT,COUCHBASE_ANALYTICS_TIMEOUT:z6(W6($6.capella.COUCHBASE_ANALYTICS_TIMEOUT),"number","COUCHBASE_ANALYTICS_TIMEOUT")||F0.capella.COUCHBASE_ANALYTICS_TIMEOUT,COUCHBASE_SEARCH_TIMEOUT:z6(W6($6.capella.COUCHBASE_SEARCH_TIMEOUT),"number","COUCHBASE_SEARCH_TIMEOUT")||F0.capella.COUCHBASE_SEARCH_TIMEOUT,COUCHBASE_CONNECT_TIMEOUT:z6(W6($6.capella.COUCHBASE_CONNECT_TIMEOUT),"number","COUCHBASE_CONNECT_TIMEOUT")||F0.capella.COUCHBASE_CONNECT_TIMEOUT,COUCHBASE_BOOTSTRAP_TIMEOUT:z6(W6($6.capella.COUCHBASE_BOOTSTRAP_TIMEOUT),"number","COUCHBASE_BOOTSTRAP_TIMEOUT")||F0.capella.COUCHBASE_BOOTSTRAP_TIMEOUT},J.runtime={NODE_ENV:z6(W6($6.runtime.NODE_ENV),"string","NODE_ENV")||F0.runtime.NODE_ENV,CN_ROOT:z6(W6($6.runtime.CN_ROOT),"string","CN_ROOT")||F0.runtime.CN_ROOT,CN_CXXCBC_CACHE_DIR:z6(W6($6.runtime.CN_CXXCBC_CACHE_DIR),"string","CN_CXXCBC_CACHE_DIR")||F0.runtime.CN_CXXCBC_CACHE_DIR,SOURCE_MAP_SUPPORT:z6(W6($6.runtime.SOURCE_MAP_SUPPORT),"boolean","SOURCE_MAP_SUPPORT")??F0.runtime.SOURCE_MAP_SUPPORT,PRESERVE_SOURCE_MAPS:z6(W6($6.runtime.PRESERVE_SOURCE_MAPS),"boolean","PRESERVE_SOURCE_MAPS")??F0.runtime.PRESERVE_SOURCE_MAPS,BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS:z6(W6($6.runtime.BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS),"number","BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS")||F0.runtime.BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS},J.deployment={BASE_URL:z6(W6($6.deployment.BASE_URL),"string","BASE_URL")||F0.deployment.BASE_URL,HOSTNAME:z6(W6($6.deployment.HOSTNAME),"string","HOSTNAME")||F0.deployment.HOSTNAME,INSTANCE_ID:z6(W6($6.deployment.INSTANCE_ID),"string","INSTANCE_ID")||F0.deployment.INSTANCE_ID,CONTAINER_ID:z6(W6($6.deployment.CONTAINER_ID),"string","CONTAINER_ID")||F0.deployment.CONTAINER_ID,K8S_POD_NAME:z6(W6($6.deployment.K8S_POD_NAME),"string","K8S_POD_NAME")||F0.deployment.K8S_POD_NAME,K8S_NAMESPACE:z6(W6($6.deployment.K8S_NAMESPACE),"string","K8S_NAMESPACE")||F0.deployment.K8S_NAMESPACE},J.telemetry={ENABLE_OPENTELEMETRY:z6(W6($6.telemetry.ENABLE_OPENTELEMETRY),"boolean","ENABLE_OPENTELEMETRY")??F0.telemetry.ENABLE_OPENTELEMETRY,SERVICE_NAME:z6(W6($6.telemetry.SERVICE_NAME),"string","SERVICE_NAME")||F0.telemetry.SERVICE_NAME,SERVICE_VERSION:z6(W6($6.telemetry.SERVICE_VERSION),"string","SERVICE_VERSION")||F0.telemetry.SERVICE_VERSION,DEPLOYMENT_ENVIRONMENT:z6(W6($6.telemetry.DEPLOYMENT_ENVIRONMENT),"string","DEPLOYMENT_ENVIRONMENT")||F0.telemetry.DEPLOYMENT_ENVIRONMENT,TRACES_ENDPOINT:z6(W6($6.telemetry.TRACES_ENDPOINT),"string","TRACES_ENDPOINT")||F0.telemetry.TRACES_ENDPOINT,METRICS_ENDPOINT:z6(W6($6.telemetry.METRICS_ENDPOINT),"string","METRICS_ENDPOINT")||F0.telemetry.METRICS_ENDPOINT,LOGS_ENDPOINT:z6(W6($6.telemetry.LOGS_ENDPOINT),"string","LOGS_ENDPOINT")||F0.telemetry.LOGS_ENDPOINT,METRIC_READER_INTERVAL:z6(W6($6.telemetry.METRIC_READER_INTERVAL),"number","METRIC_READER_INTERVAL")||F0.telemetry.METRIC_READER_INTERVAL,SUMMARY_LOG_INTERVAL:z6(W6($6.telemetry.SUMMARY_LOG_INTERVAL),"number","SUMMARY_LOG_INTERVAL")||F0.telemetry.SUMMARY_LOG_INTERVAL,EXPORT_TIMEOUT_MS:z6(W6($6.telemetry.EXPORT_TIMEOUT_MS),"number","EXPORT_TIMEOUT_MS")||F0.telemetry.EXPORT_TIMEOUT_MS,BATCH_SIZE:z6(W6($6.telemetry.BATCH_SIZE),"number","BATCH_SIZE")||F0.telemetry.BATCH_SIZE,MAX_QUEUE_SIZE:z6(W6($6.telemetry.MAX_QUEUE_SIZE),"number","MAX_QUEUE_SIZE")||F0.telemetry.MAX_QUEUE_SIZE,SAMPLING_RATE:z6(W6($6.telemetry.SAMPLING_RATE),"number","SAMPLING_RATE")||F0.telemetry.SAMPLING_RATE,CIRCUIT_BREAKER_THRESHOLD:z6(W6($6.telemetry.CIRCUIT_BREAKER_THRESHOLD),"number","CIRCUIT_BREAKER_THRESHOLD")||F0.telemetry.CIRCUIT_BREAKER_THRESHOLD,CIRCUIT_BREAKER_TIMEOUT_MS:z6(W6($6.telemetry.CIRCUIT_BREAKER_TIMEOUT_MS),"number","CIRCUIT_BREAKER_TIMEOUT_MS")||F0.telemetry.CIRCUIT_BREAKER_TIMEOUT_MS},J}function lC4(J){return JSON.parse(JSON.stringify(J,(Z,X)=>{let Y=["password","secret","token","key","apikey","auth","credential","cert","private","pass","pwd","hash"];if(Y.some(($)=>Z.toLowerCase().includes($)))if(X&&typeof X==="string"&&X.length>0)if(X.length<=8)return"***REDACTED***";else return`${X.substring(0,2)}***${X.substring(X.length-2)}`;else return X;if(typeof X==="string"&&(X.startsWith("http")||X.startsWith("couchbase")))try{let $=new URL(X);if($.username||$.password)$.username=$.username?"REDACTED":"",$.password=$.password?"REDACTED":"";let z=["token","key","secret","auth"];for(let[W]of $.searchParams)if(Y.some((Q)=>W.toLowerCase().includes(Q)))$.searchParams.set(W,"REDACTED");return $.toString()}catch($){return X}return X}))}var LJ;try{let J=cC4(),Z={application:{...F0.application,...J.application},capella:{...F0.capella,...J.capella},runtime:{...F0.runtime,...J.runtime},deployment:{...F0.deployment,...J.deployment},telemetry:{...F0.telemetry,...J.telemetry}},X=w41.safeParse(Z);if(!X.success){let W=new M41("Configuration validation failed",X.error,Z);process.stderr.write(`
=== CONFIGURATION VALIDATION FAILED ===
`),process.stderr.write(`${W.toDetailedString()}
`);let Q=X.error.issues.filter((G)=>G.message.includes("CRITICAL")||G.path.includes("COUCHBASE_PASSWORD"));if(Q.length>0)process.stderr.write(`
=== CRITICAL SECURITY ISSUES DETECTED ===
`),Q.forEach((G)=>{process.stderr.write(`\u274C ${G.message}
`)}),process.stderr.write(`=== DEPLOYMENT BLOCKED - FIX THESE ISSUES ===

`);throw W}LJ=X.data;let Y=A41(LJ);if(!Y.healthy||Y.warnings.length>0){let W=Bd1(LJ);if(process.stderr.write(W),!Y.healthy)throw process.stderr.write(`
=== CRITICAL CONFIGURATION ISSUES DETECTED ===
`),process.stderr.write(`Cannot proceed with invalid configuration.
`),process.stderr.write(`=== STARTUP BLOCKED ===

`),new Error("Configuration health check failed - see issues above")}let $=lC4(LJ);if(process.stderr.write(`
=== CONFIGURATION LOADED SUCCESSFULLY ===
`),process.stderr.write(`${JSON.stringify($,null,2)}
`),LJ.runtime.NODE_ENV==="production"||LJ.telemetry.DEPLOYMENT_ENVIRONMENT==="production")process.stderr.write(`\uD83D\uDD12 Production mode: All security validations passed
`);else process.stderr.write(`\uD83D\uDD27 Development mode: Using development defaults where applicable
`);process.stderr.write(`\uD83D\uDCCB Unified configuration system active - ALL environment variables consolidated
`),process.stderr.write(`\uD83D\uDCCA Configuration sections loaded: application, capella, runtime, deployment, telemetry
`),process.stderr.write(`\uD83D\uDE80 Telemetry configuration: ${LJ.telemetry.ENABLE_OPENTELEMETRY?"ENABLED":"DISABLED"}
`),process.stderr.write(`\u26A1 Runtime: ${typeof Bun!=="undefined"?`Bun ${Bun.version}`:"Node.js"}
`),process.stderr.write(`=== CONFIGURATION INITIALIZATION COMPLETE ===

`)}catch(J){if(J instanceof M41)process.exit(1);else throw process.stderr.write(`\u274C Unexpected configuration error: ${J instanceof Error?J.message:String(J)}
`),process.stderr.write(`
=== CONFIGURATION SYSTEM FAILURE ===
`),process.stderr.write(`The unified configuration system encountered a critical error.
`),process.stderr.write(`This may indicate:
 - Invalid environment variable values
 - Missing required configuration
 - System-level environment access issues
`),process.stderr.write(`=== STARTUP BLOCKED ===

`),new Error(`Unified configuration system failure: ${J instanceof Error?J.message:String(J)}`)}var D6=LJ,N41=LJ.telemetry,CY9=LJ.application,jY9=LJ.capella,RY9=LJ.runtime,EY9=LJ.deployment;var eb=M1(C(),1);var P41=function(){function J(){}return J.prototype.emit=function(Z){},J}();var Hd1=new P41;var pC4=function(){function J(){}return J.prototype.getLogger=function(Z,X,Y){return new P41},J}();var ab=new pC4;var Fd1=function(){function J(Z,X,Y,$){this._provider=Z,this.name=X,this.version=Y,this.options=$}return J.prototype.emit=function(Z){this._getLogger().emit(Z)},J.prototype._getLogger=function(){if(this._delegate)return this._delegate;var Z=this._provider.getDelegateLogger(this.name,this.version,this.options);if(!Z)return Hd1;return this._delegate=Z,this._delegate},J}();var L41=function(){function J(){}return J.prototype.getLogger=function(Z,X,Y){var $;return($=this.getDelegateLogger(Z,X,Y))!==null&&$!==void 0?$:new Fd1(this,Z,X,Y)},J.prototype.getDelegate=function(){var Z;return(Z=this._delegate)!==null&&Z!==void 0?Z:ab},J.prototype.setDelegate=function(Z){this._delegate=Z},J.prototype.getDelegateLogger=function(Z,X,Y){var $;return($=this._delegate)===null||$===void 0?void 0:$.getLogger(Z,X,Y)},J}();var rb=typeof globalThis==="object"?globalThis:global;var ZL=Symbol.for("io.opentelemetry.js.api.logs"),EI=rb;function Ud1(J,Z,X){return function(Y){return Y===J?Z:X}}var C41=1;var Od1=function(){function J(){this._proxyLoggerProvider=new L41}return J.getInstance=function(){if(!this._instance)this._instance=new J;return this._instance},J.prototype.setGlobalLoggerProvider=function(Z){if(EI[ZL])return this.getLoggerProvider();return EI[ZL]=Ud1(C41,Z,ab),this._proxyLoggerProvider.setDelegate(Z),Z},J.prototype.getLoggerProvider=function(){var Z,X;return(X=(Z=EI[ZL])===null||Z===void 0?void 0:Z.call(EI,C41))!==null&&X!==void 0?X:this._proxyLoggerProvider},J.prototype.getLogger=function(Z,X,Y){return this.getLoggerProvider().getLogger(Z,X,Y)},J.prototype.disable=function(){delete EI[ZL],this._proxyLoggerProvider=new L41},J}();var Dd1=Od1.getInstance();class tb{state="CLOSED";failures=0;successes=0;lastFailureTime=null;lastSuccessTime=null;totalAttempts=0;totalFailures=0;totalSuccesses=0;config;constructor(J={}){this.config={failureThreshold:J.failureThreshold??5,recoveryTimeoutMs:J.recoveryTimeoutMs??60000,successThreshold:J.successThreshold??3,timeWindowMs:J.timeWindowMs??60000}}canExecute(){switch(this.totalAttempts++,this.state){case"CLOSED":return!0;case"OPEN":if(this.shouldAttemptReset())return this.state="HALF_OPEN",this.successes=0,!0;return!1;case"HALF_OPEN":return!0;default:return!1}}recordSuccess(){switch(this.lastSuccessTime=Date.now(),this.totalSuccesses++,this.state){case"CLOSED":this.resetFailures();break;case"HALF_OPEN":if(this.successes++,this.successes>=this.config.successThreshold)this.state="CLOSED",this.resetFailures();break}}recordFailure(){switch(this.lastFailureTime=Date.now(),this.failures++,this.totalFailures++,this.state){case"CLOSED":if(this.failures>=this.config.failureThreshold)this.state="OPEN";break;case"HALF_OPEN":this.state="OPEN";break}}getStats(){return{state:this.state,failures:this.failures,successes:this.successes,lastFailureTime:this.lastFailureTime,lastSuccessTime:this.lastSuccessTime,totalAttempts:this.totalAttempts,totalFailures:this.totalFailures,totalSuccesses:this.totalSuccesses}}getHealthStatus(){let J=this.totalAttempts>0?this.totalSuccesses/this.totalAttempts*100:0;return{isHealthy:this.state==="CLOSED",successRate:Math.round(J*100)/100,state:this.state,canExecute:this.canExecute()}}reset(){this.state="CLOSED",this.resetFailures(),this.successes=0}shouldAttemptReset(){if(!this.lastFailureTime)return!1;return Date.now()-this.lastFailureTime>=this.config.recoveryTimeoutMs}resetFailures(){this.failures=0}}class Vd1{circuitBreaker;exporters;config;constructor(){let J=D6.telemetry.CIRCUIT_BREAKER_THRESHOLD,Z=D6.telemetry.CIRCUIT_BREAKER_TIMEOUT_MS;this.circuitBreaker=new tb({failureThreshold:J,recoveryTimeoutMs:Z,successThreshold:3}),this.exporters=new Map([["traces",this.createInitialExporterHealth("traces")],["metrics",this.createInitialExporterHealth("metrics")],["logs",this.createInitialExporterHealth("logs")]])}setConfig(J){this.config=J}getCircuitBreaker(){return this.circuitBreaker}recordExporterSuccess(J){let Z=this.exporters.get(J);if(Z)if(Z.lastExportTime=Date.now(),Z.exportCount++,Z.successRate=(Z.exportCount-Z.failureCount)/Z.exportCount*100,Z.successRate>=95)Z.status="healthy";else if(Z.successRate>=85&&Z.status==="healthy")Z.status="healthy";else if(Z.successRate>=80)Z.status="degraded";else Z.status="unhealthy";this.circuitBreaker.recordSuccess()}recordExporterFailure(J,Z){let X=this.exporters.get(J);if(X)if(X.failureCount++,X.exportCount++,X.successRate=(X.exportCount-X.failureCount)/X.exportCount*100,X.successRate>=95)X.status="healthy";else if(X.successRate>=80)X.status="degraded";else X.status="unhealthy";this.circuitBreaker.recordFailure()}getHealthData(){let J=this.circuitBreaker.getHealthStatus(),Z=process.memoryUsage(),X=Array.from(this.exporters.values()).map(($)=>$.status),Y;if(X.every(($)=>$==="healthy")&&J.isHealthy)Y="healthy";else if(X.some(($)=>$==="unhealthy")||!J.isHealthy)Y="unhealthy";else Y="degraded";return{timestamp:Date.now(),status:Y,exporters:{traces:this.exporters.get("traces")||{healthy:!1,lastError:"Exporter not found"},metrics:this.exporters.get("metrics")||{healthy:!1,lastError:"Exporter not found"},logs:this.exporters.get("logs")||{healthy:!1,lastError:"Exporter not found"}},circuitBreaker:{state:J.state,isHealthy:J.isHealthy,successRate:J.successRate,canExecute:J.canExecute,totalAttempts:this.circuitBreaker.getStats().totalAttempts,totalFailures:this.circuitBreaker.getStats().totalFailures},configuration:{samplingRate:this.config?.SAMPLING_RATE||0.15,exportTimeoutMs:this.config?.EXPORT_TIMEOUT_MS||30000,batchSize:this.config?.BATCH_SIZE||2048,maxQueueSize:this.config?.MAX_QUEUE_SIZE||1e4},runtime:{memoryUsageMB:Math.round(Z.heapUsed/1024/1024),uptimeMs:process.uptime()*1000,environment:D6.telemetry.DEPLOYMENT_ENVIRONMENT,version:this.config?.serviceVersion||"unknown"}}}createInitialExporterHealth(J){return{name:J,status:"healthy",lastExportTime:null,exportCount:0,failureCount:0,successRate:100}}}var fQ=new Vd1;function O3(){return fQ.getHealthData()}class Id1{logger;isInitialized=!1;fallbackLogs=[];initialize(){if(this.isInitialized)return;try{let J=Dd1.getLoggerProvider();this.logger=J.getLogger("capellaql-logger","1.0.0"),this.isInitialized=!0,this.flushFallbackLogs()}catch(J){console.error("Failed to initialize telemetry logger:",J)}}log(J,Z,X){let Y=this.createLogData(J,Z,X);this.emit(Y)}debug(J,Z){this.log("debug",J,Z)}info(J,Z){this.log("info",J,Z)}warn(J,Z){this.log("warn",J,Z)}error(J,Z,X){let Y=Z instanceof Error?{error:{name:Z.name,message:Z.message,stack:Z.stack},...X}:{error:String(Z),...X};this.log("error",J,Y)}createLogData(J,Z,X){return{message:Z,level:J,timestamp:Date.now(),context:this.getCurrentTraceContext(),meta:X}}getCurrentTraceContext(){try{let J=eb.context.active(),Z=eb.trace.getSpan(J),X=Z?.spanContext(),Y=X?{traceId:X.traceId,spanId:X.spanId}:{};if(Z){let $=Z.attributes;if($&&$["correlation.id"])Y.requestId=String($["correlation.id"]);if($&&$["user.id"])Y.userId=String($["user.id"])}return Y}catch{return{}}}emit(J){let Z=fQ.getCircuitBreaker();if(!Z.canExecute()){this.fallbackToConsole(J);return}if(this.isInitialized&&this.logger)try{this.logger.emit({timestamp:J.timestamp,severityText:J.level.toUpperCase(),severityNumber:this.getSeverityNumber(J.level),body:J.message,attributes:{...J.context,...J.meta,"service.name":"capellaql","service.version":"2.0.0","runtime.name":typeof Bun!=="undefined"?"bun":"node"}}),fQ.recordExporterSuccess("logs"),Z.recordSuccess()}catch(X){fQ.recordExporterFailure("logs",X),Z.recordFailure(),this.fallbackToConsole(J,X)}else{if(this.fallbackLogs.push(J),this.fallbackLogs.length>100)this.fallbackLogs.shift();this.fallbackToConsole(J)}}fallbackToConsole(J,Z){let X=new Date(J.timestamp).toISOString(),Y=J.context?`[${J.context.traceId?.slice(0,8)}:${J.context.spanId?.slice(0,8)}]`:"",$=`${X} ${J.level.toUpperCase()} ${Y} ${J.message}`;switch(J.level){case"debug":console.debug($,J.meta||"");break;case"info":console.info($,J.meta||"");break;case"warn":console.warn($,J.meta||"");break;case"error":if(console.error($,J.meta||""),Z)console.error("Logging error:",Z);break}}flushFallbackLogs(){if(this.fallbackLogs.length>0&&this.isInitialized&&this.logger){console.info(`Flushing ${this.fallbackLogs.length} fallback logs to OpenTelemetry`);for(let J of this.fallbackLogs)this.emit(J);this.fallbackLogs=[]}}getSeverityNumber(J){switch(J){case"debug":return 5;case"info":return 9;case"warn":return 13;case"error":return 17;default:return 9}}}var kQ=new Id1;function e1(J,Z){kQ.info(J,Z)}function Z5(J,Z){kQ.debug(J,Z)}function j41(J,Z){kQ.warn(J,Z)}function U9(J,Z,X){kQ.error(J,Z,X)}function q4(J,Z,X){kQ.error(J,Z,X)}var nI=M1(an1(),1);import{promises as pI}from"fs";async function Vf4(J){if(typeof Bun!=="undefined")return Bun.sleep(J);return new Promise((Z)=>setTimeout(Z,J))}var If4;(($z9)=>{async function J(Q){if(typeof Bun!=="undefined")try{return await Bun.file(Q).text()}catch(G){throw new Error(`Failed to read file with Bun.file(): ${G}`)}return pI.readFile(Q,"utf8")}$z9.read=J;async function Z(Q,G){if(typeof Bun!=="undefined")try{await Bun.write(Q,G);return}catch(K){throw new Error(`Failed to write file with Bun.write(): ${K}`)}return pI.writeFile(Q,G,"utf8")}$z9.write=Z;async function X(Q){if(typeof Bun!=="undefined")try{return await Bun.file(Q).exists()}catch{return!1}try{return await pI.access(Q),!0}catch{return!1}}$z9.exists=X;async function Y(Q){if(typeof Bun!=="undefined")return Bun.file(Q).size;return(await pI.stat(Q)).size}$z9.size=Y;function $(Q){if(typeof Bun!=="undefined")return Bun.file(Q).stream();return new ReadableStream({start(K){let q=pI.createReadStream(Q);q.on("data",(H)=>{K.enqueue(new Uint8Array(H))}),q.on("end",()=>K.close()),q.on("error",(H)=>K.error(H))}})}$z9.stream=$;async function z(Q){if(typeof Bun!=="undefined")return await Bun.file(Q).json();let G=await pI.readFile(Q,"utf8");return JSON.parse(G)}$z9.readJSON=z;async function W(Q,G){let K=JSON.stringify(G,null,2);return Z(Q,K)}$z9.writeJSON=W})(If4||={});async function tn1(J,Z=3,X=1000,Y=30000){for(let $=1;$<=Z;$++)try{return await J()}catch(z){if($===Z)throw z;let W=Math.random()*0.1,Q=Math.min(X*2**($-1)*(1+W),Y);console.warn(`Operation failed (attempt ${$}/${Z}), retrying in ${Q.toFixed(0)}ms...`),await Vf4(Q)}throw new Error("Should never reach here")}class i81{threshold;resetTimeout;failures=0;successes=0;lastFailureTime=0;state="closed";nextAttemptTime=0;constructor(J=5,Z=60000,X=30000){this.threshold=J;this.resetTimeout=X}async execute(J){let Z=Date.now();if(this.state==="open")if(Z>=this.nextAttemptTime)this.state="half-open";else throw new Error(`Circuit breaker is open. Next attempt in ${this.nextAttemptTime-Z}ms`);try{let X=await J();return this.onSuccess(),X}catch(X){throw this.onFailure(),X}}onSuccess(){this.failures=0,this.successes++,this.state="closed"}onFailure(){if(this.failures++,this.lastFailureTime=Date.now(),this.nextAttemptTime=this.lastFailureTime+this.resetTimeout,this.failures>=this.threshold)this.state="open"}getStats(){return{state:this.state,failures:this.failures,successes:this.successes,lastFailureTime:this.lastFailureTime,nextAttemptTime:this.nextAttemptTime,isHealthy:this.state==="closed",successRate:this.successes+this.failures>0?this.successes/(this.successes+this.failures):1}}reset(){this.failures=0,this.successes=0,this.state="closed",this.nextAttemptTime=0}}var wf4;((zz9)=>{async function J(Z,X={}){if(typeof Bun!=="undefined")try{let $=Bun.spawn(Z,{cwd:X.cwd,env:{...Bun.env,...X.env},stdin:X.stdin?"pipe":void 0}),z;if(X.timeout)z=setTimeout(()=>{$.kill()},X.timeout);if(X.stdin&&$.stdin)$.stdin.write(X.stdin),$.stdin.end();let W=await new Response($.stdout).text(),Q=await new Response($.stderr).text(),G=await $.exited;if(z)clearTimeout(z);return{stdout:W,stderr:Q,exitCode:G}}catch($){throw new Error(`Process spawn failed: ${$}`)}let{spawn:Y}=await import("child_process");return new Promise(($,z)=>{let W=Y(Z[0],Z.slice(1),{cwd:X.cwd,env:{...process.env,...X.env}}),Q="",G="",K;if(X.timeout)K=setTimeout(()=>{W.kill("SIGTERM"),z(new Error(`Process timeout after ${X.timeout}ms`))},X.timeout);if(W.stdout?.on("data",(q)=>{Q+=q.toString()}),W.stderr?.on("data",(q)=>{G+=q.toString()}),W.on("close",(q)=>{if(K)clearTimeout(K);$({stdout:Q,stderr:G,exitCode:q||0})}),W.on("error",(q)=>{if(K)clearTimeout(K);z(q)}),X.stdin)W.stdin?.write(X.stdin),W.stdin?.end()})}zz9.spawn=J})(wf4||={});var en1;((Wz9)=>{function J(Y){if(typeof Bun!=="undefined")return Bun.env[Y];return process.env[Y]}Wz9.get=J;function Z(){return typeof Bun!=="undefined"}Wz9.isBun=Z;function X(){if(typeof Bun!=="undefined")return{runtime:"bun",version:Bun.version,platform:process.platform,arch:process.arch,features:{nativeWebSocket:!0,fileStreaming:!0,fastStartup:!0,javaScriptCore:!0}};return{runtime:"node",version:process.version,platform:process.platform,arch:process.arch,features:{nativeWebSocket:!1,fileStreaming:!1,fastStartup:!1,javaScriptCore:!1}}}Wz9.getRuntimeInfo=X})(en1||={});var AL;((Qz9)=>{async function J(Y,$){let z=typeof Bun!=="undefined"?Bun.nanoseconds():performance.now()*1e6,W=process.memoryUsage().heapUsed;try{let Q=await Y(),K=((typeof Bun!=="undefined"?Bun.nanoseconds():performance.now()*1e6)-z)/1e6,H=process.memoryUsage().heapUsed-W;if($)console.log(`${$}: ${K.toFixed(2)}ms (memory: ${rn1(H)})`);return{result:Q,duration:K,memoryDelta:H}}catch(Q){let K=((typeof Bun!=="undefined"?Bun.nanoseconds():performance.now()*1e6)-z)/1e6;if($)console.error(`${$} failed after ${K.toFixed(2)}ms:`,Q);throw Q}}Qz9.measure=J;function Z(Y){let $=typeof Bun!=="undefined"?Bun.nanoseconds():performance.now()*1e6,z=process.memoryUsage().heapUsed;return{end:()=>{let Q=((typeof Bun!=="undefined"?Bun.nanoseconds():performance.now()*1e6)-$)/1e6,K=process.memoryUsage().heapUsed-z;return console.log(`${Y}: ${Q.toFixed(2)}ms (memory: ${rn1(K)})`),{duration:Q,memoryDelta:K}}}}Qz9.createTimer=Z;async function X(Y,$=10){let z={};for(let Q of Object.keys(Y))z[Q]=[];for(let Q=0;Q<$;Q++)for(let[G,K]of Object.entries(Y)){let{duration:q}=await J(K);z[G].push(q)}let W={};for(let[Q,G]of Object.entries(z)){let K=G.reduce((q,H)=>q+H,0);W[Q]={avg:K/G.length,min:Math.min(...G),max:Math.max(...G),total:K}}console.log(`
\uD83D\uDCCA Benchmark Results:`);for(let[Q,G]of Object.entries(W))console.log(`${Q}: avg=${G.avg.toFixed(2)}ms, min=${G.min.toFixed(2)}ms, max=${G.max.toFixed(2)}ms`);return W}Qz9.benchmark=X})(AL||={});function rn1(J){if(J===0)return"0 B";let Z=1024,X=["B","KB","MB","GB"],Y=Math.floor(Math.log(Math.abs(J))/Math.log(Z)),$=J/Math.pow(Z,Y);return`${J>=0?"+":""}${$.toFixed(1)} ${X[Y]}`}async function mh(){let J=en1.getRuntimeInfo(),Z=process.memoryUsage(),X;try{let Y=Date.now();await new Promise(($)=>setImmediate($)),X=Date.now()-Y}catch{}return{status:"healthy",timestamp:new Date().toISOString(),uptime:process.uptime(),runtime:J,memory:Z,config:{environment:D6.runtime.NODE_ENV,telemetryEnabled:D6.telemetry.ENABLE_OPENTELEMETRY},system:{platform:process.platform,arch:process.arch,...typeof Bun!=="undefined"&&{bunVersion:Bun.version},...typeof process.version!=="undefined"&&{nodeVersion:process.version},...typeof process.versions?.v8!=="undefined"&&{v8Version:process.versions.v8}},performance:{...X!==void 0&&{eventLoopLag:X},...typeof process.memoryUsage.rss==="function"&&{gcStats:{rss:Z.rss,heapTotal:Z.heapTotal,heapUsed:Z.heapUsed,external:Z.external,arrayBuffers:Z.arrayBuffers}}}}}var o81=new i81(D6.telemetry.CIRCUIT_BREAKER_THRESHOLD,D6.telemetry.CIRCUIT_BREAKER_TIMEOUT_MS,30000);async function ch(){e1("Attempting to connect to Couchbase...");let J=D6.capella.COUCHBASE_URL,Z=D6.capella.COUCHBASE_USERNAME,X=D6.capella.COUCHBASE_PASSWORD,Y=D6.capella.COUCHBASE_BUCKET,$=D6.capella.COUCHBASE_SCOPE,z=D6.capella.COUCHBASE_COLLECTION;return e1(`Configuring connection with the following default connection details:
                  URL: ${J},
                  Username: ${Z},
                  Bucket: ${Y},
                  Scope: ${$},
                  Collection: ${z}`),await o81.execute(async()=>{return await tn1(async()=>{let W=await nI.connect(J,{username:Z,password:X,timeouts:{kvTimeout:D6.capella.COUCHBASE_KV_TIMEOUT,kvDurableTimeout:D6.capella.COUCHBASE_KV_DURABLE_TIMEOUT,queryTimeout:D6.capella.COUCHBASE_QUERY_TIMEOUT,analyticsTimeout:D6.capella.COUCHBASE_ANALYTICS_TIMEOUT,searchTimeout:D6.capella.COUCHBASE_SEARCH_TIMEOUT,connectTimeout:D6.capella.COUCHBASE_CONNECT_TIMEOUT,bootstrapTimeout:D6.capella.COUCHBASE_BOOTSTRAP_TIMEOUT}});e1("Cluster connection established.");let Q=W.bucket(Y);e1(`Bucket ${Y} accessed.`);let G=Q.scope($),K=G.collection(z);return e1(`Collection ${z} accessed under scope ${$}.`),{cluster:W,bucket:(q)=>W.bucket(q),scope:(q,H)=>W.bucket(q).scope(H),collection:(q,H,F)=>W.bucket(q).scope(H).collection(F),defaultBucket:Q,defaultScope:G,defaultCollection:K,errors:{DocumentNotFoundError:nI.DocumentNotFoundError,CouchbaseError:nI.CouchbaseError}}},3,2000,30000)})}async function Ji1(){try{let J=await ch(),Z=o81.getStats(),X=await J.cluster.ping(),Y=await J.cluster.diagnostics(),$="healthy";if(Z.state==="open")$="unhealthy";else if(Z.failures>0||X.services.length===0)$="degraded";return{status:$,details:{connection:"connected",ping:X,diagnostics:Y,circuitBreaker:Z}}}catch(J){return{status:"unhealthy",details:{connection:"disconnected",circuitBreaker:o81.getStats(),error:J instanceof Error?J.message:String(J)}}}}async function lh(){try{let J=await ch(),Z=Date.now(),X=await J.cluster.ping();return{success:!0,latency:Date.now()-Z,services:X.services||[]}}catch(J){return{success:!1,error:J instanceof Error?J.message:String(J)}}}var s81=null,n8=async()=>{try{if(!s81)s81=await ch(),e1("Connection to Couchbase established successfully.");return s81}catch(J){throw q4("Error connecting to Couchbase:",J),J}};var Vz9=S1.object({ENABLE_OPENTELEMETRY:S1.boolean(),SERVICE_NAME:S1.string().min(1,"SERVICE_NAME is required and cannot be empty"),SERVICE_VERSION:S1.string().min(1,"SERVICE_VERSION is required and cannot be empty"),DEPLOYMENT_ENVIRONMENT:S1.enum(["development","staging","production","test"]),TRACES_ENDPOINT:S1.string().url("TRACES_ENDPOINT must be a valid URL"),METRICS_ENDPOINT:S1.string().url("METRICS_ENDPOINT must be a valid URL"),LOGS_ENDPOINT:S1.string().url("LOGS_ENDPOINT must be a valid URL"),METRIC_READER_INTERVAL:S1.number().min(1000,"METRIC_READER_INTERVAL must be at least 1000ms").max(300000,"METRIC_READER_INTERVAL should not exceed 5 minutes").refine((J)=>!Number.isNaN(J),"METRIC_READER_INTERVAL cannot be NaN"),SUMMARY_LOG_INTERVAL:S1.number().min(1e4,"SUMMARY_LOG_INTERVAL must be at least 10 seconds").max(3600000,"SUMMARY_LOG_INTERVAL should not exceed 1 hour").refine((J)=>!Number.isNaN(J),"SUMMARY_LOG_INTERVAL cannot be NaN"),EXPORT_TIMEOUT_MS:S1.number().min(5000,"EXPORT_TIMEOUT_MS must be at least 5 seconds").max(30000,"EXPORT_TIMEOUT_MS must not exceed 30 seconds (2025 standard)").default(30000),BATCH_SIZE:S1.number().min(1,"BATCH_SIZE must be at least 1").max(4096,"BATCH_SIZE should not exceed 4096").default(2048),MAX_QUEUE_SIZE:S1.number().min(100,"MAX_QUEUE_SIZE must be at least 100").max(20000,"MAX_QUEUE_SIZE should not exceed 20000").default(1e4),SAMPLING_RATE:S1.number().min(0.01,"SAMPLING_RATE must be at least 1%").max(1,"SAMPLING_RATE cannot exceed 100%").default(0.15),CIRCUIT_BREAKER_THRESHOLD:S1.number().min(1,"CIRCUIT_BREAKER_THRESHOLD must be at least 1").max(20,"CIRCUIT_BREAKER_THRESHOLD should not exceed 20").default(5),CIRCUIT_BREAKER_TIMEOUT_MS:S1.number().min(1e4,"CIRCUIT_BREAKER_TIMEOUT_MS must be at least 10 seconds").max(300000,"CIRCUIT_BREAKER_TIMEOUT_MS should not exceed 5 minutes").default(60000)});var iI=M1(C(),1),a81,r81,ph=!1;function t81(){if(ph){console.warn("HTTP metrics already initialized");return}try{let J=iI.metrics.getMeter("capellaql-http-metrics","1.0.0");a81=J.createCounter("http_requests_total",{description:"Total number of HTTP requests",unit:"1"}),r81=J.createHistogram("http_response_time_seconds",{description:"HTTP request response time in seconds",unit:"s"}),ph=!0,console.log("HTTP metrics initialized successfully")}catch(J){console.error("Error initializing HTTP metrics:",J)}}function e81(J,Z,X){if(!ph||!a81){console.warn("HTTP metrics not initialized, skipping request recording");return}try{let Y={method:J.toUpperCase(),route:Z,...X&&{status_code:X.toString()}};a81.add(1,Y)}catch(Y){console.error("Error recording HTTP request:",Y)}}function J51(J,Z,X,Y){if(!ph||!r81){console.warn("HTTP metrics not initialized, skipping response time recording");return}try{let $=J/1000,z={};if(Z)z.method=Z.toUpperCase();if(X)z.route=X;if(Y)z.status_code=Y.toString();let W=iI.context.active(),Q=iI.trace.getSpan(W);if(Q){let G=Q.spanContext();if(G.traceId)z.trace_id=G.traceId}r81.record($,z)}catch($){console.error("Error recording HTTP response time:",$)}}var CD=M1(C(),1),ci6=M1(y$6(),1);var Wu=M1(C(),1);var v$6=M1(C(),1),$e8=v$6.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Yu(J){return J.getValue($e8)===!0}var x$6="=",$u=";",Jj=",",zu="baggage",g$6=180,d$6=4096,u$6=8192;var m$6=M1(C(),1);var ze8=function(J,Z){var X=typeof Symbol==="function"&&J[Symbol.iterator];if(!X)return J;var Y=X.call(J),$,z=[],W;try{while((Z===void 0||Z-- >0)&&!($=Y.next()).done)z.push($.value)}catch(Q){W={error:Q}}finally{try{if($&&!$.done&&(X=Y.return))X.call(Y)}finally{if(W)throw W.error}}return z};function c$6(J){return J.reduce(function(Z,X){var Y=""+Z+(Z!==""?Jj:"")+X;return Y.length>u$6?Z:Y},"")}function l$6(J){return J.getAllEntries().map(function(Z){var X=ze8(Z,2),Y=X[0],$=X[1],z=encodeURIComponent(Y)+"="+encodeURIComponent($.value);if($.metadata!==void 0)z+=$u+$.metadata.toString();return z})}function p$6(J){var Z=J.split($u);if(Z.length<=0)return;var X=Z.shift();if(!X)return;var Y=X.indexOf(x$6);if(Y<=0)return;var $=decodeURIComponent(X.substring(0,Y).trim()),z=decodeURIComponent(X.substring(Y+1).trim()),W;if(Z.length>0)W=m$6.baggageEntryMetadataFromString(Z.join($u));return{key:$,value:z,metadata:W}}var iG1=function(){function J(){}return J.prototype.inject=function(Z,X,Y){var $=Wu.propagation.getBaggage(Z);if(!$||Yu(Z))return;var z=l$6($).filter(function(Q){return Q.length<=d$6}).slice(0,g$6),W=c$6(z);if(W.length>0)Y.set(X,zu,W)},J.prototype.extract=function(Z,X,Y){var $=Y.get(X,zu),z=Array.isArray($)?$.join(Jj):$;if(!z)return Z;var W={};if(z.length===0)return Z;var Q=z.split(Jj);if(Q.forEach(function(G){var K=p$6(G);if(K){var q={value:K.value};if(K.metadata)q.metadata=K.metadata;W[K.key]=q}}),Object.entries(W).length===0)return Z;return Wu.propagation.setBaggage(Z,Wu.propagation.createBaggage(W))},J.prototype.fields=function(){return[zu]},J}();var oG1=M1(C(),1),We8=function(J){var Z=typeof Symbol==="function"&&Symbol.iterator,X=Z&&J[Z],Y=0;if(X)return X.call(J);if(J&&typeof J.length==="number")return{next:function(){if(J&&Y>=J.length)J=void 0;return{value:J&&J[Y++],done:!J}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")},sG1=function(){function J(Z){if(Z===void 0)Z={};var X;this._propagators=(X=Z.propagators)!==null&&X!==void 0?X:[],this._fields=Array.from(new Set(this._propagators.map(function(Y){return typeof Y.fields==="function"?Y.fields():[]}).reduce(function(Y,$){return Y.concat($)},[])))}return J.prototype.inject=function(Z,X,Y){var $,z;try{for(var W=We8(this._propagators),Q=W.next();!Q.done;Q=W.next()){var G=Q.value;try{G.inject(Z,X,Y)}catch(K){oG1.diag.warn("Failed to inject with "+G.constructor.name+". Err: "+K.message)}}}catch(K){$={error:K}}finally{try{if(Q&&!Q.done&&(z=W.return))z.call(W)}finally{if($)throw $.error}}},J.prototype.extract=function(Z,X,Y){return this._propagators.reduce(function($,z){try{return z.extract($,X,Y)}catch(W){oG1.diag.warn("Failed to extract with "+z.constructor.name+". Err: "+W.message)}return $},Z)},J.prototype.fields=function(){return this._fields.slice()},J}();var UO=M1(C(),1);var aG1="[_0-9a-z-*/]",Qe8="[a-z]"+aG1+"{0,255}",Ge8="[a-z0-9]"+aG1+"{0,240}@[a-z]"+aG1+"{0,13}",Ke8=new RegExp("^(?:"+Qe8+"|"+Ge8+")$"),qe8=/^[ -~]{0,255}[!-~]$/,Be8=/,|=/;function n$6(J){return Ke8.test(J)}function i$6(J){return qe8.test(J)&&!Be8.test(J)}var o$6=32,He8=512,s$6=",",a$6="=",r$6=function(){function J(Z){if(this._internalState=new Map,Z)this._parse(Z)}return J.prototype.set=function(Z,X){var Y=this._clone();if(Y._internalState.has(Z))Y._internalState.delete(Z);return Y._internalState.set(Z,X),Y},J.prototype.unset=function(Z){var X=this._clone();return X._internalState.delete(Z),X},J.prototype.get=function(Z){return this._internalState.get(Z)},J.prototype.serialize=function(){var Z=this;return this._keys().reduce(function(X,Y){return X.push(Y+a$6+Z.get(Y)),X},[]).join(s$6)},J.prototype._parse=function(Z){if(Z.length>He8)return;if(this._internalState=Z.split(s$6).reverse().reduce(function(X,Y){var $=Y.trim(),z=$.indexOf(a$6);if(z!==-1){var W=$.slice(0,z),Q=$.slice(z+1,Y.length);if(n$6(W)&&i$6(Q))X.set(W,Q)}return X},new Map),this._internalState.size>o$6)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,o$6))},J.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},J.prototype._clone=function(){var Z=new J;return Z._internalState=new Map(this._internalState),Z},J}();var Qu="traceparent",Gu="tracestate",Fe8="00",Ue8="(?!ff)[\\da-f]{2}",Oe8="(?![0]{32})[\\da-f]{32}",De8="(?![0]{16})[\\da-f]{16}",Ve8="[\\da-f]{2}",Ie8=new RegExp("^\\s?("+Ue8+")-("+Oe8+")-("+De8+")-("+Ve8+")(-.*)?\\s?$");function t$6(J){var Z=Ie8.exec(J);if(!Z)return null;if(Z[1]==="00"&&Z[5])return null;return{traceId:Z[2],spanId:Z[3],traceFlags:parseInt(Z[4],16)}}var rG1=function(){function J(){}return J.prototype.inject=function(Z,X,Y){var $=UO.trace.getSpanContext(Z);if(!$||Yu(Z)||!UO.isSpanContextValid($))return;var z=Fe8+"-"+$.traceId+"-"+$.spanId+"-0"+Number($.traceFlags||UO.TraceFlags.NONE).toString(16);if(Y.set(X,Qu,z),$.traceState)Y.set(X,Gu,$.traceState.serialize())},J.prototype.extract=function(Z,X,Y){var $=Y.get(X,Qu);if(!$)return Z;var z=Array.isArray($)?$[0]:$;if(typeof z!=="string")return Z;var W=t$6(z);if(!W)return Z;W.isRemote=!0;var Q=Y.get(X,Gu);if(Q){var G=Array.isArray(Q)?Q.join(","):Q;W.traceState=new r$6(typeof G==="string"?G:void 0)}return UO.trace.setSpanContext(Z,W)},J.prototype.fields=function(){return[Qu,Gu]},J}();var sG6=M1(fJ(),1);var W65=9,Q65=6,Ce9=Math.pow(10,Q65),G65=Math.pow(10,W65);function wK1(J){return J[0]*G65+J[1]}function cQ6(J){if(J>=48&&J<=57)return J-48;if(J>=97&&J<=102)return J-87;return J-55}function Mu(J){let Z=new Uint8Array(J.length/2),X=0;for(let Y=0;Y<J.length;Y+=2){let $=cQ6(J.charCodeAt(Y)),z=cQ6(J.charCodeAt(Y+1));Z[X++]=$<<4|z}return Z}function pQ6(J){let Z=BigInt(1e9);return BigInt(J[0])*Z+BigInt(J[1])}function K65(J){let Z=Number(BigInt.asUintN(32,J)),X=Number(BigInt.asUintN(32,J>>BigInt(32)));return{low:Z,high:X}}function nQ6(J){let Z=pQ6(J);return K65(Z)}function q65(J){return pQ6(J).toString()}var B65=typeof BigInt!=="undefined"?q65:wK1;function lQ6(J){return J}function iQ6(J){if(J===void 0)return;return Mu(J)}var H65={encodeHrTime:nQ6,encodeSpanContext:Mu,encodeOptionalSpanContext:iQ6};function mw(J){if(J===void 0)return H65;let Z=J.useLongBits??!0,X=J.useHex??!1;return{encodeHrTime:Z?nQ6:B65,encodeSpanContext:X?lQ6:Mu,encodeOptionalSpanContext:X?lQ6:iQ6}}function cw(J){return{attributes:uG(J.attributes),droppedAttributesCount:0}}function lw(J){return{name:J.name,version:J.version}}function uG(J){return Object.keys(J).map((Z)=>Nu(Z,J[Z]))}function Nu(J,Z){return{key:J,value:Pu(Z)}}function Pu(J){let Z=typeof J;if(Z==="string")return{stringValue:J};if(Z==="number"){if(!Number.isInteger(J))return{doubleValue:J};return{intValue:J}}if(Z==="boolean")return{boolValue:J};if(J instanceof Uint8Array)return{bytesValue:J};if(Array.isArray(J))return{arrayValue:{values:J.map(Pu)}};if(Z==="object"&&J!=null)return{kvlistValue:{values:Object.entries(J).map(([X,Y])=>Nu(X,Y))}};return{}}function oQ6(J,Z){let X=mw(Z);return{resourceLogs:U65(J,X)}}function F65(J){let Z=new Map;for(let X of J){let{resource:Y,instrumentationScope:{name:$,version:z="",schemaUrl:W=""}}=X,Q=Z.get(Y);if(!Q)Q=new Map,Z.set(Y,Q);let G=`${$}@${z}:${W}`,K=Q.get(G);if(!K)K=[],Q.set(G,K);K.push(X)}return Z}function U65(J,Z){let X=F65(J);return Array.from(X,([Y,$])=>({resource:cw(Y),scopeLogs:Array.from($,([,z])=>{return{scope:lw(z[0].instrumentationScope),logRecords:z.map((W)=>O65(W,Z)),schemaUrl:z[0].instrumentationScope.schemaUrl}}),schemaUrl:void 0}))}function O65(J,Z){return{timeUnixNano:Z.encodeHrTime(J.hrTime),observedTimeUnixNano:Z.encodeHrTime(J.hrTimeObserved),severityNumber:D65(J.severityNumber),severityText:J.severityText,body:Pu(J.body),attributes:V65(J.attributes),droppedAttributesCount:J.droppedAttributesCount,flags:J.spanContext?.traceFlags,traceId:Z.encodeOptionalSpanContext(J.spanContext?.traceId),spanId:Z.encodeOptionalSpanContext(J.spanContext?.spanId)}}function D65(J){return J}function V65(J){return Object.keys(J).map((Z)=>Nu(Z,J[Z]))}var CK1=M1(C(),1);var s7;(function(J){J[J.DELTA=0]="DELTA",J[J.CUMULATIVE=1]="CUMULATIVE"})(s7||(s7={}));var X9;(function(J){J.COUNTER="COUNTER",J.GAUGE="GAUGE",J.HISTOGRAM="HISTOGRAM",J.UP_DOWN_COUNTER="UP_DOWN_COUNTER",J.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",J.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",J.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(X9||(X9={}));var OB;(function(J){J[J.HISTOGRAM=0]="HISTOGRAM",J[J.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",J[J.GAUGE=2]="GAUGE",J[J.SUM=3]="SUM"})(OB||(OB={}));var NK1=M1(C(),1);class zj extends Error{constructor(J){super(J);Object.setPrototypeOf(this,zj.prototype)}}function Wj(J,Z){let X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new zj("Operation timed out."))},Z)});return Promise.race([J,Y]).then(($)=>{return clearTimeout(X),$},($)=>{throw clearTimeout(X),$})}function AK1(J,Z){let X=[];return J.forEach((Y)=>{X.push(...Z(Y))}),X}var sQ6=M1(C(),1),I65=sQ6.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function aQ6(J){return J.setValue(I65,!0)}var rQ6=M1(C(),1);function tQ6(){return(J)=>{rQ6.diag.error(w65(J))}}function w65(J){if(typeof J==="string")return J;else return JSON.stringify(A65(J))}function A65(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}var M65=tQ6();function Lu(J){try{M65(J)}catch{}}function Qj(J){J.unref()}var Gj;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(Gj||(Gj={}));var MK1=M1(C(),1);function eQ6(J,Z){return new Promise((X)=>{MK1.context.with(aQ6(MK1.context.active()),()=>{J.export(Z,(Y)=>{X(Y)})})})}var JG6={_export:eQ6};var wO;(function(J){J[J.DEFAULT=0]="DEFAULT",J[J.DROP=1]="DROP",J[J.SUM=2]="SUM",J[J.LAST_VALUE=3]="LAST_VALUE",J[J.EXPLICIT_BUCKET_HISTOGRAM=4]="EXPLICIT_BUCKET_HISTOGRAM",J[J.EXPONENTIAL_HISTOGRAM=5]="EXPONENTIAL_HISTOGRAM"})(wO||(wO={}));var ZG6=(J)=>{return{type:wO.DEFAULT}},XG6=(J)=>s7.CUMULATIVE;class PK1{_shutdown=!1;_metricProducers;_sdkMetricProducer;_aggregationTemporalitySelector;_aggregationSelector;_cardinalitySelector;constructor(J){this._aggregationSelector=J?.aggregationSelector??ZG6,this._aggregationTemporalitySelector=J?.aggregationTemporalitySelector??XG6,this._metricProducers=J?.metricProducers??[],this._cardinalitySelector=J?.cardinalitySelector}setMetricProducer(J){if(this._sdkMetricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=J,this.onInitialized()}selectAggregation(J){return this._aggregationSelector(J)}selectAggregationTemporality(J){return this._aggregationTemporalitySelector(J)}selectCardinalityLimit(J){return this._cardinalitySelector?this._cardinalitySelector(J):2000}onInitialized(){}async collect(J){if(this._sdkMetricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");let[Z,...X]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:J?.timeoutMillis}),...this._metricProducers.map((W)=>W.collect({timeoutMillis:J?.timeoutMillis}))]),Y=Z.errors.concat(AK1(X,(W)=>W.errors)),$=Z.resourceMetrics.resource,z=Z.resourceMetrics.scopeMetrics.concat(AK1(X,(W)=>W.resourceMetrics.scopeMetrics));return{resourceMetrics:{resource:$,scopeMetrics:z},errors:Y}}async shutdown(J){if(this._shutdown){NK1.diag.error("Cannot call shutdown twice.");return}if(J?.timeoutMillis==null)await this.onShutdown();else await Wj(this.onShutdown(),J.timeoutMillis);this._shutdown=!0}async forceFlush(J){if(this._shutdown){NK1.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if(J?.timeoutMillis==null){await this.onForceFlush();return}await Wj(this.onForceFlush(),J.timeoutMillis)}}var Cu=M1(C(),1);class ju extends PK1{_interval;_exporter;_exportInterval;_exportTimeout;constructor(J){super({aggregationSelector:J.exporter.selectAggregation?.bind(J.exporter),aggregationTemporalitySelector:J.exporter.selectAggregationTemporality?.bind(J.exporter),metricProducers:J.metricProducers});if(J.exportIntervalMillis!==void 0&&J.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(J.exportTimeoutMillis!==void 0&&J.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(J.exportTimeoutMillis!==void 0&&J.exportIntervalMillis!==void 0&&J.exportIntervalMillis<J.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=J.exportIntervalMillis??60000,this._exportTimeout=J.exportTimeoutMillis??30000,this._exporter=J.exporter}async _runOnce(){try{await Wj(this._doRun(),this._exportTimeout)}catch(J){if(J instanceof zj){Cu.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}Lu(J)}}async _doRun(){let{resourceMetrics:J,errors:Z}=await this.collect({timeoutMillis:this._exportTimeout});if(Z.length>0)Cu.diag.error("PeriodicExportingMetricReader: metrics collection errors",...Z);if(J.resource.asyncAttributesPending)try{await J.resource.waitForAsyncAttributes?.()}catch(Y){Cu.diag.debug("Error while resolving async portion of resource: ",Y),Lu(Y)}if(J.scopeMetrics.length===0)return;let X=await JG6._export(this._exporter,J);if(X.code!==Gj.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${X.error})`)}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),Qj(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){if(this._interval)clearInterval(this._interval);await this.onForceFlush(),await this._exporter.shutdown()}}var Ru=M1(C(),1);var pw=(J)=>{return J!==null&&typeof J==="object"&&typeof J.then==="function"};class Eu{_rawAttributes;_asyncAttributesPending=!1;_memoizedAttributes;static FromAttributeList(J){let Z=new Eu({});return Z._rawAttributes=YG6(J),Z._asyncAttributesPending=J.filter(([X,Y])=>pw(Y)).length>0,Z}constructor(J){let Z=J.attributes??{};this._rawAttributes=Object.entries(Z).map(([X,Y])=>{if(pw(Y))this._asyncAttributesPending=!0;return[X,Y]}),this._rawAttributes=YG6(this._rawAttributes)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(!this.asyncAttributesPending)return;for(let J=0;J<this._rawAttributes.length;J++){let[Z,X]=this._rawAttributes[J];this._rawAttributes[J]=[Z,pw(X)?await X:X]}this._asyncAttributesPending=!1}get attributes(){if(this.asyncAttributesPending)Ru.diag.error("Accessing resource attributes before async attributes settled");if(this._memoizedAttributes)return this._memoizedAttributes;let J={};for(let[Z,X]of this._rawAttributes){if(pw(X)){Ru.diag.debug(`Unsettled resource attribute ${Z} skipped`);continue}if(X!=null)J[Z]??=X}if(!this._asyncAttributesPending)this._memoizedAttributes=J;return J}getRawAttributes(){return this._rawAttributes}merge(J){if(J==null)return this;return Eu.FromAttributeList([...J.getRawAttributes(),...this.getRawAttributes()])}}function LK1(J){return Eu.FromAttributeList(Object.entries(J))}function YG6(J){return J.map(([Z,X])=>{if(pw(X))return[Z,X.catch((Y)=>{Ru.diag.debug("promise rejection for resource attribute: %s - %s",Z,Y);return})];return[Z,X]})}function S65(J,Z){let X=mw(Z);return{resource:cw(J.resource),schemaUrl:void 0,scopeMetrics:T65(J.scopeMetrics,X)}}function T65(J,Z){return Array.from(J.map((X)=>({scope:lw(X.scope),metrics:X.metrics.map((Y)=>f65(Y,Z)),schemaUrl:X.scope.schemaUrl})))}function f65(J,Z){let X={name:J.descriptor.name,description:J.descriptor.description,unit:J.descriptor.unit},Y=_65(J.aggregationTemporality);switch(J.dataPointType){case OB.SUM:X.sum={aggregationTemporality:Y,isMonotonic:J.isMonotonic,dataPoints:$G6(J,Z)};break;case OB.GAUGE:X.gauge={dataPoints:$G6(J,Z)};break;case OB.HISTOGRAM:X.histogram={aggregationTemporality:Y,dataPoints:b65(J,Z)};break;case OB.EXPONENTIAL_HISTOGRAM:X.exponentialHistogram={aggregationTemporality:Y,dataPoints:h65(J,Z)};break}return X}function k65(J,Z,X){let Y={attributes:uG(J.attributes),startTimeUnixNano:X.encodeHrTime(J.startTime),timeUnixNano:X.encodeHrTime(J.endTime)};switch(Z){case CK1.ValueType.INT:Y.asInt=J.value;break;case CK1.ValueType.DOUBLE:Y.asDouble=J.value;break}return Y}function $G6(J,Z){return J.dataPoints.map((X)=>{return k65(X,J.descriptor.valueType,Z)})}function b65(J,Z){return J.dataPoints.map((X)=>{let Y=X.value;return{attributes:uG(X.attributes),bucketCounts:Y.buckets.counts,explicitBounds:Y.buckets.boundaries,count:Y.count,sum:Y.sum,min:Y.min,max:Y.max,startTimeUnixNano:Z.encodeHrTime(X.startTime),timeUnixNano:Z.encodeHrTime(X.endTime)}})}function h65(J,Z){return J.dataPoints.map((X)=>{let Y=X.value;return{attributes:uG(X.attributes),count:Y.count,min:Y.min,max:Y.max,sum:Y.sum,positive:{offset:Y.positive.offset,bucketCounts:Y.positive.bucketCounts},negative:{offset:Y.negative.offset,bucketCounts:Y.negative.bucketCounts},scale:Y.scale,zeroCount:Y.zeroCount,startTimeUnixNano:Z.encodeHrTime(X.startTime),timeUnixNano:Z.encodeHrTime(X.endTime)}})}function _65(J){switch(J){case s7.DELTA:return 1;case s7.CUMULATIVE:return 2}}function zG6(J,Z){return{resourceMetrics:J.map((X)=>S65(X,Z))}}function y65(J,Z){let X=J.spanContext(),Y=J.status,$=J.parentSpanContext?.spanId?Z.encodeSpanContext(J.parentSpanContext?.spanId):void 0;return{traceId:Z.encodeSpanContext(X.traceId),spanId:Z.encodeSpanContext(X.spanId),parentSpanId:$,traceState:X.traceState?.serialize(),name:J.name,kind:J.kind==null?0:J.kind+1,startTimeUnixNano:Z.encodeHrTime(J.startTime),endTimeUnixNano:Z.encodeHrTime(J.endTime),attributes:uG(J.attributes),droppedAttributesCount:J.droppedAttributesCount,events:J.events.map((z)=>x65(z,Z)),droppedEventsCount:J.droppedEventsCount,status:{code:Y.code,message:Y.message},links:J.links.map((z)=>v65(z,Z)),droppedLinksCount:J.droppedLinksCount}}function v65(J,Z){return{attributes:J.attributes?uG(J.attributes):[],spanId:Z.encodeSpanContext(J.context.spanId),traceId:Z.encodeSpanContext(J.context.traceId),traceState:J.context.traceState?.serialize(),droppedAttributesCount:J.droppedAttributesCount||0}}function x65(J,Z){return{attributes:J.attributes?uG(J.attributes):[],name:J.name,timeUnixNano:Z.encodeHrTime(J.time),droppedAttributesCount:J.droppedAttributesCount||0}}function WG6(J,Z){let X=mw(Z);return{resourceSpans:d65(J,X)}}function g65(J){let Z=new Map;for(let X of J){let Y=Z.get(X.resource);if(!Y)Y=new Map,Z.set(X.resource,Y);let $=`${X.instrumentationScope.name}@${X.instrumentationScope.version||""}:${X.instrumentationScope.schemaUrl||""}`,z=Y.get($);if(!z)z=[],Y.set($,z);z.push(X)}return Z}function d65(J,Z){let X=g65(J),Y=[],$=X.entries(),z=$.next();while(!z.done){let[W,Q]=z.value,G=[],K=Q.values(),q=K.next();while(!q.done){let F=q.value;if(F.length>0){let U=F.map((D)=>y65(D,Z));G.push({scope:lw(F[0].instrumentationScope),spans:U,schemaUrl:F[0].instrumentationScope.schemaUrl})}q=K.next()}let H={resource:cw(W),scopeSpans:G,schemaUrl:void 0};Y.push(H),z=$.next()}return Y}var Su={serializeRequest:(J)=>{let Z=oQ6(J,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(Z))},deserializeResponse:(J)=>{if(J.length===0)return{};return JSON.parse(new TextDecoder().decode(J))}};var Tu={serializeRequest:(J)=>{let Z=zG6([J],{useLongBits:!1});return new TextEncoder().encode(JSON.stringify(Z))},deserializeResponse:(J)=>{if(J.length===0)return{};return JSON.parse(new TextDecoder().decode(J))}};var fu={serializeRequest:(J)=>{let Z=WG6(J,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(Z))},deserializeResponse:(J)=>{if(J.length===0)return{};return JSON.parse(new TextDecoder().decode(J))}};var QG6="0.201.1";var bu=M1(xY(),1);class nw extends sG6.OTLPExporterBase{constructor(J={}){super(bu.createOtlpHttpExportDelegate(bu.convertLegacyHttpOptions(J,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${QG6}`,"Content-Type":"application/json"}),Su))}}function qj(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;return Z}var Bj;(function(J){J[J.DELTA=0]="DELTA",J[J.CUMULATIVE=1]="CUMULATIVE",J[J.LOWMEMORY=2]="LOWMEMORY"})(Bj||(Bj={}));var eG6=M1(fJ(),1),JK6=M1(C(),1),EK1=()=>s7.CUMULATIVE,ZK6=(J)=>{switch(J){case X9.COUNTER:case X9.OBSERVABLE_COUNTER:case X9.GAUGE:case X9.HISTOGRAM:case X9.OBSERVABLE_GAUGE:return s7.DELTA;case X9.UP_DOWN_COUNTER:case X9.OBSERVABLE_UP_DOWN_COUNTER:return s7.CUMULATIVE}},XK6=(J)=>{switch(J){case X9.COUNTER:case X9.HISTOGRAM:return s7.DELTA;case X9.GAUGE:case X9.UP_DOWN_COUNTER:case X9.OBSERVABLE_UP_DOWN_COUNTER:case X9.OBSERVABLE_COUNTER:case X9.OBSERVABLE_GAUGE:return s7.CUMULATIVE}};function m45(){let J=(qj("OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE")??"cumulative").toLowerCase();if(J==="cumulative")return EK1;if(J==="delta")return ZK6;if(J==="lowmemory")return XK6;return JK6.diag.warn(`OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE is set to '${J}', but only 'cumulative' and 'delta' are allowed. Using default ('cumulative') instead.`),EK1}function c45(J){if(J!=null){if(J===Bj.DELTA)return ZK6;else if(J===Bj.LOWMEMORY)return XK6;return EK1}return m45()}var l45=Object.freeze({type:wO.DEFAULT});function p45(J){return J?.aggregationPreference??(()=>l45)}class SK1 extends eG6.OTLPExporterBase{_aggregationTemporalitySelector;_aggregationSelector;constructor(J,Z){super(J);this._aggregationSelector=p45(Z),this._aggregationTemporalitySelector=c45(Z?.temporalityPreference)}selectAggregation(J){return this._aggregationSelector(J)}selectAggregationTemporality(J){return this._aggregationTemporalitySelector(J)}}var YK6="0.201.1";var hu=M1(xY(),1),n45={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${YK6}`};class iw extends SK1{constructor(J){super(hu.createOtlpHttpExportDelegate(hu.convertLegacyHttpOptions(J??{},"METRICS","v1/metrics",{...n45,"Content-Type":"application/json"}),Tu),J)}}var zK6=M1(fJ(),1);var $K6="0.201.1";var _u=M1(xY(),1);class ow extends zK6.OTLPExporterBase{constructor(J={}){super(_u.createOtlpHttpExportDelegate(_u.convertLegacyHttpOptions(J,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${$K6}`,"Content-Type":"application/json"}),fu))}}var li6=M1(gJ1(),1);var WK6=M1(C(),1),i45=WK6.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function QK6(J){return J.setValue(i45,!0)}var GK6=M1(C(),1);function KK6(){return function(J){GK6.diag.error(o45(J))}}function o45(J){if(typeof J==="string")return J;else return JSON.stringify(s45(J))}function s45(J){var Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach(function(Y){if(Z[Y])return;var $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}var a45=KK6();function sw(J){try{a45(J)}catch(Z){}}var mG=M1(C(),1);var yu;(function(J){J.AlwaysOff="always_off",J.AlwaysOn="always_on",J.ParentBasedAlwaysOff="parentbased_always_off",J.ParentBasedAlwaysOn="parentbased_always_on",J.ParentBasedTraceIdRatio="parentbased_traceidratio",J.TraceIdRatio="traceidratio"})(yu||(yu={}));var r45=",",t45=["OTEL_SDK_DISABLED"];function e45(J){return t45.indexOf(J)>-1}var J85=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function Z85(J){return J85.indexOf(J)>-1}var X85=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];function Y85(J){return X85.indexOf(J)>-1}var TK1=1/0,fK1=128,$85=128,z85=128,kK1={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:30000,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5000,OTEL_BLRP_EXPORT_TIMEOUT:30000,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5000,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:mG.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:TK1,OTEL_ATTRIBUTE_COUNT_LIMIT:fK1,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:TK1,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:fK1,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:TK1,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:fK1,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:$85,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:z85,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:yu.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};function W85(J,Z,X){if(typeof X[J]==="undefined")return;var Y=String(X[J]);Z[J]=Y.toLowerCase()==="true"}function Q85(J,Z,X,Y,$){if(Y===void 0)Y=-1/0;if($===void 0)$=1/0;if(typeof X[J]!=="undefined"){var z=Number(X[J]);if(!isNaN(z))if(z<Y)Z[J]=Y;else if(z>$)Z[J]=$;else Z[J]=z}}function G85(J,Z,X,Y){if(Y===void 0)Y=r45;var $=X[J];if(typeof $==="string")Z[J]=$.split(Y).map(function(z){return z.trim()})}var K85={ALL:mG.DiagLogLevel.ALL,VERBOSE:mG.DiagLogLevel.VERBOSE,DEBUG:mG.DiagLogLevel.DEBUG,INFO:mG.DiagLogLevel.INFO,WARN:mG.DiagLogLevel.WARN,ERROR:mG.DiagLogLevel.ERROR,NONE:mG.DiagLogLevel.NONE};function q85(J,Z,X){var Y=X[J];if(typeof Y==="string"){var $=K85[Y.toUpperCase()];if($!=null)Z[J]=$}}function qK6(J){var Z={};for(var X in kK1){var Y=X;switch(Y){case"OTEL_LOG_LEVEL":q85(Y,Z,J);break;default:if(e45(Y))W85(Y,Z,J);else if(Z85(Y))Q85(Y,Z,J);else if(Y85(Y))G85(Y,Z,J);else{var $=J[Y];if(typeof $!=="undefined"&&$!==null)Z[Y]=String($)}}}return Z}function Hj(){var J=qK6(process.env);return Object.assign({},kK1,J)}function Fj(J){J.unref()}var Uj;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(Uj||(Uj={}));var D85=function(){var J=function(Z,X){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,$){Y.__proto__=$}||function(Y,$){for(var z in $)if(Object.prototype.hasOwnProperty.call($,z))Y[z]=$[z]},J(Z,X)};return function(Z,X){if(typeof X!=="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");J(Z,X);function Y(){this.constructor=Z}Z.prototype=X===null?Object.create(X):(Y.prototype=X.prototype,new Y)}}(),HK6=function(J){D85(Z,J);function Z(X){var Y=J.call(this,X)||this;return Object.setPrototypeOf(Y,Z.prototype),Y}return Z}(Error);function bK1(J,Z){var X,Y=new Promise(function $(z,W){X=setTimeout(function Q(){W(new HK6("Operation timed out."))},Z)});return Promise.race([J,Y]).then(function($){return clearTimeout(X),$},function($){throw clearTimeout(X),$})}var FK6=function(){function J(){var Z=this;this._promise=new Promise(function(X,Y){Z._resolve=X,Z._reject=Y})}return Object.defineProperty(J.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),J.prototype.resolve=function(Z){this._resolve(Z)},J.prototype.reject=function(Z){this._reject(Z)},J}();var V85=function(J,Z){var X=typeof Symbol==="function"&&J[Symbol.iterator];if(!X)return J;var Y=X.call(J),$,z=[],W;try{while((Z===void 0||Z-- >0)&&!($=Y.next()).done)z.push($.value)}catch(Q){W={error:Q}}finally{try{if($&&!$.done&&(X=Y.return))X.call(Y)}finally{if(W)throw W.error}}return z},I85=function(J,Z,X){if(X||arguments.length===2){for(var Y=0,$=Z.length,z;Y<$;Y++)if(z||!(Y in Z)){if(!z)z=Array.prototype.slice.call(Z,0,Y);z[Y]=Z[Y]}}return J.concat(z||Array.prototype.slice.call(Z))},hK1=function(){function J(Z,X){this._callback=Z,this._that=X,this._isCalled=!1,this._deferred=new FK6}return Object.defineProperty(J.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(J.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),J.prototype.call=function(){var Z,X=this,Y=[];for(var $=0;$<arguments.length;$++)Y[$]=arguments[$];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((Z=this._callback).call.apply(Z,I85([this._that],V85(Y),!1))).then(function(z){return X._deferred.resolve(z)},function(z){return X._deferred.reject(z)})}catch(z){this._deferred.reject(z)}}return this._deferred.promise},J}();var _K1=M1(C(),1);function UK6(J,Z){return new Promise(function(X){_K1.context.with(QK6(_K1.context.active()),function(){J.export(Z,function(Y){X(Y)})})})}var OK6={_export:UK6};var DK6=M1(C(),1);var w85=function(J,Z,X,Y){function $(z){return z instanceof X?z:new X(function(W){W(z)})}return new(X||(X=Promise))(function(z,W){function Q(q){try{K(Y.next(q))}catch(H){W(H)}}function G(q){try{K(Y.throw(q))}catch(H){W(H)}}function K(q){q.done?z(q.value):$(q.value).then(Q,G)}K((Y=Y.apply(J,Z||[])).next())})},A85=function(J,Z){var X={label:0,sent:function(){if(z[0]&1)throw z[1];return z[1]},trys:[],ops:[]},Y,$,z,W;return W={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function Q(K){return function(q){return G([K,q])}}function G(K){if(Y)throw new TypeError("Generator is already executing.");while(X)try{if(Y=1,$&&(z=K[0]&2?$.return:K[0]?$.throw||((z=$.return)&&z.call($),0):$.next)&&!(z=z.call($,K[1])).done)return z;if($=0,z)K=[K[0]&2,z.value];switch(K[0]){case 0:case 1:z=K;break;case 4:return X.label++,{value:K[1],done:!1};case 5:X.label++,$=K[1],K=[0];continue;case 7:K=X.ops.pop(),X.trys.pop();continue;default:if((z=X.trys,!(z=z.length>0&&z[z.length-1]))&&(K[0]===6||K[0]===2)){X=0;continue}if(K[0]===3&&(!z||K[1]>z[0]&&K[1]<z[3])){X.label=K[1];break}if(K[0]===6&&X.label<z[1]){X.label=z[1],z=K;break}if(z&&X.label<z[2]){X.label=z[2],X.ops.push(K);break}if(z[2])X.ops.pop();X.trys.pop();continue}K=Z.call(J,X)}catch(q){K=[6,q],$=0}finally{Y=z=0}if(K[0]&5)throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}},VK6=function(){function J(Z,X){var Y,$,z,W;this._exporter=Z,this._finishedLogRecords=[];var Q=Hj();if(this._maxExportBatchSize=(Y=X===null||X===void 0?void 0:X.maxExportBatchSize)!==null&&Y!==void 0?Y:Q.OTEL_BLRP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=($=X===null||X===void 0?void 0:X.maxQueueSize)!==null&&$!==void 0?$:Q.OTEL_BLRP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=(z=X===null||X===void 0?void 0:X.scheduledDelayMillis)!==null&&z!==void 0?z:Q.OTEL_BLRP_SCHEDULE_DELAY,this._exportTimeoutMillis=(W=X===null||X===void 0?void 0:X.exportTimeoutMillis)!==null&&W!==void 0?W:Q.OTEL_BLRP_EXPORT_TIMEOUT,this._shutdownOnce=new hK1(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize)DK6.diag.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize}return J.prototype.onEmit=function(Z){if(this._shutdownOnce.isCalled)return;this._addToBuffer(Z)},J.prototype.forceFlush=function(){if(this._shutdownOnce.isCalled)return this._shutdownOnce.promise;return this._flushAll()},J.prototype.shutdown=function(){return this._shutdownOnce.call()},J.prototype._shutdown=function(){return w85(this,void 0,void 0,function(){return A85(this,function(Z){switch(Z.label){case 0:return this.onShutdown(),[4,this._flushAll()];case 1:return Z.sent(),[4,this._exporter.shutdown()];case 2:return Z.sent(),[2]}})})},J.prototype._addToBuffer=function(Z){if(this._finishedLogRecords.length>=this._maxQueueSize)return;this._finishedLogRecords.push(Z),this._maybeStartTimer()},J.prototype._flushAll=function(){var Z=this;return new Promise(function(X,Y){var $=[],z=Math.ceil(Z._finishedLogRecords.length/Z._maxExportBatchSize);for(var W=0;W<z;W++)$.push(Z._flushOneBatch());Promise.all($).then(function(){X()}).catch(Y)})},J.prototype._flushOneBatch=function(){var Z=this;if(this._clearTimer(),this._finishedLogRecords.length===0)return Promise.resolve();return new Promise(function(X,Y){bK1(Z._export(Z._finishedLogRecords.splice(0,Z._maxExportBatchSize)),Z._exportTimeoutMillis).then(function(){return X()}).catch(Y)})},J.prototype._maybeStartTimer=function(){var Z=this;if(this._timer!==void 0)return;this._timer=setTimeout(function(){Z._flushOneBatch().then(function(){if(Z._finishedLogRecords.length>0)Z._clearTimer(),Z._maybeStartTimer()}).catch(function(X){sw(X)})},this._scheduledDelayMillis),Fj(this._timer)},J.prototype._clearTimer=function(){if(this._timer!==void 0)clearTimeout(this._timer),this._timer=void 0},J.prototype._export=function(Z){var X=this,Y=function(){return OK6._export(X._exporter,Z).then(function(z){var W;if(z.code!==Uj.SUCCESS)sw((W=z.error)!==null&&W!==void 0?W:new Error("BatchLogRecordProcessor: log record export failed (status "+z+")"))}).catch(sw)},$=Z.map(function(z){return z.resource}).filter(function(z){return z.asyncAttributesPending});if($.length===0)return Y();else return Promise.all($.map(function(z){var W;return(W=z.waitForAsyncAttributes)===null||W===void 0?void 0:W.call(z)})).then(Y,sw)},J}();var M85=function(){var J=function(Z,X){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,$){Y.__proto__=$}||function(Y,$){for(var z in $)if(Object.prototype.hasOwnProperty.call($,z))Y[z]=$[z]},J(Z,X)};return function(Z,X){if(typeof X!=="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");J(Z,X);function Y(){this.constructor=Z}Z.prototype=X===null?Object.create(X):(Y.prototype=X.prototype,new Y)}}(),Oj=function(J){M85(Z,J);function Z(){return J!==null&&J.apply(this,arguments)||this}return Z.prototype.onShutdown=function(){},Z}(VK6);var pi6=M1(_i6(),1);var yi6=M1(C(),1),ey5=yi6.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function jD1(J){return J.setValue(ey5,!0)}var vi6=M1(C(),1);function xi6(){return(J)=>{vi6.diag.error(Jv5(J))}}function Jv5(J){if(typeof J==="string")return J;else return JSON.stringify(Zv5(J))}function Zv5(J){let Z={},X=J;while(X!==null)Object.getOwnPropertyNames(X).forEach((Y)=>{if(Z[Y])return;let $=X[Y];if($)Z[Y]=String($)}),X=Object.getPrototypeOf(X);return Z}var Xv5=xi6();function pp(J){try{Xv5(J)}catch{}}var gi6=M1(C(),1);import{inspect as Yv5}from"util";function YH(J){let Z=process.env[J];if(Z==null||Z.trim()==="")return;let X=Number(Z);if(isNaN(X)){gi6.diag.warn(`Unknown value ${Yv5(Z)} for ${J}, expected a number, using defaults`);return}return X}function XE(J){J.unref()}var YE;(function(J){J[J.SUCCESS=0]="SUCCESS",J[J.FAILED=1]="FAILED"})(YE||(YE={}));class RD1{_promise;_resolve;_reject;constructor(){this._promise=new Promise((J,Z)=>{this._resolve=J,this._reject=Z})}get promise(){return this._promise}resolve(J){this._resolve(J)}reject(J){this._reject(J)}}class np{_callback;_that;_isCalled=!1;_deferred=new RD1;constructor(J,Z){this._callback=J,this._that=Z}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...J){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...J)).then((Z)=>this._deferred.resolve(Z),(Z)=>this._deferred.reject(Z))}catch(Z){this._deferred.reject(Z)}}return this._deferred.promise}}var qK=M1(C(),1);class ED1{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_isExporting=!1;_finishedSpans=[];_timer;_shutdownOnce;_droppedSpansCount=0;constructor(J,Z){if(this._exporter=J,this._maxExportBatchSize=typeof Z?.maxExportBatchSize==="number"?Z.maxExportBatchSize:YH("OTEL_BSP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=typeof Z?.maxQueueSize==="number"?Z.maxQueueSize:YH("OTEL_BSP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=typeof Z?.scheduledDelayMillis==="number"?Z.scheduledDelayMillis:YH("OTEL_BSP_SCHEDULE_DELAY")??5000,this._exportTimeoutMillis=typeof Z?.exportTimeoutMillis==="number"?Z.exportTimeoutMillis:YH("OTEL_BSP_EXPORT_TIMEOUT")??30000,this._shutdownOnce=new np(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize)qK.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize}forceFlush(){if(this._shutdownOnce.isCalled)return this._shutdownOnce.promise;return this._flushAll()}onStart(J,Z){}onEnd(J){if(this._shutdownOnce.isCalled)return;if((J.spanContext().traceFlags&qK.TraceFlags.SAMPLED)===0)return;this._addToBuffer(J)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>{return this.onShutdown()}).then(()=>{return this._flushAll()}).then(()=>{return this._exporter.shutdown()})}_addToBuffer(J){if(this._finishedSpans.length>=this._maxQueueSize){if(this._droppedSpansCount===0)qK.diag.debug("maxQueueSize reached, dropping spans");this._droppedSpansCount++;return}if(this._droppedSpansCount>0)qK.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0;this._finishedSpans.push(J),this._maybeStartTimer()}_flushAll(){return new Promise((J,Z)=>{let X=[],Y=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let $=0,z=Y;$<z;$++)X.push(this._flushOneBatch());Promise.all(X).then(()=>{J()}).catch(Z)})}_flushOneBatch(){if(this._clearTimer(),this._finishedSpans.length===0)return Promise.resolve();return new Promise((J,Z)=>{let X=setTimeout(()=>{Z(new Error("Timeout"))},this._exportTimeoutMillis);qK.context.with(jD1(qK.context.active()),()=>{let Y;if(this._finishedSpans.length<=this._maxExportBatchSize)Y=this._finishedSpans,this._finishedSpans=[];else Y=this._finishedSpans.splice(0,this._maxExportBatchSize);let $=()=>this._exporter.export(Y,(W)=>{if(clearTimeout(X),W.code===YE.SUCCESS)J();else Z(W.error??new Error("BatchSpanProcessor: span export failed"))}),z=null;for(let W=0,Q=Y.length;W<Q;W++){let G=Y[W];if(G.resource.asyncAttributesPending&&G.resource.waitForAsyncAttributes)z??=[],z.push(G.resource.waitForAsyncAttributes())}if(z===null)$();else Promise.all(z).then($,(W)=>{pp(W),Z(W)})})})}_maybeStartTimer(){if(this._isExporting)return;let J=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{if(this._isExporting=!1,this._finishedSpans.length>0)this._clearTimer(),this._maybeStartTimer()}).catch((Z)=>{this._isExporting=!1,pp(Z)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return J();if(this._timer!==void 0)return;this._timer=setTimeout(()=>J(),this._scheduledDelayMillis),XE(this._timer)}_clearTimer(){if(this._timer!==void 0)clearTimeout(this._timer),this._timer=void 0}}class uA extends ED1{onShutdown(){}}var s9=M1(j1(),1);var LD=M1(C(),1);class ip{config;constructor(J={defaultSamplingRate:0.15,errorSamplingRate:1}){if(this.config=J,J.defaultSamplingRate<0||J.defaultSamplingRate>1)throw new Error("Default sampling rate must be between 0 and 1");if(J.errorSamplingRate<0||J.errorSamplingRate>1)throw new Error("Error sampling rate must be between 0 and 1")}shouldSample(J,Z,X,Y,$,z){let W=$["http.status_code"];if($.error===!0||W&&Number(W)>=400)return{decision:LD.SamplingDecision.RECORD_AND_SAMPLED,attributes:{"sampling.reason":"error_retention","sampling.rate":this.config.errorSamplingRate}};if(this.config.enabledEndpoints){let K=$["http.route"]||$["http.target"];if(K&&this.config.enabledEndpoints.some((q)=>String(K).includes(q)))return{decision:LD.SamplingDecision.RECORD_AND_SAMPLED,attributes:{"sampling.reason":"endpoint_enabled","sampling.rate":1}}}if(X.includes("/health")||X.includes("health")){let K=this.config.defaultSamplingRate*0.1,q=Math.random()<K;return{decision:q?LD.SamplingDecision.RECORD_AND_SAMPLED:LD.SamplingDecision.NOT_RECORD,attributes:q?{"sampling.reason":"health_check","sampling.rate":K}:void 0}}let G=Math.random()<this.config.defaultSamplingRate;return{decision:G?LD.SamplingDecision.RECORD_AND_SAMPLED:LD.SamplingDecision.NOT_RECORD,attributes:G?{"sampling.reason":"default_sampling","sampling.rate":this.config.defaultSamplingRate}:void 0}}toString(){return`SmartSampler{defaultRate=${this.config.defaultSamplingRate}, errorRate=${this.config.errorSamplingRate}}`}}var $E,op=!1,f4;async function ni6(){if(op){j41("OpenTelemetry already initialized, skipping");return}try{if(f4=N41,!f4.ENABLE_OPENTELEMETRY){console.log("OpenTelemetry instrumentation is disabled");return}console.log("Initializing 2025-compliant OpenTelemetry SDK...",{serviceName:f4.SERVICE_NAME,serviceVersion:f4.SERVICE_VERSION,environment:f4.DEPLOYMENT_ENVIRONMENT,samplingRate:f4.SAMPLING_RATE,exportTimeout:f4.EXPORT_TIMEOUT_MS}),CD.diag.setLogger(new CD.DiagConsoleLogger,f4.DEPLOYMENT_ENVIRONMENT==="development"?CD.DiagLogLevel.INFO:CD.DiagLogLevel.WARN),fQ.setConfig(f4);let J=await Gv5(f4),Z=Kv5(f4),X=qv5(f4),Y=Bv5(f4),$=new uA(Z,{maxExportBatchSize:f4.BATCH_SIZE,maxQueueSize:f4.MAX_QUEUE_SIZE,scheduledDelayMillis:5000,exportTimeoutMillis:f4.EXPORT_TIMEOUT_MS}),z=new Oj(Y,{maxExportBatchSize:Math.min(f4.BATCH_SIZE,512),maxQueueSize:f4.MAX_QUEUE_SIZE,scheduledDelayMillis:5000,exportTimeoutMillis:f4.EXPORT_TIMEOUT_MS}),W=new ju({exporter:X,exportIntervalMillis:f4.METRIC_READER_INTERVAL,exportTimeoutMillis:f4.EXPORT_TIMEOUT_MS}),Q=new ip({defaultSamplingRate:f4.SAMPLING_RATE,errorSamplingRate:1,enabledEndpoints:["/graphql","/health"]}),G=new sG1({propagators:[new rG1,new iG1]});$E=new pi6.NodeSDK({resource:J,sampler:Q,textMapPropagator:G,spanProcessors:[$],logRecordProcessors:[z],metricReader:W,instrumentations:[ci6.getNodeAutoInstrumentations({"@opentelemetry/instrumentation-aws-lambda":{enabled:!1},"@opentelemetry/instrumentation-aws-sdk":{enabled:!1},"@opentelemetry/instrumentation-fs":{enabled:!1},"@opentelemetry/instrumentation-winston":{enabled:!1},"@opentelemetry/instrumentation-runtime-node":{enabled:!1},"@opentelemetry/instrumentation-http":{enabled:!0,ignoreIncomingRequestHook:(K)=>{return K.url?.includes("/health")||!1}}}),new li6.GraphQLInstrumentation({allowValues:!0,depth:-1,mergeItems:!0})]}),await $E.start(),kQ.initialize(),op=!0,console.log("\u2705 OpenTelemetry SDK initialized successfully",{tracesEndpoint:f4.TRACES_ENDPOINT,metricsEndpoint:f4.METRICS_ENDPOINT,logsEndpoint:f4.LOGS_ENDPOINT,samplingRate:`${f4.SAMPLING_RATE*100}%`,batchSize:f4.BATCH_SIZE,exportTimeoutMs:f4.EXPORT_TIMEOUT_MS}),Hv5()}catch(J){throw console.error("\u274C Failed to initialize OpenTelemetry SDK:",J),J}}function Gv5(J){let Z={[s9.ATTR_SERVICE_NAME]:J.SERVICE_NAME,[s9.ATTR_SERVICE_VERSION]:J.SERVICE_VERSION,[s9.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT]:J.DEPLOYMENT_ENVIRONMENT,[s9.SEMRESATTRS_SERVICE_NAMESPACE]:"capella-graphql-api",[s9.SEMRESATTRS_SERVICE_INSTANCE_ID]:J.runtime?.HOSTNAME||J.runtime?.INSTANCE_ID||"unknown",[s9.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[s9.ATTR_TELEMETRY_SDK_LANGUAGE]:"nodejs",[s9.ATTR_TELEMETRY_SDK_VERSION]:"2.0.1","runtime.name":"bun","runtime.version":typeof Bun!=="undefined"?Bun.version:process.version,...J.runtime?.CONTAINER_ID&&{"container.id":J.runtime.CONTAINER_ID},...J.runtime?.K8S_POD_NAME&&{"k8s.pod.name":J.runtime.K8S_POD_NAME},...J.runtime?.K8S_NAMESPACE&&{"k8s.namespace.name":J.runtime.K8S_NAMESPACE}};return LK1(Z)}function Kv5(J){return new ow({url:J.TRACES_ENDPOINT,headers:{"Content-Type":"application/json"},timeoutMillis:J.EXPORT_TIMEOUT_MS,concurrencyLimit:10,keepAlive:!0})}function qv5(J){return new iw({url:J.METRICS_ENDPOINT,headers:{"Content-Type":"application/json"},timeoutMillis:J.EXPORT_TIMEOUT_MS,concurrencyLimit:10,keepAlive:!0})}function Bv5(J){return new nw({url:J.LOGS_ENDPOINT,headers:{"Content-Type":"application/json"},timeoutMillis:J.EXPORT_TIMEOUT_MS,concurrencyLimit:10,keepAlive:!0})}function Hv5(){let J=async(Z)=>{console.log(`Received ${Z}, shutting down OpenTelemetry SDK gracefully...`);try{await ii6(),console.log("\u2705 OpenTelemetry SDK shut down successfully")}catch(X){console.error("\u274C Error during OpenTelemetry SDK shutdown:",X)}};process.on("SIGTERM",()=>J("SIGTERM")),process.on("SIGINT",()=>J("SIGINT")),process.on("SIGQUIT",()=>J("SIGQUIT"))}async function ii6(){if(!$E||!op)return;try{await $E.shutdown(),$E=void 0,op=!1,console.log("OpenTelemetry SDK shutdown completed")}catch(J){throw console.error("Error shutting down OpenTelemetry SDK:",J),J}}ni6().catch((J)=>{if(console.error("Critical: Failed to initialize OpenTelemetry:",J),f4?.DEPLOYMENT_ENVIRONMENT==="production")process.exit(1)});var zE=M1(C(),1);async function SD1(J,Z,X){let Y=zE.trace.getTracer("couchbase-client","1.0.0"),$={"db.system":"couchbase","db.operation":"search","db.couchbase.collections_count":J.length,"db.couchbase.keys_count":Z.length,"db.couchbase.collections":J.map((z)=>`${z.bucket}.${z.scope}.${z.collection}`).join(",")};return await Y.startActiveSpan("couchbase.multi_collection_search",{attributes:$},async(z)=>{let W=Date.now();try{let Q=await X(),G=Date.now()-W;return z.setAttributes({"db.operation.duration_ms":G,"db.operation.success":!0}),z.setStatus({code:zE.SpanStatusCode.OK}),Q}catch(Q){let G=Date.now()-W;if(z.setAttributes({"db.operation.duration_ms":G,"db.operation.success":!1}),Q instanceof Error)z.setAttributes({"db.operation.error_name":Q.name,"db.operation.error_message":Q.message}),z.recordException(Q);throw z.setStatus({code:zE.SpanStatusCode.ERROR,message:Q instanceof Error?Q.message:String(Q)}),Q}finally{z.end()}})}var Uv5={Query:{searchDocuments:async(J,Z)=>{let{collections:X,keys:Y}=Z;return await SD1(X,Y,async()=>{try{let $=await n8(),z=[];for(let W of Y)for(let{bucket:Q,scope:G,collection:K}of X){let q=Date.now();if(!W.trim()){e1(`Skipping empty key for ${Q}.${G}.${K}`),z.push({bucket:Q,scope:G,collection:K,data:null,timeTaken:0});continue}e1("Fetching document using K/V operation",{bucket:Q,scope:G,collection:K,key:W});try{let F=await $.collection(Q,G,K).get(W),U=Date.now()-q;z.push({bucket:Q,scope:G,collection:K,data:{id:W,...F.content},timeTaken:U}),e1(`Time taken to fetch document from ${Q}.${G}.${K}: ${U}ms`)}catch(H){if(H instanceof $.errors.DocumentNotFoundError)e1(`Document with key ${W} not found in ${Q}.${G}.${K}`),z.push({bucket:Q,scope:G,collection:K,data:null,timeTaken:Date.now()-q});else if(H instanceof $.errors.CouchbaseError)U9(`Couchbase error fetching document with key ${W} from ${Q}.${G}.${K}:`,H),z.push({bucket:Q,scope:G,collection:K,data:null,timeTaken:Date.now()-q,error:H.message});else U9(`Unexpected error fetching document with key ${W} from ${Q}.${G}.${K}:`,H),z.push({bucket:Q,scope:G,collection:K,data:null,timeTaken:Date.now()-q,error:"Unexpected error occurred"})}}return z}catch($){throw U9("Error in document search:",$),$}})}}},oi6=Uv5;var Ov5={Query:{getAllSeasonalAssignments:async(J,Z)=>{try{let{styleSeasonCode:X,companyCode:Y,isActive:$}=Z,z=await n8().catch((K)=>{throw q4("Error in getCluster:",K),K}),W="EXECUTE FUNCTION `default`.`new_model`.getAllSeasonalAssignments($styleSeasonCode, $companyCode)",Q={parameters:{styleSeasonCode:X,companyCode:Y!==void 0?Y:null}};e1("Query executed",{query:"EXECUTE FUNCTION `default`.`new_model`.getAllSeasonalAssignments($styleSeasonCode, $companyCode)",queryOptions:Q});let G=await z.cluster.query("EXECUTE FUNCTION `default`.`new_model`.getAllSeasonalAssignments($styleSeasonCode, $companyCode)",Q);if(Z5(JSON.stringify(G,null,2)),$!==void 0)G.rows[0]=G.rows[0].map((K)=>({...K,divisions:K.divisions.filter((q)=>q.isActive===$)}));return G.rows[0]}catch(X){throw q4("Error:",X),X}}}},si6=Ov5;var Dv5={Query:{getDivisionAssignment:async(J,Z)=>{try{let{styleSeasonCode:X,companyCode:Y,divisionCode:$}=Z,z=await n8().catch((K)=>{throw q4("Error in getCluster:",K),K}),W="EXECUTE FUNCTION `default`.`new_model`.getDivisionAssignment($styleSeasonCode, $companyCode, $divisionCode)",Q={parameters:{styleSeasonCode:X,companyCode:Y,divisionCode:$}};e1("Query executed",{query:"EXECUTE FUNCTION `default`.`new_model`.getDivisionAssignment($styleSeasonCode, $companyCode, $divisionCode)",queryOptions:Q});let G=await z.cluster.query("EXECUTE FUNCTION `default`.`new_model`.getDivisionAssignment($styleSeasonCode, $companyCode, $divisionCode)",Q);return Z5(JSON.stringify(G,null,2)),G.rows[0][0]}catch(X){throw q4("Error:",X),X}}}},ai6=Dv5;var Vv5={Query:{imageDetails:async(J,Z)=>{try{let{divisionCode:X,styleSeasonCode:Y,styleCode:$}=Z,z=await n8().catch((K)=>{throw q4("Error in getCluster:",K),K}),W="EXECUTE FUNCTION `default`.`_default`.getImageDetails($divisionCode, $styleSeasonCode, $styleCode)",Q={parameters:{divisionCode:X,styleSeasonCode:Y,styleCode:$}};e1("Query executed",{query:"EXECUTE FUNCTION `default`.`_default`.getImageDetails($divisionCode, $styleSeasonCode, $styleCode)",queryOptions:Q});let G=await z.cluster.query("EXECUTE FUNCTION `default`.`_default`.getImageDetails($divisionCode, $styleSeasonCode, $styleCode)",Q);return Z5(JSON.stringify(G,null,2)),G.rows[0][0]}catch(X){throw q4("Error:",X),X}}}},ri6=Vv5;var Iv5={Query:{getImageUrlCheck:async(J,Z)=>{try{let{divisions:X,season:Y}=Z,$=await n8().catch((G)=>{throw q4("Error in getCluster:",G),G}),z="EXECUTE FUNCTION `default`.`_default`.getImageUrlCheck($divisions, $season)",W={parameters:{divisions:X,season:Y}};e1("Query executed",{query:"EXECUTE FUNCTION `default`.`_default`.getImageUrlCheck($divisions, $season)",queryOptions:W});let Q=await $.cluster.query("EXECUTE FUNCTION `default`.`_default`.getImageUrlCheck($divisions, $season)",W);return Z5(JSON.stringify(Q,null,2)),Q.rows[0]}catch(X){throw q4("Error:",X),X}}}},ti6=Iv5;var wv5={Query:{lookDetails:async(J,Z)=>{try{let{lookDocKey:X}=Z,Y=await n8().catch((Q)=>{throw q4("Error in getCluster:",Q),Q}),$="EXECUTE FUNCTION `default`.`media_assets`.getLookDetails($lookDocKey)",z={parameters:{lookDocKey:X}};e1("Query executed",{query:"EXECUTE FUNCTION `default`.`media_assets`.getLookDetails($lookDocKey)",queryOptions:z});let W=await Y.cluster.query("EXECUTE FUNCTION `default`.`media_assets`.getLookDetails($lookDocKey)",z);return Z5(JSON.stringify(W,null,2)),W.rows[0][0]}catch(X){throw q4("Error:",X),X}}}},ei6=wv5;var Av5={Query:{looks:async(J,Z)=>{try{let{brand:X,season:Y,division:$}=Z,z=await n8().catch((K)=>{throw q4("Error in getCluster:",K),K}),W="EXECUTE FUNCTION `default`.`media_assets`.get_looks($brand, $season, $division)",Q={parameters:{brand:X,season:Y,division:$}};e1("Query executed",{query:"EXECUTE FUNCTION `default`.`media_assets`.get_looks($brand, $season, $division)",queryOptions:Q});let G=await z.cluster.query("EXECUTE FUNCTION `default`.`media_assets`.get_looks($brand, $season, $division)",Q);return Z5(JSON.stringify(G.rows[0],null,2)),G.rows[0]}catch(X){throw q4("Error:",X),X}}}},Jo6=Av5;var Mv5={Query:{looksSummary:async(J,Z)=>{try{let{brand:X,season:Y,division:$}=Z,z=await n8().catch((K)=>{throw q4("Error in getCluster:",K),K}),W="EXECUTE FUNCTION `default`.`media_assets`.get_looks_summary($brand, $season, $division)",Q={parameters:{brand:X,season:Y,division:$}};e1("Query executed",{query:"EXECUTE FUNCTION `default`.`media_assets`.get_looks_summary($brand, $season, $division)",queryOptions:Q});let G=await z.cluster.query("EXECUTE FUNCTION `default`.`media_assets`.get_looks_summary($brand, $season, $division)",Q);return Z5(JSON.stringify(G,null,2)),G.rows[0][0]}catch(X){throw q4("Error:",X),X}}}},Zo6=Mv5;var Nv5={Query:{getLooksUrlCheck:async(J,Z)=>{try{let{divisions:X,season:Y}=Z,$=await n8().catch((G)=>{throw q4("Error in getCluster:",G),G}),z="EXECUTE FUNCTION `default`.`media_assets`.getLooksUrlCheck($divisions, $season)",W={parameters:{divisions:X,season:Y}};e1("Query executed",{query:"EXECUTE FUNCTION `default`.`media_assets`.getLooksUrlCheck($divisions, $season)",queryOptions:W});let Q=await $.cluster.query("EXECUTE FUNCTION `default`.`media_assets`.getLooksUrlCheck($divisions, $season)",W);return Z5(JSON.stringify(Q,null,2)),Q.rows[0]}catch(X){throw q4("Error:",X),X}}}},Xo6=Nv5;var Pv5={Query:{optionsProductView:async(J,Z)=>{try{let{BrandCode:X,SalesOrganizationCode:Y,StyleSeasonCode:$,DivisionCode:z,ActiveOption:W,SalesChannels:Q}=Z,G=await n8().catch((F)=>{throw q4("Error in getCluster:",F),F}),K="EXECUTE FUNCTION `default`.`_default`.get_options_product_view($BrandCode, $SalesOrganizationCode, $StyleSeasonCode, $DivisionCode, $ActiveOption, $SalesChannels)",q={parameters:{BrandCode:X,SalesOrganizationCode:Y,StyleSeasonCode:$,DivisionCode:z,ActiveOption:W,SalesChannels:Q}};e1("Query executed",{query:"EXECUTE FUNCTION `default`.`_default`.get_options_product_view($BrandCode, $SalesOrganizationCode, $StyleSeasonCode, $DivisionCode, $ActiveOption, $SalesChannels)",queryOptions:q});let H=await G.cluster.query("EXECUTE FUNCTION `default`.`_default`.get_options_product_view($BrandCode, $SalesOrganizationCode, $StyleSeasonCode, $DivisionCode, $ActiveOption, $SalesChannels)",q);return Z5(JSON.stringify(H.rows,null,2)),H.rows[0]}catch(X){throw q4("Error:",X),X}}}},Yo6=Pv5;var Lv5={Query:{optionsSummary:async(J,Z)=>{try{let{SalesOrganizationCode:X,StyleSeasonCode:Y,DivisionCode:$,ActiveOption:z,SalesChannels:W}=Z,Q=await n8().catch((H)=>{throw q4("Error in getCluster:",H),H}),G="EXECUTE FUNCTION `default`.`_default`.get_options_summary($SalesOrganizationCode, $StyleSeasonCode, $DivisionCode, $ActiveOption, $SalesChannels)",K={parameters:{SalesOrganizationCode:X,StyleSeasonCode:Y,DivisionCode:$,ActiveOption:z,SalesChannels:W}};e1("Query executed",{query:"EXECUTE FUNCTION `default`.`_default`.get_options_summary($SalesOrganizationCode, $StyleSeasonCode, $DivisionCode, $ActiveOption, $SalesChannels)",queryOptions:K});let q=await Q.cluster.query("EXECUTE FUNCTION `default`.`_default`.get_options_summary($SalesOrganizationCode, $StyleSeasonCode, $DivisionCode, $ActiveOption, $SalesChannels)",K);return Z5("Result:",JSON.stringify(q,null,2)),q.rows[0][0]}catch(X){throw q4("Error:",X),X}}}},$o6=Lv5;var Cv5={Query:{...Jo6.Query,...Zo6.Query,...$o6.Query,...Yo6.Query,...ri6.Query,...ei6.Query,...ti6.Query,...Xo6.Query,...oi6.Query,...ai6.Query,...si6.Query}},zo6=Cv5;var Wo6=M1(R$(),1),{__extends:wA7,__assign:TD1,__rest:AA7,__decorate:MA7,__param:NA7,__esDecorate:PA7,__runInitializers:LA7,__propKey:CA7,__setFunctionName:jA7,__metadata:RA7,__awaiter:EA7,__generator:SA7,__exportStar:TA7,__createBinding:fA7,__values:kA7,__read:bA7,__spread:hA7,__spreadArrays:_A7,__spreadArray:yA7,__await:vA7,__asyncGenerator:xA7,__asyncDelegator:gA7,__asyncValues:dA7,__makeTemplateObject:uA7,__importStar:mA7,__importDefault:cA7,__classPrivateFieldGet:lA7,__classPrivateFieldSet:pA7,__classPrivateFieldIn:nA7,__addDisposableResource:iA7,__disposeResources:oA7,__rewriteRelativeImportExtension:sA7}=Wo6.default;var Qo6=M1(B6(),1),sp=new Map,fD1=new Map,Go6=!0,ap=!1;function Ko6(J){return J.replace(/[\s,]+/g," ").trim()}function jv5(J){return Ko6(J.source.body.substring(J.start,J.end))}function Rv5(J){var Z=new Set,X=[];return J.definitions.forEach(function(Y){if(Y.kind==="FragmentDefinition"){var $=Y.name.value,z=jv5(Y.loc),W=fD1.get($);if(W&&!W.has(z)){if(Go6)console.warn("Warning: fragment with name "+$+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`)}else if(!W)fD1.set($,W=new Set);if(W.add(z),!Z.has(z))Z.add(z),X.push(Y)}else X.push(Y)}),TD1(TD1({},J),{definitions:X})}function Ev5(J){var Z=new Set(J.definitions);Z.forEach(function(Y){if(Y.loc)delete Y.loc;Object.keys(Y).forEach(function($){var z=Y[$];if(z&&typeof z==="object")Z.add(z)})});var X=J.loc;if(X)delete X.startToken,delete X.endToken;return J}function Sv5(J){var Z=Ko6(J);if(!sp.has(Z)){var X=Qo6.parse(J,{experimentalFragmentVariables:ap,allowLegacyFragmentVariables:ap});if(!X||X.kind!=="Document")throw new Error("Not a valid GraphQL document.");sp.set(Z,Ev5(Rv5(X)))}return sp.get(Z)}function jD(J){var Z=[];for(var X=1;X<arguments.length;X++)Z[X-1]=arguments[X];if(typeof J==="string")J=[J];var Y=J[0];return Z.forEach(function($,z){if($&&$.kind==="Document")Y+=$.loc.source.body;else Y+=$;Y+=J[z+1]}),Sv5(Y)}function Tv5(){sp.clear(),fD1.clear()}function fv5(){Go6=!1}function kv5(){ap=!0}function bv5(){ap=!1}var WE={gql:jD,resetCaches:Tv5,disableFragmentWarnings:fv5,enableExperimentalFragmentVariables:kv5,disableExperimentalFragmentVariables:bv5};(function(J){J.gql=WE.gql,J.resetCaches=WE.resetCaches,J.disableFragmentWarnings=WE.disableFragmentWarnings,J.enableExperimentalFragmentVariables=WE.enableExperimentalFragmentVariables,J.disableExperimentalFragmentVariables=WE.disableExperimentalFragmentVariables})(jD||(jD={}));jD.default=jD;var hv5=jD`
  enum SalesChannel {
    SELLIN
    B2B
  }

  type Look {
    documentKey: String
    divisionCode: String
    lookType: Int
    assetUrl: String
    title: String
    trend: String
    relatedStyles: [String]
    isDeleted: Boolean
  }

  type LookSummary {
    hasDeliveryName: Int
    hasDescription: Int
    hasGender: Int
    hasRelatedStyles: Int
    hasTag: Int
    hasTitle: Int
    hasTrend: Int
    totalLooks: Int
  }

  type OptionSummary {
    totalOptions: Int!
    hasImages: Int!
    hasFrontImageUrl: Int!
    isActive: Int!
    isAvailable: Int!
    isCancelled: Int!
    isClosed: Int!
    isInvalid: Int!
    isLicensed: Int!
    isNew: Int!
    isSoldOut: Int!
    isUpdated: Int!
    isOpenForEcom: Int!
    hasDeliveryDates: Int!
  }

  type Status {
    code: String
    description: String
    isAvailable: Boolean
    isCancelled: Boolean
    isClosed: Boolean
    isInvalid: Boolean
    isSoldOut: Boolean
  }

  type Size {
    EAN: String
    index: Int
    name: String
    pimVariantKeyNo: String
    sapVariant: String
    status: Status
  }

  type SizeSet {
    sizes: [Size]
  }

  type Inseam {
    null: SizesMap
  }

  type SizesMap {
    sizes: [Size]
  }

  type Dimensions {
    heelHeight: Int
    height: Int
    length: Int
    shaftHeight: Int
    width: Int
  }

  type Theme {
    name: String
  }

  type PimDeliveryDates {
    additionalDeliveryDate: String
    adjustedDeliveryDate: String
    dropDate: Float
    modifiedOn: String
  }

  type MerchandisingHierarchy {
    business: String
    category: String
    code: String
    gender: String
    lifestyle: String
    productgroup: String
    productsubgroup: String
    world: String
  }

  type OptionProductView {
    activeOption: Boolean
    divisionCode: String
    brandCode: String
    optionCode: String
    description: String
    styleDescription: String
    internal_id: String
    images: String
    imageUrl: String
    isAvailable: Boolean
    isCancelled: Boolean
    isClosed: Boolean
    isInvalid: Boolean
    isLicensed: Boolean
    isNew: Boolean
    isSoldOut: Boolean
    isUpdated: Boolean
    isOpenForEcom: Boolean
    hasDeliveryDropDate: Boolean
    hasImageDocument: Boolean
  }

  type OptionFull {
    activeOption: Boolean
    brandCode: String
    certificationStyles: [String]
    channels: [String]
    collection: String
    collectionStructure: String
    color: String
    colorDescription1: String
    colorDescription2: String
    consumerAssortment: String
    consumerAssortmentCode: String
    copiedFromOption: String
    countryOfOrigin: String
    ctpMonth: String
    description: String
    descriptions: String
    dimensions: Dimensions
    distribution: String
    divisionCode: String
    documentType: String
    fabric: String
    fashionability: String
    fashionabilityCode: String
    fit: String
    fitForBottoms: String
    fitForTops: String
    fmsCollectionCode: String
    fmsMainSeasonCode: String
    garmentLength: String
    hasSustainableMaterials: Boolean
    hexCode: String
    images: String
    innovation: Boolean
    innovationAttributes: String
    inseams: Inseam
    internalStyleName: String
    internal_id: String
    isAvailable: Boolean
    isCancelled: Boolean
    isClosed: Boolean
    isInvalid: Boolean
    isLicensed: Boolean
    isNew: Boolean
    isSoldOut: Boolean
    isUpdated: Boolean
    keyLook: String
    label: String
    llo: Int
    mainSeason: String
    merchandisingHierarchy: MerchandisingHierarchy
    neckline: String
    openForEcom: Boolean
    optionCode: String
    optionType: String
    originatingProductLine: String
    originatingProductLineCode: String
    packingType: String
    pimDeliveryDates: PimDeliveryDates
    pimOptionKeyNo: String
    pimProductKeyNo: String
    prepackSizeOffer: String
    priceBySize: Boolean
    productStory: String
    program: String
    referenceOptionNumber: String
    referenceStyleNumber: String
    rise: String
    salesChannels: [String]
    salesComments: String
    salesOrganizationCode: String
    seasonYear: String
    shape: String
    sizeCode: String
    sizeRange: String
    sizeRangeOption: String
    sleeveLength: String
    styleDescription: String
    styleDescriptions: [String]
    styleNumber: String
    styleSeasonCode: String
    sustainableAttribute: String
    sustainableFiber: String
    sustainableFibers: [String]
    swatchBookNumber: String
    theme: Theme
    wash: String
  }

  type ImageDetails {
    imageKey: String!
    backModifiedOn: String
    backUrl: String
    back2ModifiedOn: String
    back2Url: String
    back3ModifiedOn: String
    back3Url: String
    detailModifiedOn: String
    detailUrl: String
    detail2ModifiedOn: String
    detail2Url: String
    detail3ModifiedOn: String
    detail3Url: String
    fabricScanModifiedOn: String
    fabricScanUrl: String
    frontModifiedOn: String
    frontUrl: String
    front2ModifiedOn: String
    front2Url: String
    front3ModifiedOn: String
    front3Url: String
    i360ModifiedOn: String
    i360Url: String
    imageModifiedOn: String
    imageUrl: String
    insideModifiedOn: String
    insideUrl: String
    inside2ModifiedOn: String
    inside2Url: String
    inside3ModifiedOn: String
    inside3Url: String
    gridModifiedOn: String
    gridUrl: String
    packageModifiedOn: String
    packageUrl: String
    sketchModifiedOn: String
    sketchUrl: String
  }

  type LookDetails {
    assetUrl: String
    brand: String
    channels: [String]
    createdOn: String
    createdOnSourceSystem: String
    deliveryName: String
    description: String
    divisionCode: String
    documentUpdatedBy: String
    gender: String
    isDeleted: Boolean
    lookId: String
    lookType: Int
    modifiedOn: String
    modifiedOnSourceSystem: String
    nuxeoId: String
    position: Int
    processedOn: String
    relatedStyles: [String]
    sourceSystem: String
    styleSeasonCodeAfs: String
    tag: String
    title: String
    trend: String
  }

  type UrlSuffixesResult {
    divisionCode: String!
    urls: [String!]!
  }

  scalar JSON

  input BucketScopeCollection {
    bucket: String!
    scope: String!
    collection: String!
  }

  type DocumentResult {
    bucket: String!
    scope: String!
    collection: String!
    data: JSON
    timeTaken: Float!
  }

  type SeasonalAssignment {
    channels: [String!]!
    divisions: [Division!]!
    salesOrganizationCodes: [String!]!
    companyCode: String!
    name: String!
    brand: String!
    brandName: String!
    styleSeasonCode: String!
    fms: FMS!
    createdOn: String!
    modifiedOn: String!
  }

  type SeasonalDivisionalAssignment {
    channels: [String!]!
    division: Division
    salesOrganizationCodes: [String!]!
    companyCode: String!
    name: String!
    brand: String!
    brandName: String!
    styleSeasonCode: String!
    fms: FMS!
    createdOn: String!
    modifiedOn: String!
  }

  type Division {
    name: String!
    code: String!
    isActive: Boolean!
  }

  type FMSSeason {
    code: String!
    name: String!
  }

  type FMS {
    season: [FMSSeason!]!
    year: String!
  }

  type Query {
    looksSummary(brand: String, season: String, division: String): LookSummary
    looks(brand: String, season: String, division: String): [Look]
    optionsSummary(
      SalesOrganizationCode: String!
      StyleSeasonCode: String!
      DivisionCode: String!
      ActiveOption: Boolean!
      SalesChannels: [SalesChannel!]!
    ): OptionSummary!
    optionsProductView(
      BrandCode: String!
      SalesOrganizationCode: String!
      StyleSeasonCode: String!
      DivisionCode: String!
      ActiveOption: Boolean!
      SalesChannels: [SalesChannel!]!
    ): [OptionProductView]
    imageDetails(
      divisionCode: String!
      styleSeasonCode: String!
      styleCode: String!
    ): ImageDetails
    lookDetails(lookDocKey: String!): LookDetails
    getImageUrlCheck(
      divisions: [String!]!
      season: String!
    ): [UrlSuffixesResult!]!
    getLooksUrlCheck(
      divisions: [String!]!
      season: String!
    ): [UrlSuffixesResult!]!
    searchDocuments(
      collections: [BucketScopeCollection!]!
      keys: [String!]!
    ): [DocumentResult!]!
    getAllSeasonalAssignments(
      styleSeasonCode: String!
      companyCode: String
      isActive: Boolean
    ): [SeasonalAssignment!]!
    #        getSeasonalAssignment(styleSeasonCode: String!, companyCode: String!, isActive: Boolean): SeasonalAssignment
    getDivisionAssignment(
      styleSeasonCode: String!
      companyCode: String!
      divisionCode: String!
    ): SeasonalDivisionalAssignment
  }
`,qo6=hv5;async function kD1(){let J=Date.now();try{let[Z,X,Y,$]=await Promise.allSettled([Ji1(),mh(),O3(),lh()]),z=Z.status==="fulfilled"?Z.value:null,W=$.status==="fulfilled"?$.value:null,Q={status:z?.status||"unhealthy",latency:W?.latency,circuitBreaker:z?.details.circuitBreaker||{state:"unknown",failures:0,successes:0},details:z?.details.ping,error:z?.details.error||(Z.status==="rejected"?Z.reason?.message:void 0)},G=X.status==="fulfilled"?X.value:null,K={status:G?.status==="healthy"?"healthy":"unhealthy",memory:G?.memory||{used:0,free:0,total:0,heapUsed:0,heapTotal:0},environment:G?.config.environment||"unknown",version:G?.runtime.version||"unknown",error:X.status==="rejected"?X.reason?.message:void 0},q=Y.status==="fulfilled"?Y.value:null,H={status:q?.status||"unhealthy",exporters:q?.exporters||{traces:!1,metrics:!1,logs:!1},circuitBreaker:q?.circuitBreaker||{state:"unknown",failures:0},error:q?.error||(Y.status==="rejected"?Y.reason?.message:void 0)},F=[Q.status,K.status,H.status],U="healthy";if(F.includes("unhealthy"))U="unhealthy";else if(F.includes("degraded"))U="degraded";let D=K.memory.total>0?K.memory.used/K.memory.total*100:0;return{overall:U,timestamp:new Date().toISOString(),uptime:process.uptime(),components:{database:Q,runtime:K,telemetry:H},performance:{databaseLatency:Q.latency,memoryUsage:D}}}catch(Z){return{overall:"unhealthy",timestamp:new Date().toISOString(),uptime:process.uptime(),components:{database:{status:"unhealthy",circuitBreaker:{state:"unknown",failures:0,successes:0},error:"Health check failed"},runtime:{status:"unhealthy",memory:{used:0,free:0,total:0,heapUsed:0,heapTotal:0},environment:"unknown",version:"unknown",error:"Health check failed"},telemetry:{status:"unhealthy",exporters:{traces:!1,metrics:!1,logs:!1},circuitBreaker:{state:"unknown",failures:0},error:"Health check failed"}},performance:{memoryUsage:0}}}}async function Bo6(){let J=await kD1(),Z=[];if(J.components.database.status==="unhealthy")Z.push(`Database: ${J.components.database.error||"Connection failed"}`);if(J.components.runtime.status==="unhealthy")Z.push(`Runtime: ${J.components.runtime.error||"System failure"}`);if(J.components.telemetry.status==="unhealthy")Z.push(`Telemetry: ${J.components.telemetry.error||"Observability failure"}`);if(J.performance.memoryUsage>85)Z.push(`High memory usage: ${J.performance.memoryUsage.toFixed(1)}%`);if(J.performance.databaseLatency&&J.performance.databaseLatency>1000)Z.push(`High database latency: ${J.performance.databaseLatency}ms`);let X="";switch(J.overall){case"healthy":X="All systems operational";break;case"degraded":X=`System degraded: ${Z.length} issues detected`;break;case"unhealthy":X=`System unhealthy: ${Z.length} critical issues`;break}return{status:J.overall,message:X,criticalIssues:Z}}var Ho6=M1(C(),1);class Fo6{meter=Ho6.metrics.getMeter("capellaql-performance");databaseLatencyHistogram=this.meter.createHistogram("database_operation_duration_ms",{description:"Database operation latency in milliseconds",unit:"ms"});memoryGauge=this.meter.createUpDownCounter("memory_usage_bytes",{description:"Memory usage in bytes",unit:"bytes"});telemetryLatencyHistogram=this.meter.createHistogram("telemetry_export_duration_ms",{description:"Telemetry export latency in milliseconds",unit:"ms"});recentMetrics=[];maxMetricsHistory=100;async collectMetrics(){let J=new Date().toISOString(),Z=await this.collectDatabaseMetrics(),X=this.collectRuntimeMetrics(),Y=await this.collectTelemetryMetrics(),$=this.calculateCorrelations(Z,X,Y),z={timestamp:J,database:Z,runtime:X,telemetry:Y,correlations:$};if(this.recordOpenTelemetryMetrics(z),this.recentMetrics.push(z),this.recentMetrics.length>this.maxMetricsHistory)this.recentMetrics.shift();return z}async collectDatabaseMetrics(){let{result:J,duration:Z}=await AL.measure(()=>lh()),X="disconnected";if(J.success)X=J.latency&&J.latency<1000?"connected":"degraded";return{latency:Z,connectionStatus:X,operationsPerSecond:this.calculateDatabaseOps(),errorRate:this.calculateDatabaseErrorRate()}}collectRuntimeMetrics(){let J=process.memoryUsage(),Z=J.rss,X=J.heapUsed;return{memoryUsage:Z,heapUsage:X,eventLoopLag:this.measureEventLoopLag()}}async collectTelemetryMetrics(){let J=O3(),{duration:Z}=await AL.measure(async()=>{return Promise.resolve(!0)});return{exportLatency:Z,droppedSpans:0,batchSize:2048,samplingRate:0.15,circuitBreakerState:J.circuitBreaker?.state||"unknown"}}calculateCorrelations(J,Z,X){let Y=this.calculateCorrelation(this.recentMetrics.map((W)=>W.database.latency),this.recentMetrics.map((W)=>W.runtime.memoryUsage)),$=this.calculateCorrelation(this.recentMetrics.map((W)=>W.telemetry.exportLatency),this.recentMetrics.map((W)=>W.database.latency+(W.runtime.eventLoopLag||0))),z="healthy";if(J.latency>2000||Z.memoryUsage>1073741824||J.connectionStatus==="disconnected")z="unhealthy";else if(J.latency>500||Z.memoryUsage>536870912||J.connectionStatus==="degraded")z="degraded";return{databaseToMemory:Y,telemetryToPerformance:$,overallHealth:z}}calculateCorrelation(J,Z){if(J.length!==Z.length||J.length<2)return 0;let X=J.length,Y=J.reduce((q,H)=>q+H,0),$=Z.reduce((q,H)=>q+H,0),z=J.reduce((q,H,F)=>q+H*Z[F],0),W=J.reduce((q,H)=>q+H*H,0),Q=Z.reduce((q,H)=>q+H*H,0),G=X*z-Y*$,K=Math.sqrt((X*W-Y*Y)*(X*Q-$*$));return K===0?0:G/K}recordOpenTelemetryMetrics(J){this.databaseLatencyHistogram.record(J.database.latency,{operation:"ping",status:J.database.connectionStatus}),this.memoryGauge.add(J.runtime.memoryUsage,{type:"rss"}),this.memoryGauge.add(J.runtime.heapUsage,{type:"heap"}),this.telemetryLatencyHistogram.record(J.telemetry.exportLatency,{circuit_breaker_state:J.telemetry.circuitBreakerState})}calculateDatabaseOps(){if(this.recentMetrics.length<2)return 0;let J=Math.min(10,this.recentMetrics.length),Z=this.recentMetrics.slice(-J),X=new Date(Z[Z.length-1].timestamp).getTime()-new Date(Z[0].timestamp).getTime();if(X===0)return 0;return J*1000/X}calculateDatabaseErrorRate(){if(this.recentMetrics.length===0)return 0;let J=Math.min(20,this.recentMetrics.length);return this.recentMetrics.slice(-J).filter((Y)=>Y.database.connectionStatus==="disconnected").length/J}measureEventLoopLag(){let J=process.hrtime.bigint();return new Promise((Z)=>{setImmediate(()=>{let X=Number(process.hrtime.bigint()-J)/1e6;Z(X)})})}getRecentMetrics(J=10){return this.recentMetrics.slice(-J)}getPerformanceTrends(){if(this.recentMetrics.length<5)return{databaseLatencyTrend:"stable",memoryUsageTrend:"stable",overallTrend:"stable"};let J=this.recentMetrics.slice(-5),Z=this.recentMetrics.slice(-10,-5);if(Z.length===0)return{databaseLatencyTrend:"stable",memoryUsageTrend:"stable",overallTrend:"stable"};let X=J.reduce((K,q)=>K+q.database.latency,0)/J.length,Y=Z.reduce((K,q)=>K+q.database.latency,0)/Z.length,$=J.reduce((K,q)=>K+q.runtime.memoryUsage,0)/J.length,z=Z.reduce((K,q)=>K+q.runtime.memoryUsage,0)/Z.length,W=X<Y*0.9?"improving":X>Y*1.1?"degrading":"stable",Q=$<z*0.95?"improving":$>z*1.05?"degrading":"stable";return{databaseLatencyTrend:W,memoryUsageTrend:Q,overallTrend:W==="improving"&&Q!=="degrading"||Q==="improving"&&W!=="degrading"?"improving":W==="degrading"||Q==="degrading"?"degrading":"stable"}}}var bD1=new Fo6;async function Uo6(){return bD1.collectMetrics()}function Oo6(J=10){return bD1.getRecentMetrics(J)}function Do6(){return bD1.getPerformanceTrends()}var yM7=M1(io6(),1),Ug5=Fg5(import.meta.url),Og5=iA.dirname(Ug5);if(typeof globalThis.CN_ROOT==="undefined")globalThis.CN_ROOT=D6.runtime.CN_ROOT||iA.resolve(Og5,"..");if(typeof globalThis.CN_CXXCBC_CACHE_DIR==="undefined")globalThis.CN_CXXCBC_CACHE_DIR=D6.runtime.CN_CXXCBC_CACHE_DIR||iA.join(globalThis.CN_ROOT,"deps","couchbase-cxx-cache");if(typeof globalThis.ENV_TRUE==="undefined")globalThis.ENV_TRUE=["true","1","y","yes","on"];var HE=D6.application.PORT,vM7=D6.application.YOGA_RESPONSE_CACHE_TTL,Dg5=Array.isArray(D6.application.ALLOWED_ORIGINS)?D6.application.ALLOWED_ORIGINS:D6.application.ALLOWED_ORIGINS.split(",").map((J)=>J.trim());console.log("Parsed ALLOWED_ORIGINS:",Dg5);var oo6=D6.telemetry.DEPLOYMENT_ENVIRONMENT==="development"||D6.runtime.NODE_ENV==="development",Vg5=500,Ig5=60000,XV1=rY.metrics.getMeter("capellaql-custom-metrics","1.0.0"),wg5=XV1.createCounter("custom_requests_total",{description:"Total number of requests processed"}),Ag5=XV1.createHistogram("custom_response_duration",{description:"Response duration in milliseconds",unit:"ms"}),Zn=XV1.createUpDownCounter("custom_active_connections",{description:"Number of active connections"}),Xn=new Map,Mg5=60000,Ng5=300000;setInterval(()=>{let J=Date.now();for(let[Z,X]of Xn.entries())if(J-X.timestamp>Ng5)Xn.delete(Z)},Mg5);function Pg5(J){let Z=J.headers.get("x-forwarded-for")||J.headers.get("cf-connecting-ip")||"unknown",Y=new URL(J.url).pathname;return`${Z}:${Y}`}function Lg5(J){if(J.headers.get("user-agent")==="K6TestAgent/1.0")return!1;let X=Pg5(J),Y=Date.now(),$=Xn.get(X)||{count:0,timestamp:Y};if(Y-$.timestamp>Ig5)$.count=1,$.timestamp=Y;else $.count++;return Xn.set(X,$),$.count>Vg5}var Cg5=()=>({typeDefs:qo6,resolvers:zo6,batching:{limit:10},validationRules:[so6.default(10)],plugins:[{onParse({params:J,addError:Z}){if(J.source.length>1e4)Z(new Error("Query too large - maximum 10KB allowed"))}},{onExecute:({args:J})=>{e1("GraphQL Execute",{operation:J.operationName,variables:J.variableValues})},onSubscribe:({args:J})=>{e1("GraphQL Subscribe",{operation:J.operationName,variables:J.variableValues})},onError:({error:J})=>{U9("GraphQL Error",{error:J.message,stack:J.stack})}},{onParse:({params:J})=>{let Z=rY.trace.getActiveSpan();if(Z)Z.setAttribute("graphql.operation_name",J.operationName||"Unknown"),Z.setAttribute("graphql.query",J.source)},onValidate:({document:J})=>{let Z=rY.trace.getActiveSpan();if(Z)Z.setAttribute("graphql.operation_name",J.definitions[0]?.kind==="OperationDefinition"?J.definitions[0].name?.value||"Unknown":"Unknown")}}]}),jg5=new X7().get("/health",async()=>{e1("Health check called");try{return await mh()}catch(J){return U9("Health check failed",J),{status:"unhealthy",timestamp:new Date().toISOString(),error:J instanceof Error?J.message:String(J),version:"2.0.0"}}}).get("/health/telemetry",async()=>{e1("Telemetry health check called");try{return O3()}catch(J){return U9("Failed to get telemetry health",J),{status:"unhealthy",error:J instanceof Error?J.message:String(J),timestamp:Date.now()}}}).get("/health/system",async()=>{e1("System health check called");try{return await kD1()}catch(J){return U9("System health check failed",J),{overall:"unhealthy",timestamp:new Date().toISOString(),error:J instanceof Error?J.message:String(J),components:{database:{status:"unhealthy",error:"Health check failed",circuitBreaker:{state:"unknown",failures:0,successes:0}},runtime:{status:"unhealthy",error:"Health check failed",memory:{used:0,free:0,total:0,heapUsed:0,heapTotal:0},environment:"unknown",version:"unknown"},telemetry:{status:"unhealthy",error:"Health check failed",exporters:{traces:!1,metrics:!1,logs:!1},circuitBreaker:{state:"unknown",failures:0}}},performance:{memoryUsage:0}}}}).get("/health/summary",async()=>{e1("System health summary called");try{return await Bo6()}catch(J){return U9("System health summary failed",J),{status:"unhealthy",message:"Health check failed",criticalIssues:[J instanceof Error?J.message:String(J)]}}}).get("/health/performance",async()=>{e1("Performance metrics called");try{return await Uo6()}catch(J){return U9("Performance metrics collection failed",J),{timestamp:new Date().toISOString(),database:{latency:-1,connectionStatus:"disconnected",errorRate:1},runtime:{memoryUsage:-1,heapUsage:-1},telemetry:{exportLatency:-1,droppedSpans:-1,batchSize:-1,samplingRate:-1,circuitBreakerState:"unknown"},correlations:{databaseToMemory:0,telemetryToPerformance:0,overallHealth:"unhealthy"},error:J instanceof Error?J.message:String(J)}}}).get("/health/performance/history",async({query:J})=>{e1("Performance history called");try{let Z=J?.count?parseInt(J.count):10,X=Oo6(Math.min(Z,50));return{metrics:X,count:X.length,trends:Do6()}}catch(Z){return U9("Performance history collection failed",Z),{metrics:[],count:0,trends:{databaseLatencyTrend:"stable",memoryUsageTrend:"stable",overallTrend:"stable"},error:Z instanceof Error?Z.message:String(Z)}}}),Rg5=(J)=>{let Z=J.headers.get("x-forwarded-for");if(Z){let $=Z.split(",").map((z)=>z.trim());for(let z of $)if(ZV1(z))return z}let X=[J.headers.get("cf-connecting-ip"),J.headers.get("x-real-ip"),J.headers.get("x-client-ip")];for(let $ of X)if($&&ZV1($))return $;console.log("All headers:",Object.fromEntries(J.headers.entries())),console.log("Request object:",JSON.stringify(J,null,2));let Y=J.socket?.remoteAddress;if(Y&&ZV1(Y))return Y;return"unknown"},Eg5=new X7().onStart(()=>{t81()}).use(DN1({origin:["*"],methods:["GET","POST","OPTIONS"],allowedHeaders:["Content-Type"]})).use(jg5).use(vx1(Cg5())).ws("/graphql",{message(J,Z){try{let X=JSON.parse(Z.toString());if(e1("WebSocket GraphQL message received",{type:X.type,id:X.id,operation:X.payload?.operationName||"unknown"}),X.type==="connection_init")J.send(JSON.stringify({type:"connection_ack"}));else if(X.type==="start")e1("GraphQL subscription started",{id:X.id});else if(X.type==="stop")e1("GraphQL subscription stopped",{id:X.id})}catch(X){U9("WebSocket message handling error",X),J.send(JSON.stringify({type:"error",payload:{message:"Invalid message format"}}))}},open(J){e1("WebSocket connection opened"),Zn.add(1)},close(J,Z,X){e1("WebSocket connection closed",{code:Z,reason:X}),Zn.add(-1)},error(J,Z){U9("WebSocket error",Z)}}).options("*",({set:J,request:Z})=>{return e1("Handling OPTIONS request"),e1("Origin:",Z.headers.get("origin")),e1("Access-Control-Request-Method:",Z.headers.get("access-control-request-method")),e1("Access-Control-Request-Headers:",Z.headers.get("access-control-request-headers")),J.headers["Access-Control-Allow-Origin"]="*",J.headers["Access-Control-Allow-Methods"]="GET, POST, OPTIONS",J.headers["Access-Control-Allow-Headers"]="Content-Type",J.headers["Access-Control-Max-Age"]="86400",new Response(null,{status:204})}).onRequest(async(J)=>{if(J.set.headers["Access-Control-Allow-Origin"]="*",wg5.add(1,{method:J.request.method,path:new URL(J.request.url).pathname}),Zn.add(1),e1("Incoming request"),e1("Method:",J.request.method),e1("Origin:",J.request.headers.get("origin")),e1("Access-Control-Request-Method:",J.request.headers.get("access-control-request-method")),e1("Access-Control-Request-Headers:",J.request.headers.get("access-control-request-headers")),Lg5(J.request))return J.set.status=429,{error:"Too Many Requests"};return rY.trace.getTracer("elysia-app").startActiveSpan(xg5(J),async(X)=>{try{let Y=px1();J.set.headers["X-Request-ID"]=Y;let $=Rg5(J.request),z=["default-src 'self'",`script-src 'self' 'unsafe-inline' ${oo6?"'unsafe-eval'":""} https: http:`,"style-src 'self' 'unsafe-inline' https: http:","img-src 'self' data: https: http:","font-src 'self' https: http:","object-src 'none'","base-uri 'self'","form-action 'self'","frame-ancestors 'none'","connect-src 'self' https: http:"];if(oo6)z[1]+=" 'unsafe-eval'";J.set.headers["Content-Security-Policy"]=z.join("; "),J.set.headers["X-XSS-Protection"]="1; mode=block",J.set.headers["X-Frame-Options"]="SAMEORIGIN",J.set.headers["X-Content-Type-Options"]="nosniff",J.set.headers["Referrer-Policy"]="strict-origin-when-cross-origin";let W=Date.now();J.store={startTime:W};let Q=J.request.method,K=new URL(J.request.url).pathname;e81(Q,K);let q=rY.context.active(),H=rY.trace.getSpan(q);if(H)H.setAttributes({"http.request_id":Y,"http.method":J.request.method,"http.url":J.request.url});if(e1("Incoming request",{requestId:Y,method:Q,url:J.request.url,userAgent:J.request.headers.get("user-agent"),forwardedFor:J.request.headers.get("x-forwarded-for"),clientIp:$}),J.request.url.includes("/graphql")){let U=await J.request.clone().text();if(U){let D=JSON.parse(U);if(D&&typeof D==="object"){if(D.operationName)H?.updateName(`GraphQL: ${D.operationName}`),H?.setAttribute("graphql.operation_name",D.operationName);if(D.query)H?.setAttribute("graphql.query",D.query);if(D.variables)H?.setAttribute("graphql.variables",JSON.stringify(D.variables))}}}}catch(Y){throw U9("Error in onRequest handler",Y),X.recordException(Y),X.setStatus({code:rY.SpanStatusCode.ERROR}),Y}finally{X?.end()}})}).onAfterHandle((J)=>{let Z=Date.now(),{startTime:X}=J.store,Y=Z-X;J51(Y),Ag5.record(Y,{method:J.request.method,status_code:J.set.status?.toString()||"200"}),Zn.add(-1),e1("Outgoing response",{requestId:J.set.headers["X-Request-ID"],method:J.request.method,url:J.request.url,status:J.set.status,duration:`${Y}ms`})}),Sg5=Eg5.listen(HE),YV1=D6.application.BASE_URL||"http://localhost",Tg5=`${YV1}:${HE}/graphql`,fg5=`${YV1}:${HE}/health`,kg5=`${YV1}:${HE}/health/telemetry`,bg5=D6.telemetry.TRACES_ENDPOINT,hg5=D6.telemetry.METRICS_ENDPOINT,_g5=D6.telemetry.LOGS_ENDPOINT,yg5=D6.telemetry.ENABLE_OPENTELEMETRY;console.log(`
\uD83D\uDE80 CapellaQL Server started successfully!

\uD83D\uDCCD Server Information:
   \u2022 Port: ${HE}
   \u2022 Environment: ${D6.telemetry.DEPLOYMENT_ENVIRONMENT}
   \u2022 GraphQL Playground: ${Tg5}
   \u2022 Health Check: ${fg5}
   \u2022 Telemetry Health: ${kg5}

\uD83D\uDCCA OpenTelemetry Configuration:
   \u2022 Status: ${yg5?"\u2705 Enabled":"\u274C Disabled"}
   \u2022 Traces Endpoint: ${bg5}
   \u2022 Metrics Endpoint: ${hg5}
   \u2022 Logs Endpoint: ${_g5}
   \u2022 Sampling Rate: ${D6.telemetry.SAMPLING_RATE} (${(D6.telemetry.SAMPLING_RATE*100).toFixed(0)}%)

\uD83C\uDFAF Ready to accept requests!
`);var vg5=async(J)=>{e1(`Received ${J}. Starting graceful shutdown...`);try{await Sg5.stop(),e1("Server closed successfully"),e1("Graceful shutdown completed"),process.exit(0)}catch(Z){U9("Error during graceful shutdown",Z),process.exit(1)}};["SIGINT","SIGTERM","SIGQUIT"].forEach((J)=>{process.on(J,()=>vg5(J))});function xg5(J){let Z=J.request.method,Y=new URL(J.request.url).pathname;if(Y==="/health")return`${Z} /health`;else if(Y==="/graphql")return"GraphQL Request";else return`${Z} ${Y}`}

//# debugId=508B230EEF3D700264756E2164756E21
//# sourceMappingURL=index.js.map
