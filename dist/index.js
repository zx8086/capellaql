// @bun
var Ld0=Object.create;var{getPrototypeOf:Md0,defineProperty:Rf,getOwnPropertyNames:Ed0}=Object;var Td0=Object.prototype.hasOwnProperty;var q1=(Y,J,X)=>{X=Y!=null?Ld0(Md0(Y)):{};let Z=J||!Y||!Y.__esModule?Rf(X,"default",{value:Y,enumerable:!0}):X;for(let W of Ed0(Y))if(!Td0.call(Z,W))Rf(Z,W,{get:()=>Y[W],enumerable:!0});return Z};var q=(Y,J)=>()=>(J||Y((J={exports:{}}).exports,J),J.exports);var h6=(Y,J)=>{for(var X in J)Rf(Y,X,{get:J[X],enumerable:!0,configurable:!0,set:(Z)=>J[X]=()=>Z})};var w=(Y,J)=>()=>(Y&&(J=Y(Y=0)),J);var C=import.meta.require;import PL from"crypto";function Nd0(Y){let J=Math.floor(Y()*LL)%LL;return KX1.charAt(J)}function Sd0(Y){let J=Cd0(),X=J&&(J.crypto||J.msCrypto)||(typeof PL<"u"?PL:null);if(typeof X?.getRandomValues==="function")return()=>{let Z=new Uint8Array(1);return X.getRandomValues(Z),Z[0]/256};else if(typeof X?.randomBytes==="function")return()=>X.randomBytes(1).readUInt8()/256;else if(PL?.randomBytes)return()=>PL.randomBytes(1).readUInt8()/256;throw new xz(RG.PRNGDetectFailure,"Failed to find a reliable PRNG")}function Cd0(){if(_d0())return self;if(typeof window<"u")return window;if(typeof global<"u")return global;if(typeof globalThis<"u")return globalThis;return null}function jd0(Y,J){let X="";for(;Y>0;Y--)X=Nd0(J)+X;return X}function kd0(Y,J=BX1){if(isNaN(Y))throw new xz(RG.EncodeTimeValueMalformed,`Time must be a number: ${Y}`);else if(Y>OX1)throw new xz(RG.EncodeTimeSizeExceeded,`Cannot encode a time larger than ${OX1}: ${Y}`);else if(Y<0)throw new xz(RG.EncodeTimeNegative,`Time must be positive: ${Y}`);else if(Number.isInteger(Y)===!1)throw new xz(RG.EncodeTimeValueMalformed,`Time must be an integer: ${Y}`);let X,Z="";for(let W=J;W>0;W--)X=Y%LL,Z=KX1.charAt(X)+Z,Y=(Y-X)/LL;return Z}function _d0(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function ML(Y,J){let X=J||Sd0(),Z=!Y||isNaN(Y)?Date.now():Y;return kd0(Z,BX1)+jd0(Rd0,X)}var KX1="0123456789ABCDEFGHJKMNPQRSTVWXYZ",LL=32,Rd0=16,BX1=10,OX1=281474976710655,RG,xz;var Nf=w(()=>{(function(Y){Y.Base32IncorrectEncoding="B32_ENC_INVALID",Y.DecodeTimeInvalidCharacter="DEC_TIME_CHAR",Y.DecodeTimeValueMalformed="DEC_TIME_MALFORMED",Y.EncodeTimeNegative="ENC_TIME_NEG",Y.EncodeTimeSizeExceeded="ENC_TIME_SIZE_EXCEED",Y.EncodeTimeValueMalformed="ENC_TIME_MALFORMED",Y.PRNGDetectFailure="PRNG_DETECT",Y.ULIDInvalid="ULID_INVALID",Y.Unexpected="UNEXPECTED",Y.UUIDInvalid="UUID_INVALID"})(RG||(RG={}));xz=class xz extends Error{constructor(Y,J){super(`${J} (${Y})`);this.name="ULIDError",this.code=Y}}});var Tq;var Sf=w(()=>{Tq={application:{LOG_LEVEL:"info",YOGA_RESPONSE_CACHE_TTL:900000,PORT:4000,ALLOWED_ORIGINS:["http://localhost:3000"],BASE_URL:"http://localhost"},capella:{COUCHBASE_URL:"couchbase://localhost",COUCHBASE_USERNAME:"Administrator",COUCHBASE_PASSWORD:"password",COUCHBASE_BUCKET:"default",COUCHBASE_SCOPE:"_default",COUCHBASE_COLLECTION:"_default",COUCHBASE_KV_TIMEOUT:5000,COUCHBASE_KV_DURABLE_TIMEOUT:1e4,COUCHBASE_QUERY_TIMEOUT:15000,COUCHBASE_ANALYTICS_TIMEOUT:30000,COUCHBASE_SEARCH_TIMEOUT:15000,COUCHBASE_CONNECT_TIMEOUT:1e4,COUCHBASE_BOOTSTRAP_TIMEOUT:15000},runtime:{NODE_ENV:"development",CN_ROOT:"/usr/src/app",CN_CXXCBC_CACHE_DIR:void 0,SOURCE_MAP_SUPPORT:!0,PRESERVE_SOURCE_MAPS:!0,BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS:120},deployment:{BASE_URL:"http://localhost",HOSTNAME:"localhost",INSTANCE_ID:"unknown",CONTAINER_ID:void 0,K8S_POD_NAME:void 0,K8S_NAMESPACE:void 0},telemetry:{ENABLE_OPENTELEMETRY:!0,SERVICE_NAME:"capellaql-service",SERVICE_VERSION:"2.0",DEPLOYMENT_ENVIRONMENT:"development",TRACES_ENDPOINT:"http://localhost:4318/v1/traces",METRICS_ENDPOINT:"http://localhost:4318/v1/metrics",LOGS_ENDPOINT:"http://localhost:4318/v1/logs",METRIC_READER_INTERVAL:60000,SUMMARY_LOG_INTERVAL:300000,EXPORT_TIMEOUT_MS:30000,BATCH_SIZE:2048,MAX_QUEUE_SIZE:1e4,CIRCUIT_BREAKER_THRESHOLD:5,CIRCUIT_BREAKER_TIMEOUT_MS:60000,LOG_RETENTION_DEBUG_DAYS:1,LOG_RETENTION_INFO_DAYS:7,LOG_RETENTION_WARN_DAYS:30,LOG_RETENTION_ERROR_DAYS:90}}});function Nq(Y){let[J,X]=Y.split(".");if(!J||!X)return;let Z=Rq[J];if(!Z)return;let W=Z[X];if(!W)return;return W.envVar}var Rq,qX1;var Cf=w(()=>{Rq={application:{LOG_LEVEL:{envVar:"LOG_LEVEL",type:"string"},YOGA_RESPONSE_CACHE_TTL:{envVar:"YOGA_RESPONSE_CACHE_TTL",type:"number"},PORT:{envVar:"PORT",type:"number"},ALLOWED_ORIGINS:{envVar:"ALLOWED_ORIGINS",type:"array"},BASE_URL:{envVar:"BASE_URL",type:"string"}},capella:{COUCHBASE_URL:{envVar:"COUCHBASE_URL",type:"string"},COUCHBASE_USERNAME:{envVar:"COUCHBASE_USERNAME",type:"string"},COUCHBASE_PASSWORD:{envVar:"COUCHBASE_PASSWORD",type:"string"},COUCHBASE_BUCKET:{envVar:"COUCHBASE_BUCKET",type:"string"},COUCHBASE_SCOPE:{envVar:"COUCHBASE_SCOPE",type:"string"},COUCHBASE_COLLECTION:{envVar:"COUCHBASE_COLLECTION",type:"string"},COUCHBASE_KV_TIMEOUT:{envVar:"COUCHBASE_KV_TIMEOUT",type:"number"},COUCHBASE_KV_DURABLE_TIMEOUT:{envVar:"COUCHBASE_KV_DURABLE_TIMEOUT",type:"number"},COUCHBASE_QUERY_TIMEOUT:{envVar:"COUCHBASE_QUERY_TIMEOUT",type:"number"},COUCHBASE_ANALYTICS_TIMEOUT:{envVar:"COUCHBASE_ANALYTICS_TIMEOUT",type:"number"},COUCHBASE_SEARCH_TIMEOUT:{envVar:"COUCHBASE_SEARCH_TIMEOUT",type:"number"},COUCHBASE_CONNECT_TIMEOUT:{envVar:"COUCHBASE_CONNECT_TIMEOUT",type:"number"},COUCHBASE_BOOTSTRAP_TIMEOUT:{envVar:"COUCHBASE_BOOTSTRAP_TIMEOUT",type:"number"}},runtime:{NODE_ENV:{envVar:"NODE_ENV",type:"string"},CN_ROOT:{envVar:"CN_ROOT",type:"string"},CN_CXXCBC_CACHE_DIR:{envVar:"CN_CXXCBC_CACHE_DIR",type:"string"},SOURCE_MAP_SUPPORT:{envVar:"SOURCE_MAP_SUPPORT",type:"boolean"},PRESERVE_SOURCE_MAPS:{envVar:"PRESERVE_SOURCE_MAPS",type:"boolean"},BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS:{envVar:"BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS",type:"number"}},deployment:{BASE_URL:{envVar:"BASE_URL",type:"string"},HOSTNAME:{envVar:"HOSTNAME",type:"string"},INSTANCE_ID:{envVar:"INSTANCE_ID",type:"string"},CONTAINER_ID:{envVar:"CONTAINER_ID",type:"string"},K8S_POD_NAME:{envVar:"K8S_POD_NAME",type:"string"},K8S_NAMESPACE:{envVar:"K8S_NAMESPACE",type:"string"}},telemetry:{ENABLE_OPENTELEMETRY:{envVar:"ENABLE_OPENTELEMETRY",type:"boolean"},SERVICE_NAME:{envVar:"OTEL_SERVICE_NAME",type:"string"},SERVICE_VERSION:{envVar:"OTEL_SERVICE_VERSION",type:"string"},DEPLOYMENT_ENVIRONMENT:{envVar:"DEPLOYMENT_ENVIRONMENT",type:"string"},OTLP_ENDPOINT:{envVar:"OTEL_EXPORTER_OTLP_ENDPOINT",type:"string"},TRACES_ENDPOINT:{envVar:"OTEL_EXPORTER_OTLP_TRACES_ENDPOINT",type:"string"},METRICS_ENDPOINT:{envVar:"OTEL_EXPORTER_OTLP_METRICS_ENDPOINT",type:"string"},LOGS_ENDPOINT:{envVar:"OTEL_EXPORTER_OTLP_LOGS_ENDPOINT",type:"string"},METRIC_READER_INTERVAL:{envVar:"METRIC_READER_INTERVAL",type:"number"},SUMMARY_LOG_INTERVAL:{envVar:"SUMMARY_LOG_INTERVAL",type:"number"},EXPORT_TIMEOUT_MS:{envVar:"EXPORT_TIMEOUT_MS",type:"number"},BATCH_SIZE:{envVar:"BATCH_SIZE",type:"number"},MAX_QUEUE_SIZE:{envVar:"MAX_QUEUE_SIZE",type:"number"},CIRCUIT_BREAKER_THRESHOLD:{envVar:"CIRCUIT_BREAKER_THRESHOLD",type:"number"},CIRCUIT_BREAKER_TIMEOUT_MS:{envVar:"CIRCUIT_BREAKER_TIMEOUT_MS",type:"number"},LOG_RETENTION_DEBUG_DAYS:{envVar:"LOG_RETENTION_DEBUG_DAYS",type:"number"},LOG_RETENTION_INFO_DAYS:{envVar:"LOG_RETENTION_INFO_DAYS",type:"number"},LOG_RETENTION_WARN_DAYS:{envVar:"LOG_RETENTION_WARN_DAYS",type:"number"},LOG_RETENTION_ERROR_DAYS:{envVar:"LOG_RETENTION_ERROR_DAYS",type:"number"}}};qX1=Nq});function EL(Y){if(Y===void 0||Y==="")return;if(typeof Y==="boolean")return Y;let J=Y.toLowerCase().trim();if(FX1.has(J))return!0;if(VX1.has(J))return!1;throw Error(`Cannot convert "${Y}" to boolean. Expected one of: ${[...FX1,...VX1].join(", ")}`)}function TL(Y,J,X){if(J&&J.trim()!=="")return J;if(!Y)return;let Z=Y.replace(/\/$/,""),W=X.startsWith("/")?X:`/${X}`;return`${Z}${W}`}function jf(Y){return JSON.parse(JSON.stringify(Y,(J,X)=>{let Z=["password","secret","token","key","apikey","auth","credential","cert","private","pass","pwd","hash"];if(Z.some((W)=>J.toLowerCase().includes(W))){if(X&&typeof X==="string"&&X.length>0)return"[REDACTED]";return X}if(typeof X==="string"&&(X.startsWith("http")||X.startsWith("couchbase")))try{let W=new URL(X);if(W.username||W.password)W.username=W.username?"REDACTED":"",W.password=W.password?"REDACTED":"";for(let[$]of W.searchParams)if(Z.some((G)=>$.toLowerCase().includes(G)))W.searchParams.set($,"REDACTED");return W.toString()}catch{return X}return X}))}function IX1(Y){return{...jf(Y),_meta:{pattern:"4-pillar-v2",loadedAt:new Date().toISOString(),environment:Y.runtime.NODE_ENV,deploymentEnvironment:Y.telemetry.DEPLOYMENT_ENVIRONMENT}}}function DX1(Y){let J=[],X=Y.runtime.NODE_ENV==="production"||Y.telemetry.DEPLOYMENT_ENVIRONMENT==="production";if(Number.isNaN(Y.application.YOGA_RESPONSE_CACHE_TTL))J.push("Cache TTL cannot be NaN - this would cause runtime errors");if(Number.isNaN(Y.telemetry.METRIC_READER_INTERVAL))J.push("METRIC_READER_INTERVAL is NaN - this will cause infinite loops");if(Number.isNaN(Y.telemetry.SUMMARY_LOG_INTERVAL))J.push("SUMMARY_LOG_INTERVAL is NaN - this will cause infinite loops");if(Y.runtime.NODE_ENV!==Y.telemetry.DEPLOYMENT_ENVIRONMENT)J.push(`Environment mismatch: NODE_ENV=${Y.runtime.NODE_ENV} but DEPLOYMENT_ENVIRONMENT=${Y.telemetry.DEPLOYMENT_ENVIRONMENT}`);if(X){if(Y.capella.COUCHBASE_PASSWORD==="password")J.push("CRITICAL SECURITY: Default password not allowed in production");if(Y.capella.COUCHBASE_USERNAME==="Administrator")J.push("WARNING: Using default Administrator username in production is not recommended");if(Y.application.ALLOWED_ORIGINS.some((Z)=>Z==="*"||Z.includes("localhost")))J.push("Production CORS origins should not include localhost or wildcards");if(Y.telemetry.EXPORT_TIMEOUT_MS>30000)J.push("EXPORT_TIMEOUT_MS exceeds 30 seconds - this violates 2025 OpenTelemetry standards")}return J}function kf(Y){let J=[],X=[],Z=Y.runtime.NODE_ENV==="production"||Y.telemetry.DEPLOYMENT_ENVIRONMENT==="production";if(Number.isNaN(Y.application.YOGA_RESPONSE_CACHE_TTL))J.push("YOGA_RESPONSE_CACHE_TTL is NaN - will cause runtime errors");if(Y.application.YOGA_RESPONSE_CACHE_TTL<=0||Y.application.YOGA_RESPONSE_CACHE_TTL>3600000)J.push(`YOGA_RESPONSE_CACHE_TTL value is unreasonable: ${Y.application.YOGA_RESPONSE_CACHE_TTL}ms`);if(Z){if(Y.capella.COUCHBASE_PASSWORD==="password")J.push("CRITICAL: Using default password in production - security risk");if(Y.application.ALLOWED_ORIGINS.some((W)=>W.includes("localhost")))J.push("Production CORS origins should not include localhost");if(Y.capella.COUCHBASE_USERNAME==="Administrator")X.push("Using default Administrator username in production is not recommended")}if(Number.isNaN(Y.runtime.BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS))J.push("BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS is NaN - will cause DNS caching issues");if(Y.runtime.BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS>3600)X.push("DNS TTL exceeds 1 hour - may cause stale DNS resolution");if(Number.isNaN(Y.telemetry.METRIC_READER_INTERVAL))J.push("METRIC_READER_INTERVAL is NaN - will cause infinite loops");if(Number.isNaN(Y.telemetry.SUMMARY_LOG_INTERVAL))J.push("SUMMARY_LOG_INTERVAL is NaN - will cause infinite loops");if(Number.isNaN(Y.telemetry.EXPORT_TIMEOUT_MS))J.push("EXPORT_TIMEOUT_MS is NaN - will cause telemetry failures");if(Z&&Y.telemetry.BATCH_SIZE<512)X.push("Small batch size may impact telemetry efficiency in production");return{healthy:J.length===0,issues:J,warnings:X}}function wX1(Y){let J=kf(Y),X=Y.runtime.NODE_ENV==="production"||Y.telemetry.DEPLOYMENT_ENVIRONMENT==="production",Z=`
=== CONFIGURATION HEALTH REPORT ===
`;if(Z+=J.healthy?`Overall Status: HEALTHY
`:`Overall Status: UNHEALTHY
`,Z+=`Environment: ${X?"PRODUCTION":"DEVELOPMENT"}
`,Z+=`Total Issues: ${J.issues.length}
`,Z+=`Total Warnings: ${J.warnings.length}

`,J.issues.length>0)Z+=`=== CRITICAL ISSUES ===
`,J.issues.forEach((W,$)=>{Z+=`${$+1}. ${W}
`}),Z+=`
`;if(J.warnings.length>0)Z+=`=== WARNINGS ===
`,J.warnings.forEach((W,$)=>{Z+=`${$+1}. ${W}
`}),Z+=`
`;if(J.healthy&&J.warnings.length===0)Z+=`All configuration checks passed!
`;return Z+=`=== END HEALTH REPORT ===

`,Z}var FX1,VX1;var _f=w(()=>{FX1=new Set(["true","1","yes","on","enabled","enable"]),VX1=new Set(["false","0","no","off","disabled","disable"])});function s(Y,J,X){function Z(Q,U){if(!Q._zod)Object.defineProperty(Q,"_zod",{value:{def:U,constr:G,traits:new Set},enumerable:!1});if(Q._zod.traits.has(Y))return;Q._zod.traits.add(Y),J(Q,U);let z=G.prototype,H=Object.keys(z);for(let O=0;O<H.length;O++){let K=H[O];if(!(K in Q))Q[K]=z[K].bind(Q)}}let W=X?.Parent??Object;class $ extends W{}Object.defineProperty($,"name",{value:Y});function G(Q){var U;let z=X?.Parent?new $:this;Z(z,Q),(U=z._zod).deferred??(U.deferred=[]);for(let H of z._zod.deferred)H();return z}return Object.defineProperty(G,"init",{value:Z}),Object.defineProperty(G,Symbol.hasInstance,{value:(Q)=>{if(X?.Parent&&Q instanceof X.Parent)return!0;return Q?._zod?.traits?.has(Y)}}),Object.defineProperty(G,"name",{value:Y}),G}function b6(Y){if(Y)Object.assign(Sq,Y);return Sq}var xf,ff,JX,NG,Sq;var fz=w(()=>{xf=Object.freeze({status:"aborted"});ff=Symbol("zod_brand");JX=class JX extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}};NG=class NG extends Error{constructor(Y){super(`Encountered unidirectional transform during encode: ${Y}`);this.name="ZodEncodeError"}};Sq={}});var w1={};h6(w1,{unwrapMessage:()=>Cq,uint8ArrayToHex:()=>Zc0,uint8ArrayToBase64url:()=>Jc0,uint8ArrayToBase64:()=>LX1,stringifyPrimitive:()=>I1,slugify:()=>bf,shallowClone:()=>gf,safeExtend:()=>rd0,required:()=>td0,randomString:()=>dd0,propertyKeyTypes:()=>_q,promiseAllObject:()=>md0,primitiveTypes:()=>uf,prefixIssues:()=>X7,pick:()=>nd0,partial:()=>sd0,parsedType:()=>D1,optionalKeys:()=>mf,omit:()=>id0,objectClone:()=>yd0,numKeys:()=>cd0,nullish:()=>YW,normalizeParams:()=>M1,mergeDefs:()=>f3,merge:()=>ad0,jsonStringifyReplacer:()=>vz,joinValues:()=>W1,issue:()=>bz,isPlainObject:()=>XW,isObject:()=>SG,hexToUint8Array:()=>Xc0,getSizableOrigin:()=>xq,getParsedType:()=>ld0,getLengthableOrigin:()=>fq,getEnumValues:()=>jq,getElementAtPath:()=>ud0,floatSafeRemainder:()=>hf,finalizeIssue:()=>N9,extend:()=>od0,escapeRegex:()=>v7,esc:()=>RL,defineLazy:()=>N0,createTransparentProxy:()=>pd0,cloneDef:()=>gd0,clone:()=>e5,cleanRegex:()=>kq,cleanEnum:()=>ed0,captureStackTrace:()=>NL,cached:()=>hz,base64urlToUint8Array:()=>Yc0,base64ToUint8Array:()=>PX1,assignProp:()=>JW,assertNotEqual:()=>fd0,assertNever:()=>hd0,assertIs:()=>vd0,assertEqual:()=>xd0,assert:()=>bd0,allowsEval:()=>yf,aborted:()=>ZW,NUMBER_FORMAT_RANGES:()=>df,Class:()=>MX1,BIGINT_FORMAT_RANGES:()=>cf});function xd0(Y){return Y}function fd0(Y){return Y}function vd0(Y){}function hd0(Y){throw Error("Unexpected value in exhaustive check")}function bd0(Y){}function jq(Y){let J=Object.values(Y).filter((Z)=>typeof Z==="number");return Object.entries(Y).filter(([Z,W])=>J.indexOf(+Z)===-1).map(([Z,W])=>W)}function W1(Y,J="|"){return Y.map((X)=>I1(X)).join(J)}function vz(Y,J){if(typeof J==="bigint")return J.toString();return J}function hz(Y){return{get value(){{let X=Y();return Object.defineProperty(this,"value",{value:X}),X}throw Error("cached value already set")}}}function YW(Y){return Y===null||Y===void 0}function kq(Y){let J=Y.startsWith("^")?1:0,X=Y.endsWith("$")?Y.length-1:Y.length;return Y.slice(J,X)}function hf(Y,J){let X=(Y.toString().split(".")[1]||"").length,Z=J.toString(),W=(Z.split(".")[1]||"").length;if(W===0&&/\d?e-\d?/.test(Z)){let U=Z.match(/\d?e-(\d?)/);if(U?.[1])W=Number.parseInt(U[1])}let $=X>W?X:W,G=Number.parseInt(Y.toFixed($).replace(".","")),Q=Number.parseInt(J.toFixed($).replace(".",""));return G%Q/10**$}function N0(Y,J,X){let Z=void 0;Object.defineProperty(Y,J,{get(){if(Z===AX1)return;if(Z===void 0)Z=AX1,Z=X();return Z},set(W){Object.defineProperty(Y,J,{value:W})},configurable:!0})}function yd0(Y){return Object.create(Object.getPrototypeOf(Y),Object.getOwnPropertyDescriptors(Y))}function JW(Y,J,X){Object.defineProperty(Y,J,{value:X,writable:!0,enumerable:!0,configurable:!0})}function f3(...Y){let J={};for(let X of Y){let Z=Object.getOwnPropertyDescriptors(X);Object.assign(J,Z)}return Object.defineProperties({},J)}function gd0(Y){return f3(Y._zod.def)}function ud0(Y,J){if(!J)return Y;return J.reduce((X,Z)=>X?.[Z],Y)}function md0(Y){let J=Object.keys(Y),X=J.map((Z)=>Y[Z]);return Promise.all(X).then((Z)=>{let W={};for(let $=0;$<J.length;$++)W[J[$]]=Z[$];return W})}function dd0(Y=10){let X="";for(let Z=0;Z<Y;Z++)X+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return X}function RL(Y){return JSON.stringify(Y)}function bf(Y){return Y.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}function SG(Y){return typeof Y==="object"&&Y!==null&&!Array.isArray(Y)}function XW(Y){if(SG(Y)===!1)return!1;let J=Y.constructor;if(J===void 0)return!0;if(typeof J!=="function")return!0;let X=J.prototype;if(SG(X)===!1)return!1;if(Object.prototype.hasOwnProperty.call(X,"isPrototypeOf")===!1)return!1;return!0}function gf(Y){if(XW(Y))return{...Y};if(Array.isArray(Y))return[...Y];return Y}function cd0(Y){let J=0;for(let X in Y)if(Object.prototype.hasOwnProperty.call(Y,X))J++;return J}function v7(Y){return Y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function e5(Y,J,X){let Z=new Y._zod.constr(J??Y._zod.def);if(!J||X?.parent)Z._zod.parent=Y;return Z}function M1(Y){let J=Y;if(!J)return{};if(typeof J==="string")return{error:()=>J};if(J?.message!==void 0){if(J?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");J.error=J.message}if(delete J.message,typeof J.error==="string")return{...J,error:()=>J.error};return J}function pd0(Y){let J;return new Proxy({},{get(X,Z,W){return J??(J=Y()),Reflect.get(J,Z,W)},set(X,Z,W,$){return J??(J=Y()),Reflect.set(J,Z,W,$)},has(X,Z){return J??(J=Y()),Reflect.has(J,Z)},deleteProperty(X,Z){return J??(J=Y()),Reflect.deleteProperty(J,Z)},ownKeys(X){return J??(J=Y()),Reflect.ownKeys(J)},getOwnPropertyDescriptor(X,Z){return J??(J=Y()),Reflect.getOwnPropertyDescriptor(J,Z)},defineProperty(X,Z,W){return J??(J=Y()),Reflect.defineProperty(J,Z,W)}})}function I1(Y){if(typeof Y==="bigint")return Y.toString()+"n";if(typeof Y==="string")return`"${Y}"`;return`${Y}`}function mf(Y){return Object.keys(Y).filter((J)=>{return Y[J]._zod.optin==="optional"&&Y[J]._zod.optout==="optional"})}function nd0(Y,J){let X=Y._zod.def,Z=X.checks;if(Z&&Z.length>0)throw Error(".pick() cannot be used on object schemas containing refinements");let $=f3(Y._zod.def,{get shape(){let G={};for(let Q in J){if(!(Q in X.shape))throw Error(`Unrecognized key: "${Q}"`);if(!J[Q])continue;G[Q]=X.shape[Q]}return JW(this,"shape",G),G},checks:[]});return e5(Y,$)}function id0(Y,J){let X=Y._zod.def,Z=X.checks;if(Z&&Z.length>0)throw Error(".omit() cannot be used on object schemas containing refinements");let $=f3(Y._zod.def,{get shape(){let G={...Y._zod.def.shape};for(let Q in J){if(!(Q in X.shape))throw Error(`Unrecognized key: "${Q}"`);if(!J[Q])continue;delete G[Q]}return JW(this,"shape",G),G},checks:[]});return e5(Y,$)}function od0(Y,J){if(!XW(J))throw Error("Invalid input to extend: expected a plain object");let X=Y._zod.def.checks;if(X&&X.length>0){let $=Y._zod.def.shape;for(let G in J)if(Object.getOwnPropertyDescriptor($,G)!==void 0)throw Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}let W=f3(Y._zod.def,{get shape(){let $={...Y._zod.def.shape,...J};return JW(this,"shape",$),$}});return e5(Y,W)}function rd0(Y,J){if(!XW(J))throw Error("Invalid input to safeExtend: expected a plain object");let X=f3(Y._zod.def,{get shape(){let Z={...Y._zod.def.shape,...J};return JW(this,"shape",Z),Z}});return e5(Y,X)}function ad0(Y,J){let X=f3(Y._zod.def,{get shape(){let Z={...Y._zod.def.shape,...J._zod.def.shape};return JW(this,"shape",Z),Z},get catchall(){return J._zod.def.catchall},checks:[]});return e5(Y,X)}function sd0(Y,J,X){let W=J._zod.def.checks;if(W&&W.length>0)throw Error(".partial() cannot be used on object schemas containing refinements");let G=f3(J._zod.def,{get shape(){let Q=J._zod.def.shape,U={...Q};if(X)for(let z in X){if(!(z in Q))throw Error(`Unrecognized key: "${z}"`);if(!X[z])continue;U[z]=Y?new Y({type:"optional",innerType:Q[z]}):Q[z]}else for(let z in Q)U[z]=Y?new Y({type:"optional",innerType:Q[z]}):Q[z];return JW(this,"shape",U),U},checks:[]});return e5(J,G)}function td0(Y,J,X){let Z=f3(J._zod.def,{get shape(){let W=J._zod.def.shape,$={...W};if(X)for(let G in X){if(!(G in $))throw Error(`Unrecognized key: "${G}"`);if(!X[G])continue;$[G]=new Y({type:"nonoptional",innerType:W[G]})}else for(let G in W)$[G]=new Y({type:"nonoptional",innerType:W[G]});return JW(this,"shape",$),$}});return e5(J,Z)}function ZW(Y,J=0){if(Y.aborted===!0)return!0;for(let X=J;X<Y.issues.length;X++)if(Y.issues[X]?.continue!==!0)return!0;return!1}function X7(Y,J){return J.map((X)=>{var Z;return(Z=X).path??(Z.path=[]),X.path.unshift(Y),X})}function Cq(Y){return typeof Y==="string"?Y:Y?.message}function N9(Y,J,X){let Z={...Y,path:Y.path??[]};if(!Y.message){let W=Cq(Y.inst?._zod.def?.error?.(Y))??Cq(J?.error?.(Y))??Cq(X.customError?.(Y))??Cq(X.localeError?.(Y))??"Invalid input";Z.message=W}if(delete Z.inst,delete Z.continue,!J?.reportInput)delete Z.input;return Z}function xq(Y){if(Y instanceof Set)return"set";if(Y instanceof Map)return"map";if(Y instanceof File)return"file";return"unknown"}function fq(Y){if(Array.isArray(Y))return"array";if(typeof Y==="string")return"string";return"unknown"}function D1(Y){let J=typeof Y;switch(J){case"number":return Number.isNaN(Y)?"nan":"number";case"object":{if(Y===null)return"null";if(Array.isArray(Y))return"array";let X=Y;if(X&&Object.getPrototypeOf(X)!==Object.prototype&&"constructor"in X&&X.constructor)return X.constructor.name}}return J}function bz(...Y){let[J,X,Z]=Y;if(typeof J==="string")return{message:J,code:"custom",input:X,inst:Z};return{...J}}function ed0(Y){return Object.entries(Y).filter(([J,X])=>{return Number.isNaN(Number.parseInt(J,10))}).map((J)=>J[1])}function PX1(Y){let J=atob(Y),X=new Uint8Array(J.length);for(let Z=0;Z<J.length;Z++)X[Z]=J.charCodeAt(Z);return X}function LX1(Y){let J="";for(let X=0;X<Y.length;X++)J+=String.fromCharCode(Y[X]);return btoa(J)}function Yc0(Y){let J=Y.replace(/-/g,"+").replace(/_/g,"/"),X="=".repeat((4-J.length%4)%4);return PX1(J+X)}function Jc0(Y){return LX1(Y).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Xc0(Y){let J=Y.replace(/^0x/,"");if(J.length%2!==0)throw Error("Invalid hex string length");let X=new Uint8Array(J.length/2);for(let Z=0;Z<J.length;Z+=2)X[Z/2]=Number.parseInt(J.slice(Z,Z+2),16);return X}function Zc0(Y){return Array.from(Y).map((J)=>J.toString(16).padStart(2,"0")).join("")}class MX1{constructor(...Y){}}var AX1,NL,yf,ld0=(Y)=>{let J=typeof Y;switch(J){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(Y)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(Y))return"array";if(Y===null)return"null";if(Y.then&&typeof Y.then==="function"&&Y.catch&&typeof Y.catch==="function")return"promise";if(typeof Map<"u"&&Y instanceof Map)return"map";if(typeof Set<"u"&&Y instanceof Set)return"set";if(typeof Date<"u"&&Y instanceof Date)return"date";if(typeof File<"u"&&Y instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${J}`)}},_q,uf,df,cf;var o1=w(()=>{AX1=Symbol("evaluating");NL="captureStackTrace"in Error?Error.captureStackTrace:(...Y)=>{};yf=hz(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(Y){return!1}});_q=new Set(["string","number","symbol"]),uf=new Set(["string","number","bigint","boolean","symbol","undefined"]);df={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-340282346638528860000000000000000000000,340282346638528860000000000000000000000],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},cf={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]}});function hq(Y,J=(X)=>X.message){let X={},Z=[];for(let W of Y.issues)if(W.path.length>0)X[W.path[0]]=X[W.path[0]]||[],X[W.path[0]].push(J(W));else Z.push(J(W));return{formErrors:Z,fieldErrors:X}}function bq(Y,J=(X)=>X.message){let X={_errors:[]},Z=(W)=>{for(let $ of W.issues)if($.code==="invalid_union"&&$.errors.length)$.errors.map((G)=>Z({issues:G}));else if($.code==="invalid_key")Z({issues:$.issues});else if($.code==="invalid_element")Z({issues:$.issues});else if($.path.length===0)X._errors.push(J($));else{let G=X,Q=0;while(Q<$.path.length){let U=$.path[Q];if(Q!==$.path.length-1)G[U]=G[U]||{_errors:[]};else G[U]=G[U]||{_errors:[]},G[U]._errors.push(J($));G=G[U],Q++}}};return Z(Y),X}function lf(Y,J=(X)=>X.message){let X={errors:[]},Z=(W,$=[])=>{var G,Q;for(let U of W.issues)if(U.code==="invalid_union"&&U.errors.length)U.errors.map((z)=>Z({issues:z},U.path));else if(U.code==="invalid_key")Z({issues:U.issues},U.path);else if(U.code==="invalid_element")Z({issues:U.issues},U.path);else{let z=[...$,...U.path];if(z.length===0){X.errors.push(J(U));continue}let H=X,O=0;while(O<z.length){let K=z[O],B=O===z.length-1;if(typeof K==="string")H.properties??(H.properties={}),(G=H.properties)[K]??(G[K]={errors:[]}),H=H.properties[K];else H.items??(H.items=[]),(Q=H.items)[K]??(Q[K]={errors:[]}),H=H.items[K];if(B)H.errors.push(J(U));O++}}};return Z(Y),X}function TX1(Y){let J=[],X=Y.map((Z)=>typeof Z==="object"?Z.key:Z);for(let Z of X)if(typeof Z==="number")J.push(`[${Z}]`);else if(typeof Z==="symbol")J.push(`[${JSON.stringify(String(Z))}]`);else if(/[^\w$]/.test(Z))J.push(`[${JSON.stringify(Z)}]`);else{if(J.length)J.push(".");J.push(Z)}return J.join("")}function pf(Y){let J=[],X=[...Y.issues].sort((Z,W)=>(Z.path??[]).length-(W.path??[]).length);for(let Z of X)if(J.push(`\u2716 ${Z.message}`),Z.path?.length)J.push(`  \u2192 at ${TX1(Z.path)}`);return J.join(`
`)}var EX1=(Y,J)=>{Y.name="$ZodError",Object.defineProperty(Y,"_zod",{value:Y._zod,enumerable:!1}),Object.defineProperty(Y,"issues",{value:J,enumerable:!1}),Y.message=JSON.stringify(J,vz,2),Object.defineProperty(Y,"toString",{value:()=>Y.message,enumerable:!1})},vq,S9;var nf=w(()=>{fz();o1();vq=s("$ZodError",EX1),S9=s("$ZodError",EX1,{Parent:Error})});var yz=(Y)=>(J,X,Z,W)=>{let $=Z?Object.assign(Z,{async:!1}):{async:!1},G=J._zod.run({value:X,issues:[]},$);if(G instanceof Promise)throw new JX;if(G.issues.length){let Q=new(W?.Err??Y)(G.issues.map((U)=>N9(U,$,b6())));throw NL(Q,W?.callee),Q}return G.value},SL,gz=(Y)=>async(J,X,Z,W)=>{let $=Z?Object.assign(Z,{async:!0}):{async:!0},G=J._zod.run({value:X,issues:[]},$);if(G instanceof Promise)G=await G;if(G.issues.length){let Q=new(W?.Err??Y)(G.issues.map((U)=>N9(U,$,b6())));throw NL(Q,W?.callee),Q}return G.value},CL,uz=(Y)=>(J,X,Z)=>{let W=Z?{...Z,async:!1}:{async:!1},$=J._zod.run({value:X,issues:[]},W);if($ instanceof Promise)throw new JX;return $.issues.length?{success:!1,error:new(Y??vq)($.issues.map((G)=>N9(G,W,b6())))}:{success:!0,data:$.value}},of,mz=(Y)=>async(J,X,Z)=>{let W=Z?Object.assign(Z,{async:!0}):{async:!0},$=J._zod.run({value:X,issues:[]},W);if($ instanceof Promise)$=await $;return $.issues.length?{success:!1,error:new Y($.issues.map((G)=>N9(G,W,b6())))}:{success:!0,data:$.value}},rf,jL=(Y)=>(J,X,Z)=>{let W=Z?Object.assign(Z,{direction:"backward"}):{direction:"backward"};return yz(Y)(J,X,W)},$c0,kL=(Y)=>(J,X,Z)=>{return yz(Y)(J,X,Z)},Gc0,_L=(Y)=>async(J,X,Z)=>{let W=Z?Object.assign(Z,{direction:"backward"}):{direction:"backward"};return gz(Y)(J,X,W)},Qc0,xL=(Y)=>async(J,X,Z)=>{return gz(Y)(J,X,Z)},Uc0,fL=(Y)=>(J,X,Z)=>{let W=Z?Object.assign(Z,{direction:"backward"}):{direction:"backward"};return uz(Y)(J,X,W)},zc0,vL=(Y)=>(J,X,Z)=>{return uz(Y)(J,X,Z)},Hc0,hL=(Y)=>async(J,X,Z)=>{let W=Z?Object.assign(Z,{direction:"backward"}):{direction:"backward"};return mz(Y)(J,X,W)},Oc0,bL=(Y)=>async(J,X,Z)=>{return mz(Y)(J,X,Z)},Kc0;var af=w(()=>{fz();nf();o1();SL=yz(S9),CL=gz(S9),of=uz(S9),rf=mz(S9),$c0=jL(S9),Gc0=kL(S9),Qc0=_L(S9),Uc0=xL(S9),zc0=fL(S9),Hc0=vL(S9),Oc0=hL(S9),Kc0=bL(S9)});var h7={};h6(h7,{xid:()=>Yv,uuid7:()=>Vc0,uuid6:()=>Fc0,uuid4:()=>qc0,uuid:()=>CG,uppercase:()=>Ev,unicodeEmail:()=>RX1,undefined:()=>Lv,ulid:()=>ef,time:()=>Fv,string:()=>Iv,sha512_hex:()=>bc0,sha512_base64url:()=>gc0,sha512_base64:()=>yc0,sha384_hex:()=>fc0,sha384_base64url:()=>hc0,sha384_base64:()=>vc0,sha256_hex:()=>kc0,sha256_base64url:()=>xc0,sha256_base64:()=>_c0,sha1_hex:()=>Sc0,sha1_base64url:()=>jc0,sha1_base64:()=>Cc0,rfc5322Email:()=>Dc0,number:()=>yq,null:()=>Pv,nanoid:()=>Xv,md5_hex:()=>Tc0,md5_base64url:()=>Nc0,md5_base64:()=>Rc0,mac:()=>zv,lowercase:()=>Mv,ksuid:()=>Jv,ipv6:()=>Uv,ipv4:()=>Qv,integer:()=>wv,idnEmail:()=>wc0,html5Email:()=>Ic0,hostname:()=>Lc0,hex:()=>Ec0,guid:()=>Wv,extendedDuration:()=>Bc0,emoji:()=>Gv,email:()=>$v,e164:()=>Bv,duration:()=>Zv,domain:()=>Mc0,datetime:()=>Vv,date:()=>qv,cuid2:()=>tf,cuid:()=>sf,cidrv6:()=>Ov,cidrv4:()=>Hv,browserEmail:()=>Ac0,boolean:()=>Av,bigint:()=>Dv,base64url:()=>yL,base64:()=>Kv});function Gv(){return new RegExp(Pc0,"u")}function SX1(Y){return typeof Y.precision==="number"?Y.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":Y.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${Y.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}function Fv(Y){return new RegExp(`^${SX1(Y)}$`)}function Vv(Y){let J=SX1({precision:Y.precision}),X=["Z"];if(Y.local)X.push("");if(Y.offset)X.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let Z=`${J}(?:${X.join("|")})`;return new RegExp(`^${NX1}T(?:${Z})$`)}function gq(Y,J){return new RegExp(`^[A-Za-z0-9+/]{${Y}}${J}$`)}function uq(Y){return new RegExp(`^[A-Za-z0-9_-]{${Y}}$`)}var sf,tf,ef,Yv,Jv,Xv,Zv,Bc0,Wv,CG=(Y)=>{if(!Y)return/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${Y}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`)},qc0,Fc0,Vc0,$v,Ic0,Dc0,RX1,wc0,Ac0,Pc0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Qv,Uv,zv=(Y)=>{let J=v7(Y??":");return new RegExp(`^(?:[0-9A-F]{2}${J}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${J}){5}[0-9a-f]{2}$`)},Hv,Ov,Kv,yL,Lc0,Mc0,Bv,NX1="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",qv,Iv=(Y)=>{let J=Y?`[\\s\\S]{${Y?.minimum??0},${Y?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${J}$`)},Dv,wv,yq,Av,Pv,Lv,Mv,Ev,Ec0,Tc0,Rc0,Nc0,Sc0,Cc0,jc0,kc0,_c0,xc0,fc0,vc0,hc0,bc0,yc0,gc0;var gL=w(()=>{o1();sf=/^[cC][^\s-]{8,}$/,tf=/^[0-9a-z]+$/,ef=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Yv=/^[0-9a-vA-V]{20}$/,Jv=/^[A-Za-z0-9]{27}$/,Xv=/^[a-zA-Z0-9_-]{21}$/,Zv=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Bc0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Wv=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,qc0=CG(4),Fc0=CG(6),Vc0=CG(7),$v=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Ic0=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Dc0=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,RX1=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,wc0=RX1,Ac0=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;Qv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Uv=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Hv=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Ov=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Kv=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,yL=/^[A-Za-z0-9_-]*$/,Lc0=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Mc0=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Bv=/^\+[1-9]\d{6,14}$/,qv=new RegExp(`^${NX1}$`);Dv=/^-?\d+n?$/,wv=/^-?\d+$/,yq=/^-?\d+(?:\.\d+)?$/,Av=/^(?:true|false)$/i,Pv=/^null$/i,Lv=/^undefined$/i,Mv=/^[^A-Z]*$/,Ev=/^[^a-z]*$/,Ec0=/^[0-9a-fA-F]*$/;Tc0=/^[0-9a-fA-F]{32}$/,Rc0=gq(22,"=="),Nc0=uq(22),Sc0=/^[0-9a-fA-F]{40}$/,Cc0=gq(27,"="),jc0=uq(27),kc0=/^[0-9a-fA-F]{64}$/,_c0=gq(43,"="),xc0=uq(43),fc0=/^[0-9a-fA-F]{96}$/,vc0=gq(64,""),hc0=uq(64),bc0=/^[0-9a-fA-F]{128}$/,yc0=gq(86,"=="),gc0=uq(86)});function CX1(Y,J,X){if(Y.issues.length)J.issues.push(...X7(X,Y.issues))}var y4,jX1,uL,mL,Tv,Rv,Nv,Sv,Cv,jv,kv,_v,xv,dz,fv,vv,hv,bv,yv,gv,uv,mv,dv;var dL=w(()=>{fz();gL();o1();y4=s("$ZodCheck",(Y,J)=>{var X;Y._zod??(Y._zod={}),Y._zod.def=J,(X=Y._zod).onattach??(X.onattach=[])}),jX1={number:"number",bigint:"bigint",object:"date"},uL=s("$ZodCheckLessThan",(Y,J)=>{y4.init(Y,J);let X=jX1[typeof J.value];Y._zod.onattach.push((Z)=>{let W=Z._zod.bag,$=(J.inclusive?W.maximum:W.exclusiveMaximum)??Number.POSITIVE_INFINITY;if(J.value<$)if(J.inclusive)W.maximum=J.value;else W.exclusiveMaximum=J.value}),Y._zod.check=(Z)=>{if(J.inclusive?Z.value<=J.value:Z.value<J.value)return;Z.issues.push({origin:X,code:"too_big",maximum:typeof J.value==="object"?J.value.getTime():J.value,input:Z.value,inclusive:J.inclusive,inst:Y,continue:!J.abort})}}),mL=s("$ZodCheckGreaterThan",(Y,J)=>{y4.init(Y,J);let X=jX1[typeof J.value];Y._zod.onattach.push((Z)=>{let W=Z._zod.bag,$=(J.inclusive?W.minimum:W.exclusiveMinimum)??Number.NEGATIVE_INFINITY;if(J.value>$)if(J.inclusive)W.minimum=J.value;else W.exclusiveMinimum=J.value}),Y._zod.check=(Z)=>{if(J.inclusive?Z.value>=J.value:Z.value>J.value)return;Z.issues.push({origin:X,code:"too_small",minimum:typeof J.value==="object"?J.value.getTime():J.value,input:Z.value,inclusive:J.inclusive,inst:Y,continue:!J.abort})}}),Tv=s("$ZodCheckMultipleOf",(Y,J)=>{y4.init(Y,J),Y._zod.onattach.push((X)=>{var Z;(Z=X._zod.bag).multipleOf??(Z.multipleOf=J.value)}),Y._zod.check=(X)=>{if(typeof X.value!==typeof J.value)throw Error("Cannot mix number and bigint in multiple_of check.");if(typeof X.value==="bigint"?X.value%J.value===BigInt(0):hf(X.value,J.value)===0)return;X.issues.push({origin:typeof X.value,code:"not_multiple_of",divisor:J.value,input:X.value,inst:Y,continue:!J.abort})}}),Rv=s("$ZodCheckNumberFormat",(Y,J)=>{y4.init(Y,J),J.format=J.format||"float64";let X=J.format?.includes("int"),Z=X?"int":"number",[W,$]=df[J.format];Y._zod.onattach.push((G)=>{let Q=G._zod.bag;if(Q.format=J.format,Q.minimum=W,Q.maximum=$,X)Q.pattern=wv}),Y._zod.check=(G)=>{let Q=G.value;if(X){if(!Number.isInteger(Q)){G.issues.push({expected:Z,format:J.format,code:"invalid_type",continue:!1,input:Q,inst:Y});return}if(!Number.isSafeInteger(Q)){if(Q>0)G.issues.push({input:Q,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:Y,origin:Z,inclusive:!0,continue:!J.abort});else G.issues.push({input:Q,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:Y,origin:Z,inclusive:!0,continue:!J.abort});return}}if(Q<W)G.issues.push({origin:"number",input:Q,code:"too_small",minimum:W,inclusive:!0,inst:Y,continue:!J.abort});if(Q>$)G.issues.push({origin:"number",input:Q,code:"too_big",maximum:$,inclusive:!0,inst:Y,continue:!J.abort})}}),Nv=s("$ZodCheckBigIntFormat",(Y,J)=>{y4.init(Y,J);let[X,Z]=cf[J.format];Y._zod.onattach.push((W)=>{let $=W._zod.bag;$.format=J.format,$.minimum=X,$.maximum=Z}),Y._zod.check=(W)=>{let $=W.value;if($<X)W.issues.push({origin:"bigint",input:$,code:"too_small",minimum:X,inclusive:!0,inst:Y,continue:!J.abort});if($>Z)W.issues.push({origin:"bigint",input:$,code:"too_big",maximum:Z,inclusive:!0,inst:Y,continue:!J.abort})}}),Sv=s("$ZodCheckMaxSize",(Y,J)=>{var X;y4.init(Y,J),(X=Y._zod.def).when??(X.when=(Z)=>{let W=Z.value;return!YW(W)&&W.size!==void 0}),Y._zod.onattach.push((Z)=>{let W=Z._zod.bag.maximum??Number.POSITIVE_INFINITY;if(J.maximum<W)Z._zod.bag.maximum=J.maximum}),Y._zod.check=(Z)=>{let W=Z.value;if(W.size<=J.maximum)return;Z.issues.push({origin:xq(W),code:"too_big",maximum:J.maximum,inclusive:!0,input:W,inst:Y,continue:!J.abort})}}),Cv=s("$ZodCheckMinSize",(Y,J)=>{var X;y4.init(Y,J),(X=Y._zod.def).when??(X.when=(Z)=>{let W=Z.value;return!YW(W)&&W.size!==void 0}),Y._zod.onattach.push((Z)=>{let W=Z._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(J.minimum>W)Z._zod.bag.minimum=J.minimum}),Y._zod.check=(Z)=>{let W=Z.value;if(W.size>=J.minimum)return;Z.issues.push({origin:xq(W),code:"too_small",minimum:J.minimum,inclusive:!0,input:W,inst:Y,continue:!J.abort})}}),jv=s("$ZodCheckSizeEquals",(Y,J)=>{var X;y4.init(Y,J),(X=Y._zod.def).when??(X.when=(Z)=>{let W=Z.value;return!YW(W)&&W.size!==void 0}),Y._zod.onattach.push((Z)=>{let W=Z._zod.bag;W.minimum=J.size,W.maximum=J.size,W.size=J.size}),Y._zod.check=(Z)=>{let W=Z.value,$=W.size;if($===J.size)return;let G=$>J.size;Z.issues.push({origin:xq(W),...G?{code:"too_big",maximum:J.size}:{code:"too_small",minimum:J.size},inclusive:!0,exact:!0,input:Z.value,inst:Y,continue:!J.abort})}}),kv=s("$ZodCheckMaxLength",(Y,J)=>{var X;y4.init(Y,J),(X=Y._zod.def).when??(X.when=(Z)=>{let W=Z.value;return!YW(W)&&W.length!==void 0}),Y._zod.onattach.push((Z)=>{let W=Z._zod.bag.maximum??Number.POSITIVE_INFINITY;if(J.maximum<W)Z._zod.bag.maximum=J.maximum}),Y._zod.check=(Z)=>{let W=Z.value;if(W.length<=J.maximum)return;let G=fq(W);Z.issues.push({origin:G,code:"too_big",maximum:J.maximum,inclusive:!0,input:W,inst:Y,continue:!J.abort})}}),_v=s("$ZodCheckMinLength",(Y,J)=>{var X;y4.init(Y,J),(X=Y._zod.def).when??(X.when=(Z)=>{let W=Z.value;return!YW(W)&&W.length!==void 0}),Y._zod.onattach.push((Z)=>{let W=Z._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(J.minimum>W)Z._zod.bag.minimum=J.minimum}),Y._zod.check=(Z)=>{let W=Z.value;if(W.length>=J.minimum)return;let G=fq(W);Z.issues.push({origin:G,code:"too_small",minimum:J.minimum,inclusive:!0,input:W,inst:Y,continue:!J.abort})}}),xv=s("$ZodCheckLengthEquals",(Y,J)=>{var X;y4.init(Y,J),(X=Y._zod.def).when??(X.when=(Z)=>{let W=Z.value;return!YW(W)&&W.length!==void 0}),Y._zod.onattach.push((Z)=>{let W=Z._zod.bag;W.minimum=J.length,W.maximum=J.length,W.length=J.length}),Y._zod.check=(Z)=>{let W=Z.value,$=W.length;if($===J.length)return;let G=fq(W),Q=$>J.length;Z.issues.push({origin:G,...Q?{code:"too_big",maximum:J.length}:{code:"too_small",minimum:J.length},inclusive:!0,exact:!0,input:Z.value,inst:Y,continue:!J.abort})}}),dz=s("$ZodCheckStringFormat",(Y,J)=>{var X,Z;if(y4.init(Y,J),Y._zod.onattach.push((W)=>{let $=W._zod.bag;if($.format=J.format,J.pattern)$.patterns??($.patterns=new Set),$.patterns.add(J.pattern)}),J.pattern)(X=Y._zod).check??(X.check=(W)=>{if(J.pattern.lastIndex=0,J.pattern.test(W.value))return;W.issues.push({origin:"string",code:"invalid_format",format:J.format,input:W.value,...J.pattern?{pattern:J.pattern.toString()}:{},inst:Y,continue:!J.abort})});else(Z=Y._zod).check??(Z.check=()=>{})}),fv=s("$ZodCheckRegex",(Y,J)=>{dz.init(Y,J),Y._zod.check=(X)=>{if(J.pattern.lastIndex=0,J.pattern.test(X.value))return;X.issues.push({origin:"string",code:"invalid_format",format:"regex",input:X.value,pattern:J.pattern.toString(),inst:Y,continue:!J.abort})}}),vv=s("$ZodCheckLowerCase",(Y,J)=>{J.pattern??(J.pattern=Mv),dz.init(Y,J)}),hv=s("$ZodCheckUpperCase",(Y,J)=>{J.pattern??(J.pattern=Ev),dz.init(Y,J)}),bv=s("$ZodCheckIncludes",(Y,J)=>{y4.init(Y,J);let X=v7(J.includes),Z=new RegExp(typeof J.position==="number"?`^.{${J.position}}${X}`:X);J.pattern=Z,Y._zod.onattach.push((W)=>{let $=W._zod.bag;$.patterns??($.patterns=new Set),$.patterns.add(Z)}),Y._zod.check=(W)=>{if(W.value.includes(J.includes,J.position))return;W.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:J.includes,input:W.value,inst:Y,continue:!J.abort})}}),yv=s("$ZodCheckStartsWith",(Y,J)=>{y4.init(Y,J);let X=new RegExp(`^${v7(J.prefix)}.*`);J.pattern??(J.pattern=X),Y._zod.onattach.push((Z)=>{let W=Z._zod.bag;W.patterns??(W.patterns=new Set),W.patterns.add(X)}),Y._zod.check=(Z)=>{if(Z.value.startsWith(J.prefix))return;Z.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:J.prefix,input:Z.value,inst:Y,continue:!J.abort})}}),gv=s("$ZodCheckEndsWith",(Y,J)=>{y4.init(Y,J);let X=new RegExp(`.*${v7(J.suffix)}$`);J.pattern??(J.pattern=X),Y._zod.onattach.push((Z)=>{let W=Z._zod.bag;W.patterns??(W.patterns=new Set),W.patterns.add(X)}),Y._zod.check=(Z)=>{if(Z.value.endsWith(J.suffix))return;Z.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:J.suffix,input:Z.value,inst:Y,continue:!J.abort})}});uv=s("$ZodCheckProperty",(Y,J)=>{y4.init(Y,J),Y._zod.check=(X)=>{let Z=J.schema._zod.run({value:X.value[J.property],issues:[]},{});if(Z instanceof Promise)return Z.then((W)=>CX1(W,X,J.property));CX1(Z,X,J.property);return}}),mv=s("$ZodCheckMimeType",(Y,J)=>{y4.init(Y,J);let X=new Set(J.mime);Y._zod.onattach.push((Z)=>{Z._zod.bag.mime=J.mime}),Y._zod.check=(Z)=>{if(X.has(Z.value.type))return;Z.issues.push({code:"invalid_value",values:J.mime,input:Z.value.type,inst:Y,continue:!J.abort})}}),dv=s("$ZodCheckOverwrite",(Y,J)=>{y4.init(Y,J),Y._zod.check=(X)=>{X.value=J.tx(X.value)}})});class cL{constructor(Y=[]){if(this.content=[],this.indent=0,this)this.args=Y}indented(Y){this.indent+=1,Y(this),this.indent-=1}write(Y){if(typeof Y==="function"){Y(this,{execution:"sync"}),Y(this,{execution:"async"});return}let X=Y.split(`
`).filter(($)=>$),Z=Math.min(...X.map(($)=>$.length-$.trimStart().length)),W=X.map(($)=>$.slice(Z)).map(($)=>" ".repeat(this.indent*2)+$);for(let $ of W)this.content.push($)}compile(){let Y=Function,J=this?.args,Z=[...(this?.content??[""]).map((W)=>`  ${W}`)];return new Y(...J,Z.join(`
`))}}var cv;var lv=w(()=>{cv={major:4,minor:3,patch:6}});function Kh(Y){if(Y==="")return!0;if(Y.length%4!==0)return!1;try{return atob(Y),!0}catch{return!1}}function cX1(Y){if(!yL.test(Y))return!1;let J=Y.replace(/[-_]/g,(Z)=>Z==="-"?"+":"/"),X=J.padEnd(Math.ceil(J.length/4)*4,"=");return Kh(X)}function lX1(Y,J=null){try{let X=Y.split(".");if(X.length!==3)return!1;let[Z]=X;if(!Z)return!1;let W=JSON.parse(atob(Z));if("typ"in W&&W?.typ!=="JWT")return!1;if(!W.alg)return!1;if(J&&(!("alg"in W)||W.alg!==J))return!1;return!0}catch{return!1}}function _X1(Y,J,X){if(Y.issues.length)J.issues.push(...X7(X,Y.issues));J.value[X]=Y.value}function oL(Y,J,X,Z,W){if(Y.issues.length){if(W&&!(X in Z))return;J.issues.push(...X7(X,Y.issues))}if(Y.value===void 0){if(X in Z)J.value[X]=void 0}else J.value[X]=Y.value}function pX1(Y){let J=Object.keys(Y.shape);for(let Z of J)if(!Y.shape?.[Z]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${Z}": expected a Zod schema`);let X=mf(Y.shape);return{...Y,keys:J,keySet:new Set(J),numKeys:J.length,optionalKeys:new Set(X)}}function nX1(Y,J,X,Z,W,$){let G=[],Q=W.keySet,U=W.catchall._zod,z=U.def.type,H=U.optout==="optional";for(let O in J){if(Q.has(O))continue;if(z==="never"){G.push(O);continue}let K=U.run({value:J[O],issues:[]},Z);if(K instanceof Promise)Y.push(K.then((B)=>oL(B,X,O,J,H)));else oL(K,X,O,J,H)}if(G.length)X.issues.push({code:"unrecognized_keys",keys:G,input:J,inst:$});if(!Y.length)return X;return Promise.all(Y).then(()=>{return X})}function xX1(Y,J,X,Z){for(let $ of Y)if($.issues.length===0)return J.value=$.value,J;let W=Y.filter(($)=>!ZW($));if(W.length===1)return J.value=W[0].value,W[0];return J.issues.push({code:"invalid_union",input:J.value,inst:X,errors:Y.map(($)=>$.issues.map((G)=>N9(G,Z,b6())))}),J}function fX1(Y,J,X,Z){let W=Y.filter(($)=>$.issues.length===0);if(W.length===1)return J.value=W[0].value,J;if(W.length===0)J.issues.push({code:"invalid_union",input:J.value,inst:X,errors:Y.map(($)=>$.issues.map((G)=>N9(G,Z,b6())))});else J.issues.push({code:"invalid_union",input:J.value,inst:X,errors:[],inclusive:!1});return J}function pv(Y,J){if(Y===J)return{valid:!0,data:Y};if(Y instanceof Date&&J instanceof Date&&+Y===+J)return{valid:!0,data:Y};if(XW(Y)&&XW(J)){let X=Object.keys(J),Z=Object.keys(Y).filter(($)=>X.indexOf($)!==-1),W={...Y,...J};for(let $ of Z){let G=pv(Y[$],J[$]);if(!G.valid)return{valid:!1,mergeErrorPath:[$,...G.mergeErrorPath]};W[$]=G.data}return{valid:!0,data:W}}if(Array.isArray(Y)&&Array.isArray(J)){if(Y.length!==J.length)return{valid:!1,mergeErrorPath:[]};let X=[];for(let Z=0;Z<Y.length;Z++){let W=Y[Z],$=J[Z],G=pv(W,$);if(!G.valid)return{valid:!1,mergeErrorPath:[Z,...G.mergeErrorPath]};X.push(G.data)}return{valid:!0,data:X}}return{valid:!1,mergeErrorPath:[]}}function vX1(Y,J,X){let Z=new Map,W;for(let Q of J.issues)if(Q.code==="unrecognized_keys"){W??(W=Q);for(let U of Q.keys){if(!Z.has(U))Z.set(U,{});Z.get(U).l=!0}}else Y.issues.push(Q);for(let Q of X.issues)if(Q.code==="unrecognized_keys")for(let U of Q.keys){if(!Z.has(U))Z.set(U,{});Z.get(U).r=!0}else Y.issues.push(Q);let $=[...Z].filter(([,Q])=>Q.l&&Q.r).map(([Q])=>Q);if($.length&&W)Y.issues.push({...W,keys:$});if(ZW(Y))return Y;let G=pv(J.value,X.value);if(!G.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(G.mergeErrorPath)}`);return Y.value=G.data,Y}function lL(Y,J,X){if(Y.issues.length)J.issues.push(...X7(X,Y.issues));J.value[X]=Y.value}function hX1(Y,J,X,Z,W,$,G){if(Y.issues.length)if(_q.has(typeof Z))X.issues.push(...X7(Z,Y.issues));else X.issues.push({code:"invalid_key",origin:"map",input:W,inst:$,issues:Y.issues.map((Q)=>N9(Q,G,b6()))});if(J.issues.length)if(_q.has(typeof Z))X.issues.push(...X7(Z,J.issues));else X.issues.push({origin:"map",code:"invalid_element",input:W,inst:$,key:Z,issues:J.issues.map((Q)=>N9(Q,G,b6()))});X.value.set(Y.value,J.value)}function bX1(Y,J){if(Y.issues.length)J.issues.push(...Y.issues);J.value.add(Y.value)}function yX1(Y,J){if(Y.issues.length&&J===void 0)return{issues:[],value:void 0};return Y}function gX1(Y,J){if(Y.value===void 0)Y.value=J.defaultValue;return Y}function uX1(Y,J){if(!Y.issues.length&&Y.value===void 0)Y.issues.push({code:"invalid_type",expected:"nonoptional",input:Y.value,inst:J});return Y}function pL(Y,J,X){if(Y.issues.length)return Y.aborted=!0,Y;return J._zod.run({value:Y.value,issues:Y.issues},X)}function nL(Y,J,X){if(Y.issues.length)return Y.aborted=!0,Y;if((X.direction||"forward")==="forward"){let W=J.transform(Y.value,Y);if(W instanceof Promise)return W.then(($)=>iL(Y,$,J.out,X));return iL(Y,W,J.out,X)}else{let W=J.reverseTransform(Y.value,Y);if(W instanceof Promise)return W.then(($)=>iL(Y,$,J.in,X));return iL(Y,W,J.in,X)}}function iL(Y,J,X,Z){if(Y.issues.length)return Y.aborted=!0,Y;return X._zod.run({value:J,issues:Y.issues},Z)}function mX1(Y){return Y.value=Object.freeze(Y.value),Y}function dX1(Y,J,X,Z){if(!Y){let W={code:"custom",input:X,inst:Z,path:[...Z._zod.def.path??[]],continue:!Z._zod.def.abort};if(Z._zod.def.params)W.params=Z._zod.def.params;J.issues.push(bz(W))}}var I0,jG,N4,nv,iv,ov,rv,av,sv,tv,ev,Yh,Jh,Xh,Zh,Wh,$h,Gh,Qh,Uh,zh,Hh,Oh,Bh,qh,Fh,Vh,Ih,rL,Dh,mq,aL,wh,Ah,Ph,Lh,Mh,Eh,Th,Rh,Nh,Sh,iX1,Ch,dq,jh,kh,_h,sL,xh,fh,vh,hh,bh,yh,gh,tL,uh,mh,dh,ch,lh,ph,nh,ih,oh,cq,rh,ah,sh,th,eh,Yb;var Jb=w(()=>{dL();fz();af();gL();o1();lv();o1();I0=s("$ZodType",(Y,J)=>{var X;Y??(Y={}),Y._zod.def=J,Y._zod.bag=Y._zod.bag||{},Y._zod.version=cv;let Z=[...Y._zod.def.checks??[]];if(Y._zod.traits.has("$ZodCheck"))Z.unshift(Y);for(let W of Z)for(let $ of W._zod.onattach)$(Y);if(Z.length===0)(X=Y._zod).deferred??(X.deferred=[]),Y._zod.deferred?.push(()=>{Y._zod.run=Y._zod.parse});else{let W=(G,Q,U)=>{let z=ZW(G),H;for(let O of Q){if(O._zod.def.when){if(!O._zod.def.when(G))continue}else if(z)continue;let K=G.issues.length,B=O._zod.check(G);if(B instanceof Promise&&U?.async===!1)throw new JX;if(H||B instanceof Promise)H=(H??Promise.resolve()).then(async()=>{if(await B,G.issues.length===K)return;if(!z)z=ZW(G,K)});else{if(G.issues.length===K)continue;if(!z)z=ZW(G,K)}}if(H)return H.then(()=>{return G});return G},$=(G,Q,U)=>{if(ZW(G))return G.aborted=!0,G;let z=W(Q,Z,U);if(z instanceof Promise){if(U.async===!1)throw new JX;return z.then((H)=>Y._zod.parse(H,U))}return Y._zod.parse(z,U)};Y._zod.run=(G,Q)=>{if(Q.skipChecks)return Y._zod.parse(G,Q);if(Q.direction==="backward"){let z=Y._zod.parse({value:G.value,issues:[]},{...Q,skipChecks:!0});if(z instanceof Promise)return z.then((H)=>{return $(H,G,Q)});return $(z,G,Q)}let U=Y._zod.parse(G,Q);if(U instanceof Promise){if(Q.async===!1)throw new JX;return U.then((z)=>W(z,Z,Q))}return W(U,Z,Q)}}N0(Y,"~standard",()=>({validate:(W)=>{try{let $=of(Y,W);return $.success?{value:$.data}:{issues:$.error?.issues}}catch($){return rf(Y,W).then((G)=>G.success?{value:G.data}:{issues:G.error?.issues})}},vendor:"zod",version:1}))}),jG=s("$ZodString",(Y,J)=>{I0.init(Y,J),Y._zod.pattern=[...Y?._zod.bag?.patterns??[]].pop()??Iv(Y._zod.bag),Y._zod.parse=(X,Z)=>{if(J.coerce)try{X.value=String(X.value)}catch(W){}if(typeof X.value==="string")return X;return X.issues.push({expected:"string",code:"invalid_type",input:X.value,inst:Y}),X}}),N4=s("$ZodStringFormat",(Y,J)=>{dz.init(Y,J),jG.init(Y,J)}),nv=s("$ZodGUID",(Y,J)=>{J.pattern??(J.pattern=Wv),N4.init(Y,J)}),iv=s("$ZodUUID",(Y,J)=>{if(J.version){let Z={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[J.version];if(Z===void 0)throw Error(`Invalid UUID version: "${J.version}"`);J.pattern??(J.pattern=CG(Z))}else J.pattern??(J.pattern=CG());N4.init(Y,J)}),ov=s("$ZodEmail",(Y,J)=>{J.pattern??(J.pattern=$v),N4.init(Y,J)}),rv=s("$ZodURL",(Y,J)=>{N4.init(Y,J),Y._zod.check=(X)=>{try{let Z=X.value.trim(),W=new URL(Z);if(J.hostname){if(J.hostname.lastIndex=0,!J.hostname.test(W.hostname))X.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:J.hostname.source,input:X.value,inst:Y,continue:!J.abort})}if(J.protocol){if(J.protocol.lastIndex=0,!J.protocol.test(W.protocol.endsWith(":")?W.protocol.slice(0,-1):W.protocol))X.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:J.protocol.source,input:X.value,inst:Y,continue:!J.abort})}if(J.normalize)X.value=W.href;else X.value=Z;return}catch(Z){X.issues.push({code:"invalid_format",format:"url",input:X.value,inst:Y,continue:!J.abort})}}}),av=s("$ZodEmoji",(Y,J)=>{J.pattern??(J.pattern=Gv()),N4.init(Y,J)}),sv=s("$ZodNanoID",(Y,J)=>{J.pattern??(J.pattern=Xv),N4.init(Y,J)}),tv=s("$ZodCUID",(Y,J)=>{J.pattern??(J.pattern=sf),N4.init(Y,J)}),ev=s("$ZodCUID2",(Y,J)=>{J.pattern??(J.pattern=tf),N4.init(Y,J)}),Yh=s("$ZodULID",(Y,J)=>{J.pattern??(J.pattern=ef),N4.init(Y,J)}),Jh=s("$ZodXID",(Y,J)=>{J.pattern??(J.pattern=Yv),N4.init(Y,J)}),Xh=s("$ZodKSUID",(Y,J)=>{J.pattern??(J.pattern=Jv),N4.init(Y,J)}),Zh=s("$ZodISODateTime",(Y,J)=>{J.pattern??(J.pattern=Vv(J)),N4.init(Y,J)}),Wh=s("$ZodISODate",(Y,J)=>{J.pattern??(J.pattern=qv),N4.init(Y,J)}),$h=s("$ZodISOTime",(Y,J)=>{J.pattern??(J.pattern=Fv(J)),N4.init(Y,J)}),Gh=s("$ZodISODuration",(Y,J)=>{J.pattern??(J.pattern=Zv),N4.init(Y,J)}),Qh=s("$ZodIPv4",(Y,J)=>{J.pattern??(J.pattern=Qv),N4.init(Y,J),Y._zod.bag.format="ipv4"}),Uh=s("$ZodIPv6",(Y,J)=>{J.pattern??(J.pattern=Uv),N4.init(Y,J),Y._zod.bag.format="ipv6",Y._zod.check=(X)=>{try{new URL(`http://[${X.value}]`)}catch{X.issues.push({code:"invalid_format",format:"ipv6",input:X.value,inst:Y,continue:!J.abort})}}}),zh=s("$ZodMAC",(Y,J)=>{J.pattern??(J.pattern=zv(J.delimiter)),N4.init(Y,J),Y._zod.bag.format="mac"}),Hh=s("$ZodCIDRv4",(Y,J)=>{J.pattern??(J.pattern=Hv),N4.init(Y,J)}),Oh=s("$ZodCIDRv6",(Y,J)=>{J.pattern??(J.pattern=Ov),N4.init(Y,J),Y._zod.check=(X)=>{let Z=X.value.split("/");try{if(Z.length!==2)throw Error();let[W,$]=Z;if(!$)throw Error();let G=Number($);if(`${G}`!==$)throw Error();if(G<0||G>128)throw Error();new URL(`http://[${W}]`)}catch{X.issues.push({code:"invalid_format",format:"cidrv6",input:X.value,inst:Y,continue:!J.abort})}}});Bh=s("$ZodBase64",(Y,J)=>{J.pattern??(J.pattern=Kv),N4.init(Y,J),Y._zod.bag.contentEncoding="base64",Y._zod.check=(X)=>{if(Kh(X.value))return;X.issues.push({code:"invalid_format",format:"base64",input:X.value,inst:Y,continue:!J.abort})}});qh=s("$ZodBase64URL",(Y,J)=>{J.pattern??(J.pattern=yL),N4.init(Y,J),Y._zod.bag.contentEncoding="base64url",Y._zod.check=(X)=>{if(cX1(X.value))return;X.issues.push({code:"invalid_format",format:"base64url",input:X.value,inst:Y,continue:!J.abort})}}),Fh=s("$ZodE164",(Y,J)=>{J.pattern??(J.pattern=Bv),N4.init(Y,J)});Vh=s("$ZodJWT",(Y,J)=>{N4.init(Y,J),Y._zod.check=(X)=>{if(lX1(X.value,J.alg))return;X.issues.push({code:"invalid_format",format:"jwt",input:X.value,inst:Y,continue:!J.abort})}}),Ih=s("$ZodCustomStringFormat",(Y,J)=>{N4.init(Y,J),Y._zod.check=(X)=>{if(J.fn(X.value))return;X.issues.push({code:"invalid_format",format:J.format,input:X.value,inst:Y,continue:!J.abort})}}),rL=s("$ZodNumber",(Y,J)=>{I0.init(Y,J),Y._zod.pattern=Y._zod.bag.pattern??yq,Y._zod.parse=(X,Z)=>{if(J.coerce)try{X.value=Number(X.value)}catch(G){}let W=X.value;if(typeof W==="number"&&!Number.isNaN(W)&&Number.isFinite(W))return X;let $=typeof W==="number"?Number.isNaN(W)?"NaN":!Number.isFinite(W)?"Infinity":void 0:void 0;return X.issues.push({expected:"number",code:"invalid_type",input:W,inst:Y,...$?{received:$}:{}}),X}}),Dh=s("$ZodNumberFormat",(Y,J)=>{Rv.init(Y,J),rL.init(Y,J)}),mq=s("$ZodBoolean",(Y,J)=>{I0.init(Y,J),Y._zod.pattern=Av,Y._zod.parse=(X,Z)=>{if(J.coerce)try{X.value=Boolean(X.value)}catch($){}let W=X.value;if(typeof W==="boolean")return X;return X.issues.push({expected:"boolean",code:"invalid_type",input:W,inst:Y}),X}}),aL=s("$ZodBigInt",(Y,J)=>{I0.init(Y,J),Y._zod.pattern=Dv,Y._zod.parse=(X,Z)=>{if(J.coerce)try{X.value=BigInt(X.value)}catch(W){}if(typeof X.value==="bigint")return X;return X.issues.push({expected:"bigint",code:"invalid_type",input:X.value,inst:Y}),X}}),wh=s("$ZodBigIntFormat",(Y,J)=>{Nv.init(Y,J),aL.init(Y,J)}),Ah=s("$ZodSymbol",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X,Z)=>{let W=X.value;if(typeof W==="symbol")return X;return X.issues.push({expected:"symbol",code:"invalid_type",input:W,inst:Y}),X}}),Ph=s("$ZodUndefined",(Y,J)=>{I0.init(Y,J),Y._zod.pattern=Lv,Y._zod.values=new Set([void 0]),Y._zod.optin="optional",Y._zod.optout="optional",Y._zod.parse=(X,Z)=>{let W=X.value;if(typeof W>"u")return X;return X.issues.push({expected:"undefined",code:"invalid_type",input:W,inst:Y}),X}}),Lh=s("$ZodNull",(Y,J)=>{I0.init(Y,J),Y._zod.pattern=Pv,Y._zod.values=new Set([null]),Y._zod.parse=(X,Z)=>{let W=X.value;if(W===null)return X;return X.issues.push({expected:"null",code:"invalid_type",input:W,inst:Y}),X}}),Mh=s("$ZodAny",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X)=>X}),Eh=s("$ZodUnknown",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X)=>X}),Th=s("$ZodNever",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X,Z)=>{return X.issues.push({expected:"never",code:"invalid_type",input:X.value,inst:Y}),X}}),Rh=s("$ZodVoid",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X,Z)=>{let W=X.value;if(typeof W>"u")return X;return X.issues.push({expected:"void",code:"invalid_type",input:W,inst:Y}),X}}),Nh=s("$ZodDate",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X,Z)=>{if(J.coerce)try{X.value=new Date(X.value)}catch(Q){}let W=X.value,$=W instanceof Date;if($&&!Number.isNaN(W.getTime()))return X;return X.issues.push({expected:"date",code:"invalid_type",input:W,...$?{received:"Invalid Date"}:{},inst:Y}),X}});Sh=s("$ZodArray",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X,Z)=>{let W=X.value;if(!Array.isArray(W))return X.issues.push({expected:"array",code:"invalid_type",input:W,inst:Y}),X;X.value=Array(W.length);let $=[];for(let G=0;G<W.length;G++){let Q=W[G],U=J.element._zod.run({value:Q,issues:[]},Z);if(U instanceof Promise)$.push(U.then((z)=>_X1(z,X,G)));else _X1(U,X,G)}if($.length)return Promise.all($).then(()=>X);return X}});iX1=s("$ZodObject",(Y,J)=>{if(I0.init(Y,J),!Object.getOwnPropertyDescriptor(J,"shape")?.get){let Q=J.shape;Object.defineProperty(J,"shape",{get:()=>{let U={...Q};return Object.defineProperty(J,"shape",{value:U}),U}})}let Z=hz(()=>pX1(J));N0(Y._zod,"propValues",()=>{let Q=J.shape,U={};for(let z in Q){let H=Q[z]._zod;if(H.values){U[z]??(U[z]=new Set);for(let O of H.values)U[z].add(O)}}return U});let W=SG,$=J.catchall,G;Y._zod.parse=(Q,U)=>{G??(G=Z.value);let z=Q.value;if(!W(z))return Q.issues.push({expected:"object",code:"invalid_type",input:z,inst:Y}),Q;Q.value={};let H=[],O=G.shape;for(let K of G.keys){let B=O[K],F=B._zod.optout==="optional",V=B._zod.run({value:z[K],issues:[]},U);if(V instanceof Promise)H.push(V.then((I)=>oL(I,Q,K,z,F)));else oL(V,Q,K,z,F)}if(!$)return H.length?Promise.all(H).then(()=>Q):Q;return nX1(H,z,Q,U,Z.value,Y)}}),Ch=s("$ZodObjectJIT",(Y,J)=>{iX1.init(Y,J);let X=Y._zod.parse,Z=hz(()=>pX1(J)),W=(K)=>{let B=new cL(["shape","payload","ctx"]),F=Z.value,V=(A)=>{let P=RL(A);return`shape[${P}]._zod.run({ value: input[${P}], issues: [] }, ctx)`};B.write("const input = payload.value;");let I=Object.create(null),D=0;for(let A of F.keys)I[A]=`key_${D++}`;B.write("const newResult = {};");for(let A of F.keys){let P=I[A],R=RL(A),v=K[A]?._zod?.optout==="optional";if(B.write(`const ${P} = ${V(A)};`),v)B.write(`
        if (${P}.issues.length) {
          if (${R} in input) {
            payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${R}, ...iss.path] : [${R}]
            })));
          }
        }
        
        if (${P}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${P}.value;
        }
        
      `);else B.write(`
        if (${P}.issues.length) {
          payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${R}, ...iss.path] : [${R}]
          })));
        }
        
        if (${P}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${P}.value;
        }
        
      `)}B.write("payload.value = newResult;"),B.write("return payload;");let L=B.compile();return(A,P)=>L(K,A,P)},$,G=SG,Q=!Sq.jitless,z=Q&&yf.value,H=J.catchall,O;Y._zod.parse=(K,B)=>{O??(O=Z.value);let F=K.value;if(!G(F))return K.issues.push({expected:"object",code:"invalid_type",input:F,inst:Y}),K;if(Q&&z&&B?.async===!1&&B.jitless!==!0){if(!$)$=W(J.shape);if(K=$(K,B),!H)return K;return nX1([],F,K,B,O,Y)}return X(K,B)}});dq=s("$ZodUnion",(Y,J)=>{I0.init(Y,J),N0(Y._zod,"optin",()=>J.options.some((W)=>W._zod.optin==="optional")?"optional":void 0),N0(Y._zod,"optout",()=>J.options.some((W)=>W._zod.optout==="optional")?"optional":void 0),N0(Y._zod,"values",()=>{if(J.options.every((W)=>W._zod.values))return new Set(J.options.flatMap((W)=>Array.from(W._zod.values)));return}),N0(Y._zod,"pattern",()=>{if(J.options.every((W)=>W._zod.pattern)){let W=J.options.map(($)=>$._zod.pattern);return new RegExp(`^(${W.map(($)=>kq($.source)).join("|")})$`)}return});let X=J.options.length===1,Z=J.options[0]._zod.run;Y._zod.parse=(W,$)=>{if(X)return Z(W,$);let G=!1,Q=[];for(let U of J.options){let z=U._zod.run({value:W.value,issues:[]},$);if(z instanceof Promise)Q.push(z),G=!0;else{if(z.issues.length===0)return z;Q.push(z)}}if(!G)return xX1(Q,W,Y,$);return Promise.all(Q).then((U)=>{return xX1(U,W,Y,$)})}});jh=s("$ZodXor",(Y,J)=>{dq.init(Y,J),J.inclusive=!1;let X=J.options.length===1,Z=J.options[0]._zod.run;Y._zod.parse=(W,$)=>{if(X)return Z(W,$);let G=!1,Q=[];for(let U of J.options){let z=U._zod.run({value:W.value,issues:[]},$);if(z instanceof Promise)Q.push(z),G=!0;else Q.push(z)}if(!G)return fX1(Q,W,Y,$);return Promise.all(Q).then((U)=>{return fX1(U,W,Y,$)})}}),kh=s("$ZodDiscriminatedUnion",(Y,J)=>{J.inclusive=!1,dq.init(Y,J);let X=Y._zod.parse;N0(Y._zod,"propValues",()=>{let W={};for(let $ of J.options){let G=$._zod.propValues;if(!G||Object.keys(G).length===0)throw Error(`Invalid discriminated union option at index "${J.options.indexOf($)}"`);for(let[Q,U]of Object.entries(G)){if(!W[Q])W[Q]=new Set;for(let z of U)W[Q].add(z)}}return W});let Z=hz(()=>{let W=J.options,$=new Map;for(let G of W){let Q=G._zod.propValues?.[J.discriminator];if(!Q||Q.size===0)throw Error(`Invalid discriminated union option at index "${J.options.indexOf(G)}"`);for(let U of Q){if($.has(U))throw Error(`Duplicate discriminator value "${String(U)}"`);$.set(U,G)}}return $});Y._zod.parse=(W,$)=>{let G=W.value;if(!SG(G))return W.issues.push({code:"invalid_type",expected:"object",input:G,inst:Y}),W;let Q=Z.value.get(G?.[J.discriminator]);if(Q)return Q._zod.run(W,$);if(J.unionFallback)return X(W,$);return W.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:J.discriminator,input:G,path:[J.discriminator],inst:Y}),W}}),_h=s("$ZodIntersection",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X,Z)=>{let W=X.value,$=J.left._zod.run({value:W,issues:[]},Z),G=J.right._zod.run({value:W,issues:[]},Z);if($ instanceof Promise||G instanceof Promise)return Promise.all([$,G]).then(([U,z])=>{return vX1(X,U,z)});return vX1(X,$,G)}});sL=s("$ZodTuple",(Y,J)=>{I0.init(Y,J);let X=J.items;Y._zod.parse=(Z,W)=>{let $=Z.value;if(!Array.isArray($))return Z.issues.push({input:$,inst:Y,expected:"tuple",code:"invalid_type"}),Z;Z.value=[];let G=[],Q=[...X].reverse().findIndex((H)=>H._zod.optin!=="optional"),U=Q===-1?0:X.length-Q;if(!J.rest){let H=$.length>X.length,O=$.length<U-1;if(H||O)return Z.issues.push({...H?{code:"too_big",maximum:X.length,inclusive:!0}:{code:"too_small",minimum:X.length},input:$,inst:Y,origin:"array"}),Z}let z=-1;for(let H of X){if(z++,z>=$.length){if(z>=U)continue}let O=H._zod.run({value:$[z],issues:[]},W);if(O instanceof Promise)G.push(O.then((K)=>lL(K,Z,z)));else lL(O,Z,z)}if(J.rest){let H=$.slice(X.length);for(let O of H){z++;let K=J.rest._zod.run({value:O,issues:[]},W);if(K instanceof Promise)G.push(K.then((B)=>lL(B,Z,z)));else lL(K,Z,z)}}if(G.length)return Promise.all(G).then(()=>Z);return Z}});xh=s("$ZodRecord",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X,Z)=>{let W=X.value;if(!XW(W))return X.issues.push({expected:"record",code:"invalid_type",input:W,inst:Y}),X;let $=[],G=J.keyType._zod.values;if(G){X.value={};let Q=new Set;for(let z of G)if(typeof z==="string"||typeof z==="number"||typeof z==="symbol"){Q.add(typeof z==="number"?z.toString():z);let H=J.valueType._zod.run({value:W[z],issues:[]},Z);if(H instanceof Promise)$.push(H.then((O)=>{if(O.issues.length)X.issues.push(...X7(z,O.issues));X.value[z]=O.value}));else{if(H.issues.length)X.issues.push(...X7(z,H.issues));X.value[z]=H.value}}let U;for(let z in W)if(!Q.has(z))U=U??[],U.push(z);if(U&&U.length>0)X.issues.push({code:"unrecognized_keys",input:W,inst:Y,keys:U})}else{X.value={};for(let Q of Reflect.ownKeys(W)){if(Q==="__proto__")continue;let U=J.keyType._zod.run({value:Q,issues:[]},Z);if(U instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(typeof Q==="string"&&yq.test(Q)&&U.issues.length){let O=J.keyType._zod.run({value:Number(Q),issues:[]},Z);if(O instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(O.issues.length===0)U=O}if(U.issues.length){if(J.mode==="loose")X.value[Q]=W[Q];else X.issues.push({code:"invalid_key",origin:"record",issues:U.issues.map((O)=>N9(O,Z,b6())),input:Q,path:[Q],inst:Y});continue}let H=J.valueType._zod.run({value:W[Q],issues:[]},Z);if(H instanceof Promise)$.push(H.then((O)=>{if(O.issues.length)X.issues.push(...X7(Q,O.issues));X.value[U.value]=O.value}));else{if(H.issues.length)X.issues.push(...X7(Q,H.issues));X.value[U.value]=H.value}}}if($.length)return Promise.all($).then(()=>X);return X}}),fh=s("$ZodMap",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X,Z)=>{let W=X.value;if(!(W instanceof Map))return X.issues.push({expected:"map",code:"invalid_type",input:W,inst:Y}),X;let $=[];X.value=new Map;for(let[G,Q]of W){let U=J.keyType._zod.run({value:G,issues:[]},Z),z=J.valueType._zod.run({value:Q,issues:[]},Z);if(U instanceof Promise||z instanceof Promise)$.push(Promise.all([U,z]).then(([H,O])=>{hX1(H,O,X,G,W,Y,Z)}));else hX1(U,z,X,G,W,Y,Z)}if($.length)return Promise.all($).then(()=>X);return X}});vh=s("$ZodSet",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X,Z)=>{let W=X.value;if(!(W instanceof Set))return X.issues.push({input:W,inst:Y,expected:"set",code:"invalid_type"}),X;let $=[];X.value=new Set;for(let G of W){let Q=J.valueType._zod.run({value:G,issues:[]},Z);if(Q instanceof Promise)$.push(Q.then((U)=>bX1(U,X)));else bX1(Q,X)}if($.length)return Promise.all($).then(()=>X);return X}});hh=s("$ZodEnum",(Y,J)=>{I0.init(Y,J);let X=jq(J.entries),Z=new Set(X);Y._zod.values=Z,Y._zod.pattern=new RegExp(`^(${X.filter((W)=>_q.has(typeof W)).map((W)=>typeof W==="string"?v7(W):W.toString()).join("|")})$`),Y._zod.parse=(W,$)=>{let G=W.value;if(Z.has(G))return W;return W.issues.push({code:"invalid_value",values:X,input:G,inst:Y}),W}}),bh=s("$ZodLiteral",(Y,J)=>{if(I0.init(Y,J),J.values.length===0)throw Error("Cannot create literal schema with no valid values");let X=new Set(J.values);Y._zod.values=X,Y._zod.pattern=new RegExp(`^(${J.values.map((Z)=>typeof Z==="string"?v7(Z):Z?v7(Z.toString()):String(Z)).join("|")})$`),Y._zod.parse=(Z,W)=>{let $=Z.value;if(X.has($))return Z;return Z.issues.push({code:"invalid_value",values:J.values,input:$,inst:Y}),Z}}),yh=s("$ZodFile",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X,Z)=>{let W=X.value;if(W instanceof File)return X;return X.issues.push({expected:"file",code:"invalid_type",input:W,inst:Y}),X}}),gh=s("$ZodTransform",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X,Z)=>{if(Z.direction==="backward")throw new NG(Y.constructor.name);let W=J.transform(X.value,X);if(Z.async)return(W instanceof Promise?W:Promise.resolve(W)).then((G)=>{return X.value=G,X});if(W instanceof Promise)throw new JX;return X.value=W,X}});tL=s("$ZodOptional",(Y,J)=>{I0.init(Y,J),Y._zod.optin="optional",Y._zod.optout="optional",N0(Y._zod,"values",()=>{return J.innerType._zod.values?new Set([...J.innerType._zod.values,void 0]):void 0}),N0(Y._zod,"pattern",()=>{let X=J.innerType._zod.pattern;return X?new RegExp(`^(${kq(X.source)})?$`):void 0}),Y._zod.parse=(X,Z)=>{if(J.innerType._zod.optin==="optional"){let W=J.innerType._zod.run(X,Z);if(W instanceof Promise)return W.then(($)=>yX1($,X.value));return yX1(W,X.value)}if(X.value===void 0)return X;return J.innerType._zod.run(X,Z)}}),uh=s("$ZodExactOptional",(Y,J)=>{tL.init(Y,J),N0(Y._zod,"values",()=>J.innerType._zod.values),N0(Y._zod,"pattern",()=>J.innerType._zod.pattern),Y._zod.parse=(X,Z)=>{return J.innerType._zod.run(X,Z)}}),mh=s("$ZodNullable",(Y,J)=>{I0.init(Y,J),N0(Y._zod,"optin",()=>J.innerType._zod.optin),N0(Y._zod,"optout",()=>J.innerType._zod.optout),N0(Y._zod,"pattern",()=>{let X=J.innerType._zod.pattern;return X?new RegExp(`^(${kq(X.source)}|null)$`):void 0}),N0(Y._zod,"values",()=>{return J.innerType._zod.values?new Set([...J.innerType._zod.values,null]):void 0}),Y._zod.parse=(X,Z)=>{if(X.value===null)return X;return J.innerType._zod.run(X,Z)}}),dh=s("$ZodDefault",(Y,J)=>{I0.init(Y,J),Y._zod.optin="optional",N0(Y._zod,"values",()=>J.innerType._zod.values),Y._zod.parse=(X,Z)=>{if(Z.direction==="backward")return J.innerType._zod.run(X,Z);if(X.value===void 0)return X.value=J.defaultValue,X;let W=J.innerType._zod.run(X,Z);if(W instanceof Promise)return W.then(($)=>gX1($,J));return gX1(W,J)}});ch=s("$ZodPrefault",(Y,J)=>{I0.init(Y,J),Y._zod.optin="optional",N0(Y._zod,"values",()=>J.innerType._zod.values),Y._zod.parse=(X,Z)=>{if(Z.direction==="backward")return J.innerType._zod.run(X,Z);if(X.value===void 0)X.value=J.defaultValue;return J.innerType._zod.run(X,Z)}}),lh=s("$ZodNonOptional",(Y,J)=>{I0.init(Y,J),N0(Y._zod,"values",()=>{let X=J.innerType._zod.values;return X?new Set([...X].filter((Z)=>Z!==void 0)):void 0}),Y._zod.parse=(X,Z)=>{let W=J.innerType._zod.run(X,Z);if(W instanceof Promise)return W.then(($)=>uX1($,Y));return uX1(W,Y)}});ph=s("$ZodSuccess",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X,Z)=>{if(Z.direction==="backward")throw new NG("ZodSuccess");let W=J.innerType._zod.run(X,Z);if(W instanceof Promise)return W.then(($)=>{return X.value=$.issues.length===0,X});return X.value=W.issues.length===0,X}}),nh=s("$ZodCatch",(Y,J)=>{I0.init(Y,J),N0(Y._zod,"optin",()=>J.innerType._zod.optin),N0(Y._zod,"optout",()=>J.innerType._zod.optout),N0(Y._zod,"values",()=>J.innerType._zod.values),Y._zod.parse=(X,Z)=>{if(Z.direction==="backward")return J.innerType._zod.run(X,Z);let W=J.innerType._zod.run(X,Z);if(W instanceof Promise)return W.then(($)=>{if(X.value=$.value,$.issues.length)X.value=J.catchValue({...X,error:{issues:$.issues.map((G)=>N9(G,Z,b6()))},input:X.value}),X.issues=[];return X});if(X.value=W.value,W.issues.length)X.value=J.catchValue({...X,error:{issues:W.issues.map(($)=>N9($,Z,b6()))},input:X.value}),X.issues=[];return X}}),ih=s("$ZodNaN",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X,Z)=>{if(typeof X.value!=="number"||!Number.isNaN(X.value))return X.issues.push({input:X.value,inst:Y,expected:"nan",code:"invalid_type"}),X;return X}}),oh=s("$ZodPipe",(Y,J)=>{I0.init(Y,J),N0(Y._zod,"values",()=>J.in._zod.values),N0(Y._zod,"optin",()=>J.in._zod.optin),N0(Y._zod,"optout",()=>J.out._zod.optout),N0(Y._zod,"propValues",()=>J.in._zod.propValues),Y._zod.parse=(X,Z)=>{if(Z.direction==="backward"){let $=J.out._zod.run(X,Z);if($ instanceof Promise)return $.then((G)=>pL(G,J.in,Z));return pL($,J.in,Z)}let W=J.in._zod.run(X,Z);if(W instanceof Promise)return W.then(($)=>pL($,J.out,Z));return pL(W,J.out,Z)}});cq=s("$ZodCodec",(Y,J)=>{I0.init(Y,J),N0(Y._zod,"values",()=>J.in._zod.values),N0(Y._zod,"optin",()=>J.in._zod.optin),N0(Y._zod,"optout",()=>J.out._zod.optout),N0(Y._zod,"propValues",()=>J.in._zod.propValues),Y._zod.parse=(X,Z)=>{if((Z.direction||"forward")==="forward"){let $=J.in._zod.run(X,Z);if($ instanceof Promise)return $.then((G)=>nL(G,J,Z));return nL($,J,Z)}else{let $=J.out._zod.run(X,Z);if($ instanceof Promise)return $.then((G)=>nL(G,J,Z));return nL($,J,Z)}}});rh=s("$ZodReadonly",(Y,J)=>{I0.init(Y,J),N0(Y._zod,"propValues",()=>J.innerType._zod.propValues),N0(Y._zod,"values",()=>J.innerType._zod.values),N0(Y._zod,"optin",()=>J.innerType?._zod?.optin),N0(Y._zod,"optout",()=>J.innerType?._zod?.optout),Y._zod.parse=(X,Z)=>{if(Z.direction==="backward")return J.innerType._zod.run(X,Z);let W=J.innerType._zod.run(X,Z);if(W instanceof Promise)return W.then(mX1);return mX1(W)}});ah=s("$ZodTemplateLiteral",(Y,J)=>{I0.init(Y,J);let X=[];for(let Z of J.parts)if(typeof Z==="object"&&Z!==null){if(!Z._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...Z._zod.traits].shift()}`);let W=Z._zod.pattern instanceof RegExp?Z._zod.pattern.source:Z._zod.pattern;if(!W)throw Error(`Invalid template literal part: ${Z._zod.traits}`);let $=W.startsWith("^")?1:0,G=W.endsWith("$")?W.length-1:W.length;X.push(W.slice($,G))}else if(Z===null||uf.has(typeof Z))X.push(v7(`${Z}`));else throw Error(`Invalid template literal part: ${Z}`);Y._zod.pattern=new RegExp(`^${X.join("")}$`),Y._zod.parse=(Z,W)=>{if(typeof Z.value!=="string")return Z.issues.push({input:Z.value,inst:Y,expected:"string",code:"invalid_type"}),Z;if(Y._zod.pattern.lastIndex=0,!Y._zod.pattern.test(Z.value))return Z.issues.push({input:Z.value,inst:Y,code:"invalid_format",format:J.format??"template_literal",pattern:Y._zod.pattern.source}),Z;return Z}}),sh=s("$ZodFunction",(Y,J)=>{return I0.init(Y,J),Y._def=J,Y._zod.def=J,Y.implement=(X)=>{if(typeof X!=="function")throw Error("implement() must be called with a function");return function(...Z){let W=Y._def.input?SL(Y._def.input,Z):Z,$=Reflect.apply(X,this,W);if(Y._def.output)return SL(Y._def.output,$);return $}},Y.implementAsync=(X)=>{if(typeof X!=="function")throw Error("implementAsync() must be called with a function");return async function(...Z){let W=Y._def.input?await CL(Y._def.input,Z):Z,$=await Reflect.apply(X,this,W);if(Y._def.output)return await CL(Y._def.output,$);return $}},Y._zod.parse=(X,Z)=>{if(typeof X.value!=="function")return X.issues.push({code:"invalid_type",expected:"function",input:X.value,inst:Y}),X;if(Y._def.output&&Y._def.output._zod.def.type==="promise")X.value=Y.implementAsync(X.value);else X.value=Y.implement(X.value);return X},Y.input=(...X)=>{let Z=Y.constructor;if(Array.isArray(X[0]))return new Z({type:"function",input:new sL({type:"tuple",items:X[0],rest:X[1]}),output:Y._def.output});return new Z({type:"function",input:X[0],output:Y._def.output})},Y.output=(X)=>{return new Y.constructor({type:"function",input:Y._def.input,output:X})},Y}),th=s("$ZodPromise",(Y,J)=>{I0.init(Y,J),Y._zod.parse=(X,Z)=>{return Promise.resolve(X.value).then((W)=>J.innerType._zod.run({value:W,issues:[]},Z))}}),eh=s("$ZodLazy",(Y,J)=>{I0.init(Y,J),N0(Y._zod,"innerType",()=>J.getter()),N0(Y._zod,"pattern",()=>Y._zod.innerType?._zod?.pattern),N0(Y._zod,"propValues",()=>Y._zod.innerType?._zod?.propValues),N0(Y._zod,"optin",()=>Y._zod.innerType?._zod?.optin??void 0),N0(Y._zod,"optout",()=>Y._zod.innerType?._zod?.optout??void 0),Y._zod.parse=(X,Z)=>{return Y._zod.innerType._zod.run(X,Z)}}),Yb=s("$ZodCustom",(Y,J)=>{y4.init(Y,J),I0.init(Y,J),Y._zod.parse=(X,Z)=>{return X},Y._zod.check=(X)=>{let Z=X.value,W=J.fn(Z);if(W instanceof Promise)return W.then(($)=>dX1($,X,Z,Y));dX1(W,X,Z,Y);return}})});function Xb(){return{localeError:mc0()}}var mc0=()=>{let Y={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function J(W){return Y[W]??null}let X={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"},Z={nan:"NaN"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 instanceof ${W.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${Q}`;return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${$}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${Q}`}case"invalid_value":if(W.values.length===1)return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${I1(W.values[0])}`;return`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${W.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${$} ${W.maximum.toString()} ${G.unit??"\u0639\u0646\u0635\u0631"}`;return`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${W.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${$} ${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${W.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${$} ${W.minimum.toString()} ${G.unit}`;return`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${W.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${$} ${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${W.prefix}"`;if($.format==="ends_with")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${$.suffix}"`;if($.format==="includes")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${$.includes}"`;if($.format==="regex")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${$.pattern}`;return`${X[$.format]??W.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${W.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${W.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${W.keys.length>1?"\u0629":""}: ${W1(W.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${W.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${W.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}};var oX1=w(()=>{o1()});function Zb(){return{localeError:dc0()}}var dc0=()=>{let Y={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function J(W){return Y[W]??null}let X={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},Z={nan:"NaN"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n instanceof ${W.expected}, daxil olan ${Q}`;return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${$}, daxil olan ${Q}`}case"invalid_value":if(W.values.length===1)return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${I1(W.values[0])}`;return`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${W.origin??"d\u0259y\u0259r"} ${$}${W.maximum.toString()} ${G.unit??"element"}`;return`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${W.origin??"d\u0259y\u0259r"} ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${W.origin} ${$}${W.minimum.toString()} ${G.unit}`;return`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${W.origin} ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Yanl\u0131\u015F m\u0259tn: "${$.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`;if($.format==="ends_with")return`Yanl\u0131\u015F m\u0259tn: "${$.suffix}" il\u0259 bitm\u0259lidir`;if($.format==="includes")return`Yanl\u0131\u015F m\u0259tn: "${$.includes}" daxil olmal\u0131d\u0131r`;if($.format==="regex")return`Yanl\u0131\u015F m\u0259tn: ${$.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`;return`Yanl\u0131\u015F ${X[$.format]??W.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${W.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${W.keys.length>1?"lar":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`${W.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${W.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}};var rX1=w(()=>{o1()});function aX1(Y,J,X,Z){let W=Math.abs(Y),$=W%10,G=W%100;if(G>=11&&G<=19)return Z;if($===1)return J;if($>=2&&$<=4)return X;return Z}function Wb(){return{localeError:cc0()}}var cc0=()=>{let Y={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function J(W){return Y[W]??null}let X={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"},Z={nan:"NaN",number:"\u043B\u0456\u043A",array:"\u043C\u0430\u0441\u0456\u045E"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F instanceof ${W.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${Q}`;return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${$}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${Q}`}case"invalid_value":if(W.values.length===1)return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${I1(W.values[0])}`;return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G){let Q=Number(W.maximum),U=aX1(Q,G.unit.one,G.unit.few,G.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${W.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${G.verb} ${$}${W.maximum.toString()} ${U}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${W.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G){let Q=Number(W.minimum),U=aX1(Q,G.unit.one,G.unit.few,G.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${W.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${G.verb} ${$}${W.minimum.toString()} ${U}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${W.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${$.prefix}"`;if($.format==="ends_with")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${$.suffix}"`;if($.format==="includes")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${$.includes}"`;if($.format==="regex")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${$.pattern}`;return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${X[$.format]??W.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${W.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${W.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${W1(W.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${W.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${W.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}};var sX1=w(()=>{o1()});function $b(){return{localeError:lc0()}}var lc0=()=>{let Y={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}};function J(W){return Y[W]??null}let X={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"},Z={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0438\u0432"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D instanceof ${W.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${Q}`;return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${$}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${Q}`}case"invalid_value":if(W.values.length===1)return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${I1(W.values[0])}`;return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${W.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${$}${W.maximum.toString()} ${G.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`;return`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${W.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${W.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${$}${W.minimum.toString()} ${G.unit}`;return`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${W.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${$.prefix}"`;if($.format==="ends_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${$.suffix}"`;if($.format==="includes")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${$.includes}"`;if($.format==="regex")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${$.pattern}`;let G="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";if($.format==="emoji")G="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E";if($.format==="datetime")G="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E";if($.format==="date")G="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430";if($.format==="time")G="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E";if($.format==="duration")G="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430";return`${G} ${X[$.format]??W.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${W.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${W.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${W.keys.length>1?"\u043E\u0432\u0435":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${W.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case"invalid_element":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${W.origin}`;default:return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}}};var tX1=w(()=>{o1()});function Gb(){return{localeError:pc0()}}var pc0=()=>{let Y={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function J(W){return Y[W]??null}let X={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},Z={nan:"NaN"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Tipus inv\xE0lid: s'esperava instanceof ${W.expected}, s'ha rebut ${Q}`;return`Tipus inv\xE0lid: s'esperava ${$}, s'ha rebut ${Q}`}case"invalid_value":if(W.values.length===1)return`Valor inv\xE0lid: s'esperava ${I1(W.values[0])}`;return`Opci\xF3 inv\xE0lida: s'esperava una de ${W1(W.values," o ")}`;case"too_big":{let $=W.inclusive?"com a m\xE0xim":"menys de",G=J(W.origin);if(G)return`Massa gran: s'esperava que ${W.origin??"el valor"} contingu\xE9s ${$} ${W.maximum.toString()} ${G.unit??"elements"}`;return`Massa gran: s'esperava que ${W.origin??"el valor"} fos ${$} ${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?"com a m\xEDnim":"m\xE9s de",G=J(W.origin);if(G)return`Massa petit: s'esperava que ${W.origin} contingu\xE9s ${$} ${W.minimum.toString()} ${G.unit}`;return`Massa petit: s'esperava que ${W.origin} fos ${$} ${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Format inv\xE0lid: ha de comen\xE7ar amb "${$.prefix}"`;if($.format==="ends_with")return`Format inv\xE0lid: ha d'acabar amb "${$.suffix}"`;if($.format==="includes")return`Format inv\xE0lid: ha d'incloure "${$.includes}"`;if($.format==="regex")return`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${$.pattern}`;return`Format inv\xE0lid per a ${X[$.format]??W.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${W.divisor}`;case"unrecognized_keys":return`Clau${W.keys.length>1?"s":""} no reconeguda${W.keys.length>1?"s":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${W.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${W.origin}`;default:return"Entrada inv\xE0lida"}}};var eX1=w(()=>{o1()});function Qb(){return{localeError:nc0()}}var nc0=()=>{let Y={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function J(W){return Y[W]??null}let X={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"},Z={nan:"NaN",number:"\u010D\xEDslo",string:"\u0159et\u011Bzec",function:"funkce",array:"pole"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no instanceof ${W.expected}, obdr\u017Eeno ${Q}`;return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${$}, obdr\u017Eeno ${Q}`}case"invalid_value":if(W.values.length===1)return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${I1(W.values[0])}`;return`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${W.origin??"hodnota"} mus\xED m\xEDt ${$}${W.maximum.toString()} ${G.unit??"prvk\u016F"}`;return`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${W.origin??"hodnota"} mus\xED b\xFDt ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${W.origin??"hodnota"} mus\xED m\xEDt ${$}${W.minimum.toString()} ${G.unit??"prvk\u016F"}`;return`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${W.origin??"hodnota"} mus\xED b\xFDt ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${$.prefix}"`;if($.format==="ends_with")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${$.suffix}"`;if($.format==="includes")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${$.includes}"`;if($.format==="regex")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${$.pattern}`;return`Neplatn\xFD form\xE1t ${X[$.format]??W.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${W.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${W1(W.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${W.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${W.origin}`;default:return"Neplatn\xFD vstup"}}};var Y31=w(()=>{o1()});function Ub(){return{localeError:ic0()}}var ic0=()=>{let Y={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function J(W){return Y[W]??null}let X={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},Z={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Ugyldigt input: forventede instanceof ${W.expected}, fik ${Q}`;return`Ugyldigt input: forventede ${$}, fik ${Q}`}case"invalid_value":if(W.values.length===1)return`Ugyldig v\xE6rdi: forventede ${I1(W.values[0])}`;return`Ugyldigt valg: forventede en af f\xF8lgende ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin),Q=Z[W.origin]??W.origin;if(G)return`For stor: forventede ${Q??"value"} ${G.verb} ${$} ${W.maximum.toString()} ${G.unit??"elementer"}`;return`For stor: forventede ${Q??"value"} havde ${$} ${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin),Q=Z[W.origin]??W.origin;if(G)return`For lille: forventede ${Q} ${G.verb} ${$} ${W.minimum.toString()} ${G.unit}`;return`For lille: forventede ${Q} havde ${$} ${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Ugyldig streng: skal starte med "${$.prefix}"`;if($.format==="ends_with")return`Ugyldig streng: skal ende med "${$.suffix}"`;if($.format==="includes")return`Ugyldig streng: skal indeholde "${$.includes}"`;if($.format==="regex")return`Ugyldig streng: skal matche m\xF8nsteret ${$.pattern}`;return`Ugyldig ${X[$.format]??W.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\xE6re deleligt med ${W.divisor}`;case"unrecognized_keys":return`${W.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${W1(W.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8gle i ${W.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xE6rdi i ${W.origin}`;default:return"Ugyldigt input"}}};var J31=w(()=>{o1()});function zb(){return{localeError:oc0()}}var oc0=()=>{let Y={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function J(W){return Y[W]??null}let X={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},Z={nan:"NaN",number:"Zahl",array:"Array"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Ung\xFCltige Eingabe: erwartet instanceof ${W.expected}, erhalten ${Q}`;return`Ung\xFCltige Eingabe: erwartet ${$}, erhalten ${Q}`}case"invalid_value":if(W.values.length===1)return`Ung\xFCltige Eingabe: erwartet ${I1(W.values[0])}`;return`Ung\xFCltige Option: erwartet eine von ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Zu gro\xDF: erwartet, dass ${W.origin??"Wert"} ${$}${W.maximum.toString()} ${G.unit??"Elemente"} hat`;return`Zu gro\xDF: erwartet, dass ${W.origin??"Wert"} ${$}${W.maximum.toString()} ist`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Zu klein: erwartet, dass ${W.origin} ${$}${W.minimum.toString()} ${G.unit} hat`;return`Zu klein: erwartet, dass ${W.origin} ${$}${W.minimum.toString()} ist`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Ung\xFCltiger String: muss mit "${$.prefix}" beginnen`;if($.format==="ends_with")return`Ung\xFCltiger String: muss mit "${$.suffix}" enden`;if($.format==="includes")return`Ung\xFCltiger String: muss "${$.includes}" enthalten`;if($.format==="regex")return`Ung\xFCltiger String: muss dem Muster ${$.pattern} entsprechen`;return`Ung\xFCltig: ${X[$.format]??W.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${W.divisor} sein`;case"unrecognized_keys":return`${W.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${W1(W.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${W.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${W.origin}`;default:return"Ung\xFCltige Eingabe"}}};var X31=w(()=>{o1()});function lq(){return{localeError:rc0()}}var rc0=()=>{let Y={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function J(W){return Y[W]??null}let X={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},Z={nan:"NaN"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;return`Invalid input: expected ${$}, received ${Q}`}case"invalid_value":if(W.values.length===1)return`Invalid input: expected ${I1(W.values[0])}`;return`Invalid option: expected one of ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Too big: expected ${W.origin??"value"} to have ${$}${W.maximum.toString()} ${G.unit??"elements"}`;return`Too big: expected ${W.origin??"value"} to be ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Too small: expected ${W.origin} to have ${$}${W.minimum.toString()} ${G.unit}`;return`Too small: expected ${W.origin} to be ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Invalid string: must start with "${$.prefix}"`;if($.format==="ends_with")return`Invalid string: must end with "${$.suffix}"`;if($.format==="includes")return`Invalid string: must include "${$.includes}"`;if($.format==="regex")return`Invalid string: must match pattern ${$.pattern}`;return`Invalid ${X[$.format]??W.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${W.divisor}`;case"unrecognized_keys":return`Unrecognized key${W.keys.length>1?"s":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`Invalid key in ${W.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${W.origin}`;default:return"Invalid input"}}};var Hb=w(()=>{o1()});function Ob(){return{localeError:ac0()}}var ac0=()=>{let Y={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function J(W){return Y[W]??null}let X={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},Z={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Nevalida enigo: atendi\u011Dis instanceof ${W.expected}, ricevi\u011Dis ${Q}`;return`Nevalida enigo: atendi\u011Dis ${$}, ricevi\u011Dis ${Q}`}case"invalid_value":if(W.values.length===1)return`Nevalida enigo: atendi\u011Dis ${I1(W.values[0])}`;return`Nevalida opcio: atendi\u011Dis unu el ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Tro granda: atendi\u011Dis ke ${W.origin??"valoro"} havu ${$}${W.maximum.toString()} ${G.unit??"elementojn"}`;return`Tro granda: atendi\u011Dis ke ${W.origin??"valoro"} havu ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Tro malgranda: atendi\u011Dis ke ${W.origin} havu ${$}${W.minimum.toString()} ${G.unit}`;return`Tro malgranda: atendi\u011Dis ke ${W.origin} estu ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Nevalida karaktraro: devas komenci\u011Di per "${$.prefix}"`;if($.format==="ends_with")return`Nevalida karaktraro: devas fini\u011Di per "${$.suffix}"`;if($.format==="includes")return`Nevalida karaktraro: devas inkluzivi "${$.includes}"`;if($.format==="regex")return`Nevalida karaktraro: devas kongrui kun la modelo ${$.pattern}`;return`Nevalida ${X[$.format]??W.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${W.divisor}`;case"unrecognized_keys":return`Nekonata${W.keys.length>1?"j":""} \u015Dlosilo${W.keys.length>1?"j":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${W.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${W.origin}`;default:return"Nevalida enigo"}}};var Z31=w(()=>{o1()});function Kb(){return{localeError:sc0()}}var sc0=()=>{let Y={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function J(W){return Y[W]??null}let X={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},Z={nan:"NaN",string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Entrada inv\xE1lida: se esperaba instanceof ${W.expected}, recibido ${Q}`;return`Entrada inv\xE1lida: se esperaba ${$}, recibido ${Q}`}case"invalid_value":if(W.values.length===1)return`Entrada inv\xE1lida: se esperaba ${I1(W.values[0])}`;return`Opci\xF3n inv\xE1lida: se esperaba una de ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin),Q=Z[W.origin]??W.origin;if(G)return`Demasiado grande: se esperaba que ${Q??"valor"} tuviera ${$}${W.maximum.toString()} ${G.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${Q??"valor"} fuera ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin),Q=Z[W.origin]??W.origin;if(G)return`Demasiado peque\xF1o: se esperaba que ${Q} tuviera ${$}${W.minimum.toString()} ${G.unit}`;return`Demasiado peque\xF1o: se esperaba que ${Q} fuera ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Cadena inv\xE1lida: debe comenzar con "${$.prefix}"`;if($.format==="ends_with")return`Cadena inv\xE1lida: debe terminar en "${$.suffix}"`;if($.format==="includes")return`Cadena inv\xE1lida: debe incluir "${$.includes}"`;if($.format==="regex")return`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${$.pattern}`;return`Inv\xE1lido ${X[$.format]??W.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${W.divisor}`;case"unrecognized_keys":return`Llave${W.keys.length>1?"s":""} desconocida${W.keys.length>1?"s":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${Z[W.origin]??W.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${Z[W.origin]??W.origin}`;default:return"Entrada inv\xE1lida"}}};var W31=w(()=>{o1()});function Bb(){return{localeError:tc0()}}var tc0=()=>{let Y={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function J(W){return Y[W]??null}let X={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"},Z={nan:"NaN",number:"\u0639\u062F\u062F",array:"\u0622\u0631\u0627\u06CC\u0647"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A instanceof ${W.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${Q} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${$} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${Q} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`}case"invalid_value":if(W.values.length===1)return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${I1(W.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`;return`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${W1(W.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${W.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${$}${W.maximum.toString()} ${G.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`;return`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${W.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${$}${W.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${W.origin} \u0628\u0627\u06CC\u062F ${$}${W.minimum.toString()} ${G.unit} \u0628\u0627\u0634\u062F`;return`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${W.origin} \u0628\u0627\u06CC\u062F ${$}${W.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${$.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`;if($.format==="ends_with")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${$.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`;if($.format==="includes")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${$.includes}" \u0628\u0627\u0634\u062F`;if($.format==="regex")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${$.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`;return`${X[$.format]??W.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${W.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${W.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${W1(W.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${W.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${W.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}};var $31=w(()=>{o1()});function qb(){return{localeError:ec0()}}var ec0=()=>{let Y={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function J(W){return Y[W]??null}let X={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},Z={nan:"NaN"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Virheellinen tyyppi: odotettiin instanceof ${W.expected}, oli ${Q}`;return`Virheellinen tyyppi: odotettiin ${$}, oli ${Q}`}case"invalid_value":if(W.values.length===1)return`Virheellinen sy\xF6te: t\xE4ytyy olla ${I1(W.values[0])}`;return`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Liian suuri: ${G.subject} t\xE4ytyy olla ${$}${W.maximum.toString()} ${G.unit}`.trim();return`Liian suuri: arvon t\xE4ytyy olla ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Liian pieni: ${G.subject} t\xE4ytyy olla ${$}${W.minimum.toString()} ${G.unit}`.trim();return`Liian pieni: arvon t\xE4ytyy olla ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${$.prefix}"`;if($.format==="ends_with")return`Virheellinen sy\xF6te: t\xE4ytyy loppua "${$.suffix}"`;if($.format==="includes")return`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${$.includes}"`;if($.format==="regex")return`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${$.pattern}`;return`Virheellinen ${X[$.format]??W.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${W.divisor} monikerta`;case"unrecognized_keys":return`${W.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${W1(W.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}};var G31=w(()=>{o1()});function Fb(){return{localeError:Yl0()}}var Yl0=()=>{let Y={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function J(W){return Y[W]??null}let X={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},Z={nan:"NaN",number:"nombre",array:"tableau"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Entr\xE9e invalide : instanceof ${W.expected} attendu, ${Q} re\xE7u`;return`Entr\xE9e invalide : ${$} attendu, ${Q} re\xE7u`}case"invalid_value":if(W.values.length===1)return`Entr\xE9e invalide : ${I1(W.values[0])} attendu`;return`Option invalide : une valeur parmi ${W1(W.values,"|")} attendue`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Trop grand : ${W.origin??"valeur"} doit ${G.verb} ${$}${W.maximum.toString()} ${G.unit??"\xE9l\xE9ment(s)"}`;return`Trop grand : ${W.origin??"valeur"} doit \xEAtre ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Trop petit : ${W.origin} doit ${G.verb} ${$}${W.minimum.toString()} ${G.unit}`;return`Trop petit : ${W.origin} doit \xEAtre ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Cha\xEEne invalide : doit commencer par "${$.prefix}"`;if($.format==="ends_with")return`Cha\xEEne invalide : doit se terminer par "${$.suffix}"`;if($.format==="includes")return`Cha\xEEne invalide : doit inclure "${$.includes}"`;if($.format==="regex")return`Cha\xEEne invalide : doit correspondre au mod\xE8le ${$.pattern}`;return`${X[$.format]??W.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${W.divisor}`;case"unrecognized_keys":return`Cl\xE9${W.keys.length>1?"s":""} non reconnue${W.keys.length>1?"s":""} : ${W1(W.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${W.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${W.origin}`;default:return"Entr\xE9e invalide"}}};var Q31=w(()=>{o1()});function Vb(){return{localeError:Jl0()}}var Jl0=()=>{let Y={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function J(W){return Y[W]??null}let X={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},Z={nan:"NaN"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Entr\xE9e invalide : attendu instanceof ${W.expected}, re\xE7u ${Q}`;return`Entr\xE9e invalide : attendu ${$}, re\xE7u ${Q}`}case"invalid_value":if(W.values.length===1)return`Entr\xE9e invalide : attendu ${I1(W.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"\u2264":"<",G=J(W.origin);if(G)return`Trop grand : attendu que ${W.origin??"la valeur"} ait ${$}${W.maximum.toString()} ${G.unit}`;return`Trop grand : attendu que ${W.origin??"la valeur"} soit ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?"\u2265":">",G=J(W.origin);if(G)return`Trop petit : attendu que ${W.origin} ait ${$}${W.minimum.toString()} ${G.unit}`;return`Trop petit : attendu que ${W.origin} soit ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Cha\xEEne invalide : doit commencer par "${$.prefix}"`;if($.format==="ends_with")return`Cha\xEEne invalide : doit se terminer par "${$.suffix}"`;if($.format==="includes")return`Cha\xEEne invalide : doit inclure "${$.includes}"`;if($.format==="regex")return`Cha\xEEne invalide : doit correspondre au motif ${$.pattern}`;return`${X[$.format]??W.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${W.divisor}`;case"unrecognized_keys":return`Cl\xE9${W.keys.length>1?"s":""} non reconnue${W.keys.length>1?"s":""} : ${W1(W.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${W.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${W.origin}`;default:return"Entr\xE9e invalide"}}};var U31=w(()=>{o1()});function Ib(){return{localeError:Xl0()}}var Xl0=()=>{let Y={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},J={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},X=(z)=>z?Y[z]:void 0,Z=(z)=>{let H=X(z);if(H)return H.label;return z??Y.unknown.label},W=(z)=>`\u05D4${Z(z)}`,$=(z)=>{return(X(z)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA"},G=(z)=>{if(!z)return null;return J[z]??null},Q={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}},U={nan:"NaN"};return(z)=>{switch(z.code){case"invalid_type":{let H=z.expected,O=U[H??""]??Z(H),K=D1(z.input),B=U[K]??Y[K]?.label??K;if(/^[A-Z]/.test(z.expected))return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA instanceof ${z.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${B}`;return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${O}, \u05D4\u05EA\u05E7\u05D1\u05DC ${B}`}case"invalid_value":{if(z.values.length===1)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${I1(z.values[0])}`;let H=z.values.map((B)=>I1(B));if(z.values.length===2)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${H[0]} \u05D0\u05D5 ${H[1]}`;let O=H[H.length-1];return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${H.slice(0,-1).join(", ")} \u05D0\u05D5 ${O}`}case"too_big":{let H=G(z.origin),O=W(z.origin??"value");if(z.origin==="string")return`${H?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${O} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${z.maximum.toString()} ${H?.unit??""} ${z.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(z.origin==="number"){let F=z.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${z.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${z.maximum}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${O} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${F}`}if(z.origin==="array"||z.origin==="set"){let F=z.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",V=z.inclusive?`${z.maximum} ${H?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${z.maximum} ${H?.unit??""}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${O} ${F} \u05DC\u05D4\u05DB\u05D9\u05DC ${V}`.trim()}let K=z.inclusive?"<=":"<",B=$(z.origin??"value");if(H?.unit)return`${H.longLabel} \u05DE\u05D3\u05D9: ${O} ${B} ${K}${z.maximum.toString()} ${H.unit}`;return`${H?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${O} ${B} ${K}${z.maximum.toString()}`}case"too_small":{let H=G(z.origin),O=W(z.origin??"value");if(z.origin==="string")return`${H?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${O} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${z.minimum.toString()} ${H?.unit??""} ${z.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(z.origin==="number"){let F=z.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${z.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${z.minimum}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${O} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${F}`}if(z.origin==="array"||z.origin==="set"){let F=z.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(z.minimum===1&&z.inclusive){let I=z.origin==="set"?"\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3":"\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3";return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${O} ${F} \u05DC\u05D4\u05DB\u05D9\u05DC ${I}`}let V=z.inclusive?`${z.minimum} ${H?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${z.minimum} ${H?.unit??""}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${O} ${F} \u05DC\u05D4\u05DB\u05D9\u05DC ${V}`.trim()}let K=z.inclusive?">=":">",B=$(z.origin??"value");if(H?.unit)return`${H.shortLabel} \u05DE\u05D3\u05D9: ${O} ${B} ${K}${z.minimum.toString()} ${H.unit}`;return`${H?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${O} ${B} ${K}${z.minimum.toString()}`}case"invalid_format":{let H=z;if(H.format==="starts_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${H.prefix}"`;if(H.format==="ends_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${H.suffix}"`;if(H.format==="includes")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${H.includes}"`;if(H.format==="regex")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${H.pattern}`;let O=Q[H.format],K=O?.label??H.format,F=(O?.gender??"m")==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF";return`${K} \u05DC\u05D0 ${F}`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${z.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${z.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${z.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${W1(z.keys,", ")}`;case"invalid_key":return"\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${W(z.origin??"array")}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}};var z31=w(()=>{o1()});function Db(){return{localeError:Zl0()}}var Zl0=()=>{let Y={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function J(W){return Y[W]??null}let X={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"},Z={nan:"NaN",number:"sz\xE1m",array:"t\xF6mb"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k instanceof ${W.expected}, a kapott \xE9rt\xE9k ${Q}`;return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${$}, a kapott \xE9rt\xE9k ${Q}`}case"invalid_value":if(W.values.length===1)return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${I1(W.values[0])}`;return`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`T\xFAl nagy: ${W.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${$}${W.maximum.toString()} ${G.unit??"elem"}`;return`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${W.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${W.origin} m\xE9rete t\xFAl kicsi ${$}${W.minimum.toString()} ${G.unit}`;return`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${W.origin} t\xFAl kicsi ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\xC9rv\xE9nytelen string: "${$.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`;if($.format==="ends_with")return`\xC9rv\xE9nytelen string: "${$.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`;if($.format==="includes")return`\xC9rv\xE9nytelen string: "${$.includes}" \xE9rt\xE9ket kell tartalmaznia`;if($.format==="regex")return`\xC9rv\xE9nytelen string: ${$.pattern} mint\xE1nak kell megfelelnie`;return`\xC9rv\xE9nytelen ${X[$.format]??W.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${W.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${W.keys.length>1?"s":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${W.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${W.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}};var H31=w(()=>{o1()});function O31(Y,J,X){return Math.abs(Y)===1?J:X}function cz(Y){if(!Y)return"";let J=["\u0561","\u0565","\u0568","\u056B","\u0578","\u0578\u0582","\u0585"],X=Y[Y.length-1];return Y+(J.includes(X)?"\u0576":"\u0568")}function wb(){return{localeError:Wl0()}}var Wl0=()=>{let Y={string:{unit:{one:"\u0576\u0577\u0561\u0576",many:"\u0576\u0577\u0561\u0576\u0576\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},file:{unit:{one:"\u0562\u0561\u0575\u0569",many:"\u0562\u0561\u0575\u0569\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},array:{unit:{one:"\u057F\u0561\u0580\u0580",many:"\u057F\u0561\u0580\u0580\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},set:{unit:{one:"\u057F\u0561\u0580\u0580",many:"\u057F\u0561\u0580\u0580\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"}};function J(W){return Y[W]??null}let X={regex:"\u0574\u0578\u0582\u057F\u0584",email:"\u0567\u056C. \u0570\u0561\u057D\u0581\u0565",url:"URL",emoji:"\u0567\u0574\u0578\u057B\u056B",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0561\u0574\u057D\u0561\u0569\u056B\u057E \u0587 \u056A\u0561\u0574",date:"ISO \u0561\u0574\u057D\u0561\u0569\u056B\u057E",time:"ISO \u056A\u0561\u0574",duration:"ISO \u057F\u0587\u0578\u0572\u0578\u0582\u0569\u0575\u0578\u0582\u0576",ipv4:"IPv4 \u0570\u0561\u057D\u0581\u0565",ipv6:"IPv6 \u0570\u0561\u057D\u0581\u0565",cidrv4:"IPv4 \u0574\u056B\u057B\u0561\u056F\u0561\u0575\u0584",cidrv6:"IPv6 \u0574\u056B\u057B\u0561\u056F\u0561\u0575\u0584",base64:"base64 \u0571\u0587\u0561\u0579\u0561\u0583\u0578\u057E \u057F\u0578\u0572",base64url:"base64url \u0571\u0587\u0561\u0579\u0561\u0583\u0578\u057E \u057F\u0578\u0572",json_string:"JSON \u057F\u0578\u0572",e164:"E.164 \u0570\u0561\u0574\u0561\u0580",jwt:"JWT",template_literal:"\u0574\u0578\u0582\u057F\u0584"},Z={nan:"NaN",number:"\u0569\u056B\u057E",array:"\u0566\u0561\u0576\u0563\u057E\u0561\u056E"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 instanceof ${W.expected}, \u057D\u057F\u0561\u0581\u057E\u0565\u056C \u0567 ${Q}`;return`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 ${$}, \u057D\u057F\u0561\u0581\u057E\u0565\u056C \u0567 ${Q}`}case"invalid_value":if(W.values.length===1)return`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 ${I1(W.values[1])}`;return`\u054D\u056D\u0561\u056C \u057F\u0561\u0580\u0562\u0565\u0580\u0561\u056F\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 \u0570\u0565\u057F\u0587\u0575\u0561\u056C\u0576\u0565\u0580\u056B\u0581 \u0574\u0565\u056F\u0568\u055D ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G){let Q=Number(W.maximum),U=O31(Q,G.unit.one,G.unit.many);return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0574\u0565\u056E \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${cz(W.origin??"\u0561\u0580\u056A\u0565\u0584")} \u056F\u0578\u0582\u0576\u0565\u0576\u0561 ${$}${W.maximum.toString()} ${U}`}return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0574\u0565\u056E \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${cz(W.origin??"\u0561\u0580\u056A\u0565\u0584")} \u056C\u056B\u0576\u056B ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G){let Q=Number(W.minimum),U=O31(Q,G.unit.one,G.unit.many);return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0583\u0578\u0584\u0580 \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${cz(W.origin)} \u056F\u0578\u0582\u0576\u0565\u0576\u0561 ${$}${W.minimum.toString()} ${U}`}return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0583\u0578\u0584\u0580 \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${cz(W.origin)} \u056C\u056B\u0576\u056B ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u057D\u056F\u057D\u057E\u056B "${$.prefix}"-\u0578\u057E`;if($.format==="ends_with")return`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0561\u057E\u0561\u0580\u057F\u057E\u056B "${$.suffix}"-\u0578\u057E`;if($.format==="includes")return`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u057A\u0561\u0580\u0578\u0582\u0576\u0561\u056F\u056B "${$.includes}"`;if($.format==="regex")return`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0570\u0561\u0574\u0561\u057A\u0561\u057F\u0561\u057D\u056D\u0561\u0576\u056B ${$.pattern} \u0571\u0587\u0561\u0579\u0561\u0583\u056B\u0576`;return`\u054D\u056D\u0561\u056C ${X[$.format]??W.format}`}case"not_multiple_of":return`\u054D\u056D\u0561\u056C \u0569\u056B\u057E\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0562\u0561\u0566\u0574\u0561\u057A\u0561\u057F\u056B\u056F \u056C\u056B\u0576\u056B ${W.divisor}-\u056B`;case"unrecognized_keys":return`\u0549\u0573\u0561\u0576\u0561\u0579\u057E\u0561\u056E \u0562\u0561\u0576\u0561\u056C\u056B${W.keys.length>1?"\u0576\u0565\u0580":""}. ${W1(W.keys,", ")}`;case"invalid_key":return`\u054D\u056D\u0561\u056C \u0562\u0561\u0576\u0561\u056C\u056B ${cz(W.origin)}-\u0578\u0582\u0574`;case"invalid_union":return"\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574";case"invalid_element":return`\u054D\u056D\u0561\u056C \u0561\u0580\u056A\u0565\u0584 ${cz(W.origin)}-\u0578\u0582\u0574`;default:return"\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574"}}};var K31=w(()=>{o1()});function Ab(){return{localeError:$l0()}}var $l0=()=>{let Y={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function J(W){return Y[W]??null}let X={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},Z={nan:"NaN"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Input tidak valid: diharapkan instanceof ${W.expected}, diterima ${Q}`;return`Input tidak valid: diharapkan ${$}, diterima ${Q}`}case"invalid_value":if(W.values.length===1)return`Input tidak valid: diharapkan ${I1(W.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Terlalu besar: diharapkan ${W.origin??"value"} memiliki ${$}${W.maximum.toString()} ${G.unit??"elemen"}`;return`Terlalu besar: diharapkan ${W.origin??"value"} menjadi ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Terlalu kecil: diharapkan ${W.origin} memiliki ${$}${W.minimum.toString()} ${G.unit}`;return`Terlalu kecil: diharapkan ${W.origin} menjadi ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`String tidak valid: harus dimulai dengan "${$.prefix}"`;if($.format==="ends_with")return`String tidak valid: harus berakhir dengan "${$.suffix}"`;if($.format==="includes")return`String tidak valid: harus menyertakan "${$.includes}"`;if($.format==="regex")return`String tidak valid: harus sesuai pola ${$.pattern}`;return`${X[$.format]??W.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${W.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${W.keys.length>1?"s":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${W.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${W.origin}`;default:return"Input tidak valid"}}};var B31=w(()=>{o1()});function Pb(){return{localeError:Gl0()}}var Gl0=()=>{let Y={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}};function J(W){return Y[W]??null}let X={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"},Z={nan:"NaN",number:"n\xFAmer",array:"fylki"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Rangt gildi: \xDE\xFA sl\xF3st inn ${Q} \xFEar sem \xE1 a\xF0 vera instanceof ${W.expected}`;return`Rangt gildi: \xDE\xFA sl\xF3st inn ${Q} \xFEar sem \xE1 a\xF0 vera ${$}`}case"invalid_value":if(W.values.length===1)return`Rangt gildi: gert r\xE1\xF0 fyrir ${I1(W.values[0])}`;return`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${W.origin??"gildi"} hafi ${$}${W.maximum.toString()} ${G.unit??"hluti"}`;return`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${W.origin??"gildi"} s\xE9 ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${W.origin} hafi ${$}${W.minimum.toString()} ${G.unit}`;return`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${W.origin} s\xE9 ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${$.prefix}"`;if($.format==="ends_with")return`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${$.suffix}"`;if($.format==="includes")return`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${$.includes}"`;if($.format==="regex")return`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${$.pattern}`;return`Rangt ${X[$.format]??W.format}`}case"not_multiple_of":return`R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${W.divisor}`;case"unrecognized_keys":return`\xD3\xFEekkt ${W.keys.length>1?"ir lyklar":"ur lykill"}: ${W1(W.keys,", ")}`;case"invalid_key":return`Rangur lykill \xED ${W.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi \xED ${W.origin}`;default:return"Rangt gildi"}}};var q31=w(()=>{o1()});function Lb(){return{localeError:Ql0()}}var Ql0=()=>{let Y={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function J(W){return Y[W]??null}let X={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},Z={nan:"NaN",number:"numero",array:"vettore"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Input non valido: atteso instanceof ${W.expected}, ricevuto ${Q}`;return`Input non valido: atteso ${$}, ricevuto ${Q}`}case"invalid_value":if(W.values.length===1)return`Input non valido: atteso ${I1(W.values[0])}`;return`Opzione non valida: atteso uno tra ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Troppo grande: ${W.origin??"valore"} deve avere ${$}${W.maximum.toString()} ${G.unit??"elementi"}`;return`Troppo grande: ${W.origin??"valore"} deve essere ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Troppo piccolo: ${W.origin} deve avere ${$}${W.minimum.toString()} ${G.unit}`;return`Troppo piccolo: ${W.origin} deve essere ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Stringa non valida: deve iniziare con "${$.prefix}"`;if($.format==="ends_with")return`Stringa non valida: deve terminare con "${$.suffix}"`;if($.format==="includes")return`Stringa non valida: deve includere "${$.includes}"`;if($.format==="regex")return`Stringa non valida: deve corrispondere al pattern ${$.pattern}`;return`Invalid ${X[$.format]??W.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${W.divisor}`;case"unrecognized_keys":return`Chiav${W.keys.length>1?"i":"e"} non riconosciut${W.keys.length>1?"e":"a"}: ${W1(W.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${W.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${W.origin}`;default:return"Input non valido"}}};var F31=w(()=>{o1()});function Mb(){return{localeError:Ul0()}}var Ul0=()=>{let Y={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function J(W){return Y[W]??null}let X={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"},Z={nan:"NaN",number:"\u6570\u5024",array:"\u914D\u5217"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u7121\u52B9\u306A\u5165\u529B: instanceof ${W.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${Q}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;return`\u7121\u52B9\u306A\u5165\u529B: ${$}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${Q}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`}case"invalid_value":if(W.values.length===1)return`\u7121\u52B9\u306A\u5165\u529B: ${I1(W.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`;return`\u7121\u52B9\u306A\u9078\u629E: ${W1(W.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let $=W.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",G=J(W.origin);if(G)return`\u5927\u304D\u3059\u304E\u308B\u5024: ${W.origin??"\u5024"}\u306F${W.maximum.toString()}${G.unit??"\u8981\u7D20"}${$}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;return`\u5927\u304D\u3059\u304E\u308B\u5024: ${W.origin??"\u5024"}\u306F${W.maximum.toString()}${$}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let $=W.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",G=J(W.origin);if(G)return`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${W.origin}\u306F${W.minimum.toString()}${G.unit}${$}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;return`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${W.origin}\u306F${W.minimum.toString()}${$}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${$.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;if($.format==="ends_with")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${$.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;if($.format==="includes")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${$.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;if($.format==="regex")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${$.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;return`\u7121\u52B9\u306A${X[$.format]??W.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${W.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${W.keys.length>1?"\u7FA4":""}: ${W1(W.keys,"\u3001")}`;case"invalid_key":return`${W.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${W.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}};var V31=w(()=>{o1()});function Eb(){return{localeError:zl0()}}var zl0=()=>{let Y={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}};function J(W){return Y[W]??null}let X={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"},Z={nan:"NaN",number:"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8",string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0",array:"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 instanceof ${W.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${Q}`;return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${$}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${Q}`}case"invalid_value":if(W.values.length===1)return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${I1(W.values[0])}`;return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${W1(W.values,"|")}-\u10D3\u10D0\u10DC`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${W.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${G.verb} ${$}${W.maximum.toString()} ${G.unit}`;return`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${W.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${W.origin} ${G.verb} ${$}${W.minimum.toString()} ${G.unit}`;return`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${W.origin} \u10D8\u10E7\u10DD\u10E1 ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${$.prefix}"-\u10D8\u10D7`;if($.format==="ends_with")return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${$.suffix}"-\u10D8\u10D7`;if($.format==="includes")return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${$.includes}"-\u10E1`;if($.format==="regex")return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${$.pattern}`;return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${X[$.format]??W.format}`}case"not_multiple_of":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${W.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case"unrecognized_keys":return`\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${W.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${W1(W.keys,", ")}`;case"invalid_key":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${W.origin}-\u10E8\u10D8`;case"invalid_union":return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case"invalid_element":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${W.origin}-\u10E8\u10D8`;default:return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}}};var I31=w(()=>{o1()});function pq(){return{localeError:Hl0()}}var Hl0=()=>{let Y={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function J(W){return Y[W]??null}let X={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"},Z={nan:"NaN",number:"\u179B\u17C1\u1781",array:"\u17A2\u17B6\u179A\u17C1 (Array)",null:"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A instanceof ${W.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${Q}`;return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${$} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${Q}`}case"invalid_value":if(W.values.length===1)return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${I1(W.values[0])}`;return`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${W.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${$} ${W.maximum.toString()} ${G.unit??"\u1792\u17B6\u178F\u17BB"}`;return`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${W.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${$} ${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${W.origin} ${$} ${W.minimum.toString()} ${G.unit}`;return`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${W.origin} ${$} ${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${$.prefix}"`;if($.format==="ends_with")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${$.suffix}"`;if($.format==="includes")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${$.includes}"`;if($.format==="regex")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${$.pattern}`;return`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${X[$.format]??W.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${W.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${W1(W.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${W.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${W.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}};var Tb=w(()=>{o1()});function Rb(){return pq()}var D31=w(()=>{Tb()});function Nb(){return{localeError:Ol0()}}var Ol0=()=>{let Y={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function J(W){return Y[W]??null}let X={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"},Z={nan:"NaN"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 instanceof ${W.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${Q}\uC785\uB2C8\uB2E4`;return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${$}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${Q}\uC785\uB2C8\uB2E4`}case"invalid_value":if(W.values.length===1)return`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${I1(W.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`;return`\uC798\uBABB\uB41C \uC635\uC158: ${W1(W.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let $=W.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",G=$==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",Q=J(W.origin),U=Q?.unit??"\uC694\uC18C";if(Q)return`${W.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${W.maximum.toString()}${U} ${$}${G}`;return`${W.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${W.maximum.toString()} ${$}${G}`}case"too_small":{let $=W.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",G=$==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",Q=J(W.origin),U=Q?.unit??"\uC694\uC18C";if(Q)return`${W.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${W.minimum.toString()}${U} ${$}${G}`;return`${W.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${W.minimum.toString()} ${$}${G}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${$.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`;if($.format==="ends_with")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${$.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`;if($.format==="includes")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${$.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`;if($.format==="regex")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${$.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`;return`\uC798\uBABB\uB41C ${X[$.format]??W.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${W.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${W1(W.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${W.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${W.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}};var w31=w(()=>{o1()});function A31(Y){let J=Math.abs(Y),X=J%10,Z=J%100;if(Z>=11&&Z<=19||X===0)return"many";if(X===1)return"one";return"few"}function Sb(){return{localeError:Kl0()}}var nq=(Y)=>{return Y.charAt(0).toUpperCase()+Y.slice(1)},Kl0=()=>{let Y={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function J(W,$,G,Q){let U=Y[W]??null;if(U===null)return U;return{unit:U.unit[$],verb:U.verb[Q][G?"inclusive":"notInclusive"]}}let X={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"},Z={nan:"NaN",number:"skai\u010Dius",bigint:"sveikasis skai\u010Dius",string:"eilut\u0117",boolean:"login\u0117 reik\u0161m\u0117",undefined:"neapibr\u0117\u017Eta reik\u0161m\u0117",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin\u0117 reik\u0161m\u0117"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Gautas tipas ${Q}, o tik\u0117tasi - instanceof ${W.expected}`;return`Gautas tipas ${Q}, o tik\u0117tasi - ${$}`}case"invalid_value":if(W.values.length===1)return`Privalo b\u016Bti ${I1(W.values[0])}`;return`Privalo b\u016Bti vienas i\u0161 ${W1(W.values,"|")} pasirinkim\u0173`;case"too_big":{let $=Z[W.origin]??W.origin,G=J(W.origin,A31(Number(W.maximum)),W.inclusive??!1,"smaller");if(G?.verb)return`${nq($??W.origin??"reik\u0161m\u0117")} ${G.verb} ${W.maximum.toString()} ${G.unit??"element\u0173"}`;let Q=W.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return`${nq($??W.origin??"reik\u0161m\u0117")} turi b\u016Bti ${Q} ${W.maximum.toString()} ${G?.unit}`}case"too_small":{let $=Z[W.origin]??W.origin,G=J(W.origin,A31(Number(W.minimum)),W.inclusive??!1,"bigger");if(G?.verb)return`${nq($??W.origin??"reik\u0161m\u0117")} ${G.verb} ${W.minimum.toString()} ${G.unit??"element\u0173"}`;let Q=W.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return`${nq($??W.origin??"reik\u0161m\u0117")} turi b\u016Bti ${Q} ${W.minimum.toString()} ${G?.unit}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Eilut\u0117 privalo prasid\u0117ti "${$.prefix}"`;if($.format==="ends_with")return`Eilut\u0117 privalo pasibaigti "${$.suffix}"`;if($.format==="includes")return`Eilut\u0117 privalo \u012Ftraukti "${$.includes}"`;if($.format==="regex")return`Eilut\u0117 privalo atitikti ${$.pattern}`;return`Neteisingas ${X[$.format]??W.format}`}case"not_multiple_of":return`Skai\u010Dius privalo b\u016Bti ${W.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpa\u017Eint${W.keys.length>1?"i":"as"} rakt${W.keys.length>1?"ai":"as"}: ${W1(W.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga \u012Fvestis";case"invalid_element":{let $=Z[W.origin]??W.origin;return`${nq($??W.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}default:return"Klaidinga \u012Fvestis"}}};var P31=w(()=>{o1()});function Cb(){return{localeError:Bl0()}}var Bl0=()=>{let Y={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function J(W){return Y[W]??null}let X={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"},Z={nan:"NaN",number:"\u0431\u0440\u043E\u0458",array:"\u043D\u0438\u0437\u0430"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 instanceof ${W.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${Q}`;return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${$}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${Q}`}case"invalid_value":if(W.values.length===1)return`Invalid input: expected ${I1(W.values[0])}`;return`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${W.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${$}${W.maximum.toString()} ${G.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`;return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${W.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${W.origin} \u0434\u0430 \u0438\u043C\u0430 ${$}${W.minimum.toString()} ${G.unit}`;return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${W.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${$.prefix}"`;if($.format==="ends_with")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${$.suffix}"`;if($.format==="includes")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${$.includes}"`;if($.format==="regex")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${$.pattern}`;return`Invalid ${X[$.format]??W.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${W.divisor}`;case"unrecognized_keys":return`${W.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${W1(W.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${W.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${W.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}};var L31=w(()=>{o1()});function jb(){return{localeError:ql0()}}var ql0=()=>{let Y={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function J(W){return Y[W]??null}let X={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},Z={nan:"NaN",number:"nombor"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Input tidak sah: dijangka instanceof ${W.expected}, diterima ${Q}`;return`Input tidak sah: dijangka ${$}, diterima ${Q}`}case"invalid_value":if(W.values.length===1)return`Input tidak sah: dijangka ${I1(W.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Terlalu besar: dijangka ${W.origin??"nilai"} ${G.verb} ${$}${W.maximum.toString()} ${G.unit??"elemen"}`;return`Terlalu besar: dijangka ${W.origin??"nilai"} adalah ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Terlalu kecil: dijangka ${W.origin} ${G.verb} ${$}${W.minimum.toString()} ${G.unit}`;return`Terlalu kecil: dijangka ${W.origin} adalah ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`String tidak sah: mesti bermula dengan "${$.prefix}"`;if($.format==="ends_with")return`String tidak sah: mesti berakhir dengan "${$.suffix}"`;if($.format==="includes")return`String tidak sah: mesti mengandungi "${$.includes}"`;if($.format==="regex")return`String tidak sah: mesti sepadan dengan corak ${$.pattern}`;return`${X[$.format]??W.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${W.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${W1(W.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${W.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${W.origin}`;default:return"Input tidak sah"}}};var M31=w(()=>{o1()});function kb(){return{localeError:Fl0()}}var Fl0=()=>{let Y={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function J(W){return Y[W]??null}let X={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},Z={nan:"NaN",number:"getal"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Ongeldige invoer: verwacht instanceof ${W.expected}, ontving ${Q}`;return`Ongeldige invoer: verwacht ${$}, ontving ${Q}`}case"invalid_value":if(W.values.length===1)return`Ongeldige invoer: verwacht ${I1(W.values[0])}`;return`Ongeldige optie: verwacht \xE9\xE9n van ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin),Q=W.origin==="date"?"laat":W.origin==="string"?"lang":"groot";if(G)return`Te ${Q}: verwacht dat ${W.origin??"waarde"} ${$}${W.maximum.toString()} ${G.unit??"elementen"} ${G.verb}`;return`Te ${Q}: verwacht dat ${W.origin??"waarde"} ${$}${W.maximum.toString()} is`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin),Q=W.origin==="date"?"vroeg":W.origin==="string"?"kort":"klein";if(G)return`Te ${Q}: verwacht dat ${W.origin} ${$}${W.minimum.toString()} ${G.unit} ${G.verb}`;return`Te ${Q}: verwacht dat ${W.origin} ${$}${W.minimum.toString()} is`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Ongeldige tekst: moet met "${$.prefix}" beginnen`;if($.format==="ends_with")return`Ongeldige tekst: moet op "${$.suffix}" eindigen`;if($.format==="includes")return`Ongeldige tekst: moet "${$.includes}" bevatten`;if($.format==="regex")return`Ongeldige tekst: moet overeenkomen met patroon ${$.pattern}`;return`Ongeldig: ${X[$.format]??W.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${W.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${W.keys.length>1?"s":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${W.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${W.origin}`;default:return"Ongeldige invoer"}}};var E31=w(()=>{o1()});function _b(){return{localeError:Vl0()}}var Vl0=()=>{let Y={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function J(W){return Y[W]??null}let X={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},Z={nan:"NaN",number:"tall",array:"liste"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Ugyldig input: forventet instanceof ${W.expected}, fikk ${Q}`;return`Ugyldig input: forventet ${$}, fikk ${Q}`}case"invalid_value":if(W.values.length===1)return`Ugyldig verdi: forventet ${I1(W.values[0])}`;return`Ugyldig valg: forventet en av ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`For stor(t): forventet ${W.origin??"value"} til \xE5 ha ${$}${W.maximum.toString()} ${G.unit??"elementer"}`;return`For stor(t): forventet ${W.origin??"value"} til \xE5 ha ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`For lite(n): forventet ${W.origin} til \xE5 ha ${$}${W.minimum.toString()} ${G.unit}`;return`For lite(n): forventet ${W.origin} til \xE5 ha ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Ugyldig streng: m\xE5 starte med "${$.prefix}"`;if($.format==="ends_with")return`Ugyldig streng: m\xE5 ende med "${$.suffix}"`;if($.format==="includes")return`Ugyldig streng: m\xE5 inneholde "${$.includes}"`;if($.format==="regex")return`Ugyldig streng: m\xE5 matche m\xF8nsteret ${$.pattern}`;return`Ugyldig ${X[$.format]??W.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${W.divisor}`;case"unrecognized_keys":return`${W.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${W1(W.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${W.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${W.origin}`;default:return"Ugyldig input"}}};var T31=w(()=>{o1()});function xb(){return{localeError:Il0()}}var Il0=()=>{let Y={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function J(W){return Y[W]??null}let X={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"},Z={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`F\xE2sit giren: umulan instanceof ${W.expected}, al\u0131nan ${Q}`;return`F\xE2sit giren: umulan ${$}, al\u0131nan ${Q}`}case"invalid_value":if(W.values.length===1)return`F\xE2sit giren: umulan ${I1(W.values[0])}`;return`F\xE2sit tercih: m\xFBteberler ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Fazla b\xFCy\xFCk: ${W.origin??"value"}, ${$}${W.maximum.toString()} ${G.unit??"elements"} sahip olmal\u0131yd\u0131.`;return`Fazla b\xFCy\xFCk: ${W.origin??"value"}, ${$}${W.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Fazla k\xFC\xE7\xFCk: ${W.origin}, ${$}${W.minimum.toString()} ${G.unit} sahip olmal\u0131yd\u0131.`;return`Fazla k\xFC\xE7\xFCk: ${W.origin}, ${$}${W.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let $=W;if($.format==="starts_with")return`F\xE2sit metin: "${$.prefix}" ile ba\u015Flamal\u0131.`;if($.format==="ends_with")return`F\xE2sit metin: "${$.suffix}" ile bitmeli.`;if($.format==="includes")return`F\xE2sit metin: "${$.includes}" ihtiv\xE2 etmeli.`;if($.format==="regex")return`F\xE2sit metin: ${$.pattern} nak\u015F\u0131na uymal\u0131.`;return`F\xE2sit ${X[$.format]??W.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${W.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${W.keys.length>1?"s":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`${W.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${W.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}};var R31=w(()=>{o1()});function fb(){return{localeError:Dl0()}}var Dl0=()=>{let Y={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function J(W){return Y[W]??null}let X={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"},Z={nan:"NaN",number:"\u0639\u062F\u062F",array:"\u0627\u0631\u06D0"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F instanceof ${W.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${Q} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${$} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${Q} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`}case"invalid_value":if(W.values.length===1)return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${I1(W.values[0])} \u0648\u0627\u06CC`;return`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${W1(W.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${W.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${$}${W.maximum.toString()} ${G.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`;return`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${W.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${$}${W.maximum.toString()} \u0648\u064A`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${W.origin} \u0628\u0627\u06CC\u062F ${$}${W.minimum.toString()} ${G.unit} \u0648\u0644\u0631\u064A`;return`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${W.origin} \u0628\u0627\u06CC\u062F ${$}${W.minimum.toString()} \u0648\u064A`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${$.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`;if($.format==="ends_with")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${$.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`;if($.format==="includes")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${$.includes}" \u0648\u0644\u0631\u064A`;if($.format==="regex")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${$.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`;return`${X[$.format]??W.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${W.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${W.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${W1(W.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${W.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${W.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}};var N31=w(()=>{o1()});function vb(){return{localeError:wl0()}}var wl0=()=>{let Y={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function J(W){return Y[W]??null}let X={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"},Z={nan:"NaN",number:"liczba",array:"tablica"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano instanceof ${W.expected}, otrzymano ${Q}`;return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${$}, otrzymano ${Q}`}case"invalid_value":if(W.values.length===1)return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${I1(W.values[0])}`;return`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${W.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${$}${W.maximum.toString()} ${G.unit??"element\xF3w"}`;return`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${W.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${W.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${$}${W.minimum.toString()} ${G.unit??"element\xF3w"}`;return`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${W.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${$.prefix}"`;if($.format==="ends_with")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${$.suffix}"`;if($.format==="includes")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${$.includes}"`;if($.format==="regex")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${$.pattern}`;return`Nieprawid\u0142ow(y/a/e) ${X[$.format]??W.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${W.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${W.keys.length>1?"s":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${W.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${W.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}};var S31=w(()=>{o1()});function hb(){return{localeError:Al0()}}var Al0=()=>{let Y={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function J(W){return Y[W]??null}let X={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},Z={nan:"NaN",number:"n\xFAmero",null:"nulo"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Tipo inv\xE1lido: esperado instanceof ${W.expected}, recebido ${Q}`;return`Tipo inv\xE1lido: esperado ${$}, recebido ${Q}`}case"invalid_value":if(W.values.length===1)return`Entrada inv\xE1lida: esperado ${I1(W.values[0])}`;return`Op\xE7\xE3o inv\xE1lida: esperada uma das ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Muito grande: esperado que ${W.origin??"valor"} tivesse ${$}${W.maximum.toString()} ${G.unit??"elementos"}`;return`Muito grande: esperado que ${W.origin??"valor"} fosse ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Muito pequeno: esperado que ${W.origin} tivesse ${$}${W.minimum.toString()} ${G.unit}`;return`Muito pequeno: esperado que ${W.origin} fosse ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Texto inv\xE1lido: deve come\xE7ar com "${$.prefix}"`;if($.format==="ends_with")return`Texto inv\xE1lido: deve terminar com "${$.suffix}"`;if($.format==="includes")return`Texto inv\xE1lido: deve incluir "${$.includes}"`;if($.format==="regex")return`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${$.pattern}`;return`${X[$.format]??W.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${W.divisor}`;case"unrecognized_keys":return`Chave${W.keys.length>1?"s":""} desconhecida${W.keys.length>1?"s":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${W.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${W.origin}`;default:return"Campo inv\xE1lido"}}};var C31=w(()=>{o1()});function j31(Y,J,X,Z){let W=Math.abs(Y),$=W%10,G=W%100;if(G>=11&&G<=19)return Z;if($===1)return J;if($>=2&&$<=4)return X;return Z}function bb(){return{localeError:Pl0()}}var Pl0=()=>{let Y={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function J(W){return Y[W]??null}let X={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"},Z={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0441\u0438\u0432"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C instanceof ${W.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${Q}`;return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${$}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${Q}`}case"invalid_value":if(W.values.length===1)return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${I1(W.values[0])}`;return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G){let Q=Number(W.maximum),U=j31(Q,G.unit.one,G.unit.few,G.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${W.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${$}${W.maximum.toString()} ${U}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${W.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G){let Q=Number(W.minimum),U=j31(Q,G.unit.one,G.unit.few,G.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${W.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${$}${W.minimum.toString()} ${U}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${W.origin} \u0431\u0443\u0434\u0435\u0442 ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${$.prefix}"`;if($.format==="ends_with")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${$.suffix}"`;if($.format==="includes")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${$.includes}"`;if($.format==="regex")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${$.pattern}`;return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${X[$.format]??W.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${W.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${W.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${W.keys.length>1?"\u0438":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${W.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${W.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}};var k31=w(()=>{o1()});function yb(){return{localeError:Ll0()}}var Ll0=()=>{let Y={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function J(W){return Y[W]??null}let X={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"},Z={nan:"NaN",number:"\u0161tevilo",array:"tabela"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Neveljaven vnos: pri\u010Dakovano instanceof ${W.expected}, prejeto ${Q}`;return`Neveljaven vnos: pri\u010Dakovano ${$}, prejeto ${Q}`}case"invalid_value":if(W.values.length===1)return`Neveljaven vnos: pri\u010Dakovano ${I1(W.values[0])}`;return`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Preveliko: pri\u010Dakovano, da bo ${W.origin??"vrednost"} imelo ${$}${W.maximum.toString()} ${G.unit??"elementov"}`;return`Preveliko: pri\u010Dakovano, da bo ${W.origin??"vrednost"} ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Premajhno: pri\u010Dakovano, da bo ${W.origin} imelo ${$}${W.minimum.toString()} ${G.unit}`;return`Premajhno: pri\u010Dakovano, da bo ${W.origin} ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Neveljaven niz: mora se za\u010Deti z "${$.prefix}"`;if($.format==="ends_with")return`Neveljaven niz: mora se kon\u010Dati z "${$.suffix}"`;if($.format==="includes")return`Neveljaven niz: mora vsebovati "${$.includes}"`;if($.format==="regex")return`Neveljaven niz: mora ustrezati vzorcu ${$.pattern}`;return`Neveljaven ${X[$.format]??W.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${W.divisor}`;case"unrecognized_keys":return`Neprepoznan${W.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${W1(W.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${W.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${W.origin}`;default:return"Neveljaven vnos"}}};var _31=w(()=>{o1()});function gb(){return{localeError:Ml0()}}var Ml0=()=>{let Y={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function J(W){return Y[W]??null}let X={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},Z={nan:"NaN",number:"antal",array:"lista"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Ogiltig inmatning: f\xF6rv\xE4ntat instanceof ${W.expected}, fick ${Q}`;return`Ogiltig inmatning: f\xF6rv\xE4ntat ${$}, fick ${Q}`}case"invalid_value":if(W.values.length===1)return`Ogiltig inmatning: f\xF6rv\xE4ntat ${I1(W.values[0])}`;return`Ogiltigt val: f\xF6rv\xE4ntade en av ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`F\xF6r stor(t): f\xF6rv\xE4ntade ${W.origin??"v\xE4rdet"} att ha ${$}${W.maximum.toString()} ${G.unit??"element"}`;return`F\xF6r stor(t): f\xF6rv\xE4ntat ${W.origin??"v\xE4rdet"} att ha ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`F\xF6r lite(t): f\xF6rv\xE4ntade ${W.origin??"v\xE4rdet"} att ha ${$}${W.minimum.toString()} ${G.unit}`;return`F\xF6r lite(t): f\xF6rv\xE4ntade ${W.origin??"v\xE4rdet"} att ha ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${$.prefix}"`;if($.format==="ends_with")return`Ogiltig str\xE4ng: m\xE5ste sluta med "${$.suffix}"`;if($.format==="includes")return`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${$.includes}"`;if($.format==="regex")return`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${$.pattern}"`;return`Ogiltig(t) ${X[$.format]??W.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${W.divisor}`;case"unrecognized_keys":return`${W.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${W1(W.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${W.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${W.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}};var x31=w(()=>{o1()});function ub(){return{localeError:El0()}}var El0=()=>{let Y={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function J(W){return Y[W]??null}let X={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"},Z={nan:"NaN",number:"\u0B8E\u0BA3\u0BCD",array:"\u0B85\u0BA3\u0BBF",null:"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 instanceof ${W.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${Q}`;return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${$}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${Q}`}case"invalid_value":if(W.values.length===1)return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${I1(W.values[0])}`;return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${W1(W.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${W.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${$}${W.maximum.toString()} ${G.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;return`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${W.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${$}${W.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${W.origin} ${$}${W.minimum.toString()} ${G.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;return`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${W.origin} ${$}${W.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${$.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;if($.format==="ends_with")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${$.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;if($.format==="includes")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${$.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;if($.format==="regex")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${$.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${X[$.format]??W.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${W.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${W.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`${W.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${W.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}};var f31=w(()=>{o1()});function mb(){return{localeError:Tl0()}}var Tl0=()=>{let Y={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function J(W){return Y[W]??null}let X={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"},Z={nan:"NaN",number:"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02",array:"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)",null:"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 instanceof ${W.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${Q}`;return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${$} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${Q}`}case"invalid_value":if(W.values.length===1)return`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${I1(W.values[0])}`;return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",G=J(W.origin);if(G)return`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${W.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${$} ${W.maximum.toString()} ${G.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`;return`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${W.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${$} ${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",G=J(W.origin);if(G)return`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${W.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${$} ${W.minimum.toString()} ${G.unit}`;return`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${W.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${$} ${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${$.prefix}"`;if($.format==="ends_with")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${$.suffix}"`;if($.format==="includes")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${$.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`;if($.format==="regex")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${$.pattern}`;return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${X[$.format]??W.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${W.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${W1(W.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${W.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${W.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}};var v31=w(()=>{o1()});function db(){return{localeError:Rl0()}}var Rl0=()=>{let Y={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function J(W){return Y[W]??null}let X={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"},Z={nan:"NaN"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Ge\xE7ersiz de\u011Fer: beklenen instanceof ${W.expected}, al\u0131nan ${Q}`;return`Ge\xE7ersiz de\u011Fer: beklenen ${$}, al\u0131nan ${Q}`}case"invalid_value":if(W.values.length===1)return`Ge\xE7ersiz de\u011Fer: beklenen ${I1(W.values[0])}`;return`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`\xC7ok b\xFCy\xFCk: beklenen ${W.origin??"de\u011Fer"} ${$}${W.maximum.toString()} ${G.unit??"\xF6\u011Fe"}`;return`\xC7ok b\xFCy\xFCk: beklenen ${W.origin??"de\u011Fer"} ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`\xC7ok k\xFC\xE7\xFCk: beklenen ${W.origin} ${$}${W.minimum.toString()} ${G.unit}`;return`\xC7ok k\xFC\xE7\xFCk: beklenen ${W.origin} ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Ge\xE7ersiz metin: "${$.prefix}" ile ba\u015Flamal\u0131`;if($.format==="ends_with")return`Ge\xE7ersiz metin: "${$.suffix}" ile bitmeli`;if($.format==="includes")return`Ge\xE7ersiz metin: "${$.includes}" i\xE7ermeli`;if($.format==="regex")return`Ge\xE7ersiz metin: ${$.pattern} desenine uymal\u0131`;return`Ge\xE7ersiz ${X[$.format]??W.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${W.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${W.keys.length>1?"lar":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`${W.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${W.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}};var h31=w(()=>{o1()});function iq(){return{localeError:Nl0()}}var Nl0=()=>{let Y={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function J(W){return Y[W]??null}let X={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"},Z={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0438\u0432"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F instanceof ${W.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${Q}`;return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${$}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${Q}`}case"invalid_value":if(W.values.length===1)return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${I1(W.values[0])}`;return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${W.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${G.verb} ${$}${W.maximum.toString()} ${G.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`;return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${W.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${W.origin} ${G.verb} ${$}${W.minimum.toString()} ${G.unit}`;return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${W.origin} \u0431\u0443\u0434\u0435 ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${$.prefix}"`;if($.format==="ends_with")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${$.suffix}"`;if($.format==="includes")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${$.includes}"`;if($.format==="regex")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${$.pattern}`;return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${X[$.format]??W.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${W.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${W.keys.length>1?"\u0456":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${W.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${W.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}};var cb=w(()=>{o1()});function lb(){return iq()}var b31=w(()=>{cb()});function pb(){return{localeError:Sl0()}}var Sl0=()=>{let Y={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function J(W){return Y[W]??null}let X={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"},Z={nan:"NaN",number:"\u0646\u0645\u0628\u0631",array:"\u0622\u0631\u06D2",null:"\u0646\u0644"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: instanceof ${W.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${Q} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${$} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${Q} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`}case"invalid_value":if(W.values.length===1)return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${I1(W.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;return`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${W1(W.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`\u0628\u06C1\u062A \u0628\u0691\u0627: ${W.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${$}${W.maximum.toString()} ${G.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;return`\u0628\u06C1\u062A \u0628\u0691\u0627: ${W.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${$}${W.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${W.origin} \u06A9\u06D2 ${$}${W.minimum.toString()} ${G.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;return`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${W.origin} \u06A9\u0627 ${$}${W.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${$.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;if($.format==="ends_with")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${$.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;if($.format==="includes")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${$.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;if($.format==="regex")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${$.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;return`\u063A\u0644\u0637 ${X[$.format]??W.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${W.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${W.keys.length>1?"\u0632":""}: ${W1(W.keys,"\u060C ")}`;case"invalid_key":return`${W.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${W.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}};var y31=w(()=>{o1()});function nb(){return{localeError:Cl0()}}var Cl0=()=>{let Y={string:{unit:"belgi",verb:"bo\u2018lishi kerak"},file:{unit:"bayt",verb:"bo\u2018lishi kerak"},array:{unit:"element",verb:"bo\u2018lishi kerak"},set:{unit:"element",verb:"bo\u2018lishi kerak"}};function J(W){return Y[W]??null}let X={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},Z={nan:"NaN",number:"raqam",array:"massiv"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`Noto\u2018g\u2018ri kirish: kutilgan instanceof ${W.expected}, qabul qilingan ${Q}`;return`Noto\u2018g\u2018ri kirish: kutilgan ${$}, qabul qilingan ${Q}`}case"invalid_value":if(W.values.length===1)return`Noto\u2018g\u2018ri kirish: kutilgan ${I1(W.values[0])}`;return`Noto\u2018g\u2018ri variant: quyidagilardan biri kutilgan ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Juda katta: kutilgan ${W.origin??"qiymat"} ${$}${W.maximum.toString()} ${G.unit} ${G.verb}`;return`Juda katta: kutilgan ${W.origin??"qiymat"} ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Juda kichik: kutilgan ${W.origin} ${$}${W.minimum.toString()} ${G.unit} ${G.verb}`;return`Juda kichik: kutilgan ${W.origin} ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Noto\u2018g\u2018ri satr: "${$.prefix}" bilan boshlanishi kerak`;if($.format==="ends_with")return`Noto\u2018g\u2018ri satr: "${$.suffix}" bilan tugashi kerak`;if($.format==="includes")return`Noto\u2018g\u2018ri satr: "${$.includes}" ni o\u2018z ichiga olishi kerak`;if($.format==="regex")return`Noto\u2018g\u2018ri satr: ${$.pattern} shabloniga mos kelishi kerak`;return`Noto\u2018g\u2018ri ${X[$.format]??W.format}`}case"not_multiple_of":return`Noto\u2018g\u2018ri raqam: ${W.divisor} ning karralisi bo\u2018lishi kerak`;case"unrecognized_keys":return`Noma\u2019lum kalit${W.keys.length>1?"lar":""}: ${W1(W.keys,", ")}`;case"invalid_key":return`${W.origin} dagi kalit noto\u2018g\u2018ri`;case"invalid_union":return"Noto\u2018g\u2018ri kirish";case"invalid_element":return`${W.origin} da noto\u2018g\u2018ri qiymat`;default:return"Noto\u2018g\u2018ri kirish"}}};var g31=w(()=>{o1()});function ib(){return{localeError:jl0()}}var jl0=()=>{let Y={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function J(W){return Y[W]??null}let X={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"},Z={nan:"NaN",number:"s\u1ED1",array:"m\u1EA3ng"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i instanceof ${W.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${Q}`;return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${$}, nh\u1EADn \u0111\u01B0\u1EE3c ${Q}`}case"invalid_value":if(W.values.length===1)return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${I1(W.values[0])}`;return`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${W.origin??"gi\xE1 tr\u1ECB"} ${G.verb} ${$}${W.maximum.toString()} ${G.unit??"ph\u1EA7n t\u1EED"}`;return`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${W.origin??"gi\xE1 tr\u1ECB"} ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${W.origin} ${G.verb} ${$}${W.minimum.toString()} ${G.unit}`;return`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${W.origin} ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${$.prefix}"`;if($.format==="ends_with")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${$.suffix}"`;if($.format==="includes")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${$.includes}"`;if($.format==="regex")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${$.pattern}`;return`${X[$.format]??W.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${W.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${W1(W.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${W.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${W.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}};var u31=w(()=>{o1()});function ob(){return{localeError:kl0()}}var kl0=()=>{let Y={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function J(W){return Y[W]??null}let X={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"},Z={nan:"NaN",number:"\u6570\u5B57",array:"\u6570\u7EC4",null:"\u7A7A\u503C(null)"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B instanceof ${W.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${Q}`;return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${$}\uFF0C\u5B9E\u9645\u63A5\u6536 ${Q}`}case"invalid_value":if(W.values.length===1)return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${I1(W.values[0])}`;return`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${W.origin??"\u503C"} ${$}${W.maximum.toString()} ${G.unit??"\u4E2A\u5143\u7D20"}`;return`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${W.origin??"\u503C"} ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${W.origin} ${$}${W.minimum.toString()} ${G.unit}`;return`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${W.origin} ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${$.prefix}" \u5F00\u5934`;if($.format==="ends_with")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${$.suffix}" \u7ED3\u5C3E`;if($.format==="includes")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${$.includes}"`;if($.format==="regex")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${$.pattern}`;return`\u65E0\u6548${X[$.format]??W.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${W.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${W1(W.keys,", ")}`;case"invalid_key":return`${W.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${W.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}};var m31=w(()=>{o1()});function rb(){return{localeError:_l0()}}var _l0=()=>{let Y={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function J(W){return Y[W]??null}let X={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"},Z={nan:"NaN"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA instanceof ${W.expected}\uFF0C\u4F46\u6536\u5230 ${Q}`;return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${$}\uFF0C\u4F46\u6536\u5230 ${Q}`}case"invalid_value":if(W.values.length===1)return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${I1(W.values[0])}`;return`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${W.origin??"\u503C"} \u61C9\u70BA ${$}${W.maximum.toString()} ${G.unit??"\u500B\u5143\u7D20"}`;return`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${W.origin??"\u503C"} \u61C9\u70BA ${$}${W.maximum.toString()}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${W.origin} \u61C9\u70BA ${$}${W.minimum.toString()} ${G.unit}`;return`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${W.origin} \u61C9\u70BA ${$}${W.minimum.toString()}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${$.prefix}" \u958B\u982D`;if($.format==="ends_with")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${$.suffix}" \u7D50\u5C3E`;if($.format==="includes")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${$.includes}"`;if($.format==="regex")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${$.pattern}`;return`\u7121\u6548\u7684 ${X[$.format]??W.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${W.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${W.keys.length>1?"\u5011":""}\uFF1A${W1(W.keys,"\u3001")}`;case"invalid_key":return`${W.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${W.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}};var d31=w(()=>{o1()});function ab(){return{localeError:xl0()}}var xl0=()=>{let Y={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}};function J(W){return Y[W]??null}let X={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"},Z={nan:"NaN",number:"n\u1ECD\u0301mb\xE0",array:"akop\u1ECD"};return(W)=>{switch(W.code){case"invalid_type":{let $=Z[W.expected]??W.expected,G=D1(W.input),Q=Z[G]??G;if(/^[A-Z]/.test(W.expected))return`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi instanceof ${W.expected}, \xE0m\u1ECD\u0300 a r\xED ${Q}`;return`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${$}, \xE0m\u1ECD\u0300 a r\xED ${Q}`}case"invalid_value":if(W.values.length===1)return`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${I1(W.values[0])}`;return`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${W1(W.values,"|")}`;case"too_big":{let $=W.inclusive?"<=":"<",G=J(W.origin);if(G)return`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${W.origin??"iye"} ${G.verb} ${$}${W.maximum} ${G.unit}`;return`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${$}${W.maximum}`}case"too_small":{let $=W.inclusive?">=":">",G=J(W.origin);if(G)return`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${W.origin} ${G.verb} ${$}${W.minimum} ${G.unit}`;return`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${$}${W.minimum}`}case"invalid_format":{let $=W;if($.format==="starts_with")return`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${$.prefix}"`;if($.format==="ends_with")return`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${$.suffix}"`;if($.format==="includes")return`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${$.includes}"`;if($.format==="regex")return`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${$.pattern}`;return`A\u1E63\xEC\u1E63e: ${X[$.format]??W.format}`}case"not_multiple_of":return`N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${W.divisor}`;case"unrecognized_keys":return`B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${W1(W.keys,", ")}`;case"invalid_key":return`B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${W.origin}`;case"invalid_union":return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case"invalid_element":return`Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${W.origin}`;default:return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e"}}};var c31=w(()=>{o1()});var oq={};h6(oq,{zhTW:()=>rb,zhCN:()=>ob,yo:()=>ab,vi:()=>ib,uz:()=>nb,ur:()=>pb,uk:()=>iq,ua:()=>lb,tr:()=>db,th:()=>mb,ta:()=>ub,sv:()=>gb,sl:()=>yb,ru:()=>bb,pt:()=>hb,ps:()=>fb,pl:()=>vb,ota:()=>xb,no:()=>_b,nl:()=>kb,ms:()=>jb,mk:()=>Cb,lt:()=>Sb,ko:()=>Nb,km:()=>pq,kh:()=>Rb,ka:()=>Eb,ja:()=>Mb,it:()=>Lb,is:()=>Pb,id:()=>Ab,hy:()=>wb,hu:()=>Db,he:()=>Ib,frCA:()=>Vb,fr:()=>Fb,fi:()=>qb,fa:()=>Bb,es:()=>Kb,eo:()=>Ob,en:()=>lq,de:()=>zb,da:()=>Ub,cs:()=>Qb,ca:()=>Gb,bg:()=>$b,be:()=>Wb,az:()=>Zb,ar:()=>Xb});var sb=w(()=>{oX1();rX1();sX1();tX1();eX1();Y31();J31();X31();Hb();Z31();W31();$31();G31();Q31();U31();z31();H31();K31();B31();q31();F31();V31();I31();D31();Tb();w31();P31();L31();M31();E31();T31();R31();N31();S31();C31();k31();_31();x31();f31();v31();h31();b31();cb();y31();g31();u31();m31();d31();c31()});class Yy{constructor(){this._map=new WeakMap,this._idmap=new Map}add(Y,...J){let X=J[0];if(this._map.set(Y,X),X&&typeof X==="object"&&"id"in X)this._idmap.set(X.id,Y);return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(Y){let J=this._map.get(Y);if(J&&typeof J==="object"&&"id"in J)this._idmap.delete(J.id);return this._map.delete(Y),this}get(Y){let J=Y._zod.parent;if(J){let X={...this.get(J)??{}};delete X.id;let Z={...X,...this._map.get(Y)};return Object.keys(Z).length?Z:void 0}return this._map.get(Y)}has(Y){return this._map.has(Y)}}function eL(){return new Yy}var l31,tb,eb,q5;var rq=w(()=>{tb=Symbol("ZodOutput"),eb=Symbol("ZodInput");(l31=globalThis).__zod_globalRegistry??(l31.__zod_globalRegistry=eL());q5=globalThis.__zod_globalRegistry});function Jy(Y,J){return new Y({type:"string",...M1(J)})}function Xy(Y,J){return new Y({type:"string",coerce:!0,...M1(J)})}function YM(Y,J){return new Y({type:"string",format:"email",check:"string_format",abort:!1,...M1(J)})}function aq(Y,J){return new Y({type:"string",format:"guid",check:"string_format",abort:!1,...M1(J)})}function JM(Y,J){return new Y({type:"string",format:"uuid",check:"string_format",abort:!1,...M1(J)})}function XM(Y,J){return new Y({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...M1(J)})}function ZM(Y,J){return new Y({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...M1(J)})}function WM(Y,J){return new Y({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...M1(J)})}function sq(Y,J){return new Y({type:"string",format:"url",check:"string_format",abort:!1,...M1(J)})}function $M(Y,J){return new Y({type:"string",format:"emoji",check:"string_format",abort:!1,...M1(J)})}function GM(Y,J){return new Y({type:"string",format:"nanoid",check:"string_format",abort:!1,...M1(J)})}function QM(Y,J){return new Y({type:"string",format:"cuid",check:"string_format",abort:!1,...M1(J)})}function UM(Y,J){return new Y({type:"string",format:"cuid2",check:"string_format",abort:!1,...M1(J)})}function zM(Y,J){return new Y({type:"string",format:"ulid",check:"string_format",abort:!1,...M1(J)})}function HM(Y,J){return new Y({type:"string",format:"xid",check:"string_format",abort:!1,...M1(J)})}function OM(Y,J){return new Y({type:"string",format:"ksuid",check:"string_format",abort:!1,...M1(J)})}function KM(Y,J){return new Y({type:"string",format:"ipv4",check:"string_format",abort:!1,...M1(J)})}function BM(Y,J){return new Y({type:"string",format:"ipv6",check:"string_format",abort:!1,...M1(J)})}function Zy(Y,J){return new Y({type:"string",format:"mac",check:"string_format",abort:!1,...M1(J)})}function qM(Y,J){return new Y({type:"string",format:"cidrv4",check:"string_format",abort:!1,...M1(J)})}function FM(Y,J){return new Y({type:"string",format:"cidrv6",check:"string_format",abort:!1,...M1(J)})}function VM(Y,J){return new Y({type:"string",format:"base64",check:"string_format",abort:!1,...M1(J)})}function IM(Y,J){return new Y({type:"string",format:"base64url",check:"string_format",abort:!1,...M1(J)})}function DM(Y,J){return new Y({type:"string",format:"e164",check:"string_format",abort:!1,...M1(J)})}function wM(Y,J){return new Y({type:"string",format:"jwt",check:"string_format",abort:!1,...M1(J)})}function $y(Y,J){return new Y({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...M1(J)})}function Gy(Y,J){return new Y({type:"string",format:"date",check:"string_format",...M1(J)})}function Qy(Y,J){return new Y({type:"string",format:"time",check:"string_format",precision:null,...M1(J)})}function Uy(Y,J){return new Y({type:"string",format:"duration",check:"string_format",...M1(J)})}function zy(Y,J){return new Y({type:"number",checks:[],...M1(J)})}function Hy(Y,J){return new Y({type:"number",coerce:!0,checks:[],...M1(J)})}function Oy(Y,J){return new Y({type:"number",check:"number_format",abort:!1,format:"safeint",...M1(J)})}function Ky(Y,J){return new Y({type:"number",check:"number_format",abort:!1,format:"float32",...M1(J)})}function By(Y,J){return new Y({type:"number",check:"number_format",abort:!1,format:"float64",...M1(J)})}function qy(Y,J){return new Y({type:"number",check:"number_format",abort:!1,format:"int32",...M1(J)})}function Fy(Y,J){return new Y({type:"number",check:"number_format",abort:!1,format:"uint32",...M1(J)})}function Vy(Y,J){return new Y({type:"boolean",...M1(J)})}function Iy(Y,J){return new Y({type:"boolean",coerce:!0,...M1(J)})}function Dy(Y,J){return new Y({type:"bigint",...M1(J)})}function wy(Y,J){return new Y({type:"bigint",coerce:!0,...M1(J)})}function Ay(Y,J){return new Y({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...M1(J)})}function Py(Y,J){return new Y({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...M1(J)})}function Ly(Y,J){return new Y({type:"symbol",...M1(J)})}function My(Y,J){return new Y({type:"undefined",...M1(J)})}function Ey(Y,J){return new Y({type:"null",...M1(J)})}function Ty(Y){return new Y({type:"any"})}function Ry(Y){return new Y({type:"unknown"})}function Ny(Y,J){return new Y({type:"never",...M1(J)})}function Sy(Y,J){return new Y({type:"void",...M1(J)})}function Cy(Y,J){return new Y({type:"date",...M1(J)})}function jy(Y,J){return new Y({type:"date",coerce:!0,...M1(J)})}function ky(Y,J){return new Y({type:"nan",...M1(J)})}function XX(Y,J){return new uL({check:"less_than",...M1(J),value:Y,inclusive:!1})}function Z7(Y,J){return new uL({check:"less_than",...M1(J),value:Y,inclusive:!0})}function ZX(Y,J){return new mL({check:"greater_than",...M1(J),value:Y,inclusive:!1})}function Y9(Y,J){return new mL({check:"greater_than",...M1(J),value:Y,inclusive:!0})}function AM(Y){return ZX(0,Y)}function PM(Y){return XX(0,Y)}function LM(Y){return Z7(0,Y)}function MM(Y){return Y9(0,Y)}function WW(Y,J){return new Tv({check:"multiple_of",...M1(J),value:Y})}function $W(Y,J){return new Sv({check:"max_size",...M1(J),maximum:Y})}function WX(Y,J){return new Cv({check:"min_size",...M1(J),minimum:Y})}function kG(Y,J){return new jv({check:"size_equals",...M1(J),size:Y})}function _G(Y,J){return new kv({check:"max_length",...M1(J),maximum:Y})}function v3(Y,J){return new _v({check:"min_length",...M1(J),minimum:Y})}function xG(Y,J){return new xv({check:"length_equals",...M1(J),length:Y})}function lz(Y,J){return new fv({check:"string_format",format:"regex",...M1(J),pattern:Y})}function pz(Y){return new vv({check:"string_format",format:"lowercase",...M1(Y)})}function nz(Y){return new hv({check:"string_format",format:"uppercase",...M1(Y)})}function iz(Y,J){return new bv({check:"string_format",format:"includes",...M1(J),includes:Y})}function oz(Y,J){return new yv({check:"string_format",format:"starts_with",...M1(J),prefix:Y})}function rz(Y,J){return new gv({check:"string_format",format:"ends_with",...M1(J),suffix:Y})}function EM(Y,J,X){return new uv({check:"property",property:Y,schema:J,...M1(X)})}function az(Y,J){return new mv({check:"mime_type",mime:Y,...M1(J)})}function xY(Y){return new dv({check:"overwrite",tx:Y})}function sz(Y){return xY((J)=>J.normalize(Y))}function tz(){return xY((Y)=>Y.trim())}function ez(){return xY((Y)=>Y.toLowerCase())}function YH(){return xY((Y)=>Y.toUpperCase())}function JH(){return xY((Y)=>bf(Y))}function _y(Y,J,X){return new Y({type:"array",element:J,...M1(X)})}function vl0(Y,J,X){return new Y({type:"union",options:J,...M1(X)})}function hl0(Y,J,X){return new Y({type:"union",options:J,inclusive:!1,...M1(X)})}function bl0(Y,J,X,Z){return new Y({type:"union",options:X,discriminator:J,...M1(Z)})}function yl0(Y,J,X){return new Y({type:"intersection",left:J,right:X})}function gl0(Y,J,X,Z){let W=X instanceof I0;return new Y({type:"tuple",items:J,rest:W?X:null,...M1(W?Z:X)})}function ul0(Y,J,X,Z){return new Y({type:"record",keyType:J,valueType:X,...M1(Z)})}function ml0(Y,J,X,Z){return new Y({type:"map",keyType:J,valueType:X,...M1(Z)})}function dl0(Y,J,X){return new Y({type:"set",valueType:J,...M1(X)})}function cl0(Y,J,X){let Z=Array.isArray(J)?Object.fromEntries(J.map((W)=>[W,W])):J;return new Y({type:"enum",entries:Z,...M1(X)})}function ll0(Y,J,X){return new Y({type:"enum",entries:J,...M1(X)})}function pl0(Y,J,X){return new Y({type:"literal",values:Array.isArray(J)?J:[J],...M1(X)})}function xy(Y,J){return new Y({type:"file",...M1(J)})}function nl0(Y,J){return new Y({type:"transform",transform:J})}function il0(Y,J){return new Y({type:"optional",innerType:J})}function ol0(Y,J){return new Y({type:"nullable",innerType:J})}function rl0(Y,J,X){return new Y({type:"default",innerType:J,get defaultValue(){return typeof X==="function"?X():gf(X)}})}function al0(Y,J,X){return new Y({type:"nonoptional",innerType:J,...M1(X)})}function sl0(Y,J){return new Y({type:"success",innerType:J})}function tl0(Y,J,X){return new Y({type:"catch",innerType:J,catchValue:typeof X==="function"?X:()=>X})}function el0(Y,J,X){return new Y({type:"pipe",in:J,out:X})}function Yp0(Y,J){return new Y({type:"readonly",innerType:J})}function Jp0(Y,J,X){return new Y({type:"template_literal",parts:J,...M1(X)})}function Xp0(Y,J){return new Y({type:"lazy",getter:J})}function Zp0(Y,J){return new Y({type:"promise",innerType:J})}function fy(Y,J,X){let Z=M1(X);return Z.abort??(Z.abort=!0),new Y({type:"custom",check:"custom",fn:J,...Z})}function vy(Y,J,X){return new Y({type:"custom",check:"custom",fn:J,...M1(X)})}function hy(Y){let J=p31((X)=>{return X.addIssue=(Z)=>{if(typeof Z==="string")X.issues.push(bz(Z,X.value,J._zod.def));else{let W=Z;if(W.fatal)W.continue=!1;W.code??(W.code="custom"),W.input??(W.input=X.value),W.inst??(W.inst=J),W.continue??(W.continue=!J._zod.def.abort),X.issues.push(bz(W))}},Y(X.value,X)});return J}function p31(Y,J){let X=new y4({check:"custom",...M1(J)});return X._zod.check=Y,X}function by(Y){let J=new y4({check:"describe"});return J._zod.onattach=[(X)=>{let Z=q5.get(X)??{};q5.add(X,{...Z,description:Y})}],J._zod.check=()=>{},J}function yy(Y){let J=new y4({check:"meta"});return J._zod.onattach=[(X)=>{let Z=q5.get(X)??{};q5.add(X,{...Z,...Y})}],J._zod.check=()=>{},J}function gy(Y,J){let X=M1(J),Z=X.truthy??["true","1","yes","on","y","enabled"],W=X.falsy??["false","0","no","off","n","disabled"];if(X.case!=="sensitive")Z=Z.map((B)=>typeof B==="string"?B.toLowerCase():B),W=W.map((B)=>typeof B==="string"?B.toLowerCase():B);let $=new Set(Z),G=new Set(W),Q=Y.Codec??cq,U=Y.Boolean??mq,H=new(Y.String??jG)({type:"string",error:X.error}),O=new U({type:"boolean",error:X.error}),K=new Q({type:"pipe",in:H,out:O,transform:(B,F)=>{let V=B;if(X.case!=="sensitive")V=V.toLowerCase();if($.has(V))return!0;else if(G.has(V))return!1;else return F.issues.push({code:"invalid_value",expected:"stringbool",values:[...$,...G],input:F.value,inst:K,continue:!1}),{}},reverseTransform:(B,F)=>{if(B===!0)return Z[0]||"true";else return W[0]||"false"},error:X.error});return K}function XH(Y,J,X,Z={}){let W=M1(Z),$={...M1(Z),check:"string_format",type:"string",format:J,fn:typeof X==="function"?X:(Q)=>X.test(Q),...W};if(X instanceof RegExp)$.pattern=X;return new Y($)}var Wy;var n31=w(()=>{dL();rq();Jb();o1();Wy={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6}});function GW(Y){let J=Y?.target??"draft-2020-12";if(J==="draft-4")J="draft-04";if(J==="draft-7")J="draft-07";return{processors:Y.processors??{},metadataRegistry:Y?.metadata??q5,target:J,unrepresentable:Y?.unrepresentable??"throw",override:Y?.override??(()=>{}),io:Y?.io??"output",counter:0,seen:new Map,cycles:Y?.cycles??"ref",reused:Y?.reused??"inline",external:Y?.external??void 0}}function D4(Y,J,X={path:[],schemaPath:[]}){var Z;let W=Y._zod.def,$=J.seen.get(Y);if($){if($.count++,X.schemaPath.includes(Y))$.cycle=X.path;return $.schema}let G={schema:{},count:1,cycle:void 0,path:X.path};J.seen.set(Y,G);let Q=Y._zod.toJSONSchema?.();if(Q)G.schema=Q;else{let H={...X,schemaPath:[...X.schemaPath,Y],path:X.path};if(Y._zod.processJSONSchema)Y._zod.processJSONSchema(J,G.schema,H);else{let K=G.schema,B=J.processors[W.type];if(!B)throw Error(`[toJSONSchema]: Non-representable type encountered: ${W.type}`);B(Y,J,K,H)}let O=Y._zod.parent;if(O){if(!G.ref)G.ref=O;D4(O,J,H),J.seen.get(O).isParent=!0}}let U=J.metadataRegistry.get(Y);if(U)Object.assign(G.schema,U);if(J.io==="input"&&J9(Y))delete G.schema.examples,delete G.schema.default;if(J.io==="input"&&G.schema._prefault)(Z=G.schema).default??(Z.default=G.schema._prefault);return delete G.schema._prefault,J.seen.get(Y).schema}function QW(Y,J){let X=Y.seen.get(J);if(!X)throw Error("Unprocessed schema. This is a bug in Zod.");let Z=new Map;for(let G of Y.seen.entries()){let Q=Y.metadataRegistry.get(G[0])?.id;if(Q){let U=Z.get(Q);if(U&&U!==G[0])throw Error(`Duplicate schema id "${Q}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);Z.set(Q,G[0])}}let W=(G)=>{let Q=Y.target==="draft-2020-12"?"$defs":"definitions";if(Y.external){let O=Y.external.registry.get(G[0])?.id,K=Y.external.uri??((F)=>F);if(O)return{ref:K(O)};let B=G[1].defId??G[1].schema.id??`schema${Y.counter++}`;return G[1].defId=B,{defId:B,ref:`${K("__shared")}#/${Q}/${B}`}}if(G[1]===X)return{ref:"#"};let z=`${"#"}/${Q}/`,H=G[1].schema.id??`__schema${Y.counter++}`;return{defId:H,ref:z+H}},$=(G)=>{if(G[1].schema.$ref)return;let Q=G[1],{ref:U,defId:z}=W(G);if(Q.def={...Q.schema},z)Q.defId=z;let H=Q.schema;for(let O in H)delete H[O];H.$ref=U};if(Y.cycles==="throw")for(let G of Y.seen.entries()){let Q=G[1];if(Q.cycle)throw Error(`Cycle detected: #/${Q.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let G of Y.seen.entries()){let Q=G[1];if(J===G[0]){$(G);continue}if(Y.external){let z=Y.external.registry.get(G[0])?.id;if(J!==G[0]&&z){$(G);continue}}if(Y.metadataRegistry.get(G[0])?.id){$(G);continue}if(Q.cycle){$(G);continue}if(Q.count>1){if(Y.reused==="ref"){$(G);continue}}}}function UW(Y,J){let X=Y.seen.get(J);if(!X)throw Error("Unprocessed schema. This is a bug in Zod.");let Z=(G)=>{let Q=Y.seen.get(G);if(Q.ref===null)return;let U=Q.def??Q.schema,z={...U},H=Q.ref;if(Q.ref=null,H){Z(H);let K=Y.seen.get(H),B=K.schema;if(B.$ref&&(Y.target==="draft-07"||Y.target==="draft-04"||Y.target==="openapi-3.0"))U.allOf=U.allOf??[],U.allOf.push(B);else Object.assign(U,B);if(Object.assign(U,z),G._zod.parent===H)for(let V in U){if(V==="$ref"||V==="allOf")continue;if(!(V in z))delete U[V]}if(B.$ref&&K.def)for(let V in U){if(V==="$ref"||V==="allOf")continue;if(V in K.def&&JSON.stringify(U[V])===JSON.stringify(K.def[V]))delete U[V]}}let O=G._zod.parent;if(O&&O!==H){Z(O);let K=Y.seen.get(O);if(K?.schema.$ref){if(U.$ref=K.schema.$ref,K.def)for(let B in U){if(B==="$ref"||B==="allOf")continue;if(B in K.def&&JSON.stringify(U[B])===JSON.stringify(K.def[B]))delete U[B]}}}Y.override({zodSchema:G,jsonSchema:U,path:Q.path??[]})};for(let G of[...Y.seen.entries()].reverse())Z(G[0]);let W={};if(Y.target==="draft-2020-12")W.$schema="https://json-schema.org/draft/2020-12/schema";else if(Y.target==="draft-07")W.$schema="http://json-schema.org/draft-07/schema#";else if(Y.target==="draft-04")W.$schema="http://json-schema.org/draft-04/schema#";else if(Y.target==="openapi-3.0");if(Y.external?.uri){let G=Y.external.registry.get(J)?.id;if(!G)throw Error("Schema is missing an `id` property");W.$id=Y.external.uri(G)}Object.assign(W,X.def??X.schema);let $=Y.external?.defs??{};for(let G of Y.seen.entries()){let Q=G[1];if(Q.def&&Q.defId)$[Q.defId]=Q.def}if(Y.external);else if(Object.keys($).length>0)if(Y.target==="draft-2020-12")W.$defs=$;else W.definitions=$;try{let G=JSON.parse(JSON.stringify(W));return Object.defineProperty(G,"~standard",{value:{...J["~standard"],jsonSchema:{input:ZH(J,"input",Y.processors),output:ZH(J,"output",Y.processors)}},enumerable:!1,writable:!1}),G}catch(G){throw Error("Error converting schema to JSON.")}}function J9(Y,J){let X=J??{seen:new Set};if(X.seen.has(Y))return!1;X.seen.add(Y);let Z=Y._zod.def;if(Z.type==="transform")return!0;if(Z.type==="array")return J9(Z.element,X);if(Z.type==="set")return J9(Z.valueType,X);if(Z.type==="lazy")return J9(Z.getter(),X);if(Z.type==="promise"||Z.type==="optional"||Z.type==="nonoptional"||Z.type==="nullable"||Z.type==="readonly"||Z.type==="default"||Z.type==="prefault")return J9(Z.innerType,X);if(Z.type==="intersection")return J9(Z.left,X)||J9(Z.right,X);if(Z.type==="record"||Z.type==="map")return J9(Z.keyType,X)||J9(Z.valueType,X);if(Z.type==="pipe")return J9(Z.in,X)||J9(Z.out,X);if(Z.type==="object"){for(let W in Z.shape)if(J9(Z.shape[W],X))return!0;return!1}if(Z.type==="union"){for(let W of Z.options)if(J9(W,X))return!0;return!1}if(Z.type==="tuple"){for(let W of Z.items)if(J9(W,X))return!0;if(Z.rest&&J9(Z.rest,X))return!0;return!1}return!1}var uy=(Y,J={})=>(X)=>{let Z=GW({...X,processors:J});return D4(Y,Z),QW(Z,Y),UW(Z,Y)},ZH=(Y,J,X={})=>(Z)=>{let{libraryOptions:W,target:$}=Z??{},G=GW({...W??{},target:$,io:J,processors:X});return D4(Y,G),QW(G,Y),UW(G,Y)};var tq=w(()=>{rq()});function SM(Y,J){if("_idmap"in Y){let Z=Y,W=GW({...J,processors:TM}),$={};for(let U of Z._idmap.entries()){let[z,H]=U;D4(H,W)}let G={},Q={registry:Z,uri:J?.uri,defs:$};W.external=Q;for(let U of Z._idmap.entries()){let[z,H]=U;QW(W,H),G[z]=UW(W,H)}if(Object.keys($).length>0){let U=W.target==="draft-2020-12"?"$defs":"definitions";G.__shared={[U]:$}}return{schemas:G}}let X=GW({...J,processors:TM});return D4(Y,X),QW(X,Y),UW(X,Y)}var Wp0,my=(Y,J,X,Z)=>{let W=X;W.type="string";let{minimum:$,maximum:G,format:Q,patterns:U,contentEncoding:z}=Y._zod.bag;if(typeof $==="number")W.minLength=$;if(typeof G==="number")W.maxLength=G;if(Q){if(W.format=Wp0[Q]??Q,W.format==="")delete W.format;if(Q==="time")delete W.format}if(z)W.contentEncoding=z;if(U&&U.size>0){let H=[...U];if(H.length===1)W.pattern=H[0].source;else if(H.length>1)W.allOf=[...H.map((O)=>({...J.target==="draft-07"||J.target==="draft-04"||J.target==="openapi-3.0"?{type:"string"}:{},pattern:O.source}))]}},dy=(Y,J,X,Z)=>{let W=X,{minimum:$,maximum:G,format:Q,multipleOf:U,exclusiveMaximum:z,exclusiveMinimum:H}=Y._zod.bag;if(typeof Q==="string"&&Q.includes("int"))W.type="integer";else W.type="number";if(typeof H==="number")if(J.target==="draft-04"||J.target==="openapi-3.0")W.minimum=H,W.exclusiveMinimum=!0;else W.exclusiveMinimum=H;if(typeof $==="number"){if(W.minimum=$,typeof H==="number"&&J.target!=="draft-04")if(H>=$)delete W.minimum;else delete W.exclusiveMinimum}if(typeof z==="number")if(J.target==="draft-04"||J.target==="openapi-3.0")W.maximum=z,W.exclusiveMaximum=!0;else W.exclusiveMaximum=z;if(typeof G==="number"){if(W.maximum=G,typeof z==="number"&&J.target!=="draft-04")if(z<=G)delete W.maximum;else delete W.exclusiveMaximum}if(typeof U==="number")W.multipleOf=U},cy=(Y,J,X,Z)=>{X.type="boolean"},ly=(Y,J,X,Z)=>{if(J.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema")},py=(Y,J,X,Z)=>{if(J.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema")},ny=(Y,J,X,Z)=>{if(J.target==="openapi-3.0")X.type="string",X.nullable=!0,X.enum=[null];else X.type="null"},iy=(Y,J,X,Z)=>{if(J.unrepresentable==="throw")throw Error("Undefined cannot be represented in JSON Schema")},oy=(Y,J,X,Z)=>{if(J.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema")},ry=(Y,J,X,Z)=>{X.not={}},ay=(Y,J,X,Z)=>{},sy=(Y,J,X,Z)=>{},ty=(Y,J,X,Z)=>{if(J.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema")},ey=(Y,J,X,Z)=>{let W=Y._zod.def,$=jq(W.entries);if($.every((G)=>typeof G==="number"))X.type="number";if($.every((G)=>typeof G==="string"))X.type="string";X.enum=$},Yg=(Y,J,X,Z)=>{let W=Y._zod.def,$=[];for(let G of W.values)if(G===void 0){if(J.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof G==="bigint")if(J.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");else $.push(Number(G));else $.push(G);if($.length===0);else if($.length===1){let G=$[0];if(X.type=G===null?"null":typeof G,J.target==="draft-04"||J.target==="openapi-3.0")X.enum=[G];else X.const=G}else{if($.every((G)=>typeof G==="number"))X.type="number";if($.every((G)=>typeof G==="string"))X.type="string";if($.every((G)=>typeof G==="boolean"))X.type="boolean";if($.every((G)=>G===null))X.type="null";X.enum=$}},Jg=(Y,J,X,Z)=>{if(J.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema")},Xg=(Y,J,X,Z)=>{let W=X,$=Y._zod.pattern;if(!$)throw Error("Pattern not found in template literal");W.type="string",W.pattern=$.source},Zg=(Y,J,X,Z)=>{let W=X,$={type:"string",format:"binary",contentEncoding:"binary"},{minimum:G,maximum:Q,mime:U}=Y._zod.bag;if(G!==void 0)$.minLength=G;if(Q!==void 0)$.maxLength=Q;if(U)if(U.length===1)$.contentMediaType=U[0],Object.assign(W,$);else Object.assign(W,$),W.anyOf=U.map((z)=>({contentMediaType:z}));else Object.assign(W,$)},Wg=(Y,J,X,Z)=>{X.type="boolean"},$g=(Y,J,X,Z)=>{if(J.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema")},Gg=(Y,J,X,Z)=>{if(J.unrepresentable==="throw")throw Error("Function types cannot be represented in JSON Schema")},Qg=(Y,J,X,Z)=>{if(J.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema")},Ug=(Y,J,X,Z)=>{if(J.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema")},zg=(Y,J,X,Z)=>{if(J.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema")},Hg=(Y,J,X,Z)=>{let W=X,$=Y._zod.def,{minimum:G,maximum:Q}=Y._zod.bag;if(typeof G==="number")W.minItems=G;if(typeof Q==="number")W.maxItems=Q;W.type="array",W.items=D4($.element,J,{...Z,path:[...Z.path,"items"]})},Og=(Y,J,X,Z)=>{let W=X,$=Y._zod.def;W.type="object",W.properties={};let G=$.shape;for(let z in G)W.properties[z]=D4(G[z],J,{...Z,path:[...Z.path,"properties",z]});let Q=new Set(Object.keys(G)),U=new Set([...Q].filter((z)=>{let H=$.shape[z]._zod;if(J.io==="input")return H.optin===void 0;else return H.optout===void 0}));if(U.size>0)W.required=Array.from(U);if($.catchall?._zod.def.type==="never")W.additionalProperties=!1;else if(!$.catchall){if(J.io==="output")W.additionalProperties=!1}else if($.catchall)W.additionalProperties=D4($.catchall,J,{...Z,path:[...Z.path,"additionalProperties"]})},RM=(Y,J,X,Z)=>{let W=Y._zod.def,$=W.inclusive===!1,G=W.options.map((Q,U)=>D4(Q,J,{...Z,path:[...Z.path,$?"oneOf":"anyOf",U]}));if($)X.oneOf=G;else X.anyOf=G},Kg=(Y,J,X,Z)=>{let W=Y._zod.def,$=D4(W.left,J,{...Z,path:[...Z.path,"allOf",0]}),G=D4(W.right,J,{...Z,path:[...Z.path,"allOf",1]}),Q=(z)=>("allOf"in z)&&Object.keys(z).length===1,U=[...Q($)?$.allOf:[$],...Q(G)?G.allOf:[G]];X.allOf=U},Bg=(Y,J,X,Z)=>{let W=X,$=Y._zod.def;W.type="array";let G=J.target==="draft-2020-12"?"prefixItems":"items",Q=J.target==="draft-2020-12"?"items":J.target==="openapi-3.0"?"items":"additionalItems",U=$.items.map((K,B)=>D4(K,J,{...Z,path:[...Z.path,G,B]})),z=$.rest?D4($.rest,J,{...Z,path:[...Z.path,Q,...J.target==="openapi-3.0"?[$.items.length]:[]]}):null;if(J.target==="draft-2020-12"){if(W.prefixItems=U,z)W.items=z}else if(J.target==="openapi-3.0"){if(W.items={anyOf:U},z)W.items.anyOf.push(z);if(W.minItems=U.length,!z)W.maxItems=U.length}else if(W.items=U,z)W.additionalItems=z;let{minimum:H,maximum:O}=Y._zod.bag;if(typeof H==="number")W.minItems=H;if(typeof O==="number")W.maxItems=O},qg=(Y,J,X,Z)=>{let W=X,$=Y._zod.def;W.type="object";let G=$.keyType,U=G._zod.bag?.patterns;if($.mode==="loose"&&U&&U.size>0){let H=D4($.valueType,J,{...Z,path:[...Z.path,"patternProperties","*"]});W.patternProperties={};for(let O of U)W.patternProperties[O.source]=H}else{if(J.target==="draft-07"||J.target==="draft-2020-12")W.propertyNames=D4($.keyType,J,{...Z,path:[...Z.path,"propertyNames"]});W.additionalProperties=D4($.valueType,J,{...Z,path:[...Z.path,"additionalProperties"]})}let z=G._zod.values;if(z){let H=[...z].filter((O)=>typeof O==="string"||typeof O==="number");if(H.length>0)W.required=H}},Fg=(Y,J,X,Z)=>{let W=Y._zod.def,$=D4(W.innerType,J,Z),G=J.seen.get(Y);if(J.target==="openapi-3.0")G.ref=W.innerType,X.nullable=!0;else X.anyOf=[$,{type:"null"}]},Vg=(Y,J,X,Z)=>{let W=Y._zod.def;D4(W.innerType,J,Z);let $=J.seen.get(Y);$.ref=W.innerType},Ig=(Y,J,X,Z)=>{let W=Y._zod.def;D4(W.innerType,J,Z);let $=J.seen.get(Y);$.ref=W.innerType,X.default=JSON.parse(JSON.stringify(W.defaultValue))},Dg=(Y,J,X,Z)=>{let W=Y._zod.def;D4(W.innerType,J,Z);let $=J.seen.get(Y);if($.ref=W.innerType,J.io==="input")X._prefault=JSON.parse(JSON.stringify(W.defaultValue))},wg=(Y,J,X,Z)=>{let W=Y._zod.def;D4(W.innerType,J,Z);let $=J.seen.get(Y);$.ref=W.innerType;let G;try{G=W.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}X.default=G},Ag=(Y,J,X,Z)=>{let W=Y._zod.def,$=J.io==="input"?W.in._zod.def.type==="transform"?W.out:W.in:W.out;D4($,J,Z);let G=J.seen.get(Y);G.ref=$},Pg=(Y,J,X,Z)=>{let W=Y._zod.def;D4(W.innerType,J,Z);let $=J.seen.get(Y);$.ref=W.innerType,X.readOnly=!0},Lg=(Y,J,X,Z)=>{let W=Y._zod.def;D4(W.innerType,J,Z);let $=J.seen.get(Y);$.ref=W.innerType},NM=(Y,J,X,Z)=>{let W=Y._zod.def;D4(W.innerType,J,Z);let $=J.seen.get(Y);$.ref=W.innerType},Mg=(Y,J,X,Z)=>{let W=Y._zod.innerType;D4(W,J,Z);let $=J.seen.get(Y);$.ref=W},TM;var eq=w(()=>{tq();o1();Wp0={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},TM={string:my,number:dy,boolean:cy,bigint:ly,symbol:py,null:ny,undefined:iy,void:oy,never:ry,any:ay,unknown:sy,date:ty,enum:ey,literal:Yg,nan:Jg,template_literal:Xg,file:Zg,success:Wg,custom:$g,function:Gg,transform:Qg,map:Ug,set:zg,array:Hg,object:Og,union:RM,intersection:Kg,tuple:Bg,record:qg,nullable:Fg,nonoptional:Vg,default:Ig,prefault:Dg,catch:wg,pipe:Ag,readonly:Pg,promise:Lg,optional:NM,lazy:Mg}});class Eg{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(Y){this.ctx.counter=Y}get seen(){return this.ctx.seen}constructor(Y){let J=Y?.target??"draft-2020-12";if(J==="draft-4")J="draft-04";if(J==="draft-7")J="draft-07";this.ctx=GW({processors:TM,target:J,...Y?.metadata&&{metadata:Y.metadata},...Y?.unrepresentable&&{unrepresentable:Y.unrepresentable},...Y?.override&&{override:Y.override},...Y?.io&&{io:Y.io}})}process(Y,J={path:[],schemaPath:[]}){return D4(Y,this.ctx,J)}emit(Y,J){if(J){if(J.cycles)this.ctx.cycles=J.cycles;if(J.reused)this.ctx.reused=J.reused;if(J.external)this.ctx.external=J.external}QW(this.ctx,Y);let X=UW(this.ctx,Y),{"~standard":Z,...W}=X;return W}}var i31=w(()=>{eq();tq()});var o31={};var r31=()=>{};var h3={};h6(h3,{version:()=>cv,util:()=>w1,treeifyError:()=>lf,toJSONSchema:()=>SM,toDotPath:()=>TX1,safeParseAsync:()=>rf,safeParse:()=>of,safeEncodeAsync:()=>Oc0,safeEncode:()=>zc0,safeDecodeAsync:()=>Kc0,safeDecode:()=>Hc0,registry:()=>eL,regexes:()=>h7,process:()=>D4,prettifyError:()=>pf,parseAsync:()=>CL,parse:()=>SL,meta:()=>yy,locales:()=>oq,isValidJWT:()=>lX1,isValidBase64URL:()=>cX1,isValidBase64:()=>Kh,initializeContext:()=>GW,globalRegistry:()=>q5,globalConfig:()=>Sq,formatError:()=>bq,flattenError:()=>hq,finalize:()=>UW,extractDefs:()=>QW,encodeAsync:()=>Qc0,encode:()=>$c0,describe:()=>by,decodeAsync:()=>Uc0,decode:()=>Gc0,createToJSONSchemaMethod:()=>uy,createStandardJSONSchemaMethod:()=>ZH,config:()=>b6,clone:()=>e5,_xor:()=>hl0,_xid:()=>HM,_void:()=>Sy,_uuidv7:()=>WM,_uuidv6:()=>ZM,_uuidv4:()=>XM,_uuid:()=>JM,_url:()=>sq,_uppercase:()=>nz,_unknown:()=>Ry,_union:()=>vl0,_undefined:()=>My,_ulid:()=>zM,_uint64:()=>Py,_uint32:()=>Fy,_tuple:()=>gl0,_trim:()=>tz,_transform:()=>nl0,_toUpperCase:()=>YH,_toLowerCase:()=>ez,_templateLiteral:()=>Jp0,_symbol:()=>Ly,_superRefine:()=>hy,_success:()=>sl0,_stringbool:()=>gy,_stringFormat:()=>XH,_string:()=>Jy,_startsWith:()=>oz,_slugify:()=>JH,_size:()=>kG,_set:()=>dl0,_safeParseAsync:()=>mz,_safeParse:()=>uz,_safeEncodeAsync:()=>hL,_safeEncode:()=>fL,_safeDecodeAsync:()=>bL,_safeDecode:()=>vL,_regex:()=>lz,_refine:()=>vy,_record:()=>ul0,_readonly:()=>Yp0,_property:()=>EM,_promise:()=>Zp0,_positive:()=>AM,_pipe:()=>el0,_parseAsync:()=>gz,_parse:()=>yz,_overwrite:()=>xY,_optional:()=>il0,_number:()=>zy,_nullable:()=>ol0,_null:()=>Ey,_normalize:()=>sz,_nonpositive:()=>LM,_nonoptional:()=>al0,_nonnegative:()=>MM,_never:()=>Ny,_negative:()=>PM,_nativeEnum:()=>ll0,_nanoid:()=>GM,_nan:()=>ky,_multipleOf:()=>WW,_minSize:()=>WX,_minLength:()=>v3,_min:()=>Y9,_mime:()=>az,_maxSize:()=>$W,_maxLength:()=>_G,_max:()=>Z7,_map:()=>ml0,_mac:()=>Zy,_lte:()=>Z7,_lt:()=>XX,_lowercase:()=>pz,_literal:()=>pl0,_length:()=>xG,_lazy:()=>Xp0,_ksuid:()=>OM,_jwt:()=>wM,_isoTime:()=>Qy,_isoDuration:()=>Uy,_isoDateTime:()=>$y,_isoDate:()=>Gy,_ipv6:()=>BM,_ipv4:()=>KM,_intersection:()=>yl0,_int64:()=>Ay,_int32:()=>qy,_int:()=>Oy,_includes:()=>iz,_guid:()=>aq,_gte:()=>Y9,_gt:()=>ZX,_float64:()=>By,_float32:()=>Ky,_file:()=>xy,_enum:()=>cl0,_endsWith:()=>rz,_encodeAsync:()=>_L,_encode:()=>jL,_emoji:()=>$M,_email:()=>YM,_e164:()=>DM,_discriminatedUnion:()=>bl0,_default:()=>rl0,_decodeAsync:()=>xL,_decode:()=>kL,_date:()=>Cy,_custom:()=>fy,_cuid2:()=>UM,_cuid:()=>QM,_coercedString:()=>Xy,_coercedNumber:()=>Hy,_coercedDate:()=>jy,_coercedBoolean:()=>Iy,_coercedBigint:()=>wy,_cidrv6:()=>FM,_cidrv4:()=>qM,_check:()=>p31,_catch:()=>tl0,_boolean:()=>Vy,_bigint:()=>Dy,_base64url:()=>IM,_base64:()=>VM,_array:()=>_y,_any:()=>Ty,TimePrecision:()=>Wy,NEVER:()=>xf,JSONSchemaGenerator:()=>Eg,JSONSchema:()=>o31,Doc:()=>cL,$output:()=>tb,$input:()=>eb,$constructor:()=>s,$brand:()=>ff,$ZodXor:()=>jh,$ZodXID:()=>Jh,$ZodVoid:()=>Rh,$ZodUnknown:()=>Eh,$ZodUnion:()=>dq,$ZodUndefined:()=>Ph,$ZodUUID:()=>iv,$ZodURL:()=>rv,$ZodULID:()=>Yh,$ZodType:()=>I0,$ZodTuple:()=>sL,$ZodTransform:()=>gh,$ZodTemplateLiteral:()=>ah,$ZodSymbol:()=>Ah,$ZodSuccess:()=>ph,$ZodStringFormat:()=>N4,$ZodString:()=>jG,$ZodSet:()=>vh,$ZodRegistry:()=>Yy,$ZodRecord:()=>xh,$ZodRealError:()=>S9,$ZodReadonly:()=>rh,$ZodPromise:()=>th,$ZodPrefault:()=>ch,$ZodPipe:()=>oh,$ZodOptional:()=>tL,$ZodObjectJIT:()=>Ch,$ZodObject:()=>iX1,$ZodNumberFormat:()=>Dh,$ZodNumber:()=>rL,$ZodNullable:()=>mh,$ZodNull:()=>Lh,$ZodNonOptional:()=>lh,$ZodNever:()=>Th,$ZodNanoID:()=>sv,$ZodNaN:()=>ih,$ZodMap:()=>fh,$ZodMAC:()=>zh,$ZodLiteral:()=>bh,$ZodLazy:()=>eh,$ZodKSUID:()=>Xh,$ZodJWT:()=>Vh,$ZodIntersection:()=>_h,$ZodISOTime:()=>$h,$ZodISODuration:()=>Gh,$ZodISODateTime:()=>Zh,$ZodISODate:()=>Wh,$ZodIPv6:()=>Uh,$ZodIPv4:()=>Qh,$ZodGUID:()=>nv,$ZodFunction:()=>sh,$ZodFile:()=>yh,$ZodExactOptional:()=>uh,$ZodError:()=>vq,$ZodEnum:()=>hh,$ZodEncodeError:()=>NG,$ZodEmoji:()=>av,$ZodEmail:()=>ov,$ZodE164:()=>Fh,$ZodDiscriminatedUnion:()=>kh,$ZodDefault:()=>dh,$ZodDate:()=>Nh,$ZodCustomStringFormat:()=>Ih,$ZodCustom:()=>Yb,$ZodCodec:()=>cq,$ZodCheckUpperCase:()=>hv,$ZodCheckStringFormat:()=>dz,$ZodCheckStartsWith:()=>yv,$ZodCheckSizeEquals:()=>jv,$ZodCheckRegex:()=>fv,$ZodCheckProperty:()=>uv,$ZodCheckOverwrite:()=>dv,$ZodCheckNumberFormat:()=>Rv,$ZodCheckMultipleOf:()=>Tv,$ZodCheckMinSize:()=>Cv,$ZodCheckMinLength:()=>_v,$ZodCheckMimeType:()=>mv,$ZodCheckMaxSize:()=>Sv,$ZodCheckMaxLength:()=>kv,$ZodCheckLowerCase:()=>vv,$ZodCheckLessThan:()=>uL,$ZodCheckLengthEquals:()=>xv,$ZodCheckIncludes:()=>bv,$ZodCheckGreaterThan:()=>mL,$ZodCheckEndsWith:()=>gv,$ZodCheckBigIntFormat:()=>Nv,$ZodCheck:()=>y4,$ZodCatch:()=>nh,$ZodCUID2:()=>ev,$ZodCUID:()=>tv,$ZodCIDRv6:()=>Oh,$ZodCIDRv4:()=>Hh,$ZodBoolean:()=>mq,$ZodBigIntFormat:()=>wh,$ZodBigInt:()=>aL,$ZodBase64URL:()=>qh,$ZodBase64:()=>Bh,$ZodAsyncError:()=>JX,$ZodArray:()=>Sh,$ZodAny:()=>Mh});var W7=w(()=>{o1();gL();sb();eq();i31();r31();fz();af();nf();Jb();dL();lv();rq();n31();tq()});var CM={};h6(CM,{uppercase:()=>nz,trim:()=>tz,toUpperCase:()=>YH,toLowerCase:()=>ez,startsWith:()=>oz,slugify:()=>JH,size:()=>kG,regex:()=>lz,property:()=>EM,positive:()=>AM,overwrite:()=>xY,normalize:()=>sz,nonpositive:()=>LM,nonnegative:()=>MM,negative:()=>PM,multipleOf:()=>WW,minSize:()=>WX,minLength:()=>v3,mime:()=>az,maxSize:()=>$W,maxLength:()=>_G,lte:()=>Z7,lt:()=>XX,lowercase:()=>pz,length:()=>xG,includes:()=>iz,gte:()=>Y9,gt:()=>ZX,endsWith:()=>rz});var jM=w(()=>{W7()});var WH={};h6(WH,{time:()=>Ng,duration:()=>Sg,datetime:()=>Tg,date:()=>Rg,ZodISOTime:()=>xM,ZodISODuration:()=>fM,ZodISODateTime:()=>kM,ZodISODate:()=>_M});function Tg(Y){return $y(kM,Y)}function Rg(Y){return Gy(_M,Y)}function Ng(Y){return Qy(xM,Y)}function Sg(Y){return Uy(fM,Y)}var kM,_M,xM,fM;var YF=w(()=>{W7();XF();kM=s("ZodISODateTime",(Y,J)=>{Zh.init(Y,J),S4.init(Y,J)});_M=s("ZodISODate",(Y,J)=>{Wh.init(Y,J),S4.init(Y,J)});xM=s("ZodISOTime",(Y,J)=>{$h.init(Y,J),S4.init(Y,J)});fM=s("ZodISODuration",(Y,J)=>{Gh.init(Y,J),S4.init(Y,J)})});var a31=(Y,J)=>{vq.init(Y,J),Y.name="ZodError",Object.defineProperties(Y,{format:{value:(X)=>bq(Y,X)},flatten:{value:(X)=>hq(Y,X)},addIssue:{value:(X)=>{Y.issues.push(X),Y.message=JSON.stringify(Y.issues,vz,2)}},addIssues:{value:(X)=>{Y.issues.push(...X),Y.message=JSON.stringify(Y.issues,vz,2)}},isEmpty:{get(){return Y.issues.length===0}}})},Gp0,C9;var Cg=w(()=>{W7();W7();o1();Gp0=s("ZodError",a31),C9=s("ZodError",a31,{Parent:Error})});var jg,kg,_g,xg,fg,vg,hg,bg,yg,gg,ug,mg;var dg=w(()=>{W7();Cg();jg=yz(C9),kg=gz(C9),_g=uz(C9),xg=mz(C9),fg=jL(C9),vg=kL(C9),hg=_L(C9),bg=xL(C9),yg=fL(C9),gg=vL(C9),ug=hL(C9),mg=bL(C9)});var JF={};h6(JF,{xor:()=>mZ1,xid:()=>HZ1,void:()=>vZ1,uuidv7:()=>XZ1,uuidv6:()=>JZ1,uuidv4:()=>YZ1,uuid:()=>e31,url:()=>ZZ1,unknown:()=>fG,union:()=>XE,undefined:()=>xZ1,ulid:()=>zZ1,uint64:()=>kZ1,uint32:()=>SZ1,tuple:()=>Gu,transform:()=>WE,templateLiteral:()=>YW1,symbol:()=>_Z1,superRefine:()=>xu,success:()=>sZ1,stringbool:()=>UW1,stringFormat:()=>PZ1,string:()=>vM,strictObject:()=>gZ1,set:()=>nZ1,refine:()=>_u,record:()=>Qu,readonly:()=>Ru,promise:()=>JW1,preprocess:()=>HW1,prefault:()=>wu,pipe:()=>GF,partialRecord:()=>cZ1,optional:()=>WF,object:()=>yZ1,number:()=>lg,nullish:()=>aZ1,nullable:()=>$F,null:()=>rg,nonoptional:()=>Au,never:()=>JE,nativeEnum:()=>iZ1,nanoid:()=>GZ1,nan:()=>tZ1,meta:()=>GW1,map:()=>pZ1,mac:()=>BZ1,looseRecord:()=>lZ1,looseObject:()=>uZ1,literal:()=>oZ1,lazy:()=>Cu,ksuid:()=>OZ1,keyof:()=>bZ1,jwt:()=>AZ1,json:()=>zW1,ipv6:()=>qZ1,ipv4:()=>KZ1,intersection:()=>Wu,int64:()=>jZ1,int32:()=>NZ1,int:()=>hM,instanceof:()=>QW1,httpUrl:()=>WZ1,hostname:()=>LZ1,hex:()=>MZ1,hash:()=>EZ1,guid:()=>t31,function:()=>XW1,float64:()=>RZ1,float32:()=>TZ1,file:()=>rZ1,exactOptional:()=>qu,enum:()=>ZE,emoji:()=>$Z1,email:()=>s31,e164:()=>wZ1,discriminatedUnion:()=>dZ1,describe:()=>$W1,date:()=>hZ1,custom:()=>WW1,cuid2:()=>UZ1,cuid:()=>QZ1,codec:()=>eZ1,cidrv6:()=>VZ1,cidrv4:()=>FZ1,check:()=>ZW1,catch:()=>Mu,boolean:()=>pg,bigint:()=>CZ1,base64url:()=>DZ1,base64:()=>IZ1,array:()=>zF,any:()=>fZ1,_function:()=>XW1,_default:()=>Iu,_ZodString:()=>bM,ZodXor:()=>Ju,ZodXID:()=>lM,ZodVoid:()=>eg,ZodUnknown:()=>sg,ZodUnion:()=>OF,ZodUndefined:()=>ig,ZodUUID:()=>$X,ZodURL:()=>QF,ZodULID:()=>cM,ZodType:()=>M0,ZodTuple:()=>$u,ZodTransform:()=>Ku,ZodTemplateLiteral:()=>Nu,ZodSymbol:()=>ng,ZodSuccess:()=>Pu,ZodStringFormat:()=>S4,ZodString:()=>GH,ZodSet:()=>zu,ZodRecord:()=>KF,ZodReadonly:()=>Tu,ZodPromise:()=>ju,ZodPrefault:()=>Du,ZodPipe:()=>QE,ZodOptional:()=>$E,ZodObject:()=>HF,ZodNumberFormat:()=>vG,ZodNumber:()=>UH,ZodNullable:()=>Fu,ZodNull:()=>og,ZodNonOptional:()=>GE,ZodNever:()=>tg,ZodNanoID:()=>uM,ZodNaN:()=>Eu,ZodMap:()=>Uu,ZodMAC:()=>cg,ZodLiteral:()=>Hu,ZodLazy:()=>Su,ZodKSUID:()=>pM,ZodJWT:()=>eM,ZodIntersection:()=>Zu,ZodIPv6:()=>iM,ZodIPv4:()=>nM,ZodGUID:()=>ZF,ZodFunction:()=>ku,ZodFile:()=>Ou,ZodExactOptional:()=>Bu,ZodEnum:()=>$H,ZodEmoji:()=>gM,ZodEmail:()=>yM,ZodE164:()=>tM,ZodDiscriminatedUnion:()=>Xu,ZodDefault:()=>Vu,ZodDate:()=>UF,ZodCustomStringFormat:()=>QH,ZodCustom:()=>BF,ZodCodec:()=>UE,ZodCatch:()=>Lu,ZodCUID2:()=>dM,ZodCUID:()=>mM,ZodCIDRv6:()=>rM,ZodCIDRv4:()=>oM,ZodBoolean:()=>zH,ZodBigIntFormat:()=>YE,ZodBigInt:()=>HH,ZodBase64URL:()=>sM,ZodBase64:()=>aM,ZodArray:()=>Yu,ZodAny:()=>ag});function vM(Y){return Jy(GH,Y)}function s31(Y){return YM(yM,Y)}function t31(Y){return aq(ZF,Y)}function e31(Y){return JM($X,Y)}function YZ1(Y){return XM($X,Y)}function JZ1(Y){return ZM($X,Y)}function XZ1(Y){return WM($X,Y)}function ZZ1(Y){return sq(QF,Y)}function WZ1(Y){return sq(QF,{protocol:/^https?$/,hostname:h7.domain,...w1.normalizeParams(Y)})}function $Z1(Y){return $M(gM,Y)}function GZ1(Y){return GM(uM,Y)}function QZ1(Y){return QM(mM,Y)}function UZ1(Y){return UM(dM,Y)}function zZ1(Y){return zM(cM,Y)}function HZ1(Y){return HM(lM,Y)}function OZ1(Y){return OM(pM,Y)}function KZ1(Y){return KM(nM,Y)}function BZ1(Y){return Zy(cg,Y)}function qZ1(Y){return BM(iM,Y)}function FZ1(Y){return qM(oM,Y)}function VZ1(Y){return FM(rM,Y)}function IZ1(Y){return VM(aM,Y)}function DZ1(Y){return IM(sM,Y)}function wZ1(Y){return DM(tM,Y)}function AZ1(Y){return wM(eM,Y)}function PZ1(Y,J,X={}){return XH(QH,Y,J,X)}function LZ1(Y){return XH(QH,"hostname",h7.hostname,Y)}function MZ1(Y){return XH(QH,"hex",h7.hex,Y)}function EZ1(Y,J){let X=J?.enc??"hex",Z=`${Y}_${X}`,W=h7[Z];if(!W)throw Error(`Unrecognized hash format: ${Z}`);return XH(QH,Z,W,J)}function lg(Y){return zy(UH,Y)}function hM(Y){return Oy(vG,Y)}function TZ1(Y){return Ky(vG,Y)}function RZ1(Y){return By(vG,Y)}function NZ1(Y){return qy(vG,Y)}function SZ1(Y){return Fy(vG,Y)}function pg(Y){return Vy(zH,Y)}function CZ1(Y){return Dy(HH,Y)}function jZ1(Y){return Ay(YE,Y)}function kZ1(Y){return Py(YE,Y)}function _Z1(Y){return Ly(ng,Y)}function xZ1(Y){return My(ig,Y)}function rg(Y){return Ey(og,Y)}function fZ1(){return Ty(ag)}function fG(){return Ry(sg)}function JE(Y){return Ny(tg,Y)}function vZ1(Y){return Sy(eg,Y)}function hZ1(Y){return Cy(UF,Y)}function zF(Y,J){return _y(Yu,Y,J)}function bZ1(Y){let J=Y._zod.def.shape;return ZE(Object.keys(J))}function yZ1(Y,J){let X={type:"object",shape:Y??{},...w1.normalizeParams(J)};return new HF(X)}function gZ1(Y,J){return new HF({type:"object",shape:Y,catchall:JE(),...w1.normalizeParams(J)})}function uZ1(Y,J){return new HF({type:"object",shape:Y,catchall:fG(),...w1.normalizeParams(J)})}function XE(Y,J){return new OF({type:"union",options:Y,...w1.normalizeParams(J)})}function mZ1(Y,J){return new Ju({type:"union",options:Y,inclusive:!1,...w1.normalizeParams(J)})}function dZ1(Y,J,X){return new Xu({type:"union",options:J,discriminator:Y,...w1.normalizeParams(X)})}function Wu(Y,J){return new Zu({type:"intersection",left:Y,right:J})}function Gu(Y,J,X){let Z=J instanceof I0,W=Z?X:J;return new $u({type:"tuple",items:Y,rest:Z?J:null,...w1.normalizeParams(W)})}function Qu(Y,J,X){return new KF({type:"record",keyType:Y,valueType:J,...w1.normalizeParams(X)})}function cZ1(Y,J,X){let Z=e5(Y);return Z._zod.values=void 0,new KF({type:"record",keyType:Z,valueType:J,...w1.normalizeParams(X)})}function lZ1(Y,J,X){return new KF({type:"record",keyType:Y,valueType:J,mode:"loose",...w1.normalizeParams(X)})}function pZ1(Y,J,X){return new Uu({type:"map",keyType:Y,valueType:J,...w1.normalizeParams(X)})}function nZ1(Y,J){return new zu({type:"set",valueType:Y,...w1.normalizeParams(J)})}function ZE(Y,J){let X=Array.isArray(Y)?Object.fromEntries(Y.map((Z)=>[Z,Z])):Y;return new $H({type:"enum",entries:X,...w1.normalizeParams(J)})}function iZ1(Y,J){return new $H({type:"enum",entries:Y,...w1.normalizeParams(J)})}function oZ1(Y,J){return new Hu({type:"literal",values:Array.isArray(Y)?Y:[Y],...w1.normalizeParams(J)})}function rZ1(Y){return xy(Ou,Y)}function WE(Y){return new Ku({type:"transform",transform:Y})}function WF(Y){return new $E({type:"optional",innerType:Y})}function qu(Y){return new Bu({type:"optional",innerType:Y})}function $F(Y){return new Fu({type:"nullable",innerType:Y})}function aZ1(Y){return WF($F(Y))}function Iu(Y,J){return new Vu({type:"default",innerType:Y,get defaultValue(){return typeof J==="function"?J():w1.shallowClone(J)}})}function wu(Y,J){return new Du({type:"prefault",innerType:Y,get defaultValue(){return typeof J==="function"?J():w1.shallowClone(J)}})}function Au(Y,J){return new GE({type:"nonoptional",innerType:Y,...w1.normalizeParams(J)})}function sZ1(Y){return new Pu({type:"success",innerType:Y})}function Mu(Y,J){return new Lu({type:"catch",innerType:Y,catchValue:typeof J==="function"?J:()=>J})}function tZ1(Y){return ky(Eu,Y)}function GF(Y,J){return new QE({type:"pipe",in:Y,out:J})}function eZ1(Y,J,X){return new UE({type:"pipe",in:Y,out:J,transform:X.decode,reverseTransform:X.encode})}function Ru(Y){return new Tu({type:"readonly",innerType:Y})}function YW1(Y,J){return new Nu({type:"template_literal",parts:Y,...w1.normalizeParams(J)})}function Cu(Y){return new Su({type:"lazy",getter:Y})}function JW1(Y){return new ju({type:"promise",innerType:Y})}function XW1(Y){return new ku({type:"function",input:Array.isArray(Y?.input)?Gu(Y?.input):Y?.input??zF(fG()),output:Y?.output??fG()})}function ZW1(Y){let J=new y4({check:"custom"});return J._zod.check=Y,J}function WW1(Y,J){return fy(BF,Y??(()=>!0),J)}function _u(Y,J={}){return vy(BF,Y,J)}function xu(Y){return hy(Y)}function QW1(Y,J={}){let X=new BF({type:"custom",check:"custom",fn:(Z)=>Z instanceof Y,abort:!0,...w1.normalizeParams(J)});return X._zod.bag.Class=Y,X._zod.check=(Z)=>{if(!(Z.value instanceof Y))Z.issues.push({code:"invalid_type",expected:Y.name,input:Z.value,inst:X,path:[...X._zod.def.path??[]]})},X}function zW1(Y){let J=Cu(()=>{return XE([vM(Y),lg(),pg(),rg(),zF(J),Qu(vM(),J)])});return J}function HW1(Y,J){return GF(WE(Y),J)}var M0,bM,GH,S4,yM,ZF,$X,QF,gM,uM,mM,dM,cM,lM,pM,nM,cg,iM,oM,rM,aM,sM,tM,eM,QH,UH,vG,zH,HH,YE,ng,ig,og,ag,sg,tg,eg,UF,Yu,HF,OF,Ju,Xu,Zu,$u,KF,Uu,zu,$H,Hu,Ou,Ku,$E,Bu,Fu,Vu,Du,GE,Pu,Lu,Eu,QE,UE,Tu,Nu,Su,ju,ku,BF,$W1,GW1,UW1=(...Y)=>gy({Codec:UE,Boolean:zH,String:GH},...Y);var XF=w(()=>{W7();W7();eq();tq();jM();YF();dg();M0=s("ZodType",(Y,J)=>{return I0.init(Y,J),Object.assign(Y["~standard"],{jsonSchema:{input:ZH(Y,"input"),output:ZH(Y,"output")}}),Y.toJSONSchema=uy(Y,{}),Y.def=J,Y.type=J.type,Object.defineProperty(Y,"_def",{value:J}),Y.check=(...X)=>{return Y.clone(w1.mergeDefs(J,{checks:[...J.checks??[],...X.map((Z)=>typeof Z==="function"?{_zod:{check:Z,def:{check:"custom"},onattach:[]}}:Z)]}),{parent:!0})},Y.with=Y.check,Y.clone=(X,Z)=>e5(Y,X,Z),Y.brand=()=>Y,Y.register=(X,Z)=>{return X.add(Y,Z),Y},Y.parse=(X,Z)=>jg(Y,X,Z,{callee:Y.parse}),Y.safeParse=(X,Z)=>_g(Y,X,Z),Y.parseAsync=async(X,Z)=>kg(Y,X,Z,{callee:Y.parseAsync}),Y.safeParseAsync=async(X,Z)=>xg(Y,X,Z),Y.spa=Y.safeParseAsync,Y.encode=(X,Z)=>fg(Y,X,Z),Y.decode=(X,Z)=>vg(Y,X,Z),Y.encodeAsync=async(X,Z)=>hg(Y,X,Z),Y.decodeAsync=async(X,Z)=>bg(Y,X,Z),Y.safeEncode=(X,Z)=>yg(Y,X,Z),Y.safeDecode=(X,Z)=>gg(Y,X,Z),Y.safeEncodeAsync=async(X,Z)=>ug(Y,X,Z),Y.safeDecodeAsync=async(X,Z)=>mg(Y,X,Z),Y.refine=(X,Z)=>Y.check(_u(X,Z)),Y.superRefine=(X)=>Y.check(xu(X)),Y.overwrite=(X)=>Y.check(xY(X)),Y.optional=()=>WF(Y),Y.exactOptional=()=>qu(Y),Y.nullable=()=>$F(Y),Y.nullish=()=>WF($F(Y)),Y.nonoptional=(X)=>Au(Y,X),Y.array=()=>zF(Y),Y.or=(X)=>XE([Y,X]),Y.and=(X)=>Wu(Y,X),Y.transform=(X)=>GF(Y,WE(X)),Y.default=(X)=>Iu(Y,X),Y.prefault=(X)=>wu(Y,X),Y.catch=(X)=>Mu(Y,X),Y.pipe=(X)=>GF(Y,X),Y.readonly=()=>Ru(Y),Y.describe=(X)=>{let Z=Y.clone();return q5.add(Z,{description:X}),Z},Object.defineProperty(Y,"description",{get(){return q5.get(Y)?.description},configurable:!0}),Y.meta=(...X)=>{if(X.length===0)return q5.get(Y);let Z=Y.clone();return q5.add(Z,X[0]),Z},Y.isOptional=()=>Y.safeParse(void 0).success,Y.isNullable=()=>Y.safeParse(null).success,Y.apply=(X)=>X(Y),Y}),bM=s("_ZodString",(Y,J)=>{jG.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(Z,W,$)=>my(Y,Z,W,$);let X=Y._zod.bag;Y.format=X.format??null,Y.minLength=X.minimum??null,Y.maxLength=X.maximum??null,Y.regex=(...Z)=>Y.check(lz(...Z)),Y.includes=(...Z)=>Y.check(iz(...Z)),Y.startsWith=(...Z)=>Y.check(oz(...Z)),Y.endsWith=(...Z)=>Y.check(rz(...Z)),Y.min=(...Z)=>Y.check(v3(...Z)),Y.max=(...Z)=>Y.check(_G(...Z)),Y.length=(...Z)=>Y.check(xG(...Z)),Y.nonempty=(...Z)=>Y.check(v3(1,...Z)),Y.lowercase=(Z)=>Y.check(pz(Z)),Y.uppercase=(Z)=>Y.check(nz(Z)),Y.trim=()=>Y.check(tz()),Y.normalize=(...Z)=>Y.check(sz(...Z)),Y.toLowerCase=()=>Y.check(ez()),Y.toUpperCase=()=>Y.check(YH()),Y.slugify=()=>Y.check(JH())}),GH=s("ZodString",(Y,J)=>{jG.init(Y,J),bM.init(Y,J),Y.email=(X)=>Y.check(YM(yM,X)),Y.url=(X)=>Y.check(sq(QF,X)),Y.jwt=(X)=>Y.check(wM(eM,X)),Y.emoji=(X)=>Y.check($M(gM,X)),Y.guid=(X)=>Y.check(aq(ZF,X)),Y.uuid=(X)=>Y.check(JM($X,X)),Y.uuidv4=(X)=>Y.check(XM($X,X)),Y.uuidv6=(X)=>Y.check(ZM($X,X)),Y.uuidv7=(X)=>Y.check(WM($X,X)),Y.nanoid=(X)=>Y.check(GM(uM,X)),Y.guid=(X)=>Y.check(aq(ZF,X)),Y.cuid=(X)=>Y.check(QM(mM,X)),Y.cuid2=(X)=>Y.check(UM(dM,X)),Y.ulid=(X)=>Y.check(zM(cM,X)),Y.base64=(X)=>Y.check(VM(aM,X)),Y.base64url=(X)=>Y.check(IM(sM,X)),Y.xid=(X)=>Y.check(HM(lM,X)),Y.ksuid=(X)=>Y.check(OM(pM,X)),Y.ipv4=(X)=>Y.check(KM(nM,X)),Y.ipv6=(X)=>Y.check(BM(iM,X)),Y.cidrv4=(X)=>Y.check(qM(oM,X)),Y.cidrv6=(X)=>Y.check(FM(rM,X)),Y.e164=(X)=>Y.check(DM(tM,X)),Y.datetime=(X)=>Y.check(Tg(X)),Y.date=(X)=>Y.check(Rg(X)),Y.time=(X)=>Y.check(Ng(X)),Y.duration=(X)=>Y.check(Sg(X))});S4=s("ZodStringFormat",(Y,J)=>{N4.init(Y,J),bM.init(Y,J)}),yM=s("ZodEmail",(Y,J)=>{ov.init(Y,J),S4.init(Y,J)});ZF=s("ZodGUID",(Y,J)=>{nv.init(Y,J),S4.init(Y,J)});$X=s("ZodUUID",(Y,J)=>{iv.init(Y,J),S4.init(Y,J)});QF=s("ZodURL",(Y,J)=>{rv.init(Y,J),S4.init(Y,J)});gM=s("ZodEmoji",(Y,J)=>{av.init(Y,J),S4.init(Y,J)});uM=s("ZodNanoID",(Y,J)=>{sv.init(Y,J),S4.init(Y,J)});mM=s("ZodCUID",(Y,J)=>{tv.init(Y,J),S4.init(Y,J)});dM=s("ZodCUID2",(Y,J)=>{ev.init(Y,J),S4.init(Y,J)});cM=s("ZodULID",(Y,J)=>{Yh.init(Y,J),S4.init(Y,J)});lM=s("ZodXID",(Y,J)=>{Jh.init(Y,J),S4.init(Y,J)});pM=s("ZodKSUID",(Y,J)=>{Xh.init(Y,J),S4.init(Y,J)});nM=s("ZodIPv4",(Y,J)=>{Qh.init(Y,J),S4.init(Y,J)});cg=s("ZodMAC",(Y,J)=>{zh.init(Y,J),S4.init(Y,J)});iM=s("ZodIPv6",(Y,J)=>{Uh.init(Y,J),S4.init(Y,J)});oM=s("ZodCIDRv4",(Y,J)=>{Hh.init(Y,J),S4.init(Y,J)});rM=s("ZodCIDRv6",(Y,J)=>{Oh.init(Y,J),S4.init(Y,J)});aM=s("ZodBase64",(Y,J)=>{Bh.init(Y,J),S4.init(Y,J)});sM=s("ZodBase64URL",(Y,J)=>{qh.init(Y,J),S4.init(Y,J)});tM=s("ZodE164",(Y,J)=>{Fh.init(Y,J),S4.init(Y,J)});eM=s("ZodJWT",(Y,J)=>{Vh.init(Y,J),S4.init(Y,J)});QH=s("ZodCustomStringFormat",(Y,J)=>{Ih.init(Y,J),S4.init(Y,J)});UH=s("ZodNumber",(Y,J)=>{rL.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(Z,W,$)=>dy(Y,Z,W,$),Y.gt=(Z,W)=>Y.check(ZX(Z,W)),Y.gte=(Z,W)=>Y.check(Y9(Z,W)),Y.min=(Z,W)=>Y.check(Y9(Z,W)),Y.lt=(Z,W)=>Y.check(XX(Z,W)),Y.lte=(Z,W)=>Y.check(Z7(Z,W)),Y.max=(Z,W)=>Y.check(Z7(Z,W)),Y.int=(Z)=>Y.check(hM(Z)),Y.safe=(Z)=>Y.check(hM(Z)),Y.positive=(Z)=>Y.check(ZX(0,Z)),Y.nonnegative=(Z)=>Y.check(Y9(0,Z)),Y.negative=(Z)=>Y.check(XX(0,Z)),Y.nonpositive=(Z)=>Y.check(Z7(0,Z)),Y.multipleOf=(Z,W)=>Y.check(WW(Z,W)),Y.step=(Z,W)=>Y.check(WW(Z,W)),Y.finite=()=>Y;let X=Y._zod.bag;Y.minValue=Math.max(X.minimum??Number.NEGATIVE_INFINITY,X.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,Y.maxValue=Math.min(X.maximum??Number.POSITIVE_INFINITY,X.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,Y.isInt=(X.format??"").includes("int")||Number.isSafeInteger(X.multipleOf??0.5),Y.isFinite=!0,Y.format=X.format??null});vG=s("ZodNumberFormat",(Y,J)=>{Dh.init(Y,J),UH.init(Y,J)});zH=s("ZodBoolean",(Y,J)=>{mq.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>cy(Y,X,Z,W)});HH=s("ZodBigInt",(Y,J)=>{aL.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(Z,W,$)=>ly(Y,Z,W,$),Y.gte=(Z,W)=>Y.check(Y9(Z,W)),Y.min=(Z,W)=>Y.check(Y9(Z,W)),Y.gt=(Z,W)=>Y.check(ZX(Z,W)),Y.gte=(Z,W)=>Y.check(Y9(Z,W)),Y.min=(Z,W)=>Y.check(Y9(Z,W)),Y.lt=(Z,W)=>Y.check(XX(Z,W)),Y.lte=(Z,W)=>Y.check(Z7(Z,W)),Y.max=(Z,W)=>Y.check(Z7(Z,W)),Y.positive=(Z)=>Y.check(ZX(BigInt(0),Z)),Y.negative=(Z)=>Y.check(XX(BigInt(0),Z)),Y.nonpositive=(Z)=>Y.check(Z7(BigInt(0),Z)),Y.nonnegative=(Z)=>Y.check(Y9(BigInt(0),Z)),Y.multipleOf=(Z,W)=>Y.check(WW(Z,W));let X=Y._zod.bag;Y.minValue=X.minimum??null,Y.maxValue=X.maximum??null,Y.format=X.format??null});YE=s("ZodBigIntFormat",(Y,J)=>{wh.init(Y,J),HH.init(Y,J)});ng=s("ZodSymbol",(Y,J)=>{Ah.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>py(Y,X,Z,W)});ig=s("ZodUndefined",(Y,J)=>{Ph.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>iy(Y,X,Z,W)});og=s("ZodNull",(Y,J)=>{Lh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>ny(Y,X,Z,W)});ag=s("ZodAny",(Y,J)=>{Mh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>ay(Y,X,Z,W)});sg=s("ZodUnknown",(Y,J)=>{Eh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>sy(Y,X,Z,W)});tg=s("ZodNever",(Y,J)=>{Th.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>ry(Y,X,Z,W)});eg=s("ZodVoid",(Y,J)=>{Rh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>oy(Y,X,Z,W)});UF=s("ZodDate",(Y,J)=>{Nh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(Z,W,$)=>ty(Y,Z,W,$),Y.min=(Z,W)=>Y.check(Y9(Z,W)),Y.max=(Z,W)=>Y.check(Z7(Z,W));let X=Y._zod.bag;Y.minDate=X.minimum?new Date(X.minimum):null,Y.maxDate=X.maximum?new Date(X.maximum):null});Yu=s("ZodArray",(Y,J)=>{Sh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Hg(Y,X,Z,W),Y.element=J.element,Y.min=(X,Z)=>Y.check(v3(X,Z)),Y.nonempty=(X)=>Y.check(v3(1,X)),Y.max=(X,Z)=>Y.check(_G(X,Z)),Y.length=(X,Z)=>Y.check(xG(X,Z)),Y.unwrap=()=>Y.element});HF=s("ZodObject",(Y,J)=>{Ch.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Og(Y,X,Z,W),w1.defineLazy(Y,"shape",()=>{return J.shape}),Y.keyof=()=>ZE(Object.keys(Y._zod.def.shape)),Y.catchall=(X)=>Y.clone({...Y._zod.def,catchall:X}),Y.passthrough=()=>Y.clone({...Y._zod.def,catchall:fG()}),Y.loose=()=>Y.clone({...Y._zod.def,catchall:fG()}),Y.strict=()=>Y.clone({...Y._zod.def,catchall:JE()}),Y.strip=()=>Y.clone({...Y._zod.def,catchall:void 0}),Y.extend=(X)=>{return w1.extend(Y,X)},Y.safeExtend=(X)=>{return w1.safeExtend(Y,X)},Y.merge=(X)=>w1.merge(Y,X),Y.pick=(X)=>w1.pick(Y,X),Y.omit=(X)=>w1.omit(Y,X),Y.partial=(...X)=>w1.partial($E,Y,X[0]),Y.required=(...X)=>w1.required(GE,Y,X[0])});OF=s("ZodUnion",(Y,J)=>{dq.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>RM(Y,X,Z,W),Y.options=J.options});Ju=s("ZodXor",(Y,J)=>{OF.init(Y,J),jh.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>RM(Y,X,Z,W),Y.options=J.options});Xu=s("ZodDiscriminatedUnion",(Y,J)=>{OF.init(Y,J),kh.init(Y,J)});Zu=s("ZodIntersection",(Y,J)=>{_h.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Kg(Y,X,Z,W)});$u=s("ZodTuple",(Y,J)=>{sL.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Bg(Y,X,Z,W),Y.rest=(X)=>Y.clone({...Y._zod.def,rest:X})});KF=s("ZodRecord",(Y,J)=>{xh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>qg(Y,X,Z,W),Y.keyType=J.keyType,Y.valueType=J.valueType});Uu=s("ZodMap",(Y,J)=>{fh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Ug(Y,X,Z,W),Y.keyType=J.keyType,Y.valueType=J.valueType,Y.min=(...X)=>Y.check(WX(...X)),Y.nonempty=(X)=>Y.check(WX(1,X)),Y.max=(...X)=>Y.check($W(...X)),Y.size=(...X)=>Y.check(kG(...X))});zu=s("ZodSet",(Y,J)=>{vh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>zg(Y,X,Z,W),Y.min=(...X)=>Y.check(WX(...X)),Y.nonempty=(X)=>Y.check(WX(1,X)),Y.max=(...X)=>Y.check($W(...X)),Y.size=(...X)=>Y.check(kG(...X))});$H=s("ZodEnum",(Y,J)=>{hh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(Z,W,$)=>ey(Y,Z,W,$),Y.enum=J.entries,Y.options=Object.values(J.entries);let X=new Set(Object.keys(J.entries));Y.extract=(Z,W)=>{let $={};for(let G of Z)if(X.has(G))$[G]=J.entries[G];else throw Error(`Key ${G} not found in enum`);return new $H({...J,checks:[],...w1.normalizeParams(W),entries:$})},Y.exclude=(Z,W)=>{let $={...J.entries};for(let G of Z)if(X.has(G))delete $[G];else throw Error(`Key ${G} not found in enum`);return new $H({...J,checks:[],...w1.normalizeParams(W),entries:$})}});Hu=s("ZodLiteral",(Y,J)=>{bh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Yg(Y,X,Z,W),Y.values=new Set(J.values),Object.defineProperty(Y,"value",{get(){if(J.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return J.values[0]}})});Ou=s("ZodFile",(Y,J)=>{yh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Zg(Y,X,Z,W),Y.min=(X,Z)=>Y.check(WX(X,Z)),Y.max=(X,Z)=>Y.check($W(X,Z)),Y.mime=(X,Z)=>Y.check(az(Array.isArray(X)?X:[X],Z))});Ku=s("ZodTransform",(Y,J)=>{gh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Qg(Y,X,Z,W),Y._zod.parse=(X,Z)=>{if(Z.direction==="backward")throw new NG(Y.constructor.name);X.addIssue=($)=>{if(typeof $==="string")X.issues.push(w1.issue($,X.value,J));else{let G=$;if(G.fatal)G.continue=!1;G.code??(G.code="custom"),G.input??(G.input=X.value),G.inst??(G.inst=Y),X.issues.push(w1.issue(G))}};let W=J.transform(X.value,X);if(W instanceof Promise)return W.then(($)=>{return X.value=$,X});return X.value=W,X}});$E=s("ZodOptional",(Y,J)=>{tL.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>NM(Y,X,Z,W),Y.unwrap=()=>Y._zod.def.innerType});Bu=s("ZodExactOptional",(Y,J)=>{uh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>NM(Y,X,Z,W),Y.unwrap=()=>Y._zod.def.innerType});Fu=s("ZodNullable",(Y,J)=>{mh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Fg(Y,X,Z,W),Y.unwrap=()=>Y._zod.def.innerType});Vu=s("ZodDefault",(Y,J)=>{dh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Ig(Y,X,Z,W),Y.unwrap=()=>Y._zod.def.innerType,Y.removeDefault=Y.unwrap});Du=s("ZodPrefault",(Y,J)=>{ch.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Dg(Y,X,Z,W),Y.unwrap=()=>Y._zod.def.innerType});GE=s("ZodNonOptional",(Y,J)=>{lh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Vg(Y,X,Z,W),Y.unwrap=()=>Y._zod.def.innerType});Pu=s("ZodSuccess",(Y,J)=>{ph.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Wg(Y,X,Z,W),Y.unwrap=()=>Y._zod.def.innerType});Lu=s("ZodCatch",(Y,J)=>{nh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>wg(Y,X,Z,W),Y.unwrap=()=>Y._zod.def.innerType,Y.removeCatch=Y.unwrap});Eu=s("ZodNaN",(Y,J)=>{ih.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Jg(Y,X,Z,W)});QE=s("ZodPipe",(Y,J)=>{oh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Ag(Y,X,Z,W),Y.in=J.in,Y.out=J.out});UE=s("ZodCodec",(Y,J)=>{QE.init(Y,J),cq.init(Y,J)});Tu=s("ZodReadonly",(Y,J)=>{rh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Pg(Y,X,Z,W),Y.unwrap=()=>Y._zod.def.innerType});Nu=s("ZodTemplateLiteral",(Y,J)=>{ah.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Xg(Y,X,Z,W)});Su=s("ZodLazy",(Y,J)=>{eh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Mg(Y,X,Z,W),Y.unwrap=()=>Y._zod.def.getter()});ju=s("ZodPromise",(Y,J)=>{th.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Lg(Y,X,Z,W),Y.unwrap=()=>Y._zod.def.innerType});ku=s("ZodFunction",(Y,J)=>{sh.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>Gg(Y,X,Z,W)});BF=s("ZodCustom",(Y,J)=>{Yb.init(Y,J),M0.init(Y,J),Y._zod.processJSONSchema=(X,Z,W)=>$g(Y,X,Z,W)});$W1=by,GW1=yy});function zp0(Y){b6({customError:Y})}function Hp0(){return b6().customError}var Up0,fu;var OW1=w(()=>{W7();Up0={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};(function(Y){})(fu||(fu={}))});function Kp0(Y,J){let X=Y.$schema;if(X==="https://json-schema.org/draft/2020-12/schema")return"draft-2020-12";if(X==="http://json-schema.org/draft-07/schema#")return"draft-7";if(X==="http://json-schema.org/draft-04/schema#")return"draft-4";return J??"draft-2020-12"}function Bp0(Y,J){if(!Y.startsWith("#"))throw Error("External $ref is not supported, only local refs (#/...) are allowed");let X=Y.slice(1).split("/").filter(Boolean);if(X.length===0)return J.rootSchema;let Z=J.version==="draft-2020-12"?"$defs":"definitions";if(X[0]===Z){let W=X[1];if(!W||!J.defs[W])throw Error(`Reference not found: ${Y}`);return J.defs[W]}throw Error(`Reference not found: ${Y}`)}function KW1(Y,J){if(Y.not!==void 0){if(typeof Y.not==="object"&&Object.keys(Y.not).length===0)return j1.never();throw Error("not is not supported in Zod (except { not: {} } for never)")}if(Y.unevaluatedItems!==void 0)throw Error("unevaluatedItems is not supported");if(Y.unevaluatedProperties!==void 0)throw Error("unevaluatedProperties is not supported");if(Y.if!==void 0||Y.then!==void 0||Y.else!==void 0)throw Error("Conditional schemas (if/then/else) are not supported");if(Y.dependentSchemas!==void 0||Y.dependentRequired!==void 0)throw Error("dependentSchemas and dependentRequired are not supported");if(Y.$ref){let W=Y.$ref;if(J.refs.has(W))return J.refs.get(W);if(J.processing.has(W))return j1.lazy(()=>{if(!J.refs.has(W))throw Error(`Circular reference not resolved: ${W}`);return J.refs.get(W)});J.processing.add(W);let $=Bp0(W,J),G=x5($,J);return J.refs.set(W,G),J.processing.delete(W),G}if(Y.enum!==void 0){let W=Y.enum;if(J.version==="openapi-3.0"&&Y.nullable===!0&&W.length===1&&W[0]===null)return j1.null();if(W.length===0)return j1.never();if(W.length===1)return j1.literal(W[0]);if(W.every((G)=>typeof G==="string"))return j1.enum(W);let $=W.map((G)=>j1.literal(G));if($.length<2)return $[0];return j1.union([$[0],$[1],...$.slice(2)])}if(Y.const!==void 0)return j1.literal(Y.const);let X=Y.type;if(Array.isArray(X)){let W=X.map(($)=>{let G={...Y,type:$};return KW1(G,J)});if(W.length===0)return j1.never();if(W.length===1)return W[0];return j1.union(W)}if(!X)return j1.any();let Z;switch(X){case"string":{let W=j1.string();if(Y.format){let $=Y.format;if($==="email")W=W.check(j1.email());else if($==="uri"||$==="uri-reference")W=W.check(j1.url());else if($==="uuid"||$==="guid")W=W.check(j1.uuid());else if($==="date-time")W=W.check(j1.iso.datetime());else if($==="date")W=W.check(j1.iso.date());else if($==="time")W=W.check(j1.iso.time());else if($==="duration")W=W.check(j1.iso.duration());else if($==="ipv4")W=W.check(j1.ipv4());else if($==="ipv6")W=W.check(j1.ipv6());else if($==="mac")W=W.check(j1.mac());else if($==="cidr")W=W.check(j1.cidrv4());else if($==="cidr-v6")W=W.check(j1.cidrv6());else if($==="base64")W=W.check(j1.base64());else if($==="base64url")W=W.check(j1.base64url());else if($==="e164")W=W.check(j1.e164());else if($==="jwt")W=W.check(j1.jwt());else if($==="emoji")W=W.check(j1.emoji());else if($==="nanoid")W=W.check(j1.nanoid());else if($==="cuid")W=W.check(j1.cuid());else if($==="cuid2")W=W.check(j1.cuid2());else if($==="ulid")W=W.check(j1.ulid());else if($==="xid")W=W.check(j1.xid());else if($==="ksuid")W=W.check(j1.ksuid())}if(typeof Y.minLength==="number")W=W.min(Y.minLength);if(typeof Y.maxLength==="number")W=W.max(Y.maxLength);if(Y.pattern)W=W.regex(new RegExp(Y.pattern));Z=W;break}case"number":case"integer":{let W=X==="integer"?j1.number().int():j1.number();if(typeof Y.minimum==="number")W=W.min(Y.minimum);if(typeof Y.maximum==="number")W=W.max(Y.maximum);if(typeof Y.exclusiveMinimum==="number")W=W.gt(Y.exclusiveMinimum);else if(Y.exclusiveMinimum===!0&&typeof Y.minimum==="number")W=W.gt(Y.minimum);if(typeof Y.exclusiveMaximum==="number")W=W.lt(Y.exclusiveMaximum);else if(Y.exclusiveMaximum===!0&&typeof Y.maximum==="number")W=W.lt(Y.maximum);if(typeof Y.multipleOf==="number")W=W.multipleOf(Y.multipleOf);Z=W;break}case"boolean":{Z=j1.boolean();break}case"null":{Z=j1.null();break}case"object":{let W={},$=Y.properties||{},G=new Set(Y.required||[]);for(let[U,z]of Object.entries($)){let H=x5(z,J);W[U]=G.has(U)?H:H.optional()}if(Y.propertyNames){let U=x5(Y.propertyNames,J),z=Y.additionalProperties&&typeof Y.additionalProperties==="object"?x5(Y.additionalProperties,J):j1.any();if(Object.keys(W).length===0){Z=j1.record(U,z);break}let H=j1.object(W).passthrough(),O=j1.looseRecord(U,z);Z=j1.intersection(H,O);break}if(Y.patternProperties){let U=Y.patternProperties,z=Object.keys(U),H=[];for(let K of z){let B=x5(U[K],J),F=j1.string().regex(new RegExp(K));H.push(j1.looseRecord(F,B))}let O=[];if(Object.keys(W).length>0)O.push(j1.object(W).passthrough());if(O.push(...H),O.length===0)Z=j1.object({}).passthrough();else if(O.length===1)Z=O[0];else{let K=j1.intersection(O[0],O[1]);for(let B=2;B<O.length;B++)K=j1.intersection(K,O[B]);Z=K}break}let Q=j1.object(W);if(Y.additionalProperties===!1)Z=Q.strict();else if(typeof Y.additionalProperties==="object")Z=Q.catchall(x5(Y.additionalProperties,J));else Z=Q.passthrough();break}case"array":{let{prefixItems:W,items:$}=Y;if(W&&Array.isArray(W)){let G=W.map((U)=>x5(U,J)),Q=$&&typeof $==="object"&&!Array.isArray($)?x5($,J):void 0;if(Q)Z=j1.tuple(G).rest(Q);else Z=j1.tuple(G);if(typeof Y.minItems==="number")Z=Z.check(j1.minLength(Y.minItems));if(typeof Y.maxItems==="number")Z=Z.check(j1.maxLength(Y.maxItems))}else if(Array.isArray($)){let G=$.map((U)=>x5(U,J)),Q=Y.additionalItems&&typeof Y.additionalItems==="object"?x5(Y.additionalItems,J):void 0;if(Q)Z=j1.tuple(G).rest(Q);else Z=j1.tuple(G);if(typeof Y.minItems==="number")Z=Z.check(j1.minLength(Y.minItems));if(typeof Y.maxItems==="number")Z=Z.check(j1.maxLength(Y.maxItems))}else if($!==void 0){let G=x5($,J),Q=j1.array(G);if(typeof Y.minItems==="number")Q=Q.min(Y.minItems);if(typeof Y.maxItems==="number")Q=Q.max(Y.maxItems);Z=Q}else Z=j1.array(j1.any());break}default:throw Error(`Unsupported type: ${X}`)}if(Y.description)Z=Z.describe(Y.description);if(Y.default!==void 0)Z=Z.default(Y.default);return Z}function x5(Y,J){if(typeof Y==="boolean")return Y?j1.any():j1.never();let X=KW1(Y,J),Z=Y.type||Y.enum!==void 0||Y.const!==void 0;if(Y.anyOf&&Array.isArray(Y.anyOf)){let Q=Y.anyOf.map((z)=>x5(z,J)),U=j1.union(Q);X=Z?j1.intersection(X,U):U}if(Y.oneOf&&Array.isArray(Y.oneOf)){let Q=Y.oneOf.map((z)=>x5(z,J)),U=j1.xor(Q);X=Z?j1.intersection(X,U):U}if(Y.allOf&&Array.isArray(Y.allOf))if(Y.allOf.length===0)X=Z?X:j1.any();else{let Q=Z?X:x5(Y.allOf[0],J),U=Z?0:1;for(let z=U;z<Y.allOf.length;z++)Q=j1.intersection(Q,x5(Y.allOf[z],J));X=Q}if(Y.nullable===!0&&J.version==="openapi-3.0")X=j1.nullable(X);if(Y.readOnly===!0)X=j1.readonly(X);let W={},$=["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"];for(let Q of $)if(Q in Y)W[Q]=Y[Q];let G=["contentEncoding","contentMediaType","contentSchema"];for(let Q of G)if(Q in Y)W[Q]=Y[Q];for(let Q of Object.keys(Y))if(!Op0.has(Q))W[Q]=Y[Q];if(Object.keys(W).length>0)J.registry.add(X,W);return X}function BW1(Y,J){if(typeof Y==="boolean")return Y?j1.any():j1.never();let X=Kp0(Y,J?.defaultTarget),Z=Y.$defs||Y.definitions||{},W={version:X,defs:Z,refs:new Map,processing:new Set,rootSchema:Y,registry:J?.registry??q5};return x5(Y,W)}var j1,Op0;var qW1=w(()=>{rq();jM();YF();XF();j1={...JF,...CM,iso:WH},Op0=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"])});var vu={};h6(vu,{string:()=>qp0,number:()=>Fp0,date:()=>Dp0,boolean:()=>Vp0,bigint:()=>Ip0});function qp0(Y){return Xy(GH,Y)}function Fp0(Y){return Hy(UH,Y)}function Vp0(Y){return Iy(zH,Y)}function Ip0(Y){return wy(HH,Y)}function Dp0(Y){return jy(UF,Y)}var FW1=w(()=>{W7();XF()});var Z1={};h6(Z1,{xor:()=>mZ1,xid:()=>HZ1,void:()=>vZ1,uuidv7:()=>XZ1,uuidv6:()=>JZ1,uuidv4:()=>YZ1,uuid:()=>e31,util:()=>w1,url:()=>ZZ1,uppercase:()=>nz,unknown:()=>fG,union:()=>XE,undefined:()=>xZ1,ulid:()=>zZ1,uint64:()=>kZ1,uint32:()=>SZ1,tuple:()=>Gu,trim:()=>tz,treeifyError:()=>lf,transform:()=>WE,toUpperCase:()=>YH,toLowerCase:()=>ez,toJSONSchema:()=>SM,templateLiteral:()=>YW1,symbol:()=>_Z1,superRefine:()=>xu,success:()=>sZ1,stringbool:()=>UW1,stringFormat:()=>PZ1,string:()=>vM,strictObject:()=>gZ1,startsWith:()=>oz,slugify:()=>JH,size:()=>kG,setErrorMap:()=>zp0,set:()=>nZ1,safeParseAsync:()=>xg,safeParse:()=>_g,safeEncodeAsync:()=>ug,safeEncode:()=>yg,safeDecodeAsync:()=>mg,safeDecode:()=>gg,registry:()=>eL,regexes:()=>h7,regex:()=>lz,refine:()=>_u,record:()=>Qu,readonly:()=>Ru,property:()=>EM,promise:()=>JW1,prettifyError:()=>pf,preprocess:()=>HW1,prefault:()=>wu,positive:()=>AM,pipe:()=>GF,partialRecord:()=>cZ1,parseAsync:()=>kg,parse:()=>jg,overwrite:()=>xY,optional:()=>WF,object:()=>yZ1,number:()=>lg,nullish:()=>aZ1,nullable:()=>$F,null:()=>rg,normalize:()=>sz,nonpositive:()=>LM,nonoptional:()=>Au,nonnegative:()=>MM,never:()=>JE,negative:()=>PM,nativeEnum:()=>iZ1,nanoid:()=>GZ1,nan:()=>tZ1,multipleOf:()=>WW,minSize:()=>WX,minLength:()=>v3,mime:()=>az,meta:()=>GW1,maxSize:()=>$W,maxLength:()=>_G,map:()=>pZ1,mac:()=>BZ1,lte:()=>Z7,lt:()=>XX,lowercase:()=>pz,looseRecord:()=>lZ1,looseObject:()=>uZ1,locales:()=>oq,literal:()=>oZ1,length:()=>xG,lazy:()=>Cu,ksuid:()=>OZ1,keyof:()=>bZ1,jwt:()=>AZ1,json:()=>zW1,iso:()=>WH,ipv6:()=>qZ1,ipv4:()=>KZ1,intersection:()=>Wu,int64:()=>jZ1,int32:()=>NZ1,int:()=>hM,instanceof:()=>QW1,includes:()=>iz,httpUrl:()=>WZ1,hostname:()=>LZ1,hex:()=>MZ1,hash:()=>EZ1,guid:()=>t31,gte:()=>Y9,gt:()=>ZX,globalRegistry:()=>q5,getErrorMap:()=>Hp0,function:()=>XW1,fromJSONSchema:()=>BW1,formatError:()=>bq,float64:()=>RZ1,float32:()=>TZ1,flattenError:()=>hq,file:()=>rZ1,exactOptional:()=>qu,enum:()=>ZE,endsWith:()=>rz,encodeAsync:()=>hg,encode:()=>fg,emoji:()=>$Z1,email:()=>s31,e164:()=>wZ1,discriminatedUnion:()=>dZ1,describe:()=>$W1,decodeAsync:()=>bg,decode:()=>vg,date:()=>hZ1,custom:()=>WW1,cuid2:()=>UZ1,cuid:()=>QZ1,core:()=>h3,config:()=>b6,coerce:()=>vu,codec:()=>eZ1,clone:()=>e5,cidrv6:()=>VZ1,cidrv4:()=>FZ1,check:()=>ZW1,catch:()=>Mu,boolean:()=>pg,bigint:()=>CZ1,base64url:()=>DZ1,base64:()=>IZ1,array:()=>zF,any:()=>fZ1,_function:()=>XW1,_default:()=>Iu,_ZodString:()=>bM,ZodXor:()=>Ju,ZodXID:()=>lM,ZodVoid:()=>eg,ZodUnknown:()=>sg,ZodUnion:()=>OF,ZodUndefined:()=>ig,ZodUUID:()=>$X,ZodURL:()=>QF,ZodULID:()=>cM,ZodType:()=>M0,ZodTuple:()=>$u,ZodTransform:()=>Ku,ZodTemplateLiteral:()=>Nu,ZodSymbol:()=>ng,ZodSuccess:()=>Pu,ZodStringFormat:()=>S4,ZodString:()=>GH,ZodSet:()=>zu,ZodRecord:()=>KF,ZodRealError:()=>C9,ZodReadonly:()=>Tu,ZodPromise:()=>ju,ZodPrefault:()=>Du,ZodPipe:()=>QE,ZodOptional:()=>$E,ZodObject:()=>HF,ZodNumberFormat:()=>vG,ZodNumber:()=>UH,ZodNullable:()=>Fu,ZodNull:()=>og,ZodNonOptional:()=>GE,ZodNever:()=>tg,ZodNanoID:()=>uM,ZodNaN:()=>Eu,ZodMap:()=>Uu,ZodMAC:()=>cg,ZodLiteral:()=>Hu,ZodLazy:()=>Su,ZodKSUID:()=>pM,ZodJWT:()=>eM,ZodIssueCode:()=>Up0,ZodIntersection:()=>Zu,ZodISOTime:()=>xM,ZodISODuration:()=>fM,ZodISODateTime:()=>kM,ZodISODate:()=>_M,ZodIPv6:()=>iM,ZodIPv4:()=>nM,ZodGUID:()=>ZF,ZodFunction:()=>ku,ZodFirstPartyTypeKind:()=>fu,ZodFile:()=>Ou,ZodExactOptional:()=>Bu,ZodError:()=>Gp0,ZodEnum:()=>$H,ZodEmoji:()=>gM,ZodEmail:()=>yM,ZodE164:()=>tM,ZodDiscriminatedUnion:()=>Xu,ZodDefault:()=>Vu,ZodDate:()=>UF,ZodCustomStringFormat:()=>QH,ZodCustom:()=>BF,ZodCodec:()=>UE,ZodCatch:()=>Lu,ZodCUID2:()=>dM,ZodCUID:()=>mM,ZodCIDRv6:()=>rM,ZodCIDRv4:()=>oM,ZodBoolean:()=>zH,ZodBigIntFormat:()=>YE,ZodBigInt:()=>HH,ZodBase64URL:()=>sM,ZodBase64:()=>aM,ZodArray:()=>Yu,ZodAny:()=>ag,TimePrecision:()=>Wy,NEVER:()=>xf,$output:()=>tb,$input:()=>eb,$brand:()=>ff});var hu=w(()=>{W7();W7();Hb();W7();eq();qW1();sb();YF();YF();FW1();XF();jM();Cg();dg();OW1();b6(lq())});var qF=w(()=>{hu();hu()});function Ap0(Y,J){if(!(Y.runtime.NODE_ENV==="production"||Y.telemetry.DEPLOYMENT_ENVIRONMENT==="production"))return;if(Y.capella.COUCHBASE_PASSWORD==="password")J.addIssue({code:Z1.ZodIssueCode.custom,message:"CRITICAL SECURITY: Default password not allowed in production - this is a security vulnerability",path:["capella","COUCHBASE_PASSWORD"]});if(Y.capella.COUCHBASE_USERNAME==="Administrator")J.addIssue({code:Z1.ZodIssueCode.custom,message:"WARNING: Using default Administrator username in production is not recommended",path:["capella","COUCHBASE_USERNAME"]});if(Y.application.ALLOWED_ORIGINS.some((Z)=>Z==="*"||Z.includes("localhost")))J.addIssue({code:Z1.ZodIssueCode.custom,message:"Production CORS origins should not include localhost or wildcards",path:["application","ALLOWED_ORIGINS"]});try{let Z=new URL(Y.capella.COUCHBASE_URL);if(Z.hostname==="localhost"||Z.hostname==="127.0.0.1")J.addIssue({code:Z1.ZodIssueCode.custom,message:"Production database cannot use localhost",path:["capella","COUCHBASE_URL"]})}catch{}}var zW,wp0,Io6,VW1,zE,HE,OE,KE,BE,FF,IW1,VF;var bu=w(()=>{qF();zW=Z1.string().min(1),wp0=Z1.number().int().min(1).max(65535),Io6=Z1.number().int().min(1),VW1=Z1.enum(["development","staging","production","test"]),zE=Z1.strictObject({LOG_LEVEL:Z1.enum(["debug","info","warn","error"]).describe("Application log level"),YOGA_RESPONSE_CACHE_TTL:Z1.number().min(0,"Cache TTL must be non-negative").max(3600000,"Cache TTL should not exceed 1 hour").refine((Y)=>!Number.isNaN(Y),"Cache TTL cannot be NaN").describe("GraphQL Yoga response cache TTL in milliseconds"),PORT:wp0.describe("Server listening port"),ALLOWED_ORIGINS:Z1.array(Z1.string().url()).describe("CORS allowed origins"),BASE_URL:Z1.string().url("BASE_URL must be a valid URL").describe("Application base URL")}),HE=Z1.strictObject({COUCHBASE_URL:Z1.string().url("Must be a valid Couchbase connection URL").describe("Couchbase cluster URL"),COUCHBASE_USERNAME:zW.describe("Couchbase username"),COUCHBASE_PASSWORD:zW.describe("Couchbase password"),COUCHBASE_BUCKET:zW.describe("Couchbase bucket name"),COUCHBASE_SCOPE:zW.describe("Couchbase scope name"),COUCHBASE_COLLECTION:zW.describe("Couchbase collection name"),COUCHBASE_KV_TIMEOUT:Z1.number().min(1000,"KV timeout must be at least 1 second").max(30000,"KV timeout should not exceed 30 seconds").describe("Key-value operation timeout"),COUCHBASE_KV_DURABLE_TIMEOUT:Z1.number().min(5000,"KV durable timeout must be at least 5 seconds").max(60000,"KV durable timeout should not exceed 60 seconds").describe("Durable key-value operation timeout"),COUCHBASE_QUERY_TIMEOUT:Z1.number().min(5000,"Query timeout must be at least 5 seconds").max(120000,"Query timeout should not exceed 2 minutes").describe("N1QL query timeout"),COUCHBASE_ANALYTICS_TIMEOUT:Z1.number().min(1e4,"Analytics timeout must be at least 10 seconds").max(300000,"Analytics timeout should not exceed 5 minutes").describe("Analytics query timeout"),COUCHBASE_SEARCH_TIMEOUT:Z1.number().min(5000,"Search timeout must be at least 5 seconds").max(120000,"Search timeout should not exceed 2 minutes").describe("Full-text search timeout"),COUCHBASE_CONNECT_TIMEOUT:Z1.number().min(5000,"Connect timeout must be at least 5 seconds").max(60000,"Connect timeout should not exceed 60 seconds").describe("Connection timeout"),COUCHBASE_BOOTSTRAP_TIMEOUT:Z1.number().min(1e4,"Bootstrap timeout must be at least 10 seconds").max(120000,"Bootstrap timeout should not exceed 2 minutes").describe("Cluster bootstrap timeout")}),OE=Z1.strictObject({NODE_ENV:VW1.describe("Runtime environment"),CN_ROOT:zW.describe("Application root directory"),CN_CXXCBC_CACHE_DIR:Z1.string().optional().describe("Couchbase C++ SDK cache directory"),SOURCE_MAP_SUPPORT:Z1.boolean().describe("Enable source map support"),PRESERVE_SOURCE_MAPS:Z1.boolean().describe("Preserve source maps in production"),BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS:Z1.number().min(0,"DNS TTL must be non-negative").max(3600,"DNS TTL should not exceed 1 hour").refine((Y)=>!Number.isNaN(Y),"DNS TTL cannot be NaN").describe("Bun DNS cache TTL in seconds")}),KE=Z1.strictObject({BASE_URL:Z1.string().url().describe("Deployment base URL"),HOSTNAME:Z1.string().describe("Hostname"),INSTANCE_ID:Z1.string().describe("Instance identifier"),CONTAINER_ID:Z1.string().optional().describe("Container ID"),K8S_POD_NAME:Z1.string().optional().describe("Kubernetes pod name"),K8S_NAMESPACE:Z1.string().optional().describe("Kubernetes namespace")}),BE=Z1.strictObject({ENABLE_OPENTELEMETRY:Z1.boolean().describe("Enable OpenTelemetry"),SERVICE_NAME:zW.describe("Service identifier for telemetry"),SERVICE_VERSION:zW.describe("Service version"),DEPLOYMENT_ENVIRONMENT:VW1.describe("Deployment environment"),TRACES_ENDPOINT:Z1.string().url("TRACES_ENDPOINT must be a valid URL").describe("OTLP traces endpoint"),METRICS_ENDPOINT:Z1.string().url("METRICS_ENDPOINT must be a valid URL").describe("OTLP metrics endpoint"),LOGS_ENDPOINT:Z1.string().url("LOGS_ENDPOINT must be a valid URL").describe("OTLP logs endpoint"),METRIC_READER_INTERVAL:Z1.number().min(1000,"METRIC_READER_INTERVAL must be at least 1000ms").max(300000,"METRIC_READER_INTERVAL should not exceed 5 minutes").refine((Y)=>!Number.isNaN(Y),"METRIC_READER_INTERVAL cannot be NaN").describe("Metric reader interval in milliseconds"),SUMMARY_LOG_INTERVAL:Z1.number().min(1e4,"SUMMARY_LOG_INTERVAL must be at least 10 seconds").max(3600000,"SUMMARY_LOG_INTERVAL should not exceed 1 hour").refine((Y)=>!Number.isNaN(Y),"SUMMARY_LOG_INTERVAL cannot be NaN").describe("Summary log interval in milliseconds"),EXPORT_TIMEOUT_MS:Z1.number().min(5000,"EXPORT_TIMEOUT_MS must be at least 5 seconds").max(30000,"EXPORT_TIMEOUT_MS must not exceed 30 seconds (2025 standard)").describe("Telemetry export timeout"),BATCH_SIZE:Z1.number().min(1,"BATCH_SIZE must be at least 1").max(4096,"BATCH_SIZE should not exceed 4096").describe("Telemetry batch size"),MAX_QUEUE_SIZE:Z1.number().min(100,"MAX_QUEUE_SIZE must be at least 100").max(20000,"MAX_QUEUE_SIZE should not exceed 20000").describe("Maximum telemetry queue size"),CIRCUIT_BREAKER_THRESHOLD:Z1.number().min(1,"CIRCUIT_BREAKER_THRESHOLD must be at least 1").max(20,"CIRCUIT_BREAKER_THRESHOLD should not exceed 20").describe("Circuit breaker failure threshold"),CIRCUIT_BREAKER_TIMEOUT_MS:Z1.number().min(1e4,"CIRCUIT_BREAKER_TIMEOUT_MS must be at least 10 seconds").max(300000,"CIRCUIT_BREAKER_TIMEOUT_MS should not exceed 5 minutes").describe("Circuit breaker timeout"),LOG_RETENTION_DEBUG_DAYS:Z1.number().min(1).max(365).describe("Debug log retention in days"),LOG_RETENTION_INFO_DAYS:Z1.number().min(1).max(365).describe("Info log retention in days"),LOG_RETENTION_WARN_DAYS:Z1.number().min(1).max(1095).describe("Warning log retention in days"),LOG_RETENTION_ERROR_DAYS:Z1.number().min(1).max(2555).describe("Error log retention in days")});FF=Z1.strictObject({application:zE,capella:HE,runtime:OE,deployment:KE,telemetry:BE}).superRefine(Ap0),IW1={Application:zE,Capella:HE,Runtime:OE,Deployment:KE,Telemetry:BE,Config:FF};VF=class VF extends Error{errors;partialConfig;constructor(Y,J,X){super(Y);this.errors=J;this.partialConfig=X;this.name="ConfigurationError"}toDetailedString(){let Y=this.errors.issues?.map((J)=>{return`  - ${J.path.join(".")}: ${J.message}`}).join(`
`);return`${this.message}
${Y||""}`}}});function Pp0(Y,J,X){if(Y===void 0||Y==="")return;let Z=Y.replace(/^['"]|['"]$/g,"").trim();if(Z==="")return;switch(J){case"number":{let W=Number(Z);if(Number.isNaN(W)||!Number.isFinite(W))throw Error(`Cannot convert "${Y}" to number for ${X}`);return W}case"boolean":return EL(Z);case"array":return Z.split(/[,;|]/).map((W)=>W.trim()).filter(Boolean);case"string":return Z}}function Lp0(Y){if(typeof Bun<"u"){let J=Bun.env[Y];if(J!==void 0&&J!==null&&J!=="")return String(J)}try{let J=process.env[Y];if(J!==void 0&&J!==null&&J!=="")return String(J)}catch{}return}function DW1(Y){for(let J of Object.values(Y))if(J&&typeof J==="object"&&!Object.isFrozen(J))DW1(J);return Object.freeze(Y)}function Mp0(Y){let J={};for(let[X,Z]of Object.entries(Rq)){let W={},$=!1;for(let[G,Q]of Object.entries(Z)){let U=Y(Q.envVar);try{let z=Pp0(U,Q.type,Q.envVar);if(z!==void 0)W[G]=z,$=!0}catch(z){throw Error(`Error parsing ${Q.envVar}: ${z instanceof Error?z.message:String(z)}`)}}if($)J[X]=W}return J}function Ep0(Y){let J=Y.telemetry||{},X=J.OTLP_ENDPOINT;if(!J.TRACES_ENDPOINT&&X)J.TRACES_ENDPOINT=TL(X,void 0,"/v1/traces");if(!J.METRICS_ENDPOINT&&X)J.METRICS_ENDPOINT=TL(X,void 0,"/v1/metrics");if(!J.LOGS_ENDPOINT&&X)J.LOGS_ENDPOINT=TL(X,void 0,"/v1/logs");if(delete J.OTLP_ENDPOINT,Object.keys(J).length>0)Y.telemetry=J}function Tp0(Y,J){let X={...Y};for(let[Z,W]of Object.entries(J))if(W!==void 0)X[Z]=W;return X}function qE(){let Y=Mp0(Lp0);Ep0(Y);let J=Object.keys(Tq),X={};for(let Q of J)X[Q]=Tp0(Tq[Q],Y[Q]||{});let Z=FF.safeParse(X);if(!Z.success){let Q=new wW1("Configuration validation failed",Z.error,X);process.stderr.write(`
=== CONFIGURATION VALIDATION FAILED ===
`),process.stderr.write(`${Q.toDetailedString()}
`);let U=Z.error.issues.filter((z)=>z.message.includes("CRITICAL")||z.path.includes("COUCHBASE_PASSWORD"));if(U.length>0){process.stderr.write(`
=== CRITICAL SECURITY ISSUES DETECTED ===
`);for(let z of U)process.stderr.write(`${z.message}
`);process.stderr.write(`=== DEPLOYMENT BLOCKED - FIX THESE ISSUES ===

`)}throw process.stderr.write(`
Help: Check .env.example for required variables and correct formats.

`),Q}let W=Z.data,$=W.application.LOG_LEVEL==="debug",G=W.runtime.NODE_ENV==="production"||W.telemetry.DEPLOYMENT_ENVIRONMENT==="production";if($)process.stderr.write(`
=== CONFIGURATION LOADED SUCCESSFULLY ===
`),process.stderr.write(G?`Production mode: All security validations passed
`:`Development mode: Using development defaults where applicable
`),process.stderr.write(`4-pillar configuration pattern active
`),process.stderr.write(`Configuration domains: ${J.join(", ")}
`),process.stderr.write(`Telemetry: ${W.telemetry.ENABLE_OPENTELEMETRY?"ENABLED":"DISABLED"}
`),process.stderr.write(`Runtime: ${typeof Bun<"u"?`Bun ${Bun.version}`:"Node.js"}
`),process.stderr.write(`=== CONFIGURATION INITIALIZATION COMPLETE ===

`);return DW1(W)}var wW1;var yu=w(()=>{Sf();Cf();_f();bu();wW1=class wW1 extends VF{toDetailedString(){let Y=this.errors.issues?.map((J)=>{let X=J.path.join("."),Z=Nq(X);return`  - ${X}: ${J.message}${Z?` (env: ${Z})`:""}`}).join(`
`);return`${this.message}
${Y||""}`}}});function w8(){if(!FE)FE=qE();return FE}function AW1(){FE=null}function b3(){return w8()}function gu(){return w8().telemetry}function NW1(){let Y=w8();return Y.runtime.NODE_ENV==="production"||Y.telemetry.DEPLOYMENT_ENVIRONMENT==="production"}function SW1(){return w8().runtime.NODE_ENV}function CW1(){return w8().telemetry.DEPLOYMENT_ENVIRONMENT}var FE=null,HW,PW1=()=>w8().application,LW1=()=>w8().capella,MW1=()=>w8().runtime,EW1=()=>w8().deployment,TW1=()=>w8().telemetry,VE,OW,RW1,jW1;var uu=w(()=>{yu();HW=new Proxy({},{get(Y,J){return w8()[J]}}),VE=new Proxy({},{get(Y,J){return w8().application[J]}}),OW=new Proxy({},{get(Y,J){return w8().telemetry[J]}}),RW1=new Proxy({},{get(Y,J){return w8().capella[J]}});jW1={version:"2.0.0",pattern:"4-pillar",get loadedAt(){return new Date().toISOString()},get environment(){return w8().runtime.NODE_ENV},get serviceName(){return w8().telemetry.SERVICE_NAME},get serviceVersion(){return w8().telemetry.SERVICE_VERSION},features:["mapping-driven-loader","single-validation-boundary","deep-freeze","strict-boolean-coercion","lazy-initialization","proxy-pattern"]}});var kW1={};h6(kW1,{validateCrossConfiguration:()=>DX1,validateConfigHealth:()=>kf,toBool:()=>EL,telemetryConfig:()=>OW,sanitizeConfigForLogging:()=>jf,resetConfigCache:()=>AW1,loadTelemetryConfigFromEnv:()=>gu,loadConfig:()=>b3,isProduction:()=>NW1,initializeConfig:()=>qE,getTelemetryConfig:()=>TW1,getRuntimeConfig:()=>MW1,getEnvironment:()=>SW1,getEnvVarPath:()=>qX1,getEnvVarForPath:()=>Nq,getDeploymentEnvironment:()=>CW1,getDeploymentConfig:()=>EW1,getConfig:()=>w8,getCapellaConfig:()=>LW1,getApplicationConfig:()=>PW1,generateConfigHealthReport:()=>wX1,envVarMapping:()=>Rq,describeConfig:()=>IX1,defaultConfig:()=>Tq,default:()=>O4,configMetadata:()=>jW1,config:()=>HW,capellaConfig:()=>RW1,applicationConfig:()=>VE,TelemetryConfigSchema:()=>BE,SchemaRegistry:()=>IW1,RuntimeConfigSchema:()=>OE,DeploymentConfigSchema:()=>KE,ConfigurationError:()=>VF,ConfigSchema:()=>FF,CapellaConfigSchema:()=>HE,ApplicationConfigSchema:()=>zE});var O4;var f5=w(()=>{uu();yu();_f();bu();Cf();Sf();uu();O4=HW});var fo6;var _W1=w(()=>{qF();fo6=Z1.object({ENABLE_OPENTELEMETRY:Z1.boolean(),SERVICE_NAME:Z1.string().min(1,"SERVICE_NAME is required and cannot be empty"),SERVICE_VERSION:Z1.string().min(1,"SERVICE_VERSION is required and cannot be empty"),DEPLOYMENT_ENVIRONMENT:Z1.enum(["development","staging","production","test"]),TRACES_ENDPOINT:Z1.string().url("TRACES_ENDPOINT must be a valid URL"),METRICS_ENDPOINT:Z1.string().url("METRICS_ENDPOINT must be a valid URL"),LOGS_ENDPOINT:Z1.string().url("LOGS_ENDPOINT must be a valid URL"),METRIC_READER_INTERVAL:Z1.number().min(1000,"METRIC_READER_INTERVAL must be at least 1000ms").max(300000,"METRIC_READER_INTERVAL should not exceed 5 minutes").refine((Y)=>!Number.isNaN(Y),"METRIC_READER_INTERVAL cannot be NaN"),SUMMARY_LOG_INTERVAL:Z1.number().min(1e4,"SUMMARY_LOG_INTERVAL must be at least 10 seconds").max(3600000,"SUMMARY_LOG_INTERVAL should not exceed 1 hour").refine((Y)=>!Number.isNaN(Y),"SUMMARY_LOG_INTERVAL cannot be NaN"),EXPORT_TIMEOUT_MS:Z1.number().min(5000,"EXPORT_TIMEOUT_MS must be at least 5 seconds").max(30000,"EXPORT_TIMEOUT_MS must not exceed 30 seconds (2025 standard)").default(30000),BATCH_SIZE:Z1.number().min(1,"BATCH_SIZE must be at least 1").max(4096,"BATCH_SIZE should not exceed 4096").default(2048),MAX_QUEUE_SIZE:Z1.number().min(100,"MAX_QUEUE_SIZE must be at least 100").max(20000,"MAX_QUEUE_SIZE should not exceed 20000").default(1e4),CIRCUIT_BREAKER_THRESHOLD:Z1.number().min(1,"CIRCUIT_BREAKER_THRESHOLD must be at least 1").max(20,"CIRCUIT_BREAKER_THRESHOLD should not exceed 20").default(5),CIRCUIT_BREAKER_TIMEOUT_MS:Z1.number().min(1e4,"CIRCUIT_BREAKER_TIMEOUT_MS must be at least 10 seconds").max(300000,"CIRCUIT_BREAKER_TIMEOUT_MS should not exceed 5 minutes").default(60000)})});class GX{state="CLOSED";failures=0;successes=0;lastFailureTime=null;lastSuccessTime=null;totalAttempts=0;totalFailures=0;totalSuccesses=0;config;constructor(Y={}){this.config={failureThreshold:Y.failureThreshold??5,recoveryTimeoutMs:Y.recoveryTimeoutMs??60000,successThreshold:Y.successThreshold??3,timeWindowMs:Y.timeWindowMs??60000}}canExecute(){switch(this.totalAttempts++,this.state){case"CLOSED":return!0;case"OPEN":if(this.shouldAttemptReset())return this.state="HALF_OPEN",this.successes=0,!0;return!1;case"HALF_OPEN":return!0;default:return!1}}recordSuccess(){switch(this.lastSuccessTime=Date.now(),this.totalSuccesses++,this.state){case"CLOSED":this.resetFailures();break;case"HALF_OPEN":if(this.successes++,this.successes>=this.config.successThreshold)this.state="CLOSED",this.resetFailures();break}}recordFailure(){switch(this.lastFailureTime=Date.now(),this.failures++,this.totalFailures++,this.state){case"CLOSED":if(this.failures>=this.config.failureThreshold)this.state="OPEN";break;case"HALF_OPEN":this.state="OPEN";break}}getStats(){return{state:this.state,failures:this.failures,successes:this.successes,lastFailureTime:this.lastFailureTime,lastSuccessTime:this.lastSuccessTime,totalAttempts:this.totalAttempts,totalFailures:this.totalFailures,totalSuccesses:this.totalSuccesses}}getHealthStatus(){let Y=this.totalAttempts>0?this.totalSuccesses/this.totalAttempts*100:0;return{isHealthy:this.state==="CLOSED",successRate:Math.round(Y*100)/100,state:this.state,canExecute:this.canExecute()}}reset(){this.state="CLOSED",this.resetFailures(),this.successes=0}shouldAttemptReset(){if(!this.lastFailureTime)return!1;return Date.now()-this.lastFailureTime>=this.config.recoveryTimeoutMs}resetFailures(){this.failures=0}}var IF=()=>{};var vW1=q((xW1)=>{Object.defineProperty(xW1,"__esModule",{value:!0});xW1._globalThis=void 0;xW1._globalThis=typeof globalThis==="object"?globalThis:global});var hW1=q((hG)=>{var Rp0=hG&&hG.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;Object.defineProperty(Y,Z,{enumerable:!0,get:function(){return J[X]}})}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),Np0=hG&&hG.__exportStar||function(Y,J){for(var X in Y)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(J,X))Rp0(J,Y,X)};Object.defineProperty(hG,"__esModule",{value:!0});Np0(vW1(),hG)});var bW1=q((bG)=>{var Sp0=bG&&bG.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;Object.defineProperty(Y,Z,{enumerable:!0,get:function(){return J[X]}})}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),Cp0=bG&&bG.__exportStar||function(Y,J){for(var X in Y)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(J,X))Sp0(J,Y,X)};Object.defineProperty(bG,"__esModule",{value:!0});Cp0(hW1(),bG)});var mu=q((yW1)=>{Object.defineProperty(yW1,"__esModule",{value:!0});yW1.VERSION=void 0;yW1.VERSION="1.9.0"});var lW1=q((dW1)=>{Object.defineProperty(dW1,"__esModule",{value:!0});dW1.isCompatible=dW1._makeCompatibilityCheck=void 0;var jp0=mu(),uW1=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function mW1(Y){let J=new Set([Y]),X=new Set,Z=Y.match(uW1);if(!Z)return()=>!1;let W={major:+Z[1],minor:+Z[2],patch:+Z[3],prerelease:Z[4]};if(W.prerelease!=null)return function(U){return U===Y};function $(Q){return X.add(Q),!1}function G(Q){return J.add(Q),!0}return function(U){if(J.has(U))return!0;if(X.has(U))return!1;let z=U.match(uW1);if(!z)return $(U);let H={major:+z[1],minor:+z[2],patch:+z[3],prerelease:z[4]};if(H.prerelease!=null)return $(U);if(W.major!==H.major)return $(U);if(W.major===0){if(W.minor===H.minor&&W.patch<=H.patch)return G(U);return $(U)}if(W.minor<=H.minor)return G(U);return $(U)}}dW1._makeCompatibilityCheck=mW1;dW1.isCompatible=mW1(jp0.VERSION)});var yG=q((pW1)=>{Object.defineProperty(pW1,"__esModule",{value:!0});pW1.unregisterGlobal=pW1.getGlobal=pW1.registerGlobal=void 0;var _p0=bW1(),OH=mu(),xp0=lW1(),fp0=OH.VERSION.split(".")[0],DF=Symbol.for(`opentelemetry.js.api.${fp0}`),wF=_p0._globalThis;function vp0(Y,J,X,Z=!1){var W;let $=wF[DF]=(W=wF[DF])!==null&&W!==void 0?W:{version:OH.VERSION};if(!Z&&$[Y]){let G=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${Y}`);return X.error(G.stack||G.message),!1}if($.version!==OH.VERSION){let G=Error(`@opentelemetry/api: Registration of version v${$.version} for ${Y} does not match previously registered API v${OH.VERSION}`);return X.error(G.stack||G.message),!1}return $[Y]=J,X.debug(`@opentelemetry/api: Registered a global for ${Y} v${OH.VERSION}.`),!0}pW1.registerGlobal=vp0;function hp0(Y){var J,X;let Z=(J=wF[DF])===null||J===void 0?void 0:J.version;if(!Z||!(0,xp0.isCompatible)(Z))return;return(X=wF[DF])===null||X===void 0?void 0:X[Y]}pW1.getGlobal=hp0;function bp0(Y,J){J.debug(`@opentelemetry/api: Unregistering a global for ${Y} v${OH.VERSION}.`);let X=wF[DF];if(X)delete X[Y]}pW1.unregisterGlobal=bp0});var aW1=q((oW1)=>{Object.defineProperty(oW1,"__esModule",{value:!0});oW1.DiagComponentLogger=void 0;var up0=yG();class iW1{constructor(Y){this._namespace=Y.namespace||"DiagComponentLogger"}debug(...Y){return AF("debug",this._namespace,Y)}error(...Y){return AF("error",this._namespace,Y)}info(...Y){return AF("info",this._namespace,Y)}warn(...Y){return AF("warn",this._namespace,Y)}verbose(...Y){return AF("verbose",this._namespace,Y)}}oW1.DiagComponentLogger=iW1;function AF(Y,J,X){let Z=(0,up0.getGlobal)("diag");if(!Z)return;return X.unshift(J),Z[Y](...X)}});var IE=q((sW1)=>{Object.defineProperty(sW1,"__esModule",{value:!0});sW1.DiagLogLevel=void 0;var mp0;(function(Y){Y[Y.NONE=0]="NONE",Y[Y.ERROR=30]="ERROR",Y[Y.WARN=50]="WARN",Y[Y.INFO=60]="INFO",Y[Y.DEBUG=70]="DEBUG",Y[Y.VERBOSE=80]="VERBOSE",Y[Y.ALL=9999]="ALL"})(mp0=sW1.DiagLogLevel||(sW1.DiagLogLevel={}))});var Y$1=q((tW1)=>{Object.defineProperty(tW1,"__esModule",{value:!0});tW1.createLogLevelDiagLogger=void 0;var y3=IE();function dp0(Y,J){if(Y<y3.DiagLogLevel.NONE)Y=y3.DiagLogLevel.NONE;else if(Y>y3.DiagLogLevel.ALL)Y=y3.DiagLogLevel.ALL;J=J||{};function X(Z,W){let $=J[Z];if(typeof $==="function"&&Y>=W)return $.bind(J);return function(){}}return{error:X("error",y3.DiagLogLevel.ERROR),warn:X("warn",y3.DiagLogLevel.WARN),info:X("info",y3.DiagLogLevel.INFO),debug:X("debug",y3.DiagLogLevel.DEBUG),verbose:X("verbose",y3.DiagLogLevel.VERBOSE)}}tW1.createLogLevelDiagLogger=dp0});var gG=q((X$1)=>{Object.defineProperty(X$1,"__esModule",{value:!0});X$1.DiagAPI=void 0;var cp0=aW1(),lp0=Y$1(),J$1=IE(),DE=yG(),pp0="diag";class cu{constructor(){function Y(Z){return function(...W){let $=(0,DE.getGlobal)("diag");if(!$)return;return $[Z](...W)}}let J=this,X=(Z,W={logLevel:J$1.DiagLogLevel.INFO})=>{var $,G,Q;if(Z===J){let H=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return J.error(($=H.stack)!==null&&$!==void 0?$:H.message),!1}if(typeof W==="number")W={logLevel:W};let U=(0,DE.getGlobal)("diag"),z=(0,lp0.createLogLevelDiagLogger)((G=W.logLevel)!==null&&G!==void 0?G:J$1.DiagLogLevel.INFO,Z);if(U&&!W.suppressOverrideMessage){let H=(Q=Error().stack)!==null&&Q!==void 0?Q:"<failed to generate stacktrace>";U.warn(`Current logger will be overwritten from ${H}`),z.warn(`Current logger will overwrite one already registered from ${H}`)}return(0,DE.registerGlobal)("diag",z,J,!0)};J.setLogger=X,J.disable=()=>{(0,DE.unregisterGlobal)(pp0,J)},J.createComponentLogger=(Z)=>{return new cp0.DiagComponentLogger(Z)},J.verbose=Y("verbose"),J.debug=Y("debug"),J.info=Y("info"),J.warn=Y("warn"),J.error=Y("error")}static instance(){if(!this._instance)this._instance=new cu;return this._instance}}X$1.DiagAPI=cu});var G$1=q((W$1)=>{Object.defineProperty(W$1,"__esModule",{value:!0});W$1.BaggageImpl=void 0;class KH{constructor(Y){this._entries=Y?new Map(Y):new Map}getEntry(Y){let J=this._entries.get(Y);if(!J)return;return Object.assign({},J)}getAllEntries(){return Array.from(this._entries.entries()).map(([Y,J])=>[Y,J])}setEntry(Y,J){let X=new KH(this._entries);return X._entries.set(Y,J),X}removeEntry(Y){let J=new KH(this._entries);return J._entries.delete(Y),J}removeEntries(...Y){let J=new KH(this._entries);for(let X of Y)J._entries.delete(X);return J}clear(){return new KH}}W$1.BaggageImpl=KH});var z$1=q((Q$1)=>{Object.defineProperty(Q$1,"__esModule",{value:!0});Q$1.baggageEntryMetadataSymbol=void 0;Q$1.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var lu=q((H$1)=>{Object.defineProperty(H$1,"__esModule",{value:!0});H$1.baggageEntryMetadataFromString=H$1.createBaggage=void 0;var np0=gG(),ip0=G$1(),op0=z$1(),rp0=np0.DiagAPI.instance();function ap0(Y={}){return new ip0.BaggageImpl(new Map(Object.entries(Y)))}H$1.createBaggage=ap0;function sp0(Y){if(typeof Y!=="string")rp0.error(`Cannot create baggage metadata from unknown type: ${typeof Y}`),Y="";return{__TYPE__:op0.baggageEntryMetadataSymbol,toString(){return Y}}}H$1.baggageEntryMetadataFromString=sp0});var PF=q((K$1)=>{Object.defineProperty(K$1,"__esModule",{value:!0});K$1.ROOT_CONTEXT=K$1.createContextKey=void 0;function ep0(Y){return Symbol.for(Y)}K$1.createContextKey=ep0;class wE{constructor(Y){let J=this;J._currentContext=Y?new Map(Y):new Map,J.getValue=(X)=>J._currentContext.get(X),J.setValue=(X,Z)=>{let W=new wE(J._currentContext);return W._currentContext.set(X,Z),W},J.deleteValue=(X)=>{let Z=new wE(J._currentContext);return Z._currentContext.delete(X),Z}}}K$1.ROOT_CONTEXT=new wE});var I$1=q((F$1)=>{Object.defineProperty(F$1,"__esModule",{value:!0});F$1.DiagConsoleLogger=void 0;var pu=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class q$1{constructor(){function Y(J){return function(...X){if(console){let Z=console[J];if(typeof Z!=="function")Z=console.log;if(typeof Z==="function")return Z.apply(console,X)}}}for(let J=0;J<pu.length;J++)this[pu[J].n]=Y(pu[J].c)}}F$1.DiagConsoleLogger=q$1});var Ym=q((D$1)=>{Object.defineProperty(D$1,"__esModule",{value:!0});D$1.createNoopMeter=D$1.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=D$1.NOOP_OBSERVABLE_GAUGE_METRIC=D$1.NOOP_OBSERVABLE_COUNTER_METRIC=D$1.NOOP_UP_DOWN_COUNTER_METRIC=D$1.NOOP_HISTOGRAM_METRIC=D$1.NOOP_GAUGE_METRIC=D$1.NOOP_COUNTER_METRIC=D$1.NOOP_METER=D$1.NoopObservableUpDownCounterMetric=D$1.NoopObservableGaugeMetric=D$1.NoopObservableCounterMetric=D$1.NoopObservableMetric=D$1.NoopHistogramMetric=D$1.NoopGaugeMetric=D$1.NoopUpDownCounterMetric=D$1.NoopCounterMetric=D$1.NoopMetric=D$1.NoopMeter=void 0;class nu{constructor(){}createGauge(Y,J){return D$1.NOOP_GAUGE_METRIC}createHistogram(Y,J){return D$1.NOOP_HISTOGRAM_METRIC}createCounter(Y,J){return D$1.NOOP_COUNTER_METRIC}createUpDownCounter(Y,J){return D$1.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(Y,J){return D$1.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(Y,J){return D$1.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(Y,J){return D$1.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(Y,J){}removeBatchObservableCallback(Y){}}D$1.NoopMeter=nu;class BH{}D$1.NoopMetric=BH;class iu extends BH{add(Y,J){}}D$1.NoopCounterMetric=iu;class ou extends BH{add(Y,J){}}D$1.NoopUpDownCounterMetric=ou;class ru extends BH{record(Y,J){}}D$1.NoopGaugeMetric=ru;class au extends BH{record(Y,J){}}D$1.NoopHistogramMetric=au;class LF{addCallback(Y){}removeCallback(Y){}}D$1.NoopObservableMetric=LF;class su extends LF{}D$1.NoopObservableCounterMetric=su;class tu extends LF{}D$1.NoopObservableGaugeMetric=tu;class eu extends LF{}D$1.NoopObservableUpDownCounterMetric=eu;D$1.NOOP_METER=new nu;D$1.NOOP_COUNTER_METRIC=new iu;D$1.NOOP_GAUGE_METRIC=new ru;D$1.NOOP_HISTOGRAM_METRIC=new au;D$1.NOOP_UP_DOWN_COUNTER_METRIC=new ou;D$1.NOOP_OBSERVABLE_COUNTER_METRIC=new su;D$1.NOOP_OBSERVABLE_GAUGE_METRIC=new tu;D$1.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new eu;function Jn0(){return D$1.NOOP_METER}D$1.createNoopMeter=Jn0});var C$1=q((S$1)=>{Object.defineProperty(S$1,"__esModule",{value:!0});S$1.ValueType=void 0;var Kn0;(function(Y){Y[Y.INT=0]="INT",Y[Y.DOUBLE=1]="DOUBLE"})(Kn0=S$1.ValueType||(S$1.ValueType={}))});var Xm=q((j$1)=>{Object.defineProperty(j$1,"__esModule",{value:!0});j$1.defaultTextMapSetter=j$1.defaultTextMapGetter=void 0;j$1.defaultTextMapGetter={get(Y,J){if(Y==null)return;return Y[J]},keys(Y){if(Y==null)return[];return Object.keys(Y)}};j$1.defaultTextMapSetter={set(Y,J,X){if(Y==null)return;Y[J]=X}}});var v$1=q((x$1)=>{Object.defineProperty(x$1,"__esModule",{value:!0});x$1.NoopContextManager=void 0;var qn0=PF();class _$1{active(){return qn0.ROOT_CONTEXT}with(Y,J,X,...Z){return J.call(X,...Z)}bind(Y,J){return J}enable(){return this}disable(){return this}}x$1.NoopContextManager=_$1});var MF=q((b$1)=>{Object.defineProperty(b$1,"__esModule",{value:!0});b$1.ContextAPI=void 0;var Fn0=v$1(),Zm=yG(),h$1=gG(),Wm="context",Vn0=new Fn0.NoopContextManager;class $m{constructor(){}static getInstance(){if(!this._instance)this._instance=new $m;return this._instance}setGlobalContextManager(Y){return(0,Zm.registerGlobal)(Wm,Y,h$1.DiagAPI.instance())}active(){return this._getContextManager().active()}with(Y,J,X,...Z){return this._getContextManager().with(Y,J,X,...Z)}bind(Y,J){return this._getContextManager().bind(Y,J)}_getContextManager(){return(0,Zm.getGlobal)(Wm)||Vn0}disable(){this._getContextManager().disable(),(0,Zm.unregisterGlobal)(Wm,h$1.DiagAPI.instance())}}b$1.ContextAPI=$m});var Qm=q((g$1)=>{Object.defineProperty(g$1,"__esModule",{value:!0});g$1.TraceFlags=void 0;var In0;(function(Y){Y[Y.NONE=0]="NONE",Y[Y.SAMPLED=1]="SAMPLED"})(In0=g$1.TraceFlags||(g$1.TraceFlags={}))});var AE=q((u$1)=>{Object.defineProperty(u$1,"__esModule",{value:!0});u$1.INVALID_SPAN_CONTEXT=u$1.INVALID_TRACEID=u$1.INVALID_SPANID=void 0;var Dn0=Qm();u$1.INVALID_SPANID="0000000000000000";u$1.INVALID_TRACEID="00000000000000000000000000000000";u$1.INVALID_SPAN_CONTEXT={traceId:u$1.INVALID_TRACEID,spanId:u$1.INVALID_SPANID,traceFlags:Dn0.TraceFlags.NONE}});var PE=q((p$1)=>{Object.defineProperty(p$1,"__esModule",{value:!0});p$1.NonRecordingSpan=void 0;var wn0=AE();class l$1{constructor(Y=wn0.INVALID_SPAN_CONTEXT){this._spanContext=Y}spanContext(){return this._spanContext}setAttribute(Y,J){return this}setAttributes(Y){return this}addEvent(Y,J){return this}addLink(Y){return this}addLinks(Y){return this}setStatus(Y){return this}updateName(Y){return this}end(Y){}isRecording(){return!1}recordException(Y,J){}}p$1.NonRecordingSpan=l$1});var Hm=q((o$1)=>{Object.defineProperty(o$1,"__esModule",{value:!0});o$1.getSpanContext=o$1.setSpanContext=o$1.deleteSpan=o$1.setSpan=o$1.getActiveSpan=o$1.getSpan=void 0;var An0=PF(),Pn0=PE(),Ln0=MF(),Um=(0,An0.createContextKey)("OpenTelemetry Context Key SPAN");function zm(Y){return Y.getValue(Um)||void 0}o$1.getSpan=zm;function Mn0(){return zm(Ln0.ContextAPI.getInstance().active())}o$1.getActiveSpan=Mn0;function i$1(Y,J){return Y.setValue(Um,J)}o$1.setSpan=i$1;function En0(Y){return Y.deleteValue(Um)}o$1.deleteSpan=En0;function Tn0(Y,J){return i$1(Y,new Pn0.NonRecordingSpan(J))}o$1.setSpanContext=Tn0;function Rn0(Y){var J;return(J=zm(Y))===null||J===void 0?void 0:J.spanContext()}o$1.getSpanContext=Rn0});var LE=q((e$1)=>{Object.defineProperty(e$1,"__esModule",{value:!0});e$1.wrapSpanContext=e$1.isSpanContextValid=e$1.isValidSpanId=e$1.isValidTraceId=void 0;var a$1=AE(),_n0=PE(),xn0=/^([0-9a-f]{32})$/i,fn0=/^[0-9a-f]{16}$/i;function s$1(Y){return xn0.test(Y)&&Y!==a$1.INVALID_TRACEID}e$1.isValidTraceId=s$1;function t$1(Y){return fn0.test(Y)&&Y!==a$1.INVALID_SPANID}e$1.isValidSpanId=t$1;function vn0(Y){return s$1(Y.traceId)&&t$1(Y.spanId)}e$1.isSpanContextValid=vn0;function hn0(Y){return new _n0.NonRecordingSpan(Y)}e$1.wrapSpanContext=hn0});var Bm=q((ZG1)=>{Object.defineProperty(ZG1,"__esModule",{value:!0});ZG1.NoopTracer=void 0;var un0=MF(),JG1=Hm(),Om=PE(),mn0=LE(),Km=un0.ContextAPI.getInstance();class XG1{startSpan(Y,J,X=Km.active()){if(Boolean(J===null||J===void 0?void 0:J.root))return new Om.NonRecordingSpan;let W=X&&(0,JG1.getSpanContext)(X);if(dn0(W)&&(0,mn0.isSpanContextValid)(W))return new Om.NonRecordingSpan(W);else return new Om.NonRecordingSpan}startActiveSpan(Y,J,X,Z){let W,$,G;if(arguments.length<2)return;else if(arguments.length===2)G=J;else if(arguments.length===3)W=J,G=X;else W=J,$=X,G=Z;let Q=$!==null&&$!==void 0?$:Km.active(),U=this.startSpan(Y,W,Q),z=(0,JG1.setSpan)(Q,U);return Km.with(z,G,void 0,U)}}ZG1.NoopTracer=XG1;function dn0(Y){return typeof Y==="object"&&typeof Y.spanId==="string"&&typeof Y.traceId==="string"&&typeof Y.traceFlags==="number"}});var qm=q((GG1)=>{Object.defineProperty(GG1,"__esModule",{value:!0});GG1.ProxyTracer=void 0;var cn0=Bm(),ln0=new cn0.NoopTracer;class $G1{constructor(Y,J,X,Z){this._provider=Y,this.name=J,this.version=X,this.options=Z}startSpan(Y,J,X){return this._getTracer().startSpan(Y,J,X)}startActiveSpan(Y,J,X,Z){let W=this._getTracer();return Reflect.apply(W.startActiveSpan,W,arguments)}_getTracer(){if(this._delegate)return this._delegate;let Y=this._provider.getDelegateTracer(this.name,this.version,this.options);if(!Y)return ln0;return this._delegate=Y,this._delegate}}GG1.ProxyTracer=$G1});var OG1=q((zG1)=>{Object.defineProperty(zG1,"__esModule",{value:!0});zG1.NoopTracerProvider=void 0;var pn0=Bm();class UG1{getTracer(Y,J,X){return new pn0.NoopTracer}}zG1.NoopTracerProvider=UG1});var Fm=q((BG1)=>{Object.defineProperty(BG1,"__esModule",{value:!0});BG1.ProxyTracerProvider=void 0;var nn0=qm(),in0=OG1(),on0=new in0.NoopTracerProvider;class KG1{getTracer(Y,J,X){var Z;return(Z=this.getDelegateTracer(Y,J,X))!==null&&Z!==void 0?Z:new nn0.ProxyTracer(this,Y,J,X)}getDelegate(){var Y;return(Y=this._delegate)!==null&&Y!==void 0?Y:on0}setDelegate(Y){this._delegate=Y}getDelegateTracer(Y,J,X){var Z;return(Z=this._delegate)===null||Z===void 0?void 0:Z.getTracer(Y,J,X)}}BG1.ProxyTracerProvider=KG1});var VG1=q((FG1)=>{Object.defineProperty(FG1,"__esModule",{value:!0});FG1.SamplingDecision=void 0;var rn0;(function(Y){Y[Y.NOT_RECORD=0]="NOT_RECORD",Y[Y.RECORD=1]="RECORD",Y[Y.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(rn0=FG1.SamplingDecision||(FG1.SamplingDecision={}))});var DG1=q((IG1)=>{Object.defineProperty(IG1,"__esModule",{value:!0});IG1.SpanKind=void 0;var an0;(function(Y){Y[Y.INTERNAL=0]="INTERNAL",Y[Y.SERVER=1]="SERVER",Y[Y.CLIENT=2]="CLIENT",Y[Y.PRODUCER=3]="PRODUCER",Y[Y.CONSUMER=4]="CONSUMER"})(an0=IG1.SpanKind||(IG1.SpanKind={}))});var AG1=q((wG1)=>{Object.defineProperty(wG1,"__esModule",{value:!0});wG1.SpanStatusCode=void 0;var sn0;(function(Y){Y[Y.UNSET=0]="UNSET",Y[Y.OK=1]="OK",Y[Y.ERROR=2]="ERROR"})(sn0=wG1.SpanStatusCode||(wG1.SpanStatusCode={}))});var MG1=q((PG1)=>{Object.defineProperty(PG1,"__esModule",{value:!0});PG1.validateValue=PG1.validateKey=void 0;var wm="[_0-9a-z-*/]",tn0=`[a-z]${wm}{0,255}`,en0=`[a-z0-9]${wm}{0,240}@[a-z]${wm}{0,13}`,Yi0=new RegExp(`^(?:${tn0}|${en0})$`),Ji0=/^[ -~]{0,255}[!-~]$/,Xi0=/,|=/;function Zi0(Y){return Yi0.test(Y)}PG1.validateKey=Zi0;function Wi0(Y){return Ji0.test(Y)&&!Xi0.test(Y)}PG1.validateValue=Wi0});var jG1=q((SG1)=>{Object.defineProperty(SG1,"__esModule",{value:!0});SG1.TraceStateImpl=void 0;var EG1=MG1(),TG1=32,Gi0=512,RG1=",",NG1="=";class Am{constructor(Y){if(this._internalState=new Map,Y)this._parse(Y)}set(Y,J){let X=this._clone();if(X._internalState.has(Y))X._internalState.delete(Y);return X._internalState.set(Y,J),X}unset(Y){let J=this._clone();return J._internalState.delete(Y),J}get(Y){return this._internalState.get(Y)}serialize(){return this._keys().reduce((Y,J)=>{return Y.push(J+NG1+this.get(J)),Y},[]).join(RG1)}_parse(Y){if(Y.length>Gi0)return;if(this._internalState=Y.split(RG1).reverse().reduce((J,X)=>{let Z=X.trim(),W=Z.indexOf(NG1);if(W!==-1){let $=Z.slice(0,W),G=Z.slice(W+1,X.length);if((0,EG1.validateKey)($)&&(0,EG1.validateValue)(G))J.set($,G)}return J},new Map),this._internalState.size>TG1)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,TG1))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let Y=new Am;return Y._internalState=new Map(this._internalState),Y}}SG1.TraceStateImpl=Am});var xG1=q((kG1)=>{Object.defineProperty(kG1,"__esModule",{value:!0});kG1.createTraceState=void 0;var Qi0=jG1();function Ui0(Y){return new Qi0.TraceStateImpl(Y)}kG1.createTraceState=Ui0});var hG1=q((fG1)=>{Object.defineProperty(fG1,"__esModule",{value:!0});fG1.context=void 0;var zi0=MF();fG1.context=zi0.ContextAPI.getInstance()});var gG1=q((bG1)=>{Object.defineProperty(bG1,"__esModule",{value:!0});bG1.diag=void 0;var Hi0=gG();bG1.diag=Hi0.DiagAPI.instance()});var dG1=q((uG1)=>{Object.defineProperty(uG1,"__esModule",{value:!0});uG1.NOOP_METER_PROVIDER=uG1.NoopMeterProvider=void 0;var Oi0=Ym();class Pm{getMeter(Y,J,X){return Oi0.NOOP_METER}}uG1.NoopMeterProvider=Pm;uG1.NOOP_METER_PROVIDER=new Pm});var nG1=q((lG1)=>{Object.defineProperty(lG1,"__esModule",{value:!0});lG1.MetricsAPI=void 0;var Bi0=dG1(),Lm=yG(),cG1=gG(),Mm="metrics";class Em{constructor(){}static getInstance(){if(!this._instance)this._instance=new Em;return this._instance}setGlobalMeterProvider(Y){return(0,Lm.registerGlobal)(Mm,Y,cG1.DiagAPI.instance())}getMeterProvider(){return(0,Lm.getGlobal)(Mm)||Bi0.NOOP_METER_PROVIDER}getMeter(Y,J,X){return this.getMeterProvider().getMeter(Y,J,X)}disable(){(0,Lm.unregisterGlobal)(Mm,cG1.DiagAPI.instance())}}lG1.MetricsAPI=Em});var rG1=q((iG1)=>{Object.defineProperty(iG1,"__esModule",{value:!0});iG1.metrics=void 0;var qi0=nG1();iG1.metrics=qi0.MetricsAPI.getInstance()});var eG1=q((sG1)=>{Object.defineProperty(sG1,"__esModule",{value:!0});sG1.NoopTextMapPropagator=void 0;class aG1{inject(Y,J){}extract(Y,J){return Y}fields(){return[]}}sG1.NoopTextMapPropagator=aG1});var ZQ1=q((JQ1)=>{Object.defineProperty(JQ1,"__esModule",{value:!0});JQ1.deleteBaggage=JQ1.setBaggage=JQ1.getActiveBaggage=JQ1.getBaggage=void 0;var Fi0=MF(),Vi0=PF(),Tm=(0,Vi0.createContextKey)("OpenTelemetry Baggage Key");function YQ1(Y){return Y.getValue(Tm)||void 0}JQ1.getBaggage=YQ1;function Ii0(){return YQ1(Fi0.ContextAPI.getInstance().active())}JQ1.getActiveBaggage=Ii0;function Di0(Y,J){return Y.setValue(Tm,J)}JQ1.setBaggage=Di0;function wi0(Y){return Y.deleteValue(Tm)}JQ1.deleteBaggage=wi0});var UQ1=q((GQ1)=>{Object.defineProperty(GQ1,"__esModule",{value:!0});GQ1.PropagationAPI=void 0;var Rm=yG(),Mi0=eG1(),WQ1=Xm(),ME=ZQ1(),Ei0=lu(),$Q1=gG(),Nm="propagation",Ti0=new Mi0.NoopTextMapPropagator;class Sm{constructor(){this.createBaggage=Ei0.createBaggage,this.getBaggage=ME.getBaggage,this.getActiveBaggage=ME.getActiveBaggage,this.setBaggage=ME.setBaggage,this.deleteBaggage=ME.deleteBaggage}static getInstance(){if(!this._instance)this._instance=new Sm;return this._instance}setGlobalPropagator(Y){return(0,Rm.registerGlobal)(Nm,Y,$Q1.DiagAPI.instance())}inject(Y,J,X=WQ1.defaultTextMapSetter){return this._getGlobalPropagator().inject(Y,J,X)}extract(Y,J,X=WQ1.defaultTextMapGetter){return this._getGlobalPropagator().extract(Y,J,X)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,Rm.unregisterGlobal)(Nm,$Q1.DiagAPI.instance())}_getGlobalPropagator(){return(0,Rm.getGlobal)(Nm)||Ti0}}GQ1.PropagationAPI=Sm});var OQ1=q((zQ1)=>{Object.defineProperty(zQ1,"__esModule",{value:!0});zQ1.propagation=void 0;var Ri0=UQ1();zQ1.propagation=Ri0.PropagationAPI.getInstance()});var IQ1=q((FQ1)=>{Object.defineProperty(FQ1,"__esModule",{value:!0});FQ1.TraceAPI=void 0;var Cm=yG(),KQ1=Fm(),BQ1=LE(),qH=Hm(),qQ1=gG(),jm="trace";class km{constructor(){this._proxyTracerProvider=new KQ1.ProxyTracerProvider,this.wrapSpanContext=BQ1.wrapSpanContext,this.isSpanContextValid=BQ1.isSpanContextValid,this.deleteSpan=qH.deleteSpan,this.getSpan=qH.getSpan,this.getActiveSpan=qH.getActiveSpan,this.getSpanContext=qH.getSpanContext,this.setSpan=qH.setSpan,this.setSpanContext=qH.setSpanContext}static getInstance(){if(!this._instance)this._instance=new km;return this._instance}setGlobalTracerProvider(Y){let J=(0,Cm.registerGlobal)(jm,this._proxyTracerProvider,qQ1.DiagAPI.instance());if(J)this._proxyTracerProvider.setDelegate(Y);return J}getTracerProvider(){return(0,Cm.getGlobal)(jm)||this._proxyTracerProvider}getTracer(Y,J){return this.getTracerProvider().getTracer(Y,J)}disable(){(0,Cm.unregisterGlobal)(jm,qQ1.DiagAPI.instance()),this._proxyTracerProvider=new KQ1.ProxyTracerProvider}}FQ1.TraceAPI=km});var AQ1=q((DQ1)=>{Object.defineProperty(DQ1,"__esModule",{value:!0});DQ1.trace=void 0;var Ni0=IQ1();DQ1.trace=Ni0.TraceAPI.getInstance()});var t=q((M4)=>{Object.defineProperty(M4,"__esModule",{value:!0});M4.trace=M4.propagation=M4.metrics=M4.diag=M4.context=M4.INVALID_SPAN_CONTEXT=M4.INVALID_TRACEID=M4.INVALID_SPANID=M4.isValidSpanId=M4.isValidTraceId=M4.isSpanContextValid=M4.createTraceState=M4.TraceFlags=M4.SpanStatusCode=M4.SpanKind=M4.SamplingDecision=M4.ProxyTracerProvider=M4.ProxyTracer=M4.defaultTextMapSetter=M4.defaultTextMapGetter=M4.ValueType=M4.createNoopMeter=M4.DiagLogLevel=M4.DiagConsoleLogger=M4.ROOT_CONTEXT=M4.createContextKey=M4.baggageEntryMetadataFromString=void 0;var Si0=lu();Object.defineProperty(M4,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return Si0.baggageEntryMetadataFromString}});var PQ1=PF();Object.defineProperty(M4,"createContextKey",{enumerable:!0,get:function(){return PQ1.createContextKey}});Object.defineProperty(M4,"ROOT_CONTEXT",{enumerable:!0,get:function(){return PQ1.ROOT_CONTEXT}});var Ci0=I$1();Object.defineProperty(M4,"DiagConsoleLogger",{enumerable:!0,get:function(){return Ci0.DiagConsoleLogger}});var ji0=IE();Object.defineProperty(M4,"DiagLogLevel",{enumerable:!0,get:function(){return ji0.DiagLogLevel}});var ki0=Ym();Object.defineProperty(M4,"createNoopMeter",{enumerable:!0,get:function(){return ki0.createNoopMeter}});var _i0=C$1();Object.defineProperty(M4,"ValueType",{enumerable:!0,get:function(){return _i0.ValueType}});var LQ1=Xm();Object.defineProperty(M4,"defaultTextMapGetter",{enumerable:!0,get:function(){return LQ1.defaultTextMapGetter}});Object.defineProperty(M4,"defaultTextMapSetter",{enumerable:!0,get:function(){return LQ1.defaultTextMapSetter}});var xi0=qm();Object.defineProperty(M4,"ProxyTracer",{enumerable:!0,get:function(){return xi0.ProxyTracer}});var fi0=Fm();Object.defineProperty(M4,"ProxyTracerProvider",{enumerable:!0,get:function(){return fi0.ProxyTracerProvider}});var vi0=VG1();Object.defineProperty(M4,"SamplingDecision",{enumerable:!0,get:function(){return vi0.SamplingDecision}});var hi0=DG1();Object.defineProperty(M4,"SpanKind",{enumerable:!0,get:function(){return hi0.SpanKind}});var bi0=AG1();Object.defineProperty(M4,"SpanStatusCode",{enumerable:!0,get:function(){return bi0.SpanStatusCode}});var yi0=Qm();Object.defineProperty(M4,"TraceFlags",{enumerable:!0,get:function(){return yi0.TraceFlags}});var gi0=xG1();Object.defineProperty(M4,"createTraceState",{enumerable:!0,get:function(){return gi0.createTraceState}});var _m=LE();Object.defineProperty(M4,"isSpanContextValid",{enumerable:!0,get:function(){return _m.isSpanContextValid}});Object.defineProperty(M4,"isValidTraceId",{enumerable:!0,get:function(){return _m.isValidTraceId}});Object.defineProperty(M4,"isValidSpanId",{enumerable:!0,get:function(){return _m.isValidSpanId}});var xm=AE();Object.defineProperty(M4,"INVALID_SPANID",{enumerable:!0,get:function(){return xm.INVALID_SPANID}});Object.defineProperty(M4,"INVALID_TRACEID",{enumerable:!0,get:function(){return xm.INVALID_TRACEID}});Object.defineProperty(M4,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return xm.INVALID_SPAN_CONTEXT}});var MQ1=hG1();Object.defineProperty(M4,"context",{enumerable:!0,get:function(){return MQ1.context}});var EQ1=gG1();Object.defineProperty(M4,"diag",{enumerable:!0,get:function(){return EQ1.diag}});var TQ1=rG1();Object.defineProperty(M4,"metrics",{enumerable:!0,get:function(){return TQ1.metrics}});var RQ1=OQ1();Object.defineProperty(M4,"propagation",{enumerable:!0,get:function(){return RQ1.propagation}});var NQ1=AQ1();Object.defineProperty(M4,"trace",{enumerable:!0,get:function(){return NQ1.trace}});M4.default={context:MQ1.context,diag:EQ1.diag,metrics:TQ1.metrics,propagation:RQ1.propagation,trace:NQ1.trace}});var CQ1=q((SQ1)=>{Object.defineProperty(SQ1,"__esModule",{value:!0});SQ1.SeverityNumber=void 0;var di0;(function(Y){Y[Y.UNSPECIFIED=0]="UNSPECIFIED",Y[Y.TRACE=1]="TRACE",Y[Y.TRACE2=2]="TRACE2",Y[Y.TRACE3=3]="TRACE3",Y[Y.TRACE4=4]="TRACE4",Y[Y.DEBUG=5]="DEBUG",Y[Y.DEBUG2=6]="DEBUG2",Y[Y.DEBUG3=7]="DEBUG3",Y[Y.DEBUG4=8]="DEBUG4",Y[Y.INFO=9]="INFO",Y[Y.INFO2=10]="INFO2",Y[Y.INFO3=11]="INFO3",Y[Y.INFO4=12]="INFO4",Y[Y.WARN=13]="WARN",Y[Y.WARN2=14]="WARN2",Y[Y.WARN3=15]="WARN3",Y[Y.WARN4=16]="WARN4",Y[Y.ERROR=17]="ERROR",Y[Y.ERROR2=18]="ERROR2",Y[Y.ERROR3=19]="ERROR3",Y[Y.ERROR4=20]="ERROR4",Y[Y.FATAL=21]="FATAL",Y[Y.FATAL2=22]="FATAL2",Y[Y.FATAL3=23]="FATAL3",Y[Y.FATAL4=24]="FATAL4"})(di0=SQ1.SeverityNumber||(SQ1.SeverityNumber={}))});var EE=q((jQ1)=>{Object.defineProperty(jQ1,"__esModule",{value:!0});jQ1.NOOP_LOGGER=jQ1.NoopLogger=void 0;class vm{emit(Y){}}jQ1.NoopLogger=vm;jQ1.NOOP_LOGGER=new vm});var fQ1=q((_Q1)=>{Object.defineProperty(_Q1,"__esModule",{value:!0});_Q1.API_BACKWARDS_COMPATIBILITY_VERSION=_Q1.makeGetter=_Q1._global=_Q1.GLOBAL_LOGS_API_KEY=void 0;_Q1.GLOBAL_LOGS_API_KEY=Symbol.for("io.opentelemetry.js.api.logs");_Q1._global=globalThis;function li0(Y,J,X){return(Z)=>Z===Y?J:X}_Q1.makeGetter=li0;_Q1.API_BACKWARDS_COMPATIBILITY_VERSION=1});var bm=q((vQ1)=>{Object.defineProperty(vQ1,"__esModule",{value:!0});vQ1.NOOP_LOGGER_PROVIDER=vQ1.NoopLoggerProvider=void 0;var oi0=EE();class hm{getLogger(Y,J,X){return new oi0.NoopLogger}}vQ1.NoopLoggerProvider=hm;vQ1.NOOP_LOGGER_PROVIDER=new hm});var uQ1=q((yQ1)=>{Object.defineProperty(yQ1,"__esModule",{value:!0});yQ1.ProxyLogger=void 0;var ai0=EE();class bQ1{constructor(Y,J,X,Z){this._provider=Y,this.name=J,this.version=X,this.options=Z}emit(Y){this._getLogger().emit(Y)}_getLogger(){if(this._delegate)return this._delegate;let Y=this._provider._getDelegateLogger(this.name,this.version,this.options);if(!Y)return ai0.NOOP_LOGGER;return this._delegate=Y,this._delegate}}yQ1.ProxyLogger=bQ1});var lQ1=q((dQ1)=>{Object.defineProperty(dQ1,"__esModule",{value:!0});dQ1.ProxyLoggerProvider=void 0;var si0=bm(),ti0=uQ1();class mQ1{getLogger(Y,J,X){var Z;return(Z=this._getDelegateLogger(Y,J,X))!==null&&Z!==void 0?Z:new ti0.ProxyLogger(this,Y,J,X)}_getDelegate(){var Y;return(Y=this._delegate)!==null&&Y!==void 0?Y:si0.NOOP_LOGGER_PROVIDER}_setDelegate(Y){this._delegate=Y}_getDelegateLogger(Y,J,X){var Z;return(Z=this._delegate)===null||Z===void 0?void 0:Z.getLogger(Y,J,X)}}dQ1.ProxyLoggerProvider=mQ1});var oQ1=q((nQ1)=>{Object.defineProperty(nQ1,"__esModule",{value:!0});nQ1.LogsAPI=void 0;var b7=fQ1(),ei0=bm(),pQ1=lQ1();class ym{constructor(){this._proxyLoggerProvider=new pQ1.ProxyLoggerProvider}static getInstance(){if(!this._instance)this._instance=new ym;return this._instance}setGlobalLoggerProvider(Y){if(b7._global[b7.GLOBAL_LOGS_API_KEY])return this.getLoggerProvider();return b7._global[b7.GLOBAL_LOGS_API_KEY]=(0,b7.makeGetter)(b7.API_BACKWARDS_COMPATIBILITY_VERSION,Y,ei0.NOOP_LOGGER_PROVIDER),this._proxyLoggerProvider._setDelegate(Y),Y}getLoggerProvider(){var Y,J;return(J=(Y=b7._global[b7.GLOBAL_LOGS_API_KEY])===null||Y===void 0?void 0:Y.call(b7._global,b7.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&J!==void 0?J:this._proxyLoggerProvider}getLogger(Y,J,X){return this.getLoggerProvider().getLogger(Y,J,X)}disable(){delete b7._global[b7.GLOBAL_LOGS_API_KEY],this._proxyLoggerProvider=new pQ1.ProxyLoggerProvider}}nQ1.LogsAPI=ym});var F5=q((EF)=>{Object.defineProperty(EF,"__esModule",{value:!0});EF.logs=EF.NoopLogger=EF.NOOP_LOGGER=EF.SeverityNumber=void 0;var Yo0=CQ1();Object.defineProperty(EF,"SeverityNumber",{enumerable:!0,get:function(){return Yo0.SeverityNumber}});var rQ1=EE();Object.defineProperty(EF,"NOOP_LOGGER",{enumerable:!0,get:function(){return rQ1.NOOP_LOGGER}});Object.defineProperty(EF,"NoopLogger",{enumerable:!0,get:function(){return rQ1.NoopLogger}});var Jo0=oQ1();EF.logs=Jo0.LogsAPI.getInstance()});var TF=q((sQ1)=>{Object.defineProperty(sQ1,"__esModule",{value:!0});sQ1.isTracingSuppressed=sQ1.unsuppressTracing=sQ1.suppressTracing=void 0;var Xo0=t(),gm=(0,Xo0.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Zo0(Y){return Y.setValue(gm,!0)}sQ1.suppressTracing=Zo0;function Wo0(Y){return Y.deleteValue(gm)}sQ1.unsuppressTracing=Wo0;function $o0(Y){return Y.getValue(gm)===!0}sQ1.isTracingSuppressed=$o0});var um=q((eQ1)=>{Object.defineProperty(eQ1,"__esModule",{value:!0});eQ1.BAGGAGE_MAX_TOTAL_LENGTH=eQ1.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=eQ1.BAGGAGE_MAX_NAME_VALUE_PAIRS=eQ1.BAGGAGE_HEADER=eQ1.BAGGAGE_ITEMS_SEPARATOR=eQ1.BAGGAGE_PROPERTIES_SEPARATOR=eQ1.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;eQ1.BAGGAGE_KEY_PAIR_SEPARATOR="=";eQ1.BAGGAGE_PROPERTIES_SEPARATOR=";";eQ1.BAGGAGE_ITEMS_SEPARATOR=",";eQ1.BAGGAGE_HEADER="baggage";eQ1.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;eQ1.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;eQ1.BAGGAGE_MAX_TOTAL_LENGTH=8192});var mm=q((XU1)=>{Object.defineProperty(XU1,"__esModule",{value:!0});XU1.parseKeyPairsIntoRecord=XU1.parsePairKeyValue=XU1.getKeyPairs=XU1.serializeKeyPairs=void 0;var qo0=t(),FH=um();function Fo0(Y){return Y.reduce((J,X)=>{let Z=`${J}${J!==""?FH.BAGGAGE_ITEMS_SEPARATOR:""}${X}`;return Z.length>FH.BAGGAGE_MAX_TOTAL_LENGTH?J:Z},"")}XU1.serializeKeyPairs=Fo0;function Vo0(Y){return Y.getAllEntries().map(([J,X])=>{let Z=`${encodeURIComponent(J)}=${encodeURIComponent(X.value)}`;if(X.metadata!==void 0)Z+=FH.BAGGAGE_PROPERTIES_SEPARATOR+X.metadata.toString();return Z})}XU1.getKeyPairs=Vo0;function JU1(Y){if(!Y)return;let J=Y.indexOf(FH.BAGGAGE_PROPERTIES_SEPARATOR),X=J===-1?Y:Y.substring(0,J),Z=X.indexOf(FH.BAGGAGE_KEY_PAIR_SEPARATOR);if(Z<=0)return;let W=X.substring(0,Z).trim(),$=X.substring(Z+1).trim();if(!W||!$)return;let G,Q;try{G=decodeURIComponent(W),Q=decodeURIComponent($)}catch{return}let U;if(J!==-1&&J<Y.length-1){let z=Y.substring(J+1);U=(0,qo0.baggageEntryMetadataFromString)(z)}return{key:G,value:Q,metadata:U}}XU1.parsePairKeyValue=JU1;function Io0(Y){let J={};if(typeof Y==="string"&&Y.length>0)Y.split(FH.BAGGAGE_ITEMS_SEPARATOR).forEach((X)=>{let Z=JU1(X);if(Z!==void 0&&Z.value.length>0)J[Z.key]=Z.value});return J}XU1.parseKeyPairsIntoRecord=Io0});var QU1=q(($U1)=>{Object.defineProperty($U1,"__esModule",{value:!0});$U1.W3CBaggagePropagator=void 0;var dm=t(),Po0=TF(),uG=um(),cm=mm();class WU1{inject(Y,J,X){let Z=dm.propagation.getBaggage(Y);if(!Z||(0,Po0.isTracingSuppressed)(Y))return;let W=(0,cm.getKeyPairs)(Z).filter((G)=>{return G.length<=uG.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,uG.BAGGAGE_MAX_NAME_VALUE_PAIRS),$=(0,cm.serializeKeyPairs)(W);if($.length>0)X.set(J,uG.BAGGAGE_HEADER,$)}extract(Y,J,X){let Z=X.get(J,uG.BAGGAGE_HEADER),W=Array.isArray(Z)?Z.join(uG.BAGGAGE_ITEMS_SEPARATOR):Z;if(!W)return Y;let $={};if(W.length===0)return Y;if(W.split(uG.BAGGAGE_ITEMS_SEPARATOR).forEach((Q)=>{let U=(0,cm.parsePairKeyValue)(Q);if(U){let z={value:U.value};if(U.metadata)z.metadata=U.metadata;$[U.key]=z}}),Object.entries($).length===0)return Y;return dm.propagation.setBaggage(Y,dm.propagation.createBaggage($))}fields(){return[uG.BAGGAGE_HEADER]}}$U1.W3CBaggagePropagator=WU1});var OU1=q((zU1)=>{Object.defineProperty(zU1,"__esModule",{value:!0});zU1.AnchoredClock=void 0;class UU1{_monotonicClock;_epochMillis;_performanceMillis;constructor(Y,J){this._monotonicClock=J,this._epochMillis=Y.now(),this._performanceMillis=J.now()}now(){let Y=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+Y}}zU1.AnchoredClock=UU1});var DU1=q((VU1)=>{Object.defineProperty(VU1,"__esModule",{value:!0});VU1.isAttributeValue=VU1.isAttributeKey=VU1.sanitizeAttributes=void 0;var KU1=t();function Lo0(Y){let J={};if(typeof Y!=="object"||Y==null)return J;for(let X in Y){if(!Object.prototype.hasOwnProperty.call(Y,X))continue;if(!BU1(X)){KU1.diag.warn(`Invalid attribute key: ${X}`);continue}let Z=Y[X];if(!qU1(Z)){KU1.diag.warn(`Invalid attribute value set for key: ${X}`);continue}if(Array.isArray(Z))J[X]=Z.slice();else J[X]=Z}return J}VU1.sanitizeAttributes=Lo0;function BU1(Y){return typeof Y==="string"&&Y!==""}VU1.isAttributeKey=BU1;function qU1(Y){if(Y==null)return!0;if(Array.isArray(Y))return Mo0(Y);return FU1(typeof Y)}VU1.isAttributeValue=qU1;function Mo0(Y){let J;for(let X of Y){if(X==null)continue;let Z=typeof X;if(Z===J)continue;if(!J){if(FU1(Z)){J=Z;continue}return!1}return!1}return!0}function FU1(Y){switch(Y){case"number":case"boolean":case"string":return!0}return!1}});var lm=q((wU1)=>{Object.defineProperty(wU1,"__esModule",{value:!0});wU1.loggingErrorHandler=void 0;var Ro0=t();function No0(){return(Y)=>{Ro0.diag.error(So0(Y))}}wU1.loggingErrorHandler=No0;function So0(Y){if(typeof Y==="string")return Y;else return JSON.stringify(Co0(Y))}function Co0(Y){let J={},X=Y;while(X!==null)Object.getOwnPropertyNames(X).forEach((Z)=>{if(J[Z])return;let W=X[Z];if(W)J[Z]=String(W)}),X=Object.getPrototypeOf(X);return J}});var EU1=q((LU1)=>{Object.defineProperty(LU1,"__esModule",{value:!0});LU1.globalErrorHandler=LU1.setGlobalErrorHandler=void 0;var jo0=lm(),PU1=(0,jo0.loggingErrorHandler)();function ko0(Y){PU1=Y}LU1.setGlobalErrorHandler=ko0;function _o0(Y){try{PU1(Y)}catch{}}LU1.globalErrorHandler=_o0});var jU1=q((SU1)=>{Object.defineProperty(SU1,"__esModule",{value:!0});SU1.getStringListFromEnv=SU1.getBooleanFromEnv=SU1.getStringFromEnv=SU1.getNumberFromEnv=void 0;var TU1=t(),RU1=C("util");function fo0(Y){let J=process.env[Y];if(J==null||J.trim()==="")return;let X=Number(J);if(isNaN(X)){TU1.diag.warn(`Unknown value ${(0,RU1.inspect)(J)} for ${Y}, expected a number, using defaults`);return}return X}SU1.getNumberFromEnv=fo0;function NU1(Y){let J=process.env[Y];if(J==null||J.trim()==="")return;return J}SU1.getStringFromEnv=NU1;function vo0(Y){let J=process.env[Y]?.trim().toLowerCase();if(J==null||J==="")return!1;if(J==="true")return!0;else if(J==="false")return!1;else return TU1.diag.warn(`Unknown value ${(0,RU1.inspect)(J)} for ${Y}, expected 'true' or 'false', falling back to 'false' (default)`),!1}SU1.getBooleanFromEnv=vo0;function ho0(Y){return NU1(Y)?.split(",").map((J)=>J.trim()).filter((J)=>J!=="")}SU1.getStringListFromEnv=ho0});var xU1=q((kU1)=>{Object.defineProperty(kU1,"__esModule",{value:!0});kU1._globalThis=void 0;kU1._globalThis=globalThis});var hU1=q((fU1)=>{Object.defineProperty(fU1,"__esModule",{value:!0});fU1.VERSION=void 0;fU1.VERSION="2.5.1"});var pm=q((bU1)=>{Object.defineProperty(bU1,"__esModule",{value:!0});bU1.createConstMap=void 0;function uo0(Y){let J={},X=Y.length;for(let Z=0;Z<X;Z++){let W=Y[Z];if(W)J[String(W).toUpperCase().replace(/[-.]/g,"_")]=W}return J}bU1.createConstMap=uo0});var vB1=q((SB1)=>{Object.defineProperty(SB1,"__esModule",{value:!0});SB1.SEMATTRS_NET_HOST_CARRIER_ICC=SB1.SEMATTRS_NET_HOST_CARRIER_MNC=SB1.SEMATTRS_NET_HOST_CARRIER_MCC=SB1.SEMATTRS_NET_HOST_CARRIER_NAME=SB1.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=SB1.SEMATTRS_NET_HOST_CONNECTION_TYPE=SB1.SEMATTRS_NET_HOST_NAME=SB1.SEMATTRS_NET_HOST_PORT=SB1.SEMATTRS_NET_HOST_IP=SB1.SEMATTRS_NET_PEER_NAME=SB1.SEMATTRS_NET_PEER_PORT=SB1.SEMATTRS_NET_PEER_IP=SB1.SEMATTRS_NET_TRANSPORT=SB1.SEMATTRS_FAAS_INVOKED_REGION=SB1.SEMATTRS_FAAS_INVOKED_PROVIDER=SB1.SEMATTRS_FAAS_INVOKED_NAME=SB1.SEMATTRS_FAAS_COLDSTART=SB1.SEMATTRS_FAAS_CRON=SB1.SEMATTRS_FAAS_TIME=SB1.SEMATTRS_FAAS_DOCUMENT_NAME=SB1.SEMATTRS_FAAS_DOCUMENT_TIME=SB1.SEMATTRS_FAAS_DOCUMENT_OPERATION=SB1.SEMATTRS_FAAS_DOCUMENT_COLLECTION=SB1.SEMATTRS_FAAS_EXECUTION=SB1.SEMATTRS_FAAS_TRIGGER=SB1.SEMATTRS_EXCEPTION_ESCAPED=SB1.SEMATTRS_EXCEPTION_STACKTRACE=SB1.SEMATTRS_EXCEPTION_MESSAGE=SB1.SEMATTRS_EXCEPTION_TYPE=SB1.SEMATTRS_DB_SQL_TABLE=SB1.SEMATTRS_DB_MONGODB_COLLECTION=SB1.SEMATTRS_DB_REDIS_DATABASE_INDEX=SB1.SEMATTRS_DB_HBASE_NAMESPACE=SB1.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=SB1.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=SB1.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=SB1.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=SB1.SEMATTRS_DB_CASSANDRA_TABLE=SB1.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=SB1.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=SB1.SEMATTRS_DB_CASSANDRA_KEYSPACE=SB1.SEMATTRS_DB_MSSQL_INSTANCE_NAME=SB1.SEMATTRS_DB_OPERATION=SB1.SEMATTRS_DB_STATEMENT=SB1.SEMATTRS_DB_NAME=SB1.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=SB1.SEMATTRS_DB_USER=SB1.SEMATTRS_DB_CONNECTION_STRING=SB1.SEMATTRS_DB_SYSTEM=SB1.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=void 0;SB1.SEMATTRS_MESSAGING_DESTINATION_KIND=SB1.SEMATTRS_MESSAGING_DESTINATION=SB1.SEMATTRS_MESSAGING_SYSTEM=SB1.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=SB1.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=SB1.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=SB1.SEMATTRS_AWS_DYNAMODB_COUNT=SB1.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=SB1.SEMATTRS_AWS_DYNAMODB_SEGMENT=SB1.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=SB1.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=SB1.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=SB1.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=SB1.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=SB1.SEMATTRS_AWS_DYNAMODB_SELECT=SB1.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=SB1.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=SB1.SEMATTRS_AWS_DYNAMODB_LIMIT=SB1.SEMATTRS_AWS_DYNAMODB_PROJECTION=SB1.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=SB1.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=SB1.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=SB1.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=SB1.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=SB1.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=SB1.SEMATTRS_HTTP_CLIENT_IP=SB1.SEMATTRS_HTTP_ROUTE=SB1.SEMATTRS_HTTP_SERVER_NAME=SB1.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=SB1.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=SB1.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=SB1.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=SB1.SEMATTRS_HTTP_USER_AGENT=SB1.SEMATTRS_HTTP_FLAVOR=SB1.SEMATTRS_HTTP_STATUS_CODE=SB1.SEMATTRS_HTTP_SCHEME=SB1.SEMATTRS_HTTP_HOST=SB1.SEMATTRS_HTTP_TARGET=SB1.SEMATTRS_HTTP_URL=SB1.SEMATTRS_HTTP_METHOD=SB1.SEMATTRS_CODE_LINENO=SB1.SEMATTRS_CODE_FILEPATH=SB1.SEMATTRS_CODE_NAMESPACE=SB1.SEMATTRS_CODE_FUNCTION=SB1.SEMATTRS_THREAD_NAME=SB1.SEMATTRS_THREAD_ID=SB1.SEMATTRS_ENDUSER_SCOPE=SB1.SEMATTRS_ENDUSER_ROLE=SB1.SEMATTRS_ENDUSER_ID=SB1.SEMATTRS_PEER_SERVICE=void 0;SB1.DBSYSTEMVALUES_FILEMAKER=SB1.DBSYSTEMVALUES_DERBY=SB1.DBSYSTEMVALUES_FIREBIRD=SB1.DBSYSTEMVALUES_ADABAS=SB1.DBSYSTEMVALUES_CACHE=SB1.DBSYSTEMVALUES_EDB=SB1.DBSYSTEMVALUES_FIRSTSQL=SB1.DBSYSTEMVALUES_INGRES=SB1.DBSYSTEMVALUES_HANADB=SB1.DBSYSTEMVALUES_MAXDB=SB1.DBSYSTEMVALUES_PROGRESS=SB1.DBSYSTEMVALUES_HSQLDB=SB1.DBSYSTEMVALUES_CLOUDSCAPE=SB1.DBSYSTEMVALUES_HIVE=SB1.DBSYSTEMVALUES_REDSHIFT=SB1.DBSYSTEMVALUES_POSTGRESQL=SB1.DBSYSTEMVALUES_DB2=SB1.DBSYSTEMVALUES_ORACLE=SB1.DBSYSTEMVALUES_MYSQL=SB1.DBSYSTEMVALUES_MSSQL=SB1.DBSYSTEMVALUES_OTHER_SQL=SB1.SemanticAttributes=SB1.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=SB1.SEMATTRS_MESSAGE_COMPRESSED_SIZE=SB1.SEMATTRS_MESSAGE_ID=SB1.SEMATTRS_MESSAGE_TYPE=SB1.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=SB1.SEMATTRS_RPC_JSONRPC_ERROR_CODE=SB1.SEMATTRS_RPC_JSONRPC_REQUEST_ID=SB1.SEMATTRS_RPC_JSONRPC_VERSION=SB1.SEMATTRS_RPC_GRPC_STATUS_CODE=SB1.SEMATTRS_RPC_METHOD=SB1.SEMATTRS_RPC_SERVICE=SB1.SEMATTRS_RPC_SYSTEM=SB1.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=SB1.SEMATTRS_MESSAGING_KAFKA_PARTITION=SB1.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=SB1.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=SB1.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=SB1.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=SB1.SEMATTRS_MESSAGING_CONSUMER_ID=SB1.SEMATTRS_MESSAGING_OPERATION=SB1.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=SB1.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=SB1.SEMATTRS_MESSAGING_CONVERSATION_ID=SB1.SEMATTRS_MESSAGING_MESSAGE_ID=SB1.SEMATTRS_MESSAGING_URL=SB1.SEMATTRS_MESSAGING_PROTOCOL_VERSION=SB1.SEMATTRS_MESSAGING_PROTOCOL=SB1.SEMATTRS_MESSAGING_TEMP_DESTINATION=void 0;SB1.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=SB1.FaasDocumentOperationValues=SB1.FAASDOCUMENTOPERATIONVALUES_DELETE=SB1.FAASDOCUMENTOPERATIONVALUES_EDIT=SB1.FAASDOCUMENTOPERATIONVALUES_INSERT=SB1.FaasTriggerValues=SB1.FAASTRIGGERVALUES_OTHER=SB1.FAASTRIGGERVALUES_TIMER=SB1.FAASTRIGGERVALUES_PUBSUB=SB1.FAASTRIGGERVALUES_HTTP=SB1.FAASTRIGGERVALUES_DATASOURCE=SB1.DbCassandraConsistencyLevelValues=SB1.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=SB1.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=SB1.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=SB1.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=SB1.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=SB1.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=SB1.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=SB1.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=SB1.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=SB1.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=SB1.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=SB1.DbSystemValues=SB1.DBSYSTEMVALUES_COCKROACHDB=SB1.DBSYSTEMVALUES_MEMCACHED=SB1.DBSYSTEMVALUES_ELASTICSEARCH=SB1.DBSYSTEMVALUES_GEODE=SB1.DBSYSTEMVALUES_NEO4J=SB1.DBSYSTEMVALUES_DYNAMODB=SB1.DBSYSTEMVALUES_COSMOSDB=SB1.DBSYSTEMVALUES_COUCHDB=SB1.DBSYSTEMVALUES_COUCHBASE=SB1.DBSYSTEMVALUES_REDIS=SB1.DBSYSTEMVALUES_MONGODB=SB1.DBSYSTEMVALUES_HBASE=SB1.DBSYSTEMVALUES_CASSANDRA=SB1.DBSYSTEMVALUES_COLDFUSION=SB1.DBSYSTEMVALUES_H2=SB1.DBSYSTEMVALUES_VERTICA=SB1.DBSYSTEMVALUES_TERADATA=SB1.DBSYSTEMVALUES_SYBASE=SB1.DBSYSTEMVALUES_SQLITE=SB1.DBSYSTEMVALUES_POINTBASE=SB1.DBSYSTEMVALUES_PERVASIVE=SB1.DBSYSTEMVALUES_NETEZZA=SB1.DBSYSTEMVALUES_MARIADB=SB1.DBSYSTEMVALUES_INTERBASE=SB1.DBSYSTEMVALUES_INSTANTDB=SB1.DBSYSTEMVALUES_INFORMIX=void 0;SB1.MESSAGINGOPERATIONVALUES_RECEIVE=SB1.MessagingDestinationKindValues=SB1.MESSAGINGDESTINATIONKINDVALUES_TOPIC=SB1.MESSAGINGDESTINATIONKINDVALUES_QUEUE=SB1.HttpFlavorValues=SB1.HTTPFLAVORVALUES_QUIC=SB1.HTTPFLAVORVALUES_SPDY=SB1.HTTPFLAVORVALUES_HTTP_2_0=SB1.HTTPFLAVORVALUES_HTTP_1_1=SB1.HTTPFLAVORVALUES_HTTP_1_0=SB1.NetHostConnectionSubtypeValues=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_NR=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=SB1.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=SB1.NetHostConnectionTypeValues=SB1.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=SB1.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=SB1.NETHOSTCONNECTIONTYPEVALUES_CELL=SB1.NETHOSTCONNECTIONTYPEVALUES_WIRED=SB1.NETHOSTCONNECTIONTYPEVALUES_WIFI=SB1.NetTransportValues=SB1.NETTRANSPORTVALUES_OTHER=SB1.NETTRANSPORTVALUES_INPROC=SB1.NETTRANSPORTVALUES_PIPE=SB1.NETTRANSPORTVALUES_UNIX=SB1.NETTRANSPORTVALUES_IP=SB1.NETTRANSPORTVALUES_IP_UDP=SB1.NETTRANSPORTVALUES_IP_TCP=SB1.FaasInvokedProviderValues=SB1.FAASINVOKEDPROVIDERVALUES_GCP=SB1.FAASINVOKEDPROVIDERVALUES_AZURE=SB1.FAASINVOKEDPROVIDERVALUES_AWS=void 0;SB1.MessageTypeValues=SB1.MESSAGETYPEVALUES_RECEIVED=SB1.MESSAGETYPEVALUES_SENT=SB1.RpcGrpcStatusCodeValues=SB1.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=SB1.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=SB1.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=SB1.RPCGRPCSTATUSCODEVALUES_INTERNAL=SB1.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=SB1.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=SB1.RPCGRPCSTATUSCODEVALUES_ABORTED=SB1.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=SB1.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=SB1.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=SB1.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=SB1.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=SB1.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=SB1.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=SB1.RPCGRPCSTATUSCODEVALUES_UNKNOWN=SB1.RPCGRPCSTATUSCODEVALUES_CANCELLED=SB1.RPCGRPCSTATUSCODEVALUES_OK=SB1.MessagingOperationValues=SB1.MESSAGINGOPERATIONVALUES_PROCESS=void 0;var y7=pm(),gU1="aws.lambda.invoked_arn",uU1="db.system",mU1="db.connection_string",dU1="db.user",cU1="db.jdbc.driver_classname",lU1="db.name",pU1="db.statement",nU1="db.operation",iU1="db.mssql.instance_name",oU1="db.cassandra.keyspace",rU1="db.cassandra.page_size",aU1="db.cassandra.consistency_level",sU1="db.cassandra.table",tU1="db.cassandra.idempotence",eU1="db.cassandra.speculative_execution_count",Yz1="db.cassandra.coordinator.id",Jz1="db.cassandra.coordinator.dc",Xz1="db.hbase.namespace",Zz1="db.redis.database_index",Wz1="db.mongodb.collection",$z1="db.sql.table",Gz1="exception.type",Qz1="exception.message",Uz1="exception.stacktrace",zz1="exception.escaped",Hz1="faas.trigger",Oz1="faas.execution",Kz1="faas.document.collection",Bz1="faas.document.operation",qz1="faas.document.time",Fz1="faas.document.name",Vz1="faas.time",Iz1="faas.cron",Dz1="faas.coldstart",wz1="faas.invoked_name",Az1="faas.invoked_provider",Pz1="faas.invoked_region",Lz1="net.transport",Mz1="net.peer.ip",Ez1="net.peer.port",Tz1="net.peer.name",Rz1="net.host.ip",Nz1="net.host.port",Sz1="net.host.name",Cz1="net.host.connection.type",jz1="net.host.connection.subtype",kz1="net.host.carrier.name",_z1="net.host.carrier.mcc",xz1="net.host.carrier.mnc",fz1="net.host.carrier.icc",vz1="peer.service",hz1="enduser.id",bz1="enduser.role",yz1="enduser.scope",gz1="thread.id",uz1="thread.name",mz1="code.function",dz1="code.namespace",cz1="code.filepath",lz1="code.lineno",pz1="http.method",nz1="http.url",iz1="http.target",oz1="http.host",rz1="http.scheme",az1="http.status_code",sz1="http.flavor",tz1="http.user_agent",ez1="http.request_content_length",YH1="http.request_content_length_uncompressed",JH1="http.response_content_length",XH1="http.response_content_length_uncompressed",ZH1="http.server_name",WH1="http.route",$H1="http.client_ip",GH1="aws.dynamodb.table_names",QH1="aws.dynamodb.consumed_capacity",UH1="aws.dynamodb.item_collection_metrics",zH1="aws.dynamodb.provisioned_read_capacity",HH1="aws.dynamodb.provisioned_write_capacity",OH1="aws.dynamodb.consistent_read",KH1="aws.dynamodb.projection",BH1="aws.dynamodb.limit",qH1="aws.dynamodb.attributes_to_get",FH1="aws.dynamodb.index_name",VH1="aws.dynamodb.select",IH1="aws.dynamodb.global_secondary_indexes",DH1="aws.dynamodb.local_secondary_indexes",wH1="aws.dynamodb.exclusive_start_table",AH1="aws.dynamodb.table_count",PH1="aws.dynamodb.scan_forward",LH1="aws.dynamodb.segment",MH1="aws.dynamodb.total_segments",EH1="aws.dynamodb.count",TH1="aws.dynamodb.scanned_count",RH1="aws.dynamodb.attribute_definitions",NH1="aws.dynamodb.global_secondary_index_updates",SH1="messaging.system",CH1="messaging.destination",jH1="messaging.destination_kind",kH1="messaging.temp_destination",_H1="messaging.protocol",xH1="messaging.protocol_version",fH1="messaging.url",vH1="messaging.message_id",hH1="messaging.conversation_id",bH1="messaging.message_payload_size_bytes",yH1="messaging.message_payload_compressed_size_bytes",gH1="messaging.operation",uH1="messaging.consumer_id",mH1="messaging.rabbitmq.routing_key",dH1="messaging.kafka.message_key",cH1="messaging.kafka.consumer_group",lH1="messaging.kafka.client_id",pH1="messaging.kafka.partition",nH1="messaging.kafka.tombstone",iH1="rpc.system",oH1="rpc.service",rH1="rpc.method",aH1="rpc.grpc.status_code",sH1="rpc.jsonrpc.version",tH1="rpc.jsonrpc.request_id",eH1="rpc.jsonrpc.error_code",YO1="rpc.jsonrpc.error_message",JO1="message.type",XO1="message.id",ZO1="message.compressed_size",WO1="message.uncompressed_size";SB1.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=gU1;SB1.SEMATTRS_DB_SYSTEM=uU1;SB1.SEMATTRS_DB_CONNECTION_STRING=mU1;SB1.SEMATTRS_DB_USER=dU1;SB1.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=cU1;SB1.SEMATTRS_DB_NAME=lU1;SB1.SEMATTRS_DB_STATEMENT=pU1;SB1.SEMATTRS_DB_OPERATION=nU1;SB1.SEMATTRS_DB_MSSQL_INSTANCE_NAME=iU1;SB1.SEMATTRS_DB_CASSANDRA_KEYSPACE=oU1;SB1.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=rU1;SB1.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=aU1;SB1.SEMATTRS_DB_CASSANDRA_TABLE=sU1;SB1.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=tU1;SB1.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=eU1;SB1.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=Yz1;SB1.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=Jz1;SB1.SEMATTRS_DB_HBASE_NAMESPACE=Xz1;SB1.SEMATTRS_DB_REDIS_DATABASE_INDEX=Zz1;SB1.SEMATTRS_DB_MONGODB_COLLECTION=Wz1;SB1.SEMATTRS_DB_SQL_TABLE=$z1;SB1.SEMATTRS_EXCEPTION_TYPE=Gz1;SB1.SEMATTRS_EXCEPTION_MESSAGE=Qz1;SB1.SEMATTRS_EXCEPTION_STACKTRACE=Uz1;SB1.SEMATTRS_EXCEPTION_ESCAPED=zz1;SB1.SEMATTRS_FAAS_TRIGGER=Hz1;SB1.SEMATTRS_FAAS_EXECUTION=Oz1;SB1.SEMATTRS_FAAS_DOCUMENT_COLLECTION=Kz1;SB1.SEMATTRS_FAAS_DOCUMENT_OPERATION=Bz1;SB1.SEMATTRS_FAAS_DOCUMENT_TIME=qz1;SB1.SEMATTRS_FAAS_DOCUMENT_NAME=Fz1;SB1.SEMATTRS_FAAS_TIME=Vz1;SB1.SEMATTRS_FAAS_CRON=Iz1;SB1.SEMATTRS_FAAS_COLDSTART=Dz1;SB1.SEMATTRS_FAAS_INVOKED_NAME=wz1;SB1.SEMATTRS_FAAS_INVOKED_PROVIDER=Az1;SB1.SEMATTRS_FAAS_INVOKED_REGION=Pz1;SB1.SEMATTRS_NET_TRANSPORT=Lz1;SB1.SEMATTRS_NET_PEER_IP=Mz1;SB1.SEMATTRS_NET_PEER_PORT=Ez1;SB1.SEMATTRS_NET_PEER_NAME=Tz1;SB1.SEMATTRS_NET_HOST_IP=Rz1;SB1.SEMATTRS_NET_HOST_PORT=Nz1;SB1.SEMATTRS_NET_HOST_NAME=Sz1;SB1.SEMATTRS_NET_HOST_CONNECTION_TYPE=Cz1;SB1.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=jz1;SB1.SEMATTRS_NET_HOST_CARRIER_NAME=kz1;SB1.SEMATTRS_NET_HOST_CARRIER_MCC=_z1;SB1.SEMATTRS_NET_HOST_CARRIER_MNC=xz1;SB1.SEMATTRS_NET_HOST_CARRIER_ICC=fz1;SB1.SEMATTRS_PEER_SERVICE=vz1;SB1.SEMATTRS_ENDUSER_ID=hz1;SB1.SEMATTRS_ENDUSER_ROLE=bz1;SB1.SEMATTRS_ENDUSER_SCOPE=yz1;SB1.SEMATTRS_THREAD_ID=gz1;SB1.SEMATTRS_THREAD_NAME=uz1;SB1.SEMATTRS_CODE_FUNCTION=mz1;SB1.SEMATTRS_CODE_NAMESPACE=dz1;SB1.SEMATTRS_CODE_FILEPATH=cz1;SB1.SEMATTRS_CODE_LINENO=lz1;SB1.SEMATTRS_HTTP_METHOD=pz1;SB1.SEMATTRS_HTTP_URL=nz1;SB1.SEMATTRS_HTTP_TARGET=iz1;SB1.SEMATTRS_HTTP_HOST=oz1;SB1.SEMATTRS_HTTP_SCHEME=rz1;SB1.SEMATTRS_HTTP_STATUS_CODE=az1;SB1.SEMATTRS_HTTP_FLAVOR=sz1;SB1.SEMATTRS_HTTP_USER_AGENT=tz1;SB1.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=ez1;SB1.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=YH1;SB1.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=JH1;SB1.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=XH1;SB1.SEMATTRS_HTTP_SERVER_NAME=ZH1;SB1.SEMATTRS_HTTP_ROUTE=WH1;SB1.SEMATTRS_HTTP_CLIENT_IP=$H1;SB1.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=GH1;SB1.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=QH1;SB1.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=UH1;SB1.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=zH1;SB1.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=HH1;SB1.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=OH1;SB1.SEMATTRS_AWS_DYNAMODB_PROJECTION=KH1;SB1.SEMATTRS_AWS_DYNAMODB_LIMIT=BH1;SB1.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=qH1;SB1.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=FH1;SB1.SEMATTRS_AWS_DYNAMODB_SELECT=VH1;SB1.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=IH1;SB1.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=DH1;SB1.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=wH1;SB1.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=AH1;SB1.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=PH1;SB1.SEMATTRS_AWS_DYNAMODB_SEGMENT=LH1;SB1.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=MH1;SB1.SEMATTRS_AWS_DYNAMODB_COUNT=EH1;SB1.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=TH1;SB1.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=RH1;SB1.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=NH1;SB1.SEMATTRS_MESSAGING_SYSTEM=SH1;SB1.SEMATTRS_MESSAGING_DESTINATION=CH1;SB1.SEMATTRS_MESSAGING_DESTINATION_KIND=jH1;SB1.SEMATTRS_MESSAGING_TEMP_DESTINATION=kH1;SB1.SEMATTRS_MESSAGING_PROTOCOL=_H1;SB1.SEMATTRS_MESSAGING_PROTOCOL_VERSION=xH1;SB1.SEMATTRS_MESSAGING_URL=fH1;SB1.SEMATTRS_MESSAGING_MESSAGE_ID=vH1;SB1.SEMATTRS_MESSAGING_CONVERSATION_ID=hH1;SB1.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=bH1;SB1.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=yH1;SB1.SEMATTRS_MESSAGING_OPERATION=gH1;SB1.SEMATTRS_MESSAGING_CONSUMER_ID=uH1;SB1.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=mH1;SB1.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=dH1;SB1.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=cH1;SB1.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=lH1;SB1.SEMATTRS_MESSAGING_KAFKA_PARTITION=pH1;SB1.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=nH1;SB1.SEMATTRS_RPC_SYSTEM=iH1;SB1.SEMATTRS_RPC_SERVICE=oH1;SB1.SEMATTRS_RPC_METHOD=rH1;SB1.SEMATTRS_RPC_GRPC_STATUS_CODE=aH1;SB1.SEMATTRS_RPC_JSONRPC_VERSION=sH1;SB1.SEMATTRS_RPC_JSONRPC_REQUEST_ID=tH1;SB1.SEMATTRS_RPC_JSONRPC_ERROR_CODE=eH1;SB1.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=YO1;SB1.SEMATTRS_MESSAGE_TYPE=JO1;SB1.SEMATTRS_MESSAGE_ID=XO1;SB1.SEMATTRS_MESSAGE_COMPRESSED_SIZE=ZO1;SB1.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=WO1;SB1.SemanticAttributes=(0,y7.createConstMap)([gU1,uU1,mU1,dU1,cU1,lU1,pU1,nU1,iU1,oU1,rU1,aU1,sU1,tU1,eU1,Yz1,Jz1,Xz1,Zz1,Wz1,$z1,Gz1,Qz1,Uz1,zz1,Hz1,Oz1,Kz1,Bz1,qz1,Fz1,Vz1,Iz1,Dz1,wz1,Az1,Pz1,Lz1,Mz1,Ez1,Tz1,Rz1,Nz1,Sz1,Cz1,jz1,kz1,_z1,xz1,fz1,vz1,hz1,bz1,yz1,gz1,uz1,mz1,dz1,cz1,lz1,pz1,nz1,iz1,oz1,rz1,az1,sz1,tz1,ez1,YH1,JH1,XH1,ZH1,WH1,$H1,GH1,QH1,UH1,zH1,HH1,OH1,KH1,BH1,qH1,FH1,VH1,IH1,DH1,wH1,AH1,PH1,LH1,MH1,EH1,TH1,RH1,NH1,SH1,CH1,jH1,kH1,_H1,xH1,fH1,vH1,hH1,bH1,yH1,gH1,uH1,mH1,dH1,cH1,lH1,pH1,nH1,iH1,oH1,rH1,aH1,sH1,tH1,eH1,YO1,JO1,XO1,ZO1,WO1]);var $O1="other_sql",GO1="mssql",QO1="mysql",UO1="oracle",zO1="db2",HO1="postgresql",OO1="redshift",KO1="hive",BO1="cloudscape",qO1="hsqldb",FO1="progress",VO1="maxdb",IO1="hanadb",DO1="ingres",wO1="firstsql",AO1="edb",PO1="cache",LO1="adabas",MO1="firebird",EO1="derby",TO1="filemaker",RO1="informix",NO1="instantdb",SO1="interbase",CO1="mariadb",jO1="netezza",kO1="pervasive",_O1="pointbase",xO1="sqlite",fO1="sybase",vO1="teradata",hO1="vertica",bO1="h2",yO1="coldfusion",gO1="cassandra",uO1="hbase",mO1="mongodb",dO1="redis",cO1="couchbase",lO1="couchdb",pO1="cosmosdb",nO1="dynamodb",iO1="neo4j",oO1="geode",rO1="elasticsearch",aO1="memcached",sO1="cockroachdb";SB1.DBSYSTEMVALUES_OTHER_SQL=$O1;SB1.DBSYSTEMVALUES_MSSQL=GO1;SB1.DBSYSTEMVALUES_MYSQL=QO1;SB1.DBSYSTEMVALUES_ORACLE=UO1;SB1.DBSYSTEMVALUES_DB2=zO1;SB1.DBSYSTEMVALUES_POSTGRESQL=HO1;SB1.DBSYSTEMVALUES_REDSHIFT=OO1;SB1.DBSYSTEMVALUES_HIVE=KO1;SB1.DBSYSTEMVALUES_CLOUDSCAPE=BO1;SB1.DBSYSTEMVALUES_HSQLDB=qO1;SB1.DBSYSTEMVALUES_PROGRESS=FO1;SB1.DBSYSTEMVALUES_MAXDB=VO1;SB1.DBSYSTEMVALUES_HANADB=IO1;SB1.DBSYSTEMVALUES_INGRES=DO1;SB1.DBSYSTEMVALUES_FIRSTSQL=wO1;SB1.DBSYSTEMVALUES_EDB=AO1;SB1.DBSYSTEMVALUES_CACHE=PO1;SB1.DBSYSTEMVALUES_ADABAS=LO1;SB1.DBSYSTEMVALUES_FIREBIRD=MO1;SB1.DBSYSTEMVALUES_DERBY=EO1;SB1.DBSYSTEMVALUES_FILEMAKER=TO1;SB1.DBSYSTEMVALUES_INFORMIX=RO1;SB1.DBSYSTEMVALUES_INSTANTDB=NO1;SB1.DBSYSTEMVALUES_INTERBASE=SO1;SB1.DBSYSTEMVALUES_MARIADB=CO1;SB1.DBSYSTEMVALUES_NETEZZA=jO1;SB1.DBSYSTEMVALUES_PERVASIVE=kO1;SB1.DBSYSTEMVALUES_POINTBASE=_O1;SB1.DBSYSTEMVALUES_SQLITE=xO1;SB1.DBSYSTEMVALUES_SYBASE=fO1;SB1.DBSYSTEMVALUES_TERADATA=vO1;SB1.DBSYSTEMVALUES_VERTICA=hO1;SB1.DBSYSTEMVALUES_H2=bO1;SB1.DBSYSTEMVALUES_COLDFUSION=yO1;SB1.DBSYSTEMVALUES_CASSANDRA=gO1;SB1.DBSYSTEMVALUES_HBASE=uO1;SB1.DBSYSTEMVALUES_MONGODB=mO1;SB1.DBSYSTEMVALUES_REDIS=dO1;SB1.DBSYSTEMVALUES_COUCHBASE=cO1;SB1.DBSYSTEMVALUES_COUCHDB=lO1;SB1.DBSYSTEMVALUES_COSMOSDB=pO1;SB1.DBSYSTEMVALUES_DYNAMODB=nO1;SB1.DBSYSTEMVALUES_NEO4J=iO1;SB1.DBSYSTEMVALUES_GEODE=oO1;SB1.DBSYSTEMVALUES_ELASTICSEARCH=rO1;SB1.DBSYSTEMVALUES_MEMCACHED=aO1;SB1.DBSYSTEMVALUES_COCKROACHDB=sO1;SB1.DbSystemValues=(0,y7.createConstMap)([$O1,GO1,QO1,UO1,zO1,HO1,OO1,KO1,BO1,qO1,FO1,VO1,IO1,DO1,wO1,AO1,PO1,LO1,MO1,EO1,TO1,RO1,NO1,SO1,CO1,jO1,kO1,_O1,xO1,fO1,vO1,hO1,bO1,yO1,gO1,uO1,mO1,dO1,cO1,lO1,pO1,nO1,iO1,oO1,rO1,aO1,sO1]);var tO1="all",eO1="each_quorum",YK1="quorum",JK1="local_quorum",XK1="one",ZK1="two",WK1="three",$K1="local_one",GK1="any",QK1="serial",UK1="local_serial";SB1.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=tO1;SB1.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=eO1;SB1.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=YK1;SB1.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=JK1;SB1.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=XK1;SB1.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=ZK1;SB1.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=WK1;SB1.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=$K1;SB1.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=GK1;SB1.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=QK1;SB1.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=UK1;SB1.DbCassandraConsistencyLevelValues=(0,y7.createConstMap)([tO1,eO1,YK1,JK1,XK1,ZK1,WK1,$K1,GK1,QK1,UK1]);var zK1="datasource",HK1="http",OK1="pubsub",KK1="timer",BK1="other";SB1.FAASTRIGGERVALUES_DATASOURCE=zK1;SB1.FAASTRIGGERVALUES_HTTP=HK1;SB1.FAASTRIGGERVALUES_PUBSUB=OK1;SB1.FAASTRIGGERVALUES_TIMER=KK1;SB1.FAASTRIGGERVALUES_OTHER=BK1;SB1.FaasTriggerValues=(0,y7.createConstMap)([zK1,HK1,OK1,KK1,BK1]);var qK1="insert",FK1="edit",VK1="delete";SB1.FAASDOCUMENTOPERATIONVALUES_INSERT=qK1;SB1.FAASDOCUMENTOPERATIONVALUES_EDIT=FK1;SB1.FAASDOCUMENTOPERATIONVALUES_DELETE=VK1;SB1.FaasDocumentOperationValues=(0,y7.createConstMap)([qK1,FK1,VK1]);var IK1="alibaba_cloud",DK1="aws",wK1="azure",AK1="gcp";SB1.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=IK1;SB1.FAASINVOKEDPROVIDERVALUES_AWS=DK1;SB1.FAASINVOKEDPROVIDERVALUES_AZURE=wK1;SB1.FAASINVOKEDPROVIDERVALUES_GCP=AK1;SB1.FaasInvokedProviderValues=(0,y7.createConstMap)([IK1,DK1,wK1,AK1]);var PK1="ip_tcp",LK1="ip_udp",MK1="ip",EK1="unix",TK1="pipe",RK1="inproc",NK1="other";SB1.NETTRANSPORTVALUES_IP_TCP=PK1;SB1.NETTRANSPORTVALUES_IP_UDP=LK1;SB1.NETTRANSPORTVALUES_IP=MK1;SB1.NETTRANSPORTVALUES_UNIX=EK1;SB1.NETTRANSPORTVALUES_PIPE=TK1;SB1.NETTRANSPORTVALUES_INPROC=RK1;SB1.NETTRANSPORTVALUES_OTHER=NK1;SB1.NetTransportValues=(0,y7.createConstMap)([PK1,LK1,MK1,EK1,TK1,RK1,NK1]);var SK1="wifi",CK1="wired",jK1="cell",kK1="unavailable",_K1="unknown";SB1.NETHOSTCONNECTIONTYPEVALUES_WIFI=SK1;SB1.NETHOSTCONNECTIONTYPEVALUES_WIRED=CK1;SB1.NETHOSTCONNECTIONTYPEVALUES_CELL=jK1;SB1.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=kK1;SB1.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=_K1;SB1.NetHostConnectionTypeValues=(0,y7.createConstMap)([SK1,CK1,jK1,kK1,_K1]);var xK1="gprs",fK1="edge",vK1="umts",hK1="cdma",bK1="evdo_0",yK1="evdo_a",gK1="cdma2000_1xrtt",uK1="hsdpa",mK1="hsupa",dK1="hspa",cK1="iden",lK1="evdo_b",pK1="lte",nK1="ehrpd",iK1="hspap",oK1="gsm",rK1="td_scdma",aK1="iwlan",sK1="nr",tK1="nrnsa",eK1="lte_ca";SB1.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=xK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=fK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=vK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=hK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=bK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=yK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=gK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=uK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=mK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=dK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=cK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=lK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=pK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=nK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=iK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=oK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=rK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=aK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_NR=sK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=tK1;SB1.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=eK1;SB1.NetHostConnectionSubtypeValues=(0,y7.createConstMap)([xK1,fK1,vK1,hK1,bK1,yK1,gK1,uK1,mK1,dK1,cK1,lK1,pK1,nK1,iK1,oK1,rK1,aK1,sK1,tK1,eK1]);var YB1="1.0",JB1="1.1",XB1="2.0",ZB1="SPDY",WB1="QUIC";SB1.HTTPFLAVORVALUES_HTTP_1_0=YB1;SB1.HTTPFLAVORVALUES_HTTP_1_1=JB1;SB1.HTTPFLAVORVALUES_HTTP_2_0=XB1;SB1.HTTPFLAVORVALUES_SPDY=ZB1;SB1.HTTPFLAVORVALUES_QUIC=WB1;SB1.HttpFlavorValues={HTTP_1_0:YB1,HTTP_1_1:JB1,HTTP_2_0:XB1,SPDY:ZB1,QUIC:WB1};var $B1="queue",GB1="topic";SB1.MESSAGINGDESTINATIONKINDVALUES_QUEUE=$B1;SB1.MESSAGINGDESTINATIONKINDVALUES_TOPIC=GB1;SB1.MessagingDestinationKindValues=(0,y7.createConstMap)([$B1,GB1]);var QB1="receive",UB1="process";SB1.MESSAGINGOPERATIONVALUES_RECEIVE=QB1;SB1.MESSAGINGOPERATIONVALUES_PROCESS=UB1;SB1.MessagingOperationValues=(0,y7.createConstMap)([QB1,UB1]);var zB1=0,HB1=1,OB1=2,KB1=3,BB1=4,qB1=5,FB1=6,VB1=7,IB1=8,DB1=9,wB1=10,AB1=11,PB1=12,LB1=13,MB1=14,EB1=15,TB1=16;SB1.RPCGRPCSTATUSCODEVALUES_OK=zB1;SB1.RPCGRPCSTATUSCODEVALUES_CANCELLED=HB1;SB1.RPCGRPCSTATUSCODEVALUES_UNKNOWN=OB1;SB1.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=KB1;SB1.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=BB1;SB1.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=qB1;SB1.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=FB1;SB1.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=VB1;SB1.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=IB1;SB1.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=DB1;SB1.RPCGRPCSTATUSCODEVALUES_ABORTED=wB1;SB1.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=AB1;SB1.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=PB1;SB1.RPCGRPCSTATUSCODEVALUES_INTERNAL=LB1;SB1.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=MB1;SB1.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=EB1;SB1.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=TB1;SB1.RpcGrpcStatusCodeValues={OK:zB1,CANCELLED:HB1,UNKNOWN:OB1,INVALID_ARGUMENT:KB1,DEADLINE_EXCEEDED:BB1,NOT_FOUND:qB1,ALREADY_EXISTS:FB1,PERMISSION_DENIED:VB1,RESOURCE_EXHAUSTED:IB1,FAILED_PRECONDITION:DB1,ABORTED:wB1,OUT_OF_RANGE:AB1,UNIMPLEMENTED:PB1,INTERNAL:LB1,UNAVAILABLE:MB1,DATA_LOSS:EB1,UNAUTHENTICATED:TB1};var RB1="SENT",NB1="RECEIVED";SB1.MESSAGETYPEVALUES_SENT=RB1;SB1.MESSAGETYPEVALUES_RECEIVED=NB1;SB1.MessageTypeValues=(0,y7.createConstMap)([RB1,NB1])});var hB1=q((mG)=>{var ye0=mG&&mG.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),ge0=mG&&mG.__exportStar||function(Y,J){for(var X in Y)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(J,X))ye0(J,Y,X)};Object.defineProperty(mG,"__esModule",{value:!0});ge0(vB1(),mG)});var OV1=q((QV1)=>{Object.defineProperty(QV1,"__esModule",{value:!0});QV1.SEMRESATTRS_K8S_STATEFULSET_NAME=QV1.SEMRESATTRS_K8S_STATEFULSET_UID=QV1.SEMRESATTRS_K8S_DEPLOYMENT_NAME=QV1.SEMRESATTRS_K8S_DEPLOYMENT_UID=QV1.SEMRESATTRS_K8S_REPLICASET_NAME=QV1.SEMRESATTRS_K8S_REPLICASET_UID=QV1.SEMRESATTRS_K8S_CONTAINER_NAME=QV1.SEMRESATTRS_K8S_POD_NAME=QV1.SEMRESATTRS_K8S_POD_UID=QV1.SEMRESATTRS_K8S_NAMESPACE_NAME=QV1.SEMRESATTRS_K8S_NODE_UID=QV1.SEMRESATTRS_K8S_NODE_NAME=QV1.SEMRESATTRS_K8S_CLUSTER_NAME=QV1.SEMRESATTRS_HOST_IMAGE_VERSION=QV1.SEMRESATTRS_HOST_IMAGE_ID=QV1.SEMRESATTRS_HOST_IMAGE_NAME=QV1.SEMRESATTRS_HOST_ARCH=QV1.SEMRESATTRS_HOST_TYPE=QV1.SEMRESATTRS_HOST_NAME=QV1.SEMRESATTRS_HOST_ID=QV1.SEMRESATTRS_FAAS_MAX_MEMORY=QV1.SEMRESATTRS_FAAS_INSTANCE=QV1.SEMRESATTRS_FAAS_VERSION=QV1.SEMRESATTRS_FAAS_ID=QV1.SEMRESATTRS_FAAS_NAME=QV1.SEMRESATTRS_DEVICE_MODEL_NAME=QV1.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=QV1.SEMRESATTRS_DEVICE_ID=QV1.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=QV1.SEMRESATTRS_CONTAINER_IMAGE_TAG=QV1.SEMRESATTRS_CONTAINER_IMAGE_NAME=QV1.SEMRESATTRS_CONTAINER_RUNTIME=QV1.SEMRESATTRS_CONTAINER_ID=QV1.SEMRESATTRS_CONTAINER_NAME=QV1.SEMRESATTRS_AWS_LOG_STREAM_ARNS=QV1.SEMRESATTRS_AWS_LOG_STREAM_NAMES=QV1.SEMRESATTRS_AWS_LOG_GROUP_ARNS=QV1.SEMRESATTRS_AWS_LOG_GROUP_NAMES=QV1.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=QV1.SEMRESATTRS_AWS_ECS_TASK_REVISION=QV1.SEMRESATTRS_AWS_ECS_TASK_FAMILY=QV1.SEMRESATTRS_AWS_ECS_TASK_ARN=QV1.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=QV1.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=QV1.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=QV1.SEMRESATTRS_CLOUD_PLATFORM=QV1.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=QV1.SEMRESATTRS_CLOUD_REGION=QV1.SEMRESATTRS_CLOUD_ACCOUNT_ID=QV1.SEMRESATTRS_CLOUD_PROVIDER=void 0;QV1.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=QV1.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=QV1.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=QV1.CLOUDPLATFORMVALUES_AZURE_AKS=QV1.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=QV1.CLOUDPLATFORMVALUES_AZURE_VM=QV1.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=QV1.CLOUDPLATFORMVALUES_AWS_LAMBDA=QV1.CLOUDPLATFORMVALUES_AWS_EKS=QV1.CLOUDPLATFORMVALUES_AWS_ECS=QV1.CLOUDPLATFORMVALUES_AWS_EC2=QV1.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=QV1.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=QV1.CloudProviderValues=QV1.CLOUDPROVIDERVALUES_GCP=QV1.CLOUDPROVIDERVALUES_AZURE=QV1.CLOUDPROVIDERVALUES_AWS=QV1.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=QV1.SemanticResourceAttributes=QV1.SEMRESATTRS_WEBENGINE_DESCRIPTION=QV1.SEMRESATTRS_WEBENGINE_VERSION=QV1.SEMRESATTRS_WEBENGINE_NAME=QV1.SEMRESATTRS_TELEMETRY_AUTO_VERSION=QV1.SEMRESATTRS_TELEMETRY_SDK_VERSION=QV1.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=QV1.SEMRESATTRS_TELEMETRY_SDK_NAME=QV1.SEMRESATTRS_SERVICE_VERSION=QV1.SEMRESATTRS_SERVICE_INSTANCE_ID=QV1.SEMRESATTRS_SERVICE_NAMESPACE=QV1.SEMRESATTRS_SERVICE_NAME=QV1.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=QV1.SEMRESATTRS_PROCESS_RUNTIME_VERSION=QV1.SEMRESATTRS_PROCESS_RUNTIME_NAME=QV1.SEMRESATTRS_PROCESS_OWNER=QV1.SEMRESATTRS_PROCESS_COMMAND_ARGS=QV1.SEMRESATTRS_PROCESS_COMMAND_LINE=QV1.SEMRESATTRS_PROCESS_COMMAND=QV1.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=QV1.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=QV1.SEMRESATTRS_PROCESS_PID=QV1.SEMRESATTRS_OS_VERSION=QV1.SEMRESATTRS_OS_NAME=QV1.SEMRESATTRS_OS_DESCRIPTION=QV1.SEMRESATTRS_OS_TYPE=QV1.SEMRESATTRS_K8S_CRONJOB_NAME=QV1.SEMRESATTRS_K8S_CRONJOB_UID=QV1.SEMRESATTRS_K8S_JOB_NAME=QV1.SEMRESATTRS_K8S_JOB_UID=QV1.SEMRESATTRS_K8S_DAEMONSET_NAME=QV1.SEMRESATTRS_K8S_DAEMONSET_UID=void 0;QV1.TelemetrySdkLanguageValues=QV1.TELEMETRYSDKLANGUAGEVALUES_WEBJS=QV1.TELEMETRYSDKLANGUAGEVALUES_RUBY=QV1.TELEMETRYSDKLANGUAGEVALUES_PYTHON=QV1.TELEMETRYSDKLANGUAGEVALUES_PHP=QV1.TELEMETRYSDKLANGUAGEVALUES_NODEJS=QV1.TELEMETRYSDKLANGUAGEVALUES_JAVA=QV1.TELEMETRYSDKLANGUAGEVALUES_GO=QV1.TELEMETRYSDKLANGUAGEVALUES_ERLANG=QV1.TELEMETRYSDKLANGUAGEVALUES_DOTNET=QV1.TELEMETRYSDKLANGUAGEVALUES_CPP=QV1.OsTypeValues=QV1.OSTYPEVALUES_Z_OS=QV1.OSTYPEVALUES_SOLARIS=QV1.OSTYPEVALUES_AIX=QV1.OSTYPEVALUES_HPUX=QV1.OSTYPEVALUES_DRAGONFLYBSD=QV1.OSTYPEVALUES_OPENBSD=QV1.OSTYPEVALUES_NETBSD=QV1.OSTYPEVALUES_FREEBSD=QV1.OSTYPEVALUES_DARWIN=QV1.OSTYPEVALUES_LINUX=QV1.OSTYPEVALUES_WINDOWS=QV1.HostArchValues=QV1.HOSTARCHVALUES_X86=QV1.HOSTARCHVALUES_PPC64=QV1.HOSTARCHVALUES_PPC32=QV1.HOSTARCHVALUES_IA64=QV1.HOSTARCHVALUES_ARM64=QV1.HOSTARCHVALUES_ARM32=QV1.HOSTARCHVALUES_AMD64=QV1.AwsEcsLaunchtypeValues=QV1.AWSECSLAUNCHTYPEVALUES_FARGATE=QV1.AWSECSLAUNCHTYPEVALUES_EC2=QV1.CloudPlatformValues=QV1.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=QV1.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=QV1.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=QV1.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=void 0;var dG=pm(),bB1="cloud.provider",yB1="cloud.account.id",gB1="cloud.region",uB1="cloud.availability_zone",mB1="cloud.platform",dB1="aws.ecs.container.arn",cB1="aws.ecs.cluster.arn",lB1="aws.ecs.launchtype",pB1="aws.ecs.task.arn",nB1="aws.ecs.task.family",iB1="aws.ecs.task.revision",oB1="aws.eks.cluster.arn",rB1="aws.log.group.names",aB1="aws.log.group.arns",sB1="aws.log.stream.names",tB1="aws.log.stream.arns",eB1="container.name",Yq1="container.id",Jq1="container.runtime",Xq1="container.image.name",Zq1="container.image.tag",Wq1="deployment.environment",$q1="device.id",Gq1="device.model.identifier",Qq1="device.model.name",Uq1="faas.name",zq1="faas.id",Hq1="faas.version",Oq1="faas.instance",Kq1="faas.max_memory",Bq1="host.id",qq1="host.name",Fq1="host.type",Vq1="host.arch",Iq1="host.image.name",Dq1="host.image.id",wq1="host.image.version",Aq1="k8s.cluster.name",Pq1="k8s.node.name",Lq1="k8s.node.uid",Mq1="k8s.namespace.name",Eq1="k8s.pod.uid",Tq1="k8s.pod.name",Rq1="k8s.container.name",Nq1="k8s.replicaset.uid",Sq1="k8s.replicaset.name",Cq1="k8s.deployment.uid",jq1="k8s.deployment.name",kq1="k8s.statefulset.uid",_q1="k8s.statefulset.name",xq1="k8s.daemonset.uid",fq1="k8s.daemonset.name",vq1="k8s.job.uid",hq1="k8s.job.name",bq1="k8s.cronjob.uid",yq1="k8s.cronjob.name",gq1="os.type",uq1="os.description",mq1="os.name",dq1="os.version",cq1="process.pid",lq1="process.executable.name",pq1="process.executable.path",nq1="process.command",iq1="process.command_line",oq1="process.command_args",rq1="process.owner",aq1="process.runtime.name",sq1="process.runtime.version",tq1="process.runtime.description",eq1="service.name",YF1="service.namespace",JF1="service.instance.id",XF1="service.version",ZF1="telemetry.sdk.name",WF1="telemetry.sdk.language",$F1="telemetry.sdk.version",GF1="telemetry.auto.version",QF1="webengine.name",UF1="webengine.version",zF1="webengine.description";QV1.SEMRESATTRS_CLOUD_PROVIDER=bB1;QV1.SEMRESATTRS_CLOUD_ACCOUNT_ID=yB1;QV1.SEMRESATTRS_CLOUD_REGION=gB1;QV1.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=uB1;QV1.SEMRESATTRS_CLOUD_PLATFORM=mB1;QV1.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=dB1;QV1.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=cB1;QV1.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=lB1;QV1.SEMRESATTRS_AWS_ECS_TASK_ARN=pB1;QV1.SEMRESATTRS_AWS_ECS_TASK_FAMILY=nB1;QV1.SEMRESATTRS_AWS_ECS_TASK_REVISION=iB1;QV1.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=oB1;QV1.SEMRESATTRS_AWS_LOG_GROUP_NAMES=rB1;QV1.SEMRESATTRS_AWS_LOG_GROUP_ARNS=aB1;QV1.SEMRESATTRS_AWS_LOG_STREAM_NAMES=sB1;QV1.SEMRESATTRS_AWS_LOG_STREAM_ARNS=tB1;QV1.SEMRESATTRS_CONTAINER_NAME=eB1;QV1.SEMRESATTRS_CONTAINER_ID=Yq1;QV1.SEMRESATTRS_CONTAINER_RUNTIME=Jq1;QV1.SEMRESATTRS_CONTAINER_IMAGE_NAME=Xq1;QV1.SEMRESATTRS_CONTAINER_IMAGE_TAG=Zq1;QV1.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=Wq1;QV1.SEMRESATTRS_DEVICE_ID=$q1;QV1.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=Gq1;QV1.SEMRESATTRS_DEVICE_MODEL_NAME=Qq1;QV1.SEMRESATTRS_FAAS_NAME=Uq1;QV1.SEMRESATTRS_FAAS_ID=zq1;QV1.SEMRESATTRS_FAAS_VERSION=Hq1;QV1.SEMRESATTRS_FAAS_INSTANCE=Oq1;QV1.SEMRESATTRS_FAAS_MAX_MEMORY=Kq1;QV1.SEMRESATTRS_HOST_ID=Bq1;QV1.SEMRESATTRS_HOST_NAME=qq1;QV1.SEMRESATTRS_HOST_TYPE=Fq1;QV1.SEMRESATTRS_HOST_ARCH=Vq1;QV1.SEMRESATTRS_HOST_IMAGE_NAME=Iq1;QV1.SEMRESATTRS_HOST_IMAGE_ID=Dq1;QV1.SEMRESATTRS_HOST_IMAGE_VERSION=wq1;QV1.SEMRESATTRS_K8S_CLUSTER_NAME=Aq1;QV1.SEMRESATTRS_K8S_NODE_NAME=Pq1;QV1.SEMRESATTRS_K8S_NODE_UID=Lq1;QV1.SEMRESATTRS_K8S_NAMESPACE_NAME=Mq1;QV1.SEMRESATTRS_K8S_POD_UID=Eq1;QV1.SEMRESATTRS_K8S_POD_NAME=Tq1;QV1.SEMRESATTRS_K8S_CONTAINER_NAME=Rq1;QV1.SEMRESATTRS_K8S_REPLICASET_UID=Nq1;QV1.SEMRESATTRS_K8S_REPLICASET_NAME=Sq1;QV1.SEMRESATTRS_K8S_DEPLOYMENT_UID=Cq1;QV1.SEMRESATTRS_K8S_DEPLOYMENT_NAME=jq1;QV1.SEMRESATTRS_K8S_STATEFULSET_UID=kq1;QV1.SEMRESATTRS_K8S_STATEFULSET_NAME=_q1;QV1.SEMRESATTRS_K8S_DAEMONSET_UID=xq1;QV1.SEMRESATTRS_K8S_DAEMONSET_NAME=fq1;QV1.SEMRESATTRS_K8S_JOB_UID=vq1;QV1.SEMRESATTRS_K8S_JOB_NAME=hq1;QV1.SEMRESATTRS_K8S_CRONJOB_UID=bq1;QV1.SEMRESATTRS_K8S_CRONJOB_NAME=yq1;QV1.SEMRESATTRS_OS_TYPE=gq1;QV1.SEMRESATTRS_OS_DESCRIPTION=uq1;QV1.SEMRESATTRS_OS_NAME=mq1;QV1.SEMRESATTRS_OS_VERSION=dq1;QV1.SEMRESATTRS_PROCESS_PID=cq1;QV1.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=lq1;QV1.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=pq1;QV1.SEMRESATTRS_PROCESS_COMMAND=nq1;QV1.SEMRESATTRS_PROCESS_COMMAND_LINE=iq1;QV1.SEMRESATTRS_PROCESS_COMMAND_ARGS=oq1;QV1.SEMRESATTRS_PROCESS_OWNER=rq1;QV1.SEMRESATTRS_PROCESS_RUNTIME_NAME=aq1;QV1.SEMRESATTRS_PROCESS_RUNTIME_VERSION=sq1;QV1.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=tq1;QV1.SEMRESATTRS_SERVICE_NAME=eq1;QV1.SEMRESATTRS_SERVICE_NAMESPACE=YF1;QV1.SEMRESATTRS_SERVICE_INSTANCE_ID=JF1;QV1.SEMRESATTRS_SERVICE_VERSION=XF1;QV1.SEMRESATTRS_TELEMETRY_SDK_NAME=ZF1;QV1.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=WF1;QV1.SEMRESATTRS_TELEMETRY_SDK_VERSION=$F1;QV1.SEMRESATTRS_TELEMETRY_AUTO_VERSION=GF1;QV1.SEMRESATTRS_WEBENGINE_NAME=QF1;QV1.SEMRESATTRS_WEBENGINE_VERSION=UF1;QV1.SEMRESATTRS_WEBENGINE_DESCRIPTION=zF1;QV1.SemanticResourceAttributes=(0,dG.createConstMap)([bB1,yB1,gB1,uB1,mB1,dB1,cB1,lB1,pB1,nB1,iB1,oB1,rB1,aB1,sB1,tB1,eB1,Yq1,Jq1,Xq1,Zq1,Wq1,$q1,Gq1,Qq1,Uq1,zq1,Hq1,Oq1,Kq1,Bq1,qq1,Fq1,Vq1,Iq1,Dq1,wq1,Aq1,Pq1,Lq1,Mq1,Eq1,Tq1,Rq1,Nq1,Sq1,Cq1,jq1,kq1,_q1,xq1,fq1,vq1,hq1,bq1,yq1,gq1,uq1,mq1,dq1,cq1,lq1,pq1,nq1,iq1,oq1,rq1,aq1,sq1,tq1,eq1,YF1,JF1,XF1,ZF1,WF1,$F1,GF1,QF1,UF1,zF1]);var HF1="alibaba_cloud",OF1="aws",KF1="azure",BF1="gcp";QV1.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=HF1;QV1.CLOUDPROVIDERVALUES_AWS=OF1;QV1.CLOUDPROVIDERVALUES_AZURE=KF1;QV1.CLOUDPROVIDERVALUES_GCP=BF1;QV1.CloudProviderValues=(0,dG.createConstMap)([HF1,OF1,KF1,BF1]);var qF1="alibaba_cloud_ecs",FF1="alibaba_cloud_fc",VF1="aws_ec2",IF1="aws_ecs",DF1="aws_eks",wF1="aws_lambda",AF1="aws_elastic_beanstalk",PF1="azure_vm",LF1="azure_container_instances",MF1="azure_aks",EF1="azure_functions",TF1="azure_app_service",RF1="gcp_compute_engine",NF1="gcp_cloud_run",SF1="gcp_kubernetes_engine",CF1="gcp_cloud_functions",jF1="gcp_app_engine";QV1.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=qF1;QV1.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=FF1;QV1.CLOUDPLATFORMVALUES_AWS_EC2=VF1;QV1.CLOUDPLATFORMVALUES_AWS_ECS=IF1;QV1.CLOUDPLATFORMVALUES_AWS_EKS=DF1;QV1.CLOUDPLATFORMVALUES_AWS_LAMBDA=wF1;QV1.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=AF1;QV1.CLOUDPLATFORMVALUES_AZURE_VM=PF1;QV1.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=LF1;QV1.CLOUDPLATFORMVALUES_AZURE_AKS=MF1;QV1.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=EF1;QV1.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=TF1;QV1.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=RF1;QV1.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=NF1;QV1.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=SF1;QV1.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=CF1;QV1.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=jF1;QV1.CloudPlatformValues=(0,dG.createConstMap)([qF1,FF1,VF1,IF1,DF1,wF1,AF1,PF1,LF1,MF1,EF1,TF1,RF1,NF1,SF1,CF1,jF1]);var kF1="ec2",_F1="fargate";QV1.AWSECSLAUNCHTYPEVALUES_EC2=kF1;QV1.AWSECSLAUNCHTYPEVALUES_FARGATE=_F1;QV1.AwsEcsLaunchtypeValues=(0,dG.createConstMap)([kF1,_F1]);var xF1="amd64",fF1="arm32",vF1="arm64",hF1="ia64",bF1="ppc32",yF1="ppc64",gF1="x86";QV1.HOSTARCHVALUES_AMD64=xF1;QV1.HOSTARCHVALUES_ARM32=fF1;QV1.HOSTARCHVALUES_ARM64=vF1;QV1.HOSTARCHVALUES_IA64=hF1;QV1.HOSTARCHVALUES_PPC32=bF1;QV1.HOSTARCHVALUES_PPC64=yF1;QV1.HOSTARCHVALUES_X86=gF1;QV1.HostArchValues=(0,dG.createConstMap)([xF1,fF1,vF1,hF1,bF1,yF1,gF1]);var uF1="windows",mF1="linux",dF1="darwin",cF1="freebsd",lF1="netbsd",pF1="openbsd",nF1="dragonflybsd",iF1="hpux",oF1="aix",rF1="solaris",aF1="z_os";QV1.OSTYPEVALUES_WINDOWS=uF1;QV1.OSTYPEVALUES_LINUX=mF1;QV1.OSTYPEVALUES_DARWIN=dF1;QV1.OSTYPEVALUES_FREEBSD=cF1;QV1.OSTYPEVALUES_NETBSD=lF1;QV1.OSTYPEVALUES_OPENBSD=pF1;QV1.OSTYPEVALUES_DRAGONFLYBSD=nF1;QV1.OSTYPEVALUES_HPUX=iF1;QV1.OSTYPEVALUES_AIX=oF1;QV1.OSTYPEVALUES_SOLARIS=rF1;QV1.OSTYPEVALUES_Z_OS=aF1;QV1.OsTypeValues=(0,dG.createConstMap)([uF1,mF1,dF1,cF1,lF1,pF1,nF1,iF1,oF1,rF1,aF1]);var sF1="cpp",tF1="dotnet",eF1="erlang",YV1="go",JV1="java",XV1="nodejs",ZV1="php",WV1="python",$V1="ruby",GV1="webjs";QV1.TELEMETRYSDKLANGUAGEVALUES_CPP=sF1;QV1.TELEMETRYSDKLANGUAGEVALUES_DOTNET=tF1;QV1.TELEMETRYSDKLANGUAGEVALUES_ERLANG=eF1;QV1.TELEMETRYSDKLANGUAGEVALUES_GO=YV1;QV1.TELEMETRYSDKLANGUAGEVALUES_JAVA=JV1;QV1.TELEMETRYSDKLANGUAGEVALUES_NODEJS=XV1;QV1.TELEMETRYSDKLANGUAGEVALUES_PHP=ZV1;QV1.TELEMETRYSDKLANGUAGEVALUES_PYTHON=WV1;QV1.TELEMETRYSDKLANGUAGEVALUES_RUBY=$V1;QV1.TELEMETRYSDKLANGUAGEVALUES_WEBJS=GV1;QV1.TelemetrySdkLanguageValues=(0,dG.createConstMap)([sF1,tF1,eF1,YV1,JV1,XV1,ZV1,WV1,$V1,GV1])});var KV1=q((cG)=>{var q44=cG&&cG.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),F44=cG&&cG.__exportStar||function(Y,J){for(var X in Y)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(J,X))q44(J,Y,X)};Object.defineProperty(cG,"__esModule",{value:!0});F44(OV1(),cG)});var IV1=q((BV1)=>{Object.defineProperty(BV1,"__esModule",{value:!0});BV1.ATTR_EXCEPTION_TYPE=BV1.ATTR_EXCEPTION_STACKTRACE=BV1.ATTR_EXCEPTION_MESSAGE=BV1.ATTR_EXCEPTION_ESCAPED=BV1.ERROR_TYPE_VALUE_OTHER=BV1.ATTR_ERROR_TYPE=BV1.DOTNET_GC_HEAP_GENERATION_VALUE_POH=BV1.DOTNET_GC_HEAP_GENERATION_VALUE_LOH=BV1.DOTNET_GC_HEAP_GENERATION_VALUE_GEN2=BV1.DOTNET_GC_HEAP_GENERATION_VALUE_GEN1=BV1.DOTNET_GC_HEAP_GENERATION_VALUE_GEN0=BV1.ATTR_DOTNET_GC_HEAP_GENERATION=BV1.DB_SYSTEM_NAME_VALUE_POSTGRESQL=BV1.DB_SYSTEM_NAME_VALUE_MYSQL=BV1.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER=BV1.DB_SYSTEM_NAME_VALUE_MARIADB=BV1.ATTR_DB_SYSTEM_NAME=BV1.ATTR_DB_STORED_PROCEDURE_NAME=BV1.ATTR_DB_RESPONSE_STATUS_CODE=BV1.ATTR_DB_QUERY_TEXT=BV1.ATTR_DB_QUERY_SUMMARY=BV1.ATTR_DB_OPERATION_NAME=BV1.ATTR_DB_OPERATION_BATCH_SIZE=BV1.ATTR_DB_NAMESPACE=BV1.ATTR_DB_COLLECTION_NAME=BV1.ATTR_CODE_STACKTRACE=BV1.ATTR_CODE_LINE_NUMBER=BV1.ATTR_CODE_FUNCTION_NAME=BV1.ATTR_CODE_FILE_PATH=BV1.ATTR_CODE_COLUMN_NUMBER=BV1.ATTR_CLIENT_PORT=BV1.ATTR_CLIENT_ADDRESS=BV1.ATTR_ASPNETCORE_USER_IS_AUTHENTICATED=BV1.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS=BV1.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE=BV1.ATTR_ASPNETCORE_ROUTING_MATCH_STATUS=BV1.ATTR_ASPNETCORE_ROUTING_IS_FALLBACK=BV1.ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED=BV1.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED=BV1.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER=BV1.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER=BV1.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED=BV1.ATTR_ASPNETCORE_RATE_LIMITING_RESULT=BV1.ATTR_ASPNETCORE_RATE_LIMITING_POLICY=BV1.ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE=BV1.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED=BV1.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED=BV1.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED=BV1.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED=BV1.ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT=void 0;BV1.OTEL_STATUS_CODE_VALUE_ERROR=BV1.ATTR_OTEL_STATUS_CODE=BV1.ATTR_OTEL_SCOPE_VERSION=BV1.ATTR_OTEL_SCOPE_NAME=BV1.NETWORK_TYPE_VALUE_IPV6=BV1.NETWORK_TYPE_VALUE_IPV4=BV1.ATTR_NETWORK_TYPE=BV1.NETWORK_TRANSPORT_VALUE_UNIX=BV1.NETWORK_TRANSPORT_VALUE_UDP=BV1.NETWORK_TRANSPORT_VALUE_TCP=BV1.NETWORK_TRANSPORT_VALUE_QUIC=BV1.NETWORK_TRANSPORT_VALUE_PIPE=BV1.ATTR_NETWORK_TRANSPORT=BV1.ATTR_NETWORK_PROTOCOL_VERSION=BV1.ATTR_NETWORK_PROTOCOL_NAME=BV1.ATTR_NETWORK_PEER_PORT=BV1.ATTR_NETWORK_PEER_ADDRESS=BV1.ATTR_NETWORK_LOCAL_PORT=BV1.ATTR_NETWORK_LOCAL_ADDRESS=BV1.JVM_THREAD_STATE_VALUE_WAITING=BV1.JVM_THREAD_STATE_VALUE_TIMED_WAITING=BV1.JVM_THREAD_STATE_VALUE_TERMINATED=BV1.JVM_THREAD_STATE_VALUE_RUNNABLE=BV1.JVM_THREAD_STATE_VALUE_NEW=BV1.JVM_THREAD_STATE_VALUE_BLOCKED=BV1.ATTR_JVM_THREAD_STATE=BV1.ATTR_JVM_THREAD_DAEMON=BV1.JVM_MEMORY_TYPE_VALUE_NON_HEAP=BV1.JVM_MEMORY_TYPE_VALUE_HEAP=BV1.ATTR_JVM_MEMORY_TYPE=BV1.ATTR_JVM_MEMORY_POOL_NAME=BV1.ATTR_JVM_GC_NAME=BV1.ATTR_JVM_GC_ACTION=BV1.ATTR_HTTP_ROUTE=BV1.ATTR_HTTP_RESPONSE_STATUS_CODE=BV1.ATTR_HTTP_RESPONSE_HEADER=BV1.ATTR_HTTP_REQUEST_RESEND_COUNT=BV1.ATTR_HTTP_REQUEST_METHOD_ORIGINAL=BV1.HTTP_REQUEST_METHOD_VALUE_TRACE=BV1.HTTP_REQUEST_METHOD_VALUE_PUT=BV1.HTTP_REQUEST_METHOD_VALUE_POST=BV1.HTTP_REQUEST_METHOD_VALUE_PATCH=BV1.HTTP_REQUEST_METHOD_VALUE_OPTIONS=BV1.HTTP_REQUEST_METHOD_VALUE_HEAD=BV1.HTTP_REQUEST_METHOD_VALUE_GET=BV1.HTTP_REQUEST_METHOD_VALUE_DELETE=BV1.HTTP_REQUEST_METHOD_VALUE_CONNECT=BV1.HTTP_REQUEST_METHOD_VALUE_OTHER=BV1.ATTR_HTTP_REQUEST_METHOD=BV1.ATTR_HTTP_REQUEST_HEADER=void 0;BV1.ATTR_USER_AGENT_ORIGINAL=BV1.ATTR_URL_SCHEME=BV1.ATTR_URL_QUERY=BV1.ATTR_URL_PATH=BV1.ATTR_URL_FULL=BV1.ATTR_URL_FRAGMENT=BV1.ATTR_TELEMETRY_SDK_VERSION=BV1.ATTR_TELEMETRY_SDK_NAME=BV1.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS=BV1.TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT=BV1.TELEMETRY_SDK_LANGUAGE_VALUE_RUST=BV1.TELEMETRY_SDK_LANGUAGE_VALUE_RUBY=BV1.TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON=BV1.TELEMETRY_SDK_LANGUAGE_VALUE_PHP=BV1.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS=BV1.TELEMETRY_SDK_LANGUAGE_VALUE_JAVA=BV1.TELEMETRY_SDK_LANGUAGE_VALUE_GO=BV1.TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG=BV1.TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET=BV1.TELEMETRY_SDK_LANGUAGE_VALUE_CPP=BV1.ATTR_TELEMETRY_SDK_LANGUAGE=BV1.SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS=BV1.SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS=BV1.SIGNALR_TRANSPORT_VALUE_LONG_POLLING=BV1.ATTR_SIGNALR_TRANSPORT=BV1.SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT=BV1.SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE=BV1.SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN=BV1.ATTR_SIGNALR_CONNECTION_STATUS=BV1.ATTR_SERVICE_VERSION=BV1.ATTR_SERVICE_NAME=BV1.ATTR_SERVER_PORT=BV1.ATTR_SERVER_ADDRESS=BV1.ATTR_OTEL_STATUS_DESCRIPTION=BV1.OTEL_STATUS_CODE_VALUE_OK=void 0;BV1.ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT="aspnetcore.diagnostics.exception.result";BV1.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED="aborted";BV1.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED="handled";BV1.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED="skipped";BV1.ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED="unhandled";BV1.ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE="aspnetcore.diagnostics.handler.type";BV1.ATTR_ASPNETCORE_RATE_LIMITING_POLICY="aspnetcore.rate_limiting.policy";BV1.ATTR_ASPNETCORE_RATE_LIMITING_RESULT="aspnetcore.rate_limiting.result";BV1.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED="acquired";BV1.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER="endpoint_limiter";BV1.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER="global_limiter";BV1.ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED="request_canceled";BV1.ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED="aspnetcore.request.is_unhandled";BV1.ATTR_ASPNETCORE_ROUTING_IS_FALLBACK="aspnetcore.routing.is_fallback";BV1.ATTR_ASPNETCORE_ROUTING_MATCH_STATUS="aspnetcore.routing.match_status";BV1.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE="failure";BV1.ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS="success";BV1.ATTR_ASPNETCORE_USER_IS_AUTHENTICATED="aspnetcore.user.is_authenticated";BV1.ATTR_CLIENT_ADDRESS="client.address";BV1.ATTR_CLIENT_PORT="client.port";BV1.ATTR_CODE_COLUMN_NUMBER="code.column.number";BV1.ATTR_CODE_FILE_PATH="code.file.path";BV1.ATTR_CODE_FUNCTION_NAME="code.function.name";BV1.ATTR_CODE_LINE_NUMBER="code.line.number";BV1.ATTR_CODE_STACKTRACE="code.stacktrace";BV1.ATTR_DB_COLLECTION_NAME="db.collection.name";BV1.ATTR_DB_NAMESPACE="db.namespace";BV1.ATTR_DB_OPERATION_BATCH_SIZE="db.operation.batch.size";BV1.ATTR_DB_OPERATION_NAME="db.operation.name";BV1.ATTR_DB_QUERY_SUMMARY="db.query.summary";BV1.ATTR_DB_QUERY_TEXT="db.query.text";BV1.ATTR_DB_RESPONSE_STATUS_CODE="db.response.status_code";BV1.ATTR_DB_STORED_PROCEDURE_NAME="db.stored_procedure.name";BV1.ATTR_DB_SYSTEM_NAME="db.system.name";BV1.DB_SYSTEM_NAME_VALUE_MARIADB="mariadb";BV1.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER="microsoft.sql_server";BV1.DB_SYSTEM_NAME_VALUE_MYSQL="mysql";BV1.DB_SYSTEM_NAME_VALUE_POSTGRESQL="postgresql";BV1.ATTR_DOTNET_GC_HEAP_GENERATION="dotnet.gc.heap.generation";BV1.DOTNET_GC_HEAP_GENERATION_VALUE_GEN0="gen0";BV1.DOTNET_GC_HEAP_GENERATION_VALUE_GEN1="gen1";BV1.DOTNET_GC_HEAP_GENERATION_VALUE_GEN2="gen2";BV1.DOTNET_GC_HEAP_GENERATION_VALUE_LOH="loh";BV1.DOTNET_GC_HEAP_GENERATION_VALUE_POH="poh";BV1.ATTR_ERROR_TYPE="error.type";BV1.ERROR_TYPE_VALUE_OTHER="_OTHER";BV1.ATTR_EXCEPTION_ESCAPED="exception.escaped";BV1.ATTR_EXCEPTION_MESSAGE="exception.message";BV1.ATTR_EXCEPTION_STACKTRACE="exception.stacktrace";BV1.ATTR_EXCEPTION_TYPE="exception.type";var V44=(Y)=>`http.request.header.${Y}`;BV1.ATTR_HTTP_REQUEST_HEADER=V44;BV1.ATTR_HTTP_REQUEST_METHOD="http.request.method";BV1.HTTP_REQUEST_METHOD_VALUE_OTHER="_OTHER";BV1.HTTP_REQUEST_METHOD_VALUE_CONNECT="CONNECT";BV1.HTTP_REQUEST_METHOD_VALUE_DELETE="DELETE";BV1.HTTP_REQUEST_METHOD_VALUE_GET="GET";BV1.HTTP_REQUEST_METHOD_VALUE_HEAD="HEAD";BV1.HTTP_REQUEST_METHOD_VALUE_OPTIONS="OPTIONS";BV1.HTTP_REQUEST_METHOD_VALUE_PATCH="PATCH";BV1.HTTP_REQUEST_METHOD_VALUE_POST="POST";BV1.HTTP_REQUEST_METHOD_VALUE_PUT="PUT";BV1.HTTP_REQUEST_METHOD_VALUE_TRACE="TRACE";BV1.ATTR_HTTP_REQUEST_METHOD_ORIGINAL="http.request.method_original";BV1.ATTR_HTTP_REQUEST_RESEND_COUNT="http.request.resend_count";var I44=(Y)=>`http.response.header.${Y}`;BV1.ATTR_HTTP_RESPONSE_HEADER=I44;BV1.ATTR_HTTP_RESPONSE_STATUS_CODE="http.response.status_code";BV1.ATTR_HTTP_ROUTE="http.route";BV1.ATTR_JVM_GC_ACTION="jvm.gc.action";BV1.ATTR_JVM_GC_NAME="jvm.gc.name";BV1.ATTR_JVM_MEMORY_POOL_NAME="jvm.memory.pool.name";BV1.ATTR_JVM_MEMORY_TYPE="jvm.memory.type";BV1.JVM_MEMORY_TYPE_VALUE_HEAP="heap";BV1.JVM_MEMORY_TYPE_VALUE_NON_HEAP="non_heap";BV1.ATTR_JVM_THREAD_DAEMON="jvm.thread.daemon";BV1.ATTR_JVM_THREAD_STATE="jvm.thread.state";BV1.JVM_THREAD_STATE_VALUE_BLOCKED="blocked";BV1.JVM_THREAD_STATE_VALUE_NEW="new";BV1.JVM_THREAD_STATE_VALUE_RUNNABLE="runnable";BV1.JVM_THREAD_STATE_VALUE_TERMINATED="terminated";BV1.JVM_THREAD_STATE_VALUE_TIMED_WAITING="timed_waiting";BV1.JVM_THREAD_STATE_VALUE_WAITING="waiting";BV1.ATTR_NETWORK_LOCAL_ADDRESS="network.local.address";BV1.ATTR_NETWORK_LOCAL_PORT="network.local.port";BV1.ATTR_NETWORK_PEER_ADDRESS="network.peer.address";BV1.ATTR_NETWORK_PEER_PORT="network.peer.port";BV1.ATTR_NETWORK_PROTOCOL_NAME="network.protocol.name";BV1.ATTR_NETWORK_PROTOCOL_VERSION="network.protocol.version";BV1.ATTR_NETWORK_TRANSPORT="network.transport";BV1.NETWORK_TRANSPORT_VALUE_PIPE="pipe";BV1.NETWORK_TRANSPORT_VALUE_QUIC="quic";BV1.NETWORK_TRANSPORT_VALUE_TCP="tcp";BV1.NETWORK_TRANSPORT_VALUE_UDP="udp";BV1.NETWORK_TRANSPORT_VALUE_UNIX="unix";BV1.ATTR_NETWORK_TYPE="network.type";BV1.NETWORK_TYPE_VALUE_IPV4="ipv4";BV1.NETWORK_TYPE_VALUE_IPV6="ipv6";BV1.ATTR_OTEL_SCOPE_NAME="otel.scope.name";BV1.ATTR_OTEL_SCOPE_VERSION="otel.scope.version";BV1.ATTR_OTEL_STATUS_CODE="otel.status_code";BV1.OTEL_STATUS_CODE_VALUE_ERROR="ERROR";BV1.OTEL_STATUS_CODE_VALUE_OK="OK";BV1.ATTR_OTEL_STATUS_DESCRIPTION="otel.status_description";BV1.ATTR_SERVER_ADDRESS="server.address";BV1.ATTR_SERVER_PORT="server.port";BV1.ATTR_SERVICE_NAME="service.name";BV1.ATTR_SERVICE_VERSION="service.version";BV1.ATTR_SIGNALR_CONNECTION_STATUS="signalr.connection.status";BV1.SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN="app_shutdown";BV1.SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE="normal_closure";BV1.SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT="timeout";BV1.ATTR_SIGNALR_TRANSPORT="signalr.transport";BV1.SIGNALR_TRANSPORT_VALUE_LONG_POLLING="long_polling";BV1.SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS="server_sent_events";BV1.SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS="web_sockets";BV1.ATTR_TELEMETRY_SDK_LANGUAGE="telemetry.sdk.language";BV1.TELEMETRY_SDK_LANGUAGE_VALUE_CPP="cpp";BV1.TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET="dotnet";BV1.TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG="erlang";BV1.TELEMETRY_SDK_LANGUAGE_VALUE_GO="go";BV1.TELEMETRY_SDK_LANGUAGE_VALUE_JAVA="java";BV1.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS="nodejs";BV1.TELEMETRY_SDK_LANGUAGE_VALUE_PHP="php";BV1.TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON="python";BV1.TELEMETRY_SDK_LANGUAGE_VALUE_RUBY="ruby";BV1.TELEMETRY_SDK_LANGUAGE_VALUE_RUST="rust";BV1.TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT="swift";BV1.TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS="webjs";BV1.ATTR_TELEMETRY_SDK_NAME="telemetry.sdk.name";BV1.ATTR_TELEMETRY_SDK_VERSION="telemetry.sdk.version";BV1.ATTR_URL_FRAGMENT="url.fragment";BV1.ATTR_URL_FULL="url.full";BV1.ATTR_URL_PATH="url.path";BV1.ATTR_URL_QUERY="url.query";BV1.ATTR_URL_SCHEME="url.scheme";BV1.ATTR_USER_AGENT_ORIGINAL="user_agent.original"});var PV1=q((DV1)=>{Object.defineProperty(DV1,"__esModule",{value:!0});DV1.METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS=DV1.METRIC_KESTREL_UPGRADED_CONNECTIONS=DV1.METRIC_KESTREL_TLS_HANDSHAKE_DURATION=DV1.METRIC_KESTREL_REJECTED_CONNECTIONS=DV1.METRIC_KESTREL_QUEUED_REQUESTS=DV1.METRIC_KESTREL_QUEUED_CONNECTIONS=DV1.METRIC_KESTREL_CONNECTION_DURATION=DV1.METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES=DV1.METRIC_KESTREL_ACTIVE_CONNECTIONS=DV1.METRIC_JVM_THREAD_COUNT=DV1.METRIC_JVM_MEMORY_USED_AFTER_LAST_GC=DV1.METRIC_JVM_MEMORY_USED=DV1.METRIC_JVM_MEMORY_LIMIT=DV1.METRIC_JVM_MEMORY_COMMITTED=DV1.METRIC_JVM_GC_DURATION=DV1.METRIC_JVM_CPU_TIME=DV1.METRIC_JVM_CPU_RECENT_UTILIZATION=DV1.METRIC_JVM_CPU_COUNT=DV1.METRIC_JVM_CLASS_UNLOADED=DV1.METRIC_JVM_CLASS_LOADED=DV1.METRIC_JVM_CLASS_COUNT=DV1.METRIC_HTTP_SERVER_REQUEST_DURATION=DV1.METRIC_HTTP_CLIENT_REQUEST_DURATION=DV1.METRIC_DOTNET_TIMER_COUNT=DV1.METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT=DV1.METRIC_DOTNET_THREAD_POOL_THREAD_COUNT=DV1.METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH=DV1.METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET=DV1.METRIC_DOTNET_PROCESS_CPU_TIME=DV1.METRIC_DOTNET_PROCESS_CPU_COUNT=DV1.METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS=DV1.METRIC_DOTNET_JIT_COMPILED_METHODS=DV1.METRIC_DOTNET_JIT_COMPILED_IL_SIZE=DV1.METRIC_DOTNET_JIT_COMPILATION_TIME=DV1.METRIC_DOTNET_GC_PAUSE_TIME=DV1.METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE=DV1.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE=DV1.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE=DV1.METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED=DV1.METRIC_DOTNET_GC_COLLECTIONS=DV1.METRIC_DOTNET_EXCEPTIONS=DV1.METRIC_DOTNET_ASSEMBLY_COUNT=DV1.METRIC_DB_CLIENT_OPERATION_DURATION=DV1.METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS=DV1.METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS=DV1.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION=DV1.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE=DV1.METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS=DV1.METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES=DV1.METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS=void 0;DV1.METRIC_SIGNALR_SERVER_CONNECTION_DURATION=void 0;DV1.METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS="aspnetcore.diagnostics.exceptions";DV1.METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES="aspnetcore.rate_limiting.active_request_leases";DV1.METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS="aspnetcore.rate_limiting.queued_requests";DV1.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE="aspnetcore.rate_limiting.request.time_in_queue";DV1.METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION="aspnetcore.rate_limiting.request_lease.duration";DV1.METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS="aspnetcore.rate_limiting.requests";DV1.METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS="aspnetcore.routing.match_attempts";DV1.METRIC_DB_CLIENT_OPERATION_DURATION="db.client.operation.duration";DV1.METRIC_DOTNET_ASSEMBLY_COUNT="dotnet.assembly.count";DV1.METRIC_DOTNET_EXCEPTIONS="dotnet.exceptions";DV1.METRIC_DOTNET_GC_COLLECTIONS="dotnet.gc.collections";DV1.METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED="dotnet.gc.heap.total_allocated";DV1.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE="dotnet.gc.last_collection.heap.fragmentation.size";DV1.METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE="dotnet.gc.last_collection.heap.size";DV1.METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE="dotnet.gc.last_collection.memory.committed_size";DV1.METRIC_DOTNET_GC_PAUSE_TIME="dotnet.gc.pause.time";DV1.METRIC_DOTNET_JIT_COMPILATION_TIME="dotnet.jit.compilation.time";DV1.METRIC_DOTNET_JIT_COMPILED_IL_SIZE="dotnet.jit.compiled_il.size";DV1.METRIC_DOTNET_JIT_COMPILED_METHODS="dotnet.jit.compiled_methods";DV1.METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS="dotnet.monitor.lock_contentions";DV1.METRIC_DOTNET_PROCESS_CPU_COUNT="dotnet.process.cpu.count";DV1.METRIC_DOTNET_PROCESS_CPU_TIME="dotnet.process.cpu.time";DV1.METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET="dotnet.process.memory.working_set";DV1.METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH="dotnet.thread_pool.queue.length";DV1.METRIC_DOTNET_THREAD_POOL_THREAD_COUNT="dotnet.thread_pool.thread.count";DV1.METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT="dotnet.thread_pool.work_item.count";DV1.METRIC_DOTNET_TIMER_COUNT="dotnet.timer.count";DV1.METRIC_HTTP_CLIENT_REQUEST_DURATION="http.client.request.duration";DV1.METRIC_HTTP_SERVER_REQUEST_DURATION="http.server.request.duration";DV1.METRIC_JVM_CLASS_COUNT="jvm.class.count";DV1.METRIC_JVM_CLASS_LOADED="jvm.class.loaded";DV1.METRIC_JVM_CLASS_UNLOADED="jvm.class.unloaded";DV1.METRIC_JVM_CPU_COUNT="jvm.cpu.count";DV1.METRIC_JVM_CPU_RECENT_UTILIZATION="jvm.cpu.recent_utilization";DV1.METRIC_JVM_CPU_TIME="jvm.cpu.time";DV1.METRIC_JVM_GC_DURATION="jvm.gc.duration";DV1.METRIC_JVM_MEMORY_COMMITTED="jvm.memory.committed";DV1.METRIC_JVM_MEMORY_LIMIT="jvm.memory.limit";DV1.METRIC_JVM_MEMORY_USED="jvm.memory.used";DV1.METRIC_JVM_MEMORY_USED_AFTER_LAST_GC="jvm.memory.used_after_last_gc";DV1.METRIC_JVM_THREAD_COUNT="jvm.thread.count";DV1.METRIC_KESTREL_ACTIVE_CONNECTIONS="kestrel.active_connections";DV1.METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES="kestrel.active_tls_handshakes";DV1.METRIC_KESTREL_CONNECTION_DURATION="kestrel.connection.duration";DV1.METRIC_KESTREL_QUEUED_CONNECTIONS="kestrel.queued_connections";DV1.METRIC_KESTREL_QUEUED_REQUESTS="kestrel.queued_requests";DV1.METRIC_KESTREL_REJECTED_CONNECTIONS="kestrel.rejected_connections";DV1.METRIC_KESTREL_TLS_HANDSHAKE_DURATION="kestrel.tls_handshake.duration";DV1.METRIC_KESTREL_UPGRADED_CONNECTIONS="kestrel.upgraded_connections";DV1.METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS="signalr.server.active_connections";DV1.METRIC_SIGNALR_SERVER_CONNECTION_DURATION="signalr.server.connection.duration"});var EV1=q((LV1)=>{Object.defineProperty(LV1,"__esModule",{value:!0});LV1.EVENT_EXCEPTION=void 0;LV1.EVENT_EXCEPTION="exception"});var X0=q((fY)=>{var b54=fY&&fY.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),RF=fY&&fY.__exportStar||function(Y,J){for(var X in Y)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(J,X))b54(J,Y,X)};Object.defineProperty(fY,"__esModule",{value:!0});RF(hB1(),fY);RF(KV1(),fY);RF(IV1(),fY);RF(PV1(),fY);RF(EV1(),fY)});var NV1=q((TV1)=>{Object.defineProperty(TV1,"__esModule",{value:!0});TV1.ATTR_PROCESS_RUNTIME_NAME=void 0;TV1.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name"});var jV1=q((SV1)=>{Object.defineProperty(SV1,"__esModule",{value:!0});SV1.SDK_INFO=void 0;var y54=hU1(),TE=X0(),g54=NV1();SV1.SDK_INFO={[TE.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[g54.ATTR_PROCESS_RUNTIME_NAME]:"node",[TE.ATTR_TELEMETRY_SDK_LANGUAGE]:TE.TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS,[TE.ATTR_TELEMETRY_SDK_VERSION]:y54.VERSION}});var _V1=q((KW)=>{Object.defineProperty(KW,"__esModule",{value:!0});KW.otperformance=KW.SDK_INFO=KW._globalThis=KW.getStringListFromEnv=KW.getNumberFromEnv=KW.getBooleanFromEnv=KW.getStringFromEnv=void 0;var RE=jU1();Object.defineProperty(KW,"getStringFromEnv",{enumerable:!0,get:function(){return RE.getStringFromEnv}});Object.defineProperty(KW,"getBooleanFromEnv",{enumerable:!0,get:function(){return RE.getBooleanFromEnv}});Object.defineProperty(KW,"getNumberFromEnv",{enumerable:!0,get:function(){return RE.getNumberFromEnv}});Object.defineProperty(KW,"getStringListFromEnv",{enumerable:!0,get:function(){return RE.getStringListFromEnv}});var u54=xU1();Object.defineProperty(KW,"_globalThis",{enumerable:!0,get:function(){return u54._globalThis}});var m54=jV1();Object.defineProperty(KW,"SDK_INFO",{enumerable:!0,get:function(){return m54.SDK_INFO}});KW.otperformance=performance});var nm=q((g3)=>{Object.defineProperty(g3,"__esModule",{value:!0});g3.getStringListFromEnv=g3.getNumberFromEnv=g3.getStringFromEnv=g3.getBooleanFromEnv=g3.otperformance=g3._globalThis=g3.SDK_INFO=void 0;var lG=_V1();Object.defineProperty(g3,"SDK_INFO",{enumerable:!0,get:function(){return lG.SDK_INFO}});Object.defineProperty(g3,"_globalThis",{enumerable:!0,get:function(){return lG._globalThis}});Object.defineProperty(g3,"otperformance",{enumerable:!0,get:function(){return lG.otperformance}});Object.defineProperty(g3,"getBooleanFromEnv",{enumerable:!0,get:function(){return lG.getBooleanFromEnv}});Object.defineProperty(g3,"getStringFromEnv",{enumerable:!0,get:function(){return lG.getStringFromEnv}});Object.defineProperty(g3,"getNumberFromEnv",{enumerable:!0,get:function(){return lG.getNumberFromEnv}});Object.defineProperty(g3,"getStringListFromEnv",{enumerable:!0,get:function(){return lG.getStringListFromEnv}})});var yV1=q((hV1)=>{Object.defineProperty(hV1,"__esModule",{value:!0});hV1.addHrTimes=hV1.isTimeInput=hV1.isTimeInputHrTime=hV1.hrTimeToMicroseconds=hV1.hrTimeToMilliseconds=hV1.hrTimeToNanoseconds=hV1.hrTimeToTimeStamp=hV1.hrTimeDuration=hV1.timeInputToHrTime=hV1.hrTime=hV1.getTimeOrigin=hV1.millisToHrTime=void 0;var NE=nm(),xV1=9,c54=6,l54=Math.pow(10,c54),SE=Math.pow(10,xV1);function NF(Y){let J=Y/1000,X=Math.trunc(J),Z=Math.round(Y%1000*l54);return[X,Z]}hV1.millisToHrTime=NF;function p54(){return NE.otperformance.timeOrigin}hV1.getTimeOrigin=p54;function fV1(Y){let J=NF(NE.otperformance.timeOrigin),X=NF(typeof Y==="number"?Y:NE.otperformance.now());return vV1(J,X)}hV1.hrTime=fV1;function n54(Y){if(im(Y))return Y;else if(typeof Y==="number")if(Y<NE.otperformance.timeOrigin)return fV1(Y);else return NF(Y);else if(Y instanceof Date)return NF(Y.getTime());else throw TypeError("Invalid input type")}hV1.timeInputToHrTime=n54;function i54(Y,J){let X=J[0]-Y[0],Z=J[1]-Y[1];if(Z<0)X-=1,Z+=SE;return[X,Z]}hV1.hrTimeDuration=i54;function o54(Y){let J=xV1,X=`${"0".repeat(J)}${Y[1]}Z`,Z=X.substring(X.length-J-1);return new Date(Y[0]*1000).toISOString().replace("000Z",Z)}hV1.hrTimeToTimeStamp=o54;function r54(Y){return Y[0]*SE+Y[1]}hV1.hrTimeToNanoseconds=r54;function a54(Y){return Y[0]*1000+Y[1]/1e6}hV1.hrTimeToMilliseconds=a54;function s54(Y){return Y[0]*1e6+Y[1]/1000}hV1.hrTimeToMicroseconds=s54;function im(Y){return Array.isArray(Y)&&Y.length===2&&typeof Y[0]==="number"&&typeof Y[1]==="number"}hV1.isTimeInputHrTime=im;function t54(Y){return im(Y)||typeof Y==="number"||Y instanceof Date}hV1.isTimeInput=t54;function vV1(Y,J){let X=[Y[0]+J[0],Y[1]+J[1]];if(X[1]>=SE)X[1]-=SE,X[0]+=1;return X}hV1.addHrTimes=vV1});var mV1=q((gV1)=>{Object.defineProperty(gV1,"__esModule",{value:!0});gV1.unrefTimer=void 0;function H94(Y){if(typeof Y!=="number")Y.unref()}gV1.unrefTimer=H94});var cV1=q((dV1)=>{Object.defineProperty(dV1,"__esModule",{value:!0});dV1.ExportResultCode=void 0;var O94;(function(Y){Y[Y.SUCCESS=0]="SUCCESS",Y[Y.FAILED=1]="FAILED"})(O94=dV1.ExportResultCode||(dV1.ExportResultCode={}))});var oV1=q((nV1)=>{Object.defineProperty(nV1,"__esModule",{value:!0});nV1.CompositePropagator=void 0;var lV1=t();class pV1{_propagators;_fields;constructor(Y={}){this._propagators=Y.propagators??[],this._fields=Array.from(new Set(this._propagators.map((J)=>typeof J.fields==="function"?J.fields():[]).reduce((J,X)=>J.concat(X),[])))}inject(Y,J,X){for(let Z of this._propagators)try{Z.inject(Y,J,X)}catch(W){lV1.diag.warn(`Failed to inject with ${Z.constructor.name}. Err: ${W.message}`)}}extract(Y,J,X){return this._propagators.reduce((Z,W)=>{try{return W.extract(Z,J,X)}catch($){lV1.diag.warn(`Failed to extract with ${W.constructor.name}. Err: ${$.message}`)}return Z},Y)}fields(){return this._fields.slice()}}nV1.CompositePropagator=pV1});var sV1=q((rV1)=>{Object.defineProperty(rV1,"__esModule",{value:!0});rV1.validateValue=rV1.validateKey=void 0;var rm="[_0-9a-z-*/]",K94=`[a-z]${rm}{0,255}`,B94=`[a-z0-9]${rm}{0,240}@[a-z]${rm}{0,13}`,q94=new RegExp(`^(?:${K94}|${B94})$`),F94=/^[ -~]{0,255}[!-~]$/,V94=/,|=/;function I94(Y){return q94.test(Y)}rV1.validateKey=I94;function D94(Y){return F94.test(Y)&&!V94.test(Y)}rV1.validateValue=D94});var sm=q((XI1)=>{Object.defineProperty(XI1,"__esModule",{value:!0});XI1.TraceState=void 0;var tV1=sV1(),eV1=32,A94=512,YI1=",",JI1="=";class am{_internalState=new Map;constructor(Y){if(Y)this._parse(Y)}set(Y,J){let X=this._clone();if(X._internalState.has(Y))X._internalState.delete(Y);return X._internalState.set(Y,J),X}unset(Y){let J=this._clone();return J._internalState.delete(Y),J}get(Y){return this._internalState.get(Y)}serialize(){return this._keys().reduce((Y,J)=>{return Y.push(J+JI1+this.get(J)),Y},[]).join(YI1)}_parse(Y){if(Y.length>A94)return;if(this._internalState=Y.split(YI1).reverse().reduce((J,X)=>{let Z=X.trim(),W=Z.indexOf(JI1);if(W!==-1){let $=Z.slice(0,W),G=Z.slice(W+1,X.length);if((0,tV1.validateKey)($)&&(0,tV1.validateValue)(G))J.set($,G)}return J},new Map),this._internalState.size>eV1)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,eV1))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let Y=new am;return Y._internalState=new Map(this._internalState),Y}}XI1.TraceState=am});var UI1=q((GI1)=>{Object.defineProperty(GI1,"__esModule",{value:!0});GI1.W3CTraceContextPropagator=GI1.parseTraceParent=GI1.TRACE_STATE_HEADER=GI1.TRACE_PARENT_HEADER=void 0;var CE=t(),P94=TF(),L94=sm();GI1.TRACE_PARENT_HEADER="traceparent";GI1.TRACE_STATE_HEADER="tracestate";var M94="00",E94="(?!ff)[\\da-f]{2}",T94="(?![0]{32})[\\da-f]{32}",R94="(?![0]{16})[\\da-f]{16}",N94="[\\da-f]{2}",S94=new RegExp(`^\\s?(${E94})-(${T94})-(${R94})-(${N94})(-.*)?\\s?$`);function WI1(Y){let J=S94.exec(Y);if(!J)return null;if(J[1]==="00"&&J[5])return null;return{traceId:J[2],spanId:J[3],traceFlags:parseInt(J[4],16)}}GI1.parseTraceParent=WI1;class $I1{inject(Y,J,X){let Z=CE.trace.getSpanContext(Y);if(!Z||(0,P94.isTracingSuppressed)(Y)||!(0,CE.isSpanContextValid)(Z))return;let W=`${M94}-${Z.traceId}-${Z.spanId}-0${Number(Z.traceFlags||CE.TraceFlags.NONE).toString(16)}`;if(X.set(J,GI1.TRACE_PARENT_HEADER,W),Z.traceState)X.set(J,GI1.TRACE_STATE_HEADER,Z.traceState.serialize())}extract(Y,J,X){let Z=X.get(J,GI1.TRACE_PARENT_HEADER);if(!Z)return Y;let W=Array.isArray(Z)?Z[0]:Z;if(typeof W!=="string")return Y;let $=WI1(W);if(!$)return Y;$.isRemote=!0;let G=X.get(J,GI1.TRACE_STATE_HEADER);if(G){let Q=Array.isArray(G)?G.join(","):G;$.traceState=new L94.TraceState(typeof Q==="string"?Q:void 0)}return CE.trace.setSpanContext(Y,$)}fields(){return[GI1.TRACE_PARENT_HEADER,GI1.TRACE_STATE_HEADER]}}GI1.W3CTraceContextPropagator=$I1});var KI1=q((HI1)=>{Object.defineProperty(HI1,"__esModule",{value:!0});HI1.getRPCMetadata=HI1.deleteRPCMetadata=HI1.setRPCMetadata=HI1.RPCType=void 0;var j94=t(),tm=(0,j94.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),k94;(function(Y){Y.HTTP="http"})(k94=HI1.RPCType||(HI1.RPCType={}));function _94(Y,J){return Y.setValue(tm,J)}HI1.setRPCMetadata=_94;function x94(Y){return Y.deleteValue(tm)}HI1.deleteRPCMetadata=x94;function f94(Y){return Y.getValue(tm)}HI1.getRPCMetadata=f94});var wI1=q((II1)=>{Object.defineProperty(II1,"__esModule",{value:!0});II1.isPlainObject=void 0;var b94="[object Object]",y94="[object Null]",g94="[object Undefined]",u94=Function.prototype,BI1=u94.toString,m94=BI1.call(Object),d94=Object.getPrototypeOf,qI1=Object.prototype,FI1=qI1.hasOwnProperty,pG=Symbol?Symbol.toStringTag:void 0,VI1=qI1.toString;function c94(Y){if(!l94(Y)||p94(Y)!==b94)return!1;let J=d94(Y);if(J===null)return!0;let X=FI1.call(J,"constructor")&&J.constructor;return typeof X=="function"&&X instanceof X&&BI1.call(X)===m94}II1.isPlainObject=c94;function l94(Y){return Y!=null&&typeof Y=="object"}function p94(Y){if(Y==null)return Y===void 0?g94:y94;return pG&&pG in Object(Y)?n94(Y):i94(Y)}function n94(Y){let J=FI1.call(Y,pG),X=Y[pG],Z=!1;try{Y[pG]=void 0,Z=!0}catch{}let W=VI1.call(Y);if(Z)if(J)Y[pG]=X;else delete Y[pG];return W}function i94(Y){return VI1.call(Y)}});var RI1=q((EI1)=>{Object.defineProperty(EI1,"__esModule",{value:!0});EI1.merge=void 0;var AI1=wI1(),o94=20;function r94(...Y){let J=Y.shift(),X=new WeakMap;while(Y.length>0)J=LI1(J,Y.shift(),0,X);return J}EI1.merge=r94;function em(Y){if(xE(Y))return Y.slice();return Y}function LI1(Y,J,X=0,Z){let W;if(X>o94)return;if(X++,_E(Y)||_E(J)||MI1(J))W=em(J);else if(xE(Y)){if(W=Y.slice(),xE(J))for(let $=0,G=J.length;$<G;$++)W.push(em(J[$]));else if(SF(J)){let $=Object.keys(J);for(let G=0,Q=$.length;G<Q;G++){let U=$[G];W[U]=em(J[U])}}}else if(SF(Y))if(SF(J)){if(!a94(Y,J))return J;W=Object.assign({},Y);let $=Object.keys(J);for(let G=0,Q=$.length;G<Q;G++){let U=$[G],z=J[U];if(_E(z))if(typeof z>"u")delete W[U];else W[U]=z;else{let H=W[U],O=z;if(PI1(Y,U,Z)||PI1(J,U,Z))delete W[U];else{if(SF(H)&&SF(O)){let K=Z.get(H)||[],B=Z.get(O)||[];K.push({obj:Y,key:U}),B.push({obj:J,key:U}),Z.set(H,K),Z.set(O,B)}W[U]=LI1(W[U],z,X,Z)}}}}else W=J;return W}function PI1(Y,J,X){let Z=X.get(Y[J])||[];for(let W=0,$=Z.length;W<$;W++){let G=Z[W];if(G.key===J&&G.obj===Y)return!0}return!1}function xE(Y){return Array.isArray(Y)}function MI1(Y){return typeof Y==="function"}function SF(Y){return!_E(Y)&&!xE(Y)&&!MI1(Y)&&typeof Y==="object"}function _E(Y){return typeof Y==="string"||typeof Y==="number"||typeof Y==="boolean"||typeof Y>"u"||Y instanceof Date||Y instanceof RegExp||Y===null}function a94(Y,J){if(!(0,AI1.isPlainObject)(Y)||!(0,AI1.isPlainObject)(J))return!1;return!0}});var CI1=q((NI1)=>{Object.defineProperty(NI1,"__esModule",{value:!0});NI1.callWithTimeout=NI1.TimeoutError=void 0;class fE extends Error{constructor(Y){super(Y);Object.setPrototypeOf(this,fE.prototype)}}NI1.TimeoutError=fE;function s94(Y,J){let X,Z=new Promise(function($,G){X=setTimeout(function(){G(new fE("Operation timed out."))},J)});return Promise.race([Y,Z]).then((W)=>{return clearTimeout(X),W},(W)=>{throw clearTimeout(X),W})}NI1.callWithTimeout=s94});var xI1=q((kI1)=>{Object.defineProperty(kI1,"__esModule",{value:!0});kI1.isUrlIgnored=kI1.urlMatches=void 0;function jI1(Y,J){if(typeof J==="string")return Y===J;else return!!Y.match(J)}kI1.urlMatches=jI1;function e94(Y,J){if(!J)return!1;for(let X of J)if(jI1(Y,X))return!0;return!1}kI1.isUrlIgnored=e94});var bI1=q((vI1)=>{Object.defineProperty(vI1,"__esModule",{value:!0});vI1.Deferred=void 0;class fI1{_promise;_resolve;_reject;constructor(){this._promise=new Promise((Y,J)=>{this._resolve=Y,this._reject=J})}get promise(){return this._promise}resolve(Y){this._resolve(Y)}reject(Y){this._reject(Y)}}vI1.Deferred=fI1});var mI1=q((gI1)=>{Object.defineProperty(gI1,"__esModule",{value:!0});gI1.BindOnceFuture=void 0;var J74=bI1();class yI1{_isCalled=!1;_deferred=new J74.Deferred;_callback;_that;constructor(Y,J){this._callback=Y,this._that=J}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...Y){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...Y)).then((J)=>this._deferred.resolve(J),(J)=>this._deferred.reject(J))}catch(J){this._deferred.reject(J)}}return this._deferred.promise}}gI1.BindOnceFuture=yI1});var pI1=q((cI1)=>{Object.defineProperty(cI1,"__esModule",{value:!0});cI1.diagLogLevelFromString=void 0;var u3=t(),dI1={ALL:u3.DiagLogLevel.ALL,VERBOSE:u3.DiagLogLevel.VERBOSE,DEBUG:u3.DiagLogLevel.DEBUG,INFO:u3.DiagLogLevel.INFO,WARN:u3.DiagLogLevel.WARN,ERROR:u3.DiagLogLevel.ERROR,NONE:u3.DiagLogLevel.NONE};function X74(Y){if(Y==null)return;let J=dI1[Y.toUpperCase()];if(J==null)return u3.diag.warn(`Unknown log level "${Y}", expected one of ${Object.keys(dI1)}, using default`),u3.DiagLogLevel.INFO;return J}cI1.diagLogLevelFromString=X74});var rI1=q((iI1)=>{Object.defineProperty(iI1,"__esModule",{value:!0});iI1._export=void 0;var nI1=t(),Z74=TF();function W74(Y,J){return new Promise((X)=>{nI1.context.with((0,Z74.suppressTracing)(nI1.context.active()),()=>{Y.export(J,X)})})}iI1._export=W74});var k1=q((H0)=>{Object.defineProperty(H0,"__esModule",{value:!0});H0.internal=H0.diagLogLevelFromString=H0.BindOnceFuture=H0.urlMatches=H0.isUrlIgnored=H0.callWithTimeout=H0.TimeoutError=H0.merge=H0.TraceState=H0.unsuppressTracing=H0.suppressTracing=H0.isTracingSuppressed=H0.setRPCMetadata=H0.getRPCMetadata=H0.deleteRPCMetadata=H0.RPCType=H0.parseTraceParent=H0.W3CTraceContextPropagator=H0.TRACE_STATE_HEADER=H0.TRACE_PARENT_HEADER=H0.CompositePropagator=H0.otperformance=H0.getStringListFromEnv=H0.getNumberFromEnv=H0.getBooleanFromEnv=H0.getStringFromEnv=H0._globalThis=H0.SDK_INFO=H0.parseKeyPairsIntoRecord=H0.ExportResultCode=H0.unrefTimer=H0.timeInputToHrTime=H0.millisToHrTime=H0.isTimeInputHrTime=H0.isTimeInput=H0.hrTimeToTimeStamp=H0.hrTimeToNanoseconds=H0.hrTimeToMilliseconds=H0.hrTimeToMicroseconds=H0.hrTimeDuration=H0.hrTime=H0.getTimeOrigin=H0.addHrTimes=H0.loggingErrorHandler=H0.setGlobalErrorHandler=H0.globalErrorHandler=H0.sanitizeAttributes=H0.isAttributeValue=H0.AnchoredClock=H0.W3CBaggagePropagator=void 0;var $74=QU1();Object.defineProperty(H0,"W3CBaggagePropagator",{enumerable:!0,get:function(){return $74.W3CBaggagePropagator}});var G74=OU1();Object.defineProperty(H0,"AnchoredClock",{enumerable:!0,get:function(){return G74.AnchoredClock}});var aI1=DU1();Object.defineProperty(H0,"isAttributeValue",{enumerable:!0,get:function(){return aI1.isAttributeValue}});Object.defineProperty(H0,"sanitizeAttributes",{enumerable:!0,get:function(){return aI1.sanitizeAttributes}});var sI1=EU1();Object.defineProperty(H0,"globalErrorHandler",{enumerable:!0,get:function(){return sI1.globalErrorHandler}});Object.defineProperty(H0,"setGlobalErrorHandler",{enumerable:!0,get:function(){return sI1.setGlobalErrorHandler}});var Q74=lm();Object.defineProperty(H0,"loggingErrorHandler",{enumerable:!0,get:function(){return Q74.loggingErrorHandler}});var g7=yV1();Object.defineProperty(H0,"addHrTimes",{enumerable:!0,get:function(){return g7.addHrTimes}});Object.defineProperty(H0,"getTimeOrigin",{enumerable:!0,get:function(){return g7.getTimeOrigin}});Object.defineProperty(H0,"hrTime",{enumerable:!0,get:function(){return g7.hrTime}});Object.defineProperty(H0,"hrTimeDuration",{enumerable:!0,get:function(){return g7.hrTimeDuration}});Object.defineProperty(H0,"hrTimeToMicroseconds",{enumerable:!0,get:function(){return g7.hrTimeToMicroseconds}});Object.defineProperty(H0,"hrTimeToMilliseconds",{enumerable:!0,get:function(){return g7.hrTimeToMilliseconds}});Object.defineProperty(H0,"hrTimeToNanoseconds",{enumerable:!0,get:function(){return g7.hrTimeToNanoseconds}});Object.defineProperty(H0,"hrTimeToTimeStamp",{enumerable:!0,get:function(){return g7.hrTimeToTimeStamp}});Object.defineProperty(H0,"isTimeInput",{enumerable:!0,get:function(){return g7.isTimeInput}});Object.defineProperty(H0,"isTimeInputHrTime",{enumerable:!0,get:function(){return g7.isTimeInputHrTime}});Object.defineProperty(H0,"millisToHrTime",{enumerable:!0,get:function(){return g7.millisToHrTime}});Object.defineProperty(H0,"timeInputToHrTime",{enumerable:!0,get:function(){return g7.timeInputToHrTime}});var U74=mV1();Object.defineProperty(H0,"unrefTimer",{enumerable:!0,get:function(){return U74.unrefTimer}});var z74=cV1();Object.defineProperty(H0,"ExportResultCode",{enumerable:!0,get:function(){return z74.ExportResultCode}});var H74=mm();Object.defineProperty(H0,"parseKeyPairsIntoRecord",{enumerable:!0,get:function(){return H74.parseKeyPairsIntoRecord}});var nG=nm();Object.defineProperty(H0,"SDK_INFO",{enumerable:!0,get:function(){return nG.SDK_INFO}});Object.defineProperty(H0,"_globalThis",{enumerable:!0,get:function(){return nG._globalThis}});Object.defineProperty(H0,"getStringFromEnv",{enumerable:!0,get:function(){return nG.getStringFromEnv}});Object.defineProperty(H0,"getBooleanFromEnv",{enumerable:!0,get:function(){return nG.getBooleanFromEnv}});Object.defineProperty(H0,"getNumberFromEnv",{enumerable:!0,get:function(){return nG.getNumberFromEnv}});Object.defineProperty(H0,"getStringListFromEnv",{enumerable:!0,get:function(){return nG.getStringListFromEnv}});Object.defineProperty(H0,"otperformance",{enumerable:!0,get:function(){return nG.otperformance}});var O74=oV1();Object.defineProperty(H0,"CompositePropagator",{enumerable:!0,get:function(){return O74.CompositePropagator}});var vE=UI1();Object.defineProperty(H0,"TRACE_PARENT_HEADER",{enumerable:!0,get:function(){return vE.TRACE_PARENT_HEADER}});Object.defineProperty(H0,"TRACE_STATE_HEADER",{enumerable:!0,get:function(){return vE.TRACE_STATE_HEADER}});Object.defineProperty(H0,"W3CTraceContextPropagator",{enumerable:!0,get:function(){return vE.W3CTraceContextPropagator}});Object.defineProperty(H0,"parseTraceParent",{enumerable:!0,get:function(){return vE.parseTraceParent}});var hE=KI1();Object.defineProperty(H0,"RPCType",{enumerable:!0,get:function(){return hE.RPCType}});Object.defineProperty(H0,"deleteRPCMetadata",{enumerable:!0,get:function(){return hE.deleteRPCMetadata}});Object.defineProperty(H0,"getRPCMetadata",{enumerable:!0,get:function(){return hE.getRPCMetadata}});Object.defineProperty(H0,"setRPCMetadata",{enumerable:!0,get:function(){return hE.setRPCMetadata}});var Yd=TF();Object.defineProperty(H0,"isTracingSuppressed",{enumerable:!0,get:function(){return Yd.isTracingSuppressed}});Object.defineProperty(H0,"suppressTracing",{enumerable:!0,get:function(){return Yd.suppressTracing}});Object.defineProperty(H0,"unsuppressTracing",{enumerable:!0,get:function(){return Yd.unsuppressTracing}});var K74=sm();Object.defineProperty(H0,"TraceState",{enumerable:!0,get:function(){return K74.TraceState}});var B74=RI1();Object.defineProperty(H0,"merge",{enumerable:!0,get:function(){return B74.merge}});var tI1=CI1();Object.defineProperty(H0,"TimeoutError",{enumerable:!0,get:function(){return tI1.TimeoutError}});Object.defineProperty(H0,"callWithTimeout",{enumerable:!0,get:function(){return tI1.callWithTimeout}});var eI1=xI1();Object.defineProperty(H0,"isUrlIgnored",{enumerable:!0,get:function(){return eI1.isUrlIgnored}});Object.defineProperty(H0,"urlMatches",{enumerable:!0,get:function(){return eI1.urlMatches}});var q74=mI1();Object.defineProperty(H0,"BindOnceFuture",{enumerable:!0,get:function(){return q74.BindOnceFuture}});var F74=pI1();Object.defineProperty(H0,"diagLogLevelFromString",{enumerable:!0,get:function(){return F74.diagLogLevelFromString}});var V74=rI1();H0.internal={_export:V74._export}});var ZD1=q((JD1)=>{Object.defineProperty(JD1,"__esModule",{value:!0});JD1.disableInstrumentations=JD1.enableInstrumentations=void 0;function I74(Y,J,X,Z){for(let W=0,$=Y.length;W<$;W++){let G=Y[W];if(J)G.setTracerProvider(J);if(X)G.setMeterProvider(X);if(Z&&G.setLoggerProvider)G.setLoggerProvider(Z);if(!G.getConfig().enabled)G.enable()}}JD1.enableInstrumentations=I74;function D74(Y){Y.forEach((J)=>J.disable())}JD1.disableInstrumentations=D74});var UD1=q((GD1)=>{Object.defineProperty(GD1,"__esModule",{value:!0});GD1.registerInstrumentations=void 0;var WD1=t(),A74=F5(),$D1=ZD1();function P74(Y){let J=Y.tracerProvider||WD1.trace.getTracerProvider(),X=Y.meterProvider||WD1.metrics.getMeterProvider(),Z=Y.loggerProvider||A74.logs.getLoggerProvider(),W=Y.instrumentations?.flat()??[];return(0,$D1.enableInstrumentations)(W,J,X,Z),()=>{(0,$D1.disableInstrumentations)(W)}}GD1.registerInstrumentations=P74});var wD1=q((ID1)=>{Object.defineProperty(ID1,"__esModule",{value:!0});ID1.satisfies=void 0;var Wd=t(),BD1=/^(?:v)?(?<version>(?<major>0|[1-9]\d*)\.(?<minor>0|[1-9]\d*)\.(?<patch>0|[1-9]\d*))(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,L74=/^(?<op><|>|=|==|<=|>=|~|\^|~>)?\s*(?:v)?(?<version>(?<major>x|X|\*|0|[1-9]\d*)(?:\.(?<minor>x|X|\*|0|[1-9]\d*))?(?:\.(?<patch>x|X|\*|0|[1-9]\d*))?)(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,M74={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]};function E74(Y,J,X){if(!T74(Y))return Wd.diag.error(`Invalid version: ${Y}`),!1;if(!J)return!0;J=J.replace(/([<>=~^]+)\s+/g,"$1");let Z=C74(Y);if(!Z)return!1;let W=[],$=qD1(Z,J,W,X);if($&&!X?.includePrerelease)return N74(Z,W);return $}ID1.satisfies=E74;function T74(Y){return typeof Y==="string"&&BD1.test(Y)}function qD1(Y,J,X,Z){if(J.includes("||")){let W=J.trim().split("||");for(let $ of W)if(Jd(Y,$,X,Z))return!0;return!1}else if(J.includes(" - "))J=a74(J,Z);else if(J.includes(" ")){let W=J.trim().replace(/\s{2,}/g," ").split(" ");for(let $ of W)if(!Jd(Y,$,X,Z))return!1;return!0}return Jd(Y,J,X,Z)}function Jd(Y,J,X,Z){if(J=S74(J,Z),J.includes(" "))return qD1(Y,J,X,Z);else{let W=j74(J);return X.push(W),R74(Y,W)}}function R74(Y,J){if(J.invalid)return!1;if(!J.version||Zd(J.version))return!0;let X=HD1(Y.versionSegments||[],J.versionSegments||[]);if(X===0){let Z=Y.prereleaseSegments||[],W=J.prereleaseSegments||[];if(!Z.length&&!W.length)X=0;else if(!Z.length&&W.length)X=1;else if(Z.length&&!W.length)X=-1;else X=HD1(Z,W)}return M74[J.op]?.includes(X)}function N74(Y,J){if(Y.prerelease)return J.some((X)=>X.prerelease&&X.version===Y.version);return!0}function S74(Y,J){return Y=Y.trim(),Y=o74(Y,J),Y=i74(Y),Y=r74(Y,J),Y=Y.trim(),Y}function X9(Y){return!Y||Y.toLowerCase()==="x"||Y==="*"}function C74(Y){let J=Y.match(BD1);if(!J){Wd.diag.error(`Invalid version: ${Y}`);return}let X=J.groups.version,Z=J.groups.prerelease,W=J.groups.build,$=X.split("."),G=Z?.split(".");return{op:void 0,version:X,versionSegments:$,versionSegmentCount:$.length,prerelease:Z,prereleaseSegments:G,prereleaseSegmentCount:G?G.length:0,build:W}}function j74(Y){if(!Y)return{};let J=Y.match(L74);if(!J)return Wd.diag.error(`Invalid range: ${Y}`),{invalid:!0};let X=J.groups.op,Z=J.groups.version,W=J.groups.prerelease,$=J.groups.build,G=Z.split("."),Q=W?.split(".");if(X==="==")X="=";return{op:X||"=",version:Z,versionSegments:G,versionSegmentCount:G.length,prerelease:W,prereleaseSegments:Q,prereleaseSegmentCount:Q?Q.length:0,build:$}}function Zd(Y){return Y==="*"||Y==="x"||Y==="X"}function zD1(Y){let J=parseInt(Y,10);return isNaN(J)?Y:J}function k74(Y,J){if(typeof Y===typeof J)if(typeof Y==="number")return[Y,J];else if(typeof Y==="string")return[Y,J];else throw Error("Version segments can only be strings or numbers");else return[String(Y),String(J)]}function _74(Y,J){if(Zd(Y)||Zd(J))return 0;let[X,Z]=k74(zD1(Y),zD1(J));if(X>Z)return 1;else if(X<Z)return-1;return 0}function HD1(Y,J){for(let X=0;X<Math.max(Y.length,J.length);X++){let Z=_74(Y[X]||"0",J[X]||"0");if(Z!==0)return Z}return 0}var FD1="[a-zA-Z0-9-]",VD1="0|[1-9]\\d*",x74=`\\d*[a-zA-Z-]${FD1}*`,f74="((?:<|>)?=?)",OD1=`(?:${VD1}|${x74})`,v74=`(?:-(${OD1}(?:\\.${OD1})*))`,KD1=`${FD1}+`,h74=`(?:\\+(${KD1}(?:\\.${KD1})*))`,Xd=`${VD1}|x|X|\\*`,CF=`[v=\\s]*(${Xd})(?:\\.(${Xd})(?:\\.(${Xd})(?:${v74})?${h74}?)?)?`,b74=`^${f74}\\s*${CF}$`,y74=new RegExp(b74),g74=`^\\s*(${CF})\\s+-\\s+(${CF})\\s*$`,u74=new RegExp(g74),m74="(?:~>?)",d74=`^${m74}${CF}$`,c74=new RegExp(d74),l74="(?:\\^)",p74=`^${l74}${CF}$`,n74=new RegExp(p74);function i74(Y){let J=c74;return Y.replace(J,(X,Z,W,$,G)=>{let Q;if(X9(Z))Q="";else if(X9(W))Q=`>=${Z}.0.0 <${+Z+1}.0.0-0`;else if(X9($))Q=`>=${Z}.${W}.0 <${Z}.${+W+1}.0-0`;else if(G)Q=`>=${Z}.${W}.${$}-${G} <${Z}.${+W+1}.0-0`;else Q=`>=${Z}.${W}.${$} <${Z}.${+W+1}.0-0`;return Q})}function o74(Y,J){let X=n74,Z=J?.includePrerelease?"-0":"";return Y.replace(X,(W,$,G,Q,U)=>{let z;if(X9($))z="";else if(X9(G))z=`>=${$}.0.0${Z} <${+$+1}.0.0-0`;else if(X9(Q))if($==="0")z=`>=${$}.${G}.0${Z} <${$}.${+G+1}.0-0`;else z=`>=${$}.${G}.0${Z} <${+$+1}.0.0-0`;else if(U)if($==="0")if(G==="0")z=`>=${$}.${G}.${Q}-${U} <${$}.${G}.${+Q+1}-0`;else z=`>=${$}.${G}.${Q}-${U} <${$}.${+G+1}.0-0`;else z=`>=${$}.${G}.${Q}-${U} <${+$+1}.0.0-0`;else if($==="0")if(G==="0")z=`>=${$}.${G}.${Q}${Z} <${$}.${G}.${+Q+1}-0`;else z=`>=${$}.${G}.${Q}${Z} <${$}.${+G+1}.0-0`;else z=`>=${$}.${G}.${Q} <${+$+1}.0.0-0`;return z})}function r74(Y,J){let X=y74;return Y.replace(X,(Z,W,$,G,Q,U)=>{let z=X9($),H=z||X9(G),O=H||X9(Q),K=O;if(W==="="&&K)W="";if(U=J?.includePrerelease?"-0":"",z)if(W===">"||W==="<")Z="<0.0.0-0";else Z="*";else if(W&&K){if(H)G=0;if(Q=0,W===">")if(W=">=",H)$=+$+1,G=0,Q=0;else G=+G+1,Q=0;else if(W==="<=")if(W="<",H)$=+$+1;else G=+G+1;if(W==="<")U="-0";Z=`${W+$}.${G}.${Q}${U}`}else if(H)Z=`>=${$}.0.0${U} <${+$+1}.0.0-0`;else if(O)Z=`>=${$}.${G}.0${U} <${$}.${+G+1}.0-0`;return Z})}function a74(Y,J){let X=u74;return Y.replace(X,(Z,W,$,G,Q,U,z,H,O,K,B,F)=>{if(X9($))W="";else if(X9(G))W=`>=${$}.0.0${J?.includePrerelease?"-0":""}`;else if(X9(Q))W=`>=${$}.${G}.0${J?.includePrerelease?"-0":""}`;else if(U)W=`>=${W}`;else W=`>=${W}${J?.includePrerelease?"-0":""}`;if(X9(O))H="";else if(X9(K))H=`<${+O+1}.0.0-0`;else if(X9(B))H=`<${O}.${+K+1}.0-0`;else if(F)H=`<=${O}.${K}.${B}-${F}`;else if(J?.includePrerelease)H=`<${O}.${K}.${+B+1}-0`;else H=`<=${H}`;return`${W} ${H}`.trim()})}});var Ud=q((AD1)=>{Object.defineProperty(AD1,"__esModule",{value:!0});AD1.massUnwrap=AD1.unwrap=AD1.massWrap=AD1.wrap=void 0;var Z9=console.error.bind(console);function jF(Y,J,X){let Z=!!Y[J]&&Object.prototype.propertyIsEnumerable.call(Y,J);Object.defineProperty(Y,J,{configurable:!0,enumerable:Z,writable:!0,value:X})}var s74=(Y,J,X)=>{if(!Y||!Y[J]){Z9("no original function "+String(J)+" to wrap");return}if(!X){Z9("no wrapper function"),Z9(Error().stack);return}let Z=Y[J];if(typeof Z!=="function"||typeof X!=="function"){Z9("original object and wrapper must be functions");return}let W=X(Z,J);return jF(W,"__original",Z),jF(W,"__unwrap",()=>{if(Y[J]===W)jF(Y,J,Z)}),jF(W,"__wrapped",!0),jF(Y,J,W),W};AD1.wrap=s74;var t74=(Y,J,X)=>{if(!Y){Z9("must provide one or more modules to patch"),Z9(Error().stack);return}else if(!Array.isArray(Y))Y=[Y];if(!(J&&Array.isArray(J))){Z9("must provide one or more functions to wrap on modules");return}Y.forEach((Z)=>{J.forEach((W)=>{AD1.wrap(Z,W,X)})})};AD1.massWrap=t74;var e74=(Y,J)=>{if(!Y||!Y[J]){Z9("no function to unwrap."),Z9(Error().stack);return}let X=Y[J];if(!X.__unwrap)Z9("no original to unwrap to -- has "+String(J)+" already been unwrapped?");else{X.__unwrap();return}};AD1.unwrap=e74;var YY4=(Y,J)=>{if(!Y){Z9("must provide one or more modules to patch"),Z9(Error().stack);return}else if(!Array.isArray(Y))Y=[Y];if(!(J&&Array.isArray(J))){Z9("must provide one or more functions to unwrap on modules");return}Y.forEach((X)=>{J.forEach((Z)=>{AD1.unwrap(X,Z)})})};AD1.massUnwrap=YY4;function kF(Y){if(Y&&Y.logger)if(typeof Y.logger!=="function")Z9("new logger isn't a function, not replacing");else Z9=Y.logger}AD1.default=kF;kF.wrap=AD1.wrap;kF.massWrap=AD1.massWrap;kF.unwrap=AD1.unwrap;kF.massUnwrap=AD1.massUnwrap});var TD1=q((MD1)=>{Object.defineProperty(MD1,"__esModule",{value:!0});MD1.InstrumentationAbstract=void 0;var zd=t(),XY4=F5(),bE=Ud();class LD1{_config={};_tracer;_meter;_logger;_diag;instrumentationName;instrumentationVersion;constructor(Y,J,X){this.instrumentationName=Y,this.instrumentationVersion=J,this.setConfig(X),this._diag=zd.diag.createComponentLogger({namespace:Y}),this._tracer=zd.trace.getTracer(Y,J),this._meter=zd.metrics.getMeter(Y,J),this._logger=XY4.logs.getLogger(Y,J),this._updateMetricInstruments()}_wrap=bE.wrap;_unwrap=bE.unwrap;_massWrap=bE.massWrap;_massUnwrap=bE.massUnwrap;get meter(){return this._meter}setMeterProvider(Y){this._meter=Y.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(Y){this._logger=Y.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){let Y=this.init()??[];if(!Array.isArray(Y))return[Y];return Y}_updateMetricInstruments(){return}getConfig(){return this._config}setConfig(Y){this._config={enabled:!0,...Y}}setTracerProvider(Y){this._tracer=Y.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(Y,J,X,Z){if(!Y)return;try{Y(X,Z)}catch(W){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:J},W)}}}MD1.InstrumentationAbstract=LD1});var gE=q((Kt6,RD1)=>{var VH=1000,IH=VH*60,DH=IH*60,iG=DH*24,ZY4=iG*7,WY4=iG*365.25;RD1.exports=function(Y,J){J=J||{};var X=typeof Y;if(X==="string"&&Y.length>0)return $Y4(Y);else if(X==="number"&&isFinite(Y))return J.long?QY4(Y):GY4(Y);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Y))};function $Y4(Y){if(Y=String(Y),Y.length>100)return;var J=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Y);if(!J)return;var X=parseFloat(J[1]),Z=(J[2]||"ms").toLowerCase();switch(Z){case"years":case"year":case"yrs":case"yr":case"y":return X*WY4;case"weeks":case"week":case"w":return X*ZY4;case"days":case"day":case"d":return X*iG;case"hours":case"hour":case"hrs":case"hr":case"h":return X*DH;case"minutes":case"minute":case"mins":case"min":case"m":return X*IH;case"seconds":case"second":case"secs":case"sec":case"s":return X*VH;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return X;default:return}}function GY4(Y){var J=Math.abs(Y);if(J>=iG)return Math.round(Y/iG)+"d";if(J>=DH)return Math.round(Y/DH)+"h";if(J>=IH)return Math.round(Y/IH)+"m";if(J>=VH)return Math.round(Y/VH)+"s";return Y+"ms"}function QY4(Y){var J=Math.abs(Y);if(J>=iG)return yE(Y,J,iG,"day");if(J>=DH)return yE(Y,J,DH,"hour");if(J>=IH)return yE(Y,J,IH,"minute");if(J>=VH)return yE(Y,J,VH,"second");return Y+" ms"}function yE(Y,J,X,Z){var W=J>=X*1.5;return Math.round(Y/X)+" "+Z+(W?"s":"")}});var Hd=q((Bt6,ND1)=>{function UY4(Y){X.debug=X,X.default=X,X.coerce=U,X.disable=G,X.enable=W,X.enabled=Q,X.humanize=gE(),X.destroy=z,Object.keys(Y).forEach((H)=>{X[H]=Y[H]}),X.names=[],X.skips=[],X.formatters={};function J(H){let O=0;for(let K=0;K<H.length;K++)O=(O<<5)-O+H.charCodeAt(K),O|=0;return X.colors[Math.abs(O)%X.colors.length]}X.selectColor=J;function X(H){let O,K=null,B,F;function V(...I){if(!V.enabled)return;let D=V,L=Number(new Date),A=L-(O||L);if(D.diff=A,D.prev=O,D.curr=L,O=L,I[0]=X.coerce(I[0]),typeof I[0]!=="string")I.unshift("%O");let P=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(N,v)=>{if(N==="%%")return"%";P++;let j=X.formatters[v];if(typeof j==="function"){let M=I[P];N=j.call(D,M),I.splice(P,1),P--}return N}),X.formatArgs.call(D,I),(D.log||X.log).apply(D,I)}if(V.namespace=H,V.useColors=X.useColors(),V.color=X.selectColor(H),V.extend=Z,V.destroy=X.destroy,Object.defineProperty(V,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(K!==null)return K;if(B!==X.namespaces)B=X.namespaces,F=X.enabled(H);return F},set:(I)=>{K=I}}),typeof X.init==="function")X.init(V);return V}function Z(H,O){let K=X(this.namespace+(typeof O>"u"?":":O)+H);return K.log=this.log,K}function W(H){X.save(H),X.namespaces=H,X.names=[],X.skips=[];let O=(typeof H==="string"?H:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let K of O)if(K[0]==="-")X.skips.push(K.slice(1));else X.names.push(K)}function $(H,O){let K=0,B=0,F=-1,V=0;while(K<H.length)if(B<O.length&&(O[B]===H[K]||O[B]==="*"))if(O[B]==="*")F=B,V=K,B++;else K++,B++;else if(F!==-1)B=F+1,V++,K=V;else return!1;while(B<O.length&&O[B]==="*")B++;return B===O.length}function G(){let H=[...X.names,...X.skips.map((O)=>"-"+O)].join(",");return X.enable(""),H}function Q(H){for(let O of X.skips)if($(H,O))return!1;for(let O of X.names)if($(H,O))return!0;return!1}function U(H){if(H instanceof Error)return H.stack||H.message;return H}function z(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return X.enable(X.load()),X}ND1.exports=UY4});var CD1=q((SD1,uE)=>{SD1.formatArgs=HY4;SD1.save=OY4;SD1.load=KY4;SD1.useColors=zY4;SD1.storage=BY4();SD1.destroy=(()=>{let Y=!1;return()=>{if(!Y)Y=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();SD1.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function zY4(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let Y;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(Y=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(Y[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function HY4(Y){if(Y[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+Y[0]+(this.useColors?"%c ":" ")+"+"+uE.exports.humanize(this.diff),!this.useColors)return;let J="color: "+this.color;Y.splice(1,0,J,"color: inherit");let X=0,Z=0;Y[0].replace(/%[a-zA-Z%]/g,(W)=>{if(W==="%%")return;if(X++,W==="%c")Z=X}),Y.splice(Z,0,J)}SD1.log=console.debug||console.log||(()=>{});function OY4(Y){try{if(Y)SD1.storage.setItem("debug",Y);else SD1.storage.removeItem("debug")}catch(J){}}function KY4(){let Y;try{Y=SD1.storage.getItem("debug")||SD1.storage.getItem("DEBUG")}catch(J){}if(!Y&&typeof process<"u"&&"env"in process)Y=process.env.DEBUG;return Y}function BY4(){try{return localStorage}catch(Y){}}uE.exports=Hd()(SD1);var{formatters:qY4}=uE.exports;qY4.j=function(Y){try{return JSON.stringify(Y)}catch(J){return"[UnexpectedJSONParseError]: "+J.message}}});var xD1=q((kD1,dE)=>{var LY4=C("tty"),mE=C("util");kD1.init=CY4;kD1.log=RY4;kD1.formatArgs=EY4;kD1.save=NY4;kD1.load=SY4;kD1.useColors=MY4;kD1.destroy=mE.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");kD1.colors=[6,2,3,4,5,1];try{let Y=(()=>{throw new Error("Cannot require module "+"supports-color");})();if(Y&&(Y.stderr||Y).level>=2)kD1.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch(Y){}kD1.inspectOpts=Object.keys(process.env).filter((Y)=>{return/^debug_/i.test(Y)}).reduce((Y,J)=>{let X=J.substring(6).toLowerCase().replace(/_([a-z])/g,(W,$)=>{return $.toUpperCase()}),Z=process.env[J];if(/^(yes|on|true|enabled)$/i.test(Z))Z=!0;else if(/^(no|off|false|disabled)$/i.test(Z))Z=!1;else if(Z==="null")Z=null;else Z=Number(Z);return Y[X]=Z,Y},{});function MY4(){return"colors"in kD1.inspectOpts?Boolean(kD1.inspectOpts.colors):LY4.isatty(process.stderr.fd)}function EY4(Y){let{namespace:J,useColors:X}=this;if(X){let Z=this.color,W="\x1B[3"+(Z<8?Z:"8;5;"+Z),$=`  ${W};1m${J} \x1B[0m`;Y[0]=$+Y[0].split(`
`).join(`
`+$),Y.push(W+"m+"+dE.exports.humanize(this.diff)+"\x1B[0m")}else Y[0]=TY4()+J+" "+Y[0]}function TY4(){if(kD1.inspectOpts.hideDate)return"";return new Date().toISOString()+" "}function RY4(...Y){return process.stderr.write(mE.formatWithOptions(kD1.inspectOpts,...Y)+`
`)}function NY4(Y){if(Y)process.env.DEBUG=Y;else delete process.env.DEBUG}function SY4(){return process.env.DEBUG}function CY4(Y){Y.inspectOpts={};let J=Object.keys(kD1.inspectOpts);for(let X=0;X<J.length;X++)Y.inspectOpts[J[X]]=kD1.inspectOpts[J[X]]}dE.exports=Hd()(kD1);var{formatters:jD1}=dE.exports;jD1.o=function(Y){return this.inspectOpts.colors=this.useColors,mE.inspect(Y,this.inspectOpts).split(`
`).map((J)=>J.trim()).join(" ")};jD1.O=function(Y){return this.inspectOpts.colors=this.useColors,mE.inspect(Y,this.inspectOpts)}});var Kd=q((Vt6,Od)=>{if(typeof process>"u"||process.type==="renderer"||!1||process.__nwjs)Od.exports=CD1();else Od.exports=xD1()});var xF=q((It6,fD1)=>{var Bd=C("path").sep;fD1.exports=function(Y){var J=Y.split(Bd),X=J.lastIndexOf("node_modules");if(X===-1)return;if(!J[X+1])return;var Z=J[X+1][0]==="@",W=Z?J[X+1]+"/"+J[X+2]:J[X+1],$=Z?3:2,G="",Q=X+$-1;for(var U=0;U<=Q;U++)if(U===Q)G+=J[U];else G+=J[U]+Bd;var z="",H=J.length-1;for(var O=X+$;O<=H;O++)if(O===H)z+=J[O];else z+=J[O]+Bd;return{name:W,basedir:G,path:z}}});var Vd=q((Dt6,Fd)=>{var wH=C("path"),vY=C("module"),y6=Kd()("require-in-the-middle"),bY4=xF();Fd.exports=fF;Fd.exports.Hook=fF;var qd,cE;if(vY.isBuiltin)cE=vY.isBuiltin;else if(vY.builtinModules)cE=(Y)=>{if(Y.startsWith("node:"))return!0;if(qd===void 0)qd=new Set(vY.builtinModules);return qd.has(Y)};else throw Error("'require-in-the-middle' requires Node.js >=v9.3.0 or >=v8.10.0");var yY4=/([/\\]index)?(\.js)?$/;class vD1{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(Y,J){if(this._localCache.has(Y))return!0;else if(!J){let X=C.cache[Y];return!!(X&&(this._kRitmExports in X))}else return!1}get(Y,J){let X=this._localCache.get(Y);if(X!==void 0)return X;else if(!J){let Z=C.cache[Y];return Z&&Z[this._kRitmExports]}}set(Y,J,X){if(X)this._localCache.set(Y,J);else if(Y in C.cache)C.cache[Y][this._kRitmExports]=J;else y6('non-core module is unexpectedly not in require.cache: "%s"',Y),this._localCache.set(Y,J)}}function fF(Y,J,X){if(this instanceof fF===!1)return new fF(Y,J,X);if(typeof Y==="function")X=Y,Y=null,J=null;else if(typeof J==="function")X=J,J=null;if(typeof vY._resolveFilename!=="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof vY._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at https://github.com/nodejs/require-in-the-middle/issues",process.version);return}this._cache=new vD1,this._unhooked=!1,this._origRequire=vY.prototype.require;let Z=this,W=new Set,$=J?J.internals===!0:!1,G=Array.isArray(Y);if(y6("registering require hook"),this._require=vY.prototype.require=function(U){if(Z._unhooked===!0)return y6("ignoring require call - module is soft-unhooked"),Z._origRequire.apply(this,arguments);return Q.call(this,arguments,!1)},typeof process.getBuiltinModule==="function")this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(U){if(Z._unhooked===!0)return y6("ignoring process.getBuiltinModule call - module is soft-unhooked"),Z._origGetBuiltinModule.apply(this,arguments);return Q.call(this,arguments,!0)};function Q(U,z){let H=U[0],O=cE(H),K;if(O){if(K=H,H.startsWith("node:")){let L=H.slice(5);if(cE(L))K=L}}else if(z)return y6("call to process.getBuiltinModule with unknown built-in id"),Z._origGetBuiltinModule.apply(this,U);else try{K=vY._resolveFilename(H,this)}catch(L){return y6('Module._resolveFilename("%s") threw %j, calling original Module.require',H,L.message),Z._origRequire.apply(this,U)}let B,F;if(y6("processing %s module require('%s'): %s",O===!0?"core":"non-core",H,K),Z._cache.has(K,O)===!0)return y6("returning already patched cached module: %s",K),Z._cache.get(K,O);let V=W.has(K);if(V===!1)W.add(K);let I=z?Z._origGetBuiltinModule.apply(this,U):Z._origRequire.apply(this,U);if(V===!0)return y6("module is in the process of being patched already - ignoring: %s",K),I;if(W.delete(K),O===!0){if(G===!0&&Y.includes(K)===!1)return y6("ignoring core module not on whitelist: %s",K),I;B=K}else if(G===!0&&Y.includes(K)){let L=wH.parse(K);B=L.name,F=L.dir}else{let L=bY4(K);if(L===void 0)return y6("could not parse filename: %s",K),I;B=L.name,F=L.basedir;let A=gY4(L);y6("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",B,H,A,F);let P=!1;if(G){if(!H.startsWith(".")&&Y.includes(H))B=H,P=!0;if(!Y.includes(B)&&!Y.includes(A))return I;if(Y.includes(A)&&A!==B)B=A,P=!0}if(!P){let R;try{R=C.resolve(B,{paths:[F]})}catch(N){return y6("could not resolve module: %s",B),Z._cache.set(K,I,O),I}if(R!==K)if($===!0)B=B+wH.sep+wH.relative(F,K),y6("preparing to process require of internal file: %s",B);else return y6("ignoring require of non-main module file: %s",R),Z._cache.set(K,I,O),I}}Z._cache.set(K,I,O),y6("calling require hook: %s",B);let D=X(I,B,F);return Z._cache.set(K,D,O),y6("returning module: %s",B),D}}fF.prototype.unhook=function(){if(this._unhooked=!0,this._require===vY.prototype.require)vY.prototype.require=this._origRequire,y6("require unhook successful");else y6("require unhook unsuccessful");if(process.getBuiltinModule!==void 0)if(this._getBuiltinModule===process.getBuiltinModule)process.getBuiltinModule=this._origGetBuiltinModule,y6("process.getBuiltinModule unhook successful");else y6("process.getBuiltinModule unhook unsuccessful")};function gY4(Y){let J=wH.sep!=="/"?Y.path.split(wH.sep).join("/"):Y.path;return wH.posix.join(Y.name,J).replace(yY4,"")}});var gD1=q((bD1)=>{Object.defineProperty(bD1,"__esModule",{value:!0});bD1.ModuleNameTrie=bD1.ModuleNameSeparator=void 0;bD1.ModuleNameSeparator="/";class Id{hooks=[];children=new Map}class hD1{_trie=new Id;_counter=0;insert(Y){let J=this._trie;for(let X of Y.moduleName.split(bD1.ModuleNameSeparator)){let Z=J.children.get(X);if(!Z)Z=new Id,J.children.set(X,Z);J=Z}J.hooks.push({hook:Y,insertedId:this._counter++})}search(Y,{maintainInsertionOrder:J,fullOnly:X}={}){let Z=this._trie,W=[],$=!0;for(let G of Y.split(bD1.ModuleNameSeparator)){let Q=Z.children.get(G);if(!Q){$=!1;break}if(!X)W.push(...Q.hooks);Z=Q}if(X&&$)W.push(...Z.hooks);if(W.length===0)return[];if(W.length===1)return[W[0].hook];if(J)W.sort((G,Q)=>G.insertedId-Q.insertedId);return W.map(({hook:G})=>G)}}bD1.ModuleNameTrie=hD1});var cD1=q((mD1)=>{Object.defineProperty(mD1,"__esModule",{value:!0});mD1.RequireInTheMiddleSingleton=void 0;var uY4=Vd(),uD1=C("path"),wd=gD1(),mY4=["afterEach","after","beforeEach","before","describe","it"].every((Y)=>{return typeof global[Y]==="function"});class lE{_moduleNameTrie=new wd.ModuleNameTrie;static _instance;constructor(){this._initialize()}_initialize(){new uY4.Hook(null,{internals:!0},(Y,J,X)=>{let Z=dY4(J),W=this._moduleNameTrie.search(Z,{maintainInsertionOrder:!0,fullOnly:X===void 0});for(let{onRequire:$}of W)Y=$(Y,J,X);return Y})}register(Y,J){let X={moduleName:Y,onRequire:J};return this._moduleNameTrie.insert(X),X}static getInstance(){if(mY4)return new lE;return this._instance=this._instance??new lE}}mD1.RequireInTheMiddleSingleton=lE;function dY4(Y){return uD1.sep!==wd.ModuleNameSeparator?Y.split(uD1.sep).join(wd.ModuleNameSeparator):Y}});var oD1=q((pY4)=>{var lD1=[],Ad=new WeakMap,pD1=new WeakMap,nD1=new Map,iD1=[],cY4={set(Y,J,X){let Z=Ad.get(Y),W=Z&&Z[J];if(typeof W==="function")return W(X);return!0},get(Y,J){if(J===Symbol.toStringTag)return"Module";let X=pD1.get(Y)[J];if(typeof X==="function")return X()},defineProperty(Y,J,X){if(!("value"in X))throw Error("Getters/setters are not supported for exports property descriptors.");let Z=Ad.get(Y),W=Z&&Z[J];if(typeof W==="function")return W(X.value);return!0}};function lY4(Y,J,X,Z,W){nD1.set(Y,W),Ad.set(J,X),pD1.set(J,Z);let $=new Proxy(J,cY4);lD1.forEach((G)=>G(Y,$,W)),iD1.push([Y,$,W])}pY4.register=lY4;pY4.importHooks=lD1;pY4.specifiers=nD1;pY4.toHook=iD1});var tD1=q((Mt6,PH)=>{var rD1=C("path"),aY4=xF(),{fileURLToPath:sY4}=C("url"),{MessageChannel:tY4}=C("worker_threads"),{isBuiltin:Pd}=C("module");if(!Pd)Pd=()=>!0;var{importHooks:Ld,specifiers:eY4,toHook:YJ4}=oD1();function aD1(Y){Ld.push(Y),YJ4.forEach(([J,X,Z])=>Y(J,X,Z))}function sD1(Y){let J=Ld.indexOf(Y);if(J>-1)Ld.splice(J,1)}function AH(Y,J,X,Z){let W=Y(J,X,Z);if(W&&W!==J){if("default"in J)J.default=W}}var Md;function JJ4(){let{port1:Y,port2:J}=new tY4,X=0,Z;Md=(Q)=>{X++,Y.postMessage(Q)},Y.on("message",()=>{if(X--,Z&&X<=0)Z()}).unref();function W(){let Q=setInterval(()=>{},1000),U=new Promise((z)=>{Z=z}).then(()=>{clearInterval(Q)});if(X===0)Z();return U}let $=J;return{registerOptions:{data:{addHookMessagePort:$,include:[]},transferList:[$]},addHookMessagePort:$,waitForAllMessagesAcknowledged:W}}function vF(Y,J,X){if(this instanceof vF===!1)return new vF(Y,J,X);if(typeof Y==="function")X=Y,Y=null,J=null;else if(typeof J==="function")X=J,J=null;let Z=J?J.internals===!0:!1;if(Md&&Array.isArray(Y))Md(Y);this._iitmHook=(W,$,G)=>{let Q=W,U=Q.startsWith("node:"),z,H;if(U){let O=W.slice(5);if(Pd(O))W=O}else if(Q.startsWith("file://")){let O=Error.stackTraceLimit;Error.stackTraceLimit=0;try{z=sY4(W),W=z}catch(K){}if(Error.stackTraceLimit=O,z){let K=aY4(z);if(K)W=K.name,H=K.basedir}}if(Y){for(let O of Y)if(z&&O===z)AH(X,$,z,void 0);else if(O===W){if(!H)AH(X,$,W,H);else if(H.endsWith(eY4.get(Q)))AH(X,$,W,H);else if(Z){let K=W+rD1.sep+rD1.relative(H,z);AH(X,$,K,H)}}else if(O===G)AH(X,$,G,H)}else AH(X,$,W,H)},aD1(this._iitmHook)}vF.prototype.unhook=function(){sD1(this._iitmHook)};PH.exports=vF;PH.exports.Hook=vF;PH.exports.addHook=aD1;PH.exports.removeHook=sD1;PH.exports.createAddHookMessageChannel=JJ4});var Ed=q((eD1)=>{Object.defineProperty(eD1,"__esModule",{value:!0});eD1.isWrapped=eD1.safeExecuteInTheMiddleAsync=eD1.safeExecuteInTheMiddle=void 0;function XJ4(Y,J,X){let Z,W;try{W=Y()}catch($){Z=$}finally{if(J(Z,W),Z&&!X)throw Z;return W}}eD1.safeExecuteInTheMiddle=XJ4;async function ZJ4(Y,J,X){let Z,W;try{W=await Y()}catch($){Z=$}finally{if(await J(Z,W),Z&&!X)throw Z;return W}}eD1.safeExecuteInTheMiddleAsync=ZJ4;function WJ4(Y){return typeof Y==="function"&&typeof Y.__original==="function"&&typeof Y.__unwrap==="function"&&Y.__wrapped===!0}eD1.isWrapped=WJ4});var Gw1=q((Ww1)=>{Object.defineProperty(Ww1,"__esModule",{value:!0});Ww1.InstrumentationBase=void 0;var hF=C("path"),Jw1=C("util"),QJ4=wD1(),Td=Ud(),UJ4=TD1(),zJ4=cD1(),HJ4=tD1(),bF=t(),OJ4=Vd(),KJ4=C("fs"),BJ4=Ed();class Zw1 extends UJ4.InstrumentationAbstract{_modules;_hooks=[];_requireInTheMiddleSingleton=zJ4.RequireInTheMiddleSingleton.getInstance();_enabled=!1;constructor(Y,J,X){super(Y,J,X);let Z=this.init();if(Z&&!Array.isArray(Z))Z=[Z];if(this._modules=Z||[],this._config.enabled)this.enable()}_wrap=(Y,J,X)=>{if((0,BJ4.isWrapped)(Y[J]))this._unwrap(Y,J);if(!Jw1.types.isProxy(Y))return(0,Td.wrap)(Y,J,X);else{let Z=(0,Td.wrap)(Object.assign({},Y),J,X);return Object.defineProperty(Y,J,{value:Z}),Z}};_unwrap=(Y,J)=>{if(!Jw1.types.isProxy(Y))return(0,Td.unwrap)(Y,J);else return Object.defineProperty(Y,J,{value:Y[J]})};_massWrap=(Y,J,X)=>{if(!Y){bF.diag.error("must provide one or more modules to patch");return}else if(!Array.isArray(Y))Y=[Y];if(!(J&&Array.isArray(J))){bF.diag.error("must provide one or more functions to wrap on modules");return}Y.forEach((Z)=>{J.forEach((W)=>{this._wrap(Z,W,X)})})};_massUnwrap=(Y,J)=>{if(!Y){bF.diag.error("must provide one or more modules to patch");return}else if(!Array.isArray(Y))Y=[Y];if(!(J&&Array.isArray(J))){bF.diag.error("must provide one or more functions to wrap on modules");return}Y.forEach((X)=>{J.forEach((Z)=>{this._unwrap(X,Z)})})};_warnOnPreloadedModules(){this._modules.forEach((Y)=>{let{name:J}=Y;try{let X=C.resolve(J);if(C.cache[X])this._diag.warn(`Module ${J} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${J}`)}catch{}})}_extractPackageVersion(Y){try{let J=(0,KJ4.readFileSync)(hF.join(Y,"package.json"),{encoding:"utf8"}),X=JSON.parse(J).version;return typeof X==="string"?X:void 0}catch{bF.diag.warn("Failed extracting version",Y)}return}_onRequire(Y,J,X,Z){if(!Z){if(typeof Y.patch==="function"){if(Y.moduleExports=J,this._enabled)return this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:Y.name}),Y.patch(J)}return J}let W=this._extractPackageVersion(Z);if(Y.moduleVersion=W,Y.name===X){if(Xw1(Y.supportedVersions,W,Y.includePrerelease)){if(typeof Y.patch==="function"){if(Y.moduleExports=J,this._enabled)return this._diag.debug("Applying instrumentation patch for module on require hook",{module:Y.name,version:Y.moduleVersion,baseDir:Z}),Y.patch(J,Y.moduleVersion)}}return J}let $=Y.files??[],G=hF.normalize(X);return $.filter((U)=>U.name===G&&Xw1(U.supportedVersions,W,Y.includePrerelease)).reduce((U,z)=>{if(z.moduleExports=U,this._enabled)return this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:Y.name,version:Y.moduleVersion,fileName:z.name,baseDir:Z}),z.patch(U,Y.moduleVersion);return U},J)}enable(){if(this._enabled)return;if(this._enabled=!0,this._hooks.length>0){for(let Y of this._modules){if(typeof Y.patch==="function"&&Y.moduleExports)this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:Y.name,version:Y.moduleVersion}),Y.patch(Y.moduleExports,Y.moduleVersion);for(let J of Y.files)if(J.moduleExports)this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:Y.name,version:Y.moduleVersion,fileName:J.name}),J.patch(J.moduleExports,Y.moduleVersion)}return}this._warnOnPreloadedModules();for(let Y of this._modules){let J=($,G,Q)=>{if(!Q&&hF.isAbsolute(G)){let U=hF.parse(G);G=U.name,Q=U.dir}return this._onRequire(Y,$,G,Q)},X=($,G,Q)=>{return this._onRequire(Y,$,G,Q)},Z=hF.isAbsolute(Y.name)?new OJ4.Hook([Y.name],{internals:!0},X):this._requireInTheMiddleSingleton.register(Y.name,X);this._hooks.push(Z);let W=new HJ4.Hook([Y.name],{internals:!0},J);this._hooks.push(W)}}disable(){if(!this._enabled)return;this._enabled=!1;for(let Y of this._modules){if(typeof Y.unpatch==="function"&&Y.moduleExports)this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:Y.name,version:Y.moduleVersion}),Y.unpatch(Y.moduleExports,Y.moduleVersion);for(let J of Y.files)if(J.moduleExports)this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:Y.name,version:Y.moduleVersion,fileName:J.name}),J.unpatch(J.moduleExports,Y.moduleVersion)}}isEnabled(){return this._enabled}}Ww1.InstrumentationBase=Zw1;function Xw1(Y,J,X){if(typeof J>"u")return Y.includes("*");return Y.some((Z)=>{return(0,QJ4.satisfies)(J,Z,{includePrerelease:X})})}});var Qw1=q((Rd)=>{Object.defineProperty(Rd,"__esModule",{value:!0});Rd.normalize=void 0;var qJ4=C("path");Object.defineProperty(Rd,"normalize",{enumerable:!0,get:function(){return qJ4.normalize}})});var Uw1=q((pE)=>{Object.defineProperty(pE,"__esModule",{value:!0});pE.normalize=pE.InstrumentationBase=void 0;var VJ4=Gw1();Object.defineProperty(pE,"InstrumentationBase",{enumerable:!0,get:function(){return VJ4.InstrumentationBase}});var IJ4=Qw1();Object.defineProperty(pE,"normalize",{enumerable:!0,get:function(){return IJ4.normalize}})});var Nd=q((nE)=>{Object.defineProperty(nE,"__esModule",{value:!0});nE.normalize=nE.InstrumentationBase=void 0;var zw1=Uw1();Object.defineProperty(nE,"InstrumentationBase",{enumerable:!0,get:function(){return zw1.InstrumentationBase}});Object.defineProperty(nE,"normalize",{enumerable:!0,get:function(){return zw1.normalize}})});var Bw1=q((Ow1)=>{Object.defineProperty(Ow1,"__esModule",{value:!0});Ow1.InstrumentationNodeModuleDefinition=void 0;class Hw1{files;name;supportedVersions;patch;unpatch;constructor(Y,J,X,Z,W){this.files=W||[],this.name=Y,this.supportedVersions=J,this.patch=X,this.unpatch=Z}}Ow1.InstrumentationNodeModuleDefinition=Hw1});var Iw1=q((Fw1)=>{Object.defineProperty(Fw1,"__esModule",{value:!0});Fw1.InstrumentationNodeModuleFile=void 0;var AJ4=Nd();class qw1{name;supportedVersions;patch;unpatch;constructor(Y,J,X,Z){this.name=(0,AJ4.normalize)(Y),this.supportedVersions=J,this.patch=X,this.unpatch=Z}}Fw1.InstrumentationNodeModuleFile=qw1});var Pw1=q((ww1)=>{Object.defineProperty(ww1,"__esModule",{value:!0});ww1.semconvStabilityFromStr=ww1.SemconvStability=void 0;var iE;(function(Y){Y[Y.STABLE=1]="STABLE",Y[Y.OLD=2]="OLD",Y[Y.DUPLICATE=3]="DUPLICATE"})(iE=ww1.SemconvStability||(ww1.SemconvStability={}));function PJ4(Y,J){let X=iE.OLD,Z=J?.split(",").map((W)=>W.trim()).filter((W)=>W!=="");for(let W of Z??[])if(W.toLowerCase()===Y+"/dup"){X=iE.DUPLICATE;break}else if(W.toLowerCase()===Y)X=iE.STABLE;return X}ww1.semconvStabilityFromStr=PJ4});var t1=q((hY)=>{Object.defineProperty(hY,"__esModule",{value:!0});hY.semconvStabilityFromStr=hY.SemconvStability=hY.safeExecuteInTheMiddleAsync=hY.safeExecuteInTheMiddle=hY.isWrapped=hY.InstrumentationNodeModuleFile=hY.InstrumentationNodeModuleDefinition=hY.InstrumentationBase=hY.registerInstrumentations=void 0;var LJ4=UD1();Object.defineProperty(hY,"registerInstrumentations",{enumerable:!0,get:function(){return LJ4.registerInstrumentations}});var MJ4=Nd();Object.defineProperty(hY,"InstrumentationBase",{enumerable:!0,get:function(){return MJ4.InstrumentationBase}});var EJ4=Bw1();Object.defineProperty(hY,"InstrumentationNodeModuleDefinition",{enumerable:!0,get:function(){return EJ4.InstrumentationNodeModuleDefinition}});var TJ4=Iw1();Object.defineProperty(hY,"InstrumentationNodeModuleFile",{enumerable:!0,get:function(){return TJ4.InstrumentationNodeModuleFile}});var Sd=Ed();Object.defineProperty(hY,"isWrapped",{enumerable:!0,get:function(){return Sd.isWrapped}});Object.defineProperty(hY,"safeExecuteInTheMiddle",{enumerable:!0,get:function(){return Sd.safeExecuteInTheMiddle}});Object.defineProperty(hY,"safeExecuteInTheMiddleAsync",{enumerable:!0,get:function(){return Sd.safeExecuteInTheMiddleAsync}});var Lw1=Pw1();Object.defineProperty(hY,"SemconvStability",{enumerable:!0,get:function(){return Lw1.SemconvStability}});Object.defineProperty(hY,"semconvStabilityFromStr",{enumerable:!0,get:function(){return Lw1.semconvStabilityFromStr}})});var Cd=q((Mw1)=>{Object.defineProperty(Mw1,"__esModule",{value:!0});Mw1.ATTR_NET_PEER_PORT=Mw1.ATTR_NET_PEER_NAME=Mw1.ATTR_MESSAGING_SYSTEM=Mw1.ATTR_MESSAGING_OPERATION=void 0;Mw1.ATTR_MESSAGING_OPERATION="messaging.operation";Mw1.ATTR_MESSAGING_SYSTEM="messaging.system";Mw1.ATTR_NET_PEER_NAME="net.peer.name";Mw1.ATTR_NET_PEER_PORT="net.peer.port"});var jd=q((Tw1)=>{Object.defineProperty(Tw1,"__esModule",{value:!0});Tw1.ATTR_MESSAGING_CONVERSATION_ID=Tw1.OLD_ATTR_MESSAGING_MESSAGE_ID=Tw1.MESSAGING_DESTINATION_KIND_VALUE_TOPIC=Tw1.ATTR_MESSAGING_URL=Tw1.ATTR_MESSAGING_PROTOCOL_VERSION=Tw1.ATTR_MESSAGING_PROTOCOL=Tw1.MESSAGING_OPERATION_VALUE_PROCESS=Tw1.ATTR_MESSAGING_RABBITMQ_ROUTING_KEY=Tw1.ATTR_MESSAGING_DESTINATION_KIND=Tw1.ATTR_MESSAGING_DESTINATION=void 0;Tw1.ATTR_MESSAGING_DESTINATION="messaging.destination";Tw1.ATTR_MESSAGING_DESTINATION_KIND="messaging.destination_kind";Tw1.ATTR_MESSAGING_RABBITMQ_ROUTING_KEY="messaging.rabbitmq.routing_key";Tw1.MESSAGING_OPERATION_VALUE_PROCESS="process";Tw1.ATTR_MESSAGING_PROTOCOL="messaging.protocol";Tw1.ATTR_MESSAGING_PROTOCOL_VERSION="messaging.protocol_version";Tw1.ATTR_MESSAGING_URL="messaging.url";Tw1.MESSAGING_DESTINATION_KIND_VALUE_TOPIC="topic";Tw1.OLD_ATTR_MESSAGING_MESSAGE_ID="messaging.message_id";Tw1.ATTR_MESSAGING_CONVERSATION_ID="messaging.conversation_id"});var kd=q((Sw1)=>{Object.defineProperty(Sw1,"__esModule",{value:!0});Sw1.DEFAULT_CONFIG=Sw1.EndOperation=void 0;var gJ4;(function(Y){Y.AutoAck="auto ack",Y.Ack="ack",Y.AckAll="ackAll",Y.Reject="reject",Y.Nack="nack",Y.NackAll="nackAll",Y.ChannelClosed="channel closed",Y.ChannelError="channel error",Y.InstrumentationTimeout="instrumentation timeout"})(gJ4=Sw1.EndOperation||(Sw1.EndOperation={}));Sw1.DEFAULT_CONFIG={consumeTimeoutMs:60000,useLinksForConsume:!1}});var vw1=q((xw1)=>{Object.defineProperty(xw1,"__esModule",{value:!0});xw1.isConfirmChannelTracing=xw1.unmarkConfirmChannelTracing=xw1.markConfirmChannelTracing=xw1.getConnectionAttributesFromUrl=xw1.getConnectionAttributesFromServer=xw1.normalizeExchange=xw1.CONNECTION_ATTRIBUTES=xw1.CHANNEL_CONSUME_TIMEOUT_TIMER=xw1.CHANNEL_SPANS_NOT_ENDED=xw1.MESSAGE_STORED_SPAN=void 0;var _d=t(),BW=t1(),oE=X0(),yF=Cd(),rE=jd();xw1.MESSAGE_STORED_SPAN=Symbol("opentelemetry.amqplib.message.stored-span");xw1.CHANNEL_SPANS_NOT_ENDED=Symbol("opentelemetry.amqplib.channel.spans-not-ended");xw1.CHANNEL_CONSUME_TIMEOUT_TIMER=Symbol("opentelemetry.amqplib.channel.consumer-timeout-timer");xw1.CONNECTION_ATTRIBUTES=Symbol("opentelemetry.amqplib.connection.attributes");var xd=(0,_d.createContextKey)("opentelemetry.amqplib.channel.is-confirm-channel"),uJ4=(Y)=>Y!==""?Y:"<default>";xw1.normalizeExchange=uJ4;var mJ4=(Y)=>{return Y.replace(/:[^:@/]*@/,":***@")},jw1=(Y,J)=>{return Y||(J==="AMQP"?5672:5671)},kw1=(Y)=>{let J=Y||"amqp";return(J.endsWith(":")?J.substring(0,J.length-1):J).toUpperCase()},_w1=(Y)=>{return Y||"localhost"},QX=(Y,J,X,Z)=>{if(X)return{[J]:X};else return _d.diag.error(`amqplib instrumentation: could not extract connection attribute ${Z} from user supplied url`,{url:Y}),{}},dJ4=(Y)=>{let J=Y.serverProperties.product?.toLowerCase?.();if(J)return{[yF.ATTR_MESSAGING_SYSTEM]:J};else return{}};xw1.getConnectionAttributesFromServer=dJ4;var cJ4=(Y,J)=>{let X={[rE.ATTR_MESSAGING_PROTOCOL_VERSION]:"0.9.1"};if(Y=Y||"amqp://localhost",typeof Y==="object"){let Z=Y,W=kw1(Z?.protocol);Object.assign(X,{...QX(Y,rE.ATTR_MESSAGING_PROTOCOL,W,"protocol")});let $=_w1(Z?.hostname);if(J&BW.SemconvStability.OLD)Object.assign(X,{...QX(Y,yF.ATTR_NET_PEER_NAME,$,"hostname")});if(J&BW.SemconvStability.STABLE)Object.assign(X,{...QX(Y,oE.ATTR_SERVER_ADDRESS,$,"hostname")});let G=jw1(Z.port,W);if(J&BW.SemconvStability.OLD)Object.assign(X,QX(Y,yF.ATTR_NET_PEER_PORT,G,"port"));if(J&BW.SemconvStability.STABLE)Object.assign(X,QX(Y,oE.ATTR_SERVER_PORT,G,"port"))}else{let Z=mJ4(Y);X[rE.ATTR_MESSAGING_URL]=Z;try{let W=new URL(Z),$=kw1(W.protocol);Object.assign(X,{...QX(Z,rE.ATTR_MESSAGING_PROTOCOL,$,"protocol")});let G=_w1(W.hostname);if(J&BW.SemconvStability.OLD)Object.assign(X,{...QX(Z,yF.ATTR_NET_PEER_NAME,G,"hostname")});if(J&BW.SemconvStability.STABLE)Object.assign(X,{...QX(Z,oE.ATTR_SERVER_ADDRESS,G,"hostname")});let Q=jw1(W.port?parseInt(W.port):void 0,$);if(J&BW.SemconvStability.OLD)Object.assign(X,QX(Z,yF.ATTR_NET_PEER_PORT,Q,"port"));if(J&BW.SemconvStability.STABLE)Object.assign(X,QX(Z,oE.ATTR_SERVER_PORT,Q,"port"))}catch(W){_d.diag.error("amqplib instrumentation: error while extracting connection details from connection url",{censoredUrl:Z,err:W})}}return X};xw1.getConnectionAttributesFromUrl=cJ4;var lJ4=(Y)=>{return Y.setValue(xd,!0)};xw1.markConfirmChannelTracing=lJ4;var pJ4=(Y)=>{return Y.deleteValue(xd)};xw1.unmarkConfirmChannelTracing=pJ4;var nJ4=(Y)=>{return Y.getValue(xd)===!0};xw1.isConfirmChannelTracing=nJ4});var yw1=q((hw1)=>{Object.defineProperty(hw1,"__esModule",{value:!0});hw1.PACKAGE_NAME=hw1.PACKAGE_VERSION=void 0;hw1.PACKAGE_VERSION="0.59.0";hw1.PACKAGE_NAME="@opentelemetry/instrumentation-amqplib"});var cw1=q((mw1)=>{Object.defineProperty(mw1,"__esModule",{value:!0});mw1.AmqplibInstrumentation=void 0;var Q6=t(),aE=k1(),q4=t1(),ZX4=Cd(),$7=jd(),W9=kd(),R6=vw1(),gw1=yw1(),sE=[">=0.5.5 <1"];class uw1 extends q4.InstrumentationBase{_netSemconvStability;constructor(Y={}){super(gw1.PACKAGE_NAME,gw1.PACKAGE_VERSION,{...W9.DEFAULT_CONFIG,...Y});this._setSemconvStabilityFromEnv()}_setSemconvStabilityFromEnv(){this._netSemconvStability=(0,q4.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}setConfig(Y={}){super.setConfig({...W9.DEFAULT_CONFIG,...Y})}init(){let Y=new q4.InstrumentationNodeModuleFile("amqplib/lib/channel_model.js",sE,this.patchChannelModel.bind(this),this.unpatchChannelModel.bind(this)),J=new q4.InstrumentationNodeModuleFile("amqplib/lib/callback_model.js",sE,this.patchChannelModel.bind(this),this.unpatchChannelModel.bind(this)),X=new q4.InstrumentationNodeModuleFile("amqplib/lib/connect.js",sE,this.patchConnect.bind(this),this.unpatchConnect.bind(this));return new q4.InstrumentationNodeModuleDefinition("amqplib",sE,void 0,void 0,[Y,X,J])}patchConnect(Y){if(Y=this.unpatchConnect(Y),!(0,q4.isWrapped)(Y.connect))this._wrap(Y,"connect",this.getConnectPatch.bind(this));return Y}unpatchConnect(Y){if((0,q4.isWrapped)(Y.connect))this._unwrap(Y,"connect");return Y}patchChannelModel(Y,J){if(!(0,q4.isWrapped)(Y.Channel.prototype.publish))this._wrap(Y.Channel.prototype,"publish",this.getPublishPatch.bind(this,J));if(!(0,q4.isWrapped)(Y.Channel.prototype.consume))this._wrap(Y.Channel.prototype,"consume",this.getConsumePatch.bind(this,J));if(!(0,q4.isWrapped)(Y.Channel.prototype.ack))this._wrap(Y.Channel.prototype,"ack",this.getAckPatch.bind(this,!1,W9.EndOperation.Ack));if(!(0,q4.isWrapped)(Y.Channel.prototype.nack))this._wrap(Y.Channel.prototype,"nack",this.getAckPatch.bind(this,!0,W9.EndOperation.Nack));if(!(0,q4.isWrapped)(Y.Channel.prototype.reject))this._wrap(Y.Channel.prototype,"reject",this.getAckPatch.bind(this,!0,W9.EndOperation.Reject));if(!(0,q4.isWrapped)(Y.Channel.prototype.ackAll))this._wrap(Y.Channel.prototype,"ackAll",this.getAckAllPatch.bind(this,!1,W9.EndOperation.AckAll));if(!(0,q4.isWrapped)(Y.Channel.prototype.nackAll))this._wrap(Y.Channel.prototype,"nackAll",this.getAckAllPatch.bind(this,!0,W9.EndOperation.NackAll));if(!(0,q4.isWrapped)(Y.Channel.prototype.emit))this._wrap(Y.Channel.prototype,"emit",this.getChannelEmitPatch.bind(this));if(!(0,q4.isWrapped)(Y.ConfirmChannel.prototype.publish))this._wrap(Y.ConfirmChannel.prototype,"publish",this.getConfirmedPublishPatch.bind(this,J));return Y}unpatchChannelModel(Y){if((0,q4.isWrapped)(Y.Channel.prototype.publish))this._unwrap(Y.Channel.prototype,"publish");if((0,q4.isWrapped)(Y.Channel.prototype.consume))this._unwrap(Y.Channel.prototype,"consume");if((0,q4.isWrapped)(Y.Channel.prototype.ack))this._unwrap(Y.Channel.prototype,"ack");if((0,q4.isWrapped)(Y.Channel.prototype.nack))this._unwrap(Y.Channel.prototype,"nack");if((0,q4.isWrapped)(Y.Channel.prototype.reject))this._unwrap(Y.Channel.prototype,"reject");if((0,q4.isWrapped)(Y.Channel.prototype.ackAll))this._unwrap(Y.Channel.prototype,"ackAll");if((0,q4.isWrapped)(Y.Channel.prototype.nackAll))this._unwrap(Y.Channel.prototype,"nackAll");if((0,q4.isWrapped)(Y.Channel.prototype.emit))this._unwrap(Y.Channel.prototype,"emit");if((0,q4.isWrapped)(Y.ConfirmChannel.prototype.publish))this._unwrap(Y.ConfirmChannel.prototype,"publish");return Y}getConnectPatch(Y){let J=this;return function(Z,W,$){return Y.call(this,Z,W,function(G,Q){if(G==null){let U=(0,R6.getConnectionAttributesFromUrl)(Z,J._netSemconvStability),z=(0,R6.getConnectionAttributesFromServer)(Q);Q[R6.CONNECTION_ATTRIBUTES]={...U,...z}}$.apply(this,arguments)})}}getChannelEmitPatch(Y){let J=this;return function(Z){if(Z==="close"){J.endAllSpansOnChannel(this,!0,W9.EndOperation.ChannelClosed,void 0);let W=this[R6.CHANNEL_CONSUME_TIMEOUT_TIMER];if(W)clearInterval(W);this[R6.CHANNEL_CONSUME_TIMEOUT_TIMER]=void 0}else if(Z==="error")J.endAllSpansOnChannel(this,!0,W9.EndOperation.ChannelError,void 0);return Y.apply(this,arguments)}}getAckAllPatch(Y,J,X){let Z=this;return function($){return Z.endAllSpansOnChannel(this,Y,J,$),X.apply(this,arguments)}}getAckPatch(Y,J,X){let Z=this;return function($,G,Q){let U=this,z=J===W9.EndOperation.Reject?G:Q,H=U[R6.CHANNEL_SPANS_NOT_ENDED]??[],O=H.findIndex((K)=>K.msg===$);if(O<0)Z.endConsumerSpan($,Y,J,z);else if(J!==W9.EndOperation.Reject&&G){for(let K=0;K<=O;K++)Z.endConsumerSpan(H[K].msg,Y,J,z);H.splice(0,O+1)}else Z.endConsumerSpan($,Y,J,z),H.splice(O,1);return X.apply(this,arguments)}}getConsumePatch(Y,J){let X=this;return function(W,$,G){let Q=this;if(!Object.prototype.hasOwnProperty.call(Q,R6.CHANNEL_SPANS_NOT_ENDED)){let{consumeTimeoutMs:z}=X.getConfig();if(z){let H=setInterval(()=>{X.checkConsumeTimeoutOnChannel(Q)},z);H.unref(),Q[R6.CHANNEL_CONSUME_TIMEOUT_TIMER]=H}Q[R6.CHANNEL_SPANS_NOT_ENDED]=[]}let U=function(z){if(!z)return $.call(this,z);let H=z.properties.headers??{},O=Q6.propagation.extract(Q6.ROOT_CONTEXT,H),K=z.fields?.exchange,B;if(X._config.useLinksForConsume){let D=O?Q6.trace.getSpan(O)?.spanContext():void 0;if(O=void 0,D)B=[{context:D}]}let F=X.tracer.startSpan(`${W} process`,{kind:Q6.SpanKind.CONSUMER,attributes:{...Q?.connection?.[R6.CONNECTION_ATTRIBUTES],[$7.ATTR_MESSAGING_DESTINATION]:K,[$7.ATTR_MESSAGING_DESTINATION_KIND]:$7.MESSAGING_DESTINATION_KIND_VALUE_TOPIC,[$7.ATTR_MESSAGING_RABBITMQ_ROUTING_KEY]:z.fields?.routingKey,[ZX4.ATTR_MESSAGING_OPERATION]:$7.MESSAGING_OPERATION_VALUE_PROCESS,[$7.OLD_ATTR_MESSAGING_MESSAGE_ID]:z?.properties.messageId,[$7.ATTR_MESSAGING_CONVERSATION_ID]:z?.properties.correlationId},links:B},O),{consumeHook:V}=X.getConfig();if(V)(0,q4.safeExecuteInTheMiddle)(()=>V(F,{moduleVersion:Y,msg:z}),(D)=>{if(D)Q6.diag.error("amqplib instrumentation: consumerHook error",D)},!0);if(!G?.noAck)Q[R6.CHANNEL_SPANS_NOT_ENDED].push({msg:z,timeOfConsume:(0,aE.hrTime)()}),z[R6.MESSAGE_STORED_SPAN]=F;let I=O?O:Q6.ROOT_CONTEXT;if(Q6.context.with(Q6.trace.setSpan(I,F),()=>{$.call(this,z)}),G?.noAck)X.callConsumeEndHook(F,z,!1,W9.EndOperation.AutoAck),F.end()};return arguments[1]=U,J.apply(this,arguments)}}getConfirmedPublishPatch(Y,J){let X=this;return function(W,$,G,Q,U){let z=this,{span:H,modifiedOptions:O}=X.createPublishSpan(X,W,$,z,Q),{publishHook:K}=X.getConfig();if(K)(0,q4.safeExecuteInTheMiddle)(()=>K(H,{moduleVersion:Y,exchange:W,routingKey:$,content:G,options:O,isConfirmChannel:!0}),(I)=>{if(I)Q6.diag.error("amqplib instrumentation: publishHook error",I)},!0);let B=function(I,D){try{U?.call(this,I,D)}finally{let{publishConfirmHook:L}=X.getConfig();if(L)(0,q4.safeExecuteInTheMiddle)(()=>L(H,{moduleVersion:Y,exchange:W,routingKey:$,content:G,options:Q,isConfirmChannel:!0,confirmError:I}),(A)=>{if(A)Q6.diag.error("amqplib instrumentation: publishConfirmHook error",A)},!0);if(I)H.setStatus({code:Q6.SpanStatusCode.ERROR,message:"message confirmation has been nack'ed"});H.end()}},F=(0,R6.markConfirmChannelTracing)(Q6.context.active()),V=[...arguments];return V[3]=O,V[4]=Q6.context.bind((0,R6.unmarkConfirmChannelTracing)(Q6.trace.setSpan(F,H)),B),Q6.context.with(F,J.bind(this,...V))}}getPublishPatch(Y,J){let X=this;return function(W,$,G,Q){if((0,R6.isConfirmChannelTracing)(Q6.context.active()))return J.apply(this,arguments);else{let U=this,{span:z,modifiedOptions:H}=X.createPublishSpan(X,W,$,U,Q),{publishHook:O}=X.getConfig();if(O)(0,q4.safeExecuteInTheMiddle)(()=>O(z,{moduleVersion:Y,exchange:W,routingKey:$,content:G,options:H,isConfirmChannel:!1}),(F)=>{if(F)Q6.diag.error("amqplib instrumentation: publishHook error",F)},!0);let K=[...arguments];K[3]=H;let B=J.apply(this,K);return z.end(),B}}}createPublishSpan(Y,J,X,Z,W){let $=(0,R6.normalizeExchange)(J),G=Y.tracer.startSpan(`publish ${$}`,{kind:Q6.SpanKind.PRODUCER,attributes:{...Z.connection[R6.CONNECTION_ATTRIBUTES],[$7.ATTR_MESSAGING_DESTINATION]:J,[$7.ATTR_MESSAGING_DESTINATION_KIND]:$7.MESSAGING_DESTINATION_KIND_VALUE_TOPIC,[$7.ATTR_MESSAGING_RABBITMQ_ROUTING_KEY]:X,[$7.OLD_ATTR_MESSAGING_MESSAGE_ID]:W?.messageId,[$7.ATTR_MESSAGING_CONVERSATION_ID]:W?.correlationId}}),Q=W??{};return Q.headers=Q.headers??{},Q6.propagation.inject(Q6.trace.setSpan(Q6.context.active(),G),Q.headers),{span:G,modifiedOptions:Q}}endConsumerSpan(Y,J,X,Z){let W=Y[R6.MESSAGE_STORED_SPAN];if(!W)return;if(J!==!1)W.setStatus({code:Q6.SpanStatusCode.ERROR,message:X!==W9.EndOperation.ChannelClosed&&X!==W9.EndOperation.ChannelError?`${X} called on message${Z===!0?" with requeue":Z===!1?" without requeue":""}`:X});this.callConsumeEndHook(W,Y,J,X),W.end(),Y[R6.MESSAGE_STORED_SPAN]=void 0}endAllSpansOnChannel(Y,J,X,Z){(Y[R6.CHANNEL_SPANS_NOT_ENDED]??[]).forEach(($)=>{this.endConsumerSpan($.msg,J,X,Z)}),Y[R6.CHANNEL_SPANS_NOT_ENDED]=[]}callConsumeEndHook(Y,J,X,Z){let{consumeEndHook:W}=this.getConfig();if(!W)return;(0,q4.safeExecuteInTheMiddle)(()=>W(Y,{msg:J,rejected:X,endOperation:Z}),($)=>{if($)Q6.diag.error("amqplib instrumentation: consumerEndHook error",$)},!0)}checkConsumeTimeoutOnChannel(Y){let J=(0,aE.hrTime)(),X=Y[R6.CHANNEL_SPANS_NOT_ENDED]??[],Z,{consumeTimeoutMs:W}=this.getConfig();for(Z=0;Z<X.length;Z++){let $=X[Z],G=(0,aE.hrTimeDuration)($.timeOfConsume,J);if((0,aE.hrTimeToMilliseconds)(G)<W)break;this.endConsumerSpan($.msg,null,W9.EndOperation.InstrumentationTimeout,!0)}X.splice(0,Z)}}mw1.AmqplibInstrumentation=uw1});var pw1=q((gF)=>{Object.defineProperty(gF,"__esModule",{value:!0});gF.EndOperation=gF.DEFAULT_CONFIG=gF.AmqplibInstrumentation=void 0;var WX4=cw1();Object.defineProperty(gF,"AmqplibInstrumentation",{enumerable:!0,get:function(){return WX4.AmqplibInstrumentation}});var lw1=kd();Object.defineProperty(gF,"DEFAULT_CONFIG",{enumerable:!0,get:function(){return lw1.DEFAULT_CONFIG}});Object.defineProperty(gF,"EndOperation",{enumerable:!0,get:function(){return lw1.EndOperation}})});var ow1=q((nw1)=>{Object.defineProperty(nw1,"__esModule",{value:!0});nw1.ATTR_FAAS_NAME=nw1.ATTR_FAAS_COLDSTART=nw1.ATTR_CLOUD_ACCOUNT_ID=void 0;nw1.ATTR_CLOUD_ACCOUNT_ID="cloud.account.id";nw1.ATTR_FAAS_COLDSTART="faas.coldstart";nw1.ATTR_FAAS_NAME="faas.name"});var sw1=q((rw1)=>{Object.defineProperty(rw1,"__esModule",{value:!0});rw1.ATTR_FAAS_ID=rw1.ATTR_FAAS_EXECUTION=void 0;rw1.ATTR_FAAS_EXECUTION="faas.execution";rw1.ATTR_FAAS_ID="faas.id"});var YA1=q((tw1)=>{Object.defineProperty(tw1,"__esModule",{value:!0});tw1.PACKAGE_NAME=tw1.PACKAGE_VERSION=void 0;tw1.PACKAGE_VERSION="0.64.0";tw1.PACKAGE_NAME="@opentelemetry/instrumentation-aws-lambda"});var HA1=q(($A1)=>{Object.defineProperty($A1,"__esModule",{value:!0});$A1.AwsLambdaInstrumentation=$A1.AWS_HANDLER_STREAMING_RESPONSE=$A1.AWS_HANDLER_STREAMING_SYMBOL=$A1.lambdaMaxInitInMilliseconds=void 0;var JA1=C("path"),fd=C("fs"),bY=t1(),A8=t(),HX4=X0(),XA1=ow1(),ZA1=sw1(),WA1=YA1(),OX4={keys(Y){return Object.keys(Y)},get(Y,J){return Y[J]}};$A1.lambdaMaxInitInMilliseconds=1e4;$A1.AWS_HANDLER_STREAMING_SYMBOL=Symbol.for("aws.lambda.runtime.handler.streaming");$A1.AWS_HANDLER_STREAMING_RESPONSE="response";function KX4(){let Y=process.env.AWS_EXECUTION_ENV;if(!Y)return!1;let J=Y.match(/AWS_Lambda_nodejs(\d+)\./);if(J&&J[1])return parseInt(J[1],10)<24;return!1}class LH extends bY.InstrumentationBase{constructor(Y={}){super(WA1.PACKAGE_NAME,WA1.PACKAGE_VERSION,Y)}init(){let Y=process.env.LAMBDA_TASK_ROOT,J=this.getConfig().lambdaHandler??process.env._HANDLER;if(!Y||!J)return this._diag.debug("Skipping lambda instrumentation: no _HANDLER/lambdaHandler or LAMBDA_TASK_ROOT.",{taskRoot:Y,handlerDef:J}),[];let X=JA1.basename(J),Z=J.substring(0,J.length-X.length),[W,$]=X.split(".",2),G=JA1.resolve(Y,Z,W);if(!G.endsWith(".js"))try{fd.statSync(`${G}.js`),G+=".js"}catch(U){try{fd.statSync(`${G}.mjs`),G+=".mjs"}catch(z){try{fd.statSync(`${G}.cjs`),G+=".cjs"}catch(H){this._diag.warn("No handler file was able to resolved with one of the known extensions for the file",G)}}}A8.diag.debug("Instrumenting lambda handler",{taskRoot:Y,handlerDef:J,handler:X,moduleRoot:Z,module:W,filename:G,functionName:$});let Q=this.getConfig().lambdaStartTime||Date.now()-Math.floor(1000*process.uptime());return[new bY.InstrumentationNodeModuleDefinition(G,["*"],void 0,void 0,[new bY.InstrumentationNodeModuleFile(W,["*"],(U)=>{if((0,bY.isWrapped)(U[$]))this._unwrap(U,$);return this._wrap(U,$,this._getHandler(Q)),U},(U)=>{if(U==null)return;this._unwrap(U,$)})])]}_getHandler(Y){return(J)=>{let X=this._getPatchHandler(J,Y);if(this._isStreamingHandler(J))for(let Z of Object.getOwnPropertySymbols(J))X[Z]=J[Z];return X}}_getPatchHandler(Y,J){A8.diag.debug("patch handler function");let X=this,Z=!1,W=!0;function $(){if(Z)W=!1;else{if(process.env.AWS_LAMBDA_INITIALIZATION_TYPE==="provisioned-concurrency")W=!1;else W=!(Date.now()-J>$A1.lambdaMaxInitInMilliseconds);Z=!0}}if(this._isStreamingHandler(Y))return function(U,z,H){$();let O=X._determineParent(U,H),K=X._createSpanForRequest(U,H,W,O);return X._applyRequestHook(K,U,H),A8.context.with(A8.trace.setSpan(O,K),()=>{let B=(0,bY.safeExecuteInTheMiddle)(()=>Y.apply(this,[U,z,H]),(F)=>{if(F!=null)X._applyResponseHook(K,F),X._endSpan(K,F,()=>{})});return X._handlePromiseResult(K,B)})};if(KX4())return function(U,z,H){$();let O=X._determineParent(U,z),K=X._createSpanForRequest(U,z,W,O);return X._applyRequestHook(K,U,z),A8.context.with(A8.trace.setSpan(O,K),()=>{if(H){let B=X._wrapCallback(H,K),F=(0,bY.safeExecuteInTheMiddle)(()=>Y.apply(this,[U,z,B]),(V)=>{if(V!=null)X._applyResponseHook(K,V),X._endSpan(K,V,()=>{})});return X._handlePromiseResult(K,F)}else{let B=(0,bY.safeExecuteInTheMiddle)(()=>Y.apply(this,[U,z]),(F)=>{if(F!=null)X._applyResponseHook(K,F),X._endSpan(K,F,()=>{})});return X._handlePromiseResult(K,B)}})};else return function(U,z){$();let H=X._determineParent(U,z),O=X._createSpanForRequest(U,z,W,H);return X._applyRequestHook(O,U,z),A8.context.with(A8.trace.setSpan(H,O),()=>{let K=(0,bY.safeExecuteInTheMiddle)(()=>Y.apply(this,[U,z]),(B)=>{if(B!=null)X._applyResponseHook(O,B),X._endSpan(O,B,()=>{})});return X._handlePromiseResult(O,K)})}}_createSpanForRequest(Y,J,X,Z){let W=J.functionName;return this.tracer.startSpan(W,{kind:A8.SpanKind.SERVER,attributes:{[ZA1.ATTR_FAAS_EXECUTION]:J.awsRequestId,[ZA1.ATTR_FAAS_ID]:J.invokedFunctionArn,[XA1.ATTR_CLOUD_ACCOUNT_ID]:LH._extractAccountId(J.invokedFunctionArn),[XA1.ATTR_FAAS_COLDSTART]:X,...LH._extractOtherEventFields(Y)}},Z)}_applyRequestHook(Y,J,X){let{requestHook:Z}=this.getConfig();if(Z)(0,bY.safeExecuteInTheMiddle)(()=>Z(Y,{event:J,context:X}),(W)=>{if(W)A8.diag.error("aws-lambda instrumentation: requestHook error",W)},!0)}_handlePromiseResult(Y,J){if(typeof J?.then==="function")return J.then((X)=>{return this._applyResponseHook(Y,null,X),new Promise((Z)=>this._endSpan(Y,void 0,()=>Z(X)))},(X)=>{return this._applyResponseHook(Y,X),new Promise((Z,W)=>this._endSpan(Y,X,()=>W(X)))});return this._applyResponseHook(Y,null,J),this._endSpan(Y,void 0,()=>{}),J}_determineParent(Y,J){let X=this.getConfig();return LH._determineParent(Y,J,X.eventContextExtractor||LH._defaultEventContextExtractor)}_isStreamingHandler(Y){return Y[$A1.AWS_HANDLER_STREAMING_SYMBOL]===$A1.AWS_HANDLER_STREAMING_RESPONSE}setTracerProvider(Y){super.setTracerProvider(Y),this._traceForceFlusher=this._traceForceFlush(Y)}_traceForceFlush(Y){if(!Y)return;let J=Y;if(typeof J.getDelegate==="function")J=J.getDelegate();if(typeof J.forceFlush==="function")return J.forceFlush.bind(J);return}setMeterProvider(Y){super.setMeterProvider(Y),this._metricForceFlusher=this._metricForceFlush(Y)}_metricForceFlush(Y){if(!Y)return;let J=Y;if(typeof J.forceFlush==="function")return J.forceFlush.bind(J);return}_wrapCallback(Y,J){let X=this;return function(W,$){X._diag.debug("executing wrapped callback function"),X._applyResponseHook(J,W,$),X._endSpan(J,W,()=>{return X._diag.debug("executing original callback function"),Y.apply(this,[W,$])})}}_endSpan(Y,J,X){if(J)Y.recordException(J);let Z;if(typeof J==="string")Z=J;else if(J)Z=J.message;if(Z)Y.setStatus({code:A8.SpanStatusCode.ERROR,message:Z});Y.end();let W=[];if(this._traceForceFlusher)W.push(this._traceForceFlusher());else A8.diag.debug("Spans may not be exported for the lambda function because we are not force flushing before handler completion.");if(this._metricForceFlusher)W.push(this._metricForceFlusher());else A8.diag.debug("Metrics may not be exported for the lambda function because we are not force flushing before handler completion.");Promise.all(W).then(X,X)}_applyResponseHook(Y,J,X){let{responseHook:Z}=this.getConfig();if(Z)(0,bY.safeExecuteInTheMiddle)(()=>Z(Y,{err:J,res:X}),(W)=>{if(W)A8.diag.error("aws-lambda instrumentation: responseHook error",W)},!0)}static _extractAccountId(Y){let J=Y.split(":");if(J.length>=5)return J[4];return}static _defaultEventContextExtractor(Y){let J=Y.headers||{};return A8.propagation.extract(A8.context.active(),J,OX4)}static _extractOtherEventFields(Y){let J={},X=this._extractFullUrl(Y);if(X)J[HX4.ATTR_URL_FULL]=X;return J}static _extractFullUrl(Y){if(!Y.headers)return;function J(G,Q,U){return G.headers[Q]??G.headers[U]}let X=J(Y,"host","Host"),Z=J(Y,"x-forwarded-proto","X-Forwarded-Proto"),W=J(Y,"x-forwarded-port","X-Forwarded-Port");if(!(Z&&X&&(Y.path||Y.rawPath)))return;let $=Z+"://"+X;if(W)$+=":"+W;if($+=Y.path??Y.rawPath,Y.queryStringParameters){let G=!0;for(let Q in Y.queryStringParameters)$+=G?"?":"&",$+=encodeURIComponent(Q),$+="=",$+=encodeURIComponent(Y.queryStringParameters[Q]),G=!1}return $}static _determineParent(Y,J,X){let Z=(0,bY.safeExecuteInTheMiddle)(()=>X(Y,J),(W)=>{if(W)A8.diag.error("aws-lambda instrumentation: eventContextExtractor error",W)},!0);if(A8.trace.getSpan(Z)?.spanContext())return Z;return A8.ROOT_CONTEXT}}$A1.AwsLambdaInstrumentation=LH});var KA1=q((tE)=>{Object.defineProperty(tE,"__esModule",{value:!0});tE.lambdaMaxInitInMilliseconds=tE.AwsLambdaInstrumentation=void 0;var OA1=HA1();Object.defineProperty(tE,"AwsLambdaInstrumentation",{enumerable:!0,get:function(){return OA1.AwsLambdaInstrumentation}});Object.defineProperty(tE,"lambdaMaxInitInMilliseconds",{enumerable:!0,get:function(){return OA1.lambdaMaxInitInMilliseconds}})});var uF=q((BA1)=>{Object.defineProperty(BA1,"__esModule",{value:!0});BA1.AttributeNames=void 0;var qX4;(function(Y){Y.AWS_OPERATION="aws.operation",Y.CLOUD_REGION="cloud.region",Y.AWS_SERVICE_API="aws.service.api",Y.AWS_SERVICE_NAME="aws.service.name",Y.AWS_SERVICE_IDENTIFIER="aws.service.identifier",Y.AWS_REQUEST_ID="aws.request.id",Y.AWS_REQUEST_EXTENDED_ID="aws.request.extended_id",Y.AWS_SIGNATURE_VERSION="aws.signature.version",Y.AWS_S3_BUCKET="aws.s3.bucket",Y.AWS_KINESIS_STREAM_NAME="aws.kinesis.stream.name"})(qX4=BA1.AttributeNames||(BA1.AttributeNames={}))});var UX=q((qA1)=>{Object.defineProperty(qA1,"__esModule",{value:!0});qA1.ATTR_MESSAGING_SYSTEM=qA1.ATTR_MESSAGING_OPERATION_TYPE=qA1.ATTR_MESSAGING_OPERATION=qA1.ATTR_MESSAGING_MESSAGE_ID=qA1.ATTR_MESSAGING_DESTINATION_NAME=qA1.ATTR_MESSAGING_BATCH_MESSAGE_COUNT=qA1.ATTR_HTTP_STATUS_CODE=qA1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS=qA1.ATTR_GEN_AI_USAGE_INPUT_TOKENS=qA1.ATTR_GEN_AI_TOKEN_TYPE=qA1.ATTR_GEN_AI_SYSTEM=qA1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS=qA1.ATTR_GEN_AI_REQUEST_TOP_P=qA1.ATTR_GEN_AI_REQUEST_TEMPERATURE=qA1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES=qA1.ATTR_GEN_AI_REQUEST_MODEL=qA1.ATTR_GEN_AI_REQUEST_MAX_TOKENS=qA1.ATTR_GEN_AI_OPERATION_NAME=qA1.ATTR_FAAS_INVOKED_REGION=qA1.ATTR_FAAS_INVOKED_PROVIDER=qA1.ATTR_FAAS_INVOKED_NAME=qA1.ATTR_DB_SYSTEM=qA1.ATTR_DB_STATEMENT=qA1.ATTR_DB_OPERATION=qA1.ATTR_DB_NAME=qA1.ATTR_AWS_STEP_FUNCTIONS_STATE_MACHINE_ARN=qA1.ATTR_AWS_STEP_FUNCTIONS_ACTIVITY_ARN=qA1.ATTR_AWS_SNS_TOPIC_ARN=qA1.ATTR_AWS_SECRETSMANAGER_SECRET_ARN=qA1.ATTR_AWS_DYNAMODB_TOTAL_SEGMENTS=qA1.ATTR_AWS_DYNAMODB_TABLE_NAMES=qA1.ATTR_AWS_DYNAMODB_TABLE_COUNT=qA1.ATTR_AWS_DYNAMODB_SELECT=qA1.ATTR_AWS_DYNAMODB_SEGMENT=qA1.ATTR_AWS_DYNAMODB_SCAN_FORWARD=qA1.ATTR_AWS_DYNAMODB_SCANNED_COUNT=qA1.ATTR_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=qA1.ATTR_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=qA1.ATTR_AWS_DYNAMODB_PROJECTION=qA1.ATTR_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=qA1.ATTR_AWS_DYNAMODB_LIMIT=qA1.ATTR_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=qA1.ATTR_AWS_DYNAMODB_INDEX_NAME=qA1.ATTR_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=qA1.ATTR_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=qA1.ATTR_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=qA1.ATTR_AWS_DYNAMODB_COUNT=qA1.ATTR_AWS_DYNAMODB_CONSUMED_CAPACITY=qA1.ATTR_AWS_DYNAMODB_CONSISTENT_READ=qA1.ATTR_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=void 0;qA1.METRIC_GEN_AI_CLIENT_TOKEN_USAGE=qA1.METRIC_GEN_AI_CLIENT_OPERATION_DURATION=qA1.GEN_AI_TOKEN_TYPE_VALUE_OUTPUT=qA1.GEN_AI_TOKEN_TYPE_VALUE_INPUT=qA1.GEN_AI_SYSTEM_VALUE_AWS_BEDROCK=qA1.GEN_AI_OPERATION_NAME_VALUE_CHAT=qA1.DB_SYSTEM_NAME_VALUE_DYNAMODB=qA1.DB_SYSTEM_VALUE_DYNAMODB=qA1.ATTR_RPC_SYSTEM=qA1.ATTR_RPC_SERVICE=qA1.ATTR_RPC_METHOD=void 0;qA1.ATTR_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS="aws.dynamodb.attribute_definitions";qA1.ATTR_AWS_DYNAMODB_CONSISTENT_READ="aws.dynamodb.consistent_read";qA1.ATTR_AWS_DYNAMODB_CONSUMED_CAPACITY="aws.dynamodb.consumed_capacity";qA1.ATTR_AWS_DYNAMODB_COUNT="aws.dynamodb.count";qA1.ATTR_AWS_DYNAMODB_EXCLUSIVE_START_TABLE="aws.dynamodb.exclusive_start_table";qA1.ATTR_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES="aws.dynamodb.global_secondary_indexes";qA1.ATTR_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES="aws.dynamodb.global_secondary_index_updates";qA1.ATTR_AWS_DYNAMODB_INDEX_NAME="aws.dynamodb.index_name";qA1.ATTR_AWS_DYNAMODB_ITEM_COLLECTION_METRICS="aws.dynamodb.item_collection_metrics";qA1.ATTR_AWS_DYNAMODB_LIMIT="aws.dynamodb.limit";qA1.ATTR_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES="aws.dynamodb.local_secondary_indexes";qA1.ATTR_AWS_DYNAMODB_PROJECTION="aws.dynamodb.projection";qA1.ATTR_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY="aws.dynamodb.provisioned_read_capacity";qA1.ATTR_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY="aws.dynamodb.provisioned_write_capacity";qA1.ATTR_AWS_DYNAMODB_SCANNED_COUNT="aws.dynamodb.scanned_count";qA1.ATTR_AWS_DYNAMODB_SCAN_FORWARD="aws.dynamodb.scan_forward";qA1.ATTR_AWS_DYNAMODB_SEGMENT="aws.dynamodb.segment";qA1.ATTR_AWS_DYNAMODB_SELECT="aws.dynamodb.select";qA1.ATTR_AWS_DYNAMODB_TABLE_COUNT="aws.dynamodb.table_count";qA1.ATTR_AWS_DYNAMODB_TABLE_NAMES="aws.dynamodb.table_names";qA1.ATTR_AWS_DYNAMODB_TOTAL_SEGMENTS="aws.dynamodb.total_segments";qA1.ATTR_AWS_SECRETSMANAGER_SECRET_ARN="aws.secretsmanager.secret.arn";qA1.ATTR_AWS_SNS_TOPIC_ARN="aws.sns.topic.arn";qA1.ATTR_AWS_STEP_FUNCTIONS_ACTIVITY_ARN="aws.step_functions.activity.arn";qA1.ATTR_AWS_STEP_FUNCTIONS_STATE_MACHINE_ARN="aws.step_functions.state_machine.arn";qA1.ATTR_DB_NAME="db.name";qA1.ATTR_DB_OPERATION="db.operation";qA1.ATTR_DB_STATEMENT="db.statement";qA1.ATTR_DB_SYSTEM="db.system";qA1.ATTR_FAAS_INVOKED_NAME="faas.invoked_name";qA1.ATTR_FAAS_INVOKED_PROVIDER="faas.invoked_provider";qA1.ATTR_FAAS_INVOKED_REGION="faas.invoked_region";qA1.ATTR_GEN_AI_OPERATION_NAME="gen_ai.operation.name";qA1.ATTR_GEN_AI_REQUEST_MAX_TOKENS="gen_ai.request.max_tokens";qA1.ATTR_GEN_AI_REQUEST_MODEL="gen_ai.request.model";qA1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES="gen_ai.request.stop_sequences";qA1.ATTR_GEN_AI_REQUEST_TEMPERATURE="gen_ai.request.temperature";qA1.ATTR_GEN_AI_REQUEST_TOP_P="gen_ai.request.top_p";qA1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS="gen_ai.response.finish_reasons";qA1.ATTR_GEN_AI_SYSTEM="gen_ai.system";qA1.ATTR_GEN_AI_TOKEN_TYPE="gen_ai.token.type";qA1.ATTR_GEN_AI_USAGE_INPUT_TOKENS="gen_ai.usage.input_tokens";qA1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS="gen_ai.usage.output_tokens";qA1.ATTR_HTTP_STATUS_CODE="http.status_code";qA1.ATTR_MESSAGING_BATCH_MESSAGE_COUNT="messaging.batch.message_count";qA1.ATTR_MESSAGING_DESTINATION_NAME="messaging.destination.name";qA1.ATTR_MESSAGING_MESSAGE_ID="messaging.message.id";qA1.ATTR_MESSAGING_OPERATION="messaging.operation";qA1.ATTR_MESSAGING_OPERATION_TYPE="messaging.operation.type";qA1.ATTR_MESSAGING_SYSTEM="messaging.system";qA1.ATTR_RPC_METHOD="rpc.method";qA1.ATTR_RPC_SERVICE="rpc.service";qA1.ATTR_RPC_SYSTEM="rpc.system";qA1.DB_SYSTEM_VALUE_DYNAMODB="dynamodb";qA1.DB_SYSTEM_NAME_VALUE_DYNAMODB="dynamodb";qA1.GEN_AI_OPERATION_NAME_VALUE_CHAT="chat";qA1.GEN_AI_SYSTEM_VALUE_AWS_BEDROCK="aws.bedrock";qA1.GEN_AI_TOKEN_TYPE_VALUE_INPUT="input";qA1.GEN_AI_TOKEN_TYPE_VALUE_OUTPUT="output";qA1.METRIC_GEN_AI_CLIENT_OPERATION_DURATION="gen_ai.client.operation.duration";qA1.METRIC_GEN_AI_CLIENT_TOKEN_USAGE="gen_ai.client.token.usage"});var hd=q((wA1)=>{Object.defineProperty(wA1,"__esModule",{value:!0});wA1.addPropagationFieldsToAttributeNames=wA1.extractPropagationContext=wA1.injectPropagationContext=wA1.contextGetter=wA1.contextSetter=wA1.MAX_MESSAGE_ATTRIBUTES=void 0;var MH=t();wA1.MAX_MESSAGE_ATTRIBUTES=10;class IA1{set(Y,J,X){Y[J]={DataType:"String",StringValue:X}}}wA1.contextSetter=new IA1;class DA1{keys(Y){if(Y==null)return[];return Object.keys(Y)}get(Y,J){return Y?.[J]?.StringValue||Y?.[J]?.Value}}wA1.contextGetter=new DA1;var A34=(Y)=>{let J=Y??{};if(Object.keys(J).length+MH.propagation.fields().length<=wA1.MAX_MESSAGE_ATTRIBUTES)MH.propagation.inject(MH.context.active(),J,wA1.contextSetter);else MH.diag.warn("aws-sdk instrumentation: cannot set context propagation on SQS/SNS message due to maximum amount of MessageAttributes");return J};wA1.injectPropagationContext=A34;var P34=(Y,J)=>{let X=MH.propagation.fields();if(Object.keys(Y.MessageAttributes||[]).some((W)=>X.includes(W)))return Y.MessageAttributes;else if(J&&Y.Body)try{return JSON.parse(Y.Body).MessageAttributes}catch{MH.diag.debug("failed to parse SQS payload to extract context propagation, trace might be incomplete.")}return};wA1.extractPropagationContext=P34;var L34=(Y=[],J)=>{return Y.length?Array.from(new Set([...Y,...J])):J};wA1.addPropagationFieldsToAttributeNames=L34});var RA1=q((EA1)=>{Object.defineProperty(EA1,"__esModule",{value:!0});EA1.SqsServiceExtension=void 0;var rG=t(),R34=X0(),EH=UX(),mF=hd();class MA1{requestPreSpanHook(Y,J){let X=this.extractQueueUrl(Y.commandInput),Z=this.extractQueueNameFromUrl(X),W=rG.SpanKind.CLIENT,$,G={[EH.ATTR_MESSAGING_SYSTEM]:"aws_sqs",[EH.ATTR_MESSAGING_DESTINATION_NAME]:Z,[R34.ATTR_URL_FULL]:X},Q=!1;switch(Y.commandName){case"ReceiveMessage":Q=!0,W=rG.SpanKind.CONSUMER,$=`${Z} receive`,G[EH.ATTR_MESSAGING_OPERATION_TYPE]="receive",Y.commandInput.MessageAttributeNames=(0,mF.addPropagationFieldsToAttributeNames)(Y.commandInput.MessageAttributeNames,rG.propagation.fields());break;case"SendMessage":case"SendMessageBatch":W=rG.SpanKind.PRODUCER,$=`${Z} send`;break}return{isIncoming:Q,spanAttributes:G,spanKind:W,spanName:$}}requestPostSpanHook=(Y)=>{switch(Y.commandName){case"SendMessage":{let J=Y.commandInput.MessageAttributes??{};if(J)Y.commandInput.MessageAttributes=(0,mF.injectPropagationContext)(J)}break;case"SendMessageBatch":{let J=Y.commandInput?.Entries;if(Array.isArray(J))J.forEach((X)=>{X.MessageAttributes=(0,mF.injectPropagationContext)(X.MessageAttributes??{})})}break}};responseHook=(Y,J,X,Z)=>{switch(Y.request.commandName){case"SendMessage":J.setAttribute(EH.ATTR_MESSAGING_MESSAGE_ID,Y?.data?.MessageId);break;case"SendMessageBatch":break;case"ReceiveMessage":{let W=Y?.data?.Messages||[];J.setAttribute(EH.ATTR_MESSAGING_BATCH_MESSAGE_COUNT,W.length);for(let $ of W){let G=rG.propagation.extract(rG.ROOT_CONTEXT,(0,mF.extractPropagationContext)($,Z.sqsExtractContextPropagationFromPayload),mF.contextGetter),Q=rG.trace.getSpanContext(G);if(Q)J.addLink({context:Q,attributes:{[EH.ATTR_MESSAGING_MESSAGE_ID]:$.MessageId}})}break}}};extractQueueUrl=(Y)=>{return Y?.QueueUrl};extractQueueNameFromUrl=(Y)=>{if(!Y)return;let J=Y.split("/");if(J.length===0)return;return J[J.length-1]}}EA1.SqsServiceExtension=MA1});var jA1=q((SA1)=>{Object.defineProperty(SA1,"__esModule",{value:!0});SA1.BedrockRuntimeServiceExtension=void 0;var NA1=t(),P1=UX(),bd=k1();class yY{tokenUsage;operationDuration;_diag=NA1.diag;updateMetricInstruments(Y){this.tokenUsage=Y.createHistogram(P1.METRIC_GEN_AI_CLIENT_TOKEN_USAGE,{unit:"{token}",description:"Measures number of input and output tokens used",valueType:NA1.ValueType.INT,advice:{explicitBucketBoundaries:[1,4,16,64,256,1024,4096,16384,65536,262144,1048576,4194304,16777216,67108864]}}),this.operationDuration=Y.createHistogram(P1.METRIC_GEN_AI_CLIENT_OPERATION_DURATION,{unit:"s",description:"GenAI operation duration",advice:{explicitBucketBoundaries:[0.01,0.02,0.04,0.08,0.16,0.32,0.64,1.28,2.56,5.12,10.24,20.48,40.96,81.92]}})}requestPreSpanHook(Y,J,X){switch(Y.commandName){case"Converse":return this.requestPreSpanHookConverse(Y,J,X,!1);case"ConverseStream":return this.requestPreSpanHookConverse(Y,J,X,!0);case"InvokeModel":return this.requestPreSpanHookInvokeModel(Y,J,X,!1);case"InvokeModelWithResponseStream":return this.requestPreSpanHookInvokeModel(Y,J,X,!0)}return{isIncoming:!1}}requestPreSpanHookConverse(Y,J,X,Z){let W=P1.GEN_AI_OPERATION_NAME_VALUE_CHAT,$={[P1.ATTR_GEN_AI_SYSTEM]:P1.GEN_AI_SYSTEM_VALUE_AWS_BEDROCK,[P1.ATTR_GEN_AI_OPERATION_NAME]:P1.GEN_AI_OPERATION_NAME_VALUE_CHAT},G=Y.commandInput.modelId;if(G){if($[P1.ATTR_GEN_AI_REQUEST_MODEL]=G,W)W+=` ${G}`}let Q=Y.commandInput.inferenceConfig;if(Q){let{maxTokens:U,temperature:z,topP:H,stopSequences:O}=Q;if(U!==void 0)$[P1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=U;if(z!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=z;if(H!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TOP_P]=H;if(O!==void 0)$[P1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=O}return{spanName:W,isIncoming:!1,isStream:Z,spanAttributes:$}}requestPreSpanHookInvokeModel(Y,J,X,Z){let W,$={[P1.ATTR_GEN_AI_SYSTEM]:P1.GEN_AI_SYSTEM_VALUE_AWS_BEDROCK},G=Y.commandInput?.modelId;if(G)$[P1.ATTR_GEN_AI_REQUEST_MODEL]=G;if(Y.commandInput?.body){let Q=JSON.parse(Y.commandInput.body);if(G.includes("amazon.titan")){if(Q.textGenerationConfig?.temperature!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=Q.textGenerationConfig.temperature;if(Q.textGenerationConfig?.topP!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TOP_P]=Q.textGenerationConfig.topP;if(Q.textGenerationConfig?.maxTokenCount!==void 0)$[P1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=Q.textGenerationConfig.maxTokenCount;if(Q.textGenerationConfig?.stopSequences!==void 0)$[P1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=Q.textGenerationConfig.stopSequences}else if(G.includes("amazon.nova")){if(Q.inferenceConfig?.temperature!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=Q.inferenceConfig.temperature;if(Q.inferenceConfig?.top_p!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TOP_P]=Q.inferenceConfig.top_p;if(Q.inferenceConfig?.max_new_tokens!==void 0)$[P1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=Q.inferenceConfig.max_new_tokens;if(Q.inferenceConfig?.stopSequences!==void 0)$[P1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=Q.inferenceConfig.stopSequences}else if(G.includes("anthropic.claude")){if(Q.max_tokens!==void 0)$[P1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=Q.max_tokens;if(Q.temperature!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=Q.temperature;if(Q.top_p!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TOP_P]=Q.top_p;if(Q.stop_sequences!==void 0)$[P1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=Q.stop_sequences}else if(G.includes("meta.llama")){if(Q.max_gen_len!==void 0)$[P1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=Q.max_gen_len;if(Q.temperature!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=Q.temperature;if(Q.top_p!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TOP_P]=Q.top_p}else if(G.includes("cohere.command-r")){if(Q.max_tokens!==void 0)$[P1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=Q.max_tokens;if(Q.temperature!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=Q.temperature;if(Q.p!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TOP_P]=Q.p;if(Q.message!==void 0)$[P1.ATTR_GEN_AI_USAGE_INPUT_TOKENS]=Math.ceil(Q.message.length/6);if(Q.stop_sequences!==void 0)$[P1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=Q.stop_sequences}else if(G.includes("cohere.command")){if(Q.max_tokens!==void 0)$[P1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=Q.max_tokens;if(Q.temperature!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=Q.temperature;if(Q.p!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TOP_P]=Q.p;if(Q.prompt!==void 0)$[P1.ATTR_GEN_AI_USAGE_INPUT_TOKENS]=Math.ceil(Q.prompt.length/6);if(Q.stop_sequences!==void 0)$[P1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=Q.stop_sequences}else if(G.includes("mistral")){if(Q.prompt!==void 0)$[P1.ATTR_GEN_AI_USAGE_INPUT_TOKENS]=Math.ceil(Q.prompt.length/6);if(Q.max_tokens!==void 0)$[P1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=Q.max_tokens;if(Q.temperature!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=Q.temperature;if(Q.top_p!==void 0)$[P1.ATTR_GEN_AI_REQUEST_TOP_P]=Q.top_p;if(Q.stop!==void 0)$[P1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=Q.stop}}return{spanName:W,isIncoming:!1,isStream:Z,spanAttributes:$}}responseHook(Y,J,X,Z,W){if(!J.isRecording())return;switch(Y.request.commandName){case"Converse":return this.responseHookConverse(Y,J,X,Z,W);case"ConverseStream":return this.responseHookConverseStream(Y,J,X,Z,W);case"InvokeModel":return this.responseHookInvokeModel(Y,J,X,Z);case"InvokeModelWithResponseStream":return this.responseHookInvokeModelWithResponseStream(Y,J,X,Z)}}responseHookConverse(Y,J,X,Z,W){let{stopReason:$,usage:G}=Y.data;yY.setStopReason(J,$),this.setUsage(Y,J,G,W)}responseHookConverseStream(Y,J,X,Z,W){return{...Y.data,stream:this.wrapConverseStreamResponse(Y,Y.data.stream,J,W)}}async*wrapConverseStreamResponse(Y,J,X,Z){try{let W;for await(let $ of J)yY.setStopReason(X,$.messageStop?.stopReason),W=$.metadata?.usage,yield $;this.setUsage(Y,X,W,Z)}finally{X.end()}}static setStopReason(Y,J){if(J!==void 0)Y.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[J])}setUsage(Y,J,X,Z){let W={[P1.ATTR_GEN_AI_SYSTEM]:P1.GEN_AI_SYSTEM_VALUE_AWS_BEDROCK,[P1.ATTR_GEN_AI_OPERATION_NAME]:P1.GEN_AI_OPERATION_NAME_VALUE_CHAT,[P1.ATTR_GEN_AI_REQUEST_MODEL]:Y.request.commandInput.modelId},$=(0,bd.hrTimeToMilliseconds)((0,bd.hrTimeDuration)(Z,(0,bd.hrTime)()))/1000;if(this.operationDuration.record($,W),X){let{inputTokens:G,outputTokens:Q}=X;if(G!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,G),this.tokenUsage.record(G,{...W,[P1.ATTR_GEN_AI_TOKEN_TYPE]:P1.GEN_AI_TOKEN_TYPE_VALUE_INPUT});if(Q!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Q),this.tokenUsage.record(Q,{...W,[P1.ATTR_GEN_AI_TOKEN_TYPE]:P1.GEN_AI_TOKEN_TYPE_VALUE_OUTPUT})}}responseHookInvokeModel(Y,J,X,Z){let W=Y.request.commandInput?.modelId;if(Y.data?.body){let $=new TextDecoder().decode(Y.data.body),G=JSON.parse($);if(W.includes("amazon.titan")){if(G.inputTextTokenCount!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,G.inputTextTokenCount);if(G.results?.[0]?.tokenCount!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,G.results[0].tokenCount);if(G.results?.[0]?.completionReason!==void 0)J.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[G.results[0].completionReason])}else if(W.includes("amazon.nova")){if(G.usage!==void 0){if(G.usage.inputTokens!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,G.usage.inputTokens);if(G.usage.outputTokens!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,G.usage.outputTokens)}if(G.stopReason!==void 0)J.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[G.stopReason])}else if(W.includes("anthropic.claude")){if(G.usage?.input_tokens!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,G.usage.input_tokens);if(G.usage?.output_tokens!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,G.usage.output_tokens);if(G.stop_reason!==void 0)J.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[G.stop_reason])}else if(W.includes("meta.llama")){if(G.prompt_token_count!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,G.prompt_token_count);if(G.generation_token_count!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,G.generation_token_count);if(G.stop_reason!==void 0)J.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[G.stop_reason])}else if(W.includes("cohere.command-r")){if(G.text!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Math.ceil(G.text.length/6));if(G.finish_reason!==void 0)J.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[G.finish_reason])}else if(W.includes("cohere.command")){if(G.generations?.[0]?.text!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Math.ceil(G.generations[0].text.length/6));if(G.generations?.[0]?.finish_reason!==void 0)J.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[G.generations[0].finish_reason])}else if(W.includes("mistral")){if(G.outputs?.[0]?.text!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Math.ceil(G.outputs[0].text.length/6));if(G.outputs?.[0]?.stop_reason!==void 0)J.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[G.outputs[0].stop_reason])}}}async responseHookInvokeModelWithResponseStream(Y,J,X,Z){let W=Y.data?.body,$=Y.request.commandInput?.modelId;if(!W||!$)return;return Y.data.body=async function*(){try{for await(let G of W){let Q=this.parseChunk(G?.chunk?.bytes);if(!Q);else if($.includes("amazon.titan"))yY.recordTitanAttributes(Q,J);else if($.includes("anthropic.claude"))yY.recordClaudeAttributes(Q,J);else if($.includes("amazon.nova"))yY.recordNovaAttributes(Q,J);else if($.includes("meta.llama"))yY.recordLlamaAttributes(Q,J);else if($.includes("cohere.command-r"))yY.recordCohereRAttributes(Q,J);else if($.includes("cohere.command"))yY.recordCohereAttributes(Q,J);else if($.includes("mistral"))yY.recordMistralAttributes(Q,J);yield G}}finally{J.end()}}.bind(this)(),Y.data}parseChunk(Y){if(!Y||!(Y instanceof Uint8Array))return null;try{let J=Buffer.from(Y).toString("utf-8");return JSON.parse(J)}catch(J){return this._diag.warn("Failed to parse streamed chunk",J),null}}static recordNovaAttributes(Y,J){if(Y.metadata?.usage!==void 0){if(Y.metadata?.usage.inputTokens!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,Y.metadata.usage.inputTokens);if(Y.metadata?.usage.outputTokens!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Y.metadata.usage.outputTokens)}if(Y.messageStop?.stopReason!==void 0)J.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[Y.messageStop.stopReason])}static recordClaudeAttributes(Y,J){if(Y.message?.usage?.input_tokens!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,Y.message.usage.input_tokens);if(Y.message?.usage?.output_tokens!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Y.message.usage.output_tokens);if(Y.delta?.stop_reason!==void 0)J.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[Y.delta.stop_reason])}static recordTitanAttributes(Y,J){if(Y.inputTextTokenCount!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,Y.inputTextTokenCount);if(Y.totalOutputTextTokenCount!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Y.totalOutputTextTokenCount);if(Y.completionReason!==void 0)J.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[Y.completionReason])}static recordLlamaAttributes(Y,J){if(Y.prompt_token_count!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,Y.prompt_token_count);if(Y.generation_token_count!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Y.generation_token_count);if(Y.stop_reason!==void 0)J.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[Y.stop_reason])}static recordMistralAttributes(Y,J){if(Y.outputs?.[0]?.text!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Math.ceil(Y.outputs[0].text.length/6));if(Y.outputs?.[0]?.stop_reason!==void 0)J.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[Y.outputs[0].stop_reason])}static recordCohereAttributes(Y,J){if(Y.generations?.[0]?.text!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Math.ceil(Y.generations[0].text.length/6));if(Y.generations?.[0]?.finish_reason!==void 0)J.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[Y.generations[0].finish_reason])}static recordCohereRAttributes(Y,J){if(Y.text!==void 0)J.setAttribute(P1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Math.ceil(Y.text.length/6));if(Y.finish_reason!==void 0)J.setAttribute(P1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,[Y.finish_reason])}}SA1.BedrockRuntimeServiceExtension=yY});var fA1=q((_A1)=>{Object.defineProperty(_A1,"__esModule",{value:!0});_A1.DynamodbServiceExtension=void 0;var N34=t(),eE=t1(),YT=X0(),w4=UX();class kA1{toArray(Y){return Array.isArray(Y)?Y:[Y]}requestPreSpanHook(Y,J,X,Z){let W=N34.SpanKind.CLIENT,$,G=!1,Q=Y.commandName,U=Y.commandInput?.TableName,z={};if(Z===void 0||Z&eE.SemconvStability.OLD)z[w4.ATTR_DB_SYSTEM]=w4.DB_SYSTEM_VALUE_DYNAMODB,z[w4.ATTR_DB_NAME]=U,z[w4.ATTR_DB_OPERATION]=Q;if(Z!==void 0&&Z&eE.SemconvStability.STABLE)z[YT.ATTR_DB_SYSTEM_NAME]=w4.DB_SYSTEM_NAME_VALUE_DYNAMODB,z[YT.ATTR_DB_NAMESPACE]=U,z[YT.ATTR_DB_OPERATION_NAME]=Q;if(J.dynamoDBStatementSerializer)try{let H=J.dynamoDBStatementSerializer(Q,Y.commandInput);if(typeof H==="string"){if(Z===void 0||Z&eE.SemconvStability.OLD)z[w4.ATTR_DB_STATEMENT]=H;if(Z!==void 0&&Z&eE.SemconvStability.STABLE)z[YT.ATTR_DB_QUERY_TEXT]=H}}catch(H){X.error("failed to sanitize DynamoDB statement",H)}if(Y.commandInput?.TableName)z[w4.ATTR_AWS_DYNAMODB_TABLE_NAMES]=[Y.commandInput.TableName];else if(Y.commandInput?.RequestItems)z[w4.ATTR_AWS_DYNAMODB_TABLE_NAMES]=Object.keys(Y.commandInput.RequestItems);if(Q==="CreateTable"||Q==="UpdateTable"){if(Y.commandInput?.ProvisionedThroughput)z[w4.ATTR_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY]=Y.commandInput.ProvisionedThroughput.ReadCapacityUnits,z[w4.ATTR_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY]=Y.commandInput.ProvisionedThroughput.WriteCapacityUnits}if(Q==="GetItem"||Q==="Scan"||Q==="Query"){if(Y.commandInput?.ConsistentRead)z[w4.ATTR_AWS_DYNAMODB_CONSISTENT_READ]=Y.commandInput.ConsistentRead}if(Q==="Query"||Q==="Scan"){if(Y.commandInput?.ProjectionExpression)z[w4.ATTR_AWS_DYNAMODB_PROJECTION]=Y.commandInput.ProjectionExpression}if(Q==="CreateTable"){if(Y.commandInput?.GlobalSecondaryIndexes)z[w4.ATTR_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES]=this.toArray(Y.commandInput.GlobalSecondaryIndexes).map((H)=>JSON.stringify(H));if(Y.commandInput?.LocalSecondaryIndexes)z[w4.ATTR_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES]=this.toArray(Y.commandInput.LocalSecondaryIndexes).map((H)=>JSON.stringify(H))}if(Q==="ListTables"||Q==="Query"||Q==="Scan"){if(Y.commandInput?.Limit)z[w4.ATTR_AWS_DYNAMODB_LIMIT]=Y.commandInput.Limit}if(Q==="ListTables"){if(Y.commandInput?.ExclusiveStartTableName)z[w4.ATTR_AWS_DYNAMODB_EXCLUSIVE_START_TABLE]=Y.commandInput.ExclusiveStartTableName}if(Q==="Query"){if(Y.commandInput?.ScanIndexForward)z[w4.ATTR_AWS_DYNAMODB_SCAN_FORWARD]=Y.commandInput.ScanIndexForward;if(Y.commandInput?.IndexName)z[w4.ATTR_AWS_DYNAMODB_INDEX_NAME]=Y.commandInput.IndexName;if(Y.commandInput?.Select)z[w4.ATTR_AWS_DYNAMODB_SELECT]=Y.commandInput.Select}if(Q==="Scan"){if(Y.commandInput?.Segment)z[w4.ATTR_AWS_DYNAMODB_SEGMENT]=Y.commandInput?.Segment;if(Y.commandInput?.TotalSegments)z[w4.ATTR_AWS_DYNAMODB_TOTAL_SEGMENTS]=Y.commandInput?.TotalSegments;if(Y.commandInput?.IndexName)z[w4.ATTR_AWS_DYNAMODB_INDEX_NAME]=Y.commandInput.IndexName;if(Y.commandInput?.Select)z[w4.ATTR_AWS_DYNAMODB_SELECT]=Y.commandInput.Select}if(Q==="UpdateTable"){if(Y.commandInput?.AttributeDefinitions)z[w4.ATTR_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS]=this.toArray(Y.commandInput.AttributeDefinitions).map((H)=>JSON.stringify(H));if(Y.commandInput?.GlobalSecondaryIndexUpdates)z[w4.ATTR_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES]=this.toArray(Y.commandInput.GlobalSecondaryIndexUpdates).map((H)=>JSON.stringify(H))}return{isIncoming:!1,spanAttributes:z,spanKind:W,spanName:$}}responseHook(Y,J,X,Z){if(Y.data?.ConsumedCapacity)J.setAttribute(w4.ATTR_AWS_DYNAMODB_CONSUMED_CAPACITY,S34(Y.data.ConsumedCapacity).map((W)=>JSON.stringify(W)));if(Y.data?.ItemCollectionMetrics)J.setAttribute(w4.ATTR_AWS_DYNAMODB_ITEM_COLLECTION_METRICS,this.toArray(Y.data.ItemCollectionMetrics).map((W)=>JSON.stringify(W)));if(Y.data?.TableNames)J.setAttribute(w4.ATTR_AWS_DYNAMODB_TABLE_COUNT,Y.data?.TableNames.length);if(Y.data?.Count)J.setAttribute(w4.ATTR_AWS_DYNAMODB_COUNT,Y.data?.Count);if(Y.data?.ScannedCount)J.setAttribute(w4.ATTR_AWS_DYNAMODB_SCANNED_COUNT,Y.data?.ScannedCount)}}_A1.DynamodbServiceExtension=kA1;function S34(Y){return Array.isArray(Y)?Y:[Y]}});var gA1=q((bA1)=>{Object.defineProperty(bA1,"__esModule",{value:!0});bA1.SecretsManagerServiceExtension=void 0;var C34=t(),vA1=UX();class hA1{requestPreSpanHook(Y,J){let X=Y.commandInput?.SecretId,Z=C34.SpanKind.CLIENT,W,$={};if(typeof X==="string"&&X.startsWith("arn:aws:secretsmanager:"))$[vA1.ATTR_AWS_SECRETSMANAGER_SECRET_ARN]=X;return{isIncoming:!1,spanAttributes:$,spanKind:Z,spanName:W}}responseHook(Y,J,X,Z){let W=Y.data?.ARN;if(W)J.setAttribute(vA1.ATTR_AWS_SECRETSMANAGER_SECRET_ARN,W)}}bA1.SecretsManagerServiceExtension=hA1});var yd=q((uA1)=>{Object.defineProperty(uA1,"__esModule",{value:!0});uA1.MESSAGING_OPERATION_VALUE_RECEIVE=uA1.MESSAGING_DESTINATION_KIND_VALUE_TOPIC=uA1.ATTR_MESSAGING_DESTINATION_KIND=uA1.ATTR_MESSAGING_DESTINATION=uA1.ATTR_FAAS_EXECUTION=void 0;uA1.ATTR_FAAS_EXECUTION="faas.execution";uA1.ATTR_MESSAGING_DESTINATION="messaging.destination";uA1.ATTR_MESSAGING_DESTINATION_KIND="messaging.destination_kind";uA1.MESSAGING_DESTINATION_KIND_VALUE_TOPIC="topic";uA1.MESSAGING_OPERATION_VALUE_RECEIVE="receive"});var nA1=q((lA1)=>{Object.defineProperty(lA1,"__esModule",{value:!0});lA1.SnsServiceExtension=void 0;var dA1=t(),gd=UX(),JT=yd(),f34=hd();class cA1{requestPreSpanHook(Y,J){let X=dA1.SpanKind.CLIENT,Z=`SNS ${Y.commandName}`,W={[gd.ATTR_MESSAGING_SYSTEM]:"aws.sns"};if(Y.commandName==="Publish"){X=dA1.SpanKind.PRODUCER,W[JT.ATTR_MESSAGING_DESTINATION_KIND]=JT.MESSAGING_DESTINATION_KIND_VALUE_TOPIC;let{TopicArn:G,TargetArn:Q,PhoneNumber:U}=Y.commandInput;W[JT.ATTR_MESSAGING_DESTINATION]=this.extractDestinationName(G,Q,U),W["messaging.destination.name"]=G||Q||U||"unknown",Z=`${U?"phone_number":W[JT.ATTR_MESSAGING_DESTINATION]} send`}let $=Y.commandInput?.TopicArn;if($)W[gd.ATTR_AWS_SNS_TOPIC_ARN]=$;return{isIncoming:!1,spanAttributes:W,spanKind:X,spanName:Z}}requestPostSpanHook(Y){if(Y.commandName==="Publish"){let J=Y.commandInput.MessageAttributes??{};if(J)Y.commandInput.MessageAttributes=(0,f34.injectPropagationContext)(J)}}responseHook(Y,J,X,Z){let W=Y.data?.TopicArn;if(W)J.setAttribute(gd.ATTR_AWS_SNS_TOPIC_ARN,W)}extractDestinationName(Y,J,X){if(Y||J){let Z=Y??J;try{return Z.substring(Z.lastIndexOf(":")+1)}catch(W){return Z}}else if(X)return X;else return"unknown"}}lA1.SnsServiceExtension=cA1});var sA1=q((rA1)=>{Object.defineProperty(rA1,"__esModule",{value:!0});rA1.StepFunctionsServiceExtension=void 0;var v34=t(),iA1=UX();class oA1{requestPreSpanHook(Y,J){let X=Y.commandInput?.stateMachineArn,Z=Y.commandInput?.activityArn,W=v34.SpanKind.CLIENT,$={};if(X)$[iA1.ATTR_AWS_STEP_FUNCTIONS_STATE_MACHINE_ARN]=X;if(Z)$[iA1.ATTR_AWS_STEP_FUNCTIONS_ACTIVITY_ARN]=Z;return{isIncoming:!1,spanAttributes:$,spanKind:W}}}rA1.StepFunctionsServiceExtension=oA1});var XP1=q((YP1)=>{Object.defineProperty(YP1,"__esModule",{value:!0});YP1.LambdaServiceExtension=void 0;var md=t(),ud=UX(),h34=yd(),tA1=t();class XT{static Invoke="Invoke"}class eA1{requestPreSpanHook(Y,J){let X=this.extractFunctionName(Y.commandInput),Z={},W;switch(Y.commandName){case"Invoke":if(Z={[ud.ATTR_FAAS_INVOKED_NAME]:X,[ud.ATTR_FAAS_INVOKED_PROVIDER]:"aws"},Y.region)Z[ud.ATTR_FAAS_INVOKED_REGION]=Y.region;W=`${X} ${XT.Invoke}`;break}return{isIncoming:!1,spanAttributes:Z,spanKind:md.SpanKind.CLIENT,spanName:W}}requestPostSpanHook=(Y)=>{switch(Y.commandName){case XT.Invoke:if(Y.commandInput)Y.commandInput.ClientContext=b34(Y.commandInput.ClientContext);break}};responseHook(Y,J,X,Z){switch(Y.request.commandName){case XT.Invoke:J.setAttribute(h34.ATTR_FAAS_EXECUTION,Y.requestId);break}}extractFunctionName=(Y)=>{return Y?.FunctionName}}YP1.LambdaServiceExtension=eA1;var b34=(Y)=>{try{let J={};tA1.propagation.inject(tA1.context.active(),J);let X=Y?JSON.parse(Buffer.from(Y,"base64").toString("utf8")):{},Z={...X,custom:{...X.custom,...J}},W=Buffer.from(JSON.stringify(Z)).toString("base64");if(W.length>3583)return md.diag.warn("lambda instrumentation: cannot set context propagation on lambda invoke parameters due to ClientContext length limitations."),Y;return W}catch(J){return md.diag.debug("lambda instrumentation: failed to set context propagation on ClientContext",J),Y}}});var GP1=q((WP1)=>{Object.defineProperty(WP1,"__esModule",{value:!0});WP1.S3ServiceExtension=void 0;var y34=t(),g34=uF();class ZP1{requestPreSpanHook(Y,J){let X=Y.commandInput?.Bucket,Z=y34.SpanKind.CLIENT,W={};if(X)W[g34.AttributeNames.AWS_S3_BUCKET]=X;return{isIncoming:!1,spanAttributes:W,spanKind:Z}}}WP1.S3ServiceExtension=ZP1});var HP1=q((UP1)=>{Object.defineProperty(UP1,"__esModule",{value:!0});UP1.KinesisServiceExtension=void 0;var u34=t(),m34=uF();class QP1{requestPreSpanHook(Y,J){let X=Y.commandInput?.StreamName,Z=u34.SpanKind.CLIENT,W={};if(X)W[m34.AttributeNames.AWS_KINESIS_STREAM_NAME]=X;return{isIncoming:!1,spanAttributes:W,spanKind:Z}}}UP1.KinesisServiceExtension=QP1});var qP1=q((KP1)=>{Object.defineProperty(KP1,"__esModule",{value:!0});KP1.ServicesExtensions=void 0;var d34=RA1(),c34=jA1(),l34=fA1(),p34=gA1(),n34=nA1(),i34=sA1(),o34=XP1(),r34=GP1(),a34=HP1();class OP1{services=new Map;constructor(){this.registerServices()}registerServices(){this.services.set("SecretsManager",new p34.SecretsManagerServiceExtension),this.services.set("SFN",new i34.StepFunctionsServiceExtension),this.services.set("SQS",new d34.SqsServiceExtension),this.services.set("SNS",new n34.SnsServiceExtension),this.services.set("DynamoDB",new l34.DynamodbServiceExtension),this.services.set("Lambda",new o34.LambdaServiceExtension),this.services.set("S3",new r34.S3ServiceExtension),this.services.set("Kinesis",new a34.KinesisServiceExtension),this.services.set("BedrockRuntime",new c34.BedrockRuntimeServiceExtension)}requestPreSpanHook(Y,J,X,Z){let W=this.services.get(Y.serviceName);if(!W)return{isIncoming:!1};return W.requestPreSpanHook(Y,J,X,Z)}requestPostSpanHook(Y){let J=this.services.get(Y.serviceName);if(!J?.requestPostSpanHook)return;return J.requestPostSpanHook(Y)}responseHook(Y,J,X,Z,W){return this.services.get(Y.request.serviceName)?.responseHook?.(Y,J,X,Z,W)}updateMetricInstruments(Y){for(let J of this.services.values())J.updateMetricInstruments?.(Y)}}KP1.ServicesExtensions=OP1});var FP1=q((dd)=>{Object.defineProperty(dd,"__esModule",{value:!0});dd.ServicesExtensions=void 0;var s34=qP1();Object.defineProperty(dd,"ServicesExtensions",{enumerable:!0,get:function(){return s34.ServicesExtensions}})});var DP1=q((VP1)=>{Object.defineProperty(VP1,"__esModule",{value:!0});VP1.PACKAGE_NAME=VP1.PACKAGE_VERSION=void 0;VP1.PACKAGE_VERSION="0.67.0";VP1.PACKAGE_NAME="@opentelemetry/instrumentation-aws-sdk"});var LP1=q((AP1)=>{Object.defineProperty(AP1,"__esModule",{value:!0});AP1.bindPromise=AP1.extractAttributesFromNormalizedRequest=AP1.normalizeV3Request=AP1.removeSuffixFromStringIfExists=void 0;var wP1=t(),cd=UX(),YZ4=uF(),JZ4=(Y,J)=>{let X=J.length;return Y?.slice(-X)===J?Y.slice(0,Y.length-X):Y};AP1.removeSuffixFromStringIfExists=JZ4;var XZ4=(Y,J,X,Z)=>{return{serviceName:Y?.replace(/\s+/g,""),commandName:AP1.removeSuffixFromStringIfExists(J,"Command"),commandInput:X,region:Z}};AP1.normalizeV3Request=XZ4;var ZZ4=(Y)=>{return{[cd.ATTR_RPC_SYSTEM]:"aws-api",[cd.ATTR_RPC_METHOD]:Y.commandName,[cd.ATTR_RPC_SERVICE]:Y.serviceName,[YZ4.AttributeNames.CLOUD_REGION]:Y.region}};AP1.extractAttributesFromNormalizedRequest=ZZ4;var WZ4=(Y,J,X=1)=>{let Z=Y.then;return Y.then=function(W,$){let G=wP1.context.bind(J,W),Q=wP1.context.bind(J,$),U=Z.call(this,G,Q);return X>1?AP1.bindPromise(U,J,X-1):U},Y};AP1.bindPromise=WZ4});var NP1=q((TP1)=>{Object.defineProperty(TP1,"__esModule",{value:!0});TP1.propwrap=void 0;var{defineProperty:MP1,getOwnPropertyDescriptor:EP1}=Object,QZ4=Object.prototype.hasOwnProperty,UZ4=Object.getOwnPropertyNames,zZ4=(Y,J,X,Z)=>{if(J&&typeof J==="object"||typeof J==="function"){for(let W of UZ4(J))if(!QZ4.call(Y,W)&&W!==X)MP1(Y,W,{get:()=>J[W],enumerable:!(Z=EP1(J,W))||Z.enumerable})}return Y},HZ4=(Y,J,X)=>{let Z=J.split("."),W=[Y],$=Y,G,Q;for(let U=0;U<Z.length;U++)if(G=Z[U],Q=$[G],!Q)throw TypeError(`cannot wrap "${J}": "<obj>.${Z.slice(0,U).join(".")}" is ${typeof Q}`);else if(U<Z.length-1){if(typeof Q!=="object")throw TypeError(`cannot wrap "${J}": "<obj>.${Z.slice(0,U).join(".")}" is not an Object`);$=Q,W.push($)}for(let U=Z.length-1;U>=0;U--){if(G=Z[U],$=W[U],U===Z.length-1){let O=$[G];Q=X(O)}else Q=W[U+1];let z=EP1($,G),H=MP1({},G,{value:Q,enumerable:!z||z.enumerable});zZ4(H,$,G),W[U]=H}return W[0]};TP1.propwrap=HZ4});var vP1=q((xP1)=>{Object.defineProperty(xP1,"__esModule",{value:!0});xP1.AwsInstrumentation=void 0;var gY=t(),SP1=k1(),dF=uF(),OZ4=FP1(),CP1=DP1(),V5=t1(),ZT=LP1(),KZ4=NP1(),jP1=UX(),kP1=X0(),_P1=Symbol("opentelemetry.instrumentation.aws-sdk.client.config");class TH extends V5.InstrumentationBase{static component="aws-sdk";_httpSemconvStability;_dbSemconvStability;constructor(Y={}){super(CP1.PACKAGE_NAME,CP1.PACKAGE_VERSION,Y);this._httpSemconvStability=(0,V5.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN),this._dbSemconvStability=(0,V5.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}init(){let Y=new V5.InstrumentationNodeModuleFile("@aws-sdk/middleware-stack/dist/cjs/MiddlewareStack.js",[">=3.1.0 <3.35.0"],this.patchV3ConstructStack.bind(this),this.unpatchV3ConstructStack.bind(this)),J=new V5.InstrumentationNodeModuleFile("@aws-sdk/middleware-stack/dist-cjs/MiddlewareStack.js",[">=3.35.0"],this.patchV3ConstructStack.bind(this),this.unpatchV3ConstructStack.bind(this)),X=new V5.InstrumentationNodeModuleDefinition("@aws-sdk/middleware-stack",["^3.1.0"],void 0,void 0,[Y,J]),Z=this,W=new V5.InstrumentationNodeModuleDefinition("@smithy/middleware-stack",[">=2.0.0"],(Q,U)=>{return(0,KZ4.propwrap)(Q,"constructStack",(H)=>{return Z._diag.debug("propwrapping aws-sdk v3 constructStack"),Z._getV3ConstructStackPatch(U,H)})}),$=new V5.InstrumentationNodeModuleDefinition("@aws-sdk/smithy-client",["^3.1.0"],this.patchV3SmithyClient.bind(this),this.unpatchV3SmithyClient.bind(this)),G=new V5.InstrumentationNodeModuleDefinition("@smithy/smithy-client",[">=1.0.3"],this.patchV3SmithyClient.bind(this),this.unpatchV3SmithyClient.bind(this));return[X,W,$,G]}patchV3ConstructStack(Y,J){return this._wrap(Y,"constructStack",this._getV3ConstructStackPatch.bind(this,J)),Y}unpatchV3ConstructStack(Y){return this._unwrap(Y,"constructStack"),Y}patchV3SmithyClient(Y){return this._wrap(Y.Client.prototype,"send",this._getV3SmithyClientSendPatch.bind(this)),Y}unpatchV3SmithyClient(Y){return this._unwrap(Y.Client.prototype,"send"),Y}_startAwsV3Span(Y,J){let X=J.spanName??`${Y.serviceName}.${Y.commandName}`;return this.tracer.startSpan(X,{kind:J.spanKind??gY.SpanKind.CLIENT,attributes:{...(0,ZT.extractAttributesFromNormalizedRequest)(Y),...J.spanAttributes}})}_callUserPreRequestHook(Y,J,X){let{preRequestHook:Z}=this.getConfig();if(Z){let W={moduleVersion:X,request:J};(0,V5.safeExecuteInTheMiddle)(()=>Z(Y,W),($)=>{if($)gY.diag.error(`${TH.component} instrumentation: preRequestHook error`,$)},!0)}}_callUserResponseHook(Y,J){let{responseHook:X}=this.getConfig();if(!X)return;let Z={response:J};(0,V5.safeExecuteInTheMiddle)(()=>X(Y,Z),(W)=>{if(W)gY.diag.error(`${TH.component} instrumentation: responseHook error`,W)},!0)}_callUserExceptionResponseHook(Y,J,X){let{exceptionHook:Z}=this.getConfig();if(!Z)return;let W={request:J};(0,V5.safeExecuteInTheMiddle)(()=>Z(Y,W,X),($)=>{if($)gY.diag.error(`${TH.component} instrumentation: exceptionHook error`,$)},!0)}_getV3ConstructStackPatch(Y,J){let X=this;return function(...W){let $=J.apply(this,W);return X.patchV3MiddlewareStack(Y,$),$}}_getV3SmithyClientSendPatch(Y){return function(X,...Z){return X[_P1]=this.config,Y.apply(this,[X,...Z])}}patchV3MiddlewareStack(Y,J){if(!(0,V5.isWrapped)(J.resolve))this._wrap(J,"resolve",this._getV3MiddlewareStackResolvePatch.bind(this,Y));this._wrap(J,"clone",this._getV3MiddlewareStackClonePatch.bind(this,Y)),this._wrap(J,"concat",this._getV3MiddlewareStackClonePatch.bind(this,Y))}_getV3MiddlewareStackClonePatch(Y,J){let X=this;return function(...Z){let W=J.apply(this,Z);return X.patchV3MiddlewareStack(Y,W),W}}_getV3MiddlewareStackResolvePatch(Y,J){let X=this;return function(Z,W){let $=J.call(this,Z,W);return function(Q){let U=Q[_P1],z=U?.region?.(),H=U?.serviceId??(0,ZT.removeSuffixFromStringIfExists)(W.clientName||"AWS","Client"),O=W.commandName??Q.constructor?.name,K=(0,ZT.normalizeV3Request)(H,O,Q.input,void 0),B=X.servicesExtensions.requestPreSpanHook(K,X.getConfig(),X._diag,X._dbSemconvStability),F=(0,SP1.hrTime)(),V=X._startAwsV3Span(K,B),I=gY.trace.setSpan(gY.context.active(),V),D=new Promise((L,A)=>{Promise.resolve(z).then((P)=>{K.region=P,V.setAttribute(dF.AttributeNames.CLOUD_REGION,P)}).catch((P)=>{gY.diag.debug(`${TH.component} instrumentation: failed to extract region from async function`,P)}).finally(()=>{X._callUserPreRequestHook(V,K,Y),gY.context.with(I,()=>{return X.servicesExtensions.requestPostSpanHook(K),X._callOriginalFunction(()=>$.call(this,Q))}).then((N)=>{let v=N.output?.$metadata?.requestId;if(v)V.setAttribute(dF.AttributeNames.AWS_REQUEST_ID,v);let j=N.output?.$metadata?.httpStatusCode;if(j){if(X._httpSemconvStability&V5.SemconvStability.OLD)V.setAttribute(jP1.ATTR_HTTP_STATUS_CODE,j);if(X._httpSemconvStability&V5.SemconvStability.STABLE)V.setAttribute(kP1.ATTR_HTTP_RESPONSE_STATUS_CODE,j)}let M=N.output?.$metadata?.extendedRequestId;if(M)V.setAttribute(dF.AttributeNames.AWS_REQUEST_EXTENDED_ID,M);let b={data:N.output,request:K,requestId:v},k=X.servicesExtensions.responseHook(b,V,X.tracer,X.getConfig(),F);if(k)N.output=k,b.data=k;return X._callUserResponseHook(V,b),N}).catch((N)=>{let v=N?.RequestId;if(v)V.setAttribute(dF.AttributeNames.AWS_REQUEST_ID,v);let j=N?.$metadata?.httpStatusCode;if(j){if(X._httpSemconvStability&V5.SemconvStability.OLD)V.setAttribute(jP1.ATTR_HTTP_STATUS_CODE,j);if(X._httpSemconvStability&V5.SemconvStability.STABLE)V.setAttribute(kP1.ATTR_HTTP_RESPONSE_STATUS_CODE,j)}let M=N?.extendedRequestId;if(M)V.setAttribute(dF.AttributeNames.AWS_REQUEST_EXTENDED_ID,M);throw V.setStatus({code:gY.SpanStatusCode.ERROR,message:N.message}),V.recordException(N),X._callUserExceptionResponseHook(V,K,N),N}).finally(()=>{if(!B.isStream)V.end()}).then((N)=>{L(N)}).catch((N)=>A(N))})});return B.isIncoming?(0,ZT.bindPromise)(D,I,2):D}}}_callOriginalFunction(Y){if(this.getConfig().suppressInternalInstrumentation)return gY.context.with((0,SP1.suppressTracing)(gY.context.active()),Y);else return Y()}_updateMetricInstruments(){if(!this.servicesExtensions)this.servicesExtensions=new OZ4.ServicesExtensions;this.servicesExtensions.updateMetricInstruments(this.meter)}}xP1.AwsInstrumentation=TH});var hP1=q((pd)=>{Object.defineProperty(pd,"__esModule",{value:!0});pd.AwsInstrumentation=void 0;var BZ4=vP1();Object.defineProperty(pd,"AwsInstrumentation",{enumerable:!0,get:function(){return BZ4.AwsInstrumentation}})});var nd=q((bP1)=>{Object.defineProperty(bP1,"__esModule",{value:!0});bP1.PACKAGE_NAME=bP1.PACKAGE_VERSION=void 0;bP1.PACKAGE_VERSION="0.57.0";bP1.PACKAGE_NAME="@opentelemetry/instrumentation-bunyan"});var od=q((rP1)=>{Object.defineProperty(rP1,"__esModule",{value:!0});rP1.OpenTelemetryBunyanStream=void 0;var n4=F5(),uP1=nd(),VZ4=uP1.PACKAGE_NAME,IZ4=uP1.PACKAGE_VERSION,mP1=10,dP1=20,cP1=30,lP1=40,pP1=50,nP1=60,gP1={trace:mP1,debug:dP1,info:cP1,warn:lP1,error:pP1,fatal:nP1},iP1={};Object.keys(gP1).forEach(function(Y){iP1[gP1[Y]]=Y});var DZ4={[mP1]:n4.SeverityNumber.TRACE,[dP1]:n4.SeverityNumber.DEBUG,[cP1]:n4.SeverityNumber.INFO,[lP1]:n4.SeverityNumber.WARN,[pP1]:n4.SeverityNumber.ERROR,[nP1]:n4.SeverityNumber.FATAL},id=[n4.SeverityNumber.TRACE2,n4.SeverityNumber.TRACE3,n4.SeverityNumber.TRACE4,n4.SeverityNumber.DEBUG2,n4.SeverityNumber.DEBUG3,n4.SeverityNumber.DEBUG4,n4.SeverityNumber.INFO2,n4.SeverityNumber.INFO3,n4.SeverityNumber.INFO4,n4.SeverityNumber.WARN2,n4.SeverityNumber.WARN3,n4.SeverityNumber.WARN4,n4.SeverityNumber.ERROR2,n4.SeverityNumber.ERROR3,n4.SeverityNumber.ERROR4,n4.SeverityNumber.FATAL2,n4.SeverityNumber.FATAL3,n4.SeverityNumber.FATAL4];function wZ4(Y){let J=DZ4[Y];if(J!==void 0)return J;let X=(Y-10)/60,Z=Math.floor(X*id.length),W=Math.min(id.length-1,Math.max(0,Z));return id[W]}class oP1{_otelLogger;constructor(){this._otelLogger=n4.logs.getLogger(VZ4,IZ4)}write(Y){let{time:J,level:X,msg:Z,v:W,hostname:$,pid:G,trace_id:Q,span_id:U,trace_flags:z,...H}=Y,O=void 0;if(typeof J.getTime==="function")O=J.getTime();else H.time=J;let K={timestamp:O,observedTimestamp:O,severityNumber:wZ4(X),severityText:iP1[X],body:Z,attributes:H};this._otelLogger.emit(K)}}rP1.OpenTelemetryBunyanStream=oP1});var XL1=q((YL1)=>{Object.defineProperty(YL1,"__esModule",{value:!0});YL1.BunyanInstrumentation=void 0;var AZ4=C("util"),rd=t(),ad=t1(),sP1=nd(),PZ4=od(),RH=F5(),tP1={disableLogSending:!1,disableLogCorrelation:!1};class eP1 extends ad.InstrumentationBase{constructor(Y={}){super(sP1.PACKAGE_NAME,sP1.PACKAGE_VERSION,{...tP1,...Y})}init(){return[new ad.InstrumentationNodeModuleDefinition("bunyan",[">=1.0.0 <2"],(Y)=>{let J=this,X=Y[Symbol.toStringTag]==="Module"?Y.default:Y;this._wrap(X.prototype,"_emit",this._getPatchedEmit());function Z(...$){let G,Q=void 0;if(this instanceof Z)G=this,X.apply(this,$);else G=X(...$),Q=G;if($[1]===void 0)J._addStream(G);return Q}(0,AZ4.inherits)(Z,X);let W=Object.assign(Z,X);return this._wrap(W,"createLogger",this._getPatchedCreateLogger()),W})]}setConfig(Y={}){super.setConfig({...tP1,...Y})}_getPatchedEmit(){return(Y)=>{let J=this;return function(...Z){let W=J.getConfig();if(!J.isEnabled()||W.disableLogCorrelation)return Y.apply(this,Z);let $=rd.trace.getSpan(rd.context.active());if(!$)return Y.apply(this,Z);let G=$.spanContext();if(!(0,rd.isSpanContextValid)(G))return Y.apply(this,Z);let Q=Z[0];return Q.trace_id=G.traceId,Q.span_id=G.spanId,Q.trace_flags=`0${G.traceFlags.toString(16)}`,J._callHook($,Q),Y.apply(this,Z)}}}_getPatchedCreateLogger(){return(Y)=>{let J=this;return function(...Z){let W=Y(...Z);return J._addStream(W),W}}}_addStream(Y){let J=this.getConfig();if(!this.isEnabled()||J.disableLogSending)return;this._diag.debug("Adding OpenTelemetryBunyanStream to logger");let X=Y.level();if(J.logSeverity)X=LZ4(J.logSeverity)||X;Y.addStream({type:"raw",stream:new PZ4.OpenTelemetryBunyanStream,level:X})}_callHook(Y,J){let{logHook:X}=this.getConfig();if(typeof X!=="function")return;(0,ad.safeExecuteInTheMiddle)(()=>X(Y,J),(Z)=>{if(Z)this._diag.error("error calling logHook",Z)},!0)}}YL1.BunyanInstrumentation=eP1;function LZ4(Y){if(Y>=RH.SeverityNumber.FATAL)return"fatal";else if(Y>=RH.SeverityNumber.ERROR)return"error";else if(Y>=RH.SeverityNumber.WARN)return"warn";else if(Y>=RH.SeverityNumber.INFO)return"info";else if(Y>=RH.SeverityNumber.DEBUG)return"debug";else if(Y>=RH.SeverityNumber.TRACE)return"trace";return}});var ZL1=q((WT)=>{Object.defineProperty(WT,"__esModule",{value:!0});WT.OpenTelemetryBunyanStream=WT.BunyanInstrumentation=void 0;var MZ4=XL1();Object.defineProperty(WT,"BunyanInstrumentation",{enumerable:!0,get:function(){return MZ4.BunyanInstrumentation}});var EZ4=od();Object.defineProperty(WT,"OpenTelemetryBunyanStream",{enumerable:!0,get:function(){return EZ4.OpenTelemetryBunyanStream}})});var GL1=q((WL1)=>{Object.defineProperty(WL1,"__esModule",{value:!0});WL1.DB_SYSTEM_NAME_VALUE_CASSANDRA=WL1.DB_SYSTEM_VALUE_CASSANDRA=WL1.ATTR_NET_PEER_PORT=WL1.ATTR_NET_PEER_NAME=WL1.ATTR_DB_USER=WL1.ATTR_DB_SYSTEM=WL1.ATTR_DB_STATEMENT=WL1.ATTR_DB_NAME=void 0;WL1.ATTR_DB_NAME="db.name";WL1.ATTR_DB_STATEMENT="db.statement";WL1.ATTR_DB_SYSTEM="db.system";WL1.ATTR_DB_USER="db.user";WL1.ATTR_NET_PEER_NAME="net.peer.name";WL1.ATTR_NET_PEER_PORT="net.peer.port";WL1.DB_SYSTEM_VALUE_CASSANDRA="cassandra";WL1.DB_SYSTEM_NAME_VALUE_CASSANDRA="cassandra"});var zL1=q((QL1)=>{Object.defineProperty(QL1,"__esModule",{value:!0});QL1.PACKAGE_NAME=QL1.PACKAGE_VERSION=void 0;QL1.PACKAGE_VERSION="0.57.0";QL1.PACKAGE_NAME="@opentelemetry/instrumentation-cassandra-driver"});var VL1=q((qL1)=>{Object.defineProperty(qL1,"__esModule",{value:!0});qL1.CassandraDriverInstrumentation=void 0;var P8=t(),i4=t1(),qW=GL1(),cF=X0(),HL1=zL1(),OL1=[">=4.4.0 <5"];class BL1 extends i4.InstrumentationBase{_netSemconvStability;_dbSemconvStability;constructor(Y={}){super(HL1.PACKAGE_NAME,HL1.PACKAGE_VERSION,Y);this._setSemconvStabilityFromEnv()}_setSemconvStabilityFromEnv(){this._netSemconvStability=(0,i4.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN),this._dbSemconvStability=(0,i4.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}init(){return new i4.InstrumentationNodeModuleDefinition("cassandra-driver",OL1,(Y)=>{let J=Y.Client.prototype;if((0,i4.isWrapped)(J._execute))this._unwrap(J,"_execute");if((0,i4.isWrapped)(J.batch))this._unwrap(J,"batch");if((0,i4.isWrapped)(J.stream))this._unwrap(J,"stream");return this._wrap(J,"_execute",this._getPatchedExecute()),this._wrap(J,"batch",this._getPatchedBatch()),this._wrap(J,"stream",this._getPatchedStream()),Y},(Y)=>{let J=Y.Client.prototype;if((0,i4.isWrapped)(J._execute))this._unwrap(J,"_execute");if((0,i4.isWrapped)(J.batch))this._unwrap(J,"batch");if((0,i4.isWrapped)(J.stream))this._unwrap(J,"stream")},[new i4.InstrumentationNodeModuleFile("cassandra-driver/lib/request-execution.js",OL1,(Y)=>{if((0,i4.isWrapped)(Y.prototype._sendOnConnection))this._unwrap(Y.prototype,"_sendOnConnection");return this._wrap(Y.prototype,"_sendOnConnection",this._getPatchedSendOnConnection()),Y},(Y)=>{if(Y===void 0)return;this._unwrap(Y.prototype,"_sendOnConnection")})])}_getMaxQueryLength(){return this.getConfig().maxQueryLength??65536}_shouldIncludeDbStatement(){return this.getConfig().enhancedDatabaseReporting??!1}_getPatchedExecute(){return(Y)=>{let J=this;return function(...Z){let W=J.startSpan({op:"execute",query:Z[0]},this),$=P8.trace.setSpan(P8.context.active(),W),G=(0,i4.safeExecuteInTheMiddle)(()=>{return P8.context.with($,()=>{return Y.apply(this,Z)})},(U)=>{if(U)sd(W,U)}),Q=KL1(W,G,(U,z)=>{J._callResponseHook(U,z)});return P8.context.bind($,Q)}}}_getPatchedSendOnConnection(){return(Y)=>{let J=this;return function(...Z){let W=P8.trace.getSpan(P8.context.active()),$=this._connection;if(W!==void 0&&$!==void 0){let G=parseInt($.port,10);if(J._netSemconvStability&i4.SemconvStability.OLD){if(W.setAttribute(qW.ATTR_NET_PEER_NAME,$.address),!isNaN(G))W.setAttribute(qW.ATTR_NET_PEER_PORT,G)}if(J._netSemconvStability&i4.SemconvStability.STABLE){if(W.setAttribute(cF.ATTR_SERVER_ADDRESS,$.address),!isNaN(G))W.setAttribute(cF.ATTR_SERVER_PORT,G)}}return Y.apply(this,Z)}}}_getPatchedBatch(){return(Y)=>{let J=this;return function(...Z){let W=Array.isArray(Z[0])?Z[0]:[],$=J.startSpan({op:"batch",query:fZ4(W)},this),G=P8.trace.setSpan(P8.context.active(),$);if(typeof Z[Z.length-1]==="function"){let z=Z[Z.length-1],H=function(...O){let K=O[0];if(K)$.setStatus({code:P8.SpanStatusCode.ERROR,message:K.message}),$.recordException(K);return $.end(),z.apply(this,O)};return Z[Z.length-1]=H,P8.context.with(G,()=>{return Y.apply(this,Z)})}let Q=(0,i4.safeExecuteInTheMiddle)(()=>{return P8.context.with(G,()=>{return Y.apply(this,Z)})},(z)=>{if(z)sd($,z)}),U=KL1($,Q);return P8.context.bind(G,U)}}}_getPatchedStream(){return(Y)=>{let J=this;return function(...Z){let W=J.startSpan({op:"stream"},this),$=Z[3],G=(U)=>{if(U)W.setStatus({code:P8.SpanStatusCode.ERROR,message:U.message}),W.recordException(U);W.end()};if($===void 0)Z[3]=G;else if(typeof $==="function"){let U=function(z){return G(z),$.call(this,z)};Z[3]=U}let Q=P8.trace.setSpan(P8.context.active(),W);return(0,i4.safeExecuteInTheMiddle)(()=>{return P8.context.with(Q,()=>{return Y.apply(this,Z)})},(U)=>{if(U)sd(W,U)})}}}startSpan({op:Y,query:J},X){let Z={};if(this._dbSemconvStability&i4.SemconvStability.OLD)Z[qW.ATTR_DB_SYSTEM]=qW.DB_SYSTEM_VALUE_CASSANDRA;if(this._dbSemconvStability&i4.SemconvStability.STABLE)Z[cF.ATTR_DB_SYSTEM_NAME]=qW.DB_SYSTEM_NAME_VALUE_CASSANDRA;if(this._shouldIncludeDbStatement()&&J!==void 0){let $=vZ4(J,this._getMaxQueryLength());if(this._dbSemconvStability&i4.SemconvStability.OLD)Z[qW.ATTR_DB_STATEMENT]=$;if(this._dbSemconvStability&i4.SemconvStability.STABLE)Z[cF.ATTR_DB_QUERY_TEXT]=$}let W=X.options?.credentials?.username;if(W&&this._dbSemconvStability&i4.SemconvStability.OLD)Z[qW.ATTR_DB_USER]=W;if(X.keyspace){if(this._dbSemconvStability&i4.SemconvStability.OLD)Z[qW.ATTR_DB_NAME]=X.keyspace;if(this._dbSemconvStability&i4.SemconvStability.STABLE)Z[cF.ATTR_DB_NAMESPACE]=X.keyspace}return this.tracer.startSpan(`cassandra-driver.${Y}`,{kind:P8.SpanKind.CLIENT,attributes:Z})}_callResponseHook(Y,J){let{responseHook:X}=this.getConfig();if(!X)return;(0,i4.safeExecuteInTheMiddle)(()=>X(Y,{response:J}),(Z)=>{if(Z)this._diag.error("responseHook error",Z)},!0)}}qL1.CassandraDriverInstrumentation=BL1;function sd(Y,J){Y.setStatus({code:P8.SpanStatusCode.ERROR,message:J.message}),Y.recordException(J),Y.end()}function fZ4(Y){return Y.map((J)=>typeof J==="string"?J:J.query).join(`
`)}function KL1(Y,J,X){return J.then((Z)=>{return new Promise((W)=>{if(X)X(Y,Z);Y.end(),W(Z)})}).catch((Z)=>{return new Promise((W,$)=>{Y.setStatus({code:P8.SpanStatusCode.ERROR,message:Z.message}),Y.recordException(Z),Y.end(),$(Z)})})}function vZ4(Y,J){return String(Y).substring(0,J)}});var IL1=q((td)=>{Object.defineProperty(td,"__esModule",{value:!0});td.CassandraDriverInstrumentation=void 0;var hZ4=VL1();Object.defineProperty(td,"CassandraDriverInstrumentation",{enumerable:!0,get:function(){return hZ4.CassandraDriverInstrumentation}})});var Yc=q((AL1)=>{Object.defineProperty(AL1,"__esModule",{value:!0});AL1.ConnectNames=AL1.ConnectTypes=AL1.AttributeNames=void 0;var yZ4;(function(Y){Y.CONNECT_TYPE="connect.type",Y.CONNECT_NAME="connect.name"})(yZ4=AL1.AttributeNames||(AL1.AttributeNames={}));var gZ4;(function(Y){Y.MIDDLEWARE="middleware",Y.REQUEST_HANDLER="request_handler"})(gZ4=AL1.ConnectTypes||(AL1.ConnectTypes={}));var uZ4;(function(Y){Y.MIDDLEWARE="middleware",Y.REQUEST_HANDLER="request handler"})(uZ4=AL1.ConnectNames||(AL1.ConnectNames={}))});var ML1=q((PL1)=>{Object.defineProperty(PL1,"__esModule",{value:!0});PL1.PACKAGE_NAME=PL1.PACKAGE_VERSION=void 0;PL1.PACKAGE_VERSION="0.55.0";PL1.PACKAGE_NAME="@opentelemetry/instrumentation-connect"});var RL1=q((EL1)=>{Object.defineProperty(EL1,"__esModule",{value:!0});EL1._LAYERS_STORE_PROPERTY=void 0;EL1._LAYERS_STORE_PROPERTY=Symbol("opentelemetry.instrumentation-connect.request-route-stack")});var CL1=q((NL1)=>{Object.defineProperty(NL1,"__esModule",{value:!0});NL1.generateRoute=NL1.replaceCurrentStackRoute=NL1.addNewStackLayer=void 0;var dZ4=t(),FW=RL1(),cZ4=(Y)=>{if(Array.isArray(Y[FW._LAYERS_STORE_PROPERTY])===!1)Object.defineProperty(Y,FW._LAYERS_STORE_PROPERTY,{enumerable:!1,value:[]});Y[FW._LAYERS_STORE_PROPERTY].push("/");let J=Y[FW._LAYERS_STORE_PROPERTY].length;return()=>{if(J===Y[FW._LAYERS_STORE_PROPERTY].length)Y[FW._LAYERS_STORE_PROPERTY].pop();else dZ4.diag.warn("Connect: Trying to pop the stack multiple time")}};NL1.addNewStackLayer=cZ4;var lZ4=(Y,J)=>{if(J)Y[FW._LAYERS_STORE_PROPERTY].splice(-1,1,J)};NL1.replaceCurrentStackRoute=lZ4;var pZ4=(Y)=>{return Y[FW._LAYERS_STORE_PROPERTY].reduce((J,X)=>J.replace(/\/+$/,"")+X)};NL1.generateRoute=pZ4});var vL1=q((xL1)=>{Object.defineProperty(xL1,"__esModule",{value:!0});xL1.ConnectInstrumentation=xL1.ANONYMOUS_NAME=void 0;var oZ4=t(),jL1=k1(),NH=Yc(),kL1=ML1(),$T=t1(),rZ4=X0(),Jc=CL1();xL1.ANONYMOUS_NAME="anonymous";class _L1 extends $T.InstrumentationBase{constructor(Y={}){super(kL1.PACKAGE_NAME,kL1.PACKAGE_VERSION,Y)}init(){return[new $T.InstrumentationNodeModuleDefinition("connect",[">=3.0.0 <4"],(Y)=>{return this._patchConstructor(Y)})]}_patchApp(Y){if(!(0,$T.isWrapped)(Y.use))this._wrap(Y,"use",this._patchUse.bind(this));if(!(0,$T.isWrapped)(Y.handle))this._wrap(Y,"handle",this._patchHandle.bind(this))}_patchConstructor(Y){let J=this;return function(...X){let Z=Y.apply(this,X);return J._patchApp(Z),Z}}_patchNext(Y,J){return function(Z){let W=Y.apply(this,[Z]);return J(),W}}_startSpan(Y,J){let X,Z,W;if(Y)X=NH.ConnectTypes.REQUEST_HANDLER,W=NH.ConnectNames.REQUEST_HANDLER,Z=Y;else X=NH.ConnectTypes.MIDDLEWARE,W=NH.ConnectNames.MIDDLEWARE,Z=J.name||xL1.ANONYMOUS_NAME;let $=`${W} - ${Z}`,G={attributes:{[rZ4.ATTR_HTTP_ROUTE]:Y.length>0?Y:"/",[NH.AttributeNames.CONNECT_TYPE]:X,[NH.AttributeNames.CONNECT_NAME]:Z}};return this.tracer.startSpan($,G)}_patchMiddleware(Y,J){let X=this,Z=J.length===4;function W(){if(!X.isEnabled())return J.apply(this,arguments);let[$,G,Q]=Z?[1,2,3]:[0,1,2],U=arguments[$],z=arguments[G],H=arguments[Q];(0,Jc.replaceCurrentStackRoute)(U,Y);let O=(0,jL1.getRPCMetadata)(oZ4.context.active());if(Y&&O?.type===jL1.RPCType.HTTP)O.route=(0,Jc.generateRoute)(U);let K="";if(Y)K=`request handler - ${Y}`;else K=`middleware - ${J.name||xL1.ANONYMOUS_NAME}`;let B=X._startSpan(Y,J);X._diag.debug("start span",K);let F=!1;function V(){if(!F)F=!0,X._diag.debug(`finishing span ${B.name}`),B.end();else X._diag.debug(`span ${B.name} - already finished`);z.removeListener("close",V)}return z.addListener("close",V),arguments[Q]=X._patchNext(H,V),J.apply(this,arguments)}return Object.defineProperty(W,"length",{value:J.length,writable:!1,configurable:!0}),W}_patchUse(Y){let J=this;return function(...X){let Z=X[X.length-1],W=X[X.length-2]||"";return X[X.length-1]=J._patchMiddleware(W,Z),Y.apply(this,X)}}_patchHandle(Y){let J=this;return function(){let[X,Z]=[0,2],W=arguments[X],$=arguments[Z],G=(0,Jc.addNewStackLayer)(W);if(typeof $==="function")arguments[Z]=J._patchOut($,G);return Y.apply(this,arguments)}}_patchOut(Y,J){return function(...Z){return J(),Reflect.apply(Y,this,Z)}}}xL1.ConnectInstrumentation=_L1});var bL1=q((aG)=>{Object.defineProperty(aG,"__esModule",{value:!0});aG.ConnectTypes=aG.ConnectNames=aG.AttributeNames=aG.ANONYMOUS_NAME=aG.ConnectInstrumentation=void 0;var hL1=vL1();Object.defineProperty(aG,"ConnectInstrumentation",{enumerable:!0,get:function(){return hL1.ConnectInstrumentation}});Object.defineProperty(aG,"ANONYMOUS_NAME",{enumerable:!0,get:function(){return hL1.ANONYMOUS_NAME}});var Zc=Yc();Object.defineProperty(aG,"AttributeNames",{enumerable:!0,get:function(){return Zc.AttributeNames}});Object.defineProperty(aG,"ConnectNames",{enumerable:!0,get:function(){return Zc.ConnectNames}});Object.defineProperty(aG,"ConnectTypes",{enumerable:!0,get:function(){return Zc.ConnectTypes}})});var $c=q((yL1)=>{Object.defineProperty(yL1,"__esModule",{value:!0});yL1.AttributeNames=void 0;var sZ4;(function(Y){Y.FEATURE_TAGS="cucumber.feature.tags",Y.FEATURE_LANGUAGE="cucumber.feature.language",Y.FEATURE_DESCRIPTION="cucumber.feature.description",Y.SCENARIO_TAGS="cucumber.scenario.tags",Y.SCENARIO_DESCRIPTION="cucumber.scenario.description",Y.STEP_TYPE="cucumber.step.type",Y.STEP_STATUS="cucumber.step.status",Y.STEP_ARGS="cucumber.step.args"})(sZ4=yL1.AttributeNames||(yL1.AttributeNames={}))});var mL1=q((gL1)=>{Object.defineProperty(gL1,"__esModule",{value:!0});gL1.PACKAGE_NAME=gL1.PACKAGE_VERSION=void 0;gL1.PACKAGE_VERSION="0.27.0";gL1.PACKAGE_NAME="@opentelemetry/instrumentation-cucumber"});var oL1=q((nL1)=>{Object.defineProperty(nL1,"__esModule",{value:!0});nL1.CucumberInstrumentation=void 0;var sG=t(),SH=t1(),Gc=X0(),VW=$c(),dL1=mL1(),cL1=["Before","BeforeStep","AfterStep","After"],lL1=["Given","When","Then"],pL1=[">=8.0.0 <13"];class zX extends SH.InstrumentationBase{module;constructor(Y={}){super(dL1.PACKAGE_NAME,dL1.PACKAGE_VERSION,Y)}init(){return[new SH.InstrumentationNodeModuleDefinition("@cucumber/cucumber",pL1,(Y)=>{return this.module=Y,lL1.forEach((J)=>{if((0,SH.isWrapped)(Y[J]))this._unwrap(Y,J);this._wrap(Y,J,this._getStepPatch(J))}),cL1.forEach((J)=>{if((0,SH.isWrapped)(Y[J]))this._unwrap(Y,J);this._wrap(Y,J,this._getHookPatch(J))}),Y},(Y)=>{if(Y===void 0)return;[...cL1,...lL1].forEach((J)=>{this._unwrap(Y,J)})},[new SH.InstrumentationNodeModuleFile("@cucumber/cucumber/lib/runtime/test_case_runner.js",pL1,(Y)=>{if((0,SH.isWrapped)(Y.default.prototype.run)){if(this._unwrap(Y.default.prototype,"run"),this._unwrap(Y.default.prototype,"runStep"),"runAttempt"in Y.default.prototype)this._unwrap(Y.default.prototype,"runAttempt")}if(this._wrap(Y.default.prototype,"run",this._getTestCaseRunPatch()),this._wrap(Y.default.prototype,"runStep",this._getTestCaseRunStepPatch()),"runAttempt"in Y.default.prototype)this._wrap(Y.default.prototype,"runAttempt",this._getTestCaseRunAttemptPatch());return Y},(Y)=>{if(Y===void 0)return;if(this._unwrap(Y.default.prototype,"run"),this._unwrap(Y.default.prototype,"runStep"),"runAttempt"in Y.default.prototype)this._unwrap(Y.default.prototype,"runAttempt")})])]}static mapTags(Y){return Y.map((J)=>J.name)}static setSpanToError(Y,J){Y.recordException(J),Y.setStatus({code:sG.SpanStatusCode.ERROR,message:J?.message??J})}setSpanToStepStatus(Y,J,X){if(!this.module)return;if(Y.setAttribute(VW.AttributeNames.STEP_STATUS,J),[this.module.Status.UNDEFINED,this.module.Status.AMBIGUOUS,this.module.Status.FAILED].includes(J))Y.recordException(J),Y.setStatus({code:sG.SpanStatusCode.ERROR,message:X||J})}_getTestCaseRunPatch(){let Y=this;return function(J){return async function(...X){let Z=this.gherkinDocument,{feature:W}=Z,$=this.pickle,G=W.children.find((Q)=>Q?.scenario?.id===$.astNodeIds[0])?.scenario;return Y.tracer.startActiveSpan(`Feature: ${W.name}. Scenario: ${$.name}`,{kind:sG.SpanKind.CLIENT,attributes:{[Gc.ATTR_CODE_FILE_PATH]:Z.uri,[Gc.ATTR_CODE_LINE_NUMBER]:G.location.line,[Gc.ATTR_CODE_FUNCTION_NAME]:`${W.name} ${G.name}`,[VW.AttributeNames.FEATURE_TAGS]:zX.mapTags(W.tags),[VW.AttributeNames.FEATURE_LANGUAGE]:W.language,[VW.AttributeNames.FEATURE_DESCRIPTION]:W.description,[VW.AttributeNames.SCENARIO_TAGS]:zX.mapTags(G.tags),[VW.AttributeNames.SCENARIO_DESCRIPTION]:G.description}},async(Q)=>{try{let U=await J.apply(this,X);return Y.setSpanToStepStatus(Q,U),U}catch(U){throw zX.setSpanToError(Q,U),U}finally{Q.end()}})}}}_getTestCaseRunStepPatch(){let Y=this;return function(J){return async function(...X){let[Z]=X;return Y.tracer.startActiveSpan(Z.text,{kind:sG.SpanKind.CLIENT,attributes:{[VW.AttributeNames.STEP_TYPE]:Z.type}},async(W)=>{try{let $=await J.apply(this,X),{result:G,error:Q}=(()=>{if("result"in $)return $;return{result:$,error:void 0}})();if(Y.setSpanToStepStatus(W,G.status,G.message),Q)zX.setSpanToError(W,Q);return $}catch($){throw zX.setSpanToError(W,$),$}finally{W.end()}})}}}_getTestCaseRunAttemptPatch(){let Y=this;return function(J){return async function(...X){let[Z]=X;return Y.tracer.startActiveSpan(`Attempt #${Z}`,{kind:sG.SpanKind.CLIENT,attributes:{}},async(W)=>{try{let $=await J.apply(this,X),G=this.getWorstStepResult();return Y.setSpanToStepStatus(W,G.status,G.message),$}catch($){throw zX.setSpanToError(W,$),$}finally{W.end()}})}}}_getHookPatch(Y){let J=this;return function(X){return function(Z,W){if(typeof Z==="function")W=Z,Z={};function $(G){if(!J.isEnabled())return W?.call(this,G);return J.tracer.startActiveSpan(Y,{kind:sG.SpanKind.CLIENT},async(Q)=>{try{return await W?.call(this,G)}catch(U){throw this.attach?.(JSON.stringify(Q.spanContext())),zX.setSpanToError(Q,U),U}finally{Q.end()}})}return X.call(this,Z,$)}}}_getStepPatch(Y){let J=this;return function(X){return function(Z,W,$){if(typeof W==="function")$=W,W={};function G(...Q){if(!J.isEnabled())return $?.apply(this,Q);return J.tracer.startActiveSpan(`${Y}(${Z.toString()})`,{kind:sG.SpanKind.CLIENT,attributes:Q.slice(0,-1).reduce((U,z,H)=>({...U,[`${VW.AttributeNames.STEP_ARGS}[${H}]`]:z?.raw instanceof Function?JSON.stringify(z.raw()):z}),{})},async(U)=>{try{return await $?.apply(this,Q)}catch(z){throw this.attach?.(JSON.stringify(U.spanContext())),zX.setSpanToError(U,z),z}finally{U.end()}})}return Object.defineProperty(G,"length",{value:$?.length}),X.call(this,Z,W,G)}}}}nL1.CucumberInstrumentation=zX});var rL1=q((GT)=>{Object.defineProperty(GT,"__esModule",{value:!0});GT.AttributeNames=GT.CucumberInstrumentation=void 0;var eZ4=oL1();Object.defineProperty(GT,"CucumberInstrumentation",{enumerable:!0,get:function(){return eZ4.CucumberInstrumentation}});var YW4=$c();Object.defineProperty(GT,"AttributeNames",{enumerable:!0,get:function(){return YW4.AttributeNames}})});var tL1=q((aL1)=>{Object.defineProperty(aL1,"__esModule",{value:!0});aL1.PACKAGE_NAME=aL1.PACKAGE_VERSION=void 0;aL1.PACKAGE_VERSION="0.29.0";aL1.PACKAGE_NAME="@opentelemetry/instrumentation-dataloader"});var WM1=q((XM1)=>{Object.defineProperty(XM1,"__esModule",{value:!0});XM1.DataloaderInstrumentation=void 0;var m3=t1(),g4=t(),eL1=tL1(),Qc="dataloader";function YM1(Y){return Y[Symbol.toStringTag]==="Module"?Y.default:Y}class JM1 extends m3.InstrumentationBase{constructor(Y={}){super(eL1.PACKAGE_NAME,eL1.PACKAGE_VERSION,Y)}init(){return[new m3.InstrumentationNodeModuleDefinition(Qc,[">=2.0.0 <3"],(Y)=>{let J=YM1(Y);return this._patchLoad(J.prototype),this._patchLoadMany(J.prototype),this._patchPrime(J.prototype),this._patchClear(J.prototype),this._patchClearAll(J.prototype),this._getPatchedConstructor(J)},(Y)=>{let J=YM1(Y);["load","loadMany","prime","clear","clearAll"].forEach((X)=>{if((0,m3.isWrapped)(J.prototype[X]))this._unwrap(J.prototype,X)})})]}shouldCreateSpans(){let Y=this.getConfig();return g4.trace.getSpan(g4.context.active())!==void 0||!Y.requireParentSpan}getSpanName(Y,J){let X=Y.name;if(X===void 0||X===null)return`${Qc}.${J}`;return`${Qc}.${J} ${X}`}_wrapBatchLoadFn(Y){let J=this;return function(...Z){if(!J.isEnabled()||!J.shouldCreateSpans())return Y.call(this,...Z);let W=g4.context.active(),$=J.tracer.startSpan(J.getSpanName(this,"batch"),{links:this._batch?.spanLinks},W);return g4.context.with(g4.trace.setSpan(W,$),()=>{return Y.apply(this,Z).then((G)=>{return $.end(),G}).catch((G)=>{throw $.recordException(G),$.setStatus({code:g4.SpanStatusCode.ERROR,message:G.message}),$.end(),G})})}}_getPatchedConstructor(Y){let J=this,X=Y.prototype;if(!J.isEnabled())return Y;function Z(...W){if(typeof W[0]==="function"){if((0,m3.isWrapped)(W[0]))J._unwrap(W,0);W[0]=J._wrapBatchLoadFn(W[0])}return Y.apply(this,W)}return Z.prototype=X,Z}_patchLoad(Y){if((0,m3.isWrapped)(Y.load))this._unwrap(Y,"load");this._wrap(Y,"load",this._getPatchedLoad.bind(this))}_getPatchedLoad(Y){let J=this;return function(...Z){if(!J.shouldCreateSpans())return Y.call(this,...Z);let W=g4.context.active(),$=J.tracer.startSpan(J.getSpanName(this,"load"),{kind:g4.SpanKind.CLIENT},W);return g4.context.with(g4.trace.setSpan(W,$),()=>{let G=Y.call(this,...Z).then((U)=>{return $.end(),U}).catch((U)=>{throw $.recordException(U),$.setStatus({code:g4.SpanStatusCode.ERROR,message:U.message}),$.end(),U}),Q=this;if(Q._batch){if(!Q._batch.spanLinks)Q._batch.spanLinks=[];Q._batch.spanLinks.push({context:$.spanContext()})}return G})}}_patchLoadMany(Y){if((0,m3.isWrapped)(Y.loadMany))this._unwrap(Y,"loadMany");this._wrap(Y,"loadMany",this._getPatchedLoadMany.bind(this))}_getPatchedLoadMany(Y){let J=this;return function(...Z){if(!J.shouldCreateSpans())return Y.call(this,...Z);let W=g4.context.active(),$=J.tracer.startSpan(J.getSpanName(this,"loadMany"),{kind:g4.SpanKind.CLIENT},W);return g4.context.with(g4.trace.setSpan(W,$),()=>{return Y.call(this,...Z).then((G)=>{return $.end(),G})})}}_patchPrime(Y){if((0,m3.isWrapped)(Y.prime))this._unwrap(Y,"prime");this._wrap(Y,"prime",this._getPatchedPrime.bind(this))}_getPatchedPrime(Y){let J=this;return function(...Z){if(!J.shouldCreateSpans())return Y.call(this,...Z);let W=g4.context.active(),$=J.tracer.startSpan(J.getSpanName(this,"prime"),{kind:g4.SpanKind.CLIENT},W),G=g4.context.with(g4.trace.setSpan(W,$),()=>{return Y.call(this,...Z)});return $.end(),G}}_patchClear(Y){if((0,m3.isWrapped)(Y.clear))this._unwrap(Y,"clear");this._wrap(Y,"clear",this._getPatchedClear.bind(this))}_getPatchedClear(Y){let J=this;return function(...Z){if(!J.shouldCreateSpans())return Y.call(this,...Z);let W=g4.context.active(),$=J.tracer.startSpan(J.getSpanName(this,"clear"),{kind:g4.SpanKind.CLIENT},W),G=g4.context.with(g4.trace.setSpan(W,$),()=>{return Y.call(this,...Z)});return $.end(),G}}_patchClearAll(Y){if((0,m3.isWrapped)(Y.clearAll))this._unwrap(Y,"clearAll");this._wrap(Y,"clearAll",this._getPatchedClearAll.bind(this))}_getPatchedClearAll(Y){let J=this;return function(...Z){if(!J.shouldCreateSpans())return Y.call(this,...Z);let W=g4.context.active(),$=J.tracer.startSpan(J.getSpanName(this,"clearAll"),{kind:g4.SpanKind.CLIENT},W),G=g4.context.with(g4.trace.setSpan(W,$),()=>{return Y.call(this,...Z)});return $.end(),G}}}XM1.DataloaderInstrumentation=JM1});var $M1=q((Uc)=>{Object.defineProperty(Uc,"__esModule",{value:!0});Uc.DataloaderInstrumentation=void 0;var ZW4=WM1();Object.defineProperty(Uc,"DataloaderInstrumentation",{enumerable:!0,get:function(){return ZW4.DataloaderInstrumentation}})});var QM1=q((GM1)=>{Object.defineProperty(GM1,"__esModule",{value:!0});GM1.AttributeNames=void 0;var $W4;(function(Y){Y.DNS_ERROR_NAME="dns.error_name",Y.DNS_ERROR_MESSAGE="dns.error_message"})($W4=GM1.AttributeNames||(GM1.AttributeNames={}))});var BM1=q((zM1)=>{Object.defineProperty(zM1,"__esModule",{value:!0});zM1.isIgnored=zM1.satisfiesPattern=zM1.setLookupAttributes=zM1.getOperationName=zM1.getFamilyAttribute=zM1.setError=void 0;var GW4=t(),UM1=QM1(),QW4=(Y,J)=>{let{message:X,name:Z}=Y,W={[UM1.AttributeNames.DNS_ERROR_MESSAGE]:X,[UM1.AttributeNames.DNS_ERROR_NAME]:Z};J.setAttributes(W),J.setStatus({code:GW4.SpanStatusCode.ERROR,message:X})};zM1.setError=QW4;var UW4=(Y,J)=>{return J?`peer[${J}].ipv${Y}`:`peer.ipv${Y}`};zM1.getFamilyAttribute=UW4;var zW4=(Y,J)=>{return J?`dns.${J}/${Y}`:`dns.${Y}`};zM1.getOperationName=zW4;var HW4=(Y,J,X)=>{let Z={},W=typeof J==="object",$=J;if(!W)$=[{address:J,family:X}];else if(!($ instanceof Array))$=[{address:J.address,family:J.family}];$.forEach((G,Q)=>{let U=zM1.getFamilyAttribute(G.family,Q);Z[U]=G.address}),Y.setAttributes(Z)};zM1.setLookupAttributes=HW4;var OW4=(Y,J)=>{if(typeof J==="string")return J===Y;else if(J instanceof RegExp)return J.test(Y);else if(typeof J==="function")return J(Y);else throw TypeError("Pattern is in unsupported datatype")};zM1.satisfiesPattern=OW4;var KW4=(Y,J,X)=>{if(!J)return!1;if(!Array.isArray(J))J=[J];try{for(let Z of J)if(zM1.satisfiesPattern(Y,Z))return!0}catch(Z){if(X)X(Z)}return!1};zM1.isIgnored=KW4});var VM1=q((qM1)=>{Object.defineProperty(qM1,"__esModule",{value:!0});qM1.PACKAGE_NAME=qM1.PACKAGE_VERSION=void 0;qM1.PACKAGE_VERSION="0.55.0";qM1.PACKAGE_NAME="@opentelemetry/instrumentation-dns"});var PM1=q((wM1)=>{Object.defineProperty(wM1,"__esModule",{value:!0});wM1.DnsInstrumentation=void 0;var lF=t(),tG=t1(),IW=BM1(),IM1=VM1();class DM1 extends tG.InstrumentationBase{constructor(Y={}){super(IM1.PACKAGE_NAME,IM1.PACKAGE_VERSION,Y)}init(){return[new tG.InstrumentationNodeModuleDefinition("dns",["*"],(Y)=>{if((0,tG.isWrapped)(Y.lookup))this._unwrap(Y,"lookup");return this._wrap(Y,"lookup",this._getLookup()),this._wrap(Y.promises,"lookup",this._getLookup()),Y},(Y)=>{if(Y===void 0)return;this._unwrap(Y,"lookup"),this._unwrap(Y.promises,"lookup")}),new tG.InstrumentationNodeModuleDefinition("dns/promises",["*"],(Y)=>{if((0,tG.isWrapped)(Y.lookup))this._unwrap(Y,"lookup");return this._wrap(Y,"lookup",this._getLookup()),Y},(Y)=>{if(Y===void 0)return;this._unwrap(Y,"lookup")})]}_getLookup(){return(Y)=>{return this._getPatchLookupFunction(Y)}}_getPatchLookupFunction(Y){let J=this;return function(Z,...W){if(IW.isIgnored(Z,J.getConfig().ignoreHostnames,(z)=>lF.diag.error("caught ignoreHostname error: ",z)))return Y.apply(this,[Z,...W]);let $=W.length;lF.diag.debug("wrap lookup callback function and starts span");let G=IW.getOperationName("lookup"),Q=J.tracer.startSpan(G,{kind:lF.SpanKind.CLIENT}),U=W[$-1];if(typeof U==="function")return W[$-1]=J._wrapLookupCallback(U,Q),(0,tG.safeExecuteInTheMiddle)(()=>Y.apply(this,[Z,...W]),(z)=>{if(z!=null)IW.setError(z,Q),Q.end()});else{let z=(0,tG.safeExecuteInTheMiddle)(()=>Y.apply(this,[Z,...W]),(H)=>{if(H!=null)IW.setError(H,Q),Q.end()});return z.then((H)=>{IW.setLookupAttributes(Q,H),Q.end()},(H)=>{IW.setError(H,Q),Q.end()}),z}}}_wrapLookupCallback(Y,J){return function(Z,W,$){if(lF.diag.debug("executing wrapped lookup callback function"),Z!==null)IW.setError(Z,J);else IW.setLookupAttributes(J,W,$);return J.end(),lF.diag.debug("executing original lookup callback function"),Y.apply(this,arguments)}}}wM1.DnsInstrumentation=DM1});var LM1=q((Hc)=>{Object.defineProperty(Hc,"__esModule",{value:!0});Hc.DnsInstrumentation=void 0;var IW4=PM1();Object.defineProperty(Hc,"DnsInstrumentation",{enumerable:!0,get:function(){return IW4.DnsInstrumentation}})});var QT=q((MM1)=>{Object.defineProperty(MM1,"__esModule",{value:!0});MM1.ExpressLayerType=void 0;var wW4;(function(Y){Y.ROUTER="router",Y.MIDDLEWARE="middleware",Y.REQUEST_HANDLER="request_handler"})(wW4=MM1.ExpressLayerType||(MM1.ExpressLayerType={}))});var UT=q((EM1)=>{Object.defineProperty(EM1,"__esModule",{value:!0});EM1.AttributeNames=void 0;var AW4;(function(Y){Y.EXPRESS_TYPE="express.type",Y.EXPRESS_NAME="express.name"})(AW4=EM1.AttributeNames||(EM1.AttributeNames={}))});var Bc=q((TM1)=>{Object.defineProperty(TM1,"__esModule",{value:!0});TM1._LAYERS_STORE_PROPERTY=TM1.kLayerPatched=void 0;TM1.kLayerPatched=Symbol("express-layer-patched");TM1._LAYERS_STORE_PROPERTY="__ot_middlewares"});var kM1=q((CM1)=>{Object.defineProperty(CM1,"__esModule",{value:!0});CM1.getActualMatchedRoute=CM1.getConstructedRoute=CM1.getLayerPath=CM1.asErrorAndMessage=CM1.isLayerIgnored=CM1.getLayerMetadata=CM1.getRouterPath=CM1.storeLayerPath=void 0;var qc=QT(),CH=UT(),eG=Bc(),LW4=(Y,J)=>{if(Array.isArray(Y[eG._LAYERS_STORE_PROPERTY])===!1)Object.defineProperty(Y,eG._LAYERS_STORE_PROPERTY,{enumerable:!1,value:[]});if(J===void 0)return{isLayerPathStored:!1};return Y[eG._LAYERS_STORE_PROPERTY].push(J),{isLayerPathStored:!0}};CM1.storeLayerPath=LW4;var MW4=(Y,J)=>{let X=J.handle?.stack?.[0];if(X?.route?.path)return`${Y}${X.route.path}`;if(X?.handle?.stack)return CM1.getRouterPath(Y,X);return Y};CM1.getRouterPath=MW4;var EW4=(Y,J,X)=>{if(J.name==="router"){let Z=CM1.getRouterPath("",J),W=Z?Z:X||Y||"/";return{attributes:{[CH.AttributeNames.EXPRESS_NAME]:W,[CH.AttributeNames.EXPRESS_TYPE]:qc.ExpressLayerType.ROUTER},name:`router - ${W}`}}else if(J.name==="bound dispatch"||J.name==="handle")return{attributes:{[CH.AttributeNames.EXPRESS_NAME]:(Y||X)??"request handler",[CH.AttributeNames.EXPRESS_TYPE]:qc.ExpressLayerType.REQUEST_HANDLER},name:`request handler${J.path?` - ${Y||X}`:""}`};else return{attributes:{[CH.AttributeNames.EXPRESS_NAME]:J.name,[CH.AttributeNames.EXPRESS_TYPE]:qc.ExpressLayerType.MIDDLEWARE},name:`middleware - ${J.name}`}};CM1.getLayerMetadata=EW4;var TW4=(Y,J)=>{if(typeof J==="string")return J===Y;else if(J instanceof RegExp)return J.test(Y);else if(typeof J==="function")return J(Y);else throw TypeError("Pattern is in unsupported datatype")},RW4=(Y,J,X)=>{if(Array.isArray(X?.ignoreLayersType)&&X?.ignoreLayersType?.includes(J))return!0;if(Array.isArray(X?.ignoreLayers)===!1)return!1;try{for(let Z of X.ignoreLayers)if(TW4(Y,Z))return!0}catch(Z){}return!1};CM1.isLayerIgnored=RW4;var NW4=(Y)=>Y instanceof Error?[Y,Y.message]:[String(Y),String(Y)];CM1.asErrorAndMessage=NW4;var SW4=(Y)=>{let J=Y[0];if(Array.isArray(J))return J.map((X)=>NM1(X)||"").join(",");return NM1(J)};CM1.getLayerPath=SW4;var NM1=(Y)=>{if(typeof Y==="string")return Y;if(Y instanceof RegExp||typeof Y==="number")return Y.toString();return};function SM1(Y){let X=(Array.isArray(Y[eG._LAYERS_STORE_PROPERTY])?Y[eG._LAYERS_STORE_PROPERTY]:[]).filter((Z)=>Z!=="/"&&Z!=="/*");if(X.length===1&&X[0]==="*")return"*";return X.join("").replace(/\/{2,}/g,"/")}CM1.getConstructedRoute=SM1;function CW4(Y){let J=Array.isArray(Y[eG._LAYERS_STORE_PROPERTY])?Y[eG._LAYERS_STORE_PROPERTY]:[];if(J.length===0)return;if(J.every(($)=>$==="/"))return Y.originalUrl==="/"?"/":void 0;let X=SM1(Y);if(X==="*")return X;if(X.includes("/")&&(X.includes(",")||X.includes("\\")||X.includes("*")||X.includes("[")))return X;let Z=X.startsWith("/")?X:`/${X}`;return Z.length>0&&(Y.originalUrl===Z||Y.originalUrl.startsWith(Z)||jW4(Z))?Z:void 0}CM1.getActualMatchedRoute=CW4;function jW4(Y){return Y.includes(":")||Y.includes("*")}});var fM1=q((_M1)=>{Object.defineProperty(_M1,"__esModule",{value:!0});_M1.PACKAGE_NAME=_M1.PACKAGE_VERSION=void 0;_M1.PACKAGE_VERSION="0.60.0";_M1.PACKAGE_NAME="@opentelemetry/instrumentation-express"});var dM1=q((uM1)=>{Object.defineProperty(uM1,"__esModule",{value:!0});uM1.ExpressInstrumentation=void 0;var vM1=k1(),uY=t(),hM1=QT(),bM1=UT(),HX=kM1(),yM1=fM1(),jH=t1(),yW4=X0(),zT=Bc();class gM1 extends jH.InstrumentationBase{constructor(Y={}){super(yM1.PACKAGE_NAME,yM1.PACKAGE_VERSION,Y)}init(){return[new jH.InstrumentationNodeModuleDefinition("express",[">=4.0.0 <6"],(Y)=>{let J=typeof Y?.Router?.prototype?.route==="function",X=J?Y.Router.prototype:Y.Router;if((0,jH.isWrapped)(X.route))this._unwrap(X,"route");if(this._wrap(X,"route",this._getRoutePatch()),(0,jH.isWrapped)(X.use))this._unwrap(X,"use");if(this._wrap(X,"use",this._getRouterUsePatch()),(0,jH.isWrapped)(Y.application.use))this._unwrap(Y.application,"use");return this._wrap(Y.application,"use",this._getAppUsePatch(J)),Y},(Y)=>{if(Y===void 0)return;let X=typeof Y?.Router?.prototype?.route==="function"?Y.Router.prototype:Y.Router;this._unwrap(X,"route"),this._unwrap(X,"use"),this._unwrap(Y.application,"use")})]}_getRoutePatch(){let Y=this;return function(J){return function(...Z){let W=J.apply(this,Z),$=this.stack[this.stack.length-1];return Y._applyPatch($,(0,HX.getLayerPath)(Z)),W}}}_getRouterUsePatch(){let Y=this;return function(J){return function(...Z){let W=J.apply(this,Z),$=this.stack[this.stack.length-1];return Y._applyPatch($,(0,HX.getLayerPath)(Z)),W}}}_getAppUsePatch(Y){let J=this;return function(X){return function(...W){let $=Y?this.router:this._router,G=X.apply(this,W);if($){let Q=$.stack[$.stack.length-1];J._applyPatch(Q,(0,HX.getLayerPath)(W))}return G}}}_applyPatch(Y,J){let X=this;if(Y[zT.kLayerPatched]===!0)return;Y[zT.kLayerPatched]=!0,this._wrap(Y,"handle",(Z)=>{if(Z.length===4)return Z;let W=function($,G){let{isLayerPathStored:Q}=(0,HX.storeLayerPath)($,J),U=(0,HX.getConstructedRoute)($),z=(0,HX.getActualMatchedRoute)($),H={[yW4.ATTR_HTTP_ROUTE]:z},O=(0,HX.getLayerMetadata)(U,Y,J),K=O.attributes[bM1.AttributeNames.EXPRESS_TYPE],B=(0,vM1.getRPCMetadata)(uY.context.active());if(B?.type===vM1.RPCType.HTTP)B.route=z;if((0,HX.isLayerIgnored)(O.name,K,X.getConfig())){if(K===hM1.ExpressLayerType.MIDDLEWARE)$[zT._LAYERS_STORE_PROPERTY].pop();return Z.apply(this,arguments)}if(uY.trace.getSpan(uY.context.active())===void 0)return Z.apply(this,arguments);let F=X._getSpanName({request:$,layerType:K,route:U},O.name),V=X.tracer.startSpan(F,{attributes:Object.assign(H,O.attributes)}),I=uY.context.active(),D=uY.trace.setSpan(I,V),{requestHook:L}=X.getConfig();if(L)(0,jH.safeExecuteInTheMiddle)(()=>L(V,{request:$,layerType:K,route:U}),(v)=>{if(v)uY.diag.error("express instrumentation: request hook failed",v)},!0);let A=!1;if(O.attributes[bM1.AttributeNames.EXPRESS_TYPE]===hM1.ExpressLayerType.ROUTER)V.end(),A=!0,D=I;let P=()=>{if(A===!1)A=!0,V.end()},R=Array.from(arguments),N=R.findIndex((v)=>typeof v==="function");if(N>=0)arguments[N]=function(){let v=arguments[0],j=![void 0,null,"route","router"].includes(v);if(!A&&j){let[b,k]=(0,HX.asErrorAndMessage)(v);V.recordException(b),V.setStatus({code:uY.SpanStatusCode.ERROR,message:k})}if(A===!1)A=!0,$.res?.removeListener("finish",P),V.end();if(!($.route&&j)&&Q)$[zT._LAYERS_STORE_PROPERTY].pop();let M=R[N];return uY.context.bind(I,M).apply(this,arguments)};try{return uY.context.bind(D,Z).apply(this,arguments)}catch(v){let[j,M]=(0,HX.asErrorAndMessage)(v);throw V.recordException(j),V.setStatus({code:uY.SpanStatusCode.ERROR,message:M}),v}finally{if(!A)G.once("finish",P)}};for(let $ in Z)Object.defineProperty(W,$,{get(){return Z[$]},set(G){Z[$]=G}});return W})}_getSpanName(Y,J){let{spanNameHook:X}=this.getConfig();if(!(X instanceof Function))return J;try{return X(Y,J)??J}catch(Z){return uY.diag.error("express instrumentation: error calling span name rewrite hook",Z),J}}}uM1.ExpressInstrumentation=gM1});var cM1=q((pF)=>{Object.defineProperty(pF,"__esModule",{value:!0});pF.AttributeNames=pF.ExpressLayerType=pF.ExpressInstrumentation=void 0;var gW4=dM1();Object.defineProperty(pF,"ExpressInstrumentation",{enumerable:!0,get:function(){return gW4.ExpressInstrumentation}});var uW4=QT();Object.defineProperty(pF,"ExpressLayerType",{enumerable:!0,get:function(){return uW4.ExpressLayerType}});var mW4=UT();Object.defineProperty(pF,"AttributeNames",{enumerable:!0,get:function(){return mW4.AttributeNames}})});var Vc=q((lM1)=>{Object.defineProperty(lM1,"__esModule",{value:!0});lM1.hooksNamesToWrap=lM1.spanRequestSymbol=void 0;lM1.spanRequestSymbol=Symbol("opentelemetry.instrumentation.fastify.request_active_span");lM1.hooksNamesToWrap=new Set(["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError"])});var Dc=q((oM1)=>{Object.defineProperty(oM1,"__esModule",{value:!0});oM1.FastifyNames=oM1.FastifyTypes=oM1.AttributeNames=void 0;var lW4;(function(Y){Y.FASTIFY_NAME="fastify.name",Y.FASTIFY_TYPE="fastify.type",Y.HOOK_NAME="hook.name",Y.PLUGIN_NAME="plugin.name"})(lW4=oM1.AttributeNames||(oM1.AttributeNames={}));var pW4;(function(Y){Y.MIDDLEWARE="middleware",Y.REQUEST_HANDLER="request_handler"})(pW4=oM1.FastifyTypes||(oM1.FastifyTypes={}));var nW4;(function(Y){Y.MIDDLEWARE="middleware",Y.REQUEST_HANDLER="request handler"})(nW4=oM1.FastifyNames||(oM1.FastifyNames={}))});var tM1=q((aM1)=>{Object.defineProperty(aM1,"__esModule",{value:!0});aM1.safeExecuteInTheMiddleMaybePromise=aM1.endSpan=aM1.startSpan=void 0;var iW4=t(),HT=Vc();function oW4(Y,J,X,Z={}){let W=J.startSpan(X,{attributes:Z}),$=Y[HT.spanRequestSymbol]||[];return $.push(W),Object.defineProperty(Y,HT.spanRequestSymbol,{enumerable:!1,configurable:!0,value:$}),W}aM1.startSpan=oW4;function rW4(Y,J){let X=Y[HT.spanRequestSymbol]||[];if(!X.length)return;X.forEach((Z)=>{if(J)Z.setStatus({code:iW4.SpanStatusCode.ERROR,message:J.message}),Z.recordException(J);Z.end()}),delete Y[HT.spanRequestSymbol]}aM1.endSpan=rW4;function aW4(Y,J,X){let Z,W=void 0;try{if(W=Y(),rM1(W))W.then(($)=>J(void 0,$),($)=>J($))}catch($){Z=$}finally{if(!rM1(W)){if(J(Z,W),Z&&!X)throw Z}return W}}aM1.safeExecuteInTheMiddleMaybePromise=aW4;function rM1(Y){return typeof Y==="object"&&Y&&typeof Object.getOwnPropertyDescriptor(Y,"then")?.value==="function"||!1}});var JE1=q((eM1)=>{Object.defineProperty(eM1,"__esModule",{value:!0});eM1.PACKAGE_NAME=eM1.PACKAGE_VERSION=void 0;eM1.PACKAGE_VERSION="0.56.0";eM1.PACKAGE_NAME="@opentelemetry/instrumentation-fastify"});var QE1=q(($E1)=>{Object.defineProperty($E1,"__esModule",{value:!0});$E1.FastifyInstrumentation=$E1.ANONYMOUS_NAME=void 0;var DW=t(),XE1=k1(),OT=t1(),Y$4=X0(),J$4=Vc(),OX=Dc(),kH=tM1(),ZE1=JE1();$E1.ANONYMOUS_NAME="anonymous";class WE1 extends OT.InstrumentationBase{constructor(Y={}){super(ZE1.PACKAGE_NAME,ZE1.PACKAGE_VERSION,Y)}init(){return[new OT.InstrumentationNodeModuleDefinition("fastify",[">=3.0.0 <6"],(Y)=>{return this._patchConstructor(Y)})]}_hookOnRequest(){let Y=this;return function(X,Z,W){if(!Y.isEnabled())return W();Y._wrap(Z,"send",Y._patchSend());let $=X,G=(0,XE1.getRPCMetadata)(DW.context.active()),Q=$.routeOptions?$.routeOptions.url:X.routerPath;if(Q&&G?.type===XE1.RPCType.HTTP)G.route=Q;W()}}_wrapHandler(Y,J,X,Z){let W=this;return this._diag.debug("Patching fastify route.handler function"),function(...$){if(!W.isEnabled())return X.apply(this,$);let G=X.name||Y||$E1.ANONYMOUS_NAME,Q=`${OX.FastifyNames.MIDDLEWARE} - ${G}`,U=$[1],z=(0,kH.startSpan)(U,W.tracer,Q,{[OX.AttributeNames.FASTIFY_TYPE]:OX.FastifyTypes.MIDDLEWARE,[OX.AttributeNames.PLUGIN_NAME]:Y,[OX.AttributeNames.HOOK_NAME]:J}),H=Z&&$[$.length-1];if(H)$[$.length-1]=function(...O){(0,kH.endSpan)(U),H.apply(this,O)};return DW.context.with(DW.trace.setSpan(DW.context.active(),z),()=>{return(0,kH.safeExecuteInTheMiddleMaybePromise)(()=>{return X.apply(this,$)},(O)=>{if(O instanceof Error)z.setStatus({code:DW.SpanStatusCode.ERROR,message:O.message}),z.recordException(O);if(!Z)(0,kH.endSpan)(U)})})}}_wrapAddHook(){let Y=this;return this._diag.debug("Patching fastify server.addHook function"),function(J){return function(...Z){let W=Z[0],$=Z[1],G=this.pluginName;if(!J$4.hooksNamesToWrap.has(W))return J.apply(this,Z);let Q=typeof Z[Z.length-1]==="function"&&$.constructor.name!=="AsyncFunction";return J.apply(this,[W,Y._wrapHandler(G,W,$,Q)])}}}_patchConstructor(Y){let J=this;function X(...Z){let W=Y.fastify.apply(this,Z);return W.addHook("onRequest",J._hookOnRequest()),W.addHook("preHandler",J._hookPreHandler()),J._wrap(W,"addHook",J._wrapAddHook()),W}if(Y.errorCodes!==void 0)X.errorCodes=Y.errorCodes;return X.fastify=X,X.default=X,X}_patchSend(){let Y=this;return this._diag.debug("Patching fastify reply.send function"),function(X){return function(...W){let $=W[0];if(!Y.isEnabled())return X.apply(this,W);return(0,OT.safeExecuteInTheMiddle)(()=>{return X.apply(this,W)},(G)=>{if(!G&&$ instanceof Error)G=$;(0,kH.endSpan)(this,G)})}}}_hookPreHandler(){let Y=this;return this._diag.debug("Patching fastify preHandler function"),function(X,Z,W){if(!Y.isEnabled())return W();let $=X,G=$.routeOptions?.handler||$.context?.handler,Q=G?.name.startsWith("bound ")?G.name.substring(6):G?.name,U=`${OX.FastifyNames.REQUEST_HANDLER} - ${Q||this.pluginName||$E1.ANONYMOUS_NAME}`,z={[OX.AttributeNames.PLUGIN_NAME]:this.pluginName,[OX.AttributeNames.FASTIFY_TYPE]:OX.FastifyTypes.REQUEST_HANDLER,[Y$4.ATTR_HTTP_ROUTE]:$.routeOptions?$.routeOptions.url:X.routerPath};if(Q)z[OX.AttributeNames.FASTIFY_NAME]=Q;let H=(0,kH.startSpan)(Z,Y.tracer,U,z),{requestHook:O}=Y.getConfig();if(O)(0,OT.safeExecuteInTheMiddle)(()=>O(H,{request:X}),(K)=>{if(K)Y._diag.error("request hook failed",K)},!0);return DW.context.with(DW.trace.setSpan(DW.context.active(),H),()=>{W()})}}}$E1.FastifyInstrumentation=WE1});var UE1=q((_H)=>{Object.defineProperty(_H,"__esModule",{value:!0});_H.FastifyTypes=_H.FastifyNames=_H.AttributeNames=_H.FastifyInstrumentation=void 0;var X$4=QE1();Object.defineProperty(_H,"FastifyInstrumentation",{enumerable:!0,get:function(){return X$4.FastifyInstrumentation}});var Ac=Dc();Object.defineProperty(_H,"AttributeNames",{enumerable:!0,get:function(){return Ac.AttributeNames}});Object.defineProperty(_H,"FastifyNames",{enumerable:!0,get:function(){return Ac.FastifyNames}});Object.defineProperty(_H,"FastifyTypes",{enumerable:!0,get:function(){return Ac.FastifyTypes}})});var OE1=q((zE1)=>{Object.defineProperty(zE1,"__esModule",{value:!0});zE1.PACKAGE_NAME=zE1.PACKAGE_VERSION=void 0;zE1.PACKAGE_VERSION="0.31.0";zE1.PACKAGE_NAME="@opentelemetry/instrumentation-fs"});var qE1=q((KE1)=>{Object.defineProperty(KE1,"__esModule",{value:!0});KE1.SYNC_FUNCTIONS=KE1.CALLBACK_FUNCTIONS=KE1.PROMISE_FUNCTIONS=void 0;KE1.PROMISE_FUNCTIONS=["access","appendFile","chmod","chown","copyFile","cp","lchown","link","lstat","lutimes","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"];KE1.CALLBACK_FUNCTIONS=["access","appendFile","chmod","chown","copyFile","cp","exists","lchown","link","lstat","lutimes","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","realpath.native","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"];KE1.SYNC_FUNCTIONS=["accessSync","appendFileSync","chmodSync","chownSync","copyFileSync","cpSync","existsSync","lchownSync","linkSync","lstatSync","lutimesSync","mkdirSync","mkdtempSync","opendirSync","openSync","readdirSync","readFileSync","readlinkSync","realpathSync","realpathSync.native","renameSync","rmdirSync","rmSync","statSync","symlinkSync","truncateSync","unlinkSync","utimesSync","writeFileSync"]});var DE1=q((VE1)=>{Object.defineProperty(VE1,"__esModule",{value:!0});VE1.indexFs=VE1.splitTwoLevels=void 0;function FE1(Y){let J=Y.split(".");if(J.length>1){if(J.length!==2)throw Error(`Invalid member function name ${Y}`);return J}else return[Y]}VE1.splitTwoLevels=FE1;function Q$4(Y,J){if(!J)throw Error(JSON.stringify({member:J}));let X=FE1(J),[Z,W]=X;if(W)return{objectToPatch:Y[Z],functionNameToPatch:W};else return{objectToPatch:Y,functionNameToPatch:Z}}VE1.indexFs=Q$4});var ME1=q((PE1)=>{Object.defineProperty(PE1,"__esModule",{value:!0});PE1.FsInstrumentation=void 0;var J6=t(),d3=k1(),mY=t1(),wE1=OE1(),wW=qE1(),z$4=C("util"),KT=DE1();function BT(Y,J){return Object.assign(Y,J)}class AE1 extends mY.InstrumentationBase{constructor(Y={}){super(wE1.PACKAGE_NAME,wE1.PACKAGE_VERSION,Y)}init(){return[new mY.InstrumentationNodeModuleDefinition("fs",["*"],(Y)=>{for(let J of wW.SYNC_FUNCTIONS){let{objectToPatch:X,functionNameToPatch:Z}=(0,KT.indexFs)(Y,J);if((0,mY.isWrapped)(X[Z]))this._unwrap(X,Z);this._wrap(X,Z,this._patchSyncFunction.bind(this,J))}for(let J of wW.CALLBACK_FUNCTIONS){let{objectToPatch:X,functionNameToPatch:Z}=(0,KT.indexFs)(Y,J);if((0,mY.isWrapped)(X[Z]))this._unwrap(X,Z);if(J==="exists"){this._wrap(X,Z,this._patchExistsCallbackFunction.bind(this,J));continue}this._wrap(X,Z,this._patchCallbackFunction.bind(this,J))}for(let J of wW.PROMISE_FUNCTIONS){if((0,mY.isWrapped)(Y.promises[J]))this._unwrap(Y.promises,J);this._wrap(Y.promises,J,this._patchPromiseFunction.bind(this,J))}return Y},(Y)=>{if(Y===void 0)return;for(let J of wW.SYNC_FUNCTIONS){let{objectToPatch:X,functionNameToPatch:Z}=(0,KT.indexFs)(Y,J);if((0,mY.isWrapped)(X[Z]))this._unwrap(X,Z)}for(let J of wW.CALLBACK_FUNCTIONS){let{objectToPatch:X,functionNameToPatch:Z}=(0,KT.indexFs)(Y,J);if((0,mY.isWrapped)(X[Z]))this._unwrap(X,Z)}for(let J of wW.PROMISE_FUNCTIONS)if((0,mY.isWrapped)(Y.promises[J]))this._unwrap(Y.promises,J)}),new mY.InstrumentationNodeModuleDefinition("fs/promises",["*"],(Y)=>{for(let J of wW.PROMISE_FUNCTIONS){if((0,mY.isWrapped)(Y[J]))this._unwrap(Y,J);this._wrap(Y,J,this._patchPromiseFunction.bind(this,J))}return Y},(Y)=>{if(Y===void 0)return;for(let J of wW.PROMISE_FUNCTIONS)if((0,mY.isWrapped)(Y[J]))this._unwrap(Y,J)})]}_patchSyncFunction(Y,J){let X=this;return BT(function(...W){let $=J6.context.active();if(!X._shouldTrace($))return J.apply(this,W);if(X._runCreateHook(Y,{args:W})===!1)return J6.context.with((0,d3.suppressTracing)($),J,this,...W);let G=X.tracer.startSpan(`fs ${Y}`);try{let Q=J6.context.with((0,d3.suppressTracing)(J6.trace.setSpan($,G)),J,this,...W);return X._runEndHook(Y,{args:W,span:G}),Q}catch(Q){throw G.recordException(Q),G.setStatus({message:Q.message,code:J6.SpanStatusCode.ERROR}),X._runEndHook(Y,{args:W,span:G,error:Q}),Q}finally{G.end()}},J)}_patchCallbackFunction(Y,J){let X=this;return BT(function(...W){let $=J6.context.active();if(!X._shouldTrace($))return J.apply(this,W);if(X._runCreateHook(Y,{args:W})===!1)return J6.context.with((0,d3.suppressTracing)($),J,this,...W);let G=W.length-1,Q=W[G];if(typeof Q==="function"){let U=X.tracer.startSpan(`fs ${Y}`);W[G]=J6.context.bind($,function(z){if(z)U.recordException(z),U.setStatus({message:z.message,code:J6.SpanStatusCode.ERROR});return X._runEndHook(Y,{args:W,span:U,error:z}),U.end(),Q.apply(this,arguments)});try{return J6.context.with((0,d3.suppressTracing)(J6.trace.setSpan($,U)),J,this,...W)}catch(z){throw U.recordException(z),U.setStatus({message:z.message,code:J6.SpanStatusCode.ERROR}),X._runEndHook(Y,{args:W,span:U,error:z}),U.end(),z}}else return J.apply(this,W)},J)}_patchExistsCallbackFunction(Y,J){let X=this,W=BT(function(...G){let Q=J6.context.active();if(!X._shouldTrace(Q))return J.apply(this,G);if(X._runCreateHook(Y,{args:G})===!1)return J6.context.with((0,d3.suppressTracing)(Q),J,this,...G);let U=G.length-1,z=G[U];if(typeof z==="function"){let H=X.tracer.startSpan(`fs ${Y}`);G[U]=J6.context.bind(Q,function(){return X._runEndHook(Y,{args:G,span:H}),H.end(),z.apply(this,arguments)});try{return J6.context.with((0,d3.suppressTracing)(J6.trace.setSpan(Q,H)),J,this,...G)}catch(O){throw H.recordException(O),H.setStatus({message:O.message,code:J6.SpanStatusCode.ERROR}),X._runEndHook(Y,{args:G,span:H,error:O}),H.end(),O}}else return J.apply(this,G)},J),$=function(G){return new Promise((Q)=>W(G,Q))};return Object.defineProperty($,"name",{value:Y}),Object.defineProperty(W,z$4.promisify.custom,{value:$}),W}_patchPromiseFunction(Y,J){let X=this;return BT(async function(...W){let $=J6.context.active();if(!X._shouldTrace($))return J.apply(this,W);if(X._runCreateHook(Y,{args:W})===!1)return J6.context.with((0,d3.suppressTracing)($),J,this,...W);let G=X.tracer.startSpan(`fs ${Y}`);try{let Q=await J6.context.with((0,d3.suppressTracing)(J6.trace.setSpan($,G)),J,this,...W);return X._runEndHook(Y,{args:W,span:G}),Q}catch(Q){throw G.recordException(Q),G.setStatus({message:Q.message,code:J6.SpanStatusCode.ERROR}),X._runEndHook(Y,{args:W,span:G,error:Q}),Q}finally{G.end()}},J)}_runCreateHook(...Y){let{createHook:J}=this.getConfig();if(typeof J==="function")try{return J(...Y)}catch(X){this._diag.error("caught createHook error",X)}return!0}_runEndHook(...Y){let{endHook:J}=this.getConfig();if(typeof J==="function")try{J(...Y)}catch(X){this._diag.error("caught endHook error",X)}}_shouldTrace(Y){if((0,d3.isTracingSuppressed)(Y))return!1;let{requireParentSpan:J}=this.getConfig();if(J){if(J6.trace.getSpan(Y)==null)return!1}return!0}}PE1.FsInstrumentation=AE1});var EE1=q((Pc)=>{Object.defineProperty(Pc,"__esModule",{value:!0});Pc.FsInstrumentation=void 0;var H$4=ME1();Object.defineProperty(Pc,"FsInstrumentation",{enumerable:!0,get:function(){return H$4.FsInstrumentation}})});var NE1=q((TE1)=>{Object.defineProperty(TE1,"__esModule",{value:!0});TE1.PACKAGE_NAME=TE1.PACKAGE_VERSION=void 0;TE1.PACKAGE_VERSION="0.55.0";TE1.PACKAGE_NAME="@opentelemetry/instrumentation-generic-pool"});var _E1=q((jE1)=>{Object.defineProperty(jE1,"__esModule",{value:!0});jE1.GenericPoolInstrumentation=void 0;var xH=t(),YQ=t1(),SE1=NE1(),Lc="generic-pool";class CE1 extends YQ.InstrumentationBase{_isDisabled=!1;constructor(Y={}){super(SE1.PACKAGE_NAME,SE1.PACKAGE_VERSION,Y)}init(){return[new YQ.InstrumentationNodeModuleDefinition(Lc,[">=3.0.0 <4"],(Y)=>{let J=Y.Pool;if((0,YQ.isWrapped)(J.prototype.acquire))this._unwrap(J.prototype,"acquire");return this._wrap(J.prototype,"acquire",this._acquirePatcher.bind(this)),Y},(Y)=>{let J=Y.Pool;return this._unwrap(J.prototype,"acquire"),Y}),new YQ.InstrumentationNodeModuleDefinition(Lc,[">=2.4.0 <3"],(Y)=>{let J=Y.Pool;if((0,YQ.isWrapped)(J.prototype.acquire))this._unwrap(J.prototype,"acquire");return this._wrap(J.prototype,"acquire",this._acquireWithCallbacksPatcher.bind(this)),Y},(Y)=>{let J=Y.Pool;return this._unwrap(J.prototype,"acquire"),Y}),new YQ.InstrumentationNodeModuleDefinition(Lc,[">=2.0.0 <2.4"],(Y)=>{if(this._isDisabled=!1,(0,YQ.isWrapped)(Y.Pool))this._unwrap(Y,"Pool");return this._wrap(Y,"Pool",this._poolWrapper.bind(this)),Y},(Y)=>{return this._isDisabled=!0,Y})]}_acquirePatcher(Y){let J=this;return function(...Z){let W=xH.context.active(),$=J.tracer.startSpan("generic-pool.acquire",{},W);return xH.context.with(xH.trace.setSpan(W,$),()=>{return Y.call(this,...Z).then((G)=>{return $.end(),G},(G)=>{throw $.recordException(G),$.end(),G})})}}_poolWrapper(Y){let J=this;return function(){let Z=Y.apply(this,arguments);return J._wrap(Z,"acquire",J._acquireWithCallbacksPatcher.bind(J)),Z}}_acquireWithCallbacksPatcher(Y){let J=this;return function(Z,W){if(J._isDisabled)return Y.call(this,Z,W);let $=xH.context.active(),G=J.tracer.startSpan("generic-pool.acquire",{},$);return xH.context.with(xH.trace.setSpan($,G),()=>{Y.call(this,(Q,U)=>{if(G.end(),Z)return Z(Q,U)},W)})}}}jE1.GenericPoolInstrumentation=CE1});var xE1=q((Mc)=>{Object.defineProperty(Mc,"__esModule",{value:!0});Mc.GenericPoolInstrumentation=void 0;var B$4=_E1();Object.defineProperty(Mc,"GenericPoolInstrumentation",{enumerable:!0,get:function(){return B$4.GenericPoolInstrumentation}})});var Tc=q((hE1)=>{Object.defineProperty(hE1,"__esModule",{value:!0});hE1.SpanNames=hE1.TokenKind=hE1.AllowedOperationTypes=void 0;var F$4;(function(Y){Y.QUERY="query",Y.MUTATION="mutation",Y.SUBSCRIPTION="subscription"})(F$4=hE1.AllowedOperationTypes||(hE1.AllowedOperationTypes={}));var V$4;(function(Y){Y.SOF="<SOF>",Y.EOF="<EOF>",Y.BANG="!",Y.DOLLAR="$",Y.AMP="&",Y.PAREN_L="(",Y.PAREN_R=")",Y.SPREAD="...",Y.COLON=":",Y.EQUALS="=",Y.AT="@",Y.BRACKET_L="[",Y.BRACKET_R="]",Y.BRACE_L="{",Y.PIPE="|",Y.BRACE_R="}",Y.NAME="Name",Y.INT="Int",Y.FLOAT="Float",Y.STRING="String",Y.BLOCK_STRING="BlockString",Y.COMMENT="Comment"})(V$4=hE1.TokenKind||(hE1.TokenKind={}));var I$4;(function(Y){Y.EXECUTE="graphql.execute",Y.PARSE="graphql.parse",Y.RESOLVE="graphql.resolve",Y.VALIDATE="graphql.validate",Y.SCHEMA_VALIDATE="graphql.validateSchema",Y.SCHEMA_PARSE="graphql.parseSchema"})(I$4=hE1.SpanNames||(hE1.SpanNames={}))});var Nc=q((bE1)=>{Object.defineProperty(bE1,"__esModule",{value:!0});bE1.AttributeNames=void 0;var D$4;(function(Y){Y.SOURCE="graphql.source",Y.FIELD_NAME="graphql.field.name",Y.FIELD_PATH="graphql.field.path",Y.FIELD_TYPE="graphql.field.type",Y.OPERATION_TYPE="graphql.operation.type",Y.OPERATION_NAME="graphql.operation.name",Y.VARIABLES="graphql.variables.",Y.ERROR_VALIDATION_NAME="graphql.validation.error"})(D$4=bE1.AttributeNames||(bE1.AttributeNames={}))});var qT=q((yE1)=>{Object.defineProperty(yE1,"__esModule",{value:!0});yE1.OTEL_GRAPHQL_DATA_SYMBOL=yE1.OTEL_PATCHED_SYMBOL=void 0;yE1.OTEL_PATCHED_SYMBOL=Symbol.for("opentelemetry.patched");yE1.OTEL_GRAPHQL_DATA_SYMBOL=Symbol.for("opentelemetry.graphql_data")});var dE1=q((uE1)=>{Object.defineProperty(uE1,"__esModule",{value:!0});uE1.OPERATION_NOT_SUPPORTED=void 0;var _18=qT();uE1.OPERATION_NOT_SUPPORTED="Operation$operationName$not supported"});var $T1=q((XT1)=>{Object.defineProperty(XT1,"__esModule",{value:!0});XT1.wrapFieldResolver=XT1.wrapFields=XT1.getSourceFromLocation=XT1.getOperation=XT1.endSpan=XT1.addSpanSource=XT1.addInputVariableAttributes=XT1.isPromise=void 0;var vH=t(),AW=Tc(),fH=Nc(),c3=qT(),cE1=Object.values(AW.AllowedOperationTypes),A$4=(Y)=>{return typeof Y?.then==="function"};XT1.isPromise=A$4;var P$4=(Y)=>{return typeof Y=="object"&&Y!==null};function Sc(Y,J,X){if(Array.isArray(X))X.forEach((Z,W)=>{Sc(Y,`${J}.${W}`,Z)});else if(X instanceof Object)Object.entries(X).forEach(([Z,W])=>{Sc(Y,`${J}.${Z}`,W)});else Y.setAttribute(`${fH.AttributeNames.VARIABLES}${String(J)}`,X)}function L$4(Y,J){Object.entries(J).forEach(([X,Z])=>{Sc(Y,X,Z)})}XT1.addInputVariableAttributes=L$4;function iE1(Y,J,X,Z,W){let $=tE1(J,X,Z,W);Y.setAttribute(fH.AttributeNames.SOURCE,$)}XT1.addSpanSource=iE1;function M$4(Y,J,X,Z,W){let $=oE1(X,W);if($)return{field:$,spanAdded:!1};let Q=J().flatResolveSpans?aE1(X):rE1(X,W);return $={span:E$4(Y,J,X,Z,W,Q)},N$4(X,W,$),{field:$,spanAdded:!0}}function E$4(Y,J,X,Z,W,$){let G={[fH.AttributeNames.FIELD_NAME]:Z.fieldName,[fH.AttributeNames.FIELD_PATH]:W.join("."),[fH.AttributeNames.FIELD_TYPE]:Z.returnType.toString()},Q=Y.startSpan(`${AW.SpanNames.RESOLVE} ${G[fH.AttributeNames.FIELD_PATH]}`,{attributes:G},$?vH.trace.setSpan(vH.context.active(),$):void 0),U=X[c3.OTEL_GRAPHQL_DATA_SYMBOL].source,z=Z.fieldNodes.find((H)=>H.kind==="Field");if(z)iE1(Q,U.loc,J().allowValues,z.loc?.start,z.loc?.end);return Q}function T$4(Y,J){if(J)Y.recordException(J);Y.end()}XT1.endSpan=T$4;function R$4(Y,J){if(!Y||!Array.isArray(Y.definitions))return;if(J)return Y.definitions.filter((X)=>cE1.indexOf(X?.operation)!==-1).find((X)=>J===X?.name?.value);else return Y.definitions.find((X)=>cE1.indexOf(X?.operation)!==-1)}XT1.getOperation=R$4;function N$4(Y,J,X){return Y[c3.OTEL_GRAPHQL_DATA_SYMBOL].fields[J.join(".")]=X}function oE1(Y,J){return Y[c3.OTEL_GRAPHQL_DATA_SYMBOL].fields[J.join(".")]}function rE1(Y,J){for(let X=J.length-1;X>0;X--){let Z=oE1(Y,J.slice(0,X));if(Z)return Z.span}return aE1(Y)}function aE1(Y){return Y[c3.OTEL_GRAPHQL_DATA_SYMBOL].span}function S$4(Y,J){let X=[],Z=J;while(Z){let W=Z.key;if(Y&&typeof W==="number")W="*";X.push(String(W)),Z=Z.prev}return X.reverse()}function C$4(Y){return sE1(`
`,Y)}function lE1(Y){return sE1(" ",Y)}function sE1(Y,J){let X="";for(let Z=0;Z<J;Z++)X+=Y;return X}var j$4=[AW.TokenKind.FLOAT,AW.TokenKind.STRING,AW.TokenKind.INT,AW.TokenKind.BLOCK_STRING];function tE1(Y,J=!1,X,Z){let W="";if(Y?.startToken){let $=typeof X==="number"?X:Y.start,G=typeof Z==="number"?Z:Y.end,Q=Y.startToken.next,U=1;while(Q){if(Q.start<$){Q=Q.next,U=Q?.line;continue}if(Q.end>G){Q=Q.next,U=Q?.line;continue}let z=Q.value||Q.kind,H="";if(!J&&j$4.indexOf(Q.kind)>=0)z="*";if(Q.kind===AW.TokenKind.STRING)z=`"${z}"`;if(Q.kind===AW.TokenKind.EOF)z="";if(Q.line>U)W+=C$4(Q.line-U),U=Q.line,H=lE1(Q.column-1);else if(Q.line===Q.prev?.line)H=lE1(Q.start-(Q.prev?.end||0));if(W+=H+z,Q)Q=Q.next}}return W}XT1.getSourceFromLocation=tE1;function eE1(Y,J,X){if(!Y||Y[c3.OTEL_PATCHED_SYMBOL])return;let Z=Y.getFields();Y[c3.OTEL_PATCHED_SYMBOL]=!0,Object.keys(Z).forEach((W)=>{let $=Z[W];if(!$)return;if($.resolve)$.resolve=JT1(J,X,$.resolve);if($.type){let G=YT1($.type);for(let Q of G)eE1(Q,J,X)}})}XT1.wrapFields=eE1;function YT1(Y){if("ofType"in Y)return YT1(Y.ofType);if(k$4(Y))return Y.getTypes();if(_$4(Y))return[Y];return[]}function k$4(Y){return"getTypes"in Y&&typeof Y.getTypes==="function"}function _$4(Y){return"getFields"in Y&&typeof Y.getFields==="function"}var pE1=(Y,J,X)=>{if(!X)return;Y.recordException(J),Y.setStatus({code:vH.SpanStatusCode.ERROR,message:J.message}),Y.end()},nE1=(Y,J)=>{if(!J)return;Y.end()};function JT1(Y,J,X,Z=!1){if(W[c3.OTEL_PATCHED_SYMBOL]||typeof X!=="function")return X;function W($,G,Q,U){if(!X)return;let z=J();if(z.ignoreTrivialResolveSpans&&Z&&(P$4($)||typeof $==="function")){if(typeof $[U.fieldName]!=="function")return X.call(this,$,G,Q,U)}if(!Q[c3.OTEL_GRAPHQL_DATA_SYMBOL])return X.call(this,$,G,Q,U);let H=S$4(z.mergeItems,U&&U.path),O=H.filter((F)=>typeof F==="string").length,K,B=!1;if(z.depth>=0&&z.depth<O)K=rE1(Q,H);else{let{field:F,spanAdded:V}=M$4(Y,J,Q,U,H);K=F.span,B=V}return vH.context.with(vH.trace.setSpan(vH.context.active(),K),()=>{try{let F=X.call(this,$,G,Q,U);if(XT1.isPromise(F))return F.then((V)=>{return nE1(K,B),V},(V)=>{throw pE1(K,V,B),V});else return nE1(K,B),F}catch(F){throw pE1(K,F,B),F}})}return W[c3.OTEL_PATCHED_SYMBOL]=!0,W}XT1.wrapFieldResolver=JT1});var UT1=q((GT1)=>{Object.defineProperty(GT1,"__esModule",{value:!0});GT1.PACKAGE_NAME=GT1.PACKAGE_VERSION=void 0;GT1.PACKAGE_VERSION="0.59.0";GT1.PACKAGE_NAME="@opentelemetry/instrumentation-graphql"});var qT1=q((KT1)=>{Object.defineProperty(KT1,"__esModule",{value:!0});KT1.GraphQLInstrumentation=void 0;var l3=t(),u7=t1(),nF=Tc(),FT=Nc(),Cc=qT(),u$4=dE1(),v5=$T1(),zT1=UT1(),HT1={mergeItems:!1,depth:-1,allowValues:!1,ignoreResolveSpans:!1},VT=[">=14.0.0 <17"];class OT1 extends u7.InstrumentationBase{constructor(Y={}){super(zT1.PACKAGE_NAME,zT1.PACKAGE_VERSION,{...HT1,...Y})}setConfig(Y={}){super.setConfig({...HT1,...Y})}init(){let Y=new u7.InstrumentationNodeModuleDefinition("graphql",VT);return Y.files.push(this._addPatchingExecute()),Y.files.push(this._addPatchingParser()),Y.files.push(this._addPatchingValidate()),Y}_addPatchingExecute(){return new u7.InstrumentationNodeModuleFile("graphql/execution/execute.js",VT,(Y)=>{if((0,u7.isWrapped)(Y.execute))this._unwrap(Y,"execute");return this._wrap(Y,"execute",this._patchExecute(Y.defaultFieldResolver)),Y},(Y)=>{if(Y)this._unwrap(Y,"execute")})}_addPatchingParser(){return new u7.InstrumentationNodeModuleFile("graphql/language/parser.js",VT,(Y)=>{if((0,u7.isWrapped)(Y.parse))this._unwrap(Y,"parse");return this._wrap(Y,"parse",this._patchParse()),Y},(Y)=>{if(Y)this._unwrap(Y,"parse")})}_addPatchingValidate(){return new u7.InstrumentationNodeModuleFile("graphql/validation/validate.js",VT,(Y)=>{if((0,u7.isWrapped)(Y.validate))this._unwrap(Y,"validate");return this._wrap(Y,"validate",this._patchValidate()),Y},(Y)=>{if(Y)this._unwrap(Y,"validate")})}_patchExecute(Y){let J=this;return function(Z){return function(){let $;if(arguments.length>=2){let U=arguments;$=J._wrapExecuteArgs(U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],Y)}else{let U=arguments[0];$=J._wrapExecuteArgs(U.schema,U.document,U.rootValue,U.contextValue,U.variableValues,U.operationName,U.fieldResolver,U.typeResolver,Y)}let G=(0,v5.getOperation)($.document,$.operationName),Q=J._createExecuteSpan(G,$);return $.contextValue[Cc.OTEL_GRAPHQL_DATA_SYMBOL]={source:$.document?$.document||$.document[Cc.OTEL_GRAPHQL_DATA_SYMBOL]:void 0,span:Q,fields:{}},l3.context.with(l3.trace.setSpan(l3.context.active(),Q),()=>{return(0,u7.safeExecuteInTheMiddle)(()=>{return Z.apply(this,[$])},(U,z)=>{J._handleExecutionResult(Q,U,z)})})}}}_handleExecutionResult(Y,J,X){let Z=this.getConfig();if(X===void 0||J){(0,v5.endSpan)(Y,J);return}if((0,v5.isPromise)(X))X.then((W)=>{if(typeof Z.responseHook!=="function"){(0,v5.endSpan)(Y);return}this._executeResponseHook(Y,W)},(W)=>{(0,v5.endSpan)(Y,W)});else{if(typeof Z.responseHook!=="function"){(0,v5.endSpan)(Y);return}this._executeResponseHook(Y,X)}}_executeResponseHook(Y,J){let{responseHook:X}=this.getConfig();if(!X)return;(0,u7.safeExecuteInTheMiddle)(()=>{X(Y,J)},(Z)=>{if(Z)this._diag.error("Error running response hook",Z);(0,v5.endSpan)(Y,void 0)},!0)}_patchParse(){let Y=this;return function(X){return function(W,$){return Y._parse(this,X,W,$)}}}_patchValidate(){let Y=this;return function(X){return function(W,$,G,Q,U){return Y._validate(this,X,W,$,G,U,Q)}}}_parse(Y,J,X,Z){let W=this.getConfig(),$=this.tracer.startSpan(nF.SpanNames.PARSE);return l3.context.with(l3.trace.setSpan(l3.context.active(),$),()=>{return(0,u7.safeExecuteInTheMiddle)(()=>{return J.call(Y,X,Z)},(G,Q)=>{if(Q){if(!(0,v5.getOperation)(Q))$.updateName(nF.SpanNames.SCHEMA_PARSE);else if(Q.loc)(0,v5.addSpanSource)($,Q.loc,W.allowValues)}(0,v5.endSpan)($,G)})})}_validate(Y,J,X,Z,W,$,G){let Q=this.tracer.startSpan(nF.SpanNames.VALIDATE,{});return l3.context.with(l3.trace.setSpan(l3.context.active(),Q),()=>{return(0,u7.safeExecuteInTheMiddle)(()=>{return J.call(Y,X,Z,W,G,$)},(U,z)=>{if(!Z.loc)Q.updateName(nF.SpanNames.SCHEMA_VALIDATE);if(z&&z.length)Q.recordException({name:FT.AttributeNames.ERROR_VALIDATION_NAME,message:JSON.stringify(z)});(0,v5.endSpan)(Q,U)})})}_createExecuteSpan(Y,J){let X=this.getConfig(),Z=this.tracer.startSpan(nF.SpanNames.EXECUTE,{});if(Y){let{operation:W,name:$}=Y;Z.setAttribute(FT.AttributeNames.OPERATION_TYPE,W);let G=$?.value;if(G)Z.setAttribute(FT.AttributeNames.OPERATION_NAME,G),Z.updateName(`${W} ${G}`);else Z.updateName(W)}else{let W=" ";if(J.operationName)W=` "${J.operationName}" `;W=u$4.OPERATION_NOT_SUPPORTED.replace("$operationName$",W),Z.setAttribute(FT.AttributeNames.OPERATION_NAME,W)}if(J.document?.loc)(0,v5.addSpanSource)(Z,J.document.loc,X.allowValues);if(J.variableValues&&X.allowValues)(0,v5.addInputVariableAttributes)(Z,J.variableValues);return Z}_wrapExecuteArgs(Y,J,X,Z,W,$,G,Q,U){if(!Z)Z={};if(Z[Cc.OTEL_GRAPHQL_DATA_SYMBOL]||this.getConfig().ignoreResolveSpans)return{schema:Y,document:J,rootValue:X,contextValue:Z,variableValues:W,operationName:$,fieldResolver:G,typeResolver:Q};let z=G==null,H=G??U;if(G=(0,v5.wrapFieldResolver)(this.tracer,()=>this.getConfig(),H,z),Y)(0,v5.wrapFields)(Y.getQueryType(),this.tracer,()=>this.getConfig()),(0,v5.wrapFields)(Y.getMutationType(),this.tracer,()=>this.getConfig());return{schema:Y,document:J,rootValue:X,contextValue:Z,variableValues:W,operationName:$,fieldResolver:G,typeResolver:Q}}}KT1.GraphQLInstrumentation=OT1});var kc=q((jc)=>{Object.defineProperty(jc,"__esModule",{value:!0});jc.GraphQLInstrumentation=void 0;var m$4=qT1();Object.defineProperty(jc,"GraphQLInstrumentation",{enumerable:!0,get:function(){return m$4.GraphQLInstrumentation}})});var IT=q((FT1)=>{Object.defineProperty(FT1,"__esModule",{value:!0});FT1.RPC_GRPC_STATUS_CODE_VALUE_OK=FT1.ATTR_RPC_GRPC_STATUS_CODE=FT1.ATTR_RPC_SYSTEM=FT1.ATTR_RPC_SERVICE=FT1.ATTR_RPC_METHOD=FT1.ATTR_NET_PEER_PORT=FT1.ATTR_NET_PEER_NAME=void 0;FT1.ATTR_NET_PEER_NAME="net.peer.name";FT1.ATTR_NET_PEER_PORT="net.peer.port";FT1.ATTR_RPC_METHOD="rpc.method";FT1.ATTR_RPC_SERVICE="rpc.service";FT1.ATTR_RPC_SYSTEM="rpc.system";FT1.ATTR_RPC_GRPC_STATUS_CODE="rpc.grpc.status_code";FT1.RPC_GRPC_STATUS_CODE_VALUE_OK=0});var DT=q((DT1)=>{Object.defineProperty(DT1,"__esModule",{value:!0});DT1.metadataCapture=DT1._extractMethodAndService=DT1._methodIsIgnored=DT1._grpcStatusCodeToSpanStatus=DT1._grpcStatusCodeToOpenTelemetryStatusCode=DT1.URI_REGEX=void 0;var IT1=t();DT1.URI_REGEX=/(?:([A-Za-z0-9+.-]+):(?:\/\/)?)?(?<name>[A-Za-z0-9+.-]+):(?<port>[0-9+.-]+)$/;var r$4=(Y)=>{if(Y!==void 0&&Y===0)return IT1.SpanStatusCode.UNSET;return IT1.SpanStatusCode.ERROR};DT1._grpcStatusCodeToOpenTelemetryStatusCode=r$4;var a$4=(Y)=>{return{code:DT1._grpcStatusCodeToOpenTelemetryStatusCode(Y)}};DT1._grpcStatusCodeToSpanStatus=a$4;var s$4=(Y,J)=>{if(typeof J==="string")return J.toLowerCase()===Y.toLowerCase();else if(J instanceof RegExp)return J.test(Y);else if(typeof J==="function")return J(Y);else return!1},t$4=(Y,J)=>{if(!J)return!1;for(let X of J)if(s$4(Y,X))return!0;return!1};DT1._methodIsIgnored=t$4;var e$4=(Y)=>{let J=Y.replace(/^\//,"").split("/"),X=J.shift()||"",Z=J.join("/");return{service:X,method:Z}};DT1._extractMethodAndService=e$4;function YG4(Y,J){let X=new Map(J.map((Z)=>[Z.toLowerCase(),Z.toLowerCase().replace(/-/g,"_")]));return(Z,W)=>{for(let[$,G]of X){let Q=W.get($).flatMap((z)=>typeof z==="string"?z.toString():[]);if(Q===void 0||Q.length===0)continue;let U=`rpc.${Y}.metadata.${G}`;Z.setAttribute(U,Q)}}}DT1.metadataCapture=YG4});var _c=q((PT1)=>{Object.defineProperty(PT1,"__esModule",{value:!0});PT1.AttributeNames=void 0;PT1.AttributeNames={GRPC_ERROR_NAME:"grpc.error_name",GRPC_ERROR_MESSAGE:"grpc.error_message"}});var TT1=q((MT1)=>{Object.defineProperty(MT1,"__esModule",{value:!0});MT1.shouldNotTraceServerCall=MT1.handleUntracedServerFunction=MT1.handleServerFunction=MT1.CALL_SPAN_ENDED=void 0;var $G4=C("events"),hH=t(),xc=DT(),wT=_c(),bH=IT();MT1.CALL_SPAN_ENDED=Symbol("opentelemetry call span ended");function GG4(Y,J,X){let Z=!1,W=()=>{if(!Z)Z=!0,Y.end()};return hH.context.bind(hH.context.active(),J),J.on("finish",()=>{if(J[MT1.CALL_SPAN_ENDED])return;J[MT1.CALL_SPAN_ENDED]=!0,Y.setStatus({code:hH.SpanStatusCode.UNSET}),Y.setAttribute(bH.ATTR_RPC_GRPC_STATUS_CODE,bH.RPC_GRPC_STATUS_CODE_VALUE_OK),W()}),J.on($G4.errorMonitor,($)=>{if(J[MT1.CALL_SPAN_ENDED])return;J[MT1.CALL_SPAN_ENDED]=!0,Y.setStatus({code:(0,xc._grpcStatusCodeToOpenTelemetryStatusCode)($.code),message:$.message}),Y.setAttributes({[wT.AttributeNames.GRPC_ERROR_NAME]:$.name,[wT.AttributeNames.GRPC_ERROR_MESSAGE]:$.message,[bH.ATTR_RPC_GRPC_STATUS_CODE]:$.code}),W()}),X.call({},J)}function QG4(Y,J,X,Z){let W=($,G)=>{if($){if($.code)Y.setStatus({code:(0,xc._grpcStatusCodeToOpenTelemetryStatusCode)($.code),message:$.message}),Y.setAttribute(bH.ATTR_RPC_GRPC_STATUS_CODE,$.code);Y.setAttributes({[wT.AttributeNames.GRPC_ERROR_NAME]:$.name,[wT.AttributeNames.GRPC_ERROR_MESSAGE]:$.message})}else Y.setStatus({code:hH.SpanStatusCode.UNSET}),Y.setAttribute(bH.ATTR_RPC_GRPC_STATUS_CODE,bH.RPC_GRPC_STATUS_CODE_VALUE_OK);return Y.end(),X($,G)};return hH.context.bind(hH.context.active(),J),Z.call({},J,W)}function UG4(Y,J,X,Z,W){switch(J){case"unary":case"clientStream":case"client_stream":return QG4(Y,Z,W,X);case"serverStream":case"server_stream":case"bidi":return GG4(Y,Z,X);default:break}}MT1.handleServerFunction=UG4;function zG4(Y,J,X,Z){switch(Y){case"unary":case"clientStream":case"client_stream":return J.call({},X,Z);case"serverStream":case"server_stream":case"bidi":return J.call({},X);default:break}}MT1.handleUntracedServerFunction=zG4;function HG4(Y,J){let X=Y.split("/");return(0,xc._methodIsIgnored)(X[X.length-1]||Y,J)}MT1.shouldNotTraceServerCall=HG4});var xT1=q((kT1)=>{Object.defineProperty(kT1,"__esModule",{value:!0});kT1.setSpanContext=kT1.extractMetadataOrSpliceDefault=kT1.extractMetadataOrSplice=kT1.getMetadataIndex=kT1.makeGrpcClientRemoteCall=kT1.patchResponseStreamEvents=kT1.patchResponseMetadataEvent=kT1.patchedCallback=kT1.getMethodsToWrap=void 0;var yH=t(),AT=_c(),oF=IT(),PT=DT(),BG4=C("events");function qG4(Y,J){let X=[];return Object.entries(J).forEach(([Z,{originalName:W}])=>{if(!(0,PT._methodIsIgnored)(Z,this.getConfig().ignoreGrpcMethods)){if(X.push(Z),W&&Y.prototype.hasOwnProperty(W)&&Z!==W)X.push(W)}}),X}kT1.getMethodsToWrap=qG4;function RT1(Y,J){let X=(Z,W)=>{if(Z){if(Z.code)Y.setStatus((0,PT._grpcStatusCodeToSpanStatus)(Z.code)),Y.setAttribute(oF.ATTR_RPC_GRPC_STATUS_CODE,Z.code);Y.setAttributes({[AT.AttributeNames.GRPC_ERROR_NAME]:Z.name,[AT.AttributeNames.GRPC_ERROR_MESSAGE]:Z.message})}else Y.setAttribute(oF.ATTR_RPC_GRPC_STATUS_CODE,oF.RPC_GRPC_STATUS_CODE_VALUE_OK);Y.end(),J(Z,W)};return yH.context.bind(yH.context.active(),X)}kT1.patchedCallback=RT1;function FG4(Y,J,X){J.on("metadata",(Z)=>{X.client.captureResponseMetadata(Y,Z)})}kT1.patchResponseMetadataEvent=FG4;function NT1(Y,J){let X=!1,Z=()=>{if(!X)Y.end(),X=!0};yH.context.bind(yH.context.active(),J),J.on(BG4.errorMonitor,(W)=>{if(X)return;Y.setStatus({code:(0,PT._grpcStatusCodeToOpenTelemetryStatusCode)(W.code),message:W.message}),Y.setAttributes({[AT.AttributeNames.GRPC_ERROR_NAME]:W.name,[AT.AttributeNames.GRPC_ERROR_MESSAGE]:W.message,[oF.ATTR_RPC_GRPC_STATUS_CODE]:W.code}),Z()}),J.on("status",(W)=>{if(X)return;Y.setStatus((0,PT._grpcStatusCodeToSpanStatus)(W.code)),Y.setAttribute(oF.ATTR_RPC_GRPC_STATUS_CODE,W.code),Z()})}kT1.patchResponseStreamEvents=NT1;function VG4(Y,J,X,Z,W){return($)=>{if(!J.responseStream){let Q=X.findIndex((U)=>{return typeof U==="function"});if(Q!==-1)X[Q]=RT1($,X[Q])}jT1(Z);let G=J.apply(W,X);if(G.on("metadata",(Q)=>{Y.client.captureResponseMetadata($,Q)}),J.responseStream)NT1($,G);return G}}kT1.makeGrpcClientRemoteCall=VG4;function ST1(Y){return Y.findIndex((J)=>{return J&&typeof J==="object"&&J.internalRepr&&typeof J.getMap==="function"})}kT1.getMetadataIndex=ST1;function CT1(Y,J,X){let Z,W=ST1(J);if(W===-1)Z=new Y.Metadata,J.splice(X,0,Z);else Z=J[W];return Z}kT1.extractMetadataOrSplice=CT1;function IG4(Y,J,X){return CT1(Y,X,J.requestStream?0:1)}kT1.extractMetadataOrSpliceDefault=IG4;function jT1(Y){yH.propagation.inject(yH.context.active(),Y,{set:(J,X,Z)=>J.set(X,Z)})}kT1.setSpanContext=jT1});var hT1=q((fT1)=>{Object.defineProperty(fT1,"__esModule",{value:!0});fT1.AttributeValues=void 0;fT1.AttributeValues={RPC_SYSTEM:"grpc"}});var gT1=q((bT1)=>{Object.defineProperty(bT1,"__esModule",{value:!0});bT1.VERSION=void 0;bT1.VERSION="0.212.0"});var lT1=q((dT1)=>{Object.defineProperty(dT1,"__esModule",{value:!0});dT1.GrpcInstrumentation=void 0;var $9=t(),gH=t1(),uT1=X0(),dY=IT(),fc=TT1(),p3=xT1(),n3=DT(),RG4=hT1(),NG4=gT1();class mT1 extends gH.InstrumentationBase{_metadataCapture;_semconvStability;constructor(Y={}){super("@opentelemetry/instrumentation-grpc",NG4.VERSION,Y);this._metadataCapture=this._createMetadataCapture(),this._semconvStability=(0,gH.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}init(){return[new gH.InstrumentationNodeModuleDefinition("@grpc/grpc-js",["^1.0.0"],(Y)=>{return this._wrap(Y.Server.prototype,"register",this._patchServer()),this._wrap(Y,"makeGenericClientConstructor",this._patchClient(Y)),this._wrap(Y,"makeClientConstructor",this._patchClient(Y)),this._wrap(Y,"loadPackageDefinition",this._patchLoadPackageDefinition(Y)),this._wrap(Y.Client.prototype,"makeUnaryRequest",this._patchClientRequestMethod(Y,!1,"makeUnaryRequest")),this._wrap(Y.Client.prototype,"makeClientStreamRequest",this._patchClientRequestMethod(Y,!1,"makeClientStreamRequest")),this._wrap(Y.Client.prototype,"makeServerStreamRequest",this._patchClientRequestMethod(Y,!0,"makeServerStreamRequest")),this._wrap(Y.Client.prototype,"makeBidiStreamRequest",this._patchClientRequestMethod(Y,!0,"makeBidiStreamRequest")),Y},(Y)=>{if(Y===void 0)return;this._unwrap(Y.Server.prototype,"register"),this._unwrap(Y,"makeClientConstructor"),this._unwrap(Y,"makeGenericClientConstructor"),this._unwrap(Y,"loadPackageDefinition"),this._unwrap(Y.Client.prototype,"makeUnaryRequest"),this._unwrap(Y.Client.prototype,"makeClientStreamRequest"),this._unwrap(Y.Client.prototype,"makeServerStreamRequest"),this._unwrap(Y.Client.prototype,"makeBidiStreamRequest")})]}setConfig(Y={}){super.setConfig(Y),this._metadataCapture=this._createMetadataCapture()}_patchServer(){let Y=this;return(J)=>{let X=this.getConfig();return Y._diag.debug("patched gRPC server"),function(W,$,G,Q,U){let z=J.call(this,W,$,G,Q,U),H=this.handlers.get(W);return Y._wrap(H,"func",(O)=>{return function(B,F){let V=this;if((0,fc.shouldNotTraceServerCall)(W,X.ignoreGrpcMethods))return(0,fc.handleUntracedServerFunction)(U,O,B,F);let I=`grpc.${W.replace("/","")}`,D={kind:$9.SpanKind.SERVER};Y._diag.debug(`patch func: ${JSON.stringify(D)}`),$9.context.with($9.propagation.extract($9.ROOT_CONTEXT,B.metadata,{get:(L,A)=>L.get(A).map(String),keys:(L)=>Object.keys(L.getMap())}),()=>{let{service:L,method:A}=(0,n3._extractMethodAndService)(W),P=Y.tracer.startSpan(I,D).setAttributes({[dY.ATTR_RPC_SYSTEM]:RG4.AttributeValues.RPC_SYSTEM,[dY.ATTR_RPC_METHOD]:A,[dY.ATTR_RPC_SERVICE]:L});Y._metadataCapture.server.captureRequestMetadata(P,B.metadata),Y._wrap(B,"sendMetadata",(R)=>(N)=>{Y._metadataCapture.server.captureResponseMetadata(P,N),R.call(B,N)}),$9.context.with($9.trace.setSpan($9.context.active(),P),()=>{fc.handleServerFunction.call(V,P,U,O,B,F)})})}}),z}}}_patchClientRequestMethod(Y,J,X){let Z=this;return(W)=>{return Z._diag.debug(`patched ${X} on grpc client`),function(){let G=arguments[0],{name:Q,service:U,methodAttributeValue:z}=Z._splitMethodString(G);if(G!=null&&(0,n3._methodIsIgnored)(z,Z.getConfig().ignoreGrpcMethods))return W.apply(this,[...arguments]);let H=[...arguments],O=(0,p3.extractMetadataOrSplice)(Y,H,4),K=Z.createClientSpan(Q,z,U,O);if(Z.extractNetMetadata(this,K,Z._semconvStability),!J){let B=H.length-1,F=H[B];if(typeof F==="function")H[B]=(0,p3.patchedCallback)(K,F)}return $9.context.with($9.trace.setSpan($9.context.active(),K),()=>{(0,p3.setSpanContext)(O);let B=W.apply(this,[...H]);if((0,p3.patchResponseMetadataEvent)(K,B,Z._metadataCapture),J)(0,p3.patchResponseStreamEvents)(K,B);return B})}}}_patchClient(Y){let J=this;return(X)=>{return J._diag.debug("patching client"),function(W,$,G){let Q=X.call(this,W,$,G);return J._massWrap(Q.prototype,p3.getMethodsToWrap.call(J,Q,W),J._getPatchedClientMethods(Y)),Q}}}_patchLoadPackageDefinition(Y){let J=this;return J._diag.debug("patching loadPackageDefinition"),(X)=>{return function(W){let $=X.call(this,W);return J._patchLoadedPackage(Y,$),$}}}_getPatchedClientMethods(Y){let J=this;return(X)=>{J._diag.debug("patch all client methods");function Z(){let W=`grpc.${X.path.replace("/","")}`,$=[...arguments],G=p3.extractMetadataOrSpliceDefault.call(J,Y,X,$),{service:Q,method:U}=(0,n3._extractMethodAndService)(X.path),z=J.tracer.startSpan(W,{kind:$9.SpanKind.CLIENT}).setAttributes({[dY.ATTR_RPC_SYSTEM]:"grpc",[dY.ATTR_RPC_METHOD]:U,[dY.ATTR_RPC_SERVICE]:Q});return J.extractNetMetadata(this,z,J._semconvStability),J._metadataCapture.client.captureRequestMetadata(z,G),$9.context.with($9.trace.setSpan($9.context.active(),z),()=>(0,p3.makeGrpcClientRemoteCall)(J._metadataCapture,X,$,G,this)(z))}return Object.assign(Z,X),Z}}_splitMethodString(Y){if(Y==null)return{name:"",service:"",methodAttributeValue:""};let J=`grpc.${Y.replace("/","")}`,{service:X,method:Z}=(0,n3._extractMethodAndService)(Y);return{name:J,service:X,methodAttributeValue:Z}}createClientSpan(Y,J,X,Z){let W=this.tracer.startSpan(Y,{kind:$9.SpanKind.CLIENT}).setAttributes({[dY.ATTR_RPC_SYSTEM]:"grpc",[dY.ATTR_RPC_METHOD]:J,[dY.ATTR_RPC_SERVICE]:X});if(Z!=null)this._metadataCapture.client.captureRequestMetadata(W,Z);return W}extractNetMetadata(Y,J,X){let Z=n3.URI_REGEX.exec(Y.getChannel().getTarget()),W=Z?.groups?.name,$=parseInt(Z?.groups?.port??""),G={[dY.ATTR_NET_PEER_NAME]:W,[dY.ATTR_NET_PEER_PORT]:$},Q={[uT1.ATTR_SERVER_ADDRESS]:W,[uT1.ATTR_SERVER_PORT]:$};switch(X){case gH.SemconvStability.STABLE:J.setAttributes(Q);break;case gH.SemconvStability.OLD:J.setAttributes(G);break;case gH.SemconvStability.DUPLICATE:J.setAttributes({...G,...Q});break;default:J.setAttributes(G)}}_patchLoadedPackage(Y,J){Object.values(J).forEach((X)=>{if(typeof X==="function")this._massWrap(X.prototype,p3.getMethodsToWrap.call(this,X,X.service),this._getPatchedClientMethods.call(this,Y));else if(typeof X.format!=="string")this._patchLoadedPackage.call(this,Y,X)})}_createMetadataCapture(){let Y=this.getConfig();return{client:{captureRequestMetadata:(0,n3.metadataCapture)("request",Y.metadataToSpanAttributes?.client?.requestMetadata??[]),captureResponseMetadata:(0,n3.metadataCapture)("response",Y.metadataToSpanAttributes?.client?.responseMetadata??[])},server:{captureRequestMetadata:(0,n3.metadataCapture)("request",Y.metadataToSpanAttributes?.server?.requestMetadata??[]),captureResponseMetadata:(0,n3.metadataCapture)("response",Y.metadataToSpanAttributes?.server?.responseMetadata??[])}}}}dT1.GrpcInstrumentation=mT1});var pT1=q((vc)=>{Object.defineProperty(vc,"__esModule",{value:!0});vc.GrpcInstrumentation=void 0;var SG4=lT1();Object.defineProperty(vc,"GrpcInstrumentation",{enumerable:!0,get:function(){return SG4.GrpcInstrumentation}})});var oT1=q((nT1)=>{Object.defineProperty(nT1,"__esModule",{value:!0});nT1.PACKAGE_NAME=nT1.PACKAGE_VERSION=void 0;nT1.PACKAGE_VERSION="0.58.0";nT1.PACKAGE_NAME="@opentelemetry/instrumentation-hapi"});var hc=q((rT1)=>{Object.defineProperty(rT1,"__esModule",{value:!0});rT1.HapiLifecycleMethodNames=rT1.HapiLayerType=rT1.handlerPatched=rT1.HapiComponentName=void 0;rT1.HapiComponentName="@hapi/hapi";rT1.handlerPatched=Symbol("hapi-handler-patched");rT1.HapiLayerType={ROUTER:"router",PLUGIN:"plugin",EXT:"server.ext"};rT1.HapiLifecycleMethodNames=new Set(["onPreAuth","onCredentials","onPostAuth","onPreHandler","onPostHandler","onPreResponse","onRequest"])});var eT1=q((sT1)=>{Object.defineProperty(sT1,"__esModule",{value:!0});sT1.ATTR_HTTP_METHOD=void 0;sT1.ATTR_HTTP_METHOD="http.method"});var yc=q((YR1)=>{Object.defineProperty(YR1,"__esModule",{value:!0});YR1.AttributeNames=void 0;var fG4;(function(Y){Y.HAPI_TYPE="hapi.type",Y.PLUGIN_NAME="hapi.plugin.name",Y.EXT_TYPE="server.ext.type"})(fG4=YR1.AttributeNames||(YR1.AttributeNames={}))});var $R1=q((ZR1)=>{Object.defineProperty(ZR1,"__esModule",{value:!0});ZR1.getPluginFromInput=ZR1.getExtMetadata=ZR1.getRouteMetadata=ZR1.isPatchableExtMethod=ZR1.isDirectExtInput=ZR1.isLifecycleExtEventObj=ZR1.isLifecycleExtType=ZR1.getPluginName=void 0;var JR1=X0(),vG4=eT1(),rF=hc(),PW=yc(),XR1=t1();function hG4(Y){if(Y.name)return Y.name;else return Y.pkg.name}ZR1.getPluginName=hG4;var bG4=(Y)=>{return typeof Y==="string"&&rF.HapiLifecycleMethodNames.has(Y)};ZR1.isLifecycleExtType=bG4;var yG4=(Y)=>{let J=Y?.type;return J!==void 0&&ZR1.isLifecycleExtType(J)};ZR1.isLifecycleExtEventObj=yG4;var gG4=(Y)=>{return Array.isArray(Y)&&Y.length<=3&&ZR1.isLifecycleExtType(Y[0])&&typeof Y[1]==="function"};ZR1.isDirectExtInput=gG4;var uG4=(Y)=>{return!Array.isArray(Y)};ZR1.isPatchableExtMethod=uG4;var mG4=(Y,J,X)=>{let Z={[JR1.ATTR_HTTP_ROUTE]:Y.path};if(J&XR1.SemconvStability.OLD)Z[vG4.ATTR_HTTP_METHOD]=Y.method;if(J&XR1.SemconvStability.STABLE)Z[JR1.ATTR_HTTP_REQUEST_METHOD]=Y.method;let W;if(X)Z[PW.AttributeNames.HAPI_TYPE]=rF.HapiLayerType.PLUGIN,Z[PW.AttributeNames.PLUGIN_NAME]=X,W=`${X}: route - ${Y.path}`;else Z[PW.AttributeNames.HAPI_TYPE]=rF.HapiLayerType.ROUTER,W=`route - ${Y.path}`;return{attributes:Z,name:W}};ZR1.getRouteMetadata=mG4;var dG4=(Y,J)=>{if(J)return{attributes:{[PW.AttributeNames.EXT_TYPE]:Y,[PW.AttributeNames.HAPI_TYPE]:rF.HapiLayerType.EXT,[PW.AttributeNames.PLUGIN_NAME]:J},name:`${J}: ext - ${Y}`};return{attributes:{[PW.AttributeNames.EXT_TYPE]:Y,[PW.AttributeNames.HAPI_TYPE]:rF.HapiLayerType.EXT},name:`ext - ${Y}`}};ZR1.getExtMetadata=dG4;var cG4=(Y)=>{if("plugin"in Y){if("plugin"in Y.plugin)return Y.plugin.plugin;return Y.plugin}return Y};ZR1.getPluginFromInput=cG4});var OR1=q((zR1)=>{Object.defineProperty(zR1,"__esModule",{value:!0});zR1.HapiInstrumentation=void 0;var G7=t(),GR1=k1(),aF=t1(),QR1=oT1(),sF=hc(),i3=$R1();class UR1 extends aF.InstrumentationBase{_semconvStability;constructor(Y={}){super(QR1.PACKAGE_NAME,QR1.PACKAGE_VERSION,Y);this._semconvStability=(0,aF.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}init(){return new aF.InstrumentationNodeModuleDefinition(sF.HapiComponentName,[">=17.0.0 <22"],(Y)=>{let J=Y[Symbol.toStringTag]==="Module"?Y.default:Y;if(!(0,aF.isWrapped)(J.server))this._wrap(J,"server",this._getServerPatch.bind(this));if(!(0,aF.isWrapped)(J.Server))this._wrap(J,"Server",this._getServerPatch.bind(this));return J},(Y)=>{let J=Y[Symbol.toStringTag]==="Module"?Y.default:Y;this._massUnwrap([J],["server","Server"])})}_getServerPatch(Y){let J=this,X=this;return function(W){let $=Y.apply(this,[W]);return X._wrap($,"route",(G)=>{return J._getServerRoutePatch.bind(J)(G)}),X._wrap($,"ext",(G)=>{return J._getServerExtPatch.bind(J)(G)}),X._wrap($,"register",J._getServerRegisterPatch.bind(J)),$}}_getServerRegisterPatch(Y){let J=this;return function(Z,W){if(Array.isArray(Z))for(let $ of Z){let G=(0,i3.getPluginFromInput)($);J._wrapRegisterHandler(G)}else{let $=(0,i3.getPluginFromInput)(Z);J._wrapRegisterHandler($)}return Y.apply(this,[Z,W])}}_getServerExtPatch(Y,J){let X=this;return function(...W){if(Array.isArray(W[0])){let $=W[0];for(let G=0;G<$.length;G++){let Q=$[G];if((0,i3.isLifecycleExtType)(Q.type)){let U=Q,z=X._wrapExtMethods(U.method,Q.type,J);U.method=z,$[G]=U}}return Y.apply(this,W)}else if((0,i3.isDirectExtInput)(W)){let $=W,G=$[1],Q=X._wrapExtMethods(G,$[0],J);return Y.apply(this,[$[0],Q,$[2]])}else if((0,i3.isLifecycleExtEventObj)(W[0])){let $=W[0],G=X._wrapExtMethods($.method,$.type,J);return $.method=G,Y.call(this,$)}return Y.apply(this,W)}}_getServerRoutePatch(Y,J){let X=this;return function(Z){if(Array.isArray(Z))for(let W=0;W<Z.length;W++){let $=X._wrapRouteHandler.call(X,Z[W],J);Z[W]=$}else Z=X._wrapRouteHandler.call(X,Z,J);return Y.apply(this,[Z])}}_wrapRegisterHandler(Y){let J=this,X=(0,i3.getPluginName)(Y),Z=Y.register,W=this,$=function(G,Q){return W._wrap(G,"route",(U)=>{return J._getServerRoutePatch.bind(J)(U,X)}),W._wrap(G,"ext",(U)=>{return J._getServerExtPatch.bind(J)(U,X)}),Z.call(this,G,Q)};Y.register=$}_wrapExtMethods(Y,J,X){let Z=this;if(Y instanceof Array){for(let W=0;W<Y.length;W++)Y[W]=Z._wrapExtMethods(Y[W],J);return Y}else if((0,i3.isPatchableExtMethod)(Y)){if(Y[sF.handlerPatched]===!0)return Y;return Y[sF.handlerPatched]=!0,async function(...$){if(G7.trace.getSpan(G7.context.active())===void 0)return await Y.apply(this,$);let G=(0,i3.getExtMetadata)(J,X),Q=Z.tracer.startSpan(G.name,{attributes:G.attributes});try{return await G7.context.with(G7.trace.setSpan(G7.context.active(),Q),Y,void 0,...$)}catch(U){throw Q.recordException(U),Q.setStatus({code:G7.SpanStatusCode.ERROR,message:U.message}),U}finally{Q.end()}}}return Y}_wrapRouteHandler(Y,J){let X=this;if(Y[sF.handlerPatched]===!0)return Y;Y[sF.handlerPatched]=!0;let Z=(W)=>{return async function(...$){if(G7.trace.getSpan(G7.context.active())===void 0)return await W.call(this,...$);let G=(0,GR1.getRPCMetadata)(G7.context.active());if(G?.type===GR1.RPCType.HTTP)G.route=Y.path;let Q=(0,i3.getRouteMetadata)(Y,X._semconvStability,J),U=X.tracer.startSpan(Q.name,{attributes:Q.attributes});try{return await G7.context.with(G7.trace.setSpan(G7.context.active(),U),()=>W.call(this,...$))}catch(z){throw U.recordException(z),U.setStatus({code:G7.SpanStatusCode.ERROR,message:z.message}),z}finally{U.end()}}};if(typeof Y.handler==="function")Y.handler=Z(Y.handler);else if(typeof Y.options==="function"){let W=Y.options;Y.options=function($){let G=W($);if(typeof G.handler==="function")G.handler=Z(G.handler);return G}}else if(typeof Y.options?.handler==="function")Y.options.handler=Z(Y.options.handler);return Y}}zR1.HapiInstrumentation=UR1});var KR1=q((LT)=>{Object.defineProperty(LT,"__esModule",{value:!0});LT.AttributeNames=LT.HapiInstrumentation=void 0;var aG4=OR1();Object.defineProperty(LT,"HapiInstrumentation",{enumerable:!0,get:function(){return aG4.HapiInstrumentation}});var sG4=yc();Object.defineProperty(LT,"AttributeNames",{enumerable:!0,get:function(){return sG4.AttributeNames}})});var FR1=q((BR1)=>{Object.defineProperty(BR1,"__esModule",{value:!0});BR1.VERSION=void 0;BR1.VERSION="0.212.0"});var DR1=q((VR1)=>{Object.defineProperty(VR1,"__esModule",{value:!0});VR1.HTTP_FLAVOR_VALUE_HTTP_1_1=VR1.NET_TRANSPORT_VALUE_IP_UDP=VR1.NET_TRANSPORT_VALUE_IP_TCP=VR1.ATTR_NET_TRANSPORT=VR1.ATTR_NET_PEER_PORT=VR1.ATTR_NET_PEER_NAME=VR1.ATTR_NET_PEER_IP=VR1.ATTR_NET_HOST_PORT=VR1.ATTR_NET_HOST_NAME=VR1.ATTR_NET_HOST_IP=VR1.ATTR_HTTP_USER_AGENT=VR1.ATTR_HTTP_URL=VR1.ATTR_HTTP_TARGET=VR1.ATTR_HTTP_STATUS_CODE=VR1.ATTR_HTTP_SERVER_NAME=VR1.ATTR_HTTP_SCHEME=VR1.ATTR_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=VR1.ATTR_HTTP_RESPONSE_CONTENT_LENGTH=VR1.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=VR1.ATTR_HTTP_REQUEST_CONTENT_LENGTH=VR1.ATTR_HTTP_METHOD=VR1.ATTR_HTTP_HOST=VR1.ATTR_HTTP_FLAVOR=VR1.ATTR_HTTP_CLIENT_IP=VR1.USER_AGENT_SYNTHETIC_TYPE_VALUE_TEST=VR1.USER_AGENT_SYNTHETIC_TYPE_VALUE_BOT=VR1.ATTR_USER_AGENT_SYNTHETIC_TYPE=void 0;VR1.ATTR_USER_AGENT_SYNTHETIC_TYPE="user_agent.synthetic.type";VR1.USER_AGENT_SYNTHETIC_TYPE_VALUE_BOT="bot";VR1.USER_AGENT_SYNTHETIC_TYPE_VALUE_TEST="test";VR1.ATTR_HTTP_CLIENT_IP="http.client_ip";VR1.ATTR_HTTP_FLAVOR="http.flavor";VR1.ATTR_HTTP_HOST="http.host";VR1.ATTR_HTTP_METHOD="http.method";VR1.ATTR_HTTP_REQUEST_CONTENT_LENGTH="http.request_content_length";VR1.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED="http.request_content_length_uncompressed";VR1.ATTR_HTTP_RESPONSE_CONTENT_LENGTH="http.response_content_length";VR1.ATTR_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED="http.response_content_length_uncompressed";VR1.ATTR_HTTP_SCHEME="http.scheme";VR1.ATTR_HTTP_SERVER_NAME="http.server_name";VR1.ATTR_HTTP_STATUS_CODE="http.status_code";VR1.ATTR_HTTP_TARGET="http.target";VR1.ATTR_HTTP_URL="http.url";VR1.ATTR_HTTP_USER_AGENT="http.user_agent";VR1.ATTR_NET_HOST_IP="net.host.ip";VR1.ATTR_NET_HOST_NAME="net.host.name";VR1.ATTR_NET_HOST_PORT="net.host.port";VR1.ATTR_NET_PEER_IP="net.peer.ip";VR1.ATTR_NET_PEER_NAME="net.peer.name";VR1.ATTR_NET_PEER_PORT="net.peer.port";VR1.ATTR_NET_TRANSPORT="net.transport";VR1.NET_TRANSPORT_VALUE_IP_TCP="ip_tcp";VR1.NET_TRANSPORT_VALUE_IP_UDP="ip_udp";VR1.HTTP_FLAVOR_VALUE_HTTP_1_1="1.1"});var AR1=q((wR1)=>{Object.defineProperty(wR1,"__esModule",{value:!0});wR1.AttributeNames=void 0;var TQ4;(function(Y){Y.HTTP_ERROR_NAME="http.error_name",Y.HTTP_ERROR_MESSAGE="http.error_message",Y.HTTP_STATUS_TEXT="http.status_text"})(TQ4=wR1.AttributeNames||(wR1.AttributeNames={}))});var mc=q((PR1)=>{Object.defineProperty(PR1,"__esModule",{value:!0});PR1.DEFAULT_QUERY_STRINGS_TO_REDACT=PR1.STR_REDACTED=PR1.SYNTHETIC_BOT_NAMES=PR1.SYNTHETIC_TEST_NAMES=void 0;PR1.SYNTHETIC_TEST_NAMES=["alwayson"];PR1.SYNTHETIC_BOT_NAMES=["googlebot","bingbot"];PR1.STR_REDACTED="REDACTED";PR1.DEFAULT_QUERY_STRINGS_TO_REDACT=["sig","Signature","AWSAccessKeyId","X-Goog-Signature"]});var ER1=q(($08,MR1)=>{var CQ4=C("util");function dc(Y,J){Error.captureStackTrace(this,dc),this.name=this.constructor.name,this.message=Y,this.input=J}CQ4.inherits(dc,Error);MR1.exports=dc});var RR1=q((G08,TR1)=>{function jQ4(Y){return Y===34||Y===40||Y===41||Y===44||Y===47||Y>=58&&Y<=64||Y>=91&&Y<=93||Y===123||Y===125}function kQ4(Y){return Y===33||Y>=35&&Y<=39||Y===42||Y===43||Y===45||Y===46||Y>=48&&Y<=57||Y>=65&&Y<=90||Y>=94&&Y<=122||Y===124||Y===126}function _Q4(Y){return Y>=32&&Y<=126}function xQ4(Y){return Y>=128&&Y<=255}TR1.exports={isDelimiter:jQ4,isTokenChar:kQ4,isExtended:xQ4,isPrint:_Q4}});var kR1=q((Q08,jR1)=>{var fQ4=C("util"),uH=ER1(),MT=RR1(),vQ4=MT.isDelimiter,NR1=MT.isTokenChar,SR1=MT.isExtended,hQ4=MT.isPrint;function CR1(Y){return Y.replace(/\\(.)/g,"$1")}function tF(Y,J){return fQ4.format("Unexpected character '%s' at index %d",Y.charAt(J),J)}function bQ4(Y){var J=!1,X=!1,Z=!1,W={},$=[],G=-1,Q=-1,U,z;for(var H=0;H<Y.length;H++)if(z=Y.charCodeAt(H),U===void 0){if(H!==0&&G===-1&&(z===32||z===9))continue;if(NR1(z)){if(G===-1)G=H}else if(z===61&&G!==-1)U=Y.slice(G,H).toLowerCase(),G=-1;else throw new uH(tF(Y,H),Y)}else if(X&&(z===9||hQ4(z)||SR1(z)))X=!1;else if(NR1(z)){if(Q!==-1)throw new uH(tF(Y,H),Y);if(G===-1)G=H}else if(vQ4(z)||SR1(z))if(Z){if(z===34)Z=!1,Q=H;else if(z===92){if(G===-1)G=H;X=J=!0}else if(G===-1)G=H}else if(z===34&&Y.charCodeAt(H-1)===61)Z=!0;else if((z===44||z===59)&&(G!==-1||Q!==-1)){if(G!==-1){if(Q===-1)Q=H;W[U]=J?CR1(Y.slice(G,Q)):Y.slice(G,Q)}else W[U]="";if(z===44)$.push(W),W={};U=void 0,G=Q=-1}else throw new uH(tF(Y,H),Y);else if(z===32||z===9){if(Q!==-1)continue;if(Z){if(G===-1)G=H}else if(G!==-1)Q=H;else throw new uH(tF(Y,H),Y)}else throw new uH(tF(Y,H),Y);if(U===void 0||Z||G===-1&&Q===-1||z===32||z===9)throw new uH("Unexpected end of input",Y);if(G!==-1){if(Q===-1)Q=H;W[U]=J?CR1(Y.slice(G,Q)):Y.slice(G,Q)}else W[U]="";return $.push(W),$}jR1.exports=bQ4});var pR1=q((uR1)=>{Object.defineProperty(uR1,"__esModule",{value:!0});uR1.headerCapture=uR1.getIncomingStableRequestMetricAttributesOnResponse=uR1.getIncomingRequestMetricAttributesOnResponse=uR1.getIncomingRequestAttributesOnResponse=uR1.getIncomingRequestMetricAttributes=uR1.getIncomingRequestAttributes=uR1.getRemoteClientAddress=uR1.getOutgoingStableRequestMetricAttributesOnResponse=uR1.getOutgoingRequestMetricAttributesOnResponse=uR1.getOutgoingRequestAttributesOnResponse=uR1.setAttributesFromHttpKind=uR1.getOutgoingRequestMetricAttributes=uR1.getOutgoingRequestAttributes=uR1.extractHostnameAndPort=uR1.isValidOptionsType=uR1.getRequestInfo=uR1.isCompressed=uR1.setResponseContentLengthAttribute=uR1.setRequestContentLengthAttribute=uR1.setSpanWithError=uR1.satisfiesPattern=uR1.parseResponseStatus=uR1.getAbsoluteUrl=void 0;var eF=t(),T0=X0(),r1=DR1(),_R1=k1(),m7=t1(),yQ4=C("url"),TT=AR1(),xR1=mc(),ET=mc(),gQ4=kR1(),uQ4=(Y,J,X="http:",Z=Array.from(ET.DEFAULT_QUERY_STRINGS_TO_REDACT))=>{let W=Y||{},$=W.protocol||X,G=(W.port||"").toString(),Q=W.path||"/",U=W.host||W.hostname||J.host||"localhost";if(U.indexOf(":")===-1&&G&&G!=="80"&&G!=="443")U+=`:${G}`;if(Q.includes("?"))try{let H=new URL(Q,"http://localhost"),O=Z||[];for(let K of O)if(H.searchParams.get(K))H.searchParams.set(K,ET.STR_REDACTED);Q=`${H.pathname}${H.search}`}catch{}let z=W.auth?`${ET.STR_REDACTED}:${ET.STR_REDACTED}@`:"";return`${$}//${z}${U}${Q}`};uR1.getAbsoluteUrl=uQ4;var mQ4=(Y,J)=>{let X=Y===eF.SpanKind.CLIENT?400:500;if(J&&J>=100&&J<X)return eF.SpanStatusCode.UNSET;return eF.SpanStatusCode.ERROR};uR1.parseResponseStatus=mQ4;var dQ4=(Y,J)=>{if(typeof J==="string")return J===Y;else if(J instanceof RegExp)return J.test(Y);else if(typeof J==="function")return J(Y);else throw TypeError("Pattern is in unsupported datatype")};uR1.satisfiesPattern=dQ4;var cQ4=(Y,J,X)=>{let Z=J.message;if(X&m7.SemconvStability.OLD)Y.setAttribute(TT.AttributeNames.HTTP_ERROR_NAME,J.name),Y.setAttribute(TT.AttributeNames.HTTP_ERROR_MESSAGE,Z);if(X&m7.SemconvStability.STABLE)Y.setAttribute(T0.ATTR_ERROR_TYPE,J.name);Y.setStatus({code:eF.SpanStatusCode.ERROR,message:Z}),Y.recordException(J)};uR1.setSpanWithError=cQ4;var lQ4=(Y,J)=>{let X=vR1(Y.headers);if(X===null)return;if(uR1.isCompressed(Y.headers))J[r1.ATTR_HTTP_REQUEST_CONTENT_LENGTH]=X;else J[r1.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED]=X};uR1.setRequestContentLengthAttribute=lQ4;var pQ4=(Y,J)=>{let X=vR1(Y.headers);if(X===null)return;if(uR1.isCompressed(Y.headers))J[r1.ATTR_HTTP_RESPONSE_CONTENT_LENGTH]=X;else J[r1.ATTR_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED]=X};uR1.setResponseContentLengthAttribute=pQ4;function vR1(Y){let J=Y["content-length"];if(J===void 0)return null;let X=parseInt(J,10);if(isNaN(X))return null;return X}var nQ4=(Y)=>{let J=Y["content-encoding"];return!!J&&J!=="identity"};uR1.isCompressed=nQ4;function iQ4(Y){let{hostname:J,pathname:X,port:Z,username:W,password:$,search:G,protocol:Q,hash:U,href:z,origin:H,host:O}=new URL(Y),K={protocol:Q,hostname:J&&J[0]==="["?J.slice(1,-1):J,hash:U,search:G,pathname:X,path:`${X||""}${G||""}`,href:z,origin:H,host:O};if(Z!=="")K.port=Number(Z);if(W||$)K.auth=`${decodeURIComponent(W)}:${decodeURIComponent($)}`;return K}var oQ4=(Y,J,X)=>{let Z,W,$,G=!1;if(typeof J==="string"){try{let U=iQ4(J);$=U,Z=U.pathname||"/"}catch(U){G=!0,Y.verbose("Unable to parse URL provided to HTTP request, using fallback to determine path. Original error:",U),$={path:J},Z=$.path||"/"}if(W=`${$.protocol||"http:"}//${$.host}`,X!==void 0)Object.assign($,X)}else if(J instanceof yQ4.URL){if($={protocol:J.protocol,hostname:typeof J.hostname==="string"&&J.hostname.startsWith("[")?J.hostname.slice(1,-1):J.hostname,path:`${J.pathname||""}${J.search||""}`},J.port!=="")$.port=Number(J.port);if(J.username||J.password)$.auth=`${J.username}:${J.password}`;if(Z=J.pathname,W=J.origin,X!==void 0)Object.assign($,X)}else{$=Object.assign({protocol:J.host?"http:":void 0},J);let U=$.host||($.port!=null?`${$.hostname}${$.port}`:$.hostname);if(W=`${$.protocol||"http:"}//${U}`,Z=J.pathname,!Z&&$.path)try{Z=new URL($.path,W).pathname||"/"}catch{Z="/"}}let Q=$.method?$.method.toUpperCase():"GET";return{origin:W,pathname:Z,method:Q,optionsParsed:$,invalidUrl:G}};uR1.getRequestInfo=oQ4;var rQ4=(Y)=>{if(!Y)return!1;let J=typeof Y;return J==="string"||J==="object"&&!Array.isArray(Y)};uR1.isValidOptionsType=rQ4;var aQ4=(Y)=>{if(Y.hostname&&Y.port)return{hostname:Y.hostname,port:Y.port};let J=Y.host?.match(/^([^:/ ]+)(:\d{1,5})?/)||null,X=Y.hostname||(J===null?"localhost":J[1]),Z=Y.port;if(!Z)if(J&&J[2])Z=J[2].substring(1);else Z=Y.protocol==="https:"?"443":"80";return{hostname:X,port:Z}};uR1.extractHostnameAndPort=aQ4;var sQ4=(Y,J,X,Z)=>{let{hostname:W,port:$}=J,G=Y.method??"GET",Q=yR1(G),U=Y.headers||{},z=U["user-agent"],H=uR1.getAbsoluteUrl(Y,U,`${J.component}:`,J.redactedQueryParams),O={[r1.ATTR_HTTP_URL]:H,[r1.ATTR_HTTP_METHOD]:G,[r1.ATTR_HTTP_TARGET]:Y.path||"/",[r1.ATTR_NET_PEER_NAME]:W,[r1.ATTR_HTTP_HOST]:U.host??`${W}:${$}`},K={[T0.ATTR_HTTP_REQUEST_METHOD]:Q,[T0.ATTR_SERVER_ADDRESS]:W,[T0.ATTR_SERVER_PORT]:Number($),[T0.ATTR_URL_FULL]:H,[T0.ATTR_USER_AGENT_ORIGINAL]:z};if(G!==Q)K[T0.ATTR_HTTP_REQUEST_METHOD_ORIGINAL]=G;if(Z&&z)K[r1.ATTR_USER_AGENT_SYNTHETIC_TYPE]=hR1(z);if(z!==void 0)O[r1.ATTR_HTTP_USER_AGENT]=z;switch(X){case m7.SemconvStability.STABLE:return Object.assign(K,J.hookAttributes);case m7.SemconvStability.OLD:return Object.assign(O,J.hookAttributes)}return Object.assign(O,K,J.hookAttributes)};uR1.getOutgoingRequestAttributes=sQ4;var tQ4=(Y)=>{let J={};return J[r1.ATTR_HTTP_METHOD]=Y[r1.ATTR_HTTP_METHOD],J[r1.ATTR_NET_PEER_NAME]=Y[r1.ATTR_NET_PEER_NAME],J};uR1.getOutgoingRequestMetricAttributes=tQ4;var eQ4=(Y,J)=>{if(Y)if(J[r1.ATTR_HTTP_FLAVOR]=Y,Y.toUpperCase()!=="QUIC")J[r1.ATTR_NET_TRANSPORT]=r1.NET_TRANSPORT_VALUE_IP_TCP;else J[r1.ATTR_NET_TRANSPORT]=r1.NET_TRANSPORT_VALUE_IP_UDP};uR1.setAttributesFromHttpKind=eQ4;var hR1=(Y)=>{let J=String(Y).toLowerCase();for(let X of xR1.SYNTHETIC_TEST_NAMES)if(J.includes(X))return r1.USER_AGENT_SYNTHETIC_TYPE_VALUE_TEST;for(let X of xR1.SYNTHETIC_BOT_NAMES)if(J.includes(X))return r1.USER_AGENT_SYNTHETIC_TYPE_VALUE_BOT;return},YU4=(Y,J)=>{let{statusCode:X,statusMessage:Z,httpVersion:W,socket:$}=Y,G={},Q={};if(X!=null)Q[T0.ATTR_HTTP_RESPONSE_STATUS_CODE]=X;if($){let{remoteAddress:U,remotePort:z}=$;G[r1.ATTR_NET_PEER_IP]=U,G[r1.ATTR_NET_PEER_PORT]=z,Q[T0.ATTR_NETWORK_PEER_ADDRESS]=U,Q[T0.ATTR_NETWORK_PEER_PORT]=z,Q[T0.ATTR_NETWORK_PROTOCOL_VERSION]=Y.httpVersion}if(uR1.setResponseContentLengthAttribute(Y,G),X)G[r1.ATTR_HTTP_STATUS_CODE]=X,G[TT.AttributeNames.HTTP_STATUS_TEXT]=(Z||"").toUpperCase();switch(uR1.setAttributesFromHttpKind(W,G),J){case m7.SemconvStability.STABLE:return Q;case m7.SemconvStability.OLD:return G}return Object.assign(G,Q)};uR1.getOutgoingRequestAttributesOnResponse=YU4;var JU4=(Y)=>{let J={};return J[r1.ATTR_NET_PEER_PORT]=Y[r1.ATTR_NET_PEER_PORT],J[r1.ATTR_HTTP_STATUS_CODE]=Y[r1.ATTR_HTTP_STATUS_CODE],J[r1.ATTR_HTTP_FLAVOR]=Y[r1.ATTR_HTTP_FLAVOR],J};uR1.getOutgoingRequestMetricAttributesOnResponse=JU4;var XU4=(Y)=>{let J={};if(Y[T0.ATTR_NETWORK_PROTOCOL_VERSION])J[T0.ATTR_NETWORK_PROTOCOL_VERSION]=Y[T0.ATTR_NETWORK_PROTOCOL_VERSION];if(Y[T0.ATTR_HTTP_RESPONSE_STATUS_CODE])J[T0.ATTR_HTTP_RESPONSE_STATUS_CODE]=Y[T0.ATTR_HTTP_RESPONSE_STATUS_CODE];return J};uR1.getOutgoingStableRequestMetricAttributesOnResponse=XU4;function LW(Y,J){let X=Y.split(":");if(X.length===1){if(J==="http")return{host:X[0],port:"80"};if(J==="https")return{host:X[0],port:"443"};return{host:X[0]}}if(X.length===2)return{host:X[0],port:X[1]};if(X[0].startsWith("[")){if(X[X.length-1].endsWith("]")){if(J==="http")return{host:Y,port:"80"};if(J==="https")return{host:Y,port:"443"}}else if(X[X.length-2].endsWith("]"))return{host:X.slice(0,-1).join(":"),port:X[X.length-1]}}return{host:Y}}function ZU4(Y,J){let X=Y.headers.forwarded;if(X){for(let $ of gR1(X))if($.host)return LW($.host,$.proto)}let Z=Y.headers["x-forwarded-host"];if(typeof Z==="string"){if(typeof Y.headers["x-forwarded-proto"]==="string")return LW(Z,Y.headers["x-forwarded-proto"]);if(Array.isArray(Y.headers["x-forwarded-proto"]))return LW(Z,Y.headers["x-forwarded-proto"][0]);return LW(Z)}else if(Array.isArray(Z)&&typeof Z[0]==="string"&&Z[0].length>0){if(typeof Y.headers["x-forwarded-proto"]==="string")return LW(Z[0],Y.headers["x-forwarded-proto"]);if(Array.isArray(Y.headers["x-forwarded-proto"]))return LW(Z[0],Y.headers["x-forwarded-proto"][0]);return LW(Z[0])}let W=Y.headers.host;if(typeof W==="string"&&W.length>0)return LW(W,J);return null}function bR1(Y){let J=Y.headers.forwarded;if(J){for(let W of gR1(J))if(W.for)return fR1(W.for)}let X=Y.headers["x-forwarded-for"];if(X){let W;if(typeof X==="string")W=X;else if(Array.isArray(X))W=X[0];if(typeof W==="string")return W=W.split(",")[0].trim(),fR1(W)}let Z=Y.socket.remoteAddress;if(Z)return Z;return null}uR1.getRemoteClientAddress=bR1;function fR1(Y){try{let{hostname:J}=new URL(`http://${Y}`);if(J.startsWith("[")&&J.endsWith("]"))return J.slice(1,-1);return J}catch{return Y}}function WU4(Y,J,X){try{if(J.headers.host)return new URL(J.url??"/",`${Y}://${J.headers.host}`);else{let Z=new URL(J.url??"/",`${Y}://localhost`);return{pathname:Z.pathname,search:Z.search,toString:function(){return Z.pathname+Z.search}}}}catch(Z){return X.verbose("Unable to get URL from request",Z),{}}}var $U4=(Y,J,X)=>{let{component:Z,enableSyntheticSourceDetection:W,hookAttributes:$,semconvStability:G,serverName:Q}=J,{headers:U,httpVersion:z,method:H}=Y,{host:O,"user-agent":K,"x-forwarded-for":B}=U,F=WU4(Z,Y,X),V,I;if(G!==m7.SemconvStability.OLD){let D=yR1(H),L=ZU4(Y,Z),A=bR1(Y);if(V={[T0.ATTR_HTTP_REQUEST_METHOD]:D,[T0.ATTR_URL_SCHEME]:Z,[T0.ATTR_SERVER_ADDRESS]:L?.host,[T0.ATTR_NETWORK_PEER_ADDRESS]:Y.socket.remoteAddress,[T0.ATTR_NETWORK_PEER_PORT]:Y.socket.remotePort,[T0.ATTR_NETWORK_PROTOCOL_VERSION]:Y.httpVersion,[T0.ATTR_USER_AGENT_ORIGINAL]:K},F.pathname!=null)V[T0.ATTR_URL_PATH]=F.pathname;if(F.search)V[T0.ATTR_URL_QUERY]=F.search.slice(1);if(A!=null)V[T0.ATTR_CLIENT_ADDRESS]=A;if(L?.port!=null)V[T0.ATTR_SERVER_PORT]=Number(L.port);if(H!==D)V[T0.ATTR_HTTP_REQUEST_METHOD_ORIGINAL]=H;if(W&&K)V[r1.ATTR_USER_AGENT_SYNTHETIC_TYPE]=hR1(K)}if(G!==m7.SemconvStability.STABLE){let D=O?.replace(/^(.*)(:[0-9]{1,5})/,"$1")||"localhost";if(I={[r1.ATTR_HTTP_URL]:F.toString(),[r1.ATTR_HTTP_HOST]:O,[r1.ATTR_NET_HOST_NAME]:D,[r1.ATTR_HTTP_METHOD]:H,[r1.ATTR_HTTP_SCHEME]:Z},typeof B==="string")I[r1.ATTR_HTTP_CLIENT_IP]=B.split(",")[0];if(typeof Q==="string")I[r1.ATTR_HTTP_SERVER_NAME]=Q;if(F.pathname)I[r1.ATTR_HTTP_TARGET]=F.pathname+F.search||"/";if(K!==void 0)I[r1.ATTR_HTTP_USER_AGENT]=K;uR1.setRequestContentLengthAttribute(Y,I),uR1.setAttributesFromHttpKind(z,I)}switch(G){case m7.SemconvStability.STABLE:return Object.assign(V,$);case m7.SemconvStability.OLD:return Object.assign(I,$);default:return Object.assign(I,V,$)}};uR1.getIncomingRequestAttributes=$U4;var GU4=(Y)=>{let J={};return J[r1.ATTR_HTTP_SCHEME]=Y[r1.ATTR_HTTP_SCHEME],J[r1.ATTR_HTTP_METHOD]=Y[r1.ATTR_HTTP_METHOD],J[r1.ATTR_NET_HOST_NAME]=Y[r1.ATTR_NET_HOST_NAME],J[r1.ATTR_HTTP_FLAVOR]=Y[r1.ATTR_HTTP_FLAVOR],J};uR1.getIncomingRequestMetricAttributes=GU4;var QU4=(Y,J,X)=>{let{socket:Z}=Y,{statusCode:W,statusMessage:$}=J,G={[T0.ATTR_HTTP_RESPONSE_STATUS_CODE]:W},Q=(0,_R1.getRPCMetadata)(eF.context.active()),U={};if(Z){let{localAddress:z,localPort:H,remoteAddress:O,remotePort:K}=Z;U[r1.ATTR_NET_HOST_IP]=z,U[r1.ATTR_NET_HOST_PORT]=H,U[r1.ATTR_NET_PEER_IP]=O,U[r1.ATTR_NET_PEER_PORT]=K}if(U[r1.ATTR_HTTP_STATUS_CODE]=W,U[TT.AttributeNames.HTTP_STATUS_TEXT]=($||"").toUpperCase(),Q?.type===_R1.RPCType.HTTP&&Q.route!==void 0)U[T0.ATTR_HTTP_ROUTE]=Q.route,G[T0.ATTR_HTTP_ROUTE]=Q.route;switch(X){case m7.SemconvStability.STABLE:return G;case m7.SemconvStability.OLD:return U}return Object.assign(U,G)};uR1.getIncomingRequestAttributesOnResponse=QU4;var UU4=(Y)=>{let J={};if(J[r1.ATTR_HTTP_STATUS_CODE]=Y[r1.ATTR_HTTP_STATUS_CODE],J[r1.ATTR_NET_HOST_PORT]=Y[r1.ATTR_NET_HOST_PORT],Y[T0.ATTR_HTTP_ROUTE]!==void 0)J[T0.ATTR_HTTP_ROUTE]=Y[T0.ATTR_HTTP_ROUTE];return J};uR1.getIncomingRequestMetricAttributesOnResponse=UU4;var zU4=(Y)=>{let J={};if(Y[T0.ATTR_HTTP_ROUTE]!==void 0)J[T0.ATTR_HTTP_ROUTE]=Y[T0.ATTR_HTTP_ROUTE];if(Y[T0.ATTR_HTTP_RESPONSE_STATUS_CODE])J[T0.ATTR_HTTP_RESPONSE_STATUS_CODE]=Y[T0.ATTR_HTTP_RESPONSE_STATUS_CODE];return J};uR1.getIncomingStableRequestMetricAttributesOnResponse=zU4;function HU4(Y,J){let X=new Map;for(let Z=0,W=J.length;Z<W;Z++){let $=J[Z].toLowerCase();X.set($,$.replace(/-/g,"_"))}return(Z,W)=>{for(let $ of X.keys()){let G=W($);if(G===void 0)continue;let Q=X.get($),U=`http.${Y}.header.${Q}`;if(typeof G==="string")Z.setAttribute(U,[G]);else if(Array.isArray(G))Z.setAttribute(U,G);else Z.setAttribute(U,[G])}}}uR1.headerCapture=HU4;var OU4=new Set(["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH","QUERY"]);function yR1(Y){if(Y==null)return"GET";let J=Y.toUpperCase();if(OU4.has(J))return J;return"_OTHER"}function gR1(Y){try{return gQ4(Y)}catch{return[]}}});var rR1=q((iR1)=>{Object.defineProperty(iR1,"__esModule",{value:!0});iR1.HttpInstrumentation=void 0;var w0=t(),MW=k1(),CU4=C("url"),jU4=FR1(),d8=t1(),pc=C("events"),X6=X0(),g6=pR1();class nR1 extends d8.InstrumentationBase{_spanNotEnded=new WeakSet;_headerCapture;_semconvStability=d8.SemconvStability.OLD;constructor(Y={}){super("@opentelemetry/instrumentation-http",jU4.VERSION,Y);this._headerCapture=this._createHeaderCapture(),this._semconvStability=(0,d8.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}_updateMetricInstruments(){this._oldHttpServerDurationHistogram=this.meter.createHistogram("http.server.duration",{description:"Measures the duration of inbound HTTP requests.",unit:"ms",valueType:w0.ValueType.DOUBLE}),this._oldHttpClientDurationHistogram=this.meter.createHistogram("http.client.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"ms",valueType:w0.ValueType.DOUBLE}),this._stableHttpServerDurationHistogram=this.meter.createHistogram(X6.METRIC_HTTP_SERVER_REQUEST_DURATION,{description:"Duration of HTTP server requests.",unit:"s",valueType:w0.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[0.005,0.01,0.025,0.05,0.075,0.1,0.25,0.5,0.75,1,2.5,5,7.5,10]}}),this._stableHttpClientDurationHistogram=this.meter.createHistogram(X6.METRIC_HTTP_CLIENT_REQUEST_DURATION,{description:"Duration of HTTP client requests.",unit:"s",valueType:w0.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[0.005,0.01,0.025,0.05,0.075,0.1,0.25,0.5,0.75,1,2.5,5,7.5,10]}})}_recordServerDuration(Y,J,X){if(this._semconvStability&d8.SemconvStability.OLD)this._oldHttpServerDurationHistogram.record(Y,J);if(this._semconvStability&d8.SemconvStability.STABLE)this._stableHttpServerDurationHistogram.record(Y/1000,X)}_recordClientDuration(Y,J,X){if(this._semconvStability&d8.SemconvStability.OLD)this._oldHttpClientDurationHistogram.record(Y,J);if(this._semconvStability&d8.SemconvStability.STABLE)this._stableHttpClientDurationHistogram.record(Y/1000,X)}setConfig(Y={}){super.setConfig(Y),this._headerCapture=this._createHeaderCapture()}init(){return[this._getHttpsInstrumentation(),this._getHttpInstrumentation()]}_getHttpInstrumentation(){return new d8.InstrumentationNodeModuleDefinition("http",["*"],(Y)=>{let J=Y[Symbol.toStringTag]==="Module";if(!this.getConfig().disableOutgoingRequestInstrumentation){let X=this._wrap(Y,"request",this._getPatchOutgoingRequestFunction("http")),Z=this._wrap(Y,"get",this._getPatchOutgoingGetFunction(X));if(J)Y.default.request=X,Y.default.get=Z}if(!this.getConfig().disableIncomingRequestInstrumentation)this._wrap(Y.Server.prototype,"emit",this._getPatchIncomingRequestFunction("http"));return Y},(Y)=>{if(Y===void 0)return;if(!this.getConfig().disableOutgoingRequestInstrumentation)this._unwrap(Y,"request"),this._unwrap(Y,"get");if(!this.getConfig().disableIncomingRequestInstrumentation)this._unwrap(Y.Server.prototype,"emit")})}_getHttpsInstrumentation(){return new d8.InstrumentationNodeModuleDefinition("https",["*"],(Y)=>{let J=Y[Symbol.toStringTag]==="Module";if(!this.getConfig().disableOutgoingRequestInstrumentation){let X=this._wrap(Y,"request",this._getPatchHttpsOutgoingRequestFunction("https")),Z=this._wrap(Y,"get",this._getPatchHttpsOutgoingGetFunction(X));if(J)Y.default.request=X,Y.default.get=Z}if(!this.getConfig().disableIncomingRequestInstrumentation)this._wrap(Y.Server.prototype,"emit",this._getPatchIncomingRequestFunction("https"));return Y},(Y)=>{if(Y===void 0)return;if(!this.getConfig().disableOutgoingRequestInstrumentation)this._unwrap(Y,"request"),this._unwrap(Y,"get");if(!this.getConfig().disableIncomingRequestInstrumentation)this._unwrap(Y.Server.prototype,"emit")})}_getPatchIncomingRequestFunction(Y){return(J)=>{return this._incomingRequestFunction(Y,J)}}_getPatchOutgoingRequestFunction(Y){return(J)=>{return this._outgoingRequestFunction(Y,J)}}_getPatchOutgoingGetFunction(Y){return(J)=>{return function(Z,...W){let $=Y(Z,...W);return $.end(),$}}}_getPatchHttpsOutgoingRequestFunction(Y){return(J)=>{let X=this;return function(W,...$){if(Y==="https"&&typeof W==="object"&&W?.constructor?.name!=="URL")W=Object.assign({},W),X._setDefaultOptions(W);return X._getPatchOutgoingRequestFunction(Y)(J)(W,...$)}}}_setDefaultOptions(Y){Y.protocol=Y.protocol||"https:",Y.port=Y.port||443}_getPatchHttpsOutgoingGetFunction(Y){return(J)=>{let X=this;return function(W,...$){return X._getPatchOutgoingGetFunction(Y)(J)(W,...$)}}}_traceClientRequest(Y,J,X,Z,W){if(this.getConfig().requestHook)this._callRequestHook(J,Y);let $=!1;return Y.prependListener("response",(G)=>{if(this._diag.debug("outgoingRequest on response()"),Y.listenerCount("response")<=1)G.resume();let Q=(0,g6.getOutgoingRequestAttributesOnResponse)(G,this._semconvStability);if(J.setAttributes(Q),Z=Object.assign(Z,(0,g6.getOutgoingRequestMetricAttributesOnResponse)(Q)),W=Object.assign(W,(0,g6.getOutgoingStableRequestMetricAttributesOnResponse)(Q)),this.getConfig().responseHook)this._callResponseHook(J,G);this._headerCapture.client.captureRequestHeaders(J,(z)=>Y.getHeader(z)),this._headerCapture.client.captureResponseHeaders(J,(z)=>G.headers[z]),w0.context.bind(w0.context.active(),G);let U=()=>{if(this._diag.debug("outgoingRequest on end()"),$)return;$=!0;let z;if(G.aborted&&!G.complete)z={code:w0.SpanStatusCode.ERROR};else z={code:(0,g6.parseResponseStatus)(w0.SpanKind.CLIENT,G.statusCode)};if(J.setStatus(z),this.getConfig().applyCustomAttributesOnSpan)(0,d8.safeExecuteInTheMiddle)(()=>this.getConfig().applyCustomAttributesOnSpan(J,Y,G),()=>{},!0);this._closeHttpSpan(J,w0.SpanKind.CLIENT,X,Z,W)};G.on("end",U),G.on(pc.errorMonitor,(z)=>{if(this._diag.debug("outgoingRequest on error()",z),$)return;$=!0,this._onOutgoingRequestError(J,Z,W,X,z)})}),Y.on("close",()=>{if(this._diag.debug("outgoingRequest on request close()"),Y.aborted||$)return;$=!0,this._closeHttpSpan(J,w0.SpanKind.CLIENT,X,Z,W)}),Y.on(pc.errorMonitor,(G)=>{if(this._diag.debug("outgoingRequest on request error()",G),$)return;$=!0,this._onOutgoingRequestError(J,Z,W,X,G)}),this._diag.debug("http.ClientRequest return request"),Y}_incomingRequestFunction(Y,J){let X=this;return function(W,...$){if(W!=="request")return J.apply(this,[W,...$]);let G=$[0],Q=$[1],U=G.method||"GET";if(X._diag.debug(`${Y} instrumentation incomingRequest`),(0,d8.safeExecuteInTheMiddle)(()=>X.getConfig().ignoreIncomingRequestHook?.(G),(L)=>{if(L!=null)X._diag.error("caught ignoreIncomingRequestHook error: ",L)},!0))return w0.context.with((0,MW.suppressTracing)(w0.context.active()),()=>{return w0.context.bind(w0.context.active(),G),w0.context.bind(w0.context.active(),Q),J.apply(this,[W,...$])});let z=G.headers,H=(0,g6.getIncomingRequestAttributes)(G,{component:Y,serverName:X.getConfig().serverName,hookAttributes:X._callStartSpanHook(G,X.getConfig().startIncomingSpanHook),semconvStability:X._semconvStability,enableSyntheticSourceDetection:X.getConfig().enableSyntheticSourceDetection||!1},X._diag),O={kind:w0.SpanKind.SERVER,attributes:H},K=(0,MW.hrTime)(),B=(0,g6.getIncomingRequestMetricAttributes)(H),F={[X6.ATTR_HTTP_REQUEST_METHOD]:H[X6.ATTR_HTTP_REQUEST_METHOD],[X6.ATTR_URL_SCHEME]:H[X6.ATTR_URL_SCHEME]};if(H[X6.ATTR_NETWORK_PROTOCOL_VERSION])F[X6.ATTR_NETWORK_PROTOCOL_VERSION]=H[X6.ATTR_NETWORK_PROTOCOL_VERSION];let V=w0.propagation.extract(w0.ROOT_CONTEXT,z),I=X._startHttpSpan(U,O,V),D={type:MW.RPCType.HTTP,span:I};return w0.context.with((0,MW.setRPCMetadata)(w0.trace.setSpan(V,I),D),()=>{if(w0.context.bind(w0.context.active(),G),w0.context.bind(w0.context.active(),Q),X.getConfig().requestHook)X._callRequestHook(I,G);if(X.getConfig().responseHook)X._callResponseHook(I,Q);X._headerCapture.server.captureRequestHeaders(I,(A)=>G.headers[A]);let L=!1;return Q.on("close",()=>{if(L)return;X._onServerResponseFinish(G,Q,I,B,F,K)}),Q.on(pc.errorMonitor,(A)=>{L=!0,X._onServerResponseError(I,B,F,K,A)}),(0,d8.safeExecuteInTheMiddle)(()=>J.apply(this,[W,...$]),(A)=>{if(A)throw X._onServerResponseError(I,B,F,K,A),A})})}}_outgoingRequestFunction(Y,J){let X=this;return function(W,...$){if(!(0,g6.isValidOptionsType)(W))return J.apply(this,[W,...$]);let G=typeof $[0]==="object"&&(typeof W==="string"||W instanceof CU4.URL)?$.shift():void 0,{method:Q,invalidUrl:U,optionsParsed:z}=(0,g6.getRequestInfo)(X._diag,W,G);if((0,d8.safeExecuteInTheMiddle)(()=>X.getConfig().ignoreOutgoingRequestHook?.(z),(P)=>{if(P!=null)X._diag.error("caught ignoreOutgoingRequestHook error: ",P)},!0))return J.apply(this,[z,...$]);let{hostname:H,port:O}=(0,g6.extractHostnameAndPort)(z),K=(0,g6.getOutgoingRequestAttributes)(z,{component:Y,port:O,hostname:H,hookAttributes:X._callStartSpanHook(z,X.getConfig().startOutgoingSpanHook),redactedQueryParams:X.getConfig().redactedQueryParams},X._semconvStability,X.getConfig().enableSyntheticSourceDetection||!1),B=(0,MW.hrTime)(),F=(0,g6.getOutgoingRequestMetricAttributes)(K),V={[X6.ATTR_HTTP_REQUEST_METHOD]:K[X6.ATTR_HTTP_REQUEST_METHOD],[X6.ATTR_SERVER_ADDRESS]:K[X6.ATTR_SERVER_ADDRESS],[X6.ATTR_SERVER_PORT]:K[X6.ATTR_SERVER_PORT]};if(K[X6.ATTR_HTTP_RESPONSE_STATUS_CODE])V[X6.ATTR_HTTP_RESPONSE_STATUS_CODE]=K[X6.ATTR_HTTP_RESPONSE_STATUS_CODE];if(K[X6.ATTR_NETWORK_PROTOCOL_VERSION])V[X6.ATTR_NETWORK_PROTOCOL_VERSION]=K[X6.ATTR_NETWORK_PROTOCOL_VERSION];let I={kind:w0.SpanKind.CLIENT,attributes:K},D=X._startHttpSpan(Q,I),L=w0.context.active(),A=w0.trace.setSpan(L,D);if(!z.headers)z.headers={};else z.headers=Object.assign({},z.headers);return w0.propagation.inject(A,z.headers),w0.context.with(A,()=>{let P=$[$.length-1];if(typeof P==="function")$[$.length-1]=w0.context.bind(L,P);let R=(0,d8.safeExecuteInTheMiddle)(()=>{if(U)return J.apply(this,[W,...$]);else return J.apply(this,[z,...$])},(N)=>{if(N)throw X._onOutgoingRequestError(D,F,V,B,N),N});return X._diag.debug(`${Y} instrumentation outgoingRequest`),w0.context.bind(L,R),X._traceClientRequest(R,D,B,F,V)})}}_onServerResponseFinish(Y,J,X,Z,W,$){let G=(0,g6.getIncomingRequestAttributesOnResponse)(Y,J,this._semconvStability);Z=Object.assign(Z,(0,g6.getIncomingRequestMetricAttributesOnResponse)(G)),W=Object.assign(W,(0,g6.getIncomingStableRequestMetricAttributesOnResponse)(G)),this._headerCapture.server.captureResponseHeaders(X,(U)=>J.getHeader(U)),X.setAttributes(G).setStatus({code:(0,g6.parseResponseStatus)(w0.SpanKind.SERVER,J.statusCode)});let Q=G[X6.ATTR_HTTP_ROUTE];if(Q)X.updateName(`${Y.method||"GET"} ${Q}`);if(this.getConfig().applyCustomAttributesOnSpan)(0,d8.safeExecuteInTheMiddle)(()=>this.getConfig().applyCustomAttributesOnSpan(X,Y,J),()=>{},!0);this._closeHttpSpan(X,w0.SpanKind.SERVER,$,Z,W)}_onOutgoingRequestError(Y,J,X,Z,W){(0,g6.setSpanWithError)(Y,W,this._semconvStability),X[X6.ATTR_ERROR_TYPE]=W.name,this._closeHttpSpan(Y,w0.SpanKind.CLIENT,Z,J,X)}_onServerResponseError(Y,J,X,Z,W){(0,g6.setSpanWithError)(Y,W,this._semconvStability),X[X6.ATTR_ERROR_TYPE]=W.name,this._closeHttpSpan(Y,w0.SpanKind.SERVER,Z,J,X)}_startHttpSpan(Y,J,X=w0.context.active()){let Z=J.kind===w0.SpanKind.CLIENT?this.getConfig().requireParentforOutgoingSpans:this.getConfig().requireParentforIncomingSpans,W,$=w0.trace.getSpan(X);if(Z===!0&&(!$||!w0.trace.isSpanContextValid($.spanContext())))W=w0.trace.wrapSpanContext(w0.INVALID_SPAN_CONTEXT);else if(Z===!0&&$?.spanContext().isRemote)W=$;else W=this.tracer.startSpan(Y,J,X);return this._spanNotEnded.add(W),W}_closeHttpSpan(Y,J,X,Z,W){if(!this._spanNotEnded.has(Y))return;Y.end(),this._spanNotEnded.delete(Y);let $=(0,MW.hrTimeToMilliseconds)((0,MW.hrTimeDuration)(X,(0,MW.hrTime)()));if(J===w0.SpanKind.SERVER)this._recordServerDuration($,Z,W);else if(J===w0.SpanKind.CLIENT)this._recordClientDuration($,Z,W)}_callResponseHook(Y,J){(0,d8.safeExecuteInTheMiddle)(()=>this.getConfig().responseHook(Y,J),()=>{},!0)}_callRequestHook(Y,J){(0,d8.safeExecuteInTheMiddle)(()=>this.getConfig().requestHook(Y,J),()=>{},!0)}_callStartSpanHook(Y,J){if(typeof J==="function")return(0,d8.safeExecuteInTheMiddle)(()=>J(Y),()=>{},!0)}_createHeaderCapture(){let Y=this.getConfig();return{client:{captureRequestHeaders:(0,g6.headerCapture)("request",Y.headersToSpanAttributes?.client?.requestHeaders??[]),captureResponseHeaders:(0,g6.headerCapture)("response",Y.headersToSpanAttributes?.client?.responseHeaders??[])},server:{captureRequestHeaders:(0,g6.headerCapture)("request",Y.headersToSpanAttributes?.server?.requestHeaders??[]),captureResponseHeaders:(0,g6.headerCapture)("response",Y.headersToSpanAttributes?.server?.responseHeaders??[])}}}}iR1.HttpInstrumentation=nR1});var aR1=q((nc)=>{Object.defineProperty(nc,"__esModule",{value:!0});nc.HttpInstrumentation=void 0;var kU4=rR1();Object.defineProperty(nc,"HttpInstrumentation",{enumerable:!0,get:function(){return kU4.HttpInstrumentation}})});var eR1=q((sR1)=>{Object.defineProperty(sR1,"__esModule",{value:!0});sR1.DB_SYSTEM_VALUE_REDIS=sR1.DB_SYSTEM_NAME_VALUE_REDIS=sR1.ATTR_NET_PEER_PORT=sR1.ATTR_NET_PEER_NAME=sR1.ATTR_DB_SYSTEM=sR1.ATTR_DB_STATEMENT=sR1.ATTR_DB_CONNECTION_STRING=void 0;sR1.ATTR_DB_CONNECTION_STRING="db.connection_string";sR1.ATTR_DB_STATEMENT="db.statement";sR1.ATTR_DB_SYSTEM="db.system";sR1.ATTR_NET_PEER_NAME="net.peer.name";sR1.ATTR_NET_PEER_PORT="net.peer.port";sR1.DB_SYSTEM_NAME_VALUE_REDIS="redis";sR1.DB_SYSTEM_VALUE_REDIS="redis"});var X21=q((Y21)=>{Object.defineProperty(Y21,"__esModule",{value:!0});Y21.endSpan=void 0;var gU4=t(),uU4=(Y,J)=>{if(J)Y.recordException(J),Y.setStatus({code:gU4.SpanStatusCode.ERROR,message:J.message});Y.end()};Y21.endSpan=uU4});var $21=q((Z21)=>{Object.defineProperty(Z21,"__esModule",{value:!0});Z21.defaultDbStatementSerializer=void 0;var mU4=[{regex:/^ECHO/i,args:0},{regex:/^(LPUSH|MSET|PFA|PUBLISH|RPUSH|SADD|SET|SPUBLISH|XADD|ZADD)/i,args:1},{regex:/^(HSET|HMSET|LSET|LINSERT)/i,args:2},{regex:/^(ACL|BIT|B[LRZ]|CLIENT|CLUSTER|CONFIG|COMMAND|DECR|DEL|EVAL|EX|FUNCTION|GEO|GET|HINCR|HMGET|HSCAN|INCR|L[TRLM]|MEMORY|P[EFISTU]|RPOP|S[CDIMORSU]|XACK|X[CDGILPRT]|Z[CDILMPRS])/i,args:-1}],dU4=(Y,J)=>{if(Array.isArray(J)&&J.length){let X=mU4.find(({regex:W})=>{return W.test(Y)})?.args??0,Z=X>=0?J.slice(0,X):J;if(J.length>Z.length)Z.push(`[${J.length-X} other arguments]`);return`${Y} ${Z.join(" ")}`}return Y};Z21.defaultDbStatementSerializer=dU4});var U21=q((G21)=>{Object.defineProperty(G21,"__esModule",{value:!0});G21.PACKAGE_NAME=G21.PACKAGE_VERSION=void 0;G21.PACKAGE_VERSION="0.60.0";G21.PACKAGE_NAME="@opentelemetry/instrumentation-ioredis"});var F21=q((B21)=>{Object.defineProperty(B21,"__esModule",{value:!0});B21.IORedisInstrumentation=void 0;var EW=t(),j9=t1(),TW=X0(),k9=eR1(),z21=t1(),YV=X21(),lU4=$21(),H21=U21(),O21={requireParentSpan:!0};class K21 extends j9.InstrumentationBase{_netSemconvStability;_dbSemconvStability;constructor(Y={}){super(H21.PACKAGE_NAME,H21.PACKAGE_VERSION,{...O21,...Y});this._setSemconvStabilityFromEnv()}_setSemconvStabilityFromEnv(){this._netSemconvStability=(0,j9.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN),this._dbSemconvStability=(0,j9.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}setConfig(Y={}){super.setConfig({...O21,...Y})}init(){return[new j9.InstrumentationNodeModuleDefinition("ioredis",[">=2.0.0 <6"],(Y,J)=>{let X=Y[Symbol.toStringTag]==="Module"?Y.default:Y;if((0,j9.isWrapped)(X.prototype.sendCommand))this._unwrap(X.prototype,"sendCommand");if(this._wrap(X.prototype,"sendCommand",this._patchSendCommand(J)),(0,j9.isWrapped)(X.prototype.connect))this._unwrap(X.prototype,"connect");return this._wrap(X.prototype,"connect",this._patchConnection()),Y},(Y)=>{if(Y===void 0)return;let J=Y[Symbol.toStringTag]==="Module"?Y.default:Y;this._unwrap(J.prototype,"sendCommand"),this._unwrap(J.prototype,"connect")})]}_patchSendCommand(Y){return(J)=>{return this._traceSendCommand(J,Y)}}_patchConnection(){return(Y)=>{return this._traceConnection(Y)}}_traceSendCommand(Y,J){let X=this;return function(Z){if(arguments.length<1||typeof Z!=="object")return Y.apply(this,arguments);let W=X.getConfig(),$=W.dbStatementSerializer||lU4.defaultDbStatementSerializer,G=EW.trace.getSpan(EW.context.active())===void 0;if(W.requireParentSpan===!0&&G)return Y.apply(this,arguments);let Q={},{host:U,port:z}=this.options,H=$(Z.name,Z.args);if(X._dbSemconvStability&j9.SemconvStability.OLD)Q[k9.ATTR_DB_SYSTEM]=k9.DB_SYSTEM_VALUE_REDIS,Q[k9.ATTR_DB_STATEMENT]=H,Q[k9.ATTR_DB_CONNECTION_STRING]=`redis://${U}:${z}`;if(X._dbSemconvStability&j9.SemconvStability.STABLE)Q[TW.ATTR_DB_SYSTEM_NAME]=k9.DB_SYSTEM_NAME_VALUE_REDIS,Q[TW.ATTR_DB_QUERY_TEXT]=H;if(X._netSemconvStability&j9.SemconvStability.OLD)Q[k9.ATTR_NET_PEER_NAME]=U,Q[k9.ATTR_NET_PEER_PORT]=z;if(X._netSemconvStability&j9.SemconvStability.STABLE)Q[TW.ATTR_SERVER_ADDRESS]=U,Q[TW.ATTR_SERVER_PORT]=z;let O=X.tracer.startSpan(Z.name,{kind:EW.SpanKind.CLIENT,attributes:Q}),{requestHook:K}=W;if(K)(0,z21.safeExecuteInTheMiddle)(()=>K(O,{moduleVersion:J,cmdName:Z.name,cmdArgs:Z.args}),(B)=>{if(B)EW.diag.error("ioredis instrumentation: request hook failed",B)},!0);try{let B=Y.apply(this,arguments),F=Z.resolve;Z.resolve=function(I){(0,z21.safeExecuteInTheMiddle)(()=>W.responseHook?.(O,Z.name,Z.args,I),(D)=>{if(D)EW.diag.error("ioredis instrumentation: response hook failed",D)},!0),(0,YV.endSpan)(O,null),F(I)};let V=Z.reject;return Z.reject=function(I){(0,YV.endSpan)(O,I),V(I)},B}catch(B){throw(0,YV.endSpan)(O,B),B}}}_traceConnection(Y){let J=this;return function(){let X=EW.trace.getSpan(EW.context.active())===void 0;if(J.getConfig().requireParentSpan===!0&&X)return Y.apply(this,arguments);let Z={},{host:W,port:$}=this.options;if(J._dbSemconvStability&j9.SemconvStability.OLD)Z[k9.ATTR_DB_SYSTEM]=k9.DB_SYSTEM_VALUE_REDIS,Z[k9.ATTR_DB_STATEMENT]="connect",Z[k9.ATTR_DB_CONNECTION_STRING]=`redis://${W}:${$}`;if(J._dbSemconvStability&j9.SemconvStability.STABLE)Z[TW.ATTR_DB_SYSTEM_NAME]=k9.DB_SYSTEM_NAME_VALUE_REDIS,Z[TW.ATTR_DB_QUERY_TEXT]="connect";if(J._netSemconvStability&j9.SemconvStability.OLD)Z[k9.ATTR_NET_PEER_NAME]=W,Z[k9.ATTR_NET_PEER_PORT]=$;if(J._netSemconvStability&j9.SemconvStability.STABLE)Z[TW.ATTR_SERVER_ADDRESS]=W,Z[TW.ATTR_SERVER_PORT]=$;let G=J.tracer.startSpan("connect",{kind:EW.SpanKind.CLIENT,attributes:Z});try{let Q=Y.apply(this,arguments);return(0,YV.endSpan)(G,null),Q}catch(Q){throw(0,YV.endSpan)(G,Q),Q}}}}B21.IORedisInstrumentation=K21});var V21=q((ic)=>{Object.defineProperty(ic,"__esModule",{value:!0});ic.IORedisInstrumentation=void 0;var pU4=F21();Object.defineProperty(ic,"IORedisInstrumentation",{enumerable:!0,get:function(){return pU4.IORedisInstrumentation}})});var w21=q((I21)=>{Object.defineProperty(I21,"__esModule",{value:!0});I21.EVENT_LISTENERS_SET=void 0;I21.EVENT_LISTENERS_SET=Symbol("opentelemetry.instrumentation.kafkajs.eventListenersSet")});var L21=q((A21)=>{Object.defineProperty(A21,"__esModule",{value:!0});A21.bufferTextMapGetter=void 0;A21.bufferTextMapGetter={get(Y,J){if(!Y)return;let X=Object.keys(Y);for(let Z of X)if(Z===J||Z.toLowerCase()===J)return Y[Z]?.toString();return},keys(Y){return Y?Object.keys(Y):[]}}});var T21=q((M21)=>{Object.defineProperty(M21,"__esModule",{value:!0});M21.METRIC_MESSAGING_PROCESS_DURATION=M21.METRIC_MESSAGING_CLIENT_SENT_MESSAGES=M21.METRIC_MESSAGING_CLIENT_OPERATION_DURATION=M21.METRIC_MESSAGING_CLIENT_CONSUMED_MESSAGES=M21.MESSAGING_SYSTEM_VALUE_KAFKA=M21.MESSAGING_OPERATION_TYPE_VALUE_SEND=M21.MESSAGING_OPERATION_TYPE_VALUE_RECEIVE=M21.MESSAGING_OPERATION_TYPE_VALUE_PROCESS=M21.ATTR_MESSAGING_SYSTEM=M21.ATTR_MESSAGING_OPERATION_TYPE=M21.ATTR_MESSAGING_OPERATION_NAME=M21.ATTR_MESSAGING_KAFKA_OFFSET=M21.ATTR_MESSAGING_KAFKA_MESSAGE_TOMBSTONE=M21.ATTR_MESSAGING_KAFKA_MESSAGE_KEY=M21.ATTR_MESSAGING_DESTINATION_PARTITION_ID=M21.ATTR_MESSAGING_DESTINATION_NAME=M21.ATTR_MESSAGING_BATCH_MESSAGE_COUNT=void 0;M21.ATTR_MESSAGING_BATCH_MESSAGE_COUNT="messaging.batch.message_count";M21.ATTR_MESSAGING_DESTINATION_NAME="messaging.destination.name";M21.ATTR_MESSAGING_DESTINATION_PARTITION_ID="messaging.destination.partition.id";M21.ATTR_MESSAGING_KAFKA_MESSAGE_KEY="messaging.kafka.message.key";M21.ATTR_MESSAGING_KAFKA_MESSAGE_TOMBSTONE="messaging.kafka.message.tombstone";M21.ATTR_MESSAGING_KAFKA_OFFSET="messaging.kafka.offset";M21.ATTR_MESSAGING_OPERATION_NAME="messaging.operation.name";M21.ATTR_MESSAGING_OPERATION_TYPE="messaging.operation.type";M21.ATTR_MESSAGING_SYSTEM="messaging.system";M21.MESSAGING_OPERATION_TYPE_VALUE_PROCESS="process";M21.MESSAGING_OPERATION_TYPE_VALUE_RECEIVE="receive";M21.MESSAGING_OPERATION_TYPE_VALUE_SEND="send";M21.MESSAGING_SYSTEM_VALUE_KAFKA="kafka";M21.METRIC_MESSAGING_CLIENT_CONSUMED_MESSAGES="messaging.client.consumed.messages";M21.METRIC_MESSAGING_CLIENT_OPERATION_DURATION="messaging.client.operation.duration";M21.METRIC_MESSAGING_CLIENT_SENT_MESSAGES="messaging.client.sent.messages";M21.METRIC_MESSAGING_PROCESS_DURATION="messaging.process.duration"});var S21=q((R21)=>{Object.defineProperty(R21,"__esModule",{value:!0});R21.PACKAGE_NAME=R21.PACKAGE_VERSION=void 0;R21.PACKAGE_VERSION="0.21.0";R21.PACKAGE_NAME="@opentelemetry/instrumentation-kafkajs"});var b21=q((v21)=>{Object.defineProperty(v21,"__esModule",{value:!0});v21.KafkaJsInstrumentation=void 0;var C4=t(),d7=t1(),mH=X0(),C21=w21(),j21=L21(),l1=T21(),k21=S21();function RT(Y,J,X){return(Z)=>{Y.add(J,{...X,...Z?{[mH.ATTR_ERROR_TYPE]:Z}:{}})}}function _21(Y,J,X){return(Z)=>{Y.record((Date.now()-J)/1000,{...X,...Z?{[mH.ATTR_ERROR_TYPE]:Z}:{}})}}var x21=[0.005,0.01,0.025,0.05,0.075,0.1,0.25,0.5,0.75,1,2.5,5,7.5,10];class f21 extends d7.InstrumentationBase{constructor(Y={}){super(k21.PACKAGE_NAME,k21.PACKAGE_VERSION,Y)}_updateMetricInstruments(){this._clientDuration=this.meter.createHistogram(l1.METRIC_MESSAGING_CLIENT_OPERATION_DURATION,{advice:{explicitBucketBoundaries:x21}}),this._sentMessages=this.meter.createCounter(l1.METRIC_MESSAGING_CLIENT_SENT_MESSAGES),this._consumedMessages=this.meter.createCounter(l1.METRIC_MESSAGING_CLIENT_CONSUMED_MESSAGES),this._processDuration=this.meter.createHistogram(l1.METRIC_MESSAGING_PROCESS_DURATION,{advice:{explicitBucketBoundaries:x21}})}init(){let Y=(X)=>{if((0,d7.isWrapped)(X?.Kafka?.prototype.producer))this._unwrap(X.Kafka.prototype,"producer");if((0,d7.isWrapped)(X?.Kafka?.prototype.consumer))this._unwrap(X.Kafka.prototype,"consumer")};return new d7.InstrumentationNodeModuleDefinition("kafkajs",[">=0.3.0 <3"],(X)=>{return Y(X),this._wrap(X?.Kafka?.prototype,"producer",this._getProducerPatch()),this._wrap(X?.Kafka?.prototype,"consumer",this._getConsumerPatch()),X},Y)}_getConsumerPatch(){let Y=this;return(J)=>{return function(...Z){let W=J.apply(this,Z);if((0,d7.isWrapped)(W.run))Y._unwrap(W,"run");return Y._wrap(W,"run",Y._getConsumerRunPatch()),Y._setKafkaEventListeners(W),W}}}_setKafkaEventListeners(Y){if(Y[C21.EVENT_LISTENERS_SET])return;if(Y.events?.REQUEST)Y.on(Y.events.REQUEST,this._recordClientDurationMetric.bind(this));Y[C21.EVENT_LISTENERS_SET]=!0}_recordClientDurationMetric(Y){let[J,X]=Y.payload.broker.split(":");this._clientDuration.record(Y.payload.duration/1000,{[l1.ATTR_MESSAGING_SYSTEM]:l1.MESSAGING_SYSTEM_VALUE_KAFKA,[l1.ATTR_MESSAGING_OPERATION_NAME]:`${Y.payload.apiName}`,[mH.ATTR_SERVER_ADDRESS]:J,[mH.ATTR_SERVER_PORT]:Number.parseInt(X,10)})}_getProducerPatch(){let Y=this;return(J)=>{return function(...Z){let W=J.apply(this,Z);if((0,d7.isWrapped)(W.sendBatch))Y._unwrap(W,"sendBatch");if(Y._wrap(W,"sendBatch",Y._getSendBatchPatch()),(0,d7.isWrapped)(W.send))Y._unwrap(W,"send");if(Y._wrap(W,"send",Y._getSendPatch()),(0,d7.isWrapped)(W.transaction))Y._unwrap(W,"transaction");return Y._wrap(W,"transaction",Y._getProducerTransactionPatch()),Y._setKafkaEventListeners(W),W}}}_getConsumerRunPatch(){let Y=this;return(J)=>{return function(...Z){let W=Z[0];if(W?.eachMessage){if((0,d7.isWrapped)(W.eachMessage))Y._unwrap(W,"eachMessage");Y._wrap(W,"eachMessage",Y._getConsumerEachMessagePatch())}if(W?.eachBatch){if((0,d7.isWrapped)(W.eachBatch))Y._unwrap(W,"eachBatch");Y._wrap(W,"eachBatch",Y._getConsumerEachBatchPatch())}return J.call(this,W)}}}_getConsumerEachMessagePatch(){let Y=this;return(J)=>{return function(...Z){let W=Z[0],$=C4.propagation.extract(C4.ROOT_CONTEXT,W.message.headers,j21.bufferTextMapGetter),G=Y._startConsumerSpan({topic:W.topic,message:W.message,operationType:l1.MESSAGING_OPERATION_TYPE_VALUE_PROCESS,ctx:$,attributes:{[l1.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String(W.partition)}}),Q=[_21(Y._processDuration,Date.now(),{[l1.ATTR_MESSAGING_SYSTEM]:l1.MESSAGING_SYSTEM_VALUE_KAFKA,[l1.ATTR_MESSAGING_OPERATION_NAME]:"process",[l1.ATTR_MESSAGING_DESTINATION_NAME]:W.topic,[l1.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String(W.partition)}),RT(Y._consumedMessages,1,{[l1.ATTR_MESSAGING_SYSTEM]:l1.MESSAGING_SYSTEM_VALUE_KAFKA,[l1.ATTR_MESSAGING_OPERATION_NAME]:"process",[l1.ATTR_MESSAGING_DESTINATION_NAME]:W.topic,[l1.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String(W.partition)})],U=C4.context.with(C4.trace.setSpan($,G),()=>{return J.apply(this,Z)});return Y._endSpansOnPromise([G],Q,U)}}}_getConsumerEachBatchPatch(){return(Y)=>{let J=this;return function(...Z){let W=Z[0],$=J._startConsumerSpan({topic:W.batch.topic,message:void 0,operationType:l1.MESSAGING_OPERATION_TYPE_VALUE_RECEIVE,ctx:C4.ROOT_CONTEXT,attributes:{[l1.ATTR_MESSAGING_BATCH_MESSAGE_COUNT]:W.batch.messages.length,[l1.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String(W.batch.partition)}});return C4.context.with(C4.trace.setSpan(C4.context.active(),$),()=>{let G=Date.now(),Q=[],U=[RT(J._consumedMessages,W.batch.messages.length,{[l1.ATTR_MESSAGING_SYSTEM]:l1.MESSAGING_SYSTEM_VALUE_KAFKA,[l1.ATTR_MESSAGING_OPERATION_NAME]:"process",[l1.ATTR_MESSAGING_DESTINATION_NAME]:W.batch.topic,[l1.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String(W.batch.partition)})];W.batch.messages.forEach((H)=>{let O=C4.propagation.extract(C4.ROOT_CONTEXT,H.headers,j21.bufferTextMapGetter),K=C4.trace.getSpan(O)?.spanContext(),B;if(K)B={context:K};Q.push(J._startConsumerSpan({topic:W.batch.topic,message:H,operationType:l1.MESSAGING_OPERATION_TYPE_VALUE_PROCESS,link:B,attributes:{[l1.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String(W.batch.partition)}})),U.push(_21(J._processDuration,G,{[l1.ATTR_MESSAGING_SYSTEM]:l1.MESSAGING_SYSTEM_VALUE_KAFKA,[l1.ATTR_MESSAGING_OPERATION_NAME]:"process",[l1.ATTR_MESSAGING_DESTINATION_NAME]:W.batch.topic,[l1.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String(W.batch.partition)}))});let z=Y.apply(this,Z);return Q.unshift($),J._endSpansOnPromise(Q,U,z)})}}}_getProducerTransactionPatch(){let Y=this;return(J)=>{return function(...Z){let W=Y.tracer.startSpan("transaction"),$=J.apply(this,Z);return $.then((G)=>{let Q=G.send;G.send=function(...K){return C4.context.with(C4.trace.setSpan(C4.context.active(),W),()=>{return Y._getSendPatch()(Q).apply(this,K).catch((F)=>{throw W.setStatus({code:C4.SpanStatusCode.ERROR,message:F?.message}),W.recordException(F),F})})};let U=G.sendBatch;G.sendBatch=function(...K){return C4.context.with(C4.trace.setSpan(C4.context.active(),W),()=>{return Y._getSendBatchPatch()(U).apply(this,K).catch((F)=>{throw W.setStatus({code:C4.SpanStatusCode.ERROR,message:F?.message}),W.recordException(F),F})})};let z=G.commit;G.commit=function(...K){let B=z.apply(this,K).then(()=>{W.setStatus({code:C4.SpanStatusCode.OK})});return Y._endSpansOnPromise([W],[],B)};let H=G.abort;G.abort=function(...K){let B=H.apply(this,K);return Y._endSpansOnPromise([W],[],B)}}).catch((G)=>{W.setStatus({code:C4.SpanStatusCode.ERROR,message:G?.message}),W.recordException(G),W.end()}),$}}}_getSendBatchPatch(){let Y=this;return(J)=>{return function(...Z){let $=Z[0].topicMessages||[],G=[],Q=[];$.forEach((z)=>{z.messages.forEach((H)=>{G.push(Y._startProducerSpan(z.topic,H)),Q.push(RT(Y._sentMessages,1,{[l1.ATTR_MESSAGING_SYSTEM]:l1.MESSAGING_SYSTEM_VALUE_KAFKA,[l1.ATTR_MESSAGING_OPERATION_NAME]:"send",[l1.ATTR_MESSAGING_DESTINATION_NAME]:z.topic,...H.partition!==void 0?{[l1.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String(H.partition)}:{}}))})});let U=J.apply(this,Z);return Y._endSpansOnPromise(G,Q,U)}}}_getSendPatch(){let Y=this;return(J)=>{return function(...Z){let W=Z[0],$=W.messages.map((U)=>{return Y._startProducerSpan(W.topic,U)}),G=W.messages.map((U)=>RT(Y._sentMessages,1,{[l1.ATTR_MESSAGING_SYSTEM]:l1.MESSAGING_SYSTEM_VALUE_KAFKA,[l1.ATTR_MESSAGING_OPERATION_NAME]:"send",[l1.ATTR_MESSAGING_DESTINATION_NAME]:W.topic,...U.partition!==void 0?{[l1.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:String(U.partition)}:{}})),Q=J.apply(this,Z);return Y._endSpansOnPromise($,G,Q)}}}_endSpansOnPromise(Y,J,X){return Promise.resolve(X).then((Z)=>{return J.forEach((W)=>W()),Z}).catch((Z)=>{let W,$=mH.ERROR_TYPE_VALUE_OTHER;if(typeof Z==="string"||Z===void 0)W=Z;else if(typeof Z==="object"&&Object.prototype.hasOwnProperty.call(Z,"message"))W=Z.message,$=Z.constructor.name;throw J.forEach((G)=>G($)),Y.forEach((G)=>{G.setAttribute(mH.ATTR_ERROR_TYPE,$),G.setStatus({code:C4.SpanStatusCode.ERROR,message:W})}),Z}).finally(()=>{Y.forEach((Z)=>Z.end())})}_startConsumerSpan({topic:Y,message:J,operationType:X,ctx:Z,link:W,attributes:$}){let G=X===l1.MESSAGING_OPERATION_TYPE_VALUE_RECEIVE?"poll":X,Q=this.tracer.startSpan(`${G} ${Y}`,{kind:X===l1.MESSAGING_OPERATION_TYPE_VALUE_RECEIVE?C4.SpanKind.CLIENT:C4.SpanKind.CONSUMER,attributes:{...$,[l1.ATTR_MESSAGING_SYSTEM]:l1.MESSAGING_SYSTEM_VALUE_KAFKA,[l1.ATTR_MESSAGING_DESTINATION_NAME]:Y,[l1.ATTR_MESSAGING_OPERATION_TYPE]:X,[l1.ATTR_MESSAGING_OPERATION_NAME]:G,[l1.ATTR_MESSAGING_KAFKA_MESSAGE_KEY]:J?.key?String(J.key):void 0,[l1.ATTR_MESSAGING_KAFKA_MESSAGE_TOMBSTONE]:J?.key&&J.value===null?!0:void 0,[l1.ATTR_MESSAGING_KAFKA_OFFSET]:J?.offset},links:W?[W]:[]},Z),{consumerHook:U}=this.getConfig();if(U&&J)(0,d7.safeExecuteInTheMiddle)(()=>U(Q,{topic:Y,message:J}),(z)=>{if(z)this._diag.error("consumerHook error",z)},!0);return Q}_startProducerSpan(Y,J){let X=this.tracer.startSpan(`send ${Y}`,{kind:C4.SpanKind.PRODUCER,attributes:{[l1.ATTR_MESSAGING_SYSTEM]:l1.MESSAGING_SYSTEM_VALUE_KAFKA,[l1.ATTR_MESSAGING_DESTINATION_NAME]:Y,[l1.ATTR_MESSAGING_KAFKA_MESSAGE_KEY]:J.key?String(J.key):void 0,[l1.ATTR_MESSAGING_KAFKA_MESSAGE_TOMBSTONE]:J.key&&J.value===null?!0:void 0,[l1.ATTR_MESSAGING_DESTINATION_PARTITION_ID]:J.partition!==void 0?String(J.partition):void 0,[l1.ATTR_MESSAGING_OPERATION_NAME]:"send",[l1.ATTR_MESSAGING_OPERATION_TYPE]:l1.MESSAGING_OPERATION_TYPE_VALUE_SEND}});J.headers=J.headers??{},C4.propagation.inject(C4.trace.setSpan(C4.context.active(),X),J.headers);let{producerHook:Z}=this.getConfig();if(Z)(0,d7.safeExecuteInTheMiddle)(()=>Z(X,{topic:Y,message:J}),(W)=>{if(W)this._diag.error("producerHook error",W)},!0);return X}}v21.KafkaJsInstrumentation=f21});var y21=q((oc)=>{Object.defineProperty(oc,"__esModule",{value:!0});oc.KafkaJsInstrumentation=void 0;var Hz4=b21();Object.defineProperty(oc,"KafkaJsInstrumentation",{enumerable:!0,get:function(){return Hz4.KafkaJsInstrumentation}})});var m21=q((g21)=>{Object.defineProperty(g21,"__esModule",{value:!0});g21.PACKAGE_NAME=g21.PACKAGE_VERSION=void 0;g21.PACKAGE_VERSION="0.56.0";g21.PACKAGE_NAME="@opentelemetry/instrumentation-knex"});var l21=q((d21)=>{Object.defineProperty(d21,"__esModule",{value:!0});d21.SUPPORTED_VERSIONS=d21.MODULE_NAME=void 0;d21.MODULE_NAME="knex";d21.SUPPORTED_VERSIONS=[">=0.22.0 <4",">=0.10.0 <0.18.0",">=0.19.0 <0.22.0",">=0.18.0 <0.19.0"]});var rc=q((p21)=>{Object.defineProperty(p21,"__esModule",{value:!0});p21.DB_SYSTEM_NAME_VALUE_SQLITE=p21.ATTR_NET_TRANSPORT=p21.ATTR_NET_PEER_PORT=p21.ATTR_NET_PEER_NAME=p21.ATTR_DB_USER=p21.ATTR_DB_SYSTEM=p21.ATTR_DB_STATEMENT=p21.ATTR_DB_SQL_TABLE=p21.ATTR_DB_OPERATION=p21.ATTR_DB_NAME=void 0;p21.ATTR_DB_NAME="db.name";p21.ATTR_DB_OPERATION="db.operation";p21.ATTR_DB_SQL_TABLE="db.sql.table";p21.ATTR_DB_STATEMENT="db.statement";p21.ATTR_DB_SYSTEM="db.system";p21.ATTR_DB_USER="db.user";p21.ATTR_NET_PEER_NAME="net.peer.name";p21.ATTR_NET_PEER_PORT="net.peer.port";p21.ATTR_NET_TRANSPORT="net.transport";p21.DB_SYSTEM_NAME_VALUE_SQLITE="sqlite"});var o21=q((i21)=>{Object.defineProperty(i21,"__esModule",{value:!0});i21.extractTableName=i21.limitLength=i21.getName=i21.mapSystem=i21.otelExceptionFromKnexError=i21.getFormatter=void 0;var Mz4=X0(),Ez4=rc(),Tz4=(Y)=>{if(Y){if(Y.client){if(Y.client._formatQuery)return Y.client._formatQuery.bind(Y.client);else if(Y.client.SqlString)return Y.client.SqlString.format.bind(Y.client.SqlString)}if(Y.builder)return Y.builder.toString.bind(Y.builder)}return()=>"<noop formatter>"};i21.getFormatter=Tz4;function Rz4(Y,J){if(!(Y&&Y instanceof Error))return Y;return{message:J,code:Y.code,stack:Y.stack,name:Y.name}}i21.otelExceptionFromKnexError=Rz4;var Nz4=new Map([["sqlite3",Ez4.DB_SYSTEM_NAME_VALUE_SQLITE],["pg",Mz4.DB_SYSTEM_NAME_VALUE_POSTGRESQL]]),Sz4=(Y)=>{return Nz4.get(Y)||Y};i21.mapSystem=Sz4;var Cz4=(Y,J,X)=>{if(J){if(X)return`${J} ${Y}.${X}`;return`${J} ${Y}`}return Y};i21.getName=Cz4;var jz4=(Y,J)=>{if(typeof Y==="string"&&typeof J==="number"&&0<J&&J<Y.length)return Y.substring(0,J)+"..";return Y};i21.limitLength=jz4;var kz4=(Y)=>{let J=Y?._single?.table;if(typeof J==="object")return i21.extractTableName(J);return J};i21.extractTableName=kz4});var JN1=q((e21)=>{Object.defineProperty(e21,"__esModule",{value:!0});e21.KnexInstrumentation=void 0;var o3=t(),r21=m21(),NT=l21(),KX=t1(),JQ=o21(),XQ=X0(),r3=rc(),a21=Symbol("opentelemetry.instrumentation-knex.context"),s21={maxQueryLength:1022,requireParentSpan:!1};class t21 extends KX.InstrumentationBase{_semconvStability;constructor(Y={}){super(r21.PACKAGE_NAME,r21.PACKAGE_VERSION,{...s21,...Y});this._semconvStability=(0,KX.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}setConfig(Y={}){super.setConfig({...s21,...Y})}init(){let Y=new KX.InstrumentationNodeModuleDefinition(NT.MODULE_NAME,NT.SUPPORTED_VERSIONS);return Y.files.push(this.getClientNodeModuleFileInstrumentation("src"),this.getClientNodeModuleFileInstrumentation("lib"),this.getRunnerNodeModuleFileInstrumentation("src"),this.getRunnerNodeModuleFileInstrumentation("lib"),this.getRunnerNodeModuleFileInstrumentation("lib/execution")),Y}getRunnerNodeModuleFileInstrumentation(Y){return new KX.InstrumentationNodeModuleFile(`knex/${Y}/runner.js`,NT.SUPPORTED_VERSIONS,(J,X)=>{return this.ensureWrapped(J.prototype,"query",this.createQueryWrapper(X)),J},(J,X)=>{return this._unwrap(J.prototype,"query"),J})}getClientNodeModuleFileInstrumentation(Y){return new KX.InstrumentationNodeModuleFile(`knex/${Y}/client.js`,NT.SUPPORTED_VERSIONS,(J)=>{return this.ensureWrapped(J.prototype,"queryBuilder",this.storeContext.bind(this)),this.ensureWrapped(J.prototype,"schemaBuilder",this.storeContext.bind(this)),this.ensureWrapped(J.prototype,"raw",this.storeContext.bind(this)),J},(J)=>{return this._unwrap(J.prototype,"queryBuilder"),this._unwrap(J.prototype,"schemaBuilder"),this._unwrap(J.prototype,"raw"),J})}createQueryWrapper(Y){let J=this;return function(Z){return function($){let G=this.client.config,Q=JQ.extractTableName(this.builder),U=$?.method,z=G?.connection?.filename||G?.connection?.database,{maxQueryLength:H}=J.getConfig(),O={"knex.version":Y},K=G?.connection?.filename===":memory:"?"inproc":void 0;if(J._semconvStability&KX.SemconvStability.OLD)Object.assign(O,{[r3.ATTR_DB_SYSTEM]:JQ.mapSystem(this.client.driverName),[r3.ATTR_DB_SQL_TABLE]:Q,[r3.ATTR_DB_OPERATION]:U,[r3.ATTR_DB_USER]:G?.connection?.user,[r3.ATTR_DB_NAME]:z,[r3.ATTR_NET_PEER_NAME]:G?.connection?.host,[r3.ATTR_NET_PEER_PORT]:G?.connection?.port,[r3.ATTR_NET_TRANSPORT]:K});if(J._semconvStability&KX.SemconvStability.STABLE)Object.assign(O,{[XQ.ATTR_DB_SYSTEM_NAME]:JQ.mapSystem(this.client.driverName),[XQ.ATTR_DB_COLLECTION_NAME]:Q,[XQ.ATTR_DB_OPERATION_NAME]:U,[XQ.ATTR_DB_NAMESPACE]:z,[XQ.ATTR_SERVER_ADDRESS]:G?.connection?.host,[XQ.ATTR_SERVER_PORT]:G?.connection?.port});if(H){let L=JQ.limitLength($?.sql,H);if(J._semconvStability&KX.SemconvStability.STABLE)O[XQ.ATTR_DB_QUERY_TEXT]=L;if(J._semconvStability&KX.SemconvStability.OLD)O[r3.ATTR_DB_STATEMENT]=L}let B=this.builder[a21]||o3.context.active(),F=o3.trace.getSpan(B),V=F&&o3.trace.isSpanContextValid(F.spanContext());if(J._config.requireParentSpan&&!V)return Z.bind(this)(...arguments);let I=J.tracer.startSpan(JQ.getName(z,U,Q),{kind:o3.SpanKind.CLIENT,attributes:O},B),D=o3.trace.setSpan(o3.context.active(),I);return o3.context.with(D,Z,this,...arguments).then((L)=>{return I.end(),L}).catch((L)=>{let P=JQ.getFormatter(this)($.sql,$.bindings||[]),R=L.message.replace(P+" - ",""),N=JQ.otelExceptionFromKnexError(L,R);throw I.recordException(N),I.setStatus({code:o3.SpanStatusCode.ERROR,message:R}),I.end(),L})}}}storeContext(Y){return function(){let X=Y.apply(this,arguments);return Object.defineProperty(X,a21,{value:o3.context.active()}),X}}ensureWrapped(Y,J,X){if((0,KX.isWrapped)(Y[J]))this._unwrap(Y,J);this._wrap(Y,J,X)}}e21.KnexInstrumentation=t21});var XN1=q((sc)=>{Object.defineProperty(sc,"__esModule",{value:!0});sc.KnexInstrumentation=void 0;var bz4=JN1();Object.defineProperty(sc,"KnexInstrumentation",{enumerable:!0,get:function(){return bz4.KnexInstrumentation}})});var ST=q((ZN1)=>{Object.defineProperty(ZN1,"__esModule",{value:!0});ZN1.KoaLayerType=void 0;var gz4;(function(Y){Y.ROUTER="router",Y.MIDDLEWARE="middleware"})(gz4=ZN1.KoaLayerType||(ZN1.KoaLayerType={}))});var GN1=q((WN1)=>{Object.defineProperty(WN1,"__esModule",{value:!0});WN1.PACKAGE_NAME=WN1.PACKAGE_VERSION=void 0;WN1.PACKAGE_VERSION="0.60.0";WN1.PACKAGE_NAME="@opentelemetry/instrumentation-koa"});var Yl=q((QN1)=>{Object.defineProperty(QN1,"__esModule",{value:!0});QN1.AttributeNames=void 0;var mz4;(function(Y){Y.KOA_TYPE="koa.type",Y.KOA_NAME="koa.name"})(mz4=QN1.AttributeNames||(QN1.AttributeNames={}))});var ON1=q((zN1)=>{Object.defineProperty(zN1,"__esModule",{value:!0});zN1.isLayerIgnored=zN1.getMiddlewareMetadata=void 0;var UN1=ST(),CT=Yl(),dz4=X0(),cz4=(Y,J,X,Z)=>{if(X)return{attributes:{[CT.AttributeNames.KOA_NAME]:Z?.toString(),[CT.AttributeNames.KOA_TYPE]:UN1.KoaLayerType.ROUTER,[dz4.ATTR_HTTP_ROUTE]:Z?.toString()},name:Y._matchedRouteName||`router - ${Z}`};else return{attributes:{[CT.AttributeNames.KOA_NAME]:J.name??"middleware",[CT.AttributeNames.KOA_TYPE]:UN1.KoaLayerType.MIDDLEWARE},name:`middleware - ${J.name}`}};zN1.getMiddlewareMetadata=cz4;var lz4=(Y,J)=>{return!!(Array.isArray(J?.ignoreLayersType)&&J?.ignoreLayersType?.includes(Y))};zN1.isLayerIgnored=lz4});var qN1=q((KN1)=>{Object.defineProperty(KN1,"__esModule",{value:!0});KN1.kLayerPatched=void 0;KN1.kLayerPatched=Symbol("koa-layer-patched")});var MN1=q((PN1)=>{Object.defineProperty(PN1,"__esModule",{value:!0});PN1.KoaInstrumentation=void 0;var BX=t(),JV=t1(),FN1=ST(),VN1=GN1(),IN1=ON1(),DN1=k1(),wN1=qN1();class AN1 extends JV.InstrumentationBase{constructor(Y={}){super(VN1.PACKAGE_NAME,VN1.PACKAGE_VERSION,Y)}init(){return new JV.InstrumentationNodeModuleDefinition("koa",[">=2.0.0 <4"],(Y)=>{let J=Y[Symbol.toStringTag]==="Module"?Y.default:Y;if(J==null)return J;if((0,JV.isWrapped)(J.prototype.use))this._unwrap(J.prototype,"use");return this._wrap(J.prototype,"use",this._getKoaUsePatch.bind(this)),Y},(Y)=>{let J=Y[Symbol.toStringTag]==="Module"?Y.default:Y;if((0,JV.isWrapped)(J.prototype.use))this._unwrap(J.prototype,"use")})}_getKoaUsePatch(Y){let J=this;return function(Z){let W;if(Z.router)W=J._patchRouterDispatch(Z);else W=J._patchLayer(Z,!1);return Y.apply(this,[W])}}_patchRouterDispatch(Y){BX.diag.debug("Patching @koa/router dispatch");let X=Y.router?.stack??[];for(let Z of X){let{path:W,stack:$}=Z;for(let G=0;G<$.length;G++){let Q=$[G];$[G]=this._patchLayer(Q,!0,W)}}return Y}_patchLayer(Y,J,X){let Z=J?FN1.KoaLayerType.ROUTER:FN1.KoaLayerType.MIDDLEWARE;if(Y[wN1.kLayerPatched]===!0||(0,IN1.isLayerIgnored)(Z,this.getConfig()))return Y;if(Y.constructor.name==="GeneratorFunction"||Y.constructor.name==="AsyncGeneratorFunction")return BX.diag.debug("ignoring generator-based Koa middleware layer"),Y;return Y[wN1.kLayerPatched]=!0,BX.diag.debug("patching Koa middleware layer"),async(W,$)=>{if(BX.trace.getSpan(BX.context.active())===void 0)return Y(W,$);let Q=(0,IN1.getMiddlewareMetadata)(W,Y,J,X),U=this.tracer.startSpan(Q.name,{attributes:Q.attributes}),z=(0,DN1.getRPCMetadata)(BX.context.active());if(z?.type===DN1.RPCType.HTTP&&W._matchedRoute)z.route=W._matchedRoute.toString();let{requestHook:H}=this.getConfig();if(H)(0,JV.safeExecuteInTheMiddle)(()=>H(U,{context:W,middlewareLayer:Y,layerType:Z}),(K)=>{if(K)BX.diag.error("koa instrumentation: request hook failed",K)},!0);let O=BX.trace.setSpan(BX.context.active(),U);return BX.context.with(O,async()=>{try{return await Y(W,$)}catch(K){throw U.recordException(K),K}finally{U.end()}})}}}PN1.KoaInstrumentation=AN1});var EN1=q((XV)=>{Object.defineProperty(XV,"__esModule",{value:!0});XV.KoaLayerType=XV.AttributeNames=XV.KoaInstrumentation=void 0;var nz4=MN1();Object.defineProperty(XV,"KoaInstrumentation",{enumerable:!0,get:function(){return nz4.KoaInstrumentation}});var iz4=Yl();Object.defineProperty(XV,"AttributeNames",{enumerable:!0,get:function(){return iz4.AttributeNames}});var oz4=ST();Object.defineProperty(XV,"KoaLayerType",{enumerable:!0,get:function(){return oz4.KoaLayerType}})});var NN1=q((TN1)=>{Object.defineProperty(TN1,"__esModule",{value:!0});TN1.PACKAGE_NAME=TN1.PACKAGE_VERSION=void 0;TN1.PACKAGE_VERSION="0.56.0";TN1.PACKAGE_NAME="@opentelemetry/instrumentation-lru-memoizer"});var fN1=q((_N1)=>{Object.defineProperty(_N1,"__esModule",{value:!0});_N1.LruMemoizerInstrumentation=void 0;var SN1=t(),CN1=t1(),jN1=NN1();class kN1 extends CN1.InstrumentationBase{constructor(Y={}){super(jN1.PACKAGE_NAME,jN1.PACKAGE_VERSION,Y)}init(){return[new CN1.InstrumentationNodeModuleDefinition("lru-memoizer",[">=1.3 <3"],(Y)=>{let J=function(){let X=Y.apply(this,arguments);return function(){let Z=[...arguments],W=Z.pop(),$=typeof W==="function"?SN1.context.bind(SN1.context.active(),W):W;return Z.push($),X.apply(this,Z)}};return J.sync=Y.sync,J},void 0)]}}_N1.LruMemoizerInstrumentation=kN1});var vN1=q((Jl)=>{Object.defineProperty(Jl,"__esModule",{value:!0});Jl.LruMemoizerInstrumentation=void 0;var sz4=fN1();Object.defineProperty(Jl,"LruMemoizerInstrumentation",{enumerable:!0,get:function(){return sz4.LruMemoizerInstrumentation}})});var Xl=q((hN1)=>{Object.defineProperty(hN1,"__esModule",{value:!0});hN1.DB_SYSTEM_NAME_VALUE_MEMCACHED=hN1.DB_SYSTEM_VALUE_MEMCACHED=hN1.ATTR_NET_PEER_PORT=hN1.ATTR_NET_PEER_NAME=hN1.ATTR_DB_SYSTEM=hN1.ATTR_DB_STATEMENT=hN1.ATTR_DB_OPERATION=void 0;hN1.ATTR_DB_OPERATION="db.operation";hN1.ATTR_DB_STATEMENT="db.statement";hN1.ATTR_DB_SYSTEM="db.system";hN1.ATTR_NET_PEER_NAME="net.peer.name";hN1.ATTR_NET_PEER_PORT="net.peer.port";hN1.DB_SYSTEM_VALUE_MEMCACHED="memcached";hN1.DB_SYSTEM_NAME_VALUE_MEMCACHED="memcached"});var uN1=q((yN1)=>{Object.defineProperty(yN1,"__esModule",{value:!0});yN1.getPeerAttributes=void 0;var Zl=Xl(),Wl=X0(),jT=t1(),$H4=(Y,J,X,Z)=>{if(!J)if(Y.servers.length===1)J=Y.servers[0];else{let W=Y.redundancy&&Y.redundancy<Y.servers.length,$=X.redundancyEnabled;if(W&&$)W=Y.HashRing.range(X.key,Y.redundancy+1,!0),J=W.shift();else J=Y.HashRing.get(X.key)}if(typeof J==="string"){let[W,$]=J&&J.split(":");if(W&&$){let G=parseInt($,10),Q={};if(Z&jT.SemconvStability.OLD){if(Q[Zl.ATTR_NET_PEER_NAME]=W,!isNaN(G))Q[Zl.ATTR_NET_PEER_PORT]=G}if(Z&jT.SemconvStability.STABLE){if(Q[Wl.ATTR_SERVER_ADDRESS]=W,!isNaN(G))Q[Wl.ATTR_SERVER_PORT]=G}return Q}if(W){let G={};if(Z&jT.SemconvStability.OLD)G[Zl.ATTR_NET_PEER_NAME]=W;if(Z&jT.SemconvStability.STABLE)G[Wl.ATTR_SERVER_ADDRESS]=W;return G}}return{}};yN1.getPeerAttributes=$H4});var cN1=q((mN1)=>{Object.defineProperty(mN1,"__esModule",{value:!0});mN1.PACKAGE_NAME=mN1.PACKAGE_VERSION=void 0;mN1.PACKAGE_VERSION="0.55.0";mN1.PACKAGE_NAME="@opentelemetry/instrumentation-memcached"});var iN1=q((pN1)=>{Object.defineProperty(pN1,"__esModule",{value:!0});pN1.MemcachedInstrumentation=void 0;var dH=t(),cY=t1(),ZV=Xl(),$l=X0(),QH4=uN1(),lN1=cN1();class kT extends cY.InstrumentationBase{static COMPONENT="memcached";static DEFAULT_CONFIG={enhancedDatabaseReporting:!1};_netSemconvStability;_dbSemconvStability;constructor(Y={}){super(lN1.PACKAGE_NAME,lN1.PACKAGE_VERSION,{...kT.DEFAULT_CONFIG,...Y});this._setSemconvStabilityFromEnv()}_setSemconvStabilityFromEnv(){this._netSemconvStability=(0,cY.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN),this._dbSemconvStability=(0,cY.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}setConfig(Y={}){super.setConfig({...kT.DEFAULT_CONFIG,...Y})}init(){return[new cY.InstrumentationNodeModuleDefinition("memcached",[">=2.2.0 <3"],(Y,J)=>{return this.ensureWrapped(Y.prototype,"command",this.wrapCommand.bind(this,J)),Y},(Y)=>{if(Y===void 0)return;this._unwrap(Y.prototype,"command")})]}wrapCommand(Y,J){let X=this;return function(Z,W){if(typeof Z!=="function")return J.apply(this,arguments);let $={"memcached.version":Y};if(X._dbSemconvStability&cY.SemconvStability.OLD)$[ZV.ATTR_DB_SYSTEM]=ZV.DB_SYSTEM_VALUE_MEMCACHED;if(X._dbSemconvStability&cY.SemconvStability.STABLE)$[$l.ATTR_DB_SYSTEM_NAME]=ZV.DB_SYSTEM_NAME_VALUE_MEMCACHED;let G=X.tracer.startSpan("unknown memcached command",{kind:dH.SpanKind.CLIENT,attributes:$}),Q=dH.context.active(),U=dH.trace.setSpan(Q,G);return dH.context.with(U,J,this,X.wrapQueryCompiler.call(X,Z,this,W,Q,G),W)}}wrapQueryCompiler(Y,J,X,Z,W){let $=this;return function(){let G=Y.apply(this,arguments),Q=G.callback;W.updateName(`memcached ${G.type}`);let U={"db.memcached.key":G.key,"db.memcached.lifetime":G.lifetime,...QH4.getPeerAttributes(J,X,G,$._netSemconvStability)};if($._dbSemconvStability&cY.SemconvStability.OLD)U[ZV.ATTR_DB_OPERATION]=G.type;if($._dbSemconvStability&cY.SemconvStability.STABLE)U[$l.ATTR_DB_OPERATION_NAME]=G.type;if($.getConfig().enhancedDatabaseReporting){if($._dbSemconvStability&cY.SemconvStability.OLD)U[ZV.ATTR_DB_STATEMENT]=G.command;if($._dbSemconvStability&cY.SemconvStability.STABLE)U[$l.ATTR_DB_QUERY_TEXT]=G.command}return W.setAttributes(U),G.callback=dH.context.bind(Z,function(z){if(z)W.recordException(z),W.setStatus({code:dH.SpanStatusCode.ERROR,message:z.message});if(W.end(),typeof Q==="function")return Q.apply(this,arguments)}),G}}ensureWrapped(Y,J,X){if((0,cY.isWrapped)(Y[J]))this._unwrap(Y,J);this._wrap(Y,J,X)}}pN1.MemcachedInstrumentation=kT});var oN1=q((Gl)=>{Object.defineProperty(Gl,"__esModule",{value:!0});Gl.MemcachedInstrumentation=void 0;var UH4=iN1();Object.defineProperty(Gl,"MemcachedInstrumentation",{enumerable:!0,get:function(){return UH4.MemcachedInstrumentation}})});var sN1=q((rN1)=>{Object.defineProperty(rN1,"__esModule",{value:!0});rN1.METRIC_DB_CLIENT_CONNECTIONS_USAGE=rN1.DB_SYSTEM_VALUE_MONGODB=rN1.DB_SYSTEM_NAME_VALUE_MONGODB=rN1.ATTR_NET_PEER_PORT=rN1.ATTR_NET_PEER_NAME=rN1.ATTR_DB_SYSTEM=rN1.ATTR_DB_STATEMENT=rN1.ATTR_DB_OPERATION=rN1.ATTR_DB_NAME=rN1.ATTR_DB_MONGODB_COLLECTION=rN1.ATTR_DB_CONNECTION_STRING=void 0;rN1.ATTR_DB_CONNECTION_STRING="db.connection_string";rN1.ATTR_DB_MONGODB_COLLECTION="db.mongodb.collection";rN1.ATTR_DB_NAME="db.name";rN1.ATTR_DB_OPERATION="db.operation";rN1.ATTR_DB_STATEMENT="db.statement";rN1.ATTR_DB_SYSTEM="db.system";rN1.ATTR_NET_PEER_NAME="net.peer.name";rN1.ATTR_NET_PEER_PORT="net.peer.port";rN1.DB_SYSTEM_NAME_VALUE_MONGODB="mongodb";rN1.DB_SYSTEM_VALUE_MONGODB="mongodb";rN1.METRIC_DB_CLIENT_CONNECTIONS_USAGE="db.client.connections.usage"});var eN1=q((tN1)=>{Object.defineProperty(tN1,"__esModule",{value:!0});tN1.MongodbCommandType=void 0;var AH4;(function(Y){Y.CREATE_INDEXES="createIndexes",Y.FIND_AND_MODIFY="findAndModify",Y.IS_MASTER="isMaster",Y.COUNT="count",Y.AGGREGATE="aggregate",Y.UNKNOWN="unknown"})(AH4=tN1.MongodbCommandType||(tN1.MongodbCommandType={}))});var XS1=q((YS1)=>{Object.defineProperty(YS1,"__esModule",{value:!0});YS1.PACKAGE_NAME=YS1.PACKAGE_VERSION=void 0;YS1.PACKAGE_VERSION="0.65.0";YS1.PACKAGE_NAME="@opentelemetry/instrumentation-mongodb"});var QS1=q(($S1)=>{Object.defineProperty($S1,"__esModule",{value:!0});$S1.MongoDBInstrumentation=void 0;var U6=t(),p0=t1(),a3=X0(),Q7=sN1(),ZQ=eN1(),ZS1=XS1(),WS1={requireParentSpan:!0};class Ul extends p0.InstrumentationBase{_netSemconvStability;_dbSemconvStability;constructor(Y={}){super(ZS1.PACKAGE_NAME,ZS1.PACKAGE_VERSION,{...WS1,...Y});this._setSemconvStabilityFromEnv()}_setSemconvStabilityFromEnv(){this._netSemconvStability=(0,p0.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN),this._dbSemconvStability=(0,p0.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}setConfig(Y={}){super.setConfig({...WS1,...Y})}_updateMetricInstruments(){this._connectionsUsage=this.meter.createUpDownCounter(Q7.METRIC_DB_CLIENT_CONNECTIONS_USAGE,{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"})}_connCountAdd(Y,J,X){this._connectionsUsage?.add(Y,{"pool.name":J,state:X})}init(){let{v3PatchConnection:Y,v3UnpatchConnection:J}=this._getV3ConnectionPatches(),{v4PatchConnect:X,v4UnpatchConnect:Z}=this._getV4ConnectPatches(),{v4PatchConnectionCallback:W,v4PatchConnectionPromise:$,v4UnpatchConnection:G}=this._getV4ConnectionPatches(),{v4PatchConnectionPool:Q,v4UnpatchConnectionPool:U}=this._getV4ConnectionPoolPatches(),{v4PatchSessions:z,v4UnpatchSessions:H}=this._getV4SessionsPatches();return[new p0.InstrumentationNodeModuleDefinition("mongodb",[">=3.3.0 <4"],void 0,void 0,[new p0.InstrumentationNodeModuleFile("mongodb/lib/core/wireprotocol/index.js",[">=3.3.0 <4"],Y,J)]),new p0.InstrumentationNodeModuleDefinition("mongodb",[">=4.0.0 <8"],void 0,void 0,[new p0.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection.js",[">=4.0.0 <6.4"],W,G),new p0.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection.js",[">=6.4.0 <8"],$,G),new p0.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection_pool.js",[">=4.0.0 <6.4"],Q,U),new p0.InstrumentationNodeModuleFile("mongodb/lib/cmap/connect.js",[">=4.0.0 <8"],X,Z),new p0.InstrumentationNodeModuleFile("mongodb/lib/sessions.js",[">=4.0.0 <8"],z,H)])]}_getV3ConnectionPatches(){return{v3PatchConnection:(Y)=>{if((0,p0.isWrapped)(Y.insert))this._unwrap(Y,"insert");if(this._wrap(Y,"insert",this._getV3PatchOperation("insert")),(0,p0.isWrapped)(Y.remove))this._unwrap(Y,"remove");if(this._wrap(Y,"remove",this._getV3PatchOperation("remove")),(0,p0.isWrapped)(Y.update))this._unwrap(Y,"update");if(this._wrap(Y,"update",this._getV3PatchOperation("update")),(0,p0.isWrapped)(Y.command))this._unwrap(Y,"command");if(this._wrap(Y,"command",this._getV3PatchCommand()),(0,p0.isWrapped)(Y.query))this._unwrap(Y,"query");if(this._wrap(Y,"query",this._getV3PatchFind()),(0,p0.isWrapped)(Y.getMore))this._unwrap(Y,"getMore");return this._wrap(Y,"getMore",this._getV3PatchCursor()),Y},v3UnpatchConnection:(Y)=>{if(Y===void 0)return;this._unwrap(Y,"insert"),this._unwrap(Y,"remove"),this._unwrap(Y,"update"),this._unwrap(Y,"command"),this._unwrap(Y,"query"),this._unwrap(Y,"getMore")}}}_getV4SessionsPatches(){return{v4PatchSessions:(Y)=>{if((0,p0.isWrapped)(Y.acquire))this._unwrap(Y,"acquire");if(this._wrap(Y.ServerSessionPool.prototype,"acquire",this._getV4AcquireCommand()),(0,p0.isWrapped)(Y.release))this._unwrap(Y,"release");return this._wrap(Y.ServerSessionPool.prototype,"release",this._getV4ReleaseCommand()),Y},v4UnpatchSessions:(Y)=>{if(Y===void 0)return;if((0,p0.isWrapped)(Y.acquire))this._unwrap(Y,"acquire");if((0,p0.isWrapped)(Y.release))this._unwrap(Y,"release")}}}_getV4AcquireCommand(){let Y=this;return(J)=>{return function(){let Z=this.sessions.length,W=J.call(this),$=this.sessions.length;if(Z===$)Y._connCountAdd(1,Y._poolName,"used");else if(Z-1===$)Y._connCountAdd(-1,Y._poolName,"idle"),Y._connCountAdd(1,Y._poolName,"used");return W}}}_getV4ReleaseCommand(){let Y=this;return(J)=>{return function(Z){let W=J.call(this,Z);return Y._connCountAdd(-1,Y._poolName,"used"),Y._connCountAdd(1,Y._poolName,"idle"),W}}}_getV4ConnectionPoolPatches(){return{v4PatchConnectionPool:(Y)=>{let J=Y.ConnectionPool.prototype;if((0,p0.isWrapped)(J.checkOut))this._unwrap(J,"checkOut");return this._wrap(J,"checkOut",this._getV4ConnectionPoolCheckOut()),Y},v4UnpatchConnectionPool:(Y)=>{if(Y===void 0)return;this._unwrap(Y.ConnectionPool.prototype,"checkOut")}}}_getV4ConnectPatches(){return{v4PatchConnect:(Y)=>{if((0,p0.isWrapped)(Y.connect))this._unwrap(Y,"connect");return this._wrap(Y,"connect",this._getV4ConnectCommand()),Y},v4UnpatchConnect:(Y)=>{if(Y===void 0)return;this._unwrap(Y,"connect")}}}_getV4ConnectionPoolCheckOut(){return(Y)=>{return function(X){let Z=U6.context.bind(U6.context.active(),X);return Y.call(this,Z)}}}_getV4ConnectCommand(){let Y=this;return(J)=>{return function(Z,W){if(J.length===1){let G=J.call(this,Z);if(G&&typeof G.then==="function")G.then(()=>Y.setPoolName(Z),()=>{return});return G}let $=function(G,Q){if(G||!Q){W(G,Q);return}Y.setPoolName(Z),W(G,Q)};return J.call(this,Z,$)}}}_getV4ConnectionPatches(){return{v4PatchConnectionCallback:(Y)=>{if((0,p0.isWrapped)(Y.Connection.prototype.command))this._unwrap(Y.Connection.prototype,"command");return this._wrap(Y.Connection.prototype,"command",this._getV4PatchCommandCallback()),Y},v4PatchConnectionPromise:(Y)=>{if((0,p0.isWrapped)(Y.Connection.prototype.command))this._unwrap(Y.Connection.prototype,"command");return this._wrap(Y.Connection.prototype,"command",this._getV4PatchCommandPromise()),Y},v4UnpatchConnection:(Y)=>{if(Y===void 0)return;this._unwrap(Y.Connection.prototype,"command")}}}_getV3PatchOperation(Y){let J=this;return(X)=>{return function(W,$,G,Q,U){let z=U6.trace.getSpan(U6.context.active()),H=J._checkSkipInstrumentation(z),O=typeof Q==="function"?Q:U;if(H||typeof O!=="function"||typeof G!=="object")if(typeof Q==="function")return X.call(this,W,$,G,Q);else return X.call(this,W,$,G,Q,U);let K=J._getV3SpanAttributes($,W,G[0],Y),B=J._spanNameFromAttrs(K),F=J.tracer.startSpan(B,{kind:U6.SpanKind.CLIENT,attributes:K}),V=J._patchEnd(F,O);if(typeof Q==="function")return X.call(this,W,$,G,V);else return X.call(this,W,$,G,Q,V)}}}_getV3PatchCommand(){let Y=this;return(J)=>{return function(Z,W,$,G,Q){let U=U6.trace.getSpan(U6.context.active()),z=Y._checkSkipInstrumentation(U),H=typeof G==="function"?G:Q;if(z||typeof H!=="function"||typeof $!=="object")if(typeof G==="function")return J.call(this,Z,W,$,G);else return J.call(this,Z,W,$,G,Q);let O=Ul._getCommandType($),K=O===ZQ.MongodbCommandType.UNKNOWN?void 0:O,B=Y._getV3SpanAttributes(W,Z,$,K),F=Y._spanNameFromAttrs(B),V=Y.tracer.startSpan(F,{kind:U6.SpanKind.CLIENT,attributes:B}),I=Y._patchEnd(V,H);if(typeof G==="function")return J.call(this,Z,W,$,I);else return J.call(this,Z,W,$,G,I)}}}_getV4PatchCommandCallback(){let Y=this;return(J)=>{return function(Z,W,$,G){let Q=U6.trace.getSpan(U6.context.active()),U=Y._checkSkipInstrumentation(Q),z=G,H=Object.keys(W)[0];if(typeof W!=="object"||W.ismaster||W.hello)return J.call(this,Z,W,$,G);let O=void 0;if(!U){let B=Y._getV4SpanAttributes(this,Z,W,H),F=Y._spanNameFromAttrs(B);O=Y.tracer.startSpan(F,{kind:U6.SpanKind.CLIENT,attributes:B})}let K=Y._patchEnd(O,z,this.id,H);return J.call(this,Z,W,$,K)}}}_getV4PatchCommandPromise(){let Y=this;return(J)=>{return function(...Z){let[W,$]=Z,G=U6.trace.getSpan(U6.context.active()),Q=Y._checkSkipInstrumentation(G),U=Object.keys($)[0],z=()=>{return};if(typeof $!=="object"||$.ismaster||$.hello)return J.apply(this,Z);let H=void 0;if(!Q){let B=Y._getV4SpanAttributes(this,W,$,U),F=Y._spanNameFromAttrs(B);H=Y.tracer.startSpan(F,{kind:U6.SpanKind.CLIENT,attributes:B})}let O=Y._patchEnd(H,z,this.id,U),K=J.apply(this,Z);return K.then((B)=>O(null,B),(B)=>O(B)),K}}}_getV3PatchFind(){let Y=this;return(J)=>{return function(Z,W,$,G,Q,U){let z=U6.trace.getSpan(U6.context.active()),H=Y._checkSkipInstrumentation(z),O=typeof Q==="function"?Q:U;if(H||typeof O!=="function"||typeof $!=="object")if(typeof Q==="function")return J.call(this,Z,W,$,G,Q);else return J.call(this,Z,W,$,G,Q,U);let K=Y._getV3SpanAttributes(W,Z,$,"find"),B=Y._spanNameFromAttrs(K),F=Y.tracer.startSpan(B,{kind:U6.SpanKind.CLIENT,attributes:K}),V=Y._patchEnd(F,O);if(typeof Q==="function")return J.call(this,Z,W,$,G,V);else return J.call(this,Z,W,$,G,Q,V)}}}_getV3PatchCursor(){let Y=this;return(J)=>{return function(Z,W,$,G,Q,U){let z=U6.trace.getSpan(U6.context.active()),H=Y._checkSkipInstrumentation(z),O=typeof Q==="function"?Q:U;if(H||typeof O!=="function")if(typeof Q==="function")return J.call(this,Z,W,$,G,Q);else return J.call(this,Z,W,$,G,Q,U);let K=Y._getV3SpanAttributes(W,Z,$.cmd,"getMore"),B=Y._spanNameFromAttrs(K),F=Y.tracer.startSpan(B,{kind:U6.SpanKind.CLIENT,attributes:K}),V=Y._patchEnd(F,O);if(typeof Q==="function")return J.call(this,Z,W,$,G,V);else return J.call(this,Z,W,$,G,Q,V)}}}static _getCommandType(Y){if(Y.createIndexes!==void 0)return ZQ.MongodbCommandType.CREATE_INDEXES;else if(Y.findandmodify!==void 0)return ZQ.MongodbCommandType.FIND_AND_MODIFY;else if(Y.ismaster!==void 0)return ZQ.MongodbCommandType.IS_MASTER;else if(Y.count!==void 0)return ZQ.MongodbCommandType.COUNT;else if(Y.aggregate!==void 0)return ZQ.MongodbCommandType.AGGREGATE;else return ZQ.MongodbCommandType.UNKNOWN}_getV4SpanAttributes(Y,J,X,Z){let W,$;if(Y){let Q=typeof Y.address==="string"?Y.address.split(":"):"";if(Q.length===2)W=Q[0],$=Q[1]}let G;if(X?.documents&&X.documents[0])G=X.documents[0];else if(X?.cursors)G=X.cursors;else G=X;return this._getSpanAttributes(J.db,J.collection,W,$,G,Z)}_getV3SpanAttributes(Y,J,X,Z){let W,$;if(J&&J.s){if(W=J.s.options?.host??J.s.host,$=(J.s.options?.port??J.s.port)?.toString(),W==null||$==null){let z=J.description?.address;if(z){let H=z.split(":");W=H[0],$=H[1]}}}let[G,Q]=Y.toString().split("."),U=X?.query??X?.q??X;return this._getSpanAttributes(G,Q,W,$,U,Z)}_getSpanAttributes(Y,J,X,Z,W,$){let G={};if(this._dbSemconvStability&p0.SemconvStability.OLD)G[Q7.ATTR_DB_SYSTEM]=Q7.DB_SYSTEM_VALUE_MONGODB,G[Q7.ATTR_DB_NAME]=Y,G[Q7.ATTR_DB_MONGODB_COLLECTION]=J,G[Q7.ATTR_DB_OPERATION]=$,G[Q7.ATTR_DB_CONNECTION_STRING]=`mongodb://${X}:${Z}/${Y}`;if(this._dbSemconvStability&p0.SemconvStability.STABLE)G[a3.ATTR_DB_SYSTEM_NAME]=Q7.DB_SYSTEM_NAME_VALUE_MONGODB,G[a3.ATTR_DB_NAMESPACE]=Y,G[a3.ATTR_DB_OPERATION_NAME]=$,G[a3.ATTR_DB_COLLECTION_NAME]=J;if(X&&Z){if(this._netSemconvStability&p0.SemconvStability.OLD)G[Q7.ATTR_NET_PEER_NAME]=X;if(this._netSemconvStability&p0.SemconvStability.STABLE)G[a3.ATTR_SERVER_ADDRESS]=X;let Q=parseInt(Z,10);if(!isNaN(Q)){if(this._netSemconvStability&p0.SemconvStability.OLD)G[Q7.ATTR_NET_PEER_PORT]=Q;if(this._netSemconvStability&p0.SemconvStability.STABLE)G[a3.ATTR_SERVER_PORT]=Q}}if(W){let{dbStatementSerializer:Q}=this.getConfig(),U=typeof Q==="function"?Q:this._defaultDbStatementSerializer.bind(this);(0,p0.safeExecuteInTheMiddle)(()=>{let z=U(W);if(this._dbSemconvStability&p0.SemconvStability.OLD)G[Q7.ATTR_DB_STATEMENT]=z;if(this._dbSemconvStability&p0.SemconvStability.STABLE)G[a3.ATTR_DB_QUERY_TEXT]=z},(z)=>{if(z)this._diag.error("Error running dbStatementSerializer hook",z)},!0)}return G}_spanNameFromAttrs(Y){let J;if(this._dbSemconvStability&p0.SemconvStability.STABLE)J=[Y[a3.ATTR_DB_OPERATION_NAME],Y[a3.ATTR_DB_COLLECTION_NAME]].filter((X)=>X).join(" ")||Q7.DB_SYSTEM_NAME_VALUE_MONGODB;else J=`mongodb.${Y[Q7.ATTR_DB_OPERATION]||"command"}`;return J}_getDefaultDbStatementReplacer(){let Y=new WeakSet;return(J,X)=>{if(typeof X!=="object"||!X)return"?";if(Y.has(X))return"[Circular]";return Y.add(X),X}}_defaultDbStatementSerializer(Y){let{enhancedDatabaseReporting:J}=this.getConfig();if(J)return JSON.stringify(Y);return JSON.stringify(Y,this._getDefaultDbStatementReplacer())}_handleExecutionResult(Y,J){let{responseHook:X}=this.getConfig();if(typeof X==="function")(0,p0.safeExecuteInTheMiddle)(()=>{X(Y,{data:J})},(Z)=>{if(Z)this._diag.error("Error running response hook",Z)},!0)}_patchEnd(Y,J,X,Z){let W=U6.context.active(),$=this,G=!1;return function(...U){if(!G){G=!0;let z=U[0];if(Y){if(z instanceof Error)Y.setStatus({code:U6.SpanStatusCode.ERROR,message:z.message});else{let H=U[1];$._handleExecutionResult(Y,H)}Y.end()}if(Z==="endSessions")$._connCountAdd(-1,$._poolName,"idle")}return U6.context.with(W,()=>{return J.apply(this,U)})}}setPoolName(Y){let J=Y.hostAddress?.host,X=Y.hostAddress?.port,Z=Y.dbName,W=`mongodb://${J}:${X}/${Z}`;this._poolName=W}_checkSkipInstrumentation(Y){return this.getConfig().requireParentSpan===!0&&Y===void 0}}$S1.MongoDBInstrumentation=Ul});var zS1=q((US1)=>{Object.defineProperty(US1,"__esModule",{value:!0});US1.MongodbCommandType=void 0;var LH4;(function(Y){Y.CREATE_INDEXES="createIndexes",Y.FIND_AND_MODIFY="findAndModify",Y.IS_MASTER="isMaster",Y.COUNT="count",Y.UNKNOWN="unknown"})(LH4=US1.MongodbCommandType||(US1.MongodbCommandType={}))});var HS1=q((_T)=>{Object.defineProperty(_T,"__esModule",{value:!0});_T.MongodbCommandType=_T.MongoDBInstrumentation=void 0;var MH4=QS1();Object.defineProperty(_T,"MongoDBInstrumentation",{enumerable:!0,get:function(){return MH4.MongoDBInstrumentation}});var EH4=zS1();Object.defineProperty(_T,"MongodbCommandType",{enumerable:!0,get:function(){return EH4.MongodbCommandType}})});var Hl=q((OS1)=>{Object.defineProperty(OS1,"__esModule",{value:!0});OS1.DB_SYSTEM_NAME_VALUE_MONGODB=OS1.ATTR_NET_PEER_PORT=OS1.ATTR_NET_PEER_NAME=OS1.ATTR_DB_USER=OS1.ATTR_DB_SYSTEM=OS1.ATTR_DB_STATEMENT=OS1.ATTR_DB_OPERATION=OS1.ATTR_DB_NAME=OS1.ATTR_DB_MONGODB_COLLECTION=void 0;OS1.ATTR_DB_MONGODB_COLLECTION="db.mongodb.collection";OS1.ATTR_DB_NAME="db.name";OS1.ATTR_DB_OPERATION="db.operation";OS1.ATTR_DB_STATEMENT="db.statement";OS1.ATTR_DB_SYSTEM="db.system";OS1.ATTR_DB_USER="db.user";OS1.ATTR_NET_PEER_NAME="net.peer.name";OS1.ATTR_NET_PEER_PORT="net.peer.port";OS1.DB_SYSTEM_NAME_VALUE_MONGODB="mongodb"});var IS1=q((FS1)=>{Object.defineProperty(FS1,"__esModule",{value:!0});FS1.handleCallbackResponse=FS1.handlePromiseResponse=FS1.getAttributesFromCollection=void 0;var BS1=t(),$V=t1(),WV=Hl(),xT=X0();function fH4(Y,J,X){let Z={};if(J&$V.SemconvStability.OLD)Z[WV.ATTR_DB_MONGODB_COLLECTION]=Y.name,Z[WV.ATTR_DB_NAME]=Y.conn.name,Z[WV.ATTR_DB_USER]=Y.conn.user;if(J&$V.SemconvStability.STABLE)Z[xT.ATTR_DB_COLLECTION_NAME]=Y.name,Z[xT.ATTR_DB_NAMESPACE]=Y.conn.name;if(X&$V.SemconvStability.OLD)Z[WV.ATTR_NET_PEER_NAME]=Y.conn.host,Z[WV.ATTR_NET_PEER_PORT]=Y.conn.port;if(X&$V.SemconvStability.STABLE)Z[xT.ATTR_SERVER_ADDRESS]=Y.conn.host,Z[xT.ATTR_SERVER_PORT]=Y.conn.port;return Z}FS1.getAttributesFromCollection=fH4;function qS1(Y,J={}){Y.recordException(J),Y.setStatus({code:BS1.SpanStatusCode.ERROR,message:`${J.message} ${J.code?`
Mongoose Error Code: ${J.code}`:""}`})}function Ol(Y,J,X,Z=void 0){if(!X)return;(0,$V.safeExecuteInTheMiddle)(()=>X(Y,{moduleVersion:Z,response:J}),(W)=>{if(W)BS1.diag.error("mongoose instrumentation: responseHook error",W)},!0)}function vH4(Y,J,X,Z=void 0){if(!(Y instanceof Promise))return Ol(J,Y,X,Z),J.end(),Y;return Y.then((W)=>{return Ol(J,W,X,Z),W}).catch((W)=>{throw qS1(J,W),W}).finally(()=>J.end())}FS1.handlePromiseResponse=vH4;function hH4(Y,J,X,Z,W,$,G=void 0){let Q=0;if(W.length===2)Q=1;else if(W.length===3)Q=2;return W[Q]=(U,z)=>{if(U)qS1(Z,U);else Ol(Z,z,$,G);return Z.end(),Y(U,z)},J.apply(X,W)}FS1.handleCallbackResponse=hH4});var AS1=q((DS1)=>{Object.defineProperty(DS1,"__esModule",{value:!0});DS1.PACKAGE_NAME=DS1.PACKAGE_VERSION=void 0;DS1.PACKAGE_VERSION="0.58.0";DS1.PACKAGE_NAME="@opentelemetry/instrumentation-mongoose"});var SS1=q((RS1)=>{Object.defineProperty(RS1,"__esModule",{value:!0});RS1.MongooseInstrumentation=RS1._ALREADY_INSTRUMENTED=RS1._STORED_PARENT_SPAN=void 0;var L8=t(),uH4=k1(),Kl=IS1(),I5=t1(),PS1=AS1(),RW=Hl(),WQ=X0(),fT=["deleteOne","deleteMany","find","findOne","estimatedDocumentCount","countDocuments","distinct","where","$where","findOneAndUpdate","findOneAndDelete","findOneAndReplace"],mH4=["remove","count","findOneAndRemove",...fT],dH4=["count","findOneAndRemove",...fT],cH4=[...fT];function LS1(Y){if(!Y)return fT;else if(Y.startsWith("6.")||Y.startsWith("5."))return mH4;else if(Y.startsWith("7."))return dH4;else return cH4}function MS1(Y){return Y&&(Y.startsWith("5.")||Y.startsWith("6."))||!1}function ES1(Y){if(!Y||!Y.startsWith("8."))return!1;return parseInt(Y.split(".")[1],10)>=21}RS1._STORED_PARENT_SPAN=Symbol("stored-parent-span");RS1._ALREADY_INSTRUMENTED=Symbol("already-instrumented");class TS1 extends I5.InstrumentationBase{_netSemconvStability;_dbSemconvStability;constructor(Y={}){super(PS1.PACKAGE_NAME,PS1.PACKAGE_VERSION,Y);this._setSemconvStabilityFromEnv()}_setSemconvStabilityFromEnv(){this._netSemconvStability=(0,I5.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN),this._dbSemconvStability=(0,I5.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}init(){return new I5.InstrumentationNodeModuleDefinition("mongoose",[">=5.9.7 <9"],this.patch.bind(this),this.unpatch.bind(this))}patch(Y,J){let X=Y[Symbol.toStringTag]==="Module"?Y.default:Y;if(this._wrap(X.Model.prototype,"save",this.patchOnModelMethods("save",J)),X.Model.prototype.$save=X.Model.prototype.save,MS1(J))this._wrap(X.Model.prototype,"remove",this.patchOnModelMethods("remove",J));if(ES1(J))this._wrap(X.Model.prototype,"updateOne",this._patchDocumentUpdateMethods("updateOne",J)),this._wrap(X.Model.prototype,"deleteOne",this._patchDocumentUpdateMethods("deleteOne",J));return this._wrap(X.Query.prototype,"exec",this.patchQueryExec(J)),this._wrap(X.Aggregate.prototype,"exec",this.patchAggregateExec(J)),LS1(J).forEach((W)=>{this._wrap(X.Query.prototype,W,this.patchAndCaptureSpanContext(W))}),this._wrap(X.Model,"aggregate",this.patchModelAggregate()),this._wrap(X.Model,"insertMany",this.patchModelStatic("insertMany",J)),this._wrap(X.Model,"bulkWrite",this.patchModelStatic("bulkWrite",J)),X}unpatch(Y,J){let X=Y[Symbol.toStringTag]==="Module"?Y.default:Y,Z=LS1(J);if(this._unwrap(X.Model.prototype,"save"),X.Model.prototype.$save=X.Model.prototype.save,MS1(J))this._unwrap(X.Model.prototype,"remove");if(ES1(J))this._unwrap(X.Model.prototype,"updateOne"),this._unwrap(X.Model.prototype,"deleteOne");this._unwrap(X.Query.prototype,"exec"),this._unwrap(X.Aggregate.prototype,"exec"),Z.forEach((W)=>{this._unwrap(X.Query.prototype,W)}),this._unwrap(X.Model,"aggregate"),this._unwrap(X.Model,"insertMany"),this._unwrap(X.Model,"bulkWrite")}patchAggregateExec(Y){let J=this;return(X)=>{return function(W){if(J.getConfig().requireParentSpan&&L8.trace.getSpan(L8.context.active())===void 0)return X.apply(this,arguments);let $=this[RS1._STORED_PARENT_SPAN],G={},{dbStatementSerializer:Q}=J.getConfig();if(Q){let z=Q("aggregate",{options:this.options,aggregatePipeline:this._pipeline});if(J._dbSemconvStability&I5.SemconvStability.OLD)G[RW.ATTR_DB_STATEMENT]=z;if(J._dbSemconvStability&I5.SemconvStability.STABLE)G[WQ.ATTR_DB_QUERY_TEXT]=z}let U=J._startSpan(this._model.collection,this._model?.modelName,"aggregate",G,$);return J._handleResponse(U,X,this,arguments,W,Y)}}}patchQueryExec(Y){let J=this;return(X)=>{return function(W){if(this[RS1._ALREADY_INSTRUMENTED])return X.apply(this,arguments);if(J.getConfig().requireParentSpan&&L8.trace.getSpan(L8.context.active())===void 0)return X.apply(this,arguments);let $=this[RS1._STORED_PARENT_SPAN],G={},{dbStatementSerializer:Q}=J.getConfig();if(Q){let z=Q(this.op,{condition:this.getFilter?.()??this._conditions,updates:this._update,options:this.getOptions?.()??this.options,fields:this._fields});if(J._dbSemconvStability&I5.SemconvStability.OLD)G[RW.ATTR_DB_STATEMENT]=z;if(J._dbSemconvStability&I5.SemconvStability.STABLE)G[WQ.ATTR_DB_QUERY_TEXT]=z}let U=J._startSpan(this.mongooseCollection,this.model.modelName,this.op,G,$);return J._handleResponse(U,X,this,arguments,W,Y)}}}patchOnModelMethods(Y,J){let X=this;return(Z)=>{return function($,G){if(X.getConfig().requireParentSpan&&L8.trace.getSpan(L8.context.active())===void 0)return Z.apply(this,arguments);let Q={document:this};if($&&!($ instanceof Function))Q.options=$;let U={},{dbStatementSerializer:z}=X.getConfig();if(z){let O=z(Y,Q);if(X._dbSemconvStability&I5.SemconvStability.OLD)U[RW.ATTR_DB_STATEMENT]=O;if(X._dbSemconvStability&I5.SemconvStability.STABLE)U[WQ.ATTR_DB_QUERY_TEXT]=O}let H=X._startSpan(this.constructor.collection,this.constructor.modelName,Y,U);if($ instanceof Function)G=$,$=void 0;return X._handleResponse(H,Z,this,arguments,G,J)}}}_patchDocumentUpdateMethods(Y,J){let X=this;return(Z)=>{return function($,G,Q){if(X.getConfig().requireParentSpan&&L8.trace.getSpan(L8.context.active())===void 0)return Z.apply(this,arguments);let U=Q,z=$,H=G;if(typeof $==="function")U=$,z=void 0,H=void 0;else if(typeof G==="function")U=G,H=void 0;let O={},K=X.getConfig().dbStatementSerializer;if(K){let V=K(Y,{condition:{_id:this._id},updates:z,options:H});if(X._dbSemconvStability&I5.SemconvStability.OLD)O[RW.ATTR_DB_STATEMENT]=V;if(X._dbSemconvStability&I5.SemconvStability.STABLE)O[WQ.ATTR_DB_QUERY_TEXT]=V}let B=X._startSpan(this.constructor.collection,this.constructor.modelName,Y,O),F=X._handleResponse(B,Z,this,arguments,U,J);if(F&&typeof F==="object")F[RS1._ALREADY_INSTRUMENTED]=!0;return F}}}patchModelStatic(Y,J){let X=this;return(Z)=>{return function($,G,Q){if(X.getConfig().requireParentSpan&&L8.trace.getSpan(L8.context.active())===void 0)return Z.apply(this,arguments);if(typeof G==="function")Q=G,G=void 0;let U={};switch(Y){case"insertMany":U.documents=$;break;case"bulkWrite":U.operations=$;break;default:U.document=$;break}if(G!==void 0)U.options=G;let z={},{dbStatementSerializer:H}=X.getConfig();if(H){let K=H(Y,U);if(X._dbSemconvStability&I5.SemconvStability.OLD)z[RW.ATTR_DB_STATEMENT]=K;if(X._dbSemconvStability&I5.SemconvStability.STABLE)z[WQ.ATTR_DB_QUERY_TEXT]=K}let O=X._startSpan(this.collection,this.modelName,Y,z);return X._handleResponse(O,Z,this,arguments,Q,J)}}}patchModelAggregate(){let Y=this;return(J)=>{return function(){let Z=L8.trace.getSpan(L8.context.active()),W=Y._callOriginalFunction(()=>J.apply(this,arguments));if(W)W[RS1._STORED_PARENT_SPAN]=Z;return W}}}patchAndCaptureSpanContext(Y){let J=this;return(X)=>{return function(){return this[RS1._STORED_PARENT_SPAN]=L8.trace.getSpan(L8.context.active()),J._callOriginalFunction(()=>X.apply(this,arguments))}}}_startSpan(Y,J,X,Z,W){let $={...Z,...(0,Kl.getAttributesFromCollection)(Y,this._dbSemconvStability,this._netSemconvStability)};if(this._dbSemconvStability&I5.SemconvStability.OLD)$[RW.ATTR_DB_OPERATION]=X,$[RW.ATTR_DB_SYSTEM]="mongoose";if(this._dbSemconvStability&I5.SemconvStability.STABLE)$[WQ.ATTR_DB_OPERATION_NAME]=X,$[WQ.ATTR_DB_SYSTEM_NAME]=RW.DB_SYSTEM_NAME_VALUE_MONGODB;let G=this._dbSemconvStability&I5.SemconvStability.STABLE?`${X} ${Y.name}`:`mongoose.${J}.${X}`;return this.tracer.startSpan(G,{kind:L8.SpanKind.CLIENT,attributes:$},W?L8.trace.setSpan(L8.context.active(),W):void 0)}_handleResponse(Y,J,X,Z,W,$=void 0){let G=this;if(W instanceof Function)return G._callOriginalFunction(()=>(0,Kl.handleCallbackResponse)(W,J,X,Y,Z,G.getConfig().responseHook,$));else{let Q=G._callOriginalFunction(()=>J.apply(X,Z));return(0,Kl.handlePromiseResponse)(Q,Y,G.getConfig().responseHook,$)}}_callOriginalFunction(Y){if(this.getConfig().suppressInternalInstrumentation)return L8.context.with((0,uH4.suppressTracing)(L8.context.active()),Y);else return Y()}}RS1.MongooseInstrumentation=TS1});var CS1=q((ql)=>{Object.defineProperty(ql,"__esModule",{value:!0});ql.MongooseInstrumentation=void 0;var lH4=SS1();Object.defineProperty(ql,"MongooseInstrumentation",{enumerable:!0,get:function(){return lH4.MongooseInstrumentation}})});var Fl=q((jS1)=>{Object.defineProperty(jS1,"__esModule",{value:!0});jS1.DB_SYSTEM_VALUE_MYSQL=jS1.ATTR_NET_PEER_PORT=jS1.ATTR_NET_PEER_NAME=jS1.ATTR_DB_USER=jS1.ATTR_DB_SYSTEM=jS1.ATTR_DB_STATEMENT=jS1.ATTR_DB_NAME=jS1.ATTR_DB_CONNECTION_STRING=void 0;jS1.ATTR_DB_CONNECTION_STRING="db.connection_string";jS1.ATTR_DB_NAME="db.name";jS1.ATTR_DB_STATEMENT="db.statement";jS1.ATTR_DB_SYSTEM="db.system";jS1.ATTR_DB_USER="db.user";jS1.ATTR_NET_PEER_NAME="net.peer.name";jS1.ATTR_NET_PEER_PORT="net.peer.port";jS1.DB_SYSTEM_VALUE_MYSQL="mysql"});var Il=q((_S1)=>{Object.defineProperty(_S1,"__esModule",{value:!0});_S1.addSqlCommenterComment=void 0;var Vl=t(),eH4=k1();function YO4(Y){let J=Y.indexOf("--");if(J>=0)return!0;if(Y.indexOf("/*")<0)return!1;let Z=Y.indexOf("*/");return J<Z}function JO4(Y){return encodeURIComponent(Y).replace(/[!'()*]/g,(J)=>`%${J.charCodeAt(0).toString(16).toUpperCase()}`)}function XO4(Y,J){if(typeof J!=="string"||J.length===0)return J;if(YO4(J))return J;let X=new eH4.W3CTraceContextPropagator,Z={};X.inject(Vl.trace.setSpan(Vl.ROOT_CONTEXT,Y),Z,Vl.defaultTextMapSetter);let W=Object.keys(Z).sort();if(W.length===0)return J;let $=W.map((G)=>{let Q=JO4(Z[G]);return`${G}='${Q}'`}).join(",");return`${J} /*${$}*/`}_S1.addSqlCommenterComment=XO4});var hS1=q((fS1)=>{Object.defineProperty(fS1,"__esModule",{value:!0});fS1.getConnectionPrototypeToInstrument=fS1.once=fS1.getSpanName=fS1.getQueryText=fS1.getConnectionAttributes=void 0;var QV=Fl(),vT=t1(),Dl=X0();function ZO4(Y,J,X){let{host:Z,port:W,database:$,user:G}=WO4(Y),Q={};if(J&vT.SemconvStability.OLD)Q[QV.ATTR_DB_CONNECTION_STRING]=$O4(Z,W,$),Q[QV.ATTR_DB_NAME]=$,Q[QV.ATTR_DB_USER]=G;if(J&vT.SemconvStability.STABLE)Q[Dl.ATTR_DB_NAMESPACE]=$;let U=parseInt(W,10);if(X&vT.SemconvStability.OLD){if(Q[QV.ATTR_NET_PEER_NAME]=Z,!isNaN(U))Q[QV.ATTR_NET_PEER_PORT]=U}if(X&vT.SemconvStability.STABLE){if(Q[Dl.ATTR_SERVER_ADDRESS]=Z,!isNaN(U))Q[Dl.ATTR_SERVER_PORT]=U}return Q}fS1.getConnectionAttributes=ZO4;function WO4(Y){let{host:J,port:X,database:Z,user:W}=Y&&Y.connectionConfig||Y||{};return{host:J,port:X,database:Z,user:W}}function $O4(Y,J,X){let Z=`jdbc:mysql://${Y||"localhost"}`;if(typeof J==="number")Z+=`:${J}`;if(typeof X==="string")Z+=`/${X}`;return Z}function GO4(Y,J,X,Z=!1,W=QO4){let[$,G]=typeof Y==="string"?[Y,X]:[Y.sql,UO4(Y)?X||Y.values:X];try{if(Z)return W($);else if(J&&G)return J($,G);else return $}catch(Q){return"Could not determine the query due to an error in masking or formatting"}}fS1.getQueryText=GO4;function QO4(Y){return Y.replace(/\b\d+\b/g,"?").replace(/(["'])(?:(?=(\\?))\2.)*?\1/g,"?")}function UO4(Y){return"values"in Y}function zO4(Y){let J=typeof Y==="object"?Y.sql:Y,X=J?.indexOf(" ");if(typeof X==="number"&&X!==-1)return J?.substring(0,X);return J}fS1.getSpanName=zO4;var HO4=(Y)=>{let J=!1;return(...X)=>{if(J)return;return J=!0,Y(...X)}};fS1.once=HO4;function OO4(Y){let J=Y.prototype,X=Object.getPrototypeOf(J);if(typeof X?.query==="function"&&typeof X?.execute==="function")return X;return J}fS1.getConnectionPrototypeToInstrument=OO4});var gS1=q((bS1)=>{Object.defineProperty(bS1,"__esModule",{value:!0});bS1.PACKAGE_NAME=bS1.PACKAGE_VERSION=void 0;bS1.PACKAGE_VERSION="0.58.0";bS1.PACKAGE_NAME="@opentelemetry/instrumentation-mysql2"});var nS1=q((lS1)=>{Object.defineProperty(lS1,"__esModule",{value:!0});lS1.MySQL2Instrumentation=void 0;var uS1=t(),lY=t1(),wl=Fl(),mS1=Il(),cH=hS1(),dS1=gS1(),Al=X0(),Pl=[">=1.4.2 <4"];class cS1 extends lY.InstrumentationBase{_netSemconvStability;_dbSemconvStability;constructor(Y={}){super(dS1.PACKAGE_NAME,dS1.PACKAGE_VERSION,Y);this._setSemconvStabilityFromEnv()}_setSemconvStabilityFromEnv(){this._netSemconvStability=(0,lY.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN),this._dbSemconvStability=(0,lY.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}init(){let Y;function J(W){if(!Y&&W.format)Y=W.format}let X=(W)=>{if((0,lY.isWrapped)(W.query))this._unwrap(W,"query");if(this._wrap(W,"query",this._patchQuery(Y,!1)),(0,lY.isWrapped)(W.execute))this._unwrap(W,"execute");this._wrap(W,"execute",this._patchQuery(Y,!0))},Z=(W)=>{this._unwrap(W,"query"),this._unwrap(W,"execute")};return[new lY.InstrumentationNodeModuleDefinition("mysql2",Pl,(W)=>{return J(W),W},()=>{},[new lY.InstrumentationNodeModuleFile("mysql2/promise.js",Pl,(W)=>{return J(W),W},()=>{}),new lY.InstrumentationNodeModuleFile("mysql2/lib/connection.js",Pl,(W)=>{let $=(0,cH.getConnectionPrototypeToInstrument)(W);return X($),W},(W)=>{if(W===void 0)return;let $=(0,cH.getConnectionPrototypeToInstrument)(W);Z($)})])]}_patchQuery(Y,J){return(X)=>{let Z=this;return function(W,$,G){let Q;if(Array.isArray($))Q=$;else if(arguments[2])Q=[$];let{maskStatement:U,maskStatementHook:z,responseHook:H}=Z.getConfig(),O=(0,cH.getConnectionAttributes)(this.config,Z._dbSemconvStability,Z._netSemconvStability),K=(0,cH.getQueryText)(W,Y,Q,U,z);if(Z._dbSemconvStability&lY.SemconvStability.OLD)O[wl.ATTR_DB_SYSTEM]=wl.DB_SYSTEM_VALUE_MYSQL,O[wl.ATTR_DB_STATEMENT]=K;if(Z._dbSemconvStability&lY.SemconvStability.STABLE)O[Al.ATTR_DB_SYSTEM_NAME]=Al.DB_SYSTEM_NAME_VALUE_MYSQL,O[Al.ATTR_DB_QUERY_TEXT]=K;let B=Z.tracer.startSpan((0,cH.getSpanName)(W),{kind:uS1.SpanKind.CLIENT,attributes:O});if(!J&&Z.getConfig().addSqlCommenterCommentToQueries)arguments[0]=W=typeof W==="string"?(0,mS1.addSqlCommenterComment)(B,W):Object.assign(W,{sql:(0,mS1.addSqlCommenterComment)(B,W.sql)});let F=(0,cH.once)((V,I)=>{if(V)B.setStatus({code:uS1.SpanStatusCode.ERROR,message:V.message});else if(typeof H==="function")(0,lY.safeExecuteInTheMiddle)(()=>{H(B,{queryResults:I})},(D)=>{if(D)Z._diag.warn("Failed executing responseHook",D)},!0);B.end()});if(arguments.length===1){if(typeof W.onResult==="function")Z._wrap(W,"onResult",Z._patchCallbackQuery(F));let V=X.apply(this,arguments);return V.once("error",(I)=>{F(I)}).once("result",(I)=>{F(void 0,I)}),V}if(typeof arguments[1]==="function")Z._wrap(arguments,1,Z._patchCallbackQuery(F));else if(typeof arguments[2]==="function")Z._wrap(arguments,2,Z._patchCallbackQuery(F));return X.apply(this,arguments)}}}_patchCallbackQuery(Y){return(J)=>{return function(X,Z,W){return Y(X,Z),J(...arguments)}}}}lS1.MySQL2Instrumentation=cS1});var iS1=q((Ll)=>{Object.defineProperty(Ll,"__esModule",{value:!0});Ll.MySQL2Instrumentation=void 0;var IO4=nS1();Object.defineProperty(Ll,"MySQL2Instrumentation",{enumerable:!0,get:function(){return IO4.MySQL2Instrumentation}})});var aS1=q((oS1)=>{Object.defineProperty(oS1,"__esModule",{value:!0});oS1.METRIC_DB_CLIENT_CONNECTIONS_USAGE=oS1.DB_SYSTEM_VALUE_MYSQL=oS1.ATTR_NET_PEER_PORT=oS1.ATTR_NET_PEER_NAME=oS1.ATTR_DB_USER=oS1.ATTR_DB_SYSTEM=oS1.ATTR_DB_STATEMENT=oS1.ATTR_DB_NAME=oS1.ATTR_DB_CONNECTION_STRING=void 0;oS1.ATTR_DB_CONNECTION_STRING="db.connection_string";oS1.ATTR_DB_NAME="db.name";oS1.ATTR_DB_STATEMENT="db.statement";oS1.ATTR_DB_SYSTEM="db.system";oS1.ATTR_DB_USER="db.user";oS1.ATTR_NET_PEER_NAME="net.peer.name";oS1.ATTR_NET_PEER_PORT="net.peer.port";oS1.DB_SYSTEM_VALUE_MYSQL="mysql";oS1.METRIC_DB_CLIENT_CONNECTIONS_USAGE="db.client.connections.usage"});var tS1=q((sS1)=>{Object.defineProperty(sS1,"__esModule",{value:!0});sS1.AttributeNames=void 0;var NO4;(function(Y){Y.MYSQL_VALUES="db.mysql.values"})(NO4=sS1.AttributeNames||(sS1.AttributeNames={}))});var JC1=q((eS1)=>{Object.defineProperty(eS1,"__esModule",{value:!0});eS1.getPoolNameOld=eS1.arrayStringifyHelper=eS1.getSpanName=eS1.getDbValues=eS1.getDbQueryText=eS1.getJDBCString=eS1.getConfig=void 0;function SO4(Y){let{host:J,port:X,database:Z,user:W}=Y&&Y.connectionConfig||Y||{};return{host:J,port:X,database:Z,user:W}}eS1.getConfig=SO4;function CO4(Y,J,X){let Z=`jdbc:mysql://${Y||"localhost"}`;if(typeof J==="number")Z+=`:${J}`;if(typeof X==="string")Z+=`/${X}`;return Z}eS1.getJDBCString=CO4;function jO4(Y){if(typeof Y==="string")return Y;else return Y.sql}eS1.getDbQueryText=jO4;function kO4(Y,J){if(typeof Y==="string")return El(J);else return El(J||Y.values)}eS1.getDbValues=kO4;function _O4(Y){let J=typeof Y==="object"?Y.sql:Y,X=J?.indexOf(" ");if(typeof X==="number"&&X!==-1)return J?.substring(0,X);return J}eS1.getSpanName=_O4;function El(Y){if(Y)return`[${Y.toString()}]`;return""}eS1.arrayStringifyHelper=El;function xO4(Y){let J=Y.config.connectionConfig,X="";if(X+=J.host?`host: '${J.host}', `:"",X+=J.port?`port: ${J.port}, `:"",X+=J.database?`database: '${J.database}', `:"",X+=J.user?`user: '${J.user}'`:"",!J.user)X=X.substring(0,X.length-2);return X.trim()}eS1.getPoolNameOld=xO4});var WC1=q((XC1)=>{Object.defineProperty(XC1,"__esModule",{value:!0});XC1.PACKAGE_NAME=XC1.PACKAGE_VERSION=void 0;XC1.PACKAGE_VERSION="0.58.0";XC1.PACKAGE_NAME="@opentelemetry/instrumentation-mysql"});var zC1=q((QC1)=>{Object.defineProperty(QC1,"__esModule",{value:!0});QC1.MySQLInstrumentation=void 0;var _9=t(),c7=t1(),lH=X0(),s3=aS1(),mO4=tS1(),$Q=JC1(),$C1=WC1();class GC1 extends c7.InstrumentationBase{_netSemconvStability;_dbSemconvStability;constructor(Y={}){super($C1.PACKAGE_NAME,$C1.PACKAGE_VERSION,Y);this._setSemconvStabilityFromEnv()}_setSemconvStabilityFromEnv(){this._netSemconvStability=(0,c7.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN),this._dbSemconvStability=(0,c7.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}_updateMetricInstruments(){this._connectionsUsageOld=this.meter.createUpDownCounter(s3.METRIC_DB_CLIENT_CONNECTIONS_USAGE,{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"})}_connCountAdd(Y,J,X){this._connectionsUsageOld?.add(Y,{state:X,name:J})}init(){return[new c7.InstrumentationNodeModuleDefinition("mysql",[">=2.0.0 <3"],(Y)=>{if((0,c7.isWrapped)(Y.createConnection))this._unwrap(Y,"createConnection");if(this._wrap(Y,"createConnection",this._patchCreateConnection()),(0,c7.isWrapped)(Y.createPool))this._unwrap(Y,"createPool");if(this._wrap(Y,"createPool",this._patchCreatePool()),(0,c7.isWrapped)(Y.createPoolCluster))this._unwrap(Y,"createPoolCluster");return this._wrap(Y,"createPoolCluster",this._patchCreatePoolCluster()),Y},(Y)=>{if(Y===void 0)return;this._unwrap(Y,"createConnection"),this._unwrap(Y,"createPool"),this._unwrap(Y,"createPoolCluster")})]}_patchCreateConnection(){return(Y)=>{let J=this;return function(Z){let W=Y(...arguments);return J._wrap(W,"query",J._patchQuery(W)),W}}}_patchCreatePool(){return(Y)=>{let J=this;return function(Z){let W=Y(...arguments);return J._wrap(W,"query",J._patchQuery(W)),J._wrap(W,"getConnection",J._patchGetConnection(W)),J._wrap(W,"end",J._patchPoolEnd(W)),J._setPoolCallbacks(W,""),W}}}_patchPoolEnd(Y){return(J)=>{let X=this;return function(W){let $=Y._allConnections.length,G=Y._freeConnections.length,Q=$-G,U=(0,$Q.getPoolNameOld)(Y);X._connCountAdd(-Q,U,"used"),X._connCountAdd(-G,U,"idle"),J.apply(Y,arguments)}}}_patchCreatePoolCluster(){return(Y)=>{let J=this;return function(Z){let W=Y(...arguments);return J._wrap(W,"getConnection",J._patchGetConnection(W)),J._wrap(W,"add",J._patchAdd(W)),W}}}_patchAdd(Y){return(J)=>{let X=this;return function(W,$){if(!X._enabled)return X._unwrap(Y,"add"),J.apply(Y,arguments);J.apply(Y,arguments);let G=Y._nodes;if(G){let Q=typeof W==="object"?"CLUSTER::"+Y._lastId:String(W),U=G[Q].pool;X._setPoolCallbacks(U,W)}}}}_patchGetConnection(Y){return(J)=>{let X=this;return function(W,$,G){if(!X._enabled)return X._unwrap(Y,"getConnection"),J.apply(Y,arguments);if(arguments.length===1&&typeof W==="function"){let Q=X._getConnectionCallbackPatchFn(W);return J.call(Y,Q)}if(arguments.length===2&&typeof $==="function"){let Q=X._getConnectionCallbackPatchFn($);return J.call(Y,W,Q)}if(arguments.length===3&&typeof G==="function"){let Q=X._getConnectionCallbackPatchFn(G);return J.call(Y,W,$,Q)}return J.apply(Y,arguments)}}}_getConnectionCallbackPatchFn(Y){let J=this,X=_9.context.active();return function(Z,W){if(W){if(!(0,c7.isWrapped)(W.query))J._wrap(W,"query",J._patchQuery(W))}if(typeof Y==="function")_9.context.with(X,Y,this,Z,W)}}_patchQuery(Y){return(J)=>{let X=this;return function(Z,W,$){if(!X._enabled)return X._unwrap(Y,"query"),J.apply(Y,arguments);let G={},{host:Q,port:U,database:z,user:H}=(0,$Q.getConfig)(Y.config),O=parseInt(U,10),K=(0,$Q.getDbQueryText)(Z);if(X._dbSemconvStability&c7.SemconvStability.OLD)G[s3.ATTR_DB_SYSTEM]=s3.DB_SYSTEM_VALUE_MYSQL,G[s3.ATTR_DB_CONNECTION_STRING]=(0,$Q.getJDBCString)(Q,U,z),G[s3.ATTR_DB_NAME]=z,G[s3.ATTR_DB_USER]=H,G[s3.ATTR_DB_STATEMENT]=K;if(X._dbSemconvStability&c7.SemconvStability.STABLE)G[lH.ATTR_DB_SYSTEM_NAME]=lH.DB_SYSTEM_NAME_VALUE_MYSQL,G[lH.ATTR_DB_NAMESPACE]=z,G[lH.ATTR_DB_QUERY_TEXT]=K;if(X._netSemconvStability&c7.SemconvStability.OLD){if(G[s3.ATTR_NET_PEER_NAME]=Q,!isNaN(O))G[s3.ATTR_NET_PEER_PORT]=O}if(X._netSemconvStability&c7.SemconvStability.STABLE){if(G[lH.ATTR_SERVER_ADDRESS]=Q,!isNaN(O))G[lH.ATTR_SERVER_PORT]=O}let B=X.tracer.startSpan((0,$Q.getSpanName)(Z),{kind:_9.SpanKind.CLIENT,attributes:G});if(X.getConfig().enhancedDatabaseReporting){let I;if(Array.isArray(W))I=W;else if(arguments[2])I=[W];B.setAttribute(mO4.AttributeNames.MYSQL_VALUES,(0,$Q.getDbValues)(Z,I))}let F=Array.from(arguments).findIndex((I)=>typeof I==="function"),V=_9.context.active();if(F===-1){let I=_9.context.with(_9.trace.setSpan(_9.context.active(),B),()=>{return J.apply(Y,arguments)});return _9.context.bind(V,I),I.on("error",(D)=>B.setStatus({code:_9.SpanStatusCode.ERROR,message:D.message})).on("end",()=>{B.end()})}else return X._wrap(arguments,F,X._patchCallbackQuery(B,V)),_9.context.with(_9.trace.setSpan(_9.context.active(),B),()=>{return J.apply(Y,arguments)})}}}_patchCallbackQuery(Y,J){return(X)=>{return function(Z,W,$){if(Z)Y.setStatus({code:_9.SpanStatusCode.ERROR,message:Z.message});return Y.end(),_9.context.with(J,()=>X(...arguments))}}}_setPoolCallbacks(Y,J){let X=J||(0,$Q.getPoolNameOld)(Y);Y.on("connection",(Z)=>{this._connCountAdd(1,X,"idle")}),Y.on("acquire",(Z)=>{this._connCountAdd(-1,X,"idle"),this._connCountAdd(1,X,"used")}),Y.on("release",(Z)=>{this._connCountAdd(1,X,"idle"),this._connCountAdd(-1,X,"used")})}}QC1.MySQLInstrumentation=GC1});var HC1=q((Tl)=>{Object.defineProperty(Tl,"__esModule",{value:!0});Tl.MySQLInstrumentation=void 0;var dO4=zC1();Object.defineProperty(Tl,"MySQLInstrumentation",{enumerable:!0,get:function(){return dO4.MySQLInstrumentation}})});var BC1=q((OC1)=>{Object.defineProperty(OC1,"__esModule",{value:!0});OC1.PACKAGE_NAME=OC1.PACKAGE_VERSION=void 0;OC1.PACKAGE_VERSION="0.58.0";OC1.PACKAGE_NAME="@opentelemetry/instrumentation-nestjs-core"});var VC1=q((qC1)=>{Object.defineProperty(qC1,"__esModule",{value:!0});qC1.ATTR_HTTP_URL=qC1.ATTR_HTTP_METHOD=void 0;qC1.ATTR_HTTP_METHOD="http.method";qC1.ATTR_HTTP_URL="http.url"});var Nl=q((IC1)=>{Object.defineProperty(IC1,"__esModule",{value:!0});IC1.AttributeNames=void 0;var nO4;(function(Y){Y.VERSION="nestjs.version",Y.TYPE="nestjs.type",Y.MODULE="nestjs.module",Y.CONTROLLER="nestjs.controller",Y.CALLBACK="nestjs.callback",Y.PIPES="nestjs.pipes",Y.INTERCEPTORS="nestjs.interceptors",Y.GUARDS="nestjs.guards"})(nO4=IC1.AttributeNames||(IC1.AttributeNames={}))});var wC1=q((DC1)=>{Object.defineProperty(DC1,"__esModule",{value:!0});DC1.NestType=void 0;var iO4;(function(Y){Y.APP_CREATION="app_creation",Y.REQUEST_CONTEXT="request_context",Y.REQUEST_HANDLER="handler"})(iO4=DC1.NestType||(DC1.NestType={}))});var AC1=q((hT)=>{Object.defineProperty(hT,"__esModule",{value:!0});hT.NestType=hT.AttributeNames=void 0;var oO4=Nl();Object.defineProperty(hT,"AttributeNames",{enumerable:!0,get:function(){return oO4.AttributeNames}});var rO4=wC1();Object.defineProperty(hT,"NestType",{enumerable:!0,get:function(){return rO4.NestType}})});var TC1=q((MC1)=>{Object.defineProperty(MC1,"__esModule",{value:!0});MC1.NestInstrumentation=void 0;var qX=t(),NW=t1(),Cl=X0(),PC1=BC1(),LC1=VC1(),U7=AC1(),jl=[">=4.0.0 <12"];class GQ extends NW.InstrumentationBase{static COMPONENT="@nestjs/core";static COMMON_ATTRIBUTES={component:GQ.COMPONENT};_semconvStability;constructor(Y={}){super(PC1.PACKAGE_NAME,PC1.PACKAGE_VERSION,Y);this._semconvStability=(0,NW.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}init(){let Y=new NW.InstrumentationNodeModuleDefinition(GQ.COMPONENT,jl);return Y.files.push(this.getNestFactoryFileInstrumentation(jl),this.getRouterExecutionContextFileInstrumentation(jl)),Y}getNestFactoryFileInstrumentation(Y){return new NW.InstrumentationNodeModuleFile("@nestjs/core/nest-factory.js",Y,(J,X)=>{return this.ensureWrapped(J.NestFactoryStatic.prototype,"create",sO4(this.tracer,X)),J},(J)=>{this._unwrap(J.NestFactoryStatic.prototype,"create")})}getRouterExecutionContextFileInstrumentation(Y){return new NW.InstrumentationNodeModuleFile("@nestjs/core/router/router-execution-context.js",Y,(J,X)=>{return this.ensureWrapped(J.RouterExecutionContext.prototype,"create",tO4(this.tracer,X,this._semconvStability)),J},(J)=>{this._unwrap(J.RouterExecutionContext.prototype,"create")})}ensureWrapped(Y,J,X){if((0,NW.isWrapped)(Y[J]))this._unwrap(Y,J);this._wrap(Y,J,X)}}MC1.NestInstrumentation=GQ;function sO4(Y,J){return function(Z){return function($){let G=Y.startSpan("Create Nest App",{attributes:{...GQ.COMMON_ATTRIBUTES,[U7.AttributeNames.TYPE]:U7.NestType.APP_CREATION,[U7.AttributeNames.VERSION]:J,[U7.AttributeNames.MODULE]:$.name}}),Q=qX.trace.setSpan(qX.context.active(),G);return qX.context.with(Q,async()=>{try{return await Z.apply(this,arguments)}catch(U){throw kl(G,U)}finally{G.end()}})}}}function tO4(Y,J,X){return function(W){return function(G,Q){arguments[1]=eO4(Y,J,Q);let U=W.apply(this,arguments),z=Q.name,H=G.constructor&&G.constructor.name?G.constructor.name:"UnnamedInstance",O=z?`${H}.${z}`:H;return function(K,B,F){let V={...GQ.COMMON_ATTRIBUTES,[U7.AttributeNames.VERSION]:J,[U7.AttributeNames.TYPE]:U7.NestType.REQUEST_CONTEXT,[Cl.ATTR_HTTP_ROUTE]:K.route?.path||K.routeOptions?.url||K.routerPath,[U7.AttributeNames.CONTROLLER]:H,[U7.AttributeNames.CALLBACK]:z};if(X&NW.SemconvStability.OLD)V[LC1.ATTR_HTTP_METHOD]=K.method,V[LC1.ATTR_HTTP_URL]=K.originalUrl||K.url;if(X&NW.SemconvStability.STABLE)V[Cl.ATTR_HTTP_REQUEST_METHOD]=K.method,V[Cl.ATTR_URL_FULL]=K.originalUrl||K.url;let I=Y.startSpan(O,{attributes:V}),D=qX.trace.setSpan(qX.context.active(),I);return qX.context.with(D,async()=>{try{return await U.apply(this,arguments)}catch(L){throw kl(I,L)}finally{I.end()}})}}}}function eO4(Y,J,X){let Z=X.name||"anonymous nest handler",W={attributes:{...GQ.COMMON_ATTRIBUTES,[U7.AttributeNames.VERSION]:J,[U7.AttributeNames.TYPE]:U7.NestType.REQUEST_HANDLER,[U7.AttributeNames.CALLBACK]:X.name}},$=function(){let G=Y.startSpan(Z,W),Q=qX.trace.setSpan(qX.context.active(),G);return qX.context.with(Q,async()=>{try{return await X.apply(this,arguments)}catch(U){throw kl(G,U)}finally{G.end()}})};if(X.name)Object.defineProperty($,"name",{value:X.name});return Reflect.getMetadataKeys(X).forEach((G)=>{Reflect.defineMetadata(G,Reflect.getMetadata(G,X),$)}),$}var kl=(Y,J)=>{return Y.recordException(J),Y.setStatus({code:qX.SpanStatusCode.ERROR,message:J.message}),J}});var RC1=q((bT)=>{Object.defineProperty(bT,"__esModule",{value:!0});bT.AttributeNames=bT.NestInstrumentation=void 0;var YK4=TC1();Object.defineProperty(bT,"NestInstrumentation",{enumerable:!0,get:function(){return YK4.NestInstrumentation}});var JK4=Nl();Object.defineProperty(bT,"AttributeNames",{enumerable:!0,get:function(){return JK4.AttributeNames}})});var _l=q((NC1)=>{Object.defineProperty(NC1,"__esModule",{value:!0});NC1.NET_TRANSPORT_VALUE_PIPE=NC1.NET_TRANSPORT_VALUE_IP_TCP=NC1.ATTR_NET_TRANSPORT=NC1.ATTR_NET_PEER_PORT=NC1.ATTR_NET_PEER_NAME=NC1.ATTR_NET_PEER_IP=NC1.ATTR_NET_HOST_PORT=NC1.ATTR_NET_HOST_IP=void 0;NC1.ATTR_NET_HOST_IP="net.host.ip";NC1.ATTR_NET_HOST_PORT="net.host.port";NC1.ATTR_NET_PEER_IP="net.peer.ip";NC1.ATTR_NET_PEER_NAME="net.peer.name";NC1.ATTR_NET_PEER_PORT="net.peer.port";NC1.ATTR_NET_TRANSPORT="net.transport";NC1.NET_TRANSPORT_VALUE_IP_TCP="ip_tcp";NC1.NET_TRANSPORT_VALUE_PIPE="pipe"});var fl=q((CC1)=>{Object.defineProperty(CC1,"__esModule",{value:!0});CC1.TLSAttributes=void 0;var HK4;(function(Y){Y.PROTOCOL="tls.protocol",Y.AUTHORIZED="tls.authorized",Y.CIPHER_NAME="tls.cipher.name",Y.CIPHER_VERSION="tls.cipher.version",Y.CERTIFICATE_FINGERPRINT="tls.certificate.fingerprint",Y.CERTIFICATE_SERIAL_NUMBER="tls.certificate.serialNumber",Y.CERTIFICATE_VALID_FROM="tls.certificate.validFrom",Y.CERTIFICATE_VALID_TO="tls.certificate.validTo",Y.ALPN_PROTOCOL="tls.alpnProtocol"})(HK4=CC1.TLSAttributes||(CC1.TLSAttributes={}))});var kC1=q((jC1)=>{Object.defineProperty(jC1,"__esModule",{value:!0});jC1.SocketEvent=void 0;var OK4;(function(Y){Y.CLOSE="close",Y.CONNECT="connect",Y.ERROR="error",Y.SECURE_CONNECT="secureConnect"})(OK4=jC1.SocketEvent||(jC1.SocketEvent={}))});var yC1=q((hC1)=>{Object.defineProperty(hC1,"__esModule",{value:!0});hC1.getNormalizedArgs=hC1.STABLE_IPC_TRANSPORT_VALUE=hC1.OLD_IPC_TRANSPORT_VALUE=void 0;var fC1=C("os"),_C1=X0(),KK4=_l();hC1.OLD_IPC_TRANSPORT_VALUE=(0,fC1.platform)()==="win32"?KK4.NET_TRANSPORT_VALUE_PIPE:"unix";hC1.STABLE_IPC_TRANSPORT_VALUE=(0,fC1.platform)()==="win32"?_C1.NETWORK_TRANSPORT_VALUE_PIPE:_C1.NETWORK_TRANSPORT_VALUE_UNIX;function xC1(Y){return typeof Y[1]==="string"?Y[1]:"localhost"}function vC1(Y){let J=Y[0];if(!J)return;switch(typeof J){case"number":return{port:J,host:xC1(Y)};case"object":if(Array.isArray(J))return vC1(J);return J;case"string":{let X=Number(J);if(X>=0)return{port:X,host:xC1(Y)};return{path:J}}default:return}}hC1.getNormalizedArgs=vC1});var mC1=q((gC1)=>{Object.defineProperty(gC1,"__esModule",{value:!0});gC1.PACKAGE_NAME=gC1.PACKAGE_VERSION=void 0;gC1.PACKAGE_VERSION="0.56.0";gC1.PACKAGE_NAME="@opentelemetry/instrumentation-net"});var nC1=q((lC1)=>{Object.defineProperty(lC1,"__esModule",{value:!0});lC1.NetInstrumentation=void 0;var pH=t(),pY=t1(),t3=X0(),e3=_l(),FX=fl(),x9=kC1(),hl=yC1(),dC1=mC1(),VK4=C("tls");class cC1 extends pY.InstrumentationBase{_netSemconvStability;constructor(Y={}){super(dC1.PACKAGE_NAME,dC1.PACKAGE_VERSION,Y);this._setSemconvStabilityFromEnv()}_setSemconvStabilityFromEnv(){this._netSemconvStability=(0,pY.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}init(){return[new pY.InstrumentationNodeModuleDefinition("net",["*"],(Y)=>{if((0,pY.isWrapped)(Y.Socket.prototype.connect))this._unwrap(Y.Socket.prototype,"connect");return this._wrap(Y.Socket.prototype,"connect",this._getPatchedConnect()),Y},(Y)=>{if(Y===void 0)return;this._unwrap(Y.Socket.prototype,"connect")})]}_getPatchedConnect(){return(Y)=>{let J=this;return function(...Z){let W=(0,hl.getNormalizedArgs)(Z),$=this instanceof VK4.TLSSocket?J._startTLSSpan(W,this):J._startSpan(W,this);return(0,pY.safeExecuteInTheMiddle)(()=>Y.apply(this,Z),(G)=>{if(G!==void 0)$.setStatus({code:pH.SpanStatusCode.ERROR,message:G.message}),$.recordException(G),$.end()})}}}_startSpan(Y,J){if(!Y)return this._startGenericSpan(J);if(Y.path)return this._startIpcSpan(Y,J);return this._startTcpSpan(Y,J)}_startTLSSpan(Y,J){let X=this.tracer.startSpan("tls.connect"),Z=pH.context.with(pH.trace.setSpan(pH.context.active(),X),()=>{return this._startSpan(Y,J)}),W=()=>{let Q=J.getPeerCertificate(!0),U=J.getCipher(),z=J.getProtocol(),H={[FX.TLSAttributes.PROTOCOL]:String(z),[FX.TLSAttributes.AUTHORIZED]:String(J.authorized),[FX.TLSAttributes.CIPHER_NAME]:U.name,[FX.TLSAttributes.CIPHER_VERSION]:U.version,[FX.TLSAttributes.CERTIFICATE_FINGERPRINT]:Q.fingerprint,[FX.TLSAttributes.CERTIFICATE_SERIAL_NUMBER]:Q.serialNumber,[FX.TLSAttributes.CERTIFICATE_VALID_FROM]:Q.valid_from,[FX.TLSAttributes.CERTIFICATE_VALID_TO]:Q.valid_to,[FX.TLSAttributes.ALPN_PROTOCOL]:""};if(J.alpnProtocol)H[FX.TLSAttributes.ALPN_PROTOCOL]=J.alpnProtocol;X.setAttributes(H),X.end()},$=(Q)=>{X.setStatus({code:pH.SpanStatusCode.ERROR,message:Q.message}),X.end()};J.prependOnceListener(x9.SocketEvent.SECURE_CONNECT,W),J.once(x9.SocketEvent.ERROR,$);let G=()=>{J.removeListener(x9.SocketEvent.SECURE_CONNECT,W),J.removeListener(x9.SocketEvent.ERROR,$);for(let Q of yl)J.removeListener(Q,G)};for(let Q of[x9.SocketEvent.CLOSE,x9.SocketEvent.ERROR,x9.SocketEvent.SECURE_CONNECT])J.once(Q,G);return Z}_startGenericSpan(Y){let J=this.tracer.startSpan("connect");return bl(Y,J,!1,this._netSemconvStability),J}_startIpcSpan(Y,J){let X={};if(this._netSemconvStability&pY.SemconvStability.OLD)X[e3.ATTR_NET_TRANSPORT]=hl.OLD_IPC_TRANSPORT_VALUE,X[e3.ATTR_NET_PEER_NAME]=Y.path;if(this._netSemconvStability&pY.SemconvStability.STABLE)X[t3.ATTR_NETWORK_TRANSPORT]=hl.STABLE_IPC_TRANSPORT_VALUE,X[t3.ATTR_SERVER_ADDRESS]=Y.path;let Z=this.tracer.startSpan("ipc.connect",{attributes:X});return bl(J,Z,!1,this._netSemconvStability),Z}_startTcpSpan(Y,J){let X={};if(this._netSemconvStability&pY.SemconvStability.OLD)X[e3.ATTR_NET_TRANSPORT]=e3.NET_TRANSPORT_VALUE_IP_TCP,X[e3.ATTR_NET_PEER_NAME]=Y.host,X[e3.ATTR_NET_PEER_PORT]=Y.port;if(this._netSemconvStability&pY.SemconvStability.STABLE)X[t3.ATTR_NETWORK_TRANSPORT]=t3.NETWORK_TRANSPORT_VALUE_TCP,X[t3.ATTR_SERVER_ADDRESS]=Y.host,X[t3.ATTR_SERVER_PORT]=Y.port;let Z=this.tracer.startSpan("tcp.connect",{attributes:X});return bl(J,Z,!0,this._netSemconvStability),Z}}lC1.NetInstrumentation=cC1;var yl=[x9.SocketEvent.CLOSE,x9.SocketEvent.CONNECT,x9.SocketEvent.ERROR];function IK4(Y){return()=>{Y.end()}}function DK4(Y){return(J)=>{Y.setStatus({code:pH.SpanStatusCode.ERROR,message:J.message})}}function bl(Y,J,X,Z){let W=DK4(J),$=IK4(J),G=()=>{let U={};if(Z&pY.SemconvStability.OLD)U[e3.ATTR_NET_PEER_IP]=Y.remoteAddress,U[e3.ATTR_NET_HOST_IP]=Y.localAddress,U[e3.ATTR_NET_HOST_PORT]=Y.localPort;if(Z&pY.SemconvStability.STABLE)U[t3.ATTR_NETWORK_PEER_ADDRESS]=Y.remoteAddress,U[t3.ATTR_NETWORK_LOCAL_ADDRESS]=Y.localAddress,U[t3.ATTR_NETWORK_LOCAL_PORT]=Y.localPort;J.setAttributes(U)};if(Y.once(x9.SocketEvent.ERROR,W),X)Y.once(x9.SocketEvent.CONNECT,G);let Q=()=>{Y.removeListener(x9.SocketEvent.ERROR,W),Y.removeListener(x9.SocketEvent.CONNECT,G);for(let U of yl)Y.removeListener(U,$),Y.removeListener(U,Q)};for(let U of yl)Y.once(U,$),Y.once(U,Q)}});var iC1=q((yT)=>{Object.defineProperty(yT,"__esModule",{value:!0});yT.TLSAttributes=yT.NetInstrumentation=void 0;var wK4=nC1();Object.defineProperty(yT,"NetInstrumentation",{enumerable:!0,get:function(){return wK4.NetInstrumentation}});var AK4=fl();Object.defineProperty(yT,"TLSAttributes",{enumerable:!0,get:function(){return AK4.TLSAttributes}})});var aC1=q((oC1)=>{Object.defineProperty(oC1,"__esModule",{value:!0});oC1.METRIC_GEN_AI_CLIENT_TOKEN_USAGE=oC1.METRIC_GEN_AI_CLIENT_OPERATION_DURATION=oC1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS=oC1.ATTR_GEN_AI_USAGE_INPUT_TOKENS=oC1.ATTR_GEN_AI_TOKEN_TYPE=oC1.ATTR_GEN_AI_SYSTEM=oC1.ATTR_GEN_AI_RESPONSE_MODEL=oC1.ATTR_GEN_AI_RESPONSE_ID=oC1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS=oC1.ATTR_GEN_AI_REQUEST_TOP_P=oC1.ATTR_GEN_AI_REQUEST_TEMPERATURE=oC1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES=oC1.ATTR_GEN_AI_REQUEST_PRESENCE_PENALTY=oC1.ATTR_GEN_AI_REQUEST_MODEL=oC1.ATTR_GEN_AI_REQUEST_MAX_TOKENS=oC1.ATTR_GEN_AI_REQUEST_FREQUENCY_PENALTY=oC1.ATTR_GEN_AI_REQUEST_ENCODING_FORMATS=oC1.ATTR_GEN_AI_OPERATION_NAME=oC1.ATTR_EVENT_NAME=void 0;oC1.ATTR_EVENT_NAME="event.name";oC1.ATTR_GEN_AI_OPERATION_NAME="gen_ai.operation.name";oC1.ATTR_GEN_AI_REQUEST_ENCODING_FORMATS="gen_ai.request.encoding_formats";oC1.ATTR_GEN_AI_REQUEST_FREQUENCY_PENALTY="gen_ai.request.frequency_penalty";oC1.ATTR_GEN_AI_REQUEST_MAX_TOKENS="gen_ai.request.max_tokens";oC1.ATTR_GEN_AI_REQUEST_MODEL="gen_ai.request.model";oC1.ATTR_GEN_AI_REQUEST_PRESENCE_PENALTY="gen_ai.request.presence_penalty";oC1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES="gen_ai.request.stop_sequences";oC1.ATTR_GEN_AI_REQUEST_TEMPERATURE="gen_ai.request.temperature";oC1.ATTR_GEN_AI_REQUEST_TOP_P="gen_ai.request.top_p";oC1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS="gen_ai.response.finish_reasons";oC1.ATTR_GEN_AI_RESPONSE_ID="gen_ai.response.id";oC1.ATTR_GEN_AI_RESPONSE_MODEL="gen_ai.response.model";oC1.ATTR_GEN_AI_SYSTEM="gen_ai.system";oC1.ATTR_GEN_AI_TOKEN_TYPE="gen_ai.token.type";oC1.ATTR_GEN_AI_USAGE_INPUT_TOKENS="gen_ai.usage.input_tokens";oC1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS="gen_ai.usage.output_tokens";oC1.METRIC_GEN_AI_CLIENT_OPERATION_DURATION="gen_ai.client.operation.duration";oC1.METRIC_GEN_AI_CLIENT_TOKEN_USAGE="gen_ai.client.token.usage"});var eC1=q((sC1)=>{Object.defineProperty(sC1,"__esModule",{value:!0});sC1.PACKAGE_NAME=sC1.PACKAGE_VERSION=void 0;sC1.PACKAGE_VERSION="0.10.0";sC1.PACKAGE_NAME="@opentelemetry/instrumentation-openai"});var Wj1=q((Xj1)=>{Object.defineProperty(Xj1,"__esModule",{value:!0});Xj1.getAttrsFromBaseURL=Xj1.getEnvBool=void 0;var Jj1=t(),Yj1=X0();function mK4(Y,J=Jj1.diag){let X=process.env[Y];if(X===void 0||X==="")return;else if(typeof X!=="string")throw Error(`invalid type for environment variable: ${typeof X} (${Y}=${X})`);else{let Z=X.toLowerCase();if(Z==="true")return!0;else if(Z==="false")return!1;else{J.warn(`invalid boolean value for environment variable: ${Y}=${X}; ignoring`);return}}}Xj1.getEnvBool=mK4;var dK4={"https:":443,"http:":80};function cK4(Y,J=Jj1.diag){if(!Y)return;let X;try{X=new URL(Y)}catch(Z){J.debug(`could not determine server.{address,port} from baseURL: ${Z}`);return}return{[Yj1.ATTR_SERVER_ADDRESS]:X.hostname,[Yj1.ATTR_SERVER_PORT]:X.port?Number(X.port):dK4[X.protocol]}}Xj1.getAttrsFromBaseURL=cK4});var Kj1=q((Hj1)=>{Object.defineProperty(Hj1,"__esModule",{value:!0});Hj1.OpenAIInstrumentation=void 0;var nH=C("perf_hooks"),YZ=t(),$j1=t1(),iH=F5(),a1=aC1(),Gj1=eC1(),gl=Wj1(),pK4="gen_ai.system.message",nK4="gen_ai.user.message",iK4="gen_ai.assistant.message",oK4="gen_ai.tool.message",Qj1="gen_ai.choice";class zj1 extends $j1.InstrumentationBase{_genaiClientOperationDuration;_genaiClientTokenUsage;constructor(Y={}){super(Gj1.PACKAGE_NAME,Gj1.PACKAGE_VERSION,Y);let J=this.getConfig(),X=(0,gl.getEnvBool)("OTEL_INSTRUMENTATION_GENAI_CAPTURE_MESSAGE_CONTENT",this._diag);if(X!==void 0)J.captureMessageContent=X}setConfig(Y={}){let{captureMessageContent:J,...X}=Y;X.captureMessageContent=!!J,super.setConfig(X)}init(){return[new $j1.InstrumentationNodeModuleDefinition("openai",[">=4.19.0 <7"],(Y)=>{return this._wrap(Y.OpenAI.Chat.Completions.prototype,"create",this._getPatchedChatCompletionsCreate()),this._wrap(Y.OpenAI.Embeddings.prototype,"create",this._getPatchedEmbeddingsCreate()),Y},(Y)=>{this._unwrap(Y.OpenAI.Chat.Completions.prototype,"create"),this._unwrap(Y.OpenAI.Embeddings.prototype,"create")})]}_updateMetricInstruments(){this._genaiClientOperationDuration=this.meter.createHistogram(a1.METRIC_GEN_AI_CLIENT_OPERATION_DURATION,{description:"GenAI operation duration",unit:"s",advice:{explicitBucketBoundaries:[0.01,0.02,0.04,0.08,0.16,0.32,0.64,1.28,2.56,5.12,10.24,20.48,40.96,81.92]}}),this._genaiClientTokenUsage=this.meter.createHistogram(a1.METRIC_GEN_AI_CLIENT_TOKEN_USAGE,{description:"Measures number of input and output tokens used",unit:"{token}",advice:{explicitBucketBoundaries:[1,4,16,64,256,1024,4096,16384,65536,262144,1048576,4194304,16777216,67108864]}})}_getPatchedChatCompletionsCreate(){let Y=this;return(J)=>{return function(...Z){if(!Y.isEnabled)return J.apply(this,Z);Y._diag.debug("OpenAI.Chat.Completions.create args: %O",Z);let W=Z[0],$=Y.getConfig(),G=nH.performance.now(),Q;try{Q=Y._startChatCompletionsSpan(W,$,this?._client?.baseURL)}catch(K){return Y._diag.error("unexpected error starting span:",K),J.apply(this,Z)}let{span:U,ctx:z,commonAttrs:H}=Q,O=YZ.context.with(z,()=>J.apply(this,Z));if(rK4(W,O))return O.then((K)=>{return Y._wrap(K,"iterator",(B)=>{return()=>{return Y._onChatCompletionsStreamIterator(B(),U,G,$,H,z)}}),K}).catch(Y._createAPIPromiseRejectionHandler(G,U,H)),O;return O.then((K)=>{Y._onChatCompletionsCreateResult(U,G,H,K,$,z)}).catch(Y._createAPIPromiseRejectionHandler(G,U,H)),O}}}_startChatCompletionsSpan(Y,J,X){let Z={[a1.ATTR_GEN_AI_OPERATION_NAME]:"chat",[a1.ATTR_GEN_AI_REQUEST_MODEL]:Y.model,[a1.ATTR_GEN_AI_SYSTEM]:"openai"};Object.assign(Z,(0,gl.getAttrsFromBaseURL)(X,this._diag));let W={...Z};if(Y.frequency_penalty!=null)W[a1.ATTR_GEN_AI_REQUEST_FREQUENCY_PENALTY]=Y.frequency_penalty;if(Y.max_completion_tokens!=null)W[a1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=Y.max_completion_tokens;else if(Y.max_tokens!=null)W[a1.ATTR_GEN_AI_REQUEST_MAX_TOKENS]=Y.max_tokens;if(Y.presence_penalty!=null)W[a1.ATTR_GEN_AI_REQUEST_PRESENCE_PENALTY]=Y.presence_penalty;if(Y.stop!=null)if(Array.isArray(Y.stop))W[a1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=Y.stop;else W[a1.ATTR_GEN_AI_REQUEST_STOP_SEQUENCES]=[Y.stop];if(Y.temperature!=null)W[a1.ATTR_GEN_AI_REQUEST_TEMPERATURE]=Y.temperature;if(Y.top_p!=null)W[a1.ATTR_GEN_AI_REQUEST_TOP_P]=Y.top_p;let $=this.tracer.startSpan(`${W[a1.ATTR_GEN_AI_OPERATION_NAME]} ${W[a1.ATTR_GEN_AI_REQUEST_MODEL]}`,{kind:YZ.SpanKind.CLIENT,attributes:W}),G=YZ.trace.setSpan(YZ.context.active(),$),Q=Date.now();return Y.messages.forEach((U)=>{switch(U.role){case"system":{let z={};if(J.captureMessageContent)if(Array.isArray(U.content))z.content=U.content.map((H)=>H.text).join("");else z.content=U.content;this.logger.emit({timestamp:Q,context:G,severityNumber:iH.SeverityNumber.INFO,attributes:{[a1.ATTR_EVENT_NAME]:pK4,[a1.ATTR_GEN_AI_SYSTEM]:"openai"},body:z});break}case"user":{let z={};if(J.captureMessageContent)if(Array.isArray(U.content))z.content=U.content.filter(Uj1).map((H)=>H.text).join("");else z.content=U.content;this.logger.emit({timestamp:Q,context:G,severityNumber:iH.SeverityNumber.INFO,attributes:{[a1.ATTR_EVENT_NAME]:nK4,[a1.ATTR_GEN_AI_SYSTEM]:"openai"},body:z});break}case"assistant":{let z={};if(J.captureMessageContent){if(U.content)if(Array.isArray(U.content))z.content=U.content.filter(Uj1).map((H)=>H.text).join("");else z.content=U.content;z.tool_calls=U.tool_calls?.map((H)=>{let O={id:H.id,type:H.type};if(H.type==="function")O.function={name:H.function.name,arguments:H.function.arguments};return O})}else z.tool_calls=U.tool_calls?.map((H)=>{let O={id:H.id,type:H.type};if(H.type==="function")O.function={name:H.function.name};return O});this.logger.emit({timestamp:Q,context:G,severityNumber:iH.SeverityNumber.INFO,attributes:{[a1.ATTR_EVENT_NAME]:iK4,[a1.ATTR_GEN_AI_SYSTEM]:"openai"},body:z});break}case"tool":{let z={id:U.tool_call_id};if(J.captureMessageContent)if(Array.isArray(U.content))z.content=U.content.map((H)=>H.text).join("");else z.content=U.content;this.logger.emit({timestamp:Q,context:G,severityNumber:iH.SeverityNumber.INFO,attributes:{[a1.ATTR_EVENT_NAME]:oK4,[a1.ATTR_GEN_AI_SYSTEM]:"openai"},body:z});break}default:this._diag.debug(`unknown message role in OpenAI.Chat.Completions.create: ${U.role}`)}}),{span:$,ctx:G,commonAttrs:Z}}async*_onChatCompletionsStreamIterator(Y,J,X,Z,W,$){let G,Q,U=[],z=[];for await(let H of Y){yield H,this._diag.debug("OpenAI.Chat.Completions.create stream chunk: %O",H);let O=H.choices[0]?.index??0;if(!z[O])z[O]={};if(Z.captureMessageContent){let B=H.choices[0]?.delta?.content;if(B){if(!z[O].content)z[O].content="";z[O].content+=B}}let K=H.choices[0]?.delta?.tool_calls?.[0];if(K){if(!z[O].toolCalls)z[O].toolCalls=[];let B=z[O].toolCalls;if(K.id){let F={id:K.id,type:K.type};if(K.type==="function")F.function={name:K.function?.name,arguments:K.function?.arguments??""};B.push(F)}else if(B.length>0){let F=B[B.length-1];if(F.function!==void 0)F.function.arguments+=K.function?.arguments??""}}if(!G&&H.id)G=H.id,J.setAttribute(a1.ATTR_GEN_AI_RESPONSE_ID,G);if(!Q&&H.model)Q=H.model,J.setAttribute(a1.ATTR_GEN_AI_RESPONSE_MODEL,Q);if(!U[O]){let B=H.choices[0]?.finish_reason;if(B)U[O]=B}if(H.usage)J.setAttribute(a1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,H.usage.prompt_tokens),J.setAttribute(a1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,H.usage.completion_tokens),this._genaiClientTokenUsage.record(H.usage.prompt_tokens,{...W,[a1.ATTR_GEN_AI_RESPONSE_MODEL]:Q,[a1.ATTR_GEN_AI_TOKEN_TYPE]:"input"}),this._genaiClientTokenUsage.record(H.usage.completion_tokens,{...W,[a1.ATTR_GEN_AI_RESPONSE_MODEL]:Q,[a1.ATTR_GEN_AI_TOKEN_TYPE]:"output"})}J.setAttribute(a1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,U.filter((H)=>H!==void 0));for(let[H,O]of z.entries()){if(!O)continue;let K={};if(Z.captureMessageContent&&O.content&&O.content.length>0)K.content=O.content;if(O.toolCalls&&O.toolCalls.length>0){if(K.tool_calls=O.toolCalls,!Z.captureMessageContent)K.tool_calls.forEach((B)=>{delete B.function?.arguments})}this.logger.emit({timestamp:Date.now(),context:$,severityNumber:iH.SeverityNumber.INFO,attributes:{[a1.ATTR_EVENT_NAME]:Qj1,[a1.ATTR_GEN_AI_SYSTEM]:"openai"},body:{finish_reason:U[H],index:H,message:K}})}this._genaiClientOperationDuration.record((nH.performance.now()-X)/1000,{...W,[a1.ATTR_GEN_AI_RESPONSE_MODEL]:Q}),J.end()}_onChatCompletionsCreateResult(Y,J,X,Z,W,$){this._diag.debug("OpenAI.Chat.Completions.create result: %O",Z);try{if(Y.setAttribute(a1.ATTR_GEN_AI_RESPONSE_FINISH_REASONS,Z.choices.map((G)=>G.finish_reason)),Y.setAttribute(a1.ATTR_GEN_AI_RESPONSE_ID,Z.id),Y.setAttribute(a1.ATTR_GEN_AI_RESPONSE_MODEL,Z.model),Z.usage)Y.setAttribute(a1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,Z.usage.prompt_tokens),Y.setAttribute(a1.ATTR_GEN_AI_USAGE_OUTPUT_TOKENS,Z.usage.completion_tokens);if(Z.choices.forEach((G)=>{let Q={};if(W.captureMessageContent){if(G.message.content)Q.content=G.message.content;if(G.message.tool_calls)Q.tool_calls=G.message.tool_calls}else if(G.message.tool_calls)Q.tool_calls=G.message.tool_calls.map((U)=>{let z={id:U.id,type:U.type};if(U.type==="function")z.function={name:U.function.name};return z});this.logger.emit({timestamp:Date.now(),context:$,severityNumber:iH.SeverityNumber.INFO,attributes:{[a1.ATTR_EVENT_NAME]:Qj1,[a1.ATTR_GEN_AI_SYSTEM]:"openai"},body:{finish_reason:G.finish_reason,index:G.index,message:Q}})}),this._genaiClientOperationDuration.record((nH.performance.now()-J)/1000,{...X,[a1.ATTR_GEN_AI_RESPONSE_MODEL]:Z.model}),Z.usage)this._genaiClientTokenUsage.record(Z.usage.prompt_tokens,{...X,[a1.ATTR_GEN_AI_RESPONSE_MODEL]:Z.model,[a1.ATTR_GEN_AI_TOKEN_TYPE]:"input"}),this._genaiClientTokenUsage.record(Z.usage.completion_tokens,{...X,[a1.ATTR_GEN_AI_RESPONSE_MODEL]:Z.model,[a1.ATTR_GEN_AI_TOKEN_TYPE]:"output"})}catch(G){this._diag.error("unexpected error getting telemetry from chat result:",G)}Y.end()}_createAPIPromiseRejectionHandler(Y,J,X){return(Z)=>{this._diag.debug("OpenAI APIPromise rejection: %O",Z);let W=Z?.constructor?.name;this._genaiClientOperationDuration.record((nH.performance.now()-Y)/1000,{...X,"error.type":W}),J.setStatus({code:YZ.SpanStatusCode.ERROR,message:Z.message}),J.setAttribute("error.type",W),J.end()}}_getPatchedEmbeddingsCreate(){let Y=this;return(J)=>{return function(...Z){if(!Y.isEnabled)return J.apply(this,Z);Y._diag.debug("OpenAI.Chat.Embeddings.create args: %O",Z);let W=Z[0],$=nH.performance.now(),G;try{G=Y._startEmbeddingsSpan(W,this?._client?.baseURL)}catch(O){return Y._diag.error("unexpected error starting span:",O),J.apply(this,Z)}let{span:Q,ctx:U,commonAttrs:z}=G,H=YZ.context.with(U,()=>J.apply(this,Z));return H.then((O)=>{Y._onEmbeddingsCreateResult(Q,$,z,O)}).catch(Y._createAPIPromiseRejectionHandler($,Q,z)),H}}}_startEmbeddingsSpan(Y,J){let X={[a1.ATTR_GEN_AI_OPERATION_NAME]:"embeddings",[a1.ATTR_GEN_AI_REQUEST_MODEL]:Y.model,[a1.ATTR_GEN_AI_SYSTEM]:"openai"};Object.assign(X,(0,gl.getAttrsFromBaseURL)(J,this._diag));let Z={...X};if(Y.encoding_format!=null)Z[a1.ATTR_GEN_AI_REQUEST_ENCODING_FORMATS]=[Y.encoding_format];let W=this.tracer.startSpan(`${Z[a1.ATTR_GEN_AI_OPERATION_NAME]} ${Z[a1.ATTR_GEN_AI_REQUEST_MODEL]}`,{kind:YZ.SpanKind.CLIENT,attributes:Z}),$=YZ.trace.setSpan(YZ.context.active(),W);return{span:W,ctx:$,commonAttrs:X}}_onEmbeddingsCreateResult(Y,J,X,Z){this._diag.debug("OpenAI.Embeddings.create result: %O",Z);try{Y.setAttribute(a1.ATTR_GEN_AI_RESPONSE_MODEL,Z.model),this._genaiClientOperationDuration.record((nH.performance.now()-J)/1000,{...X,[a1.ATTR_GEN_AI_RESPONSE_MODEL]:Z.model}),Y.setAttribute(a1.ATTR_GEN_AI_USAGE_INPUT_TOKENS,Z.usage.prompt_tokens),this._genaiClientTokenUsage.record(Z.usage.prompt_tokens,{...X,[a1.ATTR_GEN_AI_RESPONSE_MODEL]:Z.model,[a1.ATTR_GEN_AI_TOKEN_TYPE]:"input"})}catch(W){this._diag.error("unexpected error getting telemetry from embeddings result:",W)}Y.end()}}Hj1.OpenAIInstrumentation=zj1;function Uj1(Y){return Y.type==="text"}function rK4(Y,J){if(Y&&Y.stream)return!0;return!1}});var Bj1=q((ul)=>{Object.defineProperty(ul,"__esModule",{value:!0});ul.OpenAIInstrumentation=void 0;var aK4=Kj1();Object.defineProperty(ul,"OpenAIInstrumentation",{enumerable:!0,get:function(){return aK4.OpenAIInstrumentation}})});var Vj1=q((qj1)=>{Object.defineProperty(qj1,"__esModule",{value:!0});qj1.DB_SYSTEM_NAME_VALUE_ORACLE_DB=qj1.ATTR_DB_USER=qj1.ATTR_DB_OPERATION_PARAMETER=void 0;var tK4=(Y)=>`db.operation.parameter.${Y}`;qj1.ATTR_DB_OPERATION_PARAMETER=tK4;qj1.ATTR_DB_USER="db.user";qj1.DB_SYSTEM_NAME_VALUE_ORACLE_DB="oracle.db"});var Dj1=q((Ij1)=>{Object.defineProperty(Ij1,"__esModule",{value:!0});Ij1.SpanNames=void 0;var JB4;(function(Y){Y.CONNECT="oracledb.getConnection",Y.POOL_CONNECT="oracledb.Pool.getConnection",Y.POOL_CREATE="oracledb.createPool",Y.CONNECT_PROTOCOL_NEG="oracledb.ProtocolMessage",Y.CONNECT_DATATYPE_NEG="oracledb.DataTypeMessage",Y.CONNECT_AUTH_MSG="oracledb.AuthMessage",Y.CONNECT_FAST_AUTH="oracledb.FastAuthMessage",Y.EXECUTE_MSG="oracledb.ExecuteMessage",Y.EXECUTE="oracledb.Connection.execute",Y.EXECUTE_MANY="oracledb.Connection.executeMany",Y.LOGOFF_MSG="oracledb.LogOffMessage",Y.CONNECT_CLOSE="oracledb.Connection.close",Y.CREATE_LOB="oracledb.Connection.createLob",Y.LOB_MESSAGE="oracledb.LobOpMessage",Y.LOB_GETDATA="oracledb.Lob.getData"})(JB4=Ij1.SpanNames||(Ij1.SpanNames={}))});var Mj1=q((Pj1)=>{Object.defineProperty(Pj1,"__esModule",{value:!0});Pj1.getOracleTelemetryTraceHandlerClass=Pj1.buildTraceparent=void 0;var wj1=t1(),f9=t(),QQ=X0(),gT=Vj1(),XB4=3003,UQ=Dj1();function ZB4(Y){try{return Y.traceHandler.TraceHandlerBase}catch(J){return f9.diag.error("Failed to load oracledb module.",J),null}}function Aj1(Y){return`00-${Y.traceId}-${Y.spanId}-0${Number(Y.traceFlags||f9.TraceFlags.NONE).toString(16)}`}Pj1.buildTraceparent=Aj1;function WB4(Y){let J=ZB4(Y);if(!J)return;class X extends J{_getTracer;_instrumentConfig;constructor(Z,W){super();this._getTracer=Z,this._instrumentConfig=W}_shouldSkipInstrumentation(){return this._instrumentConfig.requireParentSpan===!0&&f9.trace.getSpan(f9.context.active())===void 0}_getDBNameSpace(Z,W,$){if(Z==null&&W==null&&$==null)return;return`${Z??""}|${W??""}|${$??""}`}_getConnectionSpanAttributes(Z){return{[QQ.ATTR_DB_SYSTEM_NAME]:gT.DB_SYSTEM_NAME_VALUE_ORACLE_DB,[QQ.ATTR_NETWORK_TRANSPORT]:Z.protocol,[gT.ATTR_DB_USER]:Z.user,[QQ.ATTR_DB_NAMESPACE]:this._getDBNameSpace(Z.instanceName,Z.pdbName,Z.serviceName),[QQ.ATTR_SERVER_ADDRESS]:Z.hostName,[QQ.ATTR_SERVER_PORT]:Z.port}}_isLobInstance(Z){return typeof Z==="object"&&Z!==null&&Reflect.getPrototypeOf(Z)?.constructor?.name==="Lob"}_getValues(Z){if(!Z)return;let W={};try{if(Array.isArray(Z))Z.forEach(($,G)=>{let Q=this._extractValue($);if(Q!==void 0)W[(0,gT.ATTR_DB_OPERATION_PARAMETER)(`${G}`)]=Q});else if(Z&&typeof Z==="object")for(let[$,G]of Object.entries(Z)){let Q=(0,gT.ATTR_DB_OPERATION_PARAMETER)($),U=G;if(U&&typeof U==="object"){if(U.dir===XB4){W[Q]="";continue}if("val"in U)U=U.val}let z=this._extractValue(U);if(z!==void 0)W[Q]=z}}catch($){f9.diag.error("failed to stringify bind values:",Z,$);return}return W}_extractValue(Z){if(Z==null)return"null";if(Z instanceof Buffer||this._isLobInstance(Z))return Z.toString();if(typeof Z==="object")return JSON.stringify(Z);return Z.toString()}_setCallLevelAttributes(Z,W,$=!1){if(!W)return;if(W.statement){if(Z.setAttribute(QQ.ATTR_DB_OPERATION_NAME,W.statement.split(" ")[0].toUpperCase()),this._instrumentConfig.dbStatementDump||this._instrumentConfig.enhancedDatabaseReporting){if(Z.setAttribute(QQ.ATTR_DB_QUERY_TEXT,W.statement),this._instrumentConfig.enhancedDatabaseReporting&&!$){let G=this._getValues(W.values);if(G)Z.setAttributes(G)}}}}_handleExecuteCustomRequest(Z,W){if(typeof this._instrumentConfig.requestHook==="function")(0,wj1.safeExecuteInTheMiddle)(()=>{this._instrumentConfig.requestHook?.(Z,{connection:W.connectLevelConfig,inputArgs:W.additionalConfig.args})},($)=>{if($)f9.diag.error("Error running request hook",$)},!0)}_handleExecuteCustomResult(Z,W){if(typeof this._instrumentConfig.responseHook==="function")(0,wj1.safeExecuteInTheMiddle)(()=>{this._instrumentConfig.responseHook?.(Z,{data:W.additionalConfig.result})},($)=>{if($)f9.diag.error("Error running query hook",$)},!0)}_updateSpanName(Z){let{connectLevelConfig:W,callLevelConfig:$,userContext:G,operation:Q}=Z;if(![UQ.SpanNames.EXECUTE,UQ.SpanNames.EXECUTE_MANY,UQ.SpanNames.EXECUTE_MSG].includes(Q))return;let{instanceName:U,pdbName:z,serviceName:H}=W,O=this._getDBNameSpace(U,z,H),K=$?.statement?.split(" ")[0].toUpperCase()||"";G.span.updateName(`${Q}:${K}${O&&` ${O}`}`)}_updateFinalSpanAttributes(Z,W=!1){let $=Z.userContext.span;if(Z.connectLevelConfig)$.setAttributes(this._getConnectionSpanAttributes(Z.connectLevelConfig));if(Z.callLevelConfig)this._setCallLevelAttributes($,Z.callLevelConfig,W);if(Z.error)$.recordException(Z.error),$.setStatus({code:f9.SpanStatusCode.ERROR,message:Z.error.message})}setInstrumentConfig(Z={}){this._instrumentConfig=Z}onEnterFn(Z){if(this._shouldSkipInstrumentation())return;let W=Z.operation,$=Z.connectLevelConfig?this._getConnectionSpanAttributes(Z.connectLevelConfig):{};if(Z.userContext={span:this._getTracer().startSpan(W,{kind:f9.SpanKind.CLIENT,attributes:$})},Z.fn){if(this._instrumentConfig.propagateTraceContextToSessionAction&&(Z.operation===UQ.SpanNames.EXECUTE||Z.operation===UQ.SpanNames.EXECUTE_MANY)){let G=Z.additionalConfig?.self,Q=Aj1(Z.userContext.span.spanContext());if(G&&"action"in G&&Q)try{G.action=Q}catch(U){f9.diag.debug("Failed to set connection.action for trace propagation",U)}}Z.fn=f9.context.bind(f9.trace.setSpan(f9.context.active(),Z.userContext.span),Z.fn)}if(Z.operation===UQ.SpanNames.EXECUTE)this._handleExecuteCustomRequest(Z.userContext.span,Z)}onExitFn(Z){if(!Z.userContext?.span)return;switch(this._updateFinalSpanAttributes(Z),Z.operation){case UQ.SpanNames.EXECUTE:this._handleExecuteCustomResult(Z.userContext.span,Z);break;default:break}this._updateSpanName(Z),Z.userContext.span.end()}onBeginRoundTrip(Z){if(this._shouldSkipInstrumentation())return;let W=Z.operation,$={};Z.userContext={span:this._getTracer().startSpan(W,{kind:f9.SpanKind.CLIENT,attributes:$})}}onEndRoundTrip(Z){if(!Z.userContext?.span)return;this._updateFinalSpanAttributes(Z,!0),this._updateSpanName(Z),Z.userContext.span.end()}}return X}Pj1.getOracleTelemetryTraceHandlerClass=WB4});var Rj1=q((Ej1)=>{Object.defineProperty(Ej1,"__esModule",{value:!0});Ej1.PACKAGE_NAME=Ej1.PACKAGE_VERSION=void 0;Ej1.PACKAGE_VERSION="0.37.0";Ej1.PACKAGE_NAME="@opentelemetry/instrumentation-oracledb"});var _j1=q((jj1)=>{Object.defineProperty(jj1,"__esModule",{value:!0});jj1.OracleInstrumentation=void 0;var Nj1=t1(),QB4=Mj1(),Sj1=Rj1();class Cj1 extends Nj1.InstrumentationBase{_tmHandler;constructor(Y={}){super(Sj1.PACKAGE_NAME,Sj1.PACKAGE_VERSION,Y)}init(){return[new Nj1.InstrumentationNodeModuleDefinition("oracledb",[">= 6.7 < 7"],(J)=>{if(!J)return;if(this._tmHandler)J.traceHandler.setTraceInstance(),this._tmHandler=null;let X=this.getConfig(),Z=(0,QB4.getOracleTelemetryTraceHandlerClass)(J);if(Z){let W=new Z(()=>this.tracer,X);W.enable(),J.traceHandler.setTraceInstance(W),this._tmHandler=W}return J},(J)=>{if(this._tmHandler)J.traceHandler.setTraceInstance(),this._tmHandler=null})]}setConfig(Y={}){super.setConfig(Y),this._tmHandler?.setInstrumentConfig(this._config)}}jj1.OracleInstrumentation=Cj1});var xj1=q((dl)=>{Object.defineProperty(dl,"__esModule",{value:!0});dl.OracleInstrumentation=void 0;var UB4=_j1();Object.defineProperty(dl,"OracleInstrumentation",{enumerable:!0,get:function(){return UB4.OracleInstrumentation}})});var hj1=q((fj1)=>{Object.defineProperty(fj1,"__esModule",{value:!0});fj1.EVENT_LISTENERS_SET=void 0;fj1.EVENT_LISTENERS_SET=Symbol("opentelemetry.instrumentation.pg.eventListenersSet")});var ll=q((bj1)=>{Object.defineProperty(bj1,"__esModule",{value:!0});bj1.AttributeNames=void 0;var HB4;(function(Y){Y.PG_VALUES="db.postgresql.values",Y.PG_PLAN="db.postgresql.plan",Y.IDLE_TIMEOUT_MILLIS="db.postgresql.idle.timeout.millis",Y.MAX_CLIENT="db.postgresql.max.client"})(HB4=bj1.AttributeNames||(bj1.AttributeNames={}))});var pl=q((yj1)=>{Object.defineProperty(yj1,"__esModule",{value:!0});yj1.METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS=yj1.METRIC_DB_CLIENT_CONNECTION_COUNT=yj1.DB_SYSTEM_VALUE_POSTGRESQL=yj1.DB_CLIENT_CONNECTION_STATE_VALUE_USED=yj1.DB_CLIENT_CONNECTION_STATE_VALUE_IDLE=yj1.ATTR_NET_PEER_PORT=yj1.ATTR_NET_PEER_NAME=yj1.ATTR_DB_USER=yj1.ATTR_DB_SYSTEM=yj1.ATTR_DB_STATEMENT=yj1.ATTR_DB_NAME=yj1.ATTR_DB_CONNECTION_STRING=yj1.ATTR_DB_CLIENT_CONNECTION_STATE=yj1.ATTR_DB_CLIENT_CONNECTION_POOL_NAME=void 0;yj1.ATTR_DB_CLIENT_CONNECTION_POOL_NAME="db.client.connection.pool.name";yj1.ATTR_DB_CLIENT_CONNECTION_STATE="db.client.connection.state";yj1.ATTR_DB_CONNECTION_STRING="db.connection_string";yj1.ATTR_DB_NAME="db.name";yj1.ATTR_DB_STATEMENT="db.statement";yj1.ATTR_DB_SYSTEM="db.system";yj1.ATTR_DB_USER="db.user";yj1.ATTR_NET_PEER_NAME="net.peer.name";yj1.ATTR_NET_PEER_PORT="net.peer.port";yj1.DB_CLIENT_CONNECTION_STATE_VALUE_IDLE="idle";yj1.DB_CLIENT_CONNECTION_STATE_VALUE_USED="used";yj1.DB_SYSTEM_VALUE_POSTGRESQL="postgresql";yj1.METRIC_DB_CLIENT_CONNECTION_COUNT="db.client.connection.count";yj1.METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS="db.client.connection.pending_requests"});var il=q((uj1)=>{Object.defineProperty(uj1,"__esModule",{value:!0});uj1.SpanNames=void 0;var EB4;(function(Y){Y.QUERY_PREFIX="pg.query",Y.CONNECT="pg.connect",Y.POOL_CONNECT="pg-pool.connect"})(EB4=uj1.SpanNames||(uj1.SpanNames={}))});var rj1=q((ij1)=>{Object.defineProperty(ij1,"__esModule",{value:!0});ij1.sanitizedErrorMessage=ij1.isObjectWithTextString=ij1.getErrorMessage=ij1.patchClientConnectCallback=ij1.patchCallbackPGPool=ij1.updateCounter=ij1.getPoolName=ij1.patchCallback=ij1.handleExecutionResult=ij1.handleConfigQuery=ij1.shouldSkipInstrumentation=ij1.getSemanticAttributesFromPoolConnection=ij1.getSemanticAttributesFromConnection=ij1.getConnectionString=ij1.parseAndMaskConnectionString=ij1.parseNormalizedOperationName=ij1.getQuerySpanName=void 0;var SW=t(),uT=ll(),l7=X0(),N6=pl(),zQ=t1(),mj1=il();function dj1(Y,J){if(!J)return mj1.SpanNames.QUERY_PREFIX;let X=typeof J.name==="string"&&J.name?J.name:cj1(J.text);return`${mj1.SpanNames.QUERY_PREFIX}:${X}${Y?` ${Y}`:""}`}ij1.getQuerySpanName=dj1;function cj1(Y){let J=Y.trim(),X=J.indexOf(" "),Z=X===-1?J:J.slice(0,X);return Z=Z.toUpperCase(),Z.endsWith(";")?Z.slice(0,-1):Z}ij1.parseNormalizedOperationName=cj1;function lj1(Y){try{let J=new URL(Y);return J.username="",J.password="",J.toString()}catch(J){return"postgresql://localhost:5432/"}}ij1.parseAndMaskConnectionString=lj1;function ol(Y){if("connectionString"in Y&&Y.connectionString)return lj1(Y.connectionString);let J=Y.host||"localhost",X=Y.port||5432,Z=Y.database||"";return`postgresql://${J}:${X}/${Z}`}ij1.getConnectionString=ol;function mT(Y){if(Number.isInteger(Y))return Y;return}function pj1(Y,J){let X={};if(J&zQ.SemconvStability.OLD)X={...X,[N6.ATTR_DB_SYSTEM]:N6.DB_SYSTEM_VALUE_POSTGRESQL,[N6.ATTR_DB_NAME]:Y.database,[N6.ATTR_DB_CONNECTION_STRING]:ol(Y),[N6.ATTR_DB_USER]:Y.user,[N6.ATTR_NET_PEER_NAME]:Y.host,[N6.ATTR_NET_PEER_PORT]:mT(Y.port)};if(J&zQ.SemconvStability.STABLE)X={...X,[l7.ATTR_DB_SYSTEM_NAME]:l7.DB_SYSTEM_NAME_VALUE_POSTGRESQL,[l7.ATTR_DB_NAMESPACE]:Y.namespace,[l7.ATTR_SERVER_ADDRESS]:Y.host,[l7.ATTR_SERVER_PORT]:mT(Y.port)};return X}ij1.getSemanticAttributesFromConnection=pj1;function TB4(Y,J){let X;try{X=Y.connectionString?new URL(Y.connectionString):void 0}catch(W){X=void 0}let Z={[uT.AttributeNames.IDLE_TIMEOUT_MILLIS]:Y.idleTimeoutMillis,[uT.AttributeNames.MAX_CLIENT]:Y.maxClient};if(J&zQ.SemconvStability.OLD)Z={...Z,[N6.ATTR_DB_SYSTEM]:N6.DB_SYSTEM_VALUE_POSTGRESQL,[N6.ATTR_DB_NAME]:X?.pathname.slice(1)??Y.database,[N6.ATTR_DB_CONNECTION_STRING]:ol(Y),[N6.ATTR_NET_PEER_NAME]:X?.hostname??Y.host,[N6.ATTR_NET_PEER_PORT]:Number(X?.port)||mT(Y.port),[N6.ATTR_DB_USER]:X?.username??Y.user};if(J&zQ.SemconvStability.STABLE)Z={...Z,[l7.ATTR_DB_SYSTEM_NAME]:l7.DB_SYSTEM_NAME_VALUE_POSTGRESQL,[l7.ATTR_DB_NAMESPACE]:Y.namespace,[l7.ATTR_SERVER_ADDRESS]:X?.hostname??Y.host,[l7.ATTR_SERVER_PORT]:Number(X?.port)||mT(Y.port)};return Z}ij1.getSemanticAttributesFromPoolConnection=TB4;function RB4(Y){return Y.requireParentSpan===!0&&SW.trace.getSpan(SW.context.active())===void 0}ij1.shouldSkipInstrumentation=RB4;function NB4(Y,J,X,Z){let{connectionParameters:W}=this,$=W.database,G=dj1($,Z),Q=Y.startSpan(G,{kind:SW.SpanKind.CLIENT,attributes:pj1(W,X)});if(!Z)return Q;if(Z.text){if(X&zQ.SemconvStability.OLD)Q.setAttribute(N6.ATTR_DB_STATEMENT,Z.text);if(X&zQ.SemconvStability.STABLE)Q.setAttribute(l7.ATTR_DB_QUERY_TEXT,Z.text)}if(J.enhancedDatabaseReporting&&Array.isArray(Z.values))try{let U=Z.values.map((z)=>{if(z==null)return"null";else if(z instanceof Buffer)return z.toString();else if(typeof z==="object"){if(typeof z.toPostgres==="function")return z.toPostgres();return JSON.stringify(z)}else return z.toString()});Q.setAttribute(uT.AttributeNames.PG_VALUES,U)}catch(U){SW.diag.error("failed to stringify ",Z.values,U)}if(typeof Z.name==="string")Q.setAttribute(uT.AttributeNames.PG_PLAN,Z.name);return Q}ij1.handleConfigQuery=NB4;function nj1(Y,J,X){if(typeof Y.responseHook==="function")(0,zQ.safeExecuteInTheMiddle)(()=>{Y.responseHook(J,{data:X})},(Z)=>{if(Z)SW.diag.error("Error running response hook",Z)},!0)}ij1.handleExecutionResult=nj1;function SB4(Y,J,X,Z,W){return function(G,Q){if(G){if(Object.prototype.hasOwnProperty.call(G,"code"))Z[l7.ATTR_ERROR_TYPE]=G.code;if(G instanceof Error)J.recordException(dT(G));J.setStatus({code:SW.SpanStatusCode.ERROR,message:G.message})}else nj1(Y,J,Q);W(),J.end(),X.call(this,G,Q)}}ij1.patchCallback=SB4;function CB4(Y){let J="";return J+=(Y?.host?`${Y.host}`:"unknown_host")+":",J+=(Y?.port?`${Y.port}`:"unknown_port")+"/",J+=Y?.database?`${Y.database}`:"unknown_database",J.trim()}ij1.getPoolName=CB4;function jB4(Y,J,X,Z,W){let{totalCount:$,waitingCount:G,idleCount:Q}=J,U=$-Q;return X.add(U-W.used,{[N6.ATTR_DB_CLIENT_CONNECTION_STATE]:N6.DB_CLIENT_CONNECTION_STATE_VALUE_USED,[N6.ATTR_DB_CLIENT_CONNECTION_POOL_NAME]:Y}),X.add(Q-W.idle,{[N6.ATTR_DB_CLIENT_CONNECTION_STATE]:N6.DB_CLIENT_CONNECTION_STATE_VALUE_IDLE,[N6.ATTR_DB_CLIENT_CONNECTION_POOL_NAME]:Y}),Z.add(G-W.pending,{[N6.ATTR_DB_CLIENT_CONNECTION_POOL_NAME]:Y}),{used:U,idle:Q,pending:G}}ij1.updateCounter=jB4;function kB4(Y,J){return function(Z,W,$){if(Z){if(Z instanceof Error)Y.recordException(dT(Z));Y.setStatus({code:SW.SpanStatusCode.ERROR,message:Z.message})}Y.end(),J.call(this,Z,W,$)}}ij1.patchCallbackPGPool=kB4;function _B4(Y,J){return function(Z){if(Z){if(Z instanceof Error)Y.recordException(dT(Z));Y.setStatus({code:SW.SpanStatusCode.ERROR,message:Z.message})}Y.end(),J.apply(this,arguments)}}ij1.patchClientConnectCallback=_B4;function xB4(Y){return typeof Y==="object"&&Y!==null&&"message"in Y?String(Y.message):void 0}ij1.getErrorMessage=xB4;function fB4(Y){return typeof Y==="object"&&typeof Y?.text==="string"}ij1.isObjectWithTextString=fB4;function dT(Y){let J=Y?.name??"PostgreSQLError",X=Y?.code??"UNKNOWN";return`PostgreSQL error of type '${J}' occurred (code: ${X})`}ij1.sanitizedErrorMessage=dT});var tj1=q((aj1)=>{Object.defineProperty(aj1,"__esModule",{value:!0});aj1.PACKAGE_NAME=aj1.PACKAGE_VERSION=void 0;aj1.PACKAGE_VERSION="0.64.0";aj1.PACKAGE_NAME="@opentelemetry/instrumentation-pg"});var Qk1=q(($k1)=>{Object.defineProperty($k1,"__esModule",{value:!0});$k1.PgInstrumentation=void 0;var G9=t1(),j4=t(),ej1=hj1(),z6=rj1(),Yk1=Il(),Jk1=tj1(),Xk1=il(),cT=k1(),nY=X0(),UV=pl();function oH(Y){return Y[Symbol.toStringTag]==="Module"?Y.default:Y}class Wk1 extends G9.InstrumentationBase{_connectionsCounter={used:0,idle:0,pending:0};_semconvStability;constructor(Y={}){super(Jk1.PACKAGE_NAME,Jk1.PACKAGE_VERSION,Y);this._semconvStability=(0,G9.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}_updateMetricInstruments(){this._operationDuration=this.meter.createHistogram(nY.METRIC_DB_CLIENT_OPERATION_DURATION,{description:"Duration of database client operations.",unit:"s",valueType:j4.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[0.001,0.005,0.01,0.05,0.1,0.5,1,5,10]}}),this._connectionsCounter={idle:0,pending:0,used:0},this._connectionsCount=this.meter.createUpDownCounter(UV.METRIC_DB_CLIENT_CONNECTION_COUNT,{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"}),this._connectionPendingRequests=this.meter.createUpDownCounter(UV.METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS,{description:"The number of current pending requests for an open connection.",unit:"{connection}"})}init(){let Y=[">=8.0.3 <9"],J=[">=2.0.0 <4"],X=new G9.InstrumentationNodeModuleFile("pg/lib/native/client.js",Y,this._patchPgClient.bind(this),this._unpatchPgClient.bind(this)),Z=new G9.InstrumentationNodeModuleFile("pg/lib/client.js",Y,this._patchPgClient.bind(this),this._unpatchPgClient.bind(this)),W=new G9.InstrumentationNodeModuleDefinition("pg",Y,(G)=>{let Q=oH(G);return this._patchPgClient(Q.Client),G},(G)=>{let Q=oH(G);return this._unpatchPgClient(Q.Client),G},[Z,X]),$=new G9.InstrumentationNodeModuleDefinition("pg-pool",J,(G)=>{let Q=oH(G);if((0,G9.isWrapped)(Q.prototype.connect))this._unwrap(Q.prototype,"connect");return this._wrap(Q.prototype,"connect",this._getPoolConnectPatch()),Q},(G)=>{let Q=oH(G);if((0,G9.isWrapped)(Q.prototype.connect))this._unwrap(Q.prototype,"connect")});return[W,$]}_patchPgClient(Y){if(!Y)return;let J=oH(Y);if((0,G9.isWrapped)(J.prototype.query))this._unwrap(J.prototype,"query");if((0,G9.isWrapped)(J.prototype.connect))this._unwrap(J.prototype,"connect");return this._wrap(J.prototype,"query",this._getClientQueryPatch()),this._wrap(J.prototype,"connect",this._getClientConnectPatch()),Y}_unpatchPgClient(Y){let J=oH(Y);if((0,G9.isWrapped)(J.prototype.query))this._unwrap(J.prototype,"query");if((0,G9.isWrapped)(J.prototype.connect))this._unwrap(J.prototype,"connect");return Y}_getClientConnectPatch(){let Y=this;return(J)=>{return function(Z){let W=Y.getConfig();if(z6.shouldSkipInstrumentation(W)||W.ignoreConnectSpans)return J.call(this,Z);let $=Y.tracer.startSpan(Xk1.SpanNames.CONNECT,{kind:j4.SpanKind.CLIENT,attributes:z6.getSemanticAttributesFromConnection(this,Y._semconvStability)});if(Z){let Q=j4.trace.getSpan(j4.context.active());if(Z=z6.patchClientConnectCallback($,Z),Q)Z=j4.context.bind(j4.context.active(),Z)}let G=j4.context.with(j4.trace.setSpan(j4.context.active(),$),()=>{return J.call(this,Z)});return Zk1($,G)}}}recordOperationDuration(Y,J){let X={},Z=[nY.ATTR_DB_NAMESPACE,nY.ATTR_ERROR_TYPE,nY.ATTR_SERVER_PORT,nY.ATTR_SERVER_ADDRESS,nY.ATTR_DB_OPERATION_NAME];if(this._semconvStability&G9.SemconvStability.OLD)Z.push(UV.ATTR_DB_SYSTEM);if(this._semconvStability&G9.SemconvStability.STABLE)Z.push(nY.ATTR_DB_SYSTEM_NAME);Z.forEach(($)=>{if($ in Y)X[$]=Y[$]});let W=(0,cT.hrTimeToMilliseconds)((0,cT.hrTimeDuration)(J,(0,cT.hrTime)()))/1000;this._operationDuration.record(W,X)}_getClientQueryPatch(){let Y=this;return(J)=>{return this._diag.debug("Patching pg.Client.prototype.query"),function(...Z){if(z6.shouldSkipInstrumentation(Y.getConfig()))return J.apply(this,Z);let W=(0,cT.hrTime)(),$=Z[0],G=typeof $==="string",Q=z6.isObjectWithTextString($),U=G?{text:$,values:Array.isArray(Z[1])?Z[1]:void 0}:Q?{...$,name:$.name,text:$.text,values:$.values??(Array.isArray(Z[1])?Z[1]:void 0)}:void 0,z={[UV.ATTR_DB_SYSTEM]:UV.DB_SYSTEM_VALUE_POSTGRESQL,[nY.ATTR_DB_NAMESPACE]:this.database,[nY.ATTR_SERVER_PORT]:this.connectionParameters.port,[nY.ATTR_SERVER_ADDRESS]:this.connectionParameters.host};if(U?.text)z[nY.ATTR_DB_OPERATION_NAME]=z6.parseNormalizedOperationName(U?.text);let H=()=>{Y.recordOperationDuration(z,W)},O=Y.getConfig(),K=z6.handleConfigQuery.call(this,Y.tracer,O,Y._semconvStability,U);if(O.addSqlCommenterCommentToQueries){if(G)Z[0]=(0,Yk1.addSqlCommenterComment)(K,$);else if(Q&&!("name"in $))Z[0]={...$,text:(0,Yk1.addSqlCommenterComment)(K,$.text)}}if(Z.length>0){let V=j4.trace.getSpan(j4.context.active());if(typeof Z[Z.length-1]==="function"){if(Z[Z.length-1]=z6.patchCallback(O,K,Z[Z.length-1],z,H),V)Z[Z.length-1]=j4.context.bind(j4.context.active(),Z[Z.length-1])}else if(typeof U?.callback==="function"){let I=z6.patchCallback(Y.getConfig(),K,U.callback,z,H);if(V)I=j4.context.bind(j4.context.active(),I);Z[0].callback=I}}let{requestHook:B}=O;if(typeof B==="function"&&U)(0,G9.safeExecuteInTheMiddle)(()=>{let{database:V,host:I,port:D,user:L}=this.connectionParameters;B(K,{connection:{database:V,host:I,port:D,user:L},query:{text:U.text,values:U.values,name:U.name}})},(V)=>{if(V)Y._diag.error("Error running query hook",V)},!0);let F;try{F=J.apply(this,Z)}catch(V){if(V instanceof Error)K.recordException(z6.sanitizedErrorMessage(V));throw K.setStatus({code:j4.SpanStatusCode.ERROR,message:z6.getErrorMessage(V)}),K.end(),V}if(F instanceof Promise)return F.then((V)=>{return new Promise((I)=>{z6.handleExecutionResult(Y.getConfig(),K,V),H(),K.end(),I(V)})}).catch((V)=>{return new Promise((I,D)=>{if(V instanceof Error)K.recordException(z6.sanitizedErrorMessage(V));K.setStatus({code:j4.SpanStatusCode.ERROR,message:V.message}),H(),K.end(),D(V)})});return F}}}_setPoolConnectEventListeners(Y){if(Y[ej1.EVENT_LISTENERS_SET])return;let J=z6.getPoolName(Y.options);Y.on("connect",()=>{this._connectionsCounter=z6.updateCounter(J,Y,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter)}),Y.on("acquire",()=>{this._connectionsCounter=z6.updateCounter(J,Y,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter)}),Y.on("remove",()=>{this._connectionsCounter=z6.updateCounter(J,Y,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter)}),Y.on("release",()=>{this._connectionsCounter=z6.updateCounter(J,Y,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter)}),Y[ej1.EVENT_LISTENERS_SET]=!0}_getPoolConnectPatch(){let Y=this;return(J)=>{return function(Z){let W=Y.getConfig();if(z6.shouldSkipInstrumentation(W))return J.call(this,Z);if(Y._setPoolConnectEventListeners(this),W.ignoreConnectSpans)return J.call(this,Z);let $=Y.tracer.startSpan(Xk1.SpanNames.POOL_CONNECT,{kind:j4.SpanKind.CLIENT,attributes:z6.getSemanticAttributesFromPoolConnection(this.options,Y._semconvStability)});if(Z){let Q=j4.trace.getSpan(j4.context.active());if(Z=z6.patchCallbackPGPool($,Z),Q)Z=j4.context.bind(j4.context.active(),Z)}let G=j4.context.with(j4.trace.setSpan(j4.context.active(),$),()=>{return J.call(this,Z)});return Zk1($,G)}}}}$k1.PgInstrumentation=Wk1;function Zk1(Y,J){if(!(J instanceof Promise))return J;let X=J;return j4.context.bind(j4.context.active(),X.then((Z)=>{return Y.end(),Z}).catch((Z)=>{if(Z instanceof Error)Y.recordException(z6.sanitizedErrorMessage(Z));return Y.setStatus({code:j4.SpanStatusCode.ERROR,message:z6.getErrorMessage(Z)}),Y.end(),Promise.reject(Z)}))}});var Uk1=q((lT)=>{Object.defineProperty(lT,"__esModule",{value:!0});lT.AttributeNames=lT.PgInstrumentation=void 0;var tB4=Qk1();Object.defineProperty(lT,"PgInstrumentation",{enumerable:!0,get:function(){return tB4.PgInstrumentation}});var eB4=ll();Object.defineProperty(lT,"AttributeNames",{enumerable:!0,get:function(){return eB4.AttributeNames}})});var rl=q((zk1)=>{Object.defineProperty(zk1,"__esModule",{value:!0});zk1.PACKAGE_NAME=zk1.PACKAGE_VERSION=void 0;zk1.PACKAGE_VERSION="0.58.0";zk1.PACKAGE_NAME="@opentelemetry/instrumentation-pino"});var Fk1=q((Bk1)=>{Object.defineProperty(Bk1,"__esModule",{value:!0});Bk1.OTelPinoStream=Bk1.getTimeConverter=void 0;var Xq4=C("stream"),o4=F5(),Ok1=rl(),Zq4=k1(),rH={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},Wq4={[rH.trace]:o4.SeverityNumber.TRACE,[rH.debug]:o4.SeverityNumber.DEBUG,[rH.info]:o4.SeverityNumber.INFO,[rH.warn]:o4.SeverityNumber.WARN,[rH.error]:o4.SeverityNumber.ERROR,[rH.fatal]:o4.SeverityNumber.FATAL},al=[o4.SeverityNumber.TRACE2,o4.SeverityNumber.TRACE3,o4.SeverityNumber.TRACE4,o4.SeverityNumber.DEBUG2,o4.SeverityNumber.DEBUG3,o4.SeverityNumber.DEBUG4,o4.SeverityNumber.INFO2,o4.SeverityNumber.INFO3,o4.SeverityNumber.INFO4,o4.SeverityNumber.WARN2,o4.SeverityNumber.WARN3,o4.SeverityNumber.WARN4,o4.SeverityNumber.ERROR2,o4.SeverityNumber.ERROR3,o4.SeverityNumber.ERROR4,o4.SeverityNumber.FATAL2,o4.SeverityNumber.FATAL3,o4.SeverityNumber.FATAL4];function $q4(Y){let J=Wq4[Y];if(J!==void 0)return J;let X=(Y-10)/60,Z=Math.floor(X*al.length),W=Math.min(al.length-1,Math.max(0,Z));return al[W]}function Gq4(Y,J){let X=J.stdTimeFunctions,Z=Y[J.symbols.timeSym];if(Z===X.epochTime)return(W)=>W;else if(Z===X.unixTime)return(W)=>W*1000;else if(Z===X.isoTime)return(W)=>new Date(W).getTime();else if(Z===X.nullTime)return()=>Date.now();else return()=>NaN}Bk1.getTimeConverter=Gq4;class Kk1 extends Xq4.Writable{constructor(Y){super();this._messageKey=Y.messageKey,this._levels=Y.levels,this._otelTimestampFromTime=Y.otelTimestampFromTime,this._otelLogger=o4.logs.getLogger(Ok1.PACKAGE_NAME,Ok1.PACKAGE_VERSION)}_write(Y,J,X){if(!Y)return;let Z;try{Z=JSON.parse(Y)}catch(D){this.emit("unknown",Y.toString(),D),X();return}if(Z===null){this.emit("unknown",Y.toString(),"Null value ignored"),X();return}if(typeof Z!=="object")Z={data:Z};let{time:W,[this._messageKey]:$,level:G,hostname:Q,pid:U,trace_id:z,span_id:H,trace_flags:O,...K}=Z,B=this._otelTimestampFromTime(W);if(isNaN(B))K.time=W,B=Date.now();let F=(0,Zq4.millisToHrTime)(B),V=this.lastLevel,I={timestamp:F,observedTimestamp:F,severityNumber:$q4(V),severityText:this._levels.labels[V],body:$,attributes:K};this._otelLogger.emit(I),X()}}Bk1.OTelPinoStream=Kk1});var Pk1=q((wk1)=>{Object.defineProperty(wk1,"__esModule",{value:!0});wk1.PinoInstrumentation=void 0;var pT=t(),sl=t1(),Vk1=rl(),Ik1=Fk1(),Uq4=[">=5.14.0 <11"],zq4={traceId:"trace_id",spanId:"span_id",traceFlags:"trace_flags"};class Dk1 extends sl.InstrumentationBase{constructor(Y={}){super(Vk1.PACKAGE_NAME,Vk1.PACKAGE_VERSION,Y)}init(){return[new sl.InstrumentationNodeModuleDefinition("pino",Uq4,(Y)=>{let J=Y[Symbol.toStringTag]==="Module",X=J?Y.default:Y,Z=this,W=Object.assign((...$)=>{let G=Z.getConfig(),Q=Z.isEnabled(),U=X(...$),z=Z._getMixinFunction(),H=X.symbols.mixinSym,O=U[H];if(O===void 0)U[H]=z;else U[H]=(K,B,...F)=>{return Object.assign(z(K,B),O(K,B,...F))};if(Q&&!G.disableLogSending&&typeof X.multistream==="function"){let K=(0,Ik1.getTimeConverter)(U,X),B=new Ik1.OTelPinoStream({messageKey:U[X.symbols.messageKeySym],levels:U.levels,otelTimestampFromTime:K});B[Symbol.for("pino.metadata")]=!0,B.once("unknown",(V,I)=>{Z._diag.warn("could not send pino log line (will only log first occurrence)",{line:V,err:I})});let F=U[X.symbols.streamSym];U[X.symbols.streamSym]=X.multistream([{level:0,stream:F},{level:0,stream:B}],{levels:U.levels.values})}return U},X);if(typeof W.pino==="function")W.pino=W;if(typeof W.default==="function")W.default=W;if(J){if(Y.pino)Y.pino=W;Y.default=W}return W})]}_callHook(Y,J,X){let{logHook:Z}=this.getConfig();if(!Z)return;(0,sl.safeExecuteInTheMiddle)(()=>Z(Y,J,X),(W)=>{if(W)pT.diag.error("pino instrumentation: error calling logHook",W)},!0)}_getMixinFunction(){let Y=this;return function(X,Z){if(!Y.isEnabled()||Y.getConfig().disableLogCorrelation)return{};let W=pT.trace.getSpan(pT.context.active());if(!W)return{};let $=W.spanContext();if(!(0,pT.isSpanContextValid)($))return{};let G=Y.getConfig().logKeys??zq4,Q={[G.traceId]:$.traceId,[G.spanId]:$.spanId,[G.traceFlags]:`0${$.traceFlags.toString(16)}`};return Y._callHook(W,Q,Z),Q}}}wk1.PinoInstrumentation=Dk1});var Lk1=q((tl)=>{Object.defineProperty(tl,"__esModule",{value:!0});tl.PinoInstrumentation=void 0;var Hq4=Pk1();Object.defineProperty(tl,"PinoInstrumentation",{enumerable:!0,get:function(){return Hq4.PinoInstrumentation}})});var nT=q((Mk1)=>{Object.defineProperty(Mk1,"__esModule",{value:!0});Mk1.PACKAGE_NAME=Mk1.PACKAGE_VERSION=void 0;Mk1.PACKAGE_VERSION="0.60.0";Mk1.PACKAGE_NAME="@opentelemetry/instrumentation-redis"});var Nk1=q((Tk1)=>{Object.defineProperty(Tk1,"__esModule",{value:!0});Tk1.getTracedCreateStreamTrace=Tk1.getTracedCreateClient=Tk1.endSpan=void 0;var zV=t(),Bq4=(Y,J)=>{if(J)Y.setStatus({code:zV.SpanStatusCode.ERROR,message:J.message});Y.end()};Tk1.endSpan=Bq4;var qq4=(Y)=>{return function(){let X=Y.apply(this,arguments);return zV.context.bind(zV.context.active(),X)}};Tk1.getTracedCreateClient=qq4;var Fq4=(Y)=>{return function(){if(!Object.prototype.hasOwnProperty.call(this,"stream"))Object.defineProperty(this,"stream",{get(){return this._patched_redis_stream},set(X){zV.context.bind(zV.context.active(),X),this._patched_redis_stream=X}});return Y.apply(this,arguments)}};Tk1.getTracedCreateStreamTrace=Fq4});var iT=q((Sk1)=>{Object.defineProperty(Sk1,"__esModule",{value:!0});Sk1.DB_SYSTEM_VALUE_REDIS=Sk1.DB_SYSTEM_NAME_VALUE_REDIS=Sk1.ATTR_NET_PEER_PORT=Sk1.ATTR_NET_PEER_NAME=Sk1.ATTR_DB_SYSTEM=Sk1.ATTR_DB_STATEMENT=Sk1.ATTR_DB_CONNECTION_STRING=void 0;Sk1.ATTR_DB_CONNECTION_STRING="db.connection_string";Sk1.ATTR_DB_STATEMENT="db.statement";Sk1.ATTR_DB_SYSTEM="db.system";Sk1.ATTR_NET_PEER_NAME="net.peer.name";Sk1.ATTR_NET_PEER_PORT="net.peer.port";Sk1.DB_SYSTEM_NAME_VALUE_REDIS="redis";Sk1.DB_SYSTEM_VALUE_REDIS="redis"});var el=q((jk1)=>{Object.defineProperty(jk1,"__esModule",{value:!0});jk1.defaultDbStatementSerializer=void 0;var Eq4=[{regex:/^ECHO/i,args:0},{regex:/^(LPUSH|MSET|PFA|PUBLISH|RPUSH|SADD|SET|SPUBLISH|XADD|ZADD)/i,args:1},{regex:/^(HSET|HMSET|LSET|LINSERT)/i,args:2},{regex:/^(ACL|BIT|B[LRZ]|CLIENT|CLUSTER|CONFIG|COMMAND|DECR|DEL|EVAL|EX|FUNCTION|GEO|GET|HINCR|HMGET|HSCAN|INCR|L[TRLM]|MEMORY|P[EFISTU]|RPOP|S[CDIMORSU]|XACK|X[CDGILPRT]|Z[CDILMPRS])/i,args:-1}],Tq4=(Y,J)=>{if(Array.isArray(J)&&J.length){let X=Eq4.find(({regex:W})=>{return W.test(Y)})?.args??0,Z=X>=0?J.slice(0,X):J;if(J.length>Z.length)Z.push(`[${J.length-X} other arguments]`);return`${Y} ${Z.join(" ")}`}return Y};jk1.defaultDbStatementSerializer=Tq4});var vk1=q((xk1)=>{Object.defineProperty(xk1,"__esModule",{value:!0});xk1.RedisInstrumentationV2_V3=void 0;var z7=t1(),oT=Nk1(),_k1=nT(),HV=t(),OV=X0(),HQ=iT(),Rq4=el();class Yp extends z7.InstrumentationBase{static COMPONENT="redis";_semconvStability;constructor(Y={}){super(_k1.PACKAGE_NAME,_k1.PACKAGE_VERSION,Y);this._semconvStability=Y.semconvStability?Y.semconvStability:(0,z7.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}setConfig(Y={}){super.setConfig(Y),this._semconvStability=Y.semconvStability?Y.semconvStability:(0,z7.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}init(){return[new z7.InstrumentationNodeModuleDefinition("redis",[">=2.6.0 <4"],(Y)=>{if((0,z7.isWrapped)(Y.RedisClient.prototype.internal_send_command))this._unwrap(Y.RedisClient.prototype,"internal_send_command");if(this._wrap(Y.RedisClient.prototype,"internal_send_command",this._getPatchInternalSendCommand()),(0,z7.isWrapped)(Y.RedisClient.prototype.create_stream))this._unwrap(Y.RedisClient.prototype,"create_stream");if(this._wrap(Y.RedisClient.prototype,"create_stream",this._getPatchCreateStream()),(0,z7.isWrapped)(Y.createClient))this._unwrap(Y,"createClient");return this._wrap(Y,"createClient",this._getPatchCreateClient()),Y},(Y)=>{if(Y===void 0)return;this._unwrap(Y.RedisClient.prototype,"internal_send_command"),this._unwrap(Y.RedisClient.prototype,"create_stream"),this._unwrap(Y,"createClient")})]}_getPatchInternalSendCommand(){let Y=this;return function(X){return function(W){if(arguments.length!==1||typeof W!=="object")return X.apply(this,arguments);let $=Y.getConfig(),G=HV.trace.getSpan(HV.context.active())===void 0;if($.requireParentSpan===!0&&G)return X.apply(this,arguments);let Q=$?.dbStatementSerializer||Rq4.defaultDbStatementSerializer,U={};if(Y._semconvStability&z7.SemconvStability.OLD)Object.assign(U,{[HQ.ATTR_DB_SYSTEM]:HQ.DB_SYSTEM_VALUE_REDIS,[HQ.ATTR_DB_STATEMENT]:Q(W.command,W.args)});if(Y._semconvStability&z7.SemconvStability.STABLE)Object.assign(U,{[OV.ATTR_DB_SYSTEM_NAME]:HQ.DB_SYSTEM_NAME_VALUE_REDIS,[OV.ATTR_DB_OPERATION_NAME]:W.command,[OV.ATTR_DB_QUERY_TEXT]:Q(W.command,W.args)});let z=Y.tracer.startSpan(`${Yp.COMPONENT}-${W.command}`,{kind:HV.SpanKind.CLIENT,attributes:U});if(this.connection_options){let O={};if(Y._semconvStability&z7.SemconvStability.OLD)Object.assign(O,{[HQ.ATTR_NET_PEER_NAME]:this.connection_options.host,[HQ.ATTR_NET_PEER_PORT]:this.connection_options.port});if(Y._semconvStability&z7.SemconvStability.STABLE)Object.assign(O,{[OV.ATTR_SERVER_ADDRESS]:this.connection_options.host,[OV.ATTR_SERVER_PORT]:this.connection_options.port});z.setAttributes(O)}if(this.address&&Y._semconvStability&z7.SemconvStability.OLD)z.setAttribute(HQ.ATTR_DB_CONNECTION_STRING,`redis://${this.address}`);let H=arguments[0].callback;if(H){let O=HV.context.active();arguments[0].callback=function(B,F){if($?.responseHook){let V=$.responseHook;(0,z7.safeExecuteInTheMiddle)(()=>{V(z,W.command,W.args,F)},(I)=>{if(I)Y._diag.error("Error executing responseHook",I)},!0)}return(0,oT.endSpan)(z,B),HV.context.with(O,H,this,...arguments)}}try{return X.apply(this,arguments)}catch(O){throw(0,oT.endSpan)(z,O),O}}}}_getPatchCreateClient(){return function(J){return(0,oT.getTracedCreateClient)(J)}}_getPatchCreateStream(){return function(J){return(0,oT.getTracedCreateStreamTrace)(J)}}}xk1.RedisInstrumentationV2_V3=Yp});var gk1=q((bk1)=>{Object.defineProperty(bk1,"__esModule",{value:!0});bk1.getClientAttributes=void 0;var Jp=X0(),aH=iT(),hk1=t1();function Nq4(Y,J,X){let Z={};if(X&hk1.SemconvStability.OLD)Object.assign(Z,{[aH.ATTR_DB_SYSTEM]:aH.DB_SYSTEM_VALUE_REDIS,[aH.ATTR_NET_PEER_NAME]:J?.socket?.host,[aH.ATTR_NET_PEER_PORT]:J?.socket?.port,[aH.ATTR_DB_CONNECTION_STRING]:Sq4(Y,J?.url)});if(X&hk1.SemconvStability.STABLE)Object.assign(Z,{[Jp.ATTR_DB_SYSTEM_NAME]:aH.DB_SYSTEM_NAME_VALUE_REDIS,[Jp.ATTR_SERVER_ADDRESS]:J?.socket?.host,[Jp.ATTR_SERVER_PORT]:J?.socket?.port});return Z}bk1.getClientAttributes=Nq4;function Sq4(Y,J){if(typeof J!=="string"||!J)return;try{let X=new URL(J);return X.searchParams.delete("user_pwd"),X.username="",X.password="",X.href}catch(X){Y.error("failed to sanitize redis connection url",X)}return}});var pk1=q((ck1)=>{Object.defineProperty(ck1,"__esModule",{value:!0});ck1.RedisInstrumentationV4_V5=void 0;var p7=t(),r4=t1(),uk1=gk1(),Cq4=el(),mk1=nT(),Xp=X0(),jq4=iT(),KV=Symbol("opentelemetry.instrumentation.redis.open_spans"),dk1=Symbol("opentelemetry.instrumentation.redis.multi_command_options");class rT extends r4.InstrumentationBase{static COMPONENT="redis";_semconvStability;constructor(Y={}){super(mk1.PACKAGE_NAME,mk1.PACKAGE_VERSION,Y);this._semconvStability=Y.semconvStability?Y.semconvStability:(0,r4.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}setConfig(Y={}){super.setConfig(Y),this._semconvStability=Y.semconvStability?Y.semconvStability:(0,r4.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}init(){return[this._getInstrumentationNodeModuleDefinition("@redis/client"),this._getInstrumentationNodeModuleDefinition("@node-redis/client")]}_getInstrumentationNodeModuleDefinition(Y){let J=new r4.InstrumentationNodeModuleFile(`${Y}/dist/lib/commander.js`,["^1.0.0"],(W,$)=>{let G=W.transformCommandArguments;if(!G)return this._diag.error("internal instrumentation error, missing transformCommandArguments function"),W;let Q=$?.startsWith("1.0.")?"extendWithCommands":"attachCommands";if((0,r4.isWrapped)(W?.[Q]))this._unwrap(W,Q);return this._wrap(W,Q,this._getPatchExtendWithCommands(G)),W},(W)=>{if((0,r4.isWrapped)(W?.extendWithCommands))this._unwrap(W,"extendWithCommands");if((0,r4.isWrapped)(W?.attachCommands))this._unwrap(W,"attachCommands")}),X=new r4.InstrumentationNodeModuleFile(`${Y}/dist/lib/client/multi-command.js`,["^1.0.0","^5.0.0"],(W)=>{let $=W?.default?.prototype;if((0,r4.isWrapped)($?.exec))this._unwrap($,"exec");if(this._wrap($,"exec",this._getPatchMultiCommandsExec(!1)),(0,r4.isWrapped)($?.execAsPipeline))this._unwrap($,"execAsPipeline");if(this._wrap($,"execAsPipeline",this._getPatchMultiCommandsExec(!0)),(0,r4.isWrapped)($?.addCommand))this._unwrap($,"addCommand");return this._wrap($,"addCommand",this._getPatchMultiCommandsAddCommand()),W},(W)=>{let $=W?.default?.prototype;if((0,r4.isWrapped)($?.exec))this._unwrap($,"exec");if((0,r4.isWrapped)($?.addCommand))this._unwrap($,"addCommand")}),Z=new r4.InstrumentationNodeModuleFile(`${Y}/dist/lib/client/index.js`,["^1.0.0","^5.0.0"],(W)=>{let $=W?.default?.prototype;if($?.multi){if((0,r4.isWrapped)($?.multi))this._unwrap($,"multi");this._wrap($,"multi",this._getPatchRedisClientMulti())}if($?.MULTI){if((0,r4.isWrapped)($?.MULTI))this._unwrap($,"MULTI");this._wrap($,"MULTI",this._getPatchRedisClientMulti())}if((0,r4.isWrapped)($?.sendCommand))this._unwrap($,"sendCommand");return this._wrap($,"sendCommand",this._getPatchRedisClientSendCommand()),this._wrap($,"connect",this._getPatchedClientConnect()),W},(W)=>{let $=W?.default?.prototype;if((0,r4.isWrapped)($?.multi))this._unwrap($,"multi");if((0,r4.isWrapped)($?.MULTI))this._unwrap($,"MULTI");if((0,r4.isWrapped)($?.sendCommand))this._unwrap($,"sendCommand")});return new r4.InstrumentationNodeModuleDefinition(Y,["^1.0.0","^5.0.0"],(W)=>{return W},()=>{},[J,X,Z])}_getPatchExtendWithCommands(Y){let J=this;return function(Z){return function($){if($?.BaseClass?.name!=="RedisClient")return Z.apply(this,arguments);let G=$.executor;return $.executor=function(Q,U){let z=Y(Q,U).args;return J._traceClientCommand(G,this,arguments,z)},Z.apply(this,arguments)}}}_getPatchMultiCommandsExec(Y){let J=this;return function(Z){return function(){let $=Z.apply(this,arguments);if(typeof $?.then!=="function")return J._diag.error("non-promise result when patching exec/execAsPipeline"),$;return $.then((G)=>{let Q=this[KV];return J._endSpansWithRedisReplies(Q,G,Y),G}).catch((G)=>{let Q=this[KV];if(!Q)J._diag.error("cannot find open spans to end for multi/pipeline");else{let U=G.constructor.name==="MultiErrorReply"?G.replies:Array(Q.length).fill(G);J._endSpansWithRedisReplies(Q,U,Y)}return Promise.reject(G)})}}}_getPatchMultiCommandsAddCommand(){let Y=this;return function(X){return function(W){return Y._traceClientCommand(X,this,arguments,W)}}}_getPatchRedisClientMulti(){return function(J){return function(){let Z=J.apply(this,arguments);return Z[dk1]=this.options,Z}}}_getPatchRedisClientSendCommand(){let Y=this;return function(X){return function(W){return Y._traceClientCommand(X,this,arguments,W)}}}_getPatchedClientConnect(){let Y=this;return function(X){return function(){let W=this.options,$=(0,uk1.getClientAttributes)(Y._diag,W,Y._semconvStability),G=Y.tracer.startSpan(`${rT.COMPONENT}-connect`,{kind:p7.SpanKind.CLIENT,attributes:$});return p7.context.with(p7.trace.setSpan(p7.context.active(),G),()=>{return X.apply(this)}).then((U)=>{return G.end(),U}).catch((U)=>{return G.recordException(U),G.setStatus({code:p7.SpanStatusCode.ERROR,message:U.message}),G.end(),Promise.reject(U)})}}}_traceClientCommand(Y,J,X,Z){if(p7.trace.getSpan(p7.context.active())===void 0&&this.getConfig().requireParentSpan)return Y.apply(J,X);let $=J.options||J[dk1],G=Z[0],Q=Z.slice(1),U=this.getConfig().dbStatementSerializer||Cq4.defaultDbStatementSerializer,z=(0,uk1.getClientAttributes)(this._diag,$,this._semconvStability);if(this._semconvStability&r4.SemconvStability.STABLE)z[Xp.ATTR_DB_OPERATION_NAME]=G;try{let K=U(G,Q);if(K!=null){if(this._semconvStability&r4.SemconvStability.OLD)z[jq4.ATTR_DB_STATEMENT]=K;if(this._semconvStability&r4.SemconvStability.STABLE)z[Xp.ATTR_DB_QUERY_TEXT]=K}}catch(K){this._diag.error("dbStatementSerializer throw an exception",K,{commandName:G})}let H=this.tracer.startSpan(`${rT.COMPONENT}-${G}`,{kind:p7.SpanKind.CLIENT,attributes:z}),O=p7.context.with(p7.trace.setSpan(p7.context.active(),H),()=>{return Y.apply(J,X)});if(typeof O?.then==="function")O.then((K)=>{this._endSpanWithResponse(H,G,Q,K,void 0)},(K)=>{this._endSpanWithResponse(H,G,Q,null,K)});else{let K=O;K[KV]=K[KV]||[],K[KV].push({span:H,commandName:G,commandArgs:Q})}return O}_endSpansWithRedisReplies(Y,J,X=!1){if(!Y)return this._diag.error("cannot find open spans to end for redis multi/pipeline");if(J.length!==Y.length)return this._diag.error("number of multi command spans does not match response from redis");let Z=Y.map((G)=>G.commandName),$=Z.every((G)=>G===Z[0])?(X?"PIPELINE ":"MULTI ")+Z[0]:X?"PIPELINE":"MULTI";for(let G=0;G<Y.length;G++){let{span:Q,commandArgs:U}=Y[G],z=J[G],[H,O]=z instanceof Error?[null,z]:[z,void 0];if(this._semconvStability&r4.SemconvStability.STABLE)Q.setAttribute(Xp.ATTR_DB_OPERATION_NAME,$);this._endSpanWithResponse(Q,Z[G],U,H,O)}}_endSpanWithResponse(Y,J,X,Z,W){let{responseHook:$}=this.getConfig();if(!W&&$)try{$(Y,J,X,Z)}catch(G){this._diag.error("responseHook throw an exception",G)}if(W)Y.recordException(W),Y.setStatus({code:p7.SpanStatusCode.ERROR,message:W?.message});Y.end()}}ck1.RedisInstrumentationV4_V5=rT});var sk1=q((rk1)=>{Object.defineProperty(rk1,"__esModule",{value:!0});rk1.RedisInstrumentation=void 0;var kq4=t1(),nk1=nT(),_q4=vk1(),xq4=pk1(),ik1={requireParentSpan:!1};class ok1 extends kq4.InstrumentationBase{instrumentationV2_V3;instrumentationV4_V5;initialized=!1;constructor(Y={}){let J={...ik1,...Y};super(nk1.PACKAGE_NAME,nk1.PACKAGE_VERSION,J);this.instrumentationV2_V3=new _q4.RedisInstrumentationV2_V3(this.getConfig()),this.instrumentationV4_V5=new xq4.RedisInstrumentationV4_V5(this.getConfig()),this.initialized=!0}setConfig(Y={}){let J={...ik1,...Y};if(super.setConfig(J),!this.initialized)return;this.instrumentationV2_V3.setConfig(J),this.instrumentationV4_V5.setConfig(J)}init(){}getModuleDefinitions(){return[...this.instrumentationV2_V3.getModuleDefinitions(),...this.instrumentationV4_V5.getModuleDefinitions()]}setTracerProvider(Y){if(super.setTracerProvider(Y),!this.initialized)return;this.instrumentationV2_V3.setTracerProvider(Y),this.instrumentationV4_V5.setTracerProvider(Y)}enable(){if(super.enable(),!this.initialized)return;this.instrumentationV2_V3.enable(),this.instrumentationV4_V5.enable()}disable(){if(super.disable(),!this.initialized)return;this.instrumentationV2_V3.disable(),this.instrumentationV4_V5.disable()}}rk1.RedisInstrumentation=ok1});var tk1=q((Zp)=>{Object.defineProperty(Zp,"__esModule",{value:!0});Zp.RedisInstrumentation=void 0;var fq4=sk1();Object.defineProperty(Zp,"RedisInstrumentation",{enumerable:!0,get:function(){return fq4.RedisInstrumentation}})});var $p=q((ek1)=>{Object.defineProperty(ek1,"__esModule",{value:!0});ek1.LayerType=void 0;var hq4;(function(Y){Y.MIDDLEWARE="middleware",Y.REQUEST_HANDLER="request_handler"})(hq4=ek1.LayerType||(ek1.LayerType={}))});var Qp=q((Y_1)=>{Object.defineProperty(Y_1,"__esModule",{value:!0});Y_1.AttributeNames=void 0;var bq4;(function(Y){Y.TYPE="restify.type",Y.NAME="restify.name",Y.METHOD="restify.method",Y.VERSION="restify.version"})(bq4=Y_1.AttributeNames||(Y_1.AttributeNames={}))});var Z_1=q((J_1)=>{Object.defineProperty(J_1,"__esModule",{value:!0});J_1.PACKAGE_NAME=J_1.PACKAGE_VERSION=void 0;J_1.PACKAGE_VERSION="0.57.0";J_1.PACKAGE_NAME="@opentelemetry/instrumentation-restify"});var G_1=q((W_1)=>{Object.defineProperty(W_1,"__esModule",{value:!0});W_1.MODULE_NAME=W_1.RESTIFY_METHODS=W_1.RESTIFY_MW_METHODS=void 0;W_1.RESTIFY_MW_METHODS=["use","pre"];W_1.RESTIFY_METHODS=["del","get","head","opts","post","put","patch"];W_1.MODULE_NAME="restify"});var z_1=q((Q_1)=>{Object.defineProperty(Q_1,"__esModule",{value:!0});Q_1.isAsyncFunction=Q_1.isPromise=void 0;var mq4=(Y)=>{return!!(Y&&typeof Y.then==="function"&&typeof Y.catch==="function"&&Y.toString()==="[object Promise]")};Q_1.isPromise=mq4;var dq4=(Y)=>{return!!(Y&&typeof Y==="function"&&Y.constructor?.name==="AsyncFunction")};Q_1.isAsyncFunction=dq4});var I_1=q((F_1)=>{Object.defineProperty(F_1,"__esModule",{value:!0});F_1.RestifyInstrumentation=void 0;var BV=t(),Up=$p(),aT=Qp(),H_1=Z_1(),qV=G_1(),sH=t1(),lq4=X0(),O_1=z_1(),K_1=k1(),B_1=[">=4.1.0 <12"];class q_1 extends sH.InstrumentationBase{constructor(Y={}){super(H_1.PACKAGE_NAME,H_1.PACKAGE_VERSION,Y)}_moduleVersion;_isDisabled=!1;init(){let Y=new sH.InstrumentationNodeModuleDefinition(qV.MODULE_NAME,B_1,(J,X)=>{return this._moduleVersion=X,J});return Y.files.push(new sH.InstrumentationNodeModuleFile("restify/lib/server.js",B_1,(J)=>{this._isDisabled=!1;let X=J;for(let Z of qV.RESTIFY_METHODS){if((0,sH.isWrapped)(X.prototype[Z]))this._unwrap(X.prototype,Z);this._wrap(X.prototype,Z,this._methodPatcher.bind(this))}for(let Z of qV.RESTIFY_MW_METHODS){if((0,sH.isWrapped)(X.prototype[Z]))this._unwrap(X.prototype,Z);this._wrap(X.prototype,Z,this._middlewarePatcher.bind(this))}return J},(J)=>{if(this._isDisabled=!0,J){let X=J;for(let Z of qV.RESTIFY_METHODS)this._unwrap(X.prototype,Z);for(let Z of qV.RESTIFY_MW_METHODS)this._unwrap(X.prototype,Z)}})),Y}_middlewarePatcher(Y,J){let X=this;return function(...Z){return Y.call(this,X._handlerPatcher({type:Up.LayerType.MIDDLEWARE,methodName:J},Z))}}_methodPatcher(Y,J){let X=this;return function(Z,...W){return Y.call(this,Z,...X._handlerPatcher({type:Up.LayerType.REQUEST_HANDLER,path:Z,methodName:J},W))}}_handlerPatcher(Y,J){if(Array.isArray(J))return J.map((X)=>this._handlerPatcher(Y,X));if(typeof J==="function")return(X,Z,W)=>{if(this._isDisabled)return J(X,Z,W);let $=typeof X.getRoute==="function"?X.getRoute()?.path:X.route?.path,G=(0,K_1.getRPCMetadata)(BV.context.active());if(G?.type===K_1.RPCType.HTTP)G.route=$;let Q=J.name||void 0,U=Y.type===Up.LayerType.REQUEST_HANDLER?`request handler - ${$}`:`middleware - ${Q||"anonymous"}`,z={[aT.AttributeNames.NAME]:Q,[aT.AttributeNames.VERSION]:this._moduleVersion||"n/a",[aT.AttributeNames.TYPE]:Y.type,[aT.AttributeNames.METHOD]:Y.methodName,[lq4.ATTR_HTTP_ROUTE]:$},H=this.tracer.startSpan(U,{attributes:z},BV.context.active()),O=this,{requestHook:K}=O.getConfig();if(K)(0,sH.safeExecuteInTheMiddle)(()=>{return K(H,{request:X,layerType:Y.type})},(I)=>{if(I)O._diag.error("request hook failed",I)},!0);let B=(I)=>{H.end(),W(I)};B.ifError=W.ifError;let F=(I)=>{return I.then((D)=>{return H.end(),D}).catch((D)=>{throw H.recordException(D),H.end(),D})},V=BV.trace.setSpan(BV.context.active(),H);return BV.context.with(V,(I,D,L)=>{if((0,O_1.isAsyncFunction)(J))return F(J(I,D,L));try{let A=J(I,D,L);if((0,O_1.isPromise)(A))return F(A);return H.end(),A}catch(A){throw H.recordException(A),H.end(),A}},this,X,Z,B)};return J}}F_1.RestifyInstrumentation=q_1});var D_1=q((FV)=>{Object.defineProperty(FV,"__esModule",{value:!0});FV.LayerType=FV.AttributeNames=FV.RestifyInstrumentation=void 0;var pq4=I_1();Object.defineProperty(FV,"RestifyInstrumentation",{enumerable:!0,get:function(){return pq4.RestifyInstrumentation}});var nq4=Qp();Object.defineProperty(FV,"AttributeNames",{enumerable:!0,get:function(){return nq4.AttributeNames}});var iq4=$p();Object.defineProperty(FV,"LayerType",{enumerable:!0,get:function(){return iq4.LayerType}})});var P_1=q((w_1)=>{Object.defineProperty(w_1,"__esModule",{value:!0});w_1.PACKAGE_NAME=w_1.PACKAGE_VERSION=void 0;w_1.PACKAGE_VERSION="0.56.0";w_1.PACKAGE_NAME="@opentelemetry/instrumentation-router"});var zp=q((L_1)=>{Object.defineProperty(L_1,"__esModule",{value:!0});L_1.ROUTER_HANDLE_FN=L_1.ROUTE_ROUTER_FN=L_1.MODULE_NAME=void 0;L_1.MODULE_NAME="router";L_1.ROUTE_ROUTER_FN=`function router(req, res, next) {
    router.handle(req, res, next)
  }`;L_1.ROUTER_HANDLE_FN=`function handle(req, res, next) {
    route.dispatch(req, res, next)
  }`});var N_1=q((T_1)=>{Object.defineProperty(T_1,"__esModule",{value:!0});T_1.once=T_1.renameHttpSpan=T_1.isInternal=void 0;var E_1=zp(),tq4=(Y)=>{if(Y.name==="handle"&&Y.toString()===E_1.ROUTER_HANDLE_FN)return!0;if(Y.name==="router"&&Y.toString()===E_1.ROUTE_ROUTER_FN)return!0;return!1};T_1.isInternal=tq4;var eq4=(Y,J,X)=>{if(typeof J==="string"&&typeof X==="string"&&Y?.name?.startsWith("HTTP "))Y.updateName(`${J.toUpperCase()} ${X}`)};T_1.renameHttpSpan=eq4;var YF4=(Y)=>{let J=!0;return()=>{if(J)J=!1,Y()}};T_1.once=YF4});var Op=q((C_1)=>{Object.defineProperty(C_1,"__esModule",{value:!0});C_1.AttributeNames=void 0;var S_1;(function(Y){Y.TYPE="router.type",Y.NAME="router.name",Y.METHOD="router.method",Y.VERSION="router.version"})(S_1=C_1.AttributeNames||(C_1.AttributeNames={}));C_1.default=S_1});var __1=q((k_1)=>{Object.defineProperty(k_1,"__esModule",{value:!0});k_1.LayerType=void 0;var j_1;(function(Y){Y.MIDDLEWARE="middleware",Y.REQUEST_HANDLER="request_handler"})(j_1=k_1.LayerType||(k_1.LayerType={}));k_1.default=j_1});var y_1=q((h_1)=>{Object.defineProperty(h_1,"__esModule",{value:!0});h_1.RouterInstrumentation=void 0;var tH=t(),VV=t1(),$F4=X0(),x_1=P_1(),GF4=zp(),sT=N_1(),Bp=Op(),qp=__1(),f_1=[">=1.0.0 <2"];class v_1 extends VV.InstrumentationBase{constructor(Y={}){super(x_1.PACKAGE_NAME,x_1.PACKAGE_VERSION,Y)}_moduleVersion;init(){let Y=new VV.InstrumentationNodeModuleDefinition(GF4.MODULE_NAME,f_1,(J,X)=>{return this._moduleVersion=X,J});return Y.files.push(new VV.InstrumentationNodeModuleFile("router/lib/layer.js",f_1,(J)=>{let X=J;if((0,VV.isWrapped)(X.prototype.handle_request))this._unwrap(X.prototype,"handle_request");if(this._wrap(X.prototype,"handle_request",this._requestHandlerPatcher.bind(this)),(0,VV.isWrapped)(X.prototype.handle_error))this._unwrap(X.prototype,"handle_error");return this._wrap(X.prototype,"handle_error",this._errorHandlerPatcher.bind(this)),J},(J)=>{let X=J;return this._unwrap(X.prototype,"handle_request"),this._unwrap(X.prototype,"handle_error"),J})),Y}_requestHandlerPatcher(Y){let J=this;return function(Z,W,$){if(sT.isInternal(this.handle)||this.handle.length>3)return Y.call(this,Z,W,$);let{context:G,wrappedNext:Q}=J._setupSpan(this,Z,W,$);return tH.context.with(G,Y,this,Z,W,Q)}}_errorHandlerPatcher(Y){let J=this;return function(Z,W,$,G){if(sT.isInternal(this.handle)||this.handle.length!==4)return Y.call(this,Z,W,$,G);let{context:Q,wrappedNext:U}=J._setupSpan(this,W,$,G);return tH.context.with(Q,Y,this,Z,W,$,U)}}_setupSpan(Y,J,X,Z){let W=Y.handle.name||"<anonymous>",$=Y.method?qp.default.REQUEST_HANDLER:qp.default.MIDDLEWARE,G=J.baseUrl+(J.route?.path??"")||"/",Q=$===qp.default.REQUEST_HANDLER?`request handler - ${G}`:`middleware - ${W}`,U={[Bp.default.NAME]:W,[Bp.default.VERSION]:this._moduleVersion,[Bp.default.TYPE]:$,[$F4.ATTR_HTTP_ROUTE]:G},z=tH.context.active(),H=tH.trace.getSpan(z),O=this.tracer.startSpan(Q,{attributes:U},z),K=sT.once(O.end.bind(O));sT.renameHttpSpan(H,Y.method,G),X.prependOnceListener("finish",K);let B=(F)=>{if(F)O.recordException(F);if(K(),z)return tH.context.with(z,Z,void 0,F);return Z(F)};return{context:tH.trace.setSpan(z,O),wrappedNext:B}}}h_1.RouterInstrumentation=v_1});var g_1=q((tT)=>{Object.defineProperty(tT,"__esModule",{value:!0});tT.AttributeNames=tT.RouterInstrumentation=void 0;var QF4=y_1();Object.defineProperty(tT,"RouterInstrumentation",{enumerable:!0,get:function(){return QF4.RouterInstrumentation}});var UF4=Op();Object.defineProperty(tT,"AttributeNames",{enumerable:!0,get:function(){return UF4.AttributeNames}})});var eH=q((m_1)=>{Object.defineProperty(m_1,"__esModule",{value:!0});m_1.BaseCollector=void 0;class u_1{_config={};constructor(Y={}){this._config=Y}disable(){this._config.enabled=!1,this.internalDisable()}enable(){this._config.enabled=!0,this.internalEnable()}}m_1.BaseCollector=u_1});var YO=q((c_1)=>{Object.defineProperty(c_1,"__esModule",{value:!0});c_1.NODEJS_EVENTLOOP_STATE_VALUE_IDLE=c_1.NODEJS_EVENTLOOP_STATE_VALUE_ACTIVE=c_1.METRIC_V8JS_MEMORY_HEAP_USED=c_1.METRIC_V8JS_MEMORY_HEAP_SPACE_PHYSICAL_SIZE=c_1.METRIC_V8JS_MEMORY_HEAP_SPACE_AVAILABLE_SIZE=c_1.METRIC_V8JS_MEMORY_HEAP_LIMIT=c_1.METRIC_V8JS_GC_DURATION=c_1.METRIC_NODEJS_EVENTLOOP_UTILIZATION=c_1.METRIC_NODEJS_EVENTLOOP_TIME=c_1.METRIC_NODEJS_EVENTLOOP_DELAY_STDDEV=c_1.METRIC_NODEJS_EVENTLOOP_DELAY_P99=c_1.METRIC_NODEJS_EVENTLOOP_DELAY_P90=c_1.METRIC_NODEJS_EVENTLOOP_DELAY_P50=c_1.METRIC_NODEJS_EVENTLOOP_DELAY_MIN=c_1.METRIC_NODEJS_EVENTLOOP_DELAY_MEAN=c_1.METRIC_NODEJS_EVENTLOOP_DELAY_MAX=c_1.ATTR_V8JS_HEAP_SPACE_NAME=c_1.ATTR_V8JS_GC_TYPE=c_1.ATTR_NODEJS_EVENTLOOP_STATE=void 0;c_1.ATTR_NODEJS_EVENTLOOP_STATE="nodejs.eventloop.state";c_1.ATTR_V8JS_GC_TYPE="v8js.gc.type";c_1.ATTR_V8JS_HEAP_SPACE_NAME="v8js.heap.space.name";c_1.METRIC_NODEJS_EVENTLOOP_DELAY_MAX="nodejs.eventloop.delay.max";c_1.METRIC_NODEJS_EVENTLOOP_DELAY_MEAN="nodejs.eventloop.delay.mean";c_1.METRIC_NODEJS_EVENTLOOP_DELAY_MIN="nodejs.eventloop.delay.min";c_1.METRIC_NODEJS_EVENTLOOP_DELAY_P50="nodejs.eventloop.delay.p50";c_1.METRIC_NODEJS_EVENTLOOP_DELAY_P90="nodejs.eventloop.delay.p90";c_1.METRIC_NODEJS_EVENTLOOP_DELAY_P99="nodejs.eventloop.delay.p99";c_1.METRIC_NODEJS_EVENTLOOP_DELAY_STDDEV="nodejs.eventloop.delay.stddev";c_1.METRIC_NODEJS_EVENTLOOP_TIME="nodejs.eventloop.time";c_1.METRIC_NODEJS_EVENTLOOP_UTILIZATION="nodejs.eventloop.utilization";c_1.METRIC_V8JS_GC_DURATION="v8js.gc.duration";c_1.METRIC_V8JS_MEMORY_HEAP_LIMIT="v8js.memory.heap.limit";c_1.METRIC_V8JS_MEMORY_HEAP_SPACE_AVAILABLE_SIZE="v8js.memory.heap.space.available_size";c_1.METRIC_V8JS_MEMORY_HEAP_SPACE_PHYSICAL_SIZE="v8js.memory.heap.space.physical_size";c_1.METRIC_V8JS_MEMORY_HEAP_USED="v8js.memory.heap.used";c_1.NODEJS_EVENTLOOP_STATE_VALUE_ACTIVE="active";c_1.NODEJS_EVENTLOOP_STATE_VALUE_IDLE="idle"});var o_1=q((n_1)=>{Object.defineProperty(n_1,"__esModule",{value:!0});n_1.EventLoopUtilizationCollector=void 0;var SF4=C("perf_hooks"),CF4=eH(),jF4=YO(),{eventLoopUtilization:Fp}=SF4.performance;class p_1 extends CF4.BaseCollector{_lastValue=Fp();updateMetricInstruments(Y){Y.createObservableGauge(jF4.METRIC_NODEJS_EVENTLOOP_UTILIZATION,{description:"Event loop utilization",unit:"1"}).addCallback(async(J)=>{if(!this._config.enabled)return;let X=Fp(),Z=Fp(X,this._lastValue);this._lastValue=X,J.observe(Z.utilization)})}internalDisable(){}internalEnable(){}}n_1.EventLoopUtilizationCollector=p_1});var t_1=q((a_1)=>{Object.defineProperty(a_1,"__esModule",{value:!0});a_1.EventLoopDelayCollector=void 0;var kF4=C("perf_hooks"),OQ=YO(),_F4=eH();class r_1 extends _F4.BaseCollector{_histogram;constructor(Y={}){super(Y);this._histogram=kF4.monitorEventLoopDelay({resolution:Y.monitoringPrecision})}updateMetricInstruments(Y){let J=Y.createObservableGauge(OQ.METRIC_NODEJS_EVENTLOOP_DELAY_MIN,{description:"Event loop minimum delay.",unit:"s"}),X=Y.createObservableGauge(OQ.METRIC_NODEJS_EVENTLOOP_DELAY_MAX,{description:"Event loop maximum delay.",unit:"s"}),Z=Y.createObservableGauge(OQ.METRIC_NODEJS_EVENTLOOP_DELAY_MEAN,{description:"Event loop mean delay.",unit:"s"}),W=Y.createObservableGauge(OQ.METRIC_NODEJS_EVENTLOOP_DELAY_STDDEV,{description:"Event loop standard deviation delay.",unit:"s"}),$=Y.createObservableGauge(OQ.METRIC_NODEJS_EVENTLOOP_DELAY_P50,{description:"Event loop 50 percentile delay.",unit:"s"}),G=Y.createObservableGauge(OQ.METRIC_NODEJS_EVENTLOOP_DELAY_P90,{description:"Event loop 90 percentile delay.",unit:"s"}),Q=Y.createObservableGauge(OQ.METRIC_NODEJS_EVENTLOOP_DELAY_P99,{description:"Event loop 99 percentile delay.",unit:"s"});Y.addBatchObservableCallback(async(U)=>{if(!this._config.enabled)return;let z=this.scrape();if(z===void 0)return;if(this._histogram.count<5)return;U.observe(J,z.min),U.observe(X,z.max),U.observe(Z,z.mean),U.observe(W,z.stddev),U.observe($,z.p50),U.observe(G,z.p90),U.observe(Q,z.p99),this._histogram.reset()},[J,X,Z,W,$,G,Q])}internalEnable(){this._histogram.enable()}internalDisable(){this._histogram.disable()}scrape(){return{min:this.checkNan(this._histogram.min/1e9),max:this.checkNan(this._histogram.max/1e9),mean:this.checkNan(this._histogram.mean/1e9),stddev:this.checkNan(this._histogram.stddev/1e9),p50:this.checkNan(this._histogram.percentile(50)/1e9),p90:this.checkNan(this._histogram.percentile(90)/1e9),p99:this.checkNan(this._histogram.percentile(99)/1e9)}}checkNan(Y){return isNaN(Y)?0:Y}}a_1.EventLoopDelayCollector=r_1});var Zx1=q((Jx1)=>{Object.defineProperty(Jx1,"__esModule",{value:!0});Jx1.GCCollector=void 0;var IV=C("perf_hooks"),xF4=t(),fF4=eH(),e_1=YO(),vF4=[0.01,0.1,1,10],JO=[];JO[IV.constants.NODE_PERFORMANCE_GC_MAJOR]="major";JO[IV.constants.NODE_PERFORMANCE_GC_MINOR]="minor";JO[IV.constants.NODE_PERFORMANCE_GC_INCREMENTAL]="incremental";JO[IV.constants.NODE_PERFORMANCE_GC_WEAKCB]="weakcb";class Yx1 extends fF4.BaseCollector{_gcDurationByKindHistogram;_observer;constructor(Y={}){super(Y);this._observer=new IV.PerformanceObserver((J)=>{if(!this._config.enabled)return;let X=J.getEntries()[0],Z=X.detail?JO[X.detail.kind]:JO[X.kind];this._gcDurationByKindHistogram?.record(X.duration/1000,{[e_1.ATTR_V8JS_GC_TYPE]:Z})})}updateMetricInstruments(Y){this._gcDurationByKindHistogram=Y.createHistogram(e_1.METRIC_V8JS_GC_DURATION,{description:"Garbage collection duration by kind, one of major, minor, incremental or weakcb.",unit:"s",valueType:xF4.ValueType.DOUBLE,advice:{explicitBucketBoundaries:vF4}})}internalEnable(){this._observer.observe({entryTypes:["gc"]})}internalDisable(){this._observer.disconnect()}}Jx1.GCCollector=Yx1});var Qx1=q(($x1)=>{Object.defineProperty($x1,"__esModule",{value:!0});$x1.HeapSpacesSizeAndUsedCollector=void 0;var hF4=C("v8"),bF4=eH(),CW=YO();class Wx1 extends bF4.BaseCollector{updateMetricInstruments(Y){let J=Y.createObservableGauge(CW.METRIC_V8JS_MEMORY_HEAP_LIMIT,{description:"Total heap memory size pre-allocated.",unit:"By"}),X=Y.createObservableGauge(CW.METRIC_V8JS_MEMORY_HEAP_USED,{description:"Heap Memory size allocated.",unit:"By"}),Z=Y.createObservableGauge(CW.METRIC_V8JS_MEMORY_HEAP_SPACE_AVAILABLE_SIZE,{description:"Heap space available size.",unit:"By"}),W=Y.createObservableGauge(CW.METRIC_V8JS_MEMORY_HEAP_SPACE_PHYSICAL_SIZE,{description:"Committed size of a heap space.",unit:"By"});Y.addBatchObservableCallback(($)=>{if(!this._config.enabled)return;let G=this.scrape();if(G===void 0)return;for(let Q of G){let U=Q.space_name;$.observe(J,Q.space_size,{[CW.ATTR_V8JS_HEAP_SPACE_NAME]:U}),$.observe(X,Q.space_used_size,{[CW.ATTR_V8JS_HEAP_SPACE_NAME]:U}),$.observe(Z,Q.space_available_size,{[CW.ATTR_V8JS_HEAP_SPACE_NAME]:U}),$.observe(W,Q.physical_space_size,{[CW.ATTR_V8JS_HEAP_SPACE_NAME]:U})}},[J,X,Z,W])}internalEnable(){}internalDisable(){}scrape(){return hF4.getHeapSpaceStatistics()}}$x1.HeapSpacesSizeAndUsedCollector=Wx1});var Ox1=q((zx1)=>{Object.defineProperty(zx1,"__esModule",{value:!0});zx1.EventLoopTimeCollector=void 0;var yF4=C("perf_hooks"),gF4=eH(),DV=YO(),{eventLoopUtilization:uF4}=yF4.performance;class Ux1 extends gF4.BaseCollector{updateMetricInstruments(Y){let J=Y.createObservableCounter(DV.METRIC_NODEJS_EVENTLOOP_TIME,{description:"Cumulative duration of time the event loop has been in each state.",unit:"s"});Y.addBatchObservableCallback(async(X)=>{if(!this._config.enabled)return;let Z=this.scrape();if(Z===void 0)return;X.observe(J,Z.active/1000,{[DV.ATTR_NODEJS_EVENTLOOP_STATE]:DV.NODEJS_EVENTLOOP_STATE_VALUE_ACTIVE}),X.observe(J,Z.idle/1000,{[DV.ATTR_NODEJS_EVENTLOOP_STATE]:DV.NODEJS_EVENTLOOP_STATE_VALUE_IDLE})},[J])}internalDisable(){}internalEnable(){}scrape(){return uF4()}}zx1.EventLoopTimeCollector=Ux1});var qx1=q((Kx1)=>{Object.defineProperty(Kx1,"__esModule",{value:!0});Kx1.PACKAGE_NAME=Kx1.PACKAGE_VERSION=void 0;Kx1.PACKAGE_VERSION="0.25.0";Kx1.PACKAGE_NAME="@opentelemetry/instrumentation-runtime-node"});var wx1=q((Ix1)=>{Object.defineProperty(Ix1,"__esModule",{value:!0});Ix1.RuntimeNodeInstrumentation=void 0;var dF4=t1(),cF4=o_1(),lF4=t_1(),pF4=Zx1(),nF4=Qx1(),iF4=Ox1(),Fx1=qx1(),oF4={monitoringPrecision:10};class Vx1 extends dF4.InstrumentationBase{_collectors=[];constructor(Y={}){super(Fx1.PACKAGE_NAME,Fx1.PACKAGE_VERSION,Object.assign({},oF4,Y));if(this._collectors=[new cF4.EventLoopUtilizationCollector(this._config),new iF4.EventLoopTimeCollector(this._config),new lF4.EventLoopDelayCollector(this._config),new pF4.GCCollector(this._config),new nF4.HeapSpacesSizeAndUsedCollector(this._config)],this._config.enabled)for(let J of this._collectors)J.enable()}_updateMetricInstruments(){if(!this._collectors)return;for(let Y of this._collectors)Y.updateMetricInstruments(this.meter)}init(){}enable(){if(super.enable(),!this._collectors)return;for(let Y of this._collectors)Y.enable()}disable(){super.disable();for(let Y of this._collectors)Y.disable()}}Ix1.RuntimeNodeInstrumentation=Vx1});var Ax1=q((Vp)=>{Object.defineProperty(Vp,"__esModule",{value:!0});Vp.RuntimeNodeInstrumentation=void 0;var rF4=wx1();Object.defineProperty(Vp,"RuntimeNodeInstrumentation",{enumerable:!0,get:function(){return rF4.RuntimeNodeInstrumentation}})});var Mx1=q((Px1)=>{Object.defineProperty(Px1,"__esModule",{value:!0});Px1.ATTR_MESSAGING_SYSTEM=Px1.ATTR_MESSAGING_OPERATION=void 0;Px1.ATTR_MESSAGING_OPERATION="messaging.operation";Px1.ATTR_MESSAGING_SYSTEM="messaging.system"});var Rx1=q((Ex1)=>{Object.defineProperty(Ex1,"__esModule",{value:!0});Ex1.MESSAGING_DESTINATION_KIND_VALUE_TOPIC=Ex1.MESSAGING_OPERATION_VALUE_RECEIVE=Ex1.ATTR_MESSAGING_DESTINATION_KIND=Ex1.ATTR_MESSAGING_DESTINATION=void 0;Ex1.ATTR_MESSAGING_DESTINATION="messaging.destination";Ex1.ATTR_MESSAGING_DESTINATION_KIND="messaging.destination_kind";Ex1.MESSAGING_OPERATION_VALUE_RECEIVE="receive";Ex1.MESSAGING_DESTINATION_KIND_VALUE_TOPIC="topic"});var Ip=q((Nx1)=>{Object.defineProperty(Nx1,"__esModule",{value:!0});Nx1.SocketIoInstrumentationAttributes=void 0;Nx1.SocketIoInstrumentationAttributes={SOCKET_IO_ROOMS:"messaging.socket.io.rooms",SOCKET_IO_NAMESPACE:"messaging.socket.io.namespace",SOCKET_IO_EVENT_NAME:"messaging.socket.io.event_name"}});var kx1=q((Cx1)=>{Object.defineProperty(Cx1,"__esModule",{value:!0});Cx1.PACKAGE_NAME=Cx1.PACKAGE_VERSION=void 0;Cx1.PACKAGE_VERSION="0.58.0";Cx1.PACKAGE_NAME="@opentelemetry/instrumentation-socket.io"});var fx1=q((_x1)=>{Object.defineProperty(_x1,"__esModule",{value:!0});_x1.extractRoomsAttributeValue=_x1.normalizeConfig=_x1.isPromise=void 0;var XV4=(Y)=>{return typeof Y?.then==="function"};_x1.isPromise=XV4;var ZV4=(Y)=>{if(Y=Object.assign({},Y),!Array.isArray(Y.emitIgnoreEventList))Y.emitIgnoreEventList=[];if(!Array.isArray(Y.onIgnoreEventList))Y.onIgnoreEventList=[];return Y};_x1.normalizeConfig=ZV4;var WV4=(Y)=>{let J=Y.rooms||Y._rooms||Y.sockets?._rooms||Y.sockets?.rooms||[];if(!Array.isArray(J))J=Array.from(J);if(J.length===0&&Y.id)J.push(Y.id);return J};_x1.extractRoomsAttributeValue=WV4});var ux1=q((yx1)=>{Object.defineProperty(yx1,"__esModule",{value:!0});yx1.SocketIoInstrumentation=void 0;var iY=t(),k4=t1(),Dp=Mx1(),XO=Rx1(),eT=Ip(),vx1=kx1(),YR=fx1(),hx1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];class bx1 extends k4.InstrumentationBase{constructor(Y={}){super(vx1.PACKAGE_NAME,vx1.PACKAGE_VERSION,(0,YR.normalizeConfig)(Y))}init(){let Y=new k4.InstrumentationNodeModuleFile("socket.io/dist/socket.js",[">=3 <5"],($,G)=>{if($===void 0||$===null)return $;if(G===void 0)return $;if((0,k4.isWrapped)($?.Socket?.prototype?.on))this._unwrap($.Socket.prototype,"on");if(this._wrap($.Socket.prototype,"on",this._patchOn(G)),(0,k4.isWrapped)($?.Socket?.prototype?.emit))this._unwrap($.Socket.prototype,"emit");return this._wrap($.Socket.prototype,"emit",this._patchEmit(G)),$},($)=>{if((0,k4.isWrapped)($?.Socket?.prototype?.on))this._unwrap($.Socket.prototype,"on");if((0,k4.isWrapped)($?.Socket?.prototype?.emit))this._unwrap($.Socket.prototype,"emit");return $}),J=new k4.InstrumentationNodeModuleFile("socket.io/dist/broadcast-operator.js",[">=4 <5"],($,G)=>{if($===void 0||$===null)return $;if(G===void 0)return $;if((0,k4.isWrapped)($?.BroadcastOperator?.prototype?.emit))this._unwrap($.BroadcastOperator.prototype,"emit");return this._wrap($.BroadcastOperator.prototype,"emit",this._patchEmit(G)),$},($)=>{if((0,k4.isWrapped)($?.BroadcastOperator?.prototype?.emit))this._unwrap($.BroadcastOperator.prototype,"emit");return $}),X=new k4.InstrumentationNodeModuleFile("socket.io/dist/namespace.js",["<4"],($,G)=>{if($===void 0||$===null)return $;if(G===void 0)return $;if((0,k4.isWrapped)($?.Namespace?.prototype?.emit))this._unwrap($.Namespace.prototype,"emit");return this._wrap($.Namespace.prototype,"emit",this._patchEmit(G)),$},($)=>{if((0,k4.isWrapped)($?.Namespace?.prototype?.emit))this._unwrap($.Namespace.prototype,"emit")}),Z=new k4.InstrumentationNodeModuleFile("socket.io/lib/socket.js",["2"],($,G)=>{if($===void 0||$===null)return $;if(G===void 0)return $;if((0,k4.isWrapped)($.prototype?.on))this._unwrap($.prototype,"on");if(this._wrap($.prototype,"on",this._patchOn(G)),(0,k4.isWrapped)($.prototype?.emit))this._unwrap($.prototype,"emit");return this._wrap($.prototype,"emit",this._patchEmit(G)),$},($)=>{if((0,k4.isWrapped)($.prototype?.on))this._unwrap($.prototype,"on");if((0,k4.isWrapped)($.prototype?.emit))this._unwrap($.prototype,"emit");return $}),W=new k4.InstrumentationNodeModuleFile("socket.io/lib/namespace.js",["2"],($,G)=>{if($===void 0||$===null)return $;if(G===void 0)return $;if((0,k4.isWrapped)($?.prototype?.emit))this._unwrap($.prototype,"emit");return this._wrap($.prototype,"emit",this._patchEmit(G)),$},($)=>{if((0,k4.isWrapped)($?.prototype?.emit))this._unwrap($.prototype,"emit")});return[new k4.InstrumentationNodeModuleDefinition("socket.io",[">=3 <5"],($,G)=>{if($===void 0||$===null)return $;if(G===void 0)return $;if((0,k4.isWrapped)($?.Server?.prototype?.on))this._unwrap($.Server.prototype,"on");return this._wrap($.Server.prototype,"on",this._patchOn(G)),$},($)=>{if((0,k4.isWrapped)($?.Server?.prototype?.on))this._unwrap($.Server.prototype,"on");return $},[J,X,Y]),new k4.InstrumentationNodeModuleDefinition("socket.io",["2"],($,G)=>{if($===void 0||$===null)return $;if(G===void 0)return $;if((0,k4.isWrapped)($?.prototype?.on))this._unwrap($.prototype,"on");return this._wrap($.prototype,"on",this._patchOn(G)),$},($,G)=>{if((0,k4.isWrapped)($?.prototype?.on))this._unwrap($.prototype,"on");return $},[W,Z])]}setConfig(Y={}){return super.setConfig((0,YR.normalizeConfig)(Y))}_patchOn(Y){let J=this;return(X)=>{return function(Z,W){if(!J.getConfig().traceReserved&&hx1.includes(Z))return X.apply(this,arguments);if(J.getConfig().onIgnoreEventList?.includes(Z))return X.apply(this,arguments);let $=function(...G){let Q=Z,U=this.name||this.adapter?.nsp?.name,z=J.tracer.startSpan(`${XO.MESSAGING_OPERATION_VALUE_RECEIVE} ${U}`,{kind:iY.SpanKind.CONSUMER,attributes:{[Dp.ATTR_MESSAGING_SYSTEM]:"socket.io",[XO.ATTR_MESSAGING_DESTINATION]:U,[Dp.ATTR_MESSAGING_OPERATION]:XO.MESSAGING_OPERATION_VALUE_RECEIVE,[eT.SocketIoInstrumentationAttributes.SOCKET_IO_EVENT_NAME]:Q}}),{onHook:H}=J.getConfig();if(H)(0,k4.safeExecuteInTheMiddle)(()=>H(z,{moduleVersion:Y,payload:G}),(O)=>{if(O)J._diag.error("onHook error",O)},!0);return iY.context.with(iY.trace.setSpan(iY.context.active(),z),()=>J.endSpan(()=>W.apply(this,arguments),z))};return X.apply(this,[Z,$])}}}endSpan(Y,J){try{let X=Y();if((0,YR.isPromise)(X))return X.then((Z)=>{return J.end(),Z},(Z)=>{throw J.recordException(Z),J.setStatus({code:iY.SpanStatusCode.ERROR,message:Z?.message}),J.end(),Z});else return J.end(),X}catch(X){throw J.recordException(X),J.setStatus({code:iY.SpanStatusCode.ERROR,message:X?.message}),J.end(),X}}_patchEmit(Y){let J=this;return(X)=>{return function(Z,...W){if(!J.getConfig().traceReserved&&hx1.includes(Z))return X.apply(this,arguments);if(J.getConfig().emitIgnoreEventList?.includes(Z))return X.apply(this,arguments);let $="socket.io",G=Z,Q={[Dp.ATTR_MESSAGING_SYSTEM]:$,[XO.ATTR_MESSAGING_DESTINATION_KIND]:XO.MESSAGING_DESTINATION_KIND_VALUE_TOPIC,[eT.SocketIoInstrumentationAttributes.SOCKET_IO_EVENT_NAME]:G},U=(0,YR.extractRoomsAttributeValue)(this);if(U.length)Q[eT.SocketIoInstrumentationAttributes.SOCKET_IO_ROOMS]=U;let z=this.name||this.adapter?.nsp?.name||this.sockets?.name;if(z)Q[eT.SocketIoInstrumentationAttributes.SOCKET_IO_NAMESPACE]=z,Q[XO.ATTR_MESSAGING_DESTINATION]=z;let H=J.tracer.startSpan(`send ${z}`,{kind:iY.SpanKind.PRODUCER,attributes:Q}),{emitHook:O}=J.getConfig();if(O)(0,k4.safeExecuteInTheMiddle)(()=>O(H,{moduleVersion:Y,payload:W}),(K)=>{if(K)J._diag.error("emitHook error",K)},!0);try{return iY.context.with(iY.trace.setSpan(iY.context.active(),H),()=>X.apply(this,arguments))}catch(K){throw H.setStatus({code:iY.SpanStatusCode.ERROR,message:K.message}),K}finally{H.end()}}}}}yx1.SocketIoInstrumentation=bx1});var cx1=q((mx1)=>{Object.defineProperty(mx1,"__esModule",{value:!0});mx1.defaultSocketIoPath=void 0;mx1.defaultSocketIoPath="/socket.io/"});var lx1=q((wV)=>{Object.defineProperty(wV,"__esModule",{value:!0});wV.defaultSocketIoPath=wV.SocketIoInstrumentationAttributes=wV.SocketIoInstrumentation=void 0;var QV4=ux1();Object.defineProperty(wV,"SocketIoInstrumentation",{enumerable:!0,get:function(){return QV4.SocketIoInstrumentation}});var UV4=Ip();Object.defineProperty(wV,"SocketIoInstrumentationAttributes",{enumerable:!0,get:function(){return UV4.SocketIoInstrumentationAttributes}});var zV4=cx1();Object.defineProperty(wV,"defaultSocketIoPath",{enumerable:!0,get:function(){return zV4.defaultSocketIoPath}})});var ix1=q((px1)=>{Object.defineProperty(px1,"__esModule",{value:!0});px1.DB_SYSTEM_VALUE_MSSQL=px1.ATTR_NET_PEER_PORT=px1.ATTR_NET_PEER_NAME=px1.ATTR_DB_USER=px1.ATTR_DB_SYSTEM=px1.ATTR_DB_STATEMENT=px1.ATTR_DB_SQL_TABLE=px1.ATTR_DB_NAME=void 0;px1.ATTR_DB_NAME="db.name";px1.ATTR_DB_SQL_TABLE="db.sql.table";px1.ATTR_DB_STATEMENT="db.statement";px1.ATTR_DB_SYSTEM="db.system";px1.ATTR_DB_USER="db.user";px1.ATTR_NET_PEER_NAME="net.peer.name";px1.ATTR_NET_PEER_PORT="net.peer.port";px1.DB_SYSTEM_VALUE_MSSQL="mssql"});var ax1=q((ox1)=>{Object.defineProperty(ox1,"__esModule",{value:!0});ox1.once=ox1.getSpanName=void 0;function DV4(Y,J,X,Z){if(Y==="execBulkLoad"&&Z&&J)return`${Y} ${Z} ${J}`;if(Y==="callProcedure"){if(J)return`${Y} ${X} ${J}`;return`${Y} ${X}`}if(J)return`${Y} ${J}`;return`${Y}`}ox1.getSpanName=DV4;var wV4=(Y)=>{let J=!1;return(...X)=>{if(J)return;return J=!0,Y(...X)}};ox1.once=wV4});var ex1=q((sx1)=>{Object.defineProperty(sx1,"__esModule",{value:!0});sx1.PACKAGE_NAME=sx1.PACKAGE_VERSION=void 0;sx1.PACKAGE_VERSION="0.31.0";sx1.PACKAGE_NAME="@opentelemetry/instrumentation-tedious"});var Gf1=q((Wf1)=>{Object.defineProperty(Wf1,"__esModule",{value:!0});Wf1.TediousInstrumentation=Wf1.INJECTED_CTX=void 0;var ZO=t(),LV4=C("events"),VX=t1(),KQ=X0(),jW=ix1(),Yf1=ax1(),Jf1=ex1(),Zf1=Symbol("opentelemetry.instrumentation-tedious.current-database");Wf1.INJECTED_CTX=Symbol("opentelemetry.instrumentation-tedious.context-info-injected");var Xf1=["callProcedure","execSql","execSqlBatch","execBulkLoad","prepare","execute"];function JR(Y){Object.defineProperty(this,Zf1,{value:Y,writable:!0})}class Ap extends VX.InstrumentationBase{static COMPONENT="tedious";_netSemconvStability;_dbSemconvStability;constructor(Y={}){super(Jf1.PACKAGE_NAME,Jf1.PACKAGE_VERSION,Y);this._setSemconvStabilityFromEnv()}_setSemconvStabilityFromEnv(){this._netSemconvStability=(0,VX.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN),this._dbSemconvStability=(0,VX.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN)}init(){return[new VX.InstrumentationNodeModuleDefinition(Ap.COMPONENT,[">=1.11.0 <20"],(Y)=>{let J=Y.Connection.prototype;for(let X of Xf1){if((0,VX.isWrapped)(J[X]))this._unwrap(J,X);this._wrap(J,X,this._patchQuery(X,Y))}if((0,VX.isWrapped)(J.connect))this._unwrap(J,"connect");return this._wrap(J,"connect",this._patchConnect),Y},(Y)=>{if(Y===void 0)return;let J=Y.Connection.prototype;for(let X of Xf1)this._unwrap(J,X);this._unwrap(J,"connect")})]}_patchConnect(Y){return function(){return JR.call(this,this.config?.options?.database),this.removeListener("databaseChange",JR),this.on("databaseChange",JR),this.once("end",()=>{this.removeListener("databaseChange",JR)}),Y.apply(this,arguments)}}_buildTraceparent(Y){let J=Y.spanContext();return`00-${J.traceId}-${J.spanId}-0${Number(J.traceFlags||ZO.TraceFlags.NONE).toString(16)}`}_injectContextInfo(Y,J,X){return new Promise((Z)=>{try{let $=new J.Request("set context_info @opentelemetry_traceparent",(Q)=>{Z()});Object.defineProperty($,Wf1.INJECTED_CTX,{value:!0});let G=Buffer.from(X,"utf8");$.addParameter("opentelemetry_traceparent",J.TYPES.VarBinary,G,{length:G.length}),Y.execSql($)}catch{Z()}})}_shouldInjectFor(Y){return Y==="execSql"||Y==="execSqlBatch"||Y==="callProcedure"||Y==="execute"}_patchQuery(Y,J){return(X)=>{let Z=this;function W($){if($?.[Wf1.INJECTED_CTX])return X.apply(this,arguments);if(!($ instanceof LV4.EventEmitter))return Z._diag.warn(`Unexpected invocation of patched ${Y} method. Span not recorded`),X.apply(this,arguments);let G=0,Q=0,U=()=>Q++,z=()=>G++,H=this[Zf1],O=((A)=>{if(A.sqlTextOrProcedure==="sp_prepare"&&A.parametersByName?.stmt?.value)return A.parametersByName.stmt.value;return A.sqlTextOrProcedure})($),K={};if(Z._dbSemconvStability&VX.SemconvStability.OLD)K[jW.ATTR_DB_SYSTEM]=jW.DB_SYSTEM_VALUE_MSSQL,K[jW.ATTR_DB_NAME]=H,K[jW.ATTR_DB_USER]=this.config?.userName??this.config?.authentication?.options?.userName,K[jW.ATTR_DB_STATEMENT]=O,K[jW.ATTR_DB_SQL_TABLE]=$.table;if(Z._dbSemconvStability&VX.SemconvStability.STABLE)K[KQ.ATTR_DB_NAMESPACE]=H,K[KQ.ATTR_DB_SYSTEM_NAME]=KQ.DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER,K[KQ.ATTR_DB_QUERY_TEXT]=O,K[KQ.ATTR_DB_COLLECTION_NAME]=$.table;if(Z._netSemconvStability&VX.SemconvStability.OLD)K[jW.ATTR_NET_PEER_NAME]=this.config?.server,K[jW.ATTR_NET_PEER_PORT]=this.config?.options?.port;if(Z._netSemconvStability&VX.SemconvStability.STABLE)K[KQ.ATTR_SERVER_ADDRESS]=this.config?.server,K[KQ.ATTR_SERVER_PORT]=this.config?.options?.port;let B=Z.tracer.startSpan((0,Yf1.getSpanName)(Y,H,O,$.table),{kind:ZO.SpanKind.CLIENT,attributes:K}),F=(0,Yf1.once)((A)=>{if($.removeListener("done",U),$.removeListener("doneInProc",U),$.removeListener("doneProc",z),$.removeListener("error",F),this.removeListener("end",F),B.setAttribute("tedious.procedure_count",G),B.setAttribute("tedious.statement_count",Q),A)B.setStatus({code:ZO.SpanStatusCode.ERROR,message:A.message});B.end()});if($.on("done",U),$.on("doneInProc",U),$.on("doneProc",z),$.once("error",F),this.on("end",F),typeof $.callback==="function")Z._wrap($,"callback",Z._patchCallbackQuery(F));else Z._diag.error("Expected request.callback to be a function");let V=()=>{return ZO.context.with(ZO.trace.setSpan(ZO.context.active(),B),X,this,...arguments)};if(!(Z.getConfig().enableTraceContextPropagation&&Z._shouldInjectFor(Y)))return V();let L=Z._buildTraceparent(B);Z._injectContextInfo(this,J,L).finally(V)}return Object.defineProperty(W,"length",{value:X.length,writable:!1}),W}}_patchCallbackQuery(Y){return(J)=>{return function(X,Z,W){return Y(X),J.apply(this,arguments)}}}}Wf1.TediousInstrumentation=Ap});var Qf1=q((Pp)=>{Object.defineProperty(Pp,"__esModule",{value:!0});Pp.TediousInstrumentation=void 0;var MV4=Gf1();Object.defineProperty(Pp,"TediousInstrumentation",{enumerable:!0,get:function(){return MV4.TediousInstrumentation}})});var Hf1=q((Uf1)=>{Object.defineProperty(Uf1,"__esModule",{value:!0});Uf1.PACKAGE_NAME=Uf1.PACKAGE_VERSION=void 0;Uf1.PACKAGE_VERSION="0.22.0";Uf1.PACKAGE_NAME="@opentelemetry/instrumentation-undici"});var Ff1=q((Bf1)=>{Object.defineProperty(Bf1,"__esModule",{value:!0});Bf1.UndiciInstrumentation=void 0;var Lp=C("diagnostics_channel"),RV4=C("url"),AV=t1(),H7=t(),XR=k1(),G8=X0(),Of1=Hf1();class Kf1 extends AV.InstrumentationBase{_recordFromReq=new WeakMap;constructor(Y={}){super(Of1.PACKAGE_NAME,Of1.PACKAGE_VERSION,Y)}init(){return}disable(){super.disable(),this._channelSubs.forEach((Y)=>Y.unsubscribe()),this._channelSubs.length=0}enable(){if(super.enable(),this._channelSubs=this._channelSubs||[],this._channelSubs.length>0)return;this.subscribeToChannel("undici:request:create",this.onRequestCreated.bind(this)),this.subscribeToChannel("undici:client:sendHeaders",this.onRequestHeaders.bind(this)),this.subscribeToChannel("undici:request:headers",this.onResponseHeaders.bind(this)),this.subscribeToChannel("undici:request:trailers",this.onDone.bind(this)),this.subscribeToChannel("undici:request:error",this.onError.bind(this))}_updateMetricInstruments(){this._httpClientDurationHistogram=this.meter.createHistogram(G8.METRIC_HTTP_CLIENT_REQUEST_DURATION,{description:"Measures the duration of outbound HTTP requests.",unit:"s",valueType:H7.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[0.005,0.01,0.025,0.05,0.075,0.1,0.25,0.5,0.75,1,2.5,5,7.5,10]}})}subscribeToChannel(Y,J){let[X,Z]=process.version.replace("v","").split(".").map((G)=>Number(G)),W=X>18||X===18&&Z>=19,$;if(W)Lp.subscribe?.(Y,J),$=()=>Lp.unsubscribe?.(Y,J);else{let G=Lp.channel(Y);G.subscribe(J),$=()=>G.unsubscribe(J)}this._channelSubs.push({name:Y,unsubscribe:$})}parseRequestHeaders(Y){let J=new Map;if(Array.isArray(Y.headers))for(let X=0;X<Y.headers.length;X+=2){let Z=Y.headers[X],W=Y.headers[X+1];if(typeof Z==="string")J.set(Z.toLowerCase(),W)}else if(typeof Y.headers==="string"){let X=Y.headers.split(`\r
`);for(let Z of X){if(!Z)continue;let W=Z.indexOf(":");if(W===-1)continue;let $=Z.substring(0,W).toLowerCase(),G=Z.substring(W+1).trim(),Q=J.get($);if(Q&&Array.isArray(Q))Q.push(G);else if(Q)J.set($,[Q,G]);else J.set($,G)}}return J}onRequestCreated({request:Y}){let J=this.getConfig(),X=J.enabled!==!1;if((0,AV.safeExecuteInTheMiddle)(()=>!X||Y.method==="CONNECT"||J.ignoreRequestHook?.(Y),(R)=>R&&this._diag.error("caught ignoreRequestHook error: ",R),!0))return;let W=(0,XR.hrTime)(),$;try{$=new RV4.URL(Y.path,Y.origin)}catch(R){this._diag.warn("could not determine url.full:",R);return}let G=$.protocol.replace(":",""),Q=this.getRequestMethod(Y.method),U={[G8.ATTR_HTTP_REQUEST_METHOD]:Q,[G8.ATTR_HTTP_REQUEST_METHOD_ORIGINAL]:Y.method,[G8.ATTR_URL_FULL]:$.toString(),[G8.ATTR_URL_PATH]:$.pathname,[G8.ATTR_URL_QUERY]:$.search,[G8.ATTR_URL_SCHEME]:G},z={https:"443",http:"80"},H=$.hostname,O=$.port||z[G];if(U[G8.ATTR_SERVER_ADDRESS]=H,O&&!isNaN(Number(O)))U[G8.ATTR_SERVER_PORT]=Number(O);let B=this.parseRequestHeaders(Y).get("user-agent");if(B){let R=Array.isArray(B)?B[B.length-1]:B;U[G8.ATTR_USER_AGENT_ORIGINAL]=R}let F=(0,AV.safeExecuteInTheMiddle)(()=>J.startSpanHook?.(Y),(R)=>R&&this._diag.error("caught startSpanHook error: ",R),!0);if(F)Object.entries(F).forEach(([R,N])=>{U[R]=N});let V=H7.context.active(),I=H7.trace.getSpan(V),D;if(J.requireParentforSpans&&(!I||!H7.trace.isSpanContextValid(I.spanContext())))D=H7.trace.wrapSpanContext(H7.INVALID_SPAN_CONTEXT);else D=this.tracer.startSpan(Q==="_OTHER"?"HTTP":Q,{kind:H7.SpanKind.CLIENT,attributes:U},V);(0,AV.safeExecuteInTheMiddle)(()=>J.requestHook?.(D,Y),(R)=>R&&this._diag.error("caught requestHook error: ",R),!0);let L=H7.trace.setSpan(H7.context.active(),D),A={};H7.propagation.inject(L,A);let P=Object.entries(A);for(let R=0;R<P.length;R++){let[N,v]=P[R];if(typeof Y.addHeader==="function")Y.addHeader(N,v);else if(typeof Y.headers==="string")Y.headers+=`${N}: ${v}\r
`;else if(Array.isArray(Y.headers))Y.headers.push(N,v)}this._recordFromReq.set(Y,{span:D,attributes:U,startTime:W})}onRequestHeaders({request:Y,socket:J}){let X=this._recordFromReq.get(Y);if(!X)return;let Z=this.getConfig(),{span:W}=X,{remoteAddress:$,remotePort:G}=J,Q={[G8.ATTR_NETWORK_PEER_ADDRESS]:$,[G8.ATTR_NETWORK_PEER_PORT]:G};if(Z.headersToSpanAttributes?.requestHeaders){let U=new Set(Z.headersToSpanAttributes.requestHeaders.map((H)=>H.toLowerCase())),z=this.parseRequestHeaders(Y);for(let[H,O]of z.entries())if(U.has(H)){let K=Array.isArray(O)?O:[O];Q[`http.request.header.${H}`]=K}}W.setAttributes(Q)}onResponseHeaders({request:Y,response:J}){let X=this._recordFromReq.get(Y);if(!X)return;let{span:Z,attributes:W}=X,$={[G8.ATTR_HTTP_RESPONSE_STATUS_CODE]:J.statusCode},G=this.getConfig();if((0,AV.safeExecuteInTheMiddle)(()=>G.responseHook?.(Z,{request:Y,response:J}),(Q)=>Q&&this._diag.error("caught responseHook error: ",Q),!0),G.headersToSpanAttributes?.responseHeaders){let Q=new Set;G.headersToSpanAttributes?.responseHeaders.forEach((U)=>Q.add(U.toLowerCase()));for(let U=0;U<J.headers.length;U=U+2){let z=J.headers[U].toString().toLowerCase(),H=J.headers[U+1];if(Q.has(z)){let O=`http.response.header.${z}`;if(!Object.hasOwn($,O))$[O]=[H.toString()];else $[O].push(H.toString())}}}Z.setAttributes($),Z.setStatus({code:J.statusCode>=400?H7.SpanStatusCode.ERROR:H7.SpanStatusCode.UNSET}),X.attributes=Object.assign(W,$)}onDone({request:Y}){let J=this._recordFromReq.get(Y);if(!J)return;let{span:X,attributes:Z,startTime:W}=J;X.end(),this._recordFromReq.delete(Y),this.recordRequestDuration(Z,W)}onError({request:Y,error:J}){let X=this._recordFromReq.get(Y);if(!X)return;let{span:Z,attributes:W,startTime:$}=X;Z.recordException(J),Z.setStatus({code:H7.SpanStatusCode.ERROR,message:J.message}),Z.end(),this._recordFromReq.delete(Y),W[G8.ATTR_ERROR_TYPE]=J.message,this.recordRequestDuration(W,$)}recordRequestDuration(Y,J){let X={};[G8.ATTR_HTTP_RESPONSE_STATUS_CODE,G8.ATTR_HTTP_REQUEST_METHOD,G8.ATTR_SERVER_ADDRESS,G8.ATTR_SERVER_PORT,G8.ATTR_URL_SCHEME,G8.ATTR_ERROR_TYPE].forEach(($)=>{if($ in Y)X[$]=Y[$]});let W=(0,XR.hrTimeToMilliseconds)((0,XR.hrTimeDuration)(J,(0,XR.hrTime)()))/1000;this._httpClientDurationHistogram.record(W,X)}getRequestMethod(Y){let J={CONNECT:!0,OPTIONS:!0,HEAD:!0,GET:!0,POST:!0,PUT:!0,PATCH:!0,DELETE:!0,TRACE:!0,QUERY:!0};if(Y.toUpperCase()in J)return Y.toUpperCase();return"_OTHER"}}Bf1.UndiciInstrumentation=Kf1});var Vf1=q((Mp)=>{Object.defineProperty(Mp,"__esModule",{value:!0});Mp.UndiciInstrumentation=void 0;var NV4=Ff1();Object.defineProperty(Mp,"UndiciInstrumentation",{enumerable:!0,get:function(){return NV4.UndiciInstrumentation}})});var wf1=q((If1)=>{Object.defineProperty(If1,"__esModule",{value:!0});If1.PACKAGE_NAME=If1.PACKAGE_VERSION=void 0;If1.PACKAGE_VERSION="0.56.0";If1.PACKAGE_NAME="@opentelemetry/instrumentation-winston"});var Pf1=q((W88,Af1)=>{Af1.exports=C("util").deprecate});var Tp=q(($88,Mf1)=>{function jV4(Y,J){var X=this,Z=this._readableState&&this._readableState.destroyed,W=this._writableState&&this._writableState.destroyed;if(Z||W){if(J)J(Y);else if(Y){if(!this._writableState)process.nextTick(Ep,this,Y);else if(!this._writableState.errorEmitted)this._writableState.errorEmitted=!0,process.nextTick(Ep,this,Y)}return this}if(this._readableState)this._readableState.destroyed=!0;if(this._writableState)this._writableState.destroyed=!0;return this._destroy(Y||null,function($){if(!J&&$)if(!X._writableState)process.nextTick(Lf1,X,$);else if(!X._writableState.errorEmitted)X._writableState.errorEmitted=!0,process.nextTick(Lf1,X,$);else process.nextTick(ZR,X);else if(J)process.nextTick(ZR,X),J($);else process.nextTick(ZR,X)}),this}function Lf1(Y,J){Ep(Y,J),ZR(Y)}function ZR(Y){if(Y._writableState&&!Y._writableState.emitClose)return;if(Y._readableState&&!Y._readableState.emitClose)return;Y.emit("close")}function kV4(){if(this._readableState)this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1;if(this._writableState)this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1}function Ep(Y,J){Y.emit("error",J)}function _V4(Y,J){var{_readableState:X,_writableState:Z}=Y;if(X&&X.autoDestroy||Z&&Z.autoDestroy)Y.destroy(J);else Y.emit("error",J)}Mf1.exports={destroy:jV4,undestroy:kV4,errorOrDestroy:_V4}});var kW=q((hV4,Rf1)=>{var Tf1={};function n7(Y,J,X){if(!X)X=Error;function Z($,G,Q){if(typeof J==="string")return J;else return J($,G,Q)}class W extends X{constructor($,G,Q){super(Z($,G,Q))}}W.prototype.name=X.name,W.prototype.code=Y,Tf1[Y]=W}function Ef1(Y,J){if(Array.isArray(Y)){let X=Y.length;if(Y=Y.map((Z)=>String(Z)),X>2)return`one of ${J} ${Y.slice(0,X-1).join(", ")}, or `+Y[X-1];else if(X===2)return`one of ${J} ${Y[0]} or ${Y[1]}`;else return`of ${J} ${Y[0]}`}else return`of ${J} ${String(Y)}`}function xV4(Y,J,X){return Y.substr(!X||X<0?0:+X,J.length)===J}function fV4(Y,J,X){if(X===void 0||X>Y.length)X=Y.length;return Y.substring(X-J.length,X)===J}function vV4(Y,J,X){if(typeof X!=="number")X=0;if(X+J.length>Y.length)return!1;else return Y.indexOf(J,X)!==-1}n7("ERR_INVALID_OPT_VALUE",function(Y,J){return'The value "'+J+'" is invalid for option "'+Y+'"'},TypeError);n7("ERR_INVALID_ARG_TYPE",function(Y,J,X){let Z;if(typeof J==="string"&&xV4(J,"not "))Z="must not be",J=J.replace(/^not /,"");else Z="must be";let W;if(fV4(Y," argument"))W=`The ${Y} ${Z} ${Ef1(J,"type")}`;else{let $=vV4(Y,".")?"property":"argument";W=`The "${Y}" ${$} ${Z} ${Ef1(J,"type")}`}return W+=`. Received type ${typeof X}`,W},TypeError);n7("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");n7("ERR_METHOD_NOT_IMPLEMENTED",function(Y){return"The "+Y+" method is not implemented"});n7("ERR_STREAM_PREMATURE_CLOSE","Premature close");n7("ERR_STREAM_DESTROYED",function(Y){return"Cannot call "+Y+" after a stream was destroyed"});n7("ERR_MULTIPLE_CALLBACK","Callback called multiple times");n7("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");n7("ERR_STREAM_WRITE_AFTER_END","write after end");n7("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);n7("ERR_UNKNOWN_ENCODING",function(Y){return"Unknown encoding: "+Y},TypeError);n7("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");hV4.codes=Tf1});var Rp=q((G88,Nf1)=>{var yV4=kW().codes.ERR_INVALID_OPT_VALUE;function gV4(Y,J,X){return Y.highWaterMark!=null?Y.highWaterMark:J?Y[X]:null}function uV4(Y,J,X,Z){var W=gV4(J,Z,X);if(W!=null){if(!(isFinite(W)&&Math.floor(W)===W)||W<0){var $=Z?X:"highWaterMark";throw new yV4($,W)}return Math.floor(W)}return Y.objectMode?16:16384}Nf1.exports={getHighWaterMark:uV4}});var Sf1=q((Q88,Np)=>{if(typeof Object.create==="function")Np.exports=function(J,X){if(X)J.super_=X,J.prototype=Object.create(X.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}})};else Np.exports=function(J,X){if(X){J.super_=X;var Z=function(){};Z.prototype=X.prototype,J.prototype=new Z,J.prototype.constructor=J}}});var WO=q((U88,Sp)=>{try{if(WR=C("util"),typeof WR.inherits!=="function")throw"";Sp.exports=WR.inherits}catch(Y){Sp.exports=Sf1()}var WR});var ff1=q((z88,xf1)=>{function Cf1(Y,J){var X=Object.keys(Y);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(Y);J&&(Z=Z.filter(function(W){return Object.getOwnPropertyDescriptor(Y,W).enumerable})),X.push.apply(X,Z)}return X}function jf1(Y){for(var J=1;J<arguments.length;J++){var X=arguments[J]!=null?arguments[J]:{};J%2?Cf1(Object(X),!0).forEach(function(Z){mV4(Y,Z,X[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(X)):Cf1(Object(X)).forEach(function(Z){Object.defineProperty(Y,Z,Object.getOwnPropertyDescriptor(X,Z))})}return Y}function mV4(Y,J,X){if(J=_f1(J),J in Y)Object.defineProperty(Y,J,{value:X,enumerable:!0,configurable:!0,writable:!0});else Y[J]=X;return Y}function dV4(Y,J){if(!(Y instanceof J))throw TypeError("Cannot call a class as a function")}function kf1(Y,J){for(var X=0;X<J.length;X++){var Z=J[X];if(Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z)Z.writable=!0;Object.defineProperty(Y,_f1(Z.key),Z)}}function cV4(Y,J,X){if(J)kf1(Y.prototype,J);if(X)kf1(Y,X);return Object.defineProperty(Y,"prototype",{writable:!1}),Y}function _f1(Y){var J=lV4(Y,"string");return typeof J==="symbol"?J:String(J)}function lV4(Y,J){if(typeof Y!=="object"||Y===null)return Y;var X=Y[Symbol.toPrimitive];if(X!==void 0){var Z=X.call(Y,J||"default");if(typeof Z!=="object")return Z;throw TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(Y)}var pV4=C("buffer"),$R=pV4.Buffer,nV4=C("util"),Cp=nV4.inspect,iV4=Cp&&Cp.custom||"inspect";function oV4(Y,J,X){$R.prototype.copy.call(Y,J,X)}xf1.exports=function(){function Y(){dV4(this,Y),this.head=null,this.tail=null,this.length=0}return cV4(Y,[{key:"push",value:function(X){var Z={data:X,next:null};if(this.length>0)this.tail.next=Z;else this.head=Z;this.tail=Z,++this.length}},{key:"unshift",value:function(X){var Z={data:X,next:this.head};if(this.length===0)this.tail=Z;this.head=Z,++this.length}},{key:"shift",value:function(){if(this.length===0)return;var X=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;return--this.length,X}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(X){if(this.length===0)return"";var Z=this.head,W=""+Z.data;while(Z=Z.next)W+=X+Z.data;return W}},{key:"concat",value:function(X){if(this.length===0)return $R.alloc(0);var Z=$R.allocUnsafe(X>>>0),W=this.head,$=0;while(W)oV4(W.data,Z,$),$+=W.data.length,W=W.next;return Z}},{key:"consume",value:function(X,Z){var W;if(X<this.head.data.length)W=this.head.data.slice(0,X),this.head.data=this.head.data.slice(X);else if(X===this.head.data.length)W=this.shift();else W=Z?this._getString(X):this._getBuffer(X);return W}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(X){var Z=this.head,W=1,$=Z.data;X-=$.length;while(Z=Z.next){var G=Z.data,Q=X>G.length?G.length:X;if(Q===G.length)$+=G;else $+=G.slice(0,X);if(X-=Q,X===0){if(Q===G.length)if(++W,Z.next)this.head=Z.next;else this.head=this.tail=null;else this.head=Z,Z.data=G.slice(Q);break}++W}return this.length-=W,$}},{key:"_getBuffer",value:function(X){var Z=$R.allocUnsafe(X),W=this.head,$=1;W.data.copy(Z),X-=W.data.length;while(W=W.next){var G=W.data,Q=X>G.length?G.length:X;if(G.copy(Z,Z.length-X,0,Q),X-=Q,X===0){if(Q===G.length)if(++$,W.next)this.head=W.next;else this.head=this.tail=null;else this.head=W,W.data=G.slice(Q);break}++$}return this.length-=$,Z}},{key:iV4,value:function(X,Z){return Cp(this,jf1(jf1({},Z),{},{depth:0,customInspect:!1}))}}]),Y}()});var bf1=q((jp,hf1)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var GR=C("buffer"),IX=GR.Buffer;function vf1(Y,J){for(var X in Y)J[X]=Y[X]}if(IX.from&&IX.alloc&&IX.allocUnsafe&&IX.allocUnsafeSlow)hf1.exports=GR;else vf1(GR,jp),jp.Buffer=BQ;function BQ(Y,J,X){return IX(Y,J,X)}BQ.prototype=Object.create(IX.prototype);vf1(IX,BQ);BQ.from=function(Y,J,X){if(typeof Y==="number")throw TypeError("Argument must not be a number");return IX(Y,J,X)};BQ.alloc=function(Y,J,X){if(typeof Y!=="number")throw TypeError("Argument must be a number");var Z=IX(Y);if(J!==void 0)if(typeof X==="string")Z.fill(J,X);else Z.fill(J);else Z.fill(0);return Z};BQ.allocUnsafe=function(Y){if(typeof Y!=="number")throw TypeError("Argument must be a number");return IX(Y)};BQ.allocUnsafeSlow=function(Y){if(typeof Y!=="number")throw TypeError("Argument must be a number");return GR.SlowBuffer(Y)}});var xp=q((UI4)=>{var _p=bf1().Buffer,yf1=_p.isEncoding||function(Y){switch(Y=""+Y,Y&&Y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function rV4(Y){if(!Y)return"utf8";var J;while(!0)switch(Y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Y;default:if(J)return;Y=(""+Y).toLowerCase(),J=!0}}function aV4(Y){var J=rV4(Y);if(typeof J!=="string"&&(_p.isEncoding===yf1||!yf1(Y)))throw Error("Unknown encoding: "+Y);return J||Y}UI4.StringDecoder=PV;function PV(Y){this.encoding=aV4(Y);var J;switch(this.encoding){case"utf16le":this.text=XI4,this.end=ZI4,J=4;break;case"utf8":this.fillLast=eV4,J=4;break;case"base64":this.text=WI4,this.end=$I4,J=3;break;default:this.write=GI4,this.end=QI4;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=_p.allocUnsafe(J)}PV.prototype.write=function(Y){if(Y.length===0)return"";var J,X;if(this.lastNeed){if(J=this.fillLast(Y),J===void 0)return"";X=this.lastNeed,this.lastNeed=0}else X=0;if(X<Y.length)return J?J+this.text(Y,X):this.text(Y,X);return J||""};PV.prototype.end=JI4;PV.prototype.text=YI4;PV.prototype.fillLast=function(Y){if(this.lastNeed<=Y.length)return Y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Y.length),this.lastNeed-=Y.length};function kp(Y){if(Y<=127)return 0;else if(Y>>5===6)return 2;else if(Y>>4===14)return 3;else if(Y>>3===30)return 4;return Y>>6===2?-1:-2}function sV4(Y,J,X){var Z=J.length-1;if(Z<X)return 0;var W=kp(J[Z]);if(W>=0){if(W>0)Y.lastNeed=W-1;return W}if(--Z<X||W===-2)return 0;if(W=kp(J[Z]),W>=0){if(W>0)Y.lastNeed=W-2;return W}if(--Z<X||W===-2)return 0;if(W=kp(J[Z]),W>=0){if(W>0)if(W===2)W=0;else Y.lastNeed=W-3;return W}return 0}function tV4(Y,J,X){if((J[0]&192)!==128)return Y.lastNeed=0,"\uFFFD";if(Y.lastNeed>1&&J.length>1){if((J[1]&192)!==128)return Y.lastNeed=1,"\uFFFD";if(Y.lastNeed>2&&J.length>2){if((J[2]&192)!==128)return Y.lastNeed=2,"\uFFFD"}}}function eV4(Y){var J=this.lastTotal-this.lastNeed,X=tV4(this,Y,J);if(X!==void 0)return X;if(this.lastNeed<=Y.length)return Y.copy(this.lastChar,J,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Y.copy(this.lastChar,J,0,Y.length),this.lastNeed-=Y.length}function YI4(Y,J){var X=sV4(this,Y,J);if(!this.lastNeed)return Y.toString("utf8",J);this.lastTotal=X;var Z=Y.length-(X-this.lastNeed);return Y.copy(this.lastChar,0,Z),Y.toString("utf8",J,Z)}function JI4(Y){var J=Y&&Y.length?this.write(Y):"";if(this.lastNeed)return J+"\uFFFD";return J}function XI4(Y,J){if((Y.length-J)%2===0){var X=Y.toString("utf16le",J);if(X){var Z=X.charCodeAt(X.length-1);if(Z>=55296&&Z<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Y[Y.length-2],this.lastChar[1]=Y[Y.length-1],X.slice(0,-1)}return X}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Y[Y.length-1],Y.toString("utf16le",J,Y.length-1)}function ZI4(Y){var J=Y&&Y.length?this.write(Y):"";if(this.lastNeed){var X=this.lastTotal-this.lastNeed;return J+this.lastChar.toString("utf16le",0,X)}return J}function WI4(Y,J){var X=(Y.length-J)%3;if(X===0)return Y.toString("base64",J);if(this.lastNeed=3-X,this.lastTotal=3,X===1)this.lastChar[0]=Y[Y.length-1];else this.lastChar[0]=Y[Y.length-2],this.lastChar[1]=Y[Y.length-1];return Y.toString("base64",J,Y.length-X)}function $I4(Y){var J=Y&&Y.length?this.write(Y):"";if(this.lastNeed)return J+this.lastChar.toString("base64",0,3-this.lastNeed);return J}function GI4(Y){return Y.toString(this.encoding)}function QI4(Y){return Y&&Y.length?this.write(Y):""}});var QR=q((O88,mf1)=>{var gf1=kW().codes.ERR_STREAM_PREMATURE_CLOSE;function HI4(Y){var J=!1;return function(){if(J)return;J=!0;for(var X=arguments.length,Z=Array(X),W=0;W<X;W++)Z[W]=arguments[W];Y.apply(this,Z)}}function OI4(){}function KI4(Y){return Y.setHeader&&typeof Y.abort==="function"}function uf1(Y,J,X){if(typeof J==="function")return uf1(Y,null,J);if(!J)J={};X=HI4(X||OI4);var Z=J.readable||J.readable!==!1&&Y.readable,W=J.writable||J.writable!==!1&&Y.writable,$=function(){if(!Y.writable)Q()},G=Y._writableState&&Y._writableState.finished,Q=function(){if(W=!1,G=!0,!Z)X.call(Y)},U=Y._readableState&&Y._readableState.endEmitted,z=function(){if(Z=!1,U=!0,!W)X.call(Y)},H=function(F){X.call(Y,F)},O=function(){var F;if(Z&&!U){if(!Y._readableState||!Y._readableState.ended)F=new gf1;return X.call(Y,F)}if(W&&!G){if(!Y._writableState||!Y._writableState.ended)F=new gf1;return X.call(Y,F)}},K=function(){Y.req.on("finish",Q)};if(KI4(Y))if(Y.on("complete",Q),Y.on("abort",O),Y.req)K();else Y.on("request",K);else if(W&&!Y._writableState)Y.on("end",$),Y.on("close",$);if(Y.on("end",z),Y.on("finish",Q),J.error!==!1)Y.on("error",H);return Y.on("close",O),function(){if(Y.removeListener("complete",Q),Y.removeListener("abort",O),Y.removeListener("request",K),Y.req)Y.req.removeListener("finish",Q);Y.removeListener("end",$),Y.removeListener("close",$),Y.removeListener("finish",Q),Y.removeListener("end",z),Y.removeListener("error",H),Y.removeListener("close",O)}}mf1.exports=uf1});var cf1=q((K88,df1)=>{var UR;function _W(Y,J,X){if(J=BI4(J),J in Y)Object.defineProperty(Y,J,{value:X,enumerable:!0,configurable:!0,writable:!0});else Y[J]=X;return Y}function BI4(Y){var J=qI4(Y,"string");return typeof J==="symbol"?J:String(J)}function qI4(Y,J){if(typeof Y!=="object"||Y===null)return Y;var X=Y[Symbol.toPrimitive];if(X!==void 0){var Z=X.call(Y,J||"default");if(typeof Z!=="object")return Z;throw TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(Y)}var FI4=QR(),xW=Symbol("lastResolve"),qQ=Symbol("lastReject"),LV=Symbol("error"),zR=Symbol("ended"),FQ=Symbol("lastPromise"),fp=Symbol("handlePromise"),VQ=Symbol("stream");function fW(Y,J){return{value:Y,done:J}}function VI4(Y){var J=Y[xW];if(J!==null){var X=Y[VQ].read();if(X!==null)Y[FQ]=null,Y[xW]=null,Y[qQ]=null,J(fW(X,!1))}}function II4(Y){process.nextTick(VI4,Y)}function DI4(Y,J){return function(X,Z){Y.then(function(){if(J[zR]){X(fW(void 0,!0));return}J[fp](X,Z)},Z)}}var wI4=Object.getPrototypeOf(function(){}),AI4=Object.setPrototypeOf((UR={get stream(){return this[VQ]},next:function(){var J=this,X=this[LV];if(X!==null)return Promise.reject(X);if(this[zR])return Promise.resolve(fW(void 0,!0));if(this[VQ].destroyed)return new Promise(function(G,Q){process.nextTick(function(){if(J[LV])Q(J[LV]);else G(fW(void 0,!0))})});var Z=this[FQ],W;if(Z)W=new Promise(DI4(Z,this));else{var $=this[VQ].read();if($!==null)return Promise.resolve(fW($,!1));W=new Promise(this[fp])}return this[FQ]=W,W}},_W(UR,Symbol.asyncIterator,function(){return this}),_W(UR,"return",function(){var J=this;return new Promise(function(X,Z){J[VQ].destroy(null,function(W){if(W){Z(W);return}X(fW(void 0,!0))})})}),UR),wI4),PI4=function(J){var X,Z=Object.create(AI4,(X={},_W(X,VQ,{value:J,writable:!0}),_W(X,xW,{value:null,writable:!0}),_W(X,qQ,{value:null,writable:!0}),_W(X,LV,{value:null,writable:!0}),_W(X,zR,{value:J._readableState.endEmitted,writable:!0}),_W(X,fp,{value:function($,G){var Q=Z[VQ].read();if(Q)Z[FQ]=null,Z[xW]=null,Z[qQ]=null,$(fW(Q,!1));else Z[xW]=$,Z[qQ]=G},writable:!0}),X));return Z[FQ]=null,FI4(J,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var $=Z[qQ];if($!==null)Z[FQ]=null,Z[xW]=null,Z[qQ]=null,$(W);Z[LV]=W;return}var G=Z[xW];if(G!==null)Z[FQ]=null,Z[xW]=null,Z[qQ]=null,G(fW(void 0,!0));Z[zR]=!0}),J.on("readable",II4.bind(null,Z)),Z};df1.exports=PI4});var if1=q((B88,nf1)=>{function lf1(Y,J,X,Z,W,$,G){try{var Q=Y[$](G),U=Q.value}catch(z){X(z);return}if(Q.done)J(U);else Promise.resolve(U).then(Z,W)}function LI4(Y){return function(){var J=this,X=arguments;return new Promise(function(Z,W){var $=Y.apply(J,X);function G(U){lf1($,Z,W,G,Q,"next",U)}function Q(U){lf1($,Z,W,G,Q,"throw",U)}G(void 0)})}}function pf1(Y,J){var X=Object.keys(Y);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(Y);J&&(Z=Z.filter(function(W){return Object.getOwnPropertyDescriptor(Y,W).enumerable})),X.push.apply(X,Z)}return X}function MI4(Y){for(var J=1;J<arguments.length;J++){var X=arguments[J]!=null?arguments[J]:{};J%2?pf1(Object(X),!0).forEach(function(Z){EI4(Y,Z,X[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(X)):pf1(Object(X)).forEach(function(Z){Object.defineProperty(Y,Z,Object.getOwnPropertyDescriptor(X,Z))})}return Y}function EI4(Y,J,X){if(J=TI4(J),J in Y)Object.defineProperty(Y,J,{value:X,enumerable:!0,configurable:!0,writable:!0});else Y[J]=X;return Y}function TI4(Y){var J=RI4(Y,"string");return typeof J==="symbol"?J:String(J)}function RI4(Y,J){if(typeof Y!=="object"||Y===null)return Y;var X=Y[Symbol.toPrimitive];if(X!==void 0){var Z=X.call(Y,J||"default");if(typeof Z!=="object")return Z;throw TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(Y)}var NI4=kW().codes.ERR_INVALID_ARG_TYPE;function SI4(Y,J,X){var Z;if(J&&typeof J.next==="function")Z=J;else if(J&&J[Symbol.asyncIterator])Z=J[Symbol.asyncIterator]();else if(J&&J[Symbol.iterator])Z=J[Symbol.iterator]();else throw new NI4("iterable",["Iterable"],J);var W=new Y(MI4({objectMode:!0},X)),$=!1;W._read=function(){if(!$)$=!0,G()};function G(){return Q.apply(this,arguments)}function Q(){return Q=LI4(function*(){try{var U=yield Z.next(),z=U.value,H=U.done;if(H)W.push(null);else if(W.push(yield z))G();else $=!1}catch(O){W.destroy(O)}}),Q.apply(this,arguments)}return W}nf1.exports=SI4});var lp=q((F88,Zv1)=>{Zv1.exports=J4;var $O;J4.ReadableState=sf1;var q88=C("events").EventEmitter,af1=function(J,X){return J.listeners(X).length},EV=C("stream"),HR=C("buffer").Buffer,CI4=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function jI4(Y){return HR.from(Y)}function kI4(Y){return HR.isBuffer(Y)||Y instanceof CI4}var vp=C("util"),b0;if(vp&&vp.debuglog)b0=vp.debuglog("stream");else b0=function(){};var _I4=ff1(),dp=Tp(),xI4=Rp(),fI4=xI4.getHighWaterMark,OR=kW().codes,vI4=OR.ERR_INVALID_ARG_TYPE,hI4=OR.ERR_STREAM_PUSH_AFTER_EOF,bI4=OR.ERR_METHOD_NOT_IMPLEMENTED,yI4=OR.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,GO,hp,bp;WO()(J4,EV);var MV=dp.errorOrDestroy,yp=["error","close","destroy","pause","resume"];function gI4(Y,J,X){if(typeof Y.prependListener==="function")return Y.prependListener(J,X);if(!Y._events||!Y._events[J])Y.on(J,X);else if(Array.isArray(Y._events[J]))Y._events[J].unshift(X);else Y._events[J]=[X,Y._events[J]]}function sf1(Y,J,X){if($O=$O||IQ(),Y=Y||{},typeof X!=="boolean")X=J instanceof $O;if(this.objectMode=!!Y.objectMode,X)this.objectMode=this.objectMode||!!Y.readableObjectMode;if(this.highWaterMark=fI4(this,Y,"readableHighWaterMark",X),this.buffer=new _I4,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.destroyed=!1,this.defaultEncoding=Y.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Y.encoding){if(!GO)GO=xp().StringDecoder;this.decoder=new GO(Y.encoding),this.encoding=Y.encoding}}function J4(Y){if($O=$O||IQ(),!(this instanceof J4))return new J4(Y);var J=this instanceof $O;if(this._readableState=new sf1(Y,this,J),this.readable=!0,Y){if(typeof Y.read==="function")this._read=Y.read;if(typeof Y.destroy==="function")this._destroy=Y.destroy}EV.call(this)}Object.defineProperty(J4.prototype,"destroyed",{enumerable:!1,get:function(){if(this._readableState===void 0)return!1;return this._readableState.destroyed},set:function(J){if(!this._readableState)return;this._readableState.destroyed=J}});J4.prototype.destroy=dp.destroy;J4.prototype._undestroy=dp.undestroy;J4.prototype._destroy=function(Y,J){J(Y)};J4.prototype.push=function(Y,J){var X=this._readableState,Z;if(!X.objectMode){if(typeof Y==="string"){if(J=J||X.defaultEncoding,J!==X.encoding)Y=HR.from(Y,J),J="";Z=!0}}else Z=!0;return tf1(this,Y,J,!1,Z)};J4.prototype.unshift=function(Y){return tf1(this,Y,null,!0,!1)};function tf1(Y,J,X,Z,W){b0("readableAddChunk",J);var $=Y._readableState;if(J===null)$.reading=!1,dI4(Y,$);else{var G;if(!W)G=uI4($,J);if(G)MV(Y,G);else if($.objectMode||J&&J.length>0){if(typeof J!=="string"&&!$.objectMode&&Object.getPrototypeOf(J)!==HR.prototype)J=jI4(J);if(Z)if($.endEmitted)MV(Y,new yI4);else gp(Y,$,J,!0);else if($.ended)MV(Y,new hI4);else if($.destroyed)return!1;else if($.reading=!1,$.decoder&&!X)if(J=$.decoder.write(J),$.objectMode||J.length!==0)gp(Y,$,J,!1);else mp(Y,$);else gp(Y,$,J,!1)}else if(!Z)$.reading=!1,mp(Y,$)}return!$.ended&&($.length<$.highWaterMark||$.length===0)}function gp(Y,J,X,Z){if(J.flowing&&J.length===0&&!J.sync)J.awaitDrain=0,Y.emit("data",X);else{if(J.length+=J.objectMode?1:X.length,Z)J.buffer.unshift(X);else J.buffer.push(X);if(J.needReadable)KR(Y)}mp(Y,J)}function uI4(Y,J){var X;if(!kI4(J)&&typeof J!=="string"&&J!==void 0&&!Y.objectMode)X=new vI4("chunk",["string","Buffer","Uint8Array"],J);return X}J4.prototype.isPaused=function(){return this._readableState.flowing===!1};J4.prototype.setEncoding=function(Y){if(!GO)GO=xp().StringDecoder;var J=new GO(Y);this._readableState.decoder=J,this._readableState.encoding=this._readableState.decoder.encoding;var X=this._readableState.buffer.head,Z="";while(X!==null)Z+=J.write(X.data),X=X.next;if(this._readableState.buffer.clear(),Z!=="")this._readableState.buffer.push(Z);return this._readableState.length=Z.length,this};var of1=1073741824;function mI4(Y){if(Y>=of1)Y=of1;else Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++;return Y}function rf1(Y,J){if(Y<=0||J.length===0&&J.ended)return 0;if(J.objectMode)return 1;if(Y!==Y)if(J.flowing&&J.length)return J.buffer.head.data.length;else return J.length;if(Y>J.highWaterMark)J.highWaterMark=mI4(Y);if(Y<=J.length)return Y;if(!J.ended)return J.needReadable=!0,0;return J.length}J4.prototype.read=function(Y){b0("read",Y),Y=parseInt(Y,10);var J=this._readableState,X=Y;if(Y!==0)J.emittedReadable=!1;if(Y===0&&J.needReadable&&((J.highWaterMark!==0?J.length>=J.highWaterMark:J.length>0)||J.ended)){if(b0("read: emitReadable",J.length,J.ended),J.length===0&&J.ended)up(this);else KR(this);return null}if(Y=rf1(Y,J),Y===0&&J.ended){if(J.length===0)up(this);return null}var Z=J.needReadable;if(b0("need readable",Z),J.length===0||J.length-Y<J.highWaterMark)Z=!0,b0("length less than watermark",Z);if(J.ended||J.reading)Z=!1,b0("reading or ended",Z);else if(Z){if(b0("do read"),J.reading=!0,J.sync=!0,J.length===0)J.needReadable=!0;if(this._read(J.highWaterMark),J.sync=!1,!J.reading)Y=rf1(X,J)}var W;if(Y>0)W=Jv1(Y,J);else W=null;if(W===null)J.needReadable=J.length<=J.highWaterMark,Y=0;else J.length-=Y,J.awaitDrain=0;if(J.length===0){if(!J.ended)J.needReadable=!0;if(X!==Y&&J.ended)up(this)}if(W!==null)this.emit("data",W);return W};function dI4(Y,J){if(b0("onEofChunk"),J.ended)return;if(J.decoder){var X=J.decoder.end();if(X&&X.length)J.buffer.push(X),J.length+=J.objectMode?1:X.length}if(J.ended=!0,J.sync)KR(Y);else if(J.needReadable=!1,!J.emittedReadable)J.emittedReadable=!0,ef1(Y)}function KR(Y){var J=Y._readableState;if(b0("emitReadable",J.needReadable,J.emittedReadable),J.needReadable=!1,!J.emittedReadable)b0("emitReadable",J.flowing),J.emittedReadable=!0,process.nextTick(ef1,Y)}function ef1(Y){var J=Y._readableState;if(b0("emitReadable_",J.destroyed,J.length,J.ended),!J.destroyed&&(J.length||J.ended))Y.emit("readable"),J.emittedReadable=!1;J.needReadable=!J.flowing&&!J.ended&&J.length<=J.highWaterMark,cp(Y)}function mp(Y,J){if(!J.readingMore)J.readingMore=!0,process.nextTick(cI4,Y,J)}function cI4(Y,J){while(!J.reading&&!J.ended&&(J.length<J.highWaterMark||J.flowing&&J.length===0)){var X=J.length;if(b0("maybeReadMore read 0"),Y.read(0),X===J.length)break}J.readingMore=!1}J4.prototype._read=function(Y){MV(this,new bI4("_read()"))};J4.prototype.pipe=function(Y,J){var X=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=Y;break;case 1:Z.pipes=[Z.pipes,Y];break;default:Z.pipes.push(Y);break}Z.pipesCount+=1,b0("pipe count=%d opts=%j",Z.pipesCount,J);var W=(!J||J.end!==!1)&&Y!==process.stdout&&Y!==process.stderr,$=W?Q:V;if(Z.endEmitted)process.nextTick($);else X.once("end",$);Y.on("unpipe",G);function G(I,D){if(b0("onunpipe"),I===X){if(D&&D.hasUnpiped===!1)D.hasUnpiped=!0,H()}}function Q(){b0("onend"),Y.end()}var U=lI4(X);Y.on("drain",U);var z=!1;function H(){if(b0("cleanup"),Y.removeListener("close",B),Y.removeListener("finish",F),Y.removeListener("drain",U),Y.removeListener("error",K),Y.removeListener("unpipe",G),X.removeListener("end",Q),X.removeListener("end",V),X.removeListener("data",O),z=!0,Z.awaitDrain&&(!Y._writableState||Y._writableState.needDrain))U()}X.on("data",O);function O(I){b0("ondata");var D=Y.write(I);if(b0("dest.write",D),D===!1){if((Z.pipesCount===1&&Z.pipes===Y||Z.pipesCount>1&&Xv1(Z.pipes,Y)!==-1)&&!z)b0("false write response, pause",Z.awaitDrain),Z.awaitDrain++;X.pause()}}function K(I){if(b0("onerror",I),V(),Y.removeListener("error",K),af1(Y,"error")===0)MV(Y,I)}gI4(Y,"error",K);function B(){Y.removeListener("finish",F),V()}Y.once("close",B);function F(){b0("onfinish"),Y.removeListener("close",B),V()}Y.once("finish",F);function V(){b0("unpipe"),X.unpipe(Y)}if(Y.emit("pipe",X),!Z.flowing)b0("pipe resume"),X.resume();return Y};function lI4(Y){return function(){var X=Y._readableState;if(b0("pipeOnDrain",X.awaitDrain),X.awaitDrain)X.awaitDrain--;if(X.awaitDrain===0&&af1(Y,"data"))X.flowing=!0,cp(Y)}}J4.prototype.unpipe=function(Y){var J=this._readableState,X={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1){if(Y&&Y!==J.pipes)return this;if(!Y)Y=J.pipes;if(J.pipes=null,J.pipesCount=0,J.flowing=!1,Y)Y.emit("unpipe",this,X);return this}if(!Y){var{pipes:Z,pipesCount:W}=J;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var $=0;$<W;$++)Z[$].emit("unpipe",this,{hasUnpiped:!1});return this}var G=Xv1(J.pipes,Y);if(G===-1)return this;if(J.pipes.splice(G,1),J.pipesCount-=1,J.pipesCount===1)J.pipes=J.pipes[0];return Y.emit("unpipe",this,X),this};J4.prototype.on=function(Y,J){var X=EV.prototype.on.call(this,Y,J),Z=this._readableState;if(Y==="data"){if(Z.readableListening=this.listenerCount("readable")>0,Z.flowing!==!1)this.resume()}else if(Y==="readable"){if(!Z.endEmitted&&!Z.readableListening){if(Z.readableListening=Z.needReadable=!0,Z.flowing=!1,Z.emittedReadable=!1,b0("on readable",Z.length,Z.reading),Z.length)KR(this);else if(!Z.reading)process.nextTick(pI4,this)}}return X};J4.prototype.addListener=J4.prototype.on;J4.prototype.removeListener=function(Y,J){var X=EV.prototype.removeListener.call(this,Y,J);if(Y==="readable")process.nextTick(Yv1,this);return X};J4.prototype.removeAllListeners=function(Y){var J=EV.prototype.removeAllListeners.apply(this,arguments);if(Y==="readable"||Y===void 0)process.nextTick(Yv1,this);return J};function Yv1(Y){var J=Y._readableState;if(J.readableListening=Y.listenerCount("readable")>0,J.resumeScheduled&&!J.paused)J.flowing=!0;else if(Y.listenerCount("data")>0)Y.resume()}function pI4(Y){b0("readable nexttick read 0"),Y.read(0)}J4.prototype.resume=function(){var Y=this._readableState;if(!Y.flowing)b0("resume"),Y.flowing=!Y.readableListening,nI4(this,Y);return Y.paused=!1,this};function nI4(Y,J){if(!J.resumeScheduled)J.resumeScheduled=!0,process.nextTick(iI4,Y,J)}function iI4(Y,J){if(b0("resume",J.reading),!J.reading)Y.read(0);if(J.resumeScheduled=!1,Y.emit("resume"),cp(Y),J.flowing&&!J.reading)Y.read(0)}J4.prototype.pause=function(){if(b0("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1)b0("pause"),this._readableState.flowing=!1,this.emit("pause");return this._readableState.paused=!0,this};function cp(Y){var J=Y._readableState;b0("flow",J.flowing);while(J.flowing&&Y.read()!==null);}J4.prototype.wrap=function(Y){var J=this,X=this._readableState,Z=!1;Y.on("end",function(){if(b0("wrapped end"),X.decoder&&!X.ended){var G=X.decoder.end();if(G&&G.length)J.push(G)}J.push(null)}),Y.on("data",function(G){if(b0("wrapped data"),X.decoder)G=X.decoder.write(G);if(X.objectMode&&(G===null||G===void 0))return;else if(!X.objectMode&&(!G||!G.length))return;var Q=J.push(G);if(!Q)Z=!0,Y.pause()});for(var W in Y)if(this[W]===void 0&&typeof Y[W]==="function")this[W]=function(Q){return function(){return Y[Q].apply(Y,arguments)}}(W);for(var $=0;$<yp.length;$++)Y.on(yp[$],this.emit.bind(this,yp[$]));return this._read=function(G){if(b0("wrapped _read",G),Z)Z=!1,Y.resume()},this};if(typeof Symbol==="function")J4.prototype[Symbol.asyncIterator]=function(){if(hp===void 0)hp=cf1();return hp(this)};Object.defineProperty(J4.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(J4.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(J4.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(J){if(this._readableState)this._readableState.flowing=J}});J4._fromList=Jv1;Object.defineProperty(J4.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Jv1(Y,J){if(J.length===0)return null;var X;if(J.objectMode)X=J.buffer.shift();else if(!Y||Y>=J.length){if(J.decoder)X=J.buffer.join("");else if(J.buffer.length===1)X=J.buffer.first();else X=J.buffer.concat(J.length);J.buffer.clear()}else X=J.buffer.consume(Y,J.decoder);return X}function up(Y){var J=Y._readableState;if(b0("endReadable",J.endEmitted),!J.endEmitted)J.ended=!0,process.nextTick(oI4,J,Y)}function oI4(Y,J){if(b0("endReadableNT",Y.endEmitted,Y.length),!Y.endEmitted&&Y.length===0){if(Y.endEmitted=!0,J.readable=!1,J.emit("end"),Y.autoDestroy){var X=J._writableState;if(!X||X.autoDestroy&&X.finished)J.destroy()}}}if(typeof Symbol==="function")J4.from=function(Y,J){if(bp===void 0)bp=if1();return bp(J4,Y,J)};function Xv1(Y,J){for(var X=0,Z=Y.length;X<Z;X++)if(Y[X]===J)return X;return-1}});var IQ=q((V88,$v1)=>{var rI4=Object.keys||function(Y){var J=[];for(var X in Y)J.push(X);return J};$v1.exports=DX;var Wv1=lp(),pp=qR();WO()(DX,Wv1);{BR=rI4(pp.prototype);for(TV=0;TV<BR.length;TV++)if(RV=BR[TV],!DX.prototype[RV])DX.prototype[RV]=pp.prototype[RV]}var BR,RV,TV;function DX(Y){if(!(this instanceof DX))return new DX(Y);if(Wv1.call(this,Y),pp.call(this,Y),this.allowHalfOpen=!0,Y){if(Y.readable===!1)this.readable=!1;if(Y.writable===!1)this.writable=!1;if(Y.allowHalfOpen===!1)this.allowHalfOpen=!1,this.once("end",aI4)}}Object.defineProperty(DX.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(DX.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(DX.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function aI4(){if(this._writableState.ended)return;process.nextTick(sI4,this)}function sI4(Y){Y.end()}Object.defineProperty(DX.prototype,"destroyed",{enumerable:!1,get:function(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set:function(J){if(this._readableState===void 0||this._writableState===void 0)return;this._readableState.destroyed=J,this._writableState.destroyed=J}})});var qR=q((I88,Ov1)=>{Ov1.exports=S6;function Qv1(Y){var J=this;this.next=null,this.entry=null,this.finish=function(){ED4(J,Y)}}var QO;S6.WritableState=SV;var tI4={deprecate:Pf1()},Uv1=C("stream"),VR=C("buffer").Buffer,eI4=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function YD4(Y){return VR.from(Y)}function JD4(Y){return VR.isBuffer(Y)||Y instanceof eI4}var ip=Tp(),XD4=Rp(),ZD4=XD4.getHighWaterMark,vW=kW().codes,WD4=vW.ERR_INVALID_ARG_TYPE,$D4=vW.ERR_METHOD_NOT_IMPLEMENTED,GD4=vW.ERR_MULTIPLE_CALLBACK,QD4=vW.ERR_STREAM_CANNOT_PIPE,UD4=vW.ERR_STREAM_DESTROYED,zD4=vW.ERR_STREAM_NULL_VALUES,HD4=vW.ERR_STREAM_WRITE_AFTER_END,OD4=vW.ERR_UNKNOWN_ENCODING,UO=ip.errorOrDestroy;WO()(S6,Uv1);function KD4(){}function SV(Y,J,X){if(QO=QO||IQ(),Y=Y||{},typeof X!=="boolean")X=J instanceof QO;if(this.objectMode=!!Y.objectMode,X)this.objectMode=this.objectMode||!!Y.writableObjectMode;this.highWaterMark=ZD4(this,Y,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Z=Y.decodeStrings===!1;this.decodeStrings=!Z,this.defaultEncoding=Y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(W){wD4(J,W)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Qv1(this)}SV.prototype.getBuffer=function(){var J=this.bufferedRequest,X=[];while(J)X.push(J),J=J.next;return X};(function(){try{Object.defineProperty(SV.prototype,"buffer",{get:tI4.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(Y){}})();var FR;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function")FR=Function.prototype[Symbol.hasInstance],Object.defineProperty(S6,Symbol.hasInstance,{value:function(J){if(FR.call(this,J))return!0;if(this!==S6)return!1;return J&&J._writableState instanceof SV}});else FR=function(J){return J instanceof this};function S6(Y){QO=QO||IQ();var J=this instanceof QO;if(!J&&!FR.call(S6,this))return new S6(Y);if(this._writableState=new SV(Y,this,J),this.writable=!0,Y){if(typeof Y.write==="function")this._write=Y.write;if(typeof Y.writev==="function")this._writev=Y.writev;if(typeof Y.destroy==="function")this._destroy=Y.destroy;if(typeof Y.final==="function")this._final=Y.final}Uv1.call(this)}S6.prototype.pipe=function(){UO(this,new QD4)};function BD4(Y,J){var X=new HD4;UO(Y,X),process.nextTick(J,X)}function qD4(Y,J,X,Z){var W;if(X===null)W=new zD4;else if(typeof X!=="string"&&!J.objectMode)W=new WD4("chunk",["string","Buffer"],X);if(W)return UO(Y,W),process.nextTick(Z,W),!1;return!0}S6.prototype.write=function(Y,J,X){var Z=this._writableState,W=!1,$=!Z.objectMode&&JD4(Y);if($&&!VR.isBuffer(Y))Y=YD4(Y);if(typeof J==="function")X=J,J=null;if($)J="buffer";else if(!J)J=Z.defaultEncoding;if(typeof X!=="function")X=KD4;if(Z.ending)BD4(this,X);else if($||qD4(this,Z,Y,X))Z.pendingcb++,W=VD4(this,Z,$,Y,J,X);return W};S6.prototype.cork=function(){this._writableState.corked++};S6.prototype.uncork=function(){var Y=this._writableState;if(Y.corked){if(Y.corked--,!Y.writing&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest)zv1(this,Y)}};S6.prototype.setDefaultEncoding=function(J){if(typeof J==="string")J=J.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((J+"").toLowerCase())>-1))throw new OD4(J);return this._writableState.defaultEncoding=J,this};Object.defineProperty(S6.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function FD4(Y,J,X){if(!Y.objectMode&&Y.decodeStrings!==!1&&typeof J==="string")J=VR.from(J,X);return J}Object.defineProperty(S6.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function VD4(Y,J,X,Z,W,$){if(!X){var G=FD4(J,Z,W);if(Z!==G)X=!0,W="buffer",Z=G}var Q=J.objectMode?1:Z.length;J.length+=Q;var U=J.length<J.highWaterMark;if(!U)J.needDrain=!0;if(J.writing||J.corked){var z=J.lastBufferedRequest;if(J.lastBufferedRequest={chunk:Z,encoding:W,isBuf:X,callback:$,next:null},z)z.next=J.lastBufferedRequest;else J.bufferedRequest=J.lastBufferedRequest;J.bufferedRequestCount+=1}else np(Y,J,!1,Q,Z,W,$);return U}function np(Y,J,X,Z,W,$,G){if(J.writelen=Z,J.writecb=G,J.writing=!0,J.sync=!0,J.destroyed)J.onwrite(new UD4("write"));else if(X)Y._writev(W,J.onwrite);else Y._write(W,$,J.onwrite);J.sync=!1}function ID4(Y,J,X,Z,W){if(--J.pendingcb,X)process.nextTick(W,Z),process.nextTick(NV,Y,J),Y._writableState.errorEmitted=!0,UO(Y,Z);else W(Z),Y._writableState.errorEmitted=!0,UO(Y,Z),NV(Y,J)}function DD4(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}function wD4(Y,J){var X=Y._writableState,Z=X.sync,W=X.writecb;if(typeof W!=="function")throw new GD4;if(DD4(X),J)ID4(Y,X,Z,J,W);else{var $=Hv1(X)||Y.destroyed;if(!$&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest)zv1(Y,X);if(Z)process.nextTick(Gv1,Y,X,$,W);else Gv1(Y,X,$,W)}}function Gv1(Y,J,X,Z){if(!X)AD4(Y,J);J.pendingcb--,Z(),NV(Y,J)}function AD4(Y,J){if(J.length===0&&J.needDrain)J.needDrain=!1,Y.emit("drain")}function zv1(Y,J){J.bufferProcessing=!0;var X=J.bufferedRequest;if(Y._writev&&X&&X.next){var Z=J.bufferedRequestCount,W=Array(Z),$=J.corkedRequestsFree;$.entry=X;var G=0,Q=!0;while(X){if(W[G]=X,!X.isBuf)Q=!1;X=X.next,G+=1}if(W.allBuffers=Q,np(Y,J,!0,J.length,W,"",$.finish),J.pendingcb++,J.lastBufferedRequest=null,$.next)J.corkedRequestsFree=$.next,$.next=null;else J.corkedRequestsFree=new Qv1(J);J.bufferedRequestCount=0}else{while(X){var{chunk:U,encoding:z,callback:H}=X,O=J.objectMode?1:U.length;if(np(Y,J,!1,O,U,z,H),X=X.next,J.bufferedRequestCount--,J.writing)break}if(X===null)J.lastBufferedRequest=null}J.bufferedRequest=X,J.bufferProcessing=!1}S6.prototype._write=function(Y,J,X){X(new $D4("_write()"))};S6.prototype._writev=null;S6.prototype.end=function(Y,J,X){var Z=this._writableState;if(typeof Y==="function")X=Y,Y=null,J=null;else if(typeof J==="function")X=J,J=null;if(Y!==null&&Y!==void 0)this.write(Y,J);if(Z.corked)Z.corked=1,this.uncork();if(!Z.ending)MD4(this,Z,X);return this};Object.defineProperty(S6.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Hv1(Y){return Y.ending&&Y.length===0&&Y.bufferedRequest===null&&!Y.finished&&!Y.writing}function PD4(Y,J){Y._final(function(X){if(J.pendingcb--,X)UO(Y,X);J.prefinished=!0,Y.emit("prefinish"),NV(Y,J)})}function LD4(Y,J){if(!J.prefinished&&!J.finalCalled)if(typeof Y._final==="function"&&!J.destroyed)J.pendingcb++,J.finalCalled=!0,process.nextTick(PD4,Y,J);else J.prefinished=!0,Y.emit("prefinish")}function NV(Y,J){var X=Hv1(J);if(X){if(LD4(Y,J),J.pendingcb===0){if(J.finished=!0,Y.emit("finish"),J.autoDestroy){var Z=Y._readableState;if(!Z||Z.autoDestroy&&Z.endEmitted)Y.destroy()}}}return X}function MD4(Y,J,X){if(J.ending=!0,NV(Y,J),X)if(J.finished)process.nextTick(X);else Y.once("finish",X);J.ended=!0,Y.writable=!1}function ED4(Y,J,X){var Z=Y.entry;Y.entry=null;while(Z){var W=Z.callback;J.pendingcb--,W(X),Z=Z.next}J.corkedRequestsFree.next=Y}Object.defineProperty(S6.prototype,"destroyed",{enumerable:!1,get:function(){if(this._writableState===void 0)return!1;return this._writableState.destroyed},set:function(J){if(!this._writableState)return;this._writableState.destroyed=J}});S6.prototype.destroy=ip.destroy;S6.prototype._undestroy=ip.undestroy;S6.prototype._destroy=function(Y,J){J(Y)}});var Kv1=q((TD4)=>{TD4.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};TD4.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}});var Bv1=q((SD4)=>{SD4.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};SD4.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}});var qv1=q((kD4)=>{kD4.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};kD4.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}});var Fv1=q((IR)=>{Object.defineProperty(IR,"cli",{value:Kv1()});Object.defineProperty(IR,"npm",{value:Bv1()});Object.defineProperty(IR,"syslog",{value:qv1()})});var u6=q((CV)=>{Object.defineProperty(CV,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(CV,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(CV,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(CV,"configs",{value:Fv1()})});var op=q((M88,Dv1)=>{var fD4=C("util"),Vv1=qR(),{LEVEL:Iv1}=u6(),jV=Dv1.exports=function(J={}){if(Vv1.call(this,{objectMode:!0,highWaterMark:J.highWaterMark}),this.format=J.format,this.level=J.level,this.handleExceptions=J.handleExceptions,this.handleRejections=J.handleRejections,this.silent=J.silent,J.log)this.log=J.log;if(J.logv)this.logv=J.logv;if(J.close)this.close=J.close;this.once("pipe",(X)=>{this.levels=X.levels,this.parent=X}),this.once("unpipe",(X)=>{if(X===this.parent){if(this.parent=null,this.close)this.close()}})};fD4.inherits(jV,Vv1);jV.prototype._write=function(J,X,Z){if(this.silent||J.exception===!0&&!this.handleExceptions)return Z(null);let W=this.level||this.parent&&this.parent.level;if(!W||this.levels[W]>=this.levels[J[Iv1]]){if(J&&!this.format)return this.log(J,Z);let $,G;try{G=this.format.transform(Object.assign({},J),this.format.options)}catch(Q){$=Q}if($||!G){if(Z(),$)throw $;return}return this.log(G,Z)}return this._writableState.sync=!1,Z(null)};jV.prototype._writev=function(J,X){if(this.logv){let Z=J.filter(this._accept,this);if(!Z.length)return X(null);return this.logv(Z,X)}for(let Z=0;Z<J.length;Z++){if(!this._accept(J[Z]))continue;if(J[Z].chunk&&!this.format){this.log(J[Z].chunk,J[Z].callback);continue}let W,$;try{$=this.format.transform(Object.assign({},J[Z].chunk),this.format.options)}catch(G){W=G}if(W||!$){if(J[Z].callback(),W)throw X(null),W}else this.log($,J[Z].callback)}return X(null)};jV.prototype._accept=function(J){let X=J.chunk;if(this.silent)return!1;let Z=this.level||this.parent&&this.parent.level;if(X.exception===!0||!Z||this.levels[Z]>=this.levels[X[Iv1]]){if(this.handleExceptions||X.exception!==!0)return!0}return!1};jV.prototype._nop=function(){return}});var ap=q((E88,Av1)=>{var vD4=C("util"),{LEVEL:rp}=u6(),wv1=op(),kV=Av1.exports=function(J={}){if(wv1.call(this,J),!J.transport||typeof J.transport.log!=="function")throw Error("Invalid transport, must be an object with a log method.");this.transport=J.transport,this.level=this.level||J.transport.level,this.handleExceptions=this.handleExceptions||J.transport.handleExceptions,this._deprecated();function X(Z){this.emit("error",Z,this.transport)}if(!this.transport.__winstonError)this.transport.__winstonError=X.bind(this),this.transport.on("error",this.transport.__winstonError)};vD4.inherits(kV,wv1);kV.prototype._write=function(J,X,Z){if(this.silent||J.exception===!0&&!this.handleExceptions)return Z(null);if(!this.level||this.levels[this.level]>=this.levels[J[rp]])this.transport.log(J[rp],J.message,J,this._nop);Z(null)};kV.prototype._writev=function(J,X){for(let Z=0;Z<J.length;Z++)if(this._accept(J[Z]))this.transport.log(J[Z].chunk[rp],J[Z].chunk.message,J[Z].chunk,this._nop),J[Z].callback();return X(null)};kV.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))};kV.prototype.close=function(){if(this.transport.close)this.transport.close();if(this.transport.__winstonError)this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null}});var DQ=q((T88,sp)=>{sp.exports=op();sp.exports.LegacyTransportStream=ap()});var Mv1=q((Pv1)=>{Object.defineProperty(Pv1,"__esModule",{value:!0});Pv1.PACKAGE_NAME=Pv1.PACKAGE_VERSION=void 0;Pv1.PACKAGE_VERSION="0.22.0";Pv1.PACKAGE_NAME="@opentelemetry/winston-transport"});var Rv1=q((Ev1)=>{Object.defineProperty(Ev1,"__esModule",{value:!0});Ev1.emitLogRecord=void 0;var a4=F5(),bD4={error:a4.SeverityNumber.ERROR,warn:a4.SeverityNumber.WARN,info:a4.SeverityNumber.INFO,http:a4.SeverityNumber.DEBUG3,verbose:a4.SeverityNumber.DEBUG2,debug:a4.SeverityNumber.DEBUG,silly:a4.SeverityNumber.TRACE},yD4={emerg:a4.SeverityNumber.FATAL3,alert:a4.SeverityNumber.FATAL2,crit:a4.SeverityNumber.FATAL,error:a4.SeverityNumber.ERROR,warning:a4.SeverityNumber.WARN,notice:a4.SeverityNumber.INFO2,info:a4.SeverityNumber.INFO,debug:a4.SeverityNumber.DEBUG},gD4={error:a4.SeverityNumber.ERROR,warn:a4.SeverityNumber.WARN,help:a4.SeverityNumber.INFO3,data:a4.SeverityNumber.INFO2,info:a4.SeverityNumber.INFO,debug:a4.SeverityNumber.DEBUG,prompt:a4.SeverityNumber.TRACE4,verbose:a4.SeverityNumber.TRACE3,input:a4.SeverityNumber.TRACE2,silly:a4.SeverityNumber.TRACE};function uD4(Y){return bD4[Y]??yD4[Y]??gD4[Y]}function mD4(Y,J){let{message:X,level:Z,...W}=Y,$={},G=Y[Symbol.for("level")];for(let U in W)if(Object.prototype.hasOwnProperty.call(W,U))$[U]=W[U];let Q={severityNumber:uD4(G),severityText:G,body:X,attributes:$};J.emit(Q)}Ev1.emitLogRecord=mD4});var kv1=q((Cv1)=>{Object.defineProperty(Cv1,"__esModule",{value:!0});Cv1.OpenTelemetryTransportV3=void 0;var dD4=F5(),cD4=DQ(),Nv1=Mv1(),lD4=Rv1();class Sv1 extends cD4{_logger;constructor(Y){super(Y);this._logger=dD4.logs.getLogger(Nv1.PACKAGE_NAME,Nv1.PACKAGE_VERSION)}log(Y,J){try{(0,lD4.emitLogRecord)(Y,this._logger)}catch(X){this.emit("warn",X)}if(this.emit("logged",Y),J)J()}}Cv1.OpenTelemetryTransportV3=Sv1});var ep=q((tp)=>{Object.defineProperty(tp,"__esModule",{value:!0});tp.OpenTelemetryTransportV3=void 0;var pD4=kv1();Object.defineProperty(tp,"OpenTelemetryTransportV3",{enumerable:!0,get:function(){return pD4.OpenTelemetryTransportV3}})});var yv1=q((hv1)=>{Object.defineProperty(hv1,"__esModule",{value:!0});hv1.WinstonInstrumentation=void 0;var Yn=t(),s4=F5(),JZ=t1(),_v1=wf1(),xv1=[">=3 <4"],fv1=[">=1 <3"];class vv1 extends JZ.InstrumentationBase{constructor(Y={}){super(_v1.PACKAGE_NAME,_v1.PACKAGE_VERSION,Y)}init(){let Y=new JZ.InstrumentationNodeModuleDefinition("winston",xv1,(X)=>X,()=>{},[new JZ.InstrumentationNodeModuleFile("winston/lib/winston/logger.js",xv1,(X)=>{if((0,JZ.isWrapped)(X.prototype.write))this._unwrap(X.prototype,"write");if(this._wrap(X.prototype,"write",this._getPatchedWrite()),(0,JZ.isWrapped)(X.prototype.configure))this._unwrap(X.prototype,"configure");return this._wrap(X.prototype,"configure",this._getPatchedConfigure()),X},(X)=>{if(X===void 0)return;this._unwrap(X.prototype,"write"),this._unwrap(X.prototype,"configure")})]),J=new JZ.InstrumentationNodeModuleDefinition("winston",fv1,(X)=>X,()=>{},[new JZ.InstrumentationNodeModuleFile("winston/lib/winston/logger.js",fv1,(X)=>{let Z=X.Logger.prototype;if((0,JZ.isWrapped)(Z.log))this._unwrap(Z,"log");return this._wrap(Z,"log",this._getPatchedLog()),X},(X)=>{if(X===void 0)return;this._unwrap(X.Logger.prototype,"log")})]);return[Y,J]}_callHook(Y,J){let{logHook:X}=this.getConfig();if(!X)return;(0,JZ.safeExecuteInTheMiddle)(()=>X(Y,J),(Z)=>{if(Z)this._diag.error("error calling logHook",Z)},!0)}_getPatchedWrite(){return(Y)=>{let J=this;return function(...Z){let W=Z[0];return J._handleLogCorrelation(W),Y.apply(this,Z)}}}_getPatchedLog(){return(Y)=>{let J=this;return function(...Z){let W={};J._handleLogCorrelation(W);let $=!1;for(let G=Z.length-1;G>=0;G--)if(typeof Z[G]==="object"){Z[G]=Object.assign(Z[G],W),$=!0;break}if(!$){let G=typeof Z[Z.length-1]==="function"?Z.length-1:Z.length;Z.splice(G,0,W)}return Y.apply(this,Z)}}}_getPatchedConfigure(){return(Y)=>{let J=this;return function(...Z){let W=J.getConfig();if(!W.disableLogSending){if(Z&&Z.length>0)try{let{OpenTelemetryTransportV3:$}=ep(),G=Z[0].transports,Q=Array.isArray(G)?G:[],U={};if(W.logSeverity)U={level:J._winstonLevelFromSeverity(W.logSeverity,Z[0].levels)};let z=new $(U);if(G&&!Array.isArray(G))Q=[G];Q.push(z),Z[0].transports=Q}catch($){J._diag.warn("@opentelemetry/winston-transport is not available, log records will not be automatically sent.")}}return Y.apply(this,Z)}}}_handleLogCorrelation(Y){if(!this.getConfig().disableLogCorrelation){let J=Yn.trace.getSpan(Yn.context.active());if(J){let X=J.spanContext();if((0,Yn.isSpanContextValid)(X)){let Z={trace_id:X.traceId,span_id:X.spanId,trace_flags:`0${X.traceFlags.toString(16)}`},W=Object.assign(Y,Z);return this._callHook(J,W),W}}}return Y}_winstonLevelFromSeverity(Y,J){if(J){if(Z(J)){if(Y>=s4.SeverityNumber.ERROR)return"error";else if(Y>=s4.SeverityNumber.WARN)return"warn";else if(Y>=s4.SeverityNumber.INFO)return"info";else if(Y>=s4.SeverityNumber.DEBUG3)return"http";else if(Y>=s4.SeverityNumber.DEBUG2)return"verbose";else if(Y>=s4.SeverityNumber.DEBUG)return"debug";else if(Y>=s4.SeverityNumber.TRACE)return"silly"}else if(X(J)){if(Y>=s4.SeverityNumber.ERROR)return"error";else if(Y>=s4.SeverityNumber.WARN)return"warn";else if(Y>=s4.SeverityNumber.INFO3)return"help";else if(Y>=s4.SeverityNumber.INFO2)return"data";else if(Y>=s4.SeverityNumber.INFO)return"info";else if(Y>=s4.SeverityNumber.DEBUG)return"debug";else if(Y>=s4.SeverityNumber.TRACE4)return"prompt";else if(Y>=s4.SeverityNumber.TRACE3)return"verbose";else if(Y>=s4.SeverityNumber.TRACE2)return"input";else if(Y>=s4.SeverityNumber.TRACE)return"silly"}else if(W(J)){if(Y>=s4.SeverityNumber.FATAL2)return"emerg";else if(Y>=s4.SeverityNumber.FATAL)return"alert";else if(Y>=s4.SeverityNumber.ERROR2)return"crit";else if(Y>=s4.SeverityNumber.ERROR)return"error";else if(Y>=s4.SeverityNumber.WARN)return"warning";else if(Y>=s4.SeverityNumber.INFO2)return"notice";else if(Y>=s4.SeverityNumber.INFO)return"info";else if(Y>=s4.SeverityNumber.TRACE)return"debug"}this._diag.warn("failed to configure severity with existing winston levels")}function X($){return $&&$.error!==void 0&&$.warn&&$.help&&$.data&&$.info&&$.debug&&$.prompt&&$.verbose&&$.input&&$.silly}function Z($){return $&&$.error!==void 0&&$.warn&&$.info&&$.http&&$.verbose&&$.debug&&$.silly}function W($){return $&&$.emerg!==void 0&&$.alert&&$.crit&&$.error&&$.warning&&$.notice&&$.info&&$.debug}return}}hv1.WinstonInstrumentation=vv1});var gv1=q((Jn)=>{Object.defineProperty(Jn,"__esModule",{value:!0});Jn.WinstonInstrumentation=void 0;var iD4=yv1();Object.defineProperty(Jn,"WinstonInstrumentation",{enumerable:!0,get:function(){return iD4.WinstonInstrumentation}})});var dv1=q((uv1)=>{Object.defineProperty(uv1,"__esModule",{value:!0});uv1.CLOUD_PROVIDER_VALUE_ALIBABA_CLOUD=uv1.CLOUD_PLATFORM_VALUE_ALIBABA_CLOUD_ECS=uv1.ATTR_HOST_TYPE=uv1.ATTR_HOST_NAME=uv1.ATTR_HOST_ID=uv1.ATTR_CLOUD_REGION=uv1.ATTR_CLOUD_PROVIDER=uv1.ATTR_CLOUD_PLATFORM=uv1.ATTR_CLOUD_AVAILABILITY_ZONE=uv1.ATTR_CLOUD_ACCOUNT_ID=void 0;uv1.ATTR_CLOUD_ACCOUNT_ID="cloud.account.id";uv1.ATTR_CLOUD_AVAILABILITY_ZONE="cloud.availability_zone";uv1.ATTR_CLOUD_PLATFORM="cloud.platform";uv1.ATTR_CLOUD_PROVIDER="cloud.provider";uv1.ATTR_CLOUD_REGION="cloud.region";uv1.ATTR_HOST_ID="host.id";uv1.ATTR_HOST_NAME="host.name";uv1.ATTR_HOST_TYPE="host.type";uv1.CLOUD_PLATFORM_VALUE_ALIBABA_CLOUD_ECS="alibaba_cloud_ecs";uv1.CLOUD_PROVIDER_VALUE_ALIBABA_CLOUD="alibaba_cloud"});var nv1=q((lv1)=>{Object.defineProperty(lv1,"__esModule",{value:!0});lv1.alibabaCloudEcsDetector=void 0;var Xn=t(),Ww4=k1(),c8=dv1(),$w4=C("http");class cv1{ALIBABA_CLOUD_IDMS_ENDPOINT="100.100.100.200";ALIBABA_CLOUD_INSTANCE_IDENTITY_DOCUMENT_PATH="/latest/dynamic/instance-identity/document";ALIBABA_CLOUD_INSTANCE_HOST_DOCUMENT_PATH="/latest/meta-data/hostname";MILLISECONDS_TIME_OUT=1000;detect(){let Y=Xn.context.with((0,Ww4.suppressTracing)(Xn.context.active()),()=>this._gatherData()),J=[c8.ATTR_CLOUD_PROVIDER,c8.ATTR_CLOUD_PLATFORM,c8.ATTR_CLOUD_ACCOUNT_ID,c8.ATTR_CLOUD_REGION,c8.ATTR_CLOUD_AVAILABILITY_ZONE,c8.ATTR_HOST_ID,c8.ATTR_HOST_TYPE,c8.ATTR_HOST_NAME],X={};return J.forEach((Z)=>{X[Z]=Y.then((W)=>W[Z])}),{attributes:X}}async _gatherData(){try{let{"owner-account-id":Y,"instance-id":J,"instance-type":X,"region-id":Z,"zone-id":W}=await this._fetchIdentity(),$=await this._fetchHost();return{[c8.ATTR_CLOUD_PROVIDER]:c8.CLOUD_PROVIDER_VALUE_ALIBABA_CLOUD,[c8.ATTR_CLOUD_PLATFORM]:c8.CLOUD_PLATFORM_VALUE_ALIBABA_CLOUD_ECS,[c8.ATTR_CLOUD_ACCOUNT_ID]:Y,[c8.ATTR_CLOUD_REGION]:Z,[c8.ATTR_CLOUD_AVAILABILITY_ZONE]:W,[c8.ATTR_HOST_ID]:J,[c8.ATTR_HOST_TYPE]:X,[c8.ATTR_HOST_NAME]:$}}catch(Y){return Xn.diag.debug(`${this.constructor.name}: did not detect resource: ${Y?.message}`),{}}}async _fetchIdentity(){let Y={host:this.ALIBABA_CLOUD_IDMS_ENDPOINT,path:this.ALIBABA_CLOUD_INSTANCE_IDENTITY_DOCUMENT_PATH,method:"GET",timeout:this.MILLISECONDS_TIME_OUT},J=await this._fetchString(Y);return JSON.parse(J)}async _fetchHost(){let Y={host:this.ALIBABA_CLOUD_IDMS_ENDPOINT,path:this.ALIBABA_CLOUD_INSTANCE_HOST_DOCUMENT_PATH,method:"GET",timeout:this.MILLISECONDS_TIME_OUT};return await this._fetchString(Y)}async _fetchString(Y){return new Promise((J,X)=>{let Z=setTimeout(()=>{W.destroy(Error("ECS metadata api request timed out."))},this.MILLISECONDS_TIME_OUT),W=$w4.request(Y,($)=>{clearTimeout(Z);let{statusCode:G}=$;if(typeof G!=="number"||!(G>=200&&G<300))return $.destroy(),X(Error(`Failed to load page, status code: ${G}`));$.setEncoding("utf8");let Q="";$.on("data",(U)=>Q+=U),$.on("error",(U)=>{X(U)}),$.on("end",()=>{J(Q)})});W.on("error",($)=>{clearTimeout(Z),X($)}),W.end()})}}lv1.alibabaCloudEcsDetector=new cv1});var iv1=q((Zn)=>{Object.defineProperty(Zn,"__esModule",{value:!0});Zn.alibabaCloudEcsDetector=void 0;var Gw4=nv1();Object.defineProperty(Zn,"alibabaCloudEcsDetector",{enumerable:!0,get:function(){return Gw4.alibabaCloudEcsDetector}})});var ov1=q((Wn)=>{Object.defineProperty(Wn,"__esModule",{value:!0});Wn.alibabaCloudEcsDetector=void 0;var Uw4=iv1();Object.defineProperty(Wn,"alibabaCloudEcsDetector",{enumerable:!0,get:function(){return Uw4.alibabaCloudEcsDetector}})});var zO=q((rv1)=>{Object.defineProperty(rv1,"__esModule",{value:!0});rv1.CLOUD_PROVIDER_VALUE_AWS=rv1.CLOUD_PLATFORM_VALUE_AWS_LAMBDA=rv1.CLOUD_PLATFORM_VALUE_AWS_ELASTIC_BEANSTALK=rv1.CLOUD_PLATFORM_VALUE_AWS_EKS=rv1.CLOUD_PLATFORM_VALUE_AWS_ECS=rv1.CLOUD_PLATFORM_VALUE_AWS_EC2=rv1.ATTR_SERVICE_NAMESPACE=rv1.ATTR_SERVICE_INSTANCE_ID=rv1.ATTR_K8S_CLUSTER_NAME=rv1.ATTR_HOST_TYPE=rv1.ATTR_HOST_NAME=rv1.ATTR_HOST_ID=rv1.ATTR_FAAS_VERSION=rv1.ATTR_FAAS_MAX_MEMORY=rv1.ATTR_FAAS_INSTANCE=rv1.ATTR_FAAS_NAME=rv1.ATTR_CONTAINER_NAME=rv1.ATTR_CONTAINER_ID=rv1.ATTR_CLOUD_RESOURCE_ID=rv1.ATTR_CLOUD_REGION=rv1.ATTR_CLOUD_PROVIDER=rv1.ATTR_CLOUD_PLATFORM=rv1.ATTR_CLOUD_AVAILABILITY_ZONE=rv1.ATTR_CLOUD_ACCOUNT_ID=rv1.ATTR_AWS_LOG_STREAM_NAMES=rv1.ATTR_AWS_LOG_STREAM_ARNS=rv1.ATTR_AWS_LOG_GROUP_NAMES=rv1.ATTR_AWS_LOG_GROUP_ARNS=rv1.ATTR_AWS_ECS_TASK_REVISION=rv1.ATTR_AWS_ECS_TASK_FAMILY=rv1.ATTR_AWS_ECS_TASK_ARN=rv1.ATTR_AWS_ECS_LAUNCHTYPE=rv1.ATTR_AWS_ECS_CONTAINER_ARN=rv1.ATTR_AWS_ECS_CLUSTER_ARN=void 0;rv1.ATTR_AWS_ECS_CLUSTER_ARN="aws.ecs.cluster.arn";rv1.ATTR_AWS_ECS_CONTAINER_ARN="aws.ecs.container.arn";rv1.ATTR_AWS_ECS_LAUNCHTYPE="aws.ecs.launchtype";rv1.ATTR_AWS_ECS_TASK_ARN="aws.ecs.task.arn";rv1.ATTR_AWS_ECS_TASK_FAMILY="aws.ecs.task.family";rv1.ATTR_AWS_ECS_TASK_REVISION="aws.ecs.task.revision";rv1.ATTR_AWS_LOG_GROUP_ARNS="aws.log.group.arns";rv1.ATTR_AWS_LOG_GROUP_NAMES="aws.log.group.names";rv1.ATTR_AWS_LOG_STREAM_ARNS="aws.log.stream.arns";rv1.ATTR_AWS_LOG_STREAM_NAMES="aws.log.stream.names";rv1.ATTR_CLOUD_ACCOUNT_ID="cloud.account.id";rv1.ATTR_CLOUD_AVAILABILITY_ZONE="cloud.availability_zone";rv1.ATTR_CLOUD_PLATFORM="cloud.platform";rv1.ATTR_CLOUD_PROVIDER="cloud.provider";rv1.ATTR_CLOUD_REGION="cloud.region";rv1.ATTR_CLOUD_RESOURCE_ID="cloud.resource_id";rv1.ATTR_CONTAINER_ID="container.id";rv1.ATTR_CONTAINER_NAME="container.name";rv1.ATTR_FAAS_NAME="faas.name";rv1.ATTR_FAAS_INSTANCE="faas.instance";rv1.ATTR_FAAS_MAX_MEMORY="faas.max_memory";rv1.ATTR_FAAS_VERSION="faas.version";rv1.ATTR_HOST_ID="host.id";rv1.ATTR_HOST_NAME="host.name";rv1.ATTR_HOST_TYPE="host.type";rv1.ATTR_K8S_CLUSTER_NAME="k8s.cluster.name";rv1.ATTR_SERVICE_INSTANCE_ID="service.instance.id";rv1.ATTR_SERVICE_NAMESPACE="service.namespace";rv1.CLOUD_PLATFORM_VALUE_AWS_EC2="aws_ec2";rv1.CLOUD_PLATFORM_VALUE_AWS_ECS="aws_ecs";rv1.CLOUD_PLATFORM_VALUE_AWS_EKS="aws_eks";rv1.CLOUD_PLATFORM_VALUE_AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk";rv1.CLOUD_PLATFORM_VALUE_AWS_LAMBDA="aws_lambda";rv1.CLOUD_PROVIDER_VALUE_AWS="aws"});var Yh1=q((tv1)=>{Object.defineProperty(tv1,"__esModule",{value:!0});tv1.awsBeanstalkDetector=tv1.AwsBeanstalkDetector=void 0;var $n=t(),cw4=k1(),DR=X0(),oY=zO(),Gn=C("fs"),sv1=C("util"),lw4="/var/elasticbeanstalk/xray/environment.conf",pw4="C:\\Program Files\\Amazon\\XRay\\environment.conf";class _V{BEANSTALK_CONF_PATH;static readFileAsync=sv1.promisify(Gn.readFile);static fileAccessAsync=sv1.promisify(Gn.access);constructor(){if(process.platform==="win32")this.BEANSTALK_CONF_PATH=pw4;else this.BEANSTALK_CONF_PATH=lw4}detect(){let Y=$n.context.with((0,cw4.suppressTracing)($n.context.active()),()=>this._gatherData()),J=[oY.ATTR_CLOUD_PROVIDER,oY.ATTR_CLOUD_PLATFORM,DR.ATTR_SERVICE_NAME,oY.ATTR_SERVICE_NAMESPACE,DR.ATTR_SERVICE_VERSION,oY.ATTR_SERVICE_INSTANCE_ID],X={};return J.forEach((Z)=>{X[Z]=Y.then((W)=>W[Z])}),{attributes:X}}async _gatherData(){try{await _V.fileAccessAsync(this.BEANSTALK_CONF_PATH,Gn.constants.R_OK);let Y=await _V.readFileAsync(this.BEANSTALK_CONF_PATH,"utf8"),J=JSON.parse(Y);return{[oY.ATTR_CLOUD_PROVIDER]:oY.CLOUD_PROVIDER_VALUE_AWS,[oY.ATTR_CLOUD_PLATFORM]:oY.CLOUD_PLATFORM_VALUE_AWS_ELASTIC_BEANSTALK,[DR.ATTR_SERVICE_NAME]:oY.CLOUD_PLATFORM_VALUE_AWS_ELASTIC_BEANSTALK,[oY.ATTR_SERVICE_NAMESPACE]:J.environment_name,[DR.ATTR_SERVICE_VERSION]:J.version_label,[oY.ATTR_SERVICE_INSTANCE_ID]:J.deployment_id}}catch(Y){return $n.diag.debug(`AwsBeanstalkDetector: did not detect resource: ${Y.message}`),{}}}}tv1.AwsBeanstalkDetector=_V;tv1.awsBeanstalkDetector=new _V});var $h1=q((Zh1)=>{Object.defineProperty(Zh1,"__esModule",{value:!0});Zh1.awsEc2Detector=void 0;var Jh1=t(),iw4=k1(),l8=zO(),ow4=C("http");class Xh1{AWS_IDMS_ENDPOINT="169.254.169.254";AWS_INSTANCE_TOKEN_DOCUMENT_PATH="/latest/api/token";AWS_INSTANCE_IDENTITY_DOCUMENT_PATH="/latest/dynamic/instance-identity/document";AWS_INSTANCE_HOST_DOCUMENT_PATH="/latest/meta-data/hostname";AWS_METADATA_TTL_HEADER="X-aws-ec2-metadata-token-ttl-seconds";AWS_METADATA_TOKEN_HEADER="X-aws-ec2-metadata-token";MILLISECOND_TIME_OUT=5000;detect(){let Y=Jh1.context.with((0,iw4.suppressTracing)(Jh1.context.active()),()=>this._gatherData()),J=[l8.ATTR_CLOUD_PROVIDER,l8.ATTR_CLOUD_PLATFORM,l8.ATTR_CLOUD_ACCOUNT_ID,l8.ATTR_CLOUD_REGION,l8.ATTR_CLOUD_AVAILABILITY_ZONE,l8.ATTR_HOST_ID,l8.ATTR_HOST_TYPE,l8.ATTR_HOST_NAME],X={};return J.forEach((Z)=>{X[Z]=Y.then((W)=>W[Z])}),{attributes:X}}async _gatherData(){try{let Y=await this._fetchToken(),{accountId:J,instanceId:X,instanceType:Z,region:W,availabilityZone:$}=await this._fetchIdentity(Y),G=await this._fetchHost(Y);return{[l8.ATTR_CLOUD_PROVIDER]:l8.CLOUD_PROVIDER_VALUE_AWS,[l8.ATTR_CLOUD_PLATFORM]:l8.CLOUD_PLATFORM_VALUE_AWS_EC2,[l8.ATTR_CLOUD_ACCOUNT_ID]:J,[l8.ATTR_CLOUD_REGION]:W,[l8.ATTR_CLOUD_AVAILABILITY_ZONE]:$,[l8.ATTR_HOST_ID]:X,[l8.ATTR_HOST_TYPE]:Z,[l8.ATTR_HOST_NAME]:G}}catch{return{}}}async _fetchToken(){let Y={host:this.AWS_IDMS_ENDPOINT,path:this.AWS_INSTANCE_TOKEN_DOCUMENT_PATH,method:"PUT",timeout:this.MILLISECOND_TIME_OUT,headers:{[this.AWS_METADATA_TTL_HEADER]:"60"}};return await this._fetchString(Y)}async _fetchIdentity(Y){let J={host:this.AWS_IDMS_ENDPOINT,path:this.AWS_INSTANCE_IDENTITY_DOCUMENT_PATH,method:"GET",timeout:this.MILLISECOND_TIME_OUT,headers:{[this.AWS_METADATA_TOKEN_HEADER]:Y}},X=await this._fetchString(J);return JSON.parse(X)}async _fetchHost(Y){let J={host:this.AWS_IDMS_ENDPOINT,path:this.AWS_INSTANCE_HOST_DOCUMENT_PATH,method:"GET",timeout:this.MILLISECOND_TIME_OUT,headers:{[this.AWS_METADATA_TOKEN_HEADER]:Y}};return await this._fetchString(J)}async _fetchString(Y){return new Promise((J,X)=>{let Z=setTimeout(()=>{W.abort(),X(Error("EC2 metadata api request timed out."))},this.MILLISECOND_TIME_OUT),W=ow4.request(Y,($)=>{clearTimeout(Z);let{statusCode:G}=$;$.setEncoding("utf8");let Q="";$.on("data",(U)=>Q+=U),$.on("end",()=>{if(G&&G>=200&&G<300)try{J(Q)}catch(U){X(U)}else X(Error("Failed to load page, status code: "+G))})});W.on("error",($)=>{clearTimeout(Z),X($)}),W.end()})}}Zh1.awsEc2Detector=new Xh1});var Uh1=q((Gh1)=>{Object.defineProperty(Gh1,"__esModule",{value:!0});Gh1.awsEcsDetector=Gh1.AwsEcsDetector=void 0;var wR=t(),rw4=k1(),y0=zO(),aw4=C("http"),sw4=C("util"),tw4=C("fs"),ew4=C("os"),YA4=1000;class M8{static CONTAINER_ID_LENGTH=64;static CONTAINER_ID_LENGTH_MIN=32;static DEFAULT_CGROUP_PATH="/proc/self/cgroup";static readFileAsync=sw4.promisify(tw4.readFile);detect(){return{attributes:wR.context.with((0,rw4.suppressTracing)(wR.context.active()),()=>this._getAttributes())}}_getAttributes(){if(!process.env.ECS_CONTAINER_METADATA_URI_V4&&!process.env.ECS_CONTAINER_METADATA_URI)return wR.diag.debug("AwsEcsDetector: Process is not on ECS"),{};let Y=this._gatherData(),J=[y0.ATTR_CLOUD_PROVIDER,y0.ATTR_CLOUD_PLATFORM,y0.ATTR_CONTAINER_NAME,y0.ATTR_CONTAINER_ID,y0.ATTR_AWS_ECS_CONTAINER_ARN,y0.ATTR_AWS_ECS_CLUSTER_ARN,y0.ATTR_AWS_ECS_LAUNCHTYPE,y0.ATTR_AWS_ECS_TASK_ARN,y0.ATTR_AWS_ECS_TASK_FAMILY,y0.ATTR_AWS_ECS_TASK_REVISION,y0.ATTR_CLOUD_ACCOUNT_ID,y0.ATTR_CLOUD_REGION,y0.ATTR_CLOUD_RESOURCE_ID,y0.ATTR_CLOUD_AVAILABILITY_ZONE,y0.ATTR_AWS_LOG_GROUP_NAMES,y0.ATTR_AWS_LOG_GROUP_ARNS,y0.ATTR_AWS_LOG_STREAM_NAMES,y0.ATTR_AWS_LOG_STREAM_ARNS],X={};return J.forEach((Z)=>{X[Z]=Y.then((W)=>W[Z])}),X}async _gatherData(){try{let Y={[y0.ATTR_CLOUD_PROVIDER]:y0.CLOUD_PROVIDER_VALUE_AWS,[y0.ATTR_CLOUD_PLATFORM]:y0.CLOUD_PLATFORM_VALUE_AWS_ECS,[y0.ATTR_CONTAINER_NAME]:ew4.hostname(),[y0.ATTR_CONTAINER_ID]:await this._getContainerId()},J=process.env.ECS_CONTAINER_METADATA_URI_V4;if(J){let[X,Z]=await Promise.all([M8._getUrlAsJson(J),M8._getUrlAsJson(`${J}/task`)]);M8._addMetadataV4Attrs(Y,X,Z),M8._addLogAttrs(Y,X)}return Y}catch{return{}}}async _getContainerId(){try{let J=(await M8.readFileAsync(M8.DEFAULT_CGROUP_PATH,"utf8")).split(`
`).map((X)=>X.trim()).filter(Boolean);for(let X of J){let Z=this._extractPrimaryEcsContainerId(X);if(Z)return Z}for(let X of J){let Z=this._extractLastSegmentContainerId(X);if(Z)return Z}for(let X of J){let Z=this._extractLegacyContainerId(X);if(Z)return Z}}catch(Y){wR.diag.debug("AwsEcsDetector failed to read container ID",Y)}return}_extractPrimaryEcsContainerId(Y){let J=/\/ecs\/[a-fA-F0-9-]+\/([a-fA-F0-9-]+)$/,X=Y.match(J);if(X&&X[1]&&X[1].length>=M8.CONTAINER_ID_LENGTH_MIN&&X[1].length<=M8.CONTAINER_ID_LENGTH)return X[1];return}_extractLastSegmentContainerId(Y){let J=Y.split("/");if(J.length<=1)return;let X=J[J.length-1];if(X&&X.length>=M8.CONTAINER_ID_LENGTH_MIN&&X.length<=M8.CONTAINER_ID_LENGTH&&/^[a-fA-F0-9-]+$/.test(X))return X;return}_extractLegacyContainerId(Y){if(Y.length>M8.CONTAINER_ID_LENGTH)return Y.substring(Y.length-M8.CONTAINER_ID_LENGTH);return}static _addMetadataV4Attrs(Y,J,X){let{LaunchType:Z,TaskARN:W}=X,$=W.substring(0,W.lastIndexOf(":")),G=X.Cluster,Q=M8._getAccountFromArn(W),U=M8._getRegionFromArn(W),z=X?.AvailabilityZone,H=G.startsWith("arn:")?G:`${$}:cluster/${G}`,O=J.ContainerARN;if(Y[y0.ATTR_AWS_ECS_CONTAINER_ARN]=O,Y[y0.ATTR_AWS_ECS_CLUSTER_ARN]=H,Y[y0.ATTR_AWS_ECS_LAUNCHTYPE]=Z?.toLowerCase(),Y[y0.ATTR_AWS_ECS_TASK_ARN]=W,Y[y0.ATTR_AWS_ECS_TASK_FAMILY]=X.Family,Y[y0.ATTR_AWS_ECS_TASK_REVISION]=X.Revision,Y[y0.ATTR_CLOUD_ACCOUNT_ID]=Q,Y[y0.ATTR_CLOUD_REGION]=U,Y[y0.ATTR_CLOUD_RESOURCE_ID]=O,z)Y[y0.ATTR_CLOUD_AVAILABILITY_ZONE]=z}static _addLogAttrs(Y,J){if(J.LogDriver!=="awslogs"||!J.LogOptions)return;let{ContainerARN:X,LogOptions:Z}=J,W=Z["awslogs-region"]||M8._getRegionFromArn(X),$=M8._getAccountFromArn(X),G=Z["awslogs-group"],Q=`arn:aws:logs:${W}:${$}:log-group:${G}`,U=Z["awslogs-stream"],z=`arn:aws:logs:${W}:${$}:log-group:${G}:log-stream:${U}`;Y[y0.ATTR_AWS_LOG_GROUP_NAMES]=[G],Y[y0.ATTR_AWS_LOG_GROUP_ARNS]=[Q],Y[y0.ATTR_AWS_LOG_STREAM_NAMES]=[U],Y[y0.ATTR_AWS_LOG_STREAM_ARNS]=[z]}static _getAccountFromArn(Y){return/arn:aws:ecs:[^:]+:([^:]+):.*/.exec(Y)[1]}static _getRegionFromArn(Y){return/arn:aws:ecs:([^:]+):.*/.exec(Y)[1]}static _getUrlAsJson(Y){return new Promise((J,X)=>{let Z=aw4.get(Y,(W)=>{if(W.statusCode&&W.statusCode>=400)X(Error(`Request to '${Y}' failed with status ${W.statusCode}`));let $="";W.on("data",(G)=>$+=G.toString()),W.on("end",()=>J($)),Z.on("error",X)});Z.setTimeout(YA4,()=>{Z.destroy()}),Z.on("error",X),Z.end()}).then((J)=>JSON.parse(J))}}Gh1.AwsEcsDetector=M8;Gh1.awsEcsDetector=new M8});var qh1=q((Kh1)=>{Object.defineProperty(Kh1,"__esModule",{value:!0});Kh1.awsEksDetector=Kh1.AwsEksDetector=void 0;var zh1=t(),XA4=k1(),wX=zO(),ZA4=C("https"),Hh1=C("fs"),Oh1=C("util"),AR=t();class wQ{K8S_SVC_URL="kubernetes.default.svc";K8S_TOKEN_PATH="/var/run/secrets/kubernetes.io/serviceaccount/token";K8S_CERT_PATH="/var/run/secrets/kubernetes.io/serviceaccount/ca.crt";AUTH_CONFIGMAP_PATH="/api/v1/namespaces/kube-system/configmaps/aws-auth";CW_CONFIGMAP_PATH="/api/v1/namespaces/amazon-cloudwatch/configmaps/cluster-info";CONTAINER_ID_LENGTH=64;DEFAULT_CGROUP_PATH="/proc/self/cgroup";TIMEOUT_MS=2000;UTF8_UNICODE="utf8";static readFileAsync=Oh1.promisify(Hh1.readFile);static fileAccessAsync=Oh1.promisify(Hh1.access);detect(){let Y=zh1.context.with((0,XA4.suppressTracing)(zh1.context.active()),()=>this._gatherData()),J=[wX.ATTR_CLOUD_PROVIDER,wX.ATTR_CLOUD_PLATFORM,wX.ATTR_K8S_CLUSTER_NAME,wX.ATTR_CONTAINER_ID],X={};return J.forEach((Z)=>{X[Z]=Y.then((W)=>W[Z])}),{attributes:X}}async _gatherData(){try{await wQ.fileAccessAsync(this.K8S_TOKEN_PATH);let Y=await wQ.readFileAsync(this.K8S_CERT_PATH);if(!await this._isEks(Y))return{};let J=await this._getContainerId(),X=await this._getClusterName(Y);return!J&&!X?{}:{[wX.ATTR_CLOUD_PROVIDER]:wX.CLOUD_PROVIDER_VALUE_AWS,[wX.ATTR_CLOUD_PLATFORM]:wX.CLOUD_PLATFORM_VALUE_AWS_EKS,[wX.ATTR_K8S_CLUSTER_NAME]:X||"",[wX.ATTR_CONTAINER_ID]:J||""}}catch(Y){return AR.diag.debug("AwsEksDetector: Process is not running on K8S:",Y.message),{}}}async _isEks(Y){let J={ca:Y,headers:{Authorization:await this._getK8sCredHeader()},hostname:this.K8S_SVC_URL,method:"GET",path:this.AUTH_CONFIGMAP_PATH,timeout:this.TIMEOUT_MS};return!!await this._fetchString(J)}async _getClusterName(Y){let J={ca:Y,headers:{Authorization:await this._getK8sCredHeader()},host:this.K8S_SVC_URL,method:"GET",path:this.CW_CONFIGMAP_PATH,timeout:this.TIMEOUT_MS},X=await this._fetchString(J);try{return JSON.parse(X).data["cluster.name"]}catch(Z){AR.diag.debug("Cannot get cluster name on EKS",Z)}return""}async _getK8sCredHeader(){try{return"Bearer "+await wQ.readFileAsync(this.K8S_TOKEN_PATH,this.UTF8_UNICODE)}catch(Y){AR.diag.debug("Unable to read Kubernetes client token.",Y)}return""}async _getContainerId(){try{let J=(await wQ.readFileAsync(this.DEFAULT_CGROUP_PATH,this.UTF8_UNICODE)).trim().split(`
`);for(let X of J)if(X.length>this.CONTAINER_ID_LENGTH)return X.substring(X.length-this.CONTAINER_ID_LENGTH)}catch(Y){AR.diag.debug(`AwsEksDetector failed to read container ID: ${Y.message}`)}return}async _fetchString(Y){return await new Promise((J,X)=>{let Z=setTimeout(()=>{W.abort(),X(Error("EKS metadata api request timed out."))},2000),W=ZA4.request(Y,($)=>{clearTimeout(Z);let{statusCode:G}=$;$.setEncoding(this.UTF8_UNICODE);let Q="";$.on("data",(U)=>Q+=U),$.on("end",()=>{if(G&&G>=200&&G<300)try{J(Q)}catch(U){X(U)}else X(Error("Failed to load page, status code: "+G))})});W.on("error",($)=>{clearTimeout(Z),X($)}),W.end()})}}Kh1.AwsEksDetector=wQ;Kh1.awsEksDetector=new wQ});var Ih1=q((Fh1)=>{Object.defineProperty(Fh1,"__esModule",{value:!0});Fh1.awsLambdaDetector=Fh1.AwsLambdaDetector=void 0;var AX=zO();class Qn{detect(){if(!process.env.AWS_EXECUTION_ENV?.startsWith("AWS_Lambda_"))return{};let J=process.env.AWS_REGION,X=process.env.AWS_LAMBDA_FUNCTION_NAME,Z=process.env.AWS_LAMBDA_FUNCTION_VERSION,W=process.env.AWS_LAMBDA_FUNCTION_MEMORY_SIZE,$=process.env.AWS_LAMBDA_LOG_GROUP_NAME,G=process.env.AWS_LAMBDA_LOG_STREAM_NAME,Q={[AX.ATTR_CLOUD_PROVIDER]:AX.CLOUD_PROVIDER_VALUE_AWS,[AX.ATTR_CLOUD_PLATFORM]:AX.CLOUD_PLATFORM_VALUE_AWS_LAMBDA,[AX.ATTR_CLOUD_REGION]:J,[AX.ATTR_FAAS_NAME]:X,[AX.ATTR_FAAS_VERSION]:Z,[AX.ATTR_FAAS_MAX_MEMORY]:parseInt(W)*1024*1024};if($)Q[AX.ATTR_AWS_LOG_GROUP_NAMES]=[$];if(G)Q[AX.ATTR_FAAS_INSTANCE]=G;return{attributes:Q}}}Fh1.AwsLambdaDetector=Qn;Fh1.awsLambdaDetector=new Qn});var Dh1=q((AQ)=>{Object.defineProperty(AQ,"__esModule",{value:!0});AQ.awsLambdaDetector=AQ.awsEksDetector=AQ.awsEcsDetector=AQ.awsEc2Detector=AQ.awsBeanstalkDetector=void 0;var GA4=Yh1();Object.defineProperty(AQ,"awsBeanstalkDetector",{enumerable:!0,get:function(){return GA4.awsBeanstalkDetector}});var QA4=$h1();Object.defineProperty(AQ,"awsEc2Detector",{enumerable:!0,get:function(){return QA4.awsEc2Detector}});var UA4=Uh1();Object.defineProperty(AQ,"awsEcsDetector",{enumerable:!0,get:function(){return UA4.awsEcsDetector}});var zA4=qh1();Object.defineProperty(AQ,"awsEksDetector",{enumerable:!0,get:function(){return zA4.awsEksDetector}});var HA4=Ih1();Object.defineProperty(AQ,"awsLambdaDetector",{enumerable:!0,get:function(){return HA4.awsLambdaDetector}})});var wh1=q((PQ)=>{Object.defineProperty(PQ,"__esModule",{value:!0});PQ.awsLambdaDetector=PQ.awsEksDetector=PQ.awsEcsDetector=PQ.awsEc2Detector=PQ.awsBeanstalkDetector=void 0;var xV=Dh1();Object.defineProperty(PQ,"awsBeanstalkDetector",{enumerable:!0,get:function(){return xV.awsBeanstalkDetector}});Object.defineProperty(PQ,"awsEc2Detector",{enumerable:!0,get:function(){return xV.awsEc2Detector}});Object.defineProperty(PQ,"awsEcsDetector",{enumerable:!0,get:function(){return xV.awsEcsDetector}});Object.defineProperty(PQ,"awsEksDetector",{enumerable:!0,get:function(){return xV.awsEksDetector}});Object.defineProperty(PQ,"awsLambdaDetector",{enumerable:!0,get:function(){return xV.awsLambdaDetector}})});var Mh1=q((Ah1)=>{Object.defineProperty(Ah1,"__esModule",{value:!0});Ah1.extractContainerIdFromLine=Ah1.truncatePrefix=Ah1.HEX_STRING_REGEX=Ah1.DOCKER=Ah1.CRI_CONTAINERD=Ah1.CRIO=Ah1.MARKING_PREFIX=Ah1.HOSTNAME=Ah1.UTF8_UNICODE=Ah1.DEFAULT_CGROUP_V2_PATH=Ah1.DEFAULT_CGROUP_V1_PATH=Ah1.CONTAINER_ID_LENGTH=void 0;Ah1.CONTAINER_ID_LENGTH=64;Ah1.DEFAULT_CGROUP_V1_PATH="/proc/self/cgroup";Ah1.DEFAULT_CGROUP_V2_PATH="/proc/self/mountinfo";Ah1.UTF8_UNICODE="utf8";Ah1.HOSTNAME="hostname";Ah1.MARKING_PREFIX=["containers","overlay-containers"];Ah1.CRIO="crio-";Ah1.CRI_CONTAINERD="cri-containerd-";Ah1.DOCKER="docker-";Ah1.HEX_STRING_REGEX=/^[a-f0-9]+$/i;function PR(Y,J){return Y.substring(J.length)}Ah1.truncatePrefix=PR;function BA4(Y){if(!Y)return;let J=Y.split("/");if(J.length<=1)return;let X=J[J.length-1],Z=X.lastIndexOf(":");if(Z!==-1)X=X.substring(Z+1);if(X.startsWith(Ah1.CRIO))X=PR(X,Ah1.CRIO);else if(X.startsWith(Ah1.DOCKER))X=PR(X,Ah1.DOCKER);else if(X.startsWith(Ah1.CRI_CONTAINERD))X=PR(X,Ah1.CRI_CONTAINERD);if(X.includes("."))X=X.split(".")[0];if(Ah1.HEX_STRING_REGEX.test(X))return X;return}Ah1.extractContainerIdFromLine=BA4});var Rh1=q((Eh1)=>{Object.defineProperty(Eh1,"__esModule",{value:!0});Eh1.ATTR_CONTAINER_ID=void 0;Eh1.ATTR_CONTAINER_ID="container.id"});var Ch1=q((Nh1)=>{Object.defineProperty(Nh1,"__esModule",{value:!0});Nh1.containerDetector=Nh1.ContainerDetector=void 0;var PA4=C("fs"),LA4=C("util"),On=t(),MA4=k1(),EA4=Mh1(),TA4=Rh1();class fV{CONTAINER_ID_LENGTH=64;DEFAULT_CGROUP_V1_PATH="/proc/self/cgroup";DEFAULT_CGROUP_V2_PATH="/proc/self/mountinfo";UTF8_UNICODE="utf8";HOSTNAME="hostname";MARKING_PREFIX=["containers","overlay-containers"];static readFileAsync=LA4.promisify(PA4.readFile);detect(){return{attributes:{[TA4.ATTR_CONTAINER_ID]:this._getContainerIdWithSuppressedTracing()}}}async _getContainerIdWithSuppressedTracing(){return On.context.with((0,MA4.suppressTracing)(On.context.active()),()=>this._getContainerId())}async _getContainerIdV1(){let J=(await fV.readFileAsync(this.DEFAULT_CGROUP_V1_PATH,this.UTF8_UNICODE)).trim().split(`
`);for(let X of J){let Z=(0,EA4.extractContainerIdFromLine)(X);if(Z)return Z}return}async _getContainerIdV2(){let J=(await fV.readFileAsync(this.DEFAULT_CGROUP_V2_PATH,this.UTF8_UNICODE)).trim().split(`
`).find((Z)=>Z.includes(this.HOSTNAME));if(!J)return"";let X=J?.split("/")??[];for(let Z=0;Z<X.length-1;Z++)if(this.MARKING_PREFIX.includes(X[Z])&&X[Z+1]?.length===this.CONTAINER_ID_LENGTH)return X[Z+1];return""}async _getContainerId(){try{let Y=await this._getContainerIdV1();if(Y)return Y;let J=await this._getContainerIdV2();if(J)return J}catch(Y){if(Y instanceof Error){let J=Y.message;On.diag.debug("Container Detector failed to read the Container ID: ",J)}}return}}Nh1.ContainerDetector=fV;Nh1.containerDetector=new fV});var jh1=q((Kn)=>{Object.defineProperty(Kn,"__esModule",{value:!0});Kn.containerDetector=void 0;var NA4=Ch1();Object.defineProperty(Kn,"containerDetector",{enumerable:!0,get:function(){return NA4.containerDetector}})});var kh1=q((Bn)=>{Object.defineProperty(Bn,"__esModule",{value:!0});Bn.containerDetector=void 0;var CA4=jh1();Object.defineProperty(Bn,"containerDetector",{enumerable:!0,get:function(){return CA4.containerDetector}})});var fh1=q((_h1)=>{Object.defineProperty(_h1,"__esModule",{value:!0});_h1.CLOUD_PROVIDER_VALUE_GCP=_h1.CLOUD_PLATFORM_VALUE_GCP_KUBERNETES_ENGINE=_h1.CLOUD_PLATFORM_VALUE_GCP_COMPUTE_ENGINE=_h1.CLOUD_PLATFORM_VALUE_GCP_CLOUD_RUN=_h1.CLOUD_PLATFORM_VALUE_GCP_CLOUD_FUNCTIONS=_h1.CLOUD_PLATFORM_VALUE_GCP_APP_ENGINE=_h1.ATTR_K8S_CLUSTER_NAME=_h1.ATTR_HOST_TYPE=_h1.ATTR_HOST_NAME=_h1.ATTR_HOST_ID=_h1.ATTR_FAAS_VERSION=_h1.ATTR_FAAS_NAME=_h1.ATTR_FAAS_INSTANCE=_h1.ATTR_CLOUD_REGION=_h1.ATTR_CLOUD_PROVIDER=_h1.ATTR_CLOUD_PLATFORM=_h1.ATTR_CLOUD_AVAILABILITY_ZONE=_h1.ATTR_CLOUD_ACCOUNT_ID=void 0;_h1.ATTR_CLOUD_ACCOUNT_ID="cloud.account.id";_h1.ATTR_CLOUD_AVAILABILITY_ZONE="cloud.availability_zone";_h1.ATTR_CLOUD_PLATFORM="cloud.platform";_h1.ATTR_CLOUD_PROVIDER="cloud.provider";_h1.ATTR_CLOUD_REGION="cloud.region";_h1.ATTR_FAAS_INSTANCE="faas.instance";_h1.ATTR_FAAS_NAME="faas.name";_h1.ATTR_FAAS_VERSION="faas.version";_h1.ATTR_HOST_ID="host.id";_h1.ATTR_HOST_NAME="host.name";_h1.ATTR_HOST_TYPE="host.type";_h1.ATTR_K8S_CLUSTER_NAME="k8s.cluster.name";_h1.CLOUD_PLATFORM_VALUE_GCP_APP_ENGINE="gcp_app_engine";_h1.CLOUD_PLATFORM_VALUE_GCP_CLOUD_FUNCTIONS="gcp_cloud_functions";_h1.CLOUD_PLATFORM_VALUE_GCP_CLOUD_RUN="gcp_cloud_run";_h1.CLOUD_PLATFORM_VALUE_GCP_COMPUTE_ENGINE="gcp_compute_engine";_h1.CLOUD_PLATFORM_VALUE_GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine";_h1.CLOUD_PROVIDER_VALUE_GCP="gcp"});var qn=q((vh1)=>{Object.defineProperty(vh1,"__esModule",{value:!0});vh1._clearDefaultServiceNameCache=vh1.defaultServiceName=void 0;var vV;function oA4(){if(vV===void 0)try{let Y=globalThis.process.argv0;vV=Y?`unknown_service:${Y}`:"unknown_service"}catch{vV="unknown_service"}return vV}vh1.defaultServiceName=oA4;function rA4(){vV=void 0}vh1._clearDefaultServiceNameCache=rA4});var gh1=q((bh1)=>{Object.defineProperty(bh1,"__esModule",{value:!0});bh1.isPromiseLike=void 0;var sA4=(Y)=>{return Y!==null&&typeof Y==="object"&&typeof Y.then==="function"};bh1.isPromiseLike=sA4});var In=q((mh1)=>{Object.defineProperty(mh1,"__esModule",{value:!0});mh1.defaultResource=mh1.emptyResource=mh1.resourceFromDetectedResource=mh1.resourceFromAttributes=void 0;var bV=t(),Fn=k1(),LQ=X0(),tA4=qn(),hV=gh1();class yV{_rawAttributes;_asyncAttributesPending=!1;_schemaUrl;_memoizedAttributes;static FromAttributeList(Y,J){let X=new yV({},J);return X._rawAttributes=uh1(Y),X._asyncAttributesPending=Y.filter(([Z,W])=>(0,hV.isPromiseLike)(W)).length>0,X}constructor(Y,J){let X=Y.attributes??{};this._rawAttributes=Object.entries(X).map(([Z,W])=>{if((0,hV.isPromiseLike)(W))this._asyncAttributesPending=!0;return[Z,W]}),this._rawAttributes=uh1(this._rawAttributes),this._schemaUrl=XP4(J?.schemaUrl)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(!this.asyncAttributesPending)return;for(let Y=0;Y<this._rawAttributes.length;Y++){let[J,X]=this._rawAttributes[Y];this._rawAttributes[Y]=[J,(0,hV.isPromiseLike)(X)?await X:X]}this._asyncAttributesPending=!1}get attributes(){if(this.asyncAttributesPending)bV.diag.error("Accessing resource attributes before async attributes settled");if(this._memoizedAttributes)return this._memoizedAttributes;let Y={};for(let[J,X]of this._rawAttributes){if((0,hV.isPromiseLike)(X)){bV.diag.debug(`Unsettled resource attribute ${J} skipped`);continue}if(X!=null)Y[J]??=X}if(!this._asyncAttributesPending)this._memoizedAttributes=Y;return Y}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(Y){if(Y==null)return this;let J=ZP4(this,Y),X=J?{schemaUrl:J}:void 0;return yV.FromAttributeList([...Y.getRawAttributes(),...this.getRawAttributes()],X)}}function Vn(Y,J){return yV.FromAttributeList(Object.entries(Y),J)}mh1.resourceFromAttributes=Vn;function eA4(Y,J){return new yV(Y,J)}mh1.resourceFromDetectedResource=eA4;function YP4(){return Vn({})}mh1.emptyResource=YP4;function JP4(){return Vn({[LQ.ATTR_SERVICE_NAME]:(0,tA4.defaultServiceName)(),[LQ.ATTR_TELEMETRY_SDK_LANGUAGE]:Fn.SDK_INFO[LQ.ATTR_TELEMETRY_SDK_LANGUAGE],[LQ.ATTR_TELEMETRY_SDK_NAME]:Fn.SDK_INFO[LQ.ATTR_TELEMETRY_SDK_NAME],[LQ.ATTR_TELEMETRY_SDK_VERSION]:Fn.SDK_INFO[LQ.ATTR_TELEMETRY_SDK_VERSION]})}mh1.defaultResource=JP4;function uh1(Y){return Y.map(([J,X])=>{if((0,hV.isPromiseLike)(X))return[J,X.catch((Z)=>{bV.diag.debug("promise rejection for resource attribute: %s - %s",J,Z);return})];return[J,X]})}function XP4(Y){if(typeof Y==="string"||Y===void 0)return Y;bV.diag.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",Y);return}function ZP4(Y,J){let X=Y?.schemaUrl,Z=J?.schemaUrl,W=X===void 0||X==="",$=Z===void 0||Z==="";if(W)return Z;if($)return X;if(X===Z)return X;bV.diag.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',X,Z);return}});var nh1=q((lh1)=>{Object.defineProperty(lh1,"__esModule",{value:!0});lh1.detectResources=void 0;var ch1=t(),Dn=In(),QP4=(Y={})=>{return(Y.detectors||[]).map((X)=>{try{let Z=(0,Dn.resourceFromDetectedResource)(X.detect(Y));return ch1.diag.debug(`${X.constructor.name} found resource.`,Z),Z}catch(Z){return ch1.diag.debug(`${X.constructor.name} failed: ${Z.message}`),(0,Dn.emptyResource)()}}).reduce((X,Z)=>X.merge(Z),(0,Dn.emptyResource)())};lh1.detectResources=QP4});var sh1=q((rh1)=>{Object.defineProperty(rh1,"__esModule",{value:!0});rh1.envDetector=void 0;var UP4=t(),zP4=X0(),ih1=k1();class oh1{_MAX_LENGTH=255;_COMMA_SEPARATOR=",";_LABEL_KEY_VALUE_SPLITTER="=";_ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.";_ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters.";detect(Y){let J={},X=(0,ih1.getStringFromEnv)("OTEL_RESOURCE_ATTRIBUTES"),Z=(0,ih1.getStringFromEnv)("OTEL_SERVICE_NAME");if(X)try{let W=this._parseResourceAttributes(X);Object.assign(J,W)}catch(W){UP4.diag.debug(`EnvDetector failed: ${W.message}`)}if(Z)J[zP4.ATTR_SERVICE_NAME]=Z;return{attributes:J}}_parseResourceAttributes(Y){if(!Y)return{};let J={},X=Y.split(this._COMMA_SEPARATOR,-1);for(let Z of X){let W=Z.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(W.length!==2)continue;let[$,G]=W;if($=$.trim(),G=G.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty($))throw Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(G))throw Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);J[$]=decodeURIComponent(G)}return J}_isValid(Y){return Y.length<=this._MAX_LENGTH&&this._isBaggageOctetString(Y)}_isBaggageOctetString(Y){for(let J=0;J<Y.length;J++){let X=Y.charCodeAt(J);if(X<33||X===44||X===59||X===92||X>126)return!1}return!0}_isValidAndNotEmpty(Y){return Y.length>0&&this._isValid(Y)}}rh1.envDetector=new oh1});var gV=q((th1)=>{Object.defineProperty(th1,"__esModule",{value:!0});th1.ATTR_WEBENGINE_VERSION=th1.ATTR_WEBENGINE_NAME=th1.ATTR_WEBENGINE_DESCRIPTION=th1.ATTR_SERVICE_NAMESPACE=th1.ATTR_SERVICE_INSTANCE_ID=th1.ATTR_PROCESS_RUNTIME_VERSION=th1.ATTR_PROCESS_RUNTIME_NAME=th1.ATTR_PROCESS_RUNTIME_DESCRIPTION=th1.ATTR_PROCESS_PID=th1.ATTR_PROCESS_OWNER=th1.ATTR_PROCESS_EXECUTABLE_PATH=th1.ATTR_PROCESS_EXECUTABLE_NAME=th1.ATTR_PROCESS_COMMAND_ARGS=th1.ATTR_PROCESS_COMMAND=th1.ATTR_OS_VERSION=th1.ATTR_OS_TYPE=th1.ATTR_K8S_POD_NAME=th1.ATTR_K8S_NAMESPACE_NAME=th1.ATTR_K8S_DEPLOYMENT_NAME=th1.ATTR_K8S_CLUSTER_NAME=th1.ATTR_HOST_TYPE=th1.ATTR_HOST_NAME=th1.ATTR_HOST_IMAGE_VERSION=th1.ATTR_HOST_IMAGE_NAME=th1.ATTR_HOST_IMAGE_ID=th1.ATTR_HOST_ID=th1.ATTR_HOST_ARCH=th1.ATTR_CONTAINER_NAME=th1.ATTR_CONTAINER_IMAGE_TAGS=th1.ATTR_CONTAINER_IMAGE_NAME=th1.ATTR_CONTAINER_ID=th1.ATTR_CLOUD_REGION=th1.ATTR_CLOUD_PROVIDER=th1.ATTR_CLOUD_AVAILABILITY_ZONE=th1.ATTR_CLOUD_ACCOUNT_ID=void 0;th1.ATTR_CLOUD_ACCOUNT_ID="cloud.account.id";th1.ATTR_CLOUD_AVAILABILITY_ZONE="cloud.availability_zone";th1.ATTR_CLOUD_PROVIDER="cloud.provider";th1.ATTR_CLOUD_REGION="cloud.region";th1.ATTR_CONTAINER_ID="container.id";th1.ATTR_CONTAINER_IMAGE_NAME="container.image.name";th1.ATTR_CONTAINER_IMAGE_TAGS="container.image.tags";th1.ATTR_CONTAINER_NAME="container.name";th1.ATTR_HOST_ARCH="host.arch";th1.ATTR_HOST_ID="host.id";th1.ATTR_HOST_IMAGE_ID="host.image.id";th1.ATTR_HOST_IMAGE_NAME="host.image.name";th1.ATTR_HOST_IMAGE_VERSION="host.image.version";th1.ATTR_HOST_NAME="host.name";th1.ATTR_HOST_TYPE="host.type";th1.ATTR_K8S_CLUSTER_NAME="k8s.cluster.name";th1.ATTR_K8S_DEPLOYMENT_NAME="k8s.deployment.name";th1.ATTR_K8S_NAMESPACE_NAME="k8s.namespace.name";th1.ATTR_K8S_POD_NAME="k8s.pod.name";th1.ATTR_OS_TYPE="os.type";th1.ATTR_OS_VERSION="os.version";th1.ATTR_PROCESS_COMMAND="process.command";th1.ATTR_PROCESS_COMMAND_ARGS="process.command_args";th1.ATTR_PROCESS_EXECUTABLE_NAME="process.executable.name";th1.ATTR_PROCESS_EXECUTABLE_PATH="process.executable.path";th1.ATTR_PROCESS_OWNER="process.owner";th1.ATTR_PROCESS_PID="process.pid";th1.ATTR_PROCESS_RUNTIME_DESCRIPTION="process.runtime.description";th1.ATTR_PROCESS_RUNTIME_NAME="process.runtime.name";th1.ATTR_PROCESS_RUNTIME_VERSION="process.runtime.version";th1.ATTR_SERVICE_INSTANCE_ID="service.instance.id";th1.ATTR_SERVICE_NAMESPACE="service.namespace";th1.ATTR_WEBENGINE_DESCRIPTION="webengine.description";th1.ATTR_WEBENGINE_NAME="webengine.name";th1.ATTR_WEBENGINE_VERSION="webengine.version"});var LR=q((Yb1)=>{Object.defineProperty(Yb1,"__esModule",{value:!0});Yb1.execAsync=void 0;var lP4=C("child_process"),pP4=C("util");Yb1.execAsync=pP4.promisify(lP4.exec)});var Wb1=q((Xb1)=>{Object.defineProperty(Xb1,"__esModule",{value:!0});Xb1.getMachineId=void 0;var nP4=LR(),iP4=t();async function oP4(){try{let J=(await(0,nP4.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find((Z)=>Z.includes("IOPlatformUUID"));if(!J)return;let X=J.split('" = "');if(X.length===2)return X[1].slice(0,-1)}catch(Y){iP4.diag.debug(`error reading machine id: ${Y}`)}return}Xb1.getMachineId=oP4});var Qb1=q(($b1)=>{Object.defineProperty($b1,"__esModule",{value:!0});$b1.getMachineId=void 0;var rP4=C("fs"),aP4=t();async function sP4(){let Y=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let J of Y)try{return(await rP4.promises.readFile(J,{encoding:"utf8"})).trim()}catch(X){aP4.diag.debug(`error reading machine id: ${X}`)}return}$b1.getMachineId=sP4});var Ob1=q((zb1)=>{Object.defineProperty(zb1,"__esModule",{value:!0});zb1.getMachineId=void 0;var tP4=C("fs"),eP4=LR(),Ub1=t();async function YL4(){try{return(await tP4.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(Y){Ub1.diag.debug(`error reading machine id: ${Y}`)}try{return(await(0,eP4.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(Y){Ub1.diag.debug(`error reading machine id: ${Y}`)}return}zb1.getMachineId=YL4});var Fb1=q((Bb1)=>{Object.defineProperty(Bb1,"__esModule",{value:!0});Bb1.getMachineId=void 0;var Kb1=C("process"),JL4=LR(),XL4=t();async function ZL4(){let J="%windir%\\System32\\REG.exe";if(Kb1.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in Kb1.env)J="%windir%\\sysnative\\cmd.exe /c "+J;try{let Z=(await(0,JL4.execAsync)(`${J} QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid`)).stdout.split("REG_SZ");if(Z.length===2)return Z[1].trim()}catch(X){XL4.diag.debug(`error reading machine id: ${X}`)}return}Bb1.getMachineId=ZL4});var Db1=q((Vb1)=>{Object.defineProperty(Vb1,"__esModule",{value:!0});Vb1.getMachineId=void 0;var WL4=t();async function $L4(){WL4.diag.debug("could not read machine-id: unsupported platform");return}Vb1.getMachineId=$L4});var Pb1=q((wb1)=>{Object.defineProperty(wb1,"__esModule",{value:!0});wb1.getMachineId=void 0;var GL4=C("process"),MQ;async function QL4(){if(!MQ)switch(GL4.platform){case"darwin":MQ=(await Promise.resolve().then(() => q1(Wb1()))).getMachineId;break;case"linux":MQ=(await Promise.resolve().then(() => q1(Qb1()))).getMachineId;break;case"freebsd":MQ=(await Promise.resolve().then(() => q1(Ob1()))).getMachineId;break;case"win32":MQ=(await Promise.resolve().then(() => q1(Fb1()))).getMachineId;break;default:MQ=(await Promise.resolve().then(() => q1(Db1()))).getMachineId;break}return MQ()}wb1.getMachineId=QL4});var wn=q((Lb1)=>{Object.defineProperty(Lb1,"__esModule",{value:!0});Lb1.normalizeType=Lb1.normalizeArch=void 0;var UL4=(Y)=>{switch(Y){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return Y}};Lb1.normalizeArch=UL4;var zL4=(Y)=>{switch(Y){case"sunos":return"solaris";case"win32":return"windows";default:return Y}};Lb1.normalizeType=zL4});var Sb1=q((Rb1)=>{Object.defineProperty(Rb1,"__esModule",{value:!0});Rb1.hostDetector=void 0;var An=gV(),Eb1=C("os"),OL4=Pb1(),KL4=wn();class Tb1{detect(Y){return{attributes:{[An.ATTR_HOST_NAME]:(0,Eb1.hostname)(),[An.ATTR_HOST_ARCH]:(0,KL4.normalizeArch)((0,Eb1.arch)()),[An.ATTR_HOST_ID]:(0,OL4.getMachineId)()}}}}Rb1.hostDetector=new Tb1});var fb1=q((_b1)=>{Object.defineProperty(_b1,"__esModule",{value:!0});_b1.osDetector=void 0;var Cb1=gV(),jb1=C("os"),BL4=wn();class kb1{detect(Y){return{attributes:{[Cb1.ATTR_OS_TYPE]:(0,BL4.normalizeType)((0,jb1.platform)()),[Cb1.ATTR_OS_VERSION]:(0,jb1.release)()}}}}_b1.osDetector=new kb1});var yb1=q((hb1)=>{Object.defineProperty(hb1,"__esModule",{value:!0});hb1.processDetector=void 0;var qL4=t(),XZ=gV(),FL4=C("os");class vb1{detect(Y){let J={[XZ.ATTR_PROCESS_PID]:process.pid,[XZ.ATTR_PROCESS_EXECUTABLE_NAME]:process.title,[XZ.ATTR_PROCESS_EXECUTABLE_PATH]:process.execPath,[XZ.ATTR_PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[XZ.ATTR_PROCESS_RUNTIME_VERSION]:process.versions.node,[XZ.ATTR_PROCESS_RUNTIME_NAME]:"nodejs",[XZ.ATTR_PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};if(process.argv.length>1)J[XZ.ATTR_PROCESS_COMMAND]=process.argv[1];try{let X=FL4.userInfo();J[XZ.ATTR_PROCESS_OWNER]=X.username}catch(X){qL4.diag.debug(`error obtaining process owner: ${X}`)}return{attributes:J}}}hb1.processDetector=new vb1});var db1=q((ub1)=>{Object.defineProperty(ub1,"__esModule",{value:!0});ub1.serviceInstanceIdDetector=void 0;var VL4=gV(),IL4=C("crypto");class gb1{detect(Y){return{attributes:{[VL4.ATTR_SERVICE_INSTANCE_ID]:(0,IL4.randomUUID)()}}}}ub1.serviceInstanceIdDetector=new gb1});var cb1=q((HO)=>{Object.defineProperty(HO,"__esModule",{value:!0});HO.serviceInstanceIdDetector=HO.processDetector=HO.osDetector=HO.hostDetector=void 0;var DL4=Sb1();Object.defineProperty(HO,"hostDetector",{enumerable:!0,get:function(){return DL4.hostDetector}});var wL4=fb1();Object.defineProperty(HO,"osDetector",{enumerable:!0,get:function(){return wL4.osDetector}});var AL4=yb1();Object.defineProperty(HO,"processDetector",{enumerable:!0,get:function(){return AL4.processDetector}});var PL4=db1();Object.defineProperty(HO,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return PL4.serviceInstanceIdDetector}})});var lb1=q((OO)=>{Object.defineProperty(OO,"__esModule",{value:!0});OO.serviceInstanceIdDetector=OO.processDetector=OO.osDetector=OO.hostDetector=void 0;var MR=cb1();Object.defineProperty(OO,"hostDetector",{enumerable:!0,get:function(){return MR.hostDetector}});Object.defineProperty(OO,"osDetector",{enumerable:!0,get:function(){return MR.osDetector}});Object.defineProperty(OO,"processDetector",{enumerable:!0,get:function(){return MR.processDetector}});Object.defineProperty(OO,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return MR.serviceInstanceIdDetector}})});var ib1=q((pb1)=>{Object.defineProperty(pb1,"__esModule",{value:!0});pb1.noopDetector=pb1.NoopDetector=void 0;class Pn{detect(){return{attributes:{}}}}pb1.NoopDetector=Pn;pb1.noopDetector=new Pn});var ob1=q((hW)=>{Object.defineProperty(hW,"__esModule",{value:!0});hW.noopDetector=hW.serviceInstanceIdDetector=hW.processDetector=hW.osDetector=hW.hostDetector=hW.envDetector=void 0;var TL4=sh1();Object.defineProperty(hW,"envDetector",{enumerable:!0,get:function(){return TL4.envDetector}});var ER=lb1();Object.defineProperty(hW,"hostDetector",{enumerable:!0,get:function(){return ER.hostDetector}});Object.defineProperty(hW,"osDetector",{enumerable:!0,get:function(){return ER.osDetector}});Object.defineProperty(hW,"processDetector",{enumerable:!0,get:function(){return ER.processDetector}});Object.defineProperty(hW,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return ER.serviceInstanceIdDetector}});var RL4=ib1();Object.defineProperty(hW,"noopDetector",{enumerable:!0,get:function(){return RL4.noopDetector}})});var PX=q((i7)=>{Object.defineProperty(i7,"__esModule",{value:!0});i7.defaultServiceName=i7.emptyResource=i7.defaultResource=i7.resourceFromAttributes=i7.serviceInstanceIdDetector=i7.processDetector=i7.osDetector=i7.hostDetector=i7.envDetector=i7.detectResources=void 0;var SL4=nh1();Object.defineProperty(i7,"detectResources",{enumerable:!0,get:function(){return SL4.detectResources}});var uV=ob1();Object.defineProperty(i7,"envDetector",{enumerable:!0,get:function(){return uV.envDetector}});Object.defineProperty(i7,"hostDetector",{enumerable:!0,get:function(){return uV.hostDetector}});Object.defineProperty(i7,"osDetector",{enumerable:!0,get:function(){return uV.osDetector}});Object.defineProperty(i7,"processDetector",{enumerable:!0,get:function(){return uV.processDetector}});Object.defineProperty(i7,"serviceInstanceIdDetector",{enumerable:!0,get:function(){return uV.serviceInstanceIdDetector}});var Ln=In();Object.defineProperty(i7,"resourceFromAttributes",{enumerable:!0,get:function(){return Ln.resourceFromAttributes}});Object.defineProperty(i7,"defaultResource",{enumerable:!0,get:function(){return Ln.defaultResource}});Object.defineProperty(i7,"emptyResource",{enumerable:!0,get:function(){return Ln.emptyResource}});var CL4=qn();Object.defineProperty(i7,"defaultServiceName",{enumerable:!0,get:function(){return CL4.defaultServiceName}})});var Mn=q((i58,Xy1)=>{var TR=Object.prototype.hasOwnProperty,Jy1=Object.prototype.toString,rb1=Object.defineProperty,ab1=Object.getOwnPropertyDescriptor,sb1=function(J){if(typeof Array.isArray==="function")return Array.isArray(J);return Jy1.call(J)==="[object Array]"},tb1=function(J){if(!J||Jy1.call(J)!=="[object Object]")return!1;var X=TR.call(J,"constructor"),Z=J.constructor&&J.constructor.prototype&&TR.call(J.constructor.prototype,"isPrototypeOf");if(J.constructor&&!X&&!Z)return!1;var W;for(W in J);return typeof W>"u"||TR.call(J,W)},eb1=function(J,X){if(rb1&&X.name==="__proto__")rb1(J,X.name,{enumerable:!0,configurable:!0,value:X.newValue,writable:!0});else J[X.name]=X.newValue},Yy1=function(J,X){if(X==="__proto__"){if(!TR.call(J,X))return;else if(ab1)return ab1(J,X).value}return J[X]};Xy1.exports=function Y(){var J,X,Z,W,$,G,Q=arguments[0],U=1,z=arguments.length,H=!1;if(typeof Q==="boolean")H=Q,Q=arguments[1]||{},U=2;if(Q==null||typeof Q!=="object"&&typeof Q!=="function")Q={};for(;U<z;++U)if(J=arguments[U],J!=null){for(X in J)if(Z=Yy1(Q,X),W=Yy1(J,X),Q!==W){if(H&&W&&(tb1(W)||($=sb1(W)))){if($)$=!1,G=Z&&sb1(Z)?Z:[];else G=Z&&tb1(Z)?Z:{};eb1(Q,{name:X,newValue:Y(H,G,W)})}else if(typeof W<"u")eb1(Q,{name:X,newValue:W})}}return Q}});var Zy1=q((o58,kL4)=>{kL4.exports={name:"gaxios",version:"7.1.3",description:"A simple common HTTP client specifically for Google APIs and services.",main:"build/cjs/src/index.js",types:"build/cjs/src/index.d.ts",files:["build/"],exports:{".":{import:{types:"./build/esm/src/index.d.ts",default:"./build/esm/src/index.js"},require:{types:"./build/cjs/src/index.d.ts",default:"./build/cjs/src/index.js"}}},scripts:{lint:"gts check --no-inline-config",test:"c8 mocha build/esm/test","presystem-test":"npm run compile","system-test":"mocha build/esm/system-test --timeout 80000",compile:"tsc -b ./tsconfig.json ./tsconfig.cjs.json && node utils/enable-esm.mjs",fix:"gts fix",prepare:"npm run compile",pretest:"npm run compile",webpack:"webpack","prebrowser-test":"npm run compile","browser-test":"node build/browser-test/browser-test-runner.js",docs:"jsdoc -c .jsdoc.js","docs-test":"linkinator docs","predocs-test":"npm run docs","samples-test":"cd samples/ && npm link ../ && npm test && cd ../",prelint:"cd samples; npm link ../; npm install",clean:"gts clean"},repository:{type:"git",directory:"packages/gaxios",url:"https://github.com/googleapis/google-cloud-node-core.git"},keywords:["google"],engines:{node:">=18"},author:"Google, LLC",license:"Apache-2.0",devDependencies:{"@babel/plugin-proposal-private-methods":"^7.18.6","@types/cors":"^2.8.6","@types/express":"^5.0.0","@types/extend":"^3.0.1","@types/mocha":"^10.0.10","@types/multiparty":"4.2.1","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^22.0.0","@types/sinon":"^17.0.0","@types/tmp":"0.2.6",assert:"^2.0.0",browserify:"^17.0.0",c8:"^10.0.0",cors:"^2.8.5",express:"^5.0.0",gts:"^6.0.0","is-docker":"^3.0.0",jsdoc:"^4.0.0","jsdoc-fresh":"^5.0.0","jsdoc-region-tag":"^4.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.4.0","karma-webpack":"^5.0.1",linkinator:"^6.1.2",mocha:"^11.1.0",multiparty:"^4.2.1",mv:"^2.1.1",ncp:"^2.0.0",nock:"^14.0.0-beta.13","null-loader":"^4.0.0","pack-n-play":"^4.0.0",puppeteer:"^24.0.0",sinon:"^21.0.0","stream-browserify":"^3.0.0",tmp:"0.2.5","ts-loader":"^9.5.2",typescript:"^5.8.3",webpack:"^5.35.0","webpack-cli":"^6.0.1"},dependencies:{extend:"^3.0.2","https-proxy-agent":"^7.0.1","node-fetch":"^3.3.2",rimraf:"^5.0.1"},homepage:"https://github.com/googleapis/google-cloud-node-core/tree/main/packages/gaxios"}});var $y1=q((r58,Wy1)=>{var _L4=Zy1();Wy1.exports={pkg:_L4}});var Rn=q((o7)=>{var Qy1=o7&&o7.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(o7,"__esModule",{value:!0});o7.GaxiosError=o7.GAXIOS_ERROR_SYMBOL=void 0;o7.defaultErrorRedactor=Uy1;var Gy1=Qy1(Mn()),xL4=Qy1($y1()),En=xL4.default.pkg;o7.GAXIOS_ERROR_SYMBOL=Symbol.for(`${En.name}-gaxios-error`);class Tn extends Error{config;response;code;status;error;[o7.GAXIOS_ERROR_SYMBOL]=En.version;static[Symbol.hasInstance](Y){if(Y&&typeof Y==="object"&&o7.GAXIOS_ERROR_SYMBOL in Y&&Y[o7.GAXIOS_ERROR_SYMBOL]===En.version)return!0;return Function.prototype[Symbol.hasInstance].call(Tn,Y)}constructor(Y,J,X,Z){super(Y,{cause:Z});if(this.config=J,this.response=X,this.error=Z instanceof Error?Z:void 0,this.config=(0,Gy1.default)(!0,{},J),this.response)this.response.config=(0,Gy1.default)(!0,{},this.response.config);if(this.response){try{this.response.data=fL4(this.config.responseType,this.response?.bodyUsed?this.response?.data:void 0)}catch{}this.status=this.response.status}if(Z instanceof DOMException)this.code=Z.name;else if(Z&&typeof Z==="object"&&"code"in Z&&(typeof Z.code==="string"||typeof Z.code==="number"))this.code=Z.code}static extractAPIErrorFromResponse(Y,J="The request failed"){let X=J;if(typeof Y.data==="string")X=Y.data;if(Y.data&&typeof Y.data==="object"&&"error"in Y.data&&Y.data.error&&!Y.ok){if(typeof Y.data.error==="string")return{message:Y.data.error,code:Y.status,status:Y.statusText};if(typeof Y.data.error==="object"){X="message"in Y.data.error&&typeof Y.data.error.message==="string"?Y.data.error.message:X;let Z="status"in Y.data.error&&typeof Y.data.error.status==="string"?Y.data.error.status:Y.statusText,W="code"in Y.data.error&&typeof Y.data.error.code==="number"?Y.data.error.code:Y.status;if("errors"in Y.data.error&&Array.isArray(Y.data.error.errors)){let $=[];for(let G of Y.data.error.errors)if(typeof G==="object"&&"message"in G&&typeof G.message==="string")$.push(G.message);return Object.assign({message:$.join(`
`)||X,code:W,status:Z},Y.data.error)}return Object.assign({message:X,code:W,status:Z},Y.data.error)}}return{message:X,code:Y.status,status:Y.statusText}}}o7.GaxiosError=Tn;function fL4(Y,J){switch(Y){case"stream":return J;case"json":return JSON.parse(JSON.stringify(J));case"arraybuffer":return JSON.parse(Buffer.from(J).toString("utf8"));case"blob":return JSON.parse(J.text());default:return J}}function Uy1(Y){function X($){if(!$)return;$.forEach((G,Q)=>{if(/^authentication$/i.test(Q)||/^authorization$/i.test(Q)||/secret/i.test(Q))$.set(Q,"<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.")})}function Z($,G){if(typeof $==="object"&&$!==null&&typeof $[G]==="string"){let Q=$[G];if(/grant_type=/i.test(Q)||/assertion=/i.test(Q)||/secret/i.test(Q))$[G]="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>."}}function W($){if(!$||typeof $!=="object")return;else if($ instanceof FormData||$ instanceof URLSearchParams||"forEach"in $&&"set"in $)$.forEach((G,Q)=>{if(["grant_type","assertion"].includes(Q)||/secret/.test(Q))$.set(Q,"<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.")});else{if("grant_type"in $)$.grant_type="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.";if("assertion"in $)$.assertion="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.";if("client_secret"in $)$.client_secret="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>."}}if(Y.config){if(X(Y.config.headers),Z(Y.config,"data"),W(Y.config.data),Z(Y.config,"body"),W(Y.config.body),Y.config.url.searchParams.has("token"))Y.config.url.searchParams.set("token","<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.");if(Y.config.url.searchParams.has("client_secret"))Y.config.url.searchParams.set("client_secret","<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.")}if(Y.response){if(Uy1({config:Y.response.config}),X(Y.response.headers),Y.response.bodyUsed)Z(Y.response,"data"),W(Y.response.data)}return Y}});var Oy1=q((Hy1)=>{Object.defineProperty(Hy1,"__esModule",{value:!0});Hy1.getRetryConfig=vL4;async function vL4(Y){let J=zy1(Y);if(!Y||!Y.config||!J&&!Y.config.retry)return{shouldRetry:!1};J=J||{},J.currentRetryAttempt=J.currentRetryAttempt||0,J.retry=J.retry===void 0||J.retry===null?3:J.retry,J.httpMethodsToRetry=J.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],J.noResponseRetries=J.noResponseRetries===void 0||J.noResponseRetries===null?2:J.noResponseRetries,J.retryDelayMultiplier=J.retryDelayMultiplier?J.retryDelayMultiplier:2,J.timeOfFirstRequest=J.timeOfFirstRequest?J.timeOfFirstRequest:Date.now(),J.totalTimeout=J.totalTimeout?J.totalTimeout:Number.MAX_SAFE_INTEGER,J.maxRetryDelay=J.maxRetryDelay?J.maxRetryDelay:Number.MAX_SAFE_INTEGER;let X=[[100,199],[408,408],[429,429],[500,599]];if(J.statusCodesToRetry=J.statusCodesToRetry||X,Y.config.retryConfig=J,!await(J.shouldRetry||hL4)(Y))return{shouldRetry:!1,config:Y.config};let W=bL4(J);Y.config.retryConfig.currentRetryAttempt+=1;let $=J.retryBackoff?J.retryBackoff(Y,W):new Promise((G)=>{setTimeout(G,W)});if(J.onRetryAttempt)await J.onRetryAttempt(Y);return await $,{shouldRetry:!0,config:Y.config}}function hL4(Y){let J=zy1(Y);if(Y.config.signal?.aborted&&Y.code!=="TimeoutError"||Y.code==="AbortError")return!1;if(!J||J.retry===0)return!1;if(!Y.response&&(J.currentRetryAttempt||0)>=J.noResponseRetries)return!1;if(!J.httpMethodsToRetry||!J.httpMethodsToRetry.includes(Y.config.method?.toUpperCase()||"GET"))return!1;if(Y.response&&Y.response.status){let X=!1;for(let[Z,W]of J.statusCodesToRetry){let $=Y.response.status;if($>=Z&&$<=W){X=!0;break}}if(!X)return!1}if(J.currentRetryAttempt=J.currentRetryAttempt||0,J.currentRetryAttempt>=J.retry)return!1;return!0}function zy1(Y){if(Y&&Y.config&&Y.config.retryConfig)return Y.config.retryConfig;return}function bL4(Y){let X=(Y.currentRetryAttempt?0:Y.retryDelay??100)+(Math.pow(Y.retryDelayMultiplier,Y.currentRetryAttempt)-1)/2*1000,Z=Y.totalTimeout-(Date.now()-Y.timeOfFirstRequest);return Math.min(X,Z,Y.maxRetryDelay)}});var Nn=q((By1)=>{Object.defineProperty(By1,"__esModule",{value:!0});By1.GaxiosInterceptorManager=void 0;class Ky1 extends Set{}By1.GaxiosInterceptorManager=Ky1});var Sn=q((e58,Fy1)=>{function gL4(Y){X.debug=X,X.default=X,X.coerce=U,X.disable=G,X.enable=W,X.enabled=Q,X.humanize=gE(),X.destroy=z,Object.keys(Y).forEach((H)=>{X[H]=Y[H]}),X.names=[],X.skips=[],X.formatters={};function J(H){let O=0;for(let K=0;K<H.length;K++)O=(O<<5)-O+H.charCodeAt(K),O|=0;return X.colors[Math.abs(O)%X.colors.length]}X.selectColor=J;function X(H){let O,K=null,B,F;function V(...I){if(!V.enabled)return;let D=V,L=Number(new Date),A=L-(O||L);if(D.diff=A,D.prev=O,D.curr=L,O=L,I[0]=X.coerce(I[0]),typeof I[0]!=="string")I.unshift("%O");let P=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(N,v)=>{if(N==="%%")return"%";P++;let j=X.formatters[v];if(typeof j==="function"){let M=I[P];N=j.call(D,M),I.splice(P,1),P--}return N}),X.formatArgs.call(D,I),(D.log||X.log).apply(D,I)}if(V.namespace=H,V.useColors=X.useColors(),V.color=X.selectColor(H),V.extend=Z,V.destroy=X.destroy,Object.defineProperty(V,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(K!==null)return K;if(B!==X.namespaces)B=X.namespaces,F=X.enabled(H);return F},set:(I)=>{K=I}}),typeof X.init==="function")X.init(V);return V}function Z(H,O){let K=X(this.namespace+(typeof O>"u"?":":O)+H);return K.log=this.log,K}function W(H){X.save(H),X.namespaces=H,X.names=[],X.skips=[];let O=(typeof H==="string"?H:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let K of O)if(K[0]==="-")X.skips.push(K.slice(1));else X.names.push(K)}function $(H,O){let K=0,B=0,F=-1,V=0;while(K<H.length)if(B<O.length&&(O[B]===H[K]||O[B]==="*"))if(O[B]==="*")F=B,V=K,B++;else K++,B++;else if(F!==-1)B=F+1,V++,K=V;else return!1;while(B<O.length&&O[B]==="*")B++;return B===O.length}function G(){let H=[...X.names,...X.skips.map((O)=>"-"+O)].join(",");return X.enable(""),H}function Q(H){for(let O of X.skips)if($(H,O))return!1;for(let O of X.names)if($(H,O))return!0;return!1}function U(H){if(H instanceof Error)return H.stack||H.message;return H}function z(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return X.enable(X.load()),X}Fy1.exports=gL4});var Iy1=q((Vy1,RR)=>{Vy1.formatArgs=mL4;Vy1.save=dL4;Vy1.load=cL4;Vy1.useColors=uL4;Vy1.storage=lL4();Vy1.destroy=(()=>{let Y=!1;return()=>{if(!Y)Y=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();Vy1.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function uL4(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let Y;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(Y=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(Y[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function mL4(Y){if(Y[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+Y[0]+(this.useColors?"%c ":" ")+"+"+RR.exports.humanize(this.diff),!this.useColors)return;let J="color: "+this.color;Y.splice(1,0,J,"color: inherit");let X=0,Z=0;Y[0].replace(/%[a-zA-Z%]/g,(W)=>{if(W==="%%")return;if(X++,W==="%c")Z=X}),Y.splice(Z,0,J)}Vy1.log=console.debug||console.log||(()=>{});function dL4(Y){try{if(Y)Vy1.storage.setItem("debug",Y);else Vy1.storage.removeItem("debug")}catch(J){}}function cL4(){let Y;try{Y=Vy1.storage.getItem("debug")||Vy1.storage.getItem("DEBUG")}catch(J){}if(!Y&&typeof process<"u"&&"env"in process)Y=process.env.DEBUG;return Y}function lL4(){try{return localStorage}catch(Y){}}RR.exports=Sn()(Vy1);var{formatters:pL4}=RR.exports;pL4.j=function(Y){try{return JSON.stringify(Y)}catch(J){return"[UnexpectedJSONParseError]: "+J.message}}});var Py1=q((wy1,SR)=>{var eL4=C("tty"),NR=C("util");wy1.init=GM4;wy1.log=ZM4;wy1.formatArgs=JM4;wy1.save=WM4;wy1.load=$M4;wy1.useColors=YM4;wy1.destroy=NR.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");wy1.colors=[6,2,3,4,5,1];try{let Y=(()=>{throw new Error("Cannot require module "+"supports-color");})();if(Y&&(Y.stderr||Y).level>=2)wy1.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch(Y){}wy1.inspectOpts=Object.keys(process.env).filter((Y)=>{return/^debug_/i.test(Y)}).reduce((Y,J)=>{let X=J.substring(6).toLowerCase().replace(/_([a-z])/g,(W,$)=>{return $.toUpperCase()}),Z=process.env[J];if(/^(yes|on|true|enabled)$/i.test(Z))Z=!0;else if(/^(no|off|false|disabled)$/i.test(Z))Z=!1;else if(Z==="null")Z=null;else Z=Number(Z);return Y[X]=Z,Y},{});function YM4(){return"colors"in wy1.inspectOpts?Boolean(wy1.inspectOpts.colors):eL4.isatty(process.stderr.fd)}function JM4(Y){let{namespace:J,useColors:X}=this;if(X){let Z=this.color,W="\x1B[3"+(Z<8?Z:"8;5;"+Z),$=`  ${W};1m${J} \x1B[0m`;Y[0]=$+Y[0].split(`
`).join(`
`+$),Y.push(W+"m+"+SR.exports.humanize(this.diff)+"\x1B[0m")}else Y[0]=XM4()+J+" "+Y[0]}function XM4(){if(wy1.inspectOpts.hideDate)return"";return new Date().toISOString()+" "}function ZM4(...Y){return process.stderr.write(NR.formatWithOptions(wy1.inspectOpts,...Y)+`
`)}function WM4(Y){if(Y)process.env.DEBUG=Y;else delete process.env.DEBUG}function $M4(){return process.env.DEBUG}function GM4(Y){Y.inspectOpts={};let J=Object.keys(wy1.inspectOpts);for(let X=0;X<J.length;X++)Y.inspectOpts[J[X]]=wy1.inspectOpts[J[X]]}SR.exports=Sn()(wy1);var{formatters:Dy1}=SR.exports;Dy1.o=function(Y){return this.inspectOpts.colors=this.useColors,NR.inspect(Y,this.inspectOpts).split(`
`).map((J)=>J.trim()).join(" ")};Dy1.O=function(Y){return this.inspectOpts.colors=this.useColors,NR.inspect(Y,this.inspectOpts)}});var jn=q((X98,Cn)=>{if(typeof process>"u"||process.type==="renderer"||!1||process.__nwjs)Cn.exports=Iy1();else Cn.exports=Py1()});var Ey1=q((v9)=>{var qM4=v9&&v9.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),FM4=v9&&v9.__setModuleDefault||(Object.create?function(Y,J){Object.defineProperty(Y,"default",{enumerable:!0,value:J})}:function(Y,J){Y.default=J}),Ly1=v9&&v9.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var J={};if(Y!=null){for(var X in Y)if(X!=="default"&&Object.prototype.hasOwnProperty.call(Y,X))qM4(J,Y,X)}return FM4(J,Y),J};Object.defineProperty(v9,"__esModule",{value:!0});v9.req=v9.json=v9.toBuffer=void 0;var VM4=Ly1(C("http")),IM4=Ly1(C("https"));async function My1(Y){let J=0,X=[];for await(let Z of Y)J+=Z.length,X.push(Z);return Buffer.concat(X,J)}v9.toBuffer=My1;async function DM4(Y){let X=(await My1(Y)).toString("utf8");try{return JSON.parse(X)}catch(Z){let W=Z;throw W.message+=` (input: ${X})`,W}}v9.json=DM4;function wM4(Y,J={}){let Z=((typeof Y==="string"?Y:Y.href).startsWith("https:")?IM4:VM4).request(Y,J),W=new Promise(($,G)=>{Z.once("response",$).once("error",G).end()});return Z.then=W.then.bind(W),Z}v9.req=wM4});var Cy1=q((O7)=>{var Ry1=O7&&O7.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),AM4=O7&&O7.__setModuleDefault||(Object.create?function(Y,J){Object.defineProperty(Y,"default",{enumerable:!0,value:J})}:function(Y,J){Y.default=J}),Ny1=O7&&O7.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var J={};if(Y!=null){for(var X in Y)if(X!=="default"&&Object.prototype.hasOwnProperty.call(Y,X))Ry1(J,Y,X)}return AM4(J,Y),J},PM4=O7&&O7.__exportStar||function(Y,J){for(var X in Y)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(J,X))Ry1(J,Y,X)};Object.defineProperty(O7,"__esModule",{value:!0});O7.Agent=void 0;var LM4=Ny1(C("net")),Ty1=Ny1(C("http")),MM4=C("https");PM4(Ey1(),O7);var LX=Symbol("AgentBaseInternalState");class Sy1 extends Ty1.Agent{constructor(Y){super(Y);this[LX]={}}isSecureEndpoint(Y){if(Y){if(typeof Y.secureEndpoint==="boolean")return Y.secureEndpoint;if(typeof Y.protocol==="string")return Y.protocol==="https:"}let{stack:J}=Error();if(typeof J!=="string")return!1;return J.split(`
`).some((X)=>X.indexOf("(https.js:")!==-1||X.indexOf("node:https:")!==-1)}incrementSockets(Y){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;if(!this.sockets[Y])this.sockets[Y]=[];let J=new LM4.Socket({writable:!1});return this.sockets[Y].push(J),this.totalSocketCount++,J}decrementSockets(Y,J){if(!this.sockets[Y]||J===null)return;let X=this.sockets[Y],Z=X.indexOf(J);if(Z!==-1){if(X.splice(Z,1),this.totalSocketCount--,X.length===0)delete this.sockets[Y]}}getName(Y){if(typeof Y.secureEndpoint==="boolean"?Y.secureEndpoint:this.isSecureEndpoint(Y))return MM4.Agent.prototype.getName.call(this,Y);return super.getName(Y)}createSocket(Y,J,X){let Z={...J,secureEndpoint:this.isSecureEndpoint(J)},W=this.getName(Z),$=this.incrementSockets(W);Promise.resolve().then(()=>this.connect(Y,Z)).then((G)=>{if(this.decrementSockets(W,$),G instanceof Ty1.Agent)try{return G.addRequest(Y,Z)}catch(Q){return X(Q)}this[LX].currentSocket=G,super.createSocket(Y,J,X)},(G)=>{this.decrementSockets(W,$),X(G)})}createConnection(){let Y=this[LX].currentSocket;if(this[LX].currentSocket=void 0,!Y)throw Error("No socket was returned in the `connect()` function");return Y}get defaultPort(){return this[LX].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(Y){if(this[LX])this[LX].defaultPort=Y}get protocol(){return this[LX].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(Y){if(this[LX])this[LX].protocol=Y}}O7.Agent=Sy1});var jy1=q((KO)=>{var EM4=KO&&KO.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(KO,"__esModule",{value:!0});KO.parseProxyResponse=void 0;var TM4=EM4(jn()),CR=(0,TM4.default)("https-proxy-agent:parse-proxy-response");function RM4(Y){return new Promise((J,X)=>{let Z=0,W=[];function $(){let H=Y.read();if(H)z(H);else Y.once("readable",$)}function G(){Y.removeListener("end",Q),Y.removeListener("error",U),Y.removeListener("readable",$)}function Q(){G(),CR("onend"),X(Error("Proxy connection ended before receiving CONNECT response"))}function U(H){G(),CR("onerror %o",H),X(H)}function z(H){W.push(H),Z+=H.length;let O=Buffer.concat(W,Z),K=O.indexOf(`\r
\r
`);if(K===-1){CR("have not received end of HTTP headers yet..."),$();return}let B=O.slice(0,K).toString("ascii").split(`\r
`),F=B.shift();if(!F)return Y.destroy(),X(Error("No header received from proxy CONNECT response"));let V=F.split(" "),I=+V[1],D=V.slice(2).join(" "),L={};for(let A of B){if(!A)continue;let P=A.indexOf(":");if(P===-1)return Y.destroy(),X(Error(`Invalid header from proxy CONNECT response: "${A}"`));let R=A.slice(0,P).toLowerCase(),N=A.slice(P+1).trimStart(),v=L[R];if(typeof v==="string")L[R]=[v,N];else if(Array.isArray(v))v.push(N);else L[R]=N}CR("got proxy server response: %o %o",F,L),G(),J({connect:{statusCode:I,statusText:D,headers:L},buffered:O})}Y.on("error",U),Y.on("end",Q),$()})}KO.parseProxyResponse=RM4});var hy1=q((r7)=>{var NM4=r7&&r7.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),SM4=r7&&r7.__setModuleDefault||(Object.create?function(Y,J){Object.defineProperty(Y,"default",{enumerable:!0,value:J})}:function(Y,J){Y.default=J}),fy1=r7&&r7.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var J={};if(Y!=null){for(var X in Y)if(X!=="default"&&Object.prototype.hasOwnProperty.call(Y,X))NM4(J,Y,X)}return SM4(J,Y),J},vy1=r7&&r7.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(r7,"__esModule",{value:!0});r7.HttpsProxyAgent=void 0;var jR=fy1(C("net")),ky1=fy1(C("tls")),CM4=vy1(C("assert")),jM4=vy1(jn()),kM4=Cy1(),_M4=C("url"),xM4=jy1(),dV=(0,jM4.default)("https-proxy-agent"),_y1=(Y)=>{if(Y.servername===void 0&&Y.host&&!jR.isIP(Y.host))return{...Y,servername:Y.host};return Y};class kn extends kM4.Agent{constructor(Y,J){super(J);this.options={path:void 0},this.proxy=typeof Y==="string"?new _M4.URL(Y):Y,this.proxyHeaders=J?.headers??{},dV("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let X=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),Z=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...J?xy1(J,"headers"):null,host:X,port:Z}}async connect(Y,J){let{proxy:X}=this;if(!J.host)throw TypeError('No "host" provided');let Z;if(X.protocol==="https:")dV("Creating `tls.Socket`: %o",this.connectOpts),Z=ky1.connect(_y1(this.connectOpts));else dV("Creating `net.Socket`: %o",this.connectOpts),Z=jR.connect(this.connectOpts);let W=typeof this.proxyHeaders==="function"?this.proxyHeaders():{...this.proxyHeaders},$=jR.isIPv6(J.host)?`[${J.host}]`:J.host,G=`CONNECT ${$}:${J.port} HTTP/1.1\r
`;if(X.username||X.password){let O=`${decodeURIComponent(X.username)}:${decodeURIComponent(X.password)}`;W["Proxy-Authorization"]=`Basic ${Buffer.from(O).toString("base64")}`}if(W.Host=`${$}:${J.port}`,!W["Proxy-Connection"])W["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close";for(let O of Object.keys(W))G+=`${O}: ${W[O]}\r
`;let Q=(0,xM4.parseProxyResponse)(Z);Z.write(`${G}\r
`);let{connect:U,buffered:z}=await Q;if(Y.emit("proxyConnect",U),this.emit("proxyConnect",U,Y),U.statusCode===200){if(Y.once("socket",fM4),J.secureEndpoint)return dV("Upgrading socket connection to TLS"),ky1.connect({...xy1(_y1(J),"host","path","port"),socket:Z});return Z}Z.destroy();let H=new jR.Socket({writable:!1});return H.readable=!0,Y.once("socket",(O)=>{dV("Replaying proxy buffer for failed request"),(0,CM4.default)(O.listenerCount("data")>0),O.push(z),O.push(null)}),H}}kn.protocols=["http","https"];r7.HttpsProxyAgent=kn;function fM4(Y){Y.resume()}function xy1(Y,...J){let X={},Z;for(Z in Y)if(!J.includes(Z))X[Z]=Y[Z];return X}});var gy1=q((qO)=>{var vM4=qO&&qO.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}},BO;Object.defineProperty(qO,"__esModule",{value:!0});qO.Gaxios=void 0;var hM4=vM4(Mn()),bM4=C("https"),TQ=Rn(),yM4=Oy1(),by1=C("stream"),yy1=Nn(),gM4=async()=>globalThis.crypto?.randomUUID()||(await import("crypto")).randomUUID(),uM4=204;class _n{agentCache=new Map;defaults;interceptors;constructor(Y){this.defaults=Y||{},this.interceptors={request:new yy1.GaxiosInterceptorManager,response:new yy1.GaxiosInterceptorManager}}fetch(...Y){let J=Y[0],X=Y[1],Z=void 0,W=new Headers;if(typeof J==="string")Z=new URL(J);else if(J instanceof URL)Z=J;else if(J&&J.url)Z=new URL(J.url);if(J&&typeof J==="object"&&"headers"in J)BO.mergeHeaders(W,J.headers);if(X)BO.mergeHeaders(W,new Headers(X.headers));if(typeof J==="object"&&!(J instanceof URL))return this.request({...X,...J,headers:W,url:Z});else return this.request({...X,headers:W,url:Z})}async request(Y={}){let J=await this.#X(Y);return J=await this.#Z(J),this.#G(this._request(J))}async _defaultAdapter(Y){let J=Y.fetchImplementation||this.defaults.fetchImplementation||await BO.#$(),X={...Y};delete X.data;let Z=await J(Y.url,X),W=await this.getResponseData(Y,Z);if(!Object.getOwnPropertyDescriptor(Z,"data")?.configurable)Object.defineProperties(Z,{data:{configurable:!0,writable:!0,enumerable:!0,value:W}});return Object.assign(Z,{config:Y,data:W})}async _request(Y){try{let J;if(Y.adapter)J=await Y.adapter(Y,this._defaultAdapter.bind(this));else J=await this._defaultAdapter(Y);if(!Y.validateStatus(J.status)){if(Y.responseType==="stream"){let Z=[];for await(let W of J.data)Z.push(W);J.data=Z.toString()}let X=TQ.GaxiosError.extractAPIErrorFromResponse(J,`Request failed with status code ${J.status}`);throw new TQ.GaxiosError(X?.message,Y,J,X)}return J}catch(J){let X;if(J instanceof TQ.GaxiosError)X=J;else if(J instanceof Error)X=new TQ.GaxiosError(J.message,Y,void 0,J);else X=new TQ.GaxiosError("Unexpected Gaxios Error",Y,void 0,J);let{shouldRetry:Z,config:W}=await(0,yM4.getRetryConfig)(X);if(Z&&W)return X.config.retryConfig.currentRetryAttempt=W.retryConfig.currentRetryAttempt,Y.retryConfig=X.config?.retryConfig,this.#F(Y),this._request(Y);if(Y.errorRedactor)Y.errorRedactor(X);throw X}}async getResponseData(Y,J){if(J.status===uM4)return"";if(Y.maxContentLength&&J.headers.has("content-length")&&Y.maxContentLength<Number.parseInt(J.headers?.get("content-length")||""))throw new TQ.GaxiosError("Response's `Content-Length` is over the limit.",Y,Object.assign(J,{config:Y}));switch(Y.responseType){case"stream":return J.body;case"json":{let X=await J.text();try{return JSON.parse(X)}catch{return X}}case"arraybuffer":return J.arrayBuffer();case"blob":return J.blob();case"text":return J.text();default:return this.getResponseDataFromContentType(J)}}#W(Y,J=[]){let X=new URL(Y),Z=[...J],W=(process.env.NO_PROXY??process.env.no_proxy)?.split(",")||[];for(let $ of W)Z.push($.trim());for(let $ of Z)if($ instanceof RegExp){if($.test(X.toString()))return!1}else if($ instanceof URL){if($.origin===X.origin)return!1}else if($.startsWith("*.")||$.startsWith(".")){let G=$.replace(/^\*\./,".");if(X.hostname.endsWith(G))return!1}else if($===X.origin||$===X.hostname||$===X.href)return!1;return!0}async#Z(Y){let J=Promise.resolve(Y);for(let X of this.interceptors.request.values())if(X)J=J.then(X.resolved,X.rejected);return J}async#G(Y){let J=Promise.resolve(Y);for(let X of this.interceptors.response.values())if(X)J=J.then(X.resolved,X.rejected);return J}async#X(Y){let J=new Headers(this.defaults.headers);BO.mergeHeaders(J,Y.headers);let X=(0,hM4.default)(!0,{},this.defaults,Y);if(!X.url)throw Error("URL is required.");if(X.baseURL)X.url=new URL(X.url,X.baseURL);if(X.url=new URL(X.url),X.params)if(X.paramsSerializer){let $=X.paramsSerializer(X.params);if($.startsWith("?"))$=$.slice(1);let G=X.url.toString().includes("?")?"&":"?";X.url=X.url+G+$}else{let $=X.url instanceof URL?X.url:new URL(X.url);for(let[G,Q]of new URLSearchParams(X.params))$.searchParams.append(G,Q);X.url=$}if(typeof Y.maxContentLength==="number")X.size=Y.maxContentLength;if(typeof Y.maxRedirects==="number")X.follow=Y.maxRedirects;let Z=typeof X.data==="string"||X.data instanceof ArrayBuffer||X.data instanceof Blob||globalThis.File&&X.data instanceof File||X.data instanceof FormData||X.data instanceof by1.Readable||X.data instanceof ReadableStream||X.data instanceof String||X.data instanceof URLSearchParams||ArrayBuffer.isView(X.data)||["Blob","File","FormData"].includes(X.data?.constructor?.name||"");if(X.multipart?.length){let $=await gM4();J.set("content-type",`multipart/related; boundary=${$}`),X.body=by1.Readable.from(this.getMultipartRequest(X.multipart,$))}else if(Z)X.body=X.data;else if(typeof X.data==="object")if(J.get("Content-Type")==="application/x-www-form-urlencoded")X.body=X.paramsSerializer?X.paramsSerializer(X.data):new URLSearchParams(X.data);else{if(!J.has("content-type"))J.set("content-type","application/json");X.body=JSON.stringify(X.data)}else if(X.data)X.body=X.data;if(X.validateStatus=X.validateStatus||this.validateStatus,X.responseType=X.responseType||"unknown",!J.has("accept")&&X.responseType==="json")J.set("accept","application/json");let W=X.proxy||process?.env?.HTTPS_PROXY||process?.env?.https_proxy||process?.env?.HTTP_PROXY||process?.env?.http_proxy;if(X.agent);else if(W&&this.#W(X.url,X.noProxy)){let $=await BO.#w();if(this.agentCache.has(W))X.agent=this.agentCache.get(W);else X.agent=new $(W,{cert:X.cert,key:X.key}),this.agentCache.set(W,X.agent)}else if(X.cert&&X.key)if(this.agentCache.has(X.key))X.agent=this.agentCache.get(X.key);else X.agent=new bM4.Agent({cert:X.cert,key:X.key}),this.agentCache.set(X.key,X.agent);if(typeof X.errorRedactor!=="function"&&X.errorRedactor!==!1)X.errorRedactor=TQ.defaultErrorRedactor;if(X.body&&!("duplex"in X))X.duplex="half";return this.#F(X),Object.assign(X,{headers:J,url:X.url instanceof URL?X.url:new URL(X.url)})}#F(Y){if(Y.timeout){let J=AbortSignal.timeout(Y.timeout);if(Y.signal&&!Y.signal.aborted)Y.signal=AbortSignal.any([Y.signal,J]);else Y.signal=J}}validateStatus(Y){return Y>=200&&Y<300}async getResponseDataFromContentType(Y){let J=Y.headers.get("Content-Type");if(J===null)return Y.text();if(J=J.toLowerCase(),J.includes("application/json")){let X=await Y.text();try{X=JSON.parse(X)}catch{}return X}else if(J.match(/^text\//))return Y.text();else return Y.blob()}async*getMultipartRequest(Y,J){let X=`--${J}--`;for(let Z of Y){let W=Z.headers.get("Content-Type")||"application/octet-stream";if(yield`--${J}\r
Content-Type: ${W}\r
\r
`,typeof Z.content==="string")yield Z.content;else yield*Z.content;yield`\r
`}yield X}static#T;static#z;static async#w(){return this.#T||=(await Promise.resolve().then(() => q1(hy1()))).HttpsProxyAgent,this.#T}static async#$(){let Y=typeof window<"u"&&!!window;return this.#z||=Y?window.fetch:(await import("node-fetch")).default,this.#z}static mergeHeaders(Y,...J){Y=Y instanceof Headers?Y:new Headers(Y);for(let X of J)(X instanceof Headers?X:new Headers(X)).forEach((W,$)=>{$==="set-cookie"?Y.append($,W):Y.set($,W)});return Y}}qO.Gaxios=_n;BO=_n});var my1=q((Q9)=>{var mM4=Q9&&Q9.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),dM4=Q9&&Q9.__exportStar||function(Y,J){for(var X in Y)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(J,X))mM4(J,Y,X)};Object.defineProperty(Q9,"__esModule",{value:!0});Q9.instance=Q9.Gaxios=Q9.GaxiosError=void 0;Q9.request=lM4;var uy1=gy1();Object.defineProperty(Q9,"Gaxios",{enumerable:!0,get:function(){return uy1.Gaxios}});var cM4=Rn();Object.defineProperty(Q9,"GaxiosError",{enumerable:!0,get:function(){return cM4.GaxiosError}});dM4(Nn(),Q9);Q9.instance=new uy1.Gaxios;async function lM4(Y){return Q9.instance.request(Y)}});var xn=q((dy1,kR)=>{(function(Y){var J,X=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Z=Math.ceil,W=Math.floor,$="[BigNumber Error] ",G=$+"Number primitive has more than 15 significant digits: ",Q=100000000000000,U=14,z=9007199254740991,H=[1,10,100,1000,1e4,1e5,1e6,1e7,1e8,1e9,10000000000,100000000000,1000000000000,10000000000000],O=1e7,K=1e9;function B(R){var N,v,j,M=l.prototype={constructor:l,toString:null,valueOf:null},b=new l(1),k=20,r=4,p=-7,S=21,c=-1e7,d=1e7,a=!1,H1=1,F1=0,z1={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},y1="0123456789abcdefghijklmnopqrstuvwxyz",J1=!0;function l(x,g){var m,h,f,y,o,u,i,e,X1=this;if(!(X1 instanceof l))return new l(x,g);if(g==null){if(x&&x._isBigNumber===!0){if(X1.s=x.s,!x.c||x.e>d)X1.c=X1.e=null;else if(x.e<c)X1.c=[X1.e=0];else X1.e=x.e,X1.c=x.c.slice();return}if((u=typeof x=="number")&&x*0==0){if(X1.s=1/x<0?(x=-x,-1):1,x===~~x){for(y=0,o=x;o>=10;o/=10,y++);if(y>d)X1.c=X1.e=null;else X1.e=y,X1.c=[x];return}e=String(x)}else{if(!X.test(e=String(x)))return j(X1,e,u);X1.s=e.charCodeAt(0)==45?(e=e.slice(1),-1):1}if((y=e.indexOf("."))>-1)e=e.replace(".","");if((o=e.search(/e/i))>0){if(y<0)y=o;y+=+e.slice(o+1),e=e.substring(0,o)}else if(y<0)y=e.length}else{if(D(g,2,y1.length,"Base"),g==10&&J1)return X1=new l(x),W0(X1,k+X1.e+1,r);if(e=String(x),u=typeof x=="number"){if(x*0!=0)return j(X1,e,u,g);if(X1.s=1/x<0?(e=e.slice(1),-1):1,l.DEBUG&&e.replace(/^0\.0*|\./,"").length>15)throw Error(G+x)}else X1.s=e.charCodeAt(0)===45?(e=e.slice(1),-1):1;m=y1.slice(0,g),y=o=0;for(i=e.length;o<i;o++)if(m.indexOf(h=e.charAt(o))<0){if(h=="."){if(o>y){y=i;continue}}else if(!f){if(e==e.toUpperCase()&&(e=e.toLowerCase())||e==e.toLowerCase()&&(e=e.toUpperCase())){f=!0,o=-1,y=0;continue}}return j(X1,String(x),u,g)}if(u=!1,e=v(e,g,10,X1.s),(y=e.indexOf("."))>-1)e=e.replace(".","");else y=e.length}for(o=0;e.charCodeAt(o)===48;o++);for(i=e.length;e.charCodeAt(--i)===48;);if(e=e.slice(o,++i)){if(i-=o,u&&l.DEBUG&&i>15&&(x>z||x!==W(x)))throw Error(G+X1.s*x);if((y=y-o-1)>d)X1.c=X1.e=null;else if(y<c)X1.c=[X1.e=0];else{if(X1.e=y,X1.c=[],o=(y+1)%U,y<0)o+=U;if(o<i){if(o)X1.c.push(+e.slice(0,o));for(i-=U;o<i;)X1.c.push(+e.slice(o,o+=U));o=U-(e=e.slice(o)).length}else o-=i;for(;o--;e+="0");X1.c.push(+e)}}else X1.c=[X1.e=0]}l.clone=B,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.EUCLID=9,l.config=l.set=function(x){var g,m;if(x!=null)if(typeof x=="object"){if(x.hasOwnProperty(g="DECIMAL_PLACES"))m=x[g],D(m,0,K,g),k=m;if(x.hasOwnProperty(g="ROUNDING_MODE"))m=x[g],D(m,0,8,g),r=m;if(x.hasOwnProperty(g="EXPONENTIAL_AT"))if(m=x[g],m&&m.pop)D(m[0],-K,0,g),D(m[1],0,K,g),p=m[0],S=m[1];else D(m,-K,K,g),p=-(S=m<0?-m:m);if(x.hasOwnProperty(g="RANGE"))if(m=x[g],m&&m.pop)D(m[0],-K,-1,g),D(m[1],1,K,g),c=m[0],d=m[1];else if(D(m,-K,K,g),m)c=-(d=m<0?-m:m);else throw Error($+g+" cannot be zero: "+m);if(x.hasOwnProperty(g="CRYPTO"))if(m=x[g],m===!!m)if(m)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))a=m;else throw a=!m,Error($+"crypto unavailable");else a=m;else throw Error($+g+" not true or false: "+m);if(x.hasOwnProperty(g="MODULO_MODE"))m=x[g],D(m,0,9,g),H1=m;if(x.hasOwnProperty(g="POW_PRECISION"))m=x[g],D(m,0,K,g),F1=m;if(x.hasOwnProperty(g="FORMAT"))if(m=x[g],typeof m=="object")z1=m;else throw Error($+g+" not an object: "+m);if(x.hasOwnProperty(g="ALPHABET"))if(m=x[g],typeof m=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(m))J1=m.slice(0,10)=="0123456789",y1=m;else throw Error($+g+" invalid: "+m)}else throw Error($+"Object expected: "+x);return{DECIMAL_PLACES:k,ROUNDING_MODE:r,EXPONENTIAL_AT:[p,S],RANGE:[c,d],CRYPTO:a,MODULO_MODE:H1,POW_PRECISION:F1,FORMAT:z1,ALPHABET:y1}},l.isBigNumber=function(x){if(!x||x._isBigNumber!==!0)return!1;if(!l.DEBUG)return!0;var g,m,h=x.c,f=x.e,y=x.s;Y:if({}.toString.call(h)=="[object Array]"){if((y===1||y===-1)&&f>=-K&&f<=K&&f===W(f)){if(h[0]===0){if(f===0&&h.length===1)return!0;break Y}if(g=(f+1)%U,g<1)g+=U;if(String(h[0]).length==g){for(g=0;g<h.length;g++)if(m=h[g],m<0||m>=Q||m!==W(m))break Y;if(m!==0)return!0}}}else if(h===null&&f===null&&(y===null||y===1||y===-1))return!0;throw Error($+"Invalid BigNumber: "+x)},l.maximum=l.max=function(){return Q1(arguments,-1)},l.minimum=l.min=function(){return Q1(arguments,1)},l.random=function(){var x=9007199254740992,g=Math.random()*x&2097151?function(){return W(Math.random()*x)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(m){var h,f,y,o,u,i=0,e=[],X1=new l(b);if(m==null)m=k;else D(m,0,K);if(o=Z(m/U),a)if(crypto.getRandomValues){h=crypto.getRandomValues(new Uint32Array(o*=2));for(;i<o;)if(u=h[i]*131072+(h[i+1]>>>11),u>=9000000000000000)f=crypto.getRandomValues(new Uint32Array(2)),h[i]=f[0],h[i+1]=f[1];else e.push(u%100000000000000),i+=2;i=o/2}else if(crypto.randomBytes){h=crypto.randomBytes(o*=7);for(;i<o;)if(u=(h[i]&31)*281474976710656+h[i+1]*1099511627776+h[i+2]*4294967296+h[i+3]*16777216+(h[i+4]<<16)+(h[i+5]<<8)+h[i+6],u>=9000000000000000)crypto.randomBytes(7).copy(h,i);else e.push(u%100000000000000),i+=7;i=o/7}else throw a=!1,Error($+"crypto unavailable");if(!a){for(;i<o;)if(u=g(),u<9000000000000000)e[i++]=u%100000000000000}if(o=e[--i],m%=U,o&&m)u=H[U-m],e[i]=W(o/u)*u;for(;e[i]===0;e.pop(),i--);if(i<0)e=[y=0];else{for(y=-1;e[0]===0;e.splice(0,1),y-=U);for(i=1,u=e[0];u>=10;u/=10,i++);if(i<U)y-=U-i}return X1.e=y,X1.c=e,X1}}(),l.sum=function(){var x=1,g=arguments,m=new l(g[0]);for(;x<g.length;)m=m.plus(g[x++]);return m},v=function(){var x="0123456789";function g(m,h,f,y){var o,u=[0],i,e=0,X1=m.length;for(;e<X1;){for(i=u.length;i--;u[i]*=h);u[0]+=y.indexOf(m.charAt(e++));for(o=0;o<u.length;o++)if(u[o]>f-1){if(u[o+1]==null)u[o+1]=0;u[o+1]+=u[o]/f|0,u[o]%=f}}return u.reverse()}return function(m,h,f,y,o){var u,i,e,X1,O1,n1,$0,l0,E6=m.indexOf("."),D8=k,Y4=r;if(E6>=0)X1=F1,F1=0,m=m.replace(".",""),l0=new l(h),n1=l0.pow(m.length-E6),F1=X1,l0.c=g(P(V(n1.c),n1.e,"0"),10,f,x),l0.e=l0.c.length;$0=g(m,h,f,o?(u=y1,x):(u=x,y1)),e=X1=$0.length;for(;$0[--X1]==0;$0.pop());if(!$0[0])return u.charAt(0);if(E6<0)--e;else n1.c=$0,n1.e=e,n1.s=y,n1=N(n1,l0,D8,Y4,f),$0=n1.c,O1=n1.r,e=n1.e;if(i=e+D8+1,E6=$0[i],X1=f/2,O1=O1||i<0||$0[i+1]!=null,O1=Y4<4?(E6!=null||O1)&&(Y4==0||Y4==(n1.s<0?3:2)):E6>X1||E6==X1&&(Y4==4||O1||Y4==6&&$0[i-1]&1||Y4==(n1.s<0?8:7)),i<1||!$0[0])m=O1?P(u.charAt(1),-D8,u.charAt(0)):u.charAt(0);else{if($0.length=i,O1){for(--f;++$0[--i]>f;)if($0[i]=0,!i)++e,$0=[1].concat($0)}for(X1=$0.length;!$0[--X1];);for(E6=0,m="";E6<=X1;m+=u.charAt($0[E6++]));m=P(m,e,u.charAt(0))}return m}}(),N=function(){function x(h,f,y){var o,u,i,e,X1=0,O1=h.length,n1=f%O,$0=f/O|0;for(h=h.slice();O1--;)i=h[O1]%O,e=h[O1]/O|0,o=$0*i+e*n1,u=n1*i+o%O*O+X1,X1=(u/y|0)+(o/O|0)+$0*e,h[O1]=u%y;if(X1)h=[X1].concat(h);return h}function g(h,f,y,o){var u,i;if(y!=o)i=y>o?1:-1;else for(u=i=0;u<y;u++)if(h[u]!=f[u]){i=h[u]>f[u]?1:-1;break}return i}function m(h,f,y,o){var u=0;for(;y--;)h[y]-=u,u=h[y]<f[y]?1:0,h[y]=u*o+h[y]-f[y];for(;!h[0]&&h.length>1;h.splice(0,1));}return function(h,f,y,o,u){var i,e,X1,O1,n1,$0,l0,E6,D8,Y4,R4,_5,AL,Ef,Tf,YX,Eq,f7=h.s==f.s?1:-1,t5=h.c,T6=f.c;if(!t5||!t5[0]||!T6||!T6[0])return new l(!h.s||!f.s||(t5?T6&&t5[0]==T6[0]:!T6)?NaN:t5&&t5[0]==0||!T6?f7*0:f7/0);if(E6=new l(f7),D8=E6.c=[],e=h.e-f.e,f7=y+e+1,!u)u=Q,e=F(h.e/U)-F(f.e/U),f7=f7/U|0;for(X1=0;T6[X1]==(t5[X1]||0);X1++);if(T6[X1]>(t5[X1]||0))e--;if(f7<0)D8.push(1),O1=!0;else{if(Ef=t5.length,YX=T6.length,X1=0,f7+=2,n1=W(u/(T6[0]+1)),n1>1)T6=x(T6,n1,u),t5=x(t5,n1,u),YX=T6.length,Ef=t5.length;AL=YX,Y4=t5.slice(0,YX),R4=Y4.length;for(;R4<YX;Y4[R4++]=0);if(Eq=T6.slice(),Eq=[0].concat(Eq),Tf=T6[0],T6[1]>=u/2)Tf++;do{if(n1=0,i=g(T6,Y4,YX,R4),i<0){if(_5=Y4[0],YX!=R4)_5=_5*u+(Y4[1]||0);if(n1=W(_5/Tf),n1>1){if(n1>=u)n1=u-1;$0=x(T6,n1,u),l0=$0.length,R4=Y4.length;while(g($0,Y4,l0,R4)==1)n1--,m($0,YX<l0?Eq:T6,l0,u),l0=$0.length,i=1}else{if(n1==0)i=n1=1;$0=T6.slice(),l0=$0.length}if(l0<R4)$0=[0].concat($0);if(m(Y4,$0,R4,u),R4=Y4.length,i==-1)while(g(T6,Y4,YX,R4)<1)n1++,m(Y4,YX<R4?Eq:T6,R4,u),R4=Y4.length}else if(i===0)n1++,Y4=[0];if(D8[X1++]=n1,Y4[0])Y4[R4++]=t5[AL]||0;else Y4=[t5[AL]],R4=1}while((AL++<Ef||Y4[0]!=null)&&f7--);if(O1=Y4[0]!=null,!D8[0])D8.splice(0,1)}if(u==Q){for(X1=1,f7=D8[0];f7>=10;f7/=10,X1++);W0(E6,y+(E6.e=X1+e*U-1)+1,o,O1)}else E6.e=e,E6.r=+O1;return E6}}();function K1(x,g,m,h){var f,y,o,u,i;if(m==null)m=r;else D(m,0,8);if(!x.c)return x.toString();if(f=x.c[0],o=x.e,g==null)i=V(x.c),i=h==1||h==2&&(o<=p||o>=S)?A(i,o):P(i,o,"0");else if(x=W0(new l(x),g,m),y=x.e,i=V(x.c),u=i.length,h==1||h==2&&(g<=y||y<=p)){for(;u<g;i+="0",u++);i=A(i,y)}else if(g-=o,i=P(i,y,"0"),y+1>u){if(--g>0)for(i+=".";g--;i+="0");}else if(g+=y-u,g>0){if(y+1==u)i+=".";for(;g--;i+="0");}return x.s<0&&f?"-"+i:i}function Q1(x,g){var m,h,f=1,y=new l(x[0]);for(;f<x.length;f++)if(h=new l(x[f]),!h.s||(m=I(y,h))===g||m===0&&y.s===g)y=h;return y}function p1(x,g,m){var h=1,f=g.length;for(;!g[--f];g.pop());for(f=g[0];f>=10;f/=10,h++);if((m=h+m*U-1)>d)x.c=x.e=null;else if(m<c)x.c=[x.e=0];else x.e=m,x.c=g;return x}j=function(){var x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,g=/^([^.]+)\.$/,m=/^\.([^.]+)$/,h=/^-?(Infinity|NaN)$/,f=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(y,o,u,i){var e,X1=u?o:o.replace(f,"");if(h.test(X1))y.s=isNaN(X1)?null:X1<0?-1:1;else{if(!u){if(X1=X1.replace(x,function(O1,n1,$0){return e=($0=$0.toLowerCase())=="x"?16:$0=="b"?2:8,!i||i==e?n1:O1}),i)e=i,X1=X1.replace(g,"$1").replace(m,"0.$1");if(o!=X1)return new l(X1,e)}if(l.DEBUG)throw Error($+"Not a"+(i?" base "+i:"")+" number: "+o);y.s=null}y.c=y.e=null}}();function W0(x,g,m,h){var f,y,o,u,i,e,X1,O1=x.c,n1=H;if(O1){Y:{for(f=1,u=O1[0];u>=10;u/=10,f++);if(y=g-f,y<0)y+=U,o=g,i=O1[e=0],X1=W(i/n1[f-o-1]%10);else if(e=Z((y+1)/U),e>=O1.length)if(h){for(;O1.length<=e;O1.push(0));i=X1=0,f=1,y%=U,o=y-U+1}else break Y;else{i=u=O1[e];for(f=1;u>=10;u/=10,f++);y%=U,o=y-U+f,X1=o<0?0:W(i/n1[f-o-1]%10)}if(h=h||g<0||O1[e+1]!=null||(o<0?i:i%n1[f-o-1]),h=m<4?(X1||h)&&(m==0||m==(x.s<0?3:2)):X1>5||X1==5&&(m==4||h||m==6&&(y>0?o>0?i/n1[f-o]:0:O1[e-1])%10&1||m==(x.s<0?8:7)),g<1||!O1[0]){if(O1.length=0,h)g-=x.e+1,O1[0]=n1[(U-g%U)%U],x.e=-g||0;else O1[0]=x.e=0;return x}if(y==0)O1.length=e,u=1,e--;else O1.length=e+1,u=n1[U-y],O1[e]=o>0?W(i/n1[f-o]%n1[o])*u:0;if(h)for(;;)if(e==0){for(y=1,o=O1[0];o>=10;o/=10,y++);o=O1[0]+=u;for(u=1;o>=10;o/=10,u++);if(y!=u){if(x.e++,O1[0]==Q)O1[0]=1}break}else{if(O1[e]+=u,O1[e]!=Q)break;O1[e--]=0,u=1}for(y=O1.length;O1[--y]===0;O1.pop());}if(x.e>d)x.c=x.e=null;else if(x.e<c)x.c=[x.e=0]}return x}function Q0(x){var g,m=x.e;if(m===null)return x.toString();return g=V(x.c),g=m<=p||m>=S?A(g,m):P(g,m,"0"),x.s<0?"-"+g:g}if(M.absoluteValue=M.abs=function(){var x=new l(this);if(x.s<0)x.s=1;return x},M.comparedTo=function(x,g){return I(this,new l(x,g))},M.decimalPlaces=M.dp=function(x,g){var m,h,f,y=this;if(x!=null){if(D(x,0,K),g==null)g=r;else D(g,0,8);return W0(new l(y),x+y.e+1,g)}if(!(m=y.c))return null;if(h=((f=m.length-1)-F(this.e/U))*U,f=m[f])for(;f%10==0;f/=10,h--);if(h<0)h=0;return h},M.dividedBy=M.div=function(x,g){return N(this,new l(x,g),k,r)},M.dividedToIntegerBy=M.idiv=function(x,g){return N(this,new l(x,g),0,1)},M.exponentiatedBy=M.pow=function(x,g){var m,h,f,y,o,u,i,e,X1,O1=this;if(x=new l(x),x.c&&!x.isInteger())throw Error($+"Exponent not an integer: "+Q0(x));if(g!=null)g=new l(g);if(u=x.e>14,!O1.c||!O1.c[0]||O1.c[0]==1&&!O1.e&&O1.c.length==1||!x.c||!x.c[0])return X1=new l(Math.pow(+Q0(O1),u?x.s*(2-L(x)):+Q0(x))),g?X1.mod(g):X1;if(i=x.s<0,g){if(g.c?!g.c[0]:!g.s)return new l(NaN);if(h=!i&&O1.isInteger()&&g.isInteger(),h)O1=O1.mod(g)}else if(x.e>9&&(O1.e>0||O1.e<-1||(O1.e==0?O1.c[0]>1||u&&O1.c[1]>=240000000:O1.c[0]<80000000000000||u&&O1.c[0]<=99999750000000))){if(y=O1.s<0&&L(x)?-0:0,O1.e>-1)y=1/y;return new l(i?1/y:y)}else if(F1)y=Z(F1/U+2);if(u){if(m=new l(0.5),i)x.s=1;e=L(x)}else f=Math.abs(+Q0(x)),e=f%2;X1=new l(b);for(;;){if(e){if(X1=X1.times(O1),!X1.c)break;if(y){if(X1.c.length>y)X1.c.length=y}else if(h)X1=X1.mod(g)}if(f){if(f=W(f/2),f===0)break;e=f%2}else if(x=x.times(m),W0(x,x.e+1,1),x.e>14)e=L(x);else{if(f=+Q0(x),f===0)break;e=f%2}if(O1=O1.times(O1),y){if(O1.c&&O1.c.length>y)O1.c.length=y}else if(h)O1=O1.mod(g)}if(h)return X1;if(i)X1=b.div(X1);return g?X1.mod(g):y?W0(X1,F1,r,o):X1},M.integerValue=function(x){var g=new l(this);if(x==null)x=r;else D(x,0,8);return W0(g,g.e+1,x)},M.isEqualTo=M.eq=function(x,g){return I(this,new l(x,g))===0},M.isFinite=function(){return!!this.c},M.isGreaterThan=M.gt=function(x,g){return I(this,new l(x,g))>0},M.isGreaterThanOrEqualTo=M.gte=function(x,g){return(g=I(this,new l(x,g)))===1||g===0},M.isInteger=function(){return!!this.c&&F(this.e/U)>this.c.length-2},M.isLessThan=M.lt=function(x,g){return I(this,new l(x,g))<0},M.isLessThanOrEqualTo=M.lte=function(x,g){return(g=I(this,new l(x,g)))===-1||g===0},M.isNaN=function(){return!this.s},M.isNegative=function(){return this.s<0},M.isPositive=function(){return this.s>0},M.isZero=function(){return!!this.c&&this.c[0]==0},M.minus=function(x,g){var m,h,f,y,o=this,u=o.s;if(x=new l(x,g),g=x.s,!u||!g)return new l(NaN);if(u!=g)return x.s=-g,o.plus(x);var i=o.e/U,e=x.e/U,X1=o.c,O1=x.c;if(!i||!e){if(!X1||!O1)return X1?(x.s=-g,x):new l(O1?o:NaN);if(!X1[0]||!O1[0])return O1[0]?(x.s=-g,x):new l(X1[0]?o:r==3?-0:0)}if(i=F(i),e=F(e),X1=X1.slice(),u=i-e){if(y=u<0)u=-u,f=X1;else e=i,f=O1;f.reverse();for(g=u;g--;f.push(0));f.reverse()}else{h=(y=(u=X1.length)<(g=O1.length))?u:g;for(u=g=0;g<h;g++)if(X1[g]!=O1[g]){y=X1[g]<O1[g];break}}if(y)f=X1,X1=O1,O1=f,x.s=-x.s;if(g=(h=O1.length)-(m=X1.length),g>0)for(;g--;X1[m++]=0);g=Q-1;for(;h>u;){if(X1[--h]<O1[h]){for(m=h;m&&!X1[--m];X1[m]=g);--X1[m],X1[h]+=Q}X1[h]-=O1[h]}for(;X1[0]==0;X1.splice(0,1),--e);if(!X1[0])return x.s=r==3?-1:1,x.c=[x.e=0],x;return p1(x,X1,e)},M.modulo=M.mod=function(x,g){var m,h,f=this;if(x=new l(x,g),!f.c||!x.s||x.c&&!x.c[0])return new l(NaN);else if(!x.c||f.c&&!f.c[0])return new l(f);if(H1==9)h=x.s,x.s=1,m=N(f,x,0,3),x.s=h,m.s*=h;else m=N(f,x,0,H1);if(x=f.minus(m.times(x)),!x.c[0]&&H1==1)x.s=f.s;return x},M.multipliedBy=M.times=function(x,g){var m,h,f,y,o,u,i,e,X1,O1,n1,$0,l0,E6,D8,Y4=this,R4=Y4.c,_5=(x=new l(x,g)).c;if(!R4||!_5||!R4[0]||!_5[0]){if(!Y4.s||!x.s||R4&&!R4[0]&&!_5||_5&&!_5[0]&&!R4)x.c=x.e=x.s=null;else if(x.s*=Y4.s,!R4||!_5)x.c=x.e=null;else x.c=[0],x.e=0;return x}if(h=F(Y4.e/U)+F(x.e/U),x.s*=Y4.s,i=R4.length,O1=_5.length,i<O1)l0=R4,R4=_5,_5=l0,f=i,i=O1,O1=f;for(f=i+O1,l0=[];f--;l0.push(0));E6=Q,D8=O;for(f=O1;--f>=0;){m=0,n1=_5[f]%D8,$0=_5[f]/D8|0;for(o=i,y=f+o;y>f;)e=R4[--o]%D8,X1=R4[o]/D8|0,u=$0*e+X1*n1,e=n1*e+u%D8*D8+l0[y]+m,m=(e/E6|0)+(u/D8|0)+$0*X1,l0[y--]=e%E6;l0[y]=m}if(m)++h;else l0.splice(0,1);return p1(x,l0,h)},M.negated=function(){var x=new l(this);return x.s=-x.s||null,x},M.plus=function(x,g){var m,h=this,f=h.s;if(x=new l(x,g),g=x.s,!f||!g)return new l(NaN);if(f!=g)return x.s=-g,h.minus(x);var y=h.e/U,o=x.e/U,u=h.c,i=x.c;if(!y||!o){if(!u||!i)return new l(f/0);if(!u[0]||!i[0])return i[0]?x:new l(u[0]?h:f*0)}if(y=F(y),o=F(o),u=u.slice(),f=y-o){if(f>0)o=y,m=i;else f=-f,m=u;m.reverse();for(;f--;m.push(0));m.reverse()}if(f=u.length,g=i.length,f-g<0)m=i,i=u,u=m,g=f;for(f=0;g;)f=(u[--g]=u[g]+i[g]+f)/Q|0,u[g]=Q===u[g]?0:u[g]%Q;if(f)u=[f].concat(u),++o;return p1(x,u,o)},M.precision=M.sd=function(x,g){var m,h,f,y=this;if(x!=null&&x!==!!x){if(D(x,1,K),g==null)g=r;else D(g,0,8);return W0(new l(y),x,g)}if(!(m=y.c))return null;if(f=m.length-1,h=f*U+1,f=m[f]){for(;f%10==0;f/=10,h--);for(f=m[0];f>=10;f/=10,h++);}if(x&&y.e+1>h)h=y.e+1;return h},M.shiftedBy=function(x){return D(x,-z,z),this.times("1e"+x)},M.squareRoot=M.sqrt=function(){var x,g,m,h,f,y=this,o=y.c,u=y.s,i=y.e,e=k+4,X1=new l("0.5");if(u!==1||!o||!o[0])return new l(!u||u<0&&(!o||o[0])?NaN:o?y:1/0);if(u=Math.sqrt(+Q0(y)),u==0||u==1/0){if(g=V(o),(g.length+i)%2==0)g+="0";if(u=Math.sqrt(+g),i=F((i+1)/2)-(i<0||i%2),u==1/0)g="5e"+i;else g=u.toExponential(),g=g.slice(0,g.indexOf("e")+1)+i;m=new l(g)}else m=new l(u+"");if(m.c[0]){if(i=m.e,u=i+e,u<3)u=0;for(;;)if(f=m,m=X1.times(f.plus(N(y,f,e,1))),V(f.c).slice(0,u)===(g=V(m.c)).slice(0,u)){if(m.e<i)--u;if(g=g.slice(u-3,u+1),g=="9999"||!h&&g=="4999"){if(!h){if(W0(f,f.e+k+2,0),f.times(f).eq(y)){m=f;break}}e+=4,u+=4,h=1}else{if(!+g||!+g.slice(1)&&g.charAt(0)=="5")W0(m,m.e+k+2,1),x=!m.times(m).eq(y);break}}}return W0(m,m.e+k+1,r,x)},M.toExponential=function(x,g){if(x!=null)D(x,0,K),x++;return K1(this,x,g,1)},M.toFixed=function(x,g){if(x!=null)D(x,0,K),x=x+this.e+1;return K1(this,x,g)},M.toFormat=function(x,g,m){var h,f=this;if(m==null)if(x!=null&&g&&typeof g=="object")m=g,g=null;else if(x&&typeof x=="object")m=x,x=g=null;else m=z1;else if(typeof m!="object")throw Error($+"Argument not an object: "+m);if(h=f.toFixed(x,g),f.c){var y,o=h.split("."),u=+m.groupSize,i=+m.secondaryGroupSize,e=m.groupSeparator||"",X1=o[0],O1=o[1],n1=f.s<0,$0=n1?X1.slice(1):X1,l0=$0.length;if(i)y=u,u=i,i=y,l0-=y;if(u>0&&l0>0){y=l0%u||u,X1=$0.substr(0,y);for(;y<l0;y+=u)X1+=e+$0.substr(y,u);if(i>0)X1+=e+$0.slice(y);if(n1)X1="-"+X1}h=O1?X1+(m.decimalSeparator||"")+((i=+m.fractionGroupSize)?O1.replace(new RegExp("\\d{"+i+"}\\B","g"),"$&"+(m.fractionGroupSeparator||"")):O1):X1}return(m.prefix||"")+h+(m.suffix||"")},M.toFraction=function(x){var g,m,h,f,y,o,u,i,e,X1,O1,n1,$0=this,l0=$0.c;if(x!=null){if(u=new l(x),!u.isInteger()&&(u.c||u.s!==1)||u.lt(b))throw Error($+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+Q0(u))}if(!l0)return new l($0);g=new l(b),e=m=new l(b),h=i=new l(b),n1=V(l0),y=g.e=n1.length-$0.e-1,g.c[0]=H[(o=y%U)<0?U+o:o],x=!x||u.comparedTo(g)>0?y>0?g:e:u,o=d,d=1/0,u=new l(n1),i.c[0]=0;for(;;){if(X1=N(u,g,0,1),f=m.plus(X1.times(h)),f.comparedTo(x)==1)break;m=h,h=f,e=i.plus(X1.times(f=e)),i=f,g=u.minus(X1.times(f=g)),u=f}return f=N(x.minus(m),h,0,1),i=i.plus(f.times(e)),m=m.plus(f.times(h)),i.s=e.s=$0.s,y=y*2,O1=N(e,h,y,r).minus($0).abs().comparedTo(N(i,m,y,r).minus($0).abs())<1?[e,h]:[i,m],d=o,O1},M.toNumber=function(){return+Q0(this)},M.toPrecision=function(x,g){if(x!=null)D(x,1,K);return K1(this,x,g,2)},M.toString=function(x){var g,m=this,h=m.s,f=m.e;if(f===null)if(h){if(g="Infinity",h<0)g="-"+g}else g="NaN";else{if(x==null)g=f<=p||f>=S?A(V(m.c),f):P(V(m.c),f,"0");else if(x===10&&J1)m=W0(new l(m),k+f+1,r),g=P(V(m.c),m.e,"0");else D(x,2,y1.length,"Base"),g=v(P(V(m.c),f,"0"),10,x,h,!0);if(h<0&&m.c[0])g="-"+g}return g},M.valueOf=M.toJSON=function(){return Q0(this)},M._isBigNumber=!0,R!=null)l.set(R);return l}function F(R){var N=R|0;return R>0||R===N?N:N-1}function V(R){var N,v,j=1,M=R.length,b=R[0]+"";for(;j<M;){N=R[j++]+"",v=U-N.length;for(;v--;N="0"+N);b+=N}for(M=b.length;b.charCodeAt(--M)===48;);return b.slice(0,M+1||1)}function I(R,N){var v,j,M=R.c,b=N.c,k=R.s,r=N.s,p=R.e,S=N.e;if(!k||!r)return null;if(v=M&&!M[0],j=b&&!b[0],v||j)return v?j?0:-r:k;if(k!=r)return k;if(v=k<0,j=p==S,!M||!b)return j?0:!M^v?1:-1;if(!j)return p>S^v?1:-1;r=(p=M.length)<(S=b.length)?p:S;for(k=0;k<r;k++)if(M[k]!=b[k])return M[k]>b[k]^v?1:-1;return p==S?0:p>S^v?1:-1}function D(R,N,v,j){if(R<N||R>v||R!==W(R))throw Error($+(j||"Argument")+(typeof R=="number"?R<N||R>v?" out of range: ":" not an integer: ":" not a primitive number: ")+String(R))}function L(R){var N=R.c.length-1;return F(R.e/U)==N&&R.c[N]%2!=0}function A(R,N){return(R.length>1?R.charAt(0)+"."+R.slice(1):R)+(N<0?"e":"e+")+N}function P(R,N,v){var j,M;if(N<0){for(M=v+".";++N;M+=v);R=M+R}else if(j=R.length,++N>j){for(M=v,N-=j;--N;M+=v);R+=M}else if(N<j)R=R.slice(0,N)+"."+R.slice(N);return R}if(J=B(),J.default=J.BigNumber=J,typeof define=="function"&&define.amd)define(function(){return J});else if(typeof kR<"u"&&kR.exports)kR.exports=J;else{if(!Y)Y=typeof self<"u"&&self?self:window;Y.BigNumber=J}})(dy1)});var ny1=q((z98,py1)=>{var cy1=xn(),ly1=z98;(function(){function Y(z){return z<10?"0"+z:z}var J=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,X=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Z,W,$={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':"\\\"","\\":"\\\\"},G;function Q(z){return X.lastIndex=0,X.test(z)?'"'+z.replace(X,function(H){var O=$[H];return typeof O==="string"?O:"\\u"+("0000"+H.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+z+'"'}function U(z,H){var O,K,B,F,V=Z,I,D=H[z],L=D!=null&&(D instanceof cy1||cy1.isBigNumber(D));if(D&&typeof D==="object"&&typeof D.toJSON==="function")D=D.toJSON(z);if(typeof G==="function")D=G.call(H,z,D);switch(typeof D){case"string":if(L)return D;else return Q(D);case"number":return isFinite(D)?String(D):"null";case"boolean":case"null":case"bigint":return String(D);case"object":if(!D)return"null";if(Z+=W,I=[],Object.prototype.toString.apply(D)==="[object Array]"){F=D.length;for(O=0;O<F;O+=1)I[O]=U(O,D)||"null";return B=I.length===0?"[]":Z?`[
`+Z+I.join(`,
`+Z)+`
`+V+"]":"["+I.join(",")+"]",Z=V,B}if(G&&typeof G==="object"){F=G.length;for(O=0;O<F;O+=1)if(typeof G[O]==="string"){if(K=G[O],B=U(K,D),B)I.push(Q(K)+(Z?": ":":")+B)}}else Object.keys(D).forEach(function(A){var P=U(A,D);if(P)I.push(Q(A)+(Z?": ":":")+P)});return B=I.length===0?"{}":Z?`{
`+Z+I.join(`,
`+Z)+`
`+V+"}":"{"+I.join(",")+"}",Z=V,B}}if(typeof ly1.stringify!=="function")ly1.stringify=function(z,H,O){var K;if(Z="",W="",typeof O==="number")for(K=0;K<O;K+=1)W+=" ";else if(typeof O==="string")W=O;if(G=H,H&&typeof H!=="function"&&(typeof H!=="object"||typeof H.length!=="number"))throw Error("JSON.stringify");return U("",{"":z})}})()});var oy1=q((H98,iy1)=>{var _R=null,pM4=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,nM4=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/,iM4=function(Y){var J={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(Y!==void 0&&Y!==null){if(Y.strict===!0)J.strict=!0;if(Y.storeAsString===!0)J.storeAsString=!0;if(J.alwaysParseAsBig=Y.alwaysParseAsBig===!0?Y.alwaysParseAsBig:!1,J.useNativeBigInt=Y.useNativeBigInt===!0?Y.useNativeBigInt:!1,typeof Y.constructorAction<"u")if(Y.constructorAction==="error"||Y.constructorAction==="ignore"||Y.constructorAction==="preserve")J.constructorAction=Y.constructorAction;else throw Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${Y.constructorAction}`);if(typeof Y.protoAction<"u")if(Y.protoAction==="error"||Y.protoAction==="ignore"||Y.protoAction==="preserve")J.protoAction=Y.protoAction;else throw Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${Y.protoAction}`)}var X,Z,W={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"\t"},$,G=function(V){throw{name:"SyntaxError",message:V,at:X,text:$}},Q=function(V){if(V&&V!==Z)G("Expected '"+V+"' instead of '"+Z+"'");return Z=$.charAt(X),X+=1,Z},U=function(){var V,I="";if(Z==="-")I="-",Q("-");while(Z>="0"&&Z<="9")I+=Z,Q();if(Z==="."){I+=".";while(Q()&&Z>="0"&&Z<="9")I+=Z}if(Z==="e"||Z==="E"){if(I+=Z,Q(),Z==="-"||Z==="+")I+=Z,Q();while(Z>="0"&&Z<="9")I+=Z,Q()}if(V=+I,!isFinite(V))G("Bad number");else{if(_R==null)_R=xn();if(I.length>15)return J.storeAsString?I:J.useNativeBigInt?BigInt(I):new _R(I);else return!J.alwaysParseAsBig?V:J.useNativeBigInt?BigInt(V):new _R(V)}},z=function(){var V,I,D="",L;if(Z==='"'){var A=X;while(Q()){if(Z==='"'){if(X-1>A)D+=$.substring(A,X-1);return Q(),D}if(Z==="\\"){if(X-1>A)D+=$.substring(A,X-1);if(Q(),Z==="u"){L=0;for(I=0;I<4;I+=1){if(V=parseInt(Q(),16),!isFinite(V))break;L=L*16+V}D+=String.fromCharCode(L)}else if(typeof W[Z]==="string")D+=W[Z];else break;A=X}}}G("Bad string")},H=function(){while(Z&&Z<=" ")Q()},O=function(){switch(Z){case"t":return Q("t"),Q("r"),Q("u"),Q("e"),!0;case"f":return Q("f"),Q("a"),Q("l"),Q("s"),Q("e"),!1;case"n":return Q("n"),Q("u"),Q("l"),Q("l"),null}G("Unexpected '"+Z+"'")},K,B=function(){var V=[];if(Z==="["){if(Q("["),H(),Z==="]")return Q("]"),V;while(Z){if(V.push(K()),H(),Z==="]")return Q("]"),V;Q(","),H()}}G("Bad array")},F=function(){var V,I=Object.create(null);if(Z==="{"){if(Q("{"),H(),Z==="}")return Q("}"),I;while(Z){if(V=z(),H(),Q(":"),J.strict===!0&&Object.hasOwnProperty.call(I,V))G('Duplicate key "'+V+'"');if(pM4.test(V)===!0)if(J.protoAction==="error")G("Object contains forbidden prototype property");else if(J.protoAction==="ignore")K();else I[V]=K();else if(nM4.test(V)===!0)if(J.constructorAction==="error")G("Object contains forbidden constructor property");else if(J.constructorAction==="ignore")K();else I[V]=K();else I[V]=K();if(H(),Z==="}")return Q("}"),I;Q(","),H()}}G("Bad object")};return K=function(){switch(H(),Z){case"{":return F();case"[":return B();case'"':return z();case"-":return U();default:return Z>="0"&&Z<="9"?U():O()}},function(V,I){var D;if($=V+"",X=0,Z=" ",D=K(),H(),Z)G("Syntax error");return typeof I==="function"?function L(A,P){var R,N,v=A[P];if(v&&typeof v==="object")Object.keys(v).forEach(function(j){if(N=L(v,j),N!==void 0)v[j]=N;else delete v[j]});return I.call(A,P,v)}({"":D},""):D}};iy1.exports=iM4});var sy1=q((O98,xR)=>{var ry1=ny1().stringify,ay1=oy1();xR.exports=function(Y){return{parse:ay1(Y),stringify:ry1}};xR.exports.parse=ay1();xR.exports.stringify=ry1});var fn=q((Wg1)=>{Object.defineProperty(Wg1,"__esModule",{value:!0});Wg1.GCE_LINUX_BIOS_PATHS=void 0;Wg1.isGoogleCloudServerless=Yg1;Wg1.isGoogleComputeEngineLinux=Jg1;Wg1.isGoogleComputeEngineMACAddress=Xg1;Wg1.isGoogleComputeEngine=Zg1;Wg1.detectGCPResidency=rM4;var ty1=C("fs"),ey1=C("os");Wg1.GCE_LINUX_BIOS_PATHS={BIOS_DATE:"/sys/class/dmi/id/bios_date",BIOS_VENDOR:"/sys/class/dmi/id/bios_vendor"};var oM4=/^42:01/;function Yg1(){return!!(process.env.CLOUD_RUN_JOB||process.env.FUNCTION_NAME||process.env.K_SERVICE)}function Jg1(){if((0,ey1.platform)()!=="linux")return!1;try{(0,ty1.statSync)(Wg1.GCE_LINUX_BIOS_PATHS.BIOS_DATE);let Y=(0,ty1.readFileSync)(Wg1.GCE_LINUX_BIOS_PATHS.BIOS_VENDOR,"utf8");return/Google/.test(Y)}catch{return!1}}function Xg1(){let Y=(0,ey1.networkInterfaces)();for(let J of Object.values(Y)){if(!J)continue;for(let{mac:X}of J)if(oM4.test(X))return!0}return!1}function Zg1(){return Jg1()||Xg1()}function rM4(){return Yg1()||Zg1()}});var Qg1=q(($g1)=>{Object.defineProperty($g1,"__esModule",{value:!0});$g1.Colours=void 0;class f0{static isEnabled(Y){return Y&&Y.isTTY&&(typeof Y.getColorDepth==="function"?Y.getColorDepth()>2:!0)}static refresh(){if(f0.enabled=f0.isEnabled(process===null||process===void 0?void 0:process.stderr),!this.enabled)f0.reset="",f0.bright="",f0.dim="",f0.red="",f0.green="",f0.yellow="",f0.blue="",f0.magenta="",f0.cyan="",f0.white="",f0.grey="";else f0.reset="\x1B[0m",f0.bright="\x1B[1m",f0.dim="\x1B[2m",f0.red="\x1B[31m",f0.green="\x1B[32m",f0.yellow="\x1B[33m",f0.blue="\x1B[34m",f0.magenta="\x1B[35m",f0.cyan="\x1B[36m",f0.white="\x1B[37m",f0.grey="\x1B[90m"}}$g1.Colours=f0;f0.enabled=!1;f0.reset="";f0.bright="";f0.dim="";f0.red="";f0.green="";f0.yellow="";f0.blue="";f0.magenta="";f0.cyan="";f0.white="";f0.grey="";f0.refresh()});var qg1=q((_4)=>{var JE4=_4&&_4.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),XE4=_4&&_4.__setModuleDefault||(Object.create?function(Y,J){Object.defineProperty(Y,"default",{enumerable:!0,value:J})}:function(Y,J){Y.default=J}),Ug1=_4&&_4.__importStar||function(){var Y=function(J){return Y=Object.getOwnPropertyNames||function(X){var Z=[];for(var W in X)if(Object.prototype.hasOwnProperty.call(X,W))Z[Z.length]=W;return Z},Y(J)};return function(J){if(J&&J.__esModule)return J;var X={};if(J!=null){for(var Z=Y(J),W=0;W<Z.length;W++)if(Z[W]!=="default")JE4(X,J,Z[W])}return XE4(X,J),X}}();Object.defineProperty(_4,"__esModule",{value:!0});_4.env=_4.DebugLogBackendBase=_4.placeholder=_4.AdhocDebugLogger=_4.LogSeverity=void 0;_4.getNodeBackend=vn;_4.getDebugBackend=WE4;_4.getStructuredBackend=$E4;_4.setBackend=GE4;_4.log=Bg1;var ZE4=C("events"),cV=Ug1(C("process")),zg1=Ug1(C("util")),K7=Qg1(),rY;(function(Y){Y.DEFAULT="DEFAULT",Y.DEBUG="DEBUG",Y.INFO="INFO",Y.WARNING="WARNING",Y.ERROR="ERROR"})(rY||(_4.LogSeverity=rY={}));class vR extends ZE4.EventEmitter{constructor(Y,J){super();this.namespace=Y,this.upstream=J,this.func=Object.assign(this.invoke.bind(this),{instance:this,on:(X,Z)=>this.on(X,Z)}),this.func.debug=(...X)=>this.invokeSeverity(rY.DEBUG,...X),this.func.info=(...X)=>this.invokeSeverity(rY.INFO,...X),this.func.warn=(...X)=>this.invokeSeverity(rY.WARNING,...X),this.func.error=(...X)=>this.invokeSeverity(rY.ERROR,...X),this.func.sublog=(X)=>Bg1(X,this.func)}invoke(Y,...J){if(this.upstream)try{this.upstream(Y,...J)}catch(X){}try{this.emit("log",Y,J)}catch(X){}}invokeSeverity(Y,...J){this.invoke({severity:Y},...J)}}_4.AdhocDebugLogger=vR;_4.placeholder=new vR("",()=>{}).func;class lV{constructor(){var Y;this.cached=new Map,this.filters=[],this.filtersSet=!1;let J=(Y=cV.env[_4.env.nodeEnables])!==null&&Y!==void 0?Y:"*";if(J==="all")J="*";this.filters=J.split(",")}log(Y,J,...X){try{if(!this.filtersSet)this.setFilters(),this.filtersSet=!0;let Z=this.cached.get(Y);if(!Z)Z=this.makeLogger(Y),this.cached.set(Y,Z);Z(J,...X)}catch(Z){console.error(Z)}}}_4.DebugLogBackendBase=lV;class Hg1 extends lV{constructor(){super(...arguments);this.enabledRegexp=/.*/g}isEnabled(Y){return this.enabledRegexp.test(Y)}makeLogger(Y){if(!this.enabledRegexp.test(Y))return()=>{};return(J,...X)=>{var Z;let W=`${K7.Colours.green}${Y}${K7.Colours.reset}`,$=`${K7.Colours.yellow}${cV.pid}${K7.Colours.reset}`,G;switch(J.severity){case rY.ERROR:G=`${K7.Colours.red}${J.severity}${K7.Colours.reset}`;break;case rY.INFO:G=`${K7.Colours.magenta}${J.severity}${K7.Colours.reset}`;break;case rY.WARNING:G=`${K7.Colours.yellow}${J.severity}${K7.Colours.reset}`;break;default:G=(Z=J.severity)!==null&&Z!==void 0?Z:rY.DEFAULT;break}let Q=zg1.formatWithOptions({colors:K7.Colours.enabled},...X),U=Object.assign({},J);delete U.severity;let z=Object.getOwnPropertyNames(U).length?JSON.stringify(U):"",H=z?`${K7.Colours.grey}${z}${K7.Colours.reset}`:"";console.error("%s [%s|%s] %s%s",$,W,G,Q,z?` ${H}`:"")}}setFilters(){let J=this.filters.join(",").replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^");this.enabledRegexp=new RegExp(`^${J}$`,"i")}}function vn(){return new Hg1}class Og1 extends lV{constructor(Y){super();this.debugPkg=Y}makeLogger(Y){let J=this.debugPkg(Y);return(X,...Z)=>{J(Z[0],...Z.slice(1))}}setFilters(){var Y;let J=(Y=cV.env.NODE_DEBUG)!==null&&Y!==void 0?Y:"";cV.env.NODE_DEBUG=`${J}${J?",":""}${this.filters.join(",")}`}}function WE4(Y){return new Og1(Y)}class Kg1 extends lV{constructor(Y){var J;super();this.upstream=(J=Y)!==null&&J!==void 0?J:void 0}makeLogger(Y){var J;let X=(J=this.upstream)===null||J===void 0?void 0:J.makeLogger(Y);return(Z,...W)=>{var $;let G=($=Z.severity)!==null&&$!==void 0?$:rY.INFO,Q=Object.assign({severity:G,message:zg1.format(...W)},Z),U=JSON.stringify(Q);if(X)X(Z,U);else console.log("%s",U)}}setFilters(){var Y;(Y=this.upstream)===null||Y===void 0||Y.setFilters()}}function $E4(Y){return new Kg1(Y)}_4.env={nodeEnables:"GOOGLE_SDK_NODE_LOGGING"};var hn=new Map,B7=void 0;function GE4(Y){B7=Y,hn.clear()}function Bg1(Y,J){if(!B7){if(!cV.env[_4.env.nodeEnables])return _4.placeholder}if(!Y)return _4.placeholder;if(J)Y=`${J.instance.namespace}:${Y}`;let X=hn.get(Y);if(X)return X.func;if(B7===null)return _4.placeholder;else if(B7===void 0)B7=vn();let Z=(()=>{let W=void 0;return new vR(Y,(G,...Q)=>{if(W!==B7){if(B7===null)return;else if(B7===void 0)B7=vn();W=B7}B7===null||B7===void 0||B7.log(Y,G,...Q)})})();return hn.set(Y,Z),Z.func}});var Fg1=q((RQ)=>{var QE4=RQ&&RQ.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),UE4=RQ&&RQ.__exportStar||function(Y,J){for(var X in Y)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(J,X))QE4(J,Y,X)};Object.defineProperty(RQ,"__esModule",{value:!0});UE4(qg1(),RQ)});var NQ=q((O0)=>{var Ig1=O0&&O0.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),zE4=O0&&O0.__setModuleDefault||(Object.create?function(Y,J){Object.defineProperty(Y,"default",{enumerable:!0,value:J})}:function(Y,J){Y.default=J}),HE4=O0&&O0.__importStar||function(){var Y=function(J){return Y=Object.getOwnPropertyNames||function(X){var Z=[];for(var W in X)if(Object.prototype.hasOwnProperty.call(X,W))Z[Z.length]=W;return Z},Y(J)};return function(J){if(J&&J.__esModule)return J;var X={};if(J!=null){for(var Z=Y(J),W=0;W<Z.length;W++)if(Z[W]!=="default")Ig1(X,J,Z[W])}return zE4(X,J),X}}(),OE4=O0&&O0.__exportStar||function(Y,J){for(var X in Y)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(J,X))Ig1(J,Y,X)};Object.defineProperty(O0,"__esModule",{value:!0});O0.gcpResidencyCache=O0.METADATA_SERVER_DETECTION=O0.HEADERS=O0.HEADER_VALUE=O0.HEADER_NAME=O0.SECONDARY_HOST_ADDRESS=O0.HOST_ADDRESS=O0.BASE_PATH=void 0;O0.instance=IE4;O0.project=DE4;O0.universe=wE4;O0.bulk=AE4;O0.isAvailable=LE4;O0.resetIsAvailableCache=ME4;O0.getGCPResidency=gn;O0.setGCPResidency=Dg1;O0.requestTimeout=wg1;var bn=my1(),KE4=sy1(),BE4=fn(),qE4=HE4(Fg1());O0.BASE_PATH="/computeMetadata/v1";O0.HOST_ADDRESS="http://169.254.169.254";O0.SECONDARY_HOST_ADDRESS="http://metadata.google.internal.";O0.HEADER_NAME="Metadata-Flavor";O0.HEADER_VALUE="Google";O0.HEADERS=Object.freeze({[O0.HEADER_NAME]:O0.HEADER_VALUE});var Vg1=qE4.log("gcp-metadata");O0.METADATA_SERVER_DETECTION=Object.freeze({"assume-present":"don't try to ping the metadata server, but assume it's present",none:"don't try to ping the metadata server, but don't try to use it either","bios-only":"treat the result of a BIOS probe as canonical (don't fall back to pinging)","ping-only":"skip the BIOS probe, and go straight to pinging"});function yn(Y){if(!Y)Y=process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST||O0.HOST_ADDRESS;if(!/^https?:\/\//.test(Y))Y=`http://${Y}`;return new URL(O0.BASE_PATH,Y).href}function FE4(Y){Object.keys(Y).forEach((J)=>{switch(J){case"params":case"property":case"headers":break;case"qs":throw Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw Error(`'${J}' is not a valid configuration option.`)}})}async function pV(Y,J={},X=3,Z=!1){let W=new Headers(O0.HEADERS),$="",G={};if(typeof Y==="object"){let O=Y;new Headers(O.headers).forEach((K,B)=>W.set(B,K)),$=O.metadataKey,G=O.params||G,X=O.noResponseRetries||X,Z=O.fastFail||Z}else $=Y;if(typeof J==="string")$+=`/${J}`;else{if(FE4(J),J.property)$+=`/${J.property}`;new Headers(J.headers).forEach((O,K)=>W.set(K,O)),G=J.params||G}let Q=Z?VE4:bn.request,U={url:`${yn()}/${$}`,headers:W,retryConfig:{noResponseRetries:X},params:G,responseType:"text",timeout:wg1()};Vg1.info("instance request %j",U);let z=await Q(U);Vg1.info("instance metadata is %s",z.data);let H=z.headers.get(O0.HEADER_NAME);if(H!==O0.HEADER_VALUE)throw RangeError(`Invalid response from metadata service: incorrect ${O0.HEADER_NAME} header. Expected '${O0.HEADER_VALUE}', got ${H?`'${H}'`:"no header"}`);if(typeof z.data==="string")try{return KE4.parse(z.data)}catch{}return z.data}async function VE4(Y){let J={...Y,url:Y.url?.toString().replace(yn(),yn(O0.SECONDARY_HOST_ADDRESS))},X=(0,bn.request)(Y),Z=(0,bn.request)(J);return Promise.any([X,Z])}function IE4(Y){return pV("instance",Y)}function DE4(Y){return pV("project",Y)}function wE4(Y){return pV("universe",Y)}async function AE4(Y){let J={};return await Promise.all(Y.map((X)=>{return(async()=>{let Z=await pV(X),W=X.metadataKey;J[W]=Z})()})),J}function PE4(){return process.env.DETECT_GCP_RETRIES?Number(process.env.DETECT_GCP_RETRIES):0}var hR;async function LE4(){if(process.env.METADATA_SERVER_DETECTION){let Y=process.env.METADATA_SERVER_DETECTION.trim().toLocaleLowerCase();if(!(Y in O0.METADATA_SERVER_DETECTION))throw RangeError(`Unknown \`METADATA_SERVER_DETECTION\` env variable. Got \`${Y}\`, but it should be \`${Object.keys(O0.METADATA_SERVER_DETECTION).join("`, `")}\`, or unset`);switch(Y){case"assume-present":return!0;case"none":return!1;case"bios-only":return gn();case"ping-only":}}try{if(hR===void 0)hR=pV("instance",void 0,PE4(),!(process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST));return await hR,!0}catch(Y){let J=Y;if(process.env.DEBUG_AUTH)console.info(J);if(J.type==="request-timeout")return!1;if(J.response&&J.response.status===404)return!1;else{if(!(J.response&&J.response.status===404)&&(!J.code||!["EHOSTDOWN","EHOSTUNREACH","ENETUNREACH","ENOENT","ENOTFOUND","ECONNREFUSED"].includes(J.code.toString()))){let X="UNKNOWN";if(J.code)X=J.code.toString();process.emitWarning(`received unexpected error = ${J.message} code = ${X}`,"MetadataLookupWarning")}return!1}}}function ME4(){hR=void 0}O0.gcpResidencyCache=null;function gn(){if(O0.gcpResidencyCache===null)Dg1();return O0.gcpResidencyCache}function Dg1(Y=null){O0.gcpResidencyCache=Y!==null?Y:(0,BE4.detectGCPResidency)()}function wg1(){return gn()?0:3000}OE4(fn(),O0)});var un=q((Lg1)=>{Object.defineProperty(Lg1,"__esModule",{value:!0});Lg1.faasCloudRegion=Lg1.faasInstance=Lg1.faasVersion=Lg1.faasName=Lg1.onCloudFunctions=Lg1.onCloudRun=void 0;var Ag1=NQ(),EE4="id",TE4="K_CONFIGURATION",RE4="FUNCTION_TARGET",NE4="K_SERVICE",SE4="K_REVISION",CE4="region";async function jE4(){return process.env[TE4]!==void 0}Lg1.onCloudRun=jE4;async function kE4(){return process.env[RE4]!==void 0}Lg1.onCloudFunctions=kE4;async function _E4(){return Pg1(NE4)}Lg1.faasName=_E4;async function xE4(){return Pg1(SE4)}Lg1.faasVersion=xE4;async function fE4(){return(await Ag1.instance(EE4)).toString()}Lg1.faasInstance=fE4;async function vE4(){let Y=await Ag1.instance(CE4);return Y.slice(Y.lastIndexOf("/")+1)}Lg1.faasCloudRegion=vE4;function Pg1(Y){let J=process.env[Y];if(J===void 0)throw Error(`Environment variable ${Y} not found`);return J}});var bR=q((Eg1)=>{Object.defineProperty(Eg1,"__esModule",{value:!0});Eg1.availabilityZoneAndRegion=Eg1.hostName=Eg1.hostId=Eg1.hostType=Eg1.onGce=void 0;var mE4=t(),nV=NQ(),mn="machine-type",dE4="id",cE4="name",lE4="zone";async function pE4(){try{return await nV.instance(mn),!0}catch(Y){return mE4.diag.debug("Could not fetch metadata attribute %s, assuming not on GCE. Error was %s",mn,Y),!1}}Eg1.onGce=pE4;async function nE4(){return nV.instance(mn)}Eg1.hostType=nE4;async function iE4(){return(await nV.instance(dE4)).toString()}Eg1.hostId=iE4;async function oE4(){return nV.instance(cE4)}Eg1.hostName=oE4;async function rE4(){let Y=await nV.instance(lE4),J=/projects\/\d+\/zones\/(?<zone>(?<region>\w+-\w+)-\w+)/,{zone:X,region:Z}=Y.match(J)?.groups??{};if(!X||!Z)throw Error(`zone was not in the expected format: projects/PROJECT_NUM/zones/COUNTRY-REGION-ZONE. Got ${Y}`);return{zone:X,region:Z}}Eg1.availabilityZoneAndRegion=rE4});var Cg1=q((Ng1)=>{Object.defineProperty(Ng1,"__esModule",{value:!0});Ng1.standardCloudRegion=Ng1.standardAvailabilityZone=Ng1.flexAvailabilityZoneAndRegion=Ng1.serviceInstance=Ng1.serviceVersion=Ng1.serviceName=Ng1.onAppEngine=Ng1.onAppEngineStandard=void 0;var YT4=NQ(),JT4=bR(),XT4=un(),Rg1="GAE_SERVICE",ZT4="GAE_VERSION",WT4="GAE_INSTANCE",$T4="GAE_ENV",GT4="standard",QT4="zone";async function UT4(){return process.env[$T4]===GT4}Ng1.onAppEngineStandard=UT4;async function zT4(){return process.env[Rg1]!==void 0}Ng1.onAppEngine=zT4;async function HT4(){return dn(Rg1)}Ng1.serviceName=HT4;async function OT4(){return dn(ZT4)}Ng1.serviceVersion=OT4;async function KT4(){return dn(WT4)}Ng1.serviceInstance=KT4;async function BT4(){return await JT4.availabilityZoneAndRegion()}Ng1.flexAvailabilityZoneAndRegion=BT4;async function qT4(){let Y=await YT4.instance(QT4);return Y.slice(Y.lastIndexOf("/")+1)}Ng1.standardAvailabilityZone=qT4;async function FT4(){return await XT4.faasCloudRegion()}Ng1.standardCloudRegion=FT4;function dn(Y){let J=process.env[Y];if(J===void 0)throw Error(`Environment variable ${Y} not found`);return J}});var xg1=q((kg1)=>{Object.defineProperty(kg1,"__esModule",{value:!0});kg1.availabilityZoneOrRegion=kg1.clusterName=kg1.hostId=kg1.onGke=void 0;var jg1=NQ(),MT4=bR(),ET4="KUBERNETES_SERVICE_HOST",TT4="attributes/cluster-name",RT4="attributes/cluster-location";async function NT4(){return process.env[ET4]!==void 0}kg1.onGke=NT4;async function ST4(){return await MT4.hostId()}kg1.hostId=ST4;async function CT4(){return jg1.instance(TT4)}kg1.clusterName=CT4;async function jT4(){let Y=await jg1.instance(RT4);switch(kT4(Y,"-")){case 1:return{type:"region",value:Y};case 2:return{type:"zone",value:Y};default:throw Error(`unrecognized format for cluster location: ${Y}`)}}kg1.availabilityZoneOrRegion=jT4;function kT4(Y,J){let X=0;for(let Z=0;Z<Y.length;Z++)if(Y[Z]===J)X+=1;return X}});var yg1=q((hg1)=>{Object.defineProperty(hg1,"__esModule",{value:!0});hg1.gcpDetector=hg1.GcpDetector=void 0;var fg1=t(),vT4=k1(),V0=fh1(),cn=PX(),vg1=NQ(),MX=un(),SQ=Cg1(),FO=bR(),yR=xg1(),hT4=[V0.ATTR_CLOUD_PLATFORM,V0.ATTR_CLOUD_AVAILABILITY_ZONE,V0.ATTR_CLOUD_REGION,V0.ATTR_K8S_CLUSTER_NAME,V0.ATTR_HOST_TYPE,V0.ATTR_HOST_ID,V0.ATTR_HOST_NAME,V0.ATTR_CLOUD_PROVIDER,V0.ATTR_CLOUD_ACCOUNT_ID,V0.ATTR_FAAS_NAME,V0.ATTR_FAAS_VERSION,V0.ATTR_FAAS_INSTANCE];async function bT4(){if(!await vg1.isAvailable())return(0,cn.emptyResource)();if(await yR.onGke())return await yT4();else if(await MX.onCloudFunctions())return await uT4();else if(await MX.onCloudRun())return await gT4();else if(await SQ.onAppEngine())return await mT4();else if(await FO.onGce())return await dT4();return(0,cn.emptyResource)()}async function yT4(){let[Y,J,X]=await Promise.all([yR.availabilityZoneOrRegion(),yR.clusterName(),yR.hostId()]);return await iV({[V0.ATTR_CLOUD_PLATFORM]:V0.CLOUD_PLATFORM_VALUE_GCP_KUBERNETES_ENGINE,[Y.type==="zone"?V0.ATTR_CLOUD_AVAILABILITY_ZONE:V0.ATTR_CLOUD_REGION]:Y.value,[V0.ATTR_K8S_CLUSTER_NAME]:J,[V0.ATTR_HOST_ID]:X})}async function gT4(){let[Y,J,X,Z]=await Promise.all([MX.faasName(),MX.faasVersion(),MX.faasInstance(),MX.faasCloudRegion()]);return await iV({[V0.ATTR_CLOUD_PLATFORM]:V0.CLOUD_PLATFORM_VALUE_GCP_CLOUD_RUN,[V0.ATTR_FAAS_NAME]:Y,[V0.ATTR_FAAS_VERSION]:J,[V0.ATTR_FAAS_INSTANCE]:X,[V0.ATTR_CLOUD_REGION]:Z})}async function uT4(){let[Y,J,X,Z]=await Promise.all([MX.faasName(),MX.faasVersion(),MX.faasInstance(),MX.faasCloudRegion()]);return await iV({[V0.ATTR_CLOUD_PLATFORM]:V0.CLOUD_PLATFORM_VALUE_GCP_CLOUD_FUNCTIONS,[V0.ATTR_FAAS_NAME]:Y,[V0.ATTR_FAAS_VERSION]:J,[V0.ATTR_FAAS_INSTANCE]:X,[V0.ATTR_CLOUD_REGION]:Z})}async function mT4(){let Y,J;if(await SQ.onAppEngineStandard())[Y,J]=await Promise.all([SQ.standardAvailabilityZone(),SQ.standardCloudRegion()]);else({zone:Y,region:J}=await FO.availabilityZoneAndRegion());let[X,Z,W]=await Promise.all([SQ.serviceName(),SQ.serviceVersion(),SQ.serviceInstance()]);return await iV({[V0.ATTR_CLOUD_PLATFORM]:V0.CLOUD_PLATFORM_VALUE_GCP_APP_ENGINE,[V0.ATTR_FAAS_NAME]:X,[V0.ATTR_FAAS_VERSION]:Z,[V0.ATTR_FAAS_INSTANCE]:W,[V0.ATTR_CLOUD_AVAILABILITY_ZONE]:Y,[V0.ATTR_CLOUD_REGION]:J})}async function dT4(){let[Y,J,X,Z]=await Promise.all([FO.availabilityZoneAndRegion(),FO.hostType(),FO.hostId(),FO.hostName()]);return await iV({[V0.ATTR_CLOUD_PLATFORM]:V0.CLOUD_PLATFORM_VALUE_GCP_COMPUTE_ENGINE,[V0.ATTR_CLOUD_AVAILABILITY_ZONE]:Y.zone,[V0.ATTR_CLOUD_REGION]:Y.region,[V0.ATTR_HOST_TYPE]:J,[V0.ATTR_HOST_ID]:X,[V0.ATTR_HOST_NAME]:Z})}async function iV(Y){let J=await vg1.project("project-id");return(0,cn.resourceFromAttributes)({[V0.ATTR_CLOUD_PROVIDER]:V0.CLOUD_PROVIDER_VALUE_GCP,[V0.ATTR_CLOUD_ACCOUNT_ID]:J,...Y})}class ln{async _asyncAttributes(){return(await fg1.context.with((0,vT4.suppressTracing)(fg1.context.active()),bT4)).attributes}detect(){let Y=this._asyncAttributes(),J={};return hT4.forEach((X)=>{J[X]=Y.then((Z)=>Z[X])}),{attributes:J}}}hg1.GcpDetector=ln;hg1.gcpDetector=new ln});var gg1=q((pn)=>{Object.defineProperty(pn,"__esModule",{value:!0});pn.gcpDetector=void 0;var lT4=yg1();Object.defineProperty(pn,"gcpDetector",{enumerable:!0,get:function(){return lT4.gcpDetector}})});var ug1=q((gR)=>{Object.defineProperty(gR,"__esModule",{value:!0});gR.resetIsAvailableCache=gR.gcpDetector=void 0;var nT4=gg1();Object.defineProperty(gR,"gcpDetector",{enumerable:!0,get:function(){return nT4.gcpDetector}});var iT4=NQ();Object.defineProperty(gR,"resetIsAvailableCache",{enumerable:!0,get:function(){return iT4.resetIsAvailableCache}})});var oV=q((mg1)=>{Object.defineProperty(mg1,"__esModule",{value:!0});mg1.CLOUD_PROVIDER_VALUE_AZURE=mg1.CLOUD_PLATFORM_VALUE_AZURE_AKS=mg1.CLOUD_PLATFORM_VALUE_AZURE_VM=mg1.CLOUD_PLATFORM_VALUE_AZURE_FUNCTIONS=mg1.CLOUD_PLATFORM_VALUE_AZURE_APP_SERVICE=mg1.ATTR_SERVICE_INSTANCE_ID=mg1.ATTR_PROCESS_PID=mg1.ATTR_OS_VERSION=mg1.ATTR_HOST_TYPE=mg1.ATTR_HOST_NAME=mg1.ATTR_HOST_ID=mg1.ATTR_FAAS_MAX_MEMORY=mg1.ATTR_FAAS_INSTANCE=mg1.ATTR_K8S_CLUSTER_NAME=mg1.ATTR_DEPLOYMENT_ENVIRONMENT_NAME=mg1.ATTR_CLOUD_REGION=mg1.ATTR_CLOUD_PROVIDER=mg1.ATTR_CLOUD_PLATFORM=void 0;mg1.ATTR_CLOUD_PLATFORM="cloud.platform";mg1.ATTR_CLOUD_PROVIDER="cloud.provider";mg1.ATTR_CLOUD_REGION="cloud.region";mg1.ATTR_DEPLOYMENT_ENVIRONMENT_NAME="deployment.environment.name";mg1.ATTR_K8S_CLUSTER_NAME="k8s.cluster.name";mg1.ATTR_FAAS_INSTANCE="faas.instance";mg1.ATTR_FAAS_MAX_MEMORY="faas.max_memory";mg1.ATTR_HOST_ID="host.id";mg1.ATTR_HOST_NAME="host.name";mg1.ATTR_HOST_TYPE="host.type";mg1.ATTR_OS_VERSION="os.version";mg1.ATTR_PROCESS_PID="process.pid";mg1.ATTR_SERVICE_INSTANCE_ID="service.instance.id";mg1.CLOUD_PLATFORM_VALUE_AZURE_APP_SERVICE="azure.app_service";mg1.CLOUD_PLATFORM_VALUE_AZURE_FUNCTIONS="azure.functions";mg1.CLOUD_PLATFORM_VALUE_AZURE_VM="azure.vm";mg1.CLOUD_PLATFORM_VALUE_AZURE_AKS="azure.aks";mg1.CLOUD_PROVIDER_VALUE_AZURE="azure"});var VO=q((cg1)=>{Object.defineProperty(cg1,"__esModule",{value:!0});cg1.extractClusterNameFromResourceId=cg1.AKS_METADATA_FILE_PATH=cg1.AKS_CLUSTER_RESOURCE_ID=cg1.AZURE_VM_SKU_ATTRIBUTE=cg1.AZURE_VM_SCALE_SET_NAME_ATTRIBUTE=cg1.AZURE_VM_METADATA_PATH=cg1.AZURE_VM_METADATA_HOST=cg1.FUNCTIONS_MEM_LIMIT=cg1.FUNCTIONS_VERSION=cg1.WEBSITE_SKU=cg1.WEBSITE_SLOT_NAME=cg1.WEBSITE_SITE_NAME=cg1.WEBSITE_RESOURCE_GROUP=cg1.WEBSITE_OWNER_NAME=cg1.WEBSITE_INSTANCE_ID=cg1.WEBSITE_HOSTNAME=cg1.WEBSITE_HOME_STAMPNAME=cg1.REGION_NAME=cg1.CLOUD_RESOURCE_ID_RESOURCE_ATTRIBUTE=cg1.AZURE_APP_SERVICE_STAMP_RESOURCE_ATTRIBUTE=void 0;cg1.AZURE_APP_SERVICE_STAMP_RESOURCE_ATTRIBUTE="azure.app.service.stamp";cg1.CLOUD_RESOURCE_ID_RESOURCE_ATTRIBUTE="cloud.resource_id";cg1.REGION_NAME="REGION_NAME";cg1.WEBSITE_HOME_STAMPNAME="WEBSITE_HOME_STAMPNAME";cg1.WEBSITE_HOSTNAME="WEBSITE_HOSTNAME";cg1.WEBSITE_INSTANCE_ID="WEBSITE_INSTANCE_ID";cg1.WEBSITE_OWNER_NAME="WEBSITE_OWNER_NAME";cg1.WEBSITE_RESOURCE_GROUP="WEBSITE_RESOURCE_GROUP";cg1.WEBSITE_SITE_NAME="WEBSITE_SITE_NAME";cg1.WEBSITE_SLOT_NAME="WEBSITE_SLOT_NAME";cg1.WEBSITE_SKU="WEBSITE_SKU";cg1.FUNCTIONS_VERSION="FUNCTIONS_EXTENSION_VERSION";cg1.FUNCTIONS_MEM_LIMIT="WEBSITE_MEMORY_LIMIT_MB";cg1.AZURE_VM_METADATA_HOST="169.254.169.254";cg1.AZURE_VM_METADATA_PATH="/metadata/instance/compute?api-version=2021-12-13&format=json";cg1.AZURE_VM_SCALE_SET_NAME_ATTRIBUTE="azure.vm.scaleset.name";cg1.AZURE_VM_SKU_ATTRIBUTE="azure.vm.sku";cg1.AKS_CLUSTER_RESOURCE_ID="CLUSTER_RESOURCE_ID";cg1.AKS_METADATA_FILE_PATH="/etc/kubernetes/aks-cluster-metadata";function KR4(Y){if(!Y)return;let J=Y.split("/"),X=J.findIndex((Z)=>Z.toLowerCase()==="managedclusters");if(X!==-1&&X<J.length-1)return J[X+1];return J[J.length-1]||void 0}cg1.extractClusterNameFromResourceId=KR4});var ag1=q((og1)=>{Object.defineProperty(og1,"__esModule",{value:!0});og1.azureAksDetector=void 0;var pg1=C("fs"),ng1=t(),rV=oV(),IO=VO();class ig1{detect(){let Y={},J=this.getAksMetadata();if(J&&(J.name||J.resourceId)){if(Y={[rV.ATTR_CLOUD_PROVIDER]:rV.CLOUD_PROVIDER_VALUE_AZURE,[rV.ATTR_CLOUD_PLATFORM]:rV.CLOUD_PLATFORM_VALUE_AZURE_AKS},J.name)Y={...Y,[rV.ATTR_K8S_CLUSTER_NAME]:J.name};if(J.resourceId)Y={...Y,[IO.CLOUD_RESOURCE_ID_RESOURCE_ATTRIBUTE]:J.resourceId};ng1.diag.debug("AzureAksDetector: detected AKS cluster:",J)}return{attributes:Y}}getAksMetadata(){let Y=process.env[IO.AKS_CLUSTER_RESOURCE_ID];if(Y)return{name:(0,IO.extractClusterNameFromResourceId)(Y),resourceId:Y};return this.getAksMetadataFromFile()}getAksMetadataFromFile(){try{if(!pg1.existsSync(IO.AKS_METADATA_FILE_PATH))return;let Y=pg1.readFileSync(IO.AKS_METADATA_FILE_PATH,"utf8"),J={},X=Y.split(`
`);for(let Z of X){let W=Z.trim();if(!W||W.startsWith("#"))continue;let[$,...G]=W.split("="),Q=G.join("=").trim();if($==="clusterResourceId"&&Q)J.resourceId=Q,J.name=(0,IO.extractClusterNameFromResourceId)(Q)}if(J.resourceId)return J}catch(Y){ng1.diag.debug("AzureAksDetector: failed to read AKS metadata file:",Y.message)}return}}og1.azureAksDetector=new ig1});var nn=q((sg1)=>{Object.defineProperty(sg1,"__esModule",{value:!0});sg1.isAzureFunction=sg1.getAzureResourceUri=void 0;var uR=VO();function _R4(Y){let J=process.env[uR.WEBSITE_RESOURCE_GROUP],X=process.env[uR.WEBSITE_OWNER_NAME],Z=X;if(X&&X.indexOf("+")!==-1)Z=X.split("+")[0];if(!Z&&!X)return;return`/subscriptions/${Z}/resourceGroups/${J}/providers/Microsoft.Web/sites/${Y}`}sg1.getAzureResourceUri=_R4;function xR4(){return!!(process.env[uR.FUNCTIONS_VERSION]||process.env[uR.WEBSITE_SKU]==="FlexConsumption")}sg1.isAzureFunction=xR4});var Zu1=q((Ju1)=>{Object.defineProperty(Ju1,"__esModule",{value:!0});Ju1.azureAppServiceDetector=void 0;var bW=VO(),vR4=X0(),yW=oV(),eg1=nn(),hR4={[yW.ATTR_CLOUD_REGION]:bW.REGION_NAME,[yW.ATTR_DEPLOYMENT_ENVIRONMENT_NAME]:bW.WEBSITE_SLOT_NAME,[yW.ATTR_HOST_ID]:bW.WEBSITE_HOSTNAME,[yW.ATTR_SERVICE_INSTANCE_ID]:bW.WEBSITE_INSTANCE_ID,[bW.AZURE_APP_SERVICE_STAMP_RESOURCE_ATTRIBUTE]:bW.WEBSITE_HOME_STAMPNAME};class Yu1{detect(){let Y={},J=process.env[bW.WEBSITE_SITE_NAME];if(J&&!(0,eg1.isAzureFunction)()){Y={...Y,[vR4.ATTR_SERVICE_NAME]:J},Y={...Y,[yW.ATTR_CLOUD_PROVIDER]:yW.CLOUD_PROVIDER_VALUE_AZURE},Y={...Y,[yW.ATTR_CLOUD_PLATFORM]:yW.CLOUD_PLATFORM_VALUE_AZURE_APP_SERVICE};let X=(0,eg1.getAzureResourceUri)(J);if(X)Y={...Y,...{[bW.CLOUD_RESOURCE_ID_RESOURCE_ATTRIBUTE]:X}};for(let[Z,W]of Object.entries(hR4)){let $=process.env[W];if($)Y={...Y,...{[Z]:$}}}}return{attributes:Y}}}Ju1.azureAppServiceDetector=new Yu1});var zu1=q((Qu1)=>{Object.defineProperty(Qu1,"__esModule",{value:!0});Qu1.azureFunctionsDetector=void 0;var $u1=X0(),EX=oV(),gW=VO(),Wu1=nn(),bR4={[$u1.ATTR_SERVICE_NAME]:gW.WEBSITE_SITE_NAME,[EX.ATTR_FAAS_INSTANCE]:gW.WEBSITE_INSTANCE_ID,[EX.ATTR_FAAS_MAX_MEMORY]:gW.FUNCTIONS_MEM_LIMIT};class Gu1{detect(){let Y={},J=process.env[gW.WEBSITE_SITE_NAME];if(J&&(0,Wu1.isAzureFunction)()){let X=process.env[gW.WEBSITE_INSTANCE_ID],Z=process.env[gW.FUNCTIONS_MEM_LIMIT];if(Y={[EX.ATTR_CLOUD_PROVIDER]:EX.CLOUD_PROVIDER_VALUE_AZURE,[EX.ATTR_CLOUD_PLATFORM]:EX.CLOUD_PLATFORM_VALUE_AZURE_FUNCTIONS,[EX.ATTR_CLOUD_REGION]:process.env[gW.REGION_NAME],[EX.ATTR_PROCESS_PID]:process.pid},J)Y={...Y,[$u1.ATTR_SERVICE_NAME]:J};if(X)Y={...Y,[EX.ATTR_FAAS_INSTANCE]:X};if(Z)Y={...Y,[EX.ATTR_FAAS_MAX_MEMORY]:Z};let W=(0,Wu1.getAzureResourceUri)(J);if(W)Y={...Y,...{[gW.CLOUD_RESOURCE_ID_RESOURCE_ATTRIBUTE]:W}};for(let[$,G]of Object.entries(bR4)){let Q=process.env[G];if(Q)Y={...Y,...{[$]:Q}}}}return{attributes:Y}}}Qu1.azureFunctionsDetector=new Gu1});var Bu1=q((Ou1)=>{Object.defineProperty(Ou1,"__esModule",{value:!0});Ou1.azureVmDetector=void 0;var yR4=C("http"),on=t(),gR4=k1(),h5=oV(),uW=VO();class Hu1{detect(){let Y=on.context.with((0,gR4.suppressTracing)(on.context.active()),()=>this.getAzureVmMetadata()),J=[uW.AZURE_VM_SCALE_SET_NAME_ATTRIBUTE,uW.AZURE_VM_SKU_ATTRIBUTE,h5.ATTR_CLOUD_PLATFORM,h5.ATTR_CLOUD_PROVIDER,h5.ATTR_CLOUD_REGION,uW.CLOUD_RESOURCE_ID_RESOURCE_ATTRIBUTE,h5.ATTR_HOST_ID,h5.ATTR_HOST_NAME,h5.ATTR_HOST_TYPE,h5.ATTR_OS_VERSION],X={};return J.forEach((Z)=>{X[Z]=Y.then((W)=>W[Z])}),{attributes:X}}async getAzureVmMetadata(){try{let Y={host:uW.AZURE_VM_METADATA_HOST,path:uW.AZURE_VM_METADATA_PATH,method:"GET",timeout:5000,headers:{Metadata:"True"}},J=await new Promise((Z,W)=>{let $=setTimeout(()=>{G.destroy(),W(Error("Azure metadata service request timed out."))},1000),G=yR4.request(Y,(Q)=>{clearTimeout($);let{statusCode:U}=Q;Q.setEncoding("utf8");let z="";Q.on("data",(H)=>z+=H),Q.on("end",()=>{if(U&&U>=200&&U<300)try{Z(JSON.parse(z))}catch(H){W(H)}else W(Error("Failed to load page, status code: "+U))})});G.on("error",(Q)=>{clearTimeout($),W(Q)}),G.end()});return{[uW.AZURE_VM_SCALE_SET_NAME_ATTRIBUTE]:J.vmScaleSetName,[uW.AZURE_VM_SKU_ATTRIBUTE]:J.sku,[h5.ATTR_CLOUD_PLATFORM]:h5.CLOUD_PLATFORM_VALUE_AZURE_VM,[h5.ATTR_CLOUD_PROVIDER]:h5.CLOUD_PROVIDER_VALUE_AZURE,[h5.ATTR_CLOUD_REGION]:J.location,[uW.CLOUD_RESOURCE_ID_RESOURCE_ATTRIBUTE]:J.resourceId,[h5.ATTR_HOST_ID]:J.vmId,[h5.ATTR_HOST_NAME]:J.name,[h5.ATTR_HOST_TYPE]:J.vmSize,[h5.ATTR_OS_VERSION]:J.version}}catch(Y){return on.diag.debug("AzureVmResourceDetector: not running in an Azure VM:",Y.message),{}}}}Ou1.azureVmDetector=new Hu1});var qu1=q((DO)=>{Object.defineProperty(DO,"__esModule",{value:!0});DO.azureVmDetector=DO.azureFunctionsDetector=DO.azureAppServiceDetector=DO.azureAksDetector=void 0;var uR4=ag1();Object.defineProperty(DO,"azureAksDetector",{enumerable:!0,get:function(){return uR4.azureAksDetector}});var mR4=Zu1();Object.defineProperty(DO,"azureAppServiceDetector",{enumerable:!0,get:function(){return mR4.azureAppServiceDetector}});var dR4=zu1();Object.defineProperty(DO,"azureFunctionsDetector",{enumerable:!0,get:function(){return dR4.azureFunctionsDetector}});var cR4=Bu1();Object.defineProperty(DO,"azureVmDetector",{enumerable:!0,get:function(){return cR4.azureVmDetector}})});var Fu1=q((wO)=>{Object.defineProperty(wO,"__esModule",{value:!0});wO.azureVmDetector=wO.azureFunctionsDetector=wO.azureAppServiceDetector=wO.azureAksDetector=void 0;var mR=qu1();Object.defineProperty(wO,"azureAksDetector",{enumerable:!0,get:function(){return mR.azureAksDetector}});Object.defineProperty(wO,"azureAppServiceDetector",{enumerable:!0,get:function(){return mR.azureAppServiceDetector}});Object.defineProperty(wO,"azureFunctionsDetector",{enumerable:!0,get:function(){return mR.azureFunctionsDetector}});Object.defineProperty(wO,"azureVmDetector",{enumerable:!0,get:function(){return mR.azureVmDetector}})});var Pu1=q((wu1)=>{Object.defineProperty(wu1,"__esModule",{value:!0});wu1.getResourceDetectorsFromEnv=wu1.getNodeAutoInstrumentations=void 0;var ZZ=t(),nR4=pw1(),iR4=KA1(),oR4=hP1(),rR4=ZL1(),aR4=IL1(),sR4=bL1(),tR4=rL1(),eR4=$M1(),Y24=LM1(),J24=cM1(),X24=UE1(),Z24=EE1(),W24=xE1(),$24=kc(),G24=pT1(),Q24=KR1(),U24=aR1(),z24=V21(),H24=y21(),O24=XN1(),K24=EN1(),B24=vN1(),q24=oN1(),F24=HS1(),V24=CS1(),I24=iS1(),D24=HC1(),w24=RC1(),A24=iC1(),P24=Bj1(),L24=xj1(),M24=Uk1(),E24=Lk1(),T24=tk1(),R24=D_1(),N24=g_1(),S24=Ax1(),C24=lx1(),j24=Qf1(),k24=Vf1(),_24=gv1(),x24=ov1(),aV=wh1(),f24=kh1(),v24=ug1(),sV=PX(),rn=Fu1(),h24="container",b24="env",y24="host",g24="os",u24="serviceinstance",m24="process",d24="alibaba",c24="aws",l24="azure",p24="gcp",dR={"@opentelemetry/instrumentation-amqplib":nR4.AmqplibInstrumentation,"@opentelemetry/instrumentation-aws-lambda":iR4.AwsLambdaInstrumentation,"@opentelemetry/instrumentation-aws-sdk":oR4.AwsInstrumentation,"@opentelemetry/instrumentation-bunyan":rR4.BunyanInstrumentation,"@opentelemetry/instrumentation-cassandra-driver":aR4.CassandraDriverInstrumentation,"@opentelemetry/instrumentation-connect":sR4.ConnectInstrumentation,"@opentelemetry/instrumentation-cucumber":tR4.CucumberInstrumentation,"@opentelemetry/instrumentation-dataloader":eR4.DataloaderInstrumentation,"@opentelemetry/instrumentation-dns":Y24.DnsInstrumentation,"@opentelemetry/instrumentation-express":J24.ExpressInstrumentation,"@opentelemetry/instrumentation-fastify":X24.FastifyInstrumentation,"@opentelemetry/instrumentation-fs":Z24.FsInstrumentation,"@opentelemetry/instrumentation-generic-pool":W24.GenericPoolInstrumentation,"@opentelemetry/instrumentation-graphql":$24.GraphQLInstrumentation,"@opentelemetry/instrumentation-grpc":G24.GrpcInstrumentation,"@opentelemetry/instrumentation-hapi":Q24.HapiInstrumentation,"@opentelemetry/instrumentation-http":U24.HttpInstrumentation,"@opentelemetry/instrumentation-ioredis":z24.IORedisInstrumentation,"@opentelemetry/instrumentation-kafkajs":H24.KafkaJsInstrumentation,"@opentelemetry/instrumentation-knex":O24.KnexInstrumentation,"@opentelemetry/instrumentation-koa":K24.KoaInstrumentation,"@opentelemetry/instrumentation-lru-memoizer":B24.LruMemoizerInstrumentation,"@opentelemetry/instrumentation-memcached":q24.MemcachedInstrumentation,"@opentelemetry/instrumentation-mongodb":F24.MongoDBInstrumentation,"@opentelemetry/instrumentation-mongoose":V24.MongooseInstrumentation,"@opentelemetry/instrumentation-mysql2":I24.MySQL2Instrumentation,"@opentelemetry/instrumentation-mysql":D24.MySQLInstrumentation,"@opentelemetry/instrumentation-nestjs-core":w24.NestInstrumentation,"@opentelemetry/instrumentation-net":A24.NetInstrumentation,"@opentelemetry/instrumentation-openai":P24.OpenAIInstrumentation,"@opentelemetry/instrumentation-oracledb":L24.OracleInstrumentation,"@opentelemetry/instrumentation-pg":M24.PgInstrumentation,"@opentelemetry/instrumentation-pino":E24.PinoInstrumentation,"@opentelemetry/instrumentation-redis":T24.RedisInstrumentation,"@opentelemetry/instrumentation-restify":R24.RestifyInstrumentation,"@opentelemetry/instrumentation-router":N24.RouterInstrumentation,"@opentelemetry/instrumentation-runtime-node":S24.RuntimeNodeInstrumentation,"@opentelemetry/instrumentation-socket.io":C24.SocketIoInstrumentation,"@opentelemetry/instrumentation-tedious":j24.TediousInstrumentation,"@opentelemetry/instrumentation-undici":k24.UndiciInstrumentation,"@opentelemetry/instrumentation-winston":_24.WinstonInstrumentation},Vu1=["@opentelemetry/instrumentation-fs","@opentelemetry/instrumentation-fastify"];function n24(Y,J,X,Z){if(J.enabled===!1)return ZZ.diag.debug(`Disabling instrumentation for ${Y} - disabled by user config`),!0;if(J.enabled===!0)return ZZ.diag.debug(`Enabling instrumentation for ${Y} - explicitly enabled by user config`),!1;if(Z.includes(Y))return ZZ.diag.debug(`Disabling instrumentation for ${Y} - disabled by env var`),!0;let W=!!process.env.OTEL_NODE_ENABLED_INSTRUMENTATIONS;if(W&&!X.includes(Y))return ZZ.diag.debug(`Disabling instrumentation for ${Y} - not in enabled env var list`),!0;if(!W&&Vu1.includes(Y))return ZZ.diag.debug(`Disabling instrumentation for ${Y} - excluded by default`),!0;return!1}function i24(Y={}){Iu1(Object.keys(Y));let J=o24(),X=r24(),Z=[];for(let W of Object.keys(dR)){let $=dR[W],G=Y[W]??{};if(n24(W,G,J,X))continue;try{ZZ.diag.debug(`Loading instrumentation for ${W}`),Z.push(new $(G))}catch(U){ZZ.diag.error(U)}}return Z}wu1.getNodeAutoInstrumentations=i24;function Iu1(Y){for(let J of Y)if(!Object.prototype.hasOwnProperty.call(dR,J))ZZ.diag.error(`Provided instrumentation name "${J}" not found`)}function Du1(Y){let J=process.env[Y];if(J==null)return[];let X=J?.split(",").map((Z)=>`@opentelemetry/instrumentation-${Z.trim()}`);return Iu1(X),X}function o24(){if(!process.env.OTEL_NODE_ENABLED_INSTRUMENTATIONS)return Object.keys(dR).filter((J)=>!Vu1.includes(J));return Du1("OTEL_NODE_ENABLED_INSTRUMENTATIONS")}function r24(){if(!process.env.OTEL_NODE_DISABLED_INSTRUMENTATIONS)return[];return Du1("OTEL_NODE_DISABLED_INSTRUMENTATIONS")}function a24(){let Y=new Map([[h24,f24.containerDetector],[y24,sV.hostDetector],[g24,sV.osDetector],[u24,sV.serviceInstanceIdDetector],[m24,sV.processDetector],[d24,x24.alibabaCloudEcsDetector],[p24,v24.gcpDetector],[c24,[aV.awsEc2Detector,aV.awsEcsDetector,aV.awsEksDetector,aV.awsBeanstalkDetector,aV.awsLambdaDetector]],[l24,[rn.azureAppServiceDetector,rn.azureFunctionsDetector,rn.azureVmDetector]],[b24,sV.envDetector]]),J=process.env.OTEL_NODE_RESOURCE_DETECTORS?.split(",")??["all"];if(J.includes("all"))return[...Y.values()].flat();if(J.includes("none"))return[];return J.flatMap((X)=>{let Z=Y.get(X);if(!Z)ZZ.diag.error(`Invalid resource detector "${X}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`);return Z||[]})}wu1.getResourceDetectorsFromEnv=a24});var Mu1=q((cR)=>{Object.defineProperty(cR,"__esModule",{value:!0});cR.getResourceDetectors=cR.getNodeAutoInstrumentations=void 0;var Lu1=Pu1();Object.defineProperty(cR,"getNodeAutoInstrumentations",{enumerable:!0,get:function(){return Lu1.getNodeAutoInstrumentations}});Object.defineProperty(cR,"getResourceDetectors",{enumerable:!0,get:function(){return Lu1.getResourceDetectorsFromEnv}})});var Nu1=q((Tu1)=>{Object.defineProperty(Tu1,"__esModule",{value:!0});Tu1.OTLPExporterBase=void 0;class Eu1{_delegate;constructor(Y){this._delegate=Y}export(Y,J){this._delegate.export(Y,J)}forceFlush(){return this._delegate.forceFlush()}shutdown(){return this._delegate.shutdown()}}Tu1.OTLPExporterBase=Eu1});var lR=q((Cu1)=>{Object.defineProperty(Cu1,"__esModule",{value:!0});Cu1.OTLPExporterError=void 0;class Su1 extends Error{code;name="OTLPExporterError";data;constructor(Y,J,X){super(Y);this.data=X,this.code=J}}Cu1.OTLPExporterError=Su1});var tV=q((_u1)=>{Object.defineProperty(_u1,"__esModule",{value:!0});_u1.getSharedConfigurationDefaults=_u1.mergeOtlpSharedConfigurationWithDefaults=_u1.wrapStaticHeadersInFunction=_u1.validateTimeoutMillis=void 0;function ku1(Y){if(Number.isFinite(Y)&&Y>0)return Y;throw Error(`Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '${Y}')`)}_u1.validateTimeoutMillis=ku1;function e24(Y){if(Y==null)return;return async()=>Y}_u1.wrapStaticHeadersInFunction=e24;function YN4(Y,J,X){return{timeoutMillis:ku1(Y.timeoutMillis??J.timeoutMillis??X.timeoutMillis),concurrencyLimit:Y.concurrencyLimit??J.concurrencyLimit??X.concurrencyLimit,compression:Y.compression??J.compression??X.compression}}_u1.mergeOtlpSharedConfigurationWithDefaults=YN4;function JN4(){return{timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}_u1.getSharedConfigurationDefaults=JN4});var vu1=q((fu1)=>{Object.defineProperty(fu1,"__esModule",{value:!0});fu1.CompressionAlgorithm=void 0;var $N4;(function(Y){Y.NONE="none",Y.GZIP="gzip"})($N4=fu1.CompressionAlgorithm||(fu1.CompressionAlgorithm={}))});var sn=q((bu1)=>{Object.defineProperty(bu1,"__esModule",{value:!0});bu1.createBoundedQueueExportPromiseHandler=void 0;class hu1{_concurrencyLimit;_sendingPromises=[];constructor(Y){this._concurrencyLimit=Y}pushPromise(Y){if(this.hasReachedLimit())throw Error("Concurrency Limit reached");this._sendingPromises.push(Y);let J=()=>{let X=this._sendingPromises.indexOf(Y);this._sendingPromises.splice(X,1)};Y.then(J,J)}hasReachedLimit(){return this._sendingPromises.length>=this._concurrencyLimit}async awaitAll(){await Promise.all(this._sendingPromises)}}function GN4(Y){return new hu1(Y.concurrencyLimit)}bu1.createBoundedQueueExportPromiseHandler=GN4});var mu1=q((gu1)=>{Object.defineProperty(gu1,"__esModule",{value:!0});gu1.createLoggingPartialSuccessResponseHandler=void 0;var QN4=t();function UN4(Y){return Object.prototype.hasOwnProperty.call(Y,"partialSuccess")}function zN4(){return{handleResponse(Y){if(Y==null||!UN4(Y)||Y.partialSuccess==null||Object.keys(Y.partialSuccess).length===0)return;QN4.diag.warn("Received Partial Success response:",JSON.stringify(Y.partialSuccess))}}}gu1.createLoggingPartialSuccessResponseHandler=zN4});var tn=q((lu1)=>{Object.defineProperty(lu1,"__esModule",{value:!0});lu1.createOtlpExportDelegate=void 0;var CQ=k1(),du1=lR(),HN4=mu1(),ON4=t();class cu1{_diagLogger;_transport;_serializer;_responseHandler;_promiseQueue;_timeout;constructor(Y,J,X,Z,W){this._transport=Y,this._serializer=J,this._responseHandler=X,this._promiseQueue=Z,this._timeout=W,this._diagLogger=ON4.diag.createComponentLogger({namespace:"OTLPExportDelegate"})}export(Y,J){if(this._diagLogger.debug("items to be sent",Y),this._promiseQueue.hasReachedLimit()){J({code:CQ.ExportResultCode.FAILED,error:Error("Concurrent export limit reached")});return}let X=this._serializer.serializeRequest(Y);if(X==null){J({code:CQ.ExportResultCode.FAILED,error:Error("Nothing to send")});return}this._promiseQueue.pushPromise(this._transport.send(X,this._timeout).then((Z)=>{if(Z.status==="success"){if(Z.data!=null)try{this._responseHandler.handleResponse(this._serializer.deserializeResponse(Z.data))}catch(W){this._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",W,Z.data)}J({code:CQ.ExportResultCode.SUCCESS});return}else if(Z.status==="failure"&&Z.error){J({code:CQ.ExportResultCode.FAILED,error:Z.error});return}else if(Z.status==="retryable")J({code:CQ.ExportResultCode.FAILED,error:Z.error??new du1.OTLPExporterError("Export failed with retryable status")});else J({code:CQ.ExportResultCode.FAILED,error:new du1.OTLPExporterError("Export failed with unknown error")})},(Z)=>J({code:CQ.ExportResultCode.FAILED,error:Z})))}forceFlush(){return this._promiseQueue.awaitAll()}async shutdown(){this._diagLogger.debug("shutdown started"),await this.forceFlush(),this._transport.shutdown()}}function KN4(Y,J){return new cu1(Y.transport,Y.serializer,(0,HN4.createLoggingPartialSuccessResponseHandler)(),Y.promiseHandler,J.timeout)}lu1.createOtlpExportDelegate=KN4});var ou1=q((nu1)=>{Object.defineProperty(nu1,"__esModule",{value:!0});nu1.createOtlpNetworkExportDelegate=void 0;var BN4=sn(),qN4=tn();function FN4(Y,J,X){return(0,qN4.createOtlpExportDelegate)({transport:X,serializer:J,promiseHandler:(0,BN4.createBoundedQueueExportPromiseHandler)(Y)},{timeout:Y.timeoutMillis})}nu1.createOtlpNetworkExportDelegate=FN4});var TX=q((mW)=>{Object.defineProperty(mW,"__esModule",{value:!0});mW.createOtlpNetworkExportDelegate=mW.CompressionAlgorithm=mW.getSharedConfigurationDefaults=mW.mergeOtlpSharedConfigurationWithDefaults=mW.OTLPExporterError=mW.OTLPExporterBase=void 0;var VN4=Nu1();Object.defineProperty(mW,"OTLPExporterBase",{enumerable:!0,get:function(){return VN4.OTLPExporterBase}});var IN4=lR();Object.defineProperty(mW,"OTLPExporterError",{enumerable:!0,get:function(){return IN4.OTLPExporterError}});var ru1=tV();Object.defineProperty(mW,"mergeOtlpSharedConfigurationWithDefaults",{enumerable:!0,get:function(){return ru1.mergeOtlpSharedConfigurationWithDefaults}});Object.defineProperty(mW,"getSharedConfigurationDefaults",{enumerable:!0,get:function(){return ru1.getSharedConfigurationDefaults}});var DN4=vu1();Object.defineProperty(mW,"CompressionAlgorithm",{enumerable:!0,get:function(){return DN4.CompressionAlgorithm}});var wN4=ou1();Object.defineProperty(mW,"createOtlpNetworkExportDelegate",{enumerable:!0,get:function(){return wN4.createOtlpNetworkExportDelegate}})});var pR=q((Z78,au1)=>{au1.exports=PN4;function PN4(Y,J){var X=Array(arguments.length-1),Z=0,W=2,$=!0;while(W<arguments.length)X[Z++]=arguments[W++];return new Promise(function(Q,U){X[Z]=function(H){if($)if($=!1,H)U(H);else{var O=Array(arguments.length-1),K=0;while(K<O.length)O[K++]=arguments[K];Q.apply(null,O)}};try{Y.apply(J||null,X)}catch(z){if($)$=!1,U(z)}})}});var en=q((eu1)=>{var nR=eu1;nR.length=function(J){var X=J.length;if(!X)return 0;var Z=0;while(--X%4>1&&J.charAt(X)==="=")++Z;return Math.ceil(J.length*3)/4-Z};var AO=Array(64),tu1=Array(123);for(a7=0;a7<64;)tu1[AO[a7]=a7<26?a7+65:a7<52?a7+71:a7<62?a7-4:a7-59|43]=a7++;var a7;nR.encode=function(J,X,Z){var W=null,$=[],G=0,Q=0,U;while(X<Z){var z=J[X++];switch(Q){case 0:$[G++]=AO[z>>2],U=(z&3)<<4,Q=1;break;case 1:$[G++]=AO[U|z>>4],U=(z&15)<<2,Q=2;break;case 2:$[G++]=AO[U|z>>6],$[G++]=AO[z&63],Q=0;break}if(G>8191)(W||(W=[])).push(String.fromCharCode.apply(String,$)),G=0}if(Q){if($[G++]=AO[U],$[G++]=61,Q===1)$[G++]=61}if(W){if(G)W.push(String.fromCharCode.apply(String,$.slice(0,G)));return W.join("")}return String.fromCharCode.apply(String,$.slice(0,G))};var su1="invalid encoding";nR.decode=function(J,X,Z){var W=Z,$=0,G;for(var Q=0;Q<J.length;){var U=J.charCodeAt(Q++);if(U===61&&$>1)break;if((U=tu1[U])===void 0)throw Error(su1);switch($){case 0:G=U,$=1;break;case 1:X[Z++]=G<<2|(U&48)>>4,G=U,$=2;break;case 2:X[Z++]=(G&15)<<4|(U&60)>>2,G=U,$=3;break;case 3:X[Z++]=(G&3)<<6|U,$=0;break}}if($===1)throw Error(su1);return Z-W};nR.test=function(J){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(J)}});var Yi=q(($78,Ym1)=>{Ym1.exports=iR;function iR(){this._listeners={}}iR.prototype.on=function(J,X,Z){return(this._listeners[J]||(this._listeners[J]=[])).push({fn:X,ctx:Z||this}),this};iR.prototype.off=function(J,X){if(J===void 0)this._listeners={};else if(X===void 0)this._listeners[J]=[];else{var Z=this._listeners[J];for(var W=0;W<Z.length;)if(Z[W].fn===X)Z.splice(W,1);else++W}return this};iR.prototype.emit=function(J){var X=this._listeners[J];if(X){var Z=[],W=1;for(;W<arguments.length;)Z.push(arguments[W++]);for(W=0;W<X.length;)X[W].fn.apply(X[W++].ctx,Z)}return this}});var Ji=q((G78,Gm1)=>{Gm1.exports=Jm1(Jm1);function Jm1(Y){if(typeof Float32Array<"u")(function(){var J=new Float32Array([-0]),X=new Uint8Array(J.buffer),Z=X[3]===128;function W(U,z,H){J[0]=U,z[H]=X[0],z[H+1]=X[1],z[H+2]=X[2],z[H+3]=X[3]}function $(U,z,H){J[0]=U,z[H]=X[3],z[H+1]=X[2],z[H+2]=X[1],z[H+3]=X[0]}Y.writeFloatLE=Z?W:$,Y.writeFloatBE=Z?$:W;function G(U,z){return X[0]=U[z],X[1]=U[z+1],X[2]=U[z+2],X[3]=U[z+3],J[0]}function Q(U,z){return X[3]=U[z],X[2]=U[z+1],X[1]=U[z+2],X[0]=U[z+3],J[0]}Y.readFloatLE=Z?G:Q,Y.readFloatBE=Z?Q:G})();else(function(){function J(Z,W,$,G){var Q=W<0?1:0;if(Q)W=-W;if(W===0)Z(1/W>0?0:2147483648,$,G);else if(isNaN(W))Z(2143289344,$,G);else if(W>340282346638528860000000000000000000000)Z((Q<<31|2139095040)>>>0,$,G);else if(W<0.000000000000000000000000000000000000011754943508222875)Z((Q<<31|Math.round(W/0.000000000000000000000000000000000000000000001401298464324817))>>>0,$,G);else{var U=Math.floor(Math.log(W)/Math.LN2),z=Math.round(W*Math.pow(2,-U)*8388608)&8388607;Z((Q<<31|U+127<<23|z)>>>0,$,G)}}Y.writeFloatLE=J.bind(null,Xm1),Y.writeFloatBE=J.bind(null,Zm1);function X(Z,W,$){var G=Z(W,$),Q=(G>>31)*2+1,U=G>>>23&255,z=G&8388607;return U===255?z?NaN:Q*(1/0):U===0?Q*0.000000000000000000000000000000000000000000001401298464324817*z:Q*Math.pow(2,U-150)*(z+8388608)}Y.readFloatLE=X.bind(null,Wm1),Y.readFloatBE=X.bind(null,$m1)})();if(typeof Float64Array<"u")(function(){var J=new Float64Array([-0]),X=new Uint8Array(J.buffer),Z=X[7]===128;function W(U,z,H){J[0]=U,z[H]=X[0],z[H+1]=X[1],z[H+2]=X[2],z[H+3]=X[3],z[H+4]=X[4],z[H+5]=X[5],z[H+6]=X[6],z[H+7]=X[7]}function $(U,z,H){J[0]=U,z[H]=X[7],z[H+1]=X[6],z[H+2]=X[5],z[H+3]=X[4],z[H+4]=X[3],z[H+5]=X[2],z[H+6]=X[1],z[H+7]=X[0]}Y.writeDoubleLE=Z?W:$,Y.writeDoubleBE=Z?$:W;function G(U,z){return X[0]=U[z],X[1]=U[z+1],X[2]=U[z+2],X[3]=U[z+3],X[4]=U[z+4],X[5]=U[z+5],X[6]=U[z+6],X[7]=U[z+7],J[0]}function Q(U,z){return X[7]=U[z],X[6]=U[z+1],X[5]=U[z+2],X[4]=U[z+3],X[3]=U[z+4],X[2]=U[z+5],X[1]=U[z+6],X[0]=U[z+7],J[0]}Y.readDoubleLE=Z?G:Q,Y.readDoubleBE=Z?Q:G})();else(function(){function J(Z,W,$,G,Q,U){var z=G<0?1:0;if(z)G=-G;if(G===0)Z(0,Q,U+W),Z(1/G>0?0:2147483648,Q,U+$);else if(isNaN(G))Z(0,Q,U+W),Z(2146959360,Q,U+$);else if(G>179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)Z(0,Q,U+W),Z((z<<31|2146435072)>>>0,Q,U+$);else{var H;if(G<0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000022250738585072014)H=G/0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005,Z(H>>>0,Q,U+W),Z((z<<31|H/4294967296)>>>0,Q,U+$);else{var O=Math.floor(Math.log(G)/Math.LN2);if(O===1024)O=1023;H=G*Math.pow(2,-O),Z(H*4503599627370496>>>0,Q,U+W),Z((z<<31|O+1023<<20|H*1048576&1048575)>>>0,Q,U+$)}}}Y.writeDoubleLE=J.bind(null,Xm1,0,4),Y.writeDoubleBE=J.bind(null,Zm1,4,0);function X(Z,W,$,G,Q){var U=Z(G,Q+W),z=Z(G,Q+$),H=(z>>31)*2+1,O=z>>>20&2047,K=4294967296*(z&1048575)+U;return O===2047?K?NaN:H*(1/0):O===0?H*0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005*K:H*Math.pow(2,O-1075)*(K+4503599627370496)}Y.readDoubleLE=X.bind(null,Wm1,0,4),Y.readDoubleBE=X.bind(null,$m1,4,0)})();return Y}function Xm1(Y,J,X){J[X]=Y&255,J[X+1]=Y>>>8&255,J[X+2]=Y>>>16&255,J[X+3]=Y>>>24}function Zm1(Y,J,X){J[X]=Y>>>24,J[X+1]=Y>>>16&255,J[X+2]=Y>>>8&255,J[X+3]=Y&255}function Wm1(Y,J){return(Y[J]|Y[J+1]<<8|Y[J+2]<<16|Y[J+3]<<24)>>>0}function $m1(Y,J){return(Y[J]<<24|Y[J+1]<<16|Y[J+2]<<8|Y[J+3])>>>0}});var oR=q((Qm1,Xi)=>{Xi.exports=LN4;function LN4(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(Y){}return null}});var Wi=q((Um1)=>{var Zi=Um1;Zi.length=function(J){var X=0,Z=0;for(var W=0;W<J.length;++W)if(Z=J.charCodeAt(W),Z<128)X+=1;else if(Z<2048)X+=2;else if((Z&64512)===55296&&(J.charCodeAt(W+1)&64512)===56320)++W,X+=4;else X+=3;return X};Zi.read=function(J,X,Z){var W=Z-X;if(W<1)return"";var $=null,G=[],Q=0,U;while(X<Z){if(U=J[X++],U<128)G[Q++]=U;else if(U>191&&U<224)G[Q++]=(U&31)<<6|J[X++]&63;else if(U>239&&U<365)U=((U&7)<<18|(J[X++]&63)<<12|(J[X++]&63)<<6|J[X++]&63)-65536,G[Q++]=55296+(U>>10),G[Q++]=56320+(U&1023);else G[Q++]=(U&15)<<12|(J[X++]&63)<<6|J[X++]&63;if(Q>8191)($||($=[])).push(String.fromCharCode.apply(String,G)),Q=0}if($){if(Q)$.push(String.fromCharCode.apply(String,G.slice(0,Q)));return $.join("")}return String.fromCharCode.apply(String,G.slice(0,Q))};Zi.write=function(J,X,Z){var W=Z,$,G;for(var Q=0;Q<J.length;++Q)if($=J.charCodeAt(Q),$<128)X[Z++]=$;else if($<2048)X[Z++]=$>>6|192,X[Z++]=$&63|128;else if(($&64512)===55296&&((G=J.charCodeAt(Q+1))&64512)===56320)$=65536+(($&1023)<<10)+(G&1023),++Q,X[Z++]=$>>18|240,X[Z++]=$>>12&63|128,X[Z++]=$>>6&63|128,X[Z++]=$&63|128;else X[Z++]=$>>12|224,X[Z++]=$>>6&63|128,X[Z++]=$&63|128;return Z-W}});var $i=q((U78,zm1)=>{zm1.exports=MN4;function MN4(Y,J,X){var Z=X||8192,W=Z>>>1,$=null,G=Z;return function(U){if(U<1||U>W)return Y(U);if(G+U>Z)$=Y(Z),G=0;var z=J.call($,G,G+=U);if(G&7)G=(G|7)+1;return z}}});var Om1=q((z78,Hm1)=>{Hm1.exports=p8;var eV=cW();function p8(Y,J){this.lo=Y>>>0,this.hi=J>>>0}var jQ=p8.zero=new p8(0,0);jQ.toNumber=function(){return 0};jQ.zzEncode=jQ.zzDecode=function(){return this};jQ.length=function(){return 1};var EN4=p8.zeroHash="\x00\x00\x00\x00\x00\x00\x00\x00";p8.fromNumber=function(J){if(J===0)return jQ;var X=J<0;if(X)J=-J;var Z=J>>>0,W=(J-Z)/4294967296>>>0;if(X){if(W=~W>>>0,Z=~Z>>>0,++Z>4294967295){if(Z=0,++W>4294967295)W=0}}return new p8(Z,W)};p8.from=function(J){if(typeof J==="number")return p8.fromNumber(J);if(eV.isString(J))if(eV.Long)J=eV.Long.fromString(J);else return p8.fromNumber(parseInt(J,10));return J.low||J.high?new p8(J.low>>>0,J.high>>>0):jQ};p8.prototype.toNumber=function(J){if(!J&&this.hi>>>31){var X=~this.lo+1>>>0,Z=~this.hi>>>0;if(!X)Z=Z+1>>>0;return-(X+Z*4294967296)}return this.lo+this.hi*4294967296};p8.prototype.toLong=function(J){return eV.Long?new eV.Long(this.lo|0,this.hi|0,Boolean(J)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(J)}};var dW=String.prototype.charCodeAt;p8.fromHash=function(J){if(J===EN4)return jQ;return new p8((dW.call(J,0)|dW.call(J,1)<<8|dW.call(J,2)<<16|dW.call(J,3)<<24)>>>0,(dW.call(J,4)|dW.call(J,5)<<8|dW.call(J,6)<<16|dW.call(J,7)<<24)>>>0)};p8.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};p8.prototype.zzEncode=function(){var J=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^J)>>>0,this.lo=(this.lo<<1^J)>>>0,this};p8.prototype.zzDecode=function(){var J=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^J)>>>0,this.hi=(this.hi>>>1^J)>>>0,this};p8.prototype.length=function(){var J=this.lo,X=(this.lo>>>28|this.hi<<4)>>>0,Z=this.hi>>>24;return Z===0?X===0?J<16384?J<128?1:2:J<2097152?3:4:X<16384?X<128?5:6:X<2097152?7:8:Z<128?9:10}});var cW=q((Gi)=>{var e1=Gi;e1.asPromise=pR();e1.base64=en();e1.EventEmitter=Yi();e1.float=Ji();e1.inquire=oR();e1.utf8=Wi();e1.pool=$i();e1.LongBits=Om1();e1.isNode=Boolean(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);e1.global=e1.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||Gi;e1.emptyArray=Object.freeze?Object.freeze([]):[];e1.emptyObject=Object.freeze?Object.freeze({}):{};e1.isInteger=Number.isInteger||function(J){return typeof J==="number"&&isFinite(J)&&Math.floor(J)===J};e1.isString=function(J){return typeof J==="string"||J instanceof String};e1.isObject=function(J){return J&&typeof J==="object"};e1.isset=e1.isSet=function(J,X){var Z=J[X];if(Z!=null&&J.hasOwnProperty(X))return typeof Z!=="object"||(Array.isArray(Z)?Z.length:Object.keys(Z).length)>0;return!1};e1.Buffer=function(){try{var Y=e1.inquire("buffer").Buffer;return Y.prototype.utf8Write?Y:null}catch(J){return null}}();e1._Buffer_from=null;e1._Buffer_allocUnsafe=null;e1.newBuffer=function(J){return typeof J==="number"?e1.Buffer?e1._Buffer_allocUnsafe(J):new e1.Array(J):e1.Buffer?e1._Buffer_from(J):typeof Uint8Array>"u"?J:new Uint8Array(J)};e1.Array=typeof Uint8Array<"u"?Uint8Array:Array;e1.Long=e1.global.dcodeIO&&e1.global.dcodeIO.Long||e1.global.Long||e1.inquire("long");e1.key2Re=/^true|false|0|1$/;e1.key32Re=/^-?(?:0|[1-9][0-9]*)$/;e1.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;e1.longToHash=function(J){return J?e1.LongBits.from(J).toHash():e1.LongBits.zeroHash};e1.longFromHash=function(J,X){var Z=e1.LongBits.fromHash(J);if(e1.Long)return e1.Long.fromBits(Z.lo,Z.hi,X);return Z.toNumber(Boolean(X))};function Km1(Y,J,X){for(var Z=Object.keys(J),W=0;W<Z.length;++W)if(Y[Z[W]]===void 0||!X)Y[Z[W]]=J[Z[W]];return Y}e1.merge=Km1;e1.lcFirst=function(J){return J.charAt(0).toLowerCase()+J.substring(1)};function Bm1(Y){function J(X,Z){if(!(this instanceof J))return new J(X,Z);if(Object.defineProperty(this,"message",{get:function(){return X}}),Error.captureStackTrace)Error.captureStackTrace(this,J);else Object.defineProperty(this,"stack",{value:Error().stack||""});if(Z)Km1(this,Z)}return J.prototype=Object.create(Error.prototype,{constructor:{value:J,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return Y},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),J}e1.newError=Bm1;e1.ProtocolError=Bm1("ProtocolError");e1.oneOfGetter=function(J){var X={};for(var Z=0;Z<J.length;++Z)X[J[Z]]=1;return function(){for(var W=Object.keys(this),$=W.length-1;$>-1;--$)if(X[W[$]]===1&&this[W[$]]!==void 0&&this[W[$]]!==null)return W[$]}};e1.oneOfSetter=function(J){return function(X){for(var Z=0;Z<J.length;++Z)if(J[Z]!==X)delete this[J[Z]]}};e1.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};e1._configure=function(){var Y=e1.Buffer;if(!Y){e1._Buffer_from=e1._Buffer_allocUnsafe=null;return}e1._Buffer_from=Y.from!==Uint8Array.from&&Y.from||function(X,Z){return new Y(X,Z)},e1._Buffer_allocUnsafe=Y.allocUnsafe||function(X){return new Y(X)}}});var Bi=q((O78,Im1)=>{Im1.exports=X4;var s7=cW(),Qi,rR=s7.LongBits,qm1=s7.base64,Fm1=s7.utf8;function YI(Y,J,X){this.fn=Y,this.len=J,this.next=void 0,this.val=X}function zi(){}function TN4(Y){this.head=Y.head,this.tail=Y.tail,this.len=Y.len,this.next=Y.states}function X4(){this.len=0,this.head=new YI(zi,0,0),this.tail=this.head,this.states=null}var Vm1=function(){return s7.Buffer?function(){return(X4.create=function(){return new Qi})()}:function(){return new X4}};X4.create=Vm1();X4.alloc=function(J){return new s7.Array(J)};if(s7.Array!==Array)X4.alloc=s7.pool(X4.alloc,s7.Array.prototype.subarray);X4.prototype._push=function(J,X,Z){return this.tail=this.tail.next=new YI(J,X,Z),this.len+=X,this};function Hi(Y,J,X){J[X]=Y&255}function RN4(Y,J,X){while(Y>127)J[X++]=Y&127|128,Y>>>=7;J[X]=Y}function Oi(Y,J){this.len=Y,this.next=void 0,this.val=J}Oi.prototype=Object.create(YI.prototype);Oi.prototype.fn=RN4;X4.prototype.uint32=function(J){return this.len+=(this.tail=this.tail.next=new Oi((J=J>>>0)<128?1:J<16384?2:J<2097152?3:J<268435456?4:5,J)).len,this};X4.prototype.int32=function(J){return J<0?this._push(Ki,10,rR.fromNumber(J)):this.uint32(J)};X4.prototype.sint32=function(J){return this.uint32((J<<1^J>>31)>>>0)};function Ki(Y,J,X){while(Y.hi)J[X++]=Y.lo&127|128,Y.lo=(Y.lo>>>7|Y.hi<<25)>>>0,Y.hi>>>=7;while(Y.lo>127)J[X++]=Y.lo&127|128,Y.lo=Y.lo>>>7;J[X++]=Y.lo}X4.prototype.uint64=function(J){var X=rR.from(J);return this._push(Ki,X.length(),X)};X4.prototype.int64=X4.prototype.uint64;X4.prototype.sint64=function(J){var X=rR.from(J).zzEncode();return this._push(Ki,X.length(),X)};X4.prototype.bool=function(J){return this._push(Hi,1,J?1:0)};function Ui(Y,J,X){J[X]=Y&255,J[X+1]=Y>>>8&255,J[X+2]=Y>>>16&255,J[X+3]=Y>>>24}X4.prototype.fixed32=function(J){return this._push(Ui,4,J>>>0)};X4.prototype.sfixed32=X4.prototype.fixed32;X4.prototype.fixed64=function(J){var X=rR.from(J);return this._push(Ui,4,X.lo)._push(Ui,4,X.hi)};X4.prototype.sfixed64=X4.prototype.fixed64;X4.prototype.float=function(J){return this._push(s7.float.writeFloatLE,4,J)};X4.prototype.double=function(J){return this._push(s7.float.writeDoubleLE,8,J)};var NN4=s7.Array.prototype.set?function(J,X,Z){X.set(J,Z)}:function(J,X,Z){for(var W=0;W<J.length;++W)X[Z+W]=J[W]};X4.prototype.bytes=function(J){var X=J.length>>>0;if(!X)return this._push(Hi,1,0);if(s7.isString(J)){var Z=X4.alloc(X=qm1.length(J));qm1.decode(J,Z,0),J=Z}return this.uint32(X)._push(NN4,X,J)};X4.prototype.string=function(J){var X=Fm1.length(J);return X?this.uint32(X)._push(Fm1.write,X,J):this._push(Hi,1,0)};X4.prototype.fork=function(){return this.states=new TN4(this),this.head=this.tail=new YI(zi,0,0),this.len=0,this};X4.prototype.reset=function(){if(this.states)this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next;else this.head=this.tail=new YI(zi,0,0),this.len=0;return this};X4.prototype.ldelim=function(){var J=this.head,X=this.tail,Z=this.len;if(this.reset().uint32(Z),Z)this.tail.next=J.next,this.tail=X,this.len+=Z;return this};X4.prototype.finish=function(){var J=this.head.next,X=this.constructor.alloc(this.len),Z=0;while(J)J.fn(J.val,X,Z),Z+=J.len,J=J.next;return X};X4._configure=function(Y){Qi=Y,X4.create=Vm1(),Qi._configure()}});var Am1=q((K78,wm1)=>{wm1.exports=RX;var Dm1=Bi();(RX.prototype=Object.create(Dm1.prototype)).constructor=RX;var lW=cW();function RX(){Dm1.call(this)}RX._configure=function(){RX.alloc=lW._Buffer_allocUnsafe,RX.writeBytesBuffer=lW.Buffer&&lW.Buffer.prototype instanceof Uint8Array&&lW.Buffer.prototype.set.name==="set"?function(J,X,Z){X.set(J,Z)}:function(J,X,Z){if(J.copy)J.copy(X,Z,0,J.length);else for(var W=0;W<J.length;)X[Z++]=J[W++]}};RX.prototype.bytes=function(J){if(lW.isString(J))J=lW._Buffer_from(J,"base64");var X=J.length>>>0;if(this.uint32(X),X)this._push(RX.writeBytesBuffer,X,J);return this};function SN4(Y,J,X){if(Y.length<40)lW.utf8.write(Y,J,X);else if(J.utf8Write)J.utf8Write(Y,X);else J.write(Y,X)}RX.prototype.string=function(J){var X=lW.Buffer.byteLength(J);if(this.uint32(X),X)this._push(SN4,X,J);return this};RX._configure()});var Vi=q((B78,Tm1)=>{Tm1.exports=m6;var aY=cW(),Fi,Mm1=aY.LongBits,CN4=aY.utf8;function sY(Y,J){return RangeError("index out of range: "+Y.pos+" + "+(J||1)+" > "+Y.len)}function m6(Y){this.buf=Y,this.pos=0,this.len=Y.length}var Pm1=typeof Uint8Array<"u"?function(J){if(J instanceof Uint8Array||Array.isArray(J))return new m6(J);throw Error("illegal buffer")}:function(J){if(Array.isArray(J))return new m6(J);throw Error("illegal buffer")},Em1=function(){return aY.Buffer?function(X){return(m6.create=function(W){return aY.Buffer.isBuffer(W)?new Fi(W):Pm1(W)})(X)}:Pm1};m6.create=Em1();m6.prototype._slice=aY.Array.prototype.subarray||aY.Array.prototype.slice;m6.prototype.uint32=function(){var J=4294967295;return function(){if(J=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128)return J;if(J=(J|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)return J;if(J=(J|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)return J;if(J=(J|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)return J;if(J=(J|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128)return J;if((this.pos+=5)>this.len)throw this.pos=this.len,sY(this,10);return J}}();m6.prototype.int32=function(){return this.uint32()|0};m6.prototype.sint32=function(){var J=this.uint32();return J>>>1^-(J&1)|0};function qi(){var Y=new Mm1(0,0),J=0;if(this.len-this.pos>4){for(;J<4;++J)if(Y.lo=(Y.lo|(this.buf[this.pos]&127)<<J*7)>>>0,this.buf[this.pos++]<128)return Y;if(Y.lo=(Y.lo|(this.buf[this.pos]&127)<<28)>>>0,Y.hi=(Y.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return Y;J=0}else{for(;J<3;++J){if(this.pos>=this.len)throw sY(this);if(Y.lo=(Y.lo|(this.buf[this.pos]&127)<<J*7)>>>0,this.buf[this.pos++]<128)return Y}return Y.lo=(Y.lo|(this.buf[this.pos++]&127)<<J*7)>>>0,Y}if(this.len-this.pos>4){for(;J<5;++J)if(Y.hi=(Y.hi|(this.buf[this.pos]&127)<<J*7+3)>>>0,this.buf[this.pos++]<128)return Y}else for(;J<5;++J){if(this.pos>=this.len)throw sY(this);if(Y.hi=(Y.hi|(this.buf[this.pos]&127)<<J*7+3)>>>0,this.buf[this.pos++]<128)return Y}throw Error("invalid varint encoding")}m6.prototype.bool=function(){return this.uint32()!==0};function aR(Y,J){return(Y[J-4]|Y[J-3]<<8|Y[J-2]<<16|Y[J-1]<<24)>>>0}m6.prototype.fixed32=function(){if(this.pos+4>this.len)throw sY(this,4);return aR(this.buf,this.pos+=4)};m6.prototype.sfixed32=function(){if(this.pos+4>this.len)throw sY(this,4);return aR(this.buf,this.pos+=4)|0};function Lm1(){if(this.pos+8>this.len)throw sY(this,8);return new Mm1(aR(this.buf,this.pos+=4),aR(this.buf,this.pos+=4))}m6.prototype.float=function(){if(this.pos+4>this.len)throw sY(this,4);var J=aY.float.readFloatLE(this.buf,this.pos);return this.pos+=4,J};m6.prototype.double=function(){if(this.pos+8>this.len)throw sY(this,4);var J=aY.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,J};m6.prototype.bytes=function(){var J=this.uint32(),X=this.pos,Z=this.pos+J;if(Z>this.len)throw sY(this,J);if(this.pos+=J,Array.isArray(this.buf))return this.buf.slice(X,Z);if(X===Z){var W=aY.Buffer;return W?W.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,X,Z)};m6.prototype.string=function(){var J=this.bytes();return CN4.read(J,0,J.length)};m6.prototype.skip=function(J){if(typeof J==="number"){if(this.pos+J>this.len)throw sY(this,J);this.pos+=J}else do if(this.pos>=this.len)throw sY(this);while(this.buf[this.pos++]&128);return this};m6.prototype.skipType=function(Y){switch(Y){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:while((Y=this.uint32()&7)!==4)this.skipType(Y);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+Y+" at offset "+this.pos)}return this};m6._configure=function(Y){Fi=Y,m6.create=Em1(),Fi._configure();var J=aY.Long?"toLong":"toNumber";aY.merge(m6.prototype,{int64:function(){return qi.call(this)[J](!1)},uint64:function(){return qi.call(this)[J](!0)},sint64:function(){return qi.call(this).zzDecode()[J](!1)},fixed64:function(){return Lm1.call(this)[J](!0)},sfixed64:function(){return Lm1.call(this)[J](!1)}})}});var Cm1=q((q78,Sm1)=>{Sm1.exports=kQ;var Nm1=Vi();(kQ.prototype=Object.create(Nm1.prototype)).constructor=kQ;var Rm1=cW();function kQ(Y){Nm1.call(this,Y)}kQ._configure=function(){if(Rm1.Buffer)kQ.prototype._slice=Rm1.Buffer.prototype.slice};kQ.prototype.string=function(){var J=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+J,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+J,this.len))};kQ._configure()});var km1=q((F78,jm1)=>{jm1.exports=JI;var Ii=cW();(JI.prototype=Object.create(Ii.EventEmitter.prototype)).constructor=JI;function JI(Y,J,X){if(typeof Y!=="function")throw TypeError("rpcImpl must be a function");Ii.EventEmitter.call(this),this.rpcImpl=Y,this.requestDelimited=Boolean(J),this.responseDelimited=Boolean(X)}JI.prototype.rpcCall=function Y(J,X,Z,W,$){if(!W)throw TypeError("request must be specified");var G=this;if(!$)return Ii.asPromise(Y,G,J,X,Z,W);if(!G.rpcImpl){setTimeout(function(){$(Error("already ended"))},0);return}try{return G.rpcImpl(J,X[G.requestDelimited?"encodeDelimited":"encode"](W).finish(),function(U,z){if(U)return G.emit("error",U,J),$(U);if(z===null){G.end(!0);return}if(!(z instanceof Z))try{z=Z[G.responseDelimited?"decodeDelimited":"decode"](z)}catch(H){return G.emit("error",H,J),$(H)}return G.emit("data",z,J),$(null,z)})}catch(Q){G.emit("error",Q,J),setTimeout(function(){$(Q)},0);return}};JI.prototype.end=function(J){if(this.rpcImpl){if(!J)this.rpcImpl(null,null,null);this.rpcImpl=null,this.emit("end").off()}return this}});var xm1=q((_m1)=>{var jN4=_m1;jN4.Service=km1()});var vm1=q((I78,fm1)=>{fm1.exports={}});var ym1=q((bm1)=>{var h9=bm1;h9.build="minimal";h9.Writer=Bi();h9.BufferWriter=Am1();h9.Reader=Vi();h9.BufferReader=Cm1();h9.util=cW();h9.rpc=xm1();h9.roots=vm1();h9.configure=hm1;function hm1(){h9.util._configure(),h9.Writer._configure(h9.BufferWriter),h9.Reader._configure(h9.BufferReader)}hm1()});var sR=q((gm1,um1)=>{Object.defineProperty(gm1,"__esModule",{value:!0});var G0=ym1(),Y1=G0.Reader,P0=G0.Writer,T=G0.util,E=G0.roots.default||(G0.roots.default={});E.opentelemetry=function(){var Y={};return Y.proto=function(){var J={};return J.common=function(){var X={};return X.v1=function(){var Z={};return Z.AnyValue=function(){function W(G){if(G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}W.prototype.stringValue=null,W.prototype.boolValue=null,W.prototype.intValue=null,W.prototype.doubleValue=null,W.prototype.arrayValue=null,W.prototype.kvlistValue=null,W.prototype.bytesValue=null;var $;return Object.defineProperty(W.prototype,"value",{get:T.oneOfGetter($=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:T.oneOfSetter($)}),W.create=function(Q){return new W(Q)},W.encode=function(Q,U){if(!U)U=P0.create();if(Q.stringValue!=null&&Object.hasOwnProperty.call(Q,"stringValue"))U.uint32(10).string(Q.stringValue);if(Q.boolValue!=null&&Object.hasOwnProperty.call(Q,"boolValue"))U.uint32(16).bool(Q.boolValue);if(Q.intValue!=null&&Object.hasOwnProperty.call(Q,"intValue"))U.uint32(24).int64(Q.intValue);if(Q.doubleValue!=null&&Object.hasOwnProperty.call(Q,"doubleValue"))U.uint32(33).double(Q.doubleValue);if(Q.arrayValue!=null&&Object.hasOwnProperty.call(Q,"arrayValue"))E.opentelemetry.proto.common.v1.ArrayValue.encode(Q.arrayValue,U.uint32(42).fork()).ldelim();if(Q.kvlistValue!=null&&Object.hasOwnProperty.call(Q,"kvlistValue"))E.opentelemetry.proto.common.v1.KeyValueList.encode(Q.kvlistValue,U.uint32(50).fork()).ldelim();if(Q.bytesValue!=null&&Object.hasOwnProperty.call(Q,"bytesValue"))U.uint32(58).bytes(Q.bytesValue);return U},W.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},W.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.common.v1.AnyValue;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{O.stringValue=Q.string();break}case 2:{O.boolValue=Q.bool();break}case 3:{O.intValue=Q.int64();break}case 4:{O.doubleValue=Q.double();break}case 5:{O.arrayValue=E.opentelemetry.proto.common.v1.ArrayValue.decode(Q,Q.uint32());break}case 6:{O.kvlistValue=E.opentelemetry.proto.common.v1.KeyValueList.decode(Q,Q.uint32());break}case 7:{O.bytesValue=Q.bytes();break}default:Q.skipType(K&7);break}}return O},W.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},W.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";var U={};if(Q.stringValue!=null&&Q.hasOwnProperty("stringValue")){if(U.value=1,!T.isString(Q.stringValue))return"stringValue: string expected"}if(Q.boolValue!=null&&Q.hasOwnProperty("boolValue")){if(U.value===1)return"value: multiple values";if(U.value=1,typeof Q.boolValue!=="boolean")return"boolValue: boolean expected"}if(Q.intValue!=null&&Q.hasOwnProperty("intValue")){if(U.value===1)return"value: multiple values";if(U.value=1,!T.isInteger(Q.intValue)&&!(Q.intValue&&T.isInteger(Q.intValue.low)&&T.isInteger(Q.intValue.high)))return"intValue: integer|Long expected"}if(Q.doubleValue!=null&&Q.hasOwnProperty("doubleValue")){if(U.value===1)return"value: multiple values";if(U.value=1,typeof Q.doubleValue!=="number")return"doubleValue: number expected"}if(Q.arrayValue!=null&&Q.hasOwnProperty("arrayValue")){if(U.value===1)return"value: multiple values";U.value=1;{var z=E.opentelemetry.proto.common.v1.ArrayValue.verify(Q.arrayValue);if(z)return"arrayValue."+z}}if(Q.kvlistValue!=null&&Q.hasOwnProperty("kvlistValue")){if(U.value===1)return"value: multiple values";U.value=1;{var z=E.opentelemetry.proto.common.v1.KeyValueList.verify(Q.kvlistValue);if(z)return"kvlistValue."+z}}if(Q.bytesValue!=null&&Q.hasOwnProperty("bytesValue")){if(U.value===1)return"value: multiple values";if(U.value=1,!(Q.bytesValue&&typeof Q.bytesValue.length==="number"||T.isString(Q.bytesValue)))return"bytesValue: buffer expected"}return null},W.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.common.v1.AnyValue)return Q;var U=new E.opentelemetry.proto.common.v1.AnyValue;if(Q.stringValue!=null)U.stringValue=String(Q.stringValue);if(Q.boolValue!=null)U.boolValue=Boolean(Q.boolValue);if(Q.intValue!=null){if(T.Long)(U.intValue=T.Long.fromValue(Q.intValue)).unsigned=!1;else if(typeof Q.intValue==="string")U.intValue=parseInt(Q.intValue,10);else if(typeof Q.intValue==="number")U.intValue=Q.intValue;else if(typeof Q.intValue==="object")U.intValue=new T.LongBits(Q.intValue.low>>>0,Q.intValue.high>>>0).toNumber()}if(Q.doubleValue!=null)U.doubleValue=Number(Q.doubleValue);if(Q.arrayValue!=null){if(typeof Q.arrayValue!=="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");U.arrayValue=E.opentelemetry.proto.common.v1.ArrayValue.fromObject(Q.arrayValue)}if(Q.kvlistValue!=null){if(typeof Q.kvlistValue!=="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");U.kvlistValue=E.opentelemetry.proto.common.v1.KeyValueList.fromObject(Q.kvlistValue)}if(Q.bytesValue!=null){if(typeof Q.bytesValue==="string")T.base64.decode(Q.bytesValue,U.bytesValue=T.newBuffer(T.base64.length(Q.bytesValue)),0);else if(Q.bytesValue.length>=0)U.bytesValue=Q.bytesValue}return U},W.toObject=function(Q,U){if(!U)U={};var z={};if(Q.stringValue!=null&&Q.hasOwnProperty("stringValue")){if(z.stringValue=Q.stringValue,U.oneofs)z.value="stringValue"}if(Q.boolValue!=null&&Q.hasOwnProperty("boolValue")){if(z.boolValue=Q.boolValue,U.oneofs)z.value="boolValue"}if(Q.intValue!=null&&Q.hasOwnProperty("intValue")){if(typeof Q.intValue==="number")z.intValue=U.longs===String?String(Q.intValue):Q.intValue;else z.intValue=U.longs===String?T.Long.prototype.toString.call(Q.intValue):U.longs===Number?new T.LongBits(Q.intValue.low>>>0,Q.intValue.high>>>0).toNumber():Q.intValue;if(U.oneofs)z.value="intValue"}if(Q.doubleValue!=null&&Q.hasOwnProperty("doubleValue")){if(z.doubleValue=U.json&&!isFinite(Q.doubleValue)?String(Q.doubleValue):Q.doubleValue,U.oneofs)z.value="doubleValue"}if(Q.arrayValue!=null&&Q.hasOwnProperty("arrayValue")){if(z.arrayValue=E.opentelemetry.proto.common.v1.ArrayValue.toObject(Q.arrayValue,U),U.oneofs)z.value="arrayValue"}if(Q.kvlistValue!=null&&Q.hasOwnProperty("kvlistValue")){if(z.kvlistValue=E.opentelemetry.proto.common.v1.KeyValueList.toObject(Q.kvlistValue,U),U.oneofs)z.value="kvlistValue"}if(Q.bytesValue!=null&&Q.hasOwnProperty("bytesValue")){if(z.bytesValue=U.bytes===String?T.base64.encode(Q.bytesValue,0,Q.bytesValue.length):U.bytes===Array?Array.prototype.slice.call(Q.bytesValue):Q.bytesValue,U.oneofs)z.value="bytesValue"}return z},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.common.v1.AnyValue"},W}(),Z.ArrayValue=function(){function W($){if(this.values=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.values=T.emptyArray,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.values!=null&&G.values.length)for(var U=0;U<G.values.length;++U)E.opentelemetry.proto.common.v1.AnyValue.encode(G.values[U],Q.uint32(10).fork()).ldelim();return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.common.v1.ArrayValue;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{if(!(H.values&&H.values.length))H.values=[];H.values.push(E.opentelemetry.proto.common.v1.AnyValue.decode(G,G.uint32()));break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.values!=null&&G.hasOwnProperty("values")){if(!Array.isArray(G.values))return"values: array expected";for(var Q=0;Q<G.values.length;++Q){var U=E.opentelemetry.proto.common.v1.AnyValue.verify(G.values[Q]);if(U)return"values."+U}}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.common.v1.ArrayValue)return G;var Q=new E.opentelemetry.proto.common.v1.ArrayValue;if(G.values){if(!Array.isArray(G.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");Q.values=[];for(var U=0;U<G.values.length;++U){if(typeof G.values[U]!=="object")throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");Q.values[U]=E.opentelemetry.proto.common.v1.AnyValue.fromObject(G.values[U])}}return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.values=[];if(G.values&&G.values.length){U.values=[];for(var z=0;z<G.values.length;++z)U.values[z]=E.opentelemetry.proto.common.v1.AnyValue.toObject(G.values[z],Q)}return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.common.v1.ArrayValue"},W}(),Z.KeyValueList=function(){function W($){if(this.values=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.values=T.emptyArray,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.values!=null&&G.values.length)for(var U=0;U<G.values.length;++U)E.opentelemetry.proto.common.v1.KeyValue.encode(G.values[U],Q.uint32(10).fork()).ldelim();return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.common.v1.KeyValueList;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{if(!(H.values&&H.values.length))H.values=[];H.values.push(E.opentelemetry.proto.common.v1.KeyValue.decode(G,G.uint32()));break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.values!=null&&G.hasOwnProperty("values")){if(!Array.isArray(G.values))return"values: array expected";for(var Q=0;Q<G.values.length;++Q){var U=E.opentelemetry.proto.common.v1.KeyValue.verify(G.values[Q]);if(U)return"values."+U}}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.common.v1.KeyValueList)return G;var Q=new E.opentelemetry.proto.common.v1.KeyValueList;if(G.values){if(!Array.isArray(G.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");Q.values=[];for(var U=0;U<G.values.length;++U){if(typeof G.values[U]!=="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");Q.values[U]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(G.values[U])}}return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.values=[];if(G.values&&G.values.length){U.values=[];for(var z=0;z<G.values.length;++z)U.values[z]=E.opentelemetry.proto.common.v1.KeyValue.toObject(G.values[z],Q)}return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.common.v1.KeyValueList"},W}(),Z.KeyValue=function(){function W($){if($){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.key=null,W.prototype.value=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.key!=null&&Object.hasOwnProperty.call(G,"key"))Q.uint32(10).string(G.key);if(G.value!=null&&Object.hasOwnProperty.call(G,"value"))E.opentelemetry.proto.common.v1.AnyValue.encode(G.value,Q.uint32(18).fork()).ldelim();return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.common.v1.KeyValue;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{H.key=G.string();break}case 2:{H.value=E.opentelemetry.proto.common.v1.AnyValue.decode(G,G.uint32());break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.key!=null&&G.hasOwnProperty("key")){if(!T.isString(G.key))return"key: string expected"}if(G.value!=null&&G.hasOwnProperty("value")){var Q=E.opentelemetry.proto.common.v1.AnyValue.verify(G.value);if(Q)return"value."+Q}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.common.v1.KeyValue)return G;var Q=new E.opentelemetry.proto.common.v1.KeyValue;if(G.key!=null)Q.key=String(G.key);if(G.value!=null){if(typeof G.value!=="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");Q.value=E.opentelemetry.proto.common.v1.AnyValue.fromObject(G.value)}return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.defaults)U.key="",U.value=null;if(G.key!=null&&G.hasOwnProperty("key"))U.key=G.key;if(G.value!=null&&G.hasOwnProperty("value"))U.value=E.opentelemetry.proto.common.v1.AnyValue.toObject(G.value,Q);return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.common.v1.KeyValue"},W}(),Z.InstrumentationScope=function(){function W($){if(this.attributes=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.name=null,W.prototype.version=null,W.prototype.attributes=T.emptyArray,W.prototype.droppedAttributesCount=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.name!=null&&Object.hasOwnProperty.call(G,"name"))Q.uint32(10).string(G.name);if(G.version!=null&&Object.hasOwnProperty.call(G,"version"))Q.uint32(18).string(G.version);if(G.attributes!=null&&G.attributes.length)for(var U=0;U<G.attributes.length;++U)E.opentelemetry.proto.common.v1.KeyValue.encode(G.attributes[U],Q.uint32(26).fork()).ldelim();if(G.droppedAttributesCount!=null&&Object.hasOwnProperty.call(G,"droppedAttributesCount"))Q.uint32(32).uint32(G.droppedAttributesCount);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.common.v1.InstrumentationScope;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{H.name=G.string();break}case 2:{H.version=G.string();break}case 3:{if(!(H.attributes&&H.attributes.length))H.attributes=[];H.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(G,G.uint32()));break}case 4:{H.droppedAttributesCount=G.uint32();break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.name!=null&&G.hasOwnProperty("name")){if(!T.isString(G.name))return"name: string expected"}if(G.version!=null&&G.hasOwnProperty("version")){if(!T.isString(G.version))return"version: string expected"}if(G.attributes!=null&&G.hasOwnProperty("attributes")){if(!Array.isArray(G.attributes))return"attributes: array expected";for(var Q=0;Q<G.attributes.length;++Q){var U=E.opentelemetry.proto.common.v1.KeyValue.verify(G.attributes[Q]);if(U)return"attributes."+U}}if(G.droppedAttributesCount!=null&&G.hasOwnProperty("droppedAttributesCount")){if(!T.isInteger(G.droppedAttributesCount))return"droppedAttributesCount: integer expected"}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.common.v1.InstrumentationScope)return G;var Q=new E.opentelemetry.proto.common.v1.InstrumentationScope;if(G.name!=null)Q.name=String(G.name);if(G.version!=null)Q.version=String(G.version);if(G.attributes){if(!Array.isArray(G.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");Q.attributes=[];for(var U=0;U<G.attributes.length;++U){if(typeof G.attributes[U]!=="object")throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");Q.attributes[U]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(G.attributes[U])}}if(G.droppedAttributesCount!=null)Q.droppedAttributesCount=G.droppedAttributesCount>>>0;return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.attributes=[];if(Q.defaults)U.name="",U.version="",U.droppedAttributesCount=0;if(G.name!=null&&G.hasOwnProperty("name"))U.name=G.name;if(G.version!=null&&G.hasOwnProperty("version"))U.version=G.version;if(G.attributes&&G.attributes.length){U.attributes=[];for(var z=0;z<G.attributes.length;++z)U.attributes[z]=E.opentelemetry.proto.common.v1.KeyValue.toObject(G.attributes[z],Q)}if(G.droppedAttributesCount!=null&&G.hasOwnProperty("droppedAttributesCount"))U.droppedAttributesCount=G.droppedAttributesCount;return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.common.v1.InstrumentationScope"},W}(),Z.EntityRef=function(){function W($){if(this.idKeys=[],this.descriptionKeys=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.schemaUrl=null,W.prototype.type=null,W.prototype.idKeys=T.emptyArray,W.prototype.descriptionKeys=T.emptyArray,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.schemaUrl!=null&&Object.hasOwnProperty.call(G,"schemaUrl"))Q.uint32(10).string(G.schemaUrl);if(G.type!=null&&Object.hasOwnProperty.call(G,"type"))Q.uint32(18).string(G.type);if(G.idKeys!=null&&G.idKeys.length)for(var U=0;U<G.idKeys.length;++U)Q.uint32(26).string(G.idKeys[U]);if(G.descriptionKeys!=null&&G.descriptionKeys.length)for(var U=0;U<G.descriptionKeys.length;++U)Q.uint32(34).string(G.descriptionKeys[U]);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.common.v1.EntityRef;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{H.schemaUrl=G.string();break}case 2:{H.type=G.string();break}case 3:{if(!(H.idKeys&&H.idKeys.length))H.idKeys=[];H.idKeys.push(G.string());break}case 4:{if(!(H.descriptionKeys&&H.descriptionKeys.length))H.descriptionKeys=[];H.descriptionKeys.push(G.string());break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.schemaUrl!=null&&G.hasOwnProperty("schemaUrl")){if(!T.isString(G.schemaUrl))return"schemaUrl: string expected"}if(G.type!=null&&G.hasOwnProperty("type")){if(!T.isString(G.type))return"type: string expected"}if(G.idKeys!=null&&G.hasOwnProperty("idKeys")){if(!Array.isArray(G.idKeys))return"idKeys: array expected";for(var Q=0;Q<G.idKeys.length;++Q)if(!T.isString(G.idKeys[Q]))return"idKeys: string[] expected"}if(G.descriptionKeys!=null&&G.hasOwnProperty("descriptionKeys")){if(!Array.isArray(G.descriptionKeys))return"descriptionKeys: array expected";for(var Q=0;Q<G.descriptionKeys.length;++Q)if(!T.isString(G.descriptionKeys[Q]))return"descriptionKeys: string[] expected"}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.common.v1.EntityRef)return G;var Q=new E.opentelemetry.proto.common.v1.EntityRef;if(G.schemaUrl!=null)Q.schemaUrl=String(G.schemaUrl);if(G.type!=null)Q.type=String(G.type);if(G.idKeys){if(!Array.isArray(G.idKeys))throw TypeError(".opentelemetry.proto.common.v1.EntityRef.idKeys: array expected");Q.idKeys=[];for(var U=0;U<G.idKeys.length;++U)Q.idKeys[U]=String(G.idKeys[U])}if(G.descriptionKeys){if(!Array.isArray(G.descriptionKeys))throw TypeError(".opentelemetry.proto.common.v1.EntityRef.descriptionKeys: array expected");Q.descriptionKeys=[];for(var U=0;U<G.descriptionKeys.length;++U)Q.descriptionKeys[U]=String(G.descriptionKeys[U])}return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.idKeys=[],U.descriptionKeys=[];if(Q.defaults)U.schemaUrl="",U.type="";if(G.schemaUrl!=null&&G.hasOwnProperty("schemaUrl"))U.schemaUrl=G.schemaUrl;if(G.type!=null&&G.hasOwnProperty("type"))U.type=G.type;if(G.idKeys&&G.idKeys.length){U.idKeys=[];for(var z=0;z<G.idKeys.length;++z)U.idKeys[z]=G.idKeys[z]}if(G.descriptionKeys&&G.descriptionKeys.length){U.descriptionKeys=[];for(var z=0;z<G.descriptionKeys.length;++z)U.descriptionKeys[z]=G.descriptionKeys[z]}return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.common.v1.EntityRef"},W}(),Z}(),X}(),J.resource=function(){var X={};return X.v1=function(){var Z={};return Z.Resource=function(){function W($){if(this.attributes=[],this.entityRefs=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.attributes=T.emptyArray,W.prototype.droppedAttributesCount=null,W.prototype.entityRefs=T.emptyArray,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.attributes!=null&&G.attributes.length)for(var U=0;U<G.attributes.length;++U)E.opentelemetry.proto.common.v1.KeyValue.encode(G.attributes[U],Q.uint32(10).fork()).ldelim();if(G.droppedAttributesCount!=null&&Object.hasOwnProperty.call(G,"droppedAttributesCount"))Q.uint32(16).uint32(G.droppedAttributesCount);if(G.entityRefs!=null&&G.entityRefs.length)for(var U=0;U<G.entityRefs.length;++U)E.opentelemetry.proto.common.v1.EntityRef.encode(G.entityRefs[U],Q.uint32(26).fork()).ldelim();return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.resource.v1.Resource;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{if(!(H.attributes&&H.attributes.length))H.attributes=[];H.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(G,G.uint32()));break}case 2:{H.droppedAttributesCount=G.uint32();break}case 3:{if(!(H.entityRefs&&H.entityRefs.length))H.entityRefs=[];H.entityRefs.push(E.opentelemetry.proto.common.v1.EntityRef.decode(G,G.uint32()));break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.attributes!=null&&G.hasOwnProperty("attributes")){if(!Array.isArray(G.attributes))return"attributes: array expected";for(var Q=0;Q<G.attributes.length;++Q){var U=E.opentelemetry.proto.common.v1.KeyValue.verify(G.attributes[Q]);if(U)return"attributes."+U}}if(G.droppedAttributesCount!=null&&G.hasOwnProperty("droppedAttributesCount")){if(!T.isInteger(G.droppedAttributesCount))return"droppedAttributesCount: integer expected"}if(G.entityRefs!=null&&G.hasOwnProperty("entityRefs")){if(!Array.isArray(G.entityRefs))return"entityRefs: array expected";for(var Q=0;Q<G.entityRefs.length;++Q){var U=E.opentelemetry.proto.common.v1.EntityRef.verify(G.entityRefs[Q]);if(U)return"entityRefs."+U}}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.resource.v1.Resource)return G;var Q=new E.opentelemetry.proto.resource.v1.Resource;if(G.attributes){if(!Array.isArray(G.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");Q.attributes=[];for(var U=0;U<G.attributes.length;++U){if(typeof G.attributes[U]!=="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");Q.attributes[U]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(G.attributes[U])}}if(G.droppedAttributesCount!=null)Q.droppedAttributesCount=G.droppedAttributesCount>>>0;if(G.entityRefs){if(!Array.isArray(G.entityRefs))throw TypeError(".opentelemetry.proto.resource.v1.Resource.entityRefs: array expected");Q.entityRefs=[];for(var U=0;U<G.entityRefs.length;++U){if(typeof G.entityRefs[U]!=="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.entityRefs: object expected");Q.entityRefs[U]=E.opentelemetry.proto.common.v1.EntityRef.fromObject(G.entityRefs[U])}}return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.attributes=[],U.entityRefs=[];if(Q.defaults)U.droppedAttributesCount=0;if(G.attributes&&G.attributes.length){U.attributes=[];for(var z=0;z<G.attributes.length;++z)U.attributes[z]=E.opentelemetry.proto.common.v1.KeyValue.toObject(G.attributes[z],Q)}if(G.droppedAttributesCount!=null&&G.hasOwnProperty("droppedAttributesCount"))U.droppedAttributesCount=G.droppedAttributesCount;if(G.entityRefs&&G.entityRefs.length){U.entityRefs=[];for(var z=0;z<G.entityRefs.length;++z)U.entityRefs[z]=E.opentelemetry.proto.common.v1.EntityRef.toObject(G.entityRefs[z],Q)}return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.resource.v1.Resource"},W}(),Z}(),X}(),J.trace=function(){var X={};return X.v1=function(){var Z={};return Z.TracesData=function(){function W($){if(this.resourceSpans=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.resourceSpans=T.emptyArray,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.resourceSpans!=null&&G.resourceSpans.length)for(var U=0;U<G.resourceSpans.length;++U)E.opentelemetry.proto.trace.v1.ResourceSpans.encode(G.resourceSpans[U],Q.uint32(10).fork()).ldelim();return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.trace.v1.TracesData;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{if(!(H.resourceSpans&&H.resourceSpans.length))H.resourceSpans=[];H.resourceSpans.push(E.opentelemetry.proto.trace.v1.ResourceSpans.decode(G,G.uint32()));break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.resourceSpans!=null&&G.hasOwnProperty("resourceSpans")){if(!Array.isArray(G.resourceSpans))return"resourceSpans: array expected";for(var Q=0;Q<G.resourceSpans.length;++Q){var U=E.opentelemetry.proto.trace.v1.ResourceSpans.verify(G.resourceSpans[Q]);if(U)return"resourceSpans."+U}}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.trace.v1.TracesData)return G;var Q=new E.opentelemetry.proto.trace.v1.TracesData;if(G.resourceSpans){if(!Array.isArray(G.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");Q.resourceSpans=[];for(var U=0;U<G.resourceSpans.length;++U){if(typeof G.resourceSpans[U]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");Q.resourceSpans[U]=E.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(G.resourceSpans[U])}}return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.resourceSpans=[];if(G.resourceSpans&&G.resourceSpans.length){U.resourceSpans=[];for(var z=0;z<G.resourceSpans.length;++z)U.resourceSpans[z]=E.opentelemetry.proto.trace.v1.ResourceSpans.toObject(G.resourceSpans[z],Q)}return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.trace.v1.TracesData"},W}(),Z.ResourceSpans=function(){function W($){if(this.scopeSpans=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.resource=null,W.prototype.scopeSpans=T.emptyArray,W.prototype.schemaUrl=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.resource!=null&&Object.hasOwnProperty.call(G,"resource"))E.opentelemetry.proto.resource.v1.Resource.encode(G.resource,Q.uint32(10).fork()).ldelim();if(G.scopeSpans!=null&&G.scopeSpans.length)for(var U=0;U<G.scopeSpans.length;++U)E.opentelemetry.proto.trace.v1.ScopeSpans.encode(G.scopeSpans[U],Q.uint32(18).fork()).ldelim();if(G.schemaUrl!=null&&Object.hasOwnProperty.call(G,"schemaUrl"))Q.uint32(26).string(G.schemaUrl);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.trace.v1.ResourceSpans;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{H.resource=E.opentelemetry.proto.resource.v1.Resource.decode(G,G.uint32());break}case 2:{if(!(H.scopeSpans&&H.scopeSpans.length))H.scopeSpans=[];H.scopeSpans.push(E.opentelemetry.proto.trace.v1.ScopeSpans.decode(G,G.uint32()));break}case 3:{H.schemaUrl=G.string();break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.resource!=null&&G.hasOwnProperty("resource")){var Q=E.opentelemetry.proto.resource.v1.Resource.verify(G.resource);if(Q)return"resource."+Q}if(G.scopeSpans!=null&&G.hasOwnProperty("scopeSpans")){if(!Array.isArray(G.scopeSpans))return"scopeSpans: array expected";for(var U=0;U<G.scopeSpans.length;++U){var Q=E.opentelemetry.proto.trace.v1.ScopeSpans.verify(G.scopeSpans[U]);if(Q)return"scopeSpans."+Q}}if(G.schemaUrl!=null&&G.hasOwnProperty("schemaUrl")){if(!T.isString(G.schemaUrl))return"schemaUrl: string expected"}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.trace.v1.ResourceSpans)return G;var Q=new E.opentelemetry.proto.trace.v1.ResourceSpans;if(G.resource!=null){if(typeof G.resource!=="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");Q.resource=E.opentelemetry.proto.resource.v1.Resource.fromObject(G.resource)}if(G.scopeSpans){if(!Array.isArray(G.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");Q.scopeSpans=[];for(var U=0;U<G.scopeSpans.length;++U){if(typeof G.scopeSpans[U]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");Q.scopeSpans[U]=E.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(G.scopeSpans[U])}}if(G.schemaUrl!=null)Q.schemaUrl=String(G.schemaUrl);return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.scopeSpans=[];if(Q.defaults)U.resource=null,U.schemaUrl="";if(G.resource!=null&&G.hasOwnProperty("resource"))U.resource=E.opentelemetry.proto.resource.v1.Resource.toObject(G.resource,Q);if(G.scopeSpans&&G.scopeSpans.length){U.scopeSpans=[];for(var z=0;z<G.scopeSpans.length;++z)U.scopeSpans[z]=E.opentelemetry.proto.trace.v1.ScopeSpans.toObject(G.scopeSpans[z],Q)}if(G.schemaUrl!=null&&G.hasOwnProperty("schemaUrl"))U.schemaUrl=G.schemaUrl;return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.trace.v1.ResourceSpans"},W}(),Z.ScopeSpans=function(){function W($){if(this.spans=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.scope=null,W.prototype.spans=T.emptyArray,W.prototype.schemaUrl=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.scope!=null&&Object.hasOwnProperty.call(G,"scope"))E.opentelemetry.proto.common.v1.InstrumentationScope.encode(G.scope,Q.uint32(10).fork()).ldelim();if(G.spans!=null&&G.spans.length)for(var U=0;U<G.spans.length;++U)E.opentelemetry.proto.trace.v1.Span.encode(G.spans[U],Q.uint32(18).fork()).ldelim();if(G.schemaUrl!=null&&Object.hasOwnProperty.call(G,"schemaUrl"))Q.uint32(26).string(G.schemaUrl);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.trace.v1.ScopeSpans;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{H.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.decode(G,G.uint32());break}case 2:{if(!(H.spans&&H.spans.length))H.spans=[];H.spans.push(E.opentelemetry.proto.trace.v1.Span.decode(G,G.uint32()));break}case 3:{H.schemaUrl=G.string();break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.scope!=null&&G.hasOwnProperty("scope")){var Q=E.opentelemetry.proto.common.v1.InstrumentationScope.verify(G.scope);if(Q)return"scope."+Q}if(G.spans!=null&&G.hasOwnProperty("spans")){if(!Array.isArray(G.spans))return"spans: array expected";for(var U=0;U<G.spans.length;++U){var Q=E.opentelemetry.proto.trace.v1.Span.verify(G.spans[U]);if(Q)return"spans."+Q}}if(G.schemaUrl!=null&&G.hasOwnProperty("schemaUrl")){if(!T.isString(G.schemaUrl))return"schemaUrl: string expected"}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.trace.v1.ScopeSpans)return G;var Q=new E.opentelemetry.proto.trace.v1.ScopeSpans;if(G.scope!=null){if(typeof G.scope!=="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");Q.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(G.scope)}if(G.spans){if(!Array.isArray(G.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");Q.spans=[];for(var U=0;U<G.spans.length;++U){if(typeof G.spans[U]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");Q.spans[U]=E.opentelemetry.proto.trace.v1.Span.fromObject(G.spans[U])}}if(G.schemaUrl!=null)Q.schemaUrl=String(G.schemaUrl);return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.spans=[];if(Q.defaults)U.scope=null,U.schemaUrl="";if(G.scope!=null&&G.hasOwnProperty("scope"))U.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.toObject(G.scope,Q);if(G.spans&&G.spans.length){U.spans=[];for(var z=0;z<G.spans.length;++z)U.spans[z]=E.opentelemetry.proto.trace.v1.Span.toObject(G.spans[z],Q)}if(G.schemaUrl!=null&&G.hasOwnProperty("schemaUrl"))U.schemaUrl=G.schemaUrl;return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.trace.v1.ScopeSpans"},W}(),Z.Span=function(){function W($){if(this.attributes=[],this.events=[],this.links=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.traceId=null,W.prototype.spanId=null,W.prototype.traceState=null,W.prototype.parentSpanId=null,W.prototype.flags=null,W.prototype.name=null,W.prototype.kind=null,W.prototype.startTimeUnixNano=null,W.prototype.endTimeUnixNano=null,W.prototype.attributes=T.emptyArray,W.prototype.droppedAttributesCount=null,W.prototype.events=T.emptyArray,W.prototype.droppedEventsCount=null,W.prototype.links=T.emptyArray,W.prototype.droppedLinksCount=null,W.prototype.status=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.traceId!=null&&Object.hasOwnProperty.call(G,"traceId"))Q.uint32(10).bytes(G.traceId);if(G.spanId!=null&&Object.hasOwnProperty.call(G,"spanId"))Q.uint32(18).bytes(G.spanId);if(G.traceState!=null&&Object.hasOwnProperty.call(G,"traceState"))Q.uint32(26).string(G.traceState);if(G.parentSpanId!=null&&Object.hasOwnProperty.call(G,"parentSpanId"))Q.uint32(34).bytes(G.parentSpanId);if(G.name!=null&&Object.hasOwnProperty.call(G,"name"))Q.uint32(42).string(G.name);if(G.kind!=null&&Object.hasOwnProperty.call(G,"kind"))Q.uint32(48).int32(G.kind);if(G.startTimeUnixNano!=null&&Object.hasOwnProperty.call(G,"startTimeUnixNano"))Q.uint32(57).fixed64(G.startTimeUnixNano);if(G.endTimeUnixNano!=null&&Object.hasOwnProperty.call(G,"endTimeUnixNano"))Q.uint32(65).fixed64(G.endTimeUnixNano);if(G.attributes!=null&&G.attributes.length)for(var U=0;U<G.attributes.length;++U)E.opentelemetry.proto.common.v1.KeyValue.encode(G.attributes[U],Q.uint32(74).fork()).ldelim();if(G.droppedAttributesCount!=null&&Object.hasOwnProperty.call(G,"droppedAttributesCount"))Q.uint32(80).uint32(G.droppedAttributesCount);if(G.events!=null&&G.events.length)for(var U=0;U<G.events.length;++U)E.opentelemetry.proto.trace.v1.Span.Event.encode(G.events[U],Q.uint32(90).fork()).ldelim();if(G.droppedEventsCount!=null&&Object.hasOwnProperty.call(G,"droppedEventsCount"))Q.uint32(96).uint32(G.droppedEventsCount);if(G.links!=null&&G.links.length)for(var U=0;U<G.links.length;++U)E.opentelemetry.proto.trace.v1.Span.Link.encode(G.links[U],Q.uint32(106).fork()).ldelim();if(G.droppedLinksCount!=null&&Object.hasOwnProperty.call(G,"droppedLinksCount"))Q.uint32(112).uint32(G.droppedLinksCount);if(G.status!=null&&Object.hasOwnProperty.call(G,"status"))E.opentelemetry.proto.trace.v1.Status.encode(G.status,Q.uint32(122).fork()).ldelim();if(G.flags!=null&&Object.hasOwnProperty.call(G,"flags"))Q.uint32(133).fixed32(G.flags);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.trace.v1.Span;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{H.traceId=G.bytes();break}case 2:{H.spanId=G.bytes();break}case 3:{H.traceState=G.string();break}case 4:{H.parentSpanId=G.bytes();break}case 16:{H.flags=G.fixed32();break}case 5:{H.name=G.string();break}case 6:{H.kind=G.int32();break}case 7:{H.startTimeUnixNano=G.fixed64();break}case 8:{H.endTimeUnixNano=G.fixed64();break}case 9:{if(!(H.attributes&&H.attributes.length))H.attributes=[];H.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(G,G.uint32()));break}case 10:{H.droppedAttributesCount=G.uint32();break}case 11:{if(!(H.events&&H.events.length))H.events=[];H.events.push(E.opentelemetry.proto.trace.v1.Span.Event.decode(G,G.uint32()));break}case 12:{H.droppedEventsCount=G.uint32();break}case 13:{if(!(H.links&&H.links.length))H.links=[];H.links.push(E.opentelemetry.proto.trace.v1.Span.Link.decode(G,G.uint32()));break}case 14:{H.droppedLinksCount=G.uint32();break}case 15:{H.status=E.opentelemetry.proto.trace.v1.Status.decode(G,G.uint32());break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.traceId!=null&&G.hasOwnProperty("traceId")){if(!(G.traceId&&typeof G.traceId.length==="number"||T.isString(G.traceId)))return"traceId: buffer expected"}if(G.spanId!=null&&G.hasOwnProperty("spanId")){if(!(G.spanId&&typeof G.spanId.length==="number"||T.isString(G.spanId)))return"spanId: buffer expected"}if(G.traceState!=null&&G.hasOwnProperty("traceState")){if(!T.isString(G.traceState))return"traceState: string expected"}if(G.parentSpanId!=null&&G.hasOwnProperty("parentSpanId")){if(!(G.parentSpanId&&typeof G.parentSpanId.length==="number"||T.isString(G.parentSpanId)))return"parentSpanId: buffer expected"}if(G.flags!=null&&G.hasOwnProperty("flags")){if(!T.isInteger(G.flags))return"flags: integer expected"}if(G.name!=null&&G.hasOwnProperty("name")){if(!T.isString(G.name))return"name: string expected"}if(G.kind!=null&&G.hasOwnProperty("kind"))switch(G.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(G.startTimeUnixNano!=null&&G.hasOwnProperty("startTimeUnixNano")){if(!T.isInteger(G.startTimeUnixNano)&&!(G.startTimeUnixNano&&T.isInteger(G.startTimeUnixNano.low)&&T.isInteger(G.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected"}if(G.endTimeUnixNano!=null&&G.hasOwnProperty("endTimeUnixNano")){if(!T.isInteger(G.endTimeUnixNano)&&!(G.endTimeUnixNano&&T.isInteger(G.endTimeUnixNano.low)&&T.isInteger(G.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected"}if(G.attributes!=null&&G.hasOwnProperty("attributes")){if(!Array.isArray(G.attributes))return"attributes: array expected";for(var Q=0;Q<G.attributes.length;++Q){var U=E.opentelemetry.proto.common.v1.KeyValue.verify(G.attributes[Q]);if(U)return"attributes."+U}}if(G.droppedAttributesCount!=null&&G.hasOwnProperty("droppedAttributesCount")){if(!T.isInteger(G.droppedAttributesCount))return"droppedAttributesCount: integer expected"}if(G.events!=null&&G.hasOwnProperty("events")){if(!Array.isArray(G.events))return"events: array expected";for(var Q=0;Q<G.events.length;++Q){var U=E.opentelemetry.proto.trace.v1.Span.Event.verify(G.events[Q]);if(U)return"events."+U}}if(G.droppedEventsCount!=null&&G.hasOwnProperty("droppedEventsCount")){if(!T.isInteger(G.droppedEventsCount))return"droppedEventsCount: integer expected"}if(G.links!=null&&G.hasOwnProperty("links")){if(!Array.isArray(G.links))return"links: array expected";for(var Q=0;Q<G.links.length;++Q){var U=E.opentelemetry.proto.trace.v1.Span.Link.verify(G.links[Q]);if(U)return"links."+U}}if(G.droppedLinksCount!=null&&G.hasOwnProperty("droppedLinksCount")){if(!T.isInteger(G.droppedLinksCount))return"droppedLinksCount: integer expected"}if(G.status!=null&&G.hasOwnProperty("status")){var U=E.opentelemetry.proto.trace.v1.Status.verify(G.status);if(U)return"status."+U}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.trace.v1.Span)return G;var Q=new E.opentelemetry.proto.trace.v1.Span;if(G.traceId!=null){if(typeof G.traceId==="string")T.base64.decode(G.traceId,Q.traceId=T.newBuffer(T.base64.length(G.traceId)),0);else if(G.traceId.length>=0)Q.traceId=G.traceId}if(G.spanId!=null){if(typeof G.spanId==="string")T.base64.decode(G.spanId,Q.spanId=T.newBuffer(T.base64.length(G.spanId)),0);else if(G.spanId.length>=0)Q.spanId=G.spanId}if(G.traceState!=null)Q.traceState=String(G.traceState);if(G.parentSpanId!=null){if(typeof G.parentSpanId==="string")T.base64.decode(G.parentSpanId,Q.parentSpanId=T.newBuffer(T.base64.length(G.parentSpanId)),0);else if(G.parentSpanId.length>=0)Q.parentSpanId=G.parentSpanId}if(G.flags!=null)Q.flags=G.flags>>>0;if(G.name!=null)Q.name=String(G.name);switch(G.kind){default:if(typeof G.kind==="number"){Q.kind=G.kind;break}break;case"SPAN_KIND_UNSPECIFIED":case 0:Q.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:Q.kind=1;break;case"SPAN_KIND_SERVER":case 2:Q.kind=2;break;case"SPAN_KIND_CLIENT":case 3:Q.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:Q.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:Q.kind=5;break}if(G.startTimeUnixNano!=null){if(T.Long)(Q.startTimeUnixNano=T.Long.fromValue(G.startTimeUnixNano)).unsigned=!1;else if(typeof G.startTimeUnixNano==="string")Q.startTimeUnixNano=parseInt(G.startTimeUnixNano,10);else if(typeof G.startTimeUnixNano==="number")Q.startTimeUnixNano=G.startTimeUnixNano;else if(typeof G.startTimeUnixNano==="object")Q.startTimeUnixNano=new T.LongBits(G.startTimeUnixNano.low>>>0,G.startTimeUnixNano.high>>>0).toNumber()}if(G.endTimeUnixNano!=null){if(T.Long)(Q.endTimeUnixNano=T.Long.fromValue(G.endTimeUnixNano)).unsigned=!1;else if(typeof G.endTimeUnixNano==="string")Q.endTimeUnixNano=parseInt(G.endTimeUnixNano,10);else if(typeof G.endTimeUnixNano==="number")Q.endTimeUnixNano=G.endTimeUnixNano;else if(typeof G.endTimeUnixNano==="object")Q.endTimeUnixNano=new T.LongBits(G.endTimeUnixNano.low>>>0,G.endTimeUnixNano.high>>>0).toNumber()}if(G.attributes){if(!Array.isArray(G.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");Q.attributes=[];for(var U=0;U<G.attributes.length;++U){if(typeof G.attributes[U]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");Q.attributes[U]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(G.attributes[U])}}if(G.droppedAttributesCount!=null)Q.droppedAttributesCount=G.droppedAttributesCount>>>0;if(G.events){if(!Array.isArray(G.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");Q.events=[];for(var U=0;U<G.events.length;++U){if(typeof G.events[U]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");Q.events[U]=E.opentelemetry.proto.trace.v1.Span.Event.fromObject(G.events[U])}}if(G.droppedEventsCount!=null)Q.droppedEventsCount=G.droppedEventsCount>>>0;if(G.links){if(!Array.isArray(G.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");Q.links=[];for(var U=0;U<G.links.length;++U){if(typeof G.links[U]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");Q.links[U]=E.opentelemetry.proto.trace.v1.Span.Link.fromObject(G.links[U])}}if(G.droppedLinksCount!=null)Q.droppedLinksCount=G.droppedLinksCount>>>0;if(G.status!=null){if(typeof G.status!=="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");Q.status=E.opentelemetry.proto.trace.v1.Status.fromObject(G.status)}return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.attributes=[],U.events=[],U.links=[];if(Q.defaults){if(Q.bytes===String)U.traceId="";else if(U.traceId=[],Q.bytes!==Array)U.traceId=T.newBuffer(U.traceId);if(Q.bytes===String)U.spanId="";else if(U.spanId=[],Q.bytes!==Array)U.spanId=T.newBuffer(U.spanId);if(U.traceState="",Q.bytes===String)U.parentSpanId="";else if(U.parentSpanId=[],Q.bytes!==Array)U.parentSpanId=T.newBuffer(U.parentSpanId);if(U.name="",U.kind=Q.enums===String?"SPAN_KIND_UNSPECIFIED":0,T.Long){var z=new T.Long(0,0,!1);U.startTimeUnixNano=Q.longs===String?z.toString():Q.longs===Number?z.toNumber():z}else U.startTimeUnixNano=Q.longs===String?"0":0;if(T.Long){var z=new T.Long(0,0,!1);U.endTimeUnixNano=Q.longs===String?z.toString():Q.longs===Number?z.toNumber():z}else U.endTimeUnixNano=Q.longs===String?"0":0;U.droppedAttributesCount=0,U.droppedEventsCount=0,U.droppedLinksCount=0,U.status=null,U.flags=0}if(G.traceId!=null&&G.hasOwnProperty("traceId"))U.traceId=Q.bytes===String?T.base64.encode(G.traceId,0,G.traceId.length):Q.bytes===Array?Array.prototype.slice.call(G.traceId):G.traceId;if(G.spanId!=null&&G.hasOwnProperty("spanId"))U.spanId=Q.bytes===String?T.base64.encode(G.spanId,0,G.spanId.length):Q.bytes===Array?Array.prototype.slice.call(G.spanId):G.spanId;if(G.traceState!=null&&G.hasOwnProperty("traceState"))U.traceState=G.traceState;if(G.parentSpanId!=null&&G.hasOwnProperty("parentSpanId"))U.parentSpanId=Q.bytes===String?T.base64.encode(G.parentSpanId,0,G.parentSpanId.length):Q.bytes===Array?Array.prototype.slice.call(G.parentSpanId):G.parentSpanId;if(G.name!=null&&G.hasOwnProperty("name"))U.name=G.name;if(G.kind!=null&&G.hasOwnProperty("kind"))U.kind=Q.enums===String?E.opentelemetry.proto.trace.v1.Span.SpanKind[G.kind]===void 0?G.kind:E.opentelemetry.proto.trace.v1.Span.SpanKind[G.kind]:G.kind;if(G.startTimeUnixNano!=null&&G.hasOwnProperty("startTimeUnixNano"))if(typeof G.startTimeUnixNano==="number")U.startTimeUnixNano=Q.longs===String?String(G.startTimeUnixNano):G.startTimeUnixNano;else U.startTimeUnixNano=Q.longs===String?T.Long.prototype.toString.call(G.startTimeUnixNano):Q.longs===Number?new T.LongBits(G.startTimeUnixNano.low>>>0,G.startTimeUnixNano.high>>>0).toNumber():G.startTimeUnixNano;if(G.endTimeUnixNano!=null&&G.hasOwnProperty("endTimeUnixNano"))if(typeof G.endTimeUnixNano==="number")U.endTimeUnixNano=Q.longs===String?String(G.endTimeUnixNano):G.endTimeUnixNano;else U.endTimeUnixNano=Q.longs===String?T.Long.prototype.toString.call(G.endTimeUnixNano):Q.longs===Number?new T.LongBits(G.endTimeUnixNano.low>>>0,G.endTimeUnixNano.high>>>0).toNumber():G.endTimeUnixNano;if(G.attributes&&G.attributes.length){U.attributes=[];for(var H=0;H<G.attributes.length;++H)U.attributes[H]=E.opentelemetry.proto.common.v1.KeyValue.toObject(G.attributes[H],Q)}if(G.droppedAttributesCount!=null&&G.hasOwnProperty("droppedAttributesCount"))U.droppedAttributesCount=G.droppedAttributesCount;if(G.events&&G.events.length){U.events=[];for(var H=0;H<G.events.length;++H)U.events[H]=E.opentelemetry.proto.trace.v1.Span.Event.toObject(G.events[H],Q)}if(G.droppedEventsCount!=null&&G.hasOwnProperty("droppedEventsCount"))U.droppedEventsCount=G.droppedEventsCount;if(G.links&&G.links.length){U.links=[];for(var H=0;H<G.links.length;++H)U.links[H]=E.opentelemetry.proto.trace.v1.Span.Link.toObject(G.links[H],Q)}if(G.droppedLinksCount!=null&&G.hasOwnProperty("droppedLinksCount"))U.droppedLinksCount=G.droppedLinksCount;if(G.status!=null&&G.hasOwnProperty("status"))U.status=E.opentelemetry.proto.trace.v1.Status.toObject(G.status,Q);if(G.flags!=null&&G.hasOwnProperty("flags"))U.flags=G.flags;return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.trace.v1.Span"},W.SpanKind=function(){var $={},G=Object.create($);return G[$[0]="SPAN_KIND_UNSPECIFIED"]=0,G[$[1]="SPAN_KIND_INTERNAL"]=1,G[$[2]="SPAN_KIND_SERVER"]=2,G[$[3]="SPAN_KIND_CLIENT"]=3,G[$[4]="SPAN_KIND_PRODUCER"]=4,G[$[5]="SPAN_KIND_CONSUMER"]=5,G}(),W.Event=function(){function $(G){if(this.attributes=[],G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}return $.prototype.timeUnixNano=null,$.prototype.name=null,$.prototype.attributes=T.emptyArray,$.prototype.droppedAttributesCount=null,$.create=function(Q){return new $(Q)},$.encode=function(Q,U){if(!U)U=P0.create();if(Q.timeUnixNano!=null&&Object.hasOwnProperty.call(Q,"timeUnixNano"))U.uint32(9).fixed64(Q.timeUnixNano);if(Q.name!=null&&Object.hasOwnProperty.call(Q,"name"))U.uint32(18).string(Q.name);if(Q.attributes!=null&&Q.attributes.length)for(var z=0;z<Q.attributes.length;++z)E.opentelemetry.proto.common.v1.KeyValue.encode(Q.attributes[z],U.uint32(26).fork()).ldelim();if(Q.droppedAttributesCount!=null&&Object.hasOwnProperty.call(Q,"droppedAttributesCount"))U.uint32(32).uint32(Q.droppedAttributesCount);return U},$.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},$.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.trace.v1.Span.Event;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{O.timeUnixNano=Q.fixed64();break}case 2:{O.name=Q.string();break}case 3:{if(!(O.attributes&&O.attributes.length))O.attributes=[];O.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(Q,Q.uint32()));break}case 4:{O.droppedAttributesCount=Q.uint32();break}default:Q.skipType(K&7);break}}return O},$.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},$.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano")){if(!T.isInteger(Q.timeUnixNano)&&!(Q.timeUnixNano&&T.isInteger(Q.timeUnixNano.low)&&T.isInteger(Q.timeUnixNano.high)))return"timeUnixNano: integer|Long expected"}if(Q.name!=null&&Q.hasOwnProperty("name")){if(!T.isString(Q.name))return"name: string expected"}if(Q.attributes!=null&&Q.hasOwnProperty("attributes")){if(!Array.isArray(Q.attributes))return"attributes: array expected";for(var U=0;U<Q.attributes.length;++U){var z=E.opentelemetry.proto.common.v1.KeyValue.verify(Q.attributes[U]);if(z)return"attributes."+z}}if(Q.droppedAttributesCount!=null&&Q.hasOwnProperty("droppedAttributesCount")){if(!T.isInteger(Q.droppedAttributesCount))return"droppedAttributesCount: integer expected"}return null},$.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.trace.v1.Span.Event)return Q;var U=new E.opentelemetry.proto.trace.v1.Span.Event;if(Q.timeUnixNano!=null){if(T.Long)(U.timeUnixNano=T.Long.fromValue(Q.timeUnixNano)).unsigned=!1;else if(typeof Q.timeUnixNano==="string")U.timeUnixNano=parseInt(Q.timeUnixNano,10);else if(typeof Q.timeUnixNano==="number")U.timeUnixNano=Q.timeUnixNano;else if(typeof Q.timeUnixNano==="object")U.timeUnixNano=new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber()}if(Q.name!=null)U.name=String(Q.name);if(Q.attributes){if(!Array.isArray(Q.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");U.attributes=[];for(var z=0;z<Q.attributes.length;++z){if(typeof Q.attributes[z]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");U.attributes[z]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(Q.attributes[z])}}if(Q.droppedAttributesCount!=null)U.droppedAttributesCount=Q.droppedAttributesCount>>>0;return U},$.toObject=function(Q,U){if(!U)U={};var z={};if(U.arrays||U.defaults)z.attributes=[];if(U.defaults){if(T.Long){var H=new T.Long(0,0,!1);z.timeUnixNano=U.longs===String?H.toString():U.longs===Number?H.toNumber():H}else z.timeUnixNano=U.longs===String?"0":0;z.name="",z.droppedAttributesCount=0}if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano"))if(typeof Q.timeUnixNano==="number")z.timeUnixNano=U.longs===String?String(Q.timeUnixNano):Q.timeUnixNano;else z.timeUnixNano=U.longs===String?T.Long.prototype.toString.call(Q.timeUnixNano):U.longs===Number?new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber():Q.timeUnixNano;if(Q.name!=null&&Q.hasOwnProperty("name"))z.name=Q.name;if(Q.attributes&&Q.attributes.length){z.attributes=[];for(var O=0;O<Q.attributes.length;++O)z.attributes[O]=E.opentelemetry.proto.common.v1.KeyValue.toObject(Q.attributes[O],U)}if(Q.droppedAttributesCount!=null&&Q.hasOwnProperty("droppedAttributesCount"))z.droppedAttributesCount=Q.droppedAttributesCount;return z},$.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},$.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.trace.v1.Span.Event"},$}(),W.Link=function(){function $(G){if(this.attributes=[],G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}return $.prototype.traceId=null,$.prototype.spanId=null,$.prototype.traceState=null,$.prototype.attributes=T.emptyArray,$.prototype.droppedAttributesCount=null,$.prototype.flags=null,$.create=function(Q){return new $(Q)},$.encode=function(Q,U){if(!U)U=P0.create();if(Q.traceId!=null&&Object.hasOwnProperty.call(Q,"traceId"))U.uint32(10).bytes(Q.traceId);if(Q.spanId!=null&&Object.hasOwnProperty.call(Q,"spanId"))U.uint32(18).bytes(Q.spanId);if(Q.traceState!=null&&Object.hasOwnProperty.call(Q,"traceState"))U.uint32(26).string(Q.traceState);if(Q.attributes!=null&&Q.attributes.length)for(var z=0;z<Q.attributes.length;++z)E.opentelemetry.proto.common.v1.KeyValue.encode(Q.attributes[z],U.uint32(34).fork()).ldelim();if(Q.droppedAttributesCount!=null&&Object.hasOwnProperty.call(Q,"droppedAttributesCount"))U.uint32(40).uint32(Q.droppedAttributesCount);if(Q.flags!=null&&Object.hasOwnProperty.call(Q,"flags"))U.uint32(53).fixed32(Q.flags);return U},$.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},$.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.trace.v1.Span.Link;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{O.traceId=Q.bytes();break}case 2:{O.spanId=Q.bytes();break}case 3:{O.traceState=Q.string();break}case 4:{if(!(O.attributes&&O.attributes.length))O.attributes=[];O.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(Q,Q.uint32()));break}case 5:{O.droppedAttributesCount=Q.uint32();break}case 6:{O.flags=Q.fixed32();break}default:Q.skipType(K&7);break}}return O},$.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},$.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.traceId!=null&&Q.hasOwnProperty("traceId")){if(!(Q.traceId&&typeof Q.traceId.length==="number"||T.isString(Q.traceId)))return"traceId: buffer expected"}if(Q.spanId!=null&&Q.hasOwnProperty("spanId")){if(!(Q.spanId&&typeof Q.spanId.length==="number"||T.isString(Q.spanId)))return"spanId: buffer expected"}if(Q.traceState!=null&&Q.hasOwnProperty("traceState")){if(!T.isString(Q.traceState))return"traceState: string expected"}if(Q.attributes!=null&&Q.hasOwnProperty("attributes")){if(!Array.isArray(Q.attributes))return"attributes: array expected";for(var U=0;U<Q.attributes.length;++U){var z=E.opentelemetry.proto.common.v1.KeyValue.verify(Q.attributes[U]);if(z)return"attributes."+z}}if(Q.droppedAttributesCount!=null&&Q.hasOwnProperty("droppedAttributesCount")){if(!T.isInteger(Q.droppedAttributesCount))return"droppedAttributesCount: integer expected"}if(Q.flags!=null&&Q.hasOwnProperty("flags")){if(!T.isInteger(Q.flags))return"flags: integer expected"}return null},$.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.trace.v1.Span.Link)return Q;var U=new E.opentelemetry.proto.trace.v1.Span.Link;if(Q.traceId!=null){if(typeof Q.traceId==="string")T.base64.decode(Q.traceId,U.traceId=T.newBuffer(T.base64.length(Q.traceId)),0);else if(Q.traceId.length>=0)U.traceId=Q.traceId}if(Q.spanId!=null){if(typeof Q.spanId==="string")T.base64.decode(Q.spanId,U.spanId=T.newBuffer(T.base64.length(Q.spanId)),0);else if(Q.spanId.length>=0)U.spanId=Q.spanId}if(Q.traceState!=null)U.traceState=String(Q.traceState);if(Q.attributes){if(!Array.isArray(Q.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");U.attributes=[];for(var z=0;z<Q.attributes.length;++z){if(typeof Q.attributes[z]!=="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");U.attributes[z]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(Q.attributes[z])}}if(Q.droppedAttributesCount!=null)U.droppedAttributesCount=Q.droppedAttributesCount>>>0;if(Q.flags!=null)U.flags=Q.flags>>>0;return U},$.toObject=function(Q,U){if(!U)U={};var z={};if(U.arrays||U.defaults)z.attributes=[];if(U.defaults){if(U.bytes===String)z.traceId="";else if(z.traceId=[],U.bytes!==Array)z.traceId=T.newBuffer(z.traceId);if(U.bytes===String)z.spanId="";else if(z.spanId=[],U.bytes!==Array)z.spanId=T.newBuffer(z.spanId);z.traceState="",z.droppedAttributesCount=0,z.flags=0}if(Q.traceId!=null&&Q.hasOwnProperty("traceId"))z.traceId=U.bytes===String?T.base64.encode(Q.traceId,0,Q.traceId.length):U.bytes===Array?Array.prototype.slice.call(Q.traceId):Q.traceId;if(Q.spanId!=null&&Q.hasOwnProperty("spanId"))z.spanId=U.bytes===String?T.base64.encode(Q.spanId,0,Q.spanId.length):U.bytes===Array?Array.prototype.slice.call(Q.spanId):Q.spanId;if(Q.traceState!=null&&Q.hasOwnProperty("traceState"))z.traceState=Q.traceState;if(Q.attributes&&Q.attributes.length){z.attributes=[];for(var H=0;H<Q.attributes.length;++H)z.attributes[H]=E.opentelemetry.proto.common.v1.KeyValue.toObject(Q.attributes[H],U)}if(Q.droppedAttributesCount!=null&&Q.hasOwnProperty("droppedAttributesCount"))z.droppedAttributesCount=Q.droppedAttributesCount;if(Q.flags!=null&&Q.hasOwnProperty("flags"))z.flags=Q.flags;return z},$.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},$.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.trace.v1.Span.Link"},$}(),W}(),Z.Status=function(){function W($){if($){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.message=null,W.prototype.code=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.message!=null&&Object.hasOwnProperty.call(G,"message"))Q.uint32(18).string(G.message);if(G.code!=null&&Object.hasOwnProperty.call(G,"code"))Q.uint32(24).int32(G.code);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.trace.v1.Status;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 2:{H.message=G.string();break}case 3:{H.code=G.int32();break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.message!=null&&G.hasOwnProperty("message")){if(!T.isString(G.message))return"message: string expected"}if(G.code!=null&&G.hasOwnProperty("code"))switch(G.code){default:return"code: enum value expected";case 0:case 1:case 2:break}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.trace.v1.Status)return G;var Q=new E.opentelemetry.proto.trace.v1.Status;if(G.message!=null)Q.message=String(G.message);switch(G.code){default:if(typeof G.code==="number"){Q.code=G.code;break}break;case"STATUS_CODE_UNSET":case 0:Q.code=0;break;case"STATUS_CODE_OK":case 1:Q.code=1;break;case"STATUS_CODE_ERROR":case 2:Q.code=2;break}return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.defaults)U.message="",U.code=Q.enums===String?"STATUS_CODE_UNSET":0;if(G.message!=null&&G.hasOwnProperty("message"))U.message=G.message;if(G.code!=null&&G.hasOwnProperty("code"))U.code=Q.enums===String?E.opentelemetry.proto.trace.v1.Status.StatusCode[G.code]===void 0?G.code:E.opentelemetry.proto.trace.v1.Status.StatusCode[G.code]:G.code;return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.trace.v1.Status"},W.StatusCode=function(){var $={},G=Object.create($);return G[$[0]="STATUS_CODE_UNSET"]=0,G[$[1]="STATUS_CODE_OK"]=1,G[$[2]="STATUS_CODE_ERROR"]=2,G}(),W}(),Z.SpanFlags=function(){var W={},$=Object.create(W);return $[W[0]="SPAN_FLAGS_DO_NOT_USE"]=0,$[W[255]="SPAN_FLAGS_TRACE_FLAGS_MASK"]=255,$[W[256]="SPAN_FLAGS_CONTEXT_HAS_IS_REMOTE_MASK"]=256,$[W[512]="SPAN_FLAGS_CONTEXT_IS_REMOTE_MASK"]=512,$}(),Z}(),X}(),J.collector=function(){var X={};return X.trace=function(){var Z={};return Z.v1=function(){var W={};return W.TraceService=function(){function $(G,Q,U){G0.rpc.Service.call(this,G,Q,U)}return($.prototype=Object.create(G0.rpc.Service.prototype)).constructor=$,$.create=function(Q,U,z){return new this(Q,U,z)},Object.defineProperty($.prototype.export=function G(Q,U){return this.rpcCall(G,E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,Q,U)},"name",{value:"Export"}),$}(),W.ExportTraceServiceRequest=function(){function $(G){if(this.resourceSpans=[],G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}return $.prototype.resourceSpans=T.emptyArray,$.create=function(Q){return new $(Q)},$.encode=function(Q,U){if(!U)U=P0.create();if(Q.resourceSpans!=null&&Q.resourceSpans.length)for(var z=0;z<Q.resourceSpans.length;++z)E.opentelemetry.proto.trace.v1.ResourceSpans.encode(Q.resourceSpans[z],U.uint32(10).fork()).ldelim();return U},$.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},$.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{if(!(O.resourceSpans&&O.resourceSpans.length))O.resourceSpans=[];O.resourceSpans.push(E.opentelemetry.proto.trace.v1.ResourceSpans.decode(Q,Q.uint32()));break}default:Q.skipType(K&7);break}}return O},$.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},$.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.resourceSpans!=null&&Q.hasOwnProperty("resourceSpans")){if(!Array.isArray(Q.resourceSpans))return"resourceSpans: array expected";for(var U=0;U<Q.resourceSpans.length;++U){var z=E.opentelemetry.proto.trace.v1.ResourceSpans.verify(Q.resourceSpans[U]);if(z)return"resourceSpans."+z}}return null},$.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return Q;var U=new E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(Q.resourceSpans){if(!Array.isArray(Q.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");U.resourceSpans=[];for(var z=0;z<Q.resourceSpans.length;++z){if(typeof Q.resourceSpans[z]!=="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");U.resourceSpans[z]=E.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(Q.resourceSpans[z])}}return U},$.toObject=function(Q,U){if(!U)U={};var z={};if(U.arrays||U.defaults)z.resourceSpans=[];if(Q.resourceSpans&&Q.resourceSpans.length){z.resourceSpans=[];for(var H=0;H<Q.resourceSpans.length;++H)z.resourceSpans[H]=E.opentelemetry.proto.trace.v1.ResourceSpans.toObject(Q.resourceSpans[H],U)}return z},$.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},$.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},$}(),W.ExportTraceServiceResponse=function(){function $(G){if(G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}return $.prototype.partialSuccess=null,$.create=function(Q){return new $(Q)},$.encode=function(Q,U){if(!U)U=P0.create();if(Q.partialSuccess!=null&&Object.hasOwnProperty.call(Q,"partialSuccess"))E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(Q.partialSuccess,U.uint32(10).fork()).ldelim();return U},$.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},$.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{O.partialSuccess=E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(Q,Q.uint32());break}default:Q.skipType(K&7);break}}return O},$.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},$.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.partialSuccess!=null&&Q.hasOwnProperty("partialSuccess")){var U=E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(Q.partialSuccess);if(U)return"partialSuccess."+U}return null},$.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return Q;var U=new E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(Q.partialSuccess!=null){if(typeof Q.partialSuccess!=="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");U.partialSuccess=E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(Q.partialSuccess)}return U},$.toObject=function(Q,U){if(!U)U={};var z={};if(U.defaults)z.partialSuccess=null;if(Q.partialSuccess!=null&&Q.hasOwnProperty("partialSuccess"))z.partialSuccess=E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(Q.partialSuccess,U);return z},$.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},$.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},$}(),W.ExportTracePartialSuccess=function(){function $(G){if(G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}return $.prototype.rejectedSpans=null,$.prototype.errorMessage=null,$.create=function(Q){return new $(Q)},$.encode=function(Q,U){if(!U)U=P0.create();if(Q.rejectedSpans!=null&&Object.hasOwnProperty.call(Q,"rejectedSpans"))U.uint32(8).int64(Q.rejectedSpans);if(Q.errorMessage!=null&&Object.hasOwnProperty.call(Q,"errorMessage"))U.uint32(18).string(Q.errorMessage);return U},$.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},$.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{O.rejectedSpans=Q.int64();break}case 2:{O.errorMessage=Q.string();break}default:Q.skipType(K&7);break}}return O},$.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},$.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.rejectedSpans!=null&&Q.hasOwnProperty("rejectedSpans")){if(!T.isInteger(Q.rejectedSpans)&&!(Q.rejectedSpans&&T.isInteger(Q.rejectedSpans.low)&&T.isInteger(Q.rejectedSpans.high)))return"rejectedSpans: integer|Long expected"}if(Q.errorMessage!=null&&Q.hasOwnProperty("errorMessage")){if(!T.isString(Q.errorMessage))return"errorMessage: string expected"}return null},$.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return Q;var U=new E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;if(Q.rejectedSpans!=null){if(T.Long)(U.rejectedSpans=T.Long.fromValue(Q.rejectedSpans)).unsigned=!1;else if(typeof Q.rejectedSpans==="string")U.rejectedSpans=parseInt(Q.rejectedSpans,10);else if(typeof Q.rejectedSpans==="number")U.rejectedSpans=Q.rejectedSpans;else if(typeof Q.rejectedSpans==="object")U.rejectedSpans=new T.LongBits(Q.rejectedSpans.low>>>0,Q.rejectedSpans.high>>>0).toNumber()}if(Q.errorMessage!=null)U.errorMessage=String(Q.errorMessage);return U},$.toObject=function(Q,U){if(!U)U={};var z={};if(U.defaults){if(T.Long){var H=new T.Long(0,0,!1);z.rejectedSpans=U.longs===String?H.toString():U.longs===Number?H.toNumber():H}else z.rejectedSpans=U.longs===String?"0":0;z.errorMessage=""}if(Q.rejectedSpans!=null&&Q.hasOwnProperty("rejectedSpans"))if(typeof Q.rejectedSpans==="number")z.rejectedSpans=U.longs===String?String(Q.rejectedSpans):Q.rejectedSpans;else z.rejectedSpans=U.longs===String?T.Long.prototype.toString.call(Q.rejectedSpans):U.longs===Number?new T.LongBits(Q.rejectedSpans.low>>>0,Q.rejectedSpans.high>>>0).toNumber():Q.rejectedSpans;if(Q.errorMessage!=null&&Q.hasOwnProperty("errorMessage"))z.errorMessage=Q.errorMessage;return z},$.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},$.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},$}(),W}(),Z}(),X.metrics=function(){var Z={};return Z.v1=function(){var W={};return W.MetricsService=function(){function $(G,Q,U){G0.rpc.Service.call(this,G,Q,U)}return($.prototype=Object.create(G0.rpc.Service.prototype)).constructor=$,$.create=function(Q,U,z){return new this(Q,U,z)},Object.defineProperty($.prototype.export=function G(Q,U){return this.rpcCall(G,E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,Q,U)},"name",{value:"Export"}),$}(),W.ExportMetricsServiceRequest=function(){function $(G){if(this.resourceMetrics=[],G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}return $.prototype.resourceMetrics=T.emptyArray,$.create=function(Q){return new $(Q)},$.encode=function(Q,U){if(!U)U=P0.create();if(Q.resourceMetrics!=null&&Q.resourceMetrics.length)for(var z=0;z<Q.resourceMetrics.length;++z)E.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(Q.resourceMetrics[z],U.uint32(10).fork()).ldelim();return U},$.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},$.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{if(!(O.resourceMetrics&&O.resourceMetrics.length))O.resourceMetrics=[];O.resourceMetrics.push(E.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(Q,Q.uint32()));break}default:Q.skipType(K&7);break}}return O},$.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},$.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.resourceMetrics!=null&&Q.hasOwnProperty("resourceMetrics")){if(!Array.isArray(Q.resourceMetrics))return"resourceMetrics: array expected";for(var U=0;U<Q.resourceMetrics.length;++U){var z=E.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(Q.resourceMetrics[U]);if(z)return"resourceMetrics."+z}}return null},$.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return Q;var U=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(Q.resourceMetrics){if(!Array.isArray(Q.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");U.resourceMetrics=[];for(var z=0;z<Q.resourceMetrics.length;++z){if(typeof Q.resourceMetrics[z]!=="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");U.resourceMetrics[z]=E.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(Q.resourceMetrics[z])}}return U},$.toObject=function(Q,U){if(!U)U={};var z={};if(U.arrays||U.defaults)z.resourceMetrics=[];if(Q.resourceMetrics&&Q.resourceMetrics.length){z.resourceMetrics=[];for(var H=0;H<Q.resourceMetrics.length;++H)z.resourceMetrics[H]=E.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(Q.resourceMetrics[H],U)}return z},$.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},$.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},$}(),W.ExportMetricsServiceResponse=function(){function $(G){if(G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}return $.prototype.partialSuccess=null,$.create=function(Q){return new $(Q)},$.encode=function(Q,U){if(!U)U=P0.create();if(Q.partialSuccess!=null&&Object.hasOwnProperty.call(Q,"partialSuccess"))E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(Q.partialSuccess,U.uint32(10).fork()).ldelim();return U},$.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},$.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{O.partialSuccess=E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(Q,Q.uint32());break}default:Q.skipType(K&7);break}}return O},$.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},$.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.partialSuccess!=null&&Q.hasOwnProperty("partialSuccess")){var U=E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(Q.partialSuccess);if(U)return"partialSuccess."+U}return null},$.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return Q;var U=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(Q.partialSuccess!=null){if(typeof Q.partialSuccess!=="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");U.partialSuccess=E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(Q.partialSuccess)}return U},$.toObject=function(Q,U){if(!U)U={};var z={};if(U.defaults)z.partialSuccess=null;if(Q.partialSuccess!=null&&Q.hasOwnProperty("partialSuccess"))z.partialSuccess=E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(Q.partialSuccess,U);return z},$.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},$.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},$}(),W.ExportMetricsPartialSuccess=function(){function $(G){if(G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}return $.prototype.rejectedDataPoints=null,$.prototype.errorMessage=null,$.create=function(Q){return new $(Q)},$.encode=function(Q,U){if(!U)U=P0.create();if(Q.rejectedDataPoints!=null&&Object.hasOwnProperty.call(Q,"rejectedDataPoints"))U.uint32(8).int64(Q.rejectedDataPoints);if(Q.errorMessage!=null&&Object.hasOwnProperty.call(Q,"errorMessage"))U.uint32(18).string(Q.errorMessage);return U},$.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},$.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{O.rejectedDataPoints=Q.int64();break}case 2:{O.errorMessage=Q.string();break}default:Q.skipType(K&7);break}}return O},$.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},$.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.rejectedDataPoints!=null&&Q.hasOwnProperty("rejectedDataPoints")){if(!T.isInteger(Q.rejectedDataPoints)&&!(Q.rejectedDataPoints&&T.isInteger(Q.rejectedDataPoints.low)&&T.isInteger(Q.rejectedDataPoints.high)))return"rejectedDataPoints: integer|Long expected"}if(Q.errorMessage!=null&&Q.hasOwnProperty("errorMessage")){if(!T.isString(Q.errorMessage))return"errorMessage: string expected"}return null},$.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return Q;var U=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;if(Q.rejectedDataPoints!=null){if(T.Long)(U.rejectedDataPoints=T.Long.fromValue(Q.rejectedDataPoints)).unsigned=!1;else if(typeof Q.rejectedDataPoints==="string")U.rejectedDataPoints=parseInt(Q.rejectedDataPoints,10);else if(typeof Q.rejectedDataPoints==="number")U.rejectedDataPoints=Q.rejectedDataPoints;else if(typeof Q.rejectedDataPoints==="object")U.rejectedDataPoints=new T.LongBits(Q.rejectedDataPoints.low>>>0,Q.rejectedDataPoints.high>>>0).toNumber()}if(Q.errorMessage!=null)U.errorMessage=String(Q.errorMessage);return U},$.toObject=function(Q,U){if(!U)U={};var z={};if(U.defaults){if(T.Long){var H=new T.Long(0,0,!1);z.rejectedDataPoints=U.longs===String?H.toString():U.longs===Number?H.toNumber():H}else z.rejectedDataPoints=U.longs===String?"0":0;z.errorMessage=""}if(Q.rejectedDataPoints!=null&&Q.hasOwnProperty("rejectedDataPoints"))if(typeof Q.rejectedDataPoints==="number")z.rejectedDataPoints=U.longs===String?String(Q.rejectedDataPoints):Q.rejectedDataPoints;else z.rejectedDataPoints=U.longs===String?T.Long.prototype.toString.call(Q.rejectedDataPoints):U.longs===Number?new T.LongBits(Q.rejectedDataPoints.low>>>0,Q.rejectedDataPoints.high>>>0).toNumber():Q.rejectedDataPoints;if(Q.errorMessage!=null&&Q.hasOwnProperty("errorMessage"))z.errorMessage=Q.errorMessage;return z},$.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},$.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},$}(),W}(),Z}(),X.logs=function(){var Z={};return Z.v1=function(){var W={};return W.LogsService=function(){function $(G,Q,U){G0.rpc.Service.call(this,G,Q,U)}return($.prototype=Object.create(G0.rpc.Service.prototype)).constructor=$,$.create=function(Q,U,z){return new this(Q,U,z)},Object.defineProperty($.prototype.export=function G(Q,U){return this.rpcCall(G,E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,Q,U)},"name",{value:"Export"}),$}(),W.ExportLogsServiceRequest=function(){function $(G){if(this.resourceLogs=[],G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}return $.prototype.resourceLogs=T.emptyArray,$.create=function(Q){return new $(Q)},$.encode=function(Q,U){if(!U)U=P0.create();if(Q.resourceLogs!=null&&Q.resourceLogs.length)for(var z=0;z<Q.resourceLogs.length;++z)E.opentelemetry.proto.logs.v1.ResourceLogs.encode(Q.resourceLogs[z],U.uint32(10).fork()).ldelim();return U},$.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},$.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{if(!(O.resourceLogs&&O.resourceLogs.length))O.resourceLogs=[];O.resourceLogs.push(E.opentelemetry.proto.logs.v1.ResourceLogs.decode(Q,Q.uint32()));break}default:Q.skipType(K&7);break}}return O},$.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},$.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.resourceLogs!=null&&Q.hasOwnProperty("resourceLogs")){if(!Array.isArray(Q.resourceLogs))return"resourceLogs: array expected";for(var U=0;U<Q.resourceLogs.length;++U){var z=E.opentelemetry.proto.logs.v1.ResourceLogs.verify(Q.resourceLogs[U]);if(z)return"resourceLogs."+z}}return null},$.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return Q;var U=new E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(Q.resourceLogs){if(!Array.isArray(Q.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");U.resourceLogs=[];for(var z=0;z<Q.resourceLogs.length;++z){if(typeof Q.resourceLogs[z]!=="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");U.resourceLogs[z]=E.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(Q.resourceLogs[z])}}return U},$.toObject=function(Q,U){if(!U)U={};var z={};if(U.arrays||U.defaults)z.resourceLogs=[];if(Q.resourceLogs&&Q.resourceLogs.length){z.resourceLogs=[];for(var H=0;H<Q.resourceLogs.length;++H)z.resourceLogs[H]=E.opentelemetry.proto.logs.v1.ResourceLogs.toObject(Q.resourceLogs[H],U)}return z},$.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},$.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},$}(),W.ExportLogsServiceResponse=function(){function $(G){if(G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}return $.prototype.partialSuccess=null,$.create=function(Q){return new $(Q)},$.encode=function(Q,U){if(!U)U=P0.create();if(Q.partialSuccess!=null&&Object.hasOwnProperty.call(Q,"partialSuccess"))E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(Q.partialSuccess,U.uint32(10).fork()).ldelim();return U},$.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},$.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{O.partialSuccess=E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(Q,Q.uint32());break}default:Q.skipType(K&7);break}}return O},$.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},$.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.partialSuccess!=null&&Q.hasOwnProperty("partialSuccess")){var U=E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(Q.partialSuccess);if(U)return"partialSuccess."+U}return null},$.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return Q;var U=new E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(Q.partialSuccess!=null){if(typeof Q.partialSuccess!=="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");U.partialSuccess=E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(Q.partialSuccess)}return U},$.toObject=function(Q,U){if(!U)U={};var z={};if(U.defaults)z.partialSuccess=null;if(Q.partialSuccess!=null&&Q.hasOwnProperty("partialSuccess"))z.partialSuccess=E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(Q.partialSuccess,U);return z},$.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},$.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},$}(),W.ExportLogsPartialSuccess=function(){function $(G){if(G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}return $.prototype.rejectedLogRecords=null,$.prototype.errorMessage=null,$.create=function(Q){return new $(Q)},$.encode=function(Q,U){if(!U)U=P0.create();if(Q.rejectedLogRecords!=null&&Object.hasOwnProperty.call(Q,"rejectedLogRecords"))U.uint32(8).int64(Q.rejectedLogRecords);if(Q.errorMessage!=null&&Object.hasOwnProperty.call(Q,"errorMessage"))U.uint32(18).string(Q.errorMessage);return U},$.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},$.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{O.rejectedLogRecords=Q.int64();break}case 2:{O.errorMessage=Q.string();break}default:Q.skipType(K&7);break}}return O},$.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},$.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.rejectedLogRecords!=null&&Q.hasOwnProperty("rejectedLogRecords")){if(!T.isInteger(Q.rejectedLogRecords)&&!(Q.rejectedLogRecords&&T.isInteger(Q.rejectedLogRecords.low)&&T.isInteger(Q.rejectedLogRecords.high)))return"rejectedLogRecords: integer|Long expected"}if(Q.errorMessage!=null&&Q.hasOwnProperty("errorMessage")){if(!T.isString(Q.errorMessage))return"errorMessage: string expected"}return null},$.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return Q;var U=new E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;if(Q.rejectedLogRecords!=null){if(T.Long)(U.rejectedLogRecords=T.Long.fromValue(Q.rejectedLogRecords)).unsigned=!1;else if(typeof Q.rejectedLogRecords==="string")U.rejectedLogRecords=parseInt(Q.rejectedLogRecords,10);else if(typeof Q.rejectedLogRecords==="number")U.rejectedLogRecords=Q.rejectedLogRecords;else if(typeof Q.rejectedLogRecords==="object")U.rejectedLogRecords=new T.LongBits(Q.rejectedLogRecords.low>>>0,Q.rejectedLogRecords.high>>>0).toNumber()}if(Q.errorMessage!=null)U.errorMessage=String(Q.errorMessage);return U},$.toObject=function(Q,U){if(!U)U={};var z={};if(U.defaults){if(T.Long){var H=new T.Long(0,0,!1);z.rejectedLogRecords=U.longs===String?H.toString():U.longs===Number?H.toNumber():H}else z.rejectedLogRecords=U.longs===String?"0":0;z.errorMessage=""}if(Q.rejectedLogRecords!=null&&Q.hasOwnProperty("rejectedLogRecords"))if(typeof Q.rejectedLogRecords==="number")z.rejectedLogRecords=U.longs===String?String(Q.rejectedLogRecords):Q.rejectedLogRecords;else z.rejectedLogRecords=U.longs===String?T.Long.prototype.toString.call(Q.rejectedLogRecords):U.longs===Number?new T.LongBits(Q.rejectedLogRecords.low>>>0,Q.rejectedLogRecords.high>>>0).toNumber():Q.rejectedLogRecords;if(Q.errorMessage!=null&&Q.hasOwnProperty("errorMessage"))z.errorMessage=Q.errorMessage;return z},$.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},$.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},$}(),W}(),Z}(),X}(),J.metrics=function(){var X={};return X.v1=function(){var Z={};return Z.MetricsData=function(){function W($){if(this.resourceMetrics=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.resourceMetrics=T.emptyArray,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.resourceMetrics!=null&&G.resourceMetrics.length)for(var U=0;U<G.resourceMetrics.length;++U)E.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(G.resourceMetrics[U],Q.uint32(10).fork()).ldelim();return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.metrics.v1.MetricsData;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{if(!(H.resourceMetrics&&H.resourceMetrics.length))H.resourceMetrics=[];H.resourceMetrics.push(E.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(G,G.uint32()));break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.resourceMetrics!=null&&G.hasOwnProperty("resourceMetrics")){if(!Array.isArray(G.resourceMetrics))return"resourceMetrics: array expected";for(var Q=0;Q<G.resourceMetrics.length;++Q){var U=E.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(G.resourceMetrics[Q]);if(U)return"resourceMetrics."+U}}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.metrics.v1.MetricsData)return G;var Q=new E.opentelemetry.proto.metrics.v1.MetricsData;if(G.resourceMetrics){if(!Array.isArray(G.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");Q.resourceMetrics=[];for(var U=0;U<G.resourceMetrics.length;++U){if(typeof G.resourceMetrics[U]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");Q.resourceMetrics[U]=E.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(G.resourceMetrics[U])}}return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.resourceMetrics=[];if(G.resourceMetrics&&G.resourceMetrics.length){U.resourceMetrics=[];for(var z=0;z<G.resourceMetrics.length;++z)U.resourceMetrics[z]=E.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(G.resourceMetrics[z],Q)}return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.metrics.v1.MetricsData"},W}(),Z.ResourceMetrics=function(){function W($){if(this.scopeMetrics=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.resource=null,W.prototype.scopeMetrics=T.emptyArray,W.prototype.schemaUrl=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.resource!=null&&Object.hasOwnProperty.call(G,"resource"))E.opentelemetry.proto.resource.v1.Resource.encode(G.resource,Q.uint32(10).fork()).ldelim();if(G.scopeMetrics!=null&&G.scopeMetrics.length)for(var U=0;U<G.scopeMetrics.length;++U)E.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(G.scopeMetrics[U],Q.uint32(18).fork()).ldelim();if(G.schemaUrl!=null&&Object.hasOwnProperty.call(G,"schemaUrl"))Q.uint32(26).string(G.schemaUrl);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.metrics.v1.ResourceMetrics;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{H.resource=E.opentelemetry.proto.resource.v1.Resource.decode(G,G.uint32());break}case 2:{if(!(H.scopeMetrics&&H.scopeMetrics.length))H.scopeMetrics=[];H.scopeMetrics.push(E.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(G,G.uint32()));break}case 3:{H.schemaUrl=G.string();break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.resource!=null&&G.hasOwnProperty("resource")){var Q=E.opentelemetry.proto.resource.v1.Resource.verify(G.resource);if(Q)return"resource."+Q}if(G.scopeMetrics!=null&&G.hasOwnProperty("scopeMetrics")){if(!Array.isArray(G.scopeMetrics))return"scopeMetrics: array expected";for(var U=0;U<G.scopeMetrics.length;++U){var Q=E.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(G.scopeMetrics[U]);if(Q)return"scopeMetrics."+Q}}if(G.schemaUrl!=null&&G.hasOwnProperty("schemaUrl")){if(!T.isString(G.schemaUrl))return"schemaUrl: string expected"}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.metrics.v1.ResourceMetrics)return G;var Q=new E.opentelemetry.proto.metrics.v1.ResourceMetrics;if(G.resource!=null){if(typeof G.resource!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");Q.resource=E.opentelemetry.proto.resource.v1.Resource.fromObject(G.resource)}if(G.scopeMetrics){if(!Array.isArray(G.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");Q.scopeMetrics=[];for(var U=0;U<G.scopeMetrics.length;++U){if(typeof G.scopeMetrics[U]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");Q.scopeMetrics[U]=E.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(G.scopeMetrics[U])}}if(G.schemaUrl!=null)Q.schemaUrl=String(G.schemaUrl);return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.scopeMetrics=[];if(Q.defaults)U.resource=null,U.schemaUrl="";if(G.resource!=null&&G.hasOwnProperty("resource"))U.resource=E.opentelemetry.proto.resource.v1.Resource.toObject(G.resource,Q);if(G.scopeMetrics&&G.scopeMetrics.length){U.scopeMetrics=[];for(var z=0;z<G.scopeMetrics.length;++z)U.scopeMetrics[z]=E.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(G.scopeMetrics[z],Q)}if(G.schemaUrl!=null&&G.hasOwnProperty("schemaUrl"))U.schemaUrl=G.schemaUrl;return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},W}(),Z.ScopeMetrics=function(){function W($){if(this.metrics=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.scope=null,W.prototype.metrics=T.emptyArray,W.prototype.schemaUrl=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.scope!=null&&Object.hasOwnProperty.call(G,"scope"))E.opentelemetry.proto.common.v1.InstrumentationScope.encode(G.scope,Q.uint32(10).fork()).ldelim();if(G.metrics!=null&&G.metrics.length)for(var U=0;U<G.metrics.length;++U)E.opentelemetry.proto.metrics.v1.Metric.encode(G.metrics[U],Q.uint32(18).fork()).ldelim();if(G.schemaUrl!=null&&Object.hasOwnProperty.call(G,"schemaUrl"))Q.uint32(26).string(G.schemaUrl);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.metrics.v1.ScopeMetrics;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{H.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.decode(G,G.uint32());break}case 2:{if(!(H.metrics&&H.metrics.length))H.metrics=[];H.metrics.push(E.opentelemetry.proto.metrics.v1.Metric.decode(G,G.uint32()));break}case 3:{H.schemaUrl=G.string();break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.scope!=null&&G.hasOwnProperty("scope")){var Q=E.opentelemetry.proto.common.v1.InstrumentationScope.verify(G.scope);if(Q)return"scope."+Q}if(G.metrics!=null&&G.hasOwnProperty("metrics")){if(!Array.isArray(G.metrics))return"metrics: array expected";for(var U=0;U<G.metrics.length;++U){var Q=E.opentelemetry.proto.metrics.v1.Metric.verify(G.metrics[U]);if(Q)return"metrics."+Q}}if(G.schemaUrl!=null&&G.hasOwnProperty("schemaUrl")){if(!T.isString(G.schemaUrl))return"schemaUrl: string expected"}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.metrics.v1.ScopeMetrics)return G;var Q=new E.opentelemetry.proto.metrics.v1.ScopeMetrics;if(G.scope!=null){if(typeof G.scope!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");Q.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(G.scope)}if(G.metrics){if(!Array.isArray(G.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");Q.metrics=[];for(var U=0;U<G.metrics.length;++U){if(typeof G.metrics[U]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");Q.metrics[U]=E.opentelemetry.proto.metrics.v1.Metric.fromObject(G.metrics[U])}}if(G.schemaUrl!=null)Q.schemaUrl=String(G.schemaUrl);return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.metrics=[];if(Q.defaults)U.scope=null,U.schemaUrl="";if(G.scope!=null&&G.hasOwnProperty("scope"))U.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.toObject(G.scope,Q);if(G.metrics&&G.metrics.length){U.metrics=[];for(var z=0;z<G.metrics.length;++z)U.metrics[z]=E.opentelemetry.proto.metrics.v1.Metric.toObject(G.metrics[z],Q)}if(G.schemaUrl!=null&&G.hasOwnProperty("schemaUrl"))U.schemaUrl=G.schemaUrl;return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},W}(),Z.Metric=function(){function W(G){if(this.metadata=[],G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}W.prototype.name=null,W.prototype.description=null,W.prototype.unit=null,W.prototype.gauge=null,W.prototype.sum=null,W.prototype.histogram=null,W.prototype.exponentialHistogram=null,W.prototype.summary=null,W.prototype.metadata=T.emptyArray;var $;return Object.defineProperty(W.prototype,"data",{get:T.oneOfGetter($=["gauge","sum","histogram","exponentialHistogram","summary"]),set:T.oneOfSetter($)}),W.create=function(Q){return new W(Q)},W.encode=function(Q,U){if(!U)U=P0.create();if(Q.name!=null&&Object.hasOwnProperty.call(Q,"name"))U.uint32(10).string(Q.name);if(Q.description!=null&&Object.hasOwnProperty.call(Q,"description"))U.uint32(18).string(Q.description);if(Q.unit!=null&&Object.hasOwnProperty.call(Q,"unit"))U.uint32(26).string(Q.unit);if(Q.gauge!=null&&Object.hasOwnProperty.call(Q,"gauge"))E.opentelemetry.proto.metrics.v1.Gauge.encode(Q.gauge,U.uint32(42).fork()).ldelim();if(Q.sum!=null&&Object.hasOwnProperty.call(Q,"sum"))E.opentelemetry.proto.metrics.v1.Sum.encode(Q.sum,U.uint32(58).fork()).ldelim();if(Q.histogram!=null&&Object.hasOwnProperty.call(Q,"histogram"))E.opentelemetry.proto.metrics.v1.Histogram.encode(Q.histogram,U.uint32(74).fork()).ldelim();if(Q.exponentialHistogram!=null&&Object.hasOwnProperty.call(Q,"exponentialHistogram"))E.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(Q.exponentialHistogram,U.uint32(82).fork()).ldelim();if(Q.summary!=null&&Object.hasOwnProperty.call(Q,"summary"))E.opentelemetry.proto.metrics.v1.Summary.encode(Q.summary,U.uint32(90).fork()).ldelim();if(Q.metadata!=null&&Q.metadata.length)for(var z=0;z<Q.metadata.length;++z)E.opentelemetry.proto.common.v1.KeyValue.encode(Q.metadata[z],U.uint32(98).fork()).ldelim();return U},W.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},W.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.metrics.v1.Metric;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{O.name=Q.string();break}case 2:{O.description=Q.string();break}case 3:{O.unit=Q.string();break}case 5:{O.gauge=E.opentelemetry.proto.metrics.v1.Gauge.decode(Q,Q.uint32());break}case 7:{O.sum=E.opentelemetry.proto.metrics.v1.Sum.decode(Q,Q.uint32());break}case 9:{O.histogram=E.opentelemetry.proto.metrics.v1.Histogram.decode(Q,Q.uint32());break}case 10:{O.exponentialHistogram=E.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(Q,Q.uint32());break}case 11:{O.summary=E.opentelemetry.proto.metrics.v1.Summary.decode(Q,Q.uint32());break}case 12:{if(!(O.metadata&&O.metadata.length))O.metadata=[];O.metadata.push(E.opentelemetry.proto.common.v1.KeyValue.decode(Q,Q.uint32()));break}default:Q.skipType(K&7);break}}return O},W.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},W.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";var U={};if(Q.name!=null&&Q.hasOwnProperty("name")){if(!T.isString(Q.name))return"name: string expected"}if(Q.description!=null&&Q.hasOwnProperty("description")){if(!T.isString(Q.description))return"description: string expected"}if(Q.unit!=null&&Q.hasOwnProperty("unit")){if(!T.isString(Q.unit))return"unit: string expected"}if(Q.gauge!=null&&Q.hasOwnProperty("gauge")){U.data=1;{var z=E.opentelemetry.proto.metrics.v1.Gauge.verify(Q.gauge);if(z)return"gauge."+z}}if(Q.sum!=null&&Q.hasOwnProperty("sum")){if(U.data===1)return"data: multiple values";U.data=1;{var z=E.opentelemetry.proto.metrics.v1.Sum.verify(Q.sum);if(z)return"sum."+z}}if(Q.histogram!=null&&Q.hasOwnProperty("histogram")){if(U.data===1)return"data: multiple values";U.data=1;{var z=E.opentelemetry.proto.metrics.v1.Histogram.verify(Q.histogram);if(z)return"histogram."+z}}if(Q.exponentialHistogram!=null&&Q.hasOwnProperty("exponentialHistogram")){if(U.data===1)return"data: multiple values";U.data=1;{var z=E.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(Q.exponentialHistogram);if(z)return"exponentialHistogram."+z}}if(Q.summary!=null&&Q.hasOwnProperty("summary")){if(U.data===1)return"data: multiple values";U.data=1;{var z=E.opentelemetry.proto.metrics.v1.Summary.verify(Q.summary);if(z)return"summary."+z}}if(Q.metadata!=null&&Q.hasOwnProperty("metadata")){if(!Array.isArray(Q.metadata))return"metadata: array expected";for(var H=0;H<Q.metadata.length;++H){var z=E.opentelemetry.proto.common.v1.KeyValue.verify(Q.metadata[H]);if(z)return"metadata."+z}}return null},W.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.metrics.v1.Metric)return Q;var U=new E.opentelemetry.proto.metrics.v1.Metric;if(Q.name!=null)U.name=String(Q.name);if(Q.description!=null)U.description=String(Q.description);if(Q.unit!=null)U.unit=String(Q.unit);if(Q.gauge!=null){if(typeof Q.gauge!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");U.gauge=E.opentelemetry.proto.metrics.v1.Gauge.fromObject(Q.gauge)}if(Q.sum!=null){if(typeof Q.sum!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");U.sum=E.opentelemetry.proto.metrics.v1.Sum.fromObject(Q.sum)}if(Q.histogram!=null){if(typeof Q.histogram!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");U.histogram=E.opentelemetry.proto.metrics.v1.Histogram.fromObject(Q.histogram)}if(Q.exponentialHistogram!=null){if(typeof Q.exponentialHistogram!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");U.exponentialHistogram=E.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(Q.exponentialHistogram)}if(Q.summary!=null){if(typeof Q.summary!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");U.summary=E.opentelemetry.proto.metrics.v1.Summary.fromObject(Q.summary)}if(Q.metadata){if(!Array.isArray(Q.metadata))throw TypeError(".opentelemetry.proto.metrics.v1.Metric.metadata: array expected");U.metadata=[];for(var z=0;z<Q.metadata.length;++z){if(typeof Q.metadata[z]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.metadata: object expected");U.metadata[z]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(Q.metadata[z])}}return U},W.toObject=function(Q,U){if(!U)U={};var z={};if(U.arrays||U.defaults)z.metadata=[];if(U.defaults)z.name="",z.description="",z.unit="";if(Q.name!=null&&Q.hasOwnProperty("name"))z.name=Q.name;if(Q.description!=null&&Q.hasOwnProperty("description"))z.description=Q.description;if(Q.unit!=null&&Q.hasOwnProperty("unit"))z.unit=Q.unit;if(Q.gauge!=null&&Q.hasOwnProperty("gauge")){if(z.gauge=E.opentelemetry.proto.metrics.v1.Gauge.toObject(Q.gauge,U),U.oneofs)z.data="gauge"}if(Q.sum!=null&&Q.hasOwnProperty("sum")){if(z.sum=E.opentelemetry.proto.metrics.v1.Sum.toObject(Q.sum,U),U.oneofs)z.data="sum"}if(Q.histogram!=null&&Q.hasOwnProperty("histogram")){if(z.histogram=E.opentelemetry.proto.metrics.v1.Histogram.toObject(Q.histogram,U),U.oneofs)z.data="histogram"}if(Q.exponentialHistogram!=null&&Q.hasOwnProperty("exponentialHistogram")){if(z.exponentialHistogram=E.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(Q.exponentialHistogram,U),U.oneofs)z.data="exponentialHistogram"}if(Q.summary!=null&&Q.hasOwnProperty("summary")){if(z.summary=E.opentelemetry.proto.metrics.v1.Summary.toObject(Q.summary,U),U.oneofs)z.data="summary"}if(Q.metadata&&Q.metadata.length){z.metadata=[];for(var H=0;H<Q.metadata.length;++H)z.metadata[H]=E.opentelemetry.proto.common.v1.KeyValue.toObject(Q.metadata[H],U)}return z},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.metrics.v1.Metric"},W}(),Z.Gauge=function(){function W($){if(this.dataPoints=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.dataPoints=T.emptyArray,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.dataPoints!=null&&G.dataPoints.length)for(var U=0;U<G.dataPoints.length;++U)E.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(G.dataPoints[U],Q.uint32(10).fork()).ldelim();return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.metrics.v1.Gauge;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{if(!(H.dataPoints&&H.dataPoints.length))H.dataPoints=[];H.dataPoints.push(E.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(G,G.uint32()));break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.dataPoints!=null&&G.hasOwnProperty("dataPoints")){if(!Array.isArray(G.dataPoints))return"dataPoints: array expected";for(var Q=0;Q<G.dataPoints.length;++Q){var U=E.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(G.dataPoints[Q]);if(U)return"dataPoints."+U}}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.metrics.v1.Gauge)return G;var Q=new E.opentelemetry.proto.metrics.v1.Gauge;if(G.dataPoints){if(!Array.isArray(G.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");Q.dataPoints=[];for(var U=0;U<G.dataPoints.length;++U){if(typeof G.dataPoints[U]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");Q.dataPoints[U]=E.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(G.dataPoints[U])}}return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.dataPoints=[];if(G.dataPoints&&G.dataPoints.length){U.dataPoints=[];for(var z=0;z<G.dataPoints.length;++z)U.dataPoints[z]=E.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(G.dataPoints[z],Q)}return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.metrics.v1.Gauge"},W}(),Z.Sum=function(){function W($){if(this.dataPoints=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.dataPoints=T.emptyArray,W.prototype.aggregationTemporality=null,W.prototype.isMonotonic=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.dataPoints!=null&&G.dataPoints.length)for(var U=0;U<G.dataPoints.length;++U)E.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(G.dataPoints[U],Q.uint32(10).fork()).ldelim();if(G.aggregationTemporality!=null&&Object.hasOwnProperty.call(G,"aggregationTemporality"))Q.uint32(16).int32(G.aggregationTemporality);if(G.isMonotonic!=null&&Object.hasOwnProperty.call(G,"isMonotonic"))Q.uint32(24).bool(G.isMonotonic);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.metrics.v1.Sum;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{if(!(H.dataPoints&&H.dataPoints.length))H.dataPoints=[];H.dataPoints.push(E.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(G,G.uint32()));break}case 2:{H.aggregationTemporality=G.int32();break}case 3:{H.isMonotonic=G.bool();break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.dataPoints!=null&&G.hasOwnProperty("dataPoints")){if(!Array.isArray(G.dataPoints))return"dataPoints: array expected";for(var Q=0;Q<G.dataPoints.length;++Q){var U=E.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(G.dataPoints[Q]);if(U)return"dataPoints."+U}}if(G.aggregationTemporality!=null&&G.hasOwnProperty("aggregationTemporality"))switch(G.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}if(G.isMonotonic!=null&&G.hasOwnProperty("isMonotonic")){if(typeof G.isMonotonic!=="boolean")return"isMonotonic: boolean expected"}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.metrics.v1.Sum)return G;var Q=new E.opentelemetry.proto.metrics.v1.Sum;if(G.dataPoints){if(!Array.isArray(G.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");Q.dataPoints=[];for(var U=0;U<G.dataPoints.length;++U){if(typeof G.dataPoints[U]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");Q.dataPoints[U]=E.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(G.dataPoints[U])}}switch(G.aggregationTemporality){default:if(typeof G.aggregationTemporality==="number"){Q.aggregationTemporality=G.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:Q.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:Q.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:Q.aggregationTemporality=2;break}if(G.isMonotonic!=null)Q.isMonotonic=Boolean(G.isMonotonic);return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.dataPoints=[];if(Q.defaults)U.aggregationTemporality=Q.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,U.isMonotonic=!1;if(G.dataPoints&&G.dataPoints.length){U.dataPoints=[];for(var z=0;z<G.dataPoints.length;++z)U.dataPoints[z]=E.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(G.dataPoints[z],Q)}if(G.aggregationTemporality!=null&&G.hasOwnProperty("aggregationTemporality"))U.aggregationTemporality=Q.enums===String?E.opentelemetry.proto.metrics.v1.AggregationTemporality[G.aggregationTemporality]===void 0?G.aggregationTemporality:E.opentelemetry.proto.metrics.v1.AggregationTemporality[G.aggregationTemporality]:G.aggregationTemporality;if(G.isMonotonic!=null&&G.hasOwnProperty("isMonotonic"))U.isMonotonic=G.isMonotonic;return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.metrics.v1.Sum"},W}(),Z.Histogram=function(){function W($){if(this.dataPoints=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.dataPoints=T.emptyArray,W.prototype.aggregationTemporality=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.dataPoints!=null&&G.dataPoints.length)for(var U=0;U<G.dataPoints.length;++U)E.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(G.dataPoints[U],Q.uint32(10).fork()).ldelim();if(G.aggregationTemporality!=null&&Object.hasOwnProperty.call(G,"aggregationTemporality"))Q.uint32(16).int32(G.aggregationTemporality);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.metrics.v1.Histogram;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{if(!(H.dataPoints&&H.dataPoints.length))H.dataPoints=[];H.dataPoints.push(E.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(G,G.uint32()));break}case 2:{H.aggregationTemporality=G.int32();break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.dataPoints!=null&&G.hasOwnProperty("dataPoints")){if(!Array.isArray(G.dataPoints))return"dataPoints: array expected";for(var Q=0;Q<G.dataPoints.length;++Q){var U=E.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(G.dataPoints[Q]);if(U)return"dataPoints."+U}}if(G.aggregationTemporality!=null&&G.hasOwnProperty("aggregationTemporality"))switch(G.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.metrics.v1.Histogram)return G;var Q=new E.opentelemetry.proto.metrics.v1.Histogram;if(G.dataPoints){if(!Array.isArray(G.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");Q.dataPoints=[];for(var U=0;U<G.dataPoints.length;++U){if(typeof G.dataPoints[U]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");Q.dataPoints[U]=E.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(G.dataPoints[U])}}switch(G.aggregationTemporality){default:if(typeof G.aggregationTemporality==="number"){Q.aggregationTemporality=G.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:Q.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:Q.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:Q.aggregationTemporality=2;break}return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.dataPoints=[];if(Q.defaults)U.aggregationTemporality=Q.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0;if(G.dataPoints&&G.dataPoints.length){U.dataPoints=[];for(var z=0;z<G.dataPoints.length;++z)U.dataPoints[z]=E.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(G.dataPoints[z],Q)}if(G.aggregationTemporality!=null&&G.hasOwnProperty("aggregationTemporality"))U.aggregationTemporality=Q.enums===String?E.opentelemetry.proto.metrics.v1.AggregationTemporality[G.aggregationTemporality]===void 0?G.aggregationTemporality:E.opentelemetry.proto.metrics.v1.AggregationTemporality[G.aggregationTemporality]:G.aggregationTemporality;return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.metrics.v1.Histogram"},W}(),Z.ExponentialHistogram=function(){function W($){if(this.dataPoints=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.dataPoints=T.emptyArray,W.prototype.aggregationTemporality=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.dataPoints!=null&&G.dataPoints.length)for(var U=0;U<G.dataPoints.length;++U)E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(G.dataPoints[U],Q.uint32(10).fork()).ldelim();if(G.aggregationTemporality!=null&&Object.hasOwnProperty.call(G,"aggregationTemporality"))Q.uint32(16).int32(G.aggregationTemporality);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.metrics.v1.ExponentialHistogram;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{if(!(H.dataPoints&&H.dataPoints.length))H.dataPoints=[];H.dataPoints.push(E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(G,G.uint32()));break}case 2:{H.aggregationTemporality=G.int32();break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.dataPoints!=null&&G.hasOwnProperty("dataPoints")){if(!Array.isArray(G.dataPoints))return"dataPoints: array expected";for(var Q=0;Q<G.dataPoints.length;++Q){var U=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(G.dataPoints[Q]);if(U)return"dataPoints."+U}}if(G.aggregationTemporality!=null&&G.hasOwnProperty("aggregationTemporality"))switch(G.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.metrics.v1.ExponentialHistogram)return G;var Q=new E.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(G.dataPoints){if(!Array.isArray(G.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");Q.dataPoints=[];for(var U=0;U<G.dataPoints.length;++U){if(typeof G.dataPoints[U]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");Q.dataPoints[U]=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(G.dataPoints[U])}}switch(G.aggregationTemporality){default:if(typeof G.aggregationTemporality==="number"){Q.aggregationTemporality=G.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:Q.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:Q.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:Q.aggregationTemporality=2;break}return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.dataPoints=[];if(Q.defaults)U.aggregationTemporality=Q.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0;if(G.dataPoints&&G.dataPoints.length){U.dataPoints=[];for(var z=0;z<G.dataPoints.length;++z)U.dataPoints[z]=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(G.dataPoints[z],Q)}if(G.aggregationTemporality!=null&&G.hasOwnProperty("aggregationTemporality"))U.aggregationTemporality=Q.enums===String?E.opentelemetry.proto.metrics.v1.AggregationTemporality[G.aggregationTemporality]===void 0?G.aggregationTemporality:E.opentelemetry.proto.metrics.v1.AggregationTemporality[G.aggregationTemporality]:G.aggregationTemporality;return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},W}(),Z.Summary=function(){function W($){if(this.dataPoints=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.dataPoints=T.emptyArray,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.dataPoints!=null&&G.dataPoints.length)for(var U=0;U<G.dataPoints.length;++U)E.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(G.dataPoints[U],Q.uint32(10).fork()).ldelim();return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.metrics.v1.Summary;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{if(!(H.dataPoints&&H.dataPoints.length))H.dataPoints=[];H.dataPoints.push(E.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(G,G.uint32()));break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.dataPoints!=null&&G.hasOwnProperty("dataPoints")){if(!Array.isArray(G.dataPoints))return"dataPoints: array expected";for(var Q=0;Q<G.dataPoints.length;++Q){var U=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(G.dataPoints[Q]);if(U)return"dataPoints."+U}}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.metrics.v1.Summary)return G;var Q=new E.opentelemetry.proto.metrics.v1.Summary;if(G.dataPoints){if(!Array.isArray(G.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");Q.dataPoints=[];for(var U=0;U<G.dataPoints.length;++U){if(typeof G.dataPoints[U]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");Q.dataPoints[U]=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(G.dataPoints[U])}}return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.dataPoints=[];if(G.dataPoints&&G.dataPoints.length){U.dataPoints=[];for(var z=0;z<G.dataPoints.length;++z)U.dataPoints[z]=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(G.dataPoints[z],Q)}return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.metrics.v1.Summary"},W}(),Z.AggregationTemporality=function(){var W={},$=Object.create(W);return $[W[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,$[W[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,$[W[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,$}(),Z.DataPointFlags=function(){var W={},$=Object.create(W);return $[W[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,$[W[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,$}(),Z.NumberDataPoint=function(){function W(G){if(this.attributes=[],this.exemplars=[],G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}W.prototype.attributes=T.emptyArray,W.prototype.startTimeUnixNano=null,W.prototype.timeUnixNano=null,W.prototype.asDouble=null,W.prototype.asInt=null,W.prototype.exemplars=T.emptyArray,W.prototype.flags=null;var $;return Object.defineProperty(W.prototype,"value",{get:T.oneOfGetter($=["asDouble","asInt"]),set:T.oneOfSetter($)}),W.create=function(Q){return new W(Q)},W.encode=function(Q,U){if(!U)U=P0.create();if(Q.startTimeUnixNano!=null&&Object.hasOwnProperty.call(Q,"startTimeUnixNano"))U.uint32(17).fixed64(Q.startTimeUnixNano);if(Q.timeUnixNano!=null&&Object.hasOwnProperty.call(Q,"timeUnixNano"))U.uint32(25).fixed64(Q.timeUnixNano);if(Q.asDouble!=null&&Object.hasOwnProperty.call(Q,"asDouble"))U.uint32(33).double(Q.asDouble);if(Q.exemplars!=null&&Q.exemplars.length)for(var z=0;z<Q.exemplars.length;++z)E.opentelemetry.proto.metrics.v1.Exemplar.encode(Q.exemplars[z],U.uint32(42).fork()).ldelim();if(Q.asInt!=null&&Object.hasOwnProperty.call(Q,"asInt"))U.uint32(49).sfixed64(Q.asInt);if(Q.attributes!=null&&Q.attributes.length)for(var z=0;z<Q.attributes.length;++z)E.opentelemetry.proto.common.v1.KeyValue.encode(Q.attributes[z],U.uint32(58).fork()).ldelim();if(Q.flags!=null&&Object.hasOwnProperty.call(Q,"flags"))U.uint32(64).uint32(Q.flags);return U},W.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},W.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.metrics.v1.NumberDataPoint;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 7:{if(!(O.attributes&&O.attributes.length))O.attributes=[];O.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(Q,Q.uint32()));break}case 2:{O.startTimeUnixNano=Q.fixed64();break}case 3:{O.timeUnixNano=Q.fixed64();break}case 4:{O.asDouble=Q.double();break}case 6:{O.asInt=Q.sfixed64();break}case 5:{if(!(O.exemplars&&O.exemplars.length))O.exemplars=[];O.exemplars.push(E.opentelemetry.proto.metrics.v1.Exemplar.decode(Q,Q.uint32()));break}case 8:{O.flags=Q.uint32();break}default:Q.skipType(K&7);break}}return O},W.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},W.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";var U={};if(Q.attributes!=null&&Q.hasOwnProperty("attributes")){if(!Array.isArray(Q.attributes))return"attributes: array expected";for(var z=0;z<Q.attributes.length;++z){var H=E.opentelemetry.proto.common.v1.KeyValue.verify(Q.attributes[z]);if(H)return"attributes."+H}}if(Q.startTimeUnixNano!=null&&Q.hasOwnProperty("startTimeUnixNano")){if(!T.isInteger(Q.startTimeUnixNano)&&!(Q.startTimeUnixNano&&T.isInteger(Q.startTimeUnixNano.low)&&T.isInteger(Q.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected"}if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano")){if(!T.isInteger(Q.timeUnixNano)&&!(Q.timeUnixNano&&T.isInteger(Q.timeUnixNano.low)&&T.isInteger(Q.timeUnixNano.high)))return"timeUnixNano: integer|Long expected"}if(Q.asDouble!=null&&Q.hasOwnProperty("asDouble")){if(U.value=1,typeof Q.asDouble!=="number")return"asDouble: number expected"}if(Q.asInt!=null&&Q.hasOwnProperty("asInt")){if(U.value===1)return"value: multiple values";if(U.value=1,!T.isInteger(Q.asInt)&&!(Q.asInt&&T.isInteger(Q.asInt.low)&&T.isInteger(Q.asInt.high)))return"asInt: integer|Long expected"}if(Q.exemplars!=null&&Q.hasOwnProperty("exemplars")){if(!Array.isArray(Q.exemplars))return"exemplars: array expected";for(var z=0;z<Q.exemplars.length;++z){var H=E.opentelemetry.proto.metrics.v1.Exemplar.verify(Q.exemplars[z]);if(H)return"exemplars."+H}}if(Q.flags!=null&&Q.hasOwnProperty("flags")){if(!T.isInteger(Q.flags))return"flags: integer expected"}return null},W.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.metrics.v1.NumberDataPoint)return Q;var U=new E.opentelemetry.proto.metrics.v1.NumberDataPoint;if(Q.attributes){if(!Array.isArray(Q.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");U.attributes=[];for(var z=0;z<Q.attributes.length;++z){if(typeof Q.attributes[z]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");U.attributes[z]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(Q.attributes[z])}}if(Q.startTimeUnixNano!=null){if(T.Long)(U.startTimeUnixNano=T.Long.fromValue(Q.startTimeUnixNano)).unsigned=!1;else if(typeof Q.startTimeUnixNano==="string")U.startTimeUnixNano=parseInt(Q.startTimeUnixNano,10);else if(typeof Q.startTimeUnixNano==="number")U.startTimeUnixNano=Q.startTimeUnixNano;else if(typeof Q.startTimeUnixNano==="object")U.startTimeUnixNano=new T.LongBits(Q.startTimeUnixNano.low>>>0,Q.startTimeUnixNano.high>>>0).toNumber()}if(Q.timeUnixNano!=null){if(T.Long)(U.timeUnixNano=T.Long.fromValue(Q.timeUnixNano)).unsigned=!1;else if(typeof Q.timeUnixNano==="string")U.timeUnixNano=parseInt(Q.timeUnixNano,10);else if(typeof Q.timeUnixNano==="number")U.timeUnixNano=Q.timeUnixNano;else if(typeof Q.timeUnixNano==="object")U.timeUnixNano=new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber()}if(Q.asDouble!=null)U.asDouble=Number(Q.asDouble);if(Q.asInt!=null){if(T.Long)(U.asInt=T.Long.fromValue(Q.asInt)).unsigned=!1;else if(typeof Q.asInt==="string")U.asInt=parseInt(Q.asInt,10);else if(typeof Q.asInt==="number")U.asInt=Q.asInt;else if(typeof Q.asInt==="object")U.asInt=new T.LongBits(Q.asInt.low>>>0,Q.asInt.high>>>0).toNumber()}if(Q.exemplars){if(!Array.isArray(Q.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");U.exemplars=[];for(var z=0;z<Q.exemplars.length;++z){if(typeof Q.exemplars[z]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");U.exemplars[z]=E.opentelemetry.proto.metrics.v1.Exemplar.fromObject(Q.exemplars[z])}}if(Q.flags!=null)U.flags=Q.flags>>>0;return U},W.toObject=function(Q,U){if(!U)U={};var z={};if(U.arrays||U.defaults)z.exemplars=[],z.attributes=[];if(U.defaults){if(T.Long){var H=new T.Long(0,0,!1);z.startTimeUnixNano=U.longs===String?H.toString():U.longs===Number?H.toNumber():H}else z.startTimeUnixNano=U.longs===String?"0":0;if(T.Long){var H=new T.Long(0,0,!1);z.timeUnixNano=U.longs===String?H.toString():U.longs===Number?H.toNumber():H}else z.timeUnixNano=U.longs===String?"0":0;z.flags=0}if(Q.startTimeUnixNano!=null&&Q.hasOwnProperty("startTimeUnixNano"))if(typeof Q.startTimeUnixNano==="number")z.startTimeUnixNano=U.longs===String?String(Q.startTimeUnixNano):Q.startTimeUnixNano;else z.startTimeUnixNano=U.longs===String?T.Long.prototype.toString.call(Q.startTimeUnixNano):U.longs===Number?new T.LongBits(Q.startTimeUnixNano.low>>>0,Q.startTimeUnixNano.high>>>0).toNumber():Q.startTimeUnixNano;if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano"))if(typeof Q.timeUnixNano==="number")z.timeUnixNano=U.longs===String?String(Q.timeUnixNano):Q.timeUnixNano;else z.timeUnixNano=U.longs===String?T.Long.prototype.toString.call(Q.timeUnixNano):U.longs===Number?new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber():Q.timeUnixNano;if(Q.asDouble!=null&&Q.hasOwnProperty("asDouble")){if(z.asDouble=U.json&&!isFinite(Q.asDouble)?String(Q.asDouble):Q.asDouble,U.oneofs)z.value="asDouble"}if(Q.exemplars&&Q.exemplars.length){z.exemplars=[];for(var O=0;O<Q.exemplars.length;++O)z.exemplars[O]=E.opentelemetry.proto.metrics.v1.Exemplar.toObject(Q.exemplars[O],U)}if(Q.asInt!=null&&Q.hasOwnProperty("asInt")){if(typeof Q.asInt==="number")z.asInt=U.longs===String?String(Q.asInt):Q.asInt;else z.asInt=U.longs===String?T.Long.prototype.toString.call(Q.asInt):U.longs===Number?new T.LongBits(Q.asInt.low>>>0,Q.asInt.high>>>0).toNumber():Q.asInt;if(U.oneofs)z.value="asInt"}if(Q.attributes&&Q.attributes.length){z.attributes=[];for(var O=0;O<Q.attributes.length;++O)z.attributes[O]=E.opentelemetry.proto.common.v1.KeyValue.toObject(Q.attributes[O],U)}if(Q.flags!=null&&Q.hasOwnProperty("flags"))z.flags=Q.flags;return z},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},W}(),Z.HistogramDataPoint=function(){function W(G){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}W.prototype.attributes=T.emptyArray,W.prototype.startTimeUnixNano=null,W.prototype.timeUnixNano=null,W.prototype.count=null,W.prototype.sum=null,W.prototype.bucketCounts=T.emptyArray,W.prototype.explicitBounds=T.emptyArray,W.prototype.exemplars=T.emptyArray,W.prototype.flags=null,W.prototype.min=null,W.prototype.max=null;var $;return Object.defineProperty(W.prototype,"_sum",{get:T.oneOfGetter($=["sum"]),set:T.oneOfSetter($)}),Object.defineProperty(W.prototype,"_min",{get:T.oneOfGetter($=["min"]),set:T.oneOfSetter($)}),Object.defineProperty(W.prototype,"_max",{get:T.oneOfGetter($=["max"]),set:T.oneOfSetter($)}),W.create=function(Q){return new W(Q)},W.encode=function(Q,U){if(!U)U=P0.create();if(Q.startTimeUnixNano!=null&&Object.hasOwnProperty.call(Q,"startTimeUnixNano"))U.uint32(17).fixed64(Q.startTimeUnixNano);if(Q.timeUnixNano!=null&&Object.hasOwnProperty.call(Q,"timeUnixNano"))U.uint32(25).fixed64(Q.timeUnixNano);if(Q.count!=null&&Object.hasOwnProperty.call(Q,"count"))U.uint32(33).fixed64(Q.count);if(Q.sum!=null&&Object.hasOwnProperty.call(Q,"sum"))U.uint32(41).double(Q.sum);if(Q.bucketCounts!=null&&Q.bucketCounts.length){U.uint32(50).fork();for(var z=0;z<Q.bucketCounts.length;++z)U.fixed64(Q.bucketCounts[z]);U.ldelim()}if(Q.explicitBounds!=null&&Q.explicitBounds.length){U.uint32(58).fork();for(var z=0;z<Q.explicitBounds.length;++z)U.double(Q.explicitBounds[z]);U.ldelim()}if(Q.exemplars!=null&&Q.exemplars.length)for(var z=0;z<Q.exemplars.length;++z)E.opentelemetry.proto.metrics.v1.Exemplar.encode(Q.exemplars[z],U.uint32(66).fork()).ldelim();if(Q.attributes!=null&&Q.attributes.length)for(var z=0;z<Q.attributes.length;++z)E.opentelemetry.proto.common.v1.KeyValue.encode(Q.attributes[z],U.uint32(74).fork()).ldelim();if(Q.flags!=null&&Object.hasOwnProperty.call(Q,"flags"))U.uint32(80).uint32(Q.flags);if(Q.min!=null&&Object.hasOwnProperty.call(Q,"min"))U.uint32(89).double(Q.min);if(Q.max!=null&&Object.hasOwnProperty.call(Q,"max"))U.uint32(97).double(Q.max);return U},W.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},W.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.metrics.v1.HistogramDataPoint;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 9:{if(!(O.attributes&&O.attributes.length))O.attributes=[];O.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(Q,Q.uint32()));break}case 2:{O.startTimeUnixNano=Q.fixed64();break}case 3:{O.timeUnixNano=Q.fixed64();break}case 4:{O.count=Q.fixed64();break}case 5:{O.sum=Q.double();break}case 6:{if(!(O.bucketCounts&&O.bucketCounts.length))O.bucketCounts=[];if((K&7)===2){var B=Q.uint32()+Q.pos;while(Q.pos<B)O.bucketCounts.push(Q.fixed64())}else O.bucketCounts.push(Q.fixed64());break}case 7:{if(!(O.explicitBounds&&O.explicitBounds.length))O.explicitBounds=[];if((K&7)===2){var B=Q.uint32()+Q.pos;while(Q.pos<B)O.explicitBounds.push(Q.double())}else O.explicitBounds.push(Q.double());break}case 8:{if(!(O.exemplars&&O.exemplars.length))O.exemplars=[];O.exemplars.push(E.opentelemetry.proto.metrics.v1.Exemplar.decode(Q,Q.uint32()));break}case 10:{O.flags=Q.uint32();break}case 11:{O.min=Q.double();break}case 12:{O.max=Q.double();break}default:Q.skipType(K&7);break}}return O},W.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},W.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";var U={};if(Q.attributes!=null&&Q.hasOwnProperty("attributes")){if(!Array.isArray(Q.attributes))return"attributes: array expected";for(var z=0;z<Q.attributes.length;++z){var H=E.opentelemetry.proto.common.v1.KeyValue.verify(Q.attributes[z]);if(H)return"attributes."+H}}if(Q.startTimeUnixNano!=null&&Q.hasOwnProperty("startTimeUnixNano")){if(!T.isInteger(Q.startTimeUnixNano)&&!(Q.startTimeUnixNano&&T.isInteger(Q.startTimeUnixNano.low)&&T.isInteger(Q.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected"}if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano")){if(!T.isInteger(Q.timeUnixNano)&&!(Q.timeUnixNano&&T.isInteger(Q.timeUnixNano.low)&&T.isInteger(Q.timeUnixNano.high)))return"timeUnixNano: integer|Long expected"}if(Q.count!=null&&Q.hasOwnProperty("count")){if(!T.isInteger(Q.count)&&!(Q.count&&T.isInteger(Q.count.low)&&T.isInteger(Q.count.high)))return"count: integer|Long expected"}if(Q.sum!=null&&Q.hasOwnProperty("sum")){if(U._sum=1,typeof Q.sum!=="number")return"sum: number expected"}if(Q.bucketCounts!=null&&Q.hasOwnProperty("bucketCounts")){if(!Array.isArray(Q.bucketCounts))return"bucketCounts: array expected";for(var z=0;z<Q.bucketCounts.length;++z)if(!T.isInteger(Q.bucketCounts[z])&&!(Q.bucketCounts[z]&&T.isInteger(Q.bucketCounts[z].low)&&T.isInteger(Q.bucketCounts[z].high)))return"bucketCounts: integer|Long[] expected"}if(Q.explicitBounds!=null&&Q.hasOwnProperty("explicitBounds")){if(!Array.isArray(Q.explicitBounds))return"explicitBounds: array expected";for(var z=0;z<Q.explicitBounds.length;++z)if(typeof Q.explicitBounds[z]!=="number")return"explicitBounds: number[] expected"}if(Q.exemplars!=null&&Q.hasOwnProperty("exemplars")){if(!Array.isArray(Q.exemplars))return"exemplars: array expected";for(var z=0;z<Q.exemplars.length;++z){var H=E.opentelemetry.proto.metrics.v1.Exemplar.verify(Q.exemplars[z]);if(H)return"exemplars."+H}}if(Q.flags!=null&&Q.hasOwnProperty("flags")){if(!T.isInteger(Q.flags))return"flags: integer expected"}if(Q.min!=null&&Q.hasOwnProperty("min")){if(U._min=1,typeof Q.min!=="number")return"min: number expected"}if(Q.max!=null&&Q.hasOwnProperty("max")){if(U._max=1,typeof Q.max!=="number")return"max: number expected"}return null},W.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.metrics.v1.HistogramDataPoint)return Q;var U=new E.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(Q.attributes){if(!Array.isArray(Q.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");U.attributes=[];for(var z=0;z<Q.attributes.length;++z){if(typeof Q.attributes[z]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");U.attributes[z]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(Q.attributes[z])}}if(Q.startTimeUnixNano!=null){if(T.Long)(U.startTimeUnixNano=T.Long.fromValue(Q.startTimeUnixNano)).unsigned=!1;else if(typeof Q.startTimeUnixNano==="string")U.startTimeUnixNano=parseInt(Q.startTimeUnixNano,10);else if(typeof Q.startTimeUnixNano==="number")U.startTimeUnixNano=Q.startTimeUnixNano;else if(typeof Q.startTimeUnixNano==="object")U.startTimeUnixNano=new T.LongBits(Q.startTimeUnixNano.low>>>0,Q.startTimeUnixNano.high>>>0).toNumber()}if(Q.timeUnixNano!=null){if(T.Long)(U.timeUnixNano=T.Long.fromValue(Q.timeUnixNano)).unsigned=!1;else if(typeof Q.timeUnixNano==="string")U.timeUnixNano=parseInt(Q.timeUnixNano,10);else if(typeof Q.timeUnixNano==="number")U.timeUnixNano=Q.timeUnixNano;else if(typeof Q.timeUnixNano==="object")U.timeUnixNano=new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber()}if(Q.count!=null){if(T.Long)(U.count=T.Long.fromValue(Q.count)).unsigned=!1;else if(typeof Q.count==="string")U.count=parseInt(Q.count,10);else if(typeof Q.count==="number")U.count=Q.count;else if(typeof Q.count==="object")U.count=new T.LongBits(Q.count.low>>>0,Q.count.high>>>0).toNumber()}if(Q.sum!=null)U.sum=Number(Q.sum);if(Q.bucketCounts){if(!Array.isArray(Q.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");U.bucketCounts=[];for(var z=0;z<Q.bucketCounts.length;++z)if(T.Long)(U.bucketCounts[z]=T.Long.fromValue(Q.bucketCounts[z])).unsigned=!1;else if(typeof Q.bucketCounts[z]==="string")U.bucketCounts[z]=parseInt(Q.bucketCounts[z],10);else if(typeof Q.bucketCounts[z]==="number")U.bucketCounts[z]=Q.bucketCounts[z];else if(typeof Q.bucketCounts[z]==="object")U.bucketCounts[z]=new T.LongBits(Q.bucketCounts[z].low>>>0,Q.bucketCounts[z].high>>>0).toNumber()}if(Q.explicitBounds){if(!Array.isArray(Q.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");U.explicitBounds=[];for(var z=0;z<Q.explicitBounds.length;++z)U.explicitBounds[z]=Number(Q.explicitBounds[z])}if(Q.exemplars){if(!Array.isArray(Q.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");U.exemplars=[];for(var z=0;z<Q.exemplars.length;++z){if(typeof Q.exemplars[z]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");U.exemplars[z]=E.opentelemetry.proto.metrics.v1.Exemplar.fromObject(Q.exemplars[z])}}if(Q.flags!=null)U.flags=Q.flags>>>0;if(Q.min!=null)U.min=Number(Q.min);if(Q.max!=null)U.max=Number(Q.max);return U},W.toObject=function(Q,U){if(!U)U={};var z={};if(U.arrays||U.defaults)z.bucketCounts=[],z.explicitBounds=[],z.exemplars=[],z.attributes=[];if(U.defaults){if(T.Long){var H=new T.Long(0,0,!1);z.startTimeUnixNano=U.longs===String?H.toString():U.longs===Number?H.toNumber():H}else z.startTimeUnixNano=U.longs===String?"0":0;if(T.Long){var H=new T.Long(0,0,!1);z.timeUnixNano=U.longs===String?H.toString():U.longs===Number?H.toNumber():H}else z.timeUnixNano=U.longs===String?"0":0;if(T.Long){var H=new T.Long(0,0,!1);z.count=U.longs===String?H.toString():U.longs===Number?H.toNumber():H}else z.count=U.longs===String?"0":0;z.flags=0}if(Q.startTimeUnixNano!=null&&Q.hasOwnProperty("startTimeUnixNano"))if(typeof Q.startTimeUnixNano==="number")z.startTimeUnixNano=U.longs===String?String(Q.startTimeUnixNano):Q.startTimeUnixNano;else z.startTimeUnixNano=U.longs===String?T.Long.prototype.toString.call(Q.startTimeUnixNano):U.longs===Number?new T.LongBits(Q.startTimeUnixNano.low>>>0,Q.startTimeUnixNano.high>>>0).toNumber():Q.startTimeUnixNano;if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano"))if(typeof Q.timeUnixNano==="number")z.timeUnixNano=U.longs===String?String(Q.timeUnixNano):Q.timeUnixNano;else z.timeUnixNano=U.longs===String?T.Long.prototype.toString.call(Q.timeUnixNano):U.longs===Number?new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber():Q.timeUnixNano;if(Q.count!=null&&Q.hasOwnProperty("count"))if(typeof Q.count==="number")z.count=U.longs===String?String(Q.count):Q.count;else z.count=U.longs===String?T.Long.prototype.toString.call(Q.count):U.longs===Number?new T.LongBits(Q.count.low>>>0,Q.count.high>>>0).toNumber():Q.count;if(Q.sum!=null&&Q.hasOwnProperty("sum")){if(z.sum=U.json&&!isFinite(Q.sum)?String(Q.sum):Q.sum,U.oneofs)z._sum="sum"}if(Q.bucketCounts&&Q.bucketCounts.length){z.bucketCounts=[];for(var O=0;O<Q.bucketCounts.length;++O)if(typeof Q.bucketCounts[O]==="number")z.bucketCounts[O]=U.longs===String?String(Q.bucketCounts[O]):Q.bucketCounts[O];else z.bucketCounts[O]=U.longs===String?T.Long.prototype.toString.call(Q.bucketCounts[O]):U.longs===Number?new T.LongBits(Q.bucketCounts[O].low>>>0,Q.bucketCounts[O].high>>>0).toNumber():Q.bucketCounts[O]}if(Q.explicitBounds&&Q.explicitBounds.length){z.explicitBounds=[];for(var O=0;O<Q.explicitBounds.length;++O)z.explicitBounds[O]=U.json&&!isFinite(Q.explicitBounds[O])?String(Q.explicitBounds[O]):Q.explicitBounds[O]}if(Q.exemplars&&Q.exemplars.length){z.exemplars=[];for(var O=0;O<Q.exemplars.length;++O)z.exemplars[O]=E.opentelemetry.proto.metrics.v1.Exemplar.toObject(Q.exemplars[O],U)}if(Q.attributes&&Q.attributes.length){z.attributes=[];for(var O=0;O<Q.attributes.length;++O)z.attributes[O]=E.opentelemetry.proto.common.v1.KeyValue.toObject(Q.attributes[O],U)}if(Q.flags!=null&&Q.hasOwnProperty("flags"))z.flags=Q.flags;if(Q.min!=null&&Q.hasOwnProperty("min")){if(z.min=U.json&&!isFinite(Q.min)?String(Q.min):Q.min,U.oneofs)z._min="min"}if(Q.max!=null&&Q.hasOwnProperty("max")){if(z.max=U.json&&!isFinite(Q.max)?String(Q.max):Q.max,U.oneofs)z._max="max"}return z},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},W}(),Z.ExponentialHistogramDataPoint=function(){function W(G){if(this.attributes=[],this.exemplars=[],G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}W.prototype.attributes=T.emptyArray,W.prototype.startTimeUnixNano=null,W.prototype.timeUnixNano=null,W.prototype.count=null,W.prototype.sum=null,W.prototype.scale=null,W.prototype.zeroCount=null,W.prototype.positive=null,W.prototype.negative=null,W.prototype.flags=null,W.prototype.exemplars=T.emptyArray,W.prototype.min=null,W.prototype.max=null,W.prototype.zeroThreshold=null;var $;return Object.defineProperty(W.prototype,"_sum",{get:T.oneOfGetter($=["sum"]),set:T.oneOfSetter($)}),Object.defineProperty(W.prototype,"_min",{get:T.oneOfGetter($=["min"]),set:T.oneOfSetter($)}),Object.defineProperty(W.prototype,"_max",{get:T.oneOfGetter($=["max"]),set:T.oneOfSetter($)}),W.create=function(Q){return new W(Q)},W.encode=function(Q,U){if(!U)U=P0.create();if(Q.attributes!=null&&Q.attributes.length)for(var z=0;z<Q.attributes.length;++z)E.opentelemetry.proto.common.v1.KeyValue.encode(Q.attributes[z],U.uint32(10).fork()).ldelim();if(Q.startTimeUnixNano!=null&&Object.hasOwnProperty.call(Q,"startTimeUnixNano"))U.uint32(17).fixed64(Q.startTimeUnixNano);if(Q.timeUnixNano!=null&&Object.hasOwnProperty.call(Q,"timeUnixNano"))U.uint32(25).fixed64(Q.timeUnixNano);if(Q.count!=null&&Object.hasOwnProperty.call(Q,"count"))U.uint32(33).fixed64(Q.count);if(Q.sum!=null&&Object.hasOwnProperty.call(Q,"sum"))U.uint32(41).double(Q.sum);if(Q.scale!=null&&Object.hasOwnProperty.call(Q,"scale"))U.uint32(48).sint32(Q.scale);if(Q.zeroCount!=null&&Object.hasOwnProperty.call(Q,"zeroCount"))U.uint32(57).fixed64(Q.zeroCount);if(Q.positive!=null&&Object.hasOwnProperty.call(Q,"positive"))E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(Q.positive,U.uint32(66).fork()).ldelim();if(Q.negative!=null&&Object.hasOwnProperty.call(Q,"negative"))E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(Q.negative,U.uint32(74).fork()).ldelim();if(Q.flags!=null&&Object.hasOwnProperty.call(Q,"flags"))U.uint32(80).uint32(Q.flags);if(Q.exemplars!=null&&Q.exemplars.length)for(var z=0;z<Q.exemplars.length;++z)E.opentelemetry.proto.metrics.v1.Exemplar.encode(Q.exemplars[z],U.uint32(90).fork()).ldelim();if(Q.min!=null&&Object.hasOwnProperty.call(Q,"min"))U.uint32(97).double(Q.min);if(Q.max!=null&&Object.hasOwnProperty.call(Q,"max"))U.uint32(105).double(Q.max);if(Q.zeroThreshold!=null&&Object.hasOwnProperty.call(Q,"zeroThreshold"))U.uint32(113).double(Q.zeroThreshold);return U},W.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},W.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{if(!(O.attributes&&O.attributes.length))O.attributes=[];O.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(Q,Q.uint32()));break}case 2:{O.startTimeUnixNano=Q.fixed64();break}case 3:{O.timeUnixNano=Q.fixed64();break}case 4:{O.count=Q.fixed64();break}case 5:{O.sum=Q.double();break}case 6:{O.scale=Q.sint32();break}case 7:{O.zeroCount=Q.fixed64();break}case 8:{O.positive=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(Q,Q.uint32());break}case 9:{O.negative=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(Q,Q.uint32());break}case 10:{O.flags=Q.uint32();break}case 11:{if(!(O.exemplars&&O.exemplars.length))O.exemplars=[];O.exemplars.push(E.opentelemetry.proto.metrics.v1.Exemplar.decode(Q,Q.uint32()));break}case 12:{O.min=Q.double();break}case 13:{O.max=Q.double();break}case 14:{O.zeroThreshold=Q.double();break}default:Q.skipType(K&7);break}}return O},W.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},W.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";var U={};if(Q.attributes!=null&&Q.hasOwnProperty("attributes")){if(!Array.isArray(Q.attributes))return"attributes: array expected";for(var z=0;z<Q.attributes.length;++z){var H=E.opentelemetry.proto.common.v1.KeyValue.verify(Q.attributes[z]);if(H)return"attributes."+H}}if(Q.startTimeUnixNano!=null&&Q.hasOwnProperty("startTimeUnixNano")){if(!T.isInteger(Q.startTimeUnixNano)&&!(Q.startTimeUnixNano&&T.isInteger(Q.startTimeUnixNano.low)&&T.isInteger(Q.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected"}if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano")){if(!T.isInteger(Q.timeUnixNano)&&!(Q.timeUnixNano&&T.isInteger(Q.timeUnixNano.low)&&T.isInteger(Q.timeUnixNano.high)))return"timeUnixNano: integer|Long expected"}if(Q.count!=null&&Q.hasOwnProperty("count")){if(!T.isInteger(Q.count)&&!(Q.count&&T.isInteger(Q.count.low)&&T.isInteger(Q.count.high)))return"count: integer|Long expected"}if(Q.sum!=null&&Q.hasOwnProperty("sum")){if(U._sum=1,typeof Q.sum!=="number")return"sum: number expected"}if(Q.scale!=null&&Q.hasOwnProperty("scale")){if(!T.isInteger(Q.scale))return"scale: integer expected"}if(Q.zeroCount!=null&&Q.hasOwnProperty("zeroCount")){if(!T.isInteger(Q.zeroCount)&&!(Q.zeroCount&&T.isInteger(Q.zeroCount.low)&&T.isInteger(Q.zeroCount.high)))return"zeroCount: integer|Long expected"}if(Q.positive!=null&&Q.hasOwnProperty("positive")){var H=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(Q.positive);if(H)return"positive."+H}if(Q.negative!=null&&Q.hasOwnProperty("negative")){var H=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(Q.negative);if(H)return"negative."+H}if(Q.flags!=null&&Q.hasOwnProperty("flags")){if(!T.isInteger(Q.flags))return"flags: integer expected"}if(Q.exemplars!=null&&Q.hasOwnProperty("exemplars")){if(!Array.isArray(Q.exemplars))return"exemplars: array expected";for(var z=0;z<Q.exemplars.length;++z){var H=E.opentelemetry.proto.metrics.v1.Exemplar.verify(Q.exemplars[z]);if(H)return"exemplars."+H}}if(Q.min!=null&&Q.hasOwnProperty("min")){if(U._min=1,typeof Q.min!=="number")return"min: number expected"}if(Q.max!=null&&Q.hasOwnProperty("max")){if(U._max=1,typeof Q.max!=="number")return"max: number expected"}if(Q.zeroThreshold!=null&&Q.hasOwnProperty("zeroThreshold")){if(typeof Q.zeroThreshold!=="number")return"zeroThreshold: number expected"}return null},W.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return Q;var U=new E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(Q.attributes){if(!Array.isArray(Q.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");U.attributes=[];for(var z=0;z<Q.attributes.length;++z){if(typeof Q.attributes[z]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");U.attributes[z]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(Q.attributes[z])}}if(Q.startTimeUnixNano!=null){if(T.Long)(U.startTimeUnixNano=T.Long.fromValue(Q.startTimeUnixNano)).unsigned=!1;else if(typeof Q.startTimeUnixNano==="string")U.startTimeUnixNano=parseInt(Q.startTimeUnixNano,10);else if(typeof Q.startTimeUnixNano==="number")U.startTimeUnixNano=Q.startTimeUnixNano;else if(typeof Q.startTimeUnixNano==="object")U.startTimeUnixNano=new T.LongBits(Q.startTimeUnixNano.low>>>0,Q.startTimeUnixNano.high>>>0).toNumber()}if(Q.timeUnixNano!=null){if(T.Long)(U.timeUnixNano=T.Long.fromValue(Q.timeUnixNano)).unsigned=!1;else if(typeof Q.timeUnixNano==="string")U.timeUnixNano=parseInt(Q.timeUnixNano,10);else if(typeof Q.timeUnixNano==="number")U.timeUnixNano=Q.timeUnixNano;else if(typeof Q.timeUnixNano==="object")U.timeUnixNano=new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber()}if(Q.count!=null){if(T.Long)(U.count=T.Long.fromValue(Q.count)).unsigned=!1;else if(typeof Q.count==="string")U.count=parseInt(Q.count,10);else if(typeof Q.count==="number")U.count=Q.count;else if(typeof Q.count==="object")U.count=new T.LongBits(Q.count.low>>>0,Q.count.high>>>0).toNumber()}if(Q.sum!=null)U.sum=Number(Q.sum);if(Q.scale!=null)U.scale=Q.scale|0;if(Q.zeroCount!=null){if(T.Long)(U.zeroCount=T.Long.fromValue(Q.zeroCount)).unsigned=!1;else if(typeof Q.zeroCount==="string")U.zeroCount=parseInt(Q.zeroCount,10);else if(typeof Q.zeroCount==="number")U.zeroCount=Q.zeroCount;else if(typeof Q.zeroCount==="object")U.zeroCount=new T.LongBits(Q.zeroCount.low>>>0,Q.zeroCount.high>>>0).toNumber()}if(Q.positive!=null){if(typeof Q.positive!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");U.positive=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(Q.positive)}if(Q.negative!=null){if(typeof Q.negative!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");U.negative=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(Q.negative)}if(Q.flags!=null)U.flags=Q.flags>>>0;if(Q.exemplars){if(!Array.isArray(Q.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");U.exemplars=[];for(var z=0;z<Q.exemplars.length;++z){if(typeof Q.exemplars[z]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");U.exemplars[z]=E.opentelemetry.proto.metrics.v1.Exemplar.fromObject(Q.exemplars[z])}}if(Q.min!=null)U.min=Number(Q.min);if(Q.max!=null)U.max=Number(Q.max);if(Q.zeroThreshold!=null)U.zeroThreshold=Number(Q.zeroThreshold);return U},W.toObject=function(Q,U){if(!U)U={};var z={};if(U.arrays||U.defaults)z.attributes=[],z.exemplars=[];if(U.defaults){if(T.Long){var H=new T.Long(0,0,!1);z.startTimeUnixNano=U.longs===String?H.toString():U.longs===Number?H.toNumber():H}else z.startTimeUnixNano=U.longs===String?"0":0;if(T.Long){var H=new T.Long(0,0,!1);z.timeUnixNano=U.longs===String?H.toString():U.longs===Number?H.toNumber():H}else z.timeUnixNano=U.longs===String?"0":0;if(T.Long){var H=new T.Long(0,0,!1);z.count=U.longs===String?H.toString():U.longs===Number?H.toNumber():H}else z.count=U.longs===String?"0":0;if(z.scale=0,T.Long){var H=new T.Long(0,0,!1);z.zeroCount=U.longs===String?H.toString():U.longs===Number?H.toNumber():H}else z.zeroCount=U.longs===String?"0":0;z.positive=null,z.negative=null,z.flags=0,z.zeroThreshold=0}if(Q.attributes&&Q.attributes.length){z.attributes=[];for(var O=0;O<Q.attributes.length;++O)z.attributes[O]=E.opentelemetry.proto.common.v1.KeyValue.toObject(Q.attributes[O],U)}if(Q.startTimeUnixNano!=null&&Q.hasOwnProperty("startTimeUnixNano"))if(typeof Q.startTimeUnixNano==="number")z.startTimeUnixNano=U.longs===String?String(Q.startTimeUnixNano):Q.startTimeUnixNano;else z.startTimeUnixNano=U.longs===String?T.Long.prototype.toString.call(Q.startTimeUnixNano):U.longs===Number?new T.LongBits(Q.startTimeUnixNano.low>>>0,Q.startTimeUnixNano.high>>>0).toNumber():Q.startTimeUnixNano;if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano"))if(typeof Q.timeUnixNano==="number")z.timeUnixNano=U.longs===String?String(Q.timeUnixNano):Q.timeUnixNano;else z.timeUnixNano=U.longs===String?T.Long.prototype.toString.call(Q.timeUnixNano):U.longs===Number?new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber():Q.timeUnixNano;if(Q.count!=null&&Q.hasOwnProperty("count"))if(typeof Q.count==="number")z.count=U.longs===String?String(Q.count):Q.count;else z.count=U.longs===String?T.Long.prototype.toString.call(Q.count):U.longs===Number?new T.LongBits(Q.count.low>>>0,Q.count.high>>>0).toNumber():Q.count;if(Q.sum!=null&&Q.hasOwnProperty("sum")){if(z.sum=U.json&&!isFinite(Q.sum)?String(Q.sum):Q.sum,U.oneofs)z._sum="sum"}if(Q.scale!=null&&Q.hasOwnProperty("scale"))z.scale=Q.scale;if(Q.zeroCount!=null&&Q.hasOwnProperty("zeroCount"))if(typeof Q.zeroCount==="number")z.zeroCount=U.longs===String?String(Q.zeroCount):Q.zeroCount;else z.zeroCount=U.longs===String?T.Long.prototype.toString.call(Q.zeroCount):U.longs===Number?new T.LongBits(Q.zeroCount.low>>>0,Q.zeroCount.high>>>0).toNumber():Q.zeroCount;if(Q.positive!=null&&Q.hasOwnProperty("positive"))z.positive=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(Q.positive,U);if(Q.negative!=null&&Q.hasOwnProperty("negative"))z.negative=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(Q.negative,U);if(Q.flags!=null&&Q.hasOwnProperty("flags"))z.flags=Q.flags;if(Q.exemplars&&Q.exemplars.length){z.exemplars=[];for(var O=0;O<Q.exemplars.length;++O)z.exemplars[O]=E.opentelemetry.proto.metrics.v1.Exemplar.toObject(Q.exemplars[O],U)}if(Q.min!=null&&Q.hasOwnProperty("min")){if(z.min=U.json&&!isFinite(Q.min)?String(Q.min):Q.min,U.oneofs)z._min="min"}if(Q.max!=null&&Q.hasOwnProperty("max")){if(z.max=U.json&&!isFinite(Q.max)?String(Q.max):Q.max,U.oneofs)z._max="max"}if(Q.zeroThreshold!=null&&Q.hasOwnProperty("zeroThreshold"))z.zeroThreshold=U.json&&!isFinite(Q.zeroThreshold)?String(Q.zeroThreshold):Q.zeroThreshold;return z},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},W.Buckets=function(){function G(Q){if(this.bucketCounts=[],Q){for(var U=Object.keys(Q),z=0;z<U.length;++z)if(Q[U[z]]!=null)this[U[z]]=Q[U[z]]}}return G.prototype.offset=null,G.prototype.bucketCounts=T.emptyArray,G.create=function(U){return new G(U)},G.encode=function(U,z){if(!z)z=P0.create();if(U.offset!=null&&Object.hasOwnProperty.call(U,"offset"))z.uint32(8).sint32(U.offset);if(U.bucketCounts!=null&&U.bucketCounts.length){z.uint32(18).fork();for(var H=0;H<U.bucketCounts.length;++H)z.uint64(U.bucketCounts[H]);z.ldelim()}return z},G.encodeDelimited=function(U,z){return this.encode(U,z).ldelim()},G.decode=function(U,z,H){if(!(U instanceof Y1))U=Y1.create(U);var O=z===void 0?U.len:U.pos+z,K=new E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;while(U.pos<O){var B=U.uint32();if(B===H)break;switch(B>>>3){case 1:{K.offset=U.sint32();break}case 2:{if(!(K.bucketCounts&&K.bucketCounts.length))K.bucketCounts=[];if((B&7)===2){var F=U.uint32()+U.pos;while(U.pos<F)K.bucketCounts.push(U.uint64())}else K.bucketCounts.push(U.uint64());break}default:U.skipType(B&7);break}}return K},G.decodeDelimited=function(U){if(!(U instanceof Y1))U=new Y1(U);return this.decode(U,U.uint32())},G.verify=function(U){if(typeof U!=="object"||U===null)return"object expected";if(U.offset!=null&&U.hasOwnProperty("offset")){if(!T.isInteger(U.offset))return"offset: integer expected"}if(U.bucketCounts!=null&&U.hasOwnProperty("bucketCounts")){if(!Array.isArray(U.bucketCounts))return"bucketCounts: array expected";for(var z=0;z<U.bucketCounts.length;++z)if(!T.isInteger(U.bucketCounts[z])&&!(U.bucketCounts[z]&&T.isInteger(U.bucketCounts[z].low)&&T.isInteger(U.bucketCounts[z].high)))return"bucketCounts: integer|Long[] expected"}return null},G.fromObject=function(U){if(U instanceof E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return U;var z=new E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(U.offset!=null)z.offset=U.offset|0;if(U.bucketCounts){if(!Array.isArray(U.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");z.bucketCounts=[];for(var H=0;H<U.bucketCounts.length;++H)if(T.Long)(z.bucketCounts[H]=T.Long.fromValue(U.bucketCounts[H])).unsigned=!0;else if(typeof U.bucketCounts[H]==="string")z.bucketCounts[H]=parseInt(U.bucketCounts[H],10);else if(typeof U.bucketCounts[H]==="number")z.bucketCounts[H]=U.bucketCounts[H];else if(typeof U.bucketCounts[H]==="object")z.bucketCounts[H]=new T.LongBits(U.bucketCounts[H].low>>>0,U.bucketCounts[H].high>>>0).toNumber(!0)}return z},G.toObject=function(U,z){if(!z)z={};var H={};if(z.arrays||z.defaults)H.bucketCounts=[];if(z.defaults)H.offset=0;if(U.offset!=null&&U.hasOwnProperty("offset"))H.offset=U.offset;if(U.bucketCounts&&U.bucketCounts.length){H.bucketCounts=[];for(var O=0;O<U.bucketCounts.length;++O)if(typeof U.bucketCounts[O]==="number")H.bucketCounts[O]=z.longs===String?String(U.bucketCounts[O]):U.bucketCounts[O];else H.bucketCounts[O]=z.longs===String?T.Long.prototype.toString.call(U.bucketCounts[O]):z.longs===Number?new T.LongBits(U.bucketCounts[O].low>>>0,U.bucketCounts[O].high>>>0).toNumber(!0):U.bucketCounts[O]}return H},G.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},G.getTypeUrl=function(U){if(U===void 0)U="type.googleapis.com";return U+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},G}(),W}(),Z.SummaryDataPoint=function(){function W($){if(this.attributes=[],this.quantileValues=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.attributes=T.emptyArray,W.prototype.startTimeUnixNano=null,W.prototype.timeUnixNano=null,W.prototype.count=null,W.prototype.sum=null,W.prototype.quantileValues=T.emptyArray,W.prototype.flags=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.startTimeUnixNano!=null&&Object.hasOwnProperty.call(G,"startTimeUnixNano"))Q.uint32(17).fixed64(G.startTimeUnixNano);if(G.timeUnixNano!=null&&Object.hasOwnProperty.call(G,"timeUnixNano"))Q.uint32(25).fixed64(G.timeUnixNano);if(G.count!=null&&Object.hasOwnProperty.call(G,"count"))Q.uint32(33).fixed64(G.count);if(G.sum!=null&&Object.hasOwnProperty.call(G,"sum"))Q.uint32(41).double(G.sum);if(G.quantileValues!=null&&G.quantileValues.length)for(var U=0;U<G.quantileValues.length;++U)E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(G.quantileValues[U],Q.uint32(50).fork()).ldelim();if(G.attributes!=null&&G.attributes.length)for(var U=0;U<G.attributes.length;++U)E.opentelemetry.proto.common.v1.KeyValue.encode(G.attributes[U],Q.uint32(58).fork()).ldelim();if(G.flags!=null&&Object.hasOwnProperty.call(G,"flags"))Q.uint32(64).uint32(G.flags);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.metrics.v1.SummaryDataPoint;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 7:{if(!(H.attributes&&H.attributes.length))H.attributes=[];H.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(G,G.uint32()));break}case 2:{H.startTimeUnixNano=G.fixed64();break}case 3:{H.timeUnixNano=G.fixed64();break}case 4:{H.count=G.fixed64();break}case 5:{H.sum=G.double();break}case 6:{if(!(H.quantileValues&&H.quantileValues.length))H.quantileValues=[];H.quantileValues.push(E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(G,G.uint32()));break}case 8:{H.flags=G.uint32();break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.attributes!=null&&G.hasOwnProperty("attributes")){if(!Array.isArray(G.attributes))return"attributes: array expected";for(var Q=0;Q<G.attributes.length;++Q){var U=E.opentelemetry.proto.common.v1.KeyValue.verify(G.attributes[Q]);if(U)return"attributes."+U}}if(G.startTimeUnixNano!=null&&G.hasOwnProperty("startTimeUnixNano")){if(!T.isInteger(G.startTimeUnixNano)&&!(G.startTimeUnixNano&&T.isInteger(G.startTimeUnixNano.low)&&T.isInteger(G.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected"}if(G.timeUnixNano!=null&&G.hasOwnProperty("timeUnixNano")){if(!T.isInteger(G.timeUnixNano)&&!(G.timeUnixNano&&T.isInteger(G.timeUnixNano.low)&&T.isInteger(G.timeUnixNano.high)))return"timeUnixNano: integer|Long expected"}if(G.count!=null&&G.hasOwnProperty("count")){if(!T.isInteger(G.count)&&!(G.count&&T.isInteger(G.count.low)&&T.isInteger(G.count.high)))return"count: integer|Long expected"}if(G.sum!=null&&G.hasOwnProperty("sum")){if(typeof G.sum!=="number")return"sum: number expected"}if(G.quantileValues!=null&&G.hasOwnProperty("quantileValues")){if(!Array.isArray(G.quantileValues))return"quantileValues: array expected";for(var Q=0;Q<G.quantileValues.length;++Q){var U=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(G.quantileValues[Q]);if(U)return"quantileValues."+U}}if(G.flags!=null&&G.hasOwnProperty("flags")){if(!T.isInteger(G.flags))return"flags: integer expected"}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.metrics.v1.SummaryDataPoint)return G;var Q=new E.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(G.attributes){if(!Array.isArray(G.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");Q.attributes=[];for(var U=0;U<G.attributes.length;++U){if(typeof G.attributes[U]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");Q.attributes[U]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(G.attributes[U])}}if(G.startTimeUnixNano!=null){if(T.Long)(Q.startTimeUnixNano=T.Long.fromValue(G.startTimeUnixNano)).unsigned=!1;else if(typeof G.startTimeUnixNano==="string")Q.startTimeUnixNano=parseInt(G.startTimeUnixNano,10);else if(typeof G.startTimeUnixNano==="number")Q.startTimeUnixNano=G.startTimeUnixNano;else if(typeof G.startTimeUnixNano==="object")Q.startTimeUnixNano=new T.LongBits(G.startTimeUnixNano.low>>>0,G.startTimeUnixNano.high>>>0).toNumber()}if(G.timeUnixNano!=null){if(T.Long)(Q.timeUnixNano=T.Long.fromValue(G.timeUnixNano)).unsigned=!1;else if(typeof G.timeUnixNano==="string")Q.timeUnixNano=parseInt(G.timeUnixNano,10);else if(typeof G.timeUnixNano==="number")Q.timeUnixNano=G.timeUnixNano;else if(typeof G.timeUnixNano==="object")Q.timeUnixNano=new T.LongBits(G.timeUnixNano.low>>>0,G.timeUnixNano.high>>>0).toNumber()}if(G.count!=null){if(T.Long)(Q.count=T.Long.fromValue(G.count)).unsigned=!1;else if(typeof G.count==="string")Q.count=parseInt(G.count,10);else if(typeof G.count==="number")Q.count=G.count;else if(typeof G.count==="object")Q.count=new T.LongBits(G.count.low>>>0,G.count.high>>>0).toNumber()}if(G.sum!=null)Q.sum=Number(G.sum);if(G.quantileValues){if(!Array.isArray(G.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");Q.quantileValues=[];for(var U=0;U<G.quantileValues.length;++U){if(typeof G.quantileValues[U]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");Q.quantileValues[U]=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(G.quantileValues[U])}}if(G.flags!=null)Q.flags=G.flags>>>0;return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.quantileValues=[],U.attributes=[];if(Q.defaults){if(T.Long){var z=new T.Long(0,0,!1);U.startTimeUnixNano=Q.longs===String?z.toString():Q.longs===Number?z.toNumber():z}else U.startTimeUnixNano=Q.longs===String?"0":0;if(T.Long){var z=new T.Long(0,0,!1);U.timeUnixNano=Q.longs===String?z.toString():Q.longs===Number?z.toNumber():z}else U.timeUnixNano=Q.longs===String?"0":0;if(T.Long){var z=new T.Long(0,0,!1);U.count=Q.longs===String?z.toString():Q.longs===Number?z.toNumber():z}else U.count=Q.longs===String?"0":0;U.sum=0,U.flags=0}if(G.startTimeUnixNano!=null&&G.hasOwnProperty("startTimeUnixNano"))if(typeof G.startTimeUnixNano==="number")U.startTimeUnixNano=Q.longs===String?String(G.startTimeUnixNano):G.startTimeUnixNano;else U.startTimeUnixNano=Q.longs===String?T.Long.prototype.toString.call(G.startTimeUnixNano):Q.longs===Number?new T.LongBits(G.startTimeUnixNano.low>>>0,G.startTimeUnixNano.high>>>0).toNumber():G.startTimeUnixNano;if(G.timeUnixNano!=null&&G.hasOwnProperty("timeUnixNano"))if(typeof G.timeUnixNano==="number")U.timeUnixNano=Q.longs===String?String(G.timeUnixNano):G.timeUnixNano;else U.timeUnixNano=Q.longs===String?T.Long.prototype.toString.call(G.timeUnixNano):Q.longs===Number?new T.LongBits(G.timeUnixNano.low>>>0,G.timeUnixNano.high>>>0).toNumber():G.timeUnixNano;if(G.count!=null&&G.hasOwnProperty("count"))if(typeof G.count==="number")U.count=Q.longs===String?String(G.count):G.count;else U.count=Q.longs===String?T.Long.prototype.toString.call(G.count):Q.longs===Number?new T.LongBits(G.count.low>>>0,G.count.high>>>0).toNumber():G.count;if(G.sum!=null&&G.hasOwnProperty("sum"))U.sum=Q.json&&!isFinite(G.sum)?String(G.sum):G.sum;if(G.quantileValues&&G.quantileValues.length){U.quantileValues=[];for(var H=0;H<G.quantileValues.length;++H)U.quantileValues[H]=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(G.quantileValues[H],Q)}if(G.attributes&&G.attributes.length){U.attributes=[];for(var H=0;H<G.attributes.length;++H)U.attributes[H]=E.opentelemetry.proto.common.v1.KeyValue.toObject(G.attributes[H],Q)}if(G.flags!=null&&G.hasOwnProperty("flags"))U.flags=G.flags;return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},W.ValueAtQuantile=function(){function $(G){if(G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}return $.prototype.quantile=null,$.prototype.value=null,$.create=function(Q){return new $(Q)},$.encode=function(Q,U){if(!U)U=P0.create();if(Q.quantile!=null&&Object.hasOwnProperty.call(Q,"quantile"))U.uint32(9).double(Q.quantile);if(Q.value!=null&&Object.hasOwnProperty.call(Q,"value"))U.uint32(17).double(Q.value);return U},$.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},$.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 1:{O.quantile=Q.double();break}case 2:{O.value=Q.double();break}default:Q.skipType(K&7);break}}return O},$.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},$.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";if(Q.quantile!=null&&Q.hasOwnProperty("quantile")){if(typeof Q.quantile!=="number")return"quantile: number expected"}if(Q.value!=null&&Q.hasOwnProperty("value")){if(typeof Q.value!=="number")return"value: number expected"}return null},$.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return Q;var U=new E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;if(Q.quantile!=null)U.quantile=Number(Q.quantile);if(Q.value!=null)U.value=Number(Q.value);return U},$.toObject=function(Q,U){if(!U)U={};var z={};if(U.defaults)z.quantile=0,z.value=0;if(Q.quantile!=null&&Q.hasOwnProperty("quantile"))z.quantile=U.json&&!isFinite(Q.quantile)?String(Q.quantile):Q.quantile;if(Q.value!=null&&Q.hasOwnProperty("value"))z.value=U.json&&!isFinite(Q.value)?String(Q.value):Q.value;return z},$.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},$.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},$}(),W}(),Z.Exemplar=function(){function W(G){if(this.filteredAttributes=[],G){for(var Q=Object.keys(G),U=0;U<Q.length;++U)if(G[Q[U]]!=null)this[Q[U]]=G[Q[U]]}}W.prototype.filteredAttributes=T.emptyArray,W.prototype.timeUnixNano=null,W.prototype.asDouble=null,W.prototype.asInt=null,W.prototype.spanId=null,W.prototype.traceId=null;var $;return Object.defineProperty(W.prototype,"value",{get:T.oneOfGetter($=["asDouble","asInt"]),set:T.oneOfSetter($)}),W.create=function(Q){return new W(Q)},W.encode=function(Q,U){if(!U)U=P0.create();if(Q.timeUnixNano!=null&&Object.hasOwnProperty.call(Q,"timeUnixNano"))U.uint32(17).fixed64(Q.timeUnixNano);if(Q.asDouble!=null&&Object.hasOwnProperty.call(Q,"asDouble"))U.uint32(25).double(Q.asDouble);if(Q.spanId!=null&&Object.hasOwnProperty.call(Q,"spanId"))U.uint32(34).bytes(Q.spanId);if(Q.traceId!=null&&Object.hasOwnProperty.call(Q,"traceId"))U.uint32(42).bytes(Q.traceId);if(Q.asInt!=null&&Object.hasOwnProperty.call(Q,"asInt"))U.uint32(49).sfixed64(Q.asInt);if(Q.filteredAttributes!=null&&Q.filteredAttributes.length)for(var z=0;z<Q.filteredAttributes.length;++z)E.opentelemetry.proto.common.v1.KeyValue.encode(Q.filteredAttributes[z],U.uint32(58).fork()).ldelim();return U},W.encodeDelimited=function(Q,U){return this.encode(Q,U).ldelim()},W.decode=function(Q,U,z){if(!(Q instanceof Y1))Q=Y1.create(Q);var H=U===void 0?Q.len:Q.pos+U,O=new E.opentelemetry.proto.metrics.v1.Exemplar;while(Q.pos<H){var K=Q.uint32();if(K===z)break;switch(K>>>3){case 7:{if(!(O.filteredAttributes&&O.filteredAttributes.length))O.filteredAttributes=[];O.filteredAttributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(Q,Q.uint32()));break}case 2:{O.timeUnixNano=Q.fixed64();break}case 3:{O.asDouble=Q.double();break}case 6:{O.asInt=Q.sfixed64();break}case 4:{O.spanId=Q.bytes();break}case 5:{O.traceId=Q.bytes();break}default:Q.skipType(K&7);break}}return O},W.decodeDelimited=function(Q){if(!(Q instanceof Y1))Q=new Y1(Q);return this.decode(Q,Q.uint32())},W.verify=function(Q){if(typeof Q!=="object"||Q===null)return"object expected";var U={};if(Q.filteredAttributes!=null&&Q.hasOwnProperty("filteredAttributes")){if(!Array.isArray(Q.filteredAttributes))return"filteredAttributes: array expected";for(var z=0;z<Q.filteredAttributes.length;++z){var H=E.opentelemetry.proto.common.v1.KeyValue.verify(Q.filteredAttributes[z]);if(H)return"filteredAttributes."+H}}if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano")){if(!T.isInteger(Q.timeUnixNano)&&!(Q.timeUnixNano&&T.isInteger(Q.timeUnixNano.low)&&T.isInteger(Q.timeUnixNano.high)))return"timeUnixNano: integer|Long expected"}if(Q.asDouble!=null&&Q.hasOwnProperty("asDouble")){if(U.value=1,typeof Q.asDouble!=="number")return"asDouble: number expected"}if(Q.asInt!=null&&Q.hasOwnProperty("asInt")){if(U.value===1)return"value: multiple values";if(U.value=1,!T.isInteger(Q.asInt)&&!(Q.asInt&&T.isInteger(Q.asInt.low)&&T.isInteger(Q.asInt.high)))return"asInt: integer|Long expected"}if(Q.spanId!=null&&Q.hasOwnProperty("spanId")){if(!(Q.spanId&&typeof Q.spanId.length==="number"||T.isString(Q.spanId)))return"spanId: buffer expected"}if(Q.traceId!=null&&Q.hasOwnProperty("traceId")){if(!(Q.traceId&&typeof Q.traceId.length==="number"||T.isString(Q.traceId)))return"traceId: buffer expected"}return null},W.fromObject=function(Q){if(Q instanceof E.opentelemetry.proto.metrics.v1.Exemplar)return Q;var U=new E.opentelemetry.proto.metrics.v1.Exemplar;if(Q.filteredAttributes){if(!Array.isArray(Q.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");U.filteredAttributes=[];for(var z=0;z<Q.filteredAttributes.length;++z){if(typeof Q.filteredAttributes[z]!=="object")throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");U.filteredAttributes[z]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(Q.filteredAttributes[z])}}if(Q.timeUnixNano!=null){if(T.Long)(U.timeUnixNano=T.Long.fromValue(Q.timeUnixNano)).unsigned=!1;else if(typeof Q.timeUnixNano==="string")U.timeUnixNano=parseInt(Q.timeUnixNano,10);else if(typeof Q.timeUnixNano==="number")U.timeUnixNano=Q.timeUnixNano;else if(typeof Q.timeUnixNano==="object")U.timeUnixNano=new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber()}if(Q.asDouble!=null)U.asDouble=Number(Q.asDouble);if(Q.asInt!=null){if(T.Long)(U.asInt=T.Long.fromValue(Q.asInt)).unsigned=!1;else if(typeof Q.asInt==="string")U.asInt=parseInt(Q.asInt,10);else if(typeof Q.asInt==="number")U.asInt=Q.asInt;else if(typeof Q.asInt==="object")U.asInt=new T.LongBits(Q.asInt.low>>>0,Q.asInt.high>>>0).toNumber()}if(Q.spanId!=null){if(typeof Q.spanId==="string")T.base64.decode(Q.spanId,U.spanId=T.newBuffer(T.base64.length(Q.spanId)),0);else if(Q.spanId.length>=0)U.spanId=Q.spanId}if(Q.traceId!=null){if(typeof Q.traceId==="string")T.base64.decode(Q.traceId,U.traceId=T.newBuffer(T.base64.length(Q.traceId)),0);else if(Q.traceId.length>=0)U.traceId=Q.traceId}return U},W.toObject=function(Q,U){if(!U)U={};var z={};if(U.arrays||U.defaults)z.filteredAttributes=[];if(U.defaults){if(T.Long){var H=new T.Long(0,0,!1);z.timeUnixNano=U.longs===String?H.toString():U.longs===Number?H.toNumber():H}else z.timeUnixNano=U.longs===String?"0":0;if(U.bytes===String)z.spanId="";else if(z.spanId=[],U.bytes!==Array)z.spanId=T.newBuffer(z.spanId);if(U.bytes===String)z.traceId="";else if(z.traceId=[],U.bytes!==Array)z.traceId=T.newBuffer(z.traceId)}if(Q.timeUnixNano!=null&&Q.hasOwnProperty("timeUnixNano"))if(typeof Q.timeUnixNano==="number")z.timeUnixNano=U.longs===String?String(Q.timeUnixNano):Q.timeUnixNano;else z.timeUnixNano=U.longs===String?T.Long.prototype.toString.call(Q.timeUnixNano):U.longs===Number?new T.LongBits(Q.timeUnixNano.low>>>0,Q.timeUnixNano.high>>>0).toNumber():Q.timeUnixNano;if(Q.asDouble!=null&&Q.hasOwnProperty("asDouble")){if(z.asDouble=U.json&&!isFinite(Q.asDouble)?String(Q.asDouble):Q.asDouble,U.oneofs)z.value="asDouble"}if(Q.spanId!=null&&Q.hasOwnProperty("spanId"))z.spanId=U.bytes===String?T.base64.encode(Q.spanId,0,Q.spanId.length):U.bytes===Array?Array.prototype.slice.call(Q.spanId):Q.spanId;if(Q.traceId!=null&&Q.hasOwnProperty("traceId"))z.traceId=U.bytes===String?T.base64.encode(Q.traceId,0,Q.traceId.length):U.bytes===Array?Array.prototype.slice.call(Q.traceId):Q.traceId;if(Q.asInt!=null&&Q.hasOwnProperty("asInt")){if(typeof Q.asInt==="number")z.asInt=U.longs===String?String(Q.asInt):Q.asInt;else z.asInt=U.longs===String?T.Long.prototype.toString.call(Q.asInt):U.longs===Number?new T.LongBits(Q.asInt.low>>>0,Q.asInt.high>>>0).toNumber():Q.asInt;if(U.oneofs)z.value="asInt"}if(Q.filteredAttributes&&Q.filteredAttributes.length){z.filteredAttributes=[];for(var O=0;O<Q.filteredAttributes.length;++O)z.filteredAttributes[O]=E.opentelemetry.proto.common.v1.KeyValue.toObject(Q.filteredAttributes[O],U)}return z},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(Q){if(Q===void 0)Q="type.googleapis.com";return Q+"/opentelemetry.proto.metrics.v1.Exemplar"},W}(),Z}(),X}(),J.logs=function(){var X={};return X.v1=function(){var Z={};return Z.LogsData=function(){function W($){if(this.resourceLogs=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.resourceLogs=T.emptyArray,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.resourceLogs!=null&&G.resourceLogs.length)for(var U=0;U<G.resourceLogs.length;++U)E.opentelemetry.proto.logs.v1.ResourceLogs.encode(G.resourceLogs[U],Q.uint32(10).fork()).ldelim();return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.logs.v1.LogsData;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{if(!(H.resourceLogs&&H.resourceLogs.length))H.resourceLogs=[];H.resourceLogs.push(E.opentelemetry.proto.logs.v1.ResourceLogs.decode(G,G.uint32()));break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.resourceLogs!=null&&G.hasOwnProperty("resourceLogs")){if(!Array.isArray(G.resourceLogs))return"resourceLogs: array expected";for(var Q=0;Q<G.resourceLogs.length;++Q){var U=E.opentelemetry.proto.logs.v1.ResourceLogs.verify(G.resourceLogs[Q]);if(U)return"resourceLogs."+U}}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.logs.v1.LogsData)return G;var Q=new E.opentelemetry.proto.logs.v1.LogsData;if(G.resourceLogs){if(!Array.isArray(G.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");Q.resourceLogs=[];for(var U=0;U<G.resourceLogs.length;++U){if(typeof G.resourceLogs[U]!=="object")throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");Q.resourceLogs[U]=E.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(G.resourceLogs[U])}}return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.resourceLogs=[];if(G.resourceLogs&&G.resourceLogs.length){U.resourceLogs=[];for(var z=0;z<G.resourceLogs.length;++z)U.resourceLogs[z]=E.opentelemetry.proto.logs.v1.ResourceLogs.toObject(G.resourceLogs[z],Q)}return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.logs.v1.LogsData"},W}(),Z.ResourceLogs=function(){function W($){if(this.scopeLogs=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.resource=null,W.prototype.scopeLogs=T.emptyArray,W.prototype.schemaUrl=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.resource!=null&&Object.hasOwnProperty.call(G,"resource"))E.opentelemetry.proto.resource.v1.Resource.encode(G.resource,Q.uint32(10).fork()).ldelim();if(G.scopeLogs!=null&&G.scopeLogs.length)for(var U=0;U<G.scopeLogs.length;++U)E.opentelemetry.proto.logs.v1.ScopeLogs.encode(G.scopeLogs[U],Q.uint32(18).fork()).ldelim();if(G.schemaUrl!=null&&Object.hasOwnProperty.call(G,"schemaUrl"))Q.uint32(26).string(G.schemaUrl);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.logs.v1.ResourceLogs;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{H.resource=E.opentelemetry.proto.resource.v1.Resource.decode(G,G.uint32());break}case 2:{if(!(H.scopeLogs&&H.scopeLogs.length))H.scopeLogs=[];H.scopeLogs.push(E.opentelemetry.proto.logs.v1.ScopeLogs.decode(G,G.uint32()));break}case 3:{H.schemaUrl=G.string();break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.resource!=null&&G.hasOwnProperty("resource")){var Q=E.opentelemetry.proto.resource.v1.Resource.verify(G.resource);if(Q)return"resource."+Q}if(G.scopeLogs!=null&&G.hasOwnProperty("scopeLogs")){if(!Array.isArray(G.scopeLogs))return"scopeLogs: array expected";for(var U=0;U<G.scopeLogs.length;++U){var Q=E.opentelemetry.proto.logs.v1.ScopeLogs.verify(G.scopeLogs[U]);if(Q)return"scopeLogs."+Q}}if(G.schemaUrl!=null&&G.hasOwnProperty("schemaUrl")){if(!T.isString(G.schemaUrl))return"schemaUrl: string expected"}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.logs.v1.ResourceLogs)return G;var Q=new E.opentelemetry.proto.logs.v1.ResourceLogs;if(G.resource!=null){if(typeof G.resource!=="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");Q.resource=E.opentelemetry.proto.resource.v1.Resource.fromObject(G.resource)}if(G.scopeLogs){if(!Array.isArray(G.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");Q.scopeLogs=[];for(var U=0;U<G.scopeLogs.length;++U){if(typeof G.scopeLogs[U]!=="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");Q.scopeLogs[U]=E.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(G.scopeLogs[U])}}if(G.schemaUrl!=null)Q.schemaUrl=String(G.schemaUrl);return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.scopeLogs=[];if(Q.defaults)U.resource=null,U.schemaUrl="";if(G.resource!=null&&G.hasOwnProperty("resource"))U.resource=E.opentelemetry.proto.resource.v1.Resource.toObject(G.resource,Q);if(G.scopeLogs&&G.scopeLogs.length){U.scopeLogs=[];for(var z=0;z<G.scopeLogs.length;++z)U.scopeLogs[z]=E.opentelemetry.proto.logs.v1.ScopeLogs.toObject(G.scopeLogs[z],Q)}if(G.schemaUrl!=null&&G.hasOwnProperty("schemaUrl"))U.schemaUrl=G.schemaUrl;return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.logs.v1.ResourceLogs"},W}(),Z.ScopeLogs=function(){function W($){if(this.logRecords=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.scope=null,W.prototype.logRecords=T.emptyArray,W.prototype.schemaUrl=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.scope!=null&&Object.hasOwnProperty.call(G,"scope"))E.opentelemetry.proto.common.v1.InstrumentationScope.encode(G.scope,Q.uint32(10).fork()).ldelim();if(G.logRecords!=null&&G.logRecords.length)for(var U=0;U<G.logRecords.length;++U)E.opentelemetry.proto.logs.v1.LogRecord.encode(G.logRecords[U],Q.uint32(18).fork()).ldelim();if(G.schemaUrl!=null&&Object.hasOwnProperty.call(G,"schemaUrl"))Q.uint32(26).string(G.schemaUrl);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.logs.v1.ScopeLogs;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{H.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.decode(G,G.uint32());break}case 2:{if(!(H.logRecords&&H.logRecords.length))H.logRecords=[];H.logRecords.push(E.opentelemetry.proto.logs.v1.LogRecord.decode(G,G.uint32()));break}case 3:{H.schemaUrl=G.string();break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.scope!=null&&G.hasOwnProperty("scope")){var Q=E.opentelemetry.proto.common.v1.InstrumentationScope.verify(G.scope);if(Q)return"scope."+Q}if(G.logRecords!=null&&G.hasOwnProperty("logRecords")){if(!Array.isArray(G.logRecords))return"logRecords: array expected";for(var U=0;U<G.logRecords.length;++U){var Q=E.opentelemetry.proto.logs.v1.LogRecord.verify(G.logRecords[U]);if(Q)return"logRecords."+Q}}if(G.schemaUrl!=null&&G.hasOwnProperty("schemaUrl")){if(!T.isString(G.schemaUrl))return"schemaUrl: string expected"}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.logs.v1.ScopeLogs)return G;var Q=new E.opentelemetry.proto.logs.v1.ScopeLogs;if(G.scope!=null){if(typeof G.scope!=="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");Q.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(G.scope)}if(G.logRecords){if(!Array.isArray(G.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");Q.logRecords=[];for(var U=0;U<G.logRecords.length;++U){if(typeof G.logRecords[U]!=="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");Q.logRecords[U]=E.opentelemetry.proto.logs.v1.LogRecord.fromObject(G.logRecords[U])}}if(G.schemaUrl!=null)Q.schemaUrl=String(G.schemaUrl);return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.logRecords=[];if(Q.defaults)U.scope=null,U.schemaUrl="";if(G.scope!=null&&G.hasOwnProperty("scope"))U.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.toObject(G.scope,Q);if(G.logRecords&&G.logRecords.length){U.logRecords=[];for(var z=0;z<G.logRecords.length;++z)U.logRecords[z]=E.opentelemetry.proto.logs.v1.LogRecord.toObject(G.logRecords[z],Q)}if(G.schemaUrl!=null&&G.hasOwnProperty("schemaUrl"))U.schemaUrl=G.schemaUrl;return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.logs.v1.ScopeLogs"},W}(),Z.SeverityNumber=function(){var W={},$=Object.create(W);return $[W[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,$[W[1]="SEVERITY_NUMBER_TRACE"]=1,$[W[2]="SEVERITY_NUMBER_TRACE2"]=2,$[W[3]="SEVERITY_NUMBER_TRACE3"]=3,$[W[4]="SEVERITY_NUMBER_TRACE4"]=4,$[W[5]="SEVERITY_NUMBER_DEBUG"]=5,$[W[6]="SEVERITY_NUMBER_DEBUG2"]=6,$[W[7]="SEVERITY_NUMBER_DEBUG3"]=7,$[W[8]="SEVERITY_NUMBER_DEBUG4"]=8,$[W[9]="SEVERITY_NUMBER_INFO"]=9,$[W[10]="SEVERITY_NUMBER_INFO2"]=10,$[W[11]="SEVERITY_NUMBER_INFO3"]=11,$[W[12]="SEVERITY_NUMBER_INFO4"]=12,$[W[13]="SEVERITY_NUMBER_WARN"]=13,$[W[14]="SEVERITY_NUMBER_WARN2"]=14,$[W[15]="SEVERITY_NUMBER_WARN3"]=15,$[W[16]="SEVERITY_NUMBER_WARN4"]=16,$[W[17]="SEVERITY_NUMBER_ERROR"]=17,$[W[18]="SEVERITY_NUMBER_ERROR2"]=18,$[W[19]="SEVERITY_NUMBER_ERROR3"]=19,$[W[20]="SEVERITY_NUMBER_ERROR4"]=20,$[W[21]="SEVERITY_NUMBER_FATAL"]=21,$[W[22]="SEVERITY_NUMBER_FATAL2"]=22,$[W[23]="SEVERITY_NUMBER_FATAL3"]=23,$[W[24]="SEVERITY_NUMBER_FATAL4"]=24,$}(),Z.LogRecordFlags=function(){var W={},$=Object.create(W);return $[W[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,$[W[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,$}(),Z.LogRecord=function(){function W($){if(this.attributes=[],$){for(var G=Object.keys($),Q=0;Q<G.length;++Q)if($[G[Q]]!=null)this[G[Q]]=$[G[Q]]}}return W.prototype.timeUnixNano=null,W.prototype.observedTimeUnixNano=null,W.prototype.severityNumber=null,W.prototype.severityText=null,W.prototype.body=null,W.prototype.attributes=T.emptyArray,W.prototype.droppedAttributesCount=null,W.prototype.flags=null,W.prototype.traceId=null,W.prototype.spanId=null,W.prototype.eventName=null,W.create=function(G){return new W(G)},W.encode=function(G,Q){if(!Q)Q=P0.create();if(G.timeUnixNano!=null&&Object.hasOwnProperty.call(G,"timeUnixNano"))Q.uint32(9).fixed64(G.timeUnixNano);if(G.severityNumber!=null&&Object.hasOwnProperty.call(G,"severityNumber"))Q.uint32(16).int32(G.severityNumber);if(G.severityText!=null&&Object.hasOwnProperty.call(G,"severityText"))Q.uint32(26).string(G.severityText);if(G.body!=null&&Object.hasOwnProperty.call(G,"body"))E.opentelemetry.proto.common.v1.AnyValue.encode(G.body,Q.uint32(42).fork()).ldelim();if(G.attributes!=null&&G.attributes.length)for(var U=0;U<G.attributes.length;++U)E.opentelemetry.proto.common.v1.KeyValue.encode(G.attributes[U],Q.uint32(50).fork()).ldelim();if(G.droppedAttributesCount!=null&&Object.hasOwnProperty.call(G,"droppedAttributesCount"))Q.uint32(56).uint32(G.droppedAttributesCount);if(G.flags!=null&&Object.hasOwnProperty.call(G,"flags"))Q.uint32(69).fixed32(G.flags);if(G.traceId!=null&&Object.hasOwnProperty.call(G,"traceId"))Q.uint32(74).bytes(G.traceId);if(G.spanId!=null&&Object.hasOwnProperty.call(G,"spanId"))Q.uint32(82).bytes(G.spanId);if(G.observedTimeUnixNano!=null&&Object.hasOwnProperty.call(G,"observedTimeUnixNano"))Q.uint32(89).fixed64(G.observedTimeUnixNano);if(G.eventName!=null&&Object.hasOwnProperty.call(G,"eventName"))Q.uint32(98).string(G.eventName);return Q},W.encodeDelimited=function(G,Q){return this.encode(G,Q).ldelim()},W.decode=function(G,Q,U){if(!(G instanceof Y1))G=Y1.create(G);var z=Q===void 0?G.len:G.pos+Q,H=new E.opentelemetry.proto.logs.v1.LogRecord;while(G.pos<z){var O=G.uint32();if(O===U)break;switch(O>>>3){case 1:{H.timeUnixNano=G.fixed64();break}case 11:{H.observedTimeUnixNano=G.fixed64();break}case 2:{H.severityNumber=G.int32();break}case 3:{H.severityText=G.string();break}case 5:{H.body=E.opentelemetry.proto.common.v1.AnyValue.decode(G,G.uint32());break}case 6:{if(!(H.attributes&&H.attributes.length))H.attributes=[];H.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(G,G.uint32()));break}case 7:{H.droppedAttributesCount=G.uint32();break}case 8:{H.flags=G.fixed32();break}case 9:{H.traceId=G.bytes();break}case 10:{H.spanId=G.bytes();break}case 12:{H.eventName=G.string();break}default:G.skipType(O&7);break}}return H},W.decodeDelimited=function(G){if(!(G instanceof Y1))G=new Y1(G);return this.decode(G,G.uint32())},W.verify=function(G){if(typeof G!=="object"||G===null)return"object expected";if(G.timeUnixNano!=null&&G.hasOwnProperty("timeUnixNano")){if(!T.isInteger(G.timeUnixNano)&&!(G.timeUnixNano&&T.isInteger(G.timeUnixNano.low)&&T.isInteger(G.timeUnixNano.high)))return"timeUnixNano: integer|Long expected"}if(G.observedTimeUnixNano!=null&&G.hasOwnProperty("observedTimeUnixNano")){if(!T.isInteger(G.observedTimeUnixNano)&&!(G.observedTimeUnixNano&&T.isInteger(G.observedTimeUnixNano.low)&&T.isInteger(G.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected"}if(G.severityNumber!=null&&G.hasOwnProperty("severityNumber"))switch(G.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:break}if(G.severityText!=null&&G.hasOwnProperty("severityText")){if(!T.isString(G.severityText))return"severityText: string expected"}if(G.body!=null&&G.hasOwnProperty("body")){var Q=E.opentelemetry.proto.common.v1.AnyValue.verify(G.body);if(Q)return"body."+Q}if(G.attributes!=null&&G.hasOwnProperty("attributes")){if(!Array.isArray(G.attributes))return"attributes: array expected";for(var U=0;U<G.attributes.length;++U){var Q=E.opentelemetry.proto.common.v1.KeyValue.verify(G.attributes[U]);if(Q)return"attributes."+Q}}if(G.droppedAttributesCount!=null&&G.hasOwnProperty("droppedAttributesCount")){if(!T.isInteger(G.droppedAttributesCount))return"droppedAttributesCount: integer expected"}if(G.flags!=null&&G.hasOwnProperty("flags")){if(!T.isInteger(G.flags))return"flags: integer expected"}if(G.traceId!=null&&G.hasOwnProperty("traceId")){if(!(G.traceId&&typeof G.traceId.length==="number"||T.isString(G.traceId)))return"traceId: buffer expected"}if(G.spanId!=null&&G.hasOwnProperty("spanId")){if(!(G.spanId&&typeof G.spanId.length==="number"||T.isString(G.spanId)))return"spanId: buffer expected"}if(G.eventName!=null&&G.hasOwnProperty("eventName")){if(!T.isString(G.eventName))return"eventName: string expected"}return null},W.fromObject=function(G){if(G instanceof E.opentelemetry.proto.logs.v1.LogRecord)return G;var Q=new E.opentelemetry.proto.logs.v1.LogRecord;if(G.timeUnixNano!=null){if(T.Long)(Q.timeUnixNano=T.Long.fromValue(G.timeUnixNano)).unsigned=!1;else if(typeof G.timeUnixNano==="string")Q.timeUnixNano=parseInt(G.timeUnixNano,10);else if(typeof G.timeUnixNano==="number")Q.timeUnixNano=G.timeUnixNano;else if(typeof G.timeUnixNano==="object")Q.timeUnixNano=new T.LongBits(G.timeUnixNano.low>>>0,G.timeUnixNano.high>>>0).toNumber()}if(G.observedTimeUnixNano!=null){if(T.Long)(Q.observedTimeUnixNano=T.Long.fromValue(G.observedTimeUnixNano)).unsigned=!1;else if(typeof G.observedTimeUnixNano==="string")Q.observedTimeUnixNano=parseInt(G.observedTimeUnixNano,10);else if(typeof G.observedTimeUnixNano==="number")Q.observedTimeUnixNano=G.observedTimeUnixNano;else if(typeof G.observedTimeUnixNano==="object")Q.observedTimeUnixNano=new T.LongBits(G.observedTimeUnixNano.low>>>0,G.observedTimeUnixNano.high>>>0).toNumber()}switch(G.severityNumber){default:if(typeof G.severityNumber==="number"){Q.severityNumber=G.severityNumber;break}break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:Q.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:Q.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:Q.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:Q.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:Q.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:Q.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:Q.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:Q.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:Q.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:Q.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:Q.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:Q.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:Q.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:Q.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:Q.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:Q.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:Q.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:Q.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:Q.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:Q.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:Q.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:Q.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:Q.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:Q.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:Q.severityNumber=24;break}if(G.severityText!=null)Q.severityText=String(G.severityText);if(G.body!=null){if(typeof G.body!=="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");Q.body=E.opentelemetry.proto.common.v1.AnyValue.fromObject(G.body)}if(G.attributes){if(!Array.isArray(G.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");Q.attributes=[];for(var U=0;U<G.attributes.length;++U){if(typeof G.attributes[U]!=="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");Q.attributes[U]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(G.attributes[U])}}if(G.droppedAttributesCount!=null)Q.droppedAttributesCount=G.droppedAttributesCount>>>0;if(G.flags!=null)Q.flags=G.flags>>>0;if(G.traceId!=null){if(typeof G.traceId==="string")T.base64.decode(G.traceId,Q.traceId=T.newBuffer(T.base64.length(G.traceId)),0);else if(G.traceId.length>=0)Q.traceId=G.traceId}if(G.spanId!=null){if(typeof G.spanId==="string")T.base64.decode(G.spanId,Q.spanId=T.newBuffer(T.base64.length(G.spanId)),0);else if(G.spanId.length>=0)Q.spanId=G.spanId}if(G.eventName!=null)Q.eventName=String(G.eventName);return Q},W.toObject=function(G,Q){if(!Q)Q={};var U={};if(Q.arrays||Q.defaults)U.attributes=[];if(Q.defaults){if(T.Long){var z=new T.Long(0,0,!1);U.timeUnixNano=Q.longs===String?z.toString():Q.longs===Number?z.toNumber():z}else U.timeUnixNano=Q.longs===String?"0":0;if(U.severityNumber=Q.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,U.severityText="",U.body=null,U.droppedAttributesCount=0,U.flags=0,Q.bytes===String)U.traceId="";else if(U.traceId=[],Q.bytes!==Array)U.traceId=T.newBuffer(U.traceId);if(Q.bytes===String)U.spanId="";else if(U.spanId=[],Q.bytes!==Array)U.spanId=T.newBuffer(U.spanId);if(T.Long){var z=new T.Long(0,0,!1);U.observedTimeUnixNano=Q.longs===String?z.toString():Q.longs===Number?z.toNumber():z}else U.observedTimeUnixNano=Q.longs===String?"0":0;U.eventName=""}if(G.timeUnixNano!=null&&G.hasOwnProperty("timeUnixNano"))if(typeof G.timeUnixNano==="number")U.timeUnixNano=Q.longs===String?String(G.timeUnixNano):G.timeUnixNano;else U.timeUnixNano=Q.longs===String?T.Long.prototype.toString.call(G.timeUnixNano):Q.longs===Number?new T.LongBits(G.timeUnixNano.low>>>0,G.timeUnixNano.high>>>0).toNumber():G.timeUnixNano;if(G.severityNumber!=null&&G.hasOwnProperty("severityNumber"))U.severityNumber=Q.enums===String?E.opentelemetry.proto.logs.v1.SeverityNumber[G.severityNumber]===void 0?G.severityNumber:E.opentelemetry.proto.logs.v1.SeverityNumber[G.severityNumber]:G.severityNumber;if(G.severityText!=null&&G.hasOwnProperty("severityText"))U.severityText=G.severityText;if(G.body!=null&&G.hasOwnProperty("body"))U.body=E.opentelemetry.proto.common.v1.AnyValue.toObject(G.body,Q);if(G.attributes&&G.attributes.length){U.attributes=[];for(var H=0;H<G.attributes.length;++H)U.attributes[H]=E.opentelemetry.proto.common.v1.KeyValue.toObject(G.attributes[H],Q)}if(G.droppedAttributesCount!=null&&G.hasOwnProperty("droppedAttributesCount"))U.droppedAttributesCount=G.droppedAttributesCount;if(G.flags!=null&&G.hasOwnProperty("flags"))U.flags=G.flags;if(G.traceId!=null&&G.hasOwnProperty("traceId"))U.traceId=Q.bytes===String?T.base64.encode(G.traceId,0,G.traceId.length):Q.bytes===Array?Array.prototype.slice.call(G.traceId):G.traceId;if(G.spanId!=null&&G.hasOwnProperty("spanId"))U.spanId=Q.bytes===String?T.base64.encode(G.spanId,0,G.spanId.length):Q.bytes===Array?Array.prototype.slice.call(G.spanId):G.spanId;if(G.observedTimeUnixNano!=null&&G.hasOwnProperty("observedTimeUnixNano"))if(typeof G.observedTimeUnixNano==="number")U.observedTimeUnixNano=Q.longs===String?String(G.observedTimeUnixNano):G.observedTimeUnixNano;else U.observedTimeUnixNano=Q.longs===String?T.Long.prototype.toString.call(G.observedTimeUnixNano):Q.longs===Number?new T.LongBits(G.observedTimeUnixNano.low>>>0,G.observedTimeUnixNano.high>>>0).toNumber():G.observedTimeUnixNano;if(G.eventName!=null&&G.hasOwnProperty("eventName"))U.eventName=G.eventName;return U},W.prototype.toJSON=function(){return this.constructor.toObject(this,G0.util.toJSONOptions)},W.getTypeUrl=function(G){if(G===void 0)G="type.googleapis.com";return G+"/opentelemetry.proto.logs.v1.LogRecord"},W}(),Z}(),X}(),J}(),Y}();um1.exports=E});var eR=q((cm1)=>{Object.defineProperty(cm1,"__esModule",{value:!0});cm1.toAnyValue=cm1.toKeyValue=cm1.toAttributes=cm1.createInstrumentationScope=cm1.createResource=void 0;function kN4(Y,J){let X={attributes:mm1(Y.attributes,J),droppedAttributesCount:0},Z=Y.schemaUrl;if(Z&&Z!=="")X.schemaUrl=Z;return X}cm1.createResource=kN4;function _N4(Y){return{name:Y.name,version:Y.version}}cm1.createInstrumentationScope=_N4;function mm1(Y,J){return Object.keys(Y).map((X)=>dm1(X,Y[X],J))}cm1.toAttributes=mm1;function dm1(Y,J,X){return{key:Y,value:tR(J,X)}}cm1.toKeyValue=dm1;function tR(Y,J){let X=typeof Y;if(X==="string")return{stringValue:Y};if(X==="number"){if(!Number.isInteger(Y))return{doubleValue:Y};return{intValue:Y}}if(X==="boolean")return{boolValue:Y};if(Y instanceof Uint8Array)return{bytesValue:J.encodeUint8Array(Y)};if(Array.isArray(Y)){let Z=Array(Y.length);for(let W=0;W<Y.length;W++)Z[W]=tR(Y[W],J);return{arrayValue:{values:Z}}}if(X==="object"&&Y!=null){let Z=Object.keys(Y),W=Array(Z.length);for(let $=0;$<Z.length;$++)W[$]={key:Z[$],value:tR(Y[Z[$]],J)};return{kvlistValue:{values:W}}}return{}}cm1.toAnyValue=tR});var Di=q((nm1)=>{Object.defineProperty(nm1,"__esModule",{value:!0});nm1.toLogAttributes=nm1.createExportLogsServiceRequest=void 0;var Y2=eR();function bN4(Y,J){return{resourceLogs:gN4(Y,J)}}nm1.createExportLogsServiceRequest=bN4;function yN4(Y){let J=new Map;for(let X of Y){let{resource:Z,instrumentationScope:{name:W,version:$="",schemaUrl:G=""}}=X,Q=J.get(Z);if(!Q)Q=new Map,J.set(Z,Q);let U=`${W}@${$}:${G}`,z=Q.get(U);if(!z)z=[],Q.set(U,z);z.push(X)}return J}function gN4(Y,J){let X=yN4(Y);return Array.from(X,([Z,W])=>{let $=(0,Y2.createResource)(Z,J);return{resource:$,scopeLogs:Array.from(W,([,G])=>{return{scope:(0,Y2.createInstrumentationScope)(G[0].instrumentationScope),logRecords:G.map((Q)=>uN4(Q,J)),schemaUrl:G[0].instrumentationScope.schemaUrl}}),schemaUrl:$.schemaUrl}})}function uN4(Y,J){return{timeUnixNano:J.encodeHrTime(Y.hrTime),observedTimeUnixNano:J.encodeHrTime(Y.hrTimeObserved),severityNumber:mN4(Y.severityNumber),severityText:Y.severityText,body:(0,Y2.toAnyValue)(Y.body,J),eventName:Y.eventName,attributes:pm1(Y.attributes,J),droppedAttributesCount:Y.droppedAttributesCount,flags:Y.spanContext?.traceFlags,traceId:J.encodeOptionalSpanContext(Y.spanContext?.traceId),spanId:J.encodeOptionalSpanContext(Y.spanContext?.spanId)}}function mN4(Y){return Y}function pm1(Y,J){return Object.keys(Y).map((X)=>(0,Y2.toKeyValue)(X,Y[X],J))}nm1.toLogAttributes=pm1});var sm1=q((rm1)=>{Object.defineProperty(rm1,"__esModule",{value:!0});rm1.hexToBinary=void 0;function om1(Y){if(Y>=48&&Y<=57)return Y-48;if(Y>=97&&Y<=102)return Y-87;return Y-55}function cN4(Y){let J=new Uint8Array(Y.length/2),X=0;for(let Z=0;Z<Y.length;Z+=2){let W=om1(Y.charCodeAt(Z)),$=om1(Y.charCodeAt(Z+1));J[X++]=W<<4|$}return J}rm1.hexToBinary=cN4});var _Q=q((Xd1)=>{Object.defineProperty(Xd1,"__esModule",{value:!0});Xd1.JSON_ENCODER=Xd1.PROTOBUF_ENCODER=Xd1.encodeAsString=Xd1.encodeAsLongBits=Xd1.toLongBits=Xd1.hrTimeToNanos=void 0;var lN4=k1(),tm1=sm1();function Ai(Y){let J=BigInt(1e9);return BigInt(Math.trunc(Y[0]))*J+BigInt(Math.trunc(Y[1]))}Xd1.hrTimeToNanos=Ai;function em1(Y){let J=Number(BigInt.asUintN(32,Y)),X=Number(BigInt.asUintN(32,Y>>BigInt(32)));return{low:J,high:X}}Xd1.toLongBits=em1;function Yd1(Y){let J=Ai(Y);return em1(J)}Xd1.encodeAsLongBits=Yd1;function Jd1(Y){return Ai(Y).toString()}Xd1.encodeAsString=Jd1;var pN4=typeof BigInt<"u"?Jd1:lN4.hrTimeToNanoseconds;function wi(Y){return Y}function nN4(Y){if(Y===void 0)return;return(0,tm1.hexToBinary)(Y)}Xd1.PROTOBUF_ENCODER={encodeHrTime:Yd1,encodeSpanContext:tm1.hexToBinary,encodeOptionalSpanContext:nN4,encodeUint8Array:wi};Xd1.JSON_ENCODER={encodeHrTime:pN4,encodeSpanContext:wi,encodeOptionalSpanContext:wi,encodeUint8Array:(Y)=>{if(typeof Buffer<"u")return Buffer.from(Y).toString("base64");let J=Array(Y.length);for(let X=0;X<Y.length;X++)J[X]=String.fromCharCode(Y[X]);return btoa(J.join(""))}}});var Qd1=q(($d1)=>{Object.defineProperty($d1,"__esModule",{value:!0});$d1.ProtobufLogsSerializer=void 0;var Wd1=sR(),tN4=Di(),eN4=_Q(),YS4=Wd1.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,JS4=Wd1.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;$d1.ProtobufLogsSerializer={serializeRequest:(Y)=>{let J=(0,tN4.createExportLogsServiceRequest)(Y,eN4.PROTOBUF_ENCODER);return JS4.encode(J).finish()},deserializeResponse:(Y)=>{return YS4.decode(Y)}}});var Ud1=q((Pi)=>{Object.defineProperty(Pi,"__esModule",{value:!0});Pi.ProtobufLogsSerializer=void 0;var XS4=Qd1();Object.defineProperty(Pi,"ProtobufLogsSerializer",{enumerable:!0,get:function(){return XS4.ProtobufLogsSerializer}})});var J2=q((zd1)=>{Object.defineProperty(zd1,"__esModule",{value:!0});zd1.AggregationTemporality=void 0;var WS4;(function(Y){Y[Y.DELTA=0]="DELTA",Y[Y.CUMULATIVE=1]="CUMULATIVE"})(WS4=zd1.AggregationTemporality||(zd1.AggregationTemporality={}))});var pW=q((Od1)=>{Object.defineProperty(Od1,"__esModule",{value:!0});Od1.DataPointType=Od1.InstrumentType=void 0;var $S4;(function(Y){Y.COUNTER="COUNTER",Y.GAUGE="GAUGE",Y.HISTOGRAM="HISTOGRAM",Y.UP_DOWN_COUNTER="UP_DOWN_COUNTER",Y.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",Y.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",Y.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})($S4=Od1.InstrumentType||(Od1.InstrumentType={}));var GS4;(function(Y){Y[Y.HISTOGRAM=0]="HISTOGRAM",Y[Y.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",Y[Y.GAUGE=2]="GAUGE",Y[Y.SUM=3]="SUM"})(GS4=Od1.DataPointType||(Od1.DataPointType={}))});var NX=q((Kd1)=>{Object.defineProperty(Kd1,"__esModule",{value:!0});Kd1.equalsCaseInsensitive=Kd1.binarySearchUB=Kd1.setEquals=Kd1.callWithTimeout=Kd1.TimeoutError=Kd1.instrumentationScopeId=Kd1.hashAttributes=void 0;function QS4(Y){let J=Object.keys(Y);if(J.length===0)return"";return J=J.sort(),JSON.stringify(J.map((X)=>[X,Y[X]]))}Kd1.hashAttributes=QS4;function US4(Y){return`${Y.name}:${Y.version??""}:${Y.schemaUrl??""}`}Kd1.instrumentationScopeId=US4;class X2 extends Error{constructor(Y){super(Y);Object.setPrototypeOf(this,X2.prototype)}}Kd1.TimeoutError=X2;function zS4(Y,J){let X,Z=new Promise(function($,G){X=setTimeout(function(){G(new X2("Operation timed out."))},J)});return Promise.race([Y,Z]).then((W)=>{return clearTimeout(X),W},(W)=>{throw clearTimeout(X),W})}Kd1.callWithTimeout=zS4;function HS4(Y,J){if(Y.size!==J.size)return!1;for(let X of Y)if(!J.has(X))return!1;return!0}Kd1.setEquals=HS4;function OS4(Y,J){let X=0,Z=Y.length-1,W=Y.length;while(Z>=X){let $=X+Math.trunc((Z-X)/2);if(Y[$]<J)X=$+1;else W=$,Z=$-1}return W}Kd1.binarySearchUB=OS4;function KS4(Y,J){return Y.toLowerCase()===J.toLowerCase()}Kd1.equalsCaseInsensitive=KS4});var PO=q((qd1)=>{Object.defineProperty(qd1,"__esModule",{value:!0});qd1.AggregatorKind=void 0;var wS4;(function(Y){Y[Y.DROP=0]="DROP",Y[Y.SUM=1]="SUM",Y[Y.LAST_VALUE=2]="LAST_VALUE",Y[Y.HISTOGRAM=3]="HISTOGRAM",Y[Y.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"})(wS4=qd1.AggregatorKind||(qd1.AggregatorKind={}))});var Dd1=q((Vd1)=>{Object.defineProperty(Vd1,"__esModule",{value:!0});Vd1.DropAggregator=void 0;var AS4=PO();class Fd1{kind=AS4.AggregatorKind.DROP;createAccumulation(){return}merge(Y,J){return}diff(Y,J){return}toMetricData(Y,J,X,Z){return}}Vd1.DropAggregator=Fd1});var Ld1=q((Ad1)=>{Object.defineProperty(Ad1,"__esModule",{value:!0});Ad1.HistogramAggregator=Ad1.HistogramAccumulation=void 0;var PS4=PO(),XI=pW(),LS4=NX();function MS4(Y){let J=Y.map(()=>0);return J.push(0),{buckets:{boundaries:Y,counts:J},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}class ZI{startTime;_boundaries;_recordMinMax;_current;constructor(Y,J,X=!0,Z=MS4(J)){this.startTime=Y,this._boundaries=J,this._recordMinMax=X,this._current=Z}record(Y){if(Number.isNaN(Y))return;if(this._current.count+=1,this._current.sum+=Y,this._recordMinMax)this._current.min=Math.min(Y,this._current.min),this._current.max=Math.max(Y,this._current.max),this._current.hasMinMax=!0;let J=(0,LS4.binarySearchUB)(this._boundaries,Y);this._current.buckets.counts[J]+=1}setStartTime(Y){this.startTime=Y}toPointValue(){return this._current}}Ad1.HistogramAccumulation=ZI;class wd1{kind=PS4.AggregatorKind.HISTOGRAM;_boundaries;_recordMinMax;constructor(Y,J){this._boundaries=Y,this._recordMinMax=J}createAccumulation(Y){return new ZI(Y,this._boundaries,this._recordMinMax)}merge(Y,J){let X=Y.toPointValue(),Z=J.toPointValue(),W=X.buckets.counts,$=Z.buckets.counts,G=Array(W.length);for(let z=0;z<W.length;z++)G[z]=W[z]+$[z];let Q=1/0,U=-1/0;if(this._recordMinMax){if(X.hasMinMax&&Z.hasMinMax)Q=Math.min(X.min,Z.min),U=Math.max(X.max,Z.max);else if(X.hasMinMax)Q=X.min,U=X.max;else if(Z.hasMinMax)Q=Z.min,U=Z.max}return new ZI(Y.startTime,X.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:X.buckets.boundaries,counts:G},count:X.count+Z.count,sum:X.sum+Z.sum,hasMinMax:this._recordMinMax&&(X.hasMinMax||Z.hasMinMax),min:Q,max:U})}diff(Y,J){let X=Y.toPointValue(),Z=J.toPointValue(),W=X.buckets.counts,$=Z.buckets.counts,G=Array(W.length);for(let Q=0;Q<W.length;Q++)G[Q]=$[Q]-W[Q];return new ZI(J.startTime,X.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:X.buckets.boundaries,counts:G},count:Z.count-X.count,sum:Z.sum-X.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(Y,J,X,Z){return{descriptor:Y,aggregationTemporality:J,dataPointType:XI.DataPointType.HISTOGRAM,dataPoints:X.map(([W,$])=>{let G=$.toPointValue(),Q=Y.type===XI.InstrumentType.GAUGE||Y.type===XI.InstrumentType.UP_DOWN_COUNTER||Y.type===XI.InstrumentType.OBSERVABLE_GAUGE||Y.type===XI.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:W,startTime:$.startTime,endTime:Z,value:{min:G.hasMinMax?G.min:void 0,max:G.hasMinMax?G.max:void 0,sum:!Q?G.sum:void 0,buckets:G.buckets,count:G.count}}})}}}Ad1.HistogramAggregator=wd1});var Td1=q((Md1)=>{Object.defineProperty(Md1,"__esModule",{value:!0});Md1.Buckets=void 0;class Ti{backing;indexBase;indexStart;indexEnd;constructor(Y=new Ri,J=0,X=0,Z=0){this.backing=Y,this.indexBase=J,this.indexStart=X,this.indexEnd=Z}get offset(){return this.indexStart}get length(){if(this.backing.length===0)return 0;if(this.indexEnd===this.indexStart&&this.at(0)===0)return 0;return this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(Y,J)=>this.at(J))}at(Y){let J=this.indexBase-this.indexStart;if(Y<J)Y+=this.backing.length;return Y-=J,this.backing.countAt(Y)}incrementBucket(Y,J){this.backing.increment(Y,J)}decrementBucket(Y,J){this.backing.decrement(Y,J)}trim(){for(let Y=0;Y<this.length;Y++)if(this.at(Y)!==0){this.indexStart+=Y;break}else if(Y===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let Y=this.length-1;Y>=0;Y--)if(this.at(Y)!==0){this.indexEnd-=this.length-Y-1;break}this._rotate()}downscale(Y){this._rotate();let J=1+this.indexEnd-this.indexStart,X=1<<Y,Z=0,W=0;for(let $=this.indexStart;$<=this.indexEnd;){let G=$%X;if(G<0)G+=X;for(let Q=G;Q<X&&Z<J;Q++)this._relocateBucket(W,Z),Z++,$++;W++}this.indexStart>>=Y,this.indexEnd>>=Y,this.indexBase=this.indexStart}clone(){return new Ti(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let Y=this.indexBase-this.indexStart;if(Y===0)return;else if(Y>0)this.backing.reverse(0,this.backing.length),this.backing.reverse(0,Y),this.backing.reverse(Y,this.backing.length);else this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+Y);this.indexBase=this.indexStart}_relocateBucket(Y,J){if(Y===J)return;this.incrementBucket(Y,this.backing.emptyBucket(J))}}Md1.Buckets=Ti;class Ri{_counts;constructor(Y=[0]){this._counts=Y}get length(){return this._counts.length}countAt(Y){return this._counts[Y]}growTo(Y,J,X){let Z=Array(Y).fill(0);Z.splice(X,this._counts.length-J,...this._counts.slice(J)),Z.splice(0,J,...this._counts.slice(0,J)),this._counts=Z}reverse(Y,J){let X=Math.floor((Y+J)/2)-Y;for(let Z=0;Z<X;Z++){let W=this._counts[Y+Z];this._counts[Y+Z]=this._counts[J-Z-1],this._counts[J-Z-1]=W}}emptyBucket(Y){let J=this._counts[Y];return this._counts[Y]=0,J}increment(Y,J){this._counts[Y]+=J}decrement(Y,J){if(this._counts[Y]>=J)this._counts[Y]-=J;else this._counts[Y]=0}clone(){return new Ri([...this._counts])}}});var Si=q((Rd1)=>{Object.defineProperty(Rd1,"__esModule",{value:!0});Rd1.getSignificand=Rd1.getNormalBase2=Rd1.MIN_VALUE=Rd1.MAX_NORMAL_EXPONENT=Rd1.MIN_NORMAL_EXPONENT=Rd1.SIGNIFICAND_WIDTH=void 0;Rd1.SIGNIFICAND_WIDTH=52;var TS4=2146435072,RS4=1048575,Ni=1023;Rd1.MIN_NORMAL_EXPONENT=-Ni+1;Rd1.MAX_NORMAL_EXPONENT=Ni;Rd1.MIN_VALUE=Math.pow(2,-1022);function NS4(Y){let J=new DataView(new ArrayBuffer(8));return J.setFloat64(0,Y),((J.getUint32(0)&TS4)>>20)-Ni}Rd1.getNormalBase2=NS4;function SS4(Y){let J=new DataView(new ArrayBuffer(8));J.setFloat64(0,Y);let X=J.getUint32(0),Z=J.getUint32(4);return(X&RS4)*Math.pow(2,32)+Z}Rd1.getSignificand=SS4});var Z2=q((Sd1)=>{Object.defineProperty(Sd1,"__esModule",{value:!0});Sd1.nextGreaterSquare=Sd1.ldexp=void 0;function fS4(Y,J){if(Y===0||Y===Number.POSITIVE_INFINITY||Y===Number.NEGATIVE_INFINITY||Number.isNaN(Y))return Y;return Y*Math.pow(2,J)}Sd1.ldexp=fS4;function vS4(Y){return Y--,Y|=Y>>1,Y|=Y>>2,Y|=Y>>4,Y|=Y>>8,Y|=Y>>16,Y++,Y}Sd1.nextGreaterSquare=vS4});var W2=q((kd1)=>{Object.defineProperty(kd1,"__esModule",{value:!0});kd1.MappingError=void 0;class jd1 extends Error{}kd1.MappingError=jd1});var bd1=q((vd1)=>{Object.defineProperty(vd1,"__esModule",{value:!0});vd1.ExponentMapping=void 0;var LO=Si(),bS4=Z2(),xd1=W2();class fd1{_shift;constructor(Y){this._shift=-Y}mapToIndex(Y){if(Y<LO.MIN_VALUE)return this._minNormalLowerBoundaryIndex();let J=LO.getNormalBase2(Y),X=this._rightShift(LO.getSignificand(Y)-1,LO.SIGNIFICAND_WIDTH);return J+X>>this._shift}lowerBoundary(Y){let J=this._minNormalLowerBoundaryIndex();if(Y<J)throw new xd1.MappingError(`underflow: ${Y} is < minimum lower boundary: ${J}`);let X=this._maxNormalLowerBoundaryIndex();if(Y>X)throw new xd1.MappingError(`overflow: ${Y} is > maximum lower boundary: ${X}`);return bS4.ldexp(1,Y<<this._shift)}get scale(){if(this._shift===0)return 0;return-this._shift}_minNormalLowerBoundaryIndex(){let Y=LO.MIN_NORMAL_EXPONENT>>this._shift;if(this._shift<2)Y--;return Y}_maxNormalLowerBoundaryIndex(){return LO.MAX_NORMAL_EXPONENT>>this._shift}_rightShift(Y,J){return Math.floor(Y*Math.pow(2,-J))}}vd1.ExponentMapping=fd1});var cd1=q((md1)=>{Object.defineProperty(md1,"__esModule",{value:!0});md1.LogarithmMapping=void 0;var MO=Si(),yd1=Z2(),gd1=W2();class ud1{_scale;_scaleFactor;_inverseFactor;constructor(Y){this._scale=Y,this._scaleFactor=yd1.ldexp(Math.LOG2E,Y),this._inverseFactor=yd1.ldexp(Math.LN2,-Y)}mapToIndex(Y){if(Y<=MO.MIN_VALUE)return this._minNormalLowerBoundaryIndex()-1;if(MO.getSignificand(Y)===0)return(MO.getNormalBase2(Y)<<this._scale)-1;let J=Math.floor(Math.log(Y)*this._scaleFactor),X=this._maxNormalLowerBoundaryIndex();if(J>=X)return X;return J}lowerBoundary(Y){let J=this._maxNormalLowerBoundaryIndex();if(Y>=J){if(Y===J)return 2*Math.exp((Y-(1<<this._scale))/this._scaleFactor);throw new gd1.MappingError(`overflow: ${Y} is > maximum lower boundary: ${J}`)}let X=this._minNormalLowerBoundaryIndex();if(Y<=X){if(Y===X)return MO.MIN_VALUE;else if(Y===X-1)return Math.exp((Y+(1<<this._scale))/this._scaleFactor)/2;throw new gd1.MappingError(`overflow: ${Y} is < minimum lower boundary: ${X}`)}return Math.exp(Y*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return MO.MIN_NORMAL_EXPONENT<<this._scale}_maxNormalLowerBoundaryIndex(){return(MO.MAX_NORMAL_EXPONENT+1<<this._scale)-1}}md1.LogarithmMapping=ud1});var od1=q((nd1)=>{Object.defineProperty(nd1,"__esModule",{value:!0});nd1.getMapping=void 0;var yS4=bd1(),gS4=cd1(),uS4=W2(),ld1=-10,pd1=20,mS4=Array.from({length:31},(Y,J)=>{if(J>10)return new gS4.LogarithmMapping(J-10);return new yS4.ExponentMapping(J-10)});function dS4(Y){if(Y>pd1||Y<ld1)throw new uS4.MappingError(`expected scale >= ${ld1} && <= ${pd1}, got: ${Y}`);return mS4[Y+10]}nd1.getMapping=dS4});var Yc1=q((td1)=>{Object.defineProperty(td1,"__esModule",{value:!0});td1.ExponentialHistogramAggregator=td1.ExponentialHistogramAccumulation=void 0;var cS4=PO(),WI=pW(),lS4=t(),rd1=Td1(),ad1=od1(),pS4=Z2();class EO{static combine(Y,J){return new EO(Math.min(Y.low,J.low),Math.max(Y.high,J.high))}low;high;constructor(Y,J){this.low=Y,this.high=J}}var nS4=20,iS4=160,Ci=2;class $2{startTime;_maxSize;_recordMinMax;_sum;_count;_zeroCount;_min;_max;_positive;_negative;_mapping;constructor(Y,J=iS4,X=!0,Z=0,W=0,$=0,G=Number.POSITIVE_INFINITY,Q=Number.NEGATIVE_INFINITY,U=new rd1.Buckets,z=new rd1.Buckets,H=(0,ad1.getMapping)(nS4)){if(this.startTime=Y,this._maxSize=J,this._recordMinMax=X,this._sum=Z,this._count=W,this._zeroCount=$,this._min=G,this._max=Q,this._positive=U,this._negative=z,this._mapping=H,this._maxSize<Ci)lS4.diag.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${Ci}`),this._maxSize=Ci}record(Y){this.updateByIncrement(Y,1)}setStartTime(Y){this.startTime=Y}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){if(this._count===this._zeroCount)return 0;return this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(Y,J){if(Number.isNaN(Y))return;if(Y>this._max)this._max=Y;if(Y<this._min)this._min=Y;if(this._count+=J,Y===0){this._zeroCount+=J;return}if(this._sum+=Y*J,Y>0)this._updateBuckets(this._positive,Y,J);else this._updateBuckets(this._negative,-Y,J)}merge(Y){if(this._count===0)this._min=Y.min,this._max=Y.max;else if(Y.count!==0){if(Y.min<this.min)this._min=Y.min;if(Y.max>this.max)this._max=Y.max}this.startTime=Y.startTime,this._sum+=Y.sum,this._count+=Y.count,this._zeroCount+=Y.zeroCount;let J=this._minScale(Y);this._downscale(this.scale-J),this._mergeBuckets(this.positive,Y,Y.positive,J),this._mergeBuckets(this.negative,Y,Y.negative,J)}diff(Y){this._min=1/0,this._max=-1/0,this._sum-=Y.sum,this._count-=Y.count,this._zeroCount-=Y.zeroCount;let J=this._minScale(Y);this._downscale(this.scale-J),this._diffBuckets(this.positive,Y,Y.positive,J),this._diffBuckets(this.negative,Y,Y.negative,J)}clone(){return new $2(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(Y,J,X){let Z=this._mapping.mapToIndex(J),W=!1,$=0,G=0;if(Y.length===0)Y.indexStart=Z,Y.indexEnd=Y.indexStart,Y.indexBase=Y.indexStart;else if(Z<Y.indexStart&&Y.indexEnd-Z>=this._maxSize)W=!0,G=Z,$=Y.indexEnd;else if(Z>Y.indexEnd&&Z-Y.indexStart>=this._maxSize)W=!0,G=Y.indexStart,$=Z;if(W){let Q=this._changeScale($,G);this._downscale(Q),Z=this._mapping.mapToIndex(J)}this._incrementIndexBy(Y,Z,X)}_incrementIndexBy(Y,J,X){if(X===0)return;if(Y.length===0)Y.indexStart=Y.indexEnd=Y.indexBase=J;if(J<Y.indexStart){let W=Y.indexEnd-J;if(W>=Y.backing.length)this._grow(Y,W+1);Y.indexStart=J}else if(J>Y.indexEnd){let W=J-Y.indexStart;if(W>=Y.backing.length)this._grow(Y,W+1);Y.indexEnd=J}let Z=J-Y.indexBase;if(Z<0)Z+=Y.backing.length;Y.incrementBucket(Z,X)}_grow(Y,J){let X=Y.backing.length,Z=Y.indexBase-Y.indexStart,W=X-Z,$=(0,pS4.nextGreaterSquare)(J);if($>this._maxSize)$=this._maxSize;let G=$-Z;Y.backing.growTo($,W,G)}_changeScale(Y,J){let X=0;while(Y-J>=this._maxSize)Y>>=1,J>>=1,X++;return X}_downscale(Y){if(Y===0)return;if(Y<0)throw Error(`impossible change of scale: ${this.scale}`);let J=this._mapping.scale-Y;this._positive.downscale(Y),this._negative.downscale(Y),this._mapping=(0,ad1.getMapping)(J)}_minScale(Y){let J=Math.min(this.scale,Y.scale),X=EO.combine(this._highLowAtScale(this.positive,this.scale,J),this._highLowAtScale(Y.positive,Y.scale,J)),Z=EO.combine(this._highLowAtScale(this.negative,this.scale,J),this._highLowAtScale(Y.negative,Y.scale,J));return Math.min(J-this._changeScale(X.high,X.low),J-this._changeScale(Z.high,Z.low))}_highLowAtScale(Y,J,X){if(Y.length===0)return new EO(0,-1);let Z=J-X;return new EO(Y.indexStart>>Z,Y.indexEnd>>Z)}_mergeBuckets(Y,J,X,Z){let W=X.offset,$=J.scale-Z;for(let G=0;G<X.length;G++)this._incrementIndexBy(Y,W+G>>$,X.at(G))}_diffBuckets(Y,J,X,Z){let W=X.offset,$=J.scale-Z;for(let G=0;G<X.length;G++){let U=(W+G>>$)-Y.indexBase;if(U<0)U+=Y.backing.length;Y.decrementBucket(U,X.at(G))}Y.trim()}}td1.ExponentialHistogramAccumulation=$2;class sd1{kind=cS4.AggregatorKind.EXPONENTIAL_HISTOGRAM;_maxSize;_recordMinMax;constructor(Y,J){this._maxSize=Y,this._recordMinMax=J}createAccumulation(Y){return new $2(Y,this._maxSize,this._recordMinMax)}merge(Y,J){let X=J.clone();return X.merge(Y),X}diff(Y,J){let X=J.clone();return X.diff(Y),X}toMetricData(Y,J,X,Z){return{descriptor:Y,aggregationTemporality:J,dataPointType:WI.DataPointType.EXPONENTIAL_HISTOGRAM,dataPoints:X.map(([W,$])=>{let G=$.toPointValue(),Q=Y.type===WI.InstrumentType.GAUGE||Y.type===WI.InstrumentType.UP_DOWN_COUNTER||Y.type===WI.InstrumentType.OBSERVABLE_GAUGE||Y.type===WI.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:W,startTime:$.startTime,endTime:Z,value:{min:G.hasMinMax?G.min:void 0,max:G.hasMinMax?G.max:void 0,sum:!Q?G.sum:void 0,positive:{offset:G.positive.offset,bucketCounts:G.positive.bucketCounts},negative:{offset:G.negative.offset,bucketCounts:G.negative.bucketCounts},count:G.count,scale:G.scale,zeroCount:G.zeroCount}}})}}}td1.ExponentialHistogramAggregator=sd1});var Wc1=q((Xc1)=>{Object.defineProperty(Xc1,"__esModule",{value:!0});Xc1.LastValueAggregator=Xc1.LastValueAccumulation=void 0;var rS4=PO(),$I=k1(),aS4=pW();class GI{startTime;_current;sampleTime;constructor(Y,J=0,X=[0,0]){this.startTime=Y,this._current=J,this.sampleTime=X}record(Y){this._current=Y,this.sampleTime=(0,$I.millisToHrTime)(Date.now())}setStartTime(Y){this.startTime=Y}toPointValue(){return this._current}}Xc1.LastValueAccumulation=GI;class Jc1{kind=rS4.AggregatorKind.LAST_VALUE;createAccumulation(Y){return new GI(Y)}merge(Y,J){let X=(0,$I.hrTimeToMicroseconds)(J.sampleTime)>=(0,$I.hrTimeToMicroseconds)(Y.sampleTime)?J:Y;return new GI(Y.startTime,X.toPointValue(),X.sampleTime)}diff(Y,J){let X=(0,$I.hrTimeToMicroseconds)(J.sampleTime)>=(0,$I.hrTimeToMicroseconds)(Y.sampleTime)?J:Y;return new GI(J.startTime,X.toPointValue(),X.sampleTime)}toMetricData(Y,J,X,Z){return{descriptor:Y,aggregationTemporality:J,dataPointType:aS4.DataPointType.GAUGE,dataPoints:X.map(([W,$])=>{return{attributes:W,startTime:$.startTime,endTime:Z,value:$.toPointValue()}})}}}Xc1.LastValueAggregator=Jc1});var Uc1=q((Gc1)=>{Object.defineProperty(Gc1,"__esModule",{value:!0});Gc1.SumAggregator=Gc1.SumAccumulation=void 0;var tS4=PO(),eS4=pW();class xQ{startTime;monotonic;_current;reset;constructor(Y,J,X=0,Z=!1){this.startTime=Y,this.monotonic=J,this._current=X,this.reset=Z}record(Y){if(this.monotonic&&Y<0)return;this._current+=Y}setStartTime(Y){this.startTime=Y}toPointValue(){return this._current}}Gc1.SumAccumulation=xQ;class $c1{kind=tS4.AggregatorKind.SUM;monotonic;constructor(Y){this.monotonic=Y}createAccumulation(Y){return new xQ(Y,this.monotonic)}merge(Y,J){let X=Y.toPointValue(),Z=J.toPointValue();if(J.reset)return new xQ(J.startTime,this.monotonic,Z,J.reset);return new xQ(Y.startTime,this.monotonic,X+Z)}diff(Y,J){let X=Y.toPointValue(),Z=J.toPointValue();if(this.monotonic&&X>Z)return new xQ(J.startTime,this.monotonic,Z,!0);return new xQ(J.startTime,this.monotonic,Z-X)}toMetricData(Y,J,X,Z){return{descriptor:Y,aggregationTemporality:J,dataPointType:eS4.DataPointType.SUM,dataPoints:X.map(([W,$])=>{return{attributes:W,startTime:$.startTime,endTime:Z,value:$.toPointValue()}}),isMonotonic:this.monotonic}}}Gc1.SumAggregator=$c1});var Bc1=q((tY)=>{Object.defineProperty(tY,"__esModule",{value:!0});tY.SumAggregator=tY.SumAccumulation=tY.LastValueAggregator=tY.LastValueAccumulation=tY.ExponentialHistogramAggregator=tY.ExponentialHistogramAccumulation=tY.HistogramAggregator=tY.HistogramAccumulation=tY.DropAggregator=void 0;var JC4=Dd1();Object.defineProperty(tY,"DropAggregator",{enumerable:!0,get:function(){return JC4.DropAggregator}});var zc1=Ld1();Object.defineProperty(tY,"HistogramAccumulation",{enumerable:!0,get:function(){return zc1.HistogramAccumulation}});Object.defineProperty(tY,"HistogramAggregator",{enumerable:!0,get:function(){return zc1.HistogramAggregator}});var Hc1=Yc1();Object.defineProperty(tY,"ExponentialHistogramAccumulation",{enumerable:!0,get:function(){return Hc1.ExponentialHistogramAccumulation}});Object.defineProperty(tY,"ExponentialHistogramAggregator",{enumerable:!0,get:function(){return Hc1.ExponentialHistogramAggregator}});var Oc1=Wc1();Object.defineProperty(tY,"LastValueAccumulation",{enumerable:!0,get:function(){return Oc1.LastValueAccumulation}});Object.defineProperty(tY,"LastValueAggregator",{enumerable:!0,get:function(){return Oc1.LastValueAggregator}});var Kc1=Uc1();Object.defineProperty(tY,"SumAccumulation",{enumerable:!0,get:function(){return Kc1.SumAccumulation}});Object.defineProperty(tY,"SumAggregator",{enumerable:!0,get:function(){return Kc1.SumAggregator}})});var Ac1=q((qc1)=>{Object.defineProperty(qc1,"__esModule",{value:!0});qc1.DEFAULT_AGGREGATION=qc1.EXPONENTIAL_HISTOGRAM_AGGREGATION=qc1.HISTOGRAM_AGGREGATION=qc1.LAST_VALUE_AGGREGATION=qc1.SUM_AGGREGATION=qc1.DROP_AGGREGATION=qc1.DefaultAggregation=qc1.ExponentialHistogramAggregation=qc1.ExplicitBucketHistogramAggregation=qc1.HistogramAggregation=qc1.LastValueAggregation=qc1.SumAggregation=qc1.DropAggregation=void 0;var ZC4=t(),fQ=Bc1(),SX=pW();class G2{static DEFAULT_INSTANCE=new fQ.DropAggregator;createAggregator(Y){return G2.DEFAULT_INSTANCE}}qc1.DropAggregation=G2;class QI{static MONOTONIC_INSTANCE=new fQ.SumAggregator(!0);static NON_MONOTONIC_INSTANCE=new fQ.SumAggregator(!1);createAggregator(Y){switch(Y.type){case SX.InstrumentType.COUNTER:case SX.InstrumentType.OBSERVABLE_COUNTER:case SX.InstrumentType.HISTOGRAM:return QI.MONOTONIC_INSTANCE;default:return QI.NON_MONOTONIC_INSTANCE}}}qc1.SumAggregation=QI;class Q2{static DEFAULT_INSTANCE=new fQ.LastValueAggregator;createAggregator(Y){return Q2.DEFAULT_INSTANCE}}qc1.LastValueAggregation=Q2;class U2{static DEFAULT_INSTANCE=new fQ.HistogramAggregator([0,5,10,25,50,75,100,250,500,750,1000,2500,5000,7500,1e4],!0);createAggregator(Y){return U2.DEFAULT_INSTANCE}}qc1.HistogramAggregation=U2;class ji{_boundaries;_recordMinMax;constructor(Y,J=!0){if(Y==null)throw Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");Y=Y.concat(),Y=Y.sort((W,$)=>W-$);let X=Y.lastIndexOf(-1/0),Z=Y.indexOf(1/0);if(Z===-1)Z=void 0;this._boundaries=Y.slice(X+1,Z),this._recordMinMax=J}createAggregator(Y){return new fQ.HistogramAggregator(this._boundaries,this._recordMinMax)}}qc1.ExplicitBucketHistogramAggregation=ji;class ki{_maxSize;_recordMinMax;constructor(Y=160,J=!0){this._maxSize=Y,this._recordMinMax=J}createAggregator(Y){return new fQ.ExponentialHistogramAggregator(this._maxSize,this._recordMinMax)}}qc1.ExponentialHistogramAggregation=ki;class _i{_resolve(Y){switch(Y.type){case SX.InstrumentType.COUNTER:case SX.InstrumentType.UP_DOWN_COUNTER:case SX.InstrumentType.OBSERVABLE_COUNTER:case SX.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return qc1.SUM_AGGREGATION;case SX.InstrumentType.GAUGE:case SX.InstrumentType.OBSERVABLE_GAUGE:return qc1.LAST_VALUE_AGGREGATION;case SX.InstrumentType.HISTOGRAM:{if(Y.advice.explicitBucketBoundaries)return new ji(Y.advice.explicitBucketBoundaries);return qc1.HISTOGRAM_AGGREGATION}}return ZC4.diag.warn(`Unable to recognize instrument type: ${Y.type}`),qc1.DROP_AGGREGATION}createAggregator(Y){return this._resolve(Y).createAggregator(Y)}}qc1.DefaultAggregation=_i;qc1.DROP_AGGREGATION=new G2;qc1.SUM_AGGREGATION=new QI;qc1.LAST_VALUE_AGGREGATION=new Q2;qc1.HISTOGRAM_AGGREGATION=new U2;qc1.EXPONENTIAL_HISTOGRAM_AGGREGATION=new ki;qc1.DEFAULT_AGGREGATION=new _i});var UI=q((Lc1)=>{Object.defineProperty(Lc1,"__esModule",{value:!0});Lc1.toAggregation=Lc1.AggregationType=void 0;var vQ=Ac1(),hQ;(function(Y){Y[Y.DEFAULT=0]="DEFAULT",Y[Y.DROP=1]="DROP",Y[Y.SUM=2]="SUM",Y[Y.LAST_VALUE=3]="LAST_VALUE",Y[Y.EXPLICIT_BUCKET_HISTOGRAM=4]="EXPLICIT_BUCKET_HISTOGRAM",Y[Y.EXPONENTIAL_HISTOGRAM=5]="EXPONENTIAL_HISTOGRAM"})(hQ=Lc1.AggregationType||(Lc1.AggregationType={}));function KC4(Y){switch(Y.type){case hQ.DEFAULT:return vQ.DEFAULT_AGGREGATION;case hQ.DROP:return vQ.DROP_AGGREGATION;case hQ.SUM:return vQ.SUM_AGGREGATION;case hQ.LAST_VALUE:return vQ.LAST_VALUE_AGGREGATION;case hQ.EXPONENTIAL_HISTOGRAM:{let J=Y;return new vQ.ExponentialHistogramAggregation(J.options?.maxSize,J.options?.recordMinMax)}case hQ.EXPLICIT_BUCKET_HISTOGRAM:{let J=Y;if(J.options==null)return vQ.HISTOGRAM_AGGREGATION;else return new vQ.ExplicitBucketHistogramAggregation(J.options?.boundaries,J.options?.recordMinMax)}default:throw Error("Unsupported Aggregation")}}Lc1.toAggregation=KC4});var xi=q((Ec1)=>{Object.defineProperty(Ec1,"__esModule",{value:!0});Ec1.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=Ec1.DEFAULT_AGGREGATION_SELECTOR=void 0;var BC4=J2(),qC4=UI(),FC4=(Y)=>{return{type:qC4.AggregationType.DEFAULT}};Ec1.DEFAULT_AGGREGATION_SELECTOR=FC4;var VC4=(Y)=>BC4.AggregationTemporality.CUMULATIVE;Ec1.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=VC4});var fi=q((jc1)=>{Object.defineProperty(jc1,"__esModule",{value:!0});jc1.MetricReader=void 0;var Rc1=t(),Nc1=NX(),Sc1=xi();class Cc1{_shutdown=!1;_metricProducers;_sdkMetricProducer;_aggregationTemporalitySelector;_aggregationSelector;_cardinalitySelector;constructor(Y){this._aggregationSelector=Y?.aggregationSelector??Sc1.DEFAULT_AGGREGATION_SELECTOR,this._aggregationTemporalitySelector=Y?.aggregationTemporalitySelector??Sc1.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR,this._metricProducers=Y?.metricProducers??[],this._cardinalitySelector=Y?.cardinalitySelector}setMetricProducer(Y){if(this._sdkMetricProducer)throw Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=Y,this.onInitialized()}selectAggregation(Y){return this._aggregationSelector(Y)}selectAggregationTemporality(Y){return this._aggregationTemporalitySelector(Y)}selectCardinalityLimit(Y){return this._cardinalitySelector?this._cardinalitySelector(Y):2000}onInitialized(){}async collect(Y){if(this._sdkMetricProducer===void 0)throw Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw Error("MetricReader is shutdown");let[J,...X]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:Y?.timeoutMillis}),...this._metricProducers.map((G)=>G.collect({timeoutMillis:Y?.timeoutMillis}))]),Z=J.errors.concat(X.flatMap((G)=>G.errors)),W=J.resourceMetrics.resource,$=J.resourceMetrics.scopeMetrics.concat(X.flatMap((G)=>G.resourceMetrics.scopeMetrics));return{resourceMetrics:{resource:W,scopeMetrics:$},errors:Z}}async shutdown(Y){if(this._shutdown){Rc1.diag.error("Cannot call shutdown twice.");return}if(Y?.timeoutMillis==null)await this.onShutdown();else await(0,Nc1.callWithTimeout)(this.onShutdown(),Y.timeoutMillis);this._shutdown=!0}async forceFlush(Y){if(this._shutdown){Rc1.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if(Y?.timeoutMillis==null){await this.onForceFlush();return}await(0,Nc1.callWithTimeout)(this.onForceFlush(),Y.timeoutMillis)}}jc1.MetricReader=Cc1});var hc1=q((fc1)=>{Object.defineProperty(fc1,"__esModule",{value:!0});fc1.PeriodicExportingMetricReader=void 0;var z2=t(),H2=k1(),DC4=fi(),_c1=NX();class xc1 extends DC4.MetricReader{_interval;_exporter;_exportInterval;_exportTimeout;constructor(Y){let{exporter:J,exportIntervalMillis:X=60000,metricProducers:Z}=Y,{exportTimeoutMillis:W=30000}=Y;super({aggregationSelector:J.selectAggregation?.bind(J),aggregationTemporalitySelector:J.selectAggregationTemporality?.bind(J),metricProducers:Z});if(X<=0)throw Error("exportIntervalMillis must be greater than 0");if(W<=0)throw Error("exportTimeoutMillis must be greater than 0");if(X<W)if("exportIntervalMillis"in Y&&"exportTimeoutMillis"in Y)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");else z2.diag.info(`Timeout of ${W} exceeds the interval of ${X}. Clamping timeout to interval duration.`),W=X;this._exportInterval=X,this._exportTimeout=W,this._exporter=J}async _runOnce(){try{await(0,_c1.callWithTimeout)(this._doRun(),this._exportTimeout)}catch(Y){if(Y instanceof _c1.TimeoutError){z2.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,H2.globalErrorHandler)(Y)}}async _doRun(){let{resourceMetrics:Y,errors:J}=await this.collect({timeoutMillis:this._exportTimeout});if(J.length>0)z2.diag.error("PeriodicExportingMetricReader: metrics collection errors",...J);if(Y.resource.asyncAttributesPending)try{await Y.resource.waitForAsyncAttributes?.()}catch(Z){z2.diag.debug("Error while resolving async portion of resource: ",Z),(0,H2.globalErrorHandler)(Z)}if(Y.scopeMetrics.length===0)return;let X=await H2.internal._export(this._exporter,Y);if(X.code!==H2.ExportResultCode.SUCCESS)throw Error(`PeriodicExportingMetricReader: metrics export failed (error ${X.error})`)}onInitialized(){if(this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),typeof this._interval!=="number")this._interval.unref()}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){if(this._interval)clearInterval(this._interval);await this.onForceFlush(),await this._exporter.shutdown()}}fc1.PeriodicExportingMetricReader=xc1});var mc1=q((gc1)=>{Object.defineProperty(gc1,"__esModule",{value:!0});gc1.InMemoryMetricExporter=void 0;var bc1=k1();class yc1{_shutdown=!1;_aggregationTemporality;_metrics=[];constructor(Y){this._aggregationTemporality=Y}export(Y,J){if(this._shutdown){setTimeout(()=>J({code:bc1.ExportResultCode.FAILED}),0);return}this._metrics.push(Y),setTimeout(()=>J({code:bc1.ExportResultCode.SUCCESS}),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(Y){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}}gc1.InMemoryMetricExporter=yc1});var pc1=q((cc1)=>{Object.defineProperty(cc1,"__esModule",{value:!0});cc1.ConsoleMetricExporter=void 0;var dc1=k1(),wC4=xi();class vi{_shutdown=!1;_temporalitySelector;constructor(Y){this._temporalitySelector=Y?.temporalitySelector??wC4.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}export(Y,J){if(this._shutdown){J({code:dc1.ExportResultCode.FAILED});return}return vi._sendMetrics(Y,J)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(Y){return this._temporalitySelector(Y)}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(Y,J){for(let X of Y.scopeMetrics)for(let Z of X.metrics)console.dir({descriptor:Z.descriptor,dataPointType:Z.dataPointType,dataPoints:Z.dataPoints},{depth:null});J({code:dc1.ExportResultCode.SUCCESS})}}cc1.ConsoleMetricExporter=vi});var rc1=q((ic1)=>{Object.defineProperty(ic1,"__esModule",{value:!0});ic1.ViewRegistry=void 0;class nc1{_registeredViews=[];addView(Y){this._registeredViews.push(Y)}findViews(Y,J){return this._registeredViews.filter((Z)=>{return this._matchInstrument(Z.instrumentSelector,Y)&&this._matchMeter(Z.meterSelector,J)})}_matchInstrument(Y,J){return(Y.getType()===void 0||J.type===Y.getType())&&Y.getNameFilter().match(J.name)&&Y.getUnitFilter().match(J.unit)}_matchMeter(Y,J){return Y.getNameFilter().match(J.name)&&(J.version===void 0||Y.getVersionFilter().match(J.version))&&(J.schemaUrl===void 0||Y.getSchemaUrlFilter().match(J.schemaUrl))}}ic1.ViewRegistry=nc1});var zI=q((tc1)=>{Object.defineProperty(tc1,"__esModule",{value:!0});tc1.isValidName=tc1.isDescriptorCompatibleWith=tc1.createInstrumentDescriptorWithView=tc1.createInstrumentDescriptor=void 0;var ac1=t(),AC4=NX();function PC4(Y,J,X){if(!sc1(Y))ac1.diag.warn(`Invalid metric name: "${Y}". The metric name should be a ASCII string with a length no greater than 255 characters.`);return{name:Y,type:J,description:X?.description??"",unit:X?.unit??"",valueType:X?.valueType??ac1.ValueType.DOUBLE,advice:X?.advice??{}}}tc1.createInstrumentDescriptor=PC4;function LC4(Y,J){return{name:Y.name??J.name,description:Y.description??J.description,type:J.type,unit:J.unit,valueType:J.valueType,advice:J.advice}}tc1.createInstrumentDescriptorWithView=LC4;function MC4(Y,J){return(0,AC4.equalsCaseInsensitive)(Y.name,J.name)&&Y.unit===J.unit&&Y.type===J.type&&Y.valueType===J.valueType}tc1.isDescriptorCompatibleWith=MC4;var EC4=/^[a-z][a-z0-9_.\-/]{0,254}$/i;function sc1(Y){return EC4.test(Y)}tc1.isValidName=sc1});var O2=q((Ql1)=>{Object.defineProperty(Ql1,"__esModule",{value:!0});Ql1.isObservableInstrument=Ql1.ObservableUpDownCounterInstrument=Ql1.ObservableGaugeInstrument=Ql1.ObservableCounterInstrument=Ql1.ObservableInstrument=Ql1.HistogramInstrument=Ql1.GaugeInstrument=Ql1.CounterInstrument=Ql1.UpDownCounterInstrument=Ql1.SyncInstrument=void 0;var TO=t(),SC4=k1();class RO{_writableMetricStorage;_descriptor;constructor(Y,J){this._writableMetricStorage=Y,this._descriptor=J}_record(Y,J={},X=TO.context.active()){if(typeof Y!=="number"){TO.diag.warn(`non-number value provided to metric ${this._descriptor.name}: ${Y}`);return}if(this._descriptor.valueType===TO.ValueType.INT&&!Number.isInteger(Y)){if(TO.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),Y=Math.trunc(Y),!Number.isInteger(Y))return}this._writableMetricStorage.record(Y,J,X,(0,SC4.millisToHrTime)(Date.now()))}}Ql1.SyncInstrument=RO;class Yl1 extends RO{add(Y,J,X){this._record(Y,J,X)}}Ql1.UpDownCounterInstrument=Yl1;class Jl1 extends RO{add(Y,J,X){if(Y<0){TO.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${Y}`);return}this._record(Y,J,X)}}Ql1.CounterInstrument=Jl1;class Xl1 extends RO{record(Y,J,X){this._record(Y,J,X)}}Ql1.GaugeInstrument=Xl1;class Zl1 extends RO{record(Y,J,X){if(Y<0){TO.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${Y}`);return}this._record(Y,J,X)}}Ql1.HistogramInstrument=Zl1;class NO{_metricStorages;_descriptor;_observableRegistry;constructor(Y,J,X){this._descriptor=Y,this._metricStorages=J,this._observableRegistry=X}addCallback(Y){this._observableRegistry.addCallback(Y,this)}removeCallback(Y){this._observableRegistry.removeCallback(Y,this)}}Ql1.ObservableInstrument=NO;class Wl1 extends NO{}Ql1.ObservableCounterInstrument=Wl1;class $l1 extends NO{}Ql1.ObservableGaugeInstrument=$l1;class Gl1 extends NO{}Ql1.ObservableUpDownCounterInstrument=Gl1;function CC4(Y){return Y instanceof NO}Ql1.isObservableInstrument=CC4});var Kl1=q((Hl1)=>{Object.defineProperty(Hl1,"__esModule",{value:!0});Hl1.Meter=void 0;var bQ=zI(),yQ=O2(),gQ=pW();class zl1{_meterSharedState;constructor(Y){this._meterSharedState=Y}createGauge(Y,J){let X=(0,bQ.createInstrumentDescriptor)(Y,gQ.InstrumentType.GAUGE,J),Z=this._meterSharedState.registerMetricStorage(X);return new yQ.GaugeInstrument(Z,X)}createHistogram(Y,J){let X=(0,bQ.createInstrumentDescriptor)(Y,gQ.InstrumentType.HISTOGRAM,J),Z=this._meterSharedState.registerMetricStorage(X);return new yQ.HistogramInstrument(Z,X)}createCounter(Y,J){let X=(0,bQ.createInstrumentDescriptor)(Y,gQ.InstrumentType.COUNTER,J),Z=this._meterSharedState.registerMetricStorage(X);return new yQ.CounterInstrument(Z,X)}createUpDownCounter(Y,J){let X=(0,bQ.createInstrumentDescriptor)(Y,gQ.InstrumentType.UP_DOWN_COUNTER,J),Z=this._meterSharedState.registerMetricStorage(X);return new yQ.UpDownCounterInstrument(Z,X)}createObservableGauge(Y,J){let X=(0,bQ.createInstrumentDescriptor)(Y,gQ.InstrumentType.OBSERVABLE_GAUGE,J),Z=this._meterSharedState.registerAsyncMetricStorage(X);return new yQ.ObservableGaugeInstrument(X,Z,this._meterSharedState.observableRegistry)}createObservableCounter(Y,J){let X=(0,bQ.createInstrumentDescriptor)(Y,gQ.InstrumentType.OBSERVABLE_COUNTER,J),Z=this._meterSharedState.registerAsyncMetricStorage(X);return new yQ.ObservableCounterInstrument(X,Z,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(Y,J){let X=(0,bQ.createInstrumentDescriptor)(Y,gQ.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,J),Z=this._meterSharedState.registerAsyncMetricStorage(X);return new yQ.ObservableUpDownCounterInstrument(X,Z,this._meterSharedState.observableRegistry)}addBatchObservableCallback(Y,J){this._meterSharedState.observableRegistry.addBatchCallback(Y,J)}removeBatchObservableCallback(Y,J){this._meterSharedState.observableRegistry.removeBatchCallback(Y,J)}}Hl1.Meter=zl1});var hi=q((ql1)=>{Object.defineProperty(ql1,"__esModule",{value:!0});ql1.MetricStorage=void 0;var gC4=zI();class Bl1{_instrumentDescriptor;constructor(Y){this._instrumentDescriptor=Y}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(Y){this._instrumentDescriptor=(0,gC4.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:Y,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})}}ql1.MetricStorage=Bl1});var HI=q((Il1)=>{Object.defineProperty(Il1,"__esModule",{value:!0});Il1.AttributeHashMap=Il1.HashMap=void 0;var uC4=NX();class bi{_valueMap=new Map;_keyMap=new Map;_hash;constructor(Y){this._hash=Y}get(Y,J){return J??=this._hash(Y),this._valueMap.get(J)}getOrDefault(Y,J){let X=this._hash(Y);if(this._valueMap.has(X))return this._valueMap.get(X);let Z=J();if(!this._keyMap.has(X))this._keyMap.set(X,Y);return this._valueMap.set(X,Z),Z}set(Y,J,X){if(X??=this._hash(Y),!this._keyMap.has(X))this._keyMap.set(X,Y);this._valueMap.set(X,J)}has(Y,J){return J??=this._hash(Y),this._valueMap.has(J)}*keys(){let Y=this._keyMap.entries(),J=Y.next();while(J.done!==!0)yield[J.value[1],J.value[0]],J=Y.next()}*entries(){let Y=this._valueMap.entries(),J=Y.next();while(J.done!==!0)yield[this._keyMap.get(J.value[0]),J.value[1],J.value[0]],J=Y.next()}get size(){return this._valueMap.size}}Il1.HashMap=bi;class Vl1 extends bi{constructor(){super(uC4.hashAttributes)}}Il1.AttributeHashMap=Vl1});var gi=q((Al1)=>{Object.defineProperty(Al1,"__esModule",{value:!0});Al1.DeltaMetricProcessor=void 0;var dC4=NX(),yi=HI();class wl1{_activeCollectionStorage=new yi.AttributeHashMap;_cumulativeMemoStorage=new yi.AttributeHashMap;_cardinalityLimit;_overflowAttributes={"otel.metric.overflow":!0};_overflowHashCode;_aggregator;constructor(Y,J){this._aggregator=Y,this._cardinalityLimit=(J??2000)-1,this._overflowHashCode=(0,dC4.hashAttributes)(this._overflowAttributes)}record(Y,J,X,Z){let W=this._activeCollectionStorage.get(J);if(!W){if(this._activeCollectionStorage.size>=this._cardinalityLimit){this._activeCollectionStorage.getOrDefault(this._overflowAttributes,()=>this._aggregator.createAccumulation(Z))?.record(Y);return}W=this._aggregator.createAccumulation(Z),this._activeCollectionStorage.set(J,W)}W?.record(Y)}batchCumulate(Y,J){Array.from(Y.entries()).forEach(([X,Z,W])=>{let $=this._aggregator.createAccumulation(J);$?.record(Z);let G=$;if(this._cumulativeMemoStorage.has(X,W)){let Q=this._cumulativeMemoStorage.get(X,W);G=this._aggregator.diff(Q,$)}else if(this._cumulativeMemoStorage.size>=this._cardinalityLimit){if(X=this._overflowAttributes,W=this._overflowHashCode,this._cumulativeMemoStorage.has(X,W)){let Q=this._cumulativeMemoStorage.get(X,W);G=this._aggregator.diff(Q,$)}}if(this._activeCollectionStorage.has(X,W)){let Q=this._activeCollectionStorage.get(X,W);G=this._aggregator.merge(Q,G)}this._cumulativeMemoStorage.set(X,$,W),this._activeCollectionStorage.set(X,G,W)})}collect(){let Y=this._activeCollectionStorage;return this._activeCollectionStorage=new yi.AttributeHashMap,Y}}Al1.DeltaMetricProcessor=wl1});var ui=q((Ll1)=>{Object.defineProperty(Ll1,"__esModule",{value:!0});Ll1.TemporalMetricProcessor=void 0;var cC4=J2(),lC4=HI();class OI{_aggregator;_unreportedAccumulations=new Map;_reportHistory=new Map;constructor(Y,J){this._aggregator=Y,J.forEach((X)=>{this._unreportedAccumulations.set(X,[])})}buildMetrics(Y,J,X,Z){this._stashAccumulations(X);let W=this._getMergedUnreportedAccumulations(Y),$=W,G;if(this._reportHistory.has(Y)){let U=this._reportHistory.get(Y),z=U.collectionTime;if(G=U.aggregationTemporality,G===cC4.AggregationTemporality.CUMULATIVE)$=OI.merge(U.accumulations,W,this._aggregator);else $=OI.calibrateStartTime(U.accumulations,W,z)}else G=Y.selectAggregationTemporality(J.type);this._reportHistory.set(Y,{accumulations:$,collectionTime:Z,aggregationTemporality:G});let Q=pC4($);if(Q.length===0)return;return this._aggregator.toMetricData(J,G,Q,Z)}_stashAccumulations(Y){let J=this._unreportedAccumulations.keys();for(let X of J){let Z=this._unreportedAccumulations.get(X);if(Z===void 0)Z=[],this._unreportedAccumulations.set(X,Z);Z.push(Y)}}_getMergedUnreportedAccumulations(Y){let J=new lC4.AttributeHashMap,X=this._unreportedAccumulations.get(Y);if(this._unreportedAccumulations.set(Y,[]),X===void 0)return J;for(let Z of X)J=OI.merge(J,Z,this._aggregator);return J}static merge(Y,J,X){let Z=Y,W=J.entries(),$=W.next();while($.done!==!0){let[G,Q,U]=$.value;if(Y.has(G,U)){let z=Y.get(G,U),H=X.merge(z,Q);Z.set(G,H,U)}else Z.set(G,Q,U);$=W.next()}return Z}static calibrateStartTime(Y,J,X){for(let[Z,W]of Y.keys())J.get(Z,W)?.setStartTime(X);return J}}Ll1.TemporalMetricProcessor=OI;function pC4(Y){return Array.from(Y.entries())}});var Nl1=q((Tl1)=>{Object.defineProperty(Tl1,"__esModule",{value:!0});Tl1.AsyncMetricStorage=void 0;var nC4=hi(),iC4=gi(),oC4=ui(),rC4=HI();class El1 extends nC4.MetricStorage{_aggregationCardinalityLimit;_deltaMetricStorage;_temporalMetricStorage;_attributesProcessor;constructor(Y,J,X,Z,W){super(Y);this._aggregationCardinalityLimit=W,this._deltaMetricStorage=new iC4.DeltaMetricProcessor(J,this._aggregationCardinalityLimit),this._temporalMetricStorage=new oC4.TemporalMetricProcessor(J,Z),this._attributesProcessor=X}record(Y,J){let X=new rC4.AttributeHashMap;Array.from(Y.entries()).forEach(([Z,W])=>{X.set(this._attributesProcessor.process(Z),W)}),this._deltaMetricStorage.batchCumulate(X,J)}collect(Y,J){let X=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(Y,this._instrumentDescriptor,X,J)}}Tl1.AsyncMetricStorage=El1});var fl1=q((_l1)=>{Object.defineProperty(_l1,"__esModule",{value:!0});_l1.getConflictResolutionRecipe=_l1.getDescriptionResolutionRecipe=_l1.getTypeConflictResolutionRecipe=_l1.getUnitConflictResolutionRecipe=_l1.getValueTypeConflictResolutionRecipe=_l1.getIncompatibilityDetails=void 0;function aC4(Y,J){let X="";if(Y.unit!==J.unit)X+=`	- Unit '${Y.unit}' does not match '${J.unit}'
`;if(Y.type!==J.type)X+=`	- Type '${Y.type}' does not match '${J.type}'
`;if(Y.valueType!==J.valueType)X+=`	- Value Type '${Y.valueType}' does not match '${J.valueType}'
`;if(Y.description!==J.description)X+=`	- Description '${Y.description}' does not match '${J.description}'
`;return X}_l1.getIncompatibilityDetails=aC4;function Sl1(Y,J){return`	- use valueType '${Y.valueType}' on instrument creation or use an instrument name other than '${J.name}'`}_l1.getValueTypeConflictResolutionRecipe=Sl1;function Cl1(Y,J){return`	- use unit '${Y.unit}' on instrument creation or use an instrument name other than '${J.name}'`}_l1.getUnitConflictResolutionRecipe=Cl1;function jl1(Y,J){let X={name:J.name,type:J.type,unit:J.unit},Z=JSON.stringify(X);return`	- create a new view with a name other than '${Y.name}' and InstrumentSelector '${Z}'`}_l1.getTypeConflictResolutionRecipe=jl1;function kl1(Y,J){let X={name:J.name,type:J.type,unit:J.unit},Z=JSON.stringify(X);return`	- create a new view with a name other than '${Y.name}' and InstrumentSelector '${Z}'
    	- OR - create a new view with the name ${Y.name} and description '${Y.description}' and InstrumentSelector ${Z}
    	- OR - create a new view with the name ${J.name} and description '${Y.description}' and InstrumentSelector ${Z}`}_l1.getDescriptionResolutionRecipe=kl1;function sC4(Y,J){if(Y.valueType!==J.valueType)return Sl1(Y,J);if(Y.unit!==J.unit)return Cl1(Y,J);if(Y.type!==J.type)return jl1(Y,J);if(Y.description!==J.description)return kl1(Y,J);return""}_l1.getConflictResolutionRecipe=sC4});var yl1=q((hl1)=>{Object.defineProperty(hl1,"__esModule",{value:!0});hl1.MetricStorageRegistry=void 0;var Zj4=zI(),vl1=t(),K2=fl1();class mi{_sharedRegistry=new Map;_perCollectorRegistry=new Map;static create(){return new mi}getStorages(Y){let J=[];for(let Z of this._sharedRegistry.values())J=J.concat(Z);let X=this._perCollectorRegistry.get(Y);if(X!=null)for(let Z of X.values())J=J.concat(Z);return J}register(Y){this._registerStorage(Y,this._sharedRegistry)}registerForCollector(Y,J){let X=this._perCollectorRegistry.get(Y);if(X==null)X=new Map,this._perCollectorRegistry.set(Y,X);this._registerStorage(J,X)}findOrUpdateCompatibleStorage(Y){let J=this._sharedRegistry.get(Y.name);if(J===void 0)return null;return this._findOrUpdateCompatibleStorage(Y,J)}findOrUpdateCompatibleCollectorStorage(Y,J){let X=this._perCollectorRegistry.get(Y);if(X===void 0)return null;let Z=X.get(J.name);if(Z===void 0)return null;return this._findOrUpdateCompatibleStorage(J,Z)}_registerStorage(Y,J){let X=Y.getInstrumentDescriptor(),Z=J.get(X.name);if(Z===void 0){J.set(X.name,[Y]);return}Z.push(Y)}_findOrUpdateCompatibleStorage(Y,J){let X=null;for(let Z of J){let W=Z.getInstrumentDescriptor();if((0,Zj4.isDescriptorCompatibleWith)(W,Y)){if(W.description!==Y.description){if(Y.description.length>W.description.length)Z.updateDescription(Y.description);vl1.diag.warn("A view or instrument with the name ",Y.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,K2.getIncompatibilityDetails)(W,Y),`The longer description will be used.
To resolve the conflict:`,(0,K2.getConflictResolutionRecipe)(W,Y))}X=Z}else vl1.diag.warn("A view or instrument with the name ",Y.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,K2.getIncompatibilityDetails)(W,Y),`To resolve the conflict:
`,(0,K2.getConflictResolutionRecipe)(W,Y))}return X}}hl1.MetricStorageRegistry=mi});var dl1=q((ul1)=>{Object.defineProperty(ul1,"__esModule",{value:!0});ul1.MultiMetricStorage=void 0;class gl1{_backingStorages;constructor(Y){this._backingStorages=Y}record(Y,J,X,Z){this._backingStorages.forEach((W)=>{W.record(Y,J,X,Z)})}}ul1.MultiMetricStorage=gl1});var ol1=q((nl1)=>{Object.defineProperty(nl1,"__esModule",{value:!0});nl1.BatchObservableResultImpl=nl1.ObservableResultImpl=void 0;var SO=t(),cl1=HI(),Wj4=O2();class ll1{_buffer=new cl1.AttributeHashMap;_instrumentName;_valueType;constructor(Y,J){this._instrumentName=Y,this._valueType=J}observe(Y,J={}){if(typeof Y!=="number"){SO.diag.warn(`non-number value provided to metric ${this._instrumentName}: ${Y}`);return}if(this._valueType===SO.ValueType.INT&&!Number.isInteger(Y)){if(SO.diag.warn(`INT value type cannot accept a floating-point value for ${this._instrumentName}, ignoring the fractional digits.`),Y=Math.trunc(Y),!Number.isInteger(Y))return}this._buffer.set(J,Y)}}nl1.ObservableResultImpl=ll1;class pl1{_buffer=new Map;observe(Y,J,X={}){if(!(0,Wj4.isObservableInstrument)(Y))return;let Z=this._buffer.get(Y);if(Z==null)Z=new cl1.AttributeHashMap,this._buffer.set(Y,Z);if(typeof J!=="number"){SO.diag.warn(`non-number value provided to metric ${Y._descriptor.name}: ${J}`);return}if(Y._descriptor.valueType===SO.ValueType.INT&&!Number.isInteger(J)){if(SO.diag.warn(`INT value type cannot accept a floating-point value for ${Y._descriptor.name}, ignoring the fractional digits.`),J=Math.trunc(J),!Number.isInteger(J))return}Z.set(X,J)}}nl1.BatchObservableResultImpl=pl1});var Yp1=q((tl1)=>{Object.defineProperty(tl1,"__esModule",{value:!0});tl1.ObservableRegistry=void 0;var Gj4=t(),rl1=O2(),al1=ol1(),di=NX();class sl1{_callbacks=[];_batchCallbacks=[];addCallback(Y,J){if(this._findCallback(Y,J)>=0)return;this._callbacks.push({callback:Y,instrument:J})}removeCallback(Y,J){let X=this._findCallback(Y,J);if(X<0)return;this._callbacks.splice(X,1)}addBatchCallback(Y,J){let X=new Set(J.filter(rl1.isObservableInstrument));if(X.size===0){Gj4.diag.error("BatchObservableCallback is not associated with valid instruments",J);return}if(this._findBatchCallback(Y,X)>=0)return;this._batchCallbacks.push({callback:Y,instruments:X})}removeBatchCallback(Y,J){let X=new Set(J.filter(rl1.isObservableInstrument)),Z=this._findBatchCallback(Y,X);if(Z<0)return;this._batchCallbacks.splice(Z,1)}async observe(Y,J){let X=this._observeCallbacks(Y,J),Z=this._observeBatchCallbacks(Y,J);return(await Promise.allSettled([...X,...Z])).filter((G)=>G.status==="rejected").map((G)=>G.reason)}_observeCallbacks(Y,J){return this._callbacks.map(async({callback:X,instrument:Z})=>{let W=new al1.ObservableResultImpl(Z._descriptor.name,Z._descriptor.valueType),$=Promise.resolve(X(W));if(J!=null)$=(0,di.callWithTimeout)($,J);await $,Z._metricStorages.forEach((G)=>{G.record(W._buffer,Y)})})}_observeBatchCallbacks(Y,J){return this._batchCallbacks.map(async({callback:X,instruments:Z})=>{let W=new al1.BatchObservableResultImpl,$=Promise.resolve(X(W));if(J!=null)$=(0,di.callWithTimeout)($,J);await $,Z.forEach((G)=>{let Q=W._buffer.get(G);if(Q==null)return;G._metricStorages.forEach((U)=>{U.record(Q,Y)})})})}_findCallback(Y,J){return this._callbacks.findIndex((X)=>{return X.callback===Y&&X.instrument===J})}_findBatchCallback(Y,J){return this._batchCallbacks.findIndex((X)=>{return X.callback===Y&&(0,di.setEquals)(X.instruments,J)})}}tl1.ObservableRegistry=sl1});var Wp1=q((Xp1)=>{Object.defineProperty(Xp1,"__esModule",{value:!0});Xp1.SyncMetricStorage=void 0;var Qj4=hi(),Uj4=gi(),zj4=ui();class Jp1 extends Qj4.MetricStorage{_aggregationCardinalityLimit;_deltaMetricStorage;_temporalMetricStorage;_attributesProcessor;constructor(Y,J,X,Z,W){super(Y);this._aggregationCardinalityLimit=W,this._deltaMetricStorage=new Uj4.DeltaMetricProcessor(J,this._aggregationCardinalityLimit),this._temporalMetricStorage=new zj4.TemporalMetricProcessor(J,Z),this._attributesProcessor=X}record(Y,J,X,Z){J=this._attributesProcessor.process(J,X),this._deltaMetricStorage.record(Y,J,X,Z)}collect(Y,J){let X=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(Y,this._instrumentDescriptor,X,J)}}Xp1.SyncMetricStorage=Jp1});var B2=q((zp1)=>{Object.defineProperty(zp1,"__esModule",{value:!0});zp1.createDenyListAttributesProcessor=zp1.createAllowListAttributesProcessor=zp1.createMultiAttributesProcessor=zp1.createNoopAttributesProcessor=void 0;class $p1{process(Y,J){return Y}}class Gp1{_processors;constructor(Y){this._processors=Y}process(Y,J){let X=Y;for(let Z of this._processors)X=Z.process(X,J);return X}}class Qp1{_allowedAttributeNames;constructor(Y){this._allowedAttributeNames=Y}process(Y,J){let X={};return Object.keys(Y).forEach((Z)=>{if(this._allowedAttributeNames.includes(Z))X[Z]=Y[Z]}),X}}class Up1{_deniedAttributeNames;constructor(Y){this._deniedAttributeNames=Y}process(Y,J){let X={};return Object.keys(Y).forEach((Z)=>{if(!this._deniedAttributeNames.includes(Z))X[Z]=Y[Z]}),X}}function Hj4(){return qj4}zp1.createNoopAttributesProcessor=Hj4;function Oj4(Y){return new Gp1(Y)}zp1.createMultiAttributesProcessor=Oj4;function Kj4(Y){return new Qp1(Y)}zp1.createAllowListAttributesProcessor=Kj4;function Bj4(Y){return new Up1(Y)}zp1.createDenyListAttributesProcessor=Bj4;var qj4=new $p1});var qp1=q((Kp1)=>{Object.defineProperty(Kp1,"__esModule",{value:!0});Kp1.MeterSharedState=void 0;var Dj4=zI(),wj4=Kl1(),Aj4=Nl1(),Pj4=yl1(),Lj4=dl1(),Mj4=Yp1(),Ej4=Wp1(),Tj4=B2();class Op1{metricStorageRegistry=new Pj4.MetricStorageRegistry;observableRegistry=new Mj4.ObservableRegistry;meter;_meterProviderSharedState;_instrumentationScope;constructor(Y,J){this.meter=new wj4.Meter(this),this._meterProviderSharedState=Y,this._instrumentationScope=J}registerMetricStorage(Y){let J=this._registerMetricStorage(Y,Ej4.SyncMetricStorage);if(J.length===1)return J[0];return new Lj4.MultiMetricStorage(J)}registerAsyncMetricStorage(Y){return this._registerMetricStorage(Y,Aj4.AsyncMetricStorage)}async collect(Y,J,X){let Z=await this.observableRegistry.observe(J,X?.timeoutMillis),W=this.metricStorageRegistry.getStorages(Y);if(W.length===0)return null;let $=[];if(W.forEach((G)=>{let Q=G.collect(Y,J);if(Q!=null)$.push(Q)}),$.length===0)return{errors:Z};return{scopeMetrics:{scope:this._instrumentationScope,metrics:$},errors:Z}}_registerMetricStorage(Y,J){let Z=this._meterProviderSharedState.viewRegistry.findViews(Y,this._instrumentationScope).map((W)=>{let $=(0,Dj4.createInstrumentDescriptorWithView)(W,Y),G=this.metricStorageRegistry.findOrUpdateCompatibleStorage($);if(G!=null)return G;let Q=W.aggregation.createAggregator($),U=new J($,Q,W.attributesProcessor,this._meterProviderSharedState.metricCollectors,W.aggregationCardinalityLimit);return this.metricStorageRegistry.register(U),U});if(Z.length===0){let $=this._meterProviderSharedState.selectAggregations(Y.type).map(([G,Q])=>{let U=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(G,Y);if(U!=null)return U;let z=Q.createAggregator(Y),H=G.selectCardinalityLimit(Y.type),O=new J(Y,z,(0,Tj4.createNoopAttributesProcessor)(),[G],H);return this.metricStorageRegistry.registerForCollector(G,O),O});Z=Z.concat($)}return Z}}Kp1.MeterSharedState=Op1});var Dp1=q((Vp1)=>{Object.defineProperty(Vp1,"__esModule",{value:!0});Vp1.MeterProviderSharedState=void 0;var Rj4=NX(),Nj4=rc1(),Sj4=qp1(),Cj4=UI();class Fp1{viewRegistry=new Nj4.ViewRegistry;metricCollectors=[];meterSharedStates=new Map;resource;constructor(Y){this.resource=Y}getMeterSharedState(Y){let J=(0,Rj4.instrumentationScopeId)(Y),X=this.meterSharedStates.get(J);if(X==null)X=new Sj4.MeterSharedState(this,Y),this.meterSharedStates.set(J,X);return X}selectAggregations(Y){let J=[];for(let X of this.metricCollectors)J.push([X,(0,Cj4.toAggregation)(X.selectAggregation(Y))]);return J}}Vp1.MeterProviderSharedState=Fp1});var Lp1=q((Ap1)=>{Object.defineProperty(Ap1,"__esModule",{value:!0});Ap1.MetricCollector=void 0;var jj4=k1();class wp1{_sharedState;_metricReader;constructor(Y,J){this._sharedState=Y,this._metricReader=J}async collect(Y){let J=(0,jj4.millisToHrTime)(Date.now()),X=[],Z=[],W=Array.from(this._sharedState.meterSharedStates.values()).map(async($)=>{let G=await $.collect(this,J,Y);if(G?.scopeMetrics!=null)X.push(G.scopeMetrics);if(G?.errors!=null)Z.push(...G.errors)});return await Promise.all(W),{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:X},errors:Z}}async forceFlush(Y){await this._metricReader.forceFlush(Y)}async shutdown(Y){await this._metricReader.shutdown(Y)}selectAggregationTemporality(Y){return this._metricReader.selectAggregationTemporality(Y)}selectAggregation(Y){return this._metricReader.selectAggregation(Y)}selectCardinalityLimit(Y){return this._metricReader.selectCardinalityLimit?.(Y)??2000}}Ap1.MetricCollector=wp1});var q2=q((Ep1)=>{Object.defineProperty(Ep1,"__esModule",{value:!0});Ep1.ExactPredicate=Ep1.PatternPredicate=void 0;var kj4=/[\^$\\.+?()[\]{}|]/g;class ci{_matchAll;_regexp;constructor(Y){if(Y==="*")this._matchAll=!0,this._regexp=/.*/;else this._matchAll=!1,this._regexp=new RegExp(ci.escapePattern(Y))}match(Y){if(this._matchAll)return!0;return this._regexp.test(Y)}static escapePattern(Y){return`^${Y.replace(kj4,"\\$&").replace("*",".*")}$`}static hasWildcard(Y){return Y.includes("*")}}Ep1.PatternPredicate=ci;class Mp1{_matchAll;_pattern;constructor(Y){this._matchAll=Y===void 0,this._pattern=Y}match(Y){if(this._matchAll)return!0;if(Y===this._pattern)return!0;return!1}}Ep1.ExactPredicate=Mp1});var jp1=q((Sp1)=>{Object.defineProperty(Sp1,"__esModule",{value:!0});Sp1.InstrumentSelector=void 0;var Rp1=q2();class Np1{_nameFilter;_type;_unitFilter;constructor(Y){this._nameFilter=new Rp1.PatternPredicate(Y?.name??"*"),this._type=Y?.type,this._unitFilter=new Rp1.ExactPredicate(Y?.unit)}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}}Sp1.InstrumentSelector=Np1});var fp1=q((_p1)=>{Object.defineProperty(_p1,"__esModule",{value:!0});_p1.MeterSelector=void 0;var li=q2();class kp1{_nameFilter;_versionFilter;_schemaUrlFilter;constructor(Y){this._nameFilter=new li.ExactPredicate(Y?.name),this._versionFilter=new li.ExactPredicate(Y?.version),this._schemaUrlFilter=new li.ExactPredicate(Y?.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}}_p1.MeterSelector=kp1});var up1=q((yp1)=>{Object.defineProperty(yp1,"__esModule",{value:!0});yp1.View=void 0;var xj4=q2(),vp1=B2(),fj4=jp1(),vj4=fp1(),hp1=UI();function hj4(Y){return Y.instrumentName==null&&Y.instrumentType==null&&Y.instrumentUnit==null&&Y.meterName==null&&Y.meterVersion==null&&Y.meterSchemaUrl==null}function bj4(Y){if(hj4(Y))throw Error("Cannot create view with no selector arguments supplied");if(Y.name!=null&&(Y?.instrumentName==null||xj4.PatternPredicate.hasWildcard(Y.instrumentName)))throw Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.")}class bp1{name;description;aggregation;attributesProcessor;instrumentSelector;meterSelector;aggregationCardinalityLimit;constructor(Y){if(bj4(Y),Y.attributesProcessors!=null)this.attributesProcessor=(0,vp1.createMultiAttributesProcessor)(Y.attributesProcessors);else this.attributesProcessor=(0,vp1.createNoopAttributesProcessor)();this.name=Y.name,this.description=Y.description,this.aggregation=(0,hp1.toAggregation)(Y.aggregation??{type:hp1.AggregationType.DEFAULT}),this.instrumentSelector=new fj4.InstrumentSelector({name:Y.instrumentName,type:Y.instrumentType,unit:Y.instrumentUnit}),this.meterSelector=new vj4.MeterSelector({name:Y.meterName,version:Y.meterVersion,schemaUrl:Y.meterSchemaUrl}),this.aggregationCardinalityLimit=Y.aggregationCardinalityLimit}}yp1.View=bp1});var lp1=q((dp1)=>{Object.defineProperty(dp1,"__esModule",{value:!0});dp1.MeterProvider=void 0;var F2=t(),yj4=PX(),gj4=Dp1(),uj4=Lp1(),mj4=up1();class mp1{_sharedState;_shutdown=!1;constructor(Y){if(this._sharedState=new gj4.MeterProviderSharedState(Y?.resource??(0,yj4.defaultResource)()),Y?.views!=null&&Y.views.length>0)for(let J of Y.views)this._sharedState.viewRegistry.addView(new mj4.View(J));if(Y?.readers!=null&&Y.readers.length>0)for(let J of Y.readers){let X=new uj4.MetricCollector(this._sharedState,J);J.setMetricProducer(X),this._sharedState.metricCollectors.push(X)}}getMeter(Y,J="",X={}){if(this._shutdown)return F2.diag.warn("A shutdown MeterProvider cannot provide a Meter"),(0,F2.createNoopMeter)();return this._sharedState.getMeterSharedState({name:Y,version:J,schemaUrl:X.schemaUrl}).meter}async shutdown(Y){if(this._shutdown){F2.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map((J)=>{return J.shutdown(Y)}))}async forceFlush(Y){if(this._shutdown){F2.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map((J)=>{return J.forceFlush(Y)}))}}dp1.MeterProvider=mp1});var WZ=q((b9)=>{Object.defineProperty(b9,"__esModule",{value:!0});b9.TimeoutError=b9.createDenyListAttributesProcessor=b9.createAllowListAttributesProcessor=b9.AggregationType=b9.MeterProvider=b9.ConsoleMetricExporter=b9.InMemoryMetricExporter=b9.PeriodicExportingMetricReader=b9.MetricReader=b9.InstrumentType=b9.DataPointType=b9.AggregationTemporality=void 0;var dj4=J2();Object.defineProperty(b9,"AggregationTemporality",{enumerable:!0,get:function(){return dj4.AggregationTemporality}});var pp1=pW();Object.defineProperty(b9,"DataPointType",{enumerable:!0,get:function(){return pp1.DataPointType}});Object.defineProperty(b9,"InstrumentType",{enumerable:!0,get:function(){return pp1.InstrumentType}});var cj4=fi();Object.defineProperty(b9,"MetricReader",{enumerable:!0,get:function(){return cj4.MetricReader}});var lj4=hc1();Object.defineProperty(b9,"PeriodicExportingMetricReader",{enumerable:!0,get:function(){return lj4.PeriodicExportingMetricReader}});var pj4=mc1();Object.defineProperty(b9,"InMemoryMetricExporter",{enumerable:!0,get:function(){return pj4.InMemoryMetricExporter}});var nj4=pc1();Object.defineProperty(b9,"ConsoleMetricExporter",{enumerable:!0,get:function(){return nj4.ConsoleMetricExporter}});var ij4=lp1();Object.defineProperty(b9,"MeterProvider",{enumerable:!0,get:function(){return ij4.MeterProvider}});var oj4=UI();Object.defineProperty(b9,"AggregationType",{enumerable:!0,get:function(){return oj4.AggregationType}});var np1=B2();Object.defineProperty(b9,"createAllowListAttributesProcessor",{enumerable:!0,get:function(){return np1.createAllowListAttributesProcessor}});Object.defineProperty(b9,"createDenyListAttributesProcessor",{enumerable:!0,get:function(){return np1.createDenyListAttributesProcessor}});var rj4=NX();Object.defineProperty(b9,"TimeoutError",{enumerable:!0,get:function(){return rj4.TimeoutError}})});var op1=q((ip1)=>{Object.defineProperty(ip1,"__esModule",{value:!0});ip1.EAggregationTemporality=void 0;var sj4;(function(Y){Y[Y.AGGREGATION_TEMPORALITY_UNSPECIFIED=0]="AGGREGATION_TEMPORALITY_UNSPECIFIED",Y[Y.AGGREGATION_TEMPORALITY_DELTA=1]="AGGREGATION_TEMPORALITY_DELTA",Y[Y.AGGREGATION_TEMPORALITY_CUMULATIVE=2]="AGGREGATION_TEMPORALITY_CUMULATIVE"})(sj4=ip1.EAggregationTemporality||(ip1.EAggregationTemporality={}))});var ni=q((Jn1)=>{Object.defineProperty(Jn1,"__esModule",{value:!0});Jn1.createExportMetricsServiceRequest=Jn1.toMetric=Jn1.toScopeMetrics=Jn1.toResourceMetrics=void 0;var rp1=t(),CO=WZ(),ap1=op1(),KI=eR();function tp1(Y,J){let X=(0,KI.createResource)(Y.resource,J);return{resource:X,schemaUrl:X.schemaUrl,scopeMetrics:ep1(Y.scopeMetrics,J)}}Jn1.toResourceMetrics=tp1;function ep1(Y,J){return Array.from(Y.map((X)=>({scope:(0,KI.createInstrumentationScope)(X.scope),metrics:X.metrics.map((Z)=>Yn1(Z,J)),schemaUrl:X.scope.schemaUrl})))}Jn1.toScopeMetrics=ep1;function Yn1(Y,J){let X={name:Y.descriptor.name,description:Y.descriptor.description,unit:Y.descriptor.unit},Z=Jk4(Y.aggregationTemporality);switch(Y.dataPointType){case CO.DataPointType.SUM:X.sum={aggregationTemporality:Z,isMonotonic:Y.isMonotonic,dataPoints:sp1(Y,J)};break;case CO.DataPointType.GAUGE:X.gauge={dataPoints:sp1(Y,J)};break;case CO.DataPointType.HISTOGRAM:X.histogram={aggregationTemporality:Z,dataPoints:ej4(Y,J)};break;case CO.DataPointType.EXPONENTIAL_HISTOGRAM:X.exponentialHistogram={aggregationTemporality:Z,dataPoints:Yk4(Y,J)};break}return X}Jn1.toMetric=Yn1;function tj4(Y,J,X){let Z={attributes:(0,KI.toAttributes)(Y.attributes,X),startTimeUnixNano:X.encodeHrTime(Y.startTime),timeUnixNano:X.encodeHrTime(Y.endTime)};switch(J){case rp1.ValueType.INT:Z.asInt=Y.value;break;case rp1.ValueType.DOUBLE:Z.asDouble=Y.value;break}return Z}function sp1(Y,J){return Y.dataPoints.map((X)=>{return tj4(X,Y.descriptor.valueType,J)})}function ej4(Y,J){return Y.dataPoints.map((X)=>{let Z=X.value;return{attributes:(0,KI.toAttributes)(X.attributes,J),bucketCounts:Z.buckets.counts,explicitBounds:Z.buckets.boundaries,count:Z.count,sum:Z.sum,min:Z.min,max:Z.max,startTimeUnixNano:J.encodeHrTime(X.startTime),timeUnixNano:J.encodeHrTime(X.endTime)}})}function Yk4(Y,J){return Y.dataPoints.map((X)=>{let Z=X.value;return{attributes:(0,KI.toAttributes)(X.attributes,J),count:Z.count,min:Z.min,max:Z.max,sum:Z.sum,positive:{offset:Z.positive.offset,bucketCounts:Z.positive.bucketCounts},negative:{offset:Z.negative.offset,bucketCounts:Z.negative.bucketCounts},scale:Z.scale,zeroCount:Z.zeroCount,startTimeUnixNano:J.encodeHrTime(X.startTime),timeUnixNano:J.encodeHrTime(X.endTime)}})}function Jk4(Y){switch(Y){case CO.AggregationTemporality.DELTA:return ap1.EAggregationTemporality.AGGREGATION_TEMPORALITY_DELTA;case CO.AggregationTemporality.CUMULATIVE:return ap1.EAggregationTemporality.AGGREGATION_TEMPORALITY_CUMULATIVE}}function Xk4(Y,J){return{resourceMetrics:Y.map((X)=>tp1(X,J))}}Jn1.createExportMetricsServiceRequest=Xk4});var Gn1=q((Wn1)=>{Object.defineProperty(Wn1,"__esModule",{value:!0});Wn1.ProtobufMetricsSerializer=void 0;var Zn1=sR(),Gk4=ni(),Qk4=_Q(),Uk4=Zn1.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,zk4=Zn1.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;Wn1.ProtobufMetricsSerializer={serializeRequest:(Y)=>{let J=(0,Gk4.createExportMetricsServiceRequest)([Y],Qk4.PROTOBUF_ENCODER);return zk4.encode(J).finish()},deserializeResponse:(Y)=>{return Uk4.decode(Y)}}});var Qn1=q((ii)=>{Object.defineProperty(ii,"__esModule",{value:!0});ii.ProtobufMetricsSerializer=void 0;var Hk4=Gn1();Object.defineProperty(ii,"ProtobufMetricsSerializer",{enumerable:!0,get:function(){return Hk4.ProtobufMetricsSerializer}})});var oi=q((Kn1)=>{Object.defineProperty(Kn1,"__esModule",{value:!0});Kn1.createExportTraceServiceRequest=Kn1.toOtlpSpanEvent=Kn1.toOtlpLink=Kn1.sdkSpanToOtlpSpan=void 0;var BI=eR(),Kk4=256,Bk4=512;function Un1(Y,J){let X=Y&255|Kk4;if(J)X|=Bk4;return X}function zn1(Y,J){let X=Y.spanContext(),Z=Y.status,W=Y.parentSpanContext?.spanId?J.encodeSpanContext(Y.parentSpanContext?.spanId):void 0;return{traceId:J.encodeSpanContext(X.traceId),spanId:J.encodeSpanContext(X.spanId),parentSpanId:W,traceState:X.traceState?.serialize(),name:Y.name,kind:Y.kind==null?0:Y.kind+1,startTimeUnixNano:J.encodeHrTime(Y.startTime),endTimeUnixNano:J.encodeHrTime(Y.endTime),attributes:(0,BI.toAttributes)(Y.attributes,J),droppedAttributesCount:Y.droppedAttributesCount,events:Y.events.map(($)=>On1($,J)),droppedEventsCount:Y.droppedEventsCount,status:{code:Z.code,message:Z.message},links:Y.links.map(($)=>Hn1($,J)),droppedLinksCount:Y.droppedLinksCount,flags:Un1(X.traceFlags,Y.parentSpanContext?.isRemote)}}Kn1.sdkSpanToOtlpSpan=zn1;function Hn1(Y,J){return{attributes:Y.attributes?(0,BI.toAttributes)(Y.attributes,J):[],spanId:J.encodeSpanContext(Y.context.spanId),traceId:J.encodeSpanContext(Y.context.traceId),traceState:Y.context.traceState?.serialize(),droppedAttributesCount:Y.droppedAttributesCount||0,flags:Un1(Y.context.traceFlags,Y.context.isRemote)}}Kn1.toOtlpLink=Hn1;function On1(Y,J){return{attributes:Y.attributes?(0,BI.toAttributes)(Y.attributes,J):[],name:Y.name,timeUnixNano:J.encodeHrTime(Y.time),droppedAttributesCount:Y.droppedAttributesCount||0}}Kn1.toOtlpSpanEvent=On1;function qk4(Y,J){return{resourceSpans:Vk4(Y,J)}}Kn1.createExportTraceServiceRequest=qk4;function Fk4(Y){let J=new Map;for(let X of Y){let Z=J.get(X.resource);if(!Z)Z=new Map,J.set(X.resource,Z);let W=`${X.instrumentationScope.name}@${X.instrumentationScope.version||""}:${X.instrumentationScope.schemaUrl||""}`,$=Z.get(W);if(!$)$=[],Z.set(W,$);$.push(X)}return J}function Vk4(Y,J){let X=Fk4(Y),Z=[],W=X.entries(),$=W.next();while(!$.done){let[G,Q]=$.value,U=[],z=Q.values(),H=z.next();while(!H.done){let B=H.value;if(B.length>0){let F=B.map((V)=>zn1(V,J));U.push({scope:(0,BI.createInstrumentationScope)(B[0].instrumentationScope),spans:F,schemaUrl:B[0].instrumentationScope.schemaUrl})}H=z.next()}let O=(0,BI.createResource)(G,J),K={resource:O,scopeSpans:U,schemaUrl:O.schemaUrl};Z.push(K),$=W.next()}return Z}});var In1=q((Fn1)=>{Object.defineProperty(Fn1,"__esModule",{value:!0});Fn1.ProtobufTraceSerializer=void 0;var qn1=sR(),Ak4=oi(),Pk4=_Q(),Lk4=qn1.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,Mk4=qn1.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;Fn1.ProtobufTraceSerializer={serializeRequest:(Y)=>{let J=(0,Ak4.createExportTraceServiceRequest)(Y,Pk4.PROTOBUF_ENCODER);return Mk4.encode(J).finish()},deserializeResponse:(Y)=>{return Lk4.decode(Y)}}});var Dn1=q((ri)=>{Object.defineProperty(ri,"__esModule",{value:!0});ri.ProtobufTraceSerializer=void 0;var Ek4=In1();Object.defineProperty(ri,"ProtobufTraceSerializer",{enumerable:!0,get:function(){return Ek4.ProtobufTraceSerializer}})});var Pn1=q((wn1)=>{Object.defineProperty(wn1,"__esModule",{value:!0});wn1.JsonLogsSerializer=void 0;var Rk4=Di(),Nk4=_Q();wn1.JsonLogsSerializer={serializeRequest:(Y)=>{let J=(0,Rk4.createExportLogsServiceRequest)(Y,Nk4.JSON_ENCODER);return new TextEncoder().encode(JSON.stringify(J))},deserializeResponse:(Y)=>{if(Y.length===0)return{};return JSON.parse(new TextDecoder().decode(Y))}}});var Ln1=q((ai)=>{Object.defineProperty(ai,"__esModule",{value:!0});ai.JsonLogsSerializer=void 0;var Sk4=Pn1();Object.defineProperty(ai,"JsonLogsSerializer",{enumerable:!0,get:function(){return Sk4.JsonLogsSerializer}})});var Tn1=q((Mn1)=>{Object.defineProperty(Mn1,"__esModule",{value:!0});Mn1.JsonMetricsSerializer=void 0;var jk4=ni(),kk4=_Q();Mn1.JsonMetricsSerializer={serializeRequest:(Y)=>{let J=(0,jk4.createExportMetricsServiceRequest)([Y],kk4.JSON_ENCODER);return new TextEncoder().encode(JSON.stringify(J))},deserializeResponse:(Y)=>{if(Y.length===0)return{};return JSON.parse(new TextDecoder().decode(Y))}}});var Rn1=q((si)=>{Object.defineProperty(si,"__esModule",{value:!0});si.JsonMetricsSerializer=void 0;var _k4=Tn1();Object.defineProperty(si,"JsonMetricsSerializer",{enumerable:!0,get:function(){return _k4.JsonMetricsSerializer}})});var Cn1=q((Nn1)=>{Object.defineProperty(Nn1,"__esModule",{value:!0});Nn1.JsonTraceSerializer=void 0;var fk4=oi(),vk4=_Q();Nn1.JsonTraceSerializer={serializeRequest:(Y)=>{let J=(0,fk4.createExportTraceServiceRequest)(Y,vk4.JSON_ENCODER);return new TextEncoder().encode(JSON.stringify(J))},deserializeResponse:(Y)=>{if(Y.length===0)return{};return JSON.parse(new TextDecoder().decode(Y))}}});var jn1=q((ti)=>{Object.defineProperty(ti,"__esModule",{value:!0});ti.JsonTraceSerializer=void 0;var hk4=Cn1();Object.defineProperty(ti,"JsonTraceSerializer",{enumerable:!0,get:function(){return hk4.JsonTraceSerializer}})});var CX=q((nW)=>{Object.defineProperty(nW,"__esModule",{value:!0});nW.JsonTraceSerializer=nW.JsonMetricsSerializer=nW.JsonLogsSerializer=nW.ProtobufTraceSerializer=nW.ProtobufMetricsSerializer=nW.ProtobufLogsSerializer=void 0;var yk4=Ud1();Object.defineProperty(nW,"ProtobufLogsSerializer",{enumerable:!0,get:function(){return yk4.ProtobufLogsSerializer}});var gk4=Qn1();Object.defineProperty(nW,"ProtobufMetricsSerializer",{enumerable:!0,get:function(){return gk4.ProtobufMetricsSerializer}});var uk4=Dn1();Object.defineProperty(nW,"ProtobufTraceSerializer",{enumerable:!0,get:function(){return uk4.ProtobufTraceSerializer}});var mk4=Ln1();Object.defineProperty(nW,"JsonLogsSerializer",{enumerable:!0,get:function(){return mk4.JsonLogsSerializer}});var dk4=Rn1();Object.defineProperty(nW,"JsonMetricsSerializer",{enumerable:!0,get:function(){return dk4.JsonMetricsSerializer}});var ck4=jn1();Object.defineProperty(nW,"JsonTraceSerializer",{enumerable:!0,get:function(){return ck4.JsonTraceSerializer}})});var xn1=q((kn1)=>{Object.defineProperty(kn1,"__esModule",{value:!0});kn1.validateAndNormalizeHeaders=void 0;var pk4=t();function nk4(Y){let J={};return Object.entries(Y??{}).forEach(([X,Z])=>{if(typeof Z<"u")J[X]=String(Z);else pk4.diag.warn(`Header "${X}" has invalid value (${Z}) and will be ignored`)}),J}kn1.validateAndNormalizeHeaders=nk4});var bn1=q((vn1)=>{Object.defineProperty(vn1,"__esModule",{value:!0});vn1.getHttpConfigurationDefaults=vn1.mergeOtlpHttpConfigurationWithDefaults=void 0;var fn1=tV(),ik4=xn1();function ok4(Y,J,X){return async()=>{let Z={...await X()},W={};if(J!=null)Object.assign(W,await J());if(Y!=null)Object.assign(W,(0,ik4.validateAndNormalizeHeaders)(await Y()));return Object.assign(W,Z)}}function rk4(Y){if(Y==null)return;try{let J=globalThis.location?.href;return new URL(Y,J).href}catch{throw Error(`Configuration: Could not parse user-provided export URL: '${Y}'`)}}function ak4(Y,J,X){return{...(0,fn1.mergeOtlpSharedConfigurationWithDefaults)(Y,J,X),headers:ok4(Y.headers,J.headers,X.headers),url:rk4(Y.url)??J.url??X.url}}vn1.mergeOtlpHttpConfigurationWithDefaults=ak4;function sk4(Y,J){return{...(0,fn1.getSharedConfigurationDefaults)(),headers:async()=>Y,url:"http://localhost:4318/"+J}}vn1.getHttpConfigurationDefaults=sk4});var V2=q((un1)=>{Object.defineProperty(un1,"__esModule",{value:!0});un1.getNodeHttpConfigurationDefaults=un1.mergeOtlpNodeHttpConfigurationWithDefaults=un1.httpAgentFactoryFromOptions=void 0;var yn1=bn1();function gn1(Y){return async(J)=>{let X=J==="http:",Z=X?import("http"):import("https"),{Agent:W}=await Z;if(X){let{ca:$,cert:G,key:Q,...U}=Y;return new W(U)}return new W(Y)}}un1.httpAgentFactoryFromOptions=gn1;function ek4(Y,J,X){return{...(0,yn1.mergeOtlpHttpConfigurationWithDefaults)(Y,J,X),agentFactory:Y.agentFactory??J.agentFactory??X.agentFactory,userAgent:Y.userAgent}}un1.mergeOtlpNodeHttpConfigurationWithDefaults=ek4;function Y_4(Y,J){return{...(0,yn1.getHttpConfigurationDefaults)(Y,J),agentFactory:gn1({keepAlive:!0})}}un1.getNodeHttpConfigurationDefaults=Y_4});var ln1=q((dn1)=>{Object.defineProperty(dn1,"__esModule",{value:!0});dn1.parseRetryAfterToMills=dn1.isExportHTTPErrorRetryable=void 0;function Z_4(Y){return Y===429||Y===502||Y===503||Y===504}dn1.isExportHTTPErrorRetryable=Z_4;function W_4(Y){if(Y==null)return;let J=Number.parseInt(Y,10);if(Number.isInteger(J))return J>0?J*1000:-1;let X=new Date(Y).getTime()-Date.now();if(X>=0)return X;return 0}dn1.parseRetryAfterToMills=W_4});var in1=q((pn1)=>{Object.defineProperty(pn1,"__esModule",{value:!0});pn1.VERSION=void 0;pn1.VERSION="0.212.0"});var en1=q((sn1)=>{Object.defineProperty(sn1,"__esModule",{value:!0});sn1.compressAndSend=sn1.sendWithHttp=void 0;var G_4=C("zlib"),Q_4=C("stream"),on1=ln1(),U_4=lR(),z_4=in1(),rn1=`OTel-OTLP-Exporter-JavaScript/${z_4.VERSION}`;function H_4(Y,J,X,Z,W,$,G,Q,U){let z=new URL(J);if(W)X["User-Agent"]=`${W} ${rn1}`;else X["User-Agent"]=rn1;let H={hostname:z.hostname,port:z.port,path:z.pathname,method:"POST",headers:X,agent:$},O=Y(H,(K)=>{let B=[];K.on("data",(F)=>B.push(F)),K.on("end",()=>{if(K.statusCode&&K.statusCode<299)Q({status:"success",data:Buffer.concat(B)});else if(K.statusCode&&(0,on1.isExportHTTPErrorRetryable)(K.statusCode))Q({status:"retryable",retryInMillis:(0,on1.parseRetryAfterToMills)(K.headers["retry-after"])});else{let F=new U_4.OTLPExporterError(K.statusMessage,K.statusCode,Buffer.concat(B).toString());Q({status:"failure",error:F})}})});O.setTimeout(U,()=>{O.destroy(),Q({status:"retryable",error:Error("Request timed out")})}),O.on("error",(K)=>{if(K_4(K))Q({status:"retryable",error:K});else Q({status:"failure",error:K})}),an1(O,Z,G,(K)=>{Q({status:"failure",error:K})})}sn1.sendWithHttp=H_4;function an1(Y,J,X,Z){let W=O_4(X);if(J==="gzip")Y.setHeader("Content-Encoding","gzip"),W=W.on("error",Z).pipe(G_4.createGzip()).on("error",Z);W.pipe(Y).on("error",Z)}sn1.compressAndSend=an1;function O_4(Y){let J=new Q_4.Readable;return J.push(Y),J.push(null),J}function K_4(Y){let J=new Set(["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT","EAI_AGAIN","ENOTFOUND","ENETUNREACH","EHOSTUNREACH"]);if("code"in Y&&typeof Y.code==="string")return J.has(Y.code);return!1}});var Zi1=q((Ji1)=>{Object.defineProperty(Ji1,"__esModule",{value:!0});Ji1.createHttpExporterTransport=void 0;var q_4=en1();class Yi1{_utils=null;_parameters;constructor(Y){this._parameters=Y}async send(Y,J){let{agent:X,request:Z}=await this._loadUtils(),W=await this._parameters.headers();return new Promise(($)=>{(0,q_4.sendWithHttp)(Z,this._parameters.url,W,this._parameters.compression,this._parameters.userAgent,X,Y,(G)=>{$(G)},J)})}shutdown(){}async _loadUtils(){let Y=this._utils;if(Y===null){let J=new URL(this._parameters.url).protocol,[X,Z]=await Promise.all([this._parameters.agentFactory(J),F_4(J)]);Y=this._utils={agent:X,request:Z}}return Y}}async function F_4(Y){let J=Y==="http:"?import("http"):import("https"),{request:X}=await J;return X}function V_4(Y){return new Yi1(Y)}Ji1.createHttpExporterTransport=V_4});var Ui1=q((Gi1)=>{Object.defineProperty(Gi1,"__esModule",{value:!0});Gi1.createRetryingTransport=void 0;var qI=t(),ei=5,I_4=1000,D_4=5000,w_4=1.5,Wi1=0.2;function A_4(){return Math.random()*(2*Wi1)-Wi1}class $i1{_transport;constructor(Y){this._transport=Y}retry(Y,J,X){return new Promise((Z,W)=>{setTimeout(()=>{this._transport.send(Y,J).then(Z,W)},X)})}async send(Y,J){let X=ei,Z=I_4,W=Date.now()+J,$=await this._transport.send(Y,J);while($.status==="retryable"&&X>0){X--;let G=Math.max(Math.min(Z*(1+A_4()),D_4),0);Z=Z*w_4;let Q=$.retryInMillis??G,U=W-Date.now();if(Q>U)return qI.diag.info(`Export retry time ${Math.round(Q)}ms exceeds remaining timeout ${Math.round(U)}ms, not retrying further.`),$;qI.diag.verbose(`Scheduling export retry in ${Math.round(Q)}ms`),$=await this.retry(Y,U,Q)}if($.status==="success")qI.diag.verbose(`Export succeeded after ${ei-X} retry attempts.`);else if($.status==="retryable")qI.diag.info(`Export failed after maximum retry attempts (${ei}).`);else qI.diag.info(`Export failed with non-retryable error: ${$.error}`);return $}shutdown(){return this._transport.shutdown()}}function P_4(Y){return new $i1(Y.transport)}Gi1.createRetryingTransport=P_4});var Oi1=q((zi1)=>{Object.defineProperty(zi1,"__esModule",{value:!0});zi1.createOtlpHttpExportDelegate=void 0;var L_4=tn(),M_4=Zi1(),E_4=sn(),T_4=Ui1();function R_4(Y,J){return(0,L_4.createOtlpExportDelegate)({transport:(0,T_4.createRetryingTransport)({transport:(0,M_4.createHttpExporterTransport)(Y)}),serializer:J,promiseHandler:(0,E_4.createBoundedQueueExportPromiseHandler)(Y)},{timeout:Y.timeoutMillis})}zi1.createOtlpHttpExportDelegate=R_4});var Yo=q((Vi1)=>{Object.defineProperty(Vi1,"__esModule",{value:!0});Vi1.getSharedConfigurationFromEnvironment=void 0;var qi1=k1(),Fi1=t();function Ki1(Y){let J=(0,qi1.getNumberFromEnv)(Y);if(J!=null){if(Number.isFinite(J)&&J>0)return J;Fi1.diag.warn(`Configuration: ${Y} is invalid, expected number greater than 0 (actual: ${J})`)}return}function N_4(Y){let J=Ki1(`OTEL_EXPORTER_OTLP_${Y}_TIMEOUT`),X=Ki1("OTEL_EXPORTER_OTLP_TIMEOUT");return J??X}function Bi1(Y){let J=(0,qi1.getStringFromEnv)(Y)?.trim();if(J==null||J==="none"||J==="gzip")return J;Fi1.diag.warn(`Configuration: ${Y} is invalid, expected 'none' or 'gzip' (actual: '${J}')`);return}function S_4(Y){let J=Bi1(`OTEL_EXPORTER_OTLP_${Y}_COMPRESSION`),X=Bi1("OTEL_EXPORTER_OTLP_COMPRESSION");return J??X}function C_4(Y){return{timeoutMillis:N_4(Y),compression:S_4(Y)}}Vi1.getSharedConfigurationFromEnvironment=C_4});var Ai1=q((Di1)=>{Object.defineProperty(Di1,"__esModule",{value:!0});Di1.getNodeHttpConfigurationFromEnvironment=void 0;var j_4=C("fs"),k_4=C("path"),jX=k1(),I2=t(),__4=Yo(),x_4=tV(),f_4=V2();function v_4(Y){let J=(0,jX.getStringFromEnv)(`OTEL_EXPORTER_OTLP_${Y}_HEADERS`),X=(0,jX.getStringFromEnv)("OTEL_EXPORTER_OTLP_HEADERS"),Z=(0,jX.parseKeyPairsIntoRecord)(J),W=(0,jX.parseKeyPairsIntoRecord)(X);if(Object.keys(Z).length===0&&Object.keys(W).length===0)return;return Object.assign({},(0,jX.parseKeyPairsIntoRecord)(X),(0,jX.parseKeyPairsIntoRecord)(J))}function h_4(Y){try{return new URL(Y).toString()}catch{I2.diag.warn(`Configuration: Could not parse environment-provided export URL: '${Y}', falling back to undefined`);return}}function b_4(Y,J){try{new URL(Y)}catch{I2.diag.warn(`Configuration: Could not parse environment-provided export URL: '${Y}', falling back to undefined`);return}if(!Y.endsWith("/"))Y=Y+"/";Y+=J;try{new URL(Y)}catch{I2.diag.warn(`Configuration: Provided URL appended with '${J}' is not a valid URL, using 'undefined' instead of '${Y}'`);return}return Y}function y_4(Y){let J=(0,jX.getStringFromEnv)("OTEL_EXPORTER_OTLP_ENDPOINT");if(J===void 0)return;return b_4(J,Y)}function g_4(Y){let J=(0,jX.getStringFromEnv)(`OTEL_EXPORTER_OTLP_${Y}_ENDPOINT`);if(J===void 0)return;return h_4(J)}function Jo(Y,J,X){let Z=(0,jX.getStringFromEnv)(Y),W=(0,jX.getStringFromEnv)(J),$=Z??W;if($!=null)try{return j_4.readFileSync(k_4.resolve(process.cwd(),$))}catch{I2.diag.warn(X);return}else return}function u_4(Y){return Jo(`OTEL_EXPORTER_OTLP_${Y}_CLIENT_CERTIFICATE`,"OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE","Failed to read client certificate chain file")}function m_4(Y){return Jo(`OTEL_EXPORTER_OTLP_${Y}_CLIENT_KEY`,"OTEL_EXPORTER_OTLP_CLIENT_KEY","Failed to read client certificate private key file")}function d_4(Y){return Jo(`OTEL_EXPORTER_OTLP_${Y}_CERTIFICATE`,"OTEL_EXPORTER_OTLP_CERTIFICATE","Failed to read root certificate file")}function c_4(Y,J){return{...(0,__4.getSharedConfigurationFromEnvironment)(Y),url:g_4(Y)??y_4(J),headers:(0,x_4.wrapStaticHeadersInFunction)(v_4(Y)),agentFactory:(0,f_4.httpAgentFactoryFromOptions)({keepAlive:!0,ca:d_4(Y),cert:u_4(Y),key:m_4(Y)})}}Di1.getNodeHttpConfigurationFromEnvironment=c_4});var Mi1=q((Pi1)=>{Object.defineProperty(Pi1,"__esModule",{value:!0});Pi1.convertLegacyHeaders=void 0;var l_4=tV();function p_4(Y){if(typeof Y.headers==="function")return Y.headers;return(0,l_4.wrapStaticHeadersInFunction)(Y.headers)}Pi1.convertLegacyHeaders=p_4});var Ni1=q((Ti1)=>{Object.defineProperty(Ti1,"__esModule",{value:!0});Ti1.convertLegacyHttpOptions=void 0;var n_4=t(),Ei1=V2(),i_4=$Z(),o_4=Ai1(),r_4=Mi1();function a_4(Y){if(typeof Y.httpAgentOptions==="function")return Y.httpAgentOptions;let J=Y.httpAgentOptions;if(Y.keepAlive!=null)J={keepAlive:Y.keepAlive,...J};if(J!=null)return(0,i_4.httpAgentFactoryFromOptions)(J);else return}function s_4(Y,J,X,Z){if(Y.metadata)n_4.diag.warn("Metadata cannot be set when using http");return(0,Ei1.mergeOtlpNodeHttpConfigurationWithDefaults)({url:Y.url,headers:(0,r_4.convertLegacyHeaders)(Y),concurrencyLimit:Y.concurrencyLimit,timeoutMillis:Y.timeoutMillis,compression:Y.compression,agentFactory:a_4(Y),userAgent:Y.userAgent},(0,o_4.getNodeHttpConfigurationFromEnvironment)(J,X),(0,Ei1.getNodeHttpConfigurationDefaults)(Z,X))}Ti1.convertLegacyHttpOptions=s_4});var $Z=q((jO)=>{Object.defineProperty(jO,"__esModule",{value:!0});jO.convertLegacyHttpOptions=jO.getSharedConfigurationFromEnvironment=jO.createOtlpHttpExportDelegate=jO.httpAgentFactoryFromOptions=void 0;var t_4=V2();Object.defineProperty(jO,"httpAgentFactoryFromOptions",{enumerable:!0,get:function(){return t_4.httpAgentFactoryFromOptions}});var e_4=Oi1();Object.defineProperty(jO,"createOtlpHttpExportDelegate",{enumerable:!0,get:function(){return e_4.createOtlpHttpExportDelegate}});var Yx4=Yo();Object.defineProperty(jO,"getSharedConfigurationFromEnvironment",{enumerable:!0,get:function(){return Yx4.getSharedConfigurationFromEnvironment}});var Jx4=Ni1();Object.defineProperty(jO,"convertLegacyHttpOptions",{enumerable:!0,get:function(){return Jx4.convertLegacyHttpOptions}})});var _i1=q((ji1)=>{Object.defineProperty(ji1,"__esModule",{value:!0});ji1.OTLPLogExporter=void 0;var Zx4=TX(),Wx4=CX(),Si1=$Z();class Ci1 extends Zx4.OTLPExporterBase{constructor(Y={}){super((0,Si1.createOtlpHttpExportDelegate)((0,Si1.convertLegacyHttpOptions)(Y,"LOGS","v1/logs",{"Content-Type":"application/json"}),Wx4.JsonLogsSerializer))}}ji1.OTLPLogExporter=Ci1});var xi1=q((Xo)=>{Object.defineProperty(Xo,"__esModule",{value:!0});Xo.OTLPLogExporter=void 0;var $x4=_i1();Object.defineProperty(Xo,"OTLPLogExporter",{enumerable:!0,get:function(){return $x4.OTLPLogExporter}})});var fi1=q((Zo)=>{Object.defineProperty(Zo,"__esModule",{value:!0});Zo.OTLPLogExporter=void 0;var Qx4=xi1();Object.defineProperty(Zo,"OTLPLogExporter",{enumerable:!0,get:function(){return Qx4.OTLPLogExporter}})});var $o=q((Wo)=>{Object.defineProperty(Wo,"__esModule",{value:!0});Wo.OTLPLogExporter=void 0;var zx4=fi1();Object.defineProperty(Wo,"OTLPLogExporter",{enumerable:!0,get:function(){return zx4.OTLPLogExporter}})});var Qo=q((vi1)=>{Object.defineProperty(vi1,"__esModule",{value:!0});vi1.AggregationTemporalityPreference=void 0;var Ox4;(function(Y){Y[Y.DELTA=0]="DELTA",Y[Y.CUMULATIVE=1]="CUMULATIVE",Y[Y.LOWMEMORY=2]="LOWMEMORY"})(Ox4=vi1.AggregationTemporalityPreference||(vi1.AggregationTemporalityPreference={}))});var Ho=q((yi1)=>{Object.defineProperty(yi1,"__esModule",{value:!0});yi1.OTLPMetricExporterBase=yi1.LowMemoryTemporalitySelector=yi1.DeltaTemporalitySelector=yi1.CumulativeTemporalitySelector=void 0;var Kx4=k1(),Q8=WZ(),hi1=Qo(),Bx4=TX(),qx4=t(),Fx4=()=>Q8.AggregationTemporality.CUMULATIVE;yi1.CumulativeTemporalitySelector=Fx4;var Vx4=(Y)=>{switch(Y){case Q8.InstrumentType.COUNTER:case Q8.InstrumentType.OBSERVABLE_COUNTER:case Q8.InstrumentType.GAUGE:case Q8.InstrumentType.HISTOGRAM:case Q8.InstrumentType.OBSERVABLE_GAUGE:return Q8.AggregationTemporality.DELTA;case Q8.InstrumentType.UP_DOWN_COUNTER:case Q8.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return Q8.AggregationTemporality.CUMULATIVE}};yi1.DeltaTemporalitySelector=Vx4;var Ix4=(Y)=>{switch(Y){case Q8.InstrumentType.COUNTER:case Q8.InstrumentType.HISTOGRAM:return Q8.AggregationTemporality.DELTA;case Q8.InstrumentType.GAUGE:case Q8.InstrumentType.UP_DOWN_COUNTER:case Q8.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:case Q8.InstrumentType.OBSERVABLE_COUNTER:case Q8.InstrumentType.OBSERVABLE_GAUGE:return Q8.AggregationTemporality.CUMULATIVE}};yi1.LowMemoryTemporalitySelector=Ix4;function Dx4(){let Y=((0,Kx4.getStringFromEnv)("OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE")??"cumulative").toLowerCase();if(Y==="cumulative")return yi1.CumulativeTemporalitySelector;if(Y==="delta")return yi1.DeltaTemporalitySelector;if(Y==="lowmemory")return yi1.LowMemoryTemporalitySelector;return qx4.diag.warn(`OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE is set to '${Y}', but only 'cumulative' and 'delta' are allowed. Using default ('cumulative') instead.`),yi1.CumulativeTemporalitySelector}function wx4(Y){if(Y!=null){if(Y===hi1.AggregationTemporalityPreference.DELTA)return yi1.DeltaTemporalitySelector;else if(Y===hi1.AggregationTemporalityPreference.LOWMEMORY)return yi1.LowMemoryTemporalitySelector;return yi1.CumulativeTemporalitySelector}return Dx4()}var Ax4=Object.freeze({type:Q8.AggregationType.DEFAULT});function Px4(Y){return Y?.aggregationPreference??(()=>Ax4)}class bi1 extends Bx4.OTLPExporterBase{_aggregationTemporalitySelector;_aggregationSelector;constructor(Y,J){super(Y);this._aggregationSelector=Px4(J),this._aggregationTemporalitySelector=wx4(J?.temporalityPreference)}selectAggregation(Y){return this._aggregationSelector(Y)}selectAggregationTemporality(Y){return this._aggregationTemporalitySelector(Y)}}yi1.OTLPMetricExporterBase=bi1});var li1=q((di1)=>{Object.defineProperty(di1,"__esModule",{value:!0});di1.OTLPMetricExporter=void 0;var Lx4=Ho(),Mx4=CX(),ui1=$Z();class mi1 extends Lx4.OTLPMetricExporterBase{constructor(Y){super((0,ui1.createOtlpHttpExportDelegate)((0,ui1.convertLegacyHttpOptions)(Y??{},"METRICS","v1/metrics",{"Content-Type":"application/json"}),Mx4.JsonMetricsSerializer),Y)}}di1.OTLPMetricExporter=mi1});var pi1=q((Oo)=>{Object.defineProperty(Oo,"__esModule",{value:!0});Oo.OTLPMetricExporter=void 0;var Ex4=li1();Object.defineProperty(Oo,"OTLPMetricExporter",{enumerable:!0,get:function(){return Ex4.OTLPMetricExporter}})});var ni1=q((Ko)=>{Object.defineProperty(Ko,"__esModule",{value:!0});Ko.OTLPMetricExporter=void 0;var Rx4=pi1();Object.defineProperty(Ko,"OTLPMetricExporter",{enumerable:!0,get:function(){return Rx4.OTLPMetricExporter}})});var FI=q((iW)=>{Object.defineProperty(iW,"__esModule",{value:!0});iW.OTLPMetricExporterBase=iW.LowMemoryTemporalitySelector=iW.DeltaTemporalitySelector=iW.CumulativeTemporalitySelector=iW.AggregationTemporalityPreference=iW.OTLPMetricExporter=void 0;var Sx4=ni1();Object.defineProperty(iW,"OTLPMetricExporter",{enumerable:!0,get:function(){return Sx4.OTLPMetricExporter}});var Cx4=Qo();Object.defineProperty(iW,"AggregationTemporalityPreference",{enumerable:!0,get:function(){return Cx4.AggregationTemporalityPreference}});var w2=Ho();Object.defineProperty(iW,"CumulativeTemporalitySelector",{enumerable:!0,get:function(){return w2.CumulativeTemporalitySelector}});Object.defineProperty(iW,"DeltaTemporalitySelector",{enumerable:!0,get:function(){return w2.DeltaTemporalitySelector}});Object.defineProperty(iW,"LowMemoryTemporalitySelector",{enumerable:!0,get:function(){return w2.LowMemoryTemporalitySelector}});Object.defineProperty(iW,"OTLPMetricExporterBase",{enumerable:!0,get:function(){return w2.OTLPMetricExporterBase}})});var si1=q((ri1)=>{Object.defineProperty(ri1,"__esModule",{value:!0});ri1.OTLPTraceExporter=void 0;var kx4=TX(),_x4=CX(),ii1=$Z();class oi1 extends kx4.OTLPExporterBase{constructor(Y={}){super((0,ii1.createOtlpHttpExportDelegate)((0,ii1.convertLegacyHttpOptions)(Y,"TRACES","v1/traces",{"Content-Type":"application/json"}),_x4.JsonTraceSerializer))}}ri1.OTLPTraceExporter=oi1});var ti1=q((Bo)=>{Object.defineProperty(Bo,"__esModule",{value:!0});Bo.OTLPTraceExporter=void 0;var xx4=si1();Object.defineProperty(Bo,"OTLPTraceExporter",{enumerable:!0,get:function(){return xx4.OTLPTraceExporter}})});var ei1=q((qo)=>{Object.defineProperty(qo,"__esModule",{value:!0});qo.OTLPTraceExporter=void 0;var vx4=ti1();Object.defineProperty(qo,"OTLPTraceExporter",{enumerable:!0,get:function(){return vx4.OTLPTraceExporter}})});var Vo=q((Fo)=>{Object.defineProperty(Fo,"__esModule",{value:!0});Fo.OTLPTraceExporter=void 0;var bx4=ei1();Object.defineProperty(Fo,"OTLPTraceExporter",{enumerable:!0,get:function(){return bx4.OTLPTraceExporter}})});var Xo1=q((Yo1)=>{Object.defineProperty(Yo1,"__esModule",{value:!0});Yo1.PACKAGE_NAME=Yo1.PACKAGE_VERSION=void 0;Yo1.PACKAGE_VERSION="0.38.2";Yo1.PACKAGE_NAME="@opentelemetry/host-metrics"});var Io=q(($o1)=>{Object.defineProperty($o1,"__esModule",{value:!0});$o1.BaseMetrics=void 0;var ux4=t(),Zo1=Xo1(),mx4=Zo1.PACKAGE_NAME;class Wo1{_meter;_name;_metricGroups;constructor(Y){this._name=Y?.name||mx4;let J=Y?.meterProvider??ux4.metrics.getMeterProvider();this._meter=J.getMeter(this._name,Zo1.PACKAGE_VERSION),this._metricGroups=Y?.metricGroups}}$o1.BaseMetrics=Wo1});var zo1=q((Qo1)=>{Object.defineProperty(Qo1,"__esModule",{value:!0});Qo1.SYSTEM_MEMORY_STATE_VALUE_USED=Qo1.SYSTEM_MEMORY_STATE_VALUE_FREE=Qo1.SYSTEM_CPU_STATE_VALUE_USER=Qo1.SYSTEM_CPU_STATE_VALUE_SYSTEM=Qo1.SYSTEM_CPU_STATE_VALUE_NICE=Qo1.SYSTEM_CPU_STATE_VALUE_INTERRUPT=Qo1.SYSTEM_CPU_STATE_VALUE_IDLE=Qo1.PROCESS_CPU_STATE_VALUE_USER=Qo1.PROCESS_CPU_STATE_VALUE_SYSTEM=Qo1.NETWORK_IO_DIRECTION_VALUE_TRANSMIT=Qo1.NETWORK_IO_DIRECTION_VALUE_RECEIVE=Qo1.METRIC_SYSTEM_NETWORK_IO=Qo1.METRIC_SYSTEM_NETWORK_ERRORS=Qo1.METRIC_SYSTEM_MEMORY_UTILIZATION=Qo1.METRIC_SYSTEM_MEMORY_USAGE=Qo1.METRIC_SYSTEM_CPU_UTILIZATION=Qo1.METRIC_SYSTEM_CPU_TIME=Qo1.METRIC_PROCESS_MEMORY_USAGE=Qo1.METRIC_PROCESS_CPU_UTILIZATION=Qo1.METRIC_PROCESS_CPU_TIME=Qo1.ATTR_SYSTEM_MEMORY_STATE=Qo1.ATTR_SYSTEM_DEVICE=Qo1.ATTR_SYSTEM_CPU_STATE=Qo1.ATTR_SYSTEM_CPU_LOGICAL_NUMBER=Qo1.ATTR_PROCESS_CPU_STATE=Qo1.ATTR_NETWORK_IO_DIRECTION=void 0;Qo1.ATTR_NETWORK_IO_DIRECTION="network.io.direction";Qo1.ATTR_PROCESS_CPU_STATE="process.cpu.state";Qo1.ATTR_SYSTEM_CPU_LOGICAL_NUMBER="system.cpu.logical_number";Qo1.ATTR_SYSTEM_CPU_STATE="system.cpu.state";Qo1.ATTR_SYSTEM_DEVICE="system.device";Qo1.ATTR_SYSTEM_MEMORY_STATE="system.memory.state";Qo1.METRIC_PROCESS_CPU_TIME="process.cpu.time";Qo1.METRIC_PROCESS_CPU_UTILIZATION="process.cpu.utilization";Qo1.METRIC_PROCESS_MEMORY_USAGE="process.memory.usage";Qo1.METRIC_SYSTEM_CPU_TIME="system.cpu.time";Qo1.METRIC_SYSTEM_CPU_UTILIZATION="system.cpu.utilization";Qo1.METRIC_SYSTEM_MEMORY_USAGE="system.memory.usage";Qo1.METRIC_SYSTEM_MEMORY_UTILIZATION="system.memory.utilization";Qo1.METRIC_SYSTEM_NETWORK_ERRORS="system.network.errors";Qo1.METRIC_SYSTEM_NETWORK_IO="system.network.io";Qo1.NETWORK_IO_DIRECTION_VALUE_RECEIVE="receive";Qo1.NETWORK_IO_DIRECTION_VALUE_TRANSMIT="transmit";Qo1.PROCESS_CPU_STATE_VALUE_SYSTEM="system";Qo1.PROCESS_CPU_STATE_VALUE_USER="user";Qo1.SYSTEM_CPU_STATE_VALUE_IDLE="idle";Qo1.SYSTEM_CPU_STATE_VALUE_INTERRUPT="interrupt";Qo1.SYSTEM_CPU_STATE_VALUE_NICE="nice";Qo1.SYSTEM_CPU_STATE_VALUE_SYSTEM="system";Qo1.SYSTEM_CPU_STATE_VALUE_USER="user";Qo1.SYSTEM_MEMORY_STATE_VALUE_FREE="free";Qo1.SYSTEM_MEMORY_STATE_VALUE_USED="used"});var Bo1=q((Oo1)=>{Object.defineProperty(Oo1,"__esModule",{value:!0});Oo1.getProcessMemoryData=Oo1.getMemoryData=Oo1.getProcessCpuUsageData=Oo1.getCpuUsageData=void 0;var P2=C("os"),VI=0.001,Ho1=0.000001,A2={time:Date.now(),cpus:(0,P2.cpus)()};function Bf4(){let Y=Date.now(),J=Y-A2.time,X={time:Y,cpus:(0,P2.cpus)()},Z=X.cpus.map((W,$)=>{let G=A2.cpus[$].times,Q=W.times,U=Q.idle*VI,z=Q.user*VI,H=Q.sys*VI,O=Q.irq*VI,K=Q.nice*VI,B=(Q.idle-G.idle)/J,F=(Q.user-G.user)/J,V=(Q.sys-G.sys)/J,I=(Q.irq-G.irq)/J,D=(Q.nice-G.nice)/J;return{cpuNumber:String($),idle:U,user:z,system:H,interrupt:O,nice:K,userP:F,systemP:V,idleP:B,interruptP:I,niceP:D}});return A2=X,Z}Oo1.getCpuUsageData=Bf4;var Do={time:Date.now(),usage:process.cpuUsage()};function qf4(){let Y=Date.now(),J=process.cpuUsage(),X=Do.usage,W=(Y-Do.time)*1000*A2.cpus.length,$=J.user*Ho1,G=J.system*Ho1,Q=(J.user-X.user)/W,U=(J.system-X.system)/W;return Do={time:Y,usage:J},{user:$,system:G,userP:Q,systemP:U}}Oo1.getProcessCpuUsageData=qf4;function Ff4(){let Y=(0,P2.totalmem)(),J=(0,P2.freemem)(),X=Y-J,Z=J/Y,W=X/Y;return{used:X,free:J,usedP:W,freeP:Z}}Oo1.getMemoryData=Ff4;function Vf4(){if(process.memoryUsage.rss)return process.memoryUsage.rss();return process.memoryUsage().rss}Oo1.getProcessMemoryData=Vf4});var jo1=q((Ov4)=>{var rW=C("os"),kX=C("fs"),Af4=C("path"),To=C("child_process").spawn,Pf4=C("child_process").exec,DI=C("child_process").execSync,Lf4=C("util"),uQ=process.platform,Ro=uQ==="linux"||uQ==="android",Io1=uQ==="darwin",T2=uQ==="win32",Do1=uQ==="freebsd",wo1=uQ==="openbsd",Ao1=uQ==="netbsd",wo=0,eY="",oW=null,YJ=null,Po1=process.env.WINDIR||"C:\\Windows",E8,kO="",II=[],No=!1,M2="",qo1="$OutputEncoding = [System.Console]::OutputEncoding = [System.Console]::InputEncoding = [System.Text.Encoding]::UTF8 ; ",Po="--###START###--",Fo1="--ERROR--",E2="--###ENDCMD###--",Lo="--##ID##--",R2={windowsHide:!0,maxBuffer:104857600,encoding:"UTF-8",env:Object.assign({},process.env,{LANG:"en_US.UTF-8"})},N2={maxBuffer:104857600,encoding:"UTF-8",stdio:["pipe","pipe","ignore"]};function Mf4(Y){let J=parseInt(Y,10);if(isNaN(J))J=0;return J}function Ef4(Y){let J=!1,X="",Z="";for(let W of Y)if(W>="0"&&W<="9"||J)J=!0,X+=W;else Z+=W;return[Z,X]}var L2=new String,Mo=new String().replace,Eo=new String().toLowerCase,Lo1=new String().toString,Mo1=new String().substr,Eo1=new String().substring,To1=new String().trim,Ro1=new String().startsWith,No1=Math.min;function Tf4(Y){return Y&&{}.toString.call(Y)==="[object Function]"}function Rf4(Y){let J=[],X={};for(let Z=0;Z<Y.length;Z++){let W=Object.keys(Y[Z]);W.sort((G,Q)=>{return G-Q});let $="";for(let G=0;G<W.length;G++)$+=JSON.stringify(W[G]),$+=JSON.stringify(Y[Z][W[G]]);if(!{}.hasOwnProperty.call(X,$))J.push(Y[Z]),X[$]=!0}return J}function Nf4(Y,J){return Y.sort((X,Z)=>{let W="",$="";return J.forEach((G)=>{W=W+X[G],$=$+Z[G]}),W<$?-1:W>$?1:0})}function Sf4(){if(wo===0)wo=rW.cpus().length;return wo}function aW(Y,J,X,Z,W){X=X||":",J=J.toLowerCase(),Z=Z||!1,W=W||!1;let $="";return Y.some((G)=>{let Q=G.toLowerCase().replace(/\t/g,"");if(Z)Q=Q.trim();if(Q.startsWith(J)&&(W?Q.match(J+X)||Q.match(J+" "+X):!0)){let U=Z?G.trim().split(X):G.split(X);if(U.length>=2)return U.shift(),$=U.join(X).trim(),!0}return!1}),$}function Cf4(Y,J){return J=J||16,Y.replace(/\\x([0-9A-Fa-f]{2})/g,function(){return String.fromCharCode(parseInt(arguments[1],J))})}function jf4(Y){let J="",X=0;return Y.split("").forEach((Z)=>{if(Z>="0"&&Z<="9"){if(X===1)X++}else{if(X===0)X++;if(X===1)J+=Z}}),J}function kf4(Y,J){J=J||"",Y=Y.toUpperCase();let X=0,Z=0,W=jf4(Y),$=Y.split(W);if($.length>=2){if($[2])$[1]+=$[2];let G=$[1]&&$[1].toLowerCase().indexOf("pm")>-1||$[1].toLowerCase().indexOf("p.m.")>-1||$[1].toLowerCase().indexOf("p. m.")>-1||$[1].toLowerCase().indexOf("n")>-1||$[1].toLowerCase().indexOf("ch")>-1||$[1].toLowerCase().indexOf("\xF6s")>-1||J&&$[1].toLowerCase().indexOf(J)>-1;return X=parseInt($[0],10),Z=parseInt($[1],10),X=G&&X<12?X+12:X,("0"+X).substr(-2)+":"+("0"+Z).substr(-2)}}function _f4(Y,J){let X={date:"",time:""};J=J||{};let Z=(J.dateFormat||"").toLowerCase(),W=J.pmDesignator||"",$=Y.split(" ");if($[0]){if($[0].indexOf("/")>=0){let G=$[0].split("/");if(G.length===3)if(G[0].length===4)X.date=G[0]+"-"+("0"+G[1]).substr(-2)+"-"+("0"+G[2]).substr(-2);else if(G[2].length===2)if(Z.indexOf("/d/")>-1||Z.indexOf("/dd/")>-1)X.date="20"+G[2]+"-"+("0"+G[1]).substr(-2)+"-"+("0"+G[0]).substr(-2);else X.date="20"+G[2]+"-"+("0"+G[1]).substr(-2)+"-"+("0"+G[0]).substr(-2);else if((Y.toLowerCase().indexOf("pm")>-1||Y.toLowerCase().indexOf("p.m.")>-1||Y.toLowerCase().indexOf("p. m.")>-1||Y.toLowerCase().indexOf("am")>-1||Y.toLowerCase().indexOf("a.m.")>-1||Y.toLowerCase().indexOf("a. m.")>-1||Z.indexOf("/d/")>-1||Z.indexOf("/dd/")>-1)&&Z.indexOf("dd/")!==0)X.date=G[2]+"-"+("0"+G[0]).substr(-2)+"-"+("0"+G[1]).substr(-2);else X.date=G[2]+"-"+("0"+G[1]).substr(-2)+"-"+("0"+G[0]).substr(-2)}if($[0].indexOf(".")>=0){let G=$[0].split(".");if(G.length===3)if(Z.indexOf(".d.")>-1||Z.indexOf(".dd.")>-1)X.date=G[2]+"-"+("0"+G[0]).substr(-2)+"-"+("0"+G[1]).substr(-2);else X.date=G[2]+"-"+("0"+G[1]).substr(-2)+"-"+("0"+G[0]).substr(-2)}if($[0].indexOf("-")>=0){let G=$[0].split("-");if(G.length===3)X.date=G[0]+"-"+("0"+G[1]).substr(-2)+"-"+("0"+G[2]).substr(-2)}}if($[1]){$.shift();let G=$.join(" ");X.time=kf4(G,W)}return X}function xf4(Y,J){let X=J>0,Z=1,W=0,$=0,G=[];for(let U=0;U<Y.length;U++)if(Z<=J){if(/\s/.test(Y[U])&&!X)$=U-1,G.push({from:W,to:$+1,cap:Y.substring(W,$+1)}),W=$+2,Z++;X=Y[U]===" "}else{if(!/\s/.test(Y[U])&&X){if($=U-1,W<$)G.push({from:W,to:$,cap:Y.substring(W,$)});W=$+1,Z++}X=Y[U]===" "}$=5000,G.push({from:W,to:$,cap:Y.substring(W,$)});let Q=G.length;for(let U=0;U<Q;U++)if(G[U].cap.replace(/\s/g,"").length===0){if(U+1<Q)G[U].to=G[U+1].to,G[U].cap=G[U].cap+G[U+1].cap,G.splice(U+1,1),Q=Q-1}return G}function ff4(Y,J,X){for(let Z=0;Z<Y.length;Z++)if(Y[Z][J]===X)return Z;return-1}function vf4(){if(M2="powershell.exe",T2){let Y=`${Po1}\\system32\\WindowsPowerShell\\v1.0\\powershell.exe`;if(kX.existsSync(Y))M2=Y}}function hf4(){return T2?`"${process.env.VBOX_INSTALL_PATH||process.env.VBOX_MSI_INSTALL_PATH}\\VBoxManage.exe"`:"vboxmanage"}function Ao(Y){let J="",X,Z="";if(Y.indexOf(Po)>=0){X=Y.split(Po);let $=X[1].split(Lo);if(J=$[0],$.length>1)Y=$.slice(1).join(Lo)}if(Y.indexOf(E2)>=0)X=Y.split(E2),Z=X[0];let W=-1;for(let $=0;$<II.length;$++)if(II[$].id===J)W=$,II[$].callback(Z);if(W>=0)II.splice(W,1)}function bf4(){if(!E8){if(E8=To(M2,["-NoProfile","-NoLogo","-InputFormat","Text","-NoExit","-Command","-"],{stdio:"pipe",windowsHide:!0,maxBuffer:104857600,encoding:"UTF-8",env:Object.assign({},process.env,{LANG:"en_US.UTF-8"})}),E8&&E8.pid)No=!0,E8.stdout.on("data",(Y)=>{if(kO=kO+Y.toString("utf8"),Y.indexOf(E2)>=0)Ao(kO),kO=""}),E8.stderr.on("data",()=>{Ao(kO+Fo1)}),E8.on("error",()=>{Ao(kO+Fo1)}),E8.on("close",()=>{if(E8)E8.kill()})}}function yf4(){try{if(E8)E8.stdin.write("exit"+rW.EOL),E8.stdin.end()}catch{if(E8)E8.kill()}No=!1,E8=null}function gf4(Y){if(No){let J=Math.random().toString(36).substring(2,12);return new Promise((X)=>{process.nextTick(()=>{function Z(W){X(W)}II.push({id:J,cmd:Y,callback:Z,start:new Date});try{if(E8&&E8.pid)E8.stdin.write(qo1+"echo "+Po+J+Lo+"; "+rW.EOL+Y+rW.EOL+"echo "+E2+rW.EOL)}catch{X("")}})})}else{let J="";return new Promise((X)=>{process.nextTick(()=>{try{let Z=rW.release().split(".").map(Number),W=Z[0]<10?["-NoProfile","-NoLogo","-InputFormat","Text","-NoExit","-ExecutionPolicy","Unrestricted","-Command","-"]:["-NoProfile","-NoLogo","-InputFormat","Text","-ExecutionPolicy","Unrestricted","-Command",Y],$=To(M2,W,{stdio:"pipe",windowsHide:!0,maxBuffer:104857600,encoding:"UTF-8",env:Object.assign({},process.env,{LANG:"en_US.UTF-8"})});if($&&!$.pid)$.on("error",()=>{X(J)});if($&&$.pid){if($.stdout.on("data",(G)=>{J=J+G.toString("utf8")}),$.stderr.on("data",()=>{$.kill(),X(J)}),$.on("close",()=>{$.kill(),X(J)}),$.on("error",()=>{$.kill(),X(J)}),Z[0]<10)try{$.stdin.write(qo1+Y+rW.EOL),$.stdin.write("exit"+rW.EOL),$.stdin.end()}catch{$.kill(),X(J)}}else X(J)}catch{X(J)}})})}}function uf4(Y,J,X){let Z="";return X=X||{},new Promise((W)=>{process.nextTick(()=>{try{let $=To(Y,J,X);if($&&!$.pid)$.on("error",()=>{W(Z)});if($&&$.pid)$.stdout.on("data",(G)=>{Z+=G.toString()}),$.on("close",()=>{$.kill(),W(Z)}),$.on("error",()=>{$.kill(),W(Z)});else W(Z)}catch{W(Z)}})})}function mf4(){if(T2){if(!eY)try{let X=DI("chcp",R2).toString().split(`\r
`)[0].split(":");eY=X.length>1?X[1].replace(".","").trim():""}catch{eY="437"}return eY}if(Ro||Io1||Do1||wo1||Ao1){if(!eY)try{let X=DI("echo $LANG",N2).toString().split(`\r
`)[0].split(".");if(eY=X.length>1?X[1].trim():"",!eY)eY="UTF-8"}catch{eY="UTF-8"}return eY}}function df4(){if(oW!==null)return oW;if(oW=!1,T2)try{let Y=DI("WHERE smartctl 2>nul",R2).toString().split(`\r
`);if(Y&&Y.length)oW=Y[0].indexOf(":\\")>=0;else oW=!1}catch{oW=!1}if(Ro||Io1||Do1||wo1||Ao1)try{oW=DI("which smartctl 2>/dev/null",N2).toString().split(`\r
`).length>0}catch{Lf4.noop()}return oW}function cf4(Y){let J=["BCM2708","BCM2709","BCM2710","BCM2711","BCM2712","BCM2835","BCM2836","BCM2837","BCM2837B0"];if(YJ!==null)Y=YJ;else if(Y===void 0)try{Y=kX.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split(`
`),YJ=Y}catch{return!1}let X=aW(Y,"hardware"),Z=aW(Y,"model");return X&&J.indexOf(X)>-1||Z&&Z.indexOf("Raspberry Pi")>-1}function lf4(){let Y=[];try{Y=kX.readFileSync("/etc/os-release",{encoding:"utf8"}).toString().split(`
`)}catch{return!1}let J=aW(Y,"id","=");return J&&J.indexOf("raspbian")>-1}function pf4(Y,J,X){if(!X)X=J,J=R2;let Z="chcp 65001 > nul && cmd /C "+Y+" && chcp "+eY+" > nul";Pf4(Z,J,(W,$)=>{X(W,$)})}function nf4(){let Y=kX.existsSync("/Library/Developer/CommandLineTools/usr/bin/"),J=kX.existsSync("/Applications/Xcode.app/Contents/Developer/Tools"),X=kX.existsSync("/Library/Developer/Xcode/");return Y||X||J}function if4(){let Y=process.hrtime();if(!Array.isArray(Y)||Y.length!==2)return 0;return+Y[0]*1e9+ +Y[1]}function of4(Y,J){J=J||"";let X=[];return Y.forEach((Z)=>{if(Z.startsWith(J)){if(X.indexOf(Z)===-1)X.push(Z)}}),X.length}function rf4(Y,J){J=J||"";let X=[];return Y.forEach((Z)=>{if(Z.startsWith(J))X.push(Z)}),X.length}function af4(Y,J){if(typeof J>"u")J=!1;let X=Y||"",Z="",W=No1(X.length,2000);for(let $=0;$<=W;$++)if(!(X[$]===void 0||X[$]===">"||X[$]==="<"||X[$]==="*"||X[$]==="?"||X[$]==="["||X[$]==="]"||X[$]==="|"||X[$]==="\u02DA"||X[$]==="$"||X[$]===";"||X[$]==="&"||X[$]==="]"||X[$]==="#"||X[$]==="\\"||X[$]==="\t"||X[$]===`
`||X[$]==="\r"||X[$]==="'"||X[$]==="`"||X[$]==='"'||X[$].length>1||J&&X[$]==="("||J&&X[$]===")"||J&&X[$]==="@"||J&&X[$]===" "||J&&X[$]==="{"||J&&X[$]===";"||J&&X[$]==="}"))Z=Z+X[$];return Z}function sf4(){let J=!0,X="";try{X.__proto__.replace=Mo,X.__proto__.toLowerCase=Eo,X.__proto__.toString=Lo1,X.__proto__.substr=Mo1,X.__proto__.substring=Eo1,X.__proto__.trim=To1,X.__proto__.startsWith=Ro1}catch(W){Object.setPrototypeOf(X,L2)}J=J||!1;let Z=Date.now();if(typeof Z==="number"&&Z>1600000000000){let W=Z%100+15;for(let z=0;z<W;z++){let H=Math.random()*61.99999999+1,O=parseInt(Math.floor(H).toString(),10),K=parseInt(H.toString().split(".")[0],10),B=Math.random()*61.99999999+1,F=parseInt(Math.floor(B).toString(),10),V=parseInt(B.toString().split(".")[0],10);J=J&&H!==B,J=J&&O===K&&F===V,X+="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[O-1]}J=J&&X.length===W;let $=Math.random()*W*0.9999999999,G=X.substr(0,$)+" "+X.substr($,2000);try{G.__proto__.replace=Mo}catch(z){Object.setPrototypeOf(G,L2)}let Q=G.replace(/ /g,"");J=J&&X===Q,$=Math.random()*W*0.9999999999,G=X.substr(0,$)+"{"+X.substr($,2000),Q=G.replace(/{/g,""),J=J&&X===Q,$=Math.random()*W*0.9999999999,G=X.substr(0,$)+"*"+X.substr($,2000),Q=G.replace(/\*/g,""),J=J&&X===Q,$=Math.random()*W*0.9999999999,G=X.substr(0,$)+"$"+X.substr($,2000),Q=G.replace(/\$/g,""),J=J&&X===Q;let U=X.toLowerCase();J=J&&U.length===W&&U[W-1]&&!U[W];for(let z=0;z<W;z++){let H=X[z];try{H.__proto__.toLowerCase=Eo}catch{Object.setPrototypeOf(X,L2)}let O=U?U[z]:"",K=H.toLowerCase();J=J&&K[0]===O&&K[0]&&!K[1]}}return!J}function tf4(Y){return("00000000"+parseInt(Y,16).toString(2)).substr(-8)}function ef4(Y){let{lstatSync:J,readdirSync:X}=kX,Z=Af4.join;function W(z){return J(z).isDirectory()}function $(z){return J(z).isFile()}function G(z){return X(z).map((H)=>{return Z(z,H)}).filter(W)}function Q(z){return X(z).map((H)=>{return Z(z,H)}).filter($)}function U(z){try{return G(z).map((K)=>{return U(K)}).reduce((K,B)=>{return K.concat(B)},[]).concat(Q(z))}catch{return[]}}if(kX.existsSync(Y))return U(Y);else return[]}function So1(Y){if(YJ===null)YJ=Y;else if(Y===void 0)Y=YJ;let J={"0002":{type:"B",revision:"1.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0003":{type:"B",revision:"1.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0004":{type:"B",revision:"2.0",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0005":{type:"B",revision:"2.0",memory:256,manufacturer:"Qisda",processor:"BCM2835"},"0006":{type:"B",revision:"2.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0007":{type:"A",revision:"2.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0008":{type:"A",revision:"2.0",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0009":{type:"A",revision:"2.0",memory:256,manufacturer:"Qisda",processor:"BCM2835"},"000d":{type:"B",revision:"2.0",memory:512,manufacturer:"Egoman",processor:"BCM2835"},"000e":{type:"B",revision:"2.0",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"000f":{type:"B",revision:"2.0",memory:512,manufacturer:"Egoman",processor:"BCM2835"},"0010":{type:"B+",revision:"1.2",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"0011":{type:"CM1",revision:"1.0",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"0012":{type:"A+",revision:"1.1",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0013":{type:"B+",revision:"1.2",memory:512,manufacturer:"Embest",processor:"BCM2835"},"0014":{type:"CM1",revision:"1.0",memory:512,manufacturer:"Embest",processor:"BCM2835"},"0015":{type:"A+",revision:"1.1",memory:256,manufacturer:"512MB\tEmbest",processor:"BCM2835"}},X=["BCM2835","BCM2836","BCM2837","BCM2711","BCM2712"],Z=["Sony UK","Egoman","Embest","Sony Japan","Embest","Stadium"],W={"00":"A","01":"B","02":"A+","03":"B+","04":"2B","05":"Alpha (early prototype)","06":"CM1","08":"3B","09":"Zero","0a":"CM3","0c":"Zero W","0d":"3B+","0e":"3A+","0f":"Internal use only",10:"CM3+",11:"4B",12:"Zero 2 W",13:"400",14:"CM4",15:"CM4S",16:"Internal use only",17:"5",18:"CM5",19:"500/500+","1a":"CM5 Lite"},$=aW(Y,"revision",":",!0),G=aW(Y,"model:",":",!0),Q=aW(Y,"serial",":",!0),U={};if({}.hasOwnProperty.call(J,$))U={model:G,serial:Q,revisionCode:$,memory:J[$].memory,manufacturer:J[$].manufacturer,processor:J[$].processor,type:J[$].type,revision:J[$].revision};else{let z=("00000000"+aW(Y,"revision",":",!0).toLowerCase()).substr(-8),H=parseInt(tf4(z.substr(2,1)).substr(5,3),2)||0,O=Z[parseInt(z.substr(3,1),10)],K=X[parseInt(z.substr(4,1),10)],B=z.substr(5,2);U={model:G,serial:Q,revisionCode:$,memory:256*Math.pow(2,H),manufacturer:O,processor:K,type:{}.hasOwnProperty.call(W,B)?W[B]:"",revision:"1."+z.substr(7,1)}}return U}function Yv4(Y){if(YJ===null&&Y!==void 0)YJ=Y;else if(Y===void 0&&YJ!==null)Y=YJ;else try{Y=kX.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split(`
`),YJ=Y}catch{return!1}let J=So1(Y);if(J.type==="4B"||J.type==="CM4"||J.type==="CM4S"||J.type==="400")return"VideoCore VI";if(J.type==="5"||J.type==="500")return"VideoCore VII";return"VideoCore IV"}function Jv4(Y){let J=Y.map((W)=>new Promise(($)=>{let G=[,,];W.then((Q)=>{G[0]=Q}).catch((Q)=>{G[1]=Q}).then(()=>{$(G)})})),X=[],Z=[];return Promise.all(J).then((W)=>{return W.forEach(($)=>{if($[1])X.push($[1]),Z.push(null);else X.push(null),Z.push($[0])}),{errors:X,results:Z}})}function Xv4(Y){return()=>{let J=Array.prototype.slice.call(arguments);return new Promise((X,Z)=>{J.push((W,$)=>{if(W)Z(W);else X($)}),Y.apply(null,J)})}}function Zv4(Y){return()=>{let J=Array.prototype.slice.call(arguments);return new Promise((X)=>{J.push((Z,W)=>{X(W)}),Y.apply(null,J)})}}function Wv4(){let Y="";if(Ro)try{Y=DI("uname -v",N2).toString()}catch{Y=""}return Y}function $v4(Y){let J=["array","dict","key","string","integer","date","real","data","boolean","arrayEmpty"],X="<plist version",Z=Y.indexOf("<plist version"),W=Y.length;while(Y[Z]!==">"&&Z<W)Z++;let $=0,G=!1,Q=!1,U=!1,z=[{tagStart:"",tagEnd:"",tagContent:"",key:"",data:null}],H="",O=Y[Z];while(Z<W){if(H=O,Z+1<W)O=Y[Z+1];if(H==="<"){if(Q=!1,O==="/")U=!0;else if(z[$].tagStart){if(z[$].tagContent="",!z[$].data)z[$].data=z[$].tagStart==="array"?[]:{};$++,z.push({tagStart:"",tagEnd:"",tagContent:"",key:null,data:null}),G=!0,Q=!1}else if(!G)G=!0}else if(H===">"){if(z[$].tagStart==="true/")G=!1,U=!0,z[$].tagStart="",z[$].tagEnd="/boolean",z[$].data=!0;if(z[$].tagStart==="false/")G=!1,U=!0,z[$].tagStart="",z[$].tagEnd="/boolean",z[$].data=!1;if(z[$].tagStart==="array/")G=!1,U=!0,z[$].tagStart="",z[$].tagEnd="/arrayEmpty",z[$].data=[];if(Q)Q=!1;if(G){if(G=!1,Q=!0,z[$].tagStart==="array")z[$].data=[];if(z[$].tagStart==="dict")z[$].data={}}if(U){if(U=!1,z[$].tagEnd&&J.indexOf(z[$].tagEnd.substr(1))>=0)if(z[$].tagEnd==="/dict"||z[$].tagEnd==="/array"){if($>1&&z[$-2].tagStart==="array")z[$-2].data.push(z[$-1].data);if($>1&&z[$-2].tagStart==="dict")z[$-2].data[z[$-1].key]=z[$-1].data;$--,z.pop(),z[$].tagContent="",z[$].tagStart="",z[$].tagEnd=""}else{if(z[$].tagEnd==="/key"&&z[$].tagContent)z[$].key=z[$].tagContent;else{if(z[$].tagEnd==="/real"&&z[$].tagContent)z[$].data=parseFloat(z[$].tagContent)||0;if(z[$].tagEnd==="/integer"&&z[$].tagContent)z[$].data=parseInt(z[$].tagContent)||0;if(z[$].tagEnd==="/string"&&z[$].tagContent)z[$].data=z[$].tagContent||"";if(z[$].tagEnd==="/boolean")z[$].data=z[$].tagContent||!1;if(z[$].tagEnd==="/arrayEmpty")z[$].data=z[$].tagContent||[];if($>0&&z[$-1].tagStart==="array")z[$-1].data.push(z[$].data);if($>0&&z[$-1].tagStart==="dict")z[$-1].data[z[$].key]=z[$].data}z[$].tagContent="",z[$].tagStart="",z[$].tagEnd=""}z[$].tagEnd="",G=!1,Q=!1}}else{if(G)z[$].tagStart+=H;if(U)z[$].tagEnd+=H;if(Q)z[$].tagContent+=H}Z++}return z[0].data}function Vo1(Y){return typeof Y==="string"&&!isNaN(Y)&&!isNaN(parseFloat(Y))}function Gv4(Y){let J=Y.split(`
`);for(let Z=0;Z<J.length;Z++){if(J[Z].indexOf(" = ")>=0){let W=J[Z].split(" = ");if(W[0]=W[0].trim(),!W[0].startsWith('"'))W[0]='"'+W[0]+'"';if(W[1]=W[1].trim(),W[1].indexOf('"')===-1&&W[1].endsWith(";")){let $=W[1].substring(0,W[1].length-1);if(!Vo1($))W[1]=`"${$}";`}if(W[1].indexOf('"')>=0&&W[1].endsWith(";")){let $=W[1].substring(0,W[1].length-1).replace(/"/g,"");if(Vo1($))W[1]=`${$};`}J[Z]=W.join(" : ")}if(J[Z]=J[Z].replace(/\(/g,"[").replace(/\)/g,"]").replace(/;/g,",").trim(),J[Z].startsWith("}")&&J[Z-1]&&J[Z-1].endsWith(","))J[Z-1]=J[Z-1].substring(0,J[Z-1].length-1)}Y=J.join("");let X={};try{X=JSON.parse(Y)}catch(Z){Co1()}return X}function Qv4(Y,J){let X=0,Z=Y.split("."),W=J.split(".");if(Z[0]<W[0])X=1;else if(Z[0]>W[0])X=-1;else if(Z[0]===W[0]&&Z.length>=2&&W.length>=2){if(Z[1]<W[1])X=1;else if(Z[1]>W[1])X=-1;else if(Z[1]===W[1]){if(Z.length>=3&&W.length>=3){if(Z[2]<W[2])X=1;else if(Z[2]>W[2])X=-1}else if(W.length>=3)X=1}}return X}function Uv4(Y){let X=[{key:"Mac15,12",name:"MacBook Air",size:"13-inch",processor:"M3",year:"2024",additional:""},{key:"Mac14,15",name:"MacBook Air",size:"15-inch",processor:"M2",year:"2024",additional:""},{key:"Mac14,2",name:"MacBook Air",size:"13-inch",processor:"M2",year:"2022",additional:""},{key:"MacBookAir10,1",name:"MacBook Air",size:"13-inch",processor:"M1",year:"2020",additional:""},{key:"MacBookAir9,1",name:"MacBook Air",size:"13-inch",processor:"",year:"2020",additional:""},{key:"MacBookAir8,2",name:"MacBook Air",size:"13-inch",processor:"",year:"2019",additional:""},{key:"MacBookAir8,1",name:"MacBook Air",size:"13-inch",processor:"",year:"2018",additional:""},{key:"MacBookAir7,2",name:"MacBook Air",size:"13-inch",processor:"",year:"2017",additional:""},{key:"MacBookAir7,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Early 2015",additional:""},{key:"MacBookAir7,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Early 2015",additional:""},{key:"MacBookAir6,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Early 2014",additional:""},{key:"MacBookAir6,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Early 2014",additional:""},{key:"MacBookAir6,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Mid 2013",additional:""},{key:"MacBookAir6,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Mid 2013",additional:""},{key:"MacBookAir5,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookAir5,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookAir4,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Mid 2011",additional:""},{key:"MacBookAir4,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Mid 2011",additional:""},{key:"MacBookAir3,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Late 2010",additional:""},{key:"MacBookAir3,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Late 2010",additional:""},{key:"MacBookAir2,1",name:"MacBook Air",size:"13-inch",processor:"",year:"Mid 2009",additional:""},{key:"Mac16,1",name:"MacBook Pro",size:"14-inch",processor:"M4",year:"2024",additional:""},{key:"Mac16,6",name:"MacBook Pro",size:"14-inch",processor:"M4 Pro",year:"2024",additional:""},{key:"Mac16,8",name:"MacBook Pro",size:"14-inch",processor:"M4 Max",year:"2024",additional:""},{key:"Mac16,5",name:"MacBook Pro",size:"16-inch",processor:"M4 Pro",year:"2024",additional:""},{key:"Mac16,6",name:"MacBook Pro",size:"16-inch",processor:"M4 Max",year:"2024",additional:""},{key:"Mac15,3",name:"MacBook Pro",size:"14-inch",processor:"M3",year:"Nov 2023",additional:""},{key:"Mac15,6",name:"MacBook Pro",size:"14-inch",processor:"M3 Pro",year:"Nov 2023",additional:""},{key:"Mac15,8",name:"MacBook Pro",size:"14-inch",processor:"M3 Pro",year:"Nov 2023",additional:""},{key:"Mac15,10",name:"MacBook Pro",size:"14-inch",processor:"M3 Max",year:"Nov 2023",additional:""},{key:"Mac15,7",name:"MacBook Pro",size:"16-inch",processor:"M3 Pro",year:"Nov 2023",additional:""},{key:"Mac15,9",name:"MacBook Pro",size:"16-inch",processor:"M3 Pro",year:"Nov 2023",additional:""},{key:"Mac15,11",name:"MacBook Pro",size:"16-inch",processor:"M3 Max",year:"Nov 2023",additional:""},{key:"Mac14,5",name:"MacBook Pro",size:"14-inch",processor:"M2 Max",year:"2023",additional:""},{key:"Mac14,9",name:"MacBook Pro",size:"14-inch",processor:"M2 Max",year:"2023",additional:""},{key:"Mac14,6",name:"MacBook Pro",size:"16-inch",processor:"M2 Max",year:"2023",additional:""},{key:"Mac14,10",name:"MacBook Pro",size:"16-inch",processor:"M2 Max",year:"2023",additional:""},{key:"Mac14,7",name:"MacBook Pro",size:"13-inch",processor:"M2",year:"2022",additional:""},{key:"MacBookPro18,3",name:"MacBook Pro",size:"14-inch",processor:"M1 Pro",year:"2021",additional:""},{key:"MacBookPro18,4",name:"MacBook Pro",size:"14-inch",processor:"M1 Max",year:"2021",additional:""},{key:"MacBookPro18,1",name:"MacBook Pro",size:"16-inch",processor:"M1 Pro",year:"2021",additional:""},{key:"MacBookPro18,2",name:"MacBook Pro",size:"16-inch",processor:"M1 Max",year:"2021",additional:""},{key:"MacBookPro17,1",name:"MacBook Pro",size:"13-inch",processor:"M1",year:"2020",additional:""},{key:"MacBookPro16,3",name:"MacBook Pro",size:"13-inch",processor:"",year:"2020",additional:"Two Thunderbolt 3 ports"},{key:"MacBookPro16,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2020",additional:"Four Thunderbolt 3 ports"},{key:"MacBookPro16,1",name:"MacBook Pro",size:"16-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro16,4",name:"MacBook Pro",size:"16-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro15,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro15,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro15,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro15,4",name:"MacBook Pro",size:"13-inch",processor:"",year:"2019",additional:"Two Thunderbolt 3 ports"},{key:"MacBookPro15,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"2018",additional:""},{key:"MacBookPro15,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2018",additional:"Four Thunderbolt 3 ports"},{key:"MacBookPro14,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"2017",additional:"Two Thunderbolt 3 ports"},{key:"MacBookPro14,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2017",additional:"Four Thunderbolt 3 ports"},{key:"MacBookPro14,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"2017",additional:""},{key:"MacBookPro13,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"2016",additional:"Two Thunderbolt 3 ports"},{key:"MacBookPro13,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2016",additional:"Four Thunderbolt 3 ports"},{key:"MacBookPro13,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"2016",additional:""},{key:"MacBookPro11,4",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2015",additional:""},{key:"MacBookPro11,5",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2015",additional:""},{key:"MacBookPro12,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"Early 2015",additional:""},{key:"MacBookPro11,2",name:"MacBook Pro",size:"15-inch",processor:"",year:"Late 2013",additional:""},{key:"MacBookPro11,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"Late 2013",additional:""},{key:"MacBookPro11,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"Late 2013",additional:""},{key:"MacBookPro10,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookPro10,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"Late 2012",additional:""},{key:"MacBookPro9,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookPro9,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookPro8,3",name:"MacBook Pro",size:"17-inch",processor:"",year:"Early 2011",additional:""},{key:"MacBookPro8,2",name:"MacBook Pro",size:"15-inch",processor:"",year:"Early 2011",additional:""},{key:"MacBookPro8,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"Early 2011",additional:""},{key:"MacBookPro6,1",name:"MacBook Pro",size:"17-inch",processor:"",year:"Mid 2010",additional:""},{key:"MacBookPro6,2",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2010",additional:""},{key:"MacBookPro7,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"Mid 2010",additional:""},{key:"MacBookPro5,2",name:"MacBook Pro",size:"17-inch",processor:"",year:"Early 2009",additional:""},{key:"MacBookPro5,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2009",additional:""},{key:"MacBookPro5,5",name:"MacBook Pro",size:"13-inch",processor:"",year:"Mid 2009",additional:""},{key:"MacBookPro5,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"Late 2008",additional:""},{key:"MacBookPro4,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"Early 2008",additional:""},{key:"MacBook10,1",name:"MacBook",size:"12-inch",processor:"",year:"2017",additional:""},{key:"MacBook9,1",name:"MacBook",size:"12-inch",processor:"",year:"Early 2016",additional:""},{key:"MacBook8,1",name:"MacBook",size:"12-inch",processor:"",year:"Early 2015",additional:""},{key:"MacBook7,1",name:"MacBook",size:"13-inch",processor:"",year:"Mid 2010",additional:""},{key:"MacBook6,1",name:"MacBook",size:"13-inch",processor:"",year:"Late 2009",additional:""},{key:"MacBook5,2",name:"MacBook",size:"13-inch",processor:"",year:"Early 2009",additional:""},{key:"Mac14,13",name:"Mac Studio",size:"",processor:"M2 Max",year:"2023",additional:""},{key:"Mac14,14",name:"Mac Studio",size:"",processor:"M2 Ultra",year:"2023",additional:""},{key:"Mac15,14",name:"Mac Studio",size:"",processor:"M3 Ultra",year:"2025",additional:""},{key:"Mac16,9",name:"Mac Studio",size:"",processor:"M4 Max",year:"2025",additional:""},{key:"Mac13,1",name:"Mac Studio",size:"",processor:"M1 Max",year:"2022",additional:""},{key:"Mac13,2",name:"Mac Studio",size:"",processor:"M1 Ultra",year:"2022",additional:""},{key:"Mac16,11",name:"Mac mini",size:"",processor:"M4 Pro",year:"2024",additional:""},{key:"Mac16,10",name:"Mac mini",size:"",processor:"M4",year:"2024",additional:""},{key:"Mac14,3",name:"Mac mini",size:"",processor:"M2",year:"2023",additional:""},{key:"Mac14,12",name:"Mac mini",size:"",processor:"M2 Pro",year:"2023",additional:""},{key:"Macmini9,1",name:"Mac mini",size:"",processor:"M1",year:"2020",additional:""},{key:"Macmini8,1",name:"Mac mini",size:"",processor:"",year:"Late 2018",additional:""},{key:"Macmini7,1",name:"Mac mini",size:"",processor:"",year:"Late 2014",additional:""},{key:"Macmini6,1",name:"Mac mini",size:"",processor:"",year:"Late 2012",additional:""},{key:"Macmini6,2",name:"Mac mini",size:"",processor:"",year:"Late 2012",additional:""},{key:"Macmini5,1",name:"Mac mini",size:"",processor:"",year:"Mid 2011",additional:""},{key:"Macmini5,2",name:"Mac mini",size:"",processor:"",year:"Mid 2011",additional:""},{key:"Macmini4,1",name:"Mac mini",size:"",processor:"",year:"Mid 2010",additional:""},{key:"Macmini3,1",name:"Mac mini",size:"",processor:"",year:"Early 2009",additional:""},{key:"Mac16,3",name:"iMac",size:"24-inch",processor:"M4",year:"2024",additional:"Four ports"},{key:"Mac16,2",name:"iMac",size:"24-inch",processor:"M4",year:"2024",additional:"Two ports"},{key:"Mac15,5",name:"iMac",size:"24-inch",processor:"M3",year:"2023",additional:"Four ports"},{key:"Mac15,4",name:"iMac",size:"24-inch",processor:"M3",year:"2023",additional:"Two ports"},{key:"iMac21,1",name:"iMac",size:"24-inch",processor:"M1",year:"2021",additional:""},{key:"iMac21,2",name:"iMac",size:"24-inch",processor:"M1",year:"2021",additional:""},{key:"iMac20,1",name:"iMac",size:"27-inch",processor:"",year:"2020",additional:"Retina 5K"},{key:"iMac20,2",name:"iMac",size:"27-inch",processor:"",year:"2020",additional:"Retina 5K"},{key:"iMac19,1",name:"iMac",size:"27-inch",processor:"",year:"2019",additional:"Retina 5K"},{key:"iMac19,2",name:"iMac",size:"21.5-inch",processor:"",year:"2019",additional:"Retina 4K"},{key:"iMacPro1,1",name:"iMac Pro",size:"",processor:"",year:"2017",additional:""},{key:"iMac18,3",name:"iMac",size:"27-inch",processor:"",year:"2017",additional:"Retina 5K"},{key:"iMac18,2",name:"iMac",size:"21.5-inch",processor:"",year:"2017",additional:"Retina 4K"},{key:"iMac18,1",name:"iMac",size:"21.5-inch",processor:"",year:"2017",additional:""},{key:"iMac17,1",name:"iMac",size:"27-inch",processor:"",year:"Late 2015",additional:"Retina 5K"},{key:"iMac16,2",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2015",additional:"Retina 4K"},{key:"iMac16,1",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2015",additional:""},{key:"iMac15,1",name:"iMac",size:"27-inch",processor:"",year:"Late 2014",additional:"Retina 5K"},{key:"iMac14,4",name:"iMac",size:"21.5-inch",processor:"",year:"Mid 2014",additional:""},{key:"iMac14,2",name:"iMac",size:"27-inch",processor:"",year:"Late 2013",additional:""},{key:"iMac14,1",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2013",additional:""},{key:"iMac13,2",name:"iMac",size:"27-inch",processor:"",year:"Late 2012",additional:""},{key:"iMac13,1",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2012",additional:""},{key:"iMac12,2",name:"iMac",size:"27-inch",processor:"",year:"Mid 2011",additional:""},{key:"iMac12,1",name:"iMac",size:"21.5-inch",processor:"",year:"Mid 2011",additional:""},{key:"iMac11,3",name:"iMac",size:"27-inch",processor:"",year:"Mid 2010",additional:""},{key:"iMac11,2",name:"iMac",size:"21.5-inch",processor:"",year:"Mid 2010",additional:""},{key:"iMac10,1",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2009",additional:""},{key:"iMac9,1",name:"iMac",size:"20-inch",processor:"",year:"Early 2009",additional:""},{key:"Mac14,8",name:"Mac Pro",size:"",processor:"",year:"2023",additional:""},{key:"Mac14,8",name:"Mac Pro",size:"",processor:"",year:"2023",additional:"Rack"},{key:"MacPro7,1",name:"Mac Pro",size:"",processor:"",year:"2019",additional:""},{key:"MacPro7,1",name:"Mac Pro",size:"",processor:"",year:"2019",additional:"Rack"},{key:"MacPro6,1",name:"Mac Pro",size:"",processor:"",year:"Late 2013",additional:""},{key:"MacPro5,1",name:"Mac Pro",size:"",processor:"",year:"Mid 2012",additional:""},{key:"MacPro5,1",name:"Mac Pro Server",size:"",processor:"",year:"Mid 2012",additional:"Server"},{key:"MacPro5,1",name:"Mac Pro",size:"",processor:"",year:"Mid 2010",additional:""},{key:"MacPro5,1",name:"Mac Pro Server",size:"",processor:"",year:"Mid 2010",additional:"Server"},{key:"MacPro4,1",name:"Mac Pro",size:"",processor:"",year:"Early 2009",additional:""}].filter((W)=>W.key===Y);if(X.length===0)return{key:Y,model:"Apple",version:"Unknown"};let Z=[];if(X[0].size)Z.push(X[0].size);if(X[0].processor)Z.push(X[0].processor);if(X[0].year)Z.push(X[0].year);if(X[0].additional)Z.push(X[0].additional);return{key:Y,model:X[0].name,version:X[0].name+" ("+Z.join(", ")+")"}}function zv4(Y,J=5000){let X=Y.startsWith("https:")||Y.indexOf(":443/")>0||Y.indexOf(":8443/")>0?C("https"):C("http"),Z=Date.now();return new Promise((W)=>{let $=X.get(Y,(G)=>{G.on("data",()=>{}),G.on("end",()=>{W({url:Y,statusCode:G.statusCode,message:G.statusMessage,time:Date.now()-Z})})}).on("error",(G)=>{W({url:Y,statusCode:404,message:G.message,time:Date.now()-Z})}).setTimeout(J,()=>{$.destroy(),W({url:Y,statusCode:408,message:"Request Timeout",time:Date.now()-Z})})})}function Hv4(Y){return Y.replace(/To Be Filled By O.E.M./g,"")}function Co1(){}Ov4.toInt=Mf4;Ov4.splitByNumber=Ef4;Ov4.execOptsWin=R2;Ov4.execOptsLinux=N2;Ov4.getCodepage=mf4;Ov4.execWin=pf4;Ov4.isFunction=Tf4;Ov4.unique=Rf4;Ov4.sortByKey=Nf4;Ov4.cores=Sf4;Ov4.getValue=aW;Ov4.decodeEscapeSequence=Cf4;Ov4.parseDateTime=_f4;Ov4.parseHead=xf4;Ov4.findObjectByKey=ff4;Ov4.darwinXcodeExists=nf4;Ov4.getVboxmanage=hf4;Ov4.powerShell=gf4;Ov4.powerShellStart=bf4;Ov4.powerShellRelease=yf4;Ov4.execSafe=uf4;Ov4.nanoSeconds=if4;Ov4.countUniqueLines=of4;Ov4.countLines=rf4;Ov4.noop=Co1;Ov4.isRaspberry=cf4;Ov4.isRaspbian=lf4;Ov4.sanitizeShellString=af4;Ov4.isPrototypePolluted=sf4;Ov4.decodePiCpuinfo=So1;Ov4.getRpiGpu=Yv4;Ov4.promiseAll=Jv4;Ov4.promisify=Xv4;Ov4.promisifySave=Zv4;Ov4.smartMonToolsInstalled=df4;Ov4.linuxVersion=Wv4;Ov4.plistParser=$v4;Ov4.plistReader=Gv4;Ov4.stringObj=L2;Ov4.stringReplace=Mo;Ov4.stringToLower=Eo;Ov4.stringToString=Lo1;Ov4.stringSubstr=Mo1;Ov4.stringSubstring=Eo1;Ov4.stringTrim=To1;Ov4.stringStartWith=Ro1;Ov4.mathMin=No1;Ov4.WINDIR=Po1;Ov4.getFilesInPath=ef4;Ov4.semverCompare=Qv4;Ov4.getAppleModel=Uv4;Ov4.checkWebsite=zv4;Ov4.cleanString=Hv4;Ov4.getPowershell=vf4});var yo1=q((vh4)=>{var C2=C("os"),q7=C("child_process").exec,T8=C("child_process").execSync,Kh4=C("fs"),C1=jo1(),sW=process.platform,GZ=sW==="linux"||sW==="android",QZ=sW==="darwin",wI=sW==="win32",tW=sW==="freebsd",eW=sW==="openbsd",Y$=sW==="netbsd",ko1=sW==="sunos",o0={},_o1="",_O={},xo1=[],xO=[],fO={},mQ;function dQ(){let Y="",J="";try{let X=C2.networkInterfaces(),Z=9999;for(let W in X)if({}.hasOwnProperty.call(X,W))X[W].forEach(($)=>{if($&&$.internal===!1){if(J=J||W,$.scopeid&&$.scopeid<Z)Y=W,Z=$.scopeid}});if(Y=Y||J||"",wI){let W="";if(T8("netstat -r",C1.execOptsWin).toString().split(C2.EOL).forEach((U)=>{if(U=U.replace(/\s+/g," ").trim(),U.indexOf("0.0.0.0 0.0.0.0")>-1&&!/[a-zA-Z]/.test(U)){let z=U.split(" ");if(z.length>=5)W=z[z.length-2]}}),W){for(let U in X)if({}.hasOwnProperty.call(X,U))X[U].forEach((z)=>{if(z&&z.address&&z.address===W)Y=U})}}if(GZ){let G=T8("ip route 2> /dev/null | grep default",C1.execOptsLinux).toString().split(`
`)[0].split(/\s+/);if(G[0]==="none"&&G[5])Y=G[5];else if(G[4])Y=G[4];if(Y.indexOf(":")>-1)Y=Y.split(":")[1].trim()}if(QZ||tW||eW||Y$||ko1){let W="";if(GZ)W="ip route 2> /dev/null | grep default | awk '{print $5}'";if(QZ)W="route -n get default 2>/dev/null | grep interface: | awk '{print $2}'";if(tW||eW||Y$||ko1)W="route get 0.0.0.0 | grep interface:";if(Y=T8(W).toString().split(`
`)[0],Y.indexOf(":")>-1)Y=Y.split(":")[1].trim()}}catch(X){C1.noop()}if(Y)_o1=Y;return _o1}vh4.getDefaultNetworkInterface=dQ;function fo1(){let Y="",J="",X={};if(GZ||tW||eW||Y$){if(typeof mQ>"u")try{let Z=T8("which ip",C1.execOptsLinux).toString().split(`
`);if(Z.length&&Z[0].indexOf(":")===-1&&Z[0].indexOf("/")===0)mQ=Z[0];else mQ=""}catch(Z){mQ=""}try{let Z="export LC_ALL=C; "+(mQ?mQ+" link show up":"/sbin/ifconfig")+"; unset LC_ALL",$=T8(Z,C1.execOptsLinux).toString().split(`
`);for(let G=0;G<$.length;G++)if($[G]&&$[G][0]!==" "){if(mQ){let Q=$[G+1].trim().split(" ");if(Q[0]==="link/ether")Y=$[G].split(" ")[1],Y=Y.slice(0,Y.length-1),J=Q[1]}else Y=$[G].split(" ")[0],J=$[G].split("HWaddr ")[1];if(Y&&J)X[Y]=J.trim(),Y="",J=""}}catch(Z){C1.noop()}}if(QZ)try{let $=T8("/sbin/ifconfig").toString().split(`
`);for(let G=0;G<$.length;G++)if($[G]&&$[G][0]!=="\t"&&$[G].indexOf(":")>0)Y=$[G].split(":")[0];else if($[G].indexOf("\tether ")===0){if(J=$[G].split("\tether ")[1],Y&&J)X[Y]=J.trim(),Y="",J=""}}catch(Z){C1.noop()}return X}function Bh4(Y){return new Promise((J)=>{process.nextTick(()=>{let X=dQ();if(Y)Y(X);J(X)})})}vh4.networkInterfaceDefault=Bh4;function qh4(Y,J){let X=[];for(let Z in Y)try{if({}.hasOwnProperty.call(Y,Z)){if(Y[Z].trim()!==""){let W=Y[Z].trim().split(`\r
`),$=null;try{$=J&&J[Z]?J[Z].trim().split(`\r
`):[]}catch(H){C1.noop()}let G=C1.getValue(W,"NetEnabled",":"),Q=C1.getValue(W,"AdapterTypeID",":")==="9"?"wireless":"wired",U=C1.getValue(W,"Name",":").replace(/\]/g,")").replace(/\[/g,"("),z=C1.getValue(W,"NetConnectionID",":").replace(/\]/g,")").replace(/\[/g,"(");if(U.toLowerCase().indexOf("wi-fi")>=0||U.toLowerCase().indexOf("wireless")>=0)Q="wireless";if(G!==""){let H=parseInt(C1.getValue(W,"speed",":").trim(),10)/1e6;X.push({mac:C1.getValue(W,"MACAddress",":").toLowerCase(),dhcp:C1.getValue($,"dhcpEnabled",":").toLowerCase()==="true",name:U,iface:z,netEnabled:G==="TRUE",speed:isNaN(H)?null:H,operstate:C1.getValue(W,"NetConnectionStatus",":")==="2"?"up":"down",type:Q})}}}}catch(W){C1.noop()}return X}function Fh4(){return new Promise((Y)=>{process.nextTick(()=>{let J="Get-CimInstance Win32_NetworkAdapter | fl *; echo '#-#-#-#';";J+="Get-CimInstance Win32_NetworkAdapterConfiguration | fl DHCPEnabled";try{C1.powerShell(J).then((X)=>{X=X.split("#-#-#-#");let Z=(X[0]||"").split(/\n\s*\n/),W=(X[1]||"").split(/\n\s*\n/);Y(qh4(Z,W))})}catch(X){Y([])}})})}function Vh4(){let Y={},J={primaryDNS:"",exitCode:0,ifaces:[]};try{return T8("ipconfig /all",C1.execOptsWin).split(`\r
\r
`).forEach((W,$)=>{if($===1){let G=W.split(`\r
`).filter((U)=>{return U.toUpperCase().includes("DNS")}),Q=G[0].substring(G[0].lastIndexOf(":")+1);if(J.primaryDNS=Q.trim(),!J.primaryDNS)J.primaryDNS="Not defined"}if($>1)if($%2===0){let G=W.substring(W.lastIndexOf(" ")+1).replace(":","");Y.name=G}else{let G=W.split(`\r
`).filter((U)=>{return U.toUpperCase().includes("DNS")}),Q=G[0].substring(G[0].lastIndexOf(":")+1);Y.dnsSuffix=Q.trim(),J.ifaces.push(Y),Y={}}}),J}catch(X){return{primaryDNS:"",exitCode:0,ifaces:[]}}}function Ih4(Y,J){let X="",Z=J+".";try{let W=Y.filter(($)=>{return Z.includes($.name+".")}).map(($)=>$.dnsSuffix);if(W[0])X=W[0];if(!X)X="";return X}catch(W){return"Unknown"}}function Dh4(){try{return T8("netsh lan show profiles",C1.execOptsWin).split(`\r
Profile on interface`)}catch(Y){if(Y.status===1&&Y.stdout.includes("AutoConfig"))return"Disabled";return[]}}function wh4(Y){try{return T8(`netsh wlan show  interface name="${Y}" | findstr "SSID"`,C1.execOptsWin).split(`\r
`).shift().split(":").pop().trim()}catch(J){return"Unknown"}}function Ah4(Y,J,X){let Z={state:"Unknown",protocol:"Unknown"};if(X==="Disabled")return Z.state="Disabled",Z.protocol="Not defined",Z;if(Y==="wired"&&X.length>0)try{let $=X.find((Q)=>{return Q.includes(J+`\r
`)}).split(`\r
`),G=$.find((Q)=>{return Q.includes("802.1x")});if(G.includes("Disabled"))Z.state="Disabled",Z.protocol="Not defined";else if(G.includes("Enabled")){let Q=$.find((U)=>{return U.includes("EAP")});Z.protocol=Q.split(":").pop(),Z.state="Enabled"}}catch(W){return Z}else if(Y==="wireless"){let W="",$="";try{let G=wh4(J);if(G!=="Unknown"){let Q="",U=C1.isPrototypePolluted()?"---":C1.sanitizeShellString(G),z=C1.mathMin(U.length,32);for(let O=0;O<=z;O++)if(U[O]!==void 0)Q=Q+U[O];let H=T8(`netsh wlan show profiles "${Q}"`,C1.execOptsWin).split(`\r
`);W=(H.find((O)=>O.indexOf("802.1X")>=0)||"").trim(),$=(H.find((O)=>O.indexOf("EAP")>=0)||"").trim()}if(W.includes(":")&&$.includes(":"))Z.state=W.split(":").pop(),Z.protocol=$.split(":").pop()}catch(G){if(G.status===1&&G.stdout.includes("AutoConfig"))Z.state="Disabled",Z.protocol="Not defined";return Z}}return Z}function vo1(Y){let J=[],X=[];if(Y.forEach((Z)=>{if(!Z.startsWith("\t")&&!Z.startsWith(" ")){if(X.length)J.push(X),X=[]}X.push(Z)}),X.length)J.push(X);return J}function Ph4(Y){let J=[];return Y.forEach((X)=>{let Z={iface:"",mtu:null,mac:"",ip6:"",ip4:"",speed:null,type:"",operstate:"",duplex:"",internal:!1},W=X[0];Z.iface=W.split(":")[0].trim();let $=W.split("> mtu");if(Z.mtu=$.length>1?parseInt($[1],10):null,isNaN(Z.mtu))Z.mtu=null;Z.internal=$[0].toLowerCase().indexOf("loopback")>-1,X.forEach((U)=>{if(U.trim().startsWith("ether "))Z.mac=U.split("ether ")[1].toLowerCase().trim();if(U.trim().startsWith("inet6 ")&&!Z.ip6)Z.ip6=U.split("inet6 ")[1].toLowerCase().split("%")[0].split(" ")[0];if(U.trim().startsWith("inet ")&&!Z.ip4)Z.ip4=U.split("inet ")[1].toLowerCase().split(" ")[0]});let G=C1.getValue(X,"link rate");if(Z.speed=G?parseFloat(G):null,Z.speed===null){if(G=C1.getValue(X,"uplink rate"),Z.speed=G?parseFloat(G):null,Z.speed!==null&&G.toLowerCase().indexOf("gbps")>=0)Z.speed=Z.speed*1000}else if(G.toLowerCase().indexOf("gbps")>=0)Z.speed=Z.speed*1000;Z.type=C1.getValue(X,"type").toLowerCase().indexOf("wi-fi")>-1?"wireless":"wired";let Q=C1.getValue(X,"status").toLowerCase();if(Z.operstate=Q==="active"?"up":Q==="inactive"?"down":"unknown",Z.duplex=C1.getValue(X,"media").toLowerCase().indexOf("half-duplex")>-1?"half":"full",Z.ip6||Z.ip4||Z.mac)J.push(Z)}),J}function Lh4(){try{let J=T8("/sbin/ifconfig -v",{maxBuffer:104857600}).toString().split(`
`),X=vo1(J);return Ph4(X)}catch{return[]}}function Mh4(Y){let J=`nmcli device status 2>/dev/null | grep ${Y}`;try{let $=T8(J,C1.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(3).join(" ");return $!=="--"?$:""}catch{return""}}function ho1(Y){let J=[];try{let X=`cat ${Y} 2> /dev/null | grep 'iface\\|source'`;T8(X,C1.execOptsLinux).toString().split(`
`).forEach((W)=>{let $=W.replace(/\s+/g," ").trim().split(" ");if($.length>=4){if(W.toLowerCase().indexOf(" inet ")>=0&&W.toLowerCase().indexOf("dhcp")>=0)J.push($[1])}if(W.toLowerCase().includes("source")){let G=W.split(" ")[1];J=J.concat(ho1(G))}})}catch{C1.noop()}return J}function Eh4(){let J=[];try{let X=T8("ip a 2> /dev/null",C1.execOptsLinux).toString().split(`
`),Z=vo1(X);J=Th4(Z)}catch{C1.noop()}try{J=ho1("/etc/network/interfaces")}catch{C1.noop()}return J}function Th4(Y){let J=[];if(Y&&Y.length)Y.forEach((X)=>{if(X&&X.length){if(X[0].split(":").length>2){for(let W of X)if(W.indexOf(" inet ")>=0&&W.indexOf(" dynamic ")>=0){let $=W.split(" "),G=$[$.length-1].trim();J.push(G);break}}}});return J}function Rh4(Y,J,X){let Z=!1;if(J){let W=`nmcli connection show "${J}" 2>/dev/null | grep ipv4.method;`;try{switch(T8(W,C1.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString()){case"auto":Z=!0;break;default:Z=!1;break}return Z}catch{return X.indexOf(Y)>=0}}else return X.indexOf(Y)>=0}function Nh4(Y){let J=!1,X=`ipconfig getpacket "${Y}" 2>/dev/null | grep lease_time;`;try{let Z=T8(X).toString().split(`
`);if(Z.length&&Z[0].startsWith("lease_time"))J=!0}catch{C1.noop()}return J}function Sh4(Y){if(Y){let J=`nmcli connection show "${Y}" 2>/dev/null | grep ipv4.dns-search;`;try{let W=T8(J,C1.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString();return W==="--"?"Not defined":W}catch{return"Unknown"}}else return"Unknown"}function Ch4(Y){if(Y){let J=`nmcli connection show "${Y}" 2>/dev/null | grep 802-1x.eap;`;try{let W=T8(J,C1.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString();return W==="--"?"":W}catch{return"Not defined"}}else return"Not defined"}function jh4(Y){if(Y){if(Y==="Not defined")return"Disabled";return"Enabled"}else return"Unknown"}function So(Y,J,X){let Z=["00:00:00:00:00:00","00:03:FF","00:05:69","00:0C:29","00:0F:4B","00:13:07","00:13:BE","00:15:5d","00:16:3E","00:1C:42","00:21:F6","00:24:0B","00:50:56","00:A0:B1","00:E0:C8","08:00:27","0A:00:27","18:92:2C","16:DF:49","3C:F3:92","54:52:00","FC:15:97"];if(X)return Z.filter((W)=>{return X.toUpperCase().toUpperCase().startsWith(W.substring(0,X.length))}).length>0||Y.toLowerCase().indexOf(" virtual ")>-1||J.toLowerCase().indexOf(" virtual ")>-1||Y.toLowerCase().indexOf("vethernet ")>-1||J.toLowerCase().indexOf("vethernet ")>-1||Y.toLowerCase().startsWith("veth")||J.toLowerCase().startsWith("veth")||Y.toLowerCase().startsWith("vboxnet")||J.toLowerCase().startsWith("vboxnet");else return!1}function Co(Y,J,X){if(typeof Y==="string")X=Y,J=!0,Y=null;if(typeof Y==="boolean")J=Y,Y=null,X="";if(typeof J>"u")J=!0;return X=X||"",X=""+X,new Promise((Z)=>{process.nextTick(()=>{let W=C2.networkInterfaces(),$=[],G=[],Q=[],U=[];if(QZ||tW||eW||Y$)if(JSON.stringify(W)===JSON.stringify(_O)&&!J){if($=xO,Y)Y($);Z($)}else{let z=dQ();if(_O=JSON.parse(JSON.stringify(W)),G=Lh4(),G.forEach((H)=>{let O="",K="",B="",F="";if(H.ip4="",H.ip6="",{}.hasOwnProperty.call(W,H.iface))W[H.iface].forEach((L)=>{if(L.family==="IPv4"||L.family===4){if(!H.ip4&&!H.ip4.match(/^169.254/i))H.ip4=L.address,H.ip4subnet=L.netmask;if(H.ip4.match(/^169.254/i))O=L.address,K=L.netmask}if(L.family==="IPv6"||L.family===6){if(!H.ip6&&!H.ip6.match(/^fe80::/i))H.ip6=L.address,H.ip6subnet=L.netmask;if(H.ip6.match(/^fe80::/i))B=L.address,F=L.netmask}});if(!H.ip4&&O)H.ip4=O,H.ip4subnet=K;if(!H.ip6&&B)H.ip6=B,H.ip6subnet=F;let V="",I=C1.isPrototypePolluted()?"---":C1.sanitizeShellString(H.iface),D=C1.mathMin(I.length,2000);for(let L=0;L<=D;L++)if(I[L]!==void 0)V=V+I[L];$.push({iface:H.iface,ifaceName:H.iface,default:H.iface===z,ip4:H.ip4,ip4subnet:H.ip4subnet||"",ip6:H.ip6,ip6subnet:H.ip6subnet||"",mac:H.mac,internal:H.internal,virtual:H.internal?!1:So(H.iface,H.iface,H.mac),operstate:H.operstate,type:H.type,duplex:H.duplex,mtu:H.mtu,speed:H.speed,dhcp:Nh4(V),dnsSuffix:"",ieee8021xAuth:"",ieee8021xState:"",carrierChanges:0})}),xO=$,X.toLowerCase().indexOf("default")>=0)if($=$.filter((H)=>H.default),$.length>0)$=$[0];else $=[];if(Y)Y($);Z($)}if(GZ)if(JSON.stringify(W)===JSON.stringify(_O)&&!J){if($=xO,Y)Y($);Z($)}else{_O=JSON.parse(JSON.stringify(W)),xo1=Eh4();let z=dQ();for(let H in W){let O="",K="",B="",F="",V="",I="",D="",L=null,A=0,P=!1,R="",N="",v="",j="",M="",b="",k="",r="";if({}.hasOwnProperty.call(W,H)){let p=H;if(W[H].forEach((Q1)=>{if(Q1.family==="IPv4"||Q1.family===4){if(!O&&!O.match(/^169.254/i))O=Q1.address,K=Q1.netmask;if(O.match(/^169.254/i))M=Q1.address,b=Q1.netmask}if(Q1.family==="IPv6"||Q1.family===6){if(!B&&!B.match(/^fe80::/i))B=Q1.address,F=Q1.netmask;if(B.match(/^fe80::/i))k=Q1.address,r=Q1.netmask}V=Q1.mac;let p1=parseInt(process.versions.node.split("."),10);if(V.indexOf("00:00:0")>-1&&(GZ||QZ)&&!Q1.internal&&p1>=8&&p1<=11){if(Object.keys(fO).length===0)fO=fo1();V=fO[H]||""}}),!O&&M)O=M,K=b;if(!B&&k)B=k,F=r;let S=H.split(":")[0].trim().toLowerCase(),c="",d=C1.isPrototypePolluted()?"---":C1.sanitizeShellString(S),a=C1.mathMin(d.length,2000);for(let Q1=0;Q1<=a;Q1++)if(d[Q1]!==void 0)c=c+d[Q1];let H1=`echo -n "addr_assign_type: "; cat /sys/class/net/${c}/addr_assign_type 2>/dev/null; echo;
            echo -n "address: "; cat /sys/class/net/${c}/address 2>/dev/null; echo;
            echo -n "addr_len: "; cat /sys/class/net/${c}/addr_len 2>/dev/null; echo;
            echo -n "broadcast: "; cat /sys/class/net/${c}/broadcast 2>/dev/null; echo;
            echo -n "carrier: "; cat /sys/class/net/${c}/carrier 2>/dev/null; echo;
            echo -n "carrier_changes: "; cat /sys/class/net/${c}/carrier_changes 2>/dev/null; echo;
            echo -n "dev_id: "; cat /sys/class/net/${c}/dev_id 2>/dev/null; echo;
            echo -n "dev_port: "; cat /sys/class/net/${c}/dev_port 2>/dev/null; echo;
            echo -n "dormant: "; cat /sys/class/net/${c}/dormant 2>/dev/null; echo;
            echo -n "duplex: "; cat /sys/class/net/${c}/duplex 2>/dev/null; echo;
            echo -n "flags: "; cat /sys/class/net/${c}/flags 2>/dev/null; echo;
            echo -n "gro_flush_timeout: "; cat /sys/class/net/${c}/gro_flush_timeout 2>/dev/null; echo;
            echo -n "ifalias: "; cat /sys/class/net/${c}/ifalias 2>/dev/null; echo;
            echo -n "ifindex: "; cat /sys/class/net/${c}/ifindex 2>/dev/null; echo;
            echo -n "iflink: "; cat /sys/class/net/${c}/iflink 2>/dev/null; echo;
            echo -n "link_mode: "; cat /sys/class/net/${c}/link_mode 2>/dev/null; echo;
            echo -n "mtu: "; cat /sys/class/net/${c}/mtu 2>/dev/null; echo;
            echo -n "netdev_group: "; cat /sys/class/net/${c}/netdev_group 2>/dev/null; echo;
            echo -n "operstate: "; cat /sys/class/net/${c}/operstate 2>/dev/null; echo;
            echo -n "proto_down: "; cat /sys/class/net/${c}/proto_down 2>/dev/null; echo;
            echo -n "speed: "; cat /sys/class/net/${c}/speed 2>/dev/null; echo;
            echo -n "tx_queue_len: "; cat /sys/class/net/${c}/tx_queue_len 2>/dev/null; echo;
            echo -n "type: "; cat /sys/class/net/${c}/type 2>/dev/null; echo;
            echo -n "wireless: "; cat /proc/net/wireless 2>/dev/null | grep ${c}; echo;
            echo -n "wirelessspeed: "; iw dev ${c} link 2>&1 | grep bitrate; echo;`,F1=[];try{F1=T8(H1,C1.execOptsLinux).toString().split(`
`);let Q1=Mh4(c);P=Rh4(c,Q1,xo1),R=Sh4(Q1),N=Ch4(Q1),v=jh4(N)}catch{C1.noop()}I=C1.getValue(F1,"duplex"),I=I.startsWith("cat")?"":I,D=parseInt(C1.getValue(F1,"mtu"),10);let z1=parseInt(C1.getValue(F1,"speed"),10);L=isNaN(z1)?null:z1;let y1=C1.getValue(F1,"tx bitrate");if(L===null&&y1)z1=parseFloat(y1),L=isNaN(z1)?null:z1;A=parseInt(C1.getValue(F1,"carrier_changes"),10);let J1=C1.getValue(F1,"operstate");if(j=J1==="up"?C1.getValue(F1,"wireless").trim()?"wireless":"wired":"unknown",c==="lo"||c.startsWith("bond"))j="virtual";let l=W[H]&&W[H][0]?W[H][0].internal:!1;if(H.toLowerCase().indexOf("loopback")>-1||p.toLowerCase().indexOf("loopback")>-1)l=!0;let K1=l?!1:So(H,p,V);$.push({iface:c,ifaceName:p,default:S===z,ip4:O,ip4subnet:K,ip6:B,ip6subnet:F,mac:V,internal:l,virtual:K1,operstate:J1,type:j,duplex:I,mtu:D,speed:L,dhcp:P,dnsSuffix:R,ieee8021xAuth:N,ieee8021xState:v,carrierChanges:A})}}if(xO=$,X.toLowerCase().indexOf("default")>=0)if($=$.filter((H)=>H.default),$.length>0)$=$[0];else $=[];if(Y)Y($);Z($)}if(wI)if(JSON.stringify(W)===JSON.stringify(_O)&&!J){if($=xO,Y)Y($);Z($)}else{_O=JSON.parse(JSON.stringify(W));let z=dQ();Fh4().then((H)=>{H.forEach((O)=>{let K=!1;if(Object.keys(W).forEach((B)=>{if(!K)W[B].forEach((F)=>{if(Object.keys(F).indexOf("mac")>=0)K=F.mac===O.mac})}),!K)W[O.name]=[{mac:O.mac}]}),U=Dh4(),Q=Vh4();for(let O in W){let K="",B=C1.isPrototypePolluted()?"---":C1.sanitizeShellString(O),F=C1.mathMin(B.length,2000);for(let c=0;c<=F;c++)if(B[c]!==void 0)K=K+B[c];let V=O,I="",D="",L="",A="",P="",R="",N="",v=null,j=0,M="down",b=!1,k="",r="",p="",S="";if({}.hasOwnProperty.call(W,O)){let c=O;W[O].forEach((z1)=>{if(z1.family==="IPv4"||z1.family===4)I=z1.address,D=z1.netmask;if(z1.family==="IPv6"||z1.family===6){if(!L||L.match(/^fe80::/i))L=z1.address,A=z1.netmask}P=z1.mac;let y1=parseInt(process.versions.node.split("."),10);if(P.indexOf("00:00:0")>-1&&(GZ||QZ)&&!z1.internal&&y1>=8&&y1<=11){if(Object.keys(fO).length===0)fO=fo1();P=fO[O]||""}}),k=Ih4(Q.ifaces,K);let d=!1;if(H.forEach((z1)=>{if(z1.mac===P&&!d)V=z1.iface||V,c=z1.name,b=z1.dhcp,M=z1.operstate,v=M==="up"?z1.speed:0,S=z1.type,d=!0}),O.toLowerCase().indexOf("wlan")>=0||c.toLowerCase().indexOf("wlan")>=0||c.toLowerCase().indexOf("802.11n")>=0||c.toLowerCase().indexOf("wireless")>=0||c.toLowerCase().indexOf("wi-fi")>=0||c.toLowerCase().indexOf("wifi")>=0)S="wireless";let a=Ah4(S,K,U);r=a.protocol,p=a.state;let H1=W[O]&&W[O][0]?W[O][0].internal:!1;if(O.toLowerCase().indexOf("loopback")>-1||c.toLowerCase().indexOf("loopback")>-1)H1=!0;let F1=H1?!1:So(O,c,P);$.push({iface:V,ifaceName:c,default:V===z,ip4:I,ip4subnet:D,ip6:L,ip6subnet:A,mac:P,internal:H1,virtual:F1,operstate:M,type:S,duplex:R,mtu:N,speed:v,dhcp:b,dnsSuffix:k,ieee8021xAuth:r,ieee8021xState:p,carrierChanges:j})}}if(xO=$,X.toLowerCase().indexOf("default")>=0)if($=$.filter((O)=>O.default),$.length>0)$=$[0];else $=[];if(Y)Y($);Z($)})}})})}vh4.networkInterfaces=Co;function S2(Y,J,X,Z,W,$,G,Q){let U={iface:Y,operstate:Z,rx_bytes:J,rx_dropped:W,rx_errors:$,tx_bytes:X,tx_dropped:G,tx_errors:Q,rx_sec:null,tx_sec:null,ms:0};if(o0[Y]&&o0[Y].ms)U.ms=Date.now()-o0[Y].ms,U.rx_sec=J-o0[Y].rx_bytes>=0?(J-o0[Y].rx_bytes)/(U.ms/1000):0,U.tx_sec=X-o0[Y].tx_bytes>=0?(X-o0[Y].tx_bytes)/(U.ms/1000):0,o0[Y].rx_bytes=J,o0[Y].tx_bytes=X,o0[Y].rx_sec=U.rx_sec,o0[Y].tx_sec=U.tx_sec,o0[Y].ms=Date.now(),o0[Y].last_ms=U.ms,o0[Y].operstate=Z;else{if(!o0[Y])o0[Y]={};o0[Y].rx_bytes=J,o0[Y].tx_bytes=X,o0[Y].rx_sec=null,o0[Y].tx_sec=null,o0[Y].ms=Date.now(),o0[Y].last_ms=0,o0[Y].operstate=Z}return U}function bo1(Y,J){let X=[];return new Promise((Z)=>{process.nextTick(()=>{if(C1.isFunction(Y)&&!J)J=Y,X=[dQ()];else{if(typeof Y!=="string"&&Y!==void 0){if(J)J([]);return Z([])}Y=Y||dQ();try{Y.__proto__.toLowerCase=C1.stringToLower,Y.__proto__.replace=C1.stringReplace,Y.__proto__.toString=C1.stringToString,Y.__proto__.substr=C1.stringSubstr,Y.__proto__.substring=C1.stringSubstring,Y.__proto__.trim=C1.stringTrim,Y.__proto__.startsWith=C1.stringStartWith}catch{Object.setPrototypeOf(Y,C1.stringObj)}Y=Y.trim().toLowerCase().replace(/,+/g,"|"),X=Y.split("|")}let W=[],$=[];if(X.length&&X[0].trim()==="*")X=[],Co(!1).then((G)=>{for(let Q of G)X.push(Q.iface);bo1(X.join(",")).then((Q)=>{if(J)J(Q);Z(Q)})});else{for(let G of X)$.push(kh4(G.trim()));if($.length)Promise.all($).then((G)=>{if(J)J(G);Z(G)});else{if(J)J(W);Z(W)}}})})}function kh4(Y){function J(X){let Z=[];for(let W in X)if({}.hasOwnProperty.call(X,W)){if(X[W].trim()!==""){let $=X[W].trim().split(`\r
`);Z.push({name:C1.getValue($,"Name",":").replace(/[()[\] ]+/g,"").replace(/#|\//g,"_").toLowerCase(),rx_bytes:parseInt(C1.getValue($,"BytesReceivedPersec",":"),10),rx_errors:parseInt(C1.getValue($,"PacketsReceivedErrors",":"),10),rx_dropped:parseInt(C1.getValue($,"PacketsReceivedDiscarded",":"),10),tx_bytes:parseInt(C1.getValue($,"BytesSentPersec",":"),10),tx_errors:parseInt(C1.getValue($,"PacketsOutboundErrors",":"),10),tx_dropped:parseInt(C1.getValue($,"PacketsOutboundDiscarded",":"),10)})}}return Z}return new Promise((X)=>{process.nextTick(()=>{let Z="",W=C1.isPrototypePolluted()?"---":C1.sanitizeShellString(Y),$=C1.mathMin(W.length,2000);for(let D=0;D<=$;D++)if(W[D]!==void 0)Z=Z+W[D];let G={iface:Z,operstate:"unknown",rx_bytes:0,rx_dropped:0,rx_errors:0,tx_bytes:0,tx_dropped:0,tx_errors:0,rx_sec:null,tx_sec:null,ms:0},Q="unknown",U=0,z=0,H=0,O=0,K=0,B=0,F,V,I;if(!o0[Z]||o0[Z]&&!o0[Z].ms||o0[Z]&&o0[Z].ms&&Date.now()-o0[Z].ms>=500){if(GZ)if(Kh4.existsSync("/sys/class/net/"+Z))F="cat /sys/class/net/"+Z+"/operstate; cat /sys/class/net/"+Z+"/statistics/rx_bytes; cat /sys/class/net/"+Z+"/statistics/tx_bytes; cat /sys/class/net/"+Z+"/statistics/rx_dropped; cat /sys/class/net/"+Z+"/statistics/rx_errors; cat /sys/class/net/"+Z+"/statistics/tx_dropped; cat /sys/class/net/"+Z+"/statistics/tx_errors; ",q7(F,(D,L)=>{if(!D)V=L.toString().split(`
`),Q=V[0].trim(),U=parseInt(V[1],10),z=parseInt(V[2],10),H=parseInt(V[3],10),O=parseInt(V[4],10),K=parseInt(V[5],10),B=parseInt(V[6],10),G=S2(Z,U,z,Q,H,O,K,B);X(G)});else X(G);if(tW||eW||Y$)F="netstat -ibndI "+Z,q7(F,(D,L)=>{if(!D){V=L.toString().split(`
`);for(let A=1;A<V.length;A++){let P=V[A].replace(/ +/g," ").split(" ");if(P&&P[0]&&P[7]&&P[10]){if(U=U+parseInt(P[7]),P[6].trim()!=="-")H=H+parseInt(P[6]);if(P[5].trim()!=="-")O=O+parseInt(P[5]);if(z=z+parseInt(P[10]),P[12].trim()!=="-")K=K+parseInt(P[12]);if(P[9].trim()!=="-")B=B+parseInt(P[9]);Q="up"}}G=S2(Z,U,z,Q,H,O,K,B)}X(G)});if(QZ)F="ifconfig "+Z+' | grep "status"',q7(F,(D,L)=>{G.operstate=(L.toString().split(":")[1]||"").trim(),G.operstate=(G.operstate||"").toLowerCase(),G.operstate=G.operstate==="active"?"up":G.operstate==="inactive"?"down":"unknown",F="netstat -bdI "+Z,q7(F,function(A,P){if(!A){if(V=P.toString().split(`
`),V.length>1&&V[1].trim()!==""){I=V[1].replace(/ +/g," ").split(" ");let R=I.length>11?1:0;U=parseInt(I[R+5]),H=parseInt(I[R+10]),O=parseInt(I[R+4]),z=parseInt(I[R+8]),K=parseInt(I[R+10]),B=parseInt(I[R+7]),G=S2(Z,U,z,G.operstate,H,O,K,B)}}X(G)})});if(wI){let D=[],L=Z;C1.powerShell("Get-CimInstance Win32_PerfRawData_Tcpip_NetworkInterface | select Name,BytesReceivedPersec,PacketsReceivedErrors,PacketsReceivedDiscarded,BytesSentPersec,PacketsOutboundErrors,PacketsOutboundDiscarded | fl").then((A,P)=>{if(!P){let R=A.toString().split(/\n\s*\n/);D=J(R)}Co(!1).then((R)=>{if(U=0,z=0,D.forEach((N)=>{R.forEach((v)=>{if((v.iface.toLowerCase()===Z.toLowerCase()||v.mac.toLowerCase()===Z.toLowerCase()||v.ip4.toLowerCase()===Z.toLowerCase()||v.ip6.toLowerCase()===Z.toLowerCase()||v.ifaceName.replace(/[()[\] ]+/g,"").replace(/#|\//g,"_").toLowerCase()===Z.replace(/[()[\] ]+/g,"").replace("#","_").toLowerCase())&&v.ifaceName.replace(/[()[\] ]+/g,"").replace(/#|\//g,"_").toLowerCase()===N.name)L=v.iface,U=N.rx_bytes,H=N.rx_dropped,O=N.rx_errors,z=N.tx_bytes,K=N.tx_dropped,B=N.tx_errors,Q=v.operstate})}),U&&z)G=S2(L,parseInt(U),parseInt(z),Q,H,O,K,B);X(G)})})}}else G.rx_bytes=o0[Z].rx_bytes,G.tx_bytes=o0[Z].tx_bytes,G.rx_sec=o0[Z].rx_sec,G.tx_sec=o0[Z].tx_sec,G.ms=o0[Z].last_ms,G.operstate=o0[Z].operstate,X(G)})})}vh4.networkStats=bo1;function _h4(Y,J){let X="";return Y.forEach((Z)=>{let W=Z.split(" ");if((parseInt(W[0],10)||-1)===J)W.shift(),X=W.join(" ").split(":")[0]}),X=X.split(" -")[0],X=X.split(" /")[0],X}function xh4(Y){return new Promise((J)=>{process.nextTick(()=>{let X=[];if(GZ||tW||eW||Y$){let Z='export LC_ALL=C; netstat -tunap | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"; unset LC_ALL';if(tW||eW||Y$)Z='export LC_ALL=C; netstat -na | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"; unset LC_ALL';q7(Z,{maxBuffer:104857600},(W,$)=>{let G=$.toString().split(`
`);if(!W&&(G.length>1||G[0]!=="")){if(G.forEach((Q)=>{if(Q=Q.replace(/ +/g," ").split(" "),Q.length>=7){let U=Q[3],z="",H=Q[3].split(":");if(H.length>1)z=H[H.length-1],H.pop(),U=H.join(":");let O=Q[4],K="",B=Q[4].split(":");if(B.length>1)K=B[B.length-1],B.pop(),O=B.join(":");let F=Q[5],V=Q[6].split("/");if(F)X.push({protocol:Q[0],localAddress:U,localPort:z,peerAddress:O,peerPort:K,state:F,pid:V[0]&&V[0]!=="-"?parseInt(V[0],10):null,process:V[1]?V[1].split(" ")[0].split(":")[0]:""})}}),Y)Y(X);J(X)}else Z='ss -tunap | grep "ESTAB\\|SYN-SENT\\|SYN-RECV\\|FIN-WAIT1\\|FIN-WAIT2\\|TIME-WAIT\\|CLOSE\\|CLOSE-WAIT\\|LAST-ACK\\|LISTEN\\|CLOSING"',q7(Z,{maxBuffer:104857600},(Q,U)=>{if(!Q)U.toString().split(`
`).forEach((H)=>{if(H=H.replace(/ +/g," ").split(" "),H.length>=6){let O=H[4],K="",B=H[4].split(":");if(B.length>1)K=B[B.length-1],B.pop(),O=B.join(":");let F=H[5],V="",I=H[5].split(":");if(I.length>1)V=I[I.length-1],I.pop(),F=I.join(":");let D=H[1];if(D==="ESTAB")D="ESTABLISHED";if(D==="TIME-WAIT")D="TIME_WAIT";let L=null,A="";if(H.length>=7&&H[6].indexOf("users:")>-1){let P=H[6].replace('users:(("',"").replace(/"/g,"").replace("pid=","").split(",");if(P.length>2){A=P[0];let R=parseInt(P[1],10);if(R>0)L=R}}if(D)X.push({protocol:H[0],localAddress:O,localPort:K,peerAddress:F,peerPort:V,state:D,pid:L,process:A})}});if(Y)Y(X);J(X)})})}if(QZ){let W="ESTABLISHED|SYN_SENT|SYN_RECV|FIN_WAIT1|FIN_WAIT_1|FIN_WAIT2|FIN_WAIT_2|TIME_WAIT|CLOSE|CLOSE_WAIT|LAST_ACK|LISTEN|CLOSING|UNKNOWN".split("|");q7('netstat -natvln | head -n2; netstat -natvln | grep "tcp4\\|tcp6\\|udp4\\|udp6"',{maxBuffer:104857600},($,G)=>{if(!$)q7("ps -axo pid,command",{maxBuffer:104857600},(Q,U)=>{let z=U.toString().split(`
`);z=z.map((K)=>{return K.trim().replace(/ +/g," ")});let H=G.toString().split(`
`);H.shift();let O=8;if(H.length>1&&H[0].indexOf("pid")>0)O=(H.shift()||"").replace(/ Address/g,"_Address").replace(/process:/g,"").replace(/ +/g," ").split(" ").indexOf("pid");if(H.forEach((K)=>{if(K=K.replace(/ +/g," ").split(" "),K.length>=8){let B=K[3],F="",V=K[3].split(".");if(V.length>1)F=V[V.length-1],V.pop(),B=V.join(".");let I=K[4],D="",L=K[4].split(".");if(L.length>1)D=L[L.length-1],L.pop(),I=L.join(".");let A=W.indexOf(K[5])>=0,P=A?K[5]:"UNKNOWN",R="";if(K[K.length-9].indexOf(":")>=0)R=K[K.length-9].split(":")[1];else if(R=K[O+(A?0:-1)],R.indexOf(":")>=0)R=R.split(":")[1];let N=parseInt(R,10);if(P)X.push({protocol:K[0],localAddress:B,localPort:F,peerAddress:I,peerPort:D,state:P,pid:N,process:_h4(z,N)})}}),Y)Y(X);J(X)})})}if(wI){let Z="netstat -nao";try{q7(Z,C1.execOptsWin,(W,$)=>{if(!W){if($.toString().split(`\r
`).forEach((Q)=>{if(Q=Q.trim().replace(/ +/g," ").split(" "),Q.length>=4){let U=Q[1],z="",H=Q[1].split(":");if(H.length>1)z=H[H.length-1],H.pop(),U=H.join(":");U=U.replace(/\[/g,"").replace(/\]/g,"");let O=Q[2],K="",B=Q[2].split(":");if(B.length>1)K=B[B.length-1],B.pop(),O=B.join(":");O=O.replace(/\[/g,"").replace(/\]/g,"");let F=C1.toInt(Q[4]),V=Q[3];if(V==="HERGESTELLT")V="ESTABLISHED";if(V.startsWith("ABH"))V="LISTEN";if(V==="SCHLIESSEN_WARTEN")V="CLOSE_WAIT";if(V==="WARTEND")V="TIME_WAIT";if(V==="SYN_GESENDET")V="SYN_SENT";if(V==="LISTENING")V="LISTEN";if(V==="SYN_RECEIVED")V="SYN_RECV";if(V==="FIN_WAIT_1")V="FIN_WAIT1";if(V==="FIN_WAIT_2")V="FIN_WAIT2";if(Q[0].toLowerCase()!=="udp"&&V)X.push({protocol:Q[0].toLowerCase(),localAddress:U,localPort:z,peerAddress:O,peerPort:K,state:V,pid:F,process:""});else if(Q[0].toLowerCase()==="udp")X.push({protocol:Q[0].toLowerCase(),localAddress:U,localPort:z,peerAddress:O,peerPort:K,state:"",pid:parseInt(Q[3],10),process:""})}}),Y)Y(X);J(X)}})}catch{if(Y)Y(X);J(X)}}})})}vh4.networkConnections=xh4;function fh4(Y){return new Promise((J)=>{process.nextTick(()=>{let X="";if(GZ||tW||eW||Y$){let Z="ip route get 1";try{q7(Z,{maxBuffer:104857600},(W,$)=>{if(!W){let G=$.toString().split(`
`),U=(G&&G[0]?G[0]:"").split(" via ");if(U&&U[1])U=U[1].split(" "),X=U[0];if(Y)Y(X);J(X)}else{if(Y)Y(X);J(X)}})}catch{if(Y)Y(X);J(X)}}if(QZ){let Z="route -n get default";try{q7(Z,{maxBuffer:104857600},(W,$)=>{if(!W){let G=$.toString().split(`
`).map((Q)=>Q.trim());X=C1.getValue(G,"gateway")}if(!X)Z="netstat -rn | awk '/default/ {print $2}'",q7(Z,{maxBuffer:104857600},(G,Q)=>{if(X=Q.toString().split(`
`).map((z)=>z.trim()).find((z)=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(z)),Y)Y(X);J(X)});else{if(Y)Y(X);J(X)}})}catch{if(Y)Y(X);J(X)}}if(wI)try{q7("netstat -r",C1.execOptsWin,(Z,W)=>{if(W.toString().split(C2.EOL).forEach((G)=>{if(G=G.replace(/\s+/g," ").trim(),G.indexOf("0.0.0.0 0.0.0.0")>-1&&!/[a-zA-Z]/.test(G)){let Q=G.split(" ");if(Q.length>=5&&Q[Q.length-3].indexOf(".")>-1)X=Q[Q.length-3]}}),!X)C1.powerShell("Get-CimInstance -ClassName Win32_IP4RouteTable | Where-Object { $_.Destination -eq '0.0.0.0' -and $_.Mask -eq '0.0.0.0' }").then((G)=>{let Q=G.toString().split(`\r
`);if(Q.length>1&&!X){if(X=C1.getValue(Q,"NextHop"),Y)Y(X);J(X)}});else{if(Y)Y(X);J(X)}})}catch{if(Y)Y(X);J(X)}})})}vh4.networkGatewayDefault=fh4});var mo1=q((go1)=>{Object.defineProperty(go1,"__esModule",{value:!0});go1.getNetworkData=void 0;var dh4=yo1();function ch4(){return new Promise((Y)=>{(0,dh4.networkStats)().then(Y).catch(()=>{Y([])})})}go1.getNetworkData=ch4});var po1=q((co1)=>{Object.defineProperty(co1,"__esModule",{value:!0});co1.HostMetrics=void 0;var lh4=Io(),x1=zo1(),j2=Bo1(),ph4=mo1();class do1 extends lh4.BaseMetrics{_batchUpdateCpuUsages(Y,J){for(let X=0,Z=J.length;X<Z;X++){let W=J[X];Y.observe(this._cpuTime,W.user,{[x1.ATTR_SYSTEM_CPU_STATE]:x1.SYSTEM_CPU_STATE_VALUE_USER,[x1.ATTR_SYSTEM_CPU_LOGICAL_NUMBER]:W.cpuNumber}),Y.observe(this._cpuTime,W.system,{[x1.ATTR_SYSTEM_CPU_STATE]:x1.SYSTEM_CPU_STATE_VALUE_SYSTEM,[x1.ATTR_SYSTEM_CPU_LOGICAL_NUMBER]:W.cpuNumber}),Y.observe(this._cpuTime,W.idle,{[x1.ATTR_SYSTEM_CPU_STATE]:x1.SYSTEM_CPU_STATE_VALUE_IDLE,[x1.ATTR_SYSTEM_CPU_LOGICAL_NUMBER]:W.cpuNumber}),Y.observe(this._cpuTime,W.interrupt,{[x1.ATTR_SYSTEM_CPU_STATE]:x1.SYSTEM_CPU_STATE_VALUE_INTERRUPT,[x1.ATTR_SYSTEM_CPU_LOGICAL_NUMBER]:W.cpuNumber}),Y.observe(this._cpuTime,W.nice,{[x1.ATTR_SYSTEM_CPU_STATE]:x1.SYSTEM_CPU_STATE_VALUE_NICE,[x1.ATTR_SYSTEM_CPU_LOGICAL_NUMBER]:W.cpuNumber}),Y.observe(this._cpuUtilization,W.userP,{[x1.ATTR_SYSTEM_CPU_STATE]:x1.SYSTEM_CPU_STATE_VALUE_USER,[x1.ATTR_SYSTEM_CPU_LOGICAL_NUMBER]:W.cpuNumber}),Y.observe(this._cpuUtilization,W.systemP,{[x1.ATTR_SYSTEM_CPU_STATE]:x1.SYSTEM_CPU_STATE_VALUE_SYSTEM,[x1.ATTR_SYSTEM_CPU_LOGICAL_NUMBER]:W.cpuNumber}),Y.observe(this._cpuUtilization,W.idleP,{[x1.ATTR_SYSTEM_CPU_STATE]:x1.SYSTEM_CPU_STATE_VALUE_IDLE,[x1.ATTR_SYSTEM_CPU_LOGICAL_NUMBER]:W.cpuNumber}),Y.observe(this._cpuUtilization,W.interruptP,{[x1.ATTR_SYSTEM_CPU_STATE]:x1.SYSTEM_CPU_STATE_VALUE_INTERRUPT,[x1.ATTR_SYSTEM_CPU_LOGICAL_NUMBER]:W.cpuNumber}),Y.observe(this._cpuUtilization,W.niceP,{[x1.ATTR_SYSTEM_CPU_STATE]:x1.SYSTEM_CPU_STATE_VALUE_NICE,[x1.ATTR_SYSTEM_CPU_LOGICAL_NUMBER]:W.cpuNumber})}}_batchUpdateProcessCpuUsages(Y,J){Y.observe(this._processCpuTime,J.user,{[x1.ATTR_PROCESS_CPU_STATE]:x1.PROCESS_CPU_STATE_VALUE_USER}),Y.observe(this._processCpuTime,J.system,{[x1.ATTR_PROCESS_CPU_STATE]:x1.PROCESS_CPU_STATE_VALUE_SYSTEM}),Y.observe(this._processCpuUtilization,J.userP,{[x1.ATTR_PROCESS_CPU_STATE]:x1.PROCESS_CPU_STATE_VALUE_USER}),Y.observe(this._processCpuUtilization,J.systemP,{[x1.ATTR_PROCESS_CPU_STATE]:x1.PROCESS_CPU_STATE_VALUE_SYSTEM})}_batchUpdateMemUsages(Y,J){Y.observe(this._memoryUsage,J.used,{[x1.ATTR_SYSTEM_MEMORY_STATE]:x1.SYSTEM_MEMORY_STATE_VALUE_USED}),Y.observe(this._memoryUsage,J.free,{[x1.ATTR_SYSTEM_MEMORY_STATE]:x1.SYSTEM_MEMORY_STATE_VALUE_FREE}),Y.observe(this._memoryUtilization,J.usedP,{[x1.ATTR_SYSTEM_MEMORY_STATE]:x1.SYSTEM_MEMORY_STATE_VALUE_USED}),Y.observe(this._memoryUtilization,J.freeP,{[x1.ATTR_SYSTEM_MEMORY_STATE]:x1.SYSTEM_MEMORY_STATE_VALUE_FREE})}_batchUpdateProcessMemUsage(Y,J){Y.observe(this._processMemoryUsage,J)}_batchUpdateNetworkData(Y,J){for(let X=0,Z=J.length;X<Z;X++){let W=J[X];Y.observe(this._networkDropped,W.rx_dropped,{[x1.ATTR_SYSTEM_DEVICE]:W.iface,[x1.ATTR_NETWORK_IO_DIRECTION]:x1.NETWORK_IO_DIRECTION_VALUE_RECEIVE}),Y.observe(this._networkDropped,W.tx_dropped,{[x1.ATTR_SYSTEM_DEVICE]:W.iface,[x1.ATTR_NETWORK_IO_DIRECTION]:x1.NETWORK_IO_DIRECTION_VALUE_TRANSMIT}),Y.observe(this._networkErrors,W.rx_errors,{[x1.ATTR_SYSTEM_DEVICE]:W.iface,[x1.ATTR_NETWORK_IO_DIRECTION]:x1.NETWORK_IO_DIRECTION_VALUE_RECEIVE}),Y.observe(this._networkErrors,W.tx_errors,{[x1.ATTR_SYSTEM_DEVICE]:W.iface,[x1.ATTR_NETWORK_IO_DIRECTION]:x1.NETWORK_IO_DIRECTION_VALUE_TRANSMIT}),Y.observe(this._networkIo,W.rx_bytes,{[x1.ATTR_SYSTEM_DEVICE]:W.iface,[x1.ATTR_NETWORK_IO_DIRECTION]:x1.NETWORK_IO_DIRECTION_VALUE_RECEIVE}),Y.observe(this._networkIo,W.tx_bytes,{[x1.ATTR_SYSTEM_DEVICE]:W.iface,[x1.ATTR_NETWORK_IO_DIRECTION]:x1.NETWORK_IO_DIRECTION_VALUE_TRANSMIT})}}_createMetrics(){let Y=[],J=!this._metricGroups||this._metricGroups.includes("system.cpu"),X=!this._metricGroups||this._metricGroups.includes("system.memory"),Z=!this._metricGroups||this._metricGroups.includes("system.network"),W=!this._metricGroups||this._metricGroups.includes("process.cpu"),$=!this._metricGroups||this._metricGroups.includes("process.memory");if(J)this._cpuTime=this._meter.createObservableCounter(x1.METRIC_SYSTEM_CPU_TIME,{description:"Cpu time in seconds",unit:"s"}),Y.push(this._cpuTime),this._cpuUtilization=this._meter.createObservableGauge(x1.METRIC_SYSTEM_CPU_UTILIZATION,{description:"Cpu usage time 0-1"}),Y.push(this._cpuUtilization);if(X)this._memoryUsage=this._meter.createObservableGauge(x1.METRIC_SYSTEM_MEMORY_USAGE,{description:"Memory usage in bytes"}),Y.push(this._memoryUsage),this._memoryUtilization=this._meter.createObservableGauge(x1.METRIC_SYSTEM_MEMORY_UTILIZATION,{description:"Memory usage 0-1"}),Y.push(this._memoryUtilization);if(Z)this._networkDropped=this._meter.createObservableCounter("system.network.dropped",{description:"Network dropped packets"}),Y.push(this._networkDropped),this._networkErrors=this._meter.createObservableCounter(x1.METRIC_SYSTEM_NETWORK_ERRORS,{description:"Network errors counter"}),Y.push(this._networkErrors),this._networkIo=this._meter.createObservableCounter(x1.METRIC_SYSTEM_NETWORK_IO,{description:"Network transmit and received bytes"}),Y.push(this._networkIo);if(W)this._processCpuTime=this._meter.createObservableCounter(x1.METRIC_PROCESS_CPU_TIME,{description:"Process Cpu time in seconds",unit:"s"}),Y.push(this._processCpuTime),this._processCpuUtilization=this._meter.createObservableGauge(x1.METRIC_PROCESS_CPU_UTILIZATION,{description:"Process Cpu usage time 0-1"}),Y.push(this._processCpuUtilization);if($)this._processMemoryUsage=this._meter.createObservableGauge(x1.METRIC_PROCESS_MEMORY_USAGE,{description:"Process Memory usage in bytes"}),Y.push(this._processMemoryUsage);this._meter.addBatchObservableCallback(async(G)=>{if(J){let Q=(0,j2.getCpuUsageData)();this._batchUpdateCpuUsages(G,Q)}if(X){let Q=(0,j2.getMemoryData)();this._batchUpdateMemUsages(G,Q)}if(W){let Q=(0,j2.getProcessCpuUsageData)();this._batchUpdateProcessCpuUsages(G,Q)}if($){let Q=(0,j2.getProcessMemoryData)();this._batchUpdateProcessMemUsage(G,Q)}if(Z){let Q=await(0,ph4.getNetworkData)();this._batchUpdateNetworkData(G,Q)}},Y)}start(){this._createMetrics()}_cpuTime;_cpuUtilization;_memoryUsage;_memoryUtilization;_processCpuTime;_processCpuUtilization;_processMemoryUsage;_networkDropped;_networkErrors;_networkIo}co1.HostMetrics=do1});var no1=q((k2)=>{Object.defineProperty(k2,"__esModule",{value:!0});k2.HostMetrics=k2.BaseMetrics=void 0;var nh4=Io();Object.defineProperty(k2,"BaseMetrics",{enumerable:!0,get:function(){return nh4.BaseMetrics}});var ih4=po1();Object.defineProperty(k2,"HostMetrics",{enumerable:!0,get:function(){return ih4.HostMetrics}})});var oo1=q((io1)=>{Object.defineProperty(io1,"__esModule",{value:!0});io1.SeverityNumber=void 0;var rh4;(function(Y){Y[Y.UNSPECIFIED=0]="UNSPECIFIED",Y[Y.TRACE=1]="TRACE",Y[Y.TRACE2=2]="TRACE2",Y[Y.TRACE3=3]="TRACE3",Y[Y.TRACE4=4]="TRACE4",Y[Y.DEBUG=5]="DEBUG",Y[Y.DEBUG2=6]="DEBUG2",Y[Y.DEBUG3=7]="DEBUG3",Y[Y.DEBUG4=8]="DEBUG4",Y[Y.INFO=9]="INFO",Y[Y.INFO2=10]="INFO2",Y[Y.INFO3=11]="INFO3",Y[Y.INFO4=12]="INFO4",Y[Y.WARN=13]="WARN",Y[Y.WARN2=14]="WARN2",Y[Y.WARN3=15]="WARN3",Y[Y.WARN4=16]="WARN4",Y[Y.ERROR=17]="ERROR",Y[Y.ERROR2=18]="ERROR2",Y[Y.ERROR3=19]="ERROR3",Y[Y.ERROR4=20]="ERROR4",Y[Y.FATAL=21]="FATAL",Y[Y.FATAL2=22]="FATAL2",Y[Y.FATAL3=23]="FATAL3",Y[Y.FATAL4=24]="FATAL4"})(rh4=io1.SeverityNumber||(io1.SeverityNumber={}))});var _2=q((ro1)=>{Object.defineProperty(ro1,"__esModule",{value:!0});ro1.NOOP_LOGGER=ro1.NoopLogger=void 0;class ko{emit(Y){}}ro1.NoopLogger=ko;ro1.NOOP_LOGGER=new ko});var x2=q((so1)=>{Object.defineProperty(so1,"__esModule",{value:!0});so1.NOOP_LOGGER_PROVIDER=so1.NoopLoggerProvider=void 0;var sh4=_2();class _o{getLogger(Y,J,X){return new sh4.NoopLogger}}so1.NoopLoggerProvider=_o;so1.NOOP_LOGGER_PROVIDER=new _o});var xo=q((Yr1)=>{Object.defineProperty(Yr1,"__esModule",{value:!0});Yr1.ProxyLogger=void 0;var eh4=_2();class eo1{constructor(Y,J,X,Z){this._provider=Y,this.name=J,this.version=X,this.options=Z}emit(Y){this._getLogger().emit(Y)}_getLogger(){if(this._delegate)return this._delegate;let Y=this._provider.getDelegateLogger(this.name,this.version,this.options);if(!Y)return eh4.NOOP_LOGGER;return this._delegate=Y,this._delegate}}Yr1.ProxyLogger=eo1});var fo=q((Zr1)=>{Object.defineProperty(Zr1,"__esModule",{value:!0});Zr1.ProxyLoggerProvider=void 0;var Yb4=x2(),Jb4=xo();class Xr1{getLogger(Y,J,X){var Z;return(Z=this.getDelegateLogger(Y,J,X))!==null&&Z!==void 0?Z:new Jb4.ProxyLogger(this,Y,J,X)}getDelegate(){var Y;return(Y=this._delegate)!==null&&Y!==void 0?Y:Yb4.NOOP_LOGGER_PROVIDER}setDelegate(Y){this._delegate=Y}getDelegateLogger(Y,J,X){var Z;return(Z=this._delegate)===null||Z===void 0?void 0:Z.getLogger(Y,J,X)}}Zr1.ProxyLoggerProvider=Xr1});var Qr1=q(($r1)=>{Object.defineProperty($r1,"__esModule",{value:!0});$r1._globalThis=void 0;$r1._globalThis=typeof globalThis==="object"?globalThis:global});var Ur1=q((vo)=>{Object.defineProperty(vo,"__esModule",{value:!0});vo._globalThis=void 0;var Xb4=Qr1();Object.defineProperty(vo,"_globalThis",{enumerable:!0,get:function(){return Xb4._globalThis}})});var zr1=q((ho)=>{Object.defineProperty(ho,"__esModule",{value:!0});ho._globalThis=void 0;var Wb4=Ur1();Object.defineProperty(ho,"_globalThis",{enumerable:!0,get:function(){return Wb4._globalThis}})});var Kr1=q((Hr1)=>{Object.defineProperty(Hr1,"__esModule",{value:!0});Hr1.API_BACKWARDS_COMPATIBILITY_VERSION=Hr1.makeGetter=Hr1._global=Hr1.GLOBAL_LOGS_API_KEY=void 0;var Gb4=zr1();Hr1.GLOBAL_LOGS_API_KEY=Symbol.for("io.opentelemetry.js.api.logs");Hr1._global=Gb4._globalThis;function Qb4(Y,J,X){return(Z)=>Z===Y?J:X}Hr1.makeGetter=Qb4;Hr1.API_BACKWARDS_COMPATIBILITY_VERSION=1});var Vr1=q((qr1)=>{Object.defineProperty(qr1,"__esModule",{value:!0});qr1.LogsAPI=void 0;var t7=Kr1(),Ob4=x2(),Br1=fo();class bo{constructor(){this._proxyLoggerProvider=new Br1.ProxyLoggerProvider}static getInstance(){if(!this._instance)this._instance=new bo;return this._instance}setGlobalLoggerProvider(Y){if(t7._global[t7.GLOBAL_LOGS_API_KEY])return this.getLoggerProvider();return t7._global[t7.GLOBAL_LOGS_API_KEY]=(0,t7.makeGetter)(t7.API_BACKWARDS_COMPATIBILITY_VERSION,Y,Ob4.NOOP_LOGGER_PROVIDER),this._proxyLoggerProvider.setDelegate(Y),Y}getLoggerProvider(){var Y,J;return(J=(Y=t7._global[t7.GLOBAL_LOGS_API_KEY])===null||Y===void 0?void 0:Y.call(t7._global,t7.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&J!==void 0?J:this._proxyLoggerProvider}getLogger(Y,J,X){return this.getLoggerProvider().getLogger(Y,J,X)}disable(){delete t7._global[t7.GLOBAL_LOGS_API_KEY],this._proxyLoggerProvider=new Br1.ProxyLoggerProvider}}qr1.LogsAPI=bo});var yo=q((UZ)=>{Object.defineProperty(UZ,"__esModule",{value:!0});UZ.logs=UZ.ProxyLoggerProvider=UZ.ProxyLogger=UZ.NoopLoggerProvider=UZ.NOOP_LOGGER_PROVIDER=UZ.NoopLogger=UZ.NOOP_LOGGER=UZ.SeverityNumber=void 0;var Kb4=oo1();Object.defineProperty(UZ,"SeverityNumber",{enumerable:!0,get:function(){return Kb4.SeverityNumber}});var Ir1=_2();Object.defineProperty(UZ,"NOOP_LOGGER",{enumerable:!0,get:function(){return Ir1.NOOP_LOGGER}});Object.defineProperty(UZ,"NoopLogger",{enumerable:!0,get:function(){return Ir1.NoopLogger}});var Dr1=x2();Object.defineProperty(UZ,"NOOP_LOGGER_PROVIDER",{enumerable:!0,get:function(){return Dr1.NOOP_LOGGER_PROVIDER}});Object.defineProperty(UZ,"NoopLoggerProvider",{enumerable:!0,get:function(){return Dr1.NoopLoggerProvider}});var Bb4=xo();Object.defineProperty(UZ,"ProxyLogger",{enumerable:!0,get:function(){return Bb4.ProxyLogger}});var qb4=fo();Object.defineProperty(UZ,"ProxyLoggerProvider",{enumerable:!0,get:function(){return qb4.ProxyLoggerProvider}});var Fb4=Vr1();UZ.logs=Fb4.LogsAPI.getInstance()});var Lr1=q((Ar1)=>{Object.defineProperty(Ar1,"__esModule",{value:!0});Ar1.disableInstrumentations=Ar1.enableInstrumentations=void 0;function Vb4(Y,J,X,Z){for(let W=0,$=Y.length;W<$;W++){let G=Y[W];if(J)G.setTracerProvider(J);if(X)G.setMeterProvider(X);if(Z&&G.setLoggerProvider)G.setLoggerProvider(Z);if(!G.getConfig().enabled)G.enable()}}Ar1.enableInstrumentations=Vb4;function Ib4(Y){Y.forEach((J)=>J.disable())}Ar1.disableInstrumentations=Ib4});var Nr1=q((Tr1)=>{Object.defineProperty(Tr1,"__esModule",{value:!0});Tr1.registerInstrumentations=void 0;var Mr1=t(),wb4=yo(),Er1=Lr1();function Ab4(Y){let J=Y.tracerProvider||Mr1.trace.getTracerProvider(),X=Y.meterProvider||Mr1.metrics.getMeterProvider(),Z=Y.loggerProvider||wb4.logs.getLoggerProvider(),W=Y.instrumentations?.flat()??[];return(0,Er1.enableInstrumentations)(W,J,X,Z),()=>{(0,Er1.disableInstrumentations)(W)}}Tr1.registerInstrumentations=Ab4});var yr1=q((hr1)=>{Object.defineProperty(hr1,"__esModule",{value:!0});hr1.satisfies=void 0;var co=t(),_r1=/^(?:v)?(?<version>(?<major>0|[1-9]\d*)\.(?<minor>0|[1-9]\d*)\.(?<patch>0|[1-9]\d*))(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,Pb4=/^(?<op><|>|=|==|<=|>=|~|\^|~>)?\s*(?:v)?(?<version>(?<major>x|X|\*|0|[1-9]\d*)(?:\.(?<minor>x|X|\*|0|[1-9]\d*))?(?:\.(?<patch>x|X|\*|0|[1-9]\d*))?)(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,Lb4={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]};function Mb4(Y,J,X){if(!Eb4(Y))return co.diag.error(`Invalid version: ${Y}`),!1;if(!J)return!0;J=J.replace(/([<>=~^]+)\s+/g,"$1");let Z=Sb4(Y);if(!Z)return!1;let W=[],$=xr1(Z,J,W,X);if($&&!X?.includePrerelease)return Rb4(Z,W);return $}hr1.satisfies=Mb4;function Eb4(Y){return typeof Y==="string"&&_r1.test(Y)}function xr1(Y,J,X,Z){if(J.includes("||")){let W=J.trim().split("||");for(let $ of W)if(go(Y,$,X,Z))return!0;return!1}else if(J.includes(" - "))J=rb4(J,Z);else if(J.includes(" ")){let W=J.trim().replace(/\s{2,}/g," ").split(" ");for(let $ of W)if(!go(Y,$,X,Z))return!1;return!0}return go(Y,J,X,Z)}function go(Y,J,X,Z){if(J=Nb4(J,Z),J.includes(" "))return xr1(Y,J,X,Z);else{let W=Cb4(J);return X.push(W),Tb4(Y,W)}}function Tb4(Y,J){if(J.invalid)return!1;if(!J.version||mo(J.version))return!0;let X=Cr1(Y.versionSegments||[],J.versionSegments||[]);if(X===0){let Z=Y.prereleaseSegments||[],W=J.prereleaseSegments||[];if(!Z.length&&!W.length)X=0;else if(!Z.length&&W.length)X=1;else if(Z.length&&!W.length)X=-1;else X=Cr1(Z,W)}return Lb4[J.op]?.includes(X)}function Rb4(Y,J){if(Y.prerelease)return J.some((X)=>X.prerelease&&X.version===Y.version);return!0}function Nb4(Y,J){return Y=Y.trim(),Y=ib4(Y,J),Y=nb4(Y),Y=ob4(Y,J),Y=Y.trim(),Y}function U9(Y){return!Y||Y.toLowerCase()==="x"||Y==="*"}function Sb4(Y){let J=Y.match(_r1);if(!J){co.diag.error(`Invalid version: ${Y}`);return}let X=J.groups.version,Z=J.groups.prerelease,W=J.groups.build,$=X.split("."),G=Z?.split(".");return{op:void 0,version:X,versionSegments:$,versionSegmentCount:$.length,prerelease:Z,prereleaseSegments:G,prereleaseSegmentCount:G?G.length:0,build:W}}function Cb4(Y){if(!Y)return{};let J=Y.match(Pb4);if(!J)return co.diag.error(`Invalid range: ${Y}`),{invalid:!0};let X=J.groups.op,Z=J.groups.version,W=J.groups.prerelease,$=J.groups.build,G=Z.split("."),Q=W?.split(".");if(X==="==")X="=";return{op:X||"=",version:Z,versionSegments:G,versionSegmentCount:G.length,prerelease:W,prereleaseSegments:Q,prereleaseSegmentCount:Q?Q.length:0,build:$}}function mo(Y){return Y==="*"||Y==="x"||Y==="X"}function Sr1(Y){let J=parseInt(Y,10);return isNaN(J)?Y:J}function jb4(Y,J){if(typeof Y===typeof J)if(typeof Y==="number")return[Y,J];else if(typeof Y==="string")return[Y,J];else throw Error("Version segments can only be strings or numbers");else return[String(Y),String(J)]}function kb4(Y,J){if(mo(Y)||mo(J))return 0;let[X,Z]=jb4(Sr1(Y),Sr1(J));if(X>Z)return 1;else if(X<Z)return-1;return 0}function Cr1(Y,J){for(let X=0;X<Math.max(Y.length,J.length);X++){let Z=kb4(Y[X]||"0",J[X]||"0");if(Z!==0)return Z}return 0}var fr1="[a-zA-Z0-9-]",vr1="0|[1-9]\\d*",_b4=`\\d*[a-zA-Z-]${fr1}*`,xb4="((?:<|>)?=?)",jr1=`(?:${vr1}|${_b4})`,fb4=`(?:-(${jr1}(?:\\.${jr1})*))`,kr1=`${fr1}+`,vb4=`(?:\\+(${kr1}(?:\\.${kr1})*))`,uo=`${vr1}|x|X|\\*`,AI=`[v=\\s]*(${uo})(?:\\.(${uo})(?:\\.(${uo})(?:${fb4})?${vb4}?)?)?`,hb4=`^${xb4}\\s*${AI}$`,bb4=new RegExp(hb4),yb4=`^\\s*(${AI})\\s+-\\s+(${AI})\\s*$`,gb4=new RegExp(yb4),ub4="(?:~>?)",mb4=`^${ub4}${AI}$`,db4=new RegExp(mb4),cb4="(?:\\^)",lb4=`^${cb4}${AI}$`,pb4=new RegExp(lb4);function nb4(Y){let J=db4;return Y.replace(J,(X,Z,W,$,G)=>{let Q;if(U9(Z))Q="";else if(U9(W))Q=`>=${Z}.0.0 <${+Z+1}.0.0-0`;else if(U9($))Q=`>=${Z}.${W}.0 <${Z}.${+W+1}.0-0`;else if(G)Q=`>=${Z}.${W}.${$}-${G} <${Z}.${+W+1}.0-0`;else Q=`>=${Z}.${W}.${$} <${Z}.${+W+1}.0-0`;return Q})}function ib4(Y,J){let X=pb4,Z=J?.includePrerelease?"-0":"";return Y.replace(X,(W,$,G,Q,U)=>{let z;if(U9($))z="";else if(U9(G))z=`>=${$}.0.0${Z} <${+$+1}.0.0-0`;else if(U9(Q))if($==="0")z=`>=${$}.${G}.0${Z} <${$}.${+G+1}.0-0`;else z=`>=${$}.${G}.0${Z} <${+$+1}.0.0-0`;else if(U)if($==="0")if(G==="0")z=`>=${$}.${G}.${Q}-${U} <${$}.${G}.${+Q+1}-0`;else z=`>=${$}.${G}.${Q}-${U} <${$}.${+G+1}.0-0`;else z=`>=${$}.${G}.${Q}-${U} <${+$+1}.0.0-0`;else if($==="0")if(G==="0")z=`>=${$}.${G}.${Q}${Z} <${$}.${G}.${+Q+1}-0`;else z=`>=${$}.${G}.${Q}${Z} <${$}.${+G+1}.0-0`;else z=`>=${$}.${G}.${Q} <${+$+1}.0.0-0`;return z})}function ob4(Y,J){let X=bb4;return Y.replace(X,(Z,W,$,G,Q,U)=>{let z=U9($),H=z||U9(G),O=H||U9(Q),K=O;if(W==="="&&K)W="";if(U=J?.includePrerelease?"-0":"",z)if(W===">"||W==="<")Z="<0.0.0-0";else Z="*";else if(W&&K){if(H)G=0;if(Q=0,W===">")if(W=">=",H)$=+$+1,G=0,Q=0;else G=+G+1,Q=0;else if(W==="<=")if(W="<",H)$=+$+1;else G=+G+1;if(W==="<")U="-0";Z=`${W+$}.${G}.${Q}${U}`}else if(H)Z=`>=${$}.0.0${U} <${+$+1}.0.0-0`;else if(O)Z=`>=${$}.${G}.0${U} <${$}.${+G+1}.0-0`;return Z})}function rb4(Y,J){let X=gb4;return Y.replace(X,(Z,W,$,G,Q,U,z,H,O,K,B,F)=>{if(U9($))W="";else if(U9(G))W=`>=${$}.0.0${J?.includePrerelease?"-0":""}`;else if(U9(Q))W=`>=${$}.${G}.0${J?.includePrerelease?"-0":""}`;else if(U)W=`>=${W}`;else W=`>=${W}${J?.includePrerelease?"-0":""}`;if(U9(O))H="";else if(U9(K))H=`<${+O+1}.0.0-0`;else if(U9(B))H=`<${O}.${+K+1}.0-0`;else if(F)H=`<=${O}.${K}.${B}-${F}`;else if(J?.includePrerelease)H=`<${O}.${K}.${+B+1}-0`;else H=`<=${H}`;return`${W} ${H}`.trim()})}});var io=q((gr1)=>{Object.defineProperty(gr1,"__esModule",{value:!0});gr1.massUnwrap=gr1.unwrap=gr1.massWrap=gr1.wrap=void 0;var z9=console.error.bind(console);function PI(Y,J,X){let Z=!!Y[J]&&Object.prototype.propertyIsEnumerable.call(Y,J);Object.defineProperty(Y,J,{configurable:!0,enumerable:Z,writable:!0,value:X})}var ab4=(Y,J,X)=>{if(!Y||!Y[J]){z9("no original function "+String(J)+" to wrap");return}if(!X){z9("no wrapper function"),z9(Error().stack);return}let Z=Y[J];if(typeof Z!=="function"||typeof X!=="function"){z9("original object and wrapper must be functions");return}let W=X(Z,J);return PI(W,"__original",Z),PI(W,"__unwrap",()=>{if(Y[J]===W)PI(Y,J,Z)}),PI(W,"__wrapped",!0),PI(Y,J,W),W};gr1.wrap=ab4;var sb4=(Y,J,X)=>{if(!Y){z9("must provide one or more modules to patch"),z9(Error().stack);return}else if(!Array.isArray(Y))Y=[Y];if(!(J&&Array.isArray(J))){z9("must provide one or more functions to wrap on modules");return}Y.forEach((Z)=>{J.forEach((W)=>{gr1.wrap(Z,W,X)})})};gr1.massWrap=sb4;var tb4=(Y,J)=>{if(!Y||!Y[J]){z9("no function to unwrap."),z9(Error().stack);return}let X=Y[J];if(!X.__unwrap)z9("no original to unwrap to -- has "+String(J)+" already been unwrapped?");else{X.__unwrap();return}};gr1.unwrap=tb4;var eb4=(Y,J)=>{if(!Y){z9("must provide one or more modules to patch"),z9(Error().stack);return}else if(!Array.isArray(Y))Y=[Y];if(!(J&&Array.isArray(J))){z9("must provide one or more functions to unwrap on modules");return}Y.forEach((X)=>{J.forEach((Z)=>{gr1.unwrap(X,Z)})})};gr1.massUnwrap=eb4;function LI(Y){if(Y&&Y.logger)if(typeof Y.logger!=="function")z9("new logger isn't a function, not replacing");else z9=Y.logger}gr1.default=LI;LI.wrap=gr1.wrap;LI.massWrap=gr1.massWrap;LI.unwrap=gr1.unwrap;LI.massUnwrap=gr1.massUnwrap});var lr1=q((dr1)=>{Object.defineProperty(dr1,"__esModule",{value:!0});dr1.InstrumentationAbstract=void 0;var oo=t(),Jy4=yo(),f2=io();class mr1{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(Y,J,X){this.instrumentationName=Y,this.instrumentationVersion=J,this.setConfig(X),this._diag=oo.diag.createComponentLogger({namespace:Y}),this._tracer=oo.trace.getTracer(Y,J),this._meter=oo.metrics.getMeter(Y,J),this._logger=Jy4.logs.getLogger(Y,J),this._updateMetricInstruments()}_wrap=f2.wrap;_unwrap=f2.unwrap;_massWrap=f2.massWrap;_massUnwrap=f2.massUnwrap;get meter(){return this._meter}setMeterProvider(Y){this._meter=Y.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(Y){this._logger=Y.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){let Y=this.init()??[];if(!Array.isArray(Y))return[Y];return Y}_updateMetricInstruments(){return}getConfig(){return this._config}setConfig(Y){this._config={enabled:!0,...Y}}setTracerProvider(Y){this._tracer=Y.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(Y,J,X,Z){if(!Y)return;try{Y(X,Z)}catch(W){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:J},W)}}}dr1.InstrumentationAbstract=mr1});var ro=q((wX8,pr1)=>{var Xy4=C("os");pr1.exports=Xy4.homedir||function(){var J=process.env.HOME,X=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;if(process.platform==="win32")return process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||J||null;if(process.platform==="darwin")return J||(X?"/Users/"+X:null);if(process.platform==="linux")return J||(process.getuid()===0?"/root":X?"/home/"+X:null);return J||null}});var ao=q((AX8,nr1)=>{nr1.exports=function(){var Y=Error.prepareStackTrace;Error.prepareStackTrace=function(X,Z){return Z};var J=Error().stack;return Error.prepareStackTrace=Y,J[2].getFileName()}});var ir1=q((PX8,MI)=>{var Zy4=process.platform==="win32",Wy4=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,so={};function $y4(Y){return Wy4.exec(Y).slice(1)}so.parse=function(Y){if(typeof Y!=="string")throw TypeError("Parameter 'pathString' must be a string, not "+typeof Y);var J=$y4(Y);if(!J||J.length!==5)throw TypeError("Invalid path '"+Y+"'");return{root:J[1],dir:J[0]===J[1]?J[0]:J[0].slice(0,-1),base:J[2],ext:J[4],name:J[3]}};var Gy4=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,to={};function Qy4(Y){return Gy4.exec(Y).slice(1)}to.parse=function(Y){if(typeof Y!=="string")throw TypeError("Parameter 'pathString' must be a string, not "+typeof Y);var J=Qy4(Y);if(!J||J.length!==5)throw TypeError("Invalid path '"+Y+"'");return{root:J[1],dir:J[0].slice(0,-1),base:J[2],ext:J[4],name:J[3]}};if(Zy4)MI.exports=so.parse;else MI.exports=to.parse;MI.exports.posix=to.parse;MI.exports.win32=so.parse});var eo=q((LX8,sr1)=>{var ar1=C("path"),or1=ar1.parse||ir1(),Uy4=/^([A-Za-z]:)/,zy4=/^\\\\/,rr1=function(J,X){var Z="/";if(Uy4.test(J))Z="";else if(zy4.test(J))Z="\\\\";var W=[J],$=or1(J);while($.dir!==W[W.length-1])W.push($.dir),$=or1($.dir);return W.reduce(function(G,Q){return G.concat(X.map(function(U){return ar1.resolve(Z,Q,U)}))},[])};sr1.exports=function(J,X,Z){var W=X&&X.moduleDirectory?[].concat(X.moduleDirectory):["node_modules"];if(X&&typeof X.paths==="function")return X.paths(Z,J,function(){return rr1(J,W)},X);var $=rr1(J,W);return X&&X.paths?$.concat(X.paths):$}});var Yr=q((MX8,tr1)=>{tr1.exports=function(Y,J){return J||{}}});var Ja1=q((EX8,Ya1)=>{var Hy4="Function.prototype.bind called on incompatible ",Oy4=Object.prototype.toString,Ky4=Math.max,By4="[object Function]",er1=function(J,X){var Z=[];for(var W=0;W<J.length;W+=1)Z[W]=J[W];for(var $=0;$<X.length;$+=1)Z[$+J.length]=X[$];return Z},qy4=function(J,X){var Z=[];for(var W=X||0,$=0;W<J.length;W+=1,$+=1)Z[$]=J[W];return Z},Fy4=function(Y,J){var X="";for(var Z=0;Z<Y.length;Z+=1)if(X+=Y[Z],Z+1<Y.length)X+=J;return X};Ya1.exports=function(J){var X=this;if(typeof X!=="function"||Oy4.apply(X)!==By4)throw TypeError(Hy4+X);var Z=qy4(arguments,1),W,$=function(){if(this instanceof W){var H=X.apply(this,er1(Z,arguments));if(Object(H)===H)return H;return this}return X.apply(J,er1(Z,arguments))},G=Ky4(0,X.length-Z.length),Q=[];for(var U=0;U<G;U++)Q[U]="$"+U;if(W=Function("binder","return function ("+Fy4(Q,",")+"){ return binder.apply(this,arguments); }")($),X.prototype){var z=function(){};z.prototype=X.prototype,W.prototype=new z,z.prototype=null}return W}});var Za1=q((TX8,Xa1)=>{var Vy4=Ja1();Xa1.exports=Function.prototype.bind||Vy4});var $a1=q((RX8,Wa1)=>{var Iy4=Function.prototype.call,Dy4=Object.prototype.hasOwnProperty,wy4=Za1();Wa1.exports=wy4.call(Iy4,Dy4)});var Ga1=q((NX8,Ay4)=>{Ay4.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3","node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var EI=q((SX8,za1)=>{var Py4=$a1();function Ly4(Y,J){var X=Y.split("."),Z=J.split(" "),W=Z.length>1?Z[0]:"=",$=(Z.length>1?Z[1]:Z[0]).split(".");for(var G=0;G<3;++G){var Q=parseInt(X[G]||0,10),U=parseInt($[G]||0,10);if(Q===U)continue;if(W==="<")return Q<U;if(W===">=")return Q>=U;return!1}return W===">="}function Qa1(Y,J){var X=J.split(/ ?&& ?/);if(X.length===0)return!1;for(var Z=0;Z<X.length;++Z)if(!Ly4(Y,X[Z]))return!1;return!0}function My4(Y,J){if(typeof J==="boolean")return J;var X=typeof Y>"u"?process.versions&&process.versions.node:Y;if(typeof X!=="string")throw TypeError(typeof Y>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(J&&typeof J==="object"){for(var Z=0;Z<J.length;++Z)if(Qa1(X,J[Z]))return!0;return!1}return Qa1(X,J)}var Ua1=Ga1();za1.exports=function(J,X){return Py4(Ua1,J)&&My4(X,Ua1[J])}});var Ka1=q((CX8,Oa1)=>{var cQ=C("fs"),Ey4=ro(),U8=C("path"),Ty4=ao(),Ry4=eo(),Ny4=Yr(),Sy4=EI(),Cy4=process.platform!=="win32"&&cQ.realpath&&typeof cQ.realpath.native==="function"?cQ.realpath.native:cQ.realpath,jy4=/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/,ky4=/^\w:[/\\]*$/,_y4=/[/\\]node_modules[/\\]*$/,Ha1=Ey4(),xy4=function(){return[U8.join(Ha1,".node_modules"),U8.join(Ha1,".node_libraries")]},fy4=function(J,X){cQ.stat(J,function(Z,W){if(!Z)return X(null,W.isFile()||W.isFIFO());if(Z.code==="ENOENT"||Z.code==="ENOTDIR")return X(null,!1);return X(Z)})},vy4=function(J,X){cQ.stat(J,function(Z,W){if(!Z)return X(null,W.isDirectory());if(Z.code==="ENOENT"||Z.code==="ENOTDIR")return X(null,!1);return X(Z)})},hy4=function(J,X){Cy4(J,function(Z,W){if(Z&&Z.code!=="ENOENT")X(Z);else X(null,Z?J:W)})},TI=function(J,X,Z,W){if(Z&&Z.preserveSymlinks===!1)J(X,W);else W(null,X)},by4=function(J,X,Z){J(X,function(W,$){if(W)Z(W);else try{var G=JSON.parse($);Z(null,G)}catch(Q){Z(null)}})},yy4=function(J,X,Z){var W=Ry4(X,Z,J);for(var $=0;$<W.length;$++)W[$]=U8.join(W[$],J);return W};Oa1.exports=function(J,X,Z){var W=Z,$=X;if(typeof X==="function")W=$,$={};if(typeof J!=="string"){var G=TypeError("Path must be a string.");return process.nextTick(function(){W(G)})}$=Ny4(J,$);var Q=$.isFile||fy4,U=$.isDirectory||vy4,z=$.readFile||cQ.readFile,H=$.realpath||hy4,O=$.readPackage||by4;if($.readFile&&$.readPackage){var K=TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){W(K)})}var B=$.packageIterator,F=$.extensions||[".js"],V=$.includeCoreModules!==!1,I=$.basedir||U8.dirname(Ty4()),D=$.filename||I;$.paths=$.paths||xy4();var L=U8.resolve(I);TI(H,L,$,function(k,r){if(k)W(k);else P(r)});var A;function P(k){if(jy4.test(J)){if(A=U8.resolve(k,J),J==="."||J===".."||J.slice(-1)==="/")A+="/";if(J.slice(-1)==="/"&&A===k)j(A,$.package,R);else N(A,$.package,R)}else if(V&&Sy4(J))return W(null,J);else b(J,k,function(r,p,S){if(r)W(r);else if(p)return TI(H,p,$,function(d,a){if(d)W(d);else W(null,a,S)});else{var c=Error("Cannot find module '"+J+"' from '"+D+"'");c.code="MODULE_NOT_FOUND",W(c)}})}function R(k,r,p){if(k)W(k);else if(r)W(null,r,p);else j(A,function(S,c,d){if(S)W(S);else if(c)TI(H,c,$,function(H1,F1){if(H1)W(H1);else W(null,F1,d)});else{var a=Error("Cannot find module '"+J+"' from '"+D+"'");a.code="MODULE_NOT_FOUND",W(a)}})}function N(k,r,p){var S=r,c=p;if(typeof S==="function")c=S,S=void 0;var d=[""].concat(F);a(d,k,S);function a(H1,F1,z1){if(H1.length===0)return c(null,void 0,z1);var y1=F1+H1[0],J1=z1;if(J1)l(null,J1);else v(U8.dirname(y1),l);function l(Q1,p1,W0){if(J1=p1,Q1)return c(Q1);if(W0&&J1&&$.pathFilter){var Q0=U8.relative(W0,y1),x=Q0.slice(0,Q0.length-H1[0].length),g=$.pathFilter(J1,F1,x);if(g)return a([""].concat(F.slice()),U8.resolve(W0,g),J1)}Q(y1,K1)}function K1(Q1,p1){if(Q1)return c(Q1);if(p1)return c(null,y1,J1);a(H1.slice(1),F1,J1)}}}function v(k,r){if(k===""||k==="/")return r(null);if(process.platform==="win32"&&ky4.test(k))return r(null);if(_y4.test(k))return r(null);TI(H,k,$,function(p,S){if(p)return v(U8.dirname(k),r);var c=U8.join(S,"package.json");Q(c,function(d,a){if(!a)return v(U8.dirname(k),r);O(z,c,function(H1,F1){if(H1)r(H1);var z1=F1;if(z1&&$.packageFilter)z1=$.packageFilter(z1,c);r(null,z1,k)})})})}function j(k,r,p){var S=p,c=r;if(typeof c==="function")S=c,c=$.package;TI(H,k,$,function(d,a){if(d)return S(d);var H1=U8.join(a,"package.json");Q(H1,function(F1,z1){if(F1)return S(F1);if(!z1)return N(U8.join(k,"index"),c,S);O(z,H1,function(y1,J1){if(y1)return S(y1);var l=J1;if(l&&$.packageFilter)l=$.packageFilter(l,H1);if(l&&l.main){if(typeof l.main!=="string"){var K1=TypeError("package \u201C"+l.name+"\u201D `main` must be a string");return K1.code="INVALID_PACKAGE_MAIN",S(K1)}if(l.main==="."||l.main==="./")l.main="index";N(U8.resolve(k,l.main),l,function(Q1,p1,W0){if(Q1)return S(Q1);if(p1)return S(null,p1,W0);if(!W0)return N(U8.join(k,"index"),W0,S);var Q0=U8.resolve(k,W0.main);j(Q0,W0,function(x,g,m){if(x)return S(x);if(g)return S(null,g,m);N(U8.join(k,"index"),m,S)})});return}N(U8.join(k,"/index"),l,S)})})})}function M(k,r){if(r.length===0)return k(null,void 0);var p=r[0];U(U8.dirname(p),S);function S(a,H1){if(a)return k(a);if(!H1)return M(k,r.slice(1));N(p,$.package,c)}function c(a,H1,F1){if(a)return k(a);if(H1)return k(null,H1,F1);j(p,$.package,d)}function d(a,H1,F1){if(a)return k(a);if(H1)return k(null,H1,F1);M(k,r.slice(1))}}function b(k,r,p){var S=function(){return yy4(k,r,$)};M(p,B?B(k,r,S,$):S())}}});var Ba1=q((jX8,gy4)=>{gy4.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3","node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var Ia1=q((kX8,Va1)=>{var uy4=EI(),qa1=Ba1(),Fa1={};for(RI in qa1)if(Object.prototype.hasOwnProperty.call(qa1,RI))Fa1[RI]=uy4(RI);var RI;Va1.exports=Fa1});var wa1=q((_X8,Da1)=>{var my4=EI();Da1.exports=function(J){return my4(J)}});var La1=q((xX8,Pa1)=>{var dy4=EI(),lQ=C("fs"),b5=C("path"),cy4=ro(),ly4=ao(),py4=eo(),ny4=Yr(),iy4=process.platform!=="win32"&&lQ.realpathSync&&typeof lQ.realpathSync.native==="function"?lQ.realpathSync.native:lQ.realpathSync,oy4=/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/,ry4=/^\w:[/\\]*$/,ay4=/[/\\]node_modules[/\\]*$/,Aa1=cy4(),sy4=function(){return[b5.join(Aa1,".node_modules"),b5.join(Aa1,".node_libraries")]},ty4=function(J){try{var X=lQ.statSync(J,{throwIfNoEntry:!1})}catch(Z){if(Z&&(Z.code==="ENOENT"||Z.code==="ENOTDIR"))return!1;throw Z}return!!X&&(X.isFile()||X.isFIFO())},ey4=function(J){try{var X=lQ.statSync(J,{throwIfNoEntry:!1})}catch(Z){if(Z&&(Z.code==="ENOENT"||Z.code==="ENOTDIR"))return!1;throw Z}return!!X&&X.isDirectory()},Yg4=function(J){try{return iy4(J)}catch(X){if(X.code!=="ENOENT")throw X}return J},NI=function(J,X,Z){if(Z&&Z.preserveSymlinks===!1)return J(X);return X},Jg4=function(J,X){var Z=J(X);try{var W=JSON.parse(Z);return W}catch($){}},Xg4=function(J,X,Z){var W=py4(X,Z,J);for(var $=0;$<W.length;$++)W[$]=b5.join(W[$],J);return W};Pa1.exports=function(J,X){if(typeof J!=="string")throw TypeError("Path must be a string.");var Z=ny4(J,X),W=Z.isFile||ty4,$=Z.readFileSync||lQ.readFileSync,G=Z.isDirectory||ey4,Q=Z.realpathSync||Yg4,U=Z.readPackageSync||Jg4;if(Z.readFileSync&&Z.readPackageSync)throw TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var z=Z.packageIterator,H=Z.extensions||[".js"],O=Z.includeCoreModules!==!1,K=Z.basedir||b5.dirname(ly4()),B=Z.filename||K;Z.paths=Z.paths||sy4();var F=NI(Q,b5.resolve(K),Z);if(oy4.test(J)){var V=b5.resolve(F,J);if(J==="."||J===".."||J.slice(-1)==="/")V+="/";var I=A(V)||R(V);if(I)return NI(Q,I,Z)}else if(O&&dy4(J))return J;else{var D=N(J,F);if(D)return NI(Q,D,Z)}var L=Error("Cannot find module '"+J+"' from '"+B+"'");throw L.code="MODULE_NOT_FOUND",L;function A(v){var j=P(b5.dirname(v));if(j&&j.dir&&j.pkg&&Z.pathFilter){var M=b5.relative(j.dir,v),b=Z.pathFilter(j.pkg,v,M);if(b)v=b5.resolve(j.dir,b)}if(W(v))return v;for(var k=0;k<H.length;k++){var r=v+H[k];if(W(r))return r}}function P(v){if(v===""||v==="/")return;if(process.platform==="win32"&&ry4.test(v))return;if(ay4.test(v))return;var j=b5.join(NI(Q,v,Z),"package.json");if(!W(j))return P(b5.dirname(v));var M=U($,j);if(M&&Z.packageFilter)M=Z.packageFilter(M,v);return{pkg:M,dir:v}}function R(v){var j=b5.join(NI(Q,v,Z),"/package.json");if(W(j)){try{var M=U($,j)}catch(p){}if(M&&Z.packageFilter)M=Z.packageFilter(M,v);if(M&&M.main){if(typeof M.main!=="string"){var b=TypeError("package \u201C"+M.name+"\u201D `main` must be a string");throw b.code="INVALID_PACKAGE_MAIN",b}if(M.main==="."||M.main==="./")M.main="index";try{var k=A(b5.resolve(v,M.main));if(k)return k;var r=R(b5.resolve(v,M.main));if(r)return r}catch(p){}}}return A(b5.join(v,"/index"))}function N(v,j){var M=function(){return Xg4(v,j,Z)},b=z?z(v,j,M,Z):M();for(var k=0;k<b.length;k++){var r=b[k];if(G(b5.dirname(r))){var p=A(r);if(p)return p;var S=R(r);if(S)return S}}}}});var Jr=q((fX8,Ma1)=>{var v2=Ka1();v2.core=Ia1();v2.isCore=wa1();v2.sync=La1();Ma1.exports=v2});var Ea1=q((vX8,Zg4)=>{Zg4.exports={name:"require-in-the-middle",version:"7.5.2",description:"Module to hook into the Node.js require function",main:"index.js",types:"types/index.d.ts",dependencies:{debug:"^4.3.5","module-details-from-path":"^1.0.3",resolve:"^1.22.8"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/nodejs/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:["types"],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/nodejs/require-in-the-middle/issues"},homepage:"https://github.com/nodejs/require-in-the-middle#readme",engines:{node:">=8.6.0"}}});var Wr=q((hX8,Zr)=>{var hO=C("path"),JJ=C("module"),d6=Kd()("require-in-the-middle"),Wg4=xF();Zr.exports=SI;Zr.exports.Hook=SI;var Xr,vO;if(JJ.isBuiltin)vO=JJ.isBuiltin;else if(JJ.builtinModules)vO=(Y)=>{if(Y.startsWith("node:"))return!0;if(Xr===void 0)Xr=new Set(JJ.builtinModules);return Xr.has(Y)};else{let Y=Jr(),[J,X]=process.versions.node.split(".").map(Number);if(J===8&&X<8)vO=(Z)=>{if(Z==="http2")return!0;return!!Y.core[Z]};else vO=(Z)=>{return!!Y.core[Z]}}var h2;function $g4(Y,J){if(!h2)if(C.resolve&&C.resolve.paths)h2=function(X,Z){return C.resolve(X,{paths:[Z]})};else{let X=Jr();h2=function(Z,W){return X.sync(Z,{basedir:W})}}return h2(Y,J)}var Gg4=/([/\\]index)?(\.js)?$/;class Ta1{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(Y,J){if(this._localCache.has(Y))return!0;else if(!J){let X=C.cache[Y];return!!(X&&(this._kRitmExports in X))}else return!1}get(Y,J){let X=this._localCache.get(Y);if(X!==void 0)return X;else if(!J){let Z=C.cache[Y];return Z&&Z[this._kRitmExports]}}set(Y,J,X){if(X)this._localCache.set(Y,J);else if(Y in C.cache)C.cache[Y][this._kRitmExports]=J;else d6('non-core module is unexpectedly not in require.cache: "%s"',Y),this._localCache.set(Y,J)}}function SI(Y,J,X){if(this instanceof SI===!1)return new SI(Y,J,X);if(typeof Y==="function")X=Y,Y=null,J=null;else if(typeof J==="function")X=J,J=null;if(typeof JJ._resolveFilename!=="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof JJ._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,Ea1().bugs.url);return}this._cache=new Ta1,this._unhooked=!1,this._origRequire=JJ.prototype.require;let Z=this,W=new Set,$=J?J.internals===!0:!1,G=Array.isArray(Y);if(d6("registering require hook"),this._require=JJ.prototype.require=function(U){if(Z._unhooked===!0)return d6("ignoring require call - module is soft-unhooked"),Z._origRequire.apply(this,arguments);return Q.call(this,arguments,!1)},typeof process.getBuiltinModule==="function")this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(U){if(Z._unhooked===!0)return d6("ignoring process.getBuiltinModule call - module is soft-unhooked"),Z._origGetBuiltinModule.apply(this,arguments);return Q.call(this,arguments,!0)};function Q(U,z){let H=U[0],O=vO(H),K;if(O){if(K=H,H.startsWith("node:")){let L=H.slice(5);if(vO(L))K=L}}else if(z)return d6("call to process.getBuiltinModule with unknown built-in id"),Z._origGetBuiltinModule.apply(this,U);else try{K=JJ._resolveFilename(H,this)}catch(L){return d6('Module._resolveFilename("%s") threw %j, calling original Module.require',H,L.message),Z._origRequire.apply(this,U)}let B,F;if(d6("processing %s module require('%s'): %s",O===!0?"core":"non-core",H,K),Z._cache.has(K,O)===!0)return d6("returning already patched cached module: %s",K),Z._cache.get(K,O);let V=W.has(K);if(V===!1)W.add(K);let I=z?Z._origGetBuiltinModule.apply(this,U):Z._origRequire.apply(this,U);if(V===!0)return d6("module is in the process of being patched already - ignoring: %s",K),I;if(W.delete(K),O===!0){if(G===!0&&Y.includes(K)===!1)return d6("ignoring core module not on whitelist: %s",K),I;B=K}else if(G===!0&&Y.includes(K)){let L=hO.parse(K);B=L.name,F=L.dir}else{let L=Wg4(K);if(L===void 0)return d6("could not parse filename: %s",K),I;B=L.name,F=L.basedir;let A=Qg4(L);d6("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",B,H,A,F);let P=!1;if(G){if(!H.startsWith(".")&&Y.includes(H))B=H,P=!0;if(!Y.includes(B)&&!Y.includes(A))return I;if(Y.includes(A)&&A!==B)B=A,P=!0}if(!P){let R;try{R=$g4(B,F)}catch(N){return d6("could not resolve module: %s",B),Z._cache.set(K,I,O),I}if(R!==K)if($===!0)B=B+hO.sep+hO.relative(F,K),d6("preparing to process require of internal file: %s",B);else return d6("ignoring require of non-main module file: %s",R),Z._cache.set(K,I,O),I}}Z._cache.set(K,I,O),d6("calling require hook: %s",B);let D=X(I,B,F);return Z._cache.set(K,D,O),d6("returning module: %s",B),D}}SI.prototype.unhook=function(){if(this._unhooked=!0,this._require===JJ.prototype.require)JJ.prototype.require=this._origRequire,d6("require unhook successful");else d6("require unhook unsuccessful");if(process.getBuiltinModule!==void 0)if(this._getBuiltinModule===process.getBuiltinModule)process.getBuiltinModule=this._origGetBuiltinModule,d6("process.getBuiltinModule unhook successful");else d6("process.getBuiltinModule unhook unsuccessful")};function Qg4(Y){let J=hO.sep!=="/"?Y.path.split(hO.sep).join("/"):Y.path;return hO.posix.join(Y.name,J).replace(Gg4,"")}});var Ca1=q((Na1)=>{Object.defineProperty(Na1,"__esModule",{value:!0});Na1.ModuleNameTrie=Na1.ModuleNameSeparator=void 0;Na1.ModuleNameSeparator="/";class $r{hooks=[];children=new Map}class Ra1{_trie=new $r;_counter=0;insert(Y){let J=this._trie;for(let X of Y.moduleName.split(Na1.ModuleNameSeparator)){let Z=J.children.get(X);if(!Z)Z=new $r,J.children.set(X,Z);J=Z}J.hooks.push({hook:Y,insertedId:this._counter++})}search(Y,{maintainInsertionOrder:J,fullOnly:X}={}){let Z=this._trie,W=[],$=!0;for(let G of Y.split(Na1.ModuleNameSeparator)){let Q=Z.children.get(G);if(!Q){$=!1;break}if(!X)W.push(...Q.hooks);Z=Q}if(X&&$)W.push(...Z.hooks);if(W.length===0)return[];if(W.length===1)return[W[0].hook];if(J)W.sort((G,Q)=>G.insertedId-Q.insertedId);return W.map(({hook:G})=>G)}}Na1.ModuleNameTrie=Ra1});var xa1=q((ka1)=>{Object.defineProperty(ka1,"__esModule",{value:!0});ka1.RequireInTheMiddleSingleton=void 0;var Ug4=Wr(),ja1=C("path"),Qr=Ca1(),zg4=["afterEach","after","beforeEach","before","describe","it"].every((Y)=>{return typeof global[Y]==="function"});class b2{_moduleNameTrie=new Qr.ModuleNameTrie;static _instance;constructor(){this._initialize()}_initialize(){new Ug4.Hook(null,{internals:!0},(Y,J,X)=>{let Z=Hg4(J),W=this._moduleNameTrie.search(Z,{maintainInsertionOrder:!0,fullOnly:X===void 0});for(let{onRequire:$}of W)Y=$(Y,J,X);return Y})}register(Y,J){let X={moduleName:Y,onRequire:J};return this._moduleNameTrie.insert(X),X}static getInstance(){if(zg4)return new b2;return this._instance=this._instance??new b2}}ka1.RequireInTheMiddleSingleton=b2;function Hg4(Y){return ja1.sep!==Qr.ModuleNameSeparator?Y.split(ja1.sep).join(Qr.ModuleNameSeparator):Y}});var ga1=q((Fg4)=>{var fa1=[],Ur=new WeakMap,va1=new WeakMap,ha1=new Map,ba1=[],Og4={set(Y,J,X){return Ur.get(Y)[J](X)},get(Y,J){if(J===Symbol.toStringTag)return"Module";let X=va1.get(Y)[J];if(typeof X==="function")return X()},defineProperty(Y,J,X){if(!("value"in X))throw Error("Getters/setters are not supported for exports property descriptors.");return Ur.get(Y)[J](X.value)}};function Kg4(Y,J,X,Z,W){ha1.set(Y,W),Ur.set(J,X),va1.set(J,Z);let $=new Proxy(J,Og4);fa1.forEach((G)=>G(Y,$)),ba1.push([Y,$])}var ya1=!1;function Bg4(){return ya1}function qg4(Y){ya1=Y}Fg4.register=Kg4;Fg4.importHooks=fa1;Fg4.specifiers=ha1;Fg4.toHook=ba1;Fg4.getExperimentalPatchInternals=Bg4;Fg4.setExperimentalPatchInternals=qg4});var pa1=q((mX8,bO)=>{var ua1=C("path"),Lg4=xF(),{fileURLToPath:ma1}=C("url"),{MessageChannel:Mg4}=C("worker_threads"),{importHooks:zr,specifiers:Eg4,toHook:Tg4,getExperimentalPatchInternals:Rg4}=ga1();function ca1(Y){zr.push(Y),Tg4.forEach(([J,X])=>Y(J,X))}function la1(Y){let J=zr.indexOf(Y);if(J>-1)zr.splice(J,1)}function da1(Y,J,X,Z){let W=Y(J,X,Z);if(W&&W!==J)J.default=W}var Hr;function Ng4(){let{port1:Y,port2:J}=new Mg4,X=0,Z;Hr=(Q)=>{X++,Y.postMessage(Q)},Y.on("message",()=>{if(X--,Z&&X<=0)Z()}).unref();function W(){let Q=setInterval(()=>{},1000),U=new Promise((z)=>{Z=z}).then(()=>{clearInterval(Q)});if(X===0)Z();return U}let $=J;return{registerOptions:{data:{addHookMessagePort:$,include:[]},transferList:[$]},addHookMessagePort:$,waitForAllMessagesAcknowledged:W}}function CI(Y,J,X){if(this instanceof CI===!1)return new CI(Y,J,X);if(typeof Y==="function")X=Y,Y=null,J=null;else if(typeof J==="function")X=J,J=null;let Z=J?J.internals===!0:!1;if(Hr&&Array.isArray(Y))Hr(Y);this._iitmHook=(W,$)=>{let G=W,Q=W.startsWith("node:"),U;if(Q)W=W.replace(/^node:/,"");else{if(W.startsWith("file://"))try{W=ma1(W)}catch(H){}let z=Lg4(W);if(z)W=z.name,U=z.basedir}if(Y){for(let z of Y)if(z===W){if(U){if(Z)W=W+ua1.sep+ua1.relative(U,ma1(G));else if(!Rg4()&&!U.endsWith(Eg4.get(G)))continue}da1(X,$,W,U)}}else da1(X,$,W,U)},ca1(this._iitmHook)}CI.prototype.unhook=function(){la1(this._iitmHook)};bO.exports=CI;bO.exports.Hook=CI;bO.exports.addHook=ca1;bO.exports.removeHook=la1;bO.exports.createAddHookMessageChannel=Ng4});var Or=q((na1)=>{Object.defineProperty(na1,"__esModule",{value:!0});na1.isWrapped=na1.safeExecuteInTheMiddleAsync=na1.safeExecuteInTheMiddle=void 0;function Sg4(Y,J,X){let Z,W;try{W=Y()}catch($){Z=$}finally{if(J(Z,W),Z&&!X)throw Z;return W}}na1.safeExecuteInTheMiddle=Sg4;async function Cg4(Y,J,X){let Z,W;try{W=await Y()}catch($){Z=$}finally{if(J(Z,W),Z&&!X)throw Z;return W}}na1.safeExecuteInTheMiddleAsync=Cg4;function jg4(Y){return typeof Y==="function"&&typeof Y.__original==="function"&&typeof Y.__unwrap==="function"&&Y.__wrapped===!0}na1.isWrapped=jg4});var ea1=q((sa1)=>{Object.defineProperty(sa1,"__esModule",{value:!0});sa1.InstrumentationBase=void 0;var jI=C("path"),oa1=C("util"),xg4=yr1(),Kr=io(),fg4=lr1(),vg4=xa1(),hg4=pa1(),kI=t(),bg4=Wr(),yg4=C("fs"),gg4=Or();class aa1 extends fg4.InstrumentationAbstract{_modules;_hooks=[];_requireInTheMiddleSingleton=vg4.RequireInTheMiddleSingleton.getInstance();_enabled=!1;constructor(Y,J,X){super(Y,J,X);let Z=this.init();if(Z&&!Array.isArray(Z))Z=[Z];if(this._modules=Z||[],this._config.enabled)this.enable()}_wrap=(Y,J,X)=>{if((0,gg4.isWrapped)(Y[J]))this._unwrap(Y,J);if(!oa1.types.isProxy(Y))return(0,Kr.wrap)(Y,J,X);else{let Z=(0,Kr.wrap)(Object.assign({},Y),J,X);return Object.defineProperty(Y,J,{value:Z}),Z}};_unwrap=(Y,J)=>{if(!oa1.types.isProxy(Y))return(0,Kr.unwrap)(Y,J);else return Object.defineProperty(Y,J,{value:Y[J]})};_massWrap=(Y,J,X)=>{if(!Y){kI.diag.error("must provide one or more modules to patch");return}else if(!Array.isArray(Y))Y=[Y];if(!(J&&Array.isArray(J))){kI.diag.error("must provide one or more functions to wrap on modules");return}Y.forEach((Z)=>{J.forEach((W)=>{this._wrap(Z,W,X)})})};_massUnwrap=(Y,J)=>{if(!Y){kI.diag.error("must provide one or more modules to patch");return}else if(!Array.isArray(Y))Y=[Y];if(!(J&&Array.isArray(J))){kI.diag.error("must provide one or more functions to wrap on modules");return}Y.forEach((X)=>{J.forEach((Z)=>{this._unwrap(X,Z)})})};_warnOnPreloadedModules(){this._modules.forEach((Y)=>{let{name:J}=Y;try{let X=C.resolve(J);if(C.cache[X])this._diag.warn(`Module ${J} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${J}`)}catch{}})}_extractPackageVersion(Y){try{let J=(0,yg4.readFileSync)(jI.join(Y,"package.json"),{encoding:"utf8"}),X=JSON.parse(J).version;return typeof X==="string"?X:void 0}catch(J){kI.diag.warn("Failed extracting version",Y)}return}_onRequire(Y,J,X,Z){if(!Z){if(typeof Y.patch==="function"){if(Y.moduleExports=J,this._enabled)return this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:Y.name}),Y.patch(J)}return J}let W=this._extractPackageVersion(Z);if(Y.moduleVersion=W,Y.name===X){if(ra1(Y.supportedVersions,W,Y.includePrerelease)){if(typeof Y.patch==="function"){if(Y.moduleExports=J,this._enabled)return this._diag.debug("Applying instrumentation patch for module on require hook",{module:Y.name,version:Y.moduleVersion,baseDir:Z}),Y.patch(J,Y.moduleVersion)}}return J}let $=Y.files??[],G=jI.normalize(X);return $.filter((U)=>U.name===G).filter((U)=>ra1(U.supportedVersions,W,Y.includePrerelease)).reduce((U,z)=>{if(z.moduleExports=U,this._enabled)return this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:Y.name,version:Y.moduleVersion,fileName:z.name,baseDir:Z}),z.patch(U,Y.moduleVersion);return U},J)}enable(){if(this._enabled)return;if(this._enabled=!0,this._hooks.length>0){for(let Y of this._modules){if(typeof Y.patch==="function"&&Y.moduleExports)this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:Y.name,version:Y.moduleVersion}),Y.patch(Y.moduleExports,Y.moduleVersion);for(let J of Y.files)if(J.moduleExports)this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:Y.name,version:Y.moduleVersion,fileName:J.name}),J.patch(J.moduleExports,Y.moduleVersion)}return}this._warnOnPreloadedModules();for(let Y of this._modules){let J=($,G,Q)=>{if(!Q&&jI.isAbsolute(G)){let U=jI.parse(G);G=U.name,Q=U.dir}return this._onRequire(Y,$,G,Q)},X=($,G,Q)=>{return this._onRequire(Y,$,G,Q)},Z=jI.isAbsolute(Y.name)?new bg4.Hook([Y.name],{internals:!0},X):this._requireInTheMiddleSingleton.register(Y.name,X);this._hooks.push(Z);let W=new hg4.Hook([Y.name],{internals:!1},J);this._hooks.push(W)}}disable(){if(!this._enabled)return;this._enabled=!1;for(let Y of this._modules){if(typeof Y.unpatch==="function"&&Y.moduleExports)this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:Y.name,version:Y.moduleVersion}),Y.unpatch(Y.moduleExports,Y.moduleVersion);for(let J of Y.files)if(J.moduleExports)this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:Y.name,version:Y.moduleVersion,fileName:J.name}),J.unpatch(J.moduleExports,Y.moduleVersion)}}isEnabled(){return this._enabled}}sa1.InstrumentationBase=aa1;function ra1(Y,J,X){if(typeof J>"u")return Y.includes("*");return Y.some((Z)=>{return(0,xg4.satisfies)(J,Z,{includePrerelease:X})})}});var Ys1=q((Br)=>{Object.defineProperty(Br,"__esModule",{value:!0});Br.normalize=void 0;var ug4=C("path");Object.defineProperty(Br,"normalize",{enumerable:!0,get:function(){return ug4.normalize}})});var Js1=q((y2)=>{Object.defineProperty(y2,"__esModule",{value:!0});y2.normalize=y2.InstrumentationBase=void 0;var dg4=ea1();Object.defineProperty(y2,"InstrumentationBase",{enumerable:!0,get:function(){return dg4.InstrumentationBase}});var cg4=Ys1();Object.defineProperty(y2,"normalize",{enumerable:!0,get:function(){return cg4.normalize}})});var qr=q((g2)=>{Object.defineProperty(g2,"__esModule",{value:!0});g2.normalize=g2.InstrumentationBase=void 0;var Xs1=Js1();Object.defineProperty(g2,"InstrumentationBase",{enumerable:!0,get:function(){return Xs1.InstrumentationBase}});Object.defineProperty(g2,"normalize",{enumerable:!0,get:function(){return Xs1.normalize}})});var Gs1=q((Ws1)=>{Object.defineProperty(Ws1,"__esModule",{value:!0});Ws1.InstrumentationNodeModuleDefinition=void 0;class Zs1{name;supportedVersions;patch;unpatch;files;constructor(Y,J,X,Z,W){this.name=Y,this.supportedVersions=J,this.patch=X,this.unpatch=Z,this.files=W||[]}}Ws1.InstrumentationNodeModuleDefinition=Zs1});var Hs1=q((Us1)=>{Object.defineProperty(Us1,"__esModule",{value:!0});Us1.InstrumentationNodeModuleFile=void 0;var ng4=qr();class Qs1{supportedVersions;patch;unpatch;name;constructor(Y,J,X,Z){this.supportedVersions=J,this.patch=X,this.unpatch=Z,this.name=(0,ng4.normalize)(Y)}}Us1.InstrumentationNodeModuleFile=Qs1});var qs1=q((Ks1)=>{Object.defineProperty(Ks1,"__esModule",{value:!0});Ks1.semconvStabilityFromStr=Ks1.SemconvStability=void 0;var u2;(function(Y){Y[Y.STABLE=1]="STABLE",Y[Y.OLD=2]="OLD",Y[Y.DUPLICATE=3]="DUPLICATE"})(u2=Ks1.SemconvStability||(Ks1.SemconvStability={}));function ig4(Y,J){let X=u2.OLD,Z=J?.split(",").map((W)=>W.trim()).filter((W)=>W!=="");for(let W of Z??[])if(W.toLowerCase()===Y+"/dup"){X=u2.DUPLICATE;break}else if(W.toLowerCase()===Y)X=u2.STABLE;return X}Ks1.semconvStabilityFromStr=ig4});var Vs1=q((XJ)=>{Object.defineProperty(XJ,"__esModule",{value:!0});XJ.semconvStabilityFromStr=XJ.SemconvStability=XJ.safeExecuteInTheMiddleAsync=XJ.safeExecuteInTheMiddle=XJ.isWrapped=XJ.InstrumentationNodeModuleFile=XJ.InstrumentationNodeModuleDefinition=XJ.InstrumentationBase=XJ.registerInstrumentations=void 0;var og4=Nr1();Object.defineProperty(XJ,"registerInstrumentations",{enumerable:!0,get:function(){return og4.registerInstrumentations}});var rg4=qr();Object.defineProperty(XJ,"InstrumentationBase",{enumerable:!0,get:function(){return rg4.InstrumentationBase}});var ag4=Gs1();Object.defineProperty(XJ,"InstrumentationNodeModuleDefinition",{enumerable:!0,get:function(){return ag4.InstrumentationNodeModuleDefinition}});var sg4=Hs1();Object.defineProperty(XJ,"InstrumentationNodeModuleFile",{enumerable:!0,get:function(){return sg4.InstrumentationNodeModuleFile}});var Fr=Or();Object.defineProperty(XJ,"isWrapped",{enumerable:!0,get:function(){return Fr.isWrapped}});Object.defineProperty(XJ,"safeExecuteInTheMiddle",{enumerable:!0,get:function(){return Fr.safeExecuteInTheMiddle}});Object.defineProperty(XJ,"safeExecuteInTheMiddleAsync",{enumerable:!0,get:function(){return Fr.safeExecuteInTheMiddleAsync}});var Fs1=qs1();Object.defineProperty(XJ,"SemconvStability",{enumerable:!0,get:function(){return Fs1.SemconvStability}});Object.defineProperty(XJ,"semconvStabilityFromStr",{enumerable:!0,get:function(){return Fs1.semconvStabilityFromStr}})});var ws1=q((Is1)=>{Object.defineProperty(Is1,"__esModule",{value:!0});Is1.getClientAttributes=void 0;var _I=X0();function eg4(Y,J){return{[_I.SEMATTRS_DB_SYSTEM]:_I.DBSYSTEMVALUES_REDIS,[_I.SEMATTRS_NET_PEER_NAME]:J?.socket?.host,[_I.SEMATTRS_NET_PEER_PORT]:J?.socket?.port,[_I.SEMATTRS_DB_CONNECTION_STRING]:Yu4(Y,J?.url)}}Is1.getClientAttributes=eg4;function Yu4(Y,J){if(typeof J!=="string"||!J)return;try{let X=new URL(J);return X.searchParams.delete("user_pwd"),X.username="",X.password="",X.href}catch(X){Y.error("failed to sanitize redis connection url",X)}return}});var Ls1=q((As1)=>{Object.defineProperty(As1,"__esModule",{value:!0});As1.defaultDbStatementSerializer=void 0;var Ju4=[{regex:/^ECHO/i,args:0},{regex:/^(LPUSH|MSET|PFA|PUBLISH|RPUSH|SADD|SET|SPUBLISH|XADD|ZADD)/i,args:1},{regex:/^(HSET|HMSET|LSET|LINSERT)/i,args:2},{regex:/^(ACL|BIT|B[LRZ]|CLIENT|CLUSTER|CONFIG|COMMAND|DECR|DEL|EVAL|EX|FUNCTION|GEO|GET|HINCR|HMGET|HSCAN|INCR|L[TRLM]|MEMORY|P[EFISTU]|RPOP|S[CDIMORSU]|XACK|X[CDGILPRT]|Z[CDILMPRS])/i,args:-1}],Xu4=(Y,J)=>{if(Array.isArray(J)&&J.length){let X=Ju4.find(({regex:W})=>{return W.test(Y)})?.args??0,Z=X>=0?J.slice(0,X):J;if(J.length>Z.length)Z.push(`[${J.length-X} other arguments]`);return`${Y} ${Z.join(" ")}`}return Y};As1.defaultDbStatementSerializer=Xu4});var Ts1=q((Ms1)=>{Object.defineProperty(Ms1,"__esModule",{value:!0});Ms1.PACKAGE_NAME=Ms1.PACKAGE_VERSION=void 0;Ms1.PACKAGE_VERSION="0.49.0";Ms1.PACKAGE_NAME="@opentelemetry/instrumentation-redis-4"});var _s1=q((js1)=>{Object.defineProperty(js1,"__esModule",{value:!0});js1.RedisInstrumentation=void 0;var e7=t(),n8=Vs1(),Rs1=ws1(),Wu4=Ls1(),Ns1=Ts1(),$u4=X0(),xI=Symbol("opentelemetry.instrumentation.redis.open_spans"),Ss1=Symbol("opentelemetry.instrumentation.redis.multi_command_options"),Cs1={requireParentSpan:!1};class m2 extends n8.InstrumentationBase{static COMPONENT="redis";constructor(Y={}){super(Ns1.PACKAGE_NAME,Ns1.PACKAGE_VERSION,{...Cs1,...Y})}setConfig(Y={}){super.setConfig({...Cs1,...Y})}init(){return[this._getInstrumentationNodeModuleDefinition("@redis/client"),this._getInstrumentationNodeModuleDefinition("@node-redis/client")]}_getInstrumentationNodeModuleDefinition(Y){let J=new n8.InstrumentationNodeModuleFile(`${Y}/dist/lib/commander.js`,["^1.0.0"],(W,$)=>{let G=W.transformCommandArguments;if(!G)return this._diag.error("internal instrumentation error, missing transformCommandArguments function"),W;let Q=$?.startsWith("1.0.")?"extendWithCommands":"attachCommands";if((0,n8.isWrapped)(W?.[Q]))this._unwrap(W,Q);return this._wrap(W,Q,this._getPatchExtendWithCommands(G)),W},(W)=>{if((0,n8.isWrapped)(W?.extendWithCommands))this._unwrap(W,"extendWithCommands");if((0,n8.isWrapped)(W?.attachCommands))this._unwrap(W,"attachCommands")}),X=new n8.InstrumentationNodeModuleFile(`${Y}/dist/lib/client/multi-command.js`,["^1.0.0"],(W)=>{let $=W?.default?.prototype;if((0,n8.isWrapped)($?.exec))this._unwrap($,"exec");if(this._wrap($,"exec",this._getPatchMultiCommandsExec()),(0,n8.isWrapped)($?.addCommand))this._unwrap($,"addCommand");return this._wrap($,"addCommand",this._getPatchMultiCommandsAddCommand()),W},(W)=>{let $=W?.default?.prototype;if((0,n8.isWrapped)($?.exec))this._unwrap($,"exec");if((0,n8.isWrapped)($?.addCommand))this._unwrap($,"addCommand")}),Z=new n8.InstrumentationNodeModuleFile(`${Y}/dist/lib/client/index.js`,["^1.0.0"],(W)=>{let $=W?.default?.prototype;if($?.multi){if((0,n8.isWrapped)($?.multi))this._unwrap($,"multi");this._wrap($,"multi",this._getPatchRedisClientMulti())}if($?.MULTI){if((0,n8.isWrapped)($?.MULTI))this._unwrap($,"MULTI");this._wrap($,"MULTI",this._getPatchRedisClientMulti())}if((0,n8.isWrapped)($?.sendCommand))this._unwrap($,"sendCommand");return this._wrap($,"sendCommand",this._getPatchRedisClientSendCommand()),this._wrap($,"connect",this._getPatchedClientConnect()),W},(W)=>{let $=W?.default?.prototype;if((0,n8.isWrapped)($?.multi))this._unwrap($,"multi");if((0,n8.isWrapped)($?.MULTI))this._unwrap($,"MULTI");if((0,n8.isWrapped)($?.sendCommand))this._unwrap($,"sendCommand")});return new n8.InstrumentationNodeModuleDefinition(Y,["^1.0.0"],(W)=>{return W},()=>{},[J,X,Z])}_getPatchExtendWithCommands(Y){let J=this;return function(Z){return function($){if($?.BaseClass?.name!=="RedisClient")return Z.apply(this,arguments);let G=$.executor;return $.executor=function(Q,U){let z=Y(Q,U).args;return J._traceClientCommand(G,this,arguments,z)},Z.apply(this,arguments)}}}_getPatchMultiCommandsExec(){let Y=this;return function(X){return function(){let W=X.apply(this,arguments);if(typeof W?.then!=="function")return Y._diag.error("got non promise result when patching RedisClientMultiCommand.exec"),W;return W.then(($)=>{let G=this[xI];return Y._endSpansWithRedisReplies(G,$),$}).catch(($)=>{let G=this[xI];if(!G)Y._diag.error("cannot find open spans to end for redis multi command");else{let Q=$.constructor.name==="MultiErrorReply"?$.replies:Array(G.length).fill($);Y._endSpansWithRedisReplies(G,Q)}return Promise.reject($)})}}}_getPatchMultiCommandsAddCommand(){let Y=this;return function(X){return function(W){return Y._traceClientCommand(X,this,arguments,W)}}}_getPatchRedisClientMulti(){return function(J){return function(){let Z=J.apply(this,arguments);return Z[Ss1]=this.options,Z}}}_getPatchRedisClientSendCommand(){let Y=this;return function(X){return function(W){return Y._traceClientCommand(X,this,arguments,W)}}}_getPatchedClientConnect(){let Y=this;return function(X){return function(){let W=this.options,$=(0,Rs1.getClientAttributes)(Y._diag,W),G=Y.tracer.startSpan(`${m2.COMPONENT}-connect`,{kind:e7.SpanKind.CLIENT,attributes:$});return e7.context.with(e7.trace.setSpan(e7.context.active(),G),()=>{return X.apply(this)}).then((U)=>{return G.end(),U}).catch((U)=>{return G.recordException(U),G.setStatus({code:e7.SpanStatusCode.ERROR,message:U.message}),G.end(),Promise.reject(U)})}}}_traceClientCommand(Y,J,X,Z){if(e7.trace.getSpan(e7.context.active())===void 0&&this.getConfig().requireParentSpan)return Y.apply(J,X);let $=J.options||J[Ss1],G=Z[0],Q=Z.slice(1),U=this.getConfig().dbStatementSerializer||Wu4.defaultDbStatementSerializer,z=(0,Rs1.getClientAttributes)(this._diag,$);try{let K=U(G,Q);if(K!=null)z[$u4.SEMATTRS_DB_STATEMENT]=K}catch(K){this._diag.error("dbStatementSerializer throw an exception",K,{commandName:G})}let H=this.tracer.startSpan(`${m2.COMPONENT}-${G}`,{kind:e7.SpanKind.CLIENT,attributes:z}),O=e7.context.with(e7.trace.setSpan(e7.context.active(),H),()=>{return Y.apply(J,X)});if(typeof O?.then==="function")O.then((K)=>{this._endSpanWithResponse(H,G,Q,K,void 0)},(K)=>{this._endSpanWithResponse(H,G,Q,null,K)});else{let K=O;K[xI]=K[xI]||[],K[xI].push({span:H,commandName:G,commandArgs:Q})}return O}_endSpansWithRedisReplies(Y,J){if(!Y)return this._diag.error("cannot find open spans to end for redis multi command");if(J.length!==Y.length)return this._diag.error("number of multi command spans does not match response from redis");for(let X=0;X<Y.length;X++){let{span:Z,commandName:W,commandArgs:$}=Y[X],G=J[X],[Q,U]=G instanceof Error?[null,G]:[G,void 0];this._endSpanWithResponse(Z,W,$,Q,U)}}_endSpanWithResponse(Y,J,X,Z,W){let{responseHook:$}=this.getConfig();if(!W&&$)try{$(Y,J,X,Z)}catch(G){this._diag.error("responseHook throw an exception",G)}if(W)Y.recordException(W),Y.setStatus({code:e7.SpanStatusCode.ERROR,message:W?.message});Y.end()}}js1.RedisInstrumentation=m2});var xs1=q((Vr)=>{Object.defineProperty(Vr,"__esModule",{value:!0});Vr.RedisInstrumentation=void 0;var Gu4=_s1();Object.defineProperty(Vr,"RedisInstrumentation",{enumerable:!0,get:function(){return Gu4.RedisInstrumentation}})});var hs1=q((fs1)=>{Object.defineProperty(fs1,"__esModule",{value:!0});fs1.isLogAttributeValue=void 0;function Uu4(Y){return Ir(Y,new WeakSet)}fs1.isLogAttributeValue=Uu4;function Ir(Y,J){if(Y==null)return!0;if(typeof Y==="string"||typeof Y==="number"||typeof Y==="boolean")return!0;if(Y instanceof Uint8Array)return!0;if(typeof Y==="object"){if(J.has(Y))return!1;if(J.add(Y),Array.isArray(Y))return Y.every((Z)=>Ir(Z,J));let X=Y;if(X.constructor!==Object&&X.constructor!==void 0)return!1;return Object.values(X).every((Z)=>Ir(Z,J))}return!1}});var ms1=q((gs1)=>{Object.defineProperty(gs1,"__esModule",{value:!0});gs1.LogRecordImpl=void 0;var pQ=t(),bs1=k1(),zu4=hs1();class ys1{hrTime;hrTimeObserved;spanContext;resource;instrumentationScope;attributes={};_severityText;_severityNumber;_body;_eventName;totalAttributesCount=0;_isReadonly=!1;_logRecordLimits;set severityText(Y){if(this._isLogRecordReadonly())return;this._severityText=Y}get severityText(){return this._severityText}set severityNumber(Y){if(this._isLogRecordReadonly())return;this._severityNumber=Y}get severityNumber(){return this._severityNumber}set body(Y){if(this._isLogRecordReadonly())return;this._body=Y}get body(){return this._body}get eventName(){return this._eventName}set eventName(Y){if(this._isLogRecordReadonly())return;this._eventName=Y}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}constructor(Y,J,X){let{timestamp:Z,observedTimestamp:W,eventName:$,severityNumber:G,severityText:Q,body:U,attributes:z={},context:H}=X,O=Date.now();if(this.hrTime=(0,bs1.timeInputToHrTime)(Z??O),this.hrTimeObserved=(0,bs1.timeInputToHrTime)(W??O),H){let K=pQ.trace.getSpanContext(H);if(K&&pQ.isSpanContextValid(K))this.spanContext=K}this.severityNumber=G,this.severityText=Q,this.body=U,this.resource=Y.resource,this.instrumentationScope=J,this._logRecordLimits=Y.logRecordLimits,this._eventName=$,this.setAttributes(z)}setAttribute(Y,J){if(this._isLogRecordReadonly())return this;if(Y.length===0)return pQ.diag.warn(`Invalid attribute key: ${Y}`),this;if(!(0,zu4.isLogAttributeValue)(J))return pQ.diag.warn(`Invalid attribute value set for key: ${Y}`),this;if(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,Y)){if(this.droppedAttributesCount===1)pQ.diag.warn("Dropping extra attributes.");return this}return this.attributes[Y]=this._truncateToSize(J),this}setAttributes(Y){for(let[J,X]of Object.entries(Y))this.setAttribute(J,X);return this}setBody(Y){return this.body=Y,this}setEventName(Y){return this.eventName=Y,this}setSeverityNumber(Y){return this.severityNumber=Y,this}setSeverityText(Y){return this.severityText=Y,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(Y){let J=this._logRecordLimits.attributeValueLengthLimit;if(J<=0)return pQ.diag.warn(`Attribute value limit must be positive, got ${J}`),Y;if(Y==null)return Y;if(typeof Y==="string")return this._truncateToLimitUtil(Y,J);if(Y instanceof Uint8Array)return Y;if(Array.isArray(Y))return Y.map((X)=>this._truncateToSize(X));if(typeof Y==="object"){let X={};for(let[Z,W]of Object.entries(Y))X[Z]=this._truncateToSize(W);return X}return Y}_truncateToLimitUtil(Y,J){if(Y.length<=J)return Y;return Y.substring(0,J)}_isLogRecordReadonly(){if(this._isReadonly)pQ.diag.warn("Can not execute the operation on emitted log record");return this._isReadonly}}gs1.LogRecordImpl=ys1});var ns1=q((ls1)=>{Object.defineProperty(ls1,"__esModule",{value:!0});ls1.Logger=void 0;var ds1=F5(),fI=t(),Hu4=ms1();class cs1{instrumentationScope;_sharedState;_loggerConfig;constructor(Y,J){this.instrumentationScope=Y,this._sharedState=J,this._loggerConfig=this._sharedState.getLoggerConfig(this.instrumentationScope)}emit(Y){let J=this._loggerConfig,X=Y.context||fI.context.active(),Z=Y.severityNumber??ds1.SeverityNumber.UNSPECIFIED;if(Z!==ds1.SeverityNumber.UNSPECIFIED&&Z<J.minimumSeverity)return;if(J.traceBased){let $=fI.trace.getSpanContext(X);if($&&(0,fI.isSpanContextValid)($)){if(($.traceFlags&fI.TraceFlags.SAMPLED)!==fI.TraceFlags.SAMPLED)return}}let W=new Hu4.LogRecordImpl(this._sharedState,this.instrumentationScope,{context:X,...Y});this._sharedState.activeProcessor.onEmit(W,X),W._makeReadonly()}}ls1.Logger=cs1});var as1=q((os1)=>{Object.defineProperty(os1,"__esModule",{value:!0});os1.NoopLogRecordProcessor=void 0;class is1{forceFlush(){return Promise.resolve()}onEmit(Y,J){}shutdown(){return Promise.resolve()}}os1.NoopLogRecordProcessor=is1});var Yt1=q((ts1)=>{Object.defineProperty(ts1,"__esModule",{value:!0});ts1.MultiLogRecordProcessor=void 0;var Ou4=k1();class ss1{processors;forceFlushTimeoutMillis;constructor(Y,J){this.processors=Y,this.forceFlushTimeoutMillis=J}async forceFlush(){let Y=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map((J)=>(0,Ou4.callWithTimeout)(J.forceFlush(),Y)))}onEmit(Y,J){this.processors.forEach((X)=>X.onEmit(Y,J))}async shutdown(){await Promise.all(this.processors.map((Y)=>Y.shutdown()))}}ts1.MultiLogRecordProcessor=ss1});var Zt1=q((Jt1)=>{Object.defineProperty(Jt1,"__esModule",{value:!0});Jt1.getInstrumentationScopeKey=void 0;function Ku4(Y){return`${Y.name}@${Y.version||""}:${Y.schemaUrl||""}`}Jt1.getInstrumentationScopeKey=Ku4});var Ut1=q(($t1)=>{Object.defineProperty($t1,"__esModule",{value:!0});$t1.LoggerProviderSharedState=$t1.DEFAULT_LOGGER_CONFIGURATOR=void 0;var Bu4=F5(),qu4=as1(),Fu4=Yt1(),Vu4=Zt1(),Iu4={disabled:!1,minimumSeverity:Bu4.SeverityNumber.UNSPECIFIED,traceBased:!1},Du4=()=>({...Iu4});$t1.DEFAULT_LOGGER_CONFIGURATOR=Du4;class Wt1{loggers=new Map;activeProcessor;registeredLogRecordProcessors=[];resource;forceFlushTimeoutMillis;logRecordLimits;processors;_loggerConfigurator;_loggerConfigs=new Map;constructor(Y,J,X,Z,W){if(this.resource=Y,this.forceFlushTimeoutMillis=J,this.logRecordLimits=X,this.processors=Z,Z.length>0)this.registeredLogRecordProcessors=Z,this.activeProcessor=new Fu4.MultiLogRecordProcessor(this.registeredLogRecordProcessors,this.forceFlushTimeoutMillis);else this.activeProcessor=new qu4.NoopLogRecordProcessor;this._loggerConfigurator=W??$t1.DEFAULT_LOGGER_CONFIGURATOR}getLoggerConfig(Y){let J=(0,Vu4.getInstrumentationScopeKey)(Y),X=this._loggerConfigs.get(J);if(X)return X;return X=this._loggerConfigurator(Y),this._loggerConfigs.set(J,X),X}}$t1.LoggerProviderSharedState=Wt1});var qt1=q((Ot1)=>{Object.defineProperty(Ot1,"__esModule",{value:!0});Ot1.LoggerProvider=Ot1.DEFAULT_LOGGER_NAME=void 0;var d2=t(),wu4=F5(),Au4=PX(),Pu4=k1(),Lu4=ns1(),zt1=Ut1();Ot1.DEFAULT_LOGGER_NAME="unknown";class Ht1{_shutdownOnce;_sharedState;constructor(Y={}){let J={resource:Y.resource??(0,Au4.defaultResource)(),forceFlushTimeoutMillis:Y.forceFlushTimeoutMillis??30000,logRecordLimits:{attributeCountLimit:Y.logRecordLimits?.attributeCountLimit??128,attributeValueLengthLimit:Y.logRecordLimits?.attributeValueLengthLimit??1/0},loggerConfigurator:Y.loggerConfigurator??zt1.DEFAULT_LOGGER_CONFIGURATOR,processors:Y.processors??[]};this._sharedState=new zt1.LoggerProviderSharedState(J.resource,J.forceFlushTimeoutMillis,J.logRecordLimits,J.processors,J.loggerConfigurator),this._shutdownOnce=new Pu4.BindOnceFuture(this._shutdown,this)}getLogger(Y,J,X){if(this._shutdownOnce.isCalled)return d2.diag.warn("A shutdown LoggerProvider cannot provide a Logger"),wu4.NOOP_LOGGER;if(!Y)d2.diag.warn("Logger requested without instrumentation scope name.");let Z=Y||Ot1.DEFAULT_LOGGER_NAME,W=`${Z}@${J||""}:${X?.schemaUrl||""}`;if(!this._sharedState.loggers.has(W))this._sharedState.loggers.set(W,new Lu4.Logger({name:Z,version:J,schemaUrl:X?.schemaUrl},this._sharedState));return this._sharedState.loggers.get(W)}forceFlush(){if(this._shutdownOnce.isCalled)return d2.diag.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise;return this._sharedState.activeProcessor.forceFlush()}shutdown(){if(this._shutdownOnce.isCalled)return d2.diag.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise;return this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}}Ot1.LoggerProvider=Ht1});var wt1=q((It1)=>{Object.defineProperty(It1,"__esModule",{value:!0});It1.ConsoleLogRecordExporter=void 0;var Ft1=k1();class Vt1{export(Y,J){this._sendLogRecords(Y,J)}shutdown(){return Promise.resolve()}_exportInfo(Y){return{resource:{attributes:Y.resource.attributes},instrumentationScope:Y.instrumentationScope,timestamp:(0,Ft1.hrTimeToMicroseconds)(Y.hrTime),traceId:Y.spanContext?.traceId,spanId:Y.spanContext?.spanId,traceFlags:Y.spanContext?.traceFlags,severityText:Y.severityText,severityNumber:Y.severityNumber,eventName:Y.eventName,body:Y.body,attributes:Y.attributes}}_sendLogRecords(Y,J){for(let X of Y)console.dir(this._exportInfo(X),{depth:3});J?.({code:Ft1.ExportResultCode.SUCCESS})}}It1.ConsoleLogRecordExporter=Vt1});var Mt1=q((Pt1)=>{Object.defineProperty(Pt1,"__esModule",{value:!0});Pt1.SimpleLogRecordProcessor=void 0;var yO=k1();class At1{_exporter;_shutdownOnce;_unresolvedExports;constructor(Y){this._exporter=Y,this._shutdownOnce=new yO.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}onEmit(Y){if(this._shutdownOnce.isCalled)return;let J=()=>yO.internal._export(this._exporter,[Y]).then((X)=>{if(X.code!==yO.ExportResultCode.SUCCESS)(0,yO.globalErrorHandler)(X.error??Error(`SimpleLogRecordProcessor: log record export failed (status ${X})`))}).catch(yO.globalErrorHandler);if(Y.resource.asyncAttributesPending){let X=Y.resource.waitForAsyncAttributes?.().then(()=>{return this._unresolvedExports.delete(X),J()},yO.globalErrorHandler);if(X!=null)this._unresolvedExports.add(X)}else J()}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports))}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}Pt1.SimpleLogRecordProcessor=At1});var St1=q((Rt1)=>{Object.defineProperty(Rt1,"__esModule",{value:!0});Rt1.InMemoryLogRecordExporter=void 0;var Et1=k1();class Tt1{_finishedLogRecords=[];_stopped=!1;export(Y,J){if(this._stopped)return J({code:Et1.ExportResultCode.FAILED,error:Error("Exporter has been stopped")});this._finishedLogRecords.push(...Y),J({code:Et1.ExportResultCode.SUCCESS})}shutdown(){return this._stopped=!0,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[]}}Rt1.InMemoryLogRecordExporter=Tt1});var _t1=q((jt1)=>{Object.defineProperty(jt1,"__esModule",{value:!0});jt1.BatchLogRecordProcessorBase=void 0;var Mu4=t(),J$=k1();class Ct1{_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_exporter;_isExporting=!1;_finishedLogRecords=[];_timer;_shutdownOnce;constructor(Y,J){if(this._exporter=Y,this._maxExportBatchSize=J?.maxExportBatchSize??512,this._maxQueueSize=J?.maxQueueSize??2048,this._scheduledDelayMillis=J?.scheduledDelayMillis??5000,this._exportTimeoutMillis=J?.exportTimeoutMillis??30000,this._shutdownOnce=new J$.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize)Mu4.diag.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize}onEmit(Y){if(this._shutdownOnce.isCalled)return;this._addToBuffer(Y)}forceFlush(){if(this._shutdownOnce.isCalled)return this._shutdownOnce.promise;return this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(Y){if(this._finishedLogRecords.length>=this._maxQueueSize)return;this._finishedLogRecords.push(Y),this._maybeStartTimer()}_flushAll(){return new Promise((Y,J)=>{let X=[],Z=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let W=0;W<Z;W++)X.push(this._flushOneBatch());Promise.all(X).then(()=>{Y()}).catch(J)})}_flushOneBatch(){if(this._clearTimer(),this._finishedLogRecords.length===0)return Promise.resolve();return(0,J$.callWithTimeout)(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis)}_maybeStartTimer(){if(this._isExporting)return;let Y=()=>{this._isExporting=!0,this._flushOneBatch().then(()=>{if(this._isExporting=!1,this._finishedLogRecords.length>0)this._clearTimer(),this._maybeStartTimer()}).catch((J)=>{this._isExporting=!1,(0,J$.globalErrorHandler)(J)})};if(this._finishedLogRecords.length>=this._maxExportBatchSize)return Y();if(this._timer!==void 0)return;if(this._timer=setTimeout(()=>Y(),this._scheduledDelayMillis),typeof this._timer!=="number")this._timer.unref()}_clearTimer(){if(this._timer!==void 0)clearTimeout(this._timer),this._timer=void 0}_export(Y){let J=()=>J$.internal._export(this._exporter,Y).then((Z)=>{if(Z.code!==J$.ExportResultCode.SUCCESS)(0,J$.globalErrorHandler)(Z.error??Error(`BatchLogRecordProcessor: log record export failed (status ${Z})`))}).catch(J$.globalErrorHandler),X=[];for(let Z=0;Z<Y.length;Z++){let W=Y[Z].resource;if(W.asyncAttributesPending&&typeof W.waitForAsyncAttributes==="function")X.push(W.waitForAsyncAttributes())}if(X.length===0)return J();else return Promise.all(X).then(J,J$.globalErrorHandler)}}jt1.BatchLogRecordProcessorBase=Ct1});var ht1=q((ft1)=>{Object.defineProperty(ft1,"__esModule",{value:!0});ft1.BatchLogRecordProcessor=void 0;var Eu4=_t1();class xt1 extends Eu4.BatchLogRecordProcessorBase{onShutdown(){}}ft1.BatchLogRecordProcessor=xt1});var bt1=q((Dr)=>{Object.defineProperty(Dr,"__esModule",{value:!0});Dr.BatchLogRecordProcessor=void 0;var Tu4=ht1();Object.defineProperty(Dr,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return Tu4.BatchLogRecordProcessor}})});var yt1=q((wr)=>{Object.defineProperty(wr,"__esModule",{value:!0});wr.BatchLogRecordProcessor=void 0;var Nu4=bt1();Object.defineProperty(wr,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return Nu4.BatchLogRecordProcessor}})});var mt1=q((gt1)=>{Object.defineProperty(gt1,"__esModule",{value:!0});gt1.createLoggerConfigurator=void 0;var Cu4=F5(),c2={disabled:!1,minimumSeverity:Cu4.SeverityNumber.UNSPECIFIED,traceBased:!1};function ju4(Y){return(J)=>{let X=J.name;for(let{pattern:Z,config:W}of Y)if(ku4(X,Z))return{disabled:W.disabled??c2.disabled,minimumSeverity:W.minimumSeverity??c2.minimumSeverity,traceBased:W.traceBased??c2.traceBased};return{...c2}}}gt1.createLoggerConfigurator=ju4;function ku4(Y,J){if(J===Y)return!0;if(J.includes("*")){let X=J.split("*").map((W)=>W.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join(".*");return new RegExp(`^${X}$`).test(Y)}return!1}});var vI=q((X$)=>{Object.defineProperty(X$,"__esModule",{value:!0});X$.createLoggerConfigurator=X$.BatchLogRecordProcessor=X$.InMemoryLogRecordExporter=X$.SimpleLogRecordProcessor=X$.ConsoleLogRecordExporter=X$.LoggerProvider=void 0;var _u4=qt1();Object.defineProperty(X$,"LoggerProvider",{enumerable:!0,get:function(){return _u4.LoggerProvider}});var xu4=wt1();Object.defineProperty(X$,"ConsoleLogRecordExporter",{enumerable:!0,get:function(){return xu4.ConsoleLogRecordExporter}});var fu4=Mt1();Object.defineProperty(X$,"SimpleLogRecordProcessor",{enumerable:!0,get:function(){return fu4.SimpleLogRecordProcessor}});var vu4=St1();Object.defineProperty(X$,"InMemoryLogRecordExporter",{enumerable:!0,get:function(){return vu4.InMemoryLogRecordExporter}});var hu4=yt1();Object.defineProperty(X$,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return hu4.BatchLogRecordProcessor}});var bu4=mt1();Object.defineProperty(X$,"createLoggerConfigurator",{enumerable:!0,get:function(){return bu4.createLoggerConfigurator}})});var Ar=q((ct1)=>{Object.defineProperty(ct1,"__esModule",{value:!0});ct1.AbstractAsyncHooksContextManager=void 0;var gu4=C("events"),uu4=["addListener","on","once","prependListener","prependOnceListener"];class dt1{bind(Y,J){if(J instanceof gu4.EventEmitter)return this._bindEventEmitter(Y,J);if(typeof J==="function")return this._bindFunction(Y,J);return J}_bindFunction(Y,J){let X=this,Z=function(...W){return X.with(Y,()=>J.apply(this,W))};return Object.defineProperty(Z,"length",{enumerable:!1,configurable:!0,writable:!1,value:J.length}),Z}_bindEventEmitter(Y,J){if(this._getPatchMap(J)!==void 0)return J;if(this._createPatchMap(J),uu4.forEach((Z)=>{if(J[Z]===void 0)return;J[Z]=this._patchAddListener(J,J[Z],Y)}),typeof J.removeListener==="function")J.removeListener=this._patchRemoveListener(J,J.removeListener);if(typeof J.off==="function")J.off=this._patchRemoveListener(J,J.off);if(typeof J.removeAllListeners==="function")J.removeAllListeners=this._patchRemoveAllListeners(J,J.removeAllListeners);return J}_patchRemoveListener(Y,J){let X=this;return function(Z,W){let $=X._getPatchMap(Y)?.[Z];if($===void 0)return J.call(this,Z,W);let G=$.get(W);return J.call(this,Z,G||W)}}_patchRemoveAllListeners(Y,J){let X=this;return function(Z){let W=X._getPatchMap(Y);if(W!==void 0){if(arguments.length===0)X._createPatchMap(Y);else if(W[Z]!==void 0)delete W[Z]}return J.apply(this,arguments)}}_patchAddListener(Y,J,X){let Z=this;return function(W,$){if(Z._wrapped)return J.call(this,W,$);let G=Z._getPatchMap(Y);if(G===void 0)G=Z._createPatchMap(Y);let Q=G[W];if(Q===void 0)Q=new WeakMap,G[W]=Q;let U=Z.bind(X,$);Q.set($,U),Z._wrapped=!0;try{return J.call(this,W,U)}finally{Z._wrapped=!1}}}_createPatchMap(Y){let J=Object.create(null);return Y[this._kOtListeners]=J,J}_getPatchMap(Y){return Y[this._kOtListeners]}_kOtListeners=Symbol("OtListeners");_wrapped=!1}ct1.AbstractAsyncHooksContextManager=dt1});var ot1=q((nt1)=>{Object.defineProperty(nt1,"__esModule",{value:!0});nt1.AsyncHooksContextManager=void 0;var mu4=t(),du4=C("async_hooks"),cu4=Ar();class pt1 extends cu4.AbstractAsyncHooksContextManager{_asyncHook;_contexts=new Map;_stack=[];constructor(){super();this._asyncHook=du4.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){return this._stack[this._stack.length-1]??mu4.ROOT_CONTEXT}with(Y,J,X,...Z){this._enterContext(Y);try{return J.call(X,...Z)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(Y,J){if(J==="TIMERWRAP")return;let X=this._stack[this._stack.length-1];if(X!==void 0)this._contexts.set(Y,X)}_destroy(Y){this._contexts.delete(Y)}_before(Y){let J=this._contexts.get(Y);if(J!==void 0)this._enterContext(J)}_after(){this._exitContext()}_enterContext(Y){this._stack.push(Y)}_exitContext(){this._stack.pop()}}nt1.AsyncHooksContextManager=pt1});var tt1=q((at1)=>{Object.defineProperty(at1,"__esModule",{value:!0});at1.AsyncLocalStorageContextManager=void 0;var lu4=t(),pu4=C("async_hooks"),nu4=Ar();class rt1 extends nu4.AbstractAsyncHooksContextManager{_asyncLocalStorage;constructor(){super();this._asyncLocalStorage=new pu4.AsyncLocalStorage}active(){return this._asyncLocalStorage.getStore()??lu4.ROOT_CONTEXT}with(Y,J,X,...Z){let W=X==null?J:J.bind(X);return this._asyncLocalStorage.run(Y,W,...Z)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}at1.AsyncLocalStorageContextManager=rt1});var Pr=q((l2)=>{Object.defineProperty(l2,"__esModule",{value:!0});l2.AsyncLocalStorageContextManager=l2.AsyncHooksContextManager=void 0;var iu4=ot1();Object.defineProperty(l2,"AsyncHooksContextManager",{enumerable:!0,get:function(){return iu4.AsyncHooksContextManager}});var ou4=tt1();Object.defineProperty(l2,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return ou4.AsyncLocalStorageContextManager}})});var Je1=q((et1)=>{Object.defineProperty(et1,"__esModule",{value:!0});et1.ExceptionEventName=void 0;et1.ExceptionEventName="exception"});var $e1=q((Ze1)=>{Object.defineProperty(Ze1,"__esModule",{value:!0});Ze1.SpanImpl=void 0;var YY=t(),y5=k1(),nQ=X0(),au4=Je1();class Xe1{_spanContext;kind;parentSpanContext;attributes={};links=[];events=[];startTime;resource;instrumentationScope;_droppedAttributesCount=0;_droppedEventsCount=0;_droppedLinksCount=0;_attributesCount=0;name;status={code:YY.SpanStatusCode.UNSET};endTime=[0,0];_ended=!1;_duration=[-1,-1];_spanProcessor;_spanLimits;_attributeValueLengthLimit;_performanceStartTime;_performanceOffset;_startTimeProvided;constructor(Y){let J=Date.now();if(this._spanContext=Y.spanContext,this._performanceStartTime=y5.otperformance.now(),this._performanceOffset=J-(this._performanceStartTime+y5.otperformance.timeOrigin),this._startTimeProvided=Y.startTime!=null,this._spanLimits=Y.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=Y.spanProcessor,this.name=Y.name,this.parentSpanContext=Y.parentSpanContext,this.kind=Y.kind,this.links=Y.links||[],this.startTime=this._getTime(Y.startTime??J),this.resource=Y.resource,this.instrumentationScope=Y.scope,Y.attributes!=null)this.setAttributes(Y.attributes);this._spanProcessor.onStart(this,Y.context)}spanContext(){return this._spanContext}setAttribute(Y,J){if(J==null||this._isSpanEnded())return this;if(Y.length===0)return YY.diag.warn(`Invalid attribute key: ${Y}`),this;if(!(0,y5.isAttributeValue)(J))return YY.diag.warn(`Invalid attribute value set for key: ${Y}`),this;let{attributeCountLimit:X}=this._spanLimits,Z=!Object.prototype.hasOwnProperty.call(this.attributes,Y);if(X!==void 0&&this._attributesCount>=X&&Z)return this._droppedAttributesCount++,this;if(this.attributes[Y]=this._truncateToSize(J),Z)this._attributesCount++;return this}setAttributes(Y){for(let[J,X]of Object.entries(Y))this.setAttribute(J,X);return this}addEvent(Y,J,X){if(this._isSpanEnded())return this;let{eventCountLimit:Z}=this._spanLimits;if(Z===0)return YY.diag.warn("No events allowed."),this._droppedEventsCount++,this;if(Z!==void 0&&this.events.length>=Z){if(this._droppedEventsCount===0)YY.diag.debug("Dropping extra events.");this.events.shift(),this._droppedEventsCount++}if((0,y5.isTimeInput)(J)){if(!(0,y5.isTimeInput)(X))X=J;J=void 0}let W=(0,y5.sanitizeAttributes)(J);return this.events.push({name:Y,attributes:W,time:this._getTime(X),droppedAttributesCount:0}),this}addLink(Y){return this.links.push(Y),this}addLinks(Y){return this.links.push(...Y),this}setStatus(Y){if(this._isSpanEnded())return this;if(this.status={...Y},this.status.message!=null&&typeof Y.message!=="string")YY.diag.warn(`Dropping invalid status.message of type '${typeof Y.message}', expected 'string'`),delete this.status.message;return this}updateName(Y){if(this._isSpanEnded())return this;return this.name=Y,this}end(Y){if(this._isSpanEnded()){YY.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}if(this.endTime=this._getTime(Y),this._duration=(0,y5.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0)YY.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0];if(this._droppedEventsCount>0)YY.diag.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`);if(this._spanProcessor.onEnding)this._spanProcessor.onEnding(this);this._ended=!0,this._spanProcessor.onEnd(this)}_getTime(Y){if(typeof Y==="number"&&Y<=y5.otperformance.now())return(0,y5.hrTime)(Y+this._performanceOffset);if(typeof Y==="number")return(0,y5.millisToHrTime)(Y);if(Y instanceof Date)return(0,y5.millisToHrTime)(Y.getTime());if((0,y5.isTimeInputHrTime)(Y))return Y;if(this._startTimeProvided)return(0,y5.millisToHrTime)(Date.now());let J=y5.otperformance.now()-this._performanceStartTime;return(0,y5.addHrTimes)(this.startTime,(0,y5.millisToHrTime)(J))}isRecording(){return this._ended===!1}recordException(Y,J){let X={};if(typeof Y==="string")X[nQ.ATTR_EXCEPTION_MESSAGE]=Y;else if(Y){if(Y.code)X[nQ.ATTR_EXCEPTION_TYPE]=Y.code.toString();else if(Y.name)X[nQ.ATTR_EXCEPTION_TYPE]=Y.name;if(Y.message)X[nQ.ATTR_EXCEPTION_MESSAGE]=Y.message;if(Y.stack)X[nQ.ATTR_EXCEPTION_STACKTRACE]=Y.stack}if(X[nQ.ATTR_EXCEPTION_TYPE]||X[nQ.ATTR_EXCEPTION_MESSAGE])this.addEvent(au4.ExceptionEventName,X,J);else YY.diag.warn(`Failed to record an exception ${Y}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let Y=Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);YY.diag.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,Y)}return this._ended}_truncateToLimitUtil(Y,J){if(Y.length<=J)return Y;return Y.substring(0,J)}_truncateToSize(Y){let J=this._attributeValueLengthLimit;if(J<=0)return YY.diag.warn(`Attribute value limit must be positive, got ${J}`),Y;if(typeof Y==="string")return this._truncateToLimitUtil(Y,J);if(Array.isArray(Y))return Y.map((X)=>typeof X==="string"?this._truncateToLimitUtil(X,J):X);return Y}}Ze1.SpanImpl=Xe1});var hI=q((Ge1)=>{Object.defineProperty(Ge1,"__esModule",{value:!0});Ge1.SamplingDecision=void 0;var su4;(function(Y){Y[Y.NOT_RECORD=0]="NOT_RECORD",Y[Y.RECORD=1]="RECORD",Y[Y.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(su4=Ge1.SamplingDecision||(Ge1.SamplingDecision={}))});var p2=q((Ue1)=>{Object.defineProperty(Ue1,"__esModule",{value:!0});Ue1.AlwaysOffSampler=void 0;var tu4=hI();class Qe1{shouldSample(){return{decision:tu4.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}Ue1.AlwaysOffSampler=Qe1});var n2=q((Oe1)=>{Object.defineProperty(Oe1,"__esModule",{value:!0});Oe1.AlwaysOnSampler=void 0;var eu4=hI();class He1{shouldSample(){return{decision:eu4.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}Oe1.AlwaysOnSampler=He1});var Er=q((Fe1)=>{Object.defineProperty(Fe1,"__esModule",{value:!0});Fe1.ParentBasedSampler=void 0;var i2=t(),Ym4=k1(),Be1=p2(),Mr=n2();class qe1{_root;_remoteParentSampled;_remoteParentNotSampled;_localParentSampled;_localParentNotSampled;constructor(Y){if(this._root=Y.root,!this._root)(0,Ym4.globalErrorHandler)(Error("ParentBasedSampler must have a root sampler configured")),this._root=new Mr.AlwaysOnSampler;this._remoteParentSampled=Y.remoteParentSampled??new Mr.AlwaysOnSampler,this._remoteParentNotSampled=Y.remoteParentNotSampled??new Be1.AlwaysOffSampler,this._localParentSampled=Y.localParentSampled??new Mr.AlwaysOnSampler,this._localParentNotSampled=Y.localParentNotSampled??new Be1.AlwaysOffSampler}shouldSample(Y,J,X,Z,W,$){let G=i2.trace.getSpanContext(Y);if(!G||!(0,i2.isSpanContextValid)(G))return this._root.shouldSample(Y,J,X,Z,W,$);if(G.isRemote){if(G.traceFlags&i2.TraceFlags.SAMPLED)return this._remoteParentSampled.shouldSample(Y,J,X,Z,W,$);return this._remoteParentNotSampled.shouldSample(Y,J,X,Z,W,$)}if(G.traceFlags&i2.TraceFlags.SAMPLED)return this._localParentSampled.shouldSample(Y,J,X,Z,W,$);return this._localParentNotSampled.shouldSample(Y,J,X,Z,W,$)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}Fe1.ParentBasedSampler=qe1});var Tr=q((we1)=>{Object.defineProperty(we1,"__esModule",{value:!0});we1.TraceIdRatioBasedSampler=void 0;var Jm4=t(),Ie1=hI();class De1{_ratio;_upperBound;constructor(Y=0){this._ratio=this._normalize(Y),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(Y,J){return{decision:(0,Jm4.isValidTraceId)(J)&&this._accumulate(J)<this._upperBound?Ie1.SamplingDecision.RECORD_AND_SAMPLED:Ie1.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(Y){if(typeof Y!=="number"||isNaN(Y))return 0;return Y>=1?1:Y<=0?0:Y}_accumulate(Y){let J=0;for(let X=0;X<Y.length/8;X++){let Z=X*8,W=parseInt(Y.slice(Z,Z+8),16);J=(J^W)>>>0}return J}}we1.TraceIdRatioBasedSampler=De1});var Sr=q((Te1)=>{Object.defineProperty(Te1,"__esModule",{value:!0});Te1.buildSamplerFromEnv=Te1.loadDefaultConfig=void 0;var Nr=t(),_X=k1(),Pe1=p2(),Rr=n2(),o2=Er(),Le1=Tr(),xX;(function(Y){Y.AlwaysOff="always_off",Y.AlwaysOn="always_on",Y.ParentBasedAlwaysOff="parentbased_always_off",Y.ParentBasedAlwaysOn="parentbased_always_on",Y.ParentBasedTraceIdRatio="parentbased_traceidratio",Y.TraceIdRatio="traceidratio"})(xX||(xX={}));var r2=1;function Xm4(){return{sampler:Ee1(),forceFlushTimeoutMillis:30000,generalLimits:{attributeValueLengthLimit:(0,_X.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:(0,_X.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT")??128},spanLimits:{attributeValueLengthLimit:(0,_X.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:(0,_X.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??128,linkCountLimit:(0,_X.getNumberFromEnv)("OTEL_SPAN_LINK_COUNT_LIMIT")??128,eventCountLimit:(0,_X.getNumberFromEnv)("OTEL_SPAN_EVENT_COUNT_LIMIT")??128,attributePerEventCountLimit:(0,_X.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT")??128,attributePerLinkCountLimit:(0,_X.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT")??128}}}Te1.loadDefaultConfig=Xm4;function Ee1(){let Y=(0,_X.getStringFromEnv)("OTEL_TRACES_SAMPLER")??xX.ParentBasedAlwaysOn;switch(Y){case xX.AlwaysOn:return new Rr.AlwaysOnSampler;case xX.AlwaysOff:return new Pe1.AlwaysOffSampler;case xX.ParentBasedAlwaysOn:return new o2.ParentBasedSampler({root:new Rr.AlwaysOnSampler});case xX.ParentBasedAlwaysOff:return new o2.ParentBasedSampler({root:new Pe1.AlwaysOffSampler});case xX.TraceIdRatio:return new Le1.TraceIdRatioBasedSampler(Me1());case xX.ParentBasedTraceIdRatio:return new o2.ParentBasedSampler({root:new Le1.TraceIdRatioBasedSampler(Me1())});default:return Nr.diag.error(`OTEL_TRACES_SAMPLER value "${Y}" invalid, defaulting to "${xX.ParentBasedAlwaysOn}".`),new o2.ParentBasedSampler({root:new Rr.AlwaysOnSampler})}}Te1.buildSamplerFromEnv=Ee1;function Me1(){let Y=(0,_X.getNumberFromEnv)("OTEL_TRACES_SAMPLER_ARG");if(Y==null)return Nr.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${r2}.`),r2;if(Y<0||Y>1)return Nr.diag.error(`OTEL_TRACES_SAMPLER_ARG=${Y} was given, but it is out of range ([0..1]), defaulting to ${r2}.`),r2;return Y}});var Cr=q((Se1)=>{Object.defineProperty(Se1,"__esModule",{value:!0});Se1.reconfigureLimits=Se1.mergeConfig=Se1.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=Se1.DEFAULT_ATTRIBUTE_COUNT_LIMIT=void 0;var Ne1=Sr(),a2=k1();Se1.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;Se1.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;function Wm4(Y){let J={sampler:(0,Ne1.buildSamplerFromEnv)()},X=(0,Ne1.loadDefaultConfig)(),Z=Object.assign({},X,J,Y);return Z.generalLimits=Object.assign({},X.generalLimits,Y.generalLimits||{}),Z.spanLimits=Object.assign({},X.spanLimits,Y.spanLimits||{}),Z}Se1.mergeConfig=Wm4;function $m4(Y){let J=Object.assign({},Y.spanLimits);return J.attributeCountLimit=Y.spanLimits?.attributeCountLimit??Y.generalLimits?.attributeCountLimit??(0,a2.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??(0,a2.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT")??Se1.DEFAULT_ATTRIBUTE_COUNT_LIMIT,J.attributeValueLengthLimit=Y.spanLimits?.attributeValueLengthLimit??Y.generalLimits?.attributeValueLengthLimit??(0,a2.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??(0,a2.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??Se1.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},Y,{spanLimits:J})}Se1.reconfigureLimits=$m4});var ve1=q((xe1)=>{Object.defineProperty(xe1,"__esModule",{value:!0});xe1.BatchSpanProcessorBase=void 0;var gO=t(),zZ=k1();class _e1{_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_exporter;_isExporting=!1;_finishedSpans=[];_timer;_shutdownOnce;_droppedSpansCount=0;constructor(Y,J){if(this._exporter=Y,this._maxExportBatchSize=typeof J?.maxExportBatchSize==="number"?J.maxExportBatchSize:(0,zZ.getNumberFromEnv)("OTEL_BSP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=typeof J?.maxQueueSize==="number"?J.maxQueueSize:(0,zZ.getNumberFromEnv)("OTEL_BSP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=typeof J?.scheduledDelayMillis==="number"?J.scheduledDelayMillis:(0,zZ.getNumberFromEnv)("OTEL_BSP_SCHEDULE_DELAY")??5000,this._exportTimeoutMillis=typeof J?.exportTimeoutMillis==="number"?J.exportTimeoutMillis:(0,zZ.getNumberFromEnv)("OTEL_BSP_EXPORT_TIMEOUT")??30000,this._shutdownOnce=new zZ.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize)gO.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize}forceFlush(){if(this._shutdownOnce.isCalled)return this._shutdownOnce.promise;return this._flushAll()}onStart(Y,J){}onEnd(Y){if(this._shutdownOnce.isCalled)return;if((Y.spanContext().traceFlags&gO.TraceFlags.SAMPLED)===0)return;this._addToBuffer(Y)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>{return this.onShutdown()}).then(()=>{return this._flushAll()}).then(()=>{return this._exporter.shutdown()})}_addToBuffer(Y){if(this._finishedSpans.length>=this._maxQueueSize){if(this._droppedSpansCount===0)gO.diag.debug("maxQueueSize reached, dropping spans");this._droppedSpansCount++;return}if(this._droppedSpansCount>0)gO.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0;this._finishedSpans.push(Y),this._maybeStartTimer()}_flushAll(){return new Promise((Y,J)=>{let X=[],Z=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let W=0,$=Z;W<$;W++)X.push(this._flushOneBatch());Promise.all(X).then(()=>{Y()}).catch(J)})}_flushOneBatch(){if(this._clearTimer(),this._finishedSpans.length===0)return Promise.resolve();return new Promise((Y,J)=>{let X=setTimeout(()=>{J(Error("Timeout"))},this._exportTimeoutMillis);gO.context.with((0,zZ.suppressTracing)(gO.context.active()),()=>{let Z;if(this._finishedSpans.length<=this._maxExportBatchSize)Z=this._finishedSpans,this._finishedSpans=[];else Z=this._finishedSpans.splice(0,this._maxExportBatchSize);let W=()=>this._exporter.export(Z,(G)=>{if(clearTimeout(X),G.code===zZ.ExportResultCode.SUCCESS)Y();else J(G.error??Error("BatchSpanProcessor: span export failed"))}),$=null;for(let G=0,Q=Z.length;G<Q;G++){let U=Z[G];if(U.resource.asyncAttributesPending&&U.resource.waitForAsyncAttributes)$??=[],$.push(U.resource.waitForAsyncAttributes())}if($===null)W();else Promise.all($).then(W,(G)=>{(0,zZ.globalErrorHandler)(G),J(G)})})})}_maybeStartTimer(){if(this._isExporting)return;let Y=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{if(this._isExporting=!1,this._finishedSpans.length>0)this._clearTimer(),this._maybeStartTimer()}).catch((J)=>{this._isExporting=!1,(0,zZ.globalErrorHandler)(J)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return Y();if(this._timer!==void 0)return;if(this._timer=setTimeout(()=>Y(),this._scheduledDelayMillis),typeof this._timer!=="number")this._timer.unref()}_clearTimer(){if(this._timer!==void 0)clearTimeout(this._timer),this._timer=void 0}}xe1.BatchSpanProcessorBase=_e1});var ge1=q((be1)=>{Object.defineProperty(be1,"__esModule",{value:!0});be1.BatchSpanProcessor=void 0;var Qm4=ve1();class he1 extends Qm4.BatchSpanProcessorBase{onShutdown(){}}be1.BatchSpanProcessor=he1});var pe1=q((ce1)=>{Object.defineProperty(ce1,"__esModule",{value:!0});ce1.RandomIdGenerator=void 0;var Um4=8,me1=16;class de1{generateTraceId=ue1(me1);generateSpanId=ue1(Um4)}ce1.RandomIdGenerator=de1;var s2=Buffer.allocUnsafe(me1);function ue1(Y){return function(){for(let X=0;X<Y/4;X++)s2.writeUInt32BE(Math.random()*4294967296>>>0,X*4);for(let X=0;X<Y;X++)if(s2[X]>0)break;else if(X===Y-1)s2[Y-1]=1;return s2.toString("hex",0,Y)}}});var ne1=q((t2)=>{Object.defineProperty(t2,"__esModule",{value:!0});t2.RandomIdGenerator=t2.BatchSpanProcessor=void 0;var zm4=ge1();Object.defineProperty(t2,"BatchSpanProcessor",{enumerable:!0,get:function(){return zm4.BatchSpanProcessor}});var Hm4=pe1();Object.defineProperty(t2,"RandomIdGenerator",{enumerable:!0,get:function(){return Hm4.RandomIdGenerator}})});var jr=q((e2)=>{Object.defineProperty(e2,"__esModule",{value:!0});e2.RandomIdGenerator=e2.BatchSpanProcessor=void 0;var ie1=ne1();Object.defineProperty(e2,"BatchSpanProcessor",{enumerable:!0,get:function(){return ie1.BatchSpanProcessor}});Object.defineProperty(e2,"RandomIdGenerator",{enumerable:!0,get:function(){return ie1.RandomIdGenerator}})});var se1=q((re1)=>{Object.defineProperty(re1,"__esModule",{value:!0});re1.Tracer=void 0;var D5=t(),YN=k1(),Bm4=$e1(),qm4=Cr(),Fm4=jr();class oe1{_sampler;_generalLimits;_spanLimits;_idGenerator;instrumentationScope;_resource;_spanProcessor;constructor(Y,J,X,Z){let W=(0,qm4.mergeConfig)(J);this._sampler=W.sampler,this._generalLimits=W.generalLimits,this._spanLimits=W.spanLimits,this._idGenerator=J.idGenerator||new Fm4.RandomIdGenerator,this._resource=X,this._spanProcessor=Z,this.instrumentationScope=Y}startSpan(Y,J={},X=D5.context.active()){if(J.root)X=D5.trace.deleteSpan(X);let Z=D5.trace.getSpan(X);if((0,YN.isTracingSuppressed)(X))return D5.diag.debug("Instrumentation suppressed, returning Noop Span"),D5.trace.wrapSpanContext(D5.INVALID_SPAN_CONTEXT);let W=Z?.spanContext(),$=this._idGenerator.generateSpanId(),G,Q,U;if(!W||!D5.trace.isSpanContextValid(W))Q=this._idGenerator.generateTraceId();else Q=W.traceId,U=W.traceState,G=W;let z=J.kind??D5.SpanKind.INTERNAL,H=(J.links??[]).map((D)=>{return{context:D.context,attributes:(0,YN.sanitizeAttributes)(D.attributes)}}),O=(0,YN.sanitizeAttributes)(J.attributes),K=this._sampler.shouldSample(X,Q,Y,z,O,H);U=K.traceState??U;let B=K.decision===D5.SamplingDecision.RECORD_AND_SAMPLED?D5.TraceFlags.SAMPLED:D5.TraceFlags.NONE,F={traceId:Q,spanId:$,traceFlags:B,traceState:U};if(K.decision===D5.SamplingDecision.NOT_RECORD)return D5.diag.debug("Recording is off, propagating context in a non-recording span"),D5.trace.wrapSpanContext(F);let V=(0,YN.sanitizeAttributes)(Object.assign(O,K.attributes));return new Bm4.SpanImpl({resource:this._resource,scope:this.instrumentationScope,context:X,spanContext:F,name:Y,kind:z,links:H,parentSpanContext:G,attributes:V,startTime:J.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(Y,J,X,Z){let W,$,G;if(arguments.length<2)return;else if(arguments.length===2)G=J;else if(arguments.length===3)W=J,G=X;else W=J,$=X,G=Z;let Q=$??D5.context.active(),U=this.startSpan(Y,W,Q),z=D5.trace.setSpan(Q,U);return D5.context.with(z,G,void 0,U)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}}re1.Tracer=oe1});var J10=q((ee1)=>{Object.defineProperty(ee1,"__esModule",{value:!0});ee1.MultiSpanProcessor=void 0;var Vm4=k1();class te1{_spanProcessors;constructor(Y){this._spanProcessors=Y}forceFlush(){let Y=[];for(let J of this._spanProcessors)Y.push(J.forceFlush());return new Promise((J)=>{Promise.all(Y).then(()=>{J()}).catch((X)=>{(0,Vm4.globalErrorHandler)(X||Error("MultiSpanProcessor: forceFlush failed")),J()})})}onStart(Y,J){for(let X of this._spanProcessors)X.onStart(Y,J)}onEnding(Y){for(let J of this._spanProcessors)if(J.onEnding)J.onEnding(Y)}onEnd(Y){for(let J of this._spanProcessors)J.onEnd(Y)}shutdown(){let Y=[];for(let J of this._spanProcessors)Y.push(J.shutdown());return new Promise((J,X)=>{Promise.all(Y).then(()=>{J()},X)})}}ee1.MultiSpanProcessor=te1});var G10=q((W10)=>{Object.defineProperty(W10,"__esModule",{value:!0});W10.BasicTracerProvider=W10.ForceFlushState=void 0;var Im4=k1(),Dm4=PX(),wm4=se1(),Am4=Sr(),Pm4=J10(),Lm4=Cr(),uO;(function(Y){Y[Y.resolved=0]="resolved",Y[Y.timeout=1]="timeout",Y[Y.error=2]="error",Y[Y.unresolved=3]="unresolved"})(uO=W10.ForceFlushState||(W10.ForceFlushState={}));class Z10{_config;_tracers=new Map;_resource;_activeSpanProcessor;constructor(Y={}){let J=(0,Im4.merge)({},(0,Am4.loadDefaultConfig)(),(0,Lm4.reconfigureLimits)(Y));this._resource=J.resource??(0,Dm4.defaultResource)(),this._config=Object.assign({},J,{resource:this._resource});let X=[];if(Y.spanProcessors?.length)X.push(...Y.spanProcessors);this._activeSpanProcessor=new Pm4.MultiSpanProcessor(X)}getTracer(Y,J,X){let Z=`${Y}@${J||""}:${X?.schemaUrl||""}`;if(!this._tracers.has(Z))this._tracers.set(Z,new wm4.Tracer({name:Y,version:J,schemaUrl:X?.schemaUrl},this._config,this._resource,this._activeSpanProcessor));return this._tracers.get(Z)}forceFlush(){let Y=this._config.forceFlushTimeoutMillis,J=this._activeSpanProcessor._spanProcessors.map((X)=>{return new Promise((Z)=>{let W,$=setTimeout(()=>{Z(Error(`Span processor did not completed within timeout period of ${Y} ms`)),W=uO.timeout},Y);X.forceFlush().then(()=>{if(clearTimeout($),W!==uO.timeout)W=uO.resolved,Z(W)}).catch((G)=>{clearTimeout($),W=uO.error,Z(G)})})});return new Promise((X,Z)=>{Promise.all(J).then((W)=>{let $=W.filter((G)=>G!==uO.resolved);if($.length>0)Z($);else X()}).catch((W)=>Z([W]))})}shutdown(){return this._activeSpanProcessor.shutdown()}}W10.BasicTracerProvider=Z10});var H10=q((U10)=>{Object.defineProperty(U10,"__esModule",{value:!0});U10.ConsoleSpanExporter=void 0;var kr=k1();class Q10{export(Y,J){return this._sendSpans(Y,J)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(Y){return{resource:{attributes:Y.resource.attributes},instrumentationScope:Y.instrumentationScope,traceId:Y.spanContext().traceId,parentSpanContext:Y.parentSpanContext,traceState:Y.spanContext().traceState?.serialize(),name:Y.name,id:Y.spanContext().spanId,kind:Y.kind,timestamp:(0,kr.hrTimeToMicroseconds)(Y.startTime),duration:(0,kr.hrTimeToMicroseconds)(Y.duration),attributes:Y.attributes,status:Y.status,events:Y.events,links:Y.links}}_sendSpans(Y,J){for(let X of Y)console.dir(this._exportInfo(X),{depth:3});if(J)return J({code:kr.ExportResultCode.SUCCESS})}}U10.ConsoleSpanExporter=Q10});var F10=q((B10)=>{Object.defineProperty(B10,"__esModule",{value:!0});B10.InMemorySpanExporter=void 0;var O10=k1();class K10{_finishedSpans=[];_stopped=!1;export(Y,J){if(this._stopped)return J({code:O10.ExportResultCode.FAILED,error:Error("Exporter has been stopped")});this._finishedSpans.push(...Y),setTimeout(()=>J({code:O10.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}B10.InMemorySpanExporter=K10});var w10=q((I10)=>{Object.defineProperty(I10,"__esModule",{value:!0});I10.SimpleSpanProcessor=void 0;var Mm4=t(),JN=k1();class V10{_exporter;_shutdownOnce;_pendingExports;constructor(Y){this._exporter=Y,this._shutdownOnce=new JN.BindOnceFuture(this._shutdown,this),this._pendingExports=new Set}async forceFlush(){if(await Promise.all(Array.from(this._pendingExports)),this._exporter.forceFlush)await this._exporter.forceFlush()}onStart(Y,J){}onEnd(Y){if(this._shutdownOnce.isCalled)return;if((Y.spanContext().traceFlags&Mm4.TraceFlags.SAMPLED)===0)return;let J=this._doExport(Y).catch((X)=>(0,JN.globalErrorHandler)(X));this._pendingExports.add(J),J.finally(()=>this._pendingExports.delete(J))}async _doExport(Y){if(Y.resource.asyncAttributesPending)await Y.resource.waitForAsyncAttributes?.();let J=await JN.internal._export(this._exporter,[Y]);if(J.code!==JN.ExportResultCode.SUCCESS)throw J.error??Error(`SimpleSpanProcessor: span export failed (status ${J})`)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}I10.SimpleSpanProcessor=V10});var M10=q((P10)=>{Object.defineProperty(P10,"__esModule",{value:!0});P10.NoopSpanProcessor=void 0;class A10{onStart(Y,J){}onEnd(Y){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}P10.NoopSpanProcessor=A10});var iQ=q((y9)=>{Object.defineProperty(y9,"__esModule",{value:!0});y9.SamplingDecision=y9.TraceIdRatioBasedSampler=y9.ParentBasedSampler=y9.AlwaysOnSampler=y9.AlwaysOffSampler=y9.NoopSpanProcessor=y9.SimpleSpanProcessor=y9.InMemorySpanExporter=y9.ConsoleSpanExporter=y9.RandomIdGenerator=y9.BatchSpanProcessor=y9.BasicTracerProvider=void 0;var Em4=G10();Object.defineProperty(y9,"BasicTracerProvider",{enumerable:!0,get:function(){return Em4.BasicTracerProvider}});var E10=jr();Object.defineProperty(y9,"BatchSpanProcessor",{enumerable:!0,get:function(){return E10.BatchSpanProcessor}});Object.defineProperty(y9,"RandomIdGenerator",{enumerable:!0,get:function(){return E10.RandomIdGenerator}});var Tm4=H10();Object.defineProperty(y9,"ConsoleSpanExporter",{enumerable:!0,get:function(){return Tm4.ConsoleSpanExporter}});var Rm4=F10();Object.defineProperty(y9,"InMemorySpanExporter",{enumerable:!0,get:function(){return Rm4.InMemorySpanExporter}});var Nm4=w10();Object.defineProperty(y9,"SimpleSpanProcessor",{enumerable:!0,get:function(){return Nm4.SimpleSpanProcessor}});var Sm4=M10();Object.defineProperty(y9,"NoopSpanProcessor",{enumerable:!0,get:function(){return Sm4.NoopSpanProcessor}});var Cm4=p2();Object.defineProperty(y9,"AlwaysOffSampler",{enumerable:!0,get:function(){return Cm4.AlwaysOffSampler}});var jm4=n2();Object.defineProperty(y9,"AlwaysOnSampler",{enumerable:!0,get:function(){return jm4.AlwaysOnSampler}});var km4=Er();Object.defineProperty(y9,"ParentBasedSampler",{enumerable:!0,get:function(){return km4.ParentBasedSampler}});var _m4=Tr();Object.defineProperty(y9,"TraceIdRatioBasedSampler",{enumerable:!0,get:function(){return _m4.TraceIdRatioBasedSampler}});var xm4=hI();Object.defineProperty(y9,"SamplingDecision",{enumerable:!0,get:function(){return xm4.SamplingDecision}})});var S10=q((R10)=>{Object.defineProperty(R10,"__esModule",{value:!0});R10.NodeTracerProvider=void 0;var vm4=Pr(),hm4=iQ(),bI=t(),_r=k1();function bm4(Y){if(Y===null)return;if(Y===void 0){let J=new vm4.AsyncLocalStorageContextManager;J.enable(),bI.context.setGlobalContextManager(J);return}Y.enable(),bI.context.setGlobalContextManager(Y)}function ym4(Y){if(Y===null)return;if(Y===void 0){bI.propagation.setGlobalPropagator(new _r.CompositePropagator({propagators:[new _r.W3CTraceContextPropagator,new _r.W3CBaggagePropagator]}));return}bI.propagation.setGlobalPropagator(Y)}class T10 extends hm4.BasicTracerProvider{constructor(Y={}){super(Y)}register(Y={}){bI.trace.setGlobalTracerProvider(this),bm4(Y.contextManager),ym4(Y.propagator)}}R10.NodeTracerProvider=T10});var xr=q((H9)=>{Object.defineProperty(H9,"__esModule",{value:!0});H9.TraceIdRatioBasedSampler=H9.SimpleSpanProcessor=H9.SamplingDecision=H9.RandomIdGenerator=H9.ParentBasedSampler=H9.NoopSpanProcessor=H9.InMemorySpanExporter=H9.ConsoleSpanExporter=H9.BatchSpanProcessor=H9.BasicTracerProvider=H9.AlwaysOnSampler=H9.AlwaysOffSampler=H9.NodeTracerProvider=void 0;var gm4=S10();Object.defineProperty(H9,"NodeTracerProvider",{enumerable:!0,get:function(){return gm4.NodeTracerProvider}});var JY=iQ();Object.defineProperty(H9,"AlwaysOffSampler",{enumerable:!0,get:function(){return JY.AlwaysOffSampler}});Object.defineProperty(H9,"AlwaysOnSampler",{enumerable:!0,get:function(){return JY.AlwaysOnSampler}});Object.defineProperty(H9,"BasicTracerProvider",{enumerable:!0,get:function(){return JY.BasicTracerProvider}});Object.defineProperty(H9,"BatchSpanProcessor",{enumerable:!0,get:function(){return JY.BatchSpanProcessor}});Object.defineProperty(H9,"ConsoleSpanExporter",{enumerable:!0,get:function(){return JY.ConsoleSpanExporter}});Object.defineProperty(H9,"InMemorySpanExporter",{enumerable:!0,get:function(){return JY.InMemorySpanExporter}});Object.defineProperty(H9,"NoopSpanProcessor",{enumerable:!0,get:function(){return JY.NoopSpanProcessor}});Object.defineProperty(H9,"ParentBasedSampler",{enumerable:!0,get:function(){return JY.ParentBasedSampler}});Object.defineProperty(H9,"RandomIdGenerator",{enumerable:!0,get:function(){return JY.RandomIdGenerator}});Object.defineProperty(H9,"SamplingDecision",{enumerable:!0,get:function(){return JY.SamplingDecision}});Object.defineProperty(H9,"SimpleSpanProcessor",{enumerable:!0,get:function(){return JY.SimpleSpanProcessor}});Object.defineProperty(H9,"TraceIdRatioBasedSampler",{enumerable:!0,get:function(){return JY.TraceIdRatioBasedSampler}})});var k10=q((C10)=>{Object.defineProperty(C10,"__esModule",{value:!0});C10.VERSION=void 0;C10.VERSION="0.212.0"});var v0=q((v10)=>{Object.defineProperty(v10,"__esModule",{value:!0});v10.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=v10.DEFAULT_MAX_SEND_MESSAGE_LENGTH=v10.Propagate=v10.LogVerbosity=v10.Status=void 0;var _10;(function(Y){Y[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(_10||(v10.Status=_10={}));var x10;(function(Y){Y[Y.DEBUG=0]="DEBUG",Y[Y.INFO=1]="INFO",Y[Y.ERROR=2]="ERROR",Y[Y.NONE=3]="NONE"})(x10||(v10.LogVerbosity=x10={}));var f10;(function(Y){Y[Y.DEADLINE=1]="DEADLINE",Y[Y.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",Y[Y.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",Y[Y.CANCELLATION=8]="CANCELLATION",Y[Y.DEFAULTS=65535]="DEFAULTS"})(f10||(v10.Propagate=f10={}));v10.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;v10.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304});var fr=q((bZ8,pm4)=>{pm4.exports={name:"@grpc/grpc-js",version:"1.14.3",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:">=12.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@grpc/proto-loader":"file:../proto-loader","@types/gulp":"^4.0.17","@types/gulp-mocha":"0.0.37","@types/lodash":"^4.14.202","@types/mocha":"^10.0.6","@types/ncp":"^2.0.8","@types/node":">=20.11.20","@types/pify":"^5.0.4","@types/semver":"^7.5.8","@typescript-eslint/eslint-plugin":"^7.1.0","@typescript-eslint/parser":"^7.1.0","@typescript-eslint/typescript-estree":"^7.1.0","clang-format":"^1.8.0",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.21",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.6.0","ts-node":"^10.9.2",typescript:"^5.3.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run copy-protos && npm run generate-types && npm run generate-test-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs proto/ proto/xds/ proto/protoc-gen-validate/ -O src/generated/ --grpcLib ../index channelz.proto xds/service/orca/v3/orca.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto echo_service.proto","copy-protos":"node ./copy-protos"},dependencies:{"@grpc/proto-loader":"^0.8.0","@js-sdsl/ordered-map":"^4.4.2"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/**/*.proto","proto/**/LICENSE","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var u4=q((g10)=>{var vr,hr,br,yr;Object.defineProperty(g10,"__esModule",{value:!0});g10.log=g10.setLoggerVerbosity=g10.setLogger=g10.getLogger=void 0;g10.trace=Xd4;g10.isTracerEnabled=y10;var Z$=v0(),nm4=C("process"),im4=fr().version,om4={error:(Y,...J)=>{console.error("E "+Y,...J)},info:(Y,...J)=>{console.error("I "+Y,...J)},debug:(Y,...J)=>{console.error("D "+Y,...J)}},oQ=om4,mO=Z$.LogVerbosity.ERROR,rm4=(hr=(vr=process.env.GRPC_NODE_VERBOSITY)!==null&&vr!==void 0?vr:process.env.GRPC_VERBOSITY)!==null&&hr!==void 0?hr:"";switch(rm4.toUpperCase()){case"DEBUG":mO=Z$.LogVerbosity.DEBUG;break;case"INFO":mO=Z$.LogVerbosity.INFO;break;case"ERROR":mO=Z$.LogVerbosity.ERROR;break;case"NONE":mO=Z$.LogVerbosity.NONE;break;default:}var am4=()=>{return oQ};g10.getLogger=am4;var sm4=(Y)=>{oQ=Y};g10.setLogger=sm4;var tm4=(Y)=>{mO=Y};g10.setLoggerVerbosity=tm4;var em4=(Y,...J)=>{let X;if(Y>=mO){switch(Y){case Z$.LogVerbosity.DEBUG:X=oQ.debug;break;case Z$.LogVerbosity.INFO:X=oQ.info;break;case Z$.LogVerbosity.ERROR:X=oQ.error;break}if(!X)X=oQ.error;if(X)X.bind(oQ)(...J)}};g10.log=em4;var Yd4=(yr=(br=process.env.GRPC_NODE_TRACE)!==null&&br!==void 0?br:process.env.GRPC_TRACE)!==null&&yr!==void 0?yr:"",gr=new Set,b10=new Set;for(let Y of Yd4.split(","))if(Y.startsWith("-"))b10.add(Y.substring(1));else gr.add(Y);var Jd4=gr.has("all");function Xd4(Y,J,X){if(y10(J))g10.log(Y,new Date().toISOString()+" | v"+im4+" "+nm4.pid+" | "+J+" | "+X)}function y10(Y){return!b10.has(Y)&&(Jd4||gr.has(Y))}});var XN=q((u10)=>{Object.defineProperty(u10,"__esModule",{value:!0});u10.getErrorMessage=Ud4;u10.getErrorCode=zd4;function Ud4(Y){if(Y instanceof Error)return Y.message;else return String(Y)}function zd4(Y){if(typeof Y==="object"&&Y!==null&&"code"in Y&&typeof Y.code==="number")return Y.code;else return null}});var i8=q((c10)=>{Object.defineProperty(c10,"__esModule",{value:!0});c10.Metadata=void 0;var Kd4=u4(),Bd4=v0(),qd4=XN(),Fd4=/^[:0-9a-z_.-]+$/,Vd4=/^[ -~]*$/;function Id4(Y){return Fd4.test(Y)}function Dd4(Y){return Vd4.test(Y)}function d10(Y){return Y.endsWith("-bin")}function wd4(Y){return!Y.startsWith("grpc-")}function ZN(Y){return Y.toLowerCase()}function m10(Y,J){if(!Id4(Y))throw Error('Metadata key "'+Y+'" contains illegal characters');if(J!==null&&J!==void 0)if(d10(Y)){if(!Buffer.isBuffer(J))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(J))throw Error("keys that don't end with '-bin' must have String values");if(!Dd4(J))throw Error('Metadata string value "'+J+'" contains illegal characters')}}class WN{constructor(Y={}){this.internalRepr=new Map,this.opaqueData=new Map,this.options=Y}set(Y,J){Y=ZN(Y),m10(Y,J),this.internalRepr.set(Y,[J])}add(Y,J){Y=ZN(Y),m10(Y,J);let X=this.internalRepr.get(Y);if(X===void 0)this.internalRepr.set(Y,[J]);else X.push(J)}remove(Y){Y=ZN(Y),this.internalRepr.delete(Y)}get(Y){return Y=ZN(Y),this.internalRepr.get(Y)||[]}getMap(){let Y={};for(let[J,X]of this.internalRepr)if(X.length>0){let Z=X[0];Y[J]=Buffer.isBuffer(Z)?Buffer.from(Z):Z}return Y}clone(){let Y=new WN(this.options),J=Y.internalRepr;for(let[X,Z]of this.internalRepr){let W=Z.map(($)=>{if(Buffer.isBuffer($))return Buffer.from($);else return $});J.set(X,W)}return Y}merge(Y){for(let[J,X]of Y.internalRepr){let Z=(this.internalRepr.get(J)||[]).concat(X);this.internalRepr.set(J,Z)}}setOptions(Y){this.options=Y}getOptions(){return this.options}toHttp2Headers(){let Y={};for(let[J,X]of this.internalRepr){if(J.startsWith(":"))continue;Y[J]=X.map(Ad4)}return Y}toJSON(){let Y={};for(let[J,X]of this.internalRepr)Y[J]=X;return Y}setOpaque(Y,J){this.opaqueData.set(Y,J)}getOpaque(Y){return this.opaqueData.get(Y)}static fromHttp2Headers(Y){let J=new WN;for(let X of Object.keys(Y)){if(X.charAt(0)===":")continue;let Z=Y[X];try{if(d10(X)){if(Array.isArray(Z))Z.forEach((W)=>{J.add(X,Buffer.from(W,"base64"))});else if(Z!==void 0)if(wd4(X))Z.split(",").forEach((W)=>{J.add(X,Buffer.from(W.trim(),"base64"))});else J.add(X,Buffer.from(Z,"base64"))}else if(Array.isArray(Z))Z.forEach((W)=>{J.add(X,W)});else if(Z!==void 0)J.add(X,Z)}catch(W){let $=`Failed to add metadata entry ${X}: ${Z}. ${(0,qd4.getErrorMessage)(W)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,Kd4.log)(Bd4.LogVerbosity.ERROR,$)}}return J}}c10.Metadata=WN;var Ad4=(Y)=>{return Buffer.isBuffer(Y)?Y.toString("base64"):Y}});var GN=q((p10)=>{Object.defineProperty(p10,"__esModule",{value:!0});p10.CallCredentials=void 0;var mr=i8();function Pd4(Y){return"getRequestHeaders"in Y&&typeof Y.getRequestHeaders==="function"}class dO{static createFromMetadataGenerator(Y){return new dr(Y)}static createFromGoogleCredential(Y){return dO.createFromMetadataGenerator((J,X)=>{let Z;if(Pd4(Y))Z=Y.getRequestHeaders(J.service_url);else Z=new Promise((W,$)=>{Y.getRequestMetadata(J.service_url,(G,Q)=>{if(G){$(G);return}if(!Q){$(Error("Headers not set by metadata plugin"));return}W(Q)})});Z.then((W)=>{let $=new mr.Metadata;for(let G of Object.keys(W))$.add(G,W[G]);X(null,$)},(W)=>{X(W)})})}static createEmpty(){return new cr}}p10.CallCredentials=dO;class $N extends dO{constructor(Y){super();this.creds=Y}async generateMetadata(Y){let J=new mr.Metadata,X=await Promise.all(this.creds.map((Z)=>Z.generateMetadata(Y)));for(let Z of X)J.merge(Z);return J}compose(Y){return new $N(this.creds.concat([Y]))}_equals(Y){if(this===Y)return!0;if(Y instanceof $N)return this.creds.every((J,X)=>J._equals(Y.creds[X]));else return!1}}class dr extends dO{constructor(Y){super();this.metadataGenerator=Y}generateMetadata(Y){return new Promise((J,X)=>{this.metadataGenerator(Y,(Z,W)=>{if(W!==void 0)J(W);else X(Z)})})}compose(Y){return new $N([this,Y])}_equals(Y){if(this===Y)return!0;if(Y instanceof dr)return this.metadataGenerator===Y.metadataGenerator;else return!1}}class cr extends dO{generateMetadata(Y){return Promise.resolve(new mr.Metadata)}compose(Y){return Y}_equals(Y){return Y instanceof cr}}});var pr=q((o10)=>{Object.defineProperty(o10,"__esModule",{value:!0});o10.CIPHER_SUITES=void 0;o10.getDefaultRootsData=Md4;var Ld4=C("fs");o10.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var i10=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,lr=null;function Md4(){if(i10){if(lr===null)lr=Ld4.readFileSync(i10);return lr}return null}});var O9=q((s10)=>{Object.defineProperty(s10,"__esModule",{value:!0});s10.parseUri=Rd4;s10.splitHostPort=Nd4;s10.combineHostPort=Sd4;s10.uriToString=Cd4;var Td4=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function Rd4(Y){let J=Td4.exec(Y);if(J===null)return null;return{scheme:J[1],authority:J[2],path:J[3]}}var a10=/^\d+$/;function Nd4(Y){if(Y.startsWith("[")){let J=Y.indexOf("]");if(J===-1)return null;let X=Y.substring(1,J);if(X.indexOf(":")===-1)return null;if(Y.length>J+1)if(Y[J+1]===":"){let Z=Y.substring(J+2);if(a10.test(Z))return{host:X,port:+Z};else return null}else return null;else return{host:X}}else{let J=Y.split(":");if(J.length===2)if(a10.test(J[1]))return{host:J[0],port:+J[1]};else return null;else return{host:Y}}}function Sd4(Y){if(Y.port===void 0)return Y.host;else if(Y.host.includes(":"))return`[${Y.host}]:${Y.port}`;else return`${Y.host}:${Y.port}`}function Cd4(Y){let J="";if(Y.scheme!==void 0)J+=Y.scheme+":";if(Y.authority!==void 0)J+="//"+Y.authority+"/";return J+=Y.path,J}});var ZJ=q((t10)=>{Object.defineProperty(t10,"__esModule",{value:!0});t10.CHANNEL_ARGS_CONFIG_SELECTOR_KEY=void 0;t10.registerResolver=fd4;t10.registerDefaultScheme=vd4;t10.createResolver=hd4;t10.getDefaultAuthority=bd4;t10.mapUriDefaultScheme=yd4;var ir=O9();t10.CHANNEL_ARGS_CONFIG_SELECTOR_KEY="grpc.internal.config_selector";var cO={},nr=null;function fd4(Y,J){cO[Y]=J}function vd4(Y){nr=Y}function hd4(Y,J,X){if(Y.scheme!==void 0&&Y.scheme in cO)return new cO[Y.scheme](Y,J,X);else throw Error(`No resolver could be created for target ${(0,ir.uriToString)(Y)}`)}function bd4(Y){if(Y.scheme!==void 0&&Y.scheme in cO)return cO[Y.scheme].getDefaultAuthority(Y);else throw Error(`Invalid target ${(0,ir.uriToString)(Y)}`)}function yd4(Y){if(Y.scheme===void 0||!(Y.scheme in cO))if(nr!==null)return{scheme:nr,authority:void 0,path:(0,ir.uriToString)(Y)};else return null;return Y}});var pO=q((Z00)=>{Object.defineProperty(Z00,"__esModule",{value:!0});Z00.ChannelCredentials=void 0;Z00.createCertificateProviderChannelCredentials=id4;var gI=C("tls"),zN=GN(),rr=pr(),Y00=O9(),ld4=ZJ(),pd4=u4(),nd4=v0();function or(Y,J){if(Y&&!(Y instanceof Buffer))throw TypeError(`${J}, if provided, must be a Buffer.`)}class lO{compose(Y){return new UN(this,Y)}static createSsl(Y,J,X,Z){var W;if(or(Y,"Root certificate"),or(J,"Private key"),or(X,"Certificate chain"),J&&!X)throw Error("Private key must be given with accompanying certificate chain");if(!J&&X)throw Error("Certificate chain must be given with accompanying private key");let $=(0,gI.createSecureContext)({ca:(W=Y!==null&&Y!==void 0?Y:(0,rr.getDefaultRootsData)())!==null&&W!==void 0?W:void 0,key:J!==null&&J!==void 0?J:void 0,cert:X!==null&&X!==void 0?X:void 0,ciphers:rr.CIPHER_SUITES});return new QN($,Z!==null&&Z!==void 0?Z:{})}static createFromSecureContext(Y,J){return new QN(Y,J!==null&&J!==void 0?J:{})}static createInsecure(){return new ar}}Z00.ChannelCredentials=lO;class ar extends lO{constructor(){super()}compose(Y){throw Error("Cannot compose insecure credentials")}_isSecure(){return!1}_equals(Y){return Y instanceof ar}_createSecureConnector(Y,J,X){return{connect(Z){return Promise.resolve({socket:Z,secure:!1})},waitForReady:()=>{return Promise.resolve()},getCallCredentials:()=>{return X!==null&&X!==void 0?X:zN.CallCredentials.createEmpty()},destroy(){}}}}function J00(Y,J,X,Z){var W,$;let G={secureContext:Y},Q=X;if("grpc.http_connect_target"in Z){let O=(0,Y00.parseUri)(Z["grpc.http_connect_target"]);if(O)Q=O}let U=(0,ld4.getDefaultAuthority)(Q),z=(0,Y00.splitHostPort)(U),H=(W=z===null||z===void 0?void 0:z.host)!==null&&W!==void 0?W:U;if(G.host=H,J.checkServerIdentity)G.checkServerIdentity=J.checkServerIdentity;if(J.rejectUnauthorized!==void 0)G.rejectUnauthorized=J.rejectUnauthorized;if(G.ALPNProtocols=["h2"],Z["grpc.ssl_target_name_override"]){let O=Z["grpc.ssl_target_name_override"],K=($=G.checkServerIdentity)!==null&&$!==void 0?$:gI.checkServerIdentity;G.checkServerIdentity=(B,F)=>{return K(O,F)},G.servername=O}else G.servername=H;if(Z["grpc-node.tls_enable_trace"])G.enableTrace=!0;return G}class X00{constructor(Y,J){this.connectionOptions=Y,this.callCredentials=J}connect(Y){let J=Object.assign({socket:Y},this.connectionOptions);return new Promise((X,Z)=>{let W=(0,gI.connect)(J,()=>{var $;if((($=this.connectionOptions.rejectUnauthorized)!==null&&$!==void 0?$:!0)&&!W.authorized){Z(W.authorizationError);return}X({socket:W,secure:!0})});W.on("error",($)=>{Z($)})})}waitForReady(){return Promise.resolve()}getCallCredentials(){return this.callCredentials}destroy(){}}class QN extends lO{constructor(Y,J){super();this.secureContext=Y,this.verifyOptions=J}_isSecure(){return!0}_equals(Y){if(this===Y)return!0;if(Y instanceof QN)return this.secureContext===Y.secureContext&&this.verifyOptions.checkServerIdentity===Y.verifyOptions.checkServerIdentity;else return!1}_createSecureConnector(Y,J,X){let Z=J00(this.secureContext,this.verifyOptions,Y,J);return new X00(Z,X!==null&&X!==void 0?X:zN.CallCredentials.createEmpty())}}class yI extends lO{constructor(Y,J,X){super();this.caCertificateProvider=Y,this.identityCertificateProvider=J,this.verifyOptions=X,this.refcount=0,this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this),this.secureContextWatchers=[]}_isSecure(){return!0}_equals(Y){var J,X;if(this===Y)return!0;if(Y instanceof yI)return this.caCertificateProvider===Y.caCertificateProvider&&this.identityCertificateProvider===Y.identityCertificateProvider&&((J=this.verifyOptions)===null||J===void 0?void 0:J.checkServerIdentity)===((X=Y.verifyOptions)===null||X===void 0?void 0:X.checkServerIdentity);else return!1}ref(){var Y;if(this.refcount===0)this.caCertificateProvider.addCaCertificateListener(this.caCertificateUpdateListener),(Y=this.identityCertificateProvider)===null||Y===void 0||Y.addIdentityCertificateListener(this.identityCertificateUpdateListener);this.refcount+=1}unref(){var Y;if(this.refcount-=1,this.refcount===0)this.caCertificateProvider.removeCaCertificateListener(this.caCertificateUpdateListener),(Y=this.identityCertificateProvider)===null||Y===void 0||Y.removeIdentityCertificateListener(this.identityCertificateUpdateListener)}_createSecureConnector(Y,J,X){return this.ref(),new yI.SecureConnectorImpl(this,Y,J,X!==null&&X!==void 0?X:zN.CallCredentials.createEmpty())}maybeUpdateWatchers(){if(this.hasReceivedUpdates()){for(let Y of this.secureContextWatchers)Y(this.getLatestSecureContext());this.secureContextWatchers=[]}}handleCaCertificateUpdate(Y){this.latestCaUpdate=Y,this.maybeUpdateWatchers()}handleIdentityCertitificateUpdate(Y){this.latestIdentityUpdate=Y,this.maybeUpdateWatchers()}hasReceivedUpdates(){if(this.latestCaUpdate===void 0)return!1;if(this.identityCertificateProvider&&this.latestIdentityUpdate===void 0)return!1;return!0}getSecureContext(){if(this.hasReceivedUpdates())return Promise.resolve(this.getLatestSecureContext());else return new Promise((Y)=>{this.secureContextWatchers.push(Y)})}getLatestSecureContext(){var Y,J;if(!this.latestCaUpdate)return null;if(this.identityCertificateProvider!==null&&!this.latestIdentityUpdate)return null;try{return(0,gI.createSecureContext)({ca:this.latestCaUpdate.caCertificate,key:(Y=this.latestIdentityUpdate)===null||Y===void 0?void 0:Y.privateKey,cert:(J=this.latestIdentityUpdate)===null||J===void 0?void 0:J.certificate,ciphers:rr.CIPHER_SUITES})}catch(X){return(0,pd4.log)(nd4.LogVerbosity.ERROR,"Failed to createSecureContext with error "+X.message),null}}}yI.SecureConnectorImpl=class{constructor(Y,J,X,Z){this.parent=Y,this.channelTarget=J,this.options=X,this.callCredentials=Z}connect(Y){return new Promise((J,X)=>{let Z=this.parent.getLatestSecureContext();if(!Z){X(Error("Failed to load credentials"));return}if(Y.closed)X(Error("Socket closed while loading credentials"));let W=J00(Z,this.parent.verifyOptions,this.channelTarget,this.options),$=Object.assign({socket:Y},W),G=()=>{X(Error("Socket closed"))},Q=(z)=>{X(z)},U=(0,gI.connect)($,()=>{var z;if(U.removeListener("close",G),U.removeListener("error",Q),((z=this.parent.verifyOptions.rejectUnauthorized)!==null&&z!==void 0?z:!0)&&!U.authorized){X(U.authorizationError);return}J({socket:U,secure:!0})});U.once("close",G),U.once("error",Q)})}async waitForReady(){await this.parent.getSecureContext()}getCallCredentials(){return this.callCredentials}destroy(){this.parent.unref()}};function id4(Y,J,X){return new yI(Y,J,X!==null&&X!==void 0?X:{})}class UN extends lO{constructor(Y,J){super();if(this.channelCredentials=Y,this.callCredentials=J,!Y._isSecure())throw Error("Cannot compose insecure credentials")}compose(Y){let J=this.callCredentials.compose(Y);return new UN(this.channelCredentials,J)}_isSecure(){return!0}_equals(Y){if(this===Y)return!0;if(Y instanceof UN)return this.channelCredentials._equals(Y.channelCredentials)&&this.callCredentials._equals(Y.callCredentials);else return!1}_createSecureConnector(Y,J,X){let Z=this.callCredentials.compose(X!==null&&X!==void 0?X:zN.CallCredentials.createEmpty());return this.channelCredentials._createSecureConnector(Y,J,Z)}}});var $$=q((G00)=>{Object.defineProperty(G00,"__esModule",{value:!0});G00.createChildChannelControlHelper=sd4;G00.registerLoadBalancerType=td4;G00.registerDefaultLoadBalancerType=ed4;G00.createLoadBalancer=Yc4;G00.isLoadBalancerNameRegistered=Jc4;G00.parseLoadBalancingConfig=$00;G00.getDefaultConfig=Xc4;G00.selectLbConfigFromList=Zc4;var rd4=u4(),ad4=v0();function sd4(Y,J){var X,Z,W,$,G,Q,U,z,H,O;return{createSubchannel:(Z=(X=J.createSubchannel)===null||X===void 0?void 0:X.bind(J))!==null&&Z!==void 0?Z:Y.createSubchannel.bind(Y),updateState:($=(W=J.updateState)===null||W===void 0?void 0:W.bind(J))!==null&&$!==void 0?$:Y.updateState.bind(Y),requestReresolution:(Q=(G=J.requestReresolution)===null||G===void 0?void 0:G.bind(J))!==null&&Q!==void 0?Q:Y.requestReresolution.bind(Y),addChannelzChild:(z=(U=J.addChannelzChild)===null||U===void 0?void 0:U.bind(J))!==null&&z!==void 0?z:Y.addChannelzChild.bind(Y),removeChannelzChild:(O=(H=J.removeChannelzChild)===null||H===void 0?void 0:H.bind(J))!==null&&O!==void 0?O:Y.removeChannelzChild.bind(Y)}}var W$={},uI=null;function td4(Y,J,X){W$[Y]={LoadBalancer:J,LoadBalancingConfig:X}}function ed4(Y){uI=Y}function Yc4(Y,J){let X=Y.getLoadBalancerName();if(X in W$)return new W$[X].LoadBalancer(J);else return null}function Jc4(Y){return Y in W$}function $00(Y){let J=Object.keys(Y);if(J.length!==1)throw Error("Provided load balancing config has multiple conflicting entries");let X=J[0];if(X in W$)try{return W$[X].LoadBalancingConfig.createFromJson(Y[X])}catch(Z){throw Error(`${X}: ${Z.message}`)}else throw Error(`Unrecognized load balancing config name ${X}`)}function Xc4(){if(!uI)throw Error("No default load balancer type registered");return new W$[uI].LoadBalancingConfig}function Zc4(Y,J=!1){for(let X of Y)try{return $00(X)}catch(Z){(0,rd4.log)(ad4.LogVerbosity.DEBUG,"Config parsing failed with error",Z.message);continue}if(J)if(uI)return new W$[uI].LoadBalancingConfig;else return null;else return null}});var sr=q((z00)=>{Object.defineProperty(z00,"__esModule",{value:!0});z00.validateRetryThrottling=Q00;z00.validateServiceConfig=U00;z00.extractAndSelectServiceConfig=Pc4;var Kc4=C("os"),HN=v0(),ON=/^\d+(\.\d{1,9})?s$/,Bc4="node";function qc4(Y){if("service"in Y&&Y.service!==""){if(typeof Y.service!=="string")throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof Y.service}`);if("method"in Y&&Y.method!==""){if(typeof Y.method!=="string")throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof Y.service}`);return{service:Y.service,method:Y.method}}else return{service:Y.service}}else{if("method"in Y&&Y.method!==void 0)throw Error("Invalid method config name: method set with empty or unset service");return{}}}function Fc4(Y){if(!("maxAttempts"in Y)||!Number.isInteger(Y.maxAttempts)||Y.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in Y)||typeof Y.initialBackoff!=="string"||!ON.test(Y.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("maxBackoff"in Y)||typeof Y.maxBackoff!=="string"||!ON.test(Y.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("backoffMultiplier"in Y)||typeof Y.backoffMultiplier!=="number"||Y.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!(("retryableStatusCodes"in Y)&&Array.isArray(Y.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(Y.retryableStatusCodes.length===0)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let J of Y.retryableStatusCodes)if(typeof J==="number"){if(!Object.values(HN.Status).includes(J))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof J==="string"){if(!Object.values(HN.Status).includes(J.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:Y.maxAttempts,initialBackoff:Y.initialBackoff,maxBackoff:Y.maxBackoff,backoffMultiplier:Y.backoffMultiplier,retryableStatusCodes:Y.retryableStatusCodes}}function Vc4(Y){if(!("maxAttempts"in Y)||!Number.isInteger(Y.maxAttempts)||Y.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in Y&&(typeof Y.hedgingDelay!=="string"||!ON.test(Y.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in Y&&Array.isArray(Y.nonFatalStatusCodes))for(let X of Y.nonFatalStatusCodes)if(typeof X==="number"){if(!Object.values(HN.Status).includes(X))throw Error("Invalid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof X==="string"){if(!Object.values(HN.Status).includes(X.toUpperCase()))throw Error("Invalid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number");let J={maxAttempts:Y.maxAttempts};if(Y.hedgingDelay)J.hedgingDelay=Y.hedgingDelay;if(Y.nonFatalStatusCodes)J.nonFatalStatusCodes=Y.nonFatalStatusCodes;return J}function Ic4(Y){var J;let X={name:[]};if(!("name"in Y)||!Array.isArray(Y.name))throw Error("Invalid method config: invalid name array");for(let Z of Y.name)X.name.push(qc4(Z));if("waitForReady"in Y){if(typeof Y.waitForReady!=="boolean")throw Error("Invalid method config: invalid waitForReady");X.waitForReady=Y.waitForReady}if("timeout"in Y)if(typeof Y.timeout==="object"){if(!("seconds"in Y.timeout)||typeof Y.timeout.seconds!=="number")throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in Y.timeout)||typeof Y.timeout.nanos!=="number")throw Error("Invalid method config: invalid timeout.nanos");X.timeout=Y.timeout}else if(typeof Y.timeout==="string"&&ON.test(Y.timeout)){let Z=Y.timeout.substring(0,Y.timeout.length-1).split(".");X.timeout={seconds:Z[0]|0,nanos:((J=Z[1])!==null&&J!==void 0?J:0)|0}}else throw Error("Invalid method config: invalid timeout");if("maxRequestBytes"in Y){if(typeof Y.maxRequestBytes!=="number")throw Error("Invalid method config: invalid maxRequestBytes");X.maxRequestBytes=Y.maxRequestBytes}if("maxResponseBytes"in Y){if(typeof Y.maxResponseBytes!=="number")throw Error("Invalid method config: invalid maxRequestBytes");X.maxResponseBytes=Y.maxResponseBytes}if("retryPolicy"in Y)if("hedgingPolicy"in Y)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");else X.retryPolicy=Fc4(Y.retryPolicy);else if("hedgingPolicy"in Y)X.hedgingPolicy=Vc4(Y.hedgingPolicy);return X}function Q00(Y){if(!("maxTokens"in Y)||typeof Y.maxTokens!=="number"||Y.maxTokens<=0||Y.maxTokens>1000)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in Y)||typeof Y.tokenRatio!=="number"||Y.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+Y.maxTokens.toFixed(3),tokenRatio:+Y.tokenRatio.toFixed(3)}}function Dc4(Y){if(!(typeof Y==="object"&&Y!==null))throw Error(`Invalid loadBalancingConfig: unexpected type ${typeof Y}`);let J=Object.keys(Y);if(J.length>1)throw Error(`Invalid loadBalancingConfig: unexpected multiple keys ${J}`);if(J.length===0)throw Error("Invalid loadBalancingConfig: load balancing policy name required");return{[J[0]]:Y[J[0]]}}function U00(Y){let J={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in Y)if(typeof Y.loadBalancingPolicy==="string")J.loadBalancingPolicy=Y.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in Y)if(Array.isArray(Y.loadBalancingConfig))for(let Z of Y.loadBalancingConfig)J.loadBalancingConfig.push(Dc4(Z));else throw Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in Y){if(Array.isArray(Y.methodConfig))for(let Z of Y.methodConfig)J.methodConfig.push(Ic4(Z))}if("retryThrottling"in Y)J.retryThrottling=Q00(Y.retryThrottling);let X=[];for(let Z of J.methodConfig)for(let W of Z.name){for(let $ of X)if(W.service===$.service&&W.method===$.method)throw Error(`Invalid service config: duplicate name ${W.service}/${W.method}`);X.push(W)}return J}function wc4(Y){if(!("serviceConfig"in Y))throw Error("Invalid service config choice: missing service config");let J={serviceConfig:U00(Y.serviceConfig)};if("clientLanguage"in Y)if(Array.isArray(Y.clientLanguage)){J.clientLanguage=[];for(let Z of Y.clientLanguage)if(typeof Z==="string")J.clientLanguage.push(Z);else throw Error("Invalid service config choice: invalid clientLanguage")}else throw Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in Y)if(Array.isArray(Y.clientHostname)){J.clientHostname=[];for(let Z of Y.clientHostname)if(typeof Z==="string")J.clientHostname.push(Z);else throw Error("Invalid service config choice: invalid clientHostname")}else throw Error("Invalid service config choice: invalid clientHostname");if("percentage"in Y)if(typeof Y.percentage==="number"&&0<=Y.percentage&&Y.percentage<=100)J.percentage=Y.percentage;else throw Error("Invalid service config choice: invalid percentage");let X=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let Z in Y)if(!X.includes(Z))throw Error(`Invalid service config choice: unexpected field ${Z}`);return J}function Ac4(Y,J){if(!Array.isArray(Y))throw Error("Invalid service config list");for(let X of Y){let Z=wc4(X);if(typeof Z.percentage==="number"&&J>Z.percentage)continue;if(Array.isArray(Z.clientHostname)){let W=!1;for(let $ of Z.clientHostname)if($===Kc4.hostname())W=!0;if(!W)continue}if(Array.isArray(Z.clientLanguage)){let W=!1;for(let $ of Z.clientLanguage)if($===Bc4)W=!0;if(!W)continue}return Z.serviceConfig}throw Error("No matching service config found")}function Pc4(Y,J){for(let X of Y)if(X.length>0&&X[0].startsWith("grpc_config=")){let Z=X.join("").substring(12),W=JSON.parse(Z);return Ac4(W,J)}return null}});var K9=q((O00)=>{Object.defineProperty(O00,"__esModule",{value:!0});O00.ConnectivityState=void 0;var H00;(function(Y){Y[Y.IDLE=0]="IDLE",Y[Y.CONNECTING=1]="CONNECTING",Y[Y.READY=2]="READY",Y[Y.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",Y[Y.SHUTDOWN=4]="SHUTDOWN"})(H00||(O00.ConnectivityState=H00={}))});var HZ=q((F00)=>{Object.defineProperty(F00,"__esModule",{value:!0});F00.QueuePicker=F00.UnavailablePicker=F00.PickResultType=void 0;var Tc4=i8(),Rc4=v0(),KN;(function(Y){Y[Y.COMPLETE=0]="COMPLETE",Y[Y.QUEUE=1]="QUEUE",Y[Y.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",Y[Y.DROP=3]="DROP"})(KN||(F00.PickResultType=KN={}));class B00{constructor(Y){this.status=Object.assign({code:Rc4.Status.UNAVAILABLE,details:"No connection established",metadata:new Tc4.Metadata},Y)}pick(Y){return{pickResultType:KN.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}F00.UnavailablePicker=B00;class q00{constructor(Y,J){this.loadBalancer=Y,this.childPicker=J,this.calledExitIdle=!1}pick(Y){if(!this.calledExitIdle)process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0;if(this.childPicker)return this.childPicker.pick(Y);else return{pickResultType:KN.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}F00.QueuePicker=q00});var nO=q((I00)=>{Object.defineProperty(I00,"__esModule",{value:!0});I00.BackoffTimeout=void 0;var Cc4=v0(),jc4=u4(),kc4="backoff",_c4=1000,xc4=1.6,fc4=120000,vc4=0.2;function hc4(Y,J){return Math.random()*(J-Y)+Y}class BN{constructor(Y,J){if(this.callback=Y,this.initialDelay=_c4,this.multiplier=xc4,this.maxDelay=fc4,this.jitter=vc4,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,this.id=BN.getNextId(),J){if(J.initialDelay)this.initialDelay=J.initialDelay;if(J.multiplier)this.multiplier=J.multiplier;if(J.jitter)this.jitter=J.jitter;if(J.maxDelay)this.maxDelay=J.maxDelay}this.trace("constructed initialDelay="+this.initialDelay+" multiplier="+this.multiplier+" jitter="+this.jitter+" maxDelay="+this.maxDelay),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}static getNextId(){return this.nextId++}trace(Y){jc4.trace(Cc4.LogVerbosity.DEBUG,kc4,"{"+this.id+"} "+Y)}runTimer(Y){var J,X;if(this.trace("runTimer(delay="+Y+")"),this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+Y),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.trace("timer fired"),this.running=!1,this.callback()},Y),!this.hasRef)(X=(J=this.timerId).unref)===null||X===void 0||X.call(J)}runOnce(){this.trace("runOnce()"),this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let Y=Math.min(this.nextDelay*this.multiplier,this.maxDelay),J=Y*this.jitter;this.nextDelay=Y+hc4(-J,J)}stop(){this.trace("stop()"),clearTimeout(this.timerId),this.running=!1}reset(){if(this.trace("reset() running="+this.running),this.nextDelay=this.initialDelay,this.running){let Y=new Date,J=this.startTime;if(J.setMilliseconds(J.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),Y<J)this.runTimer(J.getTime()-Y.getTime());else this.running=!1}}isRunning(){return this.running}ref(){var Y,J;this.hasRef=!0,(J=(Y=this.timerId).ref)===null||J===void 0||J.call(Y)}unref(){var Y,J;this.hasRef=!1,(J=(Y=this.timerId).unref)===null||J===void 0||J.call(Y)}getEndTime(){return this.endTime}}I00.BackoffTimeout=BN;BN.nextId=0});var qN=q((A00)=>{Object.defineProperty(A00,"__esModule",{value:!0});A00.ChildLoadBalancerHandler=void 0;var bc4=$$(),yc4=K9(),gc4="child_load_balancer_helper";class w00{constructor(Y){this.channelControlHelper=Y,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(J){this.parent=J,this.child=null}createSubchannel(J,X){return this.parent.channelControlHelper.createSubchannel(J,X)}updateState(J,X,Z){var W;if(this.calledByPendingChild()){if(J===yc4.ConnectivityState.CONNECTING)return;(W=this.parent.currentChild)===null||W===void 0||W.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(J,X,Z)}requestReresolution(){var J;let X=(J=this.parent.pendingChild)!==null&&J!==void 0?J:this.parent.currentChild;if(this.child===X)this.parent.channelControlHelper.requestReresolution()}setChild(J){this.child=J}addChannelzChild(J){this.parent.channelControlHelper.addChannelzChild(J)}removeChannelzChild(J){this.parent.channelControlHelper.removeChannelzChild(J)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(Y,J){return Y.getLoadBalancerName()!==J.getLoadBalancerName()}updateAddressList(Y,J,X,Z){let W;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,J)){let $=new this.ChildPolicyHelper(this),G=(0,bc4.createLoadBalancer)(J,$);if($.setChild(G),this.currentChild===null)this.currentChild=G,W=this.currentChild;else{if(this.pendingChild)this.pendingChild.destroy();this.pendingChild=G,W=this.pendingChild}}else if(this.pendingChild===null)W=this.currentChild;else W=this.pendingChild;return this.latestConfig=J,W.updateAddressList(Y,J,X,Z)}exitIdle(){if(this.currentChild){if(this.currentChild.exitIdle(),this.pendingChild)this.pendingChild.exitIdle()}}resetBackoff(){if(this.currentChild){if(this.currentChild.resetBackoff(),this.pendingChild)this.pendingChild.resetBackoff()}}destroy(){if(this.currentChild)this.currentChild.destroy(),this.currentChild=null;if(this.pendingChild)this.pendingChild.destroy(),this.pendingChild=null}getTypeName(){return gc4}}A00.ChildLoadBalancerHandler=w00});var N00=q((T00)=>{Object.defineProperty(T00,"__esModule",{value:!0});T00.ResolvingLoadBalancer=void 0;var uc4=$$(),mc4=sr(),g9=K9(),L00=ZJ(),mI=HZ(),dc4=nO(),tr=v0(),cc4=i8(),lc4=u4(),pc4=v0(),nc4=O9(),ic4=qN(),oc4="resolving_load_balancer";function M00(Y){lc4.trace(pc4.LogVerbosity.DEBUG,oc4,Y)}var rc4=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function ac4(Y,J,X,Z){for(let W of X.name)switch(Z){case"EMPTY":if(!W.service&&!W.method)return!0;break;case"SERVICE":if(W.service===Y&&!W.method)return!0;break;case"SERVICE_AND_METHOD":if(W.service===Y&&W.method===J)return!0}return!1}function sc4(Y,J,X,Z){for(let W of X)if(ac4(Y,J,W,Z))return W;return null}function tc4(Y){return{invoke(J,X){var Z,W;let $=J.split("/").filter((U)=>U.length>0),G=(Z=$[0])!==null&&Z!==void 0?Z:"",Q=(W=$[1])!==null&&W!==void 0?W:"";if(Y&&Y.methodConfig)for(let U of rc4){let z=sc4(G,Q,Y.methodConfig,U);if(z)return{methodConfig:z,pickInformation:{},status:tr.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:tr.Status.OK,dynamicFilterFactories:[]}},unref(){}}}class E00{constructor(Y,J,X,Z,W){if(this.target=Y,this.channelControlHelper=J,this.channelOptions=X,this.onSuccessfulResolution=Z,this.onFailedResolution=W,this.latestChildState=g9.ConnectivityState.IDLE,this.latestChildPicker=new mI.QueuePicker(this),this.latestChildErrorMessage=null,this.currentState=g9.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,X["grpc.service_config"])this.defaultServiceConfig=(0,mc4.validateServiceConfig)(JSON.parse(X["grpc.service_config"]));else this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]};this.updateState(g9.ConnectivityState.IDLE,new mI.QueuePicker(this),null),this.childLoadBalancer=new ic4.ChildLoadBalancerHandler({createSubchannel:J.createSubchannel.bind(J),requestReresolution:()=>{if(this.backoffTimeout.isRunning())M00("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0;else this.updateResolution()},updateState:(G,Q,U)=>{this.latestChildState=G,this.latestChildPicker=Q,this.latestChildErrorMessage=U,this.updateState(G,Q,U)},addChannelzChild:J.addChannelzChild.bind(J),removeChannelzChild:J.removeChannelzChild.bind(J)}),this.innerResolver=(0,L00.createResolver)(Y,this.handleResolverResult.bind(this),X);let $={initialDelay:X["grpc.initial_reconnect_backoff_ms"],maxDelay:X["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new dc4.BackoffTimeout(()=>{if(this.continueResolving)this.updateResolution(),this.continueResolving=!1;else this.updateState(this.latestChildState,this.latestChildPicker,this.latestChildErrorMessage)},$),this.backoffTimeout.unref()}handleResolverResult(Y,J,X,Z){var W,$;this.backoffTimeout.stop(),this.backoffTimeout.reset();let G=!0,Q=null;if(X===null)Q=this.defaultServiceConfig;else if(X.ok)Q=X.value;else if(this.previousServiceConfig!==null)Q=this.previousServiceConfig;else G=!1,this.handleResolutionFailure(X.error);if(Q!==null){let U=(W=Q===null||Q===void 0?void 0:Q.loadBalancingConfig)!==null&&W!==void 0?W:[],z=(0,uc4.selectLbConfigFromList)(U,!0);if(z===null)G=!1,this.handleResolutionFailure({code:tr.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new cc4.Metadata});else G=this.childLoadBalancer.updateAddressList(Y,z,Object.assign(Object.assign({},this.channelOptions),J),Z)}if(G)this.onSuccessfulResolution(Q,($=J[L00.CHANNEL_ARGS_CONFIG_SELECTOR_KEY])!==null&&$!==void 0?$:tc4(Q));return G}updateResolution(){if(this.innerResolver.updateResolution(),this.currentState===g9.ConnectivityState.IDLE)this.updateState(g9.ConnectivityState.CONNECTING,this.latestChildPicker,this.latestChildErrorMessage);this.backoffTimeout.runOnce()}updateState(Y,J,X){if(M00((0,nc4.uriToString)(this.target)+" "+g9.ConnectivityState[this.currentState]+" -> "+g9.ConnectivityState[Y]),Y===g9.ConnectivityState.IDLE)J=new mI.QueuePicker(this,J);this.currentState=Y,this.channelControlHelper.updateState(Y,J,X)}handleResolutionFailure(Y){if(this.latestChildState===g9.ConnectivityState.IDLE)this.updateState(g9.ConnectivityState.TRANSIENT_FAILURE,new mI.UnavailablePicker(Y),Y.details),this.onFailedResolution(Y)}exitIdle(){if(this.currentState===g9.ConnectivityState.IDLE||this.currentState===g9.ConnectivityState.TRANSIENT_FAILURE)if(this.backoffTimeout.isRunning())this.continueResolving=!0;else this.updateResolution();this.childLoadBalancer.exitIdle()}updateAddressList(Y,J){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=g9.ConnectivityState.IDLE,this.latestChildPicker=new mI.QueuePicker(this),this.currentState=g9.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}T00.ResolvingLoadBalancer=E00});var j00=q((S00)=>{Object.defineProperty(S00,"__esModule",{value:!0});S00.recognizedOptions=void 0;S00.channelOptionsEqual=ec4;S00.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0,"grpc-node.retry_max_attempts_limit":!0,"grpc-node.flow_control_window":!0,"grpc.server_call_metric_recording":!0};function ec4(Y,J){let X=Object.keys(Y).sort(),Z=Object.keys(J).sort();if(X.length!==Z.length)return!1;for(let W=0;W<X.length;W+=1){if(X[W]!==Z[W])return!1;if(Y[X[W]]!==J[Z[W]])return!1}return!0}});var u9=q((v00)=>{Object.defineProperty(v00,"__esModule",{value:!0});v00.EndpointMap=void 0;v00.isTcpSubchannelAddress=cI;v00.subchannelAddressEqual=FN;v00.subchannelAddressToString=_00;v00.stringToSubchannelAddress=Xl4;v00.endpointEqual=Zl4;v00.endpointToString=Wl4;v00.endpointHasAddress=x00;var k00=C("net");function cI(Y){return"port"in Y}function FN(Y,J){if(!Y&&!J)return!0;if(!Y||!J)return!1;if(cI(Y))return cI(J)&&Y.host===J.host&&Y.port===J.port;else return!cI(J)&&Y.path===J.path}function _00(Y){if(cI(Y))if((0,k00.isIPv6)(Y.host))return"["+Y.host+"]:"+Y.port;else return Y.host+":"+Y.port;else return Y.path}var Jl4=443;function Xl4(Y,J){if((0,k00.isIP)(Y))return{host:Y,port:J!==null&&J!==void 0?J:Jl4};else return{path:Y}}function Zl4(Y,J){if(Y.addresses.length!==J.addresses.length)return!1;for(let X=0;X<Y.addresses.length;X++)if(!FN(Y.addresses[X],J.addresses[X]))return!1;return!0}function Wl4(Y){return"["+Y.addresses.map(_00).join(", ")+"]"}function x00(Y,J){for(let X of Y.addresses)if(FN(X,J))return!0;return!1}function dI(Y,J){if(Y.addresses.length!==J.addresses.length)return!1;for(let X of Y.addresses){let Z=!1;for(let W of J.addresses)if(FN(X,W)){Z=!0;break}if(!Z)return!1}return!0}class f00{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(Y){for(let J of this.map)if(x00(J.key,Y))return J.value;return}deleteMissing(Y){let J=[];for(let X of this.map){let Z=!1;for(let W of Y)if(dI(W,X.key))Z=!0;if(!Z)J.push(X.value),this.map.delete(X)}return J}get(Y){for(let J of this.map)if(dI(Y,J.key))return J.value;return}set(Y,J){for(let X of this.map)if(dI(Y,X.key)){X.value=J;return}this.map.add({key:Y,value:J})}delete(Y){for(let J of this.map)if(dI(Y,J.key)){this.map.delete(J);return}}has(Y){for(let J of this.map)if(dI(Y,J.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(let Y of this.map)yield Y.key}*values(){for(let Y of this.map)yield Y.value}*entries(){for(let Y of this.map)yield[Y.key,Y.value]}}v00.EndpointMap=f00});var p00=q((l00)=>{Object.defineProperty(l00,"t",{value:!0});class er{constructor(Y,J,X=1){this.i=void 0,this.h=void 0,this.o=void 0,this.u=Y,this.l=J,this.p=X}I(){let Y=this,J=Y.o.o===Y;if(J&&Y.p===1)Y=Y.h;else if(Y.i){Y=Y.i;while(Y.h)Y=Y.h}else{if(J)return Y.o;let X=Y.o;while(X.i===Y)Y=X,X=Y.o;Y=X}return Y}B(){let Y=this;if(Y.h){Y=Y.h;while(Y.i)Y=Y.i;return Y}else{let J=Y.o;while(J.h===Y)Y=J,J=Y.o;if(Y.h!==J)return J;else return Y}}_(){let Y=this.o,J=this.h,X=J.i;if(Y.o===this)Y.o=J;else if(Y.i===this)Y.i=J;else Y.h=J;if(J.o=Y,J.i=this,this.o=J,this.h=X,X)X.o=this;return J}g(){let Y=this.o,J=this.i,X=J.h;if(Y.o===this)Y.o=J;else if(Y.i===this)Y.i=J;else Y.h=J;if(J.o=Y,J.h=this,this.o=J,this.i=X,X)X.o=this;return J}}class b00 extends er{constructor(){super(...arguments);this.M=1}_(){let Y=super._();return this.O(),Y.O(),Y}g(){let Y=super.g();return this.O(),Y.O(),Y}O(){if(this.M=1,this.i)this.M+=this.i.M;if(this.h)this.M+=this.h.M}}class y00{constructor(Y=0){this.iteratorType=Y}equals(Y){return this.T===Y.T}}class g00{constructor(){this.m=0}get length(){return this.m}size(){return this.m}empty(){return this.m===0}}class u00 extends g00{}function rQ(){throw RangeError("Iterator access denied!")}class m00 extends u00{constructor(Y=function(X,Z){if(X<Z)return-1;if(X>Z)return 1;return 0},J=!1){super();this.v=void 0,this.A=Y,this.enableIndex=J,this.N=J?b00:er,this.C=new this.N}R(Y,J){let X=this.C;while(Y){let Z=this.A(Y.u,J);if(Z<0)Y=Y.h;else if(Z>0)X=Y,Y=Y.i;else return Y}return X}K(Y,J){let X=this.C;while(Y)if(this.A(Y.u,J)<=0)Y=Y.h;else X=Y,Y=Y.i;return X}L(Y,J){let X=this.C;while(Y){let Z=this.A(Y.u,J);if(Z<0)X=Y,Y=Y.h;else if(Z>0)Y=Y.i;else return Y}return X}k(Y,J){let X=this.C;while(Y)if(this.A(Y.u,J)<0)X=Y,Y=Y.h;else Y=Y.i;return X}P(Y){while(!0){let J=Y.o;if(J===this.C)return;if(Y.p===1){Y.p=0;return}if(Y===J.i){let X=J.h;if(X.p===1)if(X.p=0,J.p=1,J===this.v)this.v=J._();else J._();else if(X.h&&X.h.p===1){if(X.p=J.p,J.p=0,X.h.p=0,J===this.v)this.v=J._();else J._();return}else if(X.i&&X.i.p===1)X.p=1,X.i.p=0,X.g();else X.p=1,Y=J}else{let X=J.i;if(X.p===1)if(X.p=0,J.p=1,J===this.v)this.v=J.g();else J.g();else if(X.i&&X.i.p===1){if(X.p=J.p,J.p=0,X.i.p=0,J===this.v)this.v=J.g();else J.g();return}else if(X.h&&X.h.p===1)X.p=1,X.h.p=0,X._();else X.p=1,Y=J}}}S(Y){if(this.m===1){this.clear();return}let J=Y;while(J.i||J.h){if(J.h){J=J.h;while(J.i)J=J.i}else J=J.i;let Z=Y.u;Y.u=J.u,J.u=Z;let W=Y.l;Y.l=J.l,J.l=W,Y=J}if(this.C.i===J)this.C.i=J.o;else if(this.C.h===J)this.C.h=J.o;this.P(J);let X=J.o;if(J===X.i)X.i=void 0;else X.h=void 0;if(this.m-=1,this.v.p=0,this.enableIndex)while(X!==this.C)X.M-=1,X=X.o}U(Y){let J=typeof Y==="number"?Y:void 0,X=typeof Y==="function"?Y:void 0,Z=typeof Y>"u"?[]:void 0,W=0,$=this.v,G=[];while(G.length||$)if($)G.push($),$=$.i;else{if($=G.pop(),W===J)return $;Z&&Z.push($),X&&X($,W,this),W+=1,$=$.h}return Z}j(Y){while(!0){let J=Y.o;if(J.p===0)return;let X=J.o;if(J===X.i){let Z=X.h;if(Z&&Z.p===1){if(Z.p=J.p=0,X===this.v)return;X.p=1,Y=X;continue}else if(Y===J.h){if(Y.p=0,Y.i)Y.i.o=J;if(Y.h)Y.h.o=X;if(J.h=Y.i,X.i=Y.h,Y.i=J,Y.h=X,X===this.v)this.v=Y,this.C.o=Y;else{let W=X.o;if(W.i===X)W.i=Y;else W.h=Y}Y.o=X.o,J.o=Y,X.o=Y,X.p=1}else{if(J.p=0,X===this.v)this.v=X.g();else X.g();X.p=1;return}}else{let Z=X.i;if(Z&&Z.p===1){if(Z.p=J.p=0,X===this.v)return;X.p=1,Y=X;continue}else if(Y===J.i){if(Y.p=0,Y.i)Y.i.o=X;if(Y.h)Y.h.o=J;if(X.h=Y.i,J.i=Y.h,Y.i=X,Y.h=J,X===this.v)this.v=Y,this.C.o=Y;else{let W=X.o;if(W.i===X)W.i=Y;else W.h=Y}Y.o=X.o,J.o=Y,X.o=Y,X.p=1}else{if(J.p=0,X===this.v)this.v=X._();else X._();X.p=1;return}}if(this.enableIndex)J.O(),X.O(),Y.O();return}}q(Y,J,X){if(this.v===void 0)return this.m+=1,this.v=new this.N(Y,J,0),this.v.o=this.C,this.C.o=this.C.i=this.C.h=this.v,this.m;let Z,W=this.C.i,$=this.A(W.u,Y);if($===0)return W.l=J,this.m;else if($>0)W.i=new this.N(Y,J),W.i.o=W,Z=W.i,this.C.i=Z;else{let G=this.C.h,Q=this.A(G.u,Y);if(Q===0)return G.l=J,this.m;else if(Q<0)G.h=new this.N(Y,J),G.h.o=G,Z=G.h,this.C.h=Z;else{if(X!==void 0){let U=X.T;if(U!==this.C){let z=this.A(U.u,Y);if(z===0)return U.l=J,this.m;else if(z>0){let H=U.I(),O=this.A(H.u,Y);if(O===0)return H.l=J,this.m;else if(O<0)if(Z=new this.N(Y,J),H.h===void 0)H.h=Z,Z.o=H;else U.i=Z,Z.o=U}}}if(Z===void 0){Z=this.v;while(!0){let U=this.A(Z.u,Y);if(U>0){if(Z.i===void 0){Z.i=new this.N(Y,J),Z.i.o=Z,Z=Z.i;break}Z=Z.i}else if(U<0){if(Z.h===void 0){Z.h=new this.N(Y,J),Z.h.o=Z,Z=Z.h;break}Z=Z.h}else return Z.l=J,this.m}}}}if(this.enableIndex){let G=Z.o;while(G!==this.C)G.M+=1,G=G.o}return this.j(Z),this.m+=1,this.m}H(Y,J){while(Y){let X=this.A(Y.u,J);if(X<0)Y=Y.h;else if(X>0)Y=Y.i;else return Y}return Y||this.C}clear(){this.m=0,this.v=void 0,this.C.o=void 0,this.C.i=this.C.h=void 0}updateKeyByIterator(Y,J){let X=Y.T;if(X===this.C)rQ();if(this.m===1)return X.u=J,!0;let Z=X.B().u;if(X===this.C.i){if(this.A(Z,J)>0)return X.u=J,!0;return!1}let W=X.I().u;if(X===this.C.h){if(this.A(W,J)<0)return X.u=J,!0;return!1}if(this.A(W,J)>=0||this.A(Z,J)<=0)return!1;return X.u=J,!0}eraseElementByPos(Y){if(Y<0||Y>this.m-1)throw RangeError();let J=this.U(Y);return this.S(J),this.m}eraseElementByKey(Y){if(this.m===0)return!1;let J=this.H(this.v,Y);if(J===this.C)return!1;return this.S(J),!0}eraseElementByIterator(Y){let J=Y.T;if(J===this.C)rQ();let X=J.h===void 0;if(Y.iteratorType===0){if(X)Y.next()}else if(!X||J.i===void 0)Y.next();return this.S(J),Y}getHeight(){if(this.m===0)return 0;function Y(J){if(!J)return 0;return Math.max(Y(J.i),Y(J.h))+1}return Y(this.v)}}class d00 extends y00{constructor(Y,J,X){super(X);if(this.T=Y,this.C=J,this.iteratorType===0)this.pre=function(){if(this.T===this.C.i)rQ();return this.T=this.T.I(),this},this.next=function(){if(this.T===this.C)rQ();return this.T=this.T.B(),this};else this.pre=function(){if(this.T===this.C.h)rQ();return this.T=this.T.B(),this},this.next=function(){if(this.T===this.C)rQ();return this.T=this.T.I(),this}}get index(){let Y=this.T,J=this.C.o;if(Y===this.C){if(J)return J.M-1;return 0}let X=0;if(Y.i)X+=Y.i.M;while(Y!==J){let Z=Y.o;if(Y===Z.h){if(X+=1,Z.i)X+=Z.i.M}Y=Z}return X}isAccessible(){return this.T!==this.C}}class WJ extends d00{constructor(Y,J,X,Z){super(Y,J,Z);this.container=X}get pointer(){if(this.T===this.C)rQ();let Y=this;return new Proxy([],{get(J,X){if(X==="0")return Y.T.u;else if(X==="1")return Y.T.l;return J[0]=Y.T.u,J[1]=Y.T.l,J[X]},set(J,X,Z){if(X!=="1")throw TypeError("prop must be 1");return Y.T.l=Z,!0}})}copy(){return new WJ(this.T,this.C,this.container,this.iteratorType)}}class c00 extends m00{constructor(Y=[],J,X){super(J,X);let Z=this;Y.forEach(function(W){Z.setElement(W[0],W[1])})}begin(){return new WJ(this.C.i||this.C,this.C,this)}end(){return new WJ(this.C,this.C,this)}rBegin(){return new WJ(this.C.h||this.C,this.C,this,1)}rEnd(){return new WJ(this.C,this.C,this,1)}front(){if(this.m===0)return;let Y=this.C.i;return[Y.u,Y.l]}back(){if(this.m===0)return;let Y=this.C.h;return[Y.u,Y.l]}lowerBound(Y){let J=this.R(this.v,Y);return new WJ(J,this.C,this)}upperBound(Y){let J=this.K(this.v,Y);return new WJ(J,this.C,this)}reverseLowerBound(Y){let J=this.L(this.v,Y);return new WJ(J,this.C,this)}reverseUpperBound(Y){let J=this.k(this.v,Y);return new WJ(J,this.C,this)}forEach(Y){this.U(function(J,X,Z){Y([J.u,J.l],X,Z)})}setElement(Y,J,X){return this.q(Y,J,X)}getElementByPos(Y){if(Y<0||Y>this.m-1)throw RangeError();let J=this.U(Y);return[J.u,J.l]}find(Y){let J=this.H(this.v,Y);return new WJ(J,this.C,this)}getElementByKey(Y){return this.H(this.v,Y).l}union(Y){let J=this;return Y.forEach(function(X){J.setElement(X[0],X[1])}),this.m}*[Symbol.iterator](){let Y=this.m,J=this.U();for(let X=0;X<Y;++X){let Z=J[X];yield[Z.u,Z.l]}}}l00.OrderedMap=c00});var VN=q((i00)=>{Object.defineProperty(i00,"__esModule",{value:!0});i00.registerAdminService=Bl4;i00.addAdminServicesToServer=ql4;var n00=[];function Bl4(Y,J){n00.push({getServiceDefinition:Y,getHandlers:J})}function ql4(Y){for(let{getServiceDefinition:J,getHandlers:X}of n00)Y.addService(J(),X())}});var Y40=q((t00)=>{Object.defineProperty(t00,"__esModule",{value:!0});t00.ClientDuplexStreamImpl=t00.ClientWritableStreamImpl=t00.ClientReadableStreamImpl=t00.ClientUnaryCallImpl=void 0;t00.callErrorFromStatus=Dl4;var Il4=C("events"),Ya=C("stream"),lI=v0();function Dl4(Y,J){let X=`${Y.code} ${lI.Status[Y.code]}: ${Y.details}`,W=`${Error(X).stack}
for call at
${J}`;return Object.assign(Error(X),Y,{stack:W})}class o00 extends Il4.EventEmitter{constructor(){super()}cancel(){var Y;(Y=this.call)===null||Y===void 0||Y.cancelWithStatus(lI.Status.CANCELLED,"Cancelled on client")}getPeer(){var Y,J;return(J=(Y=this.call)===null||Y===void 0?void 0:Y.getPeer())!==null&&J!==void 0?J:"unknown"}getAuthContext(){var Y,J;return(J=(Y=this.call)===null||Y===void 0?void 0:Y.getAuthContext())!==null&&J!==void 0?J:null}}t00.ClientUnaryCallImpl=o00;class r00 extends Ya.Readable{constructor(Y){super({objectMode:!0});this.deserialize=Y}cancel(){var Y;(Y=this.call)===null||Y===void 0||Y.cancelWithStatus(lI.Status.CANCELLED,"Cancelled on client")}getPeer(){var Y,J;return(J=(Y=this.call)===null||Y===void 0?void 0:Y.getPeer())!==null&&J!==void 0?J:"unknown"}getAuthContext(){var Y,J;return(J=(Y=this.call)===null||Y===void 0?void 0:Y.getAuthContext())!==null&&J!==void 0?J:null}_read(Y){var J;(J=this.call)===null||J===void 0||J.startRead()}}t00.ClientReadableStreamImpl=r00;class a00 extends Ya.Writable{constructor(Y){super({objectMode:!0});this.serialize=Y}cancel(){var Y;(Y=this.call)===null||Y===void 0||Y.cancelWithStatus(lI.Status.CANCELLED,"Cancelled on client")}getPeer(){var Y,J;return(J=(Y=this.call)===null||Y===void 0?void 0:Y.getPeer())!==null&&J!==void 0?J:"unknown"}getAuthContext(){var Y,J;return(J=(Y=this.call)===null||Y===void 0?void 0:Y.getAuthContext())!==null&&J!==void 0?J:null}_write(Y,J,X){var Z;let W={callback:X},$=Number(J);if(!Number.isNaN($))W.flags=$;(Z=this.call)===null||Z===void 0||Z.sendMessageWithContext(W,Y)}_final(Y){var J;(J=this.call)===null||J===void 0||J.halfClose(),Y()}}t00.ClientWritableStreamImpl=a00;class s00 extends Ya.Duplex{constructor(Y,J){super({objectMode:!0});this.serialize=Y,this.deserialize=J}cancel(){var Y;(Y=this.call)===null||Y===void 0||Y.cancelWithStatus(lI.Status.CANCELLED,"Cancelled on client")}getPeer(){var Y,J;return(J=(Y=this.call)===null||Y===void 0?void 0:Y.getPeer())!==null&&J!==void 0?J:"unknown"}getAuthContext(){var Y,J;return(J=(Y=this.call)===null||Y===void 0?void 0:Y.getAuthContext())!==null&&J!==void 0?J:null}_read(Y){var J;(J=this.call)===null||J===void 0||J.startRead()}_write(Y,J,X){var Z;let W={callback:X},$=Number(J);if(!Number.isNaN($))W.flags=$;(Z=this.call)===null||Z===void 0||Z.sendMessageWithContext(W,Y)}_final(Y){var J;(J=this.call)===null||J===void 0||J.halfClose(),Y()}}t00.ClientDuplexStreamImpl=s00});var aQ=q((X40)=>{Object.defineProperty(X40,"__esModule",{value:!0});X40.InterceptingListenerImpl=void 0;X40.statusOrFromValue=El4;X40.statusOrFromError=Tl4;X40.isInterceptingListener=Rl4;var Ml4=i8();function El4(Y){return{ok:!0,value:Y}}function Tl4(Y){var J;return{ok:!1,error:Object.assign(Object.assign({},Y),{metadata:(J=Y.metadata)!==null&&J!==void 0?J:new Ml4.Metadata})}}function Rl4(Y){return Y.onReceiveMetadata!==void 0&&Y.onReceiveMetadata.length===1}class J40{constructor(Y,J){this.listener=Y,this.nextListener=J,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){if(this.hasPendingMessage)this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1}processPendingStatus(){if(this.pendingStatus)this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(Y){this.processingMetadata=!0,this.listener.onReceiveMetadata(Y,(J)=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(J),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(Y){this.processingMessage=!0,this.listener.onReceiveMessage(Y,(J)=>{if(this.processingMessage=!1,this.processingMetadata)this.pendingMessage=J,this.hasPendingMessage=!0;else this.nextListener.onReceiveMessage(J),this.processPendingStatus()})}onReceiveStatus(Y){this.listener.onReceiveStatus(Y,(J)=>{if(this.processingMetadata||this.processingMessage)this.pendingStatus=J;else this.nextListener.onReceiveStatus(J)})}}X40.InterceptingListenerImpl=J40});var Za=q((K40)=>{Object.defineProperty(K40,"__esModule",{value:!0});K40.InterceptingCall=K40.RequesterBuilder=K40.ListenerBuilder=K40.InterceptorConfigurationError=void 0;K40.getInterceptingCall=xl4;var jl4=i8(),W40=aQ(),$40=v0(),G40=XN();class nI extends Error{constructor(Y){super(Y);this.name="InterceptorConfigurationError",Error.captureStackTrace(this,nI)}}K40.InterceptorConfigurationError=nI;class Q40{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(Y){return this.metadata=Y,this}withOnReceiveMessage(Y){return this.message=Y,this}withOnReceiveStatus(Y){return this.status=Y,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}K40.ListenerBuilder=Q40;class U40{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(Y){return this.start=Y,this}withSendMessage(Y){return this.message=Y,this}withHalfClose(Y){return this.halfClose=Y,this}withCancel(Y){return this.cancel=Y,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}K40.RequesterBuilder=U40;var Ja={onReceiveMetadata:(Y,J)=>{J(Y)},onReceiveMessage:(Y,J)=>{J(Y)},onReceiveStatus:(Y,J)=>{J(Y)}},pI={start:(Y,J,X)=>{X(Y,J)},sendMessage:(Y,J)=>{J(Y)},halfClose:(Y)=>{Y()},cancel:(Y)=>{Y()}};class z40{constructor(Y,J){var X,Z,W,$;if(this.nextCall=Y,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,J)this.requester={start:(X=J.start)!==null&&X!==void 0?X:pI.start,sendMessage:(Z=J.sendMessage)!==null&&Z!==void 0?Z:pI.sendMessage,halfClose:(W=J.halfClose)!==null&&W!==void 0?W:pI.halfClose,cancel:($=J.cancel)!==null&&$!==void 0?$:pI.cancel};else this.requester=pI}cancelWithStatus(Y,J){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(Y,J)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){if(this.pendingMessageContext)this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null}processPendingHalfClose(){if(this.pendingHalfClose)this.nextCall.halfClose()}start(Y,J){var X,Z,W,$,G,Q;let U={onReceiveMetadata:(Z=(X=J===null||J===void 0?void 0:J.onReceiveMetadata)===null||X===void 0?void 0:X.bind(J))!==null&&Z!==void 0?Z:(z)=>{},onReceiveMessage:($=(W=J===null||J===void 0?void 0:J.onReceiveMessage)===null||W===void 0?void 0:W.bind(J))!==null&&$!==void 0?$:(z)=>{},onReceiveStatus:(Q=(G=J===null||J===void 0?void 0:J.onReceiveStatus)===null||G===void 0?void 0:G.bind(J))!==null&&Q!==void 0?Q:(z)=>{}};this.processingMetadata=!0,this.requester.start(Y,U,(z,H)=>{var O,K,B;this.processingMetadata=!1;let F;if((0,W40.isInterceptingListener)(H))F=H;else{let V={onReceiveMetadata:(O=H.onReceiveMetadata)!==null&&O!==void 0?O:Ja.onReceiveMetadata,onReceiveMessage:(K=H.onReceiveMessage)!==null&&K!==void 0?K:Ja.onReceiveMessage,onReceiveStatus:(B=H.onReceiveStatus)!==null&&B!==void 0?B:Ja.onReceiveStatus};F=new W40.InterceptingListenerImpl(V,U)}this.nextCall.start(z,F),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(Y,J){this.processingMessage=!0,this.requester.sendMessage(J,(X)=>{if(this.processingMessage=!1,this.processingMetadata)this.pendingMessageContext=Y,this.pendingMessage=J;else this.nextCall.sendMessageWithContext(Y,X),this.processPendingHalfClose()})}sendMessage(Y){this.sendMessageWithContext({},Y)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{if(this.processingMetadata||this.processingMessage)this.pendingHalfClose=!0;else this.nextCall.halfClose()})}getAuthContext(){return this.nextCall.getAuthContext()}}K40.InterceptingCall=z40;function kl4(Y,J,X){var Z,W;let $=(Z=X.deadline)!==null&&Z!==void 0?Z:1/0,G=X.host,Q=(W=X.parent)!==null&&W!==void 0?W:null,U=X.propagate_flags,z=X.credentials,H=Y.createCall(J,$,G,Q,U);if(z)H.setCredentials(z);return H}class Xa{constructor(Y,J){this.call=Y,this.methodDefinition=J}cancelWithStatus(Y,J){this.call.cancelWithStatus(Y,J)}getPeer(){return this.call.getPeer()}sendMessageWithContext(Y,J){let X;try{X=this.methodDefinition.requestSerialize(J)}catch(Z){this.call.cancelWithStatus($40.Status.INTERNAL,`Request message serialization failure: ${(0,G40.getErrorMessage)(Z)}`);return}this.call.sendMessageWithContext(Y,X)}sendMessage(Y){this.sendMessageWithContext({},Y)}start(Y,J){let X=null;this.call.start(Y,{onReceiveMetadata:(Z)=>{var W;(W=J===null||J===void 0?void 0:J.onReceiveMetadata)===null||W===void 0||W.call(J,Z)},onReceiveMessage:(Z)=>{var W;let $;try{$=this.methodDefinition.responseDeserialize(Z)}catch(G){X={code:$40.Status.INTERNAL,details:`Response message parsing error: ${(0,G40.getErrorMessage)(G)}`,metadata:new jl4.Metadata},this.call.cancelWithStatus(X.code,X.details);return}(W=J===null||J===void 0?void 0:J.onReceiveMessage)===null||W===void 0||W.call(J,$)},onReceiveStatus:(Z)=>{var W,$;if(X)(W=J===null||J===void 0?void 0:J.onReceiveStatus)===null||W===void 0||W.call(J,X);else($=J===null||J===void 0?void 0:J.onReceiveStatus)===null||$===void 0||$.call(J,Z)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}getAuthContext(){return this.call.getAuthContext()}}class H40 extends Xa{constructor(Y,J){super(Y,J)}start(Y,J){var X,Z;let W=!1,$={onReceiveMetadata:(Z=(X=J===null||J===void 0?void 0:J.onReceiveMetadata)===null||X===void 0?void 0:X.bind(J))!==null&&Z!==void 0?Z:(G)=>{},onReceiveMessage:(G)=>{var Q;W=!0,(Q=J===null||J===void 0?void 0:J.onReceiveMessage)===null||Q===void 0||Q.call(J,G)},onReceiveStatus:(G)=>{var Q,U;if(!W)(Q=J===null||J===void 0?void 0:J.onReceiveMessage)===null||Q===void 0||Q.call(J,null);(U=J===null||J===void 0?void 0:J.onReceiveStatus)===null||U===void 0||U.call(J,G)}};super.start(Y,$),this.call.startRead()}}class O40 extends Xa{}function _l4(Y,J,X){let Z=kl4(Y,X.path,J);if(X.responseStream)return new O40(Z,X);else return new H40(Z,X)}function xl4(Y,J,X,Z){if(Y.clientInterceptors.length>0&&Y.clientInterceptorProviders.length>0)throw new nI("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(Y.callInterceptors.length>0&&Y.callInterceptorProviders.length>0)throw new nI("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let W=[];if(Y.callInterceptors.length>0||Y.callInterceptorProviders.length>0)W=[].concat(Y.callInterceptors,Y.callInterceptorProviders.map((Q)=>Q(J))).filter((Q)=>Q);else W=[].concat(Y.clientInterceptors,Y.clientInterceptorProviders.map((Q)=>Q(J))).filter((Q)=>Q);let $=Object.assign({},X,{method_definition:J});return W.reduceRight((Q,U)=>{return(z)=>U(z,Q)},(Q)=>_l4(Z,Q,J))($)}});var $a=q((F40)=>{Object.defineProperty(F40,"__esModule",{value:!0});F40.Client=void 0;var fX=Y40(),yl4=Ga(),gl4=K9(),G$=v0(),iO=i8(),IN=Za(),$J=Symbol(),oO=Symbol(),rO=Symbol(),OZ=Symbol();function Wa(Y){return typeof Y==="function"}function aO(Y){var J;return((J=Y.stack)===null||J===void 0?void 0:J.split(`
`).slice(1).join(`
`))||"no stack trace available"}class q40{constructor(Y,J,X={}){var Z,W;if(X=Object.assign({},X),this[oO]=(Z=X.interceptors)!==null&&Z!==void 0?Z:[],delete X.interceptors,this[rO]=(W=X.interceptor_providers)!==null&&W!==void 0?W:[],delete X.interceptor_providers,this[oO].length>0&&this[rO].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[OZ]=X.callInvocationTransformer,delete X.callInvocationTransformer,X.channelOverride)this[$J]=X.channelOverride;else if(X.channelFactoryOverride){let $=X.channelFactoryOverride;delete X.channelFactoryOverride,this[$J]=$(Y,J,X)}else this[$J]=new yl4.ChannelImplementation(Y,J,X)}close(){this[$J].close()}getChannel(){return this[$J]}waitForReady(Y,J){let X=(Z)=>{if(Z){J(Error("Failed to connect before the deadline"));return}let W;try{W=this[$J].getConnectivityState(!0)}catch($){J(Error("The channel has been closed"));return}if(W===gl4.ConnectivityState.READY)J();else try{this[$J].watchConnectivityState(W,Y,X)}catch($){J(Error("The channel has been closed"))}};setImmediate(X)}checkOptionalUnaryResponseArguments(Y,J,X){if(Wa(Y))return{metadata:new iO.Metadata,options:{},callback:Y};else if(Wa(J))if(Y instanceof iO.Metadata)return{metadata:Y,options:{},callback:J};else return{metadata:new iO.Metadata,options:Y,callback:J};else{if(!(Y instanceof iO.Metadata&&J instanceof Object&&Wa(X)))throw Error("Incorrect arguments passed");return{metadata:Y,options:J,callback:X}}}makeUnaryRequest(Y,J,X,Z,W,$,G){var Q,U;let z=this.checkOptionalUnaryResponseArguments(W,$,G),H={path:Y,requestStream:!1,responseStream:!1,requestSerialize:J,responseDeserialize:X},O={argument:Z,metadata:z.metadata,call:new fX.ClientUnaryCallImpl,channel:this[$J],methodDefinition:H,callOptions:z.options,callback:z.callback};if(this[OZ])O=this[OZ](O);let K=O.call,B={clientInterceptors:this[oO],clientInterceptorProviders:this[rO],callInterceptors:(Q=O.callOptions.interceptors)!==null&&Q!==void 0?Q:[],callInterceptorProviders:(U=O.callOptions.interceptor_providers)!==null&&U!==void 0?U:[]},F=(0,IN.getInterceptingCall)(B,O.methodDefinition,O.callOptions,O.channel);K.call=F;let V=null,I=!1,D=Error();return F.start(O.metadata,{onReceiveMetadata:(L)=>{K.emit("metadata",L)},onReceiveMessage(L){if(V!==null)F.cancelWithStatus(G$.Status.UNIMPLEMENTED,"Too many responses received");V=L},onReceiveStatus(L){if(I)return;if(I=!0,L.code===G$.Status.OK)if(V===null){let A=aO(D);O.callback((0,fX.callErrorFromStatus)({code:G$.Status.UNIMPLEMENTED,details:"No message received",metadata:L.metadata},A))}else O.callback(null,V);else{let A=aO(D);O.callback((0,fX.callErrorFromStatus)(L,A))}D=null,K.emit("status",L)}}),F.sendMessage(Z),F.halfClose(),K}makeClientStreamRequest(Y,J,X,Z,W,$){var G,Q;let U=this.checkOptionalUnaryResponseArguments(Z,W,$),z={path:Y,requestStream:!0,responseStream:!1,requestSerialize:J,responseDeserialize:X},H={metadata:U.metadata,call:new fX.ClientWritableStreamImpl(J),channel:this[$J],methodDefinition:z,callOptions:U.options,callback:U.callback};if(this[OZ])H=this[OZ](H);let O=H.call,K={clientInterceptors:this[oO],clientInterceptorProviders:this[rO],callInterceptors:(G=H.callOptions.interceptors)!==null&&G!==void 0?G:[],callInterceptorProviders:(Q=H.callOptions.interceptor_providers)!==null&&Q!==void 0?Q:[]},B=(0,IN.getInterceptingCall)(K,H.methodDefinition,H.callOptions,H.channel);O.call=B;let F=null,V=!1,I=Error();return B.start(H.metadata,{onReceiveMetadata:(D)=>{O.emit("metadata",D)},onReceiveMessage(D){if(F!==null)B.cancelWithStatus(G$.Status.UNIMPLEMENTED,"Too many responses received");F=D,B.startRead()},onReceiveStatus(D){if(V)return;if(V=!0,D.code===G$.Status.OK)if(F===null){let L=aO(I);H.callback((0,fX.callErrorFromStatus)({code:G$.Status.UNIMPLEMENTED,details:"No message received",metadata:D.metadata},L))}else H.callback(null,F);else{let L=aO(I);H.callback((0,fX.callErrorFromStatus)(D,L))}I=null,O.emit("status",D)}}),O}checkMetadataAndOptions(Y,J){let X,Z;if(Y instanceof iO.Metadata)if(X=Y,J)Z=J;else Z={};else{if(Y)Z=Y;else Z={};X=new iO.Metadata}return{metadata:X,options:Z}}makeServerStreamRequest(Y,J,X,Z,W,$){var G,Q;let U=this.checkMetadataAndOptions(W,$),z={path:Y,requestStream:!1,responseStream:!0,requestSerialize:J,responseDeserialize:X},H={argument:Z,metadata:U.metadata,call:new fX.ClientReadableStreamImpl(X),channel:this[$J],methodDefinition:z,callOptions:U.options};if(this[OZ])H=this[OZ](H);let O=H.call,K={clientInterceptors:this[oO],clientInterceptorProviders:this[rO],callInterceptors:(G=H.callOptions.interceptors)!==null&&G!==void 0?G:[],callInterceptorProviders:(Q=H.callOptions.interceptor_providers)!==null&&Q!==void 0?Q:[]},B=(0,IN.getInterceptingCall)(K,H.methodDefinition,H.callOptions,H.channel);O.call=B;let F=!1,V=Error();return B.start(H.metadata,{onReceiveMetadata(I){O.emit("metadata",I)},onReceiveMessage(I){O.push(I)},onReceiveStatus(I){if(F)return;if(F=!0,O.push(null),I.code!==G$.Status.OK){let D=aO(V);O.emit("error",(0,fX.callErrorFromStatus)(I,D))}V=null,O.emit("status",I)}}),B.sendMessage(Z),B.halfClose(),O}makeBidiStreamRequest(Y,J,X,Z,W){var $,G;let Q=this.checkMetadataAndOptions(Z,W),U={path:Y,requestStream:!0,responseStream:!0,requestSerialize:J,responseDeserialize:X},z={metadata:Q.metadata,call:new fX.ClientDuplexStreamImpl(J,X),channel:this[$J],methodDefinition:U,callOptions:Q.options};if(this[OZ])z=this[OZ](z);let H=z.call,O={clientInterceptors:this[oO],clientInterceptorProviders:this[rO],callInterceptors:($=z.callOptions.interceptors)!==null&&$!==void 0?$:[],callInterceptorProviders:(G=z.callOptions.interceptor_providers)!==null&&G!==void 0?G:[]},K=(0,IN.getInterceptingCall)(O,z.methodDefinition,z.callOptions,z.channel);H.call=K;let B=!1,F=Error();return K.start(z.metadata,{onReceiveMetadata(V){H.emit("metadata",V)},onReceiveMessage(V){H.push(V)},onReceiveStatus(V){if(B)return;if(B=!0,H.push(null),V.code!==G$.Status.OK){let I=aO(F);H.emit("error",(0,fX.callErrorFromStatus)(V,I))}F=null,H.emit("status",V)}}),H}}F40.Client=q40});var DN=q((D40)=>{Object.defineProperty(D40,"__esModule",{value:!0});D40.makeClientConstructor=I40;D40.loadPackageDefinition=cl4;var iI=$a(),ul4={unary:iI.Client.prototype.makeUnaryRequest,server_stream:iI.Client.prototype.makeServerStreamRequest,client_stream:iI.Client.prototype.makeClientStreamRequest,bidi:iI.Client.prototype.makeBidiStreamRequest};function Qa(Y){return["__proto__","prototype","constructor"].includes(Y)}function I40(Y,J,X){if(!X)X={};class Z extends iI.Client{}return Object.keys(Y).forEach((W)=>{if(Qa(W))return;let $=Y[W],G;if(typeof W==="string"&&W.charAt(0)==="$")throw Error("Method names cannot start with $");if($.requestStream)if($.responseStream)G="bidi";else G="client_stream";else if($.responseStream)G="server_stream";else G="unary";let{requestSerialize:Q,responseDeserialize:U}=$,z=ml4(ul4[G],$.path,Q,U);if(Z.prototype[W]=z,Object.assign(Z.prototype[W],$),$.originalName&&!Qa($.originalName))Z.prototype[$.originalName]=Z.prototype[W]}),Z.service=Y,Z.serviceName=J,Z}function ml4(Y,J,X,Z){return function(...W){return Y.call(this,J,X,Z,...W)}}function dl4(Y){return"format"in Y}function cl4(Y){let J={};for(let X in Y)if(Object.prototype.hasOwnProperty.call(Y,X)){let Z=Y[X],W=X.split(".");if(W.some((Q)=>Qa(Q)))continue;let $=W[W.length-1],G=J;for(let Q of W.slice(0,-1)){if(!G[Q])G[Q]={};G=G[Q]}if(dl4(Z))G[$]=Z;else G[$]=I40(Z,$,{})}return J}});var c40=q((HW8,d40)=>{var nl4=1/0,il4="[object Symbol]",ol4=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rl4=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,AN="\\ud800-\\udfff",R40="\\u0300-\\u036f\\ufe20-\\ufe23",N40="\\u20d0-\\u20f0",S40="\\u2700-\\u27bf",C40="a-z\\xdf-\\xf6\\xf8-\\xff",al4="\\xac\\xb1\\xd7\\xf7",sl4="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",tl4="\\u2000-\\u206f",el4=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",j40="A-Z\\xc0-\\xd6\\xd8-\\xde",k40="\\ufe0e\\ufe0f",_40=al4+sl4+tl4+el4,za="['\u2019]",Yp4="["+AN+"]",w40="["+_40+"]",wN="["+R40+N40+"]",x40="\\d+",Jp4="["+S40+"]",f40="["+C40+"]",v40="[^"+AN+_40+x40+S40+C40+j40+"]",Ua="\\ud83c[\\udffb-\\udfff]",Xp4="(?:"+wN+"|"+Ua+")",h40="[^"+AN+"]",Ha="(?:\\ud83c[\\udde6-\\uddff]){2}",Oa="[\\ud800-\\udbff][\\udc00-\\udfff]",sO="["+j40+"]",b40="\\u200d",A40="(?:"+f40+"|"+v40+")",Zp4="(?:"+sO+"|"+v40+")",P40="(?:"+za+"(?:d|ll|m|re|s|t|ve))?",L40="(?:"+za+"(?:D|LL|M|RE|S|T|VE))?",y40=Xp4+"?",g40="["+k40+"]?",Wp4="(?:"+b40+"(?:"+[h40,Ha,Oa].join("|")+")"+g40+y40+")*",u40=g40+y40+Wp4,$p4="(?:"+[Jp4,Ha,Oa].join("|")+")"+u40,Gp4="(?:"+[h40+wN+"?",wN,Ha,Oa,Yp4].join("|")+")",Qp4=RegExp(za,"g"),Up4=RegExp(wN,"g"),zp4=RegExp(Ua+"(?="+Ua+")|"+Gp4+u40,"g"),Hp4=RegExp([sO+"?"+f40+"+"+P40+"(?="+[w40,sO,"$"].join("|")+")",Zp4+"+"+L40+"(?="+[w40,sO+A40,"$"].join("|")+")",sO+"?"+A40+"+"+P40,sO+"+"+L40,x40,$p4].join("|"),"g"),Op4=RegExp("["+b40+AN+R40+N40+k40+"]"),Kp4=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bp4={"\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xC7":"C","\xE7":"c","\xD0":"D","\xF0":"d","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xD1":"N","\xF1":"n","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xDD":"Y","\xFD":"y","\xFF":"y","\xC6":"Ae","\xE6":"ae","\xDE":"Th","\xFE":"th","\xDF":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010A":"C","\u010C":"C","\u0107":"c","\u0109":"c","\u010B":"c","\u010D":"c","\u010E":"D","\u0110":"D","\u010F":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011A":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011B":"e","\u011C":"G","\u011E":"G","\u0120":"G","\u0122":"G","\u011D":"g","\u011F":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012A":"I","\u012C":"I","\u012E":"I","\u0130":"I","\u0129":"i","\u012B":"i","\u012D":"i","\u012F":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013B":"L","\u013D":"L","\u013F":"L","\u0141":"L","\u013A":"l","\u013C":"l","\u013E":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014A":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014B":"n","\u014C":"O","\u014E":"O","\u0150":"O","\u014D":"o","\u014F":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015A":"S","\u015C":"S","\u015E":"S","\u0160":"S","\u015B":"s","\u015D":"s","\u015F":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016A":"U","\u016C":"U","\u016E":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016B":"u","\u016D":"u","\u016F":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017B":"Z","\u017D":"Z","\u017A":"z","\u017C":"z","\u017E":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017F":"ss"},qp4=typeof global=="object"&&global&&global.Object===Object&&global,Fp4=typeof self=="object"&&self&&self.Object===Object&&self,Vp4=qp4||Fp4||Function("return this")();function Ip4(Y,J,X,Z){var W=-1,$=Y?Y.length:0;if(Z&&$)X=Y[++W];while(++W<$)X=J(X,Y[W],W,Y);return X}function Dp4(Y){return Y.split("")}function wp4(Y){return Y.match(ol4)||[]}function Ap4(Y){return function(J){return Y==null?void 0:Y[J]}}var Pp4=Ap4(Bp4);function m40(Y){return Op4.test(Y)}function Lp4(Y){return Kp4.test(Y)}function Mp4(Y){return m40(Y)?Ep4(Y):Dp4(Y)}function Ep4(Y){return Y.match(zp4)||[]}function Tp4(Y){return Y.match(Hp4)||[]}var Rp4=Object.prototype,Np4=Rp4.toString,M40=Vp4.Symbol,E40=M40?M40.prototype:void 0,T40=E40?E40.toString:void 0;function Sp4(Y,J,X){var Z=-1,W=Y.length;if(J<0)J=-J>W?0:W+J;if(X=X>W?W:X,X<0)X+=W;W=J>X?0:X-J>>>0,J>>>=0;var $=Array(W);while(++Z<W)$[Z]=Y[Z+J];return $}function Cp4(Y){if(typeof Y=="string")return Y;if(fp4(Y))return T40?T40.call(Y):"";var J=Y+"";return J=="0"&&1/Y==-nl4?"-0":J}function jp4(Y,J,X){var Z=Y.length;return X=X===void 0?Z:X,!J&&X>=Z?Y:Sp4(Y,J,X)}function kp4(Y){return function(J){J=PN(J);var X=m40(J)?Mp4(J):void 0,Z=X?X[0]:J.charAt(0),W=X?jp4(X,1).join(""):J.slice(1);return Z[Y]()+W}}function _p4(Y){return function(J){return Ip4(gp4(bp4(J).replace(Qp4,"")),Y,"")}}function xp4(Y){return!!Y&&typeof Y=="object"}function fp4(Y){return typeof Y=="symbol"||xp4(Y)&&Np4.call(Y)==il4}function PN(Y){return Y==null?"":Cp4(Y)}var vp4=_p4(function(Y,J,X){return J=J.toLowerCase(),Y+(X?hp4(J):J)});function hp4(Y){return yp4(PN(Y).toLowerCase())}function bp4(Y){return Y=PN(Y),Y&&Y.replace(rl4,Pp4).replace(Up4,"")}var yp4=kp4("toUpperCase");function gp4(Y,J,X){if(Y=PN(Y),J=X?void 0:J,J===void 0)return Lp4(Y)?Tp4(Y):wp4(Y);return Y.match(J)||[]}d40.exports=vp4});var p40=q((OW8,l40)=>{l40.exports=o8;var oI=vX();function o8(Y,J){this.lo=Y>>>0,this.hi=J>>>0}var sQ=o8.zero=new o8(0,0);sQ.toNumber=function(){return 0};sQ.zzEncode=sQ.zzDecode=function(){return this};sQ.length=function(){return 1};var up4=o8.zeroHash="\x00\x00\x00\x00\x00\x00\x00\x00";o8.fromNumber=function(J){if(J===0)return sQ;var X=J<0;if(X)J=-J;var Z=J>>>0,W=(J-Z)/4294967296>>>0;if(X){if(W=~W>>>0,Z=~Z>>>0,++Z>4294967295){if(Z=0,++W>4294967295)W=0}}return new o8(Z,W)};o8.from=function(J){if(typeof J==="number")return o8.fromNumber(J);if(oI.isString(J))if(oI.Long)J=oI.Long.fromString(J);else return o8.fromNumber(parseInt(J,10));return J.low||J.high?new o8(J.low>>>0,J.high>>>0):sQ};o8.prototype.toNumber=function(J){if(!J&&this.hi>>>31){var X=~this.lo+1>>>0,Z=~this.hi>>>0;if(!X)Z=Z+1>>>0;return-(X+Z*4294967296)}return this.lo+this.hi*4294967296};o8.prototype.toLong=function(J){return oI.Long?new oI.Long(this.lo|0,this.hi|0,Boolean(J)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(J)}};var Q$=String.prototype.charCodeAt;o8.fromHash=function(J){if(J===up4)return sQ;return new o8((Q$.call(J,0)|Q$.call(J,1)<<8|Q$.call(J,2)<<16|Q$.call(J,3)<<24)>>>0,(Q$.call(J,4)|Q$.call(J,5)<<8|Q$.call(J,6)<<16|Q$.call(J,7)<<24)>>>0)};o8.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};o8.prototype.zzEncode=function(){var J=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^J)>>>0,this.lo=(this.lo<<1^J)>>>0,this};o8.prototype.zzDecode=function(){var J=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^J)>>>0,this.hi=(this.hi>>>1^J)>>>0,this};o8.prototype.length=function(){var J=this.lo,X=(this.lo>>>28|this.hi<<4)>>>0,Z=this.hi>>>24;return Z===0?X===0?J<16384?J<128?1:2:J<2097152?3:4:X<16384?X<128?5:6:X<2097152?7:8:Z<128?9:10}});var vX=q((Ka)=>{var Y0=Ka;Y0.asPromise=pR();Y0.base64=en();Y0.EventEmitter=Yi();Y0.float=Ji();Y0.inquire=oR();Y0.utf8=Wi();Y0.pool=$i();Y0.LongBits=p40();Y0.isNode=Boolean(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);Y0.global=Y0.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||Ka;Y0.emptyArray=Object.freeze?Object.freeze([]):[];Y0.emptyObject=Object.freeze?Object.freeze({}):{};Y0.isInteger=Number.isInteger||function(J){return typeof J==="number"&&isFinite(J)&&Math.floor(J)===J};Y0.isString=function(J){return typeof J==="string"||J instanceof String};Y0.isObject=function(J){return J&&typeof J==="object"};Y0.isset=Y0.isSet=function(J,X){var Z=J[X];if(Z!=null&&J.hasOwnProperty(X))return typeof Z!=="object"||(Array.isArray(Z)?Z.length:Object.keys(Z).length)>0;return!1};Y0.Buffer=function(){try{var Y=Y0.inquire("buffer").Buffer;return Y.prototype.utf8Write?Y:null}catch(J){return null}}();Y0._Buffer_from=null;Y0._Buffer_allocUnsafe=null;Y0.newBuffer=function(J){return typeof J==="number"?Y0.Buffer?Y0._Buffer_allocUnsafe(J):new Y0.Array(J):Y0.Buffer?Y0._Buffer_from(J):typeof Uint8Array>"u"?J:new Uint8Array(J)};Y0.Array=typeof Uint8Array<"u"?Uint8Array:Array;Y0.Long=Y0.global.dcodeIO&&Y0.global.dcodeIO.Long||Y0.global.Long||Y0.inquire("long");Y0.key2Re=/^true|false|0|1$/;Y0.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Y0.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Y0.longToHash=function(J){return J?Y0.LongBits.from(J).toHash():Y0.LongBits.zeroHash};Y0.longFromHash=function(J,X){var Z=Y0.LongBits.fromHash(J);if(Y0.Long)return Y0.Long.fromBits(Z.lo,Z.hi,X);return Z.toNumber(Boolean(X))};function n40(Y,J,X){for(var Z=Object.keys(J),W=0;W<Z.length;++W)if(Y[Z[W]]===void 0||!X)Y[Z[W]]=J[Z[W]];return Y}Y0.merge=n40;Y0.lcFirst=function(J){return J.charAt(0).toLowerCase()+J.substring(1)};function i40(Y){function J(X,Z){if(!(this instanceof J))return new J(X,Z);if(Object.defineProperty(this,"message",{get:function(){return X}}),Error.captureStackTrace)Error.captureStackTrace(this,J);else Object.defineProperty(this,"stack",{value:Error().stack||""});if(Z)n40(this,Z)}return J.prototype=Object.create(Error.prototype,{constructor:{value:J,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return Y},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),J}Y0.newError=i40;Y0.ProtocolError=i40("ProtocolError");Y0.oneOfGetter=function(J){var X={};for(var Z=0;Z<J.length;++Z)X[J[Z]]=1;return function(){for(var W=Object.keys(this),$=W.length-1;$>-1;--$)if(X[W[$]]===1&&this[W[$]]!==void 0&&this[W[$]]!==null)return W[$]}};Y0.oneOfSetter=function(J){return function(X){for(var Z=0;Z<J.length;++Z)if(J[Z]!==X)delete this[J[Z]]}};Y0.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Y0._configure=function(){var Y=Y0.Buffer;if(!Y){Y0._Buffer_from=Y0._Buffer_allocUnsafe=null;return}Y0._Buffer_from=Y.from!==Uint8Array.from&&Y.from||function(X,Z){return new Y(X,Z)},Y0._Buffer_allocUnsafe=Y.allocUnsafe||function(X){return new Y(X)}}});var MN=q((BW8,s40)=>{s40.exports=Z4;var XY=vX(),Ba,LN=XY.LongBits,o40=XY.base64,r40=XY.utf8;function rI(Y,J,X){this.fn=Y,this.len=J,this.next=void 0,this.val=X}function Fa(){}function mp4(Y){this.head=Y.head,this.tail=Y.tail,this.len=Y.len,this.next=Y.states}function Z4(){this.len=0,this.head=new rI(Fa,0,0),this.tail=this.head,this.states=null}var a40=function(){return XY.Buffer?function(){return(Z4.create=function(){return new Ba})()}:function(){return new Z4}};Z4.create=a40();Z4.alloc=function(J){return new XY.Array(J)};if(XY.Array!==Array)Z4.alloc=XY.pool(Z4.alloc,XY.Array.prototype.subarray);Z4.prototype._push=function(J,X,Z){return this.tail=this.tail.next=new rI(J,X,Z),this.len+=X,this};function Va(Y,J,X){J[X]=Y&255}function dp4(Y,J,X){while(Y>127)J[X++]=Y&127|128,Y>>>=7;J[X]=Y}function Ia(Y,J){this.len=Y,this.next=void 0,this.val=J}Ia.prototype=Object.create(rI.prototype);Ia.prototype.fn=dp4;Z4.prototype.uint32=function(J){return this.len+=(this.tail=this.tail.next=new Ia((J=J>>>0)<128?1:J<16384?2:J<2097152?3:J<268435456?4:5,J)).len,this};Z4.prototype.int32=function(J){return J<0?this._push(Da,10,LN.fromNumber(J)):this.uint32(J)};Z4.prototype.sint32=function(J){return this.uint32((J<<1^J>>31)>>>0)};function Da(Y,J,X){while(Y.hi)J[X++]=Y.lo&127|128,Y.lo=(Y.lo>>>7|Y.hi<<25)>>>0,Y.hi>>>=7;while(Y.lo>127)J[X++]=Y.lo&127|128,Y.lo=Y.lo>>>7;J[X++]=Y.lo}Z4.prototype.uint64=function(J){var X=LN.from(J);return this._push(Da,X.length(),X)};Z4.prototype.int64=Z4.prototype.uint64;Z4.prototype.sint64=function(J){var X=LN.from(J).zzEncode();return this._push(Da,X.length(),X)};Z4.prototype.bool=function(J){return this._push(Va,1,J?1:0)};function qa(Y,J,X){J[X]=Y&255,J[X+1]=Y>>>8&255,J[X+2]=Y>>>16&255,J[X+3]=Y>>>24}Z4.prototype.fixed32=function(J){return this._push(qa,4,J>>>0)};Z4.prototype.sfixed32=Z4.prototype.fixed32;Z4.prototype.fixed64=function(J){var X=LN.from(J);return this._push(qa,4,X.lo)._push(qa,4,X.hi)};Z4.prototype.sfixed64=Z4.prototype.fixed64;Z4.prototype.float=function(J){return this._push(XY.float.writeFloatLE,4,J)};Z4.prototype.double=function(J){return this._push(XY.float.writeDoubleLE,8,J)};var cp4=XY.Array.prototype.set?function(J,X,Z){X.set(J,Z)}:function(J,X,Z){for(var W=0;W<J.length;++W)X[Z+W]=J[W]};Z4.prototype.bytes=function(J){var X=J.length>>>0;if(!X)return this._push(Va,1,0);if(XY.isString(J)){var Z=Z4.alloc(X=o40.length(J));o40.decode(J,Z,0),J=Z}return this.uint32(X)._push(cp4,X,J)};Z4.prototype.string=function(J){var X=r40.length(J);return X?this.uint32(X)._push(r40.write,X,J):this._push(Va,1,0)};Z4.prototype.fork=function(){return this.states=new mp4(this),this.head=this.tail=new rI(Fa,0,0),this.len=0,this};Z4.prototype.reset=function(){if(this.states)this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next;else this.head=this.tail=new rI(Fa,0,0),this.len=0;return this};Z4.prototype.ldelim=function(){var J=this.head,X=this.tail,Z=this.len;if(this.reset().uint32(Z),Z)this.tail.next=J.next,this.tail=X,this.len+=Z;return this};Z4.prototype.finish=function(){var J=this.head.next,X=this.constructor.alloc(this.len),Z=0;while(J)J.fn(J.val,X,Z),Z+=J.len,J=J.next;return X};Z4._configure=function(Y){Ba=Y,Z4.create=a40(),Ba._configure()}});var Y60=q((qW8,e40)=>{e40.exports=hX;var t40=MN();(hX.prototype=Object.create(t40.prototype)).constructor=hX;var U$=vX();function hX(){t40.call(this)}hX._configure=function(){hX.alloc=U$._Buffer_allocUnsafe,hX.writeBytesBuffer=U$.Buffer&&U$.Buffer.prototype instanceof Uint8Array&&U$.Buffer.prototype.set.name==="set"?function(J,X,Z){X.set(J,Z)}:function(J,X,Z){if(J.copy)J.copy(X,Z,0,J.length);else for(var W=0;W<J.length;)X[Z++]=J[W++]}};hX.prototype.bytes=function(J){if(U$.isString(J))J=U$._Buffer_from(J,"base64");var X=J.length>>>0;if(this.uint32(X),X)this._push(hX.writeBytesBuffer,X,J);return this};function lp4(Y,J,X){if(Y.length<40)U$.utf8.write(Y,J,X);else if(J.utf8Write)J.utf8Write(Y,X);else J.write(Y,X)}hX.prototype.string=function(J){var X=U$.Buffer.byteLength(J);if(this.uint32(X),X)this._push(lp4,X,J);return this};hX._configure()});var TN=q((FW8,$60)=>{$60.exports=c6;var GJ=vX(),Aa,Z60=GJ.LongBits,pp4=GJ.utf8;function QJ(Y,J){return RangeError("index out of range: "+Y.pos+" + "+(J||1)+" > "+Y.len)}function c6(Y){this.buf=Y,this.pos=0,this.len=Y.length}var J60=typeof Uint8Array<"u"?function(J){if(J instanceof Uint8Array||Array.isArray(J))return new c6(J);throw Error("illegal buffer")}:function(J){if(Array.isArray(J))return new c6(J);throw Error("illegal buffer")},W60=function(){return GJ.Buffer?function(X){return(c6.create=function(W){return GJ.Buffer.isBuffer(W)?new Aa(W):J60(W)})(X)}:J60};c6.create=W60();c6.prototype._slice=GJ.Array.prototype.subarray||GJ.Array.prototype.slice;c6.prototype.uint32=function(){var J=4294967295;return function(){if(J=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128)return J;if(J=(J|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)return J;if(J=(J|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)return J;if(J=(J|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)return J;if(J=(J|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128)return J;if((this.pos+=5)>this.len)throw this.pos=this.len,QJ(this,10);return J}}();c6.prototype.int32=function(){return this.uint32()|0};c6.prototype.sint32=function(){var J=this.uint32();return J>>>1^-(J&1)|0};function wa(){var Y=new Z60(0,0),J=0;if(this.len-this.pos>4){for(;J<4;++J)if(Y.lo=(Y.lo|(this.buf[this.pos]&127)<<J*7)>>>0,this.buf[this.pos++]<128)return Y;if(Y.lo=(Y.lo|(this.buf[this.pos]&127)<<28)>>>0,Y.hi=(Y.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return Y;J=0}else{for(;J<3;++J){if(this.pos>=this.len)throw QJ(this);if(Y.lo=(Y.lo|(this.buf[this.pos]&127)<<J*7)>>>0,this.buf[this.pos++]<128)return Y}return Y.lo=(Y.lo|(this.buf[this.pos++]&127)<<J*7)>>>0,Y}if(this.len-this.pos>4){for(;J<5;++J)if(Y.hi=(Y.hi|(this.buf[this.pos]&127)<<J*7+3)>>>0,this.buf[this.pos++]<128)return Y}else for(;J<5;++J){if(this.pos>=this.len)throw QJ(this);if(Y.hi=(Y.hi|(this.buf[this.pos]&127)<<J*7+3)>>>0,this.buf[this.pos++]<128)return Y}throw Error("invalid varint encoding")}c6.prototype.bool=function(){return this.uint32()!==0};function EN(Y,J){return(Y[J-4]|Y[J-3]<<8|Y[J-2]<<16|Y[J-1]<<24)>>>0}c6.prototype.fixed32=function(){if(this.pos+4>this.len)throw QJ(this,4);return EN(this.buf,this.pos+=4)};c6.prototype.sfixed32=function(){if(this.pos+4>this.len)throw QJ(this,4);return EN(this.buf,this.pos+=4)|0};function X60(){if(this.pos+8>this.len)throw QJ(this,8);return new Z60(EN(this.buf,this.pos+=4),EN(this.buf,this.pos+=4))}c6.prototype.float=function(){if(this.pos+4>this.len)throw QJ(this,4);var J=GJ.float.readFloatLE(this.buf,this.pos);return this.pos+=4,J};c6.prototype.double=function(){if(this.pos+8>this.len)throw QJ(this,4);var J=GJ.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,J};c6.prototype.bytes=function(){var J=this.uint32(),X=this.pos,Z=this.pos+J;if(Z>this.len)throw QJ(this,J);if(this.pos+=J,Array.isArray(this.buf))return this.buf.slice(X,Z);if(X===Z){var W=GJ.Buffer;return W?W.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,X,Z)};c6.prototype.string=function(){var J=this.bytes();return pp4.read(J,0,J.length)};c6.prototype.skip=function(J){if(typeof J==="number"){if(this.pos+J>this.len)throw QJ(this,J);this.pos+=J}else do if(this.pos>=this.len)throw QJ(this);while(this.buf[this.pos++]&128);return this};c6.prototype.skipType=function(Y){switch(Y){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:while((Y=this.uint32()&7)!==4)this.skipType(Y);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+Y+" at offset "+this.pos)}return this};c6._configure=function(Y){Aa=Y,c6.create=W60(),Aa._configure();var J=GJ.Long?"toLong":"toNumber";GJ.merge(c6.prototype,{int64:function(){return wa.call(this)[J](!1)},uint64:function(){return wa.call(this)[J](!0)},sint64:function(){return wa.call(this).zzDecode()[J](!1)},fixed64:function(){return X60.call(this)[J](!0)},sfixed64:function(){return X60.call(this)[J](!1)}})}});var z60=q((VW8,U60)=>{U60.exports=tQ;var Q60=TN();(tQ.prototype=Object.create(Q60.prototype)).constructor=tQ;var G60=vX();function tQ(Y){Q60.call(this,Y)}tQ._configure=function(){if(G60.Buffer)tQ.prototype._slice=G60.Buffer.prototype.slice};tQ.prototype.string=function(){var J=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+J,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+J,this.len))};tQ._configure()});var O60=q((IW8,H60)=>{H60.exports=aI;var Pa=vX();(aI.prototype=Object.create(Pa.EventEmitter.prototype)).constructor=aI;function aI(Y,J,X){if(typeof Y!=="function")throw TypeError("rpcImpl must be a function");Pa.EventEmitter.call(this),this.rpcImpl=Y,this.requestDelimited=Boolean(J),this.responseDelimited=Boolean(X)}aI.prototype.rpcCall=function Y(J,X,Z,W,$){if(!W)throw TypeError("request must be specified");var G=this;if(!$)return Pa.asPromise(Y,G,J,X,Z,W);if(!G.rpcImpl){setTimeout(function(){$(Error("already ended"))},0);return}try{return G.rpcImpl(J,X[G.requestDelimited?"encodeDelimited":"encode"](W).finish(),function(U,z){if(U)return G.emit("error",U,J),$(U);if(z===null){G.end(!0);return}if(!(z instanceof Z))try{z=Z[G.responseDelimited?"decodeDelimited":"decode"](z)}catch(H){return G.emit("error",H,J),$(H)}return G.emit("data",z,J),$(null,z)})}catch(Q){G.emit("error",Q,J),setTimeout(function(){$(Q)},0);return}};aI.prototype.end=function(J){if(this.rpcImpl){if(!J)this.rpcImpl(null,null,null);this.rpcImpl=null,this.emit("end").off()}return this}});var La=q((K60)=>{var np4=K60;np4.Service=O60()});var Ma=q((wW8,B60)=>{B60.exports={}});var V60=q((F60)=>{var m9=F60;m9.build="minimal";m9.Writer=MN();m9.BufferWriter=Y60();m9.Reader=TN();m9.BufferReader=z60();m9.util=vX();m9.rpc=La();m9.roots=Ma();m9.configure=q60;function q60(){m9.util._configure(),m9.Writer._configure(m9.BufferWriter),m9.Reader._configure(m9.BufferReader)}q60()});var D60=q((PW8,I60)=>{I60.exports=Ea;function Ea(Y,J){if(typeof Y==="string")J=Y,Y=void 0;var X=[];function Z($){if(typeof $!=="string"){var G=W();if(Ea.verbose)console.log("codegen: "+G);if(G="return "+G,$){var Q=Object.keys($),U=Array(Q.length+1),z=Array(Q.length),H=0;while(H<Q.length)U[H]=Q[H],z[H]=$[Q[H++]];return U[H]=G,Function.apply(null,U).apply(null,z)}return Function(G)()}var O=Array(arguments.length-1),K=0;while(K<O.length)O[K]=arguments[++K];if(K=0,$=$.replace(/%([%dfijs])/g,function(F,V){var I=O[K++];switch(V){case"d":case"f":return String(Number(I));case"i":return String(Math.floor(I));case"j":return JSON.stringify(I);case"s":return String(I)}return"%"}),K!==O.length)throw Error("parameter count mismatch");return X.push($),Z}function W($){return"function "+($||J||"")+"("+(Y&&Y.join(",")||"")+`){
  `+X.join(`
  `)+`
}`}return Z.toString=W,Z}Ea.verbose=!1});var A60=q((LW8,w60)=>{w60.exports=sI;var ip4=pR(),op4=oR(),Ta=op4("fs");function sI(Y,J,X){if(typeof J==="function")X=J,J={};else if(!J)J={};if(!X)return ip4(sI,this,Y,J);if(!J.xhr&&Ta&&Ta.readFile)return Ta.readFile(Y,function(W,$){return W&&typeof XMLHttpRequest<"u"?sI.xhr(Y,J,X):W?X(W):X(null,J.binary?$:$.toString("utf8"))});return sI.xhr(Y,J,X)}sI.xhr=function(J,X,Z){var W=new XMLHttpRequest;if(W.onreadystatechange=function(){if(W.readyState!==4)return;if(W.status!==0&&W.status!==200)return Z(Error("status "+W.status));if(X.binary){var G=W.response;if(!G){G=[];for(var Q=0;Q<W.responseText.length;++Q)G.push(W.responseText.charCodeAt(Q)&255)}return Z(null,typeof Uint8Array<"u"?new Uint8Array(G):G)}return Z(null,W.responseText)},X.binary){if("overrideMimeType"in W)W.overrideMimeType("text/plain; charset=x-user-defined");W.responseType="arraybuffer"}W.open("GET",J),W.send()}});var M60=q((L60)=>{var Na=L60,P60=Na.isAbsolute=function(J){return/^(?:\/|\w+:)/.test(J)},Ra=Na.normalize=function(J){J=J.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var X=J.split("/"),Z=P60(J),W="";if(Z)W=X.shift()+"/";for(var $=0;$<X.length;)if(X[$]==="..")if($>0&&X[$-1]!=="..")X.splice(--$,2);else if(Z)X.splice($,1);else++$;else if(X[$]===".")X.splice($,1);else++$;return W+X.join("/")};Na.resolve=function(J,X,Z){if(!Z)X=Ra(X);if(P60(X))return X;if(!Z)J=Ra(J);return(J=J.replace(/(?:\/|^)[^/]+$/,"")).length?Ra(J+"/"+X):X}});var eO=q((EW8,R60)=>{R60.exports=s0;var RN=H$();((s0.prototype=Object.create(RN.prototype)).constructor=s0).className="Namespace";var Sa=z$(),NN=r8(),rp4=JU(),eQ,tO,YU;s0.fromJSON=function(J,X){return new s0(J,X.options).addJSON(X.nested)};function E60(Y,J){if(!(Y&&Y.length))return;var X={};for(var Z=0;Z<Y.length;++Z)X[Y[Z].name]=Y[Z].toJSON(J);return X}s0.arrayToJSON=E60;s0.isReservedId=function(J,X){if(J){for(var Z=0;Z<J.length;++Z)if(typeof J[Z]!=="string"&&J[Z][0]<=X&&J[Z][1]>X)return!0}return!1};s0.isReservedName=function(J,X){if(J){for(var Z=0;Z<J.length;++Z)if(J[Z]===X)return!0}return!1};function s0(Y,J){RN.call(this,Y,J),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function T60(Y){Y._nestedArray=null,Y._lookupCache={};var J=Y;while(J=J.parent)J._lookupCache={};return Y}Object.defineProperty(s0.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=NN.toArray(this.nested))}});s0.prototype.toJSON=function(J){return NN.toObject(["options",this.options,"nested",E60(this.nestedArray,J)])};s0.prototype.addJSON=function(J){var X=this;if(J)for(var Z=Object.keys(J),W=0,$;W<Z.length;++W)$=J[Z[W]],X.add(($.fields!==void 0?eQ.fromJSON:$.values!==void 0?YU.fromJSON:$.methods!==void 0?tO.fromJSON:$.id!==void 0?Sa.fromJSON:s0.fromJSON)(Z[W],$));return this};s0.prototype.get=function(J){return this.nested&&this.nested[J]||null};s0.prototype.getEnum=function(J){if(this.nested&&this.nested[J]instanceof YU)return this.nested[J].values;throw Error("no such enum: "+J)};s0.prototype.add=function(J){if(!(J instanceof Sa&&J.extend!==void 0||J instanceof eQ||J instanceof rp4||J instanceof YU||J instanceof tO||J instanceof s0))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var X=this.get(J.name);if(X)if(X instanceof s0&&J instanceof s0&&!(X instanceof eQ||X instanceof tO)){var Z=X.nestedArray;for(var W=0;W<Z.length;++W)J.add(Z[W]);if(this.remove(X),!this.nested)this.nested={};J.setOptions(X.options,!0)}else throw Error("duplicate name '"+J.name+"' in "+this)}if(this.nested[J.name]=J,!(this instanceof eQ||this instanceof tO||this instanceof YU||this instanceof Sa)){if(!J._edition)J._edition=J._defaultEdition}this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;var $=this;while($=$.parent)$._needsRecursiveFeatureResolution=!0,$._needsRecursiveResolve=!0;return J.onAdd(this),T60(this)};s0.prototype.remove=function(J){if(!(J instanceof RN))throw TypeError("object must be a ReflectionObject");if(J.parent!==this)throw Error(J+" is not a member of "+this);if(delete this.nested[J.name],!Object.keys(this.nested).length)this.nested=void 0;return J.onRemove(this),T60(this)};s0.prototype.define=function(J,X){if(NN.isString(J))J=J.split(".");else if(!Array.isArray(J))throw TypeError("illegal path");if(J&&J.length&&J[0]==="")throw Error("path must be relative");var Z=this;while(J.length>0){var W=J.shift();if(Z.nested&&Z.nested[W]){if(Z=Z.nested[W],!(Z instanceof s0))throw Error("path conflicts with non-namespace objects")}else Z.add(Z=new s0(W))}if(X)Z.addJSON(X);return Z};s0.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var J=this.nestedArray,X=0;this.resolve();while(X<J.length)if(J[X]instanceof s0)J[X++].resolveAll();else J[X++].resolve();return this._needsRecursiveResolve=!1,this};s0.prototype._resolveFeaturesRecursive=function(J){if(!this._needsRecursiveFeatureResolution)return this;return this._needsRecursiveFeatureResolution=!1,J=this._edition||J,RN.prototype._resolveFeaturesRecursive.call(this,J),this.nestedArray.forEach((X)=>{X._resolveFeaturesRecursive(J)}),this};s0.prototype.lookup=function(J,X,Z){if(typeof X==="boolean")Z=X,X=void 0;else if(X&&!Array.isArray(X))X=[X];if(NN.isString(J)&&J.length){if(J===".")return this.root;J=J.split(".")}else if(!J.length)return this;var W=J.join(".");if(J[0]==="")return this.root.lookup(J.slice(1),X);var $=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+W];if($&&(!X||X.indexOf($.constructor)>-1))return $;if($=this._lookupImpl(J,W),$&&(!X||X.indexOf($.constructor)>-1))return $;if(Z)return null;var G=this;while(G.parent){if($=G.parent._lookupImpl(J,W),$&&(!X||X.indexOf($.constructor)>-1))return $;G=G.parent}return null};s0.prototype._lookupImpl=function(J,X){if(Object.prototype.hasOwnProperty.call(this._lookupCache,X))return this._lookupCache[X];var Z=this.get(J[0]),W=null;if(Z){if(J.length===1)W=Z;else if(Z instanceof s0)J=J.slice(1),W=Z._lookupImpl(J,J.join("."))}else for(var $=0;$<this.nestedArray.length;++$)if(this._nestedArray[$]instanceof s0&&(Z=this._nestedArray[$]._lookupImpl(J,X)))W=Z;return this._lookupCache[X]=W,W};s0.prototype.lookupType=function(J){var X=this.lookup(J,[eQ]);if(!X)throw Error("no such type: "+J);return X};s0.prototype.lookupEnum=function(J){var X=this.lookup(J,[YU]);if(!X)throw Error("no such Enum '"+J+"' in "+this);return X};s0.prototype.lookupTypeOrEnum=function(J){var X=this.lookup(J,[eQ,YU]);if(!X)throw Error("no such Type or Enum '"+J+"' in "+this);return X};s0.prototype.lookupService=function(J){var X=this.lookup(J,[tO]);if(!X)throw Error("no such Service '"+J+"' in "+this);return X};s0._configure=function(Y,J,X){eQ=Y,tO=J,YU=X}});var SN=q((TW8,N60)=>{N60.exports=KZ;var Ca=z$();((KZ.prototype=Object.create(Ca.prototype)).constructor=KZ).className="MapField";var ap4=XU(),tI=r8();function KZ(Y,J,X,Z,W,$){if(Ca.call(this,Y,J,Z,void 0,void 0,W,$),!tI.isString(X))throw TypeError("keyType must be a string");this.keyType=X,this.resolvedKeyType=null,this.map=!0}KZ.fromJSON=function(J,X){return new KZ(J,X.id,X.keyType,X.type,X.options,X.comment)};KZ.prototype.toJSON=function(J){var X=J?Boolean(J.keepComments):!1;return tI.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",X?this.comment:void 0])};KZ.prototype.resolve=function(){if(this.resolved)return this;if(ap4.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return Ca.prototype.resolve.call(this)};KZ.d=function(J,X,Z){if(typeof Z==="function")Z=tI.decorateType(Z).name;else if(Z&&typeof Z==="object")Z=tI.decorateEnum(Z).name;return function($,G){tI.decorateType($.constructor).add(new KZ(G,J,X,Z))}}});var CN=q((RW8,S60)=>{S60.exports=ZU;var ja=H$();((ZU.prototype=Object.create(ja.prototype)).constructor=ZU).className="Method";var YK=r8();function ZU(Y,J,X,Z,W,$,G,Q,U){if(YK.isObject(W))G=W,W=$=void 0;else if(YK.isObject($))G=$,$=void 0;if(!(J===void 0||YK.isString(J)))throw TypeError("type must be a string");if(!YK.isString(X))throw TypeError("requestType must be a string");if(!YK.isString(Z))throw TypeError("responseType must be a string");ja.call(this,Y,G),this.type=J||"rpc",this.requestType=X,this.requestStream=W?!0:void 0,this.responseType=Z,this.responseStream=$?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=Q,this.parsedOptions=U}ZU.fromJSON=function(J,X){return new ZU(J,X.type,X.requestType,X.responseType,X.requestStream,X.responseStream,X.options,X.comment,X.parsedOptions)};ZU.prototype.toJSON=function(J){var X=J?Boolean(J.keepComments):!1;return YK.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",X?this.comment:void 0,"parsedOptions",this.parsedOptions])};ZU.prototype.resolve=function(){if(this.resolved)return this;return this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),ja.prototype.resolve.call(this)}});var jN=q((NW8,j60)=>{j60.exports=F7;var BZ=eO();((F7.prototype=Object.create(BZ.prototype)).constructor=F7).className="Service";var ka=CN(),eI=r8(),sp4=La();function F7(Y,J){BZ.call(this,Y,J),this.methods={},this._methodsArray=null}F7.fromJSON=function(J,X){var Z=new F7(J,X.options);if(X.methods)for(var W=Object.keys(X.methods),$=0;$<W.length;++$)Z.add(ka.fromJSON(W[$],X.methods[W[$]]));if(X.nested)Z.addJSON(X.nested);if(X.edition)Z._edition=X.edition;return Z.comment=X.comment,Z._defaultEdition="proto3",Z};F7.prototype.toJSON=function(J){var X=BZ.prototype.toJSON.call(this,J),Z=J?Boolean(J.keepComments):!1;return eI.toObject(["edition",this._editionToJSON(),"options",X&&X.options||void 0,"methods",BZ.arrayToJSON(this.methodsArray,J)||{},"nested",X&&X.nested||void 0,"comment",Z?this.comment:void 0])};Object.defineProperty(F7.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=eI.toArray(this.methods))}});function C60(Y){return Y._methodsArray=null,Y}F7.prototype.get=function(J){return this.methods[J]||BZ.prototype.get.call(this,J)};F7.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;BZ.prototype.resolve.call(this);var J=this.methodsArray;for(var X=0;X<J.length;++X)J[X].resolve();return this};F7.prototype._resolveFeaturesRecursive=function(J){if(!this._needsRecursiveFeatureResolution)return this;return J=this._edition||J,BZ.prototype._resolveFeaturesRecursive.call(this,J),this.methodsArray.forEach((X)=>{X._resolveFeaturesRecursive(J)}),this};F7.prototype.add=function(J){if(this.get(J.name))throw Error("duplicate name '"+J.name+"' in "+this);if(J instanceof ka)return this.methods[J.name]=J,J.parent=this,C60(this);return BZ.prototype.add.call(this,J)};F7.prototype.remove=function(J){if(J instanceof ka){if(this.methods[J.name]!==J)throw Error(J+" is not a member of "+this);return delete this.methods[J.name],J.parent=null,C60(this)}return BZ.prototype.remove.call(this,J)};F7.prototype.create=function(J,X,Z){var W=new sp4.Service(J,X,Z);for(var $=0,G;$<this.methodsArray.length;++$){var Q=eI.lcFirst((G=this._methodsArray[$]).resolve().name).replace(/[^$\w_]/g,"");W[Q]=eI.codegen(["r","c"],eI.isReserved(Q)?Q+"_":Q)("return this.rpcCall(m,q,s,r,c)")({m:G,q:G.resolvedRequestType.ctor,s:G.resolvedResponseType.ctor})}return W}});var kN=q((SW8,k60)=>{k60.exports=bX;var tp4=vX();function bX(Y){if(Y)for(var J=Object.keys(Y),X=0;X<J.length;++X)this[J[X]]=Y[J[X]]}bX.create=function(J){return this.$type.create(J)};bX.encode=function(J,X){return this.$type.encode(J,X)};bX.encodeDelimited=function(J,X){return this.$type.encodeDelimited(J,X)};bX.decode=function(J){return this.$type.decode(J)};bX.decodeDelimited=function(J){return this.$type.decodeDelimited(J)};bX.verify=function(J){return this.$type.verify(J)};bX.fromObject=function(J){return this.$type.fromObject(J)};bX.toObject=function(J,X){return this.$type.toObject(J,X)};bX.prototype.toJSON=function(){return this.$type.toObject(this,tp4.toJSONOptions)}});var _a=q((CW8,x60)=>{x60.exports=Jn4;var ep4=UJ(),qZ=XU(),_60=r8();function Yn4(Y){return"missing required '"+Y.name+"'"}function Jn4(Y){var J=_60.codegen(["r","l","e"],Y.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(Y.fieldsArray.filter(function(Q){return Q.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),X=0;for(;X<Y.fieldsArray.length;++X){var Z=Y._fieldsArray[X].resolve(),W=Z.resolvedType instanceof ep4?"int32":Z.type,$="m"+_60.safeProp(Z.name);if(J("case %i: {",Z.id),Z.map){if(J("if(%s===util.emptyObject)",$)("%s={}",$)("var c2 = r.uint32()+r.pos"),qZ.defaults[Z.keyType]!==void 0)J("k=%j",qZ.defaults[Z.keyType]);else J("k=null");if(qZ.defaults[W]!==void 0)J("value=%j",qZ.defaults[W]);else J("value=null");if(J("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",Z.keyType)("case 2:"),qZ.basic[W]===void 0)J("value=types[%i].decode(r,r.uint32())",X);else J("value=r.%s()",W);if(J("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),qZ.long[Z.keyType]!==void 0)J('%s[typeof k==="object"?util.longToHash(k):k]=value',$);else J("%s[k]=value",$)}else if(Z.repeated){if(J("if(!(%s&&%s.length))",$,$)("%s=[]",$),qZ.packed[W]!==void 0)J("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",$,W)("}else");if(qZ.basic[W]===void 0)J(Z.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",$,X);else J("%s.push(r.%s())",$,W)}else if(qZ.basic[W]===void 0)J(Z.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",$,X);else J("%s=r.%s()",$,W);J("break")("}")}J("default:")("r.skipType(t&7)")("break")("}")("}");for(X=0;X<Y._fieldsArray.length;++X){var G=Y._fieldsArray[X];if(G.required)J("if(!m.hasOwnProperty(%j))",G.name)("throw util.ProtocolError(%j,{instance:m})",Yn4(G))}return J("return m")}});var va=q((jW8,f60)=>{f60.exports=Wn4;var Xn4=UJ(),xa=r8();function ZY(Y,J){return Y.name+": "+J+(Y.repeated&&J!=="array"?"[]":Y.map&&J!=="object"?"{k:"+Y.keyType+"}":"")+" expected"}function fa(Y,J,X,Z){if(J.resolvedType)if(J.resolvedType instanceof Xn4){Y("switch(%s){",Z)("default:")("return%j",ZY(J,"enum value"));for(var W=Object.keys(J.resolvedType.values),$=0;$<W.length;++$)Y("case %i:",J.resolvedType.values[W[$]]);Y("break")("}")}else Y("{")("var e=types[%i].verify(%s);",X,Z)("if(e)")("return%j+e",J.name+".")("}");else switch(J.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":Y("if(!util.isInteger(%s))",Z)("return%j",ZY(J,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":Y("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",Z,Z,Z,Z)("return%j",ZY(J,"integer|Long"));break;case"float":case"double":Y('if(typeof %s!=="number")',Z)("return%j",ZY(J,"number"));break;case"bool":Y('if(typeof %s!=="boolean")',Z)("return%j",ZY(J,"boolean"));break;case"string":Y("if(!util.isString(%s))",Z)("return%j",ZY(J,"string"));break;case"bytes":Y('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',Z,Z,Z)("return%j",ZY(J,"buffer"));break}return Y}function Zn4(Y,J,X){switch(J.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":Y("if(!util.key32Re.test(%s))",X)("return%j",ZY(J,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":Y("if(!util.key64Re.test(%s))",X)("return%j",ZY(J,"integer|Long key"));break;case"bool":Y("if(!util.key2Re.test(%s))",X)("return%j",ZY(J,"boolean key"));break}return Y}function Wn4(Y){var J=xa.codegen(["m"],Y.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),X=Y.oneofsArray,Z={};if(X.length)J("var p={}");for(var W=0;W<Y.fieldsArray.length;++W){var $=Y._fieldsArray[W].resolve(),G="m"+xa.safeProp($.name);if($.optional)J("if(%s!=null&&m.hasOwnProperty(%j)){",G,$.name);if($.map)J("if(!util.isObject(%s))",G)("return%j",ZY($,"object"))("var k=Object.keys(%s)",G)("for(var i=0;i<k.length;++i){"),Zn4(J,$,"k[i]"),fa(J,$,W,G+"[k[i]]")("}");else if($.repeated)J("if(!Array.isArray(%s))",G)("return%j",ZY($,"array"))("for(var i=0;i<%s.length;++i){",G),fa(J,$,W,G+"[i]")("}");else{if($.partOf){var Q=xa.safeProp($.partOf.name);if(Z[$.partOf.name]===1)J("if(p%s===1)",Q)("return%j",$.partOf.name+": multiple values");Z[$.partOf.name]=1,J("p%s=1",Q)}fa(J,$,W,G)}if($.optional)J("}")}return J("return null")}});var ya=q((h60)=>{var v60=h60,YD=UJ(),yX=r8();function ha(Y,J,X,Z){var W=!1;if(J.resolvedType)if(J.resolvedType instanceof YD){Y("switch(d%s){",Z);for(var $=J.resolvedType.values,G=Object.keys($),Q=0;Q<G.length;++Q){if($[G[Q]]===J.typeDefault&&!W){if(Y("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',Z,Z,Z),!J.repeated)Y("break");W=!0}Y("case%j:",G[Q])("case %i:",$[G[Q]])("m%s=%j",Z,$[G[Q]])("break")}Y("}")}else Y('if(typeof d%s!=="object")',Z)("throw TypeError(%j)",J.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",Z,X,Z);else{var U=!1;switch(J.type){case"double":case"float":Y("m%s=Number(d%s)",Z,Z);break;case"uint32":case"fixed32":Y("m%s=d%s>>>0",Z,Z);break;case"int32":case"sint32":case"sfixed32":Y("m%s=d%s|0",Z,Z);break;case"uint64":U=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":Y("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",Z,Z,U)('else if(typeof d%s==="string")',Z)("m%s=parseInt(d%s,10)",Z,Z)('else if(typeof d%s==="number")',Z)("m%s=d%s",Z,Z)('else if(typeof d%s==="object")',Z)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",Z,Z,Z,U?"true":"");break;case"bytes":Y('if(typeof d%s==="string")',Z)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",Z,Z,Z)("else if(d%s.length >= 0)",Z)("m%s=d%s",Z,Z);break;case"string":Y("m%s=String(d%s)",Z,Z);break;case"bool":Y("m%s=Boolean(d%s)",Z,Z);break}}return Y}v60.fromObject=function(J){var X=J.fieldsArray,Z=yX.codegen(["d"],J.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!X.length)return Z("return new this.ctor");Z("var m=new this.ctor");for(var W=0;W<X.length;++W){var $=X[W].resolve(),G=yX.safeProp($.name);if($.map)Z("if(d%s){",G)('if(typeof d%s!=="object")',G)("throw TypeError(%j)",$.fullName+": object expected")("m%s={}",G)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",G),ha(Z,$,W,G+"[ks[i]]")("}")("}");else if($.repeated)Z("if(d%s){",G)("if(!Array.isArray(d%s))",G)("throw TypeError(%j)",$.fullName+": array expected")("m%s=[]",G)("for(var i=0;i<d%s.length;++i){",G),ha(Z,$,W,G+"[i]")("}")("}");else{if(!($.resolvedType instanceof YD))Z("if(d%s!=null){",G);if(ha(Z,$,W,G),!($.resolvedType instanceof YD))Z("}")}}return Z("return m")};function ba(Y,J,X,Z){if(J.resolvedType)if(J.resolvedType instanceof YD)Y("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",Z,X,Z,Z,X,Z,Z);else Y("d%s=types[%i].toObject(m%s,o)",Z,X,Z);else{var W=!1;switch(J.type){case"double":case"float":Y("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",Z,Z,Z,Z);break;case"uint64":W=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":Y('if(typeof m%s==="number")',Z)("d%s=o.longs===String?String(m%s):m%s",Z,Z,Z)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",Z,Z,Z,Z,W?"true":"",Z);break;case"bytes":Y("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",Z,Z,Z,Z,Z);break;default:Y("d%s=m%s",Z,Z);break}}return Y}v60.toObject=function(J){var X=J.fieldsArray.slice().sort(yX.compareFieldsById);if(!X.length)return yX.codegen()("return {}");var Z=yX.codegen(["m","o"],J.name+"$toObject")("if(!o)")("o={}")("var d={}"),W=[],$=[],G=[],Q=0;for(;Q<X.length;++Q)if(!X[Q].partOf)(X[Q].resolve().repeated?W:X[Q].map?$:G).push(X[Q]);if(W.length){Z("if(o.arrays||o.defaults){");for(Q=0;Q<W.length;++Q)Z("d%s=[]",yX.safeProp(W[Q].name));Z("}")}if($.length){Z("if(o.objects||o.defaults){");for(Q=0;Q<$.length;++Q)Z("d%s={}",yX.safeProp($[Q].name));Z("}")}if(G.length){Z("if(o.defaults){");for(Q=0;Q<G.length;++Q){var U=G[Q],z=yX.safeProp(U.name);if(U.resolvedType instanceof YD)Z("d%s=o.enums===String?%j:%j",z,U.resolvedType.valuesById[U.typeDefault],U.typeDefault);else if(U.long)Z("if(util.Long){")("var n=new util.Long(%i,%i,%j)",U.typeDefault.low,U.typeDefault.high,U.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",z)("}else")("d%s=o.longs===String?%j:%i",z,U.typeDefault.toString(),U.typeDefault.toNumber());else if(U.bytes){var H="["+Array.prototype.slice.call(U.typeDefault).join(",")+"]";Z("if(o.bytes===String)d%s=%j",z,String.fromCharCode.apply(String,U.typeDefault))("else{")("d%s=%s",z,H)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",z,z)("}")}else Z("d%s=%j",z,U.typeDefault)}Z("}")}var O=!1;for(Q=0;Q<X.length;++Q){var U=X[Q],K=J._fieldsArray.indexOf(U),z=yX.safeProp(U.name);if(U.map){if(!O)O=!0,Z("var ks2");Z("if(m%s&&(ks2=Object.keys(m%s)).length){",z,z)("d%s={}",z)("for(var j=0;j<ks2.length;++j){"),ba(Z,U,K,z+"[ks2[j]]")("}")}else if(U.repeated)Z("if(m%s&&m%s.length){",z,z)("d%s=[]",z)("for(var j=0;j<m%s.length;++j){",z),ba(Z,U,K,z+"[j]")("}");else if(Z("if(m%s!=null&&m.hasOwnProperty(%j)){",z,U.name),ba(Z,U,K,z),U.partOf)Z("if(o.oneofs)")("d%s=%j",yX.safeProp(U.partOf.name),U.name);Z("}")}return Z("return d")}});var ga=q((b60)=>{var $n4=b60,Gn4=kN();$n4[".google.protobuf.Any"]={fromObject:function(Y){if(Y&&Y["@type"]){var J=Y["@type"].substring(Y["@type"].lastIndexOf("/")+1),X=this.lookup(J);if(X){var Z=Y["@type"].charAt(0)==="."?Y["@type"].slice(1):Y["@type"];if(Z.indexOf("/")===-1)Z="/"+Z;return this.create({type_url:Z,value:X.encode(X.fromObject(Y)).finish()})}}return this.fromObject(Y)},toObject:function(Y,J){var X="type.googleapis.com/",Z="",W="";if(J&&J.json&&Y.type_url&&Y.value){W=Y.type_url.substring(Y.type_url.lastIndexOf("/")+1),Z=Y.type_url.substring(0,Y.type_url.lastIndexOf("/")+1);var $=this.lookup(W);if($)Y=$.decode(Y.value)}if(!(Y instanceof this.ctor)&&Y instanceof Gn4){var G=Y.$type.toObject(Y,J),Q=Y.$type.fullName[0]==="."?Y.$type.fullName.slice(1):Y.$type.fullName;if(Z==="")Z=X;return W=Z+Q,G["@type"]=W,G}return this.toObject(Y,J)}}});var fN=q((xW8,g60)=>{g60.exports=m4;var WY=eO();((m4.prototype=Object.create(WY.prototype)).constructor=m4).className="Type";var Qn4=UJ(),da=JU(),_N=z$(),Un4=SN(),zn4=jN(),ua=kN(),ma=TN(),Hn4=MN(),g5=r8(),On4=ca(),Kn4=_a(),Bn4=va(),y60=ya(),qn4=ga();function m4(Y,J){WY.call(this,Y,J),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(m4.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var Y=Object.keys(this.fields),J=0;J<Y.length;++J){var X=this.fields[Y[J]],Z=X.id;if(this._fieldsById[Z])throw Error("duplicate id "+Z+" in "+this);this._fieldsById[Z]=X}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=g5.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=g5.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=m4.generateConstructor(this)())},set:function(Y){var J=Y.prototype;if(!(J instanceof ua))(Y.prototype=new ua).constructor=Y,g5.merge(Y.prototype,J);Y.$type=Y.prototype.$type=this,g5.merge(Y,ua,!0),this._ctor=Y;var X=0;for(;X<this.fieldsArray.length;++X)this._fieldsArray[X].resolve();var Z={};for(X=0;X<this.oneofsArray.length;++X)Z[this._oneofsArray[X].resolve().name]={get:g5.oneOfGetter(this._oneofsArray[X].oneof),set:g5.oneOfSetter(this._oneofsArray[X].oneof)};if(X)Object.defineProperties(Y.prototype,Z)}}});m4.generateConstructor=function(J){var X=g5.codegen(["p"],J.name);for(var Z=0,W;Z<J.fieldsArray.length;++Z)if((W=J._fieldsArray[Z]).map)X("this%s={}",g5.safeProp(W.name));else if(W.repeated)X("this%s=[]",g5.safeProp(W.name));return X("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function xN(Y){return Y._fieldsById=Y._fieldsArray=Y._oneofsArray=null,delete Y.encode,delete Y.decode,delete Y.verify,Y}m4.fromJSON=function(J,X){var Z=new m4(J,X.options);Z.extensions=X.extensions,Z.reserved=X.reserved;var W=Object.keys(X.fields),$=0;for(;$<W.length;++$)Z.add((typeof X.fields[W[$]].keyType<"u"?Un4.fromJSON:_N.fromJSON)(W[$],X.fields[W[$]]));if(X.oneofs)for(W=Object.keys(X.oneofs),$=0;$<W.length;++$)Z.add(da.fromJSON(W[$],X.oneofs[W[$]]));if(X.nested)for(W=Object.keys(X.nested),$=0;$<W.length;++$){var G=X.nested[W[$]];Z.add((G.id!==void 0?_N.fromJSON:G.fields!==void 0?m4.fromJSON:G.values!==void 0?Qn4.fromJSON:G.methods!==void 0?zn4.fromJSON:WY.fromJSON)(W[$],G))}if(X.extensions&&X.extensions.length)Z.extensions=X.extensions;if(X.reserved&&X.reserved.length)Z.reserved=X.reserved;if(X.group)Z.group=!0;if(X.comment)Z.comment=X.comment;if(X.edition)Z._edition=X.edition;return Z._defaultEdition="proto3",Z};m4.prototype.toJSON=function(J){var X=WY.prototype.toJSON.call(this,J),Z=J?Boolean(J.keepComments):!1;return g5.toObject(["edition",this._editionToJSON(),"options",X&&X.options||void 0,"oneofs",WY.arrayToJSON(this.oneofsArray,J),"fields",WY.arrayToJSON(this.fieldsArray.filter(function(W){return!W.declaringField}),J)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",X&&X.nested||void 0,"comment",Z?this.comment:void 0])};m4.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;WY.prototype.resolveAll.call(this);var J=this.oneofsArray;Z=0;while(Z<J.length)J[Z++].resolve();var X=this.fieldsArray,Z=0;while(Z<X.length)X[Z++].resolve();return this};m4.prototype._resolveFeaturesRecursive=function(J){if(!this._needsRecursiveFeatureResolution)return this;return J=this._edition||J,WY.prototype._resolveFeaturesRecursive.call(this,J),this.oneofsArray.forEach((X)=>{X._resolveFeatures(J)}),this.fieldsArray.forEach((X)=>{X._resolveFeatures(J)}),this};m4.prototype.get=function(J){return this.fields[J]||this.oneofs&&this.oneofs[J]||this.nested&&this.nested[J]||null};m4.prototype.add=function(J){if(this.get(J.name))throw Error("duplicate name '"+J.name+"' in "+this);if(J instanceof _N&&J.extend===void 0){if(this._fieldsById?this._fieldsById[J.id]:this.fieldsById[J.id])throw Error("duplicate id "+J.id+" in "+this);if(this.isReservedId(J.id))throw Error("id "+J.id+" is reserved in "+this);if(this.isReservedName(J.name))throw Error("name '"+J.name+"' is reserved in "+this);if(J.parent)J.parent.remove(J);return this.fields[J.name]=J,J.message=this,J.onAdd(this),xN(this)}if(J instanceof da){if(!this.oneofs)this.oneofs={};return this.oneofs[J.name]=J,J.onAdd(this),xN(this)}return WY.prototype.add.call(this,J)};m4.prototype.remove=function(J){if(J instanceof _N&&J.extend===void 0){if(!this.fields||this.fields[J.name]!==J)throw Error(J+" is not a member of "+this);return delete this.fields[J.name],J.parent=null,J.onRemove(this),xN(this)}if(J instanceof da){if(!this.oneofs||this.oneofs[J.name]!==J)throw Error(J+" is not a member of "+this);return delete this.oneofs[J.name],J.parent=null,J.onRemove(this),xN(this)}return WY.prototype.remove.call(this,J)};m4.prototype.isReservedId=function(J){return WY.isReservedId(this.reserved,J)};m4.prototype.isReservedName=function(J){return WY.isReservedName(this.reserved,J)};m4.prototype.create=function(J){return new this.ctor(J)};m4.prototype.setup=function(){var J=this.fullName,X=[];for(var Z=0;Z<this.fieldsArray.length;++Z)X.push(this._fieldsArray[Z].resolve().resolvedType);this.encode=On4(this)({Writer:Hn4,types:X,util:g5}),this.decode=Kn4(this)({Reader:ma,types:X,util:g5}),this.verify=Bn4(this)({types:X,util:g5}),this.fromObject=y60.fromObject(this)({types:X,util:g5}),this.toObject=y60.toObject(this)({types:X,util:g5});var W=qn4[J];if(W){var $=Object.create(this);$.fromObject=this.fromObject,this.fromObject=W.fromObject.bind($),$.toObject=this.toObject,this.toObject=W.toObject.bind($)}return this};m4.prototype.encode=function(J,X){return this.setup().encode(J,X)};m4.prototype.encodeDelimited=function(J,X){return this.encode(J,X&&X.len?X.fork():X).ldelim()};m4.prototype.decode=function(J,X){return this.setup().decode(J,X)};m4.prototype.decodeDelimited=function(J){if(!(J instanceof ma))J=ma.create(J);return this.decode(J,J.uint32())};m4.prototype.verify=function(J){return this.setup().verify(J)};m4.prototype.fromObject=function(J){return this.setup().fromObject(J)};m4.prototype.toObject=function(J,X){return this.setup().toObject(J,X)};m4.d=function(J){return function(Z){g5.decorateType(Z,J)}}});var yN=q((fW8,d60)=>{d60.exports=V7;var bN=eO();((V7.prototype=Object.create(bN.prototype)).constructor=V7).className="Root";var vN=z$(),la=UJ(),Fn4=JU(),O$=r8(),pa,na,JD;function V7(Y){bN.call(this,"",Y),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}V7.fromJSON=function(J,X){if(!X)X=new V7;if(J.options)X.setOptions(J.options);return X.addJSON(J.nested).resolveAll()};V7.prototype.resolvePath=O$.path.resolve;V7.prototype.fetch=O$.fetch;function m60(){}V7.prototype.load=function Y(J,X,Z){if(typeof X==="function")Z=X,X=void 0;var W=this;if(!Z)return O$.asPromise(Y,W,J,X);var $=Z===m60;function G(B,F){if(!Z)return;if($)throw B;if(F)F.resolveAll();var V=Z;Z=null,V(B,F)}function Q(B){var F=B.lastIndexOf("google/protobuf/");if(F>-1){var V=B.substring(F);if(V in JD)return V}return null}function U(B,F){try{if(O$.isString(F)&&F.charAt(0)==="{")F=JSON.parse(F);if(!O$.isString(F))W.setOptions(F.options).addJSON(F.nested);else{na.filename=B;var V=na(F,W,X),I,D=0;if(V.imports){for(;D<V.imports.length;++D)if(I=Q(V.imports[D])||W.resolvePath(B,V.imports[D]))z(I)}if(V.weakImports){for(D=0;D<V.weakImports.length;++D)if(I=Q(V.weakImports[D])||W.resolvePath(B,V.weakImports[D]))z(I,!0)}}}catch(L){G(L)}if(!$&&!H)G(null,W)}function z(B,F){if(B=Q(B)||B,W.files.indexOf(B)>-1)return;if(W.files.push(B),B in JD){if($)U(B,JD[B]);else++H,setTimeout(function(){--H,U(B,JD[B])});return}if($){var V;try{V=O$.fs.readFileSync(B).toString("utf8")}catch(I){if(!F)G(I);return}U(B,V)}else++H,W.fetch(B,function(I,D){if(--H,!Z)return;if(I){if(!F)G(I);else if(!H)G(null,W);return}U(B,D)})}var H=0;if(O$.isString(J))J=[J];for(var O=0,K;O<J.length;++O)if(K=W.resolvePath("",J[O]))z(K);if($)return W.resolveAll(),W;if(!H)G(null,W);return W};V7.prototype.loadSync=function(J,X){if(!O$.isNode)throw Error("not supported");return this.load(J,X,m60)};V7.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(J){return"'extend "+J.extend+"' in "+J.parent.fullName}).join(", "));return bN.prototype.resolveAll.call(this)};var hN=/^[A-Z]/;function u60(Y,J){var X=J.parent.lookup(J.extend);if(X){var Z=new vN(J.fullName,J.id,J.type,J.rule,void 0,J.options);if(X.get(Z.name))return!0;return Z.declaringField=J,J.extensionField=Z,X.add(Z),!0}return!1}V7.prototype._handleAdd=function(J){if(J instanceof vN){if(J.extend!==void 0&&!J.extensionField){if(!u60(this,J))this.deferred.push(J)}}else if(J instanceof la){if(hN.test(J.name))J.parent[J.name]=J.values}else if(!(J instanceof Fn4)){if(J instanceof pa)for(var X=0;X<this.deferred.length;)if(u60(this,this.deferred[X]))this.deferred.splice(X,1);else++X;for(var Z=0;Z<J.nestedArray.length;++Z)this._handleAdd(J._nestedArray[Z]);if(hN.test(J.name))J.parent[J.name]=J}if(J instanceof pa||J instanceof la||J instanceof vN)this._fullyQualifiedObjects[J.fullName]=J};V7.prototype._handleRemove=function(J){if(J instanceof vN){if(J.extend!==void 0)if(J.extensionField)J.extensionField.parent.remove(J.extensionField),J.extensionField=null;else{var X=this.deferred.indexOf(J);if(X>-1)this.deferred.splice(X,1)}}else if(J instanceof la){if(hN.test(J.name))delete J.parent[J.name]}else if(J instanceof bN){for(var Z=0;Z<J.nestedArray.length;++Z)this._handleRemove(J._nestedArray[Z]);if(hN.test(J.name))delete J.parent[J.name]}delete this._fullyQualifiedObjects[J.fullName]};V7._configure=function(Y,J,X){pa=Y,na=J,JD=X}});var r8=q((vW8,l60)=>{var l6=l60.exports=vX(),c60=Ma(),ia,oa;l6.codegen=D60();l6.fetch=A60();l6.path=M60();l6.fs=l6.inquire("fs");l6.toArray=function(J){if(J){var X=Object.keys(J),Z=Array(X.length),W=0;while(W<X.length)Z[W]=J[X[W++]];return Z}return[]};l6.toObject=function(J){var X={},Z=0;while(Z<J.length){var W=J[Z++],$=J[Z++];if($!==void 0)X[W]=$}return X};var Vn4=/\\/g,In4=/"/g;l6.isReserved=function(J){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(J)};l6.safeProp=function(J){if(!/^[$\w_]+$/.test(J)||l6.isReserved(J))return'["'+J.replace(Vn4,"\\\\").replace(In4,"\\\"")+'"]';return"."+J};l6.ucFirst=function(J){return J.charAt(0).toUpperCase()+J.substring(1)};var Dn4=/_([a-z])/g;l6.camelCase=function(J){return J.substring(0,1)+J.substring(1).replace(Dn4,function(X,Z){return Z.toUpperCase()})};l6.compareFieldsById=function(J,X){return J.id-X.id};l6.decorateType=function(J,X){if(J.$type){if(X&&J.$type.name!==X)l6.decorateRoot.remove(J.$type),J.$type.name=X,l6.decorateRoot.add(J.$type);return J.$type}if(!ia)ia=fN();var Z=new ia(X||J.name);return l6.decorateRoot.add(Z),Z.ctor=J,Object.defineProperty(J,"$type",{value:Z,enumerable:!1}),Object.defineProperty(J.prototype,"$type",{value:Z,enumerable:!1}),Z};var wn4=0;l6.decorateEnum=function(J){if(J.$type)return J.$type;if(!oa)oa=UJ();var X=new oa("Enum"+wn4++,J);return l6.decorateRoot.add(X),Object.defineProperty(J,"$type",{value:X,enumerable:!1}),X};l6.setProperty=function(J,X,Z,W){function $(G,Q,U){var z=Q.shift();if(z==="__proto__"||z==="prototype")return G;if(Q.length>0)G[z]=$(G[z]||{},Q,U);else{var H=G[z];if(H&&W)return G;if(H)U=[].concat(H).concat(U);G[z]=U}return G}if(typeof J!=="object")throw TypeError("dst must be an object");if(!X)throw TypeError("path must be specified");return X=X.split("."),$(J,X,Z)};Object.defineProperty(l6,"decorateRoot",{get:function(){return c60.decorated||(c60.decorated=new(yN()))}})});var XU=q((p60)=>{var XD=p60,An4=r8(),Pn4=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function ZD(Y,J){var X=0,Z={};J|=0;while(X<Y.length)Z[Pn4[X+J]]=Y[X++];return Z}XD.basic=ZD([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);XD.defaults=ZD([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",An4.emptyArray,null]);XD.long=ZD([0,0,0,1,1],7);XD.mapKey=ZD([0,0,0,5,5,0,0,0,1,1,0,2],2);XD.packed=ZD([1,5,0,0,0,5,5,0,0,0,1,1,0])});var z$=q((bW8,i60)=>{i60.exports=a8;var $D=H$();((a8.prototype=Object.create($D.prototype)).constructor=a8).className="Field";var n60=UJ(),ra=XU(),z8=r8(),WD,Ln4=/^required|optional|repeated$/;a8.fromJSON=function(J,X){var Z=new a8(J,X.id,X.type,X.rule,X.extend,X.options,X.comment);if(X.edition)Z._edition=X.edition;return Z._defaultEdition="proto3",Z};function a8(Y,J,X,Z,W,$,G){if(z8.isObject(Z))G=W,$=Z,Z=W=void 0;else if(z8.isObject(W))G=$,$=W,W=void 0;if($D.call(this,Y,$),!z8.isInteger(J)||J<0)throw TypeError("id must be a non-negative integer");if(!z8.isString(X))throw TypeError("type must be a string");if(Z!==void 0&&!Ln4.test(Z=Z.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(W!==void 0&&!z8.isString(W))throw TypeError("extend must be a string");if(Z==="proto3_optional")Z="optional";this.rule=Z&&Z!=="optional"?Z:void 0,this.type=X,this.id=J,this.extend=W||void 0,this.repeated=Z==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=z8.Long?ra.long[X]!==void 0:!1,this.bytes=X==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=G}Object.defineProperty(a8.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}});Object.defineProperty(a8.prototype,"optional",{get:function(){return!this.required}});Object.defineProperty(a8.prototype,"delimited",{get:function(){return this.resolvedType instanceof WD&&this._features.message_encoding==="DELIMITED"}});Object.defineProperty(a8.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}});Object.defineProperty(a8.prototype,"hasPresence",{get:function(){if(this.repeated||this.map)return!1;return this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}});a8.prototype.setOption=function(J,X,Z){return $D.prototype.setOption.call(this,J,X,Z)};a8.prototype.toJSON=function(J){var X=J?Boolean(J.keepComments):!1;return z8.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",X?this.comment:void 0])};a8.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=ra.defaults[this.type])===void 0)if(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof WD)this.typeDefault=null;else this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]];else if(this.options&&this.options.proto3_optional)this.typeDefault=null;if(this.options&&this.options.default!=null){if(this.typeDefault=this.options.default,this.resolvedType instanceof n60&&typeof this.typeDefault==="string")this.typeDefault=this.resolvedType.values[this.typeDefault]}if(this.options){if(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof n60))delete this.options.packed;if(!Object.keys(this.options).length)this.options=void 0}if(this.long){if(this.typeDefault=z8.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze)Object.freeze(this.typeDefault)}else if(this.bytes&&typeof this.typeDefault==="string"){var J;if(z8.base64.test(this.typeDefault))z8.base64.decode(this.typeDefault,J=z8.newBuffer(z8.base64.length(this.typeDefault)),0);else z8.utf8.write(this.typeDefault,J=z8.newBuffer(z8.utf8.length(this.typeDefault)),0);this.typeDefault=J}if(this.map)this.defaultValue=z8.emptyObject;else if(this.repeated)this.defaultValue=z8.emptyArray;else this.defaultValue=this.typeDefault;if(this.parent instanceof WD)this.parent.ctor.prototype[this.name]=this.defaultValue;return $D.prototype.resolve.call(this)};a8.prototype._inferLegacyProtoFeatures=function(J){if(J!=="proto2"&&J!=="proto3")return{};var X={};if(this.rule==="required")X.field_presence="LEGACY_REQUIRED";if(this.parent&&ra.defaults[this.type]===void 0){var Z=this.parent.get(this.type.split(".").pop());if(Z&&Z instanceof WD&&Z.group)X.message_encoding="DELIMITED"}if(this.getOption("packed")===!0)X.repeated_field_encoding="PACKED";else if(this.getOption("packed")===!1)X.repeated_field_encoding="EXPANDED";return X};a8.prototype._resolveFeatures=function(J){return $D.prototype._resolveFeatures.call(this,this._edition||J)};a8.d=function(J,X,Z,W){if(typeof X==="function")X=z8.decorateType(X).name;else if(X&&typeof X==="object")X=z8.decorateEnum(X).name;return function(G,Q){z8.decorateType(G.constructor).add(new a8(Q,J,X,Z,{default:W}))}};a8._configure=function(J){WD=J}});var JU=q((yW8,a60)=>{a60.exports=I7;var uN=H$();((I7.prototype=Object.create(uN.prototype)).constructor=I7).className="OneOf";var o60=z$(),gN=r8();function I7(Y,J,X,Z){if(!Array.isArray(J))X=J,J=void 0;if(uN.call(this,Y,X),!(J===void 0||Array.isArray(J)))throw TypeError("fieldNames must be an Array");this.oneof=J||[],this.fieldsArray=[],this.comment=Z}I7.fromJSON=function(J,X){return new I7(J,X.oneof,X.options,X.comment)};I7.prototype.toJSON=function(J){var X=J?Boolean(J.keepComments):!1;return gN.toObject(["options",this.options,"oneof",this.oneof,"comment",X?this.comment:void 0])};function r60(Y){if(Y.parent){for(var J=0;J<Y.fieldsArray.length;++J)if(!Y.fieldsArray[J].parent)Y.parent.add(Y.fieldsArray[J])}}I7.prototype.add=function(J){if(!(J instanceof o60))throw TypeError("field must be a Field");if(J.parent&&J.parent!==this.parent)J.parent.remove(J);return this.oneof.push(J.name),this.fieldsArray.push(J),J.partOf=this,r60(this),this};I7.prototype.remove=function(J){if(!(J instanceof o60))throw TypeError("field must be a Field");var X=this.fieldsArray.indexOf(J);if(X<0)throw Error(J+" is not a member of "+this);if(this.fieldsArray.splice(X,1),X=this.oneof.indexOf(J.name),X>-1)this.oneof.splice(X,1);return J.partOf=null,this};I7.prototype.onAdd=function(J){uN.prototype.onAdd.call(this,J);var X=this;for(var Z=0;Z<this.oneof.length;++Z){var W=J.get(this.oneof[Z]);if(W&&!W.partOf)W.partOf=X,X.fieldsArray.push(W)}r60(this)};I7.prototype.onRemove=function(J){for(var X=0,Z;X<this.fieldsArray.length;++X)if((Z=this.fieldsArray[X]).parent)Z.parent.remove(Z);uN.prototype.onRemove.call(this,J)};Object.defineProperty(I7.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var Y=this.fieldsArray[0];return Y.options!=null&&Y.options.proto3_optional===!0}});I7.d=function(){var J=Array(arguments.length),X=0;while(X<arguments.length)J[X]=arguments[X++];return function(W,$){gN.decorateType(W.constructor).add(new I7($,J)),Object.defineProperty(W,$,{get:gN.oneOfGetter(J),set:gN.oneOfSetter(J)})}}});var H$=q((gW8,s60)=>{s60.exports=w5;w5.className="ReflectionObject";var Mn4=JU(),GD=r8(),mN,En4={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},Tn4={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},Rn4={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function w5(Y,J){if(!GD.isString(Y))throw TypeError("name must be a string");if(J&&!GD.isObject(J))throw TypeError("options must be an object");this.options=J,this.parsedOptions=null,this.name=Y,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(w5.prototype,{root:{get:function(){var Y=this;while(Y.parent!==null)Y=Y.parent;return Y}},fullName:{get:function(){var Y=[this.name],J=this.parent;while(J)Y.unshift(J.name),J=J.parent;return Y.join(".")}}});w5.prototype.toJSON=function(){throw Error()};w5.prototype.onAdd=function(J){if(this.parent&&this.parent!==J)this.parent.remove(this);this.parent=J,this.resolved=!1;var X=J.root;if(X instanceof mN)X._handleAdd(this)};w5.prototype.onRemove=function(J){var X=J.root;if(X instanceof mN)X._handleRemove(this);this.parent=null,this.resolved=!1};w5.prototype.resolve=function(){if(this.resolved)return this;if(this.root instanceof mN)this.resolved=!0;return this};w5.prototype._resolveFeaturesRecursive=function(J){return this._resolveFeatures(this._edition||J)};w5.prototype._resolveFeatures=function(J){if(this._featuresResolved)return;var X={};if(!J)throw Error("Unknown edition for "+this.fullName);var Z=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(J));if(this._edition){if(J==="proto2")X=Object.assign({},Tn4);else if(J==="proto3")X=Object.assign({},Rn4);else if(J==="2023")X=Object.assign({},En4);else throw Error("Unknown edition: "+J);this._features=Object.assign(X,Z||{}),this._featuresResolved=!0;return}if(this.partOf instanceof Mn4){var W=Object.assign({},this.partOf._features);this._features=Object.assign(W,Z||{})}else if(this.declaringField);else if(this.parent){var $=Object.assign({},this.parent._features);this._features=Object.assign($,Z||{})}else throw Error("Unable to find a parent for "+this.fullName);if(this.extensionField)this.extensionField._features=this._features;this._featuresResolved=!0};w5.prototype._inferLegacyProtoFeatures=function(){return{}};w5.prototype.getOption=function(J){if(this.options)return this.options[J];return};w5.prototype.setOption=function(J,X,Z){if(!this.options)this.options={};if(/^features\./.test(J))GD.setProperty(this.options,J,X,Z);else if(!Z||this.options[J]===void 0){if(this.getOption(J)!==X)this.resolved=!1;this.options[J]=X}return this};w5.prototype.setParsedOption=function(J,X,Z){if(!this.parsedOptions)this.parsedOptions=[];var W=this.parsedOptions;if(Z){var $=W.find(function(U){return Object.prototype.hasOwnProperty.call(U,J)});if($){var G=$[J];GD.setProperty(G,Z,X)}else $={},$[J]=GD.setProperty({},Z,X),W.push($)}else{var Q={};Q[J]=X,W.push(Q)}return this};w5.prototype.setOptions=function(J,X){if(J)for(var Z=Object.keys(J),W=0;W<Z.length;++W)this.setOption(Z[W],J[Z[W]],X);return this};w5.prototype.toString=function(){var J=this.constructor.className,X=this.fullName;if(X.length)return J+" "+X;return J};w5.prototype._editionToJSON=function(){if(!this._edition||this._edition==="proto3")return;return this._edition};w5._configure=function(Y){mN=Y}});var UJ=q((uW8,e60)=>{e60.exports=zJ;var aa=H$();((zJ.prototype=Object.create(aa.prototype)).constructor=zJ).className="Enum";var t60=eO(),dN=r8();function zJ(Y,J,X,Z,W,$){if(aa.call(this,Y,X),J&&typeof J!=="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=Z,this.comments=W||{},this.valuesOptions=$,this._valuesFeatures={},this.reserved=void 0,J){for(var G=Object.keys(J),Q=0;Q<G.length;++Q)if(typeof J[G[Q]]==="number")this.valuesById[this.values[G[Q]]=J[G[Q]]]=G[Q]}}zJ.prototype._resolveFeatures=function(J){return J=this._edition||J,aa.prototype._resolveFeatures.call(this,J),Object.keys(this.values).forEach((X)=>{var Z=Object.assign({},this._features);this._valuesFeatures[X]=Object.assign(Z,this.valuesOptions&&this.valuesOptions[X]&&this.valuesOptions[X].features)}),this};zJ.fromJSON=function(J,X){var Z=new zJ(J,X.values,X.options,X.comment,X.comments);if(Z.reserved=X.reserved,X.edition)Z._edition=X.edition;return Z._defaultEdition="proto3",Z};zJ.prototype.toJSON=function(J){var X=J?Boolean(J.keepComments):!1;return dN.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",X?this.comment:void 0,"comments",X?this.comments:void 0])};zJ.prototype.add=function(J,X,Z,W){if(!dN.isString(J))throw TypeError("name must be a string");if(!dN.isInteger(X))throw TypeError("id must be an integer");if(this.values[J]!==void 0)throw Error("duplicate name '"+J+"' in "+this);if(this.isReservedId(X))throw Error("id "+X+" is reserved in "+this);if(this.isReservedName(J))throw Error("name '"+J+"' is reserved in "+this);if(this.valuesById[X]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+X+" in "+this);this.values[J]=X}else this.valuesById[this.values[J]=X]=J;if(W){if(this.valuesOptions===void 0)this.valuesOptions={};this.valuesOptions[J]=W||null}return this.comments[J]=Z||null,this};zJ.prototype.remove=function(J){if(!dN.isString(J))throw TypeError("name must be a string");var X=this.values[J];if(X==null)throw Error("name '"+J+"' does not exist in "+this);if(delete this.valuesById[X],delete this.values[J],delete this.comments[J],this.valuesOptions)delete this.valuesOptions[J];return this};zJ.prototype.isReservedId=function(J){return t60.isReservedId(this.reserved,J)};zJ.prototype.isReservedName=function(J){return t60.isReservedName(this.reserved,J)}});var ca=q((mW8,J80)=>{J80.exports=Sn4;var Nn4=UJ(),sa=XU(),ta=r8();function Y80(Y,J,X,Z){return J.delimited?Y("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",X,Z,(J.id<<3|3)>>>0,(J.id<<3|4)>>>0):Y("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",X,Z,(J.id<<3|2)>>>0)}function Sn4(Y){var J=ta.codegen(["m","w"],Y.name+"$encode")("if(!w)")("w=Writer.create()"),X,Z,W=Y.fieldsArray.slice().sort(ta.compareFieldsById);for(var X=0;X<W.length;++X){var $=W[X].resolve(),G=Y._fieldsArray.indexOf($),Q=$.resolvedType instanceof Nn4?"int32":$.type,U=sa.basic[Q];if(Z="m"+ta.safeProp($.name),$.map){if(J("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",Z,$.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",Z)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",($.id<<3|2)>>>0,8|sa.mapKey[$.keyType],$.keyType),U===void 0)J("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",G,Z);else J(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|U,Q,Z);J("}")("}")}else if($.repeated){if(J("if(%s!=null&&%s.length){",Z,Z),$.packed&&sa.packed[Q]!==void 0)J("w.uint32(%i).fork()",($.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",Z)("w.%s(%s[i])",Q,Z)("w.ldelim()");else if(J("for(var i=0;i<%s.length;++i)",Z),U===void 0)Y80(J,$,G,Z+"[i]");else J("w.uint32(%i).%s(%s[i])",($.id<<3|U)>>>0,Q,Z);J("}")}else{if($.optional)J("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",Z,$.name);if(U===void 0)Y80(J,$,G,Z);else J("w.uint32(%i).%s(%s)",($.id<<3|U)>>>0,Q,Z)}}return J("return w")}});var Z80=q((dW8,X80)=>{var t0=X80.exports=V60();t0.build="light";function Cn4(Y,J,X){if(typeof J==="function")X=J,J=new t0.Root;else if(!J)J=new t0.Root;return J.load(Y,X)}t0.load=Cn4;function jn4(Y,J){if(!J)J=new t0.Root;return J.loadSync(Y)}t0.loadSync=jn4;t0.encoder=ca();t0.decoder=_a();t0.verifier=va();t0.converter=ya();t0.ReflectionObject=H$();t0.Namespace=eO();t0.Root=yN();t0.Enum=UJ();t0.Type=fN();t0.Field=z$();t0.OneOf=JU();t0.MapField=SN();t0.Service=jN();t0.Method=CN();t0.Message=kN();t0.wrappers=ga();t0.types=XU();t0.util=r8();t0.ReflectionObject._configure(t0.Root);t0.Namespace._configure(t0.Type,t0.Service,t0.Enum);t0.Root._configure(t0.Type);t0.Field._configure(t0.Type)});var Ys=q((cW8,G80)=>{G80.exports=$80;var ea=/[\s{}=;:[\],'"()<>]/g,kn4=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,_n4=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,xn4=/^ *[*/]+ */,fn4=/^\s*\*?\/*/,vn4=/\n/g,hn4=/\s/,bn4=/\\(.?)/g,yn4={"0":"\x00",r:"\r",n:`
`,t:"\t"};function W80(Y){return Y.replace(bn4,function(J,X){switch(X){case"\\":case"":return X;default:return yn4[X]||""}})}$80.unescape=W80;function $80(Y,J){Y=Y.toString();var X=0,Z=Y.length,W=1,$=0,G={},Q=[],U=null;function z(P){return Error("illegal "+P+" (line "+W+")")}function H(){var P=U==="'"?_n4:kn4;P.lastIndex=X-1;var R=P.exec(Y);if(!R)throw z("string");return X=P.lastIndex,I(U),U=null,W80(R[1])}function O(P){return Y.charAt(P)}function K(P,R,N){var v={type:Y.charAt(P++),lineEmpty:!1,leading:N},j;if(J)j=2;else j=3;var M=P-j,b;do if(--M<0||(b=Y.charAt(M))===`
`){v.lineEmpty=!0;break}while(b===" "||b==="\t");var k=Y.substring(P,R).split(vn4);for(var r=0;r<k.length;++r)k[r]=k[r].replace(J?fn4:xn4,"").trim();v.text=k.join(`
`).trim(),G[W]=v,$=W}function B(P){var R=F(P),N=Y.substring(P,R),v=/^\s*\/\//.test(N);return v}function F(P){var R=P;while(R<Z&&O(R)!==`
`)R++;return R}function V(){if(Q.length>0)return Q.shift();if(U)return H();var P,R,N,v,j,M=X===0;do{if(X===Z)return null;P=!1;while(hn4.test(N=O(X))){if(N===`
`)M=!0,++W;if(++X===Z)return null}if(O(X)==="/"){if(++X===Z)throw z("comment");if(O(X)==="/")if(!J){j=O(v=X+1)==="/";while(O(++X)!==`
`)if(X===Z)return null;if(++X,j)K(v,X-1,M),M=!0;++W,P=!0}else{if(v=X,j=!1,B(X-1)){j=!0;do{if(X=F(X),X===Z)break;if(X++,!M)break}while(B(X))}else X=Math.min(Z,F(X)+1);if(j)K(v,X,M),M=!0;W++,P=!0}else if((N=O(X))==="*"){v=X+1,j=J||O(v)==="*";do{if(N===`
`)++W;if(++X===Z)throw z("comment");R=N,N=O(X)}while(R!=="*"||N!=="/");if(++X,j)K(v,X-2,M),M=!0;P=!0}else return"/"}}while(P);var b=X;ea.lastIndex=0;var k=ea.test(O(b++));if(!k)while(b<Z&&!ea.test(O(b)))++b;var r=Y.substring(X,X=b);if(r==='"'||r==="'")U=r;return r}function I(P){Q.push(P)}function D(){if(!Q.length){var P=V();if(P===null)return null;I(P)}return Q[0]}function L(P,R){var N=D(),v=N===P;if(v)return V(),!0;if(!R)throw z("token '"+N+"', '"+P+"' expected");return!1}function A(P){var R=null,N;if(P===void 0){if(N=G[W-1],delete G[W-1],N&&(J||N.type==="*"||N.lineEmpty))R=N.leading?N.text:null}else{if($<P)D();if(N=G[P],delete G[P],N&&!N.lineEmpty&&(J||N.type==="/"))R=N.leading?null:N.text}return R}return Object.defineProperty({next:V,peek:D,push:I,skip:L,cmnt:A},"line",{get:function(){return W}})}});var K80=q((lW8,O80)=>{O80.exports=FZ;FZ.filename=null;FZ.defaults={keepCase:!1};var gn4=Ys(),Q80=yN(),U80=fN(),z80=z$(),un4=SN(),H80=JU(),mn4=UJ(),dn4=jN(),cn4=CN(),ln4=H$(),pn4=XU(),Js=r8(),nn4=/^[1-9][0-9]*$/,in4=/^-?[1-9][0-9]*$/,on4=/^0[x][0-9a-fA-F]+$/,rn4=/^-?0[x][0-9a-fA-F]+$/,an4=/^0[0-7]+$/,sn4=/^-?0[0-7]+$/,tn4=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,gX=/^[a-zA-Z_][a-zA-Z_0-9]*$/,uX=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function FZ(Y,J,X){if(!(J instanceof Q80))X=J,J=new Q80;if(!X)X=FZ.defaults;var Z=X.preferTrailingComment||!1,W=gn4(Y,X.alternateCommentMode||!1),$=W.next,G=W.push,Q=W.peek,U=W.skip,z=W.cmnt,H=!0,O,K,B,F="proto2",V=J,I=[],D={},L=X.keepCase?function(h){return h}:Js.camelCase;function A(){I.forEach((h)=>{h._edition=F,Object.keys(D).forEach((f)=>{if(h.getOption(f)!==void 0)return;h.setOption(f,D[f],!0)})})}function P(h,f,y){var o=FZ.filename;if(!y)FZ.filename=null;return Error("illegal "+(f||"token")+" '"+h+"' ("+(o?o+", ":"")+"line "+W.line+")")}function R(){var h=[],f;do{if((f=$())!=='"'&&f!=="'")throw P(f);h.push($()),U(f),f=Q()}while(f==='"'||f==="'");return h.join("")}function N(h){var f=$();switch(f){case"'":case'"':return G(f),R();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return j(f,!0)}catch(y){if(h&&uX.test(f))return f;throw P(f,"value")}}function v(h,f){var y,o;do if(f&&((y=Q())==='"'||y==="'")){var u=R();if(h.push(u),F>=2023)throw P(u,"id")}else try{h.push([o=M($()),U("to",!0)?M($()):o])}catch(e){if(f&&uX.test(y)&&F>=2023)h.push(y);else throw e}while(U(",",!0));var i={options:void 0};i.setOption=function(e,X1){if(this.options===void 0)this.options={};this.options[e]=X1},c(i,function(X1){if(X1==="option")l(i,X1),U(";");else throw P(X1)},function(){W0(i)})}function j(h,f){var y=1;if(h.charAt(0)==="-")y=-1,h=h.substring(1);switch(h){case"inf":case"INF":case"Inf":return y*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(nn4.test(h))return y*parseInt(h,10);if(on4.test(h))return y*parseInt(h,16);if(an4.test(h))return y*parseInt(h,8);if(tn4.test(h))return y*parseFloat(h);throw P(h,"number",f)}function M(h,f){switch(h){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!f&&h.charAt(0)==="-")throw P(h,"id");if(in4.test(h))return parseInt(h,10);if(rn4.test(h))return parseInt(h,16);if(sn4.test(h))return parseInt(h,8);throw P(h,"id")}function b(){if(O!==void 0)throw P("package");if(O=$(),!uX.test(O))throw P(O,"name");V=V.define(O),U(";")}function k(){var h=Q(),f;switch(h){case"weak":f=B||(B=[]),$();break;case"public":$();default:f=K||(K=[]);break}h=R(),U(";"),f.push(h)}function r(){if(U("="),F=R(),F<2023)throw P(F,"syntax");U(";")}function p(){if(U("="),F=R(),!["2023"].includes(F))throw P(F,"edition");U(";")}function S(h,f){switch(f){case"option":return l(h,f),U(";"),!0;case"message":return d(h,f),!0;case"enum":return y1(h,f),!0;case"service":return Q0(h,f),!0;case"extend":return g(h,f),!0}return!1}function c(h,f,y){var o=W.line;if(h){if(typeof h.comment!=="string")h.comment=z();h.filename=FZ.filename}if(U("{",!0)){var u;while((u=$())!=="}")f(u);U(";",!0)}else{if(y)y();if(U(";"),h&&(typeof h.comment!=="string"||Z))h.comment=z(o)||h.comment}}function d(h,f){if(!gX.test(f=$()))throw P(f,"type name");var y=new U80(f);if(c(y,function(u){if(S(y,u))return;switch(u){case"map":F1(y,u);break;case"required":if(F!=="proto2")throw P(u);case"repeated":a(y,u);break;case"optional":if(F==="proto3")a(y,"proto3_optional");else if(F!=="proto2")throw P(u);else a(y,"optional");break;case"oneof":z1(y,u);break;case"extensions":v(y.extensions||(y.extensions=[]));break;case"reserved":v(y.reserved||(y.reserved=[]),!0);break;default:if(F==="proto2"||!uX.test(u))throw P(u);G(u),a(y,"optional");break}}),h.add(y),h===V)I.push(y)}function a(h,f,y){var o=$();if(o==="group"){H1(h,f);return}while(o.endsWith(".")||Q().startsWith("."))o+=$();if(!uX.test(o))throw P(o,"type");var u=$();if(!gX.test(u))throw P(u,"name");u=L(u),U("=");var i=new z80(u,M($()),o,f,y);if(c(i,function(O1){if(O1==="option")l(i,O1),U(";");else throw P(O1)},function(){W0(i)}),f==="proto3_optional"){var e=new H80("_"+u);i.setOption("proto3_optional",!0),e.add(i),h.add(e)}else h.add(i);if(h===V)I.push(i)}function H1(h,f){if(F>=2023)throw P("group");var y=$();if(!gX.test(y))throw P(y,"name");var o=Js.lcFirst(y);if(y===o)y=Js.ucFirst(y);U("=");var u=M($()),i=new U80(y);i.group=!0;var e=new z80(o,u,y,f);e.filename=FZ.filename,c(i,function(O1){switch(O1){case"option":l(i,O1),U(";");break;case"required":case"repeated":a(i,O1);break;case"optional":if(F==="proto3")a(i,"proto3_optional");else a(i,"optional");break;case"message":d(i,O1);break;case"enum":y1(i,O1);break;case"reserved":v(i.reserved||(i.reserved=[]),!0);break;default:throw P(O1)}}),h.add(i).add(e)}function F1(h){U("<");var f=$();if(pn4.mapKey[f]===void 0)throw P(f,"type");U(",");var y=$();if(!uX.test(y))throw P(y,"type");U(">");var o=$();if(!gX.test(o))throw P(o,"name");U("=");var u=new un4(L(o),M($()),f,y);c(u,function(e){if(e==="option")l(u,e),U(";");else throw P(e)},function(){W0(u)}),h.add(u)}function z1(h,f){if(!gX.test(f=$()))throw P(f,"name");var y=new H80(L(f));c(y,function(u){if(u==="option")l(y,u),U(";");else G(u),a(y,"optional")}),h.add(y)}function y1(h,f){if(!gX.test(f=$()))throw P(f,"name");var y=new mn4(f);if(c(y,function(u){switch(u){case"option":l(y,u),U(";");break;case"reserved":if(v(y.reserved||(y.reserved=[]),!0),y.reserved===void 0)y.reserved=[];break;default:J1(y,u)}}),h.add(y),h===V)I.push(y)}function J1(h,f){if(!gX.test(f))throw P(f,"name");U("=");var y=M($(),!0),o={options:void 0};o.getOption=function(u){return this.options[u]},o.setOption=function(u,i){ln4.prototype.setOption.call(o,u,i)},o.setParsedOption=function(){return},c(o,function(i){if(i==="option")l(o,i),U(";");else throw P(i)},function(){W0(o)}),h.add(f,y,o.comment,o.parsedOptions||o.options)}function l(h,f){var y,o,u=!0;if(f==="option")f=$();while(f!=="="){if(f==="("){var i=$();U(")"),f="("+i+")"}if(u){if(u=!1,f.includes(".")&&!f.includes("(")){var e=f.split(".");y=e[0]+".",f=e[1];continue}y=f}else o=o?o+=f:f;f=$()}var X1=o?y.concat(o):y,O1=K1(h,X1);o=o&&o[0]==="."?o.slice(1):o,y=y&&y[y.length-1]==="."?y.slice(0,-1):y,p1(h,y,O1,o)}function K1(h,f){if(U("{",!0)){var y={};while(!U("}",!0)){if(!gX.test(m=$()))throw P(m,"name");if(m===null)throw P(m,"end of input");var o,u=m;if(U(":",!0),Q()==="{")o=K1(h,f+"."+m);else if(Q()==="["){o=[];var i;if(U("[",!0)){do i=N(!0),o.push(i);while(U(",",!0));if(U("]"),typeof i<"u")Q1(h,f+"."+m,i)}}else o=N(!0),Q1(h,f+"."+m,o);var e=y[u];if(e)o=[].concat(e).concat(o);y[u]=o,U(",",!0),U(";",!0)}return y}var X1=N(!0);return Q1(h,f,X1),X1}function Q1(h,f,y){if(V===h&&/^features\./.test(f)){D[f]=y;return}if(h.setOption)h.setOption(f,y)}function p1(h,f,y,o){if(h.setParsedOption)h.setParsedOption(f,y,o)}function W0(h){if(U("[",!0)){do l(h,"option");while(U(",",!0));U("]")}return h}function Q0(h,f){if(!gX.test(f=$()))throw P(f,"service name");var y=new dn4(f);if(c(y,function(u){if(S(y,u))return;if(u==="rpc")x(y,u);else throw P(u)}),h.add(y),h===V)I.push(y)}function x(h,f){var y=z(),o=f;if(!gX.test(f=$()))throw P(f,"name");var u=f,i,e,X1,O1;if(U("("),U("stream",!0))e=!0;if(!uX.test(f=$()))throw P(f);if(i=f,U(")"),U("returns"),U("("),U("stream",!0))O1=!0;if(!uX.test(f=$()))throw P(f);X1=f,U(")");var n1=new cn4(u,o,i,X1,e,O1);n1.comment=y,c(n1,function(l0){if(l0==="option")l(n1,l0),U(";");else throw P(l0)}),h.add(n1)}function g(h,f){if(!uX.test(f=$()))throw P(f,"reference");var y=f;c(null,function(u){switch(u){case"required":case"repeated":a(h,u,y);break;case"optional":if(F==="proto3")a(h,"proto3_optional",y);else a(h,"optional",y);break;default:if(F==="proto2"||!uX.test(u))throw P(u);G(u),a(h,"optional",y);break}})}var m;while((m=$())!==null)switch(m){case"package":if(!H)throw P(m);b();break;case"import":if(!H)throw P(m);k();break;case"syntax":if(!H)throw P(m);r();break;case"edition":if(!H)throw P(m);p();break;case"option":l(V,m),U(";",!0);break;default:if(S(V,m)){H=!1;continue}throw P(m)}return A(),FZ.filename=null,{package:O,imports:K,weakImports:B,root:J}}});var F80=q((pW8,q80)=>{q80.exports=HJ;var en4=/\/|\./;function HJ(Y,J){if(!en4.test(Y))Y="google/protobuf/"+Y+".proto",J={nested:{google:{nested:{protobuf:{nested:J}}}}};HJ[Y]=J}HJ("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var B80;HJ("duration",{Duration:B80={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});HJ("timestamp",{Timestamp:B80});HJ("empty",{Empty:{fields:{}}});HJ("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});HJ("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});HJ("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});HJ.get=function(J){return HJ[J]||null}});var cN=q((nW8,V80)=>{var K$=V80.exports=Z80();K$.build="full";K$.tokenize=Ys();K$.parse=K80();K$.common=F80();K$.Root._configure(K$.Type,K$.parse,K$.common)});var Xs=q((iW8,Yi4)=>{Yi4.exports={nested:{google:{nested:{protobuf:{options:{go_package:"google.golang.org/protobuf/types/descriptorpb",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{FileDescriptorSet:{edition:"proto2",fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}},extensions:[[536000000,536000000]]},Edition:{edition:"proto2",values:{EDITION_UNKNOWN:0,EDITION_LEGACY:900,EDITION_PROTO2:998,EDITION_PROTO3:999,EDITION_2023:1000,EDITION_2024:1001,EDITION_1_TEST_ONLY:1,EDITION_2_TEST_ONLY:2,EDITION_99997_TEST_ONLY:99997,EDITION_99998_TEST_ONLY:99998,EDITION_99999_TEST_ONLY:99999,EDITION_MAX:2147483647}},FileDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10},weakDependency:{rule:"repeated",type:"int32",id:11},optionDependency:{rule:"repeated",type:"string",id:15},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12},edition:{type:"Edition",id:14}}},DescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10},visibility:{type:"SymbolVisibility",id:11}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{edition:"proto2",fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999},declaration:{rule:"repeated",type:"Declaration",id:2,options:{retention:"RETENTION_SOURCE"}},features:{type:"FeatureSet",id:50},verification:{type:"VerificationState",id:3,options:{default:"UNVERIFIED",retention:"RETENTION_SOURCE"}}},extensions:[[1000,536870911]],nested:{Declaration:{fields:{number:{type:"int32",id:1},fullName:{type:"string",id:2},type:{type:"string",id:3},reserved:{type:"bool",id:5},repeated:{type:"bool",id:6}},reserved:[[4,4]]},VerificationState:{values:{DECLARATION:0,UNVERIFIED:1}}}},FieldDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REPEATED:3,LABEL_REQUIRED:2}}}},OneofDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5},visibility:{type:"SymbolVisibility",id:6}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{edition:"proto2",fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},features:{type:"FeatureSet",id:50},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]],reserved:[[42,42],"php_generic_services",[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{edition:"proto2",fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:11,options:{deprecated:!0}},features:{type:"FeatureSet",id:12},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]],reserved:[[4,4],[5,5],[6,6],[8,8],[9,9]]},FieldOptions:{edition:"proto2",fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},unverifiedLazy:{type:"bool",id:15},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10,options:{deprecated:!0}},debugRedact:{type:"bool",id:16},retention:{type:"OptionRetention",id:17},targets:{rule:"repeated",type:"OptionTargetType",id:19},editionDefaults:{rule:"repeated",type:"EditionDefault",id:20},features:{type:"FeatureSet",id:21},featureSupport:{type:"FeatureSupport",id:22},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]],reserved:[[4,4],[18,18]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}},OptionRetention:{values:{RETENTION_UNKNOWN:0,RETENTION_RUNTIME:1,RETENTION_SOURCE:2}},OptionTargetType:{values:{TARGET_TYPE_UNKNOWN:0,TARGET_TYPE_FILE:1,TARGET_TYPE_EXTENSION_RANGE:2,TARGET_TYPE_MESSAGE:3,TARGET_TYPE_FIELD:4,TARGET_TYPE_ONEOF:5,TARGET_TYPE_ENUM:6,TARGET_TYPE_ENUM_ENTRY:7,TARGET_TYPE_SERVICE:8,TARGET_TYPE_METHOD:9}},EditionDefault:{fields:{edition:{type:"Edition",id:3},value:{type:"string",id:2}}},FeatureSupport:{fields:{editionIntroduced:{type:"Edition",id:1},editionDeprecated:{type:"Edition",id:2},deprecationWarning:{type:"string",id:3},editionRemoved:{type:"Edition",id:4}}}}},OneofOptions:{edition:"proto2",fields:{features:{type:"FeatureSet",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]]},EnumOptions:{edition:"proto2",fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:6,options:{deprecated:!0}},features:{type:"FeatureSet",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]],reserved:[[5,5]]},EnumValueOptions:{edition:"proto2",fields:{deprecated:{type:"bool",id:1},features:{type:"FeatureSet",id:2},debugRedact:{type:"bool",id:3},featureSupport:{type:"FieldOptions.FeatureSupport",id:4},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]]},ServiceOptions:{edition:"proto2",fields:{features:{type:"FeatureSet",id:34},deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]]},MethodOptions:{edition:"proto2",fields:{deprecated:{type:"bool",id:33},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},features:{type:"FeatureSet",id:35},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1000,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{edition:"proto2",fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},FeatureSet:{edition:"proto2",fields:{fieldPresence:{type:"FieldPresence",id:1,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},enumType:{type:"EnumType",id:2,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},repeatedFieldEncoding:{type:"RepeatedFieldEncoding",id:3,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},utf8Validation:{type:"Utf8Validation",id:4,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},messageEncoding:{type:"MessageEncoding",id:5,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},jsonFormat:{type:"JsonFormat",id:6,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},enforceNamingStyle:{type:"EnforceNamingStyle",id:7,options:{retention:"RETENTION_SOURCE",targets:"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},defaultSymbolVisibility:{type:"VisibilityFeature.DefaultSymbolVisibility",id:8,options:{retention:"RETENTION_SOURCE",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},extensions:[[1000,9994],[9995,9999],[1e4,1e4]],reserved:[[999,999]],nested:{FieldPresence:{values:{FIELD_PRESENCE_UNKNOWN:0,EXPLICIT:1,IMPLICIT:2,LEGACY_REQUIRED:3}},EnumType:{values:{ENUM_TYPE_UNKNOWN:0,OPEN:1,CLOSED:2}},RepeatedFieldEncoding:{values:{REPEATED_FIELD_ENCODING_UNKNOWN:0,PACKED:1,EXPANDED:2}},Utf8Validation:{values:{UTF8_VALIDATION_UNKNOWN:0,VERIFY:2,NONE:3}},MessageEncoding:{values:{MESSAGE_ENCODING_UNKNOWN:0,LENGTH_PREFIXED:1,DELIMITED:2}},JsonFormat:{values:{JSON_FORMAT_UNKNOWN:0,ALLOW:1,LEGACY_BEST_EFFORT:2}},EnforceNamingStyle:{values:{ENFORCE_NAMING_STYLE_UNKNOWN:0,STYLE2024:1,STYLE_LEGACY:2}},VisibilityFeature:{fields:{},reserved:[[1,536870911]],nested:{DefaultSymbolVisibility:{values:{DEFAULT_SYMBOL_VISIBILITY_UNKNOWN:0,EXPORT_ALL:1,EXPORT_TOP_LEVEL:2,LOCAL_ALL:3,STRICT:4}}}}}},FeatureSetDefaults:{edition:"proto2",fields:{defaults:{rule:"repeated",type:"FeatureSetEditionDefault",id:1},minimumEdition:{type:"Edition",id:4},maximumEdition:{type:"Edition",id:5}},nested:{FeatureSetEditionDefault:{fields:{edition:{type:"Edition",id:3},overridableFeatures:{type:"FeatureSet",id:4},fixedFeatures:{type:"FeatureSet",id:5}},reserved:[[1,1],[2,2],"features"]}}},SourceCodeInfo:{edition:"proto2",fields:{location:{rule:"repeated",type:"Location",id:1}},extensions:[[536000000,536000000]],nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1,options:{packed:!0}},span:{rule:"repeated",type:"int32",id:2,options:{packed:!0}},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{edition:"proto2",fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1,options:{packed:!0}},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4},semantic:{type:"Semantic",id:5}},nested:{Semantic:{values:{NONE:0,SET:1,ALIAS:2}}}}}},SymbolVisibility:{edition:"proto2",values:{VISIBILITY_UNSET:0,VISIBILITY_LOCAL:1,VISIBILITY_EXPORT:2}}}}}}}}});var M80=q((S0,L80)=>{var D7=cN();L80.exports=S0=D7.descriptor=D7.Root.fromJSON(Xs()).lookup(".google.protobuf");var{Namespace:I80,Root:QD,Enum:VZ,Type:mX,Field:B$,MapField:Ji4,OneOf:lN,Service:UD,Method:pN}=D7;QD.fromDescriptor=function(J){if(typeof J.length==="number")J=S0.FileDescriptorSet.decode(J);var X=new QD;if(J.file){var Z,W;for(var $=0,G;$<J.file.length;++$){if(W=X,(Z=J.file[$]).package&&Z.package.length)W=X.define(Z.package);var Q=Oi4(Z);if(Z.name&&Z.name.length)X.files.push(W.filename=Z.name);if(Z.messageType)for(G=0;G<Z.messageType.length;++G)W.add(mX.fromDescriptor(Z.messageType[G],Q));if(Z.enumType)for(G=0;G<Z.enumType.length;++G)W.add(VZ.fromDescriptor(Z.enumType[G],Q));if(Z.extension)for(G=0;G<Z.extension.length;++G)W.add(B$.fromDescriptor(Z.extension[G],Q));if(Z.service)for(G=0;G<Z.service.length;++G)W.add(UD.fromDescriptor(Z.service[G],Q));var U=JK(Z.options,S0.FileOptions);if(U){var z=Object.keys(U);for(G=0;G<z.length;++G)W.setOption(z[G],U[z[G]])}}}return X.resolveAll()};QD.prototype.toDescriptor=function(J){var X=S0.FileDescriptorSet.create();return D80(this,X.file,J),X};function D80(Y,J,X){var Z=S0.FileDescriptorProto.create({name:Y.filename||(Y.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});if(Ki4(X,Z),!(Y instanceof QD))Z.package=Y.fullName.substring(1);for(var W=0,$;W<Y.nestedArray.length;++W)if(($=Y._nestedArray[W])instanceof mX)Z.messageType.push($.toDescriptor(X));else if($ instanceof VZ)Z.enumType.push($.toDescriptor());else if($ instanceof B$)Z.extension.push($.toDescriptor(X));else if($ instanceof UD)Z.service.push($.toDescriptor());else if($ instanceof I80)D80($,J,X);if(Z.options=XK(Y.options,S0.FileOptions),Z.messageType.length+Z.enumType.length+Z.extension.length+Z.service.length)J.push(Z)}var Xi4=0;mX.fromDescriptor=function(J,X,Z){if(typeof J.length==="number")J=S0.DescriptorProto.decode(J);var W=new mX(J.name.length?J.name:"Type"+Xi4++,JK(J.options,S0.MessageOptions)),$;if(!Z)W._edition=X;if(J.oneofDecl)for($=0;$<J.oneofDecl.length;++$)W.add(lN.fromDescriptor(J.oneofDecl[$]));if(J.field)for($=0;$<J.field.length;++$){var G=B$.fromDescriptor(J.field[$],X,!0);if(W.add(G),J.field[$].hasOwnProperty("oneofIndex"))W.oneofsArray[J.field[$].oneofIndex].add(G)}if(J.extension)for($=0;$<J.extension.length;++$)W.add(B$.fromDescriptor(J.extension[$],X,!0));if(J.nestedType){for($=0;$<J.nestedType.length;++$)if(W.add(mX.fromDescriptor(J.nestedType[$],X,!0)),J.nestedType[$].options&&J.nestedType[$].options.mapEntry)W.setOption("map_entry",!0)}if(J.enumType)for($=0;$<J.enumType.length;++$)W.add(VZ.fromDescriptor(J.enumType[$],X,!0));if(J.extensionRange&&J.extensionRange.length){W.extensions=[];for($=0;$<J.extensionRange.length;++$)W.extensions.push([J.extensionRange[$].start,J.extensionRange[$].end])}if(J.reservedRange&&J.reservedRange.length||J.reservedName&&J.reservedName.length){if(W.reserved=[],J.reservedRange)for($=0;$<J.reservedRange.length;++$)W.reserved.push([J.reservedRange[$].start,J.reservedRange[$].end]);if(J.reservedName)for($=0;$<J.reservedName.length;++$)W.reserved.push(J.reservedName[$])}return W};mX.prototype.toDescriptor=function(J){var X=S0.DescriptorProto.create({name:this.name}),Z;for(Z=0;Z<this.fieldsArray.length;++Z){var W;if(X.field.push(W=this._fieldsArray[Z].toDescriptor(J)),this._fieldsArray[Z]instanceof Ji4){var $=Zs(this._fieldsArray[Z].keyType,this._fieldsArray[Z].resolvedKeyType,!1),G=Zs(this._fieldsArray[Z].type,this._fieldsArray[Z].resolvedType,!1),Q=G===11||G===14?this._fieldsArray[Z].resolvedType&&P80(this.parent,this._fieldsArray[Z].resolvedType)||this._fieldsArray[Z].type:void 0;X.nestedType.push(S0.DescriptorProto.create({name:W.typeName,field:[S0.FieldDescriptorProto.create({name:"key",number:1,label:1,type:$}),S0.FieldDescriptorProto.create({name:"value",number:2,label:1,type:G,typeName:Q})],options:S0.MessageOptions.create({mapEntry:!0})}))}}for(Z=0;Z<this.oneofsArray.length;++Z)X.oneofDecl.push(this._oneofsArray[Z].toDescriptor());for(Z=0;Z<this.nestedArray.length;++Z)if(this._nestedArray[Z]instanceof B$)X.field.push(this._nestedArray[Z].toDescriptor(J));else if(this._nestedArray[Z]instanceof mX)X.nestedType.push(this._nestedArray[Z].toDescriptor(J));else if(this._nestedArray[Z]instanceof VZ)X.enumType.push(this._nestedArray[Z].toDescriptor());if(this.extensions)for(Z=0;Z<this.extensions.length;++Z)X.extensionRange.push(S0.DescriptorProto.ExtensionRange.create({start:this.extensions[Z][0],end:this.extensions[Z][1]}));if(this.reserved)for(Z=0;Z<this.reserved.length;++Z)if(typeof this.reserved[Z]==="string")X.reservedName.push(this.reserved[Z]);else X.reservedRange.push(S0.DescriptorProto.ReservedRange.create({start:this.reserved[Z][0],end:this.reserved[Z][1]}));return X.options=XK(this.options,S0.MessageOptions),X};var Zi4=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;B$.fromDescriptor=function(J,X,Z){if(typeof J.length==="number")J=S0.DescriptorProto.decode(J);if(typeof J.number!=="number")throw Error("missing field id");var W;if(J.typeName&&J.typeName.length)W=J.typeName;else W=Ui4(J.type);var $;switch(J.label){case 1:$=void 0;break;case 2:$="required";break;case 3:$="repeated";break;default:throw Error("illegal label: "+J.label)}var G=J.extendee;if(J.extendee!==void 0)G=G.length?G:void 0;var Q=new B$(J.name.length?J.name:"field"+J.number,J.number,W,$,G);if(!Z)Q._edition=X;if(Q.options=JK(J.options,S0.FieldOptions),J.proto3_optional)Q.options.proto3_optional=!0;if(J.defaultValue&&J.defaultValue.length){var U=J.defaultValue;switch(U){case"true":case"TRUE":U=!0;break;case"false":case"FALSE":U=!1;break;default:var z=Zi4.exec(U);if(z)U=parseInt(U);break}Q.setOption("default",U)}if(zi4(J.type)){if(X==="proto3"){if(J.options&&!J.options.packed)Q.setOption("packed",!1)}else if((!X||X==="proto2")&&J.options&&J.options.packed)Q.setOption("packed",!0)}return Q};B$.prototype.toDescriptor=function(J){var X=S0.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)X.type=11,X.typeName=D7.util.ucFirst(this.name),X.label=3;else{switch(X.type=Zs(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:X.typeName=this.resolvedType?P80(this.parent,this.resolvedType):this.type;break}if(this.rule==="repeated")X.label=3;else if(this.required&&J==="proto2")X.label=2;else X.label=1}if(X.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf){if((X.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof")}if(this.options){if(X.options=XK(this.options,S0.FieldOptions),this.options.default!=null)X.defaultValue=String(this.options.default);if(this.options.proto3_optional)X.proto3_optional=!0}if(J==="proto3"){if(!this.packed)(X.options||(X.options=S0.FieldOptions.create())).packed=!1}else if((!J||J==="proto2")&&this.packed)(X.options||(X.options=S0.FieldOptions.create())).packed=!0;return X};var Wi4=0;VZ.fromDescriptor=function(J,X,Z){if(typeof J.length==="number")J=S0.EnumDescriptorProto.decode(J);var W={};if(J.value)for(var $=0;$<J.value.length;++$){var G=J.value[$].name,Q=J.value[$].number||0;W[G&&G.length?G:"NAME"+Q]=Q}var U=new VZ(J.name&&J.name.length?J.name:"Enum"+Wi4++,W,JK(J.options,S0.EnumOptions));if(!Z)U._edition=X;return U};VZ.prototype.toDescriptor=function(){var J=[];for(var X=0,Z=Object.keys(this.values);X<Z.length;++X)J.push(S0.EnumValueDescriptorProto.create({name:Z[X],number:this.values[Z[X]]}));return S0.EnumDescriptorProto.create({name:this.name,value:J,options:XK(this.options,S0.EnumOptions)})};var $i4=0;lN.fromDescriptor=function(J){if(typeof J.length==="number")J=S0.OneofDescriptorProto.decode(J);return new lN(J.name&&J.name.length?J.name:"oneof"+$i4++)};lN.prototype.toDescriptor=function(){return S0.OneofDescriptorProto.create({name:this.name})};var Gi4=0;UD.fromDescriptor=function(J,X,Z){if(typeof J.length==="number")J=S0.ServiceDescriptorProto.decode(J);var W=new UD(J.name&&J.name.length?J.name:"Service"+Gi4++,JK(J.options,S0.ServiceOptions));if(!Z)W._edition=X;if(J.method)for(var $=0;$<J.method.length;++$)W.add(pN.fromDescriptor(J.method[$]));return W};UD.prototype.toDescriptor=function(){var J=[];for(var X=0;X<this.methodsArray.length;++X)J.push(this._methodsArray[X].toDescriptor());return S0.ServiceDescriptorProto.create({name:this.name,method:J,options:XK(this.options,S0.ServiceOptions)})};var Qi4=0;pN.fromDescriptor=function(J){if(typeof J.length==="number")J=S0.MethodDescriptorProto.decode(J);return new pN(J.name&&J.name.length?J.name:"Method"+Qi4++,"rpc",J.inputType,J.outputType,Boolean(J.clientStreaming),Boolean(J.serverStreaming),JK(J.options,S0.MethodOptions))};pN.prototype.toDescriptor=function(){return S0.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:XK(this.options,S0.MethodOptions)})};function Ui4(Y){switch(Y){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+Y)}function zi4(Y){switch(Y){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function Zs(Y,J,X){switch(Y){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(J instanceof VZ)return 14;if(J instanceof mX)return X?10:11;throw Error("illegal type: "+Y)}function w80(Y,J){var X={};for(var Z=0,W,$;Z<J.fieldsArray.length;++Z){if(($=(W=J._fieldsArray[Z]).name)==="uninterpretedOption")continue;if(!Object.prototype.hasOwnProperty.call(Y,$))continue;var G=Hi4($);if(W.resolvedType instanceof mX)X[G]=w80(Y[$],W.resolvedType);else if(W.resolvedType instanceof VZ)X[G]=W.resolvedType.valuesById[Y[$]];else X[G]=Y[$]}return X}function JK(Y,J){if(!Y)return;return w80(J.toObject(Y),J)}function A80(Y,J){var X={},Z=Object.keys(Y);for(var W=0;W<Z.length;++W){var $=Z[W],G=D7.util.camelCase($);if(!Object.prototype.hasOwnProperty.call(J.fields,G))continue;var Q=J.fields[G];if(Q.resolvedType instanceof mX)X[G]=A80(Y[$],Q.resolvedType);else X[G]=Y[$];if(Q.repeated&&!Array.isArray(X[G]))X[G]=[X[G]]}return X}function XK(Y,J){if(!Y)return;return J.fromObject(A80(Y,J))}function P80(Y,J){var X=Y.fullName.split("."),Z=J.fullName.split("."),W=0,$=0,G=Z.length-1;if(!(Y instanceof QD)&&J instanceof I80)while(W<X.length&&$<G&&X[W]===Z[$]){var Q=J.lookup(X[W++],!0);if(Q!==null&&Q!==J)break;++$}else for(;W<X.length&&$<G&&X[W]===Z[$];++W,++$);return Z.slice($).join(".")}function Hi4(Y){return Y.substring(0,1)+Y.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(J,X){return"_"+X.toLowerCase()})}function Oi4(Y){if(Y.syntax==="editions")switch(Y.edition){case S0.Edition.EDITION_2023:return"2023";default:throw Error("Unsupported edition "+Y.edition)}if(Y.syntax==="proto3")return"proto3";return"proto2"}function Ki4(Y,J){if(!Y)return;if(Y==="proto2"||Y==="proto3")J.syntax=Y;else switch(J.syntax="editions",Y){case"2023":J.edition=S0.Edition.EDITION_2023;break;default:throw Error("Unsupported edition "+Y)}}});var E80=q((oW8,Bi4)=>{Bi4.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var T80=q((rW8,qi4)=>{qi4.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var R80=q((aW8,Fi4)=>{Fi4.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var _80=q((j80)=>{Object.defineProperty(j80,"__esModule",{value:!0});j80.addCommonProtos=j80.loadProtosWithOptionsSync=j80.loadProtosWithOptions=void 0;var N80=C("fs"),S80=C("path"),ZK=cN();function C80(Y,J){let X=Y.resolvePath;Y.resolvePath=(Z,W)=>{if(S80.isAbsolute(W))return W;for(let $ of J){let G=S80.join($,W);try{return N80.accessSync(G,N80.constants.R_OK),G}catch(Q){continue}}return process.emitWarning(`${W} not found in any of the include paths ${J}`),X(Z,W)}}async function Vi4(Y,J){let X=new ZK.Root;if(J=J||{},J.includeDirs){if(!Array.isArray(J.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));C80(X,J.includeDirs)}let Z=await X.load(Y,J);return Z.resolveAll(),Z}j80.loadProtosWithOptions=Vi4;function Ii4(Y,J){let X=new ZK.Root;if(J=J||{},J.includeDirs){if(!Array.isArray(J.includeDirs))throw Error("The includeDirs option must be an array");C80(X,J.includeDirs)}let Z=X.loadSync(Y,J);return Z.resolveAll(),Z}j80.loadProtosWithOptionsSync=Ii4;function Di4(){let Y=E80(),J=Xs(),X=T80(),Z=R80();ZK.common("api",Y.nested.google.nested.protobuf.nested),ZK.common("descriptor",J.nested.google.nested.protobuf.nested),ZK.common("source_context",X.nested.google.nested.protobuf.nested),ZK.common("type",Z.nested.google.nested.protobuf.nested)}j80.addCommonProtos=Di4});var x80=q((zD,Ws)=>{(function(Y,J){function X(Z){return Z.default||Z}if(typeof define==="function"&&define.amd)define([],function(){var Z={};return J(Z),X(Z)});else if(typeof zD==="object"){if(J(zD),typeof Ws==="object")Ws.exports=X(zD)}else(function(){var Z={};J(Z),Y.Long=X(Z)})()})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:zD,function(Y){Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=void 0;var J=null;try{J=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function X(p,S,c){this.low=p|0,this.high=S|0,this.unsigned=!!c}X.prototype.__isLong__,Object.defineProperty(X.prototype,"__isLong__",{value:!0});function Z(p){return(p&&p.__isLong__)===!0}function W(p){var S=Math.clz32(p&-p);return p?31-S:S}X.isLong=Z;var $={},G={};function Q(p,S){var c,d,a;if(S){if(p>>>=0,a=0<=p&&p<256){if(d=G[p],d)return d}if(c=z(p,0,!0),a)G[p]=c;return c}else{if(p|=0,a=-128<=p&&p<128){if(d=$[p],d)return d}if(c=z(p,p<0?-1:0,!1),a)$[p]=c;return c}}X.fromInt=Q;function U(p,S){if(isNaN(p))return S?P:A;if(S){if(p<0)return P;if(p>=I)return M}else{if(p<=-D)return b;if(p+1>=D)return j}if(p<0)return U(-p,S).neg();return z(p%V|0,p/V|0,S)}X.fromNumber=U;function z(p,S,c){return new X(p,S,c)}X.fromBits=z;var H=Math.pow;function O(p,S,c){if(p.length===0)throw Error("empty string");if(typeof S==="number")c=S,S=!1;else S=!!S;if(p==="NaN"||p==="Infinity"||p==="+Infinity"||p==="-Infinity")return S?P:A;if(c=c||10,c<2||36<c)throw RangeError("radix");var d;if((d=p.indexOf("-"))>0)throw Error("interior hyphen");else if(d===0)return O(p.substring(1),S,c).neg();var a=U(H(c,8)),H1=A;for(var F1=0;F1<p.length;F1+=8){var z1=Math.min(8,p.length-F1),y1=parseInt(p.substring(F1,F1+z1),c);if(z1<8){var J1=U(H(c,z1));H1=H1.mul(J1).add(U(y1))}else H1=H1.mul(a),H1=H1.add(U(y1))}return H1.unsigned=S,H1}X.fromString=O;function K(p,S){if(typeof p==="number")return U(p,S);if(typeof p==="string")return O(p,S);return z(p.low,p.high,typeof S==="boolean"?S:p.unsigned)}X.fromValue=K;var B=65536,F=16777216,V=B*B,I=V*V,D=I/2,L=Q(F),A=Q(0);X.ZERO=A;var P=Q(0,!0);X.UZERO=P;var R=Q(1);X.ONE=R;var N=Q(1,!0);X.UONE=N;var v=Q(-1);X.NEG_ONE=v;var j=z(-1,2147483647,!1);X.MAX_VALUE=j;var M=z(-1,-1,!0);X.MAX_UNSIGNED_VALUE=M;var b=z(0,-2147483648,!1);X.MIN_VALUE=b;var k=X.prototype;if(k.toInt=function(){return this.unsigned?this.low>>>0:this.low},k.toNumber=function(){if(this.unsigned)return(this.high>>>0)*V+(this.low>>>0);return this.high*V+(this.low>>>0)},k.toString=function(S){if(S=S||10,S<2||36<S)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(b)){var c=U(S),d=this.div(c),a=d.mul(c).sub(this);return d.toString(S)+a.toInt().toString(S)}else return"-"+this.neg().toString(S);var H1=U(H(S,6),this.unsigned),F1=this,z1="";while(!0){var y1=F1.div(H1),J1=F1.sub(y1.mul(H1)).toInt()>>>0,l=J1.toString(S);if(F1=y1,F1.isZero())return l+z1;else{while(l.length<6)l="0"+l;z1=""+l+z1}}},k.getHighBits=function(){return this.high},k.getHighBitsUnsigned=function(){return this.high>>>0},k.getLowBits=function(){return this.low},k.getLowBitsUnsigned=function(){return this.low>>>0},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(b)?64:this.neg().getNumBitsAbs();var S=this.high!=0?this.high:this.low;for(var c=31;c>0;c--)if((S&1<<c)!=0)break;return this.high!=0?c+33:c+1},k.isSafeInteger=function(){var S=this.high>>21;if(!S)return!0;if(this.unsigned)return!1;return S===-1&&!(this.low===0&&this.high===-2097152)},k.isZero=function(){return this.high===0&&this.low===0},k.eqz=k.isZero,k.isNegative=function(){return!this.unsigned&&this.high<0},k.isPositive=function(){return this.unsigned||this.high>=0},k.isOdd=function(){return(this.low&1)===1},k.isEven=function(){return(this.low&1)===0},k.equals=function(S){if(!Z(S))S=K(S);if(this.unsigned!==S.unsigned&&this.high>>>31===1&&S.high>>>31===1)return!1;return this.high===S.high&&this.low===S.low},k.eq=k.equals,k.notEquals=function(S){return!this.eq(S)},k.neq=k.notEquals,k.ne=k.notEquals,k.lessThan=function(S){return this.comp(S)<0},k.lt=k.lessThan,k.lessThanOrEqual=function(S){return this.comp(S)<=0},k.lte=k.lessThanOrEqual,k.le=k.lessThanOrEqual,k.greaterThan=function(S){return this.comp(S)>0},k.gt=k.greaterThan,k.greaterThanOrEqual=function(S){return this.comp(S)>=0},k.gte=k.greaterThanOrEqual,k.ge=k.greaterThanOrEqual,k.compare=function(S){if(!Z(S))S=K(S);if(this.eq(S))return 0;var c=this.isNegative(),d=S.isNegative();if(c&&!d)return-1;if(!c&&d)return 1;if(!this.unsigned)return this.sub(S).isNegative()?-1:1;return S.high>>>0>this.high>>>0||S.high===this.high&&S.low>>>0>this.low>>>0?-1:1},k.comp=k.compare,k.negate=function(){if(!this.unsigned&&this.eq(b))return b;return this.not().add(R)},k.neg=k.negate,k.add=function(S){if(!Z(S))S=K(S);var c=this.high>>>16,d=this.high&65535,a=this.low>>>16,H1=this.low&65535,F1=S.high>>>16,z1=S.high&65535,y1=S.low>>>16,J1=S.low&65535,l=0,K1=0,Q1=0,p1=0;return p1+=H1+J1,Q1+=p1>>>16,p1&=65535,Q1+=a+y1,K1+=Q1>>>16,Q1&=65535,K1+=d+z1,l+=K1>>>16,K1&=65535,l+=c+F1,l&=65535,z(Q1<<16|p1,l<<16|K1,this.unsigned)},k.subtract=function(S){if(!Z(S))S=K(S);return this.add(S.neg())},k.sub=k.subtract,k.multiply=function(S){if(this.isZero())return this;if(!Z(S))S=K(S);if(J){var c=J.mul(this.low,this.high,S.low,S.high);return z(c,J.get_high(),this.unsigned)}if(S.isZero())return this.unsigned?P:A;if(this.eq(b))return S.isOdd()?b:A;if(S.eq(b))return this.isOdd()?b:A;if(this.isNegative())if(S.isNegative())return this.neg().mul(S.neg());else return this.neg().mul(S).neg();else if(S.isNegative())return this.mul(S.neg()).neg();if(this.lt(L)&&S.lt(L))return U(this.toNumber()*S.toNumber(),this.unsigned);var d=this.high>>>16,a=this.high&65535,H1=this.low>>>16,F1=this.low&65535,z1=S.high>>>16,y1=S.high&65535,J1=S.low>>>16,l=S.low&65535,K1=0,Q1=0,p1=0,W0=0;return W0+=F1*l,p1+=W0>>>16,W0&=65535,p1+=H1*l,Q1+=p1>>>16,p1&=65535,p1+=F1*J1,Q1+=p1>>>16,p1&=65535,Q1+=a*l,K1+=Q1>>>16,Q1&=65535,Q1+=H1*J1,K1+=Q1>>>16,Q1&=65535,Q1+=F1*y1,K1+=Q1>>>16,Q1&=65535,K1+=d*l+a*J1+H1*y1+F1*z1,K1&=65535,z(p1<<16|W0,K1<<16|Q1,this.unsigned)},k.mul=k.multiply,k.divide=function(S){if(!Z(S))S=K(S);if(S.isZero())throw Error("division by zero");if(J){if(!this.unsigned&&this.high===-2147483648&&S.low===-1&&S.high===-1)return this;var c=(this.unsigned?J.div_u:J.div_s)(this.low,this.high,S.low,S.high);return z(c,J.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?P:A;var d,a,H1;if(!this.unsigned){if(this.eq(b))if(S.eq(R)||S.eq(v))return b;else if(S.eq(b))return R;else{var F1=this.shr(1);if(d=F1.div(S).shl(1),d.eq(A))return S.isNegative()?R:v;else return a=this.sub(S.mul(d)),H1=d.add(a.div(S)),H1}else if(S.eq(b))return this.unsigned?P:A;if(this.isNegative()){if(S.isNegative())return this.neg().div(S.neg());return this.neg().div(S).neg()}else if(S.isNegative())return this.div(S.neg()).neg();H1=A}else{if(!S.unsigned)S=S.toUnsigned();if(S.gt(this))return P;if(S.gt(this.shru(1)))return N;H1=P}a=this;while(a.gte(S)){d=Math.max(1,Math.floor(a.toNumber()/S.toNumber()));var z1=Math.ceil(Math.log(d)/Math.LN2),y1=z1<=48?1:H(2,z1-48),J1=U(d),l=J1.mul(S);while(l.isNegative()||l.gt(a))d-=y1,J1=U(d,this.unsigned),l=J1.mul(S);if(J1.isZero())J1=R;H1=H1.add(J1),a=a.sub(l)}return H1},k.div=k.divide,k.modulo=function(S){if(!Z(S))S=K(S);if(J){var c=(this.unsigned?J.rem_u:J.rem_s)(this.low,this.high,S.low,S.high);return z(c,J.get_high(),this.unsigned)}return this.sub(this.div(S).mul(S))},k.mod=k.modulo,k.rem=k.modulo,k.not=function(){return z(~this.low,~this.high,this.unsigned)},k.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},k.clz=k.countLeadingZeros,k.countTrailingZeros=function(){return this.low?W(this.low):W(this.high)+32},k.ctz=k.countTrailingZeros,k.and=function(S){if(!Z(S))S=K(S);return z(this.low&S.low,this.high&S.high,this.unsigned)},k.or=function(S){if(!Z(S))S=K(S);return z(this.low|S.low,this.high|S.high,this.unsigned)},k.xor=function(S){if(!Z(S))S=K(S);return z(this.low^S.low,this.high^S.high,this.unsigned)},k.shiftLeft=function(S){if(Z(S))S=S.toInt();if((S&=63)===0)return this;else if(S<32)return z(this.low<<S,this.high<<S|this.low>>>32-S,this.unsigned);else return z(0,this.low<<S-32,this.unsigned)},k.shl=k.shiftLeft,k.shiftRight=function(S){if(Z(S))S=S.toInt();if((S&=63)===0)return this;else if(S<32)return z(this.low>>>S|this.high<<32-S,this.high>>S,this.unsigned);else return z(this.high>>S-32,this.high>=0?0:-1,this.unsigned)},k.shr=k.shiftRight,k.shiftRightUnsigned=function(S){if(Z(S))S=S.toInt();if((S&=63)===0)return this;if(S<32)return z(this.low>>>S|this.high<<32-S,this.high>>>S,this.unsigned);if(S===32)return z(this.high,0,this.unsigned);return z(this.high>>>S-32,0,this.unsigned)},k.shru=k.shiftRightUnsigned,k.shr_u=k.shiftRightUnsigned,k.rotateLeft=function(S){var c;if(Z(S))S=S.toInt();if((S&=63)===0)return this;if(S===32)return z(this.high,this.low,this.unsigned);if(S<32)return c=32-S,z(this.low<<S|this.high>>>c,this.high<<S|this.low>>>c,this.unsigned);return S-=32,c=32-S,z(this.high<<S|this.low>>>c,this.low<<S|this.high>>>c,this.unsigned)},k.rotl=k.rotateLeft,k.rotateRight=function(S){var c;if(Z(S))S=S.toInt();if((S&=63)===0)return this;if(S===32)return z(this.high,this.low,this.unsigned);if(S<32)return c=32-S,z(this.high<<c|this.low>>>S,this.low<<c|this.high>>>S,this.unsigned);return S-=32,c=32-S,z(this.low<<c|this.high>>>S,this.high<<c|this.low>>>S,this.unsigned)},k.rotr=k.rotateRight,k.toSigned=function(){if(!this.unsigned)return this;return z(this.low,this.high,!1)},k.toUnsigned=function(){if(this.unsigned)return this;return z(this.low,this.high,!0)},k.toBytes=function(S){return S?this.toBytesLE():this.toBytesBE()},k.toBytesLE=function(){var S=this.high,c=this.low;return[c&255,c>>>8&255,c>>>16&255,c>>>24,S&255,S>>>8&255,S>>>16&255,S>>>24]},k.toBytesBE=function(){var S=this.high,c=this.low;return[S>>>24,S>>>16&255,S>>>8&255,S&255,c>>>24,c>>>16&255,c>>>8&255,c&255]},X.fromBytes=function(S,c,d){return d?X.fromBytesLE(S,c):X.fromBytesBE(S,c)},X.fromBytesLE=function(S,c){return new X(S[0]|S[1]<<8|S[2]<<16|S[3]<<24,S[4]|S[5]<<8|S[6]<<16|S[7]<<24,c)},X.fromBytesBE=function(S,c){return new X(S[4]<<24|S[5]<<16|S[6]<<8|S[7],S[0]<<24|S[1]<<16|S[2]<<8|S[3],c)},typeof BigInt==="function")X.fromBigInt=function(S,c){var d=Number(BigInt.asIntN(32,S)),a=Number(BigInt.asIntN(32,S>>BigInt(32)));return z(d,a,c)},X.fromValue=function(S,c){if(typeof S==="bigint")return X.fromBigInt(S,c);return K(S,c)},k.toBigInt=function(){var S=BigInt(this.low>>>0),c=BigInt(this.unsigned?this.high>>>0:this.high);return c<<BigInt(32)|S};var r=Y.default=X})});var Hs=q((g80)=>{Object.defineProperty(g80,"__esModule",{value:!0});g80.loadFileDescriptorSetFromObject=g80.loadFileDescriptorSetFromBuffer=g80.fromJSON=g80.loadSync=g80.load=g80.IdempotencyLevel=g80.isAnyExtension=g80.Long=void 0;var Pi4=c40(),dX=cN(),Us=M80(),zs=_80(),Li4=x80();g80.Long=Li4;function Mi4(Y){return"@type"in Y&&typeof Y["@type"]==="string"}g80.isAnyExtension=Mi4;var v80;(function(Y){Y.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",Y.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",Y.IDEMPOTENT="IDEMPOTENT"})(v80=g80.IdempotencyLevel||(g80.IdempotencyLevel={}));var h80={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function Ei4(Y,J){if(Y==="")return J;else return Y+"."+J}function Ti4(Y){return Y instanceof dX.Service||Y instanceof dX.Type||Y instanceof dX.Enum}function Ri4(Y){return Y instanceof dX.Namespace||Y instanceof dX.Root}function b80(Y,J){let X=Ei4(J,Y.name);if(Ti4(Y))return[[X,Y]];else if(Ri4(Y)&&typeof Y.nested<"u")return Object.keys(Y.nested).map((Z)=>{return b80(Y.nested[Z],X)}).reduce((Z,W)=>Z.concat(W),[]);return[]}function $s(Y,J){return function(Z){return Y.toObject(Y.decode(Z),J)}}function Gs(Y){return function(X){if(Array.isArray(X))throw Error(`Failed to serialize message: expected object with ${Y.name} structure, got array instead`);let Z=Y.fromObject(X);return Y.encode(Z).finish()}}function Ni4(Y){return(Y||[]).reduce((J,X)=>{for(let[Z,W]of Object.entries(X))switch(Z){case"uninterpreted_option":J.uninterpreted_option.push(X.uninterpreted_option);break;default:J[Z]=W}return J},{deprecated:!1,idempotency_level:v80.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function Si4(Y,J,X,Z){let{resolvedRequestType:W,resolvedResponseType:$}=Y;return{path:"/"+J+"/"+Y.name,requestStream:!!Y.requestStream,responseStream:!!Y.responseStream,requestSerialize:Gs(W),requestDeserialize:$s(W,X),responseSerialize:Gs($),responseDeserialize:$s($,X),originalName:Pi4(Y.name),requestType:Qs(W,X,Z),responseType:Qs($,X,Z),options:Ni4(Y.parsedOptions)}}function Ci4(Y,J,X,Z){let W={};for(let $ of Y.methodsArray)W[$.name]=Si4($,J,X,Z);return W}function Qs(Y,J,X){let Z=Y.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:Z.$type.toObject(Z,h80),fileDescriptorProtos:X,serialize:Gs(Y),deserialize:$s(Y,J)}}function ji4(Y,J){let X=Y.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:X.$type.toObject(X,h80),fileDescriptorProtos:J}}function ki4(Y,J,X,Z){if(Y instanceof dX.Service)return Ci4(Y,J,X,Z);else if(Y instanceof dX.Type)return Qs(Y,X,Z);else if(Y instanceof dX.Enum)return ji4(Y,Z);else throw Error("Type mismatch in reflection object handling")}function nN(Y,J){let X={};Y.resolveAll();let W=Y.toDescriptor("proto3").file.map(($)=>Buffer.from(Us.FileDescriptorProto.encode($).finish()));for(let[$,G]of b80(Y,""))X[$]=ki4(G,$,J,W);return X}function y80(Y,J){J=J||{};let X=dX.Root.fromDescriptor(Y);return X.resolveAll(),nN(X,J)}function _i4(Y,J){return(0,zs.loadProtosWithOptions)(Y,J).then((X)=>{return nN(X,J)})}g80.load=_i4;function xi4(Y,J){let X=(0,zs.loadProtosWithOptionsSync)(Y,J);return nN(X,J)}g80.loadSync=xi4;function fi4(Y,J){J=J||{};let X=dX.Root.fromJSON(Y);return X.resolveAll(),nN(X,J)}g80.fromJSON=fi4;function vi4(Y,J){let X=Us.FileDescriptorSet.decode(Y);return y80(X,J)}g80.loadFileDescriptorSetFromBuffer=vi4;function hi4(Y,J){let X=Us.FileDescriptorSet.fromObject(Y);return y80(X,J)}g80.loadFileDescriptorSetFromObject=hi4;(0,zs.addCommonProtos)()});var q$=q((Y50)=>{var __dirname="/Users/Simon.Owusu@Tommy.com/WebstormProjects/CapellaQL/node_modules/@grpc/grpc-js/build/src";Object.defineProperty(Y50,"__esModule",{value:!0});Y50.registerChannelzSocket=Y50.registerChannelzServer=Y50.registerChannelzSubchannel=Y50.registerChannelzChannel=Y50.ChannelzCallTrackerStub=Y50.ChannelzCallTracker=Y50.ChannelzChildrenTrackerStub=Y50.ChannelzChildrenTracker=Y50.ChannelzTrace=Y50.ChannelzTraceStub=void 0;Y50.unregisterChannelzRef=ii4;Y50.getChannelzHandlers=t80;Y50.getChannelzServiceDefinition=e80;Y50.setup=Wo4;var oN=C("net"),WU=p00(),HD=K9(),OD=v0(),ci4=u9(),li4=VN(),pi4=DN();function Os(Y){return{channel_id:Y.id,name:Y.name}}function Ks(Y){return{subchannel_id:Y.id,name:Y.name}}function ni4(Y){return{server_id:Y.id}}function rN(Y){return{socket_id:Y.id,name:Y.name}}var m80=32,Bs=100;class p80{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:cX(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}}Y50.ChannelzTraceStub=p80;class n80{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(Y,J,X){let Z=new Date;if(this.events.push({description:J,severity:Y,timestamp:Z,childChannel:(X===null||X===void 0?void 0:X.kind)==="channel"?X:void 0,childSubchannel:(X===null||X===void 0?void 0:X.kind)==="subchannel"?X:void 0}),this.events.length>=m80*2)this.events=this.events.slice(m80);this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:cX(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map((Y)=>{return{description:Y.description,severity:Y.severity,timestamp:cX(Y.timestamp),channel_ref:Y.childChannel?Os(Y.childChannel):null,subchannel_ref:Y.childSubchannel?Ks(Y.childSubchannel):null}})}}}Y50.ChannelzTrace=n80;class qs{constructor(){this.channelChildren=new WU.OrderedMap,this.subchannelChildren=new WU.OrderedMap,this.socketChildren=new WU.OrderedMap,this.trackerMap={["channel"]:this.channelChildren,["subchannel"]:this.subchannelChildren,["socket"]:this.socketChildren}}refChild(Y){let J=this.trackerMap[Y.kind],X=J.find(Y.id);if(X.equals(J.end()))J.setElement(Y.id,{ref:Y,count:1},X);else X.pointer[1].count+=1}unrefChild(Y){let J=this.trackerMap[Y.kind],X=J.getElementByKey(Y.id);if(X!==void 0){if(X.count-=1,X.count===0)J.eraseElementByKey(Y.id)}}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}}Y50.ChannelzChildrenTracker=qs;class i80 extends qs{refChild(){}unrefChild(){}}Y50.ChannelzChildrenTrackerStub=i80;class Fs{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}Y50.ChannelzCallTracker=Fs;class o80 extends Fs{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}}Y50.ChannelzCallTrackerStub=o80;var IZ={["channel"]:new WU.OrderedMap,["subchannel"]:new WU.OrderedMap,["server"]:new WU.OrderedMap,["socket"]:new WU.OrderedMap},aN=(Y)=>{let J=1;function X(){return J++}let Z=IZ[Y];return(W,$,G)=>{let Q=X(),U={id:Q,name:W,kind:Y};if(G)Z.setElement(Q,{ref:U,getInfo:$});return U}};Y50.registerChannelzChannel=aN("channel");Y50.registerChannelzSubchannel=aN("subchannel");Y50.registerChannelzServer=aN("server");Y50.registerChannelzSocket=aN("socket");function ii4(Y){IZ[Y.kind].eraseElementByKey(Y.id)}function oi4(Y){let J=Number.parseInt(Y,16);return[J/256|0,J%256]}function d80(Y){if(Y==="")return[];let J=Y.split(":").map((Z)=>oi4(Z));return[].concat(...J)}function ri4(Y){return(0,oN.isIPv6)(Y)&&Y.toLowerCase().startsWith("::ffff:")&&(0,oN.isIPv4)(Y.substring(7))}function c80(Y){return Buffer.from(Uint8Array.from(Y.split(".").map((J)=>Number.parseInt(J))))}function ai4(Y){if((0,oN.isIPv4)(Y))return c80(Y);else if(ri4(Y))return c80(Y.substring(7));else if((0,oN.isIPv6)(Y)){let J,X,Z=Y.indexOf("::");if(Z===-1)J=Y,X="";else J=Y.substring(0,Z),X=Y.substring(Z+2);let W=Buffer.from(d80(J)),$=Buffer.from(d80(X)),G=Buffer.alloc(16-W.length-$.length,0);return Buffer.concat([W,G,$])}else return null}function r80(Y){switch(Y){case HD.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case HD.ConnectivityState.IDLE:return{state:"IDLE"};case HD.ConnectivityState.READY:return{state:"READY"};case HD.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case HD.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function cX(Y){if(!Y)return null;let J=Y.getTime();return{seconds:J/1000|0,nanos:J%1000*1e6}}function a80(Y){let J=Y.getInfo(),X=[],Z=[];return J.children.channels.forEach((W)=>{X.push(Os(W[1].ref))}),J.children.subchannels.forEach((W)=>{Z.push(Ks(W[1].ref))}),{ref:Os(Y.ref),data:{target:J.target,state:r80(J.state),calls_started:J.callTracker.callsStarted,calls_succeeded:J.callTracker.callsSucceeded,calls_failed:J.callTracker.callsFailed,last_call_started_timestamp:cX(J.callTracker.lastCallStartedTimestamp),trace:J.trace.getTraceMessage()},channel_ref:X,subchannel_ref:Z}}function si4(Y,J){let X=parseInt(Y.request.channel_id,10),Z=IZ.channel.getElementByKey(X);if(Z===void 0){J({code:OD.Status.NOT_FOUND,details:"No channel data found for id "+X});return}J(null,{channel:a80(Z)})}function ti4(Y,J){let X=parseInt(Y.request.max_results,10)||Bs,Z=[],W=parseInt(Y.request.start_channel_id,10),$=IZ.channel,G;for(G=$.lowerBound(W);!G.equals($.end())&&Z.length<X;G=G.next())Z.push(a80(G.pointer[1]));J(null,{channel:Z,end:G.equals($.end())})}function s80(Y){let J=Y.getInfo(),X=[];return J.listenerChildren.sockets.forEach((Z)=>{X.push(rN(Z[1].ref))}),{ref:ni4(Y.ref),data:{calls_started:J.callTracker.callsStarted,calls_succeeded:J.callTracker.callsSucceeded,calls_failed:J.callTracker.callsFailed,last_call_started_timestamp:cX(J.callTracker.lastCallStartedTimestamp),trace:J.trace.getTraceMessage()},listen_socket:X}}function ei4(Y,J){let X=parseInt(Y.request.server_id,10),W=IZ.server.getElementByKey(X);if(W===void 0){J({code:OD.Status.NOT_FOUND,details:"No server data found for id "+X});return}J(null,{server:s80(W)})}function Yo4(Y,J){let X=parseInt(Y.request.max_results,10)||Bs,Z=parseInt(Y.request.start_server_id,10),W=IZ.server,$=[],G;for(G=W.lowerBound(Z);!G.equals(W.end())&&$.length<X;G=G.next())$.push(s80(G.pointer[1]));J(null,{server:$,end:G.equals(W.end())})}function Jo4(Y,J){let X=parseInt(Y.request.subchannel_id,10),Z=IZ.subchannel.getElementByKey(X);if(Z===void 0){J({code:OD.Status.NOT_FOUND,details:"No subchannel data found for id "+X});return}let W=Z.getInfo(),$=[];W.children.sockets.forEach((Q)=>{$.push(rN(Q[1].ref))});let G={ref:Ks(Z.ref),data:{target:W.target,state:r80(W.state),calls_started:W.callTracker.callsStarted,calls_succeeded:W.callTracker.callsSucceeded,calls_failed:W.callTracker.callsFailed,last_call_started_timestamp:cX(W.callTracker.lastCallStartedTimestamp),trace:W.trace.getTraceMessage()},socket_ref:$};J(null,{subchannel:G})}function l80(Y){var J;if((0,ci4.isTcpSubchannelAddress)(Y))return{address:"tcpip_address",tcpip_address:{ip_address:(J=ai4(Y.host))!==null&&J!==void 0?J:void 0,port:Y.port}};else return{address:"uds_address",uds_address:{filename:Y.path}}}function Xo4(Y,J){var X,Z,W,$,G;let Q=parseInt(Y.request.socket_id,10),U=IZ.socket.getElementByKey(Q);if(U===void 0){J({code:OD.Status.NOT_FOUND,details:"No socket data found for id "+Q});return}let z=U.getInfo(),H=z.security?{model:"tls",tls:{cipher_suite:z.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(X=z.security.cipherSuiteStandardName)!==null&&X!==void 0?X:void 0,other_name:(Z=z.security.cipherSuiteOtherName)!==null&&Z!==void 0?Z:void 0,local_certificate:(W=z.security.localCertificate)!==null&&W!==void 0?W:void 0,remote_certificate:($=z.security.remoteCertificate)!==null&&$!==void 0?$:void 0}}:null,O={ref:rN(U.ref),local:z.localAddress?l80(z.localAddress):null,remote:z.remoteAddress?l80(z.remoteAddress):null,remote_name:(G=z.remoteName)!==null&&G!==void 0?G:void 0,security:H,data:{keep_alives_sent:z.keepAlivesSent,streams_started:z.streamsStarted,streams_succeeded:z.streamsSucceeded,streams_failed:z.streamsFailed,last_local_stream_created_timestamp:cX(z.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:cX(z.lastRemoteStreamCreatedTimestamp),messages_received:z.messagesReceived,messages_sent:z.messagesSent,last_message_received_timestamp:cX(z.lastMessageReceivedTimestamp),last_message_sent_timestamp:cX(z.lastMessageSentTimestamp),local_flow_control_window:z.localFlowControlWindow?{value:z.localFlowControlWindow}:null,remote_flow_control_window:z.remoteFlowControlWindow?{value:z.remoteFlowControlWindow}:null}};J(null,{socket:O})}function Zo4(Y,J){let X=parseInt(Y.request.server_id,10),Z=IZ.server.getElementByKey(X);if(Z===void 0){J({code:OD.Status.NOT_FOUND,details:"No server data found for id "+X});return}let W=parseInt(Y.request.start_socket_id,10),$=parseInt(Y.request.max_results,10)||Bs,Q=Z.getInfo().sessionChildren.sockets,U=[],z;for(z=Q.lowerBound(W);!z.equals(Q.end())&&U.length<$;z=z.next())U.push(rN(z.pointer[1].ref));J(null,{socket_ref:U,end:z.equals(Q.end())})}function t80(){return{GetChannel:si4,GetTopChannels:ti4,GetServer:ei4,GetServers:Yo4,GetSubchannel:Jo4,GetSocket:Xo4,GetServerSockets:Zo4}}var iN=null;function e80(){if(iN)return iN;let Y=Hs().loadSync,J=Y("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return iN=(0,pi4.loadPackageDefinition)(J).grpc.channelz.v1.Channelz.service,iN}function Wo4(){(0,li4.registerAdminService)(e80,t80)}});var sN=q((X50)=>{Object.defineProperty(X50,"__esModule",{value:!0});X50.getNextCallNumber=wo4;var Do4=0;function wo4(){return Do4++}});var Vs=q((W50)=>{Object.defineProperty(W50,"__esModule",{value:!0});W50.CompressionAlgorithms=void 0;var Z50;(function(Y){Y[Y.identity=0]="identity",Y[Y.deflate=1]="deflate",Y[Y.gzip=2]="gzip"})(Z50||(W50.CompressionAlgorithms=Z50={}))});var Is=q((Q50)=>{Object.defineProperty(Q50,"__esModule",{value:!0});Q50.BaseFilter=void 0;class G50{async sendMetadata(Y){return Y}receiveMetadata(Y){return Y}async sendMessage(Y){return Y}async receiveMessage(Y){return Y}receiveTrailers(Y){return Y}}Q50.BaseFilter=G50});var ws=q((F50)=>{Object.defineProperty(F50,"__esModule",{value:!0});F50.CompressionFilterFactory=F50.CompressionFilter=void 0;var tN=C("zlib"),H50=Vs(),WK=v0(),Po4=Is(),Lo4=u4(),Mo4=(Y)=>{return typeof Y==="number"&&typeof H50.CompressionAlgorithms[Y]==="string"};class KD{async writeMessage(Y,J){let X=Y;if(J)X=await this.compressMessage(X);let Z=Buffer.allocUnsafe(X.length+5);return Z.writeUInt8(J?1:0,0),Z.writeUInt32BE(X.length,1),X.copy(Z,5),Z}async readMessage(Y){let J=Y.readUInt8(0)===1,X=Y.slice(5);if(J)X=await this.decompressMessage(X);return X}}class $K extends KD{async compressMessage(Y){return Y}async writeMessage(Y,J){let X=Buffer.allocUnsafe(Y.length+5);return X.writeUInt8(0,0),X.writeUInt32BE(Y.length,1),Y.copy(X,5),X}decompressMessage(Y){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}}class O50 extends KD{constructor(Y){super();this.maxRecvMessageLength=Y}compressMessage(Y){return new Promise((J,X)=>{tN.deflate(Y,(Z,W)=>{if(Z)X(Z);else J(W)})})}decompressMessage(Y){return new Promise((J,X)=>{let Z=0,W=[],$=tN.createInflate();$.on("data",(G)=>{if(W.push(G),Z+=G.byteLength,this.maxRecvMessageLength!==-1&&Z>this.maxRecvMessageLength)$.destroy(),X({code:WK.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`})}),$.on("end",()=>{J(Buffer.concat(W))}),$.write(Y),$.end()})}}class K50 extends KD{constructor(Y){super();this.maxRecvMessageLength=Y}compressMessage(Y){return new Promise((J,X)=>{tN.gzip(Y,(Z,W)=>{if(Z)X(Z);else J(W)})})}decompressMessage(Y){return new Promise((J,X)=>{let Z=0,W=[],$=tN.createGunzip();$.on("data",(G)=>{if(W.push(G),Z+=G.byteLength,this.maxRecvMessageLength!==-1&&Z>this.maxRecvMessageLength)$.destroy(),X({code:WK.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`})}),$.on("end",()=>{J(Buffer.concat(W))}),$.write(Y),$.end()})}}class B50 extends KD{constructor(Y){super();this.compressionName=Y}compressMessage(Y){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(Y){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}}function z50(Y,J){switch(Y){case"identity":return new $K;case"deflate":return new O50(J);case"gzip":return new K50(J);default:return new B50(Y)}}class Ds extends Po4.BaseFilter{constructor(Y,J){var X,Z,W;super();this.sharedFilterConfig=J,this.sendCompression=new $K,this.receiveCompression=new $K,this.currentCompressionAlgorithm="identity";let $=Y["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(X=Y["grpc.max_receive_message_length"])!==null&&X!==void 0?X:WK.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=(Z=Y["grpc.max_send_message_length"])!==null&&Z!==void 0?Z:WK.DEFAULT_MAX_SEND_MESSAGE_LENGTH,$!==void 0)if(Mo4($)){let G=H50.CompressionAlgorithms[$],Q=(W=J.serverSupportedEncodingHeader)===null||W===void 0?void 0:W.split(",");if(!Q||Q.includes(G))this.currentCompressionAlgorithm=G,this.sendCompression=z50(this.currentCompressionAlgorithm,-1)}else Lo4.log(WK.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${$}`)}async sendMetadata(Y){let J=await Y;if(J.set("grpc-accept-encoding","identity,deflate,gzip"),J.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity")J.remove("grpc-encoding");else J.set("grpc-encoding",this.currentCompressionAlgorithm);return J}receiveMetadata(Y){let J=Y.get("grpc-encoding");if(J.length>0){let Z=J[0];if(typeof Z==="string")this.receiveCompression=z50(Z,this.maxReceiveMessageLength)}Y.remove("grpc-encoding");let X=Y.get("grpc-accept-encoding")[0];if(X){if(this.sharedFilterConfig.serverSupportedEncodingHeader=X,!X.split(",").includes(this.currentCompressionAlgorithm))this.sendCompression=new $K,this.currentCompressionAlgorithm="identity"}return Y.remove("grpc-accept-encoding"),Y}async sendMessage(Y){var J;let X=await Y;if(this.maxSendMessageLength!==-1&&X.message.length>this.maxSendMessageLength)throw{code:WK.Status.RESOURCE_EXHAUSTED,details:`Attempted to send message with a size larger than ${this.maxSendMessageLength}`};let Z;if(this.sendCompression instanceof $K)Z=!1;else Z=(((J=X.flags)!==null&&J!==void 0?J:0)&2)===0;return{message:await this.sendCompression.writeMessage(X.message,Z),flags:X.flags}}async receiveMessage(Y){return this.receiveCompression.readMessage(await Y)}}F50.CompressionFilter=Ds;class q50{constructor(Y,J){this.options=J,this.sharedFilterConfig={}}createFilter(){return new Ds(this.options,this.sharedFilterConfig)}}F50.CompressionFilterFactory=q50});var BD=q((I50)=>{Object.defineProperty(I50,"__esModule",{value:!0});I50.restrictControlPlaneStatusCode=Ro4;var lX=v0(),To4=[lX.Status.OK,lX.Status.INVALID_ARGUMENT,lX.Status.NOT_FOUND,lX.Status.ALREADY_EXISTS,lX.Status.FAILED_PRECONDITION,lX.Status.ABORTED,lX.Status.OUT_OF_RANGE,lX.Status.DATA_LOSS];function Ro4(Y,J){if(To4.includes(Y))return{code:lX.Status.INTERNAL,details:`Invalid status from control plane: ${Y} ${lX.Status[Y]} ${J}`};else return{code:Y,details:J}}});var GK=q((D50)=>{Object.defineProperty(D50,"__esModule",{value:!0});D50.minDeadline=So4;D50.getDeadlineTimeoutString=jo4;D50.getRelativeTimeout=_o4;D50.deadlineToString=xo4;D50.formatDateDifference=fo4;function So4(...Y){let J=1/0;for(let X of Y){let Z=X instanceof Date?X.getTime():X;if(Z<J)J=Z}return J}var Co4=[["m",1],["S",1000],["M",60000],["H",3600000]];function jo4(Y){let J=new Date().getTime();if(Y instanceof Date)Y=Y.getTime();let X=Math.max(Y-J,0);for(let[Z,W]of Co4){let $=X/W;if($<1e8)return String(Math.ceil($))+Z}throw Error("Deadline is too far in the future")}var ko4=2147483647;function _o4(Y){let J=Y instanceof Date?Y.getTime():Y,X=new Date().getTime(),Z=J-X;if(Z<0)return 0;else if(Z>ko4)return 1/0;else return Z}function xo4(Y){if(Y instanceof Date)return Y.toISOString();else{let J=new Date(Y);if(Number.isNaN(J.getTime()))return""+Y;else return J.toISOString()}}function fo4(Y,J){return((J.getTime()-Y.getTime())/1000).toFixed(3)+"s"}});var eN=q((w50)=>{Object.defineProperty(w50,"__esModule",{value:!0});w50.FilterStackFactory=w50.FilterStack=void 0;class As{constructor(Y){this.filters=Y}sendMetadata(Y){let J=Y;for(let X=0;X<this.filters.length;X++)J=this.filters[X].sendMetadata(J);return J}receiveMetadata(Y){let J=Y;for(let X=this.filters.length-1;X>=0;X--)J=this.filters[X].receiveMetadata(J);return J}sendMessage(Y){let J=Y;for(let X=0;X<this.filters.length;X++)J=this.filters[X].sendMessage(J);return J}receiveMessage(Y){let J=Y;for(let X=this.filters.length-1;X>=0;X--)J=this.filters[X].receiveMessage(J);return J}receiveTrailers(Y){let J=Y;for(let X=this.filters.length-1;X>=0;X--)J=this.filters[X].receiveTrailers(J);return J}push(Y){this.filters.unshift(...Y)}getFilters(){return this.filters}}w50.FilterStack=As;class Ps{constructor(Y){this.factories=Y}push(Y){this.factories.unshift(...Y)}clone(){return new Ps([...this.factories])}createFilter(){return new As(this.factories.map((Y)=>Y.createFilter()))}}w50.FilterStackFactory=Ps});var T50=q((M50)=>{Object.defineProperty(M50,"__esModule",{value:!0});M50.SingleSubchannelChannel=void 0;var mo4=sN(),qD=q$(),do4=ws(),co4=K9(),FD=v0(),lo4=BD(),po4=GK(),no4=eN(),Ls=i8(),io4=ZJ(),YS=O9();class P50{constructor(Y,J,X,Z,W){var $,G;this.subchannel=Y,this.method=J,this.options=Z,this.callNumber=W,this.childCall=null,this.pendingMessage=null,this.readPending=!1,this.halfClosePending=!1,this.pendingStatus=null,this.readFilterPending=!1,this.writeFilterPending=!1;let Q=this.method.split("/"),U="";if(Q.length>=2)U=Q[1];let z=(G=($=(0,YS.splitHostPort)(this.options.host))===null||$===void 0?void 0:$.host)!==null&&G!==void 0?G:"localhost";this.serviceUrl=`https://${z}/${U}`;let H=(0,po4.getRelativeTimeout)(Z.deadline);if(H!==1/0)if(H<=0)this.cancelWithStatus(FD.Status.DEADLINE_EXCEEDED,"Deadline exceeded");else setTimeout(()=>{this.cancelWithStatus(FD.Status.DEADLINE_EXCEEDED,"Deadline exceeded")},H);this.filterStack=X.createFilter()}cancelWithStatus(Y,J){if(this.childCall)this.childCall.cancelWithStatus(Y,J);else this.pendingStatus={code:Y,details:J,metadata:new Ls.Metadata}}getPeer(){var Y,J;return(J=(Y=this.childCall)===null||Y===void 0?void 0:Y.getPeer())!==null&&J!==void 0?J:this.subchannel.getAddress()}async start(Y,J){if(this.pendingStatus){J.onReceiveStatus(this.pendingStatus);return}if(this.subchannel.getConnectivityState()!==co4.ConnectivityState.READY){J.onReceiveStatus({code:FD.Status.UNAVAILABLE,details:"Subchannel not ready",metadata:new Ls.Metadata});return}let X=await this.filterStack.sendMetadata(Promise.resolve(Y)),Z;try{Z=await this.subchannel.getCallCredentials().generateMetadata({method_name:this.method,service_url:this.serviceUrl})}catch($){let G=$,{code:Q,details:U}=(0,lo4.restrictControlPlaneStatusCode)(typeof G.code==="number"?G.code:FD.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${G.message}`);J.onReceiveStatus({code:Q,details:U,metadata:new Ls.Metadata});return}Z.merge(X);let W={onReceiveMetadata:async($)=>{J.onReceiveMetadata(await this.filterStack.receiveMetadata($))},onReceiveMessage:async($)=>{this.readFilterPending=!0;let G=await this.filterStack.receiveMessage($);if(this.readFilterPending=!1,J.onReceiveMessage(G),this.pendingStatus)J.onReceiveStatus(this.pendingStatus)},onReceiveStatus:async($)=>{let G=await this.filterStack.receiveTrailers($);if(this.readFilterPending)this.pendingStatus=G;else J.onReceiveStatus(G)}};if(this.childCall=this.subchannel.createCall(Z,this.options.host,this.method,W),this.readPending)this.childCall.startRead();if(this.pendingMessage)this.childCall.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message);if(this.halfClosePending&&!this.writeFilterPending)this.childCall.halfClose()}async sendMessageWithContext(Y,J){this.writeFilterPending=!0;let X=await this.filterStack.sendMessage(Promise.resolve({message:J,flags:Y.flags}));if(this.writeFilterPending=!1,this.childCall){if(this.childCall.sendMessageWithContext(Y,X.message),this.halfClosePending)this.childCall.halfClose()}else this.pendingMessage={context:Y,message:X.message}}startRead(){if(this.childCall)this.childCall.startRead();else this.readPending=!0}halfClose(){if(this.childCall&&!this.writeFilterPending)this.childCall.halfClose();else this.halfClosePending=!0}getCallNumber(){return this.callNumber}setCredentials(Y){throw Error("Method not implemented.")}getAuthContext(){if(this.childCall)return this.childCall.getAuthContext();else return null}}class L50{constructor(Y,J,X){if(this.subchannel=Y,this.target=J,this.channelzEnabled=!1,this.channelzTrace=new qD.ChannelzTrace,this.callTracker=new qD.ChannelzCallTracker,this.childrenTracker=new qD.ChannelzChildrenTracker,this.channelzEnabled=X["grpc.enable_channelz"]!==0,this.channelzRef=(0,qD.registerChannelzChannel)((0,YS.uriToString)(J),()=>({target:`${(0,YS.uriToString)(J)} (${Y.getAddress()})`,state:this.subchannel.getConnectivityState(),trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}),this.channelzEnabled),this.channelzEnabled)this.childrenTracker.refChild(Y.getChannelzRef());this.filterStackFactory=new no4.FilterStackFactory([new do4.CompressionFilterFactory(this,X)])}close(){if(this.channelzEnabled)this.childrenTracker.unrefChild(this.subchannel.getChannelzRef());(0,qD.unregisterChannelzRef)(this.channelzRef)}getTarget(){return(0,YS.uriToString)(this.target)}getConnectivityState(Y){throw Error("Method not implemented.")}watchConnectivityState(Y,J,X){throw Error("Method not implemented.")}getChannelzRef(){return this.channelzRef}createCall(Y,J){let X={deadline:J,host:(0,io4.getDefaultAuthority)(this.target),flags:FD.Propagate.DEFAULTS,parentCall:null};return new P50(this.subchannel,Y,this.filterStackFactory,X,(0,mo4.getNextCallNumber)())}}M50.SingleSubchannelChannel=L50});var C50=q((N50)=>{Object.defineProperty(N50,"__esModule",{value:!0});N50.Subchannel=void 0;var x4=K9(),oo4=nO(),Ms=u4(),JS=v0(),ro4=O9(),ao4=u9(),pX=q$(),so4=T50(),to4="subchannel",eo4=2147483647;class R50{constructor(Y,J,X,Z,W){var $;this.channelTarget=Y,this.subchannelAddress=J,this.options=X,this.connector=W,this.connectivityState=x4.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.dataProducers=new Map,this.subchannelChannel=null;let G={initialDelay:X["grpc.initial_reconnect_backoff_ms"],maxDelay:X["grpc.max_reconnect_backoff_ms"]};if(this.backoffTimeout=new oo4.BackoffTimeout(()=>{this.handleBackoffTimer()},G),this.backoffTimeout.unref(),this.subchannelAddressString=(0,ao4.subchannelAddressToString)(J),this.keepaliveTime=($=X["grpc.keepalive_time_ms"])!==null&&$!==void 0?$:-1,X["grpc.enable_channelz"]===0)this.channelzEnabled=!1,this.channelzTrace=new pX.ChannelzTraceStub,this.callTracker=new pX.ChannelzCallTrackerStub,this.childrenTracker=new pX.ChannelzChildrenTrackerStub,this.streamTracker=new pX.ChannelzCallTrackerStub;else this.channelzTrace=new pX.ChannelzTrace,this.callTracker=new pX.ChannelzCallTracker,this.childrenTracker=new pX.ChannelzChildrenTracker,this.streamTracker=new pX.ChannelzCallTracker;this.channelzRef=(0,pX.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(X,void 0,2)),this.secureConnector=Z._createSecureConnector(Y,X)}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(Y){Ms.trace(JS.LogVerbosity.DEBUG,to4,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Y)}refTrace(Y){Ms.trace(JS.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Y)}handleBackoffTimer(){if(this.continueConnecting)this.transitionToState([x4.ConnectivityState.TRANSIENT_FAILURE],x4.ConnectivityState.CONNECTING);else this.transitionToState([x4.ConnectivityState.TRANSIENT_FAILURE],x4.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let Y=this.options;if(Y["grpc.keepalive_time_ms"]){let J=Math.min(this.keepaliveTime,eo4);Y=Object.assign(Object.assign({},Y),{"grpc.keepalive_time_ms":J})}this.connector.connect(this.subchannelAddress,this.secureConnector,Y).then((J)=>{if(this.transitionToState([x4.ConnectivityState.CONNECTING],x4.ConnectivityState.READY)){if(this.transport=J,this.channelzEnabled)this.childrenTracker.refChild(J.getChannelzRef());J.addDisconnectListener((X)=>{if(this.transitionToState([x4.ConnectivityState.READY],x4.ConnectivityState.IDLE),X&&this.keepaliveTime>0)this.keepaliveTime*=2,Ms.log(JS.LogVerbosity.ERROR,`Connection to ${(0,ro4.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`)})}else J.shutdown()},(J)=>{this.transitionToState([x4.ConnectivityState.CONNECTING],x4.ConnectivityState.TRANSIENT_FAILURE,`${J}`)})}transitionToState(Y,J,X){var Z,W;if(Y.indexOf(this.connectivityState)===-1)return!1;if(X)this.trace(x4.ConnectivityState[this.connectivityState]+" -> "+x4.ConnectivityState[J]+' with error "'+X+'"');else this.trace(x4.ConnectivityState[this.connectivityState]+" -> "+x4.ConnectivityState[J]);if(this.channelzEnabled)this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+x4.ConnectivityState[J]);let $=this.connectivityState;switch(this.connectivityState=J,J){case x4.ConnectivityState.READY:this.stopBackoff();break;case x4.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case x4.ConnectivityState.TRANSIENT_FAILURE:if(this.channelzEnabled&&this.transport)this.childrenTracker.unrefChild(this.transport.getChannelzRef());if((Z=this.transport)===null||Z===void 0||Z.shutdown(),this.transport=null,!this.backoffTimeout.isRunning())process.nextTick(()=>{this.handleBackoffTimer()});break;case x4.ConnectivityState.IDLE:if(this.channelzEnabled&&this.transport)this.childrenTracker.unrefChild(this.transport.getChannelzRef());(W=this.transport)===null||W===void 0||W.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${J}`)}for(let G of this.stateListeners)G(this,$,J,this.keepaliveTime,X);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){if(this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0)this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,pX.unregisterChannelzRef)(this.channelzRef),this.secureConnector.destroy(),process.nextTick(()=>{this.transitionToState([x4.ConnectivityState.CONNECTING,x4.ConnectivityState.READY],x4.ConnectivityState.IDLE)})}unrefIfOneRef(){if(this.refcount===1)return this.unref(),!0;return!1}createCall(Y,J,X,Z){if(!this.transport)throw Error("Cannot create call, subchannel not READY");let W;if(this.channelzEnabled)this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),W={onCallEnd:($)=>{if($.code===JS.Status.OK)this.callTracker.addCallSucceeded();else this.callTracker.addCallFailed()}};else W={};return this.transport.createCall(Y,J,X,Z,W)}startConnecting(){process.nextTick(()=>{if(!this.transitionToState([x4.ConnectivityState.IDLE],x4.ConnectivityState.CONNECTING)){if(this.connectivityState===x4.ConnectivityState.TRANSIENT_FAILURE)this.continueConnecting=!0}})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(Y){this.stateListeners.add(Y)}removeConnectivityStateListener(Y){this.stateListeners.delete(Y)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([x4.ConnectivityState.TRANSIENT_FAILURE],x4.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(Y){}removeHealthStateWatcher(Y){}getRealSubchannel(){return this}realSubchannelEquals(Y){return Y.getRealSubchannel()===this}throttleKeepalive(Y){if(Y>this.keepaliveTime)this.keepaliveTime=Y}getCallCredentials(){return this.secureConnector.getCallCredentials()}getChannel(){if(!this.subchannelChannel)this.subchannelChannel=new so4.SingleSubchannelChannel(this,this.channelTarget,this.options);return this.subchannelChannel}addDataWatcher(Y){throw Error("Not implemented")}getOrCreateDataProducer(Y,J){let X=this.dataProducers.get(Y);if(X)return X;let Z=J(this);return this.dataProducers.set(Y,Z),Z}removeDataProducer(Y){this.dataProducers.delete(Y)}}N50.Subchannel=R50});var _50=q((j50)=>{var Es;Object.defineProperty(j50,"__esModule",{value:!0});j50.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=void 0;j50.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=((Es=process.env.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)!==null&&Es!==void 0?Es:"false")==="true"});var Ns=q((b50)=>{Object.defineProperty(b50,"__esModule",{value:!0});b50.DEFAULT_PORT=void 0;b50.setup=Qr4;var x50=ZJ(),Ts=C("dns"),Yr4=sr(),Rs=v0(),QK=aQ(),Jr4=i8(),Xr4=u4(),Zr4=v0(),F$=O9(),f50=C("net"),Wr4=nO(),v50=_50(),$r4="dns_resolver";function nX(Y){Xr4.trace(Zr4.LogVerbosity.DEBUG,$r4,Y)}b50.DEFAULT_PORT=443;var Gr4=30000;class h50{constructor(Y,J,X){var Z,W,$;if(this.target=Y,this.listener=J,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfigResult=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,this.alternativeResolver=new Ts.promises.Resolver,nX("Resolver constructed for target "+(0,F$.uriToString)(Y)),Y.authority)this.alternativeResolver.setServers([Y.authority]);let G=(0,F$.splitHostPort)(Y.path);if(G===null)this.ipResult=null,this.dnsHostname=null,this.port=null;else if((0,f50.isIPv4)(G.host)||(0,f50.isIPv6)(G.host))this.ipResult=[{addresses:[{host:G.host,port:(Z=G.port)!==null&&Z!==void 0?Z:b50.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null;else this.ipResult=null,this.dnsHostname=G.host,this.port=(W=G.port)!==null&&W!==void 0?W:b50.DEFAULT_PORT;if(this.percentage=Math.random()*100,X["grpc.service_config_disable_resolution"]===1)this.isServiceConfigEnabled=!1;this.defaultResolutionError={code:Rs.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,F$.uriToString)(this.target)}`,metadata:new Jr4.Metadata};let Q={initialDelay:X["grpc.initial_reconnect_backoff_ms"],maxDelay:X["grpc.max_reconnect_backoff_ms"]};this.backoff=new Wr4.BackoffTimeout(()=>{if(this.continueResolving)this.startResolutionWithBackoff()},Q),this.backoff.unref(),this.minTimeBetweenResolutionsMs=($=X["grpc.dns_min_time_between_resolutions_ms"])!==null&&$!==void 0?$:Gr4,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){if(!this.returnedIpResult)nX("Returning IP address for target "+(0,F$.uriToString)(this.target)),setImmediate(()=>{this.listener((0,QK.statusOrFromValue)(this.ipResult),{},null,"")}),this.returnedIpResult=!0;this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)nX("Failed to parse DNS address "+(0,F$.uriToString)(this.target)),setImmediate(()=>{this.listener((0,QK.statusOrFromError)({code:Rs.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,F$.uriToString)(this.target)}`}),{},null,"")}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;nX("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let Y=this.dnsHostname;if(this.pendingLookupPromise=this.lookup(Y),this.pendingLookupPromise.then((J)=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.latestLookupResult=(0,QK.statusOrFromValue)(J.map((W)=>({addresses:[W]})));let X="["+J.map((W)=>W.host+":"+W.port).join(",")+"]";nX("Resolved addresses for target "+(0,F$.uriToString)(this.target)+": "+X);let Z=this.listener(this.latestLookupResult,{},this.latestServiceConfigResult,"");this.handleHealthStatus(Z)},(J)=>{if(this.pendingLookupPromise===null)return;nX("Resolution error for target "+(0,F$.uriToString)(this.target)+": "+J.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener((0,QK.statusOrFromError)(this.defaultResolutionError),{},this.latestServiceConfigResult,"")}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null)this.pendingTxtPromise=this.resolveTxt(Y),this.pendingTxtPromise.then((J)=>{if(this.pendingTxtPromise===null)return;this.pendingTxtPromise=null;let X;try{if(X=(0,Yr4.extractAndSelectServiceConfig)(J,this.percentage),X)this.latestServiceConfigResult=(0,QK.statusOrFromValue)(X);else this.latestServiceConfigResult=null}catch(Z){this.latestServiceConfigResult=(0,QK.statusOrFromError)({code:Rs.Status.UNAVAILABLE,details:`Parsing service config failed with error ${Z.message}`})}if(this.latestLookupResult!==null)this.listener(this.latestLookupResult,{},this.latestServiceConfigResult,"")},(J)=>{})}}handleHealthStatus(Y){if(Y)this.backoff.stop(),this.backoff.reset();else this.continueResolving=!0}async lookup(Y){if(v50.GRPC_NODE_USE_ALTERNATIVE_RESOLVER){nX("Using alternative DNS resolver.");let X=await Promise.allSettled([this.alternativeResolver.resolve4(Y),this.alternativeResolver.resolve6(Y)]);if(X.every((Z)=>Z.status==="rejected"))throw Error(X[0].reason);return X.reduce((Z,W)=>{return W.status==="fulfilled"?[...Z,...W.value]:Z},[]).map((Z)=>({host:Z,port:+this.port}))}return(await Ts.promises.lookup(Y,{all:!0})).map((X)=>({host:X.address,port:+this.port}))}async resolveTxt(Y){if(v50.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)return nX("Using alternative DNS resolver."),this.alternativeResolver.resolveTxt(Y);return Ts.promises.resolveTxt(Y)}startNextResolutionTimer(){var Y,J;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{if(this.stopNextResolutionTimer(),this.continueResolving)this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),(J=(Y=this.nextResolutionTimer).unref)===null||J===void 0||J.call(Y),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){if(this.pendingLookupPromise===null)this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution()}updateResolution(){if(this.pendingLookupPromise===null)if(this.isNextResolutionTimerRunning||this.backoff.isRunning()){if(this.isNextResolutionTimerRunning)nX('resolution update delayed by "min time between resolutions" rate limit');else nX("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString());this.continueResolving=!0}else this.startResolutionWithBackoff()}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfigResult=null,this.returnedIpResult=!1}static getDefaultAuthority(Y){return Y.path}}function Qr4(){(0,x50.registerResolver)("dns",h50),(0,x50.registerDefaultScheme)("dns")}});var Ss=q((d50)=>{Object.defineProperty(d50,"__esModule",{value:!0});d50.parseCIDR=u50;d50.mapProxyName=Dr4;d50.getProxiedConnection=wr4;var VD=u4(),UK=v0(),g50=C("net"),zr4=C("http"),Hr4=u4(),y50=u9(),ID=O9(),Or4=C("url"),Kr4=Ns(),Br4="proxy";function zK(Y){Hr4.trace(UK.LogVerbosity.DEBUG,Br4,Y)}function qr4(){let Y="",J="";if(process.env.grpc_proxy)J="grpc_proxy",Y=process.env.grpc_proxy;else if(process.env.https_proxy)J="https_proxy",Y=process.env.https_proxy;else if(process.env.http_proxy)J="http_proxy",Y=process.env.http_proxy;else return{};let X;try{X=new Or4.URL(Y)}catch(Q){return(0,VD.log)(UK.LogVerbosity.ERROR,`cannot parse value of "${J}" env var`),{}}if(X.protocol!=="http:")return(0,VD.log)(UK.LogVerbosity.ERROR,`"${X.protocol}" scheme not supported in proxy URI`),{};let Z=null;if(X.username)if(X.password)(0,VD.log)(UK.LogVerbosity.INFO,"userinfo found in proxy URI"),Z=decodeURIComponent(`${X.username}:${X.password}`);else Z=X.username;let{hostname:W,port:$}=X;if($==="")$="80";let G={address:`${W}:${$}`};if(Z)G.creds=Z;return zK("Proxy server "+G.address+" set by environment variable "+J),G}function Fr4(){let Y=process.env.no_grpc_proxy,J="no_grpc_proxy";if(!Y)Y=process.env.no_proxy,J="no_proxy";if(Y)return zK("No proxy server list set by environment variable "+J),Y.split(",");else return[]}function u50(Y){let J=Y.split("/");if(J.length!==2)return null;let X=parseInt(J[1],10);if(!(0,g50.isIPv4)(J[0])||Number.isNaN(X)||X<0||X>32)return null;return{ip:m50(J[0]),prefixLength:X}}function m50(Y){return Y.split(".").reduce((J,X)=>(J<<8)+parseInt(X,10),0)}function Vr4(Y,J){let X=Y.ip,Z=-1<<32-Y.prefixLength;return(m50(J)&Z)===(X&Z)}function Ir4(Y){for(let J of Fr4()){let X=u50(J);if((0,g50.isIPv4)(Y)&&X&&Vr4(X,Y))return!0;else if(Y.endsWith(J))return!0}return!1}function Dr4(Y,J){var X;let Z={target:Y,extraOptions:{}};if(((X=J["grpc.enable_http_proxy"])!==null&&X!==void 0?X:1)===0)return Z;if(Y.scheme==="unix")return Z;let W=qr4();if(!W.address)return Z;let $=(0,ID.splitHostPort)(Y.path);if(!$)return Z;let G=$.host;if(Ir4(G))return zK("Not using proxy for target in no_proxy list: "+(0,ID.uriToString)(Y)),Z;let Q={"grpc.http_connect_target":(0,ID.uriToString)(Y)};if(W.creds)Q["grpc.http_connect_creds"]=W.creds;return{target:{scheme:"dns",path:W.address},extraOptions:Q}}function wr4(Y,J){var X;if(!("grpc.http_connect_target"in J))return Promise.resolve(null);let Z=J["grpc.http_connect_target"],W=(0,ID.parseUri)(Z);if(W===null)return Promise.resolve(null);let $=(0,ID.splitHostPort)(W.path);if($===null)return Promise.resolve(null);let G=`${$.host}:${(X=$.port)!==null&&X!==void 0?X:Kr4.DEFAULT_PORT}`,Q={method:"CONNECT",path:G},U={Host:G};if((0,y50.isTcpSubchannelAddress)(Y))Q.host=Y.host,Q.port=Y.port;else Q.socketPath=Y.path;if("grpc.http_connect_creds"in J)U["Proxy-Authorization"]="Basic "+Buffer.from(J["grpc.http_connect_creds"]).toString("base64");Q.headers=U;let z=(0,y50.subchannelAddressToString)(Y);return zK("Using proxy "+z+" to connect to "+Q.path),new Promise((H,O)=>{let K=zr4.request(Q);K.once("connect",(B,F,V)=>{if(K.removeAllListeners(),F.removeAllListeners(),B.statusCode===200){if(zK("Successfully connected to "+Q.path+" through proxy "+z),V.length>0)F.unshift(V);zK("Successfully established a plaintext connection to "+Q.path+" through proxy "+z),H(F)}else(0,VD.log)(UK.LogVerbosity.ERROR,"Failed to connect to "+Q.path+" through proxy "+z+" with status "+B.statusCode),O()}),K.once("error",(B)=>{K.removeAllListeners(),(0,VD.log)(UK.LogVerbosity.ERROR,"Failed to connect to proxy "+z+" with error "+B.message),O()}),K.end()})}});var Cs=q((l50)=>{Object.defineProperty(l50,"__esModule",{value:!0});l50.StreamDecoder=void 0;var iX;(function(Y){Y[Y.NO_DATA=0]="NO_DATA",Y[Y.READING_SIZE=1]="READING_SIZE",Y[Y.READING_MESSAGE=2]="READING_MESSAGE"})(iX||(iX={}));class c50{constructor(Y){this.maxReadMessageLength=Y,this.readState=iX.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(Y){let J=0,X,Z=[];while(J<Y.length)switch(this.readState){case iX.NO_DATA:this.readCompressFlag=Y.slice(J,J+1),J+=1,this.readState=iX.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case iX.READING_SIZE:if(X=Math.min(Y.length-J,this.readSizeRemaining),Y.copy(this.readPartialSize,4-this.readSizeRemaining,J,J+X),this.readSizeRemaining-=X,J+=X,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=iX.READING_MESSAGE;else{let W=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=iX.NO_DATA,Z.push(W)}}break;case iX.READING_MESSAGE:if(X=Math.min(Y.length-J,this.readMessageRemaining),this.readPartialMessage.push(Y.slice(J,J+X)),this.readMessageRemaining-=X,J+=X,this.readMessageRemaining===0){let W=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),$=Buffer.concat(W,this.readMessageSize+5);this.readState=iX.NO_DATA,Z.push($)}break;default:throw Error("Unexpected read state")}return Z}}l50.StreamDecoder=c50});var r50=q((i50)=>{Object.defineProperty(i50,"__esModule",{value:!0});i50.Http2SubchannelCall=void 0;var DZ=C("http2"),Mr4=C("os"),f4=v0(),wZ=i8(),Er4=Cs(),Tr4=u4(),Rr4=v0(),Nr4="subchannel_call";function Sr4(Y){for(let[J,X]of Object.entries(Mr4.constants.errno))if(X===Y)return J;return"Unknown system error "+Y}function js(Y){let J=`Received HTTP status code ${Y}`,X;switch(Y){case 400:X=f4.Status.INTERNAL;break;case 401:X=f4.Status.UNAUTHENTICATED;break;case 403:X=f4.Status.PERMISSION_DENIED;break;case 404:X=f4.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:X=f4.Status.UNAVAILABLE;break;default:X=f4.Status.UNKNOWN}return{code:X,details:J,metadata:new wZ.Metadata}}class n50{constructor(Y,J,X,Z,W){var $;this.http2Stream=Y,this.callEventTracker=J,this.listener=X,this.transport=Z,this.callId=W,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1,this.connectionDropped=!1;let G=($=Z.getOptions()["grpc.max_receive_message_length"])!==null&&$!==void 0?$:f4.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new Er4.StreamDecoder(G),Y.on("response",(Q,U)=>{let z="";for(let H of Object.keys(Q))z+="\t\t"+H+": "+Q[H]+`
`;if(this.trace(`Received server headers:
`+z),this.httpStatusCode=Q[":status"],U&DZ.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(Q);else{let H;try{H=wZ.Metadata.fromHttp2Headers(Q)}catch(O){this.endCall({code:f4.Status.UNKNOWN,details:O.message,metadata:new wZ.Metadata});return}this.listener.onReceiveMetadata(H)}}),Y.on("trailers",(Q)=>{this.handleTrailers(Q)}),Y.on("data",(Q)=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+Q.length);let U;try{U=this.decoder.write(Q)}catch(z){if(this.httpStatusCode!==void 0&&this.httpStatusCode!==200){let H=js(this.httpStatusCode);this.cancelWithStatus(H.code,H.details)}else this.cancelWithStatus(f4.Status.RESOURCE_EXHAUSTED,z.message);return}for(let z of U)this.trace("parsed message of length "+z.length),this.callEventTracker.addMessageReceived(),this.tryPush(z)}),Y.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),Y.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var Q;if(this.trace("HTTP/2 stream closed with code "+Y.rstCode),((Q=this.finalStatus)===null||Q===void 0?void 0:Q.code)===f4.Status.OK)return;let U,z="";switch(Y.rstCode){case DZ.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;if(this.httpStatusCode&&this.httpStatusCode!==200){let H=js(this.httpStatusCode);U=H.code,z=H.details}else U=f4.Status.INTERNAL,z=`Received RST_STREAM with code ${Y.rstCode} (Call ended without gRPC status)`;break;case DZ.constants.NGHTTP2_REFUSED_STREAM:U=f4.Status.UNAVAILABLE,z="Stream refused by server";break;case DZ.constants.NGHTTP2_CANCEL:if(this.connectionDropped)U=f4.Status.UNAVAILABLE,z="Connection dropped";else U=f4.Status.CANCELLED,z="Call cancelled";break;case DZ.constants.NGHTTP2_ENHANCE_YOUR_CALM:U=f4.Status.RESOURCE_EXHAUSTED,z="Bandwidth exhausted or memory limit exceeded";break;case DZ.constants.NGHTTP2_INADEQUATE_SECURITY:U=f4.Status.PERMISSION_DENIED,z="Protocol not secure enough";break;case DZ.constants.NGHTTP2_INTERNAL_ERROR:if(U=f4.Status.INTERNAL,this.internalError===null)z=`Received RST_STREAM with code ${Y.rstCode} (Internal server error)`;else if(this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT")U=f4.Status.UNAVAILABLE,z=this.internalError.message;else z=`Received RST_STREAM with code ${Y.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:U=f4.Status.INTERNAL,z=`Received RST_STREAM with code ${Y.rstCode}`}this.endCall({code:U,details:z,metadata:new wZ.Metadata,rstCode:Y.rstCode})})}),Y.on("error",(Q)=>{if(Q.code!=="ERR_HTTP2_STREAM_ERROR")this.trace("Node error event: message="+Q.message+" code="+Q.code+" errno="+Sr4(Q.errno)+" syscall="+Q.syscall),this.internalError=Q;this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.connectionDropped=!0,setImmediate(()=>{this.endCall({code:f4.Status.UNAVAILABLE,details:"Connection dropped",metadata:new wZ.Metadata})})}outputStatus(){if(!this.statusOutput)this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume()}trace(Y){Tr4.trace(Rr4.LogVerbosity.DEBUG,Nr4,"["+this.callId+"] "+Y)}endCall(Y){if(this.finalStatus===null||this.finalStatus.code===f4.Status.OK)this.finalStatus=Y,this.maybeOutputStatus();this.destroyHttp2Stream()}maybeOutputStatus(){if(this.finalStatus!==null){if(this.finalStatus.code!==f4.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)this.outputStatus()}}push(Y){this.trace("pushing to reader message of length "+(Y instanceof Buffer?Y.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{if(this.isPushPending=!1,this.statusOutput)return;this.listener.onReceiveMessage(Y),this.maybeOutputStatus()})}tryPush(Y){if(this.canPush)this.http2Stream.pause(),this.push(Y);else this.trace("unpushedReadMessages.push message of length "+Y.length),this.unpushedReadMessages.push(Y)}handleTrailers(Y){this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let J="";for(let $ of Object.keys(Y))J+="\t\t"+$+": "+Y[$]+`
`;this.trace(`Received server trailers:
`+J);let X;try{X=wZ.Metadata.fromHttp2Headers(Y)}catch($){X=new wZ.Metadata}let Z=X.getMap(),W;if(typeof Z["grpc-status"]==="string"){let $=Number(Z["grpc-status"]);this.trace("received status code "+$+" from server"),X.remove("grpc-status");let G="";if(typeof Z["grpc-message"]==="string"){try{G=decodeURI(Z["grpc-message"])}catch(Q){G=Z["grpc-message"]}X.remove("grpc-message"),this.trace('received status details string "'+G+'" from server')}W={code:$,details:G,metadata:X}}else if(this.httpStatusCode)W=js(this.httpStatusCode),W.metadata=X;else W={code:f4.Status.UNKNOWN,details:"No status information received",metadata:X};this.endCall(W)}destroyHttp2Stream(){var Y;if(this.http2Stream.destroyed)return;if(this.serverEndedCall)this.http2Stream.end();else{let J;if(((Y=this.finalStatus)===null||Y===void 0?void 0:Y.code)===f4.Status.OK)J=DZ.constants.NGHTTP2_NO_ERROR;else J=DZ.constants.NGHTTP2_CANCEL;this.trace("close http2 stream with code "+J),this.http2Stream.close(J)}}cancelWithStatus(Y,J){this.trace("cancelWithStatus code: "+Y+' details: "'+J+'"'),this.endCall({code:Y,details:J,metadata:new wZ.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}getAuthContext(){return this.transport.getAuthContext()}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==f4.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let Y=this.unpushedReadMessages.shift();this.push(Y);return}this.http2Stream.resume()}sendMessageWithContext(Y,J){this.trace("write() called with message of length "+J.length);let X=(Z)=>{process.nextTick(()=>{var W;let $=f4.Status.UNAVAILABLE;if((Z===null||Z===void 0?void 0:Z.code)==="ERR_STREAM_WRITE_AFTER_END")$=f4.Status.INTERNAL;if(Z)this.cancelWithStatus($,`Write error: ${Z.message}`);(W=Y.callback)===null||W===void 0||W.call(Y)})};this.trace("sending data chunk of length "+J.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(J,X)}catch(Z){this.endCall({code:f4.Status.UNAVAILABLE,details:`Write failed with error ${Z.message}`,metadata:new wZ.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}i50.Http2SubchannelCall=n50});var Y90=q((t50)=>{Object.defineProperty(t50,"__esModule",{value:!0});t50.Http2SubchannelConnector=void 0;var $U=C("http2"),Cr4=C("tls"),ZS=q$(),DD=v0(),jr4=Ss(),HK=u4(),kr4=ZJ(),WS=u9(),ks=O9(),_r4=C("net"),xr4=r50(),fr4=sN(),_s="transport",vr4="transport_flowctrl",hr4=fr().version,{HTTP2_HEADER_AUTHORITY:br4,HTTP2_HEADER_CONTENT_TYPE:yr4,HTTP2_HEADER_METHOD:gr4,HTTP2_HEADER_PATH:ur4,HTTP2_HEADER_TE:mr4,HTTP2_HEADER_USER_AGENT:dr4}=$U.constants,cr4=20000,lr4=Buffer.from("too_many_pings","ascii");class a50{constructor(Y,J,X,Z){if(this.session=Y,this.options=X,this.remoteName=Z,this.keepaliveTimer=null,this.pendingSendKeepalivePing=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,WS.subchannelAddressToString)(J),X["grpc.enable_channelz"]===0)this.channelzEnabled=!1,this.streamTracker=new ZS.ChannelzCallTrackerStub;else this.streamTracker=new ZS.ChannelzCallTracker;if(this.channelzRef=(0,ZS.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[X["grpc.primary_user_agent"],`grpc-node-js/${hr4}`,X["grpc.secondary_user_agent"]].filter((W)=>W).join(" "),"grpc.keepalive_time_ms"in X)this.keepaliveTimeMs=X["grpc.keepalive_time_ms"];else this.keepaliveTimeMs=-1;if("grpc.keepalive_timeout_ms"in X)this.keepaliveTimeoutMs=X["grpc.keepalive_timeout_ms"];else this.keepaliveTimeoutMs=cr4;if("grpc.keepalive_permit_without_calls"in X)this.keepaliveWithoutCalls=X["grpc.keepalive_permit_without_calls"]===1;else this.keepaliveWithoutCalls=!1;if(Y.once("close",()=>{this.trace("session closed"),this.handleDisconnect()}),Y.once("goaway",(W,$,G)=>{let Q=!1;if(W===$U.constants.NGHTTP2_ENHANCE_YOUR_CALM&&G&&G.equals(lr4))Q=!0;this.trace("connection closed by GOAWAY with code "+W+" and data "+(G===null||G===void 0?void 0:G.toString())),this.reportDisconnectToOwner(Q)}),Y.once("error",(W)=>{this.trace("connection closed with error "+W.message),this.handleDisconnect()}),Y.socket.once("close",(W)=>{this.trace("connection closed. hadError="+W),this.handleDisconnect()}),HK.isTracerEnabled(_s))Y.on("remoteSettings",(W)=>{this.trace("new settings received"+(this.session!==Y?" on the old connection":"")+": "+JSON.stringify(W))}),Y.on("localSettings",(W)=>{this.trace("local settings acknowledged by remote"+(this.session!==Y?" on the old connection":"")+": "+JSON.stringify(W))});if(this.keepaliveWithoutCalls)this.maybeStartKeepalivePingTimer();if(Y.socket instanceof Cr4.TLSSocket)this.authContext={transportSecurityType:"ssl",sslPeerCertificate:Y.socket.getPeerCertificate()};else this.authContext={}}getChannelzInfo(){var Y,J,X;let Z=this.session.socket,W=Z.remoteAddress?(0,WS.stringToSubchannelAddress)(Z.remoteAddress,Z.remotePort):null,$=Z.localAddress?(0,WS.stringToSubchannelAddress)(Z.localAddress,Z.localPort):null,G;if(this.session.encrypted){let U=Z,z=U.getCipher(),H=U.getCertificate(),O=U.getPeerCertificate();G={cipherSuiteStandardName:(Y=z.standardName)!==null&&Y!==void 0?Y:null,cipherSuiteOtherName:z.standardName?null:z.name,localCertificate:H&&"raw"in H?H.raw:null,remoteCertificate:O&&"raw"in O?O.raw:null}}else G=null;return{remoteAddress:W,localAddress:$,security:G,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(J=this.session.state.localWindowSize)!==null&&J!==void 0?J:null,remoteFlowControlWindow:(X=this.session.state.remoteWindowSize)!==null&&X!==void 0?X:null}}trace(Y){HK.trace(DD.LogVerbosity.DEBUG,_s,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Y)}keepaliveTrace(Y){HK.trace(DD.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Y)}flowControlTrace(Y){HK.trace(DD.LogVerbosity.DEBUG,vr4,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Y)}internalsTrace(Y){HK.trace(DD.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+Y)}reportDisconnectToOwner(Y){if(this.disconnectHandled)return;this.disconnectHandled=!0,this.disconnectListeners.forEach((J)=>J(Y))}handleDisconnect(){this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(!1);for(let Y of this.activeCalls)Y.onDisconnect();setImmediate(()=>{this.session.destroy()})}addDisconnectListener(Y){this.disconnectListeners.push(Y)}canSendPing(){return!this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var Y,J;if(!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}if(this.keepaliveTimer){console.error("keepaliveTimeout is not null");return}if(this.channelzEnabled)this.keepalivesSent+=1;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(J=(Y=this.keepaliveTimer).unref)===null||J===void 0||J.call(Y);let X="";try{if(!this.session.ping((W,$,G)=>{if(this.clearKeepaliveTimeout(),W)this.keepaliveTrace("Ping failed with error "+W.message),this.handleDisconnect();else this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer()}))X="Ping returned false"}catch(Z){X=(Z instanceof Error?Z.message:"")||"Unknown error"}if(X)this.keepaliveTrace("Ping send failed: "+X),this.handleDisconnect()}maybeStartKeepalivePingTimer(){var Y,J;if(!this.canSendPing())return;if(this.pendingSendKeepalivePing)this.pendingSendKeepalivePing=!1,this.maybeSendPing();else if(!this.keepaliveTimer)this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.maybeSendPing()},this.keepaliveTimeMs),(J=(Y=this.keepaliveTimer).unref)===null||J===void 0||J.call(Y)}clearKeepaliveTimeout(){if(this.keepaliveTimer)clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null}removeActiveCall(Y){if(this.activeCalls.delete(Y),this.activeCalls.size===0)this.session.unref()}addActiveCall(Y){if(this.activeCalls.add(Y),this.activeCalls.size===1){if(this.session.ref(),!this.keepaliveWithoutCalls)this.maybeStartKeepalivePingTimer()}}createCall(Y,J,X,Z,W){let $=Y.toHttp2Headers();$[br4]=J,$[dr4]=this.userAgent,$[yr4]="application/grpc",$[gr4]="POST",$[ur4]=X,$[mr4]="trailers";let G;try{G=this.session.request($)}catch(z){throw this.handleDisconnect(),z}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let Q,U;if(this.channelzEnabled)this.streamTracker.addCallStarted(),Q={addMessageSent:()=>{var z;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(z=W.addMessageSent)===null||z===void 0||z.call(W)},addMessageReceived:()=>{var z;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(z=W.addMessageReceived)===null||z===void 0||z.call(W)},onCallEnd:(z)=>{var H;(H=W.onCallEnd)===null||H===void 0||H.call(W,z),this.removeActiveCall(U)},onStreamEnd:(z)=>{var H;if(z)this.streamTracker.addCallSucceeded();else this.streamTracker.addCallFailed();(H=W.onStreamEnd)===null||H===void 0||H.call(W,z)}};else Q={addMessageSent:()=>{var z;(z=W.addMessageSent)===null||z===void 0||z.call(W)},addMessageReceived:()=>{var z;(z=W.addMessageReceived)===null||z===void 0||z.call(W)},onCallEnd:(z)=>{var H;(H=W.onCallEnd)===null||H===void 0||H.call(W,z),this.removeActiveCall(U)},onStreamEnd:(z)=>{var H;(H=W.onStreamEnd)===null||H===void 0||H.call(W,z)}};return U=new xr4.Http2SubchannelCall(G,Q,Z,this,(0,fr4.getNextCallNumber)()),this.addActiveCall(U),U}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}getAuthContext(){return this.authContext}shutdown(){this.session.close(),(0,ZS.unregisterChannelzRef)(this.channelzRef)}}class s50{constructor(Y){this.channelTarget=Y,this.session=null,this.isShutdown=!1}trace(Y){HK.trace(DD.LogVerbosity.DEBUG,_s,(0,ks.uriToString)(this.channelTarget)+" "+Y)}createSession(Y,J,X){if(this.isShutdown)return Promise.reject();if(Y.socket.closed)return Promise.reject("Connection closed before starting HTTP/2 handshake");return new Promise((Z,W)=>{var $,G,Q,U,z,H,O,K;let B=null,F=this.channelTarget;if("grpc.http_connect_target"in X){let M=(0,ks.parseUri)(X["grpc.http_connect_target"]);if(M)F=M,B=(0,ks.uriToString)(M)}let V=Y.secure?"https":"http",I=(0,kr4.getDefaultAuthority)(F),D=()=>{var M;(M=this.session)===null||M===void 0||M.destroy(),this.session=null,setImmediate(()=>{if(!j)j=!0,W(`${v.trim()} (${new Date().toISOString()})`)})},L=(M)=>{var b;if((b=this.session)===null||b===void 0||b.destroy(),v=M.message,this.trace("connection failed with error "+v),!j)j=!0,W(`${v} (${new Date().toISOString()})`)},A={createConnection:(M,b)=>{return Y.socket},settings:{initialWindowSize:(U=($=X["grpc-node.flow_control_window"])!==null&&$!==void 0?$:(Q=(G=$U.getDefaultSettings)===null||G===void 0?void 0:G.call($U))===null||Q===void 0?void 0:Q.initialWindowSize)!==null&&U!==void 0?U:65535},maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER,maxSessionMemory:(z=X["grpc-node.max_session_memory"])!==null&&z!==void 0?z:Number.MAX_SAFE_INTEGER},P=$U.connect(`${V}://${I}`,A),R=(K=(O=(H=$U.getDefaultSettings)===null||H===void 0?void 0:H.call($U))===null||O===void 0?void 0:O.initialWindowSize)!==null&&K!==void 0?K:65535,N=X["grpc-node.flow_control_window"];this.session=P;let v="Failed to connect",j=!1;P.unref(),P.once("remoteSettings",()=>{var M;if(N&&N>R)try{P.setLocalWindowSize(N)}catch(b){let k=N-((M=P.state.localWindowSize)!==null&&M!==void 0?M:R);if(k>0)P.incrementWindowSize(k)}P.removeAllListeners(),Y.socket.removeListener("close",D),Y.socket.removeListener("error",L),Z(new a50(P,J,X,B)),this.session=null}),P.once("close",D),P.once("error",L),Y.socket.once("close",D),Y.socket.once("error",L)})}tcpConnect(Y,J){return(0,jr4.getProxiedConnection)(Y,J).then((X)=>{if(X)return X;else return new Promise((Z,W)=>{let $=()=>{W(Error("Socket closed"))},G=(U)=>{W(U)},Q=_r4.connect(Y,()=>{Q.removeListener("close",$),Q.removeListener("error",G),Z(Q)});Q.once("close",$),Q.once("error",G)})})}async connect(Y,J,X){if(this.isShutdown)return Promise.reject();let Z=null,W=null,$=(0,WS.subchannelAddressToString)(Y);try{return this.trace($+" Waiting for secureConnector to be ready"),await J.waitForReady(),this.trace($+" secureConnector is ready"),Z=await this.tcpConnect(Y,X),Z.setNoDelay(),this.trace($+" Established TCP connection"),W=await J.connect(Z),this.trace($+" Established secure connection"),this.createSession(W,Y,X)}catch(G){throw Z===null||Z===void 0||Z.destroy(),W===null||W===void 0||W.socket.destroy(),G}}shutdown(){var Y;this.isShutdown=!0,(Y=this.session)===null||Y===void 0||Y.close(),this.session=null}}t50.Http2SubchannelConnector=s50});var Z90=q((J90)=>{Object.defineProperty(J90,"__esModule",{value:!0});J90.SubchannelPool=void 0;J90.getSubchannelPool=tr4;var pr4=j00(),nr4=C50(),ir4=u9(),or4=O9(),rr4=Y90(),ar4=1e4;class $S{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let Y=!0;for(let J in this.pool){let Z=this.pool[J].filter((W)=>!W.subchannel.unrefIfOneRef());if(Z.length>0)Y=!1;this.pool[J]=Z}if(Y&&this.cleanupTimer!==null)clearInterval(this.cleanupTimer),this.cleanupTimer=null}ensureCleanupTask(){var Y,J;if(this.cleanupTimer===null)this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},ar4),(J=(Y=this.cleanupTimer).unref)===null||J===void 0||J.call(Y)}getOrCreateSubchannel(Y,J,X,Z){this.ensureCleanupTask();let W=(0,or4.uriToString)(Y);if(W in this.pool){let G=this.pool[W];for(let Q of G)if((0,ir4.subchannelAddressEqual)(J,Q.subchannelAddress)&&(0,pr4.channelOptionsEqual)(X,Q.channelArguments)&&Z._equals(Q.channelCredentials))return Q.subchannel}let $=new nr4.Subchannel(Y,J,X,Z,new rr4.Http2SubchannelConnector(Y));if(!(W in this.pool))this.pool[W]=[];return this.pool[W].push({subchannelAddress:J,channelArguments:X,channelCredentials:Z,subchannel:$}),$.ref(),$}}J90.SubchannelPool=$S;var sr4=new $S;function tr4(Y){if(Y)return sr4;else return new $S}});var z90=q((Q90)=>{Object.defineProperty(Q90,"__esModule",{value:!0});Q90.LoadBalancingCall=void 0;var W90=K9(),GS=v0(),$90=GK(),QS=i8(),wD=HZ(),Ya4=O9(),Ja4=u4(),xs=BD(),Xa4=C("http2"),Za4="load_balancing_call";class G90{constructor(Y,J,X,Z,W,$,G){var Q,U;this.channel=Y,this.callConfig=J,this.methodName=X,this.host=Z,this.credentials=W,this.deadline=$,this.callNumber=G,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;let z=this.methodName.split("/"),H="";if(z.length>=2)H=z[1];let O=(U=(Q=(0,Ya4.splitHostPort)(this.host))===null||Q===void 0?void 0:Q.host)!==null&&U!==void 0?U:"localhost";this.serviceUrl=`https://${O}/${H}`,this.startTime=new Date}getDeadlineInfo(){var Y,J;let X=[];if(this.childStartTime){if(this.childStartTime>this.startTime){if((Y=this.metadata)===null||Y===void 0?void 0:Y.getOptions().waitForReady)X.push("wait_for_ready");X.push(`LB pick: ${(0,$90.formatDateDifference)(this.startTime,this.childStartTime)}`)}return X.push(...this.child.getDeadlineInfo()),X}else{if((J=this.metadata)===null||J===void 0?void 0:J.getOptions().waitForReady)X.push("wait_for_ready");X.push("Waiting for LB pick")}return X}trace(Y){Ja4.trace(GS.LogVerbosity.DEBUG,Za4,"["+this.callNumber+"] "+Y)}outputStatus(Y,J){var X,Z;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+Y.code+' details="'+Y.details+'" start time='+this.startTime.toISOString());let W=Object.assign(Object.assign({},Y),{progress:J});(X=this.listener)===null||X===void 0||X.onReceiveStatus(W),(Z=this.onCallEnded)===null||Z===void 0||Z.call(this,W.code,W.details,W.metadata)}}doPick(){var Y,J;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let X=this.metadata.clone(),Z=this.channel.doPick(X,this.callConfig.pickInformation),W=Z.subchannel?"("+Z.subchannel.getChannelzRef().id+") "+Z.subchannel.getAddress():""+Z.subchannel;switch(this.trace("Pick result: "+wD.PickResultType[Z.pickResultType]+" subchannel: "+W+" status: "+((Y=Z.status)===null||Y===void 0?void 0:Y.code)+" "+((J=Z.status)===null||J===void 0?void 0:J.details)),Z.pickResultType){case wD.PickResultType.COMPLETE:this.credentials.compose(Z.subchannel.getCallCredentials()).generateMetadata({method_name:this.methodName,service_url:this.serviceUrl}).then((U)=>{var z;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}if(X.merge(U),X.get("authorization").length>1)this.outputStatus({code:GS.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new QS.Metadata},"PROCESSED");if(Z.subchannel.getConnectivityState()!==W90.ConnectivityState.READY){this.trace("Picked subchannel "+W+" has state "+W90.ConnectivityState[Z.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}if(this.deadline!==1/0)X.set("grpc-timeout",(0,$90.getDeadlineTimeoutString)(this.deadline));try{this.child=Z.subchannel.getRealSubchannel().createCall(X,this.host,this.methodName,{onReceiveMetadata:(H)=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(H)},onReceiveMessage:(H)=>{this.trace("Received message"),this.listener.onReceiveMessage(H)},onReceiveStatus:(H)=>{if(this.trace("Received status"),H.rstCode===Xa4.constants.NGHTTP2_REFUSED_STREAM)this.outputStatus(H,"REFUSED");else this.outputStatus(H,"PROCESSED")}}),this.childStartTime=new Date}catch(H){this.trace("Failed to start call on picked subchannel "+W+" with error "+H.message),this.outputStatus({code:GS.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+H.message,metadata:new QS.Metadata},"NOT_STARTED");return}if((z=Z.onCallStarted)===null||z===void 0||z.call(Z),this.onCallEnded=Z.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending)this.child.startRead();if(this.pendingMessage)this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message);if(this.pendingHalfClose)this.child.halfClose()},(U)=>{let{code:z,details:H}=(0,xs.restrictControlPlaneStatusCode)(typeof U.code==="number"?U.code:GS.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${U.message}`);this.outputStatus({code:z,details:H,metadata:new QS.Metadata},"PROCESSED")});break;case wD.PickResultType.DROP:let{code:G,details:Q}=(0,xs.restrictControlPlaneStatusCode)(Z.status.code,Z.status.details);setImmediate(()=>{this.outputStatus({code:G,details:Q,metadata:Z.status.metadata},"DROP")});break;case wD.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:U,details:z}=(0,xs.restrictControlPlaneStatusCode)(Z.status.code,Z.status.details);setImmediate(()=>{this.outputStatus({code:U,details:z,metadata:Z.status.metadata},"PROCESSED")})}break;case wD.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(Y,J){var X;this.trace("cancelWithStatus code: "+Y+' details: "'+J+'"'),(X=this.child)===null||X===void 0||X.cancelWithStatus(Y,J),this.outputStatus({code:Y,details:J,metadata:new QS.Metadata},"PROCESSED")}getPeer(){var Y,J;return(J=(Y=this.child)===null||Y===void 0?void 0:Y.getPeer())!==null&&J!==void 0?J:this.channel.getTarget()}start(Y,J){this.trace("start called"),this.listener=J,this.metadata=Y,this.doPick()}sendMessageWithContext(Y,J){if(this.trace("write() called with message of length "+J.length),this.child)this.child.sendMessageWithContext(Y,J);else this.pendingMessage={context:Y,message:J}}startRead(){if(this.trace("startRead called"),this.child)this.child.startRead();else this.readPending=!0}halfClose(){if(this.trace("halfClose called"),this.child)this.child.halfClose();else this.pendingHalfClose=!0}setCredentials(Y){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}getAuthContext(){if(this.child)return this.child.getAuthContext();else return null}}Q90.LoadBalancingCall=G90});var q90=q((K90)=>{Object.defineProperty(K90,"__esModule",{value:!0});K90.ResolvingCall=void 0;var Wa4=GN(),GU=v0(),QU=GK(),H90=i8(),$a4=u4(),Ga4=BD(),Qa4="resolving_call";class O90{constructor(Y,J,X,Z,W){if(this.channel=Y,this.method=J,this.filterStackFactory=Z,this.callNumber=W,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.credentials=Wa4.CallCredentials.createEmpty(),this.deadline=X.deadline,this.host=X.host,X.parentCall){if(X.flags&GU.Propagate.CANCELLATION)X.parentCall.on("cancelled",()=>{this.cancelWithStatus(GU.Status.CANCELLED,"Cancelled by parent call")});if(X.flags&GU.Propagate.DEADLINE)this.trace("Propagating deadline from parent: "+X.parentCall.getDeadline()),this.deadline=(0,QU.minDeadline)(this.deadline,X.parentCall.getDeadline())}this.trace("Created"),this.runDeadlineTimer()}trace(Y){$a4.trace(GU.LogVerbosity.DEBUG,Qa4,"["+this.callNumber+"] "+Y)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,QU.deadlineToString)(this.deadline));let Y=(0,QU.getRelativeTimeout)(this.deadline);if(Y!==1/0){this.trace("Deadline will be reached in "+Y+"ms");let J=()=>{if(!this.deadlineStartTime){this.cancelWithStatus(GU.Status.DEADLINE_EXCEEDED,"Deadline exceeded");return}let X=[],Z=new Date;if(X.push(`Deadline exceeded after ${(0,QU.formatDateDifference)(this.deadlineStartTime,Z)}`),this.configReceivedTime){if(this.configReceivedTime>this.deadlineStartTime)X.push(`name resolution: ${(0,QU.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`);if(this.childStartTime){if(this.childStartTime>this.configReceivedTime)X.push(`metadata filters: ${(0,QU.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`)}else X.push("waiting for metadata filters")}else X.push("waiting for name resolution");if(this.child)X.push(...this.child.getDeadlineInfo());this.cancelWithStatus(GU.Status.DEADLINE_EXCEEDED,X.join(","))};if(Y<=0)process.nextTick(J);else this.deadlineTimer=setTimeout(J,Y)}}outputStatus(Y){if(!this.ended){if(this.ended=!0,!this.filterStack)this.filterStack=this.filterStackFactory.createFilter();clearTimeout(this.deadlineTimer);let J=this.filterStack.receiveTrailers(Y);this.trace("ended with status: code="+J.code+' details="'+J.details+'"'),this.statusWatchers.forEach((X)=>X(J)),process.nextTick(()=>{var X;(X=this.listener)===null||X===void 0||X.onReceiveStatus(J)})}}sendMessageOnChild(Y,J){if(!this.child)throw Error("sendMessageonChild called with child not populated");let X=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:J,flags:Y.flags})).then((Z)=>{if(this.writeFilterPending=!1,X.sendMessageWithContext(Y,Z.message),this.pendingHalfClose)X.halfClose()},(Z)=>{this.cancelWithStatus(Z.code,Z.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let Y=this.channel.getConfig(this.method,this.metadata);if(Y.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(Y.type==="ERROR"){if(this.metadata.getOptions().waitForReady)this.channel.queueCallForConfig(this);else this.outputStatus(Y.error);return}this.configReceivedTime=new Date;let J=Y.config;if(J.status!==GU.Status.OK){let{code:X,details:Z}=(0,Ga4.restrictControlPlaneStatusCode)(J.status,"Failed to route call to method "+this.method);this.outputStatus({code:X,details:Z,metadata:new H90.Metadata});return}if(J.methodConfig.timeout){let X=new Date;X.setSeconds(X.getSeconds()+J.methodConfig.timeout.seconds),X.setMilliseconds(X.getMilliseconds()+J.methodConfig.timeout.nanos/1e6),this.deadline=(0,QU.minDeadline)(this.deadline,X),this.runDeadlineTimer()}this.filterStackFactory.push(J.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then((X)=>{if(this.child=this.channel.createRetryingCall(J,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(X,{onReceiveMetadata:(Z)=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(Z))},onReceiveMessage:(Z)=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(Z).then((W)=>{if(this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(W),this.pendingChildStatus)this.outputStatus(this.pendingChildStatus)},(W)=>{this.cancelWithStatus(W.code,W.details)})},onReceiveStatus:(Z)=>{if(this.trace("Received status"),this.readFilterPending)this.pendingChildStatus=Z;else this.outputStatus(Z)}}),this.readPending)this.child.startRead();if(this.pendingMessage)this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message);else if(this.pendingHalfClose)this.child.halfClose()},(X)=>{this.outputStatus(X)})}reportResolverError(Y){var J;if((J=this.metadata)===null||J===void 0?void 0:J.getOptions().waitForReady)this.channel.queueCallForConfig(this);else this.outputStatus(Y)}cancelWithStatus(Y,J){var X;this.trace("cancelWithStatus code: "+Y+' details: "'+J+'"'),(X=this.child)===null||X===void 0||X.cancelWithStatus(Y,J),this.outputStatus({code:Y,details:J,metadata:new H90.Metadata})}getPeer(){var Y,J;return(J=(Y=this.child)===null||Y===void 0?void 0:Y.getPeer())!==null&&J!==void 0?J:this.channel.getTarget()}start(Y,J){this.trace("start called"),this.metadata=Y.clone(),this.listener=J,this.getConfig()}sendMessageWithContext(Y,J){if(this.trace("write() called with message of length "+J.length),this.child)this.sendMessageOnChild(Y,J);else this.pendingMessage={context:Y,message:J}}startRead(){if(this.trace("startRead called"),this.child)this.child.startRead();else this.readPending=!0}halfClose(){if(this.trace("halfClose called"),this.child&&!this.writeFilterPending)this.child.halfClose();else this.pendingHalfClose=!0}setCredentials(Y){this.credentials=Y}addStatusWatcher(Y){this.statusWatchers.push(Y)}getCallNumber(){return this.callNumber}getAuthContext(){if(this.child)return this.child.getAuthContext();else return null}}K90.ResolvingCall=O90});var A90=q((D90)=>{Object.defineProperty(D90,"__esModule",{value:!0});D90.RetryingCall=D90.MessageBufferTracker=D90.RetryThrottler=void 0;var US=v0(),Ua4=GK(),za4=i8(),Ha4=u4(),Oa4="retrying_call";class F90{constructor(Y,J,X){if(this.maxTokens=Y,this.tokenRatio=J,X)this.tokens=X.tokens*(Y/X.maxTokens);else this.tokens=Y}addCallSucceeded(){this.tokens=Math.min(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.max(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}D90.RetryThrottler=F90;class V90{constructor(Y,J){this.totalLimit=Y,this.limitPerCall=J,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(Y,J){var X;let Z=(X=this.allocatedPerCall.get(J))!==null&&X!==void 0?X:0;if(this.limitPerCall-Z<Y||this.totalLimit-this.totalAllocated<Y)return!1;return this.allocatedPerCall.set(J,Z+Y),this.totalAllocated+=Y,!0}free(Y,J){var X;if(this.totalAllocated<Y)throw Error(`Invalid buffer allocation state: call ${J} freed ${Y} > total allocated ${this.totalAllocated}`);this.totalAllocated-=Y;let Z=(X=this.allocatedPerCall.get(J))!==null&&X!==void 0?X:0;if(Z<Y)throw Error(`Invalid buffer allocation state: call ${J} freed ${Y} > allocated for call ${Z}`);this.allocatedPerCall.set(J,Z-Y)}freeAll(Y){var J;let X=(J=this.allocatedPerCall.get(Y))!==null&&J!==void 0?J:0;if(this.totalAllocated<X)throw Error(`Invalid buffer allocation state: call ${Y} allocated ${X} > total allocated ${this.totalAllocated}`);this.totalAllocated-=X,this.allocatedPerCall.delete(Y)}}D90.MessageBufferTracker=V90;var fs="grpc-previous-rpc-attempts",Ka4=5;class I90{constructor(Y,J,X,Z,W,$,G,Q,U){var z;this.channel=Y,this.callConfig=J,this.methodName=X,this.host=Z,this.credentials=W,this.deadline=$,this.callNumber=G,this.bufferTracker=Q,this.retryThrottler=U,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0;let H=(z=Y.getOptions()["grpc-node.retry_max_attempts_limit"])!==null&&z!==void 0?z:Ka4;if(Y.getOptions()["grpc.enable_retries"]===0)this.state="NO_RETRY",this.maxAttempts=1;else if(J.methodConfig.retryPolicy){this.state="RETRY";let O=J.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(O.initialBackoff.substring(0,O.initialBackoff.length-1)),this.maxAttempts=Math.min(O.maxAttempts,H)}else if(J.methodConfig.hedgingPolicy)this.state="HEDGING",this.maxAttempts=Math.min(J.methodConfig.hedgingPolicy.maxAttempts,H);else this.state="TRANSPARENT_ONLY",this.maxAttempts=1;this.startTime=new Date}getDeadlineInfo(){if(this.underlyingCalls.length===0)return[];let Y=[],J=this.underlyingCalls[this.underlyingCalls.length-1];if(this.underlyingCalls.length>1)Y.push(`previous attempts: ${this.underlyingCalls.length-1}`);if(J.startTime>this.startTime)Y.push(`time to current attempt start: ${(0,Ua4.formatDateDifference)(this.startTime,J.startTime)}`);return Y.push(...J.call.getDeadlineInfo()),Y}getCallNumber(){return this.callNumber}trace(Y){Ha4.trace(US.LogVerbosity.DEBUG,Oa4,"["+this.callNumber+"] "+Y)}reportStatus(Y){this.trace("ended with status: code="+Y.code+' details="'+Y.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var J;(J=this.listener)===null||J===void 0||J.onReceiveStatus({code:Y.code,details:Y.details,metadata:Y.metadata})})}cancelWithStatus(Y,J){this.trace("cancelWithStatus code: "+Y+' details: "'+J+'"'),this.reportStatus({code:Y,details:J,metadata:new za4.Metadata});for(let{call:X}of this.underlyingCalls)X.cancelWithStatus(Y,J)}getPeer(){if(this.committedCallIndex!==null)return this.underlyingCalls[this.committedCallIndex].call.getPeer();else return"unknown"}getBufferEntry(Y){var J;return(J=this.writeBuffer[Y-this.writeBufferOffset])!==null&&J!==void 0?J:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let Y;if(this.underlyingCalls[this.committedCallIndex].state==="COMPLETED")Y=this.getNextBufferIndex();else Y=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let J=this.writeBufferOffset;J<Y;J++){let X=this.getBufferEntry(J);if(X.allocated)this.bufferTracker.free(X.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(Y-this.writeBufferOffset),this.writeBufferOffset=Y}commitCall(Y){var J,X;if(this.state==="COMMITTED")return;this.trace("Committing call ["+this.underlyingCalls[Y].call.getCallNumber()+"] at index "+Y),this.state="COMMITTED",(X=(J=this.callConfig).onCommitted)===null||X===void 0||X.call(J),this.committedCallIndex=Y;for(let Z=0;Z<this.underlyingCalls.length;Z++){if(Z===Y)continue;if(this.underlyingCalls[Z].state==="COMPLETED")continue;this.underlyingCalls[Z].state="COMPLETED",this.underlyingCalls[Z].call.cancelWithStatus(US.Status.CANCELLED,"Discarded in favor of other hedged attempt")}this.clearSentMessages()}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let Y=-1,J=-1;for(let[X,Z]of this.underlyingCalls.entries())if(Z.state==="ACTIVE"&&Z.nextMessageToSend>Y)Y=Z.nextMessageToSend,J=X;if(J===-1)this.state="TRANSPARENT_ONLY";else this.commitCall(J)}isStatusCodeInList(Y,J){return Y.some((X)=>{var Z;return X===J||X.toString().toLowerCase()===((Z=US.Status[J])===null||Z===void 0?void 0:Z.toLowerCase())})}getNextRetryJitter(){return Math.random()*0.3999999999999999+0.8}getNextRetryBackoffMs(){var Y;let J=(Y=this.callConfig)===null||Y===void 0?void 0:Y.methodConfig.retryPolicy;if(!J)return 0;let Z=this.getNextRetryJitter()*this.nextRetryBackoffSec*1000,W=Number(J.maxBackoff.substring(0,J.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*J.backoffMultiplier,W),Z}maybeRetryCall(Y,J){if(this.state!=="RETRY"){J(!1);return}if(this.attempts>=this.maxAttempts){J(!1);return}let X;if(Y===null)X=this.getNextRetryBackoffMs();else if(Y<0){this.state="TRANSPARENT_ONLY",J(!1);return}else X=Y,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var Z,W;if(this.state!=="RETRY"){J(!1);return}if((W=(Z=this.retryThrottler)===null||Z===void 0?void 0:Z.canRetryCall())!==null&&W!==void 0?W:!0)J(!0),this.attempts+=1,this.startNewAttempt();else this.trace("Retry attempt denied by throttling policy"),J(!1)},X)}countActiveCalls(){let Y=0;for(let J of this.underlyingCalls)if((J===null||J===void 0?void 0:J.state)==="ACTIVE")Y+=1;return Y}handleProcessedStatus(Y,J,X){var Z,W,$;switch(this.state){case"COMMITTED":case"NO_RETRY":case"TRANSPARENT_ONLY":this.commitCall(J),this.reportStatus(Y);break;case"HEDGING":if(this.isStatusCodeInList((Z=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&Z!==void 0?Z:[],Y.code)){(W=this.retryThrottler)===null||W===void 0||W.addCallFailed();let G;if(X===null)G=0;else if(X<0){this.state="TRANSPARENT_ONLY",this.commitCall(J),this.reportStatus(Y);return}else G=X;setTimeout(()=>{if(this.maybeStartHedgingAttempt(),this.countActiveCalls()===0)this.commitCall(J),this.reportStatus(Y)},G)}else this.commitCall(J),this.reportStatus(Y);break;case"RETRY":if(this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,Y.code))($=this.retryThrottler)===null||$===void 0||$.addCallFailed(),this.maybeRetryCall(X,(G)=>{if(!G)this.commitCall(J),this.reportStatus(Y)});else this.commitCall(J),this.reportStatus(Y);break}}getPushback(Y){let J=Y.get("grpc-retry-pushback-ms");if(J.length===0)return null;try{return parseInt(J[0])}catch(X){return-1}}handleChildStatus(Y,J){var X;if(this.underlyingCalls[J].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+Y.progress+" from child ["+this.underlyingCalls[J].call.getCallNumber()+"] in state "+this.underlyingCalls[J].state),this.underlyingCalls[J].state="COMPLETED",Y.code===US.Status.OK){(X=this.retryThrottler)===null||X===void 0||X.addCallSucceeded(),this.commitCall(J),this.reportStatus(Y);return}if(this.state==="NO_RETRY"){this.commitCall(J),this.reportStatus(Y);return}if(this.state==="COMMITTED"){this.reportStatus(Y);return}let Z=this.getPushback(Y.metadata);switch(Y.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":if(this.transparentRetryUsed)this.handleProcessedStatus(Y,J,Z);else this.transparentRetryUsed=!0,this.startNewAttempt();break;case"DROP":this.commitCall(J),this.reportStatus(Y);break;case"PROCESSED":this.handleProcessedStatus(Y,J,Z);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING")return;if(!this.callConfig.methodConfig.hedgingPolicy)return;if(this.attempts>=this.maxAttempts)return;this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}maybeStartHedgingTimer(){var Y,J,X;if(this.hedgingTimer)clearTimeout(this.hedgingTimer);if(this.state!=="HEDGING")return;if(!this.callConfig.methodConfig.hedgingPolicy)return;let Z=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=this.maxAttempts)return;let W=(Y=Z.hedgingDelay)!==null&&Y!==void 0?Y:"0s",$=Number(W.substring(0,W.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},$*1000),(X=(J=this.hedgingTimer).unref)===null||X===void 0||X.call(J)}startNewAttempt(){let Y=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+Y.getCallNumber()+"] for attempt "+this.attempts);let J=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:Y,nextMessageToSend:0,startTime:new Date});let X=this.attempts-1,Z=this.initialMetadata.clone();if(X>0)Z.set(fs,`${X}`);let W=!1;if(Y.start(Z,{onReceiveMetadata:($)=>{if(this.trace("Received metadata from child ["+Y.getCallNumber()+"]"),this.commitCall(J),W=!0,X>0)$.set(fs,`${X}`);if(this.underlyingCalls[J].state==="ACTIVE")this.listener.onReceiveMetadata($)},onReceiveMessage:($)=>{if(this.trace("Received message from child ["+Y.getCallNumber()+"]"),this.commitCall(J),this.underlyingCalls[J].state==="ACTIVE")this.listener.onReceiveMessage($)},onReceiveStatus:($)=>{if(this.trace("Received status from child ["+Y.getCallNumber()+"]"),!W&&X>0)$.metadata.set(fs,`${X}`);this.handleChildStatus($,J)}}),this.sendNextChildMessage(J),this.readStarted)Y.startRead()}start(Y,J){this.trace("start called"),this.listener=J,this.initialMetadata=Y,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(Y,J){var X,Z;(Z=(X=this.getBufferEntry(J)).callback)===null||Z===void 0||Z.call(X),this.clearSentMessages();let W=this.underlyingCalls[Y];W.nextMessageToSend+=1,this.sendNextChildMessage(Y)}sendNextChildMessage(Y){let J=this.underlyingCalls[Y];if(J.state==="COMPLETED")return;let X=J.nextMessageToSend;if(this.getBufferEntry(X)){let Z=this.getBufferEntry(X);switch(Z.entryType){case"MESSAGE":if(J.call.sendMessageWithContext({callback:($)=>{this.handleChildWriteCompleted(Y,X)}},Z.message.message),this.getBufferEntry(X+1).entryType==="HALF_CLOSE")this.trace("Sending halfClose immediately after message to child ["+J.call.getCallNumber()+"] - optimizing for unary/final message"),J.nextMessageToSend+=1,J.call.halfClose();break;case"HALF_CLOSE":J.nextMessageToSend+=1,J.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(Y,J){this.trace("write() called with message of length "+J.length);let X={message:J,flags:Y.flags},Z=this.getNextBufferIndex(),W={entryType:"MESSAGE",message:X,allocated:this.bufferTracker.allocate(J.length,this.callNumber)};if(this.writeBuffer.push(W),W.allocated){process.nextTick(()=>{var $;($=Y.callback)===null||$===void 0||$.call(Y)});for(let[$,G]of this.underlyingCalls.entries())if(G.state==="ACTIVE"&&G.nextMessageToSend===Z)G.call.sendMessageWithContext({callback:(Q)=>{this.handleChildWriteCompleted($,Z)}},J)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let $=this.underlyingCalls[this.committedCallIndex];if(W.callback=Y.callback,$.state==="ACTIVE"&&$.nextMessageToSend===Z)$.call.sendMessageWithContext({callback:(G)=>{this.handleChildWriteCompleted(this.committedCallIndex,Z)}},J)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let Y of this.underlyingCalls)if((Y===null||Y===void 0?void 0:Y.state)==="ACTIVE")Y.call.startRead()}halfClose(){this.trace("halfClose called");let Y=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let J of this.underlyingCalls)if((J===null||J===void 0?void 0:J.state)==="ACTIVE"){if(J.nextMessageToSend===Y||J.nextMessageToSend===Y-1)this.trace("Sending halfClose immediately to child ["+J.call.getCallNumber()+"] - all messages already sent"),J.nextMessageToSend+=1,J.call.halfClose()}}setCredentials(Y){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}getAuthContext(){if(this.committedCallIndex!==null)return this.underlyingCalls[this.committedCallIndex].call.getAuthContext();else return null}}D90.RetryingCall=I90});var AD=q((L90)=>{Object.defineProperty(L90,"__esModule",{value:!0});L90.BaseSubchannelWrapper=void 0;class P90{constructor(Y){this.child=Y,this.healthy=!0,this.healthListeners=new Set,this.refcount=0,this.dataWatchers=new Set,Y.addHealthStateWatcher((J)=>{if(this.healthy)this.updateHealthListeners()})}updateHealthListeners(){for(let Y of this.healthListeners)Y(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(Y){this.child.addConnectivityStateListener(Y)}removeConnectivityStateListener(Y){this.child.removeConnectivityStateListener(Y)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(Y){this.child.throttleKeepalive(Y)}ref(){this.child.ref(),this.refcount+=1}unref(){if(this.child.unref(),this.refcount-=1,this.refcount===0)this.destroy()}destroy(){for(let Y of this.dataWatchers)Y.destroy()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(Y){this.healthListeners.add(Y)}removeHealthStateWatcher(Y){this.healthListeners.delete(Y)}addDataWatcher(Y){Y.setSubchannel(this.getRealSubchannel()),this.dataWatchers.add(Y)}setHealthy(Y){if(Y!==this.healthy){if(this.healthy=Y,this.child.isHealthy())this.updateHealthListeners()}}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(Y){return this.getRealSubchannel()===Y.getRealSubchannel()}getCallCredentials(){return this.child.getCallCredentials()}getChannel(){return this.child.getChannel()}}L90.BaseSubchannelWrapper=P90});var ys=q((C90)=>{Object.defineProperty(C90,"__esModule",{value:!0});C90.InternalChannel=C90.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=void 0;var Fa4=pO(),Va4=N00(),Ia4=Z90(),bs=HZ(),Da4=i8(),V$=v0(),wa4=eN(),Aa4=ws(),E90=ZJ(),zS=u4(),Pa4=Ss(),HS=O9(),$Y=K9(),PD=q$(),La4=z90(),Ma4=GK(),Ea4=q90(),vs=sN(),Ta4=BD(),hs=A90(),Ra4=AD(),Na4=2147483647,Sa4=1000,Ca4=1800000,OS=new Map,ja4=16777216,ka4=1048576;class T90 extends Ra4.BaseSubchannelWrapper{constructor(Y,J){super(Y);this.channel=J,this.refCount=0,this.subchannelStateListener=(X,Z,W,$)=>{J.throttleKeepalive($)}}ref(){if(this.refCount===0)this.child.addConnectivityStateListener(this.subchannelStateListener),this.channel.addWrappedSubchannel(this);this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0)this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this)}}class R90{pick(Y){return{pickResultType:bs.PickResultType.DROP,status:{code:V$.Status.UNAVAILABLE,details:"Channel closed before call started",metadata:new Da4.Metadata},subchannel:null,onCallStarted:null,onCallEnded:null}}}C90.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX="grpc.internal.no_subchannel";class N90{constructor(Y){this.target=Y,this.trace=new PD.ChannelzTrace,this.callTracker=new PD.ChannelzCallTracker,this.childrenTracker=new PD.ChannelzChildrenTracker,this.state=$Y.ConnectivityState.IDLE}getChannelzInfoCallback(){return()=>{return{target:this.target,state:this.state,trace:this.trace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}}}class S90{constructor(Y,J,X){var Z,W,$,G,Q,U;if(this.credentials=J,this.options=X,this.connectivityState=$Y.ConnectivityState.IDLE,this.currentPicker=new bs.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.callRefTimer=null,this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),typeof Y!=="string")throw TypeError("Channel target must be a string");if(!(J instanceof Fa4.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(X){if(typeof X!=="object")throw TypeError("Channel options must be an object")}this.channelzInfoTracker=new N90(Y);let z=(0,HS.parseUri)(Y);if(z===null)throw Error(`Could not parse target name "${Y}"`);let H=(0,E90.mapUriDefaultScheme)(z);if(H===null)throw Error(`Could not find a default scheme for target name "${Y}"`);if(this.options["grpc.enable_channelz"]===0)this.channelzEnabled=!1;if(this.channelzRef=(0,PD.registerChannelzChannel)(Y,this.channelzInfoTracker.getChannelzInfoCallback(),this.channelzEnabled),this.channelzEnabled)this.channelzInfoTracker.trace.addTrace("CT_INFO","Channel created");if(this.options["grpc.default_authority"])this.defaultAuthority=this.options["grpc.default_authority"];else this.defaultAuthority=(0,E90.getDefaultAuthority)(H);let O=(0,Pa4.mapProxyName)(H,X);this.target=O.target,this.options=Object.assign({},this.options,O.extraOptions),this.subchannelPool=(0,Ia4.getSubchannelPool)(((Z=this.options["grpc.use_local_subchannel_pool"])!==null&&Z!==void 0?Z:0)===0),this.retryBufferTracker=new hs.MessageBufferTracker((W=this.options["grpc.retry_buffer_size"])!==null&&W!==void 0?W:ja4,($=this.options["grpc.per_rpc_retry_buffer_size"])!==null&&$!==void 0?$:ka4),this.keepaliveTime=(G=this.options["grpc.keepalive_time_ms"])!==null&&G!==void 0?G:-1,this.idleTimeoutMs=Math.max((Q=this.options["grpc.client_idle_timeout_ms"])!==null&&Q!==void 0?Q:Ca4,Sa4);let K={createSubchannel:(F,V)=>{let I={};for(let[A,P]of Object.entries(V))if(!A.startsWith(C90.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX))I[A]=P;let D=this.subchannelPool.getOrCreateSubchannel(this.target,F,I,this.credentials);if(D.throttleKeepalive(this.keepaliveTime),this.channelzEnabled)this.channelzInfoTracker.trace.addTrace("CT_INFO","Created subchannel or used existing subchannel",D.getChannelzRef());return new T90(D,this)},updateState:(F,V)=>{this.currentPicker=V;let I=this.pickQueue.slice();if(this.pickQueue=[],I.length>0)this.callRefTimerUnref();for(let D of I)D.doPick();this.updateState(F)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:(F)=>{if(this.channelzEnabled)this.channelzInfoTracker.childrenTracker.refChild(F)},removeChannelzChild:(F)=>{if(this.channelzEnabled)this.channelzInfoTracker.childrenTracker.unrefChild(F)}};this.resolvingLoadBalancer=new Va4.ResolvingLoadBalancer(this.target,K,this.options,(F,V)=>{var I;if(F.retryThrottling)OS.set(this.getTarget(),new hs.RetryThrottler(F.retryThrottling.maxTokens,F.retryThrottling.tokenRatio,OS.get(this.getTarget())));else OS.delete(this.getTarget());if(this.channelzEnabled)this.channelzInfoTracker.trace.addTrace("CT_INFO","Address resolution succeeded");(I=this.configSelector)===null||I===void 0||I.unref(),this.configSelector=V,this.currentResolutionError=null,process.nextTick(()=>{let D=this.configSelectionQueue;if(this.configSelectionQueue=[],D.length>0)this.callRefTimerUnref();for(let L of D)L.getConfig()})},(F)=>{if(this.channelzEnabled)this.channelzInfoTracker.trace.addTrace("CT_WARNING","Address resolution failed with code "+F.code+' and details "'+F.details+'"');if(this.configSelectionQueue.length>0)this.trace("Name resolution failed with calls queued for config selection");if(this.configSelector===null)this.currentResolutionError=Object.assign(Object.assign({},(0,Ta4.restrictControlPlaneStatusCode)(F.code,F.details)),{metadata:F.metadata});let V=this.configSelectionQueue;if(this.configSelectionQueue=[],V.length>0)this.callRefTimerUnref();for(let I of V)I.reportResolverError(F)}),this.filterStackFactory=new wa4.FilterStackFactory([new Aa4.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(X,void 0,2));let B=Error();if((0,zS.isTracerEnabled)("channel_stacktrace"))(0,zS.trace)(V$.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((U=B.stack)===null||U===void 0?void 0:U.substring(B.stack.indexOf(`
`)+1)));this.lastActivityTimestamp=new Date}trace(Y,J){(0,zS.trace)(J!==null&&J!==void 0?J:V$.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,HS.uriToString)(this.target)+" "+Y)}callRefTimerRef(){var Y,J,X,Z;if(!this.callRefTimer)this.callRefTimer=setInterval(()=>{},Na4);if(!((J=(Y=this.callRefTimer).hasRef)===null||J===void 0?void 0:J.call(Y)))this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(Z=(X=this.callRefTimer).ref)===null||Z===void 0||Z.call(X)}callRefTimerUnref(){var Y,J,X;if(!((Y=this.callRefTimer)===null||Y===void 0?void 0:Y.hasRef)||this.callRefTimer.hasRef())this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(X=(J=this.callRefTimer)===null||J===void 0?void 0:J.unref)===null||X===void 0||X.call(J)}removeConnectivityStateWatcher(Y){let J=this.connectivityStateWatchers.findIndex((X)=>X===Y);if(J>=0)this.connectivityStateWatchers.splice(J,1)}updateState(Y){if((0,zS.trace)(V$.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,HS.uriToString)(this.target)+" "+$Y.ConnectivityState[this.connectivityState]+" -> "+$Y.ConnectivityState[Y]),this.channelzEnabled)this.channelzInfoTracker.trace.addTrace("CT_INFO","Connectivity state change to "+$Y.ConnectivityState[Y]);this.connectivityState=Y,this.channelzInfoTracker.state=Y;let J=this.connectivityStateWatchers.slice();for(let X of J)if(Y!==X.currentState){if(X.timer)clearTimeout(X.timer);this.removeConnectivityStateWatcher(X),X.callback()}if(Y!==$Y.ConnectivityState.TRANSIENT_FAILURE)this.currentResolutionError=null}throttleKeepalive(Y){if(Y>this.keepaliveTime){this.keepaliveTime=Y;for(let J of this.wrappedSubchannels)J.throttleKeepalive(Y)}}addWrappedSubchannel(Y){this.wrappedSubchannels.add(Y)}removeWrappedSubchannel(Y){this.wrappedSubchannels.delete(Y)}doPick(Y,J){return this.currentPicker.pick({metadata:Y,extraPickInfo:J})}queueCallForPick(Y){this.pickQueue.push(Y),this.callRefTimerRef()}getConfig(Y,J){if(this.connectivityState!==$Y.ConnectivityState.SHUTDOWN)this.resolvingLoadBalancer.exitIdle();if(this.configSelector)return{type:"SUCCESS",config:this.configSelector.invoke(Y,J,this.randomChannelId)};else if(this.currentResolutionError)return{type:"ERROR",error:this.currentResolutionError};else return{type:"NONE"}}queueCallForConfig(Y){this.configSelectionQueue.push(Y),this.callRefTimerRef()}enterIdle(){if(this.resolvingLoadBalancer.destroy(),this.updateState($Y.ConnectivityState.IDLE),this.currentPicker=new bs.QueuePicker(this.resolvingLoadBalancer),this.idleTimer)clearTimeout(this.idleTimer),this.idleTimer=null;if(this.callRefTimer)clearInterval(this.callRefTimer),this.callRefTimer=null}startIdleTimeout(Y){var J,X;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let W=new Date().valueOf()-this.lastActivityTimestamp.valueOf();if(W>=this.idleTimeoutMs)this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle();else this.startIdleTimeout(this.idleTimeoutMs-W)},Y),(X=(J=this.idleTimer).unref)===null||X===void 0||X.call(J)}maybeStartIdleTimer(){if(this.connectivityState!==$Y.ConnectivityState.SHUTDOWN&&!this.idleTimer)this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){if(this.channelzEnabled)this.channelzInfoTracker.callTracker.addCallStarted();this.callCount+=1}onCallEnd(Y){if(this.channelzEnabled)if(Y.code===V$.Status.OK)this.channelzInfoTracker.callTracker.addCallSucceeded();else this.channelzInfoTracker.callTracker.addCallFailed();this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(Y,J,X,Z,W){let $=(0,vs.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+$+'] method="'+J+'"'),new La4.LoadBalancingCall(this,Y,J,X,Z,W,$)}createRetryingCall(Y,J,X,Z,W){let $=(0,vs.getNextCallNumber)();return this.trace("createRetryingCall ["+$+'] method="'+J+'"'),new hs.RetryingCall(this,Y,J,X,Z,W,$,this.retryBufferTracker,OS.get(this.getTarget()))}createResolvingCall(Y,J,X,Z,W){let $=(0,vs.getNextCallNumber)();this.trace("createResolvingCall ["+$+'] method="'+Y+'", deadline='+(0,Ma4.deadlineToString)(J));let G={deadline:J,flags:W!==null&&W!==void 0?W:V$.Propagate.DEFAULTS,host:X!==null&&X!==void 0?X:this.defaultAuthority,parentCall:Z},Q=new Ea4.ResolvingCall(this,Y,G,this.filterStackFactory.clone(),$);return this.onCallStart(),Q.addStatusWatcher((U)=>{this.onCallEnd(U)}),Q}close(){var Y;this.resolvingLoadBalancer.destroy(),this.updateState($Y.ConnectivityState.SHUTDOWN),this.currentPicker=new R90;for(let J of this.configSelectionQueue)J.cancelWithStatus(V$.Status.UNAVAILABLE,"Channel closed before call started");this.configSelectionQueue=[];for(let J of this.pickQueue)J.cancelWithStatus(V$.Status.UNAVAILABLE,"Channel closed before call started");if(this.pickQueue=[],this.callRefTimer)clearInterval(this.callRefTimer);if(this.idleTimer)clearTimeout(this.idleTimer);if(this.channelzEnabled)(0,PD.unregisterChannelzRef)(this.channelzRef);this.subchannelPool.unrefUnusedSubchannels(),(Y=this.configSelector)===null||Y===void 0||Y.unref(),this.configSelector=null}getTarget(){return(0,HS.uriToString)(this.target)}getConnectivityState(Y){let J=this.connectivityState;if(Y)this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer();return J}watchConnectivityState(Y,J,X){if(this.connectivityState===$Y.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let Z=null;if(J!==1/0){let $=J instanceof Date?J:new Date(J),G=new Date;if(J===-1/0||$<=G){process.nextTick(X,Error("Deadline passed without connectivity state change"));return}Z=setTimeout(()=>{this.removeConnectivityStateWatcher(W),X(Error("Deadline passed without connectivity state change"))},$.getTime()-G.getTime())}let W={currentState:Y,callback:X,timer:Z};this.connectivityStateWatchers.push(W)}getChannelzRef(){return this.channelzRef}createCall(Y,J,X,Z,W){if(typeof Y!=="string")throw TypeError("Channel#createCall: method must be a string");if(!(typeof J==="number"||J instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===$Y.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall(Y,J,X,Z,W)}getOptions(){return this.options}}C90.InternalChannel=S90});var Ga=q((x90)=>{Object.defineProperty(x90,"__esModule",{value:!0});x90.ChannelImplementation=void 0;var _a4=pO(),xa4=ys();class _90{constructor(Y,J,X){if(typeof Y!=="string")throw TypeError("Channel target must be a string");if(!(J instanceof _a4.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(X){if(typeof X!=="object")throw TypeError("Channel options must be an object")}this.internalChannel=new xa4.InternalChannel(Y,J,X)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(Y){return this.internalChannel.getConnectivityState(Y)}watchConnectivityState(Y,J,X){this.internalChannel.watchConnectivityState(Y,J,X)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(Y,J,X,Z,W){if(typeof Y!=="string")throw TypeError("Channel#createCall: method must be a string");if(!(typeof J==="number"||J instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(Y,J,X,Z,W)}}x90.ChannelImplementation=_90});var d90=q((u90)=>{Object.defineProperty(u90,"__esModule",{value:!0});u90.ServerDuplexStreamImpl=u90.ServerWritableStreamImpl=u90.ServerReadableStreamImpl=u90.ServerUnaryCallImpl=void 0;u90.serverErrorToStatus=ms;var fa4=C("events"),gs=C("stream"),us=v0(),v90=i8();function ms(Y,J){var X;let Z={code:us.Status.UNKNOWN,details:"message"in Y?Y.message:"Unknown Error",metadata:(X=J!==null&&J!==void 0?J:Y.metadata)!==null&&X!==void 0?X:null};if("code"in Y&&typeof Y.code==="number"&&Number.isInteger(Y.code)){if(Z.code=Y.code,"details"in Y&&typeof Y.details==="string")Z.details=Y.details}return Z}class h90 extends fa4.EventEmitter{constructor(Y,J,X,Z){super();this.path=Y,this.call=J,this.metadata=X,this.request=Z,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(Y){this.call.sendMetadata(Y)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}}u90.ServerUnaryCallImpl=h90;class b90 extends gs.Readable{constructor(Y,J,X){super({objectMode:!0});this.path=Y,this.call=J,this.metadata=X,this.cancelled=!1}_read(Y){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(Y){this.call.sendMetadata(Y)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}}u90.ServerReadableStreamImpl=b90;class y90 extends gs.Writable{constructor(Y,J,X,Z){super({objectMode:!0});this.path=Y,this.call=J,this.metadata=X,this.request=Z,this.pendingStatus={code:us.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new v90.Metadata,this.on("error",(W)=>{this.pendingStatus=ms(W),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(Y){this.call.sendMetadata(Y)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}_write(Y,J,X){this.call.sendMessage(Y,X)}_final(Y){var J;Y(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(J=this.pendingStatus.metadata)!==null&&J!==void 0?J:this.trailingMetadata}))}end(Y){if(Y)this.trailingMetadata=Y;return super.end()}}u90.ServerWritableStreamImpl=y90;class g90 extends gs.Duplex{constructor(Y,J,X){super({objectMode:!0});this.path=Y,this.call=J,this.metadata=X,this.pendingStatus={code:us.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new v90.Metadata,this.on("error",(Z)=>{this.pendingStatus=ms(Z),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(Y){this.call.sendMetadata(Y)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}_read(Y){this.call.startRead()}_write(Y,J,X){this.call.sendMessage(Y,X)}_final(Y){var J;Y(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(J=this.pendingStatus.metadata)!==null&&J!==void 0?J:this.trailingMetadata}))}end(Y){if(Y)this.trailingMetadata=Y;return super.end()}}u90.ServerDuplexStreamImpl=g90});var KS=q((c90)=>{Object.defineProperty(c90,"__esModule",{value:!0});c90.ServerCredentials=void 0;c90.createCertificateProviderServerCredentials=ga4;c90.createServerCredentialsWithInterceptors=ua4;var ds=pr();class OK{constructor(Y,J){this.serverConstructorOptions=Y,this.watchers=new Set,this.latestContextOptions=null,this.latestContextOptions=J!==null&&J!==void 0?J:null}_addWatcher(Y){this.watchers.add(Y)}_removeWatcher(Y){this.watchers.delete(Y)}getWatcherCount(){return this.watchers.size}updateSecureContextOptions(Y){this.latestContextOptions=Y;for(let J of this.watchers)J(this.latestContextOptions)}_isSecure(){return this.serverConstructorOptions!==null}_getSecureContextOptions(){return this.latestContextOptions}_getConstructorOptions(){return this.serverConstructorOptions}_getInterceptors(){return[]}static createInsecure(){return new cs}static createSsl(Y,J,X=!1){var Z;if(Y!==null&&!Buffer.isBuffer(Y))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(J))throw TypeError("keyCertPairs must be an array");if(typeof X!=="boolean")throw TypeError("checkClientCertificate must be a boolean");let W=[],$=[];for(let G=0;G<J.length;G++){let Q=J[G];if(Q===null||typeof Q!=="object")throw TypeError(`keyCertPair[${G}] must be an object`);if(!Buffer.isBuffer(Q.private_key))throw TypeError(`keyCertPair[${G}].private_key must be a Buffer`);if(!Buffer.isBuffer(Q.cert_chain))throw TypeError(`keyCertPair[${G}].cert_chain must be a Buffer`);W.push(Q.cert_chain),$.push(Q.private_key)}return new ls({requestCert:X,ciphers:ds.CIPHER_SUITES},{ca:(Z=Y!==null&&Y!==void 0?Y:(0,ds.getDefaultRootsData)())!==null&&Z!==void 0?Z:void 0,cert:W,key:$})}}c90.ServerCredentials=OK;class cs extends OK{constructor(){super(null)}_getSettings(){return null}_equals(Y){return Y instanceof cs}}class ls extends OK{constructor(Y,J){super(Y,J);this.options=Object.assign(Object.assign({},Y),J)}_equals(Y){if(this===Y)return!0;if(!(Y instanceof ls))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(Y.options.ca)){if(!this.options.ca.equals(Y.options.ca))return!1}else if(this.options.ca!==Y.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(Y.options.cert)){if(this.options.cert.length!==Y.options.cert.length)return!1;for(let J=0;J<this.options.cert.length;J++){let X=this.options.cert[J],Z=Y.options.cert[J];if(Buffer.isBuffer(X)&&Buffer.isBuffer(Z)){if(!X.equals(Z))return!1}else if(X!==Z)return!1}}else if(this.options.cert!==Y.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(Y.options.key)){if(this.options.key.length!==Y.options.key.length)return!1;for(let J=0;J<this.options.key.length;J++){let X=this.options.key[J],Z=Y.options.key[J];if(Buffer.isBuffer(X)&&Buffer.isBuffer(Z)){if(!X.equals(Z))return!1}else if(X!==Z)return!1}}else if(this.options.key!==Y.options.key)return!1;if(this.options.requestCert!==Y.options.requestCert)return!1;return!0}}class ps extends OK{constructor(Y,J,X){super({requestCert:J!==null,rejectUnauthorized:X,ciphers:ds.CIPHER_SUITES});this.identityCertificateProvider=Y,this.caCertificateProvider=J,this.requireClientCertificate=X,this.latestCaUpdate=null,this.latestIdentityUpdate=null,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this)}_addWatcher(Y){var J;if(this.getWatcherCount()===0)(J=this.caCertificateProvider)===null||J===void 0||J.addCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.addIdentityCertificateListener(this.identityCertificateUpdateListener);super._addWatcher(Y)}_removeWatcher(Y){var J;if(super._removeWatcher(Y),this.getWatcherCount()===0)(J=this.caCertificateProvider)===null||J===void 0||J.removeCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.removeIdentityCertificateListener(this.identityCertificateUpdateListener)}_equals(Y){if(this===Y)return!0;if(!(Y instanceof ps))return!1;return this.caCertificateProvider===Y.caCertificateProvider&&this.identityCertificateProvider===Y.identityCertificateProvider&&this.requireClientCertificate===Y.requireClientCertificate}calculateSecureContextOptions(){var Y;if(this.latestIdentityUpdate===null)return null;if(this.caCertificateProvider!==null&&this.latestCaUpdate===null)return null;return{ca:(Y=this.latestCaUpdate)===null||Y===void 0?void 0:Y.caCertificate,cert:[this.latestIdentityUpdate.certificate],key:[this.latestIdentityUpdate.privateKey]}}finalizeUpdate(){let Y=this.calculateSecureContextOptions();this.updateSecureContextOptions(Y)}handleCaCertificateUpdate(Y){this.latestCaUpdate=Y,this.finalizeUpdate()}handleIdentityCertitificateUpdate(Y){this.latestIdentityUpdate=Y,this.finalizeUpdate()}}function ga4(Y,J,X){return new ps(Y,J,X)}class ns extends OK{constructor(Y,J){super({});this.childCredentials=Y,this.interceptors=J}_isSecure(){return this.childCredentials._isSecure()}_equals(Y){if(!(Y instanceof ns))return!1;if(!this.childCredentials._equals(Y.childCredentials))return!1;if(this.interceptors.length!==Y.interceptors.length)return!1;for(let J=0;J<this.interceptors.length;J++)if(this.interceptors[J]!==Y.interceptors[J])return!1;return!0}_getInterceptors(){return this.interceptors}_addWatcher(Y){this.childCredentials._addWatcher(Y)}_removeWatcher(Y){this.childCredentials._removeWatcher(Y)}_getConstructorOptions(){return this.childCredentials._getConstructorOptions()}_getSecureContextOptions(){return this.childCredentials._getSecureContextOptions()}}function ua4(Y,J){return new ns(Y,J)}});var LD=q((p90)=>{Object.defineProperty(p90,"__esModule",{value:!0});p90.durationMessageToDuration=ca4;p90.msToDuration=la4;p90.durationToMs=pa4;p90.isDuration=na4;p90.isDurationMessage=ia4;p90.parseDuration=ra4;p90.durationToString=aa4;function ca4(Y){return{seconds:Number.parseInt(Y.seconds),nanos:Y.nanos}}function la4(Y){return{seconds:Y/1000|0,nanos:Y%1000*1e6|0}}function pa4(Y){return Y.seconds*1000+Y.nanos/1e6|0}function na4(Y){return typeof Y.seconds==="number"&&typeof Y.nanos==="number"}function ia4(Y){return typeof Y.seconds==="string"&&typeof Y.nanos==="number"}var oa4=/^(\d+)(?:\.(\d+))?s$/;function ra4(Y){let J=Y.match(oa4);if(!J)return null;return{seconds:Number.parseInt(J[1],10),nanos:J[2]?Number.parseInt(J[2].padEnd(9,"0"),10):0}}function aa4(Y){if(Y.nanos===0)return`${Y.seconds}s`;let J;if(Y.nanos%1e6===0)J=1e6;else if(Y.nanos%1000===0)J=1000;else J=1;return`${Y.seconds}.${Y.nanos/J}s`}});var qS=q((X70)=>{var __dirname="/Users/Simon.Owusu@Tommy.com/WebstormProjects/CapellaQL/node_modules/@grpc/grpc-js/build/src";Object.defineProperty(X70,"__esModule",{value:!0});X70.OrcaOobMetricsSubchannelWrapper=X70.GRPC_METRICS_HEADER=X70.ServerMetricRecorder=X70.PerRequestMetricRecorder=void 0;X70.createOrcaClient=s90;X70.createMetricsReader=Hs4;var Ws4=DN(),is=LD(),$s4=pO(),Gs4=AD(),n90=v0(),Qs4=nO(),Us4=K9(),i90=null;function BS(){if(i90)return i90;let Y=Hs().loadSync,J=Y("xds/service/orca/v3/orca.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto/xds`,`${__dirname}/../../proto/protoc-gen-validate`]});return(0,Ws4.loadPackageDefinition)(J)}class r90{constructor(){this.message={}}recordRequestCostMetric(Y,J){if(!this.message.request_cost)this.message.request_cost={};this.message.request_cost[Y]=J}recordUtilizationMetric(Y,J){if(!this.message.utilization)this.message.utilization={};this.message.utilization[Y]=J}recordNamedMetric(Y,J){if(!this.message.named_metrics)this.message.named_metrics={};this.message.named_metrics[Y]=J}recordCPUUtilizationMetric(Y){this.message.cpu_utilization=Y}recordMemoryUtilizationMetric(Y){this.message.mem_utilization=Y}recordApplicationUtilizationMetric(Y){this.message.application_utilization=Y}recordQpsMetric(Y){this.message.rps_fractional=Y}recordEpsMetric(Y){this.message.eps=Y}serialize(){return BS().xds.data.orca.v3.OrcaLoadReport.serialize(this.message)}}X70.PerRequestMetricRecorder=r90;var zs4=30000;class a90{constructor(){this.message={},this.serviceImplementation={StreamCoreMetrics:(Y)=>{let J=Y.request.report_interval?(0,is.durationToMs)((0,is.durationMessageToDuration)(Y.request.report_interval)):zs4,X=setInterval(()=>{Y.write(this.message)},J);Y.on("cancelled",()=>{clearInterval(X)})}}}putUtilizationMetric(Y,J){if(!this.message.utilization)this.message.utilization={};this.message.utilization[Y]=J}setAllUtilizationMetrics(Y){this.message.utilization=Object.assign({},Y)}deleteUtilizationMetric(Y){var J;(J=this.message.utilization)===null||J===void 0||delete J[Y]}setCpuUtilizationMetric(Y){this.message.cpu_utilization=Y}deleteCpuUtilizationMetric(){delete this.message.cpu_utilization}setApplicationUtilizationMetric(Y){this.message.application_utilization=Y}deleteApplicationUtilizationMetric(){delete this.message.application_utilization}setQpsMetric(Y){this.message.rps_fractional=Y}deleteQpsMetric(){delete this.message.rps_fractional}setEpsMetric(Y){this.message.eps=Y}deleteEpsMetric(){delete this.message.eps}addToServer(Y){let J=BS().xds.service.orca.v3.OpenRcaService.service;Y.addService(J,this.serviceImplementation)}}X70.ServerMetricRecorder=a90;function s90(Y){return new(BS()).xds.service.orca.v3.OpenRcaService("unused",$s4.ChannelCredentials.createInsecure(),{channelOverride:Y})}X70.GRPC_METRICS_HEADER="endpoint-load-metrics-bin";var o90="grpc_orca_load_report";function Hs4(Y,J){return(X,Z,W)=>{let $=W.getOpaque(o90);if($)Y($);else{let G=W.get(X70.GRPC_METRICS_HEADER);if(G.length>0)$=BS().xds.data.orca.v3.OrcaLoadReport.deserialize(G[0]),Y($),W.setOpaque(o90,$)}if(J)J(X,Z,W)}}var t90="orca_oob_metrics";class e90{constructor(Y,J){this.metricsListener=Y,this.intervalMs=J,this.dataProducer=null}setSubchannel(Y){let J=Y.getOrCreateDataProducer(t90,Os4);this.dataProducer=J,J.addDataWatcher(this)}destroy(){var Y;(Y=this.dataProducer)===null||Y===void 0||Y.removeDataWatcher(this)}getInterval(){return this.intervalMs}onMetricsUpdate(Y){this.metricsListener(Y)}}class Y70{constructor(Y){this.subchannel=Y,this.dataWatchers=new Set,this.orcaSupported=!0,this.metricsCall=null,this.currentInterval=1/0,this.backoffTimer=new Qs4.BackoffTimeout(()=>this.updateMetricsSubscription()),this.subchannelStateListener=()=>this.updateMetricsSubscription();let J=Y.getChannel();this.client=s90(J),Y.addConnectivityStateListener(this.subchannelStateListener)}addDataWatcher(Y){this.dataWatchers.add(Y),this.updateMetricsSubscription()}removeDataWatcher(Y){var J;if(this.dataWatchers.delete(Y),this.dataWatchers.size===0)this.subchannel.removeDataProducer(t90),(J=this.metricsCall)===null||J===void 0||J.cancel(),this.metricsCall=null,this.client.close(),this.subchannel.removeConnectivityStateListener(this.subchannelStateListener);else this.updateMetricsSubscription()}updateMetricsSubscription(){var Y;if(this.dataWatchers.size===0||!this.orcaSupported||this.subchannel.getConnectivityState()!==Us4.ConnectivityState.READY)return;let J=Math.min(...Array.from(this.dataWatchers).map((X)=>X.getInterval()));if(!this.metricsCall||J!==this.currentInterval){(Y=this.metricsCall)===null||Y===void 0||Y.cancel(),this.currentInterval=J;let X=this.client.streamCoreMetrics({report_interval:(0,is.msToDuration)(J)});this.metricsCall=X,X.on("data",(Z)=>{this.dataWatchers.forEach((W)=>{W.onMetricsUpdate(Z)})}),X.on("error",(Z)=>{if(this.metricsCall=null,Z.code===n90.Status.UNIMPLEMENTED){this.orcaSupported=!1;return}if(Z.code===n90.Status.CANCELLED)return;this.backoffTimer.runOnce()})}}}class J70 extends Gs4.BaseSubchannelWrapper{constructor(Y,J,X){super(Y);this.addDataWatcher(new e90(J,X))}getWrappedSubchannel(){return this.child}}X70.OrcaOobMetricsSubchannelWrapper=J70;function Os4(Y){return new Y70(Y)}});var ss=q((D70)=>{Object.defineProperty(D70,"__esModule",{value:!0});D70.BaseServerInterceptingCall=D70.ServerInterceptingCall=D70.ResponderBuilder=D70.ServerListenerBuilder=void 0;D70.isInterceptingServerListener=Ds4;D70.getServerInterceptingCall=Ms4;var IS=i8(),d9=v0(),KK=C("http2"),$70=XN(),G70=C("zlib"),Vs4=Cs(),O70=u4(),Is4=C("tls"),Q70=qS(),K70="server_call";function UU(Y){O70.trace(d9.LogVerbosity.DEBUG,K70,Y)}class B70{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(Y){return this.metadata=Y,this}withOnReceiveMessage(Y){return this.message=Y,this}withOnReceiveHalfClose(Y){return this.halfClose=Y,this}withOnCancel(Y){return this.cancel=Y,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}}D70.ServerListenerBuilder=B70;function Ds4(Y){return Y.onReceiveMetadata!==void 0&&Y.onReceiveMetadata.length===1}class q70{constructor(Y,J){this.listener=Y,this.nextListener=J,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){if(this.hasPendingMessage)this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1}processPendingHalfClose(){if(this.hasPendingHalfClose)this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1}onReceiveMetadata(Y){if(this.cancelled)return;this.processingMetadata=!0,this.listener.onReceiveMetadata(Y,(J)=>{if(this.processingMetadata=!1,this.cancelled)return;this.nextListener.onReceiveMetadata(J),this.processPendingMessage(),this.processPendingHalfClose()})}onReceiveMessage(Y){if(this.cancelled)return;this.processingMessage=!0,this.listener.onReceiveMessage(Y,(J)=>{if(this.processingMessage=!1,this.cancelled)return;if(this.processingMetadata)this.pendingMessage=J,this.hasPendingMessage=!0;else this.nextListener.onReceiveMessage(J),this.processPendingHalfClose()})}onReceiveHalfClose(){if(this.cancelled)return;this.listener.onReceiveHalfClose(()=>{if(this.cancelled)return;if(this.processingMetadata||this.processingMessage)this.hasPendingHalfClose=!0;else this.nextListener.onReceiveHalfClose()})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}}class F70{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(Y){return this.start=Y,this}withSendMetadata(Y){return this.metadata=Y,this}withSendMessage(Y){return this.message=Y,this}withSendStatus(Y){return this.status=Y,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}}D70.ResponderBuilder=F70;var FS={onReceiveMetadata:(Y,J)=>{J(Y)},onReceiveMessage:(Y,J)=>{J(Y)},onReceiveHalfClose:(Y)=>{Y()},onCancel:()=>{}},VS={start:(Y)=>{Y()},sendMetadata:(Y,J)=>{J(Y)},sendMessage:(Y,J)=>{J(Y)},sendStatus:(Y,J)=>{J(Y)}};class V70{constructor(Y,J){var X,Z,W,$;this.nextCall=Y,this.processingMetadata=!1,this.sentMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:(X=J===null||J===void 0?void 0:J.start)!==null&&X!==void 0?X:VS.start,sendMetadata:(Z=J===null||J===void 0?void 0:J.sendMetadata)!==null&&Z!==void 0?Z:VS.sendMetadata,sendMessage:(W=J===null||J===void 0?void 0:J.sendMessage)!==null&&W!==void 0?W:VS.sendMessage,sendStatus:($=J===null||J===void 0?void 0:J.sendStatus)!==null&&$!==void 0?$:VS.sendStatus}}processPendingMessage(){if(this.pendingMessageCallback)this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null}processPendingStatus(){if(this.pendingStatus)this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null}start(Y){this.responder.start((J)=>{var X,Z,W,$;let G={onReceiveMetadata:(X=J===null||J===void 0?void 0:J.onReceiveMetadata)!==null&&X!==void 0?X:FS.onReceiveMetadata,onReceiveMessage:(Z=J===null||J===void 0?void 0:J.onReceiveMessage)!==null&&Z!==void 0?Z:FS.onReceiveMessage,onReceiveHalfClose:(W=J===null||J===void 0?void 0:J.onReceiveHalfClose)!==null&&W!==void 0?W:FS.onReceiveHalfClose,onCancel:($=J===null||J===void 0?void 0:J.onCancel)!==null&&$!==void 0?$:FS.onCancel},Q=new q70(G,Y);this.nextCall.start(Q)})}sendMetadata(Y){this.processingMetadata=!0,this.sentMetadata=!0,this.responder.sendMetadata(Y,(J)=>{this.processingMetadata=!1,this.nextCall.sendMetadata(J),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(Y,J){if(this.processingMessage=!0,!this.sentMetadata)this.sendMetadata(new IS.Metadata);this.responder.sendMessage(Y,(X)=>{if(this.processingMessage=!1,this.processingMetadata)this.pendingMessage=X,this.pendingMessageCallback=J;else this.nextCall.sendMessage(X,J)})}sendStatus(Y){this.responder.sendStatus(Y,(J)=>{if(this.processingMetadata||this.processingMessage)this.pendingStatus=J;else this.nextCall.sendStatus(J)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}getHost(){return this.nextCall.getHost()}getAuthContext(){return this.nextCall.getAuthContext()}getConnectionInfo(){return this.nextCall.getConnectionInfo()}getMetricsRecorder(){return this.nextCall.getMetricsRecorder()}}D70.ServerInterceptingCall=V70;var I70="grpc-accept-encoding",rs="grpc-encoding",U70="grpc-message",z70="grpc-status",os="grpc-timeout",ws4=/(\d{1,8})\s*([HMSmun])/,As4={H:3600000,M:60000,S:1000,m:1,u:0.001,n:0.000001},Ps4={[I70]:"identity,deflate,gzip",[rs]:"identity"},H70={[KK.constants.HTTP2_HEADER_STATUS]:KK.constants.HTTP_STATUS_OK,[KK.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},Ls4={waitForTrailers:!0};class as{constructor(Y,J,X,Z,W){var $,G;if(this.stream=Y,this.callEventTracker=X,this.handler=Z,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=d9.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=d9.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.metricsRecorder=new Q70.PerRequestMetricRecorder,this.stream.once("error",(O)=>{}),this.stream.once("close",()=>{var O;if(UU("Request to method "+((O=this.handler)===null||O===void 0?void 0:O.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded)this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:d9.Status.CANCELLED,details:"Stream closed before sending status",metadata:null});this.notifyOnCancel()}),this.stream.on("data",(O)=>{this.handleDataFrame(O)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in W)this.maxSendMessageSize=W["grpc.max_send_message_length"];if("grpc.max_receive_message_length"in W)this.maxReceiveMessageSize=W["grpc.max_receive_message_length"];this.host=($=J[":authority"])!==null&&$!==void 0?$:J.host,this.decoder=new Vs4.StreamDecoder(this.maxReceiveMessageSize);let Q=IS.Metadata.fromHttp2Headers(J);if(O70.isTracerEnabled(K70))UU("Request to "+this.handler.path+" received headers "+JSON.stringify(Q.toJSON()));let U=Q.get(os);if(U.length>0)this.handleTimeoutHeader(U[0]);let z=Q.get(rs);if(z.length>0)this.incomingEncoding=z[0];Q.remove(os),Q.remove(rs),Q.remove(I70),Q.remove(KK.constants.HTTP2_HEADER_ACCEPT_ENCODING),Q.remove(KK.constants.HTTP2_HEADER_TE),Q.remove(KK.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=Q;let H=(G=Y.session)===null||G===void 0?void 0:G.socket;this.connectionInfo={localAddress:H===null||H===void 0?void 0:H.localAddress,localPort:H===null||H===void 0?void 0:H.localPort,remoteAddress:H===null||H===void 0?void 0:H.remoteAddress,remotePort:H===null||H===void 0?void 0:H.remotePort},this.shouldSendMetrics=!!W["grpc.server_call_metric_recording"]}handleTimeoutHeader(Y){let J=Y.toString().match(ws4);if(J===null){let W={code:d9.Status.INTERNAL,details:`Invalid ${os} value "${Y}"`,metadata:null};process.nextTick(()=>{this.sendStatus(W)});return}let X=+J[1]*As4[J[2]]|0,Z=new Date;this.deadline=Z.setMilliseconds(Z.getMilliseconds()+X),this.deadlineTimer=setTimeout(()=>{let W={code:d9.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(W)},X)}checkCancelled(){if(!this.cancelled&&(this.stream.destroyed||this.stream.closed))this.notifyOnCancel(),this.cancelled=!0;return this.cancelled}notifyOnCancel(){if(this.cancelNotified)return;if(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var Y;(Y=this.listener)===null||Y===void 0||Y.onCancel()}),this.deadlineTimer)clearTimeout(this.deadlineTimer);this.stream.resume()}maybeSendMetadata(){if(!this.metadataSent)this.sendMetadata(new IS.Metadata)}serializeMessage(Y){let J=this.handler.serialize(Y),X=J.byteLength,Z=Buffer.allocUnsafe(X+5);return Z.writeUInt8(0,0),Z.writeUInt32BE(X,1),J.copy(Z,5),Z}decompressMessage(Y,J){let X=Y.subarray(5);if(J==="identity")return X;else if(J==="deflate"||J==="gzip"){let Z;if(J==="deflate")Z=G70.createInflate();else Z=G70.createGunzip();return new Promise((W,$)=>{let G=0,Q=[];Z.on("data",(U)=>{if(Q.push(U),G+=U.byteLength,this.maxReceiveMessageSize!==-1&&G>this.maxReceiveMessageSize)Z.destroy(),$({code:d9.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`})}),Z.on("end",()=>{W(Buffer.concat(Q))}),Z.write(X),Z.end()})}else return Promise.reject({code:d9.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${J}"`})}async decompressAndMaybePush(Y){if(Y.type!=="COMPRESSED")throw Error(`Invalid queue entry type: ${Y.type}`);let X=Y.compressedMessage.readUInt8(0)===1?this.incomingEncoding:"identity",Z;try{Z=await this.decompressMessage(Y.compressedMessage,X)}catch(W){this.sendStatus(W);return}try{Y.parsedMessage=this.handler.deserialize(Z)}catch(W){this.sendStatus({code:d9.Status.INTERNAL,details:`Error deserializing request: ${W.message}`});return}Y.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&this.readQueue[0].type!=="COMPRESSED"){this.isReadPending=!1;let Y=this.readQueue.shift();if(Y.type==="READABLE")this.listener.onReceiveMessage(Y.parsedMessage);else this.listener.onReceiveHalfClose()}}handleDataFrame(Y){var J;if(this.checkCancelled())return;UU("Request to "+this.handler.path+" received data frame of size "+Y.length);let X;try{X=this.decoder.write(Y)}catch(Z){this.sendStatus({code:d9.Status.RESOURCE_EXHAUSTED,details:Z.message});return}for(let Z of X){this.stream.pause();let W={type:"COMPRESSED",compressedMessage:Z,parsedMessage:null};this.readQueue.push(W),this.decompressAndMaybePush(W),(J=this.callEventTracker)===null||J===void 0||J.addMessageReceived()}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(Y){if(UU("Request to "+this.handler.path+" start called"),this.checkCancelled())return;this.listener=Y,Y.onReceiveMetadata(this.metadata)}sendMetadata(Y){if(this.checkCancelled())return;if(this.metadataSent)return;this.metadataSent=!0;let J=Y?Y.toHttp2Headers():null,X=Object.assign(Object.assign(Object.assign({},H70),Ps4),J);this.stream.respond(X,Ls4)}sendMessage(Y,J){if(this.checkCancelled())return;let X;try{X=this.serializeMessage(Y)}catch(Z){this.sendStatus({code:d9.Status.INTERNAL,details:`Error serializing response: ${(0,$70.getErrorMessage)(Z)}`,metadata:null});return}if(this.maxSendMessageSize!==-1&&X.length-5>this.maxSendMessageSize){this.sendStatus({code:d9.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${X.length} vs. ${this.maxSendMessageSize})`,metadata:null});return}this.maybeSendMetadata(),UU("Request to "+this.handler.path+" sent data frame of size "+X.length),this.stream.write(X,(Z)=>{var W;if(Z){this.sendStatus({code:d9.Status.INTERNAL,details:`Error writing message: ${(0,$70.getErrorMessage)(Z)}`,metadata:null});return}(W=this.callEventTracker)===null||W===void 0||W.addMessageSent(),J()})}sendStatus(Y){var J,X,Z;if(this.checkCancelled())return;UU("Request to method "+((J=this.handler)===null||J===void 0?void 0:J.path)+" ended with status code: "+d9.Status[Y.code]+" details: "+Y.details);let W=(Z=(X=Y.metadata)===null||X===void 0?void 0:X.clone())!==null&&Z!==void 0?Z:new IS.Metadata;if(this.shouldSendMetrics)W.set(Q70.GRPC_METRICS_HEADER,this.metricsRecorder.serialize());if(this.metadataSent)if(!this.wantTrailers)this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{if(this.callEventTracker&&!this.streamEnded)this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(Y);let $=Object.assign({[z70]:Y.code,[U70]:encodeURI(Y.details)},W.toHttp2Headers());this.stream.sendTrailers($),this.notifyOnCancel()}),this.stream.end();else this.notifyOnCancel();else{if(this.callEventTracker&&!this.streamEnded)this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(Y);let $=Object.assign(Object.assign({[z70]:Y.code,[U70]:encodeURI(Y.details)},H70),W.toHttp2Headers());this.stream.respond($,{endStream:!0}),this.notifyOnCancel()}}startRead(){if(UU("Request to "+this.handler.path+" startRead called"),this.checkCancelled())return;if(this.isReadPending=!0,this.readQueue.length===0){if(!this.receivedHalfClose)this.stream.resume()}else this.maybePushNextMessage()}getPeer(){var Y;let J=(Y=this.stream.session)===null||Y===void 0?void 0:Y.socket;if(J===null||J===void 0?void 0:J.remoteAddress)if(J.remotePort)return`${J.remoteAddress}:${J.remotePort}`;else return J.remoteAddress;else return"unknown"}getDeadline(){return this.deadline}getHost(){return this.host}getAuthContext(){var Y;if(((Y=this.stream.session)===null||Y===void 0?void 0:Y.socket)instanceof Is4.TLSSocket){let J=this.stream.session.socket.getPeerCertificate();return{transportSecurityType:"ssl",sslPeerCertificate:J.raw?J:void 0}}else return{}}getConnectionInfo(){return this.connectionInfo}getMetricsRecorder(){return this.metricsRecorder}}D70.BaseServerInterceptingCall=as;function Ms4(Y,J,X,Z,W,$){let G={path:W.path,requestStream:W.type==="clientStream"||W.type==="bidi",responseStream:W.type==="serverStream"||W.type==="bidi",requestDeserialize:W.deserialize,responseSerialize:W.serialize},Q=new as(J,X,Z,W,$);return Y.reduce((U,z)=>{return z(G,U)},Q)}});var R70=q((D$)=>{var Cs4=D$&&D$.__runInitializers||function(Y,J,X){var Z=arguments.length>2;for(var W=0;W<J.length;W++)X=Z?J[W].call(Y,X):J[W].call(Y);return Z?X:void 0},js4=D$&&D$.__esDecorate||function(Y,J,X,Z,W,$){function G(D){if(D!==void 0&&typeof D!=="function")throw TypeError("Function expected");return D}var Q=Z.kind,U=Q==="getter"?"get":Q==="setter"?"set":"value",z=!J&&Y?Z.static?Y:Y.prototype:null,H=J||(z?Object.getOwnPropertyDescriptor(z,Z.name):{}),O,K=!1;for(var B=X.length-1;B>=0;B--){var F={};for(var V in Z)F[V]=V==="access"?{}:Z[V];for(var V in Z.access)F.access[V]=Z.access[V];F.addInitializer=function(D){if(K)throw TypeError("Cannot add initializers after decoration has completed");$.push(G(D||null))};var I=(0,X[B])(Q==="accessor"?{get:H.get,set:H.set}:H[U],F);if(Q==="accessor"){if(I===void 0)continue;if(I===null||typeof I!=="object")throw TypeError("Object expected");if(O=G(I.get))H.get=O;if(O=G(I.set))H.set=O;if(O=G(I.init))W.unshift(O)}else if(O=G(I))if(Q==="field")W.unshift(O);else H[U]=O}if(z)Object.defineProperty(z,Z.name,H);K=!0};Object.defineProperty(D$,"__esModule",{value:!0});D$.Server=void 0;var c9=C("http2"),ks4=C("util"),p6=v0(),FK=d90(),ts=KS(),A70=ZJ(),qK=u4(),I$=u9(),OJ=O9(),R8=q$(),P70=ss(),BK=2147483647,es=2147483647,_s4=20000,L70=2147483647,{HTTP2_HEADER_PATH:M70}=c9.constants,xs4="server",E70=Buffer.from("max_age");function T70(Y){qK.trace(p6.LogVerbosity.DEBUG,"server_call",Y)}function fs4(){}function vs4(Y){return function(J,X){return ks4.deprecate(J,Y)}}function Yt(Y){return{code:p6.Status.UNIMPLEMENTED,details:`The server does not implement the method ${Y}`}}function hs4(Y,J){let X=Yt(J);switch(Y){case"unary":return(Z,W)=>{W(X,null)};case"clientStream":return(Z,W)=>{W(X,null)};case"serverStream":return(Z)=>{Z.emit("error",X)};case"bidi":return(Z)=>{Z.emit("error",X)};default:throw Error(`Invalid handlerType ${Y}`)}}var bs4=(()=>{var Y;let J=[],X;return Y=class{constructor(W){var $,G,Q,U,z,H;if(this.boundPorts=(Cs4(this,J),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=W!==null&&W!==void 0?W:{},this.options["grpc.enable_channelz"]===0)this.channelzEnabled=!1,this.channelzTrace=new R8.ChannelzTraceStub,this.callTracker=new R8.ChannelzCallTrackerStub,this.listenerChildrenTracker=new R8.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new R8.ChannelzChildrenTrackerStub;else this.channelzTrace=new R8.ChannelzTrace,this.callTracker=new R8.ChannelzCallTracker,this.listenerChildrenTracker=new R8.ChannelzChildrenTracker,this.sessionChildrenTracker=new R8.ChannelzChildrenTracker;if(this.channelzRef=(0,R8.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=($=this.options["grpc.max_connection_age_ms"])!==null&&$!==void 0?$:BK,this.maxConnectionAgeGraceMs=(G=this.options["grpc.max_connection_age_grace_ms"])!==null&&G!==void 0?G:BK,this.keepaliveTimeMs=(Q=this.options["grpc.keepalive_time_ms"])!==null&&Q!==void 0?Q:es,this.keepaliveTimeoutMs=(U=this.options["grpc.keepalive_timeout_ms"])!==null&&U!==void 0?U:_s4,this.sessionIdleTimeout=(z=this.options["grpc.max_connection_idle_ms"])!==null&&z!==void 0?z:L70,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options)this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"];else this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER;if("grpc.max_concurrent_streams"in this.options)this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]};this.interceptors=(H=this.options.interceptors)!==null&&H!==void 0?H:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(W){var $,G,Q;let U=this.sessions.get(W),z=W.socket,H=z.remoteAddress?(0,I$.stringToSubchannelAddress)(z.remoteAddress,z.remotePort):null,O=z.localAddress?(0,I$.stringToSubchannelAddress)(z.localAddress,z.localPort):null,K;if(W.encrypted){let F=z,V=F.getCipher(),I=F.getCertificate(),D=F.getPeerCertificate();K={cipherSuiteStandardName:($=V.standardName)!==null&&$!==void 0?$:null,cipherSuiteOtherName:V.standardName?null:V.name,localCertificate:I&&"raw"in I?I.raw:null,remoteCertificate:D&&"raw"in D?D.raw:null}}else K=null;return{remoteAddress:H,localAddress:O,security:K,remoteName:null,streamsStarted:U.streamTracker.callsStarted,streamsSucceeded:U.streamTracker.callsSucceeded,streamsFailed:U.streamTracker.callsFailed,messagesSent:U.messagesSent,messagesReceived:U.messagesReceived,keepAlivesSent:U.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:U.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:U.lastMessageSentTimestamp,lastMessageReceivedTimestamp:U.lastMessageReceivedTimestamp,localFlowControlWindow:(G=W.state.localWindowSize)!==null&&G!==void 0?G:null,remoteFlowControlWindow:(Q=W.state.remoteWindowSize)!==null&&Q!==void 0?Q:null}}trace(W){qK.trace(p6.LogVerbosity.DEBUG,xs4,"("+this.channelzRef.id+") "+W)}keepaliveTrace(W){qK.trace(p6.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+W)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService(W,$){if(W===null||typeof W!=="object"||$===null||typeof $!=="object")throw Error("addService() requires two objects as arguments");let G=Object.keys(W);if(G.length===0)throw Error("Cannot add an empty service to a server");G.forEach((Q)=>{let U=W[Q],z;if(U.requestStream)if(U.responseStream)z="bidi";else z="clientStream";else if(U.responseStream)z="serverStream";else z="unary";let H=$[Q],O;if(H===void 0&&typeof U.originalName==="string")H=$[U.originalName];if(H!==void 0)O=H.bind($);else O=hs4(z,Q);if(this.register(U.path,O,U.responseSerialize,U.requestDeserialize,z)===!1)throw Error(`Method handler for ${U.path} already provided.`)})}removeService(W){if(W===null||typeof W!=="object")throw Error("removeService() requires object as argument");Object.keys(W).forEach((G)=>{let Q=W[G];this.unregister(Q.path)})}bind(W,$){throw Error("Not implemented. Use bindAsync() instead")}experimentalRegisterListenerToChannelz(W){return(0,R8.registerChannelzSocket)((0,I$.subchannelAddressToString)(W),()=>{return{localAddress:W,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}},this.channelzEnabled)}experimentalUnregisterListenerFromChannelz(W){(0,R8.unregisterChannelzRef)(W)}createHttp2Server(W){let $;if(W._isSecure()){let G=W._getConstructorOptions(),Q=W._getSecureContextOptions(),U=Object.assign(Object.assign(Object.assign(Object.assign({},this.commonServerOptions),G),Q),{enableTrace:this.options["grpc-node.tls_enable_trace"]===1}),z=Q!==null;this.trace("Initial credentials valid: "+z),$=c9.createSecureServer(U),$.prependListener("connection",(O)=>{if(!z)this.trace("Dropped connection from "+JSON.stringify(O.address())+" due to unloaded credentials"),O.destroy()}),$.on("secureConnection",(O)=>{O.on("error",(K)=>{this.trace("An incoming TLS connection closed with error: "+K.message)})});let H=(O)=>{if(O){let K=$;try{K.setSecureContext(O)}catch(B){qK.log(p6.LogVerbosity.ERROR,"Failed to set secure context with error "+B.message),O=null}}z=O!==null,this.trace("Post-update credentials valid: "+z)};W._addWatcher(H),$.on("close",()=>{W._removeWatcher(H)})}else $=c9.createServer(this.commonServerOptions);return $.setTimeout(0,fs4),this._setupHandlers($,W._getInterceptors()),$}bindOneAddress(W,$){this.trace("Attempting to bind "+(0,I$.subchannelAddressToString)(W));let G=this.createHttp2Server($.credentials);return new Promise((Q,U)=>{let z=(H)=>{this.trace("Failed to bind "+(0,I$.subchannelAddressToString)(W)+" with error "+H.message),Q({port:"port"in W?W.port:1,error:H.message})};G.once("error",z),G.listen(W,()=>{let H=G.address(),O;if(typeof H==="string")O={path:H};else O={host:H.address,port:H.port};let K=this.experimentalRegisterListenerToChannelz(O);this.listenerChildrenTracker.refChild(K),this.http2Servers.set(G,{channelzRef:K,sessions:new Set,ownsChannelzRef:!0}),$.listeningServers.add(G),this.trace("Successfully bound "+(0,I$.subchannelAddressToString)(O)),Q({port:"port"in O?O.port:1}),G.removeListener("error",z)})})}async bindManyPorts(W,$){if(W.length===0)return{count:0,port:0,errors:[]};if((0,I$.isTcpSubchannelAddress)(W[0])&&W[0].port===0){let G=await this.bindOneAddress(W[0],$);if(G.error){let Q=await this.bindManyPorts(W.slice(1),$);return Object.assign(Object.assign({},Q),{errors:[G.error,...Q.errors]})}else{let Q=W.slice(1).map((H)=>(0,I$.isTcpSubchannelAddress)(H)?{host:H.host,port:G.port}:H),U=await Promise.all(Q.map((H)=>this.bindOneAddress(H,$))),z=[G,...U];return{count:z.filter((H)=>H.error===void 0).length,port:G.port,errors:z.filter((H)=>H.error).map((H)=>H.error)}}}else{let G=await Promise.all(W.map((Q)=>this.bindOneAddress(Q,$)));return{count:G.filter((Q)=>Q.error===void 0).length,port:G[0].port,errors:G.filter((Q)=>Q.error).map((Q)=>Q.error)}}}async bindAddressList(W,$){let G=await this.bindManyPorts(W,$);if(G.count>0){if(G.count<W.length)qK.log(p6.LogVerbosity.INFO,`WARNING Only ${G.count} addresses added out of total ${W.length} resolved`);return G.port}else{let Q=`No address added out of total ${W.length} resolved`;throw qK.log(p6.LogVerbosity.ERROR,Q),Error(`${Q} errors: [${G.errors.join(",")}]`)}}resolvePort(W){return new Promise(($,G)=>{let Q=!1,U=(H,O,K,B)=>{if(Q)return!0;if(Q=!0,!H.ok)return G(Error(H.error.details)),!0;let F=[].concat(...H.value.map((V)=>V.addresses));if(F.length===0)return G(Error(`No addresses resolved for port ${W}`)),!0;return $(F),!0};(0,A70.createResolver)(W,U,this.options).updateResolution()})}async bindPort(W,$){let G=await this.resolvePort(W);if($.cancelled)throw this.completeUnbind($),Error("bindAsync operation cancelled by unbind call");let Q=await this.bindAddressList(G,$);if($.cancelled)throw this.completeUnbind($),Error("bindAsync operation cancelled by unbind call");return Q}normalizePort(W){let $=(0,OJ.parseUri)(W);if($===null)throw Error(`Could not parse port "${W}"`);let G=(0,A70.mapUriDefaultScheme)($);if(G===null)throw Error(`Could not get a default scheme for port "${W}"`);return G}bindAsync(W,$,G){if(this.shutdown)throw Error("bindAsync called after shutdown");if(typeof W!=="string")throw TypeError("port must be a string");if($===null||!($ instanceof ts.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if(typeof G!=="function")throw TypeError("callback must be a function");this.trace("bindAsync port="+W);let Q=this.normalizePort(W),U=(K,B)=>{process.nextTick(()=>G(K,B))},z=this.boundPorts.get((0,OJ.uriToString)(Q));if(z){if(!$._equals(z.credentials)){U(Error(`${W} already bound with incompatible credentials`),0);return}if(z.cancelled=!1,z.completionPromise)z.completionPromise.then((K)=>G(null,K),(K)=>G(K,0));else U(null,z.portNumber);return}z={mapKey:(0,OJ.uriToString)(Q),originalUri:Q,completionPromise:null,cancelled:!1,portNumber:0,credentials:$,listeningServers:new Set};let H=(0,OJ.splitHostPort)(Q.path),O=this.bindPort(Q,z);if(z.completionPromise=O,(H===null||H===void 0?void 0:H.port)===0)O.then((K)=>{let B={scheme:Q.scheme,authority:Q.authority,path:(0,OJ.combineHostPort)({host:H.host,port:K})};z.mapKey=(0,OJ.uriToString)(B),z.completionPromise=null,z.portNumber=K,this.boundPorts.set(z.mapKey,z),G(null,K)},(K)=>{G(K,0)});else this.boundPorts.set(z.mapKey,z),O.then((K)=>{z.completionPromise=null,z.portNumber=K,G(null,K)},(K)=>{G(K,0)})}registerInjectorToChannelz(){return(0,R8.registerChannelzSocket)("injector",()=>{return{localAddress:null,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}},this.channelzEnabled)}experimentalCreateConnectionInjectorWithChannelzRef(W,$,G=!1){if(W===null||!(W instanceof ts.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if(this.channelzEnabled)this.listenerChildrenTracker.refChild($);let Q=this.createHttp2Server(W),U=new Set;return this.http2Servers.set(Q,{channelzRef:$,sessions:U,ownsChannelzRef:G}),{injectConnection:(z)=>{Q.emit("connection",z)},drain:(z)=>{var H,O;for(let K of U)this.closeSession(K);(O=(H=setTimeout(()=>{for(let K of U)K.destroy(c9.constants.NGHTTP2_CANCEL)},z)).unref)===null||O===void 0||O.call(H)},destroy:()=>{this.closeServer(Q);for(let z of U)this.closeSession(z)}}}createConnectionInjector(W){if(W===null||!(W instanceof ts.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");let $=this.registerInjectorToChannelz();return this.experimentalCreateConnectionInjectorWithChannelzRef(W,$,!0)}closeServer(W,$){this.trace("Closing server with address "+JSON.stringify(W.address()));let G=this.http2Servers.get(W);W.close(()=>{if(G&&G.ownsChannelzRef)this.listenerChildrenTracker.unrefChild(G.channelzRef),(0,R8.unregisterChannelzRef)(G.channelzRef);this.http2Servers.delete(W),$===null||$===void 0||$()})}closeSession(W,$){var G;this.trace("Closing session initiated by "+((G=W.socket)===null||G===void 0?void 0:G.remoteAddress));let Q=this.sessions.get(W),U=()=>{if(Q)this.sessionChildrenTracker.unrefChild(Q.ref),(0,R8.unregisterChannelzRef)(Q.ref);$===null||$===void 0||$()};if(W.closed)queueMicrotask(U);else W.close(U)}completeUnbind(W){for(let $ of W.listeningServers){let G=this.http2Servers.get($);if(this.closeServer($,()=>{W.listeningServers.delete($)}),G)for(let Q of G.sessions)this.closeSession(Q)}this.boundPorts.delete(W.mapKey)}unbind(W){this.trace("unbind port="+W);let $=this.normalizePort(W),G=(0,OJ.splitHostPort)($.path);if((G===null||G===void 0?void 0:G.port)===0)throw Error("Cannot unbind port 0");let Q=this.boundPorts.get((0,OJ.uriToString)($));if(Q)if(this.trace("unbinding "+Q.mapKey+" originally bound as "+(0,OJ.uriToString)(Q.originalUri)),Q.completionPromise)Q.cancelled=!0;else this.completeUnbind(Q)}drain(W,$){var G,Q;this.trace("drain port="+W+" graceTimeMs="+$);let U=this.normalizePort(W),z=(0,OJ.splitHostPort)(U.path);if((z===null||z===void 0?void 0:z.port)===0)throw Error("Cannot drain port 0");let H=this.boundPorts.get((0,OJ.uriToString)(U));if(!H)return;let O=new Set;for(let K of H.listeningServers){let B=this.http2Servers.get(K);if(B)for(let F of B.sessions)O.add(F),this.closeSession(F,()=>{O.delete(F)})}(Q=(G=setTimeout(()=>{for(let K of O)K.destroy(c9.constants.NGHTTP2_CANCEL)},$)).unref)===null||Q===void 0||Q.call(G)}forceShutdown(){for(let W of this.boundPorts.values())W.cancelled=!0;this.boundPorts.clear();for(let W of this.http2Servers.keys())this.closeServer(W);this.sessions.forEach((W,$)=>{this.closeSession($),$.destroy(c9.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,R8.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(W,$,G,Q,U){if(this.handlers.has(W))return!1;return this.handlers.set(W,{func:$,serialize:G,deserialize:Q,type:U,path:W}),!0}unregister(W){return this.handlers.delete(W)}start(){if(this.http2Servers.size===0||[...this.http2Servers.keys()].every((W)=>!W.listening))throw Error("server must be bound in order to start");if(this.started===!0)throw Error("server is already started");this.started=!0}tryShutdown(W){var $;let G=(z)=>{(0,R8.unregisterChannelzRef)(this.channelzRef),W(z)},Q=0;function U(){if(Q--,Q===0)G()}this.shutdown=!0;for(let[z,H]of this.http2Servers.entries()){Q++;let O=H.channelzRef.name;this.trace("Waiting for server "+O+" to close"),this.closeServer(z,()=>{this.trace("Server "+O+" finished closing"),U()});for(let K of H.sessions.keys()){Q++;let B=($=K.socket)===null||$===void 0?void 0:$.remoteAddress;this.trace("Waiting for session "+B+" to close"),this.closeSession(K,()=>{this.trace("Session "+B+" finished closing"),U()})}}if(Q===0)G()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(W,$){let G=$[c9.constants.HTTP2_HEADER_CONTENT_TYPE];if(typeof G!=="string"||!G.startsWith("application/grpc"))return W.respond({[c9.constants.HTTP2_HEADER_STATUS]:c9.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1;return!0}_retrieveHandler(W){T70("Received call to method "+W+" at address "+this.serverAddressString);let $=this.handlers.get(W);if($===void 0)return T70("No handler registered for method "+W+". Sending UNIMPLEMENTED status."),null;return $}_respondWithError(W,$,G=null){var Q,U;let z=Object.assign({"grpc-status":(Q=W.code)!==null&&Q!==void 0?Q:p6.Status.INTERNAL,"grpc-message":W.details,[c9.constants.HTTP2_HEADER_STATUS]:c9.constants.HTTP_STATUS_OK,[c9.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},(U=W.metadata)===null||U===void 0?void 0:U.toHttp2Headers());$.respond(z,{endStream:!0}),this.callTracker.addCallFailed(),G===null||G===void 0||G.streamTracker.addCallFailed()}_channelzHandler(W,$,G){this.onStreamOpened($);let Q=this.sessions.get($.session);if(this.callTracker.addCallStarted(),Q===null||Q===void 0||Q.streamTracker.addCallStarted(),!this._verifyContentType($,G)){this.callTracker.addCallFailed(),Q===null||Q===void 0||Q.streamTracker.addCallFailed();return}let U=G[M70],z=this._retrieveHandler(U);if(!z){this._respondWithError(Yt(U),$,Q);return}let H={addMessageSent:()=>{if(Q)Q.messagesSent+=1,Q.lastMessageSentTimestamp=new Date},addMessageReceived:()=>{if(Q)Q.messagesReceived+=1,Q.lastMessageReceivedTimestamp=new Date},onCallEnd:(K)=>{if(K.code===p6.Status.OK)this.callTracker.addCallSucceeded();else this.callTracker.addCallFailed()},onStreamEnd:(K)=>{if(Q)if(K)Q.streamTracker.addCallSucceeded();else Q.streamTracker.addCallFailed()}},O=(0,P70.getServerInterceptingCall)([...W,...this.interceptors],$,G,H,z,this.options);if(!this._runHandlerForCall(O,z))this.callTracker.addCallFailed(),Q===null||Q===void 0||Q.streamTracker.addCallFailed(),O.sendStatus({code:p6.Status.INTERNAL,details:`Unknown handler type: ${z.type}`})}_streamHandler(W,$,G){if(this.onStreamOpened($),this._verifyContentType($,G)!==!0)return;let Q=G[M70],U=this._retrieveHandler(Q);if(!U){this._respondWithError(Yt(Q),$,null);return}let z=(0,P70.getServerInterceptingCall)([...W,...this.interceptors],$,G,null,U,this.options);if(!this._runHandlerForCall(z,U))z.sendStatus({code:p6.Status.INTERNAL,details:`Unknown handler type: ${U.type}`})}_runHandlerForCall(W,$){let{type:G}=$;if(G==="unary")ys4(W,$);else if(G==="clientStream")gs4(W,$);else if(G==="serverStream")us4(W,$);else if(G==="bidi")ms4(W,$);else return!1;return!0}_setupHandlers(W,$){if(W===null)return;let G=W.address(),Q="null";if(G)if(typeof G==="string")Q=G;else Q=G.address+":"+G.port;this.serverAddressString=Q;let U=this.channelzEnabled?this._channelzHandler:this._streamHandler,z=this.channelzEnabled?this._channelzSessionHandler(W):this._sessionHandler(W);W.on("stream",U.bind(this,$)),W.on("session",z)}_sessionHandler(W){return($)=>{var G,Q;(G=this.http2Servers.get(W))===null||G===void 0||G.sessions.add($);let U=null,z=null,H=null,O=!1,K=this.enableIdleTimeout($);if(this.maxConnectionAgeMs!==BK){let D=this.maxConnectionAgeMs/10,L=Math.random()*D*2-D;U=setTimeout(()=>{var A,P;O=!0,this.trace("Connection dropped by max connection age: "+((A=$.socket)===null||A===void 0?void 0:A.remoteAddress));try{$.goaway(c9.constants.NGHTTP2_NO_ERROR,2147483647,E70)}catch(R){$.destroy();return}if($.close(),this.maxConnectionAgeGraceMs!==BK)z=setTimeout(()=>{$.destroy()},this.maxConnectionAgeGraceMs),(P=z.unref)===null||P===void 0||P.call(z)},this.maxConnectionAgeMs+L),(Q=U.unref)===null||Q===void 0||Q.call(U)}let B=()=>{if(H)clearTimeout(H),H=null},F=()=>{return!$.destroyed&&this.keepaliveTimeMs<es&&this.keepaliveTimeMs>0},V,I=()=>{var D;if(!F())return;this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),H=setTimeout(()=>{B(),V()},this.keepaliveTimeMs),(D=H.unref)===null||D===void 0||D.call(H)};V=()=>{var D;if(!F())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let L="";try{if(!$.ping((P,R,N)=>{if(B(),P)this.keepaliveTrace("Ping failed with error: "+P.message),O=!0,$.destroy();else this.keepaliveTrace("Received ping response"),I()}))L="Ping returned false"}catch(A){L=(A instanceof Error?A.message:"")||"Unknown error"}if(L){this.keepaliveTrace("Ping send failed: "+L),this.trace("Connection dropped due to ping send error: "+L),O=!0,$.destroy();return}H=setTimeout(()=>{B(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),O=!0,$.destroy()},this.keepaliveTimeoutMs),(D=H.unref)===null||D===void 0||D.call(H)},I(),$.on("close",()=>{var D,L;if(!O)this.trace(`Connection dropped by client ${(D=$.socket)===null||D===void 0?void 0:D.remoteAddress}`);if(U)clearTimeout(U);if(z)clearTimeout(z);if(B(),K!==null)clearTimeout(K.timeout),this.sessionIdleTimeouts.delete($);(L=this.http2Servers.get(W))===null||L===void 0||L.sessions.delete($)})}}_channelzSessionHandler(W){return($)=>{var G,Q,U,z;let H=(0,R8.registerChannelzSocket)((Q=(G=$.socket)===null||G===void 0?void 0:G.remoteAddress)!==null&&Q!==void 0?Q:"unknown",this.getChannelzSessionInfo.bind(this,$),this.channelzEnabled),O={ref:H,streamTracker:new R8.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};(U=this.http2Servers.get(W))===null||U===void 0||U.sessions.add($),this.sessions.set($,O);let K=`${$.socket.remoteAddress}:${$.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+K),this.trace("Connection established by client "+K),this.sessionChildrenTracker.refChild(H);let B=null,F=null,V=null,I=!1,D=this.enableIdleTimeout($);if(this.maxConnectionAgeMs!==BK){let N=this.maxConnectionAgeMs/10,v=Math.random()*N*2-N;B=setTimeout(()=>{var j;I=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+K);try{$.goaway(c9.constants.NGHTTP2_NO_ERROR,2147483647,E70)}catch(M){$.destroy();return}if($.close(),this.maxConnectionAgeGraceMs!==BK)F=setTimeout(()=>{$.destroy()},this.maxConnectionAgeGraceMs),(j=F.unref)===null||j===void 0||j.call(F)},this.maxConnectionAgeMs+v),(z=B.unref)===null||z===void 0||z.call(B)}let L=()=>{if(V)clearTimeout(V),V=null},A=()=>{return!$.destroyed&&this.keepaliveTimeMs<es&&this.keepaliveTimeMs>0},P,R=()=>{var N;if(!A())return;this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),V=setTimeout(()=>{L(),P()},this.keepaliveTimeMs),(N=V.unref)===null||N===void 0||N.call(V)};P=()=>{var N;if(!A())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let v="";try{if(!$.ping((M,b,k)=>{if(L(),M)this.keepaliveTrace("Ping failed with error: "+M.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+M.message+" return in "+b),I=!0,$.destroy();else this.keepaliveTrace("Received ping response"),R()}))v="Ping returned false"}catch(j){v=(j instanceof Error?j.message:"")||"Unknown error"}if(v){this.keepaliveTrace("Ping send failed: "+v),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+v),I=!0,$.destroy();return}O.keepAlivesSent+=1,V=setTimeout(()=>{L(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+K),I=!0,$.destroy()},this.keepaliveTimeoutMs),(N=V.unref)===null||N===void 0||N.call(V)},R(),$.on("close",()=>{var N;if(!I)this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+K);if(this.sessionChildrenTracker.unrefChild(H),(0,R8.unregisterChannelzRef)(H),B)clearTimeout(B);if(F)clearTimeout(F);if(L(),D!==null)clearTimeout(D.timeout),this.sessionIdleTimeouts.delete($);(N=this.http2Servers.get(W))===null||N===void 0||N.sessions.delete($),this.sessions.delete($)})}}enableIdleTimeout(W){var $,G;if(this.sessionIdleTimeout>=L70)return null;let Q={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,W),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,W)};(G=($=Q.timeout).unref)===null||G===void 0||G.call($),this.sessionIdleTimeouts.set(W,Q);let{socket:U}=W;return this.trace("Enable idle timeout for "+U.remoteAddress+":"+U.remotePort),Q}onIdleTimeout(W,$){let{socket:G}=$,Q=W.sessionIdleTimeouts.get($);if(Q!==void 0&&Q.activeStreams===0)if(Date.now()-Q.lastIdle>=W.sessionIdleTimeout)W.trace("Session idle timeout triggered for "+(G===null||G===void 0?void 0:G.remoteAddress)+":"+(G===null||G===void 0?void 0:G.remotePort)+" last idle at "+Q.lastIdle),W.closeSession($);else Q.timeout.refresh()}onStreamOpened(W){let $=W.session,G=this.sessionIdleTimeouts.get($);if(G)G.activeStreams+=1,W.once("close",G.onClose)}onStreamClose(W){var $,G;let Q=this.sessionIdleTimeouts.get(W);if(Q){if(Q.activeStreams-=1,Q.activeStreams===0)Q.lastIdle=Date.now(),Q.timeout.refresh(),this.trace("Session onStreamClose"+(($=W.socket)===null||$===void 0?void 0:$.remoteAddress)+":"+((G=W.socket)===null||G===void 0?void 0:G.remotePort)+" at "+Q.lastIdle)}}},(()=>{let Z=typeof Symbol==="function"&&Symbol.metadata?Object.create(null):void 0;if(X=[vs4("Calling start() is no longer necessary. It can be safely omitted.")],js4(Y,null,X,{kind:"method",name:"start",static:!1,private:!1,access:{has:(W)=>("start"in W),get:(W)=>W.start},metadata:Z},null,J),Z)Object.defineProperty(Y,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:Z})})(),Y})();D$.Server=bs4;async function ys4(Y,J){let X;function Z(G,Q,U,z){if(G){Y.sendStatus((0,FK.serverErrorToStatus)(G,U));return}Y.sendMessage(Q,()=>{Y.sendStatus({code:p6.Status.OK,details:"OK",metadata:U!==null&&U!==void 0?U:null})})}let W,$=null;Y.start({onReceiveMetadata(G){W=G,Y.startRead()},onReceiveMessage(G){if($){Y.sendStatus({code:p6.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${J.path}`,metadata:null});return}$=G,Y.startRead()},onReceiveHalfClose(){if(!$){Y.sendStatus({code:p6.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${J.path}`,metadata:null});return}X=new FK.ServerWritableStreamImpl(J.path,Y,W,$);try{J.func(X,Z)}catch(G){Y.sendStatus({code:p6.Status.UNKNOWN,details:`Server method handler threw error ${G.message}`,metadata:null})}},onCancel(){if(X)X.cancelled=!0,X.emit("cancelled","cancelled")}})}function gs4(Y,J){let X;function Z(W,$,G,Q){if(W){Y.sendStatus((0,FK.serverErrorToStatus)(W,G));return}Y.sendMessage($,()=>{Y.sendStatus({code:p6.Status.OK,details:"OK",metadata:G!==null&&G!==void 0?G:null})})}Y.start({onReceiveMetadata(W){X=new FK.ServerDuplexStreamImpl(J.path,Y,W);try{J.func(X,Z)}catch($){Y.sendStatus({code:p6.Status.UNKNOWN,details:`Server method handler threw error ${$.message}`,metadata:null})}},onReceiveMessage(W){X.push(W)},onReceiveHalfClose(){X.push(null)},onCancel(){if(X)X.cancelled=!0,X.emit("cancelled","cancelled"),X.destroy()}})}function us4(Y,J){let X,Z,W=null;Y.start({onReceiveMetadata($){Z=$,Y.startRead()},onReceiveMessage($){if(W){Y.sendStatus({code:p6.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${J.path}`,metadata:null});return}W=$,Y.startRead()},onReceiveHalfClose(){if(!W){Y.sendStatus({code:p6.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${J.path}`,metadata:null});return}X=new FK.ServerWritableStreamImpl(J.path,Y,Z,W);try{J.func(X)}catch($){Y.sendStatus({code:p6.Status.UNKNOWN,details:`Server method handler threw error ${$.message}`,metadata:null})}},onCancel(){if(X)X.cancelled=!0,X.emit("cancelled","cancelled"),X.destroy()}})}function ms4(Y,J){let X;Y.start({onReceiveMetadata(Z){X=new FK.ServerDuplexStreamImpl(J.path,Y,Z);try{J.func(X)}catch(W){Y.sendStatus({code:p6.Status.UNKNOWN,details:`Server method handler threw error ${W.message}`,metadata:null})}},onReceiveMessage(Z){X.push(Z)},onReceiveHalfClose(){X.push(null)},onCancel(){if(X)X.cancelled=!0,X.emit("cancelled","cancelled"),X.destroy()}})}});var j70=q((S70)=>{Object.defineProperty(S70,"__esModule",{value:!0});S70.StatusBuilder=void 0;class N70{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(Y){return this.code=Y,this}withDetails(Y){return this.details=Y,this}withMetadata(Y){return this.metadata=Y,this}build(){let Y={};if(this.code!==null)Y.code=this.code;if(this.details!==null)Y.details=this.details;if(this.metadata!==null)Y.metadata=this.metadata;return Y}}S70.StatusBuilder=N70});var TD=q((y70)=>{Object.defineProperty(y70,"__esModule",{value:!0});y70.LeafLoadBalancer=y70.PickFirstLoadBalancer=y70.PickFirstLoadBalancingConfig=void 0;y70.shuffled=v70;y70.setup=rs4;var Jt=$$(),n6=K9(),w$=HZ(),k70=u9(),ds4=u4(),cs4=v0(),_70=u9(),x70=C("net"),ls4=aQ(),ps4="pick_first";function MD(Y){ds4.trace(cs4.LogVerbosity.DEBUG,ps4,Y)}var ED="pick_first",ns4=250;class VK{constructor(Y){this.shuffleAddressList=Y}getLoadBalancerName(){return ED}toJsonObject(){return{[ED]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(Y){if("shuffleAddressList"in Y&&typeof Y.shuffleAddressList!=="boolean")throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new VK(Y.shuffleAddressList===!0)}}y70.PickFirstLoadBalancingConfig=VK;class f70{constructor(Y){this.subchannel=Y}pick(Y){return{pickResultType:w$.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function v70(Y){let J=Y.slice();for(let X=J.length-1;X>1;X--){let Z=Math.floor(Math.random()*(X+1)),W=J[X];J[X]=J[Z],J[Z]=W}return J}function is4(Y){if(Y.length===0)return[];let J=[],X=[],Z=[],W=(0,_70.isTcpSubchannelAddress)(Y[0])&&(0,x70.isIPv6)(Y[0].host);for(let Q of Y)if((0,_70.isTcpSubchannelAddress)(Q)&&(0,x70.isIPv6)(Q.host))X.push(Q);else Z.push(Q);let $=W?X:Z,G=W?Z:X;for(let Q=0;Q<Math.max($.length,G.length);Q++){if(Q<$.length)J.push($[Q]);if(Q<G.length)J.push(G[Q])}return J}var h70="grpc-node.internal.pick-first.report_health_status";class DS{constructor(Y){this.channelControlHelper=Y,this.children=[],this.currentState=n6.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(J,X,Z,W,$)=>{this.onSubchannelStateUpdate(J,X,Z,$)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.stickyTransientFailureMode=!1,this.reportHealthStatus=!1,this.lastError=null,this.latestAddressList=null,this.latestOptions={},this.latestResolutionNote="",this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every((Y)=>Y.hasReportedTransientFailure)}resetChildrenReportedTF(){this.children.every((Y)=>Y.hasReportedTransientFailure=!1)}calculateAndReportNewState(){var Y;if(this.currentPick)if(this.reportHealthStatus&&!this.currentPick.isHealthy()){let J=`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`;this.updateState(n6.ConnectivityState.TRANSIENT_FAILURE,new w$.UnavailablePicker({details:J}),J)}else this.updateState(n6.ConnectivityState.READY,new f70(this.currentPick),null);else if(((Y=this.latestAddressList)===null||Y===void 0?void 0:Y.length)===0){let J=`No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;this.updateState(n6.ConnectivityState.TRANSIENT_FAILURE,new w$.UnavailablePicker({details:J}),J)}else if(this.children.length===0)this.updateState(n6.ConnectivityState.IDLE,new w$.QueuePicker(this),null);else if(this.stickyTransientFailureMode){let J=`No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;this.updateState(n6.ConnectivityState.TRANSIENT_FAILURE,new w$.UnavailablePicker({details:J}),J)}else this.updateState(n6.ConnectivityState.CONNECTING,new w$.QueuePicker(this),null)}requestReresolution(){this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(!this.allChildrenHaveReportedTF())return;if(this.requestReresolution(),this.resetChildrenReportedTF(),this.stickyTransientFailureMode){this.calculateAndReportNewState();return}this.stickyTransientFailureMode=!0;for(let{subchannel:Y}of this.children)Y.startConnecting();this.calculateAndReportNewState()}removeCurrentPick(){if(this.currentPick!==null)this.currentPick.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick.unref(),this.currentPick=null}onSubchannelStateUpdate(Y,J,X,Z){var W;if((W=this.currentPick)===null||W===void 0?void 0:W.realSubchannelEquals(Y)){if(X!==n6.ConnectivityState.READY)this.removeCurrentPick(),this.calculateAndReportNewState();return}for(let[$,G]of this.children.entries())if(Y.realSubchannelEquals(G.subchannel)){if(X===n6.ConnectivityState.READY)this.pickSubchannel(G.subchannel);if(X===n6.ConnectivityState.TRANSIENT_FAILURE){if(G.hasReportedTransientFailure=!0,Z)this.lastError=Z;if(this.maybeEnterStickyTransientFailureMode(),$===this.currentSubchannelIndex)this.startNextSubchannelConnecting($+1)}G.subchannel.startConnecting();return}}startNextSubchannelConnecting(Y){clearTimeout(this.connectionDelayTimeout);for(let[J,X]of this.children.entries())if(J>=Y){let Z=X.subchannel.getConnectivityState();if(Z===n6.ConnectivityState.IDLE||Z===n6.ConnectivityState.CONNECTING){this.startConnecting(J);return}}this.maybeEnterStickyTransientFailureMode()}startConnecting(Y){var J,X;if(clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=Y,this.children[Y].subchannel.getConnectivityState()===n6.ConnectivityState.IDLE)MD("Start connecting to subchannel with address "+this.children[Y].subchannel.getAddress()),process.nextTick(()=>{var Z;(Z=this.children[Y])===null||Z===void 0||Z.subchannel.startConnecting()});this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(Y+1)},ns4),(X=(J=this.connectionDelayTimeout).unref)===null||X===void 0||X.call(J)}pickSubchannel(Y){MD("Pick subchannel with address "+Y.getAddress()),this.stickyTransientFailureMode=!1,Y.ref(),this.channelControlHelper.addChannelzChild(Y.getChannelzRef()),this.removeCurrentPick(),this.resetSubchannelList(),Y.addConnectivityStateListener(this.subchannelStateListener),Y.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick=Y,clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState()}updateState(Y,J,X){MD(n6.ConnectivityState[this.currentState]+" -> "+n6.ConnectivityState[Y]),this.currentState=Y,this.channelControlHelper.updateState(Y,J,X)}resetSubchannelList(){for(let Y of this.children)Y.subchannel.removeConnectivityStateListener(this.subchannelStateListener),Y.subchannel.unref(),this.channelControlHelper.removeChannelzChild(Y.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[]}connectToAddressList(Y,J){MD("connectToAddressList(["+Y.map((Z)=>(0,k70.subchannelAddressToString)(Z))+"])");let X=Y.map((Z)=>({subchannel:this.channelControlHelper.createSubchannel(Z,J),hasReportedTransientFailure:!1}));for(let{subchannel:Z}of X)if(Z.getConnectivityState()===n6.ConnectivityState.READY){this.pickSubchannel(Z);return}for(let{subchannel:Z}of X)Z.ref(),this.channelControlHelper.addChannelzChild(Z.getChannelzRef());this.resetSubchannelList(),this.children=X;for(let{subchannel:Z}of this.children)Z.addConnectivityStateListener(this.subchannelStateListener);for(let Z of this.children)if(Z.subchannel.getConnectivityState()===n6.ConnectivityState.TRANSIENT_FAILURE)Z.hasReportedTransientFailure=!0;this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(Y,J,X,Z){if(!(J instanceof VK))return!1;if(!Y.ok){if(this.children.length===0&&this.currentPick===null)this.channelControlHelper.updateState(n6.ConnectivityState.TRANSIENT_FAILURE,new w$.UnavailablePicker(Y.error),Y.error.details);return!0}let W=Y.value;if(this.reportHealthStatus=X[h70],J.getShuffleAddressList())W=v70(W);let $=[].concat(...W.map((Q)=>Q.addresses));MD("updateAddressList(["+$.map((Q)=>(0,k70.subchannelAddressToString)(Q))+"])");let G=is4($);if(this.latestAddressList=G,this.latestOptions=X,this.connectToAddressList(G,X),this.latestResolutionNote=Z,$.length>0)return!0;else return this.lastError="No addresses resolved",!1}exitIdle(){if(this.currentState===n6.ConnectivityState.IDLE&&this.latestAddressList)this.connectToAddressList(this.latestAddressList,this.latestOptions)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return ED}}y70.PickFirstLoadBalancer=DS;var os4=new VK(!1);class b70{constructor(Y,J,X,Z){this.endpoint=Y,this.options=X,this.resolutionNote=Z,this.latestState=n6.ConnectivityState.IDLE;let W=(0,Jt.createChildChannelControlHelper)(J,{updateState:($,G,Q)=>{this.latestState=$,this.latestPicker=G,J.updateState($,G,Q)}});this.pickFirstBalancer=new DS(W),this.latestPicker=new w$.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList((0,ls4.statusOrFromValue)([this.endpoint]),os4,Object.assign(Object.assign({},this.options),{[h70]:!0}),this.resolutionNote)}updateEndpoint(Y,J){if(this.options=J,this.endpoint=Y,this.latestState!==n6.ConnectivityState.IDLE)this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}}y70.LeafLoadBalancer=b70;function rs4(){(0,Jt.registerLoadBalancerType)(ED,DS,VK),(0,Jt.registerDefaultLoadBalancerType)(ED)}});var c70=q((m70)=>{Object.defineProperty(m70,"__esModule",{value:!0});m70.FileWatcherCertificateProvider=void 0;var Yt4=C("fs"),Jt4=u4(),Xt4=v0(),Zt4=C("util"),Wt4="certificate_provider";function wS(Y){Jt4.trace(Xt4.LogVerbosity.DEBUG,Wt4,Y)}var Xt=(0,Zt4.promisify)(Yt4.readFile);class u70{constructor(Y){if(this.config=Y,this.refreshTimer=null,this.fileResultPromise=null,this.latestCaUpdate=void 0,this.caListeners=new Set,this.latestIdentityUpdate=void 0,this.identityListeners=new Set,this.lastUpdateTime=null,Y.certificateFile===void 0!==(Y.privateKeyFile===void 0))throw Error("certificateFile and privateKeyFile must be set or unset together");if(Y.certificateFile===void 0&&Y.caCertificateFile===void 0)throw Error("At least one of certificateFile and caCertificateFile must be set");wS("File watcher constructed with config "+JSON.stringify(Y))}updateCertificates(){if(this.fileResultPromise)return;this.fileResultPromise=Promise.allSettled([this.config.certificateFile?Xt(this.config.certificateFile):Promise.reject(),this.config.privateKeyFile?Xt(this.config.privateKeyFile):Promise.reject(),this.config.caCertificateFile?Xt(this.config.caCertificateFile):Promise.reject()]),this.fileResultPromise.then(([Y,J,X])=>{if(!this.refreshTimer)return;if(wS("File watcher read certificates certificate "+Y.status+", privateKey "+J.status+", CA certificate "+X.status),this.lastUpdateTime=new Date,this.fileResultPromise=null,Y.status==="fulfilled"&&J.status==="fulfilled")this.latestIdentityUpdate={certificate:Y.value,privateKey:J.value};else this.latestIdentityUpdate=null;if(X.status==="fulfilled")this.latestCaUpdate={caCertificate:X.value};else this.latestCaUpdate=null;for(let Z of this.identityListeners)Z(this.latestIdentityUpdate);for(let Z of this.caListeners)Z(this.latestCaUpdate)}),wS("File watcher initiated certificate update")}maybeStartWatchingFiles(){if(!this.refreshTimer){let Y=this.lastUpdateTime?new Date().getTime()-this.lastUpdateTime.getTime():1/0;if(Y>this.config.refreshIntervalMs)this.updateCertificates();if(Y>this.config.refreshIntervalMs*2)this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0;this.refreshTimer=setInterval(()=>this.updateCertificates(),this.config.refreshIntervalMs),wS("File watcher started watching")}}maybeStopWatchingFiles(){if(this.caListeners.size===0&&this.identityListeners.size===0){if(this.fileResultPromise=null,this.refreshTimer)clearInterval(this.refreshTimer),this.refreshTimer=null}}addCaCertificateListener(Y){if(this.caListeners.add(Y),this.maybeStartWatchingFiles(),this.latestCaUpdate!==void 0)process.nextTick(Y,this.latestCaUpdate)}removeCaCertificateListener(Y){this.caListeners.delete(Y),this.maybeStopWatchingFiles()}addIdentityCertificateListener(Y){if(this.identityListeners.add(Y),this.maybeStartWatchingFiles(),this.latestIdentityUpdate!==void 0)process.nextTick(Y,this.latestIdentityUpdate)}removeIdentityCertificateListener(Y){this.identityListeners.delete(Y),this.maybeStopWatchingFiles()}}m70.FileWatcherCertificateProvider=u70});var $t=q((m0)=>{Object.defineProperty(m0,"__esModule",{value:!0});m0.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=m0.createCertificateProviderChannelCredentials=m0.FileWatcherCertificateProvider=m0.createCertificateProviderServerCredentials=m0.createServerCredentialsWithInterceptors=m0.BaseSubchannelWrapper=m0.registerAdminService=m0.FilterStackFactory=m0.BaseFilter=m0.statusOrFromError=m0.statusOrFromValue=m0.PickResultType=m0.QueuePicker=m0.UnavailablePicker=m0.ChildLoadBalancerHandler=m0.EndpointMap=m0.endpointHasAddress=m0.endpointToString=m0.subchannelAddressToString=m0.LeafLoadBalancer=m0.isLoadBalancerNameRegistered=m0.parseLoadBalancingConfig=m0.selectLbConfigFromList=m0.registerLoadBalancerType=m0.createChildChannelControlHelper=m0.BackoffTimeout=m0.parseDuration=m0.durationToMs=m0.splitHostPort=m0.uriToString=m0.CHANNEL_ARGS_CONFIG_SELECTOR_KEY=m0.createResolver=m0.registerResolver=m0.log=m0.trace=void 0;var l70=u4();Object.defineProperty(m0,"trace",{enumerable:!0,get:function(){return l70.trace}});Object.defineProperty(m0,"log",{enumerable:!0,get:function(){return l70.log}});var Zt=ZJ();Object.defineProperty(m0,"registerResolver",{enumerable:!0,get:function(){return Zt.registerResolver}});Object.defineProperty(m0,"createResolver",{enumerable:!0,get:function(){return Zt.createResolver}});Object.defineProperty(m0,"CHANNEL_ARGS_CONFIG_SELECTOR_KEY",{enumerable:!0,get:function(){return Zt.CHANNEL_ARGS_CONFIG_SELECTOR_KEY}});var p70=O9();Object.defineProperty(m0,"uriToString",{enumerable:!0,get:function(){return p70.uriToString}});Object.defineProperty(m0,"splitHostPort",{enumerable:!0,get:function(){return p70.splitHostPort}});var n70=LD();Object.defineProperty(m0,"durationToMs",{enumerable:!0,get:function(){return n70.durationToMs}});Object.defineProperty(m0,"parseDuration",{enumerable:!0,get:function(){return n70.parseDuration}});var $t4=nO();Object.defineProperty(m0,"BackoffTimeout",{enumerable:!0,get:function(){return $t4.BackoffTimeout}});var RD=$$();Object.defineProperty(m0,"createChildChannelControlHelper",{enumerable:!0,get:function(){return RD.createChildChannelControlHelper}});Object.defineProperty(m0,"registerLoadBalancerType",{enumerable:!0,get:function(){return RD.registerLoadBalancerType}});Object.defineProperty(m0,"selectLbConfigFromList",{enumerable:!0,get:function(){return RD.selectLbConfigFromList}});Object.defineProperty(m0,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return RD.parseLoadBalancingConfig}});Object.defineProperty(m0,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return RD.isLoadBalancerNameRegistered}});var Gt4=TD();Object.defineProperty(m0,"LeafLoadBalancer",{enumerable:!0,get:function(){return Gt4.LeafLoadBalancer}});var AS=u9();Object.defineProperty(m0,"subchannelAddressToString",{enumerable:!0,get:function(){return AS.subchannelAddressToString}});Object.defineProperty(m0,"endpointToString",{enumerable:!0,get:function(){return AS.endpointToString}});Object.defineProperty(m0,"endpointHasAddress",{enumerable:!0,get:function(){return AS.endpointHasAddress}});Object.defineProperty(m0,"EndpointMap",{enumerable:!0,get:function(){return AS.EndpointMap}});var Qt4=qN();Object.defineProperty(m0,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return Qt4.ChildLoadBalancerHandler}});var Wt=HZ();Object.defineProperty(m0,"UnavailablePicker",{enumerable:!0,get:function(){return Wt.UnavailablePicker}});Object.defineProperty(m0,"QueuePicker",{enumerable:!0,get:function(){return Wt.QueuePicker}});Object.defineProperty(m0,"PickResultType",{enumerable:!0,get:function(){return Wt.PickResultType}});var i70=aQ();Object.defineProperty(m0,"statusOrFromValue",{enumerable:!0,get:function(){return i70.statusOrFromValue}});Object.defineProperty(m0,"statusOrFromError",{enumerable:!0,get:function(){return i70.statusOrFromError}});var Ut4=Is();Object.defineProperty(m0,"BaseFilter",{enumerable:!0,get:function(){return Ut4.BaseFilter}});var zt4=eN();Object.defineProperty(m0,"FilterStackFactory",{enumerable:!0,get:function(){return zt4.FilterStackFactory}});var Ht4=VN();Object.defineProperty(m0,"registerAdminService",{enumerable:!0,get:function(){return Ht4.registerAdminService}});var Ot4=AD();Object.defineProperty(m0,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return Ot4.BaseSubchannelWrapper}});var o70=KS();Object.defineProperty(m0,"createServerCredentialsWithInterceptors",{enumerable:!0,get:function(){return o70.createServerCredentialsWithInterceptors}});Object.defineProperty(m0,"createCertificateProviderServerCredentials",{enumerable:!0,get:function(){return o70.createCertificateProviderServerCredentials}});var Kt4=c70();Object.defineProperty(m0,"FileWatcherCertificateProvider",{enumerable:!0,get:function(){return Kt4.FileWatcherCertificateProvider}});var Bt4=pO();Object.defineProperty(m0,"createCertificateProviderChannelCredentials",{enumerable:!0,get:function(){return Bt4.createCertificateProviderChannelCredentials}});var qt4=ys();Object.defineProperty(m0,"SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX",{enumerable:!0,get:function(){return qt4.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX}})});var s70=q((a70)=>{Object.defineProperty(a70,"__esModule",{value:!0});a70.setup=Dt4;var Vt4=ZJ(),It4=aQ();class r70{constructor(Y,J,X){this.listener=J,this.hasReturnedResult=!1,this.endpoints=[];let Z;if(Y.authority==="")Z="/"+Y.path;else Z=Y.path;this.endpoints=[{addresses:[{path:Z}]}]}updateResolution(){if(!this.hasReturnedResult)this.hasReturnedResult=!0,process.nextTick(this.listener,(0,It4.statusOrFromValue)(this.endpoints),{},null,"")}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(Y){return"localhost"}}function Dt4(){(0,Vt4.registerResolver)("unix",r70)}});var WY0=q((ZY0)=>{Object.defineProperty(ZY0,"__esModule",{value:!0});ZY0.setup=Et4;var t70=C("net"),e70=aQ(),PS=v0(),Gt=i8(),YY0=ZJ(),At4=u9(),JY0=O9(),Pt4=u4(),Lt4="ip_resolver";function XY0(Y){Pt4.trace(PS.LogVerbosity.DEBUG,Lt4,Y)}var Qt="ipv4",Ut="ipv6",Mt4=443;class zt{constructor(Y,J,X){var Z;this.listener=J,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,XY0("Resolver constructed for target "+(0,JY0.uriToString)(Y));let W=[];if(!(Y.scheme===Qt||Y.scheme===Ut)){this.error={code:PS.Status.UNAVAILABLE,details:`Unrecognized scheme ${Y.scheme} in IP resolver`,metadata:new Gt.Metadata};return}let $=Y.path.split(",");for(let G of $){let Q=(0,JY0.splitHostPort)(G);if(Q===null){this.error={code:PS.Status.UNAVAILABLE,details:`Failed to parse ${Y.scheme} address ${G}`,metadata:new Gt.Metadata};return}if(Y.scheme===Qt&&!(0,t70.isIPv4)(Q.host)||Y.scheme===Ut&&!(0,t70.isIPv6)(Q.host)){this.error={code:PS.Status.UNAVAILABLE,details:`Failed to parse ${Y.scheme} address ${G}`,metadata:new Gt.Metadata};return}W.push({host:Q.host,port:(Z=Q.port)!==null&&Z!==void 0?Z:Mt4})}this.endpoints=W.map((G)=>({addresses:[G]})),XY0("Parsed "+Y.scheme+" address list "+W.map(At4.subchannelAddressToString))}updateResolution(){if(!this.hasReturnedResult)this.hasReturnedResult=!0,process.nextTick(()=>{if(this.error)this.listener((0,e70.statusOrFromError)(this.error),{},null,"");else this.listener((0,e70.statusOrFromValue)(this.endpoints),{},null,"")})}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(Y){return Y.path.split(",")[0]}}function Et4(){(0,YY0.registerResolver)(Qt,zt),(0,YY0.registerResolver)(Ut,zt)}});var OY0=q((zY0)=>{Object.defineProperty(zY0,"__esModule",{value:!0});zY0.RoundRobinLoadBalancer=void 0;zY0.setup=kt4;var QY0=$$(),A5=K9(),ND=HZ(),Rt4=u4(),Nt4=v0(),$Y0=u9(),St4=TD(),Ct4="round_robin";function GY0(Y){Rt4.trace(Nt4.LogVerbosity.DEBUG,Ct4,Y)}var LS="round_robin";class MS{getLoadBalancerName(){return LS}constructor(){}toJsonObject(){return{[LS]:{}}}static createFromJson(Y){return new MS}}class UY0{constructor(Y,J=0){this.children=Y,this.nextIndex=J}pick(Y){let J=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,J.pick(Y)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}}function jt4(Y,J){return[...Y.slice(J),...Y.slice(0,J)]}class Ht{constructor(Y){this.channelControlHelper=Y,this.children=[],this.currentState=A5.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,QY0.createChildChannelControlHelper)(Y,{updateState:(J,X,Z)=>{if(this.currentState===A5.ConnectivityState.READY&&J!==A5.ConnectivityState.READY)this.channelControlHelper.requestReresolution();if(Z)this.lastError=Z;this.calculateAndUpdateState()}})}countChildrenWithState(Y){return this.children.filter((J)=>J.getConnectivityState()===Y).length}calculateAndUpdateState(){if(this.updatesPaused)return;if(this.countChildrenWithState(A5.ConnectivityState.READY)>0){let Y=this.children.filter((X)=>X.getConnectivityState()===A5.ConnectivityState.READY),J=0;if(this.currentReadyPicker!==null){let X=this.currentReadyPicker.peekNextEndpoint();if(J=Y.findIndex((Z)=>(0,$Y0.endpointEqual)(Z.getEndpoint(),X)),J<0)J=0}this.updateState(A5.ConnectivityState.READY,new UY0(Y.map((X)=>({endpoint:X.getEndpoint(),picker:X.getPicker()})),J),null)}else if(this.countChildrenWithState(A5.ConnectivityState.CONNECTING)>0)this.updateState(A5.ConnectivityState.CONNECTING,new ND.QueuePicker(this),null);else if(this.countChildrenWithState(A5.ConnectivityState.TRANSIENT_FAILURE)>0){let Y=`round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(A5.ConnectivityState.TRANSIENT_FAILURE,new ND.UnavailablePicker({details:Y}),Y)}else this.updateState(A5.ConnectivityState.IDLE,new ND.QueuePicker(this),null);for(let Y of this.children)if(Y.getConnectivityState()===A5.ConnectivityState.IDLE)Y.exitIdle()}updateState(Y,J,X){if(GY0(A5.ConnectivityState[this.currentState]+" -> "+A5.ConnectivityState[Y]),Y===A5.ConnectivityState.READY)this.currentReadyPicker=J;else this.currentReadyPicker=null;this.currentState=Y,this.channelControlHelper.updateState(Y,J,X)}resetSubchannelList(){for(let Y of this.children)Y.destroy();this.children=[]}updateAddressList(Y,J,X,Z){if(!(J instanceof MS))return!1;if(!Y.ok){if(this.children.length===0)this.updateState(A5.ConnectivityState.TRANSIENT_FAILURE,new ND.UnavailablePicker(Y.error),Y.error.details);return!0}let W=Math.random()*Y.value.length|0,$=jt4(Y.value,W);if(this.resetSubchannelList(),$.length===0){let G=`No addresses resolved. Resolution note: ${Z}`;this.updateState(A5.ConnectivityState.TRANSIENT_FAILURE,new ND.UnavailablePicker({details:G}),G)}GY0("Connect to endpoint list "+$.map($Y0.endpointToString)),this.updatesPaused=!0,this.children=$.map((G)=>new St4.LeafLoadBalancer(G,this.childChannelControlHelper,X,Z));for(let G of this.children)G.startConnecting();return this.updatesPaused=!1,this.calculateAndUpdateState(),!0}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return LS}}zY0.RoundRobinLoadBalancer=Ht;function kt4(){(0,QY0.registerLoadBalancerType)(LS,Ht,MS)}});var wY0=q((IY0)=>{var Ot;Object.defineProperty(IY0,"__esModule",{value:!0});IY0.OutlierDetectionLoadBalancer=IY0.OutlierDetectionLoadBalancingConfig=void 0;IY0.setup=ct4;var xt4=K9(),KY0=v0(),zU=LD(),BY0=$t(),ft4=$$(),vt4=qN(),ht4=HZ(),Kt=u9(),bt4=AD(),yt4=u4(),gt4="outlier_detection";function s8(Y){yt4.trace(KY0.LogVerbosity.DEBUG,gt4,Y)}var Ft="outlier_detection",ut4=((Ot=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&Ot!==void 0?Ot:"true")==="true",mt4={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},dt4={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function IK(Y,J,X,Z){if(J in Y&&Y[J]!==void 0&&typeof Y[J]!==X){let W=Z?`${Z}.${J}`:J;throw Error(`outlier detection config ${W} parse error: expected ${X}, got ${typeof Y[J]}`)}}function Bt(Y,J,X){let Z=X?`${X}.${J}`:J;if(J in Y&&Y[J]!==void 0){if(!(0,zU.isDuration)(Y[J]))throw Error(`outlier detection config ${Z} parse error: expected Duration, got ${typeof Y[J]}`);if(!(Y[J].seconds>=0&&Y[J].seconds<=315576000000&&Y[J].nanos>=0&&Y[J].nanos<=999999999))throw Error(`outlier detection config ${Z} parse error: values out of range for non-negative Duaration`)}}function ES(Y,J,X){let Z=X?`${X}.${J}`:J;if(IK(Y,J,"number",X),J in Y&&Y[J]!==void 0&&!(Y[J]>=0&&Y[J]<=100))throw Error(`outlier detection config ${Z} parse error: value out of range for percentage (0-100)`)}class SD{constructor(Y,J,X,Z,W,$,G){if(this.childPolicy=G,G.getLoadBalancerName()==="pick_first")throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=Y!==null&&Y!==void 0?Y:1e4,this.baseEjectionTimeMs=J!==null&&J!==void 0?J:30000,this.maxEjectionTimeMs=X!==null&&X!==void 0?X:300000,this.maxEjectionPercent=Z!==null&&Z!==void 0?Z:10,this.successRateEjection=W?Object.assign(Object.assign({},mt4),W):null,this.failurePercentageEjection=$?Object.assign(Object.assign({},dt4),$):null}getLoadBalancerName(){return Ft}toJsonObject(){var Y,J;return{outlier_detection:{interval:(0,zU.msToDuration)(this.intervalMs),base_ejection_time:(0,zU.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,zU.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:(Y=this.successRateEjection)!==null&&Y!==void 0?Y:void 0,failure_percentage_ejection:(J=this.failurePercentageEjection)!==null&&J!==void 0?J:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(Y){var J;if(Bt(Y,"interval"),Bt(Y,"base_ejection_time"),Bt(Y,"max_ejection_time"),ES(Y,"max_ejection_percent"),"success_rate_ejection"in Y&&Y.success_rate_ejection!==void 0){if(typeof Y.success_rate_ejection!=="object")throw Error("outlier detection config success_rate_ejection must be an object");IK(Y.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),ES(Y.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),IK(Y.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),IK(Y.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in Y&&Y.failure_percentage_ejection!==void 0){if(typeof Y.failure_percentage_ejection!=="object")throw Error("outlier detection config failure_percentage_ejection must be an object");ES(Y.failure_percentage_ejection,"threshold","failure_percentage_ejection"),ES(Y.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),IK(Y.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),IK(Y.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in Y)||!Array.isArray(Y.child_policy))throw Error("outlier detection config child_policy must be an array");let X=(0,ft4.selectLbConfigFromList)(Y.child_policy);if(!X)throw Error("outlier detection config child_policy: no valid recognized policy found");return new SD(Y.interval?(0,zU.durationToMs)(Y.interval):null,Y.base_ejection_time?(0,zU.durationToMs)(Y.base_ejection_time):null,Y.max_ejection_time?(0,zU.durationToMs)(Y.max_ejection_time):null,(J=Y.max_ejection_percent)!==null&&J!==void 0?J:null,Y.success_rate_ejection,Y.failure_percentage_ejection,X)}}IY0.OutlierDetectionLoadBalancingConfig=SD;class qY0 extends bt4.BaseSubchannelWrapper{constructor(Y,J){super(Y);this.mapEntry=J,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0){if(this.mapEntry){let Y=this.mapEntry.subchannelWrappers.indexOf(this);if(Y>=0)this.mapEntry.subchannelWrappers.splice(Y,1)}}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function qt(){return{success:0,failure:0}}class FY0{constructor(){this.activeBucket=qt(),this.inactiveBucket=qt()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=qt()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class VY0{constructor(Y,J){this.wrappedPicker=Y,this.countCalls=J}pick(Y){let J=this.wrappedPicker.pick(Y);if(J.pickResultType===ht4.PickResultType.COMPLETE){let X=J.subchannel,Z=X.getMapEntry();if(Z){let W=J.onCallEnded;if(this.countCalls)W=($,G,Q)=>{var U;if($===KY0.Status.OK)Z.counter.addSuccess();else Z.counter.addFailure();(U=J.onCallEnded)===null||U===void 0||U.call(J,$,G,Q)};return Object.assign(Object.assign({},J),{subchannel:X.getWrappedSubchannel(),onCallEnded:W})}else return Object.assign(Object.assign({},J),{subchannel:X.getWrappedSubchannel()})}else return J}}class Vt{constructor(Y){this.entryMap=new Kt.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new vt4.ChildLoadBalancerHandler((0,BY0.createChildChannelControlHelper)(Y,{createSubchannel:(J,X)=>{let Z=Y.createSubchannel(J,X),W=this.entryMap.getForSubchannelAddress(J),$=new qY0(Z,W);if((W===null||W===void 0?void 0:W.currentEjectionTimestamp)!==null)$.eject();return W===null||W===void 0||W.subchannelWrappers.push($),$},updateState:(J,X,Z)=>{if(J===xt4.ConnectivityState.READY)Y.updateState(J,new VY0(X,this.isCountingEnabled()),Z);else Y.updateState(J,X,Z)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let Y=0;for(let J of this.entryMap.values())if(J.currentEjectionTimestamp!==null)Y+=1;return Y*100/this.entryMap.size}runSuccessRateCheck(Y){if(!this.latestConfig)return;let J=this.latestConfig.getSuccessRateEjectionConfig();if(!J)return;s8("Running success rate check");let X=J.request_volume,Z=0,W=[];for(let[H,O]of this.entryMap.entries()){let K=O.counter.getLastSuccesses(),B=O.counter.getLastFailures();if(s8("Stats for "+(0,Kt.endpointToString)(H)+": successes="+K+" failures="+B+" targetRequestVolume="+X),K+B>=X)Z+=1,W.push(K/(K+B))}if(s8("Found "+Z+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+W+"]"),Z<J.minimum_hosts)return;let $=W.reduce((H,O)=>H+O)/W.length,G=0;for(let H of W){let O=H-$;G+=O*O}let Q=G/W.length,U=Math.sqrt(Q),z=$-U*(J.stdev_factor/1000);s8("stdev="+U+" ejectionThreshold="+z);for(let[H,O]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let K=O.counter.getLastSuccesses(),B=O.counter.getLastFailures();if(K+B<X)continue;let F=K/(K+B);if(s8("Checking candidate "+H+" successRate="+F),F<z){let V=Math.random()*100;if(s8("Candidate "+H+" randomNumber="+V+" enforcement_percentage="+J.enforcement_percentage),V<J.enforcement_percentage)s8("Ejecting candidate "+H),this.eject(O,Y)}}}runFailurePercentageCheck(Y){if(!this.latestConfig)return;let J=this.latestConfig.getFailurePercentageEjectionConfig();if(!J)return;s8("Running failure percentage check. threshold="+J.threshold+" request volume threshold="+J.request_volume);let X=0;for(let Z of this.entryMap.values()){let W=Z.counter.getLastSuccesses(),$=Z.counter.getLastFailures();if(W+$>=J.request_volume)X+=1}if(X<J.minimum_hosts)return;for(let[Z,W]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let $=W.counter.getLastSuccesses(),G=W.counter.getLastFailures();if(s8("Candidate successes="+$+" failures="+G),$+G<J.request_volume)continue;if(G*100/(G+$)>J.threshold){let U=Math.random()*100;if(s8("Candidate "+Z+" randomNumber="+U+" enforcement_percentage="+J.enforcement_percentage),U<J.enforcement_percentage)s8("Ejecting candidate "+Z),this.eject(W,Y)}}}eject(Y,J){Y.currentEjectionTimestamp=new Date,Y.ejectionTimeMultiplier+=1;for(let X of Y.subchannelWrappers)X.eject()}uneject(Y){Y.currentEjectionTimestamp=null;for(let J of Y.subchannelWrappers)J.uneject()}switchAllBuckets(){for(let Y of this.entryMap.values())Y.counter.switchBuckets()}startTimer(Y){var J,X;this.ejectionTimer=setTimeout(()=>this.runChecks(),Y),(X=(J=this.ejectionTimer).unref)===null||X===void 0||X.call(J)}runChecks(){let Y=new Date;if(s8("Ejection timer running"),this.switchAllBuckets(),!this.latestConfig)return;this.timerStartTime=Y,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(Y),this.runFailurePercentageCheck(Y);for(let[J,X]of this.entryMap.entries())if(X.currentEjectionTimestamp===null){if(X.ejectionTimeMultiplier>0)X.ejectionTimeMultiplier-=1}else{let Z=this.latestConfig.getBaseEjectionTimeMs(),W=this.latestConfig.getMaxEjectionTimeMs(),$=new Date(X.currentEjectionTimestamp.getTime());if($.setMilliseconds($.getMilliseconds()+Math.min(Z*X.ejectionTimeMultiplier,Math.max(Z,W))),$<new Date)s8("Unejecting "+J),this.uneject(X)}}updateAddressList(Y,J,X,Z){if(!(J instanceof SD))return!1;if(s8("Received update with config: "+JSON.stringify(J.toJsonObject(),void 0,2)),Y.ok){for(let $ of Y.value)if(!this.entryMap.has($))s8("Adding map entry for "+(0,Kt.endpointToString)($)),this.entryMap.set($,{counter:new FY0,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]});this.entryMap.deleteMissing(Y.value)}let W=J.getChildPolicy();if(this.childBalancer.updateAddressList(Y,W,X,Z),J.getSuccessRateEjectionConfig()||J.getFailurePercentageEjectionConfig())if(this.timerStartTime){s8("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let $=J.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer($)}else s8("Starting new timer"),this.timerStartTime=new Date,this.startTimer(J.getIntervalMs()),this.switchAllBuckets();else{s8("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let $ of this.entryMap.values())this.uneject($),$.ejectionTimeMultiplier=0}return this.latestConfig=J,!0}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return Ft}}IY0.OutlierDetectionLoadBalancer=Vt;function ct4(){if(ut4)(0,BY0.registerLoadBalancerType)(Ft,Vt,SD)}});var MY0=q((PY0)=>{Object.defineProperty(PY0,"__esModule",{value:!0});PY0.PriorityQueue=void 0;var DK=0,It=(Y)=>Math.floor(Y/2),TS=(Y)=>Y*2+1,CD=(Y)=>Y*2+2;class AY0{constructor(Y=(J,X)=>J>X){this.comparator=Y,this.heap=[]}size(){return this.heap.length}isEmpty(){return this.size()==0}peek(){return this.heap[DK]}push(...Y){return Y.forEach((J)=>{this.heap.push(J),this.siftUp()}),this.size()}pop(){let Y=this.peek(),J=this.size()-1;if(J>DK)this.swap(DK,J);return this.heap.pop(),this.siftDown(),Y}replace(Y){let J=this.peek();return this.heap[DK]=Y,this.siftDown(),J}greater(Y,J){return this.comparator(this.heap[Y],this.heap[J])}swap(Y,J){[this.heap[Y],this.heap[J]]=[this.heap[J],this.heap[Y]]}siftUp(){let Y=this.size()-1;while(Y>DK&&this.greater(Y,It(Y)))this.swap(Y,It(Y)),Y=It(Y)}siftDown(){let Y=DK;while(TS(Y)<this.size()&&this.greater(TS(Y),Y)||CD(Y)<this.size()&&this.greater(CD(Y),Y)){let J=CD(Y)<this.size()&&this.greater(CD(Y),TS(Y))?CD(Y):TS(Y);this.swap(Y,J),Y=J}}}PY0.PriorityQueue=AY0});var _Y0=q((jY0)=>{Object.defineProperty(jY0,"__esModule",{value:!0});jY0.WeightedRoundRobinLoadBalancingConfig=void 0;jY0.setup=Xe4;var t8=K9(),nt4=v0(),w7=LD(),RY0=$$(),it4=TD(),ot4=u4(),NY0=qS(),wK=HZ(),rt4=MY0(),EY0=u9(),at4="weighted_round_robin";function Dt(Y){ot4.trace(nt4.LogVerbosity.DEBUG,at4,Y)}var wt="weighted_round_robin",st4=1e4,tt4=1e4,et4=180000,Ye4=1000,Je4=1;function TY0(Y,J,X){if(J in Y&&Y[J]!==void 0&&typeof Y[J]!==X)throw Error(`weighted round robin config ${J} parse error: expected ${X}, got ${typeof Y[J]}`)}function RS(Y,J){if(J in Y&&Y[J]!==void 0&&Y[J]!==null){let X;if((0,w7.isDuration)(Y[J]))X=Y[J];else if((0,w7.isDurationMessage)(Y[J]))X=(0,w7.durationMessageToDuration)(Y[J]);else if(typeof Y[J]==="string"){let Z=(0,w7.parseDuration)(Y[J]);if(!Z)throw Error(`weighted round robin config ${J}: failed to parse duration string ${Y[J]}`);X=Z}else throw Error(`weighted round robin config ${J}: expected duration, got ${typeof Y[J]}`);return(0,w7.durationToMs)(X)}return null}class jD{constructor(Y,J,X,Z,W,$){this.enableOobLoadReport=Y!==null&&Y!==void 0?Y:!1,this.oobLoadReportingPeriodMs=J!==null&&J!==void 0?J:st4,this.blackoutPeriodMs=X!==null&&X!==void 0?X:tt4,this.weightExpirationPeriodMs=Z!==null&&Z!==void 0?Z:et4,this.weightUpdatePeriodMs=Math.max(W!==null&&W!==void 0?W:Ye4,100),this.errorUtilizationPenalty=$!==null&&$!==void 0?$:Je4}getLoadBalancerName(){return wt}toJsonObject(){return{enable_oob_load_report:this.enableOobLoadReport,oob_load_reporting_period:(0,w7.durationToString)((0,w7.msToDuration)(this.oobLoadReportingPeriodMs)),blackout_period:(0,w7.durationToString)((0,w7.msToDuration)(this.blackoutPeriodMs)),weight_expiration_period:(0,w7.durationToString)((0,w7.msToDuration)(this.weightExpirationPeriodMs)),weight_update_period:(0,w7.durationToString)((0,w7.msToDuration)(this.weightUpdatePeriodMs)),error_utilization_penalty:this.errorUtilizationPenalty}}static createFromJson(Y){if(TY0(Y,"enable_oob_load_report","boolean"),TY0(Y,"error_utilization_penalty","number"),Y.error_utilization_penalty<0)throw Error("weighted round robin config error_utilization_penalty < 0");return new jD(Y.enable_oob_load_report,RS(Y,"oob_load_reporting_period"),RS(Y,"blackout_period"),RS(Y,"weight_expiration_period"),RS(Y,"weight_update_period"),Y.error_utilization_penalty)}getEnableOobLoadReport(){return this.enableOobLoadReport}getOobLoadReportingPeriodMs(){return this.oobLoadReportingPeriodMs}getBlackoutPeriodMs(){return this.blackoutPeriodMs}getWeightExpirationPeriodMs(){return this.weightExpirationPeriodMs}getWeightUpdatePeriodMs(){return this.weightUpdatePeriodMs}getErrorUtilizationPenalty(){return this.errorUtilizationPenalty}}jY0.WeightedRoundRobinLoadBalancingConfig=jD;class SY0{constructor(Y,J){this.metricsHandler=J,this.queue=new rt4.PriorityQueue((W,$)=>W.deadline<$.deadline);let X=Y.filter((W)=>W.weight>0),Z;if(X.length<2)Z=1;else{let W=0;for(let{weight:$}of X)W+=$;Z=W/X.length}for(let W of Y){let $=W.weight>0?1/W.weight:Z;this.queue.push({endpointName:W.endpointName,picker:W.picker,period:$,deadline:Math.random()*$})}}pick(Y){let J=this.queue.pop();this.queue.push(Object.assign(Object.assign({},J),{deadline:J.deadline+J.period}));let X=J.picker.pick(Y);if(X.pickResultType===wK.PickResultType.COMPLETE)if(this.metricsHandler)return Object.assign(Object.assign({},X),{onCallEnded:(0,NY0.createMetricsReader)((Z)=>this.metricsHandler(Z,J.endpointName),X.onCallEnded)});else{let Z=X.subchannel;return Object.assign(Object.assign({},X),{subchannel:Z.getWrappedSubchannel()})}else return X}}class CY0{constructor(Y){this.channelControlHelper=Y,this.latestConfig=null,this.children=new Map,this.currentState=t8.ConnectivityState.IDLE,this.updatesPaused=!1,this.lastError=null,this.weightUpdateTimer=null}countChildrenWithState(Y){let J=0;for(let X of this.children.values())if(X.child.getConnectivityState()===Y)J+=1;return J}updateWeight(Y,J){var X,Z;let{rps_fractional:W,application_utilization:$}=J;if($>0&&W>0)$+=J.eps/W*((Z=(X=this.latestConfig)===null||X===void 0?void 0:X.getErrorUtilizationPenalty())!==null&&Z!==void 0?Z:0);let G=$===0?0:W/$;if(G===0)return;let Q=new Date;if(Y.nonEmptySince===null)Y.nonEmptySince=Q;Y.lastUpdated=Q,Y.weight=G}getWeight(Y){if(!this.latestConfig)return 0;let J=new Date().getTime();if(J-Y.lastUpdated.getTime()>=this.latestConfig.getWeightExpirationPeriodMs())return Y.nonEmptySince=null,0;let X=this.latestConfig.getBlackoutPeriodMs();if(X>0&&(Y.nonEmptySince===null||J-Y.nonEmptySince.getTime()<X))return 0;return Y.weight}calculateAndUpdateState(){if(this.updatesPaused||!this.latestConfig)return;if(this.countChildrenWithState(t8.ConnectivityState.READY)>0){let Y=[];for(let[X,Z]of this.children){if(Z.child.getConnectivityState()!==t8.ConnectivityState.READY)continue;Y.push({endpointName:X,picker:Z.child.getPicker(),weight:this.getWeight(Z)})}Dt("Created picker with weights: "+Y.map((X)=>X.endpointName+":"+X.weight).join(","));let J;if(!this.latestConfig.getEnableOobLoadReport())J=(X,Z)=>{let W=this.children.get(Z);if(W)this.updateWeight(W,X)};else J=null;this.updateState(t8.ConnectivityState.READY,new SY0(Y,J),null)}else if(this.countChildrenWithState(t8.ConnectivityState.CONNECTING)>0)this.updateState(t8.ConnectivityState.CONNECTING,new wK.QueuePicker(this),null);else if(this.countChildrenWithState(t8.ConnectivityState.TRANSIENT_FAILURE)>0){let Y=`weighted_round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(t8.ConnectivityState.TRANSIENT_FAILURE,new wK.UnavailablePicker({details:Y}),Y)}else this.updateState(t8.ConnectivityState.IDLE,new wK.QueuePicker(this),null);for(let{child:Y}of this.children.values())if(Y.getConnectivityState()===t8.ConnectivityState.IDLE)Y.exitIdle()}updateState(Y,J,X){Dt(t8.ConnectivityState[this.currentState]+" -> "+t8.ConnectivityState[Y]),this.currentState=Y,this.channelControlHelper.updateState(Y,J,X)}updateAddressList(Y,J,X,Z){var W,$;if(!(J instanceof jD))return!1;if(!Y.ok){if(this.children.size===0)this.updateState(t8.ConnectivityState.TRANSIENT_FAILURE,new wK.UnavailablePicker(Y.error),Y.error.details);return!0}if(Y.value.length===0){let U=`No addresses resolved. Resolution note: ${Z}`;return this.updateState(t8.ConnectivityState.TRANSIENT_FAILURE,new wK.UnavailablePicker({details:U}),U),!1}Dt("Connect to endpoint list "+Y.value.map(EY0.endpointToString));let G=new Date,Q=new Set;this.updatesPaused=!0,this.latestConfig=J;for(let U of Y.value){let z=(0,EY0.endpointToString)(U);Q.add(z);let H=this.children.get(z);if(!H)H={child:new it4.LeafLoadBalancer(U,(0,RY0.createChildChannelControlHelper)(this.channelControlHelper,{updateState:(O,K,B)=>{if(this.currentState===t8.ConnectivityState.READY&&O!==t8.ConnectivityState.READY)this.channelControlHelper.requestReresolution();if(O===t8.ConnectivityState.READY)H.nonEmptySince=null;if(B)this.lastError=B;this.calculateAndUpdateState()},createSubchannel:(O,K)=>{let B=this.channelControlHelper.createSubchannel(O,K);if(H===null||H===void 0?void 0:H.oobMetricsListener)return new NY0.OrcaOobMetricsSubchannelWrapper(B,H.oobMetricsListener,this.latestConfig.getOobLoadReportingPeriodMs());else return B}}),X,Z),lastUpdated:G,nonEmptySince:null,weight:0,oobMetricsListener:null},this.children.set(z,H);if(J.getEnableOobLoadReport())H.oobMetricsListener=(O)=>{this.updateWeight(H,O)};else H.oobMetricsListener=null}for(let[U,z]of this.children)if(Q.has(U))z.child.startConnecting();else z.child.destroy(),this.children.delete(U);if(this.updatesPaused=!1,this.calculateAndUpdateState(),this.weightUpdateTimer)clearInterval(this.weightUpdateTimer);return this.weightUpdateTimer=($=(W=setInterval(()=>{if(this.currentState===t8.ConnectivityState.READY)this.calculateAndUpdateState()},J.getWeightUpdatePeriodMs())).unref)===null||$===void 0?void 0:$.call(W),!0}exitIdle(){}resetBackoff(){}destroy(){for(let Y of this.children.values())Y.child.destroy();if(this.children.clear(),this.weightUpdateTimer)clearInterval(this.weightUpdateTimer)}getTypeName(){return wt}}function Xe4(){(0,RY0.registerLoadBalancerType)(wt,CY0,jD)}});var kD=q((E4)=>{Object.defineProperty(E4,"__esModule",{value:!0});E4.experimental=E4.ServerMetricRecorder=E4.ServerInterceptingCall=E4.ResponderBuilder=E4.ServerListenerBuilder=E4.addAdminServicesToServer=E4.getChannelzHandlers=E4.getChannelzServiceDefinition=E4.InterceptorConfigurationError=E4.InterceptingCall=E4.RequesterBuilder=E4.ListenerBuilder=E4.StatusBuilder=E4.getClientChannel=E4.ServerCredentials=E4.Server=E4.setLogVerbosity=E4.setLogger=E4.load=E4.loadObject=E4.CallCredentials=E4.ChannelCredentials=E4.waitForClientReady=E4.closeClient=E4.Channel=E4.makeGenericClientConstructor=E4.makeClientConstructor=E4.loadPackageDefinition=E4.Client=E4.compressionAlgorithms=E4.propagate=E4.connectivityState=E4.status=E4.logVerbosity=E4.Metadata=E4.credentials=void 0;var NS=GN();Object.defineProperty(E4,"CallCredentials",{enumerable:!0,get:function(){return NS.CallCredentials}});var We4=Ga();Object.defineProperty(E4,"Channel",{enumerable:!0,get:function(){return We4.ChannelImplementation}});var $e4=Vs();Object.defineProperty(E4,"compressionAlgorithms",{enumerable:!0,get:function(){return $e4.CompressionAlgorithms}});var Ge4=K9();Object.defineProperty(E4,"connectivityState",{enumerable:!0,get:function(){return Ge4.ConnectivityState}});var SS=pO();Object.defineProperty(E4,"ChannelCredentials",{enumerable:!0,get:function(){return SS.ChannelCredentials}});var xY0=$a();Object.defineProperty(E4,"Client",{enumerable:!0,get:function(){return xY0.Client}});var At=v0();Object.defineProperty(E4,"logVerbosity",{enumerable:!0,get:function(){return At.LogVerbosity}});Object.defineProperty(E4,"status",{enumerable:!0,get:function(){return At.Status}});Object.defineProperty(E4,"propagate",{enumerable:!0,get:function(){return At.Propagate}});var fY0=u4(),Pt=DN();Object.defineProperty(E4,"loadPackageDefinition",{enumerable:!0,get:function(){return Pt.loadPackageDefinition}});Object.defineProperty(E4,"makeClientConstructor",{enumerable:!0,get:function(){return Pt.makeClientConstructor}});Object.defineProperty(E4,"makeGenericClientConstructor",{enumerable:!0,get:function(){return Pt.makeClientConstructor}});var Qe4=i8();Object.defineProperty(E4,"Metadata",{enumerable:!0,get:function(){return Qe4.Metadata}});var Ue4=R70();Object.defineProperty(E4,"Server",{enumerable:!0,get:function(){return Ue4.Server}});var ze4=KS();Object.defineProperty(E4,"ServerCredentials",{enumerable:!0,get:function(){return ze4.ServerCredentials}});var He4=j70();Object.defineProperty(E4,"StatusBuilder",{enumerable:!0,get:function(){return He4.StatusBuilder}});E4.credentials={combineChannelCredentials:(Y,...J)=>{return J.reduce((X,Z)=>X.compose(Z),Y)},combineCallCredentials:(Y,...J)=>{return J.reduce((X,Z)=>X.compose(Z),Y)},createInsecure:SS.ChannelCredentials.createInsecure,createSsl:SS.ChannelCredentials.createSsl,createFromSecureContext:SS.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:NS.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:NS.CallCredentials.createFromGoogleCredential,createEmpty:NS.CallCredentials.createEmpty};var Oe4=(Y)=>Y.close();E4.closeClient=Oe4;var Ke4=(Y,J,X)=>Y.waitForReady(J,X);E4.waitForClientReady=Ke4;var Be4=(Y,J)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};E4.loadObject=Be4;var qe4=(Y,J,X)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};E4.load=qe4;var Fe4=(Y)=>{fY0.setLogger(Y)};E4.setLogger=Fe4;var Ve4=(Y)=>{fY0.setLoggerVerbosity(Y)};E4.setLogVerbosity=Ve4;var Ie4=(Y)=>{return xY0.Client.prototype.getChannel.call(Y)};E4.getClientChannel=Ie4;var CS=Za();Object.defineProperty(E4,"ListenerBuilder",{enumerable:!0,get:function(){return CS.ListenerBuilder}});Object.defineProperty(E4,"RequesterBuilder",{enumerable:!0,get:function(){return CS.RequesterBuilder}});Object.defineProperty(E4,"InterceptingCall",{enumerable:!0,get:function(){return CS.InterceptingCall}});Object.defineProperty(E4,"InterceptorConfigurationError",{enumerable:!0,get:function(){return CS.InterceptorConfigurationError}});var vY0=q$();Object.defineProperty(E4,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return vY0.getChannelzServiceDefinition}});Object.defineProperty(E4,"getChannelzHandlers",{enumerable:!0,get:function(){return vY0.getChannelzHandlers}});var De4=VN();Object.defineProperty(E4,"addAdminServicesToServer",{enumerable:!0,get:function(){return De4.addAdminServicesToServer}});var Lt=ss();Object.defineProperty(E4,"ServerListenerBuilder",{enumerable:!0,get:function(){return Lt.ServerListenerBuilder}});Object.defineProperty(E4,"ResponderBuilder",{enumerable:!0,get:function(){return Lt.ResponderBuilder}});Object.defineProperty(E4,"ServerInterceptingCall",{enumerable:!0,get:function(){return Lt.ServerInterceptingCall}});var we4=qS();Object.defineProperty(E4,"ServerMetricRecorder",{enumerable:!0,get:function(){return we4.ServerMetricRecorder}});var Ae4=$t();E4.experimental=Ae4;var Pe4=Ns(),Le4=s70(),Me4=WY0(),Ee4=TD(),Te4=OY0(),Re4=wY0(),Ne4=_Y0(),Se4=q$();(()=>{Pe4.setup(),Le4.setup(),Me4.setup(),Ee4.setup(),Te4.setup(),Re4.setup(),Ne4.setup(),Se4.setup()})()});var gY0=q((bY0)=>{Object.defineProperty(bY0,"__esModule",{value:!0});bY0.createServiceClientConstructor=void 0;var be4=kD();function ye4(Y,J){let X={export:{path:Y,requestStream:!1,responseStream:!1,requestSerialize:(Z)=>{return Z},requestDeserialize:(Z)=>{return Z},responseSerialize:(Z)=>{return Z},responseDeserialize:(Z)=>{return Z}}};return be4.makeGenericClientConstructor(X,J)}bY0.createServiceClientConstructor=ye4});var _D=q((mY0)=>{Object.defineProperty(mY0,"__esModule",{value:!0});mY0.createOtlpGrpcExporterTransport=mY0.GrpcExporterTransport=mY0.createEmptyMetadata=mY0.createSslCredentials=mY0.createInsecureCredentials=void 0;var ge4=k10(),uY0=`OTel-OTLP-Exporter-JavaScript/${ge4.VERSION}`;function ue4(Y){if(Y)return`${Y} ${uY0}`;return uY0}var me4=0,de4=2;function ce4(Y){return Y==="gzip"?de4:me4}function le4(){let{credentials:Y}=kD();return Y.createInsecure()}mY0.createInsecureCredentials=le4;function pe4(Y,J,X){let{credentials:Z}=kD();return Z.createSsl(Y,J,X)}mY0.createSslCredentials=pe4;function ne4(){let{Metadata:Y}=kD();return new Y}mY0.createEmptyMetadata=ne4;class Mt{_client;_metadata;_parameters;constructor(Y){this._parameters=Y}shutdown(){this._client?.close()}send(Y,J){let X=Buffer.from(Y);if(this._client==null){let{createServiceClientConstructor:Z}=gY0();try{this._metadata=this._parameters.metadata()}catch($){return Promise.resolve({status:"failure",error:$})}let W=Z(this._parameters.grpcPath,this._parameters.grpcName);try{this._client=new W(this._parameters.address,this._parameters.credentials(),{"grpc.default_compression_algorithm":ce4(this._parameters.compression),"grpc.primary_user_agent":ue4(this._parameters.userAgent)})}catch($){return Promise.resolve({status:"failure",error:$})}}return new Promise((Z)=>{let W=Date.now()+J;if(this._metadata==null)return Z({error:Error("metadata was null"),status:"failure"});this._client.export(X,this._metadata,{deadline:W},($,G)=>{if($)Z({status:"failure",error:$});else Z({data:G,status:"success"})})})}}mY0.GrpcExporterTransport=Mt;function ie4(Y){return new Mt(Y)}mY0.createOtlpGrpcExporterTransport=ie4});var rY0=q((iY0)=>{Object.defineProperty(iY0,"__esModule",{value:!0});iY0.getOtlpGrpcDefaultConfiguration=iY0.mergeOtlpGrpcConfigurationWithDefaults=iY0.validateAndNormalizeUrl=void 0;var pY0=TX(),xD=_D(),te4=C("url"),cY0=t();function nY0(Y){if(Y=Y.trim(),!Y.match(/^([\w]{1,8}):\/\//))Y=`https://${Y}`;let X=new te4.URL(Y);if(X.protocol==="unix:")return Y;if(X.pathname&&X.pathname!=="/")cY0.diag.warn("URL path should not be set when using grpc, the path part of the URL will be ignored.");if(X.protocol!==""&&!X.protocol?.match(/^(http)s?:$/))cY0.diag.warn("URL protocol should be http(s)://. Using http://.");return X.host}iY0.validateAndNormalizeUrl=nY0;function lY0(Y,J){for(let[X,Z]of Object.entries(J.getMap()))if(Y.get(X).length<1)Y.set(X,Z)}function ee4(Y,J,X){let Z=Y.url??J.url??X.url;return{...(0,pY0.mergeOtlpSharedConfigurationWithDefaults)(Y,J,X),metadata:()=>{let W=X.metadata();return lY0(W,Y.metadata?.().clone()??(0,xD.createEmptyMetadata)()),lY0(W,J.metadata?.()??(0,xD.createEmptyMetadata)()),W},url:nY0(Z),credentials:Y.credentials??J.credentials?.(Z)??X.credentials(Z),userAgent:Y.userAgent}}iY0.mergeOtlpGrpcConfigurationWithDefaults=ee4;function Y16(){return{...(0,pY0.getSharedConfigurationDefaults)(),metadata:()=>(0,xD.createEmptyMetadata)(),url:"http://localhost:4317",credentials:(Y)=>{if(Y.startsWith("http://"))return()=>(0,xD.createInsecureCredentials)();else return()=>(0,xD.createSslCredentials)()}}}iY0.getOtlpGrpcDefaultConfiguration=Y16});var XJ0=q((YJ0)=>{Object.defineProperty(YJ0,"__esModule",{value:!0});YJ0.getOtlpGrpcConfigurationFromEnv=void 0;var aY0=k1(),fD=_D(),Z16=$Z(),W16=C("fs"),$16=C("path"),tY0=t();function Et(Y,J){if(Y!=null&&Y!=="")return Y;if(J!=null&&J!=="")return J;return}function G16(Y){let J=process.env[`OTEL_EXPORTER_OTLP_${Y}_HEADERS`]?.trim(),X=process.env.OTEL_EXPORTER_OTLP_HEADERS?.trim(),Z=(0,aY0.parseKeyPairsIntoRecord)(J),W=(0,aY0.parseKeyPairsIntoRecord)(X);if(Object.keys(Z).length===0&&Object.keys(W).length===0)return;let $=Object.assign({},W,Z),G=(0,fD.createEmptyMetadata)();for(let[Q,U]of Object.entries($))G.set(Q,U);return G}function Q16(Y){let J=G16(Y);if(J==null)return;return()=>J}function U16(Y){let J=process.env[`OTEL_EXPORTER_OTLP_${Y}_ENDPOINT`]?.trim(),X=process.env.OTEL_EXPORTER_OTLP_ENDPOINT?.trim();return Et(J,X)}function z16(Y){let J=process.env[`OTEL_EXPORTER_OTLP_${Y}_INSECURE`]?.toLowerCase().trim(),X=process.env.OTEL_EXPORTER_OTLP_INSECURE?.toLowerCase().trim();return Et(J,X)==="true"}function Tt(Y,J,X){let Z=process.env[Y]?.trim(),W=process.env[J]?.trim(),$=Et(Z,W);if($!=null)try{return W16.readFileSync($16.resolve(process.cwd(),$))}catch{tY0.diag.warn(X);return}else return}function H16(Y){return Tt(`OTEL_EXPORTER_OTLP_${Y}_CLIENT_CERTIFICATE`,"OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE","Failed to read client certificate chain file")}function O16(Y){return Tt(`OTEL_EXPORTER_OTLP_${Y}_CLIENT_KEY`,"OTEL_EXPORTER_OTLP_CLIENT_KEY","Failed to read client certificate private key file")}function sY0(Y){return Tt(`OTEL_EXPORTER_OTLP_${Y}_CERTIFICATE`,"OTEL_EXPORTER_OTLP_CERTIFICATE","Failed to read root certificate file")}function eY0(Y){let J=O16(Y),X=H16(Y),Z=sY0(Y),W=J!=null&&X!=null;if(Z!=null&&!W)return tY0.diag.warn("Client key and certificate must both be provided, but one was missing - attempting to create credentials from just the root certificate"),(0,fD.createSslCredentials)(sY0(Y));return(0,fD.createSslCredentials)(Z,J,X)}function K16(Y){if(z16(Y))return(0,fD.createInsecureCredentials)();return eY0(Y)}function B16(Y){return{...(0,Z16.getSharedConfigurationFromEnvironment)(Y),metadata:Q16(Y),url:U16(Y),credentials:(J)=>{if(J.startsWith("http://"))return()=>{return(0,fD.createInsecureCredentials)()};else if(J.startsWith("https://"))return()=>{return eY0(Y)};return()=>{return K16(Y)}}}}YJ0.getOtlpGrpcConfigurationFromEnv=B16});var GJ0=q((WJ0)=>{Object.defineProperty(WJ0,"__esModule",{value:!0});WJ0.convertLegacyOtlpGrpcOptions=void 0;var q16=t(),ZJ0=rY0(),F16=_D(),V16=XJ0();function I16(Y,J){if(Y.headers)q16.diag.warn("Headers cannot be set when using grpc");let X=Y.credentials;return(0,ZJ0.mergeOtlpGrpcConfigurationWithDefaults)({url:Y.url,metadata:()=>{return Y.metadata??(0,F16.createEmptyMetadata)()},compression:Y.compression,timeoutMillis:Y.timeoutMillis,concurrencyLimit:Y.concurrencyLimit,credentials:X!=null?()=>X:void 0,userAgent:Y.userAgent},(0,V16.getOtlpGrpcConfigurationFromEnv)(J),(0,ZJ0.getOtlpGrpcDefaultConfiguration)())}WJ0.convertLegacyOtlpGrpcOptions=I16});var zJ0=q((QJ0)=>{Object.defineProperty(QJ0,"__esModule",{value:!0});QJ0.createOtlpGrpcExportDelegate=void 0;var D16=TX(),w16=_D();function A16(Y,J,X,Z){return(0,D16.createOtlpNetworkExportDelegate)(Y,J,(0,w16.createOtlpGrpcExporterTransport)({address:Y.url,compression:Y.compression,credentials:Y.credentials,metadata:Y.metadata,userAgent:Y.userAgent,grpcName:X,grpcPath:Z}))}QJ0.createOtlpGrpcExportDelegate=A16});var kS=q((jS)=>{Object.defineProperty(jS,"__esModule",{value:!0});jS.createOtlpGrpcExportDelegate=jS.convertLegacyOtlpGrpcOptions=void 0;var P16=GJ0();Object.defineProperty(jS,"convertLegacyOtlpGrpcOptions",{enumerable:!0,get:function(){return P16.convertLegacyOtlpGrpcOptions}});var L16=zJ0();Object.defineProperty(jS,"createOtlpGrpcExportDelegate",{enumerable:!0,get:function(){return L16.createOtlpGrpcExportDelegate}})});var qJ0=q((KJ0)=>{Object.defineProperty(KJ0,"__esModule",{value:!0});KJ0.OTLPLogExporter=void 0;var HJ0=kS(),E16=CX(),T16=TX();class OJ0 extends T16.OTLPExporterBase{constructor(Y={}){super((0,HJ0.createOtlpGrpcExportDelegate)((0,HJ0.convertLegacyOtlpGrpcOptions)(Y,"LOGS"),E16.ProtobufLogsSerializer,"LogsExportService","/opentelemetry.proto.collector.logs.v1.LogsService/Export"))}}KJ0.OTLPLogExporter=OJ0});var FJ0=q((Rt)=>{Object.defineProperty(Rt,"__esModule",{value:!0});Rt.OTLPLogExporter=void 0;var R16=qJ0();Object.defineProperty(Rt,"OTLPLogExporter",{enumerable:!0,get:function(){return R16.OTLPLogExporter}})});var AJ0=q((DJ0)=>{Object.defineProperty(DJ0,"__esModule",{value:!0});DJ0.OTLPLogExporter=void 0;var S16=TX(),C16=CX(),VJ0=$Z();class IJ0 extends S16.OTLPExporterBase{constructor(Y={}){super((0,VJ0.createOtlpHttpExportDelegate)((0,VJ0.convertLegacyHttpOptions)(Y,"LOGS","v1/logs",{"Content-Type":"application/x-protobuf"}),C16.ProtobufLogsSerializer))}}DJ0.OTLPLogExporter=IJ0});var PJ0=q((Nt)=>{Object.defineProperty(Nt,"__esModule",{value:!0});Nt.OTLPLogExporter=void 0;var j16=AJ0();Object.defineProperty(Nt,"OTLPLogExporter",{enumerable:!0,get:function(){return j16.OTLPLogExporter}})});var LJ0=q((St)=>{Object.defineProperty(St,"__esModule",{value:!0});St.OTLPLogExporter=void 0;var _16=PJ0();Object.defineProperty(St,"OTLPLogExporter",{enumerable:!0,get:function(){return _16.OTLPLogExporter}})});var MJ0=q((Ct)=>{Object.defineProperty(Ct,"__esModule",{value:!0});Ct.OTLPLogExporter=void 0;var f16=LJ0();Object.defineProperty(Ct,"OTLPLogExporter",{enumerable:!0,get:function(){return f16.OTLPLogExporter}})});var _t=q((SJ0)=>{Object.defineProperty(SJ0,"__esModule",{value:!0});SJ0.PrometheusSerializer=void 0;var h16=t(),HU=WZ(),EJ0=k1(),TJ0=X0(),b16="otel.scope.schema_url";function xS(Y){return Y.replace(/\\/g,"\\\\").replace(/\n/g,"\\n")}function RJ0(Y=""){if(typeof Y!=="string")Y=JSON.stringify(Y);return xS(Y).replace(/"/g,"\\\"")}var y16=/[^a-z0-9_]/gi,g16=/_{2,}/g;function kt(Y){return Y.replace(y16,"_").replace(g16,"_")}function jt(Y,J){if(!Y.endsWith("_total")&&J.dataPointType===HU.DataPointType.SUM&&J.isMonotonic)Y=Y+"_total";return Y}function u16(Y){if(Y===1/0)return"+Inf";else if(Y===-1/0)return"-Inf";else return`${Y}`}function m16(Y){switch(Y.dataPointType){case HU.DataPointType.SUM:if(Y.isMonotonic)return"counter";return"gauge";case HU.DataPointType.GAUGE:return"gauge";case HU.DataPointType.HISTOGRAM:return"histogram";default:return"untyped"}}function _S(Y,J,X,Z,W){let $=!1,G="";for(let[Q,U]of Object.entries(J)){let z=kt(Q);$=!0,G+=`${G.length>0?",":""}${z}="${RJ0(U)}"`}if(W)for(let[Q,U]of Object.entries(W)){let z=kt(Q);$=!0,G+=`${G.length>0?",":""}${z}="${RJ0(U)}"`}if($)Y+=`{${G}}`;return`${Y} ${u16(X)}${Z!==void 0?" "+String(Z):""}
`}var d16="# no registered metrics";class NJ0{_prefix;_appendTimestamp;_additionalAttributes;_withResourceConstantLabels;_withoutScopeInfo;_withoutTargetInfo;constructor(Y,J=!1,X,Z,W){if(Y)this._prefix=Y+"_";this._appendTimestamp=J,this._withResourceConstantLabels=X,this._withoutScopeInfo=!!W,this._withoutTargetInfo=!!Z}serialize(Y){let J="";this._additionalAttributes=this._filterResourceConstantLabels(Y.resource.attributes,this._withResourceConstantLabels);for(let X of Y.scopeMetrics)J+=this._serializeScopeMetrics(X);if(J==="")J+=d16;return this._serializeResource(Y.resource)+J}_filterResourceConstantLabels(Y,J){if(J){let X={};for(let[Z,W]of Object.entries(Y))if(Z.match(J))X[Z]=W;return X}return}_serializeScopeMetrics(Y){let J="";for(let X of Y.metrics)J+=this._serializeMetricData(X,Y.scope)+`
`;return J}_serializeMetricData(Y,J){let X=kt(xS(Y.descriptor.name));if(this._prefix)X=`${this._prefix}${X}`;let Z=Y.dataPointType;X=jt(X,Y);let W=`# HELP ${X} ${xS(Y.descriptor.description||"description missing")}`,$=Y.descriptor.unit?`
# UNIT ${X} ${xS(Y.descriptor.unit)}`:"",G=`# TYPE ${X} ${m16(Y)}`,Q;if(this._withoutScopeInfo)Q=this._additionalAttributes;else{let z={[TJ0.ATTR_OTEL_SCOPE_NAME]:J.name};if(J.schemaUrl)z[b16]=J.schemaUrl;if(J.version)z[TJ0.ATTR_OTEL_SCOPE_VERSION]=J.version;Q=Object.assign(z,this._additionalAttributes)}let U="";switch(Z){case HU.DataPointType.SUM:case HU.DataPointType.GAUGE:{U=Y.dataPoints.map((z)=>this._serializeSingularDataPoint(X,Y,z,Q)).join("");break}case HU.DataPointType.HISTOGRAM:{U=Y.dataPoints.map((z)=>this._serializeHistogramDataPoint(X,Y,z,Q)).join("");break}default:h16.diag.error(`Unrecognizable DataPointType: ${Z} for metric "${X}"`)}return`${W}${$}
${G}
${U}`.trim()}_serializeSingularDataPoint(Y,J,X,Z){let W="";Y=jt(Y,J);let{value:$,attributes:G}=X,Q=(0,EJ0.hrTimeToMilliseconds)(X.endTime);return W+=_S(Y,G,$,this._appendTimestamp?Q:void 0,Z),W}_serializeHistogramDataPoint(Y,J,X,Z){let W="";Y=jt(Y,J);let{attributes:$,value:G}=X,Q=(0,EJ0.hrTimeToMilliseconds)(X.endTime);for(let O of["count","sum"]){let K=G[O];if(K!=null)W+=_S(Y+"_"+O,$,K,this._appendTimestamp?Q:void 0,Z)}let U=0,z=G.buckets.counts.entries(),H=!1;for(let[O,K]of z){U+=K;let B=G.buckets.boundaries[O];if(B===void 0&&H)break;if(B===1/0)H=!0;W+=_S(Y+"_bucket",$,U,this._appendTimestamp?Q:void 0,Object.assign({},Z,{le:B===void 0||B===1/0?"+Inf":String(B)}))}return W}_serializeResource(Y){if(this._withoutTargetInfo===!0)return"";let J="target_info",X=`# HELP ${J} Target metadata`,Z=`# TYPE ${J} gauge`,W=_S(J,Y.attributes,1).trim();return`${X}
${Z}
${W}
`}}SJ0.PrometheusSerializer=NJ0});var _J0=q((jJ0)=>{Object.defineProperty(jJ0,"__esModule",{value:!0});jJ0.PrometheusExporter=void 0;var vD=t(),c16=k1(),xt=WZ(),l16=C("http"),p16=_t(),n16=C("url");class oX extends xt.MetricReader{static DEFAULT_OPTIONS={host:void 0,port:9464,endpoint:"/metrics",prefix:"",appendTimestamp:!1,withResourceConstantLabels:void 0,withoutScopeInfo:!1,withoutTargetInfo:!1};_host;_port;_baseUrl;_endpoint;_server;_prefix;_appendTimestamp;_serializer;_startServerPromise;constructor(Y={},J=()=>{}){super({aggregationSelector:($)=>{return{type:xt.AggregationType.DEFAULT}},aggregationTemporalitySelector:($)=>xt.AggregationTemporality.CUMULATIVE,metricProducers:Y.metricProducers});this._host=Y.host||process.env.OTEL_EXPORTER_PROMETHEUS_HOST||oX.DEFAULT_OPTIONS.host,this._port=Y.port||Number(process.env.OTEL_EXPORTER_PROMETHEUS_PORT)||oX.DEFAULT_OPTIONS.port,this._prefix=Y.prefix||oX.DEFAULT_OPTIONS.prefix,this._appendTimestamp=typeof Y.appendTimestamp==="boolean"?Y.appendTimestamp:oX.DEFAULT_OPTIONS.appendTimestamp;let X=Y.withResourceConstantLabels||oX.DEFAULT_OPTIONS.withResourceConstantLabels,Z=Y.withoutScopeInfo||oX.DEFAULT_OPTIONS.withoutScopeInfo,W=Y.withoutTargetInfo||oX.DEFAULT_OPTIONS.withoutTargetInfo;if(this._server=(0,l16.createServer)(this._requestHandler).unref(),this._serializer=new p16.PrometheusSerializer(this._prefix,this._appendTimestamp,X,W,Z),this._baseUrl=`http://${this._host}:${this._port}/`,this._endpoint=(Y.endpoint||oX.DEFAULT_OPTIONS.endpoint).replace(/^([^/])/,"/$1"),Y.preventServerStart!==!0)this.startServer().then(J,($)=>{vD.diag.error($),J($)});else if(J)queueMicrotask(J)}async onForceFlush(){}onShutdown(){return this.stopServer()}stopServer(){if(!this._server)return vD.diag.debug("Prometheus stopServer() was called but server was never started."),Promise.resolve();else return new Promise((Y)=>{this._server.close((J)=>{if(!J)vD.diag.debug("Prometheus exporter was stopped");else if(J.code!=="ERR_SERVER_NOT_RUNNING")(0,c16.globalErrorHandler)(J);Y()})})}startServer(){return this._startServerPromise??=new Promise((Y,J)=>{this._server.once("error",J),this._server.listen({port:this._port,host:this._host},()=>{vD.diag.debug(`Prometheus exporter server started: ${this._host}:${this._port}/${this._endpoint}`),Y()})}),this._startServerPromise}getMetricsRequestHandler(Y,J){this._exportMetrics(J)}_requestHandler=(Y,J)=>{if(Y.url!=null&&new n16.URL(Y.url,this._baseUrl).pathname===this._endpoint)this._exportMetrics(J);else this._notFound(J)};_exportMetrics=(Y)=>{Y.statusCode=200,Y.setHeader("content-type","text/plain"),this.collect().then((J)=>{let{resourceMetrics:X,errors:Z}=J;if(Z.length)vD.diag.error("PrometheusExporter: metrics collection errors",...Z);Y.end(this._serializer.serialize(X))},(J)=>{Y.end(`# failed to export metrics: ${J}`)})};_notFound=(Y)=>{Y.statusCode=404,Y.end()}}jJ0.PrometheusExporter=oX});var xJ0=q((fS)=>{Object.defineProperty(fS,"__esModule",{value:!0});fS.PrometheusSerializer=fS.PrometheusExporter=void 0;var i16=_J0();Object.defineProperty(fS,"PrometheusExporter",{enumerable:!0,get:function(){return i16.PrometheusExporter}});var o16=_t();Object.defineProperty(fS,"PrometheusSerializer",{enumerable:!0,get:function(){return o16.PrometheusSerializer}})});var yJ0=q((hJ0)=>{Object.defineProperty(hJ0,"__esModule",{value:!0});hJ0.OTLPTraceExporter=void 0;var a16=TX(),s16=CX(),fJ0=$Z();class vJ0 extends a16.OTLPExporterBase{constructor(Y={}){super((0,fJ0.createOtlpHttpExportDelegate)((0,fJ0.convertLegacyHttpOptions)(Y,"TRACES","v1/traces",{"Content-Type":"application/x-protobuf"}),s16.ProtobufTraceSerializer))}}hJ0.OTLPTraceExporter=vJ0});var gJ0=q((ft)=>{Object.defineProperty(ft,"__esModule",{value:!0});ft.OTLPTraceExporter=void 0;var t16=yJ0();Object.defineProperty(ft,"OTLPTraceExporter",{enumerable:!0,get:function(){return t16.OTLPTraceExporter}})});var uJ0=q((vt)=>{Object.defineProperty(vt,"__esModule",{value:!0});vt.OTLPTraceExporter=void 0;var Y06=gJ0();Object.defineProperty(vt,"OTLPTraceExporter",{enumerable:!0,get:function(){return Y06.OTLPTraceExporter}})});var mJ0=q((ht)=>{Object.defineProperty(ht,"__esModule",{value:!0});ht.OTLPTraceExporter=void 0;var X06=uJ0();Object.defineProperty(ht,"OTLPTraceExporter",{enumerable:!0,get:function(){return X06.OTLPTraceExporter}})});var nJ0=q((lJ0)=>{Object.defineProperty(lJ0,"__esModule",{value:!0});lJ0.OTLPTraceExporter=void 0;var dJ0=kS(),W06=CX(),$06=TX();class cJ0 extends $06.OTLPExporterBase{constructor(Y={}){super((0,dJ0.createOtlpGrpcExportDelegate)((0,dJ0.convertLegacyOtlpGrpcOptions)(Y,"TRACES"),W06.ProtobufTraceSerializer,"TraceExportService","/opentelemetry.proto.collector.trace.v1.TraceService/Export"))}}lJ0.OTLPTraceExporter=cJ0});var iJ0=q((bt)=>{Object.defineProperty(bt,"__esModule",{value:!0});bt.OTLPTraceExporter=void 0;var G06=nJ0();Object.defineProperty(bt,"OTLPTraceExporter",{enumerable:!0,get:function(){return G06.OTLPTraceExporter}})});var aJ0=q((oJ0)=>{Object.defineProperty(oJ0,"__esModule",{value:!0});oJ0.prepareSend=void 0;var yt=t(),vS=k1(),U06=C("http"),z06=C("https");function H06(Y,J){let X=new URL(Y),Z=Object.assign({method:"POST",headers:{"Content-Type":"application/json",...J}});return function($,G){if($.length===0)return yt.diag.debug("Zipkin send with empty spans"),G({code:vS.ExportResultCode.SUCCESS});let{request:Q}=X.protocol==="http:"?U06:z06,U=Q(X,Z,(H)=>{let O="";H.on("data",(K)=>{O+=K}),H.on("end",()=>{let K=H.statusCode||0;if(yt.diag.debug(`Zipkin response status code: ${K}, body: ${O}`),K<400)return G({code:vS.ExportResultCode.SUCCESS});else return G({code:vS.ExportResultCode.FAILED,error:Error(`Got unexpected status code from zipkin: ${K}`)})})});U.on("error",(H)=>{return G({code:vS.ExportResultCode.FAILED,error:H})});let z=JSON.stringify($);yt.diag.debug(`Zipkin request payload: ${z}`),U.write(z,"utf8"),U.end()}}oJ0.prepareSend=H06});var sJ0=q((gt)=>{Object.defineProperty(gt,"__esModule",{value:!0});gt.prepareSend=void 0;var O06=aJ0();Object.defineProperty(gt,"prepareSend",{enumerable:!0,get:function(){return O06.prepareSend}})});var mt=q((ut)=>{Object.defineProperty(ut,"__esModule",{value:!0});ut.prepareSend=void 0;var B06=sJ0();Object.defineProperty(ut,"prepareSend",{enumerable:!0,get:function(){return B06.prepareSend}})});var eJ0=q((tJ0)=>{Object.defineProperty(tJ0,"__esModule",{value:!0});tJ0.SpanKind=void 0;var F06;(function(Y){Y.CLIENT="CLIENT",Y.SERVER="SERVER",Y.CONSUMER="CONSUMER",Y.PRODUCER="PRODUCER"})(F06=tJ0.SpanKind||(tJ0.SpanKind={}))});var WX0=q((XX0)=>{Object.defineProperty(XX0,"__esModule",{value:!0});XX0._toZipkinAnnotations=XX0._toZipkinTags=XX0.toZipkinSpan=XX0.defaultStatusErrorTagName=XX0.defaultStatusCodeTagName=void 0;var A$=t(),ct=k1(),hS=eJ0(),V06={[A$.SpanKind.CLIENT]:hS.SpanKind.CLIENT,[A$.SpanKind.SERVER]:hS.SpanKind.SERVER,[A$.SpanKind.CONSUMER]:hS.SpanKind.CONSUMER,[A$.SpanKind.PRODUCER]:hS.SpanKind.PRODUCER,[A$.SpanKind.INTERNAL]:void 0};XX0.defaultStatusCodeTagName="otel.status_code";XX0.defaultStatusErrorTagName="error";function I06(Y,J,X,Z){return{traceId:Y.spanContext().traceId,parentId:Y.parentSpanContext?.spanId,name:Y.name,id:Y.spanContext().spanId,kind:V06[Y.kind],timestamp:(0,ct.hrTimeToMicroseconds)(Y.startTime),duration:Math.round((0,ct.hrTimeToMicroseconds)(Y.duration)),localEndpoint:{serviceName:J},tags:YX0(Y,X,Z),annotations:Y.events.length?JX0(Y.events):void 0}}XX0.toZipkinSpan=I06;function YX0({attributes:Y,resource:J,status:X,droppedAttributesCount:Z,droppedEventsCount:W,droppedLinksCount:$},G,Q){let U={};for(let z of Object.keys(Y))U[z]=String(Y[z]);if(X.code!==A$.SpanStatusCode.UNSET)U[G]=String(A$.SpanStatusCode[X.code]);if(X.code===A$.SpanStatusCode.ERROR&&X.message)U[Q]=X.message;if(Z)U["otel.dropped_attributes_count"]=String(Z);if(W)U["otel.dropped_events_count"]=String(W);if($)U["otel.dropped_links_count"]=String($);return Object.keys(J.attributes).forEach((z)=>U[z]=String(J.attributes[z])),U}XX0._toZipkinTags=YX0;function JX0(Y){return Y.map((J)=>({timestamp:Math.round((0,ct.hrTimeToMicroseconds)(J.time)),value:J.name}))}XX0._toZipkinAnnotations=JX0});var QX0=q(($X0)=>{Object.defineProperty($X0,"__esModule",{value:!0});$X0.prepareGetHeaders=void 0;function L06(Y){return function(){return Y()}}$X0.prepareGetHeaders=L06});var qX0=q((KX0)=>{Object.defineProperty(KX0,"__esModule",{value:!0});KX0.ZipkinExporter=void 0;var UX0=t(),zX0=k1(),HX0=mt(),lt=WX0(),pt=X0(),M06=QX0();class OX0{DEFAULT_SERVICE_NAME="OpenTelemetry Service";_statusCodeTagName;_statusDescriptionTagName;_urlStr;_send;_getHeaders;_serviceName;_isShutdown;_sendingPromises=[];constructor(Y={}){if(this._urlStr=Y.url||((0,zX0.getStringFromEnv)("OTEL_EXPORTER_ZIPKIN_ENDPOINT")??"http://localhost:9411/api/v2/spans"),this._send=(0,HX0.prepareSend)(this._urlStr,Y.headers),this._serviceName=Y.serviceName,this._statusCodeTagName=Y.statusCodeTagName||lt.defaultStatusCodeTagName,this._statusDescriptionTagName=Y.statusDescriptionTagName||lt.defaultStatusErrorTagName,this._isShutdown=!1,typeof Y.getExportRequestHeaders==="function")this._getHeaders=(0,M06.prepareGetHeaders)(Y.getExportRequestHeaders);else this._beforeSend=function(){}}export(Y,J){let X=String(this._serviceName||Y[0].resource.attributes[pt.ATTR_SERVICE_NAME]||this.DEFAULT_SERVICE_NAME);if(UX0.diag.debug("Zipkin exporter export"),this._isShutdown){setTimeout(()=>J({code:zX0.ExportResultCode.FAILED,error:Error("Exporter has been shutdown")}));return}let Z=new Promise(($)=>{this._sendSpans(Y,X,(G)=>{$(),J(G)})});this._sendingPromises.push(Z);let W=()=>{let $=this._sendingPromises.indexOf(Z);this._sendingPromises.splice($,1)};Z.then(W,W)}shutdown(){return UX0.diag.debug("Zipkin exporter shutdown"),this._isShutdown=!0,this.forceFlush()}forceFlush(){return new Promise((Y,J)=>{Promise.all(this._sendingPromises).then(()=>{Y()},J)})}_beforeSend(){if(this._getHeaders)this._send=(0,HX0.prepareSend)(this._urlStr,this._getHeaders())}_sendSpans(Y,J,X){let Z=Y.map((W)=>(0,lt.toZipkinSpan)(W,String(W.attributes[pt.ATTR_SERVICE_NAME]||W.resource.attributes[pt.ATTR_SERVICE_NAME]||J),this._statusCodeTagName,this._statusDescriptionTagName));return this._beforeSend(),this._send(Z,(W)=>{if(X)return X(W)})}}KX0.ZipkinExporter=OX0});var FX0=q((bS)=>{Object.defineProperty(bS,"__esModule",{value:!0});bS.ZipkinExporter=bS.prepareSend=void 0;var E06=mt();Object.defineProperty(bS,"prepareSend",{enumerable:!0,get:function(){return E06.prepareSend}});var T06=qX0();Object.defineProperty(bS,"ZipkinExporter",{enumerable:!0,get:function(){return T06.ZipkinExporter}})});var nt=q((VX0)=>{Object.defineProperty(VX0,"__esModule",{value:!0});VX0.B3_DEBUG_FLAG_KEY=void 0;var N06=t();VX0.B3_DEBUG_FLAG_KEY=(0,N06.createContextKey)("OpenTelemetry Context Key B3 Debug Flag")});var hD=q((DX0)=>{Object.defineProperty(DX0,"__esModule",{value:!0});DX0.X_B3_FLAGS=DX0.X_B3_PARENT_SPAN_ID=DX0.X_B3_SAMPLED=DX0.X_B3_SPAN_ID=DX0.X_B3_TRACE_ID=DX0.B3_CONTEXT_HEADER=void 0;DX0.B3_CONTEXT_HEADER="b3";DX0.X_B3_TRACE_ID="x-b3-traceid";DX0.X_B3_SPAN_ID="x-b3-spanid";DX0.X_B3_SAMPLED="x-b3-sampled";DX0.X_B3_PARENT_SPAN_ID="x-b3-parentspanid";DX0.X_B3_FLAGS="x-b3-flags"});var TX0=q((MX0)=>{Object.defineProperty(MX0,"__esModule",{value:!0});MX0.B3MultiPropagator=void 0;var KJ=t(),x06=k1(),AX0=nt(),A7=hD(),f06=new Set([!0,"true","True","1",1]),v06=new Set([!1,"false","False","0",0]);function h06(Y){return Y===KJ.TraceFlags.SAMPLED||Y===KJ.TraceFlags.NONE}function b06(Y){return Array.isArray(Y)?Y[0]:Y}function yS(Y,J,X){let Z=J.get(Y,X);return b06(Z)}function y06(Y,J){let X=yS(Y,J,A7.X_B3_TRACE_ID);if(typeof X==="string")return X.padStart(32,"0");return""}function g06(Y,J){let X=yS(Y,J,A7.X_B3_SPAN_ID);if(typeof X==="string")return X;return""}function PX0(Y,J){return yS(Y,J,A7.X_B3_FLAGS)==="1"?"1":void 0}function u06(Y,J){let X=yS(Y,J,A7.X_B3_SAMPLED);if(PX0(Y,J)==="1"||f06.has(X))return KJ.TraceFlags.SAMPLED;if(X===void 0||v06.has(X))return KJ.TraceFlags.NONE;return}class LX0{inject(Y,J,X){let Z=KJ.trace.getSpanContext(Y);if(!Z||!(0,KJ.isSpanContextValid)(Z)||(0,x06.isTracingSuppressed)(Y))return;let W=Y.getValue(AX0.B3_DEBUG_FLAG_KEY);if(X.set(J,A7.X_B3_TRACE_ID,Z.traceId),X.set(J,A7.X_B3_SPAN_ID,Z.spanId),W==="1")X.set(J,A7.X_B3_FLAGS,W);else if(Z.traceFlags!==void 0)X.set(J,A7.X_B3_SAMPLED,(KJ.TraceFlags.SAMPLED&Z.traceFlags)===KJ.TraceFlags.SAMPLED?"1":"0")}extract(Y,J,X){let Z=y06(J,X),W=g06(J,X),$=u06(J,X),G=PX0(J,X);if((0,KJ.isValidTraceId)(Z)&&(0,KJ.isValidSpanId)(W)&&h06($))return Y=Y.setValue(AX0.B3_DEBUG_FLAG_KEY,G),KJ.trace.setSpanContext(Y,{traceId:Z,spanId:W,isRemote:!0,traceFlags:$});return Y}fields(){return[A7.X_B3_TRACE_ID,A7.X_B3_SPAN_ID,A7.X_B3_FLAGS,A7.X_B3_SAMPLED,A7.X_B3_PARENT_SPAN_ID]}}MX0.B3MultiPropagator=LX0});var jX0=q((SX0)=>{Object.defineProperty(SX0,"__esModule",{value:!0});SX0.B3SinglePropagator=void 0;var OU=t(),m06=k1(),RX0=nt(),it=hD(),d06=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,c06="0".repeat(16),l06=new Set(["d","1"]),p06="d";function n06(Y){return Y.length===32?Y:`${c06}${Y}`}function i06(Y){if(Y&&l06.has(Y))return OU.TraceFlags.SAMPLED;return OU.TraceFlags.NONE}class NX0{inject(Y,J,X){let Z=OU.trace.getSpanContext(Y);if(!Z||!(0,OU.isSpanContextValid)(Z)||(0,m06.isTracingSuppressed)(Y))return;let W=Y.getValue(RX0.B3_DEBUG_FLAG_KEY)||Z.traceFlags&1,$=`${Z.traceId}-${Z.spanId}-${W}`;X.set(J,it.B3_CONTEXT_HEADER,$)}extract(Y,J,X){let Z=X.get(J,it.B3_CONTEXT_HEADER),W=Array.isArray(Z)?Z[0]:Z;if(typeof W!=="string")return Y;let $=W.match(d06);if(!$)return Y;let[,G,Q,U]=$,z=n06(G);if(!(0,OU.isValidTraceId)(z)||!(0,OU.isValidSpanId)(Q))return Y;let H=i06(U);if(U===p06)Y=Y.setValue(RX0.B3_DEBUG_FLAG_KEY,U);return OU.trace.setSpanContext(Y,{traceId:z,spanId:Q,isRemote:!0,traceFlags:H})}fields(){return[it.B3_CONTEXT_HEADER]}}SX0.B3SinglePropagator=NX0});var rt=q((kX0)=>{Object.defineProperty(kX0,"__esModule",{value:!0});kX0.B3InjectEncoding=void 0;var o06;(function(Y){Y[Y.SINGLE_HEADER=0]="SINGLE_HEADER",Y[Y.MULTI_HEADER=1]="MULTI_HEADER"})(o06=kX0.B3InjectEncoding||(kX0.B3InjectEncoding={}))});var vX0=q((xX0)=>{Object.defineProperty(xX0,"__esModule",{value:!0});xX0.B3Propagator=void 0;var r06=k1(),a06=TX0(),s06=jX0(),t06=hD(),e06=rt();class _X0{_b3MultiPropagator=new a06.B3MultiPropagator;_b3SinglePropagator=new s06.B3SinglePropagator;_inject;_fields;constructor(Y={}){if(Y.injectEncoding===e06.B3InjectEncoding.MULTI_HEADER)this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields();else this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields()}inject(Y,J,X){if((0,r06.isTracingSuppressed)(Y))return;this._inject(Y,J,X)}extract(Y,J,X){let Z=X.get(J,t06.B3_CONTEXT_HEADER);if(Array.isArray(Z)?Z[0]:Z)return this._b3SinglePropagator.extract(Y,J,X);else return this._b3MultiPropagator.extract(Y,J,X)}fields(){return this._fields}}xX0.B3Propagator=_X0});var hX0=q((rX)=>{Object.defineProperty(rX,"__esModule",{value:!0});rX.B3InjectEncoding=rX.X_B3_TRACE_ID=rX.X_B3_SPAN_ID=rX.X_B3_SAMPLED=rX.X_B3_PARENT_SPAN_ID=rX.X_B3_FLAGS=rX.B3_CONTEXT_HEADER=rX.B3Propagator=void 0;var Y46=vX0();Object.defineProperty(rX,"B3Propagator",{enumerable:!0,get:function(){return Y46.B3Propagator}});var AK=hD();Object.defineProperty(rX,"B3_CONTEXT_HEADER",{enumerable:!0,get:function(){return AK.B3_CONTEXT_HEADER}});Object.defineProperty(rX,"X_B3_FLAGS",{enumerable:!0,get:function(){return AK.X_B3_FLAGS}});Object.defineProperty(rX,"X_B3_PARENT_SPAN_ID",{enumerable:!0,get:function(){return AK.X_B3_PARENT_SPAN_ID}});Object.defineProperty(rX,"X_B3_SAMPLED",{enumerable:!0,get:function(){return AK.X_B3_SAMPLED}});Object.defineProperty(rX,"X_B3_SPAN_ID",{enumerable:!0,get:function(){return AK.X_B3_SPAN_ID}});Object.defineProperty(rX,"X_B3_TRACE_ID",{enumerable:!0,get:function(){return AK.X_B3_TRACE_ID}});var J46=rt();Object.defineProperty(rX,"B3InjectEncoding",{enumerable:!0,get:function(){return J46.B3InjectEncoding}})});var mX0=q((yX0)=>{Object.defineProperty(yX0,"__esModule",{value:!0});yX0.JaegerPropagator=yX0.UBER_BAGGAGE_HEADER_PREFIX=yX0.UBER_TRACE_ID_HEADER=void 0;var KU=t(),Z46=k1();yX0.UBER_TRACE_ID_HEADER="uber-trace-id";yX0.UBER_BAGGAGE_HEADER_PREFIX="uberctx";class bX0{_jaegerTraceHeader;_jaegerBaggageHeaderPrefix;constructor(Y){if(typeof Y==="string")this._jaegerTraceHeader=Y,this._jaegerBaggageHeaderPrefix=yX0.UBER_BAGGAGE_HEADER_PREFIX;else this._jaegerTraceHeader=Y?.customTraceHeader||yX0.UBER_TRACE_ID_HEADER,this._jaegerBaggageHeaderPrefix=Y?.customBaggageHeaderPrefix||yX0.UBER_BAGGAGE_HEADER_PREFIX}inject(Y,J,X){let Z=KU.trace.getSpanContext(Y),W=KU.propagation.getBaggage(Y);if(Z&&(0,Z46.isTracingSuppressed)(Y)===!1){let $=`0${(Z.traceFlags||KU.TraceFlags.NONE).toString(16)}`;X.set(J,this._jaegerTraceHeader,`${Z.traceId}:${Z.spanId}:0:${$}`)}if(W)for(let[$,G]of W.getAllEntries())X.set(J,`${this._jaegerBaggageHeaderPrefix}-${$}`,encodeURIComponent(G.value))}extract(Y,J,X){let Z=X.get(J,this._jaegerTraceHeader),W=Array.isArray(Z)?Z[0]:Z,$=X.keys(J).filter((U)=>U.startsWith(`${this._jaegerBaggageHeaderPrefix}-`)).map((U)=>{let z=X.get(J,U);return{key:U.substring(this._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(z)?z[0]:z}}),G=Y;if(typeof W==="string"){let U=$46(W);if(U)G=KU.trace.setSpanContext(G,U)}if($.length===0)return G;let Q=KU.propagation.getBaggage(Y)??KU.propagation.createBaggage();for(let U of $){if(U.value===void 0)continue;Q=Q.setEntry(U.key,{value:decodeURIComponent(U.value)})}return G=KU.propagation.setBaggage(G,Q),G}fields(){return[this._jaegerTraceHeader]}}yX0.JaegerPropagator=bX0;var W46=/^[0-9a-f]{1,2}$/i;function $46(Y){let J=decodeURIComponent(Y).split(":");if(J.length!==4)return null;let[X,Z,,W]=J,$=X.padStart(32,"0"),G=Z.padStart(16,"0"),Q=W46.test(W)?parseInt(W,16)&1:1;return{traceId:$,spanId:G,isRemote:!0,traceFlags:Q}}});var dX0=q((bD)=>{Object.defineProperty(bD,"__esModule",{value:!0});bD.UBER_TRACE_ID_HEADER=bD.UBER_BAGGAGE_HEADER_PREFIX=bD.JaegerPropagator=void 0;var st=mX0();Object.defineProperty(bD,"JaegerPropagator",{enumerable:!0,get:function(){return st.JaegerPropagator}});Object.defineProperty(bD,"UBER_BAGGAGE_HEADER_PREFIX",{enumerable:!0,get:function(){return st.UBER_BAGGAGE_HEADER_PREFIX}});Object.defineProperty(bD,"UBER_TRACE_ID_HEADER",{enumerable:!0,get:function(){return st.UBER_TRACE_ID_HEADER}})});var iX0=q((pX0)=>{Object.defineProperty(pX0,"__esModule",{value:!0});pX0.OTLPMetricExporter=void 0;var Q46=FI(),cX0=kS(),U46=CX();class lX0 extends Q46.OTLPMetricExporterBase{constructor(Y){super((0,cX0.createOtlpGrpcExportDelegate)((0,cX0.convertLegacyOtlpGrpcOptions)(Y??{},"METRICS"),U46.ProtobufMetricsSerializer,"MetricsExportService","/opentelemetry.proto.collector.metrics.v1.MetricsService/Export"),Y)}}pX0.OTLPMetricExporter=lX0});var oX0=q((tt)=>{Object.defineProperty(tt,"__esModule",{value:!0});tt.OTLPMetricExporter=void 0;var z46=iX0();Object.defineProperty(tt,"OTLPMetricExporter",{enumerable:!0,get:function(){return z46.OTLPMetricExporter}})});var eX0=q((sX0)=>{Object.defineProperty(sX0,"__esModule",{value:!0});sX0.OTLPMetricExporter=void 0;var O46=FI(),K46=CX(),rX0=$Z();class aX0 extends O46.OTLPMetricExporterBase{constructor(Y){super((0,rX0.createOtlpHttpExportDelegate)((0,rX0.convertLegacyHttpOptions)(Y??{},"METRICS","v1/metrics",{"Content-Type":"application/x-protobuf"}),K46.ProtobufMetricsSerializer),Y)}}sX0.OTLPMetricExporter=aX0});var Y30=q((et)=>{Object.defineProperty(et,"__esModule",{value:!0});et.OTLPMetricExporter=void 0;var B46=eX0();Object.defineProperty(et,"OTLPMetricExporter",{enumerable:!0,get:function(){return B46.OTLPMetricExporter}})});var J30=q((Ye)=>{Object.defineProperty(Ye,"__esModule",{value:!0});Ye.OTLPMetricExporter=void 0;var F46=Y30();Object.defineProperty(Ye,"OTLPMetricExporter",{enumerable:!0,get:function(){return F46.OTLPMetricExporter}})});var X30=q((Je)=>{Object.defineProperty(Je,"__esModule",{value:!0});Je.OTLPMetricExporter=void 0;var I46=J30();Object.defineProperty(Je,"OTLPMetricExporter",{enumerable:!0,get:function(){return I46.OTLPMetricExporter}})});var Xe=q((H30)=>{Object.defineProperty(H30,"__esModule",{value:!0});H30.getBatchLogRecordProcessorFromEnv=H30.getBatchLogRecordProcessorConfigFromEnv=H30.getLoggerProviderConfigFromEnv=H30.getOtlpMetricExporterFromEnv=H30.getPeriodicExportingMetricReaderFromEnv=H30.getNonNegativeNumberFromEnv=H30.getKeyListFromObjectArray=H30.setupPropagator=H30.setupDefaultContextManager=H30.setupContextManager=H30.getPropagatorFromConfiguration=H30.getPropagatorFromEnv=H30.getSpanProcessorsFromEnv=H30.getOtlpProtocolFromEnv=H30.getResourceDetectorsFromEnv=void 0;var e8=t(),P5=k1(),Z30=mJ0(),w46=Vo(),A46=iJ0(),P46=FX0(),yD=PX(),gS=iQ(),PK=hX0(),$30=dX0(),G30=Pr(),L46=WZ(),M46=oX0(),E46=FI(),W30=X30(),T46=vI(),R46="env",N46="host",S46="os",C46="process",j46="serviceinstance";function k46(){let Y=new Map([[N46,yD.hostDetector],[S46,yD.osDetector],[j46,yD.serviceInstanceIdDetector],[C46,yD.processDetector],[R46,yD.envDetector]]),J=(0,P5.getStringListFromEnv)("OTEL_NODE_RESOURCE_DETECTORS")??["all"];if(J.includes("all"))return[...Y.values()].flat();if(J.includes("none"))return[];return J.flatMap((X)=>{let Z=Y.get(X);if(!Z)e8.diag.warn(`Invalid resource detector "${X}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`);return Z||[]})}H30.getResourceDetectorsFromEnv=k46;function Q30(){return(0,P5.getStringFromEnv)("OTEL_EXPORTER_OTLP_TRACES_PROTOCOL")??(0,P5.getStringFromEnv)("OTEL_EXPORTER_OTLP_PROTOCOL")??"http/protobuf"}H30.getOtlpProtocolFromEnv=Q30;function _46(){let Y=Q30();switch(Y){case"grpc":return new A46.OTLPTraceExporter;case"http/json":return new w46.OTLPTraceExporter;case"http/protobuf":return new Z30.OTLPTraceExporter;default:return e8.diag.warn(`Unsupported OTLP traces protocol: ${Y}. Using http/protobuf.`),new Z30.OTLPTraceExporter}}function x46(){let Y=new Map([["otlp",()=>_46()],["zipkin",()=>new P46.ZipkinExporter],["console",()=>new gS.ConsoleSpanExporter]]),J=[],X=[],Z=Array.from(new Set((0,P5.getStringListFromEnv)("OTEL_TRACES_EXPORTER"))).filter((W)=>W!=="null");if(Z[0]==="none")return e8.diag.warn('OTEL_TRACES_EXPORTER contains "none". SDK will not be initialized.'),[];if(Z.length===0)e8.diag.debug("OTEL_TRACES_EXPORTER is empty. Using default otlp exporter."),Z=["otlp"];else if(Z.length>1&&Z.includes("none"))e8.diag.warn('OTEL_TRACES_EXPORTER contains "none" along with other exporters. Using default otlp exporter.'),Z=["otlp"];for(let W of Z){let $=Y.get(W)?.();if($)J.push($);else e8.diag.warn(`Unrecognized OTEL_TRACES_EXPORTER value: ${W}.`)}for(let W of J)if(W instanceof gS.ConsoleSpanExporter)X.push(new gS.SimpleSpanProcessor(W));else X.push(new gS.BatchSpanProcessor(W));if(J.length===0)e8.diag.warn("Unable to set up trace exporter(s) due to invalid exporter and/or protocol values.");return X}H30.getSpanProcessorsFromEnv=x46;function f46(){let Y=(0,P5.getStringListFromEnv)("OTEL_PROPAGATORS");if(Y==null)return;if(Y.includes("none"))return null;let J=new Map([["tracecontext",()=>new P5.W3CTraceContextPropagator],["baggage",()=>new P5.W3CBaggagePropagator],["b3",()=>new PK.B3Propagator],["b3multi",()=>new PK.B3Propagator({injectEncoding:PK.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new $30.JaegerPropagator]]),X=Array.from(new Set(Y)),Z=[];if(X.forEach((W)=>{let $=J.get(W)?.();if(!$){e8.diag.warn(`Propagator "${W}" requested through environment variable is unavailable.`);return}Z.push($)}),Z.length===0)return null;else if(X.length===1)return Z[0];else return new P5.CompositePropagator({propagators:Z})}H30.getPropagatorFromEnv=f46;function v46(Y){let J=U30(Y.propagator?.composite);if(J==null)return;if(J.includes("none"))return null;let X=new Map([["tracecontext",()=>new P5.W3CTraceContextPropagator],["baggage",()=>new P5.W3CBaggagePropagator],["b3",()=>new PK.B3Propagator],["b3multi",()=>new PK.B3Propagator({injectEncoding:PK.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new $30.JaegerPropagator]]),Z=Array.from(new Set(J)),W=[];if(Z.forEach(($)=>{let G=X.get($)?.();if(!G){e8.diag.warn(`Propagator "${$}" requested through configuration is unavailable.`);return}W.push(G)}),W.length===0)return null;else if(Z.length===1)return W[0];else return new P5.CompositePropagator({propagators:W})}H30.getPropagatorFromConfiguration=v46;function h46(Y){if(Y===null)return;if(Y===void 0){let J=new G30.AsyncLocalStorageContextManager;J.enable(),e8.context.setGlobalContextManager(J);return}Y.enable(),e8.context.setGlobalContextManager(Y)}H30.setupContextManager=h46;function b46(){let Y=new G30.AsyncLocalStorageContextManager;Y.enable(),e8.context.setGlobalContextManager(Y)}H30.setupDefaultContextManager=b46;function y46(Y){if(Y===null)return;if(Y===void 0){e8.propagation.setGlobalPropagator(new P5.CompositePropagator({propagators:[new P5.W3CTraceContextPropagator,new P5.W3CBaggagePropagator]}));return}e8.propagation.setGlobalPropagator(Y)}H30.setupPropagator=y46;function U30(Y){if(!Y||Y.length===0)return;return Y.map((J)=>Object.keys(J)).reduce((J,X)=>J.concat(X),[])}H30.getKeyListFromObjectArray=U30;function BJ(Y){let J=(0,P5.getNumberFromEnv)(Y);if(J!=null&&J<=0){e8.diag.warn(`${Y} (${J}) is invalid, expected number greater than 0, using default.`);return}return J}H30.getNonNegativeNumberFromEnv=BJ;function g46(Y){let Z=BJ("OTEL_METRIC_EXPORT_INTERVAL"),W=BJ("OTEL_METRIC_EXPORT_TIMEOUT"),$=Z??60000,G=W??30000;if(G>$){let Q=W!=null?W.toString():"30000, default",U=Z!=null?Z.toString():"60000, default",z=W!=null&&Z!=null,H=`OTEL_METRIC_EXPORT_TIMEOUT (${Q}) is greater than OTEL_METRIC_EXPORT_INTERVAL (${U}). Clamping timeout to interval value.`;if(z)e8.diag.warn(H);else e8.diag.info(H);G=$}return new L46.PeriodicExportingMetricReader({exportTimeoutMillis:G,exportIntervalMillis:$,exporter:Y})}H30.getPeriodicExportingMetricReaderFromEnv=g46;function u46(){let Y=((0,P5.getStringFromEnv)("OTEL_EXPORTER_OTLP_METRICS_PROTOCOL")??(0,P5.getStringFromEnv)("OTEL_EXPORTER_OTLP_PROTOCOL"))?.trim()||"http/protobuf";switch(Y){case"grpc":return new M46.OTLPMetricExporter;case"http/json":return new E46.OTLPMetricExporter;case"http/protobuf":return new W30.OTLPMetricExporter}return e8.diag.warn(`Unsupported OTLP metrics protocol: "${Y}". Using http/protobuf.`),new W30.OTLPMetricExporter}H30.getOtlpMetricExporterFromEnv=u46;function m46(){return{logRecordLimits:{attributeCountLimit:BJ("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??BJ("OTEL_ATTRIBUTE_COUNT_LIMIT"),attributeValueLengthLimit:BJ("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??BJ("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")}}}H30.getLoggerProviderConfigFromEnv=m46;function z30(){return{maxQueueSize:BJ("OTEL_BLRP_MAX_QUEUE_SIZE"),scheduledDelayMillis:BJ("OTEL_BLRP_SCHEDULE_DELAY"),exportTimeoutMillis:BJ("OTEL_BLRP_EXPORT_TIMEOUT"),maxExportBatchSize:BJ("OTEL_BLRP_MAX_EXPORT_BATCH_SIZE")}}H30.getBatchLogRecordProcessorConfigFromEnv=z30;function d46(Y){return new T46.BatchLogRecordProcessor(Y,z30())}H30.getBatchLogRecordProcessorFromEnv=d46});var V30=q((q30)=>{Object.defineProperty(q30,"__esModule",{value:!0});q30.NodeSDK=void 0;var B9=t(),Z66=F5(),W66=t1(),LK=PX(),uS=vI(),$66=$o(),G66=FJ0(),K30=MJ0(),Q66=xJ0(),Ze=WZ(),U66=iQ(),z66=xr(),H66=X0(),P$=k1(),AZ=Xe();function O66(){let Y=[],J=Array.from(new Set((0,P$.getStringListFromEnv)("OTEL_METRICS_EXPORTER")??[]));if(J.length===0)B9.diag.debug("OTEL_METRICS_EXPORTER is empty. Using default otlp exporter."),J.push("otlp");if(J.includes("none"))return B9.diag.info('OTEL_METRICS_EXPORTER contains "none". Metric provider will not be initialized.'),Y;return J.forEach((X)=>{if(X==="otlp")Y.push((0,AZ.getPeriodicExportingMetricReaderFromEnv)((0,AZ.getOtlpMetricExporterFromEnv)()));else if(X==="console")Y.push(new Ze.PeriodicExportingMetricReader({exporter:new Ze.ConsoleMetricExporter}));else if(X==="prometheus")Y.push(new Q66.PrometheusExporter);else B9.diag.warn(`Unsupported OTEL_METRICS_EXPORTER value: "${X}". Supported values are: otlp, console, prometheus, none.`)}),Y}class B30{_tracerProviderConfig;_loggerProviderConfig;_meterProviderConfig;_instrumentations;_resource;_resourceDetectors;_autoDetectResources;_tracerProvider;_loggerProvider;_meterProvider;_serviceName;_configuration;_disabled;constructor(Y={}){if((0,P$.getBooleanFromEnv)("OTEL_SDK_DISABLED"))this._disabled=!0;let J=(0,P$.getStringFromEnv)("OTEL_LOG_LEVEL");if(J!=null)B9.diag.setLogger(new B9.DiagConsoleLogger,{logLevel:(0,P$.diagLogLevelFromString)(J)});if(this._configuration=Y,this._resource=Y.resource??(0,LK.defaultResource)(),this._autoDetectResources=Y.autoDetectResources??!0,!this._autoDetectResources)this._resourceDetectors=[];else if(Y.resourceDetectors!=null)this._resourceDetectors=Y.resourceDetectors;else if((0,P$.getStringFromEnv)("OTEL_NODE_RESOURCE_DETECTORS"))this._resourceDetectors=(0,AZ.getResourceDetectorsFromEnv)();else this._resourceDetectors=[LK.envDetector,LK.processDetector,LK.hostDetector];if(this._serviceName=Y.serviceName,Y.traceExporter||Y.spanProcessor||Y.spanProcessors){let X={};if(Y.sampler)X.sampler=Y.sampler;if(Y.spanLimits)X.spanLimits=Y.spanLimits;if(Y.idGenerator)X.idGenerator=Y.idGenerator;if(Y.spanProcessor)B9.diag.warn("The 'spanProcessor' option is deprecated. Please use 'spanProcessors' instead.");let Z=Y.spanProcessor??new U66.BatchSpanProcessor(Y.traceExporter),W=Y.spanProcessors??[Z];this._tracerProviderConfig={tracerConfig:X,spanProcessors:W}}if(Y.logRecordProcessors)this._loggerProviderConfig={logRecordProcessors:Y.logRecordProcessors};else if(Y.logRecordProcessor)this._loggerProviderConfig={logRecordProcessors:[Y.logRecordProcessor]},B9.diag.warn("The 'logRecordProcessor' option is deprecated. Please use 'logRecordProcessors' instead.");else this.configureLoggerProviderFromEnv();if(Y.metricReaders)this._meterProviderConfig={readers:Y.metricReaders,views:Y.views};else if(Y.metricReader)this._meterProviderConfig={readers:[Y.metricReader],views:Y.views},B9.diag.warn("The 'metricReader' option is deprecated. Please use 'metricReaders' instead.");else this._meterProviderConfig={readers:O66(),views:Y.views};this._instrumentations=Y.instrumentations?.flat()??[]}start(){if(this._disabled)return;if((0,W66.registerInstrumentations)({instrumentations:this._instrumentations}),(0,AZ.setupContextManager)(this._configuration?.contextManager),(0,AZ.setupPropagator)(this._configuration?.textMapPropagator===null?null:this._configuration?.textMapPropagator??(0,AZ.getPropagatorFromEnv)()),this._autoDetectResources){let J={detectors:this._resourceDetectors};this._resource=this._resource.merge((0,LK.detectResources)(J))}this._resource=this._serviceName===void 0?this._resource:this._resource.merge((0,LK.resourceFromAttributes)({[H66.ATTR_SERVICE_NAME]:this._serviceName}));let Y=this._tracerProviderConfig?this._tracerProviderConfig.spanProcessors:(0,AZ.getSpanProcessorsFromEnv)();if(Y.length>0)this._tracerProvider=new z66.NodeTracerProvider({...this._configuration,resource:this._resource,spanProcessors:Y}),B9.trace.setGlobalTracerProvider(this._tracerProvider);if(this._loggerProviderConfig){let J=new uS.LoggerProvider({...(0,AZ.getLoggerProviderConfigFromEnv)(),resource:this._resource,processors:this._loggerProviderConfig.logRecordProcessors});this._loggerProvider=J,Z66.logs.setGlobalLoggerProvider(J)}if(this._meterProviderConfig?.readers&&this._meterProviderConfig.readers.length>0){let J=new Ze.MeterProvider({resource:this._resource,views:this._meterProviderConfig?.views??[],readers:this._meterProviderConfig.readers});this._meterProvider=J,B9.metrics.setGlobalMeterProvider(J);for(let X of this._instrumentations)X.setMeterProvider(B9.metrics.getMeterProvider())}}shutdown(){let Y=[];if(this._tracerProvider)Y.push(this._tracerProvider.shutdown());if(this._loggerProvider)Y.push(this._loggerProvider.shutdown());if(this._meterProvider)Y.push(this._meterProvider.shutdown());return Promise.all(Y).then(()=>{})}configureLoggerProviderFromEnv(){let Y=Array.from(new Set((0,P$.getStringListFromEnv)("OTEL_LOGS_EXPORTER")??[]));if(Y.length===0)B9.diag.debug("OTEL_LOGS_EXPORTER is empty. Using default otlp exporter."),Y.push("otlp");if(Y.includes("none")){B9.diag.info('OTEL_LOGS_EXPORTER contains "none". Logger provider will not be initialized.');return}let J=[];if(Y.forEach((X)=>{if(X==="otlp"){let Z=((0,P$.getStringFromEnv)("OTEL_EXPORTER_OTLP_LOGS_PROTOCOL")??(0,P$.getStringFromEnv)("OTEL_EXPORTER_OTLP_PROTOCOL"))?.trim()||"http/protobuf";switch(Z){case"grpc":J.push(new G66.OTLPLogExporter);break;case"http/json":J.push(new $66.OTLPLogExporter);break;case"http/protobuf":J.push(new K30.OTLPLogExporter);break;default:B9.diag.warn(`Unsupported OTLP logs protocol: "${Z}". Using http/protobuf.`),J.push(new K30.OTLPLogExporter)}}else if(X==="console")J.push(new uS.ConsoleLogRecordExporter);else B9.diag.warn(`Unsupported OTEL_LOGS_EXPORTER value: "${X}". Supported values are: otlp, console, none.`)}),J.length>0)this._loggerProviderConfig={logRecordProcessors:J.map((X)=>{if(X instanceof uS.ConsoleLogRecordExporter)return new uS.SimpleLogRecordProcessor(X);else return(0,AZ.getBatchLogRecordProcessorFromEnv)(X)})}}}q30.NodeSDK=B30});var We=q((I30)=>{Object.defineProperty(I30,"__esModule",{value:!0});I30.initializeDefaultConfiguration=void 0;var K66=t();function B66(){return{disabled:!1,log_level:K66.DiagLogLevel.INFO,resource:{},attribute_limits:{attribute_count_limit:128}}}I30.initializeDefaultConfiguration=B66});var Ge=q((E30)=>{Object.defineProperty(E30,"__esModule",{value:!0});E30.InstrumentType=E30.ExporterDefaultHistogramAggregation=E30.ExporterTemporalityPreference=E30.ExperimentalPrometheusTranslationStrategy=E30.ExemplarFilter=E30.initializeDefaultMeterProviderConfiguration=void 0;function q66(){return{readers:[],views:[],exemplar_filter:M30.TraceBased}}E30.initializeDefaultMeterProviderConfiguration=q66;var M30;(function(Y){Y.AlwaysOff="always_off",Y.AlwaysOn="always_on",Y.TraceBased="trace_based"})(M30=E30.ExemplarFilter||(E30.ExemplarFilter={}));var F66;(function(Y){Y.UnderscoreEscapingWithSuffixes="underscore_escaping_with_suffixes",Y.UnderscoreEscapingWithoutSuffixes="underscore_escaping_without_suffixes",Y.NoUtf8EscapingWithSuffixes="no_utf8_escaping_with_suffixes",Y.NoTranslation="no_translation"})(F66=E30.ExperimentalPrometheusTranslationStrategy||(E30.ExperimentalPrometheusTranslationStrategy={}));var V66;(function(Y){Y.Cumulative="cumulative",Y.Delta="delta",Y.LowMemory="low_memory"})(V66=E30.ExporterTemporalityPreference||(E30.ExporterTemporalityPreference={}));var I66;(function(Y){Y.Base2ExponentialBucketHistogram="base2_exponential_bucket_histogram",Y.ExplicitBucketHistogram="explicit_bucket_histogram"})(I66=E30.ExporterDefaultHistogramAggregation||(E30.ExporterDefaultHistogramAggregation={}));var D66;(function(Y){Y.Counter="counter",Y.Gauge="gauge",Y.Histogram="histogram",Y.ObservableCounter="observable_counter",Y.ObservableGauge="observable_gauge",Y.ObservableUpDownCounter="observable_up_down_counter",Y.UpDownCounter="up_down_counter"})(D66=E30.InstrumentType||(E30.InstrumentType={}))});var Ue=q((R30)=>{Object.defineProperty(R30,"__esModule",{value:!0});R30.SeverityNumber=R30.OtlpHttpEncoding=void 0;var A66;(function(Y){Y.JSON="json",Y.Protobuf="protobuf"})(A66=R30.OtlpHttpEncoding||(R30.OtlpHttpEncoding={}));var P66;(function(Y){Y.DEBUG="debug",Y.DEBUG2="debug2",Y.DEBUG3="debug3",Y.DEBUG4="debug4",Y.ERROR="error",Y.ERROR2="error2",Y.ERROR3="error3",Y.ERROR4="error4",Y.FATAL="fatal",Y.FATAL2="fatal2",Y.FATAL3="fatal3",Y.FATAL4="fatal4",Y.INFO="info",Y.INFO2="info2",Y.INFO3="info3",Y.INFO4="info4",Y.TRACE="trace",Y.TRACE2="trace2",Y.TRACE3="trace3",Y.TRACE4="trace4",Y.WARN="warn",Y.WARN2="warn2",Y.WARN3="warn3",Y.WARN4="warn4"})(P66=R30.SeverityNumber||(R30.SeverityNumber={}))});var ze=q((N30)=>{Object.defineProperty(N30,"__esModule",{value:!0});N30.initializeDefaultTracerProviderConfiguration=void 0;function L66(){return{processors:[],limits:{attribute_count_limit:128,event_count_limit:128,link_count_limit:128,event_attribute_count_limit:128,link_attribute_count_limit:128},sampler:{parent_based:{root:{always_on:void 0},remote_parent_sampled:{always_on:void 0},remote_parent_not_sampled:{always_off:void 0},local_parent_sampled:{always_on:void 0},local_parent_not_sampled:{always_off:void 0}}}}}N30.initializeDefaultTracerProviderConfiguration=L66});var He=q((C30)=>{Object.defineProperty(C30,"__esModule",{value:!0});C30.initializeDefaultLoggerProviderConfiguration=void 0;function M66(){return{processors:[],limits:{attribute_count_limit:128},"logger_configurator/development":{}}}C30.initializeDefaultLoggerProviderConfiguration=M66});var Oe=q((v30)=>{Object.defineProperty(v30,"__esModule",{value:!0});v30.getHttpTlsConfig=v30.getGrpcTlsConfig=v30.envVariableSubstitution=v30.getStringListFromConfigFile=v30.getStringFromConfigFile=v30.getNumberListFromConfigFile=v30.getNumberFromConfigFile=v30.getBooleanListFromConfigFile=v30.getBooleanFromConfigFile=void 0;var k30=t(),E66=k1(),_30=C("util");function x30(Y){let J=gD(Y)?.trim().toLowerCase();if(J==="true")return!0;else if(J==="false")return!1;else if(J==null||J==="")return;else{k30.diag.warn(`Unknown value ${(0,_30.inspect)(J)}, expected 'true' or 'false'`);return}}v30.getBooleanFromConfigFile=x30;function T66(Y){let J=mS(Y)?.split(",");if(J){let X=[];for(let Z=0;Z<J.length;Z++){let W=x30(J[Z]);if(W!=null)X.push(W)}return X}return J}v30.getBooleanListFromConfigFile=T66;function f30(Y){let J=gD(Y)?.trim();if(J==null||J.trim()==="")return;let X=Number(J);if(isNaN(X)){k30.diag.warn(`Unknown value ${(0,_30.inspect)(J)}, expected a number`);return}return X}v30.getNumberFromConfigFile=f30;function R66(Y){let J=mS(Y)?.split(",");if(J){let X=[];for(let Z=0;Z<J.length;Z++){let W=f30(J[Z]);if(W||W===0)X.push(W)}return X}return J}v30.getNumberListFromConfigFile=R66;function mS(Y){let J=gD(Y)?.trim();if(Y==null||J==="")return;return J}v30.getStringFromConfigFile=mS;function N66(Y){return Y=gD(Y),mS(Y)?.split(",").map((J)=>J.trim()).filter((J)=>J!=="")}v30.getStringListFromConfigFile=N66;function gD(Y){if(Y==null)return;let J=String(Y).match(/\$\{[a-zA-Z0-9,=/_:.-]*\}/g);if(J){let X=String(Y);for(let Z of J){let W=Z.substring(2,Z.length-1).split(":-"),$=W.length===2?W[1]:"",G=(0,E66.getStringFromEnv)(W[0])||$;X=X.replace(Z,G)}return X}return String(Y)}v30.envVariableSubstitution=gD;function S66(Y,J,X,Z){if(Y||J||X){let W={};if(Y)W.ca_file=Y;if(J)W.key_file=J;if(X)W.cert_file=X;if(Z!==void 0)W.insecure=Z;return W}return}v30.getGrpcTlsConfig=S66;function C66(Y,J,X){if(Y||J||X){let Z={};if(Y)Z.ca_file=Y;if(J)Z.key_file=J;if(X)Z.cert_file=X;return Z}return}v30.getHttpTlsConfig=C66});var n30=q((l30)=>{Object.defineProperty(l30,"__esModule",{value:!0});l30.setLoggerProvider=l30.setMeterProvider=l30.setTracerProvider=l30.setPropagators=l30.setAttributeLimits=l30.setResources=l30.EnvironmentConfigFactory=void 0;var y66=We(),A1=k1(),N8=Ge(),MK=Ue(),Ke=t(),g66=ze(),u66=He(),EK=Oe();class b30{_config;constructor(){this._config=(0,y66.initializeDefaultConfiguration)(),this._config.disabled=(0,A1.getBooleanFromEnv)("OTEL_SDK_DISABLED");let Y=(0,A1.diagLogLevelFromString)((0,A1.getStringFromEnv)("OTEL_LOG_LEVEL"));if(Y)this._config.log_level=Y;let J=(0,A1.getStringListFromEnv)("OTEL_NODE_RESOURCE_DETECTORS");if(J)this._config.node_resource_detectors=J;y30(this._config),g30(this._config),u30(this._config),m30(this._config),d30(this._config),c30(this._config)}getConfigModel(){return this._config}}l30.EnvironmentConfigFactory=b30;function y30(Y){if(Y.resource==null)Y.resource={};let J=(0,A1.getStringFromEnv)("OTEL_RESOURCE_ATTRIBUTES"),X=(0,A1.getStringListFromEnv)("OTEL_RESOURCE_ATTRIBUTES"),Z=(0,A1.getStringFromEnv)("OTEL_SERVICE_NAME");if(Z)Y.resource.attributes=[{name:"service.name",value:Z,type:"string"}];if(X&&X.length>0){if(Y.resource.attributes_list=J,Y.resource.attributes==null)Y.resource.attributes=[];for(let W=0;W<X.length;W++){let $=X[W].split("=");if($[0]!=="service.name"||$[0]==="service.name"&&Z===void 0)Y.resource.attributes.push({name:$[0],value:$[1],type:"string"})}}}l30.setResources=y30;function g30(Y){let J=(0,A1.getNumberFromEnv)("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT");if(J&&J>0){if(Y.attribute_limits==null)Y.attribute_limits={attribute_count_limit:128};Y.attribute_limits.attribute_value_length_limit=J}let X=(0,A1.getNumberFromEnv)("OTEL_ATTRIBUTE_COUNT_LIMIT");if(X)if(Y.attribute_limits==null)Y.attribute_limits={attribute_count_limit:X};else Y.attribute_limits.attribute_count_limit=X}l30.setAttributeLimits=g30;function u30(Y){if(Y.propagator==null)Y.propagator={};let J=(0,A1.getStringListFromEnv)("OTEL_PROPAGATORS");if(J&&J.length>0){Y.propagator.composite=[];for(let Z=0;Z<J.length;Z++)Y.propagator.composite.push({[J[Z]]:null})}let X=(0,A1.getStringFromEnv)("OTEL_PROPAGATORS");if(X)Y.propagator.composite_list=X}l30.setPropagators=u30;function m30(Y){let J=Array.from(new Set((0,A1.getStringListFromEnv)("OTEL_TRACES_EXPORTER")));if(J.length===0)return;if(J.includes("none")){Ke.diag.info('OTEL_TRACES_EXPORTER contains "none". Tracer provider will not be initialized.');return}Y.tracer_provider=(0,g66.initializeDefaultTracerProviderConfiguration)();let X=(0,A1.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT");if(X)Y.tracer_provider.limits.attribute_value_length_limit=X;let Z=(0,A1.getNumberFromEnv)("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT");if(Z)Y.tracer_provider.limits.attribute_count_limit=Z;let W=(0,A1.getNumberFromEnv)("OTEL_SPAN_EVENT_COUNT_LIMIT");if(W)Y.tracer_provider.limits.event_count_limit=W;let $=(0,A1.getNumberFromEnv)("OTEL_SPAN_LINK_COUNT_LIMIT");if($)Y.tracer_provider.limits.link_count_limit=$;let G=(0,A1.getNumberFromEnv)("OTEL_EVENT_ATTRIBUTE_COUNT_LIMIT");if(G)Y.tracer_provider.limits.event_attribute_count_limit=G;let Q=(0,A1.getNumberFromEnv)("OTEL_LINK_ATTRIBUTE_COUNT_LIMIT");if(Q)Y.tracer_provider.limits.link_attribute_count_limit=Q;let U={exporter:{}},z=(0,A1.getNumberFromEnv)("OTEL_BSP_SCHEDULE_DELAY")??5000;if(z)U.schedule_delay=z;let H=(0,A1.getNumberFromEnv)("OTEL_BSP_EXPORT_TIMEOUT")??30000;if(H)U.export_timeout=H;let O=(0,A1.getNumberFromEnv)("OTEL_BSP_MAX_QUEUE_SIZE")??2048;if(O)U.max_queue_size=O;let K=(0,A1.getNumberFromEnv)("OTEL_BSP_MAX_EXPORT_BATCH_SIZE")??512;if(K)U.max_export_batch_size=K;for(let B=0;B<J.length;B++){let F=J[B],V={...U};if(F==="console")Y.tracer_provider.processors.push({simple:{exporter:{console:{}}}});else{let I=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_TRACES_PROTOCOL")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_PROTOCOL")??"http/protobuf",D=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_CERTIFICATE"),L=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_CLIENT_KEY"),A=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE"),P=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_TRACES_COMPRESSION")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_COMPRESSION"),R=(0,A1.getNumberFromEnv)("OTEL_EXPORTER_OTLP_TRACES_TIMEOUT")??(0,A1.getNumberFromEnv)("OTEL_EXPORTER_OTLP_TIMEOUT")??1e4,N=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_TRACES_HEADERS")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_HEADERS");if(I==="grpc"){delete V.exporter.otlp_http,V.exporter.otlp_grpc={};let v=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_TRACES_ENDPOINT")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_ENDPOINT")??"http://localhost:4317";if(v)V.exporter.otlp_grpc.endpoint=v;let j=(0,EK.getGrpcTlsConfig)(D,L,A);if(j)V.exporter.otlp_grpc.tls=j;if(P)V.exporter.otlp_grpc.compression=P;if(R)V.exporter.otlp_grpc.timeout=R;if(N)V.exporter.otlp_grpc.headers_list=N}else{if(V.exporter.otlp_http==null)V.exporter.otlp_http={};let v=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_TRACES_ENDPOINT")??((0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_ENDPOINT")?`${(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_ENDPOINT")}/v1/traces`:"http://localhost:4318/v1/traces");if(v)V.exporter.otlp_http.endpoint=v;let j=(0,EK.getHttpTlsConfig)(D,L,A);if(j)V.exporter.otlp_http.tls=j;if(P)V.exporter.otlp_http.compression=P;if(R)V.exporter.otlp_http.timeout=R;if(N)V.exporter.otlp_http.headers_list=N;if(I==="http/json")V.exporter.otlp_http.encoding=MK.OtlpHttpEncoding.JSON;else if(I==="http/protobuf")V.exporter.otlp_http.encoding=MK.OtlpHttpEncoding.Protobuf}Y.tracer_provider.processors.push({batch:V})}}}l30.setTracerProvider=m30;function d30(Y){let J=Array.from(new Set((0,A1.getStringListFromEnv)("OTEL_METRICS_EXPORTER")));if(J.length===0)return;if(J.includes("none")){Ke.diag.info('OTEL_METRICS_EXPORTER contains "none". Meter provider will not be initialized.');return}Y.meter_provider=(0,N8.initializeDefaultMeterProviderConfiguration)();let X={exporter:{}},Z=(0,A1.getNumberFromEnv)("OTEL_METRIC_EXPORT_INTERVAL")??60000;if(Z)X.interval=Z;for(let $=0;$<J.length;$++){let G=J[$];if(G==="prometheus"){let z={exporter:{"prometheus/development":{host:(0,A1.getStringFromEnv)("OTEL_EXPORTER_PROMETHEUS_HOST")??"localhost",port:(0,A1.getNumberFromEnv)("OTEL_EXPORTER_PROMETHEUS_PORT")??9464,without_scope_info:!1,without_target_info:!1}}};Y.meter_provider.readers.push({pull:z});continue}let Q={...X},U=(0,A1.getNumberFromEnv)("OTEL_METRIC_EXPORT_TIMEOUT")??30000;if(U)Q.timeout=U;if(G==="console")Q.exporter={console:{}};else{let z=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_METRICS_PROTOCOL")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_PROTOCOL")??"http/protobuf",H=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_CERTIFICATE"),O=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_CLIENT_KEY"),K=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE"),B=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_METRICS_COMPRESSION")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_COMPRESSION"),F=(0,A1.getNumberFromEnv)("OTEL_EXPORTER_OTLP_METRICS_TIMEOUT")??(0,A1.getNumberFromEnv)("OTEL_EXPORTER_OTLP_TIMEOUT")??1e4,V=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_METRICS_HEADERS")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_HEADERS"),I=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE")??"cumulative",D=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_METRICS_DEFAULT_HISTOGRAM_AGGREGATION")??"explicit_bucket_histogram";if(z==="grpc"){delete Q.exporter.otlp_http,Q.exporter.otlp_grpc={};let L=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_METRICS_ENDPOINT")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_ENDPOINT")??"http://localhost:4317";if(L)Q.exporter.otlp_grpc.endpoint=L;let A=(0,EK.getGrpcTlsConfig)(H,O,K);if(A)Q.exporter.otlp_grpc.tls=A;if(B)Q.exporter.otlp_grpc.compression=B;if(F)Q.exporter.otlp_grpc.timeout=F;if(V)Q.exporter.otlp_grpc.headers_list=V;if(I)switch(I){case"cumulative":Q.exporter.otlp_grpc.temporality_preference=N8.ExporterTemporalityPreference.Cumulative;break;case"delta":Q.exporter.otlp_grpc.temporality_preference=N8.ExporterTemporalityPreference.Delta;break;case"low_memory":Q.exporter.otlp_grpc.temporality_preference=N8.ExporterTemporalityPreference.LowMemory;break;default:Q.exporter.otlp_grpc.temporality_preference=N8.ExporterTemporalityPreference.Cumulative;break}if(D)switch(D){case"explicit_bucket_histogram":Q.exporter.otlp_grpc.default_histogram_aggregation=N8.ExporterDefaultHistogramAggregation.ExplicitBucketHistogram;break;case"base2_exponential_bucket_histogram":Q.exporter.otlp_grpc.default_histogram_aggregation=N8.ExporterDefaultHistogramAggregation.Base2ExponentialBucketHistogram;break;default:Q.exporter.otlp_grpc.default_histogram_aggregation=N8.ExporterDefaultHistogramAggregation.ExplicitBucketHistogram;break}}else{if(Q.exporter.otlp_http==null)Q.exporter.otlp_http={};let L=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_METRICS_ENDPOINT")??((0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_ENDPOINT")?`${(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_ENDPOINT")}/v1/metrics`:"http://localhost:4318/v1/metrics");if(L)Q.exporter.otlp_http.endpoint=L;let A=(0,EK.getHttpTlsConfig)(H,O,K);if(A)Q.exporter.otlp_http.tls=A;if(B)Q.exporter.otlp_http.compression=B;if(F)Q.exporter.otlp_http.timeout=F;if(V)Q.exporter.otlp_http.headers_list=V;if(I)switch(I){case"cumulative":Q.exporter.otlp_http.temporality_preference=N8.ExporterTemporalityPreference.Cumulative;break;case"delta":Q.exporter.otlp_http.temporality_preference=N8.ExporterTemporalityPreference.Delta;break;case"low_memory":Q.exporter.otlp_http.temporality_preference=N8.ExporterTemporalityPreference.LowMemory;break;default:Q.exporter.otlp_http.temporality_preference=N8.ExporterTemporalityPreference.Cumulative;break}if(D)switch(D){case"explicit_bucket_histogram":Q.exporter.otlp_http.default_histogram_aggregation=N8.ExporterDefaultHistogramAggregation.ExplicitBucketHistogram;break;case"base2_exponential_bucket_histogram":Q.exporter.otlp_http.default_histogram_aggregation=N8.ExporterDefaultHistogramAggregation.Base2ExponentialBucketHistogram;break;default:Q.exporter.otlp_http.default_histogram_aggregation=N8.ExporterDefaultHistogramAggregation.ExplicitBucketHistogram;break}if(z==="http/json")Q.exporter.otlp_http.encoding=MK.OtlpHttpEncoding.JSON;else if(z==="http/protobuf")Q.exporter.otlp_http.encoding=MK.OtlpHttpEncoding.Protobuf}}Y.meter_provider.readers.push({periodic:Q})}let W=(0,A1.getStringFromEnv)("OTEL_METRICS_EXEMPLAR_FILTER")??"trace_based";if(W)switch(W){case"trace_based":Y.meter_provider.exemplar_filter=N8.ExemplarFilter.TraceBased;break;case"always_on":Y.meter_provider.exemplar_filter=N8.ExemplarFilter.AlwaysOn;break;case"always_off":Y.meter_provider.exemplar_filter=N8.ExemplarFilter.AlwaysOff;break;default:Y.meter_provider.exemplar_filter=N8.ExemplarFilter.TraceBased;break}}l30.setMeterProvider=d30;function c30(Y){let J=Array.from(new Set((0,A1.getStringListFromEnv)("OTEL_LOGS_EXPORTER")));if(J.length===0)return;if(J.includes("none")){Ke.diag.info('OTEL_LOGS_EXPORTER contains "none". Logger provider will not be initialized.');return}Y.logger_provider=(0,u66.initializeDefaultLoggerProviderConfiguration)();let X=(0,A1.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT"),Z=(0,A1.getNumberFromEnv)("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT");if(X||Z){if(X)Y.logger_provider.limits.attribute_value_length_limit=X;if(Z)Y.logger_provider.limits.attribute_count_limit=Z}let W={exporter:{}},$=(0,A1.getNumberFromEnv)("OTEL_BLRP_SCHEDULE_DELAY")??1000;if($)W.schedule_delay=$;let G=(0,A1.getNumberFromEnv)("OTEL_BLRP_EXPORT_TIMEOUT")??30000;if(G)W.export_timeout=G;let Q=(0,A1.getNumberFromEnv)("OTEL_BLRP_MAX_QUEUE_SIZE")??2048;if(Q)W.max_queue_size=Q;let U=(0,A1.getNumberFromEnv)("OTEL_BLRP_MAX_EXPORT_BATCH_SIZE")??512;if(U)W.max_export_batch_size=U;for(let z=0;z<J.length;z++){let H=J[z],O={...W};if(H==="console")Y.logger_provider.processors.push({simple:{exporter:{console:{}}}});else{let K=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_LOGS_PROTOCOL")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_PROTOCOL")??"http/protobuf",B=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_CERTIFICATE"),F=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_CLIENT_KEY"),V=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE"),I=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_LOGS_COMPRESSION")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_COMPRESSION"),D=(0,A1.getNumberFromEnv)("OTEL_EXPORTER_OTLP_LOGS_TIMEOUT")??(0,A1.getNumberFromEnv)("OTEL_EXPORTER_OTLP_TIMEOUT")??1e4,L=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_LOGS_HEADERS")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_HEADERS");if(K==="grpc"){delete O.exporter.otlp_http,O.exporter.otlp_grpc={};let A=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_LOGS_ENDPOINT")??(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_ENDPOINT")??"http://localhost:4317";if(A)O.exporter.otlp_grpc.endpoint=A;let P=(0,EK.getGrpcTlsConfig)(B,F,V);if(P)O.exporter.otlp_grpc.tls=P;if(I)O.exporter.otlp_grpc.compression=I;if(D)O.exporter.otlp_grpc.timeout=D;if(L)O.exporter.otlp_grpc.headers_list=L}else{if(O.exporter.otlp_http==null)O.exporter.otlp_http={};let A=(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_LOGS_ENDPOINT")??((0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_ENDPOINT")?`${(0,A1.getStringFromEnv)("OTEL_EXPORTER_OTLP_ENDPOINT")}/v1/logs`:"http://localhost:4318/v1/logs");if(A)O.exporter.otlp_http.endpoint=A;let P=(0,EK.getHttpTlsConfig)(B,F,V);if(P)O.exporter.otlp_http.tls=P;if(I)O.exporter.otlp_http.compression=I;if(D)O.exporter.otlp_http.timeout=D;if(L)O.exporter.otlp_http.headers_list=L;if(K==="http/json")O.exporter.otlp_http.encoding=MK.OtlpHttpEncoding.JSON;else if(K==="http/protobuf")O.exporter.otlp_http.encoding=MK.OtlpHttpEncoding.Protobuf}Y.logger_provider.processors.push({batch:O})}}}l30.setLoggerProvider=c30});var e0=q((Y86)=>{var Be=Symbol.for("yaml.alias"),i30=Symbol.for("yaml.document"),dS=Symbol.for("yaml.map"),o30=Symbol.for("yaml.pair"),qe=Symbol.for("yaml.scalar"),cS=Symbol.for("yaml.seq"),PZ=Symbol.for("yaml.node.type"),i66=(Y)=>!!Y&&typeof Y==="object"&&Y[PZ]===Be,o66=(Y)=>!!Y&&typeof Y==="object"&&Y[PZ]===i30,r66=(Y)=>!!Y&&typeof Y==="object"&&Y[PZ]===dS,a66=(Y)=>!!Y&&typeof Y==="object"&&Y[PZ]===o30,r30=(Y)=>!!Y&&typeof Y==="object"&&Y[PZ]===qe,s66=(Y)=>!!Y&&typeof Y==="object"&&Y[PZ]===cS;function a30(Y){if(Y&&typeof Y==="object")switch(Y[PZ]){case dS:case cS:return!0}return!1}function t66(Y){if(Y&&typeof Y==="object")switch(Y[PZ]){case Be:case dS:case qe:case cS:return!0}return!1}var e66=(Y)=>(r30(Y)||a30(Y))&&!!Y.anchor;Y86.ALIAS=Be;Y86.DOC=i30;Y86.MAP=dS;Y86.NODE_TYPE=PZ;Y86.PAIR=o30;Y86.SCALAR=qe;Y86.SEQ=cS;Y86.hasAnchor=e66;Y86.isAlias=i66;Y86.isCollection=a30;Y86.isDocument=o66;Y86.isMap=r66;Y86.isNode=t66;Y86.isPair=a66;Y86.isScalar=r30;Y86.isSeq=s66});var uD=q((I86)=>{var S8=e0(),l9=Symbol("break visit"),s30=Symbol("skip children"),aX=Symbol("remove node");function lS(Y,J){let X=t30(J);if(S8.isDocument(Y)){if(TK(null,Y.contents,X,Object.freeze([Y]))===aX)Y.contents=null}else TK(null,Y,X,Object.freeze([]))}lS.BREAK=l9;lS.SKIP=s30;lS.REMOVE=aX;function TK(Y,J,X,Z){let W=e30(Y,J,X,Z);if(S8.isNode(W)||S8.isPair(W))return YZ0(Y,Z,W),TK(Y,W,X,Z);if(typeof W!=="symbol"){if(S8.isCollection(J)){Z=Object.freeze(Z.concat(J));for(let $=0;$<J.items.length;++$){let G=TK($,J.items[$],X,Z);if(typeof G==="number")$=G-1;else if(G===l9)return l9;else if(G===aX)J.items.splice($,1),$-=1}}else if(S8.isPair(J)){Z=Object.freeze(Z.concat(J));let $=TK("key",J.key,X,Z);if($===l9)return l9;else if($===aX)J.key=null;let G=TK("value",J.value,X,Z);if(G===l9)return l9;else if(G===aX)J.value=null}}return W}async function pS(Y,J){let X=t30(J);if(S8.isDocument(Y)){if(await RK(null,Y.contents,X,Object.freeze([Y]))===aX)Y.contents=null}else await RK(null,Y,X,Object.freeze([]))}pS.BREAK=l9;pS.SKIP=s30;pS.REMOVE=aX;async function RK(Y,J,X,Z){let W=await e30(Y,J,X,Z);if(S8.isNode(W)||S8.isPair(W))return YZ0(Y,Z,W),RK(Y,W,X,Z);if(typeof W!=="symbol"){if(S8.isCollection(J)){Z=Object.freeze(Z.concat(J));for(let $=0;$<J.items.length;++$){let G=await RK($,J.items[$],X,Z);if(typeof G==="number")$=G-1;else if(G===l9)return l9;else if(G===aX)J.items.splice($,1),$-=1}}else if(S8.isPair(J)){Z=Object.freeze(Z.concat(J));let $=await RK("key",J.key,X,Z);if($===l9)return l9;else if($===aX)J.key=null;let G=await RK("value",J.value,X,Z);if(G===l9)return l9;else if(G===aX)J.value=null}}return W}function t30(Y){if(typeof Y==="object"&&(Y.Collection||Y.Node||Y.Value))return Object.assign({Alias:Y.Node,Map:Y.Node,Scalar:Y.Node,Seq:Y.Node},Y.Value&&{Map:Y.Value,Scalar:Y.Value,Seq:Y.Value},Y.Collection&&{Map:Y.Collection,Seq:Y.Collection},Y);return Y}function e30(Y,J,X,Z){if(typeof X==="function")return X(Y,J,Z);if(S8.isMap(J))return X.Map?.(Y,J,Z);if(S8.isSeq(J))return X.Seq?.(Y,J,Z);if(S8.isPair(J))return X.Pair?.(Y,J,Z);if(S8.isScalar(J))return X.Scalar?.(Y,J,Z);if(S8.isAlias(J))return X.Alias?.(Y,J,Z);return}function YZ0(Y,J,X){let Z=J[J.length-1];if(S8.isCollection(Z))Z.items[Y]=X;else if(S8.isPair(Z))if(Y==="key")Z.key=X;else Z.value=X;else if(S8.isDocument(Z))Z.contents=X;else{let W=S8.isAlias(Z)?"alias":"scalar";throw Error(`Cannot replace node with ${W} parent`)}}I86.visit=lS;I86.visitAsync=pS});var Fe=q((M86)=>{var JZ0=e0(),A86=uD(),P86={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},L86=(Y)=>Y.replace(/[!,[\]{}]/g,(J)=>P86[J]);class GY{constructor(Y,J){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},GY.defaultYaml,Y),this.tags=Object.assign({},GY.defaultTags,J)}clone(){let Y=new GY(this.yaml,this.tags);return Y.docStart=this.docStart,Y}atDocument(){let Y=new GY(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:GY.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},GY.defaultTags);break}return Y}add(Y,J){if(this.atNextDocument)this.yaml={explicit:GY.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},GY.defaultTags),this.atNextDocument=!1;let X=Y.trim().split(/[ \t]+/),Z=X.shift();switch(Z){case"%TAG":{if(X.length!==2){if(J(0,"%TAG directive should contain exactly two parts"),X.length<2)return!1}let[W,$]=X;return this.tags[W]=$,!0}case"%YAML":{if(this.yaml.explicit=!0,X.length!==1)return J(0,"%YAML directive should contain exactly one part"),!1;let[W]=X;if(W==="1.1"||W==="1.2")return this.yaml.version=W,!0;else{let $=/^\d+\.\d+$/.test(W);return J(6,`Unsupported YAML version ${W}`,$),!1}}default:return J(0,`Unknown directive ${Z}`,!0),!1}}tagName(Y,J){if(Y==="!")return"!";if(Y[0]!=="!")return J(`Not a valid tag: ${Y}`),null;if(Y[1]==="<"){let $=Y.slice(2,-1);if($==="!"||$==="!!")return J(`Verbatim tags aren't resolved, so ${Y} is invalid.`),null;if(Y[Y.length-1]!==">")J("Verbatim tags must end with a >");return $}let[,X,Z]=Y.match(/^(.*!)([^!]*)$/s);if(!Z)J(`The ${Y} tag has no suffix`);let W=this.tags[X];if(W)try{return W+decodeURIComponent(Z)}catch($){return J(String($)),null}if(X==="!")return Y;return J(`Could not resolve tag: ${Y}`),null}tagString(Y){for(let[J,X]of Object.entries(this.tags))if(Y.startsWith(X))return J+L86(Y.substring(X.length));return Y[0]==="!"?Y:`!<${Y}>`}toString(Y){let J=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],X=Object.entries(this.tags),Z;if(Y&&X.length>0&&JZ0.isNode(Y.contents)){let W={};A86.visit(Y.contents,($,G)=>{if(JZ0.isNode(G)&&G.tag)W[G.tag]=!0}),Z=Object.keys(W)}else Z=[];for(let[W,$]of X){if(W==="!!"&&$==="tag:yaml.org,2002:")continue;if(!Y||Z.some((G)=>G.startsWith($)))J.push(`%TAG ${W} ${$}`)}return J.join(`
`)}}GY.defaultYaml={explicit:!1,version:"1.2"};GY.defaultTags={"!!":"tag:yaml.org,2002:"};M86.Directives=GY});var nS=q((S86)=>{var XZ0=e0(),T86=uD();function R86(Y){if(/[\x00-\x19\s,[\]{}]/.test(Y)){let X=`Anchor must not contain whitespace or control characters: ${JSON.stringify(Y)}`;throw Error(X)}return!0}function ZZ0(Y){let J=new Set;return T86.visit(Y,{Value(X,Z){if(Z.anchor)J.add(Z.anchor)}}),J}function WZ0(Y,J){for(let X=1;;++X){let Z=`${Y}${X}`;if(!J.has(Z))return Z}}function N86(Y,J){let X=[],Z=new Map,W=null;return{onAnchor:($)=>{X.push($),W??(W=ZZ0(Y));let G=WZ0(J,W);return W.add(G),G},setAnchors:()=>{for(let $ of X){let G=Z.get($);if(typeof G==="object"&&G.anchor&&(XZ0.isScalar(G.node)||XZ0.isCollection(G.node)))G.node.anchor=G.anchor;else{let Q=Error("Failed to resolve repeated object (this should not happen)");throw Q.source=$,Q}}},sourceObjects:Z}}S86.anchorIsValid=R86;S86.anchorNames=ZZ0;S86.createNodeAnchors=N86;S86.findNewAnchor=WZ0});var Ve=q((x86)=>{function mD(Y,J,X,Z){if(Z&&typeof Z==="object")if(Array.isArray(Z))for(let W=0,$=Z.length;W<$;++W){let G=Z[W],Q=mD(Y,Z,String(W),G);if(Q===void 0)delete Z[W];else if(Q!==G)Z[W]=Q}else if(Z instanceof Map)for(let W of Array.from(Z.keys())){let $=Z.get(W),G=mD(Y,Z,W,$);if(G===void 0)Z.delete(W);else if(G!==$)Z.set(W,G)}else if(Z instanceof Set)for(let W of Array.from(Z)){let $=mD(Y,Z,W,W);if($===void 0)Z.delete(W);else if($!==W)Z.delete(W),Z.add($)}else for(let[W,$]of Object.entries(Z)){let G=mD(Y,Z,W,$);if(G===void 0)delete Z[W];else if(G!==$)Z[W]=G}return Y.call(J,X,Z)}x86.applyReviver=mD});var L$=q((h86)=>{var v86=e0();function $Z0(Y,J,X){if(Array.isArray(Y))return Y.map((Z,W)=>$Z0(Z,String(W),X));if(Y&&typeof Y.toJSON==="function"){if(!X||!v86.hasAnchor(Y))return Y.toJSON(J,X);let Z={aliasCount:0,count:1,res:void 0};X.anchors.set(Y,Z),X.onCreate=($)=>{Z.res=$,delete X.onCreate};let W=Y.toJSON(J,X);if(X.onCreate)X.onCreate(W);return W}if(typeof Y==="bigint"&&!X?.keep)return Number(Y);return Y}h86.toJS=$Z0});var iS=q((u86)=>{var y86=Ve(),GZ0=e0(),g86=L$();class QZ0{constructor(Y){Object.defineProperty(this,GZ0.NODE_TYPE,{value:Y})}clone(){let Y=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));if(this.range)Y.range=this.range.slice();return Y}toJS(Y,{mapAsMap:J,maxAliasCount:X,onAnchor:Z,reviver:W}={}){if(!GZ0.isDocument(Y))throw TypeError("A document argument is required");let $={anchors:new Map,doc:Y,keep:!0,mapAsMap:J===!0,mapKeyWarned:!1,maxAliasCount:typeof X==="number"?X:100},G=g86.toJS(this,"",$);if(typeof Z==="function")for(let{count:Q,res:U}of $.anchors.values())Z(U,Q);return typeof W==="function"?y86.applyReviver(W,{"":G},"",G):G}}u86.NodeBase=QZ0});var dD=q((n86)=>{var d86=nS(),c86=uD(),NK=e0(),l86=iS(),p86=L$();class UZ0 extends l86.NodeBase{constructor(Y){super(NK.ALIAS);this.source=Y,Object.defineProperty(this,"tag",{set(){throw Error("Alias nodes cannot have tags")}})}resolve(Y,J){let X;if(J?.aliasResolveCache)X=J.aliasResolveCache;else if(X=[],c86.visit(Y,{Node:(W,$)=>{if(NK.isAlias($)||NK.hasAnchor($))X.push($)}}),J)J.aliasResolveCache=X;let Z=void 0;for(let W of X){if(W===this)break;if(W.anchor===this.source)Z=W}return Z}toJSON(Y,J){if(!J)return{source:this.source};let{anchors:X,doc:Z,maxAliasCount:W}=J,$=this.resolve(Z,J);if(!$){let Q=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw ReferenceError(Q)}let G=X.get($);if(!G)p86.toJS($,null,J),G=X.get($);if(G?.res===void 0)throw ReferenceError("This should not happen: Alias anchor was not resolved?");if(W>=0){if(G.count+=1,G.aliasCount===0)G.aliasCount=oS(Z,$,X);if(G.count*G.aliasCount>W)throw ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return G.res}toString(Y,J,X){let Z=`*${this.source}`;if(Y){if(d86.anchorIsValid(this.source),Y.options.verifyAliasOrder&&!Y.anchors.has(this.source)){let W=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw Error(W)}if(Y.implicitKey)return`${Z} `}return Z}}function oS(Y,J,X){if(NK.isAlias(J)){let Z=J.resolve(Y),W=X&&Z&&X.get(Z);return W?W.count*W.aliasCount:0}else if(NK.isCollection(J)){let Z=0;for(let W of J.items){let $=oS(Y,W,X);if($>Z)Z=$}return Z}else if(NK.isPair(J)){let Z=oS(Y,J.key,X),W=oS(Y,J.value,X);return Math.max(Z,W)}return 1}n86.Alias=UZ0});var H8=q((t86)=>{var o86=e0(),r86=iS(),a86=L$(),s86=(Y)=>!Y||typeof Y!=="function"&&typeof Y!=="object";class BU extends r86.NodeBase{constructor(Y){super(o86.SCALAR);this.value=Y}toJSON(Y,J){return J?.keep?this.value:a86.toJS(this.value,Y,J)}toString(){return String(this.value)}}BU.BLOCK_FOLDED="BLOCK_FOLDED";BU.BLOCK_LITERAL="BLOCK_LITERAL";BU.PLAIN="PLAIN";BU.QUOTE_DOUBLE="QUOTE_DOUBLE";BU.QUOTE_SINGLE="QUOTE_SINGLE";t86.Scalar=BU;t86.isScalarValue=s86});var cD=q(($56)=>{var J56=dD(),qU=e0(),zZ0=H8(),X56="tag:yaml.org,2002:";function Z56(Y,J,X){if(J){let Z=X.filter(($)=>$.tag===J),W=Z.find(($)=>!$.format)??Z[0];if(!W)throw Error(`Tag ${J} not found`);return W}return X.find((Z)=>Z.identify?.(Y)&&!Z.format)}function W56(Y,J,X){if(qU.isDocument(Y))Y=Y.contents;if(qU.isNode(Y))return Y;if(qU.isPair(Y)){let O=X.schema[qU.MAP].createNode?.(X.schema,null,X);return O.items.push(Y),O}if(Y instanceof String||Y instanceof Number||Y instanceof Boolean||typeof BigInt<"u"&&Y instanceof BigInt)Y=Y.valueOf();let{aliasDuplicateObjects:Z,onAnchor:W,onTagObj:$,schema:G,sourceObjects:Q}=X,U=void 0;if(Z&&Y&&typeof Y==="object")if(U=Q.get(Y),U)return U.anchor??(U.anchor=W(Y)),new J56.Alias(U.anchor);else U={anchor:null,node:null},Q.set(Y,U);if(J?.startsWith("!!"))J=X56+J.slice(2);let z=Z56(Y,J,G.tags);if(!z){if(Y&&typeof Y.toJSON==="function")Y=Y.toJSON();if(!Y||typeof Y!=="object"){let O=new zZ0.Scalar(Y);if(U)U.node=O;return O}z=Y instanceof Map?G[qU.MAP]:(Symbol.iterator in Object(Y))?G[qU.SEQ]:G[qU.MAP]}if($)$(z),delete X.onTagObj;let H=z?.createNode?z.createNode(X.schema,Y,X):typeof z?.nodeClass?.from==="function"?z.nodeClass.from(X.schema,Y,X):new zZ0.Scalar(Y);if(J)H.tag=J;else if(!z.default)H.tag=z.tag;if(U)U.node=H;return H}$56.createNode=W56});var rS=q((z56)=>{var Q56=cD(),sX=e0(),U56=iS();function Ie(Y,J,X){let Z=X;for(let W=J.length-1;W>=0;--W){let $=J[W];if(typeof $==="number"&&Number.isInteger($)&&$>=0){let G=[];G[$]=Z,Z=G}else Z=new Map([[$,Z]])}return Q56.createNode(Z,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw Error("This should not happen, please report a bug.")},schema:Y,sourceObjects:new Map})}var HZ0=(Y)=>Y==null||typeof Y==="object"&&!!Y[Symbol.iterator]().next().done;class OZ0 extends U56.NodeBase{constructor(Y,J){super(Y);Object.defineProperty(this,"schema",{value:J,configurable:!0,enumerable:!1,writable:!0})}clone(Y){let J=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));if(Y)J.schema=Y;if(J.items=J.items.map((X)=>sX.isNode(X)||sX.isPair(X)?X.clone(Y):X),this.range)J.range=this.range.slice();return J}addIn(Y,J){if(HZ0(Y))this.add(J);else{let[X,...Z]=Y,W=this.get(X,!0);if(sX.isCollection(W))W.addIn(Z,J);else if(W===void 0&&this.schema)this.set(X,Ie(this.schema,Z,J));else throw Error(`Expected YAML collection at ${X}. Remaining path: ${Z}`)}}deleteIn(Y){let[J,...X]=Y;if(X.length===0)return this.delete(J);let Z=this.get(J,!0);if(sX.isCollection(Z))return Z.deleteIn(X);else throw Error(`Expected YAML collection at ${J}. Remaining path: ${X}`)}getIn(Y,J){let[X,...Z]=Y,W=this.get(X,!0);if(Z.length===0)return!J&&sX.isScalar(W)?W.value:W;else return sX.isCollection(W)?W.getIn(Z,J):void 0}hasAllNullValues(Y){return this.items.every((J)=>{if(!sX.isPair(J))return!1;let X=J.value;return X==null||Y&&sX.isScalar(X)&&X.value==null&&!X.commentBefore&&!X.comment&&!X.tag})}hasIn(Y){let[J,...X]=Y;if(X.length===0)return this.has(J);let Z=this.get(J,!0);return sX.isCollection(Z)?Z.hasIn(X):!1}setIn(Y,J){let[X,...Z]=Y;if(Z.length===0)this.set(X,J);else{let W=this.get(X,!0);if(sX.isCollection(W))W.setIn(Z,J);else if(W===void 0&&this.schema)this.set(X,Ie(this.schema,Z,J));else throw Error(`Expected YAML collection at ${X}. Remaining path: ${Z}`)}}}z56.Collection=OZ0;z56.collectionFromPath=Ie;z56.isEmptyPath=HZ0});var lD=q((F56)=>{var B56=(Y)=>Y.replace(/^(?!$)(?: $)?/gm,"#");function De(Y,J){if(/^\n+$/.test(Y))return Y.substring(1);return J?Y.replace(/^(?! *$)/gm,J):Y}var q56=(Y,J,X)=>Y.endsWith(`
`)?De(X,J):X.includes(`
`)?`
`+De(X,J):(Y.endsWith(" ")?"":" ")+X;F56.indentComment=De;F56.lineComment=q56;F56.stringifyComment=B56});var BZ0=q((A56)=>{function w56(Y,J,X="flow",{indentAtStart:Z,lineWidth:W=80,minContentWidth:$=20,onFold:G,onOverflow:Q}={}){if(!W||W<0)return Y;if(W<$)$=0;let U=Math.max(1+$,1+W-J.length);if(Y.length<=U)return Y;let z=[],H={},O=W-J.length;if(typeof Z==="number")if(Z>W-Math.max(2,$))z.push(0);else O=W-Z;let K=void 0,B=void 0,F=!1,V=-1,I=-1,D=-1;if(X==="block"){if(V=KZ0(Y,V,J.length),V!==-1)O=V+U}for(let A;A=Y[V+=1];){if(X==="quoted"&&A==="\\"){switch(I=V,Y[V+1]){case"x":V+=3;break;case"u":V+=5;break;case"U":V+=9;break;default:V+=1}D=V}if(A===`
`){if(X==="block")V=KZ0(Y,V,J.length);O=V+J.length+U,K=void 0}else{if(A===" "&&B&&B!==" "&&B!==`
`&&B!=="\t"){let P=Y[V+1];if(P&&P!==" "&&P!==`
`&&P!=="\t")K=V}if(V>=O)if(K)z.push(K),O=K+U,K=void 0;else if(X==="quoted"){while(B===" "||B==="\t")B=A,A=Y[V+=1],F=!0;let P=V>D+1?V-2:I-1;if(H[P])return Y;z.push(P),H[P]=!0,O=P+U,K=void 0}else F=!0}B=A}if(F&&Q)Q();if(z.length===0)return Y;if(G)G();let L=Y.slice(0,z[0]);for(let A=0;A<z.length;++A){let P=z[A],R=z[A+1]||Y.length;if(P===0)L=`
${J}${Y.slice(0,R)}`;else{if(X==="quoted"&&H[P])L+=`${Y[P]}\\`;L+=`
${J}${Y.slice(P+1,R)}`}}return L}function KZ0(Y,J,X){let Z=J,W=J+1,$=Y[W];while($===" "||$==="\t")if(J<W+X)$=Y[++J];else{do $=Y[++J];while($&&$!==`
`);Z=J,W=J+1,$=Y[W]}return Z}A56.FOLD_BLOCK="block";A56.FOLD_FLOW="flow";A56.FOLD_QUOTED="quoted";A56.foldFlowLines=w56});var nD=q((S56)=>{var qJ=H8(),M$=BZ0(),sS=(Y,J)=>({indentAtStart:J?Y.indent.length:Y.indentAtStart,lineWidth:Y.options.lineWidth,minContentWidth:Y.options.minContentWidth}),tS=(Y)=>/^(%|---|\.\.\.)/m.test(Y);function T56(Y,J,X){if(!J||J<0)return!1;let Z=J-X,W=Y.length;if(W<=Z)return!1;for(let $=0,G=0;$<W;++$)if(Y[$]===`
`){if($-G>Z)return!0;if(G=$+1,W-G<=Z)return!1}return!0}function pD(Y,J){let X=JSON.stringify(Y);if(J.options.doubleQuotedAsJSON)return X;let{implicitKey:Z}=J,W=J.options.doubleQuotedMinMultiLineLength,$=J.indent||(tS(Y)?"  ":""),G="",Q=0;for(let U=0,z=X[U];z;z=X[++U]){if(z===" "&&X[U+1]==="\\"&&X[U+2]==="n")G+=X.slice(Q,U)+"\\ ",U+=1,Q=U,z="\\";if(z==="\\")switch(X[U+1]){case"u":{G+=X.slice(Q,U);let H=X.substr(U+2,4);switch(H){case"0000":G+="\\0";break;case"0007":G+="\\a";break;case"000b":G+="\\v";break;case"001b":G+="\\e";break;case"0085":G+="\\N";break;case"00a0":G+="\\_";break;case"2028":G+="\\L";break;case"2029":G+="\\P";break;default:if(H.substr(0,2)==="00")G+="\\x"+H.substr(2);else G+=X.substr(U,6)}U+=5,Q=U+1}break;case"n":if(Z||X[U+2]==='"'||X.length<W)U+=1;else{G+=X.slice(Q,U)+`

`;while(X[U+2]==="\\"&&X[U+3]==="n"&&X[U+4]!=='"')G+=`
`,U+=2;if(G+=$,X[U+2]===" ")G+="\\";U+=1,Q=U+1}break;default:U+=1}}return G=Q?G+X.slice(Q):X,Z?G:M$.foldFlowLines(G,$,M$.FOLD_QUOTED,sS(J,!1))}function we(Y,J){if(J.options.singleQuote===!1||J.implicitKey&&Y.includes(`
`)||/[ \t]\n|\n[ \t]/.test(Y))return pD(Y,J);let X=J.indent||(tS(Y)?"  ":""),Z="'"+Y.replace(/'/g,"''").replace(/\n+/g,`$&
${X}`)+"'";return J.implicitKey?Z:M$.foldFlowLines(Z,X,M$.FOLD_FLOW,sS(J,!1))}function SK(Y,J){let{singleQuote:X}=J.options,Z;if(X===!1)Z=pD;else{let W=Y.includes('"'),$=Y.includes("'");if(W&&!$)Z=we;else if($&&!W)Z=pD;else Z=X?we:pD}return Z(Y,J)}var Ae;try{Ae=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Ae=/\n+(?!\n|$)/g}function aS({comment:Y,type:J,value:X},Z,W,$){let{blockQuote:G,commentString:Q,lineWidth:U}=Z.options;if(!G||/\n[\t ]+$/.test(X))return SK(X,Z);let z=Z.indent||(Z.forceBlockIndent||tS(X)?"  ":""),H=G==="literal"?!0:G==="folded"||J===qJ.Scalar.BLOCK_FOLDED?!1:J===qJ.Scalar.BLOCK_LITERAL?!0:!T56(X,U,z.length);if(!X)return H?`|
`:`>
`;let O,K;for(K=X.length;K>0;--K){let R=X[K-1];if(R!==`
`&&R!=="\t"&&R!==" ")break}let B=X.substring(K),F=B.indexOf(`
`);if(F===-1)O="-";else if(X===B||F!==B.length-1){if(O="+",$)$()}else O="";if(B){if(X=X.slice(0,-B.length),B[B.length-1]===`
`)B=B.slice(0,-1);B=B.replace(Ae,`$&${z}`)}let V=!1,I,D=-1;for(I=0;I<X.length;++I){let R=X[I];if(R===" ")V=!0;else if(R===`
`)D=I;else break}let L=X.substring(0,D<I?D+1:I);if(L)X=X.substring(L.length),L=L.replace(/\n+/g,`$&${z}`);let P=(V?z?"2":"1":"")+O;if(Y){if(P+=" "+Q(Y.replace(/ ?[\r\n]+/g," ")),W)W()}if(!H){let R=X.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${z}`),N=!1,v=sS(Z,!0);if(G!=="folded"&&J!==qJ.Scalar.BLOCK_FOLDED)v.onOverflow=()=>{N=!0};let j=M$.foldFlowLines(`${L}${R}${B}`,z,M$.FOLD_BLOCK,v);if(!N)return`>${P}
${z}${j}`}return X=X.replace(/\n+/g,`$&${z}`),`|${P}
${z}${L}${X}${B}`}function R56(Y,J,X,Z){let{type:W,value:$}=Y,{actualString:G,implicitKey:Q,indent:U,indentStep:z,inFlow:H}=J;if(Q&&$.includes(`
`)||H&&/[[\]{},]/.test($))return SK($,J);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test($))return Q||H||!$.includes(`
`)?SK($,J):aS(Y,J,X,Z);if(!Q&&!H&&W!==qJ.Scalar.PLAIN&&$.includes(`
`))return aS(Y,J,X,Z);if(tS($)){if(U==="")return J.forceBlockIndent=!0,aS(Y,J,X,Z);else if(Q&&U===z)return SK($,J)}let O=$.replace(/\n+/g,`$&
${U}`);if(G){let K=(V)=>V.default&&V.tag!=="tag:yaml.org,2002:str"&&V.test?.test(O),{compat:B,tags:F}=J.doc.schema;if(F.some(K)||B?.some(K))return SK($,J)}return Q?O:M$.foldFlowLines(O,U,M$.FOLD_FLOW,sS(J,!1))}function N56(Y,J,X,Z){let{implicitKey:W,inFlow:$}=J,G=typeof Y.value==="string"?Y:Object.assign({},Y,{value:String(Y.value)}),{type:Q}=Y;if(Q!==qJ.Scalar.QUOTE_DOUBLE){if(/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(G.value))Q=qJ.Scalar.QUOTE_DOUBLE}let U=(H)=>{switch(H){case qJ.Scalar.BLOCK_FOLDED:case qJ.Scalar.BLOCK_LITERAL:return W||$?SK(G.value,J):aS(G,J,X,Z);case qJ.Scalar.QUOTE_DOUBLE:return pD(G.value,J);case qJ.Scalar.QUOTE_SINGLE:return we(G.value,J);case qJ.Scalar.PLAIN:return R56(G,J,X,Z);default:return null}},z=U(Q);if(z===null){let{defaultKeyType:H,defaultStringType:O}=J.options,K=W&&H||O;if(z=U(K),z===null)throw Error(`Unsupported default string type ${K}`)}return z}S56.stringifyString=N56});var iD=q((b56)=>{var j56=nS(),E$=e0(),k56=lD(),_56=nD();function x56(Y,J){let X=Object.assign({blockQuote:!0,commentString:k56.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},Y.schema.toStringOptions,J),Z;switch(X.collectionStyle){case"block":Z=!1;break;case"flow":Z=!0;break;default:Z=null}return{anchors:new Set,doc:Y,flowCollectionPadding:X.flowCollectionPadding?" ":"",indent:"",indentStep:typeof X.indent==="number"?" ".repeat(X.indent):"  ",inFlow:Z,options:X}}function f56(Y,J){if(J.tag){let W=Y.filter(($)=>$.tag===J.tag);if(W.length>0)return W.find(($)=>$.format===J.format)??W[0]}let X=void 0,Z;if(E$.isScalar(J)){Z=J.value;let W=Y.filter(($)=>$.identify?.(Z));if(W.length>1){let $=W.filter((G)=>G.test);if($.length>0)W=$}X=W.find(($)=>$.format===J.format)??W.find(($)=>!$.format)}else Z=J,X=Y.find((W)=>W.nodeClass&&Z instanceof W.nodeClass);if(!X){let W=Z?.constructor?.name??(Z===null?"null":typeof Z);throw Error(`Tag not resolved for ${W} value`)}return X}function v56(Y,J,{anchors:X,doc:Z}){if(!Z.directives)return"";let W=[],$=(E$.isScalar(Y)||E$.isCollection(Y))&&Y.anchor;if($&&j56.anchorIsValid($))X.add($),W.push(`&${$}`);let G=Y.tag??(J.default?null:J.tag);if(G)W.push(Z.directives.tagString(G));return W.join(" ")}function h56(Y,J,X,Z){if(E$.isPair(Y))return Y.toString(J,X,Z);if(E$.isAlias(Y)){if(J.doc.directives)return Y.toString(J);if(J.resolvedAliases?.has(Y))throw TypeError("Cannot stringify circular structure without alias nodes");else{if(J.resolvedAliases)J.resolvedAliases.add(Y);else J.resolvedAliases=new Set([Y]);Y=Y.resolve(J.doc)}}let W=void 0,$=E$.isNode(Y)?Y:J.doc.createNode(Y,{onTagObj:(U)=>W=U});W??(W=f56(J.doc.schema.tags,$));let G=v56($,W,J);if(G.length>0)J.indentAtStart=(J.indentAtStart??0)+G.length+1;let Q=typeof W.stringify==="function"?W.stringify($,J,X,Z):E$.isScalar($)?_56.stringifyString($,J,X,Z):$.toString(J,X,Z);if(!G)return Q;return E$.isScalar($)||Q[0]==="{"||Q[0]==="["?`${G} ${Q}`:`${G}
${J.indent}${Q}`}b56.createStringifyContext=x56;b56.stringify=h56});var VZ0=q((m56)=>{var LZ=e0(),qZ0=H8(),FZ0=iD(),oD=lD();function u56({key:Y,value:J},X,Z,W){let{allNullValues:$,doc:G,indent:Q,indentStep:U,options:{commentString:z,indentSeq:H,simpleKeys:O}}=X,K=LZ.isNode(Y)&&Y.comment||null;if(O){if(K)throw Error("With simple keys, key nodes cannot have comments");if(LZ.isCollection(Y)||!LZ.isNode(Y)&&typeof Y==="object")throw Error("With simple keys, collection cannot be used as a key value")}let B=!O&&(!Y||K&&J==null&&!X.inFlow||LZ.isCollection(Y)||(LZ.isScalar(Y)?Y.type===qZ0.Scalar.BLOCK_FOLDED||Y.type===qZ0.Scalar.BLOCK_LITERAL:typeof Y==="object"));X=Object.assign({},X,{allNullValues:!1,implicitKey:!B&&(O||!$),indent:Q+U});let F=!1,V=!1,I=FZ0.stringify(Y,X,()=>F=!0,()=>V=!0);if(!B&&!X.inFlow&&I.length>1024){if(O)throw Error("With simple keys, single line scalar must not span more than 1024 characters");B=!0}if(X.inFlow){if($||J==null){if(F&&Z)Z();return I===""?"?":B?`? ${I}`:I}}else if($&&!O||J==null&&B){if(I=`? ${I}`,K&&!F)I+=oD.lineComment(I,X.indent,z(K));else if(V&&W)W();return I}if(F)K=null;if(B){if(K)I+=oD.lineComment(I,X.indent,z(K));I=`? ${I}
${Q}:`}else if(I=`${I}:`,K)I+=oD.lineComment(I,X.indent,z(K));let D,L,A;if(LZ.isNode(J))D=!!J.spaceBefore,L=J.commentBefore,A=J.comment;else if(D=!1,L=null,A=null,J&&typeof J==="object")J=G.createNode(J);if(X.implicitKey=!1,!B&&!K&&LZ.isScalar(J))X.indentAtStart=I.length+1;if(V=!1,!H&&U.length>=2&&!X.inFlow&&!B&&LZ.isSeq(J)&&!J.flow&&!J.tag&&!J.anchor)X.indent=X.indent.substring(2);let P=!1,R=FZ0.stringify(J,X,()=>P=!0,()=>V=!0),N=" ";if(K||D||L){if(N=D?`
`:"",L){let v=z(L);N+=`
${oD.indentComment(v,X.indent)}`}if(R===""&&!X.inFlow){if(N===`
`&&A)N=`

`}else N+=`
${X.indent}`}else if(!B&&LZ.isCollection(J)){let v=R[0],j=R.indexOf(`
`),M=j!==-1,b=X.inFlow??J.flow??J.items.length===0;if(M||!b){let k=!1;if(M&&(v==="&"||v==="!")){let r=R.indexOf(" ");if(v==="&"&&r!==-1&&r<j&&R[r+1]==="!")r=R.indexOf(" ",r+1);if(r===-1||j<r)k=!0}if(!k)N=`
${X.indent}`}}else if(R===""||R[0]===`
`)N="";if(I+=N+R,X.inFlow){if(P&&Z)Z()}else if(A&&!P)I+=oD.lineComment(I,X.indent,z(A));else if(V&&W)W();return I}m56.stringifyPair=u56});var Pe=q((p56)=>{var IZ0=C("process");function c56(Y,...J){if(Y==="debug")console.log(...J)}function l56(Y,J){if(Y==="debug"||Y==="warn")if(typeof IZ0.emitWarning==="function")IZ0.emitWarning(J);else console.warn(J)}p56.debug=c56;p56.warn=l56});var JC=q((r56)=>{var rD=e0(),DZ0=H8(),eS="<<",YC={identify:(Y)=>Y===eS||typeof Y==="symbol"&&Y.description===eS,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new DZ0.Scalar(Symbol(eS)),{addToJSMap:wZ0}),stringify:()=>eS},o56=(Y,J)=>(YC.identify(J)||rD.isScalar(J)&&(!J.type||J.type===DZ0.Scalar.PLAIN)&&YC.identify(J.value))&&Y?.doc.schema.tags.some((X)=>X.tag===YC.tag&&X.default);function wZ0(Y,J,X){if(X=Y&&rD.isAlias(X)?X.resolve(Y.doc):X,rD.isSeq(X))for(let Z of X.items)Le(Y,J,Z);else if(Array.isArray(X))for(let Z of X)Le(Y,J,Z);else Le(Y,J,X)}function Le(Y,J,X){let Z=Y&&rD.isAlias(X)?X.resolve(Y.doc):X;if(!rD.isMap(Z))throw Error("Merge sources must be maps or map aliases");let W=Z.toJSON(null,Y,Map);for(let[$,G]of W)if(J instanceof Map){if(!J.has($))J.set($,G)}else if(J instanceof Set)J.add($);else if(!Object.prototype.hasOwnProperty.call(J,$))Object.defineProperty(J,$,{value:G,writable:!0,enumerable:!0,configurable:!0});return J}r56.addMergeToJSMap=wZ0;r56.isMergeKey=o56;r56.merge=YC});var Ee=q((Z96)=>{var e56=Pe(),AZ0=JC(),Y96=iD(),PZ0=e0(),Me=L$();function J96(Y,J,{key:X,value:Z}){if(PZ0.isNode(X)&&X.addToJSMap)X.addToJSMap(Y,J,Z);else if(AZ0.isMergeKey(Y,X))AZ0.addMergeToJSMap(Y,J,Z);else{let W=Me.toJS(X,"",Y);if(J instanceof Map)J.set(W,Me.toJS(Z,W,Y));else if(J instanceof Set)J.add(W);else{let $=X96(X,W,Y),G=Me.toJS(Z,$,Y);if($ in J)Object.defineProperty(J,$,{value:G,writable:!0,enumerable:!0,configurable:!0});else J[$]=G}}return J}function X96(Y,J,X){if(J===null)return"";if(typeof J!=="object")return String(J);if(PZ0.isNode(Y)&&X?.doc){let Z=Y96.createStringifyContext(X.doc,{});Z.anchors=new Set;for(let $ of X.anchors.keys())Z.anchors.add($.anchor);Z.inFlow=!0,Z.inStringifyKey=!0;let W=Y.toString(Z);if(!X.mapKeyWarned){let $=JSON.stringify(W);if($.length>40)$=$.substring(0,36)+'..."';e56.warn(X.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${$}. Set mapAsMap: true to use object keys.`),X.mapKeyWarned=!0}return W}return JSON.stringify(J)}Z96.addPairToJSMap=J96});var T$=q((U96)=>{var LZ0=cD(),$96=VZ0(),G96=Ee(),XC=e0();function Q96(Y,J,X){let Z=LZ0.createNode(Y,void 0,X),W=LZ0.createNode(J,void 0,X);return new ZC(Z,W)}class ZC{constructor(Y,J=null){Object.defineProperty(this,XC.NODE_TYPE,{value:XC.PAIR}),this.key=Y,this.value=J}clone(Y){let{key:J,value:X}=this;if(XC.isNode(J))J=J.clone(Y);if(XC.isNode(X))X=X.clone(Y);return new ZC(J,X)}toJSON(Y,J){let X=J?.mapAsMap?new Map:{};return G96.addPairToJSMap(J,X,this)}toString(Y,J,X){return Y?.doc?$96.stringifyPair(this,Y,J,X):JSON.stringify(this)}}U96.Pair=ZC;U96.createPair=Q96});var Te=q((q96)=>{var FU=e0(),MZ0=iD(),WC=lD();function O96(Y,J,X){return(J.inFlow??Y.flow?B96:K96)(Y,J,X)}function K96({comment:Y,items:J},X,{blockItemPrefix:Z,flowChars:W,itemIndent:$,onChompKeep:G,onComment:Q}){let{indent:U,options:{commentString:z}}=X,H=Object.assign({},X,{indent:$,type:null}),O=!1,K=[];for(let F=0;F<J.length;++F){let V=J[F],I=null;if(FU.isNode(V)){if(!O&&V.spaceBefore)K.push("");if($C(X,K,V.commentBefore,O),V.comment)I=V.comment}else if(FU.isPair(V)){let L=FU.isNode(V.key)?V.key:null;if(L){if(!O&&L.spaceBefore)K.push("");$C(X,K,L.commentBefore,O)}}O=!1;let D=MZ0.stringify(V,H,()=>I=null,()=>O=!0);if(I)D+=WC.lineComment(D,$,z(I));if(O&&I)O=!1;K.push(Z+D)}let B;if(K.length===0)B=W.start+W.end;else{B=K[0];for(let F=1;F<K.length;++F){let V=K[F];B+=V?`
${U}${V}`:`
`}}if(Y){if(B+=`
`+WC.indentComment(z(Y),U),Q)Q()}else if(O&&G)G();return B}function B96({items:Y},J,{flowChars:X,itemIndent:Z}){let{indent:W,indentStep:$,flowCollectionPadding:G,options:{commentString:Q}}=J;Z+=$;let U=Object.assign({},J,{indent:Z,inFlow:!0,type:null}),z=!1,H=0,O=[];for(let F=0;F<Y.length;++F){let V=Y[F],I=null;if(FU.isNode(V)){if(V.spaceBefore)O.push("");if($C(J,O,V.commentBefore,!1),V.comment)I=V.comment}else if(FU.isPair(V)){let L=FU.isNode(V.key)?V.key:null;if(L){if(L.spaceBefore)O.push("");if($C(J,O,L.commentBefore,!1),L.comment)z=!0}let A=FU.isNode(V.value)?V.value:null;if(A){if(A.comment)I=A.comment;if(A.commentBefore)z=!0}else if(V.value==null&&L?.comment)I=L.comment}if(I)z=!0;let D=MZ0.stringify(V,U,()=>I=null);if(F<Y.length-1)D+=",";if(I)D+=WC.lineComment(D,Z,Q(I));if(!z&&(O.length>H||D.includes(`
`)))z=!0;O.push(D),H=O.length}let{start:K,end:B}=X;if(O.length===0)return K+B;else{if(!z){let F=O.reduce((V,I)=>V+I.length+2,2);z=J.options.lineWidth>0&&F>J.options.lineWidth}if(z){let F=K;for(let V of O)F+=V?`
${$}${W}${V}`:`
`;return`${F}
${W}${B}`}else return`${K}${G}${O.join(" ")}${G}${B}`}}function $C({indent:Y,options:{commentString:J}},X,Z,W){if(Z&&W)Z=Z.replace(/^\n+/,"");if(Z){let $=WC.indentComment(J(Z),Y);X.push($.trimStart())}}q96.stringifyCollection=O96});var N$=q((A96)=>{var V96=Te(),I96=Ee(),D96=rS(),R$=e0(),GC=T$(),w96=H8();function aD(Y,J){let X=R$.isScalar(J)?J.value:J;for(let Z of Y)if(R$.isPair(Z)){if(Z.key===J||Z.key===X)return Z;if(R$.isScalar(Z.key)&&Z.key.value===X)return Z}return}class EZ0 extends D96.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(Y){super(R$.MAP,Y);this.items=[]}static from(Y,J,X){let{keepUndefined:Z,replacer:W}=X,$=new this(Y),G=(Q,U)=>{if(typeof W==="function")U=W.call(J,Q,U);else if(Array.isArray(W)&&!W.includes(Q))return;if(U!==void 0||Z)$.items.push(GC.createPair(Q,U,X))};if(J instanceof Map)for(let[Q,U]of J)G(Q,U);else if(J&&typeof J==="object")for(let Q of Object.keys(J))G(Q,J[Q]);if(typeof Y.sortMapEntries==="function")$.items.sort(Y.sortMapEntries);return $}add(Y,J){let X;if(R$.isPair(Y))X=Y;else if(!Y||typeof Y!=="object"||!("key"in Y))X=new GC.Pair(Y,Y?.value);else X=new GC.Pair(Y.key,Y.value);let Z=aD(this.items,X.key),W=this.schema?.sortMapEntries;if(Z){if(!J)throw Error(`Key ${X.key} already set`);if(R$.isScalar(Z.value)&&w96.isScalarValue(X.value))Z.value.value=X.value;else Z.value=X.value}else if(W){let $=this.items.findIndex((G)=>W(X,G)<0);if($===-1)this.items.push(X);else this.items.splice($,0,X)}else this.items.push(X)}delete(Y){let J=aD(this.items,Y);if(!J)return!1;return this.items.splice(this.items.indexOf(J),1).length>0}get(Y,J){let Z=aD(this.items,Y)?.value;return(!J&&R$.isScalar(Z)?Z.value:Z)??void 0}has(Y){return!!aD(this.items,Y)}set(Y,J){this.add(new GC.Pair(Y,J),!0)}toJSON(Y,J,X){let Z=X?new X:J?.mapAsMap?new Map:{};if(J?.onCreate)J.onCreate(Z);for(let W of this.items)I96.addPairToJSMap(J,Z,W);return Z}toString(Y,J,X){if(!Y)return JSON.stringify(this);for(let Z of this.items)if(!R$.isPair(Z))throw Error(`Map items must all be pairs; found ${JSON.stringify(Z)} instead`);if(!Y.allNullValues&&this.hasAllNullValues(!1))Y=Object.assign({},Y,{allNullValues:!0});return V96.stringifyCollection(this,Y,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:Y.indent||"",onChompKeep:X,onComment:J})}}A96.YAMLMap=EZ0;A96.findPair=aD});var CK=q((T96)=>{var M96=e0(),TZ0=N$(),E96={collection:"map",default:!0,nodeClass:TZ0.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(Y,J){if(!M96.isMap(Y))J("Expected a mapping for this tag");return Y},createNode:(Y,J,X)=>TZ0.YAMLMap.from(Y,J,X)};T96.map=E96});var S$=q((_96)=>{var N96=cD(),S96=Te(),C96=rS(),UC=e0(),j96=H8(),k96=L$();class RZ0 extends C96.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(Y){super(UC.SEQ,Y);this.items=[]}add(Y){this.items.push(Y)}delete(Y){let J=QC(Y);if(typeof J!=="number")return!1;return this.items.splice(J,1).length>0}get(Y,J){let X=QC(Y);if(typeof X!=="number")return;let Z=this.items[X];return!J&&UC.isScalar(Z)?Z.value:Z}has(Y){let J=QC(Y);return typeof J==="number"&&J<this.items.length}set(Y,J){let X=QC(Y);if(typeof X!=="number")throw Error(`Expected a valid index, not ${Y}.`);let Z=this.items[X];if(UC.isScalar(Z)&&j96.isScalarValue(J))Z.value=J;else this.items[X]=J}toJSON(Y,J){let X=[];if(J?.onCreate)J.onCreate(X);let Z=0;for(let W of this.items)X.push(k96.toJS(W,String(Z++),J));return X}toString(Y,J,X){if(!Y)return JSON.stringify(this);return S96.stringifyCollection(this,Y,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(Y.indent||"")+"  ",onChompKeep:X,onComment:J})}static from(Y,J,X){let{replacer:Z}=X,W=new this(Y);if(J&&Symbol.iterator in Object(J)){let $=0;for(let G of J){if(typeof Z==="function"){let Q=J instanceof Set?G:String($++);G=Z.call(J,Q,G)}W.items.push(N96.createNode(G,void 0,X))}}return W}}function QC(Y){let J=UC.isScalar(Y)?Y.value:Y;if(J&&typeof J==="string")J=Number(J);return typeof J==="number"&&Number.isInteger(J)&&J>=0?J:null}_96.YAMLSeq=RZ0});var jK=q((h96)=>{var f96=e0(),NZ0=S$(),v96={collection:"seq",default:!0,nodeClass:NZ0.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(Y,J){if(!f96.isSeq(Y))J("Expected a sequence for this tag");return Y},createNode:(Y,J,X)=>NZ0.YAMLSeq.from(Y,J,X)};h96.seq=v96});var sD=q((u96)=>{var y96=nD(),g96={identify:(Y)=>typeof Y==="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:(Y)=>Y,stringify(Y,J,X,Z){return J=Object.assign({actualString:!0},J),y96.stringifyString(Y,J,X,Z)}};u96.string=g96});var zC=q((d96)=>{var SZ0=H8(),CZ0={identify:(Y)=>Y==null,createNode:()=>new SZ0.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new SZ0.Scalar(null),stringify:({source:Y},J)=>typeof Y==="string"&&CZ0.test.test(Y)?Y:J.options.nullStr};d96.nullTag=CZ0});var Re=q((p96)=>{var l96=H8(),jZ0={identify:(Y)=>typeof Y==="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:(Y)=>new l96.Scalar(Y[0]==="t"||Y[0]==="T"),stringify({source:Y,value:J},X){if(Y&&jZ0.test.test(Y)){let Z=Y[0]==="t"||Y[0]==="T";if(J===Z)return Y}return J?X.options.trueStr:X.options.falseStr}};p96.boolTag=jZ0});var kK=q((o96)=>{function i96({format:Y,minFractionDigits:J,tag:X,value:Z}){if(typeof Z==="bigint")return String(Z);let W=typeof Z==="number"?Z:Number(Z);if(!isFinite(W))return isNaN(W)?".nan":W<0?"-.inf":".inf";let $=Object.is(Z,-0)?"-0":JSON.stringify(Z);if(!Y&&J&&(!X||X==="tag:yaml.org,2002:float")&&/^\d/.test($)){let G=$.indexOf(".");if(G<0)G=$.length,$+=".";let Q=J-($.length-G-1);while(Q-- >0)$+="0"}return $}o96.stringifyNumber=i96});var Se=q((Y76)=>{var a96=H8(),Ne=kK(),s96={identify:(Y)=>typeof Y==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:(Y)=>Y.slice(-3).toLowerCase()==="nan"?NaN:Y[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ne.stringifyNumber},t96={identify:(Y)=>typeof Y==="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:(Y)=>parseFloat(Y),stringify(Y){let J=Number(Y.value);return isFinite(J)?J.toExponential():Ne.stringifyNumber(Y)}},e96={identify:(Y)=>typeof Y==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(Y){let J=new a96.Scalar(parseFloat(Y)),X=Y.indexOf(".");if(X!==-1&&Y[Y.length-1]==="0")J.minFractionDigits=Y.length-X-1;return J},stringify:Ne.stringifyNumber};Y76.float=e96;Y76.floatExp=t96;Y76.floatNaN=s96});var je=q((Q76)=>{var kZ0=kK(),HC=(Y)=>typeof Y==="bigint"||Number.isInteger(Y),Ce=(Y,J,X,{intAsBigInt:Z})=>Z?BigInt(Y):parseInt(Y.substring(J),X);function _Z0(Y,J,X){let{value:Z}=Y;if(HC(Z)&&Z>=0)return X+Z.toString(J);return kZ0.stringifyNumber(Y)}var W76={identify:(Y)=>HC(Y)&&Y>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(Y,J,X)=>Ce(Y,2,8,X),stringify:(Y)=>_Z0(Y,8,"0o")},$76={identify:HC,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(Y,J,X)=>Ce(Y,0,10,X),stringify:kZ0.stringifyNumber},G76={identify:(Y)=>HC(Y)&&Y>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(Y,J,X)=>Ce(Y,2,16,X),stringify:(Y)=>_Z0(Y,16,"0x")};Q76.int=$76;Q76.intHex=G76;Q76.intOct=W76});var xZ0=q((I76)=>{var O76=CK(),K76=zC(),B76=jK(),q76=sD(),F76=Re(),ke=Se(),_e=je(),V76=[O76.map,B76.seq,q76.string,K76.nullTag,F76.boolTag,_e.intOct,_e.int,_e.intHex,ke.floatNaN,ke.floatExp,ke.float];I76.schema=V76});var vZ0=q((T76)=>{var w76=H8(),A76=CK(),P76=jK();function fZ0(Y){return typeof Y==="bigint"||Number.isInteger(Y)}var OC=({value:Y})=>JSON.stringify(Y),L76=[{identify:(Y)=>typeof Y==="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:(Y)=>Y,stringify:OC},{identify:(Y)=>Y==null,createNode:()=>new w76.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:OC},{identify:(Y)=>typeof Y==="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:(Y)=>Y==="true",stringify:OC},{identify:fZ0,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(Y,J,{intAsBigInt:X})=>X?BigInt(Y):parseInt(Y,10),stringify:({value:Y})=>fZ0(Y)?Y.toString():JSON.stringify(Y)},{identify:(Y)=>typeof Y==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:(Y)=>parseFloat(Y),stringify:OC}],M76={default:!0,tag:"",test:/^/,resolve(Y,J){return J(`Unresolved plain scalar ${JSON.stringify(Y)}`),Y}},E76=[A76.map,P76.seq].concat(L76,M76);T76.schema=E76});var fe=q((C76)=>{var tD=C("buffer"),xe=H8(),N76=nD(),S76={identify:(Y)=>Y instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(Y,J){if(typeof tD.Buffer==="function")return tD.Buffer.from(Y,"base64");else if(typeof atob==="function"){let X=atob(Y.replace(/[\n\r]/g,"")),Z=new Uint8Array(X.length);for(let W=0;W<X.length;++W)Z[W]=X.charCodeAt(W);return Z}else return J("This environment does not support reading binary tags; either Buffer or atob is required"),Y},stringify({comment:Y,type:J,value:X},Z,W,$){if(!X)return"";let G=X,Q;if(typeof tD.Buffer==="function")Q=G instanceof tD.Buffer?G.toString("base64"):tD.Buffer.from(G.buffer).toString("base64");else if(typeof btoa==="function"){let U="";for(let z=0;z<G.length;++z)U+=String.fromCharCode(G[z]);Q=btoa(U)}else throw Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(J??(J=xe.Scalar.BLOCK_LITERAL),J!==xe.Scalar.QUOTE_DOUBLE){let U=Math.max(Z.options.lineWidth-Z.indent.length,Z.options.minContentWidth),z=Math.ceil(Q.length/U),H=Array(z);for(let O=0,K=0;O<z;++O,K+=U)H[O]=Q.substr(K,U);Q=H.join(J===xe.Scalar.BLOCK_LITERAL?`
`:" ")}return N76.stringifyString({comment:Y,type:J,value:Q},Z,W,$)}};C76.binary=S76});var BC=q((f76)=>{var KC=e0(),ve=T$(),k76=H8(),_76=S$();function hZ0(Y,J){if(KC.isSeq(Y))for(let X=0;X<Y.items.length;++X){let Z=Y.items[X];if(KC.isPair(Z))continue;else if(KC.isMap(Z)){if(Z.items.length>1)J("Each pair must have its own sequence indicator");let W=Z.items[0]||new ve.Pair(new k76.Scalar(null));if(Z.commentBefore)W.key.commentBefore=W.key.commentBefore?`${Z.commentBefore}
${W.key.commentBefore}`:Z.commentBefore;if(Z.comment){let $=W.value??W.key;$.comment=$.comment?`${Z.comment}
${$.comment}`:Z.comment}Z=W}Y.items[X]=KC.isPair(Z)?Z:new ve.Pair(Z)}else J("Expected a sequence for this tag");return Y}function bZ0(Y,J,X){let{replacer:Z}=X,W=new _76.YAMLSeq(Y);W.tag="tag:yaml.org,2002:pairs";let $=0;if(J&&Symbol.iterator in Object(J))for(let G of J){if(typeof Z==="function")G=Z.call(J,String($++),G);let Q,U;if(Array.isArray(G))if(G.length===2)Q=G[0],U=G[1];else throw TypeError(`Expected [key, value] tuple: ${G}`);else if(G&&G instanceof Object){let z=Object.keys(G);if(z.length===1)Q=z[0],U=G[Q];else throw TypeError(`Expected tuple with one key, not ${z.length} keys`)}else Q=G;W.items.push(ve.createPair(Q,U,X))}return W}var x76={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:hZ0,createNode:bZ0};f76.createPairs=bZ0;f76.pairs=x76;f76.resolvePairs=hZ0});var be=q((u76)=>{var yZ0=e0(),he=L$(),eD=N$(),y76=S$(),gZ0=BC();class VU extends y76.YAMLSeq{constructor(){super();this.add=eD.YAMLMap.prototype.add.bind(this),this.delete=eD.YAMLMap.prototype.delete.bind(this),this.get=eD.YAMLMap.prototype.get.bind(this),this.has=eD.YAMLMap.prototype.has.bind(this),this.set=eD.YAMLMap.prototype.set.bind(this),this.tag=VU.tag}toJSON(Y,J){if(!J)return super.toJSON(Y);let X=new Map;if(J?.onCreate)J.onCreate(X);for(let Z of this.items){let W,$;if(yZ0.isPair(Z))W=he.toJS(Z.key,"",J),$=he.toJS(Z.value,W,J);else W=he.toJS(Z,"",J);if(X.has(W))throw Error("Ordered maps must not include duplicate keys");X.set(W,$)}return X}static from(Y,J,X){let Z=gZ0.createPairs(Y,J,X),W=new this;return W.items=Z.items,W}}VU.tag="tag:yaml.org,2002:omap";var g76={collection:"seq",identify:(Y)=>Y instanceof Map,nodeClass:VU,default:!1,tag:"tag:yaml.org,2002:omap",resolve(Y,J){let X=gZ0.resolvePairs(Y,J),Z=[];for(let{key:W}of X.items)if(yZ0.isScalar(W))if(Z.includes(W.value))J(`Ordered maps must not include duplicate keys: ${W.value}`);else Z.push(W.value);return Object.assign(new VU,X)},createNode:(Y,J,X)=>VU.from(Y,J,X)};u76.YAMLOMap=VU;u76.omap=g76});var lZ0=q((c76)=>{var uZ0=H8();function mZ0({value:Y,source:J},X){if(J&&(Y?dZ0:cZ0).test.test(J))return J;return Y?X.options.trueStr:X.options.falseStr}var dZ0={identify:(Y)=>Y===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new uZ0.Scalar(!0),stringify:mZ0},cZ0={identify:(Y)=>Y===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new uZ0.Scalar(!1),stringify:mZ0};c76.falseTag=cZ0;c76.trueTag=dZ0});var pZ0=q((a76)=>{var n76=H8(),ye=kK(),i76={identify:(Y)=>typeof Y==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:(Y)=>Y.slice(-3).toLowerCase()==="nan"?NaN:Y[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ye.stringifyNumber},o76={identify:(Y)=>typeof Y==="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:(Y)=>parseFloat(Y.replace(/_/g,"")),stringify(Y){let J=Number(Y.value);return isFinite(J)?J.toExponential():ye.stringifyNumber(Y)}},r76={identify:(Y)=>typeof Y==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(Y){let J=new n76.Scalar(parseFloat(Y.replace(/_/g,""))),X=Y.indexOf(".");if(X!==-1){let Z=Y.substring(X+1).replace(/_/g,"");if(Z[Z.length-1]==="0")J.minFractionDigits=Z.length}return J},stringify:ye.stringifyNumber};a76.float=r76;a76.floatExp=o76;a76.floatNaN=i76});var iZ0=q((WY6)=>{var nZ0=kK(),Yw=(Y)=>typeof Y==="bigint"||Number.isInteger(Y);function qC(Y,J,X,{intAsBigInt:Z}){let W=Y[0];if(W==="-"||W==="+")J+=1;if(Y=Y.substring(J).replace(/_/g,""),Z){switch(X){case 2:Y=`0b${Y}`;break;case 8:Y=`0o${Y}`;break;case 16:Y=`0x${Y}`;break}let G=BigInt(Y);return W==="-"?BigInt(-1)*G:G}let $=parseInt(Y,X);return W==="-"?-1*$:$}function ge(Y,J,X){let{value:Z}=Y;if(Yw(Z)){let W=Z.toString(J);return Z<0?"-"+X+W.substr(1):X+W}return nZ0.stringifyNumber(Y)}var YY6={identify:Yw,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(Y,J,X)=>qC(Y,2,2,X),stringify:(Y)=>ge(Y,2,"0b")},JY6={identify:Yw,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(Y,J,X)=>qC(Y,1,8,X),stringify:(Y)=>ge(Y,8,"0")},XY6={identify:Yw,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(Y,J,X)=>qC(Y,0,10,X),stringify:nZ0.stringifyNumber},ZY6={identify:Yw,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(Y,J,X)=>qC(Y,2,16,X),stringify:(Y)=>ge(Y,16,"0x")};WY6.int=XY6;WY6.intBin=YY6;WY6.intHex=ZY6;WY6.intOct=JY6});var ue=q((HY6)=>{var IC=e0(),FC=T$(),VC=N$();class IU extends VC.YAMLMap{constructor(Y){super(Y);this.tag=IU.tag}add(Y){let J;if(IC.isPair(Y))J=Y;else if(Y&&typeof Y==="object"&&"key"in Y&&"value"in Y&&Y.value===null)J=new FC.Pair(Y.key,null);else J=new FC.Pair(Y,null);if(!VC.findPair(this.items,J.key))this.items.push(J)}get(Y,J){let X=VC.findPair(this.items,Y);return!J&&IC.isPair(X)?IC.isScalar(X.key)?X.key.value:X.key:X}set(Y,J){if(typeof J!=="boolean")throw Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof J}`);let X=VC.findPair(this.items,Y);if(X&&!J)this.items.splice(this.items.indexOf(X),1);else if(!X&&J)this.items.push(new FC.Pair(Y))}toJSON(Y,J){return super.toJSON(Y,J,Set)}toString(Y,J,X){if(!Y)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},Y,{allNullValues:!0}),J,X);else throw Error("Set items must all have null values")}static from(Y,J,X){let{replacer:Z}=X,W=new this(Y);if(J&&Symbol.iterator in Object(J))for(let $ of J){if(typeof Z==="function")$=Z.call(J,$,$);W.items.push(FC.createPair($,null,X))}return W}}IU.tag="tag:yaml.org,2002:set";var zY6={collection:"map",identify:(Y)=>Y instanceof Set,nodeClass:IU,default:!1,tag:"tag:yaml.org,2002:set",createNode:(Y,J,X)=>IU.from(Y,J,X),resolve(Y,J){if(IC.isMap(Y))if(Y.hasAllNullValues(!0))return Object.assign(new IU,Y);else J("Set items must all have null values");else J("Expected a mapping for this tag");return Y}};HY6.YAMLSet=IU;HY6.set=zY6});var de=q((VY6)=>{var BY6=kK();function me(Y,J){let X=Y[0],Z=X==="-"||X==="+"?Y.substring(1):Y,W=(G)=>J?BigInt(G):Number(G),$=Z.replace(/_/g,"").split(":").reduce((G,Q)=>G*W(60)+W(Q),W(0));return X==="-"?W(-1)*$:$}function oZ0(Y){let{value:J}=Y,X=(G)=>G;if(typeof J==="bigint")X=(G)=>BigInt(G);else if(isNaN(J)||!isFinite(J))return BY6.stringifyNumber(Y);let Z="";if(J<0)Z="-",J*=X(-1);let W=X(60),$=[J%W];if(J<60)$.unshift(0);else if(J=(J-$[0])/W,$.unshift(J%W),J>=60)J=(J-$[0])/W,$.unshift(J);return Z+$.map((G)=>String(G).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var qY6={identify:(Y)=>typeof Y==="bigint"||Number.isInteger(Y),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(Y,J,{intAsBigInt:X})=>me(Y,X),stringify:oZ0},FY6={identify:(Y)=>typeof Y==="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:(Y)=>me(Y,!1),stringify:oZ0},rZ0={identify:(Y)=>Y instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(Y){let J=Y.match(rZ0.test);if(!J)throw Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,X,Z,W,$,G,Q]=J.map(Number),U=J[7]?Number((J[7]+"00").substr(1,3)):0,z=Date.UTC(X,Z-1,W,$||0,G||0,Q||0,U),H=J[8];if(H&&H!=="Z"){let O=me(H,!1);if(Math.abs(O)<30)O*=60;z-=60000*O}return new Date(z)},stringify:({value:Y})=>Y?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};VY6.floatTime=FY6;VY6.intTime=qY6;VY6.timestamp=rZ0});var sZ0=q((jY6)=>{var AY6=CK(),PY6=zC(),LY6=jK(),MY6=sD(),EY6=fe(),aZ0=lZ0(),ce=pZ0(),DC=iZ0(),TY6=JC(),RY6=be(),NY6=BC(),SY6=ue(),le=de(),CY6=[AY6.map,LY6.seq,MY6.string,PY6.nullTag,aZ0.trueTag,aZ0.falseTag,DC.intBin,DC.intOct,DC.int,DC.intHex,ce.floatNaN,ce.floatExp,ce.float,EY6.binary,TY6.merge,RY6.omap,NY6.pairs,SY6.set,le.intTime,le.floatTime,le.timestamp];jY6.schema=CY6});var QW0=q((gY6)=>{var JW0=CK(),_Y6=zC(),XW0=jK(),xY6=sD(),fY6=Re(),pe=Se(),ne=je(),vY6=xZ0(),hY6=vZ0(),ZW0=fe(),Jw=JC(),WW0=be(),$W0=BC(),tZ0=sZ0(),GW0=ue(),wC=de(),eZ0=new Map([["core",vY6.schema],["failsafe",[JW0.map,XW0.seq,xY6.string]],["json",hY6.schema],["yaml11",tZ0.schema],["yaml-1.1",tZ0.schema]]),YW0={binary:ZW0.binary,bool:fY6.boolTag,float:pe.float,floatExp:pe.floatExp,floatNaN:pe.floatNaN,floatTime:wC.floatTime,int:ne.int,intHex:ne.intHex,intOct:ne.intOct,intTime:wC.intTime,map:JW0.map,merge:Jw.merge,null:_Y6.nullTag,omap:WW0.omap,pairs:$W0.pairs,seq:XW0.seq,set:GW0.set,timestamp:wC.timestamp},bY6={"tag:yaml.org,2002:binary":ZW0.binary,"tag:yaml.org,2002:merge":Jw.merge,"tag:yaml.org,2002:omap":WW0.omap,"tag:yaml.org,2002:pairs":$W0.pairs,"tag:yaml.org,2002:set":GW0.set,"tag:yaml.org,2002:timestamp":wC.timestamp};function yY6(Y,J,X){let Z=eZ0.get(J);if(Z&&!Y)return X&&!Z.includes(Jw.merge)?Z.concat(Jw.merge):Z.slice();let W=Z;if(!W)if(Array.isArray(Y))W=[];else{let $=Array.from(eZ0.keys()).filter((G)=>G!=="yaml11").map((G)=>JSON.stringify(G)).join(", ");throw Error(`Unknown schema "${J}"; use one of ${$} or define customTags array`)}if(Array.isArray(Y))for(let $ of Y)W=W.concat($);else if(typeof Y==="function")W=Y(W.slice());if(X)W=W.concat(Jw.merge);return W.reduce(($,G)=>{let Q=typeof G==="string"?YW0[G]:G;if(!Q){let U=JSON.stringify(G),z=Object.keys(YW0).map((H)=>JSON.stringify(H)).join(", ");throw Error(`Unknown custom tag ${U}; use one of ${z}`)}if(!$.includes(Q))$.push(Q);return $},[])}gY6.coreKnownTags=bY6;gY6.getTags=yY6});var re=q((nY6)=>{var ie=e0(),dY6=CK(),cY6=jK(),lY6=sD(),AC=QW0(),pY6=(Y,J)=>Y.key<J.key?-1:Y.key>J.key?1:0;class oe{constructor({compat:Y,customTags:J,merge:X,resolveKnownTags:Z,schema:W,sortMapEntries:$,toStringDefaults:G}){this.compat=Array.isArray(Y)?AC.getTags(Y,"compat"):Y?AC.getTags(null,Y):null,this.name=typeof W==="string"&&W||"core",this.knownTags=Z?AC.coreKnownTags:{},this.tags=AC.getTags(J,this.name,X),this.toStringOptions=G??null,Object.defineProperty(this,ie.MAP,{value:dY6.map}),Object.defineProperty(this,ie.SCALAR,{value:lY6.string}),Object.defineProperty(this,ie.SEQ,{value:cY6.seq}),this.sortMapEntries=typeof $==="function"?$:$===!0?pY6:null}clone(){let Y=Object.create(oe.prototype,Object.getOwnPropertyDescriptors(this));return Y.tags=this.tags.slice(),Y}}nY6.Schema=oe});var UW0=q((aY6)=>{var oY6=e0(),ae=iD(),Xw=lD();function rY6(Y,J){let X=[],Z=J.directives===!0;if(J.directives!==!1&&Y.directives){let U=Y.directives.toString(Y);if(U)X.push(U),Z=!0;else if(Y.directives.docStart)Z=!0}if(Z)X.push("---");let W=ae.createStringifyContext(Y,J),{commentString:$}=W.options;if(Y.commentBefore){if(X.length!==1)X.unshift("");let U=$(Y.commentBefore);X.unshift(Xw.indentComment(U,""))}let G=!1,Q=null;if(Y.contents){if(oY6.isNode(Y.contents)){if(Y.contents.spaceBefore&&Z)X.push("");if(Y.contents.commentBefore){let H=$(Y.contents.commentBefore);X.push(Xw.indentComment(H,""))}W.forceBlockIndent=!!Y.comment,Q=Y.contents.comment}let U=Q?void 0:()=>G=!0,z=ae.stringify(Y.contents,W,()=>Q=null,U);if(Q)z+=Xw.lineComment(z,"",$(Q));if((z[0]==="|"||z[0]===">")&&X[X.length-1]==="---")X[X.length-1]=`--- ${z}`;else X.push(z)}else X.push(ae.stringify(Y.contents,W));if(Y.directives?.docEnd)if(Y.comment){let U=$(Y.comment);if(U.includes(`
`))X.push("..."),X.push(Xw.indentComment(U,""));else X.push(`... ${U}`)}else X.push("...");else{let U=Y.comment;if(U&&G)U=U.replace(/^\n+/,"");if(U){if((!G||Q)&&X[X.length-1]!=="")X.push("");X.push(Xw.indentComment($(U),""))}}return X.join(`
`)+`
`}aY6.stringifyDocument=rY6});var Zw=q(($J6)=>{var tY6=dD(),_K=rS(),QY=e0(),eY6=T$(),YJ6=L$(),JJ6=re(),XJ6=UW0(),se=nS(),ZJ6=Ve(),WJ6=cD(),te=Fe();class ee{constructor(Y,J,X){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,QY.NODE_TYPE,{value:QY.DOC});let Z=null;if(typeof J==="function"||Array.isArray(J))Z=J;else if(X===void 0&&J)X=J,J=void 0;let W=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},X);this.options=W;let{version:$}=W;if(X?._directives){if(this.directives=X._directives.atDocument(),this.directives.yaml.explicit)$=this.directives.yaml.version}else this.directives=new te.Directives({version:$});this.setSchema($,X),this.contents=Y===void 0?null:this.createNode(Y,Z,X)}clone(){let Y=Object.create(ee.prototype,{[QY.NODE_TYPE]:{value:QY.DOC}});if(Y.commentBefore=this.commentBefore,Y.comment=this.comment,Y.errors=this.errors.slice(),Y.warnings=this.warnings.slice(),Y.options=Object.assign({},this.options),this.directives)Y.directives=this.directives.clone();if(Y.schema=this.schema.clone(),Y.contents=QY.isNode(this.contents)?this.contents.clone(Y.schema):this.contents,this.range)Y.range=this.range.slice();return Y}add(Y){if(xK(this.contents))this.contents.add(Y)}addIn(Y,J){if(xK(this.contents))this.contents.addIn(Y,J)}createAlias(Y,J){if(!Y.anchor){let X=se.anchorNames(this);Y.anchor=!J||X.has(J)?se.findNewAnchor(J||"a",X):J}return new tY6.Alias(Y.anchor)}createNode(Y,J,X){let Z=void 0;if(typeof J==="function")Y=J.call({"":Y},"",Y),Z=J;else if(Array.isArray(J)){let V=(D)=>typeof D==="number"||D instanceof String||D instanceof Number,I=J.filter(V).map(String);if(I.length>0)J=J.concat(I);Z=J}else if(X===void 0&&J)X=J,J=void 0;let{aliasDuplicateObjects:W,anchorPrefix:$,flow:G,keepUndefined:Q,onTagObj:U,tag:z}=X??{},{onAnchor:H,setAnchors:O,sourceObjects:K}=se.createNodeAnchors(this,$||"a"),B={aliasDuplicateObjects:W??!0,keepUndefined:Q??!1,onAnchor:H,onTagObj:U,replacer:Z,schema:this.schema,sourceObjects:K},F=WJ6.createNode(Y,z,B);if(G&&QY.isCollection(F))F.flow=!0;return O(),F}createPair(Y,J,X={}){let Z=this.createNode(Y,null,X),W=this.createNode(J,null,X);return new eY6.Pair(Z,W)}delete(Y){return xK(this.contents)?this.contents.delete(Y):!1}deleteIn(Y){if(_K.isEmptyPath(Y)){if(this.contents==null)return!1;return this.contents=null,!0}return xK(this.contents)?this.contents.deleteIn(Y):!1}get(Y,J){return QY.isCollection(this.contents)?this.contents.get(Y,J):void 0}getIn(Y,J){if(_K.isEmptyPath(Y))return!J&&QY.isScalar(this.contents)?this.contents.value:this.contents;return QY.isCollection(this.contents)?this.contents.getIn(Y,J):void 0}has(Y){return QY.isCollection(this.contents)?this.contents.has(Y):!1}hasIn(Y){if(_K.isEmptyPath(Y))return this.contents!==void 0;return QY.isCollection(this.contents)?this.contents.hasIn(Y):!1}set(Y,J){if(this.contents==null)this.contents=_K.collectionFromPath(this.schema,[Y],J);else if(xK(this.contents))this.contents.set(Y,J)}setIn(Y,J){if(_K.isEmptyPath(Y))this.contents=J;else if(this.contents==null)this.contents=_K.collectionFromPath(this.schema,Array.from(Y),J);else if(xK(this.contents))this.contents.setIn(Y,J)}setSchema(Y,J={}){if(typeof Y==="number")Y=String(Y);let X;switch(Y){case"1.1":if(this.directives)this.directives.yaml.version="1.1";else this.directives=new te.Directives({version:"1.1"});X={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":if(this.directives)this.directives.yaml.version=Y;else this.directives=new te.Directives({version:Y});X={resolveKnownTags:!0,schema:"core"};break;case null:if(this.directives)delete this.directives;X=null;break;default:{let Z=JSON.stringify(Y);throw Error(`Expected '1.1', '1.2' or null as first argument, but found: ${Z}`)}}if(J.schema instanceof Object)this.schema=J.schema;else if(X)this.schema=new JJ6.Schema(Object.assign(X,J));else throw Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:Y,jsonArg:J,mapAsMap:X,maxAliasCount:Z,onAnchor:W,reviver:$}={}){let G={anchors:new Map,doc:this,keep:!Y,mapAsMap:X===!0,mapKeyWarned:!1,maxAliasCount:typeof Z==="number"?Z:100},Q=YJ6.toJS(this.contents,J??"",G);if(typeof W==="function")for(let{count:U,res:z}of G.anchors.values())W(z,U);return typeof $==="function"?ZJ6.applyReviver($,{"":Q},"",Q):Q}toJSON(Y,J){return this.toJS({json:!0,jsonArg:Y,mapAsMap:!1,onAnchor:J})}toString(Y={}){if(this.errors.length>0)throw Error("Document with errors cannot be stringified");if("indent"in Y&&(!Number.isInteger(Y.indent)||Number(Y.indent)<=0)){let J=JSON.stringify(Y.indent);throw Error(`"indent" option must be a positive integer, not ${J}`)}return XJ6.stringifyDocument(this,Y)}}function xK(Y){if(QY.isCollection(Y))return!0;throw Error("Expected a YAML collection as document contents")}$J6.Document=ee});var Ww=q((UJ6)=>{class PC extends Error{constructor(Y,J,X,Z){super();this.name=Y,this.code=X,this.message=Z,this.pos=J}}class zW0 extends PC{constructor(Y,J,X){super("YAMLParseError",Y,J,X)}}class HW0 extends PC{constructor(Y,J,X){super("YAMLWarning",Y,J,X)}}var QJ6=(Y,J)=>(X)=>{if(X.pos[0]===-1)return;X.linePos=X.pos.map((Q)=>J.linePos(Q));let{line:Z,col:W}=X.linePos[0];X.message+=` at line ${Z}, column ${W}`;let $=W-1,G=Y.substring(J.lineStarts[Z-1],J.lineStarts[Z]).replace(/[\n\r]+$/,"");if($>=60&&G.length>80){let Q=Math.min($-39,G.length-79);G="\u2026"+G.substring(Q),$-=Q-1}if(G.length>80)G=G.substring(0,79)+"\u2026";if(Z>1&&/^ *$/.test(G.substring(0,$))){let Q=Y.substring(J.lineStarts[Z-2],J.lineStarts[Z-1]);if(Q.length>80)Q=Q.substring(0,79)+`\u2026
`;G=Q+G}if(/[^ ]/.test(G)){let Q=1,U=X.linePos[1];if(U?.line===Z&&U.col>W)Q=Math.max(1,Math.min(U.col-W,80-$));let z=" ".repeat($)+"^".repeat(Q);X.message+=`:

${G}
${z}
`}};UJ6.YAMLError=PC;UJ6.YAMLParseError=zW0;UJ6.YAMLWarning=HW0;UJ6.prettifyError=QJ6});var $w=q((qJ6)=>{function BJ6(Y,{flow:J,indicator:X,next:Z,offset:W,onError:$,parentIndent:G,startOnNewline:Q}){let U=!1,z=Q,H=Q,O="",K="",B=!1,F=!1,V=null,I=null,D=null,L=null,A=null,P=null,R=null;for(let j of Y){if(F){if(j.type!=="space"&&j.type!=="newline"&&j.type!=="comma")$(j.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space");F=!1}if(V){if(z&&j.type!=="comment"&&j.type!=="newline")$(V,"TAB_AS_INDENT","Tabs are not allowed as indentation");V=null}switch(j.type){case"space":if(!J&&(X!=="doc-start"||Z?.type!=="flow-collection")&&j.source.includes("\t"))V=j;H=!0;break;case"comment":{if(!H)$(j,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let M=j.source.substring(1)||" ";if(!O)O=M;else O+=K+M;K="",z=!1;break}case"newline":if(z){if(O)O+=j.source;else if(!P||X!=="seq-item-ind")U=!0}else K+=j.source;if(z=!0,B=!0,I||D)L=j;H=!0;break;case"anchor":if(I)$(j,"MULTIPLE_ANCHORS","A node can have at most one anchor");if(j.source.endsWith(":"))$(j.offset+j.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0);I=j,R??(R=j.offset),z=!1,H=!1,F=!0;break;case"tag":{if(D)$(j,"MULTIPLE_TAGS","A node can have at most one tag");D=j,R??(R=j.offset),z=!1,H=!1,F=!0;break}case X:if(I||D)$(j,"BAD_PROP_ORDER",`Anchors and tags must be after the ${j.source} indicator`);if(P)$(j,"UNEXPECTED_TOKEN",`Unexpected ${j.source} in ${J??"collection"}`);P=j,z=X==="seq-item-ind"||X==="explicit-key-ind",H=!1;break;case"comma":if(J){if(A)$(j,"UNEXPECTED_TOKEN",`Unexpected , in ${J}`);A=j,z=!1,H=!1;break}default:$(j,"UNEXPECTED_TOKEN",`Unexpected ${j.type} token`),z=!1,H=!1}}let N=Y[Y.length-1],v=N?N.offset+N.source.length:W;if(F&&Z&&Z.type!=="space"&&Z.type!=="newline"&&Z.type!=="comma"&&(Z.type!=="scalar"||Z.source!==""))$(Z.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space");if(V&&(z&&V.indent<=G||Z?.type==="block-map"||Z?.type==="block-seq"))$(V,"TAB_AS_INDENT","Tabs are not allowed as indentation");return{comma:A,found:P,spaceBefore:U,comment:O,hasNewline:B,anchor:I,tag:D,newlineAfterProp:L,end:v,start:R??v}}qJ6.resolveProps=BJ6});var LC=q((VJ6)=>{function Y11(Y){if(!Y)return null;switch(Y.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(Y.source.includes(`
`))return!0;if(Y.end){for(let J of Y.end)if(J.type==="newline")return!0}return!1;case"flow-collection":for(let J of Y.items){for(let X of J.start)if(X.type==="newline")return!0;if(J.sep){for(let X of J.sep)if(X.type==="newline")return!0}if(Y11(J.key)||Y11(J.value))return!0}return!1;default:return!0}}VJ6.containsNewline=Y11});var J11=q((AJ6)=>{var DJ6=LC();function wJ6(Y,J,X){if(J?.type==="flow-collection"){let Z=J.end[0];if(Z.indent===Y&&(Z.source==="]"||Z.source==="}")&&DJ6.containsNewline(J))X(Z,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}AJ6.flowIndentCheck=wJ6});var X11=q((MJ6)=>{var OW0=e0();function LJ6(Y,J,X){let{uniqueKeys:Z}=Y.options;if(Z===!1)return!1;let W=typeof Z==="function"?Z:($,G)=>$===G||OW0.isScalar($)&&OW0.isScalar(G)&&$.value===G.value;return J.some(($)=>W($.key,X))}MJ6.mapIncludes=LJ6});var VW0=q((CJ6)=>{var KW0=T$(),TJ6=N$(),BW0=$w(),RJ6=LC(),qW0=J11(),NJ6=X11(),FW0="All mapping items must start at the same column";function SJ6({composeNode:Y,composeEmptyNode:J},X,Z,W,$){let Q=new($?.nodeClass??TJ6.YAMLMap)(X.schema);if(X.atRoot)X.atRoot=!1;let U=Z.offset,z=null;for(let H of Z.items){let{start:O,key:K,sep:B,value:F}=H,V=BW0.resolveProps(O,{indicator:"explicit-key-ind",next:K??B?.[0],offset:U,onError:W,parentIndent:Z.indent,startOnNewline:!0}),I=!V.found;if(I){if(K){if(K.type==="block-seq")W(U,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key");else if("indent"in K&&K.indent!==Z.indent)W(U,"BAD_INDENT",FW0)}if(!V.anchor&&!V.tag&&!B){if(z=V.end,V.comment)if(Q.comment)Q.comment+=`
`+V.comment;else Q.comment=V.comment;continue}if(V.newlineAfterProp||RJ6.containsNewline(K))W(K??O[O.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else if(V.found?.indent!==Z.indent)W(U,"BAD_INDENT",FW0);X.atKey=!0;let D=V.end,L=K?Y(X,K,V,W):J(X,D,O,null,V,W);if(X.schema.compat)qW0.flowIndentCheck(Z.indent,K,W);if(X.atKey=!1,NJ6.mapIncludes(X,Q.items,L))W(D,"DUPLICATE_KEY","Map keys must be unique");let A=BW0.resolveProps(B??[],{indicator:"map-value-ind",next:F,offset:L.range[2],onError:W,parentIndent:Z.indent,startOnNewline:!K||K.type==="block-scalar"});if(U=A.end,A.found){if(I){if(F?.type==="block-map"&&!A.hasNewline)W(U,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings");if(X.options.strict&&V.start<A.found.offset-1024)W(L.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key")}let P=F?Y(X,F,A,W):J(X,U,B,null,A,W);if(X.schema.compat)qW0.flowIndentCheck(Z.indent,F,W);U=P.range[2];let R=new KW0.Pair(L,P);if(X.options.keepSourceTokens)R.srcToken=H;Q.items.push(R)}else{if(I)W(L.range,"MISSING_CHAR","Implicit map keys need to be followed by map values");if(A.comment)if(L.comment)L.comment+=`
`+A.comment;else L.comment=A.comment;let P=new KW0.Pair(L);if(X.options.keepSourceTokens)P.srcToken=H;Q.items.push(P)}}if(z&&z<U)W(z,"IMPOSSIBLE","Map comment with trailing content");return Q.range=[Z.offset,U,z??U],Q}CJ6.resolveBlockMap=SJ6});var IW0=q((vJ6)=>{var kJ6=S$(),_J6=$w(),xJ6=J11();function fJ6({composeNode:Y,composeEmptyNode:J},X,Z,W,$){let Q=new($?.nodeClass??kJ6.YAMLSeq)(X.schema);if(X.atRoot)X.atRoot=!1;if(X.atKey)X.atKey=!1;let U=Z.offset,z=null;for(let{start:H,value:O}of Z.items){let K=_J6.resolveProps(H,{indicator:"seq-item-ind",next:O,offset:U,onError:W,parentIndent:Z.indent,startOnNewline:!0});if(!K.found)if(K.anchor||K.tag||O)if(O?.type==="block-seq")W(K.end,"BAD_INDENT","All sequence items must start at the same column");else W(U,"MISSING_CHAR","Sequence item without - indicator");else{if(z=K.end,K.comment)Q.comment=K.comment;continue}let B=O?Y(X,O,K,W):J(X,K.end,H,null,K,W);if(X.schema.compat)xJ6.flowIndentCheck(Z.indent,O,W);U=B.range[2],Q.items.push(B)}return Q.range=[Z.offset,U,z??U],Q}vJ6.resolveBlockSeq=fJ6});var fK=q((yJ6)=>{function bJ6(Y,J,X,Z){let W="";if(Y){let $=!1,G="";for(let Q of Y){let{source:U,type:z}=Q;switch(z){case"space":$=!0;break;case"comment":{if(X&&!$)Z(Q,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let H=U.substring(1)||" ";if(!W)W=H;else W+=G+H;G="";break}case"newline":if(W)G+=U;$=!0;break;default:Z(Q,"UNEXPECTED_TOKEN",`Unexpected ${z} at node end`)}J+=U.length}}return{comment:W,offset:J}}yJ6.resolveEnd=bJ6});var AW0=q((iJ6)=>{var uJ6=e0(),mJ6=T$(),DW0=N$(),dJ6=S$(),cJ6=fK(),wW0=$w(),lJ6=LC(),pJ6=X11(),Z11="Block collections are not allowed within flow collections",W11=(Y)=>Y&&(Y.type==="block-map"||Y.type==="block-seq");function nJ6({composeNode:Y,composeEmptyNode:J},X,Z,W,$){let G=Z.start.source==="{",Q=G?"flow map":"flow sequence",z=new($?.nodeClass??(G?DW0.YAMLMap:dJ6.YAMLSeq))(X.schema);z.flow=!0;let H=X.atRoot;if(H)X.atRoot=!1;if(X.atKey)X.atKey=!1;let O=Z.offset+Z.start.source.length;for(let I=0;I<Z.items.length;++I){let D=Z.items[I],{start:L,key:A,sep:P,value:R}=D,N=wW0.resolveProps(L,{flow:Q,indicator:"explicit-key-ind",next:A??P?.[0],offset:O,onError:W,parentIndent:Z.indent,startOnNewline:!1});if(!N.found){if(!N.anchor&&!N.tag&&!P&&!R){if(I===0&&N.comma)W(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${Q}`);else if(I<Z.items.length-1)W(N.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${Q}`);if(N.comment)if(z.comment)z.comment+=`
`+N.comment;else z.comment=N.comment;O=N.end;continue}if(!G&&X.options.strict&&lJ6.containsNewline(A))W(A,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(I===0){if(N.comma)W(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${Q}`)}else{if(!N.comma)W(N.start,"MISSING_CHAR",`Missing , between ${Q} items`);if(N.comment){let v="";Y:for(let j of L)switch(j.type){case"comma":case"space":break;case"comment":v=j.source.substring(1);break Y;default:break Y}if(v){let j=z.items[z.items.length-1];if(uJ6.isPair(j))j=j.value??j.key;if(j.comment)j.comment+=`
`+v;else j.comment=v;N.comment=N.comment.substring(v.length+1)}}}if(!G&&!P&&!N.found){let v=R?Y(X,R,N,W):J(X,N.end,P,null,N,W);if(z.items.push(v),O=v.range[2],W11(R))W(v.range,"BLOCK_IN_FLOW",Z11)}else{X.atKey=!0;let v=N.end,j=A?Y(X,A,N,W):J(X,v,L,null,N,W);if(W11(A))W(j.range,"BLOCK_IN_FLOW",Z11);X.atKey=!1;let M=wW0.resolveProps(P??[],{flow:Q,indicator:"map-value-ind",next:R,offset:j.range[2],onError:W,parentIndent:Z.indent,startOnNewline:!1});if(M.found){if(!G&&!N.found&&X.options.strict){if(P)for(let r of P){if(r===M.found)break;if(r.type==="newline"){W(r,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}if(N.start<M.found.offset-1024)W(M.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else if(R)if("source"in R&&R.source?.[0]===":")W(R,"MISSING_CHAR",`Missing space after : in ${Q}`);else W(M.start,"MISSING_CHAR",`Missing , or : between ${Q} items`);let b=R?Y(X,R,M,W):M.found?J(X,M.end,P,null,M,W):null;if(b){if(W11(R))W(b.range,"BLOCK_IN_FLOW",Z11)}else if(M.comment)if(j.comment)j.comment+=`
`+M.comment;else j.comment=M.comment;let k=new mJ6.Pair(j,b);if(X.options.keepSourceTokens)k.srcToken=D;if(G){let r=z;if(pJ6.mapIncludes(X,r.items,j))W(v,"DUPLICATE_KEY","Map keys must be unique");r.items.push(k)}else{let r=new DW0.YAMLMap(X.schema);r.flow=!0,r.items.push(k);let p=(b??j).range;r.range=[j.range[0],p[1],p[2]],z.items.push(r)}O=b?b.range[2]:M.end}}let K=G?"}":"]",[B,...F]=Z.end,V=O;if(B?.source===K)V=B.offset+B.source.length;else{let I=Q[0].toUpperCase()+Q.substring(1),D=H?`${I} must end with a ${K}`:`${I} in block collection must be sufficiently indented and end with a ${K}`;if(W(O,H?"MISSING_CHAR":"BAD_INDENT",D),B&&B.source.length!==1)F.unshift(B)}if(F.length>0){let I=cJ6.resolveEnd(F,V,X.options.strict,W);if(I.comment)if(z.comment)z.comment+=`
`+I.comment;else z.comment=I.comment;z.range=[Z.offset,V,I.offset]}else z.range=[Z.offset,V,V];return z}iJ6.resolveFlowCollection=nJ6});var PW0=q((ZX6)=>{var rJ6=e0(),aJ6=H8(),sJ6=N$(),tJ6=S$(),eJ6=VW0(),YX6=IW0(),JX6=AW0();function $11(Y,J,X,Z,W,$){let G=X.type==="block-map"?eJ6.resolveBlockMap(Y,J,X,Z,$):X.type==="block-seq"?YX6.resolveBlockSeq(Y,J,X,Z,$):JX6.resolveFlowCollection(Y,J,X,Z,$),Q=G.constructor;if(W==="!"||W===Q.tagName)return G.tag=Q.tagName,G;if(W)G.tag=W;return G}function XX6(Y,J,X,Z,W){let $=Z.tag,G=!$?null:J.directives.tagName($.source,(K)=>W($,"TAG_RESOLVE_FAILED",K));if(X.type==="block-seq"){let{anchor:K,newlineAfterProp:B}=Z,F=K&&$?K.offset>$.offset?K:$:K??$;if(F&&(!B||B.offset<F.offset))W(F,"MISSING_CHAR","Missing newline after block sequence props")}let Q=X.type==="block-map"?"map":X.type==="block-seq"?"seq":X.start.source==="{"?"map":"seq";if(!$||!G||G==="!"||G===sJ6.YAMLMap.tagName&&Q==="map"||G===tJ6.YAMLSeq.tagName&&Q==="seq")return $11(Y,J,X,W,G);let U=J.schema.tags.find((K)=>K.tag===G&&K.collection===Q);if(!U){let K=J.schema.knownTags[G];if(K?.collection===Q)J.schema.tags.push(Object.assign({},K,{default:!1})),U=K;else{if(K)W($,"BAD_COLLECTION_TYPE",`${K.tag} used for ${Q} collection, but expects ${K.collection??"scalar"}`,!0);else W($,"TAG_RESOLVE_FAILED",`Unresolved tag: ${G}`,!0);return $11(Y,J,X,W,G)}}let z=$11(Y,J,X,W,G,U),H=U.resolve?.(z,(K)=>W($,"TAG_RESOLVE_FAILED",K),J.options)??z,O=rJ6.isNode(H)?H:new aJ6.Scalar(H);if(O.range=z.range,O.tag=G,U?.format)O.format=U.format;return O}ZX6.composeCollection=XX6});var Q11=q((UX6)=>{var G11=H8();function $X6(Y,J,X){let Z=J.offset,W=GX6(J,Y.options.strict,X);if(!W)return{value:"",type:null,comment:"",range:[Z,Z,Z]};let $=W.mode===">"?G11.Scalar.BLOCK_FOLDED:G11.Scalar.BLOCK_LITERAL,G=J.source?QX6(J.source):[],Q=G.length;for(let V=G.length-1;V>=0;--V){let I=G[V][1];if(I===""||I==="\r")Q=V;else break}if(Q===0){let V=W.chomp==="+"&&G.length>0?`
`.repeat(Math.max(1,G.length-1)):"",I=Z+W.length;if(J.source)I+=J.source.length;return{value:V,type:$,comment:W.comment,range:[Z,I,I]}}let U=J.indent+W.indent,z=J.offset+W.length,H=0;for(let V=0;V<Q;++V){let[I,D]=G[V];if(D===""||D==="\r"){if(W.indent===0&&I.length>U)U=I.length}else{if(I.length<U)X(z+I.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator");if(W.indent===0)U=I.length;if(H=V,U===0&&!Y.atRoot)X(z,"BAD_INDENT","Block scalar values in collections must be indented");break}z+=I.length+D.length+1}for(let V=G.length-1;V>=Q;--V)if(G[V][0].length>U)Q=V+1;let O="",K="",B=!1;for(let V=0;V<H;++V)O+=G[V][0].slice(U)+`
`;for(let V=H;V<Q;++V){let[I,D]=G[V];z+=I.length+D.length+1;let L=D[D.length-1]==="\r";if(L)D=D.slice(0,-1);if(D&&I.length<U){let P=`Block scalar lines must not be less indented than their ${W.indent?"explicit indentation indicator":"first line"}`;X(z-D.length-(L?2:1),"BAD_INDENT",P),I=""}if($===G11.Scalar.BLOCK_LITERAL)O+=K+I.slice(U)+D,K=`
`;else if(I.length>U||D[0]==="\t"){if(K===" ")K=`
`;else if(!B&&K===`
`)K=`

`;O+=K+I.slice(U)+D,K=`
`,B=!0}else if(D==="")if(K===`
`)O+=`
`;else K=`
`;else O+=K+D,K=" ",B=!1}switch(W.chomp){case"-":break;case"+":for(let V=Q;V<G.length;++V)O+=`
`+G[V][0].slice(U);if(O[O.length-1]!==`
`)O+=`
`;break;default:O+=`
`}let F=Z+W.length+J.source.length;return{value:O,type:$,comment:W.comment,range:[Z,F,F]}}function GX6({offset:Y,props:J},X,Z){if(J[0].type!=="block-scalar-header")return Z(J[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:W}=J[0],$=W[0],G=0,Q="",U=-1;for(let K=1;K<W.length;++K){let B=W[K];if(!Q&&(B==="-"||B==="+"))Q=B;else{let F=Number(B);if(!G&&F)G=F;else if(U===-1)U=Y+K}}if(U!==-1)Z(U,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${W}`);let z=!1,H="",O=W.length;for(let K=1;K<J.length;++K){let B=J[K];switch(B.type){case"space":z=!0;case"newline":O+=B.source.length;break;case"comment":if(X&&!z)Z(B,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");O+=B.source.length,H=B.source.substring(1);break;case"error":Z(B,"UNEXPECTED_TOKEN",B.message),O+=B.source.length;break;default:{let F=`Unexpected token in block scalar header: ${B.type}`;Z(B,"UNEXPECTED_TOKEN",F);let V=B.source;if(V&&typeof V==="string")O+=V.length}}}return{mode:$,indent:G,chomp:Q,comment:H,length:O}}function QX6(Y){let J=Y.split(/\n( *)/),X=J[0],Z=X.match(/^( *)/),$=[Z?.[1]?[Z[1],X.slice(Z[1].length)]:["",X]];for(let G=1;G<J.length;G+=2)$.push([J[G],J[G+1]]);return $}UX6.resolveBlockScalar=$X6});var z11=q((DX6)=>{var U11=H8(),HX6=fK();function OX6(Y,J,X){let{offset:Z,type:W,source:$,end:G}=Y,Q,U,z=(K,B,F)=>X(Z+K,B,F);switch(W){case"scalar":Q=U11.Scalar.PLAIN,U=KX6($,z);break;case"single-quoted-scalar":Q=U11.Scalar.QUOTE_SINGLE,U=BX6($,z);break;case"double-quoted-scalar":Q=U11.Scalar.QUOTE_DOUBLE,U=qX6($,z);break;default:return X(Y,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${W}`),{value:"",type:null,comment:"",range:[Z,Z+$.length,Z+$.length]}}let H=Z+$.length,O=HX6.resolveEnd(G,H,J,X);return{value:U,type:Q,comment:O.comment,range:[Z,H,O.offset]}}function KX6(Y,J){let X="";switch(Y[0]){case"\t":X="a tab character";break;case",":X="flow indicator character ,";break;case"%":X="directive indicator character %";break;case"|":case">":{X=`block scalar indicator ${Y[0]}`;break}case"@":case"`":{X=`reserved character ${Y[0]}`;break}}if(X)J(0,"BAD_SCALAR_START",`Plain value cannot start with ${X}`);return LW0(Y)}function BX6(Y,J){if(Y[Y.length-1]!=="'"||Y.length===1)J(Y.length,"MISSING_CHAR","Missing closing 'quote");return LW0(Y.slice(1,-1)).replace(/''/g,"'")}function LW0(Y){let J,X;try{J=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),X=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{J=/(.*?)[ \t]*\r?\n/sy,X=/[ \t]*(.*?)[ \t]*\r?\n/sy}let Z=J.exec(Y);if(!Z)return Y;let W=Z[1],$=" ",G=J.lastIndex;X.lastIndex=G;while(Z=X.exec(Y)){if(Z[1]==="")if($===`
`)W+=$;else $=`
`;else W+=$+Z[1],$=" ";G=X.lastIndex}let Q=/[ \t]*(.*)/sy;return Q.lastIndex=G,Z=Q.exec(Y),W+$+(Z?.[1]??"")}function qX6(Y,J){let X="";for(let Z=1;Z<Y.length-1;++Z){let W=Y[Z];if(W==="\r"&&Y[Z+1]===`
`)continue;if(W===`
`){let{fold:$,offset:G}=FX6(Y,Z);X+=$,Z=G}else if(W==="\\"){let $=Y[++Z],G=VX6[$];if(G)X+=G;else if($===`
`){$=Y[Z+1];while($===" "||$==="\t")$=Y[++Z+1]}else if($==="\r"&&Y[Z+1]===`
`){$=Y[++Z+1];while($===" "||$==="\t")$=Y[++Z+1]}else if($==="x"||$==="u"||$==="U"){let Q={x:2,u:4,U:8}[$];X+=IX6(Y,Z+1,Q,J),Z+=Q}else{let Q=Y.substr(Z-1,2);J(Z-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${Q}`),X+=Q}}else if(W===" "||W==="\t"){let $=Z,G=Y[Z+1];while(G===" "||G==="\t")G=Y[++Z+1];if(G!==`
`&&!(G==="\r"&&Y[Z+2]===`
`))X+=Z>$?Y.slice($,Z+1):W}else X+=W}if(Y[Y.length-1]!=='"'||Y.length===1)J(Y.length,"MISSING_CHAR",'Missing closing "quote');return X}function FX6(Y,J){let X="",Z=Y[J+1];while(Z===" "||Z==="\t"||Z===`
`||Z==="\r"){if(Z==="\r"&&Y[J+2]!==`
`)break;if(Z===`
`)X+=`
`;J+=1,Z=Y[J+1]}if(!X)X=" ";return{fold:X,offset:J}}var VX6={"0":"\x00",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"\t",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function IX6(Y,J,X,Z){let W=Y.substr(J,X),G=W.length===X&&/^[0-9a-fA-F]+$/.test(W)?parseInt(W,16):NaN;if(isNaN(G)){let Q=Y.substr(J-2,X+2);return Z(J-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${Q}`),Q}return String.fromCodePoint(G)}DX6.resolveFlowScalar=OX6});var EW0=q((TX6)=>{var DU=e0(),MW0=H8(),AX6=Q11(),PX6=z11();function LX6(Y,J,X,Z){let{value:W,type:$,comment:G,range:Q}=J.type==="block-scalar"?AX6.resolveBlockScalar(Y,J,Z):PX6.resolveFlowScalar(J,Y.options.strict,Z),U=X?Y.directives.tagName(X.source,(O)=>Z(X,"TAG_RESOLVE_FAILED",O)):null,z;if(Y.options.stringKeys&&Y.atKey)z=Y.schema[DU.SCALAR];else if(U)z=MX6(Y.schema,W,U,X,Z);else if(J.type==="scalar")z=EX6(Y,W,J,Z);else z=Y.schema[DU.SCALAR];let H;try{let O=z.resolve(W,(K)=>Z(X??J,"TAG_RESOLVE_FAILED",K),Y.options);H=DU.isScalar(O)?O:new MW0.Scalar(O)}catch(O){let K=O instanceof Error?O.message:String(O);Z(X??J,"TAG_RESOLVE_FAILED",K),H=new MW0.Scalar(W)}if(H.range=Q,H.source=W,$)H.type=$;if(U)H.tag=U;if(z.format)H.format=z.format;if(G)H.comment=G;return H}function MX6(Y,J,X,Z,W){if(X==="!")return Y[DU.SCALAR];let $=[];for(let Q of Y.tags)if(!Q.collection&&Q.tag===X)if(Q.default&&Q.test)$.push(Q);else return Q;for(let Q of $)if(Q.test?.test(J))return Q;let G=Y.knownTags[X];if(G&&!G.collection)return Y.tags.push(Object.assign({},G,{default:!1,test:void 0})),G;return W(Z,"TAG_RESOLVE_FAILED",`Unresolved tag: ${X}`,X!=="tag:yaml.org,2002:str"),Y[DU.SCALAR]}function EX6({atKey:Y,directives:J,schema:X},Z,W,$){let G=X.tags.find((Q)=>(Q.default===!0||Y&&Q.default==="key")&&Q.test?.test(Z))||X[DU.SCALAR];if(X.compat){let Q=X.compat.find((U)=>U.default&&U.test?.test(Z))??X[DU.SCALAR];if(G.tag!==Q.tag){let U=J.tagString(G.tag),z=J.tagString(Q.tag),H=`Value may be parsed as either ${U} or ${z}`;$(W,"TAG_RESOLVE_FAILED",H,!0)}}return G}TX6.composeScalar=LX6});var TW0=q((SX6)=>{function NX6(Y,J,X){if(J){X??(X=J.length);for(let Z=X-1;Z>=0;--Z){let W=J[Z];switch(W.type){case"space":case"comment":case"newline":Y-=W.source.length;continue}W=J[++Z];while(W?.type==="space")Y+=W.source.length,W=J[++Z];break}}return Y}SX6.emptyScalarPosition=NX6});var SW0=q((bX6)=>{var jX6=dD(),kX6=e0(),_X6=PW0(),RW0=EW0(),xX6=fK(),fX6=TW0(),vX6={composeNode:NW0,composeEmptyNode:H11};function NW0(Y,J,X,Z){let W=Y.atKey,{spaceBefore:$,comment:G,anchor:Q,tag:U}=X,z,H=!0;switch(J.type){case"alias":if(z=hX6(Y,J,Z),Q||U)Z(J,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":if(z=RW0.composeScalar(Y,J,U,Z),Q)z.anchor=Q.source.substring(1);break;case"block-map":case"block-seq":case"flow-collection":if(z=_X6.composeCollection(vX6,Y,J,X,Z),Q)z.anchor=Q.source.substring(1);break;default:{let O=J.type==="error"?J.message:`Unsupported token (type: ${J.type})`;Z(J,"UNEXPECTED_TOKEN",O),z=H11(Y,J.offset,void 0,null,X,Z),H=!1}}if(Q&&z.anchor==="")Z(Q,"BAD_ALIAS","Anchor cannot be an empty string");if(W&&Y.options.stringKeys&&(!kX6.isScalar(z)||typeof z.value!=="string"||z.tag&&z.tag!=="tag:yaml.org,2002:str"))Z(U??J,"NON_STRING_KEY","With stringKeys, all keys must be strings");if($)z.spaceBefore=!0;if(G)if(J.type==="scalar"&&J.source==="")z.comment=G;else z.commentBefore=G;if(Y.options.keepSourceTokens&&H)z.srcToken=J;return z}function H11(Y,J,X,Z,{spaceBefore:W,comment:$,anchor:G,tag:Q,end:U},z){let H={type:"scalar",offset:fX6.emptyScalarPosition(J,X,Z),indent:-1,source:""},O=RW0.composeScalar(Y,H,Q,z);if(G){if(O.anchor=G.source.substring(1),O.anchor==="")z(G,"BAD_ALIAS","Anchor cannot be an empty string")}if(W)O.spaceBefore=!0;if($)O.comment=$,O.range[2]=U;return O}function hX6({options:Y},{offset:J,source:X,end:Z},W){let $=new jX6.Alias(X.substring(1));if($.source==="")W(J,"BAD_ALIAS","Alias cannot be an empty string");if($.source.endsWith(":"))W(J+X.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let G=J+X.length,Q=xX6.resolveEnd(Z,G,Y.strict,W);if($.range=[J,G,Q.offset],Q.comment)$.comment=Q.comment;return $}bX6.composeEmptyNode=H11;bX6.composeNode=NW0});var jW0=q((lX6)=>{var uX6=Zw(),CW0=SW0(),mX6=fK(),dX6=$w();function cX6(Y,J,{offset:X,start:Z,value:W,end:$},G){let Q=Object.assign({_directives:J},Y),U=new uX6.Document(void 0,Q),z={atKey:!1,atRoot:!0,directives:U.directives,options:U.options,schema:U.schema},H=dX6.resolveProps(Z,{indicator:"doc-start",next:W??$?.[0],offset:X,onError:G,parentIndent:0,startOnNewline:!0});if(H.found){if(U.directives.docStart=!0,W&&(W.type==="block-map"||W.type==="block-seq")&&!H.hasNewline)G(H.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")}U.contents=W?CW0.composeNode(z,W,H,G):CW0.composeEmptyNode(z,H.end,Z,null,H,G);let O=U.contents.range[2],K=mX6.resolveEnd($,O,!1,G);if(K.comment)U.comment=K.comment;return U.range=[X,O,K.offset],U}lX6.composeDoc=cX6});var O11=q((sX6)=>{var nX6=C("process"),iX6=Fe(),oX6=Zw(),Gw=Ww(),kW0=e0(),rX6=jW0(),aX6=fK();function Qw(Y){if(typeof Y==="number")return[Y,Y+1];if(Array.isArray(Y))return Y.length===2?Y:[Y[0],Y[1]];let{offset:J,source:X}=Y;return[J,J+(typeof X==="string"?X.length:1)]}function _W0(Y){let J="",X=!1,Z=!1;for(let W=0;W<Y.length;++W){let $=Y[W];switch($[0]){case"#":J+=(J===""?"":Z?`

`:`
`)+($.substring(1)||" "),X=!0,Z=!1;break;case"%":if(Y[W+1]?.[0]!=="#")W+=1;X=!1;break;default:if(!X)Z=!0;X=!1}}return{comment:J,afterEmptyLine:Z}}class xW0{constructor(Y={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(J,X,Z,W)=>{let $=Qw(J);if(W)this.warnings.push(new Gw.YAMLWarning($,X,Z));else this.errors.push(new Gw.YAMLParseError($,X,Z))},this.directives=new iX6.Directives({version:Y.version||"1.2"}),this.options=Y}decorate(Y,J){let{comment:X,afterEmptyLine:Z}=_W0(this.prelude);if(X){let W=Y.contents;if(J)Y.comment=Y.comment?`${Y.comment}
${X}`:X;else if(Z||Y.directives.docStart||!W)Y.commentBefore=X;else if(kW0.isCollection(W)&&!W.flow&&W.items.length>0){let $=W.items[0];if(kW0.isPair($))$=$.key;let G=$.commentBefore;$.commentBefore=G?`${X}
${G}`:X}else{let $=W.commentBefore;W.commentBefore=$?`${X}
${$}`:X}}if(J)Array.prototype.push.apply(Y.errors,this.errors),Array.prototype.push.apply(Y.warnings,this.warnings);else Y.errors=this.errors,Y.warnings=this.warnings;this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:_W0(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(Y,J=!1,X=-1){for(let Z of Y)yield*this.next(Z);yield*this.end(J,X)}*next(Y){if(nX6.env.LOG_STREAM)console.dir(Y,{depth:null});switch(Y.type){case"directive":this.directives.add(Y.source,(J,X,Z)=>{let W=Qw(Y);W[0]+=J,this.onError(W,"BAD_DIRECTIVE",X,Z)}),this.prelude.push(Y.source),this.atDirectives=!0;break;case"document":{let J=rX6.composeDoc(this.options,this.directives,Y,this.onError);if(this.atDirectives&&!J.directives.docStart)this.onError(Y,"MISSING_CHAR","Missing directives-end/doc-start indicator line");if(this.decorate(J,!1),this.doc)yield this.doc;this.doc=J,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(Y.source);break;case"error":{let J=Y.source?`${Y.message}: ${JSON.stringify(Y.source)}`:Y.message,X=new Gw.YAMLParseError(Qw(Y),"UNEXPECTED_TOKEN",J);if(this.atDirectives||!this.doc)this.errors.push(X);else this.doc.errors.push(X);break}case"doc-end":{if(!this.doc){this.errors.push(new Gw.YAMLParseError(Qw(Y),"UNEXPECTED_TOKEN","Unexpected doc-end without preceding document"));break}this.doc.directives.docEnd=!0;let J=aX6.resolveEnd(Y.end,Y.offset+Y.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),J.comment){let X=this.doc.comment;this.doc.comment=X?`${X}
${J.comment}`:J.comment}this.doc.range[2]=J.offset;break}default:this.errors.push(new Gw.YAMLParseError(Qw(Y),"UNEXPECTED_TOKEN",`Unsupported token ${Y.type}`))}}*end(Y=!1,J=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(Y){let X=Object.assign({_directives:this.directives},this.options),Z=new oX6.Document(void 0,X);if(this.atDirectives)this.onError(J,"MISSING_CHAR","Missing directives-end indicator line");Z.range=[0,J,J],this.decorate(Z,!1),yield Z}}}sX6.Composer=xW0});var hW0=q((G36)=>{var eX6=Q11(),Y36=z11(),J36=Ww(),fW0=nD();function X36(Y,J=!0,X){if(Y){let Z=(W,$,G)=>{let Q=typeof W==="number"?W:Array.isArray(W)?W[0]:W.offset;if(X)X(Q,$,G);else throw new J36.YAMLParseError([Q,Q+1],$,G)};switch(Y.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Y36.resolveFlowScalar(Y,J,Z);case"block-scalar":return eX6.resolveBlockScalar({options:{strict:J}},Y,Z)}}return null}function Z36(Y,J){let{implicitKey:X=!1,indent:Z,inFlow:W=!1,offset:$=-1,type:G="PLAIN"}=J,Q=fW0.stringifyString({type:G,value:Y},{implicitKey:X,indent:Z>0?" ".repeat(Z):"",inFlow:W,options:{blockQuote:!0,lineWidth:-1}}),U=J.end??[{type:"newline",offset:-1,indent:Z,source:`
`}];switch(Q[0]){case"|":case">":{let z=Q.indexOf(`
`),H=Q.substring(0,z),O=Q.substring(z+1)+`
`,K=[{type:"block-scalar-header",offset:$,indent:Z,source:H}];if(!vW0(K,U))K.push({type:"newline",offset:-1,indent:Z,source:`
`});return{type:"block-scalar",offset:$,indent:Z,props:K,source:O}}case'"':return{type:"double-quoted-scalar",offset:$,indent:Z,source:Q,end:U};case"'":return{type:"single-quoted-scalar",offset:$,indent:Z,source:Q,end:U};default:return{type:"scalar",offset:$,indent:Z,source:Q,end:U}}}function W36(Y,J,X={}){let{afterKey:Z=!1,implicitKey:W=!1,inFlow:$=!1,type:G}=X,Q="indent"in Y?Y.indent:null;if(Z&&typeof Q==="number")Q+=2;if(!G)switch(Y.type){case"single-quoted-scalar":G="QUOTE_SINGLE";break;case"double-quoted-scalar":G="QUOTE_DOUBLE";break;case"block-scalar":{let z=Y.props[0];if(z.type!=="block-scalar-header")throw Error("Invalid block scalar header");G=z.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:G="PLAIN"}let U=fW0.stringifyString({type:G,value:J},{implicitKey:W||Q===null,indent:Q!==null&&Q>0?" ".repeat(Q):"",inFlow:$,options:{blockQuote:!0,lineWidth:-1}});switch(U[0]){case"|":case">":$36(Y,U);break;case'"':K11(Y,U,"double-quoted-scalar");break;case"'":K11(Y,U,"single-quoted-scalar");break;default:K11(Y,U,"scalar")}}function $36(Y,J){let X=J.indexOf(`
`),Z=J.substring(0,X),W=J.substring(X+1)+`
`;if(Y.type==="block-scalar"){let $=Y.props[0];if($.type!=="block-scalar-header")throw Error("Invalid block scalar header");$.source=Z,Y.source=W}else{let{offset:$}=Y,G="indent"in Y?Y.indent:-1,Q=[{type:"block-scalar-header",offset:$,indent:G,source:Z}];if(!vW0(Q,"end"in Y?Y.end:void 0))Q.push({type:"newline",offset:-1,indent:G,source:`
`});for(let U of Object.keys(Y))if(U!=="type"&&U!=="offset")delete Y[U];Object.assign(Y,{type:"block-scalar",indent:G,props:Q,source:W})}}function vW0(Y,J){if(J)for(let X of J)switch(X.type){case"space":case"comment":Y.push(X);break;case"newline":return Y.push(X),!0}return!1}function K11(Y,J,X){switch(Y.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":Y.type=X,Y.source=J;break;case"block-scalar":{let Z=Y.props.slice(1),W=J.length;if(Y.props[0].type==="block-scalar-header")W-=Y.props[0].source.length;for(let $ of Z)$.offset+=W;delete Y.props,Object.assign(Y,{type:X,source:J,end:Z});break}case"block-map":case"block-seq":{let W={type:"newline",offset:Y.offset+J.length,indent:Y.indent,source:`
`};delete Y.items,Object.assign(Y,{type:X,source:J,end:[W]});break}default:{let Z="indent"in Y?Y.indent:-1,W="end"in Y&&Array.isArray(Y.end)?Y.end.filter(($)=>$.type==="space"||$.type==="comment"||$.type==="newline"):[];for(let $ of Object.keys(Y))if($!=="type"&&$!=="offset")delete Y[$];Object.assign(Y,{type:X,indent:Z,source:J,end:W})}}}G36.createScalarToken=Z36;G36.resolveAsScalar=X36;G36.setScalarValue=W36});var bW0=q((O36)=>{var H36=(Y)=>("type"in Y)?EC(Y):MC(Y);function EC(Y){switch(Y.type){case"block-scalar":{let J="";for(let X of Y.props)J+=EC(X);return J+Y.source}case"block-map":case"block-seq":{let J="";for(let X of Y.items)J+=MC(X);return J}case"flow-collection":{let J=Y.start.source;for(let X of Y.items)J+=MC(X);for(let X of Y.end)J+=X.source;return J}case"document":{let J=MC(Y);if(Y.end)for(let X of Y.end)J+=X.source;return J}default:{let J=Y.source;if("end"in Y&&Y.end)for(let X of Y.end)J+=X.source;return J}}}function MC({start:Y,key:J,sep:X,value:Z}){let W="";for(let $ of Y)W+=$.source;if(J)W+=EC(J);if(X)for(let $ of X)W+=$.source;if(Z)W+=EC(Z);return W}O36.stringify=H36});var uW0=q((q36)=>{var B11=Symbol("break visit"),B36=Symbol("skip children"),yW0=Symbol("remove item");function wU(Y,J){if("type"in Y&&Y.type==="document")Y={start:Y.start,value:Y.value};gW0(Object.freeze([]),Y,J)}wU.BREAK=B11;wU.SKIP=B36;wU.REMOVE=yW0;wU.itemAtPath=(Y,J)=>{let X=Y;for(let[Z,W]of J){let $=X?.[Z];if($&&"items"in $)X=$.items[W];else return}return X};wU.parentCollection=(Y,J)=>{let X=wU.itemAtPath(Y,J.slice(0,-1)),Z=J[J.length-1][0],W=X?.[Z];if(W&&"items"in W)return W;throw Error("Parent collection not found")};function gW0(Y,J,X){let Z=X(J,Y);if(typeof Z==="symbol")return Z;for(let W of["key","value"]){let $=J[W];if($&&"items"in $){for(let G=0;G<$.items.length;++G){let Q=gW0(Object.freeze(Y.concat([[W,G]])),$.items[G],X);if(typeof Q==="number")G=Q-1;else if(Q===B11)return B11;else if(Q===yW0)$.items.splice(G,1),G-=1}if(typeof Z==="function"&&W==="key")Z=Z(J,Y)}}return typeof Z==="function"?Z(J,Y):Z}q36.visit=wU});var TC=q((L36)=>{var q11=hW0(),V36=bW0(),I36=uW0(),F11="\uFEFF",V11="\x02",I11="\x18",D11="\x1F",D36=(Y)=>!!Y&&("items"in Y),w36=(Y)=>!!Y&&(Y.type==="scalar"||Y.type==="single-quoted-scalar"||Y.type==="double-quoted-scalar"||Y.type==="block-scalar");function A36(Y){switch(Y){case F11:return"<BOM>";case V11:return"<DOC>";case I11:return"<FLOW_END>";case D11:return"<SCALAR>";default:return JSON.stringify(Y)}}function P36(Y){switch(Y){case F11:return"byte-order-mark";case V11:return"doc-mode";case I11:return"flow-error-end";case D11:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(Y[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}L36.createScalarToken=q11.createScalarToken;L36.resolveAsScalar=q11.resolveAsScalar;L36.setScalarValue=q11.setScalarValue;L36.stringify=V36.stringify;L36.visit=I36.visit;L36.BOM=F11;L36.DOCUMENT=V11;L36.FLOW_END=I11;L36.SCALAR=D11;L36.isCollection=D36;L36.isScalar=w36;L36.prettyToken=A36;L36.tokenType=P36});var A11=q((y36)=>{var Uw=TC();function FJ(Y){switch(Y){case void 0:case" ":case`
`:case"\r":case"\t":return!0;default:return!1}}var mW0=new Set("0123456789ABCDEFabcdef"),h36=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),RC=new Set(",[]{}"),b36=new Set(` ,[]{}
\r	`),w11=(Y)=>!Y||b36.has(Y);class dW0{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(Y,J=!1){if(Y){if(typeof Y!=="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+Y:Y,this.lineEndPos=null}this.atEnd=!J;let X=this.next??"stream";while(X&&(J||this.hasChars(1)))X=yield*this.parseNext(X)}atLineEnd(){let Y=this.pos,J=this.buffer[Y];while(J===" "||J==="\t")J=this.buffer[++Y];if(!J||J==="#"||J===`
`)return!0;if(J==="\r")return this.buffer[Y+1]===`
`;return!1}charAt(Y){return this.buffer[this.pos+Y]}continueScalar(Y){let J=this.buffer[Y];if(this.indentNext>0){let X=0;while(J===" ")J=this.buffer[++X+Y];if(J==="\r"){let Z=this.buffer[X+Y+1];if(Z===`
`||!Z&&!this.atEnd)return Y+X+1}return J===`
`||X>=this.indentNext||!J&&!this.atEnd?Y+X:-1}if(J==="-"||J==="."){let X=this.buffer.substr(Y,3);if((X==="---"||X==="...")&&FJ(this.buffer[Y+3]))return-1}return Y}getLine(){let Y=this.lineEndPos;if(typeof Y!=="number"||Y!==-1&&Y<this.pos)Y=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=Y;if(Y===-1)return this.atEnd?this.buffer.substring(this.pos):null;if(this.buffer[Y-1]==="\r")Y-=1;return this.buffer.substring(this.pos,Y)}hasChars(Y){return this.pos+Y<=this.buffer.length}setNext(Y){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=Y,null}peek(Y){return this.buffer.substr(this.pos,Y)}*parseNext(Y){switch(Y){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let Y=this.getLine();if(Y===null)return this.setNext("stream");if(Y[0]===Uw.BOM)yield*this.pushCount(1),Y=Y.substring(1);if(Y[0]==="%"){let J=Y.length,X=Y.indexOf("#");while(X!==-1){let W=Y[X-1];if(W===" "||W==="\t"){J=X-1;break}else X=Y.indexOf("#",X+1)}while(!0){let W=Y[J-1];if(W===" "||W==="\t")J-=1;else break}let Z=(yield*this.pushCount(J))+(yield*this.pushSpaces(!0));return yield*this.pushCount(Y.length-Z),this.pushNewline(),"stream"}if(this.atLineEnd()){let J=yield*this.pushSpaces(!0);return yield*this.pushCount(Y.length-J),yield*this.pushNewline(),"stream"}return yield Uw.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let Y=this.charAt(0);if(!Y&&!this.atEnd)return this.setNext("line-start");if(Y==="-"||Y==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let J=this.peek(3);if((J==="---"||J==="...")&&FJ(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,J==="---"?"doc":"stream"}if(this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!FJ(this.charAt(1)))this.indentNext=this.indentValue;return yield*this.parseBlockStart()}*parseBlockStart(){let[Y,J]=this.peek(2);if(!J&&!this.atEnd)return this.setNext("block-start");if((Y==="-"||Y==="?"||Y===":")&&FJ(J)){let X=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=X,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let Y=this.getLine();if(Y===null)return this.setNext("doc");let J=yield*this.pushIndicators();switch(Y[J]){case"#":yield*this.pushCount(Y.length-J);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(w11),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return J+=yield*this.parseBlockScalarHeader(),J+=yield*this.pushSpaces(!0),yield*this.pushCount(Y.length-J),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let Y,J,X=-1;do{if(Y=yield*this.pushNewline(),Y>0)J=yield*this.pushSpaces(!1),this.indentValue=X=J;else J=0;J+=yield*this.pushSpaces(!0)}while(Y+J>0);let Z=this.getLine();if(Z===null)return this.setNext("flow");if(X!==-1&&X<this.indentNext&&Z[0]!=="#"||X===0&&(Z.startsWith("---")||Z.startsWith("..."))&&FJ(Z[3])){if(!(X===this.indentNext-1&&this.flowLevel===1&&(Z[0]==="]"||Z[0]==="}")))return this.flowLevel=0,yield Uw.FLOW_END,yield*this.parseLineStart()}let W=0;while(Z[W]===",")W+=yield*this.pushCount(1),W+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(W+=yield*this.pushIndicators(),Z[W]){case void 0:return"flow";case"#":return yield*this.pushCount(Z.length-W),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(w11),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let $=this.charAt(1);if(this.flowKey||FJ($)||$===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let Y=this.charAt(0),J=this.buffer.indexOf(Y,this.pos+1);if(Y==="'")while(J!==-1&&this.buffer[J+1]==="'")J=this.buffer.indexOf("'",J+2);else while(J!==-1){let W=0;while(this.buffer[J-1-W]==="\\")W+=1;if(W%2===0)break;J=this.buffer.indexOf('"',J+1)}let X=this.buffer.substring(0,J),Z=X.indexOf(`
`,this.pos);if(Z!==-1){while(Z!==-1){let W=this.continueScalar(Z+1);if(W===-1)break;Z=X.indexOf(`
`,W)}if(Z!==-1)J=Z-(X[Z-1]==="\r"?2:1)}if(J===-1){if(!this.atEnd)return this.setNext("quoted-scalar");J=this.buffer.length}return yield*this.pushToIndex(J+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let Y=this.pos;while(!0){let J=this.buffer[++Y];if(J==="+")this.blockScalarKeep=!0;else if(J>"0"&&J<="9")this.blockScalarIndent=Number(J)-1;else if(J!=="-")break}return yield*this.pushUntil((J)=>FJ(J)||J==="#")}*parseBlockScalar(){let Y=this.pos-1,J=0,X;Y:for(let W=this.pos;X=this.buffer[W];++W)switch(X){case" ":J+=1;break;case`
`:Y=W,J=0;break;case"\r":{let $=this.buffer[W+1];if(!$&&!this.atEnd)return this.setNext("block-scalar");if($===`
`)break}default:break Y}if(!X&&!this.atEnd)return this.setNext("block-scalar");if(J>=this.indentNext){if(this.blockScalarIndent===-1)this.indentNext=J;else this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let W=this.continueScalar(Y+1);if(W===-1)break;Y=this.buffer.indexOf(`
`,W)}while(Y!==-1);if(Y===-1){if(!this.atEnd)return this.setNext("block-scalar");Y=this.buffer.length}}let Z=Y+1;X=this.buffer[Z];while(X===" ")X=this.buffer[++Z];if(X==="\t"){while(X==="\t"||X===" "||X==="\r"||X===`
`)X=this.buffer[++Z];Y=Z-1}else if(!this.blockScalarKeep)do{let W=Y-1,$=this.buffer[W];if($==="\r")$=this.buffer[--W];let G=W;while($===" ")$=this.buffer[--W];if($===`
`&&W>=this.pos&&W+1+J>G)Y=W;else break}while(!0);return yield Uw.SCALAR,yield*this.pushToIndex(Y+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let Y=this.flowLevel>0,J=this.pos-1,X=this.pos-1,Z;while(Z=this.buffer[++X])if(Z===":"){let W=this.buffer[X+1];if(FJ(W)||Y&&RC.has(W))break;J=X}else if(FJ(Z)){let W=this.buffer[X+1];if(Z==="\r")if(W===`
`)X+=1,Z=`
`,W=this.buffer[X+1];else J=X;if(W==="#"||Y&&RC.has(W))break;if(Z===`
`){let $=this.continueScalar(X+1);if($===-1)break;X=Math.max(X,$-2)}}else{if(Y&&RC.has(Z))break;J=X}if(!Z&&!this.atEnd)return this.setNext("plain-scalar");return yield Uw.SCALAR,yield*this.pushToIndex(J+1,!0),Y?"flow":"doc"}*pushCount(Y){if(Y>0)return yield this.buffer.substr(this.pos,Y),this.pos+=Y,Y;return 0}*pushToIndex(Y,J){let X=this.buffer.slice(this.pos,Y);if(X)return yield X,this.pos+=X.length,X.length;else if(J)yield"";return 0}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(w11))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let Y=this.flowLevel>0,J=this.charAt(1);if(FJ(J)||Y&&RC.has(J)){if(!Y)this.indentNext=this.indentValue+1;else if(this.flowKey)this.flowKey=!1;return(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}}return 0}*pushTag(){if(this.charAt(1)==="<"){let Y=this.pos+2,J=this.buffer[Y];while(!FJ(J)&&J!==">")J=this.buffer[++Y];return yield*this.pushToIndex(J===">"?Y+1:Y,!1)}else{let Y=this.pos+1,J=this.buffer[Y];while(J)if(h36.has(J))J=this.buffer[++Y];else if(J==="%"&&mW0.has(this.buffer[Y+1])&&mW0.has(this.buffer[Y+2]))J=this.buffer[Y+=3];else break;return yield*this.pushToIndex(Y,!1)}}*pushNewline(){let Y=this.buffer[this.pos];if(Y===`
`)return yield*this.pushCount(1);else if(Y==="\r"&&this.charAt(1)===`
`)return yield*this.pushCount(2);else return 0}*pushSpaces(Y){let J=this.pos-1,X;do X=this.buffer[++J];while(X===" "||Y&&X==="\t");let Z=J-this.pos;if(Z>0)yield this.buffer.substr(this.pos,Z),this.pos=J;return Z}*pushUntil(Y){let J=this.pos,X=this.buffer[J];while(!Y(X))X=this.buffer[++J];return yield*this.pushToIndex(J,!1)}}y36.Lexer=dW0});var P11=q((u36)=>{class cW0{constructor(){this.lineStarts=[],this.addNewLine=(Y)=>this.lineStarts.push(Y),this.linePos=(Y)=>{let J=0,X=this.lineStarts.length;while(J<X){let W=J+X>>1;if(this.lineStarts[W]<Y)J=W+1;else X=W}if(this.lineStarts[J]===Y)return{line:J+1,col:1};if(J===0)return{line:0,col:Y};let Z=this.lineStarts[J-1];return{line:J,col:Y-Z+1}}}}u36.LineCounter=cW0});var L11=q((l36)=>{var d36=C("process"),lW0=TC(),c36=A11();function C$(Y,J){for(let X=0;X<Y.length;++X)if(Y[X].type===J)return!0;return!1}function pW0(Y){for(let J=0;J<Y.length;++J)switch(Y[J].type){case"space":case"comment":case"newline":break;default:return J}return-1}function iW0(Y){switch(Y?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function NC(Y){switch(Y.type){case"document":return Y.start;case"block-map":{let J=Y.items[Y.items.length-1];return J.sep??J.start}case"block-seq":return Y.items[Y.items.length-1].start;default:return[]}}function vK(Y){if(Y.length===0)return[];let J=Y.length;Y:while(--J>=0)switch(Y[J].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break Y}while(Y[++J]?.type==="space");return Y.splice(J,Y.length)}function nW0(Y){if(Y.start.type==="flow-seq-start"){for(let J of Y.items)if(J.sep&&!J.value&&!C$(J.start,"explicit-key-ind")&&!C$(J.sep,"map-value-ind")){if(J.key)J.value=J.key;if(delete J.key,iW0(J.value))if(J.value.end)Array.prototype.push.apply(J.value.end,J.sep);else J.value.end=J.sep;else Array.prototype.push.apply(J.start,J.sep);delete J.sep}}}class oW0{constructor(Y){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new c36.Lexer,this.onNewLine=Y}*parse(Y,J=!1){if(this.onNewLine&&this.offset===0)this.onNewLine(0);for(let X of this.lexer.lex(Y,J))yield*this.next(X);if(!J)yield*this.end()}*next(Y){if(this.source=Y,d36.env.LOG_TOKENS)console.log("|",lW0.prettyToken(Y));if(this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=Y.length;return}let J=lW0.tokenType(Y);if(!J){let X=`Not a YAML token: ${Y}`;yield*this.pop({type:"error",offset:this.offset,message:X,source:Y}),this.offset+=Y.length}else if(J==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=J,yield*this.step(),J){case"newline":if(this.atNewLine=!0,this.indent=0,this.onNewLine)this.onNewLine(this.offset+Y.length);break;case"space":if(this.atNewLine&&Y[0]===" ")this.indent+=Y.length;break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":if(this.atNewLine)this.indent+=Y.length;break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=Y.length}}*end(){while(this.stack.length>0)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let Y=this.peek(1);if(this.type==="doc-end"&&Y?.type!=="doc-end"){while(this.stack.length>0)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!Y)return yield*this.stream();switch(Y.type){case"document":return yield*this.document(Y);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(Y);case"block-scalar":return yield*this.blockScalar(Y);case"block-map":return yield*this.blockMap(Y);case"block-seq":return yield*this.blockSequence(Y);case"flow-collection":return yield*this.flowCollection(Y);case"doc-end":return yield*this.documentEnd(Y)}yield*this.pop()}peek(Y){return this.stack[this.stack.length-Y]}*pop(Y){let J=Y??this.stack.pop();if(!J)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield J;else{let X=this.peek(1);if(J.type==="block-scalar")J.indent="indent"in X?X.indent:0;else if(J.type==="flow-collection"&&X.type==="document")J.indent=0;if(J.type==="flow-collection")nW0(J);switch(X.type){case"document":X.value=J;break;case"block-scalar":X.props.push(J);break;case"block-map":{let Z=X.items[X.items.length-1];if(Z.value){X.items.push({start:[],key:J,sep:[]}),this.onKeyLine=!0;return}else if(Z.sep)Z.value=J;else{Object.assign(Z,{key:J,sep:[]}),this.onKeyLine=!Z.explicitKey;return}break}case"block-seq":{let Z=X.items[X.items.length-1];if(Z.value)X.items.push({start:[],value:J});else Z.value=J;break}case"flow-collection":{let Z=X.items[X.items.length-1];if(!Z||Z.value)X.items.push({start:[],key:J,sep:[]});else if(Z.sep)Z.value=J;else Object.assign(Z,{key:J,sep:[]});return}default:yield*this.pop(),yield*this.pop(J)}if((X.type==="document"||X.type==="block-map"||X.type==="block-seq")&&(J.type==="block-map"||J.type==="block-seq")){let Z=J.items[J.items.length-1];if(Z&&!Z.sep&&!Z.value&&Z.start.length>0&&pW0(Z.start)===-1&&(J.indent===0||Z.start.every((W)=>W.type!=="comment"||W.indent<J.indent))){if(X.type==="document")X.end=Z.start;else X.items.push({start:Z.start});J.items.splice(-1,1)}}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let Y={type:"document",offset:this.offset,start:[]};if(this.type==="doc-start")Y.start.push(this.sourceToken);this.stack.push(Y);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(Y){if(Y.value)return yield*this.lineEnd(Y);switch(this.type){case"doc-start":{if(pW0(Y.start)!==-1)yield*this.pop(),yield*this.step();else Y.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":Y.start.push(this.sourceToken);return}let J=this.startBlockValue(Y);if(J)this.stack.push(J);else yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(Y){if(this.type==="map-value-ind"){let J=NC(this.peek(2)),X=vK(J),Z;if(Y.end)Z=Y.end,Z.push(this.sourceToken),delete Y.end;else Z=[this.sourceToken];let W={type:"block-map",offset:Y.offset,indent:Y.indent,items:[{start:X,key:Y,sep:Z}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=W}else yield*this.lineEnd(Y)}*blockScalar(Y){switch(this.type){case"space":case"comment":case"newline":Y.props.push(this.sourceToken);return;case"scalar":if(Y.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let J=this.source.indexOf(`
`)+1;while(J!==0)this.onNewLine(this.offset+J),J=this.source.indexOf(`
`,J)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(Y){let J=Y.items[Y.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,J.value){let X="end"in J.value?J.value.end:void 0;if((Array.isArray(X)?X[X.length-1]:void 0)?.type==="comment")X?.push(this.sourceToken);else Y.items.push({start:[this.sourceToken]})}else if(J.sep)J.sep.push(this.sourceToken);else J.start.push(this.sourceToken);return;case"space":case"comment":if(J.value)Y.items.push({start:[this.sourceToken]});else if(J.sep)J.sep.push(this.sourceToken);else{if(this.atIndentedComment(J.start,Y.indent)){let Z=Y.items[Y.items.length-2]?.value?.end;if(Array.isArray(Z)){Array.prototype.push.apply(Z,J.start),Z.push(this.sourceToken),Y.items.pop();return}}J.start.push(this.sourceToken)}return}if(this.indent>=Y.indent){let X=!this.onKeyLine&&this.indent===Y.indent,Z=X&&(J.sep||J.explicitKey)&&this.type!=="seq-item-ind",W=[];if(Z&&J.sep&&!J.value){let $=[];for(let G=0;G<J.sep.length;++G){let Q=J.sep[G];switch(Q.type){case"newline":$.push(G);break;case"space":break;case"comment":if(Q.indent>Y.indent)$.length=0;break;default:$.length=0}}if($.length>=2)W=J.sep.splice($[1])}switch(this.type){case"anchor":case"tag":if(Z||J.value)W.push(this.sourceToken),Y.items.push({start:W}),this.onKeyLine=!0;else if(J.sep)J.sep.push(this.sourceToken);else J.start.push(this.sourceToken);return;case"explicit-key-ind":if(!J.sep&&!J.explicitKey)J.start.push(this.sourceToken),J.explicitKey=!0;else if(Z||J.value)W.push(this.sourceToken),Y.items.push({start:W,explicitKey:!0});else this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]});this.onKeyLine=!0;return;case"map-value-ind":if(J.explicitKey)if(!J.sep)if(C$(J.start,"newline"))Object.assign(J,{key:null,sep:[this.sourceToken]});else{let $=vK(J.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:$,key:null,sep:[this.sourceToken]}]})}else if(J.value)Y.items.push({start:[],key:null,sep:[this.sourceToken]});else if(C$(J.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:W,key:null,sep:[this.sourceToken]}]});else if(iW0(J.key)&&!C$(J.sep,"newline")){let $=vK(J.start),G=J.key,Q=J.sep;Q.push(this.sourceToken),delete J.key,delete J.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:$,key:G,sep:Q}]})}else if(W.length>0)J.sep=J.sep.concat(W,this.sourceToken);else J.sep.push(this.sourceToken);else if(!J.sep)Object.assign(J,{key:null,sep:[this.sourceToken]});else if(J.value||Z)Y.items.push({start:W,key:null,sep:[this.sourceToken]});else if(C$(J.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]});else J.sep.push(this.sourceToken);this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let $=this.flowScalar(this.type);if(Z||J.value)Y.items.push({start:W,key:$,sep:[]}),this.onKeyLine=!0;else if(J.sep)this.stack.push($);else Object.assign(J,{key:$,sep:[]}),this.onKeyLine=!0;return}default:{let $=this.startBlockValue(Y);if($){if($.type==="block-seq"){if(!J.explicitKey&&J.sep&&!C$(J.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else if(X)Y.items.push({start:W});this.stack.push($);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(Y){let J=Y.items[Y.items.length-1];switch(this.type){case"newline":if(J.value){let X="end"in J.value?J.value.end:void 0;if((Array.isArray(X)?X[X.length-1]:void 0)?.type==="comment")X?.push(this.sourceToken);else Y.items.push({start:[this.sourceToken]})}else J.start.push(this.sourceToken);return;case"space":case"comment":if(J.value)Y.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(J.start,Y.indent)){let Z=Y.items[Y.items.length-2]?.value?.end;if(Array.isArray(Z)){Array.prototype.push.apply(Z,J.start),Z.push(this.sourceToken),Y.items.pop();return}}J.start.push(this.sourceToken)}return;case"anchor":case"tag":if(J.value||this.indent<=Y.indent)break;J.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==Y.indent)break;if(J.value||C$(J.start,"seq-item-ind"))Y.items.push({start:[this.sourceToken]});else J.start.push(this.sourceToken);return}if(this.indent>Y.indent){let X=this.startBlockValue(Y);if(X){this.stack.push(X);return}}yield*this.pop(),yield*this.step()}*flowCollection(Y){let J=Y.items[Y.items.length-1];if(this.type==="flow-error-end"){let X;do yield*this.pop(),X=this.peek(1);while(X?.type==="flow-collection")}else if(Y.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":if(!J||J.sep)Y.items.push({start:[this.sourceToken]});else J.start.push(this.sourceToken);return;case"map-value-ind":if(!J||J.value)Y.items.push({start:[],key:null,sep:[this.sourceToken]});else if(J.sep)J.sep.push(this.sourceToken);else Object.assign(J,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":if(!J||J.value)Y.items.push({start:[this.sourceToken]});else if(J.sep)J.sep.push(this.sourceToken);else J.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let Z=this.flowScalar(this.type);if(!J||J.value)Y.items.push({start:[],key:Z,sep:[]});else if(J.sep)this.stack.push(Z);else Object.assign(J,{key:Z,sep:[]});return}case"flow-map-end":case"flow-seq-end":Y.end.push(this.sourceToken);return}let X=this.startBlockValue(Y);if(X)this.stack.push(X);else yield*this.pop(),yield*this.step()}else{let X=this.peek(2);if(X.type==="block-map"&&(this.type==="map-value-ind"&&X.indent===Y.indent||this.type==="newline"&&!X.items[X.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&X.type!=="flow-collection"){let Z=NC(X),W=vK(Z);nW0(Y);let $=Y.end.splice(1,Y.end.length);$.push(this.sourceToken);let G={type:"block-map",offset:Y.offset,indent:Y.indent,items:[{start:W,key:Y,sep:$}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=G}else yield*this.lineEnd(Y)}}flowScalar(Y){if(this.onNewLine){let J=this.source.indexOf(`
`)+1;while(J!==0)this.onNewLine(this.offset+J),J=this.source.indexOf(`
`,J)+1}return{type:Y,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(Y){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let J=NC(Y),X=vK(J);return X.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:X,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let J=NC(Y),X=vK(J);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:X,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(Y,J){if(this.type!=="comment")return!1;if(this.indent<=J)return!1;return Y.every((X)=>X.type==="newline"||X.type==="space")}*documentEnd(Y){if(this.type!=="doc-mode"){if(Y.end)Y.end.push(this.sourceToken);else Y.end=[this.sourceToken];if(this.type==="newline")yield*this.pop()}}*lineEnd(Y){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:if(Y.end)Y.end.push(this.sourceToken);else Y.end=[this.sourceToken];if(this.type==="newline")yield*this.pop()}}}l36.Parser=oW0});var eW0=q((e36)=>{var rW0=O11(),n36=Zw(),zw=Ww(),i36=Pe(),o36=e0(),r36=P11(),aW0=L11();function sW0(Y){let J=Y.prettyErrors!==!1;return{lineCounter:Y.lineCounter||J&&new r36.LineCounter||null,prettyErrors:J}}function a36(Y,J={}){let{lineCounter:X,prettyErrors:Z}=sW0(J),W=new aW0.Parser(X?.addNewLine),$=new rW0.Composer(J),G=Array.from($.compose(W.parse(Y)));if(Z&&X)for(let Q of G)Q.errors.forEach(zw.prettifyError(Y,X)),Q.warnings.forEach(zw.prettifyError(Y,X));if(G.length>0)return G;return Object.assign([],{empty:!0},$.streamInfo())}function tW0(Y,J={}){let{lineCounter:X,prettyErrors:Z}=sW0(J),W=new aW0.Parser(X?.addNewLine),$=new rW0.Composer(J),G=null;for(let Q of $.compose(W.parse(Y),!0,Y.length))if(!G)G=Q;else if(G.options.logLevel!=="silent"){G.errors.push(new zw.YAMLParseError(Q.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}if(Z&&X)G.errors.forEach(zw.prettifyError(Y,X)),G.warnings.forEach(zw.prettifyError(Y,X));return G}function s36(Y,J,X){let Z=void 0;if(typeof J==="function")Z=J;else if(X===void 0&&J&&typeof J==="object")X=J;let W=tW0(Y,X);if(!W)return null;if(W.warnings.forEach(($)=>i36.warn(W.options.logLevel,$)),W.errors.length>0)if(W.options.logLevel!=="silent")throw W.errors[0];else W.errors=[];return W.toJS(Object.assign({reviver:Z},X))}function t36(Y,J,X){let Z=null;if(typeof J==="function"||Array.isArray(J))Z=J;else if(X===void 0&&J)X=J;if(typeof X==="string")X=X.length;if(typeof X==="number"){let W=Math.round(X);X=W<1?void 0:W>8?{indent:8}:{indent:W}}if(Y===void 0){let{keepUndefined:W}=X??J??{};if(!W)return}if(o36.isDocument(Y)&&!Z)return Y.toString(X);return new n36.Document(Y,Z,X).toString(X)}e36.parse=s36;e36.parseAllDocuments=a36;e36.parseDocument=tW0;e36.stringify=t36});var J$0=q((VZ6)=>{var WZ6=O11(),$Z6=Zw(),GZ6=re(),M11=Ww(),QZ6=dD(),j$=e0(),UZ6=T$(),zZ6=H8(),HZ6=N$(),OZ6=S$(),KZ6=TC(),BZ6=A11(),qZ6=P11(),FZ6=L11(),SC=eW0(),Y$0=uD();VZ6.Composer=WZ6.Composer;VZ6.Document=$Z6.Document;VZ6.Schema=GZ6.Schema;VZ6.YAMLError=M11.YAMLError;VZ6.YAMLParseError=M11.YAMLParseError;VZ6.YAMLWarning=M11.YAMLWarning;VZ6.Alias=QZ6.Alias;VZ6.isAlias=j$.isAlias;VZ6.isCollection=j$.isCollection;VZ6.isDocument=j$.isDocument;VZ6.isMap=j$.isMap;VZ6.isNode=j$.isNode;VZ6.isPair=j$.isPair;VZ6.isScalar=j$.isScalar;VZ6.isSeq=j$.isSeq;VZ6.Pair=UZ6.Pair;VZ6.Scalar=zZ6.Scalar;VZ6.YAMLMap=HZ6.YAMLMap;VZ6.YAMLSeq=OZ6.YAMLSeq;VZ6.CST=KZ6;VZ6.Lexer=BZ6.Lexer;VZ6.LineCounter=qZ6.LineCounter;VZ6.Parser=FZ6.Parser;VZ6.parse=SC.parse;VZ6.parseAllDocuments=SC.parseAllDocuments;VZ6.parseDocument=SC.parseDocument;VZ6.stringify=SC.stringify;VZ6.visit=Y$0.visit;VZ6.visitAsync=Y$0.visitAsync});var V$0=q((q$0)=>{Object.defineProperty(q$0,"__esModule",{value:!0});q$0.setLoggerProvider=q$0.getSeverity=q$0.setMeterProvider=q$0.getTemporalityPreference=q$0.setTracerProvider=q$0.setPropagator=q$0.setAttributeLimits=q$0.setResourceAttributes=q$0.parseConfigFile=q$0.hasValidConfigFile=q$0.FileConfigFactory=void 0;var E11=k1(),nZ6=We(),W$0=C("fs"),iZ6=J$0(),B1=Oe(),v4=Ue(),oZ6=ze(),rZ6=He(),H6=Ge(),Ow=t();class $$0{_config;constructor(){this._config=(0,nZ6.initializeDefaultConfiguration)(),G$0(this._config)}getConfigModel(){return this._config}}q$0.FileConfigFactory=$$0;function aZ6(){let Y=(0,E11.getStringFromEnv)("OTEL_EXPERIMENTAL_CONFIG_FILE");if(Y){if(!(Y.endsWith(".yaml")||Y.endsWith(".yml"))||!W$0.existsSync(Y))return Ow.diag.warn(`Config file ${Y} set on OTEL_EXPERIMENTAL_CONFIG_FILE is not valid`),!1;return!0}return!1}q$0.hasValidConfigFile=aZ6;function G$0(Y){let J=["1.0-rc.3"],X=(0,E11.getStringFromEnv)("OTEL_EXPERIMENTAL_CONFIG_FILE")||"",Z=W$0.readFileSync(X,"utf8"),W=iZ6.parse(Z);if(W.file_format&&J.includes(W.file_format)){let $=(0,B1.getBooleanFromConfigFile)(W.disabled);if($!==void 0)Y.disabled=$;let G=(0,B1.getNumberFromConfigFile)((0,E11.diagLogLevelFromString)(W.log_level));if(G)Y.log_level=G;if(W.resource){if(Y.resource==null)Y.resource={};let Q=(0,B1.getStringFromConfigFile)(W.resource?.schema_url);if(Q)Y.resource.schema_url=Q}Q$0(Y,W.resource?.attributes,W.resource?.attributes_list),U$0(Y,W.attribute_limits),z$0(Y,W.propagator),H$0(Y,W.tracer_provider),O$0(Y,W.meter_provider),B$0(Y,W.logger_provider)}else Ow.diag.warn(`Unsupported File Format: ${W.file_format}. It must be one of the following: ${J}`)}q$0.parseConfigFile=G$0;function Q$0(Y,J,X){if(J||X){let Z=[];if(Y.resource==null)Y.resource={};if((0,B1.getStringFromConfigFile)(X))Y.resource.attributes_list=(0,B1.getStringFromConfigFile)(X);let W=(0,B1.getStringListFromConfigFile)(X);if(W&&W.length>0||J&&J.length>0){if(Y.resource.attributes=[],J)for(let $=0;$<J.length;$++){let G=J[$],Q=G.value;switch(G.type){case"bool":Q=(0,B1.getBooleanFromConfigFile)(Q);break;case"bool_array":Q=(0,B1.getBooleanListFromConfigFile)(Q);break;case"int":case"double":Q=(0,B1.getNumberFromConfigFile)(Q);break;case"int_array":case"double_array":Q=(0,B1.getNumberListFromConfigFile)(Q);break;case"string_array":Q=(0,B1.getStringListFromConfigFile)(Q);break;default:Q=(0,B1.getStringFromConfigFile)(Q);break}let U=(0,B1.getStringFromConfigFile)(G.name)??"";Y.resource.attributes.push({name:U,value:Q,type:G.type??"string"}),Z.push(U)}if(W)for(let $=0;$<W.length;$++){let G=W[$].split("=");if(!Z.includes(G[0]))Y.resource.attributes.push({name:G[0],value:G[1],type:"string"})}}}}q$0.setResourceAttributes=Q$0;function U$0(Y,J){if(J){if(Y.attribute_limits==null)Y.attribute_limits={attribute_count_limit:128};let X=(0,B1.getNumberFromConfigFile)(J.attribute_value_length_limit);if(X)Y.attribute_limits.attribute_value_length_limit=X;let Z=(0,B1.getNumberFromConfigFile)(J.attribute_count_limit);if(Z)Y.attribute_limits.attribute_count_limit=Z}}q$0.setAttributeLimits=U$0;function z$0(Y,J){if(J&&(J.composite||J.composite_list)){let X=[],Z=[];if(J.composite)for(let G=0;G<J.composite.length;G++){let Q=Object.keys(J.composite[G])[0];X.push(Q),Z.push({[Q]:null})}let W=(0,B1.getStringListFromConfigFile)(J.composite_list);if(W){for(let G=0;G<W.length;G++)if(!X.includes(W[G]))Z.push({[W[G]]:null})}if(Z.length>0){if(Y.propagator==null)Y.propagator={};Y.propagator.composite=Z}let $=(0,B1.getStringFromConfigFile)(J.composite_list);if($)Y.propagator.composite_list=$;else if(X.length>0)Y.propagator.composite_list=X.join(",")}}q$0.setPropagator=z$0;function jC(Y){if(Y){let J=[];for(let X=0;X<Y.length;X++){let Z=Y[X];J.push({name:Z.name,value:Z.value})}if(J.length>0)return J}return null}var k$;(function(Y){Y[Y.TRACER=0]="TRACER",Y[Y.METER=1]="METER",Y[Y.LOGGER=2]="LOGGER"})(k$||(k$={}));function kC(Y,J){let X=Object.keys(Y)[0],Z={},W,$,G,Q,U,z,H,O,K;switch(J){case k$.TRACER:K="http://localhost:4318/v1/traces",Z=Z;break;case k$.LOGGER:K="http://localhost:4318/v1/logs",Z=Z;break}switch(X){case"otlp_http":if(W=Y.otlp_http,W){if(Z={otlp_http:{endpoint:(0,B1.getStringFromConfigFile)(W.endpoint)??K,timeout:(0,B1.getNumberFromConfigFile)(W.timeout)??1e4,encoding:(0,B1.getStringFromConfigFile)(W.encoding)==="json"?v4.OtlpHttpEncoding.JSON:v4.OtlpHttpEncoding.Protobuf}},U=(0,B1.getStringFromConfigFile)(W.compression),U&&Z.otlp_http)Z.otlp_http.compression=U;if(H=(0,B1.getStringFromConfigFile)(W.headers_list),H&&Z.otlp_http)Z.otlp_http.headers_list=H;if(z=jC(W.headers),z&&Z.otlp_http)Z.otlp_http.headers=z;if(W.tls){$=(0,B1.getStringFromConfigFile)(W.tls.ca_file),G=(0,B1.getStringFromConfigFile)(W.tls.cert_file),Q=(0,B1.getStringFromConfigFile)(W.tls.key_file);let B=(0,B1.getHttpTlsConfig)($,Q,G);if(B)Z.otlp_http.tls=B}}break;case"otlp_grpc":if(W=Y.otlp_grpc,W){if(Z={otlp_grpc:{endpoint:(0,B1.getStringFromConfigFile)(W.endpoint)??"http://localhost:4317",timeout:(0,B1.getNumberFromConfigFile)(W.timeout)??1e4}},U=(0,B1.getStringFromConfigFile)(W.compression),U&&Z.otlp_grpc)Z.otlp_grpc.compression=U;if(H=(0,B1.getStringFromConfigFile)(W.headers_list),H&&Z.otlp_grpc)Z.otlp_grpc.headers_list=H;if(z=jC(W.headers),z&&Z.otlp_grpc)Z.otlp_grpc.headers=z;if(W.tls){$=(0,B1.getStringFromConfigFile)(W.tls.ca_file),G=(0,B1.getStringFromConfigFile)(W.tls.cert_file),Q=(0,B1.getStringFromConfigFile)(W.tls.key_file),O=(0,B1.getBooleanFromConfigFile)(W.tls.insecure);let B=(0,B1.getGrpcTlsConfig)($,Q,G,O);if(B)Z.otlp_grpc.tls=B}}break;case"otlp_file/development":if(W=Y["otlp_file/development"],W)Z={"otlp_file/development":{output_stream:(0,B1.getStringFromConfigFile)(W.output_stream)??"stdout"}};break;case"console":Z={console:{}};break}return Z}function H$0(Y,J){if(J&&J.processors?.length>0){if(Y.tracer_provider=(0,oZ6.initializeDefaultTracerProviderConfiguration)(),J.limits){let X=(0,B1.getNumberFromConfigFile)(J.limits.attribute_value_length_limit);if(X)Y.tracer_provider.limits.attribute_value_length_limit=X;let Z=(0,B1.getNumberFromConfigFile)(J.limits.attribute_count_limit);if(Z)Y.tracer_provider.limits.attribute_count_limit=Z;let W=(0,B1.getNumberFromConfigFile)(J.limits.event_count_limit);if(W)Y.tracer_provider.limits.event_count_limit=W;let $=(0,B1.getNumberFromConfigFile)(J.limits.link_count_limit);if($)Y.tracer_provider.limits.link_count_limit=$;let G=(0,B1.getNumberFromConfigFile)(J.limits.event_attribute_count_limit);if(G)Y.tracer_provider.limits.event_attribute_count_limit=G;let Q=(0,B1.getNumberFromConfigFile)(J.limits.link_attribute_count_limit);if(Q)Y.tracer_provider.limits.link_attribute_count_limit=Q}for(let X=0;X<J.processors.length;X++){let Z=Object.keys(J.processors[X])[0];if(Z==="batch"){let W=J.processors[X].batch;if(W){let $=kC(W.exporter,k$.TRACER),G={batch:{schedule_delay:(0,B1.getNumberFromConfigFile)(W.schedule_delay)??5000,export_timeout:(0,B1.getNumberFromConfigFile)(W.export_timeout)??30000,max_queue_size:(0,B1.getNumberFromConfigFile)(W.max_queue_size)??2048,max_export_batch_size:(0,B1.getNumberFromConfigFile)(W.max_export_batch_size)??512,exporter:$}};Y.tracer_provider.processors.push(G)}}else if(Z==="simple"){let W=J.processors[X].simple;if(W){let G={simple:{exporter:kC(W.exporter,k$.TRACER)}};Y.tracer_provider.processors.push(G)}}}}else if(J&&(J.processors==null||J.processors.length===0))Ow.diag.warn("TracerProvider must have at least one processor configured")}q$0.setTracerProvider=H$0;function X$0(Y){if(Y==null)Y={};let J=(0,B1.getNumberFromConfigFile)(Y.default)??2000;return{default:J,counter:(0,B1.getNumberFromConfigFile)(Y.counter)??J,gauge:(0,B1.getNumberFromConfigFile)(Y.gauge)??J,histogram:(0,B1.getNumberFromConfigFile)(Y.histogram)??J,observable_counter:(0,B1.getNumberFromConfigFile)(Y.observable_counter)??J,observable_gauge:(0,B1.getNumberFromConfigFile)(Y.observable_gauge)??J,observable_up_down_counter:(0,B1.getNumberFromConfigFile)(Y.observable_up_down_counter)??J,up_down_counter:(0,B1.getNumberFromConfigFile)(Y.up_down_counter)??J}}function Z$0(Y){let J=[];if(Y)for(let X=0;X<Y.length;X++){let Z=Y[X];if(Object.keys(Z)[0]==="opencensus")J.push({opencensus:{}})}return J}function Hw(Y){switch((0,B1.getStringFromConfigFile)(Y)){case"cumulative":return H6.ExporterTemporalityPreference.Cumulative;case"delta":return H6.ExporterTemporalityPreference.Delta;case"low_memory":return H6.ExporterTemporalityPreference.LowMemory;default:return H6.ExporterTemporalityPreference.Cumulative}}q$0.getTemporalityPreference=Hw;function CC(Y){switch((0,B1.getStringFromConfigFile)(Y)){case"explicit_bucket_histogram":return H6.ExporterDefaultHistogramAggregation.ExplicitBucketHistogram;case"base2_exponential_bucket_histogram":return H6.ExporterDefaultHistogramAggregation.Base2ExponentialBucketHistogram;default:return H6.ExporterDefaultHistogramAggregation.ExplicitBucketHistogram}}function sZ6(Y){let J=Object.keys(Y)[0],X={},Z,W,$,G,Q,U,z,H;switch(J){case"otlp_http":if(Z=Y.otlp_http,Z){if(X={otlp_http:{endpoint:(0,B1.getStringFromConfigFile)(Z.endpoint)??"http://localhost:4318/v1/metrics",timeout:(0,B1.getNumberFromConfigFile)(Z.timeout)??1e4,encoding:(0,B1.getStringFromConfigFile)(Z.encoding)==="json"?v4.OtlpHttpEncoding.JSON:v4.OtlpHttpEncoding.Protobuf,temporality_preference:Hw(Z.temporality_preference),default_histogram_aggregation:CC(Z.default_histogram_aggregation)}},Q=(0,B1.getStringFromConfigFile)(Z.compression),Q&&X.otlp_http)X.otlp_http.compression=Q;if(z=(0,B1.getStringFromConfigFile)(Z.headers_list),z&&X.otlp_http)X.otlp_http.headers_list=z;if(U=jC(Z.headers),U&&X.otlp_http)X.otlp_http.headers=U;if(Z.tls){W=(0,B1.getStringFromConfigFile)(Z.tls.ca_file),$=(0,B1.getStringFromConfigFile)(Z.tls.cert_file),G=(0,B1.getStringFromConfigFile)(Z.tls.key_file);let O=(0,B1.getHttpTlsConfig)(W,G,$);if(O)X.otlp_http.tls=O}}break;case"otlp_grpc":if(Z=Y.otlp_grpc,Z){if(X={otlp_grpc:{endpoint:(0,B1.getStringFromConfigFile)(Z.endpoint)??"http://localhost:4317",timeout:(0,B1.getNumberFromConfigFile)(Z.timeout)??1e4,temporality_preference:Hw(Z.temporality_preference),default_histogram_aggregation:CC(Z.default_histogram_aggregation)}},Q=(0,B1.getStringFromConfigFile)(Z.compression),Q&&X.otlp_grpc)X.otlp_grpc.compression=Q;if(z=(0,B1.getStringFromConfigFile)(Z.headers_list),z&&X.otlp_grpc)X.otlp_grpc.headers_list=z;if(U=jC(Z.headers),U&&X.otlp_grpc)X.otlp_grpc.headers=U;if(Z.tls){W=(0,B1.getStringFromConfigFile)(Z.tls.ca_file),$=(0,B1.getStringFromConfigFile)(Z.tls.cert_file),G=(0,B1.getStringFromConfigFile)(Z.tls.key_file),H=(0,B1.getBooleanFromConfigFile)(Z.tls.insecure);let O=(0,B1.getGrpcTlsConfig)(W,G,$,H);if(O)X.otlp_grpc.tls=O}}break;case"otlp_file/development":if(Z=Y["otlp_file/development"],Z)X={"otlp_file/development":{output_stream:(0,B1.getStringFromConfigFile)(Z.output_stream)??"stdout",temporality_preference:Hw(Z.temporality_preference),default_histogram_aggregation:CC(Z.default_histogram_aggregation)}};break;case"console":if(Z=Y.console,Z)X={console:{temporality_preference:Hw(Z.temporality_preference),default_histogram_aggregation:CC(Z.default_histogram_aggregation)}};break}return X}function O$0(Y,J){if(J&&J.readers?.length>0){Y.meter_provider=(0,H6.initializeDefaultMeterProviderConfiguration)();let X=(0,B1.getStringFromConfigFile)(J.exemplar_filter);if(X)switch(X){case"trace_based":Y.meter_provider.exemplar_filter=H6.ExemplarFilter.TraceBased;break;case"always_on":Y.meter_provider.exemplar_filter=H6.ExemplarFilter.AlwaysOn;break;case"always_off":Y.meter_provider.exemplar_filter=H6.ExemplarFilter.AlwaysOff;break;default:Y.meter_provider.exemplar_filter=H6.ExemplarFilter.TraceBased;break}for(let Z=0;Z<J.readers.length;Z++){let W=Object.keys(J.readers[Z])[0];if(W==="pull"){let $=J.readers[Z].pull;if($){let G={"prometheus/development":{host:(0,B1.getStringFromConfigFile)($.exporter["prometheus/development"].host)??"localhost",port:(0,B1.getNumberFromConfigFile)($.exporter["prometheus/development"].port)??9464,without_scope_info:(0,B1.getBooleanFromConfigFile)($.exporter["prometheus/development"].without_scope_info)??!1,without_target_info:(0,B1.getBooleanFromConfigFile)($.exporter["prometheus/development"].without_target_info)??!1}};if($.exporter["prometheus/development"].with_resource_constant_labels)G["prometheus/development"].with_resource_constant_labels={included:(0,B1.getStringListFromConfigFile)($.exporter["prometheus/development"].with_resource_constant_labels?.included)??[],excluded:(0,B1.getStringListFromConfigFile)($.exporter["prometheus/development"].with_resource_constant_labels?.excluded)??[]};if($.exporter["prometheus/development"].translation_strategy)switch((0,B1.getStringFromConfigFile)($.exporter["prometheus/development"].translation_strategy)){case"underscore_escaping_with_suffixes":G["prometheus/development"].translation_strategy=H6.ExperimentalPrometheusTranslationStrategy.UnderscoreEscapingWithSuffixes;break;case"underscore_escaping_without_suffixes":G["prometheus/development"].translation_strategy=H6.ExperimentalPrometheusTranslationStrategy.UnderscoreEscapingWithoutSuffixes;break;case"no_utf8_escaping_with_suffixes":G["prometheus/development"].translation_strategy=H6.ExperimentalPrometheusTranslationStrategy.NoUtf8EscapingWithSuffixes;break;case"no_translation":G["prometheus/development"].translation_strategy=H6.ExperimentalPrometheusTranslationStrategy.NoTranslation;break}let Q={pull:{exporter:G,cardinality_limits:X$0($.cardinality_limits)}},U=Z$0($.producers);if(U.length>0&&Q.pull)Q.pull.producers=U;Y.meter_provider.readers.push(Q)}}else if(W==="periodic"){let $=J.readers[Z].periodic;if($){let Q={periodic:{exporter:sZ6($.exporter),cardinality_limits:X$0($.cardinality_limits),interval:(0,B1.getNumberFromConfigFile)($.interval)??60000,timeout:(0,B1.getNumberFromConfigFile)($.timeout)??30000}},U=Z$0($.producers);if(U.length>0&&Q.periodic)Q.periodic.producers=U;Y.meter_provider.readers.push(Q)}}}if(J.views&&J.views.length>0){Y.meter_provider.views=[];for(let Z=0;Z<J.views.length;Z++){let W=J.views[Z],$={};if(W.selector){let G={},Q=(0,B1.getStringFromConfigFile)(W.selector.instrument_name);if(Q)G.instrument_name=Q;let U=(0,B1.getStringFromConfigFile)(W.selector.unit);if(U)G.unit=U;let z=(0,B1.getStringFromConfigFile)(W.selector.meter_name);if(z)G.meter_name=z;let H=(0,B1.getStringFromConfigFile)(W.selector.meter_version);if(H)G.meter_version=H;let O=(0,B1.getStringFromConfigFile)(W.selector.meter_schema_url);if(O)G.meter_schema_url=O;let K=(0,B1.getStringFromConfigFile)(W.selector.instrument_type);if(K)switch(K){case"counter":G.instrument_type=H6.InstrumentType.Counter;break;case"gauge":G.instrument_type=H6.InstrumentType.Gauge;break;case"histogram":G.instrument_type=H6.InstrumentType.Histogram;break;case"observable_counter":G.instrument_type=H6.InstrumentType.ObservableCounter;break;case"observable_gauge":G.instrument_type=H6.InstrumentType.ObservableGauge;break;case"observable_up_down_counter":G.instrument_type=H6.InstrumentType.ObservableUpDownCounter;break;case"up_down_counter":G.instrument_type=H6.InstrumentType.UpDownCounter;break}if(Object.keys(G).length>0)$.selector=G}if(W.stream){let G={},Q=(0,B1.getStringFromConfigFile)(W.stream.name);if(Q)G.name=Q;let U=(0,B1.getStringFromConfigFile)(W.stream.description);if(U)G.description=U;let z=(0,B1.getNumberFromConfigFile)(W.stream.aggregation_cardinality_limit);if(z)G.aggregation_cardinality_limit=z;if(W.stream.attribute_keys)G.attribute_keys={included:(0,B1.getStringListFromConfigFile)(W.stream.attribute_keys.included)??[],excluded:(0,B1.getStringListFromConfigFile)(W.stream.attribute_keys.excluded)??[]};let H=W.stream.aggregation;if(H){let O={};if(H.default)O.default={};if(H.drop)O.drop={};if(H.last_value)O.last_value={};if(H.sum)O.sum={};if(H.explicit_bucket_histogram)O.explicit_bucket_histogram={boundaries:(0,B1.getNumberListFromConfigFile)(H.explicit_bucket_histogram.boundaries)??[0,5,10,25,50,75,100,250,500,750,1000,2500,5000,7500,1e4],record_min_max:(0,B1.getBooleanFromConfigFile)(H.explicit_bucket_histogram.record_min_max)===!1?!1:!0};if(H.base2_exponential_bucket_histogram){O.base2_exponential_bucket_histogram={record_min_max:(0,B1.getBooleanFromConfigFile)(H.base2_exponential_bucket_histogram.record_min_max)===!1?!1:!0};let K=(0,B1.getNumberFromConfigFile)(H.base2_exponential_bucket_histogram.max_scale);if(K)O.base2_exponential_bucket_histogram.max_scale=K;let B=(0,B1.getNumberFromConfigFile)(H.base2_exponential_bucket_histogram.max_size);if(B)O.base2_exponential_bucket_histogram.max_size=B}G.aggregation=O}if(Object.keys(G).length>0)$.stream=G}Y.meter_provider.views.push($)}}}else if(J&&(J.readers==null||J.readers.length===0))Ow.diag.warn("MeterProvider must have at least one reader configured")}q$0.setMeterProvider=O$0;function K$0(Y){switch((0,B1.getStringFromConfigFile)(Y)){case"debug":return v4.SeverityNumber.DEBUG;case"debug2":return v4.SeverityNumber.DEBUG2;case"debug3":return v4.SeverityNumber.DEBUG3;case"debug4":return v4.SeverityNumber.DEBUG4;case"info":return v4.SeverityNumber.INFO;case"info2":return v4.SeverityNumber.INFO2;case"info3":return v4.SeverityNumber.INFO3;case"info4":return v4.SeverityNumber.INFO4;case"warn":return v4.SeverityNumber.WARN;case"warn2":return v4.SeverityNumber.WARN2;case"warn3":return v4.SeverityNumber.WARN3;case"warn4":return v4.SeverityNumber.WARN4;case"error":return v4.SeverityNumber.ERROR;case"error2":return v4.SeverityNumber.ERROR2;case"error3":return v4.SeverityNumber.ERROR3;case"error4":return v4.SeverityNumber.ERROR4;case"fatal":return v4.SeverityNumber.FATAL;case"fatal2":return v4.SeverityNumber.FATAL2;case"fatal3":return v4.SeverityNumber.FATAL3;case"fatal4":return v4.SeverityNumber.FATAL4;case"trace":return v4.SeverityNumber.TRACE;case"trace2":return v4.SeverityNumber.TRACE2;case"trace3":return v4.SeverityNumber.TRACE3;case"trace4":return v4.SeverityNumber.TRACE4;default:return}}q$0.getSeverity=K$0;function B$0(Y,J){if(J&&J.processors?.length>0){if(Y.logger_provider=(0,rZ6.initializeDefaultLoggerProviderConfiguration)(),J.limits){let X=(0,B1.getNumberFromConfigFile)(J.limits.attribute_value_length_limit),Z=(0,B1.getNumberFromConfigFile)(J.limits.attribute_count_limit);if(X||Z){if(X)Y.logger_provider.limits.attribute_value_length_limit=X;if(Z)Y.logger_provider.limits.attribute_count_limit=Z}}for(let X=0;X<J.processors.length;X++){let Z=Object.keys(J.processors[X])[0];if(Z==="batch"){let W=J.processors[X].batch;if(W){let $=kC(W.exporter,k$.LOGGER),G={batch:{schedule_delay:(0,B1.getNumberFromConfigFile)(W.schedule_delay)??1000,export_timeout:(0,B1.getNumberFromConfigFile)(W.export_timeout)??30000,max_queue_size:(0,B1.getNumberFromConfigFile)(W.max_queue_size)??2048,max_export_batch_size:(0,B1.getNumberFromConfigFile)(W.max_export_batch_size)??512,exporter:$}};Y.logger_provider.processors.push(G)}}else if(Z==="simple"){let W=J.processors[X].simple;if(W){let G={simple:{exporter:kC(W.exporter,k$.LOGGER)}};Y.logger_provider.processors.push(G)}}}if(J["logger_configurator/development"]){let X=(0,B1.getBooleanFromConfigFile)(J["logger_configurator/development"].default_config?.enabled);if(X||X===!1)Y.logger_provider["logger_configurator/development"]={default_config:{enabled:X}};if(J["logger_configurator/development"].loggers&&J["logger_configurator/development"].loggers.length>0){let Z=[];for(let W=0;W<J["logger_configurator/development"].loggers.length;W++){let $=J["logger_configurator/development"].loggers[W],G=!1,Q,U;if($.config){if(G=(0,B1.getBooleanFromConfigFile)($.config.enabled)??!1,Q=(0,B1.getBooleanFromConfigFile)($.config.trace_based),$.config.minimum_severity)U=K$0($.config.minimum_severity)}let z=(0,B1.getStringFromConfigFile)($.name);if(z){let H={name:z,config:{enabled:G}};if(Q!==void 0)H.config.trace_based=Q;if(U!==void 0)H.config.minimum_severity=U;Z.push(H)}}if(Y.logger_provider["logger_configurator/development"]==null)Y.logger_provider["logger_configurator/development"]={};Y.logger_provider["logger_configurator/development"].loggers=Z}}}else if(J&&(J.processors==null||J.processors.length===0))Ow.diag.warn("LoggerProvider must have at least one processor configured")}q$0.setLoggerProvider=B$0});var A$0=q((D$0)=>{Object.defineProperty(D$0,"__esModule",{value:!0});D$0.createConfigFactory=void 0;var UW6=n30(),I$0=V$0();function zW6(){if((0,I$0.hasValidConfigFile)())return new I$0.FileConfigFactory;return new UW6.EnvironmentConfigFactory}D$0.createConfigFactory=zW6});var P$0=q((T11)=>{Object.defineProperty(T11,"__esModule",{value:!0});T11.createConfigFactory=void 0;var HW6=A$0();Object.defineProperty(T11,"createConfigFactory",{enumerable:!0,get:function(){return HW6.createConfigFactory}})});var E$0=q((L$0)=>{Object.defineProperty(L$0,"__esModule",{value:!0});L$0.startNodeSDK=void 0;var KW6=P$0(),R11=t(),N11=Xe(),BW6=t1();function qW6(Y){let X=(0,KW6.createConfigFactory)().getConfigModel();if(X.disabled)return R11.diag.info("OpenTelemetry SDK is disabled"),FW6;if(X.log_level!=null)R11.diag.setLogger(new R11.DiagConsoleLogger,{logLevel:X.log_level});return(0,BW6.registerInstrumentations)({instrumentations:Y?.instrumentations?.flat()??[]}),(0,N11.setupDefaultContextManager)(),(0,N11.setupPropagator)(Y?.textMapPropagator===null?null:Y?.textMapPropagator??(0,N11.getPropagatorFromConfiguration)(X)),{shutdown:async()=>{await Promise.all([])}}}L$0.startNodeSDK=qW6;var FW6={shutdown:async()=>{}}});var T$0=q((_C)=>{Object.defineProperty(_C,"__esModule",{value:!0});_C.startNodeSDK=_C.NodeSDK=_C.tracing=_C.resources=_C.node=_C.metrics=_C.logs=_C.core=_C.contextBase=_C.api=void 0;_C.api=t();_C.contextBase=t();_C.core=k1();_C.logs=vI();_C.metrics=WZ();_C.node=xr();_C.resources=PX();_C.tracing=iQ();var VW6=V30();Object.defineProperty(_C,"NodeSDK",{enumerable:!0,get:function(){return VW6.NodeSDK}});var IW6=E$0();Object.defineProperty(_C,"startNodeSDK",{enumerable:!0,get:function(){return IW6.startNodeSDK}})});import{promises as hK}from"fs";function R$0(Y){if(Y===0)return"0 B";let J=1024,X=["B","KB","MB","GB"],Z=Math.floor(Math.log(Math.abs(Y))/Math.log(J)),W=Y/J**Z;return`${Y>=0?"+":""}${W.toFixed(1)} ${X[Z]}`}async function xC(){let Y=N$0.getRuntimeInfo(),J=process.memoryUsage(),X;try{let Z=Date.now();await new Promise((W)=>setImmediate(W)),X=Date.now()-Z}catch{}return{status:"healthy",timestamp:new Date().toISOString(),uptime:process.uptime(),runtime:Y,memory:J,config:{environment:O4.runtime.NODE_ENV,telemetryEnabled:O4.telemetry.ENABLE_OPENTELEMETRY},system:{platform:process.platform,arch:process.arch,...typeof Bun<"u"&&{bunVersion:Bun.version},...typeof process.version<"u"&&{nodeVersion:process.version},...typeof process.versions?.v8<"u"&&{v8Version:process.versions.v8}},performance:{...X!==void 0&&{eventLoopLag:X},...typeof process.memoryUsage.rss==="function"&&{gcStats:{rss:J.rss,heapTotal:J.heapTotal,heapUsed:J.heapUsed,external:J.external,arrayBuffers:J.arrayBuffers}}}}}var NW6,SW6,N$0,CW6,S$0,Kw;var bK=w(()=>{f5();((jz8)=>{async function Y(Q){if(typeof Bun<"u")try{return await Bun.file(Q).text()}catch(U){throw Error(`Failed to read file with Bun.file(): ${U}`)}return hK.readFile(Q,"utf8")}jz8.read=Y;async function J(Q,U){if(typeof Bun<"u")try{await Bun.write(Q,U);return}catch(z){throw Error(`Failed to write file with Bun.write(): ${z}`)}return hK.writeFile(Q,U,"utf8")}jz8.write=J;async function X(Q){if(typeof Bun<"u")try{return await Bun.file(Q).exists()}catch{return!1}try{return await hK.access(Q),!0}catch{return!1}}jz8.exists=X;async function Z(Q){if(typeof Bun<"u")return Bun.file(Q).size;return(await hK.stat(Q)).size}jz8.size=Z;function W(Q){if(typeof Bun<"u")return Bun.file(Q).stream();return new ReadableStream({start(z){let H=hK.createReadStream(Q);H.on("data",(O)=>{z.enqueue(new Uint8Array(O))}),H.on("end",()=>z.close()),H.on("error",(O)=>z.error(O))}})}jz8.stream=W;async function $(Q){if(typeof Bun<"u")return await Bun.file(Q).json();let U=await hK.readFile(Q,"utf8");return JSON.parse(U)}jz8.readJSON=$;async function G(Q,U){let z=JSON.stringify(U,null,2);return J(Q,z)}jz8.writeJSON=G})(NW6||={});((kz8)=>{async function Y(J,X={}){if(typeof Bun<"u")try{let W=Bun.spawn(J,{cwd:X.cwd,env:{...Bun.env,...X.env},stdin:X.stdin?"pipe":void 0}),$=!1,G=X.timeout?new Promise((U,z)=>{setTimeout(()=>{$=!0,W.kill(),z(Error(`Process timeout after ${X.timeout}ms`))},X.timeout)}):null;if(X.stdin&&W.stdin)W.stdin.write(X.stdin),W.stdin.end();let Q=(async()=>{let U=await new Response(W.stdout).text(),z=await new Response(W.stderr).text(),H=await W.exited;if($)throw Error(`Process timeout after ${X.timeout}ms`);return{stdout:U,stderr:z,exitCode:H}})();if(G)return await Promise.race([Q,G]);return await Q}catch(W){throw Error(`Process spawn failed: ${W}`)}let{spawn:Z}=await import("child_process");return new Promise((W,$)=>{let G=Z(J[0],J.slice(1),{cwd:X.cwd,env:{...process.env,...X.env}}),Q="",U="",z;if(X.timeout)z=setTimeout(()=>{G.kill("SIGTERM"),$(Error(`Process timeout after ${X.timeout}ms`))},X.timeout);if(G.stdout?.on("data",(H)=>{Q+=H.toString()}),G.stderr?.on("data",(H)=>{U+=H.toString()}),G.on("close",(H)=>{if(z)clearTimeout(z);W({stdout:Q,stderr:U,exitCode:H||0})}),G.on("error",(H)=>{if(z)clearTimeout(z);$(H)}),X.stdin)G.stdin?.write(X.stdin),G.stdin?.end()})}kz8.spawn=Y})(SW6||={});((_z8)=>{function Y(Z){if(typeof Bun<"u")return Bun.env[Z];return process.env[Z]}_z8.get=Y;function J(){return typeof Bun<"u"}_z8.isBun=J;function X(){if(typeof Bun<"u")return{runtime:"bun",version:Bun.version,platform:process.platform,arch:process.arch,features:{nativeWebSocket:!0,fileStreaming:!0,fastStartup:!0,javaScriptCore:!0}};return{runtime:"node",version:process.version,platform:process.platform,arch:process.arch,features:{nativeWebSocket:!1,fileStreaming:!1,fastStartup:!1,javaScriptCore:!1}}}_z8.getRuntimeInfo=X})(N$0||={});((xz8)=>{async function Y(Z,W="."){if(typeof Bun<"u"&&typeof Bun.Glob<"u"){let K=new Bun.Glob(Z),B=[];for await(let F of K.scan(W))B.push(F);return B}let{promises:$}=await import("fs"),{join:G,relative:Q}=await import("path"),U=[],z=Z.replace(/\*\*/g,".*").replace(/\*/g,"[^/]*"),H=new RegExp(`^${z}$`);async function O(K){let B=await $.readdir(K,{withFileTypes:!0});for(let F of B){let V=G(K,F.name),I=Q(W,V);if(F.isDirectory())await O(V);else if(H.test(I))U.push(I)}}try{await O(W)}catch{}return U}xz8.scan=Y;function J(Z,W){if(typeof Bun<"u"&&typeof Bun.Glob<"u")return new Bun.Glob(Z).match(W);let $=Z.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/\*\*/g,".*").replace(/\*/g,"[^/]*").replace(/\?/g,".");return new RegExp(`^${$}$`).test(W)}xz8.match=J;function X(){return typeof Bun<"u"&&typeof Bun.Glob<"u"}xz8.isAvailable=X})(CW6||={});((fz8)=>{function Y(Z,W){if(typeof Bun<"u"&&typeof Bun.deepEquals==="function")return Bun.deepEquals(Z,W);if(Z===W)return!0;if(Z===null||W===null)return Z===W;if(typeof Z!==typeof W)return!1;if(typeof Z!=="object")return Z===W;try{return JSON.stringify(Z)===JSON.stringify(W)}catch{return!1}}fz8.deepEquals=Y;function J(Z,W){if(typeof Bun<"u"&&typeof Bun.deepEquals==="function")return Bun.deepEquals(Z,W,!0);if(Object.is(Z,W))return!0;if(Z===null||W===null)return Z===W;if(typeof Z!==typeof W)return!1;if(typeof Z!=="object")return Object.is(Z,W);try{return JSON.stringify(Z)===JSON.stringify(W)}catch{return!1}}fz8.strictDeepEquals=J;function X(){return typeof Bun<"u"&&typeof Bun.deepEquals==="function"}fz8.isAvailable=X})(S$0||={});((vz8)=>{async function Y(Z,W){let $=typeof Bun<"u"?Bun.nanoseconds():performance.now()*1e6,G=process.memoryUsage().heapUsed;try{let Q=await Z(),z=((typeof Bun<"u"?Bun.nanoseconds():performance.now()*1e6)-$)/1e6,O=process.memoryUsage().heapUsed-G;if(W)console.log(`${W}: ${z.toFixed(2)}ms (memory: ${R$0(O)})`);return{result:Q,duration:z,memoryDelta:O}}catch(Q){let z=((typeof Bun<"u"?Bun.nanoseconds():performance.now()*1e6)-$)/1e6;if(W)console.error(`${W} failed after ${z.toFixed(2)}ms:`,Q);throw Q}}vz8.measure=Y;function J(Z){let W=typeof Bun<"u"?Bun.nanoseconds():performance.now()*1e6,$=process.memoryUsage().heapUsed;return{end:()=>{let Q=((typeof Bun<"u"?Bun.nanoseconds():performance.now()*1e6)-W)/1e6,z=process.memoryUsage().heapUsed-$;return console.log(`${Z}: ${Q.toFixed(2)}ms (memory: ${R$0(z)})`),{duration:Q,memoryDelta:z}}}}vz8.createTimer=J;async function X(Z,W=10){let $={};for(let Q of Object.keys(Z))$[Q]=[];for(let Q=0;Q<W;Q++)for(let[U,z]of Object.entries(Z)){let{duration:H}=await Y(z);$[U].push(H)}let G={};for(let[Q,U]of Object.entries($)){let z=U.reduce((H,O)=>H+O,0);G[Q]={avg:z/U.length,min:Math.min(...U),max:Math.max(...U),total:z}}console.log(`
Benchmark Results:`);for(let[Q,U]of Object.entries(G))console.log(`${Q}: avg=${U.avg.toFixed(2)}ms, min=${U.min.toFixed(2)}ms, max=${U.max.toFixed(2)}ms`);return G}vz8.benchmark=X})(Kw||={})});function fC(){let Y=0,J=0,X=0,Z=null,W=null,$=null,G=[];function Q(){if(Y===0)return 0;return Math.round(J/Y*100)}function U(){return`${Q()}%`}return{get totalExports(){return Y},get successCount(){return J},get failureCount(){return X},get successRate(){return Q()},get lastExportTime(){return Z},get lastSuccessTime(){return W},get lastFailureTime(){return $},get recentErrors(){return[...G]},recordExportAttempt(){Y++},recordExportSuccess(){J++,Z=new Date().toISOString(),W=Z},recordExportFailure(H){if(X++,Z=new Date().toISOString(),$=Z,G.push(`${Z}: ${H}`),G.length>10)G.shift()},getStats(){return{successRate:U(),total:Y,failures:X,lastExportTime:Z,lastFailureTime:$,recentErrors:[...G]}}}}function C$0(Y,J){return{export(X,Z){J.recordExportAttempt(),Y.export(X,(W)=>{if(W.code===0)J.recordExportSuccess();else{let $=W.error?.message??"Export failed";J.recordExportFailure($)}Z(W)})},shutdown:()=>Y.shutdown(),forceFlush:Y.forceFlush?()=>Y.forceFlush():void 0}}function j$0(Y,J){return{export(X,Z){J.recordExportAttempt(),Y.export(X,(W)=>{if(W.code===0)J.recordExportSuccess();else{let $=W.error?.message??"Export failed";J.recordExportFailure($)}Z(W)})},shutdown:()=>Y.shutdown()}}function k$0(Y,J){return{export(X,Z){J.recordExportAttempt(),Y.export(X,(W)=>{if(W.code===0)J.recordExportSuccess();else{let $=W.error?.message??"Export failed";J.recordExportFailure($)}Z(W)})},forceFlush:()=>Y.forceFlush(),shutdown:()=>Y.shutdown(),selectAggregationTemporality:Y.selectAggregationTemporality?(X)=>Y.selectAggregationTemporality(X):void 0}}var yK=q((yz8,f$0)=>{var{hasOwnProperty:Bw}=Object.prototype,PU=j11();PU.configure=j11;PU.stringify=PU;PU.default=PU;yz8.stringify=PU;yz8.configure=j11;f$0.exports=PU;var jW6=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function _$(Y){if(Y.length<5000&&!jW6.test(Y))return`"${Y}"`;return JSON.stringify(Y)}function S11(Y,J){if(Y.length>200||J)return Y.sort(J);for(let X=1;X<Y.length;X++){let Z=Y[X],W=X;while(W!==0&&Y[W-1]>Z)Y[W]=Y[W-1],W--;Y[W]=Z}return Y}var kW6=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function C11(Y){return kW6.call(Y)!==void 0&&Y.length!==0}function _$0(Y,J,X){if(Y.length<X)X=Y.length;let Z=J===","?"":" ",W=`"0":${Z}${Y[0]}`;for(let $=1;$<X;$++)W+=`${J}"${$}":${Z}${Y[$]}`;return W}function _W6(Y){if(Bw.call(Y,"circularValue")){let J=Y.circularValue;if(typeof J==="string")return`"${J}"`;if(J==null)return J;if(J===Error||J===TypeError)return{toString(){throw TypeError("Converting circular structure to JSON")}};throw TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function xW6(Y){let J;if(Bw.call(Y,"deterministic")){if(J=Y.deterministic,typeof J!=="boolean"&&typeof J!=="function")throw TypeError('The "deterministic" argument must be of type boolean or comparator function')}return J===void 0?!0:J}function fW6(Y,J){let X;if(Bw.call(Y,J)){if(X=Y[J],typeof X!=="boolean")throw TypeError(`The "${J}" argument must be of type boolean`)}return X===void 0?!0:X}function x$0(Y,J){let X;if(Bw.call(Y,J)){if(X=Y[J],typeof X!=="number")throw TypeError(`The "${J}" argument must be of type number`);if(!Number.isInteger(X))throw TypeError(`The "${J}" argument must be an integer`);if(X<1)throw RangeError(`The "${J}" argument must be >= 1`)}return X===void 0?1/0:X}function AU(Y){if(Y===1)return"1 item";return`${Y} items`}function vW6(Y){let J=new Set;for(let X of Y)if(typeof X==="string"||typeof X==="number")J.add(String(X));return J}function hW6(Y){if(Bw.call(Y,"strict")){let J=Y.strict;if(typeof J!=="boolean")throw TypeError('The "strict" argument must be of type boolean');if(J)return(X)=>{let Z=`Object can not safely be stringified. Received type ${typeof X}`;if(typeof X!=="function")Z+=` (${X.toString()})`;throw Error(Z)}}}function j11(Y){Y={...Y};let J=hW6(Y);if(J){if(Y.bigint===void 0)Y.bigint=!1;if(!("circularValue"in Y))Y.circularValue=Error}let X=_W6(Y),Z=fW6(Y,"bigint"),W=xW6(Y),$=typeof W==="function"?W:void 0,G=x$0(Y,"maximumDepth"),Q=x$0(Y,"maximumBreadth");function U(B,F,V,I,D,L){let A=F[B];if(typeof A==="object"&&A!==null&&typeof A.toJSON==="function")A=A.toJSON(B);switch(A=I.call(F,B,A),typeof A){case"string":return _$(A);case"object":{if(A===null)return"null";if(V.indexOf(A)!==-1)return X;let P="",R=",",N=L;if(Array.isArray(A)){if(A.length===0)return"[]";if(G<V.length+1)return'"[Array]"';if(V.push(A),D!=="")L+=D,P+=`
${L}`,R=`,
${L}`;let r=Math.min(A.length,Q),p=0;for(;p<r-1;p++){let c=U(String(p),A,V,I,D,L);P+=c!==void 0?c:"null",P+=R}let S=U(String(p),A,V,I,D,L);if(P+=S!==void 0?S:"null",A.length-1>Q){let c=A.length-Q-1;P+=`${R}"... ${AU(c)} not stringified"`}if(D!=="")P+=`
${N}`;return V.pop(),`[${P}]`}let v=Object.keys(A),j=v.length;if(j===0)return"{}";if(G<V.length+1)return'"[Object]"';let M="",b="";if(D!=="")L+=D,R=`,
${L}`,M=" ";let k=Math.min(j,Q);if(W&&!C11(A))v=S11(v,$);V.push(A);for(let r=0;r<k;r++){let p=v[r],S=U(p,A,V,I,D,L);if(S!==void 0)P+=`${b}${_$(p)}:${M}${S}`,b=R}if(j>Q){let r=j-Q;P+=`${b}"...":${M}"${AU(r)} not stringified"`,b=R}if(D!==""&&b.length>1)P=`
${L}${P}
${N}`;return V.pop(),`{${P}}`}case"number":return isFinite(A)?String(A):J?J(A):"null";case"boolean":return A===!0?"true":"false";case"undefined":return;case"bigint":if(Z)return String(A);default:return J?J(A):void 0}}function z(B,F,V,I,D,L){if(typeof F==="object"&&F!==null&&typeof F.toJSON==="function")F=F.toJSON(B);switch(typeof F){case"string":return _$(F);case"object":{if(F===null)return"null";if(V.indexOf(F)!==-1)return X;let A=L,P="",R=",";if(Array.isArray(F)){if(F.length===0)return"[]";if(G<V.length+1)return'"[Array]"';if(V.push(F),D!=="")L+=D,P+=`
${L}`,R=`,
${L}`;let j=Math.min(F.length,Q),M=0;for(;M<j-1;M++){let k=z(String(M),F[M],V,I,D,L);P+=k!==void 0?k:"null",P+=R}let b=z(String(M),F[M],V,I,D,L);if(P+=b!==void 0?b:"null",F.length-1>Q){let k=F.length-Q-1;P+=`${R}"... ${AU(k)} not stringified"`}if(D!=="")P+=`
${A}`;return V.pop(),`[${P}]`}V.push(F);let N="";if(D!=="")L+=D,R=`,
${L}`,N=" ";let v="";for(let j of I){let M=z(j,F[j],V,I,D,L);if(M!==void 0)P+=`${v}${_$(j)}:${N}${M}`,v=R}if(D!==""&&v.length>1)P=`
${L}${P}
${A}`;return V.pop(),`{${P}}`}case"number":return isFinite(F)?String(F):J?J(F):"null";case"boolean":return F===!0?"true":"false";case"undefined":return;case"bigint":if(Z)return String(F);default:return J?J(F):void 0}}function H(B,F,V,I,D){switch(typeof F){case"string":return _$(F);case"object":{if(F===null)return"null";if(typeof F.toJSON==="function"){if(F=F.toJSON(B),typeof F!=="object")return H(B,F,V,I,D);if(F===null)return"null"}if(V.indexOf(F)!==-1)return X;let L=D;if(Array.isArray(F)){if(F.length===0)return"[]";if(G<V.length+1)return'"[Array]"';V.push(F),D+=I;let M=`
${D}`,b=`,
${D}`,k=Math.min(F.length,Q),r=0;for(;r<k-1;r++){let S=H(String(r),F[r],V,I,D);M+=S!==void 0?S:"null",M+=b}let p=H(String(r),F[r],V,I,D);if(M+=p!==void 0?p:"null",F.length-1>Q){let S=F.length-Q-1;M+=`${b}"... ${AU(S)} not stringified"`}return M+=`
${L}`,V.pop(),`[${M}]`}let A=Object.keys(F),P=A.length;if(P===0)return"{}";if(G<V.length+1)return'"[Object]"';D+=I;let R=`,
${D}`,N="",v="",j=Math.min(P,Q);if(C11(F))N+=_$0(F,R,Q),A=A.slice(F.length),j-=F.length,v=R;if(W)A=S11(A,$);V.push(F);for(let M=0;M<j;M++){let b=A[M],k=H(b,F[b],V,I,D);if(k!==void 0)N+=`${v}${_$(b)}: ${k}`,v=R}if(P>Q){let M=P-Q;N+=`${v}"...": "${AU(M)} not stringified"`,v=R}if(v!=="")N=`
${D}${N}
${L}`;return V.pop(),`{${N}}`}case"number":return isFinite(F)?String(F):J?J(F):"null";case"boolean":return F===!0?"true":"false";case"undefined":return;case"bigint":if(Z)return String(F);default:return J?J(F):void 0}}function O(B,F,V){switch(typeof F){case"string":return _$(F);case"object":{if(F===null)return"null";if(typeof F.toJSON==="function"){if(F=F.toJSON(B),typeof F!=="object")return O(B,F,V);if(F===null)return"null"}if(V.indexOf(F)!==-1)return X;let I="",D=F.length!==void 0;if(D&&Array.isArray(F)){if(F.length===0)return"[]";if(G<V.length+1)return'"[Array]"';V.push(F);let N=Math.min(F.length,Q),v=0;for(;v<N-1;v++){let M=O(String(v),F[v],V);I+=M!==void 0?M:"null",I+=","}let j=O(String(v),F[v],V);if(I+=j!==void 0?j:"null",F.length-1>Q){let M=F.length-Q-1;I+=`,"... ${AU(M)} not stringified"`}return V.pop(),`[${I}]`}let L=Object.keys(F),A=L.length;if(A===0)return"{}";if(G<V.length+1)return'"[Object]"';let P="",R=Math.min(A,Q);if(D&&C11(F))I+=_$0(F,",",Q),L=L.slice(F.length),R-=F.length,P=",";if(W)L=S11(L,$);V.push(F);for(let N=0;N<R;N++){let v=L[N],j=O(v,F[v],V);if(j!==void 0)I+=`${P}${_$(v)}:${j}`,P=","}if(A>Q){let N=A-Q;I+=`${P}"...":"${AU(N)} not stringified"`}return V.pop(),`{${I}}`}case"number":return isFinite(F)?String(F):J?J(F):"null";case"boolean":return F===!0?"true":"false";case"undefined":return;case"bigint":if(Z)return String(F);default:return J?J(F):void 0}}function K(B,F,V){if(arguments.length>1){let I="";if(typeof V==="number")I=" ".repeat(Math.min(V,10));else if(typeof V==="string")I=V.slice(0,10);if(F!=null){if(typeof F==="function")return U("",{"":B},[],F,I,"");if(Array.isArray(F))return z("",B,[],vW6(F),I,"")}if(I.length!==0)return H("",B,[],I,"")}return O("",B,[])}return K}});var h$0=q((gz8,v$0)=>{var{toString:gW6}=Object.prototype;function uW6(Y,J){if(!(J instanceof Error))return Y.err=J,!1;return Y.error={type:gW6.call(J.constructor)==="[object Function]"?J.constructor.name:J.name,message:J.message,stack_trace:J.stack},!0}v$0.exports={formatError:uW6}});var g$0=q((uz8,y$0)=>{var b$0=["request-id","x-request-id"];function mW6(Y,J){if(J===void 0||J===null||typeof J!=="object")return!1;if(J.raw&&J.raw.req&&J.raw.req.httpVersion)J=J.raw.req;if(!(("httpVersion"in J)&&("headers"in J)&&("method"in J)))return!1;let{method:X,headers:Z,hostname:W,httpVersion:$,socket:G}=J;Y.http=Y.http||{},Y.http.version=$,Y.http.request=Y.http.request||{},Y.http.request.method=X;let Q=J.originalUrl||J.url;Y.url=Y.url||{},Y.url.full=(G&&G.encrypted?"https://":"http://")+Z.host+Q;let U=Q.indexOf("?"),z=Q.indexOf("#");if(U>-1&&z>-1)Y.url.path=Q.slice(0,U),Y.url.query=Q.slice(U+1,z),Y.url.fragment=Q.slice(z+1);else if(U>-1)Y.url.path=Q.slice(0,U),Y.url.query=Q.slice(U+1);else if(z>-1)Y.url.path=Q.slice(0,z),Y.url.fragment=Q.slice(z+1);else Y.url.path=Q;if(W){let[B,F]=W.split(":");if(Y.url.domain=B,F)Y.url.port=Number(F)}Y.client=Y.client||{};let H;if(J.ip)H=J.ip;else if(G&&G.remoteAddress)H=G.remoteAddress;if(H)Y.client.ip=Y.client.address=H;if(G)Y.client.port=G.remotePort;let O=Object.keys(Z).length>0;if(O===!0){Y.http.request.headers=Object.assign(Y.http.request.headers||{},Z);let B=Number(Z["content-length"]);if(!isNaN(B))Y.http.request.body=Y.http.request.body||{},Y.http.request.body.bytes=B;if(Z["user-agent"])Y.user_agent=Y.user_agent||{},Y.user_agent.original=Z["user-agent"]}let K=null;switch(typeof J.id){case"string":K=J.id;break;case"number":K=J.id.toString();break;case"function":K=J.id();break}if(!K&&O)for(let B=0;B<b$0.length;B++){let F=b$0[B];if(Z[F]){K=Z[F];break}}if(K)Y.http.request.id=K;return!0}function dW6(Y,J){if(J===void 0||J===null||typeof J!=="object")return!1;if(J.raw&&J.raw.res&&typeof J.raw.res.getHeaders==="function")J=J.raw.res;if(!(("statusCode"in J)&&typeof J.getHeaders==="function"))return!1;let{statusCode:X}=J;Y.http=Y.http||{},Y.http.response=Y.http.response||{},Y.http.response.status_code=X;let Z=J.getHeaders();if(Object.keys(Z).length>0===!0){Y.http.response.headers=Object.assign(Y.http.response.headers||{},Z);let $=Number(Z["content-length"]);if(!isNaN($))Y.http.response.body=Y.http.response.body||{},Y.http.response.body.bytes=$}return!0}y$0.exports={formatHttpRequest:mW6,formatHttpResponse:dW6}});var m$0=q((mz8,u$0)=>{var cW6=h$0(),lW6=g$0();u$0.exports={version:"8.10.0",...cW6,...lW6}});var i$0=q((dz8,gK)=>{var{LEVEL:pW6,MESSAGE:nW6,SPLAT:k11}=u6(),iW6=yK(),{version:oW6,formatHttpRequest:rW6,formatHttpResponse:aW6}=m$0(),qw=null;try{qw=(()=>{throw new Error("Cannot require module "+"elastic-apm-node");})()}catch(Y){}var sW6=iW6.configure();class d$0{constructor(Y){this.options=Y}transform(Y,J){J=J||{};let X=J.convertErr!=null?J.convertErr:!0,Z=J.convertReqRes!=null?J.convertReqRes:!1,W=J.apmIntegration!=null?J.apmIntegration:!0,$,G=k11&&Y[k11]&&Y[k11][0];if(G instanceof Error){$=G,delete Y.stack;for(let B in $)delete Y[B]}else if((Y.exception===!0||Y.rejection===!0)&&Y.level==="error"&&Array.isArray(Y.trace)&&(Y.message.startsWith("uncaughtException:")||Y.message.startsWith("unhandledRejection:"))){if(delete Y.stack,delete Y.trace,delete Y.date,Y.message=Y.message.split(/\n/,1)[0],Y.error instanceof Error)$=Y.error;else Y.error={message:Y.error.toString()};delete Y.error}else if(X){if(Y instanceof Error)$=Y,Y=Object.assign({message:$.message,[pW6]:$.level},$),delete $.level;else if(Y.message instanceof Error)$=Y.message,Y.message=$.message;else if(Y.err instanceof Error)$=Y.err,delete Y.err}if($){if(Y.error=Object.assign({},$),Y.error.type=toString.call($.constructor)==="[object Function]"?$.constructor.name:$.name,Y.error.message=$.message,Y.error.stack_trace=$.stack,$.cause)Y.error.cause=$.cause instanceof Error?$.cause.stack:$.cause.toString()}Y["@timestamp"]=new Date().toISOString(),Y["log.level"]=Y.level,Y["ecs.version"]=oW6;let Q=null;if(W&&qw&&qw.isStarted&&qw.isStarted())Q=qw;let U=J.serviceName;if(U==null&&Q)U=Q.getServiceName?Q.getServiceName():Q._conf.serviceName;if(U)Y["service.name"]=U;let z=J.serviceVersion;if(z==null&&Q)z=Q.getServiceVersion?Q.getServiceVersion():Q._conf.serviceVersion;if(z)Y["service.version"]=z;let H=J.serviceEnvironment;if(H==null&&Q)H=Q.getServiceEnvironment?Q.getServiceEnvironment():Q._conf.environment;if(H)Y["service.environment"]=H;let O=J.serviceNodeName;if(O==null&&Q)O=Q.getServiceNodeName?Q.getServiceNodeName():Q._conf.serviceNodeName;if(O)Y["service.node.name"]=O;let K=J.eventDataset;if(K==null&&U)K=U;if(K)Y["event.dataset"]=K;if(Q){let B=Q.currentTransaction;if(B){Y["trace.id"]=B.traceId,Y["transaction.id"]=B.id;let F=Q.currentSpan;if(F)Y["span.id"]=F.id}}if(Y.req!==void 0&&Z)rW6(Y,Y.req),delete Y.req;if(Y.res!==void 0&&Z)aW6(Y,Y.res),delete Y.res;return Y}}function c$0(Y){return new d$0(Y)}class l$0{constructor(Y){this.options=Y}transform(Y,J){let{level:X,...Z}=Y;return Y[nW6]=sW6(Z),Y}}function p$0(Y){return new l$0(Y)}class n$0{constructor(Y){this.options=Y,this._fieldsTx=c$0(Y),this._stringifyTx=p$0()}transform(Y,J){return Y=this._fieldsTx.transform(Y,this._fieldsTx.options),Y=this._stringifyTx.transform(Y,this._stringifyTx.options),Y}}function _11(Y){return new n$0(Y)}gK.exports=_11;gK.exports.ecsFormat=_11;gK.exports.ecsFields=c$0;gK.exports.ecsStringify=p$0;gK.exports.default=_11});var p9=q((cz8,o$0)=>{class x11 extends Error{constructor(Y){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${Y.toString().split(`
`)[0]}
`);Error.captureStackTrace(this,x11)}}o$0.exports=(Y)=>{if(Y.length>2)throw new x11(Y);function J(Z={}){this.options=Z}J.prototype.transform=Y;function X(Z){return new J(Z)}return X.Format=J,X}});var t$0=q((lz8,s$0)=>{var a$0={};s$0.exports=a$0;var r$0={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r$0).forEach(function(Y){var J=r$0[Y],X=a$0[Y]=[];X.open="\x1B["+J[0]+"m",X.close="\x1B["+J[1]+"m"})});var YG0=q((pz8,e$0)=>{e$0.exports=function(Y,J){J=J||process.argv||[];var X=J.indexOf("--"),Z=/^-{1,2}/.test(Y)?"":"--",W=J.indexOf(Z+Y);return W!==-1&&(X===-1?!0:W<X)}});var XG0=q((nz8,JG0)=>{var tW6=C("os"),VJ=YG0(),q9=process.env,uK=void 0;if(VJ("no-color")||VJ("no-colors")||VJ("color=false"))uK=!1;else if(VJ("color")||VJ("colors")||VJ("color=true")||VJ("color=always"))uK=!0;if("FORCE_COLOR"in q9)uK=q9.FORCE_COLOR.length===0||parseInt(q9.FORCE_COLOR,10)!==0;function eW6(Y){if(Y===0)return!1;return{level:Y,hasBasic:!0,has256:Y>=2,has16m:Y>=3}}function Y$6(Y){if(uK===!1)return 0;if(VJ("color=16m")||VJ("color=full")||VJ("color=truecolor"))return 3;if(VJ("color=256"))return 2;if(Y&&!Y.isTTY&&uK!==!0)return 0;var J=uK?1:0;if(process.platform==="win32"){var X=tW6.release().split(".");if(Number(process.versions.node.split(".")[0])>=8&&Number(X[0])>=10&&Number(X[2])>=10586)return Number(X[2])>=14931?3:2;return 1}if("CI"in q9){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(W){return W in q9})||q9.CI_NAME==="codeship")return 1;return J}if("TEAMCITY_VERSION"in q9)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(q9.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in q9){var Z=parseInt((q9.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(q9.TERM_PROGRAM){case"iTerm.app":return Z>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(q9.TERM))return 2;if(/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(q9.TERM))return 1;if("COLORTERM"in q9)return 1;if(q9.TERM==="dumb")return J;return J}function f11(Y){var J=Y$6(Y);return eW6(J)}JG0.exports={supportsColor:f11,stdout:f11(process.stdout),stderr:f11(process.stderr)}});var WG0=q((iz8,ZG0)=>{ZG0.exports=function(J,X){var Z="";J=J||"Run the trap, drop the bass",J=J.split("");var W={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return J.forEach(function($){$=$.toLowerCase();var G=W[$]||[" "],Q=Math.floor(Math.random()*G.length);if(typeof W[$]<"u")Z+=W[$][Q];else Z+=$}),Z}});var GG0=q((oz8,$G0)=>{$G0.exports=function(J,X){J=J||"   he is here   ";var Z={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},W=[].concat(Z.up,Z.down,Z.mid);function $(U){var z=Math.floor(Math.random()*U);return z}function G(U){var z=!1;return W.filter(function(H){z=H===U}),z}function Q(U,z){var H="",O,K;z=z||{},z.up=typeof z.up<"u"?z.up:!0,z.mid=typeof z.mid<"u"?z.mid:!0,z.down=typeof z.down<"u"?z.down:!0,z.size=typeof z.size<"u"?z.size:"maxi",U=U.split("");for(K in U){if(G(K))continue;switch(H=H+U[K],O={up:0,down:0,mid:0},z.size){case"mini":O.up=$(8),O.mid=$(2),O.down=$(8);break;case"maxi":O.up=$(16)+3,O.mid=$(4)+1,O.down=$(64)+3;break;default:O.up=$(8)+1,O.mid=$(6)/2,O.down=$(8)+1;break}var B=["up","mid","down"];for(var F in B){var V=B[F];for(var I=0;I<=O[V];I++)if(z[V])H=H+Z[V][$(Z[V].length)]}}return H}return Q(J,X)}});var UG0=q((rz8,QG0)=>{QG0.exports=function(Y){return function(J,X,Z){if(J===" ")return J;switch(X%3){case 0:return Y.red(J);case 1:return Y.white(J);case 2:return Y.blue(J)}}}});var HG0=q((az8,zG0)=>{zG0.exports=function(Y){return function(J,X,Z){return X%2===0?J:Y.inverse(J)}}});var KG0=q((sz8,OG0)=>{OG0.exports=function(Y){var J=["red","yellow","green","blue","magenta"];return function(X,Z,W){if(X===" ")return X;else return Y[J[Z++%J.length]](X)}}});var qG0=q((tz8,BG0)=>{BG0.exports=function(Y){var J=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(X,Z,W){return X===" "?X:Y[J[Math.round(Math.random()*(J.length-2))]](X)}}});var wG0=q((YH8,DG0)=>{var d0={};DG0.exports=d0;d0.themes={};var J$6=C("util"),LU=d0.styles=t$0(),FG0=Object.defineProperties,X$6=new RegExp(/[\r\n]+/g);d0.supportsColor=XG0().supportsColor;if(typeof d0.enabled>"u")d0.enabled=d0.supportsColor()!==!1;d0.enable=function(){d0.enabled=!0};d0.disable=function(){d0.enabled=!1};d0.stripColors=d0.strip=function(Y){return(""+Y).replace(/\x1B\[\d+m/g,"")};var ez8=d0.stylize=function(J,X){if(!d0.enabled)return J+"";var Z=LU[X];if(!Z&&X in d0)return d0[X](J);return Z.open+J+Z.close},Z$6=/[|\\{}()[\]^$+*?.]/g,W$6=function(Y){if(typeof Y!=="string")throw TypeError("Expected a string");return Y.replace(Z$6,"\\$&")};function VG0(Y){var J=function X(){return G$6.apply(X,arguments)};return J._styles=Y,J.__proto__=$$6,J}var IG0=function(){var Y={};return LU.grey=LU.gray,Object.keys(LU).forEach(function(J){LU[J].closeRe=new RegExp(W$6(LU[J].close),"g"),Y[J]={get:function(){return VG0(this._styles.concat(J))}}}),Y}(),$$6=FG0(function(){},IG0);function G$6(){var Y=Array.prototype.slice.call(arguments),J=Y.map(function(G){if(G!=null&&G.constructor===String)return G;else return J$6.inspect(G)}).join(" ");if(!d0.enabled||!J)return J;var X=J.indexOf(`
`)!=-1,Z=this._styles,W=Z.length;while(W--){var $=LU[Z[W]];if(J=$.open+J.replace($.closeRe,$.open)+$.close,X)J=J.replace(X$6,function(G){return $.close+G+$.open})}return J}d0.setTheme=function(Y){if(typeof Y==="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var J in Y)(function(X){d0[X]=function(Z){if(typeof Y[X]==="object"){var W=Z;for(var $ in Y[X])W=d0[Y[X][$]](W);return W}return d0[Y[X]](Z)}})(J)};function Q$6(){var Y={};return Object.keys(IG0).forEach(function(J){Y[J]={get:function(){return VG0([J])}}}),Y}var U$6=function(J,X){var Z=X.split("");return Z=Z.map(J),Z.join("")};d0.trap=WG0();d0.zalgo=GG0();d0.maps={};d0.maps.america=UG0()(d0);d0.maps.zebra=HG0()(d0);d0.maps.rainbow=KG0()(d0);d0.maps.random=qG0()(d0);for(v11 in d0.maps)(function(Y){d0[Y]=function(J){return U$6(d0.maps[Y],J)}})(v11);var v11;FG0(d0,Q$6())});var h11=q((JH8,AG0)=>{var z$6=wG0();AG0.exports=z$6});var hC=q((XH8,vC)=>{var g11=h11(),{LEVEL:b11,MESSAGE:y11}=u6();g11.enabled=!0;var PG0=/\s+/;class IJ{constructor(Y={}){if(Y.colors)this.addColors(Y.colors);this.options=Y}static addColors(Y){let J=Object.keys(Y).reduce((X,Z)=>{return X[Z]=PG0.test(Y[Z])?Y[Z].split(PG0):Y[Z],X},{});return IJ.allColors=Object.assign({},IJ.allColors||{},J),IJ.allColors}addColors(Y){return IJ.addColors(Y)}colorize(Y,J,X){if(typeof X>"u")X=J;if(!Array.isArray(IJ.allColors[Y]))return g11[IJ.allColors[Y]](X);for(let Z=0,W=IJ.allColors[Y].length;Z<W;Z++)X=g11[IJ.allColors[Y][Z]](X);return X}transform(Y,J){if(J.all&&typeof Y[y11]==="string")Y[y11]=this.colorize(Y[b11],Y.level,Y[y11]);if(J.level||J.all||!J.message)Y.level=this.colorize(Y[b11],Y.level);if(J.all||J.message)Y.message=this.colorize(Y[b11],Y.level,Y.message);return Y}}vC.exports=(Y)=>new IJ(Y);vC.exports.Colorizer=vC.exports.Format=IJ});var MG0=q((ZH8,LG0)=>{var{Colorizer:H$6}=hC();LG0.exports=(Y)=>{return H$6.addColors(Y.colors||Y),Y}});var TG0=q((WH8,EG0)=>{var O$6=p9();EG0.exports=O$6((Y)=>{return Y.message=`	${Y.message}`,Y})});var SG0=q(($H8,NG0)=>{var K$6=p9(),{LEVEL:RG0,MESSAGE:u11}=u6();NG0.exports=K$6((Y,{stack:J,cause:X})=>{if(Y instanceof Error){let W=Object.assign({},Y,{level:Y.level,[RG0]:Y[RG0]||Y.level,message:Y.message,[u11]:Y[u11]||Y.message});if(J)W.stack=Y.stack;if(X)W.cause=Y.cause;return W}if(!(Y.message instanceof Error))return Y;let Z=Y.message;if(Object.assign(Y,Z),Y.message=Z.message,Y[u11]=Z.message,J)Y.stack=Z.stack;if(X)Y.cause=Z.cause;return Y})});var d11=q((GH8,bC)=>{var{configs:B$6,LEVEL:CG0,MESSAGE:m11}=u6();class mK{constructor(Y={levels:B$6.npm.levels}){this.paddings=mK.paddingForLevels(Y.levels,Y.filler),this.options=Y}static getLongestLevel(Y){let J=Object.keys(Y).map((X)=>X.length);return Math.max(...J)}static paddingForLevel(Y,J,X){let Z=X+1-Y.length,W=Math.floor(Z/J.length);return`${J}${J.repeat(W)}`.slice(0,Z)}static paddingForLevels(Y,J=" "){let X=mK.getLongestLevel(Y);return Object.keys(Y).reduce((Z,W)=>{return Z[W]=mK.paddingForLevel(W,J,X),Z},{})}transform(Y,J){if(Y.message=`${this.paddings[Y[CG0]]}${Y.message}`,Y[m11])Y[m11]=`${this.paddings[Y[CG0]]}${Y[m11]}`;return Y}}bC.exports=(Y)=>new mK(Y);bC.exports.Padder=bC.exports.Format=mK});var jG0=q((QH8,l11)=>{var{Colorizer:q$6}=hC(),{Padder:F$6}=d11(),{configs:V$6,MESSAGE:I$6}=u6();class c11{constructor(Y={}){if(!Y.levels)Y.levels=V$6.cli.levels;this.colorizer=new q$6(Y),this.padder=new F$6(Y),this.options=Y}transform(Y,J){return this.colorizer.transform(this.padder.transform(Y,J),J),Y[I$6]=`${Y.level}:${Y.message}`,Y}}l11.exports=(Y)=>new c11(Y);l11.exports.Format=c11});var _G0=q((UH8,p11)=>{var D$6=p9();function kG0(Y){if(!Y.every(w$6))return;return(J)=>{let X=J;for(let Z=0;Z<Y.length;Z++)if(X=Y[Z].transform(X,Y[Z].options),!X)return!1;return X}}function w$6(Y){if(typeof Y.transform!=="function")throw Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}p11.exports=(...Y)=>{let J=D$6(kG0(Y)),X=J();return X.Format=J.Format,X};p11.exports.cascade=kG0});var n11=q((zH8,xG0)=>{var A$6=p9(),{MESSAGE:P$6}=u6(),L$6=yK();function M$6(Y,J){if(typeof J==="bigint")return J.toString();return J}xG0.exports=A$6((Y,J)=>{let X=L$6.configure(J);return Y[P$6]=X(Y,J.replacer||M$6,J.space),Y})});var vG0=q((HH8,fG0)=>{var E$6=p9();fG0.exports=E$6((Y,J)=>{if(J.message)return Y.message=`[${J.label}] ${Y.message}`,Y;return Y.label=J.label,Y})});var bG0=q((OH8,hG0)=>{var T$6=p9(),{MESSAGE:R$6}=u6(),N$6=yK();hG0.exports=T$6((Y)=>{let J={};if(Y.message)J["@message"]=Y.message,delete Y.message;if(Y.timestamp)J["@timestamp"]=Y.timestamp,delete Y.timestamp;return J["@fields"]=Y,Y[R$6]=N$6(J),Y})});var gG0=q((KH8,yG0)=>{var S$6=p9();function C$6(Y,J,X){let Z=J.reduce(($,G)=>{return $[G]=Y[G],delete Y[G],$},{}),W=Object.keys(Y).reduce(($,G)=>{return $[G]=Y[G],delete Y[G],$},{});return Object.assign(Y,Z,{[X]:W}),Y}function j$6(Y,J,X){return Y[X]=J.reduce((Z,W)=>{return Z[W]=Y[W],delete Y[W],Z},{}),Y}yG0.exports=S$6((Y,J={})=>{let X="metadata";if(J.key)X=J.key;let Z=[];if(!J.fillExcept&&!J.fillWith)Z.push("level"),Z.push("message");if(J.fillExcept)Z=J.fillExcept;if(Z.length>0)return C$6(Y,Z,X);if(J.fillWith)return j$6(Y,J.fillWith,X);return Y})});var mG0=q((Fw,uG0)=>{var k$6=p9(),_$6=gE();uG0.exports=k$6((Y)=>{let J=+new Date;return Fw.diff=J-(Fw.prevTime||J),Fw.prevTime=J,Y.ms=`+${_$6(Fw.diff)}`,Y})});var lG0=q((BH8,cG0)=>{var x$6=C("util").inspect,f$6=p9(),{LEVEL:v$6,MESSAGE:dG0,SPLAT:h$6}=u6();cG0.exports=f$6((Y,J={})=>{let X=Object.assign({},Y);return delete X[v$6],delete X[dG0],delete X[h$6],Y[dG0]=x$6(X,!1,J.depth||null,J.colorize),Y})});var pG0=q((qH8,yC)=>{var{MESSAGE:b$6}=u6();class i11{constructor(Y){this.template=Y}transform(Y){return Y[b$6]=this.template(Y),Y}}yC.exports=(Y)=>new i11(Y);yC.exports.Printf=yC.exports.Format=i11});var oG0=q((FH8,iG0)=>{var y$6=p9(),{MESSAGE:nG0}=u6(),g$6=yK();iG0.exports=y$6((Y)=>{let J=g$6(Object.assign({},Y,{level:void 0,message:void 0,splat:void 0})),X=Y.padding&&Y.padding[Y.level]||"";if(J!=="{}")Y[nG0]=`${Y.level}:${X} ${Y.message} ${J}`;else Y[nG0]=`${Y.level}:${X} ${Y.message}`;return Y})});var tG0=q((VH8,sG0)=>{var u$6=C("util"),{SPLAT:rG0}=u6(),m$6=/%[scdjifoO%]/g,d$6=/%%/g;class aG0{constructor(Y){this.options=Y}_splat(Y,J){let X=Y.message,Z=Y[rG0]||Y.splat||[],W=X.match(d$6),$=W&&W.length||0,Q=J.length-$-Z.length,U=Q<0?Z.splice(Q,-1*Q):[],z=U.length;if(z)for(let H=0;H<z;H++)Object.assign(Y,U[H]);return Y.message=u$6.format(X,...Z),Y}transform(Y){let J=Y.message,X=Y[rG0]||Y.splat;if(!X||!X.length)return Y;let Z=J&&J.match&&J.match(m$6);if(!Z&&(X||X.length)){let W=X.length>1?X.splice(0):X,$=W.length;if($)for(let G=0;G<$;G++)Object.assign(Y,W[G]);return Y}if(Z)return this._splat(Y,Z);return Y}}sG0.exports=(Y)=>new aG0(Y)});var YQ0=q((gC,eG0)=>{(function(Y,J){typeof gC==="object"&&typeof eG0<"u"?J(gC):typeof define==="function"&&define.amd?define(["exports"],J):J(Y.fecha={})})(gC,function(Y){var J=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,X="\\d\\d?",Z="\\d\\d",W="\\d{3}",$="\\d{4}",G="[^\\s]+",Q=/\[([^]*?)\]/gm;function U(d,a){var H1=[];for(var F1=0,z1=d.length;F1<z1;F1++)H1.push(d[F1].substr(0,a));return H1}var z=function(d){return function(a,H1){var F1=H1[d].map(function(y1){return y1.toLowerCase()}),z1=F1.indexOf(a.toLowerCase());if(z1>-1)return z1;return null}};function H(d){var a=[];for(var H1=1;H1<arguments.length;H1++)a[H1-1]=arguments[H1];for(var F1=0,z1=a;F1<z1.length;F1++){var y1=z1[F1];for(var J1 in y1)d[J1]=y1[J1]}return d}var O=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],K=["January","February","March","April","May","June","July","August","September","October","November","December"],B=U(K,3),F=U(O,3),V={dayNamesShort:F,dayNames:O,monthNamesShort:B,monthNames:K,amPm:["am","pm"],DoFn:function(d){return d+["th","st","nd","rd"][d%10>3?0:(d-d%10!==10?1:0)*d%10]}},I=H({},V),D=function(d){return I=H(I,d)},L=function(d){return d.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},A=function(d,a){if(a===void 0)a=2;d=String(d);while(d.length<a)d="0"+d;return d},P={D:function(d){return String(d.getDate())},DD:function(d){return A(d.getDate())},Do:function(d,a){return a.DoFn(d.getDate())},d:function(d){return String(d.getDay())},dd:function(d){return A(d.getDay())},ddd:function(d,a){return a.dayNamesShort[d.getDay()]},dddd:function(d,a){return a.dayNames[d.getDay()]},M:function(d){return String(d.getMonth()+1)},MM:function(d){return A(d.getMonth()+1)},MMM:function(d,a){return a.monthNamesShort[d.getMonth()]},MMMM:function(d,a){return a.monthNames[d.getMonth()]},YY:function(d){return A(String(d.getFullYear()),4).substr(2)},YYYY:function(d){return A(d.getFullYear(),4)},h:function(d){return String(d.getHours()%12||12)},hh:function(d){return A(d.getHours()%12||12)},H:function(d){return String(d.getHours())},HH:function(d){return A(d.getHours())},m:function(d){return String(d.getMinutes())},mm:function(d){return A(d.getMinutes())},s:function(d){return String(d.getSeconds())},ss:function(d){return A(d.getSeconds())},S:function(d){return String(Math.round(d.getMilliseconds()/100))},SS:function(d){return A(Math.round(d.getMilliseconds()/10),2)},SSS:function(d){return A(d.getMilliseconds(),3)},a:function(d,a){return d.getHours()<12?a.amPm[0]:a.amPm[1]},A:function(d,a){return d.getHours()<12?a.amPm[0].toUpperCase():a.amPm[1].toUpperCase()},ZZ:function(d){var a=d.getTimezoneOffset();return(a>0?"-":"+")+A(Math.floor(Math.abs(a)/60)*100+Math.abs(a)%60,4)},Z:function(d){var a=d.getTimezoneOffset();return(a>0?"-":"+")+A(Math.floor(Math.abs(a)/60),2)+":"+A(Math.abs(a)%60,2)}},R=function(d){return+d-1},N=[null,X],v=[null,G],j=["isPm",G,function(d,a){var H1=d.toLowerCase();if(H1===a.amPm[0])return 0;else if(H1===a.amPm[1])return 1;return null}],M=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(d){var a=(d+"").match(/([+-]|\d\d)/gi);if(a){var H1=+a[1]*60+parseInt(a[2],10);return a[0]==="+"?H1:-H1}return 0}],b={D:["day",X],DD:["day",Z],Do:["day",X+G,function(d){return parseInt(d,10)}],M:["month",X,R],MM:["month",Z,R],YY:["year",Z,function(d){var a=new Date,H1=+(""+a.getFullYear()).substr(0,2);return+(""+(+d>68?H1-1:H1)+d)}],h:["hour",X,void 0,"isPm"],hh:["hour",Z,void 0,"isPm"],H:["hour",X],HH:["hour",Z],m:["minute",X],mm:["minute",Z],s:["second",X],ss:["second",Z],YYYY:["year",$],S:["millisecond","\\d",function(d){return+d*100}],SS:["millisecond",Z,function(d){return+d*10}],SSS:["millisecond",W],d:N,dd:N,ddd:v,dddd:v,MMM:["month",G,z("monthNamesShort")],MMMM:["month",G,z("monthNames")],a:j,A:j,ZZ:M,Z:M},k={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},r=function(d){return H(k,d)},p=function(d,a,H1){if(a===void 0)a=k.default;if(H1===void 0)H1={};if(typeof d==="number")d=new Date(d);if(Object.prototype.toString.call(d)!=="[object Date]"||isNaN(d.getTime()))throw Error("Invalid Date pass to format");a=k[a]||a;var F1=[];a=a.replace(Q,function(y1,J1){return F1.push(J1),"@@@"});var z1=H(H({},I),H1);return a=a.replace(J,function(y1){return P[y1](d,z1)}),a.replace(/@@@/g,function(){return F1.shift()})};function S(d,a,H1){if(H1===void 0)H1={};if(typeof a!=="string")throw Error("Invalid format in fecha parse");if(a=k[a]||a,d.length>1000)return null;var F1=new Date,z1={year:F1.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},y1=[],J1=[],l=a.replace(Q,function(u,i){return J1.push(L(i)),"@@@"}),K1={},Q1={};l=L(l).replace(J,function(u){var i=b[u],e=i[0],X1=i[1],O1=i[3];if(K1[e])throw Error("Invalid format. "+e+" specified twice in format");if(K1[e]=!0,O1)Q1[O1]=!0;return y1.push(i),"("+X1+")"}),Object.keys(Q1).forEach(function(u){if(!K1[u])throw Error("Invalid format. "+u+" is required in specified format")}),l=l.replace(/@@@/g,function(){return J1.shift()});var p1=d.match(new RegExp(l,"i"));if(!p1)return null;var W0=H(H({},I),H1);for(var Q0=1;Q0<p1.length;Q0++){var x=y1[Q0-1],g=x[0],m=x[2],h=m?m(p1[Q0],W0):+p1[Q0];if(h==null)return null;z1[g]=h}if(z1.isPm===1&&z1.hour!=null&&+z1.hour!==12)z1.hour=+z1.hour+12;else if(z1.isPm===0&&+z1.hour===12)z1.hour=0;var f;if(z1.timezoneOffset==null){f=new Date(z1.year,z1.month,z1.day,z1.hour,z1.minute,z1.second,z1.millisecond);var y=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]];for(var Q0=0,o=y.length;Q0<o;Q0++)if(K1[y[Q0][0]]&&z1[y[Q0][0]]!==f[y[Q0][1]]())return null}else if(f=new Date(Date.UTC(z1.year,z1.month,z1.day,z1.hour,z1.minute-z1.timezoneOffset,z1.second,z1.millisecond)),z1.month>11||z1.month<0||z1.day>31||z1.day<1||z1.hour>23||z1.hour<0||z1.minute>59||z1.minute<0||z1.second>59||z1.second<0)return null;return f}var c={format:p,parse:S,defaultI18n:V,setGlobalDateI18n:D,setGlobalDateMasks:r};Y.assign=H,Y.default=c,Y.format=p,Y.parse=S,Y.defaultI18n=V,Y.setGlobalDateI18n=D,Y.setGlobalDateMasks=r,Object.defineProperty(Y,"__esModule",{value:!0})})});var XQ0=q((IH8,JQ0)=>{var c$6=YQ0(),l$6=p9();JQ0.exports=l$6((Y,J={})=>{if(J.format)Y.timestamp=typeof J.format==="function"?J.format():c$6.format(new Date,J.format);if(!Y.timestamp)Y.timestamp=new Date().toISOString();if(J.alias)Y[J.alias]=Y.timestamp;return Y})});var WQ0=q((DH8,ZQ0)=>{var o11=h11(),p$6=p9(),{MESSAGE:r11}=u6();ZQ0.exports=p$6((Y,J)=>{if(J.level!==!1)Y.level=o11.strip(Y.level);if(J.message!==!1)Y.message=o11.strip(String(Y.message));if(J.raw!==!1&&Y[r11])Y[r11]=o11.strip(String(Y[r11]));return Y})});var a11=q((i$6)=>{var n$6=i$6.format=p9();i$6.levels=MG0();function L5(Y,J){Object.defineProperty(n$6,Y,{get(){return J()},configurable:!0})}L5("align",function(){return TG0()});L5("errors",function(){return SG0()});L5("cli",function(){return jG0()});L5("combine",function(){return _G0()});L5("colorize",function(){return hC()});L5("json",function(){return n11()});L5("label",function(){return vG0()});L5("logstash",function(){return bG0()});L5("metadata",function(){return gG0()});L5("ms",function(){return mG0()});L5("padLevels",function(){return d11()});L5("prettyPrint",function(){return lG0()});L5("printf",function(){return pG0()});L5("simple",function(){return oG0()});L5("splat",function(){return tG0()});L5("timestamp",function(){return XQ0()});L5("uncolorize",function(){return WQ0()})});var t11=q((r$6)=>{var{format:$Q0}=C("util");r$6.warn={deprecated(Y){return()=>{throw Error($Q0("{ %s } was removed in winston@3.0.0.",Y))}},useFormat(Y){return()=>{throw Error([$Q0("{ %s } was removed in winston@3.0.0.",Y),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions(Y,J,X){X.forEach((Z)=>{Y[Z]=r$6.warn[J](Z)})},forProperties(Y,J,X){X.forEach((Z)=>{let W=r$6.warn[J](Z);Object.defineProperty(Y,Z,{get:W,set:W})})}}});var GQ0=q((LH8,a$6)=>{a$6.exports={name:"winston",description:"A logger for just about everything.",version:"3.19.0",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["David Hyde <dabh@alumni.stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{"@dabh/diagnostics":"^2.0.8","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.7.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.9.0"},devDependencies:{"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^4.4.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.57.0",hock:"^1.4.1",jest:"^29.7.0",rimraf:"5.0.10",split2:"^4.1.0","std-mocks":"^2.0.0",through2:"^4.0.2","winston-compat":"^0.1.5"},main:"./lib/winston.js",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"jest","test:unit":"jest -c test/jest.config.unit.js","test:integration":"jest -c test/jest.config.integration.js","test:typescript":"npx --package typescript tsc --project test",build:"babel lib -d dist",prebuild:"rimraf dist",prepublishOnly:"npm run build"},engines:{node:">= 12.0.0"},license:"MIT"}});var zQ0=q((MH8,UQ0)=>{var s$6=C("os"),{LEVEL:QQ0,MESSAGE:dK}=u6(),t$6=DQ();UQ0.exports=class extends t$6{constructor(J={}){super(J);this.name=J.name||"console",this.stderrLevels=this._stringArrayToSet(J.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(J.consoleWarnLevels),this.eol=typeof J.eol==="string"?J.eol:s$6.EOL,this.forceConsole=J.forceConsole||!1,this._consoleLog=console.log.bind(console),this._consoleWarn=console.warn.bind(console),this._consoleError=console.error.bind(console),this.setMaxListeners(30)}log(J,X){if(setImmediate(()=>this.emit("logged",J)),this.stderrLevels[J[QQ0]]){if(console._stderr&&!this.forceConsole)console._stderr.write(`${J[dK]}${this.eol}`);else this._consoleError(J[dK]);if(X)X();return}else if(this.consoleWarnLevels[J[QQ0]]){if(console._stderr&&!this.forceConsole)console._stderr.write(`${J[dK]}${this.eol}`);else this._consoleWarn(J[dK]);if(X)X();return}if(console._stdout&&!this.forceConsole)console._stdout.write(`${J[dK]}${this.eol}`);else this._consoleLog(J[dK]);if(X)X()}_stringArrayToSet(J,X){if(!J)return{};if(X=X||"Cannot make set from type other than Array of string elements",!Array.isArray(J))throw Error(X);return J.reduce((Z,W)=>{if(typeof W!=="string")throw Error(X);return Z[W]=!0,Z},{})}}});var uC=q((e11,HQ0)=>{Object.defineProperty(e11,"__esModule",{value:!0});e11.default=e$6;function e$6(Y){return Y&&typeof Y.length==="number"&&Y.length>=0&&Y.length%1===0}HQ0.exports=e11.default});var KQ0=q((Y01,OQ0)=>{Object.defineProperty(Y01,"__esModule",{value:!0});Y01.default=function(Y){return function(...J){var X=J.pop();return Y.call(this,J,X)}};OQ0.exports=Y01.default});var VQ0=q((FQ0)=>{Object.defineProperty(FQ0,"__esModule",{value:!0});FQ0.fallback=BQ0;FQ0.wrap=qQ0;var XG6=FQ0.hasQueueMicrotask=typeof queueMicrotask==="function"&&queueMicrotask,ZG6=FQ0.hasSetImmediate=typeof setImmediate==="function"&&setImmediate,WG6=FQ0.hasNextTick=typeof process==="object"&&typeof process.nextTick==="function";function BQ0(Y){setTimeout(Y,0)}function qQ0(Y){return(J,...X)=>Y(()=>J(...X))}var Vw;if(XG6)Vw=queueMicrotask;else if(ZG6)Vw=setImmediate;else if(WG6)Vw=process.nextTick;else Vw=BQ0;FQ0.default=qQ0(Vw)});var PQ0=q((J01,AQ0)=>{Object.defineProperty(J01,"__esModule",{value:!0});J01.default=BG6;var UG6=KQ0(),zG6=wQ0(UG6),HG6=VQ0(),OG6=wQ0(HG6),KG6=MU();function wQ0(Y){return Y&&Y.__esModule?Y:{default:Y}}function BG6(Y){if((0,KG6.isAsync)(Y))return function(...J){let X=J.pop(),Z=Y.apply(this,J);return IQ0(Z,X)};return(0,zG6.default)(function(J,X){var Z;try{Z=Y.apply(this,J)}catch(W){return X(W)}if(Z&&typeof Z.then==="function")return IQ0(Z,X);else X(null,Z)})}function IQ0(Y,J){return Y.then((X)=>{DQ0(J,null,X)},(X)=>{DQ0(J,X&&(X instanceof Error||X.message)?X:Error(X))})}function DQ0(Y,J,X){try{Y(J,X)}catch(Z){(0,OG6.default)((W)=>{throw W},Z)}}AQ0.exports=J01.default});var MU=q((MQ0)=>{Object.defineProperty(MQ0,"__esModule",{value:!0});MQ0.isAsyncIterable=MQ0.isAsyncGenerator=MQ0.isAsync=void 0;var FG6=PQ0(),VG6=IG6(FG6);function IG6(Y){return Y&&Y.__esModule?Y:{default:Y}}function LQ0(Y){return Y[Symbol.toStringTag]==="AsyncFunction"}function DG6(Y){return Y[Symbol.toStringTag]==="AsyncGenerator"}function wG6(Y){return typeof Y[Symbol.asyncIterator]==="function"}function AG6(Y){if(typeof Y!=="function")throw Error("expected a function");return LQ0(Y)?(0,VG6.default)(Y):Y}MQ0.default=AG6;MQ0.isAsync=LQ0;MQ0.isAsyncGenerator=DG6;MQ0.isAsyncIterable=wG6});var cK=q((X01,TQ0)=>{Object.defineProperty(X01,"__esModule",{value:!0});X01.default=EG6;function EG6(Y,J){if(!J)J=Y.length;if(!J)throw Error("arity is undefined");function X(...Z){if(typeof Z[J-1]==="function")return Y.apply(this,Z);return new Promise((W,$)=>{Z[J-1]=(G,...Q)=>{if(G)return $(G);W(Q.length>1?Q:Q[0])},Y.apply(this,Z)})}return X}TQ0.exports=X01.default});var NQ0=q((W01,RQ0)=>{Object.defineProperty(W01,"__esModule",{value:!0});var RG6=uC(),NG6=Z01(RG6),SG6=MU(),CG6=Z01(SG6),jG6=cK(),kG6=Z01(jG6);function Z01(Y){return Y&&Y.__esModule?Y:{default:Y}}W01.default=(0,kG6.default)((Y,J,X)=>{var Z=(0,NG6.default)(J)?[]:{};Y(J,(W,$,G)=>{(0,CG6.default)(W)((Q,...U)=>{if(U.length<2)[U]=U;Z[$]=U,G(Q)})},(W)=>X(W,Z))},3);RQ0.exports=W01.default});var G01=q(($01,SQ0)=>{Object.defineProperty($01,"__esModule",{value:!0});$01.default=xG6;function xG6(Y){function J(...X){if(Y===null)return;var Z=Y;Y=null,Z.apply(this,X)}return Object.assign(J,Y),J}SQ0.exports=$01.default});var jQ0=q((Q01,CQ0)=>{Object.defineProperty(Q01,"__esModule",{value:!0});Q01.default=function(Y){return Y[Symbol.iterator]&&Y[Symbol.iterator]()};CQ0.exports=Q01.default});var xQ0=q((U01,_Q0)=>{Object.defineProperty(U01,"__esModule",{value:!0});U01.default=cG6;var hG6=uC(),bG6=kQ0(hG6),yG6=jQ0(),gG6=kQ0(yG6);function kQ0(Y){return Y&&Y.__esModule?Y:{default:Y}}function uG6(Y){var J=-1,X=Y.length;return function(){return++J<X?{value:Y[J],key:J}:null}}function mG6(Y){var J=-1;return function(){var Z=Y.next();if(Z.done)return null;return J++,{value:Z.value,key:J}}}function dG6(Y){var J=Y?Object.keys(Y):[],X=-1,Z=J.length;return function W(){var $=J[++X];if($==="__proto__")return W();return X<Z?{value:Y[$],key:$}:null}}function cG6(Y){if((0,bG6.default)(Y))return uG6(Y);var J=(0,gG6.default)(Y);return J?mG6(J):dG6(Y)}_Q0.exports=U01.default});var H01=q((z01,fQ0)=>{Object.defineProperty(z01,"__esModule",{value:!0});z01.default=pG6;function pG6(Y){return function(...J){if(Y===null)throw Error("Callback was already called.");var X=Y;Y=null,X.apply(this,J)}}fQ0.exports=z01.default});var mC=q((O01,vQ0)=>{Object.defineProperty(O01,"__esModule",{value:!0});var iG6={};O01.default=iG6;vQ0.exports=O01.default});var bQ0=q((K01,hQ0)=>{Object.defineProperty(K01,"__esModule",{value:!0});K01.default=tG6;var rG6=mC(),aG6=sG6(rG6);function sG6(Y){return Y&&Y.__esModule?Y:{default:Y}}function tG6(Y,J,X,Z){let W=!1,$=!1,G=!1,Q=0,U=0;function z(){if(Q>=J||G||W)return;G=!0,Y.next().then(({value:K,done:B})=>{if($||W)return;if(G=!1,B){if(W=!0,Q<=0)Z(null);return}Q++,X(K,U,H),U++,z()}).catch(O)}function H(K,B){if(Q-=1,$)return;if(K)return O(K);if(K===!1){W=!0,$=!0;return}if(B===aG6.default||W&&Q<=0)return W=!0,Z(null);z()}function O(K){if($)return;G=!1,W=!0,Z(K)}z()}hQ0.exports=K01.default});var mQ0=q((B01,uQ0)=>{Object.defineProperty(B01,"__esModule",{value:!0});var YQ6=G01(),JQ6=Iw(YQ6),XQ6=xQ0(),ZQ6=Iw(XQ6),WQ6=H01(),$Q6=Iw(WQ6),yQ0=MU(),GQ6=bQ0(),gQ0=Iw(GQ6),QQ6=mC(),UQ6=Iw(QQ6);function Iw(Y){return Y&&Y.__esModule?Y:{default:Y}}B01.default=(Y)=>{return(J,X,Z)=>{if(Z=(0,JQ6.default)(Z),Y<=0)throw RangeError("concurrency limit cannot be less than 1");if(!J)return Z(null);if((0,yQ0.isAsyncGenerator)(J))return(0,gQ0.default)(J,Y,X,Z);if((0,yQ0.isAsyncIterable)(J))return(0,gQ0.default)(J[Symbol.asyncIterator](),Y,X,Z);var W=(0,ZQ6.default)(J),$=!1,G=!1,Q=0,U=!1;function z(O,K){if(G)return;if(Q-=1,O)$=!0,Z(O);else if(O===!1)$=!0,G=!0;else if(K===UQ6.default||$&&Q<=0)return $=!0,Z(null);else if(!U)H()}function H(){U=!0;while(Q<Y&&!$){var O=W();if(O===null){if($=!0,Q<=0)Z(null);return}Q+=1,X(O.value,O.key,(0,$Q6.default)(z))}U=!1}H()}};uQ0.exports=B01.default});var V01=q((F01,dQ0)=>{Object.defineProperty(F01,"__esModule",{value:!0});var HQ6=mQ0(),OQ6=q01(HQ6),KQ6=MU(),BQ6=q01(KQ6),qQ6=cK(),FQ6=q01(qQ6);function q01(Y){return Y&&Y.__esModule?Y:{default:Y}}function VQ6(Y,J,X,Z){return(0,OQ6.default)(J)(Y,(0,BQ6.default)(X),Z)}F01.default=(0,FQ6.default)(VQ6,4);dQ0.exports=F01.default});var pQ0=q((I01,lQ0)=>{Object.defineProperty(I01,"__esModule",{value:!0});var DQ6=V01(),wQ6=cQ0(DQ6),AQ6=cK(),PQ6=cQ0(AQ6);function cQ0(Y){return Y&&Y.__esModule?Y:{default:Y}}function LQ6(Y,J,X){return(0,wQ6.default)(Y,1,J,X)}I01.default=(0,PQ6.default)(LQ6,3);lQ0.exports=I01.default});var oQ0=q((D01,iQ0)=>{Object.defineProperty(D01,"__esModule",{value:!0});D01.default=SQ6;var EQ6=NQ0(),TQ6=nQ0(EQ6),RQ6=pQ0(),NQ6=nQ0(RQ6);function nQ0(Y){return Y&&Y.__esModule?Y:{default:Y}}function SQ6(Y,J){return(0,TQ6.default)(NQ6.default,Y,J)}iQ0.exports=D01.default});var w01=q((CH8,aQ0)=>{aQ0.exports=MZ;var dC=kW().codes,jQ6=dC.ERR_METHOD_NOT_IMPLEMENTED,kQ6=dC.ERR_MULTIPLE_CALLBACK,_Q6=dC.ERR_TRANSFORM_ALREADY_TRANSFORMING,xQ6=dC.ERR_TRANSFORM_WITH_LENGTH_0,cC=IQ();WO()(MZ,cC);function fQ6(Y,J){var X=this._transformState;X.transforming=!1;var Z=X.writecb;if(Z===null)return this.emit("error",new kQ6);if(X.writechunk=null,X.writecb=null,J!=null)this.push(J);Z(Y);var W=this._readableState;if(W.reading=!1,W.needReadable||W.length<W.highWaterMark)this._read(W.highWaterMark)}function MZ(Y){if(!(this instanceof MZ))return new MZ(Y);if(cC.call(this,Y),this._transformState={afterTransform:fQ6.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Y){if(typeof Y.transform==="function")this._transform=Y.transform;if(typeof Y.flush==="function")this._flush=Y.flush}this.on("prefinish",vQ6)}function vQ6(){var Y=this;if(typeof this._flush==="function"&&!this._readableState.destroyed)this._flush(function(J,X){rQ0(Y,J,X)});else rQ0(this,null,null)}MZ.prototype.push=function(Y,J){return this._transformState.needTransform=!1,cC.prototype.push.call(this,Y,J)};MZ.prototype._transform=function(Y,J,X){X(new jQ6("_transform()"))};MZ.prototype._write=function(Y,J,X){var Z=this._transformState;if(Z.writecb=X,Z.writechunk=Y,Z.writeencoding=J,!Z.transforming){var W=this._readableState;if(Z.needTransform||W.needReadable||W.length<W.highWaterMark)this._read(W.highWaterMark)}};MZ.prototype._read=function(Y){var J=this._transformState;if(J.writechunk!==null&&!J.transforming)J.transforming=!0,this._transform(J.writechunk,J.writeencoding,J.afterTransform);else J.needTransform=!0};MZ.prototype._destroy=function(Y,J){cC.prototype._destroy.call(this,Y,function(X){J(X)})};function rQ0(Y,J,X){if(J)return Y.emit("error",J);if(X!=null)Y.push(X);if(Y._writableState.length)throw new xQ6;if(Y._transformState.transforming)throw new _Q6;return Y.push(null)}});var eQ0=q((jH8,tQ0)=>{tQ0.exports=Dw;var sQ0=w01();WO()(Dw,sQ0);function Dw(Y){if(!(this instanceof Dw))return new Dw(Y);sQ0.call(this,Y)}Dw.prototype._transform=function(Y,J,X){X(null,Y)}});var WU0=q((kH8,ZU0)=>{var A01;function hQ6(Y){var J=!1;return function(){if(J)return;J=!0,Y.apply(void 0,arguments)}}var XU0=kW().codes,bQ6=XU0.ERR_MISSING_ARGS,yQ6=XU0.ERR_STREAM_DESTROYED;function YU0(Y){if(Y)throw Y}function gQ6(Y){return Y.setHeader&&typeof Y.abort==="function"}function uQ6(Y,J,X,Z){Z=hQ6(Z);var W=!1;if(Y.on("close",function(){W=!0}),A01===void 0)A01=QR();A01(Y,{readable:J,writable:X},function(G){if(G)return Z(G);W=!0,Z()});var $=!1;return function(G){if(W)return;if($)return;if($=!0,gQ6(Y))return Y.abort();if(typeof Y.destroy==="function")return Y.destroy();Z(G||new yQ6("pipe"))}}function JU0(Y){Y()}function mQ6(Y,J){return Y.pipe(J)}function dQ6(Y){if(!Y.length)return YU0;if(typeof Y[Y.length-1]!=="function")return YU0;return Y.pop()}function cQ6(){for(var Y=arguments.length,J=Array(Y),X=0;X<Y;X++)J[X]=arguments[X];var Z=dQ6(J);if(Array.isArray(J[0]))J=J[0];if(J.length<2)throw new bQ6("streams");var W,$=J.map(function(G,Q){var U=Q<J.length-1,z=Q>0;return uQ6(G,U,z,function(H){if(!W)W=H;if(H)$.forEach(JU0);if(U)return;$.forEach(JU0),Z(W)})});return J.reduce(mQ6)}ZU0.exports=cQ6});var EU=q((UY,Aw)=>{var ww=C("stream");if(process.env.READABLE_STREAM==="disable"&&ww)Aw.exports=ww.Readable,Object.assign(Aw.exports,ww),Aw.exports.Stream=ww;else UY=Aw.exports=lp(),UY.Stream=ww||UY,UY.Readable=UY,UY.Writable=qR(),UY.Duplex=IQ(),UY.Transform=w01(),UY.PassThrough=eQ0(),UY.finished=QR(),UY.pipeline=WU0()});var QU0=q((_H8,GU0)=>{var lK=[],Pw=[],P01=function(){};function M01(Y){if(~lK.indexOf(Y))return!1;return lK.push(Y),!0}function E01(Y){P01=Y}function lQ6(Y){var J=[];for(var X=0;X<lK.length;X++){if(lK[X].async){J.push(lK[X]);continue}if(lK[X](Y))return!0}if(!J.length)return!1;return new Promise(function(W){Promise.all(J.map(function(G){return G(Y)})).then(function(G){W(G.some(Boolean))})})}function T01(Y){if(~Pw.indexOf(Y))return!1;return Pw.push(Y),!0}function L01(){P01.apply(P01,arguments)}function $U0(Y){for(var J=0;J<Pw.length;J++)Y=Pw[J].apply(Pw[J],arguments);return Y}function R01(Y,J){var X=Object.prototype.hasOwnProperty;for(var Z in J)if(X.call(J,Z))Y[Z]=J[Z];return Y}function pQ6(Y){return Y.enabled=!1,Y.modify=T01,Y.set=E01,Y.use=M01,R01(function(){return!1},Y)}function nQ6(Y){function J(){var X=Array.prototype.slice.call(arguments,0);return L01.call(L01,Y,$U0(X,Y)),!0}return Y.enabled=!0,Y.modify=T01,Y.set=E01,Y.use=M01,R01(J,Y)}GU0.exports=function(J){return J.introduce=R01,J.enabled=lQ6,J.process=$U0,J.modify=T01,J.write=L01,J.nope=pQ6,J.yep=nQ6,J.set=E01,J.use=M01,J}});var BU0=q((xH8,KU0)=>{var tX={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},zU0=Object.create(null);for(let Y in tX)if(Object.hasOwn(tX,Y))zU0[tX[Y]]=Y;var k8={to:{},get:{}};k8.get=function(Y){let J=Y.slice(0,3).toLowerCase(),X,Z;switch(J){case"hsl":{X=k8.get.hsl(Y),Z="hsl";break}case"hwb":{X=k8.get.hwb(Y),Z="hwb";break}default:{X=k8.get.rgb(Y),Z="rgb";break}}if(!X)return null;return{model:Z,value:X}};k8.get.rgb=function(Y){if(!Y)return null;let J=/^#([a-f\d]{3,4})$/i,X=/^#([a-f\d]{6})([a-f\d]{2})?$/i,Z=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,W=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,$=/^(\w+)$/,G=[0,0,0,1],Q,U,z;if(Q=Y.match(X)){z=Q[2],Q=Q[1];for(U=0;U<3;U++){let H=U*2;G[U]=Number.parseInt(Q.slice(H,H+2),16)}if(z)G[3]=Number.parseInt(z,16)/255}else if(Q=Y.match(J)){Q=Q[1],z=Q[3];for(U=0;U<3;U++)G[U]=Number.parseInt(Q[U]+Q[U],16);if(z)G[3]=Number.parseInt(z+z,16)/255}else if(Q=Y.match(Z)){for(U=0;U<3;U++)G[U]=Number.parseInt(Q[U+1],10);if(Q[4])G[3]=Q[5]?Number.parseFloat(Q[4])*0.01:Number.parseFloat(Q[4])}else if(Q=Y.match(W)){for(U=0;U<3;U++)G[U]=Math.round(Number.parseFloat(Q[U+1])*2.55);if(Q[4])G[3]=Q[5]?Number.parseFloat(Q[4])*0.01:Number.parseFloat(Q[4])}else if(Q=Y.match($)){if(Q[1]==="transparent")return[0,0,0,0];if(!Object.hasOwn(tX,Q[1]))return null;return G=tX[Q[1]],G[3]=1,G}else return null;for(U=0;U<3;U++)G[U]=x$(G[U],0,255);return G[3]=x$(G[3],0,1),G};k8.get.hsl=function(Y){if(!Y)return null;let J=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,X=Y.match(J);if(X){let Z=Number.parseFloat(X[4]),W=(Number.parseFloat(X[1])%360+360)%360,$=x$(Number.parseFloat(X[2]),0,100),G=x$(Number.parseFloat(X[3]),0,100),Q=x$(Number.isNaN(Z)?1:Z,0,1);return[W,$,G,Q]}return null};k8.get.hwb=function(Y){if(!Y)return null;let J=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*[\s,]\s*([+-]?[\d.]+)%\s*[\s,]\s*([+-]?[\d.]+)%\s*(?:[\s,]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,X=Y.match(J);if(X){let Z=Number.parseFloat(X[4]),W=(Number.parseFloat(X[1])%360+360)%360,$=x$(Number.parseFloat(X[2]),0,100),G=x$(Number.parseFloat(X[3]),0,100),Q=x$(Number.isNaN(Z)?1:Z,0,1);return[W,$,G,Q]}return null};k8.to.hex=function(...Y){return"#"+lC(Y[0])+lC(Y[1])+lC(Y[2])+(Y[3]<1?lC(Math.round(Y[3]*255)):"")};k8.to.rgb=function(...Y){return Y.length<4||Y[3]===1?"rgb("+Math.round(Y[0])+", "+Math.round(Y[1])+", "+Math.round(Y[2])+")":"rgba("+Math.round(Y[0])+", "+Math.round(Y[1])+", "+Math.round(Y[2])+", "+Y[3]+")"};k8.to.rgb.percent=function(...Y){let J=Math.round(Y[0]/255*100),X=Math.round(Y[1]/255*100),Z=Math.round(Y[2]/255*100);return Y.length<4||Y[3]===1?"rgb("+J+"%, "+X+"%, "+Z+"%)":"rgba("+J+"%, "+X+"%, "+Z+"%, "+Y[3]+")"};k8.to.hsl=function(...Y){return Y.length<4||Y[3]===1?"hsl("+Y[0]+", "+Y[1]+"%, "+Y[2]+"%)":"hsla("+Y[0]+", "+Y[1]+"%, "+Y[2]+"%, "+Y[3]+")"};k8.to.hwb=function(...Y){let J="";if(Y.length>=4&&Y[3]!==1)J=", "+Y[3];return"hwb("+Y[0]+", "+Y[1]+"%, "+Y[2]+"%"+J+")"};k8.to.keyword=function(...Y){return zU0[Y.slice(0,3)]};function x$(Y,J,X){return Math.min(Math.max(J,Y),X)}function lC(Y){let J=Math.round(Y).toString(16).toUpperCase();return J.length<2?"0"+J:J}var HU0={};for(let Y of Object.keys(tX))HU0[tX[Y]]=Y;var _1={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},EZ=0.008856451679035631;function pK(Y){let J=Y>0.0031308?1.055*Y**0.4166666666666667-0.055:Y*12.92;return Math.min(Math.max(0,J),1)}function nK(Y){return Y>0.04045?((Y+0.055)/1.055)**2.4:Y/12.92}for(let Y of Object.keys(_1)){if(!("channels"in _1[Y]))throw Error("missing channels property: "+Y);if(!("labels"in _1[Y]))throw Error("missing channel labels property: "+Y);if(_1[Y].labels.length!==_1[Y].channels)throw Error("channel and label counts mismatch: "+Y);let{channels:J,labels:X}=_1[Y];delete _1[Y].channels,delete _1[Y].labels,Object.defineProperty(_1[Y],"channels",{value:J}),Object.defineProperty(_1[Y],"labels",{value:X})}_1.rgb.hsl=function(Y){let J=Y[0]/255,X=Y[1]/255,Z=Y[2]/255,W=Math.min(J,X,Z),$=Math.max(J,X,Z),G=$-W,Q,U;switch($){case W:{Q=0;break}case J:{Q=(X-Z)/G;break}case X:{Q=2+(Z-J)/G;break}case Z:{Q=4+(J-X)/G;break}}if(Q=Math.min(Q*60,360),Q<0)Q+=360;let z=(W+$)/2;if($===W)U=0;else if(z<=0.5)U=G/($+W);else U=G/(2-$-W);return[Q,U*100,z*100]};_1.rgb.hsv=function(Y){let J,X,Z,W,$,G=Y[0]/255,Q=Y[1]/255,U=Y[2]/255,z=Math.max(G,Q,U),H=z-Math.min(G,Q,U),O=function(K){return(z-K)/6/H+0.5};if(H===0)W=0,$=0;else{switch($=H/z,J=O(G),X=O(Q),Z=O(U),z){case G:{W=Z-X;break}case Q:{W=0.3333333333333333+J-Z;break}case U:{W=0.6666666666666666+X-J;break}}if(W<0)W+=1;else if(W>1)W-=1}return[W*360,$*100,z*100]};_1.rgb.hwb=function(Y){let J=Y[0],X=Y[1],Z=Y[2],W=_1.rgb.hsl(Y)[0],$=0.00392156862745098*Math.min(J,Math.min(X,Z));return Z=1-0.00392156862745098*Math.max(J,Math.max(X,Z)),[W,$*100,Z*100]};_1.rgb.oklab=function(Y){let J=nK(Y[0]/255),X=nK(Y[1]/255),Z=nK(Y[2]/255),W=Math.cbrt(0.4122214708*J+0.5363325363*X+0.0514459929*Z),$=Math.cbrt(0.2119034982*J+0.6806995451*X+0.1073969566*Z),G=Math.cbrt(0.0883024619*J+0.2817188376*X+0.6299787005*Z),Q=0.2104542553*W+0.793617785*$-0.0040720468*G,U=1.9779984951*W-2.428592205*$+0.4505937099*G,z=0.0259040371*W+0.7827717662*$-0.808675766*G;return[Q*100,U*100,z*100]};_1.rgb.cmyk=function(Y){let J=Y[0]/255,X=Y[1]/255,Z=Y[2]/255,W=Math.min(1-J,1-X,1-Z),$=(1-J-W)/(1-W)||0,G=(1-X-W)/(1-W)||0,Q=(1-Z-W)/(1-W)||0;return[$*100,G*100,Q*100,W*100]};function iQ6(Y,J){return(Y[0]-J[0])**2+(Y[1]-J[1])**2+(Y[2]-J[2])**2}_1.rgb.keyword=function(Y){let J=HU0[Y];if(J)return J;let X=Number.POSITIVE_INFINITY,Z;for(let W of Object.keys(tX)){let $=tX[W],G=iQ6(Y,$);if(G<X)X=G,Z=W}return Z};_1.keyword.rgb=function(Y){return tX[Y]};_1.rgb.xyz=function(Y){let J=nK(Y[0]/255),X=nK(Y[1]/255),Z=nK(Y[2]/255),W=J*0.4124564+X*0.3575761+Z*0.1804375,$=J*0.2126729+X*0.7151522+Z*0.072175,G=J*0.0193339+X*0.119192+Z*0.9503041;return[W*100,$*100,G*100]};_1.rgb.lab=function(Y){let J=_1.rgb.xyz(Y),X=J[0],Z=J[1],W=J[2];X/=95.047,Z/=100,W/=108.883,X=X>EZ?X**0.3333333333333333:7.787*X+0.13793103448275862,Z=Z>EZ?Z**0.3333333333333333:7.787*Z+0.13793103448275862,W=W>EZ?W**0.3333333333333333:7.787*W+0.13793103448275862;let $=116*Z-16,G=500*(X-Z),Q=200*(Z-W);return[$,G,Q]};_1.hsl.rgb=function(Y){let J=Y[0]/360,X=Y[1]/100,Z=Y[2]/100,W,$;if(X===0)return $=Z*255,[$,$,$];let G=Z<0.5?Z*(1+X):Z+X-Z*X,Q=2*Z-G,U=[0,0,0];for(let z=0;z<3;z++){if(W=J+0.3333333333333333*-(z-1),W<0)W++;if(W>1)W--;if(6*W<1)$=Q+(G-Q)*6*W;else if(2*W<1)$=G;else if(3*W<2)$=Q+(G-Q)*(0.6666666666666666-W)*6;else $=Q;U[z]=$*255}return U};_1.hsl.hsv=function(Y){let J=Y[0],X=Y[1]/100,Z=Y[2]/100,W=X,$=Math.max(Z,0.01);Z*=2,X*=Z<=1?Z:2-Z,W*=$<=1?$:2-$;let G=(Z+X)/2,Q=Z===0?2*W/($+W):2*X/(Z+X);return[J,Q*100,G*100]};_1.hsv.rgb=function(Y){let J=Y[0]/60,X=Y[1]/100,Z=Y[2]/100,W=Math.floor(J)%6,$=J-Math.floor(J),G=255*Z*(1-X),Q=255*Z*(1-X*$),U=255*Z*(1-X*(1-$));switch(Z*=255,W){case 0:return[Z,U,G];case 1:return[Q,Z,G];case 2:return[G,Z,U];case 3:return[G,Q,Z];case 4:return[U,G,Z];case 5:return[Z,G,Q]}};_1.hsv.hsl=function(Y){let J=Y[0],X=Y[1]/100,Z=Y[2]/100,W=Math.max(Z,0.01),$,G;G=(2-X)*Z;let Q=(2-X)*W;return $=X*W,$/=Q<=1?Q:2-Q,$=$||0,G/=2,[J,$*100,G*100]};_1.hwb.rgb=function(Y){let J=Y[0]/360,X=Y[1]/100,Z=Y[2]/100,W=X+Z,$;if(W>1)X/=W,Z/=W;let G=Math.floor(6*J),Q=1-Z;if($=6*J-G,(G&1)!==0)$=1-$;let U=X+$*(Q-X),z,H,O;switch(G){default:case 6:case 0:{z=Q,H=U,O=X;break}case 1:{z=U,H=Q,O=X;break}case 2:{z=X,H=Q,O=U;break}case 3:{z=X,H=U,O=Q;break}case 4:{z=U,H=X,O=Q;break}case 5:{z=Q,H=X,O=U;break}}return[z*255,H*255,O*255]};_1.cmyk.rgb=function(Y){let J=Y[0]/100,X=Y[1]/100,Z=Y[2]/100,W=Y[3]/100,$=1-Math.min(1,J*(1-W)+W),G=1-Math.min(1,X*(1-W)+W),Q=1-Math.min(1,Z*(1-W)+W);return[$*255,G*255,Q*255]};_1.xyz.rgb=function(Y){let J=Y[0]/100,X=Y[1]/100,Z=Y[2]/100,W,$,G;return W=J*3.2404542+X*-1.5371385+Z*-0.4985314,$=J*-0.969266+X*1.8760108+Z*0.041556,G=J*0.0556434+X*-0.2040259+Z*1.0572252,W=pK(W),$=pK($),G=pK(G),[W*255,$*255,G*255]};_1.xyz.lab=function(Y){let J=Y[0],X=Y[1],Z=Y[2];J/=95.047,X/=100,Z/=108.883,J=J>EZ?J**0.3333333333333333:7.787*J+0.13793103448275862,X=X>EZ?X**0.3333333333333333:7.787*X+0.13793103448275862,Z=Z>EZ?Z**0.3333333333333333:7.787*Z+0.13793103448275862;let W=116*X-16,$=500*(J-X),G=200*(X-Z);return[W,$,G]};_1.xyz.oklab=function(Y){let J=Y[0]/100,X=Y[1]/100,Z=Y[2]/100,W=Math.cbrt(0.8189330101*J+0.3618667424*X-0.1288597137*Z),$=Math.cbrt(0.0329845436*J+0.9293118715*X+0.0361456387*Z),G=Math.cbrt(0.0482003018*J+0.2643662691*X+0.633851707*Z),Q=0.2104542553*W+0.793617785*$-0.0040720468*G,U=1.9779984951*W-2.428592205*$+0.4505937099*G,z=0.0259040371*W+0.7827717662*$-0.808675766*G;return[Q*100,U*100,z*100]};_1.oklab.oklch=function(Y){return _1.lab.lch(Y)};_1.oklab.xyz=function(Y){let J=Y[0]/100,X=Y[1]/100,Z=Y[2]/100,W=(0.999999998*J+0.396337792*X+0.215803758*Z)**3,$=(1.000000008*J-0.105561342*X-0.063854175*Z)**3,G=(1.000000055*J-0.089484182*X-1.291485538*Z)**3,Q=1.227013851*W-0.55779998*$+0.281256149*G,U=-0.040580178*W+1.11225687*$-0.071676679*G,z=-0.076381285*W-0.421481978*$+1.58616322*G;return[Q*100,U*100,z*100]};_1.oklab.rgb=function(Y){let J=Y[0]/100,X=Y[1]/100,Z=Y[2]/100,W=(J+0.3963377774*X+0.2158037573*Z)**3,$=(J-0.1055613458*X-0.0638541728*Z)**3,G=(J-0.0894841775*X-1.291485548*Z)**3,Q=pK(4.0767416621*W-3.3077115913*$+0.2309699292*G),U=pK(-1.2684380046*W+2.6097574011*$-0.3413193965*G),z=pK(-0.0041960863*W-0.7034186147*$+1.707614701*G);return[Q*255,U*255,z*255]};_1.oklch.oklab=function(Y){return _1.lch.lab(Y)};_1.lab.xyz=function(Y){let J=Y[0],X=Y[1],Z=Y[2],W,$,G;$=(J+16)/116,W=X/500+$,G=$-Z/200;let Q=$**3,U=W**3,z=G**3;return $=Q>EZ?Q:($-0.13793103448275862)/7.787,W=U>EZ?U:(W-0.13793103448275862)/7.787,G=z>EZ?z:(G-0.13793103448275862)/7.787,W*=95.047,$*=100,G*=108.883,[W,$,G]};_1.lab.lch=function(Y){let J=Y[0],X=Y[1],Z=Y[2],W;if(W=Math.atan2(Z,X)*360/2/Math.PI,W<0)W+=360;let G=Math.sqrt(X*X+Z*Z);return[J,G,W]};_1.lch.lab=function(Y){let J=Y[0],X=Y[1],W=Y[2]/360*2*Math.PI,$=X*Math.cos(W),G=X*Math.sin(W);return[J,$,G]};_1.rgb.ansi16=function(Y,J=null){let[X,Z,W]=Y,$=J===null?_1.rgb.hsv(Y)[2]:J;if($=Math.round($/50),$===0)return 30;let G=30+(Math.round(W/255)<<2|Math.round(Z/255)<<1|Math.round(X/255));if($===2)G+=60;return G};_1.hsv.ansi16=function(Y){return _1.rgb.ansi16(_1.hsv.rgb(Y),Y[2])};_1.rgb.ansi256=function(Y){let J=Y[0],X=Y[1],Z=Y[2];if(J>>4===X>>4&&X>>4===Z>>4){if(J<8)return 16;if(J>248)return 231;return Math.round((J-8)/247*24)+232}return 16+36*Math.round(J/255*5)+6*Math.round(X/255*5)+Math.round(Z/255*5)};_1.ansi16.rgb=function(Y){Y=Y[0];let J=Y%10;if(J===0||J===7){if(Y>50)J+=3.5;return J=J/10.5*255,[J,J,J]}let X=(Math.trunc(Y>50)+1)*0.5,Z=(J&1)*X*255,W=(J>>1&1)*X*255,$=(J>>2&1)*X*255;return[Z,W,$]};_1.ansi256.rgb=function(Y){if(Y=Y[0],Y>=232){let $=(Y-232)*10+8;return[$,$,$]}Y-=16;let J,X=Math.floor(Y/36)/5*255,Z=Math.floor((J=Y%36)/6)/5*255,W=J%6/5*255;return[X,Z,W]};_1.rgb.hex=function(Y){let X=(((Math.round(Y[0])&255)<<16)+((Math.round(Y[1])&255)<<8)+(Math.round(Y[2])&255)).toString(16).toUpperCase();return"000000".slice(X.length)+X};_1.hex.rgb=function(Y){let J=Y.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!J)return[0,0,0];let X=J[0];if(J[0].length===3)X=[...X].map((Q)=>Q+Q).join("");let Z=Number.parseInt(X,16),W=Z>>16&255,$=Z>>8&255,G=Z&255;return[W,$,G]};_1.rgb.hcg=function(Y){let J=Y[0]/255,X=Y[1]/255,Z=Y[2]/255,W=Math.max(Math.max(J,X),Z),$=Math.min(Math.min(J,X),Z),G=W-$,Q,U=G<1?$/(1-G):0;if(G<=0)Q=0;else if(W===J)Q=(X-Z)/G%6;else if(W===X)Q=2+(Z-J)/G;else Q=4+(J-X)/G;return Q/=6,Q%=1,[Q*360,G*100,U*100]};_1.hsl.hcg=function(Y){let J=Y[1]/100,X=Y[2]/100,Z=X<0.5?2*J*X:2*J*(1-X),W=0;if(Z<1)W=(X-0.5*Z)/(1-Z);return[Y[0],Z*100,W*100]};_1.hsv.hcg=function(Y){let J=Y[1]/100,X=Y[2]/100,Z=J*X,W=0;if(Z<1)W=(X-Z)/(1-Z);return[Y[0],Z*100,W*100]};_1.hcg.rgb=function(Y){let J=Y[0]/360,X=Y[1]/100,Z=Y[2]/100;if(X===0)return[Z*255,Z*255,Z*255];let W=[0,0,0],$=J%1*6,G=$%1,Q=1-G,U=0;switch(Math.floor($)){case 0:{W[0]=1,W[1]=G,W[2]=0;break}case 1:{W[0]=Q,W[1]=1,W[2]=0;break}case 2:{W[0]=0,W[1]=1,W[2]=G;break}case 3:{W[0]=0,W[1]=Q,W[2]=1;break}case 4:{W[0]=G,W[1]=0,W[2]=1;break}default:W[0]=1,W[1]=0,W[2]=Q}return U=(1-X)*Z,[(X*W[0]+U)*255,(X*W[1]+U)*255,(X*W[2]+U)*255]};_1.hcg.hsv=function(Y){let J=Y[1]/100,X=Y[2]/100,Z=J+X*(1-J),W=0;if(Z>0)W=J/Z;return[Y[0],W*100,Z*100]};_1.hcg.hsl=function(Y){let J=Y[1]/100,Z=Y[2]/100*(1-J)+0.5*J,W=0;if(Z>0&&Z<0.5)W=J/(2*Z);else if(Z>=0.5&&Z<1)W=J/(2*(1-Z));return[Y[0],W*100,Z*100]};_1.hcg.hwb=function(Y){let J=Y[1]/100,X=Y[2]/100,Z=J+X*(1-J);return[Y[0],(Z-J)*100,(1-Z)*100]};_1.hwb.hcg=function(Y){let J=Y[1]/100,Z=1-Y[2]/100,W=Z-J,$=0;if(W<1)$=(Z-W)/(1-W);return[Y[0],W*100,$*100]};_1.apple.rgb=function(Y){return[Y[0]/65535*255,Y[1]/65535*255,Y[2]/65535*255]};_1.rgb.apple=function(Y){return[Y[0]/255*65535,Y[1]/255*65535,Y[2]/255*65535]};_1.gray.rgb=function(Y){return[Y[0]/100*255,Y[0]/100*255,Y[0]/100*255]};_1.gray.hsl=function(Y){return[0,0,Y[0]]};_1.gray.hsv=_1.gray.hsl;_1.gray.hwb=function(Y){return[0,100,Y[0]]};_1.gray.cmyk=function(Y){return[0,0,0,Y[0]]};_1.gray.lab=function(Y){return[Y[0],0,0]};_1.gray.hex=function(Y){let J=Math.round(Y[0]/100*255)&255,Z=((J<<16)+(J<<8)+J).toString(16).toUpperCase();return"000000".slice(Z.length)+Z};_1.rgb.gray=function(Y){return[(Y[0]+Y[1]+Y[2])/3/255*100]};function oQ6(){let Y={},J=Object.keys(_1);for(let{length:X}=J,Z=0;Z<X;Z++)Y[J[Z]]={distance:-1,parent:null};return Y}function rQ6(Y){let J=oQ6(),X=[Y];J[Y].distance=0;while(X.length>0){let Z=X.pop(),W=Object.keys(_1[Z]);for(let{length:$}=W,G=0;G<$;G++){let Q=W[G],U=J[Q];if(U.distance===-1)U.distance=J[Z].distance+1,U.parent=Z,X.unshift(Q)}}return J}function aQ6(Y,J){return function(X){return J(Y(X))}}function sQ6(Y,J){let X=[J[Y].parent,Y],Z=_1[J[Y].parent][Y],W=J[Y].parent;while(J[W].parent)X.unshift(J[W].parent),Z=aQ6(_1[J[W].parent][W],Z),W=J[W].parent;return Z.conversion=X,Z}function tQ6(Y){let J=rQ6(Y),X={},Z=Object.keys(J);for(let{length:W}=Z,$=0;$<W;$++){let G=Z[$];if(J[G].parent===null)continue;X[G]=sQ6(G,J)}return X}var Y5={},eQ6=Object.keys(_1);function YU6(Y){let J=function(...X){let Z=X[0];if(Z===void 0||Z===null)return Z;if(Z.length>1)X=Z;return Y(X)};if("conversion"in Y)J.conversion=Y.conversion;return J}function JU6(Y){let J=function(...X){let Z=X[0];if(Z===void 0||Z===null)return Z;if(Z.length>1)X=Z;let W=Y(X);if(typeof W==="object")for(let{length:$}=W,G=0;G<$;G++)W[G]=Math.round(W[G]);return W};if("conversion"in Y)J.conversion=Y.conversion;return J}for(let Y of eQ6){Y5[Y]={},Object.defineProperty(Y5[Y],"channels",{value:_1[Y].channels}),Object.defineProperty(Y5[Y],"labels",{value:_1[Y].labels});let J=tQ6(Y),X=Object.keys(J);for(let Z of X){let W=J[Z];Y5[Y][Z]=JU6(W),Y5[Y][Z].raw=YU6(W)}}var OU0=["keyword","gray","hex"],N01={};for(let Y of Object.keys(Y5))N01[[...Y5[Y].labels].sort().join("")]=Y;var S01={};function j8(Y,J){if(!(this instanceof j8))return new j8(Y,J);if(J&&J in OU0)J=null;if(J&&!(J in Y5))throw Error("Unknown model: "+J);let X,Z;if(Y==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(Y instanceof j8)this.model=Y.model,this.color=[...Y.color],this.valpha=Y.valpha;else if(typeof Y==="string"){let W=k8.get(Y);if(W===null)throw Error("Unable to parse color from string: "+Y);this.model=W.model,Z=Y5[this.model].channels,this.color=W.value.slice(0,Z),this.valpha=typeof W.value[Z]==="number"?W.value[Z]:1}else if(Y.length>0){this.model=J||"rgb",Z=Y5[this.model].channels;let W=Array.prototype.slice.call(Y,0,Z);this.color=C01(W,Z),this.valpha=typeof Y[Z]==="number"?Y[Z]:1}else if(typeof Y==="number")this.model="rgb",this.color=[Y>>16&255,Y>>8&255,Y&255],this.valpha=1;else{this.valpha=1;let W=Object.keys(Y);if("alpha"in Y)W.splice(W.indexOf("alpha"),1),this.valpha=typeof Y.alpha==="number"?Y.alpha:0;let $=W.sort().join("");if(!($ in N01))throw Error("Unable to parse color from object: "+JSON.stringify(Y));this.model=N01[$];let{labels:G}=Y5[this.model],Q=[];for(X=0;X<G.length;X++)Q.push(Y[G[X]]);this.color=C01(Q)}if(S01[this.model]){Z=Y5[this.model].channels;for(X=0;X<Z;X++){let W=S01[this.model][X];if(W)this.color[X]=W(this.color[X])}}if(this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze)Object.freeze(this)}j8.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(Y){let J=this.model in k8.to?this:this.rgb();J=J.round(typeof Y==="number"?Y:1);let X=J.valpha===1?J.color:[...J.color,this.valpha];return k8.to[J.model](...X)},percentString(Y){let J=this.rgb().round(typeof Y==="number"?Y:1),X=J.valpha===1?J.color:[...J.color,this.valpha];return k8.to.rgb.percent(...X)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let Y={},{channels:J}=Y5[this.model],{labels:X}=Y5[this.model];for(let Z=0;Z<J;Z++)Y[X[Z]]=this.color[Z];if(this.valpha!==1)Y.alpha=this.valpha;return Y},unitArray(){let Y=this.rgb().color;if(Y[0]/=255,Y[1]/=255,Y[2]/=255,this.valpha!==1)Y.push(this.valpha);return Y},unitObject(){let Y=this.rgb().object();if(Y.r/=255,Y.g/=255,Y.b/=255,this.valpha!==1)Y.alpha=this.valpha;return Y},round(Y){return Y=Math.max(Y||0,0),new j8([...this.color.map(ZU6(Y)),this.valpha],this.model)},alpha(Y){if(Y!==void 0)return new j8([...this.color,Math.max(0,Math.min(1,Y))],this.model);return this.valpha},red:C6("rgb",0,C8(255)),green:C6("rgb",1,C8(255)),blue:C6("rgb",2,C8(255)),hue:C6(["hsl","hsv","hsl","hwb","hcg"],0,(Y)=>(Y%360+360)%360),saturationl:C6("hsl",1,C8(100)),lightness:C6("hsl",2,C8(100)),saturationv:C6("hsv",1,C8(100)),value:C6("hsv",2,C8(100)),chroma:C6("hcg",1,C8(100)),gray:C6("hcg",2,C8(100)),white:C6("hwb",1,C8(100)),wblack:C6("hwb",2,C8(100)),cyan:C6("cmyk",0,C8(100)),magenta:C6("cmyk",1,C8(100)),yellow:C6("cmyk",2,C8(100)),black:C6("cmyk",3,C8(100)),x:C6("xyz",0,C8(95.047)),y:C6("xyz",1,C8(100)),z:C6("xyz",2,C8(108.833)),l:C6("lab",0,C8(100)),a:C6("lab",1),b:C6("lab",2),keyword(Y){if(Y!==void 0)return new j8(Y);return Y5[this.model].keyword(this.color)},hex(Y){if(Y!==void 0)return new j8(Y);return k8.to.hex(...this.rgb().round().color)},hexa(Y){if(Y!==void 0)return new j8(Y);let J=this.rgb().round().color,X=Math.round(this.valpha*255).toString(16).toUpperCase();if(X.length===1)X="0"+X;return k8.to.hex(...J)+X},rgbNumber(){let Y=this.rgb().color;return(Y[0]&255)<<16|(Y[1]&255)<<8|Y[2]&255},luminosity(){let Y=this.rgb().color,J=[];for(let[X,Z]of Y.entries()){let W=Z/255;J[X]=W<=0.04045?W/12.92:((W+0.055)/1.055)**2.4}return 0.2126*J[0]+0.7152*J[1]+0.0722*J[2]},contrast(Y){let J=this.luminosity(),X=Y.luminosity();if(J>X)return(J+0.05)/(X+0.05);return(X+0.05)/(J+0.05)},level(Y){let J=this.contrast(Y);if(J>=7)return"AAA";return J>=4.5?"AA":""},isDark(){let Y=this.rgb().color;return(Y[0]*2126+Y[1]*7152+Y[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let Y=this.rgb();for(let J=0;J<3;J++)Y.color[J]=255-Y.color[J];return Y},lighten(Y){let J=this.hsl();return J.color[2]+=J.color[2]*Y,J},darken(Y){let J=this.hsl();return J.color[2]-=J.color[2]*Y,J},saturate(Y){let J=this.hsl();return J.color[1]+=J.color[1]*Y,J},desaturate(Y){let J=this.hsl();return J.color[1]-=J.color[1]*Y,J},whiten(Y){let J=this.hwb();return J.color[1]+=J.color[1]*Y,J},blacken(Y){let J=this.hwb();return J.color[2]+=J.color[2]*Y,J},grayscale(){let Y=this.rgb().color,J=Y[0]*0.3+Y[1]*0.59+Y[2]*0.11;return j8.rgb(J,J,J)},fade(Y){return this.alpha(this.valpha-this.valpha*Y)},opaquer(Y){return this.alpha(this.valpha+this.valpha*Y)},rotate(Y){let J=this.hsl(),X=J.color[0];return X=(X+Y)%360,X=X<0?360+X:X,J.color[0]=X,J},mix(Y,J){if(!Y||!Y.rgb)throw Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof Y);let X=Y.rgb(),Z=this.rgb(),W=J===void 0?0.5:J,$=2*W-1,G=X.alpha()-Z.alpha(),Q=(($*G===-1?$:($+G)/(1+$*G))+1)/2,U=1-Q;return j8.rgb(Q*X.red()+U*Z.red(),Q*X.green()+U*Z.green(),Q*X.blue()+U*Z.blue(),X.alpha()*W+Z.alpha()*(1-W))}};for(let Y of Object.keys(Y5)){if(OU0.includes(Y))continue;let{channels:J}=Y5[Y];j8.prototype[Y]=function(...X){if(this.model===Y)return new j8(this);if(X.length>0)return new j8(X,Y);return new j8([...WU6(Y5[this.model][Y].raw(this.color)),this.valpha],Y)},j8[Y]=function(...X){let Z=X[0];if(typeof Z==="number")Z=C01(X,J);return new j8(Z,Y)}}function XU6(Y,J){return Number(Y.toFixed(J))}function ZU6(Y){return function(J){return XU6(J,Y)}}function C6(Y,J,X){Y=Array.isArray(Y)?Y:[Y];for(let Z of Y)(S01[Z]||=[])[J]=X;return Y=Y[0],function(Z){let W;if(Z!==void 0){if(X)Z=X(Z);return W=this[Y](),W.color[J]=Z,W}if(W=this[Y]().color[J],X)W=X(W);return W}}function C8(Y){return function(J){return Math.max(0,Math.min(Y,J))}}function WU6(Y){return Array.isArray(Y)?Y:[Y]}function C01(Y,J){for(let X=0;X<J;X++)if(typeof Y[X]!=="number")Y[X]=0;return Y}function $U6(Y){return Y&&Y.__esModule&&Object.prototype.hasOwnProperty.call(Y,"default")?Y.default:Y}var GU6=function(J){for(var X=0,Z=0;X<J.length;Z=J.charCodeAt(X++)+((Z<<5)-Z));var W=Math.floor(Math.abs(Math.sin(Z)*1e4%1*16777216)).toString(16);return"#"+Array(6-W.length+1).join("0")+W},UU0=$U6(GU6);function QU6(Y,J){let X=Y.split(J||":"),Z=UU0(X[0]);if(!X.length)return Z;for(let W=0,$=X.length-1;W<$;W++)Z=j8(Z).mix(j8(UU0(X[W+1]))).saturate(1).hex();return Z}KU0.exports=QU6});var FU0=q((fH8,qU0)=>{function DJ(Y,J){if(J)return new DJ(Y).style(J);if(!(this instanceof DJ))return new DJ(Y);this.text=Y}DJ.prototype.prefix="\x1B[";DJ.prototype.suffix="m";DJ.prototype.hex=function(J){if(J=J[0]==="#"?J.substring(1):J,J.length===3)J=J.split(""),J[5]=J[2],J[4]=J[2],J[3]=J[1],J[2]=J[1],J[1]=J[0],J=J.join("");var X=J.substring(0,2),Z=J.substring(2,4),W=J.substring(4,6);return[parseInt(X,16),parseInt(Z,16),parseInt(W,16)]};DJ.prototype.rgb=function(J,X,Z){var W=J/255*5,$=X/255*5,G=Z/255*5;return this.ansi(W,$,G)};DJ.prototype.ansi=function(J,X,Z){var W=Math.round(J),$=Math.round(X),G=Math.round(Z);return 16+W*36+$*6+G};DJ.prototype.reset=function(){return this.prefix+"39;49"+this.suffix};DJ.prototype.style=function(J){return this.prefix+"38;5;"+this.rgb.apply(this,this.hex(J))+this.suffix+this.text+this.reset()};qU0.exports=DJ});var IU0=q((vH8,VU0)=>{var UU6=BU0(),zU6=FU0();VU0.exports=function(J,X){var Z=X.namespace,W=X.colors!==!1?zU6(Z+":",UU6(Z)):Z+":";return J[0]=W+" "+J[0],J}});var wU0=q((hH8,DU0)=>{DU0.exports=function(J,X){if(!X)return!1;var Z=X.split(/[\s,]+/),W=0;for(;W<Z.length;W++){if(X=Z[W].replace("*",".*?"),X.charAt(0)==="-"){if(new RegExp("^"+X.substr(1)+"$").test(J))return!1;continue}if(new RegExp("^"+X+"$").test(J))return!0}return!1}});var PU0=q((bH8,AU0)=>{var HU6=wU0();AU0.exports=function(J){return function(Z){try{return HU6(Z,J())}catch(W){}return!1}}});var MU0=q((yH8,LU0)=>{var OU6=PU0();LU0.exports=OU6(function(){return process.env.DEBUG||process.env.DIAGNOSTICS})});var TU0=q((gH8,EU0)=>{EU0.exports=function(Y,J){try{Function.prototype.apply.call(console.log,console,J)}catch(X){}}});var Lw=q((uH8,RU0)=>{var KU6=QU0(),BU6=C("tty").isatty(1),pC=KU6(function Y(J,X){if(X=X||{},X.colors="colors"in X?X.colors:BU6,X.namespace=J,X.prod=!1,X.dev=!0,!Y.enabled(J)&&!(X.force||Y.force))return Y.nope(X);return Y.yep(X)});pC.modify(IU0());pC.use(MU0());pC.set(TU0());RU0.exports=pC});var SU0=q((mH8,NU0)=>{var j01=C("fs"),{StringDecoder:qU6}=C("string_decoder"),{Stream:FU6}=EU();function VU6(){}NU0.exports=(Y,J)=>{let X=Buffer.alloc(65536),Z=new qU6("utf8"),W=new FU6,$="",G=0,Q=0;if(Y.start===-1)delete Y.start;if(W.readable=!0,W.destroy=()=>{W.destroyed=!0,W.emit("end"),W.emit("close")},j01.open(Y.file,"a+","0644",(U,z)=>{if(U){if(!J)W.emit("error",U);else J(U);W.destroy();return}(function H(){if(W.destroyed){j01.close(z,VU6);return}return j01.read(z,X,0,X.length,G,(O,K)=>{if(O){if(!J)W.emit("error",O);else J(O);W.destroy();return}if(!K){if($){if(Y.start==null||Q>Y.start)if(!J)W.emit("line",$);else J(null,$);Q++,$=""}return setTimeout(H,1000)}let B=Z.write(X.slice(0,K));if(!J)W.emit("data",B);B=($+B).split(/\n+/);let F=B.length-1,V=0;for(;V<F;V++){if(Y.start==null||Q>Y.start)if(!J)W.emit("line",B[V]);else J(null,B[V]);Q++}return $=B[F],G+=K,H()})})()}),!J)return W;return W.destroy}});var _U0=q((dH8,kU0)=>{var n9=C("fs"),J5=C("path"),CU0=oQ0(),IU6=C("zlib"),{MESSAGE:DU6}=u6(),{Stream:wU6,PassThrough:jU0}=EU(),AU6=DQ(),wJ=Lw()("winston:file"),PU6=C("os"),LU6=SU0();kU0.exports=class extends AU6{constructor(J={}){super(J);this.name=J.name||"file";function X(Z,...W){W.slice(1).forEach(($)=>{if(J[$])throw Error(`Cannot set ${$} and ${Z} together`)})}if(this._stream=new jU0,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),J.filename||J.dirname)X("filename or dirname","stream"),this._basename=this.filename=J.filename?J5.basename(J.filename):"winston.log",this.dirname=J.dirname||J5.dirname(J.filename),this.options=J.options||{flags:"a"};else if(J.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),X("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(J.stream)),this.dirname=J5.dirname(this._dest.path);else throw Error("Cannot log to file without filename or stream.");if(this.maxsize=J.maxsize||null,this.rotationFormat=J.rotationFormat||!1,this.zippedArchive=J.zippedArchive||!1,this.maxFiles=J.maxFiles||null,this.eol=typeof J.eol==="string"?J.eol:PU6.EOL,this.tailable=J.tailable||!1,this.lazy=J.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname)this._createLogDirIfNotExist(this.dirname);if(!this.lazy)this.open()}finishIfEnding(){if(this._ending)if(this._opening)this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())});else this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}_final(J){if(this._opening){this.once("open",()=>this._final(J));return}if(this._stream.end(),!this._dest)return J();if(this._dest.writableFinished)return J();this._dest.once("finish",J),this._dest.once("error",J)}log(J,X=()=>{}){if(this.silent)return X(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(J,X)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(J,X)});return}if(this.lazy){if(!this._fileExist){if(!this._opening)this.open();this.once("open",()=>{this._fileExist=!0,this.log(J,X);return});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",()=>{if(!this._opening)this.open();this.once("open",()=>{this.log(J,X);return});return});return}}let Z=`${J[DU6]}${this.eol}`,W=Buffer.byteLength(Z);function $(){if(this._size+=W,this._pendingSize-=W,wJ("logged %s %s",this._size,Z),this.emit("logged",J),this._rotate)return;if(this._opening)return;if(!this._needsNewFile())return;if(this.lazy){this._endStream(()=>{this.emit("fileclosed")});return}this._rotate=!0,this._endStream(()=>this._rotateFile())}if(this._pendingSize+=W,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize))this.rotatedWhileOpening=!0;let G=this._stream.write(Z,$.bind(this));if(!G)this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,X()});else X();return wJ("written",G,this._drain),this.finishIfEnding(),G}query(J,X){if(typeof J==="function")X=J,J={};J=O(J);let Z=J5.join(this.dirname,this.filename),W="",$=[],G=0,Q=n9.createReadStream(Z,{encoding:"utf8"});Q.on("error",(K)=>{if(Q.readable)Q.destroy();if(!X)return;return K.code!=="ENOENT"?X(K):X(null,$)}),Q.on("data",(K)=>{K=(W+K).split(/\n+/);let B=K.length-1,F=0;for(;F<B;F++){if(!J.start||G>=J.start)U(K[F]);G++}W=K[B]}),Q.on("close",()=>{if(W)U(W,!0);if(J.order==="desc")$=$.reverse();if(X)X(null,$)});function U(K,B){try{let F=JSON.parse(K);if(H(F))z(F)}catch(F){if(!B)Q.emit("error",F)}}function z(K){if(J.rows&&$.length>=J.rows&&J.order!=="desc"){if(Q.readable)Q.destroy();return}if(J.fields)K=J.fields.reduce((B,F)=>{return B[F]=K[F],B},{});if(J.order==="desc"){if($.length>=J.rows)$.shift()}$.push(K)}function H(K){if(!K)return;if(typeof K!=="object")return;let B=new Date(K.timestamp);if(J.from&&B<J.from||J.until&&B>J.until||J.level&&J.level!==K.level)return;return!0}function O(K){if(K=K||{},K.rows=K.rows||K.limit||10,K.start=K.start||0,K.until=K.until||new Date,typeof K.until!=="object")K.until=new Date(K.until);if(K.from=K.from||K.until-86400000,typeof K.from!=="object")K.from=new Date(K.from);return K.order=K.order||"desc",K}}stream(J={}){let X=J5.join(this.dirname,this.filename),Z=new wU6,W={file:X,start:J.start};return Z.destroy=LU6(W,($,G)=>{if($)return Z.emit("error",$);try{Z.emit("data",G),G=JSON.parse(G),Z.emit("log",G)}catch(Q){Z.emit("error",Q)}}),Z}open(){if(!this.filename)return;if(this._opening)return;this._opening=!0,this.stat((J,X)=>{if(J)return this.emit("error",J);wJ("stat done: %s { size: %s }",this.filename,X),this._size=X,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{if(!this._stream.emit("rotate"))this._rotate=!1})})}stat(J){let X=this._getFile(),Z=J5.join(this.dirname,X);n9.stat(Z,(W,$)=>{if(W&&W.code==="ENOENT")return wJ("ENOENT\xA0ok",Z),this.filename=X,J(null,0);if(W)return wJ(`err ${W.code} ${Z}`),J(W);if(!$||this._needsNewFile($.size))return this._incFile(()=>this.stat(J));this.filename=X,J(null,$.size)})}close(J){if(!this._stream)return;this._stream.end(()=>{if(J)J();this.emit("flush"),this.emit("closed")})}_needsNewFile(J){return J=J||this._size,this.maxsize&&J>=this.maxsize}_onError(J){this.emit("error",J)}_setupStream(J){return J.on("error",this._onError),J}_cleanupStream(J){return J.removeListener("error",this._onError),J.destroy(),J}_rotateFile(){this._incFile(()=>this.open())}_endStream(J=()=>{}){if(this._dest)this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),J()});else J()}_createStream(J){let X=J5.join(this.dirname,this.filename);wJ("create stream start",X,this.options);let Z=n9.createWriteStream(X,this.options).on("error",(W)=>wJ(W)).on("close",()=>wJ("close",Z.path,Z.bytesWritten)).on("open",()=>{if(wJ("file open ok",X),this.emit("open",X),J.pipe(Z),this.rotatedWhileOpening)this._stream=new jU0,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(Z),J.end()});return wJ("create stream ok",X),Z}_incFile(J){wJ("_incFile",this.filename);let X=J5.extname(this._basename),Z=J5.basename(this._basename,X),W=[];if(this.zippedArchive)W.push(function($){let G=this._created>0&&!this.tailable?this._created:"";this._compressFile(J5.join(this.dirname,`${Z}${G}${X}`),J5.join(this.dirname,`${Z}${G}${X}.gz`),$)}.bind(this));W.push(function($){if(!this.tailable)this._created+=1,this._checkMaxFilesIncrementing(X,Z,$);else this._checkMaxFilesTailable(X,Z,$)}.bind(this)),CU0(W,J)}_getFile(){let J=J5.extname(this._basename),X=J5.basename(this._basename,J),Z=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?`${X}${Z}${J}`:`${X}${J}`}_checkMaxFilesIncrementing(J,X,Z){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(Z);let W=this._created-this.maxFiles,$=W!==0?W:"",G=this.zippedArchive?".gz":"",Q=`${X}${$}${J}${G}`,U=J5.join(this.dirname,Q);n9.unlink(U,Z)}_checkMaxFilesTailable(J,X,Z){let W=[];if(!this.maxFiles)return;let $=this.zippedArchive?".gz":"";for(let G=this.maxFiles-1;G>1;G--)W.push(function(Q,U){let z=`${X}${Q-1}${J}${$}`,H=J5.join(this.dirname,z);n9.exists(H,(O)=>{if(!O)return U(null);z=`${X}${Q}${J}${$}`,n9.rename(H,J5.join(this.dirname,z),U)})}.bind(this,G));CU0(W,()=>{n9.rename(J5.join(this.dirname,`${X}${J}${$}`),J5.join(this.dirname,`${X}1${J}${$}`),Z)})}_compressFile(J,X,Z){n9.access(J,n9.F_OK,(W)=>{if(W)return Z();var $=IU6.createGzip(),G=n9.createReadStream(J),Q=n9.createWriteStream(X);Q.on("finish",()=>{n9.unlink(J,Z)}),G.pipe($).pipe(Q)})}_createLogDirIfNotExist(J){if(!n9.existsSync(J))n9.mkdirSync(J,{recursive:!0})}}});var fU0=q((cH8,xU0)=>{var MU6=C("http"),EU6=C("https"),{Stream:TU6}=EU(),RU6=DQ(),{configure:NU6}=yK();xU0.exports=class extends RU6{constructor(J={}){super(J);if(this.options=J,this.name=J.name||"http",this.ssl=!!J.ssl,this.host=J.host||"localhost",this.port=J.port,this.auth=J.auth,this.path=J.path||"",this.maximumDepth=J.maximumDepth,this.agent=J.agent,this.headers=J.headers||{},this.headers["content-type"]="application/json",this.batch=J.batch||!1,this.batchInterval=J.batchInterval||5000,this.batchCount=J.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},!this.port)this.port=this.ssl?443:80}log(J,X){if(this._request(J,null,null,(Z,W)=>{if(W&&W.statusCode!==200)Z=Error(`Invalid HTTP Status Code: ${W.statusCode}`);if(Z)this.emit("warn",Z);else this.emit("logged",J)}),X)setImmediate(X)}query(J,X){if(typeof J==="function")X=J,J={};J={method:"query",params:this.normalizeQuery(J)};let Z=J.params.auth||null;delete J.params.auth;let W=J.params.path||null;delete J.params.path,this._request(J,Z,W,($,G,Q)=>{if(G&&G.statusCode!==200)$=Error(`Invalid HTTP Status Code: ${G.statusCode}`);if($)return X($);if(typeof Q==="string")try{Q=JSON.parse(Q)}catch(U){return X(U)}X(null,Q)})}stream(J={}){let X=new TU6;J={method:"stream",params:J};let Z=J.params.path||null;delete J.params.path;let W=J.params.auth||null;delete J.params.auth;let $="",G=this._request(J,W,Z);return X.destroy=()=>G.destroy(),G.on("data",(Q)=>{Q=($+Q).split(/\n+/);let U=Q.length-1,z=0;for(;z<U;z++)try{X.emit("log",JSON.parse(Q[z]))}catch(H){X.emit("error",H)}$=Q[U]}),G.on("error",(Q)=>X.emit("error",Q)),X}_request(J,X,Z,W){if(J=J||{},X=X||this.auth,Z=Z||this.path||"",this.batch)this._doBatch(J,W,X,Z);else this._doRequest(J,W,X,Z)}_doBatch(J,X,Z,W){if(this.batchOptions.push(J),this.batchOptions.length===1){let $=this;this.batchCallback=X,this.batchTimeoutID=setTimeout(function(){$.batchTimeoutID=-1,$._doBatchRequest($.batchCallback,Z,W)},this.batchInterval)}if(this.batchOptions.length===this.batchCount)this._doBatchRequest(this.batchCallback,Z,W)}_doBatchRequest(J,X,Z){if(this.batchTimeoutID>0)clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1;let W=this.batchOptions.slice();this.batchOptions=[],this._doRequest(W,J,X,Z)}_doRequest(J,X,Z,W){let $=Object.assign({},this.headers);if(Z&&Z.bearer)$.Authorization=`Bearer ${Z.bearer}`;let G=(this.ssl?EU6:MU6).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${W.replace(/^\//,"")}`,headers:$,auth:Z&&Z.username&&Z.password?`${Z.username}:${Z.password}`:"",agent:this.agent});G.on("error",X),G.on("response",(U)=>U.on("end",()=>X(null,U)).resume());let Q=NU6({...this.maximumDepth&&{maximumDepth:this.maximumDepth}});G.end(Buffer.from(Q(J,this.options.replacer),"utf8"))}}});var k01=q((lH8,vU0)=>{var eX=(Y)=>Y!==null&&typeof Y==="object"&&typeof Y.pipe==="function";eX.writable=(Y)=>eX(Y)&&Y.writable!==!1&&typeof Y._write==="function"&&typeof Y._writableState==="object";eX.readable=(Y)=>eX(Y)&&Y.readable!==!1&&typeof Y._read==="function"&&typeof Y._readableState==="object";eX.duplex=(Y)=>eX.writable(Y)&&eX.readable(Y);eX.transform=(Y)=>eX.duplex(Y)&&typeof Y._transform==="function";vU0.exports=eX});var bU0=q((pH8,hU0)=>{var SU6=k01(),{MESSAGE:CU6}=u6(),jU6=C("os"),kU6=DQ();hU0.exports=class extends kU6{constructor(J={}){super(J);if(!J.stream||!SU6(J.stream))throw Error("options.stream is required.");this._stream=J.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=J.stream._writableState.objectMode,this.eol=typeof J.eol==="string"?J.eol:jU6.EOL}log(J,X){if(setImmediate(()=>this.emit("logged",J)),this.isObjectMode){if(this._stream.write(J),X)X();return}if(this._stream.write(`${J[CU6]}${this.eol}`),X)X();return}}});var yU0=q((Mw)=>{Object.defineProperty(Mw,"Console",{configurable:!0,enumerable:!0,get(){return zQ0()}});Object.defineProperty(Mw,"File",{configurable:!0,enumerable:!0,get(){return _U0()}});Object.defineProperty(Mw,"Http",{configurable:!0,enumerable:!0,get(){return fU0()}});Object.defineProperty(Mw,"Stream",{configurable:!0,enumerable:!0,get(){return bU0()}})});var iC=q((_U6)=>{var nC=a11(),{configs:_01}=u6();_U6.cli=nC.levels(_01.cli);_U6.npm=nC.levels(_01.npm);_U6.syslog=nC.levels(_01.syslog);_U6.addColors=nC.levels});var uU0=q((x01,gU0)=>{Object.defineProperty(x01,"__esModule",{value:!0});var bU6=uC(),yU6=TU(bU6),gU6=mC(),uU6=TU(gU6),mU6=V01(),dU6=TU(mU6),cU6=G01(),lU6=TU(cU6),pU6=H01(),nU6=TU(pU6),iU6=MU(),oU6=TU(iU6),rU6=cK(),aU6=TU(rU6);function TU(Y){return Y&&Y.__esModule?Y:{default:Y}}function sU6(Y,J,X){X=(0,lU6.default)(X);var Z=0,W=0,{length:$}=Y,G=!1;if($===0)X(null);function Q(U,z){if(U===!1)G=!0;if(G===!0)return;if(U)X(U);else if(++W===$||z===uU6.default)X(null)}for(;Z<$;Z++)J(Y[Z],Z,(0,nU6.default)(Q))}function tU6(Y,J,X){return(0,dU6.default)(Y,1/0,J,X)}function eU6(Y,J,X){var Z=(0,yU6.default)(Y)?sU6:tU6;return Z(Y,(0,oU6.default)(J),X)}x01.default=(0,aU6.default)(eU6,3);gU0.exports=x01.default});var dU0=q((f01,mU0)=>{Object.defineProperty(f01,"__esModule",{value:!0});f01.default=Jz6;function Jz6(Y){return(J,X,Z)=>Y(J,Z)}mU0.exports=f01.default});var rC=q((v01,cU0)=>{Object.defineProperty(v01,"__esModule",{value:!0});var Zz6=uU0(),Wz6=oC(Zz6),$z6=dU0(),Gz6=oC($z6),Qz6=MU(),Uz6=oC(Qz6),zz6=cK(),Hz6=oC(zz6);function oC(Y){return Y&&Y.__esModule?Y:{default:Y}}function Oz6(Y,J,X){return(0,Wz6.default)(Y,(0,Gz6.default)((0,Uz6.default)(J)),X)}v01.default=(0,Hz6.default)(Oz6,3);cU0.exports=v01.default});var pU0=q((oH8,lU0)=>{var Bz6=Object.prototype.toString;lU0.exports=function(J){if(typeof J.displayName==="string"&&J.constructor.name)return J.displayName;else if(typeof J.name==="string"&&J.name)return J.name;if(typeof J==="object"&&J.constructor&&typeof J.constructor.name==="string")return J.constructor.name;var X=J.toString(),Z=Bz6.call(J).slice(8,-1);if(Z==="Function")X=X.substring(X.indexOf("(")+1,X.indexOf(")"));else X=Z;return X||"anonymous"}});var h01=q((rH8,nU0)=>{var qz6=pU0();nU0.exports=function(J){var X=0,Z;function W(){if(X)return Z;return X=1,Z=J.apply(this,arguments),J=null,Z}return W.displayName=qz6(J),W}});var b01=q((Iz6)=>{Iz6.get=function(Y){var J=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var X={},Z=Error.prepareStackTrace;Error.prepareStackTrace=function($,G){return G},Error.captureStackTrace(X,Y||Iz6.get);var W=X.stack;return Error.prepareStackTrace=Z,Error.stackTraceLimit=J,W};Iz6.parse=function(Y){if(!Y.stack)return[];var J=this,X=Y.stack.split(`
`).slice(1);return X.map(function(Z){if(Z.match(/^\s*[-]{4,}$/))return J._createParsedCallSite({fileName:Z,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var W=Z.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(!W)return;var $=null,G=null,Q=null,U=null,z=null,H=W[5]==="native";if(W[1]){Q=W[1];var O=Q.lastIndexOf(".");if(Q[O-1]==".")O--;if(O>0){$=Q.substr(0,O),G=Q.substr(O+1);var K=$.indexOf(".Module");if(K>0)Q=Q.substr(K+1),$=$.substr(0,K)}U=null}if(G)U=$,z=G;if(G==="<anonymous>")z=null,Q=null;var B={fileName:W[2]||null,lineNumber:parseInt(W[3],10)||null,functionName:Q,typeName:U,methodName:z,columnNumber:parseInt(W[4],10)||null,native:H};return J._createParsedCallSite(B)}).filter(function(Z){return!!Z})};function Ew(Y){for(var J in Y)this[J]=Y[J]}var Fz6=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],Vz6=["topLevel","eval","native","constructor"];Fz6.forEach(function(Y){Ew.prototype[Y]=null,Ew.prototype["get"+Y[0].toUpperCase()+Y.substr(1)]=function(){return this[Y]}});Vz6.forEach(function(Y){Ew.prototype[Y]=!1,Ew.prototype["is"+Y[0].toUpperCase()+Y.substr(1)]=function(){return this[Y]}});Iz6._createParsedCallSite=function(Y){return new Ew(Y)}});var rU0=q((sH8,oU0)=>{var{Writable:Az6}=EU();oU0.exports=class extends Az6{constructor(J){super({objectMode:!0});if(!J)throw Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=J}_write(J,X,Z){if(J.exception)return this.transport.log(J,Z);return Z(),!0}}});var g01=q((tH8,tU0)=>{var aU0=C("os"),Pz6=rC(),y01=Lw()("winston:exception"),Lz6=h01(),sU0=b01(),Mz6=rU0();tU0.exports=class{constructor(J){if(!J)throw Error("Logger is required to handle exceptions");this.logger=J,this.handlers=new Map}handle(...J){if(J.forEach((X)=>{if(Array.isArray(X))return X.forEach((Z)=>this._addHandler(Z));this._addHandler(X)}),!this.catcher)this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher)}unhandle(){if(this.catcher)process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach((J)=>this.logger.unpipe(J))}getAllInfo(J){let X=null;if(J)X=typeof J==="string"?J:J.message;return{error:J,level:"error",message:[`uncaughtException: ${X||"(no error message)"}`,J&&J.stack||"  No stack trace"].join(`
`),stack:J&&J.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(J)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:aU0.loadavg(),uptime:aU0.uptime()}}getTrace(J){return(J?sU0.parse(J):sU0.get()).map((Z)=>{return{column:Z.getColumnNumber(),file:Z.getFileName(),function:Z.getFunctionName(),line:Z.getLineNumber(),method:Z.getMethodName(),native:Z.isNative()}})}_addHandler(J){if(!this.handlers.has(J)){J.handleExceptions=!0;let X=new Mz6(J);this.handlers.set(J,X),this.logger.pipe(X)}}_uncaughtException(J){let X=this.getAllInfo(J),Z=this._getExceptionHandlers(),W=typeof this.logger.exitOnError==="function"?this.logger.exitOnError(J):this.logger.exitOnError,$;if(!Z.length&&W)console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),W=!1;function G(){if(y01("doExit",W),y01("process._exiting",process._exiting),W&&!process._exiting){if($)clearTimeout($);process.exit(1)}}if(!Z||Z.length===0)return process.nextTick(G);if(Pz6(Z,(Q,U)=>{let z=Lz6(U),H=Q.transport||Q;function O(K){return()=>{y01(K),z()}}H._ending=!0,H.once("finish",O("finished")),H.once("error",O("error"))},()=>W&&G()),this.logger.log(X),W)$=setTimeout(G,3000)}_getExceptionHandlers(){return this.logger.transports.filter((J)=>{return(J.transport||J).handleExceptions})}}});var Yz0=q((eH8,eU0)=>{var{Writable:Ez6}=EU();eU0.exports=class extends Ez6{constructor(J){super({objectMode:!0});if(!J)throw Error("RejectionStream requires a TransportStream instance.");this.handleRejections=!0,this.transport=J}_write(J,X,Z){if(J.rejection)return this.transport.log(J,Z);return Z(),!0}}});var m01=q((YO8,Zz0)=>{var Jz0=C("os"),Tz6=rC(),u01=Lw()("winston:rejection"),Rz6=h01(),Xz0=b01(),Nz6=Yz0();Zz0.exports=class{constructor(J){if(!J)throw Error("Logger is required to handle rejections");this.logger=J,this.handlers=new Map}handle(...J){if(J.forEach((X)=>{if(Array.isArray(X))return X.forEach((Z)=>this._addHandler(Z));this._addHandler(X)}),!this.catcher)this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher)}unhandle(){if(this.catcher)process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach((J)=>this.logger.unpipe(J))}getAllInfo(J){let X=null;if(J)X=typeof J==="string"?J:J.message;return{error:J,level:"error",message:[`unhandledRejection: ${X||"(no error message)"}`,J&&J.stack||"  No stack trace"].join(`
`),stack:J&&J.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(J)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:Jz0.loadavg(),uptime:Jz0.uptime()}}getTrace(J){return(J?Xz0.parse(J):Xz0.get()).map((Z)=>{return{column:Z.getColumnNumber(),file:Z.getFileName(),function:Z.getFunctionName(),line:Z.getLineNumber(),method:Z.getMethodName(),native:Z.isNative()}})}_addHandler(J){if(!this.handlers.has(J)){J.handleRejections=!0;let X=new Nz6(J);this.handlers.set(J,X),this.logger.pipe(X)}}_unhandledRejection(J){let X=this.getAllInfo(J),Z=this._getRejectionHandlers(),W=typeof this.logger.exitOnError==="function"?this.logger.exitOnError(J):this.logger.exitOnError,$;if(!Z.length&&W)console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),W=!1;function G(){if(u01("doExit",W),u01("process._exiting",process._exiting),W&&!process._exiting){if($)clearTimeout($);process.exit(1)}}if(!Z||Z.length===0)return process.nextTick(G);if(Tz6(Z,(Q,U)=>{let z=Rz6(U),H=Q.transport||Q;function O(K){return()=>{u01(K),z()}}H._ending=!0,H.once("finish",O("finished")),H.once("error",O("error"))},()=>W&&G()),this.logger.log(X),W)$=setTimeout(G,3000)}_getRejectionHandlers(){return this.logger.transports.filter((J)=>{return(J.transport||J).handleRejections})}}});var Gz0=q((JO8,$z0)=>{class Wz0{constructor(Y){let J=aC();if(typeof Y!=="object"||Array.isArray(Y)||!(Y instanceof J))throw Error("Logger is required for profiling");else this.logger=Y,this.start=Date.now()}done(...Y){if(typeof Y[Y.length-1]==="function")console.warn("Callback function no longer supported as of winston@3.0.0"),Y.pop();let J=typeof Y[Y.length-1]==="object"?Y.pop():{};return J.level=J.level||"info",J.durationMs=Date.now()-this.start,this.logger.write(J)}}$z0.exports=Wz0});var aC=q((XO8,Hz0)=>{var{Stream:Sz6,Transform:Cz6}=EU(),Qz0=rC(),{LEVEL:Y3,SPLAT:Uz0}=u6(),zz0=k01(),jz6=g01(),kz6=m01(),_z6=ap(),xz6=Gz0(),{warn:fz6}=t11(),vz6=iC(),hz6=/%[scdjifoO%]/g;class d01 extends Cz6{constructor(Y){super({objectMode:!0});this.configure(Y)}child(Y){let J=this;return Object.create(J,{write:{value:function(X){let Z=Object.assign({},Y,X);if(X instanceof Error)Z.stack=X.stack,Z.message=X.message,Z.cause=X.cause;J.write(Z)}}})}configure({silent:Y,format:J,defaultMeta:X,levels:Z,level:W="info",exitOnError:$=!0,transports:G,colors:Q,emitErrs:U,formatters:z,padLevels:H,rewriters:O,stripColors:K,exceptionHandlers:B,rejectionHandlers:F}={}){if(this.transports.length)this.clear();if(this.silent=Y,this.format=J||this.format||n11()(),this.defaultMeta=X||null,this.levels=Z||this.levels||vz6.npm.levels,this.level=W,this.exceptions)this.exceptions.unhandle();if(this.rejections)this.rejections.unhandle();if(this.exceptions=new jz6(this),this.rejections=new kz6(this),this.profilers={},this.exitOnError=$,G)G=Array.isArray(G)?G:[G],G.forEach((V)=>this.add(V));if(Q||U||z||H||O||K)throw Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));if(B)this.exceptions.handle(B);if(F)this.rejections.handle(F)}getHighestLogLevel(){let Y=Tw(this.levels,this.level);if(!this.transports||this.transports.length===0)return Y;return this.transports.reduce((J,X)=>{let Z=Tw(this.levels,X.level);return Z!==null&&Z>J?Z:J},Y)}isLevelEnabled(Y){let J=Tw(this.levels,Y);if(J===null)return!1;let X=Tw(this.levels,this.level);if(X===null)return!1;if(!this.transports||this.transports.length===0)return X>=J;return this.transports.findIndex((W)=>{let $=Tw(this.levels,W.level);if($===null)$=X;return $>=J})!==-1}log(Y,J,...X){if(arguments.length===1)return Y[Y3]=Y.level,this._addDefaultMeta(Y),this.write(Y),this;if(arguments.length===2){if(J&&typeof J==="object")return J[Y3]=J.level=Y,this._addDefaultMeta(J),this.write(J),this;return J={[Y3]:Y,level:Y,message:J},this._addDefaultMeta(J),this.write(J),this}let[Z]=X;if(typeof Z==="object"&&Z!==null){if(!(J&&J.match&&J.match(hz6))){let $=Object.assign({},this.defaultMeta,Z,{[Y3]:Y,[Uz0]:X,level:Y,message:J});if(Z.message)$.message=`${$.message} ${Z.message}`;if(Z.stack)$.stack=Z.stack;if(Z.cause)$.cause=Z.cause;return this.write($),this}}return this.write(Object.assign({},this.defaultMeta,{[Y3]:Y,[Uz0]:X,level:Y,message:J})),this}_transform(Y,J,X){if(this.silent)return X();if(!Y[Y3])Y[Y3]=Y.level;if(!this.levels[Y[Y3]]&&this.levels[Y[Y3]]!==0)console.error("[winston] Unknown logger level: %s",Y[Y3]);if(!this._readableState.pipes)console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",Y);try{this.push(this.format.transform(Y,this.format.options))}finally{this._writableState.sync=!1,X()}}_final(Y){let J=this.transports.slice();Qz0(J,(X,Z)=>{if(!X||X.finished)return setImmediate(Z);X.once("finish",Z),X.end()},Y)}add(Y){let J=!zz0(Y)||Y.log.length>2?new _z6({transport:Y}):Y;if(!J._writableState||!J._writableState.objectMode)throw Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");if(this._onEvent("error",J),this._onEvent("warn",J),this.pipe(J),Y.handleExceptions)this.exceptions.handle();if(Y.handleRejections)this.rejections.handle();return this}remove(Y){if(!Y)return this;let J=Y;if(!zz0(Y)||Y.log.length>2)J=this.transports.filter((X)=>X.transport===Y)[0];if(J)this.unpipe(J);return this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){fz6.deprecated("setLevels")}query(Y,J){if(typeof Y==="function")J=Y,Y={};Y=Y||{};let X={},Z=Object.assign({},Y.query||{});function W(G,Q){if(Y.query&&typeof G.formatQuery==="function")Y.query=G.formatQuery(Z);G.query(Y,(U,z)=>{if(U)return Q(U);if(typeof G.formatResults==="function")z=G.formatResults(z,Y.format);Q(null,z)})}function $(G,Q){W(G,(U,z)=>{if(Q){if(z=U||z,z)X[G.name]=z;Q()}Q=null})}Qz0(this.transports.filter((G)=>!!G.query),$,()=>J(null,X))}stream(Y={}){let J=new Sz6,X=[];return J._streams=X,J.destroy=()=>{let Z=X.length;while(Z--)X[Z].destroy()},this.transports.filter((Z)=>!!Z.stream).forEach((Z)=>{let W=Z.stream(Y);if(!W)return;X.push(W),W.on("log",($)=>{$.transport=$.transport||[],$.transport.push(Z.name),J.emit("log",$)}),W.on("error",($)=>{$.transport=$.transport||[],$.transport.push(Z.name),J.emit("error",$)})}),J}startTimer(){return new xz6(this)}profile(Y,...J){let X=Date.now();if(this.profilers[Y]){let Z=this.profilers[Y];if(delete this.profilers[Y],typeof J[J.length-2]==="function")console.warn("Callback function no longer supported as of winston@3.0.0"),J.pop();let W=typeof J[J.length-1]==="object"?J.pop():{};return W.level=W.level||"info",W.durationMs=X-Z,W.message=W.message||Y,this.write(W)}return this.profilers[Y]=X,this}handleExceptions(...Y){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...Y)}unhandleExceptions(...Y){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...Y)}cli(){throw Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}_onEvent(Y,J){function X(Z){if(Y==="error"&&!this.transports.includes(J))this.add(J);this.emit(Y,Z,J)}if(!J["__winston"+Y])J["__winston"+Y]=X.bind(this),J.on(Y,J["__winston"+Y])}_addDefaultMeta(Y){if(this.defaultMeta)Object.assign(Y,this.defaultMeta)}}function Tw(Y,J){let X=Y[J];if(!X&&X!==0)return null;return X}Object.defineProperty(d01.prototype,"transports",{configurable:!1,enumerable:!0,get(){let{pipes:Y}=this._readableState;return!Array.isArray(Y)?[Y].filter(Boolean):Y}});Hz0.exports=d01});var c01=q((ZO8,Oz0)=>{var{LEVEL:bz6}=u6(),yz6=iC(),gz6=aC(),uz6=Lw()("winston:create-logger");function mz6(Y){return"is"+Y.charAt(0).toUpperCase()+Y.slice(1)+"Enabled"}Oz0.exports=function(Y={}){Y.levels=Y.levels||yz6.npm.levels;class J extends gz6{constructor(Z){super(Z)}}let X=new J(Y);return Object.keys(Y.levels).forEach(function(Z){if(uz6('Define prototype method for "%s"',Z),Z==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}J.prototype[Z]=function(...W){let $=this||X;if(W.length===1){let[G]=W,Q=G&&G.message&&G||{message:G};return Q.level=Q[bz6]=Z,$._addDefaultMeta(Q),$.write(Q),this||X}if(W.length===0)return $.log(Z,""),$;return $.log(Z,...W)},J.prototype[mz6(Z)]=function(){return(this||X).isLevelEnabled(Z)}}),X}});var Bz0=q((WO8,Kz0)=>{var dz6=c01();Kz0.exports=class{constructor(J={}){this.loggers=new Map,this.options=J}add(J,X){if(!this.loggers.has(J)){X=Object.assign({},X||this.options);let Z=X.transports||this.options.transports;if(Z)X.transports=Array.isArray(Z)?Z.slice():[Z];else X.transports=[];let W=dz6(X);W.on("close",()=>this._delete(J)),this.loggers.set(J,W)}return this.loggers.get(J)}get(J,X){return this.add(J,X)}has(J){return!!this.loggers.has(J)}close(J){if(J)return this._removeLogger(J);this.loggers.forEach((X,Z)=>this._removeLogger(Z))}_removeLogger(J){if(!this.loggers.has(J))return;this.loggers.get(J).close(),this._delete(J)}_delete(J){this.loggers.delete(J)}}});var Dz0=q((zY)=>{var qz0=a11(),{warn:Rw}=t11();zY.version=GQ0().version;zY.transports=yU0();zY.config=iC();zY.addColors=qz0.levels;zY.format=qz0.format;zY.createLogger=c01();zY.Logger=aC();zY.ExceptionHandler=g01();zY.RejectionHandler=m01();zY.Container=Bz0();zY.Transport=DQ();zY.loggers=new zY.Container;var J3=zY.createLogger();Object.keys(zY.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach((Y)=>zY[Y]=(...J)=>J3[Y](...J));Object.defineProperty(zY,"level",{get(){return J3.level},set(Y){J3.level=Y}});Object.defineProperty(zY,"exceptions",{get(){return J3.exceptions}});Object.defineProperty(zY,"rejections",{get(){return J3.rejections}});["exitOnError"].forEach((Y)=>{Object.defineProperty(zY,Y,{get(){return J3[Y]},set(J){J3[Y]=J}})});Object.defineProperty(zY,"default",{get(){return{exceptionHandlers:J3.exceptionHandlers,rejectionHandlers:J3.rejectionHandlers,transports:J3.transports}}});Rw.deprecated(zY,"setLevels");Rw.forFunctions(zY,"useFormat",["cli"]);Rw.forProperties(zY,"useFormat",["padLevels","stripColors"]);Rw.forFunctions(zY,"deprecated",["addRewriter","addFilter","clone","extend"]);Rw.forProperties(zY,"deprecated",["emitErrs","levelLength"])});function Pz0(){try{let Y=sC.context.active(),X=sC.trace.getSpan(Y)?.spanContext();return X?{traceId:X.traceId,spanId:X.spanId}:{}}catch{return{}}}class Lz0{logger;isInitialized=!1;fallbackLogs=[];otelTransport;constructor(){let Y=VE.LOG_LEVEL||"info";this.logger=X3.default.createLogger({level:Y,format:X3.default.format.combine(X3.default.format.timestamp(),X3.default.format.errors({stack:!0}),ez6(),Az0.default({convertErr:!0,convertReqRes:!0,apmIntegration:!0,serviceName:l01.serviceName,serviceVersion:l01.serviceVersion,serviceEnvironment:l01.environment})),transports:[new X3.default.transports.Console({format:X3.default.format.combine(X3.default.format.colorize({all:!0}),X3.default.format.simple())})]})}reinitialize(){if(this.isInitialized)return;try{if(!p01.logs.getLoggerProvider()){console.warn("Winston reinitialize: LoggerProvider not available, continuing with console only");return}this.otelTransport=new wz0.OpenTelemetryTransportV3,this.logger.add(this.otelTransport),this.isInitialized=!0,this.flushFallbackLogs(),this.logger.info("Winston logger reinitialized with OTLP transport",{component:"telemetry",operation:"logger_reinitialize"})}catch(Y){console.error("Failed to reinitialize Winston logger with OTLP:",Y)}}initialize(){this.reinitialize()}log(Y,J,X){let Z=this.createLogData(Y,J,X);this.emit(Z)}debug(Y,J){this.log("debug",Y,J)}info(Y,J){this.log("info",Y,J)}warn(Y,J){this.log("warn",Y,J)}error(Y,J,X){let Z=J instanceof Error?{error:{name:J.name,message:J.message,stack:J.stack},...X}:J?{error:String(J),...X}:X;this.log("error",Y,Z)}createLogData(Y,J,X){return{message:J,level:Y,timestamp:Date.now(),context:Pz0(),meta:X}}emit(Y){if(!this.isInitialized){if(this.fallbackLogs.push(Y),this.fallbackLogs.length>100)this.fallbackLogs.shift()}if(this.isInitialized){if(!AJ.getCircuitBreaker().canExecute()){this.logToWinston(Y);return}}try{if(this.logToWinston(Y),this.isInitialized)AJ.recordExporterSuccess("logs"),AJ.getCircuitBreaker().recordSuccess()}catch(J){if(this.isInitialized)AJ.recordExporterFailure("logs",J),AJ.getCircuitBreaker().recordFailure();this.directConsoleLog(Y,J)}}logToWinston(Y){this.logger.log({level:Y.level,message:Y.message,...Y.context,...Y.meta})}directConsoleLog(Y,J){let X={"@timestamp":new Date(Y.timestamp).toISOString(),message:Y.message,level:Y.level,...Y.meta,_fallbackError:J instanceof Error?J.message:String(J)};switch(Y.level){case"debug":console.debug(`${Y.level}: ${Y.message}`,JSON.stringify(X));break;case"info":console.info(`${Y.level}: ${Y.message}`,JSON.stringify(X));break;case"warn":console.warn(`${Y.level}: ${Y.message}`,JSON.stringify(X));break;case"error":console.error(`${Y.level}: ${Y.message}`,JSON.stringify(X));break}}flushFallbackLogs(){if(this.fallbackLogs.length>0&&this.isInitialized){console.info(`Flushing ${this.fallbackLogs.length} fallback logs to OTLP`);for(let Y of this.fallbackLogs)this.emit(Y);this.fallbackLogs=[]}}getLogger(){return this.logger}isOTLPEnabled(){return this.isInitialized}}function L1(Y,J){F9.info(Y,J)}function h0(Y,J){F9.debug(Y,J)}function _8(Y,J){F9.warn(Y,J)}function s1(Y,J,X){F9.error(Y,J,X)}function F4(Y,J,X){F9.error(Y,J,X)}var sC,p01,wz0,Az0,X3,tz6,ez6,l01,F9,Nw;var RU=w(()=>{f5();iK();sC=q1(t(),1),p01=q1(F5(),1),wz0=q1(ep(),1),Az0=q1(i$0(),1),X3=q1(Dz0(),1),tz6={consumerId:"consumer.id",username:"consumer.name",requestId:"event.id",totalDuration:"event.duration"};ez6=X3.default.format((Y)=>{for(let[X,Z]of Object.entries(tz6))if(X in Y)Y[Z]=Y[X],delete Y[X];let J=Pz0();if(J.traceId)Y["trace.id"]=J.traceId;if(J.spanId)Y["span.id"]=J.spanId;return Y}),l01={serviceName:OW.SERVICE_NAME||"capellaql",serviceVersion:OW.SERVICE_VERSION||"2.0.0",environment:"development"};F9=new Lz0,Nw=F9});import Sw from"os";async function i01(){if(hz0()){_8("OpenTelemetry already initialized, skipping");return}try{if(O8=OW,!O8.ENABLE_OPENTELEMETRY){if(tC={export:(D,L)=>{eC.recordExportAttempt(),eC.recordExportSuccess(),L({code:0})},forceFlush:()=>Promise.resolve(),shutdown:()=>Promise.resolve(),selectAggregationTemporality:()=>1},Mz0={forceFlush:()=>Promise.resolve(),shutdown:()=>Promise.resolve()},process.env.DEBUG_OTEL_EXPORTERS==="true")console.debug("OpenTelemetry instrumentation is disabled");return}if(process.env.DEBUG_OTEL_EXPORTERS==="true")console.debug("Initializing 2025-compliant OpenTelemetry SDK...",{serviceName:O8.SERVICE_NAME,serviceVersion:O8.SERVICE_VERSION,environment:O8.DEPLOYMENT_ENVIRONMENT,exportTimeout:O8.EXPORT_TIMEOUT_MS});NU.diag.setLogger(new NU.DiagConsoleLogger,O8.DEPLOYMENT_ENVIRONMENT==="development"?NU.DiagLogLevel.INFO:NU.DiagLogLevel.WARN);let Y=XH6(O8),J=new Sz0.OTLPTraceExporter({url:O8.TRACES_ENDPOINT,timeoutMillis:O8.EXPORT_TIMEOUT_MS}),X=C$0(J,bz0),Z=new Nz0.OTLPMetricExporter({url:O8.METRICS_ENDPOINT,timeoutMillis:O8.EXPORT_TIMEOUT_MS});tC=k$0(Z,eC);let $=new Rz0.OTLPLogExporter({url:O8.LOGS_ENDPOINT,timeoutMillis:O8.EXPORT_TIMEOUT_MS}),G=j$0($,yz0),Q=new vz0.BatchSpanProcessor(X,{maxExportBatchSize:10,scheduledDelayMillis:1000});if(!tC)throw Error("metricExporter must be initialized before creating PeriodicExportingMetricReader");let U=new xz0.PeriodicExportingMetricReader({exporter:tC,exportIntervalMillis:O8.METRIC_READER_INTERVAL});Mz0=U;let z=new Xj.BatchLogRecordProcessor(G);Yj=new Xj.LoggerProvider({resource:Y,processors:[z]}),Ez0.logs.setGlobalLoggerProvider(Yj);let H=new oK.CompositePropagator({propagators:[new oK.W3CTraceContextPropagator,new oK.W3CBaggagePropagator]}),O=Tz0.getNodeAutoInstrumentations({"@opentelemetry/instrumentation-aws-lambda":{enabled:!1},"@opentelemetry/instrumentation-aws-sdk":{enabled:!1},"@opentelemetry/instrumentation-fs":{enabled:!1},"@opentelemetry/instrumentation-winston":{enabled:!1},"@opentelemetry/instrumentation-runtime-node":{enabled:!1},"@opentelemetry/instrumentation-grpc":{enabled:!1},"@opentelemetry/instrumentation-http":{enabled:!0,ignoreIncomingRequestHook:(V)=>{return V.url?.includes("/health")||!1}}}),K=new jz0.GraphQLInstrumentation({allowValues:!0,depth:-1,mergeItems:!0}),B=new kz0.RedisInstrumentation({dbStatementSerializer:(V,I)=>{let D=I.map((L,A)=>{let P=L instanceof Buffer?L.toString():String(L);if(V.toUpperCase()==="SET"&&A===1)return"***";if(V.toUpperCase()==="GET"&&P.includes("consumer_secret"))return"consumer_secret:***";return P});return[V,...D].join(" ")}}),F=[...O,K,B];if(Cw=new fz0.NodeSDK({resource:Y,autoDetectResources:!1,textMapPropagator:H,spanProcessors:[Q],metricReaders:[U],instrumentations:[F]}),Cw.start(),Jj=new Cz0.HostMetrics({}),Jj.start(),F9.reinitialize(),YH6(),o01(),process.env.DEBUG_OTEL_EXPORTERS==="true")console.debug("OpenTelemetry SDK initialized successfully",{tracesEndpoint:O8.TRACES_ENDPOINT,metricsEndpoint:O8.METRICS_ENDPOINT,logsEndpoint:O8.LOGS_ENDPOINT,batchSize:O8.BATCH_SIZE,exportTimeoutMs:O8.EXPORT_TIMEOUT_MS});ZH6()}catch(Y){throw console.error("Failed to initialize OpenTelemetry SDK:",Y),Y}}function XH6(Y){let J={[u5.ATTR_SERVICE_NAME]:Y.SERVICE_NAME,[u5.ATTR_SERVICE_VERSION]:Y.SERVICE_VERSION,[u5.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT]:Y.DEPLOYMENT_ENVIRONMENT,[u5.SEMRESATTRS_SERVICE_NAMESPACE]:"capella-graphql-api",[u5.SEMRESATTRS_SERVICE_INSTANCE_ID]:Y.runtime?.HOSTNAME||Y.runtime?.INSTANCE_ID||Sw.hostname(),[u5.ATTR_TELEMETRY_SDK_NAME]:"opentelemetry",[u5.ATTR_TELEMETRY_SDK_LANGUAGE]:"nodejs",[u5.ATTR_TELEMETRY_SDK_VERSION]:"2.0.1","runtime.name":"bun","runtime.version":typeof Bun<"u"?Bun.version:process.version,"process.pid":process.pid,"process.executable.name":typeof Bun<"u"?"bun":"node","process.executable.path":process.execPath,"process.command":process.argv[1]||"unknown","process.runtime.name":typeof Bun<"u"?"bun":"nodejs","process.runtime.version":typeof Bun<"u"?Bun.version:process.version,"host.name":Sw.hostname(),"host.arch":Sw.arch(),"host.type":Sw.type(),"host.cpu.family":Sw.cpus()[0]?.model||"unknown",...Y.runtime?.CONTAINER_ID&&{"container.id":Y.runtime.CONTAINER_ID},...Y.runtime?.K8S_POD_NAME&&{"k8s.pod.name":Y.runtime.K8S_POD_NAME},...Y.runtime?.K8S_NAMESPACE&&{"k8s.namespace.name":Y.runtime.K8S_NAMESPACE}};return _z0.resourceFromAttributes(J)}function ZH6(){let Y=async(J)=>{if(process.env.DEBUG_OTEL_EXPORTERS==="true")console.debug(`Received ${J}, shutting down OpenTelemetry SDK gracefully...`);try{if(await gz0(),process.env.DEBUG_OTEL_EXPORTERS==="true")console.debug("OpenTelemetry SDK shut down successfully")}catch(X){console.error("Error during OpenTelemetry SDK shutdown:",X)}};process.on("SIGTERM",()=>Y("SIGTERM")),process.on("SIGINT",()=>Y("SIGINT")),process.on("SIGQUIT",()=>Y("SIGQUIT"))}async function gz0(){if(Jj)Jj=void 0;if(Yj)try{await Yj.shutdown()}catch(Y){console.warn("Error shutting down LoggerProvider:",Y)}if(Cw)try{await Cw.shutdown(),Cw=void 0,JH6()}catch(Y){console.warn("Error shutting down OpenTelemetry:",Y)}}function jw(){return bz0.getStats()}function kw(){return eC}function _w(){return yz0.getStats()}function xw(){return hz0()}var Ez0,NU,Tz0,oK,Rz0,Nz0,Sz0,Cz0,jz0,kz0,_z0,Xj,xz0,fz0,vz0,u5,Cw,Yj,Jj,tC,Mz0,O8,n01="__capellaql_otel_initialized__",hz0=()=>globalThis[n01]===!0,YH6=()=>{globalThis[n01]=!0},JH6=()=>{globalThis[n01]=!1},bz0,eC,yz0;var Zj=w(()=>{f5();bK();iK();RU();Ez0=q1(F5(),1),NU=q1(t(),1),Tz0=q1(Mu1(),1),oK=q1(k1(),1),Rz0=q1($o(),1),Nz0=q1(FI(),1),Sz0=q1(Vo(),1),Cz0=q1(no1(),1),jz0=q1(kc(),1),kz0=q1(xs1(),1),_z0=q1(PX(),1),Xj=q1(vI(),1),xz0=q1(WZ(),1),fz0=q1(T$0(),1),vz0=q1(iQ(),1),u5=q1(X0(),1),bz0=fC(),eC=fC(),yz0=fC()});function $j(){return Object.values(fw).map((Y)=>Y.name)}var fw,Wj;var Gj=w(()=>{fw={httpRequestsTotal:{name:"http_requests_total",description:"Total number of HTTP requests",unit:"1",type:"counter"},httpRequestDurationSeconds:{name:"http_request_duration_seconds",description:"HTTP request duration in seconds",unit:"s",type:"histogram"},httpActiveRequests:{name:"http_active_requests",description:"Number of active HTTP requests",unit:"1",type:"updowncounter"},graphqlOperationsTotal:{name:"graphql_operations_total",description:"Total number of GraphQL operations",unit:"1",type:"counter"},graphqlOperationDurationSeconds:{name:"graphql_operation_duration_seconds",description:"GraphQL operation duration in seconds",unit:"s",type:"histogram"},graphqlResolverDurationSeconds:{name:"graphql_resolver_duration_seconds",description:"GraphQL resolver execution duration in seconds",unit:"s",type:"histogram"},graphqlErrorsTotal:{name:"graphql_errors_total",description:"Total number of GraphQL errors",unit:"1",type:"counter"},dbOperationsTotal:{name:"db_operations_total",description:"Total number of database operations",unit:"1",type:"counter"},dbOperationDurationSeconds:{name:"db_operation_duration_seconds",description:"Database operation duration in seconds",unit:"s",type:"histogram"},dbActiveConnections:{name:"db_active_connections",description:"Number of active database connections",unit:"1",type:"updowncounter"},dbConnectionPoolSize:{name:"db_connection_pool_size",description:"Current database connection pool size",unit:"1",type:"observable_gauge"},cacheOperationsTotal:{name:"cache_operations_total",description:"Total number of cache operations",unit:"1",type:"counter"},cacheHitsTotal:{name:"cache_hits_total",description:"Total number of cache hits",unit:"1",type:"counter"},cacheMissesTotal:{name:"cache_misses_total",description:"Total number of cache misses",unit:"1",type:"counter"},cacheSizeBytes:{name:"cache_size_bytes",description:"Current cache size in bytes",unit:"By",type:"observable_gauge"},circuitBreakerStateChangesTotal:{name:"circuit_breaker_state_changes_total",description:"Total number of circuit breaker state changes",unit:"1",type:"counter"},circuitBreakerRequestsTotal:{name:"circuit_breaker_requests_total",description:"Total requests through circuit breaker",unit:"1",type:"counter"},circuitBreakerRejectedTotal:{name:"circuit_breaker_rejected_total",description:"Total requests rejected by open circuit breaker",unit:"1",type:"counter"},processMemoryUsageBytes:{name:"process_memory_usage_bytes",description:"Process memory usage (RSS) in bytes",unit:"By",type:"observable_gauge"},processHeapUsedBytes:{name:"process_heap_used_bytes",description:"Process heap used in bytes",unit:"By",type:"observable_gauge"},processHeapTotalBytes:{name:"process_heap_total_bytes",description:"Process total heap in bytes",unit:"By",type:"observable_gauge"},processCpuUsagePercent:{name:"process_cpu_usage_percent",description:"Process CPU usage percentage",unit:"1",type:"observable_gauge"},gcCollectionsTotal:{name:"gc_collections_total",description:"Total number of garbage collections",unit:"1",type:"counter"},gcDurationSeconds:{name:"gc_duration_seconds",description:"Garbage collection duration in seconds",unit:"s",type:"histogram"},gcHeapSizeBeforeBytes:{name:"gc_old_generation_size_before_bytes",description:"Heap size before garbage collection",unit:"By",type:"observable_gauge"},gcHeapSizeAfterBytes:{name:"gc_old_generation_size_after_bytes",description:"Heap size after garbage collection",unit:"By",type:"observable_gauge"},telemetryExportsTotal:{name:"telemetry_exports_total",description:"Total number of telemetry exports",unit:"1",type:"counter"},telemetryExportFailuresTotal:{name:"telemetry_export_failures_total",description:"Total number of telemetry export failures",unit:"1",type:"counter"},telemetryExportDurationSeconds:{name:"telemetry_export_duration_seconds",description:"Telemetry export duration in seconds",unit:"s",type:"histogram"},telemetryQueueSize:{name:"telemetry_queue_size",description:"Current telemetry queue size",unit:"1",type:"observable_gauge"},errorsTotal:{name:"errors_total",description:"Total number of errors",unit:"1",type:"counter"},errorsByTypeTotal:{name:"errors_by_type_total",description:"Total errors by type",unit:"1",type:"counter"},securityEventsTotal:{name:"security_events_total",description:"Total number of security events",unit:"1",type:"counter"}},Wj=Object.keys(fw).length});class mz0{circuitBreakers=new Map;mainCircuitBreaker;constructor(){let Y=b3(),J=Y.telemetry.CIRCUIT_BREAKER_THRESHOLD,X=Y.telemetry.CIRCUIT_BREAKER_TIMEOUT_MS,Z=["traces","metrics","logs"];for(let W of Z)this.circuitBreakers.set(W,new GX({failureThreshold:J,recoveryTimeoutMs:X,successThreshold:3}));this.mainCircuitBreaker=new GX({failureThreshold:J,recoveryTimeoutMs:X,successThreshold:3})}markInitialized(){uz0=new Date().toISOString()}getCircuitBreaker(){return this.mainCircuitBreaker}getSignalCircuitBreaker(Y){return this.circuitBreakers.get(Y)}recordExporterSuccess(Y){this.mainCircuitBreaker.recordSuccess(),this.circuitBreakers.get(Y)?.recordSuccess()}recordExporterFailure(Y,J){this.mainCircuitBreaker.recordFailure(),this.circuitBreakers.get(Y)?.recordFailure()}getTelemetryHealthStatus(){let J=b3().telemetry,X=xw(),Z=jw(),W=kw().getStats(),$=_w(),G=Z.total+W.total+$.total,Q=Z.failures+W.failures+$.failures,U=G-Q,z=G>0?Math.round(U/G*100):100,H={total:3,closed:0,open:0,halfOpen:0},O={};for(let[R,N]of this.circuitBreakers){let v=N.getHealthStatus(),j=N.getStats(),M;if(v.state==="CLOSED")H.closed++,M="closed";else if(v.state==="OPEN")H.open++,M="open";else H.halfOpen++,M="half-open";O[R]={state:M,failureCount:j.totalFailures,successCount:j.totalAttempts-j.totalFailures,lastFailureTime:j.lastFailureTime||0,lastSuccessTime:j.lastSuccessTime||0,totalRequests:j.totalAttempts,rejectedRequests:0,lastStateChange:Date.now()}}let K=this.determineExportsStatus(z),B=this.determineCircuitBreakerStatus(H),F=this.determineConfigStatus(J),V=[X?"healthy":"critical",K,B,F],I;if(V.includes("critical"))I="critical";else if(V.includes("degraded"))I="degraded";else I="healthy";let D=[],L=[];if(!X)L.push({severity:"critical",message:"Telemetry not initialized",component:"initialization"}),D.push("Check telemetry configuration and restart the service");if(z<80)L.push({severity:"critical",message:`Export success rate is ${z}%`,component:"exports"}),D.push("Check OTLP endpoint connectivity and authentication");else if(z<95)L.push({severity:"warning",message:`Export success rate is ${z}%`,component:"exports"}),D.push("Monitor export failures for patterns");if(H.open>0)L.push({severity:"critical",message:`${H.open} circuit breaker(s) open`,component:"circuitBreakers"}),D.push("Investigate telemetry backend connectivity issues");let A=[...Z.recentErrors,...W.recentErrors,...$.recentErrors].slice(-10),P=$j();return{overall:I,timestamp:new Date().toISOString(),components:{initialization:{status:X?"healthy":"failed",initialized:X,initializationTime:uz0||void 0},exports:{status:K,stats:{totalExports:G,successCount:U,failureCount:Q,successRate:z,lastExportTime:Z.lastExportTime||W.lastExportTime||$.lastExportTime,lastSuccessTime:Z.lastExportTime||W.lastExportTime||$.lastExportTime,lastFailureTime:Z.lastFailureTime||W.lastFailureTime||$.lastFailureTime,recentErrors:A}},circuitBreakers:{status:B,summary:H,details:O},metrics:{status:X?"healthy":"degraded",instrumentCount:Wj,availableMetrics:P},configuration:{status:F,mode:J.ENABLE_OPENTELEMETRY?"otlp":"disabled",endpoints:{traces:J.TRACES_ENDPOINT,metrics:J.METRICS_ENDPOINT,logs:J.LOGS_ENDPOINT},exportTimeout:J.EXPORT_TIMEOUT_MS,batchSize:J.BATCH_SIZE,queueSize:J.MAX_QUEUE_SIZE}},recommendations:D,alerts:L}}getHealthData(){let Y=this.mainCircuitBreaker.getHealthStatus(),J=process.memoryUsage(),X=jw(),Z=kw().getStats(),W=_w(),$=this.statsToExporterHealth("traces",X),G=this.statsToExporterHealth("metrics",Z),Q=this.statsToExporterHealth("logs",W),U=[$.status,G.status,Q.status],z;if(U.every((K)=>K==="healthy")&&Y.isHealthy)z="healthy";else if(U.some((K)=>K==="unhealthy")||!Y.isHealthy)z="unhealthy";else z="degraded";let O=b3().telemetry;return{timestamp:Date.now(),status:z,exporters:{traces:$,metrics:G,logs:Q},circuitBreaker:{state:Y.state,isHealthy:Y.isHealthy,successRate:Y.successRate,canExecute:Y.canExecute,totalAttempts:this.mainCircuitBreaker.getStats().totalAttempts,totalFailures:this.mainCircuitBreaker.getStats().totalFailures},configuration:{serviceName:O.SERVICE_NAME,serviceVersion:O.SERVICE_VERSION,exportTimeoutMs:O.EXPORT_TIMEOUT_MS,batchSize:O.BATCH_SIZE,maxQueueSize:O.MAX_QUEUE_SIZE},runtime:{memoryUsageMB:Math.round(J.heapUsed/1024/1024),uptimeMs:process.uptime()*1000,environment:O.DEPLOYMENT_ENVIRONMENT,version:O.SERVICE_VERSION}}}determineExportsStatus(Y){if(Y>=95)return"healthy";if(Y>=80)return"degraded";return"critical"}determineCircuitBreakerStatus(Y){if(Y.open>0)return"critical";if(Y.halfOpen>0)return"degraded";return"healthy"}determineConfigStatus(Y){if(!Y.TRACES_ENDPOINT||!Y.METRICS_ENDPOINT||!Y.LOGS_ENDPOINT)return"misconfigured";return"healthy"}statsToExporterHealth(Y,J){let X=parseInt(J.successRate.replace("%",""),10)||0,Z;if(J.total===0)Z="healthy";else if(X>=95)Z="healthy";else if(X>=80)Z="degraded";else Z="unhealthy";return{name:Y,status:Z,lastExportTime:J.lastExportTime,exportCount:J.total,failureCount:J.failures,successRate:J.successRate}}}function Z3(){return AJ.getHealthData()}function o01(){AJ.markInitialized()}var uz0=null,AJ;var iK=w(()=>{f5();Zj();Gj();IF();AJ=new mz0});var Qj=w(()=>{iK()});function zj(){if(Uj){console.warn("HTTP metrics already initialized");return}try{let Y=rK.metrics.getMeter("capellaql-http-metrics","1.0.0");a01=Y.createCounter("http_requests_total",{description:"Total number of HTTP requests",unit:"1"}),s01=Y.createHistogram("http_response_time_seconds",{description:"HTTP request response time in seconds",unit:"s"}),Uj=!0}catch(Y){console.error("Error initializing HTTP metrics:",Y)}}function Hj(Y,J,X){if(!Uj||!a01){console.warn("HTTP metrics not initialized, skipping request recording");return}try{let Z={method:Y.toUpperCase(),route:J,...X&&{status_code:X.toString()}};a01.add(1,Z)}catch(Z){console.error("Error recording HTTP request:",Z)}}function Oj(Y,J,X,Z){if(!Uj||!s01){console.warn("HTTP metrics not initialized, skipping response time recording");return}try{let W=Y/1000,$={};if(J)$.method=J.toUpperCase();if(X)$.route=X;if(Z)$.status_code=Z.toString();let G=rK.context.active(),Q=rK.trace.getSpan(G);if(Q){let U=Q.spanContext();if(U.traceId)$.trace_id=U.traceId}s01.record(W,$)}catch(W){console.error("Error recording HTTP response time:",W)}}var rK,a01,s01,Uj=!1;var t01=w(()=>{rK=q1(t(),1)});var lz0=w(()=>{f5();Qj();t01();iK()});var pz0=w(()=>{Gj()});var e01=()=>{};var iz0=w(()=>{pz0();Gj();t01();Qj();e01()});var x8=w(()=>{RU()});async function Y41(Y,J,X){let Z=vw.trace.getTracer("couchbase-client","1.0.0"),W={"db.system":"couchbase","db.operation":"search","db.couchbase.collections_count":Y.length,"db.couchbase.keys_count":J.length,"db.couchbase.collections":Y.map(($)=>`${$.bucket}.${$.scope}.${$.collection}`).join(",")};return await Z.startActiveSpan("couchbase.multi_collection_search",{attributes:W},async($)=>{let G=Date.now();try{let Q=await X(),U=Date.now()-G;return $.setAttributes({"db.operation.duration_ms":U,"db.operation.success":!0}),$.setStatus({code:vw.SpanStatusCode.OK}),Q}catch(Q){let U=Date.now()-G;if($.setAttributes({"db.operation.duration_ms":U,"db.operation.success":!1}),Q instanceof Error)$.setAttributes({"db.operation.error_name":Q.name,"db.operation.error_message":Q.message}),$.recordException(Q);throw $.setStatus({code:vw.SpanStatusCode.ERROR,message:Q instanceof Error?Q.message:String(Q)}),Q}finally{$.end()}})}var vw;var oz0=w(()=>{x8();Qj();vw=q1(t(),1)});var J41,X41,nO8,CH6,jH6,kH6;var rz0=w(()=>{IF();IF();J41={failureThreshold:5,recoveryTimeoutMs:60000,successThreshold:3,timeWindowMs:60000},X41={traces:new GX(J41),metrics:new GX(J41),logs:new GX(J41)},nO8={traces:"CLOSED",metrics:"CLOSED",logs:"CLOSED"},CH6=X41.traces,jH6=X41.metrics,kH6=X41.logs});var az0=()=>{};class Z41{pendingMessages=[];isOTLPEnabled=!1;constructor(){this.isOTLPEnabled=F9.isOTLPEnabled()}logShutdownSequence(Y){let J=Y.length;for(let X=0;X<Y.length;X++){let Z=Y[X],W={...Z,timestamp:Date.now(),sequencePosition:X+1,totalSteps:J};this.pendingMessages.push(W),F9.info(Z.message,{component:"lifecycle",operation:"shutdown_sequence",shutdownStep:Z.step,shutdownSequence:!0,sequencePosition:X+1,totalSteps:J,pid:process.pid,...Z.metadata})}}logLifecycleEvent(Y,J,X){F9.info(Y,{component:"lifecycle",operation:J,pid:process.pid,...X})}async flushShutdownMessages(){let Y=this.pendingMessages.length;if(Y===0)return;if(this.isOTLPEnabled=F9.isOTLPEnabled(),this.isOTLPEnabled)await this.sleep(500),console.info("Lifecycle observability: Successfully flushed shutdown messages",{component:"lifecycle",operation:"shutdown_flush_complete",messageCount:Y,telemetryMode:"otlp"});else console.info("Lifecycle observability: Console-only mode, messages logged",{component:"lifecycle",operation:"console_only_flush",messageCount:Y});this.pendingMessages=[]}getPendingMessageCount(){return this.pendingMessages.length}sleep(Y){return new Promise((J)=>setTimeout(J,Y))}static generateShutdownSequence(Y){return[{message:`Service shutdown initiated via ${Y}`,step:"shutdown_initiated",metadata:{reason:"signal_received",signal:Y}},{message:"Stopping HTTP server and rejecting new connections",step:"http_server_stop"},{message:"Flushing telemetry data and metrics",step:"telemetry_flush"},{message:"Stopping profiling service",step:"profiling_shutdown"},{message:"Closing external service connections",step:"external_services_shutdown"},{message:"Service shutdown completed successfully",step:"shutdown_completed",metadata:{exitCode:0}}]}static generateStartupSequence(){return[{message:"Service startup initiated",step:"startup_initiated",metadata:{pid:process.pid}},{message:"Loading configuration",step:"config_load"},{message:"Initializing telemetry",step:"telemetry_init"},{message:"Connecting to external services",step:"external_services_connect"},{message:"Starting HTTP server",step:"http_server_start"},{message:"Service startup completed successfully",step:"startup_completed",metadata:{status:"ready"}}]}}var _H6;var sz0=w(()=>{RU();_H6=new Z41});var W41=()=>{};var tz0=w(()=>{RU();W41()});var m5=w(()=>{f5();_W1();IF();lz0();iK();Zj();RU();iz0();oz0();rz0();az0();e01();sz0();W41();tz0()});var JH0=q((UB8,YH0)=>{var ez0=()=>process.platform==="linux",Kj=null,fH6=()=>{if(!Kj)if(ez0()&&process.report){let Y=process.report.excludeNetwork;process.report.excludeNetwork=!0,Kj=process.report.getReport(),process.report.excludeNetwork=Y}else Kj={};return Kj};YH0.exports={isLinux:ez0,getReport:fH6}});var ZH0=q((zB8,XH0)=>{var aK=C("fs"),vH6=(Y)=>{let J=aK.openSync(Y,"r"),X=Buffer.alloc(2048),Z=aK.readSync(J,X,0,2048,0);return aK.close(J,()=>{}),X.subarray(0,Z)},hH6=(Y)=>new Promise((J,X)=>{aK.open(Y,"r",(Z,W)=>{if(Z)X(Z);else{let $=Buffer.alloc(2048);aK.read(W,$,0,2048,0,(G,Q)=>{J($.subarray(0,Q)),aK.close(W,()=>{})})}})});XH0.exports={LDD_PATH:"/usr/bin/ldd",SELF_PATH:"/proc/self/exe",readFileSync:vH6,readFile:hH6}});var $H0=q((HB8,WH0)=>{var bH6=(Y)=>{if(Y.length<64)return null;if(Y.readUInt32BE(0)!==2135247942)return null;if(Y.readUInt8(4)!==2)return null;if(Y.readUInt8(5)!==1)return null;let J=Y.readUInt32LE(32),X=Y.readUInt16LE(54),Z=Y.readUInt16LE(56);for(let W=0;W<Z;W++){let $=J+W*X;if(Y.readUInt32LE($)===3){let Q=Y.readUInt32LE($+8),U=Y.readUInt32LE($+32);return Y.subarray(Q,Q+U).toString().replace(/\0.*$/g,"")}}return null};WH0.exports={interpreterPath:bH6}});var MH0=q((OB8,LH0)=>{var QH0=C("child_process"),{isLinux:sK,getReport:UH0}=JH0(),{LDD_PATH:Bj,SELF_PATH:zH0,readFile:$41,readFileSync:G41}=ZH0(),{interpreterPath:HH0}=$H0(),W3,$3,G3,f$="",OH0=()=>{if(!f$)return new Promise((Y)=>{QH0.exec("getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true",(J,X)=>{f$=J?" ":X,Y(f$)})});return f$},KH0=()=>{if(!f$)try{f$=QH0.execSync("getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true",{encoding:"utf8"})}catch(Y){f$=" "}return f$},TZ="glibc",BH0=/LIBC[a-z0-9 \-).]*?(\d+\.\d+)/i,SU="musl",yH6=(Y)=>Y.includes("libc.musl-")||Y.includes("ld-musl-"),qH0=()=>{let Y=UH0();if(Y.header&&Y.header.glibcVersionRuntime)return TZ;if(Array.isArray(Y.sharedObjects)){if(Y.sharedObjects.some(yH6))return SU}return null},FH0=(Y)=>{let[J,X]=Y.split(/[\r\n]+/);if(J&&J.includes(TZ))return TZ;if(X&&X.includes(SU))return SU;return null},VH0=(Y)=>{if(Y){if(Y.includes("/ld-musl-"))return SU;else if(Y.includes("/ld-linux-"))return TZ}return null},IH0=(Y)=>{if(Y=Y.toString(),Y.includes("musl"))return SU;if(Y.includes("GNU C Library"))return TZ;return null},gH6=async()=>{if($3!==void 0)return $3;$3=null;try{let Y=await $41(Bj);$3=IH0(Y)}catch(Y){}return $3},uH6=()=>{if($3!==void 0)return $3;$3=null;try{let Y=G41(Bj);$3=IH0(Y)}catch(Y){}return $3},mH6=async()=>{if(W3!==void 0)return W3;W3=null;try{let Y=await $41(zH0),J=HH0(Y);W3=VH0(J)}catch(Y){}return W3},dH6=()=>{if(W3!==void 0)return W3;W3=null;try{let Y=G41(zH0),J=HH0(Y);W3=VH0(J)}catch(Y){}return W3},DH0=async()=>{let Y=null;if(sK()){if(Y=await mH6(),!Y){if(Y=await gH6(),!Y)Y=qH0();if(!Y){let J=await OH0();Y=FH0(J)}}}return Y},wH0=()=>{let Y=null;if(sK()){if(Y=dH6(),!Y){if(Y=uH6(),!Y)Y=qH0();if(!Y){let J=KH0();Y=FH0(J)}}}return Y},cH6=async()=>sK()&&await DH0()!==TZ,lH6=()=>sK()&&wH0()!==TZ,pH6=async()=>{if(G3!==void 0)return G3;G3=null;try{let J=(await $41(Bj)).match(BH0);if(J)G3=J[1]}catch(Y){}return G3},nH6=()=>{if(G3!==void 0)return G3;G3=null;try{let J=G41(Bj).match(BH0);if(J)G3=J[1]}catch(Y){}return G3},AH0=()=>{let Y=UH0();if(Y.header&&Y.header.glibcVersionRuntime)return Y.header.glibcVersionRuntime;return null},GH0=(Y)=>Y.trim().split(/\s+/)[1],PH0=(Y)=>{let[J,X,Z]=Y.split(/[\r\n]+/);if(J&&J.includes(TZ))return GH0(J);if(X&&Z&&X.includes(SU))return GH0(Z);return null},iH6=async()=>{let Y=null;if(sK()){if(Y=await pH6(),!Y)Y=AH0();if(!Y){let J=await OH0();Y=PH0(J)}}return Y},oH6=()=>{let Y=null;if(sK()){if(Y=nH6(),!Y)Y=AH0();if(!Y){let J=KH0();Y=PH0(J)}}return Y};LH0.exports={GLIBC:TZ,MUSL:SU,family:DH0,familySync:wH0,isNonGlibcLinux:cH6,isNonGlibcLinuxSync:lH6,version:iH6,versionSync:oH6}});var hw=q((KB8,rH6)=>{rH6.exports={name:"cmake-js",description:"CMake.js - a Node.js native addon build tool",license:"MIT",keywords:["native","addon","module","c","c++","bindings","build","buildtools","cmake","nw.js","electron","boost","nan","napi","node-api","node-addon-api"],main:"lib",version:"8.0.0",author:"G\xE1bor Mez\u0151 aka unbornchikken",maintainers:[{name:"Julian Waller",email:"git@julusian.co.uk",url:"https://github.com/julusian/"}],repository:{type:"git",url:"git://github.com/cmake-js/cmake-js.git"},bin:{"cmake-js":"./bin/cmake-js"},engines:{node:"^20.17.0 || >=22.9.0"},dependencies:{debug:"^4.4.3","fs-extra":"^11.3.3","node-api-headers":"^1.8.0",rc:"1.2.8",semver:"^7.7.3",tar:"^7.5.6","url-join":"^4.0.1",which:"^6.0.0",yargs:"^17.7.2"},devDependencies:{eslint:"^8.56.0","eslint-config-prettier":"^9.1.0",mocha:"*",nan:"^2.25.0","node-addon-api":"^6.1.0",prettier:"^3.8.1"},scripts:{test:"mocha tests",lint:"eslint lib bin/cmake-js tests"},files:["lib","bin","*.md","bindings.js","bindings.d.ts"],packageManager:"yarn@1.22.22+sha256.c17d3797fb9a9115bf375e31bfd30058cac6bc9c3b8807a3d8cb2094794b51ca"}});var CH0=q((BB8,SH0)=>{var __filename="/Users/Simon.Owusu@Tommy.com/WebstormProjects/CapellaQL/node_modules/couchbase/scripts/prebuilds.js",f8=C("fs"),W4=C("path"),EH0=C("child_process"),{familySync:aH6,MUSL:sH6}=MH0(),TH0=typeof __webpack_require__==="function"?__non_webpack_require__:C,tH6=["darwin","linux","linuxmusl","win32"],eH6=["x64","arm64"],YO6=["napi","electron"],NZ=KO6()?"electron":"node",Q41=UO6(),JO6=RH0(Q41),qj=process.arch,v$=process.platform,bw=QO6(v$),XO6=HO6(NZ,Q41),ZO6=W4.resolve(W4.dirname(__filename),".."),RZ=process.env.CN_CXXCBC_CACHE_DIR||W4.join(ZO6,"deps","couchbase-cxx-cache"),tK=["true","1","y","yes","on"];function WO6(Y,J,X,Z,W){if(Y=Y||process.env.CN_PREBUILD_RUNTIME||"node",J=J||process.env.CN_PREBUILD_RUNTIME_VERSION||process.version.replace("v",""),typeof X>"u")X=tK.includes((process.env.CN_USE_OPENSSL||"true").toLowerCase());let $=process.env.CN_REARRANGE_PATH||!1;if($&&!["null","false","undefined","0","n","no","off"].includes($.toLowerCase())){let B=process.env.PATH.split(W4.delimiter),F=[],V=[];B.forEach((I)=>{if(I.includes("node_modules"))V.push(I);else F.push(I)}),F.push(...V),process.env.PATH=F.join(W4.delimiter)}let Q=[W4.join(C.resolve("/Users/Simon.Owusu@Tommy.com/WebstormProjects/CapellaQL/node_modules/cmake-js/package.json"),"..",hw().bin["cmake-js"]),Z?"compile":"build","--runtime",Y,"--runtime-version",J,"--parallel",W],U=process.env.CN_BUILD_CONFIG;if(U&&["Debug","Release","RelWithDebInfo"].includes(U))Q.push(...["--config",`${U}`]);let z=process.env.CN_CMAKE_GENERATOR_PLATFORM;if(z)Q.push(`--generator=${z}`);if(!X)Q.push("--CDUSE_STATIC_OPENSSL=OFF");if(tK.includes((process.env.CN_USE_CPM_CACHE||"true").toLowerCase())){if(!f8.existsSync(RZ))throw Error(`Cannot use cached dependencies, path=${RZ} does not exist.`);Q.push(...["--CDCPM_DOWNLOAD_ALL=OFF","--CDCPM_USE_NAMED_CACHE_DIRECTORIES=ON","--CDCPM_USE_LOCAL_PACKAGES=OFF",`--CDCPM_SOURCE_CACHE=${RZ}`,`--CDCOUCHBASE_CXX_CLIENT_EMBED_MOZILLA_CA_BUNDLE_ROOT=${RZ}`])}if(tK.includes((process.env.CN_VERBOSE_MAKEFILE||"false").toLowerCase()))Q.push("--CDCMAKE_VERBOSE_MAKEFILE=ON");let H=process.env.CN_CMAKE_SYSTEM_VERSION;if(H)Q.push(`--CDCMAKE_SYSTEM_VERSION=${H}`);let O=process.env.CN_CACHE_OPTION;if(O)Q.push(`--CDCACHE_OPTION=${O}`);let K=EH0.spawnSync(process.execPath,Q,{stdio:"inherit"});process.exit(K.status)}function $O6(Y,J,X,Z,W){if(Y=Y||process.env.CN_PREBUILD_RUNTIME||"node",J=J||process.env.CN_PREBUILD_RUNTIME_VERSION||process.version.replace("v",""),typeof X>"u")X=tK.includes((process.env.CN_USE_OPENSSL||"true").toLowerCase());if(typeof Z>"u")Z=tK.includes((process.env.CN_SET_CPM_CACHE||"false").toLowerCase());let G=[W4.join(C.resolve("/Users/Simon.Owusu@Tommy.com/WebstormProjects/CapellaQL/node_modules/cmake-js/package.json"),"..",hw().bin["cmake-js"]),"configure","--runtime",Y,"--runtime-version",J,"--parallel",W];if(Z){if(f8.existsSync(RZ))f8.rmSync(`${RZ}`,{recursive:!0});G.push(...[`--CDCOUCHBASE_CXX_CPM_CACHE_DIR=${RZ}`,"--CDCPM_DOWNLOAD_ALL=ON","--CDCPM_USE_NAMED_CACHE_DIRECTORIES=ON","--CDCPM_USE_LOCAL_PACKAGES=OFF"])}if(!X)G.push("--CDUSE_STATIC_OPENSSL=OFF");let Q=EH0.spawnSync(process.execPath,G,{stdio:"inherit"});if(!Q.status){if(!X){let z=W4.join(RZ,"boringssl");if(f8.existsSync(z)){let H=f8.readdirSync(z);if(H.length==1&&f8.statSync(W4.join(z,H[0])).isDirectory()){z=W4.join(z,H[0],"boringssl"),H=f8.readdirSync(z);let O=H.find((K)=>K=="crypto_test_data.cc");if(O)f8.rmSync(W4.join(z,O))}}}let U=W4.join(RZ,"cpm");if(f8.existsSync(U)){let z=f8.readdirSync(U);if(z.length==1&&z[0].endsWith(".cmake")){let H=f8.readFileSync(W4.join(U,z[0]),"utf-8");H=H.replace(/Git REQUIRED/g,"Git"),f8.writeFileSync(W4.join(U,z[0]),H,"utf-8")}}}process.exit(Q.status)}function GO6(Y){let J=["build",W4.join("build","Release"),W4.join("build","RelWithDebInfo"),W4.join("build","Debug")],X=void 0;for(let Z=0;Z<J.length;Z++)try{let W=W4.join(Y,J[Z]),$=z41(W).filter(U41);if(X=$[0]&&W4.join(W,$[0]),X)break}catch(W){}return X}function QO6(Y){if(Y!=="linux")return"";return`linux${aH6()===sH6?"musl":""}`}function RH0(Y){let J=Y.split(".");return parseInt(J[0])}function UO6(){return process.version.replace("v","")}function zO6(Y){Y=W4.resolve(Y||".");let J={packageDir:W4.join(Y,"package.json"),platformPackageDir:void 0},X=JSON.parse(f8.readFileSync(J.packageDir)).name;if(X!==void 0){let W=`${X}-${v$==="linux"?bw:v$}-${qj}-${NZ==="node"?"napi":NZ}`,$=`@${X}/${W}`,G=C("module").createRequire(W4.join(Y,"package.json"));J.packageDir=W4.dirname(W4.join(Y,"package.json")),J.platformPackageDir=W4.dirname(G.resolve($))}return J}function HO6(Y,J){if(Y==="electron")return"boringssl";if(RH0(J)>=18)return"openssl3";return"openssl1"}function OO6(Y){if(Y=Y||"couchbase",Y!=="couchbase")throw Error("Cannot build supported platform packages for package other than couchbase.");let J=[];return tH6.forEach((X)=>{eH6.forEach((Z)=>{if(X==="win32"&&Z==="arm64")return;YO6.forEach((W)=>{J.push(`${Y}-${X}-${Z}-${W}`)})})}),J}function KO6(){if(process.versions&&process.versions.electron)return!0;if(process.env.ELECTRON_RUN_AS_NODE)return!0;return typeof window<"u"&&window.process&&window.process.type==="renderer"}function BO6(Y){return TH0(NH0(Y))}function U41(Y){return/\.node$/.test(Y)}function qO6(Y,J=!1){if(["index.js","package.json","README.md"].includes(Y))return!1;let X="";if(J)X="electron";else if(NZ==="node")X="napi";else if(NZ==="electron")X="electron";else return console.log(`Unsupported runtime: ${NZ}`),!1;let Z=Y.split("-");if(Z.length<7)return!1;let W=Z[Z.length-1].replace(".node","");if(X==="electron"){if(W!=="boringssl")return!1}else{let G=["boringssl"];if(JO6>=18)G.push("openssl3");else G.push("openssl1");if(!G.includes(W))return!1}if(Z[Z.length-2]!==qj)return!1;let $=v$==="linux"?bw:v$;if(Z[Z.length-3]!==$)return!1;if(!U41(Y))return!1;return!0}function z41(Y){try{return f8.readdirSync(Y)}catch(J){return[]}}async function FO6(Y,J){if(f8.existsSync(Y)){let X=z41(Y).filter(U41);if(X&&X.length>=1){if(!f8.existsSync(J))f8.mkdirSync(J,{recursive:!0});try{f8.copyFileSync(W4.join(Y,X[0]),W4.join(J,X[0]))}catch(Z){}}}}function NH0(Y,{runtimeResolve:J=!0,useElectronRuntime:X=!1}={}){Y=W4.resolve(Y||".");let Z="";if(X)Z="electron";else if(NZ==="node")Z="napi";else if(NZ==="electron")Z="electron";else throw Error(`Unsupported runtime: ${NZ}`);try{let $=GO6(Y);if($)return $;let G=J?TH0(W4.join(Y,"package.json")).name:JSON.parse(f8.readFileSync(W4.join(Y,"package.json"))).name;if(G!==void 0){let Q=OO6(G),U=`${G}-${v$==="linux"?bw:v$}-${qj}-${Z}`;if(Q.includes(U)){let z=`@${G}/${U}`,H=C("module").createRequire(W4.join(Y,"package.json")),O=W4.dirname(H.resolve(z));if(O!==void 0){let K=z41(O).filter((B)=>{return qO6(B,X)});if(K&&K.length==1)return W4.join(O,K[0])}}}}catch($){}let W=[`platform=${v$}`,`arch=${qj}`,`runtime=${Z}`,`nodeVersion=${Q41}`,`sslType=${XO6}`];if(bw)W.push(`libc=${bw}`);if(typeof __webpack_require__==="function")W.push("webpack=true");throw Error(`Could not find native build for ${W.join(", ")} loaded from ${Y}.`)}SH0.exports={ENV_TRUE:tK,buildBinary:WO6,configureBinary:$O6,getPrebuildsInfo:zO6,loadPrebuild:BO6,resolveLocalPrebuild:FO6,resolvePrebuild:NH0}});var CU=q((V1)=>{var __dirname="/Users/Simon.Owusu@Tommy.com/WebstormProjects/CapellaQL/node_modules/couchbase/dist",VO6=V1&&V1.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(V1,"__esModule",{value:!0});V1.CppTransactionsExternalException=V1.CppTransactionsFailureType=V1.CppVectorQueryCombination=V1.CppReadPreference=V1.CppReplicateTo=V1.CppPersistTo=V1.CppStoreSemantics=V1.CppImplSubdocOpcode=V1.CppKeyValueStatusCode=V1.CppErrcNetwork=V1.CppErrcFieldLevelEncryption=V1.CppErrcManagement=V1.CppErrcView=V1.CppErrcSearch=V1.CppErrcAnalytics=V1.CppErrcQuery=V1.CppErrcKeyValue=V1.CppErrcCommon=V1.CppDurabilityLevel=V1.CppAnalyticsResponseAnalyticsStatus=V1.CppViewSortOrder=V1.CppViewScanConsistency=V1.CppViewOnError=V1.CppServiceType=V1.CppSearchScanConsistency=V1.CppSearchHighlightStyle=V1.CppQueryScanConsistency=V1.CppQueryProfile=V1.CppDiagPingState=V1.CppDiagEndpointState=V1.CppDiagClusterState=V1.CppDesignDocumentNamespace=V1.CppAnalyticsScanConsistency=V1.CppProtocolSubdocOpcode=V1.CppRetryReason=V1.CppManagementRbacAuthDomain=V1.CppManagementEventingFunctionProcessingStatus=V1.CppManagementEventingFunctionDeploymentStatus=V1.CppManagementEventingFunctionStatus=V1.CppManagementEventingFunctionBucketAccess=V1.CppManagementEventingFunctionLogLevel=V1.CppManagementEventingFunctionLanguageCompatibility=V1.CppManagementEventingFunctionDcpBoundary=V1.CppManagementClusterBucketStorageBackend=V1.CppManagementClusterBucketConflictResolution=V1.CppManagementClusterBucketEvictionPolicy=V1.CppManagementClusterBucketCompression=V1.CppManagementClusterBucketType=V1.CppManagementAnalyticsCouchbaseLinkEncryptionLevel=V1.zeroCas=void 0;V1.CppTransactionsTransactionGetMultiReplicasFromPreferredServerGroupMode=V1.CppTransactionsTransactionGetMultiMode=void 0;var IO6=VO6(C("path"));V1.zeroCas=0;var jH0;(function(Y){})(jH0||(V1.CppManagementAnalyticsCouchbaseLinkEncryptionLevel=jH0={}));var kH0;(function(Y){})(kH0||(V1.CppManagementClusterBucketType=kH0={}));var _H0;(function(Y){})(_H0||(V1.CppManagementClusterBucketCompression=_H0={}));var xH0;(function(Y){})(xH0||(V1.CppManagementClusterBucketEvictionPolicy=xH0={}));var fH0;(function(Y){})(fH0||(V1.CppManagementClusterBucketConflictResolution=fH0={}));var vH0;(function(Y){})(vH0||(V1.CppManagementClusterBucketStorageBackend=vH0={}));var hH0;(function(Y){})(hH0||(V1.CppManagementEventingFunctionDcpBoundary=hH0={}));var bH0;(function(Y){})(bH0||(V1.CppManagementEventingFunctionLanguageCompatibility=bH0={}));var yH0;(function(Y){})(yH0||(V1.CppManagementEventingFunctionLogLevel=yH0={}));var gH0;(function(Y){})(gH0||(V1.CppManagementEventingFunctionBucketAccess=gH0={}));var uH0;(function(Y){})(uH0||(V1.CppManagementEventingFunctionStatus=uH0={}));var mH0;(function(Y){})(mH0||(V1.CppManagementEventingFunctionDeploymentStatus=mH0={}));var dH0;(function(Y){})(dH0||(V1.CppManagementEventingFunctionProcessingStatus=dH0={}));var cH0;(function(Y){})(cH0||(V1.CppManagementRbacAuthDomain=cH0={}));var lH0;(function(Y){})(lH0||(V1.CppRetryReason=lH0={}));var pH0;(function(Y){})(pH0||(V1.CppProtocolSubdocOpcode=pH0={}));var nH0;(function(Y){})(nH0||(V1.CppAnalyticsScanConsistency=nH0={}));var iH0;(function(Y){})(iH0||(V1.CppDesignDocumentNamespace=iH0={}));var oH0;(function(Y){})(oH0||(V1.CppDiagClusterState=oH0={}));var rH0;(function(Y){})(rH0||(V1.CppDiagEndpointState=rH0={}));var aH0;(function(Y){})(aH0||(V1.CppDiagPingState=aH0={}));var sH0;(function(Y){})(sH0||(V1.CppQueryProfile=sH0={}));var tH0;(function(Y){})(tH0||(V1.CppQueryScanConsistency=tH0={}));var eH0;(function(Y){})(eH0||(V1.CppSearchHighlightStyle=eH0={}));var YO0;(function(Y){})(YO0||(V1.CppSearchScanConsistency=YO0={}));var JO0;(function(Y){})(JO0||(V1.CppServiceType=JO0={}));var XO0;(function(Y){})(XO0||(V1.CppViewOnError=XO0={}));var ZO0;(function(Y){})(ZO0||(V1.CppViewScanConsistency=ZO0={}));var WO0;(function(Y){})(WO0||(V1.CppViewSortOrder=WO0={}));var $O0;(function(Y){})($O0||(V1.CppAnalyticsResponseAnalyticsStatus=$O0={}));var GO0;(function(Y){})(GO0||(V1.CppDurabilityLevel=GO0={}));var QO0;(function(Y){})(QO0||(V1.CppErrcCommon=QO0={}));var UO0;(function(Y){})(UO0||(V1.CppErrcKeyValue=UO0={}));var zO0;(function(Y){})(zO0||(V1.CppErrcQuery=zO0={}));var HO0;(function(Y){})(HO0||(V1.CppErrcAnalytics=HO0={}));var OO0;(function(Y){})(OO0||(V1.CppErrcSearch=OO0={}));var KO0;(function(Y){})(KO0||(V1.CppErrcView=KO0={}));var BO0;(function(Y){})(BO0||(V1.CppErrcManagement=BO0={}));var qO0;(function(Y){})(qO0||(V1.CppErrcFieldLevelEncryption=qO0={}));var FO0;(function(Y){})(FO0||(V1.CppErrcNetwork=FO0={}));var VO0;(function(Y){})(VO0||(V1.CppKeyValueStatusCode=VO0={}));var IO0;(function(Y){})(IO0||(V1.CppImplSubdocOpcode=IO0={}));var DO0;(function(Y){})(DO0||(V1.CppStoreSemantics=DO0={}));var wO0;(function(Y){})(wO0||(V1.CppPersistTo=wO0={}));var AO0;(function(Y){})(AO0||(V1.CppReplicateTo=AO0={}));var PO0;(function(Y){})(PO0||(V1.CppReadPreference=PO0={}));var LO0;(function(Y){})(LO0||(V1.CppVectorQueryCombination=LO0={}));var MO0;(function(Y){})(MO0||(V1.CppTransactionsFailureType=MO0={}));var EO0;(function(Y){})(EO0||(V1.CppTransactionsExternalException=EO0={}));var TO0;(function(Y){})(TO0||(V1.CppTransactionsTransactionGetMultiMode=TO0={}));var RO0;(function(Y){})(RO0||(V1.CppTransactionsTransactionGetMultiReplicasFromPreferredServerGroupMode=RO0={}));var DO6=process.env.CN_PREBUILD_PATH_OVERRIDE?C(process.env.CN_PREBUILD_PATH_OVERRIDE):CH0().loadPrebuild(IO6.default.resolve(__dirname,".."));V1.default=DO6});var Fj=q((xO0)=>{Object.defineProperty(xO0,"__esModule",{value:!0});xO0.AnalyticsScanConsistency=xO0.AnalyticsMetrics=xO0.AnalyticsWarning=xO0.AnalyticsMetaData=xO0.AnalyticsResult=xO0.AnalyticsStatus=void 0;var NO0;(function(Y){Y.Running="running",Y.Success="success",Y.Errors="errors",Y.Completed="completed",Y.Stopped="stopped",Y.Timeout="timeout",Y.Closed="closed",Y.Fatal="fatal",Y.Aborted="aborted",Y.Unknown="unknown"})(NO0||(xO0.AnalyticsStatus=NO0={}));class CO0{constructor(Y){this.rows=Y.rows,this.meta=Y.meta}}xO0.AnalyticsResult=CO0;class jO0{constructor(Y){this.requestId=Y.requestId,this.clientContextId=Y.clientContextId,this.status=Y.status,this.signature=Y.signature,this.warnings=Y.warnings,this.metrics=Y.metrics}}xO0.AnalyticsMetaData=jO0;class kO0{constructor(Y){this.code=Y.code,this.message=Y.message}}xO0.AnalyticsWarning=kO0;class _O0{constructor(Y){this.elapsedTime=Y.elapsedTime,this.executionTime=Y.executionTime,this.resultCount=Y.resultCount,this.resultSize=Y.resultSize,this.errorCount=Y.errorCount,this.processedObjects=Y.processedObjects,this.warningCount=Y.warningCount}}xO0.AnalyticsMetrics=_O0;var SO0;(function(Y){Y.NotBounded="not_bounded",Y.RequestPlus="request_plus"})(SO0||(xO0.AnalyticsScanConsistency=SO0={}))});var Vj=q((mO0)=>{Object.defineProperty(mO0,"__esModule",{value:!0});mO0.HttpErrorContext=mO0.AnalyticsErrorContext=mO0.SearchErrorContext=mO0.QueryErrorContext=mO0.ViewErrorContext=mO0.KeyValueErrorContext=mO0.ErrorContext=void 0;class h${constructor(Y){this.last_dispatched_to=Y.last_dispatched_to||"",this.last_dispatched_from=Y.last_dispatched_from||"",this.retry_attempts=Y.retry_attempts||0,this.retry_reasons=Y.retry_reasons||[]}}mO0.ErrorContext=h$;class vO0 extends h${constructor(Y){super(Y);this.status_code=Y.status_code,this.opaque=Y.opaque,this.cas=Y.cas,this.key=Y.key,this.bucket=Y.bucket,this.collection=Y.collection,this.scope=Y.scope,this.context=Y.context,this.ref=Y.ref}}mO0.KeyValueErrorContext=vO0;class hO0 extends h${constructor(Y){super(Y);this.design_document=Y.design_document,this.view=Y.view,this.parameters=Y.parameters,this.http_response_code=Y.http_response_code,this.http_response_body=Y.http_response_body}}mO0.ViewErrorContext=hO0;class bO0 extends h${constructor(Y){super(Y);this.statement=Y.statement,this.client_context_id=Y.client_context_id,this.parameters=Y.parameters,this.http_response_code=Y.http_response_code,this.http_response_body=Y.http_response_body}}mO0.QueryErrorContext=bO0;class yO0 extends h${constructor(Y){super(Y);this.index_name=Y.index_name,this.query=Y.query,this.parameters=Y.parameters,this.http_response_code=Y.http_response_code,this.http_response_body=Y.http_response_body}}mO0.SearchErrorContext=yO0;class gO0 extends h${constructor(Y){super(Y);this.statement=Y.statement,this.client_context_id=Y.client_context_id,this.parameters=Y.parameters,this.http_response_code=Y.http_response_code,this.http_response_body=Y.http_response_body}}mO0.AnalyticsErrorContext=gO0;class uO0 extends h${constructor(Y){super(Y);this.method=Y.method,this.request_path=Y.request_path,this.response_code=Y.response_code,this.response_body=Y.response_body}}mO0.HttpErrorContext=uO0});var HY=q((wB0)=>{Object.defineProperty(wB0,"__esModule",{value:!0});wB0.DocumentNotJsonError=wB0.ValueInvalidError=wB0.ValueTooDeepError=wB0.PathTooDeepError=wB0.PathTooBigError=wB0.PathInvalidError=wB0.PathMismatchError=wB0.PathNotFoundError=wB0.MutationLostError=wB0.DurableWriteReCommitInProgressError=wB0.DurableWriteInProgressError=wB0.DurabilityAmbiguousError=wB0.DurabilityImpossibleError=wB0.DurabilityLevelNotAvailableError=wB0.ValueNotJsonError=wB0.DocumentExistsError=wB0.ValueTooLargeError=wB0.DocumentNotLockedError=wB0.DocumentLockedError=wB0.DocumentUnretrievableError=wB0.DocumentNotFoundError=wB0.IndexExistsError=wB0.QuotaLimitedError=wB0.RateLimitedError=wB0.IndexNotFoundError=wB0.ScopeNotFoundError=wB0.FeatureNotAvailableError=wB0.UnambiguousTimeoutError=wB0.AmbiguousTimeoutError=wB0.UnsupportedOperationError=wB0.DecodingFailureError=wB0.EncodingFailureError=wB0.CollectionNotFoundError=wB0.BucketNotFoundError=wB0.CasMismatchError=wB0.ParsingFailureError=wB0.TemporaryFailureError=wB0.AuthenticationFailureError=wB0.InternalServerFailureError=wB0.ServiceNotAvailableError=wB0.InvalidArgumentError=wB0.RequestCanceledError=wB0.TimeoutError=wB0.InvalidDurabilityReplicateToLevel=wB0.InvalidDurabilityPersistToLevel=wB0.InvalidDurabilityLevel=wB0.NeedOpenBucketError=wB0.ClusterClosedError=wB0.ConnectionClosedError=wB0.CouchbaseError=void 0;wB0.TransactionCommitAmbiguousError=wB0.TransactionExpiredError=wB0.TransactionFailedError=wB0.TransactionOperationFailedError=wB0.EventingFunctionPausedError=wB0.EventingFunctionDeployedError=wB0.EventingFunctionNotBootstrappedError=wB0.EventingFunctionIdenticalKeyspaceError=wB0.EventingFunctionCompilationFailureError=wB0.EventingFunctionNotDeployedError=wB0.EventingFunctionNotFoundError=wB0.BucketNotFlushableError=wB0.UserExistsError=wB0.BucketExistsError=wB0.GroupNotFoundError=wB0.UserNotFoundError=wB0.ScopeExistsError=wB0.CollectionExistsError=wB0.DesignDocumentNotFoundError=wB0.ViewNotFoundError=wB0.LinkExistsError=wB0.LinkNotFoundError=wB0.DataverseExistsError=wB0.DatasetExistsError=wB0.DataverseNotFoundError=wB0.DatasetNotFoundError=wB0.JobQueueFullError=wB0.CompilationFailureError=wB0.IndexNotReadyError=wB0.DmlFailureError=wB0.PreparedStatementFailureError=wB0.IndexFailureError=wB0.PlanningFailureError=wB0.PathExistsError=wB0.DeltaInvalidError=wB0.NumberTooBigError=void 0;Vj();class N1 extends Error{constructor(Y,J,X){super(Y);this.name=this.constructor.name,this.stack=void 0,this.cause=J,this.context=X}}wB0.CouchbaseError=N1;class cO0 extends N1{constructor(){super("The connection has been closed.")}}wB0.ConnectionClosedError=cO0;class lO0 extends N1{constructor(){super("The parent cluster object has been closed.")}}wB0.ClusterClosedError=lO0;class pO0 extends N1{constructor(){super("You must have one open bucket before you can perform queries.")}}wB0.NeedOpenBucketError=pO0;class nO0 extends N1{constructor(){super("An invalid durability level was specified.")}}wB0.InvalidDurabilityLevel=nO0;class iO0 extends N1{constructor(){super("An invalid durability PersistTo level was specified.")}}wB0.InvalidDurabilityPersistToLevel=iO0;class oO0 extends N1{constructor(){super("An invalid durability ReplicateTo level was specified.")}}wB0.InvalidDurabilityReplicateToLevel=oO0;class Ij extends N1{constructor(Y,J){super("timeout",Y,J)}}wB0.TimeoutError=Ij;class rO0 extends N1{constructor(Y,J){super("request canceled",Y,J)}}wB0.RequestCanceledError=rO0;class aO0 extends N1{constructor(Y,J){super("invalid argument",Y,J)}}wB0.InvalidArgumentError=aO0;class sO0 extends N1{constructor(Y,J){super("service not available",Y,J)}}wB0.ServiceNotAvailableError=sO0;class tO0 extends N1{constructor(Y,J){super("internal server failure",Y,J)}}wB0.InternalServerFailureError=tO0;class eO0 extends N1{constructor(Y,J){super("authentication failure",Y,J)}}wB0.AuthenticationFailureError=eO0;class YK0 extends N1{constructor(Y,J){super("temporary failure",Y,J)}}wB0.TemporaryFailureError=YK0;class JK0 extends N1{constructor(Y,J){super("parsing failure",Y,J)}}wB0.ParsingFailureError=JK0;class XK0 extends N1{constructor(Y,J){super("cas mismatch",Y,J)}}wB0.CasMismatchError=XK0;class ZK0 extends N1{constructor(Y,J){super("bucket not found",Y,J)}}wB0.BucketNotFoundError=ZK0;class WK0 extends N1{constructor(Y,J){super("collection not found",Y,J)}}wB0.CollectionNotFoundError=WK0;class $K0 extends N1{constructor(Y,J){super("encoding failure",Y,J)}}wB0.EncodingFailureError=$K0;class GK0 extends N1{constructor(Y,J){super("decoding failure",Y,J)}}wB0.DecodingFailureError=GK0;class QK0 extends N1{constructor(Y,J){super("unsupported operation",Y,J)}}wB0.UnsupportedOperationError=QK0;class UK0 extends Ij{constructor(Y,J){super(Y,J);this.message="ambiguous timeout"}}wB0.AmbiguousTimeoutError=UK0;class zK0 extends Ij{constructor(Y,J){super(Y,J);this.message="unambiguous timeout"}}wB0.UnambiguousTimeoutError=zK0;class HK0 extends N1{constructor(Y,J){super("feature not available",Y,J)}}wB0.FeatureNotAvailableError=HK0;class OK0 extends N1{constructor(Y,J){super("scope not found",Y,J)}}wB0.ScopeNotFoundError=OK0;class KK0 extends N1{constructor(Y,J){super("index not found",Y,J)}}wB0.IndexNotFoundError=KK0;class BK0 extends N1{constructor(Y,J){super("operation was rate limited",Y,J)}}wB0.RateLimitedError=BK0;class qK0 extends N1{constructor(Y,J){super("operation was quota limited",Y,J)}}wB0.QuotaLimitedError=qK0;class FK0 extends N1{constructor(Y,J){super("index exists",Y,J)}}wB0.IndexExistsError=FK0;class VK0 extends N1{constructor(Y,J){super("document not found",Y,J)}}wB0.DocumentNotFoundError=VK0;class IK0 extends N1{constructor(Y,J){super("document unretrievable",Y,J)}}wB0.DocumentUnretrievableError=IK0;class DK0 extends N1{constructor(Y,J){super("document locked",Y,J)}}wB0.DocumentLockedError=DK0;class wK0 extends N1{constructor(Y,J){super("document not locked",Y,J)}}wB0.DocumentNotLockedError=wK0;class AK0 extends N1{constructor(Y,J){super("value too large",Y,J)}}wB0.ValueTooLargeError=AK0;class PK0 extends N1{constructor(Y,J){super("document exists",Y,J)}}wB0.DocumentExistsError=PK0;class LK0 extends N1{constructor(Y,J){super("value not json",Y,J)}}wB0.ValueNotJsonError=LK0;class MK0 extends N1{constructor(Y,J){super("durability level not available",Y,J)}}wB0.DurabilityLevelNotAvailableError=MK0;class EK0 extends N1{constructor(Y,J){super("durability impossible",Y,J)}}wB0.DurabilityImpossibleError=EK0;class TK0 extends N1{constructor(Y,J){super("durability ambiguous",Y,J)}}wB0.DurabilityAmbiguousError=TK0;class RK0 extends N1{constructor(Y,J){super("durable write in progress",Y,J)}}wB0.DurableWriteInProgressError=RK0;class NK0 extends N1{constructor(Y,J){super("durable write recommit in progress",Y,J)}}wB0.DurableWriteReCommitInProgressError=NK0;class SK0 extends N1{constructor(Y,J){super("mutation lost",Y,J)}}wB0.MutationLostError=SK0;class CK0 extends N1{constructor(Y,J){super("path not found",Y,J)}}wB0.PathNotFoundError=CK0;class jK0 extends N1{constructor(Y,J){super("path mismatch",Y,J)}}wB0.PathMismatchError=jK0;class kK0 extends N1{constructor(Y,J){super("path invalid",Y,J)}}wB0.PathInvalidError=kK0;class _K0 extends N1{constructor(Y,J){super("path too big",Y,J)}}wB0.PathTooBigError=_K0;class xK0 extends N1{constructor(Y,J){super("path too deep",Y,J)}}wB0.PathTooDeepError=xK0;class fK0 extends N1{constructor(Y,J){super("value too deep",Y,J)}}wB0.ValueTooDeepError=fK0;class vK0 extends N1{constructor(Y,J){super("value invalid",Y,J)}}wB0.ValueInvalidError=vK0;class hK0 extends N1{constructor(Y,J){super("document not json",Y,J)}}wB0.DocumentNotJsonError=hK0;class bK0 extends N1{constructor(Y,J){super("number too big",Y,J)}}wB0.NumberTooBigError=bK0;class yK0 extends N1{constructor(Y,J){super("delta invalid",Y,J)}}wB0.DeltaInvalidError=yK0;class gK0 extends N1{constructor(Y,J){super("path exists",Y,J)}}wB0.PathExistsError=gK0;class uK0 extends N1{constructor(Y,J){super("planning failure",Y,J)}}wB0.PlanningFailureError=uK0;class mK0 extends N1{constructor(Y,J){super("index failure",Y,J)}}wB0.IndexFailureError=mK0;class dK0 extends N1{constructor(Y,J){super("prepared statement failure",Y,J)}}wB0.PreparedStatementFailureError=dK0;class cK0 extends N1{constructor(Y,J){super("generic dml failure",Y,J)}}wB0.DmlFailureError=cK0;class lK0 extends N1{constructor(Y,J){super("index not ready",Y,J)}}wB0.IndexNotReadyError=lK0;class pK0 extends N1{constructor(Y,J){super("compilation failure",Y,J)}}wB0.CompilationFailureError=pK0;class nK0 extends N1{constructor(Y,J){super("job queue full",Y,J)}}wB0.JobQueueFullError=nK0;class iK0 extends N1{constructor(Y,J){super("dataset not found",Y,J)}}wB0.DatasetNotFoundError=iK0;class oK0 extends N1{constructor(Y,J){super("dataverse not found",Y,J)}}wB0.DataverseNotFoundError=oK0;class rK0 extends N1{constructor(Y,J){super("dataset exists",Y,J)}}wB0.DatasetExistsError=rK0;class aK0 extends N1{constructor(Y,J){super("dataverse exists",Y,J)}}wB0.DataverseExistsError=aK0;class sK0 extends N1{constructor(Y,J){super("link not found",Y,J)}}wB0.LinkNotFoundError=sK0;class tK0 extends N1{constructor(Y,J){super("link already exists",Y,J)}}wB0.LinkExistsError=tK0;class eK0 extends N1{constructor(Y,J){super("view not found",Y,J)}}wB0.ViewNotFoundError=eK0;class YB0 extends N1{constructor(Y,J){super("design document not found",Y,J)}}wB0.DesignDocumentNotFoundError=YB0;class JB0 extends N1{constructor(Y,J){super("collection exists",Y,J)}}wB0.CollectionExistsError=JB0;class XB0 extends N1{constructor(Y,J){super("scope exists",Y,J)}}wB0.ScopeExistsError=XB0;class ZB0 extends N1{constructor(Y,J){super("user not found",Y,J)}}wB0.UserNotFoundError=ZB0;class WB0 extends N1{constructor(Y,J){super("group not found",Y,J)}}wB0.GroupNotFoundError=WB0;class $B0 extends N1{constructor(Y,J){super("bucket exists",Y,J)}}wB0.BucketExistsError=$B0;class GB0 extends N1{constructor(Y,J){super("user exists",Y,J)}}wB0.UserExistsError=GB0;class QB0 extends N1{constructor(Y,J){super("bucket not flushable",Y,J)}}wB0.BucketNotFlushableError=QB0;class UB0 extends N1{constructor(Y,J){super("eventing function not found",Y,J)}}wB0.EventingFunctionNotFoundError=UB0;class zB0 extends N1{constructor(Y,J){super("eventing function not deployed",Y,J)}}wB0.EventingFunctionNotDeployedError=zB0;class HB0 extends N1{constructor(Y,J){super("eventing function compilation failed",Y,J)}}wB0.EventingFunctionCompilationFailureError=HB0;class OB0 extends N1{constructor(Y,J){super("eventing function identical keyspace",Y,J)}}wB0.EventingFunctionIdenticalKeyspaceError=OB0;class KB0 extends N1{constructor(Y,J){super("eventing function not bootstrapped",Y,J)}}wB0.EventingFunctionNotBootstrappedError=KB0;class BB0 extends N1{constructor(Y,J){super("eventing function deployed",Y,J)}}wB0.EventingFunctionDeployedError=BB0;class qB0 extends N1{constructor(Y,J){super("eventing function paused",Y,J)}}wB0.EventingFunctionPausedError=qB0;class FB0 extends N1{constructor(Y,J){super("transaction operation failed",Y,J)}}wB0.TransactionOperationFailedError=FB0;class VB0 extends N1{constructor(Y,J){super("transaction failed",Y,J)}}wB0.TransactionFailedError=VB0;class IB0 extends N1{constructor(Y){super("transaction expired",Y)}}wB0.TransactionExpiredError=IB0;class DB0 extends N1{constructor(Y){super("transaction commit ambiguous",Y)}}wB0.TransactionCommitAmbiguousError=DB0});var eK=q((RB0)=>{Object.defineProperty(RB0,"__esModule",{value:!0});RB0.ReadPreference=RB0.StoreSemantics=RB0.DurabilityLevel=RB0.ServiceType=void 0;var LB0;(function(Y){Y.KeyValue="kv",Y.Management="mgmt",Y.Views="views",Y.Query="query",Y.Search="search",Y.Analytics="analytics",Y.Eventing="eventing"})(LB0||(RB0.ServiceType=LB0={}));var MB0;(function(Y){Y[Y.None=0]="None",Y[Y.Majority=1]="Majority",Y[Y.MajorityAndPersistOnMaster=2]="MajorityAndPersistOnMaster",Y[Y.PersistToMajority=3]="PersistToMajority"})(MB0||(RB0.DurabilityLevel=MB0={}));var EB0;(function(Y){Y[Y.Replace=0]="Replace",Y[Y.Upsert=1]="Upsert",Y[Y.Insert=2]="Insert"})(EB0||(RB0.StoreSemantics=EB0={}));var TB0;(function(Y){Y.NoPreference="no_preference",Y.SelectedServerGroup="selected_server_group"})(TB0||(RB0.ReadPreference=TB0={}))});var X5=q((K8)=>{var zB6=K8&&K8.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),HB6=K8&&K8.__setModuleDefault||(Object.create?function(Y,J){Object.defineProperty(Y,"default",{enumerable:!0,value:J})}:function(Y,J){Y.default=J}),OB6=K8&&K8.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var J={};if(Y!=null){for(var X in Y)if(X!=="default"&&Object.prototype.hasOwnProperty.call(Y,X))zB6(J,Y,X)}return HB6(J,Y),J};Object.defineProperty(K8,"__esModule",{value:!0});K8.parseExpiry=K8.cbQsStringify=K8.nsServerStrToDuraLevel=K8.duraLevelToNsServerStr=K8.CompoundTimeout=K8.PromiseHelper=void 0;var SZ=eK(),YB=HY(),KB6=OB6(C("querystring"));class CB0{static wrapAsync(Y,J){if(J){let X=Y();return X.then((Z)=>J(null,Z),(Z)=>J(Z,null)),X}return Y()}static wrap(Y,J){let X=new Promise((Z,W)=>{Y(($,G)=>{if($)W($);else Z(G)})});if(J)X.then((Z)=>J(null,Z),(Z)=>J(Z,null));return X}}K8.PromiseHelper=CB0;class jB0{constructor(Y){this._start=process.hrtime(),this._timeout=Y}left(){if(this._timeout===void 0)return;let Y=process.hrtime(this._start),J=Y[0]*1000+Y[1]/1e6;if(J>this._timeout)return 0;return this._timeout-J}expired(){let Y=this.left();if(Y===void 0)return!1;return Y<=0}}K8.CompoundTimeout=jB0;function BB6(Y){if(Y===void 0)return;if(typeof Y==="string")return Y;if(Y===SZ.DurabilityLevel.None)return"none";else if(Y===SZ.DurabilityLevel.Majority)return"majority";else if(Y===SZ.DurabilityLevel.MajorityAndPersistOnMaster)return"majorityAndPersistActive";else if(Y===SZ.DurabilityLevel.PersistToMajority)return"persistToMajority";else throw Error("invalid durability level specified")}K8.duraLevelToNsServerStr=BB6;function qB6(Y){if(Y===void 0)return SZ.DurabilityLevel.None;if(Y==="none")return SZ.DurabilityLevel.None;else if(Y==="majority")return SZ.DurabilityLevel.Majority;else if(Y==="majorityAndPersistActive")return SZ.DurabilityLevel.MajorityAndPersistOnMaster;else if(Y==="persistToMajority")return SZ.DurabilityLevel.PersistToMajority;else throw Error("invalid durability level string")}K8.nsServerStrToDuraLevel=qB6;function FB6(Y,J){let X={};for(let Z in Y)if(Y[Z]===void 0);else if(typeof Y[Z]==="boolean")if(J&&J.boolAsString)X[Z]=Y[Z]?"true":"false";else X[Z]=Y[Z]?1:0;else X[Z]=Y[Z];return KB6.stringify(X)}K8.cbQsStringify=FB6;var VB6=2592000,IB6=1576800000,SB0=new Date("1970-01-31T00:00:01Z"),DB6=259201,Dj=4294967295,H41=new Date("2106-02-07T06:28:15Z"),wB6=new Date("1970-01-31T00:00:00Z");function AB6(Y){if(!Y)return 0;if(typeof Y!=="number"&&!(Y instanceof Date))throw new YB.InvalidArgumentError(Error("Expected expiry to be a number or Date."));if(Y instanceof Date){if(isNaN(Y.getTime()))throw new YB.InvalidArgumentError(Error("Expected expiry to be a valid Date."));if(Y.getTime()==wB6.getTime())return 0;if(Y.getTime()<SB0.getTime()||Y.getTime()>H41.getTime()){let Z=`Expected expiry to be greater than ${SB0.toISOString()} (${DB6}) 
      and less than ${H41.toISOString()} (${Dj}) but got ${Y.toISOString()}.`;throw new YB.InvalidArgumentError(Error(Z))}return Math.floor(Y.getTime()/1000)}if(Y<0)throw new YB.InvalidArgumentError(Error(`Expected expiry to be either zero (for no expiry) or greater but got ${Y}.`));if(Y>Dj)throw new YB.InvalidArgumentError(Error(`Expected expiry to be less than ${Dj} (${H41.toISOString()}) but got ${Y}.`));if(Y>IB6){let Z=`The specified expiry (${Y}) is greater than 50 years (in seconds). 
    Unix timestamps passed directly as a number are not supported as an expiry. Instead, construct a Date from the timestamp (e.g. new Date(UNIX_TIMESTAMP * 1000)).`;process.emitWarning(Z)}if(Y<VB6)return Y;let J=Math.floor(Date.now()/1000),X=Dj-J;if(Y>X){let Z=`Expected expiry duration to be less than ${X} but got ${Y}.`;throw new YB.InvalidArgumentError(Error(Z))}return Y+J}K8.parseExpiry=AB6});var Aj=q((xB0)=>{Object.defineProperty(xB0,"__esModule",{value:!0});xB0.AnalyticsIndexManager=xB0.AzureExternalAnalyticsLink=xB0.S3ExternalAnalyticsLink=xB0.CouchbaseRemoteAnalyticsLink=xB0.AnalyticsLink=xB0.CouchbaseAnalyticsEncryptionSettings=xB0.AnalyticsIndex=xB0.AnalyticsDataset=xB0.AnalyticsEncryptionLevel=xB0.AnalyticsLinkType=void 0;var i9=HY(),o6=v8(),i6=X5(),M5;(function(Y){Y.S3External="s3",Y.AzureBlobExternal="azureblob",Y.CouchbaseRemote="couchbase"})(M5||(xB0.AnalyticsLinkType=M5={}));var wj;(function(Y){Y.None="none",Y.Half="half",Y.Full="full"})(wj||(xB0.AnalyticsEncryptionLevel=wj={}));class O41{constructor(Y){this.name=Y.name,this.dataverseName=Y.dataverseName,this.linkName=Y.linkName,this.bucketName=Y.bucketName}}xB0.AnalyticsDataset=O41;class K41{constructor(Y){this.name=Y.name,this.datasetName=Y.datasetName,this.dataverseName=Y.dataverseName,this.isPrimary=Y.isPrimary}}xB0.AnalyticsIndex=K41;class kB0{constructor(Y){this.encryptionLevel=Y.encryptionLevel,this.certificate=Y.certificate,this.clientCertificate=Y.clientCertificate,this.clientKey=Y.clientKey}}xB0.CouchbaseAnalyticsEncryptionSettings=kB0;class yw{constructor(){this.linkType="",this.dataverse="",this.name=""}static _toHttpData(Y){if(Y.linkType===M5.CouchbaseRemote)return PJ._toHttpData(new PJ(Y));else if(Y.linkType===M5.S3External)return LJ._toHttpData(new LJ(Y));else if(Y.linkType===M5.AzureBlobExternal)return MJ._toHttpData(new MJ(Y));else throw Error("invalid link type")}static _fromHttpData(Y){if(Y.type==="couchbase")return PJ._fromHttpData(Y);else if(Y.type==="s3")return LJ._fromHttpData(Y);else if(Y.type==="azure")return MJ._fromHttpData(Y);else throw Error("invalid link type")}}xB0.AnalyticsLink=yw;class PJ extends yw{validate(){if(!this.dataverse)throw new i9.InvalidArgumentError(Error("Must provide a dataverse for the CouchbaseRemoteAnalyticsLink."));if(!this.name)throw new i9.InvalidArgumentError(Error("Must provide a name for the CouchbaseRemoteAnalyticsLink."));if(!this.hostname)throw new i9.InvalidArgumentError(Error("Must provide a hostname for the CouchbaseRemoteAnalyticsLink."));if(this.encryption)if([wj.None,wj.Half].includes(this.encryption.encryptionLevel)){if(!this.username||!this.password)throw new i9.InvalidArgumentError(Error("When encryption level is half or none, username and password must be set for the CouchbaseRemoteAnalyticsLink."))}else{if(!this.encryption.certificate||this.encryption.certificate.length==0)throw new i9.InvalidArgumentError(Error("When encryption level full, a certificate must be set for the CouchbaseRemoteAnalyticsLink."));let Y=!this.encryption.clientCertificate||this.encryption.clientCertificate.length==0,J=!this.encryption.clientKey||this.encryption.clientKey.length==0;if(Y||J)throw new i9.InvalidArgumentError(Error("When encryption level full, a client key and certificate must be set for the CouchbaseRemoteAnalyticsLink."))}}constructor(Y){super();this.linkType=M5.CouchbaseRemote,this.dataverse=Y.dataverse,this.name=Y.name,this.hostname=Y.hostname,this.encryption=Y.encryption,this.username=Y.username,this.password=Y.password}static _toCppData(Y){return Y.validate(),{link_name:Y.name,dataverse:Y.dataverse,hostname:Y.hostname,username:Y.hostname,password:Y.password,encryption:(0,o6.encryptionSettingsToCpp)(Y.encryption)}}static _fromCppData(Y){return new PJ({linkType:M5.CouchbaseRemote,dataverse:Y.dataverse,name:Y.link_name,hostname:Y.hostname,encryption:(0,o6.encryptionSettingsFromCpp)(Y.encryption),username:Y.username,password:void 0})}}xB0.CouchbaseRemoteAnalyticsLink=PJ;class LJ extends yw{constructor(Y){super();this.linkType=M5.S3External,this.dataverse=Y.dataverse,this.name=Y.name,this.accessKeyId=Y.accessKeyId,this.secretAccessKey=Y.secretAccessKey,this.sessionToken=Y.sessionToken,this.region=Y.region,this.serviceEndpoint=Y.serviceEndpoint}validate(){if(!this.dataverse)throw new i9.InvalidArgumentError(Error("Must provide a dataverse for the S3ExternalAnalyticsLink."));if(!this.name)throw new i9.InvalidArgumentError(Error("Must provide a name for the S3ExternalAnalyticsLink."));if(!this.accessKeyId)throw new i9.InvalidArgumentError(Error("Must provide an accessKeyId for the S3ExternalAnalyticsLink."));if(!this.secretAccessKey)throw new i9.InvalidArgumentError(Error("Must provide an secretAccessKey for the S3ExternalAnalyticsLink."));if(!this.region)throw new i9.InvalidArgumentError(Error("Must provide an region for the S3ExternalAnalyticsLink."))}static _toCppData(Y){return Y.validate(),{link_name:Y.name,dataverse:Y.dataverse,access_key_id:Y.accessKeyId,secret_access_key:Y.secretAccessKey,session_token:Y.sessionToken,region:Y.region,service_endpoint:Y.serviceEndpoint}}static _fromCppData(Y){return new LJ({name:Y.link_name,linkType:M5.S3External,dataverse:Y.dataverse,accessKeyId:Y.access_key_id,secretAccessKey:void 0,sessionToken:void 0,region:Y.region,serviceEndpoint:Y.service_endpoint})}}xB0.S3ExternalAnalyticsLink=LJ;class MJ extends yw{constructor(Y){super();this.linkType=M5.AzureBlobExternal,this.dataverse=Y.dataverse,this.name=Y.name,this.connectionString=Y.connectionString,this.accountName=Y.accountName,this.accountKey=Y.accountKey,this.sharedAccessSignature=Y.sharedAccessSignature,this.blobEndpoint=Y.blobEndpoint,this.endpointSuffix=Y.endpointSuffix}validate(){if(!this.dataverse)throw new i9.InvalidArgumentError(Error("Must provide a dataverse for the AzureExternalAnalyticsLink."));if(!this.name)throw new i9.InvalidArgumentError(Error("Must provide a name for the AzureExternalAnalyticsLink."));if(!this.connectionString){let Y=!(this.accountName&&this.accountKey),J=!(this.accountName&&this.sharedAccessSignature);if(Y&&J)throw new i9.InvalidArgumentError(Error("If not providing connectionString, accountName and either accountKey or sharedAccessSignature must be provided for the AzureExternalAnalyticsLink."))}}static _toCppData(Y){return Y.validate(),{link_name:Y.name,dataverse:Y.dataverse,connection_string:Y.connectionString,account_name:Y.accountName,account_key:Y.accountKey,shared_access_signature:Y.sharedAccessSignature,blob_endpoint:Y.blobEndpoint,endpoint_suffix:Y.endpointSuffix}}static _fromCppData(Y){return new MJ({name:Y.link_name,linkType:M5.AzureBlobExternal,dataverse:Y.dataverse,connectionString:void 0,accountName:Y.account_name,accountKey:void 0,sharedAccessSignature:void 0,blobEndpoint:Y.blob_endpoint,endpointSuffix:Y.endpoint_suffix})}}xB0.AzureExternalAnalyticsLink=MJ;class _B0{constructor(Y){this._cluster=Y}async createDataverse(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout,W=J.ignoreIfExists||!1;return i6.PromiseHelper.wrap(($)=>{this._cluster.conn.managementAnalyticsDataverseCreate({dataverse_name:Y,timeout:Z,ignore_if_exists:W},(G)=>{let Q=(0,o6.errorFromCpp)(G);if(Q)return $(Q,null);$(Q)})},X)}async dropDataverse(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout,W=J.ignoreIfNotExists||!1;return i6.PromiseHelper.wrap(($)=>{this._cluster.conn.managementAnalyticsDataverseDrop({dataverse_name:Y,timeout:Z,ignore_if_does_not_exist:W},(G)=>{let Q=(0,o6.errorFromCpp)(G);if(Q)return $(Q,null);$(Q)})},X)}async createDataset(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=X.dataverseName||"Default",$=X.ignoreIfExists||!1,G=X.timeout||this._cluster.managementTimeout;return i6.PromiseHelper.wrap((Q)=>{this._cluster.conn.managementAnalyticsDatasetCreate({dataverse_name:W,dataset_name:J,bucket_name:Y,condition:X===null||X===void 0?void 0:X.condition,timeout:G,ignore_if_exists:$},(U)=>{let z=(0,o6.errorFromCpp)(U);if(z)return Q(z,null);Q(z)})},Z)}async dropDataset(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.dataverseName||"Default",W=J.ignoreIfNotExists||!1,$=J.timeout||this._cluster.managementTimeout;return i6.PromiseHelper.wrap((G)=>{this._cluster.conn.managementAnalyticsDatasetDrop({dataverse_name:Z,dataset_name:Y,timeout:$,ignore_if_does_not_exist:W},(Q)=>{let U=(0,o6.errorFromCpp)(Q);if(U)return G(U,null);G(U)})},X)}async getAllDatasets(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=Y.timeout||this._cluster.managementTimeout;return i6.PromiseHelper.wrap((Z)=>{this._cluster.conn.managementAnalyticsDatasetGetAll({timeout:X},(W,$)=>{let G=(0,o6.errorFromCpp)(W);if(G)return Z(G,null);let Q=$.datasets.map((U)=>new O41({name:U.name,dataverseName:U.dataverse_name,linkName:U.link_name,bucketName:U.bucket_name}));Z(null,Q)})},J)}async createIndex(Y,J,X,Z,W){if(Z instanceof Function)W=arguments[3],Z=void 0;if(!Z)Z={};let $=Z.dataverseName||"Default",G=Z.ignoreIfExists||!1,Q=Z.timeout||this._cluster.managementTimeout;return i6.PromiseHelper.wrap((U)=>{this._cluster.conn.managementAnalyticsIndexCreate({dataverse_name:$,dataset_name:Y,index_name:J,fields:X,timeout:Q,ignore_if_exists:G},(z)=>{let H=(0,o6.errorFromCpp)(z);if(H)return U(H,null);U(H)})},W)}async dropIndex(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=X.dataverseName||"Default",$=X.ignoreIfNotExists||!1,G=X.timeout||this._cluster.managementTimeout;return i6.PromiseHelper.wrap((Q)=>{this._cluster.conn.managementAnalyticsIndexDrop({dataverse_name:W,dataset_name:Y,index_name:J,timeout:G,ignore_if_does_not_exist:$},(U)=>{let z=(0,o6.errorFromCpp)(U);if(z)return Q(z,null);Q(z)})},Z)}async getAllIndexes(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=Y.timeout||this._cluster.managementTimeout;return i6.PromiseHelper.wrap((Z)=>{this._cluster.conn.managementAnalyticsIndexGetAll({timeout:X},(W,$)=>{let G=(0,o6.errorFromCpp)(W);if(G)return Z(G,null);let Q=$.indexes.map((U)=>new K41({name:U.name,dataverseName:U.dataverse_name,datasetName:U.dataset_name,isPrimary:U.is_primary}));Z(null,Q)})},J)}async connectLink(){if(typeof arguments[0]==="string")return this._connectLinkDeprecated(arguments[0],arguments[1],arguments[2]);else return this._connectLink(arguments[0],arguments[1])}async _connectLinkDeprecated(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.force||!1,W=J.timeout||this._cluster.managementTimeout,$="CONNECT LINK "+Y;if(Z)$+=' WITH {"force": true}';return i6.PromiseHelper.wrapAsync(async()=>{await this._cluster.analyticsQuery($,{timeout:W})},X)}async _connectLink(Y,J){if(Y instanceof Function)J=arguments[1],Y=void 0;if(!Y)Y={};let X=Y.dataverseName||"Default",Z=Y.linkName||"Local",W=Y.force||!1,$=Y.timeout||this._cluster.managementTimeout;return i6.PromiseHelper.wrap((G)=>{this._cluster.conn.managementAnalyticsLinkConnect({dataverse_name:X,link_name:Z,timeout:$,force:W},(Q)=>{let U=(0,o6.errorFromCpp)(Q);if(U)return G(U,null);G(U)})},J)}async disconnectLink(){if(typeof arguments[0]==="string")return this._disconnectLinkDeprecated(arguments[0],arguments[1],arguments[2]);else return this._disconnectLink(arguments[0],arguments[1])}async _disconnectLinkDeprecated(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z="DISCONNECT LINK "+Y,W=J.timeout||this._cluster.managementTimeout;return i6.PromiseHelper.wrapAsync(async()=>{await this._cluster.analyticsQuery(Z,{timeout:W})},X)}async _disconnectLink(Y,J){if(Y instanceof Function)J=arguments[1],Y=void 0;if(!Y)Y={};let X=Y.dataverseName||"Default",Z=Y.linkName||"Local",W=Y.timeout||this._cluster.managementTimeout;return i6.PromiseHelper.wrap(($)=>{this._cluster.conn.managementAnalyticsLinkDisconnect({dataverse_name:X,link_name:Z,timeout:W},(G)=>{let Q=(0,o6.errorFromCpp)(G);if(Q)return $(Q,null);$(Q)})},J)}async getPendingMutations(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=Y.timeout||this._cluster.managementTimeout;return i6.PromiseHelper.wrap((Z)=>{this._cluster.conn.managementAnalyticsGetPendingMutations({timeout:X},(W,$)=>{let G=(0,o6.errorFromCpp)(W);if(G)return Z(G,null);let Q={stats:$.stats};Z(null,Q)})},J)}async createLink(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;if(Y.linkType==M5.CouchbaseRemote)return i6.PromiseHelper.wrap((W)=>{this._cluster.conn.managementAnalyticsLinkCreateCouchbaseRemoteLink({link:PJ._toCppData(new PJ(Y)),timeout:Z},($)=>{let G=(0,o6.errorFromCpp)($);if(G)return W(G,null);W(G)})},X);else if(Y.linkType==M5.S3External)return i6.PromiseHelper.wrap((W)=>{this._cluster.conn.managementAnalyticsLinkCreateS3ExternalLink({link:LJ._toCppData(new LJ(Y)),timeout:Z},($)=>{let G=(0,o6.errorFromCpp)($);if(G)return W(G,null);W(G)})},X);else if(Y.linkType==M5.AzureBlobExternal)return i6.PromiseHelper.wrap((W)=>{this._cluster.conn.managementAnalyticsLinkCreateAzureBlobExternalLink({link:MJ._toCppData(new MJ(Y)),timeout:Z},($)=>{let G=(0,o6.errorFromCpp)($);if(G)return W(G,null);W(G)})},X);else throw Error("invalid link type")}async replaceLink(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;if(Y.linkType==M5.CouchbaseRemote)return i6.PromiseHelper.wrap((W)=>{this._cluster.conn.managementAnalyticsLinkReplaceCouchbaseRemoteLink({link:PJ._toCppData(new PJ(Y)),timeout:Z},($)=>{let G=(0,o6.errorFromCpp)($);if(G)return W(G,null);W(G)})},X);else if(Y.linkType==M5.S3External)return i6.PromiseHelper.wrap((W)=>{this._cluster.conn.managementAnalyticsLinkReplaceS3ExternalLink({link:LJ._toCppData(new LJ(Y)),timeout:Z},($)=>{let G=(0,o6.errorFromCpp)($);if(G)return W(G,null);W(G)})},X);else if(Y.linkType==M5.AzureBlobExternal)return i6.PromiseHelper.wrap((W)=>{this._cluster.conn.managementAnalyticsLinkReplaceAzureBlobExternalLink({link:MJ._toCppData(new MJ(Y)),timeout:Z},($)=>{let G=(0,o6.errorFromCpp)($);if(G)return W(G,null);W(G)})},X);else throw Error("invalid link type")}async dropLink(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=X.timeout||this._cluster.managementTimeout;return i6.PromiseHelper.wrap(($)=>{this._cluster.conn.managementAnalyticsLinkDrop({dataverse_name:J,link_name:Y,timeout:W},(G)=>{let Q=(0,o6.errorFromCpp)(G);if(Q)return $(Q,null);$(Q)})},Z)}async getAllLinks(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let{dataverse:X,name:Z,linkType:W}=Y,$=Y.timeout||this._cluster.managementTimeout;return i6.PromiseHelper.wrap((G)=>{this._cluster.conn.managementAnalyticsLinkGetAll({link_type:W,link_name:Z,dataverse_name:X,timeout:$},(Q,U)=>{let z=(0,o6.errorFromCpp)(Q);if(z)return G(z,null);let H=[];U.couchbase.forEach((O)=>{H.push(PJ._fromCppData(O))}),U.s3.forEach((O)=>{H.push(LJ._fromCppData(O))}),U.azure_blob.forEach((O)=>{H.push(MJ._fromCppData(O))}),G(null,H)})},J)}}xB0.AnalyticsIndexManager=_B0});var Pj=q((dB0)=>{Object.defineProperty(dB0,"__esModule",{value:!0});dB0.BucketManager=dB0.BucketSettings=dB0.CompressionMode=dB0.EvictionPolicy=dB0.StorageBackend=dB0.BucketType=dB0.ConflictResolutionType=void 0;var Z5=v8(),b$=X5(),vB0;(function(Y){Y.Timestamp="lww",Y.SequenceNumber="seqno",Y.Custom="custom"})(vB0||(dB0.ConflictResolutionType=vB0={}));var hB0;(function(Y){Y.Couchbase="membase",Y.Memcached="memcached",Y.Ephemeral="ephemeral"})(hB0||(dB0.BucketType=hB0={}));var bB0;(function(Y){Y.Couchstore="couchstore",Y.Magma="magma"})(bB0||(dB0.StorageBackend=bB0={}));var yB0;(function(Y){Y.FullEviction="fullEviction",Y.ValueOnly="valueOnly",Y.NotRecentlyUsed="nruEviction",Y.NoEviction="noEviction"})(yB0||(dB0.EvictionPolicy=yB0={}));var gB0;(function(Y){Y.Off="off",Y.Passive="passive",Y.Active="active"})(gB0||(dB0.CompressionMode=gB0={}));class y${constructor(Y){this.name=Y.name,this.flushEnabled=Y.flushEnabled,this.ramQuotaMB=Y.ramQuotaMB,this.numReplicas=Y.numReplicas,this.replicaIndexes=Y.replicaIndexes,this.bucketType=Y.bucketType,this.storageBackend=Y.storageBackend,this.evictionPolicy=Y.evictionPolicy,this.maxExpiry=Y.maxExpiry,this.compressionMode=Y.compressionMode,this.minimumDurabilityLevel=Y.minimumDurabilityLevel,this.historyRetentionCollectionDefault=Y.historyRetentionCollectionDefault,this.historyRetentionDuration=Y.historyRetentionDuration,this.historyRetentionBytes=Y.historyRetentionBytes,this.numVBuckets=Y.numVBuckets}get maxTTL(){var Y;return(Y=this.maxExpiry)!==null&&Y!==void 0?Y:0}set maxTTL(Y){this.maxExpiry=Y}get ejectionMethod(){return this.evictionPolicy}set ejectionMethod(Y){this.evictionPolicy=Y}get durabilityMinLevel(){return(0,b$.duraLevelToNsServerStr)(this.minimumDurabilityLevel)}static _toCppData(Y){return{name:Y.name,bucket_type:(0,Z5.bucketTypeToCpp)(Y.bucketType),ram_quota_mb:Y.ramQuotaMB,max_expiry:Y.maxTTL||Y.maxExpiry,compression_mode:(0,Z5.bucketCompressionModeToCpp)(Y.compressionMode),minimum_durability_level:(0,Z5.durabilityToCpp)((0,b$.nsServerStrToDuraLevel)(Y.durabilityMinLevel))||(0,Z5.durabilityToCpp)(Y.minimumDurabilityLevel),num_replicas:Y.numReplicas,replica_indexes:Y.replicaIndexes,flush_enabled:Y.flushEnabled,eviction_policy:(0,Z5.bucketEvictionPolicyToCpp)(Y.evictionPolicy),storage_backend:(0,Z5.bucketStorageBackendToCpp)(Y.storageBackend),history_retention_collection_default:Y.historyRetentionCollectionDefault,history_retention_bytes:Y.historyRetentionBytes,history_retention_duration:Y.historyRetentionDuration,num_vbuckets:Y.numVBuckets}}static _fromCppData(Y){return new y$({name:Y.name,flushEnabled:Y.flush_enabled,ramQuotaMB:Y.ram_quota_mb,numReplicas:Y.num_replicas,replicaIndexes:Y.replica_indexes,bucketType:(0,Z5.bucketTypeFromCpp)(Y.bucket_type),storageBackend:(0,Z5.bucketStorageBackendFromCpp)(Y.storage_backend),evictionPolicy:(0,Z5.bucketEvictionPolicyFromCpp)(Y.eviction_policy),maxExpiry:Y.max_expiry,compressionMode:(0,Z5.bucketCompressionModeFromCpp)(Y.compression_mode),historyRetentionCollectionDefault:Y.history_retention_collection_default,historyRetentionBytes:Y.history_retention_bytes,historyRetentionDuration:Y.history_retention_duration,minimumDurabilityLevel:(0,Z5.durabilityFromCpp)(Y.minimum_durability_level),numVBuckets:Y.num_vbuckets,maxTTL:0,durabilityMinLevel:"",ejectionMethod:""})}}dB0.BucketSettings=y$;class uB0 extends y${constructor(Y){super(Y);this.conflictResolutionType=Y.conflictResolutionType}static _toCppData(Y){return{...y$._toCppData(Y),conflict_resolution_type:(0,Z5.bucketConflictResolutionTypeToCpp)(Y.conflictResolutionType)}}}class mB0{constructor(Y){this._cluster=Y}async createBucket(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return b$.PromiseHelper.wrap((W)=>{let $=uB0._toCppData(Y);this._cluster.conn.managementBucketCreate({bucket:$,timeout:Z},(G)=>{let Q=(0,Z5.errorFromCpp)(G);if(Q)return W(Q,null);W(Q)})},X)}async updateBucket(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return b$.PromiseHelper.wrap((W)=>{let $=y$._toCppData(Y);this._cluster.conn.managementBucketUpdate({bucket:$,timeout:Z},(G)=>{let Q=(0,Z5.errorFromCpp)(G);if(Q)return W(Q,null);W(Q)})},X)}async dropBucket(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return b$.PromiseHelper.wrap((W)=>{this._cluster.conn.managementBucketDrop({name:Y,timeout:Z},($)=>{let G=(0,Z5.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async getBucket(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return b$.PromiseHelper.wrap((W)=>{this._cluster.conn.managementBucketGet({name:Y,timeout:Z},($,G)=>{let Q=(0,Z5.errorFromCpp)($);if(Q)return W(Q,null);let U=y$._fromCppData(G.bucket);W(null,U)})},X)}async getAllBuckets(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=Y.timeout||this._cluster.managementTimeout;return b$.PromiseHelper.wrap((Z)=>{this._cluster.conn.managementBucketGetAll({timeout:X},(W,$)=>{let G=(0,Z5.errorFromCpp)(W);if(G)return Z(G,null);let Q=$.buckets.map((U)=>y$._fromCppData(U));Z(null,Q)})},J)}async flushBucket(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return b$.PromiseHelper.wrap((W)=>{this._cluster.conn.managementBucketFlush({name:Y,timeout:Z},($)=>{let G=(0,Z5.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}}dB0.BucketManager=mB0});var Lj=q((aB0)=>{Object.defineProperty(aB0,"__esModule",{value:!0});aB0.DiagnosticsResult=aB0.DiagnosticsEndpoint=aB0.PingResult=aB0.PingEndpoint=aB0.PingState=aB0.EndpointState=void 0;var lB0;(function(Y){Y[Y.Disconnected=0]="Disconnected",Y[Y.Connecting=1]="Connecting",Y[Y.Connected=2]="Connected",Y[Y.Disconnecting=3]="Disconnecting"})(lB0||(aB0.EndpointState=lB0={}));var pB0;(function(Y){Y[Y.Ok=0]="Ok",Y[Y.Timeout=1]="Timeout",Y[Y.Error=2]="Error"})(pB0||(aB0.PingState=pB0={}));class nB0{constructor(Y){this.type=Y.type,this.id=Y.id,this.latency=Y.latency,this.remote=Y.remote,this.local=Y.local,this.state=Y.state,this.bucket=Y.bucket,this.error=Y.error}}aB0.PingEndpoint=nB0;class iB0{constructor(Y){this.version=Y.version,this.id=Y.id,this.sdk=Y.sdk,this.services=Y.services}toJSON(){return{version:this.version,id:this.id,sdk:this.sdk,services:Object.fromEntries(Object.entries(this.services).map(([Y,J])=>{return[Y,J.map((X)=>{return{latency_us:X.latency*1e6,remote:X.remote,local:X.local,id:X.id,state:X.state,namespace:X.bucket,error:X.error}})]}))}}}aB0.PingResult=iB0;class oB0{constructor(Y){this.type=Y.type,this.id=Y.id,this.local=Y.local,this.remote=Y.remote,this.lastActivity=Y.lastActivity,this.state=Y.state}}aB0.DiagnosticsEndpoint=oB0;class rB0{constructor(Y){this.version=Y.version,this.id=Y.id,this.sdk=Y.sdk,this.services=Y.services}toJSON(){return{version:this.version,id:this.id,sdk:this.sdk,services:Object.fromEntries(Object.entries(this.services).map(([Y,J])=>{return[Y,J.map((X)=>{return{last_activity_us:X.lastActivity*1e6,remote:X.remote,local:X.local,id:X.id,state:X.state,namespace:X.bucket,details:X.details}})]}))}}}aB0.DiagnosticsResult=rB0});var Mj=q(($q0)=>{Object.defineProperty($q0,"__esModule",{value:!0});$q0.QueryScanConsistency=$q0.QueryProfileMode=$q0.QueryMetrics=$q0.QueryWarning=$q0.QueryMetaData=$q0.QueryResult=$q0.QueryStatus=void 0;var tB0;(function(Y){Y.Running="running",Y.Success="success",Y.Errors="errors",Y.Completed="completed",Y.Stopped="stopped",Y.Timeout="timeout",Y.Closed="closed",Y.Fatal="fatal",Y.Aborted="aborted",Y.Unknown="unknown"})(tB0||($q0.QueryStatus=tB0={}));class Jq0{constructor(Y){this.rows=Y.rows,this.meta=Y.meta}}$q0.QueryResult=Jq0;class Xq0{constructor(Y){this.requestId=Y.requestId,this.clientContextId=Y.clientContextId,this.status=Y.status,this.signature=Y.signature,this.warnings=Y.warnings,this.metrics=Y.metrics,this.profile=Y.profile}}$q0.QueryMetaData=Xq0;class Zq0{constructor(Y){this.code=Y.code,this.message=Y.message}}$q0.QueryWarning=Zq0;class Wq0{constructor(Y){this.elapsedTime=Y.elapsedTime,this.executionTime=Y.executionTime,this.sortCount=Y.sortCount,this.resultCount=Y.resultCount,this.resultSize=Y.resultSize,this.mutationCount=Y.mutationCount,this.errorCount=Y.errorCount,this.warningCount=Y.warningCount}}$q0.QueryMetrics=Wq0;var eB0;(function(Y){Y.Off="off",Y.Phases="phases",Y.Timings="timings"})(eB0||($q0.QueryProfileMode=eB0={}));var Yq0;(function(Y){Y.NotBounded="not_bounded",Y.RequestPlus="request_plus"})(Yq0||($q0.QueryScanConsistency=Yq0={}))});var Ej=q((Oq0)=>{Object.defineProperty(Oq0,"__esModule",{value:!0});Oq0.PrefixScan=Oq0.SamplingScan=Oq0.RangeScan=Oq0.ScanTerm=void 0;class Qq0{constructor(Y,J){this.term=Y,this.exclusive=J}}Oq0.ScanTerm=Qq0;class Uq0{constructor(Y,J){this.start=Y,this.end=J}getScanType(){return"range_scan"}}Oq0.RangeScan=Uq0;class zq0{constructor(Y,J){this.limit=Y,this.seed=J}getScanType(){return"sampling_scan"}}Oq0.SamplingScan=zq0;class Hq0{constructor(Y){this.prefix=Y}getScanType(){return"prefix_scan"}}Oq0.PrefixScan=Hq0});var uw=q((qq0)=>{Object.defineProperty(qq0,"__esModule",{value:!0});qq0.GeoPolygonSearchQuery=qq0.GeoBoundingBoxSearchQuery=qq0.GeoDistanceSearchQuery=qq0.MatchNoneSearchQuery=qq0.MatchAllSearchQuery=qq0.PrefixSearchQuery=qq0.PhraseSearchQuery=qq0.TermSearchQuery=qq0.BooleanFieldSearchQuery=qq0.DocIdSearchQuery=qq0.WildcardSearchQuery=qq0.BooleanSearchQuery=qq0.DisjunctionSearchQuery=qq0.ConjunctionSearchQuery=qq0.TermRangeSearchQuery=qq0.DateRangeSearchQuery=qq0.NumericRangeSearchQuery=qq0.QueryStringSearchQuery=qq0.RegexpSearchQuery=qq0.MatchPhraseSearchQuery=qq0.MatchSearchQuery=qq0.SearchQuery=qq0.MatchOperator=void 0;var Bq0;(function(Y){Y.Or="or",Y.And="and"})(Bq0||(qq0.MatchOperator=Bq0={}));function aB6(Y){if(Array.isArray(Y))return Y;else if(Y instanceof Object){let J=Y;if(J.lon||J.lat)return[J.lon,J.lat];else if(J.longitude||J.latitude)return[J.longitude,J.latitude]}throw Error("invalid geopoint specified")}function JB(Y){if(Array.isArray(Y[0]))return Y[0];return Y}class T4{constructor(Y){if(!Y)Y={};this._data=Y}toJSON(){return this._data}static toJSON(Y){if(Y.toJSON)return Y.toJSON();return Y}static hasProp(Y,J){return this.toJSON(Y)[J]!==void 0}static match(Y){return new B41(Y)}static matchPhrase(Y){return new q41(Y)}static regexp(Y){return new F41(Y)}static queryString(Y){return new V41(Y)}static numericRange(){return new I41}static dateRange(){return new D41}static termRange(){return new w41}static conjuncts(...Y){let J=JB(Y);return new Tj(...J)}static disjuncts(...Y){let J=JB(Y);return new gw(...J)}static boolean(){return new A41}static wildcard(Y){return new P41(Y)}static docIds(...Y){let J=JB(Y);return new L41(...J)}static booleanField(Y){return new M41(Y)}static term(Y){return new E41(Y)}static phrase(Y){return new T41(Y)}static prefix(Y){return new R41(Y)}static matchAll(){return new N41}static matchNone(){return new S41}static geoDistance(Y,J,X){return new C41(Y,J,X)}static geoBoundingBox(Y,J,X,Z){return new j41(Y,J,X,Z)}static geoPolygon(Y){return new k41(Y)}}qq0.SearchQuery=T4;class B41 extends T4{constructor(Y){super({match:Y})}operator(Y){return this._data.operator=Y,this}field(Y){return this._data.field=Y,this}analyzer(Y){return this._data.analyzer=Y,this}prefixLength(Y){return this._data.prefix_length=Y,this}fuzziness(Y){return this._data.fuzziness=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.MatchSearchQuery=B41;class q41 extends T4{constructor(Y){super({match_phrase:Y})}field(Y){return this._data.field=Y,this}analyzer(Y){return this._data.analyzer=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.MatchPhraseSearchQuery=q41;class F41 extends T4{constructor(Y){super({regexp:Y})}field(Y){return this._data.field=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.RegexpSearchQuery=F41;class V41 extends T4{constructor(Y){super({query:Y})}boost(Y){return this._data.boost=Y,this}}qq0.QueryStringSearchQuery=V41;class I41 extends T4{constructor(){super({})}min(Y,J){if(J===void 0)J=!0;return this._data.min=Y,this._data.inclusive_min=J,this}max(Y,J){if(J===void 0)J=!1;return this._data.max=Y,this._data.inclusive_max=J,this}field(Y){return this._data.field=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.NumericRangeSearchQuery=I41;class D41 extends T4{constructor(){super({})}start(Y,J){if(J===void 0)J=!0;if(Y instanceof Date)this._data.start=Y.toISOString();else this._data.start=Y;return this._data.inclusive_start=J,this}end(Y,J){if(J===void 0)J=!1;if(Y instanceof Date)this._data.end=Y.toISOString();else this._data.end=Y;return this._data.inclusive_end=J,this}field(Y){return this._data.field=Y,this}dateTimeParser(Y){return this._data.datetime_parser=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.DateRangeSearchQuery=D41;class w41 extends T4{constructor(){super({})}min(Y,J){if(J===void 0)J=!0;return this._data.min=Y,this._data.inclusive_min=J,this}max(Y,J){if(J===void 0)J=!1;return this._data.max=Y,this._data.inclusive_max=J,this}field(Y){return this._data.field=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.TermRangeSearchQuery=w41;class Tj extends T4{constructor(...Y){super({conjuncts:[]});this.and(...Y)}and(...Y){let J=JB(Y);for(let X=0;X<J.length;++X)this._data.conjuncts.push(J[X]);return this}boost(Y){return this._data.boost=Y,this}}qq0.ConjunctionSearchQuery=Tj;class gw extends T4{constructor(...Y){super({disjuncts:[]});this.or(...Y)}or(...Y){let J=JB(Y);for(let X=0;X<J.length;++X)this._data.disjuncts.push(J[X]);return this}boost(Y){return this._data.boost=Y,this}}qq0.DisjunctionSearchQuery=gw;class A41 extends T4{constructor(){super({});this._shouldMin=void 0}must(Y){if(!T4.hasProp(Y,"conjuncts"))Y=new Tj(Y);return this._data.must=Y,this}should(Y){if(!T4.hasProp(Y,"disjuncts"))Y=new gw(Y);return this._data.should=Y,this}mustNot(Y){if(!T4.hasProp(Y,"disjuncts"))Y=new gw(Y);return this._data.must_not=Y,this}shouldMin(Y){return this._shouldMin=Y,this}boost(Y){return this._data.boost=Y,this}toJSON(){let Y={};if(this._data.must)Y.must=T4.toJSON(this._data.must);if(this._data.should){if(Y.should=T4.toJSON(this._data.should),this._shouldMin)Y.should.min=this._shouldMin}if(this._data.must_not)Y.must_not=T4.toJSON(this._data.must_not);return Y}}qq0.BooleanSearchQuery=A41;class P41 extends T4{constructor(Y){super({wildcard:Y})}field(Y){return this._data.field=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.WildcardSearchQuery=P41;class L41 extends T4{constructor(...Y){super({ids:[]});this.addDocIds(...Y)}addDocIds(...Y){let J=JB(Y);for(let X=0;X<J.length;++X)this._data.ids.push(J[X]);return this}field(Y){return this._data.field=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.DocIdSearchQuery=L41;class M41 extends T4{constructor(Y){super({bool:Y})}field(Y){return this._data.field=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.BooleanFieldSearchQuery=M41;class E41 extends T4{constructor(Y){super({term:Y})}field(Y){return this._data.field=Y,this}prefixLength(Y){return this._data.prefix_length=Y,this}fuzziness(Y){return this._data.fuzziness=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.TermSearchQuery=E41;class T41 extends T4{constructor(Y){super({terms:Y})}field(Y){return this._data.field=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.PhraseSearchQuery=T41;class R41 extends T4{constructor(Y){super({prefix:Y})}field(Y){return this._data.field=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.PrefixSearchQuery=R41;class N41 extends T4{constructor(){super({match_all:null})}}qq0.MatchAllSearchQuery=N41;class S41 extends T4{constructor(){super({match_none:!0})}}qq0.MatchNoneSearchQuery=S41;class C41 extends T4{constructor(Y,J,X){super({location:[Y,J],distance:X})}field(Y){return this._data.field=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.GeoDistanceSearchQuery=C41;class j41 extends T4{constructor(Y,J,X,Z){super({top_left:[Y,J],bottom_right:[X,Z]})}field(Y){return this._data.field=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.GeoBoundingBoxSearchQuery=j41;class k41 extends T4{constructor(Y){let J=Y.map((X)=>aB6(X));super({polygon_points:J})}field(Y){return this._data.field=Y,this}boost(Y){return this._data.boost=Y,this}}qq0.GeoPolygonSearchQuery=k41});var Nj=q((Iq0)=>{Object.defineProperty(Iq0,"__esModule",{value:!0});Iq0.VectorSearch=Iq0.VectorQuery=Iq0.VectorQueryCombination=void 0;var g$=HY(),wq6=uw(),Vq0;(function(Y){Y.AND="and",Y.OR="or"})(Vq0||(Iq0.VectorQueryCombination=Vq0={}));class Rj{constructor(Y,J){if(!Y)throw new g$.InvalidArgumentError(Error("Must provide a field name."));if(this._fieldName=Y,!J)throw new g$.InvalidArgumentError(Error("Provided vector cannot be empty."));if(Array.isArray(J)){if(J.length==0)throw new g$.InvalidArgumentError(Error("Provided vector cannot be empty."));this._vector=J}else if(typeof J==="string")this._vectorBase64=J;else throw new g$.InvalidArgumentError(Error("Provided vector must be either a number[] or base64 encoded string."))}toJSON(){var Y;let J={field:this._fieldName,k:(Y=this._numCandidates)!==null&&Y!==void 0?Y:3};if(this._vector)J.vector=this._vector;else J.vector_base64=this._vectorBase64;if(this._boost)J.boost=this._boost;if(this._prefilter)J.filter=this._prefilter.toJSON();return J}boost(Y){return this._boost=Y,this}numCandidates(Y){if(Y<1)throw new g$.InvalidArgumentError(Error("Provided value for numCandidates must be >= 1."));return this._numCandidates=Y,this}prefilter(Y){if(!(Y instanceof wq6.SearchQuery))throw new g$.InvalidArgumentError(Error("Provided value for prefilter must be a SearchQuery."));return this._prefilter=Y,this}static create(Y,J){return new Rj(Y,J)}}Iq0.VectorQuery=Rj;class _41{constructor(Y,J){if(!Array.isArray(Y)||Y.length==0)throw new g$.InvalidArgumentError(Error("Provided queries must be an array and cannot be empty."));if(!Y.every((X)=>X instanceof Rj))throw new g$.InvalidArgumentError(Error("All provided queries must be a VectorQuery."));this._queries=Y,this._options=J}get queries(){return this._queries}get options(){return this._options}static fromVectorQuery(Y){return new _41([Y])}}Iq0.VectorSearch=_41});var Sj=q((Rq0)=>{Object.defineProperty(Rq0,"__esModule",{value:!0});Rq0.SearchRequest=Rq0.SearchScanConsistency=Rq0.HighlightStyle=Rq0.SearchResult=Rq0.SearchRow=Rq0.SearchMetaData=void 0;var mw=HY(),wq0=uw(),Aq0=Nj();class Mq0{}Rq0.SearchMetaData=Mq0;class Eq0{}Rq0.SearchRow=Eq0;class Tq0{constructor(Y){this.rows=Y.rows,this.meta=Y.meta}}Rq0.SearchResult=Tq0;var Pq0;(function(Y){Y.HTML="html",Y.ANSI="ansi"})(Pq0||(Rq0.HighlightStyle=Pq0={}));var Lq0;(function(Y){Y.NotBounded="not_bounded"})(Lq0||(Rq0.SearchScanConsistency=Lq0={}));class x41{constructor(Y){if(Y instanceof wq0.SearchQuery)this._searchQuery=Y;else if(Y instanceof Aq0.VectorSearch)this._vectorSearch=Y;else throw new mw.InvalidArgumentError(Error("Must provide either a SearchQuery or VectorSearch when creating SearchRequest."))}get searchQuery(){return this._searchQuery}get vectorSearch(){return this._vectorSearch}withSearchQuery(Y){if(!(Y instanceof wq0.SearchQuery))throw new mw.InvalidArgumentError(Error("Must provide a SearchQuery."));if(this._searchQuery)throw new mw.InvalidArgumentError(Error("Request already has a SearchQuery."));return this._searchQuery=Y,this}withVectorSearch(Y){if(!(Y instanceof Aq0.VectorSearch))throw new mw.InvalidArgumentError(Error("Must provide a VectorSearch."));if(this._vectorSearch)throw new mw.InvalidArgumentError(Error("Request already has a VectorSearch."));return this._vectorSearch=Y,this}static create(Y){return new x41(Y)}}Rq0.SearchRequest=x41});var jU=q((OY)=>{var Nq6=OY&&OY.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(OY,"__esModule",{value:!0});OY.StreamableScanPromise=OY.StreamableReplicasPromise=OY.StreamableRowPromise=OY.StreamablePromise=void 0;var Sq6=Nq6(C("events"));class dw extends Sq6.default{constructor(Y){super();this._promise=null,this._promiseOns=[],this._promise=new Promise((J,X)=>{Y({on:(Z,W)=>{this._promiseOns.push([Z,W]),super.on(Z,W)}},J,X)})}get promise(){if(!this._promise)throw Error("Cannot await a promise that is already registered for events");return this._promise}_depromisify(){this._promiseOns.forEach((Y)=>this.off(...Y)),this._promise=null}then(Y,J){return this.promise.then(Y,J)}catch(Y){return this.promise.catch(Y)}finally(Y){return this.promise.finally(Y)}addListener(Y,J){return this._depromisify(),super.on(Y,J)}on(Y,J){return this._depromisify(),super.on(Y,J)}get[Symbol.toStringTag](){return Promise[Symbol.toStringTag]}}OY.StreamablePromise=dw;class Sq0 extends dw{constructor(Y){super((J,X,Z)=>{let W,$=[],G;J.on("row",(Q)=>$.push(Q)),J.on("meta",(Q)=>G=Q),J.on("error",(Q)=>W=Q),J.on("end",()=>{if(W)return Z(W);X(Y($,G))})})}}OY.StreamableRowPromise=Sq0;class Cq0 extends dw{constructor(Y){super((J,X,Z)=>{let W,$=[];J.on("replica",(G)=>$.push(G)),J.on("error",(G)=>W=G),J.on("end",()=>{if(W)return Z(W);X(Y($))})})}}OY.StreamableReplicasPromise=Cq0;class jq0 extends dw{constructor(Y){super((J,X,Z)=>{let W,$=[];J.on("result",(G)=>$.push(G)),J.on("error",(G)=>W=G),J.on("end",()=>{if(W)return Z(W);X(Y($))})});this._cancelRequested=!1}get cancelRequested(){return this._cancelRequested}cancelStreaming(){this._cancelRequested=!0}}OY.StreamableScanPromise=jq0});var kj=q((kq0)=>{Object.defineProperty(kq0,"__esModule",{value:!0});kq0.QueryExecutor=void 0;var Cj=v8(),jj=Mj(),Cq6=jU();class f41{constructor(Y){this._cluster=Y}static execute(Y){let J=new Cq6.StreamableRowPromise((X,Z)=>{return new jj.QueryResult({rows:X,meta:Z})});return Y((X,Z)=>{let W=(0,Cj.errorFromCpp)(X);if(W){J.emit("error",W),J.emit("end");return}Z.rows.forEach(($)=>{J.emit("row",JSON.parse($))});{let $=Z.meta,G;if($.warnings)G=$.warnings.map((z)=>new jj.QueryWarning({code:z.code,message:z.message}));else G=[];let Q;if($.metrics){let z=$.metrics;Q=new jj.QueryMetrics({elapsedTime:z.elapsed_time,executionTime:z.execution_time,sortCount:z.sort_count||0,resultCount:z.result_count||0,resultSize:z.result_size||0,mutationCount:z.mutation_count||0,errorCount:z.error_count||0,warningCount:z.warning_count||0})}else Q=void 0;let U=new jj.QueryMetaData({requestId:$.request_id,clientContextId:$.client_context_id,status:$.status,signature:$.signature?JSON.parse($.signature):void 0,warnings:G,metrics:Q,profile:$.profile?JSON.parse($.profile):void 0});J.emit("meta",U)}J.emit("end");return}),J}query(Y,J){let X=J.timeout||this._cluster.queryTimeout;return f41.execute((Z)=>{this._cluster.conn.query({statement:Y,client_context_id:J.clientContextId,adhoc:J.adhoc===!1?!1:!0,metrics:J.metrics||!1,readonly:J.readOnly||!1,flex_index:J.flexIndex||!1,preserve_expiry:J.preserveExpiry||!1,use_replica:J.useReplica,max_parallelism:J.maxParallelism,scan_cap:J.scanCap,scan_wait:J.scanWait,pipeline_batch:J.pipelineBatch,pipeline_cap:J.pipelineCap,scan_consistency:(0,Cj.queryScanConsistencyToCpp)(J.scanConsistency),mutation_state:(0,Cj.mutationStateToCpp)(J.consistentWith).tokens,timeout:X,query_context:J.queryContext,profile:(0,Cj.queryProfileToCpp)(J.profile),raw:J.raw?Object.fromEntries(Object.entries(J.raw).filter(([,W])=>W!==void 0).map(([W,$])=>[W,JSON.stringify($)])):{},positional_parameters:J.parameters&&Array.isArray(J.parameters)?J.parameters.map((W)=>JSON.stringify(W!==null&&W!==void 0?W:null)):[],named_parameters:J.parameters&&!Array.isArray(J.parameters)?Object.fromEntries(Object.entries(J.parameters).filter(([,W])=>W!==void 0).map(([W,$])=>[W,JSON.stringify($)])):{},body_str:""},Z)})}}kq0.QueryExecutor=f41});var hj=q((bq0)=>{Object.defineProperty(bq0,"__esModule",{value:!0});bq0.RawJsonTranscoder=bq0.RawStringTranscoder=bq0.RawBinaryTranscoder=bq0.DefaultTranscoder=void 0;var EJ=0,Q3=2,U3=4,_j=255,_U=256,xj=0,fj=16777216,kU=33554432,XB=50331648,ZB=67108864,vj=-16777216;class xq0{encode(Y){if(Buffer.isBuffer(Y))return[Y,XB|Q3];if(typeof Y==="string")return[Buffer.from(Y),ZB|U3];return[Buffer.from(JSON.stringify(Y)),kU|EJ]}decode(Y,J){let X=J&_j,Z=J&vj;if(Z!==xj){if(Z===kU)X=EJ;else if(Z===XB)X=Q3;else if(Z===ZB)X=U3;else if(Z!==fj)X=_U}if(X===U3)return Y.toString("utf8");else if(X===Q3)return Y;else if(X===EJ)try{return JSON.parse(Y.toString("utf8"))}catch(W){return Y}return Y}}bq0.DefaultTranscoder=xq0;class fq0{encode(Y){if(Buffer.isBuffer(Y))return[Y,XB|Q3];throw Error("Only binary data supported by RawBinaryTranscoder.")}decode(Y,J){let X=J&_j,Z=J&vj;if(Z!==xj){if(Z===kU)X=EJ;else if(Z===XB)X=Q3;else if(Z===ZB)X=U3;else if(Z!==fj)X=_U}if(X===Q3)return Y;else if(X===U3)throw Error("String format not supported by RawBinaryTranscoder.");else if(X===EJ)throw Error("JSON format not supported by RawBinaryTranscoder.");else if(X===_U)throw Error("Unknown format not supported by RawBinaryTranscoder.");else throw Error(`Unrecognized format provided: ${X}.`)}}bq0.RawBinaryTranscoder=fq0;class vq0{encode(Y){if(typeof Y==="string")return[Buffer.from(Y),ZB|U3];throw Error("Only string data supported by RawStringTranscoder.")}decode(Y,J){let X=J&_j,Z=J&vj;if(Z!==xj){if(Z===kU)X=EJ;else if(Z===XB)X=Q3;else if(Z===ZB)X=U3;else if(Z!==fj)X=_U}if(X===U3)return Y.toString("utf8");else if(X===Q3)throw Error("Binary format not supported by RawStringTranscoder.");else if(X===EJ)throw Error("JSON format not supported by RawStringTranscoder.");else if(X===_U)throw Error("Unknown format not supported by RawStringTranscoder.");else throw Error(`Unrecognized format provided: ${X}.`)}}bq0.RawStringTranscoder=vq0;class hq0{encode(Y){if(typeof Y==="string")return[Buffer.from(Y),kU|EJ];if(Buffer.isBuffer(Y))return[Y,kU|EJ];throw Error("Only binary and string data supported by RawJsonTranscoder.")}decode(Y,J){let X=J&_j,Z=J&vj;if(Z!==xj){if(Z===kU)X=EJ;else if(Z===XB)X=Q3;else if(Z===ZB)X=U3;else if(Z!==fj)X=_U}if(X===U3)throw Error("string format not supported by RawJsonTranscoder.");else if(X===Q3)throw Error("Binary format not supported by RawJsonTranscoder.");else if(X===EJ)return Y;else if(X===_U)throw Error("Unknown format not supported by RawJsonTranscoder.");else throw Error(`Unrecognized format provided: ${X}.`)}}bq0.RawJsonTranscoder=hq0});var yj=q((K4)=>{var xq6=K4&&K4.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(K4,"__esModule",{value:!0});K4.Transactions=K4.TransactionAttemptContext=K4.TransactionQueryResult=K4.TransactionGetMultiReplicasFromPreferredServerGroupResult=K4.TransactionGetMultiReplicasFromPreferredServerGroupResultEntry=K4.TransactionGetMultiResult=K4.TransactionGetMultiResultEntry=K4.TransactionGetResult=K4.TransactionResult=K4.TransactionGetMultiReplicasFromPreferredServerGroupSpec=K4.TransactionGetMultiSpec=K4.TransactionGetMultiReplicasFromPreferredServerGroupMode=K4.TransactionGetMultiMode=K4.DocumentId=void 0;var mq0=xq6(CU()),r6=v8(),CZ=HY(),fq6=kj(),vq6=hj(),TJ=X5();class dq0{constructor(){this.bucket="",this.scope="",this.collection="",this.key=""}}K4.DocumentId=dq0;var gq0;(function(Y){Y.PrioritiseLatency="prioritise_latency",Y.DisableReadSkewDetection="disable_read_skew_detection",Y.PrioritiseReadSkewDetection="prioritise_read_skew_detection"})(gq0||(K4.TransactionGetMultiMode=gq0={}));var uq0;(function(Y){Y.PrioritiseLatency="prioritise_latency",Y.DisableReadSkewDetection="disable_read_skew_detection",Y.PrioritiseReadSkewDetection="prioritise_read_skew_detection"})(uq0||(K4.TransactionGetMultiReplicasFromPreferredServerGroupMode=uq0={}));class cq0{constructor(Y,J,X){this.collection=Y,this.id=J,this.transcoder=X}_toCppDocumentId(){return{bucket:this.collection.scope.bucket.name,scope:this.collection.scope.name||"_default",collection:this.collection.name||"_default",key:this.id}}}K4.TransactionGetMultiSpec=cq0;class lq0{constructor(Y,J,X){this.collection=Y,this.id=J,this.transcoder=X}_toCppDocumentId(){return{bucket:this.collection.scope.bucket.name,scope:this.collection.scope.name||"_default",collection:this.collection.name||"_default",key:this.id}}}K4.TransactionGetMultiReplicasFromPreferredServerGroupSpec=lq0;class v41{constructor(Y){this.transactionId=Y.transactionId,this.unstagingComplete=Y.unstagingComplete}}K4.TransactionResult=v41;class h41{constructor(Y){this.id=Y.id,this.content=Y.content,this.cas=Y.cas,this._links=Y._links,this._metadata=Y._metadata}}K4.TransactionGetResult=h41;class b41{constructor(Y){this.error=Y.error||null,this.value=Y.value}}K4.TransactionGetMultiResultEntry=b41;class y41{constructor(Y){this.content=Y.content}exists(Y){if(Y<0||Y>=this.content.length)throw Error(`Index (${Y}) out of bounds.`);return this.content[Y].error===void 0||this.content[Y].error===null}contentAt(Y){if(!this.exists(Y))throw this.content[Y].error||new CZ.DocumentNotFoundError(Error(`Document does not exist at index=${Y}.`));return this.content[Y].value}}K4.TransactionGetMultiResult=y41;class g41{constructor(Y){this.error=Y.error||null,this.value=Y.value}}K4.TransactionGetMultiReplicasFromPreferredServerGroupResultEntry=g41;class u41{constructor(Y){this.content=Y.content}exists(Y){if(Y<0||Y>=this.content.length)throw Error(`Index (${Y}) out of bounds.`);return this.content[Y].error===void 0||this.content[Y].error===null}contentAt(Y){if(!this.exists(Y))throw this.content[Y].error||new CZ.DocumentNotFoundError(Error(`Document does not exist at index=${Y}.`));return this.content[Y].value}}K4.TransactionGetMultiReplicasFromPreferredServerGroupResult=u41;class m41{constructor(Y){this.rows=Y.rows,this.meta=Y.meta}}K4.TransactionQueryResult=m41;function bj(Y,J){if(!Y)return null;let X;if(Y.content&&Y.content.data&&Y.content.data.length>0)X=J.decode(Y.content.data,Y.content.flags);return new h41({id:Y.id,content:X,cas:Y.cas,_links:Y.links,_metadata:Y.metadata})}function hq6(Y,J){if(!Y)return null;let X=[];for(let Z=0;Z<Y.content.length;++Z){let W=Y.content[Z],$,G;if(W&&W.data&&W.data.length>0)$=J[Z].decode(W.data,W.flags);else G=new CZ.DocumentNotFoundError(Error(`Document not found at index=${Z}.`));X.push(new b41({value:$,error:G}))}return new y41({content:X})}function bq6(Y,J){if(!Y)return null;let X=[];for(let Z=0;Z<Y.content.length;++Z){let W=Y.content[Z],$,G;if(W&&W.data&&W.data.length>0)$=J[Z].decode(W.data,W.flags);else G=new CZ.DocumentNotFoundError(Error(`Document not found at index=${Z}.`));X.push(new g41({value:$,error:G}))}return new u41({content:X})}class d41{constructor(Y,J){if(!J)J={};this._impl=new mq0.default.Transaction(Y.impl,{durability_level:(0,r6.durabilityToCpp)(J.durabilityLevel),timeout:J.timeout,query_scan_consistency:(0,r6.queryScanConsistencyToCpp)(void 0)}),this._transcoder=new vq6.DefaultTranscoder}get impl(){return this._impl}_newAttempt(){return TJ.PromiseHelper.wrap((Y)=>{this._impl.newAttempt((J)=>{let X=(0,r6.errorFromCpp)(J);Y(X)})})}async get(Y,J,X){let Z=(X===null||X===void 0?void 0:X.transcoder)||this._transcoder;return TJ.PromiseHelper.wrap((W)=>{let $=Y._cppDocId(J);this._impl.get({id:$},(G,Q)=>{let U=(0,r6.errorFromCpp)(G);if(U)return W(U,null);W(U,bj(Q,Z))})})}async getReplicaFromPreferredServerGroup(Y,J,X){let Z=(X===null||X===void 0?void 0:X.transcoder)||this._transcoder;return TJ.PromiseHelper.wrap((W)=>{let $=Y._cppDocId(J);this._impl.getReplicaFromPreferredServerGroup({id:$},(G,Q)=>{let U=(0,r6.errorFromCpp)(G);if(U)return W(U,null);W(U,bj(Q,Z))})})}async getMultiReplicasFromPreferredServerGroup(Y,J){let X=Y.map((W)=>W._toCppDocumentId()),Z=Y.map((W)=>W.transcoder||this._transcoder);return TJ.PromiseHelper.wrap((W)=>{this._impl.getMultiReplicasFromPreferredServerGroup({ids:X,mode:(0,r6.transactionGetMultiReplicasFromPreferredServerGroupModeToCpp)(J===null||J===void 0?void 0:J.mode)},($,G)=>{let Q=(0,r6.errorFromCpp)($);if(Q)return W(Q,null);W(Q,bq6(G,Z))})})}async getMulti(Y,J){let X=Y.map((W)=>W._toCppDocumentId()),Z=Y.map((W)=>W.transcoder||this._transcoder);return TJ.PromiseHelper.wrap((W)=>{this._impl.getMulti({ids:X,mode:(0,r6.transactionGetMultiModeToCpp)(J===null||J===void 0?void 0:J.mode)},($,G)=>{let Q=(0,r6.errorFromCpp)($);if(Q)return W(Q,null);W(Q,hq6(G,Z))})})}async insert(Y,J,X,Z){return TJ.PromiseHelper.wrap((W)=>{let $=Y._cppDocId(J),G=(Z===null||Z===void 0?void 0:Z.transcoder)||this._transcoder,[Q,U]=G.encode(X);this._impl.insert({id:$,content:{data:Q,flags:U}},(z,H)=>{let O=(0,r6.errorFromCpp)(z);if(O)return W(O,null);W(O,bj(H,G))})})}async replace(Y,J,X){return TJ.PromiseHelper.wrap((Z)=>{let W=(X===null||X===void 0?void 0:X.transcoder)||this._transcoder,[$,G]=W.encode(J);this._impl.replace({doc:{id:Y.id,content:{data:Buffer.from(""),flags:0},cas:Y.cas,links:Y._links,metadata:Y._metadata},content:{data:$,flags:G}},(Q,U)=>{let z=(0,r6.errorFromCpp)(Q);if(z)return Z(z,null);Z(z,bj(U,W))})})}async remove(Y){return TJ.PromiseHelper.wrap((J)=>{this._impl.remove({doc:{id:Y.id,content:{data:Buffer.from(""),flags:0},cas:Y.cas,links:Y._links,metadata:Y._metadata}},(X)=>{let Z=(0,r6.errorFromCpp)(X);J(Z,null)})})}async query(Y,J){let X=await fq6.QueryExecutor.execute((Z)=>{if(!J)J={};this._impl.query(Y,{scan_consistency:(0,r6.queryScanConsistencyToCpp)(J.scanConsistency),ad_hoc:J.adhoc===!1?!1:!0,client_context_id:J.clientContextId,pipeline_batch:J.pipelineBatch,pipeline_cap:J.pipelineCap,max_parallelism:J.maxParallelism,scan_wait:J.scanWait,scan_cap:J.scanCap,readonly:J.readOnly||!1,profile:(0,r6.queryProfileToCpp)(J.profile),metrics:J.metrics||!1,raw:J.raw?Object.fromEntries(Object.entries(J.raw).filter(([,W])=>W!==void 0).map(([W,$])=>[W,Buffer.from(JSON.stringify($))])):{},positional_parameters:J.parameters&&Array.isArray(J.parameters)?J.parameters.map((W)=>Buffer.from(JSON.stringify(W!==null&&W!==void 0?W:null))):[],named_parameters:J.parameters&&!Array.isArray(J.parameters)?Object.fromEntries(Object.entries(J.parameters).filter(([,W])=>W!==void 0).map(([W,$])=>[W,Buffer.from(JSON.stringify($))])):{}},(W,$)=>{Z(W,$)})});return new m41({rows:X.rows,meta:X.meta})}async _commit(){return TJ.PromiseHelper.wrap((Y)=>{this._impl.commit((J,X)=>{let Z=(0,r6.errorFromCpp)(J),W=null;if(X)W=new v41({transactionId:X.transaction_id,unstagingComplete:X.unstaging_complete});Y(Z,W)})})}async _rollback(){return TJ.PromiseHelper.wrap((Y)=>{this._impl.rollback((J)=>{let X=(0,r6.errorFromCpp)(J);Y(X)})})}}K4.TransactionAttemptContext=d41;class pq0{constructor(Y,J){if(!J)J={};if(!J.cleanupConfig)J.cleanupConfig={};if(!J.queryConfig)J.queryConfig={};let X=Y.conn;try{let Z=new mq0.default.Transactions(X,{durability_level:(0,r6.durabilityToCpp)(J.durabilityLevel),timeout:J.timeout,query_scan_consistency:(0,r6.queryScanConsistencyToCpp)(J.queryConfig.scanConsistency),cleanup_window:J.cleanupConfig.cleanupWindow,cleanup_lost_attempts:!J.cleanupConfig.disableLostAttemptCleanup,cleanup_client_attempts:!J.cleanupConfig.disableClientAttemptCleanup,metadata_collection:(0,r6.transactionKeyspaceToCpp)(J.metadataCollection)});this._cluster=Y,this._impl=Z}catch(Z){throw(0,r6.errorFromCpp)(Z)}}get impl(){return this._impl}_close(){return TJ.PromiseHelper.wrap((Y)=>{this._impl.close((J)=>{let X=(0,r6.errorFromCpp)(J);Y(X,null)})})}async run(Y,J){let X=new d41(this,J);for(;;){await X._newAttempt();try{await Y(X)}catch(Z){if(await X._rollback(),Z instanceof CZ.TransactionOperationFailedError)throw new CZ.TransactionFailedError(Z.cause,Z.context);else if(Z instanceof CZ.TransactionExpiredError||Z instanceof CZ.TransactionCommitAmbiguousError)throw Z;throw new CZ.TransactionFailedError(Z)}try{let Z=await X._commit();if(!Z)continue;return Z}catch(Z){}}}}K4.Transactions=pq0});var cw=q((eq0)=>{Object.defineProperty(eq0,"__esModule",{value:!0});eq0.ViewErrorMode=eq0.ViewOrdering=eq0.ViewScanConsistency=eq0.DesignDocumentNamespace=eq0.ViewRow=eq0.ViewMetaData=eq0.ViewResult=void 0;class aq0{constructor(Y){this.rows=Y.rows,this.meta=Y.meta}}eq0.ViewResult=aq0;class sq0{constructor(Y){this.totalRows=Y.totalRows,this.debug=Y.debug}get total_rows(){return this.totalRows}}eq0.ViewMetaData=sq0;class tq0{constructor(Y){this.value=Y.value,this.key=Y.key,this.id=Y.id}}eq0.ViewRow=tq0;var nq0;(function(Y){Y.Development="development",Y.Production="production"})(nq0||(eq0.DesignDocumentNamespace=nq0={}));var iq0;(function(Y){Y.NotBounded="ok",Y.RequestPlus="false",Y.UpdateAfter="update_after"})(iq0||(eq0.ViewScanConsistency=iq0={}));var oq0;(function(Y){Y.Ascending="false",Y.Descending="true"})(oq0||(eq0.ViewOrdering=oq0={}));var rq0;(function(Y){Y.Continue="continue",Y.Stop="stop"})(rq0||(eq0.ViewErrorMode=rq0={}))});var ow=q((q0)=>{var lq6=q0&&q0.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),pq6=q0&&q0.__setModuleDefault||(Object.create?function(Y,J){Object.defineProperty(Y,"default",{enumerable:!0,value:J})}:function(Y,J){Y.default=J}),nq6=q0&&q0.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var J={};if(Y!=null){for(var X in Y)if(X!=="default"&&Object.prototype.hasOwnProperty.call(Y,X))lq6(J,Y,X)}return pq6(J,Y),J};Object.defineProperty(q0,"__esModule",{value:!0});q0.EventingFunctionManager=q0.EventingState=q0.EventingFunctionState=q0.EventingFunction=q0.EventingFunctionSettings=q0.EventingFunctionConstantBinding=q0.EventingFunctionUrlBinding=q0.EventingFunctionUrlAuthBearer=q0.EventingFunctionUrlAuthDigest=q0.EventingFunctionUrlAuthBasic=q0.EventingFunctionBucketBinding=q0.EventingFunctionKeyspace=q0.EventingFunctionUrlAuthMethod=q0.EventingFunctionBucketAccess=q0.EventingFunctionLogLevel=q0.EventingFunctionLanguageCompatibility=q0.EventingFunctionStatus=q0.EventingFunctionProcessingStatus=q0.EventingFunctionDeploymentStatus=q0.EventingFunctionDcpBoundary=void 0;var jZ=X5(),p4=v8(),JF0=nq6(HY()),XF0;(function(Y){Y.Everything="everything",Y.FromNow="from_now"})(XF0||(q0.EventingFunctionDcpBoundary=XF0={}));var ZF0;(function(Y){Y.Deployed="deployed",Y.Undeployed="undeployed"})(ZF0||(q0.EventingFunctionDeploymentStatus=ZF0={}));var WF0;(function(Y){Y.Running="running",Y.Paused="paused"})(WF0||(q0.EventingFunctionProcessingStatus=WF0={}));var $F0;(function(Y){Y.Undeployed="undeployed",Y.Deploying="deploying",Y.Deployed="deployed",Y.Undeploying="undeploying",Y.Paused="paused",Y.Pausing="pausing"})($F0||(q0.EventingFunctionStatus=$F0={}));var GF0;(function(Y){Y.Version_6_0_0="6.0.0",Y.Version_6_5_0="6.5.0",Y.Version_6_6_2="6.6.2",Y.Version_7_2_0="7.2.0"})(GF0||(q0.EventingFunctionLanguageCompatibility=GF0={}));var QF0;(function(Y){Y.Info="INFO",Y.Error="ERROR",Y.Warning="WARNING",Y.Debug="DEBUG",Y.Trace="TRACE"})(QF0||(q0.EventingFunctionLogLevel=QF0={}));var UF0;(function(Y){Y.ReadOnly="r",Y.ReadWrite="rw"})(UF0||(q0.EventingFunctionBucketAccess=UF0={}));var kZ;(function(Y){Y.None="no-auth",Y.Basic="basic",Y.Digest="digest",Y.Bearer="bearer"})(kZ||(q0.EventingFunctionUrlAuthMethod=kZ={}));class lw{constructor(Y){this.bucket=Y.bucket,this.scope=Y.scope,this.collection=Y.collection}}q0.EventingFunctionKeyspace=lw;class pw{constructor(Y){this.alias=Y.alias,this.name=Y.name,this.access=Y.access}static _fromCppData(Y){return new pw({alias:Y.alias,name:new lw({bucket:Y.name.bucket,scope:Y.name.scope,collection:Y.name.collection}),access:(0,p4.eventingBucketBindingAccessFromCpp)(Y.access)})}static _toCppData(Y){return{alias:Y.alias,name:{bucket:Y.name.bucket,scope:Y.name.scope,collection:Y.name.collection},access:(0,p4.eventingBucketBindingAccessToCpp)(Y.access)}}}q0.EventingFunctionBucketBinding=pw;class c41{constructor(Y){this.method=kZ.Basic,this.username=Y.username,this.password=Y.password}}q0.EventingFunctionUrlAuthBasic=c41;class l41{constructor(Y){this.method=kZ.Digest,this.username=Y.username,this.password=Y.password}}q0.EventingFunctionUrlAuthDigest=l41;class p41{constructor(Y){this.method=kZ.Bearer,this.key=Y.key}}q0.EventingFunctionUrlAuthBearer=p41;class gj{constructor(Y){this.hostname=Y.hostname,this.alias=Y.alias,this.auth=Y.auth,this.allowCookies=Y.allowCookies,this.validateSslCertificate=Y.validateSslCertificate}static _fromCppData(Y){let J;if(Y.auth_name==="function_url_no_auth")J=void 0;else if(Y.auth_name==="function_url_auth_basic")J=new c41({username:Y.auth_value.username,password:Y.auth_value.password});else if(Y.auth_name==="function_url_auth_digest")J=new l41({username:Y.auth_value.username,password:Y.auth_value.password});else if(Y.auth_name==="function_url_auth_bearer")J=new p41({key:Y.auth_value.key});else throw new JF0.InvalidArgumentError(Error("Unrecognized EventingFunctionUrlBinding: "+Y.auth_name));return{hostname:Y.hostname,alias:Y.alias,allowCookies:Y.allow_cookies,validateSslCertificate:Y.validate_ssl_certificate,auth:J}}static _toCppData(Y){let J,X;if(!Y.auth||Y.auth.method===kZ.None)J={},X="function_url_no_auth";else if(Y.auth.method===kZ.Basic)J={username:Y.auth.username,password:Y.auth.password},X="function_url_auth_basic";else if(Y.auth.method===kZ.Digest)J={username:Y.auth.username,password:Y.auth.password},X="function_url_auth_digest";else if(Y.auth.method===kZ.Bearer)J={key:Y.auth.key},X="function_url_auth_bearer";else throw new JF0.InvalidArgumentError(Error("Unrecognized EventingFunctionUrlBinding"));return{alias:Y.alias,hostname:Y.hostname,allow_cookies:Y.allowCookies,validate_ssl_certificate:Y.validateSslCertificate,auth_name:X,auth_value:J}}}q0.EventingFunctionUrlBinding=gj;class nw{constructor(Y){this.alias=Y.alias,this.literal=Y.literal}static _fromCppData(Y){return new nw({alias:Y.alias,literal:Y.literal})}static _toCppData(Y){return{alias:Y.alias,literal:Y.literal}}}q0.EventingFunctionConstantBinding=nw;class iw{constructor(Y){this.cppWorkerThreadCount=Y.cppWorkerThreadCount,this.dcpStreamBoundary=Y.dcpStreamBoundary,this.description=Y.description,this.deploymentStatus=Y.deploymentStatus,this.processingStatus=Y.processingStatus,this.languageCompatibility=Y.languageCompatibility,this.logLevel=Y.logLevel,this.executionTimeout=Y.executionTimeout,this.lcbInstCapacity=Y.lcbInstCapacity,this.lcbRetryCount=Y.lcbRetryCount,this.lcbTimeout=Y.lcbTimeout,this.queryConsistency=Y.queryConsistency,this.numTimerPartitions=Y.numTimerPartitions,this.sockBatchSize=Y.sockBatchSize,this.tickDuration=Y.tickDuration,this.timerContextSize=Y.timerContextSize,this.userPrefix=Y.userPrefix,this.bucketCacheSize=Y.bucketCacheSize,this.bucketCacheAge=Y.bucketCacheAge,this.curlMaxAllowedRespSize=Y.curlMaxAllowedRespSize,this.queryPrepareAll=Y.queryPrepareAll,this.workerCount=Y.workerCount,this.handlerHeaders=Y.handlerHeaders,this.handlerFooters=Y.handlerFooters,this.enableAppLogRotation=Y.enableAppLogRotation,this.appLogDir=Y.appLogDir,this.appLogMaxSize=Y.appLogMaxSize,this.appLogMaxFiles=Y.appLogMaxFiles,this.checkpointInterval=Y.checkpointInterval}static _fromCppData(Y){return new iw({cppWorkerThreadCount:Y.cpp_worker_count,dcpStreamBoundary:(0,p4.eventingFunctionDcpBoundaryFromCpp)(Y.dcp_stream_boundary),description:Y.description,deploymentStatus:(0,p4.eventingFunctionDeploymentStatusFromCpp)(Y.deployment_status),processingStatus:(0,p4.eventingFunctionProcessingStatusFromCpp)(Y.processing_status),logLevel:(0,p4.eventingFunctionLogLevelFromCpp)(Y.log_level),languageCompatibility:(0,p4.eventingFunctionLanguageCompatibilityFromCpp)(Y.language_compatibility),executionTimeout:Y.execution_timeout,lcbInstCapacity:Y.lcb_inst_capacity,lcbRetryCount:Y.lcb_retry_count,lcbTimeout:Y.lcb_timeout,queryConsistency:(0,p4.queryScanConsistencyFromCpp)(Y.query_consistency),numTimerPartitions:Y.num_timer_partitions,sockBatchSize:Y.sock_batch_size,tickDuration:Y.tick_duration,timerContextSize:Y.timer_context_size,userPrefix:Y.user_prefix,bucketCacheSize:Y.bucket_cache_size,bucketCacheAge:Y.bucket_cache_age,curlMaxAllowedRespSize:Y.curl_max_allowed_resp_size,queryPrepareAll:Y.query_prepare_all,workerCount:Y.worker_count,handlerHeaders:Y.handler_headers,handlerFooters:Y.handler_footers,enableAppLogRotation:Y.enable_app_log_rotation,appLogDir:Y.app_log_dir,appLogMaxSize:Y.app_log_max_size,appLogMaxFiles:Y.app_log_max_files,checkpointInterval:Y.checkpoint_interval})}static _toCppData(Y){var J,X;if(!Y)return{handler_headers:[],handler_footers:[]};return{cpp_worker_count:Y.cppWorkerThreadCount,dcp_stream_boundary:(0,p4.eventingFunctionDcpBoundaryToCpp)(Y.dcpStreamBoundary),description:Y.description,deployment_status:(0,p4.eventingFunctionDeploymentStatusToCpp)(Y.deploymentStatus),processing_status:(0,p4.eventingFunctionProcessingStatusToCpp)(Y.processingStatus),log_level:(0,p4.eventingFunctionLogLevelToCpp)(Y.logLevel),language_compatibility:(0,p4.eventingFunctionLanguageCompatibilityToCpp)(Y.languageCompatibility),execution_timeout:Y.executionTimeout,lcb_inst_capacity:Y.lcbInstCapacity,lcb_retry_count:Y.lcbRetryCount,lcb_timeout:Y.lcbTimeout,query_consistency:(0,p4.queryScanConsistencyToCpp)(Y.queryConsistency),num_timer_partitions:Y.numTimerPartitions,sock_batch_size:Y.sockBatchSize,tick_duration:Y.tickDuration,timer_context_size:Y.timerContextSize,user_prefix:Y.userPrefix,bucket_cache_size:Y.bucketCacheSize,bucket_cache_age:Y.bucketCacheAge,curl_max_allowed_resp_size:Y.curlMaxAllowedRespSize,query_prepare_all:Y.queryPrepareAll,worker_count:Y.workerCount,handler_headers:(J=Y.handlerHeaders)!==null&&J!==void 0?J:[],handler_footers:(X=Y.handlerFooters)!==null&&X!==void 0?X:[],enable_app_log_rotation:Y.enableAppLogRotation,app_log_dir:Y.appLogDir,app_log_max_size:Y.appLogMaxSize,app_log_max_files:Y.appLogMaxFiles,checkpoint_interval:Y.checkpointInterval}}}q0.EventingFunctionSettings=iw;class WB{constructor(Y){this.name=Y.name,this.code=Y.code,this.version=Y.version,this.enforceSchema=Y.enforceSchema,this.handlerUuid=Y.handlerUuid,this.functionInstanceId=Y.functionInstanceId,this.metadataKeyspace=Y.metadataKeyspace,this.sourceKeyspace=Y.sourceKeyspace,this.bucketBindings=Y.bucketBindings,this.urlBindings=Y.urlBindings,this.constantBindings=Y.constantBindings,this.settings=Y.settings}static _fromCppData(Y){return new WB({name:Y.name,code:Y.code,metadataKeyspace:new lw({bucket:Y.metadata_keyspace.bucket,scope:Y.metadata_keyspace.scope,collection:Y.metadata_keyspace.collection}),sourceKeyspace:new lw({bucket:Y.source_keyspace.bucket,scope:Y.source_keyspace.scope,collection:Y.source_keyspace.collection}),version:Y.version,enforceSchema:Y.enforce_schema,handlerUuid:Y.handler_uuid,functionInstanceId:Y.function_instance_id,bucketBindings:Y.bucket_bindings.map((J)=>pw._fromCppData(J)),urlBindings:Y.url_bindings.map((J)=>gj._fromCppData(J)),constantBindings:Y.constant_bindings.map((J)=>nw._fromCppData(J)),settings:iw._fromCppData(Y.settings)})}static _toCppData(Y){return{name:Y.name,code:Y.code,metadata_keyspace:{bucket:Y.metadataKeyspace.bucket,scope:Y.metadataKeyspace.scope,collection:Y.metadataKeyspace.collection},source_keyspace:{bucket:Y.sourceKeyspace.bucket,scope:Y.sourceKeyspace.scope,collection:Y.sourceKeyspace.collection},version:Y.version,enforce_schema:Y.enforceSchema,handler_uuid:Y.handlerUuid,function_instance_id:Y.functionInstanceId,bucket_bindings:Y.bucketBindings.map((J)=>pw._toCppData(J)),url_bindings:Y.urlBindings.map((J)=>gj._toCppData(J)),constant_bindings:Y.constantBindings.map((J)=>nw._toCppData(J)),settings:iw._toCppData(Y.settings)}}}q0.EventingFunction=WB;class uj{constructor(Y){this.name=Y.name,this.status=Y.status,this.numBootstrappingNodes=Y.numBootstrappingNodes,this.numDeployedNodes=Y.numDeployedNodes,this.deploymentStatus=Y.deploymentStatus,this.processingStatus=Y.processingStatus}static _fromCppData(Y){return new uj({name:Y.name,status:(0,p4.eventingFunctionStatusFromCpp)(Y.status),numBootstrappingNodes:Y.num_bootstrapping_nodes,numDeployedNodes:Y.num_deployed_nodes,deploymentStatus:(0,p4.eventingFunctionDeploymentStatusFromCpp)(Y.deployment_status),processingStatus:(0,p4.eventingFunctionProcessingStatusFromCpp)(Y.processing_status)})}}q0.EventingFunctionState=uj;class mj{constructor(Y){this.numEventingNodes=Y.numEventingNodes,this.functions=Y.functions}static _fromCppData(Y){return new mj({numEventingNodes:Y.num_eventing_nodes,functions:Y.functions.map((J)=>uj._fromCppData(J))})}}q0.EventingState=mj;class zF0{constructor(Y){this._cluster=Y}async upsertFunction(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return jZ.PromiseHelper.wrap((W)=>{this._cluster.conn.managementEventingUpsertFunction({function:WB._toCppData(Y),timeout:Z},($)=>{let G=(0,p4.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async dropFunction(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return jZ.PromiseHelper.wrap((W)=>{this._cluster.conn.managementEventingDropFunction({name:Y,timeout:Z},($)=>{let G=(0,p4.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async getAllFunctions(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=Y.timeout||this._cluster.managementTimeout;return jZ.PromiseHelper.wrap((Z)=>{this._cluster.conn.managementEventingGetAllFunctions({timeout:X},(W,$)=>{let G=(0,p4.errorFromCpp)(W);if(G)return Z(G,null);let Q=$.functions.map((U)=>WB._fromCppData(U));Z(null,Q)})},J)}async getFunction(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return jZ.PromiseHelper.wrap((W)=>{this._cluster.conn.managementEventingGetFunction({name:Y,timeout:Z},($,G)=>{let Q=(0,p4.errorFromCpp)($);if(Q)return W(Q,null);let U=WB._fromCppData(G.function);W(null,U)})},X)}async deployFunction(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return jZ.PromiseHelper.wrap((W)=>{this._cluster.conn.managementEventingDeployFunction({name:Y,timeout:Z},($)=>{let G=(0,p4.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async undeployFunction(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return jZ.PromiseHelper.wrap((W)=>{this._cluster.conn.managementEventingUndeployFunction({name:Y,timeout:Z},($)=>{let G=(0,p4.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async pauseFunction(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return jZ.PromiseHelper.wrap((W)=>{this._cluster.conn.managementEventingPauseFunction({name:Y,timeout:Z},($)=>{let G=(0,p4.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async resumeFunction(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return jZ.PromiseHelper.wrap((W)=>{this._cluster.conn.managementEventingResumeFunction({name:Y,timeout:Z},($)=>{let G=(0,p4.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async functionsStatus(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=Y.timeout||this._cluster.managementTimeout;return jZ.PromiseHelper.wrap((Z)=>{this._cluster.conn.managementEventingGetStatus({timeout:X},(W,$)=>{let G=(0,p4.errorFromCpp)(W);if(G)return Z(G,null);let Q=mj._fromCppData($.status);Z(null,Q)})},J)}}q0.EventingFunctionManager=zF0});var v8=q((U1)=>{var iq6=U1&&U1.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),oq6=U1&&U1.__setModuleDefault||(Object.create?function(Y,J){Object.defineProperty(Y,"default",{enumerable:!0,value:J})}:function(Y,J){Y.default=J}),KF0=U1&&U1.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var J={};if(Y!=null){for(var X in Y)if(X!=="default"&&Object.prototype.hasOwnProperty.call(Y,X))iq6(J,Y,X)}return oq6(J,Y),J},rq6=U1&&U1.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(U1,"__esModule",{value:!0});U1.eventingFunctionLanguageCompatibilityFromCpp=U1.eventingFunctionLanguageCompatibilityToCpp=U1.eventingFunctionLogLevelFromCpp=U1.eventingFunctionLogLevelToCpp=U1.eventingFunctionProcessingStatusFromCpp=U1.eventingFunctionProcessingStatusToCpp=U1.eventingFunctionDeploymentStatusFromCpp=U1.eventingFunctionDeploymentStatusToCpp=U1.eventingFunctionDcpBoundaryFromCpp=U1.eventingFunctionDcpBoundaryToCpp=U1.eventingBucketBindingAccessFromCpp=U1.eventingBucketBindingAccessToCpp=U1.transactionKeyspaceToCpp=U1.designDocumentNamespaceToCpp=U1.designDocumentNamespaceFromCpp=U1.vectorQueryCombinationToCpp=U1.bucketConflictResolutionTypeFromCpp=U1.bucketConflictResolutionTypeToCpp=U1.bucketStorageBackendFromCpp=U1.bucketStorageBackendToCpp=U1.bucketEvictionPolicyFromCpp=U1.bucketEvictionPolicyToCpp=U1.bucketCompressionModeFromCpp=U1.bucketCompressionModeToCpp=U1.bucketTypeFromCpp=U1.bucketTypeToCpp=U1.scanTypeToCpp=U1.errorFromCpp=U1.contextFromCpp=U1.pingStateFromCpp=U1.txnOpExeptionFromCpp=U1.txnExternalExceptionStringFromCpp=U1.endpointStateFromCpp=U1.serviceTypeFromCpp=U1.serviceTypeToCpp=U1.mutationStateToCpp=U1.searchHighlightStyleToCpp=U1.searchScanConsistencyToCpp=U1.analyticsStatusFromCpp=U1.analyticsScanConsistencyToCpp=U1.queryProfileToCpp=U1.queryScanConsistencyFromCpp=U1.queryScanConsistencyToCpp=U1.viewOrderingToCpp=U1.viewScanConsistencyToCpp=U1.storeSemanticToCpp=U1.replicateToToCpp=U1.persistToToCpp=U1.durabilityFromCpp=U1.durabilityToCpp=void 0;U1.transactionGetMultiReplicasFromPreferredServerGroupModeToCpp=U1.transactionGetMultiModeToCpp=U1.readPreferenceToCpp=U1.authDomainFromCpp=U1.authDomainToCpp=U1.encryptionSettingsFromCpp=U1.encryptionSettingsToCpp=U1.encryptionLevelToCpp=U1.couchbaseLinkEncryptionLevelFromCpp=U1.eventingFunctionStatusFromCpp=void 0;var KY=Fj(),fU=Aj(),_=rq6(CU()),A4=Pj(),xU=Lj(),$B=KF0(Vj()),G1=KF0(HY()),d4=eK(),vU=Mj(),HF0=Ej(),n41=Sj(),GB=yj(),aq6=X5(),OF0=Nj(),_Z=cw(),C0=ow();function sq6(Y){if(Y===null||Y===void 0)return _.default.durability_level.none;if(typeof Y==="string")Y=(0,aq6.nsServerStrToDuraLevel)(Y);if(Y===d4.DurabilityLevel.None)return _.default.durability_level.none;else if(Y===d4.DurabilityLevel.Majority)return _.default.durability_level.majority;else if(Y===d4.DurabilityLevel.MajorityAndPersistOnMaster)return _.default.durability_level.majority_and_persist_to_active;else if(Y===d4.DurabilityLevel.PersistToMajority)return _.default.durability_level.persist_to_majority;throw new G1.InvalidDurabilityLevel}U1.durabilityToCpp=sq6;function tq6(Y){if(Y===null||Y===void 0)return;if(Y===_.default.durability_level.none)return d4.DurabilityLevel.None;else if(Y===_.default.durability_level.majority)return d4.DurabilityLevel.Majority;else if(Y===_.default.durability_level.majority_and_persist_to_active)return d4.DurabilityLevel.MajorityAndPersistOnMaster;else if(Y===_.default.durability_level.persist_to_majority)return d4.DurabilityLevel.PersistToMajority;throw new G1.InvalidDurabilityLevel}U1.durabilityFromCpp=tq6;function eq6(Y){if(Y===null||Y===void 0)return _.default.persist_to.none;if(Y===0)return _.default.persist_to.none;else if(Y===1)return _.default.persist_to.active;else if(Y===2)return _.default.persist_to.one;else if(Y===3)return _.default.persist_to.two;else if(Y===4)return _.default.persist_to.three;else if(Y===5)return _.default.persist_to.four;throw new G1.InvalidDurabilityPersistToLevel}U1.persistToToCpp=eq6;function YF6(Y){if(Y===null||Y===void 0)return _.default.replicate_to.none;if(Y===0)return _.default.replicate_to.none;else if(Y===1)return _.default.replicate_to.one;else if(Y===2)return _.default.replicate_to.two;else if(Y===3)return _.default.replicate_to.three;throw new G1.InvalidDurabilityReplicateToLevel}U1.replicateToToCpp=YF6;function JF6(Y){if(Y===null||Y===void 0)return _.default.store_semantics.replace;if(Y===d4.StoreSemantics.Insert)return _.default.store_semantics.insert;else if(Y===d4.StoreSemantics.Upsert)return _.default.store_semantics.upsert;else if(Y===d4.StoreSemantics.Replace)return _.default.store_semantics.replace;throw new G1.InvalidArgumentError}U1.storeSemanticToCpp=JF6;function XF6(Y){if(Y===null||Y===void 0)return;if(Y===_Z.ViewScanConsistency.NotBounded)return _.default.view_scan_consistency.not_bounded;else if(Y===_Z.ViewScanConsistency.UpdateAfter)return _.default.view_scan_consistency.update_after;else if(Y===_Z.ViewScanConsistency.RequestPlus)return _.default.view_scan_consistency.request_plus;throw new G1.InvalidArgumentError}U1.viewScanConsistencyToCpp=XF6;function ZF6(Y){if(Y===null||Y===void 0)return;if(Y===_Z.ViewOrdering.Ascending)return _.default.view_sort_order.ascending;else if(Y===_Z.ViewOrdering.Descending)return _.default.view_sort_order.descending;throw new G1.InvalidArgumentError(Error("Unrecognized view ordering."))}U1.viewOrderingToCpp=ZF6;function WF6(Y){if(Y===null||Y===void 0)return;if(Y===vU.QueryScanConsistency.NotBounded)return _.default.query_scan_consistency.not_bounded;else if(Y===vU.QueryScanConsistency.RequestPlus)return _.default.query_scan_consistency.request_plus;throw new G1.InvalidArgumentError}U1.queryScanConsistencyToCpp=WF6;function $F6(Y){if(!Y)return;if(Y===_.default.query_scan_consistency.not_bounded)return vU.QueryScanConsistency.NotBounded;else if(Y===_.default.query_scan_consistency.request_plus)return vU.QueryScanConsistency.RequestPlus;throw new G1.InvalidArgumentError}U1.queryScanConsistencyFromCpp=$F6;function GF6(Y){if(Y===null||Y===void 0)return _.default.query_profile.off;if(Y===vU.QueryProfileMode.Off)return _.default.query_profile.off;else if(Y===vU.QueryProfileMode.Phases)return _.default.query_profile.phases;else if(Y===vU.QueryProfileMode.Timings)return _.default.query_profile.timings;throw new G1.InvalidArgumentError}U1.queryProfileToCpp=GF6;function QF6(Y){if(Y===null||Y===void 0)return _.default.analytics_scan_consistency.not_bounded;if(Y===KY.AnalyticsScanConsistency.NotBounded)return _.default.analytics_scan_consistency.not_bounded;else if(Y===KY.AnalyticsScanConsistency.RequestPlus)return _.default.analytics_scan_consistency.request_plus;throw new G1.InvalidArgumentError}U1.analyticsScanConsistencyToCpp=QF6;function UF6(Y){if(Y===_.default.analytics_response_analytics_status.running)return KY.AnalyticsStatus.Running;else if(Y===_.default.analytics_response_analytics_status.success)return KY.AnalyticsStatus.Success;else if(Y===_.default.analytics_response_analytics_status.errors)return KY.AnalyticsStatus.Errors;else if(Y===_.default.analytics_response_analytics_status.completed)return KY.AnalyticsStatus.Completed;else if(Y===_.default.analytics_response_analytics_status.stopped)return KY.AnalyticsStatus.Stopped;else if(Y===_.default.analytics_response_analytics_status.timedout)return KY.AnalyticsStatus.Timeout;else if(Y===_.default.analytics_response_analytics_status.closed)return KY.AnalyticsStatus.Closed;else if(Y===_.default.analytics_response_analytics_status.fatal)return KY.AnalyticsStatus.Fatal;else if(Y===_.default.analytics_response_analytics_status.aborted)return KY.AnalyticsStatus.Aborted;else if(Y===_.default.analytics_response_analytics_status.unknown)return KY.AnalyticsStatus.Unknown;throw new G1.InvalidArgumentError}U1.analyticsStatusFromCpp=UF6;function zF6(Y){if(Y===null||Y===void 0)return _.default.search_scan_consistency.not_bounded;if(Y===n41.SearchScanConsistency.NotBounded)return _.default.search_scan_consistency.not_bounded;throw new G1.InvalidArgumentError}U1.searchScanConsistencyToCpp=zF6;function HF6(Y){if(Y===null||Y===void 0)return;if(Y===n41.HighlightStyle.ANSI)return _.default.search_highlight_style.ansi;else if(Y===n41.HighlightStyle.HTML)return _.default.search_highlight_style.html;throw new G1.InvalidArgumentError}U1.searchHighlightStyleToCpp=HF6;function OF6(Y){if(Y===null||Y===void 0)return{tokens:[]};let J=[];for(let X in Y._data)for(let Z in Y._data[X]){let W=Y._data[X][Z];J.push(W)}return{tokens:J}}U1.mutationStateToCpp=OF6;function KF6(Y){if(Y===d4.ServiceType.KeyValue)return _.default.service_type.key_value;else if(Y===d4.ServiceType.Query)return _.default.service_type.query;else if(Y===d4.ServiceType.Analytics)return _.default.service_type.analytics;else if(Y===d4.ServiceType.Search)return _.default.service_type.search;else if(Y===d4.ServiceType.Views)return _.default.service_type.view;else if(Y===d4.ServiceType.Management)return _.default.service_type.management;else if(Y===d4.ServiceType.Eventing)return _.default.service_type.eventing;throw new G1.InvalidArgumentError}U1.serviceTypeToCpp=KF6;function BF6(Y){if(Y===_.default.service_type.key_value)return d4.ServiceType.KeyValue;else if(Y===_.default.service_type.query)return d4.ServiceType.Query;else if(Y===_.default.service_type.analytics)return d4.ServiceType.Analytics;else if(Y===_.default.service_type.search)return d4.ServiceType.Search;else if(Y===_.default.service_type.view)return d4.ServiceType.Views;else if(Y===_.default.service_type.management)return d4.ServiceType.Management;else if(Y===_.default.service_type.eventing)return d4.ServiceType.Eventing;throw new G1.InvalidArgumentError}U1.serviceTypeFromCpp=BF6;function qF6(Y){if(Y===_.default.diag_endpoint_state.disconnected)return xU.EndpointState.Disconnected;else if(Y===_.default.diag_endpoint_state.connecting)return xU.EndpointState.Connecting;else if(Y===_.default.diag_endpoint_state.connected)return xU.EndpointState.Connected;else if(Y===_.default.diag_endpoint_state.disconnecting)return xU.EndpointState.Disconnecting;throw new G1.InvalidArgumentError}U1.endpointStateFromCpp=qF6;function BY(Y,J){if(Y===_.default.transactions_external_exception.UNKNOWN){if(J)return J;return"unknown"}else if(Y===_.default.transactions_external_exception.ACTIVE_TRANSACTION_RECORD_ENTRY_NOT_FOUND)return"active_transaction_record_entry_not_found";else if(Y===_.default.transactions_external_exception.ACTIVE_TRANSACTION_RECORD_FULL)return"active_transaction_record_full";else if(Y===_.default.transactions_external_exception.ACTIVE_TRANSACTION_RECORD_NOT_FOUND)return"active_transaction_record_not_found";else if(Y===_.default.transactions_external_exception.DOCUMENT_ALREADY_IN_TRANSACTION)return"document_already_in_transaction";else if(Y===_.default.transactions_external_exception.DOCUMENT_EXISTS_EXCEPTION)return"document_exists_exception";else if(Y===_.default.transactions_external_exception.DOCUMENT_NOT_FOUND_EXCEPTION)return"document_not_found_exception";else if(Y===_.default.transactions_external_exception.NOT_SET)return"not_set";else if(Y===_.default.transactions_external_exception.FEATURE_NOT_AVAILABLE_EXCEPTION)return"feature_not_available_exception";else if(Y===_.default.transactions_external_exception.TRANSACTION_ABORTED_EXTERNALLY)return"transaction_aborted_externally";else if(Y===_.default.transactions_external_exception.PREVIOUS_OPERATION_FAILED)return"previous_operation_failed";else if(Y===_.default.transactions_external_exception.FORWARD_COMPATIBILITY_FAILURE)return"forward_compatibility_failure";else if(Y===_.default.transactions_external_exception.PARSING_FAILURE)return"parsing_failure";else if(Y===_.default.transactions_external_exception.ILLEGAL_STATE_EXCEPTION)return"illegal_state_exception";else if(Y===_.default.transactions_external_exception.COUCHBASE_EXCEPTION)return"couchbase_exception";else if(Y===_.default.transactions_external_exception.SERVICE_NOT_AVAILABLE_EXCEPTION)return"service_not_available_exception";else if(Y===_.default.transactions_external_exception.REQUEST_CANCELED_EXCEPTION)return"request_canceled_exception";else if(Y===_.default.transactions_external_exception.CONCURRENT_OPERATIONS_DETECTED_ON_SAME_DOCUMENT)return"concurrent_operations_detected_on_same_document";else if(Y===_.default.transactions_external_exception.COMMIT_NOT_PERMITTED)return"commit_not_permitted";else if(Y===_.default.transactions_external_exception.ROLLBACK_NOT_PERMITTED)return"rollback_not_permitted";else if(Y===_.default.transactions_external_exception.TRANSACTION_ALREADY_ABORTED)return"transaction_already_aborted";else if(Y===_.default.transactions_external_exception.TRANSACTION_ALREADY_COMMITTED)return"transaction_already_committed";else if(Y===_.default.transactions_external_exception.DOCUMENT_UNRETRIEVABLE_EXCEPTION)return"document_unretrievable_exception";return"unknown"}U1.txnExternalExceptionStringFromCpp=BY;function BF0(Y,J){if(!Y)return null;let X=J?J:void 0;if(Y.cause===_.default.transactions_external_exception.DOCUMENT_EXISTS_EXCEPTION)return new G1.DocumentExistsError(Error(BY(Y.cause,Y.message)),X);else if(Y.cause===_.default.transactions_external_exception.DOCUMENT_NOT_FOUND_EXCEPTION)return new G1.DocumentNotFoundError(Error(BY(Y.cause,Y.message)),X);else if(Y.cause===_.default.transactions_external_exception.PARSING_FAILURE)return new G1.ParsingFailureError(Error(BY(Y.cause,Y.message)),X);else if(Y.cause===_.default.transactions_external_exception.COUCHBASE_EXCEPTION){let Z=BY(Y.cause,Y.message);return new G1.CouchbaseError(Z,Error(Z),X)}else if(Y.cause===_.default.transactions_external_exception.DOCUMENT_UNRETRIEVABLE_EXCEPTION)return new G1.DocumentUnretrievableError(Error(BY(Y.cause,Y.message)),X);return Y}U1.txnOpExeptionFromCpp=BF0;function FF6(Y){if(Y===_.default.diag_ping_state.ok)return xU.PingState.Ok;else if(Y===_.default.diag_ping_state.timeout)return xU.PingState.Timeout;else if(Y===_.default.diag_ping_state.error)return xU.PingState.Error;throw new G1.InvalidArgumentError}U1.pingStateFromCpp=FF6;function i41(Y){if(!Y)return null;let J=[];if("retry_reasons"in Y)J=Y.retry_reasons.map(qF0);let X=null;if(Y.ctxtype==="key_value")X=new $B.KeyValueErrorContext({status_code:Y.status_code,opaque:Y.opaque,cas:Y.cas,key:Y.id?Y.id.key:"",bucket:Y.id?Y.id.bucket:"",collection:Y.id?Y.id.collection:"",scope:Y.id?Y.id.scope:"",context:Y.enhanced_error_info?Y.enhanced_error_info.context:"",ref:Y.enhanced_error_info?Y.enhanced_error_info.reference:"",last_dispatched_from:Y.last_dispatched_from?Y.last_dispatched_from:"",last_dispatched_to:Y.last_dispatched_to?Y.last_dispatched_to:"",retry_attempts:Y.retry_attempts?Y.retry_attempts:0,retry_reasons:J});else if(Y.ctxtype==="view")X=new $B.ViewErrorContext({design_document:Y.design_document_name,view:Y.view_name,parameters:Y.query_string,http_response_code:Y.http_status,http_response_body:Y.http_body,last_dispatched_from:Y.last_dispatched_from?Y.last_dispatched_from:"",last_dispatched_to:Y.last_dispatched_to?Y.last_dispatched_to:"",retry_attempts:Y.retry_attempts?Y.retry_attempts:0,retry_reasons:J});else if(Y.ctxtype==="query")X=new $B.QueryErrorContext({statement:Y.statement,client_context_id:Y.client_context_id,parameters:Y.parameters,http_response_code:Y.http_status,http_response_body:Y.http_body,last_dispatched_from:Y.last_dispatched_from?Y.last_dispatched_from:"",last_dispatched_to:Y.last_dispatched_to?Y.last_dispatched_to:"",retry_attempts:Y.retry_attempts?Y.retry_attempts:0,retry_reasons:J});else if(Y.ctxtype==="search")X=new $B.SearchErrorContext({index_name:Y.index_name,query:Y.query,parameters:Y.parameters,http_response_code:Y.http_status,http_response_body:Y.http_body,last_dispatched_from:Y.last_dispatched_from?Y.last_dispatched_from:"",last_dispatched_to:Y.last_dispatched_to?Y.last_dispatched_to:"",retry_attempts:Y.retry_attempts?Y.retry_attempts:0,retry_reasons:J});else if(Y.ctxtype==="analytics")X=new $B.AnalyticsErrorContext({statement:Y.statement,client_context_id:Y.client_context_id,parameters:Y.parameters,http_response_code:Y.http_status,http_response_body:Y.http_body,last_dispatched_from:Y.last_dispatched_from?Y.last_dispatched_from:"",last_dispatched_to:Y.last_dispatched_to?Y.last_dispatched_to:"",retry_attempts:Y.retry_attempts?Y.retry_attempts:0,retry_reasons:J});else if(Y.ctxtype==="http")X=new $B.HttpErrorContext({method:Y.method,request_path:Y.path,response_code:Y.http_status,response_body:Y.http_body,last_dispatched_from:Y.last_dispatched_from?Y.last_dispatched_from:"",last_dispatched_to:Y.last_dispatched_to?Y.last_dispatched_to:"",retry_attempts:Y.retry_attempts?Y.retry_attempts:0,retry_reasons:J});return X}U1.contextFromCpp=i41;function qF0(Y){if(Y===_.default.retry_reason.do_not_retry)return"do_not_retry";else if(Y===_.default.retry_reason.unknown)return"unknown";else if(Y===_.default.retry_reason.socket_not_available)return"socket_not_available";else if(Y===_.default.retry_reason.service_not_available)return"service_not_available";else if(Y===_.default.retry_reason.node_not_available)return"node_not_available";else if(Y===_.default.retry_reason.key_value_not_my_vbucket)return"key_value_not_my_vbucket";else if(Y===_.default.retry_reason.key_value_collection_outdated)return"key_value_collection_outdated";else if(Y===_.default.retry_reason.key_value_error_map_retry_indicated)return"key_value_error_map_retry_indicated";else if(Y===_.default.retry_reason.key_value_locked)return"key_value_locked";else if(Y===_.default.retry_reason.key_value_temporary_failure)return"key_value_temporary_failure";else if(Y===_.default.retry_reason.key_value_sync_write_in_progress)return"key_value_sync_write_in_progress";else if(Y===_.default.retry_reason.key_value_sync_write_re_commit_in_progress)return"key_value_sync_write_re_commit_in_progress";else if(Y===_.default.retry_reason.service_response_code_indicated)return"service_response_code_indicated";else if(Y===_.default.retry_reason.socket_closed_while_in_flight)return"socket_closed_while_in_flight";else if(Y===_.default.retry_reason.circuit_breaker_open)return"circuit_breaker_open";else if(Y===_.default.retry_reason.query_prepared_statement_failure)return"query_prepared_statement_failure";else if(Y===_.default.retry_reason.query_index_not_found)return"query_index_not_found";else if(Y===_.default.retry_reason.analytics_temporary_failure)return"analytics_temporary_failure";else if(Y===_.default.retry_reason.search_too_many_requests)return"search_too_many_requests";else if(Y===_.default.retry_reason.views_temporary_failure)return"views_temporary_failure";else if(Y===_.default.retry_reason.views_no_active_partition)return"views_no_active_partition";else return"unknown"}function VF6(Y){var J;if(!Y)return null;if(Y.ctxtype==="transaction_operation_failed"){if(BY(Y.cause,Y.message)=="feature_not_available_exception")return new G1.TransactionOperationFailedError(new G1.FeatureNotAvailableError(Error("Possibly attempting a binary transaction operation with a server version < 7.6.2")));return new G1.TransactionOperationFailedError(Error(BY(Y.cause,Y.message)))}else if(Y.ctxtype==="transaction_op_exception"){let $=null;if((J=Y.ctx)===null||J===void 0?void 0:J.cause)$=i41(Y.ctx.cause);return BF0(Y,$)}else if(Y.ctxtype==="transaction_exception"){if(Y.type===_.default.transactions_failure_type.FAIL)return new G1.TransactionFailedError(Error(BY(Y.cause,Y.message)));else if(Y.type===_.default.transactions_failure_type.EXPIRY)return new G1.TransactionExpiredError(Error(BY(Y.cause,Y.message)));else if(Y.type===_.default.transactions_failure_type.COMMIT_AMBIGUOUS)return new G1.TransactionCommitAmbiguousError(Error(BY(Y.cause,Y.message)));return new G1.TransactionFailedError(Error(BY(Y.cause,Y.message)))}let X=Y,Z=i41(Y),W=Z?Z:void 0;if("retry_reasons"in X&&Array.isArray(X.retry_reasons))X.retry_reasons=X.retry_reasons.map(qF0);switch(Y.code){case _.default.errc_common.request_canceled:return new G1.RequestCanceledError(X,W);case _.default.errc_common.invalid_argument:return new G1.InvalidArgumentError(X,W);case _.default.errc_common.service_not_available:return new G1.ServiceNotAvailableError(X,W);case _.default.errc_common.internal_server_failure:return new G1.InternalServerFailureError(X,W);case _.default.errc_common.authentication_failure:return new G1.AuthenticationFailureError(X,W);case _.default.errc_common.temporary_failure:return new G1.TemporaryFailureError(X,W);case _.default.errc_common.parsing_failure:return new G1.ParsingFailureError(X,W);case _.default.errc_common.cas_mismatch:return new G1.CasMismatchError(X,W);case _.default.errc_common.bucket_not_found:return new G1.BucketNotFoundError(X,W);case _.default.errc_common.collection_not_found:return new G1.CollectionNotFoundError(X,W);case _.default.errc_common.unsupported_operation:return new G1.UnsupportedOperationError(X,W);case _.default.errc_common.unambiguous_timeout:return new G1.UnambiguousTimeoutError(X,W);case _.default.errc_common.ambiguous_timeout:return new G1.AmbiguousTimeoutError(X,W);case _.default.errc_common.feature_not_available:return new G1.FeatureNotAvailableError(X,W);case _.default.errc_common.scope_not_found:return new G1.ScopeNotFoundError(X,W);case _.default.errc_common.index_not_found:return new G1.IndexNotFoundError(X,W);case _.default.errc_common.index_exists:return new G1.IndexExistsError(X,W);case _.default.errc_common.decoding_failure:return new G1.DecodingFailureError(X,W);case _.default.errc_common.rate_limited:return new G1.RateLimitedError(X,W);case _.default.errc_common.quota_limited:return new G1.QuotaLimitedError(X,W);case _.default.errc_key_value.document_not_found:return new G1.DocumentNotFoundError(X,W);case _.default.errc_key_value.document_irretrievable:return new G1.DocumentUnretrievableError(X,W);case _.default.errc_key_value.document_locked:return new G1.DocumentLockedError(X,W);case _.default.errc_key_value.document_not_locked:return new G1.DocumentNotLockedError(X,W);case _.default.errc_key_value.value_too_large:return new G1.ValueTooLargeError(X,W);case _.default.errc_key_value.document_exists:return new G1.DocumentExistsError(X,W);case _.default.errc_key_value.durability_level_not_available:return new G1.DurabilityLevelNotAvailableError(X,W);case _.default.errc_key_value.durability_impossible:return new G1.DurabilityImpossibleError(X,W);case _.default.errc_key_value.durability_ambiguous:return new G1.DurabilityAmbiguousError(X,W);case _.default.errc_key_value.durable_write_in_progress:return new G1.DurableWriteInProgressError(X,W);case _.default.errc_key_value.durable_write_re_commit_in_progress:return new G1.DurableWriteReCommitInProgressError(X,W);case _.default.errc_key_value.path_not_found:return new G1.PathNotFoundError(X,W);case _.default.errc_key_value.path_mismatch:return new G1.PathMismatchError(X,W);case _.default.errc_key_value.path_invalid:return new G1.PathInvalidError(X,W);case _.default.errc_key_value.path_too_big:return new G1.PathTooBigError(X,W);case _.default.errc_key_value.path_too_deep:return new G1.PathTooDeepError(X,W);case _.default.errc_key_value.value_too_deep:return new G1.ValueTooDeepError(X,W);case _.default.errc_key_value.value_invalid:return new G1.ValueInvalidError(X,W);case _.default.errc_key_value.document_not_json:return new G1.DocumentNotJsonError(X,W);case _.default.errc_key_value.number_too_big:return new G1.NumberTooBigError(X,W);case _.default.errc_key_value.delta_invalid:return new G1.DeltaInvalidError(X,W);case _.default.errc_key_value.path_exists:return new G1.PathExistsError(X,W);case _.default.errc_key_value.xattr_unknown_macro:case _.default.errc_key_value.xattr_invalid_key_combo:case _.default.errc_key_value.xattr_unknown_virtual_attribute:case _.default.errc_key_value.xattr_cannot_modify_virtual_attribute:case _.default.errc_key_value.xattr_no_access:case _.default.errc_key_value.cannot_revive_living_document:break;case _.default.errc_query.planning_failure:return new G1.PlanningFailureError(X,W);case _.default.errc_query.index_failure:return new G1.IndexFailureError(X,W);case _.default.errc_query.prepared_statement_failure:return new G1.PreparedStatementFailureError(X,W);case _.default.errc_query.dml_failure:return new G1.DmlFailureError(X,W);case _.default.errc_analytics.compilation_failure:return new G1.CompilationFailureError(X,W);case _.default.errc_analytics.job_queue_full:return new G1.JobQueueFullError(X,W);case _.default.errc_analytics.dataset_not_found:return new G1.DatasetNotFoundError(X,W);case _.default.errc_analytics.dataverse_not_found:return new G1.DataverseNotFoundError(X,W);case _.default.errc_analytics.dataset_exists:return new G1.DatasetExistsError(X,W);case _.default.errc_analytics.dataverse_exists:return new G1.DataverseExistsError(X,W);case _.default.errc_analytics.link_not_found:return new G1.LinkNotFoundError(X,W);case _.default.errc_analytics.link_exists:return new G1.LinkExistsError(X,W);case _.default.errc_search.index_not_ready:return new G1.IndexNotReadyError(X,W);case _.default.errc_search.consistency_mismatch:break;case _.default.errc_view.view_not_found:return new G1.ViewNotFoundError(X,W);case _.default.errc_view.design_document_not_found:return new G1.DesignDocumentNotFoundError(X,W);case _.default.errc_management.collection_exists:return new G1.CollectionExistsError(X,W);case _.default.errc_management.scope_exists:return new G1.ScopeExistsError(X,W);case _.default.errc_management.user_not_found:return new G1.UserNotFoundError(X,W);case _.default.errc_management.group_not_found:return new G1.GroupNotFoundError(X,W);case _.default.errc_management.bucket_exists:return new G1.BucketExistsError(X,W);case _.default.errc_management.user_exists:return new G1.UserExistsError(X,W);case _.default.errc_management.bucket_not_flushable:return new G1.BucketNotFlushableError(X,W);case _.default.errc_management.eventing_function_not_found:return new G1.EventingFunctionNotFoundError(X,W);case _.default.errc_management.eventing_function_not_deployed:return new G1.EventingFunctionNotDeployedError(X,W);case _.default.errc_management.eventing_function_compilation_failure:return new G1.EventingFunctionCompilationFailureError(X,W);case _.default.errc_management.eventing_function_identical_keyspace:return new G1.EventingFunctionIdenticalKeyspaceError(X,W);case _.default.errc_management.eventing_function_not_bootstrapped:return new G1.EventingFunctionNotBootstrappedError(X,W);case _.default.errc_management.eventing_function_deployed:return new G1.EventingFunctionDeployedError(X,W);case _.default.errc_management.eventing_function_paused:return new G1.EventingFunctionPausedError(X,W)}return X}U1.errorFromCpp=VF6;function IF6(Y){var J,X,Z,W;if(Y instanceof HF0.RangeScan)return{from:Y.start!==void 0?{term:Y.start.term,exclusive:(X=(J=Y.start)===null||J===void 0?void 0:J.exclusive)!==null&&X!==void 0?X:!1}:void 0,to:Y.end!==void 0?{term:Y.end.term,exclusive:(W=(Z=Y.end)===null||Z===void 0?void 0:Z.exclusive)!==null&&W!==void 0?W:!1}:void 0};else if(Y instanceof HF0.SamplingScan)return{limit:Y.limit,seed:Y.seed};else return{prefix:Y.prefix}}U1.scanTypeToCpp=IF6;function DF6(Y){if(Y===null||Y===void 0)return _.default.management_cluster_bucket_type.couchbase;if(Y===A4.BucketType.Couchbase)return _.default.management_cluster_bucket_type.couchbase;else if(Y===A4.BucketType.Ephemeral)return _.default.management_cluster_bucket_type.ephemeral;else if(Y===A4.BucketType.Memcached)return _.default.management_cluster_bucket_type.memcached;throw new G1.InvalidArgumentError}U1.bucketTypeToCpp=DF6;function wF6(Y){if(Y===_.default.management_cluster_bucket_type.couchbase)return A4.BucketType.Couchbase;else if(Y===_.default.management_cluster_bucket_type.ephemeral)return A4.BucketType.Ephemeral;else if(Y===_.default.management_cluster_bucket_type.memcached)return A4.BucketType.Memcached;else if(Y===_.default.management_cluster_bucket_type.unknown)return;throw new G1.InvalidArgumentError}U1.bucketTypeFromCpp=wF6;function AF6(Y){if(Y===null||Y===void 0)return _.default.management_cluster_bucket_compression.unknown;if(Y===A4.CompressionMode.Active)return _.default.management_cluster_bucket_compression.active;else if(Y===A4.CompressionMode.Passive)return _.default.management_cluster_bucket_compression.passive;else if(Y===A4.CompressionMode.Off)return _.default.management_cluster_bucket_compression.off;throw new G1.InvalidArgumentError}U1.bucketCompressionModeToCpp=AF6;function PF6(Y){if(Y===_.default.management_cluster_bucket_compression.active)return A4.CompressionMode.Active;else if(Y===_.default.management_cluster_bucket_compression.passive)return A4.CompressionMode.Passive;else if(Y===_.default.management_cluster_bucket_compression.off)return A4.CompressionMode.Off;else if(Y===_.default.management_cluster_bucket_compression.unknown)return;throw new G1.InvalidArgumentError}U1.bucketCompressionModeFromCpp=PF6;function LF6(Y){if(Y===null||Y===void 0)return _.default.management_cluster_bucket_eviction_policy.unknown;if(Y===A4.EvictionPolicy.FullEviction)return _.default.management_cluster_bucket_eviction_policy.full;else if(Y===A4.EvictionPolicy.ValueOnly)return _.default.management_cluster_bucket_eviction_policy.value_only;else if(Y===A4.EvictionPolicy.NotRecentlyUsed)return _.default.management_cluster_bucket_eviction_policy.not_recently_used;else if(Y===A4.EvictionPolicy.NoEviction)return _.default.management_cluster_bucket_eviction_policy.no_eviction;throw new G1.InvalidArgumentError}U1.bucketEvictionPolicyToCpp=LF6;function MF6(Y){if(Y===_.default.management_cluster_bucket_eviction_policy.full)return A4.EvictionPolicy.FullEviction;else if(Y===_.default.management_cluster_bucket_eviction_policy.value_only)return A4.EvictionPolicy.ValueOnly;else if(Y===_.default.management_cluster_bucket_eviction_policy.not_recently_used)return A4.EvictionPolicy.NotRecentlyUsed;else if(Y===_.default.management_cluster_bucket_eviction_policy.no_eviction)return A4.EvictionPolicy.NoEviction;else if(Y===_.default.management_cluster_bucket_eviction_policy.unknown)return;throw new G1.InvalidArgumentError}U1.bucketEvictionPolicyFromCpp=MF6;function EF6(Y){if(Y===null||Y===void 0)return _.default.management_cluster_bucket_storage_backend.unknown;if(Y===A4.StorageBackend.Couchstore)return _.default.management_cluster_bucket_storage_backend.couchstore;else if(Y===A4.StorageBackend.Magma)return _.default.management_cluster_bucket_storage_backend.magma;throw new G1.InvalidArgumentError}U1.bucketStorageBackendToCpp=EF6;function TF6(Y){if(Y===_.default.management_cluster_bucket_storage_backend.couchstore)return A4.StorageBackend.Couchstore;else if(Y===_.default.management_cluster_bucket_storage_backend.magma)return A4.StorageBackend.Magma;else if(Y===_.default.management_cluster_bucket_storage_backend.unknown)return;throw new G1.InvalidArgumentError}U1.bucketStorageBackendFromCpp=TF6;function RF6(Y){if(Y===null||Y===void 0)return _.default.management_cluster_bucket_conflict_resolution.unknown;if(Y===A4.ConflictResolutionType.SequenceNumber)return _.default.management_cluster_bucket_conflict_resolution.sequence_number;else if(Y===A4.ConflictResolutionType.Timestamp)return _.default.management_cluster_bucket_conflict_resolution.timestamp;else if(Y===A4.ConflictResolutionType.Custom)return _.default.management_cluster_bucket_conflict_resolution.custom;throw new G1.InvalidArgumentError}U1.bucketConflictResolutionTypeToCpp=RF6;function NF6(Y){if(Y===_.default.management_cluster_bucket_conflict_resolution.sequence_number)return A4.ConflictResolutionType.SequenceNumber;else if(Y===_.default.management_cluster_bucket_conflict_resolution.timestamp)return A4.ConflictResolutionType.Timestamp;else if(Y===_.default.management_cluster_bucket_conflict_resolution.custom)return A4.ConflictResolutionType.Custom;else if(Y===_.default.management_cluster_bucket_conflict_resolution.unknown)return;throw new G1.InvalidArgumentError}U1.bucketConflictResolutionTypeFromCpp=NF6;function SF6(Y){if(Y===OF0.VectorQueryCombination.AND)return _.default.vector_query_combination.combination_and;else if(Y===OF0.VectorQueryCombination.OR)return _.default.vector_query_combination.combination_or;throw new G1.InvalidArgumentError(Error("Unrecognized VectorQueryCombination."))}U1.vectorQueryCombinationToCpp=SF6;function CF6(Y){if(Y===_.default.design_document_namespace.production)return _Z.DesignDocumentNamespace.Production;else if(Y===_.default.design_document_namespace.development)return _Z.DesignDocumentNamespace.Development;throw new G1.InvalidArgumentError(Error("Unrecognized DesignDocumentNamespace."))}U1.designDocumentNamespaceFromCpp=CF6;function jF6(Y){if(Y===_Z.DesignDocumentNamespace.Production)return _.default.design_document_namespace.production;else if(Y===_Z.DesignDocumentNamespace.Development)return _.default.design_document_namespace.development;throw new G1.InvalidArgumentError(Error("Unrecognized DesignDocumentNamespace."))}U1.designDocumentNamespaceToCpp=jF6;function kF6(Y){var J,X;if(!Y)return;return{bucket_name:Y.bucket,scope_name:(J=Y.scope)!==null&&J!==void 0?J:"_default",collection_name:(X=Y.collection)!==null&&X!==void 0?X:"_default"}}U1.transactionKeyspaceToCpp=kF6;function _F6(Y){if(Y===C0.EventingFunctionBucketAccess.ReadOnly)return _.default.management_eventing_function_bucket_access.read_only;if(Y===C0.EventingFunctionBucketAccess.ReadWrite)return _.default.management_eventing_function_bucket_access.read_write;throw new G1.InvalidArgumentError(Error("Unrecognized EventingFunctionBucketAccess"))}U1.eventingBucketBindingAccessToCpp=_F6;function xF6(Y){if(Y===_.default.management_eventing_function_bucket_access.read_only)return C0.EventingFunctionBucketAccess.ReadOnly;if(Y===_.default.management_eventing_function_bucket_access.read_write)return C0.EventingFunctionBucketAccess.ReadWrite;throw new G1.InvalidArgumentError(Error("Unrecognized EventingFunctionBucketAccess"))}U1.eventingBucketBindingAccessFromCpp=xF6;function fF6(Y){if(!Y)return;if(Y===C0.EventingFunctionDcpBoundary.Everything)return _.default.management_eventing_function_dcp_boundary.everything;if(Y===C0.EventingFunctionDcpBoundary.FromNow)return _.default.management_eventing_function_dcp_boundary.from_now;throw new G1.InvalidArgumentError(Error("Unrecognized EventingFunctionDcpBoundary"))}U1.eventingFunctionDcpBoundaryToCpp=fF6;function vF6(Y){if(!Y)return;if(Y===_.default.management_eventing_function_dcp_boundary.everything)return C0.EventingFunctionDcpBoundary.Everything;if(Y===_.default.management_eventing_function_dcp_boundary.from_now)return C0.EventingFunctionDcpBoundary.FromNow;throw new G1.InvalidArgumentError(Error("Unrecognized EventingFunctionDcpBoundary"))}U1.eventingFunctionDcpBoundaryFromCpp=vF6;function hF6(Y){if(!Y)return;if(Y===C0.EventingFunctionDeploymentStatus.Deployed)return _.default.management_eventing_function_deployment_status.deployed;if(Y===C0.EventingFunctionDeploymentStatus.Undeployed)return _.default.management_eventing_function_deployment_status.undeployed;throw new G1.InvalidArgumentError(Error("Unrecognized EventingFunctionDeploymentStatus"))}U1.eventingFunctionDeploymentStatusToCpp=hF6;function bF6(Y){if(!Y)return;if(Y===_.default.management_eventing_function_deployment_status.deployed)return C0.EventingFunctionDeploymentStatus.Deployed;if(Y===_.default.management_eventing_function_deployment_status.undeployed)return C0.EventingFunctionDeploymentStatus.Undeployed;throw new G1.InvalidArgumentError(Error("Unrecognized EventingFunctionDeploymentStatus"))}U1.eventingFunctionDeploymentStatusFromCpp=bF6;function yF6(Y){if(!Y)return;if(Y===C0.EventingFunctionProcessingStatus.Running)return _.default.management_eventing_function_processing_status.running;if(Y===C0.EventingFunctionProcessingStatus.Paused)return _.default.management_eventing_function_processing_status.paused;throw new G1.InvalidArgumentError(Error("Unrecognized EventingFunctionProcessingStatus"))}U1.eventingFunctionProcessingStatusToCpp=yF6;function gF6(Y){if(!Y)return;if(Y===_.default.management_eventing_function_processing_status.running)return C0.EventingFunctionProcessingStatus.Running;if(Y===_.default.management_eventing_function_processing_status.paused)return C0.EventingFunctionProcessingStatus.Paused;throw new G1.InvalidArgumentError(Error("Unrecognized EventingFunctionProcessingStatus"))}U1.eventingFunctionProcessingStatusFromCpp=gF6;function uF6(Y){if(!Y)return;if(Y===C0.EventingFunctionLogLevel.Debug)return _.default.management_eventing_function_log_level.debug;if(Y===C0.EventingFunctionLogLevel.Error)return _.default.management_eventing_function_log_level.error;if(Y===C0.EventingFunctionLogLevel.Info)return _.default.management_eventing_function_log_level.info;if(Y===C0.EventingFunctionLogLevel.Trace)return _.default.management_eventing_function_log_level.trace;if(Y===C0.EventingFunctionLogLevel.Warning)return _.default.management_eventing_function_log_level.warning;throw new G1.InvalidArgumentError(Error("Unrecognized EventingFunctionLogLevel"))}U1.eventingFunctionLogLevelToCpp=uF6;function mF6(Y){if(!Y)return;if(Y===_.default.management_eventing_function_log_level.debug)return C0.EventingFunctionLogLevel.Debug;if(Y===_.default.management_eventing_function_log_level.error)return C0.EventingFunctionLogLevel.Error;if(Y===_.default.management_eventing_function_log_level.info)return C0.EventingFunctionLogLevel.Info;if(Y===_.default.management_eventing_function_log_level.trace)return C0.EventingFunctionLogLevel.Trace;if(Y===_.default.management_eventing_function_log_level.warning)return C0.EventingFunctionLogLevel.Warning;throw new G1.InvalidArgumentError(Error("Unrecognized EventingFunctionLogLevel"))}U1.eventingFunctionLogLevelFromCpp=mF6;function dF6(Y){if(!Y)return;if(Y===C0.EventingFunctionLanguageCompatibility.Version_6_0_0)return _.default.management_eventing_function_language_compatibility.version_6_0_0;if(Y===C0.EventingFunctionLanguageCompatibility.Version_6_5_0)return _.default.management_eventing_function_language_compatibility.version_6_5_0;if(Y===C0.EventingFunctionLanguageCompatibility.Version_6_6_2)return _.default.management_eventing_function_language_compatibility.version_6_6_2;if(Y===C0.EventingFunctionLanguageCompatibility.Version_7_2_0)return _.default.management_eventing_function_language_compatibility.version_7_2_0;throw new G1.InvalidArgumentError(Error("Unrecognized EventingFunctionLanguageCompatibility"))}U1.eventingFunctionLanguageCompatibilityToCpp=dF6;function cF6(Y){if(!Y)return;if(Y===_.default.management_eventing_function_language_compatibility.version_6_0_0)return C0.EventingFunctionLanguageCompatibility.Version_6_0_0;if(Y===_.default.management_eventing_function_language_compatibility.version_6_5_0)return C0.EventingFunctionLanguageCompatibility.Version_6_5_0;if(Y===_.default.management_eventing_function_language_compatibility.version_6_6_2)return C0.EventingFunctionLanguageCompatibility.Version_6_6_2;if(Y===_.default.management_eventing_function_language_compatibility.version_7_2_0)return C0.EventingFunctionLanguageCompatibility.Version_7_2_0;throw new G1.InvalidArgumentError(Error("Unrecognized EventingFunctionLanguageCompatibility"))}U1.eventingFunctionLanguageCompatibilityFromCpp=cF6;function lF6(Y){if(Y===_.default.management_eventing_function_status.undeployed)return C0.EventingFunctionStatus.Undeployed;if(Y===_.default.management_eventing_function_status.deploying)return C0.EventingFunctionStatus.Deploying;if(Y===_.default.management_eventing_function_status.deployed)return C0.EventingFunctionStatus.Deployed;if(Y===_.default.management_eventing_function_status.undeploying)return C0.EventingFunctionStatus.Undeploying;if(Y===_.default.management_eventing_function_status.paused)return C0.EventingFunctionStatus.Paused;if(Y===_.default.management_eventing_function_status.pausing)return C0.EventingFunctionStatus.Pausing;throw new G1.InvalidArgumentError(Error("Unrecognized EventingFunctionStatus"))}U1.eventingFunctionStatusFromCpp=lF6;function FF0(Y){if(Y===_.default.management_analytics_couchbase_link_encryption_level.none)return fU.AnalyticsEncryptionLevel.None;if(Y===_.default.management_analytics_couchbase_link_encryption_level.half)return fU.AnalyticsEncryptionLevel.Half;if(Y===_.default.management_analytics_couchbase_link_encryption_level.full)return fU.AnalyticsEncryptionLevel.Full;throw new G1.InvalidArgumentError(Error("Unrecognized CppManagementAnalyticsCouchbaseLinkEncryptionLevel"))}U1.couchbaseLinkEncryptionLevelFromCpp=FF0;function VF0(Y){if(Y===fU.AnalyticsEncryptionLevel.None)return _.default.management_analytics_couchbase_link_encryption_level.none;if(Y===fU.AnalyticsEncryptionLevel.Half)return _.default.management_analytics_couchbase_link_encryption_level.half;if(Y===fU.AnalyticsEncryptionLevel.Full)return _.default.management_analytics_couchbase_link_encryption_level.full;throw new G1.InvalidArgumentError(Error("Unrecognized AnalyticsEncryptionLevel"))}U1.encryptionLevelToCpp=VF0;function pF6(Y){if(!Y)return{level:_.default.management_analytics_couchbase_link_encryption_level.none};return{level:VF0(Y.encryptionLevel),certificate:Y.certificate?Y.certificate.toString():void 0,client_certificate:Y.clientCertificate?Y.clientCertificate.toString():void 0,client_key:Y.clientKey?Y.clientKey.toString():void 0}}U1.encryptionSettingsToCpp=pF6;function nF6(Y){return new fU.CouchbaseAnalyticsEncryptionSettings({encryptionLevel:FF0(Y.level),certificate:Y.certificate?Buffer.from(Y.certificate):void 0,clientCertificate:Y.client_certificate?Buffer.from(Y.client_certificate):void 0,clientKey:void 0})}U1.encryptionSettingsFromCpp=nF6;function iF6(Y){if(Y==="unknown")return _.default.management_rbac_auth_domain.unknown;if(Y==="local")return _.default.management_rbac_auth_domain.local;if(Y==="external")return _.default.management_rbac_auth_domain.external;throw new G1.InvalidArgumentError(Error("Unrecognized auth domain."))}U1.authDomainToCpp=iF6;function oF6(Y){if(Y===_.default.management_rbac_auth_domain.unknown)return"unknown";if(Y===_.default.management_rbac_auth_domain.local)return"local";if(Y===_.default.management_rbac_auth_domain.external)return"external";throw new G1.InvalidArgumentError(Error("Unrecognized CppManagementRbacAuthDomain."))}U1.authDomainFromCpp=oF6;function rF6(Y){if(Y===null||Y===void 0)return _.default.read_preference.no_preference;if(Y===d4.ReadPreference.NoPreference)return _.default.read_preference.no_preference;else if(Y===d4.ReadPreference.SelectedServerGroup)return _.default.read_preference.selected_server_group;throw new G1.InvalidArgumentError(Error("Unrecognized ReadPreference."))}U1.readPreferenceToCpp=rF6;function aF6(Y){if(Y===null||Y===void 0)return;if(Y===GB.TransactionGetMultiMode.PrioritiseLatency)return _.default.transactions_transaction_get_multi_mode.prioritise_latency;else if(Y===GB.TransactionGetMultiMode.DisableReadSkewDetection)return _.default.transactions_transaction_get_multi_mode.disable_read_skew_detection;else if(Y===GB.TransactionGetMultiMode.PrioritiseReadSkewDetection)return _.default.transactions_transaction_get_multi_mode.prioritise_read_skew_detection;throw new G1.InvalidArgumentError(Error("Unrecognized TransactionGetMultiMode."))}U1.transactionGetMultiModeToCpp=aF6;function sF6(Y){if(Y===null||Y===void 0)return;if(Y===GB.TransactionGetMultiReplicasFromPreferredServerGroupMode.PrioritiseLatency)return _.default.transactions_transaction_get_multi_replicas_from_preferred_server_group_mode.prioritise_latency;else if(Y===GB.TransactionGetMultiReplicasFromPreferredServerGroupMode.DisableReadSkewDetection)return _.default.transactions_transaction_get_multi_replicas_from_preferred_server_group_mode.disable_read_skew_detection;else if(Y===GB.TransactionGetMultiReplicasFromPreferredServerGroupMode.PrioritiseReadSkewDetection)return _.default.transactions_transaction_get_multi_replicas_from_preferred_server_group_mode.prioritise_read_skew_detection;throw new G1.InvalidArgumentError(Error("Unrecognized TransactionGetMultiReplicasFromPreferredServerGroupMode."))}U1.transactionGetMultiReplicasFromPreferredServerGroupModeToCpp=sF6});var r41=q((DF0)=>{Object.defineProperty(DF0,"__esModule",{value:!0});DF0.AnalyticsExecutor=void 0;var dj=Fj(),o41=v8(),tF6=jU();class IF0{constructor(Y){this._cluster=Y}query(Y,J){let X=new tF6.StreamableRowPromise((W,$)=>{return new dj.AnalyticsResult({rows:W,meta:$})}),Z=J.timeout||this._cluster.analyticsTimeout;return this._cluster.conn.analytics({statement:Y,timeout:Z,client_context_id:J.clientContextId,readonly:J.readOnly||!1,priority:J.priority||!1,scope_qualifier:J.queryContext,scan_consistency:(0,o41.analyticsScanConsistencyToCpp)(J.scanConsistency),raw:J.raw?Object.fromEntries(Object.entries(J.raw).filter(([,W])=>W!==void 0).map(([W,$])=>[W,JSON.stringify($)])):{},positional_parameters:J.parameters&&Array.isArray(J.parameters)?J.parameters.map((W)=>JSON.stringify(W!==null&&W!==void 0?W:null)):[],named_parameters:J.parameters&&!Array.isArray(J.parameters)?Object.fromEntries(Object.entries(J.parameters).filter(([,W])=>W!==void 0).map(([W,$])=>[W,JSON.stringify($)])):{},body_str:""},(W,$)=>{let G=(0,o41.errorFromCpp)(W);if(G){X.emit("error",G),X.emit("end");return}$.rows.forEach((Q)=>{X.emit("row",JSON.parse(Q))});{let Q=$.meta,U;if(Q.warnings)U=Q.warnings.map((K)=>new dj.AnalyticsWarning({code:K.code,message:K.message}));else U=[];let z=Q.metrics,H=new dj.AnalyticsMetrics({elapsedTime:z.elapsed_time,executionTime:z.execution_time,resultCount:z.result_count,resultSize:z.result_size,errorCount:z.error_count,processedObjects:z.processed_objects,warningCount:z.warning_count}),O=new dj.AnalyticsMetaData({requestId:Q.request_id,clientContextId:Q.client_context_id,status:(0,o41.analyticsStatusFromCpp)(Q.status),signature:Q.signature?JSON.parse(Q.signature):void 0,warnings:U,metrics:H});X.emit("meta",O)}X.emit("end");return}),X}}DF0.AnalyticsExecutor=IF0});var a41=q((PF0)=>{Object.defineProperty(PF0,"__esModule",{value:!0});PF0.BinaryCollection=void 0;class AF0{constructor(Y){this._coll=Y}increment(Y,J,X,Z){return this._coll._binaryIncrement(Y,J,X,Z)}decrement(Y,J,X,Z){return this._coll._binaryDecrement(Y,J,X,Z)}append(Y,J,X,Z){return this._coll._binaryAppend(Y,J,X,Z)}prepend(Y,J,X,Z){return this._coll._binaryPrepend(Y,J,X,Z)}}PF0.BinaryCollection=AF0});var s41=q((fF0)=>{Object.defineProperty(fF0,"__esModule",{value:!0});fF0.CounterResult=fF0.MutateInResult=fF0.MutateInResultEntry=fF0.LookupInReplicaResult=fF0.LookupInResult=fF0.LookupInResultEntry=fF0.GetReplicaResult=fF0.MutationResult=fF0.ExistsResult=fF0.ScanResult=fF0.GetResult=void 0;class MF0{constructor(Y){this.content=Y.content,this.cas=Y.cas,this.expiryTime=Y.expiryTime}get value(){return this.content}set value(Y){this.content=Y}get expiry(){return this.expiryTime}}fF0.GetResult=MF0;class EF0{constructor(Y){this.id=Y.id,this.content=Y.content,this.cas=Y.cas,this.expiryTime=Y.expiryTime}}fF0.ScanResult=EF0;class TF0{constructor(Y){this.exists=Y.exists,this.cas=Y.cas}}fF0.ExistsResult=TF0;class RF0{constructor(Y){this.cas=Y.cas,this.token=Y.token}}fF0.MutationResult=RF0;class NF0{constructor(Y){this.content=Y.content,this.cas=Y.cas,this.isReplica=Y.isReplica}}fF0.GetReplicaResult=NF0;class SF0{constructor(Y){this.error=Y.error,this.value=Y.value}}fF0.LookupInResultEntry=SF0;class CF0{constructor(Y){this.content=Y.content,this.cas=Y.cas}get results(){return this.content}set results(Y){this.content=Y}}fF0.LookupInResult=CF0;class jF0{constructor(Y){this.content=Y.content,this.cas=Y.cas,this.isReplica=Y.isReplica}}fF0.LookupInReplicaResult=jF0;class kF0{constructor(Y){this.value=Y.value}}fF0.MutateInResultEntry=kF0;class _F0{constructor(Y){this.content=Y.content,this.cas=Y.cas,this.token=Y.token}}fF0.MutateInResult=_F0;class xF0{constructor(Y){this.value=Y.value,this.cas=Y.cas,this.token=Y.token}}fF0.CounterResult=xF0});var cj=q((FY)=>{var zV6=FY&&FY.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(FY,"__esModule",{value:!0});FY.MutateInSpec=FY.LookupInSpec=FY.MutateInMacro=FY.LookupInMacro=void 0;var j6=zV6(CU());class qY{constructor(Y){this._value=Y}static get Document(){return new qY("$document")}static get Expiry(){return new qY("$document.exptime")}static get Cas(){return new qY("$document.CAS")}static get SeqNo(){return new qY("$document.seqno")}static get LastModified(){return new qY("$document.last_modified")}static get IsDeleted(){return new qY("$document.deleted")}static get ValueSizeBytes(){return new qY("$document.value_bytes")}static get RevId(){return new qY("$document.revid")}}FY.LookupInMacro=qY;class hU{constructor(Y){this._value=Y}static get Cas(){return new hU("${Mutation.CAS}")}static get SeqNo(){return new hU("${Mutation.seqno}")}static get ValueCrc32c(){return new hU("${Mutation.value_crc32c}")}}FY.MutateInMacro=hU;class t41{static get Expiry(){return qY.Expiry}constructor(Y,J,X){this._op=Y,this._path=J,this._flags=X}static _create(Y,J,X){if(!X)X={};let Z=0;if(J instanceof qY)J=J._value,Z|=j6.default.protocol_lookup_in_request_body_lookup_in_specs_path_flag.xattr;if(X.xattr)Z|=j6.default.protocol_lookup_in_request_body_lookup_in_specs_path_flag.xattr;return new t41(Y,J,Z)}static get(Y,J){if(!Y)return this._create(j6.default.protocol_subdoc_opcode.get_doc,"",J);return this._create(j6.default.protocol_subdoc_opcode.get,Y,J)}static exists(Y,J){return this._create(j6.default.protocol_subdoc_opcode.exists,Y,J)}static count(Y,J){return this._create(j6.default.protocol_subdoc_opcode.get_count,Y,J)}}FY.LookupInSpec=t41;class e41{static get CasPlaceholder(){return hU.Cas}constructor(Y,J,X,Z){this._op=Y,this._path=J,this._flags=X,this._data=Z}static _create(Y,J,X,Z){if(!Z)Z={};let W=0;if(Z.createPath)W|=j6.default.protocol_mutate_in_request_body_mutate_in_specs_path_flag.create_parents;if(X instanceof hU)X=X._value,W|=j6.default.protocol_mutate_in_request_body_mutate_in_specs_path_flag.expand_macros|j6.default.protocol_mutate_in_request_body_mutate_in_specs_path_flag.xattr;else if(Z.xattr)W|=j6.default.protocol_mutate_in_request_body_mutate_in_specs_path_flag.xattr;if(X!==void 0)if(!Z.multi)X=JSON.stringify(X);else{if(!Array.isArray(X))throw Error("value must be an array for a multi operation");X=JSON.stringify(X),X=X.substr(1,X.length-2)}return new e41(Y,J,W,X)}static insert(Y,J,X){return this._create(j6.default.protocol_subdoc_opcode.dict_add,Y,J,X)}static upsert(Y,J,X){if(!Y)return this._create(j6.default.protocol_subdoc_opcode.set_doc,"",J,X);return this._create(j6.default.protocol_subdoc_opcode.dict_upsert,Y,J,X)}static replace(Y,J,X){return this._create(j6.default.protocol_subdoc_opcode.replace,Y,J,X)}static remove(Y,J){if(!Y)return this._create(j6.default.protocol_subdoc_opcode.remove_doc,"",void 0,J);return this._create(j6.default.protocol_subdoc_opcode.remove,Y,void 0,J)}static arrayAppend(Y,J,X){return this._create(j6.default.protocol_subdoc_opcode.array_push_last,Y,J,X)}static arrayPrepend(Y,J,X){return this._create(j6.default.protocol_subdoc_opcode.array_push_first,Y,J,X)}static arrayInsert(Y,J,X){return this._create(j6.default.protocol_subdoc_opcode.array_insert,Y,J,X)}static arrayAddUnique(Y,J,X){return this._create(j6.default.protocol_subdoc_opcode.array_add_unique,Y,J,X)}static increment(Y,J,X){return this._create(j6.default.protocol_subdoc_opcode.counter,Y,+J,X)}static decrement(Y,J,X){return this._create(j6.default.protocol_subdoc_opcode.counter,Y,-1*+J,X)}}FY.MutateInSpec=e41});var Y61=q((uF0)=>{Object.defineProperty(uF0,"__esModule",{value:!0});uF0.CouchbaseSet=uF0.CouchbaseQueue=uF0.CouchbaseMap=uF0.CouchbaseList=void 0;var z3=HY(),rw=eK(),E5=cj(),t4=X5();class hF0{constructor(Y,J){this._coll=Y,this._key=J}async _get(){let Y=await this._coll.get(this._key);if(!(Y.content instanceof Array))throw new z3.CouchbaseError("expected document of array type");return Y.content}async getAll(Y){return t4.PromiseHelper.wrapAsync(async()=>{return await this._get()},Y)}async forEach(Y,J){return t4.PromiseHelper.wrapAsync(async()=>{let X=await this._get();for(let Z=0;Z<X.length;++Z)Y(X[Z],Z,this)},J)}[Symbol.asyncIterator](){let Y=async()=>this._get();return{data:null,index:-1,async next(){if(this.index<0)this.data=await Y(),this.index=0;let J=this.data;if(this.index<J.length)return{done:!1,value:J[this.index++]};return{done:!0}}}}async getAt(Y,J){return t4.PromiseHelper.wrapAsync(async()=>{let Z=(await this._coll.lookupIn(this._key,[E5.LookupInSpec.get("["+Y+"]")])).content[0];if(Z.error)throw Z.error;return Z.value},J)}async removeAt(Y,J){return t4.PromiseHelper.wrapAsync(async()=>{await this._coll.mutateIn(this._key,[E5.MutateInSpec.remove("["+Y+"]")])},J)}async indexOf(Y,J){return t4.PromiseHelper.wrapAsync(async()=>{let X=await this._get();for(let Z=0;Z<X.length;++Z)if(X[Z]===Y)return Z;return-1},J)}async size(Y){return t4.PromiseHelper.wrapAsync(async()=>{return(await this._coll.lookupIn(this._key,[E5.LookupInSpec.count("")])).content[0].value},Y)}async push(Y,J){return t4.PromiseHelper.wrapAsync(async()=>{await this._coll.mutateIn(this._key,[E5.MutateInSpec.arrayAppend("",Y)],{storeSemantics:rw.StoreSemantics.Upsert})},J)}async unshift(Y,J){return t4.PromiseHelper.wrapAsync(async()=>{await this._coll.mutateIn(this._key,[E5.MutateInSpec.arrayPrepend("",Y)],{storeSemantics:rw.StoreSemantics.Upsert})},J)}}uF0.CouchbaseList=hF0;class bF0{constructor(Y,J){this._coll=Y,this._key=J}async _get(){let Y=await this._coll.get(this._key);if(!(Y.content instanceof Object))throw new z3.CouchbaseError("expected document of object type");return Y.content}async getAll(Y){return t4.PromiseHelper.wrapAsync(async()=>{return await this._get()},Y)}async forEach(Y,J){return t4.PromiseHelper.wrapAsync(async()=>{let X=await this._get();for(let Z in X)Y(X[Z],Z,this)},J)}[Symbol.asyncIterator](){let Y=async()=>this._get();return{data:null,keys:null,index:-1,async next(){if(this.index<0)this.data=await Y(),this.keys=Object.keys(this.data),this.index=0;let J=this.keys,X=this.data;if(this.index<J.length){let Z=J[this.index++];return{done:!1,value:[X[Z],Z]}}return{done:!0,value:void 0}}}}async set(Y,J,X){return t4.PromiseHelper.wrapAsync(async()=>{await this._coll.mutateIn(this._key,[E5.MutateInSpec.upsert(Y,J)],{storeSemantics:rw.StoreSemantics.Upsert})},X)}async get(Y,J){return t4.PromiseHelper.wrapAsync(async()=>{let Z=(await this._coll.lookupIn(this._key,[E5.LookupInSpec.get(Y)])).content[0];if(Z.error)throw Z.error;return Z.value},J)}async remove(Y,J){return t4.PromiseHelper.wrapAsync(async()=>{await this._coll.mutateIn(this._key,[E5.MutateInSpec.remove(Y)])},J)}async exists(Y,J){return t4.PromiseHelper.wrapAsync(async()=>{return(await this._coll.lookupIn(this._key,[E5.LookupInSpec.exists(Y)])).content[0].value},J)}async keys(Y){return t4.PromiseHelper.wrapAsync(async()=>{let J=await this._get();return Object.keys(J)},Y)}async values(Y){return t4.PromiseHelper.wrapAsync(async()=>{let J=await this._get();return Object.values(J)},Y)}async size(Y){return t4.PromiseHelper.wrapAsync(async()=>{return(await this._coll.lookupIn(this._key,[E5.LookupInSpec.count("")])).content[0].value},Y)}}uF0.CouchbaseMap=bF0;class yF0{constructor(Y,J){this._coll=Y,this._key=J}async _get(){let Y=await this._coll.get(this._key);if(!(Y.content instanceof Array))throw new z3.CouchbaseError("expected document of array type");return Y.content}async size(Y){return t4.PromiseHelper.wrapAsync(async()=>{return(await this._coll.lookupIn(this._key,[E5.LookupInSpec.count("")])).content[0].value},Y)}async push(Y,J){return t4.PromiseHelper.wrapAsync(async()=>{await this._coll.mutateIn(this._key,[E5.MutateInSpec.arrayPrepend("",Y)],{storeSemantics:rw.StoreSemantics.Upsert})},J)}async pop(Y){return t4.PromiseHelper.wrapAsync(async()=>{for(let J=0;J<16;++J)try{let X=await this._coll.lookupIn(this._key,[E5.LookupInSpec.get("[-1]")]),Z=X.content[0].value;return await this._coll.mutateIn(this._key,[E5.MutateInSpec.remove("[-1]")],{cas:X.cas}),Z}catch(X){if(X instanceof z3.PathInvalidError)throw new z3.CouchbaseError("no items available in list")}throw new z3.CouchbaseError("no items available to pop")},Y)}}uF0.CouchbaseQueue=yF0;class gF0{constructor(Y,J){this._coll=Y,this._key=J}async _get(){let Y=await this._coll.get(this._key);if(!(Y.content instanceof Array))throw new z3.CouchbaseError("expected document of array type");return Y.content}async add(Y,J){return t4.PromiseHelper.wrapAsync(async()=>{try{await this._coll.mutateIn(this._key,[E5.MutateInSpec.arrayAddUnique("",Y)],{storeSemantics:rw.StoreSemantics.Upsert})}catch(X){if(X instanceof z3.PathExistsError)return!1;throw X}return!0},J)}async contains(Y,J){return t4.PromiseHelper.wrapAsync(async()=>{let X=await this._get();for(let Z=0;Z<X.length;++Z)if(X[Z]===Y)return!0;return!1},J)}async remove(Y,J){return t4.PromiseHelper.wrapAsync(async()=>{for(let X=0;X<16;++X)try{let Z=await this._coll.get(this._key);if(!(Z.content instanceof Array))throw new z3.CouchbaseError("expected document of array type");let W=Z.content.indexOf(Y);if(W===-1)throw Error("item was not found in set");await this._coll.mutateIn(this._key,[E5.MutateInSpec.remove("["+W+"]")],{cas:Z.cas});return}catch(Z){}throw new z3.CouchbaseError("no items available to pop")},J)}async values(Y){return t4.PromiseHelper.wrapAsync(async()=>{return await this._get()},Y)}async size(Y){return t4.PromiseHelper.wrapAsync(async()=>{return(await this._coll.lookupIn(this._key,[E5.LookupInSpec.count("")])).content[0].value},Y)}}uF0.CouchbaseSet=gF0});var pj=q((pF0)=>{Object.defineProperty(pF0,"__esModule",{value:!0});pF0.QueryIndexManager=pF0.CollectionQueryIndexManager=pF0.QueryIndex=void 0;var lj=v8(),dF0=HY(),QB=X5();class J61{constructor(Y){this.name=Y.name,this.isPrimary=Y.isPrimary,this.type=Y.type,this.state=Y.state,this.indexKey=Y.indexKey,this.condition=Y.condition,this.partition=Y.partition,this.collectionName=Y.collectionName,this.scopeName=Y.scopeName,this.bucketName=Y.bucketName}}pF0.QueryIndex=J61;class X61{constructor(Y){this._cluster=Y,this._queryContext={bucket_name:"",scope_name:""}}async createIndex(Y,J,X,Z){let W=X.timeout||this._cluster.managementTimeout;return QB.PromiseHelper.wrap(($)=>{this._cluster.conn.managementQueryIndexCreate({bucket_name:Y,scope_name:X.scopeName||"",collection_name:X.collectionName||"",index_name:X.name||"",keys:X.keys||[],query_ctx:X.queryContext||this._queryContext,is_primary:J,ignore_if_exists:X.ignoreIfExists||!1,deferred:X.deferred,num_replicas:X.numReplicas,timeout:W,condition:void 0},(G)=>{let Q=(0,lj.errorFromCpp)(G);if(Q)return $(Q,null);$(Q)})},Z)}async dropIndex(Y,J,X,Z){let W=X.timeout||this._cluster.managementTimeout;if(X.name)J=!1;return QB.PromiseHelper.wrap(($)=>{this._cluster.conn.managementQueryIndexDrop({bucket_name:Y,scope_name:X.scopeName||"",collection_name:X.collectionName||"",index_name:X.name||"",query_ctx:X.queryContext||this._queryContext,is_primary:J,ignore_if_does_not_exist:X.ignoreIfNotExists||!1,timeout:W},(G)=>{let Q=(0,lj.errorFromCpp)(G);if(Q)return $(Q,null);$(Q)})},Z)}async getAllIndexes(Y,J,X){let Z=J.timeout||this._cluster.managementTimeout;return QB.PromiseHelper.wrap((W)=>{this._cluster.conn.managementQueryIndexGetAll({bucket_name:Y,scope_name:J.scopeName||"",collection_name:J.collectionName||"",query_ctx:J.queryContext||this._queryContext,timeout:Z},($,G)=>{let Q=(0,lj.errorFromCpp)($);if(Q)return W(Q,null);let U=G.indexes.map((z)=>new J61({isPrimary:z.is_primary,name:z.name,state:z.state,type:z.type,indexKey:z.index_key,partition:z.partition,condition:z.condition,bucketName:z.bucket_name,scopeName:z.scope_name,collectionName:z.collection_name}));W(null,U)})},X)}async buildDeferredIndexes(Y,J,X){let Z=J.timeout||this._cluster.managementTimeout;return QB.PromiseHelper.wrap((W)=>{this._cluster.conn.managementQueryIndexBuildDeferred({bucket_name:Y,scope_name:J.scopeName||"",collection_name:J.collectionName||"",query_ctx:J.queryContext||this._queryContext,timeout:Z},($)=>{let G=(0,lj.errorFromCpp)($);if(G)return W(G,null);W(null,null)})},X)}async watchIndexes(Y,J,X,Z,W){if(Z.watchPrimary)J=[...J,"#primary"];let $=new QB.CompoundTimeout(X);return QB.PromiseHelper.wrapAsync(async()=>{let G=50;for(;;){let Q=await this.getAllIndexes(Y,{timeout:$.left()}),U=Q.map((B)=>B.name),H=Q.filter((B)=>B.state==="online").map((B)=>B.name),O=!0;if(J.forEach((B)=>{if(!U.includes(B))throw new dF0.IndexNotFoundError(Error(`Cannot find index with name ${B}`));O=O&&H.indexOf(B)!==-1}),O)break;G=Math.min(1000,G+500);let K=$.left();if(K!==void 0)G=Math.min(G,K);if(G<=0)throw new dF0.CouchbaseError("Failed to find all indexes online within the alloted time.");await new Promise((B)=>setTimeout(()=>B(!0),G))}},W)}}class cF0{constructor(Y){this._bucketName=Y.scope.bucket.name,this._collectionName=Y.name,this._scopeName=Y.scope.name,this._manager=new X61(Y.cluster)}async createIndex(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};return this._manager.createIndex(this._bucketName,!1,{collectionName:this._collectionName,scopeName:this._scopeName,name:Y,keys:J,ignoreIfExists:X.ignoreIfExists,numReplicas:X.numReplicas,deferred:X.deferred,timeout:X.timeout},Z)}async createPrimaryIndex(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};return this._manager.createIndex(this._bucketName,!0,{collectionName:this._collectionName,scopeName:this._scopeName,name:Y.name,ignoreIfExists:Y.ignoreIfExists,deferred:Y.deferred,timeout:Y.timeout},J)}async dropIndex(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};return this._manager.dropIndex(this._bucketName,!1,{collectionName:this._collectionName,scopeName:this._scopeName,name:Y,ignoreIfNotExists:J.ignoreIfNotExists,timeout:J.timeout},X)}async dropPrimaryIndex(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};return this._manager.dropIndex(this._bucketName,!0,{collectionName:this._collectionName,scopeName:this._scopeName,name:Y.name,ignoreIfNotExists:Y.ignoreIfNotExists,timeout:Y.timeout},J)}async getAllIndexes(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};return this._manager.getAllIndexes(this._bucketName,{collectionName:this._collectionName,scopeName:this._scopeName,timeout:Y.timeout},J)}async buildDeferredIndexes(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};return this._manager.buildDeferredIndexes(this._bucketName,{collectionName:this._collectionName,scopeName:this._scopeName,timeout:Y.timeout},J)}async watchIndexes(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};return this._manager.watchIndexes(this._bucketName,Y,J,{collectionName:this._collectionName,scopeName:this._scopeName,watchPrimary:X.watchPrimary},Z)}}pF0.CollectionQueryIndexManager=cF0;class lF0{constructor(Y){this._manager=new X61(Y)}async createIndex(Y,J,X,Z,W){if(Z instanceof Function)W=arguments[3],Z=void 0;if(!Z)Z={};return this._manager.createIndex(Y,!1,{collectionName:Z.collectionName,scopeName:Z.scopeName,name:J,keys:X,ignoreIfExists:Z.ignoreIfExists,numReplicas:Z.numReplicas,deferred:Z.deferred,timeout:Z.timeout},W)}async createPrimaryIndex(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};return this._manager.createIndex(Y,!0,{collectionName:J.collectionName,scopeName:J.scopeName,name:J.name,ignoreIfExists:J.ignoreIfExists,deferred:J.deferred,timeout:J.timeout},X)}async dropIndex(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};return this._manager.dropIndex(Y,!1,{collectionName:X.collectionName,scopeName:X.scopeName,name:J,ignoreIfNotExists:X.ignoreIfNotExists,timeout:X.timeout},Z)}async dropPrimaryIndex(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};return this._manager.dropIndex(Y,!0,{collectionName:J.collectionName,scopeName:J.scopeName,name:J.name,ignoreIfNotExists:J.ignoreIfNotExists,timeout:J.timeout},X)}async getAllIndexes(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};return this._manager.getAllIndexes(Y,{collectionName:J.collectionName,scopeName:J.scopeName,timeout:J.timeout},X)}async buildDeferredIndexes(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};return this._manager.buildDeferredIndexes(Y,{collectionName:J.collectionName,scopeName:J.scopeName,timeout:J.timeout},X)}async watchIndexes(Y,J,X,Z,W){if(Z instanceof Function)W=arguments[3],Z=void 0;if(!Z)Z={};return this._manager.watchIndexes(Y,J,X,{collectionName:Z.collectionName,scopeName:Z.scopeName,watchPrimary:Z.watchPrimary},W)}}pF0.QueryIndexManager=lF0});var aF0=q((oF0)=>{Object.defineProperty(oF0,"__esModule",{value:!0});oF0.SdUtils=void 0;class iF0{static _parsePath(Y){if(!Y)return[];let J="",X=[];for(let Z=0;Z<Y.length;++Z)if(Y[Z]==="["){if(J)X.push({type:"property",path:J}),J=""}else if(Y[Z]==="]")X.push({type:"index",index:parseInt(J)}),J="",++Z;else if(Y[Z]===".")X.push({type:"property",path:J}),J="";else J+=Y[Z];if(J)X.push({type:"property",path:J});return X}static _insertByPath(Y,J,X){if(J.length===0)return X;let Z=J.shift();if(Z.type==="property"){if(!Y)Y={};if(Array.isArray(Y))throw Error("expected object, found array");Y[Z.path]=this._insertByPath(Y[Z.path],J,X)}else if(Z.type==="index"){if(!Y)Y=[];if(!Array.isArray(Y))throw Error("expected array, found object");Y[Z.index]=this._insertByPath(Y[Z.index],J,X)}else throw Error("encountered unexpected path type");return Y}static insertByPath(Y,J,X){let Z=this._parsePath(J);return this._insertByPath(Y,Z,X)}static _getByPath(Y,J){if(J.length===0)return Y;let X=J.shift();if(X.type==="property"){if(!Y)return;if(Array.isArray(Y))throw Error("expected object, found array");return this._getByPath(Y[X.path],J)}else if(X.type==="index"){if(!Y)return;if(!Array.isArray(Y))throw Error("expected array, found object");return this._getByPath(Y[X.index],J)}else throw Error("encountered unexpected path type")}static getByPath(Y,J){let X=this._parsePath(J);return this._getByPath(Y,X)}static convertMacroCasToCas(Y){return`0x${Buffer.from(Y.startsWith("0x")?Y.slice(2):Y,"hex").reverse().toString("hex")}`}}oF0.SdUtils=iF0});var ij=q((H3)=>{var FV6=H3&&H3.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),VV6=H3&&H3.__setModuleDefault||(Object.create?function(Y,J){Object.defineProperty(Y,"default",{enumerable:!0,value:J})}:function(Y,J){Y.default=J}),IV6=H3&&H3.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var J={};if(Y!=null){for(var X in Y)if(X!=="default"&&Object.prototype.hasOwnProperty.call(Y,X))FV6(J,Y,X)}return VV6(J,Y),J};Object.defineProperty(H3,"__esModule",{value:!0});H3.Collection=void 0;var DV6=a41(),u$=IV6(CU()),i1=v8(),c4=s41(),nj=Y61(),aw=HY(),sF0=eK(),wV6=pj(),AV6=Ej(),sw=cj(),Z61=aF0(),W61=jU(),P4=X5();class tF0{static get DEFAULT_NAME(){return"_default"}constructor(Y,J){this._scope=Y,this._name=J,this._conn=Y.conn,this._kvScanTimeout=75000,this._scanBatchByteLimit=15000,this._scanBatchItemLimit=50}get conn(){return this._conn}get cluster(){return this._scope.bucket.cluster}get scope(){return this._scope}get transcoder(){return this._scope.transcoder}_mutationTimeout(Y){if(Y!==void 0&&Y!==null&&Y!==sF0.DurabilityLevel.None)return this.cluster.kvDurableTimeout;return this.cluster.kvTimeout}_cppDocId(Y){return{bucket:this.scope.bucket.name,scope:this.scope.name||"_default",collection:this.name||"_default",key:Y}}_encodeDoc(Y,J,X){try{let[Z,W]=Y.encode(J);X(null,Z,W)}catch(Z){return X(Z,Buffer.alloc(0),0)}}_decodeDoc(Y,J,X,Z){try{let W=Y.decode(J,X);Z(null,W)}catch(W){return Z(W,null)}}_subdocEncode(Y){return Buffer.from(Y)}_subdocDecode(Y){try{return JSON.parse(Y.toString("utf8"))}catch(J){return Y}}get name(){return this._name}get(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};if(J.project||J.withExpiry)return this._projectedGet(Y,J,X);let Z=J.transcoder||this.transcoder,W=J.timeout||this.cluster.kvTimeout;return P4.PromiseHelper.wrap(($)=>{this._conn.get({id:this._cppDocId(Y),timeout:W,partition:0,opaque:0},(G,Q)=>{let U=(0,i1.errorFromCpp)(G);if(U)return $(U,null);this._decodeDoc(Z,Q.value,Q.flags,(z,H)=>{if(z)return $(z,null);$(null,new c4.GetResult({content:H,cas:Q.cas}))})})},X)}_projectedGet(Y,J,X){let Z=-1,W=-1,$=[],G=[],Q=!1;if(J.withExpiry)Z=G.length,G.push(sw.LookupInSpec.get(sw.LookupInMacro.Expiry));if(W=G.length,!J.project)$=[""],G.push(sw.LookupInSpec.get(""));else{let U=J.project;if(!Array.isArray(U))U=[U];for(let z=0;z<U.length;++z)$.push(U[z]),G.push(sw.LookupInSpec.get(U[z]))}if(G.length>16)G=G.splice(0,W),G.push(sw.LookupInSpec.get("")),Q=!0;return P4.PromiseHelper.wrapAsync(async()=>{let U=await this.lookupIn(Y,G,{...J}),z=null,H=void 0;if(Z>=0)H=U.content[Z].value;if(W>=0)if(!Q)for(let O=0;O<$.length;++O){let K=$[O],B=U.content[W+O];if(!B.error)z=Z61.SdUtils.insertByPath(z,K,B.value)}else{z={};let O=U.content[W];for(let K=0;K<$.length;++K){let B=$[K],F=Z61.SdUtils.getByPath(O.value,B);z=Z61.SdUtils.insertByPath(z,B,F)}}return new c4.GetResult({content:z,cas:U.cas,expiryTime:H})},X)}exists(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this.cluster.kvTimeout;return P4.PromiseHelper.wrap((W)=>{this._conn.exists({id:this._cppDocId(Y),partition:0,opaque:0,timeout:Z},($,G)=>{let Q=(0,i1.errorFromCpp)($);if(Q)return W(Q,null);if(G.deleted)return W(null,new c4.ExistsResult({cas:void 0,exists:!1}));W(null,new c4.ExistsResult({cas:G.cas,exists:G.document_exists}))})},X)}_getReplica(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=new W61.StreamableReplicasPromise((Q)=>Q),$=X.transcoder||this.transcoder,G=X.timeout||this.cluster.kvTimeout;if(J)this._conn.getAllReplicas({id:this._cppDocId(Y),timeout:G,read_preference:(0,i1.readPreferenceToCpp)(X.readPreference)},(Q,U)=>{let z=(0,i1.errorFromCpp)(Q);if(z){W.emit("error",z),W.emit("end");return}U.entries.forEach((H)=>{this._decodeDoc($,H.value,H.flags,(O,K)=>{if(O){W.emit("error",O),W.emit("end");return}W.emit("replica",new c4.GetReplicaResult({content:K,cas:H.cas,isReplica:H.replica}))})}),W.emit("end");return});else this._conn.getAnyReplica({id:this._cppDocId(Y),timeout:G,read_preference:(0,i1.readPreferenceToCpp)(X.readPreference)},(Q,U)=>{let z=(0,i1.errorFromCpp)(Q);if(z){W.emit("error",z),W.emit("end");return}this._decodeDoc($,U.value,U.flags,(H,O)=>{if(H){W.emit("error",H),W.emit("end");return}W.emit("replica",new c4.GetReplicaResult({content:O,cas:U.cas,isReplica:U.replica}))}),W.emit("end");return});return P4.PromiseHelper.wrapAsync(()=>W,Z)}getAnyReplica(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;return P4.PromiseHelper.wrapAsync(async()=>{return(await this._getReplica(Y,!1,J))[0]},X)}getAllReplicas(Y,J,X){return this._getReplica(Y,!0,J,X)}insert(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=(0,P4.parseExpiry)(X.expiry),$=X.transcoder||this.transcoder,G=X.durabilityLevel,Q=X.durabilityPersistTo,U=X.durabilityReplicateTo,z=X.timeout||this._mutationTimeout(G);return P4.PromiseHelper.wrap((H)=>{this._encodeDoc($,J,(O,K,B)=>{if(O)return H(O,null);let F={id:this._cppDocId(Y),value:K,flags:B,expiry:W,timeout:z,partition:0,opaque:0},V=(I,D)=>{let L=(0,i1.errorFromCpp)(I);if(L)return H(L,null);H(L,new c4.MutationResult({cas:D.cas,token:D.token}))};if(Q||U)this._conn.insertWithLegacyDurability({...F,persist_to:(0,i1.persistToToCpp)(Q),replicate_to:(0,i1.replicateToToCpp)(U)},V);else this._conn.insert({...F,durability_level:(0,i1.durabilityToCpp)(G)},V)})},Z)}upsert(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=(0,P4.parseExpiry)(X.expiry),$=X.preserveExpiry,G=X.transcoder||this.transcoder,Q=X.durabilityLevel,U=X.durabilityPersistTo,z=X.durabilityReplicateTo,H=X.timeout||this._mutationTimeout(Q);return P4.PromiseHelper.wrap((O)=>{this._encodeDoc(G,J,(K,B,F)=>{if(K)return O(K,null);let V={id:this._cppDocId(Y),value:B,flags:F,expiry:W,preserve_expiry:$||!1,timeout:H,partition:0,opaque:0},I=(D,L)=>{let A=(0,i1.errorFromCpp)(D);if(A)return O(A,null);O(A,new c4.MutationResult({cas:L.cas,token:L.token}))};if(U||z)this._conn.upsertWithLegacyDurability({...V,persist_to:(0,i1.persistToToCpp)(U),replicate_to:(0,i1.replicateToToCpp)(z)},I);else this._conn.upsert({...V,durability_level:(0,i1.durabilityToCpp)(Q)},I)})},Z)}replace(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=(0,P4.parseExpiry)(X.expiry),$=X.cas,G=X.preserveExpiry,Q=X.transcoder||this.transcoder,U=X.durabilityLevel,z=X.durabilityPersistTo,H=X.durabilityReplicateTo,O=X.timeout||this._mutationTimeout(U);return P4.PromiseHelper.wrap((K)=>{this._encodeDoc(Q,J,(B,F,V)=>{if(B)return K(B,null);let I={id:this._cppDocId(Y),value:F,flags:V,expiry:W,cas:$||u$.zeroCas,preserve_expiry:G||!1,timeout:O,partition:0,opaque:0},D=(L,A)=>{let P=(0,i1.errorFromCpp)(L);if(P)return K(P,null);K(P,new c4.MutationResult({cas:A.cas,token:A.token}))};if(z||H)this._conn.replaceWithLegacyDurability({...I,persist_to:(0,i1.persistToToCpp)(z),replicate_to:(0,i1.replicateToToCpp)(H)},D);else this._conn.replace({...I,durability_level:(0,i1.durabilityToCpp)(U)},D)})},Z)}remove(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let{cas:Z,durabilityLevel:W,durabilityPersistTo:$,durabilityReplicateTo:G}=J,Q=J.timeout||this._mutationTimeout(W);return P4.PromiseHelper.wrap((U)=>{let z={id:this._cppDocId(Y),cas:Z||u$.zeroCas,timeout:Q,partition:0,opaque:0},H=(O,K)=>{let B=(0,i1.errorFromCpp)(O);if(B)return U(B,null);U(B,new c4.MutationResult({cas:K.cas,token:K.token}))};if($||G)this._conn.removeWithLegacyDurability({...z,persist_to:(0,i1.persistToToCpp)($),replicate_to:(0,i1.replicateToToCpp)(G)},H);else this._conn.remove({...z,durability_level:(0,i1.durabilityToCpp)(W)},H)},X)}getAndTouch(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=X.transcoder||this.transcoder,$=X.timeout||this.cluster.kvTimeout;return P4.PromiseHelper.wrap((G)=>{this._conn.getAndTouch({id:this._cppDocId(Y),expiry:(0,P4.parseExpiry)(J),timeout:$,partition:0,opaque:0},(Q,U)=>{let z=(0,i1.errorFromCpp)(Q);if(z)return G(z,null);this._decodeDoc(W,U.value,U.flags,(H,O)=>{if(H)return G(H,null);G(H,new c4.GetResult({content:O,cas:U.cas}))})})},Z)}touch(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=X.timeout||this.cluster.kvTimeout;return P4.PromiseHelper.wrap(($)=>{this._conn.touch({id:this._cppDocId(Y),expiry:(0,P4.parseExpiry)(J),timeout:W,partition:0,opaque:0},(G,Q)=>{let U=(0,i1.errorFromCpp)(G);if(U)return $(U,null);$(U,new c4.MutationResult({cas:Q.cas}))})},Z)}getAndLock(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=X.transcoder||this.transcoder,$=X.timeout||this.cluster.kvTimeout;return P4.PromiseHelper.wrap((G)=>{this._conn.getAndLock({id:this._cppDocId(Y),lock_time:J,timeout:$,partition:0,opaque:0},(Q,U)=>{let z=(0,i1.errorFromCpp)(Q);if(z)return G(z,null);this._decodeDoc(W,U.value,U.flags,(H,O)=>{if(H)return G(H,null);G(H,new c4.GetResult({cas:U.cas,content:O}))})})},Z)}unlock(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=X.timeout||this.cluster.kvTimeout;return P4.PromiseHelper.wrap(($)=>{this._conn.unlock({id:this._cppDocId(Y),cas:J,timeout:W,partition:0,opaque:0},(G)=>{let Q=(0,i1.errorFromCpp)(G);if(Q)return $(Q);$(null)})},Z)}_continueScan(Y,J,X){Y.next((Z,W)=>{let $=(0,i1.errorFromCpp)(Z);if($){X.emit("error",$),X.emit("end");return}if(typeof W>"u"){X.emit("end");return}let G=W.key;if(typeof W.body<"u"){let Q=W.body.cas,U=W.body.expiry;this._decodeDoc(J,W.body.value,W.body.flags,(z,H)=>{if(z){X.emit("error",z),X.emit("end");return}X.emit("result",new c4.ScanResult({id:G,content:H,cas:Q,expiryTime:U}))})}else X.emit("result",new c4.ScanResult({id:G}));if(X.cancelRequested&&!Y.cancelled)Y.cancel();this._continueScan(Y,J,X);return})}_doScan(Y,J,X,Z){let W=this._scope.bucket.name,$=this._scope.name,G=this._name;return P4.PromiseHelper.wrapAsync(()=>{let{cppErr:Q,result:U}=this._conn.scan(W,$,G,Y.getScanType(),(0,i1.scanTypeToCpp)(Y),J),z=(0,i1.errorFromCpp)(Q);if(z)throw z;let H=new W61.StreamableScanPromise((O)=>O);return this._continueScan(U,X,H),H},Z)}scan(Y,J,X){if(J instanceof Function)X=arguments[2],J=void 0;if(!J)J={};let Z=J.transcoder||this.transcoder,W=J.timeout||this._kvScanTimeout,$=J.idsOnly||!1,G=J.batchByteLimit||this._scanBatchByteLimit,Q=J.batchByteLimit||this._scanBatchItemLimit;if(typeof J.concurrency<"u"&&J.concurrency<1)throw new aw.InvalidArgumentError(Error("Concurrency option must be positive"));let U=J.concurrency||1;if(Y instanceof AV6.SamplingScan&&Y.limit<1)throw new aw.InvalidArgumentError(Error("Sampling scan limit must be positive"));let z={ids_only:$,consistent_with:(0,i1.mutationStateToCpp)(J.consistentWith),batch_item_limit:Q,batch_byte_limit:G,concurrency:U,timeout:W};return this._doScan(Y,z,Z,X)}lookupIn(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};if(J.length===0)throw new aw.InvalidArgumentError(Error("At least one lookup spec must be provided."));let W=[];for(let Q=0;Q<J.length;++Q)W.push({opcode_:J[Q]._op,flags_:J[Q]._flags,path_:J[Q]._path,original_index_:Q});let $=X.timeout||this.cluster.kvTimeout,G=X.accessDeleted||!1;return P4.PromiseHelper.wrap((Q)=>{this._conn.lookupIn({id:this._cppDocId(Y),specs:W,timeout:$,partition:0,opaque:0,access_deleted:G},(U,z)=>{let H=(0,i1.errorFromCpp)(U);if(z&&z.fields){let O=[];for(let K=0;K<z.fields.length;++K){let B=z.fields[K],F=(0,i1.errorFromCpp)(B.ec),V=void 0;if(B.value&&B.value.length>0)V=this._subdocDecode(B.value);if(B.opcode===u$.default.protocol_subdoc_opcode.exists)V=B.exists;O.push(new c4.LookupInResultEntry({error:F,value:V}))}Q(H,new c4.LookupInResult({content:O,cas:z.cas}));return}Q(H,null)})},Z)}_lookupInReplica(Y,J,X,Z,W){if(Z instanceof Function)W=arguments[3],Z=void 0;if(!Z)Z={};if(X.length===0)throw new aw.InvalidArgumentError(Error("At least one lookup spec must be provided."));let $=new W61.StreamableReplicasPromise((U)=>U),G=[];for(let U=0;U<X.length;++U)G.push({opcode_:X[U]._op,flags_:X[U]._flags,path_:X[U]._path,original_index_:U});let Q=Z.timeout||this.cluster.kvTimeout;if(J)this._conn.lookupInAllReplicas({id:this._cppDocId(Y),specs:G,timeout:Q,read_preference:(0,i1.readPreferenceToCpp)(Z.readPreference)},(U,z)=>{let H=(0,i1.errorFromCpp)(U);if(H){$.emit("error",H),$.emit("end");return}z.entries.forEach((O)=>{let K=[];for(let B=0;B<O.fields.length;++B){let F=O.fields[B],V=(0,i1.errorFromCpp)(F.ec),I=void 0;if(F.value&&F.value.length>0)I=this._subdocDecode(F.value);if(F.opcode===u$.default.protocol_subdoc_opcode.exists)I=F.exists;K.push(new c4.LookupInResultEntry({error:V,value:I}))}$.emit("replica",new c4.LookupInReplicaResult({content:K,cas:O.cas,isReplica:O.is_replica}))}),$.emit("end");return});else this._conn.lookupInAnyReplica({id:this._cppDocId(Y),specs:G,timeout:Q,read_preference:(0,i1.readPreferenceToCpp)(Z.readPreference)},(U,z)=>{let H=(0,i1.errorFromCpp)(U);if(H){$.emit("error",H),$.emit("end");return}let O=[];for(let K=0;K<z.fields.length;++K){let B=z.fields[K],F=(0,i1.errorFromCpp)(B.ec),V=void 0;if(B.value&&B.value.length>0)V=this._subdocDecode(B.value);if(B.opcode===u$.default.protocol_subdoc_opcode.exists)V=B.exists;O.push(new c4.LookupInResultEntry({error:F,value:V}))}$.emit("replica",new c4.LookupInReplicaResult({content:O,cas:z.cas,isReplica:z.is_replica})),$.emit("end");return});return P4.PromiseHelper.wrapAsync(()=>$,W)}lookupInAnyReplica(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;return P4.PromiseHelper.wrapAsync(async()=>{return(await this._lookupInReplica(Y,!1,J,X))[0]},Z)}lookupInAllReplicas(Y,J,X,Z){return this._lookupInReplica(Y,!0,J,X,Z)}mutateIn(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};if(J.length===0)throw new aw.InvalidArgumentError(Error("At least one lookup spec must be provided."));let W=[];for(let B=0;B<J.length;++B)W.push({opcode_:J[B]._op,flags_:J[B]._flags,path_:J[B]._path,value_:J[B]._data?this._subdocEncode(J[B]._data):J[B]._data,original_index_:0});let $=X.upsertDocument?sF0.StoreSemantics.Upsert:X.storeSemantics,G=(0,P4.parseExpiry)(X.expiry),Q=X.preserveExpiry,U=X.cas,z=X.durabilityLevel,H=X.durabilityPersistTo,O=X.durabilityReplicateTo,K=X.timeout||this._mutationTimeout(z);return P4.PromiseHelper.wrap((B)=>{let F={id:this._cppDocId(Y),store_semantics:(0,i1.storeSemanticToCpp)($),specs:W,expiry:G,preserve_expiry:Q||!1,cas:U||u$.zeroCas,timeout:K,partition:0,opaque:0,access_deleted:!1,create_as_deleted:!1},V=(I,D)=>{let L=(0,i1.errorFromCpp)(I);if(D&&D.fields){let A=[];for(let P=0;P<D.fields.length;++P){let R=D.fields[P],N=void 0;if(R.value&&R.value.length>0)N=this._subdocDecode(R.value);A.push(new c4.MutateInResultEntry({value:N}))}B(L,new c4.MutateInResult({content:A,cas:D.cas,token:D.token}));return}B(L,null)};if(H||O)this._conn.mutateInWithLegacyDurability({...F,persist_to:(0,i1.persistToToCpp)(H),replicate_to:(0,i1.replicateToToCpp)(O)},V);else this._conn.mutateIn({...F,durability_level:(0,i1.durabilityToCpp)(z)},V)},Z)}list(Y){return new nj.CouchbaseList(this,Y)}queue(Y){return new nj.CouchbaseQueue(this,Y)}map(Y){return new nj.CouchbaseMap(this,Y)}set(Y){return new nj.CouchbaseSet(this,Y)}binary(){return new DV6.BinaryCollection(this)}_binaryIncrement(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=X.initial,$=(0,P4.parseExpiry)(X.expiry),G=X.durabilityLevel,Q=X.durabilityPersistTo,U=X.durabilityReplicateTo,z=X.timeout||this.cluster.kvTimeout;return P4.PromiseHelper.wrap((H)=>{let O={id:this._cppDocId(Y),delta:J,initial_value:W,expiry:$,timeout:z,partition:0,opaque:0},K=(B,F)=>{let V=(0,i1.errorFromCpp)(B);if(V)return H(V,null);H(V,new c4.CounterResult({cas:F.cas,token:F.token,value:F.content}))};if(Q||U)this._conn.incrementWithLegacyDurability({...O,persist_to:(0,i1.persistToToCpp)(Q),replicate_to:(0,i1.replicateToToCpp)(U)},K);else this._conn.increment({...O,durability_level:(0,i1.durabilityToCpp)(G)},K)},Z)}_binaryDecrement(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=X.initial,$=(0,P4.parseExpiry)(X.expiry),G=X.durabilityLevel,Q=X.durabilityPersistTo,U=X.durabilityReplicateTo,z=X.timeout||this.cluster.kvTimeout;return P4.PromiseHelper.wrap((H)=>{let O={id:this._cppDocId(Y),delta:J,initial_value:W,expiry:$,timeout:z,partition:0,opaque:0},K=(B,F)=>{let V=(0,i1.errorFromCpp)(B);if(V)return H(V,null);H(V,new c4.CounterResult({cas:F.cas,token:F.token,value:F.content}))};if(Q||U)this._conn.decrementWithLegacyDurability({...O,persist_to:(0,i1.persistToToCpp)(Q),replicate_to:(0,i1.replicateToToCpp)(U)},K);else this._conn.decrement({...O,durability_level:(0,i1.durabilityToCpp)(G)},K)},Z)}_binaryAppend(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let{durabilityLevel:W,durabilityPersistTo:$,durabilityReplicateTo:G,cas:Q}=X,U=X.timeout||this.cluster.kvTimeout;return P4.PromiseHelper.wrap((z)=>{if(!Buffer.isBuffer(J))J=Buffer.from(J);let H={id:this._cppDocId(Y),value:J,cas:Q||u$.zeroCas,timeout:U,partition:0,opaque:0},O=(K,B)=>{let F=(0,i1.errorFromCpp)(K);if(F)return z(F,null);z(F,new c4.MutationResult({cas:B.cas,token:B.token}))};if($||G)this._conn.appendWithLegacyDurability({...H,persist_to:(0,i1.persistToToCpp)($),replicate_to:(0,i1.replicateToToCpp)(G)},O);else this._conn.append({...H,durability_level:(0,i1.durabilityToCpp)(W)},O)},Z)}_binaryPrepend(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let{durabilityLevel:W,durabilityPersistTo:$,durabilityReplicateTo:G,cas:Q}=X,U=X.timeout||this.cluster.kvTimeout;return P4.PromiseHelper.wrap((z)=>{if(!Buffer.isBuffer(J))J=Buffer.from(J);let H={id:this._cppDocId(Y),value:J,cas:Q||u$.zeroCas,timeout:U,partition:0,opaque:0},O=(K,B)=>{let F=(0,i1.errorFromCpp)(K);if(F)return z(F,null);z(F,new c4.MutationResult({cas:B.cas,token:B.token}))};if($||G)this._conn.prependWithLegacyDurability({...H,persist_to:(0,i1.persistToToCpp)($),replicate_to:(0,i1.replicateToToCpp)(G)},O);else this._conn.prepend({...H,durability_level:(0,i1.durabilityToCpp)(W)},O)},Z)}queryIndexes(){return new wV6.CollectionQueryIndexManager(this)}}H3.Collection=tF0});var $61=q((YV0)=>{Object.defineProperty(YV0,"__esModule",{value:!0});YV0.CollectionManager=YV0.ScopeSpec=YV0.CollectionSpec=void 0;var UB=v8(),zB=X5();class oj{constructor(Y){this.name=Y.name,this.scopeName=Y.scopeName,this.maxExpiry=Y.maxExpiry,this.history=Y.history}static _fromCppData(Y,J){return new oj({name:J.name,scopeName:Y,maxExpiry:J.max_expiry,history:J.history})}}YV0.CollectionSpec=oj;class rj{constructor(Y){this.name=Y.name,this.collections=Y.collections}static _fromCppData(Y){let J;if(Y.collections.length>0){let X=Y.name;J=Y.collections.map((Z)=>oj._fromCppData(X,Z))}else J=[];return new rj({name:Y.name,collections:J})}}YV0.ScopeSpec=rj;class eF0{constructor(Y){this._bucket=Y}get _cluster(){return this._bucket.cluster}async getAllScopes(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=this._bucket.name,Z=Y.timeout||this._cluster.managementTimeout;return zB.PromiseHelper.wrap((W)=>{this._cluster.conn.managementScopeGetAll({bucket_name:X,timeout:Z},($,G)=>{let Q=(0,UB.errorFromCpp)($);if(Q)return W(Q,null);let U=G.manifest.scopes.map((z)=>rj._fromCppData(z));W(null,U)})},J)}async createCollection(){let Y=arguments[0],J=arguments[1],X=arguments[2],Z=arguments[3],W=arguments[4];if(typeof Y==="object"){let z=Y;if(Y=z.name,J=z.scopeName,X={maxExpiry:z.maxExpiry,history:z.history},Z=arguments[1],W=arguments[2],Z instanceof Function)W=arguments[1],Z=void 0}if(X instanceof Function)W=arguments[2],X=void 0;else if(Z instanceof Function)W=arguments[3],Z=void 0;if(!Z)Z={};if(!X)X={};let $=this._bucket.name,G=Z.timeout||this._cluster.managementTimeout,Q=X===null||X===void 0?void 0:X.maxExpiry,U=X===null||X===void 0?void 0:X.history;return zB.PromiseHelper.wrap((z)=>{this._cluster.conn.managementCollectionCreate({bucket_name:$,scope_name:J,collection_name:Y,max_expiry:Q,history:U,timeout:G},(H)=>{let O=(0,UB.errorFromCpp)(H);if(O)return z(O,null);z(O)})},W)}async dropCollection(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=this._bucket.name,$=X.timeout||this._cluster.managementTimeout;return zB.PromiseHelper.wrap((G)=>{this._cluster.conn.managementCollectionDrop({bucket_name:W,scope_name:J,collection_name:Y,timeout:$},(Q)=>{let U=(0,UB.errorFromCpp)(Q);if(U)return G(U,null);G(U)})},Z)}async updateCollection(Y,J,X,Z,W){if(Z instanceof Function)W=arguments[3],Z=void 0;if(!Z)Z={};let $=this._bucket.name,G=Z.timeout||this._cluster.managementTimeout;return zB.PromiseHelper.wrap((Q)=>{this._cluster.conn.managementCollectionUpdate({bucket_name:$,scope_name:J,collection_name:Y,max_expiry:X.maxExpiry,history:X.history,timeout:G},(U)=>{let z=(0,UB.errorFromCpp)(U);if(z)return Q(z,null);Q(z)})},W)}async createScope(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=this._bucket.name,W=J.timeout||this._cluster.managementTimeout;return zB.PromiseHelper.wrap(($)=>{this._cluster.conn.managementScopeCreate({bucket_name:Z,scope_name:Y,timeout:W},(G)=>{let Q=(0,UB.errorFromCpp)(G);if(Q)return $(Q,null);$(Q)})},X)}async dropScope(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=this._bucket.name,W=J.timeout||this._cluster.managementTimeout;return zB.PromiseHelper.wrap(($)=>{this._cluster.conn.managementScopeDrop({bucket_name:Z,scope_name:Y,timeout:W},(G)=>{let Q=(0,UB.errorFromCpp)(G);if(Q)return $(Q,null);$(Q)})},X)}}YV0.CollectionManager=eF0});var G61=q((WV0)=>{Object.defineProperty(WV0,"__esModule",{value:!0});WV0.PingExecutor=WV0.DiagnoticsExecutor=void 0;var xZ=v8(),aj=Lj();class XV0{constructor(Y){this._cluster=Y}async diagnostics(Y){return new Promise((J,X)=>{this._cluster.conn.diagnostics({report_id:Y.reportId},(Z,W)=>{let $=(0,xZ.errorFromCpp)(Z);if($||!W){X($);return}J(new aj.DiagnosticsResult({version:W.version,id:W.id,sdk:W.sdk,services:Object.fromEntries(Object.entries(W.services).map(([G,Q])=>{return[(0,xZ.serviceTypeFromCpp)(parseInt(G)),Q.map((U)=>{return new aj.DiagnosticsEndpoint({type:(0,xZ.serviceTypeFromCpp)(U.type),id:U.id,local:U.local,remote:U.remote,lastActivity:U.last_activity,state:(0,xZ.endpointStateFromCpp)(U.state)})})]}))}))})})}}WV0.DiagnoticsExecutor=XV0;class ZV0{constructor(Y){this._cluster=Y}async ping(Y){return new Promise((J,X)=>{Y.timeout,this._cluster.conn.ping({report_id:Y.reportId,services:Y.serviceTypes?Y.serviceTypes.map((Z)=>(0,xZ.serviceTypeToCpp)(Z)):void 0},(Z,W)=>{let $=(0,xZ.errorFromCpp)(Z);if($||!W){X($);return}J(new aj.PingResult({version:W.version,id:W.id,sdk:W.sdk,services:Object.fromEntries(Object.entries(W.services).map(([G,Q])=>{return[(0,xZ.serviceTypeFromCpp)(parseInt(G)),Q.map((U)=>{return new aj.PingEndpoint({type:(0,xZ.serviceTypeFromCpp)(U.type),id:U.id,latency:U.latency,remote:U.remote,local:U.local,state:(0,xZ.pingStateFromCpp)(U.state),bucket:U.bucket,error:U.error})})]}))}))})})}}WV0.PingExecutor=ZV0});var Q61=q((zV0)=>{Object.defineProperty(zV0,"__esModule",{value:!0});zV0.SearchExecutor=void 0;var tw=v8(),GV0=uw(),QV0=Sj(),EV6=jU();class UV0{constructor(Y,J,X){this._cluster=Y,this._bucketName=J,this._scopeName=X}query(Y,J,X){let Z=new EV6.StreamableRowPromise((Q,U)=>{return new QV0.SearchResult({rows:Q,meta:U})}),W=J instanceof GV0.SearchQuery?JSON.stringify(J):J.searchQuery?JSON.stringify(J.searchQuery):JSON.stringify(new GV0.MatchNoneSearchQuery),G={timeout:X.timeout||this._cluster.searchTimeout,index_name:Y,query:W,limit:X.limit,skip:X.skip,explain:X.explain||!1,disable_scoring:X.disableScoring||!1,include_locations:X.includeLocations||!1,highlight_style:X.highlight?(0,tw.searchHighlightStyleToCpp)(X.highlight.style):void 0,highlight_fields:X.highlight&&X.highlight.fields?X.highlight.fields:[],fields:X.fields||[],collections:X.collections||[],scan_consistency:(0,tw.searchScanConsistencyToCpp)(X.consistency),mutation_state:(0,tw.mutationStateToCpp)(X.consistentWith).tokens,sort_specs:X.sort?X.sort.map((Q)=>JSON.stringify(Q)):[],facets:X.facets?Object.fromEntries(Object.entries(X.facets).filter(([,Q])=>Q!==void 0).map(([Q,U])=>[Q,JSON.stringify(U)])):{},raw:X.raw?Object.fromEntries(Object.entries(X.raw).filter(([,Q])=>Q!==void 0).map(([Q,U])=>[Q,JSON.stringify(U)])):{},body_str:"",show_request:X.showRequest||!1,log_request:X.logRequest||!1,log_response:X.logResponse||!1};if(J instanceof QV0.SearchRequest){if(J.vectorSearch){if(G.vector_search=JSON.stringify(J.vectorSearch.queries),J.vectorSearch.options&&J.vectorSearch.options.vectorQueryCombination)G.vector_query_combination=(0,tw.vectorQueryCombinationToCpp)(J.vectorSearch.options.vectorQueryCombination)}}if(this._bucketName&&this._scopeName)G.bucket_name=this._bucketName,G.scope_name=this._scopeName;return this._cluster.conn.search(G,(Q,U)=>{let z=(0,tw.errorFromCpp)(Q);if(z){Z.emit("error",z),Z.emit("end");return}U.rows.forEach((H)=>{H.fields=H.fields?JSON.parse(H.fields):void 0,H.explanation=H.explanation?JSON.parse(H.explanation):void 0,Z.emit("row",H)});{let H=U.meta;Z.emit("meta",{facets:Object.fromEntries(Object.values(U.facets).map((O)=>[O.name,O])),...H})}Z.emit("end");return}),Z}}zV0.SearchExecutor=UV0});var sj=q((KV0)=>{Object.defineProperty(KV0,"__esModule",{value:!0});KV0.SearchIndexManager=KV0.SearchIndex=void 0;var VY=X5(),IY=v8();class HB{constructor(Y){this.uuid=Y.uuid,this.name=Y.name,this.sourceName=Y.sourceName,this.type=Y.type,this.params=Y.params,this.sourceUuid=Y.sourceUuid,this.sourceParams=Y.sourceParams,this.sourceType=Y.sourceType,this.planParams=Y.planParams}static _toCppData(Y){return{uuid:Y.uuid,name:Y.name,type:Y.type,params_json:JSON.stringify(Y.params),source_uuid:Y.sourceUuid,source_name:Y.sourceName,source_type:Y.sourceType,source_params_json:JSON.stringify(Y.sourceParams),plan_params_json:JSON.stringify(Y.planParams)}}static _fromCppData(Y){let J=new HB({uuid:Y.uuid,name:Y.name,type:Y.type,params:{},sourceUuid:Y.source_uuid,sourceName:Y.source_name,sourceType:Y.source_type,sourceParams:{},planParams:{}});if(Y.params_json)J.params=JSON.parse(Y.params_json);if(Y.source_params_json)J.sourceParams=JSON.parse(Y.source_params_json);if(Y.plan_params_json)J.planParams=JSON.parse(Y.plan_params_json);return J}}KV0.SearchIndex=HB;class OV0{constructor(Y){this._cluster=Y}async getIndex(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return VY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexGet({index_name:Y,timeout:Z},($,G)=>{let Q=(0,IY.errorFromCpp)($);if(Q)return W(Q,null);let U=HB._fromCppData(G.index);W(null,U)})},X)}async getAllIndexes(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=Y.timeout||this._cluster.managementTimeout;return VY.PromiseHelper.wrap((Z)=>{this._cluster.conn.managementSearchIndexGetAll({timeout:X},(W,$)=>{let G=(0,IY.errorFromCpp)(W);if(G)return Z(G,null);let Q=$.indexes.map((U)=>HB._fromCppData(U));Z(null,Q)})},J)}async upsertIndex(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return VY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexUpsert({index:HB._toCppData(Y),timeout:Z},($)=>{let G=(0,IY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async dropIndex(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return VY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexDrop({index_name:Y,timeout:Z},($)=>{let G=(0,IY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async getIndexedDocumentsCount(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return VY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexGetDocumentsCount({index_name:Y,timeout:Z},($,G)=>{let Q=(0,IY.errorFromCpp)($);if(Q)return W(Q,null);W(null,G.count)})},X)}async pauseIngest(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return VY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexControlIngest({index_name:Y,pause:!0,timeout:Z},($)=>{let G=(0,IY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async resumeIngest(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return VY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexControlIngest({index_name:Y,pause:!1,timeout:Z},($)=>{let G=(0,IY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async allowQuerying(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return VY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexControlQuery({index_name:Y,allow:!0,timeout:Z},($)=>{let G=(0,IY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async disallowQuerying(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return VY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexControlQuery({index_name:Y,allow:!1,timeout:Z},($)=>{let G=(0,IY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async freezePlan(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return VY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexControlPlanFreeze({index_name:Y,freeze:!0,timeout:Z},($)=>{let G=(0,IY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async unfreezePlan(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return VY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexControlPlanFreeze({index_name:Y,freeze:!1,timeout:Z},($)=>{let G=(0,IY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async analyzeDocument(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=X.timeout||this._cluster.managementTimeout;return VY.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexAnalyzeDocument({index_name:Y,encoded_document:JSON.stringify(J),timeout:W},(G,Q)=>{let U=(0,IY.errorFromCpp)(G);if(U)return $(U,null);let z=JSON.parse(Q.analysis);$(z,null)})},Z)}}KV0.SearchIndexManager=OV0});var z61=q((FV0)=>{Object.defineProperty(FV0,"__esModule",{value:!0});FV0.ScopeSearchIndexManager=void 0;var DY=X5(),wY=v8(),U61=sj();class qV0{constructor(Y,J,X){this._cluster=Y,this._bucketName=J,this._scopeName=X}async getIndex(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return DY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexGet({index_name:Y,timeout:Z,bucket_name:this._bucketName,scope_name:this._scopeName},($,G)=>{let Q=(0,wY.errorFromCpp)($);if(Q)return W(Q,null);let U=U61.SearchIndex._fromCppData(G.index);W(null,U)})},X)}async getAllIndexes(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=Y.timeout||this._cluster.managementTimeout;return DY.PromiseHelper.wrap((Z)=>{this._cluster.conn.managementSearchIndexGetAll({timeout:X,bucket_name:this._bucketName,scope_name:this._scopeName},(W,$)=>{let G=(0,wY.errorFromCpp)(W);if(G)return Z(G,null);let Q=$.indexes.map((U)=>U61.SearchIndex._fromCppData(U));Z(null,Q)})},J)}async upsertIndex(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return DY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexUpsert({index:U61.SearchIndex._toCppData(Y),timeout:Z,bucket_name:this._bucketName,scope_name:this._scopeName},($)=>{let G=(0,wY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async dropIndex(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return DY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexDrop({index_name:Y,timeout:Z,bucket_name:this._bucketName,scope_name:this._scopeName},($)=>{let G=(0,wY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async getIndexedDocumentsCount(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return DY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexGetDocumentsCount({index_name:Y,timeout:Z,bucket_name:this._bucketName,scope_name:this._scopeName},($,G)=>{let Q=(0,wY.errorFromCpp)($);if(Q)return W(Q,null);W(null,G.count)})},X)}async pauseIngest(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return DY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexControlIngest({index_name:Y,pause:!0,timeout:Z,bucket_name:this._bucketName,scope_name:this._scopeName},($)=>{let G=(0,wY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async resumeIngest(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return DY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexControlIngest({index_name:Y,pause:!1,timeout:Z,bucket_name:this._bucketName,scope_name:this._scopeName},($)=>{let G=(0,wY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async allowQuerying(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return DY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexControlQuery({index_name:Y,allow:!0,timeout:Z,bucket_name:this._bucketName,scope_name:this._scopeName},($)=>{let G=(0,wY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async disallowQuerying(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return DY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexControlQuery({index_name:Y,allow:!1,timeout:Z,bucket_name:this._bucketName,scope_name:this._scopeName},($)=>{let G=(0,wY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async freezePlan(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return DY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexControlPlanFreeze({index_name:Y,freeze:!0,timeout:Z,bucket_name:this._bucketName,scope_name:this._scopeName},($)=>{let G=(0,wY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async unfreezePlan(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return DY.PromiseHelper.wrap((W)=>{this._cluster.conn.managementSearchIndexControlPlanFreeze({index_name:Y,freeze:!1,timeout:Z,bucket_name:this._bucketName,scope_name:this._scopeName},($)=>{let G=(0,wY.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async analyzeDocument(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=X.timeout||this._cluster.managementTimeout;return DY.PromiseHelper.wrap(($)=>{this._cluster.conn.managementSearchIndexAnalyzeDocument({index_name:Y,encoded_document:JSON.stringify(J),timeout:W,bucket_name:this._bucketName,scope_name:this._scopeName},(G,Q)=>{let U=(0,wY.errorFromCpp)(G);if(U)return $(U,null);let z=JSON.parse(Q.analysis);$(z,null)})},Z)}}FV0.ScopeSearchIndexManager=qV0});var H61=q((DV0)=>{Object.defineProperty(DV0,"__esModule",{value:!0});DV0.ScopeEventingFunctionManager=void 0;var fZ=X5(),vZ=v8(),tj=ow();class IV0{constructor(Y,J,X){this._cluster=Y,this._bucketName=J,this._scopeName=X}async upsertFunction(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return fZ.PromiseHelper.wrap((W)=>{this._cluster.conn.managementEventingUpsertFunction({function:tj.EventingFunction._toCppData(Y),bucket_name:this._bucketName,scope_name:this._scopeName,timeout:Z},($)=>{let G=(0,vZ.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async dropFunction(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return fZ.PromiseHelper.wrap((W)=>{this._cluster.conn.managementEventingDropFunction({name:Y,bucket_name:this._bucketName,scope_name:this._scopeName,timeout:Z},($)=>{let G=(0,vZ.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async getAllFunctions(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=Y.timeout||this._cluster.managementTimeout;return fZ.PromiseHelper.wrap((Z)=>{this._cluster.conn.managementEventingGetAllFunctions({bucket_name:this._bucketName,scope_name:this._scopeName,timeout:X},(W,$)=>{let G=(0,vZ.errorFromCpp)(W);if(G)return Z(G,null);let Q=$.functions.map((U)=>tj.EventingFunction._fromCppData(U));Z(null,Q)})},J)}async getFunction(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return fZ.PromiseHelper.wrap((W)=>{this._cluster.conn.managementEventingGetFunction({name:Y,bucket_name:this._bucketName,scope_name:this._scopeName,timeout:Z},($,G)=>{let Q=(0,vZ.errorFromCpp)($);if(Q)return W(Q,null);let U=tj.EventingFunction._fromCppData(G.function);W(null,U)})},X)}async deployFunction(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return fZ.PromiseHelper.wrap((W)=>{this._cluster.conn.managementEventingDeployFunction({name:Y,bucket_name:this._bucketName,scope_name:this._scopeName,timeout:Z},($)=>{let G=(0,vZ.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async undeployFunction(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return fZ.PromiseHelper.wrap((W)=>{this._cluster.conn.managementEventingUndeployFunction({name:Y,bucket_name:this._bucketName,scope_name:this._scopeName,timeout:Z},($)=>{let G=(0,vZ.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async pauseFunction(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return fZ.PromiseHelper.wrap((W)=>{this._cluster.conn.managementEventingPauseFunction({name:Y,bucket_name:this._bucketName,scope_name:this._scopeName,timeout:Z},($)=>{let G=(0,vZ.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async resumeFunction(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return fZ.PromiseHelper.wrap((W)=>{this._cluster.conn.managementEventingResumeFunction({name:Y,bucket_name:this._bucketName,scope_name:this._scopeName,timeout:Z},($)=>{let G=(0,vZ.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async functionsStatus(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=Y.timeout||this._cluster.managementTimeout;return fZ.PromiseHelper.wrap((Z)=>{this._cluster.conn.managementEventingGetStatus({bucket_name:this._bucketName,scope_name:this._scopeName,timeout:X},(W,$)=>{let G=(0,vZ.errorFromCpp)(W);if(G)return Z(G,null);let Q=tj.EventingState._fromCppData($.status);Z(null,Q)})},J)}}DV0.ScopeEventingFunctionManager=IV0});var K61=q((PV0)=>{Object.defineProperty(PV0,"__esModule",{value:!0});PV0.Scope=void 0;var RV6=r41(),NV6=ij(),SV6=kj(),CV6=Q61(),jV6=z61(),O61=X5(),kV6=H61();class AV0{static get DEFAULT_NAME(){return"_default"}constructor(Y,J){this._bucket=Y,this._name=J,this._conn=Y.conn}get conn(){return this._conn}get bucket(){return this._bucket}get cluster(){return this._bucket.cluster}get transcoder(){return this._bucket.transcoder}get name(){return this._name}collection(Y){return new NV6.Collection(this,Y)}searchIndexes(){return new jV6.ScopeSearchIndexManager(this.cluster,this.bucket.name,this._name)}eventingFunctions(){return new kV6.ScopeEventingFunctionManager(this.cluster,this._bucket.name,this._name)}query(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=this.bucket,W=new SV6.QueryExecutor(this.cluster),$=J;return O61.PromiseHelper.wrapAsync(()=>W.query(Y,{...$,queryContext:`${Z.name}.${this.name}`}),X)}analyticsQuery(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=this.bucket,W=new RV6.AnalyticsExecutor(this.cluster),$=J;return O61.PromiseHelper.wrapAsync(()=>W.query(Y,{...$,queryContext:`${Z.name}.${this.name}`}),X)}search(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=new CV6.SearchExecutor(this.cluster,this._bucket.name,this._name),$=X;return O61.PromiseHelper.wrapAsync(()=>W.query(Y,J,$),Z)}}PV0.Scope=AV0});var B61=q((EV0)=>{Object.defineProperty(EV0,"__esModule",{value:!0});EV0.ViewExecutor=void 0;var ej=v8(),_V6=jU(),Yk=cw();class MV0{constructor(Y){this._bucket=Y}get _cluster(){return this._bucket.cluster}query(Y,J,X){var Z;let W=new _V6.StreamableRowPromise((z,H)=>{return new Yk.ViewResult({rows:z,meta:H})}),$=X.timeout||this._cluster.viewTimeout,G=X.raw||{},Q=(Z=X.namespace)!==null&&Z!==void 0?Z:Yk.DesignDocumentNamespace.Production,U=X.full_set;if(typeof X.fullSet<"u")U=X.fullSet;return this._cluster.conn.documentView({timeout:$,bucket_name:this._bucket.name,document_name:Y,view_name:J,ns:(0,ej.designDocumentNamespaceToCpp)(Q),limit:X.limit,skip:X.skip,consistency:(0,ej.viewScanConsistencyToCpp)(X.scanConsistency),keys:X.keys?X.keys.map((z)=>JSON.stringify(z)):[],key:JSON.stringify(X.key),start_key:X.range&&X.range.start?JSON.stringify(X.range.start):void 0,end_key:X.range&&X.range.end?JSON.stringify(X.range.end):void 0,inclusive_end:X.range?X.range.inclusiveEnd:void 0,start_key_doc_id:X.idRange&&X.idRange.start?X.idRange.start:void 0,end_key_doc_id:X.idRange&&X.idRange.end?X.idRange.end:void 0,reduce:X.reduce,group:X.group,group_level:X.groupLevel,order:(0,ej.viewOrderingToCpp)(X.order),debug:!1,query_string:[],raw:G,full_set:U},(z,H)=>{let O=(0,ej.errorFromCpp)(z);if(O){W.emit("error",O),W.emit("end");return}H.rows.forEach((K)=>{W.emit("row",new Yk.ViewRow({value:JSON.parse(K.value),id:K.id,key:JSON.parse(K.key)}))});{let K=H.meta,B=new Yk.ViewMetaData({totalRows:K.total_rows,debug:K.debug_info});W.emit("meta",B)}W.emit("end");return}),W}}EV0.ViewExecutor=MV0});var q61=q((NV0)=>{Object.defineProperty(NV0,"__esModule",{value:!0});NV0.ViewIndexManager=NV0.DesignDocument=NV0.DesignDocumentView=void 0;var OB=X5(),O3=cw(),hZ=v8();class bU{constructor(...Y){let J;if(typeof Y[0]==="string"||typeof Y[0]==="function")J={map:Y[0],reduce:Y[1]};else J=Y[0];this.map=J.map,this.reduce=J.reduce}static _toCppData(Y,J){return{name:Y,map:J.map,reduce:J.reduce}}static _fromCppData(Y){return new bU({map:Y.map,reduce:Y.reduce})}}NV0.DesignDocumentView=bU;class yU{static get View(){return bU}constructor(...Y){let J;if(typeof Y[0]==="string")J={name:Y[0],views:Y[1]};else J=Y[0];this.name=J.name,this.views=J.views||{},this.namespace=J.namespace||O3.DesignDocumentNamespace.Production,this.rev=J.rev}static _fromNsData(Y,J){let X={};for(let Z in J.views){let W=J.views[Z];X[Z]=new bU({map:W.map,reduce:W.reduce})}return new yU({name:Y,views:X})}static _toCppData(Y,J){let X={};for(let[Z,W]of Object.entries(Y.views))X[Z]=bU._toCppData(Z,W);return{rev:Y.rev,name:Y.name,ns:(0,hZ.designDocumentNamespaceToCpp)(J),views:X}}static _fromCppData(Y){let J={};for(let[X,Z]of Object.entries(Y.views))J[X]=bU._fromCppData(Z);return new yU({name:Y.name,views:J,namespace:(0,hZ.designDocumentNamespaceFromCpp)(Y.ns),rev:Y.rev})}}NV0.DesignDocument=yU;class RV0{constructor(Y){this._bucket=Y}get _cluster(){return this._bucket.cluster}async getAllDesignDocuments(){let Y,J,X;if(typeof arguments[0]==="object")Y=void 0,J=arguments[0],X=arguments[1];else if(arguments[0]instanceof Function)Y=void 0,J=void 0,X=arguments[0];else if(Y=arguments[0],arguments[1]instanceof Function)X=arguments[1],J=void 0;else J=arguments[1],X=arguments[2];if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout,W=Y!==null&&Y!==void 0?Y:O3.DesignDocumentNamespace.Production;return OB.PromiseHelper.wrap(($)=>{this._cluster.conn.managementViewIndexGetAll({bucket_name:this._bucket.name,ns:(0,hZ.designDocumentNamespaceToCpp)(W),timeout:Z},(G,Q)=>{let U=(0,hZ.errorFromCpp)(G);if(U)return $(U,null);let z=[];for(let H of Q.design_documents)z.push(yU._fromCppData(H));$(null,z)})},X)}async getDesignDocument(){let Y=arguments[0],J,X,Z;if(typeof arguments[1]==="object")J=void 0,X=arguments[1],Z=arguments[2];else if(arguments[1]instanceof Function)J=void 0,X=void 0,Z=arguments[1];else if(J=arguments[1],arguments[2]instanceof Function)Z=arguments[2],X=void 0;else X=arguments[2],Z=arguments[3];if(!X)X={};let W=X.timeout||this._cluster.managementTimeout;if(Y.startsWith("dev_"))J=O3.DesignDocumentNamespace.Development,Y=Y.substring(4);let $=J!==null&&J!==void 0?J:O3.DesignDocumentNamespace.Production;return OB.PromiseHelper.wrap((G)=>{this._cluster.conn.managementViewIndexGet({bucket_name:this._bucket.name,document_name:Y,ns:(0,hZ.designDocumentNamespaceToCpp)($),timeout:W},(Q,U)=>{let z=(0,hZ.errorFromCpp)(Q);if(z)return G(z,null);let H=yU._fromCppData(U.document);G(null,H)})},Z)}async upsertDesignDocument(){let Y=arguments[0],J,X,Z;if(typeof arguments[1]==="object")J=void 0,X=arguments[1],Z=arguments[2];else if(arguments[1]instanceof Function)J=void 0,X=void 0,Z=arguments[1];else if(J=arguments[1],arguments[2]instanceof Function)Z=arguments[2],X=void 0;else X=arguments[2],Z=arguments[3];if(!X)X={};let W=X.timeout||this._cluster.managementTimeout;if(Y.name.startsWith("dev_"))J=O3.DesignDocumentNamespace.Development,Y.name=Y.name.substring(4);let $=J!==null&&J!==void 0?J:O3.DesignDocumentNamespace.Production;return OB.PromiseHelper.wrap((G)=>{this._cluster.conn.managementViewIndexUpsert({bucket_name:this._bucket.name,document:yU._toCppData(Y,$),timeout:W},(Q)=>{let U=(0,hZ.errorFromCpp)(Q);if(U)return G(U,null);G(U)})},Z)}async dropDesignDocument(){let Y=arguments[0],J,X,Z;if(typeof arguments[1]==="object")J=void 0,X=arguments[1],Z=arguments[2];else if(arguments[1]instanceof Function)J=void 0,X=void 0,Z=arguments[1];else if(J=arguments[1],arguments[2]instanceof Function)Z=arguments[2],X=void 0;else X=arguments[2],Z=arguments[3];if(!X)X={};let W=X.timeout||this._cluster.managementTimeout;if(Y.startsWith("dev_"))J=O3.DesignDocumentNamespace.Development,Y=Y.substring(4);let $=J!==null&&J!==void 0?J:O3.DesignDocumentNamespace.Production;return OB.PromiseHelper.wrap((G)=>{this._cluster.conn.managementViewIndexDrop({bucket_name:this._bucket.name,document_name:Y,ns:(0,hZ.designDocumentNamespaceToCpp)($),timeout:W},(Q)=>{let U=(0,hZ.errorFromCpp)(Q);if(U)return G(U,null);G(U)})},Z)}async publishDesignDocument(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout,W=new OB.CompoundTimeout(Z);return OB.PromiseHelper.wrapAsync(async()=>{let $=await this.getDesignDocument(Y,O3.DesignDocumentNamespace.Development,{timeout:W.left()});await this.upsertDesignDocument($,O3.DesignDocumentNamespace.Production,{timeout:W.left()})},X)}}NV0.ViewIndexManager=RV0});var F61=q((_V0)=>{Object.defineProperty(_V0,"__esModule",{value:!0});_V0.Bucket=void 0;var vV6=ij(),hV6=$61(),bV6=G61(),CV0=K61(),jV0=X5(),yV6=B61(),gV6=q61();class kV0{constructor(Y,J){this._cluster=Y,this._name=J,this._conn=Y.conn}get conn(){return this._conn}get cluster(){return this._cluster}get transcoder(){return this._cluster.transcoder}get name(){return this._name}scope(Y){return new CV0.Scope(this,Y)}defaultScope(){return this.scope(CV0.Scope.DEFAULT_NAME)}collection(Y){return this.defaultScope().collection(Y)}defaultCollection(){return this.collection(vV6.Collection.DEFAULT_NAME)}viewIndexes(){return new gV6.ViewIndexManager(this)}collections(){return new hV6.CollectionManager(this)}viewQuery(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=new yV6.ViewExecutor(this),$=X;return jV0.PromiseHelper.wrapAsync(()=>W.query(Y,J,$),Z)}ping(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=new bV6.PingExecutor(this._cluster),Z=Y;return jV0.PromiseHelper.wrapAsync(()=>X.ping({...Z,bucket:this.name}),J)}}_V0.Bucket=kV0});var hV0=q((fV0)=>{Object.defineProperty(fV0,"__esModule",{value:!0});fV0.knownProfiles=fV0.ConfigProfiles=fV0.WanDevelopmentProfile=void 0;class V61{apply(Y){Y.timeouts={...Y.timeouts,...{kvTimeout:20000,kvDurableTimeout:20000,analyticsTimeout:120000,managementTimeout:120000,queryTimeout:120000,searchTimeout:120000,viewTimeout:120000,bootstrapTimeout:120000,connectTimeout:20000,resolveTimeout:20000}},Y.dnsConfig={...Y.dnsConfig,...{dnsSrvTimeout:20000}}}}fV0.WanDevelopmentProfile=V61;class I61{constructor(){this._profiles={},this.registerProfile("wanDevelopment",new V61)}applyProfile(Y,J){if(!(Y in this._profiles))throw Error(`${Y} is not a registered profile.`);this._profiles[Y].apply(J)}registerProfile(Y,J){this._profiles[Y]=J}unregisterProfile(Y){delete this._profiles[Y]}}fV0.ConfigProfiles=I61;fV0.knownProfiles=new I61});var yV0=q((K3)=>{var dV6=K3&&K3.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),cV6=K3&&K3.__setModuleDefault||(Object.create?function(Y,J){Object.defineProperty(Y,"default",{enumerable:!0,value:J})}:function(Y,J){Y.default=J}),lV6=K3&&K3.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var J={};if(Y!=null){for(var X in Y)if(X!=="default"&&Object.prototype.hasOwnProperty.call(Y,X))dV6(J,Y,X)}return cV6(J,Y),J};Object.defineProperty(K3,"__esModule",{value:!0});K3.ConnSpec=void 0;var KB=lV6(C("querystring")),pV6=/((.*):\/\/)?(([^/?:]*)(:([^/?:@]*))?@)?([^/?]*)(\/([^?]*))?(\?(.*))?/,bV0=/((\[[^\]]+\]+)|([^;,:]+))(:([0-9]*))?(;,)?/g,nV6=/([^=]*)=([^&?]*)[&?]?/g;class D61{constructor(Y){if(this.scheme="couchbase",this.hosts=[["localhost",0]],this.bucket="",this.options={},Y)Object.assign(this,Y)}static parse(Y){let J=new D61;if(!Y)return J;let X=pV6.exec(Y);if(!X)return J;if(X[2])J.scheme=X[2];else J.scheme="couchbase";if(X[7]){J.hosts=[];while(bV0){let Z=bV0.exec(X[7]);if(!Z)break;J.hosts.push([Z[1],Z[5]?parseInt(Z[5],10):0])}}else throw Error("a connection string with no hosts is illegal");if(X[9])J.bucket=X[9];else J.bucket="";if(X[11]){J.options={};for(;;){let Z=nV6.exec(X[11]);if(!Z)break;let W=KB.unescape(Z[1]),$=KB.unescape(Z[2]);if(W in J.options){let G=J.options[W];if(typeof G==="string")J.options[W]=[G,$];else G.push($)}else J.options[W]=$}}else J.options={};return J}toString(){let Y="";if(this.scheme)Y+=this.scheme+"://";if(this.hosts.length===0)throw Error("a connection string with no hosts is illegal");for(let J=0;J<this.hosts.length;++J){let X=this.hosts[J];if(J!==0)Y+=",";if(Y+=X[0],X[1])Y+=":"+X[1]}if(this.bucket)Y+="/"+this.bucket;if(this.options){let J=[];for(let X in this.options){let Z=this.options[X];if(typeof Z==="string")J.push(KB.escape(X)+"="+KB.escape(Z));else for(let W=0;W<Z.length;++W)J.push(KB.escape(X)+"="+KB.escape(Z[W]))}if(J.length>0)Y+="?"+J.join("&")}return Y}}K3.ConnSpec=D61});var A61=q((uV0)=>{Object.defineProperty(uV0,"__esModule",{value:!0});uV0.UserManager=uV0.Group=uV0.UserAndMetadata=uV0.User=uV0.RoleAndOrigin=uV0.RoleAndDescription=uV0.Role=uV0.Origin=void 0;var V9=v8(),B3=X5();class Jk{constructor(Y){this.type=Y.type,this.name=Y.name}static _fromCppData(Y){return new Jk({type:Y.type,name:Y.name})}}uV0.Origin=Jk;class AY{constructor(Y){this.name=Y.name,this.bucket=Y.bucket,this.scope=Y.scope,this.collection=Y.collection}static _fromCppData(Y){return new AY({name:Y.name,bucket:Y.bucket,scope:Y.scope,collection:Y.collection})}static _toCppData(Y){return{name:Y.name,bucket:Y.bucket,scope:Y.scope,collection:Y.collection}}}uV0.Role=AY;class w61 extends AY{constructor(Y){super(Y);this.displayName=Y.displayName,this.description=Y.description}static _fromCppData(Y){let J=AY._fromCppData(Y);return new w61({...J,displayName:Y.name,description:Y.description})}}uV0.RoleAndDescription=w61;class Xk extends AY{constructor(Y){super(Y);this.origins=Y.origins}static _fromCppData(Y){let J=Y.origins.map((X)=>Jk._fromCppData(X));return new Xk({...AY._fromCppData({name:Y.name,bucket:Y.bucket,scope:Y.scope,collection:Y.collection}),origins:J})}}uV0.RoleAndOrigin=Xk;class qB{constructor(Y){this.username=Y.username,this.displayName=Y.displayName,this.groups=Y.groups,this.roles=Y.roles}static _fromCppData(Y){return new qB({username:Y.username,displayName:Y.display_name,groups:Y.groups,roles:Y.roles.map((J)=>AY._fromCppData(J)),password:void 0})}static _toCppData(Y){let J=[];if(Y.roles)Y.roles.forEach((X)=>{if(typeof X==="string")J.push({name:X});else J.push(AY._toCppData(X))});return{username:Y.username,display_name:Y.displayName,groups:Y.groups?Y.groups:[],roles:J,password:Y.password}}}uV0.User=qB;class ew extends qB{get effectiveRolesAndOrigins(){return this.effectiveRoles}constructor(Y){super(Y);this.domain=Y.domain,this.effectiveRoles=Y.effectiveRoles,this.passwordChanged=Y.passwordChanged,this.externalGroups=Y.externalGroups}static _fromCppData(Y){let J=qB._fromCppData({username:Y.username,display_name:Y.display_name,groups:Y.groups,roles:Y.roles,password:Y.password}),X=Y.effective_roles.map((Z)=>Xk._fromCppData(Z));return new ew({...J,domain:(0,V9.authDomainFromCpp)(Y.domain),effectiveRoles:X,effectiveRolesAndOrigins:X,passwordChanged:Y.password_changed?new Date(Y.password_changed):void 0,externalGroups:Y.external_groups})}}uV0.UserAndMetadata=ew;class BB{constructor(Y){this.name=Y.name,this.description=Y.description,this.roles=Y.roles,this.ldapGroupReference=Y.ldapGroupReference}static _fromCppData(Y){return new BB({name:Y.name,description:Y.description||"",roles:Y.roles.map((J)=>AY._fromCppData(J)),ldapGroupReference:Y.ldap_group_reference})}static _toCppData(Y){let J=[];if(Y.roles)Y.roles.forEach((X)=>{if(typeof X==="string")J.push({name:X});else J.push(AY._toCppData(X))});return{name:Y.name,description:Y.description,roles:J,ldap_group_reference:Y.ldapGroupReference}}}uV0.Group=BB;class gV0{constructor(Y){this._cluster=Y}async getUser(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=(0,V9.authDomainToCpp)(J.domainName||"local"),W=J.timeout||this._cluster.managementTimeout;return B3.PromiseHelper.wrap(($)=>{this._cluster.conn.managementUserGet({username:Y,domain:Z,timeout:W},(G,Q)=>{let U=(0,V9.errorFromCpp)(G);if(U)return $(U,null);$(null,ew._fromCppData(Q.user))})},X)}async getAllUsers(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=(0,V9.authDomainToCpp)(Y.domainName||"local"),Z=Y.timeout||this._cluster.managementTimeout;return B3.PromiseHelper.wrap((W)=>{this._cluster.conn.managementUserGetAll({domain:X,timeout:Z},($,G)=>{let Q=(0,V9.errorFromCpp)($);if(Q)return W(Q,null);let U=G.users.map((z)=>ew._fromCppData(z));W(null,U)})},J)}async upsertUser(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=(0,V9.authDomainToCpp)(J.domainName||"local"),W=J.timeout||this._cluster.managementTimeout;return B3.PromiseHelper.wrap(($)=>{this._cluster.conn.managementUserUpsert({user:qB._toCppData(Y),domain:Z,timeout:W},(G)=>{let Q=(0,V9.errorFromCpp)(G);if(Q)return $(Q,null);$(Q)})},X)}async changePassword(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return B3.PromiseHelper.wrap((W)=>{this._cluster.conn.managementChangePassword({newPassword:Y,timeout:Z},($)=>{let G=(0,V9.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async dropUser(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=(0,V9.authDomainToCpp)(J.domainName||"local"),W=J.timeout||this._cluster.managementTimeout;return B3.PromiseHelper.wrap(($)=>{this._cluster.conn.managementUserDrop({username:Y,domain:Z,timeout:W},(G)=>{let Q=(0,V9.errorFromCpp)(G);if(Q)return $(Q,null);$(Q)})},X)}async getRoles(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=Y.timeout||this._cluster.managementTimeout;return B3.PromiseHelper.wrap((Z)=>{this._cluster.conn.managementRoleGetAll({timeout:X},(W,$)=>{let G=(0,V9.errorFromCpp)(W);if(G)return Z(G,null);let Q=$.roles.map((U)=>AY._fromCppData(U));Z(null,Q)})},J)}async getGroup(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return B3.PromiseHelper.wrap((W)=>{this._cluster.conn.managementGroupGet({name:Y,timeout:Z},($,G)=>{let Q=(0,V9.errorFromCpp)($);if(Q)return W(Q,null);W(null,BB._fromCppData(G.group))})},X)}async getAllGroups(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=Y.timeout||this._cluster.managementTimeout;return B3.PromiseHelper.wrap((Z)=>{this._cluster.conn.managementGroupGetAll({timeout:X},(W,$)=>{let G=(0,V9.errorFromCpp)(W);if(G)return Z(G,null);let Q=$.groups.map((U)=>BB._fromCppData(U));Z(null,Q)})},J)}async upsertGroup(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return B3.PromiseHelper.wrap((W)=>{this._cluster.conn.managementGroupUpsert({group:BB._toCppData(Y),timeout:Z},($)=>{let G=(0,V9.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}async dropGroup(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=J.timeout||this._cluster.managementTimeout;return B3.PromiseHelper.wrap((W)=>{this._cluster.conn.managementGroupDrop({name:Y,timeout:Z},($)=>{let G=(0,V9.errorFromCpp)($);if(G)return W(G,null);W(G)})},X)}}uV0.UserManager=gV0});var lV0=q((dV0)=>{Object.defineProperty(dV0,"__esModule",{value:!0});dV0.generateClientString=void 0;function YI6(){let Y=process.versions.node.trim(),J=process.versions.v8.trim(),X=process.versions.openssl.trim();return`node/${Y}; v8/${J}; ssl/${X}`}dV0.generateClientString=YI6});var L61=q((FB)=>{var JI6=FB&&FB.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(FB,"__esModule",{value:!0});FB.Cluster=void 0;var XI6=r41(),ZI6=Aj(),WI6=JI6(CU()),pV0=v8(),$I6=F61(),GI6=Pj(),QI6=hV0(),UI6=yV0(),nV0=G61(),zI6=ow(),HI6=kj(),OI6=pj(),iV0=Q61(),KI6=sj(),BI6=yj(),qI6=hj(),FI6=A61(),m$=X5(),VI6=lV0(),II6=C("util");class P61{get conn(){return this._conn}get transcoder(){return this._transcoder}get kvTimeout(){return this._kvTimeout}get kvDurableTimeout(){return this._kvDurableTimeout}get viewTimeout(){return this._viewTimeout}get queryTimeout(){return this._queryTimeout}get analyticsTimeout(){return this._analyticsTimeout}get searchTimeout(){return this._searchTimeout}get managementTimeout(){return this._managementTimeout}get bootstrapTimeout(){return this._bootstrapTimeout}get connectTimeout(){return this._connectTimeout}get resolveTimeout(){return this._resolveTimeout}[II6.inspect.custom](){let{_auth:Y,...J}=this;return{...J,_auth:"***hidden***"}}toJSON(){let{_auth:Y,...J}=this;return{...J,_auth:"***hidden***"}}constructor(Y,J){var X,Z,W;if(!J)J={};if(!J.security)J.security={};if(!J.timeouts)J.timeouts={};if(this._connStr=Y,this._trustStorePath=J.security.trustStorePath||"",J.configProfile)QI6.knownProfiles.applyProfile(J.configProfile,J);if(this._kvTimeout=J.timeouts.kvTimeout||2500,this._kvDurableTimeout=J.timeouts.kvDurableTimeout||1e4,this._viewTimeout=J.timeouts.viewTimeout||75000,this._queryTimeout=J.timeouts.queryTimeout||75000,this._analyticsTimeout=J.timeouts.analyticsTimeout||75000,this._searchTimeout=J.timeouts.searchTimeout||75000,this._managementTimeout=J.timeouts.managementTimeout||75000,this._bootstrapTimeout=(X=J.timeouts)===null||X===void 0?void 0:X.bootstrapTimeout,this._connectTimeout=(Z=J.timeouts)===null||Z===void 0?void 0:Z.connectTimeout,this._resolveTimeout=(W=J.timeouts)===null||W===void 0?void 0:W.resolveTimeout,J.transcoder)this._transcoder=J.transcoder;else this._transcoder=new qI6.DefaultTranscoder;if(J.preferredServerGroup)this._preferredServerGroup=J.preferredServerGroup;if(J.transactions)this._txnConfig=J.transactions;else this._txnConfig={};if(J.username||J.password){if(J.authenticator)throw Error("Cannot specify authenticator along with username/password.");this._auth={username:J.username||"",password:J.password||""}}else if(J.authenticator)this._auth=J.authenticator;else this._auth={username:"",password:""};if(J.dnsConfig&&(J.dnsConfig.nameserver||J.dnsConfig.port||J.dnsConfig.dnsSrvTimeout))this._dnsConfig={nameserver:J.dnsConfig.nameserver,port:J.dnsConfig.port,dnsSrvTimeout:J.dnsConfig.dnsSrvTimeout||500};else this._dnsConfig=null;if(J.appTelemetryConfig)this._appTelemetryConfig={enabled:J.appTelemetryConfig.enabled,endpoint:J.appTelemetryConfig.endpoint,backoff:J.appTelemetryConfig.backoff,pingInterval:J.appTelemetryConfig.pingInterval,pingTimeout:J.appTelemetryConfig.pingTimeout};else this._appTelemetryConfig=null;if(J.tracingConfig)this._tracingConfig={enableTracing:J.tracingConfig.enableTracing,emitInterval:J.tracingConfig.emitInterval,sampleSize:J.tracingConfig.sampleSize,kvThreshold:J.tracingConfig.kvThreshold,queryThreshold:J.tracingConfig.queryThreshold,searchThreshold:J.tracingConfig.searchThreshold,analyticsThreshold:J.tracingConfig.analyticsThreshold,managementThreshold:J.tracingConfig.managementThreshold,eventingThreshold:J.tracingConfig.eventingThreshold,viewsThreshold:J.tracingConfig.viewsThreshold};else this._tracingConfig=null;if(J.orphanReporterConfig)this._orphanReporterConfig={emitInterval:J.orphanReporterConfig.emitInterval,sampleSize:J.orphanReporterConfig.sampleSize};else this._orphanReporterConfig=null;if(J.metricsConfig)this._metricsConfig={enableMetrics:J.metricsConfig.enableMetrics,emitInterval:J.metricsConfig.emitInterval};else this._metricsConfig=null;this._openBuckets=[],this._conn=new WI6.default.Connection}static async connect(Y,J,X){return m$.PromiseHelper.wrapAsync(async()=>{let Z=new P61(Y,J);return await Z._connect(),Z},X)}bucket(Y){if(!this._openBuckets.includes(Y))this._conn.openBucket(Y,(J)=>{if(J)console.error("failed to open bucket: %O",J)}),this._openBuckets.push(Y);return new $I6.Bucket(this,Y)}users(){return new FI6.UserManager(this)}buckets(){return new GI6.BucketManager(this)}queryIndexes(){return new OI6.QueryIndexManager(this)}analyticsIndexes(){return new ZI6.AnalyticsIndexManager(this)}searchIndexes(){return new KI6.SearchIndexManager(this)}eventingFunctions(){return new zI6.EventingFunctionManager(this)}transactions(){if(!this._transactions)this._transactions=new BI6.Transactions(this,this._txnConfig);return this._transactions}query(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=new HI6.QueryExecutor(this),W=J;return m$.PromiseHelper.wrapAsync(()=>Z.query(Y,W),X)}analyticsQuery(Y,J,X){if(J instanceof Function)X=arguments[1],J=void 0;if(!J)J={};let Z=new XI6.AnalyticsExecutor(this),W=J;return m$.PromiseHelper.wrapAsync(()=>Z.query(Y,W),X)}searchQuery(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=new iV0.SearchExecutor(this),$=X;return m$.PromiseHelper.wrapAsync(()=>W.query(Y,J,$),Z)}search(Y,J,X,Z){if(X instanceof Function)Z=arguments[2],X=void 0;if(!X)X={};let W=new iV0.SearchExecutor(this),$=X;return m$.PromiseHelper.wrapAsync(()=>W.query(Y,J,$),Z)}diagnostics(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=new nV0.DiagnoticsExecutor(this),Z=Y;return m$.PromiseHelper.wrapAsync(()=>X.diagnostics(Z),J)}ping(Y,J){if(Y instanceof Function)J=arguments[0],Y=void 0;if(!Y)Y={};let X=new nV0.PingExecutor(this),Z=Y;return m$.PromiseHelper.wrapAsync(()=>X.ping(Z),J)}async close(Y){if(this._transactions)await this._transactions._close(),this._transactions=void 0;return m$.PromiseHelper.wrap((J)=>{this._conn.shutdown((X)=>{J((0,pV0.errorFromCpp)(X))})},Y)}async _connect(){return new Promise((Y,J)=>{let X=UI6.ConnSpec.parse(this._connStr);if(X.options.user_agent_extra=(0,VI6.generateClientString)(),"trust_store_path"in X.options&&!("trust_certificate"in X.options))X.options.trust_certificate=X.options.trust_store_path,delete X.options.trust_store_path;if(this._trustStorePath)X.options.trust_certificate=this._trustStorePath;if(this.bootstrapTimeout)X.options.bootstrap_timeout=this.bootstrapTimeout.toString();if(this.connectTimeout)X.options.kv_connect_timeout=this.connectTimeout.toString();if(this.resolveTimeout)X.options.resolve_timeout=this.resolveTimeout.toString();if(this._preferredServerGroup)X.options.server_group=this._preferredServerGroup;let Z=X.toString(),W={};for(let $ of["sasl_mech_force","allowed_sasl_mechanisms"]){if(!($ in X.options))continue;if(typeof X.options[$]==="string")W.allowed_sasl_mechanisms=[X.options[$]];else W.allowed_sasl_mechanisms=X.options[$];delete X.options[$]}if(this._auth){let $=this._auth;if($.username||$.password){if(W.username=$.username,W.password=$.password,$.allowed_sasl_mechanisms)W.allowed_sasl_mechanisms=$.allowed_sasl_mechanisms}let G=this._auth;if(G.certificatePath||G.keyPath)W.certificate_path=G.certificatePath,W.key_path=G.keyPath}this._conn.connect(Z,W,this._dnsConfig,this._appTelemetryConfig,this._tracingConfig,this._orphanReporterConfig,this._metricsConfig,($)=>{if($){let G=(0,pV0.errorFromCpp)($);return J(G)}Y(null)})})}}FB.Cluster=P61});var sV0=q((rV0)=>{Object.defineProperty(rV0,"__esModule",{value:!0});rV0.CertificateAuthenticator=rV0.PasswordAuthenticator=void 0;class M61{constructor(Y,J){this.username=Y,this.password=J}static ldapCompatible(Y,J){let X=new M61(Y,J);return X.allowed_sasl_mechanisms=["PLAIN"],X}}rV0.PasswordAuthenticator=M61;class oV0{constructor(Y,J){this.certificatePath=Y,this.keyPath=J}}rV0.CertificateAuthenticator=oV0});var JI0=q((eV0)=>{Object.defineProperty(eV0,"__esModule",{value:!0});eV0.MutationState=void 0;class tV0{constructor(...Y){this._data={},Y.forEach((J)=>this._addOne(J))}add(...Y){Y.forEach((J)=>this._addOne(J))}_addOne(Y){if(!Y)return;let J=Y,X=J.toJSON(),Z=parseInt(X.partition_id,10),W=parseInt(X.sequence_number,10),$=X.bucket_name;if(!this._data[$])this._data[$]={};if(!this._data[$][Z])this._data[$][Z]=J;else{let G=this._data[$][Z];if(parseInt(G.toJSON().sequence,10)<W)this._data[$][Z]=J}}toJSON(){return this._data}inspect(){let Y=[];for(let J in this._data)for(let X in this._data[J]){let Z=this._data[J][X];Y.push(J+":"+X+":"+Z.toString())}return"MutationState<"+Y.join("; ")+">"}}eV0.MutationState=tV0});var WI0=q((XI0)=>{Object.defineProperty(XI0,"__esModule",{value:!0});XI0.DateSearchFacet=XI0.NumericSearchFacet=XI0.TermSearchFacet=XI0.SearchFacet=void 0;class YA{constructor(Y){if(!Y)Y={};this._data=Y}toJSON(){return this._data}static term(Y,J){return new E61(Y,J)}static numeric(Y,J){return new T61(Y,J)}static date(Y,J){return new R61(Y,J)}}XI0.SearchFacet=YA;class E61 extends YA{constructor(Y,J){super({field:Y,size:J})}}XI0.TermSearchFacet=E61;class T61 extends YA{constructor(Y,J){super({field:Y,size:J,numeric_ranges:[]})}addRange(Y,J,X){return this._data.numeric_ranges.push({name:Y,min:J,max:X}),this}}XI0.NumericSearchFacet=T61;class R61 extends YA{constructor(Y,J){super({field:Y,size:J,date_ranges:[]})}addRange(Y,J,X){return this._data.date_ranges.push({name:Y,start:J,end:X}),this}}XI0.DateSearchFacet=R61});var QI0=q(($I0)=>{Object.defineProperty($I0,"__esModule",{value:!0});$I0.GeoDistanceSearchSort=$I0.FieldSearchSort=$I0.IdSearchSort=$I0.ScoreSearchSort=$I0.SearchSort=void 0;class VB{constructor(Y){if(!Y)Y={};this._data=Y}toJSON(){return this._data}static score(){return new N61}static id(){return new S61}static field(Y){return new C61(Y)}static geoDistance(Y,J,X){return new j61(Y,J,X)}}$I0.SearchSort=VB;class N61 extends VB{constructor(){super({by:"score"})}descending(Y){return this._data.desc=Y,this}}$I0.ScoreSearchSort=N61;class S61 extends VB{constructor(){super({by:"id"})}descending(Y){return this._data.desc=Y,this}}$I0.IdSearchSort=S61;class C61 extends VB{constructor(Y){super({by:"field",field:Y})}type(Y){return this._data.type=Y,this}mode(Y){return this._data.mode=Y,this}missing(Y){return this._data.missing=Y,this}descending(Y){return this._data.desc=Y,this}}$I0.FieldSearchSort=C61;class j61 extends VB{constructor(Y,J,X){super({by:"geo_distance",field:Y,location:[X,J]})}unit(Y){return this._data.unit=Y,this}descending(Y){return this._data.desc=Y,this}}$I0.GeoDistanceSearchSort=j61});var Zk=q((J0)=>{var RI6=J0&&J0.__createBinding||(Object.create?function(Y,J,X,Z){if(Z===void 0)Z=X;var W=Object.getOwnPropertyDescriptor(J,X);if(!W||("get"in W?!J.__esModule:W.writable||W.configurable))W={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Y,Z,W)}:function(Y,J,X,Z){if(Z===void 0)Z=X;Y[Z]=J[X]}),c0=J0&&J0.__exportStar||function(Y,J){for(var X in Y)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(J,X))RI6(J,Y,X)},NI6=J0&&J0.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(J0,"__esModule",{value:!0});J0.shutdownLogger=J0.enableProtocolLoggerToSaveNetworkTrafficToFile=J0.cbppMetadata=J0.cbppVersion=J0.lcbVersion=J0.connect=void 0;var JA=NI6(CU()),SI6=L61();async function CI6(Y,J,X){return SI6.Cluster.connect(Y,J,X)}J0.connect=CI6;J0.lcbVersion=JA.default.cbppVersion;J0.cbppVersion=JA.default.cbppVersion;J0.cbppMetadata=JA.default.cbppMetadata;function jI6(Y){JA.default.enableProtocolLogger(Y)}J0.enableProtocolLoggerToSaveNetworkTrafficToFile=jI6;function kI6(){JA.default.shutdownLogger()}J0.shutdownLogger=kI6;c0(Aj(),J0);c0(Fj(),J0);c0(sV0(),J0);c0(a41(),J0);c0(F61(),J0);c0(Pj(),J0);c0(L61(),J0);c0(ij(),J0);c0($61(),J0);c0(s41(),J0);c0(Y61(),J0);c0(Lj(),J0);c0(Vj(),J0);c0(HY(),J0);c0(ow(),J0);c0(eK(),J0);c0(JI0(),J0);c0(pj(),J0);c0(Mj(),J0);c0(Ej(),J0);c0(K61(),J0);c0(H61(),J0);c0(z61(),J0);c0(cj(),J0);c0(WI0(),J0);c0(sj(),J0);c0(uw(),J0);c0(QI0(),J0);c0(Sj(),J0);c0(jU(),J0);c0(yj(),J0);c0(hj(),J0);c0(A61(),J0);c0(Nj(),J0);c0(B61(),J0);c0(q61(),J0);c0(cw(),J0)});var $1,T5;var d$=w(()=>{$1=q1(Zk(),1);T5=class T5{static ERROR_CLASSIFICATIONS=new Map([["DocumentNotFoundError",{retryable:!1,severity:"info",category:"application",shouldLog:!1,shouldAlert:!1}],["DocumentExistsError",{retryable:!1,severity:"info",category:"application",shouldLog:!0,shouldAlert:!1}],["CasMismatchError",{retryable:!1,severity:"info",category:"application",shouldLog:!0,shouldAlert:!1}],["DocumentLockedError",{retryable:!0,severity:"warning",category:"application",shouldLog:!0,shouldAlert:!1,maxRetries:3}],["DocumentNotLockedError",{retryable:!1,severity:"info",category:"application",shouldLog:!0,shouldAlert:!1}],["ValueTooLargeError",{retryable:!1,severity:"warning",category:"application",shouldLog:!0,shouldAlert:!1}],["AuthenticationFailureError",{retryable:!1,severity:"critical",category:"client",shouldLog:!0,shouldAlert:!0}],["TimeoutError",{retryable:!0,severity:"warning",category:"network",shouldLog:!0,shouldAlert:!1,maxRetries:3}],["UnambiguousTimeoutError",{retryable:!0,severity:"warning",category:"network",shouldLog:!0,shouldAlert:!1,maxRetries:2}],["AmbiguousTimeoutError",{retryable:!1,severity:"critical",category:"network",shouldLog:!0,shouldAlert:!0}],["RequestCanceledError",{retryable:!0,severity:"warning",category:"network",shouldLog:!0,shouldAlert:!1,maxRetries:2}],["ServiceNotAvailableError",{retryable:!0,severity:"critical",category:"server",shouldLog:!0,shouldAlert:!0,maxRetries:5}],["TemporaryFailureError",{retryable:!0,severity:"warning",category:"server",shouldLog:!0,shouldAlert:!1,maxRetries:3}],["RateLimitedError",{retryable:!0,severity:"warning",category:"server",shouldLog:!0,shouldAlert:!1,maxRetries:2}],["QuotaLimitedError",{retryable:!1,severity:"warning",category:"server",shouldLog:!0,shouldAlert:!0}],["BucketNotFoundError",{retryable:!1,severity:"critical",category:"client",shouldLog:!0,shouldAlert:!0}],["ScopeNotFoundError",{retryable:!1,severity:"critical",category:"client",shouldLog:!0,shouldAlert:!0}],["CollectionNotFoundError",{retryable:!1,severity:"critical",category:"client",shouldLog:!0,shouldAlert:!0}],["IndexNotFoundError",{retryable:!1,severity:"warning",category:"client",shouldLog:!0,shouldAlert:!1}],["IndexExistsError",{retryable:!1,severity:"info",category:"client",shouldLog:!0,shouldAlert:!1}],["ParsingFailureError",{retryable:!1,severity:"warning",category:"application",shouldLog:!0,shouldAlert:!1}],["PreparedStatementFailureError",{retryable:!0,severity:"warning",category:"application",shouldLog:!0,shouldAlert:!1,maxRetries:2}],["DmlFailureError",{retryable:!1,severity:"warning",category:"application",shouldLog:!0,shouldAlert:!1}],["DurabilityLevelNotAvailableError",{retryable:!1,severity:"warning",category:"server",shouldLog:!0,shouldAlert:!1}],["DurabilityAmbiguousError",{retryable:!1,severity:"critical",category:"server",shouldLog:!0,shouldAlert:!0}],["DurabilityImpossibleError",{retryable:!1,severity:"critical",category:"server",shouldLog:!0,shouldAlert:!0}],["DurableWriteInProgressError",{retryable:!0,severity:"warning",category:"server",shouldLog:!0,shouldAlert:!1,maxRetries:3}],["PathNotFoundError",{retryable:!1,severity:"info",category:"application",shouldLog:!1,shouldAlert:!1}],["PathExistsError",{retryable:!1,severity:"info",category:"application",shouldLog:!0,shouldAlert:!1}],["PathMismatchError",{retryable:!1,severity:"warning",category:"application",shouldLog:!0,shouldAlert:!1}],["PathInvalidError",{retryable:!1,severity:"warning",category:"application",shouldLog:!0,shouldAlert:!1}],["FeatureNotAvailableError",{retryable:!1,severity:"warning",category:"server",shouldLog:!0,shouldAlert:!1}],["UnsupportedOperationError",{retryable:!1,severity:"warning",category:"server",shouldLog:!0,shouldAlert:!1}]]);static isRetryable(Y){if(!Y)return!1;return Y instanceof $1.TimeoutError||Y instanceof $1.UnambiguousTimeoutError||Y instanceof $1.TemporaryFailureError||Y instanceof $1.ServiceNotAvailableError||Y instanceof $1.RequestCanceledError||Y instanceof $1.DurableWriteInProgressError||Y instanceof $1.DocumentLockedError||Y instanceof $1.RateLimitedError||Y instanceof $1.PreparedStatementFailureError||this.isNetworkError(Y)}static isNetworkError(Y){if(!Y)return!1;let J=Y.message?.toLowerCase()||"";return J.includes("econnrefused")||J.includes("econnreset")||J.includes("etimedout")||J.includes("enotfound")||J.includes("enetunreach")||J.includes("network unreachable")||J.includes("connection refused")||J.includes("connection reset")}static isAuthError(Y){return Y instanceof $1.AuthenticationFailureError||Y instanceof $1.BucketNotFoundError||Y instanceof $1.ScopeNotFoundError||Y instanceof $1.CollectionNotFoundError}static isPermanentFailure(Y){return this.isAuthError(Y)||Y instanceof $1.ParsingFailureError||Y instanceof $1.PathInvalidError||Y instanceof $1.PathMismatchError||Y instanceof $1.ValueTooLargeError||Y instanceof $1.UnsupportedOperationError||Y instanceof $1.FeatureNotAvailableError||Y instanceof $1.AmbiguousTimeoutError||Y instanceof $1.DurabilityAmbiguousError||Y instanceof $1.DurabilityImpossibleError}static isConflictError(Y){return Y instanceof $1.CasMismatchError||Y instanceof $1.DocumentExistsError||Y instanceof $1.DocumentLockedError}static isNotFoundError(Y){return Y instanceof $1.DocumentNotFoundError||Y instanceof $1.PathNotFoundError||Y instanceof $1.IndexNotFoundError}static isAmbiguousError(Y){return Y instanceof $1.AmbiguousTimeoutError||Y instanceof $1.DurabilityAmbiguousError}static classifyError(Y){let J=Y.constructor.name,X=this.ERROR_CLASSIFICATIONS.get(J);if(X)return X;if(Y instanceof $1.CouchbaseError)return{retryable:!1,severity:"warning",category:"server",shouldLog:!0,shouldAlert:!1};return{retryable:!1,severity:"critical",category:"application",shouldLog:!0,shouldAlert:!0}}static extractContext(Y,J){let X={message:Y instanceof Error?Y.message:String(Y),cause:Y instanceof Error?Y:void 0,operation:J,isRetryable:this.isRetryable(Y),isCritical:this.isPermanentFailure(Y),isTransient:this.isNetworkError(Y)};if(Y instanceof $1.CouchbaseError)X.errorCode=Y.code,X.errorName=Y.constructor.name;if(Y instanceof $1.CasMismatchError)X.cas=Y.cas?.toString();return X}static getRetryStrategy(Y){if(this.isPermanentFailure(Y))return{shouldRetry:!1,maxAttempts:0,baseDelayMs:0};if(this.isConflictError(Y))return{shouldRetry:!0,maxAttempts:5,baseDelayMs:100};if(this.isNetworkError(Y)||Y instanceof $1.TemporaryFailureError)return{shouldRetry:!0,maxAttempts:3,baseDelayMs:1000};if(Y instanceof $1.TimeoutError||Y instanceof $1.UnambiguousTimeoutError)return{shouldRetry:!0,maxAttempts:2,baseDelayMs:2000};if(Y instanceof $1.ServiceNotAvailableError)return{shouldRetry:!0,maxAttempts:5,baseDelayMs:1000};if(Y instanceof $1.RateLimitedError)return{shouldRetry:!0,maxAttempts:2,baseDelayMs:5000};return{shouldRetry:!1,maxAttempts:0,baseDelayMs:0}}static getErrorClassifications(){return new Map(this.ERROR_CLASSIFICATIONS)}}});function k61(){let Y=O4.capella,J={connectionString:Y.COUCHBASE_URL,username:Y.COUCHBASE_USERNAME,password:Y.COUCHBASE_PASSWORD,bucketName:Y.COUCHBASE_BUCKET,scopeName:Y.COUCHBASE_SCOPE,collectionName:Y.COUCHBASE_COLLECTION,timeouts:{connectTimeout:Y.COUCHBASE_CONNECT_TIMEOUT,bootstrapTimeout:Y.COUCHBASE_BOOTSTRAP_TIMEOUT,kvTimeout:Y.COUCHBASE_KV_TIMEOUT,kvDurableTimeout:Y.COUCHBASE_KV_DURABLE_TIMEOUT,queryTimeout:Y.COUCHBASE_QUERY_TIMEOUT,analyticsTimeout:Y.COUCHBASE_ANALYTICS_TIMEOUT,searchTimeout:Y.COUCHBASE_SEARCH_TIMEOUT},compression:{enabled:!0,minSize:32,minRatio:0.83},thresholdLogging:{enabled:!0,kvThreshold:500,queryThreshold:1000,analyticsThreshold:1000,searchThreshold:1000,interval:1e4},features:{enableObservability:O4.telemetry.ENABLE_OPENTELEMETRY,enablePerformance:!0,enableResilience:!0}};try{return UI0.parse(J)}catch(X){if(X instanceof Z1.ZodError){let Z=X.issues.map((W)=>`${W.path.join(".")}: ${W.message}`).join(`
  `);throw Error(`Couchbase configuration validation failed:
  ${Z}`)}throw X}}function _61(Y){if(!(O4.runtime.NODE_ENV==="production"||O4.telemetry.DEPLOYMENT_ENVIRONMENT==="production"))return;let X=[];if(!Y.connectionString.startsWith("couchbases://"))X.push("Secure connection (couchbases://) required in production");if(Y.password==="password")X.push("CRITICAL: Default password not allowed in production");if(Y.username==="Administrator")X.push("WARNING: Default admin username should be changed in production");if(Y.connectionString.includes("localhost")||Y.connectionString.includes("127.0.0.1"))X.push("Production database cannot use localhost");if(X.length>0)throw Error(`Production configuration validation failed:
  ${X.join(`
  `)}`)}function Wk(Y){let J=Y.startsWith("couchbases://"),X=J?"couchbases":"couchbase",$=Y.replace(/^couchbases?:\/\//,"").split("?")[0].split(",").map((U)=>U.trim()),G=$.some((U)=>U.includes("cloud.couchbase.com")),Q=$.length===1&&!$[0].includes(":");return{isTls:J,isCapella:G,isDnsSrv:Q,protocol:X,hosts:$}}var UI0;var $k=w(()=>{qF();f5();UI0=Z1.object({connectionString:Z1.string().regex(/^couchbases?:\/\/.+/,"Must be a valid Couchbase connection string (couchbase:// or couchbases://)").describe("Couchbase cluster connection URL"),username:Z1.string().min(1,"Username is required").describe("Database username"),password:Z1.string().min(1,"Password is required").describe("Database password"),bucketName:Z1.string().min(1,"Bucket name is required").describe("Default bucket name"),scopeName:Z1.string().default("_default").describe("Default scope name"),collectionName:Z1.string().default("_default").describe("Default collection name"),trustStorePath:Z1.string().optional().describe("Path to custom TLS certificate store"),timeouts:Z1.object({connectTimeout:Z1.number().min(1000).default(1e4).describe("Connection timeout"),bootstrapTimeout:Z1.number().min(1000).default(20000).describe("Cluster bootstrap timeout"),resolveTimeout:Z1.number().min(1000).default(5000).describe("DNS resolution timeout"),kvTimeout:Z1.number().min(1000).default(7500).describe("Key-value operation timeout"),kvDurableTimeout:Z1.number().min(1000).default(15000).describe("Durable KV operation timeout"),queryTimeout:Z1.number().min(1000).default(30000).describe("N1QL query timeout"),analyticsTimeout:Z1.number().min(1000).default(60000).describe("Analytics query timeout"),searchTimeout:Z1.number().min(1000).default(30000).describe("Full-text search timeout"),viewTimeout:Z1.number().min(1000).default(30000).describe("View query timeout"),managementTimeout:Z1.number().min(1000).default(15000).describe("Management operation timeout")}).optional().describe("SDK timeout configurations"),compression:Z1.object({enabled:Z1.boolean().default(!0).describe("Enable document compression"),minSize:Z1.number().min(0).default(32).describe("Minimum bytes to compress"),minRatio:Z1.number().min(0).max(1).default(0.83).describe("Minimum compression ratio")}).optional().describe("Compression configuration"),thresholdLogging:Z1.object({enabled:Z1.boolean().default(!0).describe("Enable threshold logging"),kvThreshold:Z1.number().min(0).default(500).describe("KV slow operation threshold (ms)"),queryThreshold:Z1.number().min(0).default(1000).describe("Query slow operation threshold (ms)"),analyticsThreshold:Z1.number().min(0).default(1000).describe("Analytics slow threshold (ms)"),searchThreshold:Z1.number().min(0).default(1000).describe("Search slow threshold (ms)"),interval:Z1.number().min(1000).default(1e4).describe("Logging interval (ms)")}).optional().describe("Slow operation threshold logging"),features:Z1.object({enableObservability:Z1.boolean().default(!1).describe("Enable OpenTelemetry integration"),enablePerformance:Z1.boolean().default(!1).describe("Enable performance optimizations"),enableResilience:Z1.boolean().default(!0).describe("Enable resilience features")}).optional().describe("Feature flags")})});function x61(Y,J){let X=O4.runtime.NODE_ENV!=="production",Z={username:Y.username,password:Y.password,timeouts:{connectTimeout:Y.timeouts?.connectTimeout||1e4,bootstrapTimeout:Y.timeouts?.bootstrapTimeout||20000,resolveTimeout:Y.timeouts?.resolveTimeout||5000,kvTimeout:Y.timeouts?.kvTimeout||7500,kvDurableTimeout:Y.timeouts?.kvDurableTimeout||15000,queryTimeout:Y.timeouts?.queryTimeout||30000,analyticsTimeout:Y.timeouts?.analyticsTimeout||60000,searchTimeout:Y.timeouts?.searchTimeout||30000,viewTimeout:Y.timeouts?.viewTimeout||30000,managementTimeout:Y.timeouts?.managementTimeout||15000},compression:{enabled:Y.compression?.enabled??!0,minSize:Y.compression?.minSize??32,minRatio:Y.compression?.minRatio??0.83},orphanResponseLogging:{enabled:!0,sampleSize:10,interval:1e4},thresholdLogging:{enabled:Y.thresholdLogging?.enabled??!0,sampleSize:10,interval:Y.thresholdLogging?.interval??1e4,kvThreshold:Y.thresholdLogging?.kvThreshold??500,queryThreshold:Y.thresholdLogging?.queryThreshold??1000,analyticsThreshold:Y.thresholdLogging?.analyticsThreshold??1000,searchThreshold:Y.thresholdLogging?.searchThreshold??1000,viewThreshold:1000},transactions:{cleanupConfig:{cleanupWindow:60000,cleanupLostAttempts:!0},durabilityLevel:"majority",timeout:15000}};if(J.isCapella)Z.configProfile="wanDevelopment";if(J.isTls)Z.security={trustOnlyCertificates:J.isCapella?void 0:[],trustStorePath:Y.trustStorePath,disableCertificateVerification:X&&!J.isCapella};return Z}var f61=w(()=>{f5();$k()});class v61{state="closed";failures=0;successes=0;lastFailureTime=null;lastSuccessTime=null;nextAttemptTime=null;totalOperations=0;config;constructor(Y={}){this.config={...zI0,...Y}}async execute(Y,J){if(this.totalOperations++,this.state==="open"){let X=Date.now();if(this.nextAttemptTime&&X>=this.nextAttemptTime)this.transitionToHalfOpen();else{if(J)return await J();throw new h61(`Circuit breaker is OPEN - failing fast. Next attempt at ${new Date(this.nextAttemptTime).toISOString()}`)}}try{let X=await Y();return this.onSuccess(),X}catch(X){throw this.onFailure(),X}}onSuccess(){if(this.lastSuccessTime=Date.now(),this.failures=0,this.state==="half-open"){if(this.successes++,this.successes>=this.config.successThreshold)this.transitionToClosed()}}onFailure(){if(this.lastFailureTime=Date.now(),this.failures++,this.state==="half-open")this.transitionToOpen();else if(this.failures>=this.config.failureThreshold)this.transitionToOpen()}transitionToOpen(){this.state="open",this.nextAttemptTime=Date.now()+this.config.timeout,console.warn(`[CircuitBreaker] Circuit OPENED after ${this.failures} failures. Will retry at ${new Date(this.nextAttemptTime).toISOString()}`)}transitionToHalfOpen(){this.state="half-open",this.successes=0,console.log("[CircuitBreaker] Transitioning to HALF-OPEN state - testing recovery")}transitionToClosed(){this.state="closed",this.failures=0,this.successes=0,this.nextAttemptTime=null,console.log("[CircuitBreaker] Circuit CLOSED after successful recovery")}getState(){if(this.state==="open"&&this.nextAttemptTime&&Date.now()>=this.nextAttemptTime)this.transitionToHalfOpen();return this.state}getStats(){let Y=this.totalOperations>0?this.failures/this.totalOperations*100:0;return{state:this.getState(),failures:this.failures,successes:this.successes,lastFailureTime:this.lastFailureTime,lastSuccessTime:this.lastSuccessTime,nextAttemptTime:this.nextAttemptTime,isHealthy:this.state==="closed",successRate:this.totalOperations>0?100-Y:100,totalOperations:this.totalOperations,errorRate:Y}}isHealthy(){return this.getState()==="closed"}reset(){this.state="closed",this.failures=0,this.successes=0,this.lastFailureTime=null,this.nextAttemptTime=null,console.log("[CircuitBreaker] Manually reset to CLOSED state")}forceOpen(Y){this.state="open",this.nextAttemptTime=Date.now()+this.config.timeout,console.warn(`[CircuitBreaker] Forced OPEN${Y?`: ${Y}`:""}`)}}function b61(Y){return new v61({failureThreshold:5,successThreshold:3,timeout:60000,monitoringPeriod:120000,...Y})}var zI0,h61;var y61=w(()=>{zI0={failureThreshold:5,successThreshold:3,timeout:60000,monitoringPeriod:120000};h61=class h61 extends Error{constructor(Y){super(Y);this.name="CircuitBreakerOpenError"}}});class gU{static instance=null;cluster=null;bucket=null;connectionPromise=null;config=null;collections=new Map;isHealthy=!1;lastHealthCheck=null;healthCheckInterval=null;connectionAttempts=0;circuitBreaker;metrics={totalConnections:0,failedConnections:0,successfulConnections:0,totalQueries:0,failedQueries:0,avgQueryTime:0,lastConnectionTime:null,lastQueryTime:null,circuitBreakerState:"closed"};constructor(){this.circuitBreaker=b61()}static getInstance(){if(!gU.instance)gU.instance=new gU;return gU.instance}async initialize(Y){let J=Y||k61();if(_61(J),this.connectionPromise){await this.connectionPromise;return}if(this.cluster&&this.config?.connectionString===J.connectionString){console.log("[Couchbase] Already initialized, reusing connection");return}this.config=J,this.connectionPromise=this.createConnection(J);try{this.cluster=await this.connectionPromise,this.bucket=this.cluster.bucket(J.bucketName),console.log("[Couchbase] Verifying bucket access..."),await this.waitForBucketReady(this.bucket,5000),this.isHealthy=!0,this.connectionAttempts=0,this.metrics.successfulConnections++,this.metrics.lastConnectionTime=new Date,console.log("[Couchbase] Connection initialized successfully"),this.startHealthMonitoring()}catch(X){this.metrics.failedConnections++,this.isHealthy=!1;let Z=T5.extractContext(X,"initialize");throw console.error("[Couchbase] Initialization failed:",{...Z,attempt:this.connectionAttempts}),X}finally{this.connectionPromise=null}}async createConnection(Y){let X=null;for(let Z=1;Z<=3;Z++){this.connectionAttempts=Z;try{console.log(`[Couchbase] Connection attempt ${Z}/3...`);let W=typeof Bun<"u"?Bun.nanoseconds():performance.now()*1e6,$=Wk(Y.connectionString),G=x61(Y,$),Q=await XA.connect(Y.connectionString,G),z=((typeof Bun<"u"?Bun.nanoseconds():performance.now()*1e6)-W)/1e6;return console.log(`[Couchbase] Connected in ${z.toFixed(2)}ms`),this.metrics.totalConnections++,Q}catch(W){if(X=W instanceof Error?W:Error(String(W)),T5.isAuthError(W))throw console.error("[Couchbase] Authentication failed - not retrying"),X;if(Z<3){let $=this.calculateBackoff(Z);console.log(`[Couchbase] Retrying in ${$}ms...`),await this.sleep($)}}}throw Error(`Failed to connect after 3 attempts: ${X?.message}`)}async waitForBucketReady(Y,J){let X=Date.now();while(Date.now()-X<J)try{await Y.collections().getAllScopes(),console.log("[Couchbase] Bucket is ready");return}catch{await this.sleep(500)}throw Error(`Bucket '${Y.name}' not ready after ${J}ms`)}startHealthMonitoring(){if(this.healthCheckInterval)clearInterval(this.healthCheckInterval);let Y=60000;console.log(`[Couchbase] Starting health monitoring (${Y}ms interval)`),this.healthCheckInterval=setInterval(async()=>{try{let J=await this.getHealthWithDiagnostics();if(this.isHealthy=J.status==="healthy"||J.status==="degraded",this.lastHealthCheck=new Date,!this.isHealthy&&this.config)console.warn("[Couchbase] Unhealthy connection detected")}catch(J){console.error("[Couchbase] Health check failed:",J),this.isHealthy=!1}},Y)}async ping(){if(!this.cluster)return{status:"disconnected",timestamp:Date.now(),details:{reason:"No cluster connection"}};try{let Y=typeof Bun<"u"?Bun.nanoseconds():performance.now()*1e6,J=await this.cluster.ping({serviceTypes:[XA.ServiceType.KeyValue,XA.ServiceType.Query],timeout:5000}),Z=((typeof Bun<"u"?Bun.nanoseconds():performance.now()*1e6)-Y)/1e6,W=new Map;for(let[G,Q]of Object.entries(J.services||{})){let U=Q.some((z)=>z.state===0||z.state==="ok"||z.latency>0);W.set(G,U)}return{status:Array.from(W.values()).every((G)=>G)?"healthy":"degraded",timestamp:Date.now(),details:{latency:Z,services:Object.fromEntries(W)}}}catch(Y){let J=T5.extractContext(Y,"ping");return{status:"unhealthy",timestamp:Date.now(),error:J.message,details:{errorType:J.errorName,retryable:J.isRetryable}}}}async getHealthWithDiagnostics(){if(!this.cluster)return{status:"disconnected",timestamp:Date.now(),details:{reason:"No cluster connection"}};try{let Y=await this.cluster.diagnostics(),J=0,X=0;for(let[$,G]of Object.entries(Y.services||{}))for(let Q of G)if(X++,Q.state==="connected"||Q.state==="ok")J++;let Z=X>0?J/X*100:0,W;if(Z===100)W="healthy";else if(Z>=50)W="degraded";else W="unhealthy";return{status:W,timestamp:Date.now(),details:{diagnosticsId:Y.id,healthyEndpoints:J,totalEndpoints:X,healthPercentage:Math.round(Z),circuitBreaker:this.circuitBreaker.getStats()}}}catch(Y){let J=T5.extractContext(Y,"diagnostics");return{status:"unhealthy",timestamp:Date.now(),error:J.message,details:J}}}getCollection(Y,J,X){if(!this.bucket||!this.cluster)throw Error("Couchbase not initialized");let Z=Y||this.config?.bucketName||this.bucket.name,W=J||this.config?.scopeName||"_default",$=X||this.config?.collectionName||"_default",G=`${Z}::${W}::${$}`;if(this.collections.has(G))return this.collections.get(G);let Q=this.cluster.bucket(Z).scope(W).collection($);return this.collections.set(G,Q),Q}getScope(Y,J){if(!this.cluster)throw Error("Couchbase not initialized");let X=Y||this.config?.bucketName||this.bucket?.name,Z=J||this.config?.scopeName||"_default";if(!X)throw Error("No bucket specified");return this.cluster.bucket(X).scope(Z)}async getConnection(){if(!this.cluster||!this.bucket||!this.config)throw Error("Couchbase not initialized. Call initialize() first.");if(this.circuitBreaker.getState()==="open")throw Error("Circuit breaker is OPEN - database temporarily unavailable");return{cluster:this.cluster,bucket:(J)=>this.cluster.bucket(J||this.config.bucketName),scope:(J,X)=>this.cluster.bucket(J||this.config.bucketName).scope(X||this.config.scopeName||"_default"),collection:(J,X,Z)=>this.getCollection(J,X,Z),defaultBucket:this.bucket,defaultScope:this.bucket.scope(this.config.scopeName||"_default"),defaultCollection:this.getCollection(),getHealth:()=>this.getHealthWithDiagnostics(),executeWithRetry:this.executeWithRetry.bind(this),errors:{DocumentNotFoundError:$1.DocumentNotFoundError,CouchbaseError:$1.CouchbaseError,TimeoutError:$1.TimeoutError,AuthenticationFailureError:$1.AuthenticationFailureError,CasMismatchError:$1.CasMismatchError,TemporaryFailureError:$1.TemporaryFailureError}}}async executeWithRetry(Y,J){let X=J||{maxAttempts:3,baseDelayMs:1000},Z=X.fallback;return await this.circuitBreaker.execute(async()=>{let W=null,$=X.maxAttempts||3;for(let G=1;G<=$;G++)try{let Q=typeof Bun<"u"?Bun.nanoseconds():performance.now()*1e6,U=await Y(),H=((typeof Bun<"u"?Bun.nanoseconds():performance.now()*1e6)-Q)/1e6;return this.metrics.totalQueries++,this.metrics.lastQueryTime=new Date,this.updateAverageQueryTime(H),U}catch(Q){W=Q instanceof Error?Q:Error(String(Q));let U=T5.extractContext(Q),z=T5.getRetryStrategy(Q);if(!z.shouldRetry||G===$)throw this.metrics.failedQueries++,W;let H=z.baseDelayMs*Math.pow(2,G-1);if(X.onRetry)X.onRetry(G,W,H);else console.warn(`[Couchbase] Retry attempt ${G}/${$} after ${H}ms`,{error:U.message});await this.sleep(H)}throw W},Z)}getMetrics(){return{...this.metrics,circuitBreakerState:this.circuitBreaker.getState()}}isConnected(){return this.isHealthy&&this.cluster!==null}getCircuitBreakerState(){return this.circuitBreaker.getState()}resetCircuitBreaker(){this.circuitBreaker.reset()}async close(){if(console.log("[Couchbase] Closing connection..."),this.healthCheckInterval)clearInterval(this.healthCheckInterval),this.healthCheckInterval=null;if(this.cluster)try{await this.cluster.close(),console.log("[Couchbase] Connection closed successfully")}catch(Y){console.error("[Couchbase] Error closing connection:",Y)}this.cluster=null,this.bucket=null,this.collections.clear(),this.config=null,this.isHealthy=!1}calculateBackoff(Y){let Z=Math.min(1000*Math.pow(2,Y-1),8000),W=Z*0.25;return Math.floor(Z+(Math.random()*W*2-W))}async sleep(Y){if(typeof Bun<"u")await Bun.sleep(Y);else await new Promise((J)=>setTimeout(J,Y))}updateAverageQueryTime(Y){let J=this.metrics.totalQueries;this.metrics.avgQueryTime=(this.metrics.avgQueryTime*(J-1)+Y)/J}}var XA,g0;var g61=w(()=>{d$();$k();f61();y61();XA=q1(Zk(),1);g0=gU.getInstance();if(typeof process<"u")process.on("SIGINT",async()=>{console.log("[Couchbase] Received SIGINT, closing connections..."),await g0.close()}),process.on("SIGTERM",async()=>{console.log("[Couchbase] Received SIGTERM, closing connections..."),await g0.close()})});class O6{static async execute(Y,J,X={}){let Z=X.maxRetries??3,W=this.buildQueryOptions(X),$=null;for(let G=1;G<=Z;G++)try{let Q=performance.now(),U=await Y.query(J,W),z=performance.now()-Q;if(z>1000)console.warn(`[Query] Slow query detected (${z.toFixed(2)}ms):`,{statement:J.substring(0,100),duration:z,queryContext:X.queryContext});if(X.metrics&&U.meta?.metrics)console.log("[Query] Metrics:",{executionTime:U.meta.metrics.executionTime,resultCount:U.meta.metrics.resultCount});return U}catch(Q){$=Q;let U=T5.extractContext(Q,"query");if(U.isCritical)throw Q;let z=T5.getRetryStrategy(Q);if(!z.shouldRetry||G>=Z)throw Q;let H=z.baseDelayMs*Math.pow(2,G-1);console.warn(`[Query] Retry attempt ${G}/${Z} after ${H}ms:`,U.message),await this.sleep(H)}throw $||Error("Query failed")}static async executeInScope(Y,J,X,Z,W={}){return this.execute(Y,J,{...W,queryContext:`${X}.${Z}`})}static buildQueryOptions(Y){let J={parameters:Y.parameters,adhoc:Y.usePreparedStatement!==void 0?!Y.usePreparedStatement:!0,queryContext:Y.queryContext,scanConsistency:Y.scanConsistency||"request_plus",timeout:Y.timeout||30000,profile:Y.profile?"timings":void 0,metrics:Y.metrics!==!1,clientContextId:Y.clientContextId||this.generateClientContextId(),readonly:Y.readonly};if(Y.requestId)J.clientContextId=Y.requestId;return J}static generateClientContextId(){return`query-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}static async sleep(Y){if(typeof Bun<"u")await Bun.sleep(Y);else await new Promise((J)=>setTimeout(J,Y))}}var u61=w(()=>{d$()});var m61=w(()=>{d$()});var HI0=w(()=>{d$();m61();u61()});class OI0{queryMetrics=[];maxMetricsHistory=1e4;slowQueryThreshold=1000;startTime=Date.now();lastStatsCalculation=0;cachedStats=null;recordQueryMetric(Y){try{if(Y.query&&Y.query.length>100)Y.queryHash=this.generateQueryHash(Y.query),Y.query=`${Y.query.substring(0,100)}...`;if(this.queryMetrics.push(Y),this.queryMetrics.length>this.maxMetricsHistory)this.queryMetrics.shift();if(Y.duration>this.slowQueryThreshold)_8("Slow query detected",{operationType:Y.operationType,duration:Y.duration,queryHash:Y.queryHash,bucket:Y.bucket,collection:Y.collection,requestId:Y.requestId});this.cachedStats=null}catch(J){h0("Error recording query metric",{error:J,metric:{...Y,query:"[redacted]"}})}}getPerformanceStats(Y=!1){let J=Date.now();if(!Y&&this.cachedStats&&J-this.lastStatsCalculation<30000)return this.cachedStats;let X=300000,Z=this.queryMetrics.filter((H)=>J-H.timestamp<X);if(Z.length===0)return this.cachedStats={totalQueries:0,averageQueryTime:0,slowQueries:0,errorRate:0,documentsPerSecond:0,peakQueriesPerSecond:0,connectionLatency:0,lastResetTime:this.startTime},this.lastStatsCalculation=J,this.cachedStats;let W=Z.reduce((H,O)=>H+O.duration,0),$=Z.filter((H)=>H.success),G=Z.filter((H)=>H.duration>this.slowQueryThreshold),Q=Math.max(1,(J-Math.min(...Z.map((H)=>H.timestamp)))/1000),U=Z.length/Q,z=this.calculatePeakQPS(Z);return this.cachedStats={totalQueries:Z.length,averageQueryTime:Math.round(W/Z.length),slowQueries:G.length,errorRate:(Z.length-$.length)/Z.length*100,documentsPerSecond:Math.round(U),peakQueriesPerSecond:Math.round(z),connectionLatency:this.getAverageConnectionLatency(Z),lastResetTime:this.startTime},this.lastStatsCalculation=J,this.cachedStats}getSlowQueries(Y=10){return this.queryMetrics.filter((J)=>J.duration>this.slowQueryThreshold).sort((J,X)=>X.duration-J.duration).slice(0,Y).map((J)=>({...J,query:J.query}))}getErrorBreakdown(){let Y={},J=this.queryMetrics.filter((X)=>!X.success&&X.errorType).filter((X)=>Date.now()-X.timestamp<300000);for(let X of J)if(X.errorType)Y[X.errorType]=(Y[X.errorType]||0)+1;return Y}getQueryTypeBreakdown(){let Y={},J=this.queryMetrics.filter((Z)=>Date.now()-Z.timestamp<300000);for(let Z of J){if(!Y[Z.operationType])Y[Z.operationType]={total:0,totalDuration:0,count:0};Y[Z.operationType].total++,Y[Z.operationType].totalDuration+=Z.duration,Y[Z.operationType].count++}let X={};for(let[Z,W]of Object.entries(Y))X[Z]={count:W.count,avgDuration:Math.round(W.totalDuration/W.count)};return X}reset(){this.queryMetrics=[],this.startTime=Date.now(),this.cachedStats=null,L1("Couchbase metrics reset",{timestamp:this.startTime})}getDiagnosticInfo(){let Y=this.queryMetrics.length>0?Math.min(...this.queryMetrics.map(($)=>$.timestamp)):0,J=this.queryMetrics.length>0?Math.max(...this.queryMetrics.map(($)=>$.timestamp)):0,X=200,Z=this.queryMetrics.length*200,W=Z>1048576?`${(Z/1048576).toFixed(1)}MB`:`${(Z/1024).toFixed(1)}KB`;return{metricsCount:this.queryMetrics.length,oldestMetric:Y,newestMetric:J,memoryUsage:W}}generateQueryHash(Y){let J=0;for(let X=0;X<Math.min(Y.length,200);X++){let Z=Y.charCodeAt(X);J=(J<<5)-J+Z,J=J&J}return Math.abs(J).toString(16)}calculatePeakQPS(Y){if(Y.length===0)return 0;let J=1e4,X={};for(let W of Y){let $=Math.floor(W.timestamp/J);X[$]=(X[$]||0)+1}return Math.max(...Object.values(X))/J*1000}getAverageConnectionLatency(Y){let J=Y.filter((Z)=>Z.operationType==="getCluster");if(J.length===0)return 0;let X=J.reduce((Z,W)=>Z+W.duration,0);return Math.round(X/J.length)}}var xI6;var d61=w(()=>{x8();xI6=new OI0});var qI0=q((hq8,BI0)=>{var fI6=function(){function Y(X,Z){if(typeof X!=="function")throw TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+X+"."));this._batchLoadFn=X,this._maxBatchSize=yI6(Z),this._batchScheduleFn=gI6(Z),this._cacheKeyFn=uI6(Z),this._cacheMap=mI6(Z),this._batch=null,this.name=dI6(Z)}var J=Y.prototype;return J.load=function(Z){if(Z===null||Z===void 0)throw TypeError("The loader.load() function must be called with a value, "+("but got: "+String(Z)+"."));var W=hI6(this),$=this._cacheMap,G;if($){G=this._cacheKeyFn(Z);var Q=$.get(G);if(Q){var U=W.cacheHits||(W.cacheHits=[]);return new Promise(function(H){U.push(function(){H(Q)})})}}W.keys.push(Z);var z=new Promise(function(H,O){W.callbacks.push({resolve:H,reject:O})});if($)$.set(G,z);return z},J.loadMany=function(Z){if(!KI0(Z))throw TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+Z+"."));var W=[];for(var $=0;$<Z.length;$++)W.push(this.load(Z[$]).catch(function(G){return G}));return Promise.all(W)},J.clear=function(Z){var W=this._cacheMap;if(W){var $=this._cacheKeyFn(Z);W.delete($)}return this},J.clearAll=function(){var Z=this._cacheMap;if(Z)Z.clear();return this},J.prime=function(Z,W){var $=this._cacheMap;if($){var G=this._cacheKeyFn(Z);if($.get(G)===void 0){var Q;if(W instanceof Error)Q=Promise.reject(W),Q.catch(function(){});else Q=Promise.resolve(W);$.set(G,Q)}}return this},Y}(),vI6=typeof process==="object"&&typeof process.nextTick==="function"?function(Y){if(!c61)c61=Promise.resolve();c61.then(function(){process.nextTick(Y)})}:typeof setImmediate==="function"?function(Y){setImmediate(Y)}:function(Y){setTimeout(Y)},c61;function hI6(Y){var J=Y._batch;if(J!==null&&!J.hasDispatched&&J.keys.length<Y._maxBatchSize)return J;var X={hasDispatched:!1,keys:[],callbacks:[]};return Y._batch=X,Y._batchScheduleFn(function(){bI6(Y,X)}),X}function bI6(Y,J){if(J.hasDispatched=!0,J.keys.length===0){p61(J);return}var X;try{X=Y._batchLoadFn(J.keys)}catch(Z){return l61(Y,J,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(Z)+".")))}if(!X||typeof X.then!=="function")return l61(Y,J,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(X)+".")));X.then(function(Z){if(!KI0(Z))throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(Z)+"."));if(Z.length!==J.keys.length)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(J.keys))+(`

Values:
`+String(Z)));p61(J);for(var W=0;W<J.callbacks.length;W++){var $=Z[W];if($ instanceof Error)J.callbacks[W].reject($);else J.callbacks[W].resolve($)}}).catch(function(Z){l61(Y,J,Z)})}function l61(Y,J,X){p61(J);for(var Z=0;Z<J.keys.length;Z++)Y.clear(J.keys[Z]),J.callbacks[Z].reject(X)}function p61(Y){if(Y.cacheHits)for(var J=0;J<Y.cacheHits.length;J++)Y.cacheHits[J]()}function yI6(Y){var J=!Y||Y.batch!==!1;if(!J)return 1;var X=Y&&Y.maxBatchSize;if(X===void 0)return 1/0;if(typeof X!=="number"||X<1)throw TypeError("maxBatchSize must be a positive number: "+X);return X}function gI6(Y){var J=Y&&Y.batchScheduleFn;if(J===void 0)return vI6;if(typeof J!=="function")throw TypeError("batchScheduleFn must be a function: "+J);return J}function uI6(Y){var J=Y&&Y.cacheKeyFn;if(J===void 0)return function(X){return X};if(typeof J!=="function")throw TypeError("cacheKeyFn must be a function: "+J);return J}function mI6(Y){var J=!Y||Y.cache!==!1;if(!J)return null;var X=Y&&Y.cacheMap;if(X===void 0)return new Map;if(X!==null){var Z=["get","set","delete","clear"],W=Z.filter(function($){return X&&typeof X[$]!=="function"});if(W.length!==0)throw TypeError("Custom cacheMap missing methods: "+W.join(", "))}return X}function dI6(Y){if(Y&&Y.name)return Y.name;return null}function KI0(Y){return typeof Y==="object"&&Y!==null&&typeof Y.length==="number"&&(Y.length===0||Y.length>0&&Object.prototype.hasOwnProperty.call(Y,Y.length-1))}BI0.exports=fI6});async function cI6(Y){let J=Date.now();try{let X=await g0.getConnection(),Z=[],W=new Map;for(let z of Y){let H=`${z.bucket}.${z.scope}.${z.collection}`;if(!W.has(H))W.set(H,[]);W.get(H)?.push(z)}L1("DataLoader batch operation",{totalKeys:Y.length,collections:W.size,keysByCollection:Array.from(W.entries()).map(([z,H])=>({collection:z,keyCount:H.length}))});let $=Array.from(W.entries()).map(async([z,H])=>{let[O,K,B]=z.split(".");try{let F=X.collection(O,K,B),V=H.map(async(I)=>{let D=Date.now();try{if(!I.key.trim())return{bucket:I.bucket,scope:I.scope,collection:I.collection,data:null,timeTaken:0};let L=await g0.executeWithRetry(async()=>await F.get(I.key),{maxAttempts:2}),A=Date.now()-D;return{bucket:I.bucket,scope:I.scope,collection:I.collection,data:{id:I.key,...L.content},timeTaken:A}}catch(L){let A=Date.now()-D,P=T5.extractContext(L,"get");if(L instanceof $1.DocumentNotFoundError)return{bucket:I.bucket,scope:I.scope,collection:I.collection,data:null,timeTaken:A};else if(L instanceof $1.AuthenticationFailureError)return F4("Authentication/Permission error in DataLoader",{errorType:L.constructor.name,keyInfo:I,classification:T5.classifyError(L)}),{bucket:I.bucket,scope:I.scope,collection:I.collection,data:null,timeTaken:A,error:`Access denied: ${L.message}`};else if(L instanceof $1.AmbiguousTimeoutError)return F4("Ambiguous timeout in DataLoader - manual investigation required",{keyInfo:I,errorMessage:L.message,requiresInvestigation:!0}),{bucket:I.bucket,scope:I.scope,collection:I.collection,data:null,timeTaken:A,error:`Ambiguous timeout: ${L.message}`};else if(L instanceof $1.TemporaryFailureError||L instanceof $1.ServiceNotAvailableError||L instanceof $1.RateLimitedError)return h0("Retryable error occurred in DataLoader",{errorType:L.constructor.name,keyInfo:I,classification:T5.classifyError(L)}),{bucket:I.bucket,scope:I.scope,collection:I.collection,data:null,timeTaken:A,error:`Service error: ${L.message}`};else if(L instanceof $1.DocumentLockedError)return{bucket:I.bucket,scope:I.scope,collection:I.collection,data:null,timeTaken:A,error:`Document locked: ${L.message}`};else if(L instanceof $1.CouchbaseError)return{bucket:I.bucket,scope:I.scope,collection:I.collection,data:null,timeTaken:A,error:`Couchbase error: ${L.message}`};else return F4("Unexpected error in DataLoader",{error:L.message,keyInfo:I,errorType:L.constructor.name}),{bucket:I.bucket,scope:I.scope,collection:I.collection,data:null,timeTaken:A,error:"Unexpected error occurred"}}});return await Promise.all(V)}catch(F){return F4(`Error processing collection ${z}:`,F),H.map((V)=>({bucket:V.bucket,scope:V.scope,collection:V.collection,data:null,timeTaken:Date.now()-J,error:"Collection processing failed"}))}}),Q=(await Promise.all($)).flat();for(let z of Y){let H=Q.find((O)=>O.bucket===z.bucket&&O.scope===z.scope&&O.collection===z.collection&&(O.data?.id===z.key||!O.data&&!z.key.trim()));if(H)Z.push(H);else Z.push({bucket:z.bucket,scope:z.scope,collection:z.collection,data:null,timeTaken:Date.now()-J,error:"Result not found in batch processing"})}let U=Date.now()-J;return h0("DataLoader batch completed",{totalKeys:Y.length,totalTime:U,successful:Z.filter((z)=>z.data&&!z.error).length,notFound:Z.filter((z)=>!z.data&&!z.error).length,errors:Z.filter((z)=>z.error).length}),Z}catch(X){return F4("DataLoader batch operation failed:",X),Y.map((Z)=>({bucket:Z.bucket,scope:Z.scope,collection:Z.collection,data:null,timeTaken:Date.now()-J,error:"Batch operation failed"}))}}function n61(){return new FI0.default(cI6,{cache:!0,maxBatchSize:100,batchScheduleFn:(Y)=>process.nextTick(Y)})}async function i61(Y,J,X){let Z=[];for(let W of J)for(let{bucket:$,scope:G,collection:Q}of Y)Z.push({bucket:$,scope:G,collection:Q,key:W});return L1("Batch loading documents",{collections:Y.length,keys:J.length,totalRequests:Z.length}),await X.loadMany(Z)}var FI0;var VI0=w(()=>{d$();g61();x8();FI0=q1(qI0(),1)});var ZA;var II0=w(()=>{d$();d61();x8();ZA=q1(Zk(),1)});var R5=w(()=>{g61();d$();$k();f61();y61();u61();m61();HI0();d61();VI0();II0()});var AI0=q((DI0)=>{Object.defineProperty(DI0,"__esModule",{value:!0});DI0.versionInfo=DI0.version=void 0;var pI6="16.12.0";DI0.version=pI6;var nI6=Object.freeze({major:16,minor:12,patch:0,preReleaseTag:null});DI0.versionInfo=nI6});var I9=q((PI0)=>{Object.defineProperty(PI0,"__esModule",{value:!0});PI0.devAssert=oI6;function oI6(Y,J){if(!Boolean(Y))throw Error(J)}});var Gk=q((LI0)=>{Object.defineProperty(LI0,"__esModule",{value:!0});LI0.isPromise=aI6;function aI6(Y){return typeof(Y===null||Y===void 0?void 0:Y.then)==="function"}});var q3=q((MI0)=>{Object.defineProperty(MI0,"__esModule",{value:!0});MI0.isObjectLike=tI6;function tI6(Y){return typeof Y=="object"&&Y!==null}});var d5=q((EI0)=>{Object.defineProperty(EI0,"__esModule",{value:!0});EI0.invariant=YD6;function YD6(Y,J){if(!Boolean(Y))throw Error(J!=null?J:"Unexpected invariant triggered.")}});var Qk=q((TI0)=>{Object.defineProperty(TI0,"__esModule",{value:!0});TI0.getLocation=WD6;var XD6=d5(),ZD6=/\r\n|[\n\r]/g;function WD6(Y,J){let X=0,Z=1;for(let W of Y.body.matchAll(ZD6)){if(typeof W.index==="number"||(0,XD6.invariant)(!1),W.index>=J)break;X=W.index+W[0].length,Z+=1}return{line:Z,column:J+1-X}}});var o61=q((SI0)=>{Object.defineProperty(SI0,"__esModule",{value:!0});SI0.printLocation=QD6;SI0.printSourceLocation=NI0;var GD6=Qk();function QD6(Y){return NI0(Y.source,(0,GD6.getLocation)(Y.source,Y.start))}function NI0(Y,J){let X=Y.locationOffset.column-1,Z="".padStart(X)+Y.body,W=J.line-1,$=Y.locationOffset.line-1,G=J.line+$,Q=J.line===1?X:0,U=J.column+Q,z=`${Y.name}:${G}:${U}
`,H=Z.split(/\r\n|[\n\r]/g),O=H[W];if(O.length>120){let K=Math.floor(U/80),B=U%80,F=[];for(let V=0;V<O.length;V+=80)F.push(O.slice(V,V+80));return z+RI0([[`${G} |`,F[0]],...F.slice(1,K+1).map((V)=>["|",V]),["|","^".padStart(B)],["|",F[K+1]]])}return z+RI0([[`${G-1} |`,H[W-1]],[`${G} |`,O],["|","^".padStart(U)],[`${G+1} |`,H[W+1]]])}function RI0(Y){let J=Y.filter(([Z,W])=>W!==void 0),X=Math.max(...J.map(([Z])=>Z.length));return J.map(([Z,W])=>Z.padStart(X)+(W?" "+W:"")).join(`
`)}});var U0=q((_I0)=>{Object.defineProperty(_I0,"__esModule",{value:!0});_I0.GraphQLError=void 0;_I0.formatError=BD6;_I0.printError=KD6;var HD6=q3(),CI0=Qk(),jI0=o61();function OD6(Y){let J=Y[0];if(J==null||"kind"in J||"length"in J)return{nodes:J,source:Y[1],positions:Y[2],path:Y[3],originalError:Y[4],extensions:Y[5]};return J}class r61 extends Error{constructor(Y,...J){var X,Z,W;let{nodes:$,source:G,positions:Q,path:U,originalError:z,extensions:H}=OD6(J);super(Y);this.name="GraphQLError",this.path=U!==null&&U!==void 0?U:void 0,this.originalError=z!==null&&z!==void 0?z:void 0,this.nodes=kI0(Array.isArray($)?$:$?[$]:void 0);let O=kI0((X=this.nodes)===null||X===void 0?void 0:X.map((B)=>B.loc).filter((B)=>B!=null));this.source=G!==null&&G!==void 0?G:O===null||O===void 0?void 0:(Z=O[0])===null||Z===void 0?void 0:Z.source,this.positions=Q!==null&&Q!==void 0?Q:O===null||O===void 0?void 0:O.map((B)=>B.start),this.locations=Q&&G?Q.map((B)=>(0,CI0.getLocation)(G,B)):O===null||O===void 0?void 0:O.map((B)=>(0,CI0.getLocation)(B.source,B.start));let K=(0,HD6.isObjectLike)(z===null||z===void 0?void 0:z.extensions)?z===null||z===void 0?void 0:z.extensions:void 0;if(this.extensions=(W=H!==null&&H!==void 0?H:K)!==null&&W!==void 0?W:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),z!==null&&z!==void 0&&z.stack)Object.defineProperty(this,"stack",{value:z.stack,writable:!0,configurable:!0});else if(Error.captureStackTrace)Error.captureStackTrace(this,r61);else Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let Y=this.message;if(this.nodes){for(let J of this.nodes)if(J.loc)Y+=`

`+(0,jI0.printLocation)(J.loc)}else if(this.source&&this.locations)for(let J of this.locations)Y+=`

`+(0,jI0.printSourceLocation)(this.source,J);return Y}toJSON(){let Y={message:this.message};if(this.locations!=null)Y.locations=this.locations;if(this.path!=null)Y.path=this.path;if(this.extensions!=null&&Object.keys(this.extensions).length>0)Y.extensions=this.extensions;return Y}}_I0.GraphQLError=r61;function kI0(Y){return Y===void 0||Y.length===0?void 0:Y}function KD6(Y){return Y.toString()}function BD6(Y){return Y.toJSON()}});var WA=q((fI0)=>{Object.defineProperty(fI0,"__esModule",{value:!0});fI0.syntaxError=ID6;var VD6=U0();function ID6(Y,J,X){return new VD6.GraphQLError(`Syntax Error: ${X}`,{source:Y,positions:[J]})}});var RJ=q((yI0)=>{Object.defineProperty(yI0,"__esModule",{value:!0});yI0.Token=yI0.QueryDocumentKeys=yI0.OperationTypeNode=yI0.Location=void 0;yI0.isNode=AD6;class vI0{constructor(Y,J,X){this.start=Y.start,this.end=J.end,this.startToken=Y,this.endToken=J,this.source=X}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}yI0.Location=vI0;class hI0{constructor(Y,J,X,Z,W,$){this.kind=Y,this.start=J,this.end=X,this.line=Z,this.column=W,this.value=$,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}yI0.Token=hI0;var bI0={Name:[],Document:["definitions"],OperationDefinition:["description","name","variableDefinitions","directives","selectionSet"],VariableDefinition:["description","variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["description","name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],TypeCoordinate:["name"],MemberCoordinate:["name","memberName"],ArgumentCoordinate:["name","fieldName","argumentName"],DirectiveCoordinate:["name"],DirectiveArgumentCoordinate:["name","argumentName"]};yI0.QueryDocumentKeys=bI0;var wD6=new Set(Object.keys(bI0));function AD6(Y){let J=Y===null||Y===void 0?void 0:Y.kind;return typeof J==="string"&&wD6.has(J)}var a61;yI0.OperationTypeNode=a61;(function(Y){Y.QUERY="query",Y.MUTATION="mutation",Y.SUBSCRIPTION="subscription"})(a61||(yI0.OperationTypeNode=a61={}))});var IB=q((mI0)=>{Object.defineProperty(mI0,"__esModule",{value:!0});mI0.DirectiveLocation=void 0;var s61;mI0.DirectiveLocation=s61;(function(Y){Y.QUERY="QUERY",Y.MUTATION="MUTATION",Y.SUBSCRIPTION="SUBSCRIPTION",Y.FIELD="FIELD",Y.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",Y.FRAGMENT_SPREAD="FRAGMENT_SPREAD",Y.INLINE_FRAGMENT="INLINE_FRAGMENT",Y.VARIABLE_DEFINITION="VARIABLE_DEFINITION",Y.SCHEMA="SCHEMA",Y.SCALAR="SCALAR",Y.OBJECT="OBJECT",Y.FIELD_DEFINITION="FIELD_DEFINITION",Y.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",Y.INTERFACE="INTERFACE",Y.UNION="UNION",Y.ENUM="ENUM",Y.ENUM_VALUE="ENUM_VALUE",Y.INPUT_OBJECT="INPUT_OBJECT",Y.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(s61||(mI0.DirectiveLocation=s61={}))});var n0=q((dI0)=>{Object.defineProperty(dI0,"__esModule",{value:!0});dI0.Kind=void 0;var e61;dI0.Kind=e61;(function(Y){Y.NAME="Name",Y.DOCUMENT="Document",Y.OPERATION_DEFINITION="OperationDefinition",Y.VARIABLE_DEFINITION="VariableDefinition",Y.SELECTION_SET="SelectionSet",Y.FIELD="Field",Y.ARGUMENT="Argument",Y.FRAGMENT_SPREAD="FragmentSpread",Y.INLINE_FRAGMENT="InlineFragment",Y.FRAGMENT_DEFINITION="FragmentDefinition",Y.VARIABLE="Variable",Y.INT="IntValue",Y.FLOAT="FloatValue",Y.STRING="StringValue",Y.BOOLEAN="BooleanValue",Y.NULL="NullValue",Y.ENUM="EnumValue",Y.LIST="ListValue",Y.OBJECT="ObjectValue",Y.OBJECT_FIELD="ObjectField",Y.DIRECTIVE="Directive",Y.NAMED_TYPE="NamedType",Y.LIST_TYPE="ListType",Y.NON_NULL_TYPE="NonNullType",Y.SCHEMA_DEFINITION="SchemaDefinition",Y.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",Y.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",Y.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",Y.FIELD_DEFINITION="FieldDefinition",Y.INPUT_VALUE_DEFINITION="InputValueDefinition",Y.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",Y.UNION_TYPE_DEFINITION="UnionTypeDefinition",Y.ENUM_TYPE_DEFINITION="EnumTypeDefinition",Y.ENUM_VALUE_DEFINITION="EnumValueDefinition",Y.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",Y.DIRECTIVE_DEFINITION="DirectiveDefinition",Y.SCHEMA_EXTENSION="SchemaExtension",Y.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",Y.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",Y.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",Y.UNION_TYPE_EXTENSION="UnionTypeExtension",Y.ENUM_TYPE_EXTENSION="EnumTypeExtension",Y.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",Y.TYPE_COORDINATE="TypeCoordinate",Y.MEMBER_COORDINATE="MemberCoordinate",Y.ARGUMENT_COORDINATE="ArgumentCoordinate",Y.DIRECTIVE_COORDINATE="DirectiveCoordinate",Y.DIRECTIVE_ARGUMENT_COORDINATE="DirectiveArgumentCoordinate"})(e61||(dI0.Kind=e61={}))});var $A=q((lI0)=>{Object.defineProperty(lI0,"__esModule",{value:!0});lI0.isDigit=cI0;lI0.isLetter=J81;lI0.isNameContinue=RD6;lI0.isNameStart=TD6;lI0.isWhiteSpace=ED6;function ED6(Y){return Y===9||Y===32}function cI0(Y){return Y>=48&&Y<=57}function J81(Y){return Y>=97&&Y<=122||Y>=65&&Y<=90}function TD6(Y){return J81(Y)||Y===95}function RD6(Y){return J81(Y)||cI0(Y)||Y===95}});var GA=q((pI0)=>{Object.defineProperty(pI0,"__esModule",{value:!0});pI0.dedentBlockStringLines=_D6;pI0.isPrintableAsBlockString=fD6;pI0.printBlockString=vD6;var X81=$A();function _D6(Y){var J;let X=Number.MAX_SAFE_INTEGER,Z=null,W=-1;for(let G=0;G<Y.length;++G){var $;let Q=Y[G],U=xD6(Q);if(U===Q.length)continue;if(Z=($=Z)!==null&&$!==void 0?$:G,W=G,G!==0&&U<X)X=U}return Y.map((G,Q)=>Q===0?G:G.slice(X)).slice((J=Z)!==null&&J!==void 0?J:0,W+1)}function xD6(Y){let J=0;while(J<Y.length&&(0,X81.isWhiteSpace)(Y.charCodeAt(J)))++J;return J}function fD6(Y){if(Y==="")return!0;let J=!0,X=!1,Z=!0,W=!1;for(let $=0;$<Y.length;++$)switch(Y.codePointAt($)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 11:case 12:case 14:case 15:return!1;case 13:return!1;case 10:if(J&&!W)return!1;W=!0,J=!0,X=!1;break;case 9:case 32:X||(X=J);break;default:Z&&(Z=X),J=!1}if(J)return!1;if(Z&&W)return!1;return!0}function vD6(Y,J){let X=Y.replace(/"""/g,'\\"""'),Z=X.split(/\r\n|[\n\r]/g),W=Z.length===1,$=Z.length>1&&Z.slice(1).every((B)=>B.length===0||(0,X81.isWhiteSpace)(B.charCodeAt(0))),G=X.endsWith('\\"""'),Q=Y.endsWith('"')&&!G,U=Y.endsWith("\\"),z=Q||U,H=!(J!==null&&J!==void 0&&J.minimize)&&(!W||Y.length>70||z||$||G),O="",K=W&&(0,X81.isWhiteSpace)(Y.charCodeAt(0));if(H&&!K||$)O+=`
`;if(O+=X,H||z)O+=`
`;return'"""'+O+'"""'}});var DB=q((nI0)=>{Object.defineProperty(nI0,"__esModule",{value:!0});nI0.TokenKind=void 0;var Z81;nI0.TokenKind=Z81;(function(Y){Y.SOF="<SOF>",Y.EOF="<EOF>",Y.BANG="!",Y.DOLLAR="$",Y.AMP="&",Y.PAREN_L="(",Y.PAREN_R=")",Y.DOT=".",Y.SPREAD="...",Y.COLON=":",Y.EQUALS="=",Y.AT="@",Y.BRACKET_L="[",Y.BRACKET_R="]",Y.BRACE_L="{",Y.PIPE="|",Y.BRACE_R="}",Y.NAME="Name",Y.INT="Int",Y.FLOAT="Float",Y.STRING="String",Y.BLOCK_STRING="BlockString",Y.COMMENT="Comment"})(Z81||(nI0.TokenKind=Z81={}))});var UA=q((eI0)=>{Object.defineProperty(eI0,"__esModule",{value:!0});eI0.Lexer=void 0;eI0.createToken=a6;eI0.isPunctuatorTokenKind=uD6;eI0.printCodePointAt=c$;eI0.readName=tI0;var NJ=WA(),oI0=RJ(),gD6=GA(),uU=$A(),j0=DB();class rI0{constructor(Y){let J=new oI0.Token(j0.TokenKind.SOF,0,0,0,0);this.source=Y,this.lastToken=J,this.token=J,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let Y=this.token;if(Y.kind!==j0.TokenKind.EOF)do if(Y.next)Y=Y.next;else{let J=mD6(this,Y.end);Y.next=J,J.prev=Y,Y=J}while(Y.kind===j0.TokenKind.COMMENT);return Y}}eI0.Lexer=rI0;function uD6(Y){return Y===j0.TokenKind.BANG||Y===j0.TokenKind.DOLLAR||Y===j0.TokenKind.AMP||Y===j0.TokenKind.PAREN_L||Y===j0.TokenKind.PAREN_R||Y===j0.TokenKind.DOT||Y===j0.TokenKind.SPREAD||Y===j0.TokenKind.COLON||Y===j0.TokenKind.EQUALS||Y===j0.TokenKind.AT||Y===j0.TokenKind.BRACKET_L||Y===j0.TokenKind.BRACKET_R||Y===j0.TokenKind.BRACE_L||Y===j0.TokenKind.PIPE||Y===j0.TokenKind.BRACE_R}function wB(Y){return Y>=0&&Y<=55295||Y>=57344&&Y<=1114111}function Uk(Y,J){return aI0(Y.charCodeAt(J))&&sI0(Y.charCodeAt(J+1))}function aI0(Y){return Y>=55296&&Y<=56319}function sI0(Y){return Y>=56320&&Y<=57343}function c$(Y,J){let X=Y.source.body.codePointAt(J);if(X===void 0)return j0.TokenKind.EOF;else if(X>=32&&X<=126){let Z=String.fromCodePoint(X);return Z==='"'?`'"'`:`"${Z}"`}return"U+"+X.toString(16).toUpperCase().padStart(4,"0")}function a6(Y,J,X,Z,W){let $=Y.line,G=1+X-Y.lineStart;return new oI0.Token(J,X,Z,$,G,W)}function mD6(Y,J){let X=Y.source.body,Z=X.length,W=J;while(W<Z){let $=X.charCodeAt(W);switch($){case 65279:case 9:case 32:case 44:++W;continue;case 10:++W,++Y.line,Y.lineStart=W;continue;case 13:if(X.charCodeAt(W+1)===10)W+=2;else++W;++Y.line,Y.lineStart=W;continue;case 35:return dD6(Y,W);case 33:return a6(Y,j0.TokenKind.BANG,W,W+1);case 36:return a6(Y,j0.TokenKind.DOLLAR,W,W+1);case 38:return a6(Y,j0.TokenKind.AMP,W,W+1);case 40:return a6(Y,j0.TokenKind.PAREN_L,W,W+1);case 41:return a6(Y,j0.TokenKind.PAREN_R,W,W+1);case 46:if(X.charCodeAt(W+1)===46&&X.charCodeAt(W+2)===46)return a6(Y,j0.TokenKind.SPREAD,W,W+3);break;case 58:return a6(Y,j0.TokenKind.COLON,W,W+1);case 61:return a6(Y,j0.TokenKind.EQUALS,W,W+1);case 64:return a6(Y,j0.TokenKind.AT,W,W+1);case 91:return a6(Y,j0.TokenKind.BRACKET_L,W,W+1);case 93:return a6(Y,j0.TokenKind.BRACKET_R,W,W+1);case 123:return a6(Y,j0.TokenKind.BRACE_L,W,W+1);case 124:return a6(Y,j0.TokenKind.PIPE,W,W+1);case 125:return a6(Y,j0.TokenKind.BRACE_R,W,W+1);case 34:if(X.charCodeAt(W+1)===34&&X.charCodeAt(W+2)===34)return oD6(Y,W);return lD6(Y,W)}if((0,uU.isDigit)($)||$===45)return cD6(Y,W,$);if((0,uU.isNameStart)($))return tI0(Y,W);throw(0,NJ.syntaxError)(Y.source,W,$===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:wB($)||Uk(X,W)?`Unexpected character: ${c$(Y,W)}.`:`Invalid character: ${c$(Y,W)}.`)}return a6(Y,j0.TokenKind.EOF,Z,Z)}function dD6(Y,J){let X=Y.source.body,Z=X.length,W=J+1;while(W<Z){let $=X.charCodeAt(W);if($===10||$===13)break;if(wB($))++W;else if(Uk(X,W))W+=2;else break}return a6(Y,j0.TokenKind.COMMENT,J,W,X.slice(J+1,W))}function cD6(Y,J,X){let Z=Y.source.body,W=J,$=X,G=!1;if($===45)$=Z.charCodeAt(++W);if($===48){if($=Z.charCodeAt(++W),(0,uU.isDigit)($))throw(0,NJ.syntaxError)(Y.source,W,`Invalid number, unexpected digit after 0: ${c$(Y,W)}.`)}else W=$81(Y,W,$),$=Z.charCodeAt(W);if($===46)G=!0,$=Z.charCodeAt(++W),W=$81(Y,W,$),$=Z.charCodeAt(W);if($===69||$===101){if(G=!0,$=Z.charCodeAt(++W),$===43||$===45)$=Z.charCodeAt(++W);W=$81(Y,W,$),$=Z.charCodeAt(W)}if($===46||(0,uU.isNameStart)($))throw(0,NJ.syntaxError)(Y.source,W,`Invalid number, expected digit but got: ${c$(Y,W)}.`);return a6(Y,G?j0.TokenKind.FLOAT:j0.TokenKind.INT,J,W,Z.slice(J,W))}function $81(Y,J,X){if(!(0,uU.isDigit)(X))throw(0,NJ.syntaxError)(Y.source,J,`Invalid number, expected digit but got: ${c$(Y,J)}.`);let Z=Y.source.body,W=J+1;while((0,uU.isDigit)(Z.charCodeAt(W)))++W;return W}function lD6(Y,J){let X=Y.source.body,Z=X.length,W=J+1,$=W,G="";while(W<Z){let Q=X.charCodeAt(W);if(Q===34)return G+=X.slice($,W),a6(Y,j0.TokenKind.STRING,J,W+1,G);if(Q===92){G+=X.slice($,W);let U=X.charCodeAt(W+1)===117?X.charCodeAt(W+2)===123?pD6(Y,W):nD6(Y,W):iD6(Y,W);G+=U.value,W+=U.size,$=W;continue}if(Q===10||Q===13)break;if(wB(Q))++W;else if(Uk(X,W))W+=2;else throw(0,NJ.syntaxError)(Y.source,W,`Invalid character within String: ${c$(Y,W)}.`)}throw(0,NJ.syntaxError)(Y.source,W,"Unterminated string.")}function pD6(Y,J){let X=Y.source.body,Z=0,W=3;while(W<12){let $=X.charCodeAt(J+W++);if($===125){if(W<5||!wB(Z))break;return{value:String.fromCodePoint(Z),size:W}}if(Z=Z<<4|QA($),Z<0)break}throw(0,NJ.syntaxError)(Y.source,J,`Invalid Unicode escape sequence: "${X.slice(J,J+W)}".`)}function nD6(Y,J){let X=Y.source.body,Z=iI0(X,J+2);if(wB(Z))return{value:String.fromCodePoint(Z),size:6};if(aI0(Z)){if(X.charCodeAt(J+6)===92&&X.charCodeAt(J+7)===117){let W=iI0(X,J+8);if(sI0(W))return{value:String.fromCodePoint(Z,W),size:12}}}throw(0,NJ.syntaxError)(Y.source,J,`Invalid Unicode escape sequence: "${X.slice(J,J+6)}".`)}function iI0(Y,J){return QA(Y.charCodeAt(J))<<12|QA(Y.charCodeAt(J+1))<<8|QA(Y.charCodeAt(J+2))<<4|QA(Y.charCodeAt(J+3))}function QA(Y){return Y>=48&&Y<=57?Y-48:Y>=65&&Y<=70?Y-55:Y>=97&&Y<=102?Y-87:-1}function iD6(Y,J){let X=Y.source.body;switch(X.charCodeAt(J+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw(0,NJ.syntaxError)(Y.source,J,`Invalid character escape sequence: "${X.slice(J,J+2)}".`)}function oD6(Y,J){let X=Y.source.body,Z=X.length,W=Y.lineStart,$=J+3,G=$,Q="",U=[];while($<Z){let z=X.charCodeAt($);if(z===34&&X.charCodeAt($+1)===34&&X.charCodeAt($+2)===34){Q+=X.slice(G,$),U.push(Q);let H=a6(Y,j0.TokenKind.BLOCK_STRING,J,$+3,(0,gD6.dedentBlockStringLines)(U).join(`
`));return Y.line+=U.length-1,Y.lineStart=W,H}if(z===92&&X.charCodeAt($+1)===34&&X.charCodeAt($+2)===34&&X.charCodeAt($+3)===34){Q+=X.slice(G,$),G=$+1,$+=4;continue}if(z===10||z===13){if(Q+=X.slice(G,$),U.push(Q),z===13&&X.charCodeAt($+1)===10)$+=2;else++$;Q="",G=$,W=$;continue}if(wB(z))++$;else if(Uk(X,$))$+=2;else throw(0,NJ.syntaxError)(Y.source,$,`Invalid character within String: ${c$(Y,$)}.`)}throw(0,NJ.syntaxError)(Y.source,$,"Unterminated string.")}function tI0(Y,J){let X=Y.source.body,Z=X.length,W=J+1;while(W<Z){let $=X.charCodeAt(W);if((0,uU.isNameContinue)($))++W;else break}return a6(Y,j0.TokenKind.NAME,J,W,X.slice(J,W))}});var WD0=q((XD0)=>{Object.defineProperty(XD0,"__esModule",{value:!0});XD0.SchemaCoordinateLexer=void 0;var eD6=WA(),Yw6=RJ(),Jw6=$A(),l$=UA(),p$=DB();class JD0{line=1;lineStart=0;constructor(Y){let J=new Yw6.Token(p$.TokenKind.SOF,0,0,0,0);this.source=Y,this.lastToken=J,this.token=J}get[Symbol.toStringTag](){return"SchemaCoordinateLexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let Y=this.token;if(Y.kind!==p$.TokenKind.EOF){let J=Xw6(this,Y.end);Y.next=J,J.prev=Y,Y=J}return Y}}XD0.SchemaCoordinateLexer=JD0;function Xw6(Y,J){let X=Y.source.body,Z=X.length,W=J;if(W<Z){let $=X.charCodeAt(W);switch($){case 46:return(0,l$.createToken)(Y,p$.TokenKind.DOT,W,W+1);case 40:return(0,l$.createToken)(Y,p$.TokenKind.PAREN_L,W,W+1);case 41:return(0,l$.createToken)(Y,p$.TokenKind.PAREN_R,W,W+1);case 58:return(0,l$.createToken)(Y,p$.TokenKind.COLON,W,W+1);case 64:return(0,l$.createToken)(Y,p$.TokenKind.AT,W,W+1)}if((0,Jw6.isNameStart)($))return(0,l$.readName)(Y,W);throw(0,eD6.syntaxError)(Y.source,W,`Invalid character: ${(0,l$.printCodePointAt)(Y,W)}.`)}return(0,l$.createToken)(Y,p$.TokenKind.EOF,Z,Z)}});var V4=q((GD0)=>{Object.defineProperty(GD0,"__esModule",{value:!0});GD0.inspect=Ww6;var Zw6=10,$D0=2;function Ww6(Y){return zk(Y,[])}function zk(Y,J){switch(typeof Y){case"string":return JSON.stringify(Y);case"function":return Y.name?`[function ${Y.name}]`:"[function]";case"object":return $w6(Y,J);default:return String(Y)}}function $w6(Y,J){if(Y===null)return"null";if(J.includes(Y))return"[Circular]";let X=[...J,Y];if(Gw6(Y)){let Z=Y.toJSON();if(Z!==Y)return typeof Z==="string"?Z:zk(Z,X)}else if(Array.isArray(Y))return Uw6(Y,X);return Qw6(Y,X)}function Gw6(Y){return typeof Y.toJSON==="function"}function Qw6(Y,J){let X=Object.entries(Y);if(X.length===0)return"{}";if(J.length>$D0)return"["+zw6(Y)+"]";return"{ "+X.map(([W,$])=>W+": "+zk($,J)).join(", ")+" }"}function Uw6(Y,J){if(Y.length===0)return"[]";if(J.length>$D0)return"[Array]";let X=Math.min(Zw6,Y.length),Z=Y.length-X,W=[];for(let $=0;$<X;++$)W.push(zk(Y[$],J));if(Z===1)W.push("... 1 more item");else if(Z>1)W.push(`... ${Z} more items`);return"["+W.join(", ")+"]"}function zw6(Y){let J=Object.prototype.toString.call(Y).replace(/^\[object /,"").replace(/]$/,"");if(J==="Object"&&typeof Y.constructor==="function"){let X=Y.constructor.name;if(typeof X==="string"&&X!=="")return X}return J}});var zA=q((QD0)=>{Object.defineProperty(QD0,"__esModule",{value:!0});QD0.instanceOf=void 0;var Ow6=V4(),Kw6=globalThis.process&&!1,Bw6=Kw6?function(J,X){return J instanceof X}:function(J,X){if(J instanceof X)return!0;if(typeof J==="object"&&J!==null){var Z;let W=X.prototype[Symbol.toStringTag],$=Symbol.toStringTag in J?J[Symbol.toStringTag]:(Z=J.constructor)===null||Z===void 0?void 0:Z.name;if(W===$){let G=(0,Ow6.inspect)(J);throw Error(`Cannot use ${W} "${G}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};QD0.instanceOf=Bw6});var Hk=q((zD0)=>{Object.defineProperty(zD0,"__esModule",{value:!0});zD0.Source=void 0;zD0.isSource=Vw6;var G81=I9(),qw6=V4(),Fw6=zA();class Q81{constructor(Y,J="GraphQL request",X={line:1,column:1}){typeof Y==="string"||(0,G81.devAssert)(!1,`Body must be a string. Received: ${(0,qw6.inspect)(Y)}.`),this.body=Y,this.name=J,this.locationOffset=X,this.locationOffset.line>0||(0,G81.devAssert)(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,G81.devAssert)(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}zD0.Source=Q81;function Vw6(Y){return(0,Fw6.instanceOf)(Y,Q81)}});var dU=q((BD0)=>{Object.defineProperty(BD0,"__esModule",{value:!0});BD0.Parser=void 0;BD0.parse=Aw6;BD0.parseConstValue=Lw6;BD0.parseSchemaCoordinate=Ew6;BD0.parseType=Mw6;BD0.parseValue=Pw6;var n$=WA(),HA=RJ(),Dw6=IB(),K0=n0(),OD0=UA(),ww6=WD0(),Kk=Hk(),S1=DB();function Aw6(Y,J){let X=new mU(Y,J),Z=X.parseDocument();return Object.defineProperty(Z,"tokenCount",{enumerable:!1,value:X.tokenCount}),Z}function Pw6(Y,J){let X=new mU(Y,J);X.expectToken(S1.TokenKind.SOF);let Z=X.parseValueLiteral(!1);return X.expectToken(S1.TokenKind.EOF),Z}function Lw6(Y,J){let X=new mU(Y,J);X.expectToken(S1.TokenKind.SOF);let Z=X.parseConstValueLiteral();return X.expectToken(S1.TokenKind.EOF),Z}function Mw6(Y,J){let X=new mU(Y,J);X.expectToken(S1.TokenKind.SOF);let Z=X.parseTypeReference();return X.expectToken(S1.TokenKind.EOF),Z}function Ew6(Y){let J=(0,Kk.isSource)(Y)?Y:new Kk.Source(Y),X=new ww6.SchemaCoordinateLexer(J),Z=new mU(Y,{lexer:X});Z.expectToken(S1.TokenKind.SOF);let W=Z.parseSchemaCoordinate();return Z.expectToken(S1.TokenKind.EOF),W}class mU{constructor(Y,J={}){let{lexer:X,...Z}=J;if(X)this._lexer=X;else{let W=(0,Kk.isSource)(Y)?Y:new Kk.Source(Y);this._lexer=new OD0.Lexer(W)}this._options=Z,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){let Y=this.expectToken(S1.TokenKind.NAME);return this.node(Y,{kind:K0.Kind.NAME,value:Y.value})}parseDocument(){return this.node(this._lexer.token,{kind:K0.Kind.DOCUMENT,definitions:this.many(S1.TokenKind.SOF,this.parseDefinition,S1.TokenKind.EOF)})}parseDefinition(){if(this.peek(S1.TokenKind.BRACE_L))return this.parseOperationDefinition();let Y=this.peekDescription(),J=Y?this._lexer.lookahead():this._lexer.token;if(Y&&J.kind===S1.TokenKind.BRACE_L)throw(0,n$.syntaxError)(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are not supported on shorthand queries.");if(J.kind===S1.TokenKind.NAME){switch(J.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}switch(J.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition()}if(Y)throw(0,n$.syntaxError)(this._lexer.source,this._lexer.token.start,"Unexpected description, only GraphQL definitions support descriptions.");switch(J.value){case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(J)}parseOperationDefinition(){let Y=this._lexer.token;if(this.peek(S1.TokenKind.BRACE_L))return this.node(Y,{kind:K0.Kind.OPERATION_DEFINITION,operation:HA.OperationTypeNode.QUERY,description:void 0,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let J=this.parseDescription(),X=this.parseOperationType(),Z;if(this.peek(S1.TokenKind.NAME))Z=this.parseName();return this.node(Y,{kind:K0.Kind.OPERATION_DEFINITION,operation:X,description:J,name:Z,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let Y=this.expectToken(S1.TokenKind.NAME);switch(Y.value){case"query":return HA.OperationTypeNode.QUERY;case"mutation":return HA.OperationTypeNode.MUTATION;case"subscription":return HA.OperationTypeNode.SUBSCRIPTION}throw this.unexpected(Y)}parseVariableDefinitions(){return this.optionalMany(S1.TokenKind.PAREN_L,this.parseVariableDefinition,S1.TokenKind.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:K0.Kind.VARIABLE_DEFINITION,description:this.parseDescription(),variable:this.parseVariable(),type:(this.expectToken(S1.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(S1.TokenKind.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let Y=this._lexer.token;return this.expectToken(S1.TokenKind.DOLLAR),this.node(Y,{kind:K0.Kind.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:K0.Kind.SELECTION_SET,selections:this.many(S1.TokenKind.BRACE_L,this.parseSelection,S1.TokenKind.BRACE_R)})}parseSelection(){return this.peek(S1.TokenKind.SPREAD)?this.parseFragment():this.parseField()}parseField(){let Y=this._lexer.token,J=this.parseName(),X,Z;if(this.expectOptionalToken(S1.TokenKind.COLON))X=J,Z=this.parseName();else Z=J;return this.node(Y,{kind:K0.Kind.FIELD,alias:X,name:Z,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(S1.TokenKind.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(Y){let J=Y?this.parseConstArgument:this.parseArgument;return this.optionalMany(S1.TokenKind.PAREN_L,J,S1.TokenKind.PAREN_R)}parseArgument(Y=!1){let J=this._lexer.token,X=this.parseName();return this.expectToken(S1.TokenKind.COLON),this.node(J,{kind:K0.Kind.ARGUMENT,name:X,value:this.parseValueLiteral(Y)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let Y=this._lexer.token;this.expectToken(S1.TokenKind.SPREAD);let J=this.expectOptionalKeyword("on");if(!J&&this.peek(S1.TokenKind.NAME))return this.node(Y,{kind:K0.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)});return this.node(Y,{kind:K0.Kind.INLINE_FRAGMENT,typeCondition:J?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let Y=this._lexer.token,J=this.parseDescription();if(this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0)return this.node(Y,{kind:K0.Kind.FRAGMENT_DEFINITION,description:J,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()});return this.node(Y,{kind:K0.Kind.FRAGMENT_DEFINITION,description:J,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(Y){let J=this._lexer.token;switch(J.kind){case S1.TokenKind.BRACKET_L:return this.parseList(Y);case S1.TokenKind.BRACE_L:return this.parseObject(Y);case S1.TokenKind.INT:return this.advanceLexer(),this.node(J,{kind:K0.Kind.INT,value:J.value});case S1.TokenKind.FLOAT:return this.advanceLexer(),this.node(J,{kind:K0.Kind.FLOAT,value:J.value});case S1.TokenKind.STRING:case S1.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case S1.TokenKind.NAME:switch(this.advanceLexer(),J.value){case"true":return this.node(J,{kind:K0.Kind.BOOLEAN,value:!0});case"false":return this.node(J,{kind:K0.Kind.BOOLEAN,value:!1});case"null":return this.node(J,{kind:K0.Kind.NULL});default:return this.node(J,{kind:K0.Kind.ENUM,value:J.value})}case S1.TokenKind.DOLLAR:if(Y)if(this.expectToken(S1.TokenKind.DOLLAR),this._lexer.token.kind===S1.TokenKind.NAME){let X=this._lexer.token.value;throw(0,n$.syntaxError)(this._lexer.source,J.start,`Unexpected variable "$${X}" in constant value.`)}else throw this.unexpected(J);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let Y=this._lexer.token;return this.advanceLexer(),this.node(Y,{kind:K0.Kind.STRING,value:Y.value,block:Y.kind===S1.TokenKind.BLOCK_STRING})}parseList(Y){let J=()=>this.parseValueLiteral(Y);return this.node(this._lexer.token,{kind:K0.Kind.LIST,values:this.any(S1.TokenKind.BRACKET_L,J,S1.TokenKind.BRACKET_R)})}parseObject(Y){let J=()=>this.parseObjectField(Y);return this.node(this._lexer.token,{kind:K0.Kind.OBJECT,fields:this.any(S1.TokenKind.BRACE_L,J,S1.TokenKind.BRACE_R)})}parseObjectField(Y){let J=this._lexer.token,X=this.parseName();return this.expectToken(S1.TokenKind.COLON),this.node(J,{kind:K0.Kind.OBJECT_FIELD,name:X,value:this.parseValueLiteral(Y)})}parseDirectives(Y){let J=[];while(this.peek(S1.TokenKind.AT))J.push(this.parseDirective(Y));return J}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(Y){let J=this._lexer.token;return this.expectToken(S1.TokenKind.AT),this.node(J,{kind:K0.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(Y)})}parseTypeReference(){let Y=this._lexer.token,J;if(this.expectOptionalToken(S1.TokenKind.BRACKET_L)){let X=this.parseTypeReference();this.expectToken(S1.TokenKind.BRACKET_R),J=this.node(Y,{kind:K0.Kind.LIST_TYPE,type:X})}else J=this.parseNamedType();if(this.expectOptionalToken(S1.TokenKind.BANG))return this.node(Y,{kind:K0.Kind.NON_NULL_TYPE,type:J});return J}parseNamedType(){return this.node(this._lexer.token,{kind:K0.Kind.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(S1.TokenKind.STRING)||this.peek(S1.TokenKind.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let Y=this._lexer.token,J=this.parseDescription();this.expectKeyword("schema");let X=this.parseConstDirectives(),Z=this.many(S1.TokenKind.BRACE_L,this.parseOperationTypeDefinition,S1.TokenKind.BRACE_R);return this.node(Y,{kind:K0.Kind.SCHEMA_DEFINITION,description:J,directives:X,operationTypes:Z})}parseOperationTypeDefinition(){let Y=this._lexer.token,J=this.parseOperationType();this.expectToken(S1.TokenKind.COLON);let X=this.parseNamedType();return this.node(Y,{kind:K0.Kind.OPERATION_TYPE_DEFINITION,operation:J,type:X})}parseScalarTypeDefinition(){let Y=this._lexer.token,J=this.parseDescription();this.expectKeyword("scalar");let X=this.parseName(),Z=this.parseConstDirectives();return this.node(Y,{kind:K0.Kind.SCALAR_TYPE_DEFINITION,description:J,name:X,directives:Z})}parseObjectTypeDefinition(){let Y=this._lexer.token,J=this.parseDescription();this.expectKeyword("type");let X=this.parseName(),Z=this.parseImplementsInterfaces(),W=this.parseConstDirectives(),$=this.parseFieldsDefinition();return this.node(Y,{kind:K0.Kind.OBJECT_TYPE_DEFINITION,description:J,name:X,interfaces:Z,directives:W,fields:$})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(S1.TokenKind.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(S1.TokenKind.BRACE_L,this.parseFieldDefinition,S1.TokenKind.BRACE_R)}parseFieldDefinition(){let Y=this._lexer.token,J=this.parseDescription(),X=this.parseName(),Z=this.parseArgumentDefs();this.expectToken(S1.TokenKind.COLON);let W=this.parseTypeReference(),$=this.parseConstDirectives();return this.node(Y,{kind:K0.Kind.FIELD_DEFINITION,description:J,name:X,arguments:Z,type:W,directives:$})}parseArgumentDefs(){return this.optionalMany(S1.TokenKind.PAREN_L,this.parseInputValueDef,S1.TokenKind.PAREN_R)}parseInputValueDef(){let Y=this._lexer.token,J=this.parseDescription(),X=this.parseName();this.expectToken(S1.TokenKind.COLON);let Z=this.parseTypeReference(),W;if(this.expectOptionalToken(S1.TokenKind.EQUALS))W=this.parseConstValueLiteral();let $=this.parseConstDirectives();return this.node(Y,{kind:K0.Kind.INPUT_VALUE_DEFINITION,description:J,name:X,type:Z,defaultValue:W,directives:$})}parseInterfaceTypeDefinition(){let Y=this._lexer.token,J=this.parseDescription();this.expectKeyword("interface");let X=this.parseName(),Z=this.parseImplementsInterfaces(),W=this.parseConstDirectives(),$=this.parseFieldsDefinition();return this.node(Y,{kind:K0.Kind.INTERFACE_TYPE_DEFINITION,description:J,name:X,interfaces:Z,directives:W,fields:$})}parseUnionTypeDefinition(){let Y=this._lexer.token,J=this.parseDescription();this.expectKeyword("union");let X=this.parseName(),Z=this.parseConstDirectives(),W=this.parseUnionMemberTypes();return this.node(Y,{kind:K0.Kind.UNION_TYPE_DEFINITION,description:J,name:X,directives:Z,types:W})}parseUnionMemberTypes(){return this.expectOptionalToken(S1.TokenKind.EQUALS)?this.delimitedMany(S1.TokenKind.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let Y=this._lexer.token,J=this.parseDescription();this.expectKeyword("enum");let X=this.parseName(),Z=this.parseConstDirectives(),W=this.parseEnumValuesDefinition();return this.node(Y,{kind:K0.Kind.ENUM_TYPE_DEFINITION,description:J,name:X,directives:Z,values:W})}parseEnumValuesDefinition(){return this.optionalMany(S1.TokenKind.BRACE_L,this.parseEnumValueDefinition,S1.TokenKind.BRACE_R)}parseEnumValueDefinition(){let Y=this._lexer.token,J=this.parseDescription(),X=this.parseEnumValueName(),Z=this.parseConstDirectives();return this.node(Y,{kind:K0.Kind.ENUM_VALUE_DEFINITION,description:J,name:X,directives:Z})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw(0,n$.syntaxError)(this._lexer.source,this._lexer.token.start,`${Ok(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let Y=this._lexer.token,J=this.parseDescription();this.expectKeyword("input");let X=this.parseName(),Z=this.parseConstDirectives(),W=this.parseInputFieldsDefinition();return this.node(Y,{kind:K0.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:J,name:X,directives:Z,fields:W})}parseInputFieldsDefinition(){return this.optionalMany(S1.TokenKind.BRACE_L,this.parseInputValueDef,S1.TokenKind.BRACE_R)}parseTypeSystemExtension(){let Y=this._lexer.lookahead();if(Y.kind===S1.TokenKind.NAME)switch(Y.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(Y)}parseSchemaExtension(){let Y=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let J=this.parseConstDirectives(),X=this.optionalMany(S1.TokenKind.BRACE_L,this.parseOperationTypeDefinition,S1.TokenKind.BRACE_R);if(J.length===0&&X.length===0)throw this.unexpected();return this.node(Y,{kind:K0.Kind.SCHEMA_EXTENSION,directives:J,operationTypes:X})}parseScalarTypeExtension(){let Y=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let J=this.parseName(),X=this.parseConstDirectives();if(X.length===0)throw this.unexpected();return this.node(Y,{kind:K0.Kind.SCALAR_TYPE_EXTENSION,name:J,directives:X})}parseObjectTypeExtension(){let Y=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let J=this.parseName(),X=this.parseImplementsInterfaces(),Z=this.parseConstDirectives(),W=this.parseFieldsDefinition();if(X.length===0&&Z.length===0&&W.length===0)throw this.unexpected();return this.node(Y,{kind:K0.Kind.OBJECT_TYPE_EXTENSION,name:J,interfaces:X,directives:Z,fields:W})}parseInterfaceTypeExtension(){let Y=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let J=this.parseName(),X=this.parseImplementsInterfaces(),Z=this.parseConstDirectives(),W=this.parseFieldsDefinition();if(X.length===0&&Z.length===0&&W.length===0)throw this.unexpected();return this.node(Y,{kind:K0.Kind.INTERFACE_TYPE_EXTENSION,name:J,interfaces:X,directives:Z,fields:W})}parseUnionTypeExtension(){let Y=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let J=this.parseName(),X=this.parseConstDirectives(),Z=this.parseUnionMemberTypes();if(X.length===0&&Z.length===0)throw this.unexpected();return this.node(Y,{kind:K0.Kind.UNION_TYPE_EXTENSION,name:J,directives:X,types:Z})}parseEnumTypeExtension(){let Y=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let J=this.parseName(),X=this.parseConstDirectives(),Z=this.parseEnumValuesDefinition();if(X.length===0&&Z.length===0)throw this.unexpected();return this.node(Y,{kind:K0.Kind.ENUM_TYPE_EXTENSION,name:J,directives:X,values:Z})}parseInputObjectTypeExtension(){let Y=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let J=this.parseName(),X=this.parseConstDirectives(),Z=this.parseInputFieldsDefinition();if(X.length===0&&Z.length===0)throw this.unexpected();return this.node(Y,{kind:K0.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:J,directives:X,fields:Z})}parseDirectiveDefinition(){let Y=this._lexer.token,J=this.parseDescription();this.expectKeyword("directive"),this.expectToken(S1.TokenKind.AT);let X=this.parseName(),Z=this.parseArgumentDefs(),W=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let $=this.parseDirectiveLocations();return this.node(Y,{kind:K0.Kind.DIRECTIVE_DEFINITION,description:J,name:X,arguments:Z,repeatable:W,locations:$})}parseDirectiveLocations(){return this.delimitedMany(S1.TokenKind.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let Y=this._lexer.token,J=this.parseName();if(Object.prototype.hasOwnProperty.call(Dw6.DirectiveLocation,J.value))return J;throw this.unexpected(Y)}parseSchemaCoordinate(){let Y=this._lexer.token,J=this.expectOptionalToken(S1.TokenKind.AT),X=this.parseName(),Z;if(!J&&this.expectOptionalToken(S1.TokenKind.DOT))Z=this.parseName();let W;if((J||Z)&&this.expectOptionalToken(S1.TokenKind.PAREN_L))W=this.parseName(),this.expectToken(S1.TokenKind.COLON),this.expectToken(S1.TokenKind.PAREN_R);if(J){if(W)return this.node(Y,{kind:K0.Kind.DIRECTIVE_ARGUMENT_COORDINATE,name:X,argumentName:W});return this.node(Y,{kind:K0.Kind.DIRECTIVE_COORDINATE,name:X})}else if(Z){if(W)return this.node(Y,{kind:K0.Kind.ARGUMENT_COORDINATE,name:X,fieldName:Z,argumentName:W});return this.node(Y,{kind:K0.Kind.MEMBER_COORDINATE,name:X,memberName:Z})}return this.node(Y,{kind:K0.Kind.TYPE_COORDINATE,name:X})}node(Y,J){if(this._options.noLocation!==!0)J.loc=new HA.Location(Y,this._lexer.lastToken,this._lexer.source);return J}peek(Y){return this._lexer.token.kind===Y}expectToken(Y){let J=this._lexer.token;if(J.kind===Y)return this.advanceLexer(),J;throw(0,n$.syntaxError)(this._lexer.source,J.start,`Expected ${KD0(Y)}, found ${Ok(J)}.`)}expectOptionalToken(Y){if(this._lexer.token.kind===Y)return this.advanceLexer(),!0;return!1}expectKeyword(Y){let J=this._lexer.token;if(J.kind===S1.TokenKind.NAME&&J.value===Y)this.advanceLexer();else throw(0,n$.syntaxError)(this._lexer.source,J.start,`Expected "${Y}", found ${Ok(J)}.`)}expectOptionalKeyword(Y){let J=this._lexer.token;if(J.kind===S1.TokenKind.NAME&&J.value===Y)return this.advanceLexer(),!0;return!1}unexpected(Y){let J=Y!==null&&Y!==void 0?Y:this._lexer.token;return(0,n$.syntaxError)(this._lexer.source,J.start,`Unexpected ${Ok(J)}.`)}any(Y,J,X){this.expectToken(Y);let Z=[];while(!this.expectOptionalToken(X))Z.push(J.call(this));return Z}optionalMany(Y,J,X){if(this.expectOptionalToken(Y)){let Z=[];do Z.push(J.call(this));while(!this.expectOptionalToken(X));return Z}return[]}many(Y,J,X){this.expectToken(Y);let Z=[];do Z.push(J.call(this));while(!this.expectOptionalToken(X));return Z}delimitedMany(Y,J){this.expectOptionalToken(Y);let X=[];do X.push(J.call(this));while(this.expectOptionalToken(Y));return X}advanceLexer(){let{maxTokens:Y}=this._options,J=this._lexer.advance();if(J.kind!==S1.TokenKind.EOF){if(++this._tokenCounter,Y!==void 0&&this._tokenCounter>Y)throw(0,n$.syntaxError)(this._lexer.source,J.start,`Document contains more that ${Y} tokens. Parsing aborted.`)}}}BD0.Parser=mU;function Ok(Y){let J=Y.value;return KD0(Y.kind)+(J!=null?` "${J}"`:"")}function KD0(Y){return(0,OD0.isPunctuatorTokenKind)(Y)?`"${Y}"`:Y}});var i$=q((FD0)=>{Object.defineProperty(FD0,"__esModule",{value:!0});FD0.didYouMean=kw6;var jw6=5;function kw6(Y,J){let[X,Z]=J?[Y,J]:[void 0,Y],W=" Did you mean ";if(X)W+=X+" ";let $=Z.map((U)=>`"${U}"`);switch($.length){case 0:return"";case 1:return W+$[0]+"?";case 2:return W+$[0]+" or "+$[1]+"?"}let G=$.slice(0,jw6),Q=G.pop();return W+G.join(", ")+", or "+Q+"?"}});var ID0=q((VD0)=>{Object.defineProperty(VD0,"__esModule",{value:!0});VD0.identityFunc=xw6;function xw6(Y){return Y}});var o$=q((DD0)=>{Object.defineProperty(DD0,"__esModule",{value:!0});DD0.keyMap=vw6;function vw6(Y,J){let X=Object.create(null);for(let Z of Y)X[J(Z)]=Z;return X}});var OA=q((wD0)=>{Object.defineProperty(wD0,"__esModule",{value:!0});wD0.keyValMap=bw6;function bw6(Y,J,X){let Z=Object.create(null);for(let W of Y)Z[J(W)]=X(W);return Z}});var U81=q((AD0)=>{Object.defineProperty(AD0,"__esModule",{value:!0});AD0.mapValue=gw6;function gw6(Y,J){let X=Object.create(null);for(let Z of Object.keys(Y))X[Z]=J(Y[Z],Z);return X}});var KA=q((PD0)=>{Object.defineProperty(PD0,"__esModule",{value:!0});PD0.naturalCompare=mw6;function mw6(Y,J){let X=0,Z=0;while(X<Y.length&&Z<J.length){let W=Y.charCodeAt(X),$=J.charCodeAt(Z);if(Bk(W)&&Bk($)){let G=0;do++X,G=G*10+W-z81,W=Y.charCodeAt(X);while(Bk(W)&&G>0);let Q=0;do++Z,Q=Q*10+$-z81,$=J.charCodeAt(Z);while(Bk($)&&Q>0);if(G<Q)return-1;if(G>Q)return 1}else{if(W<$)return-1;if(W>$)return 1;++X,++Z}}return Y.length-J.length}var z81=48,dw6=57;function Bk(Y){return!isNaN(Y)&&z81<=Y&&Y<=dw6}});var r$=q((ED0)=>{Object.defineProperty(ED0,"__esModule",{value:!0});ED0.suggestionList=pw6;var lw6=KA();function pw6(Y,J){let X=Object.create(null),Z=new MD0(Y),W=Math.floor(Y.length*0.4)+1;for(let $ of J){let G=Z.measure($,W);if(G!==void 0)X[$]=G}return Object.keys(X).sort(($,G)=>{let Q=X[$]-X[G];return Q!==0?Q:(0,lw6.naturalCompare)($,G)})}class MD0{constructor(Y){this._input=Y,this._inputLowerCase=Y.toLowerCase(),this._inputArray=LD0(this._inputLowerCase),this._rows=[Array(Y.length+1).fill(0),Array(Y.length+1).fill(0),Array(Y.length+1).fill(0)]}measure(Y,J){if(this._input===Y)return 0;let X=Y.toLowerCase();if(this._inputLowerCase===X)return 1;let Z=LD0(X),W=this._inputArray;if(Z.length<W.length){let z=Z;Z=W,W=z}let $=Z.length,G=W.length;if($-G>J)return;let Q=this._rows;for(let z=0;z<=G;z++)Q[0][z]=z;for(let z=1;z<=$;z++){let H=Q[(z-1)%3],O=Q[z%3],K=O[0]=z;for(let B=1;B<=G;B++){let F=Z[z-1]===W[B-1]?0:1,V=Math.min(H[B]+1,O[B-1]+1,H[B-1]+F);if(z>1&&B>1&&Z[z-1]===W[B-2]&&Z[z-2]===W[B-1]){let I=Q[(z-2)%3][B-2];V=Math.min(V,I+1)}if(V<K)K=V;O[B]=V}if(K>J)return}let U=Q[$%3][G];return U<=J?U:void 0}}function LD0(Y){let J=Y.length,X=Array(J);for(let Z=0;Z<J;++Z)X[Z]=Y.charCodeAt(Z);return X}});var qk=q((TD0)=>{Object.defineProperty(TD0,"__esModule",{value:!0});TD0.toObjMap=iw6;function iw6(Y){if(Y==null)return Object.create(null);if(Object.getPrototypeOf(Y)===null)return Y;let J=Object.create(null);for(let[X,Z]of Object.entries(Y))J[X]=Z;return J}});var ND0=q((RD0)=>{Object.defineProperty(RD0,"__esModule",{value:!0});RD0.printString=rw6;function rw6(Y){return`"${Y.replace(aw6,sw6)}"`}var aw6=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function sw6(Y){return tw6[Y.charCodeAt(0)]}var tw6=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","","\\\"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"]});var cU=q((CD0)=>{Object.defineProperty(CD0,"__esModule",{value:!0});CD0.BREAK=void 0;CD0.getEnterLeaveForKind=Fk;CD0.getVisitFn=WA6;CD0.visit=XA6;CD0.visitInParallel=ZA6;var YA6=I9(),JA6=V4(),H81=RJ(),SD0=n0(),AB=Object.freeze({});CD0.BREAK=AB;function XA6(Y,J,X=H81.QueryDocumentKeys){let Z=new Map;for(let D of Object.values(SD0.Kind))Z.set(D,Fk(J,D));let W=void 0,$=Array.isArray(Y),G=[Y],Q=-1,U=[],z=Y,H=void 0,O=void 0,K=[],B=[];do{Q++;let D=Q===G.length,L=D&&U.length!==0;if(D){if(H=B.length===0?void 0:K[K.length-1],z=O,O=B.pop(),L)if($){z=z.slice();let P=0;for(let[R,N]of U){let v=R-P;if(N===null)z.splice(v,1),P++;else z[v]=N}}else{z={...z};for(let[P,R]of U)z[P]=R}Q=W.index,G=W.keys,U=W.edits,$=W.inArray,W=W.prev}else if(O){if(H=$?Q:G[Q],z=O[H],z===null||z===void 0)continue;K.push(H)}let A;if(!Array.isArray(z)){var F,V;(0,H81.isNode)(z)||(0,YA6.devAssert)(!1,`Invalid AST Node: ${(0,JA6.inspect)(z)}.`);let P=D?(F=Z.get(z.kind))===null||F===void 0?void 0:F.leave:(V=Z.get(z.kind))===null||V===void 0?void 0:V.enter;if(A=P===null||P===void 0?void 0:P.call(J,z,H,O,K,B),A===AB)break;if(A===!1){if(!D){K.pop();continue}}else if(A!==void 0){if(U.push([H,A]),!D)if((0,H81.isNode)(A))z=A;else{K.pop();continue}}}if(A===void 0&&L)U.push([H,z]);if(D)K.pop();else{var I;if(W={inArray:$,index:Q,keys:G,edits:U,prev:W},$=Array.isArray(z),G=$?z:(I=X[z.kind])!==null&&I!==void 0?I:[],Q=-1,U=[],O)B.push(O);O=z}}while(W!==void 0);if(U.length!==0)return U[U.length-1][1];return Y}function ZA6(Y){let J=Array(Y.length).fill(null),X=Object.create(null);for(let Z of Object.values(SD0.Kind)){let W=!1,$=Array(Y.length).fill(void 0),G=Array(Y.length).fill(void 0);for(let U=0;U<Y.length;++U){let{enter:z,leave:H}=Fk(Y[U],Z);W||(W=z!=null||H!=null),$[U]=z,G[U]=H}if(!W)continue;let Q={enter(...U){let z=U[0];for(let O=0;O<Y.length;O++)if(J[O]===null){var H;let K=(H=$[O])===null||H===void 0?void 0:H.apply(Y[O],U);if(K===!1)J[O]=z;else if(K===AB)J[O]=AB;else if(K!==void 0)return K}},leave(...U){let z=U[0];for(let O=0;O<Y.length;O++)if(J[O]===null){var H;let K=(H=G[O])===null||H===void 0?void 0:H.apply(Y[O],U);if(K===AB)J[O]=AB;else if(K!==void 0&&K!==!1)return K}else if(J[O]===z)J[O]=null}};X[Z]=Q}return X}function Fk(Y,J){let X=Y[J];if(typeof X==="object")return X;else if(typeof X==="function")return{enter:X,leave:void 0};return{enter:Y.enter,leave:Y.leave}}function WA6(Y,J,X){let{enter:Z,leave:W}=Fk(Y,J);return X?W:Z}});var P7=q((kD0)=>{Object.defineProperty(kD0,"__esModule",{value:!0});kD0.print=KA6;var zA6=GA(),HA6=ND0(),OA6=cU();function KA6(Y){return(0,OA6.visit)(Y,qA6)}var BA6=80,qA6={Name:{leave:(Y)=>Y.value},Variable:{leave:(Y)=>"$"+Y.name},Document:{leave:(Y)=>v1(Y.definitions,`

`)},OperationDefinition:{leave(Y){let J=O81(Y.variableDefinitions)?A0(`(
`,v1(Y.variableDefinitions,`
`),`
)`):A0("(",v1(Y.variableDefinitions,", "),")"),X=A0("",Y.description,`
`)+v1([Y.operation,v1([Y.name,J]),v1(Y.directives," ")]," ");return(X==="query"?"":X+" ")+Y.selectionSet}},VariableDefinition:{leave:({variable:Y,type:J,defaultValue:X,directives:Z,description:W})=>A0("",W,`
`)+Y+": "+J+A0(" = ",X)+A0(" ",v1(Z," "))},SelectionSet:{leave:({selections:Y})=>SJ(Y)},Field:{leave({alias:Y,name:J,arguments:X,directives:Z,selectionSet:W}){let $=A0("",Y,": ")+J,G=$+A0("(",v1(X,", "),")");if(G.length>BA6)G=$+A0(`(
`,Vk(v1(X,`
`)),`
)`);return v1([G,v1(Z," "),W]," ")}},Argument:{leave:({name:Y,value:J})=>Y+": "+J},FragmentSpread:{leave:({name:Y,directives:J})=>"..."+Y+A0(" ",v1(J," "))},InlineFragment:{leave:({typeCondition:Y,directives:J,selectionSet:X})=>v1(["...",A0("on ",Y),v1(J," "),X]," ")},FragmentDefinition:{leave:({name:Y,typeCondition:J,variableDefinitions:X,directives:Z,selectionSet:W,description:$})=>A0("",$,`
`)+`fragment ${Y}${A0("(",v1(X,", "),")")} on ${J} ${A0("",v1(Z," ")," ")}`+W},IntValue:{leave:({value:Y})=>Y},FloatValue:{leave:({value:Y})=>Y},StringValue:{leave:({value:Y,block:J})=>J?(0,zA6.printBlockString)(Y):(0,HA6.printString)(Y)},BooleanValue:{leave:({value:Y})=>Y?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:Y})=>Y},ListValue:{leave:({values:Y})=>"["+v1(Y,", ")+"]"},ObjectValue:{leave:({fields:Y})=>"{"+v1(Y,", ")+"}"},ObjectField:{leave:({name:Y,value:J})=>Y+": "+J},Directive:{leave:({name:Y,arguments:J})=>"@"+Y+A0("(",v1(J,", "),")")},NamedType:{leave:({name:Y})=>Y},ListType:{leave:({type:Y})=>"["+Y+"]"},NonNullType:{leave:({type:Y})=>Y+"!"},SchemaDefinition:{leave:({description:Y,directives:J,operationTypes:X})=>A0("",Y,`
`)+v1(["schema",v1(J," "),SJ(X)]," ")},OperationTypeDefinition:{leave:({operation:Y,type:J})=>Y+": "+J},ScalarTypeDefinition:{leave:({description:Y,name:J,directives:X})=>A0("",Y,`
`)+v1(["scalar",J,v1(X," ")]," ")},ObjectTypeDefinition:{leave:({description:Y,name:J,interfaces:X,directives:Z,fields:W})=>A0("",Y,`
`)+v1(["type",J,A0("implements ",v1(X," & ")),v1(Z," "),SJ(W)]," ")},FieldDefinition:{leave:({description:Y,name:J,arguments:X,type:Z,directives:W})=>A0("",Y,`
`)+J+(O81(X)?A0(`(
`,Vk(v1(X,`
`)),`
)`):A0("(",v1(X,", "),")"))+": "+Z+A0(" ",v1(W," "))},InputValueDefinition:{leave:({description:Y,name:J,type:X,defaultValue:Z,directives:W})=>A0("",Y,`
`)+v1([J+": "+X,A0("= ",Z),v1(W," ")]," ")},InterfaceTypeDefinition:{leave:({description:Y,name:J,interfaces:X,directives:Z,fields:W})=>A0("",Y,`
`)+v1(["interface",J,A0("implements ",v1(X," & ")),v1(Z," "),SJ(W)]," ")},UnionTypeDefinition:{leave:({description:Y,name:J,directives:X,types:Z})=>A0("",Y,`
`)+v1(["union",J,v1(X," "),A0("= ",v1(Z," | "))]," ")},EnumTypeDefinition:{leave:({description:Y,name:J,directives:X,values:Z})=>A0("",Y,`
`)+v1(["enum",J,v1(X," "),SJ(Z)]," ")},EnumValueDefinition:{leave:({description:Y,name:J,directives:X})=>A0("",Y,`
`)+v1([J,v1(X," ")]," ")},InputObjectTypeDefinition:{leave:({description:Y,name:J,directives:X,fields:Z})=>A0("",Y,`
`)+v1(["input",J,v1(X," "),SJ(Z)]," ")},DirectiveDefinition:{leave:({description:Y,name:J,arguments:X,repeatable:Z,locations:W})=>A0("",Y,`
`)+"directive @"+J+(O81(X)?A0(`(
`,Vk(v1(X,`
`)),`
)`):A0("(",v1(X,", "),")"))+(Z?" repeatable":"")+" on "+v1(W," | ")},SchemaExtension:{leave:({directives:Y,operationTypes:J})=>v1(["extend schema",v1(Y," "),SJ(J)]," ")},ScalarTypeExtension:{leave:({name:Y,directives:J})=>v1(["extend scalar",Y,v1(J," ")]," ")},ObjectTypeExtension:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>v1(["extend type",Y,A0("implements ",v1(J," & ")),v1(X," "),SJ(Z)]," ")},InterfaceTypeExtension:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>v1(["extend interface",Y,A0("implements ",v1(J," & ")),v1(X," "),SJ(Z)]," ")},UnionTypeExtension:{leave:({name:Y,directives:J,types:X})=>v1(["extend union",Y,v1(J," "),A0("= ",v1(X," | "))]," ")},EnumTypeExtension:{leave:({name:Y,directives:J,values:X})=>v1(["extend enum",Y,v1(J," "),SJ(X)]," ")},InputObjectTypeExtension:{leave:({name:Y,directives:J,fields:X})=>v1(["extend input",Y,v1(J," "),SJ(X)]," ")},TypeCoordinate:{leave:({name:Y})=>Y},MemberCoordinate:{leave:({name:Y,memberName:J})=>v1([Y,A0(".",J)])},ArgumentCoordinate:{leave:({name:Y,fieldName:J,argumentName:X})=>v1([Y,A0(".",J),A0("(",X,":)")])},DirectiveCoordinate:{leave:({name:Y})=>v1(["@",Y])},DirectiveArgumentCoordinate:{leave:({name:Y,argumentName:J})=>v1(["@",Y,A0("(",J,":)")])}};function v1(Y,J=""){var X;return(X=Y===null||Y===void 0?void 0:Y.filter((Z)=>Z).join(J))!==null&&X!==void 0?X:""}function SJ(Y){return A0(`{
`,Vk(v1(Y,`
`)),`
}`)}function A0(Y,J,X=""){return J!=null&&J!==""?Y+J+X:""}function Vk(Y){return A0("  ",Y.replace(/\n/g,`
  `))}function O81(Y){var J;return(J=Y===null||Y===void 0?void 0:Y.some((X)=>X.includes(`
`)))!==null&&J!==void 0?J:!1}});var B81=q((_D0)=>{Object.defineProperty(_D0,"__esModule",{value:!0});_D0.valueFromASTUntyped=K81;var VA6=OA(),bZ=n0();function K81(Y,J){switch(Y.kind){case bZ.Kind.NULL:return null;case bZ.Kind.INT:return parseInt(Y.value,10);case bZ.Kind.FLOAT:return parseFloat(Y.value);case bZ.Kind.STRING:case bZ.Kind.ENUM:case bZ.Kind.BOOLEAN:return Y.value;case bZ.Kind.LIST:return Y.values.map((X)=>K81(X,J));case bZ.Kind.OBJECT:return(0,VA6.keyValMap)(Y.fields,(X)=>X.name.value,(X)=>K81(X.value,J));case bZ.Kind.VARIABLE:return J===null||J===void 0?void 0:J[Y.name.value]}}});var BA=q((hD0)=>{Object.defineProperty(hD0,"__esModule",{value:!0});hD0.assertEnumValueName=DA6;hD0.assertName=vD0;var xD0=I9(),Ik=U0(),fD0=$A();function vD0(Y){if(Y!=null||(0,xD0.devAssert)(!1,"Must provide name."),typeof Y==="string"||(0,xD0.devAssert)(!1,"Expected name to be a string."),Y.length===0)throw new Ik.GraphQLError("Expected name to be a non-empty string.");for(let J=1;J<Y.length;++J)if(!(0,fD0.isNameContinue)(Y.charCodeAt(J)))throw new Ik.GraphQLError(`Names must only contain [_a-zA-Z0-9] but "${Y}" does not.`);if(!(0,fD0.isNameStart)(Y.charCodeAt(0)))throw new Ik.GraphQLError(`Names must start with [_a-zA-Z] but "${Y}" does not.`);return Y}function DA6(Y){if(Y==="true"||Y==="false"||Y==="null")throw new Ik.GraphQLError(`Enum values cannot be named: ${Y}`);return vD0(Y)}});var i0=q((aD0)=>{Object.defineProperty(aD0,"__esModule",{value:!0});aD0.GraphQLUnionType=aD0.GraphQLScalarType=aD0.GraphQLObjectType=aD0.GraphQLNonNull=aD0.GraphQLList=aD0.GraphQLInterfaceType=aD0.GraphQLInputObjectType=aD0.GraphQLEnumType=void 0;aD0.argsToArgsConfig=rD0;aD0.assertAbstractType=uA6;aD0.assertCompositeType=gA6;aD0.assertEnumType=_A6;aD0.assertInputObjectType=xA6;aD0.assertInputType=hA6;aD0.assertInterfaceType=jA6;aD0.assertLeafType=yA6;aD0.assertListType=fA6;aD0.assertNamedType=lA6;aD0.assertNonNullType=vA6;aD0.assertNullableType=dA6;aD0.assertObjectType=CA6;aD0.assertOutputType=bA6;aD0.assertScalarType=SA6;aD0.assertType=NA6;aD0.assertUnionType=kA6;aD0.assertWrappingType=mA6;aD0.defineArguments=iD0;aD0.getNamedType=pA6;aD0.getNullableType=cA6;aD0.isAbstractType=cD0;aD0.isCompositeType=dD0;aD0.isEnumType=iU;aD0.isInputObjectType=FA;aD0.isInputType=q81;aD0.isInterfaceType=pU;aD0.isLeafType=mD0;aD0.isListType=Pk;aD0.isNamedType=lD0;aD0.isNonNullType=s$;aD0.isNullableType=D81;aD0.isObjectType=LB;aD0.isOutputType=F81;aD0.isRequiredArgument=nA6;aD0.isRequiredInputField=rA6;aD0.isScalarType=lU;aD0.isType=Ak;aD0.isUnionType=nU;aD0.isWrappingType=VA;aD0.resolveObjMapThunk=A81;aD0.resolveReadonlyArrayThunk=w81;var W5=I9(),PA6=i$(),bD0=ID0(),l4=V4(),a$=zA(),LA6=q3(),MA6=o$(),uD0=OA(),wk=U81(),EA6=r$(),F3=qk(),qA=U0(),TA6=n0(),yD0=P7(),RA6=B81(),V3=BA();function Ak(Y){return lU(Y)||LB(Y)||pU(Y)||nU(Y)||iU(Y)||FA(Y)||Pk(Y)||s$(Y)}function NA6(Y){if(!Ak(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL type.`);return Y}function lU(Y){return(0,a$.instanceOf)(Y,P81)}function SA6(Y){if(!lU(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL Scalar type.`);return Y}function LB(Y){return(0,a$.instanceOf)(Y,L81)}function CA6(Y){if(!LB(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL Object type.`);return Y}function pU(Y){return(0,a$.instanceOf)(Y,M81)}function jA6(Y){if(!pU(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL Interface type.`);return Y}function nU(Y){return(0,a$.instanceOf)(Y,E81)}function kA6(Y){if(!nU(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL Union type.`);return Y}function iU(Y){return(0,a$.instanceOf)(Y,T81)}function _A6(Y){if(!iU(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL Enum type.`);return Y}function FA(Y){return(0,a$.instanceOf)(Y,R81)}function xA6(Y){if(!FA(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL Input Object type.`);return Y}function Pk(Y){return(0,a$.instanceOf)(Y,V81)}function fA6(Y){if(!Pk(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL List type.`);return Y}function s$(Y){return(0,a$.instanceOf)(Y,I81)}function vA6(Y){if(!s$(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL Non-Null type.`);return Y}function q81(Y){return lU(Y)||iU(Y)||FA(Y)||VA(Y)&&q81(Y.ofType)}function hA6(Y){if(!q81(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL input type.`);return Y}function F81(Y){return lU(Y)||LB(Y)||pU(Y)||nU(Y)||iU(Y)||VA(Y)&&F81(Y.ofType)}function bA6(Y){if(!F81(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL output type.`);return Y}function mD0(Y){return lU(Y)||iU(Y)}function yA6(Y){if(!mD0(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL leaf type.`);return Y}function dD0(Y){return LB(Y)||pU(Y)||nU(Y)}function gA6(Y){if(!dD0(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL composite type.`);return Y}function cD0(Y){return pU(Y)||nU(Y)}function uA6(Y){if(!cD0(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL abstract type.`);return Y}class V81{constructor(Y){Ak(Y)||(0,W5.devAssert)(!1,`Expected ${(0,l4.inspect)(Y)} to be a GraphQL type.`),this.ofType=Y}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}aD0.GraphQLList=V81;class I81{constructor(Y){D81(Y)||(0,W5.devAssert)(!1,`Expected ${(0,l4.inspect)(Y)} to be a GraphQL nullable type.`),this.ofType=Y}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}aD0.GraphQLNonNull=I81;function VA(Y){return Pk(Y)||s$(Y)}function mA6(Y){if(!VA(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL wrapping type.`);return Y}function D81(Y){return Ak(Y)&&!s$(Y)}function dA6(Y){if(!D81(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL nullable type.`);return Y}function cA6(Y){if(Y)return s$(Y)?Y.ofType:Y}function lD0(Y){return lU(Y)||LB(Y)||pU(Y)||nU(Y)||iU(Y)||FA(Y)}function lA6(Y){if(!lD0(Y))throw Error(`Expected ${(0,l4.inspect)(Y)} to be a GraphQL named type.`);return Y}function pA6(Y){if(Y){let J=Y;while(VA(J))J=J.ofType;return J}}function w81(Y){return typeof Y==="function"?Y():Y}function A81(Y){return typeof Y==="function"?Y():Y}class P81{constructor(Y){var J,X,Z,W;let $=(J=Y.parseValue)!==null&&J!==void 0?J:bD0.identityFunc;if(this.name=(0,V3.assertName)(Y.name),this.description=Y.description,this.specifiedByURL=Y.specifiedByURL,this.serialize=(X=Y.serialize)!==null&&X!==void 0?X:bD0.identityFunc,this.parseValue=$,this.parseLiteral=(Z=Y.parseLiteral)!==null&&Z!==void 0?Z:(G,Q)=>$((0,RA6.valueFromASTUntyped)(G,Q)),this.extensions=(0,F3.toObjMap)(Y.extensions),this.astNode=Y.astNode,this.extensionASTNodes=(W=Y.extensionASTNodes)!==null&&W!==void 0?W:[],Y.specifiedByURL==null||typeof Y.specifiedByURL==="string"||(0,W5.devAssert)(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${(0,l4.inspect)(Y.specifiedByURL)}.`),Y.serialize==null||typeof Y.serialize==="function"||(0,W5.devAssert)(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),Y.parseLiteral)typeof Y.parseValue==="function"&&typeof Y.parseLiteral==="function"||(0,W5.devAssert)(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`)}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}aD0.GraphQLScalarType=P81;class L81{constructor(Y){var J;this.name=(0,V3.assertName)(Y.name),this.description=Y.description,this.isTypeOf=Y.isTypeOf,this.extensions=(0,F3.toObjMap)(Y.extensions),this.astNode=Y.astNode,this.extensionASTNodes=(J=Y.extensionASTNodes)!==null&&J!==void 0?J:[],this._fields=()=>nD0(Y),this._interfaces=()=>pD0(Y),Y.isTypeOf==null||typeof Y.isTypeOf==="function"||(0,W5.devAssert)(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${(0,l4.inspect)(Y.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){if(typeof this._fields==="function")this._fields=this._fields();return this._fields}getInterfaces(){if(typeof this._interfaces==="function")this._interfaces=this._interfaces();return this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:oD0(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}aD0.GraphQLObjectType=L81;function pD0(Y){var J;let X=w81((J=Y.interfaces)!==null&&J!==void 0?J:[]);return Array.isArray(X)||(0,W5.devAssert)(!1,`${Y.name} interfaces must be an Array or a function which returns an Array.`),X}function nD0(Y){let J=A81(Y.fields);return PB(J)||(0,W5.devAssert)(!1,`${Y.name} fields must be an object with field names as keys or a function which returns such an object.`),(0,wk.mapValue)(J,(X,Z)=>{var W;PB(X)||(0,W5.devAssert)(!1,`${Y.name}.${Z} field config must be an object.`),X.resolve==null||typeof X.resolve==="function"||(0,W5.devAssert)(!1,`${Y.name}.${Z} field resolver must be a function if provided, but got: ${(0,l4.inspect)(X.resolve)}.`);let $=(W=X.args)!==null&&W!==void 0?W:{};return PB($)||(0,W5.devAssert)(!1,`${Y.name}.${Z} args must be an object with argument names as keys.`),{name:(0,V3.assertName)(Z),description:X.description,type:X.type,args:iD0($),resolve:X.resolve,subscribe:X.subscribe,deprecationReason:X.deprecationReason,extensions:(0,F3.toObjMap)(X.extensions),astNode:X.astNode}})}function iD0(Y){return Object.entries(Y).map(([J,X])=>({name:(0,V3.assertName)(J),description:X.description,type:X.type,defaultValue:X.defaultValue,deprecationReason:X.deprecationReason,extensions:(0,F3.toObjMap)(X.extensions),astNode:X.astNode}))}function PB(Y){return(0,LA6.isObjectLike)(Y)&&!Array.isArray(Y)}function oD0(Y){return(0,wk.mapValue)(Y,(J)=>({description:J.description,type:J.type,args:rD0(J.args),resolve:J.resolve,subscribe:J.subscribe,deprecationReason:J.deprecationReason,extensions:J.extensions,astNode:J.astNode}))}function rD0(Y){return(0,uD0.keyValMap)(Y,(J)=>J.name,(J)=>({description:J.description,type:J.type,defaultValue:J.defaultValue,deprecationReason:J.deprecationReason,extensions:J.extensions,astNode:J.astNode}))}function nA6(Y){return s$(Y.type)&&Y.defaultValue===void 0}class M81{constructor(Y){var J;this.name=(0,V3.assertName)(Y.name),this.description=Y.description,this.resolveType=Y.resolveType,this.extensions=(0,F3.toObjMap)(Y.extensions),this.astNode=Y.astNode,this.extensionASTNodes=(J=Y.extensionASTNodes)!==null&&J!==void 0?J:[],this._fields=nD0.bind(void 0,Y),this._interfaces=pD0.bind(void 0,Y),Y.resolveType==null||typeof Y.resolveType==="function"||(0,W5.devAssert)(!1,`${this.name} must provide "resolveType" as a function, but got: ${(0,l4.inspect)(Y.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){if(typeof this._fields==="function")this._fields=this._fields();return this._fields}getInterfaces(){if(typeof this._interfaces==="function")this._interfaces=this._interfaces();return this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:oD0(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}aD0.GraphQLInterfaceType=M81;class E81{constructor(Y){var J;this.name=(0,V3.assertName)(Y.name),this.description=Y.description,this.resolveType=Y.resolveType,this.extensions=(0,F3.toObjMap)(Y.extensions),this.astNode=Y.astNode,this.extensionASTNodes=(J=Y.extensionASTNodes)!==null&&J!==void 0?J:[],this._types=iA6.bind(void 0,Y),Y.resolveType==null||typeof Y.resolveType==="function"||(0,W5.devAssert)(!1,`${this.name} must provide "resolveType" as a function, but got: ${(0,l4.inspect)(Y.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){if(typeof this._types==="function")this._types=this._types();return this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}aD0.GraphQLUnionType=E81;function iA6(Y){let J=w81(Y.types);return Array.isArray(J)||(0,W5.devAssert)(!1,`Must provide Array of types or a function which returns such an array for Union ${Y.name}.`),J}class T81{constructor(Y){var J;this.name=(0,V3.assertName)(Y.name),this.description=Y.description,this.extensions=(0,F3.toObjMap)(Y.extensions),this.astNode=Y.astNode,this.extensionASTNodes=(J=Y.extensionASTNodes)!==null&&J!==void 0?J:[],this._values=typeof Y.values==="function"?Y.values:gD0(this.name,Y.values),this._valueLookup=null,this._nameLookup=null}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){if(typeof this._values==="function")this._values=gD0(this.name,this._values());return this._values}getValue(Y){if(this._nameLookup===null)this._nameLookup=(0,MA6.keyMap)(this.getValues(),(J)=>J.name);return this._nameLookup[Y]}serialize(Y){if(this._valueLookup===null)this._valueLookup=new Map(this.getValues().map((X)=>[X.value,X]));let J=this._valueLookup.get(Y);if(J===void 0)throw new qA.GraphQLError(`Enum "${this.name}" cannot represent value: ${(0,l4.inspect)(Y)}`);return J.name}parseValue(Y){if(typeof Y!=="string"){let X=(0,l4.inspect)(Y);throw new qA.GraphQLError(`Enum "${this.name}" cannot represent non-string value: ${X}.`+Dk(this,X))}let J=this.getValue(Y);if(J==null)throw new qA.GraphQLError(`Value "${Y}" does not exist in "${this.name}" enum.`+Dk(this,Y));return J.value}parseLiteral(Y,J){if(Y.kind!==TA6.Kind.ENUM){let Z=(0,yD0.print)(Y);throw new qA.GraphQLError(`Enum "${this.name}" cannot represent non-enum value: ${Z}.`+Dk(this,Z),{nodes:Y})}let X=this.getValue(Y.value);if(X==null){let Z=(0,yD0.print)(Y);throw new qA.GraphQLError(`Value "${Z}" does not exist in "${this.name}" enum.`+Dk(this,Z),{nodes:Y})}return X.value}toConfig(){let Y=(0,uD0.keyValMap)(this.getValues(),(J)=>J.name,(J)=>({description:J.description,value:J.value,deprecationReason:J.deprecationReason,extensions:J.extensions,astNode:J.astNode}));return{name:this.name,description:this.description,values:Y,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}aD0.GraphQLEnumType=T81;function Dk(Y,J){let X=Y.getValues().map((W)=>W.name),Z=(0,EA6.suggestionList)(J,X);return(0,PA6.didYouMean)("the enum value",Z)}function gD0(Y,J){return PB(J)||(0,W5.devAssert)(!1,`${Y} values must be an object with value names as keys.`),Object.entries(J).map(([X,Z])=>{return PB(Z)||(0,W5.devAssert)(!1,`${Y}.${X} must refer to an object with a "value" key representing an internal value but got: ${(0,l4.inspect)(Z)}.`),{name:(0,V3.assertEnumValueName)(X),description:Z.description,value:Z.value!==void 0?Z.value:X,deprecationReason:Z.deprecationReason,extensions:(0,F3.toObjMap)(Z.extensions),astNode:Z.astNode}})}class R81{constructor(Y){var J,X;this.name=(0,V3.assertName)(Y.name),this.description=Y.description,this.extensions=(0,F3.toObjMap)(Y.extensions),this.astNode=Y.astNode,this.extensionASTNodes=(J=Y.extensionASTNodes)!==null&&J!==void 0?J:[],this.isOneOf=(X=Y.isOneOf)!==null&&X!==void 0?X:!1,this._fields=oA6.bind(void 0,Y)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){if(typeof this._fields==="function")this._fields=this._fields();return this._fields}toConfig(){let Y=(0,wk.mapValue)(this.getFields(),(J)=>({description:J.description,type:J.type,defaultValue:J.defaultValue,deprecationReason:J.deprecationReason,extensions:J.extensions,astNode:J.astNode}));return{name:this.name,description:this.description,fields:Y,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,isOneOf:this.isOneOf}}toString(){return this.name}toJSON(){return this.toString()}}aD0.GraphQLInputObjectType=R81;function oA6(Y){let J=A81(Y.fields);return PB(J)||(0,W5.devAssert)(!1,`${Y.name} fields must be an object with field names as keys or a function which returns such an object.`),(0,wk.mapValue)(J,(X,Z)=>{return!("resolve"in X)||(0,W5.devAssert)(!1,`${Y.name}.${Z} field has a resolve property, but Input Types cannot define resolvers.`),{name:(0,V3.assertName)(Z),description:X.description,type:X.type,defaultValue:X.defaultValue,deprecationReason:X.deprecationReason,extensions:(0,F3.toObjMap)(X.extensions),astNode:X.astNode}})}function rA6(Y){return s$(Y.type)&&Y.defaultValue===void 0}});var IA=q((tD0)=>{Object.defineProperty(tD0,"__esModule",{value:!0});tD0.doTypesOverlap=pP6;tD0.isEqualType=N81;tD0.isTypeSubTypeOf=Lk;var c5=i0();function N81(Y,J){if(Y===J)return!0;if((0,c5.isNonNullType)(Y)&&(0,c5.isNonNullType)(J))return N81(Y.ofType,J.ofType);if((0,c5.isListType)(Y)&&(0,c5.isListType)(J))return N81(Y.ofType,J.ofType);return!1}function Lk(Y,J,X){if(J===X)return!0;if((0,c5.isNonNullType)(X)){if((0,c5.isNonNullType)(J))return Lk(Y,J.ofType,X.ofType);return!1}if((0,c5.isNonNullType)(J))return Lk(Y,J.ofType,X);if((0,c5.isListType)(X)){if((0,c5.isListType)(J))return Lk(Y,J.ofType,X.ofType);return!1}if((0,c5.isListType)(J))return!1;return(0,c5.isAbstractType)(X)&&((0,c5.isInterfaceType)(J)||(0,c5.isObjectType)(J))&&Y.isSubType(X,J)}function pP6(Y,J,X){if(J===X)return!0;if((0,c5.isAbstractType)(J)){if((0,c5.isAbstractType)(X))return Y.getPossibleTypes(J).some((Z)=>Y.isSubType(X,Z));return Y.isSubType(J,X)}if((0,c5.isAbstractType)(X))return Y.isSubType(X,J);return!1}});var I3=q((Gw0)=>{Object.defineProperty(Gw0,"__esModule",{value:!0});Gw0.GraphQLString=Gw0.GraphQLInt=Gw0.GraphQLID=Gw0.GraphQLFloat=Gw0.GraphQLBoolean=Gw0.GRAPHQL_MIN_INT=Gw0.GRAPHQL_MAX_INT=void 0;Gw0.isSpecifiedScalarType=rP6;Gw0.specifiedScalarTypes=void 0;var CJ=V4(),eD0=q3(),$5=U0(),oU=n0(),DA=P7(),wA=i0(),Mk=2147483647;Gw0.GRAPHQL_MAX_INT=Mk;var Ek=-2147483648;Gw0.GRAPHQL_MIN_INT=Ek;var Yw0=new wA.GraphQLScalarType({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(Y){let J=AA(Y);if(typeof J==="boolean")return J?1:0;let X=J;if(typeof J==="string"&&J!=="")X=Number(J);if(typeof X!=="number"||!Number.isInteger(X))throw new $5.GraphQLError(`Int cannot represent non-integer value: ${(0,CJ.inspect)(J)}`);if(X>Mk||X<Ek)throw new $5.GraphQLError("Int cannot represent non 32-bit signed integer value: "+(0,CJ.inspect)(J));return X},parseValue(Y){if(typeof Y!=="number"||!Number.isInteger(Y))throw new $5.GraphQLError(`Int cannot represent non-integer value: ${(0,CJ.inspect)(Y)}`);if(Y>Mk||Y<Ek)throw new $5.GraphQLError(`Int cannot represent non 32-bit signed integer value: ${Y}`);return Y},parseLiteral(Y){if(Y.kind!==oU.Kind.INT)throw new $5.GraphQLError(`Int cannot represent non-integer value: ${(0,DA.print)(Y)}`,{nodes:Y});let J=parseInt(Y.value,10);if(J>Mk||J<Ek)throw new $5.GraphQLError(`Int cannot represent non 32-bit signed integer value: ${Y.value}`,{nodes:Y});return J}});Gw0.GraphQLInt=Yw0;var Jw0=new wA.GraphQLScalarType({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(Y){let J=AA(Y);if(typeof J==="boolean")return J?1:0;let X=J;if(typeof J==="string"&&J!=="")X=Number(J);if(typeof X!=="number"||!Number.isFinite(X))throw new $5.GraphQLError(`Float cannot represent non numeric value: ${(0,CJ.inspect)(J)}`);return X},parseValue(Y){if(typeof Y!=="number"||!Number.isFinite(Y))throw new $5.GraphQLError(`Float cannot represent non numeric value: ${(0,CJ.inspect)(Y)}`);return Y},parseLiteral(Y){if(Y.kind!==oU.Kind.FLOAT&&Y.kind!==oU.Kind.INT)throw new $5.GraphQLError(`Float cannot represent non numeric value: ${(0,DA.print)(Y)}`,Y);return parseFloat(Y.value)}});Gw0.GraphQLFloat=Jw0;var Xw0=new wA.GraphQLScalarType({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(Y){let J=AA(Y);if(typeof J==="string")return J;if(typeof J==="boolean")return J?"true":"false";if(typeof J==="number"&&Number.isFinite(J))return J.toString();throw new $5.GraphQLError(`String cannot represent value: ${(0,CJ.inspect)(Y)}`)},parseValue(Y){if(typeof Y!=="string")throw new $5.GraphQLError(`String cannot represent a non string value: ${(0,CJ.inspect)(Y)}`);return Y},parseLiteral(Y){if(Y.kind!==oU.Kind.STRING)throw new $5.GraphQLError(`String cannot represent a non string value: ${(0,DA.print)(Y)}`,{nodes:Y});return Y.value}});Gw0.GraphQLString=Xw0;var Zw0=new wA.GraphQLScalarType({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(Y){let J=AA(Y);if(typeof J==="boolean")return J;if(Number.isFinite(J))return J!==0;throw new $5.GraphQLError(`Boolean cannot represent a non boolean value: ${(0,CJ.inspect)(J)}`)},parseValue(Y){if(typeof Y!=="boolean")throw new $5.GraphQLError(`Boolean cannot represent a non boolean value: ${(0,CJ.inspect)(Y)}`);return Y},parseLiteral(Y){if(Y.kind!==oU.Kind.BOOLEAN)throw new $5.GraphQLError(`Boolean cannot represent a non boolean value: ${(0,DA.print)(Y)}`,{nodes:Y});return Y.value}});Gw0.GraphQLBoolean=Zw0;var Ww0=new wA.GraphQLScalarType({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(Y){let J=AA(Y);if(typeof J==="string")return J;if(Number.isInteger(J))return String(J);throw new $5.GraphQLError(`ID cannot represent value: ${(0,CJ.inspect)(Y)}`)},parseValue(Y){if(typeof Y==="string")return Y;if(typeof Y==="number"&&Number.isInteger(Y))return Y.toString();throw new $5.GraphQLError(`ID cannot represent value: ${(0,CJ.inspect)(Y)}`)},parseLiteral(Y){if(Y.kind!==oU.Kind.STRING&&Y.kind!==oU.Kind.INT)throw new $5.GraphQLError("ID cannot represent a non-string and non-integer value: "+(0,DA.print)(Y),{nodes:Y});return Y.value}});Gw0.GraphQLID=Ww0;var $w0=Object.freeze([Xw0,Yw0,Jw0,Zw0,Ww0]);Gw0.specifiedScalarTypes=$w0;function rP6(Y){return $w0.some(({name:J})=>Y.name===J)}function AA(Y){if((0,eD0.isObjectLike)(Y)){if(typeof Y.valueOf==="function"){let J=Y.valueOf();if(!(0,eD0.isObjectLike)(J))return J}if(typeof Y.toJSON==="function")return Y.toJSON()}return Y}});var o9=q((Dw0)=>{Object.defineProperty(Dw0,"__esModule",{value:!0});Dw0.GraphQLSpecifiedByDirective=Dw0.GraphQLSkipDirective=Dw0.GraphQLOneOfDirective=Dw0.GraphQLIncludeDirective=Dw0.GraphQLDirective=Dw0.GraphQLDeprecatedDirective=Dw0.DEFAULT_DEPRECATION_REASON=void 0;Dw0.assertDirective=UL6;Dw0.isDirective=Hw0;Dw0.isSpecifiedDirective=zL6;Dw0.specifiedDirectives=void 0;var zw0=I9(),ZL6=V4(),WL6=zA(),$L6=q3(),GL6=qk(),PY=IB(),QL6=BA(),PA=i0(),Tk=I3();function Hw0(Y){return(0,WL6.instanceOf)(Y,t$)}function UL6(Y){if(!Hw0(Y))throw Error(`Expected ${(0,ZL6.inspect)(Y)} to be a GraphQL directive.`);return Y}class t${constructor(Y){var J,X;this.name=(0,QL6.assertName)(Y.name),this.description=Y.description,this.locations=Y.locations,this.isRepeatable=(J=Y.isRepeatable)!==null&&J!==void 0?J:!1,this.extensions=(0,GL6.toObjMap)(Y.extensions),this.astNode=Y.astNode,Array.isArray(Y.locations)||(0,zw0.devAssert)(!1,`@${Y.name} locations must be an Array.`);let Z=(X=Y.args)!==null&&X!==void 0?X:{};(0,$L6.isObjectLike)(Z)&&!Array.isArray(Z)||(0,zw0.devAssert)(!1,`@${Y.name} args must be an object with argument names as keys.`),this.args=(0,PA.defineArguments)(Z)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:(0,PA.argsToArgsConfig)(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}Dw0.GraphQLDirective=t$;var Ow0=new t$({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[PY.DirectiveLocation.FIELD,PY.DirectiveLocation.FRAGMENT_SPREAD,PY.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new PA.GraphQLNonNull(Tk.GraphQLBoolean),description:"Included when true."}}});Dw0.GraphQLIncludeDirective=Ow0;var Kw0=new t$({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[PY.DirectiveLocation.FIELD,PY.DirectiveLocation.FRAGMENT_SPREAD,PY.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new PA.GraphQLNonNull(Tk.GraphQLBoolean),description:"Skipped when true."}}});Dw0.GraphQLSkipDirective=Kw0;var Bw0="No longer supported";Dw0.DEFAULT_DEPRECATION_REASON=Bw0;var qw0=new t$({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[PY.DirectiveLocation.FIELD_DEFINITION,PY.DirectiveLocation.ARGUMENT_DEFINITION,PY.DirectiveLocation.INPUT_FIELD_DEFINITION,PY.DirectiveLocation.ENUM_VALUE],args:{reason:{type:Tk.GraphQLString,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:Bw0}}});Dw0.GraphQLDeprecatedDirective=qw0;var Fw0=new t$({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[PY.DirectiveLocation.SCALAR],args:{url:{type:new PA.GraphQLNonNull(Tk.GraphQLString),description:"The URL that specifies the behavior of this scalar."}}});Dw0.GraphQLSpecifiedByDirective=Fw0;var Vw0=new t$({name:"oneOf",description:"Indicates exactly one field must be supplied and this field must not be `null`.",locations:[PY.DirectiveLocation.INPUT_OBJECT],args:{}});Dw0.GraphQLOneOfDirective=Vw0;var Iw0=Object.freeze([Ow0,Kw0,qw0,Fw0,Vw0]);Dw0.specifiedDirectives=Iw0;function zL6(Y){return Iw0.some(({name:J})=>J===Y.name)}});var Rk=q((Pw0)=>{Object.defineProperty(Pw0,"__esModule",{value:!0});Pw0.isIterableObject=wL6;function wL6(Y){return typeof Y==="object"&&typeof(Y===null||Y===void 0?void 0:Y[Symbol.iterator])==="function"}});var EA=q((Ew0)=>{Object.defineProperty(Ew0,"__esModule",{value:!0});Ew0.astFromValue=MA;var Lw0=V4(),PL6=d5(),LL6=Rk(),ML6=q3(),LY=n0(),LA=i0(),EL6=I3();function MA(Y,J){if((0,LA.isNonNullType)(J)){let X=MA(Y,J.ofType);if((X===null||X===void 0?void 0:X.kind)===LY.Kind.NULL)return null;return X}if(Y===null)return{kind:LY.Kind.NULL};if(Y===void 0)return null;if((0,LA.isListType)(J)){let X=J.ofType;if((0,LL6.isIterableObject)(Y)){let Z=[];for(let W of Y){let $=MA(W,X);if($!=null)Z.push($)}return{kind:LY.Kind.LIST,values:Z}}return MA(Y,X)}if((0,LA.isInputObjectType)(J)){if(!(0,ML6.isObjectLike)(Y))return null;let X=[];for(let Z of Object.values(J.getFields())){let W=MA(Y[Z.name],Z.type);if(W)X.push({kind:LY.Kind.OBJECT_FIELD,name:{kind:LY.Kind.NAME,value:Z.name},value:W})}return{kind:LY.Kind.OBJECT,fields:X}}if((0,LA.isLeafType)(J)){let X=J.serialize(Y);if(X==null)return null;if(typeof X==="boolean")return{kind:LY.Kind.BOOLEAN,value:X};if(typeof X==="number"&&Number.isFinite(X)){let Z=String(X);return Mw0.test(Z)?{kind:LY.Kind.INT,value:Z}:{kind:LY.Kind.FLOAT,value:Z}}if(typeof X==="string"){if((0,LA.isEnumType)(J))return{kind:LY.Kind.ENUM,value:X};if(J===EL6.GraphQLID&&Mw0.test(X))return{kind:LY.Kind.INT,value:X};return{kind:LY.Kind.STRING,value:X}}throw TypeError(`Cannot convert value to AST: ${(0,Lw0.inspect)(X)}.`)}(0,PL6.invariant)(!1,"Unexpected input type: "+(0,Lw0.inspect)(J))}var Mw0=/^-?(?:0|[1-9][0-9]*)$/});var EY=q((Rw0)=>{Object.defineProperty(Rw0,"__esModule",{value:!0});Rw0.introspectionTypes=Rw0.__TypeKind=Rw0.__Type=Rw0.__Schema=Rw0.__InputValue=Rw0.__Field=Rw0.__EnumValue=Rw0.__DirectiveLocation=Rw0.__Directive=Rw0.TypeNameMetaFieldDef=Rw0.TypeMetaFieldDef=Rw0.TypeKind=Rw0.SchemaMetaFieldDef=void 0;Rw0.isIntrospectionType=xL6;var RL6=V4(),NL6=d5(),h8=IB(),SL6=P7(),CL6=EA(),g1=i0(),h4=I3(),S81=new g1.GraphQLObjectType({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:h4.GraphQLString,resolve:(Y)=>Y.description},types:{description:"A list of all types supported by this server.",type:new g1.GraphQLNonNull(new g1.GraphQLList(new g1.GraphQLNonNull(MY))),resolve(Y){return Object.values(Y.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:new g1.GraphQLNonNull(MY),resolve:(Y)=>Y.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:MY,resolve:(Y)=>Y.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:MY,resolve:(Y)=>Y.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new g1.GraphQLNonNull(new g1.GraphQLList(new g1.GraphQLNonNull(C81))),resolve:(Y)=>Y.getDirectives()}})});Rw0.__Schema=S81;var C81=new g1.GraphQLObjectType({name:"__Directive",description:`A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.

In some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.`,fields:()=>({name:{type:new g1.GraphQLNonNull(h4.GraphQLString),resolve:(Y)=>Y.name},description:{type:h4.GraphQLString,resolve:(Y)=>Y.description},isRepeatable:{type:new g1.GraphQLNonNull(h4.GraphQLBoolean),resolve:(Y)=>Y.isRepeatable},locations:{type:new g1.GraphQLNonNull(new g1.GraphQLList(new g1.GraphQLNonNull(j81))),resolve:(Y)=>Y.locations},args:{type:new g1.GraphQLNonNull(new g1.GraphQLList(new g1.GraphQLNonNull(TA))),args:{includeDeprecated:{type:h4.GraphQLBoolean,defaultValue:!1}},resolve(Y,{includeDeprecated:J}){return J?Y.args:Y.args.filter((X)=>X.deprecationReason==null)}}})});Rw0.__Directive=C81;var j81=new g1.GraphQLEnumType({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:h8.DirectiveLocation.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:h8.DirectiveLocation.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:h8.DirectiveLocation.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:h8.DirectiveLocation.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:h8.DirectiveLocation.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:h8.DirectiveLocation.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:h8.DirectiveLocation.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:h8.DirectiveLocation.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:h8.DirectiveLocation.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:h8.DirectiveLocation.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:h8.DirectiveLocation.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:h8.DirectiveLocation.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:h8.DirectiveLocation.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:h8.DirectiveLocation.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:h8.DirectiveLocation.UNION,description:"Location adjacent to a union definition."},ENUM:{value:h8.DirectiveLocation.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:h8.DirectiveLocation.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:h8.DirectiveLocation.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:h8.DirectiveLocation.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}});Rw0.__DirectiveLocation=j81;var MY=new g1.GraphQLObjectType({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new g1.GraphQLNonNull(x81),resolve(Y){if((0,g1.isScalarType)(Y))return b8.SCALAR;if((0,g1.isObjectType)(Y))return b8.OBJECT;if((0,g1.isInterfaceType)(Y))return b8.INTERFACE;if((0,g1.isUnionType)(Y))return b8.UNION;if((0,g1.isEnumType)(Y))return b8.ENUM;if((0,g1.isInputObjectType)(Y))return b8.INPUT_OBJECT;if((0,g1.isListType)(Y))return b8.LIST;if((0,g1.isNonNullType)(Y))return b8.NON_NULL;(0,NL6.invariant)(!1,`Unexpected type: "${(0,RL6.inspect)(Y)}".`)}},name:{type:h4.GraphQLString,resolve:(Y)=>("name"in Y)?Y.name:void 0},description:{type:h4.GraphQLString,resolve:(Y)=>("description"in Y)?Y.description:void 0},specifiedByURL:{type:h4.GraphQLString,resolve:(Y)=>("specifiedByURL"in Y)?Y.specifiedByURL:void 0},fields:{type:new g1.GraphQLList(new g1.GraphQLNonNull(k81)),args:{includeDeprecated:{type:h4.GraphQLBoolean,defaultValue:!1}},resolve(Y,{includeDeprecated:J}){if((0,g1.isObjectType)(Y)||(0,g1.isInterfaceType)(Y)){let X=Object.values(Y.getFields());return J?X:X.filter((Z)=>Z.deprecationReason==null)}}},interfaces:{type:new g1.GraphQLList(new g1.GraphQLNonNull(MY)),resolve(Y){if((0,g1.isObjectType)(Y)||(0,g1.isInterfaceType)(Y))return Y.getInterfaces()}},possibleTypes:{type:new g1.GraphQLList(new g1.GraphQLNonNull(MY)),resolve(Y,J,X,{schema:Z}){if((0,g1.isAbstractType)(Y))return Z.getPossibleTypes(Y)}},enumValues:{type:new g1.GraphQLList(new g1.GraphQLNonNull(_81)),args:{includeDeprecated:{type:h4.GraphQLBoolean,defaultValue:!1}},resolve(Y,{includeDeprecated:J}){if((0,g1.isEnumType)(Y)){let X=Y.getValues();return J?X:X.filter((Z)=>Z.deprecationReason==null)}}},inputFields:{type:new g1.GraphQLList(new g1.GraphQLNonNull(TA)),args:{includeDeprecated:{type:h4.GraphQLBoolean,defaultValue:!1}},resolve(Y,{includeDeprecated:J}){if((0,g1.isInputObjectType)(Y)){let X=Object.values(Y.getFields());return J?X:X.filter((Z)=>Z.deprecationReason==null)}}},ofType:{type:MY,resolve:(Y)=>("ofType"in Y)?Y.ofType:void 0},isOneOf:{type:h4.GraphQLBoolean,resolve:(Y)=>{if((0,g1.isInputObjectType)(Y))return Y.isOneOf}}})});Rw0.__Type=MY;var k81=new g1.GraphQLObjectType({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new g1.GraphQLNonNull(h4.GraphQLString),resolve:(Y)=>Y.name},description:{type:h4.GraphQLString,resolve:(Y)=>Y.description},args:{type:new g1.GraphQLNonNull(new g1.GraphQLList(new g1.GraphQLNonNull(TA))),args:{includeDeprecated:{type:h4.GraphQLBoolean,defaultValue:!1}},resolve(Y,{includeDeprecated:J}){return J?Y.args:Y.args.filter((X)=>X.deprecationReason==null)}},type:{type:new g1.GraphQLNonNull(MY),resolve:(Y)=>Y.type},isDeprecated:{type:new g1.GraphQLNonNull(h4.GraphQLBoolean),resolve:(Y)=>Y.deprecationReason!=null},deprecationReason:{type:h4.GraphQLString,resolve:(Y)=>Y.deprecationReason}})});Rw0.__Field=k81;var TA=new g1.GraphQLObjectType({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new g1.GraphQLNonNull(h4.GraphQLString),resolve:(Y)=>Y.name},description:{type:h4.GraphQLString,resolve:(Y)=>Y.description},type:{type:new g1.GraphQLNonNull(MY),resolve:(Y)=>Y.type},defaultValue:{type:h4.GraphQLString,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(Y){let{type:J,defaultValue:X}=Y,Z=(0,CL6.astFromValue)(X,J);return Z?(0,SL6.print)(Z):null}},isDeprecated:{type:new g1.GraphQLNonNull(h4.GraphQLBoolean),resolve:(Y)=>Y.deprecationReason!=null},deprecationReason:{type:h4.GraphQLString,resolve:(Y)=>Y.deprecationReason}})});Rw0.__InputValue=TA;var _81=new g1.GraphQLObjectType({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new g1.GraphQLNonNull(h4.GraphQLString),resolve:(Y)=>Y.name},description:{type:h4.GraphQLString,resolve:(Y)=>Y.description},isDeprecated:{type:new g1.GraphQLNonNull(h4.GraphQLBoolean),resolve:(Y)=>Y.deprecationReason!=null},deprecationReason:{type:h4.GraphQLString,resolve:(Y)=>Y.deprecationReason}})});Rw0.__EnumValue=_81;var b8;Rw0.TypeKind=b8;(function(Y){Y.SCALAR="SCALAR",Y.OBJECT="OBJECT",Y.INTERFACE="INTERFACE",Y.UNION="UNION",Y.ENUM="ENUM",Y.INPUT_OBJECT="INPUT_OBJECT",Y.LIST="LIST",Y.NON_NULL="NON_NULL"})(b8||(Rw0.TypeKind=b8={}));var x81=new g1.GraphQLEnumType({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:b8.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:b8.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:b8.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:b8.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:b8.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:b8.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:b8.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:b8.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}});Rw0.__TypeKind=x81;var jL6={name:"__schema",type:new g1.GraphQLNonNull(S81),description:"Access the current type schema of this server.",args:[],resolve:(Y,J,X,{schema:Z})=>Z,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0};Rw0.SchemaMetaFieldDef=jL6;var kL6={name:"__type",type:MY,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new g1.GraphQLNonNull(h4.GraphQLString),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(Y,{name:J},X,{schema:Z})=>Z.getType(J),deprecationReason:void 0,extensions:Object.create(null),astNode:void 0};Rw0.TypeMetaFieldDef=kL6;var _L6={name:"__typename",type:new g1.GraphQLNonNull(h4.GraphQLString),description:"The name of the current Object type at runtime.",args:[],resolve:(Y,J,X,{parentType:Z})=>Z.name,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0};Rw0.TypeNameMetaFieldDef=_L6;var Tw0=Object.freeze([S81,C81,j81,MY,k81,TA,_81,x81]);Rw0.introspectionTypes=Tw0;function xL6(Y){return Tw0.some(({name:J})=>Y.name===J)}});var rU=q((kw0)=>{Object.defineProperty(kw0,"__esModule",{value:!0});kw0.GraphQLSchema=void 0;kw0.assertSchema=aL6;kw0.isSchema=jw0;var Nk=I9(),v81=V4(),nL6=zA(),iL6=q3(),oL6=qk(),f81=RJ(),jJ=i0(),Cw0=o9(),rL6=EY();function jw0(Y){return(0,nL6.instanceOf)(Y,h81)}function aL6(Y){if(!jw0(Y))throw Error(`Expected ${(0,v81.inspect)(Y)} to be a GraphQL schema.`);return Y}class h81{constructor(Y){var J,X;this.__validationErrors=Y.assumeValid===!0?[]:void 0,(0,iL6.isObjectLike)(Y)||(0,Nk.devAssert)(!1,"Must provide configuration object."),!Y.types||Array.isArray(Y.types)||(0,Nk.devAssert)(!1,`"types" must be Array if provided but got: ${(0,v81.inspect)(Y.types)}.`),!Y.directives||Array.isArray(Y.directives)||(0,Nk.devAssert)(!1,`"directives" must be Array if provided but got: ${(0,v81.inspect)(Y.directives)}.`),this.description=Y.description,this.extensions=(0,oL6.toObjMap)(Y.extensions),this.astNode=Y.astNode,this.extensionASTNodes=(J=Y.extensionASTNodes)!==null&&J!==void 0?J:[],this._queryType=Y.query,this._mutationType=Y.mutation,this._subscriptionType=Y.subscription,this._directives=(X=Y.directives)!==null&&X!==void 0?X:Cw0.specifiedDirectives;let Z=new Set(Y.types);if(Y.types!=null)for(let W of Y.types)Z.delete(W),kJ(W,Z);if(this._queryType!=null)kJ(this._queryType,Z);if(this._mutationType!=null)kJ(this._mutationType,Z);if(this._subscriptionType!=null)kJ(this._subscriptionType,Z);for(let W of this._directives)if((0,Cw0.isDirective)(W))for(let $ of W.args)kJ($.type,Z);kJ(rL6.__Schema,Z),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(let W of Z){if(W==null)continue;let $=W.name;if($||(0,Nk.devAssert)(!1,"One of the provided types for building the Schema is missing a name."),this._typeMap[$]!==void 0)throw Error(`Schema must contain uniquely named types but contains multiple types named "${$}".`);if(this._typeMap[$]=W,(0,jJ.isInterfaceType)(W)){for(let G of W.getInterfaces())if((0,jJ.isInterfaceType)(G)){let Q=this._implementationsMap[G.name];if(Q===void 0)Q=this._implementationsMap[G.name]={objects:[],interfaces:[]};Q.interfaces.push(W)}}else if((0,jJ.isObjectType)(W)){for(let G of W.getInterfaces())if((0,jJ.isInterfaceType)(G)){let Q=this._implementationsMap[G.name];if(Q===void 0)Q=this._implementationsMap[G.name]={objects:[],interfaces:[]};Q.objects.push(W)}}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(Y){switch(Y){case f81.OperationTypeNode.QUERY:return this.getQueryType();case f81.OperationTypeNode.MUTATION:return this.getMutationType();case f81.OperationTypeNode.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(Y){return this.getTypeMap()[Y]}getPossibleTypes(Y){return(0,jJ.isUnionType)(Y)?Y.getTypes():this.getImplementations(Y).objects}getImplementations(Y){let J=this._implementationsMap[Y.name];return J!==null&&J!==void 0?J:{objects:[],interfaces:[]}}isSubType(Y,J){let X=this._subTypeMap[Y.name];if(X===void 0){if(X=Object.create(null),(0,jJ.isUnionType)(Y))for(let Z of Y.getTypes())X[Z.name]=!0;else{let Z=this.getImplementations(Y);for(let W of Z.objects)X[W.name]=!0;for(let W of Z.interfaces)X[W.name]=!0}this._subTypeMap[Y.name]=X}return X[J.name]!==void 0}getDirectives(){return this._directives}getDirective(Y){return this.getDirectives().find((J)=>J.name===Y)}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:this.__validationErrors!==void 0}}}kw0.GraphQLSchema=h81;function kJ(Y,J){let X=(0,jJ.getNamedType)(Y);if(!J.has(X)){if(J.add(X),(0,jJ.isUnionType)(X))for(let Z of X.getTypes())kJ(Z,J);else if((0,jJ.isObjectType)(X)||(0,jJ.isInterfaceType)(X)){for(let Z of X.getInterfaces())kJ(Z,J);for(let Z of Object.values(X.getFields())){kJ(Z.type,J);for(let W of Z.args)kJ(W.type,J)}}else if((0,jJ.isInputObjectType)(X))for(let Z of Object.values(X.getFields()))kJ(Z.type,J)}return J}});var NA=q((uw0)=>{Object.defineProperty(uw0,"__esModule",{value:!0});uw0.assertValidSchema=XM6;uw0.validateSchema=yw0;var l5=V4(),eL6=U0(),b81=RJ(),xw0=IA(),k6=i0(),bw0=o9(),YM6=EY(),JM6=rU();function yw0(Y){if((0,JM6.assertSchema)(Y),Y.__validationErrors)return Y.__validationErrors;let J=new gw0(Y);ZM6(J),WM6(J),$M6(J);let X=J.getErrors();return Y.__validationErrors=X,X}function XM6(Y){let J=yw0(Y);if(J.length!==0)throw Error(J.map((X)=>X.message).join(`

`))}class gw0{constructor(Y){this._errors=[],this.schema=Y}reportError(Y,J){let X=Array.isArray(J)?J.filter(Boolean):J;this._errors.push(new eL6.GraphQLError(Y,{nodes:X}))}getErrors(){return this._errors}}function ZM6(Y){let J=Y.schema,X=J.getQueryType();if(!X)Y.reportError("Query root type must be provided.",J.astNode);else if(!(0,k6.isObjectType)(X)){var Z;Y.reportError(`Query root type must be Object type, it cannot be ${(0,l5.inspect)(X)}.`,(Z=y81(J,b81.OperationTypeNode.QUERY))!==null&&Z!==void 0?Z:X.astNode)}let W=J.getMutationType();if(W&&!(0,k6.isObjectType)(W)){var $;Y.reportError(`Mutation root type must be Object type if provided, it cannot be ${(0,l5.inspect)(W)}.`,($=y81(J,b81.OperationTypeNode.MUTATION))!==null&&$!==void 0?$:W.astNode)}let G=J.getSubscriptionType();if(G&&!(0,k6.isObjectType)(G)){var Q;Y.reportError(`Subscription root type must be Object type if provided, it cannot be ${(0,l5.inspect)(G)}.`,(Q=y81(J,b81.OperationTypeNode.SUBSCRIPTION))!==null&&Q!==void 0?Q:G.astNode)}}function y81(Y,J){var X;return(X=[Y.astNode,...Y.extensionASTNodes].flatMap((Z)=>{var W;return(W=Z===null||Z===void 0?void 0:Z.operationTypes)!==null&&W!==void 0?W:[]}).find((Z)=>Z.operation===J))===null||X===void 0?void 0:X.type}function WM6(Y){for(let X of Y.schema.getDirectives()){if(!(0,bw0.isDirective)(X)){Y.reportError(`Expected directive but got: ${(0,l5.inspect)(X)}.`,X===null||X===void 0?void 0:X.astNode);continue}if(aU(Y,X),X.locations.length===0)Y.reportError(`Directive @${X.name} must include 1 or more locations.`,X.astNode);for(let Z of X.args){if(aU(Y,Z),!(0,k6.isInputType)(Z.type))Y.reportError(`The type of @${X.name}(${Z.name}:) must be Input Type but got: ${(0,l5.inspect)(Z.type)}.`,Z.astNode);if((0,k6.isRequiredArgument)(Z)&&Z.deprecationReason!=null){var J;Y.reportError(`Required argument @${X.name}(${Z.name}:) cannot be deprecated.`,[g81(Z.astNode),(J=Z.astNode)===null||J===void 0?void 0:J.type])}}}}function aU(Y,J){if(J.name.startsWith("__"))Y.reportError(`Name "${J.name}" must not begin with "__", which is reserved by GraphQL introspection.`,J.astNode)}function $M6(Y){let J=KM6(Y),X=Y.schema.getTypeMap();for(let Z of Object.values(X)){if(!(0,k6.isNamedType)(Z)){Y.reportError(`Expected GraphQL named type but got: ${(0,l5.inspect)(Z)}.`,Z.astNode);continue}if(!(0,YM6.isIntrospectionType)(Z))aU(Y,Z);if((0,k6.isObjectType)(Z))fw0(Y,Z),vw0(Y,Z);else if((0,k6.isInterfaceType)(Z))fw0(Y,Z),vw0(Y,Z);else if((0,k6.isUnionType)(Z))UM6(Y,Z);else if((0,k6.isEnumType)(Z))zM6(Y,Z);else if((0,k6.isInputObjectType)(Z))HM6(Y,Z),J(Z)}}function fw0(Y,J){let X=Object.values(J.getFields());if(X.length===0)Y.reportError(`Type ${J.name} must define one or more fields.`,[J.astNode,...J.extensionASTNodes]);for(let G of X){if(aU(Y,G),!(0,k6.isOutputType)(G.type)){var Z;Y.reportError(`The type of ${J.name}.${G.name} must be Output Type but got: ${(0,l5.inspect)(G.type)}.`,(Z=G.astNode)===null||Z===void 0?void 0:Z.type)}for(let Q of G.args){let U=Q.name;if(aU(Y,Q),!(0,k6.isInputType)(Q.type)){var W;Y.reportError(`The type of ${J.name}.${G.name}(${U}:) must be Input Type but got: ${(0,l5.inspect)(Q.type)}.`,(W=Q.astNode)===null||W===void 0?void 0:W.type)}if((0,k6.isRequiredArgument)(Q)&&Q.deprecationReason!=null){var $;Y.reportError(`Required argument ${J.name}.${G.name}(${U}:) cannot be deprecated.`,[g81(Q.astNode),($=Q.astNode)===null||$===void 0?void 0:$.type])}}}}function vw0(Y,J){let X=Object.create(null);for(let Z of J.getInterfaces()){if(!(0,k6.isInterfaceType)(Z)){Y.reportError(`Type ${(0,l5.inspect)(J)} must only implement Interface types, it cannot implement ${(0,l5.inspect)(Z)}.`,RA(J,Z));continue}if(J===Z){Y.reportError(`Type ${J.name} cannot implement itself because it would create a circular reference.`,RA(J,Z));continue}if(X[Z.name]){Y.reportError(`Type ${J.name} can only implement ${Z.name} once.`,RA(J,Z));continue}X[Z.name]=!0,QM6(Y,J,Z),GM6(Y,J,Z)}}function GM6(Y,J,X){let Z=J.getFields();for(let U of Object.values(X.getFields())){let z=U.name,H=Z[z];if(!H){Y.reportError(`Interface field ${X.name}.${z} expected but ${J.name} does not provide it.`,[U.astNode,J.astNode,...J.extensionASTNodes]);continue}if(!(0,xw0.isTypeSubTypeOf)(Y.schema,H.type,U.type)){var W,$;Y.reportError(`Interface field ${X.name}.${z} expects type ${(0,l5.inspect)(U.type)} but ${J.name}.${z} is type ${(0,l5.inspect)(H.type)}.`,[(W=U.astNode)===null||W===void 0?void 0:W.type,($=H.astNode)===null||$===void 0?void 0:$.type])}for(let O of U.args){let K=O.name,B=H.args.find((F)=>F.name===K);if(!B){Y.reportError(`Interface field argument ${X.name}.${z}(${K}:) expected but ${J.name}.${z} does not provide it.`,[O.astNode,H.astNode]);continue}if(!(0,xw0.isEqualType)(O.type,B.type)){var G,Q;Y.reportError(`Interface field argument ${X.name}.${z}(${K}:) expects type ${(0,l5.inspect)(O.type)} but ${J.name}.${z}(${K}:) is type ${(0,l5.inspect)(B.type)}.`,[(G=O.astNode)===null||G===void 0?void 0:G.type,(Q=B.astNode)===null||Q===void 0?void 0:Q.type])}}for(let O of H.args){let K=O.name;if(!U.args.find((F)=>F.name===K)&&(0,k6.isRequiredArgument)(O))Y.reportError(`Object field ${J.name}.${z} includes required argument ${K} that is missing from the Interface field ${X.name}.${z}.`,[O.astNode,U.astNode])}}}function QM6(Y,J,X){let Z=J.getInterfaces();for(let W of X.getInterfaces())if(!Z.includes(W))Y.reportError(W===J?`Type ${J.name} cannot implement ${X.name} because it would create a circular reference.`:`Type ${J.name} must implement ${W.name} because it is implemented by ${X.name}.`,[...RA(X,W),...RA(J,X)])}function UM6(Y,J){let X=J.getTypes();if(X.length===0)Y.reportError(`Union type ${J.name} must define one or more member types.`,[J.astNode,...J.extensionASTNodes]);let Z=Object.create(null);for(let W of X){if(Z[W.name]){Y.reportError(`Union type ${J.name} can only include type ${W.name} once.`,hw0(J,W.name));continue}if(Z[W.name]=!0,!(0,k6.isObjectType)(W))Y.reportError(`Union type ${J.name} can only include Object types, it cannot include ${(0,l5.inspect)(W)}.`,hw0(J,String(W)))}}function zM6(Y,J){let X=J.getValues();if(X.length===0)Y.reportError(`Enum type ${J.name} must define one or more values.`,[J.astNode,...J.extensionASTNodes]);for(let Z of X)aU(Y,Z)}function HM6(Y,J){let X=Object.values(J.getFields());if(X.length===0)Y.reportError(`Input Object type ${J.name} must define one or more fields.`,[J.astNode,...J.extensionASTNodes]);for(let $ of X){if(aU(Y,$),!(0,k6.isInputType)($.type)){var Z;Y.reportError(`The type of ${J.name}.${$.name} must be Input Type but got: ${(0,l5.inspect)($.type)}.`,(Z=$.astNode)===null||Z===void 0?void 0:Z.type)}if((0,k6.isRequiredInputField)($)&&$.deprecationReason!=null){var W;Y.reportError(`Required input field ${J.name}.${$.name} cannot be deprecated.`,[g81($.astNode),(W=$.astNode)===null||W===void 0?void 0:W.type])}if(J.isOneOf)OM6(J,$,Y)}}function OM6(Y,J,X){if((0,k6.isNonNullType)(J.type)){var Z;X.reportError(`OneOf input field ${Y.name}.${J.name} must be nullable.`,(Z=J.astNode)===null||Z===void 0?void 0:Z.type)}if(J.defaultValue!==void 0)X.reportError(`OneOf input field ${Y.name}.${J.name} cannot have a default value.`,J.astNode)}function KM6(Y){let J=Object.create(null),X=[],Z=Object.create(null);return W;function W($){if(J[$.name])return;J[$.name]=!0,Z[$.name]=X.length;let G=Object.values($.getFields());for(let Q of G)if((0,k6.isNonNullType)(Q.type)&&(0,k6.isInputObjectType)(Q.type.ofType)){let U=Q.type.ofType,z=Z[U.name];if(X.push(Q),z===void 0)W(U);else{let H=X.slice(z),O=H.map((K)=>K.name).join(".");Y.reportError(`Cannot reference Input Object "${U.name}" within itself through a series of non-null fields: "${O}".`,H.map((K)=>K.astNode))}X.pop()}Z[$.name]=void 0}}function RA(Y,J){let{astNode:X,extensionASTNodes:Z}=Y;return(X!=null?[X,...Z]:Z).flatMap(($)=>{var G;return(G=$.interfaces)!==null&&G!==void 0?G:[]}).filter(($)=>$.name.value===J.name)}function hw0(Y,J){let{astNode:X,extensionASTNodes:Z}=Y;return(X!=null?[X,...Z]:Z).flatMap(($)=>{var G;return(G=$.types)!==null&&G!==void 0?G:[]}).filter(($)=>$.name.value===J)}function g81(Y){var J;return Y===null||Y===void 0?void 0:(J=Y.directives)===null||J===void 0?void 0:J.find((X)=>X.name.value===bw0.GraphQLDeprecatedDirective.name)}});var D3=q((dw0)=>{Object.defineProperty(dw0,"__esModule",{value:!0});dw0.typeFromAST=m81;var u81=n0(),mw0=i0();function m81(Y,J){switch(J.kind){case u81.Kind.LIST_TYPE:{let X=m81(Y,J.type);return X&&new mw0.GraphQLList(X)}case u81.Kind.NON_NULL_TYPE:{let X=m81(Y,J.type);return X&&new mw0.GraphQLNonNull(X)}case u81.Kind.NAMED_TYPE:return Y.getType(J.name.value)}}});var Sk=q((nw0)=>{Object.defineProperty(nw0,"__esModule",{value:!0});nw0.TypeInfo=void 0;nw0.visitWithTypeInfo=DM6;var VM6=RJ(),_6=n0(),cw0=cU(),x6=i0(),MB=EY(),lw0=D3();class pw0{constructor(Y,J,X){if(this._schema=Y,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=X!==null&&X!==void 0?X:IM6,J){if((0,x6.isInputType)(J))this._inputTypeStack.push(J);if((0,x6.isCompositeType)(J))this._parentTypeStack.push(J);if((0,x6.isOutputType)(J))this._typeStack.push(J)}}get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(Y){let J=this._schema;switch(Y.kind){case _6.Kind.SELECTION_SET:{let Z=(0,x6.getNamedType)(this.getType());this._parentTypeStack.push((0,x6.isCompositeType)(Z)?Z:void 0);break}case _6.Kind.FIELD:{let Z=this.getParentType(),W,$;if(Z){if(W=this._getFieldDef(J,Z,Y),W)$=W.type}this._fieldDefStack.push(W),this._typeStack.push((0,x6.isOutputType)($)?$:void 0);break}case _6.Kind.DIRECTIVE:this._directive=J.getDirective(Y.name.value);break;case _6.Kind.OPERATION_DEFINITION:{let Z=J.getRootType(Y.operation);this._typeStack.push((0,x6.isObjectType)(Z)?Z:void 0);break}case _6.Kind.INLINE_FRAGMENT:case _6.Kind.FRAGMENT_DEFINITION:{let Z=Y.typeCondition,W=Z?(0,lw0.typeFromAST)(J,Z):(0,x6.getNamedType)(this.getType());this._typeStack.push((0,x6.isOutputType)(W)?W:void 0);break}case _6.Kind.VARIABLE_DEFINITION:{let Z=(0,lw0.typeFromAST)(J,Y.type);this._inputTypeStack.push((0,x6.isInputType)(Z)?Z:void 0);break}case _6.Kind.ARGUMENT:{var X;let Z,W,$=(X=this.getDirective())!==null&&X!==void 0?X:this.getFieldDef();if($){if(Z=$.args.find((G)=>G.name===Y.name.value),Z)W=Z.type}this._argument=Z,this._defaultValueStack.push(Z?Z.defaultValue:void 0),this._inputTypeStack.push((0,x6.isInputType)(W)?W:void 0);break}case _6.Kind.LIST:{let Z=(0,x6.getNullableType)(this.getInputType()),W=(0,x6.isListType)(Z)?Z.ofType:Z;this._defaultValueStack.push(void 0),this._inputTypeStack.push((0,x6.isInputType)(W)?W:void 0);break}case _6.Kind.OBJECT_FIELD:{let Z=(0,x6.getNamedType)(this.getInputType()),W,$;if((0,x6.isInputObjectType)(Z)){if($=Z.getFields()[Y.name.value],$)W=$.type}this._defaultValueStack.push($?$.defaultValue:void 0),this._inputTypeStack.push((0,x6.isInputType)(W)?W:void 0);break}case _6.Kind.ENUM:{let Z=(0,x6.getNamedType)(this.getInputType()),W;if((0,x6.isEnumType)(Z))W=Z.getValue(Y.value);this._enumValue=W;break}default:}}leave(Y){switch(Y.kind){case _6.Kind.SELECTION_SET:this._parentTypeStack.pop();break;case _6.Kind.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case _6.Kind.DIRECTIVE:this._directive=null;break;case _6.Kind.OPERATION_DEFINITION:case _6.Kind.INLINE_FRAGMENT:case _6.Kind.FRAGMENT_DEFINITION:this._typeStack.pop();break;case _6.Kind.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case _6.Kind.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case _6.Kind.LIST:case _6.Kind.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case _6.Kind.ENUM:this._enumValue=null;break;default:}}}nw0.TypeInfo=pw0;function IM6(Y,J,X){let Z=X.name.value;if(Z===MB.SchemaMetaFieldDef.name&&Y.getQueryType()===J)return MB.SchemaMetaFieldDef;if(Z===MB.TypeMetaFieldDef.name&&Y.getQueryType()===J)return MB.TypeMetaFieldDef;if(Z===MB.TypeNameMetaFieldDef.name&&(0,x6.isCompositeType)(J))return MB.TypeNameMetaFieldDef;if((0,x6.isObjectType)(J)||(0,x6.isInterfaceType)(J))return J.getFields()[Z]}function DM6(Y,J){return{enter(...X){let Z=X[0];Y.enter(Z);let W=(0,cw0.getEnterLeaveForKind)(J,Z.kind).enter;if(W){let $=W.apply(J,X);if($!==void 0){if(Y.leave(Z),(0,VM6.isNode)($))Y.enter($)}return $}},leave(...X){let Z=X[0],W=(0,cw0.getEnterLeaveForKind)(J,Z.kind).leave,$;if(W)$=W.apply(J,X);return Y.leave(Z),$}}}});var sU=q((YA0)=>{Object.defineProperty(YA0,"__esModule",{value:!0});YA0.isConstValueNode=d81;YA0.isDefinitionNode=AM6;YA0.isExecutableDefinitionNode=ow0;YA0.isSchemaCoordinateNode=MM6;YA0.isSelectionNode=PM6;YA0.isTypeDefinitionNode=sw0;YA0.isTypeExtensionNode=ew0;YA0.isTypeNode=LM6;YA0.isTypeSystemDefinitionNode=aw0;YA0.isTypeSystemExtensionNode=tw0;YA0.isValueNode=rw0;var k0=n0();function AM6(Y){return ow0(Y)||aw0(Y)||tw0(Y)}function ow0(Y){return Y.kind===k0.Kind.OPERATION_DEFINITION||Y.kind===k0.Kind.FRAGMENT_DEFINITION}function PM6(Y){return Y.kind===k0.Kind.FIELD||Y.kind===k0.Kind.FRAGMENT_SPREAD||Y.kind===k0.Kind.INLINE_FRAGMENT}function rw0(Y){return Y.kind===k0.Kind.VARIABLE||Y.kind===k0.Kind.INT||Y.kind===k0.Kind.FLOAT||Y.kind===k0.Kind.STRING||Y.kind===k0.Kind.BOOLEAN||Y.kind===k0.Kind.NULL||Y.kind===k0.Kind.ENUM||Y.kind===k0.Kind.LIST||Y.kind===k0.Kind.OBJECT}function d81(Y){return rw0(Y)&&(Y.kind===k0.Kind.LIST?Y.values.some(d81):Y.kind===k0.Kind.OBJECT?Y.fields.some((J)=>d81(J.value)):Y.kind!==k0.Kind.VARIABLE)}function LM6(Y){return Y.kind===k0.Kind.NAMED_TYPE||Y.kind===k0.Kind.LIST_TYPE||Y.kind===k0.Kind.NON_NULL_TYPE}function aw0(Y){return Y.kind===k0.Kind.SCHEMA_DEFINITION||sw0(Y)||Y.kind===k0.Kind.DIRECTIVE_DEFINITION}function sw0(Y){return Y.kind===k0.Kind.SCALAR_TYPE_DEFINITION||Y.kind===k0.Kind.OBJECT_TYPE_DEFINITION||Y.kind===k0.Kind.INTERFACE_TYPE_DEFINITION||Y.kind===k0.Kind.UNION_TYPE_DEFINITION||Y.kind===k0.Kind.ENUM_TYPE_DEFINITION||Y.kind===k0.Kind.INPUT_OBJECT_TYPE_DEFINITION}function tw0(Y){return Y.kind===k0.Kind.SCHEMA_EXTENSION||ew0(Y)}function ew0(Y){return Y.kind===k0.Kind.SCALAR_TYPE_EXTENSION||Y.kind===k0.Kind.OBJECT_TYPE_EXTENSION||Y.kind===k0.Kind.INTERFACE_TYPE_EXTENSION||Y.kind===k0.Kind.UNION_TYPE_EXTENSION||Y.kind===k0.Kind.ENUM_TYPE_EXTENSION||Y.kind===k0.Kind.INPUT_OBJECT_TYPE_EXTENSION}function MM6(Y){return Y.kind===k0.Kind.TYPE_COORDINATE||Y.kind===k0.Kind.MEMBER_COORDINATE||Y.kind===k0.Kind.ARGUMENT_COORDINATE||Y.kind===k0.Kind.DIRECTIVE_COORDINATE||Y.kind===k0.Kind.DIRECTIVE_ARGUMENT_COORDINATE}});var c81=q((XA0)=>{Object.defineProperty(XA0,"__esModule",{value:!0});XA0.ExecutableDefinitionsRule=bM6;var vM6=U0(),JA0=n0(),hM6=sU();function bM6(Y){return{Document(J){for(let X of J.definitions)if(!(0,hM6.isExecutableDefinitionNode)(X)){let Z=X.kind===JA0.Kind.SCHEMA_DEFINITION||X.kind===JA0.Kind.SCHEMA_EXTENSION?"schema":'"'+X.name.value+'"';Y.reportError(new vM6.GraphQLError(`The ${Z} definition is not executable.`,{nodes:X}))}return!1}}}});var l81=q((WA0)=>{Object.defineProperty(WA0,"__esModule",{value:!0});WA0.FieldsOnCorrectTypeRule=dM6;var ZA0=i$(),gM6=KA(),uM6=r$(),mM6=U0(),SA=i0();function dM6(Y){return{Field(J){let X=Y.getParentType();if(X){if(!Y.getFieldDef()){let W=Y.getSchema(),$=J.name.value,G=(0,ZA0.didYouMean)("to use an inline fragment on",cM6(W,X,$));if(G==="")G=(0,ZA0.didYouMean)(lM6(X,$));Y.reportError(new mM6.GraphQLError(`Cannot query field "${$}" on type "${X.name}".`+G,{nodes:J}))}}}}}function cM6(Y,J,X){if(!(0,SA.isAbstractType)(J))return[];let Z=new Set,W=Object.create(null);for(let G of Y.getPossibleTypes(J)){if(!G.getFields()[X])continue;Z.add(G),W[G.name]=1;for(let Q of G.getInterfaces()){var $;if(!Q.getFields()[X])continue;Z.add(Q),W[Q.name]=(($=W[Q.name])!==null&&$!==void 0?$:0)+1}}return[...Z].sort((G,Q)=>{let U=W[Q.name]-W[G.name];if(U!==0)return U;if((0,SA.isInterfaceType)(G)&&Y.isSubType(G,Q))return-1;if((0,SA.isInterfaceType)(Q)&&Y.isSubType(Q,G))return 1;return(0,gM6.naturalCompare)(G.name,Q.name)}).map((G)=>G.name)}function lM6(Y,J){if((0,SA.isObjectType)(Y)||(0,SA.isInterfaceType)(Y)){let X=Object.keys(Y.getFields());return(0,uM6.suggestionList)(J,X)}return[]}});var p81=q((zA0)=>{Object.defineProperty(zA0,"__esModule",{value:!0});zA0.FragmentsOnCompositeTypesRule=nM6;var $A0=U0(),GA0=P7(),QA0=i0(),UA0=D3();function nM6(Y){return{InlineFragment(J){let X=J.typeCondition;if(X){let Z=(0,UA0.typeFromAST)(Y.getSchema(),X);if(Z&&!(0,QA0.isCompositeType)(Z)){let W=(0,GA0.print)(X);Y.reportError(new $A0.GraphQLError(`Fragment cannot condition on non composite type "${W}".`,{nodes:X}))}}},FragmentDefinition(J){let X=(0,UA0.typeFromAST)(Y.getSchema(),J.typeCondition);if(X&&!(0,QA0.isCompositeType)(X)){let Z=(0,GA0.print)(J.typeCondition);Y.reportError(new $A0.GraphQLError(`Fragment "${J.name.value}" cannot condition on non composite type "${Z}".`,{nodes:J.typeCondition}))}}}}});var n81=q((qA0)=>{Object.defineProperty(qA0,"__esModule",{value:!0});qA0.KnownArgumentNamesOnDirectivesRule=BA0;qA0.KnownArgumentNamesRule=aM6;var HA0=i$(),OA0=r$(),KA0=U0(),oM6=n0(),rM6=o9();function aM6(Y){return{...BA0(Y),Argument(J){let X=Y.getArgument(),Z=Y.getFieldDef(),W=Y.getParentType();if(!X&&Z&&W){let $=J.name.value,G=Z.args.map((U)=>U.name),Q=(0,OA0.suggestionList)($,G);Y.reportError(new KA0.GraphQLError(`Unknown argument "${$}" on field "${W.name}.${Z.name}".`+(0,HA0.didYouMean)(Q),{nodes:J}))}}}}function BA0(Y){let J=Object.create(null),X=Y.getSchema(),Z=X?X.getDirectives():rM6.specifiedDirectives;for(let G of Z)J[G.name]=G.args.map((Q)=>Q.name);let W=Y.getDocument().definitions;for(let G of W)if(G.kind===oM6.Kind.DIRECTIVE_DEFINITION){var $;let Q=($=G.arguments)!==null&&$!==void 0?$:[];J[G.name.value]=Q.map((U)=>U.name.value)}return{Directive(G){let Q=G.name.value,U=J[Q];if(G.arguments&&U)for(let z of G.arguments){let H=z.name.value;if(!U.includes(H)){let O=(0,OA0.suggestionList)(H,U);Y.reportError(new KA0.GraphQLError(`Unknown argument "${H}" on directive "@${Q}".`+(0,HA0.didYouMean)(O),{nodes:z}))}}return!1}}}});var r81=q((VA0)=>{Object.defineProperty(VA0,"__esModule",{value:!0});VA0.KnownDirectivesRule=JE6;var eM6=V4(),i81=d5(),FA0=U0(),o81=RJ(),y8=IB(),e4=n0(),YE6=o9();function JE6(Y){let J=Object.create(null),X=Y.getSchema(),Z=X?X.getDirectives():YE6.specifiedDirectives;for(let $ of Z)J[$.name]=$.locations;let W=Y.getDocument().definitions;for(let $ of W)if($.kind===e4.Kind.DIRECTIVE_DEFINITION)J[$.name.value]=$.locations.map((G)=>G.value);return{Directive($,G,Q,U,z){let H=$.name.value,O=J[H];if(!O){Y.reportError(new FA0.GraphQLError(`Unknown directive "@${H}".`,{nodes:$}));return}let K=XE6(z);if(K&&!O.includes(K))Y.reportError(new FA0.GraphQLError(`Directive "@${H}" may not be used on ${K}.`,{nodes:$}))}}}function XE6(Y){let J=Y[Y.length-1];switch("kind"in J||(0,i81.invariant)(!1),J.kind){case e4.Kind.OPERATION_DEFINITION:return ZE6(J.operation);case e4.Kind.FIELD:return y8.DirectiveLocation.FIELD;case e4.Kind.FRAGMENT_SPREAD:return y8.DirectiveLocation.FRAGMENT_SPREAD;case e4.Kind.INLINE_FRAGMENT:return y8.DirectiveLocation.INLINE_FRAGMENT;case e4.Kind.FRAGMENT_DEFINITION:return y8.DirectiveLocation.FRAGMENT_DEFINITION;case e4.Kind.VARIABLE_DEFINITION:return y8.DirectiveLocation.VARIABLE_DEFINITION;case e4.Kind.SCHEMA_DEFINITION:case e4.Kind.SCHEMA_EXTENSION:return y8.DirectiveLocation.SCHEMA;case e4.Kind.SCALAR_TYPE_DEFINITION:case e4.Kind.SCALAR_TYPE_EXTENSION:return y8.DirectiveLocation.SCALAR;case e4.Kind.OBJECT_TYPE_DEFINITION:case e4.Kind.OBJECT_TYPE_EXTENSION:return y8.DirectiveLocation.OBJECT;case e4.Kind.FIELD_DEFINITION:return y8.DirectiveLocation.FIELD_DEFINITION;case e4.Kind.INTERFACE_TYPE_DEFINITION:case e4.Kind.INTERFACE_TYPE_EXTENSION:return y8.DirectiveLocation.INTERFACE;case e4.Kind.UNION_TYPE_DEFINITION:case e4.Kind.UNION_TYPE_EXTENSION:return y8.DirectiveLocation.UNION;case e4.Kind.ENUM_TYPE_DEFINITION:case e4.Kind.ENUM_TYPE_EXTENSION:return y8.DirectiveLocation.ENUM;case e4.Kind.ENUM_VALUE_DEFINITION:return y8.DirectiveLocation.ENUM_VALUE;case e4.Kind.INPUT_OBJECT_TYPE_DEFINITION:case e4.Kind.INPUT_OBJECT_TYPE_EXTENSION:return y8.DirectiveLocation.INPUT_OBJECT;case e4.Kind.INPUT_VALUE_DEFINITION:{let X=Y[Y.length-3];return"kind"in X||(0,i81.invariant)(!1),X.kind===e4.Kind.INPUT_OBJECT_TYPE_DEFINITION?y8.DirectiveLocation.INPUT_FIELD_DEFINITION:y8.DirectiveLocation.ARGUMENT_DEFINITION}default:(0,i81.invariant)(!1,"Unexpected kind: "+(0,eM6.inspect)(J.kind))}}function ZE6(Y){switch(Y){case o81.OperationTypeNode.QUERY:return y8.DirectiveLocation.QUERY;case o81.OperationTypeNode.MUTATION:return y8.DirectiveLocation.MUTATION;case o81.OperationTypeNode.SUBSCRIPTION:return y8.DirectiveLocation.SUBSCRIPTION}}});var a81=q((IA0)=>{Object.defineProperty(IA0,"__esModule",{value:!0});IA0.KnownFragmentNamesRule=GE6;var $E6=U0();function GE6(Y){return{FragmentSpread(J){let X=J.name.value;if(!Y.getFragment(X))Y.reportError(new $E6.GraphQLError(`Unknown fragment "${X}".`,{nodes:J.name}))}}}});var t81=q((wA0)=>{Object.defineProperty(wA0,"__esModule",{value:!0});wA0.KnownTypeNamesRule=BE6;var UE6=i$(),zE6=r$(),HE6=U0(),s81=sU(),OE6=EY(),KE6=I3();function BE6(Y){let J=Y.getSchema(),X=J?J.getTypeMap():Object.create(null),Z=Object.create(null);for(let $ of Y.getDocument().definitions)if((0,s81.isTypeDefinitionNode)($))Z[$.name.value]=!0;let W=[...Object.keys(X),...Object.keys(Z)];return{NamedType($,G,Q,U,z){let H=$.name.value;if(!X[H]&&!Z[H]){var O;let K=(O=z[2])!==null&&O!==void 0?O:Q,B=K!=null&&qE6(K);if(B&&DA0.includes(H))return;let F=(0,zE6.suggestionList)(H,B?DA0.concat(W):W);Y.reportError(new HE6.GraphQLError(`Unknown type "${H}".`+(0,UE6.didYouMean)(F),{nodes:$}))}}}}var DA0=[...KE6.specifiedScalarTypes,...OE6.introspectionTypes].map((Y)=>Y.name);function qE6(Y){return"kind"in Y&&((0,s81.isTypeSystemDefinitionNode)(Y)||(0,s81.isTypeSystemExtensionNode)(Y))}});var e81=q((AA0)=>{Object.defineProperty(AA0,"__esModule",{value:!0});AA0.LoneAnonymousOperationRule=DE6;var VE6=U0(),IE6=n0();function DE6(Y){let J=0;return{Document(X){J=X.definitions.filter((Z)=>Z.kind===IE6.Kind.OPERATION_DEFINITION).length},OperationDefinition(X){if(!X.name&&J>1)Y.reportError(new VE6.GraphQLError("This anonymous operation must be the only defined operation.",{nodes:X}))}}}});var Y51=q((LA0)=>{Object.defineProperty(LA0,"__esModule",{value:!0});LA0.LoneSchemaDefinitionRule=AE6;var PA0=U0();function AE6(Y){var J,X,Z;let W=Y.getSchema(),$=(J=(X=(Z=W===null||W===void 0?void 0:W.astNode)!==null&&Z!==void 0?Z:W===null||W===void 0?void 0:W.getQueryType())!==null&&X!==void 0?X:W===null||W===void 0?void 0:W.getMutationType())!==null&&J!==void 0?J:W===null||W===void 0?void 0:W.getSubscriptionType(),G=0;return{SchemaDefinition(Q){if($){Y.reportError(new PA0.GraphQLError("Cannot define a new schema within a schema extension.",{nodes:Q}));return}if(G>0)Y.reportError(new PA0.GraphQLError("Must provide only one schema definition.",{nodes:Q}));++G}}}});var J51=q((EA0)=>{Object.defineProperty(EA0,"__esModule",{value:!0});EA0.MaxIntrospectionDepthRule=EE6;var LE6=U0(),MA0=n0(),ME6=3;function EE6(Y){function J(X,Z=Object.create(null),W=0){if(X.kind===MA0.Kind.FRAGMENT_SPREAD){let $=X.name.value;if(Z[$]===!0)return!1;let G=Y.getFragment($);if(!G)return!1;try{return Z[$]=!0,J(G,Z,W)}finally{Z[$]=void 0}}if(X.kind===MA0.Kind.FIELD&&(X.name.value==="fields"||X.name.value==="interfaces"||X.name.value==="possibleTypes"||X.name.value==="inputFields")){if(W++,W>=ME6)return!0}if("selectionSet"in X&&X.selectionSet){for(let $ of X.selectionSet.selections)if(J($,Z,W))return!0}return!1}return{Field(X){if(X.name.value==="__schema"||X.name.value==="__type"){if(J(X))return Y.reportError(new LE6.GraphQLError("Maximum introspection depth exceeded",{nodes:[X]})),!1}}}}});var X51=q((TA0)=>{Object.defineProperty(TA0,"__esModule",{value:!0});TA0.NoFragmentCyclesRule=NE6;var RE6=U0();function NE6(Y){let J=Object.create(null),X=[],Z=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition($){return W($),!1}};function W($){if(J[$.name.value])return;let G=$.name.value;J[G]=!0;let Q=Y.getFragmentSpreads($.selectionSet);if(Q.length===0)return;Z[G]=X.length;for(let U of Q){let z=U.name.value,H=Z[z];if(X.push(U),H===void 0){let O=Y.getFragment(z);if(O)W(O)}else{let O=X.slice(H),K=O.slice(0,-1).map((B)=>'"'+B.name.value+'"').join(", ");Y.reportError(new RE6.GraphQLError(`Cannot spread fragment "${z}" within itself`+(K!==""?` via ${K}.`:"."),{nodes:O}))}X.pop()}Z[G]=void 0}}});var Z51=q((RA0)=>{Object.defineProperty(RA0,"__esModule",{value:!0});RA0.NoUndefinedVariablesRule=jE6;var CE6=U0();function jE6(Y){let J=Object.create(null);return{OperationDefinition:{enter(){J=Object.create(null)},leave(X){let Z=Y.getRecursiveVariableUsages(X);for(let{node:W}of Z){let $=W.name.value;if(J[$]!==!0)Y.reportError(new CE6.GraphQLError(X.name?`Variable "$${$}" is not defined by operation "${X.name.value}".`:`Variable "$${$}" is not defined.`,{nodes:[W,X]}))}}},VariableDefinition(X){J[X.variable.name.value]=!0}}}});var W51=q((NA0)=>{Object.defineProperty(NA0,"__esModule",{value:!0});NA0.NoUnusedFragmentsRule=xE6;var _E6=U0();function xE6(Y){let J=[],X=[];return{OperationDefinition(Z){return J.push(Z),!1},FragmentDefinition(Z){return X.push(Z),!1},Document:{leave(){let Z=Object.create(null);for(let W of J)for(let $ of Y.getRecursivelyReferencedFragments(W))Z[$.name.value]=!0;for(let W of X){let $=W.name.value;if(Z[$]!==!0)Y.reportError(new _E6.GraphQLError(`Fragment "${$}" is never used.`,{nodes:W}))}}}}}});var $51=q((SA0)=>{Object.defineProperty(SA0,"__esModule",{value:!0});SA0.NoUnusedVariablesRule=hE6;var vE6=U0();function hE6(Y){let J=[];return{OperationDefinition:{enter(){J=[]},leave(X){let Z=Object.create(null),W=Y.getRecursiveVariableUsages(X);for(let{node:$}of W)Z[$.name.value]=!0;for(let $ of J){let G=$.variable.name.value;if(Z[G]!==!0)Y.reportError(new vE6.GraphQLError(X.name?`Variable "$${G}" is never used in operation "${X.name.value}".`:`Variable "$${G}" is never used.`,{nodes:$}))}}},VariableDefinition(X){J.push(X)}}}});var Q51=q((CA0)=>{Object.defineProperty(CA0,"__esModule",{value:!0});CA0.sortValueNode=G51;var yE6=KA(),yZ=n0();function G51(Y){switch(Y.kind){case yZ.Kind.OBJECT:return{...Y,fields:gE6(Y.fields)};case yZ.Kind.LIST:return{...Y,values:Y.values.map(G51)};case yZ.Kind.INT:case yZ.Kind.FLOAT:case yZ.Kind.STRING:case yZ.Kind.BOOLEAN:case yZ.Kind.NULL:case yZ.Kind.ENUM:case yZ.Kind.VARIABLE:return Y}}function gE6(Y){return Y.map((J)=>({...J,value:G51(J.value)})).sort((J,X)=>(0,yE6.naturalCompare)(J.name.value,X.name.value))}});var B51=q((bA0)=>{Object.defineProperty(bA0,"__esModule",{value:!0});bA0.OverlappingFieldsCanBeMergedRule=lE6;var jA0=V4(),mE6=U0(),U51=n0(),dE6=P7(),r9=i0(),cE6=Q51(),_A0=D3();function xA0(Y){if(Array.isArray(Y))return Y.map(([J,X])=>`subfields "${J}" conflict because `+xA0(X)).join(" and ");return Y}function lE6(Y){let J=new K51,X=new hA0,Z=new Map;return{SelectionSet(W){let $=pE6(Y,Z,J,X,Y.getParentType(),W);for(let[[G,Q],U,z]of $){let H=xA0(Q);Y.reportError(new mE6.GraphQLError(`Fields "${G}" conflict because ${H}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:U.concat(z)}))}}}}function pE6(Y,J,X,Z,W,$){let G=[],[Q,U]=kk(Y,J,W,$);if(iE6(Y,G,J,X,Z,Q),U.length!==0)for(let z=0;z<U.length;z++){Ck(Y,G,J,X,Z,!1,Q,U[z]);for(let H=z+1;H<U.length;H++)jk(Y,G,J,X,Z,!1,U[z],U[H])}return G}function Ck(Y,J,X,Z,W,$,G,Q){if(Z.has(G,Q,$))return;Z.add(G,Q,$);let U=Y.getFragment(Q);if(!U)return;let[z,H]=H51(Y,X,U);if(G===z)return;O51(Y,J,X,Z,W,$,G,z);for(let O of H)Ck(Y,J,X,Z,W,$,G,O)}function jk(Y,J,X,Z,W,$,G,Q){if(G===Q)return;if(W.has(G,Q,$))return;W.add(G,Q,$);let U=Y.getFragment(G),z=Y.getFragment(Q);if(!U||!z)return;let[H,O]=H51(Y,X,U),[K,B]=H51(Y,X,z);O51(Y,J,X,Z,W,$,H,K);for(let F of B)jk(Y,J,X,Z,W,$,G,F);for(let F of O)jk(Y,J,X,Z,W,$,F,Q)}function nE6(Y,J,X,Z,W,$,G,Q,U){let z=[],[H,O]=kk(Y,J,$,G),[K,B]=kk(Y,J,Q,U);O51(Y,z,J,X,Z,W,H,K);for(let F of B)Ck(Y,z,J,X,Z,W,H,F);for(let F of O)Ck(Y,z,J,X,Z,W,K,F);for(let F of O)for(let V of B)jk(Y,z,J,X,Z,W,F,V);return z}function iE6(Y,J,X,Z,W,$){for(let[G,Q]of Object.entries($))if(Q.length>1)for(let U=0;U<Q.length;U++)for(let z=U+1;z<Q.length;z++){let H=fA0(Y,X,Z,W,!1,G,Q[U],Q[z]);if(H)J.push(H)}}function O51(Y,J,X,Z,W,$,G,Q){for(let[U,z]of Object.entries(G)){let H=Q[U];if(H)for(let O of z)for(let K of H){let B=fA0(Y,X,Z,W,$,U,O,K);if(B)J.push(B)}}}function fA0(Y,J,X,Z,W,$,G,Q){let[U,z,H]=G,[O,K,B]=Q,F=W||U!==O&&(0,r9.isObjectType)(U)&&(0,r9.isObjectType)(O);if(!F){let A=z.name.value,P=K.name.value;if(A!==P)return[[$,`"${A}" and "${P}" are different fields`],[z],[K]];if(!oE6(z,K))return[[$,"they have differing arguments"],[z],[K]]}let V=H===null||H===void 0?void 0:H.type,I=B===null||B===void 0?void 0:B.type;if(V&&I&&z51(V,I))return[[$,`they return conflicting types "${(0,jA0.inspect)(V)}" and "${(0,jA0.inspect)(I)}"`],[z],[K]];let D=z.selectionSet,L=K.selectionSet;if(D&&L){let A=nE6(Y,J,X,Z,F,(0,r9.getNamedType)(V),D,(0,r9.getNamedType)(I),L);return rE6(A,$,z,K)}}function oE6(Y,J){let X=Y.arguments,Z=J.arguments;if(X===void 0||X.length===0)return Z===void 0||Z.length===0;if(Z===void 0||Z.length===0)return!1;if(X.length!==Z.length)return!1;let W=new Map(Z.map(({name:$,value:G})=>[$.value,G]));return X.every(($)=>{let G=$.value,Q=W.get($.name.value);if(Q===void 0)return!1;return kA0(G)===kA0(Q)})}function kA0(Y){return(0,dE6.print)((0,cE6.sortValueNode)(Y))}function z51(Y,J){if((0,r9.isListType)(Y))return(0,r9.isListType)(J)?z51(Y.ofType,J.ofType):!0;if((0,r9.isListType)(J))return!0;if((0,r9.isNonNullType)(Y))return(0,r9.isNonNullType)(J)?z51(Y.ofType,J.ofType):!0;if((0,r9.isNonNullType)(J))return!0;if((0,r9.isLeafType)(Y)||(0,r9.isLeafType)(J))return Y!==J;return!1}function kk(Y,J,X,Z){let W=J.get(Z);if(W)return W;let $=Object.create(null),G=Object.create(null);vA0(Y,X,Z,$,G);let Q=[$,Object.keys(G)];return J.set(Z,Q),Q}function H51(Y,J,X){let Z=J.get(X.selectionSet);if(Z)return Z;let W=(0,_A0.typeFromAST)(Y.getSchema(),X.typeCondition);return kk(Y,J,W,X.selectionSet)}function vA0(Y,J,X,Z,W){for(let $ of X.selections)switch($.kind){case U51.Kind.FIELD:{let G=$.name.value,Q;if((0,r9.isObjectType)(J)||(0,r9.isInterfaceType)(J))Q=J.getFields()[G];let U=$.alias?$.alias.value:G;if(!Z[U])Z[U]=[];Z[U].push([J,$,Q]);break}case U51.Kind.FRAGMENT_SPREAD:W[$.name.value]=!0;break;case U51.Kind.INLINE_FRAGMENT:{let G=$.typeCondition,Q=G?(0,_A0.typeFromAST)(Y.getSchema(),G):J;vA0(Y,Q,$.selectionSet,Z,W);break}}}function rE6(Y,J,X,Z){if(Y.length>0)return[[J,Y.map(([W])=>W)],[X,...Y.map(([,W])=>W).flat()],[Z,...Y.map(([,,W])=>W).flat()]]}class K51{constructor(){this._data=new Map}has(Y,J,X){var Z;let W=(Z=this._data.get(Y))===null||Z===void 0?void 0:Z.get(J);if(W===void 0)return!1;return X?!0:X===W}add(Y,J,X){let Z=this._data.get(Y);if(Z===void 0)this._data.set(Y,new Map([[J,X]]));else Z.set(J,X)}}class hA0{constructor(){this._orderedPairSet=new K51}has(Y,J,X){return Y<J?this._orderedPairSet.has(Y,J,X):this._orderedPairSet.has(J,Y,X)}add(Y,J,X){if(Y<J)this._orderedPairSet.add(Y,J,X);else this._orderedPairSet.add(J,Y,X)}}});var F51=q((uA0)=>{Object.defineProperty(uA0,"__esModule",{value:!0});uA0.PossibleFragmentSpreadsRule=tE6;var _k=V4(),yA0=U0(),q51=i0(),gA0=IA(),sE6=D3();function tE6(Y){return{InlineFragment(J){let X=Y.getType(),Z=Y.getParentType();if((0,q51.isCompositeType)(X)&&(0,q51.isCompositeType)(Z)&&!(0,gA0.doTypesOverlap)(Y.getSchema(),X,Z)){let W=(0,_k.inspect)(Z),$=(0,_k.inspect)(X);Y.reportError(new yA0.GraphQLError(`Fragment cannot be spread here as objects of type "${W}" can never be of type "${$}".`,{nodes:J}))}},FragmentSpread(J){let X=J.name.value,Z=eE6(Y,X),W=Y.getParentType();if(Z&&W&&!(0,gA0.doTypesOverlap)(Y.getSchema(),Z,W)){let $=(0,_k.inspect)(W),G=(0,_k.inspect)(Z);Y.reportError(new yA0.GraphQLError(`Fragment "${X}" cannot be spread here as objects of type "${$}" can never be of type "${G}".`,{nodes:J}))}}}}function eE6(Y,J){let X=Y.getFragment(J);if(X){let Z=(0,sE6.typeFromAST)(Y.getSchema(),X.typeCondition);if((0,q51.isCompositeType)(Z))return Z}}});var V51=q((lA0)=>{Object.defineProperty(lA0,"__esModule",{value:!0});lA0.PossibleTypeExtensionsRule=WT6;var JT6=i$(),dA0=V4(),cA0=d5(),XT6=r$(),mA0=U0(),Z6=n0(),ZT6=sU(),EB=i0();function WT6(Y){let J=Y.getSchema(),X=Object.create(null);for(let W of Y.getDocument().definitions)if((0,ZT6.isTypeDefinitionNode)(W))X[W.name.value]=W;return{ScalarTypeExtension:Z,ObjectTypeExtension:Z,InterfaceTypeExtension:Z,UnionTypeExtension:Z,EnumTypeExtension:Z,InputObjectTypeExtension:Z};function Z(W){let $=W.name.value,G=X[$],Q=J===null||J===void 0?void 0:J.getType($),U;if(G)U=$T6[G.kind];else if(Q)U=GT6(Q);if(U){if(U!==W.kind){let z=QT6(W.kind);Y.reportError(new mA0.GraphQLError(`Cannot extend non-${z} type "${$}".`,{nodes:G?[G,W]:W}))}}else{let z=Object.keys({...X,...J===null||J===void 0?void 0:J.getTypeMap()}),H=(0,XT6.suggestionList)($,z);Y.reportError(new mA0.GraphQLError(`Cannot extend type "${$}" because it is not defined.`+(0,JT6.didYouMean)(H),{nodes:W.name}))}}}var $T6={[Z6.Kind.SCALAR_TYPE_DEFINITION]:Z6.Kind.SCALAR_TYPE_EXTENSION,[Z6.Kind.OBJECT_TYPE_DEFINITION]:Z6.Kind.OBJECT_TYPE_EXTENSION,[Z6.Kind.INTERFACE_TYPE_DEFINITION]:Z6.Kind.INTERFACE_TYPE_EXTENSION,[Z6.Kind.UNION_TYPE_DEFINITION]:Z6.Kind.UNION_TYPE_EXTENSION,[Z6.Kind.ENUM_TYPE_DEFINITION]:Z6.Kind.ENUM_TYPE_EXTENSION,[Z6.Kind.INPUT_OBJECT_TYPE_DEFINITION]:Z6.Kind.INPUT_OBJECT_TYPE_EXTENSION};function GT6(Y){if((0,EB.isScalarType)(Y))return Z6.Kind.SCALAR_TYPE_EXTENSION;if((0,EB.isObjectType)(Y))return Z6.Kind.OBJECT_TYPE_EXTENSION;if((0,EB.isInterfaceType)(Y))return Z6.Kind.INTERFACE_TYPE_EXTENSION;if((0,EB.isUnionType)(Y))return Z6.Kind.UNION_TYPE_EXTENSION;if((0,EB.isEnumType)(Y))return Z6.Kind.ENUM_TYPE_EXTENSION;if((0,EB.isInputObjectType)(Y))return Z6.Kind.INPUT_OBJECT_TYPE_EXTENSION;(0,cA0.invariant)(!1,"Unexpected type: "+(0,dA0.inspect)(Y))}function QT6(Y){switch(Y){case Z6.Kind.SCALAR_TYPE_EXTENSION:return"scalar";case Z6.Kind.OBJECT_TYPE_EXTENSION:return"object";case Z6.Kind.INTERFACE_TYPE_EXTENSION:return"interface";case Z6.Kind.UNION_TYPE_EXTENSION:return"union";case Z6.Kind.ENUM_TYPE_EXTENSION:return"enum";case Z6.Kind.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:(0,cA0.invariant)(!1,"Unexpected kind: "+(0,dA0.inspect)(Y))}}});var D51=q((aA0)=>{Object.defineProperty(aA0,"__esModule",{value:!0});aA0.ProvidedRequiredArgumentsOnDirectivesRule=rA0;aA0.ProvidedRequiredArgumentsRule=OT6;var nA0=V4(),pA0=o$(),iA0=U0(),oA0=n0(),zT6=P7(),I51=i0(),HT6=o9();function OT6(Y){return{...rA0(Y),Field:{leave(J){var X;let Z=Y.getFieldDef();if(!Z)return!1;let W=new Set((X=J.arguments)===null||X===void 0?void 0:X.map(($)=>$.name.value));for(let $ of Z.args)if(!W.has($.name)&&(0,I51.isRequiredArgument)($)){let G=(0,nA0.inspect)($.type);Y.reportError(new iA0.GraphQLError(`Field "${Z.name}" argument "${$.name}" of type "${G}" is required, but it was not provided.`,{nodes:J}))}}}}}function rA0(Y){var J;let X=Object.create(null),Z=Y.getSchema(),W=(J=Z===null||Z===void 0?void 0:Z.getDirectives())!==null&&J!==void 0?J:HT6.specifiedDirectives;for(let Q of W)X[Q.name]=(0,pA0.keyMap)(Q.args.filter(I51.isRequiredArgument),(U)=>U.name);let $=Y.getDocument().definitions;for(let Q of $)if(Q.kind===oA0.Kind.DIRECTIVE_DEFINITION){var G;let U=(G=Q.arguments)!==null&&G!==void 0?G:[];X[Q.name.value]=(0,pA0.keyMap)(U.filter(KT6),(z)=>z.name.value)}return{Directive:{leave(Q){let U=Q.name.value,z=X[U];if(z){var H;let O=(H=Q.arguments)!==null&&H!==void 0?H:[],K=new Set(O.map((B)=>B.name.value));for(let[B,F]of Object.entries(z))if(!K.has(B)){let V=(0,I51.isType)(F.type)?(0,nA0.inspect)(F.type):(0,zT6.print)(F.type);Y.reportError(new iA0.GraphQLError(`Directive "@${U}" argument "${B}" of type "${V}" is required, but it was not provided.`,{nodes:Q}))}}}}}}function KT6(Y){return Y.type.kind===oA0.Kind.NON_NULL_TYPE&&Y.defaultValue==null}});var P51=q((tA0)=>{Object.defineProperty(tA0,"__esModule",{value:!0});tA0.ScalarLeafsRule=FT6;var w51=V4(),A51=U0(),sA0=i0();function FT6(Y){return{Field(J){let X=Y.getType(),Z=J.selectionSet;if(X){if((0,sA0.isLeafType)((0,sA0.getNamedType)(X))){if(Z){let W=J.name.value,$=(0,w51.inspect)(X);Y.reportError(new A51.GraphQLError(`Field "${W}" must not have a selection since type "${$}" has no subfields.`,{nodes:Z}))}}else if(!Z){let W=J.name.value,$=(0,w51.inspect)(X);Y.reportError(new A51.GraphQLError(`Field "${W}" of type "${$}" must have a selection of subfields. Did you mean "${W} { ... }"?`,{nodes:J}))}else if(Z.selections.length===0){let W=J.name.value,$=(0,w51.inspect)(X);Y.reportError(new A51.GraphQLError(`Field "${W}" of type "${$}" must have at least one field selected.`,{nodes:J}))}}}}}});var L51=q((eA0)=>{Object.defineProperty(eA0,"__esModule",{value:!0});eA0.printPathArray=IT6;function IT6(Y){return Y.map((J)=>typeof J==="number"?"["+J.toString()+"]":"."+J).join("")}});var CA=q((YP0)=>{Object.defineProperty(YP0,"__esModule",{value:!0});YP0.addPath=wT6;YP0.pathToArray=AT6;function wT6(Y,J,X){return{prev:Y,key:J,typename:X}}function AT6(Y){let J=[],X=Y;while(X)J.push(X.key),X=X.prev;return J.reverse()}});var M51=q((JP0)=>{Object.defineProperty(JP0,"__esModule",{value:!0});JP0.coerceInputValue=CT6;var MT6=i$(),xk=V4(),ET6=d5(),TT6=Rk(),RT6=q3(),_J=CA(),NT6=L51(),ST6=r$(),gZ=U0(),jA=i0();function CT6(Y,J,X=jT6){return kA(Y,J,X,void 0)}function jT6(Y,J,X){let Z="Invalid value "+(0,xk.inspect)(J);if(Y.length>0)Z+=` at "value${(0,NT6.printPathArray)(Y)}"`;throw X.message=Z+": "+X.message,X}function kA(Y,J,X,Z){if((0,jA.isNonNullType)(J)){if(Y!=null)return kA(Y,J.ofType,X,Z);X((0,_J.pathToArray)(Z),Y,new gZ.GraphQLError(`Expected non-nullable type "${(0,xk.inspect)(J)}" not to be null.`));return}if(Y==null)return null;if((0,jA.isListType)(J)){let W=J.ofType;if((0,TT6.isIterableObject)(Y))return Array.from(Y,($,G)=>{let Q=(0,_J.addPath)(Z,G,void 0);return kA($,W,X,Q)});return[kA(Y,W,X,Z)]}if((0,jA.isInputObjectType)(J)){if(!(0,RT6.isObjectLike)(Y)||Array.isArray(Y)){X((0,_J.pathToArray)(Z),Y,new gZ.GraphQLError(`Expected type "${J.name}" to be an object.`));return}let W={},$=J.getFields();for(let G of Object.values($)){let Q=Y[G.name];if(Q===void 0){if(G.defaultValue!==void 0)W[G.name]=G.defaultValue;else if((0,jA.isNonNullType)(G.type)){let U=(0,xk.inspect)(G.type);X((0,_J.pathToArray)(Z),Y,new gZ.GraphQLError(`Field "${G.name}" of required type "${U}" was not provided.`))}continue}W[G.name]=kA(Q,G.type,X,(0,_J.addPath)(Z,G.name,J.name))}for(let G of Object.keys(Y))if(!$[G]){let Q=(0,ST6.suggestionList)(G,Object.keys(J.getFields()));X((0,_J.pathToArray)(Z),Y,new gZ.GraphQLError(`Field "${G}" is not defined by type "${J.name}".`+(0,MT6.didYouMean)(Q)))}if(J.isOneOf){let G=Object.keys(W);if(G.length!==1)X((0,_J.pathToArray)(Z),Y,new gZ.GraphQLError(`Exactly one key must be specified for OneOf type "${J.name}".`));let Q=G[0],U=W[Q];if(U===null)X((0,_J.pathToArray)(Z).concat(Q),U,new gZ.GraphQLError(`Field "${Q}" must be non-null.`))}return W}if((0,jA.isLeafType)(J)){let W;try{W=J.parseValue(Y)}catch($){if($ instanceof gZ.GraphQLError)X((0,_J.pathToArray)(Z),Y,$);else X((0,_J.pathToArray)(Z),Y,new gZ.GraphQLError(`Expected type "${J.name}". `+$.message,{originalError:$}));return}if(W===void 0)X((0,_J.pathToArray)(Z),Y,new gZ.GraphQLError(`Expected type "${J.name}".`));return W}(0,ET6.invariant)(!1,"Unexpected input type: "+(0,xk.inspect)(J))}});var xA=q((ZP0)=>{Object.defineProperty(ZP0,"__esModule",{value:!0});ZP0.valueFromAST=_A;var _T6=V4(),xT6=d5(),fT6=o$(),TB=n0(),tU=i0();function _A(Y,J,X){if(!Y)return;if(Y.kind===TB.Kind.VARIABLE){let Z=Y.name.value;if(X==null||X[Z]===void 0)return;let W=X[Z];if(W===null&&(0,tU.isNonNullType)(J))return;return W}if((0,tU.isNonNullType)(J)){if(Y.kind===TB.Kind.NULL)return;return _A(Y,J.ofType,X)}if(Y.kind===TB.Kind.NULL)return null;if((0,tU.isListType)(J)){let Z=J.ofType;if(Y.kind===TB.Kind.LIST){let $=[];for(let G of Y.values)if(XP0(G,X)){if((0,tU.isNonNullType)(Z))return;$.push(null)}else{let Q=_A(G,Z,X);if(Q===void 0)return;$.push(Q)}return $}let W=_A(Y,Z,X);if(W===void 0)return;return[W]}if((0,tU.isInputObjectType)(J)){if(Y.kind!==TB.Kind.OBJECT)return;let Z=Object.create(null),W=(0,fT6.keyMap)(Y.fields,($)=>$.name.value);for(let $ of Object.values(J.getFields())){let G=W[$.name];if(!G||XP0(G.value,X)){if($.defaultValue!==void 0)Z[$.name]=$.defaultValue;else if((0,tU.isNonNullType)($.type))return;continue}let Q=_A(G.value,$.type,X);if(Q===void 0)return;Z[$.name]=Q}if(J.isOneOf){let $=Object.keys(Z);if($.length!==1)return;if(Z[$[0]]===null)return}return Z}if((0,tU.isLeafType)(J)){let Z;try{Z=J.parseLiteral(Y,X)}catch(W){return}if(Z===void 0)return;return Z}(0,xT6.invariant)(!1,"Unexpected input type: "+(0,_T6.inspect)(J))}function XP0(Y,J){return Y.kind===TB.Kind.VARIABLE&&(J==null||J[Y.name.value]===void 0)}});var SB=q((zP0)=>{Object.defineProperty(zP0,"__esModule",{value:!0});zP0.getArgumentValues=QP0;zP0.getDirectiveValues=dT6;zP0.getVariableValues=uT6;var RB=V4(),hT6=o$(),bT6=L51(),uZ=U0(),WP0=n0(),$P0=P7(),NB=i0(),yT6=M51(),gT6=D3(),GP0=xA();function uT6(Y,J,X,Z){let W=[],$=Z===null||Z===void 0?void 0:Z.maxErrors;try{let G=mT6(Y,J,X,(Q)=>{if($!=null&&W.length>=$)throw new uZ.GraphQLError("Too many errors processing variables, error limit reached. Execution aborted.");W.push(Q)});if(W.length===0)return{coerced:G}}catch(G){W.push(G)}return{errors:W}}function mT6(Y,J,X,Z){let W={};for(let $ of J){let G=$.variable.name.value,Q=(0,gT6.typeFromAST)(Y,$.type);if(!(0,NB.isInputType)(Q)){let z=(0,$P0.print)($.type);Z(new uZ.GraphQLError(`Variable "$${G}" expected value of type "${z}" which cannot be used as an input type.`,{nodes:$.type}));continue}if(!UP0(X,G)){if($.defaultValue)W[G]=(0,GP0.valueFromAST)($.defaultValue,Q);else if((0,NB.isNonNullType)(Q)){let z=(0,RB.inspect)(Q);Z(new uZ.GraphQLError(`Variable "$${G}" of required type "${z}" was not provided.`,{nodes:$}))}continue}let U=X[G];if(U===null&&(0,NB.isNonNullType)(Q)){let z=(0,RB.inspect)(Q);Z(new uZ.GraphQLError(`Variable "$${G}" of non-null type "${z}" must not be null.`,{nodes:$}));continue}W[G]=(0,yT6.coerceInputValue)(U,Q,(z,H,O)=>{let K=`Variable "$${G}" got invalid value `+(0,RB.inspect)(H);if(z.length>0)K+=` at "${G}${(0,bT6.printPathArray)(z)}"`;Z(new uZ.GraphQLError(K+"; "+O.message,{nodes:$,originalError:O}))})}return W}function QP0(Y,J,X){var Z;let W={},$=(Z=J.arguments)!==null&&Z!==void 0?Z:[],G=(0,hT6.keyMap)($,(Q)=>Q.name.value);for(let Q of Y.args){let{name:U,type:z}=Q,H=G[U];if(!H){if(Q.defaultValue!==void 0)W[U]=Q.defaultValue;else if((0,NB.isNonNullType)(z))throw new uZ.GraphQLError(`Argument "${U}" of required type "${(0,RB.inspect)(z)}" was not provided.`,{nodes:J});continue}let O=H.value,K=O.kind===WP0.Kind.NULL;if(O.kind===WP0.Kind.VARIABLE){let F=O.name.value;if(X==null||!UP0(X,F)){if(Q.defaultValue!==void 0)W[U]=Q.defaultValue;else if((0,NB.isNonNullType)(z))throw new uZ.GraphQLError(`Argument "${U}" of required type "${(0,RB.inspect)(z)}" was provided the variable "$${F}" which was not provided a runtime value.`,{nodes:O});continue}K=X[F]==null}if(K&&(0,NB.isNonNullType)(z))throw new uZ.GraphQLError(`Argument "${U}" of non-null type "${(0,RB.inspect)(z)}" must not be null.`,{nodes:O});let B=(0,GP0.valueFromAST)(O,z,X);if(B===void 0)throw new uZ.GraphQLError(`Argument "${U}" has invalid value ${(0,$P0.print)(O)}.`,{nodes:O});W[U]=B}return W}function dT6(Y,J,X){var Z;let W=(Z=J.directives)===null||Z===void 0?void 0:Z.find(($)=>$.name.value===Y.name);if(W)return QP0(Y,W,X)}function UP0(Y,J){return Object.prototype.hasOwnProperty.call(Y,J)}});var vk=q((BP0)=>{Object.defineProperty(BP0,"__esModule",{value:!0});BP0.collectFields=oT6;BP0.collectSubfields=rT6;var E51=n0(),nT6=i0(),HP0=o9(),iT6=D3(),OP0=SB();function oT6(Y,J,X,Z,W){let $=new Map;return fk(Y,J,X,Z,W,$,new Set),$}function rT6(Y,J,X,Z,W){let $=new Map,G=new Set;for(let Q of W)if(Q.selectionSet)fk(Y,J,X,Z,Q.selectionSet,$,G);return $}function fk(Y,J,X,Z,W,$,G){for(let Q of W.selections)switch(Q.kind){case E51.Kind.FIELD:{if(!T51(X,Q))continue;let U=aT6(Q),z=$.get(U);if(z!==void 0)z.push(Q);else $.set(U,[Q]);break}case E51.Kind.INLINE_FRAGMENT:{if(!T51(X,Q)||!KP0(Y,Q,Z))continue;fk(Y,J,X,Z,Q.selectionSet,$,G);break}case E51.Kind.FRAGMENT_SPREAD:{let U=Q.name.value;if(G.has(U)||!T51(X,Q))continue;G.add(U);let z=J[U];if(!z||!KP0(Y,z,Z))continue;fk(Y,J,X,Z,z.selectionSet,$,G);break}}}function T51(Y,J){let X=(0,OP0.getDirectiveValues)(HP0.GraphQLSkipDirective,J,Y);if((X===null||X===void 0?void 0:X.if)===!0)return!1;let Z=(0,OP0.getDirectiveValues)(HP0.GraphQLIncludeDirective,J,Y);if((Z===null||Z===void 0?void 0:Z.if)===!1)return!1;return!0}function KP0(Y,J,X){let Z=J.typeCondition;if(!Z)return!0;let W=(0,iT6.typeFromAST)(Y,Z);if(W===X)return!0;if((0,nT6.isAbstractType)(W))return Y.isSubType(W,X);return!1}function aT6(Y){return Y.alias?Y.alias.value:Y.name.value}});var R51=q((FP0)=>{Object.defineProperty(FP0,"__esModule",{value:!0});FP0.SingleFieldSubscriptionsRule=JR6;var qP0=U0(),eT6=n0(),YR6=vk();function JR6(Y){return{OperationDefinition(J){if(J.operation==="subscription"){let X=Y.getSchema(),Z=X.getSubscriptionType();if(Z){let W=J.name?J.name.value:null,$=Object.create(null),G=Y.getDocument(),Q=Object.create(null);for(let z of G.definitions)if(z.kind===eT6.Kind.FRAGMENT_DEFINITION)Q[z.name.value]=z;let U=(0,YR6.collectFields)(X,Q,$,Z,J.selectionSet);if(U.size>1){let O=[...U.values()].slice(1).flat();Y.reportError(new qP0.GraphQLError(W!=null?`Subscription "${W}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:O}))}for(let z of U.values())if(z[0].name.value.startsWith("__"))Y.reportError(new qP0.GraphQLError(W!=null?`Subscription "${W}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:z}))}}}}}});var hk=q((VP0)=>{Object.defineProperty(VP0,"__esModule",{value:!0});VP0.groupBy=ZR6;function ZR6(Y,J){let X=new Map;for(let Z of Y){let W=J(Z),$=X.get(W);if($===void 0)X.set(W,[Z]);else $.push(Z)}return X}});var N51=q((IP0)=>{Object.defineProperty(IP0,"__esModule",{value:!0});IP0.UniqueArgumentDefinitionNamesRule=QR6;var $R6=hk(),GR6=U0();function QR6(Y){return{DirectiveDefinition(Z){var W;let $=(W=Z.arguments)!==null&&W!==void 0?W:[];return X(`@${Z.name.value}`,$)},InterfaceTypeDefinition:J,InterfaceTypeExtension:J,ObjectTypeDefinition:J,ObjectTypeExtension:J};function J(Z){var W;let $=Z.name.value,G=(W=Z.fields)!==null&&W!==void 0?W:[];for(let U of G){var Q;let z=U.name.value,H=(Q=U.arguments)!==null&&Q!==void 0?Q:[];X(`${$}.${z}`,H)}return!1}function X(Z,W){let $=(0,$R6.groupBy)(W,(G)=>G.name.value);for(let[G,Q]of $)if(Q.length>1)Y.reportError(new GR6.GraphQLError(`Argument "${Z}(${G}:)" can only be defined once.`,{nodes:Q.map((U)=>U.name)}));return!1}}});var S51=q((DP0)=>{Object.defineProperty(DP0,"__esModule",{value:!0});DP0.UniqueArgumentNamesRule=OR6;var zR6=hk(),HR6=U0();function OR6(Y){return{Field:J,Directive:J};function J(X){var Z;let W=(Z=X.arguments)!==null&&Z!==void 0?Z:[],$=(0,zR6.groupBy)(W,(G)=>G.name.value);for(let[G,Q]of $)if(Q.length>1)Y.reportError(new HR6.GraphQLError(`There can be only one argument named "${G}".`,{nodes:Q.map((U)=>U.name)}))}}});var C51=q((AP0)=>{Object.defineProperty(AP0,"__esModule",{value:!0});AP0.UniqueDirectiveNamesRule=BR6;var wP0=U0();function BR6(Y){let J=Object.create(null),X=Y.getSchema();return{DirectiveDefinition(Z){let W=Z.name.value;if(X!==null&&X!==void 0&&X.getDirective(W)){Y.reportError(new wP0.GraphQLError(`Directive "@${W}" already exists in the schema. It cannot be redefined.`,{nodes:Z.name}));return}if(J[W])Y.reportError(new wP0.GraphQLError(`There can be only one directive named "@${W}".`,{nodes:[J[W],Z.name]}));else J[W]=Z.name;return!1}}}});var k51=q((LP0)=>{Object.defineProperty(LP0,"__esModule",{value:!0});LP0.UniqueDirectivesPerLocationRule=IR6;var FR6=U0(),j51=n0(),PP0=sU(),VR6=o9();function IR6(Y){let J=Object.create(null),X=Y.getSchema(),Z=X?X.getDirectives():VR6.specifiedDirectives;for(let Q of Z)J[Q.name]=!Q.isRepeatable;let W=Y.getDocument().definitions;for(let Q of W)if(Q.kind===j51.Kind.DIRECTIVE_DEFINITION)J[Q.name.value]=!Q.repeatable;let $=Object.create(null),G=Object.create(null);return{enter(Q){if(!("directives"in Q)||!Q.directives)return;let U;if(Q.kind===j51.Kind.SCHEMA_DEFINITION||Q.kind===j51.Kind.SCHEMA_EXTENSION)U=$;else if((0,PP0.isTypeDefinitionNode)(Q)||(0,PP0.isTypeExtensionNode)(Q)){let z=Q.name.value;if(U=G[z],U===void 0)G[z]=U=Object.create(null)}else U=Object.create(null);for(let z of Q.directives){let H=z.name.value;if(J[H])if(U[H])Y.reportError(new FR6.GraphQLError(`The directive "@${H}" can only be used once at this location.`,{nodes:[U[H],z]}));else U[H]=z}}}}});var _51=q((EP0)=>{Object.defineProperty(EP0,"__esModule",{value:!0});EP0.UniqueEnumValueNamesRule=AR6;var MP0=U0(),wR6=i0();function AR6(Y){let J=Y.getSchema(),X=J?J.getTypeMap():Object.create(null),Z=Object.create(null);return{EnumTypeDefinition:W,EnumTypeExtension:W};function W($){var G;let Q=$.name.value;if(!Z[Q])Z[Q]=Object.create(null);let U=(G=$.values)!==null&&G!==void 0?G:[],z=Z[Q];for(let H of U){let O=H.name.value,K=X[Q];if((0,wR6.isEnumType)(K)&&K.getValue(O))Y.reportError(new MP0.GraphQLError(`Enum value "${Q}.${O}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:H.name}));else if(z[O])Y.reportError(new MP0.GraphQLError(`Enum value "${Q}.${O}" can only be defined once.`,{nodes:[z[O],H.name]}));else z[O]=H.name}return!1}}});var f51=q((RP0)=>{Object.defineProperty(RP0,"__esModule",{value:!0});RP0.UniqueFieldDefinitionNamesRule=LR6;var TP0=U0(),x51=i0();function LR6(Y){let J=Y.getSchema(),X=J?J.getTypeMap():Object.create(null),Z=Object.create(null);return{InputObjectTypeDefinition:W,InputObjectTypeExtension:W,InterfaceTypeDefinition:W,InterfaceTypeExtension:W,ObjectTypeDefinition:W,ObjectTypeExtension:W};function W($){var G;let Q=$.name.value;if(!Z[Q])Z[Q]=Object.create(null);let U=(G=$.fields)!==null&&G!==void 0?G:[],z=Z[Q];for(let H of U){let O=H.name.value;if(MR6(X[Q],O))Y.reportError(new TP0.GraphQLError(`Field "${Q}.${O}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:H.name}));else if(z[O])Y.reportError(new TP0.GraphQLError(`Field "${Q}.${O}" can only be defined once.`,{nodes:[z[O],H.name]}));else z[O]=H.name}return!1}}function MR6(Y,J){if((0,x51.isObjectType)(Y)||(0,x51.isInterfaceType)(Y)||(0,x51.isInputObjectType)(Y))return Y.getFields()[J]!=null;return!1}});var v51=q((NP0)=>{Object.defineProperty(NP0,"__esModule",{value:!0});NP0.UniqueFragmentNamesRule=RR6;var TR6=U0();function RR6(Y){let J=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(X){let Z=X.name.value;if(J[Z])Y.reportError(new TR6.GraphQLError(`There can be only one fragment named "${Z}".`,{nodes:[J[Z],X.name]}));else J[Z]=X.name;return!1}}}});var h51=q((SP0)=>{Object.defineProperty(SP0,"__esModule",{value:!0});SP0.UniqueInputFieldNamesRule=jR6;var SR6=d5(),CR6=U0();function jR6(Y){let J=[],X=Object.create(null);return{ObjectValue:{enter(){J.push(X),X=Object.create(null)},leave(){let Z=J.pop();Z||(0,SR6.invariant)(!1),X=Z}},ObjectField(Z){let W=Z.name.value;if(X[W])Y.reportError(new CR6.GraphQLError(`There can be only one input field named "${W}".`,{nodes:[X[W],Z.name]}));else X[W]=Z.name}}}});var b51=q((CP0)=>{Object.defineProperty(CP0,"__esModule",{value:!0});CP0.UniqueOperationNamesRule=xR6;var _R6=U0();function xR6(Y){let J=Object.create(null);return{OperationDefinition(X){let Z=X.name;if(Z)if(J[Z.value])Y.reportError(new _R6.GraphQLError(`There can be only one operation named "${Z.value}".`,{nodes:[J[Z.value],Z]}));else J[Z.value]=Z;return!1},FragmentDefinition:()=>!1}}});var y51=q((kP0)=>{Object.defineProperty(kP0,"__esModule",{value:!0});kP0.UniqueOperationTypesRule=vR6;var jP0=U0();function vR6(Y){let J=Y.getSchema(),X=Object.create(null),Z=J?{query:J.getQueryType(),mutation:J.getMutationType(),subscription:J.getSubscriptionType()}:{};return{SchemaDefinition:W,SchemaExtension:W};function W($){var G;let Q=(G=$.operationTypes)!==null&&G!==void 0?G:[];for(let U of Q){let z=U.operation,H=X[z];if(Z[z])Y.reportError(new jP0.GraphQLError(`Type for ${z} already defined in the schema. It cannot be redefined.`,{nodes:U}));else if(H)Y.reportError(new jP0.GraphQLError(`There can be only one ${z} type in schema.`,{nodes:[H,U]}));else X[z]=U}return!1}}});var g51=q((xP0)=>{Object.defineProperty(xP0,"__esModule",{value:!0});xP0.UniqueTypeNamesRule=bR6;var _P0=U0();function bR6(Y){let J=Object.create(null),X=Y.getSchema();return{ScalarTypeDefinition:Z,ObjectTypeDefinition:Z,InterfaceTypeDefinition:Z,UnionTypeDefinition:Z,EnumTypeDefinition:Z,InputObjectTypeDefinition:Z};function Z(W){let $=W.name.value;if(X!==null&&X!==void 0&&X.getType($)){Y.reportError(new _P0.GraphQLError(`Type "${$}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:W.name}));return}if(J[$])Y.reportError(new _P0.GraphQLError(`There can be only one type named "${$}".`,{nodes:[J[$],W.name]}));else J[$]=W.name;return!1}}});var u51=q((fP0)=>{Object.defineProperty(fP0,"__esModule",{value:!0});fP0.UniqueVariableNamesRule=mR6;var gR6=hk(),uR6=U0();function mR6(Y){return{OperationDefinition(J){var X;let Z=(X=J.variableDefinitions)!==null&&X!==void 0?X:[],W=(0,gR6.groupBy)(Z,($)=>$.variable.name.value);for(let[$,G]of W)if(G.length>1)Y.reportError(new uR6.GraphQLError(`There can be only one variable named "$${$}".`,{nodes:G.map((Q)=>Q.variable.name)}))}}}});var m51=q((vP0)=>{Object.defineProperty(vP0,"__esModule",{value:!0});vP0.ValuesOfCorrectTypeRule=iR6;var cR6=i$(),fA=V4(),lR6=o$(),pR6=r$(),mZ=U0(),nR6=n0(),bk=P7(),w3=i0();function iR6(Y){let J={};return{OperationDefinition:{enter(){J={}}},VariableDefinition(X){J[X.variable.name.value]=X},ListValue(X){let Z=(0,w3.getNullableType)(Y.getParentInputType());if(!(0,w3.isListType)(Z))return eU(Y,X),!1},ObjectValue(X){let Z=(0,w3.getNamedType)(Y.getInputType());if(!(0,w3.isInputObjectType)(Z))return eU(Y,X),!1;let W=(0,lR6.keyMap)(X.fields,($)=>$.name.value);for(let $ of Object.values(Z.getFields()))if(!W[$.name]&&(0,w3.isRequiredInputField)($)){let Q=(0,fA.inspect)($.type);Y.reportError(new mZ.GraphQLError(`Field "${Z.name}.${$.name}" of required type "${Q}" was not provided.`,{nodes:X}))}if(Z.isOneOf)oR6(Y,X,Z,W)},ObjectField(X){let Z=(0,w3.getNamedType)(Y.getParentInputType());if(!Y.getInputType()&&(0,w3.isInputObjectType)(Z)){let $=(0,pR6.suggestionList)(X.name.value,Object.keys(Z.getFields()));Y.reportError(new mZ.GraphQLError(`Field "${X.name.value}" is not defined by type "${Z.name}".`+(0,cR6.didYouMean)($),{nodes:X}))}},NullValue(X){let Z=Y.getInputType();if((0,w3.isNonNullType)(Z))Y.reportError(new mZ.GraphQLError(`Expected value of type "${(0,fA.inspect)(Z)}", found ${(0,bk.print)(X)}.`,{nodes:X}))},EnumValue:(X)=>eU(Y,X),IntValue:(X)=>eU(Y,X),FloatValue:(X)=>eU(Y,X),StringValue:(X)=>eU(Y,X),BooleanValue:(X)=>eU(Y,X)}}function eU(Y,J){let X=Y.getInputType();if(!X)return;let Z=(0,w3.getNamedType)(X);if(!(0,w3.isLeafType)(Z)){let W=(0,fA.inspect)(X);Y.reportError(new mZ.GraphQLError(`Expected value of type "${W}", found ${(0,bk.print)(J)}.`,{nodes:J}));return}try{if(Z.parseLiteral(J,void 0)===void 0){let $=(0,fA.inspect)(X);Y.reportError(new mZ.GraphQLError(`Expected value of type "${$}", found ${(0,bk.print)(J)}.`,{nodes:J}))}}catch(W){let $=(0,fA.inspect)(X);if(W instanceof mZ.GraphQLError)Y.reportError(W);else Y.reportError(new mZ.GraphQLError(`Expected value of type "${$}", found ${(0,bk.print)(J)}; `+W.message,{nodes:J,originalError:W}))}}function oR6(Y,J,X,Z){var W;let $=Object.keys(Z);if($.length!==1){Y.reportError(new mZ.GraphQLError(`OneOf Input Object "${X.name}" must specify exactly one key.`,{nodes:[J]}));return}let Q=(W=Z[$[0]])===null||W===void 0?void 0:W.value;if(!Q||Q.kind===nR6.Kind.NULL)Y.reportError(new mZ.GraphQLError(`Field "${X.name}.${$[0]}" must be non-null.`,{nodes:[J]}))}});var d51=q((hP0)=>{Object.defineProperty(hP0,"__esModule",{value:!0});hP0.VariablesAreInputTypesRule=Y26;var aR6=U0(),sR6=P7(),tR6=i0(),eR6=D3();function Y26(Y){return{VariableDefinition(J){let X=(0,eR6.typeFromAST)(Y.getSchema(),J.type);if(X!==void 0&&!(0,tR6.isInputType)(X)){let Z=J.variable.name.value,W=(0,sR6.print)(J.type);Y.reportError(new aR6.GraphQLError(`Variable "$${Z}" cannot be non-input type "${W}".`,{nodes:J.type}))}}}}});var c51=q((uP0)=>{Object.defineProperty(uP0,"__esModule",{value:!0});uP0.VariablesInAllowedPositionRule=W26;var bP0=V4(),yP0=U0(),X26=n0(),yk=i0(),gP0=IA(),Z26=D3();function W26(Y){let J=Object.create(null);return{OperationDefinition:{enter(){J=Object.create(null)},leave(X){let Z=Y.getRecursiveVariableUsages(X);for(let{node:W,type:$,defaultValue:G,parentType:Q}of Z){let U=W.name.value,z=J[U];if(z&&$){let H=Y.getSchema(),O=(0,Z26.typeFromAST)(H,z.type);if(O&&!$26(H,O,z.defaultValue,$,G)){let K=(0,bP0.inspect)(O),B=(0,bP0.inspect)($);Y.reportError(new yP0.GraphQLError(`Variable "$${U}" of type "${K}" used in position expecting type "${B}".`,{nodes:[z,W]}))}if((0,yk.isInputObjectType)(Q)&&Q.isOneOf&&(0,yk.isNullableType)(O))Y.reportError(new yP0.GraphQLError(`Variable "$${U}" is of type "${O}" but must be non-nullable to be used for OneOf Input Object "${Q}".`,{nodes:[z,W]}))}}}},VariableDefinition(X){J[X.variable.name.value]=X}}}function $26(Y,J,X,Z,W){if((0,yk.isNonNullType)(Z)&&!(0,yk.isNonNullType)(J)){if(!(X!=null&&X.kind!==X26.Kind.NULL)&&W===void 0)return!1;let Q=Z.ofType;return(0,gP0.isTypeSubTypeOf)(Y,J,Q)}return(0,gP0.isTypeSubTypeOf)(Y,J,Z)}});var l51=q((rP0)=>{Object.defineProperty(rP0,"__esModule",{value:!0});rP0.specifiedSDLRules=rP0.specifiedRules=rP0.recommendedRules=void 0;var Q26=c81(),U26=l81(),z26=p81(),mP0=n81(),dP0=r81(),H26=a81(),cP0=t81(),O26=e81(),K26=Y51(),B26=J51(),q26=X51(),F26=Z51(),V26=W51(),I26=$51(),D26=B51(),w26=F51(),A26=V51(),lP0=D51(),P26=P51(),L26=R51(),M26=N51(),pP0=S51(),E26=C51(),nP0=k51(),T26=_51(),R26=f51(),N26=v51(),iP0=h51(),S26=b51(),C26=y51(),j26=g51(),k26=u51(),_26=m51(),x26=d51(),f26=c51(),oP0=Object.freeze([B26.MaxIntrospectionDepthRule]);rP0.recommendedRules=oP0;var v26=Object.freeze([Q26.ExecutableDefinitionsRule,S26.UniqueOperationNamesRule,O26.LoneAnonymousOperationRule,L26.SingleFieldSubscriptionsRule,cP0.KnownTypeNamesRule,z26.FragmentsOnCompositeTypesRule,x26.VariablesAreInputTypesRule,P26.ScalarLeafsRule,U26.FieldsOnCorrectTypeRule,N26.UniqueFragmentNamesRule,H26.KnownFragmentNamesRule,V26.NoUnusedFragmentsRule,w26.PossibleFragmentSpreadsRule,q26.NoFragmentCyclesRule,k26.UniqueVariableNamesRule,F26.NoUndefinedVariablesRule,I26.NoUnusedVariablesRule,dP0.KnownDirectivesRule,nP0.UniqueDirectivesPerLocationRule,mP0.KnownArgumentNamesRule,pP0.UniqueArgumentNamesRule,_26.ValuesOfCorrectTypeRule,lP0.ProvidedRequiredArgumentsRule,f26.VariablesInAllowedPositionRule,D26.OverlappingFieldsCanBeMergedRule,iP0.UniqueInputFieldNamesRule,...oP0]);rP0.specifiedRules=v26;var h26=Object.freeze([K26.LoneSchemaDefinitionRule,C26.UniqueOperationTypesRule,j26.UniqueTypeNamesRule,T26.UniqueEnumValueNamesRule,R26.UniqueFieldDefinitionNamesRule,M26.UniqueArgumentDefinitionNamesRule,E26.UniqueDirectiveNamesRule,cP0.KnownTypeNamesRule,dP0.KnownDirectivesRule,nP0.UniqueDirectivesPerLocationRule,A26.PossibleTypeExtensionsRule,mP0.KnownArgumentNamesOnDirectivesRule,pP0.UniqueArgumentNamesRule,iP0.UniqueInputFieldNamesRule,lP0.ProvidedRequiredArgumentsOnDirectivesRule]);rP0.specifiedSDLRules=h26});var p51=q((JL0)=>{Object.defineProperty(JL0,"__esModule",{value:!0});JL0.ValidationContext=JL0.SDLValidationContext=JL0.ASTValidationContext=void 0;var sP0=n0(),g26=cU(),tP0=Sk();class gk{constructor(Y,J){this._ast=Y,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=J}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(Y){this._onError(Y)}getDocument(){return this._ast}getFragment(Y){let J;if(this._fragments)J=this._fragments;else{J=Object.create(null);for(let X of this.getDocument().definitions)if(X.kind===sP0.Kind.FRAGMENT_DEFINITION)J[X.name.value]=X;this._fragments=J}return J[Y]}getFragmentSpreads(Y){let J=this._fragmentSpreads.get(Y);if(!J){J=[];let X=[Y],Z;while(Z=X.pop())for(let W of Z.selections)if(W.kind===sP0.Kind.FRAGMENT_SPREAD)J.push(W);else if(W.selectionSet)X.push(W.selectionSet);this._fragmentSpreads.set(Y,J)}return J}getRecursivelyReferencedFragments(Y){let J=this._recursivelyReferencedFragments.get(Y);if(!J){J=[];let X=Object.create(null),Z=[Y.selectionSet],W;while(W=Z.pop())for(let $ of this.getFragmentSpreads(W)){let G=$.name.value;if(X[G]!==!0){X[G]=!0;let Q=this.getFragment(G);if(Q)J.push(Q),Z.push(Q.selectionSet)}}this._recursivelyReferencedFragments.set(Y,J)}return J}}JL0.ASTValidationContext=gk;class eP0 extends gk{constructor(Y,J,X){super(Y,X);this._schema=J}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}JL0.SDLValidationContext=eP0;class YL0 extends gk{constructor(Y,J,X,Z){super(J,Z);this._schema=Y,this._typeInfo=X,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}get[Symbol.toStringTag](){return"ValidationContext"}getSchema(){return this._schema}getVariableUsages(Y){let J=this._variableUsages.get(Y);if(!J){let X=[],Z=new tP0.TypeInfo(this._schema);(0,g26.visit)(Y,(0,tP0.visitWithTypeInfo)(Z,{VariableDefinition:()=>!1,Variable(W){X.push({node:W,type:Z.getInputType(),defaultValue:Z.getDefaultValue(),parentType:Z.getParentInputType()})}})),J=X,this._variableUsages.set(Y,J)}return J}getRecursiveVariableUsages(Y){let J=this._recursiveVariableUsages.get(Y);if(!J){J=this.getVariableUsages(Y);for(let X of this.getRecursivelyReferencedFragments(Y))J=J.concat(this.getVariableUsages(X));this._recursiveVariableUsages.set(Y,J)}return J}getType(){return this._typeInfo.getType()}getParentType(){return this._typeInfo.getParentType()}getInputType(){return this._typeInfo.getInputType()}getParentInputType(){return this._typeInfo.getParentInputType()}getFieldDef(){return this._typeInfo.getFieldDef()}getDirective(){return this._typeInfo.getDirective()}getArgument(){return this._typeInfo.getArgument()}getEnumValue(){return this._typeInfo.getEnumValue()}}JL0.ValidationContext=YL0});var vA=q((GL0)=>{Object.defineProperty(GL0,"__esModule",{value:!0});GL0.assertValidSDL=n26;GL0.assertValidSDLExtension=i26;GL0.validate=p26;GL0.validateSDL=n51;var d26=I9(),c26=U0(),uk=cU(),l26=NA(),ZL0=Sk(),WL0=l51(),$L0=p51();function p26(Y,J,X=WL0.specifiedRules,Z,W=new ZL0.TypeInfo(Y)){var $;let G=($=Z===null||Z===void 0?void 0:Z.maxErrors)!==null&&$!==void 0?$:100;J||(0,d26.devAssert)(!1,"Must provide document."),(0,l26.assertValidSchema)(Y);let Q=Object.freeze({}),U=[],z=new $L0.ValidationContext(Y,J,W,(O)=>{if(U.length>=G)throw U.push(new c26.GraphQLError("Too many validation errors, error limit reached. Validation aborted.")),Q;U.push(O)}),H=(0,uk.visitInParallel)(X.map((O)=>O(z)));try{(0,uk.visit)(J,(0,ZL0.visitWithTypeInfo)(W,H))}catch(O){if(O!==Q)throw O}return U}function n51(Y,J,X=WL0.specifiedSDLRules){let Z=[],W=new $L0.SDLValidationContext(Y,J,(G)=>{Z.push(G)}),$=X.map((G)=>G(W));return(0,uk.visit)(Y,(0,uk.visitInParallel)($)),Z}function n26(Y){let J=n51(Y);if(J.length!==0)throw Error(J.map((X)=>X.message).join(`

`))}function i26(Y,J){let X=n51(Y,J);if(X.length!==0)throw Error(X.map((Z)=>Z.message).join(`

`))}});var UL0=q((QL0)=>{Object.defineProperty(QL0,"__esModule",{value:!0});QL0.memoize3=t26;function t26(Y){let J;return function(Z,W,$){if(J===void 0)J=new WeakMap;let G=J.get(Z);if(G===void 0)G=new WeakMap,J.set(Z,G);let Q=G.get(W);if(Q===void 0)Q=new WeakMap,G.set(W,Q);let U=Q.get($);if(U===void 0)U=Y(Z,W,$),Q.set($,U);return U}}});var HL0=q((zL0)=>{Object.defineProperty(zL0,"__esModule",{value:!0});zL0.promiseForObject=YN6;function YN6(Y){return Promise.all(Object.values(Y)).then((J)=>{let X=Object.create(null);for(let[Z,W]of Object.keys(Y).entries())X[W]=J[Z];return X})}});var KL0=q((OL0)=>{Object.defineProperty(OL0,"__esModule",{value:!0});OL0.promiseReduce=ZN6;var XN6=Gk();function ZN6(Y,J,X){let Z=X;for(let W of Y)Z=(0,XN6.isPromise)(Z)?Z.then(($)=>J($,W)):J(Z,W);return Z}});var FL0=q((qL0)=>{Object.defineProperty(qL0,"__esModule",{value:!0});qL0.toError=GN6;var $N6=V4();function GN6(Y){return Y instanceof Error?Y:new BL0(Y)}class BL0 extends Error{constructor(Y){super("Unexpected error value: "+(0,$N6.inspect)(Y));this.name="NonErrorThrown",this.thrownValue=Y}}});var mk=q((VL0)=>{Object.defineProperty(VL0,"__esModule",{value:!0});VL0.locatedError=HN6;var UN6=FL0(),zN6=U0();function HN6(Y,J,X){var Z;let W=(0,UN6.toError)(Y);if(ON6(W))return W;return new zN6.GraphQLError(W.message,{nodes:(Z=W.nodes)!==null&&Z!==void 0?Z:J,source:W.source,positions:W.positions,path:X,originalError:W})}function ON6(Y){return Array.isArray(Y.path)}});var bA=q((jL0)=>{Object.defineProperty(jL0,"__esModule",{value:!0});jL0.assertValidExecutionArguments=EL0;jL0.buildExecutionContext=TL0;jL0.buildResolveInfo=NL0;jL0.defaultTypeResolver=jL0.defaultFieldResolver=void 0;jL0.execute=ML0;jL0.executeSync=wN6;jL0.getFieldDef=CL0;var o51=I9(),Yz=V4(),BN6=d5(),qN6=Rk(),s51=q3(),xJ=Gk(),FN6=UL0(),Jz=CA(),IL0=HL0(),VN6=KL0(),TY=U0(),ck=mk(),i51=RJ(),DL0=n0(),e$=i0(),CB=EY(),IN6=NA(),PL0=vk(),LL0=SB(),DN6=(0,FN6.memoize3)((Y,J,X)=>(0,PL0.collectSubfields)(Y.schema,Y.fragments,Y.variableValues,J,X));function ML0(Y){arguments.length<2||(0,o51.devAssert)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");let{schema:J,document:X,variableValues:Z,rootValue:W}=Y;EL0(J,X,Z);let $=TL0(Y);if(!("schema"in $))return{errors:$};try{let{operation:G}=$,Q=AN6($,G,W);if((0,xJ.isPromise)(Q))return Q.then((U)=>dk(U,$.errors),(U)=>{return $.errors.push(U),dk(null,$.errors)});return dk(Q,$.errors)}catch(G){return $.errors.push(G),dk(null,$.errors)}}function wN6(Y){let J=ML0(Y);if((0,xJ.isPromise)(J))throw Error("GraphQL execution failed to complete synchronously.");return J}function dk(Y,J){return J.length===0?{data:Y}:{errors:J,data:Y}}function EL0(Y,J,X){J||(0,o51.devAssert)(!1,"Must provide document."),(0,IN6.assertValidSchema)(Y),X==null||(0,s51.isObjectLike)(X)||(0,o51.devAssert)(!1,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function TL0(Y){var J,X,Z;let{schema:W,document:$,rootValue:G,contextValue:Q,variableValues:U,operationName:z,fieldResolver:H,typeResolver:O,subscribeFieldResolver:K,options:B}=Y,F,V=Object.create(null);for(let L of $.definitions)switch(L.kind){case DL0.Kind.OPERATION_DEFINITION:if(z==null){if(F!==void 0)return[new TY.GraphQLError("Must provide operation name if query contains multiple operations.")];F=L}else if(((J=L.name)===null||J===void 0?void 0:J.value)===z)F=L;break;case DL0.Kind.FRAGMENT_DEFINITION:V[L.name.value]=L;break;default:}if(!F){if(z!=null)return[new TY.GraphQLError(`Unknown operation named "${z}".`)];return[new TY.GraphQLError("Must provide an operation.")]}let I=(X=F.variableDefinitions)!==null&&X!==void 0?X:[],D=(0,LL0.getVariableValues)(W,I,U!==null&&U!==void 0?U:{},{maxErrors:(Z=B===null||B===void 0?void 0:B.maxCoercionErrors)!==null&&Z!==void 0?Z:50});if(D.errors)return D.errors;return{schema:W,fragments:V,rootValue:G,contextValue:Q,operation:F,variableValues:D.coerced,fieldResolver:H!==null&&H!==void 0?H:a51,typeResolver:O!==null&&O!==void 0?O:SL0,subscribeFieldResolver:K!==null&&K!==void 0?K:a51,errors:[]}}function AN6(Y,J,X){let Z=Y.schema.getRootType(J.operation);if(Z==null)throw new TY.GraphQLError(`Schema is not configured to execute ${J.operation} operation.`,{nodes:J});let W=(0,PL0.collectFields)(Y.schema,Y.fragments,Y.variableValues,Z,J.selectionSet),$=void 0;switch(J.operation){case i51.OperationTypeNode.QUERY:return lk(Y,Z,X,$,W);case i51.OperationTypeNode.MUTATION:return PN6(Y,Z,X,$,W);case i51.OperationTypeNode.SUBSCRIPTION:return lk(Y,Z,X,$,W)}}function PN6(Y,J,X,Z,W){return(0,VN6.promiseReduce)(W.entries(),($,[G,Q])=>{let U=(0,Jz.addPath)(Z,G,J.name),z=RL0(Y,J,X,Q,U);if(z===void 0)return $;if((0,xJ.isPromise)(z))return z.then((H)=>{return $[G]=H,$});return $[G]=z,$},Object.create(null))}function lk(Y,J,X,Z,W){let $=Object.create(null),G=!1;try{for(let[Q,U]of W.entries()){let z=(0,Jz.addPath)(Z,Q,J.name),H=RL0(Y,J,X,U,z);if(H!==void 0){if($[Q]=H,(0,xJ.isPromise)(H))G=!0}}}catch(Q){if(G)return(0,IL0.promiseForObject)($).finally(()=>{throw Q});throw Q}if(!G)return $;return(0,IL0.promiseForObject)($)}function RL0(Y,J,X,Z,W){var $;let G=CL0(Y.schema,J,Z[0]);if(!G)return;let Q=G.type,U=($=G.resolve)!==null&&$!==void 0?$:Y.fieldResolver,z=NL0(Y,G,Z,J,W);try{let H=(0,LL0.getArgumentValues)(G,Z[0],Y.variableValues),O=Y.contextValue,K=U(X,H,O,z),B;if((0,xJ.isPromise)(K))B=K.then((F)=>hA(Y,Q,Z,z,W,F));else B=hA(Y,Q,Z,z,W,K);if((0,xJ.isPromise)(B))return B.then(void 0,(F)=>{let V=(0,ck.locatedError)(F,Z,(0,Jz.pathToArray)(W));return pk(V,Q,Y)});return B}catch(H){let O=(0,ck.locatedError)(H,Z,(0,Jz.pathToArray)(W));return pk(O,Q,Y)}}function NL0(Y,J,X,Z,W){return{fieldName:J.name,fieldNodes:X,returnType:J.type,parentType:Z,path:W,schema:Y.schema,fragments:Y.fragments,rootValue:Y.rootValue,operation:Y.operation,variableValues:Y.variableValues}}function pk(Y,J,X){if((0,e$.isNonNullType)(J))throw Y;return X.errors.push(Y),null}function hA(Y,J,X,Z,W,$){if($ instanceof Error)throw $;if((0,e$.isNonNullType)(J)){let G=hA(Y,J.ofType,X,Z,W,$);if(G===null)throw Error(`Cannot return null for non-nullable field ${Z.parentType.name}.${Z.fieldName}.`);return G}if($==null)return null;if((0,e$.isListType)(J))return LN6(Y,J,X,Z,W,$);if((0,e$.isLeafType)(J))return MN6(J,$);if((0,e$.isAbstractType)(J))return EN6(Y,J,X,Z,W,$);if((0,e$.isObjectType)(J))return r51(Y,J,X,Z,W,$);(0,BN6.invariant)(!1,"Cannot complete value of unexpected output type: "+(0,Yz.inspect)(J))}function LN6(Y,J,X,Z,W,$){if(!(0,qN6.isIterableObject)($))throw new TY.GraphQLError(`Expected Iterable, but did not find one for field "${Z.parentType.name}.${Z.fieldName}".`);let G=J.ofType,Q=!1,U=Array.from($,(z,H)=>{let O=(0,Jz.addPath)(W,H,void 0);try{let K;if((0,xJ.isPromise)(z))K=z.then((B)=>hA(Y,G,X,Z,O,B));else K=hA(Y,G,X,Z,O,z);if((0,xJ.isPromise)(K))return Q=!0,K.then(void 0,(B)=>{let F=(0,ck.locatedError)(B,X,(0,Jz.pathToArray)(O));return pk(F,G,Y)});return K}catch(K){let B=(0,ck.locatedError)(K,X,(0,Jz.pathToArray)(O));return pk(B,G,Y)}});return Q?Promise.all(U):U}function MN6(Y,J){let X=Y.serialize(J);if(X==null)throw Error(`Expected \`${(0,Yz.inspect)(Y)}.serialize(${(0,Yz.inspect)(J)})\` to return non-nullable value, returned: ${(0,Yz.inspect)(X)}`);return X}function EN6(Y,J,X,Z,W,$){var G;let Q=(G=J.resolveType)!==null&&G!==void 0?G:Y.typeResolver,U=Y.contextValue,z=Q($,U,Z,J);if((0,xJ.isPromise)(z))return z.then((H)=>r51(Y,wL0(H,Y,J,X,Z,$),X,Z,W,$));return r51(Y,wL0(z,Y,J,X,Z,$),X,Z,W,$)}function wL0(Y,J,X,Z,W,$){if(Y==null)throw new TY.GraphQLError(`Abstract type "${X.name}" must resolve to an Object type at runtime for field "${W.parentType.name}.${W.fieldName}". Either the "${X.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,Z);if((0,e$.isObjectType)(Y))throw new TY.GraphQLError("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if(typeof Y!=="string")throw new TY.GraphQLError(`Abstract type "${X.name}" must resolve to an Object type at runtime for field "${W.parentType.name}.${W.fieldName}" with value ${(0,Yz.inspect)($)}, received "${(0,Yz.inspect)(Y)}".`);let G=J.schema.getType(Y);if(G==null)throw new TY.GraphQLError(`Abstract type "${X.name}" was resolved to a type "${Y}" that does not exist inside the schema.`,{nodes:Z});if(!(0,e$.isObjectType)(G))throw new TY.GraphQLError(`Abstract type "${X.name}" was resolved to a non-object type "${Y}".`,{nodes:Z});if(!J.schema.isSubType(X,G))throw new TY.GraphQLError(`Runtime Object type "${G.name}" is not a possible type for "${X.name}".`,{nodes:Z});return G}function r51(Y,J,X,Z,W,$){let G=DN6(Y,J,X);if(J.isTypeOf){let Q=J.isTypeOf($,Y.contextValue,Z);if((0,xJ.isPromise)(Q))return Q.then((U)=>{if(!U)throw AL0(J,$,X);return lk(Y,J,$,W,G)});if(!Q)throw AL0(J,$,X)}return lk(Y,J,$,W,G)}function AL0(Y,J,X){return new TY.GraphQLError(`Expected value of type "${Y.name}" but got: ${(0,Yz.inspect)(J)}.`,{nodes:X})}var SL0=function(Y,J,X,Z){if((0,s51.isObjectLike)(Y)&&typeof Y.__typename==="string")return Y.__typename;let W=X.schema.getPossibleTypes(Z),$=[];for(let G=0;G<W.length;G++){let Q=W[G];if(Q.isTypeOf){let U=Q.isTypeOf(Y,J,X);if((0,xJ.isPromise)(U))$[G]=U;else if(U){if($.length)Promise.allSettled($).catch(()=>{});return Q.name}}}if($.length)return Promise.all($).then((G)=>{for(let Q=0;Q<G.length;Q++)if(G[Q])return W[Q].name})};jL0.defaultTypeResolver=SL0;var a51=function(Y,J,X,Z){if((0,s51.isObjectLike)(Y)||typeof Y==="function"){let W=Y[Z.fieldName];if(typeof W==="function")return Y[Z.fieldName](J,X,Z);return W}};jL0.defaultFieldResolver=a51;function CL0(Y,J,X){let Z=X.name.value;if(Z===CB.SchemaMetaFieldDef.name&&Y.getQueryType()===J)return CB.SchemaMetaFieldDef;else if(Z===CB.TypeMetaFieldDef.name&&Y.getQueryType()===J)return CB.TypeMetaFieldDef;else if(Z===CB.TypeNameMetaFieldDef.name)return CB.TypeNameMetaFieldDef;return J.getFields()[Z]}});var fL0=q((xL0)=>{Object.defineProperty(xL0,"__esModule",{value:!0});xL0.graphql=yN6;xL0.graphqlSync=gN6;var _N6=I9(),xN6=Gk(),fN6=dU(),vN6=NA(),hN6=vA(),bN6=bA();function yN6(Y){return new Promise((J)=>J(_L0(Y)))}function gN6(Y){let J=_L0(Y);if((0,xN6.isPromise)(J))throw Error("GraphQL execution failed to complete synchronously.");return J}function _L0(Y){arguments.length<2||(0,_N6.devAssert)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");let{schema:J,source:X,rootValue:Z,contextValue:W,variableValues:$,operationName:G,fieldResolver:Q,typeResolver:U}=Y,z=(0,vN6.validateSchema)(J);if(z.length>0)return{errors:z};let H;try{H=(0,fN6.parse)(X)}catch(K){return{errors:[K]}}let O=(0,hN6.validate)(J,H);if(O.length>0)return{errors:O};return(0,bN6.execute)({schema:J,document:H,rootValue:Z,contextValue:W,variableValues:$,operationName:G,fieldResolver:Q,typeResolver:U})}});var bL0=q((E1)=>{Object.defineProperty(E1,"__esModule",{value:!0});Object.defineProperty(E1,"DEFAULT_DEPRECATION_REASON",{enumerable:!0,get:function(){return fJ.DEFAULT_DEPRECATION_REASON}});Object.defineProperty(E1,"GRAPHQL_MAX_INT",{enumerable:!0,get:function(){return dZ.GRAPHQL_MAX_INT}});Object.defineProperty(E1,"GRAPHQL_MIN_INT",{enumerable:!0,get:function(){return dZ.GRAPHQL_MIN_INT}});Object.defineProperty(E1,"GraphQLBoolean",{enumerable:!0,get:function(){return dZ.GraphQLBoolean}});Object.defineProperty(E1,"GraphQLDeprecatedDirective",{enumerable:!0,get:function(){return fJ.GraphQLDeprecatedDirective}});Object.defineProperty(E1,"GraphQLDirective",{enumerable:!0,get:function(){return fJ.GraphQLDirective}});Object.defineProperty(E1,"GraphQLEnumType",{enumerable:!0,get:function(){return F0.GraphQLEnumType}});Object.defineProperty(E1,"GraphQLFloat",{enumerable:!0,get:function(){return dZ.GraphQLFloat}});Object.defineProperty(E1,"GraphQLID",{enumerable:!0,get:function(){return dZ.GraphQLID}});Object.defineProperty(E1,"GraphQLIncludeDirective",{enumerable:!0,get:function(){return fJ.GraphQLIncludeDirective}});Object.defineProperty(E1,"GraphQLInputObjectType",{enumerable:!0,get:function(){return F0.GraphQLInputObjectType}});Object.defineProperty(E1,"GraphQLInt",{enumerable:!0,get:function(){return dZ.GraphQLInt}});Object.defineProperty(E1,"GraphQLInterfaceType",{enumerable:!0,get:function(){return F0.GraphQLInterfaceType}});Object.defineProperty(E1,"GraphQLList",{enumerable:!0,get:function(){return F0.GraphQLList}});Object.defineProperty(E1,"GraphQLNonNull",{enumerable:!0,get:function(){return F0.GraphQLNonNull}});Object.defineProperty(E1,"GraphQLObjectType",{enumerable:!0,get:function(){return F0.GraphQLObjectType}});Object.defineProperty(E1,"GraphQLOneOfDirective",{enumerable:!0,get:function(){return fJ.GraphQLOneOfDirective}});Object.defineProperty(E1,"GraphQLScalarType",{enumerable:!0,get:function(){return F0.GraphQLScalarType}});Object.defineProperty(E1,"GraphQLSchema",{enumerable:!0,get:function(){return t51.GraphQLSchema}});Object.defineProperty(E1,"GraphQLSkipDirective",{enumerable:!0,get:function(){return fJ.GraphQLSkipDirective}});Object.defineProperty(E1,"GraphQLSpecifiedByDirective",{enumerable:!0,get:function(){return fJ.GraphQLSpecifiedByDirective}});Object.defineProperty(E1,"GraphQLString",{enumerable:!0,get:function(){return dZ.GraphQLString}});Object.defineProperty(E1,"GraphQLUnionType",{enumerable:!0,get:function(){return F0.GraphQLUnionType}});Object.defineProperty(E1,"SchemaMetaFieldDef",{enumerable:!0,get:function(){return a9.SchemaMetaFieldDef}});Object.defineProperty(E1,"TypeKind",{enumerable:!0,get:function(){return a9.TypeKind}});Object.defineProperty(E1,"TypeMetaFieldDef",{enumerable:!0,get:function(){return a9.TypeMetaFieldDef}});Object.defineProperty(E1,"TypeNameMetaFieldDef",{enumerable:!0,get:function(){return a9.TypeNameMetaFieldDef}});Object.defineProperty(E1,"__Directive",{enumerable:!0,get:function(){return a9.__Directive}});Object.defineProperty(E1,"__DirectiveLocation",{enumerable:!0,get:function(){return a9.__DirectiveLocation}});Object.defineProperty(E1,"__EnumValue",{enumerable:!0,get:function(){return a9.__EnumValue}});Object.defineProperty(E1,"__Field",{enumerable:!0,get:function(){return a9.__Field}});Object.defineProperty(E1,"__InputValue",{enumerable:!0,get:function(){return a9.__InputValue}});Object.defineProperty(E1,"__Schema",{enumerable:!0,get:function(){return a9.__Schema}});Object.defineProperty(E1,"__Type",{enumerable:!0,get:function(){return a9.__Type}});Object.defineProperty(E1,"__TypeKind",{enumerable:!0,get:function(){return a9.__TypeKind}});Object.defineProperty(E1,"assertAbstractType",{enumerable:!0,get:function(){return F0.assertAbstractType}});Object.defineProperty(E1,"assertCompositeType",{enumerable:!0,get:function(){return F0.assertCompositeType}});Object.defineProperty(E1,"assertDirective",{enumerable:!0,get:function(){return fJ.assertDirective}});Object.defineProperty(E1,"assertEnumType",{enumerable:!0,get:function(){return F0.assertEnumType}});Object.defineProperty(E1,"assertEnumValueName",{enumerable:!0,get:function(){return hL0.assertEnumValueName}});Object.defineProperty(E1,"assertInputObjectType",{enumerable:!0,get:function(){return F0.assertInputObjectType}});Object.defineProperty(E1,"assertInputType",{enumerable:!0,get:function(){return F0.assertInputType}});Object.defineProperty(E1,"assertInterfaceType",{enumerable:!0,get:function(){return F0.assertInterfaceType}});Object.defineProperty(E1,"assertLeafType",{enumerable:!0,get:function(){return F0.assertLeafType}});Object.defineProperty(E1,"assertListType",{enumerable:!0,get:function(){return F0.assertListType}});Object.defineProperty(E1,"assertName",{enumerable:!0,get:function(){return hL0.assertName}});Object.defineProperty(E1,"assertNamedType",{enumerable:!0,get:function(){return F0.assertNamedType}});Object.defineProperty(E1,"assertNonNullType",{enumerable:!0,get:function(){return F0.assertNonNullType}});Object.defineProperty(E1,"assertNullableType",{enumerable:!0,get:function(){return F0.assertNullableType}});Object.defineProperty(E1,"assertObjectType",{enumerable:!0,get:function(){return F0.assertObjectType}});Object.defineProperty(E1,"assertOutputType",{enumerable:!0,get:function(){return F0.assertOutputType}});Object.defineProperty(E1,"assertScalarType",{enumerable:!0,get:function(){return F0.assertScalarType}});Object.defineProperty(E1,"assertSchema",{enumerable:!0,get:function(){return t51.assertSchema}});Object.defineProperty(E1,"assertType",{enumerable:!0,get:function(){return F0.assertType}});Object.defineProperty(E1,"assertUnionType",{enumerable:!0,get:function(){return F0.assertUnionType}});Object.defineProperty(E1,"assertValidSchema",{enumerable:!0,get:function(){return vL0.assertValidSchema}});Object.defineProperty(E1,"assertWrappingType",{enumerable:!0,get:function(){return F0.assertWrappingType}});Object.defineProperty(E1,"getNamedType",{enumerable:!0,get:function(){return F0.getNamedType}});Object.defineProperty(E1,"getNullableType",{enumerable:!0,get:function(){return F0.getNullableType}});Object.defineProperty(E1,"introspectionTypes",{enumerable:!0,get:function(){return a9.introspectionTypes}});Object.defineProperty(E1,"isAbstractType",{enumerable:!0,get:function(){return F0.isAbstractType}});Object.defineProperty(E1,"isCompositeType",{enumerable:!0,get:function(){return F0.isCompositeType}});Object.defineProperty(E1,"isDirective",{enumerable:!0,get:function(){return fJ.isDirective}});Object.defineProperty(E1,"isEnumType",{enumerable:!0,get:function(){return F0.isEnumType}});Object.defineProperty(E1,"isInputObjectType",{enumerable:!0,get:function(){return F0.isInputObjectType}});Object.defineProperty(E1,"isInputType",{enumerable:!0,get:function(){return F0.isInputType}});Object.defineProperty(E1,"isInterfaceType",{enumerable:!0,get:function(){return F0.isInterfaceType}});Object.defineProperty(E1,"isIntrospectionType",{enumerable:!0,get:function(){return a9.isIntrospectionType}});Object.defineProperty(E1,"isLeafType",{enumerable:!0,get:function(){return F0.isLeafType}});Object.defineProperty(E1,"isListType",{enumerable:!0,get:function(){return F0.isListType}});Object.defineProperty(E1,"isNamedType",{enumerable:!0,get:function(){return F0.isNamedType}});Object.defineProperty(E1,"isNonNullType",{enumerable:!0,get:function(){return F0.isNonNullType}});Object.defineProperty(E1,"isNullableType",{enumerable:!0,get:function(){return F0.isNullableType}});Object.defineProperty(E1,"isObjectType",{enumerable:!0,get:function(){return F0.isObjectType}});Object.defineProperty(E1,"isOutputType",{enumerable:!0,get:function(){return F0.isOutputType}});Object.defineProperty(E1,"isRequiredArgument",{enumerable:!0,get:function(){return F0.isRequiredArgument}});Object.defineProperty(E1,"isRequiredInputField",{enumerable:!0,get:function(){return F0.isRequiredInputField}});Object.defineProperty(E1,"isScalarType",{enumerable:!0,get:function(){return F0.isScalarType}});Object.defineProperty(E1,"isSchema",{enumerable:!0,get:function(){return t51.isSchema}});Object.defineProperty(E1,"isSpecifiedDirective",{enumerable:!0,get:function(){return fJ.isSpecifiedDirective}});Object.defineProperty(E1,"isSpecifiedScalarType",{enumerable:!0,get:function(){return dZ.isSpecifiedScalarType}});Object.defineProperty(E1,"isType",{enumerable:!0,get:function(){return F0.isType}});Object.defineProperty(E1,"isUnionType",{enumerable:!0,get:function(){return F0.isUnionType}});Object.defineProperty(E1,"isWrappingType",{enumerable:!0,get:function(){return F0.isWrappingType}});Object.defineProperty(E1,"resolveObjMapThunk",{enumerable:!0,get:function(){return F0.resolveObjMapThunk}});Object.defineProperty(E1,"resolveReadonlyArrayThunk",{enumerable:!0,get:function(){return F0.resolveReadonlyArrayThunk}});Object.defineProperty(E1,"specifiedDirectives",{enumerable:!0,get:function(){return fJ.specifiedDirectives}});Object.defineProperty(E1,"specifiedScalarTypes",{enumerable:!0,get:function(){return dZ.specifiedScalarTypes}});Object.defineProperty(E1,"validateSchema",{enumerable:!0,get:function(){return vL0.validateSchema}});var t51=rU(),F0=i0(),fJ=o9(),dZ=I3(),a9=EY(),vL0=NA(),hL0=BA()});var gL0=q((r0)=>{Object.defineProperty(r0,"__esModule",{value:!0});Object.defineProperty(r0,"BREAK",{enumerable:!0,get:function(){return gA.BREAK}});Object.defineProperty(r0,"DirectiveLocation",{enumerable:!0,get:function(){return oN6.DirectiveLocation}});Object.defineProperty(r0,"Kind",{enumerable:!0,get:function(){return lN6.Kind}});Object.defineProperty(r0,"Lexer",{enumerable:!0,get:function(){return nN6.Lexer}});Object.defineProperty(r0,"Location",{enumerable:!0,get:function(){return e51.Location}});Object.defineProperty(r0,"OperationTypeNode",{enumerable:!0,get:function(){return e51.OperationTypeNode}});Object.defineProperty(r0,"Source",{enumerable:!0,get:function(){return dN6.Source}});Object.defineProperty(r0,"Token",{enumerable:!0,get:function(){return e51.Token}});Object.defineProperty(r0,"TokenKind",{enumerable:!0,get:function(){return pN6.TokenKind}});Object.defineProperty(r0,"getEnterLeaveForKind",{enumerable:!0,get:function(){return gA.getEnterLeaveForKind}});Object.defineProperty(r0,"getLocation",{enumerable:!0,get:function(){return cN6.getLocation}});Object.defineProperty(r0,"getVisitFn",{enumerable:!0,get:function(){return gA.getVisitFn}});Object.defineProperty(r0,"isConstValueNode",{enumerable:!0,get:function(){return vJ.isConstValueNode}});Object.defineProperty(r0,"isDefinitionNode",{enumerable:!0,get:function(){return vJ.isDefinitionNode}});Object.defineProperty(r0,"isExecutableDefinitionNode",{enumerable:!0,get:function(){return vJ.isExecutableDefinitionNode}});Object.defineProperty(r0,"isSchemaCoordinateNode",{enumerable:!0,get:function(){return vJ.isSchemaCoordinateNode}});Object.defineProperty(r0,"isSelectionNode",{enumerable:!0,get:function(){return vJ.isSelectionNode}});Object.defineProperty(r0,"isTypeDefinitionNode",{enumerable:!0,get:function(){return vJ.isTypeDefinitionNode}});Object.defineProperty(r0,"isTypeExtensionNode",{enumerable:!0,get:function(){return vJ.isTypeExtensionNode}});Object.defineProperty(r0,"isTypeNode",{enumerable:!0,get:function(){return vJ.isTypeNode}});Object.defineProperty(r0,"isTypeSystemDefinitionNode",{enumerable:!0,get:function(){return vJ.isTypeSystemDefinitionNode}});Object.defineProperty(r0,"isTypeSystemExtensionNode",{enumerable:!0,get:function(){return vJ.isTypeSystemExtensionNode}});Object.defineProperty(r0,"isValueNode",{enumerable:!0,get:function(){return vJ.isValueNode}});Object.defineProperty(r0,"parse",{enumerable:!0,get:function(){return yA.parse}});Object.defineProperty(r0,"parseConstValue",{enumerable:!0,get:function(){return yA.parseConstValue}});Object.defineProperty(r0,"parseSchemaCoordinate",{enumerable:!0,get:function(){return yA.parseSchemaCoordinate}});Object.defineProperty(r0,"parseType",{enumerable:!0,get:function(){return yA.parseType}});Object.defineProperty(r0,"parseValue",{enumerable:!0,get:function(){return yA.parseValue}});Object.defineProperty(r0,"print",{enumerable:!0,get:function(){return iN6.print}});Object.defineProperty(r0,"printLocation",{enumerable:!0,get:function(){return yL0.printLocation}});Object.defineProperty(r0,"printSourceLocation",{enumerable:!0,get:function(){return yL0.printSourceLocation}});Object.defineProperty(r0,"visit",{enumerable:!0,get:function(){return gA.visit}});Object.defineProperty(r0,"visitInParallel",{enumerable:!0,get:function(){return gA.visitInParallel}});var dN6=Hk(),cN6=Qk(),yL0=o61(),lN6=n0(),pN6=DB(),nN6=UA(),yA=dU(),iN6=P7(),gA=cU(),e51=RJ(),vJ=sU(),oN6=IB()});var mL0=q((uL0)=>{Object.defineProperty(uL0,"__esModule",{value:!0});uL0.isAsyncIterable=rN6;function rN6(Y){return typeof(Y===null||Y===void 0?void 0:Y[Symbol.asyncIterator])==="function"}});var cL0=q((dL0)=>{Object.defineProperty(dL0,"__esModule",{value:!0});dL0.mapAsyncIterator=sN6;function sN6(Y,J){let X=Y[Symbol.asyncIterator]();async function Z(W){if(W.done)return W;try{return{value:await J(W.value),done:!1}}catch($){if(typeof X.return==="function")try{await X.return()}catch(G){}throw $}}return{async next(){return Z(await X.next())},async return(){return typeof X.return==="function"?Z(await X.return()):{value:void 0,done:!0}},async throw(W){if(typeof X.throw==="function")return Z(await X.throw(W));throw W},[Symbol.asyncIterator](){return this}}}});var oL0=q((iL0)=>{Object.defineProperty(iL0,"__esModule",{value:!0});iL0.createSourceEventStream=nL0;iL0.subscribe=$S6;var eN6=I9(),YS6=V4(),pL0=mL0(),lL0=CA(),Y91=U0(),JS6=mk(),XS6=vk(),uA=bA(),ZS6=cL0(),WS6=SB();async function $S6(Y){arguments.length<2||(0,eN6.devAssert)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");let J=await nL0(Y);if(!(0,pL0.isAsyncIterable)(J))return J;let X=(Z)=>(0,uA.execute)({...Y,rootValue:Z});return(0,ZS6.mapAsyncIterator)(J,X)}function GS6(Y){let J=Y[0];if(J&&"document"in J)return J;return{schema:J,document:Y[1],rootValue:Y[2],contextValue:Y[3],variableValues:Y[4],operationName:Y[5],subscribeFieldResolver:Y[6]}}async function nL0(...Y){let J=GS6(Y),{schema:X,document:Z,variableValues:W}=J;(0,uA.assertValidExecutionArguments)(X,Z,W);let $=(0,uA.buildExecutionContext)(J);if(!("schema"in $))return{errors:$};try{let G=await QS6($);if(!(0,pL0.isAsyncIterable)(G))throw Error(`Subscription field must return Async Iterable. Received: ${(0,YS6.inspect)(G)}.`);return G}catch(G){if(G instanceof Y91.GraphQLError)return{errors:[G]};throw G}}async function QS6(Y){let{schema:J,fragments:X,operation:Z,variableValues:W,rootValue:$}=Y,G=J.getSubscriptionType();if(G==null)throw new Y91.GraphQLError("Schema is not configured to execute subscription operation.",{nodes:Z});let Q=(0,XS6.collectFields)(J,X,W,G,Z.selectionSet),[U,z]=[...Q.entries()][0],H=(0,uA.getFieldDef)(J,G,z[0]);if(!H){let F=z[0].name.value;throw new Y91.GraphQLError(`The subscription field "${F}" is not defined.`,{nodes:z})}let O=(0,lL0.addPath)(void 0,U,G.name),K=(0,uA.buildResolveInfo)(Y,H,z,G,O);try{var B;let F=(0,WS6.getArgumentValues)(H,z[0],W),V=Y.contextValue,D=await((B=H.subscribe)!==null&&B!==void 0?B:Y.subscribeFieldResolver)($,F,V,K);if(D instanceof Error)throw D;return D}catch(F){throw(0,JS6.locatedError)(F,z,(0,lL0.pathToArray)(O))}}});var aL0=q((RY)=>{Object.defineProperty(RY,"__esModule",{value:!0});Object.defineProperty(RY,"createSourceEventStream",{enumerable:!0,get:function(){return rL0.createSourceEventStream}});Object.defineProperty(RY,"defaultFieldResolver",{enumerable:!0,get:function(){return nk.defaultFieldResolver}});Object.defineProperty(RY,"defaultTypeResolver",{enumerable:!0,get:function(){return nk.defaultTypeResolver}});Object.defineProperty(RY,"execute",{enumerable:!0,get:function(){return nk.execute}});Object.defineProperty(RY,"executeSync",{enumerable:!0,get:function(){return nk.executeSync}});Object.defineProperty(RY,"getArgumentValues",{enumerable:!0,get:function(){return J91.getArgumentValues}});Object.defineProperty(RY,"getDirectiveValues",{enumerable:!0,get:function(){return J91.getDirectiveValues}});Object.defineProperty(RY,"getVariableValues",{enumerable:!0,get:function(){return J91.getVariableValues}});Object.defineProperty(RY,"responsePathAsArray",{enumerable:!0,get:function(){return HS6.pathToArray}});Object.defineProperty(RY,"subscribe",{enumerable:!0,get:function(){return rL0.subscribe}});var HS6=CA(),nk=bA(),rL0=oL0(),J91=SB()});var tL0=q((sL0)=>{Object.defineProperty(sL0,"__esModule",{value:!0});sL0.NoDeprecatedCustomRule=OS6;var X91=d5(),mA=U0(),Z91=i0();function OS6(Y){return{Field(J){let X=Y.getFieldDef(),Z=X===null||X===void 0?void 0:X.deprecationReason;if(X&&Z!=null){let W=Y.getParentType();W!=null||(0,X91.invariant)(!1),Y.reportError(new mA.GraphQLError(`The field ${W.name}.${X.name} is deprecated. ${Z}`,{nodes:J}))}},Argument(J){let X=Y.getArgument(),Z=X===null||X===void 0?void 0:X.deprecationReason;if(X&&Z!=null){let W=Y.getDirective();if(W!=null)Y.reportError(new mA.GraphQLError(`Directive "@${W.name}" argument "${X.name}" is deprecated. ${Z}`,{nodes:J}));else{let $=Y.getParentType(),G=Y.getFieldDef();$!=null&&G!=null||(0,X91.invariant)(!1),Y.reportError(new mA.GraphQLError(`Field "${$.name}.${G.name}" argument "${X.name}" is deprecated. ${Z}`,{nodes:J}))}}},ObjectField(J){let X=(0,Z91.getNamedType)(Y.getParentInputType());if((0,Z91.isInputObjectType)(X)){let Z=X.getFields()[J.name.value],W=Z===null||Z===void 0?void 0:Z.deprecationReason;if(W!=null)Y.reportError(new mA.GraphQLError(`The input field ${X.name}.${Z.name} is deprecated. ${W}`,{nodes:J}))}},EnumValue(J){let X=Y.getEnumValue(),Z=X===null||X===void 0?void 0:X.deprecationReason;if(X&&Z!=null){let W=(0,Z91.getNamedType)(Y.getInputType());W!=null||(0,X91.invariant)(!1),Y.reportError(new mA.GraphQLError(`The enum value "${W.name}.${X.name}" is deprecated. ${Z}`,{nodes:J}))}}}}});var YM0=q((eL0)=>{Object.defineProperty(eL0,"__esModule",{value:!0});eL0.NoSchemaIntrospectionCustomRule=VS6;var BS6=U0(),qS6=i0(),FS6=EY();function VS6(Y){return{Field(J){let X=(0,qS6.getNamedType)(Y.getType());if(X&&(0,FS6.isIntrospectionType)(X))Y.reportError(new BS6.GraphQLError(`GraphQL introspection has been disabled, but the requested query contained the field "${J.name.value}".`,{nodes:J}))}}}});var XM0=q((L0)=>{Object.defineProperty(L0,"__esModule",{value:!0});Object.defineProperty(L0,"ExecutableDefinitionsRule",{enumerable:!0,get:function(){return AS6.ExecutableDefinitionsRule}});Object.defineProperty(L0,"FieldsOnCorrectTypeRule",{enumerable:!0,get:function(){return PS6.FieldsOnCorrectTypeRule}});Object.defineProperty(L0,"FragmentsOnCompositeTypesRule",{enumerable:!0,get:function(){return LS6.FragmentsOnCompositeTypesRule}});Object.defineProperty(L0,"KnownArgumentNamesRule",{enumerable:!0,get:function(){return MS6.KnownArgumentNamesRule}});Object.defineProperty(L0,"KnownDirectivesRule",{enumerable:!0,get:function(){return ES6.KnownDirectivesRule}});Object.defineProperty(L0,"KnownFragmentNamesRule",{enumerable:!0,get:function(){return TS6.KnownFragmentNamesRule}});Object.defineProperty(L0,"KnownTypeNamesRule",{enumerable:!0,get:function(){return RS6.KnownTypeNamesRule}});Object.defineProperty(L0,"LoneAnonymousOperationRule",{enumerable:!0,get:function(){return NS6.LoneAnonymousOperationRule}});Object.defineProperty(L0,"LoneSchemaDefinitionRule",{enumerable:!0,get:function(){return iS6.LoneSchemaDefinitionRule}});Object.defineProperty(L0,"MaxIntrospectionDepthRule",{enumerable:!0,get:function(){return nS6.MaxIntrospectionDepthRule}});Object.defineProperty(L0,"NoDeprecatedCustomRule",{enumerable:!0,get:function(){return JC6.NoDeprecatedCustomRule}});Object.defineProperty(L0,"NoFragmentCyclesRule",{enumerable:!0,get:function(){return SS6.NoFragmentCyclesRule}});Object.defineProperty(L0,"NoSchemaIntrospectionCustomRule",{enumerable:!0,get:function(){return XC6.NoSchemaIntrospectionCustomRule}});Object.defineProperty(L0,"NoUndefinedVariablesRule",{enumerable:!0,get:function(){return CS6.NoUndefinedVariablesRule}});Object.defineProperty(L0,"NoUnusedFragmentsRule",{enumerable:!0,get:function(){return jS6.NoUnusedFragmentsRule}});Object.defineProperty(L0,"NoUnusedVariablesRule",{enumerable:!0,get:function(){return kS6.NoUnusedVariablesRule}});Object.defineProperty(L0,"OverlappingFieldsCanBeMergedRule",{enumerable:!0,get:function(){return _S6.OverlappingFieldsCanBeMergedRule}});Object.defineProperty(L0,"PossibleFragmentSpreadsRule",{enumerable:!0,get:function(){return xS6.PossibleFragmentSpreadsRule}});Object.defineProperty(L0,"PossibleTypeExtensionsRule",{enumerable:!0,get:function(){return YC6.PossibleTypeExtensionsRule}});Object.defineProperty(L0,"ProvidedRequiredArgumentsRule",{enumerable:!0,get:function(){return fS6.ProvidedRequiredArgumentsRule}});Object.defineProperty(L0,"ScalarLeafsRule",{enumerable:!0,get:function(){return vS6.ScalarLeafsRule}});Object.defineProperty(L0,"SingleFieldSubscriptionsRule",{enumerable:!0,get:function(){return hS6.SingleFieldSubscriptionsRule}});Object.defineProperty(L0,"UniqueArgumentDefinitionNamesRule",{enumerable:!0,get:function(){return tS6.UniqueArgumentDefinitionNamesRule}});Object.defineProperty(L0,"UniqueArgumentNamesRule",{enumerable:!0,get:function(){return bS6.UniqueArgumentNamesRule}});Object.defineProperty(L0,"UniqueDirectiveNamesRule",{enumerable:!0,get:function(){return eS6.UniqueDirectiveNamesRule}});Object.defineProperty(L0,"UniqueDirectivesPerLocationRule",{enumerable:!0,get:function(){return yS6.UniqueDirectivesPerLocationRule}});Object.defineProperty(L0,"UniqueEnumValueNamesRule",{enumerable:!0,get:function(){return aS6.UniqueEnumValueNamesRule}});Object.defineProperty(L0,"UniqueFieldDefinitionNamesRule",{enumerable:!0,get:function(){return sS6.UniqueFieldDefinitionNamesRule}});Object.defineProperty(L0,"UniqueFragmentNamesRule",{enumerable:!0,get:function(){return gS6.UniqueFragmentNamesRule}});Object.defineProperty(L0,"UniqueInputFieldNamesRule",{enumerable:!0,get:function(){return uS6.UniqueInputFieldNamesRule}});Object.defineProperty(L0,"UniqueOperationNamesRule",{enumerable:!0,get:function(){return mS6.UniqueOperationNamesRule}});Object.defineProperty(L0,"UniqueOperationTypesRule",{enumerable:!0,get:function(){return oS6.UniqueOperationTypesRule}});Object.defineProperty(L0,"UniqueTypeNamesRule",{enumerable:!0,get:function(){return rS6.UniqueTypeNamesRule}});Object.defineProperty(L0,"UniqueVariableNamesRule",{enumerable:!0,get:function(){return dS6.UniqueVariableNamesRule}});Object.defineProperty(L0,"ValidationContext",{enumerable:!0,get:function(){return wS6.ValidationContext}});Object.defineProperty(L0,"ValuesOfCorrectTypeRule",{enumerable:!0,get:function(){return cS6.ValuesOfCorrectTypeRule}});Object.defineProperty(L0,"VariablesAreInputTypesRule",{enumerable:!0,get:function(){return lS6.VariablesAreInputTypesRule}});Object.defineProperty(L0,"VariablesInAllowedPositionRule",{enumerable:!0,get:function(){return pS6.VariablesInAllowedPositionRule}});Object.defineProperty(L0,"recommendedRules",{enumerable:!0,get:function(){return JM0.recommendedRules}});Object.defineProperty(L0,"specifiedRules",{enumerable:!0,get:function(){return JM0.specifiedRules}});Object.defineProperty(L0,"validate",{enumerable:!0,get:function(){return DS6.validate}});var DS6=vA(),wS6=p51(),JM0=l51(),AS6=c81(),PS6=l81(),LS6=p81(),MS6=n81(),ES6=r81(),TS6=a81(),RS6=t81(),NS6=e81(),SS6=X51(),CS6=Z51(),jS6=W51(),kS6=$51(),_S6=B51(),xS6=F51(),fS6=D51(),vS6=P51(),hS6=R51(),bS6=S51(),yS6=k51(),gS6=v51(),uS6=h51(),mS6=b51(),dS6=u51(),cS6=m51(),lS6=d51(),pS6=c51(),nS6=J51(),iS6=Y51(),oS6=y51(),rS6=g51(),aS6=_51(),sS6=f51(),tS6=N51(),eS6=C51(),YC6=V51(),JC6=tL0(),XC6=YM0()});var ZM0=q((Xz)=>{Object.defineProperty(Xz,"__esModule",{value:!0});Object.defineProperty(Xz,"GraphQLError",{enumerable:!0,get:function(){return W91.GraphQLError}});Object.defineProperty(Xz,"formatError",{enumerable:!0,get:function(){return W91.formatError}});Object.defineProperty(Xz,"locatedError",{enumerable:!0,get:function(){return WC6.locatedError}});Object.defineProperty(Xz,"printError",{enumerable:!0,get:function(){return W91.printError}});Object.defineProperty(Xz,"syntaxError",{enumerable:!0,get:function(){return ZC6.syntaxError}});var W91=U0(),ZC6=WA(),WC6=mk()});var $91=q((WM0)=>{Object.defineProperty(WM0,"__esModule",{value:!0});WM0.getIntrospectionQuery=$C6;function $C6(Y){let J={descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1,inputValueDeprecation:!1,oneOf:!1,...Y},X=J.descriptions?"description":"",Z=J.specifiedByUrl?"specifiedByURL":"",W=J.directiveIsRepeatable?"isRepeatable":"",$=J.schemaDescription?X:"";function G(U){return J.inputValueDeprecation?U:""}let Q=J.oneOf?"isOneOf":"";return`
    query IntrospectionQuery {
      __schema {
        ${$}
        queryType { name kind }
        mutationType { name kind }
        subscriptionType { name kind }
        types {
          ...FullType
        }
        directives {
          name
          ${X}
          ${W}
          locations
          args${G("(includeDeprecated: true)")} {
            ...InputValue
          }
        }
      }
    }

    fragment FullType on __Type {
      kind
      name
      ${X}
      ${Z}
      ${Q}
      fields(includeDeprecated: true) {
        name
        ${X}
        args${G("(includeDeprecated: true)")} {
          ...InputValue
        }
        type {
          ...TypeRef
        }
        isDeprecated
        deprecationReason
      }
      inputFields${G("(includeDeprecated: true)")} {
        ...InputValue
      }
      interfaces {
        ...TypeRef
      }
      enumValues(includeDeprecated: true) {
        name
        ${X}
        isDeprecated
        deprecationReason
      }
      possibleTypes {
        ...TypeRef
      }
    }

    fragment InputValue on __InputValue {
      name
      ${X}
      type { ...TypeRef }
      defaultValue
      ${G("isDeprecated")}
      ${G("deprecationReason")}
    }

    fragment TypeRef on __Type {
      kind
      name
      ofType {
        kind
        name
        ofType {
          kind
          name
          ofType {
            kind
            name
            ofType {
              kind
              name
              ofType {
                kind
                name
                ofType {
                  kind
                  name
                  ofType {
                    kind
                    name
                    ofType {
                      kind
                      name
                      ofType {
                        kind
                        name
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  `}});var GM0=q(($M0)=>{Object.defineProperty($M0,"__esModule",{value:!0});$M0.getOperationAST=UC6;var QC6=n0();function UC6(Y,J){let X=null;for(let W of Y.definitions)if(W.kind===QC6.Kind.OPERATION_DEFINITION){var Z;if(J==null){if(X)return null;X=W}else if(((Z=W.name)===null||Z===void 0?void 0:Z.value)===J)return W}return X}});var UM0=q((QM0)=>{Object.defineProperty(QM0,"__esModule",{value:!0});QM0.getOperationRootType=HC6;var ik=U0();function HC6(Y,J){if(J.operation==="query"){let X=Y.getQueryType();if(!X)throw new ik.GraphQLError("Schema does not define the required query root type.",{nodes:J});return X}if(J.operation==="mutation"){let X=Y.getMutationType();if(!X)throw new ik.GraphQLError("Schema is not configured for mutations.",{nodes:J});return X}if(J.operation==="subscription"){let X=Y.getSubscriptionType();if(!X)throw new ik.GraphQLError("Schema is not configured for subscriptions.",{nodes:J});return X}throw new ik.GraphQLError("Can only have query, mutation and subscription operations.",{nodes:J})}});var HM0=q((zM0)=>{Object.defineProperty(zM0,"__esModule",{value:!0});zM0.introspectionFromSchema=VC6;var KC6=d5(),BC6=dU(),qC6=bA(),FC6=$91();function VC6(Y,J){let X={specifiedByUrl:!0,directiveIsRepeatable:!0,schemaDescription:!0,inputValueDeprecation:!0,oneOf:!0,...J},Z=(0,BC6.parse)((0,FC6.getIntrospectionQuery)(X)),W=(0,qC6.executeSync)({schema:Y,document:Z});return!W.errors&&W.data||(0,KC6.invariant)(!1),W.data}});var BM0=q((KM0)=>{Object.defineProperty(KM0,"__esModule",{value:!0});KM0.buildClientSchema=EC6;var DC6=I9(),L7=V4(),OM0=q3(),ok=OA(),wC6=dU(),M7=i0(),AC6=o9(),A3=EY(),PC6=I3(),LC6=rU(),MC6=xA();function EC6(Y,J){(0,OM0.isObjectLike)(Y)&&(0,OM0.isObjectLike)(Y.__schema)||(0,DC6.devAssert)(!1,`Invalid or incomplete introspection result. Ensure that you are passing "data" property of introspection response and no "errors" was returned alongside: ${(0,L7.inspect)(Y)}.`);let X=Y.__schema,Z=(0,ok.keyValMap)(X.types,(M)=>M.name,(M)=>K(M));for(let M of[...PC6.specifiedScalarTypes,...A3.introspectionTypes])if(Z[M.name])Z[M.name]=M;let W=X.queryType?H(X.queryType):null,$=X.mutationType?H(X.mutationType):null,G=X.subscriptionType?H(X.subscriptionType):null,Q=X.directives?X.directives.map(j):[];return new LC6.GraphQLSchema({description:X.description,query:W,mutation:$,subscription:G,types:Object.values(Z),directives:Q,assumeValid:J===null||J===void 0?void 0:J.assumeValid});function U(M){if(M.kind===A3.TypeKind.LIST){let b=M.ofType;if(!b)throw Error("Decorated type deeper than introspection query.");return new M7.GraphQLList(U(b))}if(M.kind===A3.TypeKind.NON_NULL){let b=M.ofType;if(!b)throw Error("Decorated type deeper than introspection query.");let k=U(b);return new M7.GraphQLNonNull((0,M7.assertNullableType)(k))}return z(M)}function z(M){let b=M.name;if(!b)throw Error(`Unknown type reference: ${(0,L7.inspect)(M)}.`);let k=Z[b];if(!k)throw Error(`Invalid or incomplete schema, unknown type: ${b}. Ensure that a full introspection query is used in order to build a client schema.`);return k}function H(M){return(0,M7.assertObjectType)(z(M))}function O(M){return(0,M7.assertInterfaceType)(z(M))}function K(M){if(M!=null&&M.name!=null&&M.kind!=null)switch(M.kind){case A3.TypeKind.SCALAR:return B(M);case A3.TypeKind.OBJECT:return V(M);case A3.TypeKind.INTERFACE:return I(M);case A3.TypeKind.UNION:return D(M);case A3.TypeKind.ENUM:return L(M);case A3.TypeKind.INPUT_OBJECT:return A(M)}let b=(0,L7.inspect)(M);throw Error(`Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema: ${b}.`)}function B(M){return new M7.GraphQLScalarType({name:M.name,description:M.description,specifiedByURL:M.specifiedByURL})}function F(M){if(M.interfaces===null&&M.kind===A3.TypeKind.INTERFACE)return[];if(!M.interfaces){let b=(0,L7.inspect)(M);throw Error(`Introspection result missing interfaces: ${b}.`)}return M.interfaces.map(O)}function V(M){return new M7.GraphQLObjectType({name:M.name,description:M.description,interfaces:()=>F(M),fields:()=>P(M)})}function I(M){return new M7.GraphQLInterfaceType({name:M.name,description:M.description,interfaces:()=>F(M),fields:()=>P(M)})}function D(M){if(!M.possibleTypes){let b=(0,L7.inspect)(M);throw Error(`Introspection result missing possibleTypes: ${b}.`)}return new M7.GraphQLUnionType({name:M.name,description:M.description,types:()=>M.possibleTypes.map(H)})}function L(M){if(!M.enumValues){let b=(0,L7.inspect)(M);throw Error(`Introspection result missing enumValues: ${b}.`)}return new M7.GraphQLEnumType({name:M.name,description:M.description,values:(0,ok.keyValMap)(M.enumValues,(b)=>b.name,(b)=>({description:b.description,deprecationReason:b.deprecationReason}))})}function A(M){if(!M.inputFields){let b=(0,L7.inspect)(M);throw Error(`Introspection result missing inputFields: ${b}.`)}return new M7.GraphQLInputObjectType({name:M.name,description:M.description,fields:()=>N(M.inputFields),isOneOf:M.isOneOf})}function P(M){if(!M.fields)throw Error(`Introspection result missing fields: ${(0,L7.inspect)(M)}.`);return(0,ok.keyValMap)(M.fields,(b)=>b.name,R)}function R(M){let b=U(M.type);if(!(0,M7.isOutputType)(b)){let k=(0,L7.inspect)(b);throw Error(`Introspection must provide output type for fields, but received: ${k}.`)}if(!M.args){let k=(0,L7.inspect)(M);throw Error(`Introspection result missing field args: ${k}.`)}return{description:M.description,deprecationReason:M.deprecationReason,type:b,args:N(M.args)}}function N(M){return(0,ok.keyValMap)(M,(b)=>b.name,v)}function v(M){let b=U(M.type);if(!(0,M7.isInputType)(b)){let r=(0,L7.inspect)(b);throw Error(`Introspection must provide input type for arguments, but received: ${r}.`)}let k=M.defaultValue!=null?(0,MC6.valueFromAST)((0,wC6.parseValue)(M.defaultValue),b):void 0;return{description:M.description,type:b,defaultValue:k,deprecationReason:M.deprecationReason}}function j(M){if(!M.args){let b=(0,L7.inspect)(M);throw Error(`Introspection result missing directive args: ${b}.`)}if(!M.locations){let b=(0,L7.inspect)(M);throw Error(`Introspection result missing directive locations: ${b}.`)}return new AC6.GraphQLDirective({name:M.name,description:M.description,isRepeatable:M.isRepeatable,locations:M.locations.slice(),args:N(M.args)})}}});var Q91=q((LM0)=>{Object.defineProperty(LM0,"__esModule",{value:!0});LM0.extendSchema=kC6;LM0.extendSchemaImpl=PM0;var RC6=I9(),NC6=V4(),SC6=d5(),CC6=o$(),dA=U81(),NY=n0(),qM0=sU(),W6=i0(),cA=o9(),wM0=EY(),AM0=I3(),FM0=rU(),jC6=vA(),G91=SB(),VM0=xA();function kC6(Y,J,X){if((0,FM0.assertSchema)(Y),J!=null&&J.kind===NY.Kind.DOCUMENT||(0,RC6.devAssert)(!1,"Must provide valid Document AST."),(X===null||X===void 0?void 0:X.assumeValid)!==!0&&(X===null||X===void 0?void 0:X.assumeValidSDL)!==!0)(0,jC6.assertValidSDLExtension)(J,Y);let Z=Y.toConfig(),W=PM0(Z,J,X);return Z===W?Y:new FM0.GraphQLSchema(W)}function PM0(Y,J,X){var Z,W,$,G;let Q=[],U=Object.create(null),z=[],H,O=[];for(let J1 of J.definitions)if(J1.kind===NY.Kind.SCHEMA_DEFINITION)H=J1;else if(J1.kind===NY.Kind.SCHEMA_EXTENSION)O.push(J1);else if((0,qM0.isTypeDefinitionNode)(J1))Q.push(J1);else if((0,qM0.isTypeExtensionNode)(J1)){let l=J1.name.value,K1=U[l];U[l]=K1?K1.concat([J1]):[J1]}else if(J1.kind===NY.Kind.DIRECTIVE_DEFINITION)z.push(J1);if(Object.keys(U).length===0&&Q.length===0&&z.length===0&&O.length===0&&H==null)return Y;let K=Object.create(null);for(let J1 of Y.types)K[J1.name]=L(J1);for(let J1 of Q){var B;let l=J1.name.value;K[l]=(B=IM0[l])!==null&&B!==void 0?B:y1(J1)}let F={query:Y.query&&I(Y.query),mutation:Y.mutation&&I(Y.mutation),subscription:Y.subscription&&I(Y.subscription),...H&&k([H]),...k(O)};return{description:(Z=H)===null||Z===void 0?void 0:(W=Z.description)===null||W===void 0?void 0:W.value,...F,types:Object.values(K),directives:[...Y.directives.map(D),...z.map(S)],extensions:Object.create(null),astNode:($=H)!==null&&$!==void 0?$:Y.astNode,extensionASTNodes:Y.extensionASTNodes.concat(O),assumeValid:(G=X===null||X===void 0?void 0:X.assumeValid)!==null&&G!==void 0?G:!1};function V(J1){if((0,W6.isListType)(J1))return new W6.GraphQLList(V(J1.ofType));if((0,W6.isNonNullType)(J1))return new W6.GraphQLNonNull(V(J1.ofType));return I(J1)}function I(J1){return K[J1.name]}function D(J1){let l=J1.toConfig();return new cA.GraphQLDirective({...l,args:(0,dA.mapValue)(l.args,b)})}function L(J1){if((0,wM0.isIntrospectionType)(J1)||(0,AM0.isSpecifiedScalarType)(J1))return J1;if((0,W6.isScalarType)(J1))return R(J1);if((0,W6.isObjectType)(J1))return N(J1);if((0,W6.isInterfaceType)(J1))return v(J1);if((0,W6.isUnionType)(J1))return j(J1);if((0,W6.isEnumType)(J1))return P(J1);if((0,W6.isInputObjectType)(J1))return A(J1);(0,SC6.invariant)(!1,"Unexpected type: "+(0,NC6.inspect)(J1))}function A(J1){var l;let K1=J1.toConfig(),Q1=(l=U[K1.name])!==null&&l!==void 0?l:[];return new W6.GraphQLInputObjectType({...K1,fields:()=>({...(0,dA.mapValue)(K1.fields,(p1)=>({...p1,type:V(p1.type)})),...a(Q1)}),extensionASTNodes:K1.extensionASTNodes.concat(Q1)})}function P(J1){var l;let K1=J1.toConfig(),Q1=(l=U[J1.name])!==null&&l!==void 0?l:[];return new W6.GraphQLEnumType({...K1,values:{...K1.values,...H1(Q1)},extensionASTNodes:K1.extensionASTNodes.concat(Q1)})}function R(J1){var l;let K1=J1.toConfig(),Q1=(l=U[K1.name])!==null&&l!==void 0?l:[],p1=K1.specifiedByURL;for(let Q0 of Q1){var W0;p1=(W0=DM0(Q0))!==null&&W0!==void 0?W0:p1}return new W6.GraphQLScalarType({...K1,specifiedByURL:p1,extensionASTNodes:K1.extensionASTNodes.concat(Q1)})}function N(J1){var l;let K1=J1.toConfig(),Q1=(l=U[K1.name])!==null&&l!==void 0?l:[];return new W6.GraphQLObjectType({...K1,interfaces:()=>[...J1.getInterfaces().map(I),...F1(Q1)],fields:()=>({...(0,dA.mapValue)(K1.fields,M),...c(Q1)}),extensionASTNodes:K1.extensionASTNodes.concat(Q1)})}function v(J1){var l;let K1=J1.toConfig(),Q1=(l=U[K1.name])!==null&&l!==void 0?l:[];return new W6.GraphQLInterfaceType({...K1,interfaces:()=>[...J1.getInterfaces().map(I),...F1(Q1)],fields:()=>({...(0,dA.mapValue)(K1.fields,M),...c(Q1)}),extensionASTNodes:K1.extensionASTNodes.concat(Q1)})}function j(J1){var l;let K1=J1.toConfig(),Q1=(l=U[K1.name])!==null&&l!==void 0?l:[];return new W6.GraphQLUnionType({...K1,types:()=>[...J1.getTypes().map(I),...z1(Q1)],extensionASTNodes:K1.extensionASTNodes.concat(Q1)})}function M(J1){return{...J1,type:V(J1.type),args:J1.args&&(0,dA.mapValue)(J1.args,b)}}function b(J1){return{...J1,type:V(J1.type)}}function k(J1){let l={};for(let Q1 of J1){var K1;let p1=(K1=Q1.operationTypes)!==null&&K1!==void 0?K1:[];for(let W0 of p1)l[W0.operation]=r(W0.type)}return l}function r(J1){var l;let K1=J1.name.value,Q1=(l=IM0[K1])!==null&&l!==void 0?l:K[K1];if(Q1===void 0)throw Error(`Unknown type: "${K1}".`);return Q1}function p(J1){if(J1.kind===NY.Kind.LIST_TYPE)return new W6.GraphQLList(p(J1.type));if(J1.kind===NY.Kind.NON_NULL_TYPE)return new W6.GraphQLNonNull(p(J1.type));return r(J1)}function S(J1){var l;return new cA.GraphQLDirective({name:J1.name.value,description:(l=J1.description)===null||l===void 0?void 0:l.value,locations:J1.locations.map(({value:K1})=>K1),isRepeatable:J1.repeatable,args:d(J1.arguments),astNode:J1})}function c(J1){let l=Object.create(null);for(let p1 of J1){var K1;let W0=(K1=p1.fields)!==null&&K1!==void 0?K1:[];for(let Q0 of W0){var Q1;l[Q0.name.value]={type:p(Q0.type),description:(Q1=Q0.description)===null||Q1===void 0?void 0:Q1.value,args:d(Q0.arguments),deprecationReason:rk(Q0),astNode:Q0}}}return l}function d(J1){let l=J1!==null&&J1!==void 0?J1:[],K1=Object.create(null);for(let p1 of l){var Q1;let W0=p(p1.type);K1[p1.name.value]={type:W0,description:(Q1=p1.description)===null||Q1===void 0?void 0:Q1.value,defaultValue:(0,VM0.valueFromAST)(p1.defaultValue,W0),deprecationReason:rk(p1),astNode:p1}}return K1}function a(J1){let l=Object.create(null);for(let p1 of J1){var K1;let W0=(K1=p1.fields)!==null&&K1!==void 0?K1:[];for(let Q0 of W0){var Q1;let x=p(Q0.type);l[Q0.name.value]={type:x,description:(Q1=Q0.description)===null||Q1===void 0?void 0:Q1.value,defaultValue:(0,VM0.valueFromAST)(Q0.defaultValue,x),deprecationReason:rk(Q0),astNode:Q0}}}return l}function H1(J1){let l=Object.create(null);for(let p1 of J1){var K1;let W0=(K1=p1.values)!==null&&K1!==void 0?K1:[];for(let Q0 of W0){var Q1;l[Q0.name.value]={description:(Q1=Q0.description)===null||Q1===void 0?void 0:Q1.value,deprecationReason:rk(Q0),astNode:Q0}}}return l}function F1(J1){return J1.flatMap((l)=>{var K1,Q1;return(K1=(Q1=l.interfaces)===null||Q1===void 0?void 0:Q1.map(r))!==null&&K1!==void 0?K1:[]})}function z1(J1){return J1.flatMap((l)=>{var K1,Q1;return(K1=(Q1=l.types)===null||Q1===void 0?void 0:Q1.map(r))!==null&&K1!==void 0?K1:[]})}function y1(J1){var l;let K1=J1.name.value,Q1=(l=U[K1])!==null&&l!==void 0?l:[];switch(J1.kind){case NY.Kind.OBJECT_TYPE_DEFINITION:{var p1;let h=[J1,...Q1];return new W6.GraphQLObjectType({name:K1,description:(p1=J1.description)===null||p1===void 0?void 0:p1.value,interfaces:()=>F1(h),fields:()=>c(h),astNode:J1,extensionASTNodes:Q1})}case NY.Kind.INTERFACE_TYPE_DEFINITION:{var W0;let h=[J1,...Q1];return new W6.GraphQLInterfaceType({name:K1,description:(W0=J1.description)===null||W0===void 0?void 0:W0.value,interfaces:()=>F1(h),fields:()=>c(h),astNode:J1,extensionASTNodes:Q1})}case NY.Kind.ENUM_TYPE_DEFINITION:{var Q0;let h=[J1,...Q1];return new W6.GraphQLEnumType({name:K1,description:(Q0=J1.description)===null||Q0===void 0?void 0:Q0.value,values:H1(h),astNode:J1,extensionASTNodes:Q1})}case NY.Kind.UNION_TYPE_DEFINITION:{var x;let h=[J1,...Q1];return new W6.GraphQLUnionType({name:K1,description:(x=J1.description)===null||x===void 0?void 0:x.value,types:()=>z1(h),astNode:J1,extensionASTNodes:Q1})}case NY.Kind.SCALAR_TYPE_DEFINITION:{var g;return new W6.GraphQLScalarType({name:K1,description:(g=J1.description)===null||g===void 0?void 0:g.value,specifiedByURL:DM0(J1),astNode:J1,extensionASTNodes:Q1})}case NY.Kind.INPUT_OBJECT_TYPE_DEFINITION:{var m;let h=[J1,...Q1];return new W6.GraphQLInputObjectType({name:K1,description:(m=J1.description)===null||m===void 0?void 0:m.value,fields:()=>a(h),astNode:J1,extensionASTNodes:Q1,isOneOf:_C6(J1)})}}}}var IM0=(0,CC6.keyMap)([...AM0.specifiedScalarTypes,...wM0.introspectionTypes],(Y)=>Y.name);function rk(Y){let J=(0,G91.getDirectiveValues)(cA.GraphQLDeprecatedDirective,Y);return J===null||J===void 0?void 0:J.reason}function DM0(Y){let J=(0,G91.getDirectiveValues)(cA.GraphQLSpecifiedByDirective,Y);return J===null||J===void 0?void 0:J.url}function _C6(Y){return Boolean((0,G91.getDirectiveValues)(cA.GraphQLOneOfDirective,Y))}});var TM0=q((EM0)=>{Object.defineProperty(EM0,"__esModule",{value:!0});EM0.buildASTSchema=MM0;EM0.buildSchema=dC6;var vC6=I9(),hC6=n0(),bC6=dU(),yC6=o9(),gC6=rU(),uC6=vA(),mC6=Q91();function MM0(Y,J){if(Y!=null&&Y.kind===hC6.Kind.DOCUMENT||(0,vC6.devAssert)(!1,"Must provide valid Document AST."),(J===null||J===void 0?void 0:J.assumeValid)!==!0&&(J===null||J===void 0?void 0:J.assumeValidSDL)!==!0)(0,uC6.assertValidSDL)(Y);let X={description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},Z=(0,mC6.extendSchemaImpl)(X,Y,J);if(Z.astNode==null)for(let $ of Z.types)switch($.name){case"Query":Z.query=$;break;case"Mutation":Z.mutation=$;break;case"Subscription":Z.subscription=$;break}let W=[...Z.directives,...yC6.specifiedDirectives.filter(($)=>Z.directives.every((G)=>G.name!==$.name))];return new gC6.GraphQLSchema({...Z,directives:W})}function dC6(Y,J){let X=(0,bC6.parse)(Y,{noLocation:J===null||J===void 0?void 0:J.noLocation,allowLegacyFragmentVariables:J===null||J===void 0?void 0:J.allowLegacyFragmentVariables});return MM0(X,{assumeValidSDL:J===null||J===void 0?void 0:J.assumeValidSDL,assumeValid:J===null||J===void 0?void 0:J.assumeValid})}});var CM0=q((SM0)=>{Object.defineProperty(SM0,"__esModule",{value:!0});SM0.lexicographicSortSchema=sC6;var pC6=V4(),nC6=d5(),iC6=OA(),RM0=KA(),D9=i0(),oC6=o9(),rC6=EY(),aC6=rU();function sC6(Y){let J=Y.toConfig(),X=(0,iC6.keyValMap)(U91(J.types),(K)=>K.name,O);return new aC6.GraphQLSchema({...J,types:Object.values(X),directives:U91(J.directives).map(G),query:$(J.query),mutation:$(J.mutation),subscription:$(J.subscription)});function Z(K){if((0,D9.isListType)(K))return new D9.GraphQLList(Z(K.ofType));else if((0,D9.isNonNullType)(K))return new D9.GraphQLNonNull(Z(K.ofType));return W(K)}function W(K){return X[K.name]}function $(K){return K&&W(K)}function G(K){let B=K.toConfig();return new oC6.GraphQLDirective({...B,locations:NM0(B.locations,(F)=>F),args:Q(B.args)})}function Q(K){return ak(K,(B)=>({...B,type:Z(B.type)}))}function U(K){return ak(K,(B)=>({...B,type:Z(B.type),args:B.args&&Q(B.args)}))}function z(K){return ak(K,(B)=>({...B,type:Z(B.type)}))}function H(K){return U91(K).map(W)}function O(K){if((0,D9.isScalarType)(K)||(0,rC6.isIntrospectionType)(K))return K;if((0,D9.isObjectType)(K)){let B=K.toConfig();return new D9.GraphQLObjectType({...B,interfaces:()=>H(B.interfaces),fields:()=>U(B.fields)})}if((0,D9.isInterfaceType)(K)){let B=K.toConfig();return new D9.GraphQLInterfaceType({...B,interfaces:()=>H(B.interfaces),fields:()=>U(B.fields)})}if((0,D9.isUnionType)(K)){let B=K.toConfig();return new D9.GraphQLUnionType({...B,types:()=>H(B.types)})}if((0,D9.isEnumType)(K)){let B=K.toConfig();return new D9.GraphQLEnumType({...B,values:ak(B.values,(F)=>F)})}if((0,D9.isInputObjectType)(K)){let B=K.toConfig();return new D9.GraphQLInputObjectType({...B,fields:()=>z(B.fields)})}(0,nC6.invariant)(!1,"Unexpected type: "+(0,pC6.inspect)(K))}}function ak(Y,J){let X=Object.create(null);for(let Z of Object.keys(Y).sort(RM0.naturalCompare))X[Z]=J(Y[Z]);return X}function U91(Y){return NM0(Y,(J)=>J.name)}function NM0(Y,J){return Y.slice().sort((X,Z)=>{let W=J(X),$=J(Z);return(0,RM0.naturalCompare)(W,$)})}});var bM0=q((hM0)=>{Object.defineProperty(hM0,"__esModule",{value:!0});hM0.printIntrospectionSchema=$j6;hM0.printSchema=Wj6;hM0.printType=_M0;var eC6=V4(),Yj6=d5(),Jj6=GA(),H91=n0(),sk=P7(),jB=i0(),O91=o9(),jM0=EY(),Xj6=I3(),Zj6=EA();function Wj6(Y){return kM0(Y,(J)=>!(0,O91.isSpecifiedDirective)(J),Gj6)}function $j6(Y){return kM0(Y,O91.isSpecifiedDirective,jM0.isIntrospectionType)}function Gj6(Y){return!(0,Xj6.isSpecifiedScalarType)(Y)&&!(0,jM0.isIntrospectionType)(Y)}function kM0(Y,J,X){let Z=Y.getDirectives().filter(J),W=Object.values(Y.getTypeMap()).filter(X);return[Qj6(Y),...Z.map(($)=>Fj6($)),...W.map(($)=>_M0($))].filter(Boolean).join(`

`)}function Qj6(Y){if(Y.description==null&&Uj6(Y))return;let J=[],X=Y.getQueryType();if(X)J.push(`  query: ${X.name}`);let Z=Y.getMutationType();if(Z)J.push(`  mutation: ${Z.name}`);let W=Y.getSubscriptionType();if(W)J.push(`  subscription: ${W.name}`);return SY(Y)+`schema {
${J.join(`
`)}
}`}function Uj6(Y){let J=Y.getQueryType();if(J&&J.name!=="Query")return!1;let X=Y.getMutationType();if(X&&X.name!=="Mutation")return!1;let Z=Y.getSubscriptionType();if(Z&&Z.name!=="Subscription")return!1;return!0}function _M0(Y){if((0,jB.isScalarType)(Y))return zj6(Y);if((0,jB.isObjectType)(Y))return Hj6(Y);if((0,jB.isInterfaceType)(Y))return Oj6(Y);if((0,jB.isUnionType)(Y))return Kj6(Y);if((0,jB.isEnumType)(Y))return Bj6(Y);if((0,jB.isInputObjectType)(Y))return qj6(Y);(0,Yj6.invariant)(!1,"Unexpected type: "+(0,eC6.inspect)(Y))}function zj6(Y){return SY(Y)+`scalar ${Y.name}`+Vj6(Y)}function xM0(Y){let J=Y.getInterfaces();return J.length?" implements "+J.map((X)=>X.name).join(" & "):""}function Hj6(Y){return SY(Y)+`type ${Y.name}`+xM0(Y)+fM0(Y)}function Oj6(Y){return SY(Y)+`interface ${Y.name}`+xM0(Y)+fM0(Y)}function Kj6(Y){let J=Y.getTypes(),X=J.length?" = "+J.join(" | "):"";return SY(Y)+"union "+Y.name+X}function Bj6(Y){let J=Y.getValues().map((X,Z)=>SY(X,"  ",!Z)+"  "+X.name+B91(X.deprecationReason));return SY(Y)+`enum ${Y.name}`+K91(J)}function qj6(Y){let J=Object.values(Y.getFields()).map((X,Z)=>SY(X,"  ",!Z)+"  "+z91(X));return SY(Y)+`input ${Y.name}`+(Y.isOneOf?" @oneOf":"")+K91(J)}function fM0(Y){let J=Object.values(Y.getFields()).map((X,Z)=>SY(X,"  ",!Z)+"  "+X.name+vM0(X.args,"  ")+": "+String(X.type)+B91(X.deprecationReason));return K91(J)}function K91(Y){return Y.length!==0?` {
`+Y.join(`
`)+`
}`:""}function vM0(Y,J=""){if(Y.length===0)return"";if(Y.every((X)=>!X.description))return"("+Y.map(z91).join(", ")+")";return`(
`+Y.map((X,Z)=>SY(X,"  "+J,!Z)+"  "+J+z91(X)).join(`
`)+`
`+J+")"}function z91(Y){let J=(0,Zj6.astFromValue)(Y.defaultValue,Y.type),X=Y.name+": "+String(Y.type);if(J)X+=` = ${(0,sk.print)(J)}`;return X+B91(Y.deprecationReason)}function Fj6(Y){return SY(Y)+"directive @"+Y.name+vM0(Y.args)+(Y.isRepeatable?" repeatable":"")+" on "+Y.locations.join(" | ")}function B91(Y){if(Y==null)return"";if(Y!==O91.DEFAULT_DEPRECATION_REASON)return` @deprecated(reason: ${(0,sk.print)({kind:H91.Kind.STRING,value:Y})})`;return" @deprecated"}function Vj6(Y){if(Y.specifiedByURL==null)return"";return` @specifiedBy(url: ${(0,sk.print)({kind:H91.Kind.STRING,value:Y.specifiedByURL})})`}function SY(Y,J="",X=!0){let{description:Z}=Y;if(Z==null)return"";let W=(0,sk.print)({kind:H91.Kind.STRING,value:Z,block:(0,Jj6.isPrintableAsBlockString)(Z)});return(J&&!X?`
`+J:J)+W.replace(/\n/g,`
`+J)+`
`}});var gM0=q((yM0)=>{Object.defineProperty(yM0,"__esModule",{value:!0});yM0.concatAST=Pj6;var Aj6=n0();function Pj6(Y){let J=[];for(let X of Y)J.push(...X.definitions);return{kind:Aj6.Kind.DOCUMENT,definitions:J}}});var cM0=q((dM0)=>{Object.defineProperty(dM0,"__esModule",{value:!0});dM0.separateOperations=Ej6;var tk=n0(),Mj6=cU();function Ej6(Y){let J=[],X=Object.create(null);for(let W of Y.definitions)switch(W.kind){case tk.Kind.OPERATION_DEFINITION:J.push(W);break;case tk.Kind.FRAGMENT_DEFINITION:X[W.name.value]=uM0(W.selectionSet);break;default:}let Z=Object.create(null);for(let W of J){let $=new Set;for(let Q of uM0(W.selectionSet))mM0($,X,Q);let G=W.name?W.name.value:"";Z[G]={kind:tk.Kind.DOCUMENT,definitions:Y.definitions.filter((Q)=>Q===W||Q.kind===tk.Kind.FRAGMENT_DEFINITION&&$.has(Q.name.value))}}return Z}function mM0(Y,J,X){if(!Y.has(X)){Y.add(X);let Z=J[X];if(Z!==void 0)for(let W of Z)mM0(Y,J,W)}}function uM0(Y){let J=[];return(0,Mj6.visit)(Y,{FragmentSpread(X){J.push(X.name.value)}}),J}});var iM0=q((nM0)=>{Object.defineProperty(nM0,"__esModule",{value:!0});nM0.stripIgnoredCharacters=Nj6;var Rj6=GA(),lM0=UA(),pM0=Hk(),q91=DB();function Nj6(Y){let J=(0,pM0.isSource)(Y)?Y:new pM0.Source(Y),X=J.body,Z=new lM0.Lexer(J),W="",$=!1;while(Z.advance().kind!==q91.TokenKind.EOF){let G=Z.token,Q=G.kind,U=!(0,lM0.isPunctuatorTokenKind)(G.kind);if($){if(U||G.kind===q91.TokenKind.SPREAD)W+=" "}let z=X.slice(G.start,G.end);if(Q===q91.TokenKind.BLOCK_STRING)W+=(0,Rj6.printBlockString)(G.value,{minimize:!0});else W+=z;$=U}return W}});var aM0=q((rM0)=>{Object.defineProperty(rM0,"__esModule",{value:!0});rM0.assertValidName=_j6;rM0.isValidNameError=oM0;var Cj6=I9(),jj6=U0(),kj6=BA();function _j6(Y){let J=oM0(Y);if(J)throw J;return Y}function oM0(Y){if(typeof Y==="string"||(0,Cj6.devAssert)(!1,"Expected name to be a string."),Y.startsWith("__"))return new jj6.GraphQLError(`Name "${Y}" must not begin with "__", which is reserved by GraphQL introspection.`);try{(0,kj6.assertName)(Y)}catch(J){return J}}});var GE0=q((WE0)=>{Object.defineProperty(WE0,"__esModule",{value:!0});WE0.DangerousChangeType=WE0.BreakingChangeType=void 0;WE0.findBreakingChanges=uj6;WE0.findDangerousChanges=mj6;var vj6=V4(),XE0=d5(),sM0=o$(),hj6=P7(),B4=i0(),bj6=I3(),yj6=EA(),gj6=Q51(),f6;WE0.BreakingChangeType=f6;(function(Y){Y.TYPE_REMOVED="TYPE_REMOVED",Y.TYPE_CHANGED_KIND="TYPE_CHANGED_KIND",Y.TYPE_REMOVED_FROM_UNION="TYPE_REMOVED_FROM_UNION",Y.VALUE_REMOVED_FROM_ENUM="VALUE_REMOVED_FROM_ENUM",Y.REQUIRED_INPUT_FIELD_ADDED="REQUIRED_INPUT_FIELD_ADDED",Y.IMPLEMENTED_INTERFACE_REMOVED="IMPLEMENTED_INTERFACE_REMOVED",Y.FIELD_REMOVED="FIELD_REMOVED",Y.FIELD_CHANGED_KIND="FIELD_CHANGED_KIND",Y.REQUIRED_ARG_ADDED="REQUIRED_ARG_ADDED",Y.ARG_REMOVED="ARG_REMOVED",Y.ARG_CHANGED_KIND="ARG_CHANGED_KIND",Y.DIRECTIVE_REMOVED="DIRECTIVE_REMOVED",Y.DIRECTIVE_ARG_REMOVED="DIRECTIVE_ARG_REMOVED",Y.REQUIRED_DIRECTIVE_ARG_ADDED="REQUIRED_DIRECTIVE_ARG_ADDED",Y.DIRECTIVE_REPEATABLE_REMOVED="DIRECTIVE_REPEATABLE_REMOVED",Y.DIRECTIVE_LOCATION_REMOVED="DIRECTIVE_LOCATION_REMOVED"})(f6||(WE0.BreakingChangeType=f6={}));var hJ;WE0.DangerousChangeType=hJ;(function(Y){Y.VALUE_ADDED_TO_ENUM="VALUE_ADDED_TO_ENUM",Y.TYPE_ADDED_TO_UNION="TYPE_ADDED_TO_UNION",Y.OPTIONAL_INPUT_FIELD_ADDED="OPTIONAL_INPUT_FIELD_ADDED",Y.OPTIONAL_ARG_ADDED="OPTIONAL_ARG_ADDED",Y.IMPLEMENTED_INTERFACE_ADDED="IMPLEMENTED_INTERFACE_ADDED",Y.ARG_DEFAULT_VALUE_CHANGE="ARG_DEFAULT_VALUE_CHANGE"})(hJ||(WE0.DangerousChangeType=hJ={}));function uj6(Y,J){return ZE0(Y,J).filter((X)=>(X.type in f6))}function mj6(Y,J){return ZE0(Y,J).filter((X)=>(X.type in hJ))}function ZE0(Y,J){return[...cj6(Y,J),...dj6(Y,J)]}function dj6(Y,J){let X=[],Z=cZ(Y.getDirectives(),J.getDirectives());for(let W of Z.removed)X.push({type:f6.DIRECTIVE_REMOVED,description:`${W.name} was removed.`});for(let[W,$]of Z.persisted){let G=cZ(W.args,$.args);for(let Q of G.added)if((0,B4.isRequiredArgument)(Q))X.push({type:f6.REQUIRED_DIRECTIVE_ARG_ADDED,description:`A required arg ${Q.name} on directive ${W.name} was added.`});for(let Q of G.removed)X.push({type:f6.DIRECTIVE_ARG_REMOVED,description:`${Q.name} was removed from ${W.name}.`});if(W.isRepeatable&&!$.isRepeatable)X.push({type:f6.DIRECTIVE_REPEATABLE_REMOVED,description:`Repeatable flag was removed from ${W.name}.`});for(let Q of W.locations)if(!$.locations.includes(Q))X.push({type:f6.DIRECTIVE_LOCATION_REMOVED,description:`${Q} was removed from ${W.name}.`})}return X}function cj6(Y,J){let X=[],Z=cZ(Object.values(Y.getTypeMap()),Object.values(J.getTypeMap()));for(let W of Z.removed)X.push({type:f6.TYPE_REMOVED,description:(0,bj6.isSpecifiedScalarType)(W)?`Standard scalar ${W.name} was removed because it is not referenced anymore.`:`${W.name} was removed.`});for(let[W,$]of Z.persisted)if((0,B4.isEnumType)(W)&&(0,B4.isEnumType)($))X.push(...nj6(W,$));else if((0,B4.isUnionType)(W)&&(0,B4.isUnionType)($))X.push(...pj6(W,$));else if((0,B4.isInputObjectType)(W)&&(0,B4.isInputObjectType)($))X.push(...lj6(W,$));else if((0,B4.isObjectType)(W)&&(0,B4.isObjectType)($))X.push(...eM0(W,$),...tM0(W,$));else if((0,B4.isInterfaceType)(W)&&(0,B4.isInterfaceType)($))X.push(...eM0(W,$),...tM0(W,$));else if(W.constructor!==$.constructor)X.push({type:f6.TYPE_CHANGED_KIND,description:`${W.name} changed from ${YE0(W)} to ${YE0($)}.`});return X}function lj6(Y,J){let X=[],Z=cZ(Object.values(Y.getFields()),Object.values(J.getFields()));for(let W of Z.added)if((0,B4.isRequiredInputField)(W))X.push({type:f6.REQUIRED_INPUT_FIELD_ADDED,description:`A required field ${W.name} on input type ${Y.name} was added.`});else X.push({type:hJ.OPTIONAL_INPUT_FIELD_ADDED,description:`An optional field ${W.name} on input type ${Y.name} was added.`});for(let W of Z.removed)X.push({type:f6.FIELD_REMOVED,description:`${Y.name}.${W.name} was removed.`});for(let[W,$]of Z.persisted)if(!pA(W.type,$.type))X.push({type:f6.FIELD_CHANGED_KIND,description:`${Y.name}.${W.name} changed type from ${String(W.type)} to ${String($.type)}.`});return X}function pj6(Y,J){let X=[],Z=cZ(Y.getTypes(),J.getTypes());for(let W of Z.added)X.push({type:hJ.TYPE_ADDED_TO_UNION,description:`${W.name} was added to union type ${Y.name}.`});for(let W of Z.removed)X.push({type:f6.TYPE_REMOVED_FROM_UNION,description:`${W.name} was removed from union type ${Y.name}.`});return X}function nj6(Y,J){let X=[],Z=cZ(Y.getValues(),J.getValues());for(let W of Z.added)X.push({type:hJ.VALUE_ADDED_TO_ENUM,description:`${W.name} was added to enum type ${Y.name}.`});for(let W of Z.removed)X.push({type:f6.VALUE_REMOVED_FROM_ENUM,description:`${W.name} was removed from enum type ${Y.name}.`});return X}function tM0(Y,J){let X=[],Z=cZ(Y.getInterfaces(),J.getInterfaces());for(let W of Z.added)X.push({type:hJ.IMPLEMENTED_INTERFACE_ADDED,description:`${W.name} added to interfaces implemented by ${Y.name}.`});for(let W of Z.removed)X.push({type:f6.IMPLEMENTED_INTERFACE_REMOVED,description:`${Y.name} no longer implements interface ${W.name}.`});return X}function eM0(Y,J){let X=[],Z=cZ(Object.values(Y.getFields()),Object.values(J.getFields()));for(let W of Z.removed)X.push({type:f6.FIELD_REMOVED,description:`${Y.name}.${W.name} was removed.`});for(let[W,$]of Z.persisted)if(X.push(...ij6(Y,W,$)),!lA(W.type,$.type))X.push({type:f6.FIELD_CHANGED_KIND,description:`${Y.name}.${W.name} changed type from ${String(W.type)} to ${String($.type)}.`});return X}function ij6(Y,J,X){let Z=[],W=cZ(J.args,X.args);for(let $ of W.removed)Z.push({type:f6.ARG_REMOVED,description:`${Y.name}.${J.name} arg ${$.name} was removed.`});for(let[$,G]of W.persisted)if(!pA($.type,G.type))Z.push({type:f6.ARG_CHANGED_KIND,description:`${Y.name}.${J.name} arg ${$.name} has changed type from ${String($.type)} to ${String(G.type)}.`});else if($.defaultValue!==void 0)if(G.defaultValue===void 0)Z.push({type:hJ.ARG_DEFAULT_VALUE_CHANGE,description:`${Y.name}.${J.name} arg ${$.name} defaultValue was removed.`});else{let U=JE0($.defaultValue,$.type),z=JE0(G.defaultValue,G.type);if(U!==z)Z.push({type:hJ.ARG_DEFAULT_VALUE_CHANGE,description:`${Y.name}.${J.name} arg ${$.name} has changed defaultValue from ${U} to ${z}.`})}for(let $ of W.added)if((0,B4.isRequiredArgument)($))Z.push({type:f6.REQUIRED_ARG_ADDED,description:`A required arg ${$.name} on ${Y.name}.${J.name} was added.`});else Z.push({type:hJ.OPTIONAL_ARG_ADDED,description:`An optional arg ${$.name} on ${Y.name}.${J.name} was added.`});return Z}function lA(Y,J){if((0,B4.isListType)(Y))return(0,B4.isListType)(J)&&lA(Y.ofType,J.ofType)||(0,B4.isNonNullType)(J)&&lA(Y,J.ofType);if((0,B4.isNonNullType)(Y))return(0,B4.isNonNullType)(J)&&lA(Y.ofType,J.ofType);return(0,B4.isNamedType)(J)&&Y.name===J.name||(0,B4.isNonNullType)(J)&&lA(Y,J.ofType)}function pA(Y,J){if((0,B4.isListType)(Y))return(0,B4.isListType)(J)&&pA(Y.ofType,J.ofType);if((0,B4.isNonNullType)(Y))return(0,B4.isNonNullType)(J)&&pA(Y.ofType,J.ofType)||!(0,B4.isNonNullType)(J)&&pA(Y.ofType,J);return(0,B4.isNamedType)(J)&&Y.name===J.name}function YE0(Y){if((0,B4.isScalarType)(Y))return"a Scalar type";if((0,B4.isObjectType)(Y))return"an Object type";if((0,B4.isInterfaceType)(Y))return"an Interface type";if((0,B4.isUnionType)(Y))return"a Union type";if((0,B4.isEnumType)(Y))return"an Enum type";if((0,B4.isInputObjectType)(Y))return"an Input type";(0,XE0.invariant)(!1,"Unexpected type: "+(0,vj6.inspect)(Y))}function JE0(Y,J){let X=(0,yj6.astFromValue)(Y,J);return X!=null||(0,XE0.invariant)(!1),(0,hj6.print)((0,gj6.sortValueNode)(X))}function cZ(Y,J){let X=[],Z=[],W=[],$=(0,sM0.keyMap)(Y,({name:Q})=>Q),G=(0,sM0.keyMap)(J,({name:Q})=>Q);for(let Q of Y){let U=G[Q.name];if(U===void 0)Z.push(Q);else W.push([Q,U])}for(let Q of J)if($[Q.name]===void 0)X.push(Q);return{added:X,persisted:W,removed:Z}}});var zE0=q((UE0)=>{Object.defineProperty(UE0,"__esModule",{value:!0});UE0.resolveASTSchemaCoordinate=QE0;UE0.resolveSchemaCoordinate=sj6;var Zz=V4(),nA=n0(),aj6=dU(),YG=i0();function sj6(Y,J){return QE0(Y,(0,aj6.parseSchemaCoordinate)(J))}function tj6(Y,J){let X=J.name.value,Z=Y.getType(X);if(Z==null)return;return{kind:"NamedType",type:Z}}function ej6(Y,J){let X=J.name.value,Z=Y.getType(X);if(!Z)throw Error(`Expected ${(0,Zz.inspect)(X)} to be defined as a type in the schema.`);if(!(0,YG.isEnumType)(Z)&&!(0,YG.isInputObjectType)(Z)&&!(0,YG.isObjectType)(Z)&&!(0,YG.isInterfaceType)(Z))throw Error(`Expected ${(0,Zz.inspect)(X)} to be an Enum, Input Object, Object or Interface type.`);if((0,YG.isEnumType)(Z)){let G=J.memberName.value,Q=Z.getValue(G);if(Q==null)return;return{kind:"EnumValue",type:Z,enumValue:Q}}if((0,YG.isInputObjectType)(Z)){let G=J.memberName.value,Q=Z.getFields()[G];if(Q==null)return;return{kind:"InputField",type:Z,inputField:Q}}let W=J.memberName.value,$=Z.getFields()[W];if($==null)return;return{kind:"Field",type:Z,field:$}}function Yk6(Y,J){let X=J.name.value,Z=Y.getType(X);if(Z==null)throw Error(`Expected ${(0,Zz.inspect)(X)} to be defined as a type in the schema.`);if(!(0,YG.isObjectType)(Z)&&!(0,YG.isInterfaceType)(Z))throw Error(`Expected ${(0,Zz.inspect)(X)} to be an object type or interface type.`);let W=J.fieldName.value,$=Z.getFields()[W];if($==null)throw Error(`Expected ${(0,Zz.inspect)(W)} to exist as a field of type ${(0,Zz.inspect)(X)} in the schema.`);let G=J.argumentName.value,Q=$.args.find((U)=>U.name===G);if(Q==null)return;return{kind:"FieldArgument",type:Z,field:$,fieldArgument:Q}}function Jk6(Y,J){let X=J.name.value,Z=Y.getDirective(X);if(!Z)return;return{kind:"Directive",directive:Z}}function Xk6(Y,J){let X=J.name.value,Z=Y.getDirective(X);if(!Z)throw Error(`Expected ${(0,Zz.inspect)(X)} to be defined as a directive in the schema.`);let{argumentName:{value:W}}=J,$=Z.args.find((G)=>G.name===W);if(!$)return;return{kind:"DirectiveArgument",directive:Z,directiveArgument:$}}function QE0(Y,J){switch(J.kind){case nA.Kind.TYPE_COORDINATE:return tj6(Y,J);case nA.Kind.MEMBER_COORDINATE:return ej6(Y,J);case nA.Kind.ARGUMENT_COORDINATE:return Yk6(Y,J);case nA.Kind.DIRECTIVE_COORDINATE:return Jk6(Y,J);case nA.Kind.DIRECTIVE_ARGUMENT_COORDINATE:return Xk6(Y,J)}}});var qE0=q((a0)=>{Object.defineProperty(a0,"__esModule",{value:!0});Object.defineProperty(a0,"BreakingChangeType",{enumerable:!0,get:function(){return ek.BreakingChangeType}});Object.defineProperty(a0,"DangerousChangeType",{enumerable:!0,get:function(){return ek.DangerousChangeType}});Object.defineProperty(a0,"TypeInfo",{enumerable:!0,get:function(){return OE0.TypeInfo}});Object.defineProperty(a0,"assertValidName",{enumerable:!0,get:function(){return KE0.assertValidName}});Object.defineProperty(a0,"astFromValue",{enumerable:!0,get:function(){return Fk6.astFromValue}});Object.defineProperty(a0,"buildASTSchema",{enumerable:!0,get:function(){return HE0.buildASTSchema}});Object.defineProperty(a0,"buildClientSchema",{enumerable:!0,get:function(){return zk6.buildClientSchema}});Object.defineProperty(a0,"buildSchema",{enumerable:!0,get:function(){return HE0.buildSchema}});Object.defineProperty(a0,"coerceInputValue",{enumerable:!0,get:function(){return Vk6.coerceInputValue}});Object.defineProperty(a0,"concatAST",{enumerable:!0,get:function(){return Ik6.concatAST}});Object.defineProperty(a0,"doTypesOverlap",{enumerable:!0,get:function(){return I91.doTypesOverlap}});Object.defineProperty(a0,"extendSchema",{enumerable:!0,get:function(){return Hk6.extendSchema}});Object.defineProperty(a0,"findBreakingChanges",{enumerable:!0,get:function(){return ek.findBreakingChanges}});Object.defineProperty(a0,"findDangerousChanges",{enumerable:!0,get:function(){return ek.findDangerousChanges}});Object.defineProperty(a0,"getIntrospectionQuery",{enumerable:!0,get:function(){return $k6.getIntrospectionQuery}});Object.defineProperty(a0,"getOperationAST",{enumerable:!0,get:function(){return Gk6.getOperationAST}});Object.defineProperty(a0,"getOperationRootType",{enumerable:!0,get:function(){return Qk6.getOperationRootType}});Object.defineProperty(a0,"introspectionFromSchema",{enumerable:!0,get:function(){return Uk6.introspectionFromSchema}});Object.defineProperty(a0,"isEqualType",{enumerable:!0,get:function(){return I91.isEqualType}});Object.defineProperty(a0,"isTypeSubTypeOf",{enumerable:!0,get:function(){return I91.isTypeSubTypeOf}});Object.defineProperty(a0,"isValidNameError",{enumerable:!0,get:function(){return KE0.isValidNameError}});Object.defineProperty(a0,"lexicographicSortSchema",{enumerable:!0,get:function(){return Ok6.lexicographicSortSchema}});Object.defineProperty(a0,"printIntrospectionSchema",{enumerable:!0,get:function(){return V91.printIntrospectionSchema}});Object.defineProperty(a0,"printSchema",{enumerable:!0,get:function(){return V91.printSchema}});Object.defineProperty(a0,"printType",{enumerable:!0,get:function(){return V91.printType}});Object.defineProperty(a0,"resolveASTSchemaCoordinate",{enumerable:!0,get:function(){return BE0.resolveASTSchemaCoordinate}});Object.defineProperty(a0,"resolveSchemaCoordinate",{enumerable:!0,get:function(){return BE0.resolveSchemaCoordinate}});Object.defineProperty(a0,"separateOperations",{enumerable:!0,get:function(){return Dk6.separateOperations}});Object.defineProperty(a0,"stripIgnoredCharacters",{enumerable:!0,get:function(){return wk6.stripIgnoredCharacters}});Object.defineProperty(a0,"typeFromAST",{enumerable:!0,get:function(){return Kk6.typeFromAST}});Object.defineProperty(a0,"valueFromAST",{enumerable:!0,get:function(){return Bk6.valueFromAST}});Object.defineProperty(a0,"valueFromASTUntyped",{enumerable:!0,get:function(){return qk6.valueFromASTUntyped}});Object.defineProperty(a0,"visitWithTypeInfo",{enumerable:!0,get:function(){return OE0.visitWithTypeInfo}});var $k6=$91(),Gk6=GM0(),Qk6=UM0(),Uk6=HM0(),zk6=BM0(),HE0=TM0(),Hk6=Q91(),Ok6=CM0(),V91=bM0(),Kk6=D3(),Bk6=xA(),qk6=B81(),Fk6=EA(),OE0=Sk(),Vk6=M51(),Ik6=gM0(),Dk6=cM0(),wk6=iM0(),I91=IA(),KE0=aM0(),ek=GE0(),BE0=zE0()});var f1=q((n)=>{Object.defineProperty(n,"__esModule",{value:!0});Object.defineProperty(n,"BREAK",{enumerable:!0,get:function(){return $4.BREAK}});Object.defineProperty(n,"BreakingChangeType",{enumerable:!0,get:function(){return G4.BreakingChangeType}});Object.defineProperty(n,"DEFAULT_DEPRECATION_REASON",{enumerable:!0,get:function(){return R1.DEFAULT_DEPRECATION_REASON}});Object.defineProperty(n,"DangerousChangeType",{enumerable:!0,get:function(){return G4.DangerousChangeType}});Object.defineProperty(n,"DirectiveLocation",{enumerable:!0,get:function(){return $4.DirectiveLocation}});Object.defineProperty(n,"ExecutableDefinitionsRule",{enumerable:!0,get:function(){return R0.ExecutableDefinitionsRule}});Object.defineProperty(n,"FieldsOnCorrectTypeRule",{enumerable:!0,get:function(){return R0.FieldsOnCorrectTypeRule}});Object.defineProperty(n,"FragmentsOnCompositeTypesRule",{enumerable:!0,get:function(){return R0.FragmentsOnCompositeTypesRule}});Object.defineProperty(n,"GRAPHQL_MAX_INT",{enumerable:!0,get:function(){return R1.GRAPHQL_MAX_INT}});Object.defineProperty(n,"GRAPHQL_MIN_INT",{enumerable:!0,get:function(){return R1.GRAPHQL_MIN_INT}});Object.defineProperty(n,"GraphQLBoolean",{enumerable:!0,get:function(){return R1.GraphQLBoolean}});Object.defineProperty(n,"GraphQLDeprecatedDirective",{enumerable:!0,get:function(){return R1.GraphQLDeprecatedDirective}});Object.defineProperty(n,"GraphQLDirective",{enumerable:!0,get:function(){return R1.GraphQLDirective}});Object.defineProperty(n,"GraphQLEnumType",{enumerable:!0,get:function(){return R1.GraphQLEnumType}});Object.defineProperty(n,"GraphQLError",{enumerable:!0,get:function(){return iA.GraphQLError}});Object.defineProperty(n,"GraphQLFloat",{enumerable:!0,get:function(){return R1.GraphQLFloat}});Object.defineProperty(n,"GraphQLID",{enumerable:!0,get:function(){return R1.GraphQLID}});Object.defineProperty(n,"GraphQLIncludeDirective",{enumerable:!0,get:function(){return R1.GraphQLIncludeDirective}});Object.defineProperty(n,"GraphQLInputObjectType",{enumerable:!0,get:function(){return R1.GraphQLInputObjectType}});Object.defineProperty(n,"GraphQLInt",{enumerable:!0,get:function(){return R1.GraphQLInt}});Object.defineProperty(n,"GraphQLInterfaceType",{enumerable:!0,get:function(){return R1.GraphQLInterfaceType}});Object.defineProperty(n,"GraphQLList",{enumerable:!0,get:function(){return R1.GraphQLList}});Object.defineProperty(n,"GraphQLNonNull",{enumerable:!0,get:function(){return R1.GraphQLNonNull}});Object.defineProperty(n,"GraphQLObjectType",{enumerable:!0,get:function(){return R1.GraphQLObjectType}});Object.defineProperty(n,"GraphQLOneOfDirective",{enumerable:!0,get:function(){return R1.GraphQLOneOfDirective}});Object.defineProperty(n,"GraphQLScalarType",{enumerable:!0,get:function(){return R1.GraphQLScalarType}});Object.defineProperty(n,"GraphQLSchema",{enumerable:!0,get:function(){return R1.GraphQLSchema}});Object.defineProperty(n,"GraphQLSkipDirective",{enumerable:!0,get:function(){return R1.GraphQLSkipDirective}});Object.defineProperty(n,"GraphQLSpecifiedByDirective",{enumerable:!0,get:function(){return R1.GraphQLSpecifiedByDirective}});Object.defineProperty(n,"GraphQLString",{enumerable:!0,get:function(){return R1.GraphQLString}});Object.defineProperty(n,"GraphQLUnionType",{enumerable:!0,get:function(){return R1.GraphQLUnionType}});Object.defineProperty(n,"Kind",{enumerable:!0,get:function(){return $4.Kind}});Object.defineProperty(n,"KnownArgumentNamesRule",{enumerable:!0,get:function(){return R0.KnownArgumentNamesRule}});Object.defineProperty(n,"KnownDirectivesRule",{enumerable:!0,get:function(){return R0.KnownDirectivesRule}});Object.defineProperty(n,"KnownFragmentNamesRule",{enumerable:!0,get:function(){return R0.KnownFragmentNamesRule}});Object.defineProperty(n,"KnownTypeNamesRule",{enumerable:!0,get:function(){return R0.KnownTypeNamesRule}});Object.defineProperty(n,"Lexer",{enumerable:!0,get:function(){return $4.Lexer}});Object.defineProperty(n,"Location",{enumerable:!0,get:function(){return $4.Location}});Object.defineProperty(n,"LoneAnonymousOperationRule",{enumerable:!0,get:function(){return R0.LoneAnonymousOperationRule}});Object.defineProperty(n,"LoneSchemaDefinitionRule",{enumerable:!0,get:function(){return R0.LoneSchemaDefinitionRule}});Object.defineProperty(n,"MaxIntrospectionDepthRule",{enumerable:!0,get:function(){return R0.MaxIntrospectionDepthRule}});Object.defineProperty(n,"NoDeprecatedCustomRule",{enumerable:!0,get:function(){return R0.NoDeprecatedCustomRule}});Object.defineProperty(n,"NoFragmentCyclesRule",{enumerable:!0,get:function(){return R0.NoFragmentCyclesRule}});Object.defineProperty(n,"NoSchemaIntrospectionCustomRule",{enumerable:!0,get:function(){return R0.NoSchemaIntrospectionCustomRule}});Object.defineProperty(n,"NoUndefinedVariablesRule",{enumerable:!0,get:function(){return R0.NoUndefinedVariablesRule}});Object.defineProperty(n,"NoUnusedFragmentsRule",{enumerable:!0,get:function(){return R0.NoUnusedFragmentsRule}});Object.defineProperty(n,"NoUnusedVariablesRule",{enumerable:!0,get:function(){return R0.NoUnusedVariablesRule}});Object.defineProperty(n,"OperationTypeNode",{enumerable:!0,get:function(){return $4.OperationTypeNode}});Object.defineProperty(n,"OverlappingFieldsCanBeMergedRule",{enumerable:!0,get:function(){return R0.OverlappingFieldsCanBeMergedRule}});Object.defineProperty(n,"PossibleFragmentSpreadsRule",{enumerable:!0,get:function(){return R0.PossibleFragmentSpreadsRule}});Object.defineProperty(n,"PossibleTypeExtensionsRule",{enumerable:!0,get:function(){return R0.PossibleTypeExtensionsRule}});Object.defineProperty(n,"ProvidedRequiredArgumentsRule",{enumerable:!0,get:function(){return R0.ProvidedRequiredArgumentsRule}});Object.defineProperty(n,"ScalarLeafsRule",{enumerable:!0,get:function(){return R0.ScalarLeafsRule}});Object.defineProperty(n,"SchemaMetaFieldDef",{enumerable:!0,get:function(){return R1.SchemaMetaFieldDef}});Object.defineProperty(n,"SingleFieldSubscriptionsRule",{enumerable:!0,get:function(){return R0.SingleFieldSubscriptionsRule}});Object.defineProperty(n,"Source",{enumerable:!0,get:function(){return $4.Source}});Object.defineProperty(n,"Token",{enumerable:!0,get:function(){return $4.Token}});Object.defineProperty(n,"TokenKind",{enumerable:!0,get:function(){return $4.TokenKind}});Object.defineProperty(n,"TypeInfo",{enumerable:!0,get:function(){return G4.TypeInfo}});Object.defineProperty(n,"TypeKind",{enumerable:!0,get:function(){return R1.TypeKind}});Object.defineProperty(n,"TypeMetaFieldDef",{enumerable:!0,get:function(){return R1.TypeMetaFieldDef}});Object.defineProperty(n,"TypeNameMetaFieldDef",{enumerable:!0,get:function(){return R1.TypeNameMetaFieldDef}});Object.defineProperty(n,"UniqueArgumentDefinitionNamesRule",{enumerable:!0,get:function(){return R0.UniqueArgumentDefinitionNamesRule}});Object.defineProperty(n,"UniqueArgumentNamesRule",{enumerable:!0,get:function(){return R0.UniqueArgumentNamesRule}});Object.defineProperty(n,"UniqueDirectiveNamesRule",{enumerable:!0,get:function(){return R0.UniqueDirectiveNamesRule}});Object.defineProperty(n,"UniqueDirectivesPerLocationRule",{enumerable:!0,get:function(){return R0.UniqueDirectivesPerLocationRule}});Object.defineProperty(n,"UniqueEnumValueNamesRule",{enumerable:!0,get:function(){return R0.UniqueEnumValueNamesRule}});Object.defineProperty(n,"UniqueFieldDefinitionNamesRule",{enumerable:!0,get:function(){return R0.UniqueFieldDefinitionNamesRule}});Object.defineProperty(n,"UniqueFragmentNamesRule",{enumerable:!0,get:function(){return R0.UniqueFragmentNamesRule}});Object.defineProperty(n,"UniqueInputFieldNamesRule",{enumerable:!0,get:function(){return R0.UniqueInputFieldNamesRule}});Object.defineProperty(n,"UniqueOperationNamesRule",{enumerable:!0,get:function(){return R0.UniqueOperationNamesRule}});Object.defineProperty(n,"UniqueOperationTypesRule",{enumerable:!0,get:function(){return R0.UniqueOperationTypesRule}});Object.defineProperty(n,"UniqueTypeNamesRule",{enumerable:!0,get:function(){return R0.UniqueTypeNamesRule}});Object.defineProperty(n,"UniqueVariableNamesRule",{enumerable:!0,get:function(){return R0.UniqueVariableNamesRule}});Object.defineProperty(n,"ValidationContext",{enumerable:!0,get:function(){return R0.ValidationContext}});Object.defineProperty(n,"ValuesOfCorrectTypeRule",{enumerable:!0,get:function(){return R0.ValuesOfCorrectTypeRule}});Object.defineProperty(n,"VariablesAreInputTypesRule",{enumerable:!0,get:function(){return R0.VariablesAreInputTypesRule}});Object.defineProperty(n,"VariablesInAllowedPositionRule",{enumerable:!0,get:function(){return R0.VariablesInAllowedPositionRule}});Object.defineProperty(n,"__Directive",{enumerable:!0,get:function(){return R1.__Directive}});Object.defineProperty(n,"__DirectiveLocation",{enumerable:!0,get:function(){return R1.__DirectiveLocation}});Object.defineProperty(n,"__EnumValue",{enumerable:!0,get:function(){return R1.__EnumValue}});Object.defineProperty(n,"__Field",{enumerable:!0,get:function(){return R1.__Field}});Object.defineProperty(n,"__InputValue",{enumerable:!0,get:function(){return R1.__InputValue}});Object.defineProperty(n,"__Schema",{enumerable:!0,get:function(){return R1.__Schema}});Object.defineProperty(n,"__Type",{enumerable:!0,get:function(){return R1.__Type}});Object.defineProperty(n,"__TypeKind",{enumerable:!0,get:function(){return R1.__TypeKind}});Object.defineProperty(n,"assertAbstractType",{enumerable:!0,get:function(){return R1.assertAbstractType}});Object.defineProperty(n,"assertCompositeType",{enumerable:!0,get:function(){return R1.assertCompositeType}});Object.defineProperty(n,"assertDirective",{enumerable:!0,get:function(){return R1.assertDirective}});Object.defineProperty(n,"assertEnumType",{enumerable:!0,get:function(){return R1.assertEnumType}});Object.defineProperty(n,"assertEnumValueName",{enumerable:!0,get:function(){return R1.assertEnumValueName}});Object.defineProperty(n,"assertInputObjectType",{enumerable:!0,get:function(){return R1.assertInputObjectType}});Object.defineProperty(n,"assertInputType",{enumerable:!0,get:function(){return R1.assertInputType}});Object.defineProperty(n,"assertInterfaceType",{enumerable:!0,get:function(){return R1.assertInterfaceType}});Object.defineProperty(n,"assertLeafType",{enumerable:!0,get:function(){return R1.assertLeafType}});Object.defineProperty(n,"assertListType",{enumerable:!0,get:function(){return R1.assertListType}});Object.defineProperty(n,"assertName",{enumerable:!0,get:function(){return R1.assertName}});Object.defineProperty(n,"assertNamedType",{enumerable:!0,get:function(){return R1.assertNamedType}});Object.defineProperty(n,"assertNonNullType",{enumerable:!0,get:function(){return R1.assertNonNullType}});Object.defineProperty(n,"assertNullableType",{enumerable:!0,get:function(){return R1.assertNullableType}});Object.defineProperty(n,"assertObjectType",{enumerable:!0,get:function(){return R1.assertObjectType}});Object.defineProperty(n,"assertOutputType",{enumerable:!0,get:function(){return R1.assertOutputType}});Object.defineProperty(n,"assertScalarType",{enumerable:!0,get:function(){return R1.assertScalarType}});Object.defineProperty(n,"assertSchema",{enumerable:!0,get:function(){return R1.assertSchema}});Object.defineProperty(n,"assertType",{enumerable:!0,get:function(){return R1.assertType}});Object.defineProperty(n,"assertUnionType",{enumerable:!0,get:function(){return R1.assertUnionType}});Object.defineProperty(n,"assertValidName",{enumerable:!0,get:function(){return G4.assertValidName}});Object.defineProperty(n,"assertValidSchema",{enumerable:!0,get:function(){return R1.assertValidSchema}});Object.defineProperty(n,"assertWrappingType",{enumerable:!0,get:function(){return R1.assertWrappingType}});Object.defineProperty(n,"astFromValue",{enumerable:!0,get:function(){return G4.astFromValue}});Object.defineProperty(n,"buildASTSchema",{enumerable:!0,get:function(){return G4.buildASTSchema}});Object.defineProperty(n,"buildClientSchema",{enumerable:!0,get:function(){return G4.buildClientSchema}});Object.defineProperty(n,"buildSchema",{enumerable:!0,get:function(){return G4.buildSchema}});Object.defineProperty(n,"coerceInputValue",{enumerable:!0,get:function(){return G4.coerceInputValue}});Object.defineProperty(n,"concatAST",{enumerable:!0,get:function(){return G4.concatAST}});Object.defineProperty(n,"createSourceEventStream",{enumerable:!0,get:function(){return P3.createSourceEventStream}});Object.defineProperty(n,"defaultFieldResolver",{enumerable:!0,get:function(){return P3.defaultFieldResolver}});Object.defineProperty(n,"defaultTypeResolver",{enumerable:!0,get:function(){return P3.defaultTypeResolver}});Object.defineProperty(n,"doTypesOverlap",{enumerable:!0,get:function(){return G4.doTypesOverlap}});Object.defineProperty(n,"execute",{enumerable:!0,get:function(){return P3.execute}});Object.defineProperty(n,"executeSync",{enumerable:!0,get:function(){return P3.executeSync}});Object.defineProperty(n,"extendSchema",{enumerable:!0,get:function(){return G4.extendSchema}});Object.defineProperty(n,"findBreakingChanges",{enumerable:!0,get:function(){return G4.findBreakingChanges}});Object.defineProperty(n,"findDangerousChanges",{enumerable:!0,get:function(){return G4.findDangerousChanges}});Object.defineProperty(n,"formatError",{enumerable:!0,get:function(){return iA.formatError}});Object.defineProperty(n,"getArgumentValues",{enumerable:!0,get:function(){return P3.getArgumentValues}});Object.defineProperty(n,"getDirectiveValues",{enumerable:!0,get:function(){return P3.getDirectiveValues}});Object.defineProperty(n,"getEnterLeaveForKind",{enumerable:!0,get:function(){return $4.getEnterLeaveForKind}});Object.defineProperty(n,"getIntrospectionQuery",{enumerable:!0,get:function(){return G4.getIntrospectionQuery}});Object.defineProperty(n,"getLocation",{enumerable:!0,get:function(){return $4.getLocation}});Object.defineProperty(n,"getNamedType",{enumerable:!0,get:function(){return R1.getNamedType}});Object.defineProperty(n,"getNullableType",{enumerable:!0,get:function(){return R1.getNullableType}});Object.defineProperty(n,"getOperationAST",{enumerable:!0,get:function(){return G4.getOperationAST}});Object.defineProperty(n,"getOperationRootType",{enumerable:!0,get:function(){return G4.getOperationRootType}});Object.defineProperty(n,"getVariableValues",{enumerable:!0,get:function(){return P3.getVariableValues}});Object.defineProperty(n,"getVisitFn",{enumerable:!0,get:function(){return $4.getVisitFn}});Object.defineProperty(n,"graphql",{enumerable:!0,get:function(){return VE0.graphql}});Object.defineProperty(n,"graphqlSync",{enumerable:!0,get:function(){return VE0.graphqlSync}});Object.defineProperty(n,"introspectionFromSchema",{enumerable:!0,get:function(){return G4.introspectionFromSchema}});Object.defineProperty(n,"introspectionTypes",{enumerable:!0,get:function(){return R1.introspectionTypes}});Object.defineProperty(n,"isAbstractType",{enumerable:!0,get:function(){return R1.isAbstractType}});Object.defineProperty(n,"isCompositeType",{enumerable:!0,get:function(){return R1.isCompositeType}});Object.defineProperty(n,"isConstValueNode",{enumerable:!0,get:function(){return $4.isConstValueNode}});Object.defineProperty(n,"isDefinitionNode",{enumerable:!0,get:function(){return $4.isDefinitionNode}});Object.defineProperty(n,"isDirective",{enumerable:!0,get:function(){return R1.isDirective}});Object.defineProperty(n,"isEnumType",{enumerable:!0,get:function(){return R1.isEnumType}});Object.defineProperty(n,"isEqualType",{enumerable:!0,get:function(){return G4.isEqualType}});Object.defineProperty(n,"isExecutableDefinitionNode",{enumerable:!0,get:function(){return $4.isExecutableDefinitionNode}});Object.defineProperty(n,"isInputObjectType",{enumerable:!0,get:function(){return R1.isInputObjectType}});Object.defineProperty(n,"isInputType",{enumerable:!0,get:function(){return R1.isInputType}});Object.defineProperty(n,"isInterfaceType",{enumerable:!0,get:function(){return R1.isInterfaceType}});Object.defineProperty(n,"isIntrospectionType",{enumerable:!0,get:function(){return R1.isIntrospectionType}});Object.defineProperty(n,"isLeafType",{enumerable:!0,get:function(){return R1.isLeafType}});Object.defineProperty(n,"isListType",{enumerable:!0,get:function(){return R1.isListType}});Object.defineProperty(n,"isNamedType",{enumerable:!0,get:function(){return R1.isNamedType}});Object.defineProperty(n,"isNonNullType",{enumerable:!0,get:function(){return R1.isNonNullType}});Object.defineProperty(n,"isNullableType",{enumerable:!0,get:function(){return R1.isNullableType}});Object.defineProperty(n,"isObjectType",{enumerable:!0,get:function(){return R1.isObjectType}});Object.defineProperty(n,"isOutputType",{enumerable:!0,get:function(){return R1.isOutputType}});Object.defineProperty(n,"isRequiredArgument",{enumerable:!0,get:function(){return R1.isRequiredArgument}});Object.defineProperty(n,"isRequiredInputField",{enumerable:!0,get:function(){return R1.isRequiredInputField}});Object.defineProperty(n,"isScalarType",{enumerable:!0,get:function(){return R1.isScalarType}});Object.defineProperty(n,"isSchema",{enumerable:!0,get:function(){return R1.isSchema}});Object.defineProperty(n,"isSchemaCoordinateNode",{enumerable:!0,get:function(){return $4.isSchemaCoordinateNode}});Object.defineProperty(n,"isSelectionNode",{enumerable:!0,get:function(){return $4.isSelectionNode}});Object.defineProperty(n,"isSpecifiedDirective",{enumerable:!0,get:function(){return R1.isSpecifiedDirective}});Object.defineProperty(n,"isSpecifiedScalarType",{enumerable:!0,get:function(){return R1.isSpecifiedScalarType}});Object.defineProperty(n,"isType",{enumerable:!0,get:function(){return R1.isType}});Object.defineProperty(n,"isTypeDefinitionNode",{enumerable:!0,get:function(){return $4.isTypeDefinitionNode}});Object.defineProperty(n,"isTypeExtensionNode",{enumerable:!0,get:function(){return $4.isTypeExtensionNode}});Object.defineProperty(n,"isTypeNode",{enumerable:!0,get:function(){return $4.isTypeNode}});Object.defineProperty(n,"isTypeSubTypeOf",{enumerable:!0,get:function(){return G4.isTypeSubTypeOf}});Object.defineProperty(n,"isTypeSystemDefinitionNode",{enumerable:!0,get:function(){return $4.isTypeSystemDefinitionNode}});Object.defineProperty(n,"isTypeSystemExtensionNode",{enumerable:!0,get:function(){return $4.isTypeSystemExtensionNode}});Object.defineProperty(n,"isUnionType",{enumerable:!0,get:function(){return R1.isUnionType}});Object.defineProperty(n,"isValidNameError",{enumerable:!0,get:function(){return G4.isValidNameError}});Object.defineProperty(n,"isValueNode",{enumerable:!0,get:function(){return $4.isValueNode}});Object.defineProperty(n,"isWrappingType",{enumerable:!0,get:function(){return R1.isWrappingType}});Object.defineProperty(n,"lexicographicSortSchema",{enumerable:!0,get:function(){return G4.lexicographicSortSchema}});Object.defineProperty(n,"locatedError",{enumerable:!0,get:function(){return iA.locatedError}});Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return $4.parse}});Object.defineProperty(n,"parseConstValue",{enumerable:!0,get:function(){return $4.parseConstValue}});Object.defineProperty(n,"parseSchemaCoordinate",{enumerable:!0,get:function(){return $4.parseSchemaCoordinate}});Object.defineProperty(n,"parseType",{enumerable:!0,get:function(){return $4.parseType}});Object.defineProperty(n,"parseValue",{enumerable:!0,get:function(){return $4.parseValue}});Object.defineProperty(n,"print",{enumerable:!0,get:function(){return $4.print}});Object.defineProperty(n,"printError",{enumerable:!0,get:function(){return iA.printError}});Object.defineProperty(n,"printIntrospectionSchema",{enumerable:!0,get:function(){return G4.printIntrospectionSchema}});Object.defineProperty(n,"printLocation",{enumerable:!0,get:function(){return $4.printLocation}});Object.defineProperty(n,"printSchema",{enumerable:!0,get:function(){return G4.printSchema}});Object.defineProperty(n,"printSourceLocation",{enumerable:!0,get:function(){return $4.printSourceLocation}});Object.defineProperty(n,"printType",{enumerable:!0,get:function(){return G4.printType}});Object.defineProperty(n,"recommendedRules",{enumerable:!0,get:function(){return R0.recommendedRules}});Object.defineProperty(n,"resolveASTSchemaCoordinate",{enumerable:!0,get:function(){return G4.resolveASTSchemaCoordinate}});Object.defineProperty(n,"resolveObjMapThunk",{enumerable:!0,get:function(){return R1.resolveObjMapThunk}});Object.defineProperty(n,"resolveReadonlyArrayThunk",{enumerable:!0,get:function(){return R1.resolveReadonlyArrayThunk}});Object.defineProperty(n,"resolveSchemaCoordinate",{enumerable:!0,get:function(){return G4.resolveSchemaCoordinate}});Object.defineProperty(n,"responsePathAsArray",{enumerable:!0,get:function(){return P3.responsePathAsArray}});Object.defineProperty(n,"separateOperations",{enumerable:!0,get:function(){return G4.separateOperations}});Object.defineProperty(n,"specifiedDirectives",{enumerable:!0,get:function(){return R1.specifiedDirectives}});Object.defineProperty(n,"specifiedRules",{enumerable:!0,get:function(){return R0.specifiedRules}});Object.defineProperty(n,"specifiedScalarTypes",{enumerable:!0,get:function(){return R1.specifiedScalarTypes}});Object.defineProperty(n,"stripIgnoredCharacters",{enumerable:!0,get:function(){return G4.stripIgnoredCharacters}});Object.defineProperty(n,"subscribe",{enumerable:!0,get:function(){return P3.subscribe}});Object.defineProperty(n,"syntaxError",{enumerable:!0,get:function(){return iA.syntaxError}});Object.defineProperty(n,"typeFromAST",{enumerable:!0,get:function(){return G4.typeFromAST}});Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return R0.validate}});Object.defineProperty(n,"validateSchema",{enumerable:!0,get:function(){return R1.validateSchema}});Object.defineProperty(n,"valueFromAST",{enumerable:!0,get:function(){return G4.valueFromAST}});Object.defineProperty(n,"valueFromASTUntyped",{enumerable:!0,get:function(){return G4.valueFromASTUntyped}});Object.defineProperty(n,"version",{enumerable:!0,get:function(){return FE0.version}});Object.defineProperty(n,"versionInfo",{enumerable:!0,get:function(){return FE0.versionInfo}});Object.defineProperty(n,"visit",{enumerable:!0,get:function(){return $4.visit}});Object.defineProperty(n,"visitInParallel",{enumerable:!0,get:function(){return $4.visitInParallel}});Object.defineProperty(n,"visitWithTypeInfo",{enumerable:!0,get:function(){return G4.visitWithTypeInfo}});var FE0=AI0(),VE0=fL0(),R1=bL0(),$4=gL0(),P3=aL0(),R0=XM0(),iA=ZM0(),G4=qE0()});var IE0=()=>{};function Ak6(Y,J){if(String(Y)<String(J))return-1;if(String(Y)>String(J))return 1;return 0}function DE0(Y){let J;if("alias"in Y)J=Y.alias?.value;if(J==null&&"name"in Y)J=Y.name?.value;if(J==null)J=Y.kind;return J}function JG(Y,J,X){let Z=DE0(Y),W=DE0(J);if(typeof X==="function")return X(Z,W);return Ak6(Z,W)}function kB(Y){return Y!=null}var Y_=(Y)=>Array.isArray(Y)?Y:Y?[Y]:[];var oA=()=>{};function L4(Y){return J_(Y,[])}function J_(Y,J){switch(typeof Y){case"string":return JSON.stringify(Y);case"function":return Y.name?`[function ${Y.name}]`:"[function]";case"object":return Pk6(Y,J);default:return String(Y)}}function wE0(Y){if(Y.name="GraphQLError")return Y.toString();return`${Y.name}: ${Y.message};
 ${Y.stack}`}function Pk6(Y,J){if(Y===null)return"null";if(Y instanceof Error){if(Y.name==="AggregateError")return wE0(Y)+`
`+AE0(Y.errors,J);return wE0(Y)}if(J.includes(Y))return"[Circular]";let X=[...J,Y];if(Lk6(Y)){let Z=Y.toJSON();if(Z!==Y)return typeof Z==="string"?Z:J_(Z,X)}else if(Array.isArray(Y))return AE0(Y,X);return Mk6(Y,X)}function Lk6(Y){return typeof Y.toJSON==="function"}function Mk6(Y,J){let X=Object.entries(Y);if(X.length===0)return"{}";if(J.length>3)return"["+Ek6(Y)+"]";return"{ "+X.map(([W,$])=>W+": "+J_($,J)).join(", ")+" }"}function AE0(Y,J){if(Y.length===0)return"[]";if(J.length>3)return"[Array]";let X=Y.length,Z=[];for(let W=0;W<X;++W)Z.push(J_(Y[W],J));return"["+Z.join(", ")+"]"}function Ek6(Y){let J=Object.prototype.toString.call(Y).replace(/^\[object /,"").replace(/]$/,"");if(J==="Object"&&typeof Y.constructor==="function"){let X=Y.constructor.name;if(typeof X==="string"&&X!=="")return X}return J}function Rk6(Y){return Y!=null&&typeof Y==="object"&&Object.keys(Y).every((J)=>Tk6.includes(J))}function _B(Y,J){if(J?.originalError&&!(J.originalError instanceof Error)&&Rk6(J.originalError))J.originalError=_B(J.originalError.message,J.originalError);let X=rA.GraphQLError,Z=rA.versionInfo.major>=16?new X(Y,J):new X(Y,J?.nodes,J?.source,J?.positions,J?.path,J?.originalError,J?.extensions);if(J?.coordinate&&Z.coordinate==null)Object.defineProperties(Z,{coordinate:{value:J.coordinate,enumerable:!0,configurable:!0}});return Z}var rA,Tk6;var D91=w(()=>{rA=q1(f1(),1),Tk6=["message","locations","path","nodes","source","positions","originalError","name","stack","extensions","coordinate"]});function U4(Y){return Y?.then!=null}function Nk6(Y){let J=Y;return J&&J.then&&J.catch&&J.finally}function T1(Y,J,X,Z){let W=Q4().then(Y).then(J,X);if(Z)W=W.finally(Z);return sA(W)}function Q4(Y){if(Y&&Nk6(Y))return Y;if(U4(Y))return{then:(J,X)=>Q4(Y.then(J,X)),catch:(J)=>Q4(Y.then((X)=>X,J)),finally:(J)=>Q4(J?jk6(Y,J):Y),[Symbol.toStringTag]:"Promise"};return{then(J){if(J)try{return Q4(J(Y))}catch(X){return s9(X)}return this},catch(){return this},finally(J){if(J)try{return Q4(J()).then(()=>Y,()=>Y)}catch(X){return s9(X)}return this},[Symbol.toStringTag]:"Promise",__fakePromiseValue:Y,[X_]:"resolved"}}function aA(){if(Promise.withResolvers)return Promise.withResolvers();let Y,J;return{promise:new Promise(function(W,$){Y=W,J=$}),get resolve(){return Y},get reject(){return J}}}function s6(Y,J,X){if(Y?.length===0)return;let Z=Y[Symbol.iterator](),W=0;function $(){let{done:G,value:Q}=Z.next();if(G)return;let U=!1;function z(){U=!0}return T1(function(){return J(Q,z,W++)},function(O){if(O)X?.push(O);if(U)return;return $()})}return $()}function s9(Y){return{then(J,X){if(X)try{return Q4(X(Y))}catch(Z){return s9(Z)}return this},catch(J){if(J)try{return Q4(J(Y))}catch(X){return s9(X)}return this},finally(J){if(J)try{J()}catch(X){return s9(X)}return this},__fakeRejectError:Y,[Symbol.toStringTag]:"Promise",[X_]:"rejected"}}function lZ(Y,J,X,Z){if(Symbol.asyncIterator in Y)Y=Y[Symbol.asyncIterator]();let W,$,G;if(Z){let z;G=(H)=>{return z||=T1(Z,()=>H,()=>H),z}}if(typeof Y.return==="function")W=Y.return,$=(z)=>{let H=()=>{throw z};return W.call(Y).then(H,H)};function Q(z){if(z.done)return G?G(z):z;return T1(()=>z.value,(H)=>T1(()=>J(H),PE0,$))}let U;if(X){let z,H=X;U=(O)=>{return z||=T1(()=>O,(K)=>T1(()=>H(K),PE0,$)),z}}return{next(){return Y.next().then(Q,U)},return(){let z=W?W.call(Y).then(Q,U):Q4({value:void 0,done:!0});return G?z.then(G):z},throw(z){if(typeof Y.throw==="function")return Y.throw(z).then(Q,U);if($)return $(z);return s9(z)},[Symbol.asyncIterator](){return this}}}function PE0(Y){return{value:Y,done:!1}}function Sk6(Y){return Y?.[X_]==="resolved"}function Ck6(Y){return Y?.[X_]==="rejected"}function jk6(Y,J){if("finally"in Y)return Y.finally(J);return Y.then((X)=>{let Z=J();return U4(Z)?Z.then(()=>X):X},(X)=>{let Z=J();if(U4(Z))return Z.then(()=>{throw X});else throw X})}function sA(Y){if(Sk6(Y))return Y.__fakePromiseValue;if(Ck6(Y))throw Y.__fakeRejectError;return Y}var X_;var z4=w(()=>{X_=Symbol.for("@whatwg-node/promise-helpers/FakePromise")});function LE0(Y){return Y!=null&&typeof Y==="object"&&Symbol.iterator in Y}function ME0(Y){return typeof Y==="object"&&Y!==null}function EE0(Y,J){return Object.prototype.hasOwnProperty.call(Y,J)}var Z_=()=>{};function TE0(Y,J,X={}){let Z={},$=(J.arguments??[]).reduce((G,Q)=>({...G,[Q.name.value]:Q}),{});for(let{name:G,type:Q,defaultValue:U}of Y.args){let z=$[G];if(!z){if(U!==void 0)Z[G]=U;else if(bJ.isNonNullType(Q))throw _B(`Argument "${G}" of required type "${L4(Q)}" was not provided.`,{nodes:[J]});continue}let H=z.value,O=H.kind===bJ.Kind.NULL;if(H.kind===bJ.Kind.VARIABLE){let B=H.name.value;if(X==null||!EE0(X,B)){if(U!==void 0)Z[G]=U;else if(bJ.isNonNullType(Q))throw _B(`Argument "${G}" of required type "${L4(Q)}" was provided the variable "$${B}" which was not provided a runtime value.`,{nodes:[H]});continue}O=X[B]==null}if(O&&bJ.isNonNullType(Q))throw _B(`Argument "${G}" of non-null type "${L4(Q)}" must not be null.`,{nodes:[H]});let K=bJ.valueFromAST(H,Q,X);if(K===void 0)throw _B(`Argument "${G}" has invalid value ${bJ.print(H)}.`,{nodes:[H]});Z[G]=K}return Z}var bJ;var w91=w(()=>{D91();Z_();bJ=q1(f1(),1)});function yJ(Y){let J=new WeakMap;return function(Z){let W=J.get(Z);if(W===void 0){let $=Y(Z);return J.set(Z,$),$}return W}}function RE0(Y){let J=new WeakMap;return function(Z,W){let $=J.get(Z);if(!$){$=new WeakMap,J.set(Z,$);let Q=Y(Z,W);return $.set(W,Q),Q}let G=$.get(W);if(G===void 0){let Q=Y(Z,W);return $.set(W,Q),Q}return G}}function NE0(Y){let J=new WeakMap;return function(Z,W,$,G,Q){let U=J.get(Z);if(!U){U=new WeakMap,J.set(Z,U);let B=new WeakMap;U.set(W,B);let F=new WeakMap;B.set($,F);let V=new WeakMap;F.set(G,V);let I=Y(Z,W,$,G,Q);return V.set(Q,I),I}let z=U.get(W);if(!z){z=new WeakMap,U.set(W,z);let B=new WeakMap;z.set($,B);let F=new WeakMap;B.set(G,F);let V=Y(Z,W,$,G,Q);return F.set(Q,V),V}let H=z.get($);if(!H){H=new WeakMap,z.set($,H);let B=new WeakMap;H.set(G,B);let F=Y(Z,W,$,G,Q);return B.set(Q,F),F}let O=H.get(G);if(!O){O=new WeakMap,H.set(G,O);let B=Y(Z,W,$,G,Q);return O.set(Q,B),B}let K=O.get(Q);if(K===void 0){let B=Y(Z,W,$,G,Q);return O.set(Q,B),B}return K}}function SE0(Y,J,X=["directives"]){let Z={};if(Y.extensions){let G=Y.extensions;for(let Q of X)G=G?.[Q];if(G!=null)for(let Q in G){let U=G[Q],z=Q;if(Array.isArray(U))for(let H of U){let O=Z[z];if(!O)O=[],Z[z]=O;O.push(H)}else{let H=Z[z];if(!H)H=[],Z[z]=H;H.push(U)}}}let W=yJ((G)=>JSON.stringify(G)),$=[];if(Y.astNode)$.push(Y.astNode);if(Y.extensionASTNodes)$.push(...Y.extensionASTNodes);for(let G of $)if(G.directives?.length)for(let Q of G.directives){let U=Q.name.value,z=Z[U];if(!z)z=[],Z[U]=z;let H=J?.getDirective(U),O={};if(H)O=TE0(H,Q);if(Q.arguments)for(let K of Q.arguments){let B=K.name.value;if(O[B]==null){let F=H?.args.find((V)=>V.name===B);if(F)O[B]=W_.valueFromAST(K.value,F.type)}if(O[B]==null)O[B]=W_.valueFromASTUntyped(K.value)}if($.length>0&&z.length>0){let K=W(O);if(z.some((B)=>W(B)===K))continue}z.push(O)}return Z}var W_;var A91=w(()=>{w91();W_=q1(f1(),1)});function P91(Y,J=["directives"]){let X=SE0(Y,void 0,J);return Object.entries(X).map(([Z,W])=>W?.map(($)=>({name:Z,args:$}))).flat(1/0).filter(Boolean)}var L91=w(()=>{A91()});var M91=()=>{};var CE0=()=>{};function M3(Y){if(L3.isNonNullType(Y)){let J=M3(Y.ofType);if(J.kind===L3.Kind.NON_NULL_TYPE)throw Error(`Invalid type node ${L4(Y)}. Inner type of non-null type cannot be a non-null type.`);return{kind:L3.Kind.NON_NULL_TYPE,type:J}}else if(L3.isListType(Y))return{kind:L3.Kind.LIST_TYPE,type:M3(Y.ofType)};return{kind:L3.Kind.NAMED_TYPE,name:{kind:L3.Kind.NAME,value:Y.name}}}var L3;var E91=w(()=>{L3=q1(f1(),1)});function Wz(Y){if(Y===null)return{kind:gJ.Kind.NULL};if(Y===void 0)return null;if(Array.isArray(Y)){let J=[];for(let X of Y){let Z=Wz(X);if(Z!=null)J.push(Z)}return{kind:gJ.Kind.LIST,values:J}}if(typeof Y==="object"){if(Y?.toJSON)return Wz(Y.toJSON());let J=[];for(let X in Y){let Z=Y[X],W=Wz(Z);if(W)J.push({kind:gJ.Kind.OBJECT_FIELD,name:{kind:gJ.Kind.NAME,value:X},value:W})}return{kind:gJ.Kind.OBJECT,fields:J}}if(typeof Y==="boolean")return{kind:gJ.Kind.BOOLEAN,value:Y};if(typeof Y==="bigint")return{kind:gJ.Kind.INT,value:String(Y)};if(typeof Y==="number"&&isFinite(Y)){let J=String(Y);return kk6.test(J)?{kind:gJ.Kind.INT,value:J}:{kind:gJ.Kind.FLOAT,value:J}}if(typeof Y==="string")return{kind:gJ.Kind.STRING,value:Y};throw TypeError(`Cannot convert value to AST: ${Y}.`)}var gJ,kk6;var $_=w(()=>{gJ=q1(f1(),1);kk6=/^-?(?:0|[1-9][0-9]*)$/});function XG(Y,J){if(g8.isNonNullType(J)){let X=XG(Y,J.ofType);if(X?.kind===g8.Kind.NULL)return null;return X}if(Y===null)return{kind:g8.Kind.NULL};if(Y===void 0)return null;if(g8.isListType(J)){let X=J.ofType;if(LE0(Y)){let Z=[];for(let W of Y){let $=XG(W,X);if($!=null)Z.push($)}return{kind:g8.Kind.LIST,values:Z}}return XG(Y,X)}if(g8.isInputObjectType(J)){if(!ME0(Y))return null;let X=[];for(let Z of Object.values(J.getFields())){let W=XG(Y[Z.name],Z.type);if(W)X.push({kind:g8.Kind.OBJECT_FIELD,name:{kind:g8.Kind.NAME,value:Z.name},value:W})}return{kind:g8.Kind.OBJECT,fields:X}}if(g8.isLeafType(J)){let X=J.serialize(Y);if(X==null)return null;if(g8.isEnumType(J))return{kind:g8.Kind.ENUM,value:X};if(J.name==="ID"&&typeof X==="string"&&_k6.test(X))return{kind:g8.Kind.INT,value:X};return Wz(X)}console.assert(!1,"Unexpected input type: "+L4(J))}var g8,_k6;var jE0=w(()=>{$_();Z_();g8=q1(f1(),1);_k6=/^-?(?:0|[1-9][0-9]*)$/});function E7(Y){if(Y.astNode?.description)return{...Y.astNode.description,block:!0};if(Y.description)return{kind:kE0.Kind.STRING,value:Y.description,block:!0}}var kE0;var _E0=w(()=>{kE0=q1(f1(),1)});var UD8,xk6,T91;var R91=w(()=>{UD8=yJ(function(J){let X=xk6(J);return new Set([...X].map((Z)=>Z.name))}),xk6=yJ(function(J){let X=T91(J);return new Set(X.values())}),T91=yJ(function(J){let X=new Map,Z=J.getQueryType();if(Z)X.set("query",Z);let W=J.getMutationType();if(W)X.set("mutation",W);let $=J.getSubscriptionType();if($)X.set("subscription",$);return X})});function xE0(Y,J={}){let X=J.pathToDirectivesInExtensions,Z=Y.getTypeMap(),W=fk6(Y,X),$=W!=null?[W]:[],G=Y.getDirectives();for(let Q of G){if(Z0.isSpecifiedDirective(Q))continue;$.push(vk6(Q,Y,X))}for(let Q in Z){let U=Z[Q],z=Z0.isSpecifiedScalarType(U),H=Z0.isIntrospectionType(U);if(z||H)continue;if(Z0.isObjectType(U))$.push(hk6(U,Y,X));else if(Z0.isInterfaceType(U))$.push(bk6(U,Y,X));else if(Z0.isUnionType(U))$.push(yk6(U,Y,X));else if(Z0.isInputObjectType(U))$.push(gk6(U,Y,X));else if(Z0.isEnumType(U))$.push(uk6(U,Y,X));else if(Z0.isScalarType(U))$.push(mk6(U,Y,X));else throw Error(`Unknown type ${U}.`)}return{kind:Z0.Kind.DOCUMENT,definitions:$}}function fk6(Y,J){let X=new Map([["query",void 0],["mutation",void 0],["subscription",void 0]]),Z=[];if(Y.astNode!=null)Z.push(Y.astNode);if(Y.extensionASTNodes!=null)for(let z of Y.extensionASTNodes)Z.push(z);for(let z of Z)if(z.operationTypes)for(let H of z.operationTypes)X.set(H.operation,H);let W=T91(Y);for(let[z,H]of X){let O=W.get(z);if(O!=null){let K=M3(O);if(H!=null)H.type=K;else X.set(z,{kind:Z0.Kind.OPERATION_TYPE_DEFINITION,operation:z,type:K})}}let $=[...X.values()].filter(kB),G=E3(Y,Y,J);if(!$.length&&!G.length)return null;let Q={kind:$.length?Z0.Kind.SCHEMA_DEFINITION:Z0.Kind.SCHEMA_EXTENSION,operationTypes:$,directives:G},U=E7(Y);if(U)Q.description=U;return Q}function vk6(Y,J,X){return{kind:Z0.Kind.DIRECTIVE_DEFINITION,description:E7(Y),name:{kind:Z0.Kind.NAME,value:Y.name},arguments:Y.args?.map((Z)=>fE0(Z,J,X)),repeatable:Y.isRepeatable,locations:Y.locations?.map((Z)=>({kind:Z0.Kind.NAME,value:Z}))||[]}}function E3(Y,J,X){let Z=[],W=P91(Y,X),$;if(W!=null)$=hE0(J,W);let G=null,Q=null,U=null;if($!=null)Z=$.filter((z)=>Z0.specifiedDirectives.every((H)=>H.name!==z.name.value)),G=$.find((z)=>z.name.value==="deprecated"),Q=$.find((z)=>z.name.value==="specifiedBy"),U=$.find((z)=>z.name.value==="oneOf");if(Y.deprecationReason!=null&&G==null)G=lk6(Y.deprecationReason);if(Y.specifiedByUrl!=null||Y.specifiedByURL!=null&&Q==null){let H={url:Y.specifiedByUrl||Y.specifiedByURL};Q=tA("specifiedBy",H)}if(Y.isOneOf&&U==null)U=tA("oneOf");if(G!=null)Z.push(G);if(Q!=null)Z.push(Q);if(U!=null)Z.push(U);return Z}function fE0(Y,J,X){return{kind:Z0.Kind.INPUT_VALUE_DEFINITION,description:E7(Y),name:{kind:Z0.Kind.NAME,value:Y.name},type:M3(Y.type),defaultValue:Y.defaultValue!==void 0?XG(Y.defaultValue,Y.type)??void 0:void 0,directives:E3(Y,J,X)}}function hk6(Y,J,X){return{kind:Z0.Kind.OBJECT_TYPE_DEFINITION,description:E7(Y),name:{kind:Z0.Kind.NAME,value:Y.name},fields:Object.values(Y.getFields()).map((Z)=>vE0(Z,J,X)),interfaces:Object.values(Y.getInterfaces()).map((Z)=>M3(Z)),directives:E3(Y,J,X)}}function bk6(Y,J,X){let Z={kind:Z0.Kind.INTERFACE_TYPE_DEFINITION,description:E7(Y),name:{kind:Z0.Kind.NAME,value:Y.name},fields:Object.values(Y.getFields()).map((W)=>vE0(W,J,X)),directives:E3(Y,J,X)};if("getInterfaces"in Y)Z.interfaces=Object.values(Y.getInterfaces()).map((W)=>M3(W));return Z}function yk6(Y,J,X){return{kind:Z0.Kind.UNION_TYPE_DEFINITION,description:E7(Y),name:{kind:Z0.Kind.NAME,value:Y.name},directives:E3(Y,J,X),types:Y.getTypes().map((Z)=>M3(Z))}}function gk6(Y,J,X){return{kind:Z0.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:E7(Y),name:{kind:Z0.Kind.NAME,value:Y.name},fields:Object.values(Y.getFields()).map((Z)=>dk6(Z,J,X)),directives:E3(Y,J,X)}}function uk6(Y,J,X){return{kind:Z0.Kind.ENUM_TYPE_DEFINITION,description:E7(Y),name:{kind:Z0.Kind.NAME,value:Y.name},values:Object.values(Y.getValues()).map((Z)=>ck6(Z,J,X)),directives:E3(Y,J,X)}}function mk6(Y,J,X){let Z=P91(Y,X),W=hE0(J,Z),$=Y.specifiedByUrl||Y.specifiedByURL;if($&&!W.some((G)=>G.name.value==="specifiedBy")){let G={url:$};W.push(tA("specifiedBy",G))}return{kind:Z0.Kind.SCALAR_TYPE_DEFINITION,description:E7(Y),name:{kind:Z0.Kind.NAME,value:Y.name},directives:W}}function vE0(Y,J,X){return{kind:Z0.Kind.FIELD_DEFINITION,description:E7(Y),name:{kind:Z0.Kind.NAME,value:Y.name},arguments:Y.args.map((Z)=>fE0(Z,J,X)),type:M3(Y.type),directives:E3(Y,J,X)}}function dk6(Y,J,X){return{kind:Z0.Kind.INPUT_VALUE_DEFINITION,description:E7(Y),name:{kind:Z0.Kind.NAME,value:Y.name},type:M3(Y.type),directives:E3(Y,J,X),defaultValue:XG(Y.defaultValue,Y.type)??void 0}}function ck6(Y,J,X){return{kind:Z0.Kind.ENUM_VALUE_DEFINITION,description:E7(Y),name:{kind:Z0.Kind.NAME,value:Y.name},directives:E3(Y,J,X)}}function lk6(Y){return tA("deprecated",{reason:Y},Z0.GraphQLDeprecatedDirective)}function tA(Y,J,X){let Z=[];for(let W in J){let $=J[W],G;if(X!=null){let Q=X.args.find((U)=>U.name===W);if(Q)G=XG($,Q.type)}if(G==null)G=Wz($);if(G!=null)Z.push({kind:Z0.Kind.ARGUMENT,name:{kind:Z0.Kind.NAME,value:W},value:G})}return{kind:Z0.Kind.DIRECTIVE,name:{kind:Z0.Kind.NAME,value:Y},arguments:Z}}function hE0(Y,J){let X=[];for(let{name:Z,args:W}of J){let $=Y?.getDirective(Z);X.push(tA(Z,W,$))}return X}var Z0;var bE0=w(()=>{E91();jE0();$_();_E0();L91();oA();R91();Z0=q1(f1(),1)});var yE0=()=>{};var gE0=()=>{};function U_(){xB={}}function cE0(Y){let J=Y.name?.value;if(J==null)return;switch(G_(Y,J),Y.kind){case"EnumTypeDefinition":if(Y.values)for(let X of Y.values)G_(X,J,X.name.value);break;case"ObjectTypeDefinition":case"InputObjectTypeDefinition":case"InterfaceTypeDefinition":if(Y.fields){for(let X of Y.fields)if(G_(X,J,X.name.value),ak6(X)&&X.arguments)for(let Z of X.arguments)G_(Z,J,X.name.value,Z.name.value)}break}}function G_(Y,J,X,Z){let W=sk6(Y);if(typeof W!=="string"||W.length===0)return;let $=[J];if(X){if($.push(X),Z)$.push(Z)}let G=$.join(".");if(!xB[G])xB[G]=[];xB[G].push(W)}function nk6(Y){return`
# `+Y.replace(/\n/g,`
# `)}function u1(Y,J){return Y?Y.filter((X)=>X).join(J||""):""}function uE0(Y){return Y?.some((J)=>J.includes(`
`))??!1}function ik6(Y){return(J,X,Z,W,$)=>{let G=[],Q=W.reduce((H,O)=>{if(["fields","arguments","values"].includes(O)&&H.name)G.push(H.name.value);return H[O]},$[0]),U=[...G,Q?.name?.value].filter(Boolean).join("."),z=[];if(J.kind.includes("Definition")&&xB[U])z.push(...xB[U]);return u1([...z.map(nk6),J.description,Y(J,X,Z,W,$)],`
`)}}function eA(Y){return Y&&`  ${Y.replace(/\n/g,`
  `)}`}function uJ(Y){return Y&&Y.length!==0?`{
${eA(u1(Y,`
`))}
}`:""}function K6(Y,J,X){return J?Y+J+(X||""):""}function ok6(Y,J=!1){let X=Y.replace(/\\/g,"\\\\").replace(/"""/g,'\\"""');return(Y[0]===" "||Y[0]==="\t")&&Y.indexOf(`
`)===-1?`"""${X.replace(/"$/,`"
`)}"""`:`"""
${J?X:eA(X)}
"""`}function lE0(Y){return Q_.visit(Y,rk6)}function ak6(Y){return Y.kind==="FieldDefinition"}function sk6(Y){let J=tk6(Y);if(J!==void 0)return ek6(`
${J}`)}function tk6(Y){let J=Y.loc;if(!J)return;let X=[],Z=J.startToken.prev;while(Z!=null&&Z.kind===Q_.TokenKind.COMMENT&&Z.next!=null&&Z.prev!=null&&Z.line+1===Z.next.line&&Z.line!==Z.prev.line){let W=String(Z.value);X.push(W),Z=Z.prev}return X.length>0?X.reverse().join(`
`):void 0}function ek6(Y){let J=Y.split(/\r\n|[\n\r]/g),X=Y_6(J);if(X!==0)for(let Z=1;Z<J.length;Z++)J[Z]=J[Z].slice(X);while(J.length>0&&dE0(J[0]))J.shift();while(J.length>0&&dE0(J[J.length-1]))J.pop();return J.join(`
`)}function Y_6(Y){let J=null;for(let X=1;X<Y.length;X++){let Z=Y[X],W=pE0(Z);if(W===Z.length)continue;if(J===null||W<J){if(J=W,J===0)break}}return J===null?0:J}function pE0(Y){let J=0;while(J<Y.length&&(Y[J]===" "||Y[J]==="\t"))J++;return J}function dE0(Y){return pE0(Y)===Y.length}var Q_,pk6=80,xB,mE0,rk6;var nE0=w(()=>{Q_=q1(f1(),1),xB={};mE0={Name:{leave:(Y)=>Y.value},Variable:{leave:(Y)=>"$"+Y.name},Document:{leave:(Y)=>u1(Y.definitions,`

`)},OperationDefinition:{leave:(Y)=>{let J=K6("(",u1(Y.variableDefinitions,", "),")");return u1([Y.operation,u1([Y.name,J]),u1(Y.directives," ")]," ")+" "+Y.selectionSet}},VariableDefinition:{leave:({variable:Y,type:J,defaultValue:X,directives:Z})=>Y+": "+J+K6(" = ",X)+K6(" ",u1(Z," "))},SelectionSet:{leave:({selections:Y})=>uJ(Y)},Field:{leave({alias:Y,name:J,arguments:X,directives:Z,selectionSet:W}){let $=K6("",Y,": ")+J,G=$+K6("(",u1(X,", "),")");if(G.length>pk6)G=$+K6(`(
`,eA(u1(X,`
`)),`
)`);return u1([G,u1(Z," "),W]," ")}},Argument:{leave:({name:Y,value:J})=>Y+": "+J},FragmentSpread:{leave:({name:Y,directives:J})=>"..."+Y+K6(" ",u1(J," "))},InlineFragment:{leave:({typeCondition:Y,directives:J,selectionSet:X})=>u1(["...",K6("on ",Y),u1(J," "),X]," ")},FragmentDefinition:{leave:({name:Y,typeCondition:J,variableDefinitions:X,directives:Z,selectionSet:W})=>`fragment ${Y}${K6("(",u1(X,", "),")")} on ${J} ${K6("",u1(Z," ")," ")}`+W},IntValue:{leave:({value:Y})=>Y},FloatValue:{leave:({value:Y})=>Y},StringValue:{leave:({value:Y,block:J})=>{if(J)return ok6(Y);return JSON.stringify(Y)}},BooleanValue:{leave:({value:Y})=>Y?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:Y})=>Y},ListValue:{leave:({values:Y})=>"["+u1(Y,", ")+"]"},ObjectValue:{leave:({fields:Y})=>"{"+u1(Y,", ")+"}"},ObjectField:{leave:({name:Y,value:J})=>Y+": "+J},Directive:{leave:({name:Y,arguments:J})=>"@"+Y+K6("(",u1(J,", "),")")},NamedType:{leave:({name:Y})=>Y},ListType:{leave:({type:Y})=>"["+Y+"]"},NonNullType:{leave:({type:Y})=>Y+"!"},SchemaDefinition:{leave:({directives:Y,operationTypes:J})=>u1(["schema",u1(Y," "),uJ(J)]," ")},OperationTypeDefinition:{leave:({operation:Y,type:J})=>Y+": "+J},ScalarTypeDefinition:{leave:({name:Y,directives:J})=>u1(["scalar",Y,u1(J," ")]," ")},ObjectTypeDefinition:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>u1(["type",Y,K6("implements ",u1(J," & ")),u1(X," "),uJ(Z)]," ")},FieldDefinition:{leave:({name:Y,arguments:J,type:X,directives:Z})=>Y+(uE0(J)?K6(`(
`,eA(u1(J,`
`)),`
)`):K6("(",u1(J,", "),")"))+": "+X+K6(" ",u1(Z," "))},InputValueDefinition:{leave:({name:Y,type:J,defaultValue:X,directives:Z})=>u1([Y+": "+J,K6("= ",X),u1(Z," ")]," ")},InterfaceTypeDefinition:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>u1(["interface",Y,K6("implements ",u1(J," & ")),u1(X," "),uJ(Z)]," ")},UnionTypeDefinition:{leave:({name:Y,directives:J,types:X})=>u1(["union",Y,u1(J," "),K6("= ",u1(X," | "))]," ")},EnumTypeDefinition:{leave:({name:Y,directives:J,values:X})=>u1(["enum",Y,u1(J," "),uJ(X)]," ")},EnumValueDefinition:{leave:({name:Y,directives:J})=>u1([Y,u1(J," ")]," ")},InputObjectTypeDefinition:{leave:({name:Y,directives:J,fields:X})=>u1(["input",Y,u1(J," "),uJ(X)]," ")},DirectiveDefinition:{leave:({name:Y,arguments:J,repeatable:X,locations:Z})=>"directive @"+Y+(uE0(J)?K6(`(
`,eA(u1(J,`
`)),`
)`):K6("(",u1(J,", "),")"))+(X?" repeatable":"")+" on "+u1(Z," | ")},SchemaExtension:{leave:({directives:Y,operationTypes:J})=>u1(["extend schema",u1(Y," "),uJ(J)]," ")},ScalarTypeExtension:{leave:({name:Y,directives:J})=>u1(["extend scalar",Y,u1(J," ")]," ")},ObjectTypeExtension:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>u1(["extend type",Y,K6("implements ",u1(J," & ")),u1(X," "),uJ(Z)]," ")},InterfaceTypeExtension:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>u1(["extend interface",Y,K6("implements ",u1(J," & ")),u1(X," "),uJ(Z)]," ")},UnionTypeExtension:{leave:({name:Y,directives:J,types:X})=>u1(["extend union",Y,u1(J," "),K6("= ",u1(X," | "))]," ")},EnumTypeExtension:{leave:({name:Y,directives:J,values:X})=>u1(["extend enum",Y,u1(J," "),uJ(X)]," ")},InputObjectTypeExtension:{leave:({name:Y,directives:J,fields:X})=>u1(["extend input",Y,u1(J," "),uJ(X)]," ")}},rk6=Object.keys(mE0).reduce((Y,J)=>({...Y,[J]:{leave:ik6(mE0[J].leave)}}),{})});var iE0=()=>{};var oE0=()=>{};var rE0;var aE0=w(()=>{(function(Y){Y.QUERY="QUERY",Y.MUTATION="MUTATION",Y.SUBSCRIPTION="SUBSCRIPTION",Y.FIELD="FIELD",Y.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",Y.FRAGMENT_SPREAD="FRAGMENT_SPREAD",Y.INLINE_FRAGMENT="INLINE_FRAGMENT",Y.VARIABLE_DEFINITION="VARIABLE_DEFINITION",Y.SCHEMA="SCHEMA",Y.SCALAR="SCALAR",Y.OBJECT="OBJECT",Y.FIELD_DEFINITION="FIELD_DEFINITION",Y.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",Y.INTERFACE="INTERFACE",Y.UNION="UNION",Y.ENUM="ENUM",Y.ENUM_VALUE="ENUM_VALUE",Y.INPUT_OBJECT="INPUT_OBJECT",Y.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(rE0||(rE0={}))});var B0;var N91=w(()=>{(function(Y){Y.TYPE="MapperKind.TYPE",Y.SCALAR_TYPE="MapperKind.SCALAR_TYPE",Y.ENUM_TYPE="MapperKind.ENUM_TYPE",Y.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",Y.OBJECT_TYPE="MapperKind.OBJECT_TYPE",Y.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",Y.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",Y.UNION_TYPE="MapperKind.UNION_TYPE",Y.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",Y.ROOT_OBJECT="MapperKind.ROOT_OBJECT",Y.QUERY="MapperKind.QUERY",Y.MUTATION="MapperKind.MUTATION",Y.SUBSCRIPTION="MapperKind.SUBSCRIPTION",Y.DIRECTIVE="MapperKind.DIRECTIVE",Y.FIELD="MapperKind.FIELD",Y.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",Y.OBJECT_FIELD="MapperKind.OBJECT_FIELD",Y.ROOT_FIELD="MapperKind.ROOT_FIELD",Y.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",Y.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",Y.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",Y.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",Y.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",Y.ARGUMENT="MapperKind.ARGUMENT",Y.ENUM_VALUE="MapperKind.ENUM_VALUE"})(B0||(B0={}))});function $z(Y,J){if(J){let X=Y[J.name];if(sE0.isObjectType(X))return X}}var sE0;var tE0=w(()=>{sE0=q1(f1(),1)});function eE0(Y){if("getFields"in Y){let J=Y.getFields();for(let X in J)return J[X].name==="_fake"}return!1}function YT0(Y){switch(Y.name){case t6.GraphQLInt.name:return t6.GraphQLInt;case t6.GraphQLFloat.name:return t6.GraphQLFloat;case t6.GraphQLString.name:return t6.GraphQLString;case t6.GraphQLBoolean.name:return t6.GraphQLBoolean;case t6.GraphQLID.name:return t6.GraphQLID;default:return Y}}var t6;var S91=w(()=>{t6=q1(f1(),1)});function JT0(Y,J){let X=Object.create(null);for(let K in Y)X[K]=Y[K];let Z=Object.create(null);for(let K in X){let B=X[K];if(B==null||K.startsWith("__"))continue;let F=B.name;if(F.startsWith("__"))continue;if(Z[F]!=null){console.warn(`Duplicate schema type name ${F} found; keeping the existing one found in the schema`);continue}Z[F]=B}for(let K in Z)Z[K]=Q(Z[K]);let W=J.map((K)=>$(K));return{typeMap:Z,directives:W};function $(K){if(_0.isSpecifiedDirective(K))return K;let B=K.toConfig();return B.args=G(B.args),new _0.GraphQLDirective(B)}function G(K){let B={};for(let F in K){let V=K[F],I=O(V.type);if(I!=null)V.type=I,B[F]=V}return B}function Q(K){if(_0.isObjectType(K)){let B=K.toConfig(),F={...B,fields:()=>U(B.fields),interfaces:()=>H(B.interfaces)};return new _0.GraphQLObjectType(F)}else if(_0.isInterfaceType(K)){let B=K.toConfig(),F={...B,fields:()=>U(B.fields)};if("interfaces"in F)F.interfaces=()=>H(B.interfaces);return new _0.GraphQLInterfaceType(F)}else if(_0.isUnionType(K)){let B=K.toConfig(),F={...B,types:()=>H(B.types)};return new _0.GraphQLUnionType(F)}else if(_0.isInputObjectType(K)){let B=K.toConfig(),F={...B,fields:()=>z(B.fields)};return new _0.GraphQLInputObjectType(F)}else if(_0.isEnumType(K)){let B=K.toConfig();return new _0.GraphQLEnumType(B)}else if(_0.isScalarType(K)){if(_0.isSpecifiedScalarType(K))return K;let B=K.toConfig();return new _0.GraphQLScalarType(B)}throw Error(`Unexpected schema type: ${K}`)}function U(K){let B={};for(let F in K){let V=K[F],I=O(V.type);if(I!=null&&V.args)V.type=I,V.args=G(V.args),B[F]=V}return B}function z(K){let B={};for(let F in K){let V=K[F],I=O(V.type);if(I!=null)V.type=I,B[F]=V}return B}function H(K){let B=[];for(let F of K){let V=O(F);if(V!=null)B.push(V)}return B}function O(K){if(_0.isListType(K)){let B=O(K.ofType);return B!=null?new _0.GraphQLList(B):null}else if(_0.isNonNullType(K)){let B=O(K.ofType);return B!=null?new _0.GraphQLNonNull(B):null}else if(_0.isNamedType(K)){let B=X[K.name];if(B===void 0)B=eE0(K)?YT0(K):Q(K),Z[B.name]=X[K.name]=B;return B!=null?Z[B.name]:null}return null}}var _0;var C91=w(()=>{S91();_0=q1(f1(),1)});function z_(Y,J,X=null,Z=null){if(J==null)return J;let W=ZG.getNullableType(Y);if(ZG.isLeafType(W))return X!=null?X(W,J):J;else if(ZG.isListType(W))return Y_(J).map(($)=>z_(W.ofType,$,X,Z));else if(ZG.isInputObjectType(W)){let $=W.getFields(),G={};for(let Q in J){let U=$[Q];if(U!=null)G[Q]=z_(U.type,J[Q],X,Z)}return Z!=null?Z(W,G):G}}function H_(Y,J){return z_(Y,J,(X,Z)=>{try{return X.serialize(Z)}catch{return Z}})}function O_(Y,J){return z_(Y,J,(X,Z)=>{try{return X.parseValue(Z)}catch{return Z}})}var ZG;var j91=w(()=>{oA();ZG=q1(f1(),1)});function YP(Y,J={}){let X=WT0(ZT0(k91(XT0(X_6(k91(XT0(Y.getTypeMap(),Y,H_),Y,J,(Q)=>h1.isLeafType(Q)),Y,J),Y,O_),Y,J,(Q)=>!h1.isLeafType(Q)),Y,J),Y,J),Z=Y.getDirectives(),W=Z_6(Z,Y,J),{typeMap:$,directives:G}=JT0(X,W);return new h1.GraphQLSchema({...Y.toConfig(),query:$z($,$z(X,Y.getQueryType())),mutation:$z($,$z(X,Y.getMutationType())),subscription:$z($,$z(X,Y.getSubscriptionType())),types:Object.values($),directives:G})}function k91(Y,J,X,Z=()=>!0){let W={};for(let $ in Y)if(!$.startsWith("__")&&!J_6.includes($)){let G=Y[$];if(G==null||!Z(G)){W[$]=G;continue}let Q=$_6(J,X,$);if(Q==null){W[$]=G;continue}let U=Q(G,J);if(U===void 0){W[$]=G;continue}W[$]=U}return W}function X_6(Y,J,X){let Z=H_6(X);if(!Z)return Y;return k91(Y,J,{[B0.ENUM_TYPE]:(W)=>{let $=W.toConfig(),G=$.values,Q={};for(let U in G){let z=G[U],H=Z(z,W.name,J,U);if(H===void 0)Q[U]=z;else if(Array.isArray(H)){let[O,K]=H;Q[O]=K===void 0?z:K}else if(H!==null)Q[U]=H}return K_(new h1.GraphQLEnumType({...$,values:Q}))}},(W)=>h1.isEnumType(W))}function XT0(Y,J,X){let Z=WT0(Y,J,{[B0.ARGUMENT]:(W)=>{if(W.defaultValue===void 0)return W;let $=B_(Y,W.type);if($!=null)return{...W,defaultValue:X($,W.defaultValue)}}});return ZT0(Z,J,{[B0.INPUT_OBJECT_FIELD]:(W)=>{if(W.defaultValue===void 0)return W;let $=B_(Z,W.type);if($!=null)return{...W,defaultValue:X($,W.defaultValue)}}})}function B_(Y,J){if(h1.isListType(J)){let X=B_(Y,J.ofType);return X!=null?new h1.GraphQLList(X):null}else if(h1.isNonNullType(J)){let X=B_(Y,J.ofType);return X!=null?new h1.GraphQLNonNull(X):null}else if(h1.isNamedType(J)){let X=Y[J.name];return X!=null?X:null}return null}function ZT0(Y,J,X){let Z={};for(let W in Y)if(!W.startsWith("__")){let $=Y[W];if(!h1.isObjectType($)&&!h1.isInterfaceType($)&&!h1.isInputObjectType($)){Z[W]=$;continue}let G=Q_6(J,X,W);if(G==null){Z[W]=$;continue}let Q=$.toConfig(),U=Q.fields,z={};for(let H in U){let O=U[H],K=G(O,H,W,J);if(K===void 0)z[H]=O;else if(Array.isArray(K)){let[B,F]=K;if(F.astNode!=null)F.astNode={...F.astNode,name:{...F.astNode.name,value:B}};z[B]=F===void 0?O:F}else if(K!==null)z[H]=K}if(h1.isObjectType($))Z[W]=K_(new h1.GraphQLObjectType({...Q,fields:z}));else if(h1.isInterfaceType($))Z[W]=K_(new h1.GraphQLInterfaceType({...Q,fields:z}));else Z[W]=K_(new h1.GraphQLInputObjectType({...Q,fields:z}))}return Z}function WT0(Y,J,X){let Z={};for(let W in Y)if(!W.startsWith("__")){let $=Y[W];if(!h1.isObjectType($)&&!h1.isInterfaceType($)){Z[W]=$;continue}let G=U_6(X);if(G==null){Z[W]=$;continue}let Q=$.toConfig(),U=Q.fields,z={};for(let H in U){let O=U[H],K=O.args;if(K==null){z[H]=O;continue}let B=Object.keys(K);if(!B.length){z[H]=O;continue}let F={};for(let V of B){let I=K[V],D=G(I,H,W,J);if(D===void 0)F[V]=I;else if(Array.isArray(D)){let[L,A]=D;F[L]=A}else if(D!==null)F[V]=D}z[H]={...O,args:F}}if(h1.isObjectType($))Z[W]=new h1.GraphQLObjectType({...Q,fields:z});else if(h1.isInterfaceType($))Z[W]=new h1.GraphQLInterfaceType({...Q,fields:z});else Z[W]=new h1.GraphQLInputObjectType({...Q,fields:z})}return Z}function Z_6(Y,J,X){let Z=z_6(X);if(Z==null)return Y.slice();let W=[];for(let $ of Y){let G=Z($,J);if(G===void 0)W.push($);else if(G!==null)W.push(G)}return W}function W_6(Y,J){let X=Y.getType(J),Z=[B0.TYPE];if(h1.isObjectType(X)){if(Z.push(B0.COMPOSITE_TYPE,B0.OBJECT_TYPE),J===Y.getQueryType()?.name)Z.push(B0.ROOT_OBJECT,B0.QUERY);else if(J===Y.getMutationType()?.name)Z.push(B0.ROOT_OBJECT,B0.MUTATION);else if(J===Y.getSubscriptionType()?.name)Z.push(B0.ROOT_OBJECT,B0.SUBSCRIPTION)}else if(h1.isInputObjectType(X))Z.push(B0.INPUT_OBJECT_TYPE);else if(h1.isInterfaceType(X))Z.push(B0.COMPOSITE_TYPE,B0.ABSTRACT_TYPE,B0.INTERFACE_TYPE);else if(h1.isUnionType(X))Z.push(B0.COMPOSITE_TYPE,B0.ABSTRACT_TYPE,B0.UNION_TYPE);else if(h1.isEnumType(X))Z.push(B0.ENUM_TYPE);else if(h1.isScalarType(X))Z.push(B0.SCALAR_TYPE);return Z}function $_6(Y,J,X){let Z=W_6(Y,X),W,$=[...Z];while(!W&&$.length>0){let G=$.pop();W=J[G]}return W!=null?W:null}function G_6(Y,J){let X=Y.getType(J),Z=[B0.FIELD];if(h1.isObjectType(X)){if(Z.push(B0.COMPOSITE_FIELD,B0.OBJECT_FIELD),J===Y.getQueryType()?.name)Z.push(B0.ROOT_FIELD,B0.QUERY_ROOT_FIELD);else if(J===Y.getMutationType()?.name)Z.push(B0.ROOT_FIELD,B0.MUTATION_ROOT_FIELD);else if(J===Y.getSubscriptionType()?.name)Z.push(B0.ROOT_FIELD,B0.SUBSCRIPTION_ROOT_FIELD)}else if(h1.isInterfaceType(X))Z.push(B0.COMPOSITE_FIELD,B0.INTERFACE_FIELD);else if(h1.isInputObjectType(X))Z.push(B0.INPUT_OBJECT_FIELD);return Z}function Q_6(Y,J,X){let Z=G_6(Y,X),W,$=[...Z];while(!W&&$.length>0){let G=$.pop();W=J[G]}return W??null}function U_6(Y){let J=Y[B0.ARGUMENT];return J!=null?J:null}function z_6(Y){let J=Y[B0.DIRECTIVE];return J!=null?J:null}function H_6(Y){let J=Y[B0.ENUM_VALUE];return J!=null?J:null}function K_(Y){if(h1.isObjectType(Y)){let J=Y.toConfig();if(J.astNode!=null){let X=[];for(let Z in J.fields){let W=J.fields[Z];if(W.astNode!=null)X.push(W.astNode)}J.astNode={...J.astNode,kind:h1.Kind.OBJECT_TYPE_DEFINITION,fields:X}}if(J.extensionASTNodes!=null)J.extensionASTNodes=J.extensionASTNodes.map((X)=>({...X,kind:h1.Kind.OBJECT_TYPE_EXTENSION,fields:void 0}));return new h1.GraphQLObjectType(J)}else if(h1.isInterfaceType(Y)){let J=Y.toConfig();if(J.astNode!=null){let X=[];for(let Z in J.fields){let W=J.fields[Z];if(W.astNode!=null)X.push(W.astNode)}J.astNode={...J.astNode,kind:h1.Kind.INTERFACE_TYPE_DEFINITION,fields:X}}if(J.extensionASTNodes!=null)J.extensionASTNodes=J.extensionASTNodes.map((X)=>({...X,kind:h1.Kind.INTERFACE_TYPE_EXTENSION,fields:void 0}));return new h1.GraphQLInterfaceType(J)}else if(h1.isInputObjectType(Y)){let J=Y.toConfig();if(J.astNode!=null){let X=[];for(let Z in J.fields){let W=J.fields[Z];if(W.astNode!=null)X.push(W.astNode)}J.astNode={...J.astNode,kind:h1.Kind.INPUT_OBJECT_TYPE_DEFINITION,fields:X}}if(J.extensionASTNodes!=null)J.extensionASTNodes=J.extensionASTNodes.map((X)=>({...X,kind:h1.Kind.INPUT_OBJECT_TYPE_EXTENSION,fields:void 0}));return new h1.GraphQLInputObjectType(J)}else if(h1.isEnumType(Y)){let J=Y.toConfig();if(J.astNode!=null){let X=[];for(let Z in J.values){let W=J.values[Z];if(W.astNode!=null)X.push(W.astNode)}J.astNode={...J.astNode,values:X}}if(J.extensionASTNodes!=null)J.extensionASTNodes=J.extensionASTNodes.map((X)=>({...X,values:void 0}));return new h1.GraphQLEnumType(J)}else return Y}var h1,J_6;var $T0=w(()=>{tE0();N91();C91();j91();h1=q1(f1(),1);J_6=["String","ID","Int","Float","Boolean"]});var GT0=()=>{};function QT0(Y){return O_6(Y.getTypeMap(),Y.getDirectives()),Y}function O_6(Y,J){let X=Object.create(null);for(let z in Y){let H=Y[z];if(H==null||z.startsWith("__"))continue;let O=H.name;if(O.startsWith("__"))continue;if(X[O]!=null){console.warn(`Duplicate schema type name ${O} found; keeping the existing one found in the schema`);continue}X[O]=H}for(let z in X){let H=X[z];Y[z]=H}for(let z of J)z.args=z.args.filter((H)=>{return H.type=U(H.type),H.type!==null});for(let z in Y){let H=Y[z];if(!z.startsWith("__")&&z in X){if(H!=null)Z(H)}}for(let z in Y)if(!z.startsWith("__")&&!(z in X))delete Y[z];function Z(z){if(B8.isObjectType(z)){W(z),$(z);return}else if(B8.isInterfaceType(z)){if(W(z),"getInterfaces"in z)$(z);return}else if(B8.isUnionType(z)){Q(z);return}else if(B8.isInputObjectType(z)){G(z);return}else if(B8.isLeafType(z))return;throw Error(`Unexpected schema type: ${z}`)}function W(z){let H=z.getFields();for(let[O,K]of Object.entries(H))if(K.args.map((B)=>{return B.type=U(B.type),B.type===null?null:B}).filter(Boolean),K.type=U(K.type),K.type===null)delete H[O]}function $(z){if("getInterfaces"in z){let H=z.getInterfaces();H.push(...H.splice(0).map((O)=>U(O)).filter(Boolean))}}function G(z){let H=z.getFields();for(let[O,K]of Object.entries(H))if(K.type=U(K.type),K.type===null)delete H[O]}function Q(z){let H=z.getTypes();H.push(...H.splice(0).map((O)=>U(O)).filter(Boolean))}function U(z){if(B8.isListType(z)){let H=U(z.ofType);return H!=null?new B8.GraphQLList(H):null}else if(B8.isNonNullType(z)){let H=U(z.ofType);return H!=null?new B8.GraphQLNonNull(H):null}else if(B8.isNamedType(z)){let H=Y[z.name];if(H&&z!==H)return H}return z}}var B8;var UT0=w(()=>{B8=q1(f1(),1)});var zT0=()=>{};function F_(Y,J){let X=Y.getTypeMap();for(let Z in X){let W=X[Z];if(!q_.getNamedType(W).name.startsWith("__")&&q_.isObjectType(W)){let $=W.getFields();for(let G in $){let Q=$[G];J(Q,Z,G)}}}}var q_;var HT0=w(()=>{q_=q1(f1(),1)});function _91(Y,J){let X=Y.getTypeMap();for(let Z in X){let W=X[Z];if(!fB.getNamedType(W).name.startsWith("__")){if(fB.isObjectType(W)){let $=W.getFields();for(let G in $){let Q=$[G];for(let U of Q.args)U.defaultValue=J(U.type,U.defaultValue)}}else if(fB.isInputObjectType(W)){let $=W.getFields();for(let G in $){let Q=$[G];Q.defaultValue=J(Q.type,Q.defaultValue)}}}}}var fB;var OT0=w(()=>{fB=q1(f1(),1)});var KT0=()=>{};var BT0=()=>{};function Gz(Y,J=!1,X=!1,Z=!1){if(Y.length===0)return;if(Y.length===1)return Y[0];let W,$=!0,G=Y.every((z)=>{if(Array.isArray(z)){if(W===void 0)return W=z.length,!0;else if(W===z.length)return!0}else $=!1;return!1});if(Z&&G)return Array(W).fill(null).map((z,H)=>Gz(Y.map((O)=>O[H]),J,X,Z));if($)return Y.flat(1);let Q,U;if(J){if(U=Y.find((z)=>qT0(z)),U){if(Q==null)Q={};Object.setPrototypeOf(Q,Object.create(Object.getPrototypeOf(U)))}}for(let z of Y){if(z==null)continue;if(qT0(z)){if(U){let H=Object.getPrototypeOf(Q),O=Object.getPrototypeOf(z);if(O)for(let K of Object.getOwnPropertyNames(O)){let B=Object.getOwnPropertyDescriptor(O,K);if(kB(B))Object.defineProperty(H,K,B)}}for(let H in z){if(Q==null)Q={};if(H in Q)Q[H]=Gz([Q[H],z[H]],J,X,Z);else Q[H]=z[H]}}else if(Array.isArray(z))if(!Array.isArray(Q))Q=z;else Q=Gz([Q,z],J,X,Z);else Q=z}return Q}function qT0(Y){return Y&&typeof Y==="object"&&!Array.isArray(Y)}var FT0=w(()=>{oA()});var VT0=()=>{};var IT0=()=>{};var DT0=()=>{};var wT0=()=>{};var AT0=()=>{};var PT0=()=>{};var JP;var LT0=w(()=>{JP=class JP extends Map{get[Symbol.toStringTag](){return"AccumulatorMap"}add(Y,J){let X=this.get(Y);if(X===void 0)this.set(Y,[J]);else X.push(J)}}});var G5,MT0,tD8;var x91=w(()=>{G5=q1(f1(),1),MT0=new G5.GraphQLDirective({name:"defer",description:"Directs the executor to defer this fragment when the `if` argument is true or undefined.",locations:[G5.DirectiveLocation.FRAGMENT_SPREAD,G5.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new G5.GraphQLNonNull(G5.GraphQLBoolean),description:"Deferred when true or undefined.",defaultValue:!0},label:{type:G5.GraphQLString,description:"Unique name"}}}),tD8=new G5.GraphQLDirective({name:"stream",description:"Directs the executor to stream plural fields when the `if` argument is true or undefined.",locations:[G5.DirectiveLocation.FIELD],args:{if:{type:new G5.GraphQLNonNull(G5.GraphQLBoolean),description:"Stream when true or undefined.",defaultValue:!0},label:{type:G5.GraphQLString,description:"Unique name"},initialCount:{defaultValue:0,type:G5.GraphQLInt,description:"Number of items to return immediately"}}})});function XP(Y,J,X,Z,W,$,G,Q){for(let U of W.selections)switch(U.kind){case p5.Kind.FIELD:{if(!f91(X,U))continue;$.add(K_6(U),U);break}case p5.Kind.INLINE_FRAGMENT:{if(!f91(X,U)||!ET0(Y,U,Z))continue;let z=TT0(X,U);if(z){let H=new JP;XP(Y,J,X,Z,U.selectionSet,H,G,Q),G.push({label:z.label,fields:H})}else XP(Y,J,X,Z,U.selectionSet,$,G,Q);break}case p5.Kind.FRAGMENT_SPREAD:{let z=U.name.value;if(!f91(X,U))continue;let H=TT0(X,U);if(Q.has(z)&&!H)continue;let O=J[z];if(!O||!ET0(Y,O,Z))continue;if(!H)Q.add(z);if(H){let K=new JP;XP(Y,J,X,Z,O.selectionSet,K,G,Q),G.push({label:H.label,fields:K})}else XP(Y,J,X,Z,O.selectionSet,$,G,Q);break}}}function f91(Y,J){if(p5.getDirectiveValues(p5.GraphQLSkipDirective,J,Y)?.if===!0)return!1;if(p5.getDirectiveValues(p5.GraphQLIncludeDirective,J,Y)?.if===!1)return!1;return!0}function ET0(Y,J,X){let Z=J.typeCondition;if(!Z)return!0;let W=p5.typeFromAST(Y,Z);if(W===X)return!0;if(p5.isAbstractType(W))return Y.getPossibleTypes(W).includes(X);return!1}function K_6(Y){return Y.alias?Y.alias.value:Y.name.value}function TT0(Y,J){let X=p5.getDirectiveValues(MT0,J,Y);if(!X)return;if(X.if===!1)return;return{label:typeof X.label==="string"?X.label:void 0}}var p5,Zw8;var RT0=w(()=>{LT0();x91();p5=q1(f1(),1);Zw8=NE0(function(J,X,Z,W,$){let G=new JP,Q=new Set,U=[],z={fields:G,patches:U};for(let H of $)if(H.selectionSet)XP(J,X,Z,W,H.selectionSet,G,U,Q);return z})});function B_6(Y,J){let X=NT0.getOperationAST(Y,J);if(!X)throw Error(`Cannot infer operation ${J||""}`);return X}var NT0,Gw8;var ST0=w(()=>{NT0=q1(f1(),1);Gw8=yJ(function(J){return B_6(J.document,J.operationName)})});var CT0=()=>{};function kT0(Y){return Y&&typeof Y==="object"&&"kind"in Y&&Y.kind===jT0.Kind.DOCUMENT}var jT0;var _T0=w(()=>{jT0=q1(f1(),1)});var xT0=()=>{};var Bw8;var fT0=w(()=>{Bw8=RE0(function(J,X){return function(...W){return Reflect.apply(X,J,W)}})});var vT0=()=>{};var hT0=()=>{};var bT0=()=>{};var yT0=()=>{};function F_6(Y,J){if(Y.aborted){J();return}q_6(Y).add(J)}var q_6,Pw8;var gT0=w(()=>{z4();q_6=yJ(function(J){let X=new Set;return J.addEventListener("abort",(Z)=>{for(let W of X)W(Z)},{once:!0}),X});Pw8=yJ(function(J){if(J.aborted)return s9(J.reason);return new Promise((X,Z)=>{if(J.aborted){Z(J.reason);return}F_6(J,()=>{Z(J.reason)})})})});var T7=w(()=>{IE0();oA();L91();M91();CE0();bE0();M91();yE0();gE0();iE0();oE0();aE0();GT0();UT0();zT0();HT0();OT0();$T0();KT0();C91();BT0();FT0();N91();S91();VT0();IT0();DT0();j91();wT0();E91();AT0();D91();PT0();CT0();w91();_T0();$_();xT0();fT0();R91();nE0();RT0();vT0();ST0();hT0();Z_();x91();bT0();yT0();A91();gT0()});function uT0(Y,J={}){let{requireResolversForArgs:X,requireResolversForNonScalar:Z,requireResolversForAllFields:W}=J;if(W&&(X||Z))throw TypeError("requireResolversForAllFields takes precedence over the more specific assertions. Please configure either requireResolversForAllFields or requireResolversForArgs / requireResolversForNonScalar, but not a combination of them.");F_(Y,($,G,Q)=>{if(W)v91("requireResolversForAllFields",W,$,G,Q);if(X&&$.args.length>0)v91("requireResolversForArgs",X,$,G,Q);if(Z!=="ignore"&&!V_.isScalarType(V_.getNamedType($.type)))v91("requireResolversForNonScalar",Z,$,G,Q)})}function v91(Y,J,X,Z,W){if(!X.resolve){let $=`Resolver missing for "${Z}.${W}".
To disable this validator, use:
  resolverValidationOptions: {
    ${Y}: 'ignore'
  }`;if(J==="error")throw Error($);if(J==="warn")console.warn($);return}if(typeof X.resolve!=="function")throw Error(`Resolver "${Z}.${W}" must be a function`)}var V_;var mT0=w(()=>{T7();V_=q1(f1(),1)});function dT0(Y,J){YP(Y,{[B0.ABSTRACT_TYPE]:(X)=>{if(!X.resolveType){let Z=`Type "${X.name}" is missing a "__resolveType" resolver. Pass 'ignore' into "resolverValidationOptions.requireResolversForResolveType" to disable this error.`;if(J==="error")throw Error(Z);if(J==="warn")console.warn(Z)}return}})}var cT0=w(()=>{T7()});function lT0(Y,J){let X={},Z=Y.getTypeMap();for(let W in Z){let $=Z[W];if("getInterfaces"in $){X[W]={};for(let Q of $.getInterfaces())if(J[Q.name]){for(let U in J[Q.name])if(U==="__isTypeOf"||!U.startsWith("__"))X[W][U]=J[Q.name][U]}let G=J[W];X[W]={...X[W],...G}}else{let G=J[W];if(G!=null)X[W]=G}}return X}function pT0({schema:Y,resolvers:J,defaultFieldResolver:X,resolverValidationOptions:Z={},inheritResolversFromInterfaces:W=!1,updateResolversInPlace:$=!1}){let{requireResolversToMatchSchema:G="error",requireResolversForResolveType:Q}=Z,U=W?lT0(Y,J):J;for(let z in U){let H=U[z];if(typeof H!=="object")throw Error(`"${z}" defined in resolvers, but has invalid value "${H}". The resolver's value must be of type object.`);let K=Y.getType(z);if(K==null){let B=`"${z}" defined in resolvers, but not in schema`;if(G&&G!=="error"){if(G==="warn")console.warn(B);continue}throw Error(B)}else if(b4.isSpecifiedScalarType(K))for(let B in H)if(B.startsWith("__"))K[B.substring(2)]=H[B];else K[B]=H[B];else if(b4.isEnumType(K)){let B=K.getValues();for(let F in H)if(!F.startsWith("__")&&!B.some((V)=>V.name===F)&&G&&G!=="ignore"){let V=`${K.name}.${F} was defined in resolvers, but not present within ${K.name}`;if(G==="error")throw Error(V);else console.warn(V)}}else if(b4.isUnionType(K)){for(let B in H)if(!B.startsWith("__")&&G&&G!=="ignore"){let F=`${K.name}.${B} was defined in resolvers, but ${K.name} is not an object or interface type`;if(G==="error")throw Error(F);else console.warn(F)}}else if(b4.isObjectType(K)||b4.isInterfaceType(K)){for(let B in H)if(!B.startsWith("__"))if(K.getFields()[B]==null){if(G&&G!=="ignore"){let I=`${z}.${B} defined in resolvers, but not in schema`;if(G==="error")throw Error(I);else console.error(I)}}else{let I=H[B];if(typeof I!=="function"&&typeof I!=="object")throw Error(`Resolver ${z}.${B} must be object or function`)}}}if(Y=$?V_6(Y,U,X):I_6(Y,U,X),Q&&Q!=="ignore")dT0(Y,Q);return Y}function V_6(Y,J,X){let Z=Y.getTypeMap();for(let W in J){let $=Y.getType(W),G=J[W];if(b4.isScalarType($))for(let Q in G)if(Q.startsWith("__"))$[Q.substring(2)]=G[Q];else if(Q==="astNode"&&$.astNode!=null)$.astNode={...$.astNode,description:G?.astNode?.description??$.astNode.description,directives:($.astNode.directives??[]).concat(G?.astNode?.directives??[])};else if(Q==="extensionASTNodes"&&$.extensionASTNodes!=null)$.extensionASTNodes=$.extensionASTNodes.concat(G?.extensionASTNodes??[]);else if(Q==="extensions"&&$.extensions!=null&&G.extensions!=null)$.extensions=Object.assign(Object.create(null),$.extensions,G.extensions);else $[Q]=G[Q];else if(b4.isEnumType($)){let Q=$.toConfig(),U=Q.values;for(let z in G)if(z.startsWith("__"))Q[z.substring(2)]=G[z];else if(z==="astNode"&&Q.astNode!=null)Q.astNode={...Q.astNode,description:G?.astNode?.description??Q.astNode.description,directives:(Q.astNode.directives??[]).concat(G?.astNode?.directives??[])};else if(z==="extensionASTNodes"&&Q.extensionASTNodes!=null)Q.extensionASTNodes=Q.extensionASTNodes.concat(G?.extensionASTNodes??[]);else if(z==="extensions"&&$.extensions!=null&&G.extensions!=null)$.extensions=Object.assign(Object.create(null),$.extensions,G.extensions);else if(U[z])U[z].value=G[z];Z[W]=new b4.GraphQLEnumType(Q)}else if(b4.isUnionType($)){for(let Q in G)if(Q.startsWith("__"))$[Q.substring(2)]=G[Q]}else if(b4.isObjectType($)||b4.isInterfaceType($))for(let Q in G){if(Q.startsWith("__")){$[Q.substring(2)]=G[Q];continue}let z=$.getFields()[Q];if(z!=null){let H=G[Q];if(typeof H==="function")z.resolve=H.bind(G);else nT0(z,H)}}}if(_91(Y,H_),QT0(Y),_91(Y,O_),X!=null)F_(Y,(W)=>{if(!W.resolve)W.resolve=X});return Y}function I_6(Y,J,X){if(Y=YP(Y,{[B0.SCALAR_TYPE]:(Z)=>{let W=Z.toConfig(),$=J[Z.name];if(!b4.isSpecifiedScalarType(Z)&&$!=null){for(let G in $)if(G.startsWith("__"))W[G.substring(2)]=$[G];else if(G==="astNode"&&W.astNode!=null)W.astNode={...W.astNode,description:$?.astNode?.description??W.astNode.description,directives:(W.astNode.directives??[]).concat($?.astNode?.directives??[])};else if(G==="extensionASTNodes"&&W.extensionASTNodes!=null)W.extensionASTNodes=W.extensionASTNodes.concat($?.extensionASTNodes??[]);else if(G==="extensions"&&W.extensions!=null&&$.extensions!=null)W.extensions=Object.assign(Object.create(null),Z.extensions,$.extensions);else W[G]=$[G];return new b4.GraphQLScalarType(W)}},[B0.ENUM_TYPE]:(Z)=>{let W=J[Z.name],$=Z.toConfig(),G=$.values;if(W!=null){for(let Q in W)if(Q.startsWith("__"))$[Q.substring(2)]=W[Q];else if(Q==="astNode"&&$.astNode!=null)$.astNode={...$.astNode,description:W?.astNode?.description??$.astNode.description,directives:($.astNode.directives??[]).concat(W?.astNode?.directives??[])};else if(Q==="extensionASTNodes"&&$.extensionASTNodes!=null)$.extensionASTNodes=$.extensionASTNodes.concat(W?.extensionASTNodes??[]);else if(Q==="extensions"&&$.extensions!=null&&W.extensions!=null)$.extensions=Object.assign(Object.create(null),Z.extensions,W.extensions);else if(G[Q])G[Q].value=W[Q];return new b4.GraphQLEnumType($)}},[B0.UNION_TYPE]:(Z)=>{let W=J[Z.name];if(W!=null){let $=Z.toConfig();if(W.__resolveType)$.resolveType=W.__resolveType;return new b4.GraphQLUnionType($)}},[B0.OBJECT_TYPE]:(Z)=>{let W=J[Z.name];if(W!=null){let $=Z.toConfig();if(W.__isTypeOf)$.isTypeOf=W.__isTypeOf;return new b4.GraphQLObjectType($)}},[B0.INTERFACE_TYPE]:(Z)=>{let W=J[Z.name];if(W!=null){let $=Z.toConfig();if(W.__resolveType)$.resolveType=W.__resolveType;return new b4.GraphQLInterfaceType($)}},[B0.COMPOSITE_FIELD]:(Z,W,$)=>{let G=J[$];if(G!=null){let Q=G[W];if(Q!=null){let U={...Z};if(typeof Q==="function")U.resolve=Q.bind(G);else nT0(U,Q);return U}}}}),X!=null)Y=YP(Y,{[B0.OBJECT_FIELD]:(Z)=>({...Z,resolve:Z.resolve!=null?Z.resolve:X})});return Y}function nT0(Y,J){for(let X in J)Y[X]=J[X]}var b4;var iT0=w(()=>{T7();cT0();b4=q1(f1(),1)});function h91(Y,J){if(!Y||Array.isArray(Y)&&Y.length===0)return{};if(!Array.isArray(Y))return Y;if(Y.length===1)return Y[0]||{};let X=[];for(let W of Y){if(Array.isArray(W))W=h91(W);if(typeof W==="object"&&W)X.push(W)}let Z=Gz(X,!0);if(J?.exclusions)for(let W of J.exclusions){let[$,G]=W.split(".");if(["__proto__","constructor","prototype"].includes($)||["__proto__","constructor","prototype"].includes(G))continue;if(!G||G==="*")delete Z[$];else if(Z[$])delete Z[$][G]}return Z}var oT0=w(()=>{T7()});function rT0(Y,J,X){let Z=D_6([...J,...Y].filter(kB),X);if(X&&X.sort)Z.sort(JG);return Z}function D_6(Y,J){return Y.reduce((X,Z)=>{let W=X.findIndex(($)=>$.name.value===Z.name.value);if(W===-1)return X.concat([Z]);else if(!J?.reverseArguments)X[W]=Z;return X},[])}var b91=w(()=>{T7()});function w_6(Y,J,X){return!!(J?.[Y.name.value]?.repeatable??X?.has(Y.name.value))}function aT0(Y,J){return J.some(({value:X})=>X===Y.value)}function A_6(Y,J){let X=[];for(let Z of[...J,...Y]){let W=X.findIndex(($)=>$.name.value===Z.name.value);if(W===-1)X.push(Z);else{let $=X[W];if($.value.kind==="ListValue"){let G=$.value.values,Q=Z.value.values;$.value={...$.value,values:eT0(G,Q,(U,z)=>{let H=U.value;return!H||!z.some((O)=>O.value===H)})}}else $.value=Z.value}}return X}function Q5(Y=[],J=[],X,Z){let W=X&&X.reverseDirectives,$=W?Y:J,G=W?J:Y,Q=[];for(let U of[...$,...G])if(w_6(U,Z,X?.repeatableLinkImports)){if(!Q.find((H)=>L_6(U,H)))Q.push(U)}else{let z=Q.findIndex((H)=>H.name.value===U.name.value);if(z===-1)Q.push(U);else{if(g91(U)&&g91(Q[z])){let O=sT0(U),K=sT0(Q[z]);if(O&&K&&O!==K){Q.push(U);continue}}let H=A_6(U.arguments??[],Q[z].arguments??[]);Q[z]={...Q[z],arguments:H.length===0?void 0:H}}}return Q}function tT0(Y,J){if(J)return{...Y,arguments:eT0(J.arguments||[],Y.arguments||[],(X,Z)=>!aT0(X.name,Z.map((W)=>W.name))),locations:[...J.locations,...Y.locations.filter((X)=>!aT0(X,J.locations))]};return Y}function eT0(Y,J,X){return Y.concat(J.filter((Z)=>X(Z,Y)))}var ZP,y91=(Y,J)=>{if(Y.kind===J.kind)switch(Y.kind){case ZP.Kind.LIST:return Y.values.length===J.values.length&&Y.values.every((X)=>J.values.find((Z)=>y91(X,Z)));case ZP.Kind.VARIABLE:case ZP.Kind.NULL:return!0;case ZP.Kind.OBJECT:return Y.fields.length===J.fields.length&&Y.fields.every((X)=>J.fields.find((Z)=>X.name.value===Z.name.value&&y91(X.value,Z.value)));default:return Y.value===J.value}return!1},g91=(Y)=>Y.name.value==="link",sT0=(Y)=>{let J=g91(Y)?Y.arguments?.find((X)=>X.name.value==="url")?.value:void 0;return J?.kind==="StringValue"?J.value:void 0},P_6=(Y,J)=>Y.name.value===J.name.value&&Y.value.kind===J.value.kind&&y91(Y.value,J.value),L_6=(Y,J)=>{return!!(Y.name.value===J.name.value&&(Y.arguments===J.arguments||Y.arguments?.length===J.arguments?.length&&Y.arguments?.every((Z)=>J.arguments?.find((W)=>P_6(Z,W)))))};var CY=w(()=>{ZP=q1(f1(),1)});function YR0(Y,J,X,Z){if(X?.consistentEnumMerge){let G=[];if(Y)G.push(...Y);Y=J,J=G}let W=new Map;if(Y)for(let G of Y)W.set(G.name.value,G);if(J)for(let G of J){let Q=G.name.value;if(W.has(Q)){let U=W.get(Q);U.description=G.description||U.description,U.directives=Q5(G.directives,U.directives,Z)}else W.set(Q,G)}let $=[...W.values()];if(X&&X.sort)$.sort(JG);return $}var u91=w(()=>{T7();CY()});function XR0(Y,J,X,Z){if(J)return{name:Y.name,description:Y.description||J.description,kind:X?.convertExtensions||Y.kind==="EnumTypeDefinition"||J.kind==="EnumTypeDefinition"?"EnumTypeDefinition":"EnumTypeExtension",loc:Y.loc,directives:Q5(Y.directives,J.directives,X,Z),values:YR0(Y.values,J.values,X)};return X?.convertExtensions?{...Y,kind:JR0.Kind.ENUM_TYPE_DEFINITION}:Y}var JR0;var m91=w(()=>{CY();u91();JR0=q1(f1(),1)});function ZR0(Y){return typeof Y==="string"}function WR0(Y){return Y instanceof Qz.Source}function d91(Y){let J=Y;while(J.kind===Qz.Kind.LIST_TYPE||J.kind==="NonNullType")J=J.type;return J}function c91(Y){return Y.kind!==Qz.Kind.NAMED_TYPE}function I_(Y){return Y.kind===Qz.Kind.LIST_TYPE}function $G(Y){return Y.kind===Qz.Kind.NON_NULL_TYPE}function WP(Y){if(I_(Y))return`[${WP(Y.type)}]`;if($G(Y))return`${WP(Y.type)}!`;return Y.name.value}function $R0(Y,J){if(Y==null&&J==null)return WG.A_EQUALS_B;if(Y==null)return WG.A_SMALLER_THAN_B;if(J==null)return WG.A_GREATER_THAN_B;if(Y<J)return WG.A_SMALLER_THAN_B;if(Y>J)return WG.A_GREATER_THAN_B;return WG.A_EQUALS_B}var Qz,WG;var D_=w(()=>{Qz=q1(f1(),1);(function(Y){Y[Y.A_SMALLER_THAN_B=-1]="A_SMALLER_THAN_B",Y[Y.A_EQUALS_B=0]="A_EQUALS_B",Y[Y.A_GREATER_THAN_B=1]="A_GREATER_THAN_B"})(WG||(WG={}))});function M_6(Y,J){let X=Y.findIndex((Z)=>Z.name.value===J.name.value);return[X>-1?Y[X]:null,X]}function vB(Y,J,X,Z,W){let $=[];if(X!=null)$.push(...X);if(J!=null)for(let G of J){let[Q,U]=M_6($,G);if(Q&&!Z?.ignoreFieldConflicts){let z=Z?.onFieldTypeConflict&&Z.onFieldTypeConflict(Q,G,Y,Z?.throwOnConflict)||E_6(Y,Q,G,Z?.throwOnConflict);z.arguments=rT0(G.arguments||[],Q.arguments||[],Z),z.directives=Q5(G.directives,Q.directives,Z,W),z.description=G.description||Q.description,$[U]=z}else $.push(G)}if(Z&&Z.sort)$.sort(JG);if(Z&&Z.exclusions){let G=Z.exclusions;return $.filter((Q)=>!G.includes(`${Y.name.value}.${Q.name.value}`))}return $}function E_6(Y,J,X,Z=!1){let W=WP(J.type),$=WP(X.type);if(W!==$){let G=d91(J.type),Q=d91(X.type);if(G.name.value!==Q.name.value)throw Error(`Field "${X.name.value}" already defined with a different type. Declared as "${G.name.value}", but you tried to override with "${Q.name.value}"`);if(!$P(J.type,X.type,!Z))throw Error(`Field '${Y.name.value}.${J.name.value}' changed type from '${W}' to '${$}'`)}if($G(X.type)&&!$G(J.type))J.type=X.type;return J}function $P(Y,J,X=!1){if(!c91(Y)&&!c91(J))return Y.toString()===J.toString();if($G(J)){let Z=$G(Y)?Y.type:Y;return $P(Z,J.type)}if($G(Y))return $P(J,Y,X);if(I_(Y))return I_(J)&&$P(Y.type,J.type)||$G(J)&&$P(Y,J.type);return!1}var GP=w(()=>{T7();b91();CY();D_()});function QR0(Y,J,X,Z){if(J)try{return{name:Y.name,description:Y.description||J.description,kind:X?.convertExtensions||Y.kind==="InputObjectTypeDefinition"||J.kind==="InputObjectTypeDefinition"?"InputObjectTypeDefinition":"InputObjectTypeExtension",loc:Y.loc,fields:vB(Y,Y.fields,J.fields,X),directives:Q5(Y.directives,J.directives,X,Z)}}catch(W){throw Error(`Unable to merge GraphQL input type "${Y.name.value}": ${W.message}`)}return X?.convertExtensions?{...Y,kind:GR0.Kind.INPUT_OBJECT_TYPE_DEFINITION}:Y}var GR0;var l91=w(()=>{CY();GP();GR0=q1(f1(),1)});function T_6(Y,J){return!!Y.find((X)=>X.name.value===J.name.value)}function hB(Y=[],J=[],X={}){let Z=[...J,...Y.filter((W)=>!T_6(J,W))];if(X&&X.sort)Z.sort(JG);return Z}var QP=w(()=>{T7()});function zR0(Y,J,X,Z){if(J)try{return{name:Y.name,description:Y.description||J.description,kind:X?.convertExtensions||Y.kind==="InterfaceTypeDefinition"||J.kind==="InterfaceTypeDefinition"?"InterfaceTypeDefinition":"InterfaceTypeExtension",loc:Y.loc,fields:vB(Y,Y.fields,J.fields,X,Z),directives:Q5(Y.directives,J.directives,X,Z),interfaces:Y.interfaces?hB(Y.interfaces,J.interfaces,X):void 0}}catch(W){throw Error(`Unable to merge GraphQL interface "${Y.name.value}": ${W.message}`)}return X?.convertExtensions?{...Y,kind:UR0.Kind.INTERFACE_TYPE_DEFINITION}:Y}var UR0;var p91=w(()=>{CY();GP();QP();UR0=q1(f1(),1)});function OR0(Y,J,X,Z){if(J)return{name:Y.name,description:Y.description||J.description,kind:X?.convertExtensions||Y.kind==="ScalarTypeDefinition"||J.kind==="ScalarTypeDefinition"?"ScalarTypeDefinition":"ScalarTypeExtension",loc:Y.loc,directives:Q5(Y.directives,J.directives,X,Z)};return X?.convertExtensions?{...Y,kind:HR0.Kind.SCALAR_TYPE_DEFINITION}:Y}var HR0;var n91=w(()=>{CY();HR0=q1(f1(),1)});function R_6(Y=[],J=[]){let X=[];for(let Z in w_){let W=Y.find(($)=>$.operation===Z)||J.find(($)=>$.operation===Z);if(W)X.push(W)}return X}function KR0(Y,J,X,Z){if(J)return{kind:Y.kind===bB.Kind.SCHEMA_DEFINITION||J.kind===bB.Kind.SCHEMA_DEFINITION?bB.Kind.SCHEMA_DEFINITION:bB.Kind.SCHEMA_EXTENSION,description:Y.description||J.description,directives:Q5(Y.directives,J.directives,X,Z),operationTypes:R_6(Y.operationTypes,J.operationTypes)};return X?.convertExtensions?{...Y,kind:bB.Kind.SCHEMA_DEFINITION}:Y}var bB,w_;var i91=w(()=>{CY();bB=q1(f1(),1),w_={query:"Query",mutation:"Mutation",subscription:"Subscription"}});function qR0(Y,J,X,Z){if(J)try{return{name:Y.name,description:Y.description||J.description,kind:X?.convertExtensions||Y.kind==="ObjectTypeDefinition"||J.kind==="ObjectTypeDefinition"?"ObjectTypeDefinition":"ObjectTypeExtension",loc:Y.loc,fields:vB(Y,Y.fields,J.fields,X,Z),directives:Q5(Y.directives,J.directives,X,Z),interfaces:hB(Y.interfaces,J.interfaces,X)}}catch(W){throw Error(`Unable to merge GraphQL type "${Y.name.value}": ${W.message}`)}return X?.convertExtensions?{...Y,kind:BR0.Kind.OBJECT_TYPE_DEFINITION}:Y}var BR0;var o91=w(()=>{CY();GP();QP();BR0=q1(f1(),1)});function FR0(Y,J,X,Z){if(J)return{name:Y.name,description:Y.description||J.description,directives:Q5(Y.directives,J.directives,X,Z),kind:X?.convertExtensions||Y.kind==="UnionTypeDefinition"||J.kind==="UnionTypeDefinition"?A_.Kind.UNION_TYPE_DEFINITION:A_.Kind.UNION_TYPE_EXTENSION,loc:Y.loc,types:hB(Y.types,J.types,X)};return X?.convertExtensions?{...Y,kind:A_.Kind.UNION_TYPE_DEFINITION}:Y}var A_;var r91=w(()=>{CY();QP();A_=q1(f1(),1)});function N_6(Y){return"name"in Y}function a91(Y,J,X={}){let Z=X;for(let W of Y)if(N_6(W)){let $=W.name?.value;if(J?.commentDescriptions)cE0(W);if($==null)continue;if(J?.exclusions?.includes($+".*")||J?.exclusions?.includes($))delete Z[$];else switch(W.kind){case n5.Kind.OBJECT_TYPE_DEFINITION:case n5.Kind.OBJECT_TYPE_EXTENSION:Z[$]=qR0(W,Z[$],J,X);break;case n5.Kind.ENUM_TYPE_DEFINITION:case n5.Kind.ENUM_TYPE_EXTENSION:Z[$]=XR0(W,Z[$],J,X);break;case n5.Kind.UNION_TYPE_DEFINITION:case n5.Kind.UNION_TYPE_EXTENSION:Z[$]=FR0(W,Z[$],J,X);break;case n5.Kind.SCALAR_TYPE_DEFINITION:case n5.Kind.SCALAR_TYPE_EXTENSION:Z[$]=OR0(W,Z[$],J,X);break;case n5.Kind.INPUT_OBJECT_TYPE_DEFINITION:case n5.Kind.INPUT_OBJECT_TYPE_EXTENSION:Z[$]=QR0(W,Z[$],J,X);break;case n5.Kind.INTERFACE_TYPE_DEFINITION:case n5.Kind.INTERFACE_TYPE_EXTENSION:Z[$]=zR0(W,Z[$],J,X);break;case n5.Kind.DIRECTIVE_DEFINITION:if(Z[$]){if($ in{}){if(!S_6(Z[$]))Z[$]=void 0}}Z[$]=tT0(W,Z[$]);break}}else if(W.kind===n5.Kind.SCHEMA_DEFINITION||W.kind===n5.Kind.SCHEMA_EXTENSION)Z[Uz]=KR0(W,Z[Uz],J);return Z}function S_6(Y){return Y!=null&&typeof Y==="object"&&"kind"in Y&&typeof Y.kind==="string"}var n5,Uz="SCHEMA_DEF_SYMBOL";var s91=w(()=>{T7();CY();m91();l91();p91();n91();i91();o91();r91();n5=q1(f1(),1)});function VR0(Y){return Y.as??Y.url.name}function C_6(Y){let J=VR0(Y);return J&&`@${J}`}function P_(Y,J){if(Y.url.name&&J===`@${Y.url.name}`)return C_6(Y).substring(1);let X=Y.imports.find((W)=>W.name===J),Z=X?.as??X?.name??j_6(VR0(Y),J);return Z.startsWith("@")?Z.substring(1):Z}function j_6(Y,J){if(Y?.length){if(J.startsWith("@"))return`@${Y}__${J.substring(1)}`;return`${Y}__${J}`}return J}function IR0(Y){let J=[];for(let X of Y.definitions)if(X.kind===mJ.Kind.SCHEMA_EXTENSION||X.kind===mJ.Kind.SCHEMA_DEFINITION){let W=X.directives?.filter((Q)=>Q.name.value==="link")?.map((Q)=>k_6(Q.arguments??[])).filter((Q)=>Q!==void 0)??[];J=J.concat(W);let G=X.directives?.filter(({name:Q})=>Q.value==="core")?.map((Q)=>__6(Q.arguments??[])).filter((Q)=>Q!==void 0);if(G)J=J.concat(...G)}return J}function k_6(Y){let J,X=[],Z;for(let W of Y)switch(W.name.value){case"url":{if(W.value.kind===mJ.Kind.STRING)J=DR0(W.value.value);break}case"import":{X=x_6(W.value);break}case"as":{if(W.value.kind===mJ.Kind.STRING)Z=W.value.value??void 0;break}default:}if(J!==void 0)return{url:J,as:Z,imports:X}}function __6(Y){let J=Y.find(({name:X,value:Z})=>X.value==="feature"&&Z.kind===mJ.Kind.STRING);if(J)return{url:DR0(J.value.value),imports:[]}}function x_6(Y){if(Y.kind===mJ.Kind.LIST)return Y.values.map((X)=>{let Z;if(X.kind===mJ.Kind.STRING)Z={name:X.value};else if(X.kind===mJ.Kind.OBJECT){let W="",$;for(let G of X.fields)if(G.name.value==="name"){if(G.value.kind===mJ.Kind.STRING)W=G.value.value}else if(G.name.value==="as"){if(G.value.kind===mJ.Kind.STRING)$=G.value.value}Z={name:W,as:$}}return Z}).filter((X)=>X!==void 0);return[]}function DR0(Y){let J=new URL(Y),X=J.pathname.split("/").filter(Boolean),Z=X[X.length-1];if(Z){if(f_6.test(Z)){let W=X[X.length-2];return{identity:J.origin+(W?`/${X.slice(0,X.length-1).join("/")}`:""),name:W??null,version:Z}}return{identity:`${J.origin}/${X.join("/")}`,name:Z,version:null}}return{identity:J.origin,name:null,version:null}}var mJ,f_6;var wR0=w(()=>{mJ=q1(f1(),1);f_6=/v(\d{1,3})\.(\d{1,4})/i});function t91(Y,J){U_();let X={kind:N5.Kind.DOCUMENT,definitions:v_6(Y,{useSchemaDefinition:!0,forceSchemaDefinition:!1,throwOnConflict:!1,commentDescriptions:!1,...J})},Z;if(J?.commentDescriptions)Z=lE0(X);else Z=X;return U_(),Z}function yB(Y,J,X=[],Z=[],W=new Set,$=new Set){let G=(Q)=>{$.add(Q)};if(Y&&!W.has(Y))if(W.add(Y),typeof Y==="function")yB(Y(),J,X,Z,W,$);else if(Array.isArray(Y))for(let Q of Y)yB(Q,J,X,Z,W,$);else if(N5.isSchema(Y)){let Q=xE0(Y,J);yB(Q.definitions,J,X,Z,W,$)}else if(ZR0(Y)||WR0(Y)){let Q=N5.parse(Y,J);yB(Q.definitions,J,X,Z,W,$)}else if(typeof Y==="object"&&N5.isDefinitionNode(Y)){let Q=IR0({definitions:[Y],kind:N5.Kind.DOCUMENT}),U="https://specs.apollo.dev/federation",z="https://specs.apollo.dev/link",H=Q.find((K)=>K.url.identity==="https://specs.apollo.dev/federation");if(H)G(P_(H,"@composeDirective")),G(P_(H,"@key"));let O=Q.find((K)=>K.url.identity==="https://specs.apollo.dev/link");if(O)G(P_(O,"@link"));if(Y.kind===N5.Kind.DIRECTIVE_DEFINITION)X.push(Y);else Z.push(Y)}else if(kT0(Y))yB(Y.definitions,J,X,Z,W,$);else throw Error(`typeDefs must contain only strings, documents, schemas, or functions, got ${typeof Y}`);return{allDirectives:X,allNodes:Z,repeatableLinkImports:$}}function v_6(Y,J){U_();let{allDirectives:X,allNodes:Z,repeatableLinkImports:W}=yB(Y,J),$=a91(X,J);J.repeatableLinkImports=W;let G=a91(Z,J,$);if(J?.useSchemaDefinition){let U=G[Uz]||{kind:N5.Kind.SCHEMA_DEFINITION,operationTypes:[]},z=U.operationTypes;for(let H in w_)if(!z.find((K)=>K.operation===H)){let K=w_[H],B=G[K];if(B!=null&&B.name!=null)z.push({kind:N5.Kind.OPERATION_TYPE_DEFINITION,type:{kind:N5.Kind.NAMED_TYPE,name:B.name},operation:H})}if(U?.operationTypes?.length!=null&&U.operationTypes.length>0)G[Uz]=U}if(J?.forceSchemaDefinition&&!G[Uz]?.operationTypes?.length)G[Uz]={kind:N5.Kind.SCHEMA_DEFINITION,operationTypes:[{kind:N5.Kind.OPERATION_TYPE_DEFINITION,operation:"query",type:{kind:N5.Kind.NAMED_TYPE,name:{kind:N5.Kind.NAME,value:"Query"}}}]};let Q=Object.values(G);if(J?.sort){let U=typeof J.sort==="function"?J.sort:$R0;Q.sort((z,H)=>U(z.name?.value,H.name?.value))}return Q}var N5;var AR0=w(()=>{T7();wR0();s91();i91();D_();N5=q1(f1(),1)});var PR0=w(()=>{b91();CY();u91();m91();GP();l91();p91();QP();s91();AR0();n91();o91();r91();D_()});function gB(Y,J){if(!Y||!J||J===Y.extensions)return;if(!Y.extensions){Y.extensions=J;return}Y.extensions=Gz([Y.extensions,J],!1,!0)}function LR0(Y,J){gB(Y,J.schemaExtensions);for(let[X,Z]of Object.entries(J.types||{})){let W=Y.getType(X);if(W){if(gB(W,Z.extensions),Z.type==="object"||Z.type==="interface")for(let[$,G]of Object.entries(Z.fields)){let Q=W.getFields()[$];if(Q){gB(Q,G.extensions);for(let[U,z]of Object.entries(G.arguments))gB(Q.args.find((H)=>H.name===U),z)}}else if(Z.type==="input")for(let[$,G]of Object.entries(Z.fields)){let Q=W.getFields()[$];gB(Q,G.extensions)}else if(Z.type==="enum")for(let[$,G]of Object.entries(Z.values)){let Q=W.getValue($);gB(Q,G)}}}return Y}var MR0=w(()=>{T7()});var ER0=w(()=>{oT0();PR0();MR0()});function TR0({typeDefs:Y,resolvers:J={},resolverValidationOptions:X={},inheritResolversFromInterfaces:Z=!1,updateResolversInPlace:W=!1,schemaExtensions:$,defaultFieldResolver:G,...Q}){if(typeof X!=="object")throw Error("Expected `resolverValidationOptions` to be an object");if(!Y)throw Error("Must provide typeDefs");let U;if(uB.isSchema(Y))U=Y;else if(Q?.commentDescriptions){let z=t91(Y,{...Q,commentDescriptions:!0});U=uB.buildSchema(z,Q)}else{let z=t91(Y,Q);U=uB.buildASTSchema(z,Q)}if(U=pT0({schema:U,resolvers:h91(J),resolverValidationOptions:X,inheritResolversFromInterfaces:Z,updateResolversInPlace:W,defaultFieldResolver:G}),Object.keys(X).length>0)uT0(U,X);if($)for(let z of Y_($))LR0(U,z);return U}var uB;var RR0=w(()=>{ER0();T7();iT0();mT0();uB=q1(f1(),1)});var NR0=()=>{};var SR0=()=>{};var CR0=w(()=>{RR0();NR0();SR0()});var jR0=()=>{};var kR0=()=>{};var _R0=()=>{};var xR0=()=>{};var fR0=()=>{};var vR0=()=>{};var hR0=w(()=>{jR0();kR0();_R0();xR0();fR0();vR0()});function mB(Y,J){let X={...J,...Y};for(let Z of Object.keys(X))if(Z in Y&&Z in J)X[Z]=(W,$)=>Y[Z](W,()=>J[Z](W,$));return X}var zz=(Y)=>({fn(J,X){if(!J)return X;return(...Z)=>{let W;return J(Y,()=>{W=X(...Z)}),W}},asyncFn(J,X){if(!J)return X;return(...Z)=>{let W;return T1(()=>J(Y,()=>{return W=X(...Z),U4(W)?W.then(()=>{return}):void 0}),()=>{return W})}}});var bR0=w(()=>{z4()});var GG=w(()=>{bR0()});function UP(Y,J){let X=L_.get(Y);if(!X&&J)X=J(Y),L_.set(Y,X);return X}var L_;var e91=w(()=>{L_=new WeakMap});function h_6(Y){return Y.length===1?Y[0]:{schema:Y[0],document:Y[1],rootValue:Y[2],contextValue:Y[3],variableValues:Y[4],operationName:Y[5],fieldResolver:Y[6],subscribeFieldResolver:Y[7]}}function b_6(Y){return Y.length===1?Y[0]:{schema:Y[0],document:Y[1],rootValue:Y[2],contextValue:Y[3],variableValues:Y[4],operationName:Y[5],fieldResolver:Y[6],typeResolver:Y[7]}}function U5(Y){return typeof Y==="object"&&Y!=null&&typeof Y[Symbol.asyncIterator]==="function"}function X71(Y,J){if(U5(Y.result))return{onNext:J};J({args:Y.args,result:Y.result,setResult:Y.setResult});return}function Z71(Y,J){let X=Y[Symbol.asyncIterator](),Z=!1,W={[Symbol.asyncIterator](){return W},next(){return X.next().then(($)=>{if($.done&&Z===!1)Z=!0,J();return $})},return(){let $=X.return?.();if(Z===!1)Z=!0,J();return $||Q4({done:!0,value:void 0})},throw($){let G=X.throw?.();if(G)return G;throw $}};return W}function yR0(Y,J){let X=Y[Symbol.asyncIterator](),Z={[Symbol.asyncIterator](){return Z},next(){return X.next().catch((W)=>{return J(W),{done:!0,value:void 0}})},return(){return X.return?.()||Q4({done:!0,value:void 0})},throw(W){let $=X.throw?.();if($)return $;throw W}};return Z}var gL8,Y71=(Y)=>(...J)=>Y(h_6(J)),J71=(Y)=>(...J)=>Y(b_6(J));var M_=w(()=>{z4();z4();gL8=Symbol("ENVELOP_IS_INTROSPECTION")});function E_(Y){throw Error(`No \`${Y}\` function found! Register it using "useEngine" plugin.`)}function gR0({plugins:Y}){let J=null,X=!1,Z=()=>E_("parse"),W=()=>E_("validate"),$=()=>E_("execute"),G=()=>E_("subscribe"),Q,U=(A,P=-1)=>{if(J===A)return;if(J=A,X){for(let[R,N]of Y.entries())if(R!==P)N.onSchemaChange&&N.onSchemaChange({schema:J,replaceSchema:(v)=>{U(v,R)}})}},z=[];for(let A=0;A<Y.length;A++){let P=Y[A],R=[];P.onPluginInit?.({plugins:Y,addPlugin:(N)=>{R.push(N)},setSchema:(N)=>U(N,A),registerContextErrorHandler:(N)=>z.push(N)}),R.length&&Y.splice(A+1,0,...R)}let H={init:[],parse:[],validate:[],subscribe:[],execute:[],context:[]};for(let{onContextBuilding:A,onExecute:P,onParse:R,onSubscribe:N,onValidate:v,onEnveloped:j,instrumentation:M}of Y)if(j&&H.init.push(j),A&&H.context.push(A),P&&H.execute.push(P),R&&H.parse.push(R),N&&H.subscribe.push(N),v&&H.validate.push(v),M)Q=Q?mB(Q,M):M;let O=(A)=>{for(let[P,R]of H.init.entries())R({context:A,extendContext:(N)=>{if(!A)return;Object.assign(A,N)},setSchema:(N)=>U(N,P)})},K=H.parse.length?(A)=>(P,R)=>{let N=null,v=Z,j=A,M=[];for(let b of H.parse){let k=b({context:j,extendContext:(r)=>{Object.assign(j,r)},params:{source:P,options:R},parseFn:v,setParseFn:(r)=>{v=r},setParsedDocument:(r)=>{N=r}});if(k)M.push(k)}if(N===null)try{N=v(P,R)}catch(b){N=b}for(let b of M)b({context:j,extendContext:(k)=>{Object.assign(j,k)},replaceParseResult:(k)=>{N=k},result:N});if(N===null)throw Error("Failed to parse document.");if(N instanceof Error)throw N;return L_.set(N,P.toString()),N}:()=>Z,B=H.validate.length?(A)=>(P,R,N,v,j)=>{let M=N?[...N]:void 0,b=W,k=null,r=A,p=[];for(let c of H.validate){let d=c({context:r,extendContext:(a)=>{Object.assign(r,a)},params:{schema:P,documentAST:R,rules:M,typeInfo:v,options:j},validateFn:b,addValidationRule:(a)=>{if(!M)M=[];M.push(a)},setValidationFn:(a)=>{b=a},setResult:(a)=>{k=a}});d&&p.push(d)}if(!k)k=b(P,R,M,v,j);if(!k)return;let S=k.length===0;for(let c of p)c({valid:S,result:k,context:r,extendContext:(d)=>{Object.assign(r,d)},setResult:(d)=>{k=d}});return k}:()=>W,F=H.context.length?(A)=>(P)=>{let R=[],N=A;if(P)Object.assign(N,P);let v=!1;return T1(()=>s6(H.context,(j,M)=>j({context:N,extendContext:(b)=>{Object.assign(N,b)},breakContextBuilding:()=>{v=!0,M()}}),R),()=>{if(!v)return T1(()=>s6(R,(j)=>j({context:N,extendContext(M){Object.assign(N,M)}})),()=>N);return N},(j)=>{let M=j;for(let b of z)b({context:N,error:M,setError:(k)=>{M=k}});throw M})}:(A)=>(P)=>{if(P)Object.assign(A,P);return A},I=H.subscribe.length?Y71((A)=>{let P=G,R=[],N=A.contextValue||{},v;return T1(()=>s6(H.subscribe,(j,M)=>j({subscribeFn:P,setSubscribeFn:(b)=>{P=b},context:N,extendContext:(b)=>{Object.assign(N,b)},args:A,setResultAndStopExecution:(b)=>{v=b,M()}}),R),()=>{let j=[],M=[];for(let{onSubscribeResult:b,onSubscribeError:k}of R){if(b)j.push(b);if(k)M.push(k)}return T1(()=>v||P(A),(b)=>{let k=[],r=[];for(let p of j){let S=p({args:A,result:b,setResult:(c)=>{b=c}});if(S){if(S.onNext)k.push(S.onNext);if(S.onEnd)r.push(S.onEnd)}}if(k.length&&U5(b))b=lZ(b,(p)=>T1(()=>s6(k,(S)=>S({args:A,result:p,setResult:(c)=>p=c})),()=>p));if(r.length&&U5(b))b=Z71(b,()=>{for(let p of r)p()});if(M.length&&U5(b))b=yR0(b,(p)=>{let S=p;for(let c of M)c({error:S,setError:(d)=>{S=d}});throw S});return b})})}):Y71(G),L=H.execute.length?J71((A)=>{let P=$,R,N=[],v=[],j=A.contextValue||{};return T1(()=>s6(H.execute,(M,b)=>M({executeFn:P,setExecuteFn:(k)=>{P=k},setResultAndStopExecution:(k)=>{R=k,b()},context:j,extendContext:(k)=>{if(typeof k==="object")Object.assign(j,k);else throw Error(`Invalid context extension provided! Expected "object", got: "${JSON.stringify(k)}" (${typeof k})`)},args:A}),N),()=>T1(()=>R||P({...A,contextValue:j}),(M)=>T1(()=>s6(N,(b)=>b.onExecuteDone?.({args:A,result:M,setResult:(k)=>{M=k}}),v),()=>{let b=[],k=[];for(let{onNext:r,onEnd:p}of v){if(r)b.push(r);if(p)k.push(p)}if(b.length&&U5(M))M=lZ(M,(r)=>T1(()=>s6(b,(p)=>p({args:A,result:r,setResult:(S)=>{r=S}})),()=>r));if(k.length&&U5(M))M=Z71(M,()=>{for(let r of k)r()});return M})))}):J71($);if(X=!0,J)for(let[A,P]of Y.entries())P.onSchemaChange?.({schema:J,replaceSchema:(R)=>U(R,A)});return{getCurrentSchema(){return J},init:O,parse:K,validate:B,execute:L,subscribe:I,contextFactory:F,instrumentation:Q}}var uR0=w(()=>{GG();z4();e91();M_()});function y_6(Y){return Y!=null}function mR0(Y){let J=Y.plugins.filter(y_6),X=gR0({plugins:J}),Z=X.instrumentation,W=($={})=>{let G=zz({context:$}),Q=X;return G.fn(Z?.init,X.init)($),{parse:G.fn(Z?.parse,Q.parse($)),validate:G.fn(Z?.validate,Q.validate($)),contextFactory:G.fn(Z?.context,Q.contextFactory($)),execute:G.asyncFn(Z?.execute,Q.execute),subscribe:G.asyncFn(Z?.subscribe,Q.subscribe),schema:Q.getCurrentSchema()}};return W._plugins=J,W}var dR0=w(()=>{GG();uR0()});var cR0=()=>{};function u_6(Y){return Y instanceof Error&&Y.name==="GraphQLError"}function lR0(Y){if(u_6(Y)){if(Y.originalError!=null)return lR0(Y.originalError);return!0}return!1}function m_6(Y,J,X){let Z=Error(Y);if(Z.name="GraphQLError",X){let W=J instanceof Error?{message:J.message,stack:J.stack}:{message:String(J)};Object.defineProperty(Z,"extensions",{get(){return W}})}return Object.defineProperty(Z,"toJSON",{value(){return{message:Z.message,extensions:Z.extensions}}}),Z}function pR0(Y){let J=Y?.maskError??l_6,X=Y?.errorMessage||g_6,Z=p_6(J,X);return{onPluginInit(W){W.registerContextErrorHandler(({error:$,setError:G})=>{G(J($,X))})},onExecute(){return{onExecuteDone(W){return X71(W,Z)}}},onSubscribe(){return{onSubscribeResult(W){return X71(W,Z)},onSubscribeError({error:W,setError:$}){$(J(W,X))}}}}}var g_6="Unexpected error.",d_6=(Y)=>(J,X)=>{if(lR0(J))return J;return m_6(X,J,Y)},c_6,l_6,p_6=(Y,J)=>({result:X,setResult:Z})=>{if(X.errors!=null)Z({...X,errors:X.errors.map((W)=>Y(W,J))})};var nR0=w(()=>{M_();c_6=globalThis.process?.env?.NODE_ENV==="development",l_6=d_6(c_6)});var iR0=()=>{};var oR0=(Y)=>({onContextBuilding({context:J,extendContext:X}){return T1(()=>Y(J),(Z)=>X(Z))}});var rR0=w(()=>{z4()});var aR0=()=>{};var sR0=(Y)=>{return{onExecute:({setExecuteFn:J})=>{if(Y.execute)J(Y.execute)},onParse:({setParseFn:J})=>{if(Y.parse)J(Y.parse)},onValidate:({setValidationFn:J,addValidationRule:X})=>{if(Y.validate)J(Y.validate);Y.specifiedRules?.map(X)},onSubscribe:({setSubscribeFn:J})=>{if(Y.subscribe)J(Y.subscribe)}}};var Hz=w(()=>{e91();hR0();GG();dR0();M_();cR0();iR0();rR0();aR0();nR0()});var n_6,eR0,W71,Y20=(Y,J,X,Z)=>{typeof W71.emitWarning=="function"?W71.emitWarning(Y,J,X,Z):console.error(`[${X}] ${J}: ${Y}`)},R_,tR0,i_6=(Y)=>!eR0.has(Y),AM8,QG=(Y)=>Y&&Y===Math.floor(Y)&&Y>0&&isFinite(Y),J20=(Y)=>QG(Y)?Y<=Math.pow(2,8)?Uint8Array:Y<=Math.pow(2,16)?Uint16Array:Y<=Math.pow(2,32)?Uint32Array:Y<=Number.MAX_SAFE_INTEGER?T_:null:null,T_,o_6=class Y{heap;length;static#W=!1;static create(J){let X=J20(J);if(!X)return[];Y.#W=!0;let Z=new Y(J,X);return Y.#W=!1,Z}constructor(J,X){if(!Y.#W)throw TypeError("instantiate Stack using Stack.create(n)");this.heap=new X(J),this.length=0}push(J){this.heap[this.length++]=J}pop(){return this.heap[--this.length]}},X20;var Z20=w(()=>{n_6=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,eR0=new Set,W71=typeof process=="object"&&process?process:{},R_=globalThis.AbortController,tR0=globalThis.AbortSignal;if(typeof R_>"u"){tR0=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(X,Z){this._onabort.push(Z)}},R_=class{constructor(){J()}signal=new tR0;abort(X){if(!this.signal.aborted){this.signal.reason=X,this.signal.aborted=!0;for(let Z of this.signal._onabort)Z(X);this.signal.onabort?.(X)}}};let Y=W71.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",J=()=>{Y&&(Y=!1,Y20("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",J))}}AM8=Symbol("type"),T_=class extends Array{constructor(Y){super(Y),this.fill(0)}},X20=class Y{#W;#Z;#G;#X;#F;#T;#z;#w;get perf(){return this.#w}ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#$;#U;#Y;#Q;#J;#B;#q;#H;#O;#M;#I;#A;#E;#L;#V;#R;#k;#P;#h;static unsafeExposeInternals(J){return{starts:J.#E,ttls:J.#L,autopurgeTimers:J.#V,sizes:J.#A,keyMap:J.#Y,keyList:J.#Q,valList:J.#J,next:J.#B,prev:J.#q,get head(){return J.#H},get tail(){return J.#O},free:J.#M,isBackgroundFetch:(X)=>J.#D(X),backgroundFetch:(X,Z,W,$)=>J.#f(X,Z,W,$),moveToTail:(X)=>J.#c(X),indexes:(X)=>J.#x(X),rindexes:(X)=>J.#K(X),isStale:(X)=>J.#j(X)}}get max(){return this.#W}get maxSize(){return this.#Z}get calculatedSize(){return this.#U}get size(){return this.#$}get fetchMethod(){return this.#T}get memoMethod(){return this.#z}get dispose(){return this.#G}get onInsert(){return this.#X}get disposeAfter(){return this.#F}constructor(J){let{max:X=0,ttl:Z,ttlResolution:W=1,ttlAutopurge:$,updateAgeOnGet:G,updateAgeOnHas:Q,allowStale:U,dispose:z,onInsert:H,disposeAfter:O,noDisposeOnSet:K,noUpdateTTL:B,maxSize:F=0,maxEntrySize:V=0,sizeCalculation:I,fetchMethod:D,memoMethod:L,noDeleteOnFetchRejection:A,noDeleteOnStaleGet:P,allowStaleOnFetchRejection:R,allowStaleOnFetchAbort:N,ignoreFetchAbort:v,perf:j}=J;if(j!==void 0&&typeof j?.now!="function")throw TypeError("perf option must have a now() method if specified");if(this.#w=j??n_6,X!==0&&!QG(X))throw TypeError("max option must be a nonnegative integer");let M=X?J20(X):Array;if(!M)throw Error("invalid max value: "+X);if(this.#W=X,this.#Z=F,this.maxEntrySize=V||this.#Z,this.sizeCalculation=I,this.sizeCalculation){if(!this.#Z&&!this.maxEntrySize)throw TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw TypeError("sizeCalculation set to non-function")}if(L!==void 0&&typeof L!="function")throw TypeError("memoMethod must be a function if defined");if(this.#z=L,D!==void 0&&typeof D!="function")throw TypeError("fetchMethod must be a function if specified");if(this.#T=D,this.#k=!!D,this.#Y=new Map,this.#Q=Array(X).fill(void 0),this.#J=Array(X).fill(void 0),this.#B=new M(X),this.#q=new M(X),this.#H=0,this.#O=0,this.#M=o_6.create(X),this.#$=0,this.#U=0,typeof z=="function"&&(this.#G=z),typeof H=="function"&&(this.#X=H),typeof O=="function"?(this.#F=O,this.#I=[]):(this.#F=void 0,this.#I=void 0),this.#R=!!this.#G,this.#h=!!this.#X,this.#P=!!this.#F,this.noDisposeOnSet=!!K,this.noUpdateTTL=!!B,this.noDeleteOnFetchRejection=!!A,this.allowStaleOnFetchRejection=!!R,this.allowStaleOnFetchAbort=!!N,this.ignoreFetchAbort=!!v,this.maxEntrySize!==0){if(this.#Z!==0&&!QG(this.#Z))throw TypeError("maxSize must be a positive integer if specified");if(!QG(this.maxEntrySize))throw TypeError("maxEntrySize must be a positive integer if specified");this.#v()}if(this.allowStale=!!U,this.noDeleteOnStaleGet=!!P,this.updateAgeOnGet=!!G,this.updateAgeOnHas=!!Q,this.ttlResolution=QG(W)||W===0?W:1,this.ttlAutopurge=!!$,this.ttl=Z||0,this.ttl){if(!QG(this.ttl))throw TypeError("ttl must be a positive integer if specified");this.#S()}if(this.#W===0&&this.ttl===0&&this.#Z===0)throw TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#W&&!this.#Z){let b="LRU_CACHE_UNBOUNDED";i_6(b)&&(eR0.add(b),Y20("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",b,Y))}}getRemainingTTL(J){return this.#Y.has(J)?1/0:0}#S(){let J=new T_(this.#W),X=new T_(this.#W);this.#L=J,this.#E=X;let Z=this.ttlAutopurge?Array(this.#W):void 0;this.#V=Z,this.#g=(G,Q,U=this.#w.now())=>{if(X[G]=Q!==0?U:0,J[G]=Q,Z?.[G]&&(clearTimeout(Z[G]),Z[G]=void 0),Q!==0&&Z){let z=setTimeout(()=>{this.#j(G)&&this.#y(this.#Q[G],"expire")},Q+1);z.unref&&z.unref(),Z[G]=z}},this.#N=(G)=>{X[G]=J[G]!==0?this.#w.now():0},this.#C=(G,Q)=>{if(J[Q]){let U=J[Q],z=X[Q];if(!U||!z)return;G.ttl=U,G.start=z,G.now=W||$();let H=G.now-z;G.remainingTTL=U-H}};let W=0,$=()=>{let G=this.#w.now();if(this.ttlResolution>0){W=G;let Q=setTimeout(()=>W=0,this.ttlResolution);Q.unref&&Q.unref()}return G};this.getRemainingTTL=(G)=>{let Q=this.#Y.get(G);if(Q===void 0)return 0;let U=J[Q],z=X[Q];if(!U||!z)return 1/0;let H=(W||$())-z;return U-H},this.#j=(G)=>{let Q=X[G],U=J[G];return!!U&&!!Q&&(W||$())-Q>U}}#N=()=>{};#C=()=>{};#g=()=>{};#j=()=>!1;#v(){let J=new T_(this.#W);this.#U=0,this.#A=J,this.#_=(X)=>{this.#U-=J[X],J[X]=0},this.#m=(X,Z,W,$)=>{if(this.#D(Z))return 0;if(!QG(W))if($){if(typeof $!="function")throw TypeError("sizeCalculation must be a function");if(W=$(Z,X),!QG(W))throw TypeError("sizeCalculation return invalid (expect positive integer)")}else throw TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return W},this.#u=(X,Z,W)=>{if(J[X]=Z,this.#Z){let $=this.#Z-J[X];for(;this.#U>$;)this.#b(!0)}this.#U+=J[X],W&&(W.entrySize=Z,W.totalCalculatedSize=this.#U)}}#_=(J)=>{};#u=(J,X,Z)=>{};#m=(J,X,Z,W)=>{if(Z||W)throw TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#x({allowStale:J=this.allowStale}={}){if(this.#$)for(let X=this.#O;!(!this.#d(X)||((J||!this.#j(X))&&(yield X),X===this.#H));)X=this.#q[X]}*#K({allowStale:J=this.allowStale}={}){if(this.#$)for(let X=this.#H;!(!this.#d(X)||((J||!this.#j(X))&&(yield X),X===this.#O));)X=this.#B[X]}#d(J){return J!==void 0&&this.#Y.get(this.#Q[J])===J}*entries(){for(let J of this.#x())this.#J[J]!==void 0&&this.#Q[J]!==void 0&&!this.#D(this.#J[J])&&(yield[this.#Q[J],this.#J[J]])}*rentries(){for(let J of this.#K())this.#J[J]!==void 0&&this.#Q[J]!==void 0&&!this.#D(this.#J[J])&&(yield[this.#Q[J],this.#J[J]])}*keys(){for(let J of this.#x()){let X=this.#Q[J];X!==void 0&&!this.#D(this.#J[J])&&(yield X)}}*rkeys(){for(let J of this.#K()){let X=this.#Q[J];X!==void 0&&!this.#D(this.#J[J])&&(yield X)}}*values(){for(let J of this.#x())this.#J[J]!==void 0&&!this.#D(this.#J[J])&&(yield this.#J[J])}*rvalues(){for(let J of this.#K())this.#J[J]!==void 0&&!this.#D(this.#J[J])&&(yield this.#J[J])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(J,X={}){for(let Z of this.#x()){let W=this.#J[Z],$=this.#D(W)?W.__staleWhileFetching:W;if($!==void 0&&J($,this.#Q[Z],this))return this.get(this.#Q[Z],X)}}forEach(J,X=this){for(let Z of this.#x()){let W=this.#J[Z],$=this.#D(W)?W.__staleWhileFetching:W;$!==void 0&&J.call(X,$,this.#Q[Z],this)}}rforEach(J,X=this){for(let Z of this.#K()){let W=this.#J[Z],$=this.#D(W)?W.__staleWhileFetching:W;$!==void 0&&J.call(X,$,this.#Q[Z],this)}}purgeStale(){let J=!1;for(let X of this.#K({allowStale:!0}))this.#j(X)&&(this.#y(this.#Q[X],"expire"),J=!0);return J}info(J){let X=this.#Y.get(J);if(X===void 0)return;let Z=this.#J[X],W=this.#D(Z)?Z.__staleWhileFetching:Z;if(W===void 0)return;let $={value:W};if(this.#L&&this.#E){let G=this.#L[X],Q=this.#E[X];if(G&&Q){let U=G-(this.#w.now()-Q);$.ttl=U,$.start=Date.now()}}return this.#A&&($.size=this.#A[X]),$}dump(){let J=[];for(let X of this.#x({allowStale:!0})){let Z=this.#Q[X],W=this.#J[X],$=this.#D(W)?W.__staleWhileFetching:W;if($===void 0||Z===void 0)continue;let G={value:$};if(this.#L&&this.#E){G.ttl=this.#L[X];let Q=this.#w.now()-this.#E[X];G.start=Math.floor(Date.now()-Q)}this.#A&&(G.size=this.#A[X]),J.unshift([Z,G])}return J}load(J){this.clear();for(let[X,Z]of J){if(Z.start){let W=Date.now()-Z.start;Z.start=this.#w.now()-W}this.set(X,Z.value,Z)}}set(J,X,Z={}){if(X===void 0)return this.delete(J),this;let{ttl:W=this.ttl,start:$,noDisposeOnSet:G=this.noDisposeOnSet,sizeCalculation:Q=this.sizeCalculation,status:U}=Z,{noUpdateTTL:z=this.noUpdateTTL}=Z,H=this.#m(J,X,Z.size||0,Q);if(this.maxEntrySize&&H>this.maxEntrySize)return U&&(U.set="miss",U.maxEntrySizeExceeded=!0),this.#y(J,"set"),this;let O=this.#$===0?void 0:this.#Y.get(J);if(O===void 0)O=this.#$===0?this.#O:this.#M.length!==0?this.#M.pop():this.#$===this.#W?this.#b(!1):this.#$,this.#Q[O]=J,this.#J[O]=X,this.#Y.set(J,O),this.#B[this.#O]=O,this.#q[O]=this.#O,this.#O=O,this.#$++,this.#u(O,H,U),U&&(U.set="add"),z=!1,this.#h&&this.#X?.(X,J,"add");else{this.#c(O);let K=this.#J[O];if(X!==K){if(this.#k&&this.#D(K)){K.__abortController.abort(Error("replaced"));let{__staleWhileFetching:B}=K;B!==void 0&&!G&&(this.#R&&this.#G?.(B,J,"set"),this.#P&&this.#I?.push([B,J,"set"]))}else G||(this.#R&&this.#G?.(K,J,"set"),this.#P&&this.#I?.push([K,J,"set"]));if(this.#_(O),this.#u(O,H,U),this.#J[O]=X,U){U.set="replace";let B=K&&this.#D(K)?K.__staleWhileFetching:K;B!==void 0&&(U.oldValue=B)}}else U&&(U.set="update");this.#h&&this.onInsert?.(X,J,X===K?"update":"replace")}if(W!==0&&!this.#L&&this.#S(),this.#L&&(z||this.#g(O,W,$),U&&this.#C(U,O)),!G&&this.#P&&this.#I){let K=this.#I,B;for(;B=K?.shift();)this.#F?.(...B)}return this}pop(){try{for(;this.#$;){let J=this.#J[this.#H];if(this.#b(!0),this.#D(J)){if(J.__staleWhileFetching)return J.__staleWhileFetching}else if(J!==void 0)return J}}finally{if(this.#P&&this.#I){let J=this.#I,X;for(;X=J?.shift();)this.#F?.(...X)}}}#b(J){let X=this.#H,Z=this.#Q[X],W=this.#J[X];return this.#k&&this.#D(W)?W.__abortController.abort(Error("evicted")):(this.#R||this.#P)&&(this.#R&&this.#G?.(W,Z,"evict"),this.#P&&this.#I?.push([W,Z,"evict"])),this.#_(X),this.#V?.[X]&&(clearTimeout(this.#V[X]),this.#V[X]=void 0),J&&(this.#Q[X]=void 0,this.#J[X]=void 0,this.#M.push(X)),this.#$===1?(this.#H=this.#O=0,this.#M.length=0):this.#H=this.#B[X],this.#Y.delete(Z),this.#$--,X}has(J,X={}){let{updateAgeOnHas:Z=this.updateAgeOnHas,status:W}=X,$=this.#Y.get(J);if($!==void 0){let G=this.#J[$];if(this.#D(G)&&G.__staleWhileFetching===void 0)return!1;if(this.#j($))W&&(W.has="stale",this.#C(W,$));else return Z&&this.#N($),W&&(W.has="hit",this.#C(W,$)),!0}else W&&(W.has="miss");return!1}peek(J,X={}){let{allowStale:Z=this.allowStale}=X,W=this.#Y.get(J);if(W===void 0||!Z&&this.#j(W))return;let $=this.#J[W];return this.#D($)?$.__staleWhileFetching:$}#f(J,X,Z,W){let $=X===void 0?void 0:this.#J[X];if(this.#D($))return $;let G=new R_,{signal:Q}=Z;Q?.addEventListener("abort",()=>G.abort(Q.reason),{signal:G.signal});let U={signal:G.signal,options:Z,context:W},z=(V,I=!1)=>{let{aborted:D}=G.signal,L=Z.ignoreFetchAbort&&V!==void 0,A=Z.ignoreFetchAbort||!!(Z.allowStaleOnFetchAbort&&V!==void 0);if(Z.status&&(D&&!I?(Z.status.fetchAborted=!0,Z.status.fetchError=G.signal.reason,L&&(Z.status.fetchAbortIgnored=!0)):Z.status.fetchResolved=!0),D&&!L&&!I)return O(G.signal.reason,A);let P=B,R=this.#J[X];return(R===B||L&&I&&R===void 0)&&(V===void 0?P.__staleWhileFetching!==void 0?this.#J[X]=P.__staleWhileFetching:this.#y(J,"fetch"):(Z.status&&(Z.status.fetchUpdated=!0),this.set(J,V,U.options))),V},H=(V)=>(Z.status&&(Z.status.fetchRejected=!0,Z.status.fetchError=V),O(V,!1)),O=(V,I)=>{let{aborted:D}=G.signal,L=D&&Z.allowStaleOnFetchAbort,A=L||Z.allowStaleOnFetchRejection,P=A||Z.noDeleteOnFetchRejection,R=B;if(this.#J[X]===B&&(!P||!I&&R.__staleWhileFetching===void 0?this.#y(J,"fetch"):L||(this.#J[X]=R.__staleWhileFetching)),A)return Z.status&&R.__staleWhileFetching!==void 0&&(Z.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw V},K=(V,I)=>{let D=this.#T?.(J,$,U);D&&D instanceof Promise&&D.then((L)=>V(L===void 0?void 0:L),I),G.signal.addEventListener("abort",()=>{(!Z.ignoreFetchAbort||Z.allowStaleOnFetchAbort)&&(V(void 0),Z.allowStaleOnFetchAbort&&(V=(L)=>z(L,!0)))})};Z.status&&(Z.status.fetchDispatched=!0);let B=new Promise(K).then(z,H),F=Object.assign(B,{__abortController:G,__staleWhileFetching:$,__returned:void 0});return X===void 0?(this.set(J,F,{...U.options,status:void 0}),X=this.#Y.get(J)):this.#J[X]=F,F}#D(J){if(!this.#k)return!1;let X=J;return!!X&&X instanceof Promise&&X.hasOwnProperty("__staleWhileFetching")&&X.__abortController instanceof R_}async fetch(J,X={}){let{allowStale:Z=this.allowStale,updateAgeOnGet:W=this.updateAgeOnGet,noDeleteOnStaleGet:$=this.noDeleteOnStaleGet,ttl:G=this.ttl,noDisposeOnSet:Q=this.noDisposeOnSet,size:U=0,sizeCalculation:z=this.sizeCalculation,noUpdateTTL:H=this.noUpdateTTL,noDeleteOnFetchRejection:O=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:K=this.allowStaleOnFetchRejection,ignoreFetchAbort:B=this.ignoreFetchAbort,allowStaleOnFetchAbort:F=this.allowStaleOnFetchAbort,context:V,forceRefresh:I=!1,status:D,signal:L}=X;if(!this.#k)return D&&(D.fetch="get"),this.get(J,{allowStale:Z,updateAgeOnGet:W,noDeleteOnStaleGet:$,status:D});let A={allowStale:Z,updateAgeOnGet:W,noDeleteOnStaleGet:$,ttl:G,noDisposeOnSet:Q,size:U,sizeCalculation:z,noUpdateTTL:H,noDeleteOnFetchRejection:O,allowStaleOnFetchRejection:K,allowStaleOnFetchAbort:F,ignoreFetchAbort:B,status:D,signal:L},P=this.#Y.get(J);if(P===void 0){D&&(D.fetch="miss");let R=this.#f(J,P,A,V);return R.__returned=R}else{let R=this.#J[P];if(this.#D(R)){let M=Z&&R.__staleWhileFetching!==void 0;return D&&(D.fetch="inflight",M&&(D.returnedStale=!0)),M?R.__staleWhileFetching:R.__returned=R}let N=this.#j(P);if(!I&&!N)return D&&(D.fetch="hit"),this.#c(P),W&&this.#N(P),D&&this.#C(D,P),R;let v=this.#f(J,P,A,V),j=v.__staleWhileFetching!==void 0&&Z;return D&&(D.fetch=N?"stale":"refresh",j&&N&&(D.returnedStale=!0)),j?v.__staleWhileFetching:v.__returned=v}}async forceFetch(J,X={}){let Z=await this.fetch(J,X);if(Z===void 0)throw Error("fetch() returned undefined");return Z}memo(J,X={}){let Z=this.#z;if(!Z)throw Error("no memoMethod provided to constructor");let{context:W,forceRefresh:$,...G}=X,Q=this.get(J,G);if(!$&&Q!==void 0)return Q;let U=Z(J,Q,{options:G,context:W});return this.set(J,U,G),U}get(J,X={}){let{allowStale:Z=this.allowStale,updateAgeOnGet:W=this.updateAgeOnGet,noDeleteOnStaleGet:$=this.noDeleteOnStaleGet,status:G}=X,Q=this.#Y.get(J);if(Q!==void 0){let U=this.#J[Q],z=this.#D(U);return G&&this.#C(G,Q),this.#j(Q)?(G&&(G.get="stale"),z?(G&&Z&&U.__staleWhileFetching!==void 0&&(G.returnedStale=!0),Z?U.__staleWhileFetching:void 0):($||this.#y(J,"expire"),G&&Z&&(G.returnedStale=!0),Z?U:void 0)):(G&&(G.get="hit"),z?U.__staleWhileFetching:(this.#c(Q),W&&this.#N(Q),U))}else G&&(G.get="miss")}#l(J,X){this.#q[X]=J,this.#B[J]=X}#c(J){J!==this.#O&&(J===this.#H?this.#H=this.#B[J]:this.#l(this.#q[J],this.#B[J]),this.#l(this.#O,J),this.#O=J)}delete(J){return this.#y(J,"delete")}#y(J,X){let Z=!1;if(this.#$!==0){let W=this.#Y.get(J);if(W!==void 0)if(this.#V?.[W]&&(clearTimeout(this.#V?.[W]),this.#V[W]=void 0),Z=!0,this.#$===1)this.#p(X);else{this.#_(W);let $=this.#J[W];if(this.#D($)?$.__abortController.abort(Error("deleted")):(this.#R||this.#P)&&(this.#R&&this.#G?.($,J,X),this.#P&&this.#I?.push([$,J,X])),this.#Y.delete(J),this.#Q[W]=void 0,this.#J[W]=void 0,W===this.#O)this.#O=this.#q[W];else if(W===this.#H)this.#H=this.#B[W];else{let G=this.#q[W];this.#B[G]=this.#B[W];let Q=this.#B[W];this.#q[Q]=this.#q[W]}this.#$--,this.#M.push(W)}}if(this.#P&&this.#I?.length){let W=this.#I,$;for(;$=W?.shift();)this.#F?.(...$)}return Z}clear(){return this.#p("delete")}#p(J){for(let X of this.#K({allowStale:!0})){let Z=this.#J[X];if(this.#D(Z))Z.__abortController.abort(Error("deleted"));else{let W=this.#Q[X];this.#R&&this.#G?.(Z,W,J),this.#P&&this.#I?.push([Z,W,J])}}if(this.#Y.clear(),this.#J.fill(void 0),this.#Q.fill(void 0),this.#L&&this.#E){this.#L.fill(0),this.#E.fill(0);for(let X of this.#V??[])X!==void 0&&clearTimeout(X);this.#V?.fill(void 0)}if(this.#A&&this.#A.fill(0),this.#H=0,this.#O=0,this.#M.length=0,this.#U=0,this.#$=0,this.#P&&this.#I){let X=this.#I,Z;for(;Z=X?.shift();)this.#F?.(...Z)}}}});var N_=(Y)=>{let J=Y?.buildEntityId??r_6,X=new X20({max:Y?.max??1000,allowStale:!1,noDisposeOnSet:!0,dispose(Q){$(Q,!1)}}),Z=new Map,W=new Map;function $(Q,U=!0){let z=W.get(Q);if(z!==void 0){for(let H of z)Z.get(H)?.delete(Q);W.delete(Q)}if(U)X.delete(Q)}function G(Q){let U=Z.get(Q);if(U!==void 0)for(let z of U)$(z)}return{set(Q,U,z,H){X.set(Q,U,{ttl:H});let O=new Set;W.set(Q,O);for(let{typename:K,id:B}of z){let F=Z.get(K);if(F==null)F=new Set,Z.set(K,F);if(F.add(Q),O.add(K),B!==void 0){let V=J(K,B),I=Z.get(V);if(I==null)I=new Set,Z.set(V,I);I.add(Q),O.add(V)}}},get(Q){return X.get(Q)??null},invalidate(Q){for(let{typename:U,id:z}of Q)G(z!=null?J(U,z):U)}}},r_6=(Y,J)=>`${Y}:${J}`;var $71=w(()=>{Z20()});var $20=q((NM8,W20)=>{W20.exports=function(Y,J){if(!J)J={};if(typeof J==="function")J={cmp:J};var X=typeof J.cycles==="boolean"?J.cycles:!1,Z=J.cmp&&function($){return function(G){return function(Q,U){var z={key:Q,value:G[Q]},H={key:U,value:G[U]};return $(z,H)}}}(J.cmp),W=[];return function $(G){if(G&&G.toJSON&&typeof G.toJSON==="function")G=G.toJSON();if(G===void 0)return;if(typeof G=="number")return isFinite(G)?""+G:"null";if(typeof G!=="object")return JSON.stringify(G);var Q,U;if(Array.isArray(G)){U="[";for(Q=0;Q<G.length;Q++){if(Q)U+=",";U+=$(G[Q])||"null"}return U+"]"}if(G===null)return"null";if(W.indexOf(G)!==-1){if(X)return JSON.stringify("__cycle__");throw TypeError("Converting circular structure to JSON")}var z=W.push(G)-1,H=Object.keys(G).sort(Z&&Z(G));U="";for(Q=0;Q<H.length;Q++){var O=H[Q],K=$(G[O]);if(!K)continue;if(U)U+=",";U+=JSON.stringify(O)+":"+K}return W.splice(z,1),"{"+U+"}"}(Y)}});var G20=()=>{};function U20(Y){return Y!=null}var Q20=(Y)=>Array.isArray(Y)?Y:Y?[Y]:[];var S_=()=>{};function s_6(Y){return Y!=null&&typeof Y==="object"&&Object.keys(Y).every((J)=>a_6.includes(J))}function dB(Y,J){if(J?.originalError&&!(J.originalError instanceof Error)&&s_6(J.originalError))J.originalError=dB(J.originalError.message,J.originalError);let X=zP.GraphQLError,Z=zP.versionInfo.major>=16?new X(Y,J):new X(Y,J?.nodes,J?.source,J?.positions,J?.path,J?.originalError,J?.extensions);if(J?.coordinate&&Z.coordinate==null)Object.defineProperties(Z,{coordinate:{value:J.coordinate,enumerable:!0,configurable:!0}});return Z}var zP,a_6;var G71=w(()=>{zP=q1(f1(),1),a_6=["message","locations","path","nodes","source","positions","originalError","name","stack","extensions","coordinate"]});function z20(Y,J){return Object.prototype.hasOwnProperty.call(Y,J)}var Q71=()=>{};function H20(Y,J,X={}){let Z={},$=(J.arguments??[]).reduce((G,Q)=>({...G,[Q.name.value]:Q}),{});for(let{name:G,type:Q,defaultValue:U}of Y.args){let z=$[G];if(!z){if(U!==void 0)Z[G]=U;else if(dJ.isNonNullType(Q))throw dB(`Argument "${G}" of required type "${L4(Q)}" was not provided.`,{nodes:[J]});continue}let H=z.value,O=H.kind===dJ.Kind.NULL;if(H.kind===dJ.Kind.VARIABLE){let B=H.name.value;if(X==null||!z20(X,B)){if(U!==void 0)Z[G]=U;else if(dJ.isNonNullType(Q))throw dB(`Argument "${G}" of required type "${L4(Q)}" was provided the variable "$${B}" which was not provided a runtime value.`,{nodes:[H]});continue}O=X[B]==null}if(O&&dJ.isNonNullType(Q))throw dB(`Argument "${G}" of non-null type "${L4(Q)}" must not be null.`,{nodes:[H]});let K=dJ.valueFromAST(H,Q,X);if(K===void 0)throw dB(`Argument "${G}" has invalid value ${dJ.print(H)}.`,{nodes:[H]});Z[G]=K}return Z}var dJ;var U71=w(()=>{G71();Q71();dJ=q1(f1(),1)});function t9(Y){let J=new WeakMap;return function(Z){let W=J.get(Z);if(W===void 0){let $=Y(Z);return J.set(Z,$),$}return W}}function O20(Y){let J=new WeakMap;return function(Z,W){let $=J.get(Z);if(!$){$=new WeakMap,J.set(Z,$);let Q=Y(Z,W);return $.set(W,Q),Q}let G=$.get(W);if(G===void 0){let Q=Y(Z,W);return $.set(W,Q),Q}return G}}function K20(Y){let J=new WeakMap;return function(Z,W,$,G){let Q=J.get(Z);if(!Q){Q=new WeakMap,J.set(Z,Q);let O=new WeakMap;Q.set(W,O);let K=new WeakMap;O.set($,K);let B=Y(Z,W,$,G);return K.set(G,B),B}let U=Q.get(W);if(!U){U=new WeakMap,Q.set(W,U);let O=new WeakMap;U.set($,O);let K=Y(Z,W,$,G);return O.set(G,K),K}let z=U.get($);if(!z){let O=new WeakMap;U.set($,O);let K=Y(Z,W,$,G);return O.set(G,K),K}let H=z.get(G);if(H===void 0){let O=Y(Z,W,$,G);return z.set(G,O),O}return H}}function B20(Y){let J=new WeakMap;return function(Z,W,$,G,Q){let U=J.get(Z);if(!U){U=new WeakMap,J.set(Z,U);let B=new WeakMap;U.set(W,B);let F=new WeakMap;B.set($,F);let V=new WeakMap;F.set(G,V);let I=Y(Z,W,$,G,Q);return V.set(Q,I),I}let z=U.get(W);if(!z){z=new WeakMap,U.set(W,z);let B=new WeakMap;z.set($,B);let F=new WeakMap;B.set(G,F);let V=Y(Z,W,$,G,Q);return F.set(Q,V),V}let H=z.get($);if(!H){H=new WeakMap,z.set($,H);let B=new WeakMap;H.set(G,B);let F=Y(Z,W,$,G,Q);return B.set(Q,F),F}let O=H.get(G);if(!O){O=new WeakMap,H.set(G,O);let B=Y(Z,W,$,G,Q);return O.set(Q,B),B}let K=O.get(Q);if(K===void 0){let B=Y(Z,W,$,G,Q);return O.set(Q,B),B}return K}}function q20(Y,J,X=["directives"]){let Z={};if(Y.extensions){let G=Y.extensions;for(let Q of X)G=G?.[Q];if(G!=null)for(let Q in G){let U=G[Q],z=Q;if(Array.isArray(U))for(let H of U){let O=Z[z];if(!O)O=[],Z[z]=O;O.push(H)}else{let H=Z[z];if(!H)H=[],Z[z]=H;H.push(U)}}}let W=t9((G)=>JSON.stringify(G)),$=[];if(Y.astNode)$.push(Y.astNode);if(Y.extensionASTNodes)$.push(...Y.extensionASTNodes);for(let G of $)if(G.directives?.length)for(let Q of G.directives){let U=Q.name.value,z=Z[U];if(!z)z=[],Z[U]=z;let H=J?.getDirective(U),O={};if(H)O=H20(H,Q);if(Q.arguments)for(let K of Q.arguments){let B=K.name.value;if(O[B]==null){let F=H?.args.find((V)=>V.name===B);if(F)O[B]=C_.valueFromAST(K.value,F.type)}if(O[B]==null)O[B]=C_.valueFromASTUntyped(K.value)}if($.length>0&&z.length>0){let K=W(O);if(z.some((B)=>W(B)===K))continue}z.push(O)}return Z}var C_;var z71=w(()=>{U71();C_=q1(f1(),1)});function H71(Y,J,X,Z=["directives"]){return q20(J,Y,Z)[X]}var F20=w(()=>{z71()});var O71=()=>{};var V20=()=>{};var I20=()=>{};var D20=()=>{};var oM8,t_6,e_6;var w20=w(()=>{oM8=t9(function(J){let X=t_6(J);return new Set([...X].map((Z)=>Z.name))}),t_6=t9(function(J){let X=e_6(J);return new Set(X.values())}),e_6=t9(function(J){let X=new Map,Z=J.getQueryType();if(Z)X.set("query",Z);let W=J.getMutationType();if(W)X.set("mutation",W);let $=J.getSubscriptionType();if($)X.set("subscription",$);return X})});var A20=()=>{};var P20=()=>{};var L20=()=>{};function Jx6(Y){return`
# `+Y.replace(/\n/g,`
# `)}function m1(Y,J){return Y?Y.filter((X)=>X).join(J||""):""}function E20(Y){return Y?.some((J)=>J.includes(`
`))??!1}function Xx6(Y){return(J,X,Z,W,$)=>{let G=[],Q=W.reduce((H,O)=>{if(["fields","arguments","values"].includes(O)&&H.name)G.push(H.name.value);return H[O]},$[0]),U=[...G,Q?.name?.value].filter(Boolean).join("."),z=[];if(J.kind.includes("Definition")&&M20[U])z.push(...M20[U]);return m1([...z.map(Jx6),J.description,Y(J,X,Z,W,$)],`
`)}}function HP(Y){return Y&&`  ${Y.replace(/\n/g,`
  `)}`}function cJ(Y){return Y&&Y.length!==0?`{
${HP(m1(Y,`
`))}
}`:""}function B6(Y,J,X){return J?Y+J+(X||""):""}function Zx6(Y,J=!1){let X=Y.replace(/\\/g,"\\\\").replace(/"""/g,'\\"""');return(Y[0]===" "||Y[0]==="\t")&&Y.indexOf(`
`)===-1?`"""${X.replace(/"$/,`"
`)}"""`:`"""
${J?X:HP(X)}
"""`}var Yx6=80,M20,T20,eM8;var R20=w(()=>{M20={};T20={Name:{leave:(Y)=>Y.value},Variable:{leave:(Y)=>"$"+Y.name},Document:{leave:(Y)=>m1(Y.definitions,`

`)},OperationDefinition:{leave:(Y)=>{let J=B6("(",m1(Y.variableDefinitions,", "),")");return m1([Y.operation,m1([Y.name,J]),m1(Y.directives," ")]," ")+" "+Y.selectionSet}},VariableDefinition:{leave:({variable:Y,type:J,defaultValue:X,directives:Z})=>Y+": "+J+B6(" = ",X)+B6(" ",m1(Z," "))},SelectionSet:{leave:({selections:Y})=>cJ(Y)},Field:{leave({alias:Y,name:J,arguments:X,directives:Z,selectionSet:W}){let $=B6("",Y,": ")+J,G=$+B6("(",m1(X,", "),")");if(G.length>Yx6)G=$+B6(`(
`,HP(m1(X,`
`)),`
)`);return m1([G,m1(Z," "),W]," ")}},Argument:{leave:({name:Y,value:J})=>Y+": "+J},FragmentSpread:{leave:({name:Y,directives:J})=>"..."+Y+B6(" ",m1(J," "))},InlineFragment:{leave:({typeCondition:Y,directives:J,selectionSet:X})=>m1(["...",B6("on ",Y),m1(J," "),X]," ")},FragmentDefinition:{leave:({name:Y,typeCondition:J,variableDefinitions:X,directives:Z,selectionSet:W})=>`fragment ${Y}${B6("(",m1(X,", "),")")} on ${J} ${B6("",m1(Z," ")," ")}`+W},IntValue:{leave:({value:Y})=>Y},FloatValue:{leave:({value:Y})=>Y},StringValue:{leave:({value:Y,block:J})=>{if(J)return Zx6(Y);return JSON.stringify(Y)}},BooleanValue:{leave:({value:Y})=>Y?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:Y})=>Y},ListValue:{leave:({values:Y})=>"["+m1(Y,", ")+"]"},ObjectValue:{leave:({fields:Y})=>"{"+m1(Y,", ")+"}"},ObjectField:{leave:({name:Y,value:J})=>Y+": "+J},Directive:{leave:({name:Y,arguments:J})=>"@"+Y+B6("(",m1(J,", "),")")},NamedType:{leave:({name:Y})=>Y},ListType:{leave:({type:Y})=>"["+Y+"]"},NonNullType:{leave:({type:Y})=>Y+"!"},SchemaDefinition:{leave:({directives:Y,operationTypes:J})=>m1(["schema",m1(Y," "),cJ(J)]," ")},OperationTypeDefinition:{leave:({operation:Y,type:J})=>Y+": "+J},ScalarTypeDefinition:{leave:({name:Y,directives:J})=>m1(["scalar",Y,m1(J," ")]," ")},ObjectTypeDefinition:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>m1(["type",Y,B6("implements ",m1(J," & ")),m1(X," "),cJ(Z)]," ")},FieldDefinition:{leave:({name:Y,arguments:J,type:X,directives:Z})=>Y+(E20(J)?B6(`(
`,HP(m1(J,`
`)),`
)`):B6("(",m1(J,", "),")"))+": "+X+B6(" ",m1(Z," "))},InputValueDefinition:{leave:({name:Y,type:J,defaultValue:X,directives:Z})=>m1([Y+": "+J,B6("= ",X),m1(Z," ")]," ")},InterfaceTypeDefinition:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>m1(["interface",Y,B6("implements ",m1(J," & ")),m1(X," "),cJ(Z)]," ")},UnionTypeDefinition:{leave:({name:Y,directives:J,types:X})=>m1(["union",Y,m1(J," "),B6("= ",m1(X," | "))]," ")},EnumTypeDefinition:{leave:({name:Y,directives:J,values:X})=>m1(["enum",Y,m1(J," "),cJ(X)]," ")},EnumValueDefinition:{leave:({name:Y,directives:J})=>m1([Y,m1(J," ")]," ")},InputObjectTypeDefinition:{leave:({name:Y,directives:J,fields:X})=>m1(["input",Y,m1(J," "),cJ(X)]," ")},DirectiveDefinition:{leave:({name:Y,arguments:J,repeatable:X,locations:Z})=>"directive @"+Y+(E20(J)?B6(`(
`,HP(m1(J,`
`)),`
)`):B6("(",m1(J,", "),")"))+(X?" repeatable":"")+" on "+m1(Z," | ")},SchemaExtension:{leave:({directives:Y,operationTypes:J})=>m1(["extend schema",m1(Y," "),cJ(J)]," ")},ScalarTypeExtension:{leave:({name:Y,directives:J})=>m1(["extend scalar",Y,m1(J," ")]," ")},ObjectTypeExtension:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>m1(["extend type",Y,B6("implements ",m1(J," & ")),m1(X," "),cJ(Z)]," ")},InterfaceTypeExtension:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>m1(["extend interface",Y,B6("implements ",m1(J," & ")),m1(X," "),cJ(Z)]," ")},UnionTypeExtension:{leave:({name:Y,directives:J,types:X})=>m1(["extend union",Y,m1(J," "),B6("= ",m1(X," | "))]," ")},EnumTypeExtension:{leave:({name:Y,directives:J,values:X})=>m1(["extend enum",Y,m1(J," "),cJ(X)]," ")},InputObjectTypeExtension:{leave:({name:Y,directives:J,fields:X})=>m1(["extend input",Y,m1(J," "),cJ(X)]," ")}},eM8=Object.keys(T20).reduce((Y,J)=>({...Y,[J]:{leave:Xx6(T20[J].leave)}}),{})});var N20=()=>{};var S20=()=>{};var C20;var j20=w(()=>{(function(Y){Y.QUERY="QUERY",Y.MUTATION="MUTATION",Y.SUBSCRIPTION="SUBSCRIPTION",Y.FIELD="FIELD",Y.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",Y.FRAGMENT_SPREAD="FRAGMENT_SPREAD",Y.INLINE_FRAGMENT="INLINE_FRAGMENT",Y.VARIABLE_DEFINITION="VARIABLE_DEFINITION",Y.SCHEMA="SCHEMA",Y.SCALAR="SCALAR",Y.OBJECT="OBJECT",Y.FIELD_DEFINITION="FIELD_DEFINITION",Y.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",Y.INTERFACE="INTERFACE",Y.UNION="UNION",Y.ENUM="ENUM",Y.ENUM_VALUE="ENUM_VALUE",Y.INPUT_OBJECT="INPUT_OBJECT",Y.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(C20||(C20={}))});var E0;var K71=w(()=>{(function(Y){Y.TYPE="MapperKind.TYPE",Y.SCALAR_TYPE="MapperKind.SCALAR_TYPE",Y.ENUM_TYPE="MapperKind.ENUM_TYPE",Y.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",Y.OBJECT_TYPE="MapperKind.OBJECT_TYPE",Y.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",Y.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",Y.UNION_TYPE="MapperKind.UNION_TYPE",Y.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",Y.ROOT_OBJECT="MapperKind.ROOT_OBJECT",Y.QUERY="MapperKind.QUERY",Y.MUTATION="MapperKind.MUTATION",Y.SUBSCRIPTION="MapperKind.SUBSCRIPTION",Y.DIRECTIVE="MapperKind.DIRECTIVE",Y.FIELD="MapperKind.FIELD",Y.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",Y.OBJECT_FIELD="MapperKind.OBJECT_FIELD",Y.ROOT_FIELD="MapperKind.ROOT_FIELD",Y.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",Y.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",Y.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",Y.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",Y.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",Y.ARGUMENT="MapperKind.ARGUMENT",Y.ENUM_VALUE="MapperKind.ENUM_VALUE"})(E0||(E0={}))});function Oz(Y,J){if(J){let X=Y[J.name];if(k20.isObjectType(X))return X}}var k20;var _20=w(()=>{k20=q1(f1(),1)});function x20(Y){if("getFields"in Y){let J=Y.getFields();for(let X in J)return J[X].name==="_fake"}return!1}function f20(Y){switch(Y.name){case e6.GraphQLInt.name:return e6.GraphQLInt;case e6.GraphQLFloat.name:return e6.GraphQLFloat;case e6.GraphQLString.name:return e6.GraphQLString;case e6.GraphQLBoolean.name:return e6.GraphQLBoolean;case e6.GraphQLID.name:return e6.GraphQLID;default:return Y}}var e6;var B71=w(()=>{e6=q1(f1(),1)});function v20(Y,J){let X=Object.create(null);for(let K in Y)X[K]=Y[K];let Z=Object.create(null);for(let K in X){let B=X[K];if(B==null||K.startsWith("__"))continue;let F=B.name;if(F.startsWith("__"))continue;if(Z[F]!=null){console.warn(`Duplicate schema type name ${F} found; keeping the existing one found in the schema`);continue}Z[F]=B}for(let K in Z)Z[K]=Q(Z[K]);let W=J.map((K)=>$(K));return{typeMap:Z,directives:W};function $(K){if(x0.isSpecifiedDirective(K))return K;let B=K.toConfig();return B.args=G(B.args),new x0.GraphQLDirective(B)}function G(K){let B={};for(let F in K){let V=K[F],I=O(V.type);if(I!=null)V.type=I,B[F]=V}return B}function Q(K){if(x0.isObjectType(K)){let B=K.toConfig(),F={...B,fields:()=>U(B.fields),interfaces:()=>H(B.interfaces)};return new x0.GraphQLObjectType(F)}else if(x0.isInterfaceType(K)){let B=K.toConfig(),F={...B,fields:()=>U(B.fields)};if("interfaces"in F)F.interfaces=()=>H(B.interfaces);return new x0.GraphQLInterfaceType(F)}else if(x0.isUnionType(K)){let B=K.toConfig(),F={...B,types:()=>H(B.types)};return new x0.GraphQLUnionType(F)}else if(x0.isInputObjectType(K)){let B=K.toConfig(),F={...B,fields:()=>z(B.fields)};return new x0.GraphQLInputObjectType(F)}else if(x0.isEnumType(K)){let B=K.toConfig();return new x0.GraphQLEnumType(B)}else if(x0.isScalarType(K)){if(x0.isSpecifiedScalarType(K))return K;let B=K.toConfig();return new x0.GraphQLScalarType(B)}throw Error(`Unexpected schema type: ${K}`)}function U(K){let B={};for(let F in K){let V=K[F],I=O(V.type);if(I!=null&&V.args)V.type=I,V.args=G(V.args),B[F]=V}return B}function z(K){let B={};for(let F in K){let V=K[F],I=O(V.type);if(I!=null)V.type=I,B[F]=V}return B}function H(K){let B=[];for(let F of K){let V=O(F);if(V!=null)B.push(V)}return B}function O(K){if(x0.isListType(K)){let B=O(K.ofType);return B!=null?new x0.GraphQLList(B):null}else if(x0.isNonNullType(K)){let B=O(K.ofType);return B!=null?new x0.GraphQLNonNull(B):null}else if(x0.isNamedType(K)){let B=X[K.name];if(B===void 0)B=x20(K)?f20(K):Q(K),Z[B.name]=X[K.name]=B;return B!=null?Z[B.name]:null}return null}}var x0;var q71=w(()=>{B71();x0=q1(f1(),1)});function j_(Y,J,X=null,Z=null){if(J==null)return J;let W=UG.getNullableType(Y);if(UG.isLeafType(W))return X!=null?X(W,J):J;else if(UG.isListType(W))return Q20(J).map(($)=>j_(W.ofType,$,X,Z));else if(UG.isInputObjectType(W)){let $=W.getFields(),G={};for(let Q in J){let U=$[Q];if(U!=null)G[Q]=j_(U.type,J[Q],X,Z)}return Z!=null?Z(W,G):G}}function h20(Y,J){return j_(Y,J,(X,Z)=>{try{return X.serialize(Z)}catch{return Z}})}function b20(Y,J){return j_(Y,J,(X,Z)=>{try{return X.parseValue(Z)}catch{return Z}})}var UG;var F71=w(()=>{S_();UG=q1(f1(),1)});function g20(Y,J={}){let X=m20(u20(V71(y20($x6(V71(y20(Y.getTypeMap(),Y,h20),Y,J,(Q)=>b1.isLeafType(Q)),Y,J),Y,b20),Y,J,(Q)=>!b1.isLeafType(Q)),Y,J),Y,J),Z=Y.getDirectives(),W=Gx6(Z,Y,J),{typeMap:$,directives:G}=v20(X,W);return new b1.GraphQLSchema({...Y.toConfig(),query:Oz($,Oz(X,Y.getQueryType())),mutation:Oz($,Oz(X,Y.getMutationType())),subscription:Oz($,Oz(X,Y.getSubscriptionType())),types:Object.values($),directives:G})}function V71(Y,J,X,Z=()=>!0){let W={};for(let $ in Y)if(!$.startsWith("__")&&!Wx6.includes($)){let G=Y[$];if(G==null||!Z(G)){W[$]=G;continue}let Q=Ux6(J,X,$);if(Q==null){W[$]=G;continue}let U=Q(G,J);if(U===void 0){W[$]=G;continue}W[$]=U}return W}function $x6(Y,J,X){let Z=Bx6(X);if(!Z)return Y;return V71(Y,J,{[E0.ENUM_TYPE]:(W)=>{let $=W.toConfig(),G=$.values,Q={};for(let U in G){let z=G[U],H=Z(z,W.name,J,U);if(H===void 0)Q[U]=z;else if(Array.isArray(H)){let[O,K]=H;Q[O]=K===void 0?z:K}else if(H!==null)Q[U]=H}return k_(new b1.GraphQLEnumType({...$,values:Q}))}},(W)=>b1.isEnumType(W))}function y20(Y,J,X){let Z=m20(Y,J,{[E0.ARGUMENT]:(W)=>{if(W.defaultValue===void 0)return W;let $=__(Y,W.type);if($!=null)return{...W,defaultValue:X($,W.defaultValue)}}});return u20(Z,J,{[E0.INPUT_OBJECT_FIELD]:(W)=>{if(W.defaultValue===void 0)return W;let $=__(Z,W.type);if($!=null)return{...W,defaultValue:X($,W.defaultValue)}}})}function __(Y,J){if(b1.isListType(J)){let X=__(Y,J.ofType);return X!=null?new b1.GraphQLList(X):null}else if(b1.isNonNullType(J)){let X=__(Y,J.ofType);return X!=null?new b1.GraphQLNonNull(X):null}else if(b1.isNamedType(J)){let X=Y[J.name];return X!=null?X:null}return null}function u20(Y,J,X){let Z={};for(let W in Y)if(!W.startsWith("__")){let $=Y[W];if(!b1.isObjectType($)&&!b1.isInterfaceType($)&&!b1.isInputObjectType($)){Z[W]=$;continue}let G=Hx6(J,X,W);if(G==null){Z[W]=$;continue}let Q=$.toConfig(),U=Q.fields,z={};for(let H in U){let O=U[H],K=G(O,H,W,J);if(K===void 0)z[H]=O;else if(Array.isArray(K)){let[B,F]=K;if(F.astNode!=null)F.astNode={...F.astNode,name:{...F.astNode.name,value:B}};z[B]=F===void 0?O:F}else if(K!==null)z[H]=K}if(b1.isObjectType($))Z[W]=k_(new b1.GraphQLObjectType({...Q,fields:z}));else if(b1.isInterfaceType($))Z[W]=k_(new b1.GraphQLInterfaceType({...Q,fields:z}));else Z[W]=k_(new b1.GraphQLInputObjectType({...Q,fields:z}))}return Z}function m20(Y,J,X){let Z={};for(let W in Y)if(!W.startsWith("__")){let $=Y[W];if(!b1.isObjectType($)&&!b1.isInterfaceType($)){Z[W]=$;continue}let G=Ox6(X);if(G==null){Z[W]=$;continue}let Q=$.toConfig(),U=Q.fields,z={};for(let H in U){let O=U[H],K=O.args;if(K==null){z[H]=O;continue}let B=Object.keys(K);if(!B.length){z[H]=O;continue}let F={};for(let V of B){let I=K[V],D=G(I,H,W,J);if(D===void 0)F[V]=I;else if(Array.isArray(D)){let[L,A]=D;F[L]=A}else if(D!==null)F[V]=D}z[H]={...O,args:F}}if(b1.isObjectType($))Z[W]=new b1.GraphQLObjectType({...Q,fields:z});else if(b1.isInterfaceType($))Z[W]=new b1.GraphQLInterfaceType({...Q,fields:z});else Z[W]=new b1.GraphQLInputObjectType({...Q,fields:z})}return Z}function Gx6(Y,J,X){let Z=Kx6(X);if(Z==null)return Y.slice();let W=[];for(let $ of Y){let G=Z($,J);if(G===void 0)W.push($);else if(G!==null)W.push(G)}return W}function Qx6(Y,J){let X=Y.getType(J),Z=[E0.TYPE];if(b1.isObjectType(X)){if(Z.push(E0.COMPOSITE_TYPE,E0.OBJECT_TYPE),J===Y.getQueryType()?.name)Z.push(E0.ROOT_OBJECT,E0.QUERY);else if(J===Y.getMutationType()?.name)Z.push(E0.ROOT_OBJECT,E0.MUTATION);else if(J===Y.getSubscriptionType()?.name)Z.push(E0.ROOT_OBJECT,E0.SUBSCRIPTION)}else if(b1.isInputObjectType(X))Z.push(E0.INPUT_OBJECT_TYPE);else if(b1.isInterfaceType(X))Z.push(E0.COMPOSITE_TYPE,E0.ABSTRACT_TYPE,E0.INTERFACE_TYPE);else if(b1.isUnionType(X))Z.push(E0.COMPOSITE_TYPE,E0.ABSTRACT_TYPE,E0.UNION_TYPE);else if(b1.isEnumType(X))Z.push(E0.ENUM_TYPE);else if(b1.isScalarType(X))Z.push(E0.SCALAR_TYPE);return Z}function Ux6(Y,J,X){let Z=Qx6(Y,X),W,$=[...Z];while(!W&&$.length>0){let G=$.pop();W=J[G]}return W!=null?W:null}function zx6(Y,J){let X=Y.getType(J),Z=[E0.FIELD];if(b1.isObjectType(X)){if(Z.push(E0.COMPOSITE_FIELD,E0.OBJECT_FIELD),J===Y.getQueryType()?.name)Z.push(E0.ROOT_FIELD,E0.QUERY_ROOT_FIELD);else if(J===Y.getMutationType()?.name)Z.push(E0.ROOT_FIELD,E0.MUTATION_ROOT_FIELD);else if(J===Y.getSubscriptionType()?.name)Z.push(E0.ROOT_FIELD,E0.SUBSCRIPTION_ROOT_FIELD)}else if(b1.isInterfaceType(X))Z.push(E0.COMPOSITE_FIELD,E0.INTERFACE_FIELD);else if(b1.isInputObjectType(X))Z.push(E0.INPUT_OBJECT_FIELD);return Z}function Hx6(Y,J,X){let Z=zx6(Y,X),W,$=[...Z];while(!W&&$.length>0){let G=$.pop();W=J[G]}return W??null}function Ox6(Y){let J=Y[E0.ARGUMENT];return J!=null?J:null}function Kx6(Y){let J=Y[E0.DIRECTIVE];return J!=null?J:null}function Bx6(Y){let J=Y[E0.ENUM_VALUE];return J!=null?J:null}function k_(Y){if(b1.isObjectType(Y)){let J=Y.toConfig();if(J.astNode!=null){let X=[];for(let Z in J.fields){let W=J.fields[Z];if(W.astNode!=null)X.push(W.astNode)}J.astNode={...J.astNode,kind:b1.Kind.OBJECT_TYPE_DEFINITION,fields:X}}if(J.extensionASTNodes!=null)J.extensionASTNodes=J.extensionASTNodes.map((X)=>({...X,kind:b1.Kind.OBJECT_TYPE_EXTENSION,fields:void 0}));return new b1.GraphQLObjectType(J)}else if(b1.isInterfaceType(Y)){let J=Y.toConfig();if(J.astNode!=null){let X=[];for(let Z in J.fields){let W=J.fields[Z];if(W.astNode!=null)X.push(W.astNode)}J.astNode={...J.astNode,kind:b1.Kind.INTERFACE_TYPE_DEFINITION,fields:X}}if(J.extensionASTNodes!=null)J.extensionASTNodes=J.extensionASTNodes.map((X)=>({...X,kind:b1.Kind.INTERFACE_TYPE_EXTENSION,fields:void 0}));return new b1.GraphQLInterfaceType(J)}else if(b1.isInputObjectType(Y)){let J=Y.toConfig();if(J.astNode!=null){let X=[];for(let Z in J.fields){let W=J.fields[Z];if(W.astNode!=null)X.push(W.astNode)}J.astNode={...J.astNode,kind:b1.Kind.INPUT_OBJECT_TYPE_DEFINITION,fields:X}}if(J.extensionASTNodes!=null)J.extensionASTNodes=J.extensionASTNodes.map((X)=>({...X,kind:b1.Kind.INPUT_OBJECT_TYPE_EXTENSION,fields:void 0}));return new b1.GraphQLInputObjectType(J)}else if(b1.isEnumType(Y)){let J=Y.toConfig();if(J.astNode!=null){let X=[];for(let Z in J.values){let W=J.values[Z];if(W.astNode!=null)X.push(W.astNode)}J.astNode={...J.astNode,values:X}}if(J.extensionASTNodes!=null)J.extensionASTNodes=J.extensionASTNodes.map((X)=>({...X,values:void 0}));return new b1.GraphQLEnumType(J)}else return Y}var b1,Wx6;var d20=w(()=>{_20();K71();q71();F71();b1=q1(f1(),1);Wx6=["String","ID","Int","Float","Boolean"]});var c20=()=>{};var l20=()=>{};var p20=()=>{};var n20=()=>{};var i20=()=>{};var o20=()=>{};var r20=()=>{};function OP(Y,J=!1,X=!1,Z=!1){if(Y.length===0)return;if(Y.length===1)return Y[0];let W,$=!0,G=Y.every((z)=>{if(Array.isArray(z)){if(W===void 0)return W=z.length,!0;else if(W===z.length)return!0}else $=!1;return!1});if(Z&&G)return Array(W).fill(null).map((z,H)=>OP(Y.map((O)=>O[H]),J,X,Z));if($)return Y.flat(1);let Q,U;if(J){if(U=Y.find((z)=>a20(z)),U){if(Q==null)Q={};Object.setPrototypeOf(Q,Object.create(Object.getPrototypeOf(U)))}}for(let z of Y){if(z==null)continue;if(a20(z)){if(U){let H=Object.getPrototypeOf(Q),O=Object.getPrototypeOf(z);if(O)for(let K of Object.getOwnPropertyNames(O)){let B=Object.getOwnPropertyDescriptor(O,K);if(U20(B))Object.defineProperty(H,K,B)}}for(let H in z){if(Q==null)Q={};if(H in Q)Q[H]=OP([Q[H],z[H]],J,X,Z);else Q[H]=z[H]}}else if(Array.isArray(z))if(!Array.isArray(Q))Q=z;else Q=OP([Q,z],J,X,Z);else Q=z}return Q}function a20(Y){return Y&&typeof Y==="object"&&!Array.isArray(Y)}var I71=w(()=>{S_()});var s20=()=>{};var t20=()=>{};var e20=()=>{};var YN0=()=>{};var JN0=()=>{};var XN0=()=>{};var KP;var ZN0=w(()=>{KP=class KP extends Map{get[Symbol.toStringTag](){return"AccumulatorMap"}add(Y,J){let X=this.get(Y);if(X===void 0)this.set(Y,[J]);else X.push(J)}}});var z5,WN0,_E8;var D71=w(()=>{z5=q1(f1(),1),WN0=new z5.GraphQLDirective({name:"defer",description:"Directs the executor to defer this fragment when the `if` argument is true or undefined.",locations:[z5.DirectiveLocation.FRAGMENT_SPREAD,z5.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new z5.GraphQLNonNull(z5.GraphQLBoolean),description:"Deferred when true or undefined.",defaultValue:!0},label:{type:z5.GraphQLString,description:"Unique name"}}}),_E8=new z5.GraphQLDirective({name:"stream",description:"Directs the executor to stream plural fields when the `if` argument is true or undefined.",locations:[z5.DirectiveLocation.FIELD],args:{if:{type:new z5.GraphQLNonNull(z5.GraphQLBoolean),description:"Stream when true or undefined.",defaultValue:!0},label:{type:z5.GraphQLString,description:"Unique name"},initialCount:{defaultValue:0,type:z5.GraphQLInt,description:"Number of items to return immediately"}}})});function BP(Y,J,X,Z,W,$,G,Q){for(let U of W.selections)switch(U.kind){case i5.Kind.FIELD:{if(!w71(X,U))continue;$.add(qx6(U),U);break}case i5.Kind.INLINE_FRAGMENT:{if(!w71(X,U)||!$N0(Y,U,Z))continue;let z=GN0(X,U);if(z){let H=new KP;BP(Y,J,X,Z,U.selectionSet,H,G,Q),G.push({label:z.label,fields:H})}else BP(Y,J,X,Z,U.selectionSet,$,G,Q);break}case i5.Kind.FRAGMENT_SPREAD:{let z=U.name.value;if(!w71(X,U))continue;let H=GN0(X,U);if(Q.has(z)&&!H)continue;let O=J[z];if(!O||!$N0(Y,O,Z))continue;if(!H)Q.add(z);if(H){let K=new KP;BP(Y,J,X,Z,O.selectionSet,K,G,Q),G.push({label:H.label,fields:K})}else BP(Y,J,X,Z,O.selectionSet,$,G,Q);break}}}function w71(Y,J){if(i5.getDirectiveValues(i5.GraphQLSkipDirective,J,Y)?.if===!0)return!1;if(i5.getDirectiveValues(i5.GraphQLIncludeDirective,J,Y)?.if===!1)return!1;return!0}function $N0(Y,J,X){let Z=J.typeCondition;if(!Z)return!0;let W=i5.typeFromAST(Y,Z);if(W===X)return!0;if(i5.isAbstractType(W))return Y.getPossibleTypes(W).includes(X);return!1}function qx6(Y){return Y.alias?Y.alias.value:Y.name.value}function GN0(Y,J){let X=i5.getDirectiveValues(WN0,J,Y);if(!X)return;if(X.if===!1)return;return{label:typeof X.label==="string"?X.label:void 0}}var i5,bE8;var QN0=w(()=>{ZN0();D71();i5=q1(f1(),1);bE8=B20(function(J,X,Z,W,$){let G=new KP,Q=new Set,U=[],z={fields:G,patches:U};for(let H of $)if(H.selectionSet)BP(J,X,Z,W,H.selectionSet,G,U,Q);return z})});function Fx6(Y,J){let X=UN0.getOperationAST(Y,J);if(!X)throw Error(`Cannot infer operation ${J||""}`);return X}var UN0,uE8;var zN0=w(()=>{UN0=q1(f1(),1);uE8=t9(function(J){return Fx6(J.document,J.operationName)})});var HN0=()=>{};var ON0=()=>{};var KN0=()=>{};var iE8;var BN0=w(()=>{iE8=O20(function(J,X){return function(...W){return Reflect.apply(X,J,W)}})});var qN0=()=>{};var FN0=()=>{};function P71({incrementalResult:Y,executionResult:J}){let X=["data",...Y.path??[]];if(Y.items)for(let Z of Y.items)A71(J,X,Z),X[X.length-1]++;if(Y.data)A71(J,X,Y.data);if(Y.errors)J.errors=J.errors||[],J.errors.push(...Y.errors);if(Y.extensions)A71(J,["extensions"],Y.extensions);if(Y.incremental)Y.incremental.forEach((Z)=>{P71({incrementalResult:Z,executionResult:J})})}function A71(Y,J,X){let Z=Y,W;for(W=0;W<J.length-1;W++){let Q=J[W];if(Q==="__proto__"||Q==="constructor"||Q==="prototype")return;if(Z[Q]==null)Z[Q]=typeof J[W+1]==="number"?[]:{};Z=Z[Q]}let $=J[W];if($==="__proto__"||$==="constructor"||$==="prototype")return;let G=Z[$];Z[$]=G!=null?OP([G,X]):X}var VN0=w(()=>{I71()});var IN0=()=>{};function Ix6(Y,J){if(Y.aborted){J();return}Vx6(Y).add(J)}var Vx6,XT8;var DN0=w(()=>{z4();Vx6=t9(function(J){let X=new Set;return J.addEventListener("abort",(Z)=>{for(let W of X)W(Z)},{once:!0}),X});XT8=t9(function(J){if(J.aborted)return s9(J.reason);return new Promise((X,Z)=>{if(J.aborted){Z(J.reason);return}Ix6(J,()=>{Z(J.reason)})})})});var wN0=w(()=>{G20();S_();F20();O71();V20();A20();O71();P20();L20();N20();S20();j20();c20();l20();p20();n20();i20();d20();o20();q71();r20();I71();K71();B71();s20();t20();e20();F71();YN0();I20();JN0();G71();XN0();HN0();U71();ON0();D20();KN0();BN0();w20();R20();QN0();qN0();zN0();FN0();Q71();D71();VN0();IN0();z71();DN0()});var L71=q((UR8,AN0)=>{function Dx6(){return Object.keys(globalThis).some((Y)=>Y.startsWith("__NEXT"))}AN0.exports=function(){if(globalThis.Deno)return!0;if(globalThis.Bun)return!0;if(Dx6())return!0;return!1}});var nN0=q((zR8,pN0)=>{var{defineProperty:x_,getOwnPropertyDescriptor:wx6,getOwnPropertyNames:Ax6}=Object,Px6=Object.prototype.hasOwnProperty,z0=(Y,J)=>x_(Y,"name",{value:J,configurable:!0}),Lx6=(Y,J)=>{for(var X in J)x_(Y,X,{get:J[X],enumerable:!0})},Mx6=(Y,J,X,Z)=>{if(J&&typeof J=="object"||typeof J=="function")for(let W of Ax6(J))!Px6.call(Y,W)&&W!==X&&x_(Y,W,{get:()=>J[W],enumerable:!(Z=wx6(J,W))||Z.enumerable});return Y},Ex6=(Y)=>Mx6(x_({},"__esModule",{value:!0}),Y),PN0={};Lx6(PN0,{URLPattern:()=>lN0});pN0.exports=Ex6(PN0);var pB=class{type=3;name="";prefix="";value="";suffix="";modifier=3;constructor(Y,J,X,Z,W,$){this.type=Y,this.name=J,this.prefix=X,this.value=Z,this.suffix=W,this.modifier=$}hasCustomName(){return this.name!==""&&typeof this.name!="number"}};z0(pB,"Part");var Tx6=/[$_\p{ID_Start}]/u,Rx6=/[$_\u200C\u200D\p{ID_Continue}]/u,E71=".*";function LN0(Y,J){return(J?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(Y)}z0(LN0,"isASCII");function N71(Y,J=!1){let X=[],Z=0;for(;Z<Y.length;){let W=Y[Z],$=z0(function(G){if(!J)throw TypeError(G);X.push({type:"INVALID_CHAR",index:Z,value:Y[Z++]})},"ErrorOrInvalid");if(W==="*"){X.push({type:"ASTERISK",index:Z,value:Y[Z++]});continue}if(W==="+"||W==="?"){X.push({type:"OTHER_MODIFIER",index:Z,value:Y[Z++]});continue}if(W==="\\"){X.push({type:"ESCAPED_CHAR",index:Z++,value:Y[Z++]});continue}if(W==="{"){X.push({type:"OPEN",index:Z,value:Y[Z++]});continue}if(W==="}"){X.push({type:"CLOSE",index:Z,value:Y[Z++]});continue}if(W===":"){let G="",Q=Z+1;for(;Q<Y.length;){let U=Y.substr(Q,1);if(Q===Z+1&&Tx6.test(U)||Q!==Z+1&&Rx6.test(U)){G+=Y[Q++];continue}break}if(!G){$(`Missing parameter name at ${Z}`);continue}X.push({type:"NAME",index:Z,value:G}),Z=Q;continue}if(W==="("){let G=1,Q="",U=Z+1,z=!1;if(Y[U]==="?"){$(`Pattern cannot start with "?" at ${U}`);continue}for(;U<Y.length;){if(!LN0(Y[U],!1)){$(`Invalid character '${Y[U]}' at ${U}.`),z=!0;break}if(Y[U]==="\\"){Q+=Y[U++]+Y[U++];continue}if(Y[U]===")"){if(G--,G===0){U++;break}}else if(Y[U]==="("&&(G++,Y[U+1]!=="?")){$(`Capturing groups are not allowed at ${U}`),z=!0;break}Q+=Y[U++]}if(z)continue;if(G){$(`Unbalanced pattern at ${Z}`);continue}if(!Q){$(`Missing pattern at ${Z}`);continue}X.push({type:"REGEX",index:Z,value:Q}),Z=U;continue}X.push({type:"CHAR",index:Z,value:Y[Z++]})}return X.push({type:"END",index:Z,value:""}),X}z0(N71,"lexer");function S71(Y,J={}){let X=N71(Y);J.delimiter??="/#?",J.prefixes??="./";let Z=`[^${R7(J.delimiter)}]+?`,W=[],$=0,G=0,Q="",U=new Set,z=z0((A)=>{if(G<X.length&&X[G].type===A)return X[G++].value},"tryConsume"),H=z0(()=>z("OTHER_MODIFIER")??z("ASTERISK"),"tryConsumeModifier"),O=z0((A)=>{let P=z(A);if(P!==void 0)return P;let{type:R,index:N}=X[G];throw TypeError(`Unexpected ${R} at ${N}, expected ${A}`)},"mustConsume"),K=z0(()=>{let A="",P;for(;P=z("CHAR")??z("ESCAPED_CHAR");)A+=P;return A},"consumeText"),B=z0((A)=>A,"DefaultEncodePart"),F=J.encodePart||B,V="",I=z0((A)=>{V+=A},"appendToPendingFixedValue"),D=z0(()=>{V.length&&(W.push(new pB(3,"","",F(V),"",3)),V="")},"maybeAddPartFromPendingFixedValue"),L=z0((A,P,R,N,v)=>{let j=3;switch(v){case"?":j=1;break;case"*":j=0;break;case"+":j=2;break}if(!P&&!R&&j===3){I(A);return}if(D(),!P&&!R){if(!A)return;W.push(new pB(3,"","",F(A),"",j));return}let M;R?R==="*"?M=E71:M=R:M=Z;let b=2;M===Z?(b=1,M=""):M===E71&&(b=0,M="");let k;if(P?k=P:R&&(k=$++),U.has(k))throw TypeError(`Duplicate name '${k}'.`);U.add(k),W.push(new pB(b,k,F(A),M,F(N),j))},"addPart");for(;G<X.length;){let A=z("CHAR"),P=z("NAME"),R=z("REGEX");if(!P&&!R&&(R=z("ASTERISK")),P||R){let v=A??"";J.prefixes.indexOf(v)===-1&&(I(v),v=""),D();let j=H();L(v,P,R,"",j);continue}let N=A??z("ESCAPED_CHAR");if(N){I(N);continue}if(z("OPEN")){let v=K(),j=z("NAME"),M=z("REGEX");!j&&!M&&(M=z("ASTERISK"));let b=K();O("CLOSE");let k=H();L(v,j,M,b,k);continue}D(),O("END")}return W}z0(S71,"parse");function R7(Y){return Y.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}z0(R7,"escapeString");function T71(Y){return Y&&Y.ignoreCase?"ui":"u"}z0(T71,"flags");function MN0(Y,J,X){return C71(S71(Y,X),J,X)}z0(MN0,"stringToRegexp");function Kz(Y){switch(Y){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}z0(Kz,"modifierToString");function C71(Y,J,X={}){X.delimiter??="/#?",X.prefixes??="./",X.sensitive??=!1,X.strict??=!1,X.end??=!0,X.start??=!0,X.endsWith="";let Z=X.start?"^":"";for(let Q of Y){if(Q.type===3){Q.modifier===3?Z+=R7(Q.value):Z+=`(?:${R7(Q.value)})${Kz(Q.modifier)}`;continue}J&&J.push(Q.name);let U=`[^${R7(X.delimiter)}]+?`,z=Q.value;if(Q.type===1?z=U:Q.type===0&&(z=E71),!Q.prefix.length&&!Q.suffix.length){Q.modifier===3||Q.modifier===1?Z+=`(${z})${Kz(Q.modifier)}`:Z+=`((?:${z})${Kz(Q.modifier)})`;continue}if(Q.modifier===3||Q.modifier===1){Z+=`(?:${R7(Q.prefix)}(${z})${R7(Q.suffix)})`,Z+=Kz(Q.modifier);continue}Z+=`(?:${R7(Q.prefix)}`,Z+=`((?:${z})(?:`,Z+=R7(Q.suffix),Z+=R7(Q.prefix),Z+=`(?:${z}))*)${R7(Q.suffix)})`,Q.modifier===0&&(Z+="?")}let W=`[${R7(X.endsWith)}]|$`,$=`[${R7(X.delimiter)}]`;if(X.end)return X.strict||(Z+=`${$}?`),X.endsWith.length?Z+=`(?=${W})`:Z+="$",new RegExp(Z,T71(X));X.strict||(Z+=`(?:${$}(?=${W}))?`);let G=!1;if(Y.length){let Q=Y[Y.length-1];Q.type===3&&Q.modifier===3&&(G=X.delimiter.indexOf(Q)>-1)}return G||(Z+=`(?=${$}|${W})`),new RegExp(Z,T71(X))}z0(C71,"partsToRegexp");var HG={delimiter:"",prefixes:"",sensitive:!0,strict:!0},Nx6={delimiter:".",prefixes:"",sensitive:!0,strict:!0},Sx6={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function EN0(Y,J){return Y.length?Y[0]==="/"?!0:!J||Y.length<2?!1:(Y[0]=="\\"||Y[0]=="{")&&Y[1]=="/":!1}z0(EN0,"isAbsolutePathname");function j71(Y,J){return Y.startsWith(J)?Y.substring(J.length,Y.length):Y}z0(j71,"maybeStripPrefix");function TN0(Y,J){return Y.endsWith(J)?Y.substr(0,Y.length-J.length):Y}z0(TN0,"maybeStripSuffix");function k71(Y){return!Y||Y.length<2?!1:Y[0]==="["||(Y[0]==="\\"||Y[0]==="{")&&Y[1]==="["}z0(k71,"treatAsIPv6Hostname");var RN0=["ftp","file","http","https","ws","wss"];function _71(Y){if(!Y)return!0;for(let J of RN0)if(Y.test(J))return!0;return!1}z0(_71,"isSpecialScheme");function NN0(Y,J){if(Y=j71(Y,"#"),J||Y==="")return Y;let X=new URL("https://example.com");return X.hash=Y,X.hash?X.hash.substring(1,X.hash.length):""}z0(NN0,"canonicalizeHash");function SN0(Y,J){if(Y=j71(Y,"?"),J||Y==="")return Y;let X=new URL("https://example.com");return X.search=Y,X.search?X.search.substring(1,X.search.length):""}z0(SN0,"canonicalizeSearch");function CN0(Y,J){return J||Y===""?Y:k71(Y)?v71(Y):f71(Y)}z0(CN0,"canonicalizeHostname");function jN0(Y,J){if(J||Y==="")return Y;let X=new URL("https://example.com");return X.password=Y,X.password}z0(jN0,"canonicalizePassword");function kN0(Y,J){if(J||Y==="")return Y;let X=new URL("https://example.com");return X.username=Y,X.username}z0(kN0,"canonicalizeUsername");function _N0(Y,J,X){if(X||Y==="")return Y;if(J&&!RN0.includes(J))return new URL(`${J}:${Y}`).pathname;let Z=Y[0]=="/";return Y=new URL(Z?Y:"/-"+Y,"https://example.com").pathname,Z||(Y=Y.substring(2,Y.length)),Y}z0(_N0,"canonicalizePathname");function xN0(Y,J,X){return x71(J)===Y&&(Y=""),X||Y===""?Y:h71(Y)}z0(xN0,"canonicalizePort");function fN0(Y,J){return Y=TN0(Y,":"),J||Y===""?Y:f_(Y)}z0(fN0,"canonicalizeProtocol");function x71(Y){switch(Y){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}z0(x71,"defaultPortForProtocol");function f_(Y){if(Y==="")return Y;if(/^[-+.A-Za-z0-9]*$/.test(Y))return Y.toLowerCase();throw TypeError(`Invalid protocol '${Y}'.`)}z0(f_,"protocolEncodeCallback");function vN0(Y){if(Y==="")return Y;let J=new URL("https://example.com");return J.username=Y,J.username}z0(vN0,"usernameEncodeCallback");function hN0(Y){if(Y==="")return Y;let J=new URL("https://example.com");return J.password=Y,J.password}z0(hN0,"passwordEncodeCallback");function f71(Y){if(Y==="")return Y;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(Y))throw TypeError(`Invalid hostname '${Y}'`);let J=new URL("https://example.com");return J.hostname=Y,J.hostname}z0(f71,"hostnameEncodeCallback");function v71(Y){if(Y==="")return Y;if(/[^0-9a-fA-F[\]:]/g.test(Y))throw TypeError(`Invalid IPv6 hostname '${Y}'`);return Y.toLowerCase()}z0(v71,"ipv6HostnameEncodeCallback");function h71(Y){if(Y===""||/^[0-9]*$/.test(Y)&&parseInt(Y)<=65535)return Y;throw TypeError(`Invalid port '${Y}'.`)}z0(h71,"portEncodeCallback");function bN0(Y){if(Y==="")return Y;let J=new URL("https://example.com");return J.pathname=Y[0]!=="/"?"/-"+Y:Y,Y[0]!=="/"?J.pathname.substring(2,J.pathname.length):J.pathname}z0(bN0,"standardURLPathnameEncodeCallback");function yN0(Y){return Y===""?Y:new URL(`data:${Y}`).pathname}z0(yN0,"pathURLPathnameEncodeCallback");function gN0(Y){if(Y==="")return Y;let J=new URL("https://example.com");return J.search=Y,J.search.substring(1,J.search.length)}z0(gN0,"searchEncodeCallback");function uN0(Y){if(Y==="")return Y;let J=new URL("https://example.com");return J.hash=Y,J.hash.substring(1,J.hash.length)}z0(uN0,"hashEncodeCallback");var mN0=class{#W;#Z=[];#G={};#X=0;#F=1;#T=0;#z=0;#w=0;#$=0;#U=!1;constructor(Y){this.#W=Y}get result(){return this.#G}parse(){for(this.#Z=N71(this.#W,!0);this.#X<this.#Z.length;this.#X+=this.#F){if(this.#F=1,this.#Z[this.#X].type==="END"){if(this.#z===0){this.#J(),this.#R()?this.#Y(9,1):this.#V()?this.#Y(8,1):this.#Y(7,0);continue}else if(this.#z===2){this.#B(5);continue}this.#Y(10,0);break}if(this.#w>0)if(this.#P())this.#w-=1;else continue;if(this.#k()){this.#w+=1;continue}switch(this.#z){case 0:this.#O()&&this.#B(1);break;case 1:if(this.#O()){this.#C();let Y=7,J=1;this.#M()?(Y=2,J=3):this.#U&&(Y=2),this.#Y(Y,J)}break;case 2:this.#I()?this.#B(3):(this.#L()||this.#V()||this.#R())&&this.#B(5);break;case 3:this.#A()?this.#Y(4,1):this.#I()&&this.#Y(5,1);break;case 4:this.#I()&&this.#Y(5,1);break;case 5:this.#h()?this.#$+=1:this.#S()&&(this.#$-=1),this.#E()&&!this.#$?this.#Y(6,1):this.#L()?this.#Y(7,0):this.#V()?this.#Y(8,1):this.#R()&&this.#Y(9,1);break;case 6:this.#L()?this.#Y(7,0):this.#V()?this.#Y(8,1):this.#R()&&this.#Y(9,1);break;case 7:this.#V()?this.#Y(8,1):this.#R()&&this.#Y(9,1);break;case 8:this.#R()&&this.#Y(9,1);break;case 9:break;case 10:break}}this.#G.hostname!==void 0&&this.#G.port===void 0&&(this.#G.port="")}#Y(Y,J){switch(this.#z){case 0:break;case 1:this.#G.protocol=this.#N();break;case 2:break;case 3:this.#G.username=this.#N();break;case 4:this.#G.password=this.#N();break;case 5:this.#G.hostname=this.#N();break;case 6:this.#G.port=this.#N();break;case 7:this.#G.pathname=this.#N();break;case 8:this.#G.search=this.#N();break;case 9:this.#G.hash=this.#N();break;case 10:break}this.#z!==0&&Y!==10&&([1,2,3,4].includes(this.#z)&&[6,7,8,9].includes(Y)&&(this.#G.hostname??=""),[1,2,3,4,5,6].includes(this.#z)&&[8,9].includes(Y)&&(this.#G.pathname??=this.#U?"/":""),[1,2,3,4,5,6,7].includes(this.#z)&&Y===9&&(this.#G.search??="")),this.#Q(Y,J)}#Q(Y,J){this.#z=Y,this.#T=this.#X+J,this.#X+=J,this.#F=0}#J(){this.#X=this.#T,this.#F=0}#B(Y){this.#J(),this.#z=Y}#q(Y){return Y<0&&(Y=this.#Z.length-Y),Y<this.#Z.length?this.#Z[Y]:this.#Z[this.#Z.length-1]}#H(Y,J){let X=this.#q(Y);return X.value===J&&(X.type==="CHAR"||X.type==="ESCAPED_CHAR"||X.type==="INVALID_CHAR")}#O(){return this.#H(this.#X,":")}#M(){return this.#H(this.#X+1,"/")&&this.#H(this.#X+2,"/")}#I(){return this.#H(this.#X,"@")}#A(){return this.#H(this.#X,":")}#E(){return this.#H(this.#X,":")}#L(){return this.#H(this.#X,"/")}#V(){if(this.#H(this.#X,"?"))return!0;if(this.#Z[this.#X].value!=="?")return!1;let Y=this.#q(this.#X-1);return Y.type!=="NAME"&&Y.type!=="REGEX"&&Y.type!=="CLOSE"&&Y.type!=="ASTERISK"}#R(){return this.#H(this.#X,"#")}#k(){return this.#Z[this.#X].type=="OPEN"}#P(){return this.#Z[this.#X].type=="CLOSE"}#h(){return this.#H(this.#X,"[")}#S(){return this.#H(this.#X,"]")}#N(){let Y=this.#Z[this.#X],J=this.#q(this.#T).index;return this.#W.substring(J,Y.index)}#C(){let Y={};Object.assign(Y,HG),Y.encodePart=f_;let J=MN0(this.#N(),void 0,Y);this.#U=_71(J)}};z0(mN0,"Parser");var M71=["protocol","username","password","hostname","port","pathname","search","hash"],zG="*";function R71(Y,J){if(typeof Y!="string")throw TypeError("parameter 1 is not of type 'string'.");let X=new URL(Y,J);return{protocol:X.protocol.substring(0,X.protocol.length-1),username:X.username,password:X.password,hostname:X.hostname,port:X.port,pathname:X.pathname,search:X.search!==""?X.search.substring(1,X.search.length):void 0,hash:X.hash!==""?X.hash.substring(1,X.hash.length):void 0}}z0(R71,"extractValues");function T3(Y,J){return J?lB(Y):Y}z0(T3,"processBaseURLString");function cB(Y,J,X){let Z;if(typeof J.baseURL=="string")try{Z=new URL(J.baseURL),J.protocol===void 0&&(Y.protocol=T3(Z.protocol.substring(0,Z.protocol.length-1),X)),!X&&J.protocol===void 0&&J.hostname===void 0&&J.port===void 0&&J.username===void 0&&(Y.username=T3(Z.username,X)),!X&&J.protocol===void 0&&J.hostname===void 0&&J.port===void 0&&J.username===void 0&&J.password===void 0&&(Y.password=T3(Z.password,X)),J.protocol===void 0&&J.hostname===void 0&&(Y.hostname=T3(Z.hostname,X)),J.protocol===void 0&&J.hostname===void 0&&J.port===void 0&&(Y.port=T3(Z.port,X)),J.protocol===void 0&&J.hostname===void 0&&J.port===void 0&&J.pathname===void 0&&(Y.pathname=T3(Z.pathname,X)),J.protocol===void 0&&J.hostname===void 0&&J.port===void 0&&J.pathname===void 0&&J.search===void 0&&(Y.search=T3(Z.search.substring(1,Z.search.length),X)),J.protocol===void 0&&J.hostname===void 0&&J.port===void 0&&J.pathname===void 0&&J.search===void 0&&J.hash===void 0&&(Y.hash=T3(Z.hash.substring(1,Z.hash.length),X))}catch{throw TypeError(`invalid baseURL '${J.baseURL}'.`)}if(typeof J.protocol=="string"&&(Y.protocol=fN0(J.protocol,X)),typeof J.username=="string"&&(Y.username=kN0(J.username,X)),typeof J.password=="string"&&(Y.password=jN0(J.password,X)),typeof J.hostname=="string"&&(Y.hostname=CN0(J.hostname,X)),typeof J.port=="string"&&(Y.port=xN0(J.port,Y.protocol,X)),typeof J.pathname=="string"){if(Y.pathname=J.pathname,Z&&!EN0(Y.pathname,X)){let W=Z.pathname.lastIndexOf("/");W>=0&&(Y.pathname=T3(Z.pathname.substring(0,W+1),X)+Y.pathname)}Y.pathname=_N0(Y.pathname,Y.protocol,X)}return typeof J.search=="string"&&(Y.search=SN0(J.search,X)),typeof J.hash=="string"&&(Y.hash=NN0(J.hash,X)),Y}z0(cB,"applyInit");function lB(Y){return Y.replace(/([+*?:{}()\\])/g,"\\$1")}z0(lB,"escapePatternString");function dN0(Y){return Y.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}z0(dN0,"escapeRegexpString");function cN0(Y,J){J.delimiter??="/#?",J.prefixes??="./",J.sensitive??=!1,J.strict??=!1,J.end??=!0,J.start??=!0,J.endsWith="";let X=".*",Z=`[^${dN0(J.delimiter)}]+?`,W=/[$_\u200C\u200D\p{ID_Continue}]/u,$="";for(let G=0;G<Y.length;++G){let Q=Y[G];if(Q.type===3){if(Q.modifier===3){$+=lB(Q.value);continue}$+=`{${lB(Q.value)}}${Kz(Q.modifier)}`;continue}let U=Q.hasCustomName(),z=!!Q.suffix.length||!!Q.prefix.length&&(Q.prefix.length!==1||!J.prefixes.includes(Q.prefix)),H=G>0?Y[G-1]:null,O=G<Y.length-1?Y[G+1]:null;if(!z&&U&&Q.type===1&&Q.modifier===3&&O&&!O.prefix.length&&!O.suffix.length)if(O.type===3){let K=O.value.length>0?O.value[0]:"";z=W.test(K)}else z=!O.hasCustomName();if(!z&&!Q.prefix.length&&H&&H.type===3){let K=H.value[H.value.length-1];z=J.prefixes.includes(K)}z&&($+="{"),$+=lB(Q.prefix),U&&($+=`:${Q.name}`),Q.type===2?$+=`(${Q.value})`:Q.type===1?U||($+=`(${Z})`):Q.type===0&&(!U&&(!H||H.type===3||H.modifier!==3||z||Q.prefix!=="")?$+="*":$+=`(${X})`),Q.type===1&&U&&Q.suffix.length&&W.test(Q.suffix[0])&&($+="\\"),$+=lB(Q.suffix),z&&($+="}"),Q.modifier!==3&&($+=Kz(Q.modifier))}return $}z0(cN0,"partsToPattern");var lN0=class{#W;#Z={};#G={};#X={};#F={};#T=!1;constructor(Y={},J,X){try{let Z;if(typeof J=="string"?Z=J:X=J,typeof Y=="string"){let Q=new mN0(Y);if(Q.parse(),Y=Q.result,Z===void 0&&typeof Y.protocol!="string")throw TypeError("A base URL must be provided for a relative constructor string.");Y.baseURL=Z}else{if(!Y||typeof Y!="object")throw TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(Z)throw TypeError("parameter 1 is not of type 'string'.")}typeof X>"u"&&(X={ignoreCase:!1});let W={ignoreCase:X.ignoreCase===!0},$={pathname:zG,protocol:zG,username:zG,password:zG,hostname:zG,port:zG,search:zG,hash:zG};this.#W=cB($,Y,!0),x71(this.#W.protocol)===this.#W.port&&(this.#W.port="");let G;for(G of M71){if(!(G in this.#W))continue;let Q={},U=this.#W[G];switch(this.#G[G]=[],G){case"protocol":Object.assign(Q,HG),Q.encodePart=f_;break;case"username":Object.assign(Q,HG),Q.encodePart=vN0;break;case"password":Object.assign(Q,HG),Q.encodePart=hN0;break;case"hostname":Object.assign(Q,Nx6),k71(U)?Q.encodePart=v71:Q.encodePart=f71;break;case"port":Object.assign(Q,HG),Q.encodePart=h71;break;case"pathname":_71(this.#Z.protocol)?(Object.assign(Q,Sx6,W),Q.encodePart=bN0):(Object.assign(Q,HG,W),Q.encodePart=yN0);break;case"search":Object.assign(Q,HG,W),Q.encodePart=gN0;break;case"hash":Object.assign(Q,HG,W),Q.encodePart=uN0;break}try{this.#F[G]=S71(U,Q),this.#Z[G]=C71(this.#F[G],this.#G[G],Q),this.#X[G]=cN0(this.#F[G],Q),this.#T=this.#T||this.#F[G].some((z)=>z.type===2)}catch{throw TypeError(`invalid ${G} pattern '${this.#W[G]}'.`)}}}catch(Z){throw TypeError(`Failed to construct 'URLPattern': ${Z.message}`)}}get[Symbol.toStringTag](){return"URLPattern"}test(Y={},J){let X={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof Y!="string"&&J)throw TypeError("parameter 1 is not of type 'string'.");if(typeof Y>"u")return!1;try{typeof Y=="object"?X=cB(X,Y,!1):X=cB(X,R71(Y,J),!1)}catch{return!1}let Z;for(Z of M71)if(!this.#Z[Z].exec(X[Z]))return!1;return!0}exec(Y={},J){let X={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof Y!="string"&&J)throw TypeError("parameter 1 is not of type 'string'.");if(typeof Y>"u")return;try{typeof Y=="object"?X=cB(X,Y,!1):X=cB(X,R71(Y,J),!1)}catch{return null}let Z={};J?Z.inputs=[Y,J]:Z.inputs=[Y];let W;for(W of M71){let $=this.#Z[W].exec(X[W]);if(!$)return null;let G={};for(let[Q,U]of this.#G[W].entries())if(typeof U=="string"||typeof U=="number"){let z=$[Q+1];G[U]=z}Z[W]={input:X[W]??"",groups:G}}return Z}static compareComponent(Y,J,X){let Z=z0((Q,U)=>{for(let z of["type","modifier","prefix","value","suffix"]){if(Q[z]<U[z])return-1;if(Q[z]===U[z])continue;return 1}return 0},"comparePart"),W=new pB(3,"","","","",3),$=new pB(0,"","","","",3),G=z0((Q,U)=>{let z=0;for(;z<Math.min(Q.length,U.length);++z){let H=Z(Q[z],U[z]);if(H)return H}return Q.length===U.length?0:Z(Q[z]??W,U[z]??W)},"comparePartList");return!J.#X[Y]&&!X.#X[Y]?0:J.#X[Y]&&!X.#X[Y]?G(J.#F[Y],[$]):!J.#X[Y]&&X.#X[Y]?G([$],X.#F[Y]):G(J.#F[Y],X.#F[Y])}get protocol(){return this.#X.protocol}get username(){return this.#X.username}get password(){return this.#X.password}get hostname(){return this.#X.hostname}get port(){return this.#X.port}get pathname(){return this.#X.pathname}get search(){return this.#X.search}get hash(){return this.#X.hash}get hasRegExpGroups(){return this.#T}};z0(lN0,"URLPattern")});var v_=q((BR8,oN0)=>{var{URLPattern:iN0}=nN0();oN0.exports={URLPattern:iN0};if(!globalThis.URLPattern)globalThis.URLPattern=iN0});var q8=q((YS0)=>{Object.defineProperty(YS0,"__esModule",{value:!0});YS0.isPromise=h_;YS0.isActualPromise=aN0;YS0.handleMaybePromise=OG;YS0.fakePromise=R3;YS0.createDeferredPromise=Cx6;YS0.iterateAsync=sN0;YS0.iterateAsyncVoid=sN0;YS0.fakeRejectPromise=Bz;YS0.mapMaybePromise=jx6;YS0.mapAsyncIterator=kx6;YS0.promiseLikeFinally=tN0;YS0.unfakePromise=eN0;var b_=Symbol.for("@whatwg-node/promise-helpers/FakePromise");function h_(Y){return Y?.then!=null}function aN0(Y){let J=Y;return J&&J.then&&J.catch&&J.finally}function OG(Y,J,X,Z){let W=R3().then(Y).then(J,X);if(Z)W=W.finally(Z);return eN0(W)}function R3(Y){if(Y&&aN0(Y))return Y;if(h_(Y))return{then:(J,X)=>R3(Y.then(J,X)),catch:(J)=>R3(Y.then((X)=>X,J)),finally:(J)=>R3(J?tN0(Y,J):Y),[Symbol.toStringTag]:"Promise"};return{then(J){if(J)try{return R3(J(Y))}catch(X){return Bz(X)}return this},catch(){return this},finally(J){if(J)try{return R3(J()).then(()=>Y,()=>Y)}catch(X){return Bz(X)}return this},[Symbol.toStringTag]:"Promise",__fakePromiseValue:Y,[b_]:"resolved"}}function Cx6(){if(Promise.withResolvers)return Promise.withResolvers();let Y,J;return{promise:new Promise(function(W,$){Y=W,J=$}),get resolve(){return Y},get reject(){return J}}}function sN0(Y,J,X){if(Y?.length===0)return;let Z=Y[Symbol.iterator](),W=0;function $(){let{done:G,value:Q}=Z.next();if(G)return;let U=!1;function z(){U=!0}return OG(function(){return J(Q,z,W++)},function(O){if(O)X?.push(O);if(U)return;return $()})}return $()}function Bz(Y){return{then(J,X){if(X)try{return R3(X(Y))}catch(Z){return Bz(Z)}return this},catch(J){if(J)try{return R3(J(Y))}catch(X){return Bz(X)}return this},finally(J){if(J)try{J()}catch(X){return Bz(X)}return this},__fakeRejectError:Y,[Symbol.toStringTag]:"Promise",[b_]:"rejected"}}function jx6(Y,J,X){return OG(()=>Y,J,X)}function kx6(Y,J,X,Z){if(Symbol.asyncIterator in Y)Y=Y[Symbol.asyncIterator]();let W,$,G;if(Z){let z;G=(H)=>{return z||=OG(Z,()=>H,()=>H),z}}if(typeof Y.return==="function")W=Y.return,$=(z)=>{let H=()=>{throw z};return W.call(Y).then(H,H)};function Q(z){if(z.done)return G?G(z):z;return OG(()=>z.value,(H)=>OG(()=>J(H),rN0,$))}let U;if(X){let z,H=X;U=(O)=>{return z||=OG(()=>O,(K)=>OG(()=>H(K),rN0,$)),z}}return{next(){return Y.next().then(Q,U)},return(){let z=W?W.call(Y).then(Q,U):R3({value:void 0,done:!0});return G?z.then(G):z},throw(z){if(typeof Y.throw==="function")return Y.throw(z).then(Q,U);if($)return $(z);return Bz(z)},[Symbol.asyncIterator](){return this}}}function rN0(Y){return{value:Y,done:!1}}function _x6(Y){return Y?.[b_]==="resolved"}function xx6(Y){return Y?.[b_]==="rejected"}function tN0(Y,J){if("finally"in Y)return Y.finally(J);return Y.then((X)=>{let Z=J();return h_(Z)?Z.then(()=>X):X},(X)=>{let Z=J();if(h_(Z))return Z.then(()=>{throw X});else throw X})}function eN0(Y){if(_x6(Y))return Y.__fakePromiseValue;if(xx6(Y))throw Y.__fakeRejectError;return Y}});var b71=q((FR8,JS0)=>{var{EventEmitter:nx6}=C("events"),{inherits:ix6}=C("util");function qz(Y){if(typeof Y==="string")Y=Buffer.from(Y);if(!Buffer.isBuffer(Y))throw TypeError("The needle has to be a String or a Buffer.");let J=Y.length,X=J-1;if(J===0)throw Error("The needle cannot be an empty String/Buffer.");if(J>256)throw Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=new Uint8Array(256).fill(J),this._lookbehind_size=0,this._needle=Y,this._bufpos=0,this._lookbehind=Buffer.alloc(X);for(var Z=0;Z<X;++Z)this._occ[Y[Z]]=X-Z}ix6(qz,nx6);qz.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0};qz.prototype.push=function(Y,J){if(!Buffer.isBuffer(Y))Y=Buffer.from(Y,"binary");let X=Y.length;this._bufpos=J||0;let Z;while(Z!==X&&this.matches<this.maxMatches)Z=this._sbmh_feed(Y);return Z};qz.prototype._sbmh_feed=function(Y){let J=Y.length,X=this._needle,Z=X.length,W=Z-1,$=X[W],G=-this._lookbehind_size,Q;if(G<0){while(G<0&&G<=J-Z){if(Q=Y[G+W],Q===$&&this._sbmh_memcmp(Y,G,W))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=G+Z;G+=this._occ[Q]}while(G<0&&!this._sbmh_memcmp(Y,G,J-G))++G;if(G>=0)this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{let U=this._lookbehind_size+G;if(U>0)this.emit("info",!1,this._lookbehind,0,U);return this._lookbehind_size-=U,this._lookbehind.copy(this._lookbehind,0,U,this._lookbehind_size),Y.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=J,this._bufpos=J,J}}if(G=Y.indexOf(X,G+this._bufpos),G!==-1){if(++this.matches,G===0)this.emit("info",!0);else this.emit("info",!0,Y,this._bufpos,G);return this._bufpos=G+Z}if(G=J-W,G<0)G=0;while(G!==J&&(Y[G]!==X[0]||Buffer.compare(Y.subarray(G+1,J),X.subarray(1,J-G))!==0))++G;if(G!==J)Y.copy(this._lookbehind,0,G,J),this._lookbehind_size=J-G;if(G!==0)this.emit("info",!1,Y,this._bufpos,G);return this._bufpos=J,J};qz.prototype._sbmh_lookup_char=function(Y,J){return J<0?this._lookbehind[this._lookbehind_size+J]:Y[J]};qz.prototype._sbmh_memcmp=function(Y,J,X){for(var Z=0;Z<X;++Z)if(this._sbmh_lookup_char(Y,J+Z)!==this._needle[Z])return!1;return!0};JS0.exports=qz});var WS0=q((VR8,ZS0)=>{var ox6=C("util").inherits,XS0=C("stream").Readable;function y71(Y){XS0.call(this,Y)}ox6(y71,XS0);y71.prototype._read=function(Y){};ZS0.exports=y71});var y_=q((IR8,$S0)=>{$S0.exports=function(J,X,Z){if(!J||J[X]===void 0||J[X]===null)return Z;if(typeof J[X]!=="number"||isNaN(J[X]))throw TypeError("Limit "+X+" is not a valid number");return J[X]}});var zS0=q((DR8,US0)=>{var QS0=C("events").EventEmitter,rx6=C("util").inherits,GS0=y_(),ax6=b71(),sx6=Buffer.from(`\r
\r
`),tx6=/\r\n/g,ex6=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function nB(Y){QS0.call(this),Y=Y||{};let J=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=GS0(Y,"maxHeaderPairs",2000),this.maxHeaderSize=GS0(Y,"maxHeaderSize",81920),this.buffer="",this.header={},this.finished=!1,this.ss=new ax6(sx6),this.ss.on("info",function(X,Z,W,$){if(Z&&!J.maxed){if(J.nread+$-W>=J.maxHeaderSize)$=J.maxHeaderSize-J.nread+W,J.nread=J.maxHeaderSize,J.maxed=!0;else J.nread+=$-W;J.buffer+=Z.toString("binary",W,$)}if(X)J._finish()})}rx6(nB,QS0);nB.prototype.push=function(Y){let J=this.ss.push(Y);if(this.finished)return J};nB.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()};nB.prototype._finish=function(){if(this.buffer)this._parseHeader();this.ss.matches=this.ss.maxMatches;let Y=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",Y)};nB.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs)return;let Y=this.buffer.split(tx6),J=Y.length,X,Z;for(var W=0;W<J;++W){if(Y[W].length===0)continue;if(Y[W][0]==="\t"||Y[W][0]===" "){if(Z){this.header[Z][this.header[Z].length-1]+=Y[W];continue}}let $=Y[W].indexOf(":");if($===-1||$===0)return;if(X=ex6.exec(Y[W]),Z=X[1].toLowerCase(),this.header[Z]=this.header[Z]||[],this.header[Z].push(X[2]||""),++this.npairs===this.maxHeaderPairs)break}};US0.exports=nB});var u71=q((wR8,OS0)=>{var g71=C("stream").Writable,Yf6=C("util").inherits,Jf6=b71(),HS0=WS0(),Xf6=zS0(),Zf6=Buffer.from("-"),Wf6=Buffer.from(`\r
`),$f6=function(){};function lJ(Y){if(!(this instanceof lJ))return new lJ(Y);if(g71.call(this,Y),!Y||!Y.headerFirst&&typeof Y.boundary!=="string")throw TypeError("Boundary required");if(typeof Y.boundary==="string")this.setBoundary(Y.boundary);else this._bparser=void 0;this._headerFirst=Y.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:Y.partHwm},this._pause=!1;let J=this;this._hparser=new Xf6(Y),this._hparser.on("header",function(X){J._inHeader=!1,J._part.emit("header",X)})}Yf6(lJ,g71);lJ.prototype.emit=function(Y){if(Y==="finish"&&!this._realFinish){if(!this._finished){let J=this;process.nextTick(function(){if(J.emit("error",Error("Unexpected end of multipart data")),J._part&&!J._ignoreData){let X=J._isPreamble?"Preamble":"Part";J._part.emit("error",Error(X+" terminated early due to unexpected end of multipart data")),J._part.push(null),process.nextTick(function(){J._realFinish=!0,J.emit("finish"),J._realFinish=!1});return}J._realFinish=!0,J.emit("finish"),J._realFinish=!1})}}else g71.prototype.emit.apply(this,arguments)};lJ.prototype._write=function(Y,J,X){if(!this._hparser&&!this._bparser)return X();if(this._headerFirst&&this._isPreamble){if(!this._part)if(this._part=new HS0(this._partOpts),this.listenerCount("preamble")!==0)this.emit("preamble",this._part);else this._ignore();let Z=this._hparser.push(Y);if(!this._inHeader&&Z!==void 0&&Z<Y.length)Y=Y.slice(Z);else return X()}if(this._firstWrite)this._bparser.push(Wf6),this._firstWrite=!1;if(this._bparser.push(Y),this._pause)this._cb=X;else X()};lJ.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0};lJ.prototype.setBoundary=function(Y){let J=this;this._bparser=new Jf6(`\r
--`+Y),this._bparser.on("info",function(X,Z,W,$){J._oninfo(X,Z,W,$)})};lJ.prototype._ignore=function(){if(this._part&&!this._ignoreData)this._ignoreData=!0,this._part.on("error",$f6),this._part.resume()};lJ.prototype._oninfo=function(Y,J,X,Z){let W,$=this,G=0,Q,U=!0;if(!this._part&&this._justMatched&&J){while(this._dashes<2&&X+G<Z)if(J[X+G]===45)++G,++this._dashes;else{if(this._dashes)W=Zf6;this._dashes=0;break}if(this._dashes===2){if(X+G<Z&&this.listenerCount("trailer")!==0)this.emit("trailer",J.slice(X+G,Z));if(this.reset(),this._finished=!0,$._parts===0)$._realFinish=!0,$.emit("finish"),$._realFinish=!1}if(this._dashes)return}if(this._justMatched)this._justMatched=!1;if(!this._part){if(this._part=new HS0(this._partOpts),this._part._read=function(z){$._unpause()},this._isPreamble&&this.listenerCount("preamble")!==0)this.emit("preamble",this._part);else if(this._isPreamble!==!0&&this.listenerCount("part")!==0)this.emit("part",this._part);else this._ignore();if(!this._isPreamble)this._inHeader=!0}if(J&&X<Z&&!this._ignoreData){if(this._isPreamble||!this._inHeader){if(W)U=this._part.push(W);if(U=this._part.push(J.slice(X,Z)),!U)this._pause=!0}else if(!this._isPreamble&&this._inHeader){if(W)this._hparser.push(W);if(Q=this._hparser.push(J.slice(X,Z)),!this._inHeader&&Q!==void 0&&Q<Z)this._oninfo(!1,J,X+Q,Z)}}if(Y){if(this._hparser.reset(),this._isPreamble)this._isPreamble=!1;else if(X!==Z)++this._parts,this._part.on("end",function(){if(--$._parts===0)if($._finished)$._realFinish=!0,$.emit("finish"),$._realFinish=!1;else $._unpause()});this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0}};lJ.prototype._unpause=function(){if(!this._pause)return;if(this._pause=!1,this._cb){let Y=this._cb;this._cb=void 0,Y()}};OS0.exports=lJ});var g_=q((m71,qS0)=>{var KS0=new TextDecoder("utf-8"),BS0=new Map([["utf-8",KS0],["utf8",KS0]]);function Gf6(Y){let J;while(!0)switch(Y){case"utf-8":case"utf8":return qP.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return qP.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return qP.utf16le;case"base64":return qP.base64;default:if(J===void 0){J=!0,Y=Y.toLowerCase();continue}return qP.other.bind(Y)}}var qP={utf8:(Y,J)=>{if(Y.length===0)return"";if(typeof Y==="string")Y=Buffer.from(Y,J);return Y.utf8Slice(0,Y.length)},latin1:(Y,J)=>{if(Y.length===0)return"";if(typeof Y==="string")return Y;return Y.latin1Slice(0,Y.length)},utf16le:(Y,J)=>{if(Y.length===0)return"";if(typeof Y==="string")Y=Buffer.from(Y,J);return Y.ucs2Slice(0,Y.length)},base64:(Y,J)=>{if(Y.length===0)return"";if(typeof Y==="string")Y=Buffer.from(Y,J);return Y.base64Slice(0,Y.length)},other:(Y,J)=>{if(Y.length===0)return"";if(typeof Y==="string")Y=Buffer.from(Y,J);if(BS0.has(m71.toString()))try{return BS0.get(m71).decode(Y)}catch{}return typeof Y==="string"?Y:Y.toString()}};function Qf6(Y,J,X){if(Y)return Gf6(X)(Y,J);return Y}qS0.exports=Qf6});var c71=q((AR8,wS0)=>{var u_=g_(),FS0=/%[a-fA-F0-9][a-fA-F0-9]/g,Uf6={"%00":"\x00","%01":"\x01","%02":"\x02","%03":"\x03","%04":"\x04","%05":"\x05","%06":"\x06","%07":"\x07","%08":"\b","%09":"\t","%0a":`
`,"%0A":`
`,"%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"\x0E","%0E":"\x0E","%0f":"\x0F","%0F":"\x0F","%10":"\x10","%11":"\x11","%12":"\x12","%13":"\x13","%14":"\x14","%15":"\x15","%16":"\x16","%17":"\x17","%18":"\x18","%19":"\x19","%1a":"\x1A","%1A":"\x1A","%1b":"\x1B","%1B":"\x1B","%1c":"\x1C","%1C":"\x1C","%1d":"\x1D","%1D":"\x1D","%1e":"\x1E","%1E":"\x1E","%1f":"\x1F","%1F":"\x1F","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"\x7F","%7F":"\x7F","%80":"\x80","%81":"\x81","%82":"\x82","%83":"\x83","%84":"\x84","%85":"\x85","%86":"\x86","%87":"\x87","%88":"\x88","%89":"\x89","%8a":"\x8A","%8A":"\x8A","%8b":"\x8B","%8B":"\x8B","%8c":"\x8C","%8C":"\x8C","%8d":"\x8D","%8D":"\x8D","%8e":"\x8E","%8E":"\x8E","%8f":"\x8F","%8F":"\x8F","%90":"\x90","%91":"\x91","%92":"\x92","%93":"\x93","%94":"\x94","%95":"\x95","%96":"\x96","%97":"\x97","%98":"\x98","%99":"\x99","%9a":"\x9A","%9A":"\x9A","%9b":"\x9B","%9B":"\x9B","%9c":"\x9C","%9C":"\x9C","%9d":"\x9D","%9D":"\x9D","%9e":"\x9E","%9E":"\x9E","%9f":"\x9F","%9F":"\x9F","%a0":"\xA0","%A0":"\xA0","%a1":"\xA1","%A1":"\xA1","%a2":"\xA2","%A2":"\xA2","%a3":"\xA3","%A3":"\xA3","%a4":"\xA4","%A4":"\xA4","%a5":"\xA5","%A5":"\xA5","%a6":"\xA6","%A6":"\xA6","%a7":"\xA7","%A7":"\xA7","%a8":"\xA8","%A8":"\xA8","%a9":"\xA9","%A9":"\xA9","%aa":"\xAA","%Aa":"\xAA","%aA":"\xAA","%AA":"\xAA","%ab":"\xAB","%Ab":"\xAB","%aB":"\xAB","%AB":"\xAB","%ac":"\xAC","%Ac":"\xAC","%aC":"\xAC","%AC":"\xAC","%ad":"\xAD","%Ad":"\xAD","%aD":"\xAD","%AD":"\xAD","%ae":"\xAE","%Ae":"\xAE","%aE":"\xAE","%AE":"\xAE","%af":"\xAF","%Af":"\xAF","%aF":"\xAF","%AF":"\xAF","%b0":"\xB0","%B0":"\xB0","%b1":"\xB1","%B1":"\xB1","%b2":"\xB2","%B2":"\xB2","%b3":"\xB3","%B3":"\xB3","%b4":"\xB4","%B4":"\xB4","%b5":"\xB5","%B5":"\xB5","%b6":"\xB6","%B6":"\xB6","%b7":"\xB7","%B7":"\xB7","%b8":"\xB8","%B8":"\xB8","%b9":"\xB9","%B9":"\xB9","%ba":"\xBA","%Ba":"\xBA","%bA":"\xBA","%BA":"\xBA","%bb":"\xBB","%Bb":"\xBB","%bB":"\xBB","%BB":"\xBB","%bc":"\xBC","%Bc":"\xBC","%bC":"\xBC","%BC":"\xBC","%bd":"\xBD","%Bd":"\xBD","%bD":"\xBD","%BD":"\xBD","%be":"\xBE","%Be":"\xBE","%bE":"\xBE","%BE":"\xBE","%bf":"\xBF","%Bf":"\xBF","%bF":"\xBF","%BF":"\xBF","%c0":"\xC0","%C0":"\xC0","%c1":"\xC1","%C1":"\xC1","%c2":"\xC2","%C2":"\xC2","%c3":"\xC3","%C3":"\xC3","%c4":"\xC4","%C4":"\xC4","%c5":"\xC5","%C5":"\xC5","%c6":"\xC6","%C6":"\xC6","%c7":"\xC7","%C7":"\xC7","%c8":"\xC8","%C8":"\xC8","%c9":"\xC9","%C9":"\xC9","%ca":"\xCA","%Ca":"\xCA","%cA":"\xCA","%CA":"\xCA","%cb":"\xCB","%Cb":"\xCB","%cB":"\xCB","%CB":"\xCB","%cc":"\xCC","%Cc":"\xCC","%cC":"\xCC","%CC":"\xCC","%cd":"\xCD","%Cd":"\xCD","%cD":"\xCD","%CD":"\xCD","%ce":"\xCE","%Ce":"\xCE","%cE":"\xCE","%CE":"\xCE","%cf":"\xCF","%Cf":"\xCF","%cF":"\xCF","%CF":"\xCF","%d0":"\xD0","%D0":"\xD0","%d1":"\xD1","%D1":"\xD1","%d2":"\xD2","%D2":"\xD2","%d3":"\xD3","%D3":"\xD3","%d4":"\xD4","%D4":"\xD4","%d5":"\xD5","%D5":"\xD5","%d6":"\xD6","%D6":"\xD6","%d7":"\xD7","%D7":"\xD7","%d8":"\xD8","%D8":"\xD8","%d9":"\xD9","%D9":"\xD9","%da":"\xDA","%Da":"\xDA","%dA":"\xDA","%DA":"\xDA","%db":"\xDB","%Db":"\xDB","%dB":"\xDB","%DB":"\xDB","%dc":"\xDC","%Dc":"\xDC","%dC":"\xDC","%DC":"\xDC","%dd":"\xDD","%Dd":"\xDD","%dD":"\xDD","%DD":"\xDD","%de":"\xDE","%De":"\xDE","%dE":"\xDE","%DE":"\xDE","%df":"\xDF","%Df":"\xDF","%dF":"\xDF","%DF":"\xDF","%e0":"\xE0","%E0":"\xE0","%e1":"\xE1","%E1":"\xE1","%e2":"\xE2","%E2":"\xE2","%e3":"\xE3","%E3":"\xE3","%e4":"\xE4","%E4":"\xE4","%e5":"\xE5","%E5":"\xE5","%e6":"\xE6","%E6":"\xE6","%e7":"\xE7","%E7":"\xE7","%e8":"\xE8","%E8":"\xE8","%e9":"\xE9","%E9":"\xE9","%ea":"\xEA","%Ea":"\xEA","%eA":"\xEA","%EA":"\xEA","%eb":"\xEB","%Eb":"\xEB","%eB":"\xEB","%EB":"\xEB","%ec":"\xEC","%Ec":"\xEC","%eC":"\xEC","%EC":"\xEC","%ed":"\xED","%Ed":"\xED","%eD":"\xED","%ED":"\xED","%ee":"\xEE","%Ee":"\xEE","%eE":"\xEE","%EE":"\xEE","%ef":"\xEF","%Ef":"\xEF","%eF":"\xEF","%EF":"\xEF","%f0":"\xF0","%F0":"\xF0","%f1":"\xF1","%F1":"\xF1","%f2":"\xF2","%F2":"\xF2","%f3":"\xF3","%F3":"\xF3","%f4":"\xF4","%F4":"\xF4","%f5":"\xF5","%F5":"\xF5","%f6":"\xF6","%F6":"\xF6","%f7":"\xF7","%F7":"\xF7","%f8":"\xF8","%F8":"\xF8","%f9":"\xF9","%F9":"\xF9","%fa":"\xFA","%Fa":"\xFA","%fA":"\xFA","%FA":"\xFA","%fb":"\xFB","%Fb":"\xFB","%fB":"\xFB","%FB":"\xFB","%fc":"\xFC","%Fc":"\xFC","%fC":"\xFC","%FC":"\xFC","%fd":"\xFD","%Fd":"\xFD","%fD":"\xFD","%FD":"\xFD","%fe":"\xFE","%Fe":"\xFE","%fE":"\xFE","%FE":"\xFE","%ff":"\xFF","%Ff":"\xFF","%fF":"\xFF","%FF":"\xFF"};function VS0(Y){return Uf6[Y]}var m_=0,IS0=1,d71=2,DS0=3;function zf6(Y){let J=[],X=m_,Z="",W=!1,$=!1,G=0,Q="",U=Y.length;for(var z=0;z<U;++z){let H=Y[z];if(H==="\\"&&W)if($)$=!1;else{$=!0;continue}else if(H==='"')if(!$){if(W)W=!1,X=m_;else W=!0;continue}else $=!1;else{if($&&W)Q+="\\";if($=!1,(X===d71||X===DS0)&&H==="'"){if(X===d71)X=DS0,Z=Q.substring(1);else X=IS0;Q="";continue}else if(X===m_&&(H==="*"||H==="=")&&J.length){X=H==="*"?d71:IS0,J[G]=[Q,void 0],Q="";continue}else if(!W&&H===";"){if(X=m_,Z){if(Q.length)Q=u_(Q.replace(FS0,VS0),"binary",Z);Z=""}else if(Q.length)Q=u_(Q,"binary","utf8");if(J[G]===void 0)J[G]=Q;else J[G][1]=Q;Q="",++G;continue}else if(!W&&(H===" "||H==="\t"))continue}Q+=H}if(Z&&Q.length)Q=u_(Q.replace(FS0,VS0),"binary",Z);else if(Q)Q=u_(Q,"binary","utf8");if(J[G]===void 0){if(Q)J[G]=Q}else J[G][1]=Q;return J}wS0.exports=zf6});var PS0=q((PR8,AS0)=>{AS0.exports=function(J){if(typeof J!=="string")return"";for(var X=J.length-1;X>=0;--X)switch(J.charCodeAt(X)){case 47:case 92:return J=J.slice(X+1),J===".."||J==="."?"":J}return J===".."||J==="."?"":J}});var TS0=q((LR8,ES0)=>{var{Readable:MS0}=C("stream"),{inherits:Hf6}=C("util"),Of6=u71(),LS0=c71(),Kf6=g_(),Bf6=PS0(),Fz=y_(),qf6=/^boundary$/i,Ff6=/^form-data$/i,Vf6=/^charset$/i,If6=/^filename$/i,Df6=/^name$/i;d_.detect=/^multipart\/form-data/i;function d_(Y,J){let X,Z,W=this,$,G=J.limits,Q=J.isPartAFile||((k,r,p)=>r==="application/octet-stream"||p!==void 0),U=J.parsedConType||[],z=J.defCharset||"utf8",H=J.preservePath,O={highWaterMark:J.fileHwm};for(X=0,Z=U.length;X<Z;++X)if(Array.isArray(U[X])&&qf6.test(U[X][0])){$=U[X][1];break}function K(){if(N===0&&M&&!Y._done)M=!1,W.end()}if(typeof $!=="string")throw Error("Multipart: Boundary not found");let B=Fz(G,"fieldSize",1048576),F=Fz(G,"fileSize",1/0),V=Fz(G,"files",1/0),I=Fz(G,"fields",1/0),D=Fz(G,"parts",1/0),L=Fz(G,"headerPairs",2000),A=Fz(G,"headerSize",81920),P=0,R=0,N=0,v,j,M=!1;this._needDrain=!1,this._pause=!1,this._cb=void 0,this._nparts=0,this._boy=Y;let b={boundary:$,maxHeaderPairs:L,maxHeaderSize:A,partHwm:O.highWaterMark,highWaterMark:J.highWaterMark};this.parser=new Of6(b),this.parser.on("drain",function(){if(W._needDrain=!1,W._cb&&!W._pause){let k=W._cb;W._cb=void 0,k()}}).on("part",function k(r){if(++W._nparts>D)return W.parser.removeListener("part",k),W.parser.on("part",iB),Y.hitPartsLimit=!0,Y.emit("partsLimit"),iB(r);if(j){let p=j;p.emit("end"),p.removeAllListeners("end")}r.on("header",function(p){let S,c,d,a,H1,F1,z1=0;if(p["content-type"]){if(d=LS0(p["content-type"][0]),d[0]){S=d[0].toLowerCase();for(X=0,Z=d.length;X<Z;++X)if(Vf6.test(d[X][0])){a=d[X][1].toLowerCase();break}}}if(S===void 0)S="text/plain";if(a===void 0)a=z;if(p["content-disposition"]){if(d=LS0(p["content-disposition"][0]),!Ff6.test(d[0]))return iB(r);for(X=0,Z=d.length;X<Z;++X)if(Df6.test(d[X][0]))c=d[X][1];else if(If6.test(d[X][0])){if(F1=d[X][1],!H)F1=Bf6(F1)}}else return iB(r);if(p["content-transfer-encoding"])H1=p["content-transfer-encoding"][0].toLowerCase();else H1="7bit";let y1,J1;if(Q(c,S,F1)){if(P===V){if(!Y.hitFilesLimit)Y.hitFilesLimit=!0,Y.emit("filesLimit");return iB(r)}if(++P,Y.listenerCount("file")===0){W.parser._ignore();return}++N;let l=new l71(O);v=l,l.on("end",function(){if(--N,W._pause=!1,K(),W._cb&&!W._needDrain){let K1=W._cb;W._cb=void 0,K1()}}),l._read=function(K1){if(!W._pause)return;if(W._pause=!1,W._cb&&!W._needDrain){let Q1=W._cb;W._cb=void 0,Q1()}},Y.emit("file",c,l,F1,H1,S),y1=function(K1){if((z1+=K1.length)>F){let Q1=F-z1+K1.length;if(Q1>0)l.push(K1.slice(0,Q1));l.truncated=!0,l.bytesRead=F,r.removeAllListeners("data"),l.emit("limit");return}else if(!l.push(K1))W._pause=!0;l.bytesRead=z1},J1=function(){v=void 0,l.push(null)}}else{if(R===I){if(!Y.hitFieldsLimit)Y.hitFieldsLimit=!0,Y.emit("fieldsLimit");return iB(r)}++R,++N;let l="",K1=!1;j=r,y1=function(Q1){if((z1+=Q1.length)>B){let p1=B-(z1-Q1.length);l+=Q1.toString("binary",0,p1),K1=!0,r.removeAllListeners("data")}else l+=Q1.toString("binary")},J1=function(){if(j=void 0,l.length)l=Kf6(l,"binary",a);Y.emit("field",c,l,!1,K1,H1,S),--N,K()}}r._readableState.sync=!1,r.on("data",y1),r.on("end",J1)}).on("error",function(p){if(v)v.emit("error",p)})}).on("error",function(k){Y.emit("error",k)}).on("finish",function(){M=!0,K()})}d_.prototype.write=function(Y,J){let X=this.parser.write(Y);if(X&&!this._pause)J();else this._needDrain=!X,this._cb=J};d_.prototype.end=function(){let Y=this;if(Y.parser.writable)Y.parser.end();else if(!Y._boy._done)process.nextTick(function(){Y._boy._done=!0,Y._boy.emit("finish")})};function iB(Y){Y.resume()}function l71(Y){MS0.call(this,Y),this.bytesRead=0,this.truncated=!1}Hf6(l71,MS0);l71.prototype._read=function(Y){};ES0.exports=d_});var NS0=q((MR8,RS0)=>{var wf6=/\+/g,Af6=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function p71(){this.buffer=void 0}p71.prototype.write=function(Y){Y=Y.replace(wf6," ");let J="",X=0,Z=0,W=Y.length;for(;X<W;++X)if(this.buffer!==void 0){if(!Af6[Y.charCodeAt(X)])J+="%"+this.buffer,this.buffer=void 0,--X;else if(this.buffer+=Y[X],++Z,this.buffer.length===2)J+=String.fromCharCode(parseInt(this.buffer,16)),this.buffer=void 0}else if(Y[X]==="%"){if(X>Z)J+=Y.substring(Z,X),Z=X;this.buffer="",++Z}if(Z<W&&this.buffer===void 0)J+=Y.substring(Z);return J};p71.prototype.reset=function(){this.buffer=void 0};RS0.exports=p71});var CS0=q((ER8,SS0)=>{var Pf6=NS0(),oB=g_(),n71=y_(),Lf6=/^charset$/i;c_.detect=/^application\/x-www-form-urlencoded/i;function c_(Y,J){let{limits:X,parsedConType:Z}=J;this.boy=Y,this.fieldSizeLimit=n71(X,"fieldSize",1048576),this.fieldNameSizeLimit=n71(X,"fieldNameSize",100),this.fieldsLimit=n71(X,"fields",1/0);let W;for(var $=0,G=Z.length;$<G;++$)if(Array.isArray(Z[$])&&Lf6.test(Z[$][0])){W=Z[$][1].toLowerCase();break}if(W===void 0)W=J.defCharset||"utf8";this.decoder=new Pf6,this.charset=W,this._fields=0,this._state="key",this._checkingBytes=!0,this._bytesKey=0,this._bytesVal=0,this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._hitLimit=!1}c_.prototype.write=function(Y,J){if(this._fields===this.fieldsLimit){if(!this.boy.hitFieldsLimit)this.boy.hitFieldsLimit=!0,this.boy.emit("fieldsLimit");return J()}let X,Z,W,$=0,G=Y.length;while($<G)if(this._state==="key"){X=Z=void 0;for(W=$;W<G;++W){if(!this._checkingBytes)++$;if(Y[W]===61){X=W;break}else if(Y[W]===38){Z=W;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=!0;break}else if(this._checkingBytes)++this._bytesKey}if(X!==void 0){if(X>$)this._key+=this.decoder.write(Y.toString("binary",$,X));this._state="val",this._hitLimit=!1,this._checkingBytes=!0,this._val="",this._bytesVal=0,this._valTrunc=!1,this.decoder.reset(),$=X+1}else if(Z!==void 0){++this._fields;let Q,U=this._keyTrunc;if(Z>$)Q=this._key+=this.decoder.write(Y.toString("binary",$,Z));else Q=this._key;if(this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),Q.length)this.boy.emit("field",oB(Q,"binary",this.charset),"",U,!1);if($=Z+1,this._fields===this.fieldsLimit)return J()}else if(this._hitLimit){if(W>$)this._key+=this.decoder.write(Y.toString("binary",$,W));if($=W,(this._bytesKey=this._key.length)===this.fieldNameSizeLimit)this._checkingBytes=!1,this._keyTrunc=!0}else{if($<G)this._key+=this.decoder.write(Y.toString("binary",$));$=G}}else{Z=void 0;for(W=$;W<G;++W){if(!this._checkingBytes)++$;if(Y[W]===38){Z=W;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=!0;break}else if(this._checkingBytes)++this._bytesVal}if(Z!==void 0){if(++this._fields,Z>$)this._val+=this.decoder.write(Y.toString("binary",$,Z));if(this.boy.emit("field",oB(this._key,"binary",this.charset),oB(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this._state="key",this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),$=Z+1,this._fields===this.fieldsLimit)return J()}else if(this._hitLimit){if(W>$)this._val+=this.decoder.write(Y.toString("binary",$,W));if($=W,this._val===""&&this.fieldSizeLimit===0||(this._bytesVal=this._val.length)===this.fieldSizeLimit)this._checkingBytes=!1,this._valTrunc=!0}else{if($<G)this._val+=this.decoder.write(Y.toString("binary",$));$=G}}J()};c_.prototype.end=function(){if(this.boy._done)return;if(this._state==="key"&&this._key.length>0)this.boy.emit("field",oB(this._key,"binary",this.charset),"",this._keyTrunc,!1);else if(this._state==="val")this.boy.emit("field",oB(this._key,"binary",this.charset),oB(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc);this.boy._done=!0,this.boy.emit("finish")};SS0.exports=c_});var l_=q((TR8,FP)=>{var i71=C("stream").Writable,{inherits:Mf6}=C("util"),Ef6=u71(),jS0=TS0(),kS0=CS0(),Tf6=c71();function pZ(Y){if(!(this instanceof pZ))return new pZ(Y);if(typeof Y!=="object")throw TypeError("Busboy expected an options-Object.");if(typeof Y.headers!=="object")throw TypeError("Busboy expected an options-Object with headers-attribute.");if(typeof Y.headers["content-type"]!=="string")throw TypeError("Missing Content-Type-header.");let{headers:J,...X}=Y;this.opts={autoDestroy:!1,...X},i71.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(J),this._finished=!1}Mf6(pZ,i71);pZ.prototype.emit=function(Y){if(Y==="finish"){if(!this._done){this._parser?.end();return}else if(this._finished)return;this._finished=!0}i71.prototype.emit.apply(this,arguments)};pZ.prototype.getParserByHeaders=function(Y){let J=Tf6(Y["content-type"]),X={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:Y,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:J,preservePath:this.opts.preservePath};if(jS0.detect.test(J[0]))return new jS0(this,X);if(kS0.detect.test(J[0]))return new kS0(this,X);throw Error("Unsupported Content-Type.")};pZ.prototype._write=function(Y,J,X){this._parser.write(Y,X)};FP.exports=pZ;FP.exports.default=pZ;FP.exports.Busboy=pZ;FP.exports.Dicer=Ef6});var e9=q((RR8,i_)=>{var _S0,xS0,fS0,vS0,hS0,bS0,yS0,gS0,uS0,mS0,dS0,cS0,lS0,p_,o71,pS0,nS0,iS0,rB,oS0,rS0,aS0,sS0,tS0,eS0,YC0,JC0,XC0,n_,ZC0,WC0,$C0;(function(Y){var J=typeof global==="object"?global:typeof self==="object"?self:typeof this==="object"?this:{};if(typeof define==="function"&&define.amd)define("tslib",["exports"],function(Z){Y(X(J,X(Z)))});else if(typeof i_==="object"&&typeof RR8==="object")Y(X(J,X(RR8)));else Y(X(J));function X(Z,W){if(Z!==J)if(typeof Object.create==="function")Object.defineProperty(Z,"__esModule",{value:!0});else Z.__esModule=!0;return function($,G){return Z[$]=W?W($,G):G}}})(function(Y){var J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,G){$.__proto__=G}||function($,G){for(var Q in G)if(Object.prototype.hasOwnProperty.call(G,Q))$[Q]=G[Q]};_S0=function($,G){if(typeof G!=="function"&&G!==null)throw TypeError("Class extends value "+String(G)+" is not a constructor or null");J($,G);function Q(){this.constructor=$}$.prototype=G===null?Object.create(G):(Q.prototype=G.prototype,new Q)},xS0=Object.assign||function($){for(var G,Q=1,U=arguments.length;Q<U;Q++){G=arguments[Q];for(var z in G)if(Object.prototype.hasOwnProperty.call(G,z))$[z]=G[z]}return $},fS0=function($,G){var Q={};for(var U in $)if(Object.prototype.hasOwnProperty.call($,U)&&G.indexOf(U)<0)Q[U]=$[U];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var z=0,U=Object.getOwnPropertySymbols($);z<U.length;z++)if(G.indexOf(U[z])<0&&Object.prototype.propertyIsEnumerable.call($,U[z]))Q[U[z]]=$[U[z]]}return Q},vS0=function($,G,Q,U){var z=arguments.length,H=z<3?G:U===null?U=Object.getOwnPropertyDescriptor(G,Q):U,O;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")H=Reflect.decorate($,G,Q,U);else for(var K=$.length-1;K>=0;K--)if(O=$[K])H=(z<3?O(H):z>3?O(G,Q,H):O(G,Q))||H;return z>3&&H&&Object.defineProperty(G,Q,H),H},hS0=function($,G){return function(Q,U){G(Q,U,$)}},bS0=function($,G,Q,U,z,H){function O(N){if(N!==void 0&&typeof N!=="function")throw TypeError("Function expected");return N}var K=U.kind,B=K==="getter"?"get":K==="setter"?"set":"value",F=!G&&$?U.static?$:$.prototype:null,V=G||(F?Object.getOwnPropertyDescriptor(F,U.name):{}),I,D=!1;for(var L=Q.length-1;L>=0;L--){var A={};for(var P in U)A[P]=P==="access"?{}:U[P];for(var P in U.access)A.access[P]=U.access[P];A.addInitializer=function(N){if(D)throw TypeError("Cannot add initializers after decoration has completed");H.push(O(N||null))};var R=(0,Q[L])(K==="accessor"?{get:V.get,set:V.set}:V[B],A);if(K==="accessor"){if(R===void 0)continue;if(R===null||typeof R!=="object")throw TypeError("Object expected");if(I=O(R.get))V.get=I;if(I=O(R.set))V.set=I;if(I=O(R.init))z.unshift(I)}else if(I=O(R))if(K==="field")z.unshift(I);else V[B]=I}if(F)Object.defineProperty(F,U.name,V);D=!0},yS0=function($,G,Q){var U=arguments.length>2;for(var z=0;z<G.length;z++)Q=U?G[z].call($,Q):G[z].call($);return U?Q:void 0},gS0=function($){return typeof $==="symbol"?$:"".concat($)},uS0=function($,G,Q){if(typeof G==="symbol")G=G.description?"[".concat(G.description,"]"):"";return Object.defineProperty($,"name",{configurable:!0,value:Q?"".concat(Q," ",G):G})},mS0=function($,G){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata($,G)},dS0=function($,G,Q,U){function z(H){return H instanceof Q?H:new Q(function(O){O(H)})}return new(Q||(Q=Promise))(function(H,O){function K(V){try{F(U.next(V))}catch(I){O(I)}}function B(V){try{F(U.throw(V))}catch(I){O(I)}}function F(V){V.done?H(V.value):z(V.value).then(K,B)}F((U=U.apply($,G||[])).next())})},cS0=function($,G){var Q={label:0,sent:function(){if(H[0]&1)throw H[1];return H[1]},trys:[],ops:[]},U,z,H,O=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return O.next=K(0),O.throw=K(1),O.return=K(2),typeof Symbol==="function"&&(O[Symbol.iterator]=function(){return this}),O;function K(F){return function(V){return B([F,V])}}function B(F){if(U)throw TypeError("Generator is already executing.");while(O&&(O=0,F[0]&&(Q=0)),Q)try{if(U=1,z&&(H=F[0]&2?z.return:F[0]?z.throw||((H=z.return)&&H.call(z),0):z.next)&&!(H=H.call(z,F[1])).done)return H;if(z=0,H)F=[F[0]&2,H.value];switch(F[0]){case 0:case 1:H=F;break;case 4:return Q.label++,{value:F[1],done:!1};case 5:Q.label++,z=F[1],F=[0];continue;case 7:F=Q.ops.pop(),Q.trys.pop();continue;default:if((H=Q.trys,!(H=H.length>0&&H[H.length-1]))&&(F[0]===6||F[0]===2)){Q=0;continue}if(F[0]===3&&(!H||F[1]>H[0]&&F[1]<H[3])){Q.label=F[1];break}if(F[0]===6&&Q.label<H[1]){Q.label=H[1],H=F;break}if(H&&Q.label<H[2]){Q.label=H[2],Q.ops.push(F);break}if(H[2])Q.ops.pop();Q.trys.pop();continue}F=G.call($,Q)}catch(V){F=[6,V],z=0}finally{U=H=0}if(F[0]&5)throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}},lS0=function($,G){for(var Q in $)if(Q!=="default"&&!Object.prototype.hasOwnProperty.call(G,Q))n_(G,$,Q)},n_=Object.create?function($,G,Q,U){if(U===void 0)U=Q;var z=Object.getOwnPropertyDescriptor(G,Q);if(!z||("get"in z?!G.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return G[Q]}};Object.defineProperty($,U,z)}:function($,G,Q,U){if(U===void 0)U=Q;$[U]=G[Q]},p_=function($){var G=typeof Symbol==="function"&&Symbol.iterator,Q=G&&$[G],U=0;if(Q)return Q.call($);if($&&typeof $.length==="number")return{next:function(){if($&&U>=$.length)$=void 0;return{value:$&&$[U++],done:!$}}};throw TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")},o71=function($,G){var Q=typeof Symbol==="function"&&$[Symbol.iterator];if(!Q)return $;var U=Q.call($),z,H=[],O;try{while((G===void 0||G-- >0)&&!(z=U.next()).done)H.push(z.value)}catch(K){O={error:K}}finally{try{if(z&&!z.done&&(Q=U.return))Q.call(U)}finally{if(O)throw O.error}}return H},pS0=function(){for(var $=[],G=0;G<arguments.length;G++)$=$.concat(o71(arguments[G]));return $},nS0=function(){for(var $=0,G=0,Q=arguments.length;G<Q;G++)$+=arguments[G].length;for(var U=Array($),z=0,G=0;G<Q;G++)for(var H=arguments[G],O=0,K=H.length;O<K;O++,z++)U[z]=H[O];return U},iS0=function($,G,Q){if(Q||arguments.length===2){for(var U=0,z=G.length,H;U<z;U++)if(H||!(U in G)){if(!H)H=Array.prototype.slice.call(G,0,U);H[U]=G[U]}}return $.concat(H||Array.prototype.slice.call(G))},rB=function($){return this instanceof rB?(this.v=$,this):new rB($)},oS0=function($,G,Q){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var U=Q.apply($,G||[]),z,H=[];return z=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),K("next"),K("throw"),K("return",O),z[Symbol.asyncIterator]=function(){return this},z;function O(L){return function(A){return Promise.resolve(A).then(L,I)}}function K(L,A){if(U[L]){if(z[L]=function(P){return new Promise(function(R,N){H.push([L,P,R,N])>1||B(L,P)})},A)z[L]=A(z[L])}}function B(L,A){try{F(U[L](A))}catch(P){D(H[0][3],P)}}function F(L){L.value instanceof rB?Promise.resolve(L.value.v).then(V,I):D(H[0][2],L)}function V(L){B("next",L)}function I(L){B("throw",L)}function D(L,A){if(L(A),H.shift(),H.length)B(H[0][0],H[0][1])}},rS0=function($){var G,Q;return G={},U("next"),U("throw",function(z){throw z}),U("return"),G[Symbol.iterator]=function(){return this},G;function U(z,H){G[z]=$[z]?function(O){return(Q=!Q)?{value:rB($[z](O)),done:!1}:H?H(O):O}:H}},aS0=function($){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var G=$[Symbol.asyncIterator],Q;return G?G.call($):($=typeof p_==="function"?p_($):$[Symbol.iterator](),Q={},U("next"),U("throw"),U("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function U(H){Q[H]=$[H]&&function(O){return new Promise(function(K,B){O=$[H](O),z(K,B,O.done,O.value)})}}function z(H,O,K,B){Promise.resolve(B).then(function(F){H({value:F,done:K})},O)}},sS0=function($,G){if(Object.defineProperty)Object.defineProperty($,"raw",{value:G});else $.raw=G;return $};var X=Object.create?function($,G){Object.defineProperty($,"default",{enumerable:!0,value:G})}:function($,G){$.default=G},Z=function($){return Z=Object.getOwnPropertyNames||function(G){var Q=[];for(var U in G)if(Object.prototype.hasOwnProperty.call(G,U))Q[Q.length]=U;return Q},Z($)};tS0=function($){if($&&$.__esModule)return $;var G={};if($!=null){for(var Q=Z($),U=0;U<Q.length;U++)if(Q[U]!=="default")n_(G,$,Q[U])}return X(G,$),G},eS0=function($){return $&&$.__esModule?$:{default:$}},YC0=function($,G,Q,U){if(Q==="a"&&!U)throw TypeError("Private accessor was defined without a getter");if(typeof G==="function"?$!==G||!U:!G.has($))throw TypeError("Cannot read private member from an object whose class did not declare it");return Q==="m"?U:Q==="a"?U.call($):U?U.value:G.get($)},JC0=function($,G,Q,U,z){if(U==="m")throw TypeError("Private method is not writable");if(U==="a"&&!z)throw TypeError("Private accessor was defined without a setter");if(typeof G==="function"?$!==G||!z:!G.has($))throw TypeError("Cannot write private member to an object whose class did not declare it");return U==="a"?z.call($,Q):z?z.value=Q:G.set($,Q),Q},XC0=function($,G){if(G===null||typeof G!=="object"&&typeof G!=="function")throw TypeError("Cannot use 'in' operator on non-object");return typeof $==="function"?G===$:$.has(G)},ZC0=function($,G,Q){if(G!==null&&G!==void 0){if(typeof G!=="object"&&typeof G!=="function")throw TypeError("Object expected.");var U,z;if(Q){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");U=G[Symbol.asyncDispose]}if(U===void 0){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");if(U=G[Symbol.dispose],Q)z=U}if(typeof U!=="function")throw TypeError("Object not disposable.");if(z)U=function(){try{z.call(this)}catch(H){return Promise.reject(H)}};$.stack.push({value:G,dispose:U,async:Q})}else if(Q)$.stack.push({async:!0});return G};var W=typeof SuppressedError==="function"?SuppressedError:function($,G,Q){var U=Error(Q);return U.name="SuppressedError",U.error=$,U.suppressed=G,U};WC0=function($){function G(H){$.error=$.hasError?new W(H,$.error,"An error was suppressed during disposal."):H,$.hasError=!0}var Q,U=0;function z(){while(Q=$.stack.pop())try{if(!Q.async&&U===1)return U=0,$.stack.push(Q),Promise.resolve().then(z);if(Q.dispose){var H=Q.dispose.call(Q.value);if(Q.async)return U|=2,Promise.resolve(H).then(z,function(O){return G(O),z()})}else U|=1}catch(O){G(O)}if(U===1)return $.hasError?Promise.reject($.error):Promise.resolve();if($.hasError)throw $.error}return z()},$C0=function($,G){if(typeof $==="string"&&/^\.\.?\//.test($))return $.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(Q,U,z,H,O){return U?G?".jsx":".js":z&&(!H||!O)?Q:z+H+"."+O.toLowerCase()+"js"});return $},Y("__extends",_S0),Y("__assign",xS0),Y("__rest",fS0),Y("__decorate",vS0),Y("__param",hS0),Y("__esDecorate",bS0),Y("__runInitializers",yS0),Y("__propKey",gS0),Y("__setFunctionName",uS0),Y("__metadata",mS0),Y("__awaiter",dS0),Y("__generator",cS0),Y("__exportStar",lS0),Y("__createBinding",n_),Y("__values",p_),Y("__read",o71),Y("__spread",pS0),Y("__spreadArrays",nS0),Y("__spreadArray",iS0),Y("__await",rB),Y("__asyncGenerator",oS0),Y("__asyncDelegator",rS0),Y("__asyncValues",aS0),Y("__makeTemplateObject",sS0),Y("__importStar",tS0),Y("__importDefault",eS0),Y("__classPrivateFieldGet",YC0),Y("__classPrivateFieldSet",JC0),Y("__classPrivateFieldIn",XC0),Y("__addDisposableResource",ZC0),Y("__disposeResources",WC0),Y("__rewriteRelativeImportExtension",$C0)})});var N7=q((r71)=>{Object.defineProperty(r71,"__esModule",{value:!0});r71.DEFAULT_ACCEPT_ENCODING=r71.fakePromise=void 0;r71.getHeadersObj=Cf6;r71.defaultHeadersSerializer=jf6;r71.isArrayBufferView=_f6;r71.isNodeReadable=xf6;r71.isIterable=ff6;r71.shouldRedirect=vf6;r71.pipeThrough=hf6;r71.endStream=bf6;r71.safeWrite=yf6;r71.getSupportedFormats=UC0;var Rf6=e9(),Nf6=C("events"),Sf6=Rf6.__importDefault(C("zlib"));function GC0(Y){return Y?.forEach!=null}function Cf6(Y){if(Y==null||!GC0(Y))return Y;if(Y.headersInit&&!Y._map&&!GC0(Y.headersInit))return Y.headersInit;return Object.fromEntries(Y.entries())}function jf6(Y,J){let X=[];return Y.forEach((Z,W)=>{if(J&&W==="content-length")J(Z);X.push(`${W}: ${Z}`)}),X}var kf6=q8();Object.defineProperty(r71,"fakePromise",{enumerable:!0,get:function(){return kf6.fakePromise}});function _f6(Y){return Y!=null&&Y.buffer!=null&&Y.byteLength!=null&&Y.byteOffset!=null}function xf6(Y){return Y!=null&&Y.pipe!=null}function ff6(Y){return Y?.[Symbol.iterator]!=null}function vf6(Y){return Y===301||Y===302||Y===303||Y===307||Y===308}function hf6({src:Y,dest:J,signal:X,onError:Z}){if(Z)J.once("error",Z);if(Y.once("error",(W)=>{J.destroy(W)}),J.once("close",()=>{if(!Y.destroyed)Y.destroy()}),X){let G=function(){$.deref()?.removeEventListener("abort",Q),W.deref()?.removeListener("end",G),W.deref()?.removeListener("error",G),W.deref()?.removeListener("close",G)},Q=function(){W.deref()?.destroy(new QC0),G()},W=new WeakRef(Y),$=new WeakRef(X);X.addEventListener("abort",Q,{once:!0}),Y.once("end",G),Y.once("error",G),Y.once("close",G)}Y.pipe(J,{end:!0})}function bf6(Y){return Y.end(null,null,null)}function yf6(Y,J){if(!J.write(Y))return(0,Nf6.once)(J,"drain")}class QC0 extends Error{constructor(Y="The operation was aborted",J=void 0){super(Y,J);this.name="AbortError"}}r71.DEFAULT_ACCEPT_ENCODING=UC0().join(", ");function UC0(){let Y=["gzip","deflate","br"];if(!globalThis.process?.versions?.node?.startsWith("2"))Y.push("deflate-raw");if(Sf6.default.createZstdCompress!=null)Y.push("zstd");return Y}});var aB=q((BC0)=>{Object.defineProperty(BC0,"__esModule",{value:!0});BC0.PonyfillReadableStream=void 0;var HC0=C("buffer"),a71=C("events"),s71=C("stream"),rf6=C("stream/promises"),t71=q8(),e71=N7();function OC0(Y,J){let X=[],Z=!1,W=!1;return{desiredSize:Y,enqueue($){let G=typeof $==="string"?HC0.Buffer.from($):$;if(!W)X.push(G);else J.push(G)},close(){if(X.length>0)this._flush();J.push(null),Z=!0},error($){if(X.length>0)this._flush();J.destroy($)},get _closed(){return Z},_flush(){if(W=!0,X.length>0){let $=X.length>1?HC0.Buffer.concat(X):X[0];J.push($),X=[]}}}}function af6(Y){return Y?.read!=null}function KC0(Y){return Y?.getReader!=null}class o_{readable;constructor(Y){if(Y instanceof o_&&Y.readable!=null)this.readable=Y.readable;else if(af6(Y))this.readable=Y;else if(KC0(Y))this.readable=s71.Readable.fromWeb(Y);else{let J=!1,X=!1,Z=($)=>{if(!J){let G=OC0($,this.readable);return J=!0,(0,t71.handleMaybePromise)(()=>Y?.start?.(G),()=>{if(G._flush(),G._closed)return!1;return!0})}return!0},W=($)=>{return(0,t71.handleMaybePromise)(()=>Z($),(G)=>{if(!G)return;let Q=OC0($,this.readable);return(0,t71.handleMaybePromise)(()=>Y?.pull?.(Q),()=>{Q._flush(),X=!1})})};this.readable=new s71.Readable({read($){if(X)return;return X=!0,W($)},destroy($,G){if(Y?.cancel)try{let Q=Y.cancel($);if(Q?.then)return Q.then(()=>{G(null)},(U)=>{G(U)})}catch(Q){G(Q);return}G(null)}})}}cancel(Y){return this.readable.destroy(Y),(0,a71.once)(this.readable,"close")}locked=!1;getReader(Y){let J=this.readable[Symbol.asyncIterator]();this.locked=!0;let X=this.readable;return{read(){return J.next()},releaseLock:()=>{if(J.return){let Z=J.return();if(Z.then){Z.then(()=>{this.locked=!1});return}}this.locked=!1},cancel:(Z)=>{if(J.return){let W=J.return(Z);if(W.then)return W.then(()=>{this.locked=!1})}return this.locked=!1,(0,e71.fakePromise)()},get closed(){return Promise.race([(0,a71.once)(X,"end"),(0,a71.once)(X,"error").then((Z)=>Promise.reject(Z))])}}}[Symbol.asyncIterator](){let Y=this.readable[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return this},next:()=>Y.next(),return:()=>{if(!this.readable.destroyed)this.readable.destroy();return Y.return?.()||(0,e71.fakePromise)({done:!0,value:void 0})},throw:(J)=>{if(!this.readable.destroyed)this.readable.destroy(J);return Y.throw?.(J)||(0,e71.fakePromise)({done:!0,value:void 0})}}}tee(){throw Error("Not implemented")}async pipeToWriter(Y){try{for await(let J of this)await Y.write(J);await Y.close()}catch(J){await Y.abort(J)}}pipeTo(Y){if(tf6(Y))return(0,rf6.pipeline)(this.readable,Y.writable,{end:!0});else{let J=Y.getWriter();return this.pipeToWriter(J)}}pipeThrough({writable:Y,readable:J}){if(this.pipeTo(Y).catch((X)=>{this.readable.destroy(X)}),sf6(J))J.readable.once("error",(X)=>this.readable.destroy(X)),J.readable.once("finish",()=>this.readable.push(null)),J.readable.once("close",()=>this.readable.push(null));return J}static[Symbol.hasInstance](Y){return KC0(Y)}static from(Y){return new o_(s71.Readable.from(Y))}[Symbol.toStringTag]="ReadableStream"}BC0.PonyfillReadableStream=o_;function sf6(Y){return Y?.readable!=null}function tf6(Y){return Y?.writable!=null}});var r_=q((PC0)=>{Object.defineProperty(PC0,"__esModule",{value:!0});PC0.PonyfillBlob=void 0;PC0.hasBufferMethod=IP;PC0.hasArrayBufferMethod=DP;PC0.hasBytesMethod=wP;PC0.hasTextMethod=FC0;PC0.hasSizeProperty=VC0;PC0.hasStreamMethod=IC0;PC0.hasBlobSignature=DC0;PC0.isArrayBuffer=wC0;var A9=C("buffer"),YY1=aB(),w9=N7();function VP(Y){if(typeof Y==="string")return A9.Buffer.from(Y);else if(A9.Buffer.isBuffer(Y))return Y;else if((0,w9.isArrayBufferView)(Y))return A9.Buffer.from(Y.buffer,Y.byteOffset,Y.byteLength);else return A9.Buffer.from(Y)}function IP(Y){return Y!=null&&Y.buffer!=null&&typeof Y.buffer==="function"}function DP(Y){return Y!=null&&Y.arrayBuffer!=null&&typeof Y.arrayBuffer==="function"}function wP(Y){return Y!=null&&Y.bytes!=null&&typeof Y.bytes==="function"}function FC0(Y){return Y!=null&&Y.text!=null&&typeof Y.text==="function"}function VC0(Y){return Y!=null&&typeof Y.size==="number"}function IC0(Y){return Y!=null&&Y.stream!=null&&typeof Y.stream==="function"}function DC0(Y){return Y!=null&&Y[Symbol.toStringTag]==="Blob"}function wC0(Y){return Y!=null&&Y.byteLength!=null&&Y.slice!=null}class AC0{blobParts;type;encoding;_size=null;constructor(Y=[],J){if(this.blobParts=Y,this.type=J?.type||"application/octet-stream",this.encoding=J?.encoding||"utf8",this._size=J?.size||null,Y.length===1&&DC0(Y[0]))return Y[0]}_buffer=null;buffer(){if(this._buffer)return(0,w9.fakePromise)(this._buffer);if(this.blobParts.length===1){let X=this.blobParts[0];if(IP(X))return X.buffer().then((Z)=>{return this._buffer=Z,this._buffer});if(wP(X))return X.bytes().then((Z)=>{return this._buffer=A9.Buffer.from(Z),this._buffer});if(DP(X))return X.arrayBuffer().then((Z)=>{return this._buffer=A9.Buffer.from(Z,void 0,X.size),this._buffer});return this._buffer=VP(X),(0,w9.fakePromise)(this._buffer)}let Y=[],J=this.blobParts.map((X,Z)=>{if(IP(X)){Y.push(X.buffer().then((W)=>{J[Z]=W}));return}else if(DP(X)){Y.push(X.arrayBuffer().then((W)=>{J[Z]=A9.Buffer.from(W,void 0,X.size)}));return}else if(wP(X)){Y.push(X.bytes().then((W)=>{J[Z]=A9.Buffer.from(W)}));return}else return VP(X)});if(Y.length>0)return Promise.all(Y).then(()=>A9.Buffer.concat(J,this._size||void 0));return(0,w9.fakePromise)(A9.Buffer.concat(J,this._size||void 0))}arrayBuffer(){if(this._buffer)return(0,w9.fakePromise)(this._buffer);if(this.blobParts.length===1){if(wC0(this.blobParts[0]))return(0,w9.fakePromise)(this.blobParts[0]);if(DP(this.blobParts[0]))return this.blobParts[0].arrayBuffer()}return this.buffer()}bytes(){if(this._buffer)return(0,w9.fakePromise)(this._buffer);if(this.blobParts.length===1){if(A9.Buffer.isBuffer(this.blobParts[0]))return this._buffer=this.blobParts[0],(0,w9.fakePromise)(this._buffer);if(this.blobParts[0]instanceof Uint8Array)return this._buffer=A9.Buffer.from(this.blobParts[0]),(0,w9.fakePromise)(this._buffer);if(wP(this.blobParts[0]))return this.blobParts[0].bytes();if(IP(this.blobParts[0]))return this.blobParts[0].buffer()}return this.buffer()}_text=null;text(){if(this._text)return(0,w9.fakePromise)(this._text);if(this.blobParts.length===1){let Y=this.blobParts[0];if(typeof Y==="string")return this._text=Y,(0,w9.fakePromise)(this._text);if(FC0(Y))return Y.text().then((X)=>{return this._text=X,this._text});let J=VP(Y);return this._text=J.toString(this.encoding),(0,w9.fakePromise)(this._text)}return this.buffer().then((Y)=>{return this._text=Y.toString(this.encoding),this._text})}_json=null;json(){if(this._json)return(0,w9.fakePromise)(this._json);return this.text().then((Y)=>{return this._json=JSON.parse(Y),this._json})}_formData=null;formData(){if(this._formData)return(0,w9.fakePromise)(this._formData);throw Error("Not implemented")}get size(){if(this._size==null){this._size=0;for(let Y of this.blobParts)if(typeof Y==="string")this._size+=A9.Buffer.byteLength(Y);else if(VC0(Y))this._size+=Y.size;else if((0,w9.isArrayBufferView)(Y))this._size+=Y.byteLength}return this._size}stream(){if(this.blobParts.length===1){let J=this.blobParts[0];if(IC0(J))return J.stream();let X=VP(J);return new YY1.PonyfillReadableStream({start:(Z)=>{Z.enqueue(X),Z.close()}})}if(this._buffer!=null)return new YY1.PonyfillReadableStream({start:(J)=>{J.enqueue(this._buffer),J.close()}});let Y;return new YY1.PonyfillReadableStream({start:(J)=>{if(this.blobParts.length===0){J.close();return}Y=this.blobParts[Symbol.iterator]()},pull:(J)=>{let{value:X,done:Z}=Y.next();if(Z){J.close();return}if(X){if(IP(X))return X.buffer().then(($)=>{J.enqueue($)});if(wP(X))return X.bytes().then(($)=>{let G=A9.Buffer.from($);J.enqueue(G)});if(DP(X))return X.arrayBuffer().then(($)=>{let G=A9.Buffer.from($,void 0,X.size);J.enqueue(G)});let W=VP(X);J.enqueue(W)}}})}slice(){throw Error("Not implemented")}}PC0.PonyfillBlob=AC0});var JY1=q((EC0)=>{Object.defineProperty(EC0,"__esModule",{value:!0});EC0.PonyfillFile=void 0;var Qv6=r_();class MC0 extends Qv6.PonyfillBlob{name;lastModified;constructor(Y,J,X){super(Y,X);this.name=J,this.lastModified=X?.lastModified||Date.now()}webkitRelativePath=""}EC0.PonyfillFile=MC0});var a_=q((NC0)=>{Object.defineProperty(NC0,"__esModule",{value:!0});NC0.PonyfillSuppressedError=void 0;class RC0 extends Error{error;suppressed;constructor(Y,J,X){super(X);this.error=Y,this.suppressed=J,this.name="SuppressedError",Error.captureStackTrace(this,this.constructor)}}NC0.PonyfillSuppressedError=RC0});var AP=q((CC0)=>{Object.defineProperty(CC0,"__esModule",{value:!0});CC0.DisposableSymbols=void 0;CC0.patchSymbols=Uv6;CC0.DisposableSymbols={get dispose(){return Symbol.dispose||Symbol.for("dispose")},get asyncDispose(){return Symbol.asyncDispose||Symbol.for("asyncDispose")}};function Uv6(){Symbol.dispose||=Symbol.for("dispose"),Symbol.asyncDispose||=Symbol.for("asyncDispose")}});var XY1=q((_C0)=>{Object.defineProperty(_C0,"__esModule",{value:!0});_C0.isSyncDisposable=Hv6;_C0.isAsyncDisposable=Ov6;var kC0=AP();function Hv6(Y){return Y?.[kC0.DisposableSymbols.dispose]!=null}function Ov6(Y){return Y?.[kC0.DisposableSymbols.asyncDispose]!=null}});var hC0=q((fC0)=>{Object.defineProperty(fC0,"__esModule",{value:!0});fC0.PonyfillAsyncDisposableStack=void 0;var qv6=q8(),Fv6=a_(),s_=AP(),xC0=XY1(),Vv6=globalThis.SuppressedError||Fv6.PonyfillSuppressedError;class ZY1{callbacks=[];get disposed(){return this.callbacks.length===0}use(Y){if((0,xC0.isAsyncDisposable)(Y))this.callbacks.push(()=>Y[s_.DisposableSymbols.asyncDispose]());else if((0,xC0.isSyncDisposable)(Y))this.callbacks.push(()=>Y[s_.DisposableSymbols.dispose]());return Y}adopt(Y,J){if(J)this.callbacks.push(()=>J(Y));return Y}defer(Y){if(Y)this.callbacks.push(Y)}move(){let Y=new ZY1;return Y.callbacks=this.callbacks,this.callbacks=[],Y}disposeAsync(){return this[s_.DisposableSymbols.asyncDispose]()}_error;_iterateCallbacks(){let Y=this.callbacks.pop();if(Y)return(0,qv6.handleMaybePromise)(Y,()=>this._iterateCallbacks(),(J)=>{return this._error=this._error?new Vv6(J,this._error):J,this._iterateCallbacks()})}[s_.DisposableSymbols.asyncDispose](){let Y=this._iterateCallbacks();if(Y?.then)return Y.then(()=>{if(this._error){let J=this._error;throw this._error=void 0,J}});if(this._error){let J=this._error;throw this._error=void 0,J}return}[Symbol.toStringTag]="AsyncDisposableStack"}fC0.PonyfillAsyncDisposableStack=ZY1});var gC0=q((bC0)=>{Object.defineProperty(bC0,"__esModule",{value:!0});bC0.PonyfillDisposableStack=void 0;var Iv6=a_(),WY1=AP(),Dv6=XY1(),wv6=globalThis.SuppressedError||Iv6.PonyfillSuppressedError;class $Y1{callbacks=[];get disposed(){return this.callbacks.length===0}use(Y){if((0,Dv6.isSyncDisposable)(Y))this.callbacks.push(()=>Y[WY1.DisposableSymbols.dispose]());return Y}adopt(Y,J){if(J)this.callbacks.push(()=>J(Y));return Y}defer(Y){if(Y)this.callbacks.push(Y)}move(){let Y=new $Y1;return Y.callbacks=this.callbacks,this.callbacks=[],Y}dispose(){return this[WY1.DisposableSymbols.dispose]()}_error;_iterateCallbacks(){let Y=this.callbacks.pop();if(Y){try{Y()}catch(J){this._error=this._error?new wv6(J,this._error):J}return this._iterateCallbacks()}}[WY1.DisposableSymbols.dispose](){if(this._iterateCallbacks(),this._error){let Y=this._error;throw this._error=void 0,Y}}[Symbol.toStringTag]="DisposableStack"}bC0.PonyfillDisposableStack=$Y1});var t_=q((GY1)=>{Object.defineProperty(GY1,"__esModule",{value:!0});GY1.SuppressedError=GY1.AsyncDisposableStack=GY1.DisposableStack=void 0;var Av6=e9(),Pv6=hC0(),Lv6=gC0(),Mv6=a_();GY1.DisposableStack=globalThis.DisposableStack||Lv6.PonyfillDisposableStack;GY1.AsyncDisposableStack=globalThis.AsyncDisposableStack||Pv6.PonyfillAsyncDisposableStack;GY1.SuppressedError=globalThis.SuppressedError||Mv6.PonyfillSuppressedError;Av6.__exportStar(AP(),GY1)});var e_=q((cC0)=>{Object.defineProperty(cC0,"__esModule",{value:!0});cC0.PonyfillIteratorObject=void 0;var mC0=C("util"),Rv6=t_(),Nv6=N7();class dC0{iterableIterator;[Symbol.toStringTag]="IteratorObject";constructor(Y,J){this.iterableIterator=Y,this[Symbol.toStringTag]=J}*map(Y){let J=0;for(let X of this.iterableIterator)yield Y(X,J++);return}*filter(Y){let J=0;for(let X of this.iterableIterator)if(Y(X,J++))yield X;return}reduce(Y,J){let X=0,Z=J;for(let W of this.iterableIterator)Z=Y(Z,W,X++);return Z}forEach(Y){let J=0;for(let X of this.iterableIterator)Y(X,J++)}*take(Y){let J=0;for(let X of this.iterableIterator){if(J>=Y)break;yield X,J++}return}*drop(Y){let J=0;for(let X of this.iterableIterator){if(J>=Y)yield X;J++}return}*flatMap(Y){let J=0;for(let X of this.iterableIterator){let Z=Y(X,J++);if((0,Nv6.isIterable)(Z))for(let W of Z)yield W;else for(let W of{[Symbol.iterator]:()=>Z})yield W}return}some(Y){let J=0;for(let X of this.iterableIterator)if(Y(X,J++))return!0;return!1}every(Y){let J=0;for(let X of this.iterableIterator)if(!Y(X,J++))return!1;return!0}find(Y){let J=0;for(let X of this.iterableIterator)if(Y(X,J++))return X;return}toArray(){return Array.from(this.iterableIterator)}[Rv6.DisposableSymbols.dispose](){this.iterableIterator.return?.()}next(...[Y]){return this.iterableIterator.next(Y)}[Symbol.iterator](){return this}[Symbol.for("nodejs.util.inspect.custom")](){let Y={};return this.forEach((J,X)=>{let Z=(0,mC0.inspect)(J);Y[X]=Z.includes(",")?Z.split(",").map((W)=>W.trim()):Z}),`${this[Symbol.toStringTag]} ${(0,mC0.inspect)(Y)}`}}cC0.PonyfillIteratorObject=dC0});var UY1=q((oC0)=>{Object.defineProperty(oC0,"__esModule",{value:!0});oC0.PonyfillFormData=void 0;oC0.getStreamFromFormData=Cv6;var Vz=C("buffer"),QY1=e_(),Sv6=aB();class iC0{map=new Map;append(Y,J,X){let Z=this.map.get(Y);if(!Z)Z=[],this.map.set(Y,Z);let W=nC0(J)?pC0(Y,J,X):J;Z.push(W)}delete(Y){this.map.delete(Y)}get(Y){let J=this.map.get(Y);return J?J[0]:null}getAll(Y){return this.map.get(Y)||[]}has(Y){return this.map.has(Y)}set(Y,J,X){let Z=nC0(J)?pC0(Y,J,X):J;this.map.set(Y,[Z])}[Symbol.iterator](){return this._entries()}*_entries(){for(let[Y,J]of this.map)for(let X of J)yield[Y,X]}entries(){return new QY1.PonyfillIteratorObject(this._entries(),"FormDataIterator")}_keys(){return this.map.keys()}keys(){return new QY1.PonyfillIteratorObject(this._keys(),"FormDataIterator")}*_values(){for(let Y of this.map.values())for(let J of Y)yield J}values(){return new QY1.PonyfillIteratorObject(this._values(),"FormDataIterator")}forEach(Y){for(let[J,X]of this)Y(X,J,this)}}oC0.PonyfillFormData=iC0;function Cv6(Y,J="---"){let X,Z=!1,W,$=!1;function G(Q){let{done:U,value:z}=X.next();if(U)return Q.enqueue(Vz.Buffer.from(`\r
--${J}--\r
`)),Q.close();if($)Q.enqueue(Vz.Buffer.from(`\r
--${J}\r
`));if(z){let[H,O]=z;if(typeof O==="string")Q.enqueue(Vz.Buffer.from(`Content-Disposition: form-data; name="${H}"\r
\r
`)),Q.enqueue(Vz.Buffer.from(O));else{let K="";if(O.name)K=`; filename="${O.name}"`;Q.enqueue(Vz.Buffer.from(`Content-Disposition: form-data; name="${H}"${K}\r
`)),Q.enqueue(Vz.Buffer.from(`Content-Type: ${O.type||"application/octet-stream"}\r
\r
`)),W=O.stream()[Symbol.asyncIterator]()}$=!0}}return new Sv6.PonyfillReadableStream({start:()=>{X=Y.entries()},pull:(Q)=>{if(!Z)return Z=!0,Q.enqueue(Vz.Buffer.from(`--${J}\r
`));if(W)return W.next().then(({done:U,value:z})=>{if(U)W=void 0;if(z)return Q.enqueue(z);else return G(Q)});return G(Q)},cancel:(Q)=>{X?.return?.(Q),W?.return?.(Q)}})}function pC0(Y,J,X){return Object.defineProperty(J,"name",{configurable:!0,enumerable:!0,value:X||J.name||Y}),J}function nC0(Y){return Y?.arrayBuffer!=null}});var Jx=q((tC0)=>{Object.defineProperty(tC0,"__esModule",{value:!0});tC0.PonyfillBody=void 0;var N3=C("buffer"),iZ=C("stream"),kv6=l_(),Yx=q8(),sB=r_(),_v6=JY1(),aC0=UY1(),nZ=aB(),S5=N7(),u8;(function(Y){Y.ReadableStream="ReadableStream",Y.Blob="Blob",Y.FormData="FormData",Y.String="String",Y.Readable="Readable",Y.Buffer="Buffer",Y.AsyncIterable="AsyncIterable"})(u8||(u8={}));class sC0{bodyInit;options;bodyUsed=!1;contentType=null;contentLength=null;constructor(Y,J={}){this.bodyInit=Y,this.options=J;let{bodyFactory:X,contentType:Z,contentLength:W,bodyType:$,buffer:G}=xv6(Y);this._bodyFactory=X,this.contentType=Z,this.contentLength=W,this.bodyType=$,this._buffer=G,this._signal=J.signal}bodyType;_bodyFactory=()=>null;_generatedBody=null;_buffer;_signal;generateBody(){if(this._generatedBody?.readable?.destroyed&&this._buffer)this._generatedBody.readable=iZ.Readable.from(this._buffer);if(this._generatedBody)return this._generatedBody;let Y=this._bodyFactory();return this._generatedBody=Y,Y}handleContentLengthHeader(Y=!1){let J=this.headers.get("content-type");if(!J){if(this.contentType)this.headers.set("content-type",this.contentType)}else this.contentType=J;let X=this.headers.get("content-length");if(Y&&this.bodyInit==null&&!X)this.contentLength=0,this.headers.set("content-length","0");if(!X){if(this.contentLength)this.headers.set("content-length",this.contentLength.toString())}else this.contentLength=parseInt(X,10)}get body(){let Y=this.generateBody();if(Y!=null){let J=Y,X=Y.readable;return new Proxy(Y.readable,{get(Z,W){if(W in J){let $=J[W];if(typeof $==="function")return $.bind(J);return $}if(W in X){let $=X[W];if(typeof $==="function")return $.bind(X);return $}}})}return null}_chunks=null;_doCollectChunksFromReadableJob(){if(this.bodyType===u8.AsyncIterable){if(Array.fromAsync)return(0,Yx.handleMaybePromise)(()=>Array.fromAsync(this.bodyInit),($)=>{return this._chunks=$,this._chunks});let X=this.bodyInit[Symbol.asyncIterator](),Z=[],W=()=>(0,Yx.handleMaybePromise)(()=>X.next(),({value:$,done:G})=>{if($)Z.push($);if(!G)return W();return this._chunks=Z,this._chunks});return W()}let Y=this.generateBody();if(!Y)return this._chunks=[],(0,S5.fakePromise)(this._chunks);if(Y.readable.destroyed)return(0,S5.fakePromise)(this._chunks=[]);let J=[];return new Promise((X,Z)=>{Y.readable.on("data",(W)=>{J.push(W)}),Y.readable.once("error",Z),Y.readable.once("end",()=>{X(this._chunks=J)})})}_collectChunksFromReadable(){if(this._chunks)return(0,S5.fakePromise)(this._chunks);return this._chunks||=this._doCollectChunksFromReadableJob(),this._chunks}_blob=null;blob(){if(this._blob)return(0,S5.fakePromise)(this._blob);if(this.bodyType===u8.String)this._text=this.bodyInit,this._blob=new sB.PonyfillBlob([this._text],{type:this.contentType||"text/plain;charset=UTF-8",size:this.contentLength});if(this.bodyType===u8.Blob)return this._blob=this.bodyInit,(0,S5.fakePromise)(this._blob);if(this._buffer)return this._blob=new sB.PonyfillBlob([this._buffer],{type:this.contentType||"",size:this.contentLength}),(0,S5.fakePromise)(this._blob);return(0,S5.fakePromise)((0,Yx.handleMaybePromise)(()=>this._collectChunksFromReadable(),(Y)=>{return this._blob=new sB.PonyfillBlob(Y,{type:this.contentType||"",size:this.contentLength}),this._blob}))}_formData=null;formData(Y){if(this._formData)return(0,S5.fakePromise)(this._formData);if(this.bodyType===u8.FormData)return this._formData=this.bodyInit,(0,S5.fakePromise)(this._formData);if(this._formData=new aC0.PonyfillFormData,this.generateBody()==null)return(0,S5.fakePromise)(this._formData);let X={...this.options.formDataLimits,...Y?.formDataLimits};return new Promise((Z,W)=>{let $=this.body?.readable;if(!$)return W(Error("No stream available"));let G=null,Q=new kv6.Busboy({headers:{"content-length":typeof this.contentLength==="number"?this.contentLength.toString():this.contentLength||"","content-type":this.contentType||""},limits:X,defCharset:"utf-8"});if(this._signal)(0,iZ.addAbortSignal)(this._signal,Q);let U=!1,z=(H)=>{if(U)return;if(U=!0,$.unpipe(Q),Q.destroy(),G)G.destroy(),G=null;if(H)W(H);else Z(this._formData)};$.on("error",z),Q.on("field",(H,O,K,B)=>{if(K)return z(Error(`Field name size exceeded: ${X?.fieldNameSize} bytes`));if(B)return z(Error(`Field value size exceeded: ${X?.fieldSize} bytes`));this._formData.set(H,O)}),Q.on("file",(H,O,K,B,F)=>{G=O;let V=[];O.on("data",(I)=>{V.push(I)}),O.on("error",z),O.on("limit",()=>{z(Error(`File size limit exceeded: ${X?.fileSize} bytes`))}),O.on("close",()=>{if(O.truncated)z(Error(`File size limit exceeded: ${X?.fileSize} bytes`));G=null;let I=new _v6.PonyfillFile(V,K,{type:F});this._formData.set(H,I)})}),Q.on("fieldsLimit",()=>{z(Error(`Fields limit exceeded: ${X?.fields}`))}),Q.on("filesLimit",()=>{z(Error(`Files limit exceeded: ${X?.files}`))}),Q.on("partsLimit",()=>{z(Error(`Parts limit exceeded: ${X?.parts}`))}),Q.on("end",z),Q.on("finish",z),Q.on("close",z),Q.on("error",z),$.pipe(Q)})}buffer(){if(this._buffer)return(0,S5.fakePromise)(this._buffer);if(this._text)return this._buffer=N3.Buffer.from(this._text,"utf-8"),(0,S5.fakePromise)(this._buffer);if(this.bodyType===u8.String)return this.text().then((Y)=>{return this._text=Y,this._buffer=N3.Buffer.from(Y,"utf-8"),this._buffer});if(this.bodyType===u8.Blob){if((0,sB.hasBufferMethod)(this.bodyInit))return this.bodyInit.buffer().then((Y)=>{return this._buffer=Y,this._buffer});if((0,sB.hasBytesMethod)(this.bodyInit))return this.bodyInit.bytes().then((Y)=>{return this._buffer=N3.Buffer.from(Y),this._buffer});if((0,sB.hasArrayBufferMethod)(this.bodyInit))return this.bodyInit.arrayBuffer().then((Y)=>{return this._buffer=N3.Buffer.from(Y,void 0,Y.byteLength),this._buffer})}return(0,S5.fakePromise)((0,Yx.handleMaybePromise)(()=>this._collectChunksFromReadable(),(Y)=>{if(Y.length===1)return this._buffer=Y[0],this._buffer;return this._buffer=N3.Buffer.concat(Y),this._buffer}))}bytes(){return this.buffer()}arrayBuffer(){return this.buffer()}_json=null;json(){if(this._json)return(0,S5.fakePromise)(this._json);return this.text().then((Y)=>{try{this._json=JSON.parse(Y)}catch(J){if(J instanceof SyntaxError)J.message+=`, "${Y}" is not valid JSON`;throw J}return this._json})}_text=null;text(){if(this._text)return(0,S5.fakePromise)(this._text);if(this.bodyType===u8.String)return this._text=this.bodyInit,(0,S5.fakePromise)(this._text);return this.buffer().then((Y)=>{return this._text=Y.toString("utf-8"),this._text})}}tC0.PonyfillBody=sC0;function xv6(Y){if(Y==null)return{bodyFactory:()=>null,contentType:null,contentLength:null};if(typeof Y==="string"){let J=N3.Buffer.byteLength(Y);return{bodyType:u8.String,contentType:"text/plain;charset=UTF-8",contentLength:J,bodyFactory(){let X=iZ.Readable.from(N3.Buffer.from(Y,"utf-8"));return new nZ.PonyfillReadableStream(X)}}}if(N3.Buffer.isBuffer(Y)){let J=Y;return{bodyType:u8.Buffer,contentType:null,contentLength:Y.length,buffer:Y,bodyFactory(){let X=iZ.Readable.from(J);return new nZ.PonyfillReadableStream(X)}}}if((0,S5.isArrayBufferView)(Y)){let J=N3.Buffer.from(Y.buffer,Y.byteOffset,Y.byteLength);return{bodyType:u8.Buffer,contentLength:Y.byteLength,contentType:null,buffer:J,bodyFactory(){let X=iZ.Readable.from(J);return new nZ.PonyfillReadableStream(X)}}}if(Y instanceof nZ.PonyfillReadableStream&&Y.readable!=null){let J=Y;return{bodyType:u8.ReadableStream,bodyFactory:()=>J,contentType:null,contentLength:null}}if(vv6(Y)){let J=Y;return{bodyType:u8.Blob,contentType:Y.type,contentLength:Y.size,bodyFactory(){return J.stream()}}}if(Y instanceof ArrayBuffer){let J=Y.byteLength,X=N3.Buffer.from(Y,void 0,Y.byteLength);return{bodyType:u8.Buffer,contentType:null,contentLength:J,buffer:X,bodyFactory(){let Z=iZ.Readable.from(X);return new nZ.PonyfillReadableStream(Z)}}}if(Y instanceof iZ.Readable)return{bodyType:u8.Readable,contentType:null,contentLength:null,bodyFactory(){return new nZ.PonyfillReadableStream(Y)}};if(hv6(Y))return{bodyType:u8.String,contentType:"application/x-www-form-urlencoded;charset=UTF-8",contentLength:null,bodyFactory(){return new nZ.PonyfillReadableStream(iZ.Readable.from(Y.toString()))}};if(fv6(Y)){let J=Math.random().toString(36).substr(2),X=`multipart/form-data; boundary=${J}`;return{bodyType:u8.FormData,contentType:X,contentLength:null,bodyFactory(){return(0,aC0.getStreamFromFormData)(Y,J)}}}if(bv6(Y))return{contentType:null,contentLength:null,bodyFactory(){return new nZ.PonyfillReadableStream(Y)}};if(Y[Symbol.iterator]||Y[Symbol.asyncIterator])return{contentType:null,contentLength:null,bodyType:u8.AsyncIterable,bodyFactory(){let J=iZ.Readable.from(Y);return new nZ.PonyfillReadableStream(J)}};throw Error("Unknown body type")}function fv6(Y){return Y?.forEach!=null}function vv6(Y){return Y?.stream!=null&&typeof Y.stream==="function"}function hv6(Y){return Y?.sort!=null}function bv6(Y){return Y?.getReader!=null}});var Xx=q((Jj0)=>{Object.defineProperty(Jj0,"__esModule",{value:!0});Jj0.PonyfillHeaders=void 0;Jj0.isHeadersLike=KG;var yv6=C("util"),zY1=e_();function KG(Y){return Y?.get&&Y?.forEach}class Yj0{headersInit;_map;objectNormalizedKeysOfHeadersInit=[];objectOriginalKeysOfHeadersInit=[];_setCookies;constructor(Y){this.headersInit=Y}_get(Y){let J=Y.toLowerCase();if(J==="set-cookie"&&this._setCookies?.length)return this._setCookies.join(", ");if(this._map)return this._map.get(J)||null;if(this.headersInit==null)return null;if(Array.isArray(this.headersInit)){let X=this.headersInit.filter(([Z])=>Z.toLowerCase()===J);if(X.length===0)return null;if(X.length===1)return X[0][1];return X.map(([,Z])=>Z).join(", ")}else if(KG(this.headersInit))return this.headersInit.get(J);else{let X=this.headersInit[Y]||this.headersInit[J];if(X!=null)return X;if(!this.objectNormalizedKeysOfHeadersInit.length)Object.keys(this.headersInit).forEach(($)=>{this.objectOriginalKeysOfHeadersInit.push($),this.objectNormalizedKeysOfHeadersInit.push($.toLowerCase())});let Z=this.objectNormalizedKeysOfHeadersInit.indexOf(J);if(Z===-1)return null;let W=this.objectOriginalKeysOfHeadersInit[Z];return this.headersInit[W]}}getMap(){if(!this._map)if(this._setCookies||=[],this.headersInit!=null)if(Array.isArray(this.headersInit)){this._map=new Map;for(let[Y,J]of this.headersInit){let X=Y.toLowerCase();if(X==="set-cookie"){if(Array.isArray(J))this._setCookies.push(...J);else if(J!=null)this._setCookies.push(J);continue}this._map.set(X,J)}}else if(KG(this.headersInit))this._map=new Map,this.headersInit.forEach((Y,J)=>{if(J==="set-cookie"){if(this._setCookies||=[],Array.isArray(Y))this._setCookies.push(...Y);else if(Y!=null)this._setCookies.push(Y);return}this._map.set(J,Y)});else{this._map=new Map;for(let Y in this.headersInit){let J=this.headersInit[Y];if(J!=null){let X=Y.toLowerCase();if(X==="set-cookie"){if(this._setCookies||=[],Array.isArray(J)){this._setCookies.push(...J);continue}this._setCookies.push(J);continue}this._map.set(X,J)}}}else this._map=new Map;return this._map}append(Y,J){let X=Y.toLowerCase();if(X==="set-cookie"){this._setCookies||=[],this._setCookies.push(J);return}let Z=this.getMap().get(X),W=Z?`${Z}, ${J}`:J;this.getMap().set(X,W)}get(Y){let J=this._get(Y);if(J==null)return null;return J.toString()}has(Y){if(Y.toLowerCase()==="set-cookie")return!!this._setCookies?.length;return!!this._get(Y)}set(Y,J){let X=Y.toLowerCase();if(X==="set-cookie"){this._setCookies=[J];return}if(!this._map&&this.headersInit!=null)if(Array.isArray(this.headersInit)){let Z=this.headersInit.find(([W])=>W.toLowerCase()===X);if(Z)Z[1]=J;else this.headersInit.push([X,J]);return}else if(KG(this.headersInit)){this.headersInit.set(X,J);return}else{this.headersInit[X]=J;return}this.getMap().set(X,J)}delete(Y){let J=Y.toLowerCase();if(J==="set-cookie"){this._setCookies=[];return}this.getMap().delete(J)}forEach(Y){if(this._setCookies?.forEach((J)=>{Y(J,"set-cookie",this)}),!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){this.headersInit.forEach(([J,X])=>{Y(X,J,this)});return}if(KG(this.headersInit)){this.headersInit.forEach(Y);return}Object.entries(this.headersInit).forEach(([J,X])=>{if(X!=null)Y(X,J,this)})}return}this.getMap().forEach((J,X)=>{Y(J,X,this)})}*_keys(){if(this._setCookies?.length)yield"set-cookie";if(!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit.map(([Y])=>Y)[Symbol.iterator]();return}if(KG(this.headersInit)){yield*this.headersInit.keys();return}yield*Object.keys(this.headersInit)[Symbol.iterator]();return}}yield*this.getMap().keys()}keys(){return new zY1.PonyfillIteratorObject(this._keys(),"HeadersIterator")}*_values(){if(this._setCookies?.length)yield*this._setCookies;if(!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit.map(([,Y])=>Y)[Symbol.iterator]();return}if(KG(this.headersInit)){yield*this.headersInit.values();return}yield*Object.values(this.headersInit)[Symbol.iterator]();return}}yield*this.getMap().values()}values(){return new zY1.PonyfillIteratorObject(this._values(),"HeadersIterator")}*_entries(){if(this._setCookies?.length)yield*this._setCookies.map((Y)=>["set-cookie",Y]);if(!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit;return}if(KG(this.headersInit)){yield*this.headersInit.entries();return}yield*Object.entries(this.headersInit);return}}yield*this.getMap().entries()}entries(){return new zY1.PonyfillIteratorObject(this._entries(),"HeadersIterator")}getSetCookie(){if(!this._setCookies)this.getMap();return this._setCookies}[Symbol.iterator](){return this.entries()}[Symbol.for("nodejs.util.inspect.custom")](){let Y={};return this.forEach((J,X)=>{if(X==="set-cookie")Y["set-cookie"]=this._setCookies||[];else Y[X]=J?.includes(",")?J.split(",").map((Z)=>Z.trim()):J}),`Headers ${(0,yv6.inspect)(Y)}`}}Jj0.PonyfillHeaders=Yj0});var MP=q((Zj0)=>{Object.defineProperty(Zj0,"__esModule",{value:!0});Zj0.PonyfillResponse=void 0;var uv6=C("http"),mv6=Jx(),HY1=Xx(),PP="application/json; charset=utf-8";class LP extends mv6.PonyfillBody{headers;constructor(Y,J){super(Y||null,J);this.headers=J?.headers&&(0,HY1.isHeadersLike)(J.headers)?J.headers:new HY1.PonyfillHeaders(J?.headers),this.status=J?.status||200,this.statusText=J?.statusText||uv6.STATUS_CODES[this.status]||"OK",this.url=J?.url||"",this.redirected=J?.redirected||!1,this.type=J?.type||"default",this.handleContentLengthHeader()}get ok(){return this.status>=200&&this.status<300}status;statusText;url;redirected;type;clone(){return this}static error(){return new LP(null,{status:500,statusText:"Internal Server Error"})}static redirect(Y,J=302){if(J<300||J>399)throw RangeError("Invalid status code");return new LP(null,{headers:{location:Y},status:J})}static json(Y,J){let X=JSON.stringify(Y);if(!J)J={headers:{"content-type":PP,"content-length":Buffer.byteLength(X).toString()}};else if(!J.headers)J.headers={"content-type":PP,"content-length":Buffer.byteLength(X).toString()};else if((0,HY1.isHeadersLike)(J.headers)){if(!J.headers.has("content-type"))J.headers.set("content-type",PP);if(!J.headers.has("content-length"))J.headers.set("content-length",Buffer.byteLength(X).toString())}else if(Array.isArray(J.headers)){let Z=!1,W=!1;for(let[$]of J.headers){if(W&&Z)break;if(!Z&&$.toLowerCase()==="content-type")Z=!0;else if(!W&&$.toLowerCase()==="content-length")W=!0}if(!Z)J.headers.push(["content-type",PP]);if(!W)J.headers.push(["content-length",Buffer.byteLength(X).toString()])}else if(typeof J.headers==="object"){if(J.headers?.["content-type"]==null)J.headers["content-type"]=PP;if(J.headers?.["content-length"]==null)J.headers["content-length"]=Buffer.byteLength(X).toString()}return new LP(X,J)}[Symbol.toStringTag]="Response"}Zj0.PonyfillResponse=LP});var Qj0=q((Gj0)=>{Object.defineProperty(Gj0,"__esModule",{value:!0});Gj0.fetchCurl=pv6;var $j0=C("stream"),dv6=C("tls"),cv6=q8(),lv6=MP(),OY1=N7();function pv6(Y){let{Curl:J,CurlFeature:X,CurlPause:Z,CurlProgressFunc:W}=globalThis.libcurl,$=new J;if($.enable(X.NoDataParsing),$.setOpt("URL",Y.url),process.env.NODE_TLS_REJECT_UNAUTHORIZED==="0")$.setOpt("SSL_VERIFYPEER",!1);if(process.env.NODE_EXTRA_CA_CERTS)$.setOpt("CAINFO",process.env.NODE_EXTRA_CA_CERTS);else $.setOpt("CAINFO_BLOB",dv6.rootCertificates.join(`
`));$.enable(X.StreamResponse);let G;if(Y._signal===null)G=void 0;else if(Y._signal)G=Y._signal;if($.setStreamProgressCallback(function(){return G?.aborted?process.env.DEBUG?W.Continue:1:0}),Y.bodyType==="String")$.setOpt("POSTFIELDS",Y.bodyInit);else{let B=Y.body!=null?(0,OY1.isNodeReadable)(Y.body)?Y.body:$j0.Readable.from(Y.body):null;if(B)$.setOpt("UPLOAD",!0),$.setUploadStream(B)}if(process.env.DEBUG)$.setOpt("VERBOSE",!0);$.setOpt("TRANSFER_ENCODING",!1),$.setOpt("HTTP_TRANSFER_DECODING",!0),$.setOpt("FOLLOWLOCATION",Y.redirect==="follow"),$.setOpt("MAXREDIRS",20),$.setOpt("ACCEPT_ENCODING",""),$.setOpt("CUSTOMREQUEST",Y.method);let Q=Y.headersSerializer||OY1.defaultHeadersSerializer,U,z=Q(Y.headers,(B)=>{U=Number(B)});if(U!=null)$.setOpt("INFILESIZE",U);$.setOpt("HTTPHEADER",z),$.enable(X.NoHeaderParsing);let H=(0,cv6.createDeferredPromise)(),O;function K(){if($.isOpen)try{$.pause(Z.Recv)}catch(B){H.reject(B)}}return G?.addEventListener("abort",K,{once:!0}),$.once("end",function(){try{$.close()}catch(F){H.reject(F)}G?.removeEventListener("abort",K)}),$.once("error",function(F){if(O&&!O.closed&&!O.destroyed)O.destroy(F);else{if(F.message==="Operation was aborted by an application callback")F.message="The operation was aborted.";H.reject(F)}try{$.close()}catch(V){H.reject(V)}}),$.once("stream",function(F,V,I){let D=F.pipe(new $j0.PassThrough,{end:!0}),A=I.toString("utf8").split(/\r?\n|\r/g).filter((R)=>{if(R&&!R.startsWith("HTTP/")){if(Y.redirect==="error"&&R.toLowerCase().includes("location")&&(0,OY1.shouldRedirect)(V)){if(!F.destroyed)F.resume();D.destroy(),H.reject(Error("redirect is not allowed"))}return!0}return!1}).map((R)=>R.split(/:\s(.+)/).slice(0,2)),P=new lv6.PonyfillResponse(D,{status:V,headers:A,url:$.getInfo(J.info.REDIRECT_URL)?.toString()||Y.url,redirected:Number($.getInfo(J.info.REDIRECT_COUNT))>0});H.resolve(P),O=D}),setImmediate(()=>{$.perform()}),H.promise}});var EP=q((Hj0)=>{Object.defineProperty(Hj0,"__esModule",{value:!0});Hj0.PonyfillURL=void 0;var iv6=e9(),ov6=iv6.__importDefault(C("buffer")),rv6=C("crypto"),Uj0=globalThis.URL;class zj0 extends Uj0{static blobRegistry=new Map;static createObjectURL(Y){let J=`blob:whatwgnode:${(0,rv6.randomUUID)()}`;return this.blobRegistry.set(J,Y),J}static revokeObjectURL(Y){if(!this.blobRegistry.has(Y))Uj0.revokeObjectURL(Y);else this.blobRegistry.delete(Y)}static getBlobFromURL(Y){return this.blobRegistry.get(Y)||ov6.default?.resolveObjectURL?.(Y)}}Hj0.PonyfillURL=zj0});var Zx=q((qj0)=>{Object.defineProperty(qj0,"__esModule",{value:!0});qj0.PonyfillRequest=void 0;var av6=C("http"),sv6=C("https"),tv6=Jx(),Kj0=Xx(),ev6=EP();function Yh6(Y){return Y[Symbol.toStringTag]==="Request"}function Jh6(Y){return Y?.href!=null}class Bj0 extends tv6.PonyfillBody{constructor(Y,J){let X,Z,W=null,$;if(typeof Y==="string")X=Y;else if(Jh6(Y))Z=Y;else if(Yh6(Y)){if(Y._parsedUrl)Z=Y._parsedUrl;else if(Y._url)X=Y._url;else X=Y.url;W=Y.body,$=Y}if(J!=null)W=J.body||null,$=J;super(W,$);if(this._url=X,this._parsedUrl=Z,this.cache=$?.cache||"default",this.credentials=$?.credentials||"same-origin",this.headers=$?.headers&&(0,Kj0.isHeadersLike)($.headers)?$.headers:new Kj0.PonyfillHeaders($?.headers),this.integrity=$?.integrity||"",this.keepalive=$?.keepalive!=null?$?.keepalive:!1,this.method=$?.method?.toUpperCase()||"GET",this.mode=$?.mode||"cors",this.redirect=$?.redirect||"follow",this.referrer=$?.referrer||"about:client",this.referrerPolicy=$?.referrerPolicy||"no-referrer",this.headersSerializer=$?.headersSerializer,this.duplex=$?.duplex||"half",this.destination="document",this.priority="auto",this.method!=="GET"&&this.method!=="HEAD")this.handleContentLengthHeader(!0);if($?.agent!=null){let G=Z?.protocol||X||this.url;if($.agent===!1)this.agent=!1;else if(G.startsWith("http:")&&$.agent instanceof av6.Agent)this.agent=$.agent;else if(G.startsWith("https:")&&$.agent instanceof sv6.Agent)this.agent=$.agent}}headersSerializer;cache;credentials;destination;headers;integrity;keepalive;method;mode;priority;redirect;referrer;referrerPolicy;_url;get signal(){return this._signal||=new AbortController().signal,this._signal}get url(){if(this._url==null)if(this._parsedUrl)this._url=this._parsedUrl.toString();else throw TypeError("Invalid URL");return this._url}_parsedUrl;get parsedUrl(){if(this._parsedUrl==null)if(this._url!=null)this._parsedUrl=new ev6.PonyfillURL(this._url,"http://localhost");else throw TypeError("Invalid URL");return this._parsedUrl}duplex;agent;clone(){return this}[Symbol.toStringTag]="Request"}qj0.PonyfillRequest=Bj0});var Pj0=q((Aj0)=>{Object.defineProperty(Aj0,"__esModule",{value:!0});Aj0.fetchNodeHttp=wj0;var Xh6=e9(),Dj0=C("http"),Zh6=C("https"),Vj0=C("stream"),tB=Xh6.__importDefault(C("zlib")),Ij0=q8(),Wh6=Zx(),$h6=MP(),Gh6=EP(),S3=N7();function Qh6(Y){if(Y.startsWith("http:"))return Dj0.request;else if(Y.startsWith("https:"))return Zh6.request;throw Error(`Unsupported protocol: ${Y.split(":")[0]||Y}`)}function wj0(Y){return new Promise((J,X)=>{try{let Z=Qh6(Y.parsedUrl?.protocol||Y.url),$=(Y.headersSerializer||S3.getHeadersObj)(Y.headers);if($["accept-encoding"]||=S3.DEFAULT_ACCEPT_ENCODING,$["user-agent"]==null&&$["User-Agent"]==null)$["user-agent"]="node";let G;if(Y._signal==null)G=void 0;else if(Y._signal)G=Y._signal;let Q;if(Y.parsedUrl)Q=Z(Y.parsedUrl,{method:Y.method,headers:$,signal:G,agent:Y.agent});else Q=Z(Y.url,{method:Y.method,headers:$,signal:G,agent:Y.agent});if(Q.once("error",X),Q.once("response",(U)=>{let z;switch(U.headers["content-encoding"]){case"x-gzip":case"gzip":z=tB.default.createGunzip();break;case"x-deflate":case"deflate":z=tB.default.createInflate();break;case"x-deflate-raw":case"deflate-raw":z=tB.default.createInflateRaw();break;case"br":z=tB.default.createBrotliDecompress();break;case"zstd":if(tB.default.createZstdDecompress!=null)z=tB.default.createZstdDecompress();break}if(U.headers.location&&(0,S3.shouldRedirect)(U.statusCode)){if(Y.redirect==="error"){let F=Error("Redirects are not allowed");X(F),U.resume();return}if(Y.redirect==="follow"){let F=new Gh6.PonyfillURL(U.headers.location,Y.parsedUrl||Y.url),V=wj0(new Wh6.PonyfillRequest(F,Y));J(V.then((I)=>{return I.redirected=!0,I})),U.resume();return}}z||=new Vj0.PassThrough,(0,S3.pipeThrough)({src:U,dest:z,signal:G,onError:(F)=>{if(!U.destroyed)U.destroy(F);if(!z.destroyed)z.destroy(F);X(F)}});let O=U.statusCode||200,K=U.statusMessage||Dj0.STATUS_CODES[O];if(K==null)K="";let B=new $h6.PonyfillResponse(z||U,{status:O,statusText:K,headers:U.headers,url:Y.url,signal:G});J(B)}),Y._buffer!=null)(0,Ij0.handleMaybePromise)(()=>(0,S3.safeWrite)(Y._buffer,Q),()=>(0,S3.endStream)(Q),X);else if(Y.bodyType==="String")(0,Ij0.handleMaybePromise)(()=>(0,S3.safeWrite)(Y.bodyInit,Q),()=>(0,S3.endStream)(Q),X);else{let U=Y.body!=null?(0,S3.isNodeReadable)(Y.body)?Y.body:Vj0.Readable.from(Y.body):null;if(U)U.pipe(Q);else(0,S3.endStream)(Q)}}catch(Z){X(Z)}})}});var Rj0=q((Tj0)=>{Object.defineProperty(Tj0,"__esModule",{value:!0});Tj0.fetchPonyfill=Ej0;var zh6=C("buffer"),Wx=C("fs"),Hh6=C("url"),Oh6=Qj0(),Kh6=Pj0(),Bh6=Zx(),eB=MP(),qh6=EP(),Lj0=N7(),Mj0=";base64";async function Fh6(Y){let J=(0,Hh6.fileURLToPath)(Y);try{await Wx.promises.access(J,Wx.promises.constants.R_OK);let X=await Wx.promises.stat(J,{bigint:!0}),Z=(0,Wx.createReadStream)(J);return new eB.PonyfillResponse(Z,{status:200,statusText:"OK",headers:{"content-type":"application/octet-stream","last-modified":X.mtime.toUTCString()}})}catch(X){if(X.code==="ENOENT")return new eB.PonyfillResponse(null,{status:404,statusText:"Not Found"});else if(X.code==="EACCES")return new eB.PonyfillResponse(null,{status:403,statusText:"Forbidden"});throw X}}function Vh6(Y){let[J="text/plain",...X]=Y.substring(5).split(","),Z=decodeURIComponent(X.join(","));if(J.endsWith(Mj0)){let W=zh6.Buffer.from(Z,"base64url"),$=J.slice(0,-Mj0.length);return new eB.PonyfillResponse(W,{status:200,statusText:"OK",headers:{"content-type":$}})}return new eB.PonyfillResponse(Z,{status:200,statusText:"OK",headers:{"content-type":J}})}function Ih6(Y){let J=qh6.PonyfillURL.getBlobFromURL(Y);if(!J)throw TypeError("Invalid Blob URL");return new eB.PonyfillResponse(J,{status:200,headers:{"content-type":J.type,"content-length":J.size.toString()}})}function Dh6(Y){return Y!=null&&Y.href!=null}function Ej0(Y,J){if(typeof Y==="string"||Dh6(Y)){let Z=new Bh6.PonyfillRequest(Y,J);return Ej0(Z)}let X=Y;if(X.url.startsWith("data:")){let Z=Vh6(X.url);return(0,Lj0.fakePromise)(Z)}if(X.url.startsWith("file:"))return Fh6(X.url);if(X.url.startsWith("blob:")){let Z=Ih6(X.url);return(0,Lj0.fakePromise)(Z)}if(globalThis.libcurl&&!X.agent)return(0,Oh6.fetchCurl)(X);return(0,Kh6.fetchNodeHttp)(X)}});var KY1=q((Cj0)=>{Object.defineProperty(Cj0,"__esModule",{value:!0});Cj0.PonyfillTextDecoder=Cj0.PonyfillTextEncoder=void 0;Cj0.PonyfillBtoa=Ph6;var TP=C("buffer"),Ah6=N7();class Nj0{encoding;constructor(Y="utf-8"){this.encoding=Y}encode(Y){return TP.Buffer.from(Y,this.encoding)}encodeInto(Y,J){let Z=this.encode(Y).copy(J);return{read:Z,written:Z}}}Cj0.PonyfillTextEncoder=Nj0;class Sj0{encoding;fatal=!1;ignoreBOM=!1;constructor(Y="utf-8",J){if(this.encoding=Y,J)this.fatal=J.fatal||!1,this.ignoreBOM=J.ignoreBOM||!1}decode(Y){if(TP.Buffer.isBuffer(Y))return Y.toString(this.encoding);if((0,Ah6.isArrayBufferView)(Y))return TP.Buffer.from(Y.buffer,Y.byteOffset,Y.byteLength).toString(this.encoding);return TP.Buffer.from(Y).toString(this.encoding)}}Cj0.PonyfillTextDecoder=Sj0;function Ph6(Y){return TP.Buffer.from(Y,"binary").toString("base64")}});var xj0=q((kj0)=>{Object.defineProperty(kj0,"__esModule",{value:!0});kj0.PonyfillURLSearchParams=void 0;kj0.PonyfillURLSearchParams=globalThis.URLSearchParams});var qY1=q((hj0)=>{Object.defineProperty(hj0,"__esModule",{value:!0});hj0.PonyfillWritableStream=void 0;var $x=C("events"),BY1=C("stream"),fj0=q8(),BG=N7();class vj0{writable;constructor(Y){if(Y instanceof BY1.Writable)this.writable=Y;else if(Y){let J=new BY1.Writable({write(W,$,G){try{let Q=Y.write?.(W,Z);if(Q instanceof Promise)Q.then(()=>{G()},(U)=>{G(U)});else G()}catch(Q){G(Q)}},final(W){let $=Y.close?.();if($ instanceof Promise)$.then(()=>{W()},(G)=>{W(G)});else W()}});this.writable=J;let X=new AbortController,Z={signal:X.signal,error(W){J.destroy(W)}};J.once("error",(W)=>X.abort(W)),J.once("close",()=>X.abort())}else this.writable=new BY1.Writable}getWriter(){let Y=this.writable;return{get closed(){return(0,$x.once)(Y,"close")},get desiredSize(){return Y.writableLength},get ready(){return(0,$x.once)(Y,"drain")},releaseLock(){},write(J){let X=(0,BG.fakePromise)();if(J==null)return X;return X.then(()=>(0,BG.safeWrite)(J,Y))},close(){if(!Y.errored&&Y.closed)return(0,BG.fakePromise)();if(Y.errored)return(0,fj0.fakeRejectPromise)(Y.errored);return(0,BG.fakePromise)().then(()=>(0,BG.endStream)(Y))},abort(J){return Y.destroy(J),(0,$x.once)(Y,"close")}}}close(){if(!this.writable.errored&&this.writable.closed)return(0,BG.fakePromise)();if(this.writable.errored)return(0,fj0.fakeRejectPromise)(this.writable.errored);return(0,BG.fakePromise)().then(()=>(0,BG.endStream)(this.writable))}abort(Y){return this.writable.destroy(Y),(0,$x.once)(this.writable,"close")}locked=!1}hj0.PonyfillWritableStream=vj0});var RP=q((gj0)=>{Object.defineProperty(gj0,"__esModule",{value:!0});gj0.PonyfillTransformStream=void 0;var FY1=C("stream"),Eh6=aB(),Th6=N7(),Rh6=qY1();class yj0{transform;writable;readable;constructor(Y){if(Y instanceof FY1.Transform)this.transform=Y;else if(Y){let J={enqueue(Z){X.push(Z)},error(Z){X.destroy(Z)},terminate(){(0,Th6.endStream)(X)},get desiredSize(){return X.writableLength}},X=new FY1.Transform({read(){},write(Z,W,$){try{let G=Y.transform?.(Z,J);if(G instanceof Promise)G.then(()=>{$()},(Q)=>{$(Q)});else $()}catch(G){$(G)}},final(Z){try{let W=Y.flush?.(J);if(W instanceof Promise)W.then(()=>{Z()},($)=>{Z($)});else Z()}catch(W){Z(W)}}});this.transform=X}else this.transform=new FY1.Transform;this.writable=new Rh6.PonyfillWritableStream(this.transform),this.readable=new Eh6.PonyfillReadableStream(this.transform)}}gj0.PonyfillTransformStream=yj0});var lj0=q((dj0)=>{Object.defineProperty(dj0,"__esModule",{value:!0});dj0.PonyfillCompressionStream=void 0;var Nh6=e9(),NP=Nh6.__importDefault(C("zlib")),Sh6=RP(),Ch6=N7();class mj0 extends Sh6.PonyfillTransformStream{static supportedFormats=(0,Ch6.getSupportedFormats)();constructor(Y){switch(Y){case"x-gzip":case"gzip":super(NP.default.createGzip());break;case"x-deflate":case"deflate":super(NP.default.createDeflate());break;case"deflate-raw":super(NP.default.createDeflateRaw());break;case"br":super(NP.default.createBrotliCompress());break;case"zstd":super(NP.default.createZstdCompress());break;default:throw Error(`Unsupported compression format: ${Y}`)}}}dj0.PonyfillCompressionStream=mj0});var oj0=q((nj0)=>{Object.defineProperty(nj0,"__esModule",{value:!0});nj0.PonyfillDecompressionStream=void 0;var jh6=e9(),SP=jh6.__importDefault(C("zlib")),kh6=RP(),_h6=N7();class pj0 extends kh6.PonyfillTransformStream{static supportedFormats=(0,_h6.getSupportedFormats)();constructor(Y){switch(Y){case"x-gzip":case"gzip":super(SP.default.createGunzip());break;case"x-deflate":case"deflate":super(SP.default.createInflate());break;case"deflate-raw":super(SP.default.createInflateRaw());break;case"br":super(SP.default.createBrotliDecompress());break;case"zstd":super(SP.default.createZstdDecompress());break;default:throw TypeError(`Unsupported compression format: '${Y}'`)}}}nj0.PonyfillDecompressionStream=pj0});var Jk0=q((ej0)=>{Object.defineProperty(ej0,"__esModule",{value:!0});ej0.PonyfillTextEncoderStream=ej0.PonyfillTextDecoderStream=void 0;var rj0=KY1(),aj0=RP();class sj0 extends aj0.PonyfillTransformStream{textDecoder;constructor(Y,J){super({transform:(X,Z)=>Z.enqueue(this.textDecoder.decode(X,{stream:!0}))});this.textDecoder=new rj0.PonyfillTextDecoder(Y,J)}get encoding(){return this.textDecoder.encoding}get fatal(){return this.textDecoder.fatal}get ignoreBOM(){return this.textDecoder.ignoreBOM}}ej0.PonyfillTextDecoderStream=sj0;class tj0 extends aj0.PonyfillTransformStream{textEncoder;constructor(Y){super({transform:(J,X)=>X.enqueue(this.textEncoder.encode(J))});this.textEncoder=new rj0.PonyfillTextEncoder(Y)}get encoding(){return this.textEncoder.encoding}encode(Y){return this.textEncoder.encode(Y)}}ej0.PonyfillTextEncoderStream=tj0});var Zk0=q((q6)=>{Object.defineProperty(q6,"__esModule",{value:!0});q6.TextEncoderStream=q6.TextDecoderStream=q6.IteratorObject=q6.DecompressionStream=q6.CompressionStream=q6.TransformStream=q6.WritableStream=q6.URLSearchParams=q6.URL=q6.btoa=q6.TextDecoder=q6.TextEncoder=q6.Blob=q6.FormData=q6.File=q6.ReadableStream=q6.Response=q6.Request=q6.Body=q6.Headers=q6.fetch=void 0;var fh6=Rj0();Object.defineProperty(q6,"fetch",{enumerable:!0,get:function(){return fh6.fetchPonyfill}});var vh6=Xx();Object.defineProperty(q6,"Headers",{enumerable:!0,get:function(){return vh6.PonyfillHeaders}});var hh6=Jx();Object.defineProperty(q6,"Body",{enumerable:!0,get:function(){return hh6.PonyfillBody}});var bh6=Zx();Object.defineProperty(q6,"Request",{enumerable:!0,get:function(){return bh6.PonyfillRequest}});var yh6=MP();Object.defineProperty(q6,"Response",{enumerable:!0,get:function(){return yh6.PonyfillResponse}});var gh6=aB();Object.defineProperty(q6,"ReadableStream",{enumerable:!0,get:function(){return gh6.PonyfillReadableStream}});var uh6=JY1();Object.defineProperty(q6,"File",{enumerable:!0,get:function(){return uh6.PonyfillFile}});var mh6=UY1();Object.defineProperty(q6,"FormData",{enumerable:!0,get:function(){return mh6.PonyfillFormData}});var dh6=r_();Object.defineProperty(q6,"Blob",{enumerable:!0,get:function(){return dh6.PonyfillBlob}});var VY1=KY1();Object.defineProperty(q6,"TextEncoder",{enumerable:!0,get:function(){return VY1.PonyfillTextEncoder}});Object.defineProperty(q6,"TextDecoder",{enumerable:!0,get:function(){return VY1.PonyfillTextDecoder}});Object.defineProperty(q6,"btoa",{enumerable:!0,get:function(){return VY1.PonyfillBtoa}});var ch6=EP();Object.defineProperty(q6,"URL",{enumerable:!0,get:function(){return ch6.PonyfillURL}});var lh6=xj0();Object.defineProperty(q6,"URLSearchParams",{enumerable:!0,get:function(){return lh6.PonyfillURLSearchParams}});var ph6=qY1();Object.defineProperty(q6,"WritableStream",{enumerable:!0,get:function(){return ph6.PonyfillWritableStream}});var nh6=RP();Object.defineProperty(q6,"TransformStream",{enumerable:!0,get:function(){return nh6.PonyfillTransformStream}});var ih6=lj0();Object.defineProperty(q6,"CompressionStream",{enumerable:!0,get:function(){return ih6.PonyfillCompressionStream}});var oh6=oj0();Object.defineProperty(q6,"DecompressionStream",{enumerable:!0,get:function(){return oh6.PonyfillDecompressionStream}});var rh6=e_();Object.defineProperty(q6,"IteratorObject",{enumerable:!0,get:function(){return rh6.PonyfillIteratorObject}});var Xk0=Jk0();Object.defineProperty(q6,"TextDecoderStream",{enumerable:!0,get:function(){return Xk0.PonyfillTextDecoderStream}});Object.defineProperty(q6,"TextEncoderStream",{enumerable:!0,get:function(){return Xk0.PonyfillTextEncoderStream}})});var $k0=q((L28,Wk0)=>{var sh6=L71(),F6;Wk0.exports=function(J={}){let X={};if(X.URLPattern=globalThis.URLPattern,!X.URLPattern){let Z=v_();X.URLPattern=Z.URLPattern}if(J.skipPonyfill||sh6())return{fetch:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response,FormData:globalThis.FormData,ReadableStream:globalThis.ReadableStream,WritableStream:globalThis.WritableStream,TransformStream:globalThis.TransformStream,CompressionStream:globalThis.CompressionStream,DecompressionStream:globalThis.DecompressionStream,TextDecoderStream:globalThis.TextDecoderStream,TextEncoderStream:globalThis.TextEncoderStream,Blob:globalThis.Blob,File:globalThis.File,crypto:globalThis.crypto,btoa:globalThis.btoa,TextEncoder:globalThis.TextEncoder,TextDecoder:globalThis.TextDecoder,URLPattern:X.URLPattern,URL:globalThis.URL,URLSearchParams:globalThis.URLSearchParams};if(F6||=Zk0(),X.fetch=F6.fetch,X.Request=F6.Request,X.Response=F6.Response,X.Headers=F6.Headers,X.FormData=F6.FormData,X.ReadableStream=F6.ReadableStream,X.URL=F6.URL,X.URLSearchParams=F6.URLSearchParams,X.WritableStream=F6.WritableStream,X.TransformStream=F6.TransformStream,X.CompressionStream=F6.CompressionStream,X.DecompressionStream=F6.DecompressionStream,X.TextDecoderStream=F6.TextDecoderStream,X.TextEncoderStream=F6.TextEncoderStream,X.Blob=F6.Blob,X.File=F6.File,X.crypto=globalThis.crypto,X.btoa=F6.btoa,X.TextEncoder=F6.TextEncoder,X.TextDecoder=F6.TextDecoder,J.formDataLimits)X.Body=class extends F6.Body{constructor(W,$){super(W,{formDataLimits:J.formDataLimits,...$})}},X.Request=class extends F6.Request{constructor(W,$){super(W,{formDataLimits:J.formDataLimits,...$})}},X.Response=class extends F6.Response{constructor(W,$){super(W,{formDataLimits:J.formDataLimits,...$})}};if(!X.crypto){let Z=C("crypto");X.crypto=Z.webcrypto}return X}});var th6,eh6,Y8,Yb6,Jb6,Xb6,Zb6,Wb6,$b6,Gb6,Qb6,Ub6,zb6,Hb6,Ob6,Kb6,Bb6,IY1,qb6,DY1,Fb6,Vb6,Ib6,Db6;var Gk0=w(()=>{th6=$k0(),eh6=L71(),Y8=th6();if(!eh6())try{globalThis.libcurl=globalThis.libcurl||(()=>{throw new Error("Cannot require module "+"node-libcurl");})()}catch(Y){}Yb6=Y8.fetch,Jb6=Y8.Headers,Xb6=Y8.Request,Zb6=Y8.Response,Wb6=Y8.FormData,$b6=Y8.ReadableStream,Gb6=Y8.WritableStream,Qb6=Y8.TransformStream,Ub6=Y8.CompressionStream,zb6=Y8.DecompressionStream,Hb6=Y8.TextDecoderStream,Ob6=Y8.TextEncoderStream,Kb6=Y8.Blob,Bb6=Y8.File,IY1=Y8.crypto,qb6=Y8.btoa,DY1=Y8.TextEncoder,Fb6=Y8.TextDecoder,Vb6=Y8.URLPattern,Ib6=Y8.URL,Db6=Y8.URLSearchParams});function Qk0(Y){let J=new DY1().encode(Y);return T1(()=>IY1.subtle.digest({name:"SHA-256"},J),(X)=>{let Z=new Uint8Array(X),W="";for(let $=0,G=Z.length;$<G;$++){let Q=Z[$].toString(16);W+="00".slice(0,Math.max(0,2-Q.length))+Q}return W})}var wY1=w(()=>{Gk0();z4()});function Ab6(Y){return UP(Y.document,Y6.print)}function Ok0({cache:Y=N_(),ttl:J=1/0,session:X,enabled:Z,ignoredTypes:W=[],ttlPerType:$,ttlPerSchemaCoordinate:G={},scopePerSchemaCoordinate:Q={},idFields:U=["id"],invalidateViaMutation:z=!0,buildResponseCacheKey:H=LY1,getDocumentString:O=Ab6,shouldCacheResult:K=wb6,onTtl:B,includeExtensionMetadata:F=typeof process<"u"?!0:!1}){let V=typeof Y==="function"?t9(Y):()=>Y,I=new Set(W),D=new Map;if(Z=Z?t9(Z):Z,G={"Query.__schema":0,...G},$){console.warn("[useResponseCache] `ttlForType` is deprecated. To migrate, merge it with `ttlForSchemaCoordinate` option");for(let[N,v]of Object.entries($))G[N]=v}let L={queries:{invalidateViaMutation:z,ttlPerSchemaCoordinate:G},mutations:{invalidateViaMutation:z}},A=new Map,P;function R(N,v){if(Q[N]==="PRIVATE")return!0;return Object.keys(v).some((j)=>Q[`${N}.${j}`]==="PRIVATE")}return{onSchemaChange({schema:N}){if(P===N)return;P=N;let v=P.getDirective("cacheControl");g20(P,{...v&&{[E0.COMPOSITE_TYPE]:(j)=>{return H71(P,j,"cacheControl")?.forEach((b)=>{if(b.maxAge!=null)G[j.name]=b.maxAge*1000;if(b.scope)Q[j.name]=b.scope}),j}},[E0.FIELD]:(j,M,b)=>{let k=`${b}.${M}`,r=PY1(j.type);if(D.set(k,r),U.includes(M)&&!A.has(b))A.set(b,M);if(v)H71(P,j,"cacheControl")?.forEach((S)=>{if(S.maxAge!=null)G[k]=S.maxAge*1000;if(S.scope)Q[k]=S.scope});return j}})},onExecute(N){if(Z&&!Z(N.args.contextValue))return;let v=new Map,j=new Set,M,b=!1,k=X(N.args.contextValue);function r({execute:c,onExecuteDone:d}){let a=!1;return N.setExecuteFn((H1)=>{return a=!0,c(H1)}),{onExecuteDone(H1){if(!a)console.warn("[useResponseCache] The cached execute function was not called, another plugin might have overwritten it. Please check your plugin order.");return d?.(H1)}}}function p(c,d){if(b)return;if(I.has(c.typename)||!k&&R(c.typename,d)){b=!0;return}if(!c.id){let a=A.get(c.typename);if(a)c.id=d[a]}if(j.add(c.typename),c.typename in G){let a=G[c.typename];M=AY1(a,M)}if(c.id!=null)v.set(`${c.typename}:${c.id}`,c);for(let a in d){let H1=d[a];if(H1==null||Array.isArray(H1)&&H1.length===0)D.get(`${c.typename}.${a}`)?.forEach((z1)=>{if(z1 in G){let y1=G[z1];M=AY1(y1,M)}v.set(z1,{typename:z1})})}}function S(c,d){let a=!1;if(c.data)c={...c},c.data=qG(c.data,p),a=!0;let H1=V(N.args.contextValue);if(H1==null){console.warn("[useResponseCache] Cache instance is not available for the context. Skipping invalidation.");return}if(v.size>0){if(H1.invalidate(v.values()),F)return d(Yq(c,{invalidatedEntities:Array.from(v.values())}))}if(a)d(c)}if(z!==!1){if(Y6.getOperationAST(N.args.document,N.args.operationName)?.operation==="mutation")return r({execute(d){let[a]=Uk0(d.document,L.mutations,d.schema,A);return N.executeFn({...d,document:a})},onExecuteDone({result:d,setResult:a}){if(U5(d))return zk0(S);return S(d,a)}})}return T1(()=>H({documentString:O(N.args),variableValues:N.args.variableValues,operationName:N.args.operationName,sessionId:k,context:N.args.contextValue}),(c)=>{let d=V(N.args.contextValue);if(d==null)console.warn("[useResponseCache] Cache instance is not available for the context. Skipping cache lookup.");return T1(()=>d.get(c),(a)=>{if(a!=null)return r({execute:()=>F?Yq(a,{hit:!0}):a});function H1(F1,z1){if(F1.data)F1.data=qG(F1.data,p);let y1=M??J;if(B)y1=B({ttl:y1,context:N.args.contextValue});if(b||!K({cacheKey:c,result:F1})||y1===0){if(F)z1(Yq(F1,{hit:!1,didCache:!1}));return}if(d.set(c,F1,v.values(),y1),F)z1(Yq(F1,{hit:!1,didCache:!0,ttl:y1}))}return r({execute(F1){let[z1,y1]=Uk0(F1.document,L.queries,P,A);return M=y1,N.executeFn({...F1,document:z1})},onExecuteDone({result:F1,setResult:z1}){if(U5(F1))return zk0(H1);return H1(F1,z1)}})})})}}}function zk0(Y){let J={};return{onNext(X){if(X.result.data)J.data=X.result.data;if(X.result.errors)J.errors=X.result.errors;if(X.result.extensions)J.extensions=X.result.extensions;if("hasNext"in X.result){let{incremental:W,hasNext:$}=X.result;if(W)for(let G of W)P71({executionResult:J,incrementalResult:G});if(!$)Y(J,X.setResult)}let Z={...X.result};if(Z.data)Z.data=qG(Z.data);if("hasNext"in Z&&Z.incremental)Z.incremental=Z.incremental.map((W)=>{if("items"in W&&W.items)return{...W,items:qG(W.items)};if("data"in W&&W.data)return{...W,data:qG(W.data)};return W});X.setResult(Z)}}}function Yq(Y,J){return{...Y,extensions:{...Y.extensions,responseCache:{...Y.extensions?.responseCache,...J}}}}function AY1(Y,J){if(typeof Y==="number"&&!Number.isNaN(Y)){if(typeof J==="number")return Math.min(J,Y);return Y}return J}function PY1(Y){if(Y6.isListType(Y)||Y6.isNonNullType(Y))return PY1(Y.ofType);if(Y6.isUnionType(Y))return Y.getTypes().map((J)=>PY1(J)).flat();return[Y.name]}function qG(Y,J){if(Array.isArray(Y))return Y.map((W)=>qG(W,J));if(typeof Y!=="object"||Y==null)return Y;let X=Object.getPrototypeOf(Y);if(X!=null&&X!==Object.prototype)return Y;Y={...Y};let Z=Y.__responseCacheTypeName??Y.__typename;if(typeof Z==="string"){let W={typename:Z};if(delete Y.__responseCacheTypeName,Y.__responseCacheId&&(typeof Y.__responseCacheId==="string"||typeof Y.__responseCacheId==="number"))W.id=Y.__responseCacheId,delete Y.__responseCacheId;J?.(W,Y)}for(let W in Y){let $=Y[W];if(Array.isArray($))Y[W]=qG($,J);if($!==null&&typeof $==="object")Y[W]=qG($,J)}return Y}var Hk0,Y6,LY1=(Y)=>Qk0([Y.documentString,Y.operationName??"",Hk0.default(Y.variableValues??{}),Y.sessionId??""].join("|")),wb6=(Y)=>{if(Y.result.errors)return console.warn("[useResponseCache] Failed to cache due to errors"),!1;return!0},Uk0;var Kk0=w(()=>{Hz();wN0();z4();wY1();$71();Hk0=q1($20(),1),Y6=q1(f1(),1);Uk0=K20(function(J,{invalidateViaMutation:X,ttlPerSchemaCoordinate:Z},W,$){let G=new Y6.TypeInfo(W),Q,U={OperationDefinition:{enter(z){if(!X&&z.operation==="mutation")return!1;if(z.operation==="subscription")return!1}},...Z!=null&&{Field(z){let H=G.getParentType();if(H){let O=`${H.name}.${z.name.value}`,K=Z[O];Q=AY1(K,Q)}}},SelectionSet(z,H){let O=G.getParentType(),K=O&&$.get(O.name),B=z.selections.some((V)=>V.kind===Y6.Kind.FIELD&&V.name.value==="__typename"&&!V.alias),F=[...z.selections];if(!B)F.push({kind:Y6.Kind.FIELD,name:{kind:Y6.Kind.NAME,value:"__typename"},alias:{kind:Y6.Kind.NAME,value:"__responseCacheTypeName"}});if(K){if(!z.selections.some((I)=>I.kind===Y6.Kind.FIELD&&I.name.value===K&&!I.alias))F.push({kind:Y6.Kind.FIELD,name:{kind:Y6.Kind.NAME,value:K},alias:{kind:Y6.Kind.NAME,value:"__responseCacheId"}})}return{...z,selections:F}}};return[Y6.visit(J,Y6.visitWithTypeInfo(G,U)),Q]})});var Bk0=()=>{};var qk0=w(()=>{$71();Kk0();Bk0();wY1()});function Pb6({request:Y}){return Ik0.get(Y)}function Dk0(Y){let J=Y?.buildResponseCacheKey||LY1,X=Y.cache??Eb6(),Z=Y.enabled??(()=>!0),W;return{onYogaInit({yoga:$}){W=$.logger},onPluginInit({addPlugin:$}){$(Ok0({...Y,enabled:(G)=>Z(G.request,G),cache:X,getDocumentString:Mb6,session:Pb6,buildResponseCacheKey:Lb6,shouldCacheResult({cacheKey:G,result:Q}){let U;if(Y.shouldCacheResult)U=Y.shouldCacheResult({cacheKey:G,result:Q});else if(U=!Q.errors?.length,!U)W.debug("[useResponseCache] Decided not to cache the response because it contains errors");if(U){let z=Q.extensions||={},H=z.http||={},O=H.headers||={};O.ETag=G,O["Last-Modified"]=new Date().toUTCString()}return U}}))},onRequest({request:$,serverContext:G,fetchAPI:Q,endResponse:U}){if(Z($,G)){let z=$.headers.get("If-None-Match");if(z)return T1(()=>X.get(z),(H)=>{if(H){let O=$.headers.get("If-Modified-Since"),K=H.extensions?.http?.headers?.["Last-Modified"];if(K!=null&&(O==null||new Date(O).getTime()>=new Date(K).getTime())){let B=new Q.Response(null,{status:304,headers:{ETag:z}});U(B)}}})}},onParams({params:$,request:G,context:Q,setResult:U}){return T1(()=>Y.session(G,Q),(z)=>T1(()=>J({documentString:$.query||"",variableValues:$.variables,operationName:$.operationName,sessionId:z,request:G,context:Q}),(H)=>{if(Vk0.set(Q,H),Ik0.set(G,z),Z(G,Q))return T1(()=>X.get(H),(O)=>{if(O){let K={...O,[Symbol.for("servedFromResponseCache")]:!0};if(Y.includeExtensionMetadata)U(Yq(K,{hit:!0}));else U(K);return}})}))}}}var Fk0,Vk0,Ik0,Lb6=function({context:J}){let X=Vk0.get(J);if(X==null)throw Error("[useResponseCache] This plugin is not configured correctly. Make sure you use this plugin with GraphQL Yoga");return X},Mb6=(Y)=>{return Y.contextValue.params.query||UP(Y.document,Fk0.print)},Eb6;var wk0=w(()=>{Hz();qk0();z4();Fk0=q1(f1(),1),Vk0=new WeakMap,Ik0=new WeakMap;Eb6=N_});var Pk0=q((l28,Ak0)=>{Ak0.exports=function(Y){if(Y===null||Y===void 0)return[];return Array.isArray(Y)?Y:[Y]}});var Mk0=q((p28,Lk0)=>{var{GraphQLError:Tb6,Kind:Iz}=f1(),Rb6=Pk0(),Nb6=(Y,J={},X=()=>{})=>(Z)=>{try{let{definitions:W}=Z.getDocument(),$=Sb6(W),G=Cb6(W),Q={};for(let U in G)Q[U]=Gx(G[U],$,0,Y,Z,U,J);return X(Q),Z}catch(W){throw console.error(W),W}};Lk0.exports=Nb6;function Sb6(Y){return Y.reduce((J,X)=>{if(X.kind===Iz.FRAGMENT_DEFINITION)J[X.name.value]=X;return J},{})}function Cb6(Y){return Y.reduce((J,X)=>{if(X.kind===Iz.OPERATION_DEFINITION)J[X.name?X.name.value:""]=X;return J},{})}function Gx(Y,J,X,Z,W,$,G){if(X>Z)return W.reportError(new Tb6(`'${$}' exceeds maximum operation depth of ${Z}`,[Y]));switch(Y.kind){case Iz.FIELD:if(/^__/.test(Y.name.value)||jb6(Y,G.ignore)||!Y.selectionSet)return 0;return 1+Math.max(...Y.selectionSet.selections.map((U)=>Gx(U,J,X+1,Z,W,$,G)));case Iz.FRAGMENT_SPREAD:return Gx(J[Y.name.value],J,X,Z,W,$,G);case Iz.INLINE_FRAGMENT:case Iz.FRAGMENT_DEFINITION:case Iz.OPERATION_DEFINITION:return Math.max(...Y.selectionSet.selections.map((U)=>Gx(U,J,X,Z,W,$,G)));default:throw Error("uh oh! depth crawler cannot handle: "+Y.kind)}}function jb6(Y,J){for(let X of Rb6(J)){let Z=Y.name.value;switch(X.constructor){case Function:if(X(Z))return!0;break;case String:case RegExp:if(Z.match(X))return!0;break;default:throw Error(`Invalid ignore option: ${X}`)}}return!1}});var FG,Ek0,Tk0,Rk0,Nk0,CP,Qx=()=>{},Ux=(Y)=>(...J)=>console.log(Y,...J),kb6,_b6,xb6,fb6,zx=(Y=globalThis.process?.env.DEBUG==="1"?"debug":"info")=>{let J=CP[Y];return{debug:J>CP.debug?Qx:kb6,info:J>CP.info?Qx:_b6,warn:J>CP.warn?Qx:xb6,error:J>CP.error?Qx:fb6}};var MY1=w(()=>{FG={red:"\x1B[31m",yellow:"\x1B[33m",magenta:"\x1B[35m",cyan:"\x1B[36m",reset:"\x1B[0m"},Ek0=FG.yellow+"WARN"+FG.reset,Tk0=FG.cyan+"INFO"+FG.reset,Rk0=FG.red+"ERR"+FG.reset,Nk0=FG.magenta+"DEBUG"+FG.reset,CP={debug:0,info:1,warn:2,error:3,silent:4},kb6=console.debug?(...Y)=>console.debug(Nk0,...Y):Ux(Nk0),_b6=console.info?(...Y)=>console.info(Tk0,...Y):Ux(Tk0),xb6=console.warn?(...Y)=>console.warn(Ek0,...Y):Ux(Ek0),fb6=console.error?(...Y)=>console.error(Rk0,...Y):Ux(Rk0)});var Sk0='<!doctype html><html lang=en><head><meta charset=utf-8><title>__TITLE__</title><link rel=icon href=https://raw.githubusercontent.com/graphql-hive/graphql-yoga/refs/heads/main/website/src/app/favicon.ico><link crossorigin rel=stylesheet href=https://unpkg.com/@graphql-yoga/graphiql@4.4.3/dist/graphiql.css></head><body id=body class=no-focus-outline><noscript>You need to enable JavaScript to run this app.</noscript><div id=root>Loading __TITLE__...</div><script>function prepareBlob(r){const o=new Blob([r],{type:"application/javascript"});return URL.createObjectURL(o)}const workers={},workerUrls={editorWorkerService:"https://unpkg.com/@graphql-yoga/graphiql@4.4.3/dist/monacoeditorwork/editor.worker.bundle.js",json:"https://unpkg.com/@graphql-yoga/graphiql@4.4.3/dist/monacoeditorwork/json.worker.bundle.js",graphql:"https://unpkg.com/@graphql-yoga/graphiql@4.4.3/dist/monacoeditorwork/graphql.worker..bundle.js"};function prepareWorkers(){return Promise.all(Object.entries(workerUrls).map(async([r,o])=>{const e=await fetch(o),t=await e.text();workers[r]=prepareBlob(t)}))}self.MonacoEnvironment={globalAPI:!1,getWorkerUrl:function(r,o){return workers[o]}}</script><script src=https://unpkg.com/@graphql-yoga/graphiql@4.4.3/dist/yoga-graphiql.umd.js></script><script>prepareWorkers().finally(()=>{YogaGraphiQL.renderYogaGraphiQL(root,__OPTS__)})</script></body></html>';function vb6({headers:Y,method:J}){return J==="GET"&&!!Y?.get("accept")?.includes("text/html")}function Ck0(Y){let J=Y.logger??console,X;if(typeof Y?.options==="function")X=Y?.options;else if(typeof Y?.options==="object")X=()=>Y?.options;else if(Y?.options===!1)X=()=>!1;else X=()=>({});let Z=Y?.render??hb6,W,$=({URLPattern:G})=>{return W||=new G({pathname:Y.graphqlEndpoint}),W};return{onRequest({request:G,serverContext:Q,fetchAPI:U,endResponse:z,url:H}){if(vb6(G)&&(G.url.endsWith(Y.graphqlEndpoint)||G.url.endsWith(`${Y.graphqlEndpoint}/`)||H.pathname===Y.graphqlEndpoint||H.pathname===`${Y.graphqlEndpoint}/`||$(U).test(H)))return J.debug("Rendering GraphiQL"),T1(()=>X(G,Q),(O)=>{if(O)return T1(()=>Z({...O===!0?{}:O}),(K)=>{let B=new U.Response(K,{headers:{"Content-Type":"text/html"},status:200});z(B)})})}}}var hb6=(Y)=>Sk0.replace("__TITLE__",Y?.title||"Yoga GraphiQL").replace("__OPTS__",JSON.stringify(Y??{}));var jk0=w(()=>{z4()});function EY1(Y){return Y?.[Symbol.toStringTag]==="GraphQLSchema"}var kk0=(Y)=>{if(Y==null)return{};if(EY1(Y))return{onPluginInit({setSchema:J}){J(Y)}};if("then"in Y){let J;return{onRequestParse(){return{onRequestParseDone(){if(!J)return T1(()=>Y,(X)=>{J=X})}}},onEnveloped({setSchema:X}){if(J==null)throw Error("You provide a promise of a schema but it hasn't been resolved yet. Make sure you use this plugin with GraphQL Yoga.");if(!EY1(J))throw Error("The resolved schema is not a valid GraphQLSchema instance.");X(J)}}}if(typeof Y==="function"){let J=new WeakMap;return{onRequestParse({request:X,serverContext:Z}){return{onRequestParseDone(){return T1(()=>Y({...Z,request:X}),(W)=>{if(!EY1(W))throw Error("The factory function did not return a valid GraphQLSchema.");J.set(X,W)})}}},onEnveloped({setSchema:X,context:Z}){if(Z?.request==null)throw Error("Request object is not available in the context. Make sure you use this plugin with GraphQL Yoga.");let W=J.get(Z.request);if(W==null)throw Error("No schema found for this request. Make sure you use this plugin with GraphQL Yoga.");X(W)}}}throw Error("Invalid schema definition provided, expected a schema, promise or function.")};var _k0=w(()=>{z4()});var xk0=()=>{};var fk0=()=>{};var vk0=()=>{};function yb6(Y){return Y!=null&&typeof Y==="object"&&Object.keys(Y).every((J)=>bb6.includes(J))}function I4(Y,J){if(J?.originalError&&!(J.originalError instanceof Error)&&yb6(J.originalError))J.originalError=I4(J.originalError.message,J.originalError);let X=Jq.GraphQLError,Z=Jq.versionInfo.major>=16?new X(Y,J):new X(Y,J?.nodes,J?.source,J?.positions,J?.path,J?.originalError,J?.extensions);if(J?.coordinate&&Z.coordinate==null)Object.defineProperties(Z,{coordinate:{value:J.coordinate,enumerable:!0,configurable:!0}});return Z}function P9(Y,J,X,Z){let W=Jq.locatedError(Y,J,X);if(!W.coordinate&&Z&&W.coordinate==null){let $=`${Z.parentType.name}.${Z.fieldName}`;Object.defineProperties(W,{coordinate:{value:$,enumerable:!0,configurable:!0}})}return W}var Jq,bb6;var Hx=w(()=>{Jq=q1(f1(),1),bb6=["message","locations","path","nodes","source","positions","originalError","name","stack","extensions","coordinate"]});function hk0(Y){return Y!=null&&typeof Y==="object"&&Symbol.iterator in Y}function TY1(Y){return typeof Y==="object"&&Y!==null}function bk0(Y,J,X){let Z=X;for(let W of Y)Z=T1(()=>Z,($)=>J($,W));return Z}function Ox(Y,J){return Object.prototype.hasOwnProperty.call(Y,J)}var RY1=w(()=>{z4()});function NY1(Y,J,X={}){let Z={},$=(J.arguments??[]).reduce((G,Q)=>({...G,[Q.name.value]:Q}),{});for(let{name:G,type:Q,defaultValue:U}of Y.args){let z=$[G];if(!z){if(U!==void 0)Z[G]=U;else if(pJ.isNonNullType(Q))throw I4(`Argument "${G}" of required type "${L4(Q)}" was not provided.`,{nodes:[J]});continue}let H=z.value,O=H.kind===pJ.Kind.NULL;if(H.kind===pJ.Kind.VARIABLE){let B=H.name.value;if(X==null||!Ox(X,B)){if(U!==void 0)Z[G]=U;else if(pJ.isNonNullType(Q))throw I4(`Argument "${G}" of required type "${L4(Q)}" was provided the variable "$${B}" which was not provided a runtime value.`,{nodes:[H]});continue}O=X[B]==null}if(O&&pJ.isNonNullType(Q))throw I4(`Argument "${G}" of non-null type "${L4(Q)}" must not be null.`,{nodes:[H]});let K=pJ.valueFromAST(H,Q,X);if(K===void 0)throw I4(`Argument "${G}" has invalid value ${pJ.print(H)}.`,{nodes:[H]});Z[G]=K}return Z}var pJ;var yk0=w(()=>{Hx();RY1();pJ=q1(f1(),1)});function S7(Y){let J=new WeakMap;return function(Z){let W=J.get(Z);if(W===void 0){let $=Y(Z);return J.set(Z,$),$}return W}}function gk0(Y){let J=new WeakMap;return function(Z,W){let $=J.get(Z);if(!$){$=new WeakMap,J.set(Z,$);let Q=Y(Z,W);return $.set(W,Q),Q}let G=$.get(W);if(G===void 0){let Q=Y(Z,W);return $.set(W,Q),Q}return G}}function uk0(Y){let J=new WeakMap;return function(Z,W,$){let G=J.get(Z);if(!G){G=new WeakMap,J.set(Z,G);let z=new WeakMap;G.set(W,z);let H=Y(Z,W,$);return z.set($,H),H}let Q=G.get(W);if(!Q){Q=new WeakMap,G.set(W,Q);let z=Y(Z,W,$);return Q.set($,z),z}let U=Q.get($);if(U===void 0){let z=Y(Z,W,$);return Q.set($,z),z}return U}}function mk0(Y){let J=new WeakMap;return function(Z,W,$,G,Q){let U=J.get(Z);if(!U){U=new WeakMap,J.set(Z,U);let B=new WeakMap;U.set(W,B);let F=new WeakMap;B.set($,F);let V=new WeakMap;F.set(G,V);let I=Y(Z,W,$,G,Q);return V.set(Q,I),I}let z=U.get(W);if(!z){z=new WeakMap,U.set(W,z);let B=new WeakMap;z.set($,B);let F=new WeakMap;B.set(G,F);let V=Y(Z,W,$,G,Q);return F.set(Q,V),V}let H=z.get($);if(!H){H=new WeakMap,z.set($,H);let B=new WeakMap;H.set(G,B);let F=Y(Z,W,$,G,Q);return B.set(Q,F),F}let O=H.get(G);if(!O){O=new WeakMap,H.set(G,O);let B=Y(Z,W,$,G,Q);return O.set(Q,B),B}let K=O.get(Q);if(K===void 0){let B=Y(Z,W,$,G,Q);return O.set(Q,B),B}return K}}var dk0=()=>{};var ck0=()=>{};var SY1=()=>{};var lk0=()=>{};var pk0=()=>{};var nk0=()=>{};function ik0(Y,J,X){let W=ok0(Y).get(J);if(W==null)throw I4(`Schema is not configured to execute ${J} operation.`,{nodes:X});return W}var wN8,gb6,ok0;var rk0=w(()=>{Hx();wN8=S7(function(J){let X=gb6(J);return new Set([...X].map((Z)=>Z.name))}),gb6=S7(function(J){let X=ok0(J);return new Set(X.values())}),ok0=S7(function(J){let X=new Map,Z=J.getQueryType();if(Z)X.set("query",Z);let W=J.getMutationType();if(W)X.set("mutation",W);let $=J.getSubscriptionType();if($)X.set("subscription",$);return X})});var ak0=()=>{};var sk0=()=>{};var tk0=()=>{};function mb6(Y){return`
# `+Y.replace(/\n/g,`
# `)}function d1(Y,J){return Y?Y.filter((X)=>X).join(J||""):""}function Y_0(Y){return Y?.some((J)=>J.includes(`
`))??!1}function db6(Y){return(J,X,Z,W,$)=>{let G=[],Q=W.reduce((H,O)=>{if(["fields","arguments","values"].includes(O)&&H.name)G.push(H.name.value);return H[O]},$[0]),U=[...G,Q?.name?.value].filter(Boolean).join("."),z=[];if(J.kind.includes("Definition")&&ek0[U])z.push(...ek0[U]);return d1([...z.map(mb6),J.description,Y(J,X,Z,W,$)],`
`)}}function jP(Y){return Y&&`  ${Y.replace(/\n/g,`
  `)}`}function nJ(Y){return Y&&Y.length!==0?`{
${jP(d1(Y,`
`))}
}`:""}function V6(Y,J,X){return J?Y+J+(X||""):""}function cb6(Y,J=!1){let X=Y.replace(/\\/g,"\\\\").replace(/"""/g,'\\"""');return(Y[0]===" "||Y[0]==="\t")&&Y.indexOf(`
`)===-1?`"""${X.replace(/"$/,`"
`)}"""`:`"""
${J?X:jP(X)}
"""`}var ub6=80,ek0,J_0,EN8;var X_0=w(()=>{ek0={};J_0={Name:{leave:(Y)=>Y.value},Variable:{leave:(Y)=>"$"+Y.name},Document:{leave:(Y)=>d1(Y.definitions,`

`)},OperationDefinition:{leave:(Y)=>{let J=V6("(",d1(Y.variableDefinitions,", "),")");return d1([Y.operation,d1([Y.name,J]),d1(Y.directives," ")]," ")+" "+Y.selectionSet}},VariableDefinition:{leave:({variable:Y,type:J,defaultValue:X,directives:Z})=>Y+": "+J+V6(" = ",X)+V6(" ",d1(Z," "))},SelectionSet:{leave:({selections:Y})=>nJ(Y)},Field:{leave({alias:Y,name:J,arguments:X,directives:Z,selectionSet:W}){let $=V6("",Y,": ")+J,G=$+V6("(",d1(X,", "),")");if(G.length>ub6)G=$+V6(`(
`,jP(d1(X,`
`)),`
)`);return d1([G,d1(Z," "),W]," ")}},Argument:{leave:({name:Y,value:J})=>Y+": "+J},FragmentSpread:{leave:({name:Y,directives:J})=>"..."+Y+V6(" ",d1(J," "))},InlineFragment:{leave:({typeCondition:Y,directives:J,selectionSet:X})=>d1(["...",V6("on ",Y),d1(J," "),X]," ")},FragmentDefinition:{leave:({name:Y,typeCondition:J,variableDefinitions:X,directives:Z,selectionSet:W})=>`fragment ${Y}${V6("(",d1(X,", "),")")} on ${J} ${V6("",d1(Z," ")," ")}`+W},IntValue:{leave:({value:Y})=>Y},FloatValue:{leave:({value:Y})=>Y},StringValue:{leave:({value:Y,block:J})=>{if(J)return cb6(Y);return JSON.stringify(Y)}},BooleanValue:{leave:({value:Y})=>Y?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:Y})=>Y},ListValue:{leave:({values:Y})=>"["+d1(Y,", ")+"]"},ObjectValue:{leave:({fields:Y})=>"{"+d1(Y,", ")+"}"},ObjectField:{leave:({name:Y,value:J})=>Y+": "+J},Directive:{leave:({name:Y,arguments:J})=>"@"+Y+V6("(",d1(J,", "),")")},NamedType:{leave:({name:Y})=>Y},ListType:{leave:({type:Y})=>"["+Y+"]"},NonNullType:{leave:({type:Y})=>Y+"!"},SchemaDefinition:{leave:({directives:Y,operationTypes:J})=>d1(["schema",d1(Y," "),nJ(J)]," ")},OperationTypeDefinition:{leave:({operation:Y,type:J})=>Y+": "+J},ScalarTypeDefinition:{leave:({name:Y,directives:J})=>d1(["scalar",Y,d1(J," ")]," ")},ObjectTypeDefinition:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>d1(["type",Y,V6("implements ",d1(J," & ")),d1(X," "),nJ(Z)]," ")},FieldDefinition:{leave:({name:Y,arguments:J,type:X,directives:Z})=>Y+(Y_0(J)?V6(`(
`,jP(d1(J,`
`)),`
)`):V6("(",d1(J,", "),")"))+": "+X+V6(" ",d1(Z," "))},InputValueDefinition:{leave:({name:Y,type:J,defaultValue:X,directives:Z})=>d1([Y+": "+J,V6("= ",X),d1(Z," ")]," ")},InterfaceTypeDefinition:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>d1(["interface",Y,V6("implements ",d1(J," & ")),d1(X," "),nJ(Z)]," ")},UnionTypeDefinition:{leave:({name:Y,directives:J,types:X})=>d1(["union",Y,d1(J," "),V6("= ",d1(X," | "))]," ")},EnumTypeDefinition:{leave:({name:Y,directives:J,values:X})=>d1(["enum",Y,d1(J," "),nJ(X)]," ")},EnumValueDefinition:{leave:({name:Y,directives:J})=>d1([Y,d1(J," ")]," ")},InputObjectTypeDefinition:{leave:({name:Y,directives:J,fields:X})=>d1(["input",Y,d1(J," "),nJ(X)]," ")},DirectiveDefinition:{leave:({name:Y,arguments:J,repeatable:X,locations:Z})=>"directive @"+Y+(Y_0(J)?V6(`(
`,jP(d1(J,`
`)),`
)`):V6("(",d1(J,", "),")"))+(X?" repeatable":"")+" on "+d1(Z," | ")},SchemaExtension:{leave:({directives:Y,operationTypes:J})=>d1(["extend schema",d1(Y," "),nJ(J)]," ")},ScalarTypeExtension:{leave:({name:Y,directives:J})=>d1(["extend scalar",Y,d1(J," ")]," ")},ObjectTypeExtension:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>d1(["extend type",Y,V6("implements ",d1(J," & ")),d1(X," "),nJ(Z)]," ")},InterfaceTypeExtension:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>d1(["extend interface",Y,V6("implements ",d1(J," & ")),d1(X," "),nJ(Z)]," ")},UnionTypeExtension:{leave:({name:Y,directives:J,types:X})=>d1(["extend union",Y,d1(J," "),V6("= ",d1(X," | "))]," ")},EnumTypeExtension:{leave:({name:Y,directives:J,values:X})=>d1(["extend enum",Y,d1(J," "),nJ(X)]," ")},InputObjectTypeExtension:{leave:({name:Y,directives:J,fields:X})=>d1(["extend input",Y,d1(J," "),nJ(X)]," ")}},EN8=Object.keys(J_0).reduce((Y,J)=>({...Y,[J]:{leave:db6(J_0[J].leave)}}),{})});var Z_0=()=>{};var W_0=()=>{};var $_0;var G_0=w(()=>{(function(Y){Y.QUERY="QUERY",Y.MUTATION="MUTATION",Y.SUBSCRIPTION="SUBSCRIPTION",Y.FIELD="FIELD",Y.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",Y.FRAGMENT_SPREAD="FRAGMENT_SPREAD",Y.INLINE_FRAGMENT="INLINE_FRAGMENT",Y.VARIABLE_DEFINITION="VARIABLE_DEFINITION",Y.SCHEMA="SCHEMA",Y.SCALAR="SCALAR",Y.OBJECT="OBJECT",Y.FIELD_DEFINITION="FIELD_DEFINITION",Y.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",Y.INTERFACE="INTERFACE",Y.UNION="UNION",Y.ENUM="ENUM",Y.ENUM_VALUE="ENUM_VALUE",Y.INPUT_OBJECT="INPUT_OBJECT",Y.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})($_0||($_0={}))});var Q_0;var U_0=w(()=>{(function(Y){Y.TYPE="MapperKind.TYPE",Y.SCALAR_TYPE="MapperKind.SCALAR_TYPE",Y.ENUM_TYPE="MapperKind.ENUM_TYPE",Y.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",Y.OBJECT_TYPE="MapperKind.OBJECT_TYPE",Y.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",Y.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",Y.UNION_TYPE="MapperKind.UNION_TYPE",Y.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",Y.ROOT_OBJECT="MapperKind.ROOT_OBJECT",Y.QUERY="MapperKind.QUERY",Y.MUTATION="MapperKind.MUTATION",Y.SUBSCRIPTION="MapperKind.SUBSCRIPTION",Y.DIRECTIVE="MapperKind.DIRECTIVE",Y.FIELD="MapperKind.FIELD",Y.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",Y.OBJECT_FIELD="MapperKind.OBJECT_FIELD",Y.ROOT_FIELD="MapperKind.ROOT_FIELD",Y.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",Y.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",Y.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",Y.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",Y.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",Y.ARGUMENT="MapperKind.ARGUMENT",Y.ENUM_VALUE="MapperKind.ENUM_VALUE"})(Q_0||(Q_0={}))});var z_0=()=>{};var H_0=()=>{};var O_0=()=>{};var K_0=()=>{};var B_0=()=>{};var q_0=()=>{};var F_0=()=>{};var V_0=()=>{};var I_0=()=>{};var D_0=()=>{};var w_0=()=>{};var A_0=()=>{};var P_0=()=>{};var L_0=()=>{};var M_0=()=>{};var E_0=()=>{};var T_0=()=>{};var R_0=()=>{};var Xq;var N_0=w(()=>{Xq=class Xq extends Map{get[Symbol.toStringTag](){return"AccumulatorMap"}add(Y,J){let X=this.get(Y);if(X===void 0)this.set(Y,[J]);else X.push(J)}}});var H5,S_0,C_0;var CY1=w(()=>{H5=q1(f1(),1),S_0=new H5.GraphQLDirective({name:"defer",description:"Directs the executor to defer this fragment when the `if` argument is true or undefined.",locations:[H5.DirectiveLocation.FRAGMENT_SPREAD,H5.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new H5.GraphQLNonNull(H5.GraphQLBoolean),description:"Deferred when true or undefined.",defaultValue:!0},label:{type:H5.GraphQLString,description:"Unique name"}}}),C_0=new H5.GraphQLDirective({name:"stream",description:"Directs the executor to stream plural fields when the `if` argument is true or undefined.",locations:[H5.DirectiveLocation.FIELD],args:{if:{type:new H5.GraphQLNonNull(H5.GraphQLBoolean),description:"Stream when true or undefined.",defaultValue:!0},label:{type:H5.GraphQLString,description:"Unique name"},initialCount:{defaultValue:0,type:H5.GraphQLInt,description:"Number of items to return immediately"}}})});function Zq(Y,J,X,Z,W,$,G,Q){for(let U of W.selections)switch(U.kind){case o5.Kind.FIELD:{if(!jY1(X,U))continue;$.add(lb6(U),U);break}case o5.Kind.INLINE_FRAGMENT:{if(!jY1(X,U)||!j_0(Y,U,Z))continue;let z=k_0(X,U);if(z){let H=new Xq;Zq(Y,J,X,Z,U.selectionSet,H,G,Q),G.push({label:z.label,fields:H})}else Zq(Y,J,X,Z,U.selectionSet,$,G,Q);break}case o5.Kind.FRAGMENT_SPREAD:{let z=U.name.value;if(!jY1(X,U))continue;let H=k_0(X,U);if(Q.has(z)&&!H)continue;let O=J[z];if(!O||!j_0(Y,O,Z))continue;if(!H)Q.add(z);if(H){let K=new Xq;Zq(Y,J,X,Z,O.selectionSet,K,G,Q),G.push({label:H.label,fields:K})}else Zq(Y,J,X,Z,O.selectionSet,$,G,Q);break}}}function kY1(Y,J,X,Z,W){let $=new Xq,G=[];return Zq(Y,J,X,Z,W,$,G,new Set),{fields:$,patches:G}}function jY1(Y,J){if(o5.getDirectiveValues(o5.GraphQLSkipDirective,J,Y)?.if===!0)return!1;if(o5.getDirectiveValues(o5.GraphQLIncludeDirective,J,Y)?.if===!1)return!1;return!0}function j_0(Y,J,X){let Z=J.typeCondition;if(!Z)return!0;let W=o5.typeFromAST(Y,Z);if(W===X)return!0;if(o5.isAbstractType(W))return Y.getPossibleTypes(W).includes(X);return!1}function lb6(Y){return Y.alias?Y.alias.value:Y.name.value}function k_0(Y,J){let X=o5.getDirectiveValues(S_0,J,Y);if(!X)return;if(X.if===!1)return;return{label:typeof X.label==="string"?X.label:void 0}}var o5,__0;var x_0=w(()=>{N_0();CY1();o5=q1(f1(),1);__0=mk0(function(J,X,Z,W,$){let G=new Xq,Q=new Set,U=[],z={fields:G,patches:U};for(let H of $)if(H.selectionSet)Zq(J,X,Z,W,H.selectionSet,G,U,Q);return z})});function pb6(Y,J){let X=f_0.getOperationAST(Y,J);if(!X)throw Error(`Cannot infer operation ${J||""}`);return X}var f_0,JS8;var v_0=w(()=>{f_0=q1(f1(),1);JS8=S7(function(J){return pb6(J.document,J.operationName)})});var h_0=()=>{};function Kx(Y){return Y?.[Symbol.asyncIterator]!=null}var b_0=()=>{};var y_0=()=>{};var zS8;var g_0=w(()=>{zS8=gk0(function(J,X){return function(...W){return Reflect.apply(X,J,W)}})});var u_0=()=>{};var m_0=()=>{};function Dz(Y,J,X){return{prev:Y,key:J,typename:X}}function O5(Y){let J=[],X=Y;while(X)J.push(X.key),X=X.prev;return J.reverse()}function d_0(Y){return Y.map((J)=>typeof J==="number"?"["+J.toString()+"]":"."+J).join("")}var c_0=()=>{};var l_0=()=>{};function ib6(Y,J){if(Y.aborted){J();return}nb6(Y).add(J)}var nb6,DS8;var p_0=w(()=>{z4();nb6=S7(function(J){let X=new Set;return J.addEventListener("abort",(Z)=>{for(let W of X)W(Z)},{once:!0}),X});DS8=S7(function(J){if(J.aborted)return s9(J.reason);return new Promise((X,Z)=>{if(J.aborted){Z(J.reason);return}ib6(J,()=>{Z(J.reason)})})})});var Bx=w(()=>{z4();fk0();vk0();ck0();SY1();lk0();ak0();SY1();sk0();tk0();Z_0();W_0();G_0();B_0();q_0();F_0();V_0();I_0();K_0();D_0();H_0();w_0();A_0();U_0();z_0();P_0();L_0();M_0();O_0();E_0();pk0();T_0();Hx();R_0();h_0();yk0();b_0();nk0();y_0();g_0();rk0();X_0();x_0();u_0();v_0();m_0();RY1();CY1();c_0();l_0();dk0();p_0()});var wz;var qx=w(()=>{wz=class wz extends Error{error;suppressed;constructor(Y,J,X){super(X);this.error=Y,this.suppressed=J,this.name="SuppressedError",Error.captureStackTrace(this,this.constructor)}}});var $6;var kP=w(()=>{$6={get dispose(){return Symbol.dispose||Symbol.for("dispose")},get asyncDispose(){return Symbol.asyncDispose||Symbol.for("asyncDispose")}}});function Fx(Y){return Y?.[$6.dispose]!=null}function n_0(Y){return Y?.[$6.asyncDispose]!=null}var _Y1=w(()=>{kP()});var ob6,Vx;var i_0=w(()=>{z4();qx();kP();_Y1();ob6=globalThis.SuppressedError||wz;Vx=class Vx{callbacks=[];get disposed(){return this.callbacks.length===0}use(Y){if(n_0(Y))this.callbacks.push(()=>Y[$6.asyncDispose]());else if(Fx(Y))this.callbacks.push(()=>Y[$6.dispose]());return Y}adopt(Y,J){if(J)this.callbacks.push(()=>J(Y));return Y}defer(Y){if(Y)this.callbacks.push(Y)}move(){let Y=new Vx;return Y.callbacks=this.callbacks,this.callbacks=[],Y}disposeAsync(){return this[$6.asyncDispose]()}_error;_iterateCallbacks(){let Y=this.callbacks.pop();if(Y)return T1(Y,()=>this._iterateCallbacks(),(J)=>{return this._error=this._error?new ob6(J,this._error):J,this._iterateCallbacks()})}[$6.asyncDispose](){let Y=this._iterateCallbacks();if(Y?.then)return Y.then(()=>{if(this._error){let J=this._error;throw this._error=void 0,J}});if(this._error){let J=this._error;throw this._error=void 0,J}return}[Symbol.toStringTag]="AsyncDisposableStack"}});var rb6,Ix;var o_0=w(()=>{qx();kP();_Y1();rb6=globalThis.SuppressedError||wz;Ix=class Ix{callbacks=[];get disposed(){return this.callbacks.length===0}use(Y){if(Fx(Y))this.callbacks.push(()=>Y[$6.dispose]());return Y}adopt(Y,J){if(J)this.callbacks.push(()=>J(Y));return Y}defer(Y){if(Y)this.callbacks.push(Y)}move(){let Y=new Ix;return Y.callbacks=this.callbacks,this.callbacks=[],Y}dispose(){return this[$6.dispose]()}_error;_iterateCallbacks(){let Y=this.callbacks.pop();if(Y){try{Y()}catch(J){this._error=this._error?new rb6(J,this._error):J}return this._iterateCallbacks()}}[$6.dispose](){if(this._iterateCallbacks(),this._error){let Y=this._error;throw this._error=void 0,Y}}[Symbol.toStringTag]="DisposableStack"}});var cC8,r_0,lC8;var Dx=w(()=>{i_0();o_0();qx();kP();cC8=globalThis.DisposableStack||Ix,r_0=globalThis.AsyncDisposableStack||Vx,lC8=globalThis.SuppressedError||wz});function iJ(Y){if(Y instanceof Error)return Y;if(typeof Y==="object"&&Y!=null){if("message"in Y&&typeof Y.message==="string"){let J;if("cause"in Y)J={cause:Y.cause};let X=Error(Y.message,J);if("stack"in Y&&typeof Y.stack==="string")X.stack=Y.stack;if("name"in Y&&typeof Y.name==="string")X.name=Y.name;return X}}return Error(String(Y))}function a_0(Y){let J=Y[Symbol.asyncIterator](),X,Z,W=!1;async function $(){if(W)return{value:void 0,done:!0};try{if(!X){if(Z)return await Z,await $();let U;Z=new Promise((H)=>{U=H});let z=await J.next();if(z.done)return W=!0,await $();return X=z.value[Symbol.asyncIterator](),Z=void 0,U(),await $()}let G=X,Q=await X.next();if(!Q.done)return Q;if(X===G)X=void 0;return await $()}catch(G){throw W=!0,G}}return{next:$,async return(){return W=!0,await Promise.all([X?.return?.(),J.return?.()]),{value:void 0,done:!0}},async throw(G){throw W=!0,await Promise.all([X?.throw?.(G),J.throw?.(G)]),G},[Symbol.asyncIterator](){return this},async[$6.asyncDispose](){W=!0,await Promise.all([X?.[$6.asyncDispose]?.(),J?.[$6.asyncDispose]?.()])}}}var s_0=w(()=>{Dx()});function xY1(Y,J){if(!Y)throw Error(J!=null?J:"Unexpected invariant triggered.")}function fY1(Y,J,X){J?.throwIfAborted();let Z=Object.create(null),W=[];for(let G in Y){let Q=T1(()=>Y[G],(U)=>{Z[G]=U});if(U4(Q))W.push(Q)}if(!W.length)return Z;let $=W.length===1?W[0]:Promise.all(W);if(X)return Promise.race([X,$]).then(()=>Z);return $.then(()=>Z)}var t_0=w(()=>{z4()});function e_0(Y,J,X,Z){let W=[],$=Z?.maxErrors;try{let G=ab6(Y,J,X,(Q)=>{if($!=null&&W.length>=$)throw I4("Too many errors processing variables, error limit reached. Execution aborted.");W.push(Q)});if(W.length===0)return{coerced:G}}catch(G){W.push(G)}return{errors:W}}function ab6(Y,J,X,Z){let W={};for(let $ of J){let G=$.variable.name.value,Q=C7.typeFromAST(Y,$.type);if(!C7.isInputType(Q)){let z=C7.print($.type);Z(I4(`Variable "$${G}" expected value of type "${z}" which cannot be used as an input type.`,{nodes:$.type}));continue}if(!Ox(X,G)){if($.defaultValue)W[G]=C7.valueFromAST($.defaultValue,Q);else if(C7.isNonNullType(Q)){let z=L4(Q);Z(I4(`Variable "$${G}" of required type "${z}" was not provided.`,{nodes:$}))}continue}let U=X[G];if(U===null&&C7.isNonNullType(Q)){let z=L4(Q);Z(I4(`Variable "$${G}" of non-null type "${z}" must not be null.`,{nodes:$}));continue}W[G]=C7.coerceInputValue(U,Q,(z,H,O)=>{let K=`Variable "$${G}" got invalid value `+L4(H);if(z.length>0)K+=` at "${G}${d_0(z)}"`;Z(I4(K+"; "+O.message,{nodes:$,originalError:O}))})}return W}var C7;var vY1=w(()=>{Bx();C7=q1(f1(),1)});function Ux0(Y){let J=Hx0(Y);if(!("schema"in J))return{errors:J.map((X)=>{return Object.defineProperty(X,"extensions",{value:{...X.extensions,http:{...X.extensions?.http||{},status:400}}}),X})};return zx0(J)}function zx0(Y){return Y.signal?.throwIfAborted(),T1(()=>Yy6(Y),(J)=>{let X=Yx0(J,Y.errors);if(Y.subsequentPayloads.size>0)return{initialResult:{...X,hasNext:!0},subsequentResults:Fy6(Y)};return X},(J)=>{if(Y.signal?.throwIfAborted(),J.errors)Y.errors.push(...J.errors);else Y.errors.push(J);return Yx0(null,Y.errors)})}function Yx0(Y,J){return J.length===0?{data:Y}:{errors:J,data:Y}}function Hx0(Y){let{schema:J,document:X,rootValue:Z,contextValue:W,variableValues:$,operationName:G,fieldResolver:Q,typeResolver:U,subscribeFieldResolver:z,signal:H,schemaCoordinateInErrors:O}=Y;H?.throwIfAborted(),H4.assertValidSchema(J);let K=tb6(X),B;for(let L of X.definitions)switch(L.kind){case H4.Kind.OPERATION_DEFINITION:if(G==null){if(B!==void 0)return[I4("Must provide operation name if query contains multiple operations.",{extensions:{code:"OPERATION_RESOLUTION_FAILURE"}})];B=L}else if(L.name?.value===G)B=L;break;default:}if(B==null){if(G!=null)return[I4(`Unknown operation named "${G}".`,{extensions:{code:"OPERATION_RESOLUTION_FAILURE"}})];return[I4("Must provide an operation.",{extensions:{code:"OPERATION_RESOLUTION_FAILURE"}})]}let F=B.variableDefinitions??[],V=e_0(J,F,$??{},{maxErrors:50});if(V.errors)return V.errors;H?.throwIfAborted();let I,D;if(H){let L=new Set,A=aA();D=A.promise;let P=()=>{A.reject(H.reason),H.removeEventListener("abort",P)};H.addEventListener("abort",P,{once:!0}),D.catch(()=>{for(let R of L)R();L.clear()}),I=(R)=>{L.add(R)}}return{schema:J,fragments:K,rootValue:Z,contextValue:W,operation:B,variableValues:V.coerced,fieldResolver:Q??Wx0,typeResolver:U??Qy6,subscribeFieldResolver:z??Wx0,subsequentPayloads:new Set,errors:[],signal:H,onSignalAbort:I,signalPromise:D,schemaCoordinateInErrors:O}}function eb6(Y,J){return{...Y,rootValue:J,subsequentPayloads:new Set,errors:[]}}function Yy6(Y){let{operation:J,schema:X,fragments:Z,variableValues:W,rootValue:$}=Y,G=ik0(X,J.operation,[J]);if(G==null)I4(`Schema is not configured to execute ${J.operation} operation.`,{nodes:J});let{fields:Q,patches:U}=kY1(X,Z,W,G,J.selectionSet),z=void 0,H;if(J.operation==="mutation")H=Jy6(Y,G,$,z,Q);else H=bY1(Y,G,$,z,Q);for(let O of U){let{label:K,fields:B}=O;Ix0(Y,G,$,B,K,z)}return H}function Jy6(Y,J,X,Z,W){return bk0(W,($,[G,Q])=>{let U=Dz(Z,G,J.name);return Y.signal?.throwIfAborted(),T1(()=>Ox0(Y,J,X,Q,U),(z)=>{if(z===void 0)return $;return $[G]=z,$})},Object.create(null))}function bY1(Y,J,X,Z,W,$){let G=Object.create(null),Q=!1;try{for(let[U,z]of W){Y.signal?.throwIfAborted();let H=Dz(Z,U,J.name),O=Ox0(Y,J,X,z,H,$);if(O!==void 0){if(G[U]=O,U4(O))Q=!0}}}catch(U){if(U!==Y.signal?.reason&&Q)return T1(()=>fY1(G,Y.signal),()=>{throw U},()=>{throw U});throw U}if(!Q)return G;return fY1(G,Y.signal,Y.signalPromise)}function Ox0(Y,J,X,Z,W,$){let G=$?.errors??Y.errors,Q=wx0(Y.schema,J,Z[0]);if(!Q)return;let U=Q.type,z=Q.resolve??Y.fieldResolver,H=Kx0(Y,Q,Z,J,W);try{Y.signal?.throwIfAborted();let O=NY1(Q,Z[0],Y.variableValues),K=Y.contextValue,B=z(X,O,K,H),F;if(U4(B))F=B.then((V)=>VG(Y,U,Z,H,W,V,$));else F=VG(Y,U,Z,H,W,B,$);if(U4(F))return F.then(void 0,(V)=>{if(V instanceof AggregateError){let L;for(let A of V.errors){A=iJ(A);let P=P9(A,Z,O5(W),Y.schemaCoordinateInErrors&&H);L=jY(P,U,G),Y7(Y,W,$)}return L}V=iJ(V);let I=P9(V,Z,O5(W),Y.schemaCoordinateInErrors&&H),D=jY(I,U,G);return Y7(Y,W,$),D});return F}catch(O){if(O instanceof AggregateError){let V;for(let I of O.errors){I=iJ(I);let D=P9(I,Z,O5(W),Y.schemaCoordinateInErrors&&H);V=jY(D,U,G),Y7(Y,W,$)}return V}let K=iJ(O),B=P9(K,Z,O5(W),Y.schemaCoordinateInErrors&&H),F=jY(B,U,G);return Y7(Y,W,$),F}}function Kx0(Y,J,X,Z,W){return{fieldName:J.name,fieldNodes:X,returnType:J.type,parentType:Z,path:W,schema:Y.schema,fragments:Y.fragments,rootValue:Y.rootValue,operation:Y.operation,variableValues:Y.variableValues,signal:Y.signal}}function jY(Y,J,X){if(H4.isNonNullType(J))throw Y;if(Y.extensions?.[Xy6])throw Y;return X.push(Y),null}function VG(Y,J,X,Z,W,$,G){if($ instanceof Error)throw $;if(H4.isNonNullType(J)){let Q=VG(Y,J.ofType,X,Z,W,$,G);if(Q===null)throw Error(`Cannot return null for non-nullable field ${Z.parentType.name}.${Z.fieldName}.`);return Q}if($==null)return null;if(H4.isListType(J))return Wy6(Y,J,X,Z,W,$,G);if(H4.isLeafType(J))return $y6(J,$);if(H4.isAbstractType(J))return Gy6(Y,J,X,Z,W,$,G);if(H4.isObjectType(J))return hY1(Y,J,X,Z,W,$,G);console.assert(!1,"Cannot complete value of unexpected output type: "+L4(J))}function Bx0(Y,J,X){if(typeof X.key==="number")return;let Z=H4.getDirectiveValues(C_0,J[0],Y.variableValues);if(!Z)return;if(Z.if===!1)return;return xY1(typeof Z.initialCount==="number","initialCount must be a number"),xY1(Z.initialCount>=0,"initialCount must be a positive integer"),{initialCount:Z.initialCount,label:typeof Z.label==="string"?Z.label:void 0}}async function Zy6(Y,J,X,Z,W,$,G){if(Y.signal?.throwIfAborted(),$.return)Y.onSignalAbort?.(()=>{$.return?.()});let Q=G?.errors??Y.errors,U=Bx0(Y,X,W),z=!1,H=[],O=0;while(!0){if(U&&typeof U.initialCount==="number"&&O>=U.initialCount){By6(O,$,Y,X,Z,J,W,U.label,G);break}let K=Dz(W,O,void 0),B;try{if(B=await $.next(),B.done)break}catch(F){let V=iJ(F),I=P9(V,X,O5(K),Y.schemaCoordinateInErrors&&Z);H.push(jY(I,J,Q));break}if(qx0(B.value,H,Q,Y,J,X,Z,K,G))z=!0;O+=1}return z?Promise.all(H):H}function Wy6(Y,J,X,Z,W,$,G){let Q=J.ofType,U=G?.errors??Y.errors;if(Kx($)){let F=$[Symbol.asyncIterator]();return Zy6(Y,Q,X,Z,W,F,G)}if(!hk0($))throw I4(`Expected Iterable, but did not find one for field "${Z.parentType.name}.${Z.fieldName}".`);let z=Bx0(Y,X,W),H=!1,O=G,K=[],B=0;for(let F of $){let V=Dz(W,B,void 0);if(z&&typeof z.initialCount==="number"&&B>=z.initialCount){O=Oy6(W,V,F,Y,X,Z,Q,z.label,O),B++;continue}if(qx0(F,K,U,Y,Q,X,Z,V,G))H=!0;B++}return H?Promise.all(K):K}function qx0(Y,J,X,Z,W,$,G,Q,U){try{let z;if(U4(Y))z=Y.then((H)=>VG(Z,W,$,G,Q,H,U));else z=VG(Z,W,$,G,Q,Y,U);if(U4(z))return J.push(z.then(void 0,(H)=>{H=iJ(H);let O=P9(H,$,O5(Q),Z.schemaCoordinateInErrors&&G),K=jY(O,W,X);return Y7(Z,Q,U),K})),!0;J.push(z)}catch(z){let H=iJ(z),O=P9(H,$,O5(Q),Z.schemaCoordinateInErrors&&G),K=jY(O,W,X);Y7(Z,Q,U),J.push(K)}return!1}function $y6(Y,J){let X;try{X=Y.serialize(J)}catch(Z){if(Z instanceof H4.GraphQLError)throw Error(Z.message);throw Z}if(X==null)throw Error(`Expected \`${L4(Y)}.serialize(${L4(J)})\` to return non-nullable value, returned: ${L4(X)}`);return X}function Gy6(Y,J,X,Z,W,$,G){let Q=J.resolveType??Y.typeResolver,U=Y.contextValue,z=Q($,U,Z,J);if(U4(z))return z.then((H)=>hY1(Y,Jx0(H,Y,J,X,Z,$),X,Z,W,$,G));return hY1(Y,Jx0(z,Y,J,X,Z,$),X,Z,W,$,G)}function Jx0(Y,J,X,Z,W,$){if(Y==null)throw I4(`Abstract type "${X.name}" must resolve to an Object type at runtime for field "${W.parentType.name}.${W.fieldName}". Either the "${X.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,{nodes:Z});if(H4.isObjectType(Y)){if(H4.versionInfo.major>=16)throw I4("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");Y=Y.name}if(typeof Y!=="string")throw I4(`Abstract type "${X.name}" must resolve to an Object type at runtime for field "${W.parentType.name}.${W.fieldName}" with value ${L4($)}, received "${L4(Y)}".`);let G=J.schema.getType(Y);if(G==null)throw I4(`Abstract type "${X.name}" was resolved to a type "${Y}" that does not exist inside the schema.`,{nodes:Z});if(!H4.isObjectType(G))throw I4(`Abstract type "${X.name}" was resolved to a non-object type "${Y}".`,{nodes:Z});if(!J.schema.isSubType(X,G))throw I4(`Runtime Object type "${G.name}" is not a possible type for "${X.name}".`,{nodes:Z});return G}function hY1(Y,J,X,Z,W,$,G){if(J.isTypeOf){let Q=J.isTypeOf($,Y.contextValue,Z);if(U4(Q))return Q.then((U)=>{if(!U)throw Xx0(J,$,X);return Zx0(Y,J,X,W,$,G)});if(!Q)throw Xx0(J,$,X)}return Zx0(Y,J,X,W,$,G)}function Xx0(Y,J,X){return I4(`Expected value of type "${Y.name}" but got: ${L4(J)}.`,{nodes:X})}function Zx0(Y,J,X,Z,W,$){let{fields:G,patches:Q}=sb6(Y,J,X),U=bY1(Y,J,W,Z,G,$);for(let z of Q){let{label:H,fields:O}=z;Ix0(Y,J,W,O,H,Z,$)}return U}function Fx0(Y){let J=Hx0(Y);if(!("schema"in J)){for(let Z of J){let W=Z.extensions||={},$=W.http||={};$.status=400,Z.extensions.code="BAD_USER_INPUT"}return{errors:J}}let X=zy6(J);if(U4(X))return X.then((Z)=>$x0(J,Z));return $x0(J,X)}function Vx0(Y){return Y?.initialResult}function yY1(Y){let J=Y.subsequentResults,X=!1,Z=!1;return{[Symbol.asyncIterator](){return this},next(){if(Z)return Q4({value:void 0,done:Z});if(X)return J.next();return X=!0,Q4({value:Y.initialResult,done:Z})},return(){return Z=!0,J.return()},throw(W){return Z=!0,J.throw(W)},[$6.asyncDispose](){return Z=!0,J?.[$6.asyncDispose]?.()}}}async function*Uy6(Y){if("initialResult"in Y)yield*yY1(Y);else yield Y}function $x0(Y,J){if(!Kx(J))return J;return a_0(lZ(J,(X)=>T1(()=>zx0(eb6(Y,X)),Uy6),(X)=>{if(X instanceof AggregateError)throw AggregateError(X.errors.map((Z)=>Gx0(Z,Y.operation)),X.message);throw Gx0(X,Y.operation)}))}function Gx0(Y,J){return I4(Y.message,{originalError:Y,nodes:[J]})}function zy6(Y){try{let J=Hy6(Y);if(U4(J))return J.then(void 0,(X)=>({errors:[X]}));return J}catch(J){return{errors:[J]}}}function Hy6(Y){let{schema:J,fragments:X,operation:Z,variableValues:W,rootValue:$}=Y,G=J.getSubscriptionType();if(G==null)throw I4("Schema is not configured to execute subscription operation.",{nodes:Z});let{fields:Q}=kY1(J,X,W,G,Z.selectionSet),[U,z]=[...Q.entries()][0],H=z[0].name.value,O=wx0(J,G,z[0]);if(!O)throw I4(`The subscription field "${H}" is not defined.`,{nodes:z});let K=Dz(void 0,U,G.name),B=Kx0(Y,O,z,G,K);try{let F=NY1(O,z[0],W),V=Y.contextValue,D=(O.subscribe??Y.subscribeFieldResolver)($,F,V,B);if(U4(D))return D.then((L)=>Qx0(L,Y.signal,Y.onSignalAbort)).then(void 0,(L)=>{throw P9(L,z,O5(K),Y.schemaCoordinateInErrors&&B)});return Qx0(D,Y.signal,Y.onSignalAbort)}catch(F){throw P9(F,z,O5(K),Y.schemaCoordinateInErrors&&B)}}function Qx0(Y,J,X){if(J?.throwIfAborted(),Y instanceof Error)throw Y;if(!Kx(Y))throw I4(`Subscription field must return Async Iterable. Received: ${L4(Y)}.`);if(X)return{[Symbol.asyncIterator](){let Z=Y[Symbol.asyncIterator]();if(Z.return)X?.(()=>{Z.return?.()});return Z}};return Y}function Ix0(Y,J,X,Z,W,$,G){let Q=new Dx0({label:W,path:$,parentContext:G,exeContext:Y}),U;try{if(U=bY1(Y,J,X,$,Z,Q),U4(U))U=U.then(null,(z)=>{return Q.errors.push(z),null})}catch(z){Q.errors.push(z),U=null}Q.addData(U)}function Oy6(Y,J,X,Z,W,$,G,Q,U){let z=new gY1({label:Q,path:J,parentContext:U,exeContext:Z}),H;try{try{if(U4(X))H=X.then((K)=>VG(Z,G,W,$,J,K,z));else H=VG(Z,G,W,$,J,X,z);if(U4(H))H=H.then(void 0,(K)=>{K=iJ(K);let B=P9(K,W,O5(J),Z.schemaCoordinateInErrors&&$),F=jY(B,G,z.errors);return Y7(Z,J,z),F})}catch(K){let B=iJ(K),F=P9(B,W,O5(J),Z.schemaCoordinateInErrors&&$);H=jY(F,G,z.errors),Y7(Z,J,z)}}catch(K){return z.errors.push(K),Y7(Z,Y,z),z.addItems(null),z}let O;if(U4(H))O=H.then((K)=>[K],(K)=>{return z.errors.push(K),Y7(Z,Y,z),null});else O=[H];return z.addItems(O),z}async function Ky6(Y,J,X,Z,W,$,G){let Q;try{let{value:z,done:H}=await Y.next();if(H)return $.setIsCompletedIterator(),{done:H,value:void 0};Q=z}catch(z){let H=iJ(z),O=P9(H,X,O5(G),J.schemaCoordinateInErrors&&Z);return{done:!0,value:jY(O,W,$.errors)}}let U;try{if(U=VG(J,W,X,Z,G,Q,$),U4(U))U=U.then(void 0,(z)=>{let H=P9(z,X,O5(G),J.schemaCoordinateInErrors&&Z),O=jY(H,W,$.errors);return Y7(J,G,$),O});return{done:!1,value:U}}catch(z){let H=P9(z,X,O5(G),J.schemaCoordinateInErrors&&Z),O=jY(H,W,$.errors);return Y7(J,G,$),{done:!1,value:O}}}async function By6(Y,J,X,Z,W,$,G,Q,U){let z=Y,H=U??void 0;while(!0){let O=Dz(G,z,void 0),K=new gY1({label:Q,path:O,parentContext:H,iterator:J,exeContext:X}),B;try{B=await Ky6(J,X,Z,W,$,K,O)}catch(D){if(K.errors.push(D),Y7(X,G,K),K.addItems(null),J?.return)J.return().catch(()=>{});return}let{done:F,value:V}=B,I;if(U4(V))I=V.then((D)=>[D],(D)=>{return K.errors.push(D),Y7(X,G,K),null});else I=[V];if(K.addItems(I),F)break;H=K,z++}}function Y7(Y,J,X){let Z=O5(J);Y.subsequentPayloads.forEach((W)=>{if(W===X)return;for(let $=0;$<Z.length;$++)if(W.path[$]!==Z[$])return;if(uY1(W)&&W.iterator?.return)W.iterator.return().catch(()=>{});Y.subsequentPayloads.delete(W)})}function qy6(Y){let J=[];for(let X of Y.subsequentPayloads){let Z={};if(!X.isCompleted)continue;if(Y.subsequentPayloads.delete(X),uY1(X)){let W=X.items;if(X.isCompletedIterator)continue;Z.items=W}else{let W=X.data;Z.data=W??null}if(Z.path=X.path,X.label)Z.label=X.label;if(X.errors.length>0)Z.errors=X.errors;J.push(Z)}return J}function Fy6(Y){let J=!1;async function X(){if(J)return{value:void 0,done:!0};let W=Array.from(Y.subsequentPayloads).map((Q)=>Q.promise);if(Y.signalPromise)await Promise.race([Y.signalPromise,...W]);else await Promise.race(W);if(J)return{value:void 0,done:!0};let $=qy6(Y),G=Y.subsequentPayloads.size>0;if(!$.length&&G)return X();if(!G)J=!0;return{value:$.length?{incremental:$,hasNext:G}:{hasNext:G},done:!1}}function Z(){let W=[];return Y.subsequentPayloads.forEach(($)=>{if(uY1($)&&$.iterator?.return)W.push($.iterator.return())}),Promise.all(W)}return{[Symbol.asyncIterator](){return this},next:X,async return(){return await Z(),J=!0,{value:void 0,done:!0}},async throw(W){throw await Z(),J=!0,W},async[$6.asyncDispose](){await Z(),J=!0}}}class Dx0{type;errors;label;path;promise;data;parentContext;isCompleted;_exeContext;_resolve;constructor(Y){this.type="defer",this.label=Y.label,this.path=O5(Y.path),this.parentContext=Y.parentContext,this.errors=[],this._exeContext=Y.exeContext,this._exeContext.subsequentPayloads.add(this),this.isCompleted=!1,this.data=null,this.promise=new Promise((J)=>{this._resolve=(X)=>{J(X)}}).then((J)=>{this.data=J,this.isCompleted=!0})}addData(Y){let J=this.parentContext?.promise;if(J){this._resolve?.(J.then(()=>Y));return}this._resolve?.(Y)}}class gY1{type;errors;label;path;items;promise;parentContext;iterator;isCompletedIterator;isCompleted;_exeContext;_resolve;constructor(Y){this.type="stream",this.items=null,this.label=Y.label,this.path=O5(Y.path),this.parentContext=Y.parentContext,this.iterator=Y.iterator,this.errors=[],this._exeContext=Y.exeContext,this._exeContext.subsequentPayloads.add(this),this.isCompleted=!1,this.items=null,this.promise=new Promise((J)=>{this._resolve=(X)=>{J(X)}}).then((J)=>{this.items=J,this.isCompleted=!0})}addItems(Y){let J=this.parentContext?.promise;if(J){this._resolve?.(J.then(()=>Y));return}this._resolve?.(Y)}setIsCompletedIterator(){this.isCompletedIterator=!0}}function uY1(Y){return Y.type==="stream"}function wx0(Y,J,X){let Z=X.name.value;if(Z===H4.SchemaMetaFieldDef.name&&Y.getQueryType()===J)return H4.SchemaMetaFieldDef;else if(Z===H4.TypeMetaFieldDef.name&&Y.getQueryType()===J)return H4.TypeMetaFieldDef;else if(Z===H4.TypeNameMetaFieldDef.name)return H4.TypeNameMetaFieldDef;return J.getFields()[Z]}var H4,sb6,tb6,Xy6="CRITICAL_ERROR",Qy6=function(Y,J,X,Z){if(TY1(Y)&&typeof Y.__typename==="string")return Y.__typename;let W=X.schema.getPossibleTypes(Z),$=[];for(let G=0;G<W.length;G++){let Q=W[G];if(Q.isTypeOf){let U=Q.isTypeOf(Y,J,X);if(U4(U))$[G]=U;else if(U)return Q.name}}if($.length)return Promise.all($).then((G)=>{for(let Q=0;Q<G.length;Q++)if(G[Q])return W[Q].name})},Wx0=function(Y,J,X,Z){if(TY1(Y)||typeof Y==="function"){let W=Y[Z.fieldName];if(typeof W==="function")return Y[Z.fieldName](J,X,Z);return W}};var mY1=w(()=>{Bx();Dx();z4();s_0();t_0();vY1();H4=q1(f1(),1),sb6=uk0((Y,J,X)=>__0(Y.schema,Y.fragments,Y.variableValues,J,X));tb6=S7(function(J){let X=Object.create(null);for(let Z of J.definitions)if(Z.kind===H4.Kind.FRAGMENT_DEFINITION)X[Z.name.value]=Z;return X})});function wx(Y){let J=Ax0.getOperationAST(Y.document,Y.operationName);if(J==null)throw Error("Must provide an operation.");if(J.operation==="subscription")return Fx0(Y);return T1(()=>Ux0(Y),(X)=>{if(Vx0(X))return yY1(X);return X})}var Ax0,Bj8;var Px0=w(()=>{Bx();z4();mY1();Ax0=q1(f1(),1);Bj8=S7(function(J){return function(Z){return wx({schema:J,document:Z.document,variableValues:Z.variables,operationName:Z.operationName,rootValue:Z.rootValue,contextValue:Z.context,signal:Z.signal||Z.info?.signal,schemaCoordinateInErrors:Z.schemaCoordinateInErrors})}})});var Lx0=w(()=>{mY1();vY1();Px0()});var Mx0=w(()=>{Lx0()});var dY1=q((Pj8,Ex0)=>{function Vy6(){return Object.keys(globalThis).some((Y)=>Y.startsWith("__NEXT"))}Ex0.exports=function(){if(globalThis.Deno)return!0;if(globalThis.Bun)return!0;if(Vy6())return!0;return!1}});var oJ=q((cY1)=>{Object.defineProperty(cY1,"__esModule",{value:!0});cY1.fakePromise=void 0;cY1.getHeadersObj=Ay6;cY1.defaultHeadersSerializer=Py6;cY1.isArrayBufferView=My6;cY1.isNodeReadable=Ey6;cY1.isIterable=Ty6;cY1.shouldRedirect=Ry6;cY1.wrapIncomingMessageWithPassthrough=Ny6;cY1.endStream=Sy6;cY1.safeWrite=Cy6;var Iy6=C("events"),Dy6=C("stream"),wy6=C("stream/promises");function Tx0(Y){return Y?.forEach!=null}function Ay6(Y){if(Y==null||!Tx0(Y))return Y;if(Y.headersInit&&!Y._map&&!Tx0(Y.headersInit))return Y.headersInit;return Object.fromEntries(Y.entries())}function Py6(Y,J){let X=[];return Y.forEach((Z,W)=>{if(J&&W==="content-length")J(Z);X.push(`${W}: ${Z}`)}),X}var Ly6=q8();Object.defineProperty(cY1,"fakePromise",{enumerable:!0,get:function(){return Ly6.fakePromise}});function My6(Y){return Y!=null&&Y.buffer!=null&&Y.byteLength!=null&&Y.byteOffset!=null}function Ey6(Y){return Y!=null&&Y.pipe!=null}function Ty6(Y){return Y?.[Symbol.iterator]!=null}function Ry6(Y){return Y===301||Y===302||Y===303||Y===307||Y===308}function Ny6({incomingMessage:Y,signal:J,passThrough:X=new Dy6.PassThrough,onError:Z=(W)=>{X.destroy(W)}}){return(0,wy6.pipeline)(Y,X,{signal:J,end:!0}).then(()=>{if(!Y.destroyed)Y.resume()}).catch(Z),X}function Sy6(Y){return Y.end(null,null,null)}function Cy6(Y,J,X){if(!J.write(Y))return(0,Iy6.once)(J,"drain",{signal:X})}});var Wq=q((Cx0)=>{Object.defineProperty(Cx0,"__esModule",{value:!0});Cx0.PonyfillReadableStream=void 0;var Rx0=C("buffer"),lY1=C("events"),pY1=C("stream"),uy6=C("stream/promises"),nY1=q8(),iY1=oJ();function Nx0(Y,J){let X=[],Z=!1,W=!1;return{desiredSize:Y,enqueue($){let G=typeof $==="string"?Rx0.Buffer.from($):$;if(!W)X.push(G);else J.push(G)},close(){if(X.length>0)this._flush();J.push(null),Z=!0},error($){if(X.length>0)this._flush();J.destroy($)},get _closed(){return Z},_flush(){if(W=!0,X.length>0){let $=X.length>1?Rx0.Buffer.concat(X):X[0];J.push($),X=[]}}}}function my6(Y){return Y?.read!=null}function Sx0(Y){return Y?.getReader!=null}class Ax{readable;constructor(Y){if(Y instanceof Ax&&Y.readable!=null)this.readable=Y.readable;else if(my6(Y))this.readable=Y;else if(Sx0(Y))this.readable=pY1.Readable.fromWeb(Y);else{let J=!1,X=!1,Z=($)=>{if(!J){let G=Nx0($,this.readable);return J=!0,(0,nY1.handleMaybePromise)(()=>Y?.start?.(G),()=>{if(G._flush(),G._closed)return!1;return!0})}return!0},W=($)=>{return(0,nY1.handleMaybePromise)(()=>Z($),(G)=>{if(!G)return;let Q=Nx0($,this.readable);return(0,nY1.handleMaybePromise)(()=>Y?.pull?.(Q),()=>{Q._flush(),X=!1})})};this.readable=new pY1.Readable({read($){if(X)return;return X=!0,W($)},destroy($,G){if(Y?.cancel)try{let Q=Y.cancel($);if(Q?.then)return Q.then(()=>{G(null)},(U)=>{G(U)})}catch(Q){G(Q);return}G(null)}})}}cancel(Y){return this.readable.destroy(Y),(0,lY1.once)(this.readable,"close")}locked=!1;getReader(Y){let J=this.readable[Symbol.asyncIterator]();this.locked=!0;let X=this.readable;return{read(){return J.next()},releaseLock:()=>{if(J.return){let Z=J.return();if(Z.then){Z.then(()=>{this.locked=!1});return}}this.locked=!1},cancel:(Z)=>{if(J.return){let W=J.return(Z);if(W.then)return W.then(()=>{this.locked=!1})}return this.locked=!1,(0,iY1.fakePromise)()},get closed(){return Promise.race([(0,lY1.once)(X,"end"),(0,lY1.once)(X,"error").then((Z)=>Promise.reject(Z))])}}}[Symbol.asyncIterator](){let Y=this.readable[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return this},next:()=>Y.next(),return:()=>{if(!this.readable.destroyed)this.readable.destroy();return Y.return?.()||(0,iY1.fakePromise)({done:!0,value:void 0})},throw:(J)=>{if(!this.readable.destroyed)this.readable.destroy(J);return Y.throw?.(J)||(0,iY1.fakePromise)({done:!0,value:void 0})}}}tee(){throw Error("Not implemented")}async pipeToWriter(Y){try{for await(let J of this)await Y.write(J);await Y.close()}catch(J){await Y.abort(J)}}pipeTo(Y){if(cy6(Y))return(0,uy6.pipeline)(this.readable,Y.writable,{end:!0});else{let J=Y.getWriter();return this.pipeToWriter(J)}}pipeThrough({writable:Y,readable:J}){if(this.pipeTo(Y).catch((X)=>{this.readable.destroy(X)}),dy6(J))J.readable.once("error",(X)=>this.readable.destroy(X)),J.readable.once("finish",()=>this.readable.push(null)),J.readable.once("close",()=>this.readable.push(null));return J}static[Symbol.hasInstance](Y){return Sx0(Y)}static from(Y){return new Ax(pY1.Readable.from(Y))}[Symbol.toStringTag]="ReadableStream"}Cx0.PonyfillReadableStream=Ax;function dy6(Y){return Y?.readable!=null}function cy6(Y){return Y?.writable!=null}});var Px=q((bx0)=>{Object.defineProperty(bx0,"__esModule",{value:!0});bx0.PonyfillBlob=void 0;bx0.hasBufferMethod=xP;bx0.hasArrayBufferMethod=fP;bx0.hasBytesMethod=vP;bx0.hasTextMethod=kx0;bx0.hasSizeProperty=_x0;bx0.hasStreamMethod=xx0;bx0.hasBlobSignature=fx0;bx0.isArrayBuffer=vx0;var M9=C("buffer"),oY1=Wq(),L9=oJ();function _P(Y){if(typeof Y==="string")return M9.Buffer.from(Y);else if(M9.Buffer.isBuffer(Y))return Y;else if((0,L9.isArrayBufferView)(Y))return M9.Buffer.from(Y.buffer,Y.byteOffset,Y.byteLength);else return M9.Buffer.from(Y)}function xP(Y){return Y!=null&&Y.buffer!=null&&typeof Y.buffer==="function"}function fP(Y){return Y!=null&&Y.arrayBuffer!=null&&typeof Y.arrayBuffer==="function"}function vP(Y){return Y!=null&&Y.bytes!=null&&typeof Y.bytes==="function"}function kx0(Y){return Y!=null&&Y.text!=null&&typeof Y.text==="function"}function _x0(Y){return Y!=null&&typeof Y.size==="number"}function xx0(Y){return Y!=null&&Y.stream!=null&&typeof Y.stream==="function"}function fx0(Y){return Y!=null&&Y[Symbol.toStringTag]==="Blob"}function vx0(Y){return Y!=null&&Y.byteLength!=null&&Y.slice!=null}class hx0{blobParts;type;encoding;_size=null;constructor(Y=[],J){if(this.blobParts=Y,this.type=J?.type||"application/octet-stream",this.encoding=J?.encoding||"utf8",this._size=J?.size||null,Y.length===1&&fx0(Y[0]))return Y[0]}_buffer=null;buffer(){if(this._buffer)return(0,L9.fakePromise)(this._buffer);if(this.blobParts.length===1){let X=this.blobParts[0];if(xP(X))return X.buffer().then((Z)=>{return this._buffer=Z,this._buffer});if(vP(X))return X.bytes().then((Z)=>{return this._buffer=M9.Buffer.from(Z),this._buffer});if(fP(X))return X.arrayBuffer().then((Z)=>{return this._buffer=M9.Buffer.from(Z,void 0,X.size),this._buffer});return this._buffer=_P(X),(0,L9.fakePromise)(this._buffer)}let Y=[],J=this.blobParts.map((X,Z)=>{if(xP(X)){Y.push(X.buffer().then((W)=>{J[Z]=W}));return}else if(fP(X)){Y.push(X.arrayBuffer().then((W)=>{J[Z]=M9.Buffer.from(W,void 0,X.size)}));return}else if(vP(X)){Y.push(X.bytes().then((W)=>{J[Z]=M9.Buffer.from(W)}));return}else return _P(X)});if(Y.length>0)return Promise.all(Y).then(()=>M9.Buffer.concat(J,this._size||void 0));return(0,L9.fakePromise)(M9.Buffer.concat(J,this._size||void 0))}arrayBuffer(){if(this._buffer)return(0,L9.fakePromise)(this._buffer);if(this.blobParts.length===1){if(vx0(this.blobParts[0]))return(0,L9.fakePromise)(this.blobParts[0]);if(fP(this.blobParts[0]))return this.blobParts[0].arrayBuffer()}return this.buffer()}bytes(){if(this._buffer)return(0,L9.fakePromise)(this._buffer);if(this.blobParts.length===1){if(M9.Buffer.isBuffer(this.blobParts[0]))return this._buffer=this.blobParts[0],(0,L9.fakePromise)(this.blobParts[0]);if(this.blobParts[0]instanceof Uint8Array)return this._buffer=M9.Buffer.from(this.blobParts[0]),(0,L9.fakePromise)(this.blobParts[0]);if(vP(this.blobParts[0]))return this.blobParts[0].bytes();if(xP(this.blobParts[0]))return this.blobParts[0].buffer()}return this.buffer()}_text=null;text(){if(this._text)return(0,L9.fakePromise)(this._text);if(this.blobParts.length===1){let Y=this.blobParts[0];if(typeof Y==="string")return this._text=Y,(0,L9.fakePromise)(this._text);if(kx0(Y))return Y.text().then((X)=>{return this._text=X,this._text});let J=_P(Y);return this._text=J.toString(this.encoding),(0,L9.fakePromise)(this._text)}return this.buffer().then((Y)=>{return this._text=Y.toString(this.encoding),this._text})}_json=null;json(){if(this._json)return(0,L9.fakePromise)(this._json);return this.text().then((Y)=>{return this._json=JSON.parse(Y),this._json})}_formData=null;formData(){if(this._formData)return(0,L9.fakePromise)(this._formData);throw Error("Not implemented")}get size(){if(this._size==null){this._size=0;for(let Y of this.blobParts)if(typeof Y==="string")this._size+=M9.Buffer.byteLength(Y);else if(_x0(Y))this._size+=Y.size;else if((0,L9.isArrayBufferView)(Y))this._size+=Y.byteLength}return this._size}stream(){if(this.blobParts.length===1){let J=this.blobParts[0];if(xx0(J))return J.stream();let X=_P(J);return new oY1.PonyfillReadableStream({start:(Z)=>{Z.enqueue(X),Z.close()}})}if(this._buffer!=null)return new oY1.PonyfillReadableStream({start:(J)=>{J.enqueue(this._buffer),J.close()}});let Y;return new oY1.PonyfillReadableStream({start:(J)=>{if(this.blobParts.length===0){J.close();return}Y=this.blobParts[Symbol.iterator]()},pull:(J)=>{let{value:X,done:Z}=Y.next();if(Z){J.close();return}if(X){if(xP(X))return X.buffer().then(($)=>{J.enqueue($)});if(vP(X))return X.bytes().then(($)=>{let G=M9.Buffer.from($);J.enqueue(G)});if(fP(X))return X.arrayBuffer().then(($)=>{let G=M9.Buffer.from($,void 0,X.size);J.enqueue(G)});let W=_P(X);J.enqueue(W)}}})}slice(){throw Error("Not implemented")}}bx0.PonyfillBlob=hx0});var rY1=q((ux0)=>{Object.defineProperty(ux0,"__esModule",{value:!0});ux0.PonyfillFile=void 0;var ty6=Px();class gx0 extends ty6.PonyfillBlob{name;lastModified;constructor(Y,J,X){super(Y,X);this.name=J,this.lastModified=X?.lastModified||Date.now()}webkitRelativePath=""}ux0.PonyfillFile=gx0});var Lx=q((lx0)=>{Object.defineProperty(lx0,"__esModule",{value:!0});lx0.PonyfillIteratorObject=void 0;var dx0=C("util"),ey6=t_(),Yg6=oJ();class cx0{iterableIterator;[Symbol.toStringTag]="IteratorObject";constructor(Y,J){this.iterableIterator=Y,this[Symbol.toStringTag]=J}*map(Y){let J=0;for(let X of this.iterableIterator)yield Y(X,J++);return}*filter(Y){let J=0;for(let X of this.iterableIterator)if(Y(X,J++))yield X;return}reduce(Y,J){let X=0,Z=J;for(let W of this.iterableIterator)Z=Y(Z,W,X++);return Z}forEach(Y){let J=0;for(let X of this.iterableIterator)Y(X,J++)}*take(Y){let J=0;for(let X of this.iterableIterator){if(J>=Y)break;yield X,J++}return}*drop(Y){let J=0;for(let X of this.iterableIterator){if(J>=Y)yield X;J++}return}*flatMap(Y){let J=0;for(let X of this.iterableIterator){let Z=Y(X,J++);if((0,Yg6.isIterable)(Z))for(let W of Z)yield W;else for(let W of{[Symbol.iterator]:()=>Z})yield W}return}some(Y){let J=0;for(let X of this.iterableIterator)if(Y(X,J++))return!0;return!1}every(Y){let J=0;for(let X of this.iterableIterator)if(!Y(X,J++))return!1;return!0}find(Y){let J=0;for(let X of this.iterableIterator)if(Y(X,J++))return X;return}toArray(){return Array.from(this.iterableIterator)}[ey6.DisposableSymbols.dispose](){this.iterableIterator.return?.()}next(...[Y]){return this.iterableIterator.next(Y)}[Symbol.iterator](){return this}[Symbol.for("nodejs.util.inspect.custom")](){let Y={};return this.forEach((J,X)=>{let Z=(0,dx0.inspect)(J);Y[X]=Z.includes(",")?Z.split(",").map((W)=>W.trim()):Z}),`${this[Symbol.toStringTag]} ${(0,dx0.inspect)(Y)}`}}lx0.PonyfillIteratorObject=cx0});var sY1=q((rx0)=>{Object.defineProperty(rx0,"__esModule",{value:!0});rx0.PonyfillFormData=void 0;rx0.getStreamFromFormData=Xg6;var Az=C("buffer"),aY1=Lx(),Jg6=Wq();class ox0{map=new Map;append(Y,J,X){let Z=this.map.get(Y);if(!Z)Z=[],this.map.set(Y,Z);let W=ix0(J)?nx0(Y,J,X):J;Z.push(W)}delete(Y){this.map.delete(Y)}get(Y){let J=this.map.get(Y);return J?J[0]:null}getAll(Y){return this.map.get(Y)||[]}has(Y){return this.map.has(Y)}set(Y,J,X){let Z=ix0(J)?nx0(Y,J,X):J;this.map.set(Y,[Z])}[Symbol.iterator](){return this._entries()}*_entries(){for(let[Y,J]of this.map)for(let X of J)yield[Y,X]}entries(){return new aY1.PonyfillIteratorObject(this._entries(),"FormDataIterator")}_keys(){return this.map.keys()}keys(){return new aY1.PonyfillIteratorObject(this._keys(),"FormDataIterator")}*_values(){for(let Y of this.map.values())for(let J of Y)yield J}values(){return new aY1.PonyfillIteratorObject(this._values(),"FormDataIterator")}forEach(Y){for(let[J,X]of this)Y(X,J,this)}}rx0.PonyfillFormData=ox0;function Xg6(Y,J="---"){let X,Z=!1,W,$=!1;function G(Q){let{done:U,value:z}=X.next();if(U)return Q.enqueue(Az.Buffer.from(`\r
--${J}--\r
`)),Q.close();if($)Q.enqueue(Az.Buffer.from(`\r
--${J}\r
`));if(z){let[H,O]=z;if(typeof O==="string")Q.enqueue(Az.Buffer.from(`Content-Disposition: form-data; name="${H}"\r
\r
`)),Q.enqueue(Az.Buffer.from(O));else{let K="";if(O.name)K=`; filename="${O.name}"`;Q.enqueue(Az.Buffer.from(`Content-Disposition: form-data; name="${H}"${K}\r
`)),Q.enqueue(Az.Buffer.from(`Content-Type: ${O.type||"application/octet-stream"}\r
\r
`)),W=O.stream()[Symbol.asyncIterator]()}$=!0}}return new Jg6.PonyfillReadableStream({start:()=>{X=Y.entries()},pull:(Q)=>{if(!Z)return Z=!0,Q.enqueue(Az.Buffer.from(`--${J}\r
`));if(W)return W.next().then(({done:U,value:z})=>{if(U)W=void 0;if(z)return Q.enqueue(z);else return G(Q)});return G(Q)},cancel:(Q)=>{X?.return?.(Q),W?.return?.(Q)}})}function nx0(Y,J,X){return Object.defineProperty(J,"name",{configurable:!0,enumerable:!0,value:X||J.name||Y}),J}function ix0(Y){return Y?.arrayBuffer!=null}});var Ex=q((ex0)=>{Object.defineProperty(ex0,"__esModule",{value:!0});ex0.PonyfillBody=void 0;var j3=C("buffer"),Wg6=C("http"),oZ=C("stream"),$g6=l_(),Mx=q8(),$q=Px(),Gg6=rY1(),sx0=sY1(),C3=Wq(),C5=oJ(),F8;(function(Y){Y.ReadableStream="ReadableStream",Y.Blob="Blob",Y.FormData="FormData",Y.String="String",Y.Readable="Readable",Y.Buffer="Buffer",Y.AsyncIterable="AsyncIterable"})(F8||(F8={}));class tx0{bodyInit;options;bodyUsed=!1;contentType=null;contentLength=null;_signal=null;constructor(Y,J={}){this.bodyInit=Y,this.options=J,this._signal=J.signal||null;let{bodyFactory:X,contentType:Z,contentLength:W,bodyType:$,buffer:G}=Qg6(Y,J?.signal);this._bodyFactory=X,this.contentType=Z,this.contentLength=W,this.bodyType=$,this._buffer=G}bodyType;_bodyFactory=()=>null;_generatedBody=null;_buffer;generateBody(){if(this._generatedBody?.readable?.destroyed&&this._buffer)this._generatedBody.readable=oZ.Readable.from(this._buffer);if(this._generatedBody)return this._generatedBody;let Y=this._bodyFactory();return this._generatedBody=Y,Y}handleContentLengthHeader(Y=!1){let J=this.headers.get("content-type");if(!J){if(this.contentType)this.headers.set("content-type",this.contentType)}else this.contentType=J;let X=this.headers.get("content-length");if(Y&&this.bodyInit==null&&!X)this.contentLength=0,this.headers.set("content-length","0");if(!X){if(this.contentLength)this.headers.set("content-length",this.contentLength.toString())}else this.contentLength=parseInt(X,10)}get body(){let Y=this.generateBody();if(Y!=null){let J=Y,X=Y.readable;return new Proxy(Y.readable,{get(Z,W){if(W in J){let $=J[W];if(typeof $==="function")return $.bind(J);return $}if(W in X){let $=X[W];if(typeof $==="function")return $.bind(X);return $}}})}return null}_chunks=null;_doCollectChunksFromReadableJob(){if(this.bodyType===F8.AsyncIterable){if(Array.fromAsync)return(0,Mx.handleMaybePromise)(()=>Array.fromAsync(this.bodyInit),(W)=>{return this._chunks=W,this._chunks});let J=this.bodyInit[Symbol.asyncIterator](),X=[],Z=()=>(0,Mx.handleMaybePromise)(()=>J.next(),({value:W,done:$})=>{if(W)X.push(W);if(!$)return Z();return this._chunks=X,this._chunks});return Z()}let Y=this.generateBody();if(!Y)return this._chunks=[],(0,C5.fakePromise)(this._chunks);return Y.readable.toArray().then((J)=>{return this._chunks=J,this._chunks})}_collectChunksFromReadable(){if(this._chunks)return(0,C5.fakePromise)(this._chunks);return this._chunks||=this._doCollectChunksFromReadableJob(),this._chunks}_blob=null;blob(){if(this._blob)return(0,C5.fakePromise)(this._blob);if(this.bodyType===F8.String)this._text=this.bodyInit,this._blob=new $q.PonyfillBlob([this._text],{type:this.contentType||"text/plain;charset=UTF-8",size:this.contentLength});if(this.bodyType===F8.Blob)return this._blob=this.bodyInit,(0,C5.fakePromise)(this._blob);if(this._buffer)return this._blob=new $q.PonyfillBlob([this._buffer],{type:this.contentType||"",size:this.contentLength}),(0,C5.fakePromise)(this._blob);return(0,C5.fakePromise)((0,Mx.handleMaybePromise)(()=>this._collectChunksFromReadable(),(Y)=>{return this._blob=new $q.PonyfillBlob(Y,{type:this.contentType||"",size:this.contentLength}),this._blob}))}_formData=null;formData(Y){if(this._formData)return(0,C5.fakePromise)(this._formData);if(this.bodyType===F8.FormData)return this._formData=this.bodyInit,(0,C5.fakePromise)(this._formData);if(this._formData=new sx0.PonyfillFormData,this.generateBody()==null)return(0,C5.fakePromise)(this._formData);let X={...this.options.formDataLimits,...Y?.formDataLimits};return new Promise((Z,W)=>{let $=this.body?.readable;if(!$)return W(Error("No stream available"));let G=null,Q=new $g6.Busboy({headers:{"content-length":typeof this.contentLength==="number"?this.contentLength.toString():this.contentLength||"","content-type":this.contentType||""},limits:X,defCharset:"utf-8"});if(this._signal)(0,oZ.addAbortSignal)(this._signal,Q);let U=!1,z=(H)=>{if(U)return;if(U=!0,$.unpipe(Q),Q.destroy(),G)G.destroy(),G=null;if(H)W(H);else Z(this._formData)};$.on("error",z),Q.on("field",(H,O,K,B)=>{if(K)return z(Error(`Field name size exceeded: ${X?.fieldNameSize} bytes`));if(B)return z(Error(`Field value size exceeded: ${X?.fieldSize} bytes`));this._formData.set(H,O)}),Q.on("file",(H,O,K,B,F)=>{G=O;let V=[];O.on("data",(I)=>{V.push(I)}),O.on("error",z),O.on("limit",()=>{z(Error(`File size limit exceeded: ${X?.fileSize} bytes`))}),O.on("close",()=>{if(O.truncated)z(Error(`File size limit exceeded: ${X?.fileSize} bytes`));G=null;let I=new Gg6.PonyfillFile(V,K,{type:F});this._formData.set(H,I)})}),Q.on("fieldsLimit",()=>{z(Error(`Fields limit exceeded: ${X?.fields}`))}),Q.on("filesLimit",()=>{z(Error(`Files limit exceeded: ${X?.files}`))}),Q.on("partsLimit",()=>{z(Error(`Parts limit exceeded: ${X?.parts}`))}),Q.on("end",z),Q.on("finish",z),Q.on("close",z),Q.on("error",z),$.pipe(Q)})}buffer(){if(this._buffer)return(0,C5.fakePromise)(this._buffer);if(this._text)return this._buffer=j3.Buffer.from(this._text,"utf-8"),(0,C5.fakePromise)(this._buffer);if(this.bodyType===F8.String)return this.text().then((Y)=>{return this._text=Y,this._buffer=j3.Buffer.from(Y,"utf-8"),this._buffer});if(this.bodyType===F8.Blob){if((0,$q.hasBufferMethod)(this.bodyInit))return this.bodyInit.buffer().then((Y)=>{return this._buffer=Y,this._buffer});if((0,$q.hasBytesMethod)(this.bodyInit))return this.bodyInit.bytes().then((Y)=>{return this._buffer=j3.Buffer.from(Y),this._buffer});if((0,$q.hasArrayBufferMethod)(this.bodyInit))return this.bodyInit.arrayBuffer().then((Y)=>{return this._buffer=j3.Buffer.from(Y,void 0,Y.byteLength),this._buffer})}return(0,C5.fakePromise)((0,Mx.handleMaybePromise)(()=>this._collectChunksFromReadable(),(Y)=>{if(Y.length===1)return this._buffer=Y[0],this._buffer;return this._buffer=j3.Buffer.concat(Y),this._buffer}))}bytes(){return this.buffer()}arrayBuffer(){return this.buffer()}_json=null;json(){if(this._json)return(0,C5.fakePromise)(this._json);return this.text().then((Y)=>{try{this._json=JSON.parse(Y)}catch(J){if(J instanceof SyntaxError)J.message+=`, "${Y}" is not valid JSON`;throw J}return this._json})}_text=null;text(){if(this._text)return(0,C5.fakePromise)(this._text);if(this.bodyType===F8.String)return this._text=this.bodyInit,(0,C5.fakePromise)(this._text);return this.buffer().then((Y)=>{return this._text=Y.toString("utf-8"),this._text})}}ex0.PonyfillBody=tx0;function Qg6(Y,J){if(Y==null)return{bodyFactory:()=>null,contentType:null,contentLength:null};if(typeof Y==="string"){let X=j3.Buffer.byteLength(Y);return{bodyType:F8.String,contentType:"text/plain;charset=UTF-8",contentLength:X,bodyFactory(){let Z=oZ.Readable.from(j3.Buffer.from(Y,"utf-8"));return new C3.PonyfillReadableStream(Z)}}}if(j3.Buffer.isBuffer(Y)){let X=Y;return{bodyType:F8.Buffer,contentType:null,contentLength:Y.length,buffer:Y,bodyFactory(){let Z=oZ.Readable.from(X);return new C3.PonyfillReadableStream(Z)}}}if((0,C5.isArrayBufferView)(Y)){let X=j3.Buffer.from(Y.buffer,Y.byteOffset,Y.byteLength);return{bodyType:F8.Buffer,contentLength:Y.byteLength,contentType:null,buffer:X,bodyFactory(){let Z=oZ.Readable.from(X);return new C3.PonyfillReadableStream(Z)}}}if(Y instanceof C3.PonyfillReadableStream&&Y.readable!=null){let X=Y;return{bodyType:F8.ReadableStream,bodyFactory:()=>X,contentType:null,contentLength:null}}if(zg6(Y)){let X=Y;return{bodyType:F8.Blob,contentType:Y.type,contentLength:Y.size,bodyFactory(){return X.stream()}}}if(Y instanceof ArrayBuffer){let X=Y.byteLength,Z=j3.Buffer.from(Y,void 0,Y.byteLength);return{bodyType:F8.Buffer,contentType:null,contentLength:X,buffer:Z,bodyFactory(){let W=oZ.Readable.from(Z);return new C3.PonyfillReadableStream(W)}}}if(Y instanceof Wg6.IncomingMessage){let X=(0,C5.wrapIncomingMessageWithPassthrough)({incomingMessage:Y,signal:J});return{bodyType:F8.Readable,contentType:null,contentLength:null,bodyFactory(){return new C3.PonyfillReadableStream(X)}}}if(Y instanceof oZ.Readable)return{bodyType:F8.Readable,contentType:null,contentLength:null,bodyFactory(){return new C3.PonyfillReadableStream(Y)}};if(Hg6(Y))return{bodyType:F8.String,contentType:"application/x-www-form-urlencoded;charset=UTF-8",contentLength:null,bodyFactory(){return new C3.PonyfillReadableStream(oZ.Readable.from(Y.toString()))}};if(Ug6(Y)){let X=Math.random().toString(36).substr(2),Z=`multipart/form-data; boundary=${X}`;return{bodyType:F8.FormData,contentType:Z,contentLength:null,bodyFactory(){return(0,sx0.getStreamFromFormData)(Y,X)}}}if(Og6(Y))return{contentType:null,contentLength:null,bodyFactory(){return new C3.PonyfillReadableStream(Y)}};if(Y[Symbol.iterator]||Y[Symbol.asyncIterator])return{contentType:null,contentLength:null,bodyType:F8.AsyncIterable,bodyFactory(){let X=oZ.Readable.from(Y);return new C3.PonyfillReadableStream(X)}};throw Error("Unknown body type")}function Ug6(Y){return Y?.forEach!=null}function zg6(Y){return Y?.stream!=null&&typeof Y.stream==="function"}function Hg6(Y){return Y?.sort!=null}function Og6(Y){return Y?.getReader!=null}});var Tx=q((Xf0)=>{Object.defineProperty(Xf0,"__esModule",{value:!0});Xf0.PonyfillHeaders=void 0;Xf0.isHeadersLike=IG;var Kg6=C("util"),tY1=Lx();function IG(Y){return Y?.get&&Y?.forEach}class Jf0{headersInit;_map;objectNormalizedKeysOfHeadersInit=[];objectOriginalKeysOfHeadersInit=[];_setCookies;constructor(Y){this.headersInit=Y}_get(Y){let J=Y.toLowerCase();if(J==="set-cookie"&&this._setCookies?.length)return this._setCookies.join(", ");if(this._map)return this._map.get(J)||null;if(this.headersInit==null)return null;if(Array.isArray(this.headersInit)){let X=this.headersInit.filter(([Z])=>Z.toLowerCase()===J);if(X.length===0)return null;if(X.length===1)return X[0][1];return X.map(([,Z])=>Z).join(", ")}else if(IG(this.headersInit))return this.headersInit.get(J);else{let X=this.headersInit[Y]||this.headersInit[J];if(X!=null)return X;if(!this.objectNormalizedKeysOfHeadersInit.length)Object.keys(this.headersInit).forEach(($)=>{this.objectOriginalKeysOfHeadersInit.push($),this.objectNormalizedKeysOfHeadersInit.push($.toLowerCase())});let Z=this.objectNormalizedKeysOfHeadersInit.indexOf(J);if(Z===-1)return null;let W=this.objectOriginalKeysOfHeadersInit[Z];return this.headersInit[W]}}getMap(){if(!this._map)if(this._setCookies||=[],this.headersInit!=null)if(Array.isArray(this.headersInit)){this._map=new Map;for(let[Y,J]of this.headersInit){let X=Y.toLowerCase();if(X==="set-cookie"){this._setCookies.push(J);continue}this._map.set(X,J)}}else if(IG(this.headersInit))this._map=new Map,this.headersInit.forEach((Y,J)=>{if(J==="set-cookie"){this._setCookies||=[],this._setCookies.push(Y);return}this._map.set(J,Y)});else{this._map=new Map;for(let Y in this.headersInit){let J=this.headersInit[Y];if(J!=null){let X=Y.toLowerCase();if(X==="set-cookie"){this._setCookies||=[],this._setCookies.push(J);continue}this._map.set(X,J)}}}else this._map=new Map;return this._map}append(Y,J){let X=Y.toLowerCase();if(X==="set-cookie"){this._setCookies||=[],this._setCookies.push(J);return}let Z=this.getMap().get(X),W=Z?`${Z}, ${J}`:J;this.getMap().set(X,W)}get(Y){let J=this._get(Y);if(J==null)return null;return J.toString()}has(Y){if(Y.toLowerCase()==="set-cookie")return!!this._setCookies?.length;return!!this._get(Y)}set(Y,J){let X=Y.toLowerCase();if(X==="set-cookie"){this._setCookies=[J];return}if(!this._map&&this.headersInit!=null)if(Array.isArray(this.headersInit)){let Z=this.headersInit.find(([W])=>W.toLowerCase()===X);if(Z)Z[1]=J;else this.headersInit.push([X,J]);return}else if(IG(this.headersInit)){this.headersInit.set(X,J);return}else{this.headersInit[X]=J;return}this.getMap().set(X,J)}delete(Y){let J=Y.toLowerCase();if(J==="set-cookie"){this._setCookies=[];return}this.getMap().delete(J)}forEach(Y){if(this._setCookies?.forEach((J)=>{Y(J,"set-cookie",this)}),!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){this.headersInit.forEach(([J,X])=>{Y(X,J,this)});return}if(IG(this.headersInit)){this.headersInit.forEach(Y);return}Object.entries(this.headersInit).forEach(([J,X])=>{if(X!=null)Y(X,J,this)})}return}this.getMap().forEach((J,X)=>{Y(J,X,this)})}*_keys(){if(this._setCookies?.length)yield"set-cookie";if(!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit.map(([Y])=>Y)[Symbol.iterator]();return}if(IG(this.headersInit)){yield*this.headersInit.keys();return}yield*Object.keys(this.headersInit)[Symbol.iterator]();return}}yield*this.getMap().keys()}keys(){return new tY1.PonyfillIteratorObject(this._keys(),"HeadersIterator")}*_values(){if(this._setCookies?.length)yield*this._setCookies;if(!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit.map(([,Y])=>Y)[Symbol.iterator]();return}if(IG(this.headersInit)){yield*this.headersInit.values();return}yield*Object.values(this.headersInit)[Symbol.iterator]();return}}yield*this.getMap().values()}values(){return new tY1.PonyfillIteratorObject(this._values(),"HeadersIterator")}*_entries(){if(this._setCookies?.length)yield*this._setCookies.map((Y)=>["set-cookie",Y]);if(!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit;return}if(IG(this.headersInit)){yield*this.headersInit.entries();return}yield*Object.entries(this.headersInit);return}}yield*this.getMap().entries()}entries(){return new tY1.PonyfillIteratorObject(this._entries(),"HeadersIterator")}getSetCookie(){if(!this._setCookies)this.getMap();return this._setCookies}[Symbol.iterator](){return this.entries()}[Symbol.for("nodejs.util.inspect.custom")](){let Y={};return this.forEach((J,X)=>{if(X==="set-cookie")Y["set-cookie"]=this._setCookies||[];else Y[X]=J?.includes(",")?J.split(",").map((Z)=>Z.trim()):J}),`Headers ${(0,Kg6.inspect)(Y)}`}}Xf0.PonyfillHeaders=Jf0});var yP=q((Wf0)=>{Object.defineProperty(Wf0,"__esModule",{value:!0});Wf0.PonyfillResponse=void 0;var qg6=C("http"),Fg6=Ex(),eY1=Tx(),hP="application/json; charset=utf-8";class bP extends Fg6.PonyfillBody{headers;constructor(Y,J){super(Y||null,J);this.headers=J?.headers&&(0,eY1.isHeadersLike)(J.headers)?J.headers:new eY1.PonyfillHeaders(J?.headers),this.status=J?.status||200,this.statusText=J?.statusText||qg6.STATUS_CODES[this.status]||"OK",this.url=J?.url||"",this.redirected=J?.redirected||!1,this.type=J?.type||"default",this.handleContentLengthHeader()}get ok(){return this.status>=200&&this.status<300}status;statusText;url;redirected;type;clone(){return this}static error(){return new bP(null,{status:500,statusText:"Internal Server Error"})}static redirect(Y,J=302){if(J<300||J>399)throw RangeError("Invalid status code");return new bP(null,{headers:{location:Y},status:J})}static json(Y,J){let X=JSON.stringify(Y);if(!J)J={headers:{"content-type":hP,"content-length":Buffer.byteLength(X).toString()}};else if(!J.headers)J.headers={"content-type":hP,"content-length":Buffer.byteLength(X).toString()};else if((0,eY1.isHeadersLike)(J.headers)){if(!J.headers.has("content-type"))J.headers.set("content-type",hP);if(!J.headers.has("content-length"))J.headers.set("content-length",Buffer.byteLength(X).toString())}else if(Array.isArray(J.headers)){let Z=!1,W=!1;for(let[$]of J.headers){if(W&&Z)break;if(!Z&&$.toLowerCase()==="content-type")Z=!0;else if(!W&&$.toLowerCase()==="content-length")W=!0}if(!Z)J.headers.push(["content-type",hP]);if(!W)J.headers.push(["content-length",Buffer.byteLength(X).toString()])}else if(typeof J.headers==="object"){if(J.headers?.["content-type"]==null)J.headers["content-type"]=hP;if(J.headers?.["content-length"]==null)J.headers["content-length"]=Buffer.byteLength(X).toString()}return new bP(X,J)}[Symbol.toStringTag]="Response"}Wf0.PonyfillResponse=bP});var Qf0=q((Gf0)=>{Object.defineProperty(Gf0,"__esModule",{value:!0});Gf0.fetchCurl=Ag6;var Vg6=C("stream"),Ig6=C("tls"),Dg6=q8(),wg6=yP(),Rx=oJ();function Ag6(Y){let{Curl:J,CurlFeature:X,CurlPause:Z,CurlProgressFunc:W}=globalThis.libcurl,$=new J;if($.enable(X.NoDataParsing),$.setOpt("URL",Y.url),process.env.NODE_TLS_REJECT_UNAUTHORIZED==="0")$.setOpt("SSL_VERIFYPEER",!1);if(process.env.NODE_EXTRA_CA_CERTS)$.setOpt("CAINFO",process.env.NODE_EXTRA_CA_CERTS);else $.setOpt("CAINFO_BLOB",Ig6.rootCertificates.join(`
`));$.enable(X.StreamResponse);let G;if(Y._signal===null)G=void 0;else if(Y._signal)G=Y._signal;else G=Y.signal;if($.setStreamProgressCallback(function(){return G?.aborted?process.env.DEBUG?W.Continue:1:0}),Y.bodyType==="String")$.setOpt("POSTFIELDS",Y.bodyInit);else{let B=Y.body!=null?(0,Rx.isNodeReadable)(Y.body)?Y.body:Vg6.Readable.from(Y.body):null;if(B)$.setOpt("UPLOAD",!0),$.setUploadStream(B)}if(process.env.DEBUG)$.setOpt("VERBOSE",!0);$.setOpt("TRANSFER_ENCODING",!1),$.setOpt("HTTP_TRANSFER_DECODING",!0),$.setOpt("FOLLOWLOCATION",Y.redirect==="follow"),$.setOpt("MAXREDIRS",20),$.setOpt("ACCEPT_ENCODING",""),$.setOpt("CUSTOMREQUEST",Y.method);let Q=Y.headersSerializer||Rx.defaultHeadersSerializer,U,z=Q(Y.headers,(B)=>{U=Number(B)});if(U!=null)$.setOpt("INFILESIZE",U);$.setOpt("HTTPHEADER",z),$.enable(X.NoHeaderParsing);let H=(0,Dg6.createDeferredPromise)(),O;function K(){if($.isOpen)try{$.pause(Z.Recv)}catch(B){H.reject(B)}}return G?.addEventListener("abort",K,{once:!0}),$.once("end",function(){try{$.close()}catch(F){H.reject(F)}G?.removeEventListener("abort",K)}),$.once("error",function(F){if(O&&!O.closed&&!O.destroyed)O.destroy(F);else{if(F.message==="Operation was aborted by an application callback")F.message="The operation was aborted.";H.reject(F)}try{$.close()}catch(V){H.reject(V)}}),$.once("stream",function(F,V,I){let D=(0,Rx.wrapIncomingMessageWithPassthrough)({incomingMessage:F,signal:G,onError:H.reject}),A=I.toString("utf8").split(/\r?\n|\r/g).filter((R)=>{if(R&&!R.startsWith("HTTP/")){if(Y.redirect==="error"&&R.toLowerCase().includes("location")&&(0,Rx.shouldRedirect)(V)){if(!F.destroyed)F.resume();D.destroy(),H.reject(Error("redirect is not allowed"))}return!0}return!1}).map((R)=>R.split(/:\s(.+)/).slice(0,2)),P=new wg6.PonyfillResponse(D,{status:V,headers:A,url:$.getInfo(J.info.REDIRECT_URL)?.toString()||Y.url,redirected:Number($.getInfo(J.info.REDIRECT_COUNT))>0});H.resolve(P),O=D}),setImmediate(()=>{$.perform()}),H.promise}});var gP=q((Hf0)=>{Object.defineProperty(Hf0,"__esModule",{value:!0});Hf0.PonyfillURL=void 0;var Lg6=e9(),Mg6=Lg6.__importDefault(C("buffer")),Eg6=C("crypto"),Uf0=globalThis.URL;class zf0 extends Uf0{static blobRegistry=new Map;static createObjectURL(Y){let J=`blob:whatwgnode:${(0,Eg6.randomUUID)()}`;return this.blobRegistry.set(J,Y),J}static revokeObjectURL(Y){if(!this.blobRegistry.has(Y))Uf0.revokeObjectURL(Y);else this.blobRegistry.delete(Y)}static getBlobFromURL(Y){return this.blobRegistry.get(Y)||Mg6.default?.resolveObjectURL?.(Y)}}Hf0.PonyfillURL=zf0});var Nx=q((qf0)=>{Object.defineProperty(qf0,"__esModule",{value:!0});qf0.PonyfillRequest=void 0;var Tg6=C("http"),Rg6=C("https"),Ng6=Ex(),Kf0=Tx(),Sg6=gP();function Cg6(Y){return Y[Symbol.toStringTag]==="Request"}function jg6(Y){return Y?.href!=null}class Bf0 extends Ng6.PonyfillBody{constructor(Y,J){let X,Z,W=null,$;if(typeof Y==="string")X=Y;else if(jg6(Y))Z=Y;else if(Cg6(Y)){if(Y._parsedUrl)Z=Y._parsedUrl;else if(Y._url)X=Y._url;else X=Y.url;W=Y.body,$=Y}if(J!=null)W=J.body||null,$=J;super(W,$);if(this._url=X,this._parsedUrl=Z,this.cache=$?.cache||"default",this.credentials=$?.credentials||"same-origin",this.headers=$?.headers&&(0,Kf0.isHeadersLike)($.headers)?$.headers:new Kf0.PonyfillHeaders($?.headers),this.integrity=$?.integrity||"",this.keepalive=$?.keepalive!=null?$?.keepalive:!1,this.method=$?.method?.toUpperCase()||"GET",this.mode=$?.mode||"cors",this.redirect=$?.redirect||"follow",this.referrer=$?.referrer||"about:client",this.referrerPolicy=$?.referrerPolicy||"no-referrer",this.headersSerializer=$?.headersSerializer,this.duplex=$?.duplex||"half",this.destination="document",this.priority="auto",this.method!=="GET"&&this.method!=="HEAD")this.handleContentLengthHeader(!0);if($?.agent!=null){let G=Z?.protocol||X||this.url;if($.agent===!1)this.agent=!1;else if(G.startsWith("http:")&&$.agent instanceof Tg6.Agent)this.agent=$.agent;else if(G.startsWith("https:")&&$.agent instanceof Rg6.Agent)this.agent=$.agent}}headersSerializer;cache;credentials;destination;headers;integrity;keepalive;method;mode;priority;redirect;referrer;referrerPolicy;_url;get signal(){return this._signal||=new AbortController().signal,this._signal}get url(){if(this._url==null)if(this._parsedUrl)this._url=this._parsedUrl.toString();else throw TypeError("Invalid URL");return this._url}_parsedUrl;get parsedUrl(){if(this._parsedUrl==null)if(this._url!=null)this._parsedUrl=new Sg6.PonyfillURL(this._url,"http://localhost");else throw TypeError("Invalid URL");return this._parsedUrl}duplex;agent;clone(){return this}[Symbol.toStringTag]="Request"}qf0.PonyfillRequest=Bf0});var wf0=q((Df0)=>{Object.defineProperty(Df0,"__esModule",{value:!0});Df0.fetchNodeHttp=If0;var Vf0=C("http"),kg6=C("https"),_g6=C("stream"),Sx=C("zlib"),xg6=q8(),fg6=Nx(),vg6=yP(),hg6=gP(),Pz=oJ();function bg6(Y){if(Y.startsWith("http:"))return Vf0.request;else if(Y.startsWith("https:"))return kg6.request;throw Error(`Unsupported protocol: ${Y.split(":")[0]||Y}`)}function If0(Y){return new Promise((J,X)=>{try{let Z=bg6(Y.parsedUrl?.protocol||Y.url),$=(Y.headersSerializer||Pz.getHeadersObj)(Y.headers);if($["accept-encoding"]==null)$["accept-encoding"]="gzip, deflate, br";let G;if(Y._signal===null)G=void 0;else if(Y._signal)G=Y._signal;else G=Y.signal;let Q;if(Y.parsedUrl)Q=Z(Y.parsedUrl,{method:Y.method,headers:$,signal:G,agent:Y.agent});else Q=Z(Y.url,{method:Y.method,headers:$,signal:G,agent:Y.agent});if(Q.once("error",X),Q.once("response",(U)=>{let z;switch(U.headers["content-encoding"]){case"x-gzip":case"gzip":z=(0,Sx.createGunzip)();break;case"x-deflate":case"deflate":z=(0,Sx.createInflate)();break;case"x-deflate-raw":case"deflate-raw":z=(0,Sx.createInflateRaw)();break;case"br":z=(0,Sx.createBrotliDecompress)();break}if(U.headers.location&&(0,Pz.shouldRedirect)(U.statusCode)){if(Y.redirect==="error"){let F=Error("Redirects are not allowed");X(F),U.resume();return}if(Y.redirect==="follow"){let F=new hg6.PonyfillURL(U.headers.location,Y.parsedUrl||Y.url),V=If0(new fg6.PonyfillRequest(F,Y));J(V.then((I)=>{return I.redirected=!0,I})),U.resume();return}}if(z!=null)z=(0,Pz.wrapIncomingMessageWithPassthrough)({incomingMessage:U,passThrough:z,signal:G,onError:X});let O=U.statusCode||200,K=U.statusMessage||Vf0.STATUS_CODES[O];if(K==null)K="";let B=new vg6.PonyfillResponse(z||U,{status:O,statusText:K,headers:U.headers,url:Y.url,signal:G});J(B)}),Y._buffer!=null)(0,xg6.handleMaybePromise)(()=>(0,Pz.safeWrite)(Y._buffer,Q,G),()=>(0,Pz.endStream)(Q),X);else{let U=Y.body!=null?(0,Pz.isNodeReadable)(Y.body)?Y.body:_g6.Readable.from(Y.body):null;if(U)U.pipe(Q);else(0,Pz.endStream)(Q)}}catch(Z){X(Z)}})}});var Ef0=q((Mf0)=>{Object.defineProperty(Mf0,"__esModule",{value:!0});Mf0.fetchPonyfill=Lf0;var gg6=C("buffer"),Cx=C("fs"),ug6=C("url"),mg6=Qf0(),dg6=wf0(),cg6=Nx(),Gq=yP(),lg6=gP(),Af0=oJ(),Pf0=";base64";async function pg6(Y){let J=(0,ug6.fileURLToPath)(Y);try{await Cx.promises.access(J,Cx.promises.constants.R_OK);let X=await Cx.promises.stat(J,{bigint:!0}),Z=(0,Cx.createReadStream)(J);return new Gq.PonyfillResponse(Z,{status:200,statusText:"OK",headers:{"content-type":"application/octet-stream","last-modified":X.mtime.toUTCString()}})}catch(X){if(X.code==="ENOENT")return new Gq.PonyfillResponse(null,{status:404,statusText:"Not Found"});else if(X.code==="EACCES")return new Gq.PonyfillResponse(null,{status:403,statusText:"Forbidden"});throw X}}function ng6(Y){let[J="text/plain",...X]=Y.substring(5).split(","),Z=decodeURIComponent(X.join(","));if(J.endsWith(Pf0)){let W=gg6.Buffer.from(Z,"base64url"),$=J.slice(0,-Pf0.length);return new Gq.PonyfillResponse(W,{status:200,statusText:"OK",headers:{"content-type":$}})}return new Gq.PonyfillResponse(Z,{status:200,statusText:"OK",headers:{"content-type":J}})}function ig6(Y){let J=lg6.PonyfillURL.getBlobFromURL(Y);if(!J)throw TypeError("Invalid Blob URL");return new Gq.PonyfillResponse(J,{status:200,headers:{"content-type":J.type,"content-length":J.size.toString()}})}function og6(Y){return Y!=null&&Y.href!=null}function Lf0(Y,J){if(typeof Y==="string"||og6(Y)){let Z=new cg6.PonyfillRequest(Y,J);return Lf0(Z)}let X=Y;if(X.url.startsWith("data:")){let Z=ng6(X.url);return(0,Af0.fakePromise)(Z)}if(X.url.startsWith("file:"))return pg6(X.url);if(X.url.startsWith("blob:")){let Z=ig6(X.url);return(0,Af0.fakePromise)(Z)}if(globalThis.libcurl&&!X.agent)return(0,mg6.fetchCurl)(X);return(0,dg6.fetchNodeHttp)(X)}});var YJ1=q((Nf0)=>{Object.defineProperty(Nf0,"__esModule",{value:!0});Nf0.PonyfillTextDecoder=Nf0.PonyfillTextEncoder=void 0;Nf0.PonyfillBtoa=sg6;var uP=C("buffer"),ag6=oJ();class Tf0{encoding;constructor(Y="utf-8"){this.encoding=Y}encode(Y){return uP.Buffer.from(Y,this.encoding)}encodeInto(Y,J){let Z=this.encode(Y).copy(J);return{read:Z,written:Z}}}Nf0.PonyfillTextEncoder=Tf0;class Rf0{encoding;fatal=!1;ignoreBOM=!1;constructor(Y="utf-8",J){if(this.encoding=Y,J)this.fatal=J.fatal||!1,this.ignoreBOM=J.ignoreBOM||!1}decode(Y){if(uP.Buffer.isBuffer(Y))return Y.toString(this.encoding);if((0,ag6.isArrayBufferView)(Y))return uP.Buffer.from(Y.buffer,Y.byteOffset,Y.byteLength).toString(this.encoding);return uP.Buffer.from(Y).toString(this.encoding)}}Nf0.PonyfillTextDecoder=Rf0;function sg6(Y){return uP.Buffer.from(Y,"binary").toString("base64")}});var kf0=q((Cf0)=>{Object.defineProperty(Cf0,"__esModule",{value:!0});Cf0.PonyfillURLSearchParams=void 0;Cf0.PonyfillURLSearchParams=globalThis.URLSearchParams});var XJ1=q((ff0)=>{Object.defineProperty(ff0,"__esModule",{value:!0});ff0.PonyfillWritableStream=void 0;var jx=C("events"),JJ1=C("stream"),_f0=q8(),DG=oJ();class xf0{writable;constructor(Y){if(Y instanceof JJ1.Writable)this.writable=Y;else if(Y){let J=new JJ1.Writable({write(W,$,G){try{let Q=Y.write?.(W,Z);if(Q instanceof Promise)Q.then(()=>{G()},(U)=>{G(U)});else G()}catch(Q){G(Q)}},final(W){let $=Y.close?.();if($ instanceof Promise)$.then(()=>{W()},(G)=>{W(G)});else W()}});this.writable=J;let X=new AbortController,Z={signal:X.signal,error(W){J.destroy(W)}};J.once("error",(W)=>X.abort(W)),J.once("close",()=>X.abort())}else this.writable=new JJ1.Writable}getWriter(){let Y=this.writable;return{get closed(){return(0,jx.once)(Y,"close")},get desiredSize(){return Y.writableLength},get ready(){return(0,jx.once)(Y,"drain")},releaseLock(){},write(J){let X=(0,DG.fakePromise)();if(J==null)return X;return X.then(()=>(0,DG.safeWrite)(J,Y))},close(){if(!Y.errored&&Y.closed)return(0,DG.fakePromise)();if(Y.errored)return(0,_f0.fakeRejectPromise)(Y.errored);return(0,DG.fakePromise)().then(()=>(0,DG.endStream)(Y))},abort(J){return Y.destroy(J),(0,jx.once)(Y,"close")}}}close(){if(!this.writable.errored&&this.writable.closed)return(0,DG.fakePromise)();if(this.writable.errored)return(0,_f0.fakeRejectPromise)(this.writable.errored);return(0,DG.fakePromise)().then(()=>(0,DG.endStream)(this.writable))}abort(Y){return this.writable.destroy(Y),(0,jx.once)(this.writable,"close")}locked=!1}ff0.PonyfillWritableStream=xf0});var mP=q((bf0)=>{Object.defineProperty(bf0,"__esModule",{value:!0});bf0.PonyfillTransformStream=void 0;var ZJ1=C("stream"),Yu6=Wq(),Ju6=oJ(),Xu6=XJ1();class hf0{transform;writable;readable;constructor(Y){if(Y instanceof ZJ1.Transform)this.transform=Y;else if(Y){let J={enqueue(Z){X.push(Z)},error(Z){X.destroy(Z)},terminate(){(0,Ju6.endStream)(X)},get desiredSize(){return X.writableLength}},X=new ZJ1.Transform({read(){},write(Z,W,$){try{let G=Y.transform?.(Z,J);if(G instanceof Promise)G.then(()=>{$()},(Q)=>{$(Q)});else $()}catch(G){$(G)}},final(Z){try{let W=Y.flush?.(J);if(W instanceof Promise)W.then(()=>{Z()},($)=>{Z($)});else Z()}catch(W){Z(W)}}});this.transform=X}else this.transform=new ZJ1.Transform;this.writable=new Xu6.PonyfillWritableStream(this.transform),this.readable=new Yu6.PonyfillReadableStream(this.transform)}}bf0.PonyfillTransformStream=hf0});var df0=q((uf0)=>{Object.defineProperty(uf0,"__esModule",{value:!0});uf0.PonyfillCompressionStream=void 0;var kx=C("zlib"),Zu6=mP();class gf0 extends Zu6.PonyfillTransformStream{static supportedFormats=globalThis.process?.version?.startsWith("v2")?["gzip","deflate","br"]:["gzip","deflate","deflate-raw","br"];constructor(Y){switch(Y){case"x-gzip":case"gzip":super((0,kx.createGzip)());break;case"x-deflate":case"deflate":super((0,kx.createDeflate)());break;case"deflate-raw":super((0,kx.createDeflateRaw)());break;case"br":super((0,kx.createBrotliCompress)());break;default:throw Error(`Unsupported compression format: ${Y}`)}}}uf0.PonyfillCompressionStream=gf0});var nf0=q((lf0)=>{Object.defineProperty(lf0,"__esModule",{value:!0});lf0.PonyfillDecompressionStream=void 0;var _x=C("zlib"),Wu6=mP();class cf0 extends Wu6.PonyfillTransformStream{static supportedFormats=globalThis.process?.version?.startsWith("v2")?["gzip","deflate","br"]:["gzip","deflate","deflate-raw","br"];constructor(Y){switch(Y){case"x-gzip":case"gzip":super((0,_x.createGunzip)());break;case"x-deflate":case"deflate":super((0,_x.createInflate)());break;case"deflate-raw":super((0,_x.createInflateRaw)());break;case"br":super((0,_x.createBrotliDecompress)());break;default:throw TypeError(`Unsupported compression format: '${Y}'`)}}}lf0.PonyfillDecompressionStream=cf0});var ef0=q((sf0)=>{Object.defineProperty(sf0,"__esModule",{value:!0});sf0.PonyfillTextEncoderStream=sf0.PonyfillTextDecoderStream=void 0;var if0=YJ1(),of0=mP();class rf0 extends of0.PonyfillTransformStream{textDecoder;constructor(Y,J){super({transform:(X,Z)=>Z.enqueue(this.textDecoder.decode(X,{stream:!0}))});this.textDecoder=new if0.PonyfillTextDecoder(Y,J)}get encoding(){return this.textDecoder.encoding}get fatal(){return this.textDecoder.fatal}get ignoreBOM(){return this.textDecoder.ignoreBOM}}sf0.PonyfillTextDecoderStream=rf0;class af0 extends of0.PonyfillTransformStream{textEncoder;constructor(Y){super({transform:(J,X)=>X.enqueue(this.textEncoder.encode(J))});this.textEncoder=new if0.PonyfillTextEncoder(Y)}get encoding(){return this.textEncoder.encoding}encode(Y){return this.textEncoder.encode(Y)}}sf0.PonyfillTextEncoderStream=af0});var Jv0=q((I6)=>{Object.defineProperty(I6,"__esModule",{value:!0});I6.TextEncoderStream=I6.TextDecoderStream=I6.IteratorObject=I6.DecompressionStream=I6.CompressionStream=I6.TransformStream=I6.WritableStream=I6.URLSearchParams=I6.URL=I6.btoa=I6.TextDecoder=I6.TextEncoder=I6.Blob=I6.FormData=I6.File=I6.ReadableStream=I6.Response=I6.Request=I6.Body=I6.Headers=I6.fetch=void 0;var Gu6=Ef0();Object.defineProperty(I6,"fetch",{enumerable:!0,get:function(){return Gu6.fetchPonyfill}});var Qu6=Tx();Object.defineProperty(I6,"Headers",{enumerable:!0,get:function(){return Qu6.PonyfillHeaders}});var Uu6=Ex();Object.defineProperty(I6,"Body",{enumerable:!0,get:function(){return Uu6.PonyfillBody}});var zu6=Nx();Object.defineProperty(I6,"Request",{enumerable:!0,get:function(){return zu6.PonyfillRequest}});var Hu6=yP();Object.defineProperty(I6,"Response",{enumerable:!0,get:function(){return Hu6.PonyfillResponse}});var Ou6=Wq();Object.defineProperty(I6,"ReadableStream",{enumerable:!0,get:function(){return Ou6.PonyfillReadableStream}});var Ku6=rY1();Object.defineProperty(I6,"File",{enumerable:!0,get:function(){return Ku6.PonyfillFile}});var Bu6=sY1();Object.defineProperty(I6,"FormData",{enumerable:!0,get:function(){return Bu6.PonyfillFormData}});var qu6=Px();Object.defineProperty(I6,"Blob",{enumerable:!0,get:function(){return qu6.PonyfillBlob}});var WJ1=YJ1();Object.defineProperty(I6,"TextEncoder",{enumerable:!0,get:function(){return WJ1.PonyfillTextEncoder}});Object.defineProperty(I6,"TextDecoder",{enumerable:!0,get:function(){return WJ1.PonyfillTextDecoder}});Object.defineProperty(I6,"btoa",{enumerable:!0,get:function(){return WJ1.PonyfillBtoa}});var Fu6=gP();Object.defineProperty(I6,"URL",{enumerable:!0,get:function(){return Fu6.PonyfillURL}});var Vu6=kf0();Object.defineProperty(I6,"URLSearchParams",{enumerable:!0,get:function(){return Vu6.PonyfillURLSearchParams}});var Iu6=XJ1();Object.defineProperty(I6,"WritableStream",{enumerable:!0,get:function(){return Iu6.PonyfillWritableStream}});var Du6=mP();Object.defineProperty(I6,"TransformStream",{enumerable:!0,get:function(){return Du6.PonyfillTransformStream}});var wu6=df0();Object.defineProperty(I6,"CompressionStream",{enumerable:!0,get:function(){return wu6.PonyfillCompressionStream}});var Au6=nf0();Object.defineProperty(I6,"DecompressionStream",{enumerable:!0,get:function(){return Au6.PonyfillDecompressionStream}});var Pu6=Lx();Object.defineProperty(I6,"IteratorObject",{enumerable:!0,get:function(){return Pu6.PonyfillIteratorObject}});var Yv0=ef0();Object.defineProperty(I6,"TextDecoderStream",{enumerable:!0,get:function(){return Yv0.PonyfillTextDecoderStream}});Object.defineProperty(I6,"TextEncoderStream",{enumerable:!0,get:function(){return Yv0.PonyfillTextEncoderStream}})});var Zv0=q((Hk8,Xv0)=>{var Mu6=dY1(),D6;Xv0.exports=function(J={}){let X={};if(X.URLPattern=globalThis.URLPattern,!X.URLPattern){let Z=v_();X.URLPattern=Z.URLPattern}if(J.skipPonyfill||Mu6())return{fetch:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response,FormData:globalThis.FormData,ReadableStream:globalThis.ReadableStream,WritableStream:globalThis.WritableStream,TransformStream:globalThis.TransformStream,CompressionStream:globalThis.CompressionStream,DecompressionStream:globalThis.DecompressionStream,TextDecoderStream:globalThis.TextDecoderStream,TextEncoderStream:globalThis.TextEncoderStream,Blob:globalThis.Blob,File:globalThis.File,crypto:globalThis.crypto,btoa:globalThis.btoa,TextEncoder:globalThis.TextEncoder,TextDecoder:globalThis.TextDecoder,URLPattern:X.URLPattern,URL:globalThis.URL,URLSearchParams:globalThis.URLSearchParams};if(D6||=Jv0(),X.fetch=D6.fetch,X.Request=D6.Request,X.Response=D6.Response,X.Headers=D6.Headers,X.FormData=D6.FormData,X.ReadableStream=D6.ReadableStream,X.URL=D6.URL,X.URLSearchParams=D6.URLSearchParams,X.WritableStream=D6.WritableStream,X.TransformStream=D6.TransformStream,X.CompressionStream=D6.CompressionStream,X.DecompressionStream=D6.DecompressionStream,X.TextDecoderStream=D6.TextDecoderStream,X.TextEncoderStream=D6.TextEncoderStream,X.Blob=D6.Blob,X.File=D6.File,X.crypto=globalThis.crypto,X.btoa=D6.btoa,X.TextEncoder=D6.TextEncoder,X.TextDecoder=D6.TextDecoder,J.formDataLimits)X.Body=class extends D6.Body{constructor(W,$){super(W,{formDataLimits:J.formDataLimits,...$})}},X.Request=class extends D6.Request{constructor(W,$){super(W,{formDataLimits:J.formDataLimits,...$})}},X.Response=class extends D6.Response{constructor(W,$){super(W,{formDataLimits:J.formDataLimits,...$})}};if(!X.crypto){let Z=C("crypto");X.crypto=Z.webcrypto}return X}});var $J1={};h6($J1,{fetch:()=>$v0,crypto:()=>wv0,createFetch:()=>Tv0,btoa:()=>Av0,WritableStream:()=>Ov0,URLSearchParams:()=>Qq,URLPattern:()=>Mv0,URL:()=>Ev0,TransformStream:()=>Kv0,TextEncoderStream:()=>Vv0,TextEncoder:()=>Pv0,TextDecoderStream:()=>Fv0,TextDecoder:()=>Lv0,Response:()=>Uv0,Request:()=>Qv0,ReadableStream:()=>Hv0,Headers:()=>Gv0,FormData:()=>zv0,File:()=>Dv0,DecompressionStream:()=>qv0,CompressionStream:()=>Bv0,Blob:()=>Iv0});var Wv0,Eu6,X8,$v0,Gv0,Qv0,Uv0,zv0,Hv0,Ov0,Kv0,Bv0,qv0,Fv0,Vv0,Iv0,Dv0,wv0,Av0,Pv0,Lv0,Mv0,Ev0,Qq,Tv0;var xx=w(()=>{Wv0=Zv0(),Eu6=dY1(),X8=Wv0();if(!Eu6())try{globalThis.libcurl=globalThis.libcurl||(()=>{throw new Error("Cannot require module "+"node-libcurl");})()}catch(Y){}$v0=X8.fetch,Gv0=X8.Headers,Qv0=X8.Request,Uv0=X8.Response,zv0=X8.FormData,Hv0=X8.ReadableStream,Ov0=X8.WritableStream,Kv0=X8.TransformStream,Bv0=X8.CompressionStream,qv0=X8.DecompressionStream,Fv0=X8.TextDecoderStream,Vv0=X8.TextEncoderStream,Iv0=X8.Blob,Dv0=X8.File,wv0=X8.crypto,Av0=X8.btoa,Pv0=X8.TextEncoder,Lv0=X8.TextDecoder,Mv0=X8.URLPattern,Ev0=X8.URL,Qq=X8.URLSearchParams,Tv0=Wv0});var GJ1=q((Ok8,Rv0)=>{function Tu6(){return Object.keys(globalThis).some((Y)=>Y.startsWith("__NEXT"))}Rv0.exports=function(){if(globalThis.Deno)return!0;if(globalThis.Bun)return!0;if(Tu6())return!0;return!1}});var j7=q((QJ1)=>{Object.defineProperty(QJ1,"__esModule",{value:!0});QJ1.DEFAULT_ACCEPT_ENCODING=QJ1.fakePromise=void 0;QJ1.getHeadersObj=Cu6;QJ1.defaultHeadersSerializer=ju6;QJ1.isArrayBufferView=_u6;QJ1.isNodeReadable=xu6;QJ1.isIterable=fu6;QJ1.shouldRedirect=vu6;QJ1.pipeThrough=hu6;QJ1.endStream=bu6;QJ1.safeWrite=yu6;QJ1.getSupportedFormats=Cv0;var Ru6=e9(),Nu6=C("events"),Su6=Ru6.__importDefault(C("zlib"));function Nv0(Y){return Y?.forEach!=null}function Cu6(Y){if(Y==null||!Nv0(Y))return Y;if(Y.headersInit&&!Y._map&&!Nv0(Y.headersInit))return Y.headersInit;return Object.fromEntries(Y.entries())}function ju6(Y,J){let X=[];return Y.forEach((Z,W)=>{if(J&&W==="content-length")J(Z);X.push(`${W}: ${Z}`)}),X}var ku6=q8();Object.defineProperty(QJ1,"fakePromise",{enumerable:!0,get:function(){return ku6.fakePromise}});function _u6(Y){return Y!=null&&Y.buffer!=null&&Y.byteLength!=null&&Y.byteOffset!=null}function xu6(Y){return Y!=null&&Y.pipe!=null}function fu6(Y){return Y?.[Symbol.iterator]!=null}function vu6(Y){return Y===301||Y===302||Y===303||Y===307||Y===308}function hu6({src:Y,dest:J,signal:X,onError:Z}){if(Z)J.once("error",Z);if(Y.once("error",(W)=>{J.destroy(W)}),J.once("close",()=>{if(!Y.destroyed)Y.destroy()}),X){let G=function(){$.deref()?.removeEventListener("abort",Q),W.deref()?.removeListener("end",G),W.deref()?.removeListener("error",G),W.deref()?.removeListener("close",G)},Q=function(){W.deref()?.destroy(new Sv0),G()},W=new WeakRef(Y),$=new WeakRef(X);X.addEventListener("abort",Q,{once:!0}),Y.once("end",G),Y.once("error",G),Y.once("close",G)}Y.pipe(J,{end:!0})}function bu6(Y){return Y.end(null,null,null)}function yu6(Y,J){if(!J.write(Y))return(0,Nu6.once)(J,"drain")}class Sv0 extends Error{constructor(Y="The operation was aborted",J=void 0){super(Y,J);this.name="AbortError"}}QJ1.DEFAULT_ACCEPT_ENCODING=Cv0().join(", ");function Cv0(){let Y=["gzip","deflate","br"];if(!globalThis.process?.versions?.node?.startsWith("2"))Y.push("deflate-raw");if(Su6.default.createZstdCompress!=null)Y.push("zstd");return Y}});var Uq=q((fv0)=>{Object.defineProperty(fv0,"__esModule",{value:!0});fv0.PonyfillReadableStream=void 0;var kv0=C("buffer"),UJ1=C("events"),zJ1=C("stream"),ru6=C("stream/promises"),HJ1=q8(),OJ1=j7();function _v0(Y,J){let X=[],Z=!1,W=!1;return{desiredSize:Y,enqueue($){let G=typeof $==="string"?kv0.Buffer.from($):$;if(!W)X.push(G);else J.push(G)},close(){if(X.length>0)this._flush();J.push(null),Z=!0},error($){if(X.length>0)this._flush();J.destroy($)},get _closed(){return Z},_flush(){if(W=!0,X.length>0){let $=X.length>1?kv0.Buffer.concat(X):X[0];J.push($),X=[]}}}}function au6(Y){return Y?.read!=null}function xv0(Y){return Y?.getReader!=null}class fx{readable;constructor(Y){if(Y instanceof fx&&Y.readable!=null)this.readable=Y.readable;else if(au6(Y))this.readable=Y;else if(xv0(Y))this.readable=zJ1.Readable.fromWeb(Y);else{let J=!1,X=!1,Z=($)=>{if(!J){let G=_v0($,this.readable);return J=!0,(0,HJ1.handleMaybePromise)(()=>Y?.start?.(G),()=>{if(G._flush(),G._closed)return!1;return!0})}return!0},W=($)=>{return(0,HJ1.handleMaybePromise)(()=>Z($),(G)=>{if(!G)return;let Q=_v0($,this.readable);return(0,HJ1.handleMaybePromise)(()=>Y?.pull?.(Q),()=>{Q._flush(),X=!1})})};this.readable=new zJ1.Readable({read($){if(X)return;return X=!0,W($)},destroy($,G){if(Y?.cancel)try{let Q=Y.cancel($);if(Q?.then)return Q.then(()=>{G(null)},(U)=>{G(U)})}catch(Q){G(Q);return}G(null)}})}}cancel(Y){return this.readable.destroy(Y),(0,UJ1.once)(this.readable,"close")}locked=!1;getReader(Y){let J=this.readable[Symbol.asyncIterator]();this.locked=!0;let X=this.readable;return{read(){return J.next()},releaseLock:()=>{if(J.return){let Z=J.return();if(Z.then){Z.then(()=>{this.locked=!1});return}}this.locked=!1},cancel:(Z)=>{if(J.return){let W=J.return(Z);if(W.then)return W.then(()=>{this.locked=!1})}return this.locked=!1,(0,OJ1.fakePromise)()},get closed(){return Promise.race([(0,UJ1.once)(X,"end"),(0,UJ1.once)(X,"error").then((Z)=>Promise.reject(Z))])}}}[Symbol.asyncIterator](){let Y=this.readable[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return this},next:()=>Y.next(),return:()=>{if(!this.readable.destroyed)this.readable.destroy();return Y.return?.()||(0,OJ1.fakePromise)({done:!0,value:void 0})},throw:(J)=>{if(!this.readable.destroyed)this.readable.destroy(J);return Y.throw?.(J)||(0,OJ1.fakePromise)({done:!0,value:void 0})}}}tee(){throw Error("Not implemented")}async pipeToWriter(Y){try{for await(let J of this)await Y.write(J);await Y.close()}catch(J){await Y.abort(J)}}pipeTo(Y){if(tu6(Y))return(0,ru6.pipeline)(this.readable,Y.writable,{end:!0});else{let J=Y.getWriter();return this.pipeToWriter(J)}}pipeThrough({writable:Y,readable:J}){if(this.pipeTo(Y).catch((X)=>{this.readable.destroy(X)}),su6(J))J.readable.once("error",(X)=>this.readable.destroy(X)),J.readable.once("finish",()=>this.readable.push(null)),J.readable.once("close",()=>this.readable.push(null));return J}static[Symbol.hasInstance](Y){return xv0(Y)}static from(Y){return new fx(zJ1.Readable.from(Y))}[Symbol.toStringTag]="ReadableStream"}fv0.PonyfillReadableStream=fx;function su6(Y){return Y?.readable!=null}function tu6(Y){return Y?.writable!=null}});var vx=q((dv0)=>{Object.defineProperty(dv0,"__esModule",{value:!0});dv0.PonyfillBlob=void 0;dv0.hasBufferMethod=cP;dv0.hasArrayBufferMethod=lP;dv0.hasBytesMethod=pP;dv0.hasTextMethod=hv0;dv0.hasSizeProperty=bv0;dv0.hasStreamMethod=yv0;dv0.hasBlobSignature=gv0;dv0.isArrayBuffer=uv0;var T9=C("buffer"),KJ1=Uq(),E9=j7();function dP(Y){if(typeof Y==="string")return T9.Buffer.from(Y);else if(T9.Buffer.isBuffer(Y))return Y;else if((0,E9.isArrayBufferView)(Y))return T9.Buffer.from(Y.buffer,Y.byteOffset,Y.byteLength);else return T9.Buffer.from(Y)}function cP(Y){return Y!=null&&Y.buffer!=null&&typeof Y.buffer==="function"}function lP(Y){return Y!=null&&Y.arrayBuffer!=null&&typeof Y.arrayBuffer==="function"}function pP(Y){return Y!=null&&Y.bytes!=null&&typeof Y.bytes==="function"}function hv0(Y){return Y!=null&&Y.text!=null&&typeof Y.text==="function"}function bv0(Y){return Y!=null&&typeof Y.size==="number"}function yv0(Y){return Y!=null&&Y.stream!=null&&typeof Y.stream==="function"}function gv0(Y){return Y!=null&&Y[Symbol.toStringTag]==="Blob"}function uv0(Y){return Y!=null&&Y.byteLength!=null&&Y.slice!=null}class mv0{blobParts;type;encoding;_size=null;constructor(Y=[],J){if(this.blobParts=Y,this.type=J?.type||"application/octet-stream",this.encoding=J?.encoding||"utf8",this._size=J?.size||null,Y.length===1&&gv0(Y[0]))return Y[0]}_buffer=null;buffer(){if(this._buffer)return(0,E9.fakePromise)(this._buffer);if(this.blobParts.length===1){let X=this.blobParts[0];if(cP(X))return X.buffer().then((Z)=>{return this._buffer=Z,this._buffer});if(pP(X))return X.bytes().then((Z)=>{return this._buffer=T9.Buffer.from(Z),this._buffer});if(lP(X))return X.arrayBuffer().then((Z)=>{return this._buffer=T9.Buffer.from(Z,void 0,X.size),this._buffer});return this._buffer=dP(X),(0,E9.fakePromise)(this._buffer)}let Y=[],J=this.blobParts.map((X,Z)=>{if(cP(X)){Y.push(X.buffer().then((W)=>{J[Z]=W}));return}else if(lP(X)){Y.push(X.arrayBuffer().then((W)=>{J[Z]=T9.Buffer.from(W,void 0,X.size)}));return}else if(pP(X)){Y.push(X.bytes().then((W)=>{J[Z]=T9.Buffer.from(W)}));return}else return dP(X)});if(Y.length>0)return Promise.all(Y).then(()=>T9.Buffer.concat(J,this._size||void 0));return(0,E9.fakePromise)(T9.Buffer.concat(J,this._size||void 0))}arrayBuffer(){if(this._buffer)return(0,E9.fakePromise)(this._buffer);if(this.blobParts.length===1){if(uv0(this.blobParts[0]))return(0,E9.fakePromise)(this.blobParts[0]);if(lP(this.blobParts[0]))return this.blobParts[0].arrayBuffer()}return this.buffer()}bytes(){if(this._buffer)return(0,E9.fakePromise)(this._buffer);if(this.blobParts.length===1){if(T9.Buffer.isBuffer(this.blobParts[0]))return this._buffer=this.blobParts[0],(0,E9.fakePromise)(this._buffer);if(this.blobParts[0]instanceof Uint8Array)return this._buffer=T9.Buffer.from(this.blobParts[0]),(0,E9.fakePromise)(this._buffer);if(pP(this.blobParts[0]))return this.blobParts[0].bytes();if(cP(this.blobParts[0]))return this.blobParts[0].buffer()}return this.buffer()}_text=null;text(){if(this._text)return(0,E9.fakePromise)(this._text);if(this.blobParts.length===1){let Y=this.blobParts[0];if(typeof Y==="string")return this._text=Y,(0,E9.fakePromise)(this._text);if(hv0(Y))return Y.text().then((X)=>{return this._text=X,this._text});let J=dP(Y);return this._text=J.toString(this.encoding),(0,E9.fakePromise)(this._text)}return this.buffer().then((Y)=>{return this._text=Y.toString(this.encoding),this._text})}_json=null;json(){if(this._json)return(0,E9.fakePromise)(this._json);return this.text().then((Y)=>{return this._json=JSON.parse(Y),this._json})}_formData=null;formData(){if(this._formData)return(0,E9.fakePromise)(this._formData);throw Error("Not implemented")}get size(){if(this._size==null){this._size=0;for(let Y of this.blobParts)if(typeof Y==="string")this._size+=T9.Buffer.byteLength(Y);else if(bv0(Y))this._size+=Y.size;else if((0,E9.isArrayBufferView)(Y))this._size+=Y.byteLength}return this._size}stream(){if(this.blobParts.length===1){let J=this.blobParts[0];if(yv0(J))return J.stream();let X=dP(J);return new KJ1.PonyfillReadableStream({start:(Z)=>{Z.enqueue(X),Z.close()}})}if(this._buffer!=null)return new KJ1.PonyfillReadableStream({start:(J)=>{J.enqueue(this._buffer),J.close()}});let Y;return new KJ1.PonyfillReadableStream({start:(J)=>{if(this.blobParts.length===0){J.close();return}Y=this.blobParts[Symbol.iterator]()},pull:(J)=>{let{value:X,done:Z}=Y.next();if(Z){J.close();return}if(X){if(cP(X))return X.buffer().then(($)=>{J.enqueue($)});if(pP(X))return X.bytes().then(($)=>{let G=T9.Buffer.from($);J.enqueue(G)});if(lP(X))return X.arrayBuffer().then(($)=>{let G=T9.Buffer.from($,void 0,X.size);J.enqueue(G)});let W=dP(X);J.enqueue(W)}}})}slice(){throw Error("Not implemented")}}dv0.PonyfillBlob=mv0});var BJ1=q((pv0)=>{Object.defineProperty(pv0,"__esModule",{value:!0});pv0.PonyfillFile=void 0;var Qm6=vx();class lv0 extends Qm6.PonyfillBlob{name;lastModified;constructor(Y,J,X){super(Y,X);this.name=J,this.lastModified=X?.lastModified||Date.now()}webkitRelativePath=""}pv0.PonyfillFile=lv0});var hx=q((rv0)=>{Object.defineProperty(rv0,"__esModule",{value:!0});rv0.PonyfillIteratorObject=void 0;var iv0=C("util"),Um6=t_(),zm6=j7();class ov0{iterableIterator;[Symbol.toStringTag]="IteratorObject";constructor(Y,J){this.iterableIterator=Y,this[Symbol.toStringTag]=J}*map(Y){let J=0;for(let X of this.iterableIterator)yield Y(X,J++);return}*filter(Y){let J=0;for(let X of this.iterableIterator)if(Y(X,J++))yield X;return}reduce(Y,J){let X=0,Z=J;for(let W of this.iterableIterator)Z=Y(Z,W,X++);return Z}forEach(Y){let J=0;for(let X of this.iterableIterator)Y(X,J++)}*take(Y){let J=0;for(let X of this.iterableIterator){if(J>=Y)break;yield X,J++}return}*drop(Y){let J=0;for(let X of this.iterableIterator){if(J>=Y)yield X;J++}return}*flatMap(Y){let J=0;for(let X of this.iterableIterator){let Z=Y(X,J++);if((0,zm6.isIterable)(Z))for(let W of Z)yield W;else for(let W of{[Symbol.iterator]:()=>Z})yield W}return}some(Y){let J=0;for(let X of this.iterableIterator)if(Y(X,J++))return!0;return!1}every(Y){let J=0;for(let X of this.iterableIterator)if(!Y(X,J++))return!1;return!0}find(Y){let J=0;for(let X of this.iterableIterator)if(Y(X,J++))return X;return}toArray(){return Array.from(this.iterableIterator)}[Um6.DisposableSymbols.dispose](){this.iterableIterator.return?.()}next(...[Y]){return this.iterableIterator.next(Y)}[Symbol.iterator](){return this}[Symbol.for("nodejs.util.inspect.custom")](){let Y={};return this.forEach((J,X)=>{let Z=(0,iv0.inspect)(J);Y[X]=Z.includes(",")?Z.split(",").map((W)=>W.trim()):Z}),`${this[Symbol.toStringTag]} ${(0,iv0.inspect)(Y)}`}}rv0.PonyfillIteratorObject=ov0});var FJ1=q((Yh0)=>{Object.defineProperty(Yh0,"__esModule",{value:!0});Yh0.PonyfillFormData=void 0;Yh0.getStreamFromFormData=Om6;var Lz=C("buffer"),qJ1=hx(),Hm6=Uq();class ev0{map=new Map;append(Y,J,X){let Z=this.map.get(Y);if(!Z)Z=[],this.map.set(Y,Z);let W=tv0(J)?sv0(Y,J,X):J;Z.push(W)}delete(Y){this.map.delete(Y)}get(Y){let J=this.map.get(Y);return J?J[0]:null}getAll(Y){return this.map.get(Y)||[]}has(Y){return this.map.has(Y)}set(Y,J,X){let Z=tv0(J)?sv0(Y,J,X):J;this.map.set(Y,[Z])}[Symbol.iterator](){return this._entries()}*_entries(){for(let[Y,J]of this.map)for(let X of J)yield[Y,X]}entries(){return new qJ1.PonyfillIteratorObject(this._entries(),"FormDataIterator")}_keys(){return this.map.keys()}keys(){return new qJ1.PonyfillIteratorObject(this._keys(),"FormDataIterator")}*_values(){for(let Y of this.map.values())for(let J of Y)yield J}values(){return new qJ1.PonyfillIteratorObject(this._values(),"FormDataIterator")}forEach(Y){for(let[J,X]of this)Y(X,J,this)}}Yh0.PonyfillFormData=ev0;function Om6(Y,J="---"){let X,Z=!1,W,$=!1;function G(Q){let{done:U,value:z}=X.next();if(U)return Q.enqueue(Lz.Buffer.from(`\r
--${J}--\r
`)),Q.close();if($)Q.enqueue(Lz.Buffer.from(`\r
--${J}\r
`));if(z){let[H,O]=z;if(typeof O==="string")Q.enqueue(Lz.Buffer.from(`Content-Disposition: form-data; name="${H}"\r
\r
`)),Q.enqueue(Lz.Buffer.from(O));else{let K="";if(O.name)K=`; filename="${O.name}"`;Q.enqueue(Lz.Buffer.from(`Content-Disposition: form-data; name="${H}"${K}\r
`)),Q.enqueue(Lz.Buffer.from(`Content-Type: ${O.type||"application/octet-stream"}\r
\r
`)),W=O.stream()[Symbol.asyncIterator]()}$=!0}}return new Hm6.PonyfillReadableStream({start:()=>{X=Y.entries()},pull:(Q)=>{if(!Z)return Z=!0,Q.enqueue(Lz.Buffer.from(`--${J}\r
`));if(W)return W.next().then(({done:U,value:z})=>{if(U)W=void 0;if(z)return Q.enqueue(z);else return G(Q)});return G(Q)},cancel:(Q)=>{X?.return?.(Q),W?.return?.(Q)}})}function sv0(Y,J,X){return Object.defineProperty(J,"name",{configurable:!0,enumerable:!0,value:X||J.name||Y}),J}function tv0(Y){return Y?.arrayBuffer!=null}});var yx=q((Wh0)=>{Object.defineProperty(Wh0,"__esModule",{value:!0});Wh0.PonyfillBody=void 0;var k3=C("buffer"),aZ=C("stream"),Bm6=l_(),bx=q8(),zq=vx(),qm6=BJ1(),Xh0=FJ1(),rZ=Uq(),j5=j7(),m8;(function(Y){Y.ReadableStream="ReadableStream",Y.Blob="Blob",Y.FormData="FormData",Y.String="String",Y.Readable="Readable",Y.Buffer="Buffer",Y.AsyncIterable="AsyncIterable"})(m8||(m8={}));class Zh0{bodyInit;options;bodyUsed=!1;contentType=null;contentLength=null;constructor(Y,J={}){this.bodyInit=Y,this.options=J;let{bodyFactory:X,contentType:Z,contentLength:W,bodyType:$,buffer:G}=Fm6(Y);this._bodyFactory=X,this.contentType=Z,this.contentLength=W,this.bodyType=$,this._buffer=G,this._signal=J.signal}bodyType;_bodyFactory=()=>null;_generatedBody=null;_buffer;_signal;generateBody(){if(this._generatedBody?.readable?.destroyed&&this._buffer)this._generatedBody.readable=aZ.Readable.from(this._buffer);if(this._generatedBody)return this._generatedBody;let Y=this._bodyFactory();return this._generatedBody=Y,Y}handleContentLengthHeader(Y=!1){let J=this.headers.get("content-type");if(!J){if(this.contentType)this.headers.set("content-type",this.contentType)}else this.contentType=J;let X=this.headers.get("content-length");if(Y&&this.bodyInit==null&&!X)this.contentLength=0,this.headers.set("content-length","0");if(!X){if(this.contentLength)this.headers.set("content-length",this.contentLength.toString())}else this.contentLength=parseInt(X,10)}get body(){let Y=this.generateBody();if(Y!=null){let J=Y,X=Y.readable;return new Proxy(Y.readable,{get(Z,W){if(W in J){let $=J[W];if(typeof $==="function")return $.bind(J);return $}if(W in X){let $=X[W];if(typeof $==="function")return $.bind(X);return $}}})}return null}_chunks=null;_doCollectChunksFromReadableJob(){if(this.bodyType===m8.AsyncIterable){if(Array.fromAsync)return(0,bx.handleMaybePromise)(()=>Array.fromAsync(this.bodyInit),($)=>{return this._chunks=$,this._chunks});let X=this.bodyInit[Symbol.asyncIterator](),Z=[],W=()=>(0,bx.handleMaybePromise)(()=>X.next(),({value:$,done:G})=>{if($)Z.push($);if(!G)return W();return this._chunks=Z,this._chunks});return W()}let Y=this.generateBody();if(!Y)return this._chunks=[],(0,j5.fakePromise)(this._chunks);if(Y.readable.destroyed)return(0,j5.fakePromise)(this._chunks=[]);let J=[];return new Promise((X,Z)=>{Y.readable.on("data",(W)=>{J.push(W)}),Y.readable.once("error",Z),Y.readable.once("end",()=>{X(this._chunks=J)})})}_collectChunksFromReadable(){if(this._chunks)return(0,j5.fakePromise)(this._chunks);return this._chunks||=this._doCollectChunksFromReadableJob(),this._chunks}_blob=null;blob(){if(this._blob)return(0,j5.fakePromise)(this._blob);if(this.bodyType===m8.String)this._text=this.bodyInit,this._blob=new zq.PonyfillBlob([this._text],{type:this.contentType||"text/plain;charset=UTF-8",size:this.contentLength});if(this.bodyType===m8.Blob)return this._blob=this.bodyInit,(0,j5.fakePromise)(this._blob);if(this._buffer)return this._blob=new zq.PonyfillBlob([this._buffer],{type:this.contentType||"",size:this.contentLength}),(0,j5.fakePromise)(this._blob);return(0,j5.fakePromise)((0,bx.handleMaybePromise)(()=>this._collectChunksFromReadable(),(Y)=>{return this._blob=new zq.PonyfillBlob(Y,{type:this.contentType||"",size:this.contentLength}),this._blob}))}_formData=null;formData(Y){if(this._formData)return(0,j5.fakePromise)(this._formData);if(this.bodyType===m8.FormData)return this._formData=this.bodyInit,(0,j5.fakePromise)(this._formData);if(this._formData=new Xh0.PonyfillFormData,this.generateBody()==null)return(0,j5.fakePromise)(this._formData);let X={...this.options.formDataLimits,...Y?.formDataLimits};return new Promise((Z,W)=>{let $=this.body?.readable;if(!$)return W(Error("No stream available"));let G=null,Q=new Bm6.Busboy({headers:{"content-length":typeof this.contentLength==="number"?this.contentLength.toString():this.contentLength||"","content-type":this.contentType||""},limits:X,defCharset:"utf-8"});if(this._signal)(0,aZ.addAbortSignal)(this._signal,Q);let U=!1,z=(H)=>{if(U)return;if(U=!0,$.unpipe(Q),Q.destroy(),G)G.destroy(),G=null;if(H)W(H);else Z(this._formData)};$.on("error",z),Q.on("field",(H,O,K,B)=>{if(K)return z(Error(`Field name size exceeded: ${X?.fieldNameSize} bytes`));if(B)return z(Error(`Field value size exceeded: ${X?.fieldSize} bytes`));this._formData.set(H,O)}),Q.on("file",(H,O,K,B,F)=>{G=O;let V=[];O.on("data",(I)=>{V.push(I)}),O.on("error",z),O.on("limit",()=>{z(Error(`File size limit exceeded: ${X?.fileSize} bytes`))}),O.on("close",()=>{if(O.truncated)z(Error(`File size limit exceeded: ${X?.fileSize} bytes`));G=null;let I=new qm6.PonyfillFile(V,K,{type:F});this._formData.set(H,I)})}),Q.on("fieldsLimit",()=>{z(Error(`Fields limit exceeded: ${X?.fields}`))}),Q.on("filesLimit",()=>{z(Error(`Files limit exceeded: ${X?.files}`))}),Q.on("partsLimit",()=>{z(Error(`Parts limit exceeded: ${X?.parts}`))}),Q.on("end",z),Q.on("finish",z),Q.on("close",z),Q.on("error",z),$.pipe(Q)})}buffer(){if(this._buffer)return(0,j5.fakePromise)(this._buffer);if(this._text)return this._buffer=k3.Buffer.from(this._text,"utf-8"),(0,j5.fakePromise)(this._buffer);if(this.bodyType===m8.String)return this.text().then((Y)=>{return this._text=Y,this._buffer=k3.Buffer.from(Y,"utf-8"),this._buffer});if(this.bodyType===m8.Blob){if((0,zq.hasBufferMethod)(this.bodyInit))return this.bodyInit.buffer().then((Y)=>{return this._buffer=Y,this._buffer});if((0,zq.hasBytesMethod)(this.bodyInit))return this.bodyInit.bytes().then((Y)=>{return this._buffer=k3.Buffer.from(Y),this._buffer});if((0,zq.hasArrayBufferMethod)(this.bodyInit))return this.bodyInit.arrayBuffer().then((Y)=>{return this._buffer=k3.Buffer.from(Y,void 0,Y.byteLength),this._buffer})}return(0,j5.fakePromise)((0,bx.handleMaybePromise)(()=>this._collectChunksFromReadable(),(Y)=>{if(Y.length===1)return this._buffer=Y[0],this._buffer;return this._buffer=k3.Buffer.concat(Y),this._buffer}))}bytes(){return this.buffer()}arrayBuffer(){return this.buffer()}_json=null;json(){if(this._json)return(0,j5.fakePromise)(this._json);return this.text().then((Y)=>{try{this._json=JSON.parse(Y)}catch(J){if(J instanceof SyntaxError)J.message+=`, "${Y}" is not valid JSON`;throw J}return this._json})}_text=null;text(){if(this._text)return(0,j5.fakePromise)(this._text);if(this.bodyType===m8.String)return this._text=this.bodyInit,(0,j5.fakePromise)(this._text);return this.buffer().then((Y)=>{return this._text=Y.toString("utf-8"),this._text})}}Wh0.PonyfillBody=Zh0;function Fm6(Y){if(Y==null)return{bodyFactory:()=>null,contentType:null,contentLength:null};if(typeof Y==="string"){let J=k3.Buffer.byteLength(Y);return{bodyType:m8.String,contentType:"text/plain;charset=UTF-8",contentLength:J,bodyFactory(){let X=aZ.Readable.from(k3.Buffer.from(Y,"utf-8"));return new rZ.PonyfillReadableStream(X)}}}if(k3.Buffer.isBuffer(Y)){let J=Y;return{bodyType:m8.Buffer,contentType:null,contentLength:Y.length,buffer:Y,bodyFactory(){let X=aZ.Readable.from(J);return new rZ.PonyfillReadableStream(X)}}}if((0,j5.isArrayBufferView)(Y)){let J=k3.Buffer.from(Y.buffer,Y.byteOffset,Y.byteLength);return{bodyType:m8.Buffer,contentLength:Y.byteLength,contentType:null,buffer:J,bodyFactory(){let X=aZ.Readable.from(J);return new rZ.PonyfillReadableStream(X)}}}if(Y instanceof rZ.PonyfillReadableStream&&Y.readable!=null){let J=Y;return{bodyType:m8.ReadableStream,bodyFactory:()=>J,contentType:null,contentLength:null}}if(Im6(Y)){let J=Y;return{bodyType:m8.Blob,contentType:Y.type,contentLength:Y.size,bodyFactory(){return J.stream()}}}if(Y instanceof ArrayBuffer){let J=Y.byteLength,X=k3.Buffer.from(Y,void 0,Y.byteLength);return{bodyType:m8.Buffer,contentType:null,contentLength:J,buffer:X,bodyFactory(){let Z=aZ.Readable.from(X);return new rZ.PonyfillReadableStream(Z)}}}if(Y instanceof aZ.Readable)return{bodyType:m8.Readable,contentType:null,contentLength:null,bodyFactory(){return new rZ.PonyfillReadableStream(Y)}};if(Dm6(Y))return{bodyType:m8.String,contentType:"application/x-www-form-urlencoded;charset=UTF-8",contentLength:null,bodyFactory(){return new rZ.PonyfillReadableStream(aZ.Readable.from(Y.toString()))}};if(Vm6(Y)){let J=Math.random().toString(36).substr(2),X=`multipart/form-data; boundary=${J}`;return{bodyType:m8.FormData,contentType:X,contentLength:null,bodyFactory(){return(0,Xh0.getStreamFromFormData)(Y,J)}}}if(wm6(Y))return{contentType:null,contentLength:null,bodyFactory(){return new rZ.PonyfillReadableStream(Y)}};if(Y[Symbol.iterator]||Y[Symbol.asyncIterator])return{contentType:null,contentLength:null,bodyType:m8.AsyncIterable,bodyFactory(){let J=aZ.Readable.from(Y);return new rZ.PonyfillReadableStream(J)}};throw Error("Unknown body type")}function Vm6(Y){return Y?.forEach!=null}function Im6(Y){return Y?.stream!=null&&typeof Y.stream==="function"}function Dm6(Y){return Y?.sort!=null}function wm6(Y){return Y?.getReader!=null}});var gx=q((Qh0)=>{Object.defineProperty(Qh0,"__esModule",{value:!0});Qh0.PonyfillHeaders=void 0;Qh0.isHeadersLike=wG;var Am6=C("util"),VJ1=hx();function wG(Y){return Y?.get&&Y?.forEach}class Gh0{headersInit;_map;objectNormalizedKeysOfHeadersInit=[];objectOriginalKeysOfHeadersInit=[];_setCookies;constructor(Y){this.headersInit=Y}_get(Y){let J=Y.toLowerCase();if(J==="set-cookie"&&this._setCookies?.length)return this._setCookies.join(", ");if(this._map)return this._map.get(J)||null;if(this.headersInit==null)return null;if(Array.isArray(this.headersInit)){let X=this.headersInit.filter(([Z])=>Z.toLowerCase()===J);if(X.length===0)return null;if(X.length===1)return X[0][1];return X.map(([,Z])=>Z).join(", ")}else if(wG(this.headersInit))return this.headersInit.get(J);else{let X=this.headersInit[Y]||this.headersInit[J];if(X!=null)return X;if(!this.objectNormalizedKeysOfHeadersInit.length)Object.keys(this.headersInit).forEach(($)=>{this.objectOriginalKeysOfHeadersInit.push($),this.objectNormalizedKeysOfHeadersInit.push($.toLowerCase())});let Z=this.objectNormalizedKeysOfHeadersInit.indexOf(J);if(Z===-1)return null;let W=this.objectOriginalKeysOfHeadersInit[Z];return this.headersInit[W]}}getMap(){if(!this._map)if(this._setCookies||=[],this.headersInit!=null)if(Array.isArray(this.headersInit)){this._map=new Map;for(let[Y,J]of this.headersInit){let X=Y.toLowerCase();if(X==="set-cookie"){if(Array.isArray(J))this._setCookies.push(...J);else if(J!=null)this._setCookies.push(J);continue}this._map.set(X,J)}}else if(wG(this.headersInit))this._map=new Map,this.headersInit.forEach((Y,J)=>{if(J==="set-cookie"){if(this._setCookies||=[],Array.isArray(Y))this._setCookies.push(...Y);else if(Y!=null)this._setCookies.push(Y);return}this._map.set(J,Y)});else{this._map=new Map;for(let Y in this.headersInit){let J=this.headersInit[Y];if(J!=null){let X=Y.toLowerCase();if(X==="set-cookie"){if(this._setCookies||=[],Array.isArray(J)){this._setCookies.push(...J);continue}this._setCookies.push(J);continue}this._map.set(X,J)}}}else this._map=new Map;return this._map}append(Y,J){let X=Y.toLowerCase();if(X==="set-cookie"){this._setCookies||=[],this._setCookies.push(J);return}let Z=this.getMap().get(X),W=Z?`${Z}, ${J}`:J;this.getMap().set(X,W)}get(Y){let J=this._get(Y);if(J==null)return null;return J.toString()}has(Y){if(Y.toLowerCase()==="set-cookie")return!!this._setCookies?.length;return!!this._get(Y)}set(Y,J){let X=Y.toLowerCase();if(X==="set-cookie"){this._setCookies=[J];return}if(!this._map&&this.headersInit!=null)if(Array.isArray(this.headersInit)){let Z=this.headersInit.find(([W])=>W.toLowerCase()===X);if(Z)Z[1]=J;else this.headersInit.push([X,J]);return}else if(wG(this.headersInit)){this.headersInit.set(X,J);return}else{this.headersInit[X]=J;return}this.getMap().set(X,J)}delete(Y){let J=Y.toLowerCase();if(J==="set-cookie"){this._setCookies=[];return}this.getMap().delete(J)}forEach(Y){if(this._setCookies?.forEach((J)=>{Y(J,"set-cookie",this)}),!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){this.headersInit.forEach(([J,X])=>{Y(X,J,this)});return}if(wG(this.headersInit)){this.headersInit.forEach(Y);return}Object.entries(this.headersInit).forEach(([J,X])=>{if(X!=null)Y(X,J,this)})}return}this.getMap().forEach((J,X)=>{Y(J,X,this)})}*_keys(){if(this._setCookies?.length)yield"set-cookie";if(!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit.map(([Y])=>Y)[Symbol.iterator]();return}if(wG(this.headersInit)){yield*this.headersInit.keys();return}yield*Object.keys(this.headersInit)[Symbol.iterator]();return}}yield*this.getMap().keys()}keys(){return new VJ1.PonyfillIteratorObject(this._keys(),"HeadersIterator")}*_values(){if(this._setCookies?.length)yield*this._setCookies;if(!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit.map(([,Y])=>Y)[Symbol.iterator]();return}if(wG(this.headersInit)){yield*this.headersInit.values();return}yield*Object.values(this.headersInit)[Symbol.iterator]();return}}yield*this.getMap().values()}values(){return new VJ1.PonyfillIteratorObject(this._values(),"HeadersIterator")}*_entries(){if(this._setCookies?.length)yield*this._setCookies.map((Y)=>["set-cookie",Y]);if(!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit;return}if(wG(this.headersInit)){yield*this.headersInit.entries();return}yield*Object.entries(this.headersInit);return}}yield*this.getMap().entries()}entries(){return new VJ1.PonyfillIteratorObject(this._entries(),"HeadersIterator")}getSetCookie(){if(!this._setCookies)this.getMap();return this._setCookies}[Symbol.iterator](){return this.entries()}[Symbol.for("nodejs.util.inspect.custom")](){let Y={};return this.forEach((J,X)=>{if(X==="set-cookie")Y["set-cookie"]=this._setCookies||[];else Y[X]=J?.includes(",")?J.split(",").map((Z)=>Z.trim()):J}),`Headers ${(0,Am6.inspect)(Y)}`}}Qh0.PonyfillHeaders=Gh0});var oP=q((zh0)=>{Object.defineProperty(zh0,"__esModule",{value:!0});zh0.PonyfillResponse=void 0;var Lm6=C("http"),Mm6=yx(),IJ1=gx(),nP="application/json; charset=utf-8";class iP extends Mm6.PonyfillBody{headers;constructor(Y,J){super(Y||null,J);this.headers=J?.headers&&(0,IJ1.isHeadersLike)(J.headers)?J.headers:new IJ1.PonyfillHeaders(J?.headers),this.status=J?.status||200,this.statusText=J?.statusText||Lm6.STATUS_CODES[this.status]||"OK",this.url=J?.url||"",this.redirected=J?.redirected||!1,this.type=J?.type||"default",this.handleContentLengthHeader()}get ok(){return this.status>=200&&this.status<300}status;statusText;url;redirected;type;clone(){return this}static error(){return new iP(null,{status:500,statusText:"Internal Server Error"})}static redirect(Y,J=302){if(J<300||J>399)throw RangeError("Invalid status code");return new iP(null,{headers:{location:Y},status:J})}static json(Y,J){let X=JSON.stringify(Y);if(!J)J={headers:{"content-type":nP,"content-length":Buffer.byteLength(X).toString()}};else if(!J.headers)J.headers={"content-type":nP,"content-length":Buffer.byteLength(X).toString()};else if((0,IJ1.isHeadersLike)(J.headers)){if(!J.headers.has("content-type"))J.headers.set("content-type",nP);if(!J.headers.has("content-length"))J.headers.set("content-length",Buffer.byteLength(X).toString())}else if(Array.isArray(J.headers)){let Z=!1,W=!1;for(let[$]of J.headers){if(W&&Z)break;if(!Z&&$.toLowerCase()==="content-type")Z=!0;else if(!W&&$.toLowerCase()==="content-length")W=!0}if(!Z)J.headers.push(["content-type",nP]);if(!W)J.headers.push(["content-length",Buffer.byteLength(X).toString()])}else if(typeof J.headers==="object"){if(J.headers?.["content-type"]==null)J.headers["content-type"]=nP;if(J.headers?.["content-length"]==null)J.headers["content-length"]=Buffer.byteLength(X).toString()}return new iP(X,J)}[Symbol.toStringTag]="Response"}zh0.PonyfillResponse=iP});var Bh0=q((Kh0)=>{Object.defineProperty(Kh0,"__esModule",{value:!0});Kh0.fetchCurl=Nm6;var Oh0=C("stream"),Em6=C("tls"),Tm6=q8(),Rm6=oP(),DJ1=j7();function Nm6(Y){let{Curl:J,CurlFeature:X,CurlPause:Z,CurlProgressFunc:W}=globalThis.libcurl,$=new J;if($.enable(X.NoDataParsing),$.setOpt("URL",Y.url),process.env.NODE_TLS_REJECT_UNAUTHORIZED==="0")$.setOpt("SSL_VERIFYPEER",!1);if(process.env.NODE_EXTRA_CA_CERTS)$.setOpt("CAINFO",process.env.NODE_EXTRA_CA_CERTS);else $.setOpt("CAINFO_BLOB",Em6.rootCertificates.join(`
`));$.enable(X.StreamResponse);let G;if(Y._signal===null)G=void 0;else if(Y._signal)G=Y._signal;if($.setStreamProgressCallback(function(){return G?.aborted?process.env.DEBUG?W.Continue:1:0}),Y.bodyType==="String")$.setOpt("POSTFIELDS",Y.bodyInit);else{let B=Y.body!=null?(0,DJ1.isNodeReadable)(Y.body)?Y.body:Oh0.Readable.from(Y.body):null;if(B)$.setOpt("UPLOAD",!0),$.setUploadStream(B)}if(process.env.DEBUG)$.setOpt("VERBOSE",!0);$.setOpt("TRANSFER_ENCODING",!1),$.setOpt("HTTP_TRANSFER_DECODING",!0),$.setOpt("FOLLOWLOCATION",Y.redirect==="follow"),$.setOpt("MAXREDIRS",20),$.setOpt("ACCEPT_ENCODING",""),$.setOpt("CUSTOMREQUEST",Y.method);let Q=Y.headersSerializer||DJ1.defaultHeadersSerializer,U,z=Q(Y.headers,(B)=>{U=Number(B)});if(U!=null)$.setOpt("INFILESIZE",U);$.setOpt("HTTPHEADER",z),$.enable(X.NoHeaderParsing);let H=(0,Tm6.createDeferredPromise)(),O;function K(){if($.isOpen)try{$.pause(Z.Recv)}catch(B){H.reject(B)}}return G?.addEventListener("abort",K,{once:!0}),$.once("end",function(){try{$.close()}catch(F){H.reject(F)}G?.removeEventListener("abort",K)}),$.once("error",function(F){if(O&&!O.closed&&!O.destroyed)O.destroy(F);else{if(F.message==="Operation was aborted by an application callback")F.message="The operation was aborted.";H.reject(F)}try{$.close()}catch(V){H.reject(V)}}),$.once("stream",function(F,V,I){let D=F.pipe(new Oh0.PassThrough,{end:!0}),A=I.toString("utf8").split(/\r?\n|\r/g).filter((R)=>{if(R&&!R.startsWith("HTTP/")){if(Y.redirect==="error"&&R.toLowerCase().includes("location")&&(0,DJ1.shouldRedirect)(V)){if(!F.destroyed)F.resume();D.destroy(),H.reject(Error("redirect is not allowed"))}return!0}return!1}).map((R)=>R.split(/:\s(.+)/).slice(0,2)),P=new Rm6.PonyfillResponse(D,{status:V,headers:A,url:$.getInfo(J.info.REDIRECT_URL)?.toString()||Y.url,redirected:Number($.getInfo(J.info.REDIRECT_COUNT))>0});H.resolve(P),O=D}),setImmediate(()=>{$.perform()}),H.promise}});var rP=q((Vh0)=>{Object.defineProperty(Vh0,"__esModule",{value:!0});Vh0.PonyfillURL=void 0;var Cm6=e9(),jm6=Cm6.__importDefault(C("buffer")),km6=C("crypto"),qh0=globalThis.URL;class Fh0 extends qh0{static blobRegistry=new Map;static createObjectURL(Y){let J=`blob:whatwgnode:${(0,km6.randomUUID)()}`;return this.blobRegistry.set(J,Y),J}static revokeObjectURL(Y){if(!this.blobRegistry.has(Y))qh0.revokeObjectURL(Y);else this.blobRegistry.delete(Y)}static getBlobFromURL(Y){return this.blobRegistry.get(Y)||jm6.default?.resolveObjectURL?.(Y)}}Vh0.PonyfillURL=Fh0});var ux=q((Ah0)=>{Object.defineProperty(Ah0,"__esModule",{value:!0});Ah0.PonyfillRequest=void 0;var _m6=C("http"),xm6=C("https"),fm6=yx(),Dh0=gx(),vm6=rP();function hm6(Y){return Y[Symbol.toStringTag]==="Request"}function bm6(Y){return Y?.href!=null}class wh0 extends fm6.PonyfillBody{constructor(Y,J){let X,Z,W=null,$;if(typeof Y==="string")X=Y;else if(bm6(Y))Z=Y;else if(hm6(Y)){if(Y._parsedUrl)Z=Y._parsedUrl;else if(Y._url)X=Y._url;else X=Y.url;W=Y.body,$=Y}if(J!=null)W=J.body||null,$=J;super(W,$);if(this._url=X,this._parsedUrl=Z,this.cache=$?.cache||"default",this.credentials=$?.credentials||"same-origin",this.headers=$?.headers&&(0,Dh0.isHeadersLike)($.headers)?$.headers:new Dh0.PonyfillHeaders($?.headers),this.integrity=$?.integrity||"",this.keepalive=$?.keepalive!=null?$?.keepalive:!1,this.method=$?.method?.toUpperCase()||"GET",this.mode=$?.mode||"cors",this.redirect=$?.redirect||"follow",this.referrer=$?.referrer||"about:client",this.referrerPolicy=$?.referrerPolicy||"no-referrer",this.headersSerializer=$?.headersSerializer,this.duplex=$?.duplex||"half",this.destination="document",this.priority="auto",this.method!=="GET"&&this.method!=="HEAD")this.handleContentLengthHeader(!0);if($?.agent!=null){let G=Z?.protocol||X||this.url;if($.agent===!1)this.agent=!1;else if(G.startsWith("http:")&&$.agent instanceof _m6.Agent)this.agent=$.agent;else if(G.startsWith("https:")&&$.agent instanceof xm6.Agent)this.agent=$.agent}}headersSerializer;cache;credentials;destination;headers;integrity;keepalive;method;mode;priority;redirect;referrer;referrerPolicy;_url;get signal(){return this._signal||=new AbortController().signal,this._signal}get url(){if(this._url==null)if(this._parsedUrl)this._url=this._parsedUrl.toString();else throw TypeError("Invalid URL");return this._url}_parsedUrl;get parsedUrl(){if(this._parsedUrl==null)if(this._url!=null)this._parsedUrl=new vm6.PonyfillURL(this._url,"http://localhost");else throw TypeError("Invalid URL");return this._parsedUrl}duplex;agent;clone(){return this}[Symbol.toStringTag]="Request"}Ah0.PonyfillRequest=wh0});var Nh0=q((Rh0)=>{Object.defineProperty(Rh0,"__esModule",{value:!0});Rh0.fetchNodeHttp=Th0;var ym6=e9(),Eh0=C("http"),gm6=C("https"),Lh0=C("stream"),Hq=ym6.__importDefault(C("zlib")),Mh0=q8(),um6=ux(),mm6=oP(),dm6=rP(),_3=j7();function cm6(Y){if(Y.startsWith("http:"))return Eh0.request;else if(Y.startsWith("https:"))return gm6.request;throw Error(`Unsupported protocol: ${Y.split(":")[0]||Y}`)}function Th0(Y){return new Promise((J,X)=>{try{let Z=cm6(Y.parsedUrl?.protocol||Y.url),$=(Y.headersSerializer||_3.getHeadersObj)(Y.headers);if($["accept-encoding"]||=_3.DEFAULT_ACCEPT_ENCODING,$["user-agent"]==null&&$["User-Agent"]==null)$["user-agent"]="node";let G;if(Y._signal==null)G=void 0;else if(Y._signal)G=Y._signal;let Q;if(Y.parsedUrl)Q=Z(Y.parsedUrl,{method:Y.method,headers:$,signal:G,agent:Y.agent});else Q=Z(Y.url,{method:Y.method,headers:$,signal:G,agent:Y.agent});if(Q.once("error",X),Q.once("response",(U)=>{let z;switch(U.headers["content-encoding"]){case"x-gzip":case"gzip":z=Hq.default.createGunzip();break;case"x-deflate":case"deflate":z=Hq.default.createInflate();break;case"x-deflate-raw":case"deflate-raw":z=Hq.default.createInflateRaw();break;case"br":z=Hq.default.createBrotliDecompress();break;case"zstd":if(Hq.default.createZstdDecompress!=null)z=Hq.default.createZstdDecompress();break}if(U.headers.location&&(0,_3.shouldRedirect)(U.statusCode)){if(Y.redirect==="error"){let F=Error("Redirects are not allowed");X(F),U.resume();return}if(Y.redirect==="follow"){let F=new dm6.PonyfillURL(U.headers.location,Y.parsedUrl||Y.url),V=Th0(new um6.PonyfillRequest(F,Y));J(V.then((I)=>{return I.redirected=!0,I})),U.resume();return}}z||=new Lh0.PassThrough,(0,_3.pipeThrough)({src:U,dest:z,signal:G,onError:(F)=>{if(!U.destroyed)U.destroy(F);if(!z.destroyed)z.destroy(F);X(F)}});let O=U.statusCode||200,K=U.statusMessage||Eh0.STATUS_CODES[O];if(K==null)K="";let B=new mm6.PonyfillResponse(z||U,{status:O,statusText:K,headers:U.headers,url:Y.url,signal:G});J(B)}),Y._buffer!=null)(0,Mh0.handleMaybePromise)(()=>(0,_3.safeWrite)(Y._buffer,Q),()=>(0,_3.endStream)(Q),X);else if(Y.bodyType==="String")(0,Mh0.handleMaybePromise)(()=>(0,_3.safeWrite)(Y.bodyInit,Q),()=>(0,_3.endStream)(Q),X);else{let U=Y.body!=null?(0,_3.isNodeReadable)(Y.body)?Y.body:Lh0.Readable.from(Y.body):null;if(U)U.pipe(Q);else(0,_3.endStream)(Q)}}catch(Z){X(Z)}})}});var _h0=q((kh0)=>{Object.defineProperty(kh0,"__esModule",{value:!0});kh0.fetchPonyfill=jh0;var pm6=C("buffer"),mx=C("fs"),nm6=C("url"),im6=Bh0(),om6=Nh0(),rm6=ux(),Oq=oP(),am6=rP(),Sh0=j7(),Ch0=";base64";async function sm6(Y){let J=(0,nm6.fileURLToPath)(Y);try{await mx.promises.access(J,mx.promises.constants.R_OK);let X=await mx.promises.stat(J,{bigint:!0}),Z=(0,mx.createReadStream)(J);return new Oq.PonyfillResponse(Z,{status:200,statusText:"OK",headers:{"content-type":"application/octet-stream","last-modified":X.mtime.toUTCString()}})}catch(X){if(X.code==="ENOENT")return new Oq.PonyfillResponse(null,{status:404,statusText:"Not Found"});else if(X.code==="EACCES")return new Oq.PonyfillResponse(null,{status:403,statusText:"Forbidden"});throw X}}function tm6(Y){let[J="text/plain",...X]=Y.substring(5).split(","),Z=decodeURIComponent(X.join(","));if(J.endsWith(Ch0)){let W=pm6.Buffer.from(Z,"base64url"),$=J.slice(0,-Ch0.length);return new Oq.PonyfillResponse(W,{status:200,statusText:"OK",headers:{"content-type":$}})}return new Oq.PonyfillResponse(Z,{status:200,statusText:"OK",headers:{"content-type":J}})}function em6(Y){let J=am6.PonyfillURL.getBlobFromURL(Y);if(!J)throw TypeError("Invalid Blob URL");return new Oq.PonyfillResponse(J,{status:200,headers:{"content-type":J.type,"content-length":J.size.toString()}})}function Yd6(Y){return Y!=null&&Y.href!=null}function jh0(Y,J){if(typeof Y==="string"||Yd6(Y)){let Z=new rm6.PonyfillRequest(Y,J);return jh0(Z)}let X=Y;if(X.url.startsWith("data:")){let Z=tm6(X.url);return(0,Sh0.fakePromise)(Z)}if(X.url.startsWith("file:"))return sm6(X.url);if(X.url.startsWith("blob:")){let Z=em6(X.url);return(0,Sh0.fakePromise)(Z)}if(globalThis.libcurl&&!X.agent)return(0,im6.fetchCurl)(X);return(0,om6.fetchNodeHttp)(X)}});var wJ1=q((vh0)=>{Object.defineProperty(vh0,"__esModule",{value:!0});vh0.PonyfillTextDecoder=vh0.PonyfillTextEncoder=void 0;vh0.PonyfillBtoa=Zd6;var aP=C("buffer"),Xd6=j7();class xh0{encoding;constructor(Y="utf-8"){this.encoding=Y}encode(Y){return aP.Buffer.from(Y,this.encoding)}encodeInto(Y,J){let Z=this.encode(Y).copy(J);return{read:Z,written:Z}}}vh0.PonyfillTextEncoder=xh0;class fh0{encoding;fatal=!1;ignoreBOM=!1;constructor(Y="utf-8",J){if(this.encoding=Y,J)this.fatal=J.fatal||!1,this.ignoreBOM=J.ignoreBOM||!1}decode(Y){if(aP.Buffer.isBuffer(Y))return Y.toString(this.encoding);if((0,Xd6.isArrayBufferView)(Y))return aP.Buffer.from(Y.buffer,Y.byteOffset,Y.byteLength).toString(this.encoding);return aP.Buffer.from(Y).toString(this.encoding)}}vh0.PonyfillTextDecoder=fh0;function Zd6(Y){return aP.Buffer.from(Y,"binary").toString("base64")}});var gh0=q((bh0)=>{Object.defineProperty(bh0,"__esModule",{value:!0});bh0.PonyfillURLSearchParams=void 0;bh0.PonyfillURLSearchParams=globalThis.URLSearchParams});var PJ1=q((dh0)=>{Object.defineProperty(dh0,"__esModule",{value:!0});dh0.PonyfillWritableStream=void 0;var dx=C("events"),AJ1=C("stream"),uh0=q8(),AG=j7();class mh0{writable;constructor(Y){if(Y instanceof AJ1.Writable)this.writable=Y;else if(Y){let J=new AJ1.Writable({write(W,$,G){try{let Q=Y.write?.(W,Z);if(Q instanceof Promise)Q.then(()=>{G()},(U)=>{G(U)});else G()}catch(Q){G(Q)}},final(W){let $=Y.close?.();if($ instanceof Promise)$.then(()=>{W()},(G)=>{W(G)});else W()}});this.writable=J;let X=new AbortController,Z={signal:X.signal,error(W){J.destroy(W)}};J.once("error",(W)=>X.abort(W)),J.once("close",()=>X.abort())}else this.writable=new AJ1.Writable}getWriter(){let Y=this.writable;return{get closed(){return(0,dx.once)(Y,"close")},get desiredSize(){return Y.writableLength},get ready(){return(0,dx.once)(Y,"drain")},releaseLock(){},write(J){let X=(0,AG.fakePromise)();if(J==null)return X;return X.then(()=>(0,AG.safeWrite)(J,Y))},close(){if(!Y.errored&&Y.closed)return(0,AG.fakePromise)();if(Y.errored)return(0,uh0.fakeRejectPromise)(Y.errored);return(0,AG.fakePromise)().then(()=>(0,AG.endStream)(Y))},abort(J){return Y.destroy(J),(0,dx.once)(Y,"close")}}}close(){if(!this.writable.errored&&this.writable.closed)return(0,AG.fakePromise)();if(this.writable.errored)return(0,uh0.fakeRejectPromise)(this.writable.errored);return(0,AG.fakePromise)().then(()=>(0,AG.endStream)(this.writable))}abort(Y){return this.writable.destroy(Y),(0,dx.once)(this.writable,"close")}locked=!1}dh0.PonyfillWritableStream=mh0});var sP=q((ph0)=>{Object.defineProperty(ph0,"__esModule",{value:!0});ph0.PonyfillTransformStream=void 0;var LJ1=C("stream"),Gd6=Uq(),Qd6=j7(),Ud6=PJ1();class lh0{transform;writable;readable;constructor(Y){if(Y instanceof LJ1.Transform)this.transform=Y;else if(Y){let J={enqueue(Z){X.push(Z)},error(Z){X.destroy(Z)},terminate(){(0,Qd6.endStream)(X)},get desiredSize(){return X.writableLength}},X=new LJ1.Transform({read(){},write(Z,W,$){try{let G=Y.transform?.(Z,J);if(G instanceof Promise)G.then(()=>{$()},(Q)=>{$(Q)});else $()}catch(G){$(G)}},final(Z){try{let W=Y.flush?.(J);if(W instanceof Promise)W.then(()=>{Z()},($)=>{Z($)});else Z()}catch(W){Z(W)}}});this.transform=X}else this.transform=new LJ1.Transform;this.writable=new Ud6.PonyfillWritableStream(this.transform),this.readable=new Gd6.PonyfillReadableStream(this.transform)}}ph0.PonyfillTransformStream=lh0});var ah0=q((oh0)=>{Object.defineProperty(oh0,"__esModule",{value:!0});oh0.PonyfillCompressionStream=void 0;var zd6=e9(),tP=zd6.__importDefault(C("zlib")),Hd6=sP(),Od6=j7();class ih0 extends Hd6.PonyfillTransformStream{static supportedFormats=(0,Od6.getSupportedFormats)();constructor(Y){switch(Y){case"x-gzip":case"gzip":super(tP.default.createGzip());break;case"x-deflate":case"deflate":super(tP.default.createDeflate());break;case"deflate-raw":super(tP.default.createDeflateRaw());break;case"br":super(tP.default.createBrotliCompress());break;case"zstd":super(tP.default.createZstdCompress());break;default:throw Error(`Unsupported compression format: ${Y}`)}}}oh0.PonyfillCompressionStream=ih0});var Yb0=q((th0)=>{Object.defineProperty(th0,"__esModule",{value:!0});th0.PonyfillDecompressionStream=void 0;var Kd6=e9(),eP=Kd6.__importDefault(C("zlib")),Bd6=sP(),qd6=j7();class sh0 extends Bd6.PonyfillTransformStream{static supportedFormats=(0,qd6.getSupportedFormats)();constructor(Y){switch(Y){case"x-gzip":case"gzip":super(eP.default.createGunzip());break;case"x-deflate":case"deflate":super(eP.default.createInflate());break;case"deflate-raw":super(eP.default.createInflateRaw());break;case"br":super(eP.default.createBrotliDecompress());break;case"zstd":super(eP.default.createZstdDecompress());break;default:throw TypeError(`Unsupported compression format: '${Y}'`)}}}th0.PonyfillDecompressionStream=sh0});var Qb0=q(($b0)=>{Object.defineProperty($b0,"__esModule",{value:!0});$b0.PonyfillTextEncoderStream=$b0.PonyfillTextDecoderStream=void 0;var Jb0=wJ1(),Xb0=sP();class Zb0 extends Xb0.PonyfillTransformStream{textDecoder;constructor(Y,J){super({transform:(X,Z)=>Z.enqueue(this.textDecoder.decode(X,{stream:!0}))});this.textDecoder=new Jb0.PonyfillTextDecoder(Y,J)}get encoding(){return this.textDecoder.encoding}get fatal(){return this.textDecoder.fatal}get ignoreBOM(){return this.textDecoder.ignoreBOM}}$b0.PonyfillTextDecoderStream=Zb0;class Wb0 extends Xb0.PonyfillTransformStream{textEncoder;constructor(Y){super({transform:(J,X)=>X.enqueue(this.textEncoder.encode(J))});this.textEncoder=new Jb0.PonyfillTextEncoder(Y)}get encoding(){return this.textEncoder.encoding}encode(Y){return this.textEncoder.encode(Y)}}$b0.PonyfillTextEncoderStream=Wb0});var zb0=q((w6)=>{Object.defineProperty(w6,"__esModule",{value:!0});w6.TextEncoderStream=w6.TextDecoderStream=w6.IteratorObject=w6.DecompressionStream=w6.CompressionStream=w6.TransformStream=w6.WritableStream=w6.URLSearchParams=w6.URL=w6.btoa=w6.TextDecoder=w6.TextEncoder=w6.Blob=w6.FormData=w6.File=w6.ReadableStream=w6.Response=w6.Request=w6.Body=w6.Headers=w6.fetch=void 0;var Vd6=_h0();Object.defineProperty(w6,"fetch",{enumerable:!0,get:function(){return Vd6.fetchPonyfill}});var Id6=gx();Object.defineProperty(w6,"Headers",{enumerable:!0,get:function(){return Id6.PonyfillHeaders}});var Dd6=yx();Object.defineProperty(w6,"Body",{enumerable:!0,get:function(){return Dd6.PonyfillBody}});var wd6=ux();Object.defineProperty(w6,"Request",{enumerable:!0,get:function(){return wd6.PonyfillRequest}});var Ad6=oP();Object.defineProperty(w6,"Response",{enumerable:!0,get:function(){return Ad6.PonyfillResponse}});var Pd6=Uq();Object.defineProperty(w6,"ReadableStream",{enumerable:!0,get:function(){return Pd6.PonyfillReadableStream}});var Ld6=BJ1();Object.defineProperty(w6,"File",{enumerable:!0,get:function(){return Ld6.PonyfillFile}});var Md6=FJ1();Object.defineProperty(w6,"FormData",{enumerable:!0,get:function(){return Md6.PonyfillFormData}});var Ed6=vx();Object.defineProperty(w6,"Blob",{enumerable:!0,get:function(){return Ed6.PonyfillBlob}});var MJ1=wJ1();Object.defineProperty(w6,"TextEncoder",{enumerable:!0,get:function(){return MJ1.PonyfillTextEncoder}});Object.defineProperty(w6,"TextDecoder",{enumerable:!0,get:function(){return MJ1.PonyfillTextDecoder}});Object.defineProperty(w6,"btoa",{enumerable:!0,get:function(){return MJ1.PonyfillBtoa}});var Td6=rP();Object.defineProperty(w6,"URL",{enumerable:!0,get:function(){return Td6.PonyfillURL}});var Rd6=gh0();Object.defineProperty(w6,"URLSearchParams",{enumerable:!0,get:function(){return Rd6.PonyfillURLSearchParams}});var Nd6=PJ1();Object.defineProperty(w6,"WritableStream",{enumerable:!0,get:function(){return Nd6.PonyfillWritableStream}});var Sd6=sP();Object.defineProperty(w6,"TransformStream",{enumerable:!0,get:function(){return Sd6.PonyfillTransformStream}});var Cd6=ah0();Object.defineProperty(w6,"CompressionStream",{enumerable:!0,get:function(){return Cd6.PonyfillCompressionStream}});var jd6=Yb0();Object.defineProperty(w6,"DecompressionStream",{enumerable:!0,get:function(){return jd6.PonyfillDecompressionStream}});var kd6=hx();Object.defineProperty(w6,"IteratorObject",{enumerable:!0,get:function(){return kd6.PonyfillIteratorObject}});var Ub0=Qb0();Object.defineProperty(w6,"TextDecoderStream",{enumerable:!0,get:function(){return Ub0.PonyfillTextDecoderStream}});Object.defineProperty(w6,"TextEncoderStream",{enumerable:!0,get:function(){return Ub0.PonyfillTextEncoderStream}})});var Ob0=q((J_8,Hb0)=>{var xd6=GJ1(),A6;Hb0.exports=function(J={}){let X={};if(X.URLPattern=globalThis.URLPattern,!X.URLPattern){let Z=v_();X.URLPattern=Z.URLPattern}if(J.skipPonyfill||xd6())return{fetch:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response,FormData:globalThis.FormData,ReadableStream:globalThis.ReadableStream,WritableStream:globalThis.WritableStream,TransformStream:globalThis.TransformStream,CompressionStream:globalThis.CompressionStream,DecompressionStream:globalThis.DecompressionStream,TextDecoderStream:globalThis.TextDecoderStream,TextEncoderStream:globalThis.TextEncoderStream,Blob:globalThis.Blob,File:globalThis.File,crypto:globalThis.crypto,btoa:globalThis.btoa,TextEncoder:globalThis.TextEncoder,TextDecoder:globalThis.TextDecoder,URLPattern:X.URLPattern,URL:globalThis.URL,URLSearchParams:globalThis.URLSearchParams};if(A6||=zb0(),X.fetch=A6.fetch,X.Request=A6.Request,X.Response=A6.Response,X.Headers=A6.Headers,X.FormData=A6.FormData,X.ReadableStream=A6.ReadableStream,X.URL=A6.URL,X.URLSearchParams=A6.URLSearchParams,X.WritableStream=A6.WritableStream,X.TransformStream=A6.TransformStream,X.CompressionStream=A6.CompressionStream,X.DecompressionStream=A6.DecompressionStream,X.TextDecoderStream=A6.TextDecoderStream,X.TextEncoderStream=A6.TextEncoderStream,X.Blob=A6.Blob,X.File=A6.File,X.crypto=globalThis.crypto,X.btoa=A6.btoa,X.TextEncoder=A6.TextEncoder,X.TextDecoder=A6.TextDecoder,J.formDataLimits)X.Body=class extends A6.Body{constructor(W,$){super(W,{formDataLimits:J.formDataLimits,...$})}},X.Request=class extends A6.Request{constructor(W,$){super(W,{formDataLimits:J.formDataLimits,...$})}},X.Response=class extends A6.Response{constructor(W,$){super(W,{formDataLimits:J.formDataLimits,...$})}};if(!X.crypto){let Z=C("crypto");X.crypto=Z.webcrypto}return X}});var EJ1={};h6(EJ1,{fetch:()=>Bb0,crypto:()=>Nb0,createFetch:()=>fb0,btoa:()=>Sb0,WritableStream:()=>wb0,URLSearchParams:()=>xb0,URLPattern:()=>kb0,URL:()=>_b0,TransformStream:()=>Ab0,TextEncoderStream:()=>Eb0,TextEncoder:()=>Cb0,TextDecoderStream:()=>Mb0,TextDecoder:()=>jb0,Response:()=>Vb0,Request:()=>Fb0,ReadableStream:()=>Db0,Headers:()=>qb0,FormData:()=>Ib0,File:()=>Rb0,DecompressionStream:()=>Lb0,CompressionStream:()=>Pb0,Blob:()=>Tb0});var Kb0,fd6,W8,Bb0,qb0,Fb0,Vb0,Ib0,Db0,wb0,Ab0,Pb0,Lb0,Mb0,Eb0,Tb0,Rb0,Nb0,Sb0,Cb0,jb0,kb0,_b0,xb0,fb0;var vb0=w(()=>{Kb0=Ob0(),fd6=GJ1(),W8=Kb0();if(!fd6())try{globalThis.libcurl=globalThis.libcurl||(()=>{throw new Error("Cannot require module "+"node-libcurl");})()}catch(Y){}Bb0=W8.fetch,qb0=W8.Headers,Fb0=W8.Request,Vb0=W8.Response,Ib0=W8.FormData,Db0=W8.ReadableStream,wb0=W8.WritableStream,Ab0=W8.TransformStream,Pb0=W8.CompressionStream,Lb0=W8.DecompressionStream,Mb0=W8.TextDecoderStream,Eb0=W8.TextEncoderStream,Tb0=W8.Blob,Rb0=W8.File,Nb0=W8.crypto,Sb0=W8.btoa,Cb0=W8.TextEncoder,jb0=W8.TextDecoder,kb0=W8.URLPattern,_b0=W8.URL,xb0=W8.URLSearchParams,fb0=Kb0});function yb0(Y){return Y!=null&&typeof Y==="object"&&typeof Y[Symbol.asyncIterator]==="function"}function vd6(Y){if(Y.socket?.localPort)return Y.socket?.localPort;let X=(Y.headers?.[":authority"]||Y.headers?.host)?.split(":")?.[1];if(X)return X;return 80}function hd6(Y){if(Y.headers?.[":authority"])return Y.headers?.[":authority"];if(Y.headers?.host)return Y.headers?.host;let J=vd6(Y);if(Y.hostname)return Y.hostname+":"+J;let X=Y.socket?.localAddress;if(X&&!X?.includes("::")&&!X?.includes("ffff"))return`${X}:${J}`;return"localhost"}function bd6(Y){let J=hd6(Y),X=Y.protocol||(Y.socket?.encrypted?"https":"http"),Z=Y.originalUrl||Y.url||"/graphql";return`${X}://${J}${Z}`}function yd6(Y){let J=Y[Symbol.toStringTag];if(typeof Y==="string"||J==="Uint8Array"||J==="Blob"||J==="FormData"||J==="URLSearchParams"||yb0(Y))return!0;return!1}function TJ1(Y,J,X,Z){let W=Y.raw||Y.req||Y,$=bd6(W);if(Y.query){let z=new J.URL($);for(let H in Y.query)z.searchParams.set(H,Y.query[H]);$=z.toString()}let G=Y.headers;if(Y.headers?.[":method"]){G={};for(let z in Y.headers)if(!z.startsWith(":"))G[z]=Y.headers[z]}let Q=Z?jJ1():new AbortController;if(X?.once){let z=()=>{if(!Q.signal.aborted)Object.defineProperty(W,"aborted",{value:!0}),Q.abort(X.errored??void 0)};X.once("error",z),X.once("close",z),X.once("finish",()=>{X.removeListener("close",z)})}if(Y.method==="GET"||Y.method==="HEAD")return new J.Request($,{method:Y.method,headers:G,signal:Q.signal});let U=Y.body;if(U!=null&&Object.keys(U).length>0){if(yd6(U))return new J.Request($,{method:Y.method||"GET",headers:G,body:U,signal:Q.signal});let z=new J.Request($,{method:Y.method||"GET",headers:G,signal:Q.signal});if(!z.headers.get("content-type")?.includes("json"))z.headers.set("content-type","application/json; charset=utf-8");return new Proxy(z,{get(H,O,K){switch(O){case"json":return()=>Q4(U);case"text":return()=>Q4(JSON.stringify(U));default:{let B=Reflect.get(z,O,z);if(typeof B==="function")return function(...V){return B.apply(this===K?z:this,V)};return B}}}})}return new J.Request($,{method:Y.method,headers:G,signal:Q.signal,body:W,duplex:"half"})}function gb0(Y){return Y.read!=null}function ub0(Y){return gb0(Y)}function RJ1(Y){return Y!=null&&Y.setHeader!=null&&Y.end!=null&&Y.once!=null&&Y.write!=null}function gd6(Y){return Y!=null&&Y.getReader!=null}function mb0(Y){return Y!=null&&Y.request!=null&&Y.respondWith!=null}function ud6(Y){Y?.socket?.setTimeout?.(0),Y?.socket?.setNoDelay?.(!0),Y?.socket?.setKeepAlive?.(!0)}function YL(Y){Y.end(null,null,null)}function md6(Y,J){let X=!1,Z=()=>{X=!0};Y.once("error",Z),Y.once("close",Z),Y.once("finish",()=>{Y.removeListener("close",Z),Y.removeListener("error",Z)});let W=J[Symbol.asyncIterator]();return db0(()=>W.next(),Y,()=>X)}function hb0(Y){Y.end(null,null,null)}function db0(Y,J,X){let Z=()=>T1(Y,(W)=>{if(X?.()||W.done)return hb0(J);return T1(()=>cx(W.value,J),()=>X?.()?hb0(J):Z())});return Z()}function cx(Y,J){if(!J.write(Y))return new Promise((Z)=>J.once("drain",Z))}function cb0(Y,J,X,Z){if(J.closed||J.destroyed||J.writableEnded)return;if(!Y){J.statusCode=404,YL(J);return}if(Z&&Y.headers?.headersInit&&!Array.isArray(Y.headers.headersInit)&&!Y.headers.headersInit.get&&!Y.headers._map&&!Y.headers._setCookies?.length)J.writeHead(Y.status,Y.statusText,Y.headers.headersInit);else{if(J.setHeaders&&!dd6)J.setHeaders(Y.headers);else{let G=!1;Y.headers.forEach((Q,U)=>{if(U==="set-cookie"){if(G)return;G=!0;let z=Y.headers.getSetCookie?.();if(z){J.setHeader("set-cookie",z);return}}J.setHeader(U,Q)})}J.writeHead(Y.status,Y.statusText)}if(Y.bodyType==="String"){let G=Y.bodyInit;return T1(()=>cx(G,J),()=>YL(J))}let W=Y._buffer;if(W)return T1(()=>cx(W,J),()=>YL(J));let $=Y.body;if($==null){YL(J);return}if($[Symbol.toStringTag]==="Uint8Array")return T1(()=>cx($,J),()=>YL(J));if(ud6(X),gb0($)){J.once("close",()=>{$.destroy()}),$.pipe(J,{end:!0});return}if(gd6($))return cd6(X,J,$);if(yb0($))return md6(J,$)}function cd6(Y,J,X){let Z=X.getReader();return Y?.once?.("error",(W)=>{Z.cancel(W)}),db0(()=>Z.read(),J)}function lb0(Y){return Y!=null&&typeof Y==="object"&&(("body"in Y)||("cache"in Y)||("credentials"in Y)||("headers"in Y)||("integrity"in Y)||("keepalive"in Y)||("method"in Y)||("mode"in Y)||("redirect"in Y)||("referrer"in Y)||("referrerPolicy"in Y)||("signal"in Y)||("window"in Y))}function Mz(...Y){let[J,...X]=Y.filter((Z)=>Z!=null&&typeof Z==="object");return X.forEach((Z)=>{let W=Object.getOwnPropertyNames(Z).reduce(($,G)=>{if(Object.getOwnPropertyDescriptor(Z,G))$[G]=Object.getOwnPropertyDescriptor(Z,G);return $},{});Object.getOwnPropertySymbols(Z).forEach(($)=>{let G=Object.getOwnPropertyDescriptor(Z,$);if(G?.enumerable)W[$]=G}),Object.defineProperties(J,W)}),J}function NJ1(Y,J){return new J(Y.stack||Y.message||Y.toString(),{status:Y.status||500})}function SJ1(Y,J){if(Y==null){if(J==null)return{};return{waitUntil:J}}return Mz(Object.create(Y),{waitUntil:J},Y)}function CJ1(Y,J){if(J?.aborted)throw J.reason;if(U4(Y)&&J){let Z=function(){X.reject(J.reason)},X=aA();return J.addEventListener("abort",Z,{once:!0}),Y.then(function($){X.resolve($)}).catch(function($){X.reject($)}).finally(()=>{J.removeEventListener("abort",Z)}),X.promise}return Y}function pd6(){if(bb0)return;bb0=!0;for(let Y of ld6)globalThis.process.once(Y,function(){return Promise.allSettled([...lx].map((X)=>!X.disposed&&X.disposeAsync()))})}function pb0(Y){if(globalThis.process){if(pd6(),!lx.has(Y))lx.add(Y),Y.defer(()=>{lx.delete(Y)})}}function jJ1(){if(globalThis.Bun||globalThis.Deno)return new AbortController;return new Proxy(new nb0,{get(Y,J,X){if(J.toString().includes("kDependantSignals")){let Z=Y.ensureNativeCtrl();return Reflect.get(Z.signal,J,Z.signal)}return Reflect.get(Y,J,X)},set(Y,J,X,Z){if(J.toString().includes("kDependantSignals")){let W=Y.ensureNativeCtrl();return Reflect.set(W.signal,J,X,W.signal)}return Reflect.set(Y,J,X,Z)},getPrototypeOf(){return AbortSignal.prototype}})}var dd6,ld6,lx,bb0=!1,nb0;var kJ1=w(()=>{z4();z4();dd6=globalThis.process?.versions?.node?.startsWith("1");ld6=["SIGINT","exit","SIGTERM"],lx=new Set;nb0=class nb0 extends EventTarget{aborted=!1;_onabort=null;_reason;constructor(){super();let Y=globalThis.process?.getBuiltinModule?.("node:events");if(Y?.kMaxEventTargetListeners)this[Y.kMaxEventTargetListeners]=0}throwIfAborted(){if(this._nativeCtrl?.signal?.throwIfAborted)return this._nativeCtrl.signal.throwIfAborted();if(this.aborted)throw this._reason}_nativeCtrl;ensureNativeCtrl(){if(!this._nativeCtrl){let Y=this.aborted;if(this._nativeCtrl=new AbortController,Y)this._nativeCtrl.abort(this._reason)}return this._nativeCtrl}abort(Y){if(this._nativeCtrl?.abort)return this._nativeCtrl?.abort(Y);this._reason=Y||new DOMException("This operation was aborted","AbortError"),this.aborted=!0,this.dispatchEvent(new Event("abort"))}get signal(){if(this._nativeCtrl?.signal)return this._nativeCtrl.signal;return this}get reason(){if(this._nativeCtrl?.signal)return this._nativeCtrl.signal.reason;return this._reason}get onabort(){if(this._onabort)return this._onabort;return this._onabort}set onabort(Y){if(this._nativeCtrl?.signal){this._nativeCtrl.signal.onabort=Y;return}if(this._onabort)this.removeEventListener("abort",this._onabort);if(this._onabort=Y,Y)this.addEventListener("abort",Y)}}});function ib0(Y){return!!Y.onData}function ob0({req:Y,res:J,fetchAPI:X,controller:Z}){let W=Y.getMethod(),$,G=[],Q=[(R)=>{G.push(R)}],U=(R)=>{for(let N of Q)N(R)},z=!1,H=[()=>{z=!0}],O=()=>{for(let R of H)R()};J.onData(function(R,N){if(U(Buffer.from(Buffer.from(R,0,R.byteLength))),N)O()});let K;if(W!=="get"&&W!=="head"){$="half",Z.signal.addEventListener("abort",()=>{O()},{once:!0});let R;K=()=>{if(!R)R=new X.ReadableStream({start(N){for(let v of G)N.enqueue(v);if(z){N.close();return}Q.push((v)=>{N.enqueue(v)}),H.push(()=>{if(Z.signal.reason){N.error(Z.signal.reason);return}if(N.desiredSize)N.close()})}});return R}}let B=new X.Headers;Y.forEach((R,N)=>{B.append(R,N)});let F=`http://localhost${Y.getUrl()}`,V=Y.getQuery();if(V)F+=`?${V}`;let I;function D(){if(!K)return null;if(z)return A();return K()}let L=new X.Request(F,{method:W,headers:B,get body(){return D()},signal:Z.signal,duplex:$});function A(){if(!I)I=G.length===1?G[0]:Buffer.concat(G);return I}function P(){if(z)return Q4(A());return new Promise((R,N)=>{try{H.push(()=>{R(A())})}catch(v){N(v)}})}return Object.defineProperties(L,{body:{get(){return D()},configurable:!0,enumerable:!0},json:{value(){return P().then((R)=>R.toString("utf8")).then((R)=>JSON.parse(R))},configurable:!0,enumerable:!0},text:{value(){return P().then((R)=>R.toString("utf8"))},configurable:!0,enumerable:!0},arrayBuffer:{value(){return P()},configurable:!0,enumerable:!0}}),L}function nd6(Y,J){return new J.WritableStream({write(X){Y.cork(()=>{Y.write(X)})},close(){Y.cork(()=>{Y.end()})}})}function rb0(Y,J,X,Z){if(!J){Y.writeStatus("404 Not Found"),Y.end();return}let W=J._buffer,$=J.bodyType==="String"?J.bodyInit:void 0;if(X.signal.aborted)return;if(Y.cork(()=>{Y.writeStatus(`${J.status} ${J.statusText}`);let G=!1;for(let[Q,U]of J.headers)if(Q!=="content-length"){if(Q==="set-cookie"){if(G)continue;G=!0;let z=J.headers.getSetCookie?.();if(z){for(let H of z)Y.writeHeader(Q,H);continue}}Y.writeHeader(Q,U)}if($)Y.end($);else if(W)Y.end(W);else if(!J.body)Y.end()}),$||W||!J.body)return;return X.signal.addEventListener("abort",()=>{if(!J.body?.locked)J.body?.cancel(X.signal.reason)},{once:!0}),J.body.pipeTo(nd6(Y,Z),{signal:X.signal}).catch((G)=>{if(X.signal.aborted)return;throw G})}var _J1=w(()=>{z4()});function id6(Y){try{return!!Y?.request}catch{return!1}}function ab0(Y,J){let X=J?.__useSingleWriteHead==null?!0:J.__useSingleWriteHead,Z={...EJ1,...J?.fetchAPI},W=J?.__useCustomAbortCtrl==null?Z.Request!==globalThis.Request:J.__useCustomAbortCtrl,$=typeof Y==="function"?Y:Y.handle,G=[],Q=[],U,z=new Set,H;function O(){if(!H){if(H=new r_0,J?.disposeOnProcessTerminate)pb0(H);H.defer(()=>{if(z.size>0)return Promise.allSettled(z).then(()=>{z.clear()},()=>{z.clear()})})}return H}function K(j){if(U4(j))O(),z.add(j),j.then(()=>{z.delete(j)},(M)=>{console.error(`Unexpected error while waiting: ${M.message||M}`),z.delete(j)})}if(J?.plugins!=null)for(let j of J.plugins){if(j.instrumentation)U=U?mB(U,j.instrumentation):j.instrumentation;if(j.onRequest)G.push(j.onRequest);if(j.onResponse)Q.push(j.onResponse);let M=j[$6.dispose];if(M)O().defer(M);let b=j[$6.asyncDispose];if(b)O().defer(b);if(j.onDispose)O().defer(j.onDispose)}let B=G.length>0||Q.length>0?function(M,b){let k=$,r;if(G.length===0)return c();let p=M.parsedUrl||new Proxy(od6,{get(d,a,H1){return p=new Z.URL(M.url,"http://localhost"),Reflect.get(p,a,p)}});function S(d){if(Q.length===0)return d;return T1(()=>s6(Q,(a)=>a({request:M,response:d,serverContext:b,setResponse(H1){d=H1},fetchAPI:Z})),()=>d)}function c(){if(!r)return T1(()=>k(M,b),S);return S(r)}return T1(()=>s6(G,(d,a)=>d({request:M,setRequest(H1){M=H1},serverContext:b,fetchAPI:Z,url:p,requestHandler:k,setRequestHandler(H1){k=H1},endResponse(H1){if(r=H1,H1)a()}})),c)}:$;if(U?.request){let j=B;B=(M,b)=>{return zz({request:M}).asyncFn(U.request,j)(M,b)}}function F(j,...M){let b=M.length>1?Mz(...M):M[0]||{};if(!b.waitUntil)b.waitUntil=K;let k=TJ1(j,Z,void 0,W);return B(k,b)}function V(j,M,...b){let k=M.raw||M,r=b.length>1?Mz(...b):b[0]||{};if(!r.waitUntil)r.waitUntil=K;let p=TJ1(j,Z,k,W);return B(p,r)}function I(j,M,...b){let k={req:j,res:M,waitUntil:K};return sA(Q4().then(()=>V(j,M,k,...b)).catch((r)=>NJ1(r,Z.Response)).then((r)=>cb0(r,M,j,X)).catch((r)=>console.error(`Unexpected error while handling request: ${r.message||r}`)))}function D(j,M,...b){let k={res:j,req:M,waitUntil:K},p=b.filter((F1)=>F1!=null).length>0?Mz(k,...b):k,S=W?jJ1():new AbortController,c=j.end.bind(j),d=!1;j.end=function(F1){return d=!0,c(F1)},j.onAborted.bind(j)(function(){S.abort()}),j.onAborted=function(F1){S.signal.addEventListener("abort",F1,{once:!0})};let H1=ob0({req:M,res:j,fetchAPI:Z,controller:S});return T1(()=>T1(()=>B(H1,p),(F1)=>F1,(F1)=>NJ1(F1,Z.Response)),(F1)=>{if(!S.signal.aborted&&!d)return T1(()=>rb0(j,F1,S,Z),(z1)=>z1,(z1)=>{console.error(`Unexpected error while handling request: ${z1.message||z1}`)})})}function L(j,...M){if(!j.respondWith||!j.request)throw TypeError(`Expected FetchEvent, got ${j}`);let b=M.filter((p)=>p!=null),k=b.length>0?Mz({},j,...b):SJ1(j),r=B(j.request,k);j.respondWith(r)}function A(j,...M){let b=M.filter((r)=>r!=null),k=b.length>1?Mz({},...b):SJ1(b[0],b[0]==null||b[0].waitUntil==null?K:void 0);return B(j,k)}let P=(j,...M)=>{if(typeof j==="string"||"href"in j){let[k,...r]=M;if(lb0(k)){let S=new Z.Request(j,k),c=A(S,...r),d=k.signal;if(d)return CJ1(c,d);return c}let p=new Z.Request(j);return A(p,...M)}let b=A(j,...M);return CJ1(b,j.signal)},R=(j,...M)=>{let[b,...k]=M;if(ub0(j)){if(!RJ1(b))throw TypeError(`Expected ServerResponse, got ${b}`);return I(j,b,...k)}if(ib0(j))return D(j,b,...k);if(RJ1(b))throw TypeError("Got Node response without Node request");if(id6(j)){if(mb0(j))return L(j,...M);return A(j.request,j,...M)}return P(j,...M)},N={handleRequest:A,fetch:P,handleNodeRequest:F,handleNodeRequestAndResponse:V,requestListener:I,handleEvent:L,handleUWS:D,handle:R,get disposableStack(){return O()},[$6.asyncDispose](){if(H&&!H.disposed)return H.disposeAsync();return Q4()},dispose(){if(H&&!H.disposed)return H.disposeAsync();return Q4()},waitUntil:K},v=new Proxy(R,{has:(j,M)=>{return M in N||M in R||Y&&M in Y},get:(j,M)=>{if(globalThis.Deno||M===Symbol.asyncDispose||M===Symbol.dispose){let r=Reflect.get(N,M,N);if(r)return r}let b=N[M];if(b){if(b.bind)return b.bind(N);return b}let k=R[M];if(k){if(k.bind)return k.bind(R);return k}if(Y){let r=Y[M];if(r){if(r.bind)return function(...p){let S=Y[M](...p);if(S===Y)return v;return S};return r}}},apply(j,M,b){return R(...b)}});return v}var od6;var sb0=w(()=>{GG();Dx();vb0();z4();kJ1();_J1();od6={}});var tb0=()=>{};var eb0=()=>{};function rd6(Y,J){let X=Y.headers.get("origin");if(J===!1||X==null)return null;let Z={};if(J.origin==null||J.origin.length===0||J.origin.includes("*"))Z["Access-Control-Allow-Origin"]=X,Z.Vary="Origin";else if(typeof J.origin==="string")Z["Access-Control-Allow-Origin"]=J.origin;else if(Array.isArray(J.origin))if(J.origin.length===1)Z["Access-Control-Allow-Origin"]=J.origin[0];else if(J.origin.includes(X))Z["Access-Control-Allow-Origin"]=X,Z.Vary="Origin";else Z["Access-Control-Allow-Origin"]="null";if(J.methods?.length)Z["Access-Control-Allow-Methods"]=J.methods.join(", ");else{let W=Y.headers.get("access-control-request-method");if(W)Z["Access-Control-Allow-Methods"]=W}if(J.allowedHeaders?.length)Z["Access-Control-Allow-Headers"]=J.allowedHeaders.join(", ");else{let W=Y.headers.get("access-control-request-headers");if(W)if(Z["Access-Control-Allow-Headers"]=W,Z.Vary)Z.Vary+=", Access-Control-Request-Headers";else Z.Vary="Access-Control-Request-Headers"}if(J.credentials!=null){if(J.credentials===!0)Z["Access-Control-Allow-Credentials"]="true"}else if(Z["Access-Control-Allow-Origin"]!=="*")Z["Access-Control-Allow-Credentials"]="true";if(J.exposedHeaders)Z["Access-Control-Expose-Headers"]=J.exposedHeaders.join(", ");if(J.maxAge)Z["Access-Control-Max-Age"]=J.maxAge.toString();return Z}function ad6(Y,J,X){return T1(()=>J(Y,X),(Z)=>rd6(Y,Z))}function Yy0(Y){let J=()=>({});if(Y!=null){if(typeof Y==="function")J=Y;else if(typeof Y==="object"){let X={...Y};J=()=>X}else if(Y===!1)J=()=>!1}return{onRequest({request:X,fetchAPI:Z,endResponse:W}){if(X.method.toUpperCase()==="OPTIONS"){let $=new Z.Response(null,{status:204,headers:{"Content-Length":"0"}});W($)}},onResponse({request:X,serverContext:Z,response:W}){return T1(()=>ad6(X,J,Z),($)=>{if($!=null)for(let G in $)W.headers.set(G,$[G])})}}}var Jy0=w(()=>{z4()});var Xy0=()=>{};var Zy0=()=>{};var px=w(()=>{sb0();tb0();kJ1();eb0();Jy0();Xy0();Zy0();_J1();GG()});var Wy0=()=>{};var $y0=()=>{};function td6(Y){return Y!=null&&typeof Y==="object"&&Object.keys(Y).every((J)=>sd6.includes(J))}function u0(Y,J){if(J?.originalError&&!(J.originalError instanceof Error)&&td6(J.originalError))J.originalError=u0(J.originalError.message,J.originalError);let X=JL.GraphQLError,Z=JL.versionInfo.major>=16?new X(Y,J):new X(Y,J?.nodes,J?.source,J?.positions,J?.path,J?.originalError,J?.extensions);if(J?.coordinate&&Z.coordinate==null)Object.defineProperties(Z,{coordinate:{value:J.coordinate,enumerable:!0,configurable:!0}});return Z}function nx(Y){return Y.coordinate}var JL,sd6;var Gy0=w(()=>{JL=q1(f1(),1),sd6=["message","locations","path","nodes","source","positions","originalError","name","stack","extensions","coordinate"]});var Qy0=w(()=>{z4()});var Uy0=()=>{};function sZ(Y){let J=new WeakMap;return function(Z){let W=J.get(Z);if(W===void 0){let $=Y(Z);return J.set(Z,$),$}return W}}function zy0(Y){let J=new WeakMap;return function(Z,W){let $=J.get(Z);if(!$){$=new WeakMap,J.set(Z,$);let Q=Y(Z,W);return $.set(W,Q),Q}let G=$.get(W);if(G===void 0){let Q=Y(Z,W);return $.set(W,Q),Q}return G}}function Hy0(Y){let J=new WeakMap;return function(Z,W,$,G,Q){let U=J.get(Z);if(!U){U=new WeakMap,J.set(Z,U);let B=new WeakMap;U.set(W,B);let F=new WeakMap;B.set($,F);let V=new WeakMap;F.set(G,V);let I=Y(Z,W,$,G,Q);return V.set(Q,I),I}let z=U.get(W);if(!z){z=new WeakMap,U.set(W,z);let B=new WeakMap;z.set($,B);let F=new WeakMap;B.set(G,F);let V=Y(Z,W,$,G,Q);return F.set(Q,V),V}let H=z.get($);if(!H){H=new WeakMap,z.set($,H);let B=new WeakMap;H.set(G,B);let F=Y(Z,W,$,G,Q);return B.set(Q,F),F}let O=H.get(G);if(!O){O=new WeakMap,H.set(G,O);let B=Y(Z,W,$,G,Q);return O.set(Q,B),B}let K=O.get(Q);if(K===void 0){let B=Y(Z,W,$,G,Q);return O.set(Q,B),B}return K}}var Oy0=()=>{};var Ky0=()=>{};var xJ1=()=>{};var By0=()=>{};var qy0=()=>{};var Fy0=()=>{};var n_8,ed6,Yc6;var Vy0=w(()=>{n_8=sZ(function(J){let X=ed6(J);return new Set([...X].map((Z)=>Z.name))}),ed6=sZ(function(J){let X=Yc6(J);return new Set(X.values())}),Yc6=sZ(function(J){let X=new Map,Z=J.getQueryType();if(Z)X.set("query",Z);let W=J.getMutationType();if(W)X.set("mutation",W);let $=J.getSubscriptionType();if($)X.set("subscription",$);return X})});var Iy0=()=>{};var Dy0=()=>{};var wy0=()=>{};function Xc6(Y){return`
# `+Y.replace(/\n/g,`
# `)}function c1(Y,J){return Y?Y.filter((X)=>X).join(J||""):""}function Py0(Y){return Y?.some((J)=>J.includes(`
`))??!1}function Zc6(Y){return(J,X,Z,W,$)=>{let G=[],Q=W.reduce((H,O)=>{if(["fields","arguments","values"].includes(O)&&H.name)G.push(H.name.value);return H[O]},$[0]),U=[...G,Q?.name?.value].filter(Boolean).join("."),z=[];if(J.kind.includes("Definition")&&Ay0[U])z.push(...Ay0[U]);return c1([...z.map(Xc6),J.description,Y(J,X,Z,W,$)],`
`)}}function XL(Y){return Y&&`  ${Y.replace(/\n/g,`
  `)}`}function rJ(Y){return Y&&Y.length!==0?`{
${XL(c1(Y,`
`))}
}`:""}function P6(Y,J,X){return J?Y+J+(X||""):""}function Wc6(Y,J=!1){let X=Y.replace(/\\/g,"\\\\").replace(/"""/g,'\\"""');return(Y[0]===" "||Y[0]==="\t")&&Y.indexOf(`
`)===-1?`"""${X.replace(/"$/,`"
`)}"""`:`"""
${J?X:XL(X)}
"""`}var Jc6=80,Ay0,Ly0,s_8;var My0=w(()=>{Ay0={};Ly0={Name:{leave:(Y)=>Y.value},Variable:{leave:(Y)=>"$"+Y.name},Document:{leave:(Y)=>c1(Y.definitions,`

`)},OperationDefinition:{leave:(Y)=>{let J=P6("(",c1(Y.variableDefinitions,", "),")");return c1([Y.operation,c1([Y.name,J]),c1(Y.directives," ")]," ")+" "+Y.selectionSet}},VariableDefinition:{leave:({variable:Y,type:J,defaultValue:X,directives:Z})=>Y+": "+J+P6(" = ",X)+P6(" ",c1(Z," "))},SelectionSet:{leave:({selections:Y})=>rJ(Y)},Field:{leave({alias:Y,name:J,arguments:X,directives:Z,selectionSet:W}){let $=P6("",Y,": ")+J,G=$+P6("(",c1(X,", "),")");if(G.length>Jc6)G=$+P6(`(
`,XL(c1(X,`
`)),`
)`);return c1([G,c1(Z," "),W]," ")}},Argument:{leave:({name:Y,value:J})=>Y+": "+J},FragmentSpread:{leave:({name:Y,directives:J})=>"..."+Y+P6(" ",c1(J," "))},InlineFragment:{leave:({typeCondition:Y,directives:J,selectionSet:X})=>c1(["...",P6("on ",Y),c1(J," "),X]," ")},FragmentDefinition:{leave:({name:Y,typeCondition:J,variableDefinitions:X,directives:Z,selectionSet:W})=>`fragment ${Y}${P6("(",c1(X,", "),")")} on ${J} ${P6("",c1(Z," ")," ")}`+W},IntValue:{leave:({value:Y})=>Y},FloatValue:{leave:({value:Y})=>Y},StringValue:{leave:({value:Y,block:J})=>{if(J)return Wc6(Y);return JSON.stringify(Y)}},BooleanValue:{leave:({value:Y})=>Y?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:Y})=>Y},ListValue:{leave:({values:Y})=>"["+c1(Y,", ")+"]"},ObjectValue:{leave:({fields:Y})=>"{"+c1(Y,", ")+"}"},ObjectField:{leave:({name:Y,value:J})=>Y+": "+J},Directive:{leave:({name:Y,arguments:J})=>"@"+Y+P6("(",c1(J,", "),")")},NamedType:{leave:({name:Y})=>Y},ListType:{leave:({type:Y})=>"["+Y+"]"},NonNullType:{leave:({type:Y})=>Y+"!"},SchemaDefinition:{leave:({directives:Y,operationTypes:J})=>c1(["schema",c1(Y," "),rJ(J)]," ")},OperationTypeDefinition:{leave:({operation:Y,type:J})=>Y+": "+J},ScalarTypeDefinition:{leave:({name:Y,directives:J})=>c1(["scalar",Y,c1(J," ")]," ")},ObjectTypeDefinition:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>c1(["type",Y,P6("implements ",c1(J," & ")),c1(X," "),rJ(Z)]," ")},FieldDefinition:{leave:({name:Y,arguments:J,type:X,directives:Z})=>Y+(Py0(J)?P6(`(
`,XL(c1(J,`
`)),`
)`):P6("(",c1(J,", "),")"))+": "+X+P6(" ",c1(Z," "))},InputValueDefinition:{leave:({name:Y,type:J,defaultValue:X,directives:Z})=>c1([Y+": "+J,P6("= ",X),c1(Z," ")]," ")},InterfaceTypeDefinition:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>c1(["interface",Y,P6("implements ",c1(J," & ")),c1(X," "),rJ(Z)]," ")},UnionTypeDefinition:{leave:({name:Y,directives:J,types:X})=>c1(["union",Y,c1(J," "),P6("= ",c1(X," | "))]," ")},EnumTypeDefinition:{leave:({name:Y,directives:J,values:X})=>c1(["enum",Y,c1(J," "),rJ(X)]," ")},EnumValueDefinition:{leave:({name:Y,directives:J})=>c1([Y,c1(J," ")]," ")},InputObjectTypeDefinition:{leave:({name:Y,directives:J,fields:X})=>c1(["input",Y,c1(J," "),rJ(X)]," ")},DirectiveDefinition:{leave:({name:Y,arguments:J,repeatable:X,locations:Z})=>"directive @"+Y+(Py0(J)?P6(`(
`,XL(c1(J,`
`)),`
)`):P6("(",c1(J,", "),")"))+(X?" repeatable":"")+" on "+c1(Z," | ")},SchemaExtension:{leave:({directives:Y,operationTypes:J})=>c1(["extend schema",c1(Y," "),rJ(J)]," ")},ScalarTypeExtension:{leave:({name:Y,directives:J})=>c1(["extend scalar",Y,c1(J," ")]," ")},ObjectTypeExtension:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>c1(["extend type",Y,P6("implements ",c1(J," & ")),c1(X," "),rJ(Z)]," ")},InterfaceTypeExtension:{leave:({name:Y,interfaces:J,directives:X,fields:Z})=>c1(["extend interface",Y,P6("implements ",c1(J," & ")),c1(X," "),rJ(Z)]," ")},UnionTypeExtension:{leave:({name:Y,directives:J,types:X})=>c1(["extend union",Y,c1(J," "),P6("= ",c1(X," | "))]," ")},EnumTypeExtension:{leave:({name:Y,directives:J,values:X})=>c1(["extend enum",Y,c1(J," "),rJ(X)]," ")},InputObjectTypeExtension:{leave:({name:Y,directives:J,fields:X})=>c1(["extend input",Y,c1(J," "),rJ(X)]," ")}},s_8=Object.keys(Ly0).reduce((Y,J)=>({...Y,[J]:{leave:Zc6(Ly0[J].leave)}}),{})});var Ey0=()=>{};var Ty0=()=>{};var Ry0;var Ny0=w(()=>{(function(Y){Y.QUERY="QUERY",Y.MUTATION="MUTATION",Y.SUBSCRIPTION="SUBSCRIPTION",Y.FIELD="FIELD",Y.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",Y.FRAGMENT_SPREAD="FRAGMENT_SPREAD",Y.INLINE_FRAGMENT="INLINE_FRAGMENT",Y.VARIABLE_DEFINITION="VARIABLE_DEFINITION",Y.SCHEMA="SCHEMA",Y.SCALAR="SCALAR",Y.OBJECT="OBJECT",Y.FIELD_DEFINITION="FIELD_DEFINITION",Y.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",Y.INTERFACE="INTERFACE",Y.UNION="UNION",Y.ENUM="ENUM",Y.ENUM_VALUE="ENUM_VALUE",Y.INPUT_OBJECT="INPUT_OBJECT",Y.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Ry0||(Ry0={}))});var Sy0;var Cy0=w(()=>{(function(Y){Y.TYPE="MapperKind.TYPE",Y.SCALAR_TYPE="MapperKind.SCALAR_TYPE",Y.ENUM_TYPE="MapperKind.ENUM_TYPE",Y.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",Y.OBJECT_TYPE="MapperKind.OBJECT_TYPE",Y.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",Y.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",Y.UNION_TYPE="MapperKind.UNION_TYPE",Y.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",Y.ROOT_OBJECT="MapperKind.ROOT_OBJECT",Y.QUERY="MapperKind.QUERY",Y.MUTATION="MapperKind.MUTATION",Y.SUBSCRIPTION="MapperKind.SUBSCRIPTION",Y.DIRECTIVE="MapperKind.DIRECTIVE",Y.FIELD="MapperKind.FIELD",Y.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",Y.OBJECT_FIELD="MapperKind.OBJECT_FIELD",Y.ROOT_FIELD="MapperKind.ROOT_FIELD",Y.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",Y.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",Y.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",Y.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",Y.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",Y.ARGUMENT="MapperKind.ARGUMENT",Y.ENUM_VALUE="MapperKind.ENUM_VALUE"})(Sy0||(Sy0={}))});var jy0=()=>{};var ky0=()=>{};var _y0=()=>{};var xy0=()=>{};var fy0=()=>{};var vy0=()=>{};var hy0=()=>{};var by0=()=>{};var yy0=()=>{};var gy0=()=>{};var uy0=()=>{};var my0=()=>{};var dy0=()=>{};var cy0=()=>{};var ly0=()=>{};var py0=()=>{};var ny0=()=>{};var iy0=()=>{};var ZL;var oy0=w(()=>{ZL=class ZL extends Map{get[Symbol.toStringTag](){return"AccumulatorMap"}add(Y,J){let X=this.get(Y);if(X===void 0)this.set(Y,[J]);else X.push(J)}}});var K5,ry0,Lx8;var fJ1=w(()=>{K5=q1(f1(),1),ry0=new K5.GraphQLDirective({name:"defer",description:"Directs the executor to defer this fragment when the `if` argument is true or undefined.",locations:[K5.DirectiveLocation.FRAGMENT_SPREAD,K5.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new K5.GraphQLNonNull(K5.GraphQLBoolean),description:"Deferred when true or undefined.",defaultValue:!0},label:{type:K5.GraphQLString,description:"Unique name"}}}),Lx8=new K5.GraphQLDirective({name:"stream",description:"Directs the executor to stream plural fields when the `if` argument is true or undefined.",locations:[K5.DirectiveLocation.FIELD],args:{if:{type:new K5.GraphQLNonNull(K5.GraphQLBoolean),description:"Stream when true or undefined.",defaultValue:!0},label:{type:K5.GraphQLString,description:"Unique name"},initialCount:{defaultValue:0,type:K5.GraphQLInt,description:"Number of items to return immediately"}}})});function WL(Y,J,X,Z,W,$,G,Q){for(let U of W.selections)switch(U.kind){case r5.Kind.FIELD:{if(!vJ1(X,U))continue;$.add($c6(U),U);break}case r5.Kind.INLINE_FRAGMENT:{if(!vJ1(X,U)||!ay0(Y,U,Z))continue;let z=sy0(X,U);if(z){let H=new ZL;WL(Y,J,X,Z,U.selectionSet,H,G,Q),G.push({label:z.label,fields:H})}else WL(Y,J,X,Z,U.selectionSet,$,G,Q);break}case r5.Kind.FRAGMENT_SPREAD:{let z=U.name.value;if(!vJ1(X,U))continue;let H=sy0(X,U);if(Q.has(z)&&!H)continue;let O=J[z];if(!O||!ay0(Y,O,Z))continue;if(!H)Q.add(z);if(H){let K=new ZL;WL(Y,J,X,Z,O.selectionSet,K,G,Q),G.push({label:H.label,fields:K})}else WL(Y,J,X,Z,O.selectionSet,$,G,Q);break}}}function vJ1(Y,J){if(r5.getDirectiveValues(r5.GraphQLSkipDirective,J,Y)?.if===!0)return!1;if(r5.getDirectiveValues(r5.GraphQLIncludeDirective,J,Y)?.if===!1)return!1;return!0}function ay0(Y,J,X){let Z=J.typeCondition;if(!Z)return!0;let W=r5.typeFromAST(Y,Z);if(W===X)return!0;if(r5.isAbstractType(W))return Y.getPossibleTypes(W).includes(X);return!1}function $c6(Y){return Y.alias?Y.alias.value:Y.name.value}function sy0(Y,J){let X=r5.getDirectiveValues(ry0,J,Y);if(!X)return;if(X.if===!1)return;return{label:typeof X.label==="string"?X.label:void 0}}var r5,Nx8;var ty0=w(()=>{oy0();fJ1();r5=q1(f1(),1);Nx8=Hy0(function(J,X,Z,W,$){let G=new ZL,Q=new Set,U=[],z={fields:G,patches:U};for(let H of $)if(H.selectionSet)WL(J,X,Z,W,H.selectionSet,G,U,Q);return z})});function Gc6(Y,J){let X=ey0.getOperationAST(Y,J);if(!X)throw Error(`Cannot infer operation ${J||""}`);return X}var ey0,jx8;var Yg0=w(()=>{ey0=q1(f1(),1);jx8=sZ(function(J){return Gc6(J.document,J.operationName)})});var Jg0=()=>{};function Xg0(Y){return Y?.[Symbol.asyncIterator]!=null}var Zg0=()=>{};var Wg0=()=>{};var yx8;var $g0=w(()=>{yx8=zy0(function(J,X){return function(...W){return Reflect.apply(X,J,W)}})});var Gg0=()=>{};var Qg0=()=>{};var Ug0=()=>{};var zg0=()=>{};function Uc6(Y,J){if(Y.aborted){J();return}Qc6(Y).add(J)}var Qc6,nx8;var Hg0=w(()=>{z4();Qc6=sZ(function(J){let X=new Set;return J.addEventListener("abort",(Z)=>{for(let W of X)W(Z)},{once:!0}),X});nx8=sZ(function(J){if(J.aborted)return s9(J.reason);return new Promise((X,Z)=>{if(J.aborted){Z(J.reason);return}Uc6(J,()=>{Z(J.reason)})})})});var kY=w(()=>{Wy0();$y0();Ky0();xJ1();By0();Iy0();xJ1();Dy0();wy0();Ey0();Ty0();Ny0();fy0();vy0();hy0();by0();yy0();xy0();gy0();ky0();uy0();my0();Cy0();jy0();dy0();cy0();ly0();_y0();py0();qy0();ny0();Gy0();iy0();Jg0();Uy0();Zg0();Fy0();Wg0();$g0();Vy0();My0();ty0();Gg0();Yg0();Qg0();Qy0();fJ1();Ug0();zg0();Oy0();Hg0()});function zc6(Y){return Y!=null&&typeof Y==="object"&&"errors"in Y}function Hc6(Y){return Y!=null&&typeof Y.toString==="function"}function x3(Y){return Y instanceof hJ1.GraphQLError}function ix(Y){if(Y instanceof hJ1.GraphQLError){if(Y.originalError!=null)return ix(Y.originalError);return!0}return!1}function bJ1(Y){return typeof Y==="object"&&Y?.constructor?.name==="DOMException"&&(Y.name==="AbortError"||Y.name==="TimeoutError")}function $L(Y,J,X){let Z=new Set;if(zc6(Y))for(let W of Y.errors){let $=$L(W,J,X);for(let G of $)Z.add(G)}else if(bJ1(Y))X.debug("Request aborted");else if(J){let W=J.maskError(Y,J.errorMessage,J.isDev);if(W!==Y)X.error(Y);Z.add(x3(W)?W:u0(W.message,{originalError:W}))}else if(x3(Y))Z.add(Y);else if(Y instanceof Error)Z.add(u0(Y.message,{originalError:Y}));else if(typeof Y==="string")Z.add(u0(Y,{extensions:{code:"INTERNAL_SERVER_ERROR",unexpected:!0}}));else if(Hc6(Y))Z.add(u0(Y.toString(),{extensions:{code:"INTERNAL_SERVER_ERROR",unexpected:!0}}));else X.error(Y),Z.add(u0("Unexpected error.",{extensions:{unexpected:!0}}));return Array.from(Z)}function Kq(Y,J={},X=!1){let Z,W=!1;if("extensions"in Y&&Y.extensions?.http){if(Y.extensions.http.headers)Object.assign(J,Y.extensions.http.headers);if(Y.extensions.http.status)Z=Y.extensions.http.status}if("errors"in Y&&Y.errors?.length){for(let $ of Y.errors)if($.extensions?.http){if($.extensions.http.headers)Object.assign(J,$.extensions.http.headers);if(X&&$.extensions.http.spec)continue;if($.extensions.http.status&&(!Z||$.extensions.http.status>Z))Z=$.extensions.http.status}else if(!ix($)||$.extensions?.unexpected)W=!0}else Z||=200;if(!Z)if(W&&!("data"in Y))Z=500;else Z=200;return{status:Z,headers:J}}function Og0(Y){return Array.isArray(Y)&&Y.length>0&&Y.some(x3)}var hJ1;var Ez=w(()=>{kY();hJ1=q1(f1(),1)});function Kg0(Y){return{onResponse({response:J}){qg0(J.headers,Y)}}}function Bg0(Y){return{onRequest({request:J}){qg0(J.headers,Y)}}}function qg0(Y,J){for(let X of Y.keys())if(!J.includes(X))Y.delete(X)}function yJ1(Y){let J=Y.get("operationName")||void 0,X=Y.get("query")||void 0,Z=Y.get("variables")||void 0,W=Y.get("extensions")||void 0;return{operationName:J,query:X,variables:Z?JSON.parse(Z):void 0,extensions:W?JSON.parse(W):void 0}}function Fg0(Y){let J=new Qq(Y);return yJ1(J)}function tZ(Y,J){let X=Y.headers.get("content-type");return X=X?.split(",")[0]||null,X===J||!!X?.startsWith(`${J};`)}var Bq=w(()=>{xx()});function Vg0(Y){return Y.method==="GET"}function Ig0(Y){let J=Y.url.substring(Y.url.indexOf("?")+1),X=new Qq(J);return yJ1(X)}var Dg0=w(()=>{xx();Bq()});function wg0(Y){return Y.method==="POST"&&tZ(Y,"application/x-www-form-urlencoded")}function Ag0(Y){return Y.text().then(Fg0)}var Pg0=w(()=>{Bq()});function Lg0(Y){return Y.method==="POST"&&tZ(Y,"application/graphql")}function Mg0(Y){return Y.text().then((J)=>({query:J}))}var Eg0=w(()=>{Bq()});function Rg0(Y){return Y.method==="POST"&&(tZ(Y,"application/json")||tZ(Y,"application/graphql+json"))}function Ng0(Y){return T1(()=>Y.json(),(J)=>{if(J==null)throw u0(`POST body is expected to be object but received ${J}`,{extensions:{http:{status:400},code:"BAD_REQUEST"}});let X=typeof J;if(X!=="object")throw u0(`POST body is expected to be object but received ${X}`,{extensions:{http:{status:400},code:"BAD_REQUEST"}});return J},(J)=>{if(J instanceof Tg0.GraphQLError)throw J;let X={http:{spec:!0,status:400},code:"BAD_REQUEST"};if(J instanceof Error)X.originalError={name:J.name,message:J.message};throw u0("POST body sent invalid JSON.",{extensions:X})})}var Tg0;var Sg0=w(()=>{kY();z4();Bq();Tg0=q1(f1(),1)});function Cg0(Y){return Y.method==="POST"&&tZ(Y,"multipart/form-data")}function jg0(Y){return T1(()=>Y.formData(),(J)=>{let X=J.get("operations");if(!X)throw u0('Missing multipart form field "operations"');if(typeof X!=="string")throw u0('Multipart form field "operations" must be a string');let Z;try{Z=JSON.parse(X)}catch{throw u0('Multipart form field "operations" must be a valid JSON string')}let W=J.get("map");if(W!=null){if(typeof W!=="string")throw u0('Multipart form field "map" must be a string');let $;try{$=JSON.parse(W)}catch{throw u0('Multipart form field "map" must be a valid JSON string')}for(let G in $){let Q=J.get(G),U=$[G];for(let z of U)Oc6(Z,z,Q)}}return Z},(J)=>{if(J instanceof Error&&J.message.startsWith("File size limit exceeded: "))throw u0(J.message,{extensions:{http:{status:413}}});throw J})}function Oc6(Y,J,X){let Z=J.split("."),W=Y;for(let $=0;$<Z.length;$++){let G=Z[$];if(G==="__proto__"||G==="constructor"||G==="prototype")return;if($===Z.length-1)W[G]=X;else{if(!(G in W))W[G]={};W=W[G]}}}var kg0=w(()=>{kY();z4();Bq()});function Bc6(Y,J){if(Y==null||typeof Y!=="object")throw u0('Invalid "params" in the request body',{extensions:{http:{spec:!0,status:400},code:"BAD_REQUEST"}});for(let X in Y){if(Y[X]==null)continue;if(!Kc6.has(X)){if(J?.includes(X))continue;throw u0(`Unexpected parameter "${X}" in the request body.`,{extensions:{http:{status:400},code:"BAD_REQUEST"}})}}}function qc6(Y,J){if(!Fc6(Y))throw u0(`Expected params to be an object but given ${GL(Y)}.`,{extensions:{http:{status:400,headers:{Allow:"GET, POST"}},code:"BAD_REQUEST"}});if(Bc6(Y,J),Y.query==null)throw u0("Must provide query string.",{extensions:{http:{spec:!0,status:400,headers:{Allow:"GET, POST"}},code:"BAD_REQUEST"}});let X=GL(Y.query);if(X!=="string")throw u0(`Expected "query" param to be a string, but given ${X}.`,{extensions:{http:{status:400,headers:{Allow:"GET, POST"}},code:"BAD_REQUEST"}});let Z=GL(Y.variables);if(!["object","null","undefined"].includes(Z))throw u0(`Expected "variables" param to be empty or an object, but given ${Z}.`,{extensions:{http:{status:400,headers:{Allow:"GET, POST"}},code:"BAD_REQUEST"}});let W=GL(Y.extensions);if(!["object","null","undefined"].includes(W))throw u0(`Expected "extensions" param to be empty or an object, but given ${W}.`,{extensions:{http:{status:400,headers:{Allow:"GET, POST"}},code:"BAD_REQUEST"}});return Y}function _g0(Y){return{onParams({params:J}){qc6(J,Y)}}}function GL(Y){if(Y===null)return"null";if(Array.isArray(Y))return"array";return typeof Y}function Fc6(Y){return GL(Y)==="object"}var Kc6;var xg0=w(()=>{kY();Kc6=new Set(["query","variables","operationName","extensions"])});function Vc6(Y){return Y==="GET"||Y==="POST"}function fg0(){return{onRequestParse({request:Y}){if(!Vc6(Y.method))throw u0("GraphQL only supports GET and POST requests.",{extensions:{http:{status:405,headers:{Allow:"GET, POST"}},code:"BAD_REQUEST"}})}}}var vg0=w(()=>{kY()});function hg0(){return{onValidate(){return({valid:Y,result:J})=>{if(!Y)for(let X of J)X.extensions||={},X.extensions.code||="GRAPHQL_VALIDATION_FAILED",X.extensions.http||={},X.extensions.http.spec=X.extensions.http.spec==null?!0:X.extensions.http.spec,X.extensions.http.status||=400}}}}function bg0(Y){return{onRequestParse(){return{onRequestParseDone({requestParserResult:J}){if(Array.isArray(J)){if(!Y)throw u0("Batching is not supported.",{extensions:{http:{status:400},code:"BAD_REQUEST"}});if(J.length>Y)throw u0(`Batching is limited to ${Y} operations per request.`,{extensions:{http:{status:413},code:"BAD_REQUEST"}})}}}}}}var yg0=w(()=>{kY()});function Ic6(Y,J,X){let Z=J?ox.getOperationAST(J,X)??void 0:void 0;if(!Z)throw u0("Could not determine what operation to execute.",{extensions:{code:"OPERATION_RESOLUTION_FAILURE",http:{status:400}}});if(Z.operation==="mutation"&&Y==="GET")throw u0("Can only perform a mutation operation from a POST request.",{extensions:{http:{status:405,headers:{Allow:"POST"}},code:"BAD_REQUEST"}})}function gg0(){return{onParse(){return({result:Y,context:{request:J,params:{operationName:X}={}}})=>{if(!J)return;if(Y instanceof Error){if(Y instanceof ox.GraphQLError){let Z=Y.extensions||={};Z.code||="GRAPHQL_PARSE_FAILED";let W=Z.http||={};W.spec||=!0,W.status||=400}}else Ic6(J.method,Y,X)}}}}var ox;var ug0=w(()=>{kY();ox=q1(f1(),1)});function mg0({id:Y=Date.now().toString(),logger:J=console,endpoint:X="/health"}={}){return{onRequest({endResponse:Z,fetchAPI:W,request:$}){if($.url.endsWith(X)){J.debug("Responding Health Check");let G=new W.Response(null,{status:200,headers:{"x-yoga-id":Y}});Z(G)}}}}class Fq{heap;length;static#W=!1;static create(Y){let J=pg0(Y);if(!J)return[];Fq.#W=!0;let X=new Fq(Y,J);return Fq.#W=!1,X}constructor(Y,J){if(!Fq.#W)throw TypeError("instantiate Stack using Stack.create(n)");this.heap=new J(Y),this.length=0}push(Y){this.heap[this.length++]=Y}pop(){return this.heap[--this.length]}}var qq,cg0,gJ1,lg0=(Y,J,X,Z)=>{typeof gJ1.emitWarning==="function"?gJ1.emitWarning(Y,J,X,Z):console.error(`[${X}] ${J}: ${Y}`)},rx,dg0,Dc6=(Y)=>!cg0.has(Y),Sv8,PG=(Y)=>Y&&Y===Math.floor(Y)&&Y>0&&isFinite(Y),pg0=(Y)=>!PG(Y)?null:Y<=Math.pow(2,8)?Uint8Array:Y<=Math.pow(2,16)?Uint16Array:Y<=Math.pow(2,32)?Uint32Array:Y<=Number.MAX_SAFE_INTEGER?QL:null,QL,ax;var ng0=w(()=>{qq=typeof performance==="object"&&performance&&typeof performance.now==="function"?performance:Date,cg0=new Set,gJ1=typeof process==="object"&&!!process?process:{},rx=globalThis.AbortController,dg0=globalThis.AbortSignal;if(typeof rx>"u"){dg0=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(Z,W){this._onabort.push(W)}},rx=class{constructor(){J()}signal=new dg0;abort(Z){if(this.signal.aborted)return;this.signal.reason=Z,this.signal.aborted=!0;for(let W of this.signal._onabort)W(Z);this.signal.onabort?.(Z)}};let Y=gJ1.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",J=()=>{if(!Y)return;Y=!1,lg0("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",J)}}Sv8=Symbol("type");QL=class QL extends Array{constructor(Y){super(Y);this.fill(0)}};ax=class ax{#W;#Z;#G;#X;#F;#T;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#z;#w;#$;#U;#Y;#Q;#J;#B;#q;#H;#O;#M;#I;#A;#E;#L;#V;static unsafeExposeInternals(Y){return{starts:Y.#I,ttls:Y.#A,sizes:Y.#M,keyMap:Y.#$,keyList:Y.#U,valList:Y.#Y,next:Y.#Q,prev:Y.#J,get head(){return Y.#B},get tail(){return Y.#q},free:Y.#H,isBackgroundFetch:(J)=>Y.#K(J),backgroundFetch:(J,X,Z,W)=>Y.#x(J,X,Z,W),moveToTail:(J)=>Y.#b(J),indexes:(J)=>Y.#v(J),rindexes:(J)=>Y.#_(J),isStale:(J)=>Y.#S(J)}}get max(){return this.#W}get maxSize(){return this.#Z}get calculatedSize(){return this.#w}get size(){return this.#z}get fetchMethod(){return this.#F}get memoMethod(){return this.#T}get dispose(){return this.#G}get disposeAfter(){return this.#X}constructor(Y){let{max:J=0,ttl:X,ttlResolution:Z=1,ttlAutopurge:W,updateAgeOnGet:$,updateAgeOnHas:G,allowStale:Q,dispose:U,disposeAfter:z,noDisposeOnSet:H,noUpdateTTL:O,maxSize:K=0,maxEntrySize:B=0,sizeCalculation:F,fetchMethod:V,memoMethod:I,noDeleteOnFetchRejection:D,noDeleteOnStaleGet:L,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:P,ignoreFetchAbort:R}=Y;if(J!==0&&!PG(J))throw TypeError("max option must be a nonnegative integer");let N=J?pg0(J):Array;if(!N)throw Error("invalid max value: "+J);if(this.#W=J,this.#Z=K,this.maxEntrySize=B||this.#Z,this.sizeCalculation=F,this.sizeCalculation){if(!this.#Z&&!this.maxEntrySize)throw TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!=="function")throw TypeError("sizeCalculation set to non-function")}if(I!==void 0&&typeof I!=="function")throw TypeError("memoMethod must be a function if defined");if(this.#T=I,V!==void 0&&typeof V!=="function")throw TypeError("fetchMethod must be a function if specified");if(this.#F=V,this.#L=!!V,this.#$=new Map,this.#U=Array(J).fill(void 0),this.#Y=Array(J).fill(void 0),this.#Q=new N(J),this.#J=new N(J),this.#B=0,this.#q=0,this.#H=Fq.create(J),this.#z=0,this.#w=0,typeof U==="function")this.#G=U;if(typeof z==="function")this.#X=z,this.#O=[];else this.#X=void 0,this.#O=void 0;if(this.#E=!!this.#G,this.#V=!!this.#X,this.noDisposeOnSet=!!H,this.noUpdateTTL=!!O,this.noDeleteOnFetchRejection=!!D,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!P,this.ignoreFetchAbort=!!R,this.maxEntrySize!==0){if(this.#Z!==0){if(!PG(this.#Z))throw TypeError("maxSize must be a positive integer if specified")}if(!PG(this.maxEntrySize))throw TypeError("maxEntrySize must be a positive integer if specified");this.#N()}if(this.allowStale=!!Q,this.noDeleteOnStaleGet=!!L,this.updateAgeOnGet=!!$,this.updateAgeOnHas=!!G,this.ttlResolution=PG(Z)||Z===0?Z:1,this.ttlAutopurge=!!W,this.ttl=X||0,this.ttl){if(!PG(this.ttl))throw TypeError("ttl must be a positive integer if specified");this.#R()}if(this.#W===0&&this.ttl===0&&this.#Z===0)throw TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#W&&!this.#Z){if(Dc6("LRU_CACHE_UNBOUNDED"))cg0.add("LRU_CACHE_UNBOUNDED"),lg0("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning","LRU_CACHE_UNBOUNDED",ax)}}getRemainingTTL(Y){return this.#$.has(Y)?1/0:0}#R(){let Y=new QL(this.#W),J=new QL(this.#W);this.#A=Y,this.#I=J,this.#h=(W,$,G=qq.now())=>{if(J[W]=$!==0?G:0,Y[W]=$,$!==0&&this.ttlAutopurge){let Q=setTimeout(()=>{if(this.#S(W))this.#f(this.#U[W],"expire")},$+1);if(Q.unref)Q.unref()}},this.#k=(W)=>{J[W]=Y[W]!==0?qq.now():0},this.#P=(W,$)=>{if(Y[$]){let G=Y[$],Q=J[$];if(!G||!Q)return;W.ttl=G,W.start=Q,W.now=X||Z();let U=W.now-Q;W.remainingTTL=G-U}};let X=0,Z=()=>{let W=qq.now();if(this.ttlResolution>0){X=W;let $=setTimeout(()=>X=0,this.ttlResolution);if($.unref)$.unref()}return W};this.getRemainingTTL=(W)=>{let $=this.#$.get(W);if($===void 0)return 0;let G=Y[$],Q=J[$];if(!G||!Q)return 1/0;let U=(X||Z())-Q;return G-U},this.#S=(W)=>{let $=J[W],G=Y[W];return!!G&&!!$&&(X||Z())-$>G}}#k=()=>{};#P=()=>{};#h=()=>{};#S=()=>!1;#N(){let Y=new QL(this.#W);this.#w=0,this.#M=Y,this.#C=(J)=>{this.#w-=Y[J],Y[J]=0},this.#j=(J,X,Z,W)=>{if(this.#K(X))return 0;if(!PG(Z))if(W){if(typeof W!=="function")throw TypeError("sizeCalculation must be a function");if(Z=W(X,J),!PG(Z))throw TypeError("sizeCalculation return invalid (expect positive integer)")}else throw TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return Z},this.#g=(J,X,Z)=>{if(Y[J]=X,this.#Z){let W=this.#Z-Y[J];while(this.#w>W)this.#m(!0)}if(this.#w+=Y[J],Z)Z.entrySize=X,Z.totalCalculatedSize=this.#w}}#C=(Y)=>{};#g=(Y,J,X)=>{};#j=(Y,J,X,Z)=>{if(X||Z)throw TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#v({allowStale:Y=this.allowStale}={}){if(this.#z)for(let J=this.#q;;){if(!this.#u(J))break;if(Y||!this.#S(J))yield J;if(J===this.#B)break;else J=this.#J[J]}}*#_({allowStale:Y=this.allowStale}={}){if(this.#z)for(let J=this.#B;;){if(!this.#u(J))break;if(Y||!this.#S(J))yield J;if(J===this.#q)break;else J=this.#Q[J]}}#u(Y){return Y!==void 0&&this.#$.get(this.#U[Y])===Y}*entries(){for(let Y of this.#v())if(this.#Y[Y]!==void 0&&this.#U[Y]!==void 0&&!this.#K(this.#Y[Y]))yield[this.#U[Y],this.#Y[Y]]}*rentries(){for(let Y of this.#_())if(this.#Y[Y]!==void 0&&this.#U[Y]!==void 0&&!this.#K(this.#Y[Y]))yield[this.#U[Y],this.#Y[Y]]}*keys(){for(let Y of this.#v()){let J=this.#U[Y];if(J!==void 0&&!this.#K(this.#Y[Y]))yield J}}*rkeys(){for(let Y of this.#_()){let J=this.#U[Y];if(J!==void 0&&!this.#K(this.#Y[Y]))yield J}}*values(){for(let Y of this.#v())if(this.#Y[Y]!==void 0&&!this.#K(this.#Y[Y]))yield this.#Y[Y]}*rvalues(){for(let Y of this.#_())if(this.#Y[Y]!==void 0&&!this.#K(this.#Y[Y]))yield this.#Y[Y]}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(Y,J={}){for(let X of this.#v()){let Z=this.#Y[X],W=this.#K(Z)?Z.__staleWhileFetching:Z;if(W===void 0)continue;if(Y(W,this.#U[X],this))return this.get(this.#U[X],J)}}forEach(Y,J=this){for(let X of this.#v()){let Z=this.#Y[X],W=this.#K(Z)?Z.__staleWhileFetching:Z;if(W===void 0)continue;Y.call(J,W,this.#U[X],this)}}rforEach(Y,J=this){for(let X of this.#_()){let Z=this.#Y[X],W=this.#K(Z)?Z.__staleWhileFetching:Z;if(W===void 0)continue;Y.call(J,W,this.#U[X],this)}}purgeStale(){let Y=!1;for(let J of this.#_({allowStale:!0}))if(this.#S(J))this.#f(this.#U[J],"expire"),Y=!0;return Y}info(Y){let J=this.#$.get(Y);if(J===void 0)return;let X=this.#Y[J],Z=this.#K(X)?X.__staleWhileFetching:X;if(Z===void 0)return;let W={value:Z};if(this.#A&&this.#I){let $=this.#A[J],G=this.#I[J];if($&&G){let Q=$-(qq.now()-G);W.ttl=Q,W.start=Date.now()}}if(this.#M)W.size=this.#M[J];return W}dump(){let Y=[];for(let J of this.#v({allowStale:!0})){let X=this.#U[J],Z=this.#Y[J],W=this.#K(Z)?Z.__staleWhileFetching:Z;if(W===void 0||X===void 0)continue;let $={value:W};if(this.#A&&this.#I){$.ttl=this.#A[J];let G=qq.now()-this.#I[J];$.start=Math.floor(Date.now()-G)}if(this.#M)$.size=this.#M[J];Y.unshift([X,$])}return Y}load(Y){this.clear();for(let[J,X]of Y){if(X.start){let Z=Date.now()-X.start;X.start=qq.now()-Z}this.set(J,X.value,X)}}set(Y,J,X={}){if(J===void 0)return this.delete(Y),this;let{ttl:Z=this.ttl,start:W,noDisposeOnSet:$=this.noDisposeOnSet,sizeCalculation:G=this.sizeCalculation,status:Q}=X,{noUpdateTTL:U=this.noUpdateTTL}=X,z=this.#j(Y,J,X.size||0,G);if(this.maxEntrySize&&z>this.maxEntrySize){if(Q)Q.set="miss",Q.maxEntrySizeExceeded=!0;return this.#f(Y,"set"),this}let H=this.#z===0?void 0:this.#$.get(Y);if(H===void 0){if(H=this.#z===0?this.#q:this.#H.length!==0?this.#H.pop():this.#z===this.#W?this.#m(!1):this.#z,this.#U[H]=Y,this.#Y[H]=J,this.#$.set(Y,H),this.#Q[this.#q]=H,this.#J[H]=this.#q,this.#q=H,this.#z++,this.#g(H,z,Q),Q)Q.set="add";U=!1}else{this.#b(H);let O=this.#Y[H];if(J!==O){if(this.#L&&this.#K(O)){O.__abortController.abort(Error("replaced"));let{__staleWhileFetching:K}=O;if(K!==void 0&&!$){if(this.#E)this.#G?.(K,Y,"set");if(this.#V)this.#O?.push([K,Y,"set"])}}else if(!$){if(this.#E)this.#G?.(O,Y,"set");if(this.#V)this.#O?.push([O,Y,"set"])}if(this.#C(H),this.#g(H,z,Q),this.#Y[H]=J,Q){Q.set="replace";let K=O&&this.#K(O)?O.__staleWhileFetching:O;if(K!==void 0)Q.oldValue=K}}else if(Q)Q.set="update"}if(Z!==0&&!this.#A)this.#R();if(this.#A){if(!U)this.#h(H,Z,W);if(Q)this.#P(Q,H)}if(!$&&this.#V&&this.#O){let O=this.#O,K;while(K=O?.shift())this.#X?.(...K)}return this}pop(){try{while(this.#z){let Y=this.#Y[this.#B];if(this.#m(!0),this.#K(Y)){if(Y.__staleWhileFetching)return Y.__staleWhileFetching}else if(Y!==void 0)return Y}}finally{if(this.#V&&this.#O){let Y=this.#O,J;while(J=Y?.shift())this.#X?.(...J)}}}#m(Y){let J=this.#B,X=this.#U[J],Z=this.#Y[J];if(this.#L&&this.#K(Z))Z.__abortController.abort(Error("evicted"));else if(this.#E||this.#V){if(this.#E)this.#G?.(Z,X,"evict");if(this.#V)this.#O?.push([Z,X,"evict"])}if(this.#C(J),Y)this.#U[J]=void 0,this.#Y[J]=void 0,this.#H.push(J);if(this.#z===1)this.#B=this.#q=0,this.#H.length=0;else this.#B=this.#Q[J];return this.#$.delete(X),this.#z--,J}has(Y,J={}){let{updateAgeOnHas:X=this.updateAgeOnHas,status:Z}=J,W=this.#$.get(Y);if(W!==void 0){let $=this.#Y[W];if(this.#K($)&&$.__staleWhileFetching===void 0)return!1;if(!this.#S(W)){if(X)this.#k(W);if(Z)Z.has="hit",this.#P(Z,W);return!0}else if(Z)Z.has="stale",this.#P(Z,W)}else if(Z)Z.has="miss";return!1}peek(Y,J={}){let{allowStale:X=this.allowStale}=J,Z=this.#$.get(Y);if(Z===void 0||!X&&this.#S(Z))return;let W=this.#Y[Z];return this.#K(W)?W.__staleWhileFetching:W}#x(Y,J,X,Z){let W=J===void 0?void 0:this.#Y[J];if(this.#K(W))return W;let $=new rx,{signal:G}=X;G?.addEventListener("abort",()=>$.abort(G.reason),{signal:$.signal});let Q={signal:$.signal,options:X,context:Z},U=(F,V=!1)=>{let{aborted:I}=$.signal,D=X.ignoreFetchAbort&&F!==void 0;if(X.status)if(I&&!V){if(X.status.fetchAborted=!0,X.status.fetchError=$.signal.reason,D)X.status.fetchAbortIgnored=!0}else X.status.fetchResolved=!0;if(I&&!D&&!V)return H($.signal.reason);let L=K;if(this.#Y[J]===K)if(F===void 0)if(L.__staleWhileFetching)this.#Y[J]=L.__staleWhileFetching;else this.#f(Y,"fetch");else{if(X.status)X.status.fetchUpdated=!0;this.set(Y,F,Q.options)}return F},z=(F)=>{if(X.status)X.status.fetchRejected=!0,X.status.fetchError=F;return H(F)},H=(F)=>{let{aborted:V}=$.signal,I=V&&X.allowStaleOnFetchAbort,D=I||X.allowStaleOnFetchRejection,L=D||X.noDeleteOnFetchRejection,A=K;if(this.#Y[J]===K){if(!L||A.__staleWhileFetching===void 0)this.#f(Y,"fetch");else if(!I)this.#Y[J]=A.__staleWhileFetching}if(D){if(X.status&&A.__staleWhileFetching!==void 0)X.status.returnedStale=!0;return A.__staleWhileFetching}else if(A.__returned===A)throw F},O=(F,V)=>{let I=this.#F?.(Y,W,Q);if(I&&I instanceof Promise)I.then((D)=>F(D===void 0?void 0:D),V);$.signal.addEventListener("abort",()=>{if(!X.ignoreFetchAbort||X.allowStaleOnFetchAbort){if(F(void 0),X.allowStaleOnFetchAbort)F=(D)=>U(D,!0)}})};if(X.status)X.status.fetchDispatched=!0;let K=new Promise(O).then(U,z),B=Object.assign(K,{__abortController:$,__staleWhileFetching:W,__returned:void 0});if(J===void 0)this.set(Y,B,{...Q.options,status:void 0}),J=this.#$.get(Y);else this.#Y[J]=B;return B}#K(Y){if(!this.#L)return!1;let J=Y;return!!J&&J instanceof Promise&&J.hasOwnProperty("__staleWhileFetching")&&J.__abortController instanceof rx}async fetch(Y,J={}){let{allowStale:X=this.allowStale,updateAgeOnGet:Z=this.updateAgeOnGet,noDeleteOnStaleGet:W=this.noDeleteOnStaleGet,ttl:$=this.ttl,noDisposeOnSet:G=this.noDisposeOnSet,size:Q=0,sizeCalculation:U=this.sizeCalculation,noUpdateTTL:z=this.noUpdateTTL,noDeleteOnFetchRejection:H=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:O=this.allowStaleOnFetchRejection,ignoreFetchAbort:K=this.ignoreFetchAbort,allowStaleOnFetchAbort:B=this.allowStaleOnFetchAbort,context:F,forceRefresh:V=!1,status:I,signal:D}=J;if(!this.#L){if(I)I.fetch="get";return this.get(Y,{allowStale:X,updateAgeOnGet:Z,noDeleteOnStaleGet:W,status:I})}let L={allowStale:X,updateAgeOnGet:Z,noDeleteOnStaleGet:W,ttl:$,noDisposeOnSet:G,size:Q,sizeCalculation:U,noUpdateTTL:z,noDeleteOnFetchRejection:H,allowStaleOnFetchRejection:O,allowStaleOnFetchAbort:B,ignoreFetchAbort:K,status:I,signal:D},A=this.#$.get(Y);if(A===void 0){if(I)I.fetch="miss";let P=this.#x(Y,A,L,F);return P.__returned=P}else{let P=this.#Y[A];if(this.#K(P)){let M=X&&P.__staleWhileFetching!==void 0;if(I){if(I.fetch="inflight",M)I.returnedStale=!0}return M?P.__staleWhileFetching:P.__returned=P}let R=this.#S(A);if(!V&&!R){if(I)I.fetch="hit";if(this.#b(A),Z)this.#k(A);if(I)this.#P(I,A);return P}let N=this.#x(Y,A,L,F),j=N.__staleWhileFetching!==void 0&&X;if(I){if(I.fetch=R?"stale":"refresh",j&&R)I.returnedStale=!0}return j?N.__staleWhileFetching:N.__returned=N}}async forceFetch(Y,J={}){let X=await this.fetch(Y,J);if(X===void 0)throw Error("fetch() returned undefined");return X}memo(Y,J={}){let X=this.#T;if(!X)throw Error("no memoMethod provided to constructor");let{context:Z,forceRefresh:W,...$}=J,G=this.get(Y,$);if(!W&&G!==void 0)return G;let Q=X(Y,G,{options:$,context:Z});return this.set(Y,Q,$),Q}get(Y,J={}){let{allowStale:X=this.allowStale,updateAgeOnGet:Z=this.updateAgeOnGet,noDeleteOnStaleGet:W=this.noDeleteOnStaleGet,status:$}=J,G=this.#$.get(Y);if(G!==void 0){let Q=this.#Y[G],U=this.#K(Q);if($)this.#P($,G);if(this.#S(G)){if($)$.get="stale";if(!U){if(!W)this.#f(Y,"expire");if($&&X)$.returnedStale=!0;return X?Q:void 0}else{if($&&X&&Q.__staleWhileFetching!==void 0)$.returnedStale=!0;return X?Q.__staleWhileFetching:void 0}}else{if($)$.get="hit";if(U)return Q.__staleWhileFetching;if(this.#b(G),Z)this.#k(G);return Q}}else if($)$.get="miss"}#d(Y,J){this.#J[J]=Y,this.#Q[Y]=J}#b(Y){if(Y!==this.#q){if(Y===this.#B)this.#B=this.#Q[Y];else this.#d(this.#J[Y],this.#Q[Y]);this.#d(this.#q,Y),this.#q=Y}}delete(Y){return this.#f(Y,"delete")}#f(Y,J){let X=!1;if(this.#z!==0){let Z=this.#$.get(Y);if(Z!==void 0)if(X=!0,this.#z===1)this.#D(J);else{this.#C(Z);let W=this.#Y[Z];if(this.#K(W))W.__abortController.abort(Error("deleted"));else if(this.#E||this.#V){if(this.#E)this.#G?.(W,Y,J);if(this.#V)this.#O?.push([W,Y,J])}if(this.#$.delete(Y),this.#U[Z]=void 0,this.#Y[Z]=void 0,Z===this.#q)this.#q=this.#J[Z];else if(Z===this.#B)this.#B=this.#Q[Z];else{let $=this.#J[Z];this.#Q[$]=this.#Q[Z];let G=this.#Q[Z];this.#J[G]=this.#J[Z]}this.#z--,this.#H.push(Z)}}if(this.#V&&this.#O?.length){let Z=this.#O,W;while(W=Z?.shift())this.#X?.(...W)}return X}clear(){return this.#D("delete")}#D(Y){for(let J of this.#_({allowStale:!0})){let X=this.#Y[J];if(this.#K(X))X.__abortController.abort(Error("deleted"));else{let Z=this.#U[J];if(this.#E)this.#G?.(X,Z,Y);if(this.#V)this.#O?.push([X,Z,Y])}}if(this.#$.clear(),this.#Y.fill(void 0),this.#U.fill(void 0),this.#A&&this.#I)this.#A.fill(0),this.#I.fill(0);if(this.#M)this.#M.fill(0);if(this.#B=0,this.#q=0,this.#H.length=0,this.#w=0,this.#z=0,this.#V&&this.#O){let J=this.#O,X;while(X=J?.shift())this.#X?.(...X)}}}});function sx({max:Y=wc6,ttl:J=Ac6}={}){return new ax({max:Y,ttl:J})}var wc6=1024,Ac6=3600000;var ig0=w(()=>{ng0()});function og0({documentCache:Y=sx(),errorCache:J=sx(),validationCache:X=!0}){let Z=sx();return{onParse({params:W,setParsedDocument:$}){let G=W.source.toString(),Q=Y.get(G);if(Q){$(Q);return}let U=J.get(G);if(U)throw U;return({result:z})=>{if(z!=null)if(z instanceof Error)J.set(G,z);else Y.set(G,z)}},onValidate({params:{schema:W,documentAST:$,rules:G},setResult:Q}){if(W==null)return;if(X!==!1){let U=G?.map((K)=>K.name).join(",")||"",z=Z.get(U);if(!z)z=new WeakMap,Z.set(U,z);let H=z.get(W);if(!H)H=new WeakMap,z.set(W,H);let O=H.get($);if(O){Q(O);return}return({result:K})=>{if(K!=null)H?.set($,K)}}}}}var rg0=w(()=>{ig0()});function Vq(Y){let J=Y.match||Pc6;return{onRequestParse({request:X,setRequestParser:Z}){if(J(X))Z(Y.parse)}}}var Pc6=()=>!0;function ag0(Y){let J=(Y.headers.get("accept")||"*/*").replace(/\s/g,"").toLowerCase().split(","),X=[];for(let Z of J){let[W,...$]=Z.split(";");if(W===void 0)continue;if(($?.find((Q)=>Q.includes("charset="))||"charset=utf-8")!=="charset=utf-8")continue;X.push(W)}return X.reverse()}function sg0(Y,J){let[X,Z]=Y.split("/"),[W,$]=J.split("/");if((W==="*"||W===X)&&($==="*"||$===Z))return!0;return!1}function Iq(Y){if(Array.isArray(Y))return`[${Y.map((Z)=>{let W=tg0(Z);return(Z.stringify||JSON.stringify)(W)}).join(",")}]`;let J=tg0(Y);return(Y.stringify||JSON.stringify)(J)}function tg0(Y){if(Y.errors?.length||Y.extensions?.http){let J={...Y};if(J.errors&&=J.errors.map(eg0),J.extensions){let{http:X,...Z}=Y.extensions;J.extensions=Object.keys(Z).length?Z:void 0}return J}return Y}function eg0(Y){if(x3(Y)){let J="toJSON"in Y&&typeof Y.toJSON==="function"?Y.toJSON():Object(Y),{http:X,unexpected:Z,...W}=J.extensions||{};return u0(Y.message,{nodes:Y.nodes,source:Y.source,positions:Y.positions,path:Y.path,originalError:eg0(Y.originalError||void 0),extensions:Object.keys(W).length?W:void 0,coordinate:nx(Y)})}return Y}var tx=w(()=>{kY();Ez()});function Yu0(Y,J){let Z=Kq(Y,{Connection:"keep-alive","Content-Type":'multipart/mixed; boundary="-"',"Transfer-Encoding":"chunked"}),W,$=new J.TextEncoder,G=new J.ReadableStream({start(Q){if(U5(Y))W=Y[Symbol.asyncIterator]();else{let U=!1;W={next:()=>{if(U)return Q4({done:!0,value:null});return U=!0,Q4({done:!1,value:Y})}}}Q.enqueue($.encode(`\r
`)),Q.enqueue($.encode("---"))},pull(Q){return T1(()=>W.next(),({done:U,value:z})=>{if(z!=null){Q.enqueue($.encode(`\r
`)),Q.enqueue($.encode("Content-Type: application/json; charset=utf-8")),Q.enqueue($.encode(`\r
`));let H=Iq(z),O=$.encode(H);Q.enqueue($.encode("Content-Length: "+O.byteLength)),Q.enqueue($.encode(`\r
`)),Q.enqueue($.encode(`\r
`)),Q.enqueue(O),Q.enqueue($.encode(`\r
`)),Q.enqueue($.encode("---"))}if(U)Q.enqueue($.encode(`--\r
`)),Q.close()},(U)=>{Q.error(U)})},cancel(Q){if(W.return)return T1(()=>W.return?.(Q),()=>{})}});return new J.Response(G,Z)}var Ju0=w(()=>{Hz();z4();px();Ez();tx()});function Xu0(Y,J,X){if(Xg0(Y))return new J.Response(null,{status:406,statusText:"Not Acceptable",headers:{accept:"application/json; charset=utf-8, application/graphql-response+json; charset=utf-8"}});let Z={"Content-Type":X+"; charset=utf-8"},W=Kq(Y,Z,X==="application/json"&&!Array.isArray(Y)&&Og0(Y.errors)&&Y.errors.some((G)=>!G.extensions?.originalError||x3(G.extensions.originalError))),$=Iq(Y);return new J.Response($,W)}var Zu0=w(()=>{kY();Ez();tx()});function Wu0(){return function(J,X){let Z=12000;if(globalThis.process?.env?.NODE_ENV==="test")Z=300;let $=Kq(J,{"Content-Type":"text/event-stream",Connection:"keep-alive","Cache-Control":"no-cache","Content-Encoding":"none"},!0),G,Q,U=new X.TextEncoder,z=new X.ReadableStream({start(H){if(H.enqueue(U.encode(`:

`)),Q=setInterval(()=>{if(!H.desiredSize){clearInterval(Q);return}H.enqueue(U.encode(`:

`))},Z),U5(J))G=J[Symbol.asyncIterator]();else{let O=!1;G={next:()=>{if(O)return Q4({done:!0,value:null});return O=!0,Q4({done:!1,value:J})}}}},pull(H){return T1(()=>G.next(),(O)=>{if(O.value!=null){H.enqueue(U.encode(`event: next
`));let K=Iq(O.value);H.enqueue(U.encode(`data: ${K}

`))}if(O.done)H.enqueue(U.encode(`event: complete
`)),H.enqueue(U.encode(`data:

`)),clearInterval(Q),H.close()},(O)=>{H.error(O)})},cancel(H){if(clearInterval(Q),G.return)return T1(()=>G.return?.(H),()=>{})}});return new X.Response(z,$)}}var $u0=w(()=>{Hz();z4();px();Ez();tx()});function Mc6(){return{mediaTypes:["text/event-stream"],asyncIterables:!0,processResult:Wu0()}}function Qu0(){let Y=new WeakMap,J=Mc6(),X=[J,Lc6,Gu0],Z=[J,Gu0];return{onSubscribe({args:{contextValue:W}}){if(W.request)Y.set(W.request,!0)},onResultProcess({request:W,result:$,acceptableMediaTypes:G,setResultProcessor:Q}){let z=Y.get(W)?Z:X,H=ag0(W),O=U5($);for(let K of z)for(let B of H){if(O&&!K.asyncIterables)continue;for(let F of K.mediaTypes)if(G.push(F),sg0(F,B))Q(K.processResult,F)}}}}var Lc6,Gu0;var Uu0=w(()=>{Hz();Ju0();Zu0();$u0();Lc6={mediaTypes:["multipart/mixed"],asyncIterables:!0,processResult:Yu0};Gu0={mediaTypes:["application/graphql-response+json","application/json"],asyncIterables:!1,processResult:Xu0}});var zu0="<!doctype html><html lang=en><head><meta charset=utf-8><title>Welcome to GraphQL Yoga</title><link rel=icon href=https://raw.githubusercontent.com/graphql-hive/graphql-yoga/refs/heads/main/website/src/app/favicon.ico><style>body,html{padding:0;margin:0;height:100%;font-family:Inter,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',sans-serif;color:#fff;background-color:#000}main>section.hero{display:flex;height:90vh;justify-content:center;align-items:center;flex-direction:column}.logo{display:flex;align-items:center}.buttons{margin-top:24px}h1{font-size:80px}h2{color:#888;max-width:50%;margin-top:0;text-align:center}a{color:#fff;text-decoration:none;margin-left:10px;margin-right:10px;font-weight:700;transition:color .3s ease;padding:4px;overflow:visible}a.graphiql:hover{color:rgba(255,0,255,.7)}a.docs:hover{color:rgba(28,200,238,.7)}a.tutorial:hover{color:rgba(125,85,245,.7)}svg{margin-right:24px}.not-what-your-looking-for{margin-top:5vh}.not-what-your-looking-for>*{margin-left:auto;margin-right:auto}.not-what-your-looking-for>p{text-align:center}.not-what-your-looking-for>h2{color:#464646}.not-what-your-looking-for>p{max-width:600px;line-height:1.3em}.not-what-your-looking-for>pre{max-width:300px}</style></head><body id=body><main><section class=hero><div class=logo><div><svg xmlns=http://www.w3.org/2000/svg viewBox=\"-0.41 0.445 472.812 499.811\" height=150><defs><linearGradient id=paint0_linear_1677_11483 x1=16 y1=14 x2=87.2132 y2=44.5982 gradientUnits=userSpaceOnUse gradientTransform=\"matrix(8.139854, 0, 0, 8.139854, -130.346407, -113.25101)\"><stop stop-color=#7433FF /><stop offset=1 stop-color=#FFA3FD /></linearGradient><linearGradient id=paint1_linear_1677_11483 x1=16 y1=14 x2=87.2132 y2=44.5982 gradientUnits=userSpaceOnUse gradientTransform=\"matrix(8.139854, 0, 0, 8.139854, -130.346407, -113.25101)\"><stop stop-color=#7433FF /><stop offset=1 stop-color=#FFA3FD /></linearGradient><linearGradient id=paint2_linear_1677_11483 x1=16 y1=14 x2=87.2132 y2=44.5982 gradientUnits=userSpaceOnUse gradientTransform=\"matrix(8.139854, 0, 0, 8.139854, -130.346407, -113.25101)\"><stop stop-color=#7433FF /><stop offset=1 stop-color=#FFA3FD /></linearGradient><linearGradient id=paint3_linear_1677_11483 x1=16 y1=14 x2=87.2132 y2=44.5982 gradientUnits=userSpaceOnUse><stop stop-color=#7433FF /><stop offset=1 stop-color=#FFA3FD /></linearGradient><linearGradient id=paint4_linear_1677_11483 x1=16 y1=14 x2=87.2132 y2=44.5982 gradientUnits=userSpaceOnUse><stop stop-color=#7433FF /><stop offset=1 stop-color=#FFA3FD /></linearGradient><linearGradient id=paint5_linear_1677_11483 x1=16 y1=14 x2=87.2132 y2=44.5982 gradientUnits=userSpaceOnUse><stop stop-color=#7433FF /><stop offset=1 stop-color=#FFA3FD /></linearGradient><filter id=filter0_f_1677_11483 x=23 y=-25 width=100 height=100 filterUnits=userSpaceOnUse color-interpolation-filters=sRGB><feFlood flood-opacity=0 result=BackgroundImageFix /><feBlend mode=normal in=SourceGraphic in2=BackgroundImageFix result=shape /><feGaussianBlur stdDeviation=12 result=effect1_foregroundBlur_1677_11483 /></filter><filter id=filter1_f_1677_11483 x=-24 y=19 width=100 height=100 filterUnits=userSpaceOnUse color-interpolation-filters=sRGB><feFlood flood-opacity=0 result=BackgroundImageFix /><feBlend mode=normal in=SourceGraphic in2=BackgroundImageFix result=shape /><feGaussianBlur stdDeviation=12 result=effect1_foregroundBlur_1677_11483 /></filter><linearGradient id=paint6_linear_1677_11483 x1=30 y1=28 x2=66.1645 y2=44.4363 gradientUnits=userSpaceOnUse gradientTransform=\"matrix(8.139854, 0, 0, 8.139854, -130.346407, -113.25101)\"><stop stop-color=#7433FF /><stop offset=1 stop-color=#FFA3FD /></linearGradient><filter id=filter2_f_1677_11483 x=-12 y=-44 width=100 height=100 filterUnits=userSpaceOnUse color-interpolation-filters=sRGB><feFlood flood-opacity=0 result=BackgroundImageFix /><feBlend mode=normal in=SourceGraphic in2=BackgroundImageFix result=shape /><feGaussianBlur stdDeviation=12 result=effect1_foregroundBlur_1677_11483 /></filter><filter id=filter3_f_1677_11483 x=13 y=19 width=100 height=100 filterUnits=userSpaceOnUse color-interpolation-filters=sRGB><feFlood flood-opacity=0 result=BackgroundImageFix /><feBlend mode=normal in=SourceGraphic in2=BackgroundImageFix result=shape /><feGaussianBlur stdDeviation=12 result=effect1_foregroundBlur_1677_11483 /></filter></defs><mask id=mask0_1677_11483 style=mask-type:alpha maskUnits=userSpaceOnUse x=16 y=14 width=58 height=62><path d=\"M21 25.3501C21.7279 25.3501 22.4195 25.5056 23.0433 25.7853L42.1439 14.8C43.0439 14.3 44.1439 14 45.1439 14C46.2439 14 47.2439 14.3 48.1439 14.8L64.5439 24.3C63.3439 25.1 62.4439 26.3 61.8439 27.7L45.9438 18.5C45.6439 18.3 45.344 18.3 45.0441 18.3C44.7441 18.3 44.4439 18.4 44.1439 18.5L25.8225 29.0251C25.9382 29.4471 26 29.8914 26 30.3501C26 33.1115 23.7614 35.3501 21 35.3501C18.2386 35.3501 16 33.1115 16 30.3501C16 27.5887 18.2386 25.3501 21 25.3501Z\" fill=url(#paint3_linear_1677_11483) /><path d=\"M67.2438 35.0329C65.3487 34.3219 64 32.4934 64 30.35C64 27.5886 66.2386 25.35 69 25.35C71.7614 25.35 74 27.5886 74 30.35C74 32.1825 73.0142 33.7848 71.5439 34.6554V55.2C71.5439 57.4 70.3439 59.4 68.5439 60.5L52.1439 69.9C52.1439 68.4 51.6438 66.9 50.7438 65.8L66.3439 56.8C66.9439 56.5 67.2438 55.9 67.2438 55.2V35.0329Z\" fill=url(#paint4_linear_1677_11483) /><path d=\"M49.8439 69.1055C49.9458 69.5034 50 69.9204 50 70.3501C50 73.1115 47.7614 75.3501 45 75.3501C42.5102 75.3501 40.4454 73.5302 40.0633 71.1481L21.8439 60.6C19.9439 59.5 18.8439 57.5 18.8439 55.3V36.8C19.5439 37 20.3439 37.2 21.0439 37.2C21.7439 37.2 22.4439 37.1 23.0439 36.9V55.3C23.0439 56 23.4438 56.6 23.9438 56.9L41.3263 66.9583C42.2398 65.9694 43.5476 65.3501 45 65.3501C47.3291 65.3501 49.2862 66.9426 49.8419 69.0981L49.8436 69.0997L49.8439 69.1055Z\" fill=url(#paint5_linear_1677_11483) /></mask><mask id=mask1_1677_11483 style=mask-type:alpha maskUnits=userSpaceOnUse x=30 y=28 width=30 height=30><path fill-rule=evenodd clip-rule=evenodd d=\"M49.3945 32.3945C49.3945 34.7088 47.5796 38.5469 45 38.5469C42.4271 38.5469 40.6055 34.7112 40.6055 32.3945C40.6055 29.9714 42.5769 28 45 28C47.4231 28 49.3945 29.9714 49.3945 32.3945ZM35.332 49.0433V48.2148C35.332 42.8117 37.8535 41.0004 39.8796 39.545L39.8801 39.5447C40.3928 39.1767 40.8604 38.8404 41.2488 38.4742C42.3293 39.6642 43.626 40.3047 45 40.3047C46.3752 40.3047 47.6725 39.6642 48.7529 38.4754C49.1408 38.841 49.6078 39.1773 50.1199 39.5447L50.1204 39.545C52.1465 41.0004 54.668 42.8117 54.668 48.2148V49.0433L53.8406 49.092C49.9848 49.3185 46.8646 46.9002 45 43.5777C43.1159 46.935 39.9847 49.318 36.1594 49.092L35.332 49.0433ZM58.1463 51.0747L58.1463 51.0746C57.0179 50.891 50.0128 49.7507 45.0007 55.693C40.0116 49.7553 33.1965 50.8592 31.9095 51.0677L31.9095 51.0677C31.7906 51.087 31.7189 51.0986 31.7002 51.0963C31.7005 51.0969 31.7011 51.1045 31.7023 51.1187C31.726 51.4003 31.9682 54.2745 34.0566 56.2422L30 58H60L55.8956 56.2422C57.8537 54.4764 58.1396 52.2685 58.2508 51.4092V51.4091C58.2697 51.2628 58.2836 51.1556 58.2998 51.0963C58.2881 51.0977 58.2356 51.0892 58.1463 51.0747ZM40.4836 50.104C42.3956 49.3212 43.6746 48.1737 45 46.61C46.332 48.1841 47.6159 49.3259 49.5164 50.104C49.5356 50.1425 49.5557 50.1805 49.5756 50.2182C49.5793 50.2253 49.583 50.2323 49.5867 50.2393C48.0911 50.8127 46.4264 51.825 45.0047 53.1444C43.5906 51.8221 41.9673 50.8196 40.4256 50.2153C40.4455 50.1784 40.4648 50.1415 40.4836 50.104Z\" fill=black /></mask><path d=\"M 40.59 93.095 C 46.517 93.095 52.14 94.365 57.22 96.635 L 212.7 7.22 C 220.025 3.149 228.978 0.706 237.12 0.706 C 246.073 0.706 254.213 3.149 261.54 7.22 L 395.032 84.547 C 385.264 91.059 377.939 100.827 373.055 112.224 L 243.631 37.338 C 241.19 35.71 238.747 35.71 236.305 35.71 C 233.863 35.71 231.42 36.523 228.978 37.338 L 79.84 123.009 C 80.786 126.443 81.29 130.058 81.29 133.793 C 81.29 156.269 63.065 174.493 40.59 174.493 C 18.116 174.493 -0.109 156.269 -0.109 133.793 C -0.109 111.32 18.116 93.095 40.59 93.095 Z\" fill=url(#paint0_linear_1677_11483) /><path d=\"M 417.01 171.913 C 401.585 166.126 390.603 151.238 390.603 133.793 C 390.603 111.32 408.83 93.095 431.303 93.095 C 453.777 93.095 472.001 111.32 472.001 133.793 C 472.001 148.706 463.976 161.755 452.011 168.835 L 452.011 336.07 C 452.011 353.977 442.243 370.258 427.591 379.21 L 294.098 455.726 C 294.098 443.516 290.029 431.306 282.703 422.353 L 409.683 349.093 C 414.568 346.651 417.01 341.767 417.01 336.07 L 417.01 171.913 Z\" fill=url(#paint1_linear_1677_11483) /><path d=\"M 275.376 449.253 C 276.206 452.495 276.646 455.889 276.646 459.389 C 276.646 481.863 258.422 500.087 235.947 500.087 C 215.679 500.087 198.87 485.272 195.761 465.883 L 47.46 380.025 C 31.995 371.071 23.041 354.792 23.041 336.884 L 23.041 186.296 C 28.738 187.923 35.25 189.553 40.948 189.553 C 46.646 189.553 52.345 188.738 57.228 187.111 L 57.228 336.884 C 57.228 342.582 60.485 347.465 64.554 349.908 L 206.042 431.777 C 213.481 423.728 224.127 418.689 235.947 418.689 C 254.905 418.689 270.833 431.656 275.36 449.196 L 275.376 449.214 L 275.376 449.253 Z\" fill=url(#paint2_linear_1677_11483) /><g mask=url(#mask0_1677_11483) transform=\"matrix(8.139854, 0, 0, 8.139854, -130.346375, -113.251038)\"><g filter=url(#filter0_f_1677_11483)><circle cx=73 cy=25 r=26 fill=#ED2E7E /></g><g filter=url(#filter1_f_1677_11483)><circle cx=26 cy=69 r=26 fill=#1CC8EE /></g></g><path fill-rule=evenodd clip-rule=evenodd d=\"M 271.713 150.431 C 271.713 169.275 256.948 200.517 235.947 200.517 C 215.003 200.517 200.172 169.292 200.172 150.431 C 200.172 130.708 216.225 114.666 235.947 114.666 C 255.67 114.666 271.713 130.708 271.713 150.431 Z M 157.251 285.952 L 157.251 279.212 C 157.251 235.233 177.771 220.485 194.27 208.641 C 198.447 205.644 202.247 202.901 205.414 199.923 C 214.204 209.608 224.763 214.826 235.947 214.826 C 247.138 214.826 257.697 209.608 266.496 199.931 C 269.653 202.911 273.456 205.644 277.622 208.641 C 294.114 220.485 314.642 235.233 314.642 279.212 L 314.642 285.952 L 307.912 286.351 C 276.525 288.191 251.128 268.509 235.947 241.468 C 220.611 268.795 195.126 288.191 163.981 286.351 L 157.251 285.952 Z M 342.953 302.492 C 333.771 300.994 276.751 291.715 235.955 340.082 C 195.345 291.749 139.865 300.734 129.389 302.436 C 128.428 302.59 127.841 302.688 127.687 302.665 C 127.687 302.673 127.695 302.729 127.702 302.85 C 127.897 305.138 129.867 328.532 146.872 344.55 L 113.849 358.862 L 358.044 358.862 L 324.639 344.55 C 340.576 330.177 342.905 312.202 343.807 305.212 C 343.962 304.022 344.077 303.153 344.206 302.665 C 344.108 302.68 343.686 302.606 342.953 302.492 Z M 199.188 294.59 C 214.751 288.215 225.161 278.879 235.947 266.15 C 246.788 278.96 257.241 288.255 272.707 294.59 C 272.869 294.898 273.031 295.207 273.196 295.518 C 273.219 295.574 273.252 295.631 273.285 295.688 C 261.107 300.361 247.555 308.598 235.989 319.334 C 224.477 308.573 211.258 300.417 198.715 295.493 C 198.87 295.191 199.033 294.891 199.188 294.59 Z\" fill=url(#paint6_linear_1677_11483) /><g mask=url(#mask1_1677_11483) transform=\"matrix(8.139854, 0, 0, 8.139854, -130.346375, -113.251038)\"><g filter=url(#filter2_f_1677_11483)><circle cx=38 cy=6 r=26 fill=#ED2E7E /></g><g filter=url(#filter3_f_1677_11483)><circle cx=63 cy=69 r=26 fill=#1CC8EE /></g></g></svg></div><h1>GraphQL Yoga</h1><p>Version: 5.18.0</p></div><h2>The batteries-included cross-platform GraphQL Server.</h2><div class=buttons><a href=https://www.the-guild.dev/graphql/yoga-server/docs class=docs>Read the Docs</a> <a href=https://www.the-guild.dev/graphql/yoga-server/tutorial/basic class=tutorial>Start the Tutorial </a><a href=__GRAPHIQL_LINK__ class=graphiql>Visit GraphiQL</a></div></section><section class=not-what-your-looking-for><h2>Not the page you are looking for? \uD83D\uDC40</h2><p>This page is shown be default whenever a 404 is hit.<br>You can disable this by behavior via the <code>landingPage</code> option.</p><pre>\n          <code>\nimport { createYoga } from 'graphql-yoga';\n\nconst yoga = createYoga({\n  landingPage: false\n})\n          </code>\n        </pre><p>If you expected this page to be the GraphQL route, you need to configure Yoga. Currently, the GraphQL route is configured to be on <code>__GRAPHIQL_LINK__</code>.</p><pre>\n          <code>\nimport { createYoga } from 'graphql-yoga';\n\nconst yoga = createYoga({\n  graphqlEndpoint: '__REQUEST_PATH__',\n})\n          </code>\n        </pre></section></main></body></html>";function Hu0(Y){let J;function X({URLPattern:W}){return J||=new W({pathname:Y.graphqlEndpoint}),J}let Z=Y.landingPageRenderer||Ec6;return{onRequest({request:W,fetchAPI:$,endResponse:G,url:Q}){if(!W.url.endsWith(Y.graphqlEndpoint)&&!W.url.endsWith(`${Y.graphqlEndpoint}/`)&&Q.pathname!==Y.graphqlEndpoint&&Q.pathname!==`${Y.graphqlEndpoint}/`&&!X($).test(Q)){if(Y.showLandingPage===!0&&W.method==="GET"&&!!W.headers?.get("accept")?.includes("text/html")){let U=Z({request:W,fetchAPI:$,url:Q,graphqlEndpoint:Y.graphqlEndpoint,get urlPattern(){return X($)}});if(U4(U))return U.then(G);G(U);return}G(new $.Response("",{status:404,statusText:"Not Found"}))}}}}var Ec6=function(J){return new J.fetchAPI.Response(zu0.replace(/__GRAPHIQL_LINK__/g,J.graphqlEndpoint).replace(/__REQUEST_PATH__/g,J.url.pathname),{status:200,statusText:"OK",headers:{"Content-Type":"text/html"}})};var Ou0=w(()=>{kY()});function ex({request:Y,result:J,fetchAPI:X,onResultProcessHooks:Z,serverContext:W}){let $,G=[],Q="*/*";return T1(()=>s6(Z,(U)=>U({request:Y,acceptableMediaTypes:G,result:J,setResult(z){J=z},resultProcessor:$,setResultProcessor(z,H){$=z,Q=H},serverContext:W})),()=>{if(!$)return new X.Response(null,{status:406,statusText:"Not Acceptable",headers:{accept:G.join("; charset=utf-8, ")}});return $(J,X,Q)})}function Bu0({params:Y,enveloped:J}){let X=J.parse(Y.query),Z=J.validate(J.schema,X);if(Z.length>0)return{errors:Z};return T1(()=>J.contextFactory(),(W)=>{let $={schema:J.schema,document:X,contextValue:W,variableValues:Y.variables,operationName:Y.operationName};return(Ku0.getOperationAST(X,Y.operationName)?.operation==="subscription"?J.subscribe:J.execute)($)})}var Ku0;var qu0=w(()=>{z4();Ku0=q1(f1(),1)});function Fu0(Y){if(x3(Y))return Y.toJSON();if(Y instanceof Error)return{message:Y.message,stack:Y.stack,cause:Y.cause};return Y}var Vu0=(Y,J,X=globalThis.process?.env?.NODE_ENV==="development")=>{if(ix(Y))return Y;let Z={code:"INTERNAL_SERVER_ERROR",unexpected:!0},W={extensions:Z};if(x3(Y)){if(W.nodes=Y.nodes,W.source=Y.source,W.positions=Y.positions,W.path=Y.path,W.coordinate=nx(Y),X&&Y.originalError)Z.originalError=Fu0(Y.originalError);if(Y.extensions?.http)Z.http=Y.extensions.http}else if(X)Z.originalError=Fu0(Y);return u0(J,W)};var Iu0=w(()=>{kY();Ez()});class Du0{getEnveloped;logger;graphqlEndpoint;fetchAPI;plugins;instrumentation;onRequestParseHooks;onParamsHooks;onExecutionResultHooks;onResultProcessHooks;maskedErrorsOpts;id;version="5.18.0";constructor(Y){if(this.id=Y?.id??"yoga",this.fetchAPI={...$J1},Y?.fetchAPI){for(let Q in Y.fetchAPI)if(Y.fetchAPI[Q])this.fetchAPI[Q]=Y.fetchAPI[Q]}let J=Y?.logging==null?!0:Y.logging;this.logger=typeof J==="boolean"?J===!0?zx():zx("silent"):typeof J==="string"?zx(J):J;let X=typeof Y?.maskedErrors==="object"&&Y.maskedErrors.maskError||Vu0,Z=new WeakSet;this.maskedErrorsOpts=Y?.maskedErrors===!1?null:{errorMessage:"Unexpected error.",...typeof Y?.maskedErrors==="object"?Y.maskedErrors:{},maskError:(Q,U)=>{if(Z.has(Q))return Q;let z=X(Q,U,this.maskedErrorsOpts?.isDev);if(z!==Q)this.logger.error(Q);return Z.add(z),z}};let W=this.maskedErrorsOpts==null?null:this.maskedErrorsOpts,$=0;if(Y?.batching)if(typeof Y.batching==="boolean")$=10;else $=Y.batching.limit??10;this.graphqlEndpoint=Y?.graphqlEndpoint||"/graphql";let G=this.graphqlEndpoint;this.plugins=[sR0({parse:Dq.parse,validate:Dq.validate,execute:wx,subscribe:wx,specifiedRules:Dq.specifiedRules}),!!Y?.schema&&kk0(Y.schema),Y?.allowedHeaders?.request!=null&&Bg0(Y.allowedHeaders.request),Y?.context!=null&&oR0((Q)=>{if(Y?.context){if(typeof Y.context==="function")return Y.context(Q);return Y.context}return{}}),mg0({id:this.id,logger:this.logger,endpoint:Y?.healthCheckEndpoint}),Y?.cors!==!1&&Yy0(Y?.cors),Y?.graphiql!==!1&&Ck0({graphqlEndpoint:G,options:Y?.graphiql,render:Y?.renderGraphiQL,logger:this.logger}),Vq({match:Vg0,parse:Ig0}),Vq({match:Rg0,parse:Ng0}),Y?.multipart!==!1&&Vq({match:Cg0,parse:jg0}),Vq({match:Lg0,parse:Mg0}),Vq({match:wg0,parse:Ag0}),Qu0(),...Y?.plugins??[],Y?.parserAndValidationCache!==!1&&og0(!Y?.parserAndValidationCache||Y?.parserAndValidationCache===!0?{}:Y?.parserAndValidationCache),bg0($),_g0(Y?.extraParamNames),Hu0({graphqlEndpoint:G,showLandingPage:Y?.landingPage!==!1,landingPageRenderer:typeof Y?.landingPage==="function"?Y.landingPage:void 0}),fg0(),gg0(),W!==null&&{onSubscribe(){return{onSubscribeError({error:Q}){if(bJ1(Q))throw Q}}}},W!==null&&pR0(W),Y?.allowedHeaders?.response!=null&&Kg0(Y.allowedHeaders.response),hg0()],this.getEnveloped=mR0({plugins:this.plugins}),this.plugins=this.getEnveloped._plugins,this.onRequestParseHooks=[],this.onParamsHooks=[],this.onExecutionResultHooks=[],this.onResultProcessHooks=[];for(let Q of this.plugins)if(Q){if(Q.onYogaInit)Q.onYogaInit({yoga:this});if(Q.onRequestParse)this.onRequestParseHooks.push(Q.onRequestParse);if(Q.onParams)this.onParamsHooks.push(Q.onParams);if(Q.onExecutionResult)this.onExecutionResultHooks.push(Q.onExecutionResult);if(Q.onResultProcess)this.onResultProcessHooks.push(Q.onResultProcess);if(Q.instrumentation)this.instrumentation=this.instrumentation?mB(this.instrumentation,Q.instrumentation):Q.instrumentation}}handleParams=({request:Y,context:J,params:X})=>{let Z=J.request===Y?{params:X}:{request:Y,params:X};Object.assign(J,Z);let W=this.getEnveloped(J);return this.logger.debug("Processing GraphQL Parameters"),T1(()=>T1(()=>Bu0({params:X,enveloped:W}),($)=>{return this.logger.debug("Processing GraphQL Parameters done."),$},($)=>{return{errors:$L($,this.maskedErrorsOpts,this.logger)}}),($)=>{if(U5($))$=lZ($,(G)=>G,(G)=>{if(G.name==="AbortError")throw this.logger.debug("Request aborted"),G;return{errors:$L(G,this.maskedErrorsOpts,this.logger)}});return $})};getResultForParams=({params:Y,request:J},X)=>{let Z,W=this.handleParams;return T1(()=>s6(this.onParamsHooks,($)=>$({params:Y,request:J,setParams(G){Y=G},paramsHandler:W,setParamsHandler(G){W=G},setResult(G){Z=G},fetchAPI:this.fetchAPI,context:X})),()=>T1(()=>Z||W({request:J,params:Y,context:X}),($)=>T1(()=>s6(this.onExecutionResultHooks,(G)=>G({result:$,setResult(Q){$=Q},request:J,context:X})),()=>$)))};parseRequest=(Y,J)=>{let X=new Proxy({},{get:($,G,Q)=>{return X=new this.fetchAPI.URL(Y.url,"http://localhost"),Reflect.get(X,G,X)}}),Z,W=[];return T1(()=>s6(this.onRequestParseHooks,($)=>T1(()=>$({request:Y,url:X,requestParser:Z,serverContext:J,setRequestParser(G){Z=G}}),(G)=>G?.onRequestParseDone),W),()=>{if(this.logger.debug("Parsing request to extract GraphQL parameters"),!Z)return{response:new this.fetchAPI.Response(null,{status:415,statusText:"Unsupported Media Type"})};return T1(()=>Z(Y),($)=>{return T1(()=>s6(W,(G)=>G({requestParserResult:$,setRequestParserResult(Q){$=Q}})),()=>({requestParserResult:$}))})})};handle=(Y,J)=>{let X=this.instrumentation&&zz({request:Y}),Z=this.instrumentation?.requestParse?X.asyncFn(this.instrumentation?.requestParse,this.parseRequest):this.parseRequest;return sA(Q4().then(()=>Z(Y,J)).then(({response:W,requestParserResult:$})=>{if(W)return W;let G=this.instrumentation?.operation?(Q,U)=>{return zz({context:U,request:Q.request}).asyncFn(this.instrumentation?.operation,this.getResultForParams)(Q,U)}:this.getResultForParams;return T1(()=>Array.isArray($)?Promise.all($.map((Q)=>G({params:Q,request:Y},Object.create(J)))):G({params:$,request:Y},J),(Q)=>{return((this.instrumentation?.resultProcess)?X.asyncFn(this.instrumentation.resultProcess,ex):ex)({request:Y,result:Q,fetchAPI:this.fetchAPI,onResultProcessHooks:this.onResultProcessHooks,serverContext:J})})}).catch((W)=>{let G={errors:$L(W,this.maskedErrorsOpts,this.logger)};return ex({request:Y,result:G,fetchAPI:this.fetchAPI,onResultProcessHooks:this.onResultProcessHooks,serverContext:J})}))}}function wu0(Y){let J=new Du0(Y);return ab0(J,{fetchAPI:J.fetchAPI,plugins:J.plugins,disposeOnProcessTerminate:Y.disposeOnProcessTerminate})}var Dq;var Au0=w(()=>{Hz();GG();Mx0();MY1();xx();z4();px();Ez();Dg0();Pg0();Eg0();Sg0();kg0();xg0();vg0();yg0();ug0();jk0();rg0();Uu0();_k0();Ou0();qu0();Iu0();Dq=q1(f1(),1)});function Tc6(Y,J){mJ1(Y,J);function X(){this.constructor=Y}Y.prototype=J===null?Object.create(J):(X.prototype=J.prototype,new X)}function Aq(Y,J,X,Z){function W($){return $ instanceof X?$:new X(function(G){G($)})}return new(X||(X=Promise))(function($,G){function Q(H){try{z(Z.next(H))}catch(O){G(O)}}function U(H){try{z(Z.throw(H))}catch(O){G(O)}}function z(H){H.done?$(H.value):W(H.value).then(Q,U)}z((Z=Z.apply(Y,J||[])).next())})}function LG(Y,J){var X={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},Z,W,$,G;return G={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol==="function"&&(G[Symbol.iterator]=function(){return this}),G;function Q(z){return function(H){return U([z,H])}}function U(z){if(Z)throw TypeError("Generator is already executing.");while(X)try{if(Z=1,W&&($=z[0]&2?W.return:z[0]?W.throw||(($=W.return)&&$.call(W),0):W.next)&&!($=$.call(W,z[1])).done)return $;if(W=0,$)z=[z[0]&2,$.value];switch(z[0]){case 0:case 1:$=z;break;case 4:return X.label++,{value:z[1],done:!1};case 5:X.label++,W=z[1],z=[0];continue;case 7:z=X.ops.pop(),X.trys.pop();continue;default:if(($=X.trys,!($=$.length>0&&$[$.length-1]))&&(z[0]===6||z[0]===2)){X=0;continue}if(z[0]===3&&(!$||z[1]>$[0]&&z[1]<$[3])){X.label=z[1];break}if(z[0]===6&&X.label<$[1]){X.label=$[1],$=z;break}if($&&X.label<$[2]){X.label=$[2],X.ops.push(z);break}if($[2])X.ops.pop();X.trys.pop();continue}z=J.call(Y,X)}catch(H){z=[6,H],W=0}finally{Z=$=0}if(z[0]&5)throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}}function Pq(Y){var J=typeof Symbol==="function"&&Symbol.iterator,X=J&&Y[J],Z=0;if(X)return X.call(Y);if(Y&&typeof Y.length==="number")return{next:function(){if(Y&&Z>=Y.length)Y=void 0;return{value:Y&&Y[Z++],done:!Y}}};throw TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function zL(Y){return this instanceof zL?(this.v=Y,this):new zL(Y)}function Rc6(Y,J,X){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var Z=X.apply(Y,J||[]),W,$=[];return W={},G("next"),G("throw"),G("return"),W[Symbol.asyncIterator]=function(){return this},W;function G(K){if(Z[K])W[K]=function(B){return new Promise(function(F,V){$.push([K,B,F,V])>1||Q(K,B)})}}function Q(K,B){try{U(Z[K](B))}catch(F){O($[0][3],F)}}function U(K){K.value instanceof zL?Promise.resolve(K.value.v).then(z,H):O($[0][2],K)}function z(K){Q("next",K)}function H(K){Q("throw",K)}function O(K,B){if(K(B),$.shift(),$.length)Q($[0][0],$[0][1])}}function dJ1(Y){if(Y!=null&&typeof Y.then==="function")Y.then(Zf,Zf)}function wq(Y){var J=Y.err,X=Promise.resolve(Y.execution).then(function(Z){if(J!=null)throw J;return Z});return Y.err=void 0,Y.execution=X.then(function(){return},function(){return}),Y.pending===void 0?X:Y.pending.then(function(){return X})}function Tz(Y,J){var X=Y.state>=Jf;return Promise.resolve(J).then(function(Z){if(!X&&Y.state>=cJ1)return wq(Y).then(function(W){return{value:W,done:!0}});return{value:Z,done:X}})}function lJ1(Y,J){var X,Z;if(Y.state>=Rz)return;if(Y.state=Rz,Y.onnext(),Y.onstop(),Y.err==null)Y.err=J;if(Y.pushes.length===0&&(typeof Y.buffer>"u"||Y.buffer.empty))UL(Y);else try{for(var W=Pq(Y.pushes),$=W.next();!$.done;$=W.next()){var G=$.value;G.resolve()}}catch(Q){X={error:Q}}finally{try{if($&&!$.done&&(Z=W.return))Z.call(W)}finally{if(X)throw X.error}}}function UL(Y){var J,X;if(Y.state>=Jf)return;if(Y.state<Rz)lJ1(Y);Y.state=Jf,Y.buffer=void 0;try{for(var Z=Pq(Y.nexts),W=Z.next();!W.done;W=Z.next()){var $=W.value,G=Y.pending===void 0?wq(Y):Y.pending.then(function(){return wq(Y)});$.resolve(Tz(Y,G))}}catch(Q){J={error:Q}}finally{try{if(W&&!W.done&&(X=Z.return))X.call(Z)}finally{if(J)throw J.error}}Y.pushes=[],Y.nexts=[]}function Lu0(Y){if(Y.state>=cJ1)return;if(Y.state<Jf)UL(Y);Y.state=cJ1}function Nc6(Y,J){if(dJ1(J),Y.pushes.length>=Xf)throw new Mu0("No more than "+Xf+" pending calls to push are allowed on a single repeater.");else if(Y.state>=Rz)return Promise.resolve(void 0);var X=Y.pending===void 0?Promise.resolve(J):Y.pending.then(function(){return J});X=X.catch(function(U){if(Y.state<Rz)Y.err=U;Lu0(Y);return});var Z;if(Y.nexts.length){var W=Y.nexts.shift();if(W.resolve(Tz(Y,X)),Y.nexts.length)Z=Promise.resolve(Y.nexts[0].value);else if(typeof Y.buffer<"u"&&!Y.buffer.full)Z=Promise.resolve(void 0);else Z=new Promise(function(U){return Y.onnext=U})}else if(typeof Y.buffer<"u"&&!Y.buffer.full)Y.buffer.add(X),Z=Promise.resolve(void 0);else Z=new Promise(function(U){return Y.pushes.push({resolve:U,value:X})});var $=!0,G={},Q=Z.catch(function(U){if($)throw U;return});return G.then=function(U,z){return $=!1,Promise.prototype.then.call(Z,U,z)},G.catch=function(U){return $=!1,Promise.prototype.catch.call(Z,U)},G.finally=Z.finally.bind(Z),Y.pending=X.then(function(){return Q}).catch(function(U){Y.err=U,Lu0(Y)}),G}function Sc6(Y){var J=lJ1.bind(null,Y),X=new Promise(function(Z){return Y.onstop=Z});return J.then=X.then.bind(X),J.catch=X.catch.bind(X),J.finally=X.finally.bind(X),J}function Cc6(Y){if(Y.state>=Pu0)return;Y.state=Pu0;var J=Nc6.bind(null,Y),X=Sc6(Y);Y.execution=new Promise(function(Z){return Z(Y.executor(J,X))}),Y.execution.catch(function(){return lJ1(Y)})}function Wf(Y,J){var X,Z,W=[],$=function(z){if(z!=null&&typeof z[Symbol.asyncIterator]==="function")W.push(z[Symbol.asyncIterator]());else if(z!=null&&typeof z[Symbol.iterator]==="function")W.push(z[Symbol.iterator]());else W.push(function(){return Rc6(this,arguments,function(){return LG(this,function(K){switch(K.label){case 0:if(!J.yieldValues)return[3,3];return[4,zL(z)];case 1:return[4,K.sent()];case 2:K.sent(),K.label=3;case 3:if(!J.returnValues)return[3,5];return[4,zL(z)];case 4:return[2,K.sent()];case 5:return[2]}})})}())};try{for(var G=Pq(Y),Q=G.next();!Q.done;Q=G.next()){var U=Q.value;$(U)}}catch(z){X={error:z}}finally{try{if(Q&&!Q.done&&(Z=G.return))Z.call(G)}finally{if(X)throw X.error}}return W}function jc6(Y){var J=this,X=Wf(Y,{returnValues:!0});return new MG(function(Z,W){return Aq(J,void 0,void 0,function(){var $,G,Q,U,z,H;return LG(this,function(O){switch(O.label){case 0:if(!X.length)return W(),[2];G=!1,W.then(function(){$(),G=!0}),O.label=1;case 1:O.trys.push([1,,5,7]),U=void 0,z=0,H=function(){var K,B,F,V,I,D;return LG(this,function(L){switch(L.label){case 0:K=z;try{for(B=(I=void 0,Pq(X)),F=B.next();!F.done;F=B.next())V=F.value,Promise.resolve(V.next()).then(function(A){if(A.done){if(W(),Q===void 0)Q=A}else if(z===K)z++,$(A)},function(A){return W(A)})}catch(A){I={error:A}}finally{try{if(F&&!F.done&&(D=B.return))D.call(B)}finally{if(I)throw I.error}}return[4,new Promise(function(A){return $=A})];case 1:if(U=L.sent(),U===void 0)return[3,3];return[4,Z(U.value)];case 2:L.sent(),L.label=3;case 3:return[2]}})},O.label=2;case 2:if(G)return[3,4];return[5,H()];case 3:return O.sent(),[3,2];case 4:return[2,Q&&Q.value];case 5:return W(),[4,Promise.race(X.map(function(K){return K.return&&K.return()}))];case 6:return O.sent(),[7];case 7:return[2]}})})})}function kc6(Y){var J=this,X=Wf(Y,{yieldValues:!0});return new MG(function(Z,W){return Aq(J,void 0,void 0,function(){var $,G,Q,U=this;return LG(this,function(z){switch(z.label){case 0:if(!X.length)return W(),[2];$=[],G=!1,W.then(function(){var H,O;G=!0;try{for(var K=Pq($),B=K.next();!B.done;B=K.next()){var F=B.value;F()}}catch(V){H={error:V}}finally{try{if(B&&!B.done&&(O=K.return))O.call(K)}finally{if(H)throw H.error}}}),z.label=1;case 1:return z.trys.push([1,,3,4]),[4,Promise.all(X.map(function(H,O){return Aq(U,void 0,void 0,function(){var K,B;return LG(this,function(F){switch(F.label){case 0:F.trys.push([0,,6,9]),F.label=1;case 1:if(G)return[3,5];return Promise.resolve(H.next()).then(function(V){return $[O](V)},function(V){return W(V)}),[4,new Promise(function(V){$[O]=V})];case 2:if(K=F.sent(),K===void 0)return[3,4];if(K.done)return Q=K,[2];return[4,Z(K.value)];case 3:F.sent(),F.label=4;case 4:return[3,1];case 5:return[3,9];case 6:if(B=H.return,!B)return[3,8];return[4,H.return()];case 7:B=F.sent(),F.label=8;case 8:return[7];case 9:return[2]}})})}))];case 2:return z.sent(),[2,Q&&Q.value];case 3:return W(),[7];case 4:return[2]}})})})}function _c6(Y){var J=this,X=Wf(Y,{returnValues:!0});return new MG(function(Z,W){return Aq(J,void 0,void 0,function(){var $,G,Q,U;return LG(this,function(z){switch(z.label){case 0:if(!X.length)return W(),[2,[]];G=!1,W.then(function(){$(),G=!0}),z.label=1;case 1:z.trys.push([1,,6,8]),z.label=2;case 2:if(G)return[3,5];return Promise.all(X.map(function(H){return H.next()})).then(function(H){return $(H)},function(H){return W(H)}),[4,new Promise(function(H){return $=H})];case 3:if(Q=z.sent(),Q===void 0)return[2];if(U=Q.map(function(H){return H.value}),Q.some(function(H){return H.done}))return[2,U];return[4,Z(U)];case 4:return z.sent(),[3,2];case 5:return[3,8];case 6:return W(),[4,Promise.all(X.map(function(H){return H.return&&H.return()}))];case 7:return z.sent(),[7];case 8:return[2]}})})})}function xc6(Y){var J=this,X=Wf(Y,{yieldValues:!0,returnValues:!0});return new MG(function(Z,W){return Aq(J,void 0,void 0,function(){var $,G,Q,U,z,H=this;return LG(this,function(O){switch(O.label){case 0:if(!X.length)return W(),[2,[]];G=[],Q=!1,W.then(function(){var K,B;$();try{for(var F=Pq(G),V=F.next();!V.done;V=F.next()){var I=V.value;I()}}catch(D){K={error:D}}finally{try{if(V&&!V.done&&(B=F.return))B.call(F)}finally{if(K)throw K.error}}Q=!0}),O.label=1;case 1:return O.trys.push([1,,5,7]),Promise.all(X.map(function(K){return K.next()})).then(function(K){return $(K)},function(K){return W(K)}),[4,new Promise(function(K){return $=K})];case 2:if(U=O.sent(),U===void 0)return[2];if(z=U.map(function(K){return K.value}),U.every(function(K){return K.done}))return[2,z];return[4,Z(z.slice())];case 3:return O.sent(),[4,Promise.all(X.map(function(K,B){return Aq(H,void 0,void 0,function(){var F;return LG(this,function(V){switch(V.label){case 0:if(U[B].done)return[2,U[B].value];V.label=1;case 1:if(Q)return[3,4];return Promise.resolve(K.next()).then(function(I){return G[B](I)},function(I){return W(I)}),[4,new Promise(function(I){return G[B]=I})];case 2:if(F=V.sent(),F===void 0)return[2,U[B].value];else if(F.done)return[2,F.value];return z[B]=F.value,[4,Z(z.slice())];case 3:return V.sent(),[3,1];case 4:return[2]}})})}))];case 4:return[2,O.sent()];case 5:return W(),[4,Promise.all(X.map(function(K){return K.return&&K.return()}))];case 6:return O.sent(),[7];case 7:return[2]}})})})}var mJ1=function(Y,J){return mJ1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,Z){X.__proto__=Z}||function(X,Z){for(var W in Z)if(Z.hasOwnProperty(W))X[W]=Z[W]},mJ1(Y,J)},Mu0,lh8,ph8,nh8,uJ1=0,Pu0=1,Rz=2,Jf=3,cJ1=4,Xf=1024,Zf=function(){},Yf,MG;var HL=w(()=>{/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */Mu0=function(Y){Tc6(J,Y);function J(X){var Z=Y.call(this,X)||this;if(Object.defineProperty(Z,"name",{value:"RepeaterOverflowError",enumerable:!1}),typeof Object.setPrototypeOf==="function")Object.setPrototypeOf(Z,Z.constructor.prototype);else Z.__proto__=Z.constructor.prototype;if(typeof Error.captureStackTrace==="function")Error.captureStackTrace(Z,Z.constructor);return Z}return J}(Error),lh8=function(){function Y(J){if(J<0)throw RangeError("Capacity may not be less than 0");this._c=J,this._q=[]}return Object.defineProperty(Y.prototype,"empty",{get:function(){return this._q.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"full",{get:function(){return this._q.length>=this._c},enumerable:!1,configurable:!0}),Y.prototype.add=function(J){if(this.full)throw Error("Buffer full");else this._q.push(J)},Y.prototype.remove=function(){if(this.empty)throw Error("Buffer empty");return this._q.shift()},Y}(),ph8=function(){function Y(J){if(J<1)throw RangeError("Capacity may not be less than 1");this._c=J,this._q=[]}return Object.defineProperty(Y.prototype,"empty",{get:function(){return this._q.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"full",{get:function(){return!1},enumerable:!1,configurable:!0}),Y.prototype.add=function(J){while(this._q.length>=this._c)this._q.shift();this._q.push(J)},Y.prototype.remove=function(){if(this.empty)throw Error("Buffer empty");return this._q.shift()},Y}(),nh8=function(){function Y(J){if(J<1)throw RangeError("Capacity may not be less than 1");this._c=J,this._q=[]}return Object.defineProperty(Y.prototype,"empty",{get:function(){return this._q.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"full",{get:function(){return!1},enumerable:!1,configurable:!0}),Y.prototype.add=function(J){if(this._q.length<this._c)this._q.push(J)},Y.prototype.remove=function(){if(this.empty)throw Error("Buffer empty");return this._q.shift()},Y}();Yf=new WeakMap,MG=function(){function Y(J,X){Yf.set(this,{executor:J,buffer:X,err:void 0,state:uJ1,pushes:[],nexts:[],pending:void 0,execution:void 0,onnext:Zf,onstop:Zf})}return Y.prototype.next=function(J){dJ1(J);var X=Yf.get(this);if(X===void 0)throw Error("WeakMap error");if(X.nexts.length>=Xf)throw new Mu0("No more than "+Xf+" pending calls to next are allowed on a single repeater.");if(X.state<=uJ1)Cc6(X);if(X.onnext(J),typeof X.buffer<"u"&&!X.buffer.empty){var Z=Tz(X,X.buffer.remove());if(X.pushes.length){var W=X.pushes.shift();X.buffer.add(W.value),X.onnext=W.resolve}return Z}else if(X.pushes.length){var $=X.pushes.shift();return X.onnext=$.resolve,Tz(X,$.value)}else if(X.state>=Rz)return UL(X),Tz(X,wq(X));return new Promise(function(G){return X.nexts.push({resolve:G,value:J})})},Y.prototype.return=function(J){dJ1(J);var X=Yf.get(this);if(X===void 0)throw Error("WeakMap error");return UL(X),X.execution=Promise.resolve(X.execution).then(function(){return J}),Tz(X,wq(X))},Y.prototype.throw=function(J){var X=Yf.get(this);if(X===void 0)throw Error("WeakMap error");if(X.state<=uJ1||X.state>=Rz||typeof X.buffer<"u"&&!X.buffer.empty){if(UL(X),X.err==null)X.err=J;return Tz(X,wq(X))}return this.next(Promise.reject(J))},Y.prototype[Symbol.asyncIterator]=function(){return this},Y.race=jc6,Y.merge=kc6,Y.zip=_c6,Y.latest=xc6,Y}()});var Eu0=w(()=>{HL()});var Tu0=w(()=>{HL()});var Ru0=w(()=>{HL()});var Nu0=w(()=>{Eu0();Tu0();Ru0();HL()});var Su0=w(()=>{Nu0()});var Cu0=()=>{};var ju0=w(()=>{MY1();xk0();Au0();Su0();Cu0();GG()});function ku0({request:Y}){let J=ML(),X=Date.now(),Z=fc6(Y),W=Y.headers.get("user-agent"),$=n61();return{requestId:J,dataLoader:$,clientIp:Z,userAgent:W,startTime:X,user:void 0}}function fc6(Y){let J=Y.headers.get("x-forwarded-for");if(J)return J.split(",")[0].trim();return Y.headers.get("cf-connecting-ip")||Y.headers.get("x-real-ip")||Y.headers.get("x-client-ip")||"unknown"}var _u0=w(()=>{Nf();R5();x8()});var nJ1={};h6(nJ1,{withSQLiteCache:()=>L6,getEntity:()=>Nz,generateOperationKey:()=>hc6,generateHashedKey:()=>aJ,cacheEntities:()=>R9,bunSQLiteCache:()=>EG,SQLiteCacheKeys:()=>V8,BunSQLiteCache:()=>pJ1});import{Database as vc6}from"bun:sqlite";class pJ1{config;db=null;stats={size:0,hits:0,misses:0,evictions:0,memoryUsage:0};cleanupTimer;insertStmt;selectStmt;updateHitStmt;deleteStmt;countStmt;sizeStmt;constructor(Y={maxMemoryMB:50,defaultTtlMs:300000,cleanupIntervalMs:60000,maxEntries:1e4,compressionThreshold:1024}){this.config=Y;this.initialize()}initialize(){try{if(typeof Bun<"u")this.db=new vc6(":memory:"),this.db.exec(`
          CREATE TABLE cache (
            key TEXT PRIMARY KEY,
            value TEXT NOT NULL,
            expires_at INTEGER NOT NULL,
            hit_count INTEGER DEFAULT 0,
            last_accessed INTEGER DEFAULT 0,
            created_at INTEGER DEFAULT 0,
            size INTEGER DEFAULT 0
          ) WITHOUT ROWID;
          
          CREATE INDEX idx_expires_at ON cache(expires_at);
          CREATE INDEX idx_last_accessed ON cache(last_accessed);
          CREATE INDEX idx_hit_count ON cache(hit_count DESC);
        `),this.insertStmt=this.db.prepare(`
          INSERT OR REPLACE INTO cache 
          (key, value, expires_at, hit_count, last_accessed, created_at, size)
          VALUES (?, ?, ?, 0, ?, ?, ?)
        `),this.selectStmt=this.db.prepare(`
          SELECT value, hit_count, expires_at FROM cache 
          WHERE key = ? AND expires_at > ?
        `),this.updateHitStmt=this.db.prepare(`
          UPDATE cache 
          SET hit_count = hit_count + 1, last_accessed = ?
          WHERE key = ?
        `),this.deleteStmt=this.db.prepare("DELETE FROM cache WHERE key = ?"),this.countStmt=this.db.prepare("SELECT COUNT(*) as count FROM cache"),this.sizeStmt=this.db.prepare("SELECT COALESCE(SUM(size), 0) as total_size FROM cache"),this.startCleanupTimer(),L1("BunSQLiteCache initialized with native SQLite",{maxMemoryMB:this.config.maxMemoryMB,maxEntries:this.config.maxEntries,defaultTtlMs:this.config.defaultTtlMs});else L1("Bun not available, SQLite cache disabled - falling back to Map cache")}catch(Y){throw s1("Failed to initialize BunSQLiteCache:",Y),Y}}async get(Y){if(!this.db)return this.stats.misses++,null;try{let J=Date.now(),X=this.selectStmt?.get(Y,J);if(!X)return this.stats.misses++,null;this.updateHitStmt?.run(J,Y),this.stats.hits++;let Z=this.deserializeValue(X.value);return L1("SQLite cache hit",{key:Y.substring(0,50)+(Y.length>50?"...":""),hitCount:X.hit_count+1,age:J-(X.created_at||J),cacheEfficiency:"hit"}),Z}catch(J){return s1("SQLite cache get error:",J),this.stats.misses++,null}}async set(Y,J,X){if(!this.db)return;try{let Z=Date.now(),W=Z+(X||this.config.defaultTtlMs),$=this.serializeValue(J),G=this.estimateSize($);await this.ensureCapacity(G),this.insertStmt?.run(Y,$,W,Z,Z,G),this.updateStats(),h0("SQLite cache set",{key:Y.substring(0,50)+(Y.length>50?"...":""),size:G,ttl:X||this.config.defaultTtlMs,expiresIn:W-Z,cacheOperation:"store"})}catch(Z){s1("SQLite cache set error:",Z)}}async getOrSet(Y,J,X){let Z=await this.get(Y);if(Z!==null)return Z;try{let W=await J();return await this.set(Y,W,X),W}catch(W){throw s1("Cache fetcher failed",{key:Y,error:W}),W}}async has(Y){if(!this.db)return!1;try{let J=Date.now();return!!this.selectStmt?.get(Y,J)}catch(J){return s1("SQLite cache has error:",J),!1}}async delete(Y){if(!this.db)return!1;try{let X=this.deleteStmt?.run(Y)?.changes>0;if(X)this.updateStats(),L1("SQLite cache delete",{key:Y.substring(0,50)+(Y.length>50?"...":""),cacheOperation:"delete"});return X}catch(J){return s1("SQLite cache delete error:",J),!1}}async clear(){if(!this.db)return;try{this.db.exec("DELETE FROM cache"),this.stats={size:0,hits:this.stats.hits,misses:this.stats.misses,evictions:this.stats.evictions,memoryUsage:0},L1("SQLite cache cleared",{cacheOperation:"clear",previousSize:this.stats.size})}catch(Y){s1("SQLite cache clear error:",Y)}}async invalidatePattern(Y){if(!this.db)return 0;try{let J=this.db.prepare("SELECT key FROM cache").all(),X=0;for(let Z of J)if(Y.test(Z.key)){if(this.deleteStmt?.run(Z.key)?.changes>0)X++}if(X>0)this.updateStats(),L1("SQLite cache pattern invalidation",{pattern:Y.toString(),deleted:X,cacheOperation:"pattern-invalidate"});return X}catch(J){return s1("SQLite cache invalidatePattern error:",J),0}}getStats(){let Y=this.stats.hits+this.stats.misses>0?this.stats.hits/(this.stats.hits+this.stats.misses)*100:0;return{...this.stats,hitRate:Math.round(Y*100)/100,avgHitsPerEntry:this.stats.size>0?this.stats.hits/this.stats.size:0,compressionRatio:1}}getAnalytics(){if(!this.db)return{topKeys:[],expirationDistribution:{expiredCount:0,expiringIn1Min:0,expiringIn5Min:0,expiringIn1Hour:0},memoryDistribution:{smallEntries:0,mediumEntries:0,largeEntries:0}};try{let Y=Date.now(),J=this.db.prepare(`
        SELECT key, hit_count as hits, last_accessed as lastAccessed 
        FROM cache 
        WHERE expires_at > ? 
        ORDER BY hit_count DESC 
        LIMIT 10
      `).all(Y),X=this.db.prepare(`
        SELECT 
          COUNT(CASE WHEN expires_at <= ? THEN 1 END) as expired,
          COUNT(CASE WHEN expires_at > ? AND expires_at <= ? THEN 1 END) as expiring_1min,
          COUNT(CASE WHEN expires_at > ? AND expires_at <= ? THEN 1 END) as expiring_5min,
          COUNT(CASE WHEN expires_at > ? AND expires_at <= ? THEN 1 END) as expiring_1hour
        FROM cache
      `).get(Y,Y,Y+60000,Y+60000,Y+300000,Y+300000,Y+3600000),Z=this.db.prepare(`
        SELECT 
          COUNT(CASE WHEN size < 1024 THEN 1 END) as small,
          COUNT(CASE WHEN size >= 1024 AND size < 10240 THEN 1 END) as medium,
          COUNT(CASE WHEN size >= 10240 THEN 1 END) as large
        FROM cache
      `).get();return{topKeys:J,expirationDistribution:{expiredCount:X.expired||0,expiringIn1Min:X.expiring_1min||0,expiringIn5Min:X.expiring_5min||0,expiringIn1Hour:X.expiring_1hour||0},memoryDistribution:{smallEntries:Z.small||0,mediumEntries:Z.medium||0,largeEntries:Z.large||0}}}catch(Y){return s1("SQLite cache analytics error:",Y),{topKeys:[],expirationDistribution:{expiredCount:0,expiringIn1Min:0,expiringIn5Min:0,expiringIn1Hour:0},memoryDistribution:{smallEntries:0,mediumEntries:0,largeEntries:0}}}}serializeValue(Y){let J=JSON.stringify(Y);if(J.length>this.config.compressionThreshold);return J}deserializeValue(Y){return JSON.parse(Y)}estimateSize(Y){return Y.length*2}async ensureCapacity(Y){if(!this.db)return;let J=this.getCurrentDBStats(),X=this.config.maxMemoryMB*1024*1024;if(J.totalSize+Y>X)await this.evictByMemory(Y);if(J.entryCount>=this.config.maxEntries)await this.evictLRU(Math.max(1,Math.floor(this.config.maxEntries*0.1)))}async evictByMemory(Y){if(!this.db)return;try{let J=this.db.prepare("DELETE FROM cache WHERE expires_at <= ?").run(Date.now()).changes;if(J>0)this.stats.evictions+=J,L1("SQLite cache expired eviction",{expired:J,cacheOperation:"expired-eviction"});let X=this.getCurrentDBStats(),Z=this.config.maxMemoryMB*1024*1024;if(X.totalSize+Y<=Z)return;let W=0,$=0,G=Y+Z*0.1,Q=this.db.prepare(`
        SELECT key, size FROM cache 
        ORDER BY last_accessed ASC, hit_count ASC
        LIMIT 100
      `).all();for(let U of Q){if(W>=G)break;if(this.deleteStmt?.run(U.key)?.changes>0)W+=U.size,$++}this.stats.evictions+=$,_8("SQLite cache memory pressure eviction",{evicted:$,freedSpace:W,requiredSpace:Y,cacheOperation:"memory-eviction",performanceImpact:"memory-pressure"})}catch(J){s1("SQLite cache evictByMemory error:",J)}}async evictLRU(Y){if(!this.db)return;try{let J=this.db.prepare(`
        SELECT key FROM cache 
        ORDER BY last_accessed ASC, hit_count ASC 
        LIMIT ?
      `).all(Y),X=0;for(let Z of J)if(this.deleteStmt?.run(Z.key)?.changes>0)X++;this.stats.evictions+=X,L1("SQLite cache LRU eviction",{evicted:X,cacheOperation:"lru-eviction"})}catch(J){s1("SQLite cache evictLRU error:",J)}}updateStats(){if(!this.db)return;try{let Y=this.getCurrentDBStats();this.stats.size=Y.entryCount,this.stats.memoryUsage=Y.totalSize}catch(Y){s1("SQLite cache updateStats error:",Y)}}getCurrentDBStats(){if(!this.db)return{entryCount:0,totalSize:0};try{let Y=this.countStmt?.get(),J=this.sizeStmt?.get();return{entryCount:Y?.count||0,totalSize:J?.total_size||0}}catch(Y){return s1("SQLite cache getCurrentDBStats error:",Y),{entryCount:0,totalSize:0}}}startCleanupTimer(){this.cleanupTimer=setInterval(()=>{this.cleanup()},this.config.cleanupIntervalMs)}cleanup(){if(!this.db)return;try{let Y=Date.now(),X=this.db.prepare("DELETE FROM cache WHERE expires_at <= ?").run(Y).changes;if(X>0)this.updateStats(),L1("SQLite cache cleanup completed",{cleaned:X,remaining:this.stats.size,cacheOperation:"cleanup"})}catch(Y){s1("SQLite cache cleanup error:",Y)}}destroy(){if(this.cleanupTimer)clearInterval(this.cleanupTimer),this.cleanupTimer=void 0;if(this.db)try{this.db.close(),this.db=null,L1("BunSQLiteCache destroyed")}catch(Y){s1("Error closing SQLite database:",Y)}}}function aJ(Y){if(typeof Bun<"u"&&typeof Bun.hash==="function")return Bun.hash(Y).toString(16);return Y}function hc6(Y,J){let X=J?`${Y}:${JSON.stringify(J)}`:Y;return aJ(X)}async function L6(Y,J,X){return EG.getOrSet(Y,J,X)}function bc6(Y,J){if(J.userScoped&&J.userId)return`user:${J.userId}:${Y}`;return Y}function R9(Y,J,X){if(!Y)return;let Z=Array.isArray(Y)?Y:[Y];if(!Z.length)return;let{requiredFields:W,ttlMs:$=600000}=X;setImmediate(async()=>{let G=0;for(let Q of Z){if(!Q)continue;if(!W.every((H)=>{let O=H.includes(".")?H.split(".").reduce((K,B)=>K?.[B],Q):Q[H];return O!==void 0&&O!==null}))continue;let z=J(Q);if(z){let H=bc6(z,X);try{await EG.set(H,Q,$),G++}catch{}}}if(G>0)L1("Entity cache populated",{count:G,total:Z.length,userScoped:X.userScoped??!1,cacheOperation:"entity-populate"})})}async function Nz(Y,J){let X=J?.userScoped&&J?.userId?`user:${J.userId}:${Y}`:Y;return EG.get(X)}var EG,V8;var k5=w(()=>{x8();EG=new pJ1;V8={looks:(Y,J,X)=>`looks:${Y}:${J}:${X}`,lookDetails:(Y)=>`lookDetails:${Y}`,looksSummary:(Y,J,X)=>`looksSummary:${Y}:${J}:${X}`,options:(Y,J)=>{if(!J)return`options:${Y}`;let X=JSON.stringify(J,Object.keys(J).sort());return`options:${Y}:${aJ(X)}`},optionsSummary:(Y,J,X,Z,W)=>{let $=`optionsSummary:${Y}:${J}:${X}:${Z}:${W.sort().join(",")}`;return aJ($)},imageDetails:(Y,J,X)=>`imageDetails:${Y}:${J}:${X}`,optionsProductView:(Y,J,X,Z,W,$)=>{let G=`optionsProductView:${Y}:${J}:${X}:${Z}:${W}:${$.sort().join(",")}`;return aJ(G)},imageUrlCheck:(Y,J)=>{let X=`imageUrlCheck:${Y.sort().join(",")}:${J}`;return aJ(X)},looksUrlCheck:(Y,J)=>{let X=`looksUrlCheck:${Y.sort().join(",")}:${J}`;return aJ(X)},getAllSeasonalAssignments:(Y,J,X)=>`getAllSeasonalAssignments:${Y}:${J||"null"}:${X??"undefined"}`,getDivisionAssignment:(Y,J,X)=>`getDivisionAssignment:${Y}:${J}:${X}`,assignments:(Y,J)=>`assignments:${Y}${J?`:${J}`:""}`,documentSearch:(Y,J,X)=>`documentSearch:${Y}:${J}:${X}`,healthCheck:(Y)=>`health:${Y}`,entityLook:(Y)=>`entity:look:${Y}`,entityImage:(Y,J,X)=>`entity:image:${Y}:${J}:${X}`,entityDivisionAssignment:(Y,J,X)=>`entity:divAssign:${Y}:${J}:${X}`,entityDocument:(Y,J,X,Z)=>`entity:doc:${Y}:${J}:${X}:${Z}`}});function yc6(Y,J,X){let{preserveOrder:Z=!0,limit:W}=X,$=new Map;for(let G of Y){let Q=J(G);if(!$.has(Q)){if($.set(Q,G),W&&$.size>=W)break}}return Z?Array.from($.values()):[...$.values()]}function xu0(Y,J,X={}){return yc6(Y,(W)=>{let $=J.map((G)=>JSON.stringify(W[G]));return aJ($.join("|"))},X)}var fu0=w(()=>{bK();k5()});function v6(Y,J){return async(X,Z,W)=>{try{let $=Y.parse(Z);return await J(X,$,W)}catch($){if($ instanceof Z1.ZodError){let G=$.issues??[],Q=G.map((U)=>`${U.path.join(".")}: ${U.message}`).join(", ");throw new vu0.GraphQLError(`Input validation failed: ${Q}`,{extensions:{code:"BAD_USER_INPUT",validationErrors:G.map((U)=>({path:U.path,message:U.message}))}})}throw $}}}var vu0,hu0,bu0,yu0,gu0,uu0,mu0,du0,gc6,cu0,lu0,pu0,nu0,iu0;var _Y=w(()=>{qF();vu0=q1(f1(),1),hu0=Z1.object({brand:Z1.string().optional(),season:Z1.string().optional(),division:Z1.string().optional()}).strict(),bu0=Z1.object({brand:Z1.string().optional(),season:Z1.string().optional(),division:Z1.string().optional()}).strict(),yu0=Z1.enum(["SELLIN","B2B"]),gu0=Z1.object({SalesOrganizationCode:Z1.string().min(1),StyleSeasonCode:Z1.string().min(1),DivisionCode:Z1.string().min(1),ActiveOption:Z1.boolean(),SalesChannels:Z1.array(yu0).min(1)}).strict(),uu0=Z1.object({BrandCode:Z1.string().min(1),SalesOrganizationCode:Z1.string().min(1),StyleSeasonCode:Z1.string().min(1),DivisionCode:Z1.string().min(1),ActiveOption:Z1.boolean(),SalesChannels:Z1.array(yu0).min(1)}).strict(),mu0=Z1.object({divisionCode:Z1.string().min(1),styleSeasonCode:Z1.string().min(1),styleCode:Z1.string().min(1)}).strict(),du0=Z1.object({lookDocKey:Z1.string().min(1)}).strict(),gc6=Z1.object({bucket:Z1.string().min(1),scope:Z1.string().min(1),collection:Z1.string().min(1)}).strict(),cu0=Z1.object({collections:Z1.array(gc6).min(1),keys:Z1.array(Z1.string()).min(1)}).strict(),lu0=Z1.object({divisions:Z1.array(Z1.string().min(1)).min(1),season:Z1.string().min(1)}).strict(),pu0=Z1.object({divisions:Z1.array(Z1.string().min(1)).min(1),season:Z1.string().min(1)}).strict(),nu0=Z1.object({styleSeasonCode:Z1.string().min(1),companyCode:Z1.string().optional(),isActive:Z1.boolean().optional()}).strict(),iu0=Z1.object({styleSeasonCode:Z1.string().min(1),companyCode:Z1.string().min(1),divisionCode:Z1.string().min(1)}).strict()});var uc6,mc6,ou0;var ru0=w(()=>{k5();R5();fu0();m5();_Y();uc6=v6(cu0,async(Y,J,X)=>{let{collections:Z,keys:W}=J,$=V8.documentSearch(Z.map((G)=>`${G.bucket}.${G.scope}.${G.collection}`).join(","),W.join(","),W.length);return L1("Document search initiated",{requestId:X.requestId,collections:Z.length,keys:W.length,useDataLoader:!!X.dataLoader}),await L6($,async()=>{return await Y41(Z,W,async()=>{try{let G=Date.now(),Q=await i61(Z,W,X.dataLoader),U=Date.now()-G,z=Q.map((O)=>({bucket:O.bucket,scope:O.scope,collection:O.collection,data:O.data,timeTaken:O.timeTaken,error:O.error})),H=xu0(z,["bucket","scope","collection"]);L1("DataLoader batch operation completed",{requestId:X.requestId,totalTime:U,successful:H.filter((O)=>O.data&&!O.error).length,notFound:H.filter((O)=>!O.data&&!O.error).length,errors:H.filter((O)=>O.error).length,deduplicatedCount:z.length-H.length});for(let O of H)if(O.data&&!O.error)R9(O,(K)=>K.data?.id?V8.entityDocument(K.bucket,K.scope,K.collection,K.data.id):null,{requiredFields:["bucket","scope","collection","data.id"],ttlMs:120000,userScoped:!1});return H}catch(G){throw s1("Error in document search:",{error:G,requestId:X.requestId}),G}})},120000)}),mc6={Query:{searchDocuments:uc6}},ou0=mc6});class au0{limits=new Map;metricLabels=new Map;stats=new Map;enabled=!0;constructor(){this.setDefaultLimits()}setDefaultLimits(){let Y=[{metricName:"graphql_resolver_duration_ms",maxCardinality:500,enabled:!0,labelKeys:["operation","field","status"]},{metricName:"graphql_resolver_calls_total",maxCardinality:500,enabled:!0,labelKeys:["operation","field"]},{metricName:"graphql_resolver_errors_total",maxCardinality:300,enabled:!0,labelKeys:["operation","field","error"]},{metricName:"database_operation_duration_ms",maxCardinality:200,enabled:!0,labelKeys:["operation","status"]},{metricName:"http_requests_total",maxCardinality:1000,enabled:!0,labelKeys:["method","route","status_code"]},{metricName:"capellaql_performance_metrics",maxCardinality:100,enabled:!0,labelKeys:["component","status"]}];Y.forEach((J)=>{this.limits.set(J.metricName,J),this.stats.set(J.metricName,{metricName:J.metricName,currentCardinality:0,maxCardinality:J.maxCardinality,droppedLabels:0,violationsCount:0})}),L1("Metrics cardinality manager initialized with default limits",{metricsCount:Y.length})}setCardinalityLimit(Y,J){let X=this.limits.get(Y),Z={metricName:Y,maxCardinality:J.maxCardinality??1000,enabled:J.enabled??!0,labelKeys:J.labelKeys??void 0,...X};if(this.limits.set(Y,Z),!this.stats.has(Y))this.stats.set(Y,{metricName:Y,currentCardinality:0,maxCardinality:Z.maxCardinality,droppedLabels:0,violationsCount:0});L1(`Cardinality limit set for metric: ${Y}`,Z)}checkCardinality(Y,J){if(!this.enabled)return{allowed:!0};let X=this.limits.get(Y);if(!X||!X.enabled)return{allowed:!0};let Z=this.getRelevantLabels(J,X.labelKeys),W=this.sanitizeLabels(Z),$=this.createLabelKey(W);if(!this.metricLabels.has(Y))this.metricLabels.set(Y,new Set);let G=this.metricLabels.get(Y),Q=this.stats.get(Y);if(G.has($))return{allowed:!0,sanitizedLabels:W};if(G.size>=X.maxCardinality){if(Q.droppedLabels++,Q.violationsCount++,Q.lastViolation=new Date,Q.violationsCount%100===1)F4(`Cardinality limit exceeded for metric: ${Y}`,{currentCardinality:G.size,maxCardinality:X.maxCardinality,droppedLabels:Q.droppedLabels,attemptedLabels:W});return{allowed:!1,reason:`Cardinality limit (${X.maxCardinality}) exceeded for metric ${Y}`,sanitizedLabels:this.getFallbackLabels(Y)}}return G.add($),Q.currentCardinality=G.size,{allowed:!0,sanitizedLabels:W}}getRelevantLabels(Y,J){if(!J)return Y;let X={};return J.forEach((Z)=>{if(Y[Z]!==void 0)X[Z]=Y[Z]}),X}sanitizeLabels(Y){let J={};for(let[X,Z]of Object.entries(Y)){let W=Z;if(W.length>100)W=`${W.substring(0,100)}...`;if(W=W.replace(/[^\w\-_.:/]/g,"_"),X==="user_id"||X==="request_id"||X==="trace_id")W=this.hashHighCardinalityValue(W);if(X==="url"||X==="path")W=this.sanitizeUrlPath(W);if(X==="client_ip"||X==="remote_addr")W=this.sanitizeIpAddress(W);J[X]=W}return J}hashHighCardinalityValue(Y){let J=0;for(let X=0;X<Y.length;X++){let Z=Y.charCodeAt(X);J=(J<<5)-J+Z,J=J&J}return`hashed_${Math.abs(J).toString(16).substring(0,8)}`}sanitizeUrlPath(Y){return Y.replace(/\/\d+/g,"/:id").replace(/\/[a-f0-9-]{8,}/g,"/:uuid").replace(/\/\w{20,}/g,"/:token").replace(/\?.*$/,"").substring(0,100)}sanitizeIpAddress(Y){if(/^\d+\.\d+\.\d+\.\d+$/.test(Y))return Y.replace(/\.\d+$/,".0");return"masked_ip"}createLabelKey(Y){return Object.keys(Y).sort().map((X)=>`${X}=${Y[X]}`).join("|")}getFallbackLabels(Y){return{status:"cardinality_limited",metric:Y,reason:"high_cardinality"}}getCardinalityStats(){return Array.from(this.stats.values())}resetCardinality(Y){if(Y){this.metricLabels.delete(Y);let J=this.stats.get(Y);if(J)J.currentCardinality=0,J.droppedLabels=0,J.violationsCount=0,delete J.lastViolation}else this.metricLabels.clear(),this.stats.forEach((J)=>{J.currentCardinality=0,J.droppedLabels=0,J.violationsCount=0,delete J.lastViolation});L1(`Cardinality tracking reset${Y?` for ${Y}`:" for all metrics"}`)}setEnabled(Y){this.enabled=Y,L1(`Metrics cardinality management ${Y?"enabled":"disabled"}`)}getConfiguration(){return{enabled:this.enabled,limitsCount:this.limits.size,totalMetrics:this.metricLabels.size,limits:Array.from(this.limits.values())}}performMaintenance(){let Y=0,J=0;this.metricLabels.forEach((X,Z)=>{Y+=X.size;let W=this.limits.get(Z);if(W&&X.size>W.maxCardinality*0.8)L1(`High cardinality warning for metric: ${Z}`,{current:X.size,limit:W.maxCardinality,usage:`${Math.round(X.size/W.maxCardinality*100)}%`})}),L1("Cardinality maintenance completed",{totalMetrics:this.metricLabels.size,totalCardinality:Y,cleanedMetrics:J})}}function $f(Y,J){let X=dc6.checkCardinality(Y,J);return{allowed:X.allowed,labels:X.sanitizedLabels||J}}var dc6;var su0=w(()=>{x8();dc6=new au0});function I8(Y,J,X){return async(...Z)=>{let W=Date.now(),$=!0,G,Q=$f("graphql_resolver_calls_total",{operation:Y,field:J});if(Q.allowed)lc6.add(1,Q.labels);try{return await X(...Z)}catch(U){$=!1,G=U instanceof Error?U.message:String(U);let z=$f("graphql_resolver_errors_total",{operation:Y,field:J,error:G});if(z.allowed)pc6.add(1,z.labels);throw U}finally{let U=Date.now()-W,z=$f("graphql_resolver_duration_ms",{operation:Y,field:J,status:$?"success":"error"});if(z.allowed)cc6.record(U,z.labels);let H={operationName:Y,fieldName:J,duration:U,success:$,error:G,timestamp:Date.now()};if(sJ.push(H),sJ.length>nc6)sJ.shift();if(U>1000)L1("Slow GraphQL operation detected",{operation:Y,field:J,duration:`${U}ms`,success:$})}}}function Gf(){return[...sJ]}function Qf(){if(sJ.length===0)return{totalOperations:0,averageDuration:0,errorRate:0,slowOperations:0,operationBreakdown:{}};let Y=sJ.length,J=sJ.reduce(($,G)=>$+G.duration,0),X=sJ.filter(($)=>!$.success).length,Z=sJ.filter(($)=>$.duration>1000).length,W={};return sJ.forEach(($)=>{let G=`${$.operationName}.${$.fieldName}`;if(!W[G])W[G]={count:0,averageDuration:0,errorRate:0};W[G].count++,W[G].averageDuration+=$.duration}),Object.keys(W).forEach(($)=>{let G=sJ.filter((Q)=>`${Q.operationName}.${Q.fieldName}`===$);W[$].averageDuration=G.reduce((Q,U)=>Q+U.duration,0)/G.length,W[$].errorRate=G.filter((Q)=>!Q.success).length/G.length}),{totalOperations:Y,averageDuration:J/Y,errorRate:X/Y,slowOperations:Z,operationBreakdown:W}}var tu0,iJ1,cc6,lc6,pc6,sJ,nc6=100;var k7=w(()=>{x8();su0();tu0=q1(t(),1),iJ1=tu0.metrics.getMeter("capellaql-graphql-performance","1.0.0"),cc6=iJ1.createHistogram("graphql_resolver_duration_ms",{description:"GraphQL resolver execution time in milliseconds"}),lc6=iJ1.createCounter("graphql_resolver_calls_total",{description:"Total number of GraphQL resolver calls"}),pc6=iJ1.createCounter("graphql_resolver_errors_total",{description:"Total number of GraphQL resolver errors"}),sJ=[]});function oJ1(Y){if(Y===null||typeof Y!=="object")return Y;if(Array.isArray(Y))return Y.map(oJ1);let J={},X=Object.keys(Y).sort();for(let Z of X)J[Z]=oJ1(Y[Z]);return J}function ic6(Y){let J=new Date;switch(Y){case"minute":return`${J.getUTCFullYear()}-${J.getUTCMonth()}-${J.getUTCDate()}-${J.getUTCHours()}-${J.getUTCMinutes()}`;case"hour":return`${J.getUTCFullYear()}-${J.getUTCMonth()}-${J.getUTCDate()}-${J.getUTCHours()}`;case"day":return`${J.getUTCFullYear()}-${J.getUTCMonth()}-${J.getUTCDate()}`}}class B5{components=[];_prefix;constructor(Y){this.components.push(Y)}static for(Y){return new B5(Y)}withVariables(Y){return this.components.push(JSON.stringify(oJ1(Y))),this}withUser(Y){return this.components.push(`user:${Y}`),this}withTimeBucket(Y){return this.components.push(`time:${ic6(Y)}`),this}withPrefix(Y){return this._prefix=Y,this}withCustom(Y,J){return this.components.push(`${Y}:${J}`),this}build(){let Y=this.components.join("|"),J=aJ(Y);return this._prefix?`${this._prefix}:${J}`:J}}var eZ=w(()=>{k5()});var oc6,rc6,eu0;var Ym0=w(()=>{k5();R5();k7();eZ();x8();_Y();oc6=v6(nu0,async(Y,J,X)=>{try{let{styleSeasonCode:Z,companyCode:W,isActive:$}=J,G=B5.for("getAllSeasonalAssignments").withVariables({styleSeasonCode:Z,companyCode:W,isActive:$}).withPrefix("gql").build();return L1("Get all seasonal assignments query initiated",{requestId:X.requestId,styleSeasonCode:Z,companyCode:W,isActive:$,user:X.user?.id}),await L6(G,async()=>{let Q=await g0.getConnection(),U="EXECUTE FUNCTION `default`.`new_model`.getAllSeasonalAssignments($styleSeasonCode, $companyCode)",z={styleSeasonCode:Z,companyCode:W!==void 0?W:null};L1("Executing get all seasonal assignments query (cache miss)",{query:"EXECUTE FUNCTION `default`.`new_model`.getAllSeasonalAssignments($styleSeasonCode, $companyCode)",parameters:z,requestId:X.requestId});let H=await O6.execute(Q.cluster,"EXECUTE FUNCTION `default`.`new_model`.getAllSeasonalAssignments($styleSeasonCode, $companyCode)",{parameters:z,usePreparedStatement:!0,queryContext:"default.new_model",requestId:X.requestId});if(h0("Get all seasonal assignments query result",{requestId:X.requestId,rowCount:H.rows?.length||0,result:JSON.stringify(H.rows[0],null,2)}),$!==void 0)H.rows[0]=H.rows[0].map((K)=>({...K,divisions:K.divisions.filter((B)=>B.isActive===$)}));let O=H.rows[0];for(let K of O||[])if(K.divisions)for(let B of K.divisions)R9({...K,division:B},(F)=>V8.entityDivisionAssignment(F.styleSeasonCode,F.companyCode,F.division?.code||""),{requiredFields:["styleSeasonCode","companyCode"],ttlMs:300000,userScoped:!0,userId:X.user?.id});return O},300000)}catch(Z){throw F4("Error in get all seasonal assignments resolver:",{error:Z,requestId:X.requestId,args:J}),Z}}),rc6={Query:{getAllSeasonalAssignments:I8("Query","getAllSeasonalAssignments",oc6)}},eu0=rc6});var ac6,sc6,Jm0;var Xm0=w(()=>{k5();R5();k7();eZ();x8();_Y();ac6=v6(iu0,async(Y,J,X)=>{try{let{styleSeasonCode:Z,companyCode:W,divisionCode:$}=J,G=B5.for("getDivisionAssignment").withVariables({styleSeasonCode:Z,companyCode:W,divisionCode:$}).withPrefix("gql").build();L1("Get division assignment query initiated",{requestId:X.requestId,styleSeasonCode:Z,companyCode:W,divisionCode:$,user:X.user?.id});let Q=V8.entityDivisionAssignment(Z,W,$),U=await Nz(Q,{userScoped:!0,userId:X.user?.id});if(U)return L1("Division assignment entity cache hit",{requestId:X.requestId,styleSeasonCode:Z,companyCode:W,divisionCode:$,cacheStatus:"entity-hit"}),U;let z=X.user?.id?`user:${X.user.id}:${Q}`:Q;return await L6(z,async()=>{let H=await g0.getConnection(),O="EXECUTE FUNCTION `default`.`new_model`.getDivisionAssignment($styleSeasonCode, $companyCode, $divisionCode)",K={styleSeasonCode:Z,companyCode:W,divisionCode:$};L1("Executing get division assignment query (cache miss)",{query:"EXECUTE FUNCTION `default`.`new_model`.getDivisionAssignment($styleSeasonCode, $companyCode, $divisionCode)",parameters:K,requestId:X.requestId});let B=await O6.execute(H.cluster,"EXECUTE FUNCTION `default`.`new_model`.getDivisionAssignment($styleSeasonCode, $companyCode, $divisionCode)",{parameters:K,usePreparedStatement:!0,queryContext:"default.new_model",requestId:X.requestId});h0("Get division assignment query result",{requestId:X.requestId,rowCount:B.rows?.length||0,result:JSON.stringify(B.rows[0][0],null,2)});let F=B.rows[0][0];return R9(F,()=>Q,{requiredFields:["styleSeasonCode","companyCode"],ttlMs:300000,userScoped:!0,userId:X.user?.id}),F},300000)}catch(Z){throw F4("Error in get division assignment resolver:",{error:Z,requestId:X.requestId,args:J}),Z}}),sc6={Query:{getDivisionAssignment:I8("Query","getDivisionAssignment",ac6)}},Jm0=sc6});var tc6,ec6,Zm0;var Wm0=w(()=>{k5();R5();k7();eZ();x8();_Y();tc6=v6(mu0,async(Y,J,X)=>{try{let{divisionCode:Z,styleSeasonCode:W,styleCode:$}=J,G=B5.for("imageDetails").withVariables({divisionCode:Z,styleSeasonCode:W,styleCode:$}).withPrefix("gql").build();L1("Image details query initiated",{requestId:X.requestId,divisionCode:Z,styleSeasonCode:W,styleCode:$,user:X.user?.id});let Q=V8.entityImage(Z,W,$),U=await Nz(Q);if(U)return L1("Image details entity cache hit",{requestId:X.requestId,divisionCode:Z,styleSeasonCode:W,styleCode:$,cacheStatus:"entity-hit"}),U;return await L6(Q,async()=>{let z=await g0.getConnection(),H="EXECUTE FUNCTION `default`.`_default`.getImageDetails($divisionCode, $styleSeasonCode, $styleCode)",O={divisionCode:Z,styleSeasonCode:W,styleCode:$};L1("Executing image details query (cache miss)",{query:"EXECUTE FUNCTION `default`.`_default`.getImageDetails($divisionCode, $styleSeasonCode, $styleCode)",parameters:O,requestId:X.requestId});let K=await O6.execute(z.cluster,"EXECUTE FUNCTION `default`.`_default`.getImageDetails($divisionCode, $styleSeasonCode, $styleCode)",{parameters:O,usePreparedStatement:!0,queryContext:"default._default",requestId:X.requestId});h0("Image details query result",{requestId:X.requestId,rowCount:K.rows?.length||0,result:JSON.stringify(K.rows[0],null,2)});let B=K.rows[0][0];return R9(B,()=>Q,{requiredFields:["imageKey"],ttlMs:600000,userScoped:!1}),B},600000)}catch(Z){throw F4("Error in image details resolver:",{error:Z,requestId:X.requestId,args:J}),Z}}),ec6={Query:{imageDetails:I8("Query","imageDetails",tc6)}},Zm0=ec6});var Yl6,Jl6,$m0;var Gm0=w(()=>{k5();R5();k7();x8();_Y();Yl6=v6(lu0,async(Y,J,X)=>{try{let{divisions:Z,season:W}=J,$=V8.imageUrlCheck(Z,W);return L1("Image URL check query initiated",{requestId:X.requestId,divisions:Z.slice(0,5),divisionsCount:Z.length,season:W,user:X.user?.id}),await L6($,async()=>{let G=await g0.getConnection(),Q="EXECUTE FUNCTION `default`.`_default`.getImageUrlCheck($divisions, $season)",U={divisions:Z,season:W};L1("Executing image URL check query (cache miss)",{query:"EXECUTE FUNCTION `default`.`_default`.getImageUrlCheck($divisions, $season)",parameters:U,requestId:X.requestId});let z=await O6.execute(G.cluster,"EXECUTE FUNCTION `default`.`_default`.getImageUrlCheck($divisions, $season)",{parameters:U,usePreparedStatement:!0,queryContext:"default._default",requestId:X.requestId});return h0("Image URL check query result",{requestId:X.requestId,rowCount:z.rows?.length||0,result:JSON.stringify(z.rows[0],null,2)}),z.rows[0]},120000)}catch(Z){throw F4("Error in image URL check resolver:",{error:Z,requestId:X.requestId,args:J}),Z}}),Jl6={Query:{getImageUrlCheck:I8("Query","getImageUrlCheck",Yl6)}},$m0=Jl6});var Xl6,Zl6,Qm0;var Um0=w(()=>{k5();R5();k7();eZ();x8();_Y();Xl6=v6(du0,async(Y,J,X)=>{try{let{lookDocKey:Z}=J,W=B5.for("lookDetails").withVariables({lookDocKey:Z}).withPrefix("gql").build();L1("Look details query initiated",{requestId:X.requestId,lookDocKey:Z.substring(0,50)+(Z.length>50?"...":""),user:X.user?.id});let $=V8.entityLook(Z),G=await Nz($);if(G)return L1("Look details entity cache hit",{requestId:X.requestId,lookDocKey:Z.substring(0,50),cacheStatus:"entity-hit"}),G;return await L6($,async()=>{let Q=await g0.getConnection(),U="EXECUTE FUNCTION `default`.`media_assets`.getLookDetails($lookDocKey)";L1("Executing look details query (cache miss)",{query:"EXECUTE FUNCTION `default`.`media_assets`.getLookDetails($lookDocKey)",parameters:{lookDocKey:Z},requestId:X.requestId});let z=await O6.execute(Q.cluster,"EXECUTE FUNCTION `default`.`media_assets`.getLookDetails($lookDocKey)",{parameters:{lookDocKey:Z},usePreparedStatement:!0,queryContext:"default.media_assets",requestId:X.requestId});h0("Look details query result",{requestId:X.requestId,rowCount:z.rows?.length||0,result:JSON.stringify(z.rows[0],null,2)});let H=z.rows[0][0];return R9(H,()=>$,{requiredFields:["documentKey","divisionCode"],ttlMs:600000,userScoped:!1}),H},600000)}catch(Z){throw F4("Error in look details resolver:",{error:Z,requestId:X.requestId,args:J}),Z}}),Zl6={Query:{lookDetails:I8("Query","lookDetails",Xl6)}},Qm0=Zl6});var Wl6,$l6,zm0;var Hm0=w(()=>{k5();R5();k7();eZ();x8();_Y();Wl6=v6(hu0,async(Y,J,X)=>{try{let{brand:Z,season:W,division:$}=J,G=B5.for("looks").withVariables({brand:Z,season:W,division:$}).withPrefix("gql").build();return L1("GraphQL looks query initiated",{requestId:X.requestId,operationName:"looks",parameters:{brand:Z,season:W,division:$},user:X.user?.id,clientIp:X.clientIp}),await L6(G,async()=>{let Q=await g0.getConnection(),U="EXECUTE FUNCTION `default`.`media_assets`.get_looks($brand, $season, $division)";L1("Database query execution (cache miss)",{operationName:"looks",query:"get_looks",parameters:{brand:Z,season:W,division:$},requestId:X.requestId,cacheStatus:"miss"});let z=await O6.execute(Q.cluster,"EXECUTE FUNCTION `default`.`media_assets`.get_looks($brand, $season, $division)",{parameters:{brand:Z,season:W,division:$},usePreparedStatement:!0,queryContext:"default.media_assets",requestId:X.requestId}),H=Date.now(),O=H-(X.startTime||H);L1("GraphQL looks query completed",{requestId:X.requestId,operationName:"looks",rowCount:z.rows?.length||0,queryDurationMs:O,performanceCategory:O>1000?"slow":O>500?"moderate":"fast",cacheStatus:"populated"}),h0("Looks query result details",{requestId:X.requestId,resultSample:JSON.stringify(z.rows[0],null,2)});let K=z.rows[0];return R9(K,(B)=>B.documentKey?V8.entityLook(B.documentKey):null,{requiredFields:["documentKey","divisionCode","lookType","assetUrl","title"],ttlMs:600000,userScoped:!1}),K},300000)}catch(Z){throw F4("GraphQL looks query failed",{error:Z instanceof Error?Z.message:String(Z),errorType:Z instanceof Error?Z.constructor.name:"unknown",requestId:X.requestId,operationName:"looks",parameters:J,clientIp:X.clientIp}),Z}}),$l6={Query:{looks:I8("Query","looks",Wl6)}},zm0=$l6});var Gl6,Ql6,Om0;var Km0=w(()=>{k5();R5();k7();eZ();x8();_Y();Gl6=v6(bu0,async(Y,J,X)=>{try{let{brand:Z,season:W,division:$}=J,G=B5.for("looksSummary").withVariables({brand:Z,season:W,division:$}).withPrefix("gql").build();return L1("Looks summary query initiated",{requestId:X.requestId,brand:Z,season:W,division:$,user:X.user?.id}),await L6(G,async()=>{let Q=await g0.getConnection(),U="EXECUTE FUNCTION `default`.`media_assets`.get_looks_summary($brand, $season, $division)";L1("Executing looks summary query (cache miss)",{query:"EXECUTE FUNCTION `default`.`media_assets`.get_looks_summary($brand, $season, $division)",parameters:{brand:Z,season:W,division:$},requestId:X.requestId});let z=await O6.execute(Q.cluster,"EXECUTE FUNCTION `default`.`media_assets`.get_looks_summary($brand, $season, $division)",{parameters:{brand:Z,season:W,division:$},usePreparedStatement:!0,queryContext:"default.media_assets",requestId:X.requestId});return h0("Looks summary query result",{requestId:X.requestId,rowCount:z.rows?.length||0,result:JSON.stringify(z.rows[0][0],null,2)}),z.rows[0][0]},300000)}catch(Z){throw F4("Error in looks summary resolver:",{error:Z,requestId:X.requestId,args:J}),Z}}),Ql6={Query:{looksSummary:I8("Query","looksSummary",Gl6)}},Om0=Ql6});var Ul6,zl6,Bm0;var qm0=w(()=>{k5();R5();k7();x8();_Y();Ul6=v6(pu0,async(Y,J,X)=>{try{let{divisions:Z,season:W}=J,$=V8.looksUrlCheck(Z,W);return L1("Looks URL check query initiated",{requestId:X.requestId,divisions:Z.slice(0,5),divisionsCount:Z.length,season:W,user:X.user?.id}),await L6($,async()=>{let G=await g0.getConnection(),Q="EXECUTE FUNCTION `default`.`media_assets`.getLooksUrlCheck($divisions, $season)",U={divisions:Z,season:W};L1("Executing looks URL check query (cache miss)",{query:"EXECUTE FUNCTION `default`.`media_assets`.getLooksUrlCheck($divisions, $season)",parameters:U,requestId:X.requestId});let z=await O6.execute(G.cluster,"EXECUTE FUNCTION `default`.`media_assets`.getLooksUrlCheck($divisions, $season)",{parameters:U,usePreparedStatement:!0,queryContext:"default.media_assets",requestId:X.requestId});return h0("Looks URL check query result",{requestId:X.requestId,rowCount:z.rows?.length||0,result:JSON.stringify(z.rows[0],null,2)}),z.rows[0]},120000)}catch(Z){throw F4("Error in looks URL check resolver:",{error:Z,requestId:X.requestId,args:J}),Z}}),zl6={Query:{getLooksUrlCheck:I8("Query","getLooksUrlCheck",Ul6)}},Bm0=zl6});var Hl6,Ol6,Fm0;var Vm0=w(()=>{k5();R5();k7();eZ();x8();_Y();Hl6=v6(uu0,async(Y,J,X)=>{try{let{BrandCode:Z,SalesOrganizationCode:W,StyleSeasonCode:$,DivisionCode:G,ActiveOption:Q,SalesChannels:U}=J,z=B5.for("optionsProductView").withVariables({BrandCode:Z,SalesOrganizationCode:W,StyleSeasonCode:$,DivisionCode:G,ActiveOption:Q,SalesChannels:U}).withPrefix("gql").build();return L1("Options product view query initiated",{requestId:X.requestId,BrandCode:Z,SalesOrganizationCode:W,StyleSeasonCode:$,DivisionCode:G,ActiveOption:Q,SalesChannelsCount:U.length,user:X.user?.id}),await L6(z,async()=>{let H=await g0.getConnection(),O="EXECUTE FUNCTION `default`.`_default`.get_options_product_view($BrandCode, $SalesOrganizationCode, $StyleSeasonCode, $DivisionCode, $ActiveOption, $SalesChannels)",K={BrandCode:Z,SalesOrganizationCode:W,StyleSeasonCode:$,DivisionCode:G,ActiveOption:Q,SalesChannels:U};L1("Executing options product view query (cache miss)",{query:"EXECUTE FUNCTION `default`.`_default`.get_options_product_view($BrandCode, $SalesOrganizationCode, $StyleSeasonCode, $DivisionCode, $ActiveOption, $SalesChannels)",parameters:K,requestId:X.requestId});let B=await O6.execute(H.cluster,"EXECUTE FUNCTION `default`.`_default`.get_options_product_view($BrandCode, $SalesOrganizationCode, $StyleSeasonCode, $DivisionCode, $ActiveOption, $SalesChannels)",{parameters:K,usePreparedStatement:!0,queryContext:"default._default",requestId:X.requestId});h0("Options product view query result",{requestId:X.requestId,rowCount:B.rows?.length||0,result:JSON.stringify(B.rows[0],null,2)});let F=B.rows[0];return R9(F,(V)=>{if(V.divisionCode&&V.styleCode)return V8.entityImage(V.divisionCode,$,V.styleCode);return null},{requiredFields:["divisionCode","styleCode","imageUrl"],ttlMs:600000,userScoped:!1}),F},300000)}catch(Z){throw F4("Error in options product view resolver:",{error:Z,requestId:X.requestId,args:J}),Z}}),Ol6={Query:{optionsProductView:I8("Query","optionsProductView",Hl6)}},Fm0=Ol6});var Kl6,Bl6,Im0;var Dm0=w(()=>{k5();R5();k7();eZ();x8();_Y();Kl6=v6(gu0,async(Y,J,X)=>{try{let{SalesOrganizationCode:Z,StyleSeasonCode:W,DivisionCode:$,ActiveOption:G,SalesChannels:Q}=J,U=B5.for("optionsSummary").withVariables({SalesOrganizationCode:Z,StyleSeasonCode:W,DivisionCode:$,ActiveOption:G,SalesChannels:Q}).withPrefix("gql").build();return L1("Options summary query initiated",{requestId:X.requestId,SalesOrganizationCode:Z,StyleSeasonCode:W,DivisionCode:$,ActiveOption:G,SalesChannelsCount:Q.length,user:X.user?.id}),await L6(U,async()=>{let z=await g0.getConnection(),H="EXECUTE FUNCTION `default`.`_default`.get_options_summary($SalesOrganizationCode, $StyleSeasonCode, $DivisionCode, $ActiveOption, $SalesChannels)",O={SalesOrganizationCode:Z,StyleSeasonCode:W,DivisionCode:$,ActiveOption:G,SalesChannels:Q};L1("Executing options summary query (cache miss)",{query:"EXECUTE FUNCTION `default`.`_default`.get_options_summary($SalesOrganizationCode, $StyleSeasonCode, $DivisionCode, $ActiveOption, $SalesChannels)",parameters:O,requestId:X.requestId});let K=await O6.execute(z.cluster,"EXECUTE FUNCTION `default`.`_default`.get_options_summary($SalesOrganizationCode, $StyleSeasonCode, $DivisionCode, $ActiveOption, $SalesChannels)",{parameters:O,usePreparedStatement:!0,queryContext:"default._default",requestId:X.requestId});return h0("Options summary query result",{requestId:X.requestId,rowCount:K.rows?.length||0,result:JSON.stringify(K.rows[0],null,2)}),K.rows[0][0]},180000)}catch(Z){throw F4("Error in options summary resolver:",{error:Z,requestId:X.requestId,args:J}),Z}}),Bl6={Query:{optionsSummary:I8("Query","optionsSummary",Kl6)}},Im0=Bl6});var ql6,wm0;var Am0=w(()=>{ru0();Ym0();Xm0();Wm0();Gm0();Um0();Hm0();Km0();qm0();Vm0();Dm0();ql6={Query:{...zm0.Query,...Om0.Query,...Im0.Query,...Fm0.Query,...Zm0.Query,...Qm0.Query,...$m0.Query,...Bm0.Query,...ou0.Query,...Jm0.Query,...eu0.Query}},wm0=ql6});var Pm0,Dg8,rJ1,wg8,Ag8,Pg8,Lg8,Mg8,Eg8,Tg8,Rg8,Ng8,Sg8,Cg8,jg8,kg8,_g8,xg8,fg8,vg8,hg8,bg8,yg8,gg8,ug8,mg8,dg8,cg8,lg8,pg8,ng8,ig8,og8;var Lm0=w(()=>{Pm0=q1(e9(),1),{__extends:Dg8,__assign:rJ1,__rest:wg8,__decorate:Ag8,__param:Pg8,__esDecorate:Lg8,__runInitializers:Mg8,__propKey:Eg8,__setFunctionName:Tg8,__metadata:Rg8,__awaiter:Ng8,__generator:Sg8,__exportStar:Cg8,__createBinding:jg8,__values:kg8,__read:_g8,__spread:xg8,__spreadArrays:fg8,__spreadArray:vg8,__await:hg8,__asyncGenerator:bg8,__asyncDelegator:yg8,__asyncValues:gg8,__makeTemplateObject:ug8,__importStar:mg8,__importDefault:dg8,__classPrivateFieldGet:cg8,__classPrivateFieldSet:lg8,__classPrivateFieldIn:pg8,__addDisposableResource:ng8,__disposeResources:ig8,__rewriteRelativeImportExtension:og8}=Pm0.default});function Tm0(Y){return Y.replace(/[\s,]+/g," ").trim()}function Fl6(Y){return Tm0(Y.source.body.substring(Y.start,Y.end))}function Vl6(Y){var J=new Set,X=[];return Y.definitions.forEach(function(Z){if(Z.kind==="FragmentDefinition"){var W=Z.name.value,$=Fl6(Z.loc),G=aJ1.get(W);if(G&&!G.has($)){if(Em0)console.warn("Warning: fragment with name "+W+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`)}else if(!G)aJ1.set(W,G=new Set);if(G.add($),!J.has($))J.add($),X.push(Z)}else X.push(Z)}),rJ1(rJ1({},Y),{definitions:X})}function Il6(Y){var J=new Set(Y.definitions);J.forEach(function(Z){if(Z.loc)delete Z.loc;Object.keys(Z).forEach(function(W){var $=Z[W];if($&&typeof $==="object")J.add($)})});var X=Y.loc;if(X)delete X.startToken,delete X.endToken;return Y}function Dl6(Y){var J=Tm0(Y);if(!Uf.has(J)){var X=Mm0.parse(Y,{experimentalFragmentVariables:zf,allowLegacyFragmentVariables:zf});if(!X||X.kind!=="Document")throw Error("Not a valid GraphQL document.");Uf.set(J,Il6(Vl6(X)))}return Uf.get(J)}function Sz(Y){var J=[];for(var X=1;X<arguments.length;X++)J[X-1]=arguments[X];if(typeof Y==="string")Y=[Y];var Z=Y[0];return J.forEach(function(W,$){if(W&&W.kind==="Document")Z+=W.loc.source.body;else Z+=W;Z+=Y[$+1]}),Dl6(Z)}function wl6(){Uf.clear(),aJ1.clear()}function Al6(){Em0=!1}function Pl6(){zf=!0}function Ll6(){zf=!1}var Mm0,Uf,aJ1,Em0=!0,zf=!1,OL;var Rm0=w(()=>{Lm0();Mm0=q1(f1(),1),Uf=new Map,aJ1=new Map;OL={gql:Sz,resetCaches:wl6,disableFragmentWarnings:Al6,enableExperimentalFragmentVariables:Pl6,disableExperimentalFragmentVariables:Ll6};(function(Y){Y.gql=OL.gql,Y.resetCaches=OL.resetCaches,Y.disableFragmentWarnings=OL.disableFragmentWarnings,Y.enableExperimentalFragmentVariables=OL.enableExperimentalFragmentVariables,Y.disableExperimentalFragmentVariables=OL.disableExperimentalFragmentVariables})(Sz||(Sz={}));Sz.default=Sz});var Ml6,Nm0;var Sm0=w(()=>{Rm0();Ml6=Sz`
  enum SalesChannel {
    SELLIN
    B2B
  }

  type Look {
    documentKey: String
    divisionCode: String
    lookType: Int
    assetUrl: String
    title: String
    trend: String
    relatedStyles: [String]
    isDeleted: Boolean
  }

  type LookSummary {
    hasDeliveryName: Int
    hasDescription: Int
    hasGender: Int
    hasRelatedStyles: Int
    hasTag: Int
    hasTitle: Int
    hasTrend: Int
    totalLooks: Int
  }

  type OptionSummary {
    totalOptions: Int!
    hasImages: Int!
    hasFrontImageUrl: Int!
    isActive: Int!
    isAvailable: Int!
    isCancelled: Int!
    isClosed: Int!
    isInvalid: Int!
    isLicensed: Int!
    isNew: Int!
    isSoldOut: Int!
    isUpdated: Int!
    isOpenForEcom: Int!
    hasDeliveryDates: Int!
  }

  type Status {
    code: String
    description: String
    isAvailable: Boolean
    isCancelled: Boolean
    isClosed: Boolean
    isInvalid: Boolean
    isSoldOut: Boolean
  }

  type Size {
    EAN: String
    index: Int
    name: String
    pimVariantKeyNo: String
    sapVariant: String
    status: Status
  }

  type SizeSet {
    sizes: [Size]
  }

  type Inseam {
    null: SizesMap
  }

  type SizesMap {
    sizes: [Size]
  }

  type Dimensions {
    heelHeight: Int
    height: Int
    length: Int
    shaftHeight: Int
    width: Int
  }

  type Theme {
    name: String
  }

  type PimDeliveryDates {
    additionalDeliveryDate: String
    adjustedDeliveryDate: String
    dropDate: Float
    modifiedOn: String
  }

  type MerchandisingHierarchy {
    business: String
    category: String
    code: String
    gender: String
    lifestyle: String
    productgroup: String
    productsubgroup: String
    world: String
  }

  type OptionProductView {
    activeOption: Boolean
    divisionCode: String
    brandCode: String
    optionCode: String
    description: String
    styleDescription: String
    internal_id: String
    images: String
    imageUrl: String
    isAvailable: Boolean
    isCancelled: Boolean
    isClosed: Boolean
    isInvalid: Boolean
    isLicensed: Boolean
    isNew: Boolean
    isSoldOut: Boolean
    isUpdated: Boolean
    isOpenForEcom: Boolean
    hasDeliveryDropDate: Boolean
    hasImageDocument: Boolean
  }

  type OptionFull {
    activeOption: Boolean
    brandCode: String
    certificationStyles: [String]
    channels: [String]
    collection: String
    collectionStructure: String
    color: String
    colorDescription1: String
    colorDescription2: String
    consumerAssortment: String
    consumerAssortmentCode: String
    copiedFromOption: String
    countryOfOrigin: String
    ctpMonth: String
    description: String
    descriptions: String
    dimensions: Dimensions
    distribution: String
    divisionCode: String
    documentType: String
    fabric: String
    fashionability: String
    fashionabilityCode: String
    fit: String
    fitForBottoms: String
    fitForTops: String
    fmsCollectionCode: String
    fmsMainSeasonCode: String
    garmentLength: String
    hasSustainableMaterials: Boolean
    hexCode: String
    images: String
    innovation: Boolean
    innovationAttributes: String
    inseams: Inseam
    internalStyleName: String
    internal_id: String
    isAvailable: Boolean
    isCancelled: Boolean
    isClosed: Boolean
    isInvalid: Boolean
    isLicensed: Boolean
    isNew: Boolean
    isSoldOut: Boolean
    isUpdated: Boolean
    keyLook: String
    label: String
    llo: Int
    mainSeason: String
    merchandisingHierarchy: MerchandisingHierarchy
    neckline: String
    openForEcom: Boolean
    optionCode: String
    optionType: String
    originatingProductLine: String
    originatingProductLineCode: String
    packingType: String
    pimDeliveryDates: PimDeliveryDates
    pimOptionKeyNo: String
    pimProductKeyNo: String
    prepackSizeOffer: String
    priceBySize: Boolean
    productStory: String
    program: String
    referenceOptionNumber: String
    referenceStyleNumber: String
    rise: String
    salesChannels: [String]
    salesComments: String
    salesOrganizationCode: String
    seasonYear: String
    shape: String
    sizeCode: String
    sizeRange: String
    sizeRangeOption: String
    sleeveLength: String
    styleDescription: String
    styleDescriptions: [String]
    styleNumber: String
    styleSeasonCode: String
    sustainableAttribute: String
    sustainableFiber: String
    sustainableFibers: [String]
    swatchBookNumber: String
    theme: Theme
    wash: String
  }

  type ImageDetails {
    imageKey: String!
    backModifiedOn: String
    backUrl: String
    back2ModifiedOn: String
    back2Url: String
    back3ModifiedOn: String
    back3Url: String
    detailModifiedOn: String
    detailUrl: String
    detail2ModifiedOn: String
    detail2Url: String
    detail3ModifiedOn: String
    detail3Url: String
    fabricScanModifiedOn: String
    fabricScanUrl: String
    frontModifiedOn: String
    frontUrl: String
    front2ModifiedOn: String
    front2Url: String
    front3ModifiedOn: String
    front3Url: String
    i360ModifiedOn: String
    i360Url: String
    imageModifiedOn: String
    imageUrl: String
    insideModifiedOn: String
    insideUrl: String
    inside2ModifiedOn: String
    inside2Url: String
    inside3ModifiedOn: String
    inside3Url: String
    gridModifiedOn: String
    gridUrl: String
    packageModifiedOn: String
    packageUrl: String
    sketchModifiedOn: String
    sketchUrl: String
  }

  type LookDetails {
    assetUrl: String
    brand: String
    channels: [String]
    createdOn: String
    createdOnSourceSystem: String
    deliveryName: String
    description: String
    divisionCode: String
    documentUpdatedBy: String
    gender: String
    isDeleted: Boolean
    lookId: String
    lookType: Int
    modifiedOn: String
    modifiedOnSourceSystem: String
    nuxeoId: String
    position: Int
    processedOn: String
    relatedStyles: [String]
    sourceSystem: String
    styleSeasonCodeAfs: String
    tag: String
    title: String
    trend: String
  }

  type UrlSuffixesResult {
    divisionCode: String!
    urls: [String!]!
  }

  scalar JSON

  input BucketScopeCollection {
    bucket: String!
    scope: String!
    collection: String!
  }

  type DocumentResult {
    bucket: String!
    scope: String!
    collection: String!
    data: JSON
    timeTaken: Float!
  }

  type SeasonalAssignment {
    channels: [String!]!
    divisions: [Division!]!
    salesOrganizationCodes: [String!]!
    companyCode: String!
    name: String!
    brand: String!
    brandName: String!
    styleSeasonCode: String!
    fms: FMS!
    createdOn: String!
    modifiedOn: String!
  }

  type SeasonalDivisionalAssignment {
    channels: [String!]!
    division: Division
    salesOrganizationCodes: [String!]!
    companyCode: String!
    name: String!
    brand: String!
    brandName: String!
    styleSeasonCode: String!
    fms: FMS!
    createdOn: String!
    modifiedOn: String!
  }

  type Division {
    name: String!
    code: String!
    isActive: Boolean!
  }

  type FMSSeason {
    code: String!
    name: String!
  }

  type FMS {
    season: [FMSSeason!]!
    year: String!
  }

  type Query {
    looksSummary(brand: String, season: String, division: String): LookSummary
    looks(brand: String, season: String, division: String): [Look]
    optionsSummary(
      SalesOrganizationCode: String!
      StyleSeasonCode: String!
      DivisionCode: String!
      ActiveOption: Boolean!
      SalesChannels: [SalesChannel!]!
    ): OptionSummary!
    optionsProductView(
      BrandCode: String!
      SalesOrganizationCode: String!
      StyleSeasonCode: String!
      DivisionCode: String!
      ActiveOption: Boolean!
      SalesChannels: [SalesChannel!]!
    ): [OptionProductView]
    imageDetails(
      divisionCode: String!
      styleSeasonCode: String!
      styleCode: String!
    ): ImageDetails
    lookDetails(lookDocKey: String!): LookDetails
    getImageUrlCheck(
      divisions: [String!]!
      season: String!
    ): [UrlSuffixesResult!]!
    getLooksUrlCheck(
      divisions: [String!]!
      season: String!
    ): [UrlSuffixesResult!]!
    searchDocuments(
      collections: [BucketScopeCollection!]!
      keys: [String!]!
    ): [DocumentResult!]!
    getAllSeasonalAssignments(
      styleSeasonCode: String!
      companyCode: String
      isActive: Boolean
    ): [SeasonalAssignment!]!
    #        getSeasonalAssignment(styleSeasonCode: String!, companyCode: String!, isActive: Boolean): SeasonalAssignment
    getDivisionAssignment(
      styleSeasonCode: String!
      companyCode: String!
      divisionCode: String!
    ): SeasonalDivisionalAssignment
  }
`,Nm0=Ml6});var km0={};h6(km0,{yoga:()=>jm0,graphqlHandler:()=>Tl6});var sJ1,Cm0,El6,tJ,jm0,Tl6=async(Y,J)=>{if(Y.method==="POST")try{let Z=await Y.clone().text();if(Z){let W=JSON.parse(Z);if(W?.query&&W.query.length>1000)_8("Large GraphQL query detected",{operationName:W.operationName,queryLength:W.query.length,requestId:J.requestId})}}catch{}return jm0.fetch(Y)};var _m0=w(()=>{CR0();wk0();ju0();f5();_u0();Am0();Sm0();m5();sJ1=q1(t(),1),Cm0=q1(Mk0(),1),El6=TR0({typeDefs:Nm0,resolvers:wm0}),tJ={default:HW.application.YOGA_RESPONSE_CACHE_TTL,looks:600000,lookDetails:600000,looksSummary:600000,optionsSummary:300000,optionsProductView:300000,getAllSeasonalAssignments:300000,getDivisionAssignment:300000,imageDetails:900000,searchDocuments:120000},jm0=wu0({schema:El6,context:ku0,batching:{limit:10},graphqlEndpoint:"/graphql",landingPage:!0,maskedErrors:{maskError:(Y,J)=>{if(Y?.extensions?.code==="BAD_USER_INPUT"||Y?.message?.includes("Input validation failed"))return Y;if(HW.runtime.NODE_ENV==="production")return Error(J);return Y}},plugins:[Dk0({enabled:(Y)=>{let J=Y.headers.get("x-no-cache"),X=Y.headers.get("cache-control");if(J==="true"||X?.includes("no-cache"))return!1;return!0},session:(Y)=>{let J=Y.headers.get("authorization");if(J)return J;return null},ttl:tJ.default,ttlPerSchemaCoordinate:{"Query.looks":tJ.looks,"Query.lookDetails":tJ.lookDetails,"Query.looksSummary":tJ.looksSummary,"Query.optionsSummary":tJ.optionsSummary,"Query.optionsProductView":tJ.optionsProductView,"Query.getAllSeasonalAssignments":tJ.getAllSeasonalAssignments,"Query.getDivisionAssignment":tJ.getDivisionAssignment,"Query.imageDetails":tJ.imageDetails,"Query.searchDocuments":tJ.searchDocuments,__Schema:3600000,__Type:3600000,__Field:3600000,__InputValue:3600000,__EnumValue:3600000,__Directive:3600000},invalidateViaMutation:!0,includeExtensionMetadata:HW.runtime.NODE_ENV==="development"}),{onParse({params:Y,addError:J}){if(Y.source.length>1e4)J(Error("Query too large - maximum 10KB allowed"))}},{onError:({error:Y})=>{if(Y?.extensions?.code==="BAD_USER_INPUT"||Y?.message?.includes("Input validation failed"))h0("GraphQL validation error",{error:Y.message,code:Y?.extensions?.code});else s1("GraphQL Error",{error:Y.message,stack:Y.stack})}},{onParse:({params:Y})=>{let J=sJ1.trace.getActiveSpan();if(J&&Y){if(J.setAttribute("graphql.operation_name",Y.operationName||"Unknown"),Y.source)J.setAttribute("graphql.query",Y.source)}},onValidate:({document:Y})=>{let J=sJ1.trace.getActiveSpan();if(J&&Y?.definitions){let X=Y.definitions[0],Z=X?.kind==="OperationDefinition"?X.name?.value||"Unknown":"Unknown";J.setAttribute("graphql.operation_name",Z)}}},{onResponse({response:Y,request:J}){if(Y.headers.get("x-yoga-cache")==="HIT")L1("Cache HIT",{})}}],validationRules:[Cm0.default(10)]});L1("GraphQL Response Cache enabled",{defaultTTL:tJ.default,etagSupport:!0,sessionBasedCaching:!0,invalidateViaMutation:!0})});var vm0={};h6(vm0,{shutdownPerformanceMonitor:()=>Rl6,performanceMonitor:()=>KL,getPerformanceTrends:()=>eJ1,getPerformanceMetrics:()=>Hf,getPerformanceHistory:()=>tJ1});class fm0{meter=xm0.metrics.getMeter("capellaql-performance");databaseLatencyHistogram=this.meter.createHistogram("database_operation_duration_ms",{description:"Database operation latency in milliseconds",unit:"ms"});memoryGauge=this.meter.createUpDownCounter("memory_usage_bytes",{description:"Memory usage in bytes",unit:"bytes"});telemetryLatencyHistogram=this.meter.createHistogram("telemetry_export_duration_ms",{description:"Telemetry export latency in milliseconds",unit:"ms"});recentMetrics=[];maxMetricsHistory=100;maxMetricAge=900000;cleanupInterval=null;constructor(){this.startCleanupScheduler()}startCleanupScheduler(){this.cleanupInterval=setInterval(()=>{this.performCleanup()},300000)}performCleanup(){let Y=Date.now(),J=0,X=this.recentMetrics.length;if(this.recentMetrics=this.recentMetrics.filter((Z)=>{let W=new Date(Z.timestamp).getTime();return Y-W<this.maxMetricAge}),this.recentMetrics.length>this.maxMetricsHistory)this.recentMetrics=this.recentMetrics.slice(-this.maxMetricsHistory);if(J=X-this.recentMetrics.length,J>0)h0("Performance Monitor metrics cleaned",{totalCleaned:J,component:"performance-monitor"})}checkMemoryPressure(){if(typeof Bun<"u")try{let X=process.memoryUsage(),Z=X.heapUsed,W=X.heapTotal;return Z/W>0.85}catch{let X=process.memoryUsage();return X.heapUsed/(X.heapUsed+X.heapTotal)>0.85}let Y=process.memoryUsage(),J=Y.rss+Y.external;return Y.heapUsed/J>0.85}shutdown(){if(this.cleanupInterval)clearInterval(this.cleanupInterval),this.cleanupInterval=null;this.performCleanup(),L1("Performance Monitor shutdown complete",{finalMetricsCount:this.recentMetrics.length,component:"performance-monitor"})}async collectMetrics(){let Y=new Date().toISOString();if(this.checkMemoryPressure())console.warn("Memory pressure detected - performing aggressive cleanup"),this.performCleanup();let J=await this.collectDatabaseMetrics(),X=this.collectRuntimeMetrics(),Z=await this.collectTelemetryMetrics(),W=this.collectGraphQLMetrics(),$=this.calculateCorrelations(J,X,Z,W),G=this.calculateBusinessMetrics(J,X,Z,W),Q={timestamp:Y,database:J,runtime:X,telemetry:Z,graphql:W,correlations:$,businessMetrics:G};if(this.recordOpenTelemetryMetrics(Q),this.recentMetrics.push(Q),this.checkMemoryPressure())this.recentMetrics=this.recentMetrics.slice(-50),console.debug("Memory pressure: Reduced metrics history to 50 entries");else if(this.recentMetrics.length>this.maxMetricsHistory)this.recentMetrics.shift();return Q}async collectDatabaseMetrics(){let{result:Y,duration:J}=await Kw.measure(()=>g0.ping()),X="disconnected";if(Y.success)X=Y.latency&&Y.latency<1000?"connected":"degraded";return{latency:J,connectionStatus:X,operationsPerSecond:this.calculateDatabaseOps(),errorRate:this.calculateDatabaseErrorRate()}}collectRuntimeMetrics(){let Y=process.memoryUsage(),J=Y.rss,X=Y.heapUsed;return{memoryUsage:J,heapUsage:X,eventLoopLag:this.measureEventLoopLag()}}async collectTelemetryMetrics(){let Y=Z3(),{duration:J}=await Kw.measure(async()=>{return Promise.resolve(!0)});return{exportLatency:J,droppedSpans:0,batchSize:2048,circuitBreakerState:Y.circuitBreaker?.state||"unknown"}}collectGraphQLMetrics(){let Y=Qf(),J=Gf(),X=new Map;J.forEach((W)=>{let $=`${W.operationName}.${W.fieldName}`;if(!X.has($))X.set($,{total:0,count:0,durations:[]});let G=X.get($);G.total+=W.duration,G.count+=1,G.durations.push(W.duration)});let Z=Array.from(X.entries()).map(([W,$])=>({operation:W.split(".")[0],field:W.split(".")[1],averageDuration:$.total/$.count})).sort((W,$)=>$.averageDuration-W.averageDuration).slice(0,5);return{averageDuration:Y.averageDuration,totalOperations:Y.totalOperations,errorRate:Y.errorRate,slowOperations:Y.slowOperations,topSlowResolvers:Z}}calculateCorrelations(Y,J,X,Z){let W=this.calculateCorrelation(this.recentMetrics.map((U)=>U.database.latency),this.recentMetrics.map((U)=>U.runtime.memoryUsage)),$=this.calculateCorrelation(this.recentMetrics.map((U)=>U.telemetry.exportLatency),this.recentMetrics.map((U)=>U.database.latency+(U.runtime.eventLoopLag||0))),G=this.calculateCorrelation(this.recentMetrics.filter((U)=>U.graphql).map((U)=>U.graphql.averageDuration),this.recentMetrics.filter((U)=>U.graphql).map((U)=>U.database.latency)),Q="healthy";if(Y.latency>2000||J.memoryUsage>1073741824||Y.connectionStatus==="disconnected")Q="unhealthy";else if(Y.latency>500||J.memoryUsage>536870912||Y.connectionStatus==="degraded")Q="degraded";return{databaseToMemory:W,telemetryToPerformance:$,graphqlToDatabase:G,overallHealth:Q}}calculateCorrelation(Y,J){if(Y.length!==J.length||Y.length<2)return 0;let X=Y.length,Z=Y.reduce((H,O)=>H+O,0),W=J.reduce((H,O)=>H+O,0),$=Y.reduce((H,O,K)=>H+O*J[K],0),G=Y.reduce((H,O)=>H+O*O,0),Q=J.reduce((H,O)=>H+O*O,0),U=X*$-Z*W,z=Math.sqrt((X*G-Z*Z)*(X*Q-W*W));return z===0?0:U/z}calculateBusinessMetrics(Y,J,X,Z){let Q=Math.max(0,1-Y.latency/1000),U=Math.max(0,1-(Y.errorRate||0)),z=Math.max(0,1-Z.errorRate/100),H=(Q+U+z)/3,O=Y.connectionStatus==="connected"?99.9:Y.connectionStatus==="degraded"?99:95,K=((Y.errorRate||0)+Z.errorRate)/2,B=Y.latency<500?100:Y.latency<1000?90:70,F=30,V=32.2,I=-7.333333333333343,D={standard:60,priority:25,critical:15},L=4320000;return{telemetryCostEfficiency:14400,operationImpactScore:H,sliCompliance:{availability:O,errorRate:K,latency:B},retentionOptimization:{totalLogVolume:4320000,retentionSavings:-7.333333333333343,costTierDistribution:D}}}recordOpenTelemetryMetrics(Y){this.databaseLatencyHistogram.record(Y.database.latency,{operation:"ping",status:Y.database.connectionStatus}),this.memoryGauge.add(Y.runtime.memoryUsage,{type:"rss"}),this.memoryGauge.add(Y.runtime.heapUsage,{type:"heap"}),this.telemetryLatencyHistogram.record(Y.telemetry.exportLatency,{circuit_breaker_state:Y.telemetry.circuitBreakerState})}calculateDatabaseOps(){if(this.recentMetrics.length<2)return 0;let Y=Math.min(10,this.recentMetrics.length),J=this.recentMetrics.slice(-Y),X=new Date(J[J.length-1].timestamp).getTime()-new Date(J[0].timestamp).getTime();if(X===0)return 0;return Y*1000/X}calculateDatabaseErrorRate(){if(this.recentMetrics.length===0)return 0;let Y=Math.min(20,this.recentMetrics.length);return this.recentMetrics.slice(-Y).filter((Z)=>Z.database.connectionStatus==="disconnected").length/Y}measureEventLoopLag(){let Y=process.hrtime.bigint();return new Promise((J)=>{setImmediate(()=>{let X=Number(process.hrtime.bigint()-Y)/1e6;J(X)})})}getRecentMetrics(Y=10){return this.recentMetrics.slice(-Y)}getPerformanceTrends(){if(this.recentMetrics.length<5)return{databaseLatencyTrend:"stable",memoryUsageTrend:"stable",overallTrend:"stable"};let Y=this.recentMetrics.slice(-5),J=this.recentMetrics.slice(-10,-5);if(J.length===0)return{databaseLatencyTrend:"stable",memoryUsageTrend:"stable",overallTrend:"stable"};let X=Y.reduce((z,H)=>z+H.database.latency,0)/Y.length,Z=J.reduce((z,H)=>z+H.database.latency,0)/J.length,W=Y.reduce((z,H)=>z+H.runtime.memoryUsage,0)/Y.length,$=J.reduce((z,H)=>z+H.runtime.memoryUsage,0)/J.length,G=X<Z*0.9?"improving":X>Z*1.1?"degrading":"stable",Q=W<$*0.95?"improving":W>$*1.05?"degrading":"stable";return{databaseLatencyTrend:G,memoryUsageTrend:Q,overallTrend:G==="improving"&&Q!=="degrading"||Q==="improving"&&G!=="degrading"?"improving":G==="degrading"||Q==="degrading"?"degrading":"stable"}}}async function Hf(){return KL.collectMetrics()}function tJ1(Y=10){return KL.getRecentMetrics(Y)}function eJ1(){return KL.getPerformanceTrends()}function Rl6(){KL.shutdown()}var xm0,KL;var YX1=w(()=>{R5();m5();bK();k7();xm0=q1(t(),1);KL=new fm0});async function Of(){let Y=Date.now();try{let[J,X,Z,W]=await Promise.allSettled([g0.getHealthWithDiagnostics(),xC(),Z3(),g0.ping()]),$=J.status==="fulfilled"?J.value:null,G=W.status==="fulfilled"?W.value:null,Q={status:$?.status||"unhealthy",latency:G?.latency,circuitBreaker:$?.details.circuitBreaker||{state:"unknown",failures:0,successes:0},details:$?.details.ping,error:$?.details.error||(J.status==="rejected"?J.reason?.message:void 0)},U=X.status==="fulfilled"?X.value:null,z={status:U?.status==="healthy"?"healthy":"unhealthy",memory:U?.memory||{used:0,free:0,total:0,heapUsed:0,heapTotal:0},environment:U?.config.environment||"unknown",version:U?.runtime.version||"unknown",error:X.status==="rejected"?X.reason?.message:void 0},H=Z.status==="fulfilled"?Z.value:null,O={status:H?.status||"unhealthy",exporters:H?.exporters||{traces:!1,metrics:!1,logs:!1},circuitBreaker:H?.circuitBreaker||{state:"unknown",failures:0},error:H?.error||(Z.status==="rejected"?Z.reason?.message:void 0)},K=[Q.status,z.status,O.status],B="healthy";if(K.includes("unhealthy"))B="unhealthy";else if(K.includes("degraded"))B="degraded";let F=z.memory.total>0?z.memory.used/z.memory.total*100:0;return{overall:B,timestamp:new Date().toISOString(),uptime:process.uptime(),components:{database:Q,runtime:z,telemetry:O},performance:{databaseLatency:Q.latency,memoryUsage:F}}}catch(J){return{overall:"unhealthy",timestamp:new Date().toISOString(),uptime:process.uptime(),components:{database:{status:"unhealthy",circuitBreaker:{state:"unknown",failures:0,successes:0},error:"Health check failed"},runtime:{status:"unhealthy",memory:{used:0,free:0,total:0,heapUsed:0,heapTotal:0},environment:"unknown",version:"unknown",error:"Health check failed"},telemetry:{status:"unhealthy",exporters:{traces:!1,metrics:!1,logs:!1},circuitBreaker:{state:"unknown",failures:0},error:"Health check failed"}},performance:{memoryUsage:0}}}}async function hm0(){let Y=await Of(),J=[];if(Y.components.database.status==="unhealthy")J.push(`Database: ${Y.components.database.error||"Connection failed"}`);if(Y.components.runtime.status==="unhealthy")J.push(`Runtime: ${Y.components.runtime.error||"System failure"}`);if(Y.components.telemetry.status==="unhealthy")J.push(`Telemetry: ${Y.components.telemetry.error||"Observability failure"}`);if(Y.performance.memoryUsage>85)J.push(`High memory usage: ${Y.performance.memoryUsage.toFixed(1)}%`);if(Y.performance.databaseLatency&&Y.performance.databaseLatency>1000)J.push(`High database latency: ${Y.performance.databaseLatency}ms`);let X="";switch(Y.overall){case"healthy":X="All systems operational";break;case"degraded":X=`System degraded: ${J.length} issues detected`;break;case"unhealthy":X=`System unhealthy: ${J.length} critical issues`;break}return{status:Y.overall,message:X,criticalIssues:J}}var bm0=w(()=>{R5();m5();bK()});function eJ(Y){return`${Y.toFixed(2)}ms`}function BL(Y){if(Y<60)return`${Math.floor(Y)}s`;if(Y<3600){let Z=Math.floor(Y/60),W=Math.floor(Y%60);return W>0?`${Z}m ${W}s`:`${Z}m`}if(Y<86400){let Z=Math.floor(Y/3600),W=Math.floor(Y%3600/60);return W>0?`${Z}h ${W}m`:`${Z}h`}let J=Math.floor(Y/86400),X=Math.floor(Y%86400/3600);return X>0?`${J}d ${X}h`:`${J}d`}function Kf(Y){return`${Y.toFixed(2)}%`}class Cz{static instance;constructor(){}static getInstance(){if(!Cz.instance)Cz.instance=new Cz;return Cz.instance}async getHealth(){let Y=Date.now();if(qL&&Y-qL.timestamp<Nl6)return qL.result;let J=performance.now();try{let X=await g0.getHealthWithDiagnostics(),Z=performance.now()-J,W="healthy";if(X.status==="critical"||X.status==="unhealthy")W="unhealthy";else if(X.status==="degraded")W="degraded";let $={status:W,responseTime:eJ(Z),details:{connectionString:this.maskConnectionString(O4.capella.COUCHBASE_URL),bucket:O4.capella.COUCHBASE_BUCKET,services:{kv:X.details.serviceHealth?.kv?.healthy||!1,query:X.details.serviceHealth?.query?.healthy||!1,search:X.details.serviceHealth?.search?.healthy||!1}}};return qL={result:$,timestamp:Y},$}catch(X){return s1("Couchbase health check failed",X),this.createErrorResponse(performance.now()-J)}}async ping(){try{let Y=await g0.ping();return{success:Y.success,latencyMs:Y.latency||0,error:Y.error}}catch(Y){return{success:!1,latencyMs:0,error:Y instanceof Error?Y.message:String(Y)}}}async testConnection(){try{return await g0.getConnection(),!0}catch{return!1}}createErrorResponse(Y){return{status:"unhealthy",responseTime:eJ(Y),details:{connectionString:this.maskConnectionString(O4.capella.COUCHBASE_URL),bucket:O4.capella.COUCHBASE_BUCKET,services:{kv:!1,query:!1,search:!1}}}}maskConnectionString(Y){try{let J=Y.replace(/(:\/\/[^:]+:)[^@]+(@)/,"$1****$2");if(J.length>50)return J.substring(0,47)+"...";return J}catch{return"couchbase://****"}}clearCache(){qL=null}}var qL=null,Nl6=2000,Bf;var JX1=w(()=>{f5();R5();m5();Bf=Cz.getInstance()});var ym0={};h6(ym0,{withCache:()=>Sl6,defaultQueryCache:()=>qf,QueryCache:()=>TG,CacheKeys:()=>Cl6});class TG{config;cache=new Map;accessOrder=new Map;stats={size:0,hits:0,misses:0,evictions:0,memoryUsage:0};accessCounter=0;cleanupTimer;constructor(Y={defaultTtl:300000,maxSize:1000,maxMemory:10485760,cleanupInterval:60000}){this.config=Y;this.startCleanupTimer(),L1("QueryCache initialized",{maxSize:Y.maxSize,defaultTtl:Y.defaultTtl,maxMemory:Y.maxMemory})}async getOrSet(Y,J,X=this.config.defaultTtl){let Z=this.cache.get(Y),W=Date.now();if(Z&&W-Z.timestamp<Z.ttl)return this.updateAccessOrder(Y),Z.hits++,this.stats.hits++,L1("Cache hit",{key:Y,age:W-Z.timestamp,hits:Z.hits}),Z.data;if(Z)this.remove(Y);this.stats.misses++,L1("Cache miss",{key:Y,expired:!!Z});try{let $=await J();return this.set(Y,$,X),$}catch($){throw s1("Cache fetcher failed",{key:Y,error:$}),$}}set(Y,J,X=this.config.defaultTtl){let Z=this.estimateSize(J),W=Date.now();this.ensureCapacity(Z);let $={data:J,timestamp:W,ttl:X,hits:0,size:Z};this.cache.set(Y,$),this.updateAccessOrder(Y),this.stats.size=this.cache.size,this.stats.memoryUsage+=Z,L1("Cache set",{key:Y,size:Z,ttl:X,totalSize:this.stats.size})}get(Y){let J=this.cache.get(Y),X=Date.now();if(!J||X-J.timestamp>=J.ttl){if(J)this.remove(Y);this.stats.misses++;return}return this.updateAccessOrder(Y),J.hits++,this.stats.hits++,J.data}has(Y){let J=this.cache.get(Y),X=Date.now();if(!J||X-J.timestamp>=J.ttl){if(J)this.remove(Y);return!1}return!0}remove(Y){let J=this.cache.get(Y);if(J)return this.cache.delete(Y),this.accessOrder.delete(Y),this.stats.size=this.cache.size,this.stats.memoryUsage-=J.size,L1("Cache remove",{key:Y,size:J.size}),!0;return!1}clear(){let Y=this.cache.size;this.cache.clear(),this.accessOrder.clear(),this.stats={size:0,hits:this.stats.hits,misses:this.stats.misses,evictions:this.stats.evictions,memoryUsage:0},L1("Cache cleared",{oldSize:Y})}getStats(){return{...this.stats}}invalidatePattern(Y){let J=0;for(let X of this.cache.keys())if(Y.test(X))this.remove(X),J++;return L1("Cache pattern invalidation",{pattern:Y.toString(),count:J}),J}static createKey(Y,J,X){return[Y,X||"default",JSON.stringify(J,Object.keys(J).sort())].join(":")}updateAccessOrder(Y){this.accessOrder.set(Y,++this.accessCounter)}ensureCapacity(Y){if(this.stats.memoryUsage+Y>this.config.maxMemory)this.evictByMemory(Y);if(this.cache.size>=this.config.maxSize)this.evictLRU(1)}evictByMemory(Y){let J=Array.from(this.cache.entries()).map(([W,$])=>({key:W,entry:$,lastAccess:this.accessOrder.get(W)||0})).sort((W,$)=>W.lastAccess-$.lastAccess),X=0,Z=0;for(let{key:W}of J){if(X>=Y)break;let $=this.cache.get(W);if($)X+=$.size,this.remove(W),Z++}this.stats.evictions+=Z,L1("Cache memory eviction",{evicted:Z,freedSpace:X,requiredSpace:Y})}evictLRU(Y){let J=Array.from(this.accessOrder.entries()).sort((X,Z)=>X[1]-Z[1]).slice(0,Y);for(let[X]of J)this.remove(X);this.stats.evictions+=J.length,L1("Cache LRU eviction",{evicted:J.length})}estimateSize(Y){if(Y===null||Y===void 0)return 8;return JSON.stringify(Y).length*2}startCleanupTimer(){this.cleanupTimer=setInterval(()=>{this.cleanup()},this.config.cleanupInterval)}cleanup(){let Y=Date.now(),J=0;for(let[X,Z]of this.cache.entries())if(Y-Z.timestamp>=Z.ttl)this.remove(X),J++;if(J>0)L1("Cache cleanup",{cleaned:J,remaining:this.cache.size})}destroy(){if(this.cleanupTimer)clearInterval(this.cleanupTimer);this.clear(),L1("QueryCache destroyed")}}async function Sl6(Y,J,X){return qf.getOrSet(Y,J,X)}var qf,Cl6;var XX1=w(()=>{m5();qf=new TG;Cl6={looks:(Y,J,X)=>TG.createKey("looks",{brand:Y,season:J,division:X}),lookDetails:(Y)=>TG.createKey("lookDetails",{lookId:Y}),options:(Y,J)=>TG.createKey("options",{lookId:Y,...J}),optionsSummary:(Y,J,X)=>TG.createKey("optionsSummary",{brand:Y,season:J,division:X}),assignments:(Y,J)=>TG.createKey("assignments",{userId:Y,status:J})}});class jz{static instance;lastHealthCheck;lastCheckTime=0;CACHE_TTL_MS=2000;constructor(){}static getInstance(){if(!jz.instance)jz.instance=new jz;return jz.instance}async getHealth(){let Y=Date.now();if(this.lastHealthCheck&&Y-this.lastCheckTime<this.CACHE_TTL_MS)return this.lastHealthCheck;let J=performance.now();try{if(typeof Bun<"u"){let Z=await this.checkSQLiteHealth(J);return this.lastHealthCheck=Z,this.lastCheckTime=Y,this.recordSuccess(performance.now()-J),Z}else{let Z=this.checkMapCacheHealth(J);return this.lastHealthCheck=Z,this.lastCheckTime=Y,this.recordSuccess(performance.now()-J),Z}}catch(X){s1("Cache health check failed",X);let Z=performance.now()-J;return this.recordFailure(Z),this.createErrorResponse(Z)}}async checkSQLiteHealth(Y){let J=EG.getStats(),X=EG.getAnalytics(),Z=performance.now()-Y,W=J.hits+J.misses,$=W>0?J.hits/W*100:0,G="healthy";if(J.evictions>J.size*0.5)G="degraded";let Q=X.expirationDistribution.expiredCount||0;return{type:"sqlite",connection:{connected:!0,responseTime:eJ(Z)},entries:{total:J.size,active:J.size-Q,expired:Q,evictions:J.evictions},performance:{hits:J.hits,misses:J.misses,hitRate:Kf($),memoryUsageBytes:J.memoryUsage},healthMonitor:this.getMonitorStatus(G)}}checkMapCacheHealth(Y){let J=qf.getStats(),X=performance.now()-Y,Z=J.hits+J.misses,W=Z>0?J.hits/Z*100:0,$="healthy";if(J.evictions>J.size*0.5)$="degraded";return{type:"map",connection:{connected:!0,responseTime:eJ(X)},entries:{total:J.size,active:J.size,expired:0,evictions:J.evictions},performance:{hits:J.hits,misses:J.misses,hitRate:Kf(W),memoryUsageBytes:J.memoryUsage},healthMonitor:this.getMonitorStatus($)}}getMonitorStatus(Y){return{status:Y,isMonitoring:G6.isMonitoring,consecutiveSuccesses:G6.consecutiveSuccesses,consecutiveFailures:G6.consecutiveFailures,lastStatusChange:G6.lastStatusChange.toISOString(),lastCheck:G6.lastCheck?{success:G6.lastCheck.success,timestamp:G6.lastCheck.timestamp.toISOString(),responseTimeMs:G6.lastCheck.responseTimeMs}:null}}recordSuccess(Y){let J=G6.consecutiveFailures>0;if(G6.consecutiveSuccesses++,G6.consecutiveFailures=0,J)G6.lastStatusChange=new Date;G6.lastCheck={success:!0,timestamp:new Date,responseTimeMs:Y}}recordFailure(Y){let J=G6.consecutiveSuccesses>0;if(G6.consecutiveFailures++,G6.consecutiveSuccesses=0,J)G6.lastStatusChange=new Date;G6.lastCheck={success:!1,timestamp:new Date,responseTimeMs:Y}}createErrorResponse(Y){return{type:typeof Bun<"u"?"sqlite":"map",connection:{connected:!1,responseTime:eJ(Y)},entries:{total:0,active:0,expired:0,evictions:0},performance:{hits:0,misses:0,hitRate:"0.00%",memoryUsageBytes:0},healthMonitor:{status:"unhealthy",isMonitoring:G6.isMonitoring,consecutiveSuccesses:0,consecutiveFailures:G6.consecutiveFailures,lastStatusChange:G6.lastStatusChange.toISOString(),lastCheck:G6.lastCheck?{success:!1,timestamp:G6.lastCheck.timestamp.toISOString(),responseTimeMs:Y}:null}}}async isReady(){try{if(typeof Bun<"u")return await EG.has("__health_probe__"),!0;else return!0}catch{return!1}}clearCache(){this.lastHealthCheck=void 0,this.lastCheckTime=0}resetMonitorState(){G6={consecutiveSuccesses:0,consecutiveFailures:0,lastStatusChange:new Date,lastCheck:null,isMonitoring:!0}}}var G6,Ff;var ZX1=w(()=>{k5();XX1();m5();G6={consecutiveSuccesses:0,consecutiveFailures:0,lastStatusChange:new Date,lastCheck:null,isMonitoring:!0};Ff=jz.getInstance()});class kz{static instance;lastHealthCheck;lastCheckTime=0;CACHE_TTL_MS=2000;constructor(){}static getInstance(){if(!kz.instance)kz.instance=new kz;return kz.instance}async getHealth(){let Y=Date.now();if(this.lastHealthCheck&&Y-this.lastCheckTime<this.CACHE_TTL_MS)return this.lastHealthCheck;try{let X=b3().telemetry,Z=xw(),[W,$,G]=await Promise.all([this.checkSignalHealth("traces",X.TRACES_ENDPOINT,jw),this.checkSignalHealth("metrics",X.METRICS_ENDPOINT,()=>kw().getStats()),this.checkSignalHealth("logs",X.LOGS_ENDPOINT,_w)]),Q={traces:W,metrics:$,logs:G};if(!Z)Q.traces.status="degraded",Q.metrics.status="degraded",Q.logs.status="degraded";return this.lastHealthCheck=Q,this.lastCheckTime=Y,Q}catch(J){return s1("Telemetry health check failed",J),this.createErrorResponse()}}async checkSignalHealth(Y,J,X){let Z=performance.now();try{let W=X(),$=performance.now()-Z,G=parseFloat(W.successRate.replace("%",""))||0,Q="healthy";if(W.total===0)Q="healthy";else if(G<80)Q="unhealthy";else if(G<95)Q="degraded";return{status:Q,endpoint:this.maskEndpoint(J),responseTime:eJ($),exports:{successRate:W.successRate,total:W.total,failures:W.failures,lastExportTime:W.lastExportTime,lastFailureTime:W.lastFailureTime||null,recentErrors:[...W.recentErrors].slice(-5)}}}catch(W){let $=performance.now()-Z;return{status:"unhealthy",endpoint:this.maskEndpoint(J),responseTime:eJ($),exports:{successRate:"0%",total:0,failures:0,lastExportTime:null,lastFailureTime:null,recentErrors:[W instanceof Error?W.message:String(W)]}}}}createErrorResponse(){let J=b3().telemetry,X={status:"unhealthy",endpoint:"unknown",responseTime:"N/A",exports:{successRate:"0%",total:0,failures:0,lastExportTime:null,lastFailureTime:null,recentErrors:["Health check failed"]}};return{traces:{...X,endpoint:this.maskEndpoint(J.TRACES_ENDPOINT)},metrics:{...X,endpoint:this.maskEndpoint(J.METRICS_ENDPOINT)},logs:{...X,endpoint:this.maskEndpoint(J.LOGS_ENDPOINT)}}}maskEndpoint(Y){try{let J=new URL(Y);if(J.password)J.password="****";return J.toString()}catch{return Y}}isReady(){return xw()}clearCache(){this.lastHealthCheck=void 0,this.lastCheckTime=0}}var Vf;var WX1=w(()=>{f5();Zj();m5();Vf=kz.getInstance()});class _z{static instance;constructor(){}static getInstance(){if(!_z.instance)_z.instance=new _z;return _z.instance}async getHealth(Y){try{let[J,X,Z]=await Promise.all([Bf.getHealth(),Ff.getHealth(),Vf.getHealth()]),W=this.determineOverallStatus(J.status,X.healthMonitor.status,Z.traces.status,Z.metrics.status,Z.logs.status),$=J.status==="unhealthy"?"open":"closed",G=J.status==="healthy"&&J.details.services.kv&&J.details.services.query,Q=(Date.now()-If)/1000;return{status:W,timestamp:new Date().toISOString(),version:O4.telemetry.SERVICE_VERSION,environment:O4.telemetry.DEPLOYMENT_ENVIRONMENT,uptime:BL(Q),highAvailability:G,circuitBreakerState:$,dependencies:{couchbase:J,cache:X,telemetry:Z},requestId:Y}}catch(J){return s1("Comprehensive health check failed",J),this.createErrorResponse(Y,J)}}async getReadiness(Y){let J={couchbase:{ready:!1},cache:{ready:!1},telemetry:{ready:!1}};try{let Z=await Bf.ping();J.couchbase={ready:Z.success,latency:Z.latencyMs?`${Z.latencyMs.toFixed(2)}ms`:void 0,error:Z.error}}catch(Z){J.couchbase={ready:!1,error:Z instanceof Error?Z.message:String(Z)}}try{let Z=await Ff.isReady();J.cache={ready:Z}}catch(Z){J.cache={ready:!1,error:Z instanceof Error?Z.message:String(Z)}}try{let Z=Vf.isReady();J.telemetry={ready:Z}}catch(Z){J.telemetry={ready:!1,error:Z instanceof Error?Z.message:String(Z)}}return{ready:J.couchbase.ready,timestamp:new Date().toISOString(),checks:J,requestId:Y}}getLiveness(Y){let J=process.memoryUsage(),X=(Date.now()-If)/1000,Z=Math.round(J.heapUsed/1024/1024),W=Math.round(J.heapTotal/1024/1024),$=W>0?(Z/W*100).toFixed(1):"0.0";return{alive:!0,timestamp:new Date().toISOString(),uptime:BL(X),memory:{usedMB:Z,totalMB:W,percentUsed:`${$}%`},requestId:Y}}determineOverallStatus(...Y){if(Y.includes("unhealthy"))return"unhealthy";if(Y.includes("degraded"))return"degraded";return"healthy"}createErrorResponse(Y,J){let X=(Date.now()-If)/1000;return{status:"unhealthy",timestamp:new Date().toISOString(),version:O4.telemetry.SERVICE_VERSION,environment:O4.telemetry.DEPLOYMENT_ENVIRONMENT,uptime:BL(X),highAvailability:!1,circuitBreakerState:"open",dependencies:{couchbase:{status:"unhealthy",responseTime:"N/A",details:{connectionString:"N/A",bucket:O4.capella.COUCHBASE_BUCKET,services:{kv:!1,query:!1,search:!1}}},cache:{type:typeof Bun<"u"?"sqlite":"map",connection:{connected:!1,responseTime:"N/A"},entries:{primary:0,primaryActive:0,stale:0,staleCacheAvailable:!1},performance:{hitRate:"0.00%",avgLatencyMs:0},healthMonitor:{status:"unhealthy",isMonitoring:!1,consecutiveSuccesses:0,consecutiveFailures:1,lastStatusChange:new Date().toISOString(),lastCheck:null}},telemetry:{traces:{status:"unhealthy",endpoint:"unknown",responseTime:"N/A",exports:{successRate:"0%",total:0,failures:0,lastExportTime:null,lastFailureTime:null,recentErrors:["Health check failed"]}},metrics:{status:"unhealthy",endpoint:"unknown",responseTime:"N/A",exports:{successRate:"0%",total:0,failures:0,lastExportTime:null,lastFailureTime:null,recentErrors:[]}},logs:{status:"unhealthy",endpoint:"unknown",responseTime:"N/A",exports:{successRate:"0%",total:0,failures:0,lastExportTime:null,lastFailureTime:null,recentErrors:[]}}}},requestId:Y}}getUptimeSeconds(){return(Date.now()-If)/1000}}async function $X1(Y){return Df.getHealth(Y)}async function GX1(Y){return Df.getReadiness(Y)}function QX1(Y){return Df.getLiveness(Y)}var If,Df;var gm0=w(()=>{f5();m5();JX1();ZX1();WX1();If=Date.now();Df=_z.getInstance()});var um0=w(()=>{JX1();ZX1();WX1();gm0()});var wf={};h6(wf,{shutdownBatchCoordinator:()=>kl6,getBatchCoordinator:()=>jl6,TelemetryBatchCoordinator:()=>UX1});class UX1{traceBuffer=[];metricBuffer=[];logBuffer=[];batchTimer=null;memoryCheckTimer=null;isExporting=!1;isShutdown=!1;currentMemoryUsage=0;maxMemorySeen=0;lastMemoryCheck=0;lastEmergencyFlush=0;statistics={totalBatches:0,successfulBatches:0,failedBatches:0,totalSpansExported:0,totalMetricsExported:0,totalLogsExported:0,averageExportDuration:0,lastExportTime:0,emergencyFlushCount:0,dataDropCount:0,currentMemoryUsageMB:0,maxMemorySeenMB:0};config;constructor(Y){if(this.config={batchInterval:Y?.batchInterval||5000,maxBatchSize:Y?.maxBatchSize||1000,exportTimeout:Y?.exportTimeout||30000,maxRetries:Y?.maxRetries||3,retryBackoff:Y?.retryBackoff||1000,maxMemoryMB:Y?.maxMemoryMB||100,memoryPressureThreshold:Y?.memoryPressureThreshold||0.85,emergencyFlushThreshold:Y?.emergencyFlushThreshold||0.9},this.startBatchTimer(),this.startMemoryMonitoring(),process.env.DEBUG_OTEL_EXPORTERS==="true")console.debug("TelemetryBatchCoordinator initialized with memory management",this.config)}startBatchTimer(){if(this.isShutdown)return;this.batchTimer=setInterval(()=>{this.flushBatch()},this.config.batchInterval)}addSpans(Y){if(this.isShutdown||Y.length===0)return;let J=this.estimateSpanArraySize(Y);if(this.shouldPerformMemoryCheck()){let X=this.checkMemoryPressure();if(X.pressureLevel==="critical"){this.handleCriticalMemoryPressure();return}else if(X.pressureLevel==="high")this.emergencyFlush()}if(this.traceBuffer.push(...Y),this.currentMemoryUsage+=J,this.updateMemoryStats(),this.traceBuffer.length>=this.config.maxBatchSize||this.currentMemoryUsage>this.config.maxMemoryMB*1024*1024*this.config.emergencyFlushThreshold)this.flushBatch()}addMetrics(Y){if(this.isShutdown||Y.length===0)return;let J=this.estimateMetricArraySize(Y);if(this.shouldPerformMemoryCheck()){let X=this.checkMemoryPressure();if(X.pressureLevel==="critical"){this.handleCriticalMemoryPressure();return}else if(X.pressureLevel==="high")this.emergencyFlush()}if(this.metricBuffer.push(...Y),this.currentMemoryUsage+=J,this.updateMemoryStats(),this.metricBuffer.length>=this.config.maxBatchSize||this.currentMemoryUsage>this.config.maxMemoryMB*1024*1024*this.config.emergencyFlushThreshold)this.flushBatch()}addLogs(Y){if(this.isShutdown||Y.length===0)return;let J=this.estimateLogArraySize(Y);if(this.shouldPerformMemoryCheck()){let X=this.checkMemoryPressure();if(X.pressureLevel==="critical"){this.handleCriticalMemoryPressure();return}else if(X.pressureLevel==="high")this.emergencyFlush()}if(this.logBuffer.push(...Y),this.currentMemoryUsage+=J,this.updateMemoryStats(),this.logBuffer.length>=this.config.maxBatchSize||this.currentMemoryUsage>this.config.maxMemoryMB*1024*1024*this.config.emergencyFlushThreshold)this.flushBatch()}async flushBatch(){if(this.isExporting||this.isShutdown)return;if(!(this.traceBuffer.length>0||this.metricBuffer.length>0||this.logBuffer.length>0))return;this.isExporting=!0;let J=this.generateBatchId(),X=Date.now();try{let Z=this.traceBuffer.splice(0,this.config.maxBatchSize),W=this.metricBuffer.splice(0,this.config.maxBatchSize),$=this.logBuffer.splice(0,this.config.maxBatchSize),G=this.estimateSpanArraySize(Z)+this.estimateMetricArraySize(W)+this.estimateLogArraySize($);this.currentMemoryUsage-=G,this.updateMemoryStats();let Q={traces:Z,metrics:W,logs:$,timestamp:X,batchId:J};if(process.env.DEBUG_OTEL_EXPORTERS==="true")console.debug(`Exporting batch ${J}`,{traces:Q.traces.length,metrics:Q.metrics.length,logs:Q.logs.length});let U=await this.executeCoordinatedExport(Q),z=Date.now()-X;if(this.updateStatistics(U,z),U.success)console.debug(`Batch ${J} exported successfully in ${z}ms`);else console.error(`Batch ${J} export failed:`,U.error)}catch(Z){let W=Date.now()-X;console.error(`Batch ${J} export error:`,Z),this.updateStatistics({success:!1,exportedCount:0,duration:W,error:String(Z)},W)}finally{this.isExporting=!1}}async executeCoordinatedExport(Y){let J=[],X=0;try{if(Y.traces.length>0)J.push(this.exportTraces(Y.traces,Y.batchId));if(Y.metrics.length>0)J.push(this.exportMetrics(Y.metrics,Y.batchId));if(Y.logs.length>0)J.push(this.exportLogs(Y.logs,Y.batchId));let Z=await Promise.race([Promise.allSettled(J),this.timeout(this.config.exportTimeout)]);if(Z==="timeout")throw Error(`Batch export timeout after ${this.config.exportTimeout}ms`);let W=!0,$=[];return Z.forEach((G,Q)=>{if(G.status==="fulfilled")if(G.value.success)X+=G.value.exportedCount;else W=!1,$.push(G.value.error||"Unknown export error");else W=!1,$.push(G.reason?.message||"Export rejected")}),{success:W,exportedCount:X,duration:Date.now()-Y.timestamp,error:$.length>0?$.join("; "):void 0}}catch(Z){return{success:!1,exportedCount:X,duration:Date.now()-Y.timestamp,error:Z instanceof Error?Z.message:String(Z)}}}async exportTraces(Y,J){let X=Date.now();try{return console.debug(`Exporting ${Y.length} traces for batch ${J}`),{success:!0,exportedCount:Y.length,duration:Date.now()-X}}catch(Z){return{success:!1,exportedCount:0,duration:Date.now()-X,error:Z instanceof Error?Z.message:String(Z)}}}async exportMetrics(Y,J){let X=Date.now();try{return console.debug(`Exporting ${Y.length} metrics for batch ${J}`),{success:!0,exportedCount:Y.length,duration:Date.now()-X}}catch(Z){return{success:!1,exportedCount:0,duration:Date.now()-X,error:Z instanceof Error?Z.message:String(Z)}}}async exportLogs(Y,J){let X=Date.now();try{return console.debug(`Exporting ${Y.length} logs for batch ${J}`),{success:!0,exportedCount:Y.length,duration:Date.now()-X}}catch(Z){return{success:!1,exportedCount:0,duration:Date.now()-X,error:Z instanceof Error?Z.message:String(Z)}}}timeout(Y){return new Promise((J)=>setTimeout(()=>J("timeout"),Y))}generateBatchId(){return`batch-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}updateStatistics(Y,J){if(this.statistics.totalBatches++,this.statistics.lastExportTime=Date.now(),Y.success)this.statistics.successfulBatches++,this.statistics.totalSpansExported+=Y.exportedCount;else this.statistics.failedBatches++;let X=this.statistics.averageExportDuration*(this.statistics.totalBatches-1)+J;this.statistics.averageExportDuration=X/this.statistics.totalBatches}getStatistics(){return{...this.statistics}}getBufferStatus(){return{traces:this.traceBuffer.length,metrics:this.metricBuffer.length,logs:this.logBuffer.length,memoryUsageMB:this.currentMemoryUsage/1048576,memoryPressure:this.checkMemoryPressure()}}async forceFlush(){console.debug("Force flushing telemetry batch coordinator"),await this.flushBatch()}async shutdown(){if(console.debug("Shutting down telemetry batch coordinator"),this.isShutdown=!0,this.batchTimer)clearInterval(this.batchTimer),this.batchTimer=null;if(this.memoryCheckTimer)clearInterval(this.memoryCheckTimer),this.memoryCheckTimer=null;if(!this.isExporting)await this.flushBatch();L1("Telemetry batch coordinator shutdown complete",{component:"batch-coordinator",...this.statistics})}startMemoryMonitoring(){if(this.isShutdown)return;this.memoryCheckTimer=setInterval(()=>{let Y=this.checkMemoryPressure();if(console.debug(`Memory check: ${Y.pressureLevel}`,{heapUsageRatio:Y.heapUsageRatio.toFixed(3),bufferMemoryMB:Y.bufferMemoryUsageMB.toFixed(2),totalMemoryMB:Y.totalMemoryUsageMB.toFixed(2),bufferCounts:{traces:this.traceBuffer.length,metrics:this.metricBuffer.length,logs:this.logBuffer.length}}),Y.pressureLevel==="high"||Y.pressureLevel==="critical")if(console.warn(`Telemetry memory pressure detected: ${Y.pressureLevel}`,{heapUsageRatio:Y.heapUsageRatio,bufferMemoryMB:Y.bufferMemoryUsageMB,totalMemoryMB:Y.totalMemoryUsageMB}),Y.pressureLevel==="critical")this.handleCriticalMemoryPressure();else this.emergencyFlush()},1e4)}shouldPerformMemoryCheck(){let Y=Date.now();if(Y-this.lastMemoryCheck>1000)return this.lastMemoryCheck=Y,!0;return!1}checkMemoryPressure(){let Y=process.memoryUsage(),J=Math.min(Y.heapUsed/Y.rss,1),X=this.currentMemoryUsage/1048576,Z=Y.rss/1048576,W="low";if(Z>512||X>this.config.maxMemoryMB)W="critical";else if(Z>256||X>this.config.maxMemoryMB*this.config.emergencyFlushThreshold)W="high";else if(Z>128||X>this.config.maxMemoryMB*0.7)W="medium";return{isUnderPressure:W!=="low",heapUsageRatio:J,bufferMemoryUsageMB:X,totalMemoryUsageMB:Z,pressureLevel:W}}emergencyFlush(){let Y=Date.now();if(Y-this.lastEmergencyFlush<2000)return;if(this.lastEmergencyFlush=Y,this.statistics.emergencyFlushCount++,console.warn("Emergency telemetry flush due to memory pressure",{bufferSizes:{traces:this.traceBuffer.length,metrics:this.metricBuffer.length,logs:this.logBuffer.length},memoryUsageMB:this.currentMemoryUsage/1048576}),this.flushBatch().catch((J)=>{console.error("Emergency flush failed:",J)}),global.gc)try{global.gc()}catch(J){console.debug("Manual garbage collection failed:",J)}}handleCriticalMemoryPressure(){console.error("CRITICAL: Telemetry memory pressure - dropping oldest data to prevent OOM");let Y=this.traceBuffer.length,J=this.metricBuffer.length,X=this.logBuffer.length,Z=Math.floor(this.traceBuffer.length*0.5),W=Math.floor(this.metricBuffer.length*0.5),$=Math.floor(this.logBuffer.length*0.5),G=this.traceBuffer.splice(0,Z),Q=this.metricBuffer.splice(0,W),U=this.logBuffer.splice(0,$),z=this.estimateSpanArraySize(G)+this.estimateMetricArraySize(Q)+this.estimateLogArraySize(U);if(this.currentMemoryUsage-=z,this.statistics.dataDropCount+=Z+W+$,console.error("Telemetry data dropped due to memory pressure",{dropped:{traces:Z,metrics:W,logs:$,totalItems:Z+W+$,memoryFreedMB:z/1048576},remaining:{traces:this.traceBuffer.length,metrics:this.metricBuffer.length,logs:this.logBuffer.length,memoryUsageMB:this.currentMemoryUsage/1048576}}),global.gc)try{global.gc()}catch(H){console.debug("Manual garbage collection failed:",H)}this.emergencyFlush()}updateMemoryStats(){let Y=this.currentMemoryUsage/1048576;if(this.statistics.currentMemoryUsageMB=Y,Y>this.maxMemorySeen)this.maxMemorySeen=Y,this.statistics.maxMemorySeenMB=Y}estimateSpanArraySize(Y){if(Y.length===0)return 0;return Y.length*2048}estimateMetricArraySize(Y){if(Y.length===0)return 0;return Y.length*1024}estimateLogArraySize(Y){if(Y.length===0)return 0;return Y.length*512}}function jl6(){if(!Lq)Lq=new UX1({batchInterval:O4.telemetry.SUMMARY_LOG_INTERVAL/60,maxBatchSize:O4.telemetry.BATCH_SIZE,exportTimeout:O4.telemetry.EXPORT_TIMEOUT_MS});return Lq}async function kl6(){if(Lq)await Lq.shutdown(),Lq=null}var Lq=null;var Af=w(()=>{f5();RU()});var Jd0={};h6(Jd0,{telemetryHealthHandler:()=>dm0,telemetryDetailedHandler:()=>om0,systemHealthHandler:()=>cm0,statusHealthHandler:()=>tm0,readinessHandler:()=>em0,performanceHistoryHandler:()=>nm0,performanceHandler:()=>pm0,livenessHandler:()=>Yd0,healthSummaryHandler:()=>lm0,healthHandlers:()=>vl6,graphqlPerformanceHandler:()=>am0,comprehensiveHealthHandler:()=>rm0,cacheHealthHandler:()=>im0,basicHealthHandler:()=>mm0});function M6(Y,J=200){return new Response(JSON.stringify(Y),{status:J,headers:{"Content-Type":"application/json"}})}function _l6(Y,J){let X=[];if(J.pressureLevel==="high"||J.pressureLevel==="critical")X.push("Reduce telemetry buffer sizes or increase export frequency"),X.push("Consider increasing available memory for the service");if(Y.failedBatches>0&&Y.totalBatches>0){if(Y.failedBatches/Y.totalBatches*100>10)X.push("High telemetry export failure rate detected - check OTLP endpoint connectivity")}if(Y.emergencyFlushCount>0)X.push("Emergency flushes detected - consider tuning memory pressure thresholds");if(Y.dataDropCount>0)X.push("Telemetry data loss detected - increase memory limits or reduce data volume");return X}function xl6(Y){let J=0,X=Y.length;for(let W of Y)if(W.status==="fulfilled"){if(W.value&&(W.value.status==="healthy"||W.value.overall==="healthy"||W.value.state==="healthy"))J++}let Z=J/X*100;if(Z>=80)return"healthy";if(Z>=60)return"warning";return"unhealthy"}function sm0(Y){let J=[];for(let X of Y)if(X.status==="rejected")J.push(`System component failure: ${X.reason?.message||"Unknown error"}`);else if(X.value?.error)J.push(X.value.error);return J}function fl6(Y){let J=[];if(sm0(Y).length>0)J.push("Address critical system issues immediately"),J.push("Review error logs for detailed diagnostics");if(Y.filter((W)=>W.status==="rejected").length>0)J.push("Multiple system components are failing - investigate resource constraints");return J}var mm0=async(Y,J)=>{try{let X=await xC();return M6(X)}catch(X){return s1("Health check failed",X),M6({status:"unhealthy",timestamp:new Date().toISOString(),error:X instanceof Error?X.message:String(X),version:"2.0.0"},500)}},dm0=async(Y,J)=>{try{let X=Z3();return M6(X)}catch(X){return s1("Failed to get telemetry health",X),M6({status:"unhealthy",error:X instanceof Error?X.message:String(X),timestamp:Date.now()},500)}},cm0=async(Y,J)=>{try{let X=await Of();return M6(X)}catch(X){return s1("System health check failed",X),M6({overall:"unhealthy",timestamp:new Date().toISOString(),error:X instanceof Error?X.message:String(X),components:{database:{status:"unhealthy",error:"Health check failed",circuitBreaker:{state:"unknown",failures:0,successes:0}},runtime:{status:"unhealthy",error:"Health check failed",memory:{used:0,free:0,total:0,heapUsed:0,heapTotal:0},environment:"unknown",version:"unknown"},telemetry:{status:"unhealthy",error:"Health check failed",exporters:{traces:!1,metrics:!1,logs:!1},circuitBreaker:{state:"unknown",failures:0}}},performance:{memoryUsage:0}},500)}},lm0=async(Y,J)=>{try{let X=await hm0();return M6(X)}catch(X){return s1("System health summary failed",X),M6({status:"unhealthy",message:"Health check failed",criticalIssues:[X instanceof Error?X.message:String(X)]},500)}},pm0=async(Y,J)=>{try{let X=await Hf();return M6(X)}catch(X){return s1("Performance metrics collection failed",X),M6({timestamp:new Date().toISOString(),database:{latency:-1,connectionStatus:"disconnected",errorRate:1},runtime:{memoryUsage:-1,heapUsage:-1},telemetry:{exportLatency:-1,droppedSpans:-1,batchSize:-1,circuitBreakerState:"unknown"},correlations:{databaseToMemory:0,telemetryToPerformance:0,overallHealth:"unhealthy"},error:X instanceof Error?X.message:String(X)},500)}},nm0=async(Y,J)=>{try{let Z=new URL(Y.url).searchParams.get("count"),W=Z?parseInt(Z,10):10,$=tJ1(Math.min(W,50));return M6({metrics:$,count:$.length,trends:eJ1()})}catch(X){return s1("Performance history collection failed",X),M6({metrics:[],count:0,trends:{databaseLatencyTrend:"stable",memoryUsageTrend:"stable",overallTrend:"stable"},error:X instanceof Error?X.message:String(X)},500)}},im0=async(Y,J)=>{try{let{bunSQLiteCache:X}=await Promise.resolve().then(() => (k5(),nJ1)),{defaultQueryCache:Z}=await Promise.resolve().then(() => (XX1(),ym0)),W=X.getStats(),$=X.getAnalytics(),G=Z.getStats();return M6({timestamp:new Date().toISOString(),sqlite:{...W,analytics:$,enabled:typeof Bun<"u"},mapCache:{...G,hitRate:G.hits+G.misses>0?(G.hits/(G.hits+G.misses)*100).toFixed(2):0},comparison:{totalHits:W.hits+G.hits,totalMisses:W.misses+G.misses,totalMemoryMB:(W.memoryUsage+G.memoryUsage)/1048576,preferredCache:typeof Bun<"u"?"sqlite":"map"}})}catch(X){return s1("Cache metrics collection failed",X),M6({timestamp:new Date().toISOString(),error:X instanceof Error?X.message:String(X),sqlite:{enabled:!1,hits:0,misses:0,size:0,memoryUsage:0,hitRate:0},mapCache:{hits:0,misses:0,size:0,memoryUsage:0,hitRate:0},comparison:{totalHits:0,totalMisses:0,totalMemoryMB:0,preferredCache:"none"}},500)}},om0=async(Y,J)=>{try{let{getBatchCoordinator:X}=await Promise.resolve().then(() => (Af(),wf)),Z=X(),W=Z.getStatistics(),$=Z.getBufferStatus(),G=Z3();return M6({timestamp:new Date().toISOString(),batchCoordinator:{statistics:W,buffers:{traces:$.traces,metrics:$.metrics,logs:$.logs,memoryUsageMB:$.memoryUsageMB},memoryPressure:$.memoryPressure,performance:{averageExportDuration:W.averageExportDuration,successRate:W.totalBatches>0?(W.successfulBatches/W.totalBatches*100).toFixed(2):100,emergencyFlushRate:W.totalBatches>0?(W.emergencyFlushCount/W.totalBatches*100).toFixed(2):0,dataLossRate:W.totalSpansExported>0?(W.dataDropCount/(W.totalSpansExported+W.dataDropCount)*100).toFixed(2):0}},exporters:G,recommendations:_l6(W,$.memoryPressure)})}catch(X){return s1("Detailed telemetry metrics collection failed",X),M6({timestamp:new Date().toISOString(),error:X instanceof Error?X.message:String(X),batchCoordinator:{statistics:{},buffers:{},memoryPressure:{pressureLevel:"unknown"}},exporters:{},recommendations:[]},500)}},rm0=async(Y,J)=>{try{let[X,Z,W,$,G]=await Promise.allSettled([Of(),Z3(),Hf(),(async()=>{let{bunSQLiteCache:U}=await Promise.resolve().then(() => (k5(),nJ1));return U.getStats()})(),(async()=>{let{getBatchCoordinator:U}=await Promise.resolve().then(() => (Af(),wf));return U().getBufferStatus()})()]),Q=new Date().toISOString();return M6({timestamp:Q,version:"2.0.0",environment:"development",uptime:process.uptime(),system:X.status==="fulfilled"?X.value:{overall:"unhealthy",error:X.reason?.message},performance:W.status==="fulfilled"?W.value:{error:W.reason?.message},cache:$.status==="fulfilled"?{...$.value,status:$.value.hitRate>50?"optimal":$.value.hitRate>20?"good":"poor"}:{error:$.reason?.message,status:"unknown"},telemetry:{exporters:Z.status==="fulfilled"?Z.value:{error:Z.reason?.message},batchCoordinator:G.status==="fulfilled"?{...G.value,status:G.value.memoryPressure.pressureLevel==="low"?"healthy":G.value.memoryPressure.pressureLevel==="medium"?"warning":"critical"}:{error:G.reason?.message,status:"unknown"}},overall:{status:xl6([X,Z,W,$]),criticalIssues:sm0([X,Z,W,$]),recommendations:fl6([X,Z,W,$])}})}catch(X){return s1("Comprehensive health check failed",X),M6({timestamp:new Date().toISOString(),error:X instanceof Error?X.message:String(X),overall:{status:"unhealthy",criticalIssues:["Health check system failure"],recommendations:["Investigate health check system","Check system resources","Review error logs"]}},500)}},am0=async(Y,J)=>{try{let Z=new URL(Y.url).searchParams.get("limit"),W=Z?parseInt(Z,10):50,$=Qf(),G=Gf().slice(-Math.min(W,100)),Q={};for(let z of G){let H=`${z.operationName}.${z.fieldName}`;if(!Q[H])Q[H]={durations:[],cacheHits:0,dbFetches:0};if(Q[H].durations.push(z.duration),z.duration<10)Q[H].cacheHits++;else Q[H].dbFetches++}let U=Object.entries(Q).map(([z,H])=>{let O=[...H.durations].sort((K,B)=>K-B);return{resolver:z,count:H.durations.length,cacheHits:H.cacheHits,dbFetches:H.dbFetches,cacheHitRate:H.durations.length>0?(H.cacheHits/H.durations.length*100).toFixed(1):"0.0",avgDurationMs:H.durations.length>0?(H.durations.reduce((K,B)=>K+B,0)/H.durations.length).toFixed(2):0,minDurationMs:O[0]||0,maxDurationMs:O[O.length-1]||0,p50DurationMs:O[Math.floor(O.length*0.5)]||0,p95DurationMs:O[Math.floor(O.length*0.95)]||0}});return M6({timestamp:new Date().toISOString(),summary:$,resolvers:U,recentOperations:G.slice(-20).map((z)=>({...z,source:z.duration<10?"cache":"database"})),insights:{cacheEffectiveness:U.filter((z)=>parseFloat(z.cacheHitRate)>50).length,slowResolvers:U.filter((z)=>parseFloat(z.avgDurationMs)>100),fastestResolver:U.sort((z,H)=>parseFloat(z.avgDurationMs)-parseFloat(H.avgDurationMs))[0]?.resolver||"N/A",slowestResolver:U.sort((z,H)=>parseFloat(H.avgDurationMs)-parseFloat(z.avgDurationMs))[0]?.resolver||"N/A"}})}catch(X){return s1("GraphQL performance metrics collection failed",X),M6({timestamp:new Date().toISOString(),error:X instanceof Error?X.message:String(X),summary:{totalOperations:0,averageDuration:0,errorRate:0,slowOperations:0},resolvers:[],recentOperations:[]},500)}},tm0=async(Y,J)=>{try{let X=J?.requestId||Y.headers.get("x-request-id")||crypto.randomUUID(),Z=await $X1(X),W=Z.status==="healthy"?200:Z.status==="degraded"?200:503;return new Response(JSON.stringify(Z,null,2),{status:W,headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate","X-Request-ID":X}})}catch(X){return s1("Standardized health check failed",X),M6({status:"critical",timestamp:new Date().toISOString(),error:X instanceof Error?X.message:String(X),requestId:crypto.randomUUID()},503)}},em0=async(Y,J)=>{try{let X=J?.requestId||Y.headers.get("x-request-id")||crypto.randomUUID(),Z=await GX1(X);return new Response(JSON.stringify(Z,null,2),{status:Z.ready?200:503,headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate","X-Request-ID":X}})}catch(X){return s1("Readiness check failed",X),M6({ready:!1,timestamp:new Date().toISOString(),error:X instanceof Error?X.message:String(X),requestId:crypto.randomUUID()},503)}},Yd0=async(Y,J)=>{try{let X=J?.requestId||Y.headers.get("x-request-id")||crypto.randomUUID(),Z=QX1(X);return new Response(JSON.stringify(Z,null,2),{status:200,headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate","X-Request-ID":X}})}catch(X){return s1("Liveness check failed",X),M6({alive:!0,timestamp:new Date().toISOString(),error:X instanceof Error?X.message:String(X),requestId:crypto.randomUUID()},200)}},vl6;var Xd0=w(()=>{k7();YX1();bm0();um0();m5();bK();vl6={basic:mm0,telemetry:dm0,system:cm0,summary:lm0,performance:pm0,performanceHistory:nm0,cache:im0,telemetryDetailed:om0,comprehensive:rm0,graphql:am0,status:tm0,ready:em0,live:Yd0}});var Zd0={};h6(Zd0,{StaticResponses:()=>FL});var FL;var Pf=w(()=>{FL={NOT_FOUND:new Response(JSON.stringify({error:"Not Found"}),{status:404,headers:{"Content-Type":"application/json"}}),METHOD_NOT_ALLOWED:new Response(JSON.stringify({error:"Method Not Allowed"}),{status:405,headers:{"Content-Type":"application/json"}}),TOO_MANY_REQUESTS:new Response(JSON.stringify({error:"Too Many Requests"}),{status:429,headers:{"Content-Type":"application/json"}}),INTERNAL_ERROR:new Response(JSON.stringify({error:"Internal Server Error"}),{status:500,headers:{"Content-Type":"application/json"}}),WS_UPGRADE_FAILED:new Response("WebSocket upgrade failed",{status:400}),OPTIONS:new Response(null,{status:204,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type","Access-Control-Max-Age":"86400"}})}});var hl6,Wd0=async(Y,J,X)=>{if(Y.method==="OPTIONS")return FL.OPTIONS;let Z=await X(),W=new Headers(Z.headers);for(let[$,G]of Object.entries(hl6))W.set($,G);return new Response(Z.body,{status:Z.status,statusText:Z.statusText,headers:W})};var $d0=w(()=>{Pf();hl6={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type","Access-Control-Max-Age":"86400"}});var Gd0,zX1,bl6,yl6,VL,Qd0=async(Y,J,X)=>{let Z=Y.method,W=J.url.pathname;bl6.add(1,{method:Z,path:W}),VL.add(1),Hj(Z,W);try{let $=await X(),G=Date.now()-J.startTime,Q=$.status;Oj(G),yl6.record(G,{method:Z,status_code:Q.toString()});let U=G>1000,z=G>5000;if(Q>=400)s1("Request failed",{requestId:J.requestId,method:Z,route:W,status:Q,duration:`${G}ms`});else if(z)_8("Very slow request detected",{requestId:J.requestId,method:Z,route:W,status:Q,duration:`${G}ms`});else if(U)_8("Slow request",{requestId:J.requestId,method:Z,route:W,status:Q,duration:`${G}ms`});return $}finally{VL.add(-1)}};var HX1=w(()=>{m5();Gd0=q1(t(),1),zX1=Gd0.metrics.getMeter("capellaql-custom-metrics","1.0.0"),bl6=zX1.createCounter("custom_requests_total",{description:"Total number of requests processed"}),yl6=zX1.createHistogram("custom_response_duration",{description:"Response duration in milliseconds",unit:"ms"}),VL=zX1.createUpDownCounter("custom_active_connections",{description:"Number of active connections"})});function cl6(){if(IL)return;IL=setInterval(()=>{let Y=Date.now();for(let[J,X]of DL.entries())if(Y-X.timestamp>dl6)DL.delete(J)},ml6)}function ll6(Y,J){return`${J.clientIp}:${J.url.pathname}`}function pl6(Y,J){let X=Y.headers.get("user-agent");if(X==="K6TestAgent/1.0")return!1;let Z=ll6(Y,J),W=Date.now(),$=DL.get(Z)||{count:0,timestamp:W};if(W-$.timestamp>ul6)$.count=1,$.timestamp=W;else $.count++;DL.set(Z,$);let G=$.count>gl6;if(G)_8("Rate limit exceeded - request blocked",{clientIp:J.clientIp,userAgent:X?.substring(0,100),requestCount:$.count,rateLimitKey:Z,url:J.url.pathname,method:Y.method});return G}function zd0(){if(IL)clearInterval(IL),IL=null;DL.clear()}var gl6=500,ul6=60000,ml6=60000,dl6=300000,DL,IL=null,Ud0=async(Y,J,X)=>{if(pl6(Y,J))return s1("Rate limit exceeded - blocking request",{clientIp:J.clientIp,method:Y.method,route:J.url.pathname,userAgent:Y.headers.get("user-agent")?.substring(0,100),requestId:J.requestId}),FL.TOO_MANY_REQUESTS;return X()};var Hd0=w(()=>{m5();Pf();DL=new Map;cl6()});function il6(){return["default-src 'self'",`script-src 'self' 'unsafe-inline'${nl6?" 'unsafe-eval'":""} https: http:`,"style-src 'self' 'unsafe-inline' https: http:","img-src 'self' data: https: http:","font-src 'self' https: http:","object-src 'none'","base-uri 'self'","form-action 'self'","frame-ancestors 'none'","connect-src 'self' https: http:"].join("; ")}var nl6,ol6,Od0=async(Y,J,X)=>{let Z=await X(),W=new Headers(Z.headers);for(let[$,G]of Object.entries(ol6))W.set($,G);return W.set("X-Request-ID",J.requestId),new Response(Z.body,{status:Z.status,statusText:Z.statusText,headers:W})};var Kd0=w(()=>{f5();nl6=O4.telemetry.DEPLOYMENT_ENVIRONMENT==="development"||O4.runtime.NODE_ENV==="development";ol6={"Content-Security-Policy":il6(),"X-XSS-Protection":"1; mode=block","X-Frame-Options":"SAMEORIGIN","X-Content-Type-Options":"nosniff","Referrer-Policy":"strict-origin-when-cross-origin"}});function al6(Y,J){let X=Y.method,Z=J.url.pathname;if(Z==="/health"||Z.startsWith("/health/"))return`${X} ${Z}`;else if(Z==="/graphql")return"GraphQL Request";else if(Z==="/dashboard")return`${X} /dashboard`;else return`${X} ${Z}`}async function sl6(Y){if(Y.method!=="POST")return null;try{let X=await Y.clone().text();if(!X)return null;let Z=JSON.parse(X);if(Z&&typeof Z==="object")return{operationName:Z.operationName,query:Z.query,variables:Z.variables}}catch{}return null}var wL,rl6,Bd0=async(Y,J,X)=>{let Z=al6(Y,J);return rl6.startActiveSpan(Z,async(W)=>{try{if(W.setAttributes({"http.request_id":J.requestId,"http.method":Y.method,"http.url":Y.url,"http.client_ip":J.clientIp}),J.url.pathname==="/graphql"){let G=await sl6(Y);if(G){if(G.operationName)W.updateName(`GraphQL: ${G.operationName}`),W.setAttribute("graphql.operation_name",G.operationName);if(G.query)W.setAttribute("graphql.query",G.query);if(G.variables)W.setAttribute("graphql.variables",JSON.stringify(G.variables))}}let $=await X();if(W.setAttribute("http.status_code",$.status),$.status>=400)W.setStatus({code:wL.SpanStatusCode.ERROR});return $}catch($){throw W.recordException($),W.setStatus({code:wL.SpanStatusCode.ERROR}),s1("Error in request handler",$),$}finally{W.end()}})};var qd0=w(()=>{m5();wL=q1(t(),1),rl6=wL.trace.getTracer("bun-server")});var Fd0={};h6(Fd0,{withRequestId:()=>Yp6,tracingMiddleware:()=>Bd0,securityMiddleware:()=>Od0,rateLimitMiddleware:()=>Ud0,loggingMiddleware:()=>Qd0,corsMiddleware:()=>Wd0,compose:()=>tl6,cleanupRateLimitStore:()=>zd0,applyHeaders:()=>el6});function tl6(...Y){return async(J,X,Z)=>{let W=-1,$=async(G)=>{if(G<=W)throw Error("next() called multiple times");if(W=G,G>=Y.length)return Z();let Q=Y[G];return Q(J,X,()=>$(G+1))};return $(0)}}function el6(Y){return(J)=>{let X=new Headers(J.headers);for(let[Z,W]of Object.entries(Y))X.set(Z,W);return new Response(J.body,{status:J.status,statusText:J.statusText,headers:X})}}function Yp6(Y){return async(J,X)=>{let Z=await Y(J,X),W=new Headers(Z.headers);return W.set("X-Request-ID",X.requestId),W.set("Access-Control-Allow-Origin","*"),new Response(Z.body,{status:Z.status,statusText:Z.statusText,headers:W})}}var Vd0=w(()=>{$d0();HX1();Hd0();Kd0();qd0()});var Id0={};h6(Id0,{websocketHandlers:()=>Jp6,shouldUpgradeWebSocket:()=>Xp6});function Xp6(Y){let J=Y.headers.get("upgrade"),X=new URL(Y.url);return J?.toLowerCase()==="websocket"&&X.pathname==="/graphql"}var Jp6;var Dd0=w(()=>{m5();HX1();Jp6={message(Y,J){try{let X=JSON.parse(J.toString());if(X.type==="connection_init")Y.send(JSON.stringify({type:"connection_ack"}));else if(X.type==="start")h0("GraphQL subscription started",{id:X.id,operationType:"subscription",requestId:Y.data.requestId});else if(X.type==="stop")h0("GraphQL subscription stopped",{id:X.id,operationType:"subscription",requestId:Y.data.requestId})}catch(X){s1("WebSocket message handling error",X),Y.send(JSON.stringify({type:"error",payload:{message:"Invalid message format"}}))}},open(Y){VL.add(1),h0("WebSocket connection opened",{requestId:Y.data.requestId,clientIp:Y.data.clientIp})},close(Y,J,X){VL.add(-1),h0("WebSocket connection closed",{requestId:Y.data.requestId,code:J,reason:X,connectionDuration:Date.now()-Y.data.connectedAt})},error(Y,J){s1("WebSocket connection error",{error:J.message,errorType:J.constructor.name,connectionType:"websocket",requestId:Y.data.requestId})}}});Nf();m5();R5();import{isIP as wd0}from"net";import*as Mq from"path";import{fileURLToPath as Zp6}from"url";await i01();await g0.initialize();var[{default:s5},{graphqlHandler:Wp6},{healthHandlers:_7},$p6,Gp6,Qp6]=await Promise.all([Promise.resolve().then(() => (f5(),kW1)),Promise.resolve().then(() => (_m0(),km0)),Promise.resolve().then(() => (Xd0(),Jd0)),Promise.resolve().then(() => (Vd0(),Fd0)),Promise.resolve().then(() => (Pf(),Zd0)),Promise.resolve().then(() => (Dd0(),Id0))]),{cleanupRateLimitStore:Up6,compose:zp6,corsMiddleware:Hp6,loggingMiddleware:Op6,rateLimitMiddleware:Kp6,securityMiddleware:Bp6,tracingMiddleware:qp6}=$p6,{StaticResponses:Lf}=Gp6,{shouldUpgradeWebSocket:Fp6,websocketHandlers:Vp6}=Qp6,Ip6=Zp6(import.meta.url),Dp6=Mq.dirname(Ip6);if(typeof globalThis.CN_ROOT>"u")globalThis.CN_ROOT=s5.runtime.CN_ROOT||Mq.resolve(Dp6,"..");if(typeof globalThis.CN_CXXCBC_CACHE_DIR>"u")globalThis.CN_CXXCBC_CACHE_DIR=s5.runtime.CN_CXXCBC_CACHE_DIR||Mq.join(globalThis.CN_ROOT,"deps","couchbase-cxx-cache");if(typeof globalThis.ENV_TRUE>"u")globalThis.ENV_TRUE=["true","1","y","yes","on"];function wp6(Y){let J=Y.headers.get("x-forwarded-for");if(J){let Z=J.split(",").map((W)=>W.trim());for(let W of Z)if(wd0(W))return W}let X=[Y.headers.get("cf-connecting-ip"),Y.headers.get("x-real-ip"),Y.headers.get("x-client-ip")];for(let Z of X)if(Z&&wd0(Z))return Z;return"unknown"}function a5(Y){let J=new URL(Y.url);return{requestId:ML(),startTime:Date.now(),clientIp:wp6(Y),url:J,headers:Y.headers,method:Y.method}}function J7(Y){let J=zp6(Kp6,Hp6,Bp6,qp6,Op6);return async(X,Z)=>{return J(X,Z,()=>Y(X,Z))}}var x7={basic:J7(_7.basic),telemetry:J7(_7.telemetry),system:J7(_7.system),summary:J7(_7.summary),performance:J7(_7.performance),performanceHistory:J7(_7.performanceHistory),cache:J7(_7.cache),telemetryDetailed:J7(_7.telemetryDetailed),comprehensive:J7(_7.comprehensive),graphql:J7(_7.graphql),status:J7(_7.status),ready:J7(_7.ready),live:J7(_7.live)},Ad0=J7(Wp6),Mf=null,Pd0=!1;async function Ap6(){L1("Server starting..."),Nw.initialize(),zj(),L1("Server initialization completed"),Mf=Bun.serve({hostname:s5.deployment.HOSTNAME||"0.0.0.0",port:s5.application.PORT,maxRequestBodySize:524288,idleTimeout:30,development:s5.telemetry.DEPLOYMENT_ENVIRONMENT==="development",routes:{"/health":async(W)=>{let $=a5(W);return x7.basic(W,$)},"/health/telemetry":async(W)=>{let $=a5(W);return x7.telemetry(W,$)},"/health/system":async(W)=>{let $=a5(W);return x7.system(W,$)},"/health/summary":async(W)=>{let $=a5(W);return x7.summary(W,$)},"/health/performance":async(W)=>{let $=a5(W);return x7.performance(W,$)},"/health/performance/history":async(W)=>{let $=a5(W);return x7.performanceHistory(W,$)},"/health/cache":async(W)=>{let $=a5(W);return x7.cache(W,$)},"/health/telemetry/detailed":async(W)=>{let $=a5(W);return x7.telemetryDetailed(W,$)},"/health/comprehensive":async(W)=>{let $=a5(W);return x7.comprehensive(W,$)},"/health/graphql":async(W)=>{let $=a5(W);return x7.graphql(W,$)},"/health/status":async(W)=>{let $=a5(W);return x7.status(W,$)},"/health/ready":async(W)=>{let $=a5(W);return x7.ready(W,$)},"/health/live":async(W)=>{let $=a5(W);return x7.live(W,$)},"/graphql":{GET:async(W)=>{let $=a5(W);return Ad0(W,$)},POST:async(W)=>{let $=a5(W);return Ad0(W,$)},OPTIONS:()=>Lf.OPTIONS}},async fetch(W,$){let G=a5(W);if(Fp6(W)){let Q={requestId:G.requestId,clientIp:G.clientIp,connectedAt:Date.now()};if($.upgrade(W,{data:Q}))return;return Lf.WS_UPGRADE_FAILED}return Lf.NOT_FOUND},websocket:Vp6,error(W){return s1("Unhandled server error",W),Lf.INTERNAL_ERROR}});let Y=s5.application.BASE_URL||"http://localhost",J=`${Y}:${s5.application.PORT}/graphql`,X=`${Y}:${s5.application.PORT}/health`,Z=`${Y}:${s5.application.PORT}/health/telemetry`;return L1("CapellaQL Server started",{serverPort:s5.application.PORT,hostname:s5.deployment.HOSTNAME||"0.0.0.0",environment:s5.telemetry.DEPLOYMENT_ENVIRONMENT,maxRequestBodySize:"512KB",endpoints:{graphql:J,health:X,telemetryHealth:Z},telemetry:{enabled:s5.telemetry.ENABLE_OPENTELEMETRY,tracesEndpoint:s5.telemetry.TRACES_ENDPOINT,metricsEndpoint:s5.telemetry.METRICS_ENDPOINT,logsEndpoint:s5.telemetry.LOGS_ENDPOINT},runtime:{name:"bun",version:Bun.version}}),Pp6(),Mf}function Pp6(){let Y=async(J)=>{if(Pd0){_8(`Shutdown already in progress, ignoring ${J}`,{signal:J,shutdownInProgress:!0});return}Pd0=!0,L1("Graceful shutdown initiated",{signal:J,timestamp:new Date().toISOString(),uptime:process.uptime()});try{let{shutdownPerformanceMonitor:X}=await Promise.resolve().then(() => (YX1(),vm0)),{shutdownBatchCoordinator:Z}=await Promise.resolve().then(() => (Af(),wf)),W=Date.now();if(Up6(),await Z(),await g0.close(),X(),Mf)Mf.stop();let $=Date.now()-W;L1("Graceful shutdown completed",{signal:J,shutdownDurationMs:$,uptime:process.uptime(),timestamp:new Date().toISOString()}),process.exit(0)}catch(X){s1("Error during graceful shutdown - forcing exit",{error:X instanceof Error?X.message:String(X),signal:J,uptime:process.uptime()}),process.exit(1)}};["SIGINT","SIGTERM","SIGQUIT"].forEach((J)=>{process.on(J,()=>Y(J))})}Ap6().catch((Y)=>{console.error("Failed to start server:",Y),process.exit(1)});
